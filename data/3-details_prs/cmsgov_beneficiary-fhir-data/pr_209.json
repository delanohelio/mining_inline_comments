{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzcwNTcyNzM1", "number": 209, "title": "BLUEBUTTON-1787: GitHub Actions CI for Java and Terraform development", "bodyText": "This PR adds the following two GitHub Actions workflows:\n\nOn a PR that has changes inside the apps directory, run a mvn verify against the parent pom of the apps directory.  This will ensure all unit and integration tests pass prior to being merged.\nOn a PR that has changes inside the terraform directory, run a terraform validate against each independent piece of terraform state.  This will ensure terraform is syntactically valid and internally consistent prior to being merged.\n\nThe following changes were made to the mgmt stateful module:\n\nAdds a user, policy, and attachment that allows the GitHub Actions runner to run S3 integration tests.\n\nDiscussion:\n\nWhat else could be added/linted without increasing the security impact?  Some of the other terraform linting tools require access to the remote state so I don't think we'd want to go down that path unless we GitHub runners in our own environment.\nIs my current assessment that creating an AWS user for GitHub Actions to run the Java S3 integration tests is acceptable from a security standpoint?  @StewGoin\nThe setup-java action uses the \"Zulu Community distribution of OpenJDK\" which I have never heard of, and could only find specific details on in the following reddit post: https://www.reddit.com/r/java/comments/8jvv8e/what_would_be_the_reasons_to_use_the_zulu_build/?sort=top  It seems safe for our use cases but worth putting it out there in case anyone has concerns.", "createdAt": "2020-02-03T23:25:16Z", "url": "https://github.com/CMSgov/beneficiary-fhir-data/pull/209", "merged": true, "mergeCommit": {"oid": "8788ce45b6952140f760442f696b8e2772585bcf"}, "closed": true, "closedAt": "2020-02-06T19:04:03Z", "author": {"login": "njdister"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcA1Gm0AH2gAyMzcwNTcyNzM1OjI3ZDRmMGYyMWNlZDJmZmJiZWQ1YzJjOTJhZDA3NDY0Yzg0ODRjYmQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcBMhidAFqTM1MzQyOTExOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "27d4f0f21ced2ffbbed5c2c92ad07464c8484cbd", "author": {"user": null}, "url": "https://github.com/CMSgov/beneficiary-fhir-data/commit/27d4f0f21ced2ffbbed5c2c92ad07464c8484cbd", "committedDate": "2020-02-03T22:58:16Z", "message": "Add GitHub Actions workflows for Java and Terraform development, add user for S3 ITs"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUyOTYzNzk5", "url": "https://github.com/CMSgov/beneficiary-fhir-data/pull/209#pullrequestreview-352963799", "createdAt": "2020-02-04T13:15:05Z", "commit": {"oid": "27d4f0f21ced2ffbbed5c2c92ad07464c8484cbd"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQxMzoxNTowNVrOFlTkcw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQxMzoxNTowNVrOFlTkcw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDY2MjI1OQ==", "bodyText": "Needs another job to run linting.\n mvn com.coveo:fmt-maven-plugin:check", "url": "https://github.com/CMSgov/beneficiary-fhir-data/pull/209#discussion_r374662259", "createdAt": "2020-02-04T13:15:05Z", "author": {"login": "whytheplatypus"}, "path": ".github/workflows/ci-java.yml", "diffHunk": "@@ -0,0 +1,40 @@\n+name: 'CI - Java'\n+on:\n+  pull_request:\n+    paths:\n+      - apps/**\n+jobs:\n+  mvn-verify:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "27d4f0f21ced2ffbbed5c2c92ad07464c8484cbd"}, "originalPosition": 7}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9f5bfe96358bc1f15c5473bbeeef4242771fd3ee", "author": {"user": null}, "url": "https://github.com/CMSgov/beneficiary-fhir-data/commit/9f5bfe96358bc1f15c5473bbeeef4242771fd3ee", "committedDate": "2020-02-04T21:34:19Z", "message": "Add linting job to Java CI via fmt-maven-plugin"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUzMzIyMTUx", "url": "https://github.com/CMSgov/beneficiary-fhir-data/pull/209#pullrequestreview-353322151", "createdAt": "2020-02-04T21:42:21Z", "commit": {"oid": "9f5bfe96358bc1f15c5473bbeeef4242771fd3ee"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b28b26af4294f59f149aa187849ea945342f51d4", "author": {"user": null}, "url": "https://github.com/CMSgov/beneficiary-fhir-data/commit/b28b26af4294f59f149aa187849ea945342f51d4", "committedDate": "2020-02-04T22:04:28Z", "message": "Make maven jobs more DRY via matrix builds"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUzNDI5MTE4", "url": "https://github.com/CMSgov/beneficiary-fhir-data/pull/209#pullrequestreview-353429118", "createdAt": "2020-02-05T02:15:30Z", "commit": {"oid": "b28b26af4294f59f149aa187849ea945342f51d4"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 665, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}