{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE0Mzc2MDE2", "number": 386, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wM1QwMDo1NToxM1rOE0nuwQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMFQyMzoxODoxNVrOE3c3oA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIzNjEyMzUzOnYy", "diffSide": "LEFT", "path": "docs/request-audit-headers.md", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wM1QwMDo1NToxM1rOHsc3pw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMFQyMToxMzo0MFrOHwv1Ig==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjM3MjM5MQ==", "bodyText": "Will requests that contain these deprecated headers be rejected?\nFor reference, the code in BCDA which sets these headers is here.\nCC: @mtrang1263", "url": "https://github.com/CMSgov/beneficiary-fhir-data/pull/386#discussion_r516372391", "createdAt": "2020-11-03T00:55:13Z", "author": {"login": "msnook"}, "path": "docs/request-audit-headers.md", "diffHunk": "@@ -25,28 +25,13 @@ For synchronous (i.e. non-bulk) requests, BFD users SHALL include meaningful val\n * `BlueButton-UserId`: the unique ID in the frontend system for the user (e.g. beneficiary) that data is being requested on behalf of.\n * `BlueButton-User`: the human-readable login ID (e.g. email address) in the frontend system for the user (e.g. beneficiary) that the data is being requested on behalf of.\n * `BlueButton-BeneficiaryId`: the unique beneificary ID (e.g. `Patient.id`) from BFD for the user the beneficiary whose data is being requested.\n+* `x-forwarded-for`: a standard header for identifying the originating IP address of a client connecting to a web server through an HTTP proxy or a load balancer.\n \n ## Asynchronous Requests\n \n For asynchronous (i.e. bulk) requests, BFD users SHALL include meaningful values for as many as possible of the following HTTP headers.\n \n-### BCDA", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cdb38b193e69d7bc65f603b4e9659ebc6d459873"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDg3NzM0Ng==", "bodyText": "No. These headers are only used for auditing purposes.", "url": "https://github.com/CMSgov/beneficiary-fhir-data/pull/386#discussion_r520877346", "createdAt": "2020-11-10T21:13:40Z", "author": {"login": "jzulim"}, "path": "docs/request-audit-headers.md", "diffHunk": "@@ -25,28 +25,13 @@ For synchronous (i.e. non-bulk) requests, BFD users SHALL include meaningful val\n * `BlueButton-UserId`: the unique ID in the frontend system for the user (e.g. beneficiary) that data is being requested on behalf of.\n * `BlueButton-User`: the human-readable login ID (e.g. email address) in the frontend system for the user (e.g. beneficiary) that the data is being requested on behalf of.\n * `BlueButton-BeneficiaryId`: the unique beneificary ID (e.g. `Patient.id`) from BFD for the user the beneficiary whose data is being requested.\n+* `x-forwarded-for`: a standard header for identifying the originating IP address of a client connecting to a web server through an HTTP proxy or a load balancer.\n \n ## Asynchronous Requests\n \n For asynchronous (i.e. bulk) requests, BFD users SHALL include meaningful values for as many as possible of the following HTTP headers.\n \n-### BCDA", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjM3MjM5MQ=="}, "originalCommit": {"oid": "cdb38b193e69d7bc65f603b4e9659ebc6d459873"}, "originalPosition": 19}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI1OTUwOTI4OnYy", "diffSide": "RIGHT", "path": "docs/request-audit-headers.md", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wOVQxNjozOTo1OVrOHv3X9Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMFQyMToxNDo1OVrOHwv3xw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTk1MjM3Mw==", "bodyText": "What is the recommended migration path for these headers?\nShould BCDA start sending BULK-CLIENTID and BULK-JOBID in addition to BCDA-CMSID and BCDA-JOBID?\nAnd if we do not send these two headers (and continue sending BCDA-CMSID and BCDA-JOBID), will our request get rejected?", "url": "https://github.com/CMSgov/beneficiary-fhir-data/pull/386#discussion_r519952373", "createdAt": "2020-11-09T16:39:59Z", "author": {"login": "mtrang1263"}, "path": "docs/request-audit-headers.md", "diffHunk": "@@ -25,28 +25,13 @@ For synchronous (i.e. non-bulk) requests, BFD users SHALL include meaningful val\n * `BlueButton-UserId`: the unique ID in the frontend system for the user (e.g. beneficiary) that data is being requested on behalf of.\n * `BlueButton-User`: the human-readable login ID (e.g. email address) in the frontend system for the user (e.g. beneficiary) that the data is being requested on behalf of.\n * `BlueButton-BeneficiaryId`: the unique beneificary ID (e.g. `Patient.id`) from BFD for the user the beneficiary whose data is being requested.\n+* `x-forwarded-for`: a standard header for identifying the originating IP address of a client connecting to a web server through an HTTP proxy or a load balancer.\n \n ## Asynchronous Requests\n \n For asynchronous (i.e. bulk) requests, BFD users SHALL include meaningful values for as many as possible of the following HTTP headers.\n \n-### BCDA\n-\n-* `BlueButton-OriginalQueryId`: (see above; same thing)\n-    * For asynchronous jobs, users SHALL use the `BlueButton-OriginalQueryId` for the HTTP request that created/submitted/whatever the job.\n-* `BCDA-CMSID`: the 5 digit A1234 Identifier for ACOs\n-* `BCDA-JOBID`: integer generated by DB sequence\n-\n-### AB2D\n-\n-* `BlueButton-OriginalQueryId`: (see above; same thing)\n-    * For asynchronous jobs, users SHALL use the `BlueButton-OriginalQueryId` for the HTTP request that created/submitted/whatever the job.\n-* `AB2D-CMSID`: the Part D contract ID\n-* `AB2D-JOBID`: integer generated by DB sequence\n-\n-### DPC\n-\n * `BlueButton-OriginalQueryId`: (see above; same thing)\n     * For asynchronous jobs, users SHALL use the `BlueButton-OriginalQueryId` for the HTTP request that created/submitted/whatever the job.\n-* `DPC-CMSID`: The NPI of the downstream requesting provider or organization.\n-* `DPC-JOBID`: integer generated by DB sequence\n+* `BULK-CLIENTID`: a unique identifier of the bulk client for whom this request is for (i.e. ACO ID, NPI, Part D Contract)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cdb38b193e69d7bc65f603b4e9659ebc6d459873"}, "originalPosition": 39}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDg3ODAyMw==", "bodyText": "@mtrang1263 No soft migration is necessary. We can cut over in a hard fashion. These headers are used for audit purposes only. These specific bulk headers do not impact the validity of requests to BFD.", "url": "https://github.com/CMSgov/beneficiary-fhir-data/pull/386#discussion_r520878023", "createdAt": "2020-11-10T21:14:59Z", "author": {"login": "jzulim"}, "path": "docs/request-audit-headers.md", "diffHunk": "@@ -25,28 +25,13 @@ For synchronous (i.e. non-bulk) requests, BFD users SHALL include meaningful val\n * `BlueButton-UserId`: the unique ID in the frontend system for the user (e.g. beneficiary) that data is being requested on behalf of.\n * `BlueButton-User`: the human-readable login ID (e.g. email address) in the frontend system for the user (e.g. beneficiary) that the data is being requested on behalf of.\n * `BlueButton-BeneficiaryId`: the unique beneificary ID (e.g. `Patient.id`) from BFD for the user the beneficiary whose data is being requested.\n+* `x-forwarded-for`: a standard header for identifying the originating IP address of a client connecting to a web server through an HTTP proxy or a load balancer.\n \n ## Asynchronous Requests\n \n For asynchronous (i.e. bulk) requests, BFD users SHALL include meaningful values for as many as possible of the following HTTP headers.\n \n-### BCDA\n-\n-* `BlueButton-OriginalQueryId`: (see above; same thing)\n-    * For asynchronous jobs, users SHALL use the `BlueButton-OriginalQueryId` for the HTTP request that created/submitted/whatever the job.\n-* `BCDA-CMSID`: the 5 digit A1234 Identifier for ACOs\n-* `BCDA-JOBID`: integer generated by DB sequence\n-\n-### AB2D\n-\n-* `BlueButton-OriginalQueryId`: (see above; same thing)\n-    * For asynchronous jobs, users SHALL use the `BlueButton-OriginalQueryId` for the HTTP request that created/submitted/whatever the job.\n-* `AB2D-CMSID`: the Part D contract ID\n-* `AB2D-JOBID`: integer generated by DB sequence\n-\n-### DPC\n-\n * `BlueButton-OriginalQueryId`: (see above; same thing)\n     * For asynchronous jobs, users SHALL use the `BlueButton-OriginalQueryId` for the HTTP request that created/submitted/whatever the job.\n-* `DPC-CMSID`: The NPI of the downstream requesting provider or organization.\n-* `DPC-JOBID`: integer generated by DB sequence\n+* `BULK-CLIENTID`: a unique identifier of the bulk client for whom this request is for (i.e. ACO ID, NPI, Part D Contract)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTk1MjM3Mw=="}, "originalCommit": {"oid": "cdb38b193e69d7bc65f603b4e9659ebc6d459873"}, "originalPosition": 39}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI2NTQ3MjIzOnYy", "diffSide": "RIGHT", "path": "docs/request-audit-headers.md", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMFQyMToyOTowN1rOHwwUAw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMFQyMTo0NjoxMFrOHww2hQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDg4NTI1MQ==", "bodyText": "Do we need another header to differentiate between the various partner applications? Or do we believe that BULK-CLIENTID can be leverage to see who the source was (e.g. BCDA request would have BULK-CLIENTID set to A****, V***, E***)", "url": "https://github.com/CMSgov/beneficiary-fhir-data/pull/386#discussion_r520885251", "createdAt": "2020-11-10T21:29:07Z", "author": {"login": "mtrang1263"}, "path": "docs/request-audit-headers.md", "diffHunk": "@@ -25,28 +25,13 @@ For synchronous (i.e. non-bulk) requests, BFD users SHALL include meaningful val\n * `BlueButton-UserId`: the unique ID in the frontend system for the user (e.g. beneficiary) that data is being requested on behalf of.\n * `BlueButton-User`: the human-readable login ID (e.g. email address) in the frontend system for the user (e.g. beneficiary) that the data is being requested on behalf of.\n * `BlueButton-BeneficiaryId`: the unique beneificary ID (e.g. `Patient.id`) from BFD for the user the beneficiary whose data is being requested.\n+* `x-forwarded-for`: a standard header for identifying the originating IP address of a client connecting to a web server through an HTTP proxy or a load balancer.\n \n ## Asynchronous Requests", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cdb38b193e69d7bc65f603b4e9659ebc6d459873"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDg5NDA4NQ==", "bodyText": "We record the TLS certificate presented in the handshake as another header, which we use to key off.", "url": "https://github.com/CMSgov/beneficiary-fhir-data/pull/386#discussion_r520894085", "createdAt": "2020-11-10T21:46:10Z", "author": {"login": "jzulim"}, "path": "docs/request-audit-headers.md", "diffHunk": "@@ -25,28 +25,13 @@ For synchronous (i.e. non-bulk) requests, BFD users SHALL include meaningful val\n * `BlueButton-UserId`: the unique ID in the frontend system for the user (e.g. beneficiary) that data is being requested on behalf of.\n * `BlueButton-User`: the human-readable login ID (e.g. email address) in the frontend system for the user (e.g. beneficiary) that the data is being requested on behalf of.\n * `BlueButton-BeneficiaryId`: the unique beneificary ID (e.g. `Patient.id`) from BFD for the user the beneficiary whose data is being requested.\n+* `x-forwarded-for`: a standard header for identifying the originating IP address of a client connecting to a web server through an HTTP proxy or a load balancer.\n \n ## Asynchronous Requests", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDg4NTI1MQ=="}, "originalCommit": {"oid": "cdb38b193e69d7bc65f603b4e9659ebc6d459873"}, "originalPosition": 15}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI2NTc3OTUzOnYy", "diffSide": "RIGHT", "path": "docs/request-audit-headers.md", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMFQyMzowOTozM1rOHwzL0A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMVQxNzoxNDo1MFrOHxWi0Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDkzMjMwNA==", "bodyText": "We use UUIDs for almost everything in the backend, including job ids. We do not use db sequences. Is an integer really a must?", "url": "https://github.com/CMSgov/beneficiary-fhir-data/pull/386#discussion_r520932304", "createdAt": "2020-11-10T23:09:33Z", "author": {"login": "DeirdreHolub"}, "path": "docs/request-audit-headers.md", "diffHunk": "@@ -25,28 +25,13 @@ For synchronous (i.e. non-bulk) requests, BFD users SHALL include meaningful val\n * `BlueButton-UserId`: the unique ID in the frontend system for the user (e.g. beneficiary) that data is being requested on behalf of.\n * `BlueButton-User`: the human-readable login ID (e.g. email address) in the frontend system for the user (e.g. beneficiary) that the data is being requested on behalf of.\n * `BlueButton-BeneficiaryId`: the unique beneificary ID (e.g. `Patient.id`) from BFD for the user the beneficiary whose data is being requested.\n+* `x-forwarded-for`: a standard header for identifying the originating IP address of a client connecting to a web server through an HTTP proxy or a load balancer.\n \n ## Asynchronous Requests\n \n For asynchronous (i.e. bulk) requests, BFD users SHALL include meaningful values for as many as possible of the following HTTP headers.\n \n-### BCDA\n-\n-* `BlueButton-OriginalQueryId`: (see above; same thing)\n-    * For asynchronous jobs, users SHALL use the `BlueButton-OriginalQueryId` for the HTTP request that created/submitted/whatever the job.\n-* `BCDA-CMSID`: the 5 digit A1234 Identifier for ACOs\n-* `BCDA-JOBID`: integer generated by DB sequence\n-\n-### AB2D\n-\n-* `BlueButton-OriginalQueryId`: (see above; same thing)\n-    * For asynchronous jobs, users SHALL use the `BlueButton-OriginalQueryId` for the HTTP request that created/submitted/whatever the job.\n-* `AB2D-CMSID`: the Part D contract ID\n-* `AB2D-JOBID`: integer generated by DB sequence\n-\n-### DPC\n-\n * `BlueButton-OriginalQueryId`: (see above; same thing)\n     * For asynchronous jobs, users SHALL use the `BlueButton-OriginalQueryId` for the HTTP request that created/submitted/whatever the job.\n-* `DPC-CMSID`: The NPI of the downstream requesting provider or organization.\n-* `DPC-JOBID`: integer generated by DB sequence\n+* `BULK-CLIENTID`: a unique identifier of the bulk client for whom this request is for (i.e. ACO ID, NPI, Part D Contract)\n+* `BULK-JOBID`: integer generated by DB sequence", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cdb38b193e69d7bc65f603b4e9659ebc6d459873"}, "originalPosition": 40}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTUxMTYzMw==", "bodyText": "This is also ok.", "url": "https://github.com/CMSgov/beneficiary-fhir-data/pull/386#discussion_r521511633", "createdAt": "2020-11-11T17:14:50Z", "author": {"login": "jzulim"}, "path": "docs/request-audit-headers.md", "diffHunk": "@@ -25,28 +25,13 @@ For synchronous (i.e. non-bulk) requests, BFD users SHALL include meaningful val\n * `BlueButton-UserId`: the unique ID in the frontend system for the user (e.g. beneficiary) that data is being requested on behalf of.\n * `BlueButton-User`: the human-readable login ID (e.g. email address) in the frontend system for the user (e.g. beneficiary) that the data is being requested on behalf of.\n * `BlueButton-BeneficiaryId`: the unique beneificary ID (e.g. `Patient.id`) from BFD for the user the beneficiary whose data is being requested.\n+* `x-forwarded-for`: a standard header for identifying the originating IP address of a client connecting to a web server through an HTTP proxy or a load balancer.\n \n ## Asynchronous Requests\n \n For asynchronous (i.e. bulk) requests, BFD users SHALL include meaningful values for as many as possible of the following HTTP headers.\n \n-### BCDA\n-\n-* `BlueButton-OriginalQueryId`: (see above; same thing)\n-    * For asynchronous jobs, users SHALL use the `BlueButton-OriginalQueryId` for the HTTP request that created/submitted/whatever the job.\n-* `BCDA-CMSID`: the 5 digit A1234 Identifier for ACOs\n-* `BCDA-JOBID`: integer generated by DB sequence\n-\n-### AB2D\n-\n-* `BlueButton-OriginalQueryId`: (see above; same thing)\n-    * For asynchronous jobs, users SHALL use the `BlueButton-OriginalQueryId` for the HTTP request that created/submitted/whatever the job.\n-* `AB2D-CMSID`: the Part D contract ID\n-* `AB2D-JOBID`: integer generated by DB sequence\n-\n-### DPC\n-\n * `BlueButton-OriginalQueryId`: (see above; same thing)\n     * For asynchronous jobs, users SHALL use the `BlueButton-OriginalQueryId` for the HTTP request that created/submitted/whatever the job.\n-* `DPC-CMSID`: The NPI of the downstream requesting provider or organization.\n-* `DPC-JOBID`: integer generated by DB sequence\n+* `BULK-CLIENTID`: a unique identifier of the bulk client for whom this request is for (i.e. ACO ID, NPI, Part D Contract)\n+* `BULK-JOBID`: integer generated by DB sequence", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDkzMjMwNA=="}, "originalCommit": {"oid": "cdb38b193e69d7bc65f603b4e9659ebc6d459873"}, "originalPosition": 40}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI2NTgwMTI4OnYy", "diffSide": "RIGHT", "path": "docs/request-audit-headers.md", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMFQyMzoxODoxNVrOHwzZFg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMVQxNzoxMzozNlrOHxWfsg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDkzNTcwMg==", "bodyText": "DPC uses UUIDs as internal identifiers, as mentioned elsewhere in another comment. DPC logging always includes the UUID, not the NPI. Any problem with using UUID here?", "url": "https://github.com/CMSgov/beneficiary-fhir-data/pull/386#discussion_r520935702", "createdAt": "2020-11-10T23:18:15Z", "author": {"login": "DeirdreHolub"}, "path": "docs/request-audit-headers.md", "diffHunk": "@@ -25,28 +25,13 @@ For synchronous (i.e. non-bulk) requests, BFD users SHALL include meaningful val\n * `BlueButton-UserId`: the unique ID in the frontend system for the user (e.g. beneficiary) that data is being requested on behalf of.\n * `BlueButton-User`: the human-readable login ID (e.g. email address) in the frontend system for the user (e.g. beneficiary) that the data is being requested on behalf of.\n * `BlueButton-BeneficiaryId`: the unique beneificary ID (e.g. `Patient.id`) from BFD for the user the beneficiary whose data is being requested.\n+* `x-forwarded-for`: a standard header for identifying the originating IP address of a client connecting to a web server through an HTTP proxy or a load balancer.\n \n ## Asynchronous Requests\n \n For asynchronous (i.e. bulk) requests, BFD users SHALL include meaningful values for as many as possible of the following HTTP headers.\n \n-### BCDA\n-\n-* `BlueButton-OriginalQueryId`: (see above; same thing)\n-    * For asynchronous jobs, users SHALL use the `BlueButton-OriginalQueryId` for the HTTP request that created/submitted/whatever the job.\n-* `BCDA-CMSID`: the 5 digit A1234 Identifier for ACOs\n-* `BCDA-JOBID`: integer generated by DB sequence\n-\n-### AB2D\n-\n-* `BlueButton-OriginalQueryId`: (see above; same thing)\n-    * For asynchronous jobs, users SHALL use the `BlueButton-OriginalQueryId` for the HTTP request that created/submitted/whatever the job.\n-* `AB2D-CMSID`: the Part D contract ID\n-* `AB2D-JOBID`: integer generated by DB sequence\n-\n-### DPC\n-\n * `BlueButton-OriginalQueryId`: (see above; same thing)\n     * For asynchronous jobs, users SHALL use the `BlueButton-OriginalQueryId` for the HTTP request that created/submitted/whatever the job.\n-* `DPC-CMSID`: The NPI of the downstream requesting provider or organization.\n-* `DPC-JOBID`: integer generated by DB sequence\n+* `BULK-CLIENTID`: a unique identifier of the bulk client for whom this request is for (i.e. ACO ID, NPI, Part D Contract)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cdb38b193e69d7bc65f603b4e9659ebc6d459873"}, "originalPosition": 39}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTUxMDgzNA==", "bodyText": "This will be ok for us. Thanks.", "url": "https://github.com/CMSgov/beneficiary-fhir-data/pull/386#discussion_r521510834", "createdAt": "2020-11-11T17:13:36Z", "author": {"login": "jzulim"}, "path": "docs/request-audit-headers.md", "diffHunk": "@@ -25,28 +25,13 @@ For synchronous (i.e. non-bulk) requests, BFD users SHALL include meaningful val\n * `BlueButton-UserId`: the unique ID in the frontend system for the user (e.g. beneficiary) that data is being requested on behalf of.\n * `BlueButton-User`: the human-readable login ID (e.g. email address) in the frontend system for the user (e.g. beneficiary) that the data is being requested on behalf of.\n * `BlueButton-BeneficiaryId`: the unique beneificary ID (e.g. `Patient.id`) from BFD for the user the beneficiary whose data is being requested.\n+* `x-forwarded-for`: a standard header for identifying the originating IP address of a client connecting to a web server through an HTTP proxy or a load balancer.\n \n ## Asynchronous Requests\n \n For asynchronous (i.e. bulk) requests, BFD users SHALL include meaningful values for as many as possible of the following HTTP headers.\n \n-### BCDA\n-\n-* `BlueButton-OriginalQueryId`: (see above; same thing)\n-    * For asynchronous jobs, users SHALL use the `BlueButton-OriginalQueryId` for the HTTP request that created/submitted/whatever the job.\n-* `BCDA-CMSID`: the 5 digit A1234 Identifier for ACOs\n-* `BCDA-JOBID`: integer generated by DB sequence\n-\n-### AB2D\n-\n-* `BlueButton-OriginalQueryId`: (see above; same thing)\n-    * For asynchronous jobs, users SHALL use the `BlueButton-OriginalQueryId` for the HTTP request that created/submitted/whatever the job.\n-* `AB2D-CMSID`: the Part D contract ID\n-* `AB2D-JOBID`: integer generated by DB sequence\n-\n-### DPC\n-\n * `BlueButton-OriginalQueryId`: (see above; same thing)\n     * For asynchronous jobs, users SHALL use the `BlueButton-OriginalQueryId` for the HTTP request that created/submitted/whatever the job.\n-* `DPC-CMSID`: The NPI of the downstream requesting provider or organization.\n-* `DPC-JOBID`: integer generated by DB sequence\n+* `BULK-CLIENTID`: a unique identifier of the bulk client for whom this request is for (i.e. ACO ID, NPI, Part D Contract)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDkzNTcwMg=="}, "originalCommit": {"oid": "cdb38b193e69d7bc65f603b4e9659ebc6d459873"}, "originalPosition": 39}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 177, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}