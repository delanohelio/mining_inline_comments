{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA4MDMzODg3", "number": 260, "title": "BLUEBUTTON-1864: Medicare Opt Out bucket fixes, AB2D onboarding", "bodyText": "Change Details\nThis PR contains some minor changes:\n\nFixes the KMS policy\nFixes the bucket policy by removing a non-functional deny statement\nRemoves offboarded admin\nAdds AB2D roles as readers to test (not currently used) and prod-sbx\n\nAcceptance Validation\n\nAB2D can make S3 requests to prod-sbx bucket\n\nExternal References\n\nBLUEBUTTON-1864\n\nSecurity Implications\n\n\n new software dependencies\n\n\n altered security controls\n\n\nThis is worth discussing, as it was implemented that we'd have an explicit whitelist through denying actions via NotPrincipal, however I haven't been able to make this work in practice.  I'm unsure how much this changes to our security posture since we already have PII buckets (data from CCW) without this in place.\n\n\n new data stored or transmitted\n\n\n security checklist is completed for this change\n\n\n requires more information or team discussion to evaluate security implications", "createdAt": "2020-04-23T16:29:44Z", "url": "https://github.com/CMSgov/beneficiary-fhir-data/pull/260", "merged": true, "mergeCommit": {"oid": "1e84cea9191f6b4fcae6e36edb4155f850d8efae"}, "closed": true, "closedAt": "2020-04-27T18:46:52Z", "author": {"login": "njdister"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcafedBAH2gAyNDA4MDMzODg3Ojg5YWZmMDU5YTkyOTE0ZWUwMDFiZDYxODI3MGNmZTBkZGEzZDdlMjA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcbxUz5gFqTQwMTA4ODI5OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "89aff059a92914ee001bd618270cfe0dda3d7e20", "author": {"user": null}, "url": "https://github.com/CMSgov/beneficiary-fhir-data/commit/89aff059a92914ee001bd618270cfe0dda3d7e20", "committedDate": "2020-04-23T16:28:26Z", "message": "DenyNonExplicit does not work properly, fix KMS policy, remove offboarded user"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ca0beec4f6268933fc13a20262e5e61e8116bd82", "author": {"user": null}, "url": "https://github.com/CMSgov/beneficiary-fhir-data/commit/ca0beec4f6268933fc13a20262e5e61e8116bd82", "committedDate": "2020-04-23T17:01:09Z", "message": "Add AB2D roles that need read access to prod-sbx bucket"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAwMTYzMjk5", "url": "https://github.com/CMSgov/beneficiary-fhir-data/pull/260#pullrequestreview-400163299", "createdAt": "2020-04-24T18:05:04Z", "commit": {"oid": "ca0beec4f6268933fc13a20262e5e61e8116bd82"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQxODowNTowNFrOGLjPWQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQxODowNTowNFrOGLjPWQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDc2NDg4OQ==", "bodyText": "Does AB2D run on different accounts?", "url": "https://github.com/CMSgov/beneficiary-fhir-data/pull/260#discussion_r414764889", "createdAt": "2020-04-24T18:05:04Z", "author": {"login": "RickHawesUSDS"}, "path": "ops/terraform/env/test/stateful/main.tf", "diffHunk": "@@ -59,8 +59,8 @@ module \"stateful\" {\n   victor_ops_url      = var.victor_ops_url\n \n   medicare_opt_out_config = {\n-    read_roles        = [\"arn:aws:iam::755619740999:role/dpc-dev-consent-execution-role\"]\n+    read_roles        = [\"arn:aws:iam::755619740999:role/dpc-dev-consent-execution-role\", \"arn:aws:iam::349849222861:role/Ab2dInstanceRole\", \"arn:aws:iam::777200079629:role/Ab2dInstanceRole\", \"arn:aws:iam::330810004472:role/Ab2dInstanceRole\"]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ca0beec4f6268933fc13a20262e5e61e8116bd82"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAxMDI4OTg5", "url": "https://github.com/CMSgov/beneficiary-fhir-data/pull/260#pullrequestreview-401028989", "createdAt": "2020-04-27T14:49:50Z", "commit": {"oid": "ca0beec4f6268933fc13a20262e5e61e8116bd82"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAxMDg4Mjk4", "url": "https://github.com/CMSgov/beneficiary-fhir-data/pull/260#pullrequestreview-401088298", "createdAt": "2020-04-27T15:50:08Z", "commit": {"oid": "ca0beec4f6268933fc13a20262e5e61e8116bd82"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 735, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}