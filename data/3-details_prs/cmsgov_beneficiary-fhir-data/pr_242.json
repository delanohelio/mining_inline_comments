{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg2NjU4MDA5", "number": 242, "title": "BLUEBUTTON-1788: Add Outpatient Data and Tests", "bodyText": "Why\nAdd new Outpatient claims to the synthetic data set.\nWhat Changed\n\nA new synthetic data set was created and loaded into the s3\ufffd.\nIn creating the new RIF files many fix-ups had to be done. The keybase://team/oeda_bfs/team/synthetic-data/outpatient-claims folder has the scripts and source data. @dtisza1 did most of this work. Some of the fix-ups include:\n\nSetting bene_ids to negative\nFixing column names\nDate formats\nWhite space\nDecimal formats\nGenerating REV_CNTR_STUS_IND_CD values from the distribution found in PROD\nRemoved 2 files with conflicting CLM_IDs\n\n\nNew synthetic RIF file enumerations for the new outpatient RIF files\nNew tests for the data\nFixed a bug in addAddCareTeamPractitioner where the existing\nUpdated the OutpatientClaimTransformerTest.assertMatches test to work with the new synthetic data (It was very SAMPLE_A specific before).\nUpdated the documentation for the data set\n\nWhat to review\n\nNew logic in addAddCareTeamPractitioner\nTests\nDocumentation\n\nNext Steps\n\nLoad data into the environments\n\nSecurity Impact\nN/A", "createdAt": "2020-03-11T12:22:55Z", "url": "https://github.com/CMSgov/beneficiary-fhir-data/pull/242", "merged": true, "mergeCommit": {"oid": "fe6150f88def553718d2db4e3a28bed80446b116"}, "closed": true, "closedAt": "2020-03-11T16:19:30Z", "author": {"login": "RickHawesUSDS"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcMmgB2gBqjMxMTg2MzQxNjc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcMph1LAFqTM3MjkxMzg4MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": null}, {"__typename": "PullRequestCommit", "commit": {"oid": "1f41a071051cbc0362e9ea5694e8a356cb1e6616", "author": {"user": null}, "url": "https://github.com/CMSgov/beneficiary-fhir-data/commit/1f41a071051cbc0362e9ea5694e8a356cb1e6616", "committedDate": "2020-03-11T12:45:05Z", "message": "Add Outpatient Data and Tests\n\n- Point to a new synthetic set 2020-02-27-add-outpatient\n- New tests for the data\n- Fixed addAddCareTeamPractitioner\n- New synthetic RIF file enumerations"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": {"oid": "1f41a071051cbc0362e9ea5694e8a356cb1e6616", "author": {"user": null}, "url": "https://github.com/CMSgov/beneficiary-fhir-data/commit/1f41a071051cbc0362e9ea5694e8a356cb1e6616", "committedDate": "2020-03-11T12:45:05Z", "message": "Add Outpatient Data and Tests\n\n- Point to a new synthetic set 2020-02-27-add-outpatient\n- New tests for the data\n- Fixed addAddCareTeamPractitioner\n- New synthetic RIF file enumerations"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcyNzE3Mjk3", "url": "https://github.com/CMSgov/beneficiary-fhir-data/pull/242#pullrequestreview-372717297", "createdAt": "2020-03-11T12:35:59Z", "commit": null, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMVQxMjozNTo1OVrOF01DEw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMVQxMjozODoxMlrOF01HlA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDkzOTQxMQ==", "bodyText": "Previously, this statement would only consider NPI number. This would prevent the same NPI from being used for different roles.", "url": "https://github.com/CMSgov/beneficiary-fhir-data/pull/242#discussion_r390939411", "createdAt": "2020-03-11T12:35:59Z", "author": {"login": "RickHawesUSDS"}, "path": "apps/bfd-server/bfd-server-war/src/main/java/gov/cms/bfd/server/war/stu3/providers/TransformerUtils.java", "diffHunk": "@@ -308,6 +308,13 @@ static CareTeamComponent addCareTeamPractitioner(\n                 ctc ->\n                     practitionerIdSystem.equals(ctc.getProvider().getIdentifier().getSystem())\n                         && practitionerIdValue.equals(ctc.getProvider().getIdentifier().getValue()))\n+            .filter(ctc -> ctc.hasRole())", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDkzOTk4OA==", "bodyText": "This assertion only worked on SAMPLE_A.", "url": "https://github.com/CMSgov/beneficiary-fhir-data/pull/242#discussion_r390939988", "createdAt": "2020-03-11T12:37:07Z", "author": {"login": "RickHawesUSDS"}, "path": "apps/bfd-server/bfd-server-war/src/test/java/gov/cms/bfd/server/war/stu3/providers/OutpatientClaimTransformerTest.java", "diffHunk": "@@ -106,21 +135,25 @@ static void assertMatches(OutpatientClaim claim, ExplanationOfBenefit eob) throw\n         claim.getPrimaryPayerPaidAmount(),\n         claim.getFiscalIntermediaryNumber());\n \n-    Assert.assertEquals(5, eob.getDiagnosis().size());\n+    Assert.assertEquals(countDiagnosisCodes(claim), eob.getDiagnosis().size());\n ", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 53}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDk0MDU2NA==", "bodyText": "Adding Care team role for this find.", "url": "https://github.com/CMSgov/beneficiary-fhir-data/pull/242#discussion_r390940564", "createdAt": "2020-03-11T12:38:12Z", "author": {"login": "RickHawesUSDS"}, "path": "apps/bfd-server/bfd-server-war/src/test/java/gov/cms/bfd/server/war/stu3/providers/TransformerTestUtils.java", "diffHunk": "@@ -334,7 +334,10 @@ static void assertCareTeamEquals(\n       ExplanationOfBenefit eob) {\n     CareTeamComponent careTeamEntry =\n         findCareTeamEntryForProviderIdentifier(\n-            TransformerConstants.CODING_NPI_US, expectedPractitioner, eob.getCareTeam());\n+            TransformerConstants.CODING_NPI_US,\n+            expectedPractitioner,\n+            expectedCareTeamRole,\n+            eob.getCareTeam());", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 8}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcyNzcwMzUx", "url": "https://github.com/CMSgov/beneficiary-fhir-data/pull/242#pullrequestreview-372770351", "createdAt": "2020-03-11T13:46:00Z", "commit": {"oid": "1f41a071051cbc0362e9ea5694e8a356cb1e6616"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcyOTEzODgx", "url": "https://github.com/CMSgov/beneficiary-fhir-data/pull/242#pullrequestreview-372913881", "createdAt": "2020-03-11T16:16:14Z", "commit": {"oid": "1f41a071051cbc0362e9ea5694e8a356cb1e6616"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 708, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}