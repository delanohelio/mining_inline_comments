{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk4MDMwMTA3", "number": 369, "title": "Dshekhar/bfd 461 bfd commons", "bodyText": "JIRA Ticket:\nBFD-461\nUser Story or Bug Summary:\nBFD V1: Implement an architectural approach to minimize redundancy\nWhat Does This PR Do?\nCreates a resuable package layer for Common Components which can be shared between BFD v1 and v2.\nBFD v1/v2 to take a middle approach and make best efforts to minimize redundancy:\n\nIdentify Common components and cross cutting concerns which are independent of HAPI data models and which can be safely abstracted for both v1 and v2.\nHave version specific Utiliy components which are tied to HAPI data models (stu3 and r4).\nHave FHIR/HAPI version specific Resource providers and Transformers.\nV1 is not largely\" going to change. No new fields. Only production bug fixes and SLO adherence.\n\nAll functional and integration tests pass for lower environments and a test deploy is done before deploying to prod\nWhat Should Reviewers Watch For?\nN/A\nWhat Security Implications Does This PR Have?\nSubmitters should complete the following questionnaire:\n\nIf the answer to any of the questions below is Yes, then here's a link to the associated Security Impact Assessment (SIA), security checklist, or other similar document in Confluence: N/A.\n\nDoes this PR add any new software dependencies?  No.\nDoes this PR modify or invalidate any of our security controls? No.\nDoes this PR store or transmit data that was not stored or transmitted before? No.\n\n\nIf the answer to any of the questions below is Yes, then please add @StewGoin as a reviewer, and note that this PR should not be merged unless/until he also approves it.\n\nDo you think this PR requires additional review of its security implications for other reasons? No.\n\n\n\nWhat Needs to Be Merged and Deployed Before this PR?\nN/A\nSubmitter Checklist\n\nI have gone through and verified that...:\n\n This PR is reasonably limited in scope, to help ensure that:\n\nIt doesn't unnecessarily tie a bunch of disparate features, fixes, refactorings, etc. together.\nThere isn't too much of a burden on reviewers.\nAny problems it causes have a small \"blast radius\".\nIt'll be easier to rollback if that becomes necessary.\n\n\n I have named this PR and its branch such that they'll be automatically be linked to the (most) relevant Jira issue, per: https://confluence.atlassian.com/adminjiracloud/integrating-with-development-tools-776636216.html.\n This PR includes any required documentation changes, including README updates and changelog / release notes entries.\n All new and modified code is appropriately commented, such that the what and why of its design would be reasonably clear to engineers, preferably ones unfamiliar with the project.\n All tech debt and/or shortcomings introduced by this PR are detailed in TODO and/or FIXME comments, which include a JIRA ticket ID for any items that require urgent attention.\n Reviews are requested from both:\n\nAt least two other engineers on this project, at least one of whom is a senior engineer or owns the relevant component(s) here.\nAny relevant engineers on other projects (e.g. BCDA, BB2, etc.).\n\n\n Any deviations from the other policies in the DASG Engineering Standards are specifically called out in this PR, above.\n\nPlease review the standards every few months to ensure you're familiar with them.", "createdAt": "2020-10-05T18:14:48Z", "url": "https://github.com/CMSgov/beneficiary-fhir-data/pull/369", "merged": true, "mergeCommit": {"oid": "5d583c0744149c19563a2c7188958c3eef026f02"}, "closed": true, "closedAt": "2020-10-09T14:10:38Z", "author": {"login": "dshekhar18"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdOb1bPAH2gAyNDk4MDMwMTA3OjM0YjdhN2VkOWQ0ZmZhYTU1YjY0ZmIyZmFjZGJmMGYyZjEyOTkzMDc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdQ1mrFAFqTUwNTYzOTA0Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "34b7a7ed9d4ffaa55b64fb2facdbf0f2f1299307", "author": {"user": {"login": "dshekhar18", "name": "Dave Shekhar"}}, "url": "https://github.com/CMSgov/beneficiary-fhir-data/commit/34b7a7ed9d4ffaa55b64fb2facdbf0f2f1299307", "committedDate": "2020-10-02T01:37:58Z", "message": "common components"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5edd44b692e48aafe3aea94c18bfc34656c4d623", "author": {"user": {"login": "dshekhar18", "name": "Dave Shekhar"}}, "url": "https://github.com/CMSgov/beneficiary-fhir-data/commit/5edd44b692e48aafe3aea94c18bfc34656c4d623", "committedDate": "2020-10-02T20:50:03Z", "message": "test files updates"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "19d1c269d57ee67b0a58ef9cf76ef1b9888002a2", "author": {"user": {"login": "dshekhar18", "name": "Dave Shekhar"}}, "url": "https://github.com/CMSgov/beneficiary-fhir-data/commit/19d1c269d57ee67b0a58ef9cf76ef1b9888002a2", "committedDate": "2020-10-02T22:14:32Z", "message": "pom update for javadocs doclint"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4d6d16106d92c6b24091b4ec5a244272c0647d94", "author": {"user": {"login": "dshekhar18", "name": "Dave Shekhar"}}, "url": "https://github.com/CMSgov/beneficiary-fhir-data/commit/4d6d16106d92c6b24091b4ec5a244272c0647d94", "committedDate": "2020-10-04T19:28:59Z", "message": "Update Commons Merge branch 'master' into dshekhar/BFD-461-BFD_Commons"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAzMjMxODY0", "url": "https://github.com/CMSgov/beneficiary-fhir-data/pull/369#pullrequestreview-503231864", "createdAt": "2020-10-06T18:10:07Z", "commit": {"oid": "4d6d16106d92c6b24091b4ec5a244272c0647d94"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQxODoxMDowN1rOHdT-9A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQxODozODo0NlrOHdVGOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDQ5ODE2NA==", "bodyText": "I'm thinking we should stay consistent and utilize JS Doc {@link\nthis comment applies to all comments which have had this tag removed.", "url": "https://github.com/CMSgov/beneficiary-fhir-data/pull/369#discussion_r500498164", "createdAt": "2020-10-06T18:10:07Z", "author": {"login": "jzulim"}, "path": "apps/bfd-server/bfd-server-war/src/main/java/gov/cms/bfd/server/war/commons/Diagnosis.java", "diffHunk": "@@ -125,14 +122,14 @@ public void setLabels(DiagnosisLabel label) {\n    * Enumerates the various labels/tags that are used to distinguish between the various diagnoses\n    * in a claim.\n    */\n-  static enum DiagnosisLabel {\n-    /** Note: display text matches {@link ExDiagnosistype#PRINCIPAL}. */\n+  public static enum DiagnosisLabel {\n+    /** Note: display text matches ExDiagnosistype#PRINCIPAL. */", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4d6d16106d92c6b24091b4ec5a244272c0647d94"}, "originalPosition": 63}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDUwMDIxNg==", "bodyText": "\ud83d\udc4d", "url": "https://github.com/CMSgov/beneficiary-fhir-data/pull/369#discussion_r500500216", "createdAt": "2020-10-06T18:13:19Z", "author": {"login": "jzulim"}, "path": "apps/bfd-server/bfd-server-war/src/main/java/gov/cms/bfd/server/war/commons/IcdCode.java", "diffHunk": "@@ -1,17 +1,18 @@\n-package gov.cms.bfd.server.war.stu3.providers;\n+package gov.cms.bfd.server.war.commons;\n \n+import gov.cms.bfd.server.war.stu3.providers.TransformerUtils;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4d6d16106d92c6b24091b4ec5a244272c0647d94"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDUwMDcxNg==", "bodyText": "I would suggest we keep using JS Doc {@link to be consistent with other comments. The same comment applies to all changed comments in this PR.", "url": "https://github.com/CMSgov/beneficiary-fhir-data/pull/369#discussion_r500500716", "createdAt": "2020-10-06T18:14:08Z", "author": {"login": "jzulim"}, "path": "apps/bfd-server/bfd-server-war/src/main/java/gov/cms/bfd/server/war/commons/Diagnosis.java", "diffHunk": "@@ -125,14 +122,14 @@ public void setLabels(DiagnosisLabel label) {\n    * Enumerates the various labels/tags that are used to distinguish between the various diagnoses\n    * in a claim.\n    */\n-  static enum DiagnosisLabel {\n-    /** Note: display text matches {@link ExDiagnosistype#PRINCIPAL}. */\n+  public static enum DiagnosisLabel {\n+    /** Note: display text matches ExDiagnosistype#PRINCIPAL. */", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4d6d16106d92c6b24091b4ec5a244272c0647d94"}, "originalPosition": 63}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDUwMzA5OA==", "bodyText": "\ud83d\udc4d", "url": "https://github.com/CMSgov/beneficiary-fhir-data/pull/369#discussion_r500503098", "createdAt": "2020-10-06T18:17:55Z", "author": {"login": "jzulim"}, "path": "apps/bfd-server/bfd-server-war/src/main/java/gov/cms/bfd/server/war/commons/TransformerConstants.java", "diffHunk": "@@ -91,164 +92,168 @@\n    * <p>This URL will never be used by itself; it will always be suffixed with the (lower-cased)\n    * {@link CcwCodebookVariable#getVariable()}'s {@link Variable#getId()}.\n    */\n-  static final String BASE_URL_CCW_VARIABLES = BASE_URL_BBAPI_RESOURCES + \"/variables\";\n+  public static final String BASE_URL_CCW_VARIABLES = BASE_URL_BBAPI_RESOURCES + \"/variables\";\n \n-  static final String CODED_MONEY_USD = \"USD\";\n+  public static final String CODED_MONEY_USD = \"USD\";\n \n-  static final String CODING_BBAPI_BENEFIT_BALANCE_TYPE =\n+  public static final String CODING_BBAPI_BENEFIT_BALANCE_TYPE =\n       BASE_URL_BBAPI_RESOURCES + \"/codesystem/benefit-balance\";\n \n   /** The CMS-custom {@link Coding#getSystem()} value for Medicare {@link Adjudication}s. */\n-  static final String CODING_CCW_ADJUDICATION_CATEGORY =\n+  public static final String CODING_CCW_ADJUDICATION_CATEGORY =\n       BASE_URL_BBAPI_RESOURCES + \"/codesystem/adjudication\";\n \n   /**\n    * The CMS-custom {@link Coding#getSystem()} value for Medicare {@link\n    * SupportingInformationComponent#getCategory()}s.\n    */\n-  static final String CODING_BBAPI_INFORMATION_CATEGORY =\n+  public static final String CODING_BBAPI_INFORMATION_CATEGORY =\n       BASE_URL_BBAPI_RESOURCES + \"/codesystem/information\";\n \n   /**\n    * Used as the {@link Identifier#getSystem()} that the RIF <code>CLM_GROUP_ID</code> fields (e.g.\n    * {@link CarrierClaimColumn#CLM_GRP_ID}) are mapped to.\n    */\n-  static final String IDENTIFIER_SYSTEM_BBAPI_CLAIM_GROUP_ID =\n+  public static final String IDENTIFIER_SYSTEM_BBAPI_CLAIM_GROUP_ID =\n       BASE_URL_BBAPI_RESOURCES + \"/identifier/claim-group\";\n \n   /**\n    * Used as the {@link Coding#getSystem()} for the {@link ExplanationOfBenefit#getType()} entry\n    * that each EOB's ClaimType is mapped to.\n    */\n-  static final String CODING_SYSTEM_BBAPI_EOB_TYPE =\n+  public static final String CODING_SYSTEM_BBAPI_EOB_TYPE =\n       BASE_URL_BBAPI_RESOURCES + \"/codesystem/eob-type\";\n \n   // FIXME this URL has a typo -- first 'c' shouldn't have been there\n   private static final String CODING_CCW_TYPE_SERVICE =\n       \"https://www.ccwdata.org/cs/groups/public/documents/datadictionary/typcsrvcb.txt\";\n \n   /** Used as the {@link Coding#getSystem()} for {@link DiagnosisComponent#getType()} entries. */\n-  static final String CODING_SYSTEM_BBAPI_DIAGNOSIS_TYPE =\n+  public static final String CODING_SYSTEM_BBAPI_DIAGNOSIS_TYPE =\n       BASE_URL_BBAPI_RESOURCES + \"/codesystem/diagnosis-type\";\n \n   /**\n    * Used as the {@link Coding#getSystem()} for {@link ItemComponent#getService()} and {@link\n    * ItemComponent#getModifier()}. (This is used instead of {@link CcwCodebookVariable#HCPCS_CD} so\n    * that we can provide some extra helpful documentation at the URL.)\n    */\n-  static final String CODING_SYSTEM_HCPCS = BASE_URL_BBAPI_RESOURCES + \"/codesystem/hcpcs\";\n+  public static final String CODING_SYSTEM_HCPCS = BASE_URL_BBAPI_RESOURCES + \"/codesystem/hcpcs\";\n \n   /**\n    * Used as the {@link Coding#getSystem()} for determining the currency of an {@link Identifier}.\n    */\n-  static final String CODING_SYSTEM_IDENTIFIER_CURRENCY =\n+  public static final String CODING_SYSTEM_IDENTIFIER_CURRENCY =\n       BASE_URL_BBAPI_RESOURCES + \"/codesystem/identifier-currency\";\n \n   /**\n    * The standard {@link Money#getSystem()} for currency. (It looks odd that it has \"iso\" in there\n    * twice, but some web searches seem to confirm that that's correct.)\n    */\n-  static final String CODING_MONEY = \"urn:iso:std:iso:4217\";\n+  public static final String CODING_MONEY = \"urn:iso:std:iso:4217\";\n \n   /**\n    * Used to identify the drugs that were purchased as part of Part D, Carrier, and DME claims. See\n    * here for more information on using NDC codes with FHIR: <a\n    * href=\"http://hl7.org/fhir/ndc.html\">10 Using NDC and NHRIC Codes with FHIR</a>.\n    */\n-  static final String CODING_NDC = \"http://hl7.org/fhir/sid/ndc\";\n+  public static final String CODING_NDC = \"http://hl7.org/fhir/sid/ndc\";\n \n   /**\n    * The United States National Provider Identifier, as available at <a\n    * href=\"http://download.cms.gov/nppes/NPI_Files.html\">NPI/NPPES File</a> .\n    */\n-  static final String CODING_NPI_US = \"http://hl7.org/fhir/sid/us-npi\";\n+  public static final String CODING_NPI_US = \"http://hl7.org/fhir/sid/us-npi\";\n \n   /**\n    * The standard {@link Coding#getCode()} for {@link Identifier#getType()} entries where the\n    * identifier is a NPI.\n    */\n-  static final String CODED_IDENTIFIER_TYPE_NPI = \"NPI\";\n+  public static final String CODED_IDENTIFIER_TYPE_NPI = \"NPI\";\n \n   /**\n    * The standard {@link Coding#getDisplay()} for {@link Identifier#getType()} entries where the\n    * identifier is a NPI.\n    */\n-  static final String CODED_IDENTIFIER_TYPE_NPI_DISPLAY = \"National Provider Identifier\";\n+  public static final String CODED_IDENTIFIER_TYPE_NPI_DISPLAY = \"National Provider Identifier\";\n \n   /**\n    * The standard {@link Coding#getCode()} for {@link Identifier#getType()} entries where the\n    * identifier is a UPIN.\n    */\n-  static final String CODED_IDENTIFIER_TYPE_UPIN = \"UPIN\";\n+  public static final String CODED_IDENTIFIER_TYPE_UPIN = \"UPIN\";\n \n   /**\n    * The standard {@link Coding#getDisplay()} for {@link Identifier#getType()} entries where the\n    * identifier is a UPIN.\n    */\n-  static final String CODED_IDENTIFIER_TYPE_UPIN_DISPLAY = \"Unique Physician Identification Number\";\n+  public static final String CODED_IDENTIFIER_TYPE_UPIN_DISPLAY =\n+      \"Unique Physician Identification Number\";\n \n-  /** The Code System, as available at <a */\n-  static final String CODING_SYSTEM_HL7_IDENTIFIER_TYPE =\n+  /**\n+   * The Code System, as available at <a\n+   * href=\"https://terminology.hl7.org/1.0.0/CodeSystem-v2-0203.html\">identifierType</a>.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4d6d16106d92c6b24091b4ec5a244272c0647d94"}, "originalPosition": 143}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDUxNDUyNA==", "bodyText": "Can you highlight the reason for this change? I imagine it's to ignore cleanup errors, but why is this needed all of a sudden?", "url": "https://github.com/CMSgov/beneficiary-fhir-data/pull/369#discussion_r500514524", "createdAt": "2020-10-06T18:35:21Z", "author": {"login": "jzulim"}, "path": "apps/pom.xml", "diffHunk": "@@ -561,6 +561,9 @@ checkJavaFormat\n \t\t\t\t\t\t<goals>\n \t\t\t\t\t\t\t<goal>jar</goal>\n \t\t\t\t\t\t</goals>\n+\t\t\t\t\t\t<configuration>\n+\t\t\t\t\t\t\t<failOnError>false</failOnError>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4d6d16106d92c6b24091b4ec5a244272c0647d94"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDUxNTI2Ng==", "bodyText": "Were you still wanting to rename this, CCWProcedure?", "url": "https://github.com/CMSgov/beneficiary-fhir-data/pull/369#discussion_r500515266", "createdAt": "2020-10-06T18:36:43Z", "author": {"login": "jzulim"}, "path": "apps/bfd-server/bfd-server-war/src/main/java/gov/cms/bfd/server/war/commons/CCWProcedure.java", "diffHunk": "@@ -1,11 +1,11 @@\n-package gov.cms.bfd.server.war.stu3.providers;\n+package gov.cms.bfd.server.war.commons;\n \n import java.time.LocalDate;\n import java.util.Objects;\n import java.util.Optional;\n \n /** Models a ccwProcedure code entry in a claim. */\n-final class CCWProcedure extends IcdCode {\n+public final class CCWProcedure extends IcdCode {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4d6d16106d92c6b24091b4ec5a244272c0647d94"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDUxNjExOQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                /** Note: display text matches ExDiagnosistype#PRINCIPAL. */\n          \n          \n            \n                /** Note: display text matches {@link ExDiagnosistype#PRINCIPAL}. */", "url": "https://github.com/CMSgov/beneficiary-fhir-data/pull/369#discussion_r500516119", "createdAt": "2020-10-06T18:38:15Z", "author": {"login": "jzulim"}, "path": "apps/bfd-server/bfd-server-war/src/main/java/gov/cms/bfd/server/war/commons/Diagnosis.java", "diffHunk": "@@ -125,14 +122,14 @@ public void setLabels(DiagnosisLabel label) {\n    * Enumerates the various labels/tags that are used to distinguish between the various diagnoses\n    * in a claim.\n    */\n-  static enum DiagnosisLabel {\n-    /** Note: display text matches {@link ExDiagnosistype#PRINCIPAL}. */\n+  public static enum DiagnosisLabel {\n+    /** Note: display text matches ExDiagnosistype#PRINCIPAL. */", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4d6d16106d92c6b24091b4ec5a244272c0647d94"}, "originalPosition": 63}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDUxNjQwOA==", "bodyText": "same applies to all comments where the JS Doc {@link tag was removed.", "url": "https://github.com/CMSgov/beneficiary-fhir-data/pull/369#discussion_r500516408", "createdAt": "2020-10-06T18:38:46Z", "author": {"login": "jzulim"}, "path": "apps/bfd-server/bfd-server-war/src/main/java/gov/cms/bfd/server/war/commons/Diagnosis.java", "diffHunk": "@@ -125,14 +122,14 @@ public void setLabels(DiagnosisLabel label) {\n    * Enumerates the various labels/tags that are used to distinguish between the various diagnoses\n    * in a claim.\n    */\n-  static enum DiagnosisLabel {\n-    /** Note: display text matches {@link ExDiagnosistype#PRINCIPAL}. */\n+  public static enum DiagnosisLabel {\n+    /** Note: display text matches ExDiagnosistype#PRINCIPAL. */", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDUxNjExOQ=="}, "originalCommit": {"oid": "4d6d16106d92c6b24091b4ec5a244272c0647d94"}, "originalPosition": 63}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAzMzc4NDMw", "url": "https://github.com/CMSgov/beneficiary-fhir-data/pull/369#pullrequestreview-503378430", "createdAt": "2020-10-06T21:38:50Z", "commit": {"oid": "4d6d16106d92c6b24091b4ec5a244272c0647d94"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA1NjM5MDQz", "url": "https://github.com/CMSgov/beneficiary-fhir-data/pull/369#pullrequestreview-505639043", "createdAt": "2020-10-09T12:47:14Z", "commit": {"oid": "4d6d16106d92c6b24091b4ec5a244272c0647d94"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 625, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}