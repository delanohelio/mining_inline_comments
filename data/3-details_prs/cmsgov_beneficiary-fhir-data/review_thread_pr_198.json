{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY0NDM5NTUy", "number": 198, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xOFQxODoyODowMFrODZAh_g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xOFQxODoyODowMFrODZAh_g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI3NTQ5Njk0OnYy", "diffSide": "RIGHT", "path": "rfcs/0005-mbi-search.md", "isResolved": false, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xOFQxODoyODowMFrOFfLqKg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMVQxOTowOTo1MlrOFgFhrg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODI0MTE5NA==", "bodyText": "Worth including that it's using the same itterations as well.", "url": "https://github.com/CMSgov/beneficiary-fhir-data/pull/198#discussion_r368241194", "createdAt": "2020-01-18T18:28:00Z", "author": {"login": "whytheplatypus"}, "path": "rfcs/0005-mbi-search.md", "diffHunk": "@@ -0,0 +1,65 @@\n+# RFC Proposal\n+[RFC Proposal]: #rfc-proposal\n+\n+* RFC Proposal ID: `0005-mbi-search` \n+* Start Date: 2020-1-15\n+* RFC PR: [](https://github.com/rust-lang/rfcs/pull/0000)\n+* JIRA Ticket(s):\n+    * [BLUEBUTTON-1516](https://jira.cms.gov/browse/BLUEBUTTON-1516)\n+\n+The addition of a search by Medicare Beneficiary Identifier (MBI) facility to the BFD's Patient search end-point.   \n+\n+## Table of Contents\n+[Table of Contents]: #table-of-contents\n+\n+* [RFC Proposal](#rfc-proposal)\n+* [Table of Contents](#table-of-contents)\n+* [Motivation](#motivation)\n+* [Proposed Solution](#proposed-solution)\n+    * [Patient Search](#patient-search)\n+    * [Include Identifiers](#include-identifiers)\n+    * [Hash Algorithm](#hash-algorithm)\n+    * [Synthetic Beneficiaries](#synthetic-beneficiaries)\n+* [Prior Art](#prior-art)\n+\n+## Motivation\n+[Motivation]: #motivation\n+\n+The Medicare Beneficiary Identifier (MBI) is replacing the Health Insurance Claim Identifier (HICN). See [New Medicare Card Project](https://www.cms.gov/Medicare/New-Medicare-Card/9-13-18-NMC-ODF-Slides.pptx) for some background on this change. This change to the BFD adds to BFD the same capabilities for MBIs as currently exist for HICNs. \n+\n+## Proposed Solution\n+[Proposed Solution]: #proposed-solution\n+\n+The proposed solution consists of a new identifier for the Patient search FHIR end-point, a new include-identifiers projection, and the same hashing algorithm that BFD uses for HICN.\n+\n+### Patient Search\n+The `Patient` end-point supports searching for resources with a matching MBI. The CMS classifies the MBI as personally identifiable information (PII). The request must hash the MBI to prevent sensitive PII from entering access logs. A new MBI based identifier system is recognized: `https://bluebutton.cms.gov/resources/identifier/mbi-hash`. \n+\n+An example request for a sythentic beneficiary `1S00A00AA00` is:\n+```\n+curl 'https://<bfd address>:443/v1/fhir/Patient?identifier=https%3A%2F%2Fbluebutton.cms.gov%2Fresources%2Fidentifier%2Fmbi-hash%7C37c37d08d239f7f1da60e949674c8e4b5bb2106077cb0671d3dfcbf510ec3248&_format=application%2Fjson%2Bfhir'\n+```\n+\n+### Include Identifiers\n+The returned patient resource includes the HICN and MBI identifiers if the request has the `IncludeIdentifiers` HTTP header set. BFD supports new values for the `IdentifierIncludes` header. \n+\n+| value    | identifiers added | Comments                   |\n+|----------|-------------------|----------------------------|\n+| <empty>  |                   | Default value              |\n+| true     | HICN and MBI      | MBI is added to the result |\n+| hicn     | HICN              | New value supported        |\n+| mbi      | MBI               | New value supported        |\n+| hicn,mbi | HICN and MBI      | New value supported        |\n+\n+### Hash Algorithm\n+For convenience, MBI hashing uses the existing HICN hashing algorithm and pepper.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "669ecb2e33f8f8b7a9b888c93f03c99cc4509115"}, "originalPosition": 55}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTA2Mzg1OA==", "bodyText": "Roger on adding the iterations to the section.\nWhat do you have in mind for future work and hashing not scaling?", "url": "https://github.com/CMSgov/beneficiary-fhir-data/pull/198#discussion_r369063858", "createdAt": "2020-01-21T15:20:44Z", "author": {"login": "RickHawesUSDS"}, "path": "rfcs/0005-mbi-search.md", "diffHunk": "@@ -0,0 +1,65 @@\n+# RFC Proposal\n+[RFC Proposal]: #rfc-proposal\n+\n+* RFC Proposal ID: `0005-mbi-search` \n+* Start Date: 2020-1-15\n+* RFC PR: [](https://github.com/rust-lang/rfcs/pull/0000)\n+* JIRA Ticket(s):\n+    * [BLUEBUTTON-1516](https://jira.cms.gov/browse/BLUEBUTTON-1516)\n+\n+The addition of a search by Medicare Beneficiary Identifier (MBI) facility to the BFD's Patient search end-point.   \n+\n+## Table of Contents\n+[Table of Contents]: #table-of-contents\n+\n+* [RFC Proposal](#rfc-proposal)\n+* [Table of Contents](#table-of-contents)\n+* [Motivation](#motivation)\n+* [Proposed Solution](#proposed-solution)\n+    * [Patient Search](#patient-search)\n+    * [Include Identifiers](#include-identifiers)\n+    * [Hash Algorithm](#hash-algorithm)\n+    * [Synthetic Beneficiaries](#synthetic-beneficiaries)\n+* [Prior Art](#prior-art)\n+\n+## Motivation\n+[Motivation]: #motivation\n+\n+The Medicare Beneficiary Identifier (MBI) is replacing the Health Insurance Claim Identifier (HICN). See [New Medicare Card Project](https://www.cms.gov/Medicare/New-Medicare-Card/9-13-18-NMC-ODF-Slides.pptx) for some background on this change. This change to the BFD adds to BFD the same capabilities for MBIs as currently exist for HICNs. \n+\n+## Proposed Solution\n+[Proposed Solution]: #proposed-solution\n+\n+The proposed solution consists of a new identifier for the Patient search FHIR end-point, a new include-identifiers projection, and the same hashing algorithm that BFD uses for HICN.\n+\n+### Patient Search\n+The `Patient` end-point supports searching for resources with a matching MBI. The CMS classifies the MBI as personally identifiable information (PII). The request must hash the MBI to prevent sensitive PII from entering access logs. A new MBI based identifier system is recognized: `https://bluebutton.cms.gov/resources/identifier/mbi-hash`. \n+\n+An example request for a sythentic beneficiary `1S00A00AA00` is:\n+```\n+curl 'https://<bfd address>:443/v1/fhir/Patient?identifier=https%3A%2F%2Fbluebutton.cms.gov%2Fresources%2Fidentifier%2Fmbi-hash%7C37c37d08d239f7f1da60e949674c8e4b5bb2106077cb0671d3dfcbf510ec3248&_format=application%2Fjson%2Bfhir'\n+```\n+\n+### Include Identifiers\n+The returned patient resource includes the HICN and MBI identifiers if the request has the `IncludeIdentifiers` HTTP header set. BFD supports new values for the `IdentifierIncludes` header. \n+\n+| value    | identifiers added | Comments                   |\n+|----------|-------------------|----------------------------|\n+| <empty>  |                   | Default value              |\n+| true     | HICN and MBI      | MBI is added to the result |\n+| hicn     | HICN              | New value supported        |\n+| mbi      | MBI               | New value supported        |\n+| hicn,mbi | HICN and MBI      | New value supported        |\n+\n+### Hash Algorithm\n+For convenience, MBI hashing uses the existing HICN hashing algorithm and pepper.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODI0MTE5NA=="}, "originalCommit": {"oid": "669ecb2e33f8f8b7a9b888c93f03c99cc4509115"}, "originalPosition": 55}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTE2NzQzNQ==", "bodyText": "The future work I was thinking of has more to do with the process of on-boarding new peering partners. For a partner to use the hash, bfd has to communicate a shared secret to each partner. As more partners join operations concerning the shared secret (pepper) get more complicated (e.g. rolling it)\nI'm not sure if this RFC is the right place for the discussion but it might be.", "url": "https://github.com/CMSgov/beneficiary-fhir-data/pull/198#discussion_r369167435", "createdAt": "2020-01-21T18:25:35Z", "author": {"login": "whytheplatypus"}, "path": "rfcs/0005-mbi-search.md", "diffHunk": "@@ -0,0 +1,65 @@\n+# RFC Proposal\n+[RFC Proposal]: #rfc-proposal\n+\n+* RFC Proposal ID: `0005-mbi-search` \n+* Start Date: 2020-1-15\n+* RFC PR: [](https://github.com/rust-lang/rfcs/pull/0000)\n+* JIRA Ticket(s):\n+    * [BLUEBUTTON-1516](https://jira.cms.gov/browse/BLUEBUTTON-1516)\n+\n+The addition of a search by Medicare Beneficiary Identifier (MBI) facility to the BFD's Patient search end-point.   \n+\n+## Table of Contents\n+[Table of Contents]: #table-of-contents\n+\n+* [RFC Proposal](#rfc-proposal)\n+* [Table of Contents](#table-of-contents)\n+* [Motivation](#motivation)\n+* [Proposed Solution](#proposed-solution)\n+    * [Patient Search](#patient-search)\n+    * [Include Identifiers](#include-identifiers)\n+    * [Hash Algorithm](#hash-algorithm)\n+    * [Synthetic Beneficiaries](#synthetic-beneficiaries)\n+* [Prior Art](#prior-art)\n+\n+## Motivation\n+[Motivation]: #motivation\n+\n+The Medicare Beneficiary Identifier (MBI) is replacing the Health Insurance Claim Identifier (HICN). See [New Medicare Card Project](https://www.cms.gov/Medicare/New-Medicare-Card/9-13-18-NMC-ODF-Slides.pptx) for some background on this change. This change to the BFD adds to BFD the same capabilities for MBIs as currently exist for HICNs. \n+\n+## Proposed Solution\n+[Proposed Solution]: #proposed-solution\n+\n+The proposed solution consists of a new identifier for the Patient search FHIR end-point, a new include-identifiers projection, and the same hashing algorithm that BFD uses for HICN.\n+\n+### Patient Search\n+The `Patient` end-point supports searching for resources with a matching MBI. The CMS classifies the MBI as personally identifiable information (PII). The request must hash the MBI to prevent sensitive PII from entering access logs. A new MBI based identifier system is recognized: `https://bluebutton.cms.gov/resources/identifier/mbi-hash`. \n+\n+An example request for a sythentic beneficiary `1S00A00AA00` is:\n+```\n+curl 'https://<bfd address>:443/v1/fhir/Patient?identifier=https%3A%2F%2Fbluebutton.cms.gov%2Fresources%2Fidentifier%2Fmbi-hash%7C37c37d08d239f7f1da60e949674c8e4b5bb2106077cb0671d3dfcbf510ec3248&_format=application%2Fjson%2Bfhir'\n+```\n+\n+### Include Identifiers\n+The returned patient resource includes the HICN and MBI identifiers if the request has the `IncludeIdentifiers` HTTP header set. BFD supports new values for the `IdentifierIncludes` header. \n+\n+| value    | identifiers added | Comments                   |\n+|----------|-------------------|----------------------------|\n+| <empty>  |                   | Default value              |\n+| true     | HICN and MBI      | MBI is added to the result |\n+| hicn     | HICN              | New value supported        |\n+| mbi      | MBI               | New value supported        |\n+| hicn,mbi | HICN and MBI      | New value supported        |\n+\n+### Hash Algorithm\n+For convenience, MBI hashing uses the existing HICN hashing algorithm and pepper.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODI0MTE5NA=="}, "originalCommit": {"oid": "669ecb2e33f8f8b7a9b888c93f03c99cc4509115"}, "originalPosition": 55}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTE4OTI5NA==", "bodyText": "Ok. I understand the concern. I don't have any suggestions to improve the situation, so I'm going to leave out the issue.", "url": "https://github.com/CMSgov/beneficiary-fhir-data/pull/198#discussion_r369189294", "createdAt": "2020-01-21T19:09:52Z", "author": {"login": "RickHawesUSDS"}, "path": "rfcs/0005-mbi-search.md", "diffHunk": "@@ -0,0 +1,65 @@\n+# RFC Proposal\n+[RFC Proposal]: #rfc-proposal\n+\n+* RFC Proposal ID: `0005-mbi-search` \n+* Start Date: 2020-1-15\n+* RFC PR: [](https://github.com/rust-lang/rfcs/pull/0000)\n+* JIRA Ticket(s):\n+    * [BLUEBUTTON-1516](https://jira.cms.gov/browse/BLUEBUTTON-1516)\n+\n+The addition of a search by Medicare Beneficiary Identifier (MBI) facility to the BFD's Patient search end-point.   \n+\n+## Table of Contents\n+[Table of Contents]: #table-of-contents\n+\n+* [RFC Proposal](#rfc-proposal)\n+* [Table of Contents](#table-of-contents)\n+* [Motivation](#motivation)\n+* [Proposed Solution](#proposed-solution)\n+    * [Patient Search](#patient-search)\n+    * [Include Identifiers](#include-identifiers)\n+    * [Hash Algorithm](#hash-algorithm)\n+    * [Synthetic Beneficiaries](#synthetic-beneficiaries)\n+* [Prior Art](#prior-art)\n+\n+## Motivation\n+[Motivation]: #motivation\n+\n+The Medicare Beneficiary Identifier (MBI) is replacing the Health Insurance Claim Identifier (HICN). See [New Medicare Card Project](https://www.cms.gov/Medicare/New-Medicare-Card/9-13-18-NMC-ODF-Slides.pptx) for some background on this change. This change to the BFD adds to BFD the same capabilities for MBIs as currently exist for HICNs. \n+\n+## Proposed Solution\n+[Proposed Solution]: #proposed-solution\n+\n+The proposed solution consists of a new identifier for the Patient search FHIR end-point, a new include-identifiers projection, and the same hashing algorithm that BFD uses for HICN.\n+\n+### Patient Search\n+The `Patient` end-point supports searching for resources with a matching MBI. The CMS classifies the MBI as personally identifiable information (PII). The request must hash the MBI to prevent sensitive PII from entering access logs. A new MBI based identifier system is recognized: `https://bluebutton.cms.gov/resources/identifier/mbi-hash`. \n+\n+An example request for a sythentic beneficiary `1S00A00AA00` is:\n+```\n+curl 'https://<bfd address>:443/v1/fhir/Patient?identifier=https%3A%2F%2Fbluebutton.cms.gov%2Fresources%2Fidentifier%2Fmbi-hash%7C37c37d08d239f7f1da60e949674c8e4b5bb2106077cb0671d3dfcbf510ec3248&_format=application%2Fjson%2Bfhir'\n+```\n+\n+### Include Identifiers\n+The returned patient resource includes the HICN and MBI identifiers if the request has the `IncludeIdentifiers` HTTP header set. BFD supports new values for the `IdentifierIncludes` header. \n+\n+| value    | identifiers added | Comments                   |\n+|----------|-------------------|----------------------------|\n+| <empty>  |                   | Default value              |\n+| true     | HICN and MBI      | MBI is added to the result |\n+| hicn     | HICN              | New value supported        |\n+| mbi      | MBI               | New value supported        |\n+| hicn,mbi | HICN and MBI      | New value supported        |\n+\n+### Hash Algorithm\n+For convenience, MBI hashing uses the existing HICN hashing algorithm and pepper.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODI0MTE5NA=="}, "originalCommit": {"oid": "669ecb2e33f8f8b7a9b888c93f03c99cc4509115"}, "originalPosition": 55}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 276, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}