{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMxNDQxMDYy", "number": 293, "title": "BFD-8: Map dual_01..dual_12 and rfnrc-yr fields to coverage resource", "bodyText": "JIRA Ticket:\nBFD-8\nUser Story or Bug Summary:\n\nAs a BFD peering partner, I need to have medicare eligibility fields 'Reference Year' and 'Dual Eligibility / month' mapped to the coverage endpoint as this data is fundamentally related to 'coverage'.\nWhat Does This PR Do?\n\n\nMaps all 12 dual_XX fields to Parts A,B,C,D within the coverage resource.\nMaps rfrnc_yr field to Parts A,B,C,D within the coverage resource.\nIT for the above additions.\napi-changelog updated.\n\nWhat Should Reviewers Watch For?\nIf you're reviewing this PR, please check these things, in particular:\n\nIs this likely to address the goals expressed in the user story?\nAre any additional documentation updates needed?\nDoes this make any backward-incompatible changes that might break end-user clients?\nCan you find any bugs if you run the code locally and test it manually?\n\n\nWhat Security Implications Does This PR Have?\nSubmitters should complete the following questionnaire:\n\nIf the answer to any of the questions below is Yes, then here's a link to the associated Security Impact Assessment: N/A.\n\nDoes this PR add any new software dependencies? No\nDoes this PR modify or invalidate any of our security controls? No\nDoes this PR store or transmit data that was not stored or transmitted before? No\n\n\nIf the answer to any of the questions below is Yes, then please add @StewGoin as a reviewer, and note that this PR should not be merged unless/until he also approves it.\n\nDo you think this PR requires additional review of its security implications for other reasons? No.\n\n\n\nWhat Needs to Be Merged and Deployed Before this PR?\nThis PR should not be deployed until peering partners are made aware of the new fields now mapped to the coverage resource.\n\nSubmitter Checklist\nBefore requesting a final review, I've gone through and verified that this PR complies with the following requirements:\n\n\n I've refactored and rebased this PR (for help, see: this and this, if needed, so that it is as small as it can reasonably be, in order to:\n\nEnsure that any problems it causes have a small \"blast radius\".\nEnsure that it'll be easier to rollback if that becomes necessary.\nEase the burden on reviewers.\n\n\n\n I've verified that the commits in this PR:\n\n\nReasonably explain the \"what\" and \"why\" of the changes.\n\n\nLeverage JIRA's smart commits to reference the JIRA ticket that they're associated with. For example, aim for commit messages like this (note also the 50/72 formatting used here):\nAdded the whizbang to the doodad.\n\nThe new whizbang should really simplify things for our whoosit users.\nIt was a bit tricky to get it into the doodad, but we decided that the\nflipwhee pattern was the best approach for now. Might want to revisit\nthat in the future if it ends up being too hard to maintain.\n\nSOMEPROJECT-42\n\n\n\n\n\n I've verified that this PR includes all required documentation changes, including README updates and changelog / release notes entries.\n\n\n I've verified that all new and modified code is appropriately commented, such that the what and why of its design would be reasonably clear to engineers, preferably ones unfamiliar with the project.\n\n\n I've verified that all tech debt and/or shortcomings introduced by this PR is detailed in TODO and/or FIXME comments, which include a JIRA ticket ID for any items that require urgent attention.\n\n\n I've requested review from at least two other engineers on this project, at least one of whom is a senior engineer or owns the relevant component(s) here.\n\n\n I've requested review from any relevant engineers on other projects (e.g. BFD, SLS, etc.).\n\n\n I've verified that this PR and its changes comply with all other policies in the DASG Engineering Standards and have specifically called out any/all deviations in this PR.", "createdAt": "2020-06-08T23:02:31Z", "url": "https://github.com/CMSgov/beneficiary-fhir-data/pull/293", "merged": true, "mergeCommit": {"oid": "03b6f6a3eaf27b1828f3b30a702eba91427ce1c2"}, "closed": true, "closedAt": "2020-06-17T20:06:53Z", "author": {"login": "jzulim"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcpYgFygH2gAyNDMxNDQxMDYyOmI0ODgyNTgzYWQ0YzU3NTg0NWM4ZTc5MzdmMDVmZWNkZTRjMDc2MDg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcpwB19AFqTQyNzY2NDYwNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "b4882583ad4c575845c8e7937f05fecde4c07608", "author": {"user": {"login": "jzulim", "name": "John Zulim"}}, "url": "https://github.com/CMSgov/beneficiary-fhir-data/commit/b4882583ad4c575845c8e7937f05fecde4c07608", "committedDate": "2020-06-08T22:49:45Z", "message": "Add dual_01..dual_12 and rfnrc-Yr to coverage."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI2NzUwMjkw", "url": "https://github.com/CMSgov/beneficiary-fhir-data/pull/293#pullrequestreview-426750290", "createdAt": "2020-06-09T02:39:22Z", "commit": {"oid": "b4882583ad4c575845c8e7937f05fecde4c07608"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQwMjozOToyMlrOGg2zjg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQwMjozOToyMlrOGg2zjg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzEwNTU1MA==", "bodyText": "Recommend correcting wording... consumers lose the these vital eligibility fields :)", "url": "https://github.com/CMSgov/beneficiary-fhir-data/pull/293#discussion_r437105550", "createdAt": "2020-06-09T02:39:22Z", "author": {"login": "msnook"}, "path": "apps/bfd-server/dev/api-changelog.md", "diffHunk": "@@ -1,5 +1,9 @@\n # API Changelog\n \n+## BFD-8: Add and map coverage fields dual01..dual12 and rfrnc_yr to the coverage resource\n+\n+The dual_01..dual12 and rfnrc_yr are essentially coverage related fields and need to be included in the coverage resource. Previously, these fields were only available on the patient resource and when beneficiaries choose to redact their demographic data, downstream consumers lose the these vital eligibility fields thus the need to add them to the coverage resource. In future versions of the API, we'll want to consider removing these from the patient resource. ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b4882583ad4c575845c8e7937f05fecde4c07608"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI2NzUxMTg0", "url": "https://github.com/CMSgov/beneficiary-fhir-data/pull/293#pullrequestreview-426751184", "createdAt": "2020-06-09T02:42:28Z", "commit": {"oid": "b4882583ad4c575845c8e7937f05fecde4c07608"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQwMjo0MjoyOFrOGg22iw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQwMjo0MjoyOFrOGg22iw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzEwNjMxNQ==", "bodyText": "Does any of this data need to be added to the reference files used in the unit tests, to ensure the assertions are still accurate?\nI noticed some failing unit tests in the Github Actions CI... could it be because the rfrnc_yr was not added to these resource files used in unit test comparison?", "url": "https://github.com/CMSgov/beneficiary-fhir-data/pull/293#discussion_r437106315", "createdAt": "2020-06-09T02:42:28Z", "author": {"login": "msnook"}, "path": "apps/bfd-server/bfd-server-war/src/main/java/gov/cms/bfd/server/war/stu3/providers/CoverageTransformer.java", "diffHunk": "@@ -137,6 +137,99 @@ private static Coverage transformPartA(MetricRegistry metricRegistry, Beneficiar\n               coverage, CcwCodebookVariable.A_TRM_CD, beneficiary.getPartATerminationCode()));\n     }\n \n+    // The reference year of the enrollment data", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b4882583ad4c575845c8e7937f05fecde4c07608"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3a19a89d72ffe84c836e58122e8807b688b51bdd", "author": {"user": {"login": "jzulim", "name": "John Zulim"}}, "url": "https://github.com/CMSgov/beneficiary-fhir-data/commit/3a19a89d72ffe84c836e58122e8807b688b51bdd", "committedDate": "2020-06-09T16:39:50Z", "message": "Updating test resources for coverage"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "587a53edd9f7543c2143f239f94d6f25351449b5", "author": {"user": {"login": "jzulim", "name": "John Zulim"}}, "url": "https://github.com/CMSgov/beneficiary-fhir-data/commit/587a53edd9f7543c2143f239f94d6f25351449b5", "committedDate": "2020-06-09T18:42:56Z", "message": "Revert \"Updating test resources for coverage\"\n\nThis reverts commit 3a19a89d72ffe84c836e58122e8807b688b51bdd."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9cd58a57a0c5047f8cfc114ace1cb0915063329d", "author": {"user": {"login": "jzulim", "name": "John Zulim"}}, "url": "https://github.com/CMSgov/beneficiary-fhir-data/commit/9cd58a57a0c5047f8cfc114ace1cb0915063329d", "committedDate": "2020-06-09T20:42:04Z", "message": "Updating Coverage endpoint resources for tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9bfa2110c129351858ef165a1d9caee7e66db2d3", "author": {"user": {"login": "jzulim", "name": "John Zulim"}}, "url": "https://github.com/CMSgov/beneficiary-fhir-data/commit/9bfa2110c129351858ef165a1d9caee7e66db2d3", "committedDate": "2020-06-09T21:13:04Z", "message": "Typo in changelog"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI3NTY1MTM0", "url": "https://github.com/CMSgov/beneficiary-fhir-data/pull/293#pullrequestreview-427565134", "createdAt": "2020-06-09T21:39:52Z", "commit": {"oid": "9bfa2110c129351858ef165a1d9caee7e66db2d3"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI3NjY0NjA3", "url": "https://github.com/CMSgov/beneficiary-fhir-data/pull/293#pullrequestreview-427664607", "createdAt": "2020-06-10T02:14:26Z", "commit": {"oid": "9bfa2110c129351858ef165a1d9caee7e66db2d3"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 558, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}