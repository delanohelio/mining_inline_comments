{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTAyNTExNjMy", "number": 1354, "title": "Data integrity check response datastore", "bodyText": "This PR created for Response Datastore data integrity check with updated develop branch code base and closing earlier PR #925 . Earlier PR is having many conflicts due to folder rename recently. Please review and approve this PR.\nNote: There is no additional changes compare to PR #925 . Once this PR approve and merge with develop, will close earlier PR .", "createdAt": "2020-10-13T16:04:27Z", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1354", "merged": true, "mergeCommit": {"oid": "c6125e8e87101360418a1917c25261fc33151e29"}, "closed": true, "closedAt": "2020-10-14T17:42:39Z", "author": {"login": "aswinijena100"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdSKuZYAH2gAyNTAyNTExNjMyOmY1N2I3M2M1Y2FhZjBkNTNmMTI5ZWM1MjY3NGFmZWZhZjhiMWNmYTI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdSgjK7gFqTUwODU2OTM1MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "f57b73c5caaf0d53f129ec52674afefaf8b1cfa2", "author": {"user": {"login": "aswinijena100", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/f57b73c5caaf0d53f129ec52674afefaf8b1cfa2", "committedDate": "2020-10-13T15:57:36Z", "message": "Response Datastore Data Integrity Check changes post folder restructure\n\nResponse Datastore Data Integrity Check changes post folder restructure"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "af930900c54780073c1b6e7bf385cb8b23aeeb77", "author": {"user": {"login": "aswinijena100", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/af930900c54780073c1b6e7bf385cb8b23aeeb77", "committedDate": "2020-10-13T15:59:46Z", "message": "Formatted source\n\nFormatted source"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA3NjAwNDUz", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1354#pullrequestreview-507600453", "createdAt": "2020-10-13T16:05:28Z", "commit": {"oid": "af930900c54780073c1b6e7bf385cb8b23aeeb77"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxNjowNToyOFrOHguU9g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxNjowNToyOFrOHguU-Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDA3NTUxMA==", "bodyText": "[response-server Checks] reported by reviewdog \ud83d\udc36\nAbbreviation in name 'participantBO' must contain no more than '1' consecutive capital letters.", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1354#discussion_r504075510", "createdAt": "2020-10-13T16:05:28Z", "author": {"login": "github-actions"}, "path": "response-datastore/response-server-service/src/main/java/com/google/cloud/healthcare/fdamystudies/dao/CommonDaoImpl.java", "diffHunk": "@@ -30,18 +30,18 @@\n   @Autowired private EntityManagerFactory entityManagerFactory;\n \n   @Override\n-  public ParticipantBo getParticipantInfoDetails(String participantId) {\n+  public ParticipantInfoEntity getParticipantInfoDetails(String participantId) {\n     logger.info(\"CommonDaoImpl getParticipantInfoDetails() - Ends \");\n     CriteriaBuilder criteriaBuilder = null;\n-    CriteriaQuery<ParticipantBo> participantBoCriteriaQuery = null;\n-    Root<ParticipantBo> participantBoRoot = null;\n+    CriteriaQuery<ParticipantInfoEntity> participantBoCriteriaQuery = null;\n+    Root<ParticipantInfoEntity> participantBoRoot = null;\n     Predicate[] participantBoPredicates = new Predicate[1];\n-    List<ParticipantBo> participantBoList = null;\n-    ParticipantBo participantBO = null;\n+    List<ParticipantInfoEntity> participantBoList = null;\n+    ParticipantInfoEntity participantBO = null;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "af930900c54780073c1b6e7bf385cb8b23aeeb77"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDA3NTUxMw==", "bodyText": "[response-server Checks] reported by reviewdog \ud83d\udc36\nMissing a Javadoc comment.", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1354#discussion_r504075513", "createdAt": "2020-10-13T16:05:28Z", "author": {"login": "github-actions"}, "path": "response-datastore/response-server-service/src/test/java/com/google/cloud/healthcare/fdamystudies/helper/TestDataHelper.java", "diffHunk": "@@ -19,12 +19,13 @@\n @Component\n public class TestDataHelper {\n \n-  @Autowired private ParticipantBoRepository participantBoRepository;\n+  @Autowired private ParticipantInfoRepository participantBoRepository;\n \n-  public ParticipantBo saveParticipant() {\n-    ParticipantBo participant = new ParticipantBo();\n-    participant.setTokenIdentifier(IdGenerator.id());\n-    participant.setParticipantIdentifier(IdGenerator.id());\n+  public ParticipantInfoEntity saveParticipant() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "af930900c54780073c1b6e7bf385cb8b23aeeb77"}, "originalPosition": 22}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e1c364828284ae710dba84bd818a0bc599015884", "author": {"user": {"login": "aswinijena100", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/e1c364828284ae710dba84bd818a0bc599015884", "committedDate": "2020-10-13T16:07:04Z", "message": "Merge branch 'develop' into Data-integrity-Check-Response-Datastore"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA4NDczODM4", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1354#pullrequestreview-508473838", "createdAt": "2020-10-14T15:31:55Z", "commit": {"oid": "e1c364828284ae710dba84bd818a0bc599015884"}, "state": "DISMISSED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQxNTozMTo1NVrOHhY-mw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQxNTozMjozMFrOHhZARw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDc3NDI5OQ==", "bodyText": "nit: might have been better to name these total_count, completed_count and missed_count to clarify that they are integers", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1354#discussion_r504774299", "createdAt": "2020-10-14T15:31:55Z", "author": {"login": "zohrehj"}, "path": "response-datastore/response-server-service/src/main/java/com/google/cloud/healthcare/fdamystudies/response/model/ParticipantActivitiesEntity.java", "diffHunk": "@@ -0,0 +1,80 @@\n+/*\n+ * Copyright 2020 Google LLC\n+ *\n+ * Use of this source code is governed by an MIT-style\n+ * license that can be found in the LICENSE file or at\n+ * https://opensource.org/licenses/MIT.\n+ */\n+\n+package com.google.cloud.healthcare.fdamystudies.response.model;\n+\n+import static com.google.cloud.healthcare.fdamystudies.common.ColumnConstraints.LARGE_LENGTH;\n+import static com.google.cloud.healthcare.fdamystudies.common.ColumnConstraints.SMALL_LENGTH;\n+import static com.google.cloud.healthcare.fdamystudies.common.ColumnConstraints.XS_LENGTH;\n+\n+import java.io.Serializable;\n+import java.sql.Timestamp;\n+import javax.persistence.Column;\n+import javax.persistence.Entity;\n+import javax.persistence.GeneratedValue;\n+import javax.persistence.Id;\n+import javax.persistence.Index;\n+import javax.persistence.Table;\n+import lombok.Getter;\n+import lombok.Setter;\n+import org.hibernate.annotations.CreationTimestamp;\n+import org.hibernate.annotations.GenericGenerator;\n+\n+@Setter\n+@Getter\n+@Entity\n+@Table(\n+    name = \"participant_activities\",\n+    indexes = {\n+      @Index(name = \"participant_activities_participant_id_idx\", columnList = \"participant_id\"),\n+      @Index(name = \"participant_activities_study_id_idx\", columnList = \"study_id\")\n+    })\n+public class ParticipantActivitiesEntity implements Serializable {\n+\n+  private static final long serialVersionUID = 1005603353927628403L;\n+\n+  @Id\n+  @GeneratedValue(generator = \"system-uuid\")\n+  @GenericGenerator(name = \"system-uuid\", strategy = \"uuid\")\n+  @Column(name = \"id\", updatable = false, nullable = false)\n+  private String id;\n+\n+  @Column(name = \"participant_id\", nullable = false, length = SMALL_LENGTH)\n+  private String participantId;\n+\n+  @Column(name = \"study_id\", nullable = false, length = XS_LENGTH)\n+  private String studyId;\n+\n+  @Column(name = \"activity_id\", nullable = false, length = SMALL_LENGTH)\n+  private String activityId;\n+\n+  @Column(name = \"bookmark\", columnDefinition = \"TINYINT(1) default 0\")\n+  private Boolean bookmark;\n+\n+  @Column(name = \"activity_version\", nullable = false, length = XS_LENGTH)\n+  private String activityVersion;\n+\n+  @Column(name = \"activity_state\", nullable = false, length = LARGE_LENGTH)\n+  private String activityState;\n+\n+  @Column(name = \"activity_run_id\", nullable = false, length = XS_LENGTH)\n+  private String activityRunId;\n+\n+  @Column(name = \"total\")\n+  private Integer total;\n+\n+  @Column(name = \"completed\")\n+  private Integer completed;\n+\n+  @Column(name = \"missed\")\n+  private Integer missed;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e1c364828284ae710dba84bd818a0bc599015884"}, "originalPosition": 75}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDc3NDcyNw==", "bodyText": "please fix", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1354#discussion_r504774727", "createdAt": "2020-10-14T15:32:30Z", "author": {"login": "zohrehj"}, "path": "response-datastore/response-server-service/src/test/java/com/google/cloud/healthcare/fdamystudies/helper/TestDataHelper.java", "diffHunk": "@@ -19,12 +19,13 @@\n @Component\n public class TestDataHelper {\n \n-  @Autowired private ParticipantBoRepository participantBoRepository;\n+  @Autowired private ParticipantInfoRepository participantBoRepository;\n \n-  public ParticipantBo saveParticipant() {\n-    ParticipantBo participant = new ParticipantBo();\n-    participant.setTokenIdentifier(IdGenerator.id());\n-    participant.setParticipantIdentifier(IdGenerator.id());\n+  public ParticipantInfoEntity saveParticipant() {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDA3NTUxMw=="}, "originalCommit": {"oid": "af930900c54780073c1b6e7bf385cb8b23aeeb77"}, "originalPosition": 22}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b5aa3840179c516ca315df786d07d891ab24b096", "author": {"user": {"login": "aswinijena100", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/b5aa3840179c516ca315df786d07d891ab24b096", "committedDate": "2020-10-14T17:14:23Z", "message": "Rename Columns as per PR reveiw comments\n\nRename Columns as per PR reveiw comments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "61a79803e1defbf9e6aa184d49508ac7efea7e2c", "author": {"user": {"login": "aswinijena100", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/61a79803e1defbf9e6aa184d49508ac7efea7e2c", "committedDate": "2020-10-14T17:16:57Z", "message": "Merge branch 'develop' into Data-integrity-Check-Response-Datastore"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA4NTY5MzUx", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1354#pullrequestreview-508569351", "createdAt": "2020-10-14T17:23:15Z", "commit": {"oid": "61a79803e1defbf9e6aa184d49508ac7efea7e2c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 221, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}