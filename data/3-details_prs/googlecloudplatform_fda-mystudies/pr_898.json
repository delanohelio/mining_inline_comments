{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDgxMzU4NDI1", "number": 898, "title": "Study Metadata - Externalized Configuration", "bodyText": "Study Metadata Externalized Configuration\nCode Format + Organize Imports\nProperty Clean up(removed unused properties)", "createdAt": "2020-09-07T12:45:09Z", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/898", "merged": true, "mergeCommit": {"oid": "3bfc088fd0528f0972ab3ab38eb42d14e8efd116"}, "closed": true, "closedAt": "2020-09-28T13:59:40Z", "author": {"login": "aswinijena100"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdGiYiIgH2gAyNDgxMzU4NDI1OmY0NDU3NTcwNzY5NGQ0MTM2NmViNTQwZjg2MTQ3MmNhYzY0NzY0NmE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdNUB76AH2gAyNDgxMzU4NDI1OjFmMjJjYTBmYmYzNzljYWMwZTJjZTYzMWQwNDk2OWFkZGVkMmNiZDI=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "f44575707694d41366eb540f861472cac647646a", "author": {"user": {"login": "aswinijena100", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/f44575707694d41366eb540f861472cac647646a", "committedDate": "2020-09-07T12:44:21Z", "message": "Study Metadata : Externalized Configuration\n\nStudy Metadata Externalized Configuration\nCode Format + Organize Imports\nProperty Clean up(removed unused properties)"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg2ODM4NjM3", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/898#pullrequestreview-486838637", "createdAt": "2020-09-11T14:07:23Z", "commit": {"oid": "f44575707694d41366eb540f861472cac647646a"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMVQxNDowNzoyM1rOHQgWWA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMVQxNDoxMTo1MFrOHQghtQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzA2OTI3Mg==", "bodyText": "this seems like a significant change, does this setup require the deployment of wcp-resources as a separate pod?", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/898#discussion_r487069272", "createdAt": "2020-09-11T14:07:23Z", "author": {"login": "zohrehj"}, "path": "WCP-WS/src/main/resources/application.properties", "diffHunk": "@@ -1,46 +1,25 @@\n-# User registration server root URL\n-fda.registration.root.url=http://dummy-value/myStudiesUserMgmtWS\n-\n-#For server\n-fda.imgUploadPath=/webapps/fdaResources/\n-fda.currentPath=catalina.home\n-fda.imgDisplaydPath=/fdaResources/\n-\n-#For  server\n-acceptLinkMail =http://${BASE_URL}/studybuilder/createPassword.do?securityToken=\n-login.url=http://${BASE_URL}/studybuilder/login.do\n-signUp.url=http://${BASE_URL}/studybuilder/signUp.do?securityToken=\n-\n-# TODO: Change the IP/port to an env var and pass it in yaml file instead.\n-db.url=localhost:3306/${DB_NAME}\n-db.username=${DB_USER}\n-db.password=${DB_PASS}\n \n ########################## Web Configuration Portal Web-Services (WCP WS) Configuration Details  STARTS ##########################\n #DataBase Configuration\n # TODO: Change the IP/port to an env var and pass it in yaml file instead.\n # TODO: Figure out how to make hibernate respect env variables.\n # FOR NOW WE NEED TO MANUALLY CHANGE ${DB_NAME}, ${DB_USER} AND ${DB_PASS} IN THIS FILE BEFORE BUILDING THE IMAGE.\n-hibernate.connection.url=jdbc:mysql://localhost:3306/${DB_NAME}?autoReconnect=true\n+hibernate.connection.url=jdbc:mysql://${CLOUD_SQL_INSTANCE_IP}/${DB_NAME}?autoReconnect=true\n hibernate.connection.driver_class=com.mysql.cj.jdbc.Driver\n hibernate.connection.username=${DB_USER}\n hibernate.connection.password=${DB_PASS}\n \n fda.smd.catalinaPath=catalina.home\n \n #Study Image/Logo Path Local\n-fda.smd.study.thumbnailPath=http://${BASE_URL}/fdaResources/studylogo/\n-fda.smd.study.pagePath=http://${BASE_URL}/fdaResources/studypages/\n-fda.smd.resource.pdfPath=http://${BASE_URL}/fdaResources/studyResources/\n-fda.smd.questionnaire.image=http://${BASE_URL}/fdaResources/questionnaire/\n-fda.smd.gatewayResource.pdfPath=http://${BASE_URL}/fdaResources/gatewayResource/App_Glossary.pdf\n+fda.smd.study.thumbnailPath=${STUDY_BULDER_RESOURCE_URL}/studylogo/\n+fda.smd.study.pagePath=${STUDY_BULDER_RESOURCE_URL}/studypages/\n+fda.smd.resource.pdfPath=${STUDY_BULDER_RESOURCE_URL}/studyResources/\n+fda.smd.questionnaire.image=${STUDY_BULDER_RESOURCE_URL}/questionnaire/\n+fda.smd.gatewayResource.pdfPath=${STUDY_BULDER_RESOURCE_URL}/gatewayResource/App_Glossary.pdf", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f44575707694d41366eb540f861472cac647646a"}, "originalPosition": 42}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzA2OTUwOA==", "bodyText": "nit: terms_and_conditions_url", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/898#discussion_r487069508", "createdAt": "2020-09-11T14:07:46Z", "author": {"login": "zohrehj"}, "path": "WCP-WS/src/main/resources/application.properties", "diffHunk": "@@ -1,46 +1,25 @@\n-# User registration server root URL\n-fda.registration.root.url=http://dummy-value/myStudiesUserMgmtWS\n-\n-#For server\n-fda.imgUploadPath=/webapps/fdaResources/\n-fda.currentPath=catalina.home\n-fda.imgDisplaydPath=/fdaResources/\n-\n-#For  server\n-acceptLinkMail =http://${BASE_URL}/studybuilder/createPassword.do?securityToken=\n-login.url=http://${BASE_URL}/studybuilder/login.do\n-signUp.url=http://${BASE_URL}/studybuilder/signUp.do?securityToken=\n-\n-# TODO: Change the IP/port to an env var and pass it in yaml file instead.\n-db.url=localhost:3306/${DB_NAME}\n-db.username=${DB_USER}\n-db.password=${DB_PASS}\n \n ########################## Web Configuration Portal Web-Services (WCP WS) Configuration Details  STARTS ##########################\n #DataBase Configuration\n # TODO: Change the IP/port to an env var and pass it in yaml file instead.\n # TODO: Figure out how to make hibernate respect env variables.\n # FOR NOW WE NEED TO MANUALLY CHANGE ${DB_NAME}, ${DB_USER} AND ${DB_PASS} IN THIS FILE BEFORE BUILDING THE IMAGE.\n-hibernate.connection.url=jdbc:mysql://localhost:3306/${DB_NAME}?autoReconnect=true\n+hibernate.connection.url=jdbc:mysql://${CLOUD_SQL_INSTANCE_IP}/${DB_NAME}?autoReconnect=true\n hibernate.connection.driver_class=com.mysql.cj.jdbc.Driver\n hibernate.connection.username=${DB_USER}\n hibernate.connection.password=${DB_PASS}\n \n fda.smd.catalinaPath=catalina.home\n \n #Study Image/Logo Path Local\n-fda.smd.study.thumbnailPath=http://${BASE_URL}/fdaResources/studylogo/\n-fda.smd.study.pagePath=http://${BASE_URL}/fdaResources/studypages/\n-fda.smd.resource.pdfPath=http://${BASE_URL}/fdaResources/studyResources/\n-fda.smd.questionnaire.image=http://${BASE_URL}/fdaResources/questionnaire/\n-fda.smd.gatewayResource.pdfPath=http://${BASE_URL}/fdaResources/gatewayResource/App_Glossary.pdf\n+fda.smd.study.thumbnailPath=${STUDY_BULDER_RESOURCE_URL}/studylogo/\n+fda.smd.study.pagePath=${STUDY_BULDER_RESOURCE_URL}/studypages/\n+fda.smd.resource.pdfPath=${STUDY_BULDER_RESOURCE_URL}/studyResources/\n+fda.smd.questionnaire.image=${STUDY_BULDER_RESOURCE_URL}/questionnaire/\n+fda.smd.gatewayResource.pdfPath=${STUDY_BULDER_RESOURCE_URL}/gatewayResource/App_Glossary.pdf\n \n-fda.smd.pricaypolicy=https://www.fda.gov/AboutFDA/AboutThisWebsite/WebsitePolicies/#privacy\n-fda.smd.terms=https://www.fda.gov/AboutFDA/AboutThisWebsite/WebsitePolicies/\n-\n-#Reachout email\n-fda.smd.feedback=dummy-value\n-fda.smd.contactus=dummy-value\n+fda.smd.pricaypolicy=${PRIVACY_POLICY_URL}\n+fda.smd.terms=${TERMS_AND_CONDITION_URL}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f44575707694d41366eb540f861472cac647646a"}, "originalPosition": 51}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzA3MDY2MA==", "bodyText": "nit: please remove the start and end comment.", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/898#discussion_r487070660", "createdAt": "2020-09-11T14:09:38Z", "author": {"login": "zohrehj"}, "path": "WCP-WS/src/main/resources/application.properties", "diffHunk": "@@ -49,16 +28,7 @@ fda.current.path=catalina.home\n fda.docs.responses.path=/webapps/FDAResponce\n \n #User Registration Server URL\n-userRegistrationServerUrl=http://${USER_REGISTRATION_SERVER}/myStudiesUserMgmtWS/studies/studymetadata\n-userRegistrationServerPersonalizedResourcesUrl=http://${USER_REGISTRATION_SERVER}/myStudiesUserMgmtWS/getPersonalizedResources\n-\n-#Response Server URL\n-responseServerUrl=http://${RESPONSE_SERVER}/mystudies-response-server/studymetadata\n-\n-#clientId\n-WCPClientId=${CLIENT_ID}\n-\n-#SecretKey\n-WCPSecretKey=${SECRET_KEY}\n+userRegistrationServerUrl=${USER_MGMT_SERVICE_URL}/studies/studymetadata\n+userRegistrationServerPersonalizedResourcesUrl=${USER_MGMT_SERVICE_URL}/getPersonalizedResources\n \n ########################## Web Configuration Portal Web-Services (WCP WS) Configuration Details ENDS ##########################", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f44575707694d41366eb540f861472cac647646a"}, "originalPosition": 73}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzA3MTIxNA==", "bodyText": "are these properties in use?\ncan you please add comments to clarify what they are used for?", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/898#discussion_r487071214", "createdAt": "2020-09-11T14:10:25Z", "author": {"login": "zohrehj"}, "path": "WCP-WS/src/main/resources/application.properties", "diffHunk": "@@ -1,46 +1,25 @@\n-# User registration server root URL\n-fda.registration.root.url=http://dummy-value/myStudiesUserMgmtWS\n-\n-#For server\n-fda.imgUploadPath=/webapps/fdaResources/\n-fda.currentPath=catalina.home\n-fda.imgDisplaydPath=/fdaResources/\n-\n-#For  server\n-acceptLinkMail =http://${BASE_URL}/studybuilder/createPassword.do?securityToken=\n-login.url=http://${BASE_URL}/studybuilder/login.do\n-signUp.url=http://${BASE_URL}/studybuilder/signUp.do?securityToken=\n-\n-# TODO: Change the IP/port to an env var and pass it in yaml file instead.\n-db.url=localhost:3306/${DB_NAME}\n-db.username=${DB_USER}\n-db.password=${DB_PASS}\n \n ########################## Web Configuration Portal Web-Services (WCP WS) Configuration Details  STARTS ##########################\n #DataBase Configuration\n # TODO: Change the IP/port to an env var and pass it in yaml file instead.\n # TODO: Figure out how to make hibernate respect env variables.\n # FOR NOW WE NEED TO MANUALLY CHANGE ${DB_NAME}, ${DB_USER} AND ${DB_PASS} IN THIS FILE BEFORE BUILDING THE IMAGE.\n-hibernate.connection.url=jdbc:mysql://localhost:3306/${DB_NAME}?autoReconnect=true\n+hibernate.connection.url=jdbc:mysql://${CLOUD_SQL_INSTANCE_IP}/${DB_NAME}?autoReconnect=true\n hibernate.connection.driver_class=com.mysql.cj.jdbc.Driver\n hibernate.connection.username=${DB_USER}\n hibernate.connection.password=${DB_PASS}\n \n fda.smd.catalinaPath=catalina.home\n \n #Study Image/Logo Path Local\n-fda.smd.study.thumbnailPath=http://${BASE_URL}/fdaResources/studylogo/\n-fda.smd.study.pagePath=http://${BASE_URL}/fdaResources/studypages/\n-fda.smd.resource.pdfPath=http://${BASE_URL}/fdaResources/studyResources/\n-fda.smd.questionnaire.image=http://${BASE_URL}/fdaResources/questionnaire/\n-fda.smd.gatewayResource.pdfPath=http://${BASE_URL}/fdaResources/gatewayResource/App_Glossary.pdf\n+fda.smd.study.thumbnailPath=${STUDY_BULDER_RESOURCE_URL}/studylogo/\n+fda.smd.study.pagePath=${STUDY_BULDER_RESOURCE_URL}/studypages/\n+fda.smd.resource.pdfPath=${STUDY_BULDER_RESOURCE_URL}/studyResources/\n+fda.smd.questionnaire.image=${STUDY_BULDER_RESOURCE_URL}/questionnaire/\n+fda.smd.gatewayResource.pdfPath=${STUDY_BULDER_RESOURCE_URL}/gatewayResource/App_Glossary.pdf\n \n-fda.smd.pricaypolicy=https://www.fda.gov/AboutFDA/AboutThisWebsite/WebsitePolicies/#privacy\n-fda.smd.terms=https://www.fda.gov/AboutFDA/AboutThisWebsite/WebsitePolicies/\n-\n-#Reachout email\n-fda.smd.feedback=dummy-value\n-fda.smd.contactus=dummy-value\n+fda.smd.pricaypolicy=${PRIVACY_POLICY_URL}\n+fda.smd.terms=${TERMS_AND_CONDITION_URL}\n \n #App Environment -- > possible value : local / uat / prod\n fda.env=local", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f44575707694d41366eb540f861472cac647646a"}, "originalPosition": 54}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzA3MjE4MQ==", "bodyText": "I would like only the base URL to be passed in the properties file, other endpoints would ideally get generated in a java class that holds user_mgmt_service api information.", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/898#discussion_r487072181", "createdAt": "2020-09-11T14:11:50Z", "author": {"login": "zohrehj"}, "path": "WCP-WS/src/main/resources/application.properties", "diffHunk": "@@ -49,16 +28,7 @@ fda.current.path=catalina.home\n fda.docs.responses.path=/webapps/FDAResponce\n \n #User Registration Server URL\n-userRegistrationServerUrl=http://${USER_REGISTRATION_SERVER}/myStudiesUserMgmtWS/studies/studymetadata\n-userRegistrationServerPersonalizedResourcesUrl=http://${USER_REGISTRATION_SERVER}/myStudiesUserMgmtWS/getPersonalizedResources\n-\n-#Response Server URL\n-responseServerUrl=http://${RESPONSE_SERVER}/mystudies-response-server/studymetadata\n-\n-#clientId\n-WCPClientId=${CLIENT_ID}\n-\n-#SecretKey\n-WCPSecretKey=${SECRET_KEY}\n+userRegistrationServerUrl=${USER_MGMT_SERVICE_URL}/studies/studymetadata\n+userRegistrationServerPersonalizedResourcesUrl=${USER_MGMT_SERVICE_URL}/getPersonalizedResources", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f44575707694d41366eb540f861472cac647646a"}, "originalPosition": 71}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "328b884cf37e55c852de6e45c8b75a5cdc63ea0f", "author": {"user": {"login": "aswinijena100", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/328b884cf37e55c852de6e45c8b75a5cdc63ea0f", "committedDate": "2020-09-15T11:16:43Z", "message": "Merge branch 'develop' into studymetadata-externalized-configuration"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7384ce6644be6631823f912889a899becae376b5", "author": {"user": {"login": "aswinijena100", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/7384ce6644be6631823f912889a899becae376b5", "committedDate": "2020-09-18T12:13:15Z", "message": "Added DB refernce link for properties and removed unused property\n\nAdded DB refernce link for properties and removed unused property"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dc1280fa5a1e040b5139ade947b647ff369a36d9", "author": {"user": {"login": "dhanyak-btc", "name": "Dhanya Kumar KV"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/dc1280fa5a1e040b5139ade947b647ff369a36d9", "committedDate": "2020-09-25T18:03:57Z", "message": "Merge branch 'develop' into studymetadata-externalized-configuration"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a8504769c673f86c3b72bc0a33beb12e8a59523e", "author": {"user": {"login": "navya-BTC", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/a8504769c673f86c3b72bc0a33beb12e8a59523e", "committedDate": "2020-09-26T07:21:41Z", "message": "Merge branch 'develop' into studymetadata-externalized-configuration"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "abac37d1b1fd9b4cabbaf4ddf7a61db0e2904db5", "author": {"user": {"login": "navya-BTC", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/abac37d1b1fd9b4cabbaf4ddf7a61db0e2904db5", "committedDate": "2020-09-26T12:41:34Z", "message": "Merge branch 'develop' into studymetadata-externalized-configuration"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk3NTMwNjQz", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/898#pullrequestreview-497530643", "createdAt": "2020-09-28T13:49:10Z", "commit": {"oid": "abac37d1b1fd9b4cabbaf4ddf7a61db0e2904db5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1f22ca0fbf379cac0e2ce631d04969added2cbd2", "author": {"user": {"login": "Kantharajut-btc", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/1f22ca0fbf379cac0e2ce631d04969added2cbd2", "committedDate": "2020-09-28T13:58:28Z", "message": "Merge branch 'develop' into studymetadata-externalized-configuration"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 456, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}