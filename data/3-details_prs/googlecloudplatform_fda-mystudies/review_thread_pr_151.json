{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAzOTAyOTU5", "number": 151, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQxNzo1NDoyMVrODyLlVQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQxNzo1NTo0NFrODyLnbw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUzOTQ1MTczOnYy", "diffSide": "RIGHT", "path": "Terraform/org/folder.fda-my-studies/project.heroes-hat-dev-networks/networks/bastion.tf", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQxNzo1NDoyMVrOGGFEbQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQxODowNDoyN1rOGGFbYA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTAyNzY5Mw==", "bodyText": "Can you update the connect instruction above as well? Proxy wasn't necessary when I try to connect from bastion using mysql", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/151#discussion_r409027693", "createdAt": "2020-04-15T17:54:21Z", "author": {"login": "xingao267"}, "path": "Terraform/org/folder.fda-my-studies/project.heroes-hat-dev-networks/networks/bastion.tf", "diffHunk": "@@ -26,14 +26,15 @@ module \"bastion\" {\n   subnet         = module.private.subnets[\"${var.region}/${local.bastion_subnet_name}\"].self_link\n   image_family   = \"ubuntu-1804-lts\"\n   members        = var.bastion_users\n+  scopes         = [\n+    \"https://www.googleapis.com/auth/sqlservice.admin\",\n+  ]\n   startup_script = <<EOF\n #!/bin/bash\n-if dpkg -l mysql-client-core-5.7; then\n-  echo \"mysql-client already installed\"\n-else\n-  sudo apt-get -y update\n-  sudo apt-get -y install mysql-client-core-5.7\n-fi\n+sudo apt-get -y update\n+sudo apt-get -y install mysql-client-core-5.7\n+wget https://dl.google.com/cloudsql/cloud_sql_proxy.linux.amd64 -O cloud_sql_proxy", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "51e02753dfdbc741e713232071e2f07d470846bf"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTAzMzU2OA==", "bodyText": "Done", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/151#discussion_r409033568", "createdAt": "2020-04-15T18:04:27Z", "author": {"login": "umairidris"}, "path": "Terraform/org/folder.fda-my-studies/project.heroes-hat-dev-networks/networks/bastion.tf", "diffHunk": "@@ -26,14 +26,15 @@ module \"bastion\" {\n   subnet         = module.private.subnets[\"${var.region}/${local.bastion_subnet_name}\"].self_link\n   image_family   = \"ubuntu-1804-lts\"\n   members        = var.bastion_users\n+  scopes         = [\n+    \"https://www.googleapis.com/auth/sqlservice.admin\",\n+  ]\n   startup_script = <<EOF\n #!/bin/bash\n-if dpkg -l mysql-client-core-5.7; then\n-  echo \"mysql-client already installed\"\n-else\n-  sudo apt-get -y update\n-  sudo apt-get -y install mysql-client-core-5.7\n-fi\n+sudo apt-get -y update\n+sudo apt-get -y install mysql-client-core-5.7\n+wget https://dl.google.com/cloudsql/cloud_sql_proxy.linux.amd64 -O cloud_sql_proxy", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTAyNzY5Mw=="}, "originalCommit": {"oid": "51e02753dfdbc741e713232071e2f07d470846bf"}, "originalPosition": 17}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUzOTQ1NzExOnYy", "diffSide": "RIGHT", "path": "Terraform/org/folder.fda-my-studies/project.heroes-hat-dev-data/iam/variables.tf", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQxNzo1NTo0NFrOGGFHzA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQxODowNDoyMFrOGGFbMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTAyODU1Ng==", "bodyText": "maybe sql_client_service_accounts to be clear they should only be SAs.", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/151#discussion_r409028556", "createdAt": "2020-04-15T17:55:44Z", "author": {"login": "xingao267"}, "path": "Terraform/org/folder.fda-my-studies/project.heroes-hat-dev-data/iam/variables.tf", "diffHunk": "@@ -2,8 +2,7 @@ variable \"project_id\" {\n   type = string\n }\n \n-variable \"gke_service_account\" {\n-  description = \"The service account used by the GKE cluster\"\n-  type        = string\n+variable \"sql_clients\" {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "51e02753dfdbc741e713232071e2f07d470846bf"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTAzMzUyMg==", "bodyText": "Done", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/151#discussion_r409033522", "createdAt": "2020-04-15T18:04:20Z", "author": {"login": "umairidris"}, "path": "Terraform/org/folder.fda-my-studies/project.heroes-hat-dev-data/iam/variables.tf", "diffHunk": "@@ -2,8 +2,7 @@ variable \"project_id\" {\n   type = string\n }\n \n-variable \"gke_service_account\" {\n-  description = \"The service account used by the GKE cluster\"\n-  type        = string\n+variable \"sql_clients\" {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTAyODU1Ng=="}, "originalCommit": {"oid": "51e02753dfdbc741e713232071e2f07d470846bf"}, "originalPosition": 7}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1318, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}