{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDgwNzY2ODYy", "number": 889, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wN1QxNzozMjozOVrOEg_6dA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOFQxNDoyMzoyM1rOEk_fow==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAzMDM3MDQ0OnYy", "diffSide": "RIGHT", "path": "common-modules/common-tests/src/main/resources/application-mockit-common.properties", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wN1QxNzozMjozOVrOHOFaRQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOFQwODo0NjoxM1rOHOTCsQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDUzMDc1Nw==", "bodyText": "Might be better to use local path here, e.g. ./logs.\nThis won't work in different operating systems", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/889#discussion_r484530757", "createdAt": "2020-09-07T17:32:39Z", "author": {"login": "zohrehj"}, "path": "common-modules/common-tests/src/main/resources/application-mockit-common.properties", "diffHunk": "@@ -3,6 +3,7 @@ logging.level.root=INFO\n logging.level.com.google.cloud.healthcare.fdamystudies=ERROR\n logging.level.org.apache.http=ERROR\n logging.level.org.springframework.web.client.RestTemplate=ERROR\n+logging.path=C:/logs", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d6887ee9ed92b44ae740385e915694f79f478fee"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDc1NDA5Nw==", "bodyText": "Fixed review comment", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/889#discussion_r484754097", "createdAt": "2020-09-08T08:46:13Z", "author": {"login": "dhanyak-btc"}, "path": "common-modules/common-tests/src/main/resources/application-mockit-common.properties", "diffHunk": "@@ -3,6 +3,7 @@ logging.level.root=INFO\n logging.level.com.google.cloud.healthcare.fdamystudies=ERROR\n logging.level.org.apache.http=ERROR\n logging.level.org.springframework.web.client.RestTemplate=ERROR\n+logging.path=C:/logs", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDUzMDc1Nw=="}, "originalCommit": {"oid": "d6887ee9ed92b44ae740385e915694f79f478fee"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAzMDM3MzQzOnYy", "diffSide": "RIGHT", "path": "participant-manager-module/participant-manager-service/src/main/resources/application.properties", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wN1QxNzozNDo1M1rOHOFb0w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOFQwODo0ODoxN1rOHOTH4g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDUzMTE1NQ==", "bodyText": "please add documentation as to what these values should hold.\nFor the default flag, I would suggest just adding the value we recommend for most users and let them to modify it if they need to.", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/889#discussion_r484531155", "createdAt": "2020-09-07T17:34:53Z", "author": {"login": "zohrehj"}, "path": "participant-manager-module/participant-manager-service/src/main/resources/application.properties", "diffHunk": "@@ -39,6 +42,28 @@ smtp.hostname=${SMTP_HOSTNAME}\n smtp.port=465\n factory.value=javax.net.ssl.SSLSocketFactory\n \n-bucket.name=consent-test-pdf\n+bucket.name=${GCP_BUCKET_NAME}\n+\n+org.name=${ORG_NAME}\n+\n+## Spring DATASOURCE (DataSourceAutoConfiguration & DataSourceProperties)\n+spring.datasource.url=jdbc:mysql://${CLOUD_SQL_INSTANCE_IP}/${DB_NAME}?createDatabaseIfNotExist=false&autoReconnect=true&characterEncoding=utf8&useSSL=true&allowPublicKeyRetrieval=true\n+spring.datasource.username=${DB_USER}\n+spring.datasource.password=${DB_PASS}\n+spring.datasource.driverClassName=com.mysql.cj.jdbc.Driver\n+spring.jpa.database-platform=org.hibernate.dialect.MySQL55Dialect\n+spring.jpa.hibernate.ddl-auto=none\n+spring.jpa.show-sql=false\n+\n+# hikari   \n+spring.datasource.type=com.zaxxer.hikari.HikariDataSource\n+spring.datasource.hikari.connection-test-query=SELECT 1\n+spring.datasource.hikari.idle-timeout=600000\n+spring.datasource.hikari.minimum-idle=10\n+spring.datasource.hikari.maximum-pool-size=100\n+spring.datasource.hikari.connectionTimeout=30000\n+spring.datasource.hikari.maxLifetime=1800000\n \n-org.name=Org Name\n+# Spring Boot Actuator configs, check the details at http://localhost:8003/participant-manager-service/actuator\n+management.endpoints.enabled-by-default=${ACTUATOR_ENABLED_BY_DEFAULT}\n+management.endpoints.web.exposure.include=${ACTUATOR_EXPOSE_ENDPOINTS}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d6887ee9ed92b44ae740385e915694f79f478fee"}, "originalPosition": 58}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDc1NTQyNg==", "bodyText": "Added a comment to refer Spring Actuator Exposing Endpoints for more details on available endpoints. Changed the prop values as below:\nmanagement.endpoints.enabled-by-default=true\nmanagement.endpoints.web.exposure.include=logfile,loggers", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/889#discussion_r484755426", "createdAt": "2020-09-08T08:48:17Z", "author": {"login": "dhanyak-btc"}, "path": "participant-manager-module/participant-manager-service/src/main/resources/application.properties", "diffHunk": "@@ -39,6 +42,28 @@ smtp.hostname=${SMTP_HOSTNAME}\n smtp.port=465\n factory.value=javax.net.ssl.SSLSocketFactory\n \n-bucket.name=consent-test-pdf\n+bucket.name=${GCP_BUCKET_NAME}\n+\n+org.name=${ORG_NAME}\n+\n+## Spring DATASOURCE (DataSourceAutoConfiguration & DataSourceProperties)\n+spring.datasource.url=jdbc:mysql://${CLOUD_SQL_INSTANCE_IP}/${DB_NAME}?createDatabaseIfNotExist=false&autoReconnect=true&characterEncoding=utf8&useSSL=true&allowPublicKeyRetrieval=true\n+spring.datasource.username=${DB_USER}\n+spring.datasource.password=${DB_PASS}\n+spring.datasource.driverClassName=com.mysql.cj.jdbc.Driver\n+spring.jpa.database-platform=org.hibernate.dialect.MySQL55Dialect\n+spring.jpa.hibernate.ddl-auto=none\n+spring.jpa.show-sql=false\n+\n+# hikari   \n+spring.datasource.type=com.zaxxer.hikari.HikariDataSource\n+spring.datasource.hikari.connection-test-query=SELECT 1\n+spring.datasource.hikari.idle-timeout=600000\n+spring.datasource.hikari.minimum-idle=10\n+spring.datasource.hikari.maximum-pool-size=100\n+spring.datasource.hikari.connectionTimeout=30000\n+spring.datasource.hikari.maxLifetime=1800000\n \n-org.name=Org Name\n+# Spring Boot Actuator configs, check the details at http://localhost:8003/participant-manager-service/actuator\n+management.endpoints.enabled-by-default=${ACTUATOR_ENABLED_BY_DEFAULT}\n+management.endpoints.web.exposure.include=${ACTUATOR_EXPOSE_ENDPOINTS}", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDUzMTE1NQ=="}, "originalCommit": {"oid": "d6887ee9ed92b44ae740385e915694f79f478fee"}, "originalPosition": 58}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAzMDM3NTQ2OnYy", "diffSide": "RIGHT", "path": "participant-manager-module/participant-manager-service/src/main/resources/application.properties", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wN1QxNzozNjoxMlrOHOFc4A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOFQxMDo0NDo0NlrOHOXSEw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDUzMTQyNA==", "bodyText": "why are these values being passed in the datasource url? Is this a workaround?\nIs there any other, more descriptive  way of setting these properties?\nalso we need to keep track of all new deployment variables, please document how these values should be set either here or in the quick start guide.", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/889#discussion_r484531424", "createdAt": "2020-09-07T17:36:12Z", "author": {"login": "zohrehj"}, "path": "participant-manager-module/participant-manager-service/src/main/resources/application.properties", "diffHunk": "@@ -39,6 +42,28 @@ smtp.hostname=${SMTP_HOSTNAME}\n smtp.port=465\n factory.value=javax.net.ssl.SSLSocketFactory\n \n-bucket.name=consent-test-pdf\n+bucket.name=${GCP_BUCKET_NAME}\n+\n+org.name=${ORG_NAME}\n+\n+## Spring DATASOURCE (DataSourceAutoConfiguration & DataSourceProperties)\n+spring.datasource.url=jdbc:mysql://${CLOUD_SQL_INSTANCE_IP}/${DB_NAME}?createDatabaseIfNotExist=false&autoReconnect=true&characterEncoding=utf8&useSSL=true&allowPublicKeyRetrieval=true", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d6887ee9ed92b44ae740385e915694f79f478fee"}, "originalPosition": 38}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDgyMzU3MQ==", "bodyText": "My bad, I referred early-access branch for correct url and replaced it.\nI also read Google Cloud SQL \u2014 4 ways (Spring) and since we're using cloud sql proxy in tf-deployment.yaml , we don't need to provide ${CLOUD_SQL_INSTANCE_IP}", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/889#discussion_r484823571", "createdAt": "2020-09-08T10:44:46Z", "author": {"login": "dhanyak-btc"}, "path": "participant-manager-module/participant-manager-service/src/main/resources/application.properties", "diffHunk": "@@ -39,6 +42,28 @@ smtp.hostname=${SMTP_HOSTNAME}\n smtp.port=465\n factory.value=javax.net.ssl.SSLSocketFactory\n \n-bucket.name=consent-test-pdf\n+bucket.name=${GCP_BUCKET_NAME}\n+\n+org.name=${ORG_NAME}\n+\n+## Spring DATASOURCE (DataSourceAutoConfiguration & DataSourceProperties)\n+spring.datasource.url=jdbc:mysql://${CLOUD_SQL_INSTANCE_IP}/${DB_NAME}?createDatabaseIfNotExist=false&autoReconnect=true&characterEncoding=utf8&useSSL=true&allowPublicKeyRetrieval=true", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDUzMTQyNA=="}, "originalCommit": {"oid": "d6887ee9ed92b44ae740385e915694f79f478fee"}, "originalPosition": 38}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA3MjI0NDgzOnYy", "diffSide": "RIGHT", "path": "participant-manager-module/participant-manager-service/src/main/resources/application.properties", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOFQxNDoyMzoyM1rOHUPYIw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNFQwOToyMzozNVrOHXRnpQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDk4NTUwNw==", "bodyText": "please add a comment describing what this bucket name is used for", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/889#discussion_r490985507", "createdAt": "2020-09-18T14:23:23Z", "author": {"login": "zohrehj"}, "path": "participant-manager-module/participant-manager-service/src/main/resources/application.properties", "diffHunk": "@@ -39,6 +39,30 @@ smtp.hostname=${SMTP_HOSTNAME}\n smtp.port=465\n factory.value=javax.net.ssl.SSLSocketFactory\n \n-bucket.name=consent-test-pdf\n+bucket.name=${GCP_BUCKET_NAME}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7974406d0c9961be379940c692ea1648340cc88f"}, "originalPosition": 37}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDE2Nzk3Mw==", "bodyText": "Fixed review comment.", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/889#discussion_r494167973", "createdAt": "2020-09-24T09:23:35Z", "author": {"login": "madhurya-btc"}, "path": "participant-manager-module/participant-manager-service/src/main/resources/application.properties", "diffHunk": "@@ -39,6 +39,30 @@ smtp.hostname=${SMTP_HOSTNAME}\n smtp.port=465\n factory.value=javax.net.ssl.SSLSocketFactory\n \n-bucket.name=consent-test-pdf\n+bucket.name=${GCP_BUCKET_NAME}", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDk4NTUwNw=="}, "originalCommit": {"oid": "7974406d0c9961be379940c692ea1648340cc88f"}, "originalPosition": 37}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1949, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}