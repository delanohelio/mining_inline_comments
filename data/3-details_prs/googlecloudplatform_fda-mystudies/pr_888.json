{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDgwNzI5NTIx", "number": 888, "title": "OAuth Scim Service - Externalized configuration And Add @EntityScan to exclude common entities", "bodyText": "Added placeholders for properties in application.properties\nAdded @EntityScan to avoid creating tables for Entities in common-service\nSource Code Format + Organize Imports", "createdAt": "2020-09-06T11:11:23Z", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/888", "merged": true, "mergeCommit": {"oid": "7cf0e3ef404266c358bab176c35e1af4568a2dbf"}, "closed": true, "closedAt": "2020-09-14T12:37:53Z", "author": {"login": "dhanyak-btc"}, "timelineItems": {"totalCount": 16, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdGMUQZAH2gAyNDgwNzI5NTIxOmQ5ZGU5N2U1NGMyNGQ4ODIwZDQ3MmMzNDQ3ZDgzZWM5OTc1MmNlNzM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdIyapHgFqTQ4NzcwNTAwOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "d9de97e54c24d8820d472c3447d83ec99752ce73", "author": {"user": {"login": "dhanyak-btc", "name": "Dhanya Kumar KV"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/d9de97e54c24d8820d472c3447d83ec99752ce73", "committedDate": "2020-09-06T11:01:46Z", "message": "OAuth Scim Service - Externalized Configuration\n\nOAuth Scim Service - Externalized Configuration"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "44cd76a847e372d5d544c69fe219a85781d976f7", "author": {"user": {"login": "dhanyak-btc", "name": "Dhanya Kumar KV"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/44cd76a847e372d5d544c69fe219a85781d976f7", "committedDate": "2020-09-06T11:09:40Z", "message": "Added @EntityScan to avoid creating tables for Entities in common-service\n\nAdded @EntityScan to avoid creating tables for Entities in common-service\n\nRemoved participant.datastore.entities.enabled=false"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "286636f830de8bee8bc623cb0db08c8d06633cc9", "author": {"user": {"login": "dhanyak-btc", "name": "Dhanya Kumar KV"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/286636f830de8bee8bc623cb0db08c8d06633cc9", "committedDate": "2020-09-06T14:14:36Z", "message": "Added ${CLIENT_ID} and ${SECRET_KEY}\n\nAdded ${CLIENT_ID} and ${SECRET_KEY}"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1c086c2851dfe0b5ed5c968f246c720d067c8ea6", "author": {"user": {"login": "dhanyak-btc", "name": "Dhanya Kumar KV"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/1c086c2851dfe0b5ed5c968f246c720d067c8ea6", "committedDate": "2020-09-08T10:52:31Z", "message": "Changed datasource url and actuator properties\n\nChanged datasource url and actuator properties"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg0MjExOTA3", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/888#pullrequestreview-484211907", "createdAt": "2020-09-08T14:42:21Z", "commit": {"oid": "1c086c2851dfe0b5ed5c968f246c720d067c8ea6"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOFQxNDo0MjoyMVrOHOgjVQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOFQxNDo1NjowNFrOHOhLuA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDk3NTQ0NQ==", "bodyText": "any reason why these values have been changed?", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/888#discussion_r484975445", "createdAt": "2020-09-08T14:42:21Z", "author": {"login": "zohrehj"}, "path": "common-modules/common-tests/src/main/resources/application-mockit-common.properties", "diffHunk": "@@ -1,13 +1,15 @@\n+spring.profiles.active=mockit", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1c086c2851dfe0b5ed5c968f246c720d067c8ea6"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDk4MzEwNA==", "bodyText": "why change this?", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/888#discussion_r484983104", "createdAt": "2020-09-08T14:52:27Z", "author": {"login": "zohrehj"}, "path": "oauth-scim-module/oauth-scim-service/src/main/java/com/google/cloud/healthcare/fdamystudies/oauthscim/mapper/UserMapper.java", "diffHunk": "@@ -12,7 +12,7 @@\n import com.google.cloud.healthcare.fdamystudies.beans.UserResponse;\n import com.google.cloud.healthcare.fdamystudies.common.IdGenerator;\n import com.google.cloud.healthcare.fdamystudies.common.UserAccountStatus;\n-import com.google.cloud.healthcare.fdamystudies.oauthscim.model.UserEntity;\n+import com.google.cloud.healthcare.fdamystudies.oauthscim.model.oauthscim.UserEntity;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1c086c2851dfe0b5ed5c968f246c720d067c8ea6"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDk4Mzk1Mw==", "bodyText": "what's the reason for this change?\nhaving oauthscim.mode.oauthscim as the package does not read very well.", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/888#discussion_r484983953", "createdAt": "2020-09-08T14:53:37Z", "author": {"login": "zohrehj"}, "path": "oauth-scim-module/oauth-scim-service/src/main/java/com/google/cloud/healthcare/fdamystudies/oauthscim/model/oauthscim/UserEntity.java", "diffHunk": "@@ -6,7 +6,7 @@\n  * https://opensource.org/licenses/MIT.\n  */\n \n-package com.google.cloud.healthcare.fdamystudies.oauthscim.model;\n+package com.google.cloud.healthcare.fdamystudies.oauthscim.model.oauthscim;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1c086c2851dfe0b5ed5c968f246c720d067c8ea6"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDk4NTc4NA==", "bodyText": "unless we expect the application to be able to change this URL, this does not need to be part of application properties.\nKeeping only the PARTICIPANT_MANAGER_URL as a variable, we can generate the rest of the paths in the application.", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/888#discussion_r484985784", "createdAt": "2020-09-08T14:56:04Z", "author": {"login": "zohrehj"}, "path": "oauth-scim-module/oauth-scim-service/src/main/resources/application.properties", "diffHunk": "@@ -26,12 +82,43 @@ oauth.scim.service.max.invalid.login.attempts=5\n oauth.scim.service.account.lockout.period.minutes=15\n oauth.scim.service.reset.password.expiry.hours=48\n # Email configs\n-mail.contact-email=apps@boston-technology.com\n-mail.from-email=apps@boston-technology.com\n+mail.contact-email=${MAIL_CONTACT_EMAIL}\n+mail.from-email=${MAIL_FROM_EMAIL}\n \n mail.subject.reset-password=Password Help for your account:  @orgId@\\u2019s  Study Builder portal\n mail.body.reset-password=<html><body><div style='margin:20px;padding:10px;font-family: sans-serif;font-size: 14px;'><span>Hi,</span><br/><br/><span>Thank you for reaching out for password help for your account on @orgId@&apos;s Study Builder portal.</span><br/><br/><span>Here is a temporary password which you can use to sign in to the @orgId@ MyStudies App.<br/> You will be required to set up a new password after signing in.</span><br/><br/><span><strong>Temporary Password: </strong><b>@tempPassword@</b> </span><br/><br/><span>Please note that this temporary password can be used only once and is valid for a period of 48 hours only.</span><br/><br/><span>For any questions or assistance, please write to <a>@contactEmail@</a> </span><br/><br/><span style='font-size:15px;'>Thanks,</span><br/><span>The @orgId@ MyStudies Support Team</span><br/><span>----------------------------------------------------</span><br/><span style='font-size:10px;'>PS - This is an auto-generated email. Please do not reply. In case you did not request password help, please visit the app and change your password as a precautionary measure.</span></div></body></html>\n \n oauth.scim.service.email.account.locked.subject=Your account has been locked.\n oauth.scim.service.email.account.locked.content=<html><body><div style='margin:20px;padding:10px;font-family: sans-serif;font-size: 14px;'><span>Hi,</span><br/><br/><span>This is to inform you that, as a security measure, your user account for @appId@ app<br/>has been temporarily locked for a period of ${oauth.scim.service.account.lockout.period.minutes} minutes, due to multiple consecutive failed sign-in<br/>attempts with incorrect password.<br/><br/><span>Please try signing in again after this period.</span><br/><br/><span>Alternatively, you could reset your password as follows:</span><br/><br/><span>Use the temporary password given below to sign in to the @appId@ app. You will be<br/>required to set up a new password after signing in.</span><br/><br/><span><strong>Temporary Password: </strong>@tempPassword@</span><br/><br/><span>Please note that this temporary password can be used only once and is valid for a period of<br/>${oauth.scim.service.account.lockout.period.minutes} minutes only.</span><br/><br/><span>For any questions or assistance, please write to <a>@contactEmail@</a></span><br/><br/><span style='font-size:15px;'>Thanks,</span><span>The @appId@ Support Team<span><br/><span>-------------------------------------------------------------------------------------------------</span><br/><span style='font-size:10px;'>Note: This is an auto-generated email. Please do not reply.</span></div></body></html>\n \n+# Redirect URL's\n+participant.manager.callback-url=${PARTICIPANT_MANAGER_URL}/callback", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1c086c2851dfe0b5ed5c968f246c720d067c8ea6"}, "originalPosition": 84}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ee6d18c853627f8e44f596b3b0e7b8f97bf4661e", "author": {"user": {"login": "dhanyak-btc", "name": "Dhanya Kumar KV"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/ee6d18c853627f8e44f596b3b0e7b8f97bf4661e", "committedDate": "2020-09-10T11:52:00Z", "message": "Reverted entity package name changes\n\nReverted entity package name changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fa82c495ff3af62494f9e50c0d523ffa9f9bdcde", "author": {"user": {"login": "dhanyak-btc", "name": "Dhanya Kumar KV"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/fa82c495ff3af62494f9e50c0d523ffa9f9bdcde", "committedDate": "2020-09-10T15:24:22Z", "message": "Added # to participant manager redirect url\n\nAdded # to participant manager redirect url"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fe461a9cd77d9d62619e2c878ee3467d36092e7e", "author": {"user": {"login": "dhanyak-btc", "name": "Dhanya Kumar KV"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/fe461a9cd77d9d62619e2c878ee3467d36092e7e", "committedDate": "2020-09-10T15:29:44Z", "message": "Merge branch 'develop' into oauth_scim_externalized_configuration"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg2MTM2MjAw", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/888#pullrequestreview-486136200", "createdAt": "2020-09-10T17:00:52Z", "commit": {"oid": "fe461a9cd77d9d62619e2c878ee3467d36092e7e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMFQxNzowMDo1M1rOHP9bow==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMFQxNzowMDo1M1rOHP9bow==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjQ5NzE4Nw==", "bodyText": "one idea is to include /# in PARTICIPANT_MANAGER_URL", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/888#discussion_r486497187", "createdAt": "2020-09-10T17:00:53Z", "author": {"login": "zohrehj"}, "path": "oauth-scim-module/oauth-scim-service/src/main/resources/application.properties", "diffHunk": "@@ -26,12 +82,43 @@ oauth.scim.service.max.invalid.login.attempts=5\n oauth.scim.service.account.lockout.period.minutes=15\n oauth.scim.service.reset.password.expiry.hours=48\n # Email configs\n-mail.contact-email=apps@boston-technology.com\n-mail.from-email=apps@boston-technology.com\n+mail.contact-email=${MAIL_CONTACT_EMAIL}\n+mail.from-email=${MAIL_FROM_EMAIL}\n \n mail.subject.reset-password=Password Help for your account:  @orgId@\\u2019s  Study Builder portal\n mail.body.reset-password=<html><body><div style='margin:20px;padding:10px;font-family: sans-serif;font-size: 14px;'><span>Hi,</span><br/><br/><span>Thank you for reaching out for password help for your account on @orgId@&apos;s Study Builder portal.</span><br/><br/><span>Here is a temporary password which you can use to sign in to the @orgId@ MyStudies App.<br/> You will be required to set up a new password after signing in.</span><br/><br/><span><strong>Temporary Password: </strong><b>@tempPassword@</b> </span><br/><br/><span>Please note that this temporary password can be used only once and is valid for a period of 48 hours only.</span><br/><br/><span>For any questions or assistance, please write to <a>@contactEmail@</a> </span><br/><br/><span style='font-size:15px;'>Thanks,</span><br/><span>The @orgId@ MyStudies Support Team</span><br/><span>----------------------------------------------------</span><br/><span style='font-size:10px;'>PS - This is an auto-generated email. Please do not reply. In case you did not request password help, please visit the app and change your password as a precautionary measure.</span></div></body></html>\n \n oauth.scim.service.email.account.locked.subject=Your account has been locked.\n oauth.scim.service.email.account.locked.content=<html><body><div style='margin:20px;padding:10px;font-family: sans-serif;font-size: 14px;'><span>Hi,</span><br/><br/><span>This is to inform you that, as a security measure, your user account for @appId@ app<br/>has been temporarily locked for a period of ${oauth.scim.service.account.lockout.period.minutes} minutes, due to multiple consecutive failed sign-in<br/>attempts with incorrect password.<br/><br/><span>Please try signing in again after this period.</span><br/><br/><span>Alternatively, you could reset your password as follows:</span><br/><br/><span>Use the temporary password given below to sign in to the @appId@ app. You will be<br/>required to set up a new password after signing in.</span><br/><br/><span><strong>Temporary Password: </strong>@tempPassword@</span><br/><br/><span>Please note that this temporary password can be used only once and is valid for a period of<br/>${oauth.scim.service.account.lockout.period.minutes} minutes only.</span><br/><br/><span>For any questions or assistance, please write to <a>@contactEmail@</a></span><br/><br/><span style='font-size:15px;'>Thanks,</span><span>The @appId@ Support Team<span><br/><span>-------------------------------------------------------------------------------------------------</span><br/><span style='font-size:10px;'>Note: This is an auto-generated email. Please do not reply.</span></div></body></html>\n \n+# Redirect URL's\n+participant.manager.callback-url=${PARTICIPANT_MANAGER_URL}/#/callback", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fe461a9cd77d9d62619e2c878ee3467d36092e7e"}, "originalPosition": 84}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3dd34d7283574ff93fc0ee5848d662e7fbd025c4", "author": {"user": {"login": "dhanyak-btc", "name": "Dhanya Kumar KV"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/3dd34d7283574ff93fc0ee5848d662e7fbd025c4", "committedDate": "2020-09-11T07:30:20Z", "message": "Merge branch 'develop' into oauth_scim_externalized_configuration"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f130e2758cef33efb415ef614c18d5cd8f9969f9", "author": {"user": {"login": "dhanyak-btc", "name": "Dhanya Kumar KV"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/f130e2758cef33efb415ef614c18d5cd8f9969f9", "committedDate": "2020-09-11T07:50:18Z", "message": "Fixed review comment on redirect urls\n\nFixed review comment on redirect urls"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5c57cdbd0dd5356a759350899bbd0392c7ab8f69", "author": {"user": {"login": "dhanyak-btc", "name": "Dhanya Kumar KV"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/5c57cdbd0dd5356a759350899bbd0392c7ab8f69", "committedDate": "2020-09-11T08:30:36Z", "message": "updated actuator link\n\nupdated actuator link"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg2ODAxMzU3", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/888#pullrequestreview-486801357", "createdAt": "2020-09-11T13:23:02Z", "commit": {"oid": "5c57cdbd0dd5356a759350899bbd0392c7ab8f69"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e450d5adb554b758105b1b5d8bebbce95e43bbd8", "author": {"user": {"login": "dhanyak-btc", "name": "Dhanya Kumar KV"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/e450d5adb554b758105b1b5d8bebbce95e43bbd8", "committedDate": "2020-09-14T05:13:41Z", "message": "Merge branch 'develop' into oauth_scim_externalized_configuration"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a5ede4e17f9e672431c8ba6f7a72ea576cf939be", "author": {"user": {"login": "dhanyak-btc", "name": "Dhanya Kumar KV"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/a5ede4e17f9e672431c8ba6f7a72ea576cf939be", "committedDate": "2020-09-14T05:17:35Z", "message": "Merge branch 'develop' into oauth_scim_externalized_configuration"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg3NzA1MDA4", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/888#pullrequestreview-487705008", "createdAt": "2020-09-14T12:32:59Z", "commit": {"oid": "a5ede4e17f9e672431c8ba6f7a72ea576cf939be"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 438, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}