{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDgwNzY3OTg3", "number": 890, "title": "User Mgmt service- Externalized configuration", "bodyText": "User Mgmt service- Externalized configuration.\nCode Format + Organize Imports", "createdAt": "2020-09-06T13:34:24Z", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/890", "merged": true, "mergeCommit": {"oid": "10e15c5c39c345cda678a400829c7529be1361e0"}, "closed": true, "closedAt": "2020-09-25T16:07:54Z", "author": {"login": "aswinijena100"}, "timelineItems": {"totalCount": 21, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdGOd2DgH2gAyNDgwNzY3OTg3OjQ3ZTFiNTlkY2U4NDRmMGZmNGY5ODU0YjMwYjBkY2M1YThhOWQ4MDE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdMYDNMgH2gAyNDgwNzY3OTg3OjE5ZTM5ZmEyOGViZTMwMWZkOTI3ZDVhZDA1OGE1Yzg5YzAwYzZkMjY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "47e1b59dce844f0ff4f9854b30b0dcc5a8a9d801", "author": {"user": {"login": "aswinijena100", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/47e1b59dce844f0ff4f9854b30b0dcc5a8a9d801", "committedDate": "2020-09-06T13:32:03Z", "message": "User Mgmt service- Externalized configuration\n\nUser Mgmt service- Externalized configuration."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e642422b179014ae5793e07c0d3371722eaeab9b", "author": {"user": {"login": "aswinijena100", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/e642422b179014ae5793e07c0d3371722eaeab9b", "committedDate": "2020-09-06T18:33:33Z", "message": "rename client id and secret key as per existing placeholder in EAP\n\nrename client id and secret key as per existing placeholder in EAP"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3904a2ce15a8c256d63b9f810f88c0f1557bbd04", "author": {"user": {"login": "aswinijena100", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/3904a2ce15a8c256d63b9f810f88c0f1557bbd04", "committedDate": "2020-09-08T11:12:30Z", "message": "changed datasource url\n\nchanged datasource url"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg0NDEwNTA2", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/890#pullrequestreview-484410506", "createdAt": "2020-09-08T18:55:31Z", "commit": {"oid": "3904a2ce15a8c256d63b9f810f88c0f1557bbd04"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOFQxODo1NTozMVrOHOp_9w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOFQxOTowMzoxMFrOHOqQmw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTEzMDIzMQ==", "bodyText": "static imports should be above the non-static imports according to https://google.github.io/styleguide/javaguide.html#s3.3.3-import-ordering-and-spacing", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/890#discussion_r485130231", "createdAt": "2020-09-08T18:55:31Z", "author": {"login": "zohrehj"}, "path": "user-registration-server-ws/user-mgmt-module/user-mgmt/src/main/java/com/google/cloud/healthcare/fdamystudies/service/UserSupportServiceImpl.java", "diffHunk": "@@ -27,6 +22,11 @@\n import org.springframework.beans.factory.annotation.Autowired;\n import org.springframework.stereotype.Service;\n \n+import static com.google.cloud.healthcare.fdamystudies.common.UserMgmntEvent.CONTACT_US_CONTENT_EMAILED;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3904a2ce15a8c256d63b9f810f88c0f1557bbd04"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTEzMTE1Mw==", "bodyText": "why use this notation here?", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/890#discussion_r485131153", "createdAt": "2020-09-08T18:57:09Z", "author": {"login": "zohrehj"}, "path": "user-registration-server-ws/user-mgmt-module/user-mgmt/src/main/resources/application.properties", "diffHunk": "@@ -1,9 +1,25 @@\n-#dev\n+#spring configurations\n+spring.profiles.active=@spring.profiles.active@", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3904a2ce15a8c256d63b9f810f88c0f1557bbd04"}, "originalPosition": 3}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTEzMjYxMw==", "bodyText": "leave as update for now", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/890#discussion_r485132613", "createdAt": "2020-09-08T18:59:49Z", "author": {"login": "zohrehj"}, "path": "user-registration-server-ws/user-mgmt-module/user-mgmt/src/main/resources/application.properties", "diffHunk": "@@ -1,9 +1,25 @@\n-#dev\n+#spring configurations\n+spring.profiles.active=@spring.profiles.active@\n+spring.main.allow-bean-definition-overriding=true\n+\n+# log configuration\n+logging.path=${LOG_PATH}\n+logging.file=${logging.path}/user_mgmt_service.log\n+logging.file.max-size= 1024KB\n+\n+logging.level.root=WARN\n+logging.level.com.google.cloud.healthcare.fdamystudies=WARN\n+\n email.code.expire_time = 15\n \n-spring.datasource.url=jdbc:mysql://35.196.150.7/mystudies_userregistration?createDatabaseIfNotExist=true&autoReconnect=true&characterEncoding=utf8&useSSL=false&allowPublicKeyRetrieval=true\n-spring.datasource.username=registration-server-user\n-spring.datasource.password=f]E45/=P\n+spring.datasource.url=jdbc:mysql://127.0.0.1:3306/${DB_NAME}?createDatabaseIfNotExist=true&autoReconnect=true&characterEncoding=utf8&useSSL=false&allowPublicKeyRetrieval=true\n+spring.datasource.username=${DB_USER}\n+spring.datasource.password=${DB_PASS}\n+spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n+# JPA \n+spring.jpa.database-platform=org.hibernate.dialect.MySQL5InnoDBDialect\n+spring.jpa.show-sql=false\n+spring.jpa.hibernate.ddl-auto=none", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3904a2ce15a8c256d63b9f810f88c0f1557bbd04"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTEzMzI5MQ==", "bodyText": "should these be turned into variables as well?", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/890#discussion_r485133291", "createdAt": "2020-09-08T19:00:56Z", "author": {"login": "zohrehj"}, "path": "user-registration-server-ws/user-mgmt-module/user-mgmt/src/main/resources/application.properties", "diffHunk": "@@ -13,95 +29,65 @@ spring.datasource.hikari.minimum-idle=10\n spring.datasource.hikari.maximum-pool-size=100\n spring.datasource.hikari.connectionTimeout=30000\n spring.datasource.hikari.maxLifetime=1800000\n-spring.datasource.driver-class-name=com.mysql.jdbc.Driver\n-spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5InnoDBDialect\n-\n-# JPA \n-spring.jpa.show-sql=true\n-spring.jpa.hibernate.ddl-auto=update\n-spring.jpa.hibernate.naming.strategy=org.hibernate.cfg.ImprovedNamingStrategy\n-\n \n # EMBEDDED SERVER CONFIGURATION\n server.servlet.contextPath=/myStudiesUserMgmtWS\n-\n #local to run\n server.port=8090\n \n # HTTP encoding\n spring.http.encoding.charset=UTF-8\n-\n spring.jmx.enabled = false\n \n-interceptor=/register,/resendConfirmation,/healthCheck\n-\n-#API calls directly from another server\n-serverApiUrls=/studies/studymetadata,/studies/sendNotification\n-\n-\n-from.email.address=apps@boston-technology.com\n-from.email.password=Btc@app@123\n+from.email.address=${FROM_EMAIL_ADDRESS}\n+from.email.password=${FROM_EMAIL_PASSWORD}\n # Unused with IP whitelist.\n-\n-smtp.hostname=smtp.gmail.com\n+smtp.hostname=${SMTP_HOSTNAME}\n smtp.port=465\n factory.value=javax.net.ssl.SSLSocketFactory\n \n-from.email.use_ip_whitelist=\n+from.email.use_ip_whitelist=${SMTP_USE_IP_WHITELIST}\n # Domain should be the email domain excluding the end,\n # i.e. rocketturtle instead of rocketturtle.net\n-from.email.domain=\n-\n+from.email.domain=${FROM_EMAIL_DOMAIN}\n # Empty whitelist means all domains are valid.\n email.whitelisted_domains=\n-\n-cloud.institution.bucket=\n-\n+cloud.institution.bucket=${INSTITUTION_RESOURCES_BUCKET_NAME}\n \n AUTH_KEY_FCM=XXXX\n-\n API_URL_FCM=https://fcm.googleapis.com/fcm/send", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3904a2ce15a8c256d63b9f810f88c0f1557bbd04"}, "originalPosition": 87}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTEzNDAxMQ==", "bodyText": "these values do not need to be in application properties, since we do not expect them to be different per deployment. the only part, that will be different is the base_url, the rest can be generated in the code.", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/890#discussion_r485134011", "createdAt": "2020-09-08T19:02:16Z", "author": {"login": "zohrehj"}, "path": "user-registration-server-ws/user-mgmt-module/user-mgmt/src/main/resources/application.properties", "diffHunk": "@@ -13,95 +29,65 @@ spring.datasource.hikari.minimum-idle=10\n spring.datasource.hikari.maximum-pool-size=100\n spring.datasource.hikari.connectionTimeout=30000\n spring.datasource.hikari.maxLifetime=1800000\n-spring.datasource.driver-class-name=com.mysql.jdbc.Driver\n-spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5InnoDBDialect\n-\n-# JPA \n-spring.jpa.show-sql=true\n-spring.jpa.hibernate.ddl-auto=update\n-spring.jpa.hibernate.naming.strategy=org.hibernate.cfg.ImprovedNamingStrategy\n-\n \n # EMBEDDED SERVER CONFIGURATION\n server.servlet.contextPath=/myStudiesUserMgmtWS\n-\n #local to run\n server.port=8090\n \n # HTTP encoding\n spring.http.encoding.charset=UTF-8\n-\n spring.jmx.enabled = false\n \n-interceptor=/register,/resendConfirmation,/healthCheck\n-\n-#API calls directly from another server\n-serverApiUrls=/studies/studymetadata,/studies/sendNotification\n-\n-\n-from.email.address=apps@boston-technology.com\n-from.email.password=Btc@app@123\n+from.email.address=${FROM_EMAIL_ADDRESS}\n+from.email.password=${FROM_EMAIL_PASSWORD}\n # Unused with IP whitelist.\n-\n-smtp.hostname=smtp.gmail.com\n+smtp.hostname=${SMTP_HOSTNAME}\n smtp.port=465\n factory.value=javax.net.ssl.SSLSocketFactory\n \n-from.email.use_ip_whitelist=\n+from.email.use_ip_whitelist=${SMTP_USE_IP_WHITELIST}\n # Domain should be the email domain excluding the end,\n # i.e. rocketturtle instead of rocketturtle.net\n-from.email.domain=\n-\n+from.email.domain=${FROM_EMAIL_DOMAIN}\n # Empty whitelist means all domains are valid.\n email.whitelisted_domains=\n-\n-cloud.institution.bucket=\n-\n+cloud.institution.bucket=${INSTITUTION_RESOURCES_BUCKET_NAME}\n \n AUTH_KEY_FCM=XXXX\n-\n API_URL_FCM=https://fcm.googleapis.com/fcm/send\n-\n-#Auth Server Local\n-\n-register.url=http://35.193.185.224:8087/oauth-scim-service/users\n-auth.server.updateStatus.url=http://35.193.185.224:8087/oauth-scim-service/users/{userId}\n-\n-response.server.url.participant.withdraw=http://35.193.185.224:8084/mystudies-response-server/participant/withdraw\n-\n #App security\n certificate.name=push_prod.p12\n-\n certificate.password=XXXX\n+#please keep sandbox/production based on your ios app release type\n+ios.push.notification.type=sandbox\n \n-confirmation.mail.subject=Welcome to the <App Name> App!\n+#Auth Server Local\n+register.url=${HYDRA_ADMIN_URL}/users\n+auth.server.updateStatus.url=${HYDRA_ADMIN_URL}/users/{userId}\n+response.server.url.participant.withdraw=${RESPONSE_SERVER_URL}/participant/withdraw", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3904a2ce15a8c256d63b9f810f88c0f1557bbd04"}, "originalPosition": 107}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTEzNDQ5MQ==", "bodyText": "should the  also be replaced in the code?\nThe value can come from the database; app record associated with a given study", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/890#discussion_r485134491", "createdAt": "2020-09-08T19:03:10Z", "author": {"login": "zohrehj"}, "path": "user-registration-server-ws/user-mgmt-module/user-mgmt/src/main/resources/application.properties", "diffHunk": "@@ -13,95 +29,65 @@ spring.datasource.hikari.minimum-idle=10\n spring.datasource.hikari.maximum-pool-size=100\n spring.datasource.hikari.connectionTimeout=30000\n spring.datasource.hikari.maxLifetime=1800000\n-spring.datasource.driver-class-name=com.mysql.jdbc.Driver\n-spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5InnoDBDialect\n-\n-# JPA \n-spring.jpa.show-sql=true\n-spring.jpa.hibernate.ddl-auto=update\n-spring.jpa.hibernate.naming.strategy=org.hibernate.cfg.ImprovedNamingStrategy\n-\n \n # EMBEDDED SERVER CONFIGURATION\n server.servlet.contextPath=/myStudiesUserMgmtWS\n-\n #local to run\n server.port=8090\n \n # HTTP encoding\n spring.http.encoding.charset=UTF-8\n-\n spring.jmx.enabled = false\n \n-interceptor=/register,/resendConfirmation,/healthCheck\n-\n-#API calls directly from another server\n-serverApiUrls=/studies/studymetadata,/studies/sendNotification\n-\n-\n-from.email.address=apps@boston-technology.com\n-from.email.password=Btc@app@123\n+from.email.address=${FROM_EMAIL_ADDRESS}\n+from.email.password=${FROM_EMAIL_PASSWORD}\n # Unused with IP whitelist.\n-\n-smtp.hostname=smtp.gmail.com\n+smtp.hostname=${SMTP_HOSTNAME}\n smtp.port=465\n factory.value=javax.net.ssl.SSLSocketFactory\n \n-from.email.use_ip_whitelist=\n+from.email.use_ip_whitelist=${SMTP_USE_IP_WHITELIST}\n # Domain should be the email domain excluding the end,\n # i.e. rocketturtle instead of rocketturtle.net\n-from.email.domain=\n-\n+from.email.domain=${FROM_EMAIL_DOMAIN}\n # Empty whitelist means all domains are valid.\n email.whitelisted_domains=\n-\n-cloud.institution.bucket=\n-\n+cloud.institution.bucket=${INSTITUTION_RESOURCES_BUCKET_NAME}\n \n AUTH_KEY_FCM=XXXX\n-\n API_URL_FCM=https://fcm.googleapis.com/fcm/send\n-\n-#Auth Server Local\n-\n-register.url=http://35.193.185.224:8087/oauth-scim-service/users\n-auth.server.updateStatus.url=http://35.193.185.224:8087/oauth-scim-service/users/{userId}\n-\n-response.server.url.participant.withdraw=http://35.193.185.224:8084/mystudies-response-server/participant/withdraw\n-\n #App security\n certificate.name=push_prod.p12\n-\n certificate.password=XXXX\n+#please keep sandbox/production based on your ios app release type\n+ios.push.notification.type=sandbox\n \n-confirmation.mail.subject=Welcome to the <App Name> App!\n+#Auth Server Local\n+register.url=${HYDRA_ADMIN_URL}/users\n+auth.server.updateStatus.url=${HYDRA_ADMIN_URL}/users/{userId}\n+response.server.url.participant.withdraw=${RESPONSE_SERVER_URL}/participant/withdraw\n \n-confirmation.mail.content=<html><body><div style='margin:20px;padding:10px;font-family: sans-serif;font-size: 14px;'><span>Hi,</span><br/><br/><span>Thank you for registering with us! We look forward to having you on board and actively taking part in<br/>research studies conducted by the &lt;Org Name&gt; and its partners.</span><br/><br/><span>Your sign-up process is almost complete. Please use the verification code provided below to<br/>complete the Verification step in the mobile app.</span><br/><br/><span><strong>Verification Code:</strong><b>$securitytoken</b> </span></span><br/><br/><span>This code can be used only once and is valid for a period of 48 hours only.</span><br/><br/><span>Please note that  registration (or sign up) for the app  is requested only to provide you with a <br/>seamless experience of using the app. Your registration information does not become part of <br/>the data collected for any study housed in the app.Each study has its own consent process, <br/>and no data for any study will be collected unless and until you provide an informed consent<br/> prior to joining the study. </span><br/><br/><span>For any questions or assistance, please write to <a>&lt;contact email address&gt;</a> </span><br/><br/><span style='font-size:15px;'>Thanks,</span><br/><span>The &lt;Org Name&gt; MyStudies Support Team</span><br/><span>----------------------------------------------------</span><br/><span style='font-size:10px;'>PS - This is an auto-generated email. Please do not reply.</span></div></body></html>\n \n-#please keep sandbox/production based on your ios app release type\n-ios.push.notification.type=sandbox\n+confirmation.mail.subject=Welcome to the <App Name> App!", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3904a2ce15a8c256d63b9f810f88c0f1557bbd04"}, "originalPosition": 113}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7d05ea13760f88551e7c38868ad79cdd7e1ce973", "author": {"user": {"login": "aswinijena100", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/7d05ea13760f88551e7c38868ad79cdd7e1ce973", "committedDate": "2020-09-09T13:11:25Z", "message": "Organized imports to keep static imports above the non-static imports\n\nOrganized imports to keep static imports above the non-static imports"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "357b6d9e32725cac374429e7bd9a89f4aae8faca", "author": {"user": {"login": "aswinijena100", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/357b6d9e32725cac374429e7bd9a89f4aae8faca", "committedDate": "2020-09-10T13:57:43Z", "message": "changed ddl-auto property values to update\n\nchanged ddl-auto property values to update"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "31bfacf9870abe2fd2bfa021a325d2ae93f40aa2", "author": {"user": {"login": "aswinijena100", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/31bfacf9870abe2fd2bfa021a325d2ae93f40aa2", "committedDate": "2020-09-11T10:16:24Z", "message": "added placeholder for FCM url\n\nadded placeholder for FCM url"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b42ca11b712c2b32bdac1fcc1146aa94a6f35d9a", "author": {"user": {"login": "aswinijena100", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/b42ca11b712c2b32bdac1fcc1146aa94a6f35d9a", "committedDate": "2020-09-11T10:18:52Z", "message": "Merge branch 'oauth_scim_externalized_configuration' into user-reg-server-externalized-configuration"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg3MDk3NjYw", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/890#pullrequestreview-487097660", "createdAt": "2020-09-11T20:16:55Z", "commit": {"oid": "b42ca11b712c2b32bdac1fcc1146aa94a6f35d9a"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMVQyMDoxNjo1NVrOHQsk-Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQxMjozNToyOVrOHRRoHg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzI2OTYyNQ==", "bodyText": "Sounds good.\nPlease file a corresponding bug leave a TODO with the bug number here.", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/890#discussion_r487269625", "createdAt": "2020-09-11T20:16:55Z", "author": {"login": "zohrehj"}, "path": "user-registration-server-ws/user-mgmt-module/user-mgmt/src/main/resources/application.properties", "diffHunk": "@@ -13,95 +29,65 @@ spring.datasource.hikari.minimum-idle=10\n spring.datasource.hikari.maximum-pool-size=100\n spring.datasource.hikari.connectionTimeout=30000\n spring.datasource.hikari.maxLifetime=1800000\n-spring.datasource.driver-class-name=com.mysql.jdbc.Driver\n-spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5InnoDBDialect\n-\n-# JPA \n-spring.jpa.show-sql=true\n-spring.jpa.hibernate.ddl-auto=update\n-spring.jpa.hibernate.naming.strategy=org.hibernate.cfg.ImprovedNamingStrategy\n-\n \n # EMBEDDED SERVER CONFIGURATION\n server.servlet.contextPath=/myStudiesUserMgmtWS\n-\n #local to run\n server.port=8090\n \n # HTTP encoding\n spring.http.encoding.charset=UTF-8\n-\n spring.jmx.enabled = false\n \n-interceptor=/register,/resendConfirmation,/healthCheck\n-\n-#API calls directly from another server\n-serverApiUrls=/studies/studymetadata,/studies/sendNotification\n-\n-\n-from.email.address=apps@boston-technology.com\n-from.email.password=Btc@app@123\n+from.email.address=${FROM_EMAIL_ADDRESS}\n+from.email.password=${FROM_EMAIL_PASSWORD}\n # Unused with IP whitelist.\n-\n-smtp.hostname=smtp.gmail.com\n+smtp.hostname=${SMTP_HOSTNAME}\n smtp.port=465\n factory.value=javax.net.ssl.SSLSocketFactory\n \n-from.email.use_ip_whitelist=\n+from.email.use_ip_whitelist=${SMTP_USE_IP_WHITELIST}\n # Domain should be the email domain excluding the end,\n # i.e. rocketturtle instead of rocketturtle.net\n-from.email.domain=\n-\n+from.email.domain=${FROM_EMAIL_DOMAIN}\n # Empty whitelist means all domains are valid.\n email.whitelisted_domains=\n-\n-cloud.institution.bucket=\n-\n+cloud.institution.bucket=${INSTITUTION_RESOURCES_BUCKET_NAME}\n \n AUTH_KEY_FCM=XXXX\n-\n API_URL_FCM=https://fcm.googleapis.com/fcm/send\n-\n-#Auth Server Local\n-\n-register.url=http://35.193.185.224:8087/oauth-scim-service/users\n-auth.server.updateStatus.url=http://35.193.185.224:8087/oauth-scim-service/users/{userId}\n-\n-response.server.url.participant.withdraw=http://35.193.185.224:8084/mystudies-response-server/participant/withdraw\n-\n #App security\n certificate.name=push_prod.p12\n-\n certificate.password=XXXX\n+#please keep sandbox/production based on your ios app release type\n+ios.push.notification.type=sandbox\n \n-confirmation.mail.subject=Welcome to the <App Name> App!\n+#Auth Server Local\n+register.url=${HYDRA_ADMIN_URL}/users\n+auth.server.updateStatus.url=${HYDRA_ADMIN_URL}/users/{userId}\n+response.server.url.participant.withdraw=${RESPONSE_SERVER_URL}/participant/withdraw\n \n-confirmation.mail.content=<html><body><div style='margin:20px;padding:10px;font-family: sans-serif;font-size: 14px;'><span>Hi,</span><br/><br/><span>Thank you for registering with us! We look forward to having you on board and actively taking part in<br/>research studies conducted by the &lt;Org Name&gt; and its partners.</span><br/><br/><span>Your sign-up process is almost complete. Please use the verification code provided below to<br/>complete the Verification step in the mobile app.</span><br/><br/><span><strong>Verification Code:</strong><b>$securitytoken</b> </span></span><br/><br/><span>This code can be used only once and is valid for a period of 48 hours only.</span><br/><br/><span>Please note that  registration (or sign up) for the app  is requested only to provide you with a <br/>seamless experience of using the app. Your registration information does not become part of <br/>the data collected for any study housed in the app.Each study has its own consent process, <br/>and no data for any study will be collected unless and until you provide an informed consent<br/> prior to joining the study. </span><br/><br/><span>For any questions or assistance, please write to <a>&lt;contact email address&gt;</a> </span><br/><br/><span style='font-size:15px;'>Thanks,</span><br/><span>The &lt;Org Name&gt; MyStudies Support Team</span><br/><span>----------------------------------------------------</span><br/><span style='font-size:10px;'>PS - This is an auto-generated email. Please do not reply.</span></div></body></html>\n \n-#please keep sandbox/production based on your ios app release type\n-ios.push.notification.type=sandbox\n+confirmation.mail.subject=Welcome to the <App Name> App!", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTEzNDQ5MQ=="}, "originalCommit": {"oid": "3904a2ce15a8c256d63b9f810f88c0f1557bbd04"}, "originalPosition": 113}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzI3MDI3MQ==", "bodyText": "nit: add a single space after '#'", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/890#discussion_r487270271", "createdAt": "2020-09-11T20:18:30Z", "author": {"login": "zohrehj"}, "path": "user-registration-server-ws/user-mgmt-module/user-mgmt/src/main/resources/application.properties", "diffHunk": "@@ -13,95 +29,65 @@ spring.datasource.hikari.minimum-idle=10\n spring.datasource.hikari.maximum-pool-size=100\n spring.datasource.hikari.connectionTimeout=30000\n spring.datasource.hikari.maxLifetime=1800000\n-spring.datasource.driver-class-name=com.mysql.jdbc.Driver\n-spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5InnoDBDialect\n-\n-# JPA \n-spring.jpa.show-sql=true\n-spring.jpa.hibernate.ddl-auto=update\n-spring.jpa.hibernate.naming.strategy=org.hibernate.cfg.ImprovedNamingStrategy\n-\n \n # EMBEDDED SERVER CONFIGURATION\n server.servlet.contextPath=/myStudiesUserMgmtWS\n-\n #local to run\n server.port=8090\n \n # HTTP encoding\n spring.http.encoding.charset=UTF-8\n-\n spring.jmx.enabled = false\n \n-interceptor=/register,/resendConfirmation,/healthCheck\n-\n-#API calls directly from another server\n-serverApiUrls=/studies/studymetadata,/studies/sendNotification\n-\n-\n-from.email.address=apps@boston-technology.com\n-from.email.password=Btc@app@123\n+from.email.address=${FROM_EMAIL_ADDRESS}\n+from.email.password=${FROM_EMAIL_PASSWORD}\n # Unused with IP whitelist.\n-\n-smtp.hostname=smtp.gmail.com\n+smtp.hostname=${SMTP_HOSTNAME}\n smtp.port=465\n factory.value=javax.net.ssl.SSLSocketFactory\n \n-from.email.use_ip_whitelist=\n+from.email.use_ip_whitelist=${SMTP_USE_IP_WHITELIST}\n # Domain should be the email domain excluding the end,\n-# i.e. domain instead of domain.com\n-from.email.domain=\n-\n+# i.e. rocketturtle instead of rocketturtle.net\n+from.email.domain=${FROM_EMAIL_DOMAIN}\n # Empty whitelist means all domains are valid.\n email.whitelisted_domains=\n-\n-cloud.institution.bucket=\n-\n+cloud.institution.bucket=${INSTITUTION_RESOURCES_BUCKET_NAME}\n \n AUTH_KEY_FCM=XXXX\n-\n-API_URL_FCM=https://fcm.googleapis.com/fcm/send\n-\n-#Auth Server Local\n-\n-register.url=http://35.193.185.224:8087/oauth-scim-service/users\n-auth.server.updateStatus.url=http://35.193.185.224:8087/oauth-scim-service/users/{userId}\n-\n-response.server.url.participant.withdraw=http://35.193.185.224:8084/mystudies-response-server/participant/withdraw\n-\n+API_URL_FCM=${FCM_API_URL}/send\n #App security\n certificate.name=push_prod.p12\n-\n certificate.password=XXXX\n+#please keep sandbox/production based on your ios app release type\n+ios.push.notification.type=sandbox\n \n-confirmation.mail.subject=Welcome to the <App Name> App!\n+#Auth Server Local\n+register.url=${HYDRA_ADMIN_URL}/users\n+auth.server.updateStatus.url=${HYDRA_ADMIN_URL}/users/{userId}\n+response.server.url.participant.withdraw=${RESPONSE_SERVER_URL}/participant/withdraw\n \n-confirmation.mail.content=<html><body><div style='margin:20px;padding:10px;font-family: sans-serif;font-size: 14px;'><span>Hi,</span><br/><br/><span>Thank you for registering with us! We look forward to having you on board and actively taking part in<br/>research studies conducted by the &lt;Org Name&gt; and its partners.</span><br/><br/><span>Your sign-up process is almost complete. Please use the verification code provided below to<br/>complete the Verification step in the mobile app.</span><br/><br/><span><strong>Verification Code:</strong><b>$securitytoken</b> </span></span><br/><br/><span>This code can be used only once and is valid for a period of 48 hours only.</span><br/><br/><span>Please note that  registration (or sign up) for the app  is requested only to provide you with a <br/>seamless experience of using the app. Your registration information does not become part of <br/>the data collected for any study housed in the app.Each study has its own consent process, <br/>and no data for any study will be collected unless and until you provide an informed consent<br/> prior to joining the study. </span><br/><br/><span>For any questions or assistance, please write to <a>&lt;contact email address&gt;</a> </span><br/><br/><span style='font-size:15px;'>Thanks,</span><br/><span>The &lt;Org Name&gt; MyStudies Support Team</span><br/><span>----------------------------------------------------</span><br/><span style='font-size:10px;'>PS - This is an auto-generated email. Please do not reply.</span></div></body></html>\n \n-#please keep sandbox/production based on your ios app release type\n-ios.push.notification.type=sandbox\n+confirmation.mail.subject=Welcome to the <App Name> App!\n+confirmation.mail.content=<html><body><div style='margin:20px;padding:10px;font-family: sans-serif;font-size: 14px;'><span>Hi,</span><br/><br/><span>Thank you for registering with us! We look forward to having you on board and actively taking part in<br/>research studies conducted by the &lt;Org Name&gt; and its partners.</span><br/><br/><span>Your sign-up process is almost complete. Please use the verification code provided below to<br/>complete the Verification step in the mobile app.</span><br/><br/><span><strong>Verification Code:</strong><b>$securitytoken</b> </span></span><br/><br/><span>This code can be used only once and is valid for a period of 48 hours only.</span><br/><br/><span>Please note that  registration (or sign up) for the app  is requested only to provide you with a <br/>seamless experience of using the app. Your registration information does not become part of <br/>the data collected for any study housed in the app.Each study has its own consent process, <br/>and no data for any study will be collected unless and until you provide an informed consent<br/> prior to joining the study. </span><br/><br/><span>For any questions or assistance, please write to <a>&lt;contact email address&gt;</a> </span><br/><br/><span style='font-size:15px;'>Thanks,</span><br/><span>The &lt;Org Name&gt; MyStudies Support Team</span><br/><span>----------------------------------------------------</span><br/><span style='font-size:10px;'>PS - This is an auto-generated email. Please do not reply.</span></div></body></html>\n \n # Feedback & Contactus mail content starts\n feedback.email=<Feedback Mail>\n-\n feedback.mail.subject=<App Name> App Feedback:\n-\n feedback.mail.content=<html><body><div><div><span>Hi</span></div><br\\><div><span>A user of the &lt;App Name&gt; mobile app has provided feedback via the app. Here&#39;s the content of the feedback:</span></div><br\\><div><span><i>$body</i></span></div><br\\><div><span>Thanks,</span><br\\><span>The &lt;Org Name&gt; MyStudies Support Team</span><br\\><span>-------------------------------------------</span><br\\><span style='font-size:10px;'>Note: This is an auto-generated email. Please do not reply.</span></div></div></body></html>\n-\n contactus.email=<ContactUs Mail>\n-\n contactus.mail.subject=<App Name> App Helpdesk:\n-\n contactus.mail.content=<html><body><div><div><span>Hi</span></div><br\\><div style='padding-bottom:10px;'><span>A user of the &lt;App Neme&gt; mobile app has reached out this helpdesk via the &#39;Contact Us&#39; form in the mobile app. The details submitted in the form are given below:</span></div><div><div>___________________________________________</div><div style='padding-top:20px;'>First Name: $firstName</div><div style='padding-top:10px;'>Email: <a href='mailto: $email'> $email </a></div><div style='padding-top:10px;'>Subject: $subject</div><div style='padding-top:10px;padding-bottom:10px'>Message: $body</div></div><div>___________________________________________</div><div style='padding-top:10px;'><span>Please respond to the app user at the email provided.</span></div><br\\><div><span>Thanks,</span><br\\><span>The &lt;Org Name&gt; MyStudies Support Team</span><br\\><span>-------------------------------------------</span><br\\><span style='font-size:10px;'>Note: This is an auto-generated email. Please do not reply.</span></div></div></body></html>\n # Feedback & Contactus mail content ends\n \n-security.oauth2.client.client-id= oauth-scim-client-id\n-security.oauth2.client.client-secret= oauth-scim-client-secret\n+org.name =${ORG_NAME}\n \n-security.oauth2.introspection_endpoint=http://35.193.185.224:8087/oauth-scim-service/oauth2/introspect\n-security.oauth2.token_endpoint=http://35.193.185.224:8087/oauth-scim-service/oauth2/token\n-security.oauth2.client.redirect-uri=http://35.193.185.224:8087/oauth-scim-service/login\n-\n-spring.main.allow-bean-definition-overriding=true\n+security.oauth2.client.client-id=${CLIENT_ID}\n+security.oauth2.client.client-secret=${SECRET_KEY}\n+security.oauth2.introspection_endpoint=${HYDRA_ADMIN_URL}/oauth2/introspect\n+security.oauth2.token_endpoint=${SCIM_AUTH_URL}/oauth2/token\n+security.oauth2.client.redirect-uri=${SCIM_AUTH_URL}/login\n \n-org.name = Org Name\n+#Enabale/Disable components from common service", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b42ca11b712c2b32bdac1fcc1146aa94a6f35d9a"}, "originalPosition": 148}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Nzg3NjYzOA==", "bodyText": "Dhanya, I assumed you changed the pattern in an earlier PR based on your comment there.\nAre other modules all still following this pattern?", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/890#discussion_r487876638", "createdAt": "2020-09-14T12:35:29Z", "author": {"login": "zohrehj"}, "path": "user-registration-server-ws/user-mgmt-module/user-mgmt/src/main/resources/application.properties", "diffHunk": "@@ -13,95 +29,65 @@ spring.datasource.hikari.minimum-idle=10\n spring.datasource.hikari.maximum-pool-size=100\n spring.datasource.hikari.connectionTimeout=30000\n spring.datasource.hikari.maxLifetime=1800000\n-spring.datasource.driver-class-name=com.mysql.jdbc.Driver\n-spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5InnoDBDialect\n-\n-# JPA \n-spring.jpa.show-sql=true\n-spring.jpa.hibernate.ddl-auto=update\n-spring.jpa.hibernate.naming.strategy=org.hibernate.cfg.ImprovedNamingStrategy\n-\n \n # EMBEDDED SERVER CONFIGURATION\n server.servlet.contextPath=/myStudiesUserMgmtWS\n-\n #local to run\n server.port=8090\n \n # HTTP encoding\n spring.http.encoding.charset=UTF-8\n-\n spring.jmx.enabled = false\n \n-interceptor=/register,/resendConfirmation,/healthCheck\n-\n-#API calls directly from another server\n-serverApiUrls=/studies/studymetadata,/studies/sendNotification\n-\n-\n-from.email.address=apps@boston-technology.com\n-from.email.password=Btc@app@123\n+from.email.address=${FROM_EMAIL_ADDRESS}\n+from.email.password=${FROM_EMAIL_PASSWORD}\n # Unused with IP whitelist.\n-\n-smtp.hostname=smtp.gmail.com\n+smtp.hostname=${SMTP_HOSTNAME}\n smtp.port=465\n factory.value=javax.net.ssl.SSLSocketFactory\n \n-from.email.use_ip_whitelist=\n+from.email.use_ip_whitelist=${SMTP_USE_IP_WHITELIST}\n # Domain should be the email domain excluding the end,\n # i.e. rocketturtle instead of rocketturtle.net\n-from.email.domain=\n-\n+from.email.domain=${FROM_EMAIL_DOMAIN}\n # Empty whitelist means all domains are valid.\n email.whitelisted_domains=\n-\n-cloud.institution.bucket=\n-\n+cloud.institution.bucket=${INSTITUTION_RESOURCES_BUCKET_NAME}\n \n AUTH_KEY_FCM=XXXX\n-\n API_URL_FCM=https://fcm.googleapis.com/fcm/send\n-\n-#Auth Server Local\n-\n-register.url=http://35.193.185.224:8087/oauth-scim-service/users\n-auth.server.updateStatus.url=http://35.193.185.224:8087/oauth-scim-service/users/{userId}\n-\n-response.server.url.participant.withdraw=http://35.193.185.224:8084/mystudies-response-server/participant/withdraw\n-\n #App security\n certificate.name=push_prod.p12\n-\n certificate.password=XXXX\n+#please keep sandbox/production based on your ios app release type\n+ios.push.notification.type=sandbox\n \n-confirmation.mail.subject=Welcome to the <App Name> App!\n+#Auth Server Local\n+register.url=${HYDRA_ADMIN_URL}/users\n+auth.server.updateStatus.url=${HYDRA_ADMIN_URL}/users/{userId}\n+response.server.url.participant.withdraw=${RESPONSE_SERVER_URL}/participant/withdraw", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTEzNDAxMQ=="}, "originalCommit": {"oid": "3904a2ce15a8c256d63b9f810f88c0f1557bbd04"}, "originalPosition": 107}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "43b7e35cdd09f90a36f490b5a3998bd660dc1b10", "author": {"user": {"login": "aswinijena100", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/43b7e35cdd09f90a36f490b5a3998bd660dc1b10", "committedDate": "2020-09-15T04:05:37Z", "message": "review comment fixes\n\nreview comment fixes"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg4NzA0NTM0", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/890#pullrequestreview-488704534", "createdAt": "2020-09-15T13:50:16Z", "commit": {"oid": "3904a2ce15a8c256d63b9f810f88c0f1557bbd04"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQxMzo1MDoxNlrOHSC4kw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQxMzo1MjoyMlrOHSC-4g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODY4MzY2Nw==", "bodyText": "certificate values should all come from env as well, no?", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/890#discussion_r488683667", "createdAt": "2020-09-15T13:50:16Z", "author": {"login": "zohrehj"}, "path": "user-registration-server-ws/user-mgmt-module/user-mgmt/src/main/resources/application.properties", "diffHunk": "@@ -13,95 +29,65 @@ spring.datasource.hikari.minimum-idle=10\n spring.datasource.hikari.maximum-pool-size=100\n spring.datasource.hikari.connectionTimeout=30000\n spring.datasource.hikari.maxLifetime=1800000\n-spring.datasource.driver-class-name=com.mysql.jdbc.Driver\n-spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5InnoDBDialect\n-\n-# JPA \n-spring.jpa.show-sql=true\n-spring.jpa.hibernate.ddl-auto=update\n-spring.jpa.hibernate.naming.strategy=org.hibernate.cfg.ImprovedNamingStrategy\n-\n \n # EMBEDDED SERVER CONFIGURATION\n server.servlet.contextPath=/myStudiesUserMgmtWS\n-\n #local to run\n server.port=8090\n \n # HTTP encoding\n spring.http.encoding.charset=UTF-8\n-\n spring.jmx.enabled = false\n \n-interceptor=/register,/resendConfirmation,/healthCheck\n-\n-#API calls directly from another server\n-serverApiUrls=/studies/studymetadata,/studies/sendNotification\n-\n-\n-from.email.address=apps@boston-technology.com\n-from.email.password=Btc@app@123\n+from.email.address=${FROM_EMAIL_ADDRESS}\n+from.email.password=${FROM_EMAIL_PASSWORD}\n # Unused with IP whitelist.\n-\n-smtp.hostname=smtp.gmail.com\n+smtp.hostname=${SMTP_HOSTNAME}\n smtp.port=465\n factory.value=javax.net.ssl.SSLSocketFactory\n \n-from.email.use_ip_whitelist=\n+from.email.use_ip_whitelist=${SMTP_USE_IP_WHITELIST}\n # Domain should be the email domain excluding the end,\n # i.e. rocketturtle instead of rocketturtle.net\n-from.email.domain=\n-\n+from.email.domain=${FROM_EMAIL_DOMAIN}\n # Empty whitelist means all domains are valid.\n email.whitelisted_domains=\n-\n-cloud.institution.bucket=\n-\n+cloud.institution.bucket=${INSTITUTION_RESOURCES_BUCKET_NAME}\n \n AUTH_KEY_FCM=XXXX\n-\n API_URL_FCM=https://fcm.googleapis.com/fcm/send\n-\n-#Auth Server Local\n-\n-register.url=http://35.193.185.224:8087/oauth-scim-service/users\n-auth.server.updateStatus.url=http://35.193.185.224:8087/oauth-scim-service/users/{userId}\n-\n-response.server.url.participant.withdraw=http://35.193.185.224:8084/mystudies-response-server/participant/withdraw\n-\n #App security\n certificate.name=push_prod.p12\n-\n certificate.password=XXXX\n+#please keep sandbox/production based on your ios app release type\n+ios.push.notification.type=sandbox", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3904a2ce15a8c256d63b9f810f88c0f1557bbd04"}, "originalPosition": 101}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODY4NDE4Nw==", "bodyText": "the addition of {userId} seems different from other URLs, can you please point out to where it gets updated in the code?", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/890#discussion_r488684187", "createdAt": "2020-09-15T13:50:53Z", "author": {"login": "zohrehj"}, "path": "user-registration-server-ws/user-mgmt-module/user-mgmt/src/main/resources/application.properties", "diffHunk": "@@ -13,95 +29,65 @@ spring.datasource.hikari.minimum-idle=10\n spring.datasource.hikari.maximum-pool-size=100\n spring.datasource.hikari.connectionTimeout=30000\n spring.datasource.hikari.maxLifetime=1800000\n-spring.datasource.driver-class-name=com.mysql.jdbc.Driver\n-spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5InnoDBDialect\n-\n-# JPA \n-spring.jpa.show-sql=true\n-spring.jpa.hibernate.ddl-auto=update\n-spring.jpa.hibernate.naming.strategy=org.hibernate.cfg.ImprovedNamingStrategy\n-\n \n # EMBEDDED SERVER CONFIGURATION\n server.servlet.contextPath=/myStudiesUserMgmtWS\n-\n #local to run\n server.port=8090\n \n # HTTP encoding\n spring.http.encoding.charset=UTF-8\n-\n spring.jmx.enabled = false\n \n-interceptor=/register,/resendConfirmation,/healthCheck\n-\n-#API calls directly from another server\n-serverApiUrls=/studies/studymetadata,/studies/sendNotification\n-\n-\n-from.email.address=apps@boston-technology.com\n-from.email.password=Btc@app@123\n+from.email.address=${FROM_EMAIL_ADDRESS}\n+from.email.password=${FROM_EMAIL_PASSWORD}\n # Unused with IP whitelist.\n-\n-smtp.hostname=smtp.gmail.com\n+smtp.hostname=${SMTP_HOSTNAME}\n smtp.port=465\n factory.value=javax.net.ssl.SSLSocketFactory\n \n-from.email.use_ip_whitelist=\n+from.email.use_ip_whitelist=${SMTP_USE_IP_WHITELIST}\n # Domain should be the email domain excluding the end,\n # i.e. rocketturtle instead of rocketturtle.net\n-from.email.domain=\n-\n+from.email.domain=${FROM_EMAIL_DOMAIN}\n # Empty whitelist means all domains are valid.\n email.whitelisted_domains=\n-\n-cloud.institution.bucket=\n-\n+cloud.institution.bucket=${INSTITUTION_RESOURCES_BUCKET_NAME}\n \n AUTH_KEY_FCM=XXXX\n-\n API_URL_FCM=https://fcm.googleapis.com/fcm/send\n-\n-#Auth Server Local\n-\n-register.url=http://35.193.185.224:8087/oauth-scim-service/users\n-auth.server.updateStatus.url=http://35.193.185.224:8087/oauth-scim-service/users/{userId}\n-\n-response.server.url.participant.withdraw=http://35.193.185.224:8084/mystudies-response-server/participant/withdraw\n-\n #App security\n certificate.name=push_prod.p12\n-\n certificate.password=XXXX\n+#please keep sandbox/production based on your ios app release type\n+ios.push.notification.type=sandbox\n \n-confirmation.mail.subject=Welcome to the <App Name> App!\n+#Auth Server Local\n+register.url=${HYDRA_ADMIN_URL}/users\n+auth.server.updateStatus.url=${HYDRA_ADMIN_URL}/users/{userId}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3904a2ce15a8c256d63b9f810f88c0f1557bbd04"}, "originalPosition": 106}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODY4NTI4Mg==", "bodyText": "what about this property?should it be coming from a variable?", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/890#discussion_r488685282", "createdAt": "2020-09-15T13:52:22Z", "author": {"login": "zohrehj"}, "path": "user-registration-server-ws/user-mgmt-module/user-mgmt/src/main/resources/application.properties", "diffHunk": "@@ -1,107 +1,93 @@\n-#dev\n+# spring configurations\n+spring.profiles.active=@spring.profiles.active@\n+spring.main.allow-bean-definition-overriding=true\n+\n+# log configuration\n+logging.path=${LOG_PATH}\n+logging.file=${logging.path}/user_mgmt_service.log\n+logging.file.max-size= 1024KB\n+\n+logging.level.root=WARN\n+logging.level.com.google.cloud.healthcare.fdamystudies=WARN\n+\n email.code.expire_time = 15\n \n-spring.datasource.url=jdbc:mysql://35.196.150.7/mystudies_userregistration?createDatabaseIfNotExist=true&autoReconnect=true&characterEncoding=utf8&useSSL=false&allowPublicKeyRetrieval=true\n-spring.datasource.username=registration-server-user\n-spring.datasource.password=f]E45/=P\n+spring.datasource.url=jdbc:mysql://127.0.0.1:3306/${DB_NAME}?createDatabaseIfNotExist=true&autoReconnect=true&characterEncoding=utf8&useSSL=false&allowPublicKeyRetrieval=true\n+spring.datasource.username=${DB_USER}\n+spring.datasource.password=${DB_PASS}\n+spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n+# JPA \n+spring.jpa.database-platform=org.hibernate.dialect.MySQL5InnoDBDialect\n+spring.jpa.show-sql=false\n+spring.jpa.hibernate.ddl-auto=update\n \n-#hikari   \n+# hikari   \n spring.datasource.type=com.zaxxer.hikari.HikariDataSource\n spring.datasource.hikari.connection-test-query=SELECT 1\n spring.datasource.hikari.idle-timeout=600000\n spring.datasource.hikari.minimum-idle=10\n spring.datasource.hikari.maximum-pool-size=100\n spring.datasource.hikari.connectionTimeout=30000\n spring.datasource.hikari.maxLifetime=1800000\n-spring.datasource.driver-class-name=com.mysql.jdbc.Driver\n-spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5InnoDBDialect\n-\n-# JPA \n-spring.jpa.show-sql=true\n-spring.jpa.hibernate.ddl-auto=update\n-spring.jpa.hibernate.naming.strategy=org.hibernate.cfg.ImprovedNamingStrategy\n-\n \n # EMBEDDED SERVER CONFIGURATION\n server.servlet.contextPath=/myStudiesUserMgmtWS\n-\n-#local to run\n+# local to run\n server.port=8090\n \n # HTTP encoding\n spring.http.encoding.charset=UTF-8\n-\n spring.jmx.enabled = false\n \n-interceptor=/register,/resendConfirmation,/healthCheck\n-\n-#API calls directly from another server\n-serverApiUrls=/studies/studymetadata,/studies/sendNotification\n-\n-\n-from.email.address=apps@boston-technology.com\n-from.email.password=Btc@app@123\n+from.email.address=${FROM_EMAIL_ADDRESS}\n+from.email.password=${FROM_EMAIL_PASSWORD}\n # Unused with IP whitelist.\n-\n-smtp.hostname=smtp.gmail.com\n+smtp.hostname=${SMTP_HOSTNAME}\n smtp.port=465\n factory.value=javax.net.ssl.SSLSocketFactory\n \n-from.email.use_ip_whitelist=\n+from.email.use_ip_whitelist=${SMTP_USE_IP_WHITELIST}\n # Domain should be the email domain excluding the end,\n-# i.e. domain instead of domain.com\n-from.email.domain=\n-\n+# i.e. rocketturtle instead of rocketturtle.net\n+from.email.domain=${FROM_EMAIL_DOMAIN}\n # Empty whitelist means all domains are valid.\n email.whitelisted_domains=\n-\n-cloud.institution.bucket=\n-\n+cloud.institution.bucket=${INSTITUTION_RESOURCES_BUCKET_NAME}\n \n AUTH_KEY_FCM=XXXX", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "43b7e35cdd09f90a36f490b5a3998bd660dc1b10"}, "originalPosition": 90}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aeda268cd57af05f39af385519c324bee4ec2193", "author": {"user": {"login": "aswinijena100", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/aeda268cd57af05f39af385519c324bee4ec2193", "committedDate": "2020-09-16T05:51:22Z", "message": "Review comment fixes on 19/09/2020\n\nReview comment fixes on 19/09/2020"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cbc793ed3e2488591f6ada094dc8a66c451ff89a", "author": {"user": {"login": "aswinijena100", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/cbc793ed3e2488591f6ada094dc8a66c451ff89a", "committedDate": "2020-09-16T05:54:18Z", "message": "Merge branch 'develop' into user-reg-server-externalized-configuration"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4ce7b85f68d96a60c416625835ee7a7af9687fbd", "author": {"user": {"login": "aswinijena100", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/4ce7b85f68d96a60c416625835ee7a7af9687fbd", "committedDate": "2020-09-18T11:54:49Z", "message": "refactored properties\n\nrefactored properties"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkxNTIyNzM0", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/890#pullrequestreview-491522734", "createdAt": "2020-09-18T14:33:55Z", "commit": {"oid": "4ce7b85f68d96a60c416625835ee7a7af9687fbd"}, "state": "DISMISSED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOFQxNDozMzo1NVrOHUPyUw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOFQxNDozMzo1NVrOHUPyUw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDk5MjIxMQ==", "bodyText": "can you add a comment or example of what this URL should come from?", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/890#discussion_r490992211", "createdAt": "2020-09-18T14:33:55Z", "author": {"login": "zohrehj"}, "path": "user-registration-server-ws/user-mgmt-module/user-mgmt/src/main/resources/application.properties", "diffHunk": "@@ -1,107 +1,88 @@\n-#dev\n+# spring configurations\n+spring.profiles.active=@spring.profiles.active@\n+spring.main.allow-bean-definition-overriding=true\n+\n+# log configuration\n+logging.path=${LOG_PATH}\n+logging.file=${logging.path}/user_mgmt_service.log\n+logging.file.max-size= 1024KB\n+\n+logging.level.root=WARN\n+logging.level.com.google.cloud.healthcare.fdamystudies=WARN\n+\n email.code.expire_time = 15\n \n-spring.datasource.url=jdbc:mysql://35.196.150.7/mystudies_userregistration?createDatabaseIfNotExist=true&autoReconnect=true&characterEncoding=utf8&useSSL=false&allowPublicKeyRetrieval=true\n-spring.datasource.username=registration-server-user\n-spring.datasource.password=f]E45/=P\n+# Refer https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-reference-configuration-properties.html\n+spring.datasource.url=jdbc:mysql://127.0.0.1:3306/${DB_NAME}\n+spring.datasource.username=${DB_USER}\n+spring.datasource.password=${DB_PASS}\n+spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n+spring.jpa.database-platform=org.hibernate.dialect.MySQL5InnoDBDialect\n+spring.jpa.show-sql=false\n+spring.jpa.hibernate.ddl-auto=none\n \n-#hikari   \n+# https://docs.spring.io/spring-boot/docs/current/reference/html/appendix-application-properties.html#data-properties\n spring.datasource.type=com.zaxxer.hikari.HikariDataSource\n spring.datasource.hikari.connection-test-query=SELECT 1\n spring.datasource.hikari.idle-timeout=600000\n spring.datasource.hikari.minimum-idle=10\n spring.datasource.hikari.maximum-pool-size=100\n spring.datasource.hikari.connectionTimeout=30000\n spring.datasource.hikari.maxLifetime=1800000\n-spring.datasource.driver-class-name=com.mysql.jdbc.Driver\n-spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5InnoDBDialect\n-\n-# JPA \n-spring.jpa.show-sql=true\n-spring.jpa.hibernate.ddl-auto=update\n-spring.jpa.hibernate.naming.strategy=org.hibernate.cfg.ImprovedNamingStrategy\n-\n \n # EMBEDDED SERVER CONFIGURATION\n server.servlet.contextPath=/myStudiesUserMgmtWS\n-\n-#local to run\n+# local to run\n server.port=8090\n \n # HTTP encoding\n spring.http.encoding.charset=UTF-8\n-\n spring.jmx.enabled = false\n \n-interceptor=/register,/resendConfirmation,/healthCheck\n-\n-#API calls directly from another server\n-serverApiUrls=/studies/studymetadata,/studies/sendNotification\n-\n-\n-from.email.address=apps@boston-technology.com\n-from.email.password=Btc@app@123\n+from.email.address=${FROM_EMAIL_ADDRESS}\n+from.email.password=${FROM_EMAIL_PASSWORD}\n # Unused with IP whitelist.\n-\n-smtp.hostname=smtp.gmail.com\n+smtp.hostname=${SMTP_HOSTNAME}\n smtp.port=465\n factory.value=javax.net.ssl.SSLSocketFactory\n \n-from.email.use_ip_whitelist=\n+from.email.use_ip_whitelist=${SMTP_USE_IP_WHITELIST}\n # Domain should be the email domain excluding the end,\n-# i.e. domain instead of domain.com\n-from.email.domain=\n-\n+# i.e. rocketturtle instead of rocketturtle.net\n+from.email.domain=${FROM_EMAIL_DOMAIN}\n # Empty whitelist means all domains are valid.\n email.whitelisted_domains=\n+cloud.institution.bucket=${INSTITUTION_RESOURCES_BUCKET_NAME}\n ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4ce7b85f68d96a60c416625835ee7a7af9687fbd"}, "originalPosition": 86}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0eabfb087b2dd5a7177ef87327ae8cd8722e5e49", "author": {"user": {"login": "monica-BTC", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/0eabfb087b2dd5a7177ef87327ae8cd8722e5e49", "committedDate": "2020-09-25T12:36:50Z", "message": "Merge branch 'develop' into user-reg-server-externalized-configuration"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk2NTI2NjIy", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/890#pullrequestreview-496526622", "createdAt": "2020-09-25T15:28:26Z", "commit": {"oid": "0eabfb087b2dd5a7177ef87327ae8cd8722e5e49"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e65c8fbfb1da998fe573011419e50b9030c8285c", "author": {"user": {"login": "monica-BTC", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/e65c8fbfb1da998fe573011419e50b9030c8285c", "committedDate": "2020-09-25T15:44:43Z", "message": "Merge branch 'develop' into user-reg-server-externalized-configuration"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "297ccd8c48e6a12d502ea16028290709e46ad616", "author": {"user": {"login": "dhanyak-btc", "name": "Dhanya Kumar KV"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/297ccd8c48e6a12d502ea16028290709e46ad616", "committedDate": "2020-09-25T15:54:22Z", "message": "Merge branch 'develop' into user-reg-server-externalized-configuration"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk2NTUzNDM4", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/890#pullrequestreview-496553438", "createdAt": "2020-09-25T16:02:04Z", "commit": {"oid": "297ccd8c48e6a12d502ea16028290709e46ad616"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "19e39fa28ebe301fd927d5ad058a5c89c00c6d26", "author": {"user": {"login": "monica-BTC", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/19e39fa28ebe301fd927d5ad058a5c89c00c6d26", "committedDate": "2020-09-25T16:05:33Z", "message": "Merge branch 'develop' into user-reg-server-externalized-configuration"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 444, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}