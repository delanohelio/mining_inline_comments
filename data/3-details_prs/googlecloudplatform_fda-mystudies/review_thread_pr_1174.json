{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk5MzU5ODkw", "number": 1174, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOFQxOToyNTo1M1rOErwk7Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOFQxOToyNTo1M1rOErwk7Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE0MzIwMTA5OnYy", "diffSide": "RIGHT", "path": "iOS/HPHC/HPHC/Networking/APIs/UserServices.swift", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOFQxOToyNTo1M1rOHetQcQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMlQwODowMjo0OFrOHfzVYw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTk2MDgxNw==", "bodyText": "missed this one?", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1174#discussion_r501960817", "createdAt": "2020-10-08T19:25:53Z", "author": {"login": "zohrehj"}, "path": "iOS/HPHC/HPHC/Networking/APIs/UserServices.swift", "diffHunk": "@@ -519,41 +542,16 @@ extension UserServices: NMWebServiceDelegate {\n \n   func failedRequest(_ manager: NetworkManager, requestName: NSString, error: NSError) {\n \n-    if requestName as String == AuthServerMethods.getRefreshedToken.description && error.code == 401 {  //unauthorized\n-      delegate?.failedRequest(manager, requestName: requestName, error: error)\n-    } else if error.code == 401 {\n-\n-      self.failedRequestServices.headerParams = self.headerParams\n-      self.failedRequestServices.requestParams = self.requestParams\n-      self.failedRequestServices.method = self.method\n-\n-      if User.currentUser.refreshToken == \"\"\n-        && requestName as String\n-          != AuthServerMethods\n-          .login\n-          .description\n-      {\n-        // Unauthorized Access\n-        let errorInfo = [\"NSLocalizedDescription\": \"Your Session is Expired\"]\n-        let localError = NSError.init(domain: error.domain, code: 403, userInfo: errorInfo)\n-        delegate?.failedRequest(manager, requestName: requestName, error: localError)\n-\n-      } else {\n-        // Update Refresh Token\n-        AuthServices().updateToken(delegate: self)\n-      }\n-\n+    if error.code == 401 {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9dcbf4cb80d0a2b4a9e109b883d185fe3e752810"}, "originalPosition": 74}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzEwODk2Mw==", "bodyText": "This check is ok.", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1174#discussion_r503108963", "createdAt": "2020-10-12T08:02:48Z", "author": {"login": "tushar-boston"}, "path": "iOS/HPHC/HPHC/Networking/APIs/UserServices.swift", "diffHunk": "@@ -519,41 +542,16 @@ extension UserServices: NMWebServiceDelegate {\n \n   func failedRequest(_ manager: NetworkManager, requestName: NSString, error: NSError) {\n \n-    if requestName as String == AuthServerMethods.getRefreshedToken.description && error.code == 401 {  //unauthorized\n-      delegate?.failedRequest(manager, requestName: requestName, error: error)\n-    } else if error.code == 401 {\n-\n-      self.failedRequestServices.headerParams = self.headerParams\n-      self.failedRequestServices.requestParams = self.requestParams\n-      self.failedRequestServices.method = self.method\n-\n-      if User.currentUser.refreshToken == \"\"\n-        && requestName as String\n-          != AuthServerMethods\n-          .login\n-          .description\n-      {\n-        // Unauthorized Access\n-        let errorInfo = [\"NSLocalizedDescription\": \"Your Session is Expired\"]\n-        let localError = NSError.init(domain: error.domain, code: 403, userInfo: errorInfo)\n-        delegate?.failedRequest(manager, requestName: requestName, error: localError)\n-\n-      } else {\n-        // Update Refresh Token\n-        AuthServices().updateToken(delegate: self)\n-      }\n-\n+    if error.code == 401 {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTk2MDgxNw=="}, "originalCommit": {"oid": "9dcbf4cb80d0a2b4a9e109b883d185fe3e752810"}, "originalPosition": 74}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1728, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}