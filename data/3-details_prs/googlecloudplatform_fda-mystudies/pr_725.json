{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDYzMjM3MjM1", "number": 725, "title": "Participant Manager Service [PATCH]  /studies/{studyId}/targetEnrollment endpoint implementation", "bodyText": "PATCH /studies/{studyId}/targetEnrollment endpoint implementation with integration tests, removed cleanUp method in all Test classes and added in TestDataHelper.", "createdAt": "2020-08-05T08:39:51Z", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/725", "merged": true, "mergeCommit": {"oid": "12e63b75b49d545aefe57c0e53373dafe700aeb8"}, "closed": true, "closedAt": "2020-08-19T17:10:57Z", "author": {"login": "Kantharajut-btc"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc72_lGAH2gAyNDYzMjM3MjM1OjBhMWNlMTI1ZjVhZjNhMTQ0MGUwZTQ4MzNmOGU2OTkyNWNjNzIyNmE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdAezsXgFqTQ3MDY3NTc3Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "0a1ce125f5af3a1440e0e4833f8e69925cc7226a", "author": {"user": {"login": "Kantharajut-btc", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/0a1ce125f5af3a1440e0e4833f8e69925cc7226a", "committedDate": "2020-08-05T08:31:56Z", "message": "PATCH /studies/{studyId}/targetEnrollment endpoint implementation with integration tests\n\nPATCH /studies/{studyId}/targetEnrollment endpoint implementation with integration tests"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYxOTYwNTUx", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/725#pullrequestreview-461960551", "createdAt": "2020-08-05T19:29:12Z", "commit": {"oid": "0a1ce125f5af3a1440e0e4833f8e69925cc7226a"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNVQxOToyOToxMlrOG8XkKw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNVQxOTozMzoyN1rOG8XskA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTk1MzgzNQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              CANNOT_UPDATE_ENROLLMENT_TARGET_FOR_DEACTIVE_SITE(\n          \n          \n            \n              CANNOT_UPDATE_ENROLLMENT_TARGET_FOR_DECOMMISSIONED_SITE(", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/725#discussion_r465953835", "createdAt": "2020-08-05T19:29:12Z", "author": {"login": "saminguyen"}, "path": "common-modules/common-service/src/main/java/com/google/cloud/healthcare/fdamystudies/common/ErrorCode.java", "diffHunk": "@@ -166,7 +163,16 @@\n       500,\n       \"EC_914\",\n       HttpStatus.INTERNAL_SERVER_ERROR.toString(),\n-      \"Unable to import the participants\");\n+      \"Unable to import the participants\"),\n+\n+  CANNOT_UPDATE_ENROLLMENT_TARGET_FOR_CLOSE_STUDY(\n+      400, \"EC-95\", Constants.BAD_REQUEST, \" Cannot update enrollment target for closed study\"),\n+\n+  CANNOT_UPDATE_ENROLLMENT_TARGET_FOR_DEACTIVE_SITE(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0a1ce125f5af3a1440e0e4833f8e69925cc7226a"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTk1Mzk3OA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                  HttpStatus.OK, \"MSG-0030\", \"Target enrolllment updated successfully\");\n          \n          \n            \n                  HttpStatus.OK, \"MSG-0030\", \"Target enrollment updated successfully\");", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/725#discussion_r465953978", "createdAt": "2020-08-05T19:29:27Z", "author": {"login": "saminguyen"}, "path": "common-modules/common-service/src/main/java/com/google/cloud/healthcare/fdamystudies/common/MessageCode.java", "diffHunk": "@@ -80,7 +77,10 @@\n \n   GET_SITES_SUCCESS(HttpStatus.OK, \"MSG-0018\", \"Get sites successfully\"),\n \n-  PROFILE_UPDATE_SUCCESS(HttpStatus.OK, \"MSG-0011\", \"Profile updated successfully\");\n+  PROFILE_UPDATE_SUCCESS(HttpStatus.OK, \"MSG-0011\", \"Profile updated successfully\"),\n+\n+  TARGET_ENROLLMENT_UPDATE_SUCCESS(\n+      HttpStatus.OK, \"MSG-0030\", \"Target enrolllment updated successfully\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0a1ce125f5af3a1440e0e4833f8e69925cc7226a"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTk1NTk4NA==", "bodyText": "This is not being used in this PR. Please remove if only the func below is needed.", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/725#discussion_r465955984", "createdAt": "2020-08-05T19:33:27Z", "author": {"login": "saminguyen"}, "path": "common-modules/common-service/src/main/java/com/google/cloud/healthcare/fdamystudies/repository/SiteRepository.java", "diffHunk": "@@ -37,4 +37,10 @@\n \n   @Query(\"SELECT site from SiteEntity site where site.study.id IN (:studyIds)\")\n   public List<SiteEntity> findByStudyIds(@Param(\"studyIds\") List<String> studyIds);\n+\n+  @Query(\"SELECT site from SiteEntity site where site.study.id= :studyId\")\n+  public List<SiteEntity> findByStudyId(String studyId);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0a1ce125f5af3a1440e0e4833f8e69925cc7226a"}, "originalPosition": 22}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bcc5658b9e091fd171564f756bfb179c371c73ab", "author": {"user": {"login": "Kantharajut-btc", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/bcc5658b9e091fd171564f756bfb179c371c73ab", "committedDate": "2020-08-06T04:56:34Z", "message": "Fixed PR comments\n\nFixed PR comments"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYyMTk5OTA3", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/725#pullrequestreview-462199907", "createdAt": "2020-08-06T05:36:32Z", "commit": {"oid": "bcc5658b9e091fd171564f756bfb179c371c73ab"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4235d38101823c4113031a30780c3d1ffaeaa005", "author": {"user": {"login": "Kantharajut-btc", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/4235d38101823c4113031a30780c3d1ffaeaa005", "committedDate": "2020-08-06T05:42:29Z", "message": "Fixed PR comments\n\nFixed PR comments"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYzNzE0NTE2", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/725#pullrequestreview-463714516", "createdAt": "2020-08-08T03:34:18Z", "commit": {"oid": "4235d38101823c4113031a30780c3d1ffaeaa005"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ee2a05d87eb0ccd825f56f66359927c0f5475760", "author": {"user": {"login": "madhurya-btc", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/ee2a05d87eb0ccd825f56f66359927c0f5475760", "committedDate": "2020-08-19T17:06:56Z", "message": "Merge branch 'develop' of https://github.com/GoogleCloudPlatform/fda-mystudies into participant-manager-update-target-enrollment\n\n# Conflicts:\n#\tcommon-modules/common-service/src/main/java/com/google/cloud/healthcare/fdamystudies/common/ErrorCode.java\n#\tcommon-modules/common-service/src/main/java/com/google/cloud/healthcare/fdamystudies/common/MessageCode.java\n#\tcommon-modules/common-service/src/main/java/com/google/cloud/healthcare/fdamystudies/repository/SiteRepository.java\n#\tparticipant-manager-module/participant-manager-service/src/main/java/com/google/cloud/healthcare/fdamystudies/controller/StudyController.java\n#\tparticipant-manager-module/participant-manager-service/src/main/java/com/google/cloud/healthcare/fdamystudies/service/AppServiceImpl.java\n#\tparticipant-manager-module/participant-manager-service/src/test/java/com/google/cloud/healthcare/fdamystudies/common/ApiEndpoint.java\n#\tparticipant-manager-module/participant-manager-service/src/test/java/com/google/cloud/healthcare/fdamystudies/controller/AppControllerTest.java\n#\tparticipant-manager-module/participant-manager-service/src/test/java/com/google/cloud/healthcare/fdamystudies/controller/LocationControllerTest.java\n#\tparticipant-manager-module/participant-manager-service/src/test/java/com/google/cloud/healthcare/fdamystudies/controller/SiteControllerTest.java\n#\tparticipant-manager-module/participant-manager-service/src/test/java/com/google/cloud/healthcare/fdamystudies/controller/StudyControllerTest.java\n#\tparticipant-manager-module/participant-manager-service/src/test/java/com/google/cloud/healthcare/fdamystudies/controller/UserControllerTest.java\n#\tparticipant-manager-module/participant-manager-service/src/test/java/com/google/cloud/healthcare/fdamystudies/controller/UserProfileControllerTest.java\n#\tparticipant-manager-module/participant-manager-service/src/test/java/com/google/cloud/healthcare/fdamystudies/helper/TestDataHelper.java"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcwNjc1Nzc3", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/725#pullrequestreview-470675777", "createdAt": "2020-08-19T17:10:51Z", "commit": {"oid": "ee2a05d87eb0ccd825f56f66359927c0f5475760"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 622, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}