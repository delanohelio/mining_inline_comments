{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE1OTk4ODg3", "number": 1860, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMVQwMzo1OToyNVrOE3i1iQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMVQwMzo1OToyNVrOE3i1iQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI2Njc3ODk3OnYy", "diffSide": "RIGHT", "path": "iOS/HPHC/HPHC/Controllers/StudyUI/ActivityUI/QuestionStepController/TextChoiceQuestionController.swift", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMVQwMzo1OToyNVrOHw9RtA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMVQwNToxMjoyNVrOHw-eHw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTA5NzY1Mg==", "bodyText": "I don't see how this handles both scenarios flagged in the bug. scenario 1, where there is no text field displayed and scenario 2, when text field is not mandatory. Can you please explain your solution?", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1860#discussion_r521097652", "createdAt": "2020-11-11T03:59:25Z", "author": {"login": "zohrehj"}, "path": "iOS/HPHC/HPHC/Controllers/StudyUI/ActivityUI/QuestionStepController/TextChoiceQuestionController.swift", "diffHunk": "@@ -532,7 +536,8 @@ class TextChoiceQuestionController: ORKQuestionStepViewController {\n   override func goForward() {\n \n     if self.otherChoice.otherChoiceText.trimmingCharacters(in: .whitespacesAndNewlines).isEmpty,\n-      self.isOtherCellSelected\n+      self.isOtherCellSelected,\n+      self.otherChoice.isMandatory", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "345ab1a7d0bc572e618224cfbca9c40aa65d85a3"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTExNzIxNQ==", "bodyText": "Scenario 1: When textfield wasn't visible, isMandatory will always be false. Even though it's selected, it won't show the alert in the if block.\nScenario 2: When Field is mandatory for the participant to fill in, I've added the same missed condition for this. if the choice is selected and it's mandatory and not filled show an error alert.", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1860#discussion_r521117215", "createdAt": "2020-11-11T05:12:25Z", "author": {"login": "tushar-boston"}, "path": "iOS/HPHC/HPHC/Controllers/StudyUI/ActivityUI/QuestionStepController/TextChoiceQuestionController.swift", "diffHunk": "@@ -532,7 +536,8 @@ class TextChoiceQuestionController: ORKQuestionStepViewController {\n   override func goForward() {\n \n     if self.otherChoice.otherChoiceText.trimmingCharacters(in: .whitespacesAndNewlines).isEmpty,\n-      self.isOtherCellSelected\n+      self.isOtherCellSelected,\n+      self.otherChoice.isMandatory", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTA5NzY1Mg=="}, "originalCommit": {"oid": "345ab1a7d0bc572e618224cfbca9c40aa65d85a3"}, "originalPosition": 19}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1646, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}