{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY3NjQwNDU4", "number": 747, "title": "add DPS template and update instructions", "bodyText": "", "createdAt": "2020-08-13T21:23:19Z", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/747", "merged": true, "mergeCommit": {"oid": "e98aba21d66a17c417e51160d6987ba132ce5d92"}, "closed": true, "closedAt": "2020-08-14T18:21:02Z", "author": {"login": "xingao267"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc-myoegH2gAyNDY3NjQwNDU4OjRmYTA2ODhmNjY4ZjI5NDVjNzc5OGNjYjI4OTAyNWYxOWMxNzI3NDE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc-4XCZAH2gAyNDY3NjQwNDU4OmVmNDVhNGY5OTMyM2Q4MjhhNTgxNGU1Nzc0YjNiOTg1YjllYWI0NGI=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "4fa0688f668f2945c7798ccb289025f19c172741", "author": {"user": {"login": "xingao267", "name": "Xin Gao"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/4fa0688f668f2945c7798ccb289025f19c172741", "committedDate": "2020-08-13T21:21:05Z", "message": "add DPS template and update instructions"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY3MTQxNjMz", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/747#pullrequestreview-467141633", "createdAt": "2020-08-13T21:25:16Z", "commit": {"oid": "4fa0688f668f2945c7798ccb289025f19c172741"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xM1QyMToyNToxNlrOHAeQTw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xM1QyMToyNToxNlrOHAeQTw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDI1Nzc0Mw==", "bodyText": "@zohrehj  iirc, the orgid is not longer needed right?", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/747#discussion_r470257743", "createdAt": "2020-08-13T21:25:16Z", "author": {"login": "xingao267"}, "path": "scripts/copy_mobile_app_info_to_sql.sh", "diffHunk": "@@ -2,19 +2,21 @@\n # Script to copy AppId and OrgId from gcloud secret to CloudSQL.\n set -e\n \n-# TODO: Change these to env variables.\n-SECRET_PROJECT=heroes-hat-dev-devops\n-DATA_PROJECT=heroes-hat-dev-data\n-SQL_IMPORT_BUCKET=heroes-hat-dev-data-sql-import\n+PREFIX=example\n+ENV=dev\n+\n+SECRET_PROJECT=${PREFIX}-${ENV}-secrets\n+DATA_PROJECT=${PREFIX}-${ENV}-data\n+SQL_IMPORT_BUCKET=${PREFIX}-${ENV}-my-studies-sql-import\n TMPFILE=$(mktemp)\n ORG_NAME=\"Test Org\"\n \n # Write user registration server db name to TMPFILE.\n echo \"USE \\`mystudies_userregistration\\`;\" >> ${TMPFILE}\n \n # Read AppId and OrgId from secrets..\n-APP_ID=`gcloud --project=${SECRET_PROJECT} secrets versions access latest --secret=mobile-app-appid`\n-ORG_ID=`gcloud --project=${SECRET_PROJECT} secrets versions access latest --secret=mobile-app-orgid`\n+APP_ID=`gcloud --project=${SECRET_PROJECT} secrets versions access latest --secret=manual-mobile-app-appid`\n+ORG_ID=`gcloud --project=${SECRET_PROJECT} secrets versions access latest --secret=manual-mobile-app-orgid`", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4fa0688f668f2945c7798ccb289025f19c172741"}, "originalPosition": 24}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY3MTY4OTkx", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/747#pullrequestreview-467168991", "createdAt": "2020-08-13T22:19:12Z", "commit": {"oid": "4fa0688f668f2945c7798ccb289025f19c172741"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xM1QyMjoxOToxMlrOHAfoFA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xM1QyMjoxOToxMlrOHAfoFA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDI4MDIxMg==", "bodyText": "it's still needed in the early-access snapshot. It will be removed for the public launch", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/747#discussion_r470280212", "createdAt": "2020-08-13T22:19:12Z", "author": {"login": "zohrehj"}, "path": "scripts/copy_mobile_app_info_to_sql.sh", "diffHunk": "@@ -2,19 +2,21 @@\n # Script to copy AppId and OrgId from gcloud secret to CloudSQL.\n set -e\n \n-# TODO: Change these to env variables.\n-SECRET_PROJECT=heroes-hat-dev-devops\n-DATA_PROJECT=heroes-hat-dev-data\n-SQL_IMPORT_BUCKET=heroes-hat-dev-data-sql-import\n+PREFIX=example\n+ENV=dev\n+\n+SECRET_PROJECT=${PREFIX}-${ENV}-secrets\n+DATA_PROJECT=${PREFIX}-${ENV}-data\n+SQL_IMPORT_BUCKET=${PREFIX}-${ENV}-my-studies-sql-import\n TMPFILE=$(mktemp)\n ORG_NAME=\"Test Org\"\n \n # Write user registration server db name to TMPFILE.\n echo \"USE \\`mystudies_userregistration\\`;\" >> ${TMPFILE}\n \n # Read AppId and OrgId from secrets..\n-APP_ID=`gcloud --project=${SECRET_PROJECT} secrets versions access latest --secret=mobile-app-appid`\n-ORG_ID=`gcloud --project=${SECRET_PROJECT} secrets versions access latest --secret=mobile-app-orgid`\n+APP_ID=`gcloud --project=${SECRET_PROJECT} secrets versions access latest --secret=manual-mobile-app-appid`\n+ORG_ID=`gcloud --project=${SECRET_PROJECT} secrets versions access latest --secret=manual-mobile-app-orgid`", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDI1Nzc0Mw=="}, "originalCommit": {"oid": "4fa0688f668f2945c7798ccb289025f19c172741"}, "originalPosition": 24}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ef45a4f99323d828a5814e5774b3b985b9eab44b", "author": {"user": {"login": "xingao267", "name": "Xin Gao"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/ef45a4f99323d828a5814e5774b3b985b9eab44b", "committedDate": "2020-08-14T17:49:14Z", "message": "add orgid back in early-access branch"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 652, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}