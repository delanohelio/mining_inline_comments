{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI3NTE1MTk1", "number": 2140, "title": "[Particiapnt Manager]Issue #1841 fixed, You don't have permission to manage site' error message is displayed when user decommissions the site and refreshes the page", "bodyText": "Issue #1841 fixed\nIssue described like below:\n'You don't have permission to manage site' error message is displayed when user decommissions the site and refreshes the page\n\nChanged && to || to check neither app level permission nor study level permission exists for particular user then delete sitelevel permission when user decommissions the site.\nRemoved if condition to allow user to check permissions irrespective of superadmin.", "createdAt": "2020-11-25T15:12:09Z", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/2140", "merged": true, "mergeCommit": {"oid": "455b87bce5100026f7815324ccc57148edccacd5"}, "closed": true, "closedAt": "2020-11-28T02:37:35Z", "author": {"login": "madhurya-btc"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdf_0YJgH2gAyNTI3NTE1MTk1Ojg3OWU0YWE1NzFiZDQ3NWJhNmQzMDY2NjUzZmVjNGEyMjViMjg3MWI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdgyv-aAH2gAyNTI3NTE1MTk1OmQ2ZDE1MGE1ODA4ODQ4MzAxZWJhMTE5M2NhNmE5Mjk5N2NjOTRhZTE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "879e4aa571bd475ba6d3066653fec4a225b2871b", "author": {"user": {"login": "madhurya-btc", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/879e4aa571bd475ba6d3066653fec4a225b2871b", "committedDate": "2020-11-25T15:10:07Z", "message": "Issue #1841 issue fixed\n\nIssue #1841 issue fixed"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6e037cb665d8d4a235b707fd1dfa76da4aa6a5d7", "author": {"user": {"login": "madhurya-btc", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/6e037cb665d8d4a235b707fd1dfa76da4aa6a5d7", "committedDate": "2020-11-25T15:14:26Z", "message": "Merge branch 'develop' into issue1841"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3be0ba6e36f759547d1951b18e18e2d1361f192e", "author": {"user": {"login": "madhurya-btc", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/3be0ba6e36f759547d1951b18e18e2d1361f192e", "committedDate": "2020-11-27T02:36:55Z", "message": "Merge branch 'develop' into issue1841"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQwMDM4ODc1", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/2140#pullrequestreview-540038875", "createdAt": "2020-11-27T14:58:11Z", "commit": {"oid": "3be0ba6e36f759547d1951b18e18e2d1361f192e"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yN1QxNDo1ODoxMVrOH7BMpA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yN1QxNDo1ODoxMVrOH7BMpA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTY0NzY1Mg==", "bodyText": "this doesn't make sense, should the second part be negated as well?\nif (!(studyAdminIds.contains(sitePermission.getUrAdminUser().getId())\n     ||    !(appAdminIds.contains(sitePermission.getUrAdminUser().getId()))))", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/2140#discussion_r531647652", "createdAt": "2020-11-27T14:58:11Z", "author": {"login": "zohrehj"}, "path": "participant-manager-datastore/participant-manager-service/src/main/java/com/google/cloud/healthcare/fdamystudies/service/SiteServiceImpl.java", "diffHunk": "@@ -640,7 +639,7 @@ private void updateSitePermissions(String siteId) {\n \n     for (SitePermissionEntity sitePermission : sitePermissions) {\n       if (!(studyAdminIds.contains(sitePermission.getUrAdminUser().getId())\n-          && appAdminIds.contains(sitePermission.getUrAdminUser().getId()))) {\n+          || appAdminIds.contains(sitePermission.getUrAdminUser().getId()))) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3be0ba6e36f759547d1951b18e18e2d1361f192e"}, "originalPosition": 17}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQwMTQwNDcz", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/2140#pullrequestreview-540140473", "createdAt": "2020-11-27T18:54:27Z", "commit": {"oid": "3be0ba6e36f759547d1951b18e18e2d1361f192e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d6d150a5808848301eba1193ca6a92997cc94ae1", "author": {"user": {"login": "madhurya-btc", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/d6d150a5808848301eba1193ca6a92997cc94ae1", "committedDate": "2020-11-28T02:30:28Z", "message": "Merge branch 'develop' into issue1841"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1093, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}