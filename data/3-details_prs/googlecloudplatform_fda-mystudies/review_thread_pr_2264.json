{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTMzMjM1ODE3", "number": 2264, "reviewThreads": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QwMToxMjoyOFrOFBjWtQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QwMTo1OToyOFrOFBj6Cg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM3MTcyMTQ5OnYy", "diffSide": "RIGHT", "path": "Android/README.md", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QwMToxMjoyOFrOIASQHA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QxMzoyMjoxN1rOIAme6A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzE2OTk0OA==", "bodyText": "I don't think this is really needed for Android readme. This is general knowledge and not really related to the Android code.", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/2264#discussion_r537169948", "createdAt": "2020-12-07T01:12:28Z", "author": {"login": "zohrehj"}, "path": "Android/README.md", "diffHunk": "@@ -1,21 +1,62 @@\n-# Requirements\n-FDA MyStudies Android app requires Android Studio and can be run on Android versions starting from Kitkat.\n-\n-# Backend Server Integration\n-FDA MyStudies Mobile Apps fetch all the Studies, Activities, Consent and Resources from Study Builder and datastores, and post responses provided by users to the Response datastore. In order for this app to communicate with the appropriate underlying services, you need to set up the following services and provide the appropriate URLs and credentials in [api.properties](./api.properties):\n-\n-#### Partcipant Datastore\n-Partcipant Datastore stores participants' information, their consent status and consent document once provided.\n-\n-#### Study Builder\n-Study Builder provides the platform to create study, activities, consent, and resources.\n-\n-#### Response Datastore\n-Response Datastore stores users\u2019 responses to all study activities.\n-\n-#### Auth Server\n-Handles authentication of the App with different backends.\n+<!--\n+ Copyright 2020 Google LLC\n+ Use of this source code is governed by an MIT-style\n+ license that can be found in the LICENSE file or at\n+ https://opensource.org/licenses/MIT.\n+-->\n \n+# Overview\n+This directory contains all the code necessary to build the **FDA MyStudies** Android application for study participants. Customization of the [`build.gradle`](app/build.gradle), [`api.properties`](api.properties) and [`strings.xml`](app/src/fda/res/values/strings.xml) files will enable your Android application to interact with the other components of your **FDA MyStudies** deployment. Further customization of app branding can be accomplished by replacing the default application images with your own. All configuration related to the creation and operation of studies is done using the [`Study builder`](../study-builder/) without need for code changes or redeployment of the mobile application.\n \n+<!--TODO A demonstration of the Android mobile application can be found [here](todo). --->\n \n+![Example screens](../documentation/images/mobile-screens.png \"Example screens\")\n \n+# Requirements\n+The **FDA MyStudies** Android application requires [Android Studio](https://developer.android.com/studio/index.html) and can be run on Android versions starting from Kitkat.\n+\n+# Platform integration\n+The **FDA MyStudies** mobile application fetches all study, schedule, activity, eligibility, consent and notification information from the [`Study datastore`](../study-datastore/) and posts pseudonymized participant response data to the [`Response datastore`](../response-datastore/). Consent forms and any other identifiable data is posted to the [`Participant datastore`](../participant-datastore/). Email and password authentication is handled by the MyStudies [`Auth server`](../auth-server/) using OAuth 2.0 and [`Hydra`](/hydra/).\n+\n+# Configuration instructions\n+\n+1. Check out the latest code from the [FDA MyStudies repository](https://github.com/GoogleCloudPlatform/fda-mystudies/) with `git clone https://github.com/GoogleCloudPlatform/fda-mystudies.git` and your [personal access token](https://docs.github.com/en/free-pro-team@latest/github/authenticating-to-github/creating-a-personal-access-token) as password (you may need to install git, for example `sudo apt install git`)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e8885d58d90d38ef5bff40ec58742abed9249c17"}, "originalPosition": 40}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzUwMTQxNg==", "bodyText": "Ack - but want to retain for consistency with out READMEs.", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/2264#discussion_r537501416", "createdAt": "2020-12-07T13:22:17Z", "author": {"login": "jkrogers18"}, "path": "Android/README.md", "diffHunk": "@@ -1,21 +1,62 @@\n-# Requirements\n-FDA MyStudies Android app requires Android Studio and can be run on Android versions starting from Kitkat.\n-\n-# Backend Server Integration\n-FDA MyStudies Mobile Apps fetch all the Studies, Activities, Consent and Resources from Study Builder and datastores, and post responses provided by users to the Response datastore. In order for this app to communicate with the appropriate underlying services, you need to set up the following services and provide the appropriate URLs and credentials in [api.properties](./api.properties):\n-\n-#### Partcipant Datastore\n-Partcipant Datastore stores participants' information, their consent status and consent document once provided.\n-\n-#### Study Builder\n-Study Builder provides the platform to create study, activities, consent, and resources.\n-\n-#### Response Datastore\n-Response Datastore stores users\u2019 responses to all study activities.\n-\n-#### Auth Server\n-Handles authentication of the App with different backends.\n+<!--\n+ Copyright 2020 Google LLC\n+ Use of this source code is governed by an MIT-style\n+ license that can be found in the LICENSE file or at\n+ https://opensource.org/licenses/MIT.\n+-->\n \n+# Overview\n+This directory contains all the code necessary to build the **FDA MyStudies** Android application for study participants. Customization of the [`build.gradle`](app/build.gradle), [`api.properties`](api.properties) and [`strings.xml`](app/src/fda/res/values/strings.xml) files will enable your Android application to interact with the other components of your **FDA MyStudies** deployment. Further customization of app branding can be accomplished by replacing the default application images with your own. All configuration related to the creation and operation of studies is done using the [`Study builder`](../study-builder/) without need for code changes or redeployment of the mobile application.\n \n+<!--TODO A demonstration of the Android mobile application can be found [here](todo). --->\n \n+![Example screens](../documentation/images/mobile-screens.png \"Example screens\")\n \n+# Requirements\n+The **FDA MyStudies** Android application requires [Android Studio](https://developer.android.com/studio/index.html) and can be run on Android versions starting from Kitkat.\n+\n+# Platform integration\n+The **FDA MyStudies** mobile application fetches all study, schedule, activity, eligibility, consent and notification information from the [`Study datastore`](../study-datastore/) and posts pseudonymized participant response data to the [`Response datastore`](../response-datastore/). Consent forms and any other identifiable data is posted to the [`Participant datastore`](../participant-datastore/). Email and password authentication is handled by the MyStudies [`Auth server`](../auth-server/) using OAuth 2.0 and [`Hydra`](/hydra/).\n+\n+# Configuration instructions\n+\n+1. Check out the latest code from the [FDA MyStudies repository](https://github.com/GoogleCloudPlatform/fda-mystudies/) with `git clone https://github.com/GoogleCloudPlatform/fda-mystudies.git` and your [personal access token](https://docs.github.com/en/free-pro-team@latest/github/authenticating-to-github/creating-a-personal-access-token) as password (you may need to install git, for example `sudo apt install git`)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzE2OTk0OA=="}, "originalCommit": {"oid": "e8885d58d90d38ef5bff40ec58742abed9249c17"}, "originalPosition": 40}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM3MTcyODA4OnYy", "diffSide": "RIGHT", "path": "Android/README.md", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QwMToxNjoxN1rOIASTeA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QxMzozMzo0NlrOIAm7xA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzE3MDgwOA==", "bodyText": "should .net be part of <your domain>?", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/2264#discussion_r537170808", "createdAt": "2020-12-07T01:16:17Z", "author": {"login": "zohrehj"}, "path": "Android/README.md", "diffHunk": "@@ -1,21 +1,62 @@\n-# Requirements\n-FDA MyStudies Android app requires Android Studio and can be run on Android versions starting from Kitkat.\n-\n-# Backend Server Integration\n-FDA MyStudies Mobile Apps fetch all the Studies, Activities, Consent and Resources from Study Builder and datastores, and post responses provided by users to the Response datastore. In order for this app to communicate with the appropriate underlying services, you need to set up the following services and provide the appropriate URLs and credentials in [api.properties](./api.properties):\n-\n-#### Partcipant Datastore\n-Partcipant Datastore stores participants' information, their consent status and consent document once provided.\n-\n-#### Study Builder\n-Study Builder provides the platform to create study, activities, consent, and resources.\n-\n-#### Response Datastore\n-Response Datastore stores users\u2019 responses to all study activities.\n-\n-#### Auth Server\n-Handles authentication of the App with different backends.\n+<!--\n+ Copyright 2020 Google LLC\n+ Use of this source code is governed by an MIT-style\n+ license that can be found in the LICENSE file or at\n+ https://opensource.org/licenses/MIT.\n+-->\n \n+# Overview\n+This directory contains all the code necessary to build the **FDA MyStudies** Android application for study participants. Customization of the [`build.gradle`](app/build.gradle), [`api.properties`](api.properties) and [`strings.xml`](app/src/fda/res/values/strings.xml) files will enable your Android application to interact with the other components of your **FDA MyStudies** deployment. Further customization of app branding can be accomplished by replacing the default application images with your own. All configuration related to the creation and operation of studies is done using the [`Study builder`](../study-builder/) without need for code changes or redeployment of the mobile application.\n \n+<!--TODO A demonstration of the Android mobile application can be found [here](todo). --->\n \n+![Example screens](../documentation/images/mobile-screens.png \"Example screens\")\n \n+# Requirements\n+The **FDA MyStudies** Android application requires [Android Studio](https://developer.android.com/studio/index.html) and can be run on Android versions starting from Kitkat.\n+\n+# Platform integration\n+The **FDA MyStudies** mobile application fetches all study, schedule, activity, eligibility, consent and notification information from the [`Study datastore`](../study-datastore/) and posts pseudonymized participant response data to the [`Response datastore`](../response-datastore/). Consent forms and any other identifiable data is posted to the [`Participant datastore`](../participant-datastore/). Email and password authentication is handled by the MyStudies [`Auth server`](../auth-server/) using OAuth 2.0 and [`Hydra`](/hydra/).\n+\n+# Configuration instructions\n+\n+1. Check out the latest code from the [FDA MyStudies repository](https://github.com/GoogleCloudPlatform/fda-mystudies/) with `git clone https://github.com/GoogleCloudPlatform/fda-mystudies.git` and your [personal access token](https://docs.github.com/en/free-pro-team@latest/github/authenticating-to-github/creating-a-personal-access-token) as password (you may need to install git, for example `sudo apt install git`)\n+1. Open the [`Android/`](../Android/) directory as an existing project with [Android Studio](https://developer.android.com/studio/index.html)\n+1. If necessary, install the Android 10 SDK using Tools &rarr; [SDK Manager](https://developer.android.com/studio/intro/update#sdk-manager), then File &rarr; Sync Project with Gradle Files\t \n+1. Set the `applicationId` in [`Android/app/build.gradle`](app/build.gradle) to your [Application ID](https://developer.android.com/studio/build/application-id)\n+1. Update the following in the [`Android/api.properties`](api.properties) file:\n+    -    Update `API_KEY` with the `bundle_id` and `app_token` that you configured in [`study-datastore/src/main/resources/authorizationResource.properties`](../study-datastore/src/main/resources/authorizationResource.properties) during [`Study datastore`](/study-datastore/) deployment with format `<value of android.bundleid>:<value of android.apptoken>`\n+    -    Update `BASE_URL_STUDY_DATASTORE` with your [`Study datastore`](../study-datastore) URL\n+    -    Update `BASE_URL_PARTICIPANT_DATASTORE` with your [`User datastore`](../participant-datastore/user-mgmt-module/) URL\n+    -    Update `BASE_URL_PARTICIPANT_CONSENT_DATASTORE` with your [`Consent datastore`](../participant-datastore/consent-mgmt-module/) URL\n+    -    Update `BASE_URL_PARTICIPANT_ENROLLMENT_DATASTORE` with your [`Enrollment datastore`](../participant-datastore/enroll-mgmt-module/) URL\n+    -    Update `BASE_URL_HYDRA_SERVER` with your [`Hydra server`](../hydra/) public URL (typically configured on port 4444)\n+    -    Update `BASE_URL_AUTH_SERVER` with your [`Auth server`](../auth-server/) URL\n+    -    Update `BASE_URL_RESPONSE_DATASTORE` with your [`Response datastore`](../response-datastore/) URL\n+    -    Update `HYDRA_CLIENT_ID` with the `client_id` you configured during [`Hydra`](/hydra/) deployment (the mobile applications share a `client_id` with the `Auth server` and `Participant manager`) \n+    -    Update `APP_ID` variable with the `AppId` that will be configured by the study administrator in the [`Study builder`](../study-builder/) user interface\n+    -    Set `APP_TYPE` to either \u201cgateway\u201d or \u201cstandalone\u201d\n+    -    Update `STUDY_ID` key with the `StudyId` configured by the study administrator in the [`Study builder`](../study-builder/) user interface (not required for *Gateway* applications)\n+1. Update the following in the [`Android/app/src/fda/res/values/strings.xml`](app/src/fda/res/values/strings.xml) file:\n+    -    Set `deeplink_host` to redirect to the app from the [`Hydra`](/hydra/) auth server (for example, `app://mystudies.<your-domain>.net/mystudies` - more information about deep links within Android applications is located [here](https://developer.android.com/training/app-links/deep-linking))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e8885d58d90d38ef5bff40ec58742abed9249c17"}, "originalPosition": 58}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzUwODgwNA==", "bodyText": "done", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/2264#discussion_r537508804", "createdAt": "2020-12-07T13:33:46Z", "author": {"login": "jkrogers18"}, "path": "Android/README.md", "diffHunk": "@@ -1,21 +1,62 @@\n-# Requirements\n-FDA MyStudies Android app requires Android Studio and can be run on Android versions starting from Kitkat.\n-\n-# Backend Server Integration\n-FDA MyStudies Mobile Apps fetch all the Studies, Activities, Consent and Resources from Study Builder and datastores, and post responses provided by users to the Response datastore. In order for this app to communicate with the appropriate underlying services, you need to set up the following services and provide the appropriate URLs and credentials in [api.properties](./api.properties):\n-\n-#### Partcipant Datastore\n-Partcipant Datastore stores participants' information, their consent status and consent document once provided.\n-\n-#### Study Builder\n-Study Builder provides the platform to create study, activities, consent, and resources.\n-\n-#### Response Datastore\n-Response Datastore stores users\u2019 responses to all study activities.\n-\n-#### Auth Server\n-Handles authentication of the App with different backends.\n+<!--\n+ Copyright 2020 Google LLC\n+ Use of this source code is governed by an MIT-style\n+ license that can be found in the LICENSE file or at\n+ https://opensource.org/licenses/MIT.\n+-->\n \n+# Overview\n+This directory contains all the code necessary to build the **FDA MyStudies** Android application for study participants. Customization of the [`build.gradle`](app/build.gradle), [`api.properties`](api.properties) and [`strings.xml`](app/src/fda/res/values/strings.xml) files will enable your Android application to interact with the other components of your **FDA MyStudies** deployment. Further customization of app branding can be accomplished by replacing the default application images with your own. All configuration related to the creation and operation of studies is done using the [`Study builder`](../study-builder/) without need for code changes or redeployment of the mobile application.\n \n+<!--TODO A demonstration of the Android mobile application can be found [here](todo). --->\n \n+![Example screens](../documentation/images/mobile-screens.png \"Example screens\")\n \n+# Requirements\n+The **FDA MyStudies** Android application requires [Android Studio](https://developer.android.com/studio/index.html) and can be run on Android versions starting from Kitkat.\n+\n+# Platform integration\n+The **FDA MyStudies** mobile application fetches all study, schedule, activity, eligibility, consent and notification information from the [`Study datastore`](../study-datastore/) and posts pseudonymized participant response data to the [`Response datastore`](../response-datastore/). Consent forms and any other identifiable data is posted to the [`Participant datastore`](../participant-datastore/). Email and password authentication is handled by the MyStudies [`Auth server`](../auth-server/) using OAuth 2.0 and [`Hydra`](/hydra/).\n+\n+# Configuration instructions\n+\n+1. Check out the latest code from the [FDA MyStudies repository](https://github.com/GoogleCloudPlatform/fda-mystudies/) with `git clone https://github.com/GoogleCloudPlatform/fda-mystudies.git` and your [personal access token](https://docs.github.com/en/free-pro-team@latest/github/authenticating-to-github/creating-a-personal-access-token) as password (you may need to install git, for example `sudo apt install git`)\n+1. Open the [`Android/`](../Android/) directory as an existing project with [Android Studio](https://developer.android.com/studio/index.html)\n+1. If necessary, install the Android 10 SDK using Tools &rarr; [SDK Manager](https://developer.android.com/studio/intro/update#sdk-manager), then File &rarr; Sync Project with Gradle Files\t \n+1. Set the `applicationId` in [`Android/app/build.gradle`](app/build.gradle) to your [Application ID](https://developer.android.com/studio/build/application-id)\n+1. Update the following in the [`Android/api.properties`](api.properties) file:\n+    -    Update `API_KEY` with the `bundle_id` and `app_token` that you configured in [`study-datastore/src/main/resources/authorizationResource.properties`](../study-datastore/src/main/resources/authorizationResource.properties) during [`Study datastore`](/study-datastore/) deployment with format `<value of android.bundleid>:<value of android.apptoken>`\n+    -    Update `BASE_URL_STUDY_DATASTORE` with your [`Study datastore`](../study-datastore) URL\n+    -    Update `BASE_URL_PARTICIPANT_DATASTORE` with your [`User datastore`](../participant-datastore/user-mgmt-module/) URL\n+    -    Update `BASE_URL_PARTICIPANT_CONSENT_DATASTORE` with your [`Consent datastore`](../participant-datastore/consent-mgmt-module/) URL\n+    -    Update `BASE_URL_PARTICIPANT_ENROLLMENT_DATASTORE` with your [`Enrollment datastore`](../participant-datastore/enroll-mgmt-module/) URL\n+    -    Update `BASE_URL_HYDRA_SERVER` with your [`Hydra server`](../hydra/) public URL (typically configured on port 4444)\n+    -    Update `BASE_URL_AUTH_SERVER` with your [`Auth server`](../auth-server/) URL\n+    -    Update `BASE_URL_RESPONSE_DATASTORE` with your [`Response datastore`](../response-datastore/) URL\n+    -    Update `HYDRA_CLIENT_ID` with the `client_id` you configured during [`Hydra`](/hydra/) deployment (the mobile applications share a `client_id` with the `Auth server` and `Participant manager`) \n+    -    Update `APP_ID` variable with the `AppId` that will be configured by the study administrator in the [`Study builder`](../study-builder/) user interface\n+    -    Set `APP_TYPE` to either \u201cgateway\u201d or \u201cstandalone\u201d\n+    -    Update `STUDY_ID` key with the `StudyId` configured by the study administrator in the [`Study builder`](../study-builder/) user interface (not required for *Gateway* applications)\n+1. Update the following in the [`Android/app/src/fda/res/values/strings.xml`](app/src/fda/res/values/strings.xml) file:\n+    -    Set `deeplink_host` to redirect to the app from the [`Hydra`](/hydra/) auth server (for example, `app://mystudies.<your-domain>.net/mystudies` - more information about deep links within Android applications is located [here](https://developer.android.com/training/app-links/deep-linking))", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzE3MDgwOA=="}, "originalCommit": {"oid": "e8885d58d90d38ef5bff40ec58742abed9249c17"}, "originalPosition": 58}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM3MTczNzU4OnYy", "diffSide": "RIGHT", "path": "Android/README.md", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QwMToyMToyOFrOIASYKg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QxMzozMjoxM1rOIAm36Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzE3MjAxMA==", "bodyText": "for terraform deployment this value should be set to: https://participants.<your deployed domain>/", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/2264#discussion_r537172010", "createdAt": "2020-12-07T01:21:28Z", "author": {"login": "zohrehj"}, "path": "Android/README.md", "diffHunk": "@@ -1,21 +1,62 @@\n-# Requirements\n-FDA MyStudies Android app requires Android Studio and can be run on Android versions starting from Kitkat.\n-\n-# Backend Server Integration\n-FDA MyStudies Mobile Apps fetch all the Studies, Activities, Consent and Resources from Study Builder and datastores, and post responses provided by users to the Response datastore. In order for this app to communicate with the appropriate underlying services, you need to set up the following services and provide the appropriate URLs and credentials in [api.properties](./api.properties):\n-\n-#### Partcipant Datastore\n-Partcipant Datastore stores participants' information, their consent status and consent document once provided.\n-\n-#### Study Builder\n-Study Builder provides the platform to create study, activities, consent, and resources.\n-\n-#### Response Datastore\n-Response Datastore stores users\u2019 responses to all study activities.\n-\n-#### Auth Server\n-Handles authentication of the App with different backends.\n+<!--\n+ Copyright 2020 Google LLC\n+ Use of this source code is governed by an MIT-style\n+ license that can be found in the LICENSE file or at\n+ https://opensource.org/licenses/MIT.\n+-->\n \n+# Overview\n+This directory contains all the code necessary to build the **FDA MyStudies** Android application for study participants. Customization of the [`build.gradle`](app/build.gradle), [`api.properties`](api.properties) and [`strings.xml`](app/src/fda/res/values/strings.xml) files will enable your Android application to interact with the other components of your **FDA MyStudies** deployment. Further customization of app branding can be accomplished by replacing the default application images with your own. All configuration related to the creation and operation of studies is done using the [`Study builder`](../study-builder/) without need for code changes or redeployment of the mobile application.\n \n+<!--TODO A demonstration of the Android mobile application can be found [here](todo). --->\n \n+![Example screens](../documentation/images/mobile-screens.png \"Example screens\")\n \n+# Requirements\n+The **FDA MyStudies** Android application requires [Android Studio](https://developer.android.com/studio/index.html) and can be run on Android versions starting from Kitkat.\n+\n+# Platform integration\n+The **FDA MyStudies** mobile application fetches all study, schedule, activity, eligibility, consent and notification information from the [`Study datastore`](../study-datastore/) and posts pseudonymized participant response data to the [`Response datastore`](../response-datastore/). Consent forms and any other identifiable data is posted to the [`Participant datastore`](../participant-datastore/). Email and password authentication is handled by the MyStudies [`Auth server`](../auth-server/) using OAuth 2.0 and [`Hydra`](/hydra/).\n+\n+# Configuration instructions\n+\n+1. Check out the latest code from the [FDA MyStudies repository](https://github.com/GoogleCloudPlatform/fda-mystudies/) with `git clone https://github.com/GoogleCloudPlatform/fda-mystudies.git` and your [personal access token](https://docs.github.com/en/free-pro-team@latest/github/authenticating-to-github/creating-a-personal-access-token) as password (you may need to install git, for example `sudo apt install git`)\n+1. Open the [`Android/`](../Android/) directory as an existing project with [Android Studio](https://developer.android.com/studio/index.html)\n+1. If necessary, install the Android 10 SDK using Tools &rarr; [SDK Manager](https://developer.android.com/studio/intro/update#sdk-manager), then File &rarr; Sync Project with Gradle Files\t \n+1. Set the `applicationId` in [`Android/app/build.gradle`](app/build.gradle) to your [Application ID](https://developer.android.com/studio/build/application-id)\n+1. Update the following in the [`Android/api.properties`](api.properties) file:\n+    -    Update `API_KEY` with the `bundle_id` and `app_token` that you configured in [`study-datastore/src/main/resources/authorizationResource.properties`](../study-datastore/src/main/resources/authorizationResource.properties) during [`Study datastore`](/study-datastore/) deployment with format `<value of android.bundleid>:<value of android.apptoken>`\n+    -    Update `BASE_URL_STUDY_DATASTORE` with your [`Study datastore`](../study-datastore) URL\n+    -    Update `BASE_URL_PARTICIPANT_DATASTORE` with your [`User datastore`](../participant-datastore/user-mgmt-module/) URL\n+    -    Update `BASE_URL_PARTICIPANT_CONSENT_DATASTORE` with your [`Consent datastore`](../participant-datastore/consent-mgmt-module/) URL\n+    -    Update `BASE_URL_PARTICIPANT_ENROLLMENT_DATASTORE` with your [`Enrollment datastore`](../participant-datastore/enroll-mgmt-module/) URL\n+    -    Update `BASE_URL_HYDRA_SERVER` with your [`Hydra server`](../hydra/) public URL (typically configured on port 4444)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e8885d58d90d38ef5bff40ec58742abed9249c17"}, "originalPosition": 50}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzUwNzgxNw==", "bodyText": "Removed these details as they are documented well in the file itself", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/2264#discussion_r537507817", "createdAt": "2020-12-07T13:32:13Z", "author": {"login": "jkrogers18"}, "path": "Android/README.md", "diffHunk": "@@ -1,21 +1,62 @@\n-# Requirements\n-FDA MyStudies Android app requires Android Studio and can be run on Android versions starting from Kitkat.\n-\n-# Backend Server Integration\n-FDA MyStudies Mobile Apps fetch all the Studies, Activities, Consent and Resources from Study Builder and datastores, and post responses provided by users to the Response datastore. In order for this app to communicate with the appropriate underlying services, you need to set up the following services and provide the appropriate URLs and credentials in [api.properties](./api.properties):\n-\n-#### Partcipant Datastore\n-Partcipant Datastore stores participants' information, their consent status and consent document once provided.\n-\n-#### Study Builder\n-Study Builder provides the platform to create study, activities, consent, and resources.\n-\n-#### Response Datastore\n-Response Datastore stores users\u2019 responses to all study activities.\n-\n-#### Auth Server\n-Handles authentication of the App with different backends.\n+<!--\n+ Copyright 2020 Google LLC\n+ Use of this source code is governed by an MIT-style\n+ license that can be found in the LICENSE file or at\n+ https://opensource.org/licenses/MIT.\n+-->\n \n+# Overview\n+This directory contains all the code necessary to build the **FDA MyStudies** Android application for study participants. Customization of the [`build.gradle`](app/build.gradle), [`api.properties`](api.properties) and [`strings.xml`](app/src/fda/res/values/strings.xml) files will enable your Android application to interact with the other components of your **FDA MyStudies** deployment. Further customization of app branding can be accomplished by replacing the default application images with your own. All configuration related to the creation and operation of studies is done using the [`Study builder`](../study-builder/) without need for code changes or redeployment of the mobile application.\n \n+<!--TODO A demonstration of the Android mobile application can be found [here](todo). --->\n \n+![Example screens](../documentation/images/mobile-screens.png \"Example screens\")\n \n+# Requirements\n+The **FDA MyStudies** Android application requires [Android Studio](https://developer.android.com/studio/index.html) and can be run on Android versions starting from Kitkat.\n+\n+# Platform integration\n+The **FDA MyStudies** mobile application fetches all study, schedule, activity, eligibility, consent and notification information from the [`Study datastore`](../study-datastore/) and posts pseudonymized participant response data to the [`Response datastore`](../response-datastore/). Consent forms and any other identifiable data is posted to the [`Participant datastore`](../participant-datastore/). Email and password authentication is handled by the MyStudies [`Auth server`](../auth-server/) using OAuth 2.0 and [`Hydra`](/hydra/).\n+\n+# Configuration instructions\n+\n+1. Check out the latest code from the [FDA MyStudies repository](https://github.com/GoogleCloudPlatform/fda-mystudies/) with `git clone https://github.com/GoogleCloudPlatform/fda-mystudies.git` and your [personal access token](https://docs.github.com/en/free-pro-team@latest/github/authenticating-to-github/creating-a-personal-access-token) as password (you may need to install git, for example `sudo apt install git`)\n+1. Open the [`Android/`](../Android/) directory as an existing project with [Android Studio](https://developer.android.com/studio/index.html)\n+1. If necessary, install the Android 10 SDK using Tools &rarr; [SDK Manager](https://developer.android.com/studio/intro/update#sdk-manager), then File &rarr; Sync Project with Gradle Files\t \n+1. Set the `applicationId` in [`Android/app/build.gradle`](app/build.gradle) to your [Application ID](https://developer.android.com/studio/build/application-id)\n+1. Update the following in the [`Android/api.properties`](api.properties) file:\n+    -    Update `API_KEY` with the `bundle_id` and `app_token` that you configured in [`study-datastore/src/main/resources/authorizationResource.properties`](../study-datastore/src/main/resources/authorizationResource.properties) during [`Study datastore`](/study-datastore/) deployment with format `<value of android.bundleid>:<value of android.apptoken>`\n+    -    Update `BASE_URL_STUDY_DATASTORE` with your [`Study datastore`](../study-datastore) URL\n+    -    Update `BASE_URL_PARTICIPANT_DATASTORE` with your [`User datastore`](../participant-datastore/user-mgmt-module/) URL\n+    -    Update `BASE_URL_PARTICIPANT_CONSENT_DATASTORE` with your [`Consent datastore`](../participant-datastore/consent-mgmt-module/) URL\n+    -    Update `BASE_URL_PARTICIPANT_ENROLLMENT_DATASTORE` with your [`Enrollment datastore`](../participant-datastore/enroll-mgmt-module/) URL\n+    -    Update `BASE_URL_HYDRA_SERVER` with your [`Hydra server`](../hydra/) public URL (typically configured on port 4444)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzE3MjAxMA=="}, "originalCommit": {"oid": "e8885d58d90d38ef5bff40ec58742abed9249c17"}, "originalPosition": 50}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM3MTc0NjQ5OnYy", "diffSide": "RIGHT", "path": "README.md", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QwMToyNjoxNFrOIAScgw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QxMzozNToyOVrOIAnAWQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzE3MzEyMw==", "bodyText": "should we leave intended users empty for backend services? \"Platform component\" here is somewhat confusing.", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/2264#discussion_r537173123", "createdAt": "2020-12-07T01:26:14Z", "author": {"login": "zohrehj"}, "path": "README.md", "diffHunk": "@@ -1,185 +1,72 @@\n-# FDA MyStudies\n+<!--\n+ Copyright 2020 Google LLC\n+ Use of this source code is governed by an MIT-style\n+ license that can be found in the LICENSE file or at\n+ https://opensource.org/licenses/MIT.\n+-->\n+\n+![FDA MyStudies](documentation/images/MyStudies_banner.svg \"FDA MyStudies\") \n+\n ## Overview\n \n-The FDA\u2019s MyStudies platform enables organizations to quickly build and deploy studies that interact with participants through purpose-built apps on iOS and Android. MyStudies apps can be distributed to participants directly (for example, when collecting patient-reported outcomes in support of a traditional clinical trial), or made available through the App Store and Google Play (for large-scale open-enrollment studies).\n-\n-This open-source repository contains all of the code necessary to run FDA MyStudies on the infrastructure of choice. Optional open-source [deployment tools](Terraform/README.md) are included for semi-automated deployment to Google Cloud Platform (GCP). These tools stand up an FDA MyStudies implementation in 1 hour, and are designed with specific compliance guidelines in mind, making the end-to-end compliance journey easier for organizations.\n-\n-Upon completing deployment, FDA MyStudies platform components will be available for use. A summary of these components is below.<!-- \u2013 a detailed overview of the platform architecture can be found [here](documentation/architecture_overview.md).-->\n-\n-<table>\n-  <tr>\n-   <td><strong>Component</strong>\n-   </td>\n-   <td><strong>Intended users</strong>\n-   </td>\n-   <td><strong>Purpose</strong>\n-   </td>\n-  </tr>\n-  <tr>\n-   <td>Study Builder\n-   </td>\n-   <td>Study designers\n-   </td>\n-   <td>User interface for authoring and publishing studies with no software development\n-   </td>\n-  </tr>\n-  <tr>\n-   <td>Participant Manager\n-   </td>\n-   <td>Study coordinators\n-   </td>\n-   <td>User interface for coordinators to manage participant enrollment (not yet available)\n-   </td>\n-  </tr>\n-  <tr>\n-   <td>Mobile Apps\n-   </td>\n-   <td>Study participants\n-   </td>\n-   <td>iOS and Android apps that participants use to discover, enroll and interact with studies\n-   </td>\n-  </tr>\n-  <tr>\n-   <td>Response Datastore\n-   </td>\n-   <td>Researchers & analysts\n-<p>\n-(back-end component)\n-   </td>\n-   <td>Collects and stores study activity responses for downstream analysis (no PII)\n-   </td>\n-  </tr>\n-  <tr>\n-   <td>Study Datastore\n-   </td>\n-   <td>(back-end component)\n-   </td>\n-   <td>Manages study configurations (e.g. questionnaire content and schedule)\n-   </td>\n-  </tr>\n-  <tr>\n-   <td>Participant Datastore\n-   </td>\n-   <td>(back-end component)\n-   </td>\n-   <td>Manages participant information and any PII (e.g. contact information, consent forms)\n-   </td>\n-  </tr>\n-  <tr>\n-   <td>Auth Server\n-   </td>\n-   <td>(back-end component)\n-   </td>\n-   <td>Manages account creation, login, logout, resource requests, etc.\n-   </td>\n-  </tr>\n-</table>\n-\n-<!-- ![Platform Illustration](documentation/images/platform_illustration.png \"Platform Illustration\") -->\n-\n-## Use-cases\n-\n-FDA MyStudies is a flexible framework that enables diverse use-cases across a range of organizations and industries.\n-\n-Examples for how FDA MyStudies can be used include: \n-\n-<table>\n-  <tr>\n-   <td><strong>Sample industries</strong>\n-   </td>\n-   <td>\n-    <strong>Example use-cases</strong>\n-   </td>\n-  </tr>\n-  <tr>\n-   <td>Pharma and medtech\n-   </td>\n-   <td><ul>\n-\n-<li>Replace paper forms and binders of PRO questionnaires for clinical trial participants\n-<li>Complement in-person / traditional studies with digital surveys and other instruments\n-<li>Conduct virtual studies with massive reach and high patient engagement\n-<li>Collect valuable data on real-world impact with \u2018beyond-the-pill\u2019 companion apps\n-<li>Operate HEOR and post-market surveillance studies\n-<li>Monitor patient satisfaction and adverse events</li></ul>\n-\n-   </td>\n-  </tr>\n-  <tr>\n-   <td>Payers, providers and public health\n-   </td>\n-   <td><ul>\n-\n-<li>Develop new digital instruments\n-<li>Conduct large research studies quickly and efficiently\n-<li>Establish long-term patient registries\n-<li>Assess the efficacy of care management methodologies\n-<li>Measure prevalence and impact of infectious disease at scale\n-<li>Monitor efficacy of health care systems or specific initiatives</li></ul>\n-\n-   </td>\n-  </tr>\n-  <tr>\n-   <td>Cross-industry\n-   </td>\n-   <td><ul>\n-\n-<li>Measure customer satisfaction\n-<li>Evaluate employee / student behavior health and wellbeing</li></ul>\n-\n-   </td>\n-  </tr>\n-</table>\n-\n-## Repo organization\n-\n-This repository contains all code required to setup and run FDA MyStudies. This includes backend services, mobile applications, deployment tools and the necessary documentation. \n-\n-There are high-level directories for quick-start guides (`/documentation`) and deployment related files in `/deployment`. \n-\n-The remaining high-level directories are each dedicated to an application component (for example `/Android` and `/iOS` contain code for the mobile applications, while `/auth-server-ws` contains code for the Auth server).\n-\n-Each high-level directory contains a readme, build / deployment instructions, dockerfile, cloudbuild config and deployment configuration files (as needed).\n+The FDA\u2019s MyStudies platform enables organizations to quickly build and deploy studies that interact with participants through purpose-built apps on iOS and Android. MyStudies apps can be distributed to participants privately or made available through the App Store and Google Play.\n+\n+This open-source repository contains the code necessary to run a complete FDA MyStudies instance, inclusive of all web and mobile applications.\n+\n+Open-source [deployment tools](deployment) are included for semi-automated deployment to Google Cloud Platform (GCP). These tools can be used to deploy the FDA MyStudies platform in just a few hours. These tools follow compliance guidelines to simplify the end-to-end compliance journey. Deployment to other platforms and on-premise systems can be performed manually.\n+\n+![Platform Illustration](documentation/images/platform_illustration.png \"Platform Illustration\")\n+\n+## Documentation and guides\n+\n+Information related to the deployment and operation of FDA Mystudies can be found within each directory\u2019s `README`, and also in the following guides:\n+\n+* [High-level platform and repo overview](README.md) (this document)<!--TODO * [Feature and functionality demonstrations](documentation/demo.md)-->\n+* [Detailed platform architecture](documentation/architecture.md)\n+* [Instructions for semi-automated deployment](deployment/README.md)\n+<!-- TODO\n+* Quick-start guide for manual deployment(documentation/manual-quickstart.md\n+* User guides study builder, participant manager and mobile applications(documentation/user-guides.md)\n+* API reference(documentation/api-reference.md)\n+-->\n+\n+For the complete list of FDA MyStudies documentation, visit [`documentation/README.md`](/documentation/README.md). \n+\n+## Platform components and repo organization\n+\n+Component | Intended users | Purpose | Directories\n+----------------|----------------------|------------|----------------\n+Study builder | Researchers and clinicians | No-code user interface for authoring studies ([demo screens](documentation/images/study-builder-screens.png)) | [`study-builder/`](study-builder/)<br/>[`study-datastore/`](study-datastore/)\n+Participant manager | Study coordinators | No-code user interface to manage participant enrollment ([demo screens](documentation/images/participant-manager-screens.png)) | [`participant-manager/`](participant-manager/)<br/>[`participant-manager-datastore/`](participant-manager-datastore/)\n+Mobile applications | Study participants | Apps to discover, enroll and participate in studies ([demo screens](documentation/images/mobile-screens.png)) | [`iOS/`](iOS/)<br/>[`Android/`](Android/)\n+Response datastore | Researchers and analysts | Collects and stores participant response data for downstream analysis | [`response-datastore/`](response-datastore/)\n+Participant datastore | Platform component | Manages participant data such as contact information and consent forms | [`participant-datastore/`](participant-datastore/)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e8885d58d90d38ef5bff40ec58742abed9249c17"}, "originalPosition": 184}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzUwOTk3Nw==", "bodyText": "done", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/2264#discussion_r537509977", "createdAt": "2020-12-07T13:35:29Z", "author": {"login": "jkrogers18"}, "path": "README.md", "diffHunk": "@@ -1,185 +1,72 @@\n-# FDA MyStudies\n+<!--\n+ Copyright 2020 Google LLC\n+ Use of this source code is governed by an MIT-style\n+ license that can be found in the LICENSE file or at\n+ https://opensource.org/licenses/MIT.\n+-->\n+\n+![FDA MyStudies](documentation/images/MyStudies_banner.svg \"FDA MyStudies\") \n+\n ## Overview\n \n-The FDA\u2019s MyStudies platform enables organizations to quickly build and deploy studies that interact with participants through purpose-built apps on iOS and Android. MyStudies apps can be distributed to participants directly (for example, when collecting patient-reported outcomes in support of a traditional clinical trial), or made available through the App Store and Google Play (for large-scale open-enrollment studies).\n-\n-This open-source repository contains all of the code necessary to run FDA MyStudies on the infrastructure of choice. Optional open-source [deployment tools](Terraform/README.md) are included for semi-automated deployment to Google Cloud Platform (GCP). These tools stand up an FDA MyStudies implementation in 1 hour, and are designed with specific compliance guidelines in mind, making the end-to-end compliance journey easier for organizations.\n-\n-Upon completing deployment, FDA MyStudies platform components will be available for use. A summary of these components is below.<!-- \u2013 a detailed overview of the platform architecture can be found [here](documentation/architecture_overview.md).-->\n-\n-<table>\n-  <tr>\n-   <td><strong>Component</strong>\n-   </td>\n-   <td><strong>Intended users</strong>\n-   </td>\n-   <td><strong>Purpose</strong>\n-   </td>\n-  </tr>\n-  <tr>\n-   <td>Study Builder\n-   </td>\n-   <td>Study designers\n-   </td>\n-   <td>User interface for authoring and publishing studies with no software development\n-   </td>\n-  </tr>\n-  <tr>\n-   <td>Participant Manager\n-   </td>\n-   <td>Study coordinators\n-   </td>\n-   <td>User interface for coordinators to manage participant enrollment (not yet available)\n-   </td>\n-  </tr>\n-  <tr>\n-   <td>Mobile Apps\n-   </td>\n-   <td>Study participants\n-   </td>\n-   <td>iOS and Android apps that participants use to discover, enroll and interact with studies\n-   </td>\n-  </tr>\n-  <tr>\n-   <td>Response Datastore\n-   </td>\n-   <td>Researchers & analysts\n-<p>\n-(back-end component)\n-   </td>\n-   <td>Collects and stores study activity responses for downstream analysis (no PII)\n-   </td>\n-  </tr>\n-  <tr>\n-   <td>Study Datastore\n-   </td>\n-   <td>(back-end component)\n-   </td>\n-   <td>Manages study configurations (e.g. questionnaire content and schedule)\n-   </td>\n-  </tr>\n-  <tr>\n-   <td>Participant Datastore\n-   </td>\n-   <td>(back-end component)\n-   </td>\n-   <td>Manages participant information and any PII (e.g. contact information, consent forms)\n-   </td>\n-  </tr>\n-  <tr>\n-   <td>Auth Server\n-   </td>\n-   <td>(back-end component)\n-   </td>\n-   <td>Manages account creation, login, logout, resource requests, etc.\n-   </td>\n-  </tr>\n-</table>\n-\n-<!-- ![Platform Illustration](documentation/images/platform_illustration.png \"Platform Illustration\") -->\n-\n-## Use-cases\n-\n-FDA MyStudies is a flexible framework that enables diverse use-cases across a range of organizations and industries.\n-\n-Examples for how FDA MyStudies can be used include: \n-\n-<table>\n-  <tr>\n-   <td><strong>Sample industries</strong>\n-   </td>\n-   <td>\n-    <strong>Example use-cases</strong>\n-   </td>\n-  </tr>\n-  <tr>\n-   <td>Pharma and medtech\n-   </td>\n-   <td><ul>\n-\n-<li>Replace paper forms and binders of PRO questionnaires for clinical trial participants\n-<li>Complement in-person / traditional studies with digital surveys and other instruments\n-<li>Conduct virtual studies with massive reach and high patient engagement\n-<li>Collect valuable data on real-world impact with \u2018beyond-the-pill\u2019 companion apps\n-<li>Operate HEOR and post-market surveillance studies\n-<li>Monitor patient satisfaction and adverse events</li></ul>\n-\n-   </td>\n-  </tr>\n-  <tr>\n-   <td>Payers, providers and public health\n-   </td>\n-   <td><ul>\n-\n-<li>Develop new digital instruments\n-<li>Conduct large research studies quickly and efficiently\n-<li>Establish long-term patient registries\n-<li>Assess the efficacy of care management methodologies\n-<li>Measure prevalence and impact of infectious disease at scale\n-<li>Monitor efficacy of health care systems or specific initiatives</li></ul>\n-\n-   </td>\n-  </tr>\n-  <tr>\n-   <td>Cross-industry\n-   </td>\n-   <td><ul>\n-\n-<li>Measure customer satisfaction\n-<li>Evaluate employee / student behavior health and wellbeing</li></ul>\n-\n-   </td>\n-  </tr>\n-</table>\n-\n-## Repo organization\n-\n-This repository contains all code required to setup and run FDA MyStudies. This includes backend services, mobile applications, deployment tools and the necessary documentation. \n-\n-There are high-level directories for quick-start guides (`/documentation`) and deployment related files in `/deployment`. \n-\n-The remaining high-level directories are each dedicated to an application component (for example `/Android` and `/iOS` contain code for the mobile applications, while `/auth-server-ws` contains code for the Auth server).\n-\n-Each high-level directory contains a readme, build / deployment instructions, dockerfile, cloudbuild config and deployment configuration files (as needed).\n+The FDA\u2019s MyStudies platform enables organizations to quickly build and deploy studies that interact with participants through purpose-built apps on iOS and Android. MyStudies apps can be distributed to participants privately or made available through the App Store and Google Play.\n+\n+This open-source repository contains the code necessary to run a complete FDA MyStudies instance, inclusive of all web and mobile applications.\n+\n+Open-source [deployment tools](deployment) are included for semi-automated deployment to Google Cloud Platform (GCP). These tools can be used to deploy the FDA MyStudies platform in just a few hours. These tools follow compliance guidelines to simplify the end-to-end compliance journey. Deployment to other platforms and on-premise systems can be performed manually.\n+\n+![Platform Illustration](documentation/images/platform_illustration.png \"Platform Illustration\")\n+\n+## Documentation and guides\n+\n+Information related to the deployment and operation of FDA Mystudies can be found within each directory\u2019s `README`, and also in the following guides:\n+\n+* [High-level platform and repo overview](README.md) (this document)<!--TODO * [Feature and functionality demonstrations](documentation/demo.md)-->\n+* [Detailed platform architecture](documentation/architecture.md)\n+* [Instructions for semi-automated deployment](deployment/README.md)\n+<!-- TODO\n+* Quick-start guide for manual deployment(documentation/manual-quickstart.md\n+* User guides study builder, participant manager and mobile applications(documentation/user-guides.md)\n+* API reference(documentation/api-reference.md)\n+-->\n+\n+For the complete list of FDA MyStudies documentation, visit [`documentation/README.md`](/documentation/README.md). \n+\n+## Platform components and repo organization\n+\n+Component | Intended users | Purpose | Directories\n+----------------|----------------------|------------|----------------\n+Study builder | Researchers and clinicians | No-code user interface for authoring studies ([demo screens](documentation/images/study-builder-screens.png)) | [`study-builder/`](study-builder/)<br/>[`study-datastore/`](study-datastore/)\n+Participant manager | Study coordinators | No-code user interface to manage participant enrollment ([demo screens](documentation/images/participant-manager-screens.png)) | [`participant-manager/`](participant-manager/)<br/>[`participant-manager-datastore/`](participant-manager-datastore/)\n+Mobile applications | Study participants | Apps to discover, enroll and participate in studies ([demo screens](documentation/images/mobile-screens.png)) | [`iOS/`](iOS/)<br/>[`Android/`](Android/)\n+Response datastore | Researchers and analysts | Collects and stores participant response data for downstream analysis | [`response-datastore/`](response-datastore/)\n+Participant datastore | Platform component | Manages participant data such as contact information and consent forms | [`participant-datastore/`](participant-datastore/)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzE3MzEyMw=="}, "originalCommit": {"oid": "e8885d58d90d38ef5bff40ec58742abed9249c17"}, "originalPosition": 184}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM3MTc1NzMxOnYy", "diffSide": "RIGHT", "path": "auth-server/README.md", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QwMTozMTo0OVrOIASh7g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QxMzozNzozN1rOIAnGMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzE3NDUxMA==", "bodyText": "do we need this as part of each readme?\nI think we should remove the step, since it may defer based on usecase. e.g. personal access token step is only needed for accounts with 2F authentication. Github provides more comprehensive and up to date instructions that we should encourage users to use instead.", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/2264#discussion_r537174510", "createdAt": "2020-12-07T01:31:49Z", "author": {"login": "zohrehj"}, "path": "auth-server/README.md", "diffHunk": "@@ -0,0 +1,43 @@\n+<!--\n+ Copyright 2020 Google LLC\n+ Use of this source code is governed by an MIT-style\n+ license that can be found in the LICENSE file or at\n+ https://opensource.org/licenses/MIT.\n+-->\n+\n+# Overview\n+The **FDA MyStudies** [`Auth server`](../auth-server/) is the centralized authentication mechanism for the various client applications of the MyStudies platform.\n+ \n+The client applications are:\n+1. [`Android mobile application`](../Android/)\n+1. [`iOS mobile application`](../iOS/)\n+1. [`Participant manager`](../participant-manager/)\n+ \n+The `Auth server`provides the following functionality:\n+1. User registration\n+1. User credentials management\n+1. User authentication\n+1. User logout\n+1. Server-to-server authentication support\n+ \n+The `Auth server` identity management application is built as a Spring Boot application that implements user login and consent flows. It integrates with your deployment\u2019s instance of [ORY Hydra](https://www.ory.sh/hydra/) for token generation and management.\n+ \n+# Deployment\n+> **_NOTE:_** Holistic deployment of the **FDA MyStudies** platform with Terraform and infrastructure-as-code is the recommended approach to deploying this component. A step-by-step guide to semi-automated deployment can be found in the [`deployment/`](/deployment) directory. The following instructions are provided in case manual deployment in a VM is required. Google Cloud infrastructure is indicated, but equivalent alternative infrastructure can be used as well. It is important for the deploying organization to consider the identity and access control choices made when configuring the selected services. If pursuing a manual deployment, a convenient sequence is [`hydra/`](/hydra)&rarr;[`auth-server/`](/auth-server/)&rarr;[`participant-datastore/`](/participant-datastore/)&rarr;[`participant-manager-datastore/`](/participant-manager-datastore/)&rarr;[`participant-manager/`](/participant-manager/)&rarr;[`study-datastore/`](/study-datastore/)&rarr;[`response-datastore/`](/response-datastore/)&rarr;[`study-builder/`](/study-builder/)&rarr;[`Android/`](/Android/)&rarr;[`iOS/`](/iOS/).\n+ \n+To deploy the [`Auth server`](/auth-server/) manually:\n+1. [Create](https://cloud.google.com/compute/docs/instances/create-start-instance) a Compute Engine VM instance and [reserve a static IP](https://cloud.google.com/compute/docs/ip-addresses/reserve-static-internal-ip-address)\n+1. Check out the latest code from the [FDA MyStudies repository](https://github.com/GoogleCloudPlatform/fda-mystudies/) with `git clone https://github.com/GoogleCloudPlatform/fda-mystudies.git` and your [personal access token](https://docs.github.com/en/free-pro-team@latest/github/authenticating-to-github/creating-a-personal-access-token) as password (you may need to install git, for example `sudo apt install git`)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e8885d58d90d38ef5bff40ec58742abed9249c17"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzUxMTQ3NQ==", "bodyText": "Ok will remove throughout", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/2264#discussion_r537511475", "createdAt": "2020-12-07T13:37:37Z", "author": {"login": "jkrogers18"}, "path": "auth-server/README.md", "diffHunk": "@@ -0,0 +1,43 @@\n+<!--\n+ Copyright 2020 Google LLC\n+ Use of this source code is governed by an MIT-style\n+ license that can be found in the LICENSE file or at\n+ https://opensource.org/licenses/MIT.\n+-->\n+\n+# Overview\n+The **FDA MyStudies** [`Auth server`](../auth-server/) is the centralized authentication mechanism for the various client applications of the MyStudies platform.\n+ \n+The client applications are:\n+1. [`Android mobile application`](../Android/)\n+1. [`iOS mobile application`](../iOS/)\n+1. [`Participant manager`](../participant-manager/)\n+ \n+The `Auth server`provides the following functionality:\n+1. User registration\n+1. User credentials management\n+1. User authentication\n+1. User logout\n+1. Server-to-server authentication support\n+ \n+The `Auth server` identity management application is built as a Spring Boot application that implements user login and consent flows. It integrates with your deployment\u2019s instance of [ORY Hydra](https://www.ory.sh/hydra/) for token generation and management.\n+ \n+# Deployment\n+> **_NOTE:_** Holistic deployment of the **FDA MyStudies** platform with Terraform and infrastructure-as-code is the recommended approach to deploying this component. A step-by-step guide to semi-automated deployment can be found in the [`deployment/`](/deployment) directory. The following instructions are provided in case manual deployment in a VM is required. Google Cloud infrastructure is indicated, but equivalent alternative infrastructure can be used as well. It is important for the deploying organization to consider the identity and access control choices made when configuring the selected services. If pursuing a manual deployment, a convenient sequence is [`hydra/`](/hydra)&rarr;[`auth-server/`](/auth-server/)&rarr;[`participant-datastore/`](/participant-datastore/)&rarr;[`participant-manager-datastore/`](/participant-manager-datastore/)&rarr;[`participant-manager/`](/participant-manager/)&rarr;[`study-datastore/`](/study-datastore/)&rarr;[`response-datastore/`](/response-datastore/)&rarr;[`study-builder/`](/study-builder/)&rarr;[`Android/`](/Android/)&rarr;[`iOS/`](/iOS/).\n+ \n+To deploy the [`Auth server`](/auth-server/) manually:\n+1. [Create](https://cloud.google.com/compute/docs/instances/create-start-instance) a Compute Engine VM instance and [reserve a static IP](https://cloud.google.com/compute/docs/ip-addresses/reserve-static-internal-ip-address)\n+1. Check out the latest code from the [FDA MyStudies repository](https://github.com/GoogleCloudPlatform/fda-mystudies/) with `git clone https://github.com/GoogleCloudPlatform/fda-mystudies.git` and your [personal access token](https://docs.github.com/en/free-pro-team@latest/github/authenticating-to-github/creating-a-personal-access-token) as password (you may need to install git, for example `sudo apt install git`)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzE3NDUxMA=="}, "originalCommit": {"oid": "e8885d58d90d38ef5bff40ec58742abed9249c17"}, "originalPosition": 30}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM3MTc2NzkyOnYy", "diffSide": "RIGHT", "path": "common-modules/README.md", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QwMTozNzowMlrOIASnMA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QxMzo0NjoxNlrOIAnc3Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzE3NTg1Ng==", "bodyText": "[Jib](https://github.com/GoogleContainerTools/jib)", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/2264#discussion_r537175856", "createdAt": "2020-12-07T01:37:02Z", "author": {"login": "zohrehj"}, "path": "common-modules/README.md", "diffHunk": "@@ -0,0 +1,8 @@\n+<!--\n+ Copyright 2020 Google LLC\n+ Use of this source code is governed by an MIT-style\n+ license that can be found in the LICENSE file or at\n+ https://opensource.org/licenses/MIT.\n+-->\n+\n+The `Common modules` directory includes common code and tests shared by all Spring boot applications. When deploying the **FDA MyStudies** platform, Jib will detect and fetch the content of `common-module/` from `pom.xml` to create the final service container.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e8885d58d90d38ef5bff40ec58742abed9249c17"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzUxNzI3Nw==", "bodyText": "done", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/2264#discussion_r537517277", "createdAt": "2020-12-07T13:46:16Z", "author": {"login": "jkrogers18"}, "path": "common-modules/README.md", "diffHunk": "@@ -0,0 +1,8 @@\n+<!--\n+ Copyright 2020 Google LLC\n+ Use of this source code is governed by an MIT-style\n+ license that can be found in the LICENSE file or at\n+ https://opensource.org/licenses/MIT.\n+-->\n+\n+The `Common modules` directory includes common code and tests shared by all Spring boot applications. When deploying the **FDA MyStudies** platform, Jib will detect and fetch the content of `common-module/` from `pom.xml` to create the final service container.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzE3NTg1Ng=="}, "originalCommit": {"oid": "e8885d58d90d38ef5bff40ec58742abed9249c17"}, "originalPosition": 8}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM3MTc4NzcwOnYy", "diffSide": "RIGHT", "path": "documentation/whats-new.md", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QwMTo0NzoyM1rOIASxPw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QxMzo0ODowOVrOIAnhqg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzE3ODQzMQ==", "bodyText": "I would reword or remove this line. This is only added as part of deployment.", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/2264#discussion_r537178431", "createdAt": "2020-12-07T01:47:23Z", "author": {"login": "zohrehj"}, "path": "documentation/whats-new.md", "diffHunk": "@@ -0,0 +1,73 @@\n+<!--\n+ Copyright 2020 Google LLC\n+ Use of this source code is governed by an MIT-style\n+ license that can be found in the LICENSE file or at\n+ https://opensource.org/licenses/MIT.\n+-->\n+\n+## What\u2019s changed?\n+The overall goals, compliance principles and functionality of this FDA MyStudies release are similar to previous releases. Notable changes from version [`2019.10`](https://github.com/PopMedNet-Team/FDA-My-Studies-Mobile-Application-System/tree/2019.10) of FDA MyStudies include:\n+\n+## Functionality\n+*   Removed dependencies on the LabKey framework  \n+*   Added the [`Response datastore`](/response-datastore/) as a platform-agnostic service to handle study response storage and access\n+*   Added the [`Participant manager`](/participant-manager/) graphical user interface and [`Participant datastore`](/participant-datastore/) backend to manage participant enrollment\n+*   Added support for [OAuth 2.0](https://oauth.net/2/) and [OIDC](https://openid.net/connect/)\n+*   Added [templates](/deployment/) for semi-automated deployment\n+*   Added support for infrastructure-as-code and CICD\n+*   Upgraded the [`Android`](/Android/) application for compatibility with Android 10\n+*   Improved exception handling\n+*   Improved request and data validation\n+*   Introduced unit tests and test frameworks to the codebase\n+\n+## Architecture\n+*   Migrated to a modular [container-based](/deployment/kubernetes/) architecture\n+*   Refactored and extended `mobileAppStudy-ResponseServer` to [`Response datastore`](/response-datastore/)\n+*   Refactored `UserReg-WS` to [`Participant datastore`](/participant-datastore/)\n+*   Refactored `WCP-WS` and `Resources-WCP` to [`Study datastore`](/study-datastore/)\n+*   Reduced code duplication by extracting [`Common modules`](/common-modules) that are used by all new services\n+*   Migrated restrictive open-source dependencies to alternatives with permissive licenses \n+*   Removed dependencies that require commercial licenses\n+*   Simplified mobile application calls and moved some functionality server-side to reduce dependencies between services\n+*   Adjusted data storage based on usage and security requirements (for example, study and participant status storage and calls were moved to[ `Response datastore`](/response-datastore/); enrollment generation logic was moved to [`Participant datastore`](/participant-datastore/))\n+    \n+## Security\n+* Replaced hard-coded credentials with scripts that inject initial users into each component\n+* Added HTTPs across the codebase", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e8885d58d90d38ef5bff40ec58742abed9249c17"}, "originalPosition": 36}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzUxODUwNg==", "bodyText": "done", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/2264#discussion_r537518506", "createdAt": "2020-12-07T13:48:09Z", "author": {"login": "jkrogers18"}, "path": "documentation/whats-new.md", "diffHunk": "@@ -0,0 +1,73 @@\n+<!--\n+ Copyright 2020 Google LLC\n+ Use of this source code is governed by an MIT-style\n+ license that can be found in the LICENSE file or at\n+ https://opensource.org/licenses/MIT.\n+-->\n+\n+## What\u2019s changed?\n+The overall goals, compliance principles and functionality of this FDA MyStudies release are similar to previous releases. Notable changes from version [`2019.10`](https://github.com/PopMedNet-Team/FDA-My-Studies-Mobile-Application-System/tree/2019.10) of FDA MyStudies include:\n+\n+## Functionality\n+*   Removed dependencies on the LabKey framework  \n+*   Added the [`Response datastore`](/response-datastore/) as a platform-agnostic service to handle study response storage and access\n+*   Added the [`Participant manager`](/participant-manager/) graphical user interface and [`Participant datastore`](/participant-datastore/) backend to manage participant enrollment\n+*   Added support for [OAuth 2.0](https://oauth.net/2/) and [OIDC](https://openid.net/connect/)\n+*   Added [templates](/deployment/) for semi-automated deployment\n+*   Added support for infrastructure-as-code and CICD\n+*   Upgraded the [`Android`](/Android/) application for compatibility with Android 10\n+*   Improved exception handling\n+*   Improved request and data validation\n+*   Introduced unit tests and test frameworks to the codebase\n+\n+## Architecture\n+*   Migrated to a modular [container-based](/deployment/kubernetes/) architecture\n+*   Refactored and extended `mobileAppStudy-ResponseServer` to [`Response datastore`](/response-datastore/)\n+*   Refactored `UserReg-WS` to [`Participant datastore`](/participant-datastore/)\n+*   Refactored `WCP-WS` and `Resources-WCP` to [`Study datastore`](/study-datastore/)\n+*   Reduced code duplication by extracting [`Common modules`](/common-modules) that are used by all new services\n+*   Migrated restrictive open-source dependencies to alternatives with permissive licenses \n+*   Removed dependencies that require commercial licenses\n+*   Simplified mobile application calls and moved some functionality server-side to reduce dependencies between services\n+*   Adjusted data storage based on usage and security requirements (for example, study and participant status storage and calls were moved to[ `Response datastore`](/response-datastore/); enrollment generation logic was moved to [`Participant datastore`](/participant-datastore/))\n+    \n+## Security\n+* Replaced hard-coded credentials with scripts that inject initial users into each component\n+* Added HTTPs across the codebase", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzE3ODQzMQ=="}, "originalCommit": {"oid": "e8885d58d90d38ef5bff40ec58742abed9249c17"}, "originalPosition": 36}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM3MTc5NDU0OnYy", "diffSide": "RIGHT", "path": "hydra/README.md", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QwMTo1MTowMlrOIAS0sg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QxMzo1Mjo1N1rOIAnuzg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzE3OTMxNA==", "bodyText": "same as other components.", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/2264#discussion_r537179314", "createdAt": "2020-12-07T01:51:02Z", "author": {"login": "zohrehj"}, "path": "hydra/README.md", "diffHunk": "@@ -0,0 +1,77 @@\n+<!--\n+ Copyright 2020 Google LLC\n+ Use of this source code is governed by an MIT-style\n+ license that can be found in the LICENSE file or at\n+ https://opensource.org/licenses/MIT.\n+-->\n+ \n+# Overview\n+**FDA MyStudies** uses [ORY Hydra](https://www.ory.sh/hydra/) as an [OAuth 2.0](https://oauth.net/2/) and [OpenID Connect](https://openid.net/connect/) (OIDC) *Certified&copy;* technology to facilitate secure token generation and management, and to support integration with diverse identity providers. The FDA MyStudies platform uses a [SCIM](https://en.wikipedia.org/wiki/System_for_Cross-domain_Identity_Management) [`Auth server`](../auth-server) to implement email and password login using the Hydra APIs. If desired, code modifications will enable a deploying organization to supplement or replace the `Auth server` with an OIDC-compliant identity provider of choice.\n+ \n+The [`Hydra server`](../hydra/) provides the following functionality:\n+1. Client credentials management (`client_id` and `client_secret`)\n+1. Client credentials validation\n+1. Token generation and management\n+1. Token introspection\n+1. OAuth 2.0 flows\n+ \n+The [`/hydra/Dockerfile`](./Dockerfile) builds a [Hydra v1.7.4 container](https://github.com/ory/hydra/releases/tag/v1.7.4), then starts Hydra using [`entrypoint.bash`](./entrypoint.bash). This entrypoint script sets all necessary environment variables and executes [`migrate`](https://www.ory.sh/hydra/docs/cli/hydra-migrate-sql/) to update the schema of the backend database. \n+ \n+# Deployment\n+> **_NOTE:_** Holistic deployment of the **FDA MyStudies** platform with Terraform and infrastructure-as-code is the recommended approach to deploying this component. A step-by-step guide to semi-automated deployment can be found in the [`deployment/`](/deployment) directory. The following instructions are provided in case manual deployment in a VM is required. Google Cloud infrastructure is indicated, but equivalent alternative infrastructure can be used as well. It is important for the deploying organization to consider the identity and access control choices made when configuring the selected services. If pursuing a manual deployment, a convenient sequence is [`hydra/`](/hydra)&rarr;[`auth-server/`](/auth-server/)&rarr;[`participant-datastore/`](/participant-datastore/)&rarr;[`participant-manager-datastore/`](/participant-manager-datastore/)&rarr;[`participant-manager/`](/participant-manager/)&rarr;[`study-datastore/`](/study-datastore/)&rarr;[`response-datastore/`](/response-datastore/)&rarr;[`study-builder/`](/study-builder/)&rarr;[`Android/`](/Android/)&rarr;[`iOS/`](/iOS/).\n+ \n+To deploy [`Hydra`](/hydra) manually:\n+1. [Create](https://cloud.google.com/compute/docs/instances/create-start-instance) a Compute Engine VM instance and [reserve a static IP](https://cloud.google.com/compute/docs/ip-addresses/reserve-static-internal-ip-address)\n+1. Check out the latest code from the [FDA MyStudies repository](https://github.com/GoogleCloudPlatform/fda-mystudies/) with `git clone https://github.com/GoogleCloudPlatform/fda-mystudies.git` and your [personal access token](https://docs.github.com/en/free-pro-team@latest/github/authenticating-to-github/creating-a-personal-access-token) as password (you may need to install git, for example `sudo apt install git`)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e8885d58d90d38ef5bff40ec58742abed9249c17"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzUyMTg3MA==", "bodyText": "done", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/2264#discussion_r537521870", "createdAt": "2020-12-07T13:52:57Z", "author": {"login": "jkrogers18"}, "path": "hydra/README.md", "diffHunk": "@@ -0,0 +1,77 @@\n+<!--\n+ Copyright 2020 Google LLC\n+ Use of this source code is governed by an MIT-style\n+ license that can be found in the LICENSE file or at\n+ https://opensource.org/licenses/MIT.\n+-->\n+ \n+# Overview\n+**FDA MyStudies** uses [ORY Hydra](https://www.ory.sh/hydra/) as an [OAuth 2.0](https://oauth.net/2/) and [OpenID Connect](https://openid.net/connect/) (OIDC) *Certified&copy;* technology to facilitate secure token generation and management, and to support integration with diverse identity providers. The FDA MyStudies platform uses a [SCIM](https://en.wikipedia.org/wiki/System_for_Cross-domain_Identity_Management) [`Auth server`](../auth-server) to implement email and password login using the Hydra APIs. If desired, code modifications will enable a deploying organization to supplement or replace the `Auth server` with an OIDC-compliant identity provider of choice.\n+ \n+The [`Hydra server`](../hydra/) provides the following functionality:\n+1. Client credentials management (`client_id` and `client_secret`)\n+1. Client credentials validation\n+1. Token generation and management\n+1. Token introspection\n+1. OAuth 2.0 flows\n+ \n+The [`/hydra/Dockerfile`](./Dockerfile) builds a [Hydra v1.7.4 container](https://github.com/ory/hydra/releases/tag/v1.7.4), then starts Hydra using [`entrypoint.bash`](./entrypoint.bash). This entrypoint script sets all necessary environment variables and executes [`migrate`](https://www.ory.sh/hydra/docs/cli/hydra-migrate-sql/) to update the schema of the backend database. \n+ \n+# Deployment\n+> **_NOTE:_** Holistic deployment of the **FDA MyStudies** platform with Terraform and infrastructure-as-code is the recommended approach to deploying this component. A step-by-step guide to semi-automated deployment can be found in the [`deployment/`](/deployment) directory. The following instructions are provided in case manual deployment in a VM is required. Google Cloud infrastructure is indicated, but equivalent alternative infrastructure can be used as well. It is important for the deploying organization to consider the identity and access control choices made when configuring the selected services. If pursuing a manual deployment, a convenient sequence is [`hydra/`](/hydra)&rarr;[`auth-server/`](/auth-server/)&rarr;[`participant-datastore/`](/participant-datastore/)&rarr;[`participant-manager-datastore/`](/participant-manager-datastore/)&rarr;[`participant-manager/`](/participant-manager/)&rarr;[`study-datastore/`](/study-datastore/)&rarr;[`response-datastore/`](/response-datastore/)&rarr;[`study-builder/`](/study-builder/)&rarr;[`Android/`](/Android/)&rarr;[`iOS/`](/iOS/).\n+ \n+To deploy [`Hydra`](/hydra) manually:\n+1. [Create](https://cloud.google.com/compute/docs/instances/create-start-instance) a Compute Engine VM instance and [reserve a static IP](https://cloud.google.com/compute/docs/ip-addresses/reserve-static-internal-ip-address)\n+1. Check out the latest code from the [FDA MyStudies repository](https://github.com/GoogleCloudPlatform/fda-mystudies/) with `git clone https://github.com/GoogleCloudPlatform/fda-mystudies.git` and your [personal access token](https://docs.github.com/en/free-pro-team@latest/github/authenticating-to-github/creating-a-personal-access-token) as password (you may need to install git, for example `sudo apt install git`)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzE3OTMxNA=="}, "originalCommit": {"oid": "e8885d58d90d38ef5bff40ec58742abed9249c17"}, "originalPosition": 25}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM3MTc5Nzc2OnYy", "diffSide": "RIGHT", "path": "hydra/README.md", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QwMTo1MjoyNVrOIAS2RQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QxMzo0OToxNFrOIAnkcQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzE3OTcxNw==", "bodyText": "Maven is not needed for Hydra.", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/2264#discussion_r537179717", "createdAt": "2020-12-07T01:52:25Z", "author": {"login": "zohrehj"}, "path": "hydra/README.md", "diffHunk": "@@ -0,0 +1,77 @@\n+<!--\n+ Copyright 2020 Google LLC\n+ Use of this source code is governed by an MIT-style\n+ license that can be found in the LICENSE file or at\n+ https://opensource.org/licenses/MIT.\n+-->\n+ \n+# Overview\n+**FDA MyStudies** uses [ORY Hydra](https://www.ory.sh/hydra/) as an [OAuth 2.0](https://oauth.net/2/) and [OpenID Connect](https://openid.net/connect/) (OIDC) *Certified&copy;* technology to facilitate secure token generation and management, and to support integration with diverse identity providers. The FDA MyStudies platform uses a [SCIM](https://en.wikipedia.org/wiki/System_for_Cross-domain_Identity_Management) [`Auth server`](../auth-server) to implement email and password login using the Hydra APIs. If desired, code modifications will enable a deploying organization to supplement or replace the `Auth server` with an OIDC-compliant identity provider of choice.\n+ \n+The [`Hydra server`](../hydra/) provides the following functionality:\n+1. Client credentials management (`client_id` and `client_secret`)\n+1. Client credentials validation\n+1. Token generation and management\n+1. Token introspection\n+1. OAuth 2.0 flows\n+ \n+The [`/hydra/Dockerfile`](./Dockerfile) builds a [Hydra v1.7.4 container](https://github.com/ory/hydra/releases/tag/v1.7.4), then starts Hydra using [`entrypoint.bash`](./entrypoint.bash). This entrypoint script sets all necessary environment variables and executes [`migrate`](https://www.ory.sh/hydra/docs/cli/hydra-migrate-sql/) to update the schema of the backend database. \n+ \n+# Deployment\n+> **_NOTE:_** Holistic deployment of the **FDA MyStudies** platform with Terraform and infrastructure-as-code is the recommended approach to deploying this component. A step-by-step guide to semi-automated deployment can be found in the [`deployment/`](/deployment) directory. The following instructions are provided in case manual deployment in a VM is required. Google Cloud infrastructure is indicated, but equivalent alternative infrastructure can be used as well. It is important for the deploying organization to consider the identity and access control choices made when configuring the selected services. If pursuing a manual deployment, a convenient sequence is [`hydra/`](/hydra)&rarr;[`auth-server/`](/auth-server/)&rarr;[`participant-datastore/`](/participant-datastore/)&rarr;[`participant-manager-datastore/`](/participant-manager-datastore/)&rarr;[`participant-manager/`](/participant-manager/)&rarr;[`study-datastore/`](/study-datastore/)&rarr;[`response-datastore/`](/response-datastore/)&rarr;[`study-builder/`](/study-builder/)&rarr;[`Android/`](/Android/)&rarr;[`iOS/`](/iOS/).\n+ \n+To deploy [`Hydra`](/hydra) manually:\n+1. [Create](https://cloud.google.com/compute/docs/instances/create-start-instance) a Compute Engine VM instance and [reserve a static IP](https://cloud.google.com/compute/docs/ip-addresses/reserve-static-internal-ip-address)\n+1. Check out the latest code from the [FDA MyStudies repository](https://github.com/GoogleCloudPlatform/fda-mystudies/) with `git clone https://github.com/GoogleCloudPlatform/fda-mystudies.git` and your [personal access token](https://docs.github.com/en/free-pro-team@latest/github/authenticating-to-github/creating-a-personal-access-token) as password (you may need to install git, for example `sudo apt install git`)\n+1. Create a Cloud SQL instance with MySQL v5.7 ([instructions](https://cloud.google.com/sql/docs/mysql/create-instance))\n+1. Configure the `Hydra` database on the Cloud SQL instance\n+    -    Create a user account that the `Hydra` application will use to access this instance ([instructions](https://cloud.google.com/sql/docs/mysql/create-manage-users))\n+    -    Create a database named `hydra` with the [`create_hydra_db_script.sql`](sqlscript/create_hydra_db_script.sql) script ([instructions](https://cloud.google.com/sql/docs/mysql/import-export/importing#importing_a_sql_dump_file))\n+    -   Enable the database\u2019s private IP connectivity in the same network as your VM ([instructions](https://cloud.google.com/sql/docs/mysql/configure-private-ip))\n+1. Generate an RSA private key of size 2048 and output it to a file named `key.pem` using `openssl genrsa -out ${HOME}/key.pem`\n+1. Generate a self-signed certificate from the private key with a validity of 365 days using `openssl req -new -x509 -sha256 -key ${HOME}/key.pem -out ${HOME}/hydra.crt -days 365`\n+1. Set a [system secret](https://www.ory.sh/hydra/docs/configure-deploy/#deploy-ory-hydra) using `export SYSTEM_SECRET=$(export LC_CTYPE=C; cat /dev/urandom | tr -dc 'a-zA-Z0-9' | fold -w 32 | head -n 1)` (this secret is used to encrypt a fresh database and needs to be set to the same value every time)\n+1. Deploy the [Hydra v1.7.4 container](https://github.com/ory/hydra/releases/tag/v1.7.4) to the VM\n+    -    Create the Docker image using `sudo docker build -t hydra-image .` from the `hydra/` directory (you may need to [install Docker](https://docs.docker.com/engine/install/debian/) and Maven, for example `sudo apt install maven`)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e8885d58d90d38ef5bff40ec58742abed9249c17"}, "originalPosition": 35}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzUxOTIxNw==", "bodyText": "done", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/2264#discussion_r537519217", "createdAt": "2020-12-07T13:49:14Z", "author": {"login": "jkrogers18"}, "path": "hydra/README.md", "diffHunk": "@@ -0,0 +1,77 @@\n+<!--\n+ Copyright 2020 Google LLC\n+ Use of this source code is governed by an MIT-style\n+ license that can be found in the LICENSE file or at\n+ https://opensource.org/licenses/MIT.\n+-->\n+ \n+# Overview\n+**FDA MyStudies** uses [ORY Hydra](https://www.ory.sh/hydra/) as an [OAuth 2.0](https://oauth.net/2/) and [OpenID Connect](https://openid.net/connect/) (OIDC) *Certified&copy;* technology to facilitate secure token generation and management, and to support integration with diverse identity providers. The FDA MyStudies platform uses a [SCIM](https://en.wikipedia.org/wiki/System_for_Cross-domain_Identity_Management) [`Auth server`](../auth-server) to implement email and password login using the Hydra APIs. If desired, code modifications will enable a deploying organization to supplement or replace the `Auth server` with an OIDC-compliant identity provider of choice.\n+ \n+The [`Hydra server`](../hydra/) provides the following functionality:\n+1. Client credentials management (`client_id` and `client_secret`)\n+1. Client credentials validation\n+1. Token generation and management\n+1. Token introspection\n+1. OAuth 2.0 flows\n+ \n+The [`/hydra/Dockerfile`](./Dockerfile) builds a [Hydra v1.7.4 container](https://github.com/ory/hydra/releases/tag/v1.7.4), then starts Hydra using [`entrypoint.bash`](./entrypoint.bash). This entrypoint script sets all necessary environment variables and executes [`migrate`](https://www.ory.sh/hydra/docs/cli/hydra-migrate-sql/) to update the schema of the backend database. \n+ \n+# Deployment\n+> **_NOTE:_** Holistic deployment of the **FDA MyStudies** platform with Terraform and infrastructure-as-code is the recommended approach to deploying this component. A step-by-step guide to semi-automated deployment can be found in the [`deployment/`](/deployment) directory. The following instructions are provided in case manual deployment in a VM is required. Google Cloud infrastructure is indicated, but equivalent alternative infrastructure can be used as well. It is important for the deploying organization to consider the identity and access control choices made when configuring the selected services. If pursuing a manual deployment, a convenient sequence is [`hydra/`](/hydra)&rarr;[`auth-server/`](/auth-server/)&rarr;[`participant-datastore/`](/participant-datastore/)&rarr;[`participant-manager-datastore/`](/participant-manager-datastore/)&rarr;[`participant-manager/`](/participant-manager/)&rarr;[`study-datastore/`](/study-datastore/)&rarr;[`response-datastore/`](/response-datastore/)&rarr;[`study-builder/`](/study-builder/)&rarr;[`Android/`](/Android/)&rarr;[`iOS/`](/iOS/).\n+ \n+To deploy [`Hydra`](/hydra) manually:\n+1. [Create](https://cloud.google.com/compute/docs/instances/create-start-instance) a Compute Engine VM instance and [reserve a static IP](https://cloud.google.com/compute/docs/ip-addresses/reserve-static-internal-ip-address)\n+1. Check out the latest code from the [FDA MyStudies repository](https://github.com/GoogleCloudPlatform/fda-mystudies/) with `git clone https://github.com/GoogleCloudPlatform/fda-mystudies.git` and your [personal access token](https://docs.github.com/en/free-pro-team@latest/github/authenticating-to-github/creating-a-personal-access-token) as password (you may need to install git, for example `sudo apt install git`)\n+1. Create a Cloud SQL instance with MySQL v5.7 ([instructions](https://cloud.google.com/sql/docs/mysql/create-instance))\n+1. Configure the `Hydra` database on the Cloud SQL instance\n+    -    Create a user account that the `Hydra` application will use to access this instance ([instructions](https://cloud.google.com/sql/docs/mysql/create-manage-users))\n+    -    Create a database named `hydra` with the [`create_hydra_db_script.sql`](sqlscript/create_hydra_db_script.sql) script ([instructions](https://cloud.google.com/sql/docs/mysql/import-export/importing#importing_a_sql_dump_file))\n+    -   Enable the database\u2019s private IP connectivity in the same network as your VM ([instructions](https://cloud.google.com/sql/docs/mysql/configure-private-ip))\n+1. Generate an RSA private key of size 2048 and output it to a file named `key.pem` using `openssl genrsa -out ${HOME}/key.pem`\n+1. Generate a self-signed certificate from the private key with a validity of 365 days using `openssl req -new -x509 -sha256 -key ${HOME}/key.pem -out ${HOME}/hydra.crt -days 365`\n+1. Set a [system secret](https://www.ory.sh/hydra/docs/configure-deploy/#deploy-ory-hydra) using `export SYSTEM_SECRET=$(export LC_CTYPE=C; cat /dev/urandom | tr -dc 'a-zA-Z0-9' | fold -w 32 | head -n 1)` (this secret is used to encrypt a fresh database and needs to be set to the same value every time)\n+1. Deploy the [Hydra v1.7.4 container](https://github.com/ory/hydra/releases/tag/v1.7.4) to the VM\n+    -    Create the Docker image using `sudo docker build -t hydra-image .` from the `hydra/` directory (you may need to [install Docker](https://docs.docker.com/engine/install/debian/) and Maven, for example `sudo apt install maven`)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzE3OTcxNw=="}, "originalCommit": {"oid": "e8885d58d90d38ef5bff40ec58742abed9249c17"}, "originalPosition": 35}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM3MTgxMDI0OnYy", "diffSide": "RIGHT", "path": "participant-datastore/README.md", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QwMTo1ODozN1rOIAS8Wg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QxMzo1MToyOFrOIAnqmw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzE4MTI3NA==", "bodyText": "output file will be named pm-superadmin.sql to differentiate it from the study builder's output.", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/2264#discussion_r537181274", "createdAt": "2020-12-07T01:58:37Z", "author": {"login": "zohrehj"}, "path": "participant-datastore/README.md", "diffHunk": "@@ -1,2 +1,58 @@\n-# FDA MyStudies Participant datastore\n-Particpant datastore is the back-end component that stores and manages study participants and partipation data.\n\\ No newline at end of file\n+<!--\n+ Copyright 2020 Google LLC\n+ Use of this source code is governed by an MIT-style\n+ license that can be found in the LICENSE file or at\n+ https://opensource.org/licenses/MIT.\n+-->\n+ \n+# Overview\n+The **FDA MyStudies** [`Participant datastore`](/participant-datastore/) is a set of three modules that provide APIs to store and manage participant registration, enrollment and consent. The [`Android`](/Android) and [`iOS`](/iOS) mobile applications interact with the `Participant datastore` to store and retrieve profile information specific to participants, and to establish enrollment and consent. The [`Response datastore`](/response-datastore/) interacts with the `Participant datastore` to determine enrollment state of participants. Pseudonymized study response data is stored in the `Response datastore` without participant identifiers (for example, answers to survey questions and activity data). Identifiable participant data is stored in the `Participant datastore` without study response data (for example, consent forms and participant contact information). This separation is designed to allow the deploying organization to configure distinct access control for each class of data. The `Participant datastore` uses basic authentication `client_id` and `client_secret` that are provided to client applications and managed by [`Hydra`](/hydra/).\n+\n+The Participant datastore is composed of three applications that share a common database:\n+\n+Module | Purpose | Client applications | Directory\n+---------------------|-----------------------------------------|-------------------|------------\n+`User module` | Maintains participant state and information | [`Study builder`](/study-builder/)<br/>[`Study datastore`](/study-datastore/)<br/>[`iOS application`](/iOS/)<br/>[`Android application`](/Android) | [/participant-datastore/user-mgmt-module/](/participant-datastore/user-mgmt-module/)\n+`Enrollment module` | Maintains participant enrollment status  | [`Response datastore`](/response-datastore/)<br/>[`iOS application`](/iOS/)<br/>[`Android application`](/Android) | [/participant-datastore/enroll-mgmt-module/](/participant-datastore/enroll-mgmt-module/)\n+`Consent module` | Maintains participant consent version status and provides access to generated consent documents | [`Participant manager`](/participant-manager/)<br/>[`iOS application`](/iOS/)<br/>[`Android application`](/Android) | [/participant-datastore/consent-mgmt-module/](/participant-datastore/consent-mgmt-module/)\n+ \n+# Deployment\n+> **_NOTE:_** Holistic deployment of the **FDA MyStudies** platform with Terraform and infrastructure-as-code is the recommended approach to deploying this component. A step-by-step guide to semi-automated deployment can be found in the [`deployment/`](/deployment) directory. The following instructions are provided in case manual deployment in a VM is required. Google Cloud infrastructure is indicated, but equivalent alternative infrastructure can be used as well. It is important for the deploying organization to consider the identity and access control choices made when configuring the selected services. If pursuing a manual deployment, a convenient sequence is [`hydra/`](/hydra)&rarr;[`auth-server/`](/auth-server/)&rarr;[`participant-datastore/`](/participant-datastore/)&rarr;[`participant-manager-datastore/`](/participant-manager-datastore/)&rarr;[`participant-manager/`](/participant-manager/)&rarr;[`study-datastore/`](/study-datastore/)&rarr;[`response-datastore/`](/response-datastore/)&rarr;[`study-builder/`](/study-builder/)&rarr;[`Android/`](/Android/)&rarr;[`iOS/`](/iOS/).\n+ \n+To deploy the [`Participant datastore`](/participant-datastore/) manually:\n+1. [Create](https://cloud.google.com/compute/docs/instances/create-start-instance) a Compute Engine VM instance and [reserve a static IP](https://cloud.google.com/compute/docs/ip-addresses/reserve-static-internal-ip-address)\n+1. Check out the latest code from the [FDA MyStudies repository](https://github.com/GoogleCloudPlatform/fda-mystudies/) with `git clone https://github.com/GoogleCloudPlatform/fda-mystudies.git` and your [personal access token](https://docs.github.com/en/free-pro-team@latest/github/authenticating-to-github/creating-a-personal-access-token) as password (you may need to install git, for example `sudo apt install git`)\n+1. Create a Cloud SQL instance with MySQL v5.7 ([instructions](https://cloud.google.com/sql/docs/mysql/create-instance)) \n+1. Configure the `Participant datastore` database on the Cloud SQL instance\n+    -    Create a user account that the `User module`, `Enrollment module` and `Consent module` will use to access this instance ([instructions](https://cloud.google.com/sql/docs/mysql/create-manage-users))\n+    -   Run `sudo ./create_superadmin.sh <email> <password>` in the `sqlscript/` directory to create `sb-superadmin.sql`, which you will use to create the first admin user for `Participant manager`", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e8885d58d90d38ef5bff40ec58742abed9249c17"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzUyMDc5NQ==", "bodyText": "done", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/2264#discussion_r537520795", "createdAt": "2020-12-07T13:51:28Z", "author": {"login": "jkrogers18"}, "path": "participant-datastore/README.md", "diffHunk": "@@ -1,2 +1,58 @@\n-# FDA MyStudies Participant datastore\n-Particpant datastore is the back-end component that stores and manages study participants and partipation data.\n\\ No newline at end of file\n+<!--\n+ Copyright 2020 Google LLC\n+ Use of this source code is governed by an MIT-style\n+ license that can be found in the LICENSE file or at\n+ https://opensource.org/licenses/MIT.\n+-->\n+ \n+# Overview\n+The **FDA MyStudies** [`Participant datastore`](/participant-datastore/) is a set of three modules that provide APIs to store and manage participant registration, enrollment and consent. The [`Android`](/Android) and [`iOS`](/iOS) mobile applications interact with the `Participant datastore` to store and retrieve profile information specific to participants, and to establish enrollment and consent. The [`Response datastore`](/response-datastore/) interacts with the `Participant datastore` to determine enrollment state of participants. Pseudonymized study response data is stored in the `Response datastore` without participant identifiers (for example, answers to survey questions and activity data). Identifiable participant data is stored in the `Participant datastore` without study response data (for example, consent forms and participant contact information). This separation is designed to allow the deploying organization to configure distinct access control for each class of data. The `Participant datastore` uses basic authentication `client_id` and `client_secret` that are provided to client applications and managed by [`Hydra`](/hydra/).\n+\n+The Participant datastore is composed of three applications that share a common database:\n+\n+Module | Purpose | Client applications | Directory\n+---------------------|-----------------------------------------|-------------------|------------\n+`User module` | Maintains participant state and information | [`Study builder`](/study-builder/)<br/>[`Study datastore`](/study-datastore/)<br/>[`iOS application`](/iOS/)<br/>[`Android application`](/Android) | [/participant-datastore/user-mgmt-module/](/participant-datastore/user-mgmt-module/)\n+`Enrollment module` | Maintains participant enrollment status  | [`Response datastore`](/response-datastore/)<br/>[`iOS application`](/iOS/)<br/>[`Android application`](/Android) | [/participant-datastore/enroll-mgmt-module/](/participant-datastore/enroll-mgmt-module/)\n+`Consent module` | Maintains participant consent version status and provides access to generated consent documents | [`Participant manager`](/participant-manager/)<br/>[`iOS application`](/iOS/)<br/>[`Android application`](/Android) | [/participant-datastore/consent-mgmt-module/](/participant-datastore/consent-mgmt-module/)\n+ \n+# Deployment\n+> **_NOTE:_** Holistic deployment of the **FDA MyStudies** platform with Terraform and infrastructure-as-code is the recommended approach to deploying this component. A step-by-step guide to semi-automated deployment can be found in the [`deployment/`](/deployment) directory. The following instructions are provided in case manual deployment in a VM is required. Google Cloud infrastructure is indicated, but equivalent alternative infrastructure can be used as well. It is important for the deploying organization to consider the identity and access control choices made when configuring the selected services. If pursuing a manual deployment, a convenient sequence is [`hydra/`](/hydra)&rarr;[`auth-server/`](/auth-server/)&rarr;[`participant-datastore/`](/participant-datastore/)&rarr;[`participant-manager-datastore/`](/participant-manager-datastore/)&rarr;[`participant-manager/`](/participant-manager/)&rarr;[`study-datastore/`](/study-datastore/)&rarr;[`response-datastore/`](/response-datastore/)&rarr;[`study-builder/`](/study-builder/)&rarr;[`Android/`](/Android/)&rarr;[`iOS/`](/iOS/).\n+ \n+To deploy the [`Participant datastore`](/participant-datastore/) manually:\n+1. [Create](https://cloud.google.com/compute/docs/instances/create-start-instance) a Compute Engine VM instance and [reserve a static IP](https://cloud.google.com/compute/docs/ip-addresses/reserve-static-internal-ip-address)\n+1. Check out the latest code from the [FDA MyStudies repository](https://github.com/GoogleCloudPlatform/fda-mystudies/) with `git clone https://github.com/GoogleCloudPlatform/fda-mystudies.git` and your [personal access token](https://docs.github.com/en/free-pro-team@latest/github/authenticating-to-github/creating-a-personal-access-token) as password (you may need to install git, for example `sudo apt install git`)\n+1. Create a Cloud SQL instance with MySQL v5.7 ([instructions](https://cloud.google.com/sql/docs/mysql/create-instance)) \n+1. Configure the `Participant datastore` database on the Cloud SQL instance\n+    -    Create a user account that the `User module`, `Enrollment module` and `Consent module` will use to access this instance ([instructions](https://cloud.google.com/sql/docs/mysql/create-manage-users))\n+    -   Run `sudo ./create_superadmin.sh <email> <password>` in the `sqlscript/` directory to create `sb-superadmin.sql`, which you will use to create the first admin user for `Participant manager`", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzE4MTI3NA=="}, "originalCommit": {"oid": "e8885d58d90d38ef5bff40ec58742abed9249c17"}, "originalPosition": 31}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM3MTgxMTk0OnYy", "diffSide": "RIGHT", "path": "participant-datastore/README.md", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QwMTo1OToyOFrOIAS9SA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QxMzo1MTozNVrOIAnq_w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzE4MTUxMg==", "bodyText": "pm-superadmin.sql", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/2264#discussion_r537181512", "createdAt": "2020-12-07T01:59:28Z", "author": {"login": "zohrehj"}, "path": "participant-datastore/README.md", "diffHunk": "@@ -1,2 +1,58 @@\n-# FDA MyStudies Participant datastore\n-Particpant datastore is the back-end component that stores and manages study participants and partipation data.\n\\ No newline at end of file\n+<!--\n+ Copyright 2020 Google LLC\n+ Use of this source code is governed by an MIT-style\n+ license that can be found in the LICENSE file or at\n+ https://opensource.org/licenses/MIT.\n+-->\n+ \n+# Overview\n+The **FDA MyStudies** [`Participant datastore`](/participant-datastore/) is a set of three modules that provide APIs to store and manage participant registration, enrollment and consent. The [`Android`](/Android) and [`iOS`](/iOS) mobile applications interact with the `Participant datastore` to store and retrieve profile information specific to participants, and to establish enrollment and consent. The [`Response datastore`](/response-datastore/) interacts with the `Participant datastore` to determine enrollment state of participants. Pseudonymized study response data is stored in the `Response datastore` without participant identifiers (for example, answers to survey questions and activity data). Identifiable participant data is stored in the `Participant datastore` without study response data (for example, consent forms and participant contact information). This separation is designed to allow the deploying organization to configure distinct access control for each class of data. The `Participant datastore` uses basic authentication `client_id` and `client_secret` that are provided to client applications and managed by [`Hydra`](/hydra/).\n+\n+The Participant datastore is composed of three applications that share a common database:\n+\n+Module | Purpose | Client applications | Directory\n+---------------------|-----------------------------------------|-------------------|------------\n+`User module` | Maintains participant state and information | [`Study builder`](/study-builder/)<br/>[`Study datastore`](/study-datastore/)<br/>[`iOS application`](/iOS/)<br/>[`Android application`](/Android) | [/participant-datastore/user-mgmt-module/](/participant-datastore/user-mgmt-module/)\n+`Enrollment module` | Maintains participant enrollment status  | [`Response datastore`](/response-datastore/)<br/>[`iOS application`](/iOS/)<br/>[`Android application`](/Android) | [/participant-datastore/enroll-mgmt-module/](/participant-datastore/enroll-mgmt-module/)\n+`Consent module` | Maintains participant consent version status and provides access to generated consent documents | [`Participant manager`](/participant-manager/)<br/>[`iOS application`](/iOS/)<br/>[`Android application`](/Android) | [/participant-datastore/consent-mgmt-module/](/participant-datastore/consent-mgmt-module/)\n+ \n+# Deployment\n+> **_NOTE:_** Holistic deployment of the **FDA MyStudies** platform with Terraform and infrastructure-as-code is the recommended approach to deploying this component. A step-by-step guide to semi-automated deployment can be found in the [`deployment/`](/deployment) directory. The following instructions are provided in case manual deployment in a VM is required. Google Cloud infrastructure is indicated, but equivalent alternative infrastructure can be used as well. It is important for the deploying organization to consider the identity and access control choices made when configuring the selected services. If pursuing a manual deployment, a convenient sequence is [`hydra/`](/hydra)&rarr;[`auth-server/`](/auth-server/)&rarr;[`participant-datastore/`](/participant-datastore/)&rarr;[`participant-manager-datastore/`](/participant-manager-datastore/)&rarr;[`participant-manager/`](/participant-manager/)&rarr;[`study-datastore/`](/study-datastore/)&rarr;[`response-datastore/`](/response-datastore/)&rarr;[`study-builder/`](/study-builder/)&rarr;[`Android/`](/Android/)&rarr;[`iOS/`](/iOS/).\n+ \n+To deploy the [`Participant datastore`](/participant-datastore/) manually:\n+1. [Create](https://cloud.google.com/compute/docs/instances/create-start-instance) a Compute Engine VM instance and [reserve a static IP](https://cloud.google.com/compute/docs/ip-addresses/reserve-static-internal-ip-address)\n+1. Check out the latest code from the [FDA MyStudies repository](https://github.com/GoogleCloudPlatform/fda-mystudies/) with `git clone https://github.com/GoogleCloudPlatform/fda-mystudies.git` and your [personal access token](https://docs.github.com/en/free-pro-team@latest/github/authenticating-to-github/creating-a-personal-access-token) as password (you may need to install git, for example `sudo apt install git`)\n+1. Create a Cloud SQL instance with MySQL v5.7 ([instructions](https://cloud.google.com/sql/docs/mysql/create-instance)) \n+1. Configure the `Participant datastore` database on the Cloud SQL instance\n+    -    Create a user account that the `User module`, `Enrollment module` and `Consent module` will use to access this instance ([instructions](https://cloud.google.com/sql/docs/mysql/create-manage-users))\n+    -   Run `sudo ./create_superadmin.sh <email> <password>` in the `sqlscript/` directory to create `sb-superadmin.sql`, which you will use to create the first admin user for `Participant manager`\n+(you may need to install [htpasswd](https://httpd.apache.org/docs/2.4/programs/htpasswd.html), for example `sudo apt-get install apache2-utils`)\n+    -    Run the [`mystudies_participant_datastore_db_script.sql`](sqlscript/mystudies_participant_datastore_db_script.sql) script to create a database named `mystudies_participant_datastore` ([instructions](https://cloud.google.com/sql/docs/mysql/import-export/importing#importing_a_sql_dump_file)) \n+    -    Run the `sb-superadmin.sql` script that you created in the step above", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e8885d58d90d38ef5bff40ec58742abed9249c17"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzUyMDg5NQ==", "bodyText": "done", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/2264#discussion_r537520895", "createdAt": "2020-12-07T13:51:35Z", "author": {"login": "jkrogers18"}, "path": "participant-datastore/README.md", "diffHunk": "@@ -1,2 +1,58 @@\n-# FDA MyStudies Participant datastore\n-Particpant datastore is the back-end component that stores and manages study participants and partipation data.\n\\ No newline at end of file\n+<!--\n+ Copyright 2020 Google LLC\n+ Use of this source code is governed by an MIT-style\n+ license that can be found in the LICENSE file or at\n+ https://opensource.org/licenses/MIT.\n+-->\n+ \n+# Overview\n+The **FDA MyStudies** [`Participant datastore`](/participant-datastore/) is a set of three modules that provide APIs to store and manage participant registration, enrollment and consent. The [`Android`](/Android) and [`iOS`](/iOS) mobile applications interact with the `Participant datastore` to store and retrieve profile information specific to participants, and to establish enrollment and consent. The [`Response datastore`](/response-datastore/) interacts with the `Participant datastore` to determine enrollment state of participants. Pseudonymized study response data is stored in the `Response datastore` without participant identifiers (for example, answers to survey questions and activity data). Identifiable participant data is stored in the `Participant datastore` without study response data (for example, consent forms and participant contact information). This separation is designed to allow the deploying organization to configure distinct access control for each class of data. The `Participant datastore` uses basic authentication `client_id` and `client_secret` that are provided to client applications and managed by [`Hydra`](/hydra/).\n+\n+The Participant datastore is composed of three applications that share a common database:\n+\n+Module | Purpose | Client applications | Directory\n+---------------------|-----------------------------------------|-------------------|------------\n+`User module` | Maintains participant state and information | [`Study builder`](/study-builder/)<br/>[`Study datastore`](/study-datastore/)<br/>[`iOS application`](/iOS/)<br/>[`Android application`](/Android) | [/participant-datastore/user-mgmt-module/](/participant-datastore/user-mgmt-module/)\n+`Enrollment module` | Maintains participant enrollment status  | [`Response datastore`](/response-datastore/)<br/>[`iOS application`](/iOS/)<br/>[`Android application`](/Android) | [/participant-datastore/enroll-mgmt-module/](/participant-datastore/enroll-mgmt-module/)\n+`Consent module` | Maintains participant consent version status and provides access to generated consent documents | [`Participant manager`](/participant-manager/)<br/>[`iOS application`](/iOS/)<br/>[`Android application`](/Android) | [/participant-datastore/consent-mgmt-module/](/participant-datastore/consent-mgmt-module/)\n+ \n+# Deployment\n+> **_NOTE:_** Holistic deployment of the **FDA MyStudies** platform with Terraform and infrastructure-as-code is the recommended approach to deploying this component. A step-by-step guide to semi-automated deployment can be found in the [`deployment/`](/deployment) directory. The following instructions are provided in case manual deployment in a VM is required. Google Cloud infrastructure is indicated, but equivalent alternative infrastructure can be used as well. It is important for the deploying organization to consider the identity and access control choices made when configuring the selected services. If pursuing a manual deployment, a convenient sequence is [`hydra/`](/hydra)&rarr;[`auth-server/`](/auth-server/)&rarr;[`participant-datastore/`](/participant-datastore/)&rarr;[`participant-manager-datastore/`](/participant-manager-datastore/)&rarr;[`participant-manager/`](/participant-manager/)&rarr;[`study-datastore/`](/study-datastore/)&rarr;[`response-datastore/`](/response-datastore/)&rarr;[`study-builder/`](/study-builder/)&rarr;[`Android/`](/Android/)&rarr;[`iOS/`](/iOS/).\n+ \n+To deploy the [`Participant datastore`](/participant-datastore/) manually:\n+1. [Create](https://cloud.google.com/compute/docs/instances/create-start-instance) a Compute Engine VM instance and [reserve a static IP](https://cloud.google.com/compute/docs/ip-addresses/reserve-static-internal-ip-address)\n+1. Check out the latest code from the [FDA MyStudies repository](https://github.com/GoogleCloudPlatform/fda-mystudies/) with `git clone https://github.com/GoogleCloudPlatform/fda-mystudies.git` and your [personal access token](https://docs.github.com/en/free-pro-team@latest/github/authenticating-to-github/creating-a-personal-access-token) as password (you may need to install git, for example `sudo apt install git`)\n+1. Create a Cloud SQL instance with MySQL v5.7 ([instructions](https://cloud.google.com/sql/docs/mysql/create-instance)) \n+1. Configure the `Participant datastore` database on the Cloud SQL instance\n+    -    Create a user account that the `User module`, `Enrollment module` and `Consent module` will use to access this instance ([instructions](https://cloud.google.com/sql/docs/mysql/create-manage-users))\n+    -   Run `sudo ./create_superadmin.sh <email> <password>` in the `sqlscript/` directory to create `sb-superadmin.sql`, which you will use to create the first admin user for `Participant manager`\n+(you may need to install [htpasswd](https://httpd.apache.org/docs/2.4/programs/htpasswd.html), for example `sudo apt-get install apache2-utils`)\n+    -    Run the [`mystudies_participant_datastore_db_script.sql`](sqlscript/mystudies_participant_datastore_db_script.sql) script to create a database named `mystudies_participant_datastore` ([instructions](https://cloud.google.com/sql/docs/mysql/import-export/importing#importing_a_sql_dump_file)) \n+    -    Run the `sb-superadmin.sql` script that you created in the step above", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzE4MTUxMg=="}, "originalCommit": {"oid": "e8885d58d90d38ef5bff40ec58742abed9249c17"}, "originalPosition": 34}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1513, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}