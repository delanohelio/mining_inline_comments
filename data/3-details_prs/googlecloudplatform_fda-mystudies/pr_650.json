{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDUyNDc3ODU2", "number": 650, "title": "OAuth Scim Service - Removed OrgId and /v1 from endpoints", "bodyText": "Removed OrgId\nRemoved /v1 from endpoints\nAdded forgot password, signup, error redirect URL's to properties and to the model object in LoginController\nand fixed test failures\n\nNote: ConsentController and ConsentControllerTest removed from this branch to reduce the PR size. I'll add them in next PR.", "createdAt": "2020-07-19T10:16:00Z", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/650", "merged": true, "mergeCommit": {"oid": "1101de8039c6f84afac352032e9cf3cd3a7d2391"}, "closed": true, "closedAt": "2020-08-14T13:45:55Z", "author": {"login": "dhanyak-btc"}, "timelineItems": {"totalCount": 21, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc2Z61egH2gAyNDUyNDc3ODU2OjMzZDk5MjA4ZTllNzk3Y2E4NDRkZGU1MzVkODljNTg3YTRhZThjNTI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc-03VAgFqTQ2NzU4NjEwNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "33d99208e9e797ca844dde535d89c587a4ae8c52", "author": {"user": {"login": "dhanyak-btc", "name": "Dhanya Kumar KV"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/33d99208e9e797ca844dde535d89c587a4ae8c52", "committedDate": "2020-07-19T09:49:53Z", "message": "/consent endpoint implementation with integration tests\n\n1. /consent endpoint implementation with integration tests\n2. Removed /v1 from endpoints\n3. Removed orgId"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6cc1a931a4bb49432f3659dfd0d01687ae2ec368", "author": {"user": {"login": "dhanyak-btc", "name": "Dhanya Kumar KV"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/6cc1a931a4bb49432f3659dfd0d01687ae2ec368", "committedDate": "2020-07-19T10:03:38Z", "message": "Added singup and forgot password links to model\n\nAdded singup and forgot password links to model"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6e34b5d6d187702024324b94f38d7c8e77a1da83", "author": {"user": {"login": "dhanyak-btc", "name": "Dhanya Kumar KV"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/6e34b5d6d187702024324b94f38d7c8e77a1da83", "committedDate": "2020-07-19T10:08:50Z", "message": "Removed ConsentController & ConsentControllerTest to reduce PR size\n\nRemoved ConsentController & ConsentControllerTest to reduce PR size"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU1MDA1NDk0", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/650#pullrequestreview-455005494", "createdAt": "2020-07-24T16:01:07Z", "commit": {"oid": "6e34b5d6d187702024324b94f38d7c8e77a1da83"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNFQxNjowMTowN1rOG21AuQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNFQxNjowMTo0OFrOG21CcQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDE0NDgyNQ==", "bodyText": "these two files, seem to be out of the scope of this PR.", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/650#discussion_r460144825", "createdAt": "2020-07-24T16:01:07Z", "author": {"login": "zohrehj"}, "path": "common-modules/common-tests/src/main/resources/__files/hydra/auth_requests_consent_response.json", "diffHunk": "@@ -0,0 +1,57 @@\n+{\n+  \"challenge\": \"c11e62a0-5555-4b0e-b498-c878f5e4bd85\",\n+  \"requested_scope\": [\n+    \"offline_access\"\n+  ],", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6e34b5d6d187702024324b94f38d7c8e77a1da83"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDE0NTExNQ==", "bodyText": "out of scope of this PR", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/650#discussion_r460145115", "createdAt": "2020-07-24T16:01:35Z", "author": {"login": "zohrehj"}, "path": "oauth-scim-module/oauth-scim-service/src/main/java/com/google/cloud/healthcare/fdamystudies/oauthscim/common/AuthScimConstants.java", "diffHunk": "@@ -86,4 +84,10 @@ private AuthScimConstants() {}\n   public static final String OTP_USED = \"otp_used\";\n \n   public static final String ACCOUNT_LOCK_EMAIL_TIMESTAMP = \"account_lock_email_timestamp\";\n+\n+  public static final String CONSENT_CHALLENGE = \"consent_challenge\";\n+\n+  public static final String FORGOT_PASSWORD_LINK = \"forgot_password_link\";\n+\n+  public static final String SIGNUP_LINK = \"signup_link\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6e34b5d6d187702024324b94f38d7c8e77a1da83"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDE0NTI2NQ==", "bodyText": "out of scope", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/650#discussion_r460145265", "createdAt": "2020-07-24T16:01:48Z", "author": {"login": "zohrehj"}, "path": "oauth-scim-module/oauth-scim-service/src/main/java/com/google/cloud/healthcare/fdamystudies/oauthscim/config/RedirectConfig.java", "diffHunk": "@@ -32,6 +32,33 @@\n   @Value(\"${mystudies.android.app.callback-url}\")\n   private String myStudiesAndroidAppCallbackUrl;\n \n+  @Value(\"${participant.manager.forgot-password-url}\")\n+  private String participantManagerForgotPasswordUrl;\n+\n+  @Value(\"${mystudies.ios.app.forgot-password-url}\")\n+  private String myStudiesIosAppForgotPasswordUrl;\n+\n+  @Value(\"${mystudies.android.app.forgot-password-url}\")\n+  private String myStudiesAndroidAppForgotPasswordUrl;\n+\n+  @Value(\"${mystudies.ios.app.signup-url}\")\n+  private String myStudiesIosAppSignupUrl;\n+\n+  @Value(\"${mystudies.android.app.signup-url}\")\n+  private String myStudiesAndroidAppSignupUrl;\n+\n+  @Value(\"${participant.manager.signup-url}\")\n+  private String participantManagerSignupUrl;\n+\n+  @Value(\"${mystudies.ios.app.error-url}\")\n+  private String myStudiesIosAppErrorUrl;\n+\n+  @Value(\"${mystudies.android.app.error-url}\")\n+  private String myStudiesAndroidAppErrorUrl;\n+\n+  @Value(\"${participant.manager.error-url}\")\n+  private String participantManagerErrorUrl;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6e34b5d6d187702024324b94f38d7c8e77a1da83"}, "originalPosition": 29}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fd987a41b5430f79f3777a10e4dd5e6619dedfb1", "author": {"user": {"login": "dhanyak-btc", "name": "Dhanya Kumar KV"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/fd987a41b5430f79f3777a10e4dd5e6619dedfb1", "committedDate": "2020-07-28T06:05:48Z", "message": "Removed consent related JSON files and fixed issue due to DigestUtils.sha3_512Hex\n\nRemoved consent related JSON files and fixed issue due to DigestUtils.sha3_512Hex"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU2Nzk2MzM5", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/650#pullrequestreview-456796339", "createdAt": "2020-07-28T16:16:10Z", "commit": {"oid": "fd987a41b5430f79f3777a10e4dd5e6619dedfb1"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQxNjoxNjoxMFrOG4USAQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQxNjoyOTowN1rOG4Uzlg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTcwNTcyOQ==", "bodyText": "why not just check for error status code?", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/650#discussion_r461705729", "createdAt": "2020-07-28T16:16:10Z", "author": {"login": "zohrehj"}, "path": "oauth-scim-module/oauth-scim-service/src/test/java/com/google/cloud/healthcare/fdamystudies/oauthscim/controller/LoginControllerTest.java", "diffHunk": "@@ -78,31 +79,32 @@\n   public void shouldReturnLoginPage() throws Exception {\n     MultiValueMap<String, String> queryParams = new LinkedMultiValueMap<>();\n     queryParams.add(LOGIN_CHALLENGE, LOGIN_CHALLENGE_VALUE);\n-\n+    String forgotPasswordRedirectUrl =\n+        redirectConfig.getForgotPasswordUrl(DevicePlatform.UNKNOWN.getValue());\n+    String signupRedirectUrl = redirectConfig.getSignupUrl(DevicePlatform.UNKNOWN.getValue());\n     mockMvc\n         .perform(\n             get(ApiEndpoint.LOGIN_PAGE.getPath())\n                 .contextPath(getContextPath())\n                 .queryParams(queryParams))\n         .andDo(print())\n         .andExpect(status().isOk())\n+        .andExpect(model().attribute(FORGOT_PASSWORD_LINK, forgotPasswordRedirectUrl))\n+        .andExpect(model().attribute(SIGNUP_LINK, signupRedirectUrl))\n         .andExpect(content().string(containsString(\"<title>Login</title>\")))\n         .andReturn();\n   }\n \n   @Test\n   public void shouldReturnErrorPage() throws Exception {\n     MultiValueMap<String, String> queryParams = new LinkedMultiValueMap<>();\n-\n     mockMvc\n         .perform(\n             get(ApiEndpoint.LOGIN_PAGE.getPath())\n                 .contextPath(getContextPath())\n                 .queryParams(queryParams))\n         .andDo(print())\n-        .andExpect(status().isOk())\n-        .andExpect(content().string(containsString(\"<title>Error</title>\")))\n-        .andReturn();\n+        .andExpect(view().name(\"http://localhost:8003/participant-manager/error\"));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fd987a41b5430f79f3777a10e4dd5e6619dedfb1"}, "originalPosition": 66}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTcwNjE2Ng==", "bodyText": "participant manager URLs are out of scope of this PR", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/650#discussion_r461706166", "createdAt": "2020-07-28T16:16:52Z", "author": {"login": "zohrehj"}, "path": "oauth-scim-module/oauth-scim-service/src/main/resources/application-local.properties", "diffHunk": "@@ -60,9 +62,21 @@ spring.mail.properties.mail.smtp.starttls.enable=true\n spring.mail.properties.mail.smtp.ssl.enable = true\n \n # audit log endpoints\n-auditlog.events_endpoint=http://localhost:8001/audit-log-service/v1/events\n+auditlog.events_endpoint=http://localhost:8001/audit-log-service/events\n \n # Redirect URL's\n participant.manager.callback-url=http://localhost:8003/participant-manager/callback\n-mystudies.ios.app.callback-url=\n-mystudies.android.app.callback-url=\n\\ No newline at end of file\n+mystudies.ios.app.callback-url=http://localhost:8005/ios/deeplinks/callback\n+mystudies.android.app.callback-url=http://localhost:8006/android/deeplinks/callback\n+\n+participant.manager.forgot-password-url=http://localhost:8003/participant-manager/forgot-password", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fd987a41b5430f79f3777a10e4dd5e6619dedfb1"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTcwNjY0NQ==", "bodyText": "nit: this is out of scope, and I have seen it in your other auth PR. Is there an issue with the base of this PR?", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/650#discussion_r461706645", "createdAt": "2020-07-28T16:17:37Z", "author": {"login": "zohrehj"}, "path": "common-modules/common-service/src/main/java/com/google/cloud/healthcare/fdamystudies/common/EncryptionUtils.java", "diffHunk": "@@ -21,7 +21,7 @@\n   private EncryptionUtils() {}\n \n   public static String salt() {\n-    return DigestUtils.sha3_512Hex(IdGenerator.id());\n+    return DigestUtils.sha512Hex(IdGenerator.id());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fd987a41b5430f79f3777a10e4dd5e6619dedfb1"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTcwNzYzMg==", "bodyText": "I don't see why these should be included here. Please keep all participantManager related changes together. It is very hard. to review unrelated changes out of their context.", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/650#discussion_r461707632", "createdAt": "2020-07-28T16:19:06Z", "author": {"login": "zohrehj"}, "path": "oauth-scim-module/oauth-scim-service/src/main/java/com/google/cloud/healthcare/fdamystudies/oauthscim/config/RedirectConfig.java", "diffHunk": "@@ -32,6 +32,33 @@\n   @Value(\"${mystudies.android.app.callback-url}\")\n   private String myStudiesAndroidAppCallbackUrl;\n \n+  @Value(\"${participant.manager.forgot-password-url}\")\n+  private String participantManagerForgotPasswordUrl;\n+\n+  @Value(\"${mystudies.ios.app.forgot-password-url}\")\n+  private String myStudiesIosAppForgotPasswordUrl;\n+\n+  @Value(\"${mystudies.android.app.forgot-password-url}\")\n+  private String myStudiesAndroidAppForgotPasswordUrl;\n+\n+  @Value(\"${mystudies.ios.app.signup-url}\")\n+  private String myStudiesIosAppSignupUrl;\n+\n+  @Value(\"${mystudies.android.app.signup-url}\")\n+  private String myStudiesAndroidAppSignupUrl;\n+\n+  @Value(\"${participant.manager.signup-url}\")\n+  private String participantManagerSignupUrl;\n+\n+  @Value(\"${mystudies.ios.app.error-url}\")\n+  private String myStudiesIosAppErrorUrl;\n+\n+  @Value(\"${mystudies.android.app.error-url}\")\n+  private String myStudiesAndroidAppErrorUrl;\n+\n+  @Value(\"${participant.manager.error-url}\")\n+  private String participantManagerErrorUrl;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDE0NTI2NQ=="}, "originalCommit": {"oid": "6e34b5d6d187702024324b94f38d7c8e77a1da83"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTcwODYzMQ==", "bodyText": "\ud83d\udc4d on the thorough comment here", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/650#discussion_r461708631", "createdAt": "2020-07-28T16:20:36Z", "author": {"login": "zohrehj"}, "path": "oauth-scim-module/oauth-scim-service/src/main/java/com/google/cloud/healthcare/fdamystudies/oauthscim/controller/LoginController.java", "diffHunk": "@@ -74,6 +73,16 @@\n \n   @Autowired private AppPropertyConfig appConfig;\n \n+  /**", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fd987a41b5430f79f3777a10e4dd5e6619dedfb1"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTcxMjkwOA==", "bodyText": "I am not clear as to why you are returning the redirect URL with redirect: prefix.\nWhy is that? and where is it handled?", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/650#discussion_r461712908", "createdAt": "2020-07-28T16:26:56Z", "author": {"login": "zohrehj"}, "path": "oauth-scim-module/oauth-scim-service/src/main/java/com/google/cloud/healthcare/fdamystudies/oauthscim/controller/LoginController.java", "diffHunk": "@@ -240,6 +262,14 @@ private String redirect(HttpServletResponse response, String redirectUrl) {\n     return \"redirect:\" + redirectUrl;\n   }\n \n+  private String redirectToError(HttpServletRequest request, HttpServletResponse response) {\n+    String devicePlatform = WebUtils.getCookie(request, DEVICE_PLATFORM).getValue();\n+    String redirectUrl = redirectConfig.getErrorUrl(devicePlatform);\n+    response.setHeader(\"Location\", redirectUrl);\n+    response.setStatus(HttpStatus.FOUND.value());\n+    return \"redirect:\" + redirectUrl;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fd987a41b5430f79f3777a10e4dd5e6619dedfb1"}, "originalPosition": 173}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTcxMzU0OA==", "bodyText": "out of scope of this PR.", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/650#discussion_r461713548", "createdAt": "2020-07-28T16:27:57Z", "author": {"login": "zohrehj"}, "path": "oauth-scim-module/oauth-scim-service/src/main/java/com/google/cloud/healthcare/fdamystudies/oauthscim/service/HydraOAuthServiceImpl.java", "diffHunk": "@@ -143,4 +161,63 @@ public void init() {\n \n     return response;\n   }\n+\n+  @Override\n+  public ResponseEntity<JsonNode> requestConsent(MultiValueMap<String, String> paramMap) {\n+    HttpHeaders headers = new HttpHeaders();\n+    headers.add(CONTENT_TYPE, APPLICATION_X_WWW_FORM_URLENCODED_CHARSET_UTF_8);\n+    headers.setAccept(Collections.singletonList(MediaType.APPLICATION_JSON));\n+\n+    StringBuilder url = new StringBuilder(consentEndpoint);\n+    url.append(\"?consent_challenge=\").append(paramMap.getFirst(CONSENT_CHALLENGE));\n+\n+    return getRestTemplate().getForEntity(url.toString(), JsonNode.class);\n+  }\n+\n+  @Override\n+  public ResponseEntity<JsonNode> consentAccept(MultiValueMap<String, String> paramMap) {\n+\n+    ArrayNode scopes = createArrayNode();\n+    scopes.add(\"offline_access\");\n+    scopes.add(\"offline\");\n+    scopes.add(\"openid\");\n+\n+    ObjectNode accessTokenNode = getObjectNode();\n+    accessTokenNode.put(\"val\", IdGenerator.id());\n+\n+    ObjectNode idTokenNode = getObjectNode();\n+    idTokenNode.put(\"val\", IdGenerator.id());\n+\n+    ObjectNode session = getObjectNode();\n+    session.set(\"access_token\", accessTokenNode);\n+    session.set(\"id_token\", idTokenNode);\n+\n+    ObjectNode request = getObjectNode();\n+    request.set(\"grant_scope\", scopes);\n+    request.put(\"remember\", remember);\n+    request.set(\"session\", session);\n+\n+    HttpHeaders headers = new HttpHeaders();\n+    headers.setContentType(MediaType.APPLICATION_JSON);\n+    headers.setAccept(Collections.singletonList(MediaType.APPLICATION_JSON));\n+\n+    StringBuilder url = new StringBuilder(consentAcceptEndpoint);\n+    url.append(\"?\")\n+        .append(CONSENT_CHALLENGE)\n+        .append(\"=\")\n+        .append(paramMap.getFirst(CONSENT_CHALLENGE));\n+\n+    HttpEntity<Object> requestEntity = new HttpEntity<>(request, headers);\n+    ResponseEntity<JsonNode> response =\n+        getRestTemplate().exchange(url.toString(), HttpMethod.PUT, requestEntity, JsonNode.class);\n+\n+    if (!response.getStatusCode().is2xxSuccessful()) {\n+      logger.error(\n+          String.format(\n+              \"consent accept failed with status %d and response=%s\",\n+              response.getStatusCodeValue(), response.getBody()));\n+    }\n+\n+    return response;\n+  }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fd987a41b5430f79f3777a10e4dd5e6619dedfb1"}, "originalPosition": 127}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTcxNDMyNg==", "bodyText": "Not sure how these are related to the orgID and version removal and needed to be included here.\nIf they can be removed, please move them into a separate PR.", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/650#discussion_r461714326", "createdAt": "2020-07-28T16:29:07Z", "author": {"login": "zohrehj"}, "path": "oauth-scim-module/oauth-scim-service/src/main/java/com/google/cloud/healthcare/fdamystudies/oauthscim/service/OAuthService.java", "diffHunk": "@@ -27,4 +27,8 @@\n   public ResponseEntity<JsonNode> requestLogin(MultiValueMap<String, String> paramMap);\n \n   public ResponseEntity<JsonNode> loginAccept(String email, String loginChallenge);\n+\n+  public ResponseEntity<JsonNode> requestConsent(MultiValueMap<String, String> paramMap);\n+\n+  public ResponseEntity<JsonNode> consentAccept(MultiValueMap<String, String> paramMap);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fd987a41b5430f79f3777a10e4dd5e6619dedfb1"}, "originalPosition": 7}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "70ae96f33a8bb944215f6035a445291370bea859", "author": {"user": {"login": "dhanyak-btc", "name": "Dhanya Kumar KV"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/70ae96f33a8bb944215f6035a445291370bea859", "committedDate": "2020-08-05T07:30:55Z", "message": "Removed @TestMethodOrder(OrderAnnotation.class) as @Order not used for tests\n\nRemoved @TestMethodOrder(OrderAnnotation.class) as @Order not used for tests"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYxNjM0NTg2", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/650#pullrequestreview-461634586", "createdAt": "2020-08-05T12:54:55Z", "commit": {"oid": "70ae96f33a8bb944215f6035a445291370bea859"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNVQxMjo1NDo1NVrOG8IYqw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNVQxMzowMjoxNFrOG8IqMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTcwNTEzMQ==", "bodyText": "still out of scope. I am letting one slide in order to save us some time, but please in future move small fixes into separate PRs. That way they can be merged in quickly and unblock other devs without the need to wait for a chain of dependent PRs to go in.\nIt will also make your PRs more straight forward and easier to review.", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/650#discussion_r465705131", "createdAt": "2020-08-05T12:54:55Z", "author": {"login": "zohrehj"}, "path": "common-modules/common-service/src/main/java/com/google/cloud/healthcare/fdamystudies/common/EncryptionUtils.java", "diffHunk": "@@ -21,7 +21,7 @@\n   private EncryptionUtils() {}\n \n   public static String salt() {\n-    return DigestUtils.sha3_512Hex(IdGenerator.id());\n+    return DigestUtils.sha512Hex(IdGenerator.id());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTcwNjY0NQ=="}, "originalCommit": {"oid": "fd987a41b5430f79f3777a10e4dd5e6619dedfb1"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTcwOTA1NQ==", "bodyText": "Please remove these out of scope code out of the PR.\nIf you disagree, please provide why they need to stay, and provide enough context for me to review. Without proper context I am not able to review the code. where is it being tested, etc\ni.e. what is the purpose of this code, what part of the code uses it.", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/650#discussion_r465709055", "createdAt": "2020-08-05T13:01:08Z", "author": {"login": "zohrehj"}, "path": "oauth-scim-module/oauth-scim-service/src/main/java/com/google/cloud/healthcare/fdamystudies/oauthscim/service/HydraOAuthServiceImpl.java", "diffHunk": "@@ -143,4 +161,63 @@ public void init() {\n \n     return response;\n   }\n+\n+  @Override\n+  public ResponseEntity<JsonNode> requestConsent(MultiValueMap<String, String> paramMap) {\n+    HttpHeaders headers = new HttpHeaders();\n+    headers.add(CONTENT_TYPE, APPLICATION_X_WWW_FORM_URLENCODED_CHARSET_UTF_8);\n+    headers.setAccept(Collections.singletonList(MediaType.APPLICATION_JSON));\n+\n+    StringBuilder url = new StringBuilder(consentEndpoint);\n+    url.append(\"?consent_challenge=\").append(paramMap.getFirst(CONSENT_CHALLENGE));\n+\n+    return getRestTemplate().getForEntity(url.toString(), JsonNode.class);\n+  }\n+\n+  @Override\n+  public ResponseEntity<JsonNode> consentAccept(MultiValueMap<String, String> paramMap) {\n+\n+    ArrayNode scopes = createArrayNode();\n+    scopes.add(\"offline_access\");\n+    scopes.add(\"offline\");\n+    scopes.add(\"openid\");\n+\n+    ObjectNode accessTokenNode = getObjectNode();\n+    accessTokenNode.put(\"val\", IdGenerator.id());\n+\n+    ObjectNode idTokenNode = getObjectNode();\n+    idTokenNode.put(\"val\", IdGenerator.id());\n+\n+    ObjectNode session = getObjectNode();\n+    session.set(\"access_token\", accessTokenNode);\n+    session.set(\"id_token\", idTokenNode);\n+\n+    ObjectNode request = getObjectNode();\n+    request.set(\"grant_scope\", scopes);\n+    request.put(\"remember\", remember);\n+    request.set(\"session\", session);\n+\n+    HttpHeaders headers = new HttpHeaders();\n+    headers.setContentType(MediaType.APPLICATION_JSON);\n+    headers.setAccept(Collections.singletonList(MediaType.APPLICATION_JSON));\n+\n+    StringBuilder url = new StringBuilder(consentAcceptEndpoint);\n+    url.append(\"?\")\n+        .append(CONSENT_CHALLENGE)\n+        .append(\"=\")\n+        .append(paramMap.getFirst(CONSENT_CHALLENGE));\n+\n+    HttpEntity<Object> requestEntity = new HttpEntity<>(request, headers);\n+    ResponseEntity<JsonNode> response =\n+        getRestTemplate().exchange(url.toString(), HttpMethod.PUT, requestEntity, JsonNode.class);\n+\n+    if (!response.getStatusCode().is2xxSuccessful()) {\n+      logger.error(\n+          String.format(\n+              \"consent accept failed with status %d and response=%s\",\n+              response.getStatusCodeValue(), response.getBody()));\n+    }\n+\n+    return response;\n+  }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTcxMzU0OA=="}, "originalCommit": {"oid": "fd987a41b5430f79f3777a10e4dd5e6619dedfb1"}, "originalPosition": 127}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTcwOTYxNg==", "bodyText": "same as my previous comment, I can't review code out of context. either remove or provide context.", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/650#discussion_r465709616", "createdAt": "2020-08-05T13:02:14Z", "author": {"login": "zohrehj"}, "path": "oauth-scim-module/oauth-scim-service/src/main/java/com/google/cloud/healthcare/fdamystudies/oauthscim/service/OAuthService.java", "diffHunk": "@@ -27,4 +27,8 @@\n   public ResponseEntity<JsonNode> requestLogin(MultiValueMap<String, String> paramMap);\n \n   public ResponseEntity<JsonNode> loginAccept(String email, String loginChallenge);\n+\n+  public ResponseEntity<JsonNode> requestConsent(MultiValueMap<String, String> paramMap);\n+\n+  public ResponseEntity<JsonNode> consentAccept(MultiValueMap<String, String> paramMap);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTcxNDMyNg=="}, "originalCommit": {"oid": "fd987a41b5430f79f3777a10e4dd5e6619dedfb1"}, "originalPosition": 7}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "95c1fbcab7e9f0fb39559ddceb1df1bbc9ac0945", "author": {"user": {"login": "dhanyak-btc", "name": "Dhanya Kumar KV"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/95c1fbcab7e9f0fb39559ddceb1df1bbc9ac0945", "committedDate": "2020-08-07T08:36:34Z", "message": "Removed unused variable ORG_ID_VALUE\n\nRemoved unused variable ORG_ID_VALUE"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYzNTcxNTE5", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/650#pullrequestreview-463571519", "createdAt": "2020-08-07T19:47:57Z", "commit": {"oid": "95c1fbcab7e9f0fb39559ddceb1df1bbc9ac0945"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wN1QxOTo0Nzo1N1rOG9l7Lg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wN1QxOTo1MDowNVrOG9l-tQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzIzNzY3OA==", "bodyText": "what is this feature referring to? can you please point me to how this functionality works and where it is used?", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/650#discussion_r467237678", "createdAt": "2020-08-07T19:47:57Z", "author": {"login": "zohrehj"}, "path": "oauth-scim-module/oauth-scim-service/src/main/java/com/google/cloud/healthcare/fdamystudies/oauthscim/service/HydraOAuthServiceImpl.java", "diffHunk": "@@ -124,11 +138,15 @@ public void init() {\n     StringBuilder url = new StringBuilder(loginAcceptEndpoint);\n     url.append(\"?\").append(LOGIN_CHALLENGE).append(\"=\").append(loginChallenge);\n \n-    ObjectNode requestParams = JsonUtils.getObjectNode();\n+    ObjectNode requestParams = getObjectNode();\n     requestParams.put(\"subject\", email);\n-    requestParams.put(\"remember\", true);\n-    requestParams.put(\"remember_for\", REMEMBER_FOR_SECONDS);\n \n+    // if ORY Hydra should remember the subject's subject agent for future authentication attempts\n+    // by setting a cookie.\n+    requestParams.put(\"remember\", remember);\n+    if (remember) {\n+      requestParams.put(\"remember_for\", rememberForSeconds);\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "95c1fbcab7e9f0fb39559ddceb1df1bbc9ac0945"}, "originalPosition": 61}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzIzODU4MQ==", "bodyText": "I assumed this was the case. Still my initial comment stands, if you can't remove it, which seems to be the case here, please provide context for this code.\ni.e. what is the purpose of this code, what part of the code uses it.", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/650#discussion_r467238581", "createdAt": "2020-08-07T19:50:05Z", "author": {"login": "zohrehj"}, "path": "oauth-scim-module/oauth-scim-service/src/main/java/com/google/cloud/healthcare/fdamystudies/oauthscim/service/HydraOAuthServiceImpl.java", "diffHunk": "@@ -143,4 +161,63 @@ public void init() {\n \n     return response;\n   }\n+\n+  @Override\n+  public ResponseEntity<JsonNode> requestConsent(MultiValueMap<String, String> paramMap) {\n+    HttpHeaders headers = new HttpHeaders();\n+    headers.add(CONTENT_TYPE, APPLICATION_X_WWW_FORM_URLENCODED_CHARSET_UTF_8);\n+    headers.setAccept(Collections.singletonList(MediaType.APPLICATION_JSON));\n+\n+    StringBuilder url = new StringBuilder(consentEndpoint);\n+    url.append(\"?consent_challenge=\").append(paramMap.getFirst(CONSENT_CHALLENGE));\n+\n+    return getRestTemplate().getForEntity(url.toString(), JsonNode.class);\n+  }\n+\n+  @Override\n+  public ResponseEntity<JsonNode> consentAccept(MultiValueMap<String, String> paramMap) {\n+\n+    ArrayNode scopes = createArrayNode();\n+    scopes.add(\"offline_access\");\n+    scopes.add(\"offline\");\n+    scopes.add(\"openid\");\n+\n+    ObjectNode accessTokenNode = getObjectNode();\n+    accessTokenNode.put(\"val\", IdGenerator.id());\n+\n+    ObjectNode idTokenNode = getObjectNode();\n+    idTokenNode.put(\"val\", IdGenerator.id());\n+\n+    ObjectNode session = getObjectNode();\n+    session.set(\"access_token\", accessTokenNode);\n+    session.set(\"id_token\", idTokenNode);\n+\n+    ObjectNode request = getObjectNode();\n+    request.set(\"grant_scope\", scopes);\n+    request.put(\"remember\", remember);\n+    request.set(\"session\", session);\n+\n+    HttpHeaders headers = new HttpHeaders();\n+    headers.setContentType(MediaType.APPLICATION_JSON);\n+    headers.setAccept(Collections.singletonList(MediaType.APPLICATION_JSON));\n+\n+    StringBuilder url = new StringBuilder(consentAcceptEndpoint);\n+    url.append(\"?\")\n+        .append(CONSENT_CHALLENGE)\n+        .append(\"=\")\n+        .append(paramMap.getFirst(CONSENT_CHALLENGE));\n+\n+    HttpEntity<Object> requestEntity = new HttpEntity<>(request, headers);\n+    ResponseEntity<JsonNode> response =\n+        getRestTemplate().exchange(url.toString(), HttpMethod.PUT, requestEntity, JsonNode.class);\n+\n+    if (!response.getStatusCode().is2xxSuccessful()) {\n+      logger.error(\n+          String.format(\n+              \"consent accept failed with status %d and response=%s\",\n+              response.getStatusCodeValue(), response.getBody()));\n+    }\n+\n+    return response;\n+  }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTcxMzU0OA=="}, "originalCommit": {"oid": "fd987a41b5430f79f3777a10e4dd5e6619dedfb1"}, "originalPosition": 127}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY1NDg0MDAx", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/650#pullrequestreview-465484001", "createdAt": "2020-08-11T22:59:47Z", "commit": {"oid": "95c1fbcab7e9f0fb39559ddceb1df1bbc9ac0945"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMVQyMjo1OTo0N1rOG_MDdg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMVQyMzowMToxNVrOG_MFdQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODkxMDk2Ng==", "bodyText": "What is the remember_for parameter then? why not use cookie expiration instead?", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/650#discussion_r468910966", "createdAt": "2020-08-11T22:59:47Z", "author": {"login": "zohrehj"}, "path": "oauth-scim-module/oauth-scim-service/src/main/java/com/google/cloud/healthcare/fdamystudies/oauthscim/service/HydraOAuthServiceImpl.java", "diffHunk": "@@ -124,11 +138,15 @@ public void init() {\n     StringBuilder url = new StringBuilder(loginAcceptEndpoint);\n     url.append(\"?\").append(LOGIN_CHALLENGE).append(\"=\").append(loginChallenge);\n \n-    ObjectNode requestParams = JsonUtils.getObjectNode();\n+    ObjectNode requestParams = getObjectNode();\n     requestParams.put(\"subject\", email);\n-    requestParams.put(\"remember\", true);\n-    requestParams.put(\"remember_for\", REMEMBER_FOR_SECONDS);\n \n+    // if ORY Hydra should remember the subject's subject agent for future authentication attempts\n+    // by setting a cookie.\n+    requestParams.put(\"remember\", remember);\n+    if (remember) {\n+      requestParams.put(\"remember_for\", rememberForSeconds);\n+    }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzIzNzY3OA=="}, "originalCommit": {"oid": "95c1fbcab7e9f0fb39559ddceb1df1bbc9ac0945"}, "originalPosition": 61}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODkxMTE4OA==", "bodyText": "makes sense. But does not answer why it is included in this PR.", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/650#discussion_r468911188", "createdAt": "2020-08-11T23:00:25Z", "author": {"login": "zohrehj"}, "path": "oauth-scim-module/oauth-scim-service/src/main/java/com/google/cloud/healthcare/fdamystudies/oauthscim/config/RedirectConfig.java", "diffHunk": "@@ -32,6 +32,33 @@\n   @Value(\"${mystudies.android.app.callback-url}\")\n   private String myStudiesAndroidAppCallbackUrl;\n \n+  @Value(\"${participant.manager.forgot-password-url}\")\n+  private String participantManagerForgotPasswordUrl;\n+\n+  @Value(\"${mystudies.ios.app.forgot-password-url}\")\n+  private String myStudiesIosAppForgotPasswordUrl;\n+\n+  @Value(\"${mystudies.android.app.forgot-password-url}\")\n+  private String myStudiesAndroidAppForgotPasswordUrl;\n+\n+  @Value(\"${mystudies.ios.app.signup-url}\")\n+  private String myStudiesIosAppSignupUrl;\n+\n+  @Value(\"${mystudies.android.app.signup-url}\")\n+  private String myStudiesAndroidAppSignupUrl;\n+\n+  @Value(\"${participant.manager.signup-url}\")\n+  private String participantManagerSignupUrl;\n+\n+  @Value(\"${mystudies.ios.app.error-url}\")\n+  private String myStudiesIosAppErrorUrl;\n+\n+  @Value(\"${mystudies.android.app.error-url}\")\n+  private String myStudiesAndroidAppErrorUrl;\n+\n+  @Value(\"${participant.manager.error-url}\")\n+  private String participantManagerErrorUrl;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDE0NTI2NQ=="}, "originalCommit": {"oid": "6e34b5d6d187702024324b94f38d7c8e77a1da83"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODkxMTQ3Nw==", "bodyText": "Please move the code to PR 651 if the tests are in there. I would prefer all code + tests to be merged together.", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/650#discussion_r468911477", "createdAt": "2020-08-11T23:01:15Z", "author": {"login": "zohrehj"}, "path": "oauth-scim-module/oauth-scim-service/src/main/java/com/google/cloud/healthcare/fdamystudies/oauthscim/service/HydraOAuthServiceImpl.java", "diffHunk": "@@ -143,4 +161,63 @@ public void init() {\n \n     return response;\n   }\n+\n+  @Override\n+  public ResponseEntity<JsonNode> requestConsent(MultiValueMap<String, String> paramMap) {\n+    HttpHeaders headers = new HttpHeaders();\n+    headers.add(CONTENT_TYPE, APPLICATION_X_WWW_FORM_URLENCODED_CHARSET_UTF_8);\n+    headers.setAccept(Collections.singletonList(MediaType.APPLICATION_JSON));\n+\n+    StringBuilder url = new StringBuilder(consentEndpoint);\n+    url.append(\"?consent_challenge=\").append(paramMap.getFirst(CONSENT_CHALLENGE));\n+\n+    return getRestTemplate().getForEntity(url.toString(), JsonNode.class);\n+  }\n+\n+  @Override\n+  public ResponseEntity<JsonNode> consentAccept(MultiValueMap<String, String> paramMap) {\n+\n+    ArrayNode scopes = createArrayNode();\n+    scopes.add(\"offline_access\");\n+    scopes.add(\"offline\");\n+    scopes.add(\"openid\");\n+\n+    ObjectNode accessTokenNode = getObjectNode();\n+    accessTokenNode.put(\"val\", IdGenerator.id());\n+\n+    ObjectNode idTokenNode = getObjectNode();\n+    idTokenNode.put(\"val\", IdGenerator.id());\n+\n+    ObjectNode session = getObjectNode();\n+    session.set(\"access_token\", accessTokenNode);\n+    session.set(\"id_token\", idTokenNode);\n+\n+    ObjectNode request = getObjectNode();\n+    request.set(\"grant_scope\", scopes);\n+    request.put(\"remember\", remember);\n+    request.set(\"session\", session);\n+\n+    HttpHeaders headers = new HttpHeaders();\n+    headers.setContentType(MediaType.APPLICATION_JSON);\n+    headers.setAccept(Collections.singletonList(MediaType.APPLICATION_JSON));\n+\n+    StringBuilder url = new StringBuilder(consentAcceptEndpoint);\n+    url.append(\"?\")\n+        .append(CONSENT_CHALLENGE)\n+        .append(\"=\")\n+        .append(paramMap.getFirst(CONSENT_CHALLENGE));\n+\n+    HttpEntity<Object> requestEntity = new HttpEntity<>(request, headers);\n+    ResponseEntity<JsonNode> response =\n+        getRestTemplate().exchange(url.toString(), HttpMethod.PUT, requestEntity, JsonNode.class);\n+\n+    if (!response.getStatusCode().is2xxSuccessful()) {\n+      logger.error(\n+          String.format(\n+              \"consent accept failed with status %d and response=%s\",\n+              response.getStatusCodeValue(), response.getBody()));\n+    }\n+\n+    return response;\n+  }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTcxMzU0OA=="}, "originalCommit": {"oid": "fd987a41b5430f79f3777a10e4dd5e6619dedfb1"}, "originalPosition": 127}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "57d0ce1da5387f2a5bab4d924ff663521fb984bf", "author": {"user": {"login": "dhanyak-btc", "name": "Dhanya Kumar KV"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/57d0ce1da5387f2a5bab4d924ff663521fb984bf", "committedDate": "2020-08-12T14:39:57Z", "message": "Removed requestConsent() and consentAccept() methods to fix review comments\n\nRemoved requestConsent() and consentAccept() methods to fix review comments"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY2MjA3MDI2", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/650#pullrequestreview-466207026", "createdAt": "2020-08-12T19:24:17Z", "commit": {"oid": "57d0ce1da5387f2a5bab4d924ff663521fb984bf"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e65593fa6aa2549f7c4ad4580a3e13b2fc9cf4e7", "author": {"user": {"login": "dhanyak-btc", "name": "Dhanya Kumar KV"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/e65593fa6aa2549f7c4ad4580a3e13b2fc9cf4e7", "committedDate": "2020-08-13T08:08:16Z", "message": "Merge branch 'develop' into oauth_scim_consent"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "de632dcec8a2f27ddff936e9eb9ce81e39e2c4a1", "author": {"user": {"login": "dhanyak-btc", "name": "Dhanya Kumar KV"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/de632dcec8a2f27ddff936e9eb9ce81e39e2c4a1", "committedDate": "2020-08-13T08:08:52Z", "message": "Resolved conflicts to merge into develop\n\nResolved conflicts to merge into develop"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bfd0b18c1728ad070399040a2344c172e1ff579a", "author": {"user": {"login": "dhanyak-btc", "name": "Dhanya Kumar KV"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/bfd0b18c1728ad070399040a2344c172e1ff579a", "committedDate": "2020-08-13T09:25:46Z", "message": "Fixed build issues\n\nFixed build issues"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY2NzQ3Njk1", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/650#pullrequestreview-466747695", "createdAt": "2020-08-13T13:13:23Z", "commit": {"oid": "bfd0b18c1728ad070399040a2344c172e1ff579a"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY3NTI5Mjgy", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/650#pullrequestreview-467529282", "createdAt": "2020-08-14T12:18:26Z", "commit": {"oid": "bfd0b18c1728ad070399040a2344c172e1ff579a"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6e98e225aae6c8f8e8cc95b198533dfe8dbac1c7", "author": {"user": {"login": "dhanyak-btc", "name": "Dhanya Kumar KV"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/6e98e225aae6c8f8e8cc95b198533dfe8dbac1c7", "committedDate": "2020-08-14T13:06:11Z", "message": "Merge branch 'develop' into oauth_scim_consent"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7c4514a59afe459a8e4d2b1659f1d73172fe8885", "author": {"user": {"login": "dhanyak-btc", "name": "Dhanya Kumar KV"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/7c4514a59afe459a8e4d2b1659f1d73172fe8885", "committedDate": "2020-08-14T13:10:07Z", "message": "Code Formatting  & Organize Imports\n\nCode Formatting  & Organize Imports"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY3NTg2MTA3", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/650#pullrequestreview-467586107", "createdAt": "2020-08-14T13:44:53Z", "commit": {"oid": "7c4514a59afe459a8e4d2b1659f1d73172fe8885"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 880, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}