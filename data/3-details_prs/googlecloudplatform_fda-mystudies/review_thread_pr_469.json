{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMxOTEwNTQw", "number": 469, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQxNTozODo0MVrOEEWjpQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQxNTozODo0MVrOEEWjpQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcyOTk5MzMzOnYy", "diffSide": "RIGHT", "path": "iOS/HPHC/HPHC/Controllers/StudyUI/StudyOverviewUI/StudyHomeViewController.swift", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQxNTozODo0MVrOGh64Gw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQxNDowNjowMlrOGjFSfQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODIyMDgyNw==", "bodyText": "what id the difference between .notEligible and .yetToJoin, and which state does user go to when they withdraw form the study.\nI would expect them to land in .yetToJoin, but your fix suggests otherwise.", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/469#discussion_r438220827", "createdAt": "2020-06-10T15:38:41Z", "author": {"login": "zohrehj"}, "path": "iOS/HPHC/HPHC/Controllers/StudyUI/StudyOverviewUI/StudyHomeViewController.swift", "diffHunk": "@@ -736,7 +759,9 @@ class StudyHomeViewController: UIViewController {\n           // go to study dashboard\n           removeProgressIndicator()\n           pushToStudyDashboard()\n-        } else if studyStatus.status == .yetToJoin {\n+        } else if studyStatus.status == .yetToJoin\n+          || studyStatus.status == .notEligible", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a2d749cee3a10f93b8b33d739b2259f19c6a8af3"}, "originalPosition": 85}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODU0MDg5Ng==", "bodyText": "This method is executed only for the standalone App. When a user withdraws from the study we're also deleting their account in standalone App. So when they register again status would be . yetToJoin but in case of gateway app, their participation status would be .withdraw. The above fix is when a user fails to answer questions for eligibility then they're not able to join again because of a missing case .notEligible.", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/469#discussion_r438540896", "createdAt": "2020-06-11T04:49:40Z", "author": {"login": "tushar-boston"}, "path": "iOS/HPHC/HPHC/Controllers/StudyUI/StudyOverviewUI/StudyHomeViewController.swift", "diffHunk": "@@ -736,7 +759,9 @@ class StudyHomeViewController: UIViewController {\n           // go to study dashboard\n           removeProgressIndicator()\n           pushToStudyDashboard()\n-        } else if studyStatus.status == .yetToJoin {\n+        } else if studyStatus.status == .yetToJoin\n+          || studyStatus.status == .notEligible", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODIyMDgyNw=="}, "originalCommit": {"oid": "a2d749cee3a10f93b8b33d739b2259f19c6a8af3"}, "originalPosition": 85}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTQzOTk5Nw==", "bodyText": "I see, please add this explanation to the description of the PR.", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/469#discussion_r439439997", "createdAt": "2020-06-12T14:06:02Z", "author": {"login": "zohrehj"}, "path": "iOS/HPHC/HPHC/Controllers/StudyUI/StudyOverviewUI/StudyHomeViewController.swift", "diffHunk": "@@ -736,7 +759,9 @@ class StudyHomeViewController: UIViewController {\n           // go to study dashboard\n           removeProgressIndicator()\n           pushToStudyDashboard()\n-        } else if studyStatus.status == .yetToJoin {\n+        } else if studyStatus.status == .yetToJoin\n+          || studyStatus.status == .notEligible", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODIyMDgyNw=="}, "originalCommit": {"oid": "a2d749cee3a10f93b8b33d739b2259f19c6a8af3"}, "originalPosition": 85}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2376, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}