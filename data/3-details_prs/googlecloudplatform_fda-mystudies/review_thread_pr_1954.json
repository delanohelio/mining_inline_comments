{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE5MDI0OTEz", "number": 1954, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMlQyMzo0OToxM1rOE4aCew==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMlQyMzo0OToxM1rOE4aCew==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI3NTgyMzMxOnYy", "diffSide": "RIGHT", "path": "participant-manager-datastore/participant-manager-service/src/main/java/com/google/cloud/healthcare/fdamystudies/mapper/ParticipantMapper.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMlQyMzo0OToxM1rOHyTsoA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xM1QxNTozNzowMVrOHyzKYA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjUxMzU2OA==", "bodyText": "Why is this condition (participants enrollment is withdrawn necessary?", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1954#discussion_r522513568", "createdAt": "2020-11-12T23:49:13Z", "author": {"login": "saminguyen"}, "path": "participant-manager-datastore/participant-manager-service/src/main/java/com/google/cloud/healthcare/fdamystudies/mapper/ParticipantMapper.java", "diffHunk": "@@ -205,9 +205,24 @@ public static ParticipantDetail toParticipantDetails(UserDetailsEntity userDetai\n   }\n \n   public static void addEnrollments(\n-      ParticipantDetail participantDetail, List<ParticipantStudyEntity> participantsEnrollments) {\n+      ParticipantDetail participantDetail,\n+      List<ParticipantStudyEntity> participantsEnrollments,\n+      String onboardingStatus) {\n     for (ParticipantStudyEntity participantsEnrollment : participantsEnrollments) {\n       Enrollment enrollment = new Enrollment();\n+      if ((OnboardingStatus.INVITED.getStatus().equals(onboardingStatus)\n+              || OnboardingStatus.NEW.getStatus().equals(onboardingStatus))\n+          && EnrollmentStatus.WITHDRAWN.getStatus().equals(participantsEnrollment.getStatus())) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "837c817bc3e356488e59f0304f8d43df152237cf"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzAyOTA4OA==", "bodyText": "If a participant enrolled and withdrawn  from the study, enrollment status will be WITHDRAWN in participant study info table. IN case of participant re-invitation for the same study the onboarding status will be changed to INVITED/New in participant registry site table, however in participant study info table  the enrollment status for the same participant will be WITHDRAWN.", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1954#discussion_r523029088", "createdAt": "2020-11-13T15:37:01Z", "author": {"login": "chiranjibi009"}, "path": "participant-manager-datastore/participant-manager-service/src/main/java/com/google/cloud/healthcare/fdamystudies/mapper/ParticipantMapper.java", "diffHunk": "@@ -205,9 +205,24 @@ public static ParticipantDetail toParticipantDetails(UserDetailsEntity userDetai\n   }\n \n   public static void addEnrollments(\n-      ParticipantDetail participantDetail, List<ParticipantStudyEntity> participantsEnrollments) {\n+      ParticipantDetail participantDetail,\n+      List<ParticipantStudyEntity> participantsEnrollments,\n+      String onboardingStatus) {\n     for (ParticipantStudyEntity participantsEnrollment : participantsEnrollments) {\n       Enrollment enrollment = new Enrollment();\n+      if ((OnboardingStatus.INVITED.getStatus().equals(onboardingStatus)\n+              || OnboardingStatus.NEW.getStatus().equals(onboardingStatus))\n+          && EnrollmentStatus.WITHDRAWN.getStatus().equals(participantsEnrollment.getStatus())) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjUxMzU2OA=="}, "originalCommit": {"oid": "837c817bc3e356488e59f0304f8d43df152237cf"}, "originalPosition": 12}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1596, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}