{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ4MjA0MjMw", "number": 620, "title": "Participant manager's remaining repository and entity classes ", "bodyText": "Participant manager's remaining repository and entity classes", "createdAt": "2020-07-13T11:48:21Z", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/620", "merged": true, "mergeCommit": {"oid": "7699f560d5c15742a4a0d1fd50c61a0dfbc6d03b"}, "closed": true, "closedAt": "2020-08-07T03:55:21Z", "author": {"login": "Kantharajut-btc"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc0f-2ZgH2gAyNDQ4MjA0MjMwOjQxYzU3NTlkYjQ4YjM1N2NhOTAxOWQ0YzMyYzU0M2UyZjc5NmFlYzI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc8SzLoAH2gAyNDQ4MjA0MjMwOjE2ODZmM2YxYmQ3NTkxODYyMDkzYjc3MDUzN2FlNjlkZjg4ZThjMGM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "41c5759db48b357ca9019d4c32c543e2f796aec2", "author": {"user": {"login": "Kantharajut-btc", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/41c5759db48b357ca9019d4c32c543e2f796aec2", "committedDate": "2020-07-13T11:45:51Z", "message": "remaining repository and entity classes for participant manager /sites end point\n\nremaining repository and entity classes for participant manager /sites end point"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a1f1574f4fee952301510fa0c2150b7c4975f24f", "author": {"user": {"login": "Kantharajut-btc", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/a1f1574f4fee952301510fa0c2150b7c4975f24f", "committedDate": "2020-07-13T15:55:43Z", "message": "added column attributes\n\nadded column attributes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aa626953887798fc6676b484e81de55fc36e6962", "author": {"user": {"login": "aswinijena100", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/aa626953887798fc6676b484e81de55fc36e6962", "committedDate": "2020-07-13T16:08:31Z", "message": "Merge branch 'participant-manager-service-sites' into participant-manager-service-sites-pending-entities"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ5Mzc1NDQy", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/620#pullrequestreview-449375442", "createdAt": "2020-07-15T22:02:49Z", "commit": {"oid": "aa626953887798fc6676b484e81de55fc36e6962"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQyMjowMjo0OVrOGyS3bg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQyMjoxMDoxM1rOGyTDhg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTM5MTA4Ng==", "bodyText": "Do we want to name timestamp fields like this \"created/modified\" - at/on or date? I think we should be consistent. I raised a similar question on PR #580 so maybe you and Dhanya can discuss this", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/620#discussion_r455391086", "createdAt": "2020-07-15T22:02:49Z", "author": {"login": "saminguyen"}, "path": "common-modules/common-service/src/main/java/com/google/cloud/healthcare/fdamystudies/model/AppEntity.java", "diffHunk": "@@ -0,0 +1,158 @@\n+/*\n+ * Copyright 2020 Google LLC\n+ *\n+ * Use of this source code is governed by an MIT-style\n+ * license that can be found in the LICENSE file or at\n+ * https://opensource.org/licenses/MIT.\n+ */\n+\n+package com.google.cloud.healthcare.fdamystudies.model;\n+\n+import java.io.Serializable;\n+import java.sql.Timestamp;\n+import java.util.ArrayList;\n+import java.util.List;\n+\n+import javax.persistence.CascadeType;\n+import javax.persistence.Column;\n+import javax.persistence.Entity;\n+import javax.persistence.FetchType;\n+import javax.persistence.GeneratedValue;\n+import javax.persistence.Id;\n+import javax.persistence.JoinColumn;\n+import javax.persistence.ManyToOne;\n+import javax.persistence.OneToMany;\n+import javax.persistence.Table;\n+\n+import org.hibernate.annotations.GenericGenerator;\n+import org.springframework.boot.autoconfigure.condition.ConditionalOnProperty;\n+\n+import lombok.Getter;\n+import lombok.Setter;\n+import lombok.ToString;\n+\n+@Setter\n+@Getter\n+@Entity\n+@Table(name = \"app_info\")\n+@ConditionalOnProperty(\n+    value = \"participant.manager.entities.enabled\",\n+    havingValue = \"true\",\n+    matchIfMissing = false)\n+public class AppEntity implements Serializable {\n+\n+  private static final long serialVersionUID = 4985607753888575491L;\n+\n+  @ToString.Exclude\n+  @Id\n+  @GeneratedValue(generator = \"system-uuid\")\n+  @GenericGenerator(name = \"system-uuid\", strategy = \"uuid\")\n+  @Column(name = \"id\", updatable = false, nullable = false)\n+  private String id;\n+\n+  @ToString.Exclude\n+  @Column(name = \"custom_app_id\", length = 100)\n+  private String appId;\n+\n+  @ToString.Exclude\n+  @Column(name = \"app_name\", length = 100)\n+  private String appName;\n+\n+  @Column(name = \"app_description\", length = 100)\n+  private String appDescription;\n+\n+  @ToString.Exclude\n+  @ManyToOne(cascade = CascadeType.MERGE)\n+  @JoinColumn(name = \"org_info_id\")\n+  private OrgInfoEntity orgInfo;\n+\n+  @ToString.Exclude\n+  @Column(name = \"ios_bundle_id\", length = 100)\n+  private String iosBundleId;\n+\n+  @ToString.Exclude\n+  @Column(name = \"android_bundle_id\", length = 100)\n+  private String androidBundleId;\n+\n+  @ToString.Exclude\n+  @Column(name = \"ios_certificate\", length = 100)\n+  private String iosCertificate;\n+\n+  @ToString.Exclude\n+  @Column(name = \"ios_certificate_password\", length = 100)\n+  private String iosCertificatePassword;\n+\n+  @ToString.Exclude\n+  @Column(name = \"android_server_key\", length = 100)\n+  private String androidServerKey;\n+\n+  @ToString.Exclude\n+  @Column(name = \"from_email_id\", length = 100)\n+  private String formEmailId;\n+\n+  @ToString.Exclude\n+  @Column(name = \"from_email_password\", length = 100)\n+  private String fromEmailPassword;\n+\n+  @ToString.Exclude\n+  @Column(name = \"reg_email_sub\", length = 100)\n+  private String regEmailSub;\n+\n+  @ToString.Exclude\n+  @Column(name = \"reg_email_body\", length = 100)\n+  private String regEmailBody;\n+\n+  @ToString.Exclude\n+  @Column(name = \"forgot_email_sub\", length = 100)\n+  private String forgotEmailSub;\n+\n+  @Column(name = \"forgot_email_body\", length = 100)\n+  private String forgotEmailBody;\n+\n+  @Column(name = \"method_handler\", length = 100)\n+  private Integer methodHandler;\n+\n+  @Column(name = \"created_by\", nullable = false, length = 64)\n+  private String createdBy;\n+\n+  @Column(name = \"modified_by\", nullable = false, length = 64)\n+  private String modifiedBy;\n+\n+  @Column(\n+      name = \"modified_date\",\n+      insertable = false,\n+      updatable = false,\n+      columnDefinition = \"TIMESTAMP DEFAULT CURRENT_TIMESTAMP\")\n+  private Timestamp modified;\n+\n+  @Column(\n+      name = \"created_on\",\n+      insertable = false,\n+      updatable = false,\n+      columnDefinition = \"TIMESTAMP DEFAULT CURRENT_TIMESTAMP\")\n+  private Timestamp created;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "aa626953887798fc6676b484e81de55fc36e6962"}, "originalPosition": 133}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTM5Mjk1Mg==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              @Column(name = \"edit\", length = 100)\n          \n          \n            \n              private Integer edit;\n          \n          \n            \n              @Column(name = \"canEdit\", length = 100)\n          \n          \n            \n              private Integer canEdit;\n          \n      \n    \n    \n  \n\nOr you can also name it edit_permission. What are the possible values for this Integer field?", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/620#discussion_r455392952", "createdAt": "2020-07-15T22:07:16Z", "author": {"login": "saminguyen"}, "path": "common-modules/common-service/src/main/java/com/google/cloud/healthcare/fdamystudies/model/AppPermissionEntity.java", "diffHunk": "@@ -0,0 +1,70 @@\n+/*\n+ * Copyright 2020 Google LLC\n+ *\n+ * Use of this source code is governed by an MIT-style\n+ * license that can be found in the LICENSE file or at\n+ * https://opensource.org/licenses/MIT.\n+ */\n+\n+package com.google.cloud.healthcare.fdamystudies.model;\n+\n+import java.io.Serializable;\n+import java.sql.Timestamp;\n+\n+import javax.persistence.CascadeType;\n+import javax.persistence.Column;\n+import javax.persistence.Entity;\n+import javax.persistence.GeneratedValue;\n+import javax.persistence.Id;\n+import javax.persistence.JoinColumn;\n+import javax.persistence.ManyToOne;\n+import javax.persistence.Table;\n+\n+import org.hibernate.annotations.GenericGenerator;\n+import org.springframework.boot.autoconfigure.condition.ConditionalOnProperty;\n+\n+import lombok.Getter;\n+import lombok.Setter;\n+import lombok.ToString;\n+\n+@ToString\n+@Setter\n+@Getter\n+@Entity\n+@Table(name = \"app_permissions\")\n+@ConditionalOnProperty(\n+    value = \"participant.manager.entities.enabled\",\n+    havingValue = \"true\",\n+    matchIfMissing = false)\n+public class AppPermissionEntity implements Serializable {\n+\n+  private static final long serialVersionUID = 8610289975376774137L;\n+\n+  @ToString.Exclude\n+  @Id\n+  @GeneratedValue(generator = \"system-uuid\")\n+  @GenericGenerator(name = \"system-uuid\", strategy = \"uuid\")\n+  @Column(name = \"id\", updatable = false, nullable = false)\n+  private String id;\n+\n+  @ManyToOne(cascade = CascadeType.MERGE)\n+  @JoinColumn(name = \"ur_admin_user_id\")\n+  private UserRegAdminEntity urAdminUser;\n+\n+  @ManyToOne(cascade = CascadeType.MERGE)\n+  @JoinColumn(name = \"app_info_id\")\n+  private AppEntity appInfo;\n+\n+  @Column(name = \"edit\", length = 100)\n+  private Integer edit;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "aa626953887798fc6676b484e81de55fc36e6962"}, "originalPosition": 59}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTM5MzUxOQ==", "bodyText": "similar comment as above on timestamp field naming", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/620#discussion_r455393519", "createdAt": "2020-07-15T22:08:33Z", "author": {"login": "saminguyen"}, "path": "common-modules/common-service/src/main/java/com/google/cloud/healthcare/fdamystudies/model/OrgInfoEntity.java", "diffHunk": "@@ -0,0 +1,84 @@\n+/*\n+ * Copyright 2020 Google LLC\n+ *\n+ * Use of this source code is governed by an MIT-style\n+ * license that can be found in the LICENSE file or at\n+ * https://opensource.org/licenses/MIT.\n+ */\n+\n+package com.google.cloud.healthcare.fdamystudies.model;\n+\n+import java.io.Serializable;\n+import java.sql.Timestamp;\n+import java.util.ArrayList;\n+import java.util.List;\n+\n+import javax.persistence.CascadeType;\n+import javax.persistence.Column;\n+import javax.persistence.Entity;\n+import javax.persistence.FetchType;\n+import javax.persistence.GeneratedValue;\n+import javax.persistence.Id;\n+import javax.persistence.OneToMany;\n+import javax.persistence.Table;\n+\n+import org.hibernate.annotations.GenericGenerator;\n+import org.springframework.boot.autoconfigure.condition.ConditionalOnProperty;\n+\n+import lombok.Getter;\n+import lombok.Setter;\n+import lombok.ToString;\n+\n+@Setter\n+@Getter\n+@Entity\n+@Table(name = \"org_info\")\n+@ConditionalOnProperty(\n+    value = \"participant.manager.entities.enabled\",\n+    havingValue = \"true\",\n+    matchIfMissing = false)\n+public class OrgInfoEntity implements Serializable {\n+\n+  private static final long serialVersionUID = 1L;\n+\n+  @ToString.Exclude\n+  @Id\n+  @GeneratedValue(generator = \"system-uuid\")\n+  @GenericGenerator(name = \"system-uuid\", strategy = \"uuid\")\n+  @Column(name = \"id\", updatable = false, nullable = false)\n+  private String id;\n+\n+  @Column(name = \"name\", length = 100)\n+  private String name;\n+\n+  @Column(name = \"org_id\", length = 100)\n+  private String orgId;\n+\n+  @Column(\n+      name = \"created_on\",\n+      insertable = false,\n+      updatable = false,\n+      columnDefinition = \"TIMESTAMP DEFAULT CURRENT_TIMESTAMP\")\n+  private Timestamp created;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "aa626953887798fc6676b484e81de55fc36e6962"}, "originalPosition": 62}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTM5NDE4Mg==", "bodyText": "similar suggestion on naming (can_edit or edit_permission)", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/620#discussion_r455394182", "createdAt": "2020-07-15T22:10:13Z", "author": {"login": "saminguyen"}, "path": "common-modules/common-service/src/main/java/com/google/cloud/healthcare/fdamystudies/model/StudyPermissionEntity.java", "diffHunk": "@@ -0,0 +1,74 @@\n+/*\n+ * Copyright 2020 Google LLC\n+ *\n+ * Use of this source code is governed by an MIT-style\n+ * license that can be found in the LICENSE file or at\n+ * https://opensource.org/licenses/MIT.\n+ */\n+\n+package com.google.cloud.healthcare.fdamystudies.model;\n+\n+import java.io.Serializable;\n+import java.sql.Timestamp;\n+\n+import javax.persistence.CascadeType;\n+import javax.persistence.Column;\n+import javax.persistence.Entity;\n+import javax.persistence.GeneratedValue;\n+import javax.persistence.Id;\n+import javax.persistence.JoinColumn;\n+import javax.persistence.ManyToOne;\n+import javax.persistence.Table;\n+\n+import org.hibernate.annotations.GenericGenerator;\n+import org.springframework.boot.autoconfigure.condition.ConditionalOnProperty;\n+\n+import lombok.Getter;\n+import lombok.Setter;\n+import lombok.ToString;\n+\n+@Setter\n+@Getter\n+@ToString\n+@Entity\n+@Table(name = \"study_permissions\")\n+@ConditionalOnProperty(\n+    value = \"participant.manager.entities.enabled\",\n+    havingValue = \"true\",\n+    matchIfMissing = false)\n+public class StudyPermissionEntity implements Serializable {\n+\n+  private static final long serialVersionUID = -9223143734827095684L;\n+\n+  @ToString.Exclude\n+  @Id\n+  @GeneratedValue(generator = \"system-uuid\")\n+  @GenericGenerator(name = \"system-uuid\", strategy = \"uuid\")\n+  @Column(name = \"id\", updatable = false, nullable = false)\n+  private String id;\n+\n+  @ManyToOne(cascade = CascadeType.MERGE)\n+  @JoinColumn(name = \"app_info_id\")\n+  private AppEntity appInfo;\n+\n+  @ManyToOne(cascade = CascadeType.MERGE)\n+  @JoinColumn(name = \"study_id\")\n+  private StudyEntity study;\n+\n+  @ManyToOne(cascade = CascadeType.MERGE)\n+  @JoinColumn(name = \"ur_admin_user_id\")\n+  private UserRegAdminEntity urAdminUser;\n+\n+  @Column(name = \"edit\", length = 100)\n+  private Integer edit;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "aa626953887798fc6676b484e81de55fc36e6962"}, "originalPosition": 63}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a10d2c648fce1ab1c7551f7f545cee3f538bfc6d", "author": {"user": {"login": "Kantharajut-btc", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/a10d2c648fce1ab1c7551f7f545cee3f538bfc6d", "committedDate": "2020-07-20T05:23:27Z", "message": "Fixed PR #620 review comments\n\n1. Removed unused method from StudyRepository\n2. Rename column to edit_permission and changed its length to 1"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUxMzAzODA0", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/620#pullrequestreview-451303804", "createdAt": "2020-07-20T05:25:40Z", "commit": {"oid": "a10d2c648fce1ab1c7551f7f545cee3f538bfc6d"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0d6e6644847f337f9bf42f2dd065973d538ebb08", "author": {"user": {"login": "Kantharajut-btc", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/0d6e6644847f337f9bf42f2dd065973d538ebb08", "committedDate": "2020-07-20T05:29:59Z", "message": "Added nullable=true for edit_permission column\n\nAdded nullable=true for edit_permission column"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d1e065ee2a9571a0b23634ddc785e8a7cefa390b", "author": {"user": {"login": "Kantharajut-btc", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/d1e065ee2a9571a0b23634ddc785e8a7cefa390b", "committedDate": "2020-07-28T03:59:16Z", "message": "Merge branch 'participant-manager-service-sites' into participant-manager-service-sites-pending-entities"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYyNjg2MTc4", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/620#pullrequestreview-462686178", "createdAt": "2020-08-06T16:36:17Z", "commit": {"oid": "d1e065ee2a9571a0b23634ddc785e8a7cefa390b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1686f3f1bd7591862093b770537ae69df88e8c0c", "author": {"user": {"login": "saminguyen", "name": "Sami Nguyen"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/1686f3f1bd7591862093b770537ae69df88e8c0c", "committedDate": "2020-08-06T16:55:44Z", "message": "Merge branch 'develop' into participant-manager-service-sites-pending-entities"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 821, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}