{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE1NjUwMjc1", "number": 1824, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNFQyMTo0MjowNFrOE1aD3w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQxNToyMzoyNlrOE1tN9A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI0NDM2OTU5OnYy", "diffSide": "RIGHT", "path": "oauth-scim-module/oauth-scim-service/pom.xml", "isResolved": true, "comments": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNFQyMTo0MjowNFrOHtqtbw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQxNzozMjo1OVrOHuOUFg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzY0NzcyNw==", "bodyText": "Since the artifact is no longer WAR, it doesn't make much sense to use a tomcat image. Having a JRE is sufficient.", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1824#discussion_r517647727", "createdAt": "2020-11-04T21:42:04Z", "author": {"login": "chanseokoh"}, "path": "oauth-scim-module/oauth-scim-service/pom.xml", "diffHunk": "@@ -158,7 +157,10 @@\n       <plugin>\n         <groupId>com.google.cloud.tools</groupId>\n         <artifactId>jib-maven-plugin</artifactId>\n-        <version>2.5.2</version>\n+        <version>2.6.0</version>\n+        <configuration>\n+          <from><image>tomcat:9.0.33-jdk11-openjdk</image></from>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "89e415880d80fa6f0996cb5be1b0e9862042c01b"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzY1MTc4NQ==", "bodyText": "That's true, I changed it to keep all images consistent.", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1824#discussion_r517651785", "createdAt": "2020-11-04T21:50:50Z", "author": {"login": "zohrehj"}, "path": "oauth-scim-module/oauth-scim-service/pom.xml", "diffHunk": "@@ -158,7 +157,10 @@\n       <plugin>\n         <groupId>com.google.cloud.tools</groupId>\n         <artifactId>jib-maven-plugin</artifactId>\n-        <version>2.5.2</version>\n+        <version>2.6.0</version>\n+        <configuration>\n+          <from><image>tomcat:9.0.33-jdk11-openjdk</image></from>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzY0NzcyNw=="}, "originalCommit": {"oid": "89e415880d80fa6f0996cb5be1b0e9862042c01b"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODA5MDMwMA==", "bodyText": "It's your call, but it's like you are using postgres:9.6.19 as a base image while you are not using postgreSQL.", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1824#discussion_r518090300", "createdAt": "2020-11-05T14:25:49Z", "author": {"login": "chanseokoh"}, "path": "oauth-scim-module/oauth-scim-service/pom.xml", "diffHunk": "@@ -158,7 +157,10 @@\n       <plugin>\n         <groupId>com.google.cloud.tools</groupId>\n         <artifactId>jib-maven-plugin</artifactId>\n-        <version>2.5.2</version>\n+        <version>2.6.0</version>\n+        <configuration>\n+          <from><image>tomcat:9.0.33-jdk11-openjdk</image></from>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzY0NzcyNw=="}, "originalCommit": {"oid": "89e415880d80fa6f0996cb5be1b0e9862042c01b"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODE5OTU3Mw==", "bodyText": "This is what was used in the original docker file; and I am not seeing any references to postgres, can you point me to where postgres is included?", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1824#discussion_r518199573", "createdAt": "2020-11-05T16:47:23Z", "author": {"login": "zohrehj"}, "path": "oauth-scim-module/oauth-scim-service/pom.xml", "diffHunk": "@@ -158,7 +157,10 @@\n       <plugin>\n         <groupId>com.google.cloud.tools</groupId>\n         <artifactId>jib-maven-plugin</artifactId>\n-        <version>2.5.2</version>\n+        <version>2.6.0</version>\n+        <configuration>\n+          <from><image>tomcat:9.0.33-jdk11-openjdk</image></from>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzY0NzcyNw=="}, "originalCommit": {"oid": "89e415880d80fa6f0996cb5be1b0e9862042c01b"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODIwMjM0MA==", "bodyText": "You didn't have postgreSQL; sorry, I was just making an analogy. You are including a tomcat installation (and their dependent system libraries) only to not use it by anyone, just taking space to create a bigger image for no good reasons. That's just what I'm saying.", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1824#discussion_r518202340", "createdAt": "2020-11-05T16:51:21Z", "author": {"login": "chanseokoh"}, "path": "oauth-scim-module/oauth-scim-service/pom.xml", "diffHunk": "@@ -158,7 +157,10 @@\n       <plugin>\n         <groupId>com.google.cloud.tools</groupId>\n         <artifactId>jib-maven-plugin</artifactId>\n-        <version>2.5.2</version>\n+        <version>2.6.0</version>\n+        <configuration>\n+          <from><image>tomcat:9.0.33-jdk11-openjdk</image></from>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzY0NzcyNw=="}, "originalCommit": {"oid": "89e415880d80fa6f0996cb5be1b0e9862042c01b"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODIzMTA2Mg==", "bodyText": "I see, I'll look into removing it after verifying that everything works as expected with the jar packaging.", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1824#discussion_r518231062", "createdAt": "2020-11-05T17:32:59Z", "author": {"login": "zohrehj"}, "path": "oauth-scim-module/oauth-scim-service/pom.xml", "diffHunk": "@@ -158,7 +157,10 @@\n       <plugin>\n         <groupId>com.google.cloud.tools</groupId>\n         <artifactId>jib-maven-plugin</artifactId>\n-        <version>2.5.2</version>\n+        <version>2.6.0</version>\n+        <configuration>\n+          <from><image>tomcat:9.0.33-jdk11-openjdk</image></from>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzY0NzcyNw=="}, "originalCommit": {"oid": "89e415880d80fa6f0996cb5be1b0e9862042c01b"}, "originalPosition": 15}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI0NzExNjAzOnYy", "diffSide": "RIGHT", "path": "oauth-scim-module/oauth-scim-service/pom.xml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQxMzo1OToxOFrOHuEhpw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQxNDoyMDo1OVrOHuFfRw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODA3MDY5NQ==", "bodyText": "doesn't it required\n<container><appRoot>/usr/local/tomcat/webapps/oauth-scim-service</appRoot></container> ?", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1824#discussion_r518070695", "createdAt": "2020-11-05T13:59:18Z", "author": {"login": "aswinijena100"}, "path": "oauth-scim-module/oauth-scim-service/pom.xml", "diffHunk": "@@ -158,7 +157,10 @@\n       <plugin>\n         <groupId>com.google.cloud.tools</groupId>\n         <artifactId>jib-maven-plugin</artifactId>\n-        <version>2.5.2</version>\n+        <version>2.6.0</version>\n+        <configuration>\n+          <from><image>tomcat:9.0.33-jdk11-openjdk</image></from>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "89e415880d80fa6f0996cb5be1b0e9862042c01b"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODA4NjQ3MQ==", "bodyText": "No. Since this is not a WAR artifact, even tomcat doesn't have to run at all. The oauth-scim-service app will be run directly on JVM with java -cp ... com.google.cloud.healthcare.fdamystudies.Application.", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1824#discussion_r518086471", "createdAt": "2020-11-05T14:20:59Z", "author": {"login": "chanseokoh"}, "path": "oauth-scim-module/oauth-scim-service/pom.xml", "diffHunk": "@@ -158,7 +157,10 @@\n       <plugin>\n         <groupId>com.google.cloud.tools</groupId>\n         <artifactId>jib-maven-plugin</artifactId>\n-        <version>2.5.2</version>\n+        <version>2.6.0</version>\n+        <configuration>\n+          <from><image>tomcat:9.0.33-jdk11-openjdk</image></from>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODA3MDY5NQ=="}, "originalCommit": {"oid": "89e415880d80fa6f0996cb5be1b0e9862042c01b"}, "originalPosition": 15}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI0NzUwODM2OnYy", "diffSide": "RIGHT", "path": "participant-datastore/consent-mgmt-module/consent-mgmt/pom.xml", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQxNToyMzoyNlrOHuIZMQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQxNjo0ODo0OVrOHuMcyg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODEzNDA2NQ==", "bodyText": "Oh, and I see these are Spring Boot projects, so chances are that removing <packaging>war will work, but I guess this doesn't have to be in this PR.", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1824#discussion_r518134065", "createdAt": "2020-11-05T15:23:26Z", "author": {"login": "chanseokoh"}, "path": "participant-datastore/consent-mgmt-module/consent-mgmt/pom.xml", "diffHunk": "@@ -259,7 +259,11 @@\n       <plugin>\n         <groupId>com.google.cloud.tools</groupId>\n         <artifactId>jib-maven-plugin</artifactId>\n-        <version>2.5.2</version>\n+        <version>2.6.0</version>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "89e415880d80fa6f0996cb5be1b0e9862042c01b"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODE0OTM0Ng==", "bodyText": "I tried the change in a few other pom.xml, and the applications were missing additional dependencies. For now I filed a bug to address then at a later time.", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1824#discussion_r518149346", "createdAt": "2020-11-05T15:40:38Z", "author": {"login": "zohrehj"}, "path": "participant-datastore/consent-mgmt-module/consent-mgmt/pom.xml", "diffHunk": "@@ -259,7 +259,11 @@\n       <plugin>\n         <groupId>com.google.cloud.tools</groupId>\n         <artifactId>jib-maven-plugin</artifactId>\n-        <version>2.5.2</version>\n+        <version>2.6.0</version>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODEzNDA2NQ=="}, "originalCommit": {"oid": "89e415880d80fa6f0996cb5be1b0e9862042c01b"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODE1NTYyMg==", "bodyText": "Chances are that some dependencies (like the embedded tomcat below) have the \"provided\" scope and being excluded at runtime:\n     <dependency>\n       <groupId>org.springframework.boot</groupId>\n       <artifactId>spring-boot-starter-tomcat</artifactId>\n-      <scope>provided</scope>\n     </dependency>\nNot sure if starter-web is needed at runtime though.\n    <dependency>\n      <groupId>org.springframework.boot</groupId>\n      <artifactId>spring-boot-starter-web</artifactId>\n      <scope>provided</scope>\n    </dependency>", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1824#discussion_r518155622", "createdAt": "2020-11-05T15:48:41Z", "author": {"login": "chanseokoh"}, "path": "participant-datastore/consent-mgmt-module/consent-mgmt/pom.xml", "diffHunk": "@@ -259,7 +259,11 @@\n       <plugin>\n         <groupId>com.google.cloud.tools</groupId>\n         <artifactId>jib-maven-plugin</artifactId>\n-        <version>2.5.2</version>\n+        <version>2.6.0</version>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODEzNDA2NQ=="}, "originalCommit": {"oid": "89e415880d80fa6f0996cb5be1b0e9862042c01b"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODIwMDUyMg==", "bodyText": "Good points, we should review these dependencies at some point, but I would prefer to not increase the scope of this PR.", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1824#discussion_r518200522", "createdAt": "2020-11-05T16:48:49Z", "author": {"login": "zohrehj"}, "path": "participant-datastore/consent-mgmt-module/consent-mgmt/pom.xml", "diffHunk": "@@ -259,7 +259,11 @@\n       <plugin>\n         <groupId>com.google.cloud.tools</groupId>\n         <artifactId>jib-maven-plugin</artifactId>\n-        <version>2.5.2</version>\n+        <version>2.6.0</version>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODEzNDA2NQ=="}, "originalCommit": {"oid": "89e415880d80fa6f0996cb5be1b0e9862042c01b"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1643, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}