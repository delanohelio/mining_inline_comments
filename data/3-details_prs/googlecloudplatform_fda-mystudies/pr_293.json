{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDExODExNjk0", "number": 293, "title": "Updated Dockerfile and deployment.yml to install gcsfuse and dependencies", "bodyText": "Create directory for mounted files as well.\nOriginal PR: #246\nDifference: Discards gcsfuse.repo here as we aren't able to use yum but to use apt-get finally.", "createdAt": "2020-04-30T20:12:52Z", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/293", "merged": true, "mergeCommit": {"oid": "5dc79233a15580cf55a2c8367750737513a48f8d"}, "closed": true, "closedAt": "2020-04-30T21:08:00Z", "author": {"login": "xueweiwu"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABccy34RgH2gAyNDExODExNjk0OjUzNjQ2OWViZDA4ZmIyOWQ1MzRlYWY3NDc1MDMwYjc4NGUyZmYwMjY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcczLWXgH2gAyNDExODExNjk0OmYzNDIyNTY4NzQwMzEwYWZhMzg4M2JmOGYwOThjZTJhYjU3MWQ2NjU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "536469ebd08fb29d534eaf7475030b784e2ff026", "author": {"user": {"login": "xueweiwu", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/536469ebd08fb29d534eaf7475030b784e2ff026", "committedDate": "2020-04-30T20:12:15Z", "message": "Update Dockerfile"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "df06bf6e3bfe961ce0dc092d7d793b812f22ed64", "author": {"user": {"login": "xueweiwu", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/df06bf6e3bfe961ce0dc092d7d793b812f22ed64", "committedDate": "2020-04-30T20:20:01Z", "message": "Set securityContext and lifecycle in WCP deployment"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAzODUzODYx", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/293#pullrequestreview-403853861", "createdAt": "2020-04-30T20:29:06Z", "commit": {"oid": "df06bf6e3bfe961ce0dc092d7d793b812f22ed64"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQyMDoyOTowN1rOGO5K0w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQyMDoyOTowN1rOGO5K0w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODI2OTkwNw==", "bodyText": "The \"fda_resources\" should eventually come from an environment variable. Can we add a TODO here?", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/293#discussion_r418269907", "createdAt": "2020-04-30T20:29:07Z", "author": {"login": "kuoyuchi"}, "path": "WCP/deployment.yaml", "diffHunk": "@@ -17,6 +17,18 @@ spec:\n       containers: \n         - name: study-designer \n           image: gcr.io/heroes-hat-dev/study-designer:latest\n+          securityContext:\n+            privileged: true\n+            capabilities:\n+              add:\n+                - SYS_ADMIN\n+          lifecycle:\n+            postStart:\n+              exec:\n+                command: [\"gcsfuse\", \"-o\", \"nonempty\", \"fda_resources\", \"/usr/local/tomcat/webapps/fdaResources\"]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "df06bf6e3bfe961ce0dc092d7d793b812f22ed64"}, "originalPosition": 12}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f3422568740310afa3883bf8f098ce2ab571d665", "author": {"user": {"login": "xueweiwu", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/f3422568740310afa3883bf8f098ce2ab571d665", "committedDate": "2020-04-30T20:33:31Z", "message": "Added comment for \"fda_resources\""}}]}}}, "rateLimit": {"limit": 5000, "remaining": 974, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}