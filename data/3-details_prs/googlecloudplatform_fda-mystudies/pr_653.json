{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDUzMjI3NTc1", "number": 653, "title": "Participant manager (PUT) /locations/{locationId} endpoint", "bodyText": "Participant manager (PUT) /locations/{locationId} endpoint.", "createdAt": "2020-07-20T09:08:31Z", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/653", "merged": true, "mergeCommit": {"oid": "e6b6ff1db5b276a1ae440d47bffb0e39a6369a78"}, "closed": true, "closedAt": "2020-08-11T16:25:40Z", "author": {"login": "madhurya-btc"}, "timelineItems": {"totalCount": 16, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc2tx5IgH2gAyNDUzMjI3NTc1OjM4OWJlYzlkOGYzN2VmNDhlNzBjMzVlNGQ5YTg2M2VhMTAwZWQ5OTc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc95TvmgFqTQ2NTIyNzgyMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "389bec9d8f37ef48e70c35e4d9a863ea100ed997", "author": {"user": {"login": "madhurya-btc", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/389bec9d8f37ef48e70c35e4d9a863ea100ed997", "committedDate": "2020-07-20T08:58:13Z", "message": "PUT update location api endpoint"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6886920c6f92230521fe3fc5311cc1687d32f8b7", "author": {"user": {"login": "madhurya-btc", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/6886920c6f92230521fe3fc5311cc1687d32f8b7", "committedDate": "2020-07-20T09:04:09Z", "message": "update location api end point"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "35516f7f6be0b1696341f882d55208f12c43d593", "author": {"user": {"login": "madhurya-btc", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/35516f7f6be0b1696341f882d55208f12c43d593", "committedDate": "2020-07-20T11:33:22Z", "message": "ActiveUserFilter conditional property removed"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "734c580946f13d11afd2953ec13f80b1cfe4cd0d", "author": {"user": {"login": "madhurya-btc", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/734c580946f13d11afd2953ec13f80b1cfe4cd0d", "committedDate": "2020-07-20T11:42:02Z", "message": "conditional property of activeUserFilter"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0cef4ab47ff27bdce31db14849a17ef13621c9e8", "author": {"user": {"login": "madhurya-btc", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/0cef4ab47ff27bdce31db14849a17ef13621c9e8", "committedDate": "2020-07-22T14:56:13Z", "message": "Merge branch 'participant-manager-studies-endpoint' into participant-manager-put-update-location-endpoint"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e7146b73602f5dd443504e8f88bc9121fce772f0", "author": {"user": {"login": "madhurya-btc", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/e7146b73602f5dd443504e8f88bc9121fce772f0", "committedDate": "2020-07-22T15:01:16Z", "message": "Resolved conflict issue"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUzNzEzMDYz", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/653#pullrequestreview-453713063", "createdAt": "2020-07-22T21:54:40Z", "commit": {"oid": "e7146b73602f5dd443504e8f88bc9121fce772f0"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQyMTo1NDo0MFrOG11nug==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQyMjozNTo0NVrOG12mDg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTEwNjIzNA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              CANNOT_REACTIVE(\n          \n          \n            \n                  400, \"EC_887\", Constants.BAD_REQUEST, \"Can't reactive an already active location\"),\n          \n          \n            \n              CANNOT_REACTIVATE(\n          \n          \n            \n                  400, \"EC_887\", Constants.BAD_REQUEST, \"Can't reactivate an already active location\"),", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/653#discussion_r459106234", "createdAt": "2020-07-22T21:54:40Z", "author": {"login": "saminguyen"}, "path": "common-modules/common-service/src/main/java/com/google/cloud/healthcare/fdamystudies/common/ErrorCode.java", "diffHunk": "@@ -84,7 +84,27 @@\n \n   APP_NOT_FOUND(404, \"EC-817\", Constants.BAD_REQUEST, \"App not found.\"),\n \n-  STUDY_NOT_FOUND(404, \"EC-816\", Constants.BAD_REQUEST, \"Study not found\");\n+  STUDY_NOT_FOUND(404, \"EC-816\", Constants.BAD_REQUEST, \"Study not found\"),\n+\n+  LOCATION_NOT_FOUND(404, \"EC_881\", \"Not Found\", \"No Locations Found\"),\n+\n+  DEFAULT_SITE_MODIFY_DENIED(\n+      400, \"EC_888\", Constants.BAD_REQUEST, \"Default site can't be modified\"),\n+\n+  ALREADY_DECOMMISSIONED(\n+      400, \"EC_886\", Constants.BAD_REQUEST, \"Can't decommision an already decommissioned location\"),\n+\n+  CANNOT_DECOMMISSIONED(\n+      400,\n+      \"EC_885\",\n+      Constants.BAD_REQUEST,\n+      \"This Location is being used as an active Site in one or more studies and cannot be decomissioned\"),\n+\n+  CANNOT_REACTIVE(\n+      400, \"EC_887\", Constants.BAD_REQUEST, \"Can't reactive an already active location\"),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e7146b73602f5dd443504e8f88bc9121fce772f0"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTEwNzYxNA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              GET_STUDIES_SUCCESS(HttpStatus.OK, \"MSG-0004\", \"Get studies successfull\"),\n          \n          \n            \n              GET_STUDIES_SUCCESS(HttpStatus.OK, \"MSG-0004\", \"Get studies successfully\"),", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/653#discussion_r459107614", "createdAt": "2020-07-22T21:58:04Z", "author": {"login": "saminguyen"}, "path": "common-modules/common-service/src/main/java/com/google/cloud/healthcare/fdamystudies/common/MessageCode.java", "diffHunk": "@@ -32,7 +32,13 @@\n \n   GET_APPS_SUCCESS(HttpStatus.OK, \"MSG-0003\", \"Get apps successfull\"),\n \n-  GET_STUDIES_SUCCESS(HttpStatus.OK, \"MSG-0004\", \"Get studies successfull\");\n+  GET_STUDIES_SUCCESS(HttpStatus.OK, \"MSG-0004\", \"Get studies successfull\"),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e7146b73602f5dd443504e8f88bc9121fce772f0"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTExMzIzMg==", "bodyText": "add newline for end of file", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/653#discussion_r459113232", "createdAt": "2020-07-22T22:12:42Z", "author": {"login": "saminguyen"}, "path": "participant-manager-module/participant-manager-service/src/main/resources/application.properties", "diffHunk": "@@ -23,3 +23,4 @@ commonservice.email.enabled=false\n participant.manager.entities.enabled=true\n participant.manager.repository.enabled=true\n \n+commonservice.activeuser.filter.enabled=true", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e7146b73602f5dd443504e8f88bc9121fce772f0"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTEyMjE5MA==", "bodyText": "Use the Constant YES/NO here (there is one in CommonConstants.java)", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/653#discussion_r459122190", "createdAt": "2020-07-22T22:35:45Z", "author": {"login": "saminguyen"}, "path": "common-modules/common-service/src/main/java/com/google/cloud/healthcare/fdamystudies/model/LocationEntity.java", "diffHunk": "@@ -80,4 +81,9 @@ public void addSiteEntity(SiteEntity site) {\n     sites.add(site);\n     site.setLocation(this);\n   }\n+\n+  @Transient\n+  public boolean isDefault() {\n+    return \"Y\".equalsIgnoreCase(isDefault);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e7146b73602f5dd443504e8f88bc9121fce772f0"}, "originalPosition": 15}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9166da96bdcf9fce2aeb875479b1404b0d46e7b2", "author": {"user": {"login": "madhurya-btc", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/9166da96bdcf9fce2aeb875479b1404b0d46e7b2", "committedDate": "2020-07-23T05:08:41Z", "message": "PR Comments fixed."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6323302a11379ae686cd65dbe825efa068ca12db", "author": {"user": {"login": "madhurya-btc", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/6323302a11379ae686cd65dbe825efa068ca12db", "committedDate": "2020-07-24T05:14:43Z", "message": "Merge branch 'participant-manager-studies-endpoint' into participant-manager-put-update-location-endpoint"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b93fdbafb9f42d524ab70a3f343fa63a5391abea", "author": {"user": {"login": "madhurya-btc", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/b93fdbafb9f42d524ab70a3f343fa63a5391abea", "committedDate": "2020-07-28T04:49:15Z", "message": "Merge branch 'participant-manager-studies-endpoint' into participant-manager-put-update-location-endpoint"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU2ODA0Mjg1", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/653#pullrequestreview-456804285", "createdAt": "2020-07-28T16:25:33Z", "commit": {"oid": "b93fdbafb9f42d524ab70a3f343fa63a5391abea"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY1MTE3MzMy", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/653#pullrequestreview-465117332", "createdAt": "2020-08-11T14:21:43Z", "commit": {"oid": "b93fdbafb9f42d524ab70a3f343fa63a5391abea"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "37ecf2666717870d3545408003ecd012175f9d8f", "author": {"user": {"login": "madhurya-btc", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/37ecf2666717870d3545408003ecd012175f9d8f", "committedDate": "2020-08-11T16:03:15Z", "message": "Merge branch 'develop' into participant-manager-put-update-location-endpoint\n\n# Conflicts:\n#\tcommon-modules/common-service/src/main/java/com/google/cloud/healthcare/fdamystudies/common/CommonConstants.java\n#\tcommon-modules/common-service/src/main/java/com/google/cloud/healthcare/fdamystudies/common/MessageCode.java\n#\tcommon-modules/common-service/src/main/java/com/google/cloud/healthcare/fdamystudies/common/Permission.java\n#\tparticipant-manager-module/participant-manager-service/src/main/java/com/google/cloud/healthcare/fdamystudies/controller/LocationController.java\n#\tparticipant-manager-module/participant-manager-service/src/main/java/com/google/cloud/healthcare/fdamystudies/service/LocationService.java\n#\tparticipant-manager-module/participant-manager-service/src/main/java/com/google/cloud/healthcare/fdamystudies/service/LocationServiceImpl.java\n#\tparticipant-manager-module/participant-manager-service/src/test/java/com/google/cloud/healthcare/fdamystudies/common/ApiEndpoint.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1144f77e07d4be22b411ea5afd137988e30f500d", "author": {"user": {"login": "madhurya-btc", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/1144f77e07d4be22b411ea5afd137988e30f500d", "committedDate": "2020-08-11T16:10:51Z", "message": "Merge branch 'develop' into participant-manager-put-update-location-endpoint"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY1MjIyNzM4", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/653#pullrequestreview-465222738", "createdAt": "2020-08-11T16:15:15Z", "commit": {"oid": "1144f77e07d4be22b411ea5afd137988e30f500d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY1MjI3ODIw", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/653#pullrequestreview-465227820", "createdAt": "2020-08-11T16:21:37Z", "commit": {"oid": "1144f77e07d4be22b411ea5afd137988e30f500d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 887, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}