{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDgwNzcxNDQ4", "number": 891, "title": "Enroll Mgmt Service - Externalized configuration", "bodyText": "Enroll Mgmt Service - Externalized configuration\nCode Format + Organize Imports", "createdAt": "2020-09-06T13:46:29Z", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/891", "merged": true, "mergeCommit": {"oid": "938ed5fd0868323438aba1667143e6995e9b3d07"}, "closed": true, "closedAt": "2020-09-25T17:48:26Z", "author": {"login": "aswinijena100"}, "timelineItems": {"totalCount": 14, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdGOphIAH2gAyNDgwNzcxNDQ4OjQ5ZGU2N2ZmMjk2ZjJmYjY5YTMzM2E2MTViODJkNmQwOGFkOGRkY2M=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdMZfvEgFqTQ5NjYyNTM1Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "49de67ff296f2fb69a333a615b82d6d08ad8ddcc", "author": {"user": {"login": "aswinijena100", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/49de67ff296f2fb69a333a615b82d6d08ad8ddcc", "committedDate": "2020-09-06T13:44:48Z", "message": "Enroll Mgmt Service - Externalized configuration\n\nEnroll Mgmt Service - Externalized configuration"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "59e74c1080f7b7f35d3b807c2885bb755b9e6c9b", "author": {"user": {"login": "aswinijena100", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/59e74c1080f7b7f35d3b807c2885bb755b9e6c9b", "committedDate": "2020-09-08T11:09:34Z", "message": "changed the data source url\n\nchanged the data source url"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg2ODEzMzQ3", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/891#pullrequestreview-486813347", "createdAt": "2020-09-11T13:37:55Z", "commit": {"oid": "59e74c1080f7b7f35d3b807c2885bb755b9e6c9b"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMVQxMzozNzo1NVrOHQfMPw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMVQxMzo0MDowMFrOHQfRIA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzA1MDMwMw==", "bodyText": "change to update for now", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/891#discussion_r487050303", "createdAt": "2020-09-11T13:37:55Z", "author": {"login": "zohrehj"}, "path": "user-registration-server-ws/enroll-mgmt-module/enroll-mgmt/src/main/resources/application.properties", "diffHunk": "@@ -1,16 +1,24 @@\n+#spring configurations\n+spring.profiles.active=@spring.profiles.active@\n+spring.main.allow-bean-definition-overriding=true\n+\n logging.level.root=INFO\n logging.level.com.google.cloud.healthcare.fdamystudies=ERROR\n \n # log configuration\n-logging.path=/tmp/var/log\n-logging.file=${logging.path}/enrollment-token-management-server.log\n+logging.path=${LOG_PATH}\n+logging.file=${logging.path}/enroll_mgmt_service.log\n logging.file.max-size= 1024KB\n \n #dev\n-email.code.expire_time = 15\n spring.datasource.url=jdbc:mysql://127.0.0.1:3306/${DB_NAME}?createDatabaseIfNotExist=true&autoReconnect=true&characterEncoding=utf8&useSSL=false&allowPublicKeyRetrieval=true\n spring.datasource.username=${DB_USER}\n spring.datasource.password=${DB_PASS}\n+spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n+# JPA \n+spring.jpa.database-platform=org.hibernate.dialect.MySQL5InnoDBDialect\n+spring.jpa.show-sql=false\n+spring.jpa.hibernate.ddl-auto=none", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "59e74c1080f7b7f35d3b807c2885bb755b9e6c9b"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzA1MTU1Mg==", "bodyText": "nit: can this be renamed to: response.server.url.participant.add to match the next url?", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/891#discussion_r487051552", "createdAt": "2020-09-11T13:40:00Z", "author": {"login": "zohrehj"}, "path": "user-registration-server-ws/enroll-mgmt-module/enroll-mgmt/src/main/resources/application.properties", "diffHunk": "@@ -20,39 +28,24 @@ spring.datasource.hikari.minimum-idle=10\n spring.datasource.hikari.maximum-pool-size=100\n spring.datasource.hikari.connectionTimeout=30000\n spring.datasource.hikari.maxLifetime=1800000\n-spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n-spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5InnoDBDialect\n-\n-# JPA \n-spring.jpa.show-sql=true\n-spring.jpa.hibernate.ddl-auto=update\n-spring.jpa.hibernate.naming.strategy=org.hibernate.cfg.ImprovedNamingStrategy\n-\n \n # EMBEDDED SERVER CONFIGURATION\n server.servlet.context-path=/myStudiesEnrollmentMgmt\n-\n #local to run\n server.port=8091\n \n # HTTP encoding\n spring.http.encoding.charset=UTF-8\n-\n spring.jmx.enabled = false\n \n-security.oauth2.client.client-id= oauth-scim-client-id\n-security.oauth2.client.client-secret= oauth-scim-client-secret\n-security.oauth2.introspection_endpoint=http://localhost:8002/oauth-scim-service/oauth2/introspect\n-\n-commonservice.auditlogevent.enabled=true\n-commonservice.email.enabled = false\n+security.oauth2.client.client-id=${CLIENT_ID}\n+security.oauth2.client.client-secret=${SECRET_KEY}\n+security.oauth2.introspection_endpoint=${HYDRA_ADMIN_URL}/oauth2/introspect\n \n #Response Server URLs\n-response.server.url.addParticipantId= http://${RESPONSE_SERVER_URL}/mystudies-response-server/participant/add\n-response.server.url.participant.withdraw= http://${RESPONSE_SERVER_URL}/mystudies-response-server/participant/withdraw\n-\n-spring.main.allow-bean-definition-overriding=true\n-\n-\n-\n+response.server.url.addParticipantId=${RESPONSE_SERVER_URL}/participant/add", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "59e74c1080f7b7f35d3b807c2885bb755b9e6c9b"}, "originalPosition": 70}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "553a353150de446e8e038b3aef1e629ce019ae2f", "author": {"user": {"login": "aswinijena100", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/553a353150de446e8e038b3aef1e629ce019ae2f", "committedDate": "2020-09-15T04:10:02Z", "message": "review comment fixes\n\nreview comment fixes"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg4NzUxOTcz", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/891#pullrequestreview-488751973", "createdAt": "2020-09-15T14:35:20Z", "commit": {"oid": "553a353150de446e8e038b3aef1e629ce019ae2f"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQxNDozNToyMVrOHSFCAA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQxNDozNToyMVrOHSFCAA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODcxODg0OA==", "bodyText": "this line needs to be replaced as well, and the code should be updated to work with the new name", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/891#discussion_r488718848", "createdAt": "2020-09-15T14:35:21Z", "author": {"login": "zohrehj"}, "path": "user-registration-server-ws/enroll-mgmt-module/enroll-mgmt/src/test/resources/application-mockit.properties", "diffHunk": "@@ -1,44 +1,38 @@\n-#dev\n-email.code.expire_time=15\n+# log configuration\n+logging.path=./log\n+\n+spring.datasource.driver-class-name=org.h2.Driver\n+spring.datasource.url=jdbc:h2:mem:testdb\n+spring.datasource.username=sa\n+spring.datasource.password=sa\n \n # JPA \n spring.jpa.show-sql=true\n spring.jpa.hibernate.ddl-auto=create-drop\n spring.jpa.database-platform=org.hibernate.dialect.H2Dialect\n spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.H2Dialect\n spring.jpa.properties.hibernate.connection.release_mode=after_transaction\n-spring.datasource.driver-class-name=org.h2.Driver\n-spring.datasource.url=jdbc:h2:mem:testdb\n-spring.datasource.username=sa\n-spring.datasource.password=sa\n-spring.jpa.hibernate.naming.strategy=org.hibernate.cfg.ImprovedNamingStrategy\n-\n \n spring.jpa.properties.hibernate.show_sql=true\n spring.jpa.properties.hibernate.format_sql=false\n spring.jpa.properties.hibernate.jdbc.batch_size=10\n spring.jpa.properties.hibernate.id.new_generator_mappings=false\n spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true\n \n-\n # EMBEDDED SERVER CONFIGURATION\n server.servlet.contextPath=/myStudiesEnrollmentMgmt\n-\n #local to run\n server.port=8091\n \n # HTTP encoding\n spring.http.encoding.charset=UTF-8\n-\n spring.jmx.enabled=false\n \n-\n #Response Server URLs\n response.server.url=http://localhost:8080/mystudies-response-server\n response.server.url.addParticipantId=http://localhost:8080/mystudies-response-server/participant/add", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "553a353150de446e8e038b3aef1e629ce019ae2f"}, "originalPosition": 45}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "745b2686016d67fb6715882a67273185ee89b3c1", "author": {"user": {"login": "aswinijena100", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/745b2686016d67fb6715882a67273185ee89b3c1", "committedDate": "2020-09-16T07:28:39Z", "message": "Review comment issue fixes on 16/09/2020\n\nReview comment issue fixes on 16/09/2020"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7c5fd9024258009b910014ecc6b02e4ae62a9ef2", "author": {"user": {"login": "aswinijena100", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/7c5fd9024258009b910014ecc6b02e4ae62a9ef2", "committedDate": "2020-09-18T12:01:26Z", "message": "Added reference url for DB properties\n\nAdded reference url for DB properties"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkxNTI1Mjk3", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/891#pullrequestreview-491525297", "createdAt": "2020-09-18T14:36:54Z", "commit": {"oid": "7c5fd9024258009b910014ecc6b02e4ae62a9ef2"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "483e3111e135c6be4aa576b3e4f3c300847ada01", "author": {"user": {"login": "madhurya-btc", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/483e3111e135c6be4aa576b3e4f3c300847ada01", "committedDate": "2020-09-25T17:16:31Z", "message": "Merge branch 'develop' into enroll-mgmt-externalize-configuration"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1bdc9f95624ba4f329446113c18ca174bd9fd0f1", "author": {"user": {"login": "madhurya-btc", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/1bdc9f95624ba4f329446113c18ca174bd9fd0f1", "committedDate": "2020-09-25T17:21:16Z", "message": "organized imports"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fce96bbfcec88fc9630ec88ead332aa43618cfcb", "author": {"user": {"login": "madhurya-btc", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/fce96bbfcec88fc9630ec88ead332aa43618cfcb", "committedDate": "2020-09-25T17:25:55Z", "message": "Merge branch 'enroll-mgmt-externalize-configuration' of https://github.com/GoogleCloudPlatform/fda-mystudies into enroll-mgmt-externalize-configuration\n\n# Conflicts:\n#\tuser-registration-server-ws/enroll-mgmt-module/enroll-mgmt/src/main/java/com/google/cloud/healthcare/fdamystudies/service/StudyStateServiceImpl.java\n#\tuser-registration-server-ws/enroll-mgmt-module/enroll-mgmt/src/test/java/com/google/cloud/healthcare/fdamystudies/controller/tests/EnrollmentTokenControllerTest.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "50866ad02f34673271238af5dd705980b57eb5ab", "author": {"user": {"login": "madhurya-btc", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/50866ad02f34673271238af5dd705980b57eb5ab", "committedDate": "2020-09-25T17:26:17Z", "message": "Merge branch 'develop' into enroll-mgmt-externalize-configuration"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4930fc1ef0ad3b2cdb244ede440df7f117e57c49", "author": {"user": {"login": "madhurya-btc", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/4930fc1ef0ad3b2cdb244ede440df7f117e57c49", "committedDate": "2020-09-25T17:40:25Z", "message": "Merge branch 'develop' into enroll-mgmt-externalize-configuration"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk2NjI1MzUy", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/891#pullrequestreview-496625352", "createdAt": "2020-09-25T17:46:37Z", "commit": {"oid": "4930fc1ef0ad3b2cdb244ede440df7f117e57c49"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 447, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}