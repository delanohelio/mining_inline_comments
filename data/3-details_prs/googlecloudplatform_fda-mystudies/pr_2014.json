{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTIwNTEwMDE0", "number": 2014, "title": "Fixed issue #1172 Potential XSS issues in JSP pages ", "bodyText": "Fixed issue #1172 Potential XSS issues in JSP pages\n\n\nCode format + organize import\n\n\nReplaced all .html with .text except:\n\n\n\ntext editor\noverViewPage.jsp (4 matches) (Created issue  #2013)\nconsentReviewAndEConsentPage.jsp (2 matches) (Created issue  #2013)", "createdAt": "2020-11-13T11:00:28Z", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/2014", "merged": true, "mergeCommit": {"oid": "b5f9916320e501f3ec26e89a756ea3c79d73d514"}, "closed": true, "closedAt": "2020-11-22T12:36:41Z", "author": {"login": "harisboston"}, "timelineItems": {"totalCount": 22, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdcEoRDgH2gAyNTIwNTEwMDE0OjhlYjZjNzA4Yjg1M2YzMzkxYmUzM2EwZTFmNTFlYmIwZDg1Y2I5YzE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABde_yKBAH2gAyNTIwNTEwMDE0OjEzMjBmYWMzYjIxMDY1MWZmOGFiYTBjNTAzOTZkZWZjNGE0ZDgyNmE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "8eb6c708b853f3391be33a0e1f51ebb0d85cb9c1", "author": {"user": {"login": "harisboston", "name": "Haris Hasan"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/8eb6c708b853f3391be33a0e1f51ebb0d85cb9c1", "committedDate": "2020-11-13T10:30:43Z", "message": "Fixed issue Potential XSS issues in JSP pages #1172\n\nFixed issue Potential XSS issues in JSP pages #1172"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "74f2d192aa5bfdaca91ffb54bd67d5b475cd3024", "author": {"user": {"login": "harisboston", "name": "Haris Hasan"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/74f2d192aa5bfdaca91ffb54bd67d5b475cd3024", "committedDate": "2020-11-13T13:08:10Z", "message": "fixed user details section\n\nfixed user details section"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2b0c714f62ebe42616f1202eb5abef4bd12ad31e", "author": {"user": {"login": "harisboston", "name": "Haris Hasan"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/2b0c714f62ebe42616f1202eb5abef4bd12ad31e", "committedDate": "2020-11-13T15:31:10Z", "message": "Merge branch 'develop' into study-builder-xxs-security-issue-1172"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMwMDIwNzYy", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/2014#pullrequestreview-530020762", "createdAt": "2020-11-13T12:27:50Z", "commit": {"oid": "8eb6c708b853f3391be33a0e1f51ebb0d85cb9c1"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xM1QxMjoyNzo1MVrOHysdXQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xM1QxMjoyNzo1MVrOHysdXQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjkxOTI2MQ==", "bodyText": "Please test this page in QA env. Please append the elements first and then set the text if it's not working. This comment applies to other pages as well.", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/2014#discussion_r522919261", "createdAt": "2020-11-13T12:27:51Z", "author": {"login": "dhanyak-btc"}, "path": "study-builder/fdahpStudyDesigner/src/main/webapp/WEB-INF/view/study/addOrEditStudyNotification.jsp", "diffHunk": "@@ -463,10 +463,10 @@\n       dt.setHours(thisDate.getHours());\n       dt.setMinutes(thisDate.getMinutes());\n       $('.timepicker').parent().removeClass('has-error has-danger').find(\n-          '.help-block.with-errors').html('');\n+          '.help-block.with-errors').text('');\n       if (dt < serverDateTime()) {\n         $('.timepicker').parent().addClass('has-error has-danger').find(\n-            '.help-block.with-errors').html(\n+            '.help-block.with-errors').text(\n             '<ul class=\"list-unstyled\"><li>Please select a time that has not already passed for the current date.</li></ul>');", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8eb6c708b853f3391be33a0e1f51ebb0d85cb9c1"}, "originalPosition": 19}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bb215c1bc2a545229ea2e6b9eb7dfaf730d5dafd", "author": {"user": {"login": "harisboston", "name": "Haris Hasan"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/bb215c1bc2a545229ea2e6b9eb7dfaf730d5dafd", "committedDate": "2020-11-13T16:40:21Z", "message": "Merge branch 'develop' into study-builder-xxs-security-issue-1172"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMwNjE4MjA1", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/2014#pullrequestreview-530618205", "createdAt": "2020-11-14T23:14:04Z", "commit": {"oid": "bb215c1bc2a545229ea2e6b9eb7dfaf730d5dafd"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNFQyMzoxNDowNFrOHzOXCw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNFQyMzoxNDo0M1rOHzOXTg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzQ3NDY5OQ==", "bodyText": "this does not look right, html tags should not be included in .text", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/2014#discussion_r523474699", "createdAt": "2020-11-14T23:14:04Z", "author": {"login": "zohrehj"}, "path": "study-builder/fdahpStudyDesigner/src/main/webapp/WEB-INF/templates/menu.jsp", "diffHunk": "@@ -20,7 +20,7 @@\n       success: function test(data) {\n         var count = data.count;\n         if (parseInt(count) > 0) {\n-          $(\"#notifSpanId\").html(\n+          $(\"#notifSpanId\").text(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bb215c1bc2a545229ea2e6b9eb7dfaf730d5dafd"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzQ3NDc2Ng==", "bodyText": "same here. You need to append the necessary tags first and then update the text inside the li element", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/2014#discussion_r523474766", "createdAt": "2020-11-14T23:14:43Z", "author": {"login": "zohrehj"}, "path": "study-builder/fdahpStudyDesigner/src/main/webapp/WEB-INF/view/loginPage.jsp", "diffHunk": "@@ -293,14 +293,14 @@\n             isEmail = regEX.test(emailAdd);\n             if (emailAdd == '') {\n               if (isIE || isEdge) {\n-                $('#email').parent().find(\".help-block\").html(\n+                $('#email').parent().find(\".help-block\").text(\n                     \"<ul class='list-unstyled'><li>This is a required field</li></ul>\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bb215c1bc2a545229ea2e6b9eb7dfaf730d5dafd"}, "originalPosition": 23}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bf3e824533d9de43a708d387f95b972b4aa48c92", "author": {"user": {"login": "harisboston", "name": "Haris Hasan"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/bf3e824533d9de43a708d387f95b972b4aa48c92", "committedDate": "2020-11-15T05:33:04Z", "message": "Fixed issue #1172 Potential XSS issues in JSP pages\n\nFixed issue #1172 Potential XSS issues in JSP pages"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d8279d81dd5370526ad3d19f6a4b91f14218e473", "author": {"user": {"login": "harisboston", "name": "Haris Hasan"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/d8279d81dd5370526ad3d19f6a4b91f14218e473", "committedDate": "2020-11-15T18:46:51Z", "message": "Fixed review comment Potential XSS issues in JSP pages #2014\n\nFixed review comment Potential XSS issues in JSP pages #2014"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a99c5657fd873eae4fe947b227f038969cd27cec", "author": {"user": {"login": "harisboston", "name": "Haris Hasan"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/a99c5657fd873eae4fe947b227f038969cd27cec", "committedDate": "2020-11-15T19:06:54Z", "message": "updated menu.jsp\n\nupdated menu.jsp"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a96ccf7547170383080859897b3304d67f476bdb", "author": {"user": {"login": "harisboston", "name": "Haris Hasan"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/a96ccf7547170383080859897b3304d67f476bdb", "committedDate": "2020-11-15T19:10:56Z", "message": "Merge branch 'develop' into study-builder-xxs-security-issue-1172"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c0b88c0d9faeb363b4be57e67aaef9b7d5347444", "author": {"user": {"login": "harisboston", "name": "Haris Hasan"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/c0b88c0d9faeb363b4be57e67aaef9b7d5347444", "committedDate": "2020-11-16T03:33:41Z", "message": "Merge branch 'develop' into study-builder-xxs-security-issue-1172"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMxNDExODQ1", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/2014#pullrequestreview-531411845", "createdAt": "2020-11-16T15:10:59Z", "commit": {"oid": "c0b88c0d9faeb363b4be57e67aaef9b7d5347444"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQxNToxMDo1OVrOH0DI4w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQxNToxNzozOVrOH0Dbzw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDMzOTQyNw==", "bodyText": "font html tag seems to be broken, please fix", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/2014#discussion_r524339427", "createdAt": "2020-11-16T15:10:59Z", "author": {"login": "zohrehj"}, "path": "study-builder/fdahpStudyDesigner/src/main/webapp/WEB-INF/templates/menu.jsp", "diffHunk": "@@ -20,8 +20,8 @@\n       success: function test(data) {\n         var count = data.count;\n         if (parseInt(count) > 0) {\n-          $(\"#notifSpanId\").html(\n-              'NOTIFICATIONS <B><font color=\"#42963b\">(' + data.count + ')</font></B>');\n+          $(\"#notifSpanId\").append(\"NOTIFICATIONS \").append($(\"<B> </B>\").append(\n+                  $(\"<font </font>\").attr(\"color\",\"#42963b\").text(\"(\" + data.count + \")\")));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c0b88c0d9faeb363b4be57e67aaef9b7d5347444"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDM0NDI3MQ==", "bodyText": "please add json value with .text", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/2014#discussion_r524344271", "createdAt": "2020-11-16T15:17:39Z", "author": {"login": "zohrehj"}, "path": "study-builder/fdahpStudyDesigner/src/main/webapp/WEB-INF/view/study/questionStep.jsp", "diffHunk": "@@ -4557,15 +4557,15 @@\n                 var message = data.message;\n                 var formulaResponseJsonObject = data.formulaResponseJsonObject;\n                 if (message == \"SUCCESS\") {\n-                  $('#lhsValueId').html(\"<b>\" + formulaResponseJsonObject.lhsData + \"</b>\");\n-                  $('#rhsValueId').html(\"<b>\" + formulaResponseJsonObject.rhsData + \"</b>\");\n+                  $('#lhsValueId').append(\"<b>\" + formulaResponseJsonObject.lhsData + \"</b>\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c0b88c0d9faeb363b4be57e67aaef9b7d5347444"}, "originalPosition": 59}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9609116c8e5e87f34abed87af5b4859b539ffaae", "author": {"user": {"login": "harisboston", "name": "Haris Hasan"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/9609116c8e5e87f34abed87af5b4859b539ffaae", "committedDate": "2020-11-17T07:15:20Z", "message": "Fixed review comment of issue  Fixed issue #1172 Potential XSS issues in JSP pages #2014\n\nFixed review comment of issue  Fixed issue #1172 Potential XSS issues in JSP pages #2014"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "01030227b6eaf139dce0965ee1fda40af0315da6", "author": {"user": {"login": "harisboston", "name": "Haris Hasan"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/01030227b6eaf139dce0965ee1fda40af0315da6", "committedDate": "2020-11-17T13:50:40Z", "message": "Merge branch 'develop' into study-builder-xxs-security-issue-1172"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMyNDM0Nzcy", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/2014#pullrequestreview-532434772", "createdAt": "2020-11-17T14:45:29Z", "commit": {"oid": "01030227b6eaf139dce0965ee1fda40af0315da6"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xN1QxNDo0NToyOVrOH04PMQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xN1QxNDo0Njo1M1rOH04Tuw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTIwOTM5Mw==", "bodyText": ".html(\"\") is the equivalent of .empty()", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/2014#discussion_r525209393", "createdAt": "2020-11-17T14:45:29Z", "author": {"login": "zohrehj"}, "path": "study-builder/fdahpStudyDesigner/src/main/webapp/WEB-INF/view/study/questionPage.jsp", "diffHunk": "@@ -2465,7 +2465,7 @@\n         $('.useAnchorDateName').hide();\n         $(\"#anchorTextId\").attr('required', false);\n         $(\"#anchorTextId\").parent().removeClass(\"has-danger\").removeClass(\"has-error\");\n-        $(\"#anchorTextId\").parent().find(\".help-block\").html(\"\");\n+        $(\"#anchorTextId\").parent().find(\".help-block\").text(\"\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "01030227b6eaf139dce0965ee1fda40af0315da6"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTIxMDU1NQ==", "bodyText": "this is again setting html tags within text; please review your PR and fix them all before assigning back.", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/2014#discussion_r525210555", "createdAt": "2020-11-17T14:46:53Z", "author": {"login": "zohrehj"}, "path": "study-builder/fdahpStudyDesigner/src/main/webapp/WEB-INF/view/study/questionnaire.jsp", "diffHunk": "@@ -4171,16 +4172,16 @@\n             $(this).data(\"DateTimePicker\").date(serverDateTime());\n             dt = dateRef.val();\n             $(this).parent().addClass('has-error has-danger');\n-            $(this).parent().find(\".help-block\").html(\n+            $(this).parent().find(\".help-block\").text(\n                 '<ul class=\"list-unstyled\"><li>Date reset to current date. </li></ul>');", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "01030227b6eaf139dce0965ee1fda40af0315da6"}, "originalPosition": 200}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "386fe30d79fbd0e7e6410fca658a2c338029efea", "author": {"user": {"login": "harisboston", "name": "Haris Hasan"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/386fe30d79fbd0e7e6410fca658a2c338029efea", "committedDate": "2020-11-19T17:14:26Z", "message": "Fixed pr comments of Potential XSS issues in JSP pages #1172\n\nFixed pr comments of Potential XSS issues in JSP pages #1172"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bb6d1f6b66e6025152e74769036a5c681fc16b59", "author": {"user": {"login": "harisboston", "name": "Haris Hasan"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/bb6d1f6b66e6025152e74769036a5c681fc16b59", "committedDate": "2020-11-20T04:31:32Z", "message": "Merge branch 'develop' into study-builder-xxs-security-issue-1172"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a7bf9857342da8c4b187f0f85ddb4b76bb6fcbb7", "author": {"user": {"login": "harisboston", "name": "Haris Hasan"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/a7bf9857342da8c4b187f0f85ddb4b76bb6fcbb7", "committedDate": "2020-11-20T06:01:02Z", "message": "Fixed build issue\n\nFixed build issue"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e5c8f5c0444fb18629ac1dc8501a170d69f83405", "author": {"user": {"login": "harisboston", "name": "Haris Hasan"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/e5c8f5c0444fb18629ac1dc8501a170d69f83405", "committedDate": "2020-11-20T06:07:57Z", "message": "Merge branch 'develop' into study-builder-xxs-security-issue-1172"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4ced05c27a37846a465b180ad0e9c2c100bdb394", "author": {"user": {"login": "harisboston", "name": "Haris Hasan"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/4ced05c27a37846a465b180ad0e9c2c100bdb394", "committedDate": "2020-11-20T12:03:29Z", "message": "Fixed issue xss - review and sanitize .after calls #2097\n\nFixed issue xss - review and sanitize .after calls #2097"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM2MDI3NDIx", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/2014#pullrequestreview-536027421", "createdAt": "2020-11-22T04:03:08Z", "commit": {"oid": "4ced05c27a37846a465b180ad0e9c2c100bdb394"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1320fac3b210651ff8aba0c50396defc4a4d826a", "author": {"user": {"login": "harisboston", "name": "Haris Hasan"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/1320fac3b210651ff8aba0c50396defc4a4d826a", "committedDate": "2020-11-22T12:33:46Z", "message": "Merge branch 'develop' into study-builder-xxs-security-issue-1172"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1189, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}