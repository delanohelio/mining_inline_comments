{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA4OTk4Njg2", "number": 1641, "title": "[Study Datastore] SQL injection issue fix ", "bodyText": "[Study Datastore] SQL injection issue  fix #1177", "createdAt": "2020-10-23T14:19:50Z", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1641", "merged": true, "mergeCommit": {"oid": "b2c851a4c16aacc1e9f1c23775814993d4fe59ad"}, "closed": true, "closedAt": "2020-10-30T06:03:59Z", "author": {"login": "vasantbtc"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdVBdAdAH2gAyNTA4OTk4Njg2OjY5ZTU4NGE0OGYwYjJhM2UzY2YzOWI0M2I4NzQ3ZDgwOWJkYWM1OWU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdXgZxGAH2gAyNTA4OTk4Njg2Ojk1MGZlOGQ1NGY2ZTNjMTY1NzQxZjk4YTI3YzU1OTZlYzMzYjdhNmE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "69e584a48f0b2a3e3cf39b43b8747d809bdac59e", "author": {"user": {"login": "vasantbtc", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/69e584a48f0b2a3e3cf39b43b8747d809bdac59e", "committedDate": "2020-10-22T12:51:14Z", "message": "SQL queries changes for Study Metadata for sql injection"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "538cccbe0862e1bf5e7b43c286dbd14150a2dae2", "author": {"user": {"login": "vasantbtc", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/538cccbe0862e1bf5e7b43c286dbd14150a2dae2", "committedDate": "2020-10-22T12:51:41Z", "message": "Merge branch 'develop' into studybuilder_sql_issues_vasanth"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fc5b59ac3a77de4f09dbbc28f6cb654eed4d9f4d", "author": {"user": {"login": "vasantbtc", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/fc5b59ac3a77de4f09dbbc28f6cb654eed4d9f4d", "committedDate": "2020-10-23T14:15:27Z", "message": "Changed the queries for SQL injection handling"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1d29a46920dfc1f7d9625732be32513571763ca1", "author": {"user": {"login": "vasantbtc", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/1d29a46920dfc1f7d9625732be32513571763ca1", "committedDate": "2020-10-23T14:16:07Z", "message": "Merge branch 'develop' into studybuilder_sql_issues_vasanth"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE1NzE5OTM3", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1641#pullrequestreview-515719937", "createdAt": "2020-10-23T14:28:19Z", "commit": {"oid": "1d29a46920dfc1f7d9625732be32513571763ca1"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QxNDoyODoxOVrOHnQSOw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QxNDo0MDowMFrOHnQxnA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDkyMzMyMw==", "bodyText": "please remove all commented out code", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1641#discussion_r510923323", "createdAt": "2020-10-23T14:28:19Z", "author": {"login": "zohrehj"}, "path": "study-datastore/src/main/java/com/hphc/mystudies/dao/ActivityMetaDataDao.java", "diffHunk": "@@ -493,9 +493,10 @@ public ActiveTaskActivityStructureBean activeTaskMetadata(\n                 session\n                     .createQuery(\n                         \" from ActiveTaskMasterAttributeDto ATMADTO\"\n-                            + \" where ATMADTO.masterId in (\"\n-                            + StringUtils.join(taskMasterAttrIdList, \",\")\n+                            + \" where ATMADTO.masterId in (:taskMasterAttrIdList\"\n+                            // + StringUtils.join(taskMasterAttrIdList, \",\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1d29a46920dfc1f7d9625732be32513571763ca1"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDkzMTM1Ng==", "bodyText": "since you have moved them to the same line, you can remove the + and turn into a single string", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1641#discussion_r510931356", "createdAt": "2020-10-23T14:40:00Z", "author": {"login": "zohrehj"}, "path": "study-datastore/src/main/java/com/hphc/mystudies/dao/ActivityMetaDataDao.java", "diffHunk": "@@ -2006,10 +2008,8 @@ public ActivityFrequencyBean getFrequencyRunsDetailsForQuestionaires(\n           formQuestionsList =\n               session\n                   .createQuery(\n-                      \"from QuestionsDto QDTO\"\n-                          + \" where QDTO.id in (\"\n-                          + StringUtils.join(formQuestionIdsList, ',')\n-                          + \")\")\n+                      \"from QuestionsDto QDTO\" + \" where QDTO.id in (:formQuestionIdsList\" + \")\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1d29a46920dfc1f7d9625732be32513571763ca1"}, "originalPosition": 175}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "50063e13057aac399b2544a076f0dee8bc937f8b", "author": {"user": {"login": "vasantbtc", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/50063e13057aac399b2544a076f0dee8bc937f8b", "committedDate": "2020-10-29T05:42:39Z", "message": "Removed all commented code and removed plus symbol in between the string"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE5NjUyMTQ1", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1641#pullrequestreview-519652145", "createdAt": "2020-10-29T13:17:23Z", "commit": {"oid": "50063e13057aac399b2544a076f0dee8bc937f8b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "950fe8d54f6e3c165741f98a27c5596ec33b7a6a", "author": {"user": {"login": "aswinijena100", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/950fe8d54f6e3c165741f98a27c5596ec33b7a6a", "committedDate": "2020-10-30T06:02:36Z", "message": "Merge branch 'develop' into studybuilder_sql_issues_vasanth"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 179, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}