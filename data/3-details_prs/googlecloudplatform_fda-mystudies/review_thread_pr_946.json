{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg0ODU0MzU5", "number": 946, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQwNTo1NDowNVrOEjbqbg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQwNjoyOTozM1rOEjcPwQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA1NTg4ODQ2OnYy", "diffSide": "RIGHT", "path": "user-registration-server-ws/user-mgmt-module/user-mgmt/src/main/java/com/google/cloud/healthcare/fdamystudies/controller/UserProfileController.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQwNTo1NDowNVrOHRxwEQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xN1QxNDowMjowN1rOHTjxbA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODQwMjk2MQ==", "bodyText": "Can you rename this variable \"userProfileRespBean\"", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/946#discussion_r488402961", "createdAt": "2020-09-15T05:54:05Z", "author": {"login": "saminguyen"}, "path": "user-registration-server-ws/user-mgmt-module/user-mgmt/src/main/java/com/google/cloud/healthcare/fdamystudies/controller/UserProfileController.java", "diffHunk": "@@ -87,27 +86,24 @@ public String ping() {\n     auditRequest.setUserId(userId);\n \n     UserProfileRespBean userPrlofileRespBean = null;\n-    try {\n-      userPrlofileRespBean = userManagementProfService.getParticipantInfoDetails(userId, 0);\n-      if (userPrlofileRespBean != null) {\n-        userMgmntAuditHelper.logEvent(READ_OPERATION_SUCCEEDED_FOR_USER_PROFILE, auditRequest);\n \n-        userPrlofileRespBean.setMessage(\n-            MyStudiesUserRegUtil.ErrorCodes.SUCCESS.getValue().toLowerCase());\n+    userPrlofileRespBean = userManagementProfService.getParticipantInfoDetails(userId, 0);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "71707aa099fdc975b491048cf46541ad9de67d18"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDI3MTA4NA==", "bodyText": "changed to userProfileRespBean", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/946#discussion_r490271084", "createdAt": "2020-09-17T14:02:07Z", "author": {"login": "navya-BTC"}, "path": "user-registration-server-ws/user-mgmt-module/user-mgmt/src/main/java/com/google/cloud/healthcare/fdamystudies/controller/UserProfileController.java", "diffHunk": "@@ -87,27 +86,24 @@ public String ping() {\n     auditRequest.setUserId(userId);\n \n     UserProfileRespBean userPrlofileRespBean = null;\n-    try {\n-      userPrlofileRespBean = userManagementProfService.getParticipantInfoDetails(userId, 0);\n-      if (userPrlofileRespBean != null) {\n-        userMgmntAuditHelper.logEvent(READ_OPERATION_SUCCEEDED_FOR_USER_PROFILE, auditRequest);\n \n-        userPrlofileRespBean.setMessage(\n-            MyStudiesUserRegUtil.ErrorCodes.SUCCESS.getValue().toLowerCase());\n+    userPrlofileRespBean = userManagementProfService.getParticipantInfoDetails(userId, 0);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODQwMjk2MQ=="}, "originalCommit": {"oid": "71707aa099fdc975b491048cf46541ad9de67d18"}, "originalPosition": 19}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA1NTk3NjIyOnYy", "diffSide": "RIGHT", "path": "user-registration-server-ws/user-mgmt-module/user-mgmt/src/main/java/com/google/cloud/healthcare/fdamystudies/util/MyStudiesUserRegUtil.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQwNjoyNjo0MFrOHRyjHA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xN1QxNDowMjoyNlrOHTjyoA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODQxNjAyOA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                  logger.info(\"invalid emailId formate\");\n          \n          \n            \n                  logger.info(\"invalid emailId format\");", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/946#discussion_r488416028", "createdAt": "2020-09-15T06:26:40Z", "author": {"login": "saminguyen"}, "path": "user-registration-server-ws/user-mgmt-module/user-mgmt/src/main/java/com/google/cloud/healthcare/fdamystudies/util/MyStudiesUserRegUtil.java", "diffHunk": "@@ -266,18 +265,14 @@ public static String generateEmailContent(String emailContent, Map<String, Strin\n     return emailContent;\n   }\n \n-  public static boolean isValidEmailId(String emailId) throws SystemException {\n+  public static boolean isValidEmailId(String emailId) {\n     logger.info(\"isValidEmailId() called\");\n-    try {\n-      if (emailId != null) {\n-        return emailId.matches(\"([A-Za-z0-9-_.]+@[A-Za-z0-9-_]+(?:\\\\.[A-Za-z0-9]+)+)\");\n-      } else {\n-        logger.info(\"invalid emailId formate\");\n-        return false;\n-      }\n-    } catch (Exception e) {\n-      logger.error(\"System Exception Found\");\n-      throw new SystemException();\n+\n+    if (emailId != null) {\n+      return emailId.matches(\"([A-Za-z0-9-_.]+@[A-Za-z0-9-_]+(?:\\\\.[A-Za-z0-9]+)+)\");\n+    } else {\n+      logger.info(\"invalid emailId formate\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "71707aa099fdc975b491048cf46541ad9de67d18"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDI3MTM5Mg==", "bodyText": "changed to format", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/946#discussion_r490271392", "createdAt": "2020-09-17T14:02:26Z", "author": {"login": "navya-BTC"}, "path": "user-registration-server-ws/user-mgmt-module/user-mgmt/src/main/java/com/google/cloud/healthcare/fdamystudies/util/MyStudiesUserRegUtil.java", "diffHunk": "@@ -266,18 +265,14 @@ public static String generateEmailContent(String emailContent, Map<String, Strin\n     return emailContent;\n   }\n \n-  public static boolean isValidEmailId(String emailId) throws SystemException {\n+  public static boolean isValidEmailId(String emailId) {\n     logger.info(\"isValidEmailId() called\");\n-    try {\n-      if (emailId != null) {\n-        return emailId.matches(\"([A-Za-z0-9-_.]+@[A-Za-z0-9-_]+(?:\\\\.[A-Za-z0-9]+)+)\");\n-      } else {\n-        logger.info(\"invalid emailId formate\");\n-        return false;\n-      }\n-    } catch (Exception e) {\n-      logger.error(\"System Exception Found\");\n-      throw new SystemException();\n+\n+    if (emailId != null) {\n+      return emailId.matches(\"([A-Za-z0-9-_.]+@[A-Za-z0-9-_]+(?:\\\\.[A-Za-z0-9]+)+)\");\n+    } else {\n+      logger.info(\"invalid emailId formate\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODQxNjAyOA=="}, "originalCommit": {"oid": "71707aa099fdc975b491048cf46541ad9de67d18"}, "originalPosition": 29}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA1NTk3OTc2OnYy", "diffSide": "RIGHT", "path": "user-registration-server-ws/user-mgmt-module/user-mgmt/src/main/java/com/google/cloud/healthcare/fdamystudies/util/ResponseUtil.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQwNjoyNzo1OVrOHRylVA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xN1QxNDowMjo1NVrOHTj0cA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODQxNjU5Ng==", "bodyText": "Merge this method with the above method.", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/946#discussion_r488416596", "createdAt": "2020-09-15T06:27:59Z", "author": {"login": "saminguyen"}, "path": "user-registration-server-ws/user-mgmt-module/user-mgmt/src/main/java/com/google/cloud/healthcare/fdamystudies/util/ResponseUtil.java", "diffHunk": "@@ -32,7 +28,7 @@ public static ResponseBean prepareBadRequestResponse(\n \n   public static ResponseBean prepareBadRequestResponse(\n       HttpServletResponse response, Exception e, String... errorTypes) {\n-    String errorType = e != null ? mapExceptionToErrorType(e) : errorTypes[0];\n+    String errorType = errorTypes[0];", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "71707aa099fdc975b491048cf46541ad9de67d18"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDI3MTg1Ng==", "bodyText": "Fixed the comment", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/946#discussion_r490271856", "createdAt": "2020-09-17T14:02:55Z", "author": {"login": "navya-BTC"}, "path": "user-registration-server-ws/user-mgmt-module/user-mgmt/src/main/java/com/google/cloud/healthcare/fdamystudies/util/ResponseUtil.java", "diffHunk": "@@ -32,7 +28,7 @@ public static ResponseBean prepareBadRequestResponse(\n \n   public static ResponseBean prepareBadRequestResponse(\n       HttpServletResponse response, Exception e, String... errorTypes) {\n-    String errorType = e != null ? mapExceptionToErrorType(e) : errorTypes[0];\n+    String errorType = errorTypes[0];", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODQxNjU5Ng=="}, "originalCommit": {"oid": "71707aa099fdc975b491048cf46541ad9de67d18"}, "originalPosition": 16}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA1NTk4MjMzOnYy", "diffSide": "LEFT", "path": "user-registration-server-ws/user-mgmt-module/user-mgmt/src/test/java/com/google/cloud/healthcare/fdamystudies/controller/UserProfileControllerTest.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQwNjoyODo1N1rOHRym4g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xN1QxNDowNDowNFrOHTj4UQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODQxNjk5NA==", "bodyText": "Are these changes here out of scope?", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/946#discussion_r488416994", "createdAt": "2020-09-15T06:28:57Z", "author": {"login": "saminguyen"}, "path": "user-registration-server-ws/user-mgmt-module/user-mgmt/src/test/java/com/google/cloud/healthcare/fdamystudies/controller/UserProfileControllerTest.java", "diffHunk": "@@ -239,10 +239,10 @@ public void deactivateAccountSuccess() throws Exception {\n   }\n \n   @Test\n-  public void deactivateAccountBadRequest() throws Exception {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "71707aa099fdc975b491048cf46541ad9de67d18"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDI3Mjg0OQ==", "bodyText": "while fixing the issue, I found the testcase is failing I corrected the request and response and renamed it", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/946#discussion_r490272849", "createdAt": "2020-09-17T14:04:04Z", "author": {"login": "navya-BTC"}, "path": "user-registration-server-ws/user-mgmt-module/user-mgmt/src/test/java/com/google/cloud/healthcare/fdamystudies/controller/UserProfileControllerTest.java", "diffHunk": "@@ -239,10 +239,10 @@ public void deactivateAccountSuccess() throws Exception {\n   }\n \n   @Test\n-  public void deactivateAccountBadRequest() throws Exception {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODQxNjk5NA=="}, "originalCommit": {"oid": "71707aa099fdc975b491048cf46541ad9de67d18"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA1NTk4NDAxOnYy", "diffSide": "RIGHT", "path": "common-modules/common-tests/src/main/resources/mappings/oauth-scim-service/auth-server-update-status-bad-request.json", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQwNjoyOTozM1rOHRyn4A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xN1QxNDowNjowNVrOHTj-hQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODQxNzI0OA==", "bodyText": "out of scope. Also why is the User Not Found response in the auth-server-update-status-bad-request.json file?", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/946#discussion_r488417248", "createdAt": "2020-09-15T06:29:33Z", "author": {"login": "saminguyen"}, "path": "common-modules/common-tests/src/main/resources/mappings/oauth-scim-service/auth-server-update-status-bad-request.json", "diffHunk": "@@ -4,10 +4,10 @@\n \t\t\"url\": \"/oauth-scim-service/users/5bef76a5-8361-43a2-9634-c991e2eeecda\"\n \t},\n \t\"response\": {\n-\t\t\"status\": 400,\n+\t\t\"status\": 404,\n \t\t\"headers\": {\n \t\t\t\"Content-Type\": \"application/json;charset=UTF-8\"\n \t\t},\n-\t\t\"bodyFileName\": \"oauth-scim-service/auth-server-update-status-bad-response.json\"\n+\t\t\"bodyFileName\": \"oauth-scim-service/user-not-found-response.json\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "71707aa099fdc975b491048cf46541ad9de67d18"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDI3NDQzNw==", "bodyText": "changed the file name to user-not-found-request.", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/946#discussion_r490274437", "createdAt": "2020-09-17T14:06:05Z", "author": {"login": "navya-BTC"}, "path": "common-modules/common-tests/src/main/resources/mappings/oauth-scim-service/auth-server-update-status-bad-request.json", "diffHunk": "@@ -4,10 +4,10 @@\n \t\t\"url\": \"/oauth-scim-service/users/5bef76a5-8361-43a2-9634-c991e2eeecda\"\n \t},\n \t\"response\": {\n-\t\t\"status\": 400,\n+\t\t\"status\": 404,\n \t\t\"headers\": {\n \t\t\t\"Content-Type\": \"application/json;charset=UTF-8\"\n \t\t},\n-\t\t\"bodyFileName\": \"oauth-scim-service/auth-server-update-status-bad-response.json\"\n+\t\t\"bodyFileName\": \"oauth-scim-service/user-not-found-response.json\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODQxNzI0OA=="}, "originalCommit": {"oid": "71707aa099fdc975b491048cf46541ad9de67d18"}, "originalPosition": 10}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1999, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}