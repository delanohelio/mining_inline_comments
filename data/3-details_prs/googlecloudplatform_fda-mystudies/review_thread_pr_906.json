{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDgxNDY4OTg4", "number": 906, "reviewThreads": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOFQxNTozNzo0MFrOEhTiiw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOFQxNTo0NToxMlrOEhTutQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAzMzU4NjAzOnYy", "diffSide": "RIGHT", "path": "UR-web-app/src/app/shared/shared.service.ts", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOFQxNTozNzo0MFrOHOjDDQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOVQxMzo0MjozNVrOHPH9yg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTAxNjMzMw==", "bodyText": "Please rename this SearchService. Shared could mean anything.", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/906#discussion_r485016333", "createdAt": "2020-09-08T15:37:40Z", "author": {"login": "nikklassen"}, "path": "UR-web-app/src/app/shared/shared.service.ts", "diffHunk": "@@ -0,0 +1,18 @@\n+import {Injectable} from '@angular/core';\n+import {BehaviorSubject, Observable} from 'rxjs';\n+\n+@Injectable({\n+  providedIn: 'root',\n+})\n+export class SharedService {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a9a265b852bc7f344f348c090dae685ebc854453"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTYyMTE5NA==", "bodyText": "Updated.", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/906#discussion_r485621194", "createdAt": "2020-09-09T13:42:35Z", "author": {"login": "firdosebtc1"}, "path": "UR-web-app/src/app/shared/shared.service.ts", "diffHunk": "@@ -0,0 +1,18 @@\n+import {Injectable} from '@angular/core';\n+import {BehaviorSubject, Observable} from 'rxjs';\n+\n+@Injectable({\n+  providedIn: 'root',\n+})\n+export class SharedService {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTAxNjMzMw=="}, "originalCommit": {"oid": "a9a265b852bc7f344f348c090dae685ebc854453"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAzMzU4OTc1OnYy", "diffSide": "RIGHT", "path": "UR-web-app/src/app/shared/shared.service.ts", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOFQxNTozODozNlrOHOjFZw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOVQxMzo0MjozOFrOHPH98w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTAxNjkzNQ==", "bodyText": "this should be private", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/906#discussion_r485016935", "createdAt": "2020-09-08T15:38:36Z", "author": {"login": "nikklassen"}, "path": "UR-web-app/src/app/shared/shared.service.ts", "diffHunk": "@@ -0,0 +1,18 @@\n+import {Injectable} from '@angular/core';\n+import {BehaviorSubject, Observable} from 'rxjs';\n+\n+@Injectable({\n+  providedIn: 'root',\n+})\n+export class SharedService {\n+  searchPlaceHolder$ = new BehaviorSubject('');", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a9a265b852bc7f344f348c090dae685ebc854453"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTYyMTIzNQ==", "bodyText": "Updated.", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/906#discussion_r485621235", "createdAt": "2020-09-09T13:42:38Z", "author": {"login": "firdosebtc1"}, "path": "UR-web-app/src/app/shared/shared.service.ts", "diffHunk": "@@ -0,0 +1,18 @@\n+import {Injectable} from '@angular/core';\n+import {BehaviorSubject, Observable} from 'rxjs';\n+\n+@Injectable({\n+  providedIn: 'root',\n+})\n+export class SharedService {\n+  searchPlaceHolder$ = new BehaviorSubject('');", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTAxNjkzNQ=="}, "originalCommit": {"oid": "a9a265b852bc7f344f348c090dae685ebc854453"}, "originalPosition": 8}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAzMzU5MzAyOnYy", "diffSide": "RIGHT", "path": "UR-web-app/src/app/shared/shared.service.ts", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOFQxNTozOToyN1rOHOjHkA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOVQxMzo0Mjo0MVrOHPH-GQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTAxNzQ4OA==", "bodyText": "I would rename the behavior subject searchPlaceHolderSubject and this one searchPlaceHolder$.", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/906#discussion_r485017488", "createdAt": "2020-09-08T15:39:27Z", "author": {"login": "nikklassen"}, "path": "UR-web-app/src/app/shared/shared.service.ts", "diffHunk": "@@ -0,0 +1,18 @@\n+import {Injectable} from '@angular/core';\n+import {BehaviorSubject, Observable} from 'rxjs';\n+\n+@Injectable({\n+  providedIn: 'root',\n+})\n+export class SharedService {\n+  searchPlaceHolder$ = new BehaviorSubject('');\n+  updatedSearchPlaceHolder: Observable<string>;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a9a265b852bc7f344f348c090dae685ebc854453"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTYyMTI3Mw==", "bodyText": "Updated.", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/906#discussion_r485621273", "createdAt": "2020-09-09T13:42:41Z", "author": {"login": "firdosebtc1"}, "path": "UR-web-app/src/app/shared/shared.service.ts", "diffHunk": "@@ -0,0 +1,18 @@\n+import {Injectable} from '@angular/core';\n+import {BehaviorSubject, Observable} from 'rxjs';\n+\n+@Injectable({\n+  providedIn: 'root',\n+})\n+export class SharedService {\n+  searchPlaceHolder$ = new BehaviorSubject('');\n+  updatedSearchPlaceHolder: Observable<string>;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTAxNzQ4OA=="}, "originalCommit": {"oid": "a9a265b852bc7f344f348c090dae685ebc854453"}, "originalPosition": 9}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAzMzU5NjQ3OnYy", "diffSide": "RIGHT", "path": "UR-web-app/src/app/site-coordinator/location/location-list/location-list.component.ts", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOFQxNTo0MDoxNFrOHOjJtQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOVQxMzo0Mjo0NFrOHPH-Ow==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTAxODAzNw==", "bodyText": "Prefer {...manageLocations} to Object.assign", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/906#discussion_r485018037", "createdAt": "2020-09-08T15:40:14Z", "author": {"login": "nikklassen"}, "path": "UR-web-app/src/app/site-coordinator/location/location-list/location-list.component.ts", "diffHunk": "@@ -31,14 +35,15 @@ export class LocationListComponent implements OnInit {\n       this.query$,\n     ).pipe(\n       map(([manageLocations, query]) => {\n-        manageLocations.locations = manageLocations.locations.filter(\n+        this.manageLocationBackup = Object.assign({}, manageLocations);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a9a265b852bc7f344f348c090dae685ebc854453"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTYyMTMwNw==", "bodyText": "Updated.", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/906#discussion_r485621307", "createdAt": "2020-09-09T13:42:44Z", "author": {"login": "firdosebtc1"}, "path": "UR-web-app/src/app/site-coordinator/location/location-list/location-list.component.ts", "diffHunk": "@@ -31,14 +35,15 @@ export class LocationListComponent implements OnInit {\n       this.query$,\n     ).pipe(\n       map(([manageLocations, query]) => {\n-        manageLocations.locations = manageLocations.locations.filter(\n+        this.manageLocationBackup = Object.assign({}, manageLocations);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTAxODAzNw=="}, "originalCommit": {"oid": "a9a265b852bc7f344f348c090dae685ebc854453"}, "originalPosition": 30}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAzMzU5OTc1OnYy", "diffSide": "RIGHT", "path": "UR-web-app/src/app/site-coordinator/apps/app-list/app-list.component.ts", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOFQxNTo0MDo1OVrOHOjLwA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOVQxMzo0Mjo0N1rOHPH-XA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTAxODU2MA==", "bodyText": "location-list uses clone, but here you are just saving the reference. These should be consistent.", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/906#discussion_r485018560", "createdAt": "2020-09-08T15:40:59Z", "author": {"login": "nikklassen"}, "path": "UR-web-app/src/app/site-coordinator/apps/app-list/app-list.component.ts", "diffHunk": "@@ -35,12 +41,13 @@ export class AppListComponent implements OnInit {\n       this.query$,\n     ).pipe(\n       map(([manageApps, query]) => {\n-        manageApps.apps = manageApps.apps.filter(\n+        this.manageAppsBackup = manageApps;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a9a265b852bc7f344f348c090dae685ebc854453"}, "originalPosition": 36}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTYyMTM0MA==", "bodyText": "Updated.", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/906#discussion_r485621340", "createdAt": "2020-09-09T13:42:47Z", "author": {"login": "firdosebtc1"}, "path": "UR-web-app/src/app/site-coordinator/apps/app-list/app-list.component.ts", "diffHunk": "@@ -35,12 +41,13 @@ export class AppListComponent implements OnInit {\n       this.query$,\n     ).pipe(\n       map(([manageApps, query]) => {\n-        manageApps.apps = manageApps.apps.filter(\n+        this.manageAppsBackup = manageApps;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTAxODU2MA=="}, "originalCommit": {"oid": "a9a265b852bc7f344f348c090dae685ebc854453"}, "originalPosition": 36}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAzMzYwNTYzOnYy", "diffSide": "RIGHT", "path": "UR-web-app/src/app/site-coordinator/sitecoordinator.component.ts", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOFQxNTo0MjoyM1rOHOjPWg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOVQxMzo0Mjo1MVrOHPH-gw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTAxOTQ4Mg==", "bodyText": "Please rename this to searchBar: SearchBar so that people know what component you are referencing. You shouldn't use ! because an event could be triggered before it's populated. If would be better to check if it's defined in the event handler.", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/906#discussion_r485019482", "createdAt": "2020-09-08T15:42:23Z", "author": {"login": "nikklassen"}, "path": "UR-web-app/src/app/site-coordinator/sitecoordinator.component.ts", "diffHunk": "@@ -1,18 +1,36 @@\n-import {Component} from '@angular/core';\n+import {Component, OnInit} from '@angular/core';\n+import {SharedService} from '../shared/shared.service';\n+import {SearchBarGeneric} from '../shared/search-bar-generic';\n \n @Component({\n   selector: 'site-coordinator',\n   templateUrl: './sitecoordinator.component.html',\n   styleUrls: ['./sitecoordinator.component.scss'],\n })\n-export class SiteCoordinatorComponent {\n+export class SiteCoordinatorComponent implements OnInit {\n   searchPlaceholder = 'Search by Site or Study ID or Name';\n-  showSearchBar = true;\n+  showSearchBar = false;\n   filterQuery = '';\n+  componentRef!: SearchBarGeneric;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a9a265b852bc7f344f348c090dae685ebc854453"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTYyMTM3OQ==", "bodyText": "Updated.", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/906#discussion_r485621379", "createdAt": "2020-09-09T13:42:51Z", "author": {"login": "firdosebtc1"}, "path": "UR-web-app/src/app/site-coordinator/sitecoordinator.component.ts", "diffHunk": "@@ -1,18 +1,36 @@\n-import {Component} from '@angular/core';\n+import {Component, OnInit} from '@angular/core';\n+import {SharedService} from '../shared/shared.service';\n+import {SearchBarGeneric} from '../shared/search-bar-generic';\n \n @Component({\n   selector: 'site-coordinator',\n   templateUrl: './sitecoordinator.component.html',\n   styleUrls: ['./sitecoordinator.component.scss'],\n })\n-export class SiteCoordinatorComponent {\n+export class SiteCoordinatorComponent implements OnInit {\n   searchPlaceholder = 'Search by Site or Study ID or Name';\n-  showSearchBar = true;\n+  showSearchBar = false;\n   filterQuery = '';\n+  componentRef!: SearchBarGeneric;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTAxOTQ4Mg=="}, "originalCommit": {"oid": "a9a265b852bc7f344f348c090dae685ebc854453"}, "originalPosition": 17}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAzMzYxNzE3OnYy", "diffSide": "RIGHT", "path": "UR-web-app/src/app/shared/search-bar-generic.ts", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOFQxNTo0NToxMlrOHOjWew==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOVQxMzo0Mjo1NlrOHPH-vw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTAyMTMwNw==", "bodyText": "Don't include Generic in this interface name. Just SearchBar is fine. If you only have one type you may as well just use the type explicitly.", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/906#discussion_r485021307", "createdAt": "2020-09-08T15:45:12Z", "author": {"login": "nikklassen"}, "path": "UR-web-app/src/app/shared/search-bar-generic.ts", "diffHunk": "@@ -0,0 +1,3 @@\n+export interface SearchBarGeneric {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a9a265b852bc7f344f348c090dae685ebc854453"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTYyMTQzOQ==", "bodyText": "Updated.", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/906#discussion_r485621439", "createdAt": "2020-09-09T13:42:56Z", "author": {"login": "firdosebtc1"}, "path": "UR-web-app/src/app/shared/search-bar-generic.ts", "diffHunk": "@@ -0,0 +1,3 @@\n+export interface SearchBarGeneric {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTAyMTMwNw=="}, "originalCommit": {"oid": "a9a265b852bc7f344f348c090dae685ebc854453"}, "originalPosition": 1}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1970, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}