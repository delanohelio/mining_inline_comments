{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAzODU5NjA0", "number": 149, "reviewThreads": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQxNjo0MDo0NlrODyJ5SQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNlQxNDowODoxMlrODyhSFw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUzOTE3NTEzOnYy", "diffSide": "RIGHT", "path": "Terraform/org/folder.fda-my-studies/project.heroes-hat-dev-apps/apps/secrets.tf", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQxNjo0MDo0NlrOGGCUDg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQxNjo0OTozN1rOGGCqZg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODk4MjU0Mg==", "bodyText": "optional: might be easier to create a single secrets resource and use for_each\nthen your callers can do\ndata.google_secret_manager_secret_version.secrets[\"sql_password\"]\netc", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/149#discussion_r408982542", "createdAt": "2020-04-15T16:40:46Z", "author": {"login": "umairidris"}, "path": "Terraform/org/folder.fda-my-studies/project.heroes-hat-dev-apps/apps/secrets.tf", "diffHunk": "@@ -0,0 +1,112 @@\n+# Data sources from Secret Manager.\n+data \"google_secret_manager_secret_version\" \"sql_password\" {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9c361d49573fbd816b1a63a03ece14a57f10d512"}, "originalPosition": 2}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODk4NjE5Mw==", "bodyText": "How would that look like?", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/149#discussion_r408986193", "createdAt": "2020-04-15T16:46:26Z", "author": {"login": "MartinPetkov"}, "path": "Terraform/org/folder.fda-my-studies/project.heroes-hat-dev-apps/apps/secrets.tf", "diffHunk": "@@ -0,0 +1,112 @@\n+# Data sources from Secret Manager.\n+data \"google_secret_manager_secret_version\" \"sql_password\" {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODk4MjU0Mg=="}, "originalCommit": {"oid": "9c361d49573fbd816b1a63a03ece14a57f10d512"}, "originalPosition": 2}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODk4ODI2Mg==", "bodyText": "https://github.com/GoogleCloudPlatform/fda-mystudies/blob/terraform/Terraform/secrets/main.tf#L8", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/149#discussion_r408988262", "createdAt": "2020-04-15T16:49:37Z", "author": {"login": "umairidris"}, "path": "Terraform/org/folder.fda-my-studies/project.heroes-hat-dev-apps/apps/secrets.tf", "diffHunk": "@@ -0,0 +1,112 @@\n+# Data sources from Secret Manager.\n+data \"google_secret_manager_secret_version\" \"sql_password\" {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODk4MjU0Mg=="}, "originalCommit": {"oid": "9c361d49573fbd816b1a63a03ece14a57f10d512"}, "originalPosition": 2}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUzOTE3OTIwOnYy", "diffSide": "RIGHT", "path": "Terraform/org/folder.fda-my-studies/project.heroes-hat-dev-apps/apps/secrets.tf", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQxNjo0MTo1MlrOGGCW0A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQxNzoxNzo0NlrOGGDueg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODk4MzI0OA==", "bodyText": "Don't you need a kubernetes provider block? How does it know which gke server to upload the secret to?", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/149#discussion_r408983248", "createdAt": "2020-04-15T16:41:52Z", "author": {"login": "umairidris"}, "path": "Terraform/org/folder.fda-my-studies/project.heroes-hat-dev-apps/apps/secrets.tf", "diffHunk": "@@ -0,0 +1,112 @@\n+# Data sources from Secret Manager.\n+data \"google_secret_manager_secret_version\" \"sql_password\" {\n+  provider = google-beta\n+  project  = var.secrets_project_id\n+  secret   = \"my-studies-sql-default-user-password\"\n+}\n+\n+data \"google_secret_manager_secret_version\" \"registration_client_id\" {\n+  provider = google-beta\n+  project  = var.secrets_project_id\n+  secret   = \"my-studies-registration-client-id\"\n+}\n+\n+data \"google_secret_manager_secret_version\" \"registration_client_secret\" {\n+  provider = google-beta\n+  project  = var.secrets_project_id\n+  secret   = \"my-studies-registration-client-secret\"\n+}\n+\n+data \"google_secret_manager_secret_version\" \"wcp_user\" {\n+  provider = google-beta\n+  project  = var.secrets_project_id\n+  secret   = \"my-studies-wcp-user\"\n+}\n+\n+data \"google_secret_manager_secret_version\" \"wcp_pass\" {\n+  provider = google-beta\n+  project  = var.secrets_project_id\n+  secret   = \"my-studies-wcp-pass\"\n+}\n+\n+data \"google_secret_manager_secret_version\" \"email_address\" {\n+  provider = google-beta\n+  project  = var.secrets_project_id\n+  secret   = \"my-studies-email-address\"\n+}\n+\n+data \"google_secret_manager_secret_version\" \"email_password\" {\n+  provider = google-beta\n+  project  = var.secrets_project_id\n+  secret   = \"my-studies-email-password\"\n+}\n+\n+\n+# Secrets from Secret Manager.\n+resource \"kubernetes_secret\" \"cloudsql_db_credentials\" {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9c361d49573fbd816b1a63a03ece14a57f10d512"}, "originalPosition": 46}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTAwNTY5MA==", "bodyText": "You're right. I'm looking into that now.", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/149#discussion_r409005690", "createdAt": "2020-04-15T17:17:46Z", "author": {"login": "MartinPetkov"}, "path": "Terraform/org/folder.fda-my-studies/project.heroes-hat-dev-apps/apps/secrets.tf", "diffHunk": "@@ -0,0 +1,112 @@\n+# Data sources from Secret Manager.\n+data \"google_secret_manager_secret_version\" \"sql_password\" {\n+  provider = google-beta\n+  project  = var.secrets_project_id\n+  secret   = \"my-studies-sql-default-user-password\"\n+}\n+\n+data \"google_secret_manager_secret_version\" \"registration_client_id\" {\n+  provider = google-beta\n+  project  = var.secrets_project_id\n+  secret   = \"my-studies-registration-client-id\"\n+}\n+\n+data \"google_secret_manager_secret_version\" \"registration_client_secret\" {\n+  provider = google-beta\n+  project  = var.secrets_project_id\n+  secret   = \"my-studies-registration-client-secret\"\n+}\n+\n+data \"google_secret_manager_secret_version\" \"wcp_user\" {\n+  provider = google-beta\n+  project  = var.secrets_project_id\n+  secret   = \"my-studies-wcp-user\"\n+}\n+\n+data \"google_secret_manager_secret_version\" \"wcp_pass\" {\n+  provider = google-beta\n+  project  = var.secrets_project_id\n+  secret   = \"my-studies-wcp-pass\"\n+}\n+\n+data \"google_secret_manager_secret_version\" \"email_address\" {\n+  provider = google-beta\n+  project  = var.secrets_project_id\n+  secret   = \"my-studies-email-address\"\n+}\n+\n+data \"google_secret_manager_secret_version\" \"email_password\" {\n+  provider = google-beta\n+  project  = var.secrets_project_id\n+  secret   = \"my-studies-email-password\"\n+}\n+\n+\n+# Secrets from Secret Manager.\n+resource \"kubernetes_secret\" \"cloudsql_db_credentials\" {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODk4MzI0OA=="}, "originalCommit": {"oid": "9c361d49573fbd816b1a63a03ece14a57f10d512"}, "originalPosition": 46}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUzOTkxNTE0OnYy", "diffSide": "RIGHT", "path": "Terraform/org/folder.fda-my-studies/project.heroes-hat-dev-apps/kubernetes/terragrunt.hcl", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQyMDowNjo0NVrOGGJpdg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQyMDowNjo0NVrOGGJpdg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTEwMjcxMA==", "bodyText": "heroes_hat_cluster = {\nname = dependency.apps.outputs.gke_cluster.name\n...\n}", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/149#discussion_r409102710", "createdAt": "2020-04-15T20:06:45Z", "author": {"login": "umairidris"}, "path": "Terraform/org/folder.fda-my-studies/project.heroes-hat-dev-apps/kubernetes/terragrunt.hcl", "diffHunk": "@@ -0,0 +1,30 @@\n+include {\n+  path = find_in_parent_folders()\n+}\n+\n+dependency \"apps\" {\n+  config_path = \"../apps\"\n+\n+  mock_outputs = {\n+    gke_cluster = {\n+      name            = \"mock-name\"\n+      location        = \"mock-location\"\n+      service_account = \"mock-service-account\"\n+    }\n+  }\n+}\n+\n+dependency \"data\" {\n+  config_path = \"../../project.heroes-hat-dev-data/data/\"\n+\n+  mock_outputs = {\n+    instance_name = \"mock-db\"\n+    instance_user = \"mock-db-user\"\n+  }\n+}\n+\n+inputs = {\n+  sql_instance_name  = dependency.data.outputs.instance_name\n+  sql_instance_user  = dependency.data.outputs.instance_user\n+  heroes_hat_cluster = dependency.apps.outputs.gke_cluster", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6bd052980121e6822f08c1fb09e2d06cbb9b5e9d"}, "originalPosition": 29}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU0Mjk2MTc3OnYy", "diffSide": "RIGHT", "path": "Terraform/org/folder.fda-my-studies/project.heroes-hat-dev-apps/kubernetes/secrets.tf", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNlQxMzo1ODo1M1rOGGmrTA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNlQxMzo1ODo1M1rOGGmrTA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTU3ODMxNg==", "bodyText": "extra line", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/149#discussion_r409578316", "createdAt": "2020-04-16T13:58:53Z", "author": {"login": "xingao267"}, "path": "Terraform/org/folder.fda-my-studies/project.heroes-hat-dev-apps/kubernetes/secrets.tf", "diffHunk": "@@ -0,0 +1,101 @@\n+data \"google_container_cluster\" \"gke_cluster\" {\n+  name     = var.my_studies_cluster.name\n+  location = var.my_studies_cluster.location\n+  project  = var.project_id\n+}\n+\n+\n+provider \"kubernetes\" {\n+  host                   = data.google_container_cluster.gke_cluster.endpoint\n+  client_certificate     = base64decode(data.google_container_cluster.gke_cluster.master_auth.0.client_certificate)\n+  client_key             = base64decode(data.google_container_cluster.gke_cluster.master_auth.0.client_key)\n+  cluster_ca_certificate = base64decode(data.google_container_cluster.gke_cluster.master_auth.0.cluster_ca_certificate)\n+}\n+\n+\n+# Data sources from Secret Manager.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "faf95ede12502cb4ac9c0f0eebd7e573f31e2f6d"}, "originalPosition": 17}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU0Mjk5NTA0OnYy", "diffSide": "RIGHT", "path": "Terraform/org/folder.fda-my-studies/project.heroes-hat-dev-apps/kubernetes/secrets.tf", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNlQxNDowNTozOFrOGGnAOw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNlQxNTowMToxM1rOGGptAg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTU4MzY3NQ==", "bodyText": "Should the user always be default? The password is for default user.", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/149#discussion_r409583675", "createdAt": "2020-04-16T14:05:38Z", "author": {"login": "xingao267"}, "path": "Terraform/org/folder.fda-my-studies/project.heroes-hat-dev-apps/kubernetes/secrets.tf", "diffHunk": "@@ -0,0 +1,101 @@\n+data \"google_container_cluster\" \"gke_cluster\" {\n+  name     = var.my_studies_cluster.name\n+  location = var.my_studies_cluster.location\n+  project  = var.project_id\n+}\n+\n+\n+provider \"kubernetes\" {\n+  host                   = data.google_container_cluster.gke_cluster.endpoint\n+  client_certificate     = base64decode(data.google_container_cluster.gke_cluster.master_auth.0.client_certificate)\n+  client_key             = base64decode(data.google_container_cluster.gke_cluster.master_auth.0.client_key)\n+  cluster_ca_certificate = base64decode(data.google_container_cluster.gke_cluster.master_auth.0.cluster_ca_certificate)\n+}\n+\n+\n+# Data sources from Secret Manager.\n+\n+data \"google_secret_manager_secret_version\" \"secrets\" {\n+  provider = google-beta\n+  project  = var.secrets_project_id\n+  secret   = each.key\n+\n+  for_each = toset([\n+    \"my-studies-sql-default-user-password\",\n+    \"registration_client_id\",\n+    \"registration_client_secret\",\n+    \"wcp_user\",\n+    \"wcp_pass\",\n+    \"email_address\",\n+    \"email_password\",\n+  ])\n+}\n+\n+# Secrets from Secret Manager.\n+resource \"kubernetes_secret\" \"cloudsql_db_credentials\" {\n+  metadata {\n+    name = \"cloudsql-db-credentials\"\n+  }\n+\n+  data = {\n+    username = var.sql_instance_user", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "faf95ede12502cb4ac9c0f0eebd7e573f31e2f6d"}, "originalPosition": 41}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTU5NzAyNQ==", "bodyText": "It's currently hardcoded as \"default\" in ../../project.heroes-hat-dev-data/data/outputs.tf, I think that's a better interface because any module that depends on data doesn't have to hardcode the user value. However the safer_sql module doesn't actually output the user.", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/149#discussion_r409597025", "createdAt": "2020-04-16T14:22:40Z", "author": {"login": "MartinPetkov"}, "path": "Terraform/org/folder.fda-my-studies/project.heroes-hat-dev-apps/kubernetes/secrets.tf", "diffHunk": "@@ -0,0 +1,101 @@\n+data \"google_container_cluster\" \"gke_cluster\" {\n+  name     = var.my_studies_cluster.name\n+  location = var.my_studies_cluster.location\n+  project  = var.project_id\n+}\n+\n+\n+provider \"kubernetes\" {\n+  host                   = data.google_container_cluster.gke_cluster.endpoint\n+  client_certificate     = base64decode(data.google_container_cluster.gke_cluster.master_auth.0.client_certificate)\n+  client_key             = base64decode(data.google_container_cluster.gke_cluster.master_auth.0.client_key)\n+  cluster_ca_certificate = base64decode(data.google_container_cluster.gke_cluster.master_auth.0.cluster_ca_certificate)\n+}\n+\n+\n+# Data sources from Secret Manager.\n+\n+data \"google_secret_manager_secret_version\" \"secrets\" {\n+  provider = google-beta\n+  project  = var.secrets_project_id\n+  secret   = each.key\n+\n+  for_each = toset([\n+    \"my-studies-sql-default-user-password\",\n+    \"registration_client_id\",\n+    \"registration_client_secret\",\n+    \"wcp_user\",\n+    \"wcp_pass\",\n+    \"email_address\",\n+    \"email_password\",\n+  ])\n+}\n+\n+# Secrets from Secret Manager.\n+resource \"kubernetes_secret\" \"cloudsql_db_credentials\" {\n+  metadata {\n+    name = \"cloudsql-db-credentials\"\n+  }\n+\n+  data = {\n+    username = var.sql_instance_user", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTU4MzY3NQ=="}, "originalCommit": {"oid": "faf95ede12502cb4ac9c0f0eebd7e573f31e2f6d"}, "originalPosition": 41}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTYwNjAxMg==", "bodyText": "Is it possible to make my-studies-sql-default-user-password also a input variable, and hard code this in the output of data so they kinda of goes together.", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/149#discussion_r409606012", "createdAt": "2020-04-16T14:33:53Z", "author": {"login": "xingao267"}, "path": "Terraform/org/folder.fda-my-studies/project.heroes-hat-dev-apps/kubernetes/secrets.tf", "diffHunk": "@@ -0,0 +1,101 @@\n+data \"google_container_cluster\" \"gke_cluster\" {\n+  name     = var.my_studies_cluster.name\n+  location = var.my_studies_cluster.location\n+  project  = var.project_id\n+}\n+\n+\n+provider \"kubernetes\" {\n+  host                   = data.google_container_cluster.gke_cluster.endpoint\n+  client_certificate     = base64decode(data.google_container_cluster.gke_cluster.master_auth.0.client_certificate)\n+  client_key             = base64decode(data.google_container_cluster.gke_cluster.master_auth.0.client_key)\n+  cluster_ca_certificate = base64decode(data.google_container_cluster.gke_cluster.master_auth.0.cluster_ca_certificate)\n+}\n+\n+\n+# Data sources from Secret Manager.\n+\n+data \"google_secret_manager_secret_version\" \"secrets\" {\n+  provider = google-beta\n+  project  = var.secrets_project_id\n+  secret   = each.key\n+\n+  for_each = toset([\n+    \"my-studies-sql-default-user-password\",\n+    \"registration_client_id\",\n+    \"registration_client_secret\",\n+    \"wcp_user\",\n+    \"wcp_pass\",\n+    \"email_address\",\n+    \"email_password\",\n+  ])\n+}\n+\n+# Secrets from Secret Manager.\n+resource \"kubernetes_secret\" \"cloudsql_db_credentials\" {\n+  metadata {\n+    name = \"cloudsql-db-credentials\"\n+  }\n+\n+  data = {\n+    username = var.sql_instance_user", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTU4MzY3NQ=="}, "originalCommit": {"oid": "faf95ede12502cb4ac9c0f0eebd7e573f31e2f6d"}, "originalPosition": 41}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTYyNzkwNg==", "bodyText": "Done.", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/149#discussion_r409627906", "createdAt": "2020-04-16T15:01:13Z", "author": {"login": "MartinPetkov"}, "path": "Terraform/org/folder.fda-my-studies/project.heroes-hat-dev-apps/kubernetes/secrets.tf", "diffHunk": "@@ -0,0 +1,101 @@\n+data \"google_container_cluster\" \"gke_cluster\" {\n+  name     = var.my_studies_cluster.name\n+  location = var.my_studies_cluster.location\n+  project  = var.project_id\n+}\n+\n+\n+provider \"kubernetes\" {\n+  host                   = data.google_container_cluster.gke_cluster.endpoint\n+  client_certificate     = base64decode(data.google_container_cluster.gke_cluster.master_auth.0.client_certificate)\n+  client_key             = base64decode(data.google_container_cluster.gke_cluster.master_auth.0.client_key)\n+  cluster_ca_certificate = base64decode(data.google_container_cluster.gke_cluster.master_auth.0.cluster_ca_certificate)\n+}\n+\n+\n+# Data sources from Secret Manager.\n+\n+data \"google_secret_manager_secret_version\" \"secrets\" {\n+  provider = google-beta\n+  project  = var.secrets_project_id\n+  secret   = each.key\n+\n+  for_each = toset([\n+    \"my-studies-sql-default-user-password\",\n+    \"registration_client_id\",\n+    \"registration_client_secret\",\n+    \"wcp_user\",\n+    \"wcp_pass\",\n+    \"email_address\",\n+    \"email_password\",\n+  ])\n+}\n+\n+# Secrets from Secret Manager.\n+resource \"kubernetes_secret\" \"cloudsql_db_credentials\" {\n+  metadata {\n+    name = \"cloudsql-db-credentials\"\n+  }\n+\n+  data = {\n+    username = var.sql_instance_user", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTU4MzY3NQ=="}, "originalCommit": {"oid": "faf95ede12502cb4ac9c0f0eebd7e573f31e2f6d"}, "originalPosition": 41}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU0MzAwNjk1OnYy", "diffSide": "RIGHT", "path": "Terraform/org/folder.fda-my-studies/project.heroes-hat-dev-apps/kubernetes/secrets.tf", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNlQxNDowODoxMlrOGGnHlQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNlQxNDozMDo1NlrOGGoOrw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTU4NTU1Nw==", "bodyText": "Add instructions in Terraform/README.md for the new secrets.", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/149#discussion_r409585557", "createdAt": "2020-04-16T14:08:12Z", "author": {"login": "xingao267"}, "path": "Terraform/org/folder.fda-my-studies/project.heroes-hat-dev-apps/kubernetes/secrets.tf", "diffHunk": "@@ -0,0 +1,101 @@\n+data \"google_container_cluster\" \"gke_cluster\" {\n+  name     = var.my_studies_cluster.name\n+  location = var.my_studies_cluster.location\n+  project  = var.project_id\n+}\n+\n+\n+provider \"kubernetes\" {\n+  host                   = data.google_container_cluster.gke_cluster.endpoint\n+  client_certificate     = base64decode(data.google_container_cluster.gke_cluster.master_auth.0.client_certificate)\n+  client_key             = base64decode(data.google_container_cluster.gke_cluster.master_auth.0.client_key)\n+  cluster_ca_certificate = base64decode(data.google_container_cluster.gke_cluster.master_auth.0.cluster_ca_certificate)\n+}\n+\n+\n+# Data sources from Secret Manager.\n+\n+data \"google_secret_manager_secret_version\" \"secrets\" {\n+  provider = google-beta\n+  project  = var.secrets_project_id\n+  secret   = each.key\n+\n+  for_each = toset([", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fc53b5e49f6951c17c2cf3a3d0443e31549fc3b3"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTU5NDI2NQ==", "bodyText": "The instructions seem generic right now, \"fill out all secrets\". What instructions should I add?", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/149#discussion_r409594265", "createdAt": "2020-04-16T14:19:01Z", "author": {"login": "MartinPetkov"}, "path": "Terraform/org/folder.fda-my-studies/project.heroes-hat-dev-apps/kubernetes/secrets.tf", "diffHunk": "@@ -0,0 +1,101 @@\n+data \"google_container_cluster\" \"gke_cluster\" {\n+  name     = var.my_studies_cluster.name\n+  location = var.my_studies_cluster.location\n+  project  = var.project_id\n+}\n+\n+\n+provider \"kubernetes\" {\n+  host                   = data.google_container_cluster.gke_cluster.endpoint\n+  client_certificate     = base64decode(data.google_container_cluster.gke_cluster.master_auth.0.client_certificate)\n+  client_key             = base64decode(data.google_container_cluster.gke_cluster.master_auth.0.client_key)\n+  cluster_ca_certificate = base64decode(data.google_container_cluster.gke_cluster.master_auth.0.cluster_ca_certificate)\n+}\n+\n+\n+# Data sources from Secret Manager.\n+\n+data \"google_secret_manager_secret_version\" \"secrets\" {\n+  provider = google-beta\n+  project  = var.secrets_project_id\n+  secret   = each.key\n+\n+  for_each = toset([", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTU4NTU1Nw=="}, "originalCommit": {"oid": "fc53b5e49f6951c17c2cf3a3d0443e31549fc3b3"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTYwMzc1OQ==", "bodyText": "Oh lol, then that should be fine.", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/149#discussion_r409603759", "createdAt": "2020-04-16T14:30:56Z", "author": {"login": "xingao267"}, "path": "Terraform/org/folder.fda-my-studies/project.heroes-hat-dev-apps/kubernetes/secrets.tf", "diffHunk": "@@ -0,0 +1,101 @@\n+data \"google_container_cluster\" \"gke_cluster\" {\n+  name     = var.my_studies_cluster.name\n+  location = var.my_studies_cluster.location\n+  project  = var.project_id\n+}\n+\n+\n+provider \"kubernetes\" {\n+  host                   = data.google_container_cluster.gke_cluster.endpoint\n+  client_certificate     = base64decode(data.google_container_cluster.gke_cluster.master_auth.0.client_certificate)\n+  client_key             = base64decode(data.google_container_cluster.gke_cluster.master_auth.0.client_key)\n+  cluster_ca_certificate = base64decode(data.google_container_cluster.gke_cluster.master_auth.0.cluster_ca_certificate)\n+}\n+\n+\n+# Data sources from Secret Manager.\n+\n+data \"google_secret_manager_secret_version\" \"secrets\" {\n+  provider = google-beta\n+  project  = var.secrets_project_id\n+  secret   = each.key\n+\n+  for_each = toset([", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTU4NTU1Nw=="}, "originalCommit": {"oid": "fc53b5e49f6951c17c2cf3a3d0443e31549fc3b3"}, "originalPosition": 23}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1315, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}