{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE5MTA0MTQ4", "number": 1957, "title": "[Participant User Datastore] [POST] /updateUserProfile endpoint fails to update user profile", "bodyText": "[POST] /updateUserProfile endpoint in Participant User Datastore fails to update user profile if Settings Bean is not available inside in UserRequestBean. Fix for issue #1956", "createdAt": "2020-11-11T10:28:47Z", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1957", "merged": true, "mergeCommit": {"oid": "083e7a77f50d82699ba67ac389070ae43ca1f8e2"}, "closed": true, "closedAt": "2020-11-17T05:03:43Z", "author": {"login": "aswinijena100"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdbbXoFAH2gAyNTE5MTA0MTQ4Ojk5YWQ5NjY2ZjVhNjk1NGVkMTM5NmE1MTgzMzA3ZGYyZDNlMWJiMWQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABddSUY4AH2gAyNTE5MTA0MTQ4OmNhOTAxMDRkMTMwMDBjM2Q2NzE5NmM2NzgxYTVlNjQyYzU2ZmFkYzQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "99ad9666f5a6954ed1396a5183307df2d3e1bb1d", "author": {"user": {"login": "aswinijena100", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/99ad9666f5a6954ed1396a5183307df2d3e1bb1d", "committedDate": "2020-11-11T10:26:26Z", "message": "[Participant User Datastore] [POST] /updateUserProfile endpoint issue fix\n\n[Participant User Datastore] [POST] /updateUserProfile endpoint issue #1956 fix"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI4MDQ4MzE1", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1957#pullrequestreview-528048315", "createdAt": "2020-11-11T10:29:33Z", "commit": {"oid": "99ad9666f5a6954ed1396a5183307df2d3e1bb1d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMVQxMDoyOTozM1rOHxHT-w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMVQxMDoyOTozM1rOHxHT-w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTI2MjA3NQ==", "bodyText": "[user-mgmt Checks] reported by reviewdog \ud83d\udc36\n'}' at column 9 should be on the same line as the next part of a multi-block statement (one that directly contains multiple blocks: if/else-if/else, do/while or try/catch/finally).", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1957#discussion_r521262075", "createdAt": "2020-11-11T10:29:33Z", "author": {"login": "github-actions"}, "path": "participant-datastore/user-mgmt-module/user-mgmt/src/main/java/com/google/cloud/healthcare/fdamystudies/service/UserManagementProfileServiceImpl.java", "diffHunk": "@@ -388,4 +366,35 @@ public EmailResponse resendConfirmationthroughEmail(\n     logger.info(\"UserManagementProfileServiceImpl - resendConfirmationthroughEmail() - Ends\");\n     return emailService.sendMimeMail(emailRequest);\n   }\n+\n+  private AuthInfoEntity authInfoDetails(UserDetailsEntity userDetails, UserRequestBean user) {\n+    AuthInfoEntity authInfo = null;\n+    authInfo = userProfileManagementDao.getAuthInfo(userDetails);\n+    if (authInfo != null) {\n+      if (user.getSettings() != null && user.getSettings().getRemoteNotifications() != null) {\n+        authInfo.setRemoteNotificationFlag(user.getSettings().getRemoteNotifications());\n+      }\n+      if (user.getInfo() != null) {\n+        if (!StringUtils.isBlank(user.getInfo().getOs())) {\n+          authInfo.setDeviceType(user.getInfo().getOs());\n+        }\n+        if (!StringUtils.isBlank(user.getInfo().getOs())\n+            && (user.getInfo().getOs().equalsIgnoreCase(\"IOS\")\n+                || user.getInfo().getOs().equalsIgnoreCase(\"I\"))) {\n+          authInfo.setIosAppVersion(user.getInfo().getAppVersion());\n+        } else {\n+          authInfo.setAndroidAppVersion(user.getInfo().getAppVersion());\n+        }\n+        if (!StringUtils.isBlank(user.getInfo().getDeviceToken())) {\n+          authInfo.setDeviceToken(user.getInfo().getDeviceToken());\n+        } // To maintain single session and update old device token", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "99ad9666f5a6954ed1396a5183307df2d3e1bb1d"}, "originalPosition": 63}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "70cce3ca9dc1a80ace83b02571722f1591a8adf8", "author": {"user": {"login": "aswinijena100", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/70cce3ca9dc1a80ace83b02571722f1591a8adf8", "committedDate": "2020-11-11T10:31:07Z", "message": "github acticon review fix\n\ngithub acticon review fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5c9a2299222d0ef195acb465dbb999a847ab0092", "author": {"user": {"login": "saminguyen", "name": "Sami Nguyen"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/5c9a2299222d0ef195acb465dbb999a847ab0092", "committedDate": "2020-11-16T15:54:40Z", "message": "Merge branch 'develop' into participant-datastore-update-profile-issue-fix"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMxNDY1NzI1", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1957#pullrequestreview-531465725", "createdAt": "2020-11-16T16:04:07Z", "commit": {"oid": "5c9a2299222d0ef195acb465dbb999a847ab0092"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3bbf1b6adebc904df8ff42ef43436682a11d4cff", "author": {"user": {"login": "aswinijena100", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/3bbf1b6adebc904df8ff42ef43436682a11d4cff", "committedDate": "2020-11-17T05:01:20Z", "message": "Merge branch 'develop' into participant-datastore-update-profile-issue-fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ca90104d13000c3d67196c6781a5e642c56fadc4", "author": {"user": {"login": "aswinijena100", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/ca90104d13000c3d67196c6781a5e642c56fadc4", "committedDate": "2020-11-17T05:01:36Z", "message": "Merge branch 'develop' into participant-datastore-update-profile-issue-fix"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1245, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}