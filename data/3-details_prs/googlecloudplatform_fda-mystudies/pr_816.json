{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc0MTIxMDAw", "number": 816, "title": "Fix docker image build", "bodyText": "Fixes several issues withe the current docker builds:\n\n\nRemoves dependency to mohan's docker account, which was added for building a base image, and makes it easy for anyone to build docker images from their own account\n\n\nFix docker directory structure  in user-registration-module to match the code directory (used by Github action build)\n\n\nDisable running tests when building Docker\n\n\nissue#825 now seems to be also happening with github action builds", "createdAt": "2020-08-26T19:55:04Z", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/816", "merged": true, "mergeCommit": {"oid": "3823b0b2124f041f60ea298d166cf7973dd363d3"}, "closed": true, "closedAt": "2020-08-28T20:19:16Z", "author": {"login": "zohrehj"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdCxRwzAH2gAyNDc0MTIxMDAwOmU1NDU3ZjJjNzhhYjgzZDE4NThhNWQ0Zjg2NDRjZWUxMjFkMzU2YWM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdDa2f6AH2gAyNDc0MTIxMDAwOjE1MTFkMjc0NzgwMjc4OTM0MDE2YzBmYTM5Y2RiMDU4ZmY1ZjI2OTA=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "e5457f2c78ab83d1858a5d4f8644cee121d356ac", "author": {"user": {"login": "zohrehj", "name": "Zohreh Jabbari"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/e5457f2c78ab83d1858a5d4f8644cee121d356ac", "committedDate": "2020-08-26T19:49:50Z", "message": "Fix docker image build"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc1ODE4NDM5", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/816#pullrequestreview-475818439", "createdAt": "2020-08-26T20:03:58Z", "commit": {"oid": "e5457f2c78ab83d1858a5d4f8644cee121d356ac"}, "state": "DISMISSED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQyMDowMzo1OFrOHHbyXw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQyMDowMzo1OFrOHHbyXw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzU1NzM0Mw==", "bodyText": "nit: TODO(#815)?", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/816#discussion_r477557343", "createdAt": "2020-08-26T20:03:58Z", "author": {"login": "nikklassen"}, "path": "response-server-module/Dockerfile", "diffHunk": "@@ -1,9 +1,15 @@\n-FROM mohankgonthina/commonmodule:latest AS maven_builder\n+# first build common module, then run:\n+# export DOCKER_ID=<YourDockerID>\n+# docker image build --tag $DOCKER_ID/response-server-module . --build-arg DOCKER_ID\n+ARG DOCKER_ID\n+FROM ${DOCKER_ID}/commonmodule:latest AS maven_builder\n COPY response-server-service /app/response-server-module/response-server-service\n COPY pom.xml /app/response-server-module/\n WORKDIR /app/response-server-module/\n-RUN mvn clean package\n+# skipping tests until #815 is fixed", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e5457f2c78ab83d1858a5d4f8644cee121d356ac"}, "originalPosition": 11}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f37466fdd8491195df85338f189948178492f5fc", "author": {"user": {"login": "zohrehj", "name": "Zohreh Jabbari"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/f37466fdd8491195df85338f189948178492f5fc", "committedDate": "2020-08-26T20:16:29Z", "message": "Update docker directory to match current hierarchy"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc2ODM3Njg3", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/816#pullrequestreview-476837687", "createdAt": "2020-08-27T15:28:13Z", "commit": {"oid": "f37466fdd8491195df85338f189948178492f5fc"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ab07e2a8f8736bf18450166d91ec6c383424561c", "author": {"user": {"login": "zohrehj", "name": "Zohreh Jabbari"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/ab07e2a8f8736bf18450166d91ec6c383424561c", "committedDate": "2020-08-28T14:22:27Z", "message": "Merge branch 'develop' into schema-gen"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a4ac799607e5b2ae58e9141eab2120e5ee34f45d", "author": {"user": {"login": "zohrehj", "name": "Zohreh Jabbari"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/a4ac799607e5b2ae58e9141eab2120e5ee34f45d", "committedDate": "2020-08-28T16:14:28Z", "message": "Merge branch 'develop' into schema-gen"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3019ecc766d9d7b5bd72f5815d928419d5f470d5", "author": {"user": {"login": "zohrehj", "name": "Zohreh Jabbari"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/3019ecc766d9d7b5bd72f5815d928419d5f470d5", "committedDate": "2020-08-28T17:02:48Z", "message": "Merge branch 'develop' into schema-gen"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1511d274780278934016c0fa39cdb058ff5f2690", "author": {"user": {"login": "zohrehj", "name": "Zohreh Jabbari"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/1511d274780278934016c0fa39cdb058ff5f2690", "committedDate": "2020-08-28T20:16:04Z", "message": "Merge branch 'develop' into schema-gen"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 376, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}