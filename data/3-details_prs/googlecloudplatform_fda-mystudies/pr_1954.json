{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE5MDI0OTEz", "number": 1954, "title": "[participant-manager-datastore] and [participant-datastore]:- [GET] \"/sites/{participantRegistrySiteId}/participant\" and \"/enroll\" end points Issue 1742 fixes", "bodyText": "This PR contains the issue fixes for issue #1742\nPreviously, Enrollment status, Date of Enrollment and Withdrawal are not changing when the participants onboarding status = New/Invited\nNow, if the onboarding status = New/Invited, Enrollment status will be Yet To Enroll and Date of Enrollment and Withdrawal will be NA", "createdAt": "2020-11-11T08:00:38Z", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1954", "merged": true, "mergeCommit": {"oid": "bca54e0575f3516cefd77b826a7f61e414d3f2a6"}, "closed": true, "closedAt": "2020-11-17T07:47:54Z", "author": {"login": "chiranjibi009"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdbFpfVAH2gAyNTE5MDI0OTEzOjk1MjNjNTk0OGNmNzUyOGQ5ODhlMDI0ZGNlOTc1NmJiYWNlOGZlYjI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABddUp7MAH2gAyNTE5MDI0OTEzOjc0NTAxODQ2ZmU2OTNjZmNkNGY4MDVkMTVjYjkyM2VlMzJmM2Y3NmY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "9523c5948cf7528d988e024dce9756bbace8feb2", "author": {"user": {"login": "chiranjibi009", "name": "Chiranjibi Dash"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/9523c5948cf7528d988e024dce9756bbace8feb2", "committedDate": "2020-11-10T09:08:02Z", "message": "issue #1742 fixes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f80350c2501f6b1c11bf368db58b7b9c2ff0161f", "author": {"user": {"login": "chiranjibi009", "name": "Chiranjibi Dash"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/f80350c2501f6b1c11bf368db58b7b9c2ff0161f", "committedDate": "2020-11-11T07:39:51Z", "message": "Merge branch 'develop' of https://github.com/GoogleCloudPlatform/fda-mystudies into issue-1742-fixes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "837c817bc3e356488e59f0304f8d43df152237cf", "author": {"user": {"login": "chiranjibi009", "name": "Chiranjibi Dash"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/837c817bc3e356488e59f0304f8d43df152237cf", "committedDate": "2020-11-12T08:18:27Z", "message": "added comments with issue #1454"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI5NTk2MjQx", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1954#pullrequestreview-529596241", "createdAt": "2020-11-12T23:49:13Z", "commit": {"oid": "837c817bc3e356488e59f0304f8d43df152237cf"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMlQyMzo0OToxM1rOHyTsoA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMlQyMzo0OToxM1rOHyTsoA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjUxMzU2OA==", "bodyText": "Why is this condition (participants enrollment is withdrawn necessary?", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1954#discussion_r522513568", "createdAt": "2020-11-12T23:49:13Z", "author": {"login": "saminguyen"}, "path": "participant-manager-datastore/participant-manager-service/src/main/java/com/google/cloud/healthcare/fdamystudies/mapper/ParticipantMapper.java", "diffHunk": "@@ -205,9 +205,24 @@ public static ParticipantDetail toParticipantDetails(UserDetailsEntity userDetai\n   }\n \n   public static void addEnrollments(\n-      ParticipantDetail participantDetail, List<ParticipantStudyEntity> participantsEnrollments) {\n+      ParticipantDetail participantDetail,\n+      List<ParticipantStudyEntity> participantsEnrollments,\n+      String onboardingStatus) {\n     for (ParticipantStudyEntity participantsEnrollment : participantsEnrollments) {\n       Enrollment enrollment = new Enrollment();\n+      if ((OnboardingStatus.INVITED.getStatus().equals(onboardingStatus)\n+              || OnboardingStatus.NEW.getStatus().equals(onboardingStatus))\n+          && EnrollmentStatus.WITHDRAWN.getStatus().equals(participantsEnrollment.getStatus())) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "837c817bc3e356488e59f0304f8d43df152237cf"}, "originalPosition": 12}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI5NTk2NDY1", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1954#pullrequestreview-529596465", "createdAt": "2020-11-12T23:49:48Z", "commit": {"oid": "837c817bc3e356488e59f0304f8d43df152237cf"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c58cd82d0965480c93520caebbd1c3768fabb93b", "author": {"user": {"login": "saminguyen", "name": "Sami Nguyen"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/c58cd82d0965480c93520caebbd1c3768fabb93b", "committedDate": "2020-11-16T15:46:37Z", "message": "Merge branch 'develop' into issue-1742-fixes"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMxNDU2NjI3", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1954#pullrequestreview-531456627", "createdAt": "2020-11-16T15:55:03Z", "commit": {"oid": "c58cd82d0965480c93520caebbd1c3768fabb93b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "74501846fe693cfcd4f805d15cb923ee32f3f76f", "author": {"user": {"login": "chiranjibi009", "name": "Chiranjibi Dash"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/74501846fe693cfcd4f805d15cb923ee32f3f76f", "committedDate": "2020-11-17T07:44:56Z", "message": "Merge branch 'develop' into issue-1742-fixes"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1242, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}