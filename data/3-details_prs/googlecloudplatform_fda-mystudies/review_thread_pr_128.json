{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAxNjc2OTAz", "number": 128, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xM1QxNjo1NDo1MVrODxTsIg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xM1QxNjo1NTowNFrODxTscA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUzMDI5NDEwOnYy", "diffSide": "RIGHT", "path": "WCP-WS/src/main/java/com/hphc/mystudies/util/HibernateUtil.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xM1QxNjo1NDo1MVrOGEtCmA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xM1QxODowMzozNlrOGEvYHA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzU4NTQzMg==", "bodyText": "Should this stay as \"application_local.properties\"? I think the files are here: https://github.com/GoogleCloudPlatform/fda-mystudies/tree/early-access/WCP-WS/src/main/resources", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/128#discussion_r407585432", "createdAt": "2020-04-13T16:54:51Z", "author": {"login": "kuoyuchi"}, "path": "WCP-WS/src/main/java/com/hphc/mystudies/util/HibernateUtil.java", "diffHunk": "@@ -42,18 +42,9 @@ public static SessionFactory getSessionFactory() {\n     logger.info(\"INFO: HibernateUtil - getSessionFactory() :: Starts\");\n     try {\n       if (sessionFactory == null) {\n-\n-        InputStream inputStream =\n-            HibernateUtil.class\n-                .getClassLoader()\n-                .getResourceAsStream(\"application_local.properties\");\n-\n-        Properties properties = new Properties();\n-\n-        properties.load(inputStream);\n         sessionFactory =\n             new AnnotationConfiguration()\n-                .addProperties(properties)\n+                .addProperties(PropertiesUtil.makePropertiesWithEnvironmentVariables(\"application.properties\"))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "21bbd9643f66711970575fa55942eb692123cbb8"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzYxMDY0NQ==", "bodyText": "I changed the name in an earlier commit. application.properties is what we use for the other services so changed it to mirror that. Also I think application_local.properties would be the name of the dev file if we were using the property file hierarchy as intended so application.properties makes more sense.", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/128#discussion_r407610645", "createdAt": "2020-04-13T17:40:49Z", "author": {"login": "wamills"}, "path": "WCP-WS/src/main/java/com/hphc/mystudies/util/HibernateUtil.java", "diffHunk": "@@ -42,18 +42,9 @@ public static SessionFactory getSessionFactory() {\n     logger.info(\"INFO: HibernateUtil - getSessionFactory() :: Starts\");\n     try {\n       if (sessionFactory == null) {\n-\n-        InputStream inputStream =\n-            HibernateUtil.class\n-                .getClassLoader()\n-                .getResourceAsStream(\"application_local.properties\");\n-\n-        Properties properties = new Properties();\n-\n-        properties.load(inputStream);\n         sessionFactory =\n             new AnnotationConfiguration()\n-                .addProperties(properties)\n+                .addProperties(PropertiesUtil.makePropertiesWithEnvironmentVariables(\"application.properties\"))", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzU4NTQzMg=="}, "originalCommit": {"oid": "21bbd9643f66711970575fa55942eb692123cbb8"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzYyMzcwOA==", "bodyText": "SGTM. Thanks for explaining.", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/128#discussion_r407623708", "createdAt": "2020-04-13T18:03:36Z", "author": {"login": "kuoyuchi"}, "path": "WCP-WS/src/main/java/com/hphc/mystudies/util/HibernateUtil.java", "diffHunk": "@@ -42,18 +42,9 @@ public static SessionFactory getSessionFactory() {\n     logger.info(\"INFO: HibernateUtil - getSessionFactory() :: Starts\");\n     try {\n       if (sessionFactory == null) {\n-\n-        InputStream inputStream =\n-            HibernateUtil.class\n-                .getClassLoader()\n-                .getResourceAsStream(\"application_local.properties\");\n-\n-        Properties properties = new Properties();\n-\n-        properties.load(inputStream);\n         sessionFactory =\n             new AnnotationConfiguration()\n-                .addProperties(properties)\n+                .addProperties(PropertiesUtil.makePropertiesWithEnvironmentVariables(\"application.properties\"))", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzU4NTQzMg=="}, "originalCommit": {"oid": "21bbd9643f66711970575fa55942eb692123cbb8"}, "originalPosition": 16}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUzMDI5NDg4OnYy", "diffSide": "RIGHT", "path": "WCP-WS/src/main/java/com/hphc/mystudies/util/StudyMetaDataUtil.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xM1QxNjo1NTowNFrOGEtDGQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xM1QxNzo0MDo1OFrOGEulcQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzU4NTU2MQ==", "bodyText": "application_local.properties", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/128#discussion_r407585561", "createdAt": "2020-04-13T16:55:04Z", "author": {"login": "kuoyuchi"}, "path": "WCP-WS/src/main/java/com/hphc/mystudies/util/StudyMetaDataUtil.java", "diffHunk": "@@ -74,11 +74,8 @@ public static HashMap getAppProperties() {\n         hm.put(key, value);\n       }\n       ServletContext context = ServletContextHolder.getServletContext();\n-      Properties prop = new Properties();\n \n-      InputStream inputStream =\n-          HibernateUtil.class.getClassLoader().getResourceAsStream(\"application_local.properties\");\n-      prop.load(inputStream);\n+      Properties prop = PropertiesUtil.makePropertiesWithEnvironmentVariables(\"application.properties\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "21bbd9643f66711970575fa55942eb692123cbb8"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzYxMDczNw==", "bodyText": "see other comment.", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/128#discussion_r407610737", "createdAt": "2020-04-13T17:40:58Z", "author": {"login": "wamills"}, "path": "WCP-WS/src/main/java/com/hphc/mystudies/util/StudyMetaDataUtil.java", "diffHunk": "@@ -74,11 +74,8 @@ public static HashMap getAppProperties() {\n         hm.put(key, value);\n       }\n       ServletContext context = ServletContextHolder.getServletContext();\n-      Properties prop = new Properties();\n \n-      InputStream inputStream =\n-          HibernateUtil.class.getClassLoader().getResourceAsStream(\"application_local.properties\");\n-      prop.load(inputStream);\n+      Properties prop = PropertiesUtil.makePropertiesWithEnvironmentVariables(\"application.properties\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzU4NTU2MQ=="}, "originalCommit": {"oid": "21bbd9643f66711970575fa55942eb692123cbb8"}, "originalPosition": 9}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1285, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}