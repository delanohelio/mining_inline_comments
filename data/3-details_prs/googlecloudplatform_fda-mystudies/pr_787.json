{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDcxNjIxOTY3", "number": 787, "title": "Participant manager [GET] /users endpoint implementation", "bodyText": "Participant manager getUsers api implementation with test cases.", "createdAt": "2020-08-21T13:06:00Z", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/787", "merged": true, "mergeCommit": {"oid": "e7fb24a3f649014aa868a1379335cd21bdba8759"}, "closed": true, "closedAt": "2020-08-25T14:28:07Z", "author": {"login": "chiranjibi009"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdBEdroAH2gAyNDcxNjIxOTY3OjJhYTRkMGY0YzE2MDJiOGNkYmI3ZmRjZjhkYzcwNDU0Mzc5OTRjYmU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdCYD9mAFqTQ3NDUzNzQyNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "2aa4d0f4c1602b8cdbb7fdcf8dc7045437994cbe", "author": {"user": {"login": "chiranjibi009", "name": "Chiranjibi Dash"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/2aa4d0f4c1602b8cdbb7fdcf8dc7045437994cbe", "committedDate": "2020-08-21T13:03:12Z", "message": "Participant manager [GET] /users endpoint implementation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bdba840004cd44b806268322036a0a6fc3bce326", "author": {"user": {"login": "chiranjibi009", "name": "Chiranjibi Dash"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/bdba840004cd44b806268322036a0a6fc3bce326", "committedDate": "2020-08-23T07:56:39Z", "message": "Merge branch 'participant-manager-get-admin-details-and-apps-api-implementation' of https://github.com/GoogleCloudPlatform/fda-mystudies into participant-manager-get-users-api-implementation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0be50863dc236e69ce0f57e5494650554e396499", "author": {"user": {"login": "chiranjibi009", "name": "Chiranjibi Dash"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/0be50863dc236e69ce0f57e5494650554e396499", "committedDate": "2020-08-23T13:00:38Z", "message": "Merge branch 'participant-manager-get-admin-details-and-apps-api-implementation' of https://github.com/GoogleCloudPlatform/fda-mystudies into participant-manager-get-users-api-implementation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a78269c3014f367187c4ad536f7541fb3a5d795e", "author": {"user": {"login": "chiranjibi009", "name": "Chiranjibi Dash"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/a78269c3014f367187c4ad536f7541fb3a5d795e", "committedDate": "2020-08-25T05:33:15Z", "message": "Merge branch 'develop' into participant-manager-get-users-api-implementation"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc0MTQ3Mzkz", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/787#pullrequestreview-474147393", "createdAt": "2020-08-25T05:35:25Z", "commit": {"oid": "0be50863dc236e69ce0f57e5494650554e396499"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNVQwNTozNzoyOVrOHGIRkA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNVQwNTozNzoyOVrOHGIRkA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjE4OTA3Mg==", "bodyText": "why is this size 3? You created one superadmin user and one non-superadmin above, right?\nAlso please verify the values of users[1] and users[2] below too", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/787#discussion_r476189072", "createdAt": "2020-08-25T05:37:29Z", "author": {"login": "saminguyen"}, "path": "participant-manager-module/participant-manager-service/src/test/java/com/google/cloud/healthcare/fdamystudies/controller/UserControllerTest.java", "diffHunk": "@@ -630,6 +631,57 @@ public void shouldReturnAdminNotFoundErrorForGetAdminDetailsAndApps() throws Exc\n             jsonPath(\"$.error_description\").value(ErrorCode.ADMIN_NOT_FOUND.getDescription()));\n   }\n \n+  @Test\n+  public void shouldReturnAdminsForGetAdmins() throws Exception {\n+    // Step 1: Set few admins\n+    testDataHelper.createSuperAdmin();\n+    testDataHelper.createNonSuperAdmin();\n+\n+    // Step 2: Call API and expect GET_ADMINS_SUCCESS message\n+    HttpHeaders headers = testDataHelper.newCommonHeaders();\n+    headers.set(USER_ID_HEADER, userRegAdminEntity.getId());\n+    mockMvc\n+        .perform(\n+            get(ApiEndpoint.GET_USERS.getPath()).headers(headers).contextPath(getContextPath()))\n+        .andDo(print())\n+        .andExpect(status().isOk())\n+        .andExpect(jsonPath(\"$.users\").isArray())\n+        .andExpect(jsonPath(\"$.users\", hasSize(3)))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a78269c3014f367187c4ad536f7541fb3a5d795e"}, "originalPosition": 27}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "78731e9a32f93e7a0e1b2ea5445cadcb1fb27661", "author": {"user": {"login": "chiranjibi009", "name": "Chiranjibi Dash"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/78731e9a32f93e7a0e1b2ea5445cadcb1fb27661", "committedDate": "2020-08-25T06:58:31Z", "message": "email ids are asserted for shouldReturnAdminsForGetAdmins test case method"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc0NTM3NDI2", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/787#pullrequestreview-474537426", "createdAt": "2020-08-25T14:27:08Z", "commit": {"oid": "78731e9a32f93e7a0e1b2ea5445cadcb1fb27661"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 715, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}