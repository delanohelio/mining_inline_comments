{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDYxODEyNjk5", "number": 718, "title": "PUT /users/{userId} to update email and/or status with integration tests", "bodyText": "PATCH /users/{userId} to update email and/or status with integration tests.\nRemoved unused validator class.\nNote: /v1 from endpoint will be removed while merging PR #650 into develop branch.", "createdAt": "2020-08-02T14:18:34Z", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/718", "merged": true, "mergeCommit": {"oid": "8e59ab6efa0c884265102d9a8068c5f55685f105"}, "closed": true, "closedAt": "2020-08-10T05:37:37Z", "author": {"login": "dhanyak-btc"}, "timelineItems": {"totalCount": 18, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc6-HTjgH2gAyNDYxODEyNjk5OjZmM2YzMWQxZmQxMTY2M2FjNTZhNThjZmZjNmFjMTUzNWFlNGY5MTk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc9beIwgH2gAyNDYxODEyNjk5OjUyZjRiZmRiNWI3ZmRiYjIzYmY5ZDM2YzZmOTExMGIyMWI5NDMzMTg=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "6f3f31d1fd11663ac56a58cffc6ac1535ae4f919", "author": {"user": {"login": "dhanyak-btc", "name": "Dhanya Kumar KV"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/6f3f31d1fd11663ac56a58cffc6ac1535ae4f919", "committedDate": "2020-08-02T14:15:47Z", "message": "PATCH /users/{userId} to update email and/or status with integration tests\n\nPATCH /users/{userId} to update email and/or status with integration tests.\nRemoved unused validator class."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "58a96ec9448ff2985e771b04486573f0a9af4b7e", "author": {"user": {"login": "dhanyak-btc", "name": "Dhanya Kumar KV"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/58a96ec9448ff2985e771b04486573f0a9af4b7e", "committedDate": "2020-08-03T05:57:28Z", "message": "Generate & Update TempRegId if status is ACTIVE, fixed failed tests.\n\nGenerate & Update TempRegId if status is ACTIVE, fixed failed tests."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYwMzk5NzUz", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/718#pullrequestreview-460399753", "createdAt": "2020-08-03T23:23:22Z", "commit": {"oid": "58a96ec9448ff2985e771b04486573f0a9af4b7e"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QyMzoyMzoyMlrOG7Ly1g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QyMzozMTo1OFrOG7L88Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDcxMjQwNg==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                logger.entry(\"begin updateUser()\");\n          \n          \n            \n                logger.entry(\"begin updateEmailStatusAndTempRegId()\");", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/718#discussion_r464712406", "createdAt": "2020-08-03T23:23:22Z", "author": {"login": "saminguyen"}, "path": "oauth-scim-module/oauth-scim-service/src/main/java/com/google/cloud/healthcare/fdamystudies/oauthscim/service/UserServiceImpl.java", "diffHunk": "@@ -240,4 +245,30 @@ private ErrorCode validateChangePasswordRequest(\n     logger.entry(\"begin findUserByTempRegId()\");\n     return repository.findByTempRegId(tempRegId);\n   }\n+\n+  @Override\n+  @Transactional\n+  public UpdateEmailStatusResponse updateEmailStatusAndTempRegId(\n+      UpdateEmailStatusRequest userRequest) throws JsonProcessingException {\n+    logger.entry(\"begin updateUser()\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "58a96ec9448ff2985e771b04486573f0a9af4b7e"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDcxNDk5Mw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              UPDATE_USER_DETAILS(HttpStatus.OK, \"MSG-0004\", \"User details successfully updated.\");\n          \n          \n            \n              UPDATE_USER_DETAILS_SUCCESS(HttpStatus.OK, \"MSG-0004\", \"User details successfully updated.\");", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/718#discussion_r464714993", "createdAt": "2020-08-03T23:31:58Z", "author": {"login": "saminguyen"}, "path": "common-modules/common-service/src/main/java/com/google/cloud/healthcare/fdamystudies/common/MessageCode.java", "diffHunk": "@@ -29,7 +29,9 @@\n       HttpStatus.OK, \"MSG-0002\", \"Your password has been changed successfully!\"),\n \n   EMAIL_ACCEPTED_BY_MAIL_SERVER(\n-      HttpStatus.ACCEPTED, \"MSG-0003\", \"The email is accepted by the receiving mail server.\");\n+      HttpStatus.ACCEPTED, \"MSG-0003\", \"The email is accepted by the receiving mail server.\"),\n+\n+  UPDATE_USER_DETAILS(HttpStatus.OK, \"MSG-0004\", \"User details successfully updated.\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "58a96ec9448ff2985e771b04486573f0a9af4b7e"}, "originalPosition": 7}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8a8331acfa4f61ae493823b0d0a7e182ef13e280", "author": {"user": {"login": "dhanyak-btc", "name": "Dhanya Kumar KV"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/8a8331acfa4f61ae493823b0d0a7e182ef13e280", "committedDate": "2020-08-04T04:40:22Z", "message": "Fixed PR 617 review comments\n\nFixed PR 617 review comments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6179d7e2249183e92dcc0802be48389ac0140962", "author": {"user": {"login": "dhanyak-btc", "name": "Dhanya Kumar KV"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/6179d7e2249183e92dcc0802be48389ac0140962", "committedDate": "2020-08-04T10:39:54Z", "message": "Replaced PATCH with PUT to fix an error\n\nReplaced PATCH with PUT to fix an error"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYwODQwODg2", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/718#pullrequestreview-460840886", "createdAt": "2020-08-04T14:01:09Z", "commit": {"oid": "6179d7e2249183e92dcc0802be48389ac0140962"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b6c1df96f6069e08a5e422fed3ec67132d733aec", "author": {"user": {"login": "dhanyak-btc", "name": "Dhanya Kumar KV"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/b6c1df96f6069e08a5e422fed3ec67132d733aec", "committedDate": "2020-08-04T14:07:15Z", "message": "Merge branch 'develop' into oauth_scim_update_email_status"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a29cd71925df6e0330d03264ef064e3f72d12251", "author": {"user": {"login": "dhanyak-btc", "name": "Dhanya Kumar KV"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/a29cd71925df6e0330d03264ef064e3f72d12251", "committedDate": "2020-08-05T06:24:36Z", "message": "Removed @TestMethodOrder(OrderAnnotation.class)\n\nRemoved @TestMethodOrder(OrderAnnotation.class)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c030799f22b136674386a5c65e2d36af43c4e59b", "author": {"user": {"login": "dhanyak-btc", "name": "Dhanya Kumar KV"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/c030799f22b136674386a5c65e2d36af43c4e59b", "committedDate": "2020-08-05T14:36:42Z", "message": "Added logger statement to analyze build issue\n\nAdded logger statement to analyze build issue"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3cbe817f0ac3630e750f6a6ccffb44445a0edcbc", "author": {"user": {"login": "dhanyak-btc", "name": "Dhanya Kumar KV"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/3cbe817f0ac3630e750f6a6ccffb44445a0edcbc", "committedDate": "2020-08-06T02:29:08Z", "message": "Added JsonNodeConverter to fix the build issue\n\nAdded JsonNodeConverter to fix below exception:\n\n2020-08-05T14:38:18.2195379Z java.lang.NullPointerException: null\n2020-08-05T14:38:18.2196141Z \tat com.google.cloud.healthcare.fdamystudies.common.JsonUtils.getTextValue(JsonUtils.java:52) ~[common-service.jar:0.0.1-SNAPSHOT]\n2020-08-05T14:38:18.2197439Z \tat com.google.cloud.healthcare.fdamystudies.oauthscim.service.UserServiceImpl.authenticate(UserServiceImpl.java:292) ~[classes/:na]"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9a4bf07e7dc098e2bf69710aa0ed900b6f73c91a", "author": {"user": {"login": "dhanyak-btc", "name": "Dhanya Kumar KV"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/9a4bf07e7dc098e2bf69710aa0ed900b6f73c91a", "committedDate": "2020-08-06T05:09:53Z", "message": "Removed duplicate commons-lang3 dependency from pom.xml\n\nTo fix below WARNING message\n\n2020-08-06T02:29:58.9360492Z [WARNING] Some problems were encountered while building the effective model for com.google.cloud.healthcare.fdamystudies:common-service:jar:0.0.1-SNAPSHOT\n2020-08-06T02:29:58.9364779Z [WARNING] 'dependencies.dependency.(groupId:artifactId:type:classifier)' must be unique: org.apache.commons:commons-lang3:jar -> duplicate declaration of version (?) @ line 83, column 15\n2020-08-06T02:29:58.9365364Z [WARNING]\n2020-08-06T02:29:58.9366239Z [WARNING] It is highly recommended to fix these problems because they threaten the stability of your build.\n2020-08-06T02:29:58.9366697Z [WARNING]\n2020-08-06T02:29:58.9368737Z [WARNING] For this reason, future Maven versions might no longer support building such malformed projects."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ab941ca63711573660bfdcfe5f3b30166262627c", "author": {"user": {"login": "dhanyak-btc", "name": "Dhanya Kumar KV"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/ab941ca63711573660bfdcfe5f3b30166262627c", "committedDate": "2020-08-06T06:00:37Z", "message": "Added logger statements to analyze build issue\n\nAdded logger statements to analyze build issue"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e0140d79416bc987d87f96b1d98823a083eed07c", "author": {"user": {"login": "dhanyak-btc", "name": "Dhanya Kumar KV"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/e0140d79416bc987d87f96b1d98823a083eed07c", "committedDate": "2020-08-06T06:07:31Z", "message": "Added @AfterEach cleanUp()\n\nAdded @AfterEach cleanUp()"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "10dfb9ba7db9d665ac7b71dcf4403a3a50c1a7fa", "author": {"user": {"login": "dhanyak-btc", "name": "Dhanya Kumar KV"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/10dfb9ba7db9d665ac7b71dcf4403a3a50c1a7fa", "committedDate": "2020-08-06T06:32:35Z", "message": "Removed debug logger statements\n\nRemoved debug logger statements"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2f47a79849cacdb38e4ea50b4ad9bbc9f073cf8f", "author": {"user": {"login": "dhanyak-btc", "name": "Dhanya Kumar KV"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/2f47a79849cacdb38e4ea50b4ad9bbc9f073cf8f", "committedDate": "2020-08-06T06:36:36Z", "message": "Merge branch 'develop' into oauth_scim_update_email_status"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYzNDc5NjQx", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/718#pullrequestreview-463479641", "createdAt": "2020-08-07T17:23:28Z", "commit": {"oid": "2f47a79849cacdb38e4ea50b4ad9bbc9f073cf8f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "65695583d867f8d1cd6e14b008648ea2e22667af", "author": {"user": {"login": "saminguyen", "name": "Sami Nguyen"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/65695583d867f8d1cd6e14b008648ea2e22667af", "committedDate": "2020-08-07T19:41:21Z", "message": "Merge branch 'develop' into oauth_scim_update_email_status"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "52f4bfdb5b7fdbb23bf9d36c6f9110b21b943318", "author": {"user": {"login": "dhanyak-btc", "name": "Dhanya Kumar KV"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/52f4bfdb5b7fdbb23bf9d36c6f9110b21b943318", "committedDate": "2020-08-10T05:35:49Z", "message": "Merge branch 'develop' into oauth_scim_update_email_status"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 606, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}