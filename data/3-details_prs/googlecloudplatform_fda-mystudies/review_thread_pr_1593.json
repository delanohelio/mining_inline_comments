{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA4MDc0MjUy", "number": 1593, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQxNToyODo1M1rOEx9NEQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQxNToyODo1M1rOEx9NEQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIwODE4NDQ5OnYy", "diffSide": "RIGHT", "path": "participant-manager-datastore/participant-manager-service/src/main/java/com/google/cloud/healthcare/fdamystudies/service/UserProfileServiceImpl.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQxNToyODo1M1rOHoVG0g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QwOTo0NjoyMVrOHozVfw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjA1MDg5OA==", "bodyText": "why does this replace the need to check the userStatus?\nPlease add a test to verify that everything is working as expected.", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1593#discussion_r512050898", "createdAt": "2020-10-26T15:28:53Z", "author": {"login": "zohrehj"}, "path": "participant-manager-datastore/participant-manager-service/src/main/java/com/google/cloud/healthcare/fdamystudies/service/UserProfileServiceImpl.java", "diffHunk": "@@ -227,7 +228,7 @@ public PatchUserResponse updateUserAccountStatus(PatchUserRequest statusRequest)\n     }\n \n     UserRegAdminEntity user = optUser.get();\n-    if (UserStatus.ACTIVE == userStatus || UserStatus.DEACTIVATED == userStatus) {\n+    if (StringUtils.isNotEmpty(user.getUrAdminAuthId())) {\n       updateUserAccountStatusInAuthServer(user.getUrAdminAuthId(), statusRequest.getStatus());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f10e708e6301386a94e7aafe75e7e35fca7560bc"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjU0NTIwNQ==", "bodyText": "Use Status validation is already implemented at Line 225 so we don't need to check the status again. We are setting User Account Status based on the request in Line 257.", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1593#discussion_r512545205", "createdAt": "2020-10-27T09:44:52Z", "author": {"login": "dhanyak-btc"}, "path": "participant-manager-datastore/participant-manager-service/src/main/java/com/google/cloud/healthcare/fdamystudies/service/UserProfileServiceImpl.java", "diffHunk": "@@ -227,7 +228,7 @@ public PatchUserResponse updateUserAccountStatus(PatchUserRequest statusRequest)\n     }\n \n     UserRegAdminEntity user = optUser.get();\n-    if (UserStatus.ACTIVE == userStatus || UserStatus.DEACTIVATED == userStatus) {\n+    if (StringUtils.isNotEmpty(user.getUrAdminAuthId())) {\n       updateUserAccountStatusInAuthServer(user.getUrAdminAuthId(), statusRequest.getStatus());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjA1MDg5OA=="}, "originalCommit": {"oid": "f10e708e6301386a94e7aafe75e7e35fca7560bc"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjU0NjE3NQ==", "bodyText": "Test cases shouldDeactivateUserAccount() and shouldReactivateUserAccount() is available in UserProfileControllerTest class", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1593#discussion_r512546175", "createdAt": "2020-10-27T09:46:21Z", "author": {"login": "harisboston"}, "path": "participant-manager-datastore/participant-manager-service/src/main/java/com/google/cloud/healthcare/fdamystudies/service/UserProfileServiceImpl.java", "diffHunk": "@@ -227,7 +228,7 @@ public PatchUserResponse updateUserAccountStatus(PatchUserRequest statusRequest)\n     }\n \n     UserRegAdminEntity user = optUser.get();\n-    if (UserStatus.ACTIVE == userStatus || UserStatus.DEACTIVATED == userStatus) {\n+    if (StringUtils.isNotEmpty(user.getUrAdminAuthId())) {\n       updateUserAccountStatusInAuthServer(user.getUrAdminAuthId(), statusRequest.getStatus());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjA1MDg5OA=="}, "originalCommit": {"oid": "f10e708e6301386a94e7aafe75e7e35fca7560bc"}, "originalPosition": 14}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1704, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}