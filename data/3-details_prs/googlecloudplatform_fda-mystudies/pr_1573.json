{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA3NDI0MjIx", "number": 1573, "title": "Participant manager: Fixed issue#1531", "bodyText": "Fixed issue #1531", "createdAt": "2020-10-21T10:22:40Z", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1573", "merged": true, "mergeCommit": {"oid": "5d290026b257a4ec2e64401c8db3f29bd13f00c4"}, "closed": true, "closedAt": "2020-10-27T04:55:00Z", "author": {"login": "monica-BTC"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdUqNOrgH2gAyNTA3NDI0MjIxOjk0ZTNiMDQ3NDlhNzQ2ODY4Y2I2NDUyOTNiYzI0YjMwMGE1MWEwODA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdWhdwIAH2gAyNTA3NDI0MjIxOmFlMTczZTA3YzA4YzJkNmVmNmFhNDkzOWMzNTk5MzhkZDc4NzQ3ZGE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "94e3b04749a746868cb645293bc24b300a51a080", "author": {"user": {"login": "monica-BTC", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/94e3b04749a746868cb645293bc24b300a51a080", "committedDate": "2020-10-21T09:46:11Z", "message": "Fixed issue #1531\n\nFixed issue #1531"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fb9c78d91afaf0ee0e8a12e76e90e2aa6a99f3e9", "author": {"user": {"login": "monica-BTC", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/fb9c78d91afaf0ee0e8a12e76e90e2aa6a99f3e9", "committedDate": "2020-10-21T10:21:01Z", "message": "added test case\n\nadded test case"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9907c276dfadeea86e00a4b5149442710cc6db73", "author": {"user": {"login": "monica-BTC", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/9907c276dfadeea86e00a4b5149442710cc6db73", "committedDate": "2020-10-21T11:33:32Z", "message": "renamed variables\n\nrenamed variables"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "422cb41ba05054e9b1251a28d73e71a57215c2a2", "author": {"user": {"login": "monica-BTC", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/422cb41ba05054e9b1251a28d73e71a57215c2a2", "committedDate": "2020-10-21T11:36:08Z", "message": "removed null check\n\nremoved null check"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE0MTM5NjAw", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1573#pullrequestreview-514139600", "createdAt": "2020-10-21T20:00:10Z", "commit": {"oid": "422cb41ba05054e9b1251a28d73e71a57215c2a2"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMVQyMDowMDoxMFrOHmBqkg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMVQyMDowMDoxMFrOHmBqkg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTYzNTIxOA==", "bodyText": "could you quickly fix the typo here", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1573#discussion_r509635218", "createdAt": "2020-10-21T20:00:10Z", "author": {"login": "saminguyen"}, "path": "participant-manager-datastore/participant-manager-service/src/main/java/com/google/cloud/healthcare/fdamystudies/service/AppServiceImpl.java", "diffHunk": "@@ -430,13 +430,15 @@ public AppParticipantsResponse getAppParticipants(\n \n     List<UserDetailsEntity> userDetails = userDetailsRepository.findByAppId(app.getId());\n     List<StudyEntity> studyEntity = studyRepository.findByAppId(app.getId());\n+    List<ParticipantDetail> participants = new ArrayList<>();\n \n-    Map<String, Map<StudyEntity, List<ParticipantStudyEntity>>>\n-        participantEnrollmentsByUserDetailsAndStudy =\n-            getEnrolledParticipants(userDetails, studyEntity);\n-\n-    List<ParticipantDetail> participants =\n-        prepareParticpantDetails(userDetails, participantEnrollmentsByUserDetailsAndStudy);\n+    if (CollectionUtils.isNotEmpty(userDetails)) {\n+      Map<String, Map<StudyEntity, List<ParticipantStudyEntity>>>\n+          participantEnrollmentsByUserDetailsAndStudy =\n+              getEnrolledParticipants(userDetails, studyEntity);\n+      participants =\n+          prepareParticpantDetails(userDetails, participantEnrollmentsByUserDetailsAndStudy);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "422cb41ba05054e9b1251a28d73e71a57215c2a2"}, "originalPosition": 17}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f71050d88aa66f39952bf200b529d46f8f975256", "author": {"user": {"login": "monica-BTC", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/f71050d88aa66f39952bf200b529d46f8f975256", "committedDate": "2020-10-23T03:47:42Z", "message": "Merge branch 'develop' into participant-manager-issue#1531"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6702180a2b931afdb7a649c21fef2c9e18ae73ea", "author": {"user": {"login": "monica-BTC", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/6702180a2b931afdb7a649c21fef2c9e18ae73ea", "committedDate": "2020-10-23T04:25:11Z", "message": "Fixed Review comment\n\nFixed Review comment"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6bc09415be72a111616e3b057fa19b0c62285b2d", "author": {"user": {"login": "monica-BTC", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/6bc09415be72a111616e3b057fa19b0c62285b2d", "committedDate": "2020-10-23T04:27:23Z", "message": "Merge branch 'develop' into participant-manager-issue#1531"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE3MTI2Mzc5", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1573#pullrequestreview-517126379", "createdAt": "2020-10-26T19:55:10Z", "commit": {"oid": "6bc09415be72a111616e3b057fa19b0c62285b2d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ae173e07c08c2d6ef6aa4939c359938dd78747da", "author": {"user": {"login": "monica-BTC", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/ae173e07c08c2d6ef6aa4939c359938dd78747da", "committedDate": "2020-10-27T04:42:56Z", "message": "Merge branch 'develop' into participant-manager-issue#1531"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 157, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}