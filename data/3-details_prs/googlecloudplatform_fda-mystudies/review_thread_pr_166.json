{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA1MDI3ODcz", "number": 166, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xN1QxMzo1NDozN1rODy6Sqw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xN1QxMzo1NTo0NVrODy6VDA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU0NzEwNDQzOnYy", "diffSide": "RIGHT", "path": "iOS/HPHC/HPHC/Controllers/StudyUI/ResourceUI/GatewayResourceDetailViewController.swift", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xN1QxMzo1NDozN1rOGHO-jw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xN1QxNTozMjowOVrOGHSyEA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDIzODYwNw==", "bodyText": "nit: change didFail to didFinish to be consistent with the previous method.", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/166#discussion_r410238607", "createdAt": "2020-04-17T13:54:37Z", "author": {"login": "zohrehj"}, "path": "iOS/HPHC/HPHC/Controllers/StudyUI/ResourceUI/GatewayResourceDetailViewController.swift", "diffHunk": "@@ -159,24 +153,19 @@ class GatewayResourceDetailViewController: UIViewController {\n   }\n \n   @IBAction func buttonActionForward(_ sender: UIBarButtonItem) {\n-\n     self.sendEmail()\n   }\n \n-  override func didReceiveMemoryWarning() {\n-    super.didReceiveMemoryWarning()\n-    // Dispose of any resources that can be recreated.\n-  }\n }\n \n-extension GatewayResourceDetailViewController: UIWebViewDelegate {\n+extension GatewayResourceDetailViewController: WKNavigationDelegate {\n \n-  func webViewDidFinishLoad(_ webView: UIWebView) {\n+  func webView(_ webView: WKWebView, didFinish navigation: WKNavigation!) {\n     self.activityIndicator.stopAnimating()\n     self.activityIndicator.removeFromSuperview()\n   }\n \n-  func webView(_ webView: UIWebView, didFailLoadWithError error: Error) {\n+  func webView(_ webView: WKWebView, didFail navigation: WKNavigation!, withError error: Error) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "995aef3ca29589be0db0fa9f3261daaa844244c2"}, "originalPosition": 86}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDMwMDk0NA==", "bodyText": "didFail and didFinish, both the methods are updated with new ones.", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/166#discussion_r410300944", "createdAt": "2020-04-17T15:32:09Z", "author": {"login": "tushar-boston"}, "path": "iOS/HPHC/HPHC/Controllers/StudyUI/ResourceUI/GatewayResourceDetailViewController.swift", "diffHunk": "@@ -159,24 +153,19 @@ class GatewayResourceDetailViewController: UIViewController {\n   }\n \n   @IBAction func buttonActionForward(_ sender: UIBarButtonItem) {\n-\n     self.sendEmail()\n   }\n \n-  override func didReceiveMemoryWarning() {\n-    super.didReceiveMemoryWarning()\n-    // Dispose of any resources that can be recreated.\n-  }\n }\n \n-extension GatewayResourceDetailViewController: UIWebViewDelegate {\n+extension GatewayResourceDetailViewController: WKNavigationDelegate {\n \n-  func webViewDidFinishLoad(_ webView: UIWebView) {\n+  func webView(_ webView: WKWebView, didFinish navigation: WKNavigation!) {\n     self.activityIndicator.stopAnimating()\n     self.activityIndicator.removeFromSuperview()\n   }\n \n-  func webView(_ webView: UIWebView, didFailLoadWithError error: Error) {\n+  func webView(_ webView: WKWebView, didFail navigation: WKNavigation!, withError error: Error) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDIzODYwNw=="}, "originalCommit": {"oid": "995aef3ca29589be0db0fa9f3261daaa844244c2"}, "originalPosition": 86}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU0NzExMDUyOnYy", "diffSide": "RIGHT", "path": "iOS/HPHC/HPHC/Controllers/StudyUI/ResourceUI/GatewayResourceDetailViewController.swift", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xN1QxMzo1NTo0NVrOGHPCBw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xN1QxNTozMzowNFrOGHS0Og==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDIzOTQ5NQ==", "bodyText": "nit: typo. didFailWithError", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/166#discussion_r410239495", "createdAt": "2020-04-17T13:55:45Z", "author": {"login": "zohrehj"}, "path": "iOS/HPHC/HPHC/Controllers/StudyUI/ResourceUI/GatewayResourceDetailViewController.swift", "diffHunk": "@@ -295,21 +284,18 @@ extension GatewayResourceDetailViewController: FileDownloadManagerDelegates {\n \n     let data = FileDownloadManager.decrytFile(pathURL: URL.init(string: fullPath))\n \n-    if data != nil {\n+    if let pdfData = data {\n       self.resource?.file?.localPath = path\n-      let mimeType = \"application/\" + \"\\((self.resource?.file?.mimeType?.rawValue)!)\"\n-      self.webView?.load(\n-        data!,\n+      let mimeType = \"application/\" + \"\\(self.resource?.file?.mimeType?.rawValue ?? \"\")\"\n+      self.webView.load(\n+        pdfData,\n         mimeType: mimeType,\n-        textEncodingName: \"UTF-8\",\n-        baseURL: URL.init(fileURLWithPath: \"\")\n+        characterEncodingName: \"UTF-8\",\n+        baseURL: URL(fileURLWithPath: \"\")\n       )\n     }\n-\n   }\n \n-  func download(manager: FileDownloadManager, didFailedWithError error: Error) {\n-\n-  }\n+  func download(manager: FileDownloadManager, didFailedWithError error: Error) {}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "995aef3ca29589be0db0fa9f3261daaa844244c2"}, "originalPosition": 116}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDMwMTQ5OA==", "bodyText": "These methods are defined in a library.", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/166#discussion_r410301498", "createdAt": "2020-04-17T15:33:04Z", "author": {"login": "tushar-boston"}, "path": "iOS/HPHC/HPHC/Controllers/StudyUI/ResourceUI/GatewayResourceDetailViewController.swift", "diffHunk": "@@ -295,21 +284,18 @@ extension GatewayResourceDetailViewController: FileDownloadManagerDelegates {\n \n     let data = FileDownloadManager.decrytFile(pathURL: URL.init(string: fullPath))\n \n-    if data != nil {\n+    if let pdfData = data {\n       self.resource?.file?.localPath = path\n-      let mimeType = \"application/\" + \"\\((self.resource?.file?.mimeType?.rawValue)!)\"\n-      self.webView?.load(\n-        data!,\n+      let mimeType = \"application/\" + \"\\(self.resource?.file?.mimeType?.rawValue ?? \"\")\"\n+      self.webView.load(\n+        pdfData,\n         mimeType: mimeType,\n-        textEncodingName: \"UTF-8\",\n-        baseURL: URL.init(fileURLWithPath: \"\")\n+        characterEncodingName: \"UTF-8\",\n+        baseURL: URL(fileURLWithPath: \"\")\n       )\n     }\n-\n   }\n \n-  func download(manager: FileDownloadManager, didFailedWithError error: Error) {\n-\n-  }\n+  func download(manager: FileDownloadManager, didFailedWithError error: Error) {}", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDIzOTQ5NQ=="}, "originalCommit": {"oid": "995aef3ca29589be0db0fa9f3261daaa844244c2"}, "originalPosition": 116}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1152, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}