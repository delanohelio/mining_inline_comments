{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkxNTIzMTM1", "number": 1015, "title": "Response Server - Fixed issue #1005", "bodyText": "Fixed issue #1005, Added @Index in Entity classes in Response Server", "createdAt": "2020-09-23T05:21:10Z", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1015", "merged": true, "mergeCommit": {"oid": "939ce811223806949bd960007b0298770f3654ac"}, "closed": true, "closedAt": "2020-10-01T15:54:41Z", "author": {"login": "monica-BTC"}, "timelineItems": {"totalCount": 20, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdLlk75AH2gAyNDkxNTIzMTM1OmM3MDM1ZDM5ODhlZmQwZGIzYzg5ZWUxMjJhMzk2MWVjZmY1Mjg0N2Y=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdOTRrkgH2gAyNDkxNTIzMTM1OjUzNTJiNzA5MzgzYjFhMDc4ZDMzMzY0Mjg1NWQyNGIzYTRkNWRjMjc=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "c7035d3988efd0db3c89ee122a3961ecff52847f", "author": {"user": {"login": "monica-BTC", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/c7035d3988efd0db3c89ee122a3961ecff52847f", "committedDate": "2020-09-23T05:17:14Z", "message": "Fixed issue #1005\n\nFixed issue #1005"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bc9ab11a690c33c66899fb7ed03294cfadf55f8a", "author": {"user": {"login": "monica-BTC", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/bc9ab11a690c33c66899fb7ed03294cfadf55f8a", "committedDate": "2020-09-23T06:55:52Z", "message": "changed index names\n\nchanged index names"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "41b631f29df9fa2df1c4767e1dc15e07229db667", "author": {"user": {"login": "monica-BTC", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/41b631f29df9fa2df1c4767e1dc15e07229db667", "committedDate": "2020-09-23T15:11:48Z", "message": "Fixed Build issue\n\nFixed Build issue"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "957c5192510e90b55d97d16a89df88189ea8b31a", "author": {"user": {"login": "monica-BTC", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/957c5192510e90b55d97d16a89df88189ea8b31a", "committedDate": "2020-09-23T15:13:22Z", "message": "Merge branch 'response-server-audit-log-events' into response-server-issue#1005"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk0ODkzOTYz", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1015#pullrequestreview-494893963", "createdAt": "2020-09-23T17:36:11Z", "commit": {"oid": "957c5192510e90b55d97d16a89df88189ea8b31a"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c6d49fc525edcde5bed8da240be67e2ca3800aad", "author": {"user": {"login": "monica-BTC", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/c6d49fc525edcde5bed8da240be67e2ca3800aad", "committedDate": "2020-09-25T07:13:48Z", "message": "Merge branch 'develop' into response-server-issue#1005"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f43197fbfb2f1983db6f0f6f170c942451f2c573", "author": {"user": {"login": "monica-BTC", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/f43197fbfb2f1983db6f0f6f170c942451f2c573", "committedDate": "2020-09-25T09:33:14Z", "message": "removed participant_info_participant_identifier_idx as it is unique\n\nremoved participant_info_participant_identifier_idx as it is unique"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d34c070b9d5e82041d75d4c17e23232bb80e9d87", "author": {"user": {"login": "monica-BTC", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/d34c070b9d5e82041d75d4c17e23232bb80e9d87", "committedDate": "2020-09-25T10:04:01Z", "message": "Merge branch 'develop' into response-server-issue#1005"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk2NDg5NjYx", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1015#pullrequestreview-496489661", "createdAt": "2020-09-25T14:45:00Z", "commit": {"oid": "d34c070b9d5e82041d75d4c17e23232bb80e9d87"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNVQxNDo0NTowMFrOHYGt5w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNVQxNDo0Njo1MFrOHYGyew==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTAzNzkyNw==", "bodyText": "shouldn't participantId be a foreign key?", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1015#discussion_r495037927", "createdAt": "2020-09-25T14:45:00Z", "author": {"login": "zohrehj"}, "path": "response-server-module/response-server-service/src/main/java/com/google/cloud/healthcare/fdamystudies/model/ParticipantActivitiesBo.java", "diffHunk": "@@ -15,14 +15,22 @@\n import javax.persistence.GeneratedValue;\n import javax.persistence.GenerationType;\n import javax.persistence.Id;\n+import javax.persistence.Index;\n import javax.persistence.Table;\n import lombok.Getter;\n import lombok.Setter;\n \n @Setter\n @Getter\n @Entity\n-@Table(name = \"participant_activities\")\n+@Table(\n+    name = \"participant_activities\",\n+    indexes = {\n+      @Index(\n+          name = \"participant_activities_participant_identifier_idx\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d34c070b9d5e82041d75d4c17e23232bb80e9d87"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTAzOTA5OQ==", "bodyText": "if token needs to be unique, please add the unique annotation to it and see if that generates the index. If hibernate/SQL creates the index already (as I think MySQL would), then that is the preferred approach.", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1015#discussion_r495039099", "createdAt": "2020-09-25T14:46:50Z", "author": {"login": "zohrehj"}, "path": "response-server-module/response-server-service/src/main/java/com/google/cloud/healthcare/fdamystudies/model/ParticipantBo.java", "diffHunk": "@@ -16,10 +16,18 @@\n import javax.persistence.GeneratedValue;\n import javax.persistence.GenerationType;\n import javax.persistence.Id;\n+import javax.persistence.Index;\n import javax.persistence.Table;\n \n @Entity\n-@Table(name = \"participant_info\")\n+@Table(\n+    name = \"participant_info\",\n+    indexes = {\n+      @Index(\n+          name = \"participant_info_token_identifier_idx\",\n+          columnList = \"token_identifier\",\n+          unique = true)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d34c070b9d5e82041d75d4c17e23232bb80e9d87"}, "originalPosition": 15}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "667cc35840d20657c8887bf348d94c1c931a6a06", "author": {"user": {"login": "dhanyak-btc", "name": "Dhanya Kumar KV"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/667cc35840d20657c8887bf348d94c1c931a6a06", "committedDate": "2020-09-25T18:05:04Z", "message": "Merge branch 'develop' into response-server-issue#1005"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0a02e1357745339bb10af17fc8687e83fb959e46", "author": {"user": {"login": "monica-BTC", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/0a02e1357745339bb10af17fc8687e83fb959e46", "committedDate": "2020-09-29T04:47:33Z", "message": "Merge branch 'develop' into response-server-issue#1005"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a121f3df8e88812effb7ea4e570a57e336982924", "author": {"user": {"login": "monica-BTC", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/a121f3df8e88812effb7ea4e570a57e336982924", "committedDate": "2020-09-30T15:06:16Z", "message": "removed unique from participant_info_token_identifier_idx index\n\nremoved unique from participant_info_token_identifier_idx index"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk5NTMzOTY3", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1015#pullrequestreview-499533967", "createdAt": "2020-09-30T15:07:14Z", "commit": {"oid": "a121f3df8e88812effb7ea4e570a57e336982924"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0zMFQxNTowNzoxNFrOHaiQZA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0zMFQxNTowNzoxNFrOHaiQZA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzU4NjI3Ng==", "bodyText": "[response-server Checks] reported by reviewdog \ud83d\udc36\n'package' should be separated from previous statement.", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1015#discussion_r497586276", "createdAt": "2020-09-30T15:07:14Z", "author": {"login": "github-actions"}, "path": "response-server-module/response-server-service/src/main/java/com/google/cloud/healthcare/fdamystudies/response/model/ParticipantActivity.java", "diffHunk": "@@ -5,7 +5,7 @@\n  * license that can be found in the LICENSE file or at\n  * https://opensource.org/licenses/MIT.\n  */\n-package com.google.cloud.healthcare.fdamystudies.model;\n+package com.google.cloud.healthcare.fdamystudies.response.model;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a121f3df8e88812effb7ea4e570a57e336982924"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3eb86be9baceca92f640abe8abcbf575247e4e1c", "author": {"user": {"login": "monica-BTC", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/3eb86be9baceca92f640abe8abcbf575247e4e1c", "committedDate": "2020-09-30T15:10:32Z", "message": "Fixed reviewdog comment\n\nFixed reviewdog comment"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1419ea122dd026e06c8267db694eb53cb1b1cfff", "author": {"user": {"login": "monica-BTC", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/1419ea122dd026e06c8267db694eb53cb1b1cfff", "committedDate": "2020-09-30T15:13:18Z", "message": "Merge branch 'develop' into response-server-issue#1005"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk5NzI1Mzg2", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1015#pullrequestreview-499725386", "createdAt": "2020-09-30T18:59:34Z", "commit": {"oid": "1419ea122dd026e06c8267db694eb53cb1b1cfff"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0zMFQxODo1OTozNVrOHarPxg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0zMFQxODo1OTozNVrOHarPxg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzczMzU3NA==", "bodyText": "since the token is not unique, most likely your query includes more than just the token_identifier; so it is possible that a composite index might be a better solution.\nPlease document the query you need this index for so that I can verify if this is the appropriate index for it.", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1015#discussion_r497733574", "createdAt": "2020-09-30T18:59:35Z", "author": {"login": "zohrehj"}, "path": "response-server-module/response-server-service/src/main/java/com/google/cloud/healthcare/fdamystudies/response/model/ParticipantBo.java", "diffHunk": "@@ -16,10 +16,15 @@\n import javax.persistence.GeneratedValue;\n import javax.persistence.GenerationType;\n import javax.persistence.Id;\n+import javax.persistence.Index;\n import javax.persistence.Table;\n \n @Entity\n-@Table(name = \"participant_info\")\n+@Table(\n+    name = \"participant_info\",\n+    indexes = {\n+      @Index(name = \"participant_info_token_identifier_idx\", columnList = \"token_identifier\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1419ea122dd026e06c8267db694eb53cb1b1cfff"}, "originalPosition": 21}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "774fecb6933640be71edd25de82165156d96f5c7", "author": {"user": {"login": "monica-BTC", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/774fecb6933640be71edd25de82165156d96f5c7", "committedDate": "2020-10-01T08:14:24Z", "message": "Merge branch 'develop' into response-server-issue#1005"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "08bf6245fa236b96714ddc6eafd0f599e26408d5", "author": {"user": {"login": "monica-BTC", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/08bf6245fa236b96714ddc6eafd0f599e26408d5", "committedDate": "2020-10-01T11:21:45Z", "message": "Fixed Review comments\n\nFixed Review comments"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAwNDc1OTAy", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1015#pullrequestreview-500475902", "createdAt": "2020-10-01T15:36:40Z", "commit": {"oid": "08bf6245fa236b96714ddc6eafd0f599e26408d5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5352b709383b1a078d333642855d24b3a4d5dc27", "author": {"user": {"login": "monica-BTC", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/5352b709383b1a078d333642855d24b3a4d5dc27", "committedDate": "2020-10-01T15:39:41Z", "message": "Merge branch 'develop' into response-server-issue#1005"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 290, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}