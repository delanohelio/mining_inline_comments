{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE5Mzg5NTc3", "number": 1978, "title": "Remove /hydra from hydra deployment", "bodyText": "Hydra does not support custom path prefixes, which means we need to strip any additional prefixes before calling the service, this can be done by nginx ingress, but our current deployment (using gke ingress) does not support it.\nMy current solution is to send all traffic starting with /oauth2 to hydra; this of course does not work for all hydra endpoints, e.g. /user-info or /.well-known/* endpoint will need a different solution when/if we integrate with them.", "createdAt": "2020-11-11T18:57:22Z", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1978", "merged": true, "mergeCommit": {"oid": "6185e9fbee5c9904de2c8714e51ce5b7e2d5cad6"}, "closed": true, "closedAt": "2020-11-12T17:36:25Z", "author": {"login": "zohrehj"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdbiobJgH2gAyNTE5Mzg5NTc3OjEzYmZmMDhhZjRjNmE3NzcyZDYyYTU0NGZjYjg1NzI2ZGMyZTdkNWI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdb2T6kgFqTUyOTM0MTA4NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "13bff08af4c6a7772d62a544fcb85726dc2e7d5b", "author": {"user": {"login": "zohrehj", "name": "Zohreh Jabbari"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/13bff08af4c6a7772d62a544fcb85726dc2e7d5b", "committedDate": "2020-11-11T18:54:07Z", "message": "Remove /hydra from hydra deployment"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f0fb594620b283189ee11b5679c7a58f688489e0", "author": {"user": {"login": "zohrehj", "name": "Zohreh Jabbari"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/f0fb594620b283189ee11b5679c7a58f688489e0", "committedDate": "2020-11-12T16:29:10Z", "message": "Merge branch 'develop' into hydra-path"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI5MjczOTYx", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1978#pullrequestreview-529273961", "createdAt": "2020-11-12T16:38:16Z", "commit": {"oid": "f0fb594620b283189ee11b5679c7a58f688489e0"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMlQxNjozODoxN1rOHyDe1Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMlQxNjozODoxN1rOHyDe1Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjI0Nzg5Mw==", "bodyText": "nit: just CREATE DATABASE `hydra`;?", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1978#discussion_r522247893", "createdAt": "2020-11-12T16:38:17Z", "author": {"login": "nikklassen"}, "path": "hydra/sqlscript/create_hydra_db_script.sql", "diffHunk": "@@ -1,2 +1,3 @@\n+DROP DATABASE IF EXISTS `hydra`;\n CREATE DATABASE IF NOT EXISTS `hydra`;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f0fb594620b283189ee11b5679c7a58f688489e0"}, "originalPosition": 2}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI5Mjc0OTY1", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1978#pullrequestreview-529274965", "createdAt": "2020-11-12T16:39:21Z", "commit": {"oid": "f0fb594620b283189ee11b5679c7a58f688489e0"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d2a56528378ba3eafd6464e7540abfa8527f00ef", "author": {"user": {"login": "zohrehj", "name": "Zohreh Jabbari"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/d2a56528378ba3eafd6464e7540abfa8527f00ef", "committedDate": "2020-11-12T16:53:47Z", "message": "Merge branch 'develop' into hydra-path"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b37b753dac4699f1d5495d032a456ee1419268d1", "author": {"user": {"login": "zohrehj", "name": "Zohreh Jabbari"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/b37b753dac4699f1d5495d032a456ee1419268d1", "committedDate": "2020-11-12T16:55:37Z", "message": "Fix unnecessary check in sql script"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI5MzA4MjM2", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1978#pullrequestreview-529308236", "createdAt": "2020-11-12T17:14:26Z", "commit": {"oid": "b37b753dac4699f1d5495d032a456ee1419268d1"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI5MzQxMDg0", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1978#pullrequestreview-529341084", "createdAt": "2020-11-12T17:49:49Z", "commit": {"oid": "b37b753dac4699f1d5495d032a456ee1419268d1"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1180, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}