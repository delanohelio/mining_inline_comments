{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDgxODMzNTY4", "number": 910, "title": "Consent Mgmt Service - Replace transaction commit/rollback with @Transactional ", "bodyText": "Replaced transaction commit/rollback with @Transactional\nAdded HibernateConfiguration class to common-modules\nFixed Test failures, Code Format+Organize Imports\n\nNote: +2 space indentation on pom.xml resulted in 516 LOC modified, hence PR exceeded 500 LOC. Please review.", "createdAt": "2020-09-08T07:13:11Z", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/910", "merged": true, "mergeCommit": {"oid": "b9785dce5ba049abae5c248fedd4fbf69ac215c3"}, "closed": true, "closedAt": "2020-09-09T14:51:06Z", "author": {"login": "monica-BTC"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdGBHdZAH2gAyNDgxODMzNTY4OjEwMzJlM2UxNGY3NDdkNDg0YTJkOGUwODUyYjZjODIyMzFlN2JhMmU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdHNWn_gH2gAyNDgxODMzNTY4OmZjNDA1NzAwYjcwZjFjYzFlMDc5MTU5MGQ1MjZhOTVmYmU4OTdmZDE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "1032e3e14f747d484a2d8e0852b6c82231e7ba2e", "author": {"user": {"login": "dhanyak-btc", "name": "Dhanya Kumar KV"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/1032e3e14f747d484a2d8e0852b6c82231e7ba2e", "committedDate": "2020-09-05T21:58:50Z", "message": "Use @Transactional in service layer\n\nRemove commit/rollback in dao layer\nAdded Hibernate Configuration and changed data.sql to fix SQL Syntax error"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "db8297bae332df98c9f4a396c89bc06b849ae003", "author": {"user": {"login": "dhanyak-btc", "name": "Dhanya Kumar KV"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/db8297bae332df98c9f4a396c89bc06b849ae003", "committedDate": "2020-09-06T07:13:55Z", "message": "Added default values to show-sql, ddl-auto, import file props\n\nAdded default values to show-sql, ddl-auto, import file props"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "89ff6dbc57769a299158ce92aad9886deb8d6da9", "author": {"user": {"login": "dhanyak-btc", "name": "Dhanya Kumar KV"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/89ff6dbc57769a299158ce92aad9886deb8d6da9", "committedDate": "2020-09-06T07:23:38Z", "message": "Source Code Format and Organize Imports\n\nSource Code Format and Organize Imports"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8fbcb8a0d1b3c995fb4be8f5e682f1dcda6f49c9", "author": {"user": {"login": "dhanyak-btc", "name": "Dhanya Kumar KV"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/8fbcb8a0d1b3c995fb4be8f5e682f1dcda6f49c9", "committedDate": "2020-09-06T09:33:39Z", "message": "Added Mock for Cloud Storage in AppConfigTest\n\nAdded Mock for Cloud Storage in AppConfigTest"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "422705145683a17a72b52594666eda04b8d7ce1d", "author": {"user": {"login": "monica-BTC", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/422705145683a17a72b52594666eda04b8d7ce1d", "committedDate": "2020-09-08T07:07:16Z", "message": "Added Integration test cases for consent bundle\n\nAdded Integration test cases for consent bundle"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg0MjEzNjI2", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/910#pullrequestreview-484213626", "createdAt": "2020-09-08T14:44:02Z", "commit": {"oid": "422705145683a17a72b52594666eda04b8d7ce1d"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOFQxNDo0NDowMlrOHOgoLw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOFQxNDo1Mjo1OFrOHOhCuw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDk3NjY4Nw==", "bodyText": "It doesn't seem like this is strictly necessary, spring-boot-data seems like it does this for you https://stackoverflow.com/a/41643269", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/910#discussion_r484976687", "createdAt": "2020-09-08T14:44:02Z", "author": {"login": "nikklassen"}, "path": "common-modules/common-service/src/main/java/com/google/cloud/healthcare/fdamystudies/config/HibernateConfiguration.java", "diffHunk": "@@ -0,0 +1,92 @@\n+/*\n+ * Copyright 2020 Google LLC\n+ *\n+ * Use of this source code is governed by an MIT-style\n+ * license that can be found in the LICENSE file or at\n+ * https://opensource.org/licenses/MIT.\n+ */\n+\n+package com.google.cloud.healthcare.fdamystudies.config;\n+\n+import java.util.Properties;\n+import javax.sql.DataSource;\n+import org.apache.commons.lang3.StringUtils;\n+import org.springframework.beans.factory.annotation.Value;\n+import org.springframework.boot.autoconfigure.condition.ConditionalOnProperty;\n+import org.springframework.context.annotation.Bean;\n+import org.springframework.context.annotation.Configuration;\n+import org.springframework.jdbc.datasource.DriverManagerDataSource;\n+import org.springframework.orm.hibernate5.HibernateTransactionManager;\n+import org.springframework.orm.hibernate5.LocalSessionFactoryBean;\n+import org.springframework.transaction.annotation.EnableTransactionManagement;\n+\n+@Configuration\n+@EnableTransactionManagement", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "422705145683a17a72b52594666eda04b8d7ce1d"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDk4Mjk4MA==", "bodyText": "Why are these changes included?", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/910#discussion_r484982980", "createdAt": "2020-09-08T14:52:18Z", "author": {"login": "nikklassen"}, "path": "user-registration-server-ws/consent-mgmt-module/consent-mgmt/src/main/java/com/google/cloud/healthcare/fdamystudies/service/CloudStorageService.java", "diffHunk": "@@ -66,27 +58,14 @@ public String saveFile(String fileName, String content, String underDirectory) {\n   }\n \n   @Override\n-  public void downloadFileTo(String absoluteFileName, OutputStream outputStream) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "422705145683a17a72b52594666eda04b8d7ce1d"}, "originalPosition": 39}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDk4MzQ4Mw==", "bodyText": "Shouldn't these annotations be on the Dao class? That way you add them in one place instead of everywhere that the Dao is used", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/910#discussion_r484983483", "createdAt": "2020-09-08T14:52:58Z", "author": {"login": "nikklassen"}, "path": "user-registration-server-ws/consent-mgmt-module/consent-mgmt/src/main/java/com/google/cloud/healthcare/fdamystudies/service/UserConsentManagementServiceImpl.java", "diffHunk": "@@ -42,6 +41,7 @@\n       LoggerFactory.getLogger(UserConsentManagementServiceImpl.class);\n \n   @Override\n+  @Transactional(readOnly = true)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "422705145683a17a72b52594666eda04b8d7ce1d"}, "originalPosition": 21}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8ded875beef48da8e27c9de27a49bb34f155d477", "author": {"user": {"login": "monica-BTC", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/8ded875beef48da8e27c9de27a49bb34f155d477", "committedDate": "2020-09-09T12:20:50Z", "message": "Fixed review comment\n\nFixed review comment"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg1MDQ2MzIx", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/910#pullrequestreview-485046321", "createdAt": "2020-09-09T14:06:36Z", "commit": {"oid": "8ded875beef48da8e27c9de27a49bb34f155d477"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fc405700b70f1cc1e0791590d526a95fbe897fd1", "author": {"user": {"login": "monica-BTC", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/fc405700b70f1cc1e0791590d526a95fbe897fd1", "committedDate": "2020-09-09T14:48:11Z", "message": "Merge branch 'develop' into consent_dao_transactional"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 479, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}