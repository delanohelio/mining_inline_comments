{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk3NTU5ODMw", "number": 1113, "title": "iOS - Hydra registration flow", "bodyText": "This includes changes for #920\n\nRegistration flow\nForgot password\nLogout", "createdAt": "2020-10-05T03:32:13Z", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1113", "merged": true, "mergeCommit": {"oid": "b0d4f103b28d81f85873b695ccd0acf11c56ee6b"}, "closed": true, "closedAt": "2020-10-29T03:36:02Z", "author": {"login": "tushar-boston"}, "timelineItems": {"totalCount": 15, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdNNlM3gH2gAyNDk3NTU5ODMwOjkyNGYyMTc5YWI3OTIxODU3ZDVjMjNkZTVhYzM2Mzc3YmRmNzQ3YTQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdXJfdWAH2gAyNDk3NTU5ODMwOjViNjY2MTFiOWE1YjY3MWRiZmJmYzg3MDNkNjMxOWZiZDI5ZjM3ODM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "924f2179ab7921857d5c23de5ac36377bdf747a4", "author": {"user": {"login": "tushar-boston", "name": "Tushar Katyal"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/924f2179ab7921857d5c23de5ac36377bdf747a4", "committedDate": "2020-09-28T06:27:39Z", "message": "Add Hydra registration."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ace937ec68f85dc6ead223c6c086b672a273e5b7", "author": {"user": {"login": "tushar-boston", "name": "Tushar Katyal"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/ace937ec68f85dc6ead223c6c086b672a273e5b7", "committedDate": "2020-09-28T06:27:48Z", "message": "Hydra forgot password and verification flow."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "17650f3d43855b2c6a43b2722d55eff67a0ca436", "author": {"user": {"login": "tushar-boston", "name": "Tushar Katyal"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/17650f3d43855b2c6a43b2722d55eff67a0ca436", "committedDate": "2020-09-28T06:28:13Z", "message": "Add Hydra logout."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "50491d1e01e232640c77caeb6b8cf074ae0b25d3", "author": {"user": {"login": "tushar-boston", "name": "Tushar Katyal"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/50491d1e01e232640c77caeb6b8cf074ae0b25d3", "committedDate": "2020-09-28T09:48:55Z", "message": "Add registration UI test."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3f9d11292137f97a9fcffa7994ef0fd7cb0723a0", "author": {"user": {"login": "tushar-boston", "name": "Tushar Katyal"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/3f9d11292137f97a9fcffa7994ef0fd7cb0723a0", "committedDate": "2020-10-05T03:28:02Z", "message": "fix verification flow"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "16a658c2c2af7bb53247aa8797a58e51c9bb438e", "author": {"user": {"login": "tushar-boston", "name": "Tushar Katyal"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/16a658c2c2af7bb53247aa8797a58e51c9bb438e", "committedDate": "2020-10-05T03:37:52Z", "message": "Merge branch 'develop' into ios-hydra-services"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAzOTY4NTA1", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1113#pullrequestreview-503968505", "createdAt": "2020-10-07T14:53:35Z", "commit": {"oid": "16a658c2c2af7bb53247aa8797a58e51c9bb438e"}, "state": "COMMENTED", "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QxNDo1MzozNVrOHd3bRQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QxNDo1OToyNFrOHd3tWA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTA3ODg1Mw==", "bodyText": "please file a bug for remaining work and link in the TODO.", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1113#discussion_r501078853", "createdAt": "2020-10-07T14:53:35Z", "author": {"login": "zohrehj"}, "path": "iOS/HPHC/HPHC/Networking/Services/APIService.swift", "diffHunk": "@@ -29,7 +29,17 @@ class APIService {\n           completion(nil, false, .defaultError)\n         }\n       case .failure:\n-        completion(nil, false, ApiError.defaultError) // TODO: Parse errors.\n+        if let error = ApiError(data: response.data) {\n+          if let code = error.code,\n+            code == .tokenExpired\n+          {\n+            // TODO: Refresh the token", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "16a658c2c2af7bb53247aa8797a58e51c9bb438e"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTA4MDUxOA==", "bodyText": "shouldn't correlationID get stored? the way it is, it will return a new value for each call.", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1113#discussion_r501080518", "createdAt": "2020-10-07T14:55:36Z", "author": {"login": "zohrehj"}, "path": "iOS/HPHC/HPHC/Networking/Services/SessionService.swift", "diffHunk": "@@ -27,7 +27,7 @@ class SessionService {\n   }\n \n   /// Current App Session ID\n-  private(set) var correlationID: String = {\n+  static var correlationID: String = {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "16a658c2c2af7bb53247aa8797a58e51c9bb438e"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTA4MTk3OA==", "bodyText": "Is this a new text? if yes, please get it reviewed/approved.", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1113#discussion_r501081978", "createdAt": "2020-10-07T14:57:32Z", "author": {"login": "zohrehj"}, "path": "iOS/HPHC/HPHC/Utils/Resources/Localizable/LocalizableString.swift", "diffHunk": "@@ -26,5 +28,7 @@ enum LocalizableString: String {\n   case blockerScreenLabelText = \"Please update to the latest version of the app to continue.\"\n   case appStoreUpdateText = \"Please go to AppStore to update to the latest version of the app.\"\n \n+  // MARK: - Errors\n+  case badHappened = \"Something bad happened\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "16a658c2c2af7bb53247aa8797a58e51c9bb438e"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTA4MzE2MQ==", "bodyText": "is there a need to verify success, or do failures automatically get surfaced?", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1113#discussion_r501083161", "createdAt": "2020-10-07T14:59:00Z", "author": {"login": "zohrehj"}, "path": "iOS/HPHC/MyStudiesUITests/AuthTests.swift", "diffHunk": "@@ -0,0 +1,54 @@\n+//  Copyright 2020 Google LLC\n+//\n+//  Use of this source code is governed by an MIT-style\n+//  license that can be found in the LICENSE file or at\n+//  https://opensource.org/licenses/MIT.\n+\n+import XCTest\n+\n+class MyStudiesUITests: XCTestCase {\n+\n+  override func setUpWithError() throws {\n+    // In UI tests it is usually best to stop immediately when a failure occurs.\n+    continueAfterFailure = false\n+  }\n+\n+  func testLaunchPerformance() throws {\n+    if #available(macOS 10.15, iOS 13.0, tvOS 13.0, *) {\n+      // This measures how long it takes to launch your application.\n+      measure(metrics: [XCTOSSignpostMetric.applicationLaunch]) {\n+        XCUIApplication().launch()\n+      }\n+    }\n+  }\n+\n+  func testRegistrationFlow() {\n+\n+    let app = XCUIApplication()\n+    app.launch()\n+\n+    app.buttons[\"New User?\"].tap()\n+\n+    let tablesQuery2 = app.tables\n+    let tablesQuery = tablesQuery2\n+\n+    let emailField = tablesQuery.textFields[\"enter email\"]\n+    emailField.tap()\n+    emailField.typeText(\"test@xyz.la\")\n+\n+    let passwordField = tablesQuery.secureTextFields[\"add password\"]\n+    passwordField.tap()\n+    passwordField.typeText(\"Test@124\")\n+\n+    let confirmPasswordField = tablesQuery.secureTextFields[\"confirm password\"]\n+    confirmPasswordField.tap()\n+    confirmPasswordField.typeText(\"Test@124\")\n+\n+    app.tables.buttons[\"notChecked\"].tap()\n+\n+    app.toolbars[\"Toolbar\"].buttons[\"Done\"].tap()\n+    app.buttons[\"Submit\"].tap()\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "16a658c2c2af7bb53247aa8797a58e51c9bb438e"}, "originalPosition": 51}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTA4MzQ4MA==", "bodyText": "if possible, please add test for a failure scenario as well.", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1113#discussion_r501083480", "createdAt": "2020-10-07T14:59:24Z", "author": {"login": "zohrehj"}, "path": "iOS/HPHC/MyStudiesUITests/AuthTests.swift", "diffHunk": "@@ -0,0 +1,54 @@\n+//  Copyright 2020 Google LLC\n+//\n+//  Use of this source code is governed by an MIT-style\n+//  license that can be found in the LICENSE file or at\n+//  https://opensource.org/licenses/MIT.\n+\n+import XCTest\n+\n+class MyStudiesUITests: XCTestCase {\n+\n+  override func setUpWithError() throws {\n+    // In UI tests it is usually best to stop immediately when a failure occurs.\n+    continueAfterFailure = false\n+  }\n+\n+  func testLaunchPerformance() throws {\n+    if #available(macOS 10.15, iOS 13.0, tvOS 13.0, *) {\n+      // This measures how long it takes to launch your application.\n+      measure(metrics: [XCTOSSignpostMetric.applicationLaunch]) {\n+        XCUIApplication().launch()\n+      }\n+    }\n+  }\n+\n+  func testRegistrationFlow() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "16a658c2c2af7bb53247aa8797a58e51c9bb438e"}, "originalPosition": 25}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1b5f78eb04062b3501994bfe4abba50c1a083a17", "author": {"user": {"login": "tushar-boston", "name": "Tushar Katyal"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/1b5f78eb04062b3501994bfe4abba50c1a083a17", "committedDate": "2020-10-07T16:15:44Z", "message": "Avoid update profile call for logged out user."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA1MDkzNzc0", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1113#pullrequestreview-505093774", "createdAt": "2020-10-08T19:19:12Z", "commit": {"oid": "1b5f78eb04062b3501994bfe4abba50c1a083a17"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA4NDU3NzEx", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1113#pullrequestreview-508457711", "createdAt": "2020-10-14T15:15:41Z", "commit": {"oid": "1b5f78eb04062b3501994bfe4abba50c1a083a17"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "74e92dbae032806805556984689952d8ecb11c7e", "author": {"user": {"login": "tushar-boston", "name": "Tushar Katyal"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/74e92dbae032806805556984689952d8ecb11c7e", "committedDate": "2020-10-28T10:46:42Z", "message": "Merge branch 'develop' into ios-hydra-services"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4ce157e576a8f2ab742960e2baa3893930ab133d", "author": {"user": {"login": "tushar-boston", "name": "Tushar Katyal"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/4ce157e576a8f2ab742960e2baa3893930ab133d", "committedDate": "2020-10-28T15:13:57Z", "message": "Add failed registration test case."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ffe66a15da5ed9841788b18bcf23710e9e359fec", "author": {"user": {"login": "tushar-boston", "name": "Tushar Katyal"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/ffe66a15da5ed9841788b18bcf23710e9e359fec", "committedDate": "2020-10-28T15:14:17Z", "message": "Update endpoint."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE5MDYzOTYy", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1113#pullrequestreview-519063962", "createdAt": "2020-10-28T20:38:30Z", "commit": {"oid": "ffe66a15da5ed9841788b18bcf23710e9e359fec"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5b66611b9a5b671dbfbfc8703d6319fbd29f3783", "author": {"user": {"login": "tushar-boston", "name": "Tushar Katyal"}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/5b66611b9a5b671dbfbfc8703d6319fbd29f3783", "committedDate": "2020-10-29T03:21:00Z", "message": "Merge branch 'develop' into ios-hydra-services"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 347, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}