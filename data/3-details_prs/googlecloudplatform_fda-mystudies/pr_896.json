{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDgxMzM3NTY1", "number": 896, "title": "Study Builder - Externalized Configuration", "bodyText": "Study Builder - Externalized Configuration\nCode format + Organize Imports\nProperty Clean Up(removed unused properties)", "createdAt": "2020-09-07T12:15:00Z", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/896", "merged": true, "mergeCommit": {"oid": "dbb44385e6b5809129fb284646620a52d9eae40d"}, "closed": true, "closedAt": "2020-09-28T13:48:47Z", "author": {"login": "aswinijena100"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdGh68lAH2gAyNDgxMzM3NTY1OjBkMDZmMzNjYzY1NTc5OGI1MmVlNTJmMDlhOTcyYzEyOTU5ODljYWY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdNT1gAgFqTQ5NzUyNjU1Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "0d06f33cc655798b52ee52f09a972c1295989caf", "author": {"user": {"login": "aswinijena100", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/0d06f33cc655798b52ee52f09a972c1295989caf", "committedDate": "2020-09-07T12:12:02Z", "message": "Study Builder - Externalized Configuration\n\nStudy Builder - Externalized Configuration\nCode format + Organize Imports"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2b0b75cf78a8eecd2211e55b5fad27d30aa2ebc7", "author": {"user": {"login": "aswinijena100", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/2b0b75cf78a8eecd2211e55b5fad27d30aa2ebc7", "committedDate": "2020-09-08T11:26:46Z", "message": "changed datastore url\n\nchanged datastore url"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg2ODE2ODAy", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/896#pullrequestreview-486816802", "createdAt": "2020-09-11T13:42:08Z", "commit": {"oid": "2b0b75cf78a8eecd2211e55b5fad27d30aa2ebc7"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMVQxMzo0MjowOFrOHQfW_g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMVQxMzo0NTo0MlrOHQfgRQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzA1MzA1NA==", "bodyText": "please remove", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/896#discussion_r487053054", "createdAt": "2020-09-11T13:42:08Z", "author": {"login": "zohrehj"}, "path": "WCP/fdahpStudyDesigner/src/main/java/com/fdahpstudydesigner/dao/StudyDAO.java", "diffHunk": "@@ -46,6 +41,11 @@\n import com.fdahpstudydesigner.bo.StudyPermissionBO;\n import com.fdahpstudydesigner.bo.UserBO;\n import com.fdahpstudydesigner.util.SessionObject;\n+import java.util.HashMap;\n+/** @author BTC */", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2b0b75cf78a8eecd2211e55b5fad27d30aa2ebc7"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzA1NTQyOQ==", "bodyText": "create a wrapper class for calling study builder to hold this information. The fact that you have ?securityToken= in the URL is a detail of the call and does not belong in the properties.\nLet's keep the properties files to what needs to change between deployments", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/896#discussion_r487055429", "createdAt": "2020-09-11T13:45:42Z", "author": {"login": "zohrehj"}, "path": "WCP/fdahpStudyDesigner/src/main/resources/application_local.properties", "diffHunk": "@@ -17,56 +17,36 @@ fda.currentPath=catalina.home\n fda.imgDisplaydPath=/fdaResources/\n \n #User registration server root URL\n-fda.registration.root.url=http://${REGISTRATION_SERVER_URL}/myStudiesUserMgmtWS\n+fda.registration.root.url=${USER_MGMT_SERVICE_URL}\n \n #For  server\n-acceptLinkMail=http://${BASE_URL}/studybuilder/createPassword.do?securityToken=\n-login.url=http://${BASE_URL}/studybuilder/login.do\n-signUp.url=http://${BASE_URL}/studybuilder/signUp.do?securityToken=\n+acceptLinkMail=${STUDY_BUILDER_URL}/createPassword.do?securityToken=\n+login.url=${STUDY_BUILDER_URL}/login.do\n+signUp.url=${STUDY_BUILDER_URL}/signUp.do?securityToken=", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2b0b75cf78a8eecd2211e55b5fad27d30aa2ebc7"}, "originalPosition": 13}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg2ODIxMzkw", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/896#pullrequestreview-486821390", "createdAt": "2020-09-11T13:47:27Z", "commit": {"oid": "2b0b75cf78a8eecd2211e55b5fad27d30aa2ebc7"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMVQxMzo0NzoyN1rOHQfklw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMVQxMzo0NzoyN1rOHQfklw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzA1NjUzNQ==", "bodyText": "same here, only keep the base url in the properties files; the rest of the path can be set within a class that has knowledge of the userRegistration API", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/896#discussion_r487056535", "createdAt": "2020-09-11T13:47:27Z", "author": {"login": "zohrehj"}, "path": "WCP/fdahpStudyDesigner/src/main/resources/application_local.properties", "diffHunk": "@@ -17,56 +17,36 @@ fda.currentPath=catalina.home\n fda.imgDisplaydPath=/fdaResources/\n \n #User registration server root URL\n-fda.registration.root.url=http://${REGISTRATION_SERVER_URL}/myStudiesUserMgmtWS\n+fda.registration.root.url=${USER_MGMT_SERVICE_URL}\n \n #For  server\n-acceptLinkMail=http://${BASE_URL}/studybuilder/createPassword.do?securityToken=\n-login.url=http://${BASE_URL}/studybuilder/login.do\n-signUp.url=http://${BASE_URL}/studybuilder/signUp.do?securityToken=\n+acceptLinkMail=${STUDY_BUILDER_URL}/createPassword.do?securityToken=\n+login.url=${STUDY_BUILDER_URL}/login.do\n+signUp.url=${STUDY_BUILDER_URL}/signUp.do?securityToken=\n \n # TODO: Change the IP/port to an env var and pass it in yaml file instead.\n-db.url=localhost:3306/${DB_NAME}\n+db.url=jdbc:mysql://127.0.0.1:3306/${DB_NAME}?autoReconnect=true\n db.username=${DB_USER}\n db.password=${DB_PASS}\n \n-########################## Web Configuration Portal Web-Services (WCP WS) Configuration Details  STARTS ##########################\n-#DataBase Configuration\n-hibernate.connection.url=jdbc:mysql://localhost:3306/${DB_NAME}\n-hibernate.connection.username=${DB_USER}\n-hibernate.connection.password=${DB_PASS}\n-\n fda.smd.catalinaPath=catalina.home\n \n-#Study Image/Logo Path Local\n-fda.smd.study.thumbnailPath=http://dummy-value/fdaResources/studylogo/\n-fda.smd.study.pagePath=http://dummy-value/fdaResources/studypages/\n-fda.smd.resource.pdfPath=http://dummy-value/fdaResources/studyResources/\n-fda.smd.questionnaire.image=http://dummy-value/fdaResources/questionnaire/\n-fda.smd.gatewayResource.pdfPath=http://dummy-value/fdaResources/gatewayResource/App_Glossary.pdf\n-\n-fda.smd.pricaypolicy=dummy-value\n-fda.smd.terms=dummy-value\n-\n-#Reachout email\n-fda.smd.feedback=dummy-value\n-fda.smd.contactus=dummy-value\n-\n #App Environment -- > possible value : local / uat / prod\n fda.env=local\n \n fda.current.path=catalina.home\n fda.docs.responses.path=/webapps/FDAResponce\n \n #User Registration Server URL\n-userRegistrationServerUrl=http://${REGISTRATION_SERVER_URL}/myStudiesUserMgmtWS/studies/studymetadata\n+userRegistrationServerUrl=${USER_MGMT_SERVICE_URL}/studies/studymetadata", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2b0b75cf78a8eecd2211e55b5fad27d30aa2ebc7"}, "originalPosition": 51}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8b313b3ac37d90f8312d56e09060ced25cd72b85", "author": {"user": {"login": "aswinijena100", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/8b313b3ac37d90f8312d56e09060ced25cd72b85", "committedDate": "2020-09-15T04:28:55Z", "message": "removed Author info\n\nremoved Author info"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "41ed042c290f90e9c728ecb4655db57a88ba7b82", "author": {"user": {"login": "aswinijena100", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/41ed042c290f90e9c728ecb4655db57a88ba7b82", "committedDate": "2020-09-15T04:30:37Z", "message": "Merge branch 'develop' into studybuilder-externalized-configuration"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg4NzU4MTg1", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/896#pullrequestreview-488758185", "createdAt": "2020-09-15T14:41:27Z", "commit": {"oid": "41ed042c290f90e9c728ecb4655db57a88ba7b82"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQxNDo0MToyN1rOHSFUJA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQxNDo0MzozNVrOHSFaYQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODcyMzQ5Mg==", "bodyText": "this seems wrong, why are you passing the application_local.properties in the code?\nWhat happens when we build the application with a different profile? would this overwrite the profile specific props?", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/896#discussion_r488723492", "createdAt": "2020-09-15T14:41:27Z", "author": {"login": "zohrehj"}, "path": "WCP/fdahpStudyDesigner/src/main/java/com/fdahpstudydesigner/util/FdahpStudyDesignerUtil.java", "diffHunk": "@@ -267,7 +265,8 @@ public static String genarateEmailContent(String emailContentName, Map<String, S\n         hm.put(key, value);\n       }\n       ServletContext context = ServletContextHolder.getServletContext();\n-      Properties prop = PropertiesUtil.makePropertiesWithEnvironmentVariables(\"application_local.properties\");\n+      Properties prop =\n+          PropertiesUtil.makePropertiesWithEnvironmentVariables(\"application_local.properties\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "41ed042c290f90e9c728ecb4655db57a88ba7b82"}, "originalPosition": 40}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODcyNDU3MA==", "bodyText": "I still do not like the fact that you are passing call specific query params in the URLs", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/896#discussion_r488724570", "createdAt": "2020-09-15T14:42:54Z", "author": {"login": "zohrehj"}, "path": "WCP/fdahpStudyDesigner/src/main/resources/application_local.properties", "diffHunk": "@@ -17,56 +17,36 @@ fda.currentPath=catalina.home\n fda.imgDisplaydPath=/fdaResources/\n \n #User registration server root URL\n-fda.registration.root.url=http://${REGISTRATION_SERVER_URL}/myStudiesUserMgmtWS\n+fda.registration.root.url=${USER_MGMT_SERVICE_URL}\n \n #For  server\n-acceptLinkMail=http://${BASE_URL}/studybuilder/createPassword.do?securityToken=\n-login.url=http://${BASE_URL}/studybuilder/login.do\n-signUp.url=http://${BASE_URL}/studybuilder/signUp.do?securityToken=\n+acceptLinkMail=${STUDY_BUILDER_URL}/createPassword.do?securityToken=\n+login.url=${STUDY_BUILDER_URL}/login.do\n+signUp.url=${STUDY_BUILDER_URL}/signUp.do?securityToken=", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzA1NTQyOQ=="}, "originalCommit": {"oid": "2b0b75cf78a8eecd2211e55b5fad27d30aa2ebc7"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODcyNTA4OQ==", "bodyText": "please remove start and end styled comments", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/896#discussion_r488725089", "createdAt": "2020-09-15T14:43:35Z", "author": {"login": "zohrehj"}, "path": "WCP/fdahpStudyDesigner/src/main/resources/application_local.properties", "diffHunk": "@@ -17,56 +17,36 @@ fda.currentPath=catalina.home\n fda.imgDisplaydPath=/fdaResources/\n \n #User registration server root URL\n-fda.registration.root.url=http://${REGISTRATION_SERVER_URL}/myStudiesUserMgmtWS\n+fda.registration.root.url=${USER_MGMT_SERVICE_URL}\n \n #For  server\n-acceptLinkMail=http://${BASE_URL}/studybuilder/createPassword.do?securityToken=\n-login.url=http://${BASE_URL}/studybuilder/login.do\n-signUp.url=http://${BASE_URL}/studybuilder/signUp.do?securityToken=\n+acceptLinkMail=${STUDY_BUILDER_URL}/createPassword.do?securityToken=\n+login.url=${STUDY_BUILDER_URL}/login.do\n+signUp.url=${STUDY_BUILDER_URL}/signUp.do?securityToken=\n \n # TODO: Change the IP/port to an env var and pass it in yaml file instead.\n-db.url=localhost:3306/${DB_NAME}\n+db.url=jdbc:mysql://127.0.0.1:3306/${DB_NAME}?autoReconnect=true\n db.username=${DB_USER}\n db.password=${DB_PASS}\n \n-########################## Web Configuration Portal Web-Services (WCP WS) Configuration Details  STARTS ##########################\n-#DataBase Configuration\n-hibernate.connection.url=jdbc:mysql://localhost:3306/${DB_NAME}\n-hibernate.connection.username=${DB_USER}\n-hibernate.connection.password=${DB_PASS}\n-\n fda.smd.catalinaPath=catalina.home\n \n-#Study Image/Logo Path Local\n-fda.smd.study.thumbnailPath=http://dummy-value/fdaResources/studylogo/\n-fda.smd.study.pagePath=http://dummy-value/fdaResources/studypages/\n-fda.smd.resource.pdfPath=http://dummy-value/fdaResources/studyResources/\n-fda.smd.questionnaire.image=http://dummy-value/fdaResources/questionnaire/\n-fda.smd.gatewayResource.pdfPath=http://dummy-value/fdaResources/gatewayResource/App_Glossary.pdf\n-\n-fda.smd.pricaypolicy=dummy-value\n-fda.smd.terms=dummy-value\n-\n-#Reachout email\n-fda.smd.feedback=dummy-value\n-fda.smd.contactus=dummy-value\n-\n #App Environment -- > possible value : local / uat / prod\n fda.env=local\n \n fda.current.path=catalina.home\n fda.docs.responses.path=/webapps/FDAResponce\n \n #User Registration Server URL\n-userRegistrationServerUrl=http://${REGISTRATION_SERVER_URL}/myStudiesUserMgmtWS/studies/studymetadata\n+userRegistrationServerUrl=${USER_MGMT_SERVICE_URL}/studies/studymetadata\n \n #Response Server URL\n-responseServerUrl=http://${RESPONSE_SERVER_URL}/mystudies-response-server/studymetadata\n+responseServerUrl=${RESPONSE_SERVER_URL}/studymetadata\n \n #clientId\n-WCPClientId=${CLIENT_ID}\n+security.oauth2.client.client-id=${CLIENT_ID}\n \n #SecretKey\n-WCPSecretKey=${SECRET_KEY}\n+security.oauth2.client.client-secret=${SECRET_KEY}\n \n ########################## Web Configuration Portal Web-Services (WCP WS) Configuration Details ENDS ##########################", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "41ed042c290f90e9c728ecb4655db57a88ba7b82"}, "originalPosition": 65}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7b8472534abcf510f7714f3d2a72c1af555cfef0", "author": {"user": {"login": "aswinijena100", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/7b8472534abcf510f7714f3d2a72c1af555cfef0", "committedDate": "2020-09-18T12:10:24Z", "message": "Added DB reference link for properties\n\nAdded DB reference link for properties"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a92b1ff0d71c02ce6eb3a05f495cb149d4a0ee6f", "author": {"user": {"login": "navya-BTC", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/a92b1ff0d71c02ce6eb3a05f495cb149d4a0ee6f", "committedDate": "2020-09-26T07:31:03Z", "message": "Merge branch 'develop' into studybuilder-externalized-configuration"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "55b40d36d8b8ee9f0210b8d958dbadf41f39dc2d", "author": {"user": {"login": "navya-BTC", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/55b40d36d8b8ee9f0210b8d958dbadf41f39dc2d", "committedDate": "2020-09-26T12:41:06Z", "message": "Merge branch 'develop' into studybuilder-externalized-configuration"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1ddd120a5d238b8909d92c594443524d6b1fe35d", "author": {"user": {"login": "Kantharajut-btc", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/1ddd120a5d238b8909d92c594443524d6b1fe35d", "committedDate": "2020-09-28T11:20:12Z", "message": "removed end styled comment\n\nremoved end styled comment"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk3NTI2NTUy", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/896#pullrequestreview-497526552", "createdAt": "2020-09-28T13:44:53Z", "commit": {"oid": "1ddd120a5d238b8909d92c594443524d6b1fe35d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 453, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}