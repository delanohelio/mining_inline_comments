{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk0NDYzNDMy", "number": 28, "title": "GKE LoadBalance service for Response server.", "bodyText": "", "createdAt": "2020-03-26T22:55:22Z", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/28", "merged": true, "mergeCommit": {"oid": "f99591918a8bfadf89c4094e0ab99329fc6ae846"}, "closed": true, "closedAt": "2020-03-27T17:00:18Z", "author": {"login": "kuoyuchi"}, "timelineItems": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcRkLb0AH2gAyMzk0NDYzNDMyOjg3ZTE3NmMzZmIzM2QzOGZjNWE2NmNlMGZiNjZmOGIxYzgxYTMyMTA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcRzmW5gH2gAyMzk0NDYzNDMyOmY5NGY3OGEwOWJlYzBiYTg2Yjk2NTk0MjRhYTEwMTYxYWUwNDYxYTk=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "87e176c3fb33d38fc5a66ce0fb66f8b1c81a3210", "author": {"user": {"login": "kuoyuchi", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/87e176c3fb33d38fc5a66ce0fb66f8b1c81a3210", "committedDate": "2020-03-26T22:51:52Z", "message": "GKE LoadBalance service for Response server."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8aed38388bb7937c07505b607c132c75a4c0748b", "author": {"user": {"login": "kuoyuchi", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/8aed38388bb7937c07505b607c132c75a4c0748b", "committedDate": "2020-03-27T05:17:35Z", "message": "Update pom.xml. Add Dockerfile."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "077ea727e44093ddb86ffd3d66c8e356181744db", "author": {"user": {"login": "kuoyuchi", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/077ea727e44093ddb86ffd3d66c8e356181744db", "committedDate": "2020-03-27T05:48:28Z", "message": "Use env variables for db username and password"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f358673a970f1d3354e70acbce6a585a8a1ae238", "author": {"user": {"login": "kuoyuchi", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/f358673a970f1d3354e70acbce6a585a8a1ae238", "committedDate": "2020-03-27T05:48:45Z", "message": "add deployment.yaml"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ceec550ed735479c8595346dc8bd5b8b02318729", "author": {"user": {"login": "kuoyuchi", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/ceec550ed735479c8595346dc8bd5b8b02318729", "committedDate": "2020-03-27T06:09:15Z", "message": "Remove typo file ParticipanDaoImpl"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgyOTQ1MTA1", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/28#pullrequestreview-382945105", "createdAt": "2020-03-27T15:08:58Z", "commit": {"oid": "ceec550ed735479c8595346dc8bd5b8b02318729"}, "state": "APPROVED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yN1QxNTowODo1OFrOF81bmw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yN1QxNToxMToyNlrOF81iEw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTMzNDI5OQ==", "bodyText": "how come this file was deleted, and not renamed?", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/28#discussion_r399334299", "createdAt": "2020-03-27T15:08:58Z", "author": {"login": "zohrehj"}, "path": "response-server-ws/src/main/java/com/google/cloud/healthcare/fdamystudies/dao/ParticipanDaoImpl.java", "diffHunk": "@@ -1,135 +0,0 @@\n-/**", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ceec550ed735479c8595346dc8bd5b8b02318729"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTMzNDc3Nw==", "bodyText": "nit: I noticed spacing is not consistent. Is that something that's been addressed in the other PR?", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/28#discussion_r399334777", "createdAt": "2020-03-27T15:09:42Z", "author": {"login": "zohrehj"}, "path": "response-server-ws/pom.xml", "diffHunk": "@@ -29,6 +29,17 @@ https://opensource.org/licenses/MIT.  -->\n \t\t\t<plugin>\n \t\t\t\t<groupId>org.springframework.boot</groupId>\n \t\t\t\t<artifactId>spring-boot-maven-plugin</artifactId>\n+        <configuration>\n+          <mainClass>om.google.cloud.healthcare.fdamystudies.FdaMystudiesResponseServerApplication</mainClass>\n+          <layout>WAR</layout>\n+        </configuration>\n+        <executions>\n+          <execution>\n+            <goals>\n+              <goal>repackage</goal>\n+            </goals>\n+          </execution>\n+        </executions>\n \t\t\t</plugin>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ceec550ed735479c8595346dc8bd5b8b02318729"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTMzNTk1NQ==", "bodyText": "please add a comment that the value should be changed prior to deployment", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/28#discussion_r399335955", "createdAt": "2020-03-27T15:11:26Z", "author": {"login": "zohrehj"}, "path": "response-server-ws/src/main/resources/application.properties", "diffHunk": "@@ -10,9 +10,9 @@ spring.jpa.show-sql=true\n spring.jpa.hibernate.ddl-auto=update\n \n #Database details\n-spring.datasource.url=jdbc:mysql://dummy-value/mystudies_response_server?autoReconnect=true&characterEncoding=utf8&useSSL=false\n-spring.datasource.username=dummy-value\n-spring.datasource.password=dummy-value\n+spring.datasource.url=jdbc:mysql://127.0.0.1:3306/mystudies_response_server?autoReconnect=true&characterEncoding=utf8&useSSL=false", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ceec550ed735479c8595346dc8bd5b8b02318729"}, "originalPosition": 7}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgzMDE0NjEw", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/28#pullrequestreview-383014610", "createdAt": "2020-03-27T16:27:58Z", "commit": {"oid": "ceec550ed735479c8595346dc8bd5b8b02318729"}, "state": "COMMENTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yN1QxNjoyNzo1OFrOF84xIg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yN1QxNjozMDoyNVrOF843cg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTM4ODk2Mg==", "bodyText": "typo", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/28#discussion_r399388962", "createdAt": "2020-03-27T16:27:58Z", "author": {"login": "wamills"}, "path": "response-server-ws/pom.xml", "diffHunk": "@@ -29,6 +29,17 @@ https://opensource.org/licenses/MIT.  -->\n \t\t\t<plugin>\n \t\t\t\t<groupId>org.springframework.boot</groupId>\n \t\t\t\t<artifactId>spring-boot-maven-plugin</artifactId>\n+        <configuration>\n+          <mainClass>om.google.cloud.healthcare.fdamystudies.FdaMystudiesResponseServerApplication</mainClass>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ceec550ed735479c8595346dc8bd5b8b02318729"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTM4OTMyNA==", "bodyText": "Were you able to get this to compile with this plugin? Myself and others were getting an error of no main file found.", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/28#discussion_r399389324", "createdAt": "2020-03-27T16:28:35Z", "author": {"login": "wamills"}, "path": "response-server-ws/pom.xml", "diffHunk": "@@ -29,6 +29,17 @@ https://opensource.org/licenses/MIT.  -->\n \t\t\t<plugin>\n \t\t\t\t<groupId>org.springframework.boot</groupId>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ceec550ed735479c8595346dc8bd5b8b02318729"}, "originalPosition": 2}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTM4OTkwMw==", "bodyText": "Do you think it matters that the example used port 50000? We could update both here and in deployment yaml if so. But that may also involve modifying the tomcat port so probably not worth it.", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/28#discussion_r399389903", "createdAt": "2020-03-27T16:29:23Z", "author": {"login": "wamills"}, "path": "response-server-ws/service.yaml", "diffHunk": "@@ -0,0 +1,14 @@\n+# LoadBalancer service for Response server.\n+# See https://cloud.google.com/kubernetes-engine/docs/how-to/exposing-apps#creating_a_service_of_type_loadbalancer\n+apiVersion: v1\n+kind: Service\n+metadata:\n+  name: response-server-lb\n+spec:\n+  type: LoadBalancer\n+  selector:\n+    app: response-server\n+  ports:\n+  - protocol: TCP\n+    port: 60000\n+    targetPort: 8080", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ceec550ed735479c8595346dc8bd5b8b02318729"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTM5MDU3OA==", "bodyText": "Can you add a comment that this is for connecting to the Google SQL proxy?\nI had some comments for which plugins to use for which properties here: 22d9449", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/28#discussion_r399390578", "createdAt": "2020-03-27T16:30:25Z", "author": {"login": "wamills"}, "path": "response-server-ws/src/main/resources/application.properties", "diffHunk": "@@ -10,9 +10,9 @@ spring.jpa.show-sql=true\n spring.jpa.hibernate.ddl-auto=update\n \n #Database details\n-spring.datasource.url=jdbc:mysql://dummy-value/mystudies_response_server?autoReconnect=true&characterEncoding=utf8&useSSL=false\n-spring.datasource.username=dummy-value\n-spring.datasource.password=dummy-value\n+spring.datasource.url=jdbc:mysql://127.0.0.1:3306/mystudies_response_server?autoReconnect=true&characterEncoding=utf8&useSSL=false", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ceec550ed735479c8595346dc8bd5b8b02318729"}, "originalPosition": 7}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "80fa3129503732a7562a3b8d12cff1d07ec724a2", "author": {"user": {"login": "kuoyuchi", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/80fa3129503732a7562a3b8d12cff1d07ec724a2", "committedDate": "2020-03-27T16:34:23Z", "message": "Add port in deployment.yaml"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e68bf66b147a69361158279debc3da25e84a3fca", "author": {"user": {"login": "kuoyuchi", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/e68bf66b147a69361158279debc3da25e84a3fca", "committedDate": "2020-03-27T16:37:03Z", "message": "Fix format and typo in pom.xml"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "895326395d2b9db69defbe4668c5cab511b9f904", "author": {"user": {"login": "kuoyuchi", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/895326395d2b9db69defbe4668c5cab511b9f904", "committedDate": "2020-03-27T16:38:08Z", "message": "s/60000/50000/ for service port."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6ce919ba6468472cb3aacdc284222f522bc7af11", "author": {"user": {"login": "kuoyuchi", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/6ce919ba6468472cb3aacdc284222f522bc7af11", "committedDate": "2020-03-27T16:48:53Z", "message": "change spaces to tabs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a79c78695036bf5391b24fbf4c8249ffe9bb07b1", "author": {"user": {"login": "kuoyuchi", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/a79c78695036bf5391b24fbf4c8249ffe9bb07b1", "committedDate": "2020-03-27T16:49:07Z", "message": "Add comment in properties file."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f94f78a09bec0ba86b9659424aa10161ae0461a9", "author": {"user": {"login": "kuoyuchi", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/commit/f94f78a09bec0ba86b9659424aa10161ae0461a9", "committedDate": "2020-03-27T16:49:51Z", "message": "update dev properties file"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1347, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}