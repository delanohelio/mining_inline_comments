{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTEyOTM0MzI5", "number": 1744, "reviewThreads": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxNDoxMDowMFrOEzz1ag==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxNTowOTo0MVrOEz1cWg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIyNzYyMDkwOnYy", "diffSide": "RIGHT", "path": "study-builder/fdahpStudyDesigner/src/main/java/com/fdahpstudydesigner/dao/StudyDAOImpl.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxNDoxMDowMFrOHrQx0Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wMlQwNzoyNTozNFrOHr4qZw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTEyNTcxMw==", "bodyText": "please remove commented code", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1744#discussion_r515125713", "createdAt": "2020-10-30T14:10:00Z", "author": {"login": "zohrehj"}, "path": "study-builder/fdahpStudyDesigner/src/main/java/com/fdahpstudydesigner/dao/StudyDAOImpl.java", "diffHunk": "@@ -2890,12 +2851,17 @@ public boolean resetDraftStudyByCustomStudyId(\n         String permissionQuery =\n             \"select s.user_id,s.view_permission\"\n                 + \" from study_permission s, user_permission_mapping u, user_permissions p\"\n-                + \" where s.study_id=\"\n-                + liveStudyBo.getId()\n+                + \" where s.study_id= :id\"\n+                //                + liveStudyBo.getId()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9cc76c844436867e862b2c1c0bd90e7e61823f83"}, "originalPosition": 392}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTc3OTE3NQ==", "bodyText": "the fixed it as  suggested", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1744#discussion_r515779175", "createdAt": "2020-11-02T07:25:34Z", "author": {"login": "vigneshjbtc"}, "path": "study-builder/fdahpStudyDesigner/src/main/java/com/fdahpstudydesigner/dao/StudyDAOImpl.java", "diffHunk": "@@ -2890,12 +2851,17 @@ public boolean resetDraftStudyByCustomStudyId(\n         String permissionQuery =\n             \"select s.user_id,s.view_permission\"\n                 + \" from study_permission s, user_permission_mapping u, user_permissions p\"\n-                + \" where s.study_id=\"\n-                + liveStudyBo.getId()\n+                + \" where s.study_id= :id\"\n+                //                + liveStudyBo.getId()", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTEyNTcxMw=="}, "originalCommit": {"oid": "9cc76c844436867e862b2c1c0bd90e7e61823f83"}, "originalPosition": 392}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIyNzYyNDA3OnYy", "diffSide": "RIGHT", "path": "study-builder/fdahpStudyDesigner/src/main/java/com/fdahpstudydesigner/dao/StudyDAOImpl.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxNDoxMDo1MlrOHrQz6Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wMlQwNzoyNzo0MFrOHr4tag==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTEyNjI0OQ==", "bodyText": ":liveStudyBo.getId()  should be :id", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1744#discussion_r515126249", "createdAt": "2020-10-30T14:10:52Z", "author": {"login": "zohrehj"}, "path": "study-builder/fdahpStudyDesigner/src/main/java/com/fdahpstudydesigner/dao/StudyDAOImpl.java", "diffHunk": "@@ -2923,7 +2889,8 @@ public boolean resetDraftStudyByCustomStudyId(\n         session.save(studySequenceBo);\n \n         // Over View\n-        query = session.createQuery(\"from StudyPageBo where studyId=\" + liveStudyBo.getId());\n+        query = session.createQuery(\"from StudyPageBo where studyId= :liveStudyBo.getId() \");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9cc76c844436867e862b2c1c0bd90e7e61823f83"}, "originalPosition": 411}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTc3OTk0Ng==", "bodyText": "The issues has been fixed it as  suggested", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1744#discussion_r515779946", "createdAt": "2020-11-02T07:27:40Z", "author": {"login": "vigneshjbtc"}, "path": "study-builder/fdahpStudyDesigner/src/main/java/com/fdahpstudydesigner/dao/StudyDAOImpl.java", "diffHunk": "@@ -2923,7 +2889,8 @@ public boolean resetDraftStudyByCustomStudyId(\n         session.save(studySequenceBo);\n \n         // Over View\n-        query = session.createQuery(\"from StudyPageBo where studyId=\" + liveStudyBo.getId());\n+        query = session.createQuery(\"from StudyPageBo where studyId= :liveStudyBo.getId() \");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTEyNjI0OQ=="}, "originalCommit": {"oid": "9cc76c844436867e862b2c1c0bd90e7e61823f83"}, "originalPosition": 411}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIyNzYyNjYyOnYy", "diffSide": "RIGHT", "path": "study-builder/fdahpStudyDesigner/src/main/java/com/fdahpstudydesigner/dao/StudyDAOImpl.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxNDoxMTozMFrOHrQ1hw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wMlQwNzoyODoxMFrOHr4uGQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTEyNjY2Mw==", "bodyText": "please remove", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1744#discussion_r515126663", "createdAt": "2020-10-30T14:11:30Z", "author": {"login": "zohrehj"}, "path": "study-builder/fdahpStudyDesigner/src/main/java/com/fdahpstudydesigner/dao/StudyDAOImpl.java", "diffHunk": "@@ -3029,10 +2994,13 @@ public boolean resetDraftStudyByCustomStudyId(\n                   .getFrequency()\n                   .equalsIgnoreCase(FdahpStudyDesignerConstants.FREQUENCY_TYPE_MANUALLY_SCHEDULE)) {\n                 searchQuery =\n-                    \"From QuestionnaireCustomScheduleBo QCSBO where QCSBO.questionnairesId=\"\n-                        + questionnaireBo.getId();\n+                    \"From QuestionnaireCustomScheduleBo QCSBO where QCSBO.questionnairesId=:id\";\n+                //                        + questionnaireBo.getId();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9cc76c844436867e862b2c1c0bd90e7e61823f83"}, "originalPosition": 448}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTc4MDEyMQ==", "bodyText": "The issues has been fixed it as  suggested", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1744#discussion_r515780121", "createdAt": "2020-11-02T07:28:10Z", "author": {"login": "vigneshjbtc"}, "path": "study-builder/fdahpStudyDesigner/src/main/java/com/fdahpstudydesigner/dao/StudyDAOImpl.java", "diffHunk": "@@ -3029,10 +2994,13 @@ public boolean resetDraftStudyByCustomStudyId(\n                   .getFrequency()\n                   .equalsIgnoreCase(FdahpStudyDesignerConstants.FREQUENCY_TYPE_MANUALLY_SCHEDULE)) {\n                 searchQuery =\n-                    \"From QuestionnaireCustomScheduleBo QCSBO where QCSBO.questionnairesId=\"\n-                        + questionnaireBo.getId();\n+                    \"From QuestionnaireCustomScheduleBo QCSBO where QCSBO.questionnairesId=:id\";\n+                //                        + questionnaireBo.getId();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTEyNjY2Mw=="}, "originalCommit": {"oid": "9cc76c844436867e862b2c1c0bd90e7e61823f83"}, "originalPosition": 448}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIyNzg0NjY0OnYy", "diffSide": "RIGHT", "path": "study-builder/fdahpStudyDesigner/src/main/java/com/fdahpstudydesigner/dao/StudyDAOImpl.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxNTowMDowOVrOHrTAwA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wMlQwNzoyODozMlrOHr4uqA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTE2MjMwNA==", "bodyText": "please remove all commented code", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1744#discussion_r515162304", "createdAt": "2020-10-30T15:00:09Z", "author": {"login": "zohrehj"}, "path": "study-builder/fdahpStudyDesigner/src/main/java/com/fdahpstudydesigner/dao/StudyDAOImpl.java", "diffHunk": "@@ -6975,25 +6891,48 @@ public boolean validateAppId(String customStudyId, String appId, String studyTyp\n     Session session = null;\n     List<StudyBo> studyBos = null;\n     String searchQuery = \"\";\n-    String subQry = \"\";\n+    // String subQry = \"\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9cc76c844436867e862b2c1c0bd90e7e61823f83"}, "originalPosition": 1675}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTc4MDI2NA==", "bodyText": "The issues has been fixed it as  suggested", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1744#discussion_r515780264", "createdAt": "2020-11-02T07:28:32Z", "author": {"login": "vigneshjbtc"}, "path": "study-builder/fdahpStudyDesigner/src/main/java/com/fdahpstudydesigner/dao/StudyDAOImpl.java", "diffHunk": "@@ -6975,25 +6891,48 @@ public boolean validateAppId(String customStudyId, String appId, String studyTyp\n     Session session = null;\n     List<StudyBo> studyBos = null;\n     String searchQuery = \"\";\n-    String subQry = \"\";\n+    // String subQry = \"\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTE2MjMwNA=="}, "originalCommit": {"oid": "9cc76c844436867e862b2c1c0bd90e7e61823f83"}, "originalPosition": 1675}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIyNzg0NzQ3OnYy", "diffSide": "RIGHT", "path": "study-builder/fdahpStudyDesigner/src/main/java/com/fdahpstudydesigner/dao/StudyDAOImpl.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxNTowMDoxOFrOHrTBSg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wMlQwNzoyODo1MlrOHr4vGQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTE2MjQ0Mg==", "bodyText": "same here", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1744#discussion_r515162442", "createdAt": "2020-10-30T15:00:18Z", "author": {"login": "zohrehj"}, "path": "study-builder/fdahpStudyDesigner/src/main/java/com/fdahpstudydesigner/dao/StudyDAOImpl.java", "diffHunk": "@@ -6975,25 +6891,48 @@ public boolean validateAppId(String customStudyId, String appId, String studyTyp\n     Session session = null;\n     List<StudyBo> studyBos = null;\n     String searchQuery = \"\";\n-    String subQry = \"\";\n+    // String subQry = \"\";\n     try {\n       session = hibernateTemplate.getSessionFactory().openSession();\n       if (!studyType.isEmpty() && !appId.isEmpty()) {\n-        if (StringUtils.isNotEmpty(customStudyId)) {\n-          subQry = \" and customStudyId!='\" + customStudyId + \"'\";\n-        }\n+        //        if (StringUtils.isNotEmpty(customStudyId)) {\n+        //          subQry = \" and customStudyId!=:customStudyId\";\n+        //        }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9cc76c844436867e862b2c1c0bd90e7e61823f83"}, "originalPosition": 1684}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTc4MDM3Nw==", "bodyText": "The issues has been fixed it as  suggested", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1744#discussion_r515780377", "createdAt": "2020-11-02T07:28:52Z", "author": {"login": "vigneshjbtc"}, "path": "study-builder/fdahpStudyDesigner/src/main/java/com/fdahpstudydesigner/dao/StudyDAOImpl.java", "diffHunk": "@@ -6975,25 +6891,48 @@ public boolean validateAppId(String customStudyId, String appId, String studyTyp\n     Session session = null;\n     List<StudyBo> studyBos = null;\n     String searchQuery = \"\";\n-    String subQry = \"\";\n+    // String subQry = \"\";\n     try {\n       session = hibernateTemplate.getSessionFactory().openSession();\n       if (!studyType.isEmpty() && !appId.isEmpty()) {\n-        if (StringUtils.isNotEmpty(customStudyId)) {\n-          subQry = \" and customStudyId!='\" + customStudyId + \"'\";\n-        }\n+        //        if (StringUtils.isNotEmpty(customStudyId)) {\n+        //          subQry = \" and customStudyId!=:customStudyId\";\n+        //        }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTE2MjQ0Mg=="}, "originalCommit": {"oid": "9cc76c844436867e862b2c1c0bd90e7e61823f83"}, "originalPosition": 1684}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIyNzg1NzMzOnYy", "diffSide": "RIGHT", "path": "study-builder/fdahpStudyDesigner/src/main/java/com/fdahpstudydesigner/dao/StudyDAOImpl.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxNTowMjo0N1rOHrTHkQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wMlQwNzoyOTowNVrOHr4vbQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTE2NDA0OQ==", "bodyText": "remove", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1744#discussion_r515164049", "createdAt": "2020-10-30T15:02:47Z", "author": {"login": "zohrehj"}, "path": "study-builder/fdahpStudyDesigner/src/main/java/com/fdahpstudydesigner/dao/StudyDAOImpl.java", "diffHunk": "@@ -7143,29 +7088,40 @@ public String updateDraftToEditedStatus(\n       }\n       if ((userId != null) && (studyId != null)) {\n         if ((actionType != null) && (FdahpStudyDesignerConstants.DRAFT_STUDY).equals(actionType)) {\n-          draftColumn = \"hasStudyDraft = 1\";\n+          // draftColumn = \"hasStudyDraft = 1\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9cc76c844436867e862b2c1c0bd90e7e61823f83"}, "originalPosition": 1785}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTc4MDQ2MQ==", "bodyText": "The issues has been fixed it as  suggested", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1744#discussion_r515780461", "createdAt": "2020-11-02T07:29:05Z", "author": {"login": "vigneshjbtc"}, "path": "study-builder/fdahpStudyDesigner/src/main/java/com/fdahpstudydesigner/dao/StudyDAOImpl.java", "diffHunk": "@@ -7143,29 +7088,40 @@ public String updateDraftToEditedStatus(\n       }\n       if ((userId != null) && (studyId != null)) {\n         if ((actionType != null) && (FdahpStudyDesignerConstants.DRAFT_STUDY).equals(actionType)) {\n-          draftColumn = \"hasStudyDraft = 1\";\n+          // draftColumn = \"hasStudyDraft = 1\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTE2NDA0OQ=="}, "originalCommit": {"oid": "9cc76c844436867e862b2c1c0bd90e7e61823f83"}, "originalPosition": 1785}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIyNzg1ODYwOnYy", "diffSide": "RIGHT", "path": "study-builder/fdahpStudyDesigner/src/main/java/com/fdahpstudydesigner/dao/StudyDAOImpl.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxNTowMzowOVrOHrTIcg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wMlQwNzozMTo1NlrOHr4z_A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTE2NDI3NA==", "bodyText": "same her, please clean these comments", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1744#discussion_r515164274", "createdAt": "2020-10-30T15:03:09Z", "author": {"login": "zohrehj"}, "path": "study-builder/fdahpStudyDesigner/src/main/java/com/fdahpstudydesigner/dao/StudyDAOImpl.java", "diffHunk": "@@ -7143,29 +7088,40 @@ public String updateDraftToEditedStatus(\n       }\n       if ((userId != null) && (studyId != null)) {\n         if ((actionType != null) && (FdahpStudyDesignerConstants.DRAFT_STUDY).equals(actionType)) {\n-          draftColumn = \"hasStudyDraft = 1\";\n+          // draftColumn = \"hasStudyDraft = 1\";\n+          queryString =\n+              \" Update StudyBo set hasStudyDraft = 1 , modifiedBy =:userId , modifiedOn = now() where id = :studyId \";\n         } else if ((actionType != null)\n             && (FdahpStudyDesignerConstants.DRAFT_QUESTIONNAIRE).equals(actionType)) {\n-          draftColumn = \"hasQuestionnaireDraft = 1, hasStudyDraft = 1 \";\n+          //          draftColumn = \"hasQuestionnaireDraft = 1, hasStudyDraft = 1 \";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9cc76c844436867e862b2c1c0bd90e7e61823f83"}, "originalPosition": 1791}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTc4MTYyOA==", "bodyText": "The issues has been fixed it as  suggested", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1744#discussion_r515781628", "createdAt": "2020-11-02T07:31:56Z", "author": {"login": "vigneshjbtc"}, "path": "study-builder/fdahpStudyDesigner/src/main/java/com/fdahpstudydesigner/dao/StudyDAOImpl.java", "diffHunk": "@@ -7143,29 +7088,40 @@ public String updateDraftToEditedStatus(\n       }\n       if ((userId != null) && (studyId != null)) {\n         if ((actionType != null) && (FdahpStudyDesignerConstants.DRAFT_STUDY).equals(actionType)) {\n-          draftColumn = \"hasStudyDraft = 1\";\n+          // draftColumn = \"hasStudyDraft = 1\";\n+          queryString =\n+              \" Update StudyBo set hasStudyDraft = 1 , modifiedBy =:userId , modifiedOn = now() where id = :studyId \";\n         } else if ((actionType != null)\n             && (FdahpStudyDesignerConstants.DRAFT_QUESTIONNAIRE).equals(actionType)) {\n-          draftColumn = \"hasQuestionnaireDraft = 1, hasStudyDraft = 1 \";\n+          //          draftColumn = \"hasQuestionnaireDraft = 1, hasStudyDraft = 1 \";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTE2NDI3NA=="}, "originalCommit": {"oid": "9cc76c844436867e862b2c1c0bd90e7e61823f83"}, "originalPosition": 1791}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIyNzg2OTM2OnYy", "diffSide": "RIGHT", "path": "study-builder/fdahpStudyDesigner/src/main/java/com/fdahpstudydesigner/dao/StudyDAOImpl.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxNTowNTo0NVrOHrTPNQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wMlQwNzozMjowNlrOHr40Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTE2NjAwNQ==", "bodyText": "remove all this commented code please", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1744#discussion_r515166005", "createdAt": "2020-10-30T15:05:45Z", "author": {"login": "zohrehj"}, "path": "study-builder/fdahpStudyDesigner/src/main/java/com/fdahpstudydesigner/dao/StudyDAOImpl.java", "diffHunk": "@@ -7143,29 +7088,40 @@ public String updateDraftToEditedStatus(\n       }\n       if ((userId != null) && (studyId != null)) {\n         if ((actionType != null) && (FdahpStudyDesignerConstants.DRAFT_STUDY).equals(actionType)) {\n-          draftColumn = \"hasStudyDraft = 1\";\n+          // draftColumn = \"hasStudyDraft = 1\";\n+          queryString =\n+              \" Update StudyBo set hasStudyDraft = 1 , modifiedBy =:userId , modifiedOn = now() where id = :studyId \";\n         } else if ((actionType != null)\n             && (FdahpStudyDesignerConstants.DRAFT_QUESTIONNAIRE).equals(actionType)) {\n-          draftColumn = \"hasQuestionnaireDraft = 1, hasStudyDraft = 1 \";\n+          //          draftColumn = \"hasQuestionnaireDraft = 1, hasStudyDraft = 1 \";\n+          queryString =\n+              \" Update StudyBo set hasQuestionnaireDraft = 1, hasStudyDraft = 1  , modifiedBy =:userId , modifiedOn = now() where id = :studyId \";\n         } else if ((actionType != null)\n             && (FdahpStudyDesignerConstants.DRAFT_ACTIVETASK).equals(actionType)) {\n-          draftColumn = \"hasActivetaskDraft = 1, hasStudyDraft = 1 \";\n+          //          draftColumn = \"hasActivetaskDraft = 1, hasStudyDraft = 1 \";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9cc76c844436867e862b2c1c0bd90e7e61823f83"}, "originalPosition": 1797}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTc4MTY4Mw==", "bodyText": "The issues has been fixed it as  suggested", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1744#discussion_r515781683", "createdAt": "2020-11-02T07:32:06Z", "author": {"login": "vigneshjbtc"}, "path": "study-builder/fdahpStudyDesigner/src/main/java/com/fdahpstudydesigner/dao/StudyDAOImpl.java", "diffHunk": "@@ -7143,29 +7088,40 @@ public String updateDraftToEditedStatus(\n       }\n       if ((userId != null) && (studyId != null)) {\n         if ((actionType != null) && (FdahpStudyDesignerConstants.DRAFT_STUDY).equals(actionType)) {\n-          draftColumn = \"hasStudyDraft = 1\";\n+          // draftColumn = \"hasStudyDraft = 1\";\n+          queryString =\n+              \" Update StudyBo set hasStudyDraft = 1 , modifiedBy =:userId , modifiedOn = now() where id = :studyId \";\n         } else if ((actionType != null)\n             && (FdahpStudyDesignerConstants.DRAFT_QUESTIONNAIRE).equals(actionType)) {\n-          draftColumn = \"hasQuestionnaireDraft = 1, hasStudyDraft = 1 \";\n+          //          draftColumn = \"hasQuestionnaireDraft = 1, hasStudyDraft = 1 \";\n+          queryString =\n+              \" Update StudyBo set hasQuestionnaireDraft = 1, hasStudyDraft = 1  , modifiedBy =:userId , modifiedOn = now() where id = :studyId \";\n         } else if ((actionType != null)\n             && (FdahpStudyDesignerConstants.DRAFT_ACTIVETASK).equals(actionType)) {\n-          draftColumn = \"hasActivetaskDraft = 1, hasStudyDraft = 1 \";\n+          //          draftColumn = \"hasActivetaskDraft = 1, hasStudyDraft = 1 \";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTE2NjAwNQ=="}, "originalCommit": {"oid": "9cc76c844436867e862b2c1c0bd90e7e61823f83"}, "originalPosition": 1797}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIyNzg3OTk2OnYy", "diffSide": "RIGHT", "path": "study-builder/fdahpStudyDesigner/src/main/java/com/fdahpstudydesigner/dao/StudyDAOImpl.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxNTowODo0MFrOHrTWKA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wMlQwNzozMjoxNFrOHr40Wg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTE2Nzc4NA==", "bodyText": "please remove input.contains(\",\") check.\nWith this condition your method will return an empty list even if the input string contains a single element.", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1744#discussion_r515167784", "createdAt": "2020-10-30T15:08:40Z", "author": {"login": "zohrehj"}, "path": "study-builder/fdahpStudyDesigner/src/main/java/com/fdahpstudydesigner/dao/StudyDAOImpl.java", "diffHunk": "@@ -7201,4 +7157,15 @@ public String updateDraftToEditedStatus(\n     }\n     return outputList;\n   }\n+\n+  public List<String> convertStringToList(String input) {\n+    List<String> outputList = new ArrayList<>();\n+    if (!StringUtils.isEmpty(input) && input.contains(\",\")) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9cc76c844436867e862b2c1c0bd90e7e61823f83"}, "originalPosition": 1843}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTc4MTcyMg==", "bodyText": "The issues has been fixed it as  suggested", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1744#discussion_r515781722", "createdAt": "2020-11-02T07:32:14Z", "author": {"login": "vigneshjbtc"}, "path": "study-builder/fdahpStudyDesigner/src/main/java/com/fdahpstudydesigner/dao/StudyDAOImpl.java", "diffHunk": "@@ -7201,4 +7157,15 @@ public String updateDraftToEditedStatus(\n     }\n     return outputList;\n   }\n+\n+  public List<String> convertStringToList(String input) {\n+    List<String> outputList = new ArrayList<>();\n+    if (!StringUtils.isEmpty(input) && input.contains(\",\")) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTE2Nzc4NA=="}, "originalCommit": {"oid": "9cc76c844436867e862b2c1c0bd90e7e61823f83"}, "originalPosition": 1843}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIyNzg4NDQyOnYy", "diffSide": "RIGHT", "path": "study-builder/fdahpStudyDesigner/src/main/java/com/fdahpstudydesigner/dao/StudyDAOImpl.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxNTowOTo0MVrOHrTY7A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wMlQwNzozMjo0MlrOHr409Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTE2ODQ5Mg==", "bodyText": "please rename this to something more generic, e.g. itemArray. StatusIdArray assumes that input contains list of statusIds.", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1744#discussion_r515168492", "createdAt": "2020-10-30T15:09:41Z", "author": {"login": "zohrehj"}, "path": "study-builder/fdahpStudyDesigner/src/main/java/com/fdahpstudydesigner/dao/StudyDAOImpl.java", "diffHunk": "@@ -7201,4 +7157,15 @@ public String updateDraftToEditedStatus(\n     }\n     return outputList;\n   }\n+\n+  public List<String> convertStringToList(String input) {\n+    List<String> outputList = new ArrayList<>();\n+    if (!StringUtils.isEmpty(input) && input.contains(\",\")) {\n+      String[] statusIdArray = input.split(\",\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9cc76c844436867e862b2c1c0bd90e7e61823f83"}, "originalPosition": 1844}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTc4MTg3Nw==", "bodyText": "The issues has been fixed it as  suggested", "url": "https://github.com/GoogleCloudPlatform/fda-mystudies/pull/1744#discussion_r515781877", "createdAt": "2020-11-02T07:32:42Z", "author": {"login": "vigneshjbtc"}, "path": "study-builder/fdahpStudyDesigner/src/main/java/com/fdahpstudydesigner/dao/StudyDAOImpl.java", "diffHunk": "@@ -7201,4 +7157,15 @@ public String updateDraftToEditedStatus(\n     }\n     return outputList;\n   }\n+\n+  public List<String> convertStringToList(String input) {\n+    List<String> outputList = new ArrayList<>();\n+    if (!StringUtils.isEmpty(input) && input.contains(\",\")) {\n+      String[] statusIdArray = input.split(\",\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTE2ODQ5Mg=="}, "originalCommit": {"oid": "9cc76c844436867e862b2c1c0bd90e7e61823f83"}, "originalPosition": 1844}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1621, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}