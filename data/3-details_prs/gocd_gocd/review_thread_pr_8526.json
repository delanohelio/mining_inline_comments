{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDgxMjUxMjU3", "number": 8526, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOFQwMzoyMDoxMVrOEhEP5w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOFQwMzoyMDoxMVrOEhEP5w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAzMTA4MDcxOnYy", "diffSide": "RIGHT", "path": "api/api-abstract-material-test/src/main/java/com/thoughtworks/go/api/abstractmaterialtest/AbstractMaterialTestController.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOFQwMzoyMDoxMVrOHOLYMQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOFQwMzoyMDoxMVrOHOLYMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDYyODUyOQ==", "bodyText": "@kritika-singh3 do you think we can add a test for these scenarios over adding a comment?", "url": "https://github.com/gocd/gocd/pull/8526#discussion_r484628529", "createdAt": "2020-09-08T03:20:11Z", "author": {"login": "maheshp"}, "path": "api/api-abstract-material-test/src/main/java/com/thoughtworks/go/api/abstractmaterialtest/AbstractMaterialTestController.java", "diffHunk": "@@ -126,12 +123,18 @@ private String handleValidationBeanResponse(ValidationBean validationBean, Respo\n     }\n \n     private void performParamExpansion(ScmMaterialConfig scmMaterialConfig, String pipelineName) {\n-        PipelineConfig existingPipeline = goConfigService.pipelineConfigNamed(new CaseInsensitiveString(pipelineName));\n-        PipelineConfig pipelineConfig = new PipelineConfig(existingPipeline.name(), new MaterialConfigs());\n-\n-        GoConfigCloner goConfigCloner = new GoConfigCloner();\n-        pipelineConfig.setParams(goConfigCloner.deepClone(existingPipeline.getParams()));\n+        PipelineConfig pipelineConfig;\n+        // If the pipeline name is provided, find the pipeline and add the params to the new pipeline config object\n+        if (isNotBlank(pipelineName)) {\n+            PipelineConfig existingPipeline = goConfigService.pipelineConfigNamed(new CaseInsensitiveString(pipelineName));\n+            pipelineConfig = new PipelineConfig(existingPipeline.name(), new MaterialConfigs());\n \n+            GoConfigCloner goConfigCloner = new GoConfigCloner();\n+            pipelineConfig.setParams(goConfigCloner.deepClone(existingPipeline.getParams()));\n+        } else {\n+            // If the pipeline name is not provided, this means that the pipeline is still in creation nd hence no params exist", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c2ba56b3b6e14a9121a44883f3584af4133e455e"}, "originalPosition": 37}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2833, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}