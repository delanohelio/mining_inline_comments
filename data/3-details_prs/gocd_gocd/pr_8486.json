{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDczNzU1Nzkx", "number": 8486, "title": "Update materials spa modifications modal", "bodyText": "Issue: #8331\nDescription:\nUpdated modifications modal on materials spa\n\nrender modifications in a tabular format\nrender comment as is. In case of longer messages - make it scrollable", "createdAt": "2020-08-26T08:51:13Z", "url": "https://github.com/gocd/gocd/pull/8486", "merged": true, "mergeCommit": {"oid": "4b3bd4074c06bbaa0324216a47f8e4fa5c07bd23"}, "closed": true, "closedAt": "2020-08-26T10:48:53Z", "author": {"login": "kritika-singh3"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdCkpbZgH2gAyNDczNzU1NzkxOjAzZWUwZDBkMTBjN2ZiYmZjMzgwMGI0NjU2ODM0ZmFhYWEyYjIyYjc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdCqadkAFqTQ3NTQxMDMwOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "03ee0d0d10c7fbbfc3800b4656834faaaa2b22b7", "author": {"user": {"login": "kritika-singh3", "name": "Kritika"}}, "url": "https://github.com/gocd/gocd/commit/03ee0d0d10c7fbbfc3800b4656834faaaa2b22b7", "committedDate": "2020-08-26T05:06:55Z", "message": "Update modifications api\n - send user display name - which sends 'anonymous' when username is not set"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6207977364eb4a0b93c5448517d8d23a37cd3498", "author": {"user": {"login": "kritika-singh3", "name": "Kritika"}}, "url": "https://github.com/gocd/gocd/commit/6207977364eb4a0b93c5448517d8d23a37cd3498", "committedDate": "2020-08-26T05:53:59Z", "message": "Updated the modification modal\n - styled it like a table\n - revision and username are truncated as needed"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a066cc01963bac3f8ea3ef7d26de38160175eea0", "author": {"user": {"login": "kritika-singh3", "name": "Kritika"}}, "url": "https://github.com/gocd/gocd/commit/a066cc01963bac3f8ea3ef7d26de38160175eea0", "committedDate": "2020-08-26T08:48:04Z", "message": "render comment as is\n\n - render comment with a fixed height with a scroll bar for longer messages"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0ab0d546d45102099bc7fa2c7691fe6ddbfc8c05", "author": {"user": {"login": "kritika-singh3", "name": "Kritika"}}, "url": "https://github.com/gocd/gocd/commit/0ab0d546d45102099bc7fa2c7691fe6ddbfc8c05", "committedDate": "2020-08-26T09:42:13Z", "message": "use more/less feature for showcasing comments on modifications modal\n\n - for the panel - use the default scroll bars\n - when clicked on more - the scrolling will be enabled for a long message"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc1NDEwMzA5", "url": "https://github.com/gocd/gocd/pull/8486#pullrequestreview-475410309", "createdAt": "2020-08-26T11:50:00Z", "commit": {"oid": "0ab0d546d45102099bc7fa2c7691fe6ddbfc8c05"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQxMTo1MDowMFrOHHIahA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQxMTo1MDowMFrOHHIahA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzIzOTk0MA==", "bodyText": "IIRC, this is done because of typescript compilation error.\ntry this instead - vnode.state.expanded = Stream<boolean>(false)?", "url": "https://github.com/gocd/gocd/pull/8486#discussion_r477239940", "createdAt": "2020-08-26T11:50:00Z", "author": {"login": "GaneshSPatil"}, "path": "server/src/main/webapp/WEB-INF/rails/webpack/views/pages/materials/modal.tsx", "diffHunk": "@@ -241,3 +241,54 @@ export class ShowUsagesModal extends Modal {\n     </div>;\n   }\n }\n+\n+interface EllipseAttrs {\n+  text: string;\n+}\n+\n+interface EllipseState {\n+  expanded: Stream<boolean>;\n+  setExpandedTo: (state: boolean, e: MouseEvent) => void;\n+}\n+\n+class EllipseText extends MithrilComponent<EllipseAttrs, EllipseState> {\n+  private static MIN_CHAR_COUNT = 80;\n+\n+  oninit(vnode: m.Vnode<EllipseAttrs, EllipseState>): any {\n+    vnode.state.expanded = Stream();\n+    vnode.state.expanded(false);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0ab0d546d45102099bc7fa2c7691fe6ddbfc8c05"}, "originalPosition": 80}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1855, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}