{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA2NTk0OTgy", "number": 8668, "title": "ClonerFactory to fix JDK 15 `deepClone()` issues", "bodyText": "We need a special Cloner instance to handle ImmutableCollections.{List12,Set12} instances because their peculiar implementation results in an incorrect output from deepClone().", "createdAt": "2020-10-20T08:38:02Z", "url": "https://github.com/gocd/gocd/pull/8668", "merged": true, "mergeCommit": {"oid": "4e16e35a91cc4698dd2281f5856d00211d0d7dc8"}, "closed": true, "closedAt": "2020-10-20T10:37:54Z", "author": {"login": "marques-work"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdUWAJ2AFqTUxMjU0OTEwNg==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdUWUDSAFqTUxMjU2NTY5MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEyNTQ5MTA2", "url": "https://github.com/gocd/gocd/pull/8668#pullrequestreview-512549106", "createdAt": "2020-10-20T10:13:48Z", "commit": {"oid": "2f26be9345237d23afea610648607f48f176e22d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2f26be9345237d23afea610648607f48f176e22d", "author": {"user": {"login": "marques-work", "name": null}}, "url": "https://github.com/gocd/gocd/commit/2f26be9345237d23afea610648607f48f176e22d", "committedDate": "2020-10-20T08:59:06Z", "message": "Use `ClonerFactory.instance()` instead of `new Cloner()`"}, "afterCommit": {"oid": "67b565f51bf1ec3845a3c60936526844bb8822fd", "author": {"user": {"login": "marques-work", "name": null}}, "url": "https://github.com/gocd/gocd/commit/67b565f51bf1ec3845a3c60936526844bb8822fd", "committedDate": "2020-10-20T10:21:47Z", "message": "Use `ClonerFactory.instance()` instead of `new Cloner()`"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c25adcf49c5326877832e4e8567ccae595c2733f", "author": {"user": {"login": "marques-work", "name": null}}, "url": "https://github.com/gocd/gocd/commit/c25adcf49c5326877832e4e8567ccae595c2733f", "committedDate": "2020-10-20T10:28:06Z", "message": "Create ClonerFactory to create preconfigured Cloner instances that safely deepClone special java.util.ImmutableCollections.* instances"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "67b565f51bf1ec3845a3c60936526844bb8822fd", "author": {"user": {"login": "marques-work", "name": null}}, "url": "https://github.com/gocd/gocd/commit/67b565f51bf1ec3845a3c60936526844bb8822fd", "committedDate": "2020-10-20T10:21:47Z", "message": "Use `ClonerFactory.instance()` instead of `new Cloner()`"}, "afterCommit": {"oid": "e861aad04dc48e9aaf0ab7bda4dceeef7f07eb34", "author": {"user": {"login": "marques-work", "name": null}}, "url": "https://github.com/gocd/gocd/commit/e861aad04dc48e9aaf0ab7bda4dceeef7f07eb34", "committedDate": "2020-10-20T10:28:06Z", "message": "Use `ClonerFactory.instance()` instead of `new Cloner()`"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "695120e99d26ae83235c8c58113028cd24cac0a3", "author": {"user": {"login": "marques-work", "name": null}}, "url": "https://github.com/gocd/gocd/commit/695120e99d26ae83235c8c58113028cd24cac0a3", "committedDate": "2020-10-20T10:34:50Z", "message": "Use `ClonerFactory.instance()` instead of `new Cloner()`"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e861aad04dc48e9aaf0ab7bda4dceeef7f07eb34", "author": {"user": {"login": "marques-work", "name": null}}, "url": "https://github.com/gocd/gocd/commit/e861aad04dc48e9aaf0ab7bda4dceeef7f07eb34", "committedDate": "2020-10-20T10:28:06Z", "message": "Use `ClonerFactory.instance()` instead of `new Cloner()`"}, "afterCommit": {"oid": "695120e99d26ae83235c8c58113028cd24cac0a3", "author": {"user": {"login": "marques-work", "name": null}}, "url": "https://github.com/gocd/gocd/commit/695120e99d26ae83235c8c58113028cd24cac0a3", "committedDate": "2020-10-20T10:34:50Z", "message": "Use `ClonerFactory.instance()` instead of `new Cloner()`"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEyNTY1Njkx", "url": "https://github.com/gocd/gocd/pull/8668#pullrequestreview-512565691", "createdAt": "2020-10-20T10:35:32Z", "commit": {"oid": "695120e99d26ae83235c8c58113028cd24cac0a3"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQxMDozNTozMlrOHk1yuw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQxMDozNTozMlrOHk1yuw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODM5MjEyMw==", "bodyText": "@maheshp This should register the custom FastCloners for GoConfigCloner. Tests below to validate.", "url": "https://github.com/gocd/gocd/pull/8668#discussion_r508392123", "createdAt": "2020-10-20T10:35:32Z", "author": {"login": "marques-work"}, "path": "config/config-server/src/main/java/com/thoughtworks/go/config/GoConfigCloner.java", "diffHunk": "@@ -36,5 +37,6 @@ public GoConfigCloner() {\n                 PipelineNameToConfigMap.class,\n                 CachedPluggableArtifactConfigs.class,\n                 CachedFetchPluggableArtifactTasks.class);\n+        ClonerFactory.applyFixes(this);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "695120e99d26ae83235c8c58113028cd24cac0a3"}, "originalPosition": 12}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1807, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}