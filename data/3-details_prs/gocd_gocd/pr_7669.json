{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY3OTcyMjU2", "number": 7669, "title": "Remove all x509 related code", "bodyText": "The server will no longer generate any self signed SSL certificates.\nIt will however initialize the jetty SSL connector if the keystore is\navailable.\nAgents, for quite some time have not been using mutual TLS, this\nremoves all code that generates the agent certs/private keys and\ntransmits the keys/certs and stores it in various\nkeystores/truststores", "createdAt": "2020-01-28T11:54:47Z", "url": "https://github.com/gocd/gocd/pull/7669", "merged": true, "mergeCommit": {"oid": "f682a94415003a5084cab812c50ccaa60f21de0b"}, "closed": true, "closedAt": "2020-02-18T16:49:04Z", "author": {"login": "ketan"}, "timelineItems": {"totalCount": 14, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb-wC2BgFqTM0OTMxODg0NA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcFf-eaABqjMwNDY3MDA4NTM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ5MzE4ODQ0", "url": "https://github.com/gocd/gocd/pull/7669#pullrequestreview-349318844", "createdAt": "2020-01-28T11:56:46Z", "commit": {"oid": "dde744335cca33bf8df0a2602a46f17d27d03a14"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOFQxMTo1Njo0NlrOFiiZKA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOFQxMTo1Njo0NlrOFiiZKA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTc1OTQwMA==", "bodyText": "@arvindsv and @maheshp is this OK for an implementation? Basically don't configure ssl on fresh installs.", "url": "https://github.com/gocd/gocd/pull/7669#discussion_r371759400", "createdAt": "2020-01-28T11:56:46Z", "author": {"login": "ketan"}, "path": "jetty9/src/main/java/com/thoughtworks/go/server/Jetty9Server.java", "diffHunk": "@@ -76,7 +76,10 @@ public Jetty9Server(SystemEnvironment systemEnvironment, String password) {\n     public void configure() throws Exception {\n         server.addEventListener(mbeans());\n         server.addConnector(plainConnector());\n-        server.addConnector(sslConnector());\n+        Connector connector = sslConnector();\n+        if (connector != null) {\n+            server.addConnector(connector);\n+        }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dde744335cca33bf8df0a2602a46f17d27d03a14"}, "originalPosition": 8}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "dde744335cca33bf8df0a2602a46f17d27d03a14", "author": {"user": {"login": "ketan", "name": "Ketan Padegaonkar"}}, "url": "https://github.com/gocd/gocd/commit/dde744335cca33bf8df0a2602a46f17d27d03a14", "committedDate": "2020-01-28T11:54:23Z", "message": "Remove all x509 related code\n\n- The server will no longer generate any self signed SSL certificates.\n  It will however initialize the jetty SSL connector if the keystore is\n  available.\n- Agents, for quite some time have not been using mutual TLS, this\n  removes all code that generates the agent certs/private keys and\n  transmits the keys/certs and stores it in various\n  keystores/truststores"}, "afterCommit": {"oid": "8670fbe7b8bd3fe96d86aaeb333840e2f3a4aa54", "author": {"user": {"login": "ketan", "name": "Ketan Padegaonkar"}}, "url": "https://github.com/gocd/gocd/commit/8670fbe7b8bd3fe96d86aaeb333840e2f3a4aa54", "committedDate": "2020-01-29T13:00:15Z", "message": "Remove all x509 related code\n\n- The server will no longer generate any self signed SSL certificates.\n  It will however initialize the jetty SSL connector if the keystore is\n  available.\n- Agents, for quite some time have not been using mutual TLS, this\n  removes all code that generates the agent certs/private keys and\n  transmits the keys/certs and stores it in various\n  keystores/truststores"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8670fbe7b8bd3fe96d86aaeb333840e2f3a4aa54", "author": {"user": {"login": "ketan", "name": "Ketan Padegaonkar"}}, "url": "https://github.com/gocd/gocd/commit/8670fbe7b8bd3fe96d86aaeb333840e2f3a4aa54", "committedDate": "2020-01-29T13:00:15Z", "message": "Remove all x509 related code\n\n- The server will no longer generate any self signed SSL certificates.\n  It will however initialize the jetty SSL connector if the keystore is\n  available.\n- Agents, for quite some time have not been using mutual TLS, this\n  removes all code that generates the agent certs/private keys and\n  transmits the keys/certs and stores it in various\n  keystores/truststores"}, "afterCommit": {"oid": "c735eeccace3f7e5082f61a2f108750c6383eb23", "author": {"user": {"login": "ketan", "name": "Ketan Padegaonkar"}}, "url": "https://github.com/gocd/gocd/commit/c735eeccace3f7e5082f61a2f108750c6383eb23", "committedDate": "2020-02-05T11:03:13Z", "message": "foo"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c735eeccace3f7e5082f61a2f108750c6383eb23", "author": {"user": {"login": "ketan", "name": "Ketan Padegaonkar"}}, "url": "https://github.com/gocd/gocd/commit/c735eeccace3f7e5082f61a2f108750c6383eb23", "committedDate": "2020-02-05T11:03:13Z", "message": "foo"}, "afterCommit": {"oid": "77be9c070987bcfa77ed363165c16b8552b576b6", "author": {"user": {"login": "ketan", "name": "Ketan Padegaonkar"}}, "url": "https://github.com/gocd/gocd/commit/77be9c070987bcfa77ed363165c16b8552b576b6", "committedDate": "2020-02-14T06:23:19Z", "message": "Remove all x509 related code\n\n- The server will no longer generate any self signed SSL certificates.\n  It will however initialize the jetty SSL connector if the keystore is\n  available.\n- Agents, for quite some time have not been using mutual TLS, this\n  removes all code that generates the agent certs/private keys and\n  transmits the keys/certs and stores it in various\n  keystores/truststores"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "77be9c070987bcfa77ed363165c16b8552b576b6", "author": {"user": {"login": "ketan", "name": "Ketan Padegaonkar"}}, "url": "https://github.com/gocd/gocd/commit/77be9c070987bcfa77ed363165c16b8552b576b6", "committedDate": "2020-02-14T06:23:19Z", "message": "Remove all x509 related code\n\n- The server will no longer generate any self signed SSL certificates.\n  It will however initialize the jetty SSL connector if the keystore is\n  available.\n- Agents, for quite some time have not been using mutual TLS, this\n  removes all code that generates the agent certs/private keys and\n  transmits the keys/certs and stores it in various\n  keystores/truststores"}, "afterCommit": {"oid": "f4378b0bb6930bb8f3c98fbe3efbdc69067dfe9e", "author": {"user": {"login": "ketan", "name": "Ketan Padegaonkar"}}, "url": "https://github.com/gocd/gocd/commit/f4378b0bb6930bb8f3c98fbe3efbdc69067dfe9e", "committedDate": "2020-02-17T08:11:45Z", "message": "Remove all x509 related code\n\n- The server will no longer generate any self signed SSL certificates.\n  It will however initialize the jetty SSL connector if the keystore is\n  available.\n- Agents, for quite some time have not been using mutual TLS, this\n  removes all code that generates the agent certs/private keys and\n  transmits the keys/certs and stores it in various\n  keystores/truststores"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f4378b0bb6930bb8f3c98fbe3efbdc69067dfe9e", "author": {"user": {"login": "ketan", "name": "Ketan Padegaonkar"}}, "url": "https://github.com/gocd/gocd/commit/f4378b0bb6930bb8f3c98fbe3efbdc69067dfe9e", "committedDate": "2020-02-17T08:11:45Z", "message": "Remove all x509 related code\n\n- The server will no longer generate any self signed SSL certificates.\n  It will however initialize the jetty SSL connector if the keystore is\n  available.\n- Agents, for quite some time have not been using mutual TLS, this\n  removes all code that generates the agent certs/private keys and\n  transmits the keys/certs and stores it in various\n  keystores/truststores"}, "afterCommit": {"oid": "8e40311cdc137c1e45519e91be0ff9f08c01f238", "author": {"user": {"login": "ketan", "name": "Ketan Padegaonkar"}}, "url": "https://github.com/gocd/gocd/commit/8e40311cdc137c1e45519e91be0ff9f08c01f238", "committedDate": "2020-02-17T08:54:47Z", "message": "Remove all x509 related code\n\n- The server will no longer generate any self signed SSL certificates.\n  It will however initialize the jetty SSL connector if the keystore is\n  available.\n- Agents, for quite some time have not been using mutual TLS, this\n  removes all code that generates the agent certs/private keys and\n  transmits the keys/certs and stores it in various\n  keystores/truststores"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8e40311cdc137c1e45519e91be0ff9f08c01f238", "author": {"user": {"login": "ketan", "name": "Ketan Padegaonkar"}}, "url": "https://github.com/gocd/gocd/commit/8e40311cdc137c1e45519e91be0ff9f08c01f238", "committedDate": "2020-02-17T08:54:47Z", "message": "Remove all x509 related code\n\n- The server will no longer generate any self signed SSL certificates.\n  It will however initialize the jetty SSL connector if the keystore is\n  available.\n- Agents, for quite some time have not been using mutual TLS, this\n  removes all code that generates the agent certs/private keys and\n  transmits the keys/certs and stores it in various\n  keystores/truststores"}, "afterCommit": {"oid": "c4013621cbe4c5b9c9e0f173502c3700e6858157", "author": {"user": {"login": "ketan", "name": "Ketan Padegaonkar"}}, "url": "https://github.com/gocd/gocd/commit/c4013621cbe4c5b9c9e0f173502c3700e6858157", "committedDate": "2020-02-17T11:47:08Z", "message": "Remove all x509 related code\n\n- The server will no longer generate any self signed SSL certificates.\n  It will however initialize the jetty SSL connector if the keystore is\n  available.\n- Agents, for quite some time have not been using mutual TLS, this\n  removes all code that generates the agent certs/private keys and\n  transmits the keys/certs and stores it in various\n  keystores/truststores"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c4013621cbe4c5b9c9e0f173502c3700e6858157", "author": {"user": {"login": "ketan", "name": "Ketan Padegaonkar"}}, "url": "https://github.com/gocd/gocd/commit/c4013621cbe4c5b9c9e0f173502c3700e6858157", "committedDate": "2020-02-17T11:47:08Z", "message": "Remove all x509 related code\n\n- The server will no longer generate any self signed SSL certificates.\n  It will however initialize the jetty SSL connector if the keystore is\n  available.\n- Agents, for quite some time have not been using mutual TLS, this\n  removes all code that generates the agent certs/private keys and\n  transmits the keys/certs and stores it in various\n  keystores/truststores"}, "afterCommit": {"oid": "1980770658e1c605f19b3f9293788a60bc2ef935", "author": {"user": {"login": "ketan", "name": "Ketan Padegaonkar"}}, "url": "https://github.com/gocd/gocd/commit/1980770658e1c605f19b3f9293788a60bc2ef935", "committedDate": "2020-02-18T05:28:10Z", "message": "Remove all x509 related code\n\n- The server will no longer generate any self signed SSL certificates.\n  It will however initialize the jetty SSL connector if the keystore is\n  available.\n- Agents, for quite some time have not been using mutual TLS, this\n  removes all code that generates the agent certs/private keys and\n  transmits the keys/certs and stores it in various\n  keystores/truststores"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1980770658e1c605f19b3f9293788a60bc2ef935", "author": {"user": {"login": "ketan", "name": "Ketan Padegaonkar"}}, "url": "https://github.com/gocd/gocd/commit/1980770658e1c605f19b3f9293788a60bc2ef935", "committedDate": "2020-02-18T05:28:10Z", "message": "Remove all x509 related code\n\n- The server will no longer generate any self signed SSL certificates.\n  It will however initialize the jetty SSL connector if the keystore is\n  available.\n- Agents, for quite some time have not been using mutual TLS, this\n  removes all code that generates the agent certs/private keys and\n  transmits the keys/certs and stores it in various\n  keystores/truststores"}, "afterCommit": {"oid": "1f14e802f459a154c28694d25b82957188808759", "author": {"user": {"login": "ketan", "name": "Ketan Padegaonkar"}}, "url": "https://github.com/gocd/gocd/commit/1f14e802f459a154c28694d25b82957188808759", "committedDate": "2020-02-18T05:38:59Z", "message": "Remove all x509 related code\n\n- The server will no longer generate any self signed SSL certificates.\n  It will however initialize the jetty SSL connector if the keystore is\n  available.\n- Agents, for quite some time have not been using mutual TLS, this\n  removes all code that generates the agent certs/private keys and\n  transmits the keys/certs and stores it in various\n  keystores/truststores"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1f14e802f459a154c28694d25b82957188808759", "author": {"user": {"login": "ketan", "name": "Ketan Padegaonkar"}}, "url": "https://github.com/gocd/gocd/commit/1f14e802f459a154c28694d25b82957188808759", "committedDate": "2020-02-18T05:38:59Z", "message": "Remove all x509 related code\n\n- The server will no longer generate any self signed SSL certificates.\n  It will however initialize the jetty SSL connector if the keystore is\n  available.\n- Agents, for quite some time have not been using mutual TLS, this\n  removes all code that generates the agent certs/private keys and\n  transmits the keys/certs and stores it in various\n  keystores/truststores"}, "afterCommit": {"oid": "6e16dcac4fc6a26848eb7b3ec6d819610f2a4b55", "author": {"user": {"login": "ketan", "name": "Ketan Padegaonkar"}}, "url": "https://github.com/gocd/gocd/commit/6e16dcac4fc6a26848eb7b3ec6d819610f2a4b55", "committedDate": "2020-02-18T09:40:56Z", "message": "Remove all x509 related code\n\n- The server will no longer generate any self signed SSL certificates.\n  It will however initialize the jetty SSL connector if the keystore is\n  available.\n- Agents, for quite some time have not been using mutual TLS, this\n  removes all code that generates the agent certs/private keys and\n  transmits the keys/certs and stores it in various\n  keystores/truststores"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6e16dcac4fc6a26848eb7b3ec6d819610f2a4b55", "author": {"user": {"login": "ketan", "name": "Ketan Padegaonkar"}}, "url": "https://github.com/gocd/gocd/commit/6e16dcac4fc6a26848eb7b3ec6d819610f2a4b55", "committedDate": "2020-02-18T09:40:56Z", "message": "Remove all x509 related code\n\n- The server will no longer generate any self signed SSL certificates.\n  It will however initialize the jetty SSL connector if the keystore is\n  available.\n- Agents, for quite some time have not been using mutual TLS, this\n  removes all code that generates the agent certs/private keys and\n  transmits the keys/certs and stores it in various\n  keystores/truststores"}, "afterCommit": {"oid": "93f6937f5954d74c6ffd74de9c5009a82716ba6e", "author": {"user": {"login": "ketan", "name": "Ketan Padegaonkar"}}, "url": "https://github.com/gocd/gocd/commit/93f6937f5954d74c6ffd74de9c5009a82716ba6e", "committedDate": "2020-02-18T09:48:30Z", "message": "Remove all x509 related code\n\n- The server will no longer generate any self signed SSL certificates.\n  It will however initialize the jetty SSL connector if the keystore is\n  available.\n- Agents, for quite some time have not been using mutual TLS, this\n  removes all code that generates the agent certs/private keys and\n  transmits the keys/certs and stores it in various\n  keystores/truststores"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "93f6937f5954d74c6ffd74de9c5009a82716ba6e", "author": {"user": {"login": "ketan", "name": "Ketan Padegaonkar"}}, "url": "https://github.com/gocd/gocd/commit/93f6937f5954d74c6ffd74de9c5009a82716ba6e", "committedDate": "2020-02-18T09:48:30Z", "message": "Remove all x509 related code\n\n- The server will no longer generate any self signed SSL certificates.\n  It will however initialize the jetty SSL connector if the keystore is\n  available.\n- Agents, for quite some time have not been using mutual TLS, this\n  removes all code that generates the agent certs/private keys and\n  transmits the keys/certs and stores it in various\n  keystores/truststores"}, "afterCommit": {"oid": "f562cec492fd7754fcb460ef18a1ae88223400b4", "author": {"user": {"login": "ketan", "name": "Ketan Padegaonkar"}}, "url": "https://github.com/gocd/gocd/commit/f562cec492fd7754fcb460ef18a1ae88223400b4", "committedDate": "2020-02-18T10:37:42Z", "message": "Remove all x509 related code\n\n- The server will no longer generate any self signed SSL certificates.\n  It will however initialize the jetty SSL connector if the keystore is\n  available.\n- Agents, for quite some time have not been using mutual TLS, this\n  removes all code that generates the agent certs/private keys and\n  transmits the keys/certs and stores it in various\n  keystores/truststores"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "badaf44d86406fcac02e20ad8eaf9b7c918de8b8", "author": {"user": {"login": "ketan", "name": "Ketan Padegaonkar"}}, "url": "https://github.com/gocd/gocd/commit/badaf44d86406fcac02e20ad8eaf9b7c918de8b8", "committedDate": "2020-02-18T11:10:53Z", "message": "Remove all x509 related code\n\n- The server will no longer generate any self signed SSL certificates.\n  It will however initialize the jetty SSL connector if the keystore is\n  available.\n- Agents, for quite some time have not been using mutual TLS, this\n  removes all code that generates the agent certs/private keys and\n  transmits the keys/certs and stores it in various\n  keystores/truststores"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f562cec492fd7754fcb460ef18a1ae88223400b4", "author": {"user": {"login": "ketan", "name": "Ketan Padegaonkar"}}, "url": "https://github.com/gocd/gocd/commit/f562cec492fd7754fcb460ef18a1ae88223400b4", "committedDate": "2020-02-18T10:37:42Z", "message": "Remove all x509 related code\n\n- The server will no longer generate any self signed SSL certificates.\n  It will however initialize the jetty SSL connector if the keystore is\n  available.\n- Agents, for quite some time have not been using mutual TLS, this\n  removes all code that generates the agent certs/private keys and\n  transmits the keys/certs and stores it in various\n  keystores/truststores"}, "afterCommit": {"oid": "badaf44d86406fcac02e20ad8eaf9b7c918de8b8", "author": {"user": {"login": "ketan", "name": "Ketan Padegaonkar"}}, "url": "https://github.com/gocd/gocd/commit/badaf44d86406fcac02e20ad8eaf9b7c918de8b8", "committedDate": "2020-02-18T11:10:53Z", "message": "Remove all x509 related code\n\n- The server will no longer generate any self signed SSL certificates.\n  It will however initialize the jetty SSL connector if the keystore is\n  available.\n- Agents, for quite some time have not been using mutual TLS, this\n  removes all code that generates the agent certs/private keys and\n  transmits the keys/certs and stores it in various\n  keystores/truststores"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1947, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}