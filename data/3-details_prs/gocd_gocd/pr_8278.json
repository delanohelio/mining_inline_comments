{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQxMjMzODAy", "number": 8278, "title": "Remove Data Sharing", "bodyText": "Issue: #8271\nDescription:\n\nRemove data sharing spa and models.\nRemove data sharing notification.\nRemove usage data reporter.\nRemove data sharing settings API.\nRemove usage data reporting API.\nRemove data sharing from admin dropdown.\nRemove passing data sharing related server id for the update check.\nCleanup DataSharingSettings and UsageStatisticsReporting tables on an upgrade.\nCleanup local storage for data sharing related data", "createdAt": "2020-06-29T06:41:24Z", "url": "https://github.com/gocd/gocd/pull/8278", "merged": true, "mergeCommit": {"oid": "326605735914ab8c6ad3130811d17f13819a49d7"}, "closed": true, "closedAt": "2020-07-06T16:34:58Z", "author": {"login": "GaneshSPatil"}, "timelineItems": {"totalCount": 15, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcwN_4HgBqjM0OTU3MjUxMDA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcyNxWhABqjM1MTUwMjg4MjA=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a4eac9bbaf9b41f3b0f2abc81d2cf1d776c4a593", "author": {"user": {"login": "GaneshSPatil", "name": "Ganesh S Patil"}}, "url": "https://github.com/gocd/gocd/commit/a4eac9bbaf9b41f3b0f2abc81d2cf1d776c4a593", "committedDate": "2020-06-29T08:43:18Z", "message": "Cleanup DataSharingSettings and UsageStatisticsReporting tables on an upgrade."}, "afterCommit": {"oid": "96a8f3736e1ea18f459628b8aaba956e432b6914", "author": {"user": {"login": "GaneshSPatil", "name": "Ganesh S Patil"}}, "url": "https://github.com/gocd/gocd/commit/96a8f3736e1ea18f459628b8aaba956e432b6914", "committedDate": "2020-06-30T04:31:50Z", "message": "Cleanup local storage for data sharing related data\n\n* Remove data sharing last reported at time.\n* Remove data sharing notifications."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQxODQxOTc1", "url": "https://github.com/gocd/gocd/pull/8278#pullrequestreview-441841975", "createdAt": "2020-07-02T16:16:52Z", "commit": {"oid": "22df8ae92f5eaa6e5d098684a84fad770353615e"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQxNjoxNjo1MlrOGsUn0g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQxNzoyNDoxOFrOGsW6Cg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTEyODQwMg==", "bodyText": "We should not update/remove the older changeset.", "url": "https://github.com/gocd/gocd/pull/8278#discussion_r449128402", "createdAt": "2020-07-02T16:16:52Z", "author": {"login": "maheshp"}, "path": "db-support/db-migration/src/main/resources/db-migration-scripts/initial/create-schema.xml", "diffHunk": "@@ -396,17 +396,6 @@\n             <column name=\"CANCELLEDBY\" type=\"${dataType.caseSensitiveString_255}\"/>\n         </createTable>\n     </changeSet>\n-    <changeSet author=\"gocd(generated)\" id=\"24\">", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "22df8ae92f5eaa6e5d098684a84fad770353615e"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTE2NTgzNA==", "bodyText": "For the changeset id, can we follow the convention we had earlier for dbdeploy migrations,\n[release][migration_count]_[description]\n2006001_remove_data_sharing_settings_table", "url": "https://github.com/gocd/gocd/pull/8278#discussion_r449165834", "createdAt": "2020-07-02T17:24:18Z", "author": {"login": "maheshp"}, "path": "db-support/db-migration/src/main/resources/db-migration-scripts/migrations/2020_06_1_remove_data_sharing_tables.xml", "diffHunk": "@@ -0,0 +1,37 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+\n+<!--\n+  ~ Copyright 2020 ThoughtWorks, Inc.\n+  ~\n+  ~ Licensed under the Apache License, Version 2.0 (the \"License\");\n+  ~ you may not use this file except in compliance with the License.\n+  ~ You may obtain a copy of the License at\n+  ~\n+  ~     http://www.apache.org/licenses/LICENSE-2.0\n+  ~\n+  ~ Unless required by applicable law or agreed to in writing, software\n+  ~ distributed under the License is distributed on an \"AS IS\" BASIS,\n+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+  ~ See the License for the specific language governing permissions and\n+  ~ limitations under the License.\n+  -->\n+\n+<databaseChangeLog xmlns=\"http://www.liquibase.org/xml/ns/dbchangelog\"\n+                   xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+                   xsi:schemaLocation=\"http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.8.xsd\">\n+\n+  <changeSet id=\"2020_06_1_remove_data_sharing_settings_table\" author=\"gocd\">", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0469e5c7a3c7bf777d682eaf96a796e55d3d03d6"}, "originalPosition": 23}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "96a8f3736e1ea18f459628b8aaba956e432b6914", "author": {"user": {"login": "GaneshSPatil", "name": "Ganesh S Patil"}}, "url": "https://github.com/gocd/gocd/commit/96a8f3736e1ea18f459628b8aaba956e432b6914", "committedDate": "2020-06-30T04:31:50Z", "message": "Cleanup local storage for data sharing related data\n\n* Remove data sharing last reported at time.\n* Remove data sharing notifications."}, "afterCommit": {"oid": "0b1b86c78c60a309878b308f698cf8936cd0b276", "author": {"user": {"login": "GaneshSPatil", "name": "Ganesh S Patil"}}, "url": "https://github.com/gocd/gocd/commit/0b1b86c78c60a309878b308f698cf8936cd0b276", "committedDate": "2020-07-03T03:22:47Z", "message": "Follow DbDeploy conventions for the database migration changeset id"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "035dbe25a3c09743c228a8eed6ac27d839f9c991", "author": {"user": {"login": "GaneshSPatil", "name": "Ganesh S Patil"}}, "url": "https://github.com/gocd/gocd/commit/035dbe25a3c09743c228a8eed6ac27d839f9c991", "committedDate": "2020-07-06T09:19:58Z", "message": "Remove data sharing spa and models"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7389ac33e47ee98068100e111749d521ecb73648", "author": {"user": {"login": "GaneshSPatil", "name": "Ganesh S Patil"}}, "url": "https://github.com/gocd/gocd/commit/7389ac33e47ee98068100e111749d521ecb73648", "committedDate": "2020-07-06T09:19:58Z", "message": "Remove data sharing notification"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "58b669faf55c4513066a139492ac1b4c0e5eceaa", "author": {"user": {"login": "GaneshSPatil", "name": "Ganesh S Patil"}}, "url": "https://github.com/gocd/gocd/commit/58b669faf55c4513066a139492ac1b4c0e5eceaa", "committedDate": "2020-07-06T09:19:58Z", "message": "Remove usage data reporter\n\n* Remove the javascript code which is reponsible to report usage data to the data sharing server"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8a1d89cda2556ebbb4aeebd3845e991d80ea6cfc", "author": {"user": {"login": "GaneshSPatil", "name": "Ganesh S Patil"}}, "url": "https://github.com/gocd/gocd/commit/8a1d89cda2556ebbb4aeebd3845e991d80ea6cfc", "committedDate": "2020-07-06T09:19:58Z", "message": "Remove data sharing settings API\n\n* Remove data sharing settings API.\n* Remove data sharing notification auth API.\n* Remove hibernate mapping for data sharing settings\n* Remove data sharing settings service."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "009bb49a801fd7aeed8387528c630015b34c44be", "author": {"user": {"login": "GaneshSPatil", "name": "Ganesh S Patil"}}, "url": "https://github.com/gocd/gocd/commit/009bb49a801fd7aeed8387528c630015b34c44be", "committedDate": "2020-07-06T09:19:58Z", "message": "Remove usage data reporting API\n\n* Remove usage data API (plain & encrypted).\n* Remove usage data reporting API (info, start & complete).\n* Remove data sharing certificates.\n* Remove hibernate mapping for usage data reporting table.\n* Remove usage statistics reporting service."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8617f578b95ff1db6dc34e3a004119cf22faf89b", "author": {"user": {"login": "GaneshSPatil", "name": "Ganesh S Patil"}}, "url": "https://github.com/gocd/gocd/commit/8617f578b95ff1db6dc34e3a004119cf22faf89b", "committedDate": "2020-07-06T09:19:58Z", "message": "Remove data sharing from admin dropdown"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5d2dcb713ef9130a2d4e70630b1f456e2453a8c8", "author": {"user": {"login": "GaneshSPatil", "name": "Ganesh S Patil"}}, "url": "https://github.com/gocd/gocd/commit/5d2dcb713ef9130a2d4e70630b1f456e2453a8c8", "committedDate": "2020-07-06T09:19:58Z", "message": "Remove passing data sharing related server id for the update check"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "78a75d35d05d1e6af0168117279aaf85cbbd86fa", "author": {"user": {"login": "GaneshSPatil", "name": "Ganesh S Patil"}}, "url": "https://github.com/gocd/gocd/commit/78a75d35d05d1e6af0168117279aaf85cbbd86fa", "committedDate": "2020-07-06T09:19:58Z", "message": "Cleanup DataSharingSettings and UsageStatisticsReporting tables on an upgrade."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1d24ba5c1d8dbd3e453f6aa2c9e746054b79eafb", "author": {"user": {"login": "GaneshSPatil", "name": "Ganesh S Patil"}}, "url": "https://github.com/gocd/gocd/commit/1d24ba5c1d8dbd3e453f6aa2c9e746054b79eafb", "committedDate": "2020-07-06T09:19:58Z", "message": "Do not modify existing sql, add a separate migration to remove tables"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4c4117b63c3475b1dfb43b6837f98b09aee9fb65", "author": {"user": {"login": "GaneshSPatil", "name": "Ganesh S Patil"}}, "url": "https://github.com/gocd/gocd/commit/4c4117b63c3475b1dfb43b6837f98b09aee9fb65", "committedDate": "2020-07-06T09:19:58Z", "message": "Cleanup local storage for data sharing related data\n\n* Remove data sharing last reported at time.\n* Remove data sharing notifications."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7f0c49e6a60b2f5a7e9d64b9e8c0120e777ac47c", "author": {"user": {"login": "GaneshSPatil", "name": "Ganesh S Patil"}}, "url": "https://github.com/gocd/gocd/commit/7f0c49e6a60b2f5a7e9d64b9e8c0120e777ac47c", "committedDate": "2020-07-06T09:24:35Z", "message": "Follow DbDeploy conventions for the database migration changeset id"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0b1b86c78c60a309878b308f698cf8936cd0b276", "author": {"user": {"login": "GaneshSPatil", "name": "Ganesh S Patil"}}, "url": "https://github.com/gocd/gocd/commit/0b1b86c78c60a309878b308f698cf8936cd0b276", "committedDate": "2020-07-03T03:22:47Z", "message": "Follow DbDeploy conventions for the database migration changeset id"}, "afterCommit": {"oid": "7f0c49e6a60b2f5a7e9d64b9e8c0120e777ac47c", "author": {"user": {"login": "GaneshSPatil", "name": "Ganesh S Patil"}}, "url": "https://github.com/gocd/gocd/commit/7f0c49e6a60b2f5a7e9d64b9e8c0120e777ac47c", "committedDate": "2020-07-06T09:24:35Z", "message": "Follow DbDeploy conventions for the database migration changeset id"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1897, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}