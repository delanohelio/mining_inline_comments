{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYxNDAzMTY1", "number": 7571, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xM1QwOTo1ODowMVrODXd3Ig==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xM1QwOTo1ODowMVrODXd3Ig==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI1OTMzMDkwOnYy", "diffSide": "RIGHT", "path": "api/api-internal-pipeline-structure-v1/src/main/java/com/thoughtworks/go/apiv1/internalpipelinestructure/InternalPipelineStructureControllerV1.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xM1QwOTo1ODowMVrOFcxrOg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xM1QwOTo1ODowMVrOFcxrOg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTcxODMzMA==", "bodyText": "should we also verifyContentType?", "url": "https://github.com/gocd/gocd/pull/7571#discussion_r365718330", "createdAt": "2020-01-13T09:58:01Z", "author": {"login": "bdpiprava"}, "path": "api/api-internal-pipeline-structure-v1/src/main/java/com/thoughtworks/go/apiv1/internalpipelinestructure/InternalPipelineStructureControllerV1.java", "diffHunk": "@@ -61,31 +64,47 @@ public InternalPipelineStructureControllerV1(ApiAuthenticationHelper apiAuthenti\n                 .put(\"view\", () -> templateConfigService.templateConfigsThatCanBeViewedBy(currentUsername()))\n                 .put(\"administer\", () -> templateConfigService.templateConfigsThatCanBeEditedBy(currentUsername()))\n                 .build();\n+        this.userService = userService;\n     }\n \n     @Override\n     public String controllerBasePath() {\n-        return Routes.InternalPipelineStructure.BASE;\n+        return InternalPipelineStructure.BASE;\n     }\n \n     @Override\n     public void setupRoutes() {\n         path(controllerBasePath(), () -> {\n-            // uncomment the line below to set the content type on the base path\n             before(\"\", mimeType, this::setContentType);\n-            // uncomment the line below to set the content type on nested routes\n             before(\"/*\", mimeType, this::setContentType);\n \n-            // uncomment for the `index` action\n+            before(\"\", mimeType, this.apiAuthenticationHelper::checkUserAnd403);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cdce19818e842a7283c3a70498d0ed3572aa203c"}, "originalPosition": 54}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2770, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}