{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDEyODE5OTk4", "number": 8091, "title": "Pipeline config spa fixes", "bodyText": "Issue: #7816\nDescription:\n\n Show job resources autocomplete when tabs are switched.\n Copy over inherited permissions when stage permissions are toggled to specify locally.\n Improve invalid tab name error message.\n Change no artifact store configured message from error to warning.\n Disable add stage when stage reordering is in progress.\n Disable add task when task reordering is in progress.\n Fix template navigation specs.\n Remove password field validation from model.\n Disable Automatic pipeline scheduling when pipeline is using template.\n Use TEMPLATE as header to denote pipeline is extracted from template.\n Improve agent working directory error message.\n Autofocus input when password field is changed.\n Break from switch instead of early return.\n Add help text for run if condition.\n Switch \"Run if condition\" and \"Properties\" on Tasks tab.\n Change destination directory message.\n Add Shallow clone option for Git materials.\n Make tfs material password field non mandatory.\n Do not fail when invalid material save is cancelled.\n Persist material destination directory when editing.", "createdAt": "2020-05-04T08:55:40Z", "url": "https://github.com/gocd/gocd/pull/8091", "merged": true, "mergeCommit": {"oid": "efcf36726db925bc452f8d6d791d09736fdda886"}, "closed": true, "closedAt": "2020-05-05T04:40:18Z", "author": {"login": "GaneshSPatil"}, "timelineItems": {"totalCount": 24, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcd7sQ7AFqTQwNDgxNDg3MQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABceMeqpABqjMzMDI2MTY5OTc=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA0ODE0ODcx", "url": "https://github.com/gocd/gocd/pull/8091#pullrequestreview-404814871", "createdAt": "2020-05-04T09:02:38Z", "commit": {"oid": "2a0d6ac289bada60d8fb2e1bc68df8391af1c85c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQwOTowMjozOFrOGP4CHQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQwOTowMjozOFrOGP4CHQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTI5OTg2OQ==", "bodyText": "Instead of early return, do a break.So you don't have to do a check for undefined at line 109", "url": "https://github.com/gocd/gocd/pull/8091#discussion_r419299869", "createdAt": "2020-05-04T09:02:38Z", "author": {"login": "kritika-singh3"}, "path": "server/src/main/webapp/WEB-INF/rails/webpack/views/pages/clicky_pipeline_config/tabs/pipeline/materials_widget.tsx", "diffHunk": "@@ -159,7 +164,10 @@ export class MaterialsWidget extends MithrilViewComponent<MaterialsAttrs> {\n         break;\n       case \"plugin\":\n         const pluginAttrs = material.attributes() as PluggableScmMaterialAttributes;\n-        const scmMaterial = vnode.attrs.scmMaterials().find((pkg) => pkg.id() === pluginAttrs.ref())!;\n+        const scmMaterial = vnode.attrs.scmMaterials().find((pkg) => pkg.id() === pluginAttrs.ref());\n+        if(!scmMaterial) {\n+          return {};", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2a0d6ac289bada60d8fb2e1bc68df8391af1c85c"}, "originalPosition": 39}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA0ODIzOTM4", "url": "https://github.com/gocd/gocd/pull/8091#pullrequestreview-404823938", "createdAt": "2020-05-04T09:16:55Z", "commit": {"oid": "f7010905be58c6adf9f241b6b73f579bff0ae3c1"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQwOToxNjo1NlrOGP4ehA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQwOToxNjo1NlrOGP4ehA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTMwNzE0MA==", "bodyText": "You might have to update the model as well.", "url": "https://github.com/gocd/gocd/pull/8091#discussion_r419307140", "createdAt": "2020-05-04T09:16:56Z", "author": {"login": "kritika-singh3"}, "path": "server/src/main/webapp/WEB-INF/rails/webpack/views/pages/pipelines/scm_material_fields.tsx", "diffHunk": "@@ -229,7 +229,7 @@ export class TfsFields extends ScmFields {\n       <TextField label=\"Repository URL\" property={mat.url} errorText={this.errs(attrs, \"url\")} required={true}/>,\n       <TextField label=\"Project Path\" property={mat.projectPath} errorText={this.errs(attrs, \"projectPath\")} required={true}/>,\n       <TextField label=\"Username\" property={mat.username} errorText={this.errs(attrs, \"username\")} required={true}/>,\n-      <PasswordField label=\"Password\" property={mat.password} errorText={this.errs(attrs, \"password\")} required={true}/>,\n+      <PasswordField label=\"Password\" property={mat.password} errorText={this.errs(attrs, \"password\")} required={false}/>,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f7010905be58c6adf9f241b6b73f579bff0ae3c1"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "172122538a7bb85475b790cc9179e62eb6d58730", "author": {"user": {"login": "GaneshSPatil", "name": "Ganesh S Patil"}}, "url": "https://github.com/gocd/gocd/commit/172122538a7bb85475b790cc9179e62eb6d58730", "committedDate": "2020-05-05T04:21:07Z", "message": "Persist material destination directory when editing.\n\n* When the material modal is opened for editing, the object is\n  cloned for edit. To avoid editing original object, if in case\n  user hits cancel.\n\n* Custom clone method did not clone all the fields from the material\n  object. Also, the deserialization logic is required to be duplicated\n  across two places, at fromJSON and at clone.\n\n* Perform toJSON => fromJSON to clone the object instead of custom\n  clone method."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0314d08d4abe71bf319db1af4e9f136bdf430dde", "author": {"user": {"login": "GaneshSPatil", "name": "Ganesh S Patil"}}, "url": "https://github.com/gocd/gocd/commit/0314d08d4abe71bf319db1af4e9f136bdf430dde", "committedDate": "2020-05-05T04:21:07Z", "message": "Do not fail when invalid material save is cancelled\nIssue: https://github.com/gocd/gocd/issues/7816#issuecomment-621896157 [Point 1]\n\nRevert to original material when invalid material save is cancelled.\nIssue: https://github.com/gocd/gocd/issues/7816#issuecomment-621896157 [Point 2]\n\nDescription:\n\n* Remove invalid material on save cancel.\n* Work with optionals, do not assume plugin properties will always\n  be present in the modal."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0372fec7532b247c2f6fc990d48f16f523a72004", "author": {"user": {"login": "GaneshSPatil", "name": "Ganesh S Patil"}}, "url": "https://github.com/gocd/gocd/commit/0372fec7532b247c2f6fc990d48f16f523a72004", "committedDate": "2020-05-05T04:21:07Z", "message": "Make tfs material password field non mandatory"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bf1f1ef9ba7eb0a3310464a41ff4b98eb4a81976", "author": {"user": {"login": "GaneshSPatil", "name": "Ganesh S Patil"}}, "url": "https://github.com/gocd/gocd/commit/bf1f1ef9ba7eb0a3310464a41ff4b98eb4a81976", "committedDate": "2020-05-05T04:21:07Z", "message": "Add Shallow clone option for Git materials"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e6053211aca2cef219f28e5cd46bb9fe0c934b43", "author": {"user": {"login": "GaneshSPatil", "name": "Ganesh S Patil"}}, "url": "https://github.com/gocd/gocd/commit/e6053211aca2cef219f28e5cd46bb9fe0c934b43", "committedDate": "2020-05-05T04:21:07Z", "message": "Change destination directory message.\n\nFrom: \"Destination directory is required when specifying multiple scm materials.\"\nTo:   \"Destination directory is required when a pipeline has multiple SCM materials.\""}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0ef25d68a28a204d2ed0d84593b596f08c0af62b", "author": {"user": {"login": "GaneshSPatil", "name": "Ganesh S Patil"}}, "url": "https://github.com/gocd/gocd/commit/0ef25d68a28a204d2ed0d84593b596f08c0af62b", "committedDate": "2020-05-05T04:21:07Z", "message": "Switch \"Run if condition\" and \"Properties\" on Tasks tab"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0de115d533de9f910936326c45edbd19b71d7ba1", "author": {"user": {"login": "GaneshSPatil", "name": "Ganesh S Patil"}}, "url": "https://github.com/gocd/gocd/commit/0de115d533de9f910936326c45edbd19b71d7ba1", "committedDate": "2020-05-05T04:26:05Z", "message": "Add help text for run if condition"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9e4308382bce2ee0313f6c632daa4bdfee1861c4", "author": {"user": {"login": "GaneshSPatil", "name": "Ganesh S Patil"}}, "url": "https://github.com/gocd/gocd/commit/9e4308382bce2ee0313f6c632daa4bdfee1861c4", "committedDate": "2020-05-05T04:26:12Z", "message": "Break from switch instead of early return"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6704a8e58fc5773478557e20311e813d2524a064", "author": {"user": {"login": "GaneshSPatil", "name": "Ganesh S Patil"}}, "url": "https://github.com/gocd/gocd/commit/6704a8e58fc5773478557e20311e813d2524a064", "committedDate": "2020-05-05T04:26:12Z", "message": "Autofocus input when password field is changed"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "49a09da4238d6abfc73fb74af8fb89668c7d15a2", "author": {"user": {"login": "GaneshSPatil", "name": "Ganesh S Patil"}}, "url": "https://github.com/gocd/gocd/commit/49a09da4238d6abfc73fb74af8fb89668c7d15a2", "committedDate": "2020-05-05T04:26:12Z", "message": "Improve agent working directory error message"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "54f2df66d238db6dc7478d1f4d1237a9939542e2", "author": {"user": {"login": "GaneshSPatil", "name": "Ganesh S Patil"}}, "url": "https://github.com/gocd/gocd/commit/54f2df66d238db6dc7478d1f4d1237a9939542e2", "committedDate": "2020-05-05T04:26:12Z", "message": "Use TEMPLATE as header to denote pipeline is extracted from template"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a09bd8c9353d006be3d00d78edab7ca0c1c6cfa9", "author": {"user": {"login": "GaneshSPatil", "name": "Ganesh S Patil"}}, "url": "https://github.com/gocd/gocd/commit/a09bd8c9353d006be3d00d78edab7ca0c1c6cfa9", "committedDate": "2020-05-05T04:26:12Z", "message": "Disable Automatic pipeline scheduling when pipeline is using template"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "46fdc1f304dc38c2e15539d7328402652808896b", "author": {"user": {"login": "GaneshSPatil", "name": "Ganesh S Patil"}}, "url": "https://github.com/gocd/gocd/commit/46fdc1f304dc38c2e15539d7328402652808896b", "committedDate": "2020-05-05T04:26:12Z", "message": "Remove password field validation from model"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "772a1d2363e6a9c4b3ac7a96771d4b88e9f488e3", "author": {"user": {"login": "GaneshSPatil", "name": "Ganesh S Patil"}}, "url": "https://github.com/gocd/gocd/commit/772a1d2363e6a9c4b3ac7a96771d4b88e9f488e3", "committedDate": "2020-05-05T04:26:12Z", "message": "Fix template navigation specs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "53a70166723f9599610e304a0abe6a82716c55fe", "author": {"user": {"login": "GaneshSPatil", "name": "Ganesh S Patil"}}, "url": "https://github.com/gocd/gocd/commit/53a70166723f9599610e304a0abe6a82716c55fe", "committedDate": "2020-05-05T04:26:12Z", "message": "Disable add task when task reordering is in progress."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5cf25640463671a04848ec1aceda3ee638ff5686", "author": {"user": {"login": "GaneshSPatil", "name": "Ganesh S Patil"}}, "url": "https://github.com/gocd/gocd/commit/5cf25640463671a04848ec1aceda3ee638ff5686", "committedDate": "2020-05-05T04:26:12Z", "message": "Disable add stage when stage reordering is in progress."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "15bb39eeeca0cacc4b8bb5d7b9c0b5f69f21066b", "author": {"user": {"login": "GaneshSPatil", "name": "Ganesh S Patil"}}, "url": "https://github.com/gocd/gocd/commit/15bb39eeeca0cacc4b8bb5d7b9c0b5f69f21066b", "committedDate": "2020-05-05T04:26:12Z", "message": "Change no artifact store configured message from error to warning"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "78c13a47083c3fe65e2cb13958138db6ef289ce3", "author": {"user": {"login": "GaneshSPatil", "name": "Ganesh S Patil"}}, "url": "https://github.com/gocd/gocd/commit/78c13a47083c3fe65e2cb13958138db6ef289ce3", "committedDate": "2020-05-05T04:26:22Z", "message": "Improve invalid tab name error message\n\n* Add a statement about hypens being allowed."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aac355083aa5462931bc70e09ad9513e751ee51f", "author": {"user": {"login": "GaneshSPatil", "name": "Ganesh S Patil"}}, "url": "https://github.com/gocd/gocd/commit/aac355083aa5462931bc70e09ad9513e751ee51f", "committedDate": "2020-05-05T04:26:22Z", "message": "Copy over inherited permissions when stage permissions are toggled to specify locally"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "895a62fd9090e6e61c49ddadf486fee9f3adf90f", "author": {"user": {"login": "GaneshSPatil", "name": "Ganesh S Patil"}}, "url": "https://github.com/gocd/gocd/commit/895a62fd9090e6e61c49ddadf486fee9f3adf90f", "committedDate": "2020-05-04T14:08:30Z", "message": "Copy over inherited permissions when stage permissions are toggled to specify locally"}, "afterCommit": {"oid": "3f34db29faa9dfed003db2d2da308ad068c3053d", "author": {"user": {"login": "GaneshSPatil", "name": "Ganesh S Patil"}}, "url": "https://github.com/gocd/gocd/commit/3f34db29faa9dfed003db2d2da308ad068c3053d", "committedDate": "2020-05-05T04:28:00Z", "message": "Show job resources autocomplete when tabs are switched.\n\n* AutoEvaluate autocomplete field when input is focused"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ec5a733d9cf8e5a17994196ccd92baec76971570", "author": {"user": {"login": "GaneshSPatil", "name": "Ganesh S Patil"}}, "url": "https://github.com/gocd/gocd/commit/ec5a733d9cf8e5a17994196ccd92baec76971570", "committedDate": "2020-05-05T04:34:57Z", "message": "Show job resources autocomplete when tabs are switched.\n\n* AutoEvaluate autocomplete field when input is focused"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3f34db29faa9dfed003db2d2da308ad068c3053d", "author": {"user": {"login": "GaneshSPatil", "name": "Ganesh S Patil"}}, "url": "https://github.com/gocd/gocd/commit/3f34db29faa9dfed003db2d2da308ad068c3053d", "committedDate": "2020-05-05T04:28:00Z", "message": "Show job resources autocomplete when tabs are switched.\n\n* AutoEvaluate autocomplete field when input is focused"}, "afterCommit": {"oid": "ec5a733d9cf8e5a17994196ccd92baec76971570", "author": {"user": {"login": "GaneshSPatil", "name": "Ganesh S Patil"}}, "url": "https://github.com/gocd/gocd/commit/ec5a733d9cf8e5a17994196ccd92baec76971570", "committedDate": "2020-05-05T04:34:57Z", "message": "Show job resources autocomplete when tabs are switched.\n\n* AutoEvaluate autocomplete field when input is focused"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1901, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}