{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIzODk1MzUx", "number": 185, "title": "FM2-178: Add patient search parameter where subject is allowed", "bodyText": "https://issues.openmrs.org/browse/FM2-178\nAdded an option parameter \"patient\" that is evaluated before subject.", "createdAt": "2020-05-27T14:32:17Z", "url": "https://github.com/openmrs/openmrs-module-fhir2/pull/185", "merged": true, "mergeCommit": {"oid": "ba1883a0a2d5c742c4f566f871c14db980340956"}, "closed": true, "closedAt": "2020-06-01T14:01:40Z", "author": {"login": "reagan-meant"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABclce4QgFqTQxOTQ0MDMxOA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcnAvmLgFqTQyMTg2NjY2NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE5NDQwMzE4", "url": "https://github.com/openmrs/openmrs-module-fhir2/pull/185#pullrequestreview-419440318", "createdAt": "2020-05-27T17:12:20Z", "commit": {"oid": "50dcba1c852372f16c6528c97406ec1edb992d7f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QxNzoxMjoyMVrOGbU8Mw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QxNzoxMjoyMVrOGbU8Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTMwNzgyNw==", "bodyText": "@reagan-meant I don't think that we should do this here.\ncc @ibacher", "url": "https://github.com/openmrs/openmrs-module-fhir2/pull/185#discussion_r431307827", "createdAt": "2020-05-27T17:12:21Z", "author": {"login": "VaishSiddharth"}, "path": "omod/src/main/java/org/openmrs/module/fhir2/providers/EncounterFhirResourceProvider.java", "diffHunk": "@@ -69,7 +69,12 @@ public Bundle searchEncounter(@OptionalParam(name = Encounter.SP_DATE) DateRange\n \t                Practitioner.SP_GIVEN, Practitioner.SP_FAMILY,\n \t                Practitioner.SP_NAME }, targetTypes = Practitioner.class) ReferenceParam participantReference,\n \t        @OptionalParam(name = Encounter.SP_SUBJECT, chainWhitelist = { \"\", Patient.SP_IDENTIFIER, Patient.SP_GIVEN,\n-\t                Patient.SP_FAMILY, Patient.SP_NAME }, targetTypes = Patient.class) ReferenceParam subjectReference) {\n+\t\t\t\t\tPatient.SP_FAMILY, Patient.SP_NAME }, targetTypes = Patient.class) ReferenceParam subjectReference,\n+\t\t\t@OptionalParam(name = Encounter.SP_PATIENT, chainWhitelist = { \"\", Patient.SP_IDENTIFIER, Patient.SP_GIVEN,\n+\t                Patient.SP_FAMILY, Patient.SP_NAME }, targetTypes = Patient.class) ReferenceParam patientReference) {\n+\t\t\t\t\t\tif(patientReference != null){\n+\t\t\t\t\t\t\tsubjectReference = patientReference;\n+\t\t\t\t\t\t}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "50dcba1c852372f16c6528c97406ec1edb992d7f"}, "originalPosition": 10}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a882800dc7890b57593bd970d71c3a7980851669", "author": {"user": null}, "url": "https://github.com/openmrs/openmrs-module-fhir2/commit/a882800dc7890b57593bd970d71c3a7980851669", "committedDate": "2020-05-28T09:00:59Z", "message": "FM2-178: Creating patient/subject search parameter where subject/patient is allowed"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "50dcba1c852372f16c6528c97406ec1edb992d7f", "author": {"user": null}, "url": "https://github.com/openmrs/openmrs-module-fhir2/commit/50dcba1c852372f16c6528c97406ec1edb992d7f", "committedDate": "2020-05-27T14:30:07Z", "message": "FM2-178: Creating patient search parameter where subject is allowed"}, "afterCommit": {"oid": "a882800dc7890b57593bd970d71c3a7980851669", "author": {"user": null}, "url": "https://github.com/openmrs/openmrs-module-fhir2/commit/a882800dc7890b57593bd970d71c3a7980851669", "committedDate": "2020-05-28T09:00:59Z", "message": "FM2-178: Creating patient/subject search parameter where subject/patient is allowed"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIxODY2NjY1", "url": "https://github.com/openmrs/openmrs-module-fhir2/pull/185#pullrequestreview-421866665", "createdAt": "2020-06-01T14:01:07Z", "commit": {"oid": "a882800dc7890b57593bd970d71c3a7980851669"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4036, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}