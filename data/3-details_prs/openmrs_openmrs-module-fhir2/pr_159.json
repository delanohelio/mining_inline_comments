{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDEyMDk3MDM3", "number": 159, "title": "FM2-155 : Update ObservationDAO and Service", "bodyText": "https://issues.openmrs.org/browse/FM2-155\nThis PR doesnot is the current one with new changes in regards to the current merged PR\ncc @ibacher", "createdAt": "2020-05-01T11:31:25Z", "url": "https://github.com/openmrs/openmrs-module-fhir2/pull/159", "merged": true, "mergeCommit": {"oid": "256c7806ecb8152b6d07d2043da878c14204eff6"}, "closed": true, "closedAt": "2020-05-05T20:43:16Z", "author": {"login": "sherrif10"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcdC2lZgFqTQwNDIwMDYyNA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABceZ-fzAH2gAyNDEyMDk3MDM3OjI0YjExYzIyOTJiNDVmODliZGU2ZDVhYTAzMWY3M2QxNDUxMjJjMDA=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA0MjAwNjI0", "url": "https://github.com/openmrs/openmrs-module-fhir2/pull/159#pullrequestreview-404200624", "createdAt": "2020-05-01T14:49:19Z", "commit": {"oid": "8b4b850c11fe9114598121832b45cdff79d98ab6"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wMVQxNDo0OToxOVrOGPLx9g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wMVQxNDo0OToxOVrOGPLx9g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODU3NDgzOA==", "bodyText": "@sherrif10 The declaration here should be Obs toOpenmrsType(Observation observation), i.e., translating from a FHIR Observation object to an OpenMRS Obs.", "url": "https://github.com/openmrs/openmrs-module-fhir2/pull/159#discussion_r418574838", "createdAt": "2020-05-01T14:49:19Z", "author": {"login": "ibacher"}, "path": "api/src/main/java/org/openmrs/module/fhir2/api/translators/ObservationTranslator.java", "diffHunk": "@@ -53,4 +53,6 @@ default Obs toOpenmrsType(Obs existingObs, Observation observation) {\n \t * @return an updated version of the current obs\n \t */\n \tObs toOpenmrsType(Obs existingObs, Observation observation, Supplier<Obs> groupedObsFactory);\n+\t\n+\tObs toOpenmrsType(Obs fhirObs);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8b4b850c11fe9114598121832b45cdff79d98ab6"}, "originalPosition": 14}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA0MzMzMDM3", "url": "https://github.com/openmrs/openmrs-module-fhir2/pull/159#pullrequestreview-404333037", "createdAt": "2020-05-01T18:48:16Z", "commit": {"oid": "0237ebcbd31af52c6c3d2de319d1ca95b3e9815f"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wMVQxODo0ODoxN1rOGPSXAg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQxNjowNTo0NlrOGQHOGg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODY4MjYyNg==", "bodyText": "This should also be changed to public Obs to OpenmrsType(Observation fhirObservation)", "url": "https://github.com/openmrs/openmrs-module-fhir2/pull/159#discussion_r418682626", "createdAt": "2020-05-01T18:48:17Z", "author": {"login": "ibacher"}, "path": "api/src/main/java/org/openmrs/module/fhir2/api/translators/impl/ObservationTranslatorImpl.java", "diffHunk": "@@ -121,6 +121,11 @@ public Observation toFhirResource(Obs observation) {\n \t\treturn obs;\n \t}\n \t\n+\t@Override\n+\tpublic Obs toOpenmrsType(Obs fhirObs) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0237ebcbd31af52c6c3d2de319d1ca95b3e9815f"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTU0ODQxNQ==", "bodyText": "This should go right above the @Setter annotation.", "url": "https://github.com/openmrs/openmrs-module-fhir2/pull/159#discussion_r419548415", "createdAt": "2020-05-04T16:05:19Z", "author": {"login": "ibacher"}, "path": "api/src/main/java/org/openmrs/module/fhir2/api/impl/FhirObservationServiceImpl.java", "diffHunk": "@@ -31,10 +32,11 @@\n import org.springframework.stereotype.Component;\n import org.springframework.transaction.annotation.Transactional;\n \n+@Getter(AccessLevel.PROTECTED)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f1bbf841bbdc6ec5f465c9cb26b044a04b1115de"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTU0ODY5OA==", "bodyText": "Remember that you need to rename the observationTranslator field to translator", "url": "https://github.com/openmrs/openmrs-module-fhir2/pull/159#discussion_r419548698", "createdAt": "2020-05-04T16:05:46Z", "author": {"login": "ibacher"}, "path": "api/src/main/java/org/openmrs/module/fhir2/api/impl/FhirObservationServiceImpl.java", "diffHunk": "@@ -31,10 +32,11 @@\n import org.springframework.stereotype.Component;\n import org.springframework.transaction.annotation.Transactional;\n \n+@Getter(AccessLevel.PROTECTED)\n @Component\n @Transactional\n @Setter(AccessLevel.PACKAGE)\n-public class FhirObservationServiceImpl implements FhirObservationService {\n+public class FhirObservationServiceImpl extends BaseFhirService<Observation, org.openmrs.Obs> implements FhirObservationService {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f1bbf841bbdc6ec5f465c9cb26b044a04b1115de"}, "originalPosition": 17}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA1OTUzMDAx", "url": "https://github.com/openmrs/openmrs-module-fhir2/pull/159#pullrequestreview-405953001", "createdAt": "2020-05-05T16:25:08Z", "commit": {"oid": "16455424e2a9de35a14995981861d5523646fd36"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNVQxNjoyNTowOFrOGQxagw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNVQxNjoyNTowOFrOGQxagw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDI0MDAwMw==", "bodyText": "This should be private ObservationTranslator translator;", "url": "https://github.com/openmrs/openmrs-module-fhir2/pull/159#discussion_r420240003", "createdAt": "2020-05-05T16:25:08Z", "author": {"login": "ibacher"}, "path": "api/src/main/java/org/openmrs/module/fhir2/api/impl/FhirObservationServiceImpl.java", "diffHunk": "@@ -43,7 +44,7 @@\n \tprivate FhirObservationDao dao;\n \t\n \t@Autowired\n-\tprivate ObservationTranslator observationTranslator;\n+\tprivate Translator translator;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "16455424e2a9de35a14995981861d5523646fd36"}, "originalPosition": 13}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA1OTUzMTU1", "url": "https://github.com/openmrs/openmrs-module-fhir2/pull/159#pullrequestreview-405953155", "createdAt": "2020-05-05T16:25:18Z", "commit": {"oid": "16455424e2a9de35a14995981861d5523646fd36"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNVQxNjoyNToxOFrOGQxa8w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNVQxNjoyNToxOFrOGQxa8w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDI0MDExNQ==", "bodyText": "Please remove this import.", "url": "https://github.com/openmrs/openmrs-module-fhir2/pull/159#discussion_r420240115", "createdAt": "2020-05-05T16:25:18Z", "author": {"login": "ibacher"}, "path": "api/src/main/java/org/openmrs/module/fhir2/api/impl/FhirObservationServiceImpl.java", "diffHunk": "@@ -17,6 +17,7 @@\n import ca.uhn.fhir.rest.param.ReferenceParam;\n import ca.uhn.fhir.rest.param.StringAndListParam;\n import ca.uhn.fhir.rest.param.TokenAndListParam;\n+import javassist.Translator;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "16455424e2a9de35a14995981861d5523646fd36"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA1OTk2MTc5", "url": "https://github.com/openmrs/openmrs-module-fhir2/pull/159#pullrequestreview-405996179", "createdAt": "2020-05-05T17:18:15Z", "commit": {"oid": "fab45d44e4ee71fa88ebfb17aef248e34e96f255"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNVQxNzoxODoxNlrOGQzn9w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNVQxNzoxODoxNlrOGQzn9w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDI3NjIxNQ==", "bodyText": "Last thing. This should be return toOpenmrsType(new Obs(), fhirObservation); That way, it actually does something.", "url": "https://github.com/openmrs/openmrs-module-fhir2/pull/159#discussion_r420276215", "createdAt": "2020-05-05T17:18:16Z", "author": {"login": "ibacher"}, "path": "api/src/main/java/org/openmrs/module/fhir2/api/translators/impl/ObservationTranslatorImpl.java", "diffHunk": "@@ -121,6 +121,11 @@ public Observation toFhirResource(Obs observation) {\n \t\treturn obs;\n \t}\n \t\n+\t@Override\n+\tpublic Obs toOpenmrsType(Observation fhirObservation) {\n+\t\treturn new Obs();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fab45d44e4ee71fa88ebfb17aef248e34e96f255"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA2MDA5MzEy", "url": "https://github.com/openmrs/openmrs-module-fhir2/pull/159#pullrequestreview-406009312", "createdAt": "2020-05-05T17:35:11Z", "commit": {"oid": "ea77ecaea355e49d336ade7eccbc30dbfc82c38b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ab104962a888107106cdc04b329b7e618d7f91dd", "author": {"user": {"login": "sherrif10", "name": "MAGEMBE SHARIF"}}, "url": "https://github.com/openmrs/openmrs-module-fhir2/commit/ab104962a888107106cdc04b329b7e618d7f91dd", "committedDate": "2020-05-05T20:16:14Z", "message": "FM2-155 : Update ObservationDAO and Service\n\nhttps://issues.openmrs.org/browse/FM2-155"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "24b11c2292b45f89bde6d5aa031f73d145122c00", "author": {"user": {"login": "sherrif10", "name": "MAGEMBE SHARIF"}}, "url": "https://github.com/openmrs/openmrs-module-fhir2/commit/24b11c2292b45f89bde6d5aa031f73d145122c00", "committedDate": "2020-05-05T20:19:42Z", "message": "Merge branch 'master' into FM2-155"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4299, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}