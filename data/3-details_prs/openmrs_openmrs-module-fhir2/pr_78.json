{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc3NjEwODkw", "number": 78, "title": "FM2-78 : Fix CIEL and LOINC concept sources empty result set  liquiba\u2026", "bodyText": "\u2026se error\n\n\n\nDescription of what I changed\nFixed CIEL and LOINC concept sources empty result set  liquibase error.\n\nThis issue was reported on talk https://bit.ly/2T3uq5W\n\nIssue I worked on\n\n\n\n\nsee https://issues.openmrs.org/browse/FM2-78\nChecklist: I completed these to help reviewers :)\n\n\n\n\n My pull request only contains ONE single commit.\nNo? -> read here on how to squash multiple commits into one\n\n\n My IDE is configured to follow the code style of this project.\nNo? Unsure? -> configure your IDE, format the code and add the changes with git add . && git commit --amend\n\n\n I have added tests to cover my changes. (If you refactored\nexisting code that was well tested you do not have to add tests)\nNo? -> write tests and add them to this commit git add . && git commit --amend\n\n\n I ran mvn clean package right before creating this pull request and\nadded all formatting changes to my commit.\nNo? -> execute above command\n\n\n All new and existing tests passed.\nNo? -> figure out why and add the fix to your commit. It is your responsibility to make sure your code works.\n\n\n My pull request is based on the latest changes of the master branch.\nNo? Unsure? -> execute command git pull --rebase upstream master", "createdAt": "2020-02-20T08:11:34Z", "url": "https://github.com/openmrs/openmrs-module-fhir2/pull/78", "merged": true, "mergeCommit": {"oid": "613110e77e6a93e1932e2a1d4d0001710f1d27ab"}, "closed": true, "closedAt": "2020-02-21T14:08:18Z", "author": {"login": "jecihjoy"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcGH1dGgFqTM2MTc0NzQ0Nw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcGgJ5aAH2gAyMzc3NjEwODkwOmQ4NzRjZjk2ZWU3NjNjMWY4ZTViZGUxMTc5M2E0YWMwODQ1ODA2MDQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYxNzQ3NDQ3", "url": "https://github.com/openmrs/openmrs-module-fhir2/pull/78#pullrequestreview-361747447", "createdAt": "2020-02-20T09:28:54Z", "commit": {"oid": "3bc072fc61173f10ec35054f11cdbbfcf4dbded1"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQwOToyOToyM1rOFsMBmQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQwOTozMToxMFrOFsMFsA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTg3ODY4MQ==", "bodyText": "Rename to changeSet id to add_loinc_openmrs_concept_reference_source_20200220", "url": "https://github.com/openmrs/openmrs-module-fhir2/pull/78#discussion_r381878681", "createdAt": "2020-02-20T09:29:23Z", "author": {"login": "corneliouzbett"}, "path": "api/src/main/resources/liquibase.xml", "diffHunk": "@@ -110,6 +110,32 @@\n                                  referencedTableName=\"users\" referencedColumnNames=\"user_id\" />\n     </changeSet>\n \n+\t<changeSet id=\"add_loinc_openmrs_concept_source_20200220\" author=\"jecihjoy\" dbms=\"mysql\">", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3bc072fc61173f10ec35054f11cdbbfcf4dbded1"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTg3OTcyOA==", "bodyText": "rename changeSet id to add_ciel_openmrs_concept_reference_source_20200220", "url": "https://github.com/openmrs/openmrs-module-fhir2/pull/78#discussion_r381879728", "createdAt": "2020-02-20T09:31:10Z", "author": {"login": "corneliouzbett"}, "path": "api/src/main/resources/liquibase.xml", "diffHunk": "@@ -110,6 +110,32 @@\n                                  referencedTableName=\"users\" referencedColumnNames=\"user_id\" />\n     </changeSet>\n \n+\t<changeSet id=\"add_loinc_openmrs_concept_source_20200220\" author=\"jecihjoy\" dbms=\"mysql\">\n+\t\t<preConditions onFail=\"CONTINUE\">\n+\t\t\t<and>\n+\t\t\t\t<tableExists tableName=\"concept_reference_source\" />\n+\t\t\t\t<sqlCheck expectedResult=\"0\">SELECT COUNT(*) FROM concept_reference_source WHERE name='LOINC' AND retired = 0</sqlCheck>\n+\t\t\t</and>\n+\t\t</preConditions>\n+\t\t<sql><![CDATA[\n+\t\t\tINSERT into concept_reference_source (name, description, hl7_code, creator, date_created, uuid)\n+\t\t\tVALUES ('LOINC', 'LOINC (www.loinc.org)', 'LN', 1, now(), '248b31c8-72fa-4b96-8d3d-b200dded985e')\n+\t\t]]></sql>\n+\t</changeSet>\n+\n+\t<changeSet id=\"add_ciel_openmrs_concept_source_20200220\" author=\"jecihjoy\" dbms=\"mysql\">", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3bc072fc61173f10ec35054f11cdbbfcf4dbded1"}, "originalPosition": 17}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3bc072fc61173f10ec35054f11cdbbfcf4dbded1", "author": {"user": {"login": "jecihjoy", "name": "Jacinta Gichuhi"}}, "url": "https://github.com/openmrs/openmrs-module-fhir2/commit/3bc072fc61173f10ec35054f11cdbbfcf4dbded1", "committedDate": "2020-02-20T08:08:39Z", "message": "FM2-78 : Fix CIEL and LOINC concept sources empty result set  liquibase error"}, "afterCommit": {"oid": "fa616492d5af2f775d21f11ee3ce496181e03cf1", "author": {"user": {"login": "jecihjoy", "name": "Jacinta Gichuhi"}}, "url": "https://github.com/openmrs/openmrs-module-fhir2/commit/fa616492d5af2f775d21f11ee3ce496181e03cf1", "committedDate": "2020-02-20T10:51:01Z", "message": "FM2-78 : Fixed CIEL and LOINC concept reference sources empty result set liquibase error"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYxODUyOTk1", "url": "https://github.com/openmrs/openmrs-module-fhir2/pull/78#pullrequestreview-361852995", "createdAt": "2020-02-20T12:13:28Z", "commit": {"oid": "fa616492d5af2f775d21f11ee3ce496181e03cf1"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYxOTI5MjA1", "url": "https://github.com/openmrs/openmrs-module-fhir2/pull/78#pullrequestreview-361929205", "createdAt": "2020-02-20T14:10:10Z", "commit": {"oid": "fa616492d5af2f775d21f11ee3ce496181e03cf1"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "fa616492d5af2f775d21f11ee3ce496181e03cf1", "author": {"user": {"login": "jecihjoy", "name": "Jacinta Gichuhi"}}, "url": "https://github.com/openmrs/openmrs-module-fhir2/commit/fa616492d5af2f775d21f11ee3ce496181e03cf1", "committedDate": "2020-02-20T10:51:01Z", "message": "FM2-78 : Fixed CIEL and LOINC concept reference sources empty result set liquibase error"}, "afterCommit": {"oid": "da2f49b3447f232cde86cdfe0685a8b09945998e", "author": {"user": {"login": "jecihjoy", "name": "Jacinta Gichuhi"}}, "url": "https://github.com/openmrs/openmrs-module-fhir2/commit/da2f49b3447f232cde86cdfe0685a8b09945998e", "committedDate": "2020-02-21T03:23:24Z", "message": "FM2-78 : Removed strict liquibase preconditions for concept reference sources"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "da2f49b3447f232cde86cdfe0685a8b09945998e", "author": {"user": {"login": "jecihjoy", "name": "Jacinta Gichuhi"}}, "url": "https://github.com/openmrs/openmrs-module-fhir2/commit/da2f49b3447f232cde86cdfe0685a8b09945998e", "committedDate": "2020-02-21T03:23:24Z", "message": "FM2-78 : Removed strict liquibase preconditions for concept reference sources"}, "afterCommit": {"oid": "0aa07478a7b53cd7f705bf776440cbd63cb8b349", "author": {"user": {"login": "jecihjoy", "name": "Jacinta Gichuhi"}}, "url": "https://github.com/openmrs/openmrs-module-fhir2/commit/0aa07478a7b53cd7f705bf776440cbd63cb8b349", "committedDate": "2020-02-21T03:24:20Z", "message": "FM2-78 : Removed strict liquibase preconditions for concept reference sources"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d3d5414e64ee1055edfae2be76d3e316e0e76c67", "author": {"user": {"login": "jecihjoy", "name": "Jacinta Gichuhi"}}, "url": "https://github.com/openmrs/openmrs-module-fhir2/commit/d3d5414e64ee1055edfae2be76d3e316e0e76c67", "committedDate": "2020-02-21T05:48:15Z", "message": "FM2-78 : Removed strict liquibase preconditions for concept reference sources"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0aa07478a7b53cd7f705bf776440cbd63cb8b349", "author": {"user": {"login": "jecihjoy", "name": "Jacinta Gichuhi"}}, "url": "https://github.com/openmrs/openmrs-module-fhir2/commit/0aa07478a7b53cd7f705bf776440cbd63cb8b349", "committedDate": "2020-02-21T03:24:20Z", "message": "FM2-78 : Removed strict liquibase preconditions for concept reference sources"}, "afterCommit": {"oid": "d3d5414e64ee1055edfae2be76d3e316e0e76c67", "author": {"user": {"login": "jecihjoy", "name": "Jacinta Gichuhi"}}, "url": "https://github.com/openmrs/openmrs-module-fhir2/commit/d3d5414e64ee1055edfae2be76d3e316e0e76c67", "committedDate": "2020-02-21T05:48:15Z", "message": "FM2-78 : Removed strict liquibase preconditions for concept reference sources"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYyNjQ0ODM4", "url": "https://github.com/openmrs/openmrs-module-fhir2/pull/78#pullrequestreview-362644838", "createdAt": "2020-02-21T13:57:16Z", "commit": {"oid": "d3d5414e64ee1055edfae2be76d3e316e0e76c67"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYyNjQ0ODY2", "url": "https://github.com/openmrs/openmrs-module-fhir2/pull/78#pullrequestreview-362644866", "createdAt": "2020-02-21T13:57:18Z", "commit": {"oid": "d3d5414e64ee1055edfae2be76d3e316e0e76c67"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d874cf96ee763c1f8e5bde11793a4ac084580604", "author": {"user": {"login": "ibacher", "name": "Ian"}}, "url": "https://github.com/openmrs/openmrs-module-fhir2/commit/d874cf96ee763c1f8e5bde11793a4ac084580604", "committedDate": "2020-02-21T13:57:24Z", "message": "Merge branch 'master' into FM2-78"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4196, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}