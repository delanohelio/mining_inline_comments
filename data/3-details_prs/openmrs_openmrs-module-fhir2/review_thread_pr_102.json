{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgzMDc1NjUz", "number": 102, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wM1QxNzoxOTowOFrODkvoPw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wM1QxNzoyODowNFrODkv0fQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM5ODU1Njc5OnYy", "diffSide": "RIGHT", "path": "api/src/test/java/org/openmrs/module/fhir2/api/dao/impl/FhirPatientDaoImplTest.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wM1QxNzoxOTowOFrOFxPKXA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wM1QxNzoxOTowOFrOFxPKXA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzE3Mjk1Ng==", "bodyText": "We should probably extract this out into a constant", "url": "https://github.com/openmrs/openmrs-module-fhir2/pull/102#discussion_r387172956", "createdAt": "2020-03-03T17:19:08Z", "author": {"login": "ibacher"}, "path": "api/src/test/java/org/openmrs/module/fhir2/api/dao/impl/FhirPatientDaoImplTest.java", "diffHunk": "@@ -271,7 +271,7 @@ public void searchForPatients_shouldReturnPatientsByGender() {\n \t@Test\n \tpublic void searchForPatients_shouldReturnEmptyCollectionWhenGenderNotMatched() {\n \t\tCollection<Patient> results = dao.searchForPatients(null, null, null, null,\n-\t\t    new TokenOrListParam().add(new TokenParam(\"other\")), null, null, null, null, null, null, null, null);\n+\t\t    new TokenOrListParam().add(new TokenParam(\"wrong-gender\")), null, null, null, null, null, null, null, null);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5094b51e0d71e22f4dcf2cf357db15a9cea27f55"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM5ODU4ODEzOnYy", "diffSide": "RIGHT", "path": "api/src/main/java/org/openmrs/module/fhir2/api/dao/impl/BaseDaoImpl.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wM1QxNzoyODowNFrOFxPeLw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wM1QxODo0MzozM1rOFxR9Rw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzE3ODAzMQ==", "bodyText": "We should also address the Optional.empty() above this line.", "url": "https://github.com/openmrs/openmrs-module-fhir2/pull/102#discussion_r387178031", "createdAt": "2020-03-03T17:28:04Z", "author": {"login": "ibacher"}, "path": "api/src/main/java/org/openmrs/module/fhir2/api/dao/impl/BaseDaoImpl.java", "diffHunk": "@@ -440,7 +440,7 @@ protected boolean containsAlias(Iterator<CriteriaImpl.Subcriteria> subcriteriaIt\n \t\t\t}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a88c74e4dd67ac001d6db81b6d59500b8609074e"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzE4ODkzNg==", "bodyText": "I have a couple of questions here,\n\n\nThe code OTHER has a mapping to 'O', as shown in the GenderTranslatorImplTest. Keeping that in mind, should we change the Criterion to match 'O' specifically? Because the code UNKNOWN too has a mapping to 'U'.\n\n\nShould NULL match any resource or those which have gender set to empty or null (if that's even possible)?", "url": "https://github.com/openmrs/openmrs-module-fhir2/pull/102#discussion_r387188936", "createdAt": "2020-03-03T17:48:25Z", "author": {"login": "CaptainDaVinci"}, "path": "api/src/main/java/org/openmrs/module/fhir2/api/dao/impl/BaseDaoImpl.java", "diffHunk": "@@ -440,7 +440,7 @@ protected boolean containsAlias(Iterator<CriteriaImpl.Subcriteria> subcriteriaIt\n \t\t\t}", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzE3ODAzMQ=="}, "originalCommit": {"oid": "a88c74e4dd67ac001d6db81b6d59500b8609074e"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzIxODc1OQ==", "bodyText": "So remember what we're mapping to here: we're querying the OpenMRS database for people matching whatever gender. In OpenMRS, there are really just three possible gender codes M, F and null.  Maybe a better way to support this is to map all of OTHER, UNKNOWN, and NULL to gender is null. We should probably fix the gender translator to reflect this as well. I suppose it should just return M for \"male\", F for \"female\" and null for \"unknown\".", "url": "https://github.com/openmrs/openmrs-module-fhir2/pull/102#discussion_r387218759", "createdAt": "2020-03-03T18:43:33Z", "author": {"login": "ibacher"}, "path": "api/src/main/java/org/openmrs/module/fhir2/api/dao/impl/BaseDaoImpl.java", "diffHunk": "@@ -440,7 +440,7 @@ protected boolean containsAlias(Iterator<CriteriaImpl.Subcriteria> subcriteriaIt\n \t\t\t}", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzE3ODAzMQ=="}, "originalCommit": {"oid": "a88c74e4dd67ac001d6db81b6d59500b8609074e"}, "originalPosition": 1}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1112, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}