{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY2MzE1NjI5", "number": 281, "title": "Null checks in translators and general improvements", "bodyText": "Description of what I changed\n\n\n\nAdded missing null checks in translators\nAdded a new uuid if the object to be created did not have one\nGeneral refactoring\n\nIssue I worked on\n\n\n\n\nsee https://issues.openmrs.org/browse/FM2-\nChecklist: I completed these to help reviewers :)\n\n\n\n\n My IDE is configured to follow the code style of this project.\nNo? Unsure? -> configure your IDE, format the code and add the changes with git add . && git commit --amend\n\n\n I have added tests to cover my changes. (If you refactored\nexisting code that was well tested you do not have to add tests)\nNo? -> write tests and add them to this commit git add . && git commit --amend\n\n\n I ran mvn clean package right before creating this pull request and\nadded all formatting changes to my commit.\nNo? -> execute above command\n\n\n All new and existing tests passed.\nNo? -> figure out why and add the fix to your commit. It is your responsibility to make sure your code works.\n\n\n My pull request is based on the latest changes of the master branch.\nNo? Unsure? -> execute command git pull --rebase upstream master", "createdAt": "2020-08-11T19:38:51Z", "url": "https://github.com/openmrs/openmrs-module-fhir2/pull/281", "merged": true, "mergeCommit": {"oid": "20d9b015c6bb6d9a428ad3947272ba56c1b6498a"}, "closed": true, "closedAt": "2020-08-14T12:57:18Z", "author": {"login": "varung-31"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc-GBHRAFqTQ2NTY0NDczMg==", "endCursor": "Y3Vyc29yOnYyOpPPAAABc-0LpHAFqTQ2NzU1MjMxMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY1NjQ0NzMy", "url": "https://github.com/openmrs/openmrs-module-fhir2/pull/281#pullrequestreview-465644732", "createdAt": "2020-08-12T07:09:54Z", "commit": {"oid": "43fb6b366f6abdc2cd71887af2da1b2e5d2ede92"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQwNzowOTo1NFrOG_UkcA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQwNzowOTo1NFrOG_UkcA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTA1MDQ4MA==", "bodyText": "@varung-31Thanks for working on this,what if we also used type instead of reference.getType()  on the line of the exception? cc   @ibacher", "url": "https://github.com/openmrs/openmrs-module-fhir2/pull/281#discussion_r469050480", "createdAt": "2020-08-12T07:09:54Z", "author": {"login": "HerbertYiga"}, "path": "api/src/main/java/org/openmrs/module/fhir2/api/translators/impl/PractitionerReferenceTranslatorUserImpl.java", "diffHunk": "@@ -42,7 +42,9 @@ public User toOpenmrsType(Reference reference) {\n \t\tif (reference == null) {\n \t\t\treturn null;\n \t\t}\n-\t\tif (!getReferenceType(reference).equals(\"Practitioner\")) {\n+\t\t\n+\t\tString type = reference.getType();\n+\t\tif (type != null && !type.equals(\"Practitioner\")) {\n \t\t\tthrow new IllegalArgumentException(\"Reference must be to an User not a \" + reference.getType());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "43fb6b366f6abdc2cd71887af2da1b2e5d2ede92"}, "originalPosition": 8}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY1OTc1MzA0", "url": "https://github.com/openmrs/openmrs-module-fhir2/pull/281#pullrequestreview-465975304", "createdAt": "2020-08-12T14:31:38Z", "commit": {"oid": "43fb6b366f6abdc2cd71887af2da1b2e5d2ede92"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 16, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQxNDozMTozOFrOG_kC5Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQxNDo0MTo0MFrOG_kfgg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTMwNDAzNw==", "bodyText": "Please actually leave this on the interface. I'm intending for the Javadocs to go on interfaces where possible.", "url": "https://github.com/openmrs/openmrs-module-fhir2/pull/281#discussion_r469304037", "createdAt": "2020-08-12T14:31:38Z", "author": {"login": "ibacher"}, "path": "api/src/main/java/org/openmrs/module/fhir2/api/FhirEncounterService.java", "diffHunk": "@@ -19,8 +17,6 @@\n \n public interface FhirEncounterService extends FhirService<Encounter> {\n \t\n-\tEncounter get(@NotNull String uuid);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "43fb6b366f6abdc2cd71887af2da1b2e5d2ede92"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTMwNDYyOA==", "bodyText": "This needs to be updated, not removed.", "url": "https://github.com/openmrs/openmrs-module-fhir2/pull/281#discussion_r469304628", "createdAt": "2020-08-12T14:32:29Z", "author": {"login": "ibacher"}, "path": "api/src/main/java/org/openmrs/module/fhir2/api/FhirTaskService.java", "diffHunk": "@@ -21,15 +21,6 @@\n  */\n public interface FhirTaskService extends FhirService<Task> {\n \t\n-\t/**\n-\t * Get list of tasks that reference the object type/UUID combo provided\n-\t *\n-\t * @param basedOnReference\n-\t * @param ownerReference\n-\t * @param status\n-\t * @param sort\n-\t * @return the collection of Tasks that match the search parameters\n-\t */", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "43fb6b366f6abdc2cd71887af2da1b2e5d2ede92"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTMwNTE1Nw==", "bodyText": "I would prefer that on create we always assign a new UUID.", "url": "https://github.com/openmrs/openmrs-module-fhir2/pull/281#discussion_r469305157", "createdAt": "2020-08-12T14:33:14Z", "author": {"login": "ibacher"}, "path": "api/src/main/java/org/openmrs/module/fhir2/api/impl/BaseFhirService.java", "diffHunk": "@@ -28,6 +30,10 @@ public T get(String uuid) {\n \t\n \t@Override\n \tpublic T create(T newResource) {\n+\t\tif (newResource.getId() == null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "43fb6b366f6abdc2cd71887af2da1b2e5d2ede92"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTMwNTQ2OQ==", "bodyText": "This needs to be updated, not removed.", "url": "https://github.com/openmrs/openmrs-module-fhir2/pull/281#discussion_r469305469", "createdAt": "2020-08-12T14:33:37Z", "author": {"login": "ibacher"}, "path": "api/src/main/java/org/openmrs/module/fhir2/api/impl/FhirTaskServiceImpl.java", "diffHunk": "@@ -44,15 +44,6 @@\n \t@Autowired\n \tprivate SearchQuery<FhirTask, Task, FhirTaskDao, TaskTranslator> searchQuery;\n \t\n-\t/**\n-\t * Get a list of Tasks that match the given search and sort criteria\n-\t *\n-\t * @param basedOnReference A reference to a basedOn resource\n-\t * @param ownerReference A reference to an owner resource\n-\t * @param status The list of statuses for requested Tasks\n-\t * @param sort\n-\t * @return the saved task\n-\t */", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "43fb6b366f6abdc2cd71887af2da1b2e5d2ede92"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTMwNTc3Ng==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\t}\n          \n          \n            \n            \t\tAllergyIntolerance.AllergyIntoleranceReactionComponent reactionComponent = new AllergyIntolerance.AllergyIntoleranceReactionComponent();\n          \n          \n            \n            \t\t}\n          \n          \n            \n            \n          \n          \n            \n            \t\tAllergyIntolerance.AllergyIntoleranceReactionComponent reactionComponent = new AllergyIntolerance.AllergyIntoleranceReactionComponent();", "url": "https://github.com/openmrs/openmrs-module-fhir2/pull/281#discussion_r469305776", "createdAt": "2020-08-12T14:34:00Z", "author": {"login": "ibacher"}, "path": "api/src/main/java/org/openmrs/module/fhir2/api/translators/impl/AllergyIntoleranceReactionComponentTranslatorImpl.java", "diffHunk": "@@ -37,6 +37,9 @@\n \t\n \t@Override\n \tpublic AllergyIntolerance.AllergyIntoleranceReactionComponent toFhirResource(Allergy allergy) {\n+\t\tif (allergy == null) {\n+\t\t\treturn null;\n+\t\t}\n \t\tAllergyIntolerance.AllergyIntoleranceReactionComponent reactionComponent = new AllergyIntolerance.AllergyIntoleranceReactionComponent();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "43fb6b366f6abdc2cd71887af2da1b2e5d2ede92"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTMwNjA3Nw==", "bodyText": "Is this, strictly speaking, necessary?", "url": "https://github.com/openmrs/openmrs-module-fhir2/pull/281#discussion_r469306077", "createdAt": "2020-08-12T14:34:26Z", "author": {"login": "ibacher"}, "path": "api/src/main/java/org/openmrs/module/fhir2/api/translators/impl/AllergyIntoleranceTranslatorImpl.java", "diffHunk": "@@ -90,12 +90,15 @@ public AllergyIntolerance toFhirResource(Allergy omrsAllergy) {\n \t\n \t@Override\n \tpublic Allergy toOpenmrsType(AllergyIntolerance fhirAllergy) {\n+\t\tif (fhirAllergy == null) {\n+\t\t\treturn null;\n+\t\t}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "43fb6b366f6abdc2cd71887af2da1b2e5d2ede92"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTMwNjk1NA==", "bodyText": "This is actually a behaviour change. Do you think this is what we want to do? I could see:\nif (diagnosticReport == null) {\n\treturn null;\n}\n\nif (existingObs == null) {\n\texistingObs = new Obs();\n}", "url": "https://github.com/openmrs/openmrs-module-fhir2/pull/281#discussion_r469306954", "createdAt": "2020-08-12T14:35:41Z", "author": {"login": "ibacher"}, "path": "api/src/main/java/org/openmrs/module/fhir2/api/translators/impl/DiagnosticReportTranslatorImpl.java", "diffHunk": "@@ -82,11 +82,7 @@ public Obs toOpenmrsType(DiagnosticReport diagnosticReport) {\n \t\n \t@Override\n \tpublic Obs toOpenmrsType(Obs existingObs, DiagnosticReport diagnosticReport) {\n-\t\tif (existingObs == null) {\n-\t\t\texistingObs = new Obs();\n-\t\t}\n-\t\t\n-\t\tif (diagnosticReport == null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "43fb6b366f6abdc2cd71887af2da1b2e5d2ede92"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTMwNzE0MA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\t}\n          \n          \n            \n            \t\tEncounter.EncounterLocationComponent locationComponent = new Encounter.EncounterLocationComponent();\n          \n          \n            \n            \t\t}\n          \n          \n            \n            \n          \n          \n            \n            \t\tEncounter.EncounterLocationComponent locationComponent = new Encounter.EncounterLocationComponent();", "url": "https://github.com/openmrs/openmrs-module-fhir2/pull/281#discussion_r469307140", "createdAt": "2020-08-12T14:35:54Z", "author": {"login": "ibacher"}, "path": "api/src/main/java/org/openmrs/module/fhir2/api/translators/impl/EncounterLocationTranslatorImpl.java", "diffHunk": "@@ -31,13 +31,19 @@\n \t\n \t@Override\n \tpublic Encounter.EncounterLocationComponent toFhirResource(Location location) {\n+\t\tif (location == null) {\n+\t\t\treturn null;\n+\t\t}\n \t\tEncounter.EncounterLocationComponent locationComponent = new Encounter.EncounterLocationComponent();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "43fb6b366f6abdc2cd71887af2da1b2e5d2ede92"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTMwNzI0MQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\t}\n          \n          \n            \n            \t\tString locationUuid = getReferenceId(encounterLocationComponent.getLocation());\n          \n          \n            \n            \t\t}\n          \n          \n            \n            \n          \n          \n            \n            \t\tString locationUuid = getReferenceId(encounterLocationComponent.getLocation());", "url": "https://github.com/openmrs/openmrs-module-fhir2/pull/281#discussion_r469307241", "createdAt": "2020-08-12T14:36:01Z", "author": {"login": "ibacher"}, "path": "api/src/main/java/org/openmrs/module/fhir2/api/translators/impl/EncounterLocationTranslatorImpl.java", "diffHunk": "@@ -31,13 +31,19 @@\n \t\n \t@Override\n \tpublic Encounter.EncounterLocationComponent toFhirResource(Location location) {\n+\t\tif (location == null) {\n+\t\t\treturn null;\n+\t\t}\n \t\tEncounter.EncounterLocationComponent locationComponent = new Encounter.EncounterLocationComponent();\n \t\tlocationComponent.setLocation(createLocationReference(location));\n \t\treturn locationComponent;\n \t}\n \t\n \t@Override\n \tpublic Location toOpenmrsType(Encounter.EncounterLocationComponent encounterLocationComponent) {\n+\t\tif (encounterLocationComponent == null) {\n+\t\t\treturn null;\n+\t\t}\n \t\tString locationUuid = getReferenceId(encounterLocationComponent.getLocation());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "43fb6b366f6abdc2cd71887af2da1b2e5d2ede92"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTMwNzM1NQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\t}\n          \n          \n            \n            \t\tEncounter.EncounterParticipantComponent participantComponent = new Encounter.EncounterParticipantComponent();\n          \n          \n            \n            \t\t}\n          \n          \n            \n            \n          \n          \n            \n            \t\tEncounter.EncounterParticipantComponent participantComponent = new Encounter.EncounterParticipantComponent();", "url": "https://github.com/openmrs/openmrs-module-fhir2/pull/281#discussion_r469307355", "createdAt": "2020-08-12T14:36:10Z", "author": {"login": "ibacher"}, "path": "api/src/main/java/org/openmrs/module/fhir2/api/translators/impl/EncounterParticipantTranslatorImpl.java", "diffHunk": "@@ -32,6 +32,9 @@\n \t\n \t@Override\n \tpublic Encounter.EncounterParticipantComponent toFhirResource(EncounterProvider encounter) {\n+\t\tif (encounter == null) {\n+\t\t\treturn null;\n+\t\t}\n \t\tEncounter.EncounterParticipantComponent participantComponent = new Encounter.EncounterParticipantComponent();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "43fb6b366f6abdc2cd71887af2da1b2e5d2ede92"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTMwNzc3Mw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\t}\n          \n          \n            \n            \t\treturn this.toOpenmrsType(new org.openmrs.Encounter(), fhirEncounter);\n          \n          \n            \n            \t\t}\n          \n          \n            \n            \n          \n          \n            \n            \t\treturn this.toOpenmrsType(new org.openmrs.Encounter(), fhirEncounter);", "url": "https://github.com/openmrs/openmrs-module-fhir2/pull/281#discussion_r469307773", "createdAt": "2020-08-12T14:36:42Z", "author": {"login": "ibacher"}, "path": "api/src/main/java/org/openmrs/module/fhir2/api/translators/impl/EncounterTranslatorImpl.java", "diffHunk": "@@ -93,14 +91,15 @@ public Encounter toFhirResource(org.openmrs.Encounter openMrsEncounter) {\n \t\n \t@Override\n \tpublic org.openmrs.Encounter toOpenmrsType(Encounter fhirEncounter) {\n+\t\tif (fhirEncounter == null) {\n+\t\t\treturn null;\n+\t\t}\n \t\treturn this.toOpenmrsType(new org.openmrs.Encounter(), fhirEncounter);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "43fb6b366f6abdc2cd71887af2da1b2e5d2ede92"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTMwODEyNA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\t}\n          \n          \n            \n            \t\texistingEncounter.setUuid(encounter.getId());\n          \n          \n            \n            \t\t}\n          \n          \n            \n            \n          \n          \n            \n            \t\texistingEncounter.setUuid(encounter.getId());", "url": "https://github.com/openmrs/openmrs-module-fhir2/pull/281#discussion_r469308124", "createdAt": "2020-08-12T14:37:09Z", "author": {"login": "ibacher"}, "path": "api/src/main/java/org/openmrs/module/fhir2/api/translators/impl/EncounterTranslatorImpl.java", "diffHunk": "@@ -93,14 +91,15 @@ public Encounter toFhirResource(org.openmrs.Encounter openMrsEncounter) {\n \t\n \t@Override\n \tpublic org.openmrs.Encounter toOpenmrsType(Encounter fhirEncounter) {\n+\t\tif (fhirEncounter == null) {\n+\t\t\treturn null;\n+\t\t}\n \t\treturn this.toOpenmrsType(new org.openmrs.Encounter(), fhirEncounter);\n \t}\n \t\n \t@Override\n \tpublic org.openmrs.Encounter toOpenmrsType(org.openmrs.Encounter existingEncounter, Encounter encounter) {\n-\t\tnotNull(existingEncounter, \"Existing encounter cannot be null\");\n-\t\t\n-\t\tif (encounter == null) {\n+\t\tif (existingEncounter == null || encounter == null) {\n \t\t\treturn existingEncounter;\n \t\t}\n \t\texistingEncounter.setUuid(encounter.getId());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "43fb6b366f6abdc2cd71887af2da1b2e5d2ede92"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTMwODIzMw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\t}\n          \n          \n            \n            \t\treturn toOpenmrsType(new Cohort(), cohortList);\n          \n          \n            \n            \t\t}\n          \n          \n            \n            \n          \n          \n            \n            \t\treturn toOpenmrsType(new Cohort(), cohortList);", "url": "https://github.com/openmrs/openmrs-module-fhir2/pull/281#discussion_r469308233", "createdAt": "2020-08-12T14:37:18Z", "author": {"login": "ibacher"}, "path": "api/src/main/java/org/openmrs/module/fhir2/api/translators/impl/ListTranslatorImpl.java", "diffHunk": "@@ -62,12 +62,15 @@ public ListResource toFhirResource(Cohort cohort) {\n \t\n \t@Override\n \tpublic Cohort toOpenmrsType(ListResource cohortList) {\n+\t\tif (cohortList == null) {\n+\t\t\treturn null;\n+\t\t}\n \t\treturn toOpenmrsType(new Cohort(), cohortList);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "43fb6b366f6abdc2cd71887af2da1b2e5d2ede92"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTMwODYwNg==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\t}\n          \n          \n            \n            \t\treturn toOpenmrsType(new Location(), address);\n          \n          \n            \n            \t\t}\n          \n          \n            \n            \n          \n          \n            \n            \t\treturn toOpenmrsType(new Location(), address);", "url": "https://github.com/openmrs/openmrs-module-fhir2/pull/281#discussion_r469308606", "createdAt": "2020-08-12T14:37:50Z", "author": {"login": "ibacher"}, "path": "api/src/main/java/org/openmrs/module/fhir2/api/translators/impl/LocationAddressTranslatorImpl.java", "diffHunk": "@@ -36,12 +37,15 @@ public Address toFhirResource(Location omrsLocation) {\n \t\n \t@Override\n \tpublic Location toOpenmrsType(Address address) {\n+\t\tif (address == null) {\n+\t\t\treturn null;\n+\t\t}\n \t\treturn toOpenmrsType(new Location(), address);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "43fb6b366f6abdc2cd71887af2da1b2e5d2ede92"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTMwOTY3Mw==", "bodyText": "The \"active\" attribute should no longer be translated, so I don't quite understand why we need it here?", "url": "https://github.com/openmrs/openmrs-module-fhir2/pull/281#discussion_r469309673", "createdAt": "2020-08-12T14:39:22Z", "author": {"login": "ibacher"}, "path": "test-data/src/test/resources/org/openmrs/module/fhir2/providers/PatientWebTest_create.json", "diffHunk": "@@ -1,5 +1,6 @@\n {\n   \"resourceType\": \"Patient\",\n+  \"active\": true,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "43fb6b366f6abdc2cd71887af2da1b2e5d2ede92"}, "originalPosition": 3}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTMxMTM2Mg==", "bodyText": "Is this change strictly-speaking necessary? I understand that id elements can be more complex so that getId() doesn't just return the id, but in this case that would actually indicate a bug in the code and so the test should fail.", "url": "https://github.com/openmrs/openmrs-module-fhir2/pull/281#discussion_r469311362", "createdAt": "2020-08-12T14:41:40Z", "author": {"login": "ibacher"}, "path": "integration-tests/src/test/java/org/openmrs/module/fhir2/providers/r4/PatientFhirResourceProviderIntegrationTest.java", "diffHunk": "@@ -132,7 +132,7 @@ public void shouldCreateNewPatient() throws Exception {\n \t\tassertThat(patient, validResource());\n \t\t\n \t\t// try to get new patient\n-\t\tresponse = get(\"/Patient/\" + patient.getId()).accept(FhirMediaTypes.JSON).go();\n+\t\tresponse = get(\"/Patient/\" + patient.getIdElement().getIdPart()).accept(FhirMediaTypes.JSON).go();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "43fb6b366f6abdc2cd71887af2da1b2e5d2ede92"}, "originalPosition": 5}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "43fb6b366f6abdc2cd71887af2da1b2e5d2ede92", "author": {"user": {"login": "varung-31", "name": "Varun Gupta"}}, "url": "https://github.com/openmrs/openmrs-module-fhir2/commit/43fb6b366f6abdc2cd71887af2da1b2e5d2ede92", "committedDate": "2020-08-11T19:35:37Z", "message": "Null checks in translators and general improvements"}, "afterCommit": {"oid": "a5abfe22b36fefb6f9040304d0064ab2b063131a", "author": {"user": {"login": "varung-31", "name": "Varun Gupta"}}, "url": "https://github.com/openmrs/openmrs-module-fhir2/commit/a5abfe22b36fefb6f9040304d0064ab2b063131a", "committedDate": "2020-08-12T14:52:26Z", "message": "Null checks in translators and general improvements"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a5abfe22b36fefb6f9040304d0064ab2b063131a", "author": {"user": {"login": "varung-31", "name": "Varun Gupta"}}, "url": "https://github.com/openmrs/openmrs-module-fhir2/commit/a5abfe22b36fefb6f9040304d0064ab2b063131a", "committedDate": "2020-08-12T14:52:26Z", "message": "Null checks in translators and general improvements"}, "afterCommit": {"oid": "5ce8c341aa69842f91db6eb44b397c64fd51bc94", "author": {"user": {"login": "varung-31", "name": "Varun Gupta"}}, "url": "https://github.com/openmrs/openmrs-module-fhir2/commit/5ce8c341aa69842f91db6eb44b397c64fd51bc94", "committedDate": "2020-08-13T12:58:37Z", "message": "Null checks in translators and general improvements"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d9470a825c6e68d3d44a3da5655cd778cc8d2309", "author": {"user": {"login": "varung-31", "name": "Varun Gupta"}}, "url": "https://github.com/openmrs/openmrs-module-fhir2/commit/d9470a825c6e68d3d44a3da5655cd778cc8d2309", "committedDate": "2020-08-13T20:46:35Z", "message": "Null checks in translators and general improvements"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5ce8c341aa69842f91db6eb44b397c64fd51bc94", "author": {"user": {"login": "varung-31", "name": "Varun Gupta"}}, "url": "https://github.com/openmrs/openmrs-module-fhir2/commit/5ce8c341aa69842f91db6eb44b397c64fd51bc94", "committedDate": "2020-08-13T12:58:37Z", "message": "Null checks in translators and general improvements"}, "afterCommit": {"oid": "d9470a825c6e68d3d44a3da5655cd778cc8d2309", "author": {"user": {"login": "varung-31", "name": "Varun Gupta"}}, "url": "https://github.com/openmrs/openmrs-module-fhir2/commit/d9470a825c6e68d3d44a3da5655cd778cc8d2309", "committedDate": "2020-08-13T20:46:35Z", "message": "Null checks in translators and general improvements"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY3NTUyMzEw", "url": "https://github.com/openmrs/openmrs-module-fhir2/pull/281#pullrequestreview-467552310", "createdAt": "2020-08-14T12:57:10Z", "commit": {"oid": "d9470a825c6e68d3d44a3da5655cd778cc8d2309"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3947, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}