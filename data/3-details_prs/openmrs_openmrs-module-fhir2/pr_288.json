{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY4MzQ1MzU2", "number": 288, "title": "FM2-295: Narrative generation failing for MedicationRequest resource", "bodyText": "Description of what I changed\n\n\n\nCovered cases when properties of type code have been changed to different type in process of R3 -> R4 conversion.\nChanged th:narrative to th:text for explicit boolean type properties.\n\nIssue I worked on\n\n\n\n\nsee https://issues.openmrs.org/browse/FM2-295 (related issue)\nChecklist: I completed these to help reviewers :)\n\n\n\n\n My IDE is configured to follow the code style of this project.\n\n\n I have added tests to cover my changes. (If you refactored\nexisting code that was well tested you do not have to add tests)\n\n\n I ran mvn clean package right before creating this pull request and\nadded all formatting changes to my commit.\n\n\n All new and existing tests passed.\n\n\n My pull request is based on the latest changes of the master branch.", "createdAt": "2020-08-15T17:33:19Z", "url": "https://github.com/openmrs/openmrs-module-fhir2/pull/288", "merged": true, "mergeCommit": {"oid": "e025a1b066251383d4a47e64d16c331c7467fe24"}, "closed": true, "closedAt": "2020-08-25T21:09:23Z", "author": {"login": "ShivanshRakesh"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc_tMJ_gFqTQ2ODIyMTk5Nw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdA08WYgBqjM2NzY2ODQwMTc=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY4MjIxOTk3", "url": "https://github.com/openmrs/openmrs-module-fhir2/pull/288#pullrequestreview-468221997", "createdAt": "2020-08-17T07:17:47Z", "commit": {"oid": "e878224c82cb250b2c4faecbf92d894d2ed3ac92"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QwNzoxNzo0N1rOHBdDOw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QwNzoxNzo0N1rOHBdDOw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTI4NjU4Nw==", "bodyText": "thanks @ShivanshRakesh how does the entire pr look to you @ibacher", "url": "https://github.com/openmrs/openmrs-module-fhir2/pull/288#discussion_r471286587", "createdAt": "2020-08-17T07:17:47Z", "author": {"login": "HerbertYiga"}, "path": "omod/src/main/resources/org/openmrs/module/fhir2/narratives/MedicationRequest.html", "diffHunk": "@@ -242,8 +244,14 @@\n                     <tr>\n                         <td>*</td>\n                         <td>\n-                            <th:block th:if=\"${resource.substitution.allowed}\"\n-                                      th:narrative=\"${resource.substitution.allowed}\"></th:block>\n+                            <th:block th:if=\"${fhirVersion} eq 'R4'\">", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e878224c82cb250b2c4faecbf92d894d2ed3ac92"}, "originalPosition": 32}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcxODczMTEy", "url": "https://github.com/openmrs/openmrs-module-fhir2/pull/288#pullrequestreview-471873112", "createdAt": "2020-08-20T18:23:32Z", "commit": {"oid": "e878224c82cb250b2c4faecbf92d894d2ed3ac92"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMFQxODoyMzozMlrOHEN8ww==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMFQxODoyNDo1OFrOHEN_yw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDE4NDg5OQ==", "bodyText": "Are you sure about the logic here? R4 definitely has clinicalStatus and verificationStatus for AllergyIntolerance.", "url": "https://github.com/openmrs/openmrs-module-fhir2/pull/288#discussion_r474184899", "createdAt": "2020-08-20T18:23:32Z", "author": {"login": "ibacher"}, "path": "omod/src/main/resources/org/openmrs/module/fhir2/narratives/AllergyIntolerance.html", "diffHunk": "@@ -40,22 +40,22 @@\n         <th:block th:unless=\"${fhirVersion} eq 'R4'\">", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e878224c82cb250b2c4faecbf92d894d2ed3ac92"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDE4NTY3NQ==", "bodyText": "assertedDate is only available in R3. R5 and beyond presumably use the R4 property names by default.", "url": "https://github.com/openmrs/openmrs-module-fhir2/pull/288#discussion_r474185675", "createdAt": "2020-08-20T18:24:58Z", "author": {"login": "ibacher"}, "path": "omod/src/main/resources/org/openmrs/module/fhir2/narratives/AllergyIntolerance.html", "diffHunk": "@@ -81,13 +81,13 @@\n             <td>Onset:</td>\n             <td th:narrative=\"${resource.onset}\"></td>\n         </tr>\n-        <th:block th:if=\"${fhirVersion} eq 'DSTU3'\">\n+        <th:block th:unless=\"${fhirVersion} eq 'R4'\">", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e878224c82cb250b2c4faecbf92d894d2ed3ac92"}, "originalPosition": 32}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcxODg2NjUx", "url": "https://github.com/openmrs/openmrs-module-fhir2/pull/288#pullrequestreview-471886651", "createdAt": "2020-08-20T18:42:42Z", "commit": {"oid": "e878224c82cb250b2c4faecbf92d894d2ed3ac92"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cd7bff765dc3114f580881910f724167afc321c9", "author": {"user": {"login": "ShivanshRakesh", "name": "Shivansh Rakesh"}}, "url": "https://github.com/openmrs/openmrs-module-fhir2/commit/cd7bff765dc3114f580881910f724167afc321c9", "committedDate": "2020-08-20T18:55:30Z", "message": "FM2-295: Narrative generation failing for MedicationRequest resource"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e878224c82cb250b2c4faecbf92d894d2ed3ac92", "author": {"user": {"login": "ShivanshRakesh", "name": "Shivansh Rakesh"}}, "url": "https://github.com/openmrs/openmrs-module-fhir2/commit/e878224c82cb250b2c4faecbf92d894d2ed3ac92", "committedDate": "2020-08-15T17:29:04Z", "message": "FM2-295: Narrative generation failing for MedicationRequest resource"}, "afterCommit": {"oid": "cd7bff765dc3114f580881910f724167afc321c9", "author": {"user": {"login": "ShivanshRakesh", "name": "Shivansh Rakesh"}}, "url": "https://github.com/openmrs/openmrs-module-fhir2/commit/cd7bff765dc3114f580881910f724167afc321c9", "committedDate": "2020-08-20T18:55:30Z", "message": "FM2-295: Narrative generation failing for MedicationRequest resource"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3974, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}