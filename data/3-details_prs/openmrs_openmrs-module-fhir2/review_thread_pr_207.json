{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMzOTcxMDI2", "number": 207, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QwNToxNjowN1rOEH0L7w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QwNToxNjowN1rOEH0L7w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc2NjMwNTExOnYy", "diffSide": "RIGHT", "path": "api/src/main/java/org/openmrs/module/fhir2/api/dao/impl/FhirRelatedPersonDaoImpl.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QwNToxNjowN1rOGnZi-Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QwNToxNjowN1rOGnZi-Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mzk2NjIwMQ==", "bodyText": "I guess this file got changed due to autoformat.", "url": "https://github.com/openmrs/openmrs-module-fhir2/pull/207#discussion_r443966201", "createdAt": "2020-06-23T05:16:07Z", "author": {"login": "ShivanshRakesh"}, "path": "api/src/main/java/org/openmrs/module/fhir2/api/dao/impl/FhirRelatedPersonDaoImpl.java", "diffHunk": "@@ -90,18 +90,15 @@\n \t\t\tcriteria.add(and(eq(\"pn.voided\", false), or(\n \t\t\t    and(eq(\"pn.preferred\", true),\n \t\t\t        Subqueries.propertyEq(\"pn.personNameId\",\n-\t\t\t            DetachedCriteria.forClass(PersonName.class, \"pn1\")\n-\t\t\t\t\t            .add(eq(\"pn1.preferred\", true))\n+\t\t\t            DetachedCriteria.forClass(PersonName.class, \"pn1\").add(eq(\"pn1.preferred\", true))\n \t\t\t                    .add(sqlRestriction(String.format(\"pn1_.person_id = %s.person_a\", \"this_\")))\n \t\t\t                    .setProjection(Projections.min(\"pn1.personNameId\")))),\n-\t\t\t    and(Subqueries.notExists(DetachedCriteria.forClass(PersonName.class, \"pn2\")\n-\t\t\t\t\t\t\t    .add(eq(\"pn2.preferred\", true))\n+\t\t\t    and(Subqueries.notExists(DetachedCriteria.forClass(PersonName.class, \"pn2\").add(eq(\"pn2.preferred\", true))\n \t\t\t            // WARNING this is fragile\n \t\t\t            .add(sqlRestriction(String.format(\"pn2_.person_id = %s.person_a\", \"this_\")))\n \t\t\t            .setProjection(Projections.id())),\n \t\t\t        Subqueries.propertyEq(\"pn.personNameId\",\n-\t\t\t            DetachedCriteria.forClass(PersonName.class, \"pn3\")\n-\t\t\t\t\t            .add(eq(\"pn3.preferred\", false))\n+\t\t\t            DetachedCriteria.forClass(PersonName.class, \"pn3\").add(eq(\"pn3.preferred\", false))\n \t\t\t                    // WARNING this is fragile", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5989f3397a44c7d6d5216ea4d4872a50238d3a37"}, "originalPosition": 19}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 941, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}