{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM0ODE5ODM1", "number": 211, "title": "FM2-214: Add delete operation for diagnostic report resource.", "bodyText": "Description of what I changed\nAdd delete operation for diagnosticReport resource.\nIssue I worked on\nhttps://issues.openmrs.org/projects/FM2/issues/FM2-214\nChecklist: I completed these to help reviewers :)\n\n\n[ X] My IDE is configured to follow the code style of this project.\nNo? Unsure? -> configure your IDE, format the code and add the changes with git add . && git commit --amend\n\n\n[ X] I have added tests to cover my changes. (If you refactored\nexisting code that was well tested you do not have to add tests)\nNo? -> write tests and add them to this commit git add . && git commit --amend\n\n\n[ X] I ran mvn clean package right before creating this pull request and\nadded all formatting changes to my commit.\nNo? -> execute above command\n\n\n[X ] All new and existing tests passed.\nNo? -> figure out why and add the fix to your commit. It is your responsibility to make sure your code works.\n\n\n[ X] My pull request is based on the latest changes of the master branch.\nNo? Unsure? -> execute command git pull --rebase upstream master", "createdAt": "2020-06-15T21:37:56Z", "url": "https://github.com/openmrs/openmrs-module-fhir2/pull/211", "merged": true, "mergeCommit": {"oid": "292212cc7fa9235f83e8d9ceb51b6b2764c60988"}, "closed": true, "closedAt": "2020-06-29T12:14:37Z", "author": {"login": "Akayeshmantha"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcrn5XfgBqjM0NDYzNTQyNzc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcv__4XgFqTQzOTA3OTkyMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "cfc8ade495854a24124ff84555961c2158b5b7e5", "author": {"user": {"login": "Akayeshmantha", "name": "Ayeshmantha Perera"}}, "url": "https://github.com/openmrs/openmrs-module-fhir2/commit/cfc8ade495854a24124ff84555961c2158b5b7e5", "committedDate": "2020-06-15T21:35:37Z", "message": "FM2-214: Add delete operation for diagnostic report resource."}, "afterCommit": {"oid": "485372c8a79ce9395c1883e01cccd74d5f72d644", "author": {"user": {"login": "Akayeshmantha", "name": "Ayeshmantha Perera"}}, "url": "https://github.com/openmrs/openmrs-module-fhir2/commit/485372c8a79ce9395c1883e01cccd74d5f72d644", "committedDate": "2020-06-15T21:53:30Z", "message": "FM2-214: Add delete operation for diagnostic report resource."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM3MzY2Mzk0", "url": "https://github.com/openmrs/openmrs-module-fhir2/pull/211#pullrequestreview-437366394", "createdAt": "2020-06-25T10:29:50Z", "commit": {"oid": "485372c8a79ce9395c1883e01cccd74d5f72d644"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNVQxMDoyOTo1MFrOGo01JQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNVQxMDozMToyMVrOGo04KQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTQ2MTc5Nw==", "bodyText": "Instead of the above code, leverage the util method provided by FhirProviderUtils.buildDelete() introduced #214\nreturn FhirProviderUtils.buildDelete(diagnosticReport);", "url": "https://github.com/openmrs/openmrs-module-fhir2/pull/211#discussion_r445461797", "createdAt": "2020-06-25T10:29:50Z", "author": {"login": "corneliouzbett"}, "path": "api/src/main/java/org/openmrs/module/fhir2/providers/r3/DiagnosticReportFhirResourceProvider.java", "diffHunk": "@@ -76,6 +77,19 @@ public MethodOutcome updateDiagnosticReport(@IdParam IdType id, @ResourceParam D\n \t\t    diagnosticReportService.update(idPart, DiagnosticReport30_40.convertDiagnosticReport(diagnosticReport)));\n \t}\n \t\n+\t@Delete\n+\t@SuppressWarnings(\"unused\")\n+\tpublic OperationOutcome deleteDiagnosticReport(@IdParam @NotNull IdType id) {\n+\t\torg.hl7.fhir.r4.model.DiagnosticReport diagnosticReport = diagnosticReportService.delete(id.getIdPart());\n+\t\tif (diagnosticReport == null) {\n+\t\t\tthrow new ResourceNotFoundException(\"Could not find medication to delete with id \" + id.getIdPart());\n+\t\t}\n+\t\tOperationOutcome retVal = new OperationOutcome();\n+\t\tretVal.setId(id.getIdPart());\n+\t\tretVal.getText().setDivAsString(\"Deleted successfully\");\n+\t\treturn retVal;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "485372c8a79ce9395c1883e01cccd74d5f72d644"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTQ2MjU2OQ==", "bodyText": "return FhirProviderUtils.buildDelete(diagnosticReport);", "url": "https://github.com/openmrs/openmrs-module-fhir2/pull/211#discussion_r445462569", "createdAt": "2020-06-25T10:31:21Z", "author": {"login": "corneliouzbett"}, "path": "api/src/main/java/org/openmrs/module/fhir2/providers/r4/DiagnosticReportFhirResourceProvider.java", "diffHunk": "@@ -79,6 +81,19 @@ public MethodOutcome updateDiagnosticReport(@IdParam IdType id, @ResourceParam D\n \t\treturn FhirProviderUtils.buildUpdate(service.update(idPart, diagnosticReport));\n \t}\n \t\n+\t@Delete\n+\t@SuppressWarnings(\"unused\")\n+\tpublic OperationOutcome deleteDiagnosticReport(@IdParam @NotNull IdType id) {\n+\t\tDiagnosticReport diagnosticReport = service.delete(id.getIdPart());\n+\t\tif (diagnosticReport == null) {\n+\t\t\tthrow new ResourceNotFoundException(\"Could not find medication to delete with id \" + id.getIdPart());\n+\t\t}\n+\t\tOperationOutcome retVal = new OperationOutcome();\n+\t\tretVal.setId(id.getIdPart());\n+\t\tretVal.getText().setDivAsString(\"Deleted successfully\");\n+\t\treturn retVal;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "485372c8a79ce9395c1883e01cccd74d5f72d644"}, "originalPosition": 30}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "485372c8a79ce9395c1883e01cccd74d5f72d644", "author": {"user": {"login": "Akayeshmantha", "name": "Ayeshmantha Perera"}}, "url": "https://github.com/openmrs/openmrs-module-fhir2/commit/485372c8a79ce9395c1883e01cccd74d5f72d644", "committedDate": "2020-06-15T21:53:30Z", "message": "FM2-214: Add delete operation for diagnostic report resource."}, "afterCommit": {"oid": "7e550e5e198ea5ce44373a051fa97d5d79af5e87", "author": {"user": {"login": "Akayeshmantha", "name": "Ayeshmantha Perera"}}, "url": "https://github.com/openmrs/openmrs-module-fhir2/commit/7e550e5e198ea5ce44373a051fa97d5d79af5e87", "committedDate": "2020-06-27T12:00:59Z", "message": "FM2-214: Add delete operation for diagnostic report resource."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2f7dd7e9246d5631c6a6ca09248a5fd1b176870c", "author": {"user": {"login": "Akayeshmantha", "name": "Ayeshmantha Perera"}}, "url": "https://github.com/openmrs/openmrs-module-fhir2/commit/2f7dd7e9246d5631c6a6ca09248a5fd1b176870c", "committedDate": "2020-06-27T12:25:19Z", "message": "FM2-214: Add delete operation for diagnostic report resource."}, "afterCommit": {"oid": "ba1cc7bb53f8ab181218cd0bb6c940b7a37ef9d4", "author": {"user": {"login": "Akayeshmantha", "name": "Ayeshmantha Perera"}}, "url": "https://github.com/openmrs/openmrs-module-fhir2/commit/ba1cc7bb53f8ab181218cd0bb6c940b7a37ef9d4", "committedDate": "2020-06-27T12:31:43Z", "message": "FM2-214: Add delete operation for diagnostic report resource."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ba1cc7bb53f8ab181218cd0bb6c940b7a37ef9d4", "author": {"user": {"login": "Akayeshmantha", "name": "Ayeshmantha Perera"}}, "url": "https://github.com/openmrs/openmrs-module-fhir2/commit/ba1cc7bb53f8ab181218cd0bb6c940b7a37ef9d4", "committedDate": "2020-06-27T12:31:43Z", "message": "FM2-214: Add delete operation for diagnostic report resource."}, "afterCommit": {"oid": "f07ae9d70afd531521738789d323da3090f578c4", "author": {"user": {"login": "Akayeshmantha", "name": "Ayeshmantha Perera"}}, "url": "https://github.com/openmrs/openmrs-module-fhir2/commit/f07ae9d70afd531521738789d323da3090f578c4", "committedDate": "2020-06-28T18:45:02Z", "message": "FM2-214: Add delete operation for diagnostic report resource."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1e3ff2abeb94907ef5e5fcb13a3ad68d1581a3c6", "author": {"user": {"login": "Akayeshmantha", "name": "Ayeshmantha Perera"}}, "url": "https://github.com/openmrs/openmrs-module-fhir2/commit/1e3ff2abeb94907ef5e5fcb13a3ad68d1581a3c6", "committedDate": "2020-06-29T11:59:36Z", "message": "FM2-214: Add delete operation for diagnostic report resource."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f07ae9d70afd531521738789d323da3090f578c4", "author": {"user": {"login": "Akayeshmantha", "name": "Ayeshmantha Perera"}}, "url": "https://github.com/openmrs/openmrs-module-fhir2/commit/f07ae9d70afd531521738789d323da3090f578c4", "committedDate": "2020-06-28T18:45:02Z", "message": "FM2-214: Add delete operation for diagnostic report resource."}, "afterCommit": {"oid": "1e3ff2abeb94907ef5e5fcb13a3ad68d1581a3c6", "author": {"user": {"login": "Akayeshmantha", "name": "Ayeshmantha Perera"}}, "url": "https://github.com/openmrs/openmrs-module-fhir2/commit/1e3ff2abeb94907ef5e5fcb13a3ad68d1581a3c6", "committedDate": "2020-06-29T11:59:36Z", "message": "FM2-214: Add delete operation for diagnostic report resource."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM5MDc5OTIx", "url": "https://github.com/openmrs/openmrs-module-fhir2/pull/211#pullrequestreview-439079921", "createdAt": "2020-06-29T12:14:19Z", "commit": {"oid": "1e3ff2abeb94907ef5e5fcb13a3ad68d1581a3c6"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4069, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}