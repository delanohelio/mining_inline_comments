{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA1OTk4MTQ2", "number": 2597, "title": "Push Gradle Cache from GHA", "bodyText": "", "createdAt": "2020-04-20T11:16:35Z", "url": "https://github.com/testcontainers/testcontainers-java/pull/2597", "merged": true, "mergeCommit": {"oid": "9c4756f73dde77b3df1e4b77aeccaa3de818e935"}, "closed": true, "closedAt": "2020-04-21T08:52:15Z", "author": {"login": "bsideup"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcZdNXVAH2gAyNDA1OTk4MTQ2OmVlNTBlNmZjZmM0NjQzYmU2YThkNmNiODk1NjZkYzQ4NjUxZDlkYmQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcZhMlUAFqTM5NjU4Nzg2NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "ee50e6fcfc4643be6a8d6cb89566dc48651d9dbd", "author": {"user": {"login": "bsideup", "name": "Sergei Egorov"}}, "url": "https://github.com/testcontainers/testcontainers-java/commit/ee50e6fcfc4643be6a8d6cb89566dc48651d9dbd", "committedDate": "2020-04-20T11:16:02Z", "message": "Push Gradle Cache from GHA"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk2Mzg4MjE4", "url": "https://github.com/testcontainers/testcontainers-java/pull/2597#pullrequestreview-396388218", "createdAt": "2020-04-20T12:01:49Z", "commit": {"oid": "ee50e6fcfc4643be6a8d6cb89566dc48651d9dbd"}, "state": "COMMENTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQxMjowMTo0OVrOGIRCcA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQxMjowNTo1MFrOGIRLRg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTMyMDk0NA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    push = !(System.getenv(\"READ_ONLY_REMOTE_GRADLE_CACHE\") || !isMasterBuild)\n          \n          \n            \n                    push = !(System.getenv(\"READ_ONLY_GRADLE_CACHE\") || !isMasterBuild)\n          \n      \n    \n    \n  \n\n?", "url": "https://github.com/testcontainers/testcontainers-java/pull/2597#discussion_r411320944", "createdAt": "2020-04-20T12:01:49Z", "author": {"login": "kiview"}, "path": "settings.gradle", "diffHunk": "@@ -31,7 +27,7 @@ buildCache {\n         region = 'fra1'\n         bucket = 'testcontainers'\n         path = 'cache'\n-        push = isMasterBuild\n+        push = !(System.getenv(\"READ_ONLY_REMOTE_GRADLE_CACHE\") || !isMasterBuild)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ee50e6fcfc4643be6a8d6cb89566dc48651d9dbd"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTMyMTM0MA==", "bodyText": "Do we have to add the false there? Wouldn't Groovy truth validate correctly otherwise as well?", "url": "https://github.com/testcontainers/testcontainers-java/pull/2597#discussion_r411321340", "createdAt": "2020-04-20T12:02:33Z", "author": {"login": "kiview"}, "path": "settings.gradle", "diffHunk": "@@ -5,21 +5,17 @@ buildscript {\n         }\n     }\n     dependencies {\n-        classpath \"gradle.plugin.ch.myniva.gradle:s3-build-cache:0.9.0\"\n+        classpath \"gradle.plugin.ch.myniva.gradle:s3-build-cache:0.10.0\"\n         classpath \"com.gradle.enterprise:com.gradle.enterprise.gradle.plugin:3.2.1\"\n     }\n-\n-    configurations.classpath {\n-        resolutionStrategy {\n-            force 'com.amazonaws:aws-java-sdk-s3:1.11.582'\n-        }\n-    }\n }\n \n apply plugin: 'ch.myniva.s3-build-cache'\n apply plugin: 'com.gradle.enterprise'\n \n-ext.isMasterBuild = (System.getenv(\"CIRCLE_BRANCH\") ?: System.getenv(\"BUILD_SOURCEBRANCHNAME\")) == \"master\"\n+ext.isMasterBuild = false ||", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ee50e6fcfc4643be6a8d6cb89566dc48651d9dbd"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTMyMjIzNQ==", "bodyText": "Also, can we invert boolean logic? \ud83d\ude05\npush = !System.getenv(\"READ_ONLY_GRADLE_CACHE\") && isMasterBuild", "url": "https://github.com/testcontainers/testcontainers-java/pull/2597#discussion_r411322235", "createdAt": "2020-04-20T12:04:03Z", "author": {"login": "kiview"}, "path": "settings.gradle", "diffHunk": "@@ -31,7 +27,7 @@ buildCache {\n         region = 'fra1'\n         bucket = 'testcontainers'\n         path = 'cache'\n-        push = isMasterBuild\n+        push = !(System.getenv(\"READ_ONLY_REMOTE_GRADLE_CACHE\") || !isMasterBuild)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTMyMDk0NA=="}, "originalCommit": {"oid": "ee50e6fcfc4643be6a8d6cb89566dc48651d9dbd"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTMyMzIwNg==", "bodyText": "Also, are we pushing Windows builds like this and do we want to push Windows builds?", "url": "https://github.com/testcontainers/testcontainers-java/pull/2597#discussion_r411323206", "createdAt": "2020-04-20T12:05:50Z", "author": {"login": "kiview"}, "path": "settings.gradle", "diffHunk": "@@ -31,7 +27,7 @@ buildCache {\n         region = 'fra1'\n         bucket = 'testcontainers'\n         path = 'cache'\n-        push = isMasterBuild\n+        push = !(System.getenv(\"READ_ONLY_REMOTE_GRADLE_CACHE\") || !isMasterBuild)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTMyMDk0NA=="}, "originalCommit": {"oid": "ee50e6fcfc4643be6a8d6cb89566dc48651d9dbd"}, "originalPosition": 31}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c0fa6d5a04f4f8579a7b3230e568d0d835126133", "author": {"user": {"login": "bsideup", "name": "Sergei Egorov"}}, "url": "https://github.com/testcontainers/testcontainers-java/commit/c0fa6d5a04f4f8579a7b3230e568d0d835126133", "committedDate": "2020-04-20T15:17:52Z", "message": "Update ci.yml"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk2NTg3ODY1", "url": "https://github.com/testcontainers/testcontainers-java/pull/2597#pullrequestreview-396587865", "createdAt": "2020-04-20T15:54:41Z", "commit": {"oid": "c0fa6d5a04f4f8579a7b3230e568d0d835126133"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQxNTo1NDo0MVrOGIbh2g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQxNTo1NDo0MVrOGIbh2g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTQ5MjgyNg==", "bodyText": "Resolve with regards to ENV name \ud83d\ude42\nAbout the boolean expression, I don't want to block just different taste, so proceed as you deem fit \ud83e\udd37\u200d\u2642\ufe0f", "url": "https://github.com/testcontainers/testcontainers-java/pull/2597#discussion_r411492826", "createdAt": "2020-04-20T15:54:41Z", "author": {"login": "kiview"}, "path": "settings.gradle", "diffHunk": "@@ -31,7 +27,7 @@ buildCache {\n         region = 'fra1'\n         bucket = 'testcontainers'\n         path = 'cache'\n-        push = isMasterBuild\n+        push = !(System.getenv(\"READ_ONLY_REMOTE_GRADLE_CACHE\") || !isMasterBuild)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTMyMDk0NA=="}, "originalCommit": {"oid": "ee50e6fcfc4643be6a8d6cb89566dc48651d9dbd"}, "originalPosition": 31}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3365, "cost": 1, "resetAt": "2021-11-02T12:20:56Z"}}}