{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI1MzIwMzYw", "number": 2816, "title": "Update Windows docs for WSL2", "bodyText": "This will fix the incompatibility of Docker with WSL2 backend with outdated images.\nNot 100% sure what is the actual problem, but pulling the old images resulted in the following warning:\n\nImage docker.io/library/rabbitmq:3.5.4 uses outdated schema1 manifest format. Please upgrade to a schema2 image for better future compatibility. More information at https://docs.docker.com/registry/spec/deprecated-schema-v1/", "createdAt": "2020-05-29T20:51:39Z", "url": "https://github.com/testcontainers/testcontainers-java/pull/2816", "merged": true, "mergeCommit": {"oid": "556659751849dfb06313f46a6560d5a194efd035"}, "closed": true, "closedAt": "2020-06-11T12:40:25Z", "author": {"login": "kiview"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcmIw_EgH2gAyNDI1MzIwMzYwOjYxYzBiM2ViYjk0ZjYyYjY3M2FmOGNjODc2MDQ0MzhjZWUzNTRiZmU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcoYP-_AFqTQyNTU4OTM1MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "61c0b3ebb94f62b673af8cc87604438cee354bfe", "author": {"user": {"login": "kiview", "name": "Kevin Wittek"}}, "url": "https://github.com/testcontainers/testcontainers-java/commit/61c0b3ebb94f62b673af8cc87604438cee354bfe", "committedDate": "2020-05-29T20:47:57Z", "message": "Update tags in GenericContainerRuleTest\n\nThis will fix incompatibility of Docker with WSL2 backend with outdated images."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9ef8bbdd4bf5d35c74d9203bac880ec08ef95320", "author": {"user": {"login": "kiview", "name": "Kevin Wittek"}}, "url": "https://github.com/testcontainers/testcontainers-java/commit/9ef8bbdd4bf5d35c74d9203bac880ec08ef95320", "committedDate": "2020-05-29T22:02:16Z", "message": "Update tag in SimpleMariaDBTest\n\nAlso add section about WSL2 to docs."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIxMzc4MjU5", "url": "https://github.com/testcontainers/testcontainers-java/pull/2816#pullrequestreview-421378259", "createdAt": "2020-05-30T04:53:52Z", "commit": {"oid": "9ef8bbdd4bf5d35c74d9203bac880ec08ef95320"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0zMFQwNDo1Mzo1MlrOGcwqYQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0zMFQwNDo1Mzo1MlrOGcwqYQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjgxMDU5Mw==", "bodyText": "I wonder - should we take the opportunity to clean up this test class a bit?\nWay back at the beginning of the project I wanted to test/demonstrate that diverse images could be used - partly to serve as documentation. Now, though, I think these are no longer truly necessary and just add extra image pull time to our build.\nThoughts?", "url": "https://github.com/testcontainers/testcontainers-java/pull/2816#discussion_r432810593", "createdAt": "2020-05-30T04:53:52Z", "author": {"login": "rnorth"}, "path": "core/src/test/java/org/testcontainers/junit/GenericContainerRuleTest.java", "diffHunk": "@@ -61,21 +61,21 @@ public static void setupContent() throws FileNotFoundException {\n      * Redis\n      */\n     @ClassRule\n-    public static GenericContainer redis = new GenericContainer(\"redis:3.0.2\")\n+    public static GenericContainer redis = new GenericContainer(\"redis:6.0.4\")\n             .withExposedPorts(REDIS_PORT);\n \n     /**\n      * RabbitMQ\n      */\n     @ClassRule\n-    public static GenericContainer rabbitMq = new GenericContainer(\"rabbitmq:3.5.3\")\n+    public static GenericContainer rabbitMq = new GenericContainer(\"rabbitmq:3.8.4\")\n             .withExposedPorts(RABBITMQ_PORT);\n \n     /**\n      * MongoDB\n      */\n     @ClassRule\n-    public static GenericContainer mongo = new GenericContainer(\"mongo:3.1.5\")\n+    public static GenericContainer mongo = new GenericContainer(\"mongo:4.2.7\")\n             .withExposedPorts(MONGO_PORT);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9ef8bbdd4bf5d35c74d9203bac880ec08ef95320"}, "originalPosition": 22}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIxMzc4Mzg5", "url": "https://github.com/testcontainers/testcontainers-java/pull/2816#pullrequestreview-421378389", "createdAt": "2020-05-30T04:56:14Z", "commit": {"oid": "9ef8bbdd4bf5d35c74d9203bac880ec08ef95320"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0zMFQwNDo1NjoxNFrOGcwq2g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0zMFQwNDo1NjoxNFrOGcwq2g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjgxMDcxNA==", "bodyText": "I think we should be clearer to give people confidence: either we should work out why these old images aren't working and declare a specific limitation, or tell people what to look out for (or both!)\nWe should probably also attach a 'beta' label to WSL2 compatibility.", "url": "https://github.com/testcontainers/testcontainers-java/pull/2816#discussion_r432810714", "createdAt": "2020-05-30T04:56:14Z", "author": {"login": "rnorth"}, "path": "docs/supported_docker_environment/windows.md", "diffHunk": "@@ -23,6 +23,12 @@ effort.\n \n * WCOW is currently not supported, since Testcontainers uses auxiliary Linux containers for certain tasks and Docker for Windows does not support hybrid engine mode at the time of writing.\n \n+## Docker for Windows with WSL2 backend\n+\n+WSL2 should work out of the box.\n+\n+However, we have observed some problems using Docker for Windows with WSL2 backend with regards to very old images from the Docker Hub that would not start, so some caution when upgrading might be in order.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9ef8bbdd4bf5d35c74d9203bac880ec08ef95320"}, "originalPosition": 8}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "de1f111a16aae6947e069941a9ca537ed8ca8d17", "author": {"user": {"login": "kiview", "name": "Kevin Wittek"}}, "url": "https://github.com/testcontainers/testcontainers-java/commit/de1f111a16aae6947e069941a9ca537ed8ca8d17", "committedDate": "2020-05-30T09:32:45Z", "message": "Update Docs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "99a705b8bb42e0dc2c411ee2257bf4c668eed683", "author": {"user": {"login": "kiview", "name": "Kevin Wittek"}}, "url": "https://github.com/testcontainers/testcontainers-java/commit/99a705b8bb42e0dc2c411ee2257bf4c668eed683", "committedDate": "2020-05-30T09:38:45Z", "message": "Revert code changes"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI1NTg5MzUx", "url": "https://github.com/testcontainers/testcontainers-java/pull/2816#pullrequestreview-425589351", "createdAt": "2020-06-05T19:58:14Z", "commit": {"oid": "99a705b8bb42e0dc2c411ee2257bf4c668eed683"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3357, "cost": 1, "resetAt": "2021-11-02T12:20:56Z"}}}