{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY5NDgzOTY0", "number": 2314, "title": "Docker Compose: Add functionality to retrieve container by its name", "bodyText": "Fixes #2302", "createdAt": "2020-01-31T09:17:44Z", "url": "https://github.com/testcontainers/testcontainers-java/pull/2314", "merged": true, "mergeCommit": {"oid": "d4cf9d78314e5a6edbb4c0c2601a16304a865e85"}, "closed": true, "closedAt": "2020-02-09T15:34:46Z", "author": {"login": "artjomka"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb_rEU0AH2gAyMzY5NDgzOTY0OjBkZGE5NDEyODU1MDFjOTA2NjgwMTU0YzYzMzZmMjljNDk5MTJkNjk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcCqVJ5gFqTM1NTYxNDc2OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "0dda941285501c906680154c6336f29c49912d69", "author": {"user": null}, "url": "https://github.com/testcontainers/testcontainers-java/commit/0dda941285501c906680154c6336f29c49912d69", "committedDate": "2020-01-31T08:42:48Z", "message": "Add functionality to retrieve container by its name"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "543218b16dbc8238dc155c93e630d90057d841dd", "author": {"user": null}, "url": "https://github.com/testcontainers/testcontainers-java/commit/543218b16dbc8238dc155c93e630d90057d841dd", "committedDate": "2020-01-31T09:19:03Z", "message": "Fix test message"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUxNDIzMDUw", "url": "https://github.com/testcontainers/testcontainers-java/pull/2314#pullrequestreview-351423050", "createdAt": "2020-01-31T10:43:38Z", "commit": {"oid": "543218b16dbc8238dc155c93e630d90057d841dd"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQxMDo0MzozOFrOFkHnmQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQxMDo0MzozOFrOFkHnmQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzQxNzg4MQ==", "bodyText": "please create a separate test for the negative scenario", "url": "https://github.com/testcontainers/testcontainers-java/pull/2314#discussion_r373417881", "createdAt": "2020-01-31T10:43:38Z", "author": {"login": "bsideup"}, "path": "core/src/test/java/org/testcontainers/junit/DockerComposeContainerTest.java", "diffHunk": "@@ -33,4 +35,15 @@ public void testGetServicePort() {\n         assertNotNull(\"Port is set for service with instance number\", serviceWithoutInstancePort);\n         assertEquals(\"Service ports are the same\", serviceWithInstancePort, serviceWithoutInstancePort);\n     }\n+\n+    @Test\n+    public void testGetContainerByServiceName() {\n+        String existingServiceName = \"db_1\";\n+        assertTrue(format(\"Container should be found by service name %s\", existingServiceName),\n+            environment.getServiceContainerByName(existingServiceName).isPresent());\n+\n+        String notExistingServiceName = \"db_256\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "543218b16dbc8238dc155c93e630d90057d841dd"}, "originalPosition": 35}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUxNDI0MzUw", "url": "https://github.com/testcontainers/testcontainers-java/pull/2314#pullrequestreview-351424350", "createdAt": "2020-01-31T10:46:00Z", "commit": {"oid": "543218b16dbc8238dc155c93e630d90057d841dd"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQxMDo0NjowMFrOFkHrdg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQxMDo0NjowMFrOFkHrdg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzQxODg3MA==", "bodyText": "could you please also assert some properties of the returned ContainerState (e.g. getExposedPorts()) to ensure that the returned instance is the correct one (and not Redis for example)", "url": "https://github.com/testcontainers/testcontainers-java/pull/2314#discussion_r373418870", "createdAt": "2020-01-31T10:46:00Z", "author": {"login": "bsideup"}, "path": "core/src/test/java/org/testcontainers/junit/DockerComposeContainerTest.java", "diffHunk": "@@ -33,4 +35,15 @@ public void testGetServicePort() {\n         assertNotNull(\"Port is set for service with instance number\", serviceWithoutInstancePort);\n         assertEquals(\"Service ports are the same\", serviceWithInstancePort, serviceWithoutInstancePort);\n     }\n+\n+    @Test\n+    public void testGetContainerByServiceName() {\n+        String existingServiceName = \"db_1\";\n+        assertTrue(format(\"Container should be found by service name %s\", existingServiceName),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "543218b16dbc8238dc155c93e630d90057d841dd"}, "originalPosition": 32}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7c341e1f6610ddfc40203f1d079cd23ab9c71b25", "author": {"user": null}, "url": "https://github.com/testcontainers/testcontainers-java/commit/7c341e1f6610ddfc40203f1d079cd23ab9c71b25", "committedDate": "2020-01-31T13:19:18Z", "message": "Split up negative and positive tests, additional check added"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e097aae25432c161f5e2db8d79fe5722a4abc867", "author": {"user": null}, "url": "https://github.com/testcontainers/testcontainers-java/commit/e097aae25432c161f5e2db8d79fe5722a4abc867", "committedDate": "2020-01-31T13:22:23Z", "message": "Small adjustments"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUxNTA4NTMy", "url": "https://github.com/testcontainers/testcontainers-java/pull/2314#pullrequestreview-351508532", "createdAt": "2020-01-31T13:38:06Z", "commit": {"oid": "e097aae25432c161f5e2db8d79fe5722a4abc867"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQxMzozODowNlrOFkLiwQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQxMzozODowNlrOFkLiwQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzQ4MjE3Nw==", "bodyText": "I wonder if we should change the name to something like getContainerByServiceName...\n@rnorth @kiview WDYT?", "url": "https://github.com/testcontainers/testcontainers-java/pull/2314#discussion_r373482177", "createdAt": "2020-01-31T13:38:06Z", "author": {"login": "bsideup"}, "path": "core/src/main/java/org/testcontainers/containers/DockerComposeContainer.java", "diffHunk": "@@ -479,6 +494,10 @@ public SELF withRemoveImages(RemoveImages removeImages) {\n         return self();\n     }\n \n+    public Optional<ContainerState> getServiceContainerByName(String serviceName) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e097aae25432c161f5e2db8d79fe5722a4abc867"}, "originalPosition": 37}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aa065dc97abd99ac39fa6bd821abbb96dd82946d", "author": {"user": null}, "url": "https://github.com/testcontainers/testcontainers-java/commit/aa065dc97abd99ac39fa6bd821abbb96dd82946d", "committedDate": "2020-02-03T06:27:52Z", "message": "Renaming to better method name"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU1NjE0NzY4", "url": "https://github.com/testcontainers/testcontainers-java/pull/2314#pullrequestreview-355614768", "createdAt": "2020-02-09T15:33:03Z", "commit": {"oid": "aa065dc97abd99ac39fa6bd821abbb96dd82946d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3421, "cost": 1, "resetAt": "2021-11-02T12:20:56Z"}}}