{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk5NTExOTc1", "number": 3313, "title": "When an image version is not specified, use `latest` as the default tag", "bodyText": "Fixes #3310\nAn alternative approach I was considering was to add a getVersionPartOrDefault(String) method to DockerImageName which would return the default. This approach would have the advantage of not skewing the AnyVersioning so that it always toStrings to latest.\nIf preferred, we could use this other approach. Keen for thoughts.", "createdAt": "2020-10-07T20:55:39Z", "url": "https://github.com/testcontainers/testcontainers-java/pull/3313", "merged": true, "mergeCommit": {"oid": "3f1cddbb33a2f75f8299a18bc794446768629f29"}, "closed": true, "closedAt": "2020-10-11T06:05:53Z", "author": {"login": "rnorth"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdQTQamgH2gAyNDk5NTExOTc1OjUwYjM4MWQyMzM5ZTc0MWY3ZjEwN2I3NDkxMWM2YmZlZWIyOTJhYjk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdRMp4KgH2gAyNDk5NTExOTc1OmI5NmY1MDc4M2QxYWFhYjQ5MWVkM2JkZjA1ZjM0NWE0ZDZlM2IzODQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "50b381d2339e741f7f107b74911c6bfeeb292ab9", "author": {"user": {"login": "rnorth", "name": "Richard North"}}, "url": "https://github.com/testcontainers/testcontainers-java/commit/50b381d2339e741f7f107b74911c6bfeeb292ab9", "committedDate": "2020-10-07T20:46:09Z", "message": "Ensure that when a version is not specified, `latest` is used as the default tag"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "244b7759a9573fea31739fb911bfe27eca24ffd7", "author": {"user": {"login": "rnorth", "name": "Richard North"}}, "url": "https://github.com/testcontainers/testcontainers-java/commit/244b7759a9573fea31739fb911bfe27eca24ffd7", "committedDate": "2020-10-07T21:49:23Z", "message": "Fix test"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA0NTY3MjQy", "url": "https://github.com/testcontainers/testcontainers-java/pull/3313#pullrequestreview-504567242", "createdAt": "2020-10-08T08:55:50Z", "commit": {"oid": "244b7759a9573fea31739fb911bfe27eca24ffd7"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA0NTY3ODQw", "url": "https://github.com/testcontainers/testcontainers-java/pull/3313#pullrequestreview-504567840", "createdAt": "2020-10-08T08:56:28Z", "commit": {"oid": "244b7759a9573fea31739fb911bfe27eca24ffd7"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOFQwODo1NjoyOVrOHeUlvQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOFQwODo1NjoyOVrOHeUlvQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTU1NjY2OQ==", "bodyText": "nit: I'd put the variable declaration onto the next line :)", "url": "https://github.com/testcontainers/testcontainers-java/pull/3313#discussion_r501556669", "createdAt": "2020-10-08T08:56:29Z", "author": {"login": "bsideup"}, "path": "core/src/test/java/org/testcontainers/dockerclient/AmbiguousImagePullTest.java", "diffHunk": "@@ -0,0 +1,32 @@\n+package org.testcontainers.dockerclient;\n+\n+import com.github.dockerjava.api.DockerClient;\n+import com.github.dockerjava.api.model.Image;\n+import org.junit.Test;\n+import org.testcontainers.DockerClientFactory;\n+import org.testcontainers.containers.GenericContainer;\n+import org.testcontainers.containers.startupcheck.OneShotStartupCheckStrategy;\n+import org.testcontainers.utility.DockerImageName;\n+\n+import java.util.List;\n+\n+public class AmbiguousImagePullTest {\n+\n+    @Test(timeout = 30_000)\n+    public void testNotUsingParse() {\n+        DockerClient client = DockerClientFactory.instance().client();\n+        List<Image> alpineImages = client.listImagesCmd()\n+            .withImageNameFilter(\"alpine:latest\")\n+            .exec();\n+        for (Image alpineImage : alpineImages) {\n+            client.removeImageCmd(alpineImage.getId()).exec();\n+        }\n+\n+        try (final GenericContainer<?> container = new GenericContainer<>(DockerImageName.parse(\"alpine\"))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "244b7759a9573fea31739fb911bfe27eca24ffd7"}, "originalPosition": 25}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "406629e19f9b44b6a7c0dee0612593bf2879dd0c", "author": {"user": {"login": "rnorth", "name": "Richard North"}}, "url": "https://github.com/testcontainers/testcontainers-java/commit/406629e19f9b44b6a7c0dee0612593bf2879dd0c", "committedDate": "2020-10-10T15:37:40Z", "message": "Tweak formatting"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b96f50783d1aaab491ed3bdf05f345a4d6e3b384", "author": {"user": {"login": "rnorth", "name": "Richard North"}}, "url": "https://github.com/testcontainers/testcontainers-java/commit/b96f50783d1aaab491ed3bdf05f345a4d6e3b384", "committedDate": "2020-10-10T15:38:33Z", "message": "Merge remote-tracking branch 'origin/master' into unspecified-image-as-latest"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3318, "cost": 1, "resetAt": "2021-11-02T12:20:56Z"}}}