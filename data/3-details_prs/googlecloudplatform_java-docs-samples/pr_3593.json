{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDcxODgwNTQ4", "number": 3593, "title": "samples: fixed flaky test by increasing timeout on client settings", "bodyText": "Fixes #3581\n\n Please merge this PR for me once it is approved.", "createdAt": "2020-08-21T22:28:42Z", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/3593", "merged": true, "mergeCommit": {"oid": "f6d845e4ede831cbce0d7e829614931c3cdf91c6"}, "closed": true, "closedAt": "2020-08-22T01:48:37Z", "author": {"login": "munkhuushmgl"}, "timelineItems": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdBMic3gH2gAyNDcxODgwNTQ4OjI1NDAwZTQ3ZDJhNDMzMWRhYWJkYzQ2ZjBlMzJlMjUzOGY5YTNkZWU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdBMqrPAFqTQ3Mjg1MjIzNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "25400e47d2a4331daabdc46f0e32e2538f9a3dee", "author": {"user": {"login": "munkhuushmgl", "name": "Mike"}}, "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/commit/25400e47d2a4331daabdc46f0e32e2538f9a3dee", "committedDate": "2020-08-21T22:27:39Z", "message": "samples: fixed flaky test by increasing timeout on client settings"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcyODUyMjM2", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/3593#pullrequestreview-472852236", "createdAt": "2020-08-21T22:36:18Z", "commit": {"oid": "25400e47d2a4331daabdc46f0e32e2538f9a3dee"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMVQyMjozNjoxOFrOHE_kPA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMVQyMjozNjoxOFrOHE_kPA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDk5NzgyMA==", "bodyText": "Wow this looks wrong. Using the output of a builder twice.\n@kurtisvg @averikitsch @chingor13 PTAL\nI'm going to approve, but this just feels confusing, recursive and weird. Does the builder get reset after a .build()", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/3593#discussion_r474997820", "createdAt": "2020-08-21T22:36:18Z", "author": {"login": "lesv"}, "path": "automl/beta/src/main/java/com/example/automl/ListDatasets.java", "diffHunk": "@@ -38,7 +40,20 @@ static void listDatasets(String projectId) throws IOException {\n     // Initialize client that will be used to send requests. This client only needs to be created\n     // once, and can be reused for multiple requests. After completing all of your requests, call\n     // the \"close\" method on the client to safely clean up any remaining background resources.\n-    try (AutoMlClient client = AutoMlClient.create()) {\n+    AutoMlSettings.Builder autoMlSettingsBuilder = AutoMlSettings.newBuilder();\n+\n+    autoMlSettingsBuilder\n+        .listDatasetsSettings()\n+        .setRetrySettings(\n+            autoMlSettingsBuilder\n+                .listDatasetsSettings()\n+                .getRetrySettings()\n+                .toBuilder()\n+                .setTotalTimeout(Duration.ofSeconds(15))\n+                .build());\n+    AutoMlSettings autoMlSettings = autoMlSettingsBuilder.build();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "25400e47d2a4331daabdc46f0e32e2538f9a3dee"}, "originalPosition": 29}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 503, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}