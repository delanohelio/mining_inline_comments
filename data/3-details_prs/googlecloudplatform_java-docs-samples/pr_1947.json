{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYyNDI3Nzg1", "number": 1947, "title": "bigtable hbase: read and filter snippets", "bodyText": "", "createdAt": "2020-01-14T03:37:20Z", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/1947", "merged": true, "mergeCommit": {"oid": "f81a9a55de3622c1f11d443cd8e4109d53f2efd0"}, "closed": true, "closedAt": "2020-01-14T19:50:58Z", "author": {"login": "billyjacobson"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb5zFiQgH2gAyMzYyNDI3Nzg1OmI3Y2YzMjEyYWIzZjg0ZWI3NWJiOWZmNzQ5YzIxODZiMmNiZTYyYWU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb6WPw6AH2gAyMzYyNDI3Nzg1OjBjODhlNDEyZmU5MzQ4NzY0NDUxYmI1MjUzYzUwOGUxNWRlY2FkNzM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "b7cf3212ab3f84eb75bb9ff749c2186b2cbe62ae", "author": {"user": {"login": "billyjacobson", "name": "Billy Jacobson"}}, "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/commit/b7cf3212ab3f84eb75bb9ff749c2186b2cbe62ae", "committedDate": "2020-01-13T02:39:49Z", "message": "Read and filter snippets for Hbase Bigtable\nReads done\nFilters WIP, issues with Pass and ColRange. Some nuances to sort out\nbetween HBase and other clients still"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "89f39bed3beabbe0ec4103085b91def798a1b6ac", "author": {"user": {"login": "billyjacobson", "name": "Billy Jacobson"}}, "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/commit/89f39bed3beabbe0ec4103085b91def798a1b6ac", "committedDate": "2020-01-14T03:35:37Z", "message": "Filter snippets"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "55bbc629ab84085f209e06070875904b4e2e0ed0", "author": {"user": {"login": "billyjacobson", "name": "Billy Jacobson"}}, "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/commit/55bbc629ab84085f209e06070875904b4e2e0ed0", "committedDate": "2020-01-14T03:37:53Z", "message": "Merge branch 'master' into bigtable-read-filters-hbase"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aeac23b8b495eb006f9bb1474e736c70991cf939", "author": {"user": {"login": "billyjacobson", "name": "Billy Jacobson"}}, "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/commit/aeac23b8b495eb006f9bb1474e736c70991cf939", "committedDate": "2020-01-14T04:33:00Z", "message": "Remove unused region tags"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "51d3a6e751be4dc2eff31ad4d564f9b2658acba7", "author": {"user": {"login": "lesv", "name": "Les Vogel"}}, "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/commit/51d3a6e751be4dc2eff31ad4d564f9b2658acba7", "committedDate": "2020-01-14T17:49:58Z", "message": "Merge branch 'master' into bigtable-read-filters-hbase"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQyNzI2MjQx", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/1947#pullrequestreview-342726241", "createdAt": "2020-01-14T17:56:23Z", "commit": {"oid": "51d3a6e751be4dc2eff31ad4d564f9b2658acba7"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNFQxNzo1NjoyM1rOFdgi8g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNFQxNzo1NjoyM1rOFdgi8g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjQ4NjI1OA==", "bodyText": "Should there be a discussion of key design?  Having a common prefix is ok for tests, but it's exactly the pattern we are trying to discourage users from doing.", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/1947#discussion_r366486258", "createdAt": "2020-01-14T17:56:23Z", "author": {"login": "lesv"}, "path": "bigtable/hbase/snippets/src/test/java/com/example/bigtable/ReadsTest.java", "diffHunk": "@@ -0,0 +1,346 @@\n+/*\n+ * Copyright 2019 Google LLC\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package com.example.bigtable;\n+\n+import static com.google.common.truth.Truth.assertThat;\n+import static org.junit.Assert.assertNotNull;\n+\n+import com.google.cloud.bigtable.admin.v2.BigtableTableAdminClient;\n+import com.google.cloud.bigtable.admin.v2.models.CreateTableRequest;\n+import com.google.cloud.bigtable.data.v2.BigtableDataClient;\n+import com.google.cloud.bigtable.data.v2.models.BulkMutation;\n+import com.google.cloud.bigtable.data.v2.models.Mutation;\n+import com.google.protobuf.ByteString;\n+import java.io.ByteArrayOutputStream;\n+import java.io.IOException;\n+import java.io.PrintStream;\n+import java.util.UUID;\n+import org.junit.AfterClass;\n+import org.junit.Before;\n+import org.junit.BeforeClass;\n+import org.junit.FixMethodOrder;\n+import org.junit.Test;\n+import org.junit.runners.MethodSorters;\n+\n+@FixMethodOrder(MethodSorters.NAME_ASCENDING)\n+public class ReadsTest {\n+\n+  private static final String INSTANCE_ENV = \"BIGTABLE_TESTING_INSTANCE\";\n+  private static final String TABLE_ID =\n+      \"mobile-time-series-\" + UUID.randomUUID().toString().substring(0, 20);\n+  private static final String COLUMN_FAMILY_NAME = \"stats_summary\";\n+  private static final long TIMESTAMP = System.currentTimeMillis();\n+  private static final long TIMESTAMP_NANO = TIMESTAMP * 1000;\n+\n+  private static String projectId;\n+  private static String instanceId;\n+  private ByteArrayOutputStream bout;\n+\n+  private static String requireEnv(String varName) {\n+    String value = System.getenv(varName);\n+    assertNotNull(\n+        String.format(\"Environment variable '%s' is required to perform these tests.\", varName),\n+        value);\n+    return value;\n+  }\n+\n+  @BeforeClass\n+  public static void beforeClass() throws IOException {\n+    projectId = requireEnv(\"GOOGLE_CLOUD_PROJECT\");\n+    instanceId = requireEnv(INSTANCE_ENV);\n+\n+    try (BigtableTableAdminClient adminClient =\n+        BigtableTableAdminClient.create(projectId, instanceId)) {\n+      CreateTableRequest createTableRequest =\n+          CreateTableRequest.of(TABLE_ID).addFamily(COLUMN_FAMILY_NAME);\n+      adminClient.createTable(createTableRequest);\n+\n+      try (BigtableDataClient dataClient = BigtableDataClient.create(projectId, instanceId)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "51d3a6e751be4dc2eff31ad4d564f9b2658acba7"}, "originalPosition": 72}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQyNzI3OTg2", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/1947#pullrequestreview-342727986", "createdAt": "2020-01-14T17:59:10Z", "commit": {"oid": "51d3a6e751be4dc2eff31ad4d564f9b2658acba7"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c4f293e84d05614f588f0ecfe7f5bad19c7eb61b", "author": {"user": {"login": "lesv", "name": "Les Vogel"}}, "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/commit/c4f293e84d05614f588f0ecfe7f5bad19c7eb61b", "committedDate": "2020-01-14T18:10:36Z", "message": "Merge branch 'master' into bigtable-read-filters-hbase"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0c88e412fe9348764451bb5253c508e15decad73", "author": {"user": {"login": "billyjacobson", "name": "Billy Jacobson"}}, "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/commit/0c88e412fe9348764451bb5253c508e15decad73", "committedDate": "2020-01-14T19:37:40Z", "message": "Merge branch 'master' into bigtable-read-filters-hbase"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 618, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}