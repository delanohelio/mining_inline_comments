{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA4MjMwMjcx", "number": 2765, "title": "Simplify the `http-form-data` sample and use Java 11 features.", "bodyText": "Remove unused dependencies from pom.xml.\nRemove @MultipartConfig, an attempted workaround for a bug in multipart handling that unfortunately doesn't help.\nUse conventional spelling for logger field. It is not a constant so it should not be spelled LOGGER.\nUse Map.forEach to iterate over a map.\nUse List.of(...) and Map.of(...) instead of constructing lists and maps with statements.\nRemove unnecessary throws IOException.\n\nMultipart handling is currently broken on GCF. A fix has been prepared but will not be active until it is rolled out. This sample won't work on GCF until that happens.", "createdAt": "2020-04-23T22:22:12Z", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/2765", "merged": true, "mergeCommit": {"oid": "08d4d1fb836fb76387f037040c3d6217bad910b4"}, "closed": true, "closedAt": "2020-04-23T23:35:48Z", "author": {"login": "eamonnmcmanus"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcakbGpAH2gAyNDA4MjMwMjcxOjU5YjQzZmIzMTg1ODk1NDNlZDJiMGUxOGJjZmU2ZTg5YzExNjhkMmM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcakyyRAFqTM5OTUyNDgzNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "59b43fb318589543ed2b0e18bcfe6e89c1168d2c", "author": {"user": {"login": "eamonnmcmanus", "name": "\u00c9amonn McManus"}}, "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/commit/59b43fb318589543ed2b0e18bcfe6e89c1168d2c", "committedDate": "2020-04-23T22:14:18Z", "message": "Simplify the `http-form-data` sample and use Java 11 features.\n\n* Remove unused dependencies from `pom.xml`.\n* Remove `@MultipartConfig`, an attempted workaround for a bug in multipart handling that doesn't actually help.\n* Use conventional spelling for `logger` field. It is not a constant so it should not be spelled `LOGGER`.\n* Use `Map.forEach` to iterate over a map.\n* Use `List.of(...)` and `Map.of(...)` instead of constructing lists and maps with statements.\n* Remove unnecessary `throws IOException`."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk5NTI0OTUw", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/2765#pullrequestreview-399524950", "createdAt": "2020-04-23T22:36:55Z", "commit": {"oid": "59b43fb318589543ed2b0e18bcfe6e89c1168d2c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk5NTI0ODM2", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/2765#pullrequestreview-399524836", "createdAt": "2020-04-23T22:36:39Z", "commit": {"oid": "59b43fb318589543ed2b0e18bcfe6e89c1168d2c"}, "state": "COMMENTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yM1QyMjozNjozOVrOGK-5lg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yM1QyMjozOToyOFrOGK--GA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDE2OTQ5NA==", "bodyText": "If this change doesn't break CI, can you file an issue about it and assign it to me? We should update the other samples to be consistent.", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/2765#discussion_r414169494", "createdAt": "2020-04-23T22:36:39Z", "author": {"login": "ace-n"}, "path": "functions/http/http-form-data/pom.xml", "diffHunk": "@@ -56,21 +56,11 @@\n   </profiles>\n \n   <dependencies>\n-    <dependency>\n-      <groupId>com.google.code.gson</groupId>\n-      <artifactId>gson</artifactId>\n-      <version>2.8.6</version>\n-    </dependency>\n-    <dependency>\n-      <groupId>javax.servlet</groupId>\n-      <artifactId>javax.servlet-api</artifactId>\n-      <version>4.0.1</version>\n-      <scope>provided</scope>\n-    </dependency>\n     <dependency>\n       <groupId>com.google.cloud.functions</groupId>\n       <artifactId>functions-framework-api</artifactId>\n       <version>1.0.1</version>\n+      <scope>provided</scope>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "59b43fb318589543ed2b0e18bcfe6e89c1168d2c"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDE2OTg0OA==", "bodyText": "Ditto - file an issue if it doesn't break tests?\n(Can be all in the same issue, or in different ones - as long as I know to come back and fix it. \ud83d\ude42)", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/2765#discussion_r414169848", "createdAt": "2020-04-23T22:37:34Z", "author": {"login": "ace-n"}, "path": "functions/http/http-form-data/pom.xml", "diffHunk": "@@ -148,31 +132,6 @@\n           <trimStackTrace>false</trimStackTrace>\n         </configuration>\n       </plugin>\n-      <plugin> <!-- Required for Java 8 (Alpha) functions in the inline editor -->", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "59b43fb318589543ed2b0e18bcfe6e89c1168d2c"}, "originalPosition": 40}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDE3MDA4MQ==", "bodyText": "Ditto - issue, provided @saturnism approves?", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/2765#discussion_r414170081", "createdAt": "2020-04-23T22:38:03Z", "author": {"login": "ace-n"}, "path": "functions/http/http-form-data/src/main/java/functions/HttpFormData.java", "diffHunk": "@@ -28,11 +28,9 @@\n import java.nio.file.Paths;\n import java.nio.file.StandardCopyOption;\n import java.util.logging.Logger;\n-import javax.servlet.annotation.MultipartConfig;\n \n-@MultipartConfig\n public class HttpFormData implements HttpFunction {\n-  private static final Logger LOGGER = Logger.getLogger(HttpFormData.class.getName());\n+  private static final Logger logger = Logger.getLogger(HttpFormData.class.getName());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "59b43fb318589543ed2b0e18bcfe6e89c1168d2c"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDE3MDY0OA==", "bodyText": "@lesv @kurtisvg @saturnism is there a checkstyle config that checks for \"outdated\" syntax like this?", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/2765#discussion_r414170648", "createdAt": "2020-04-23T22:39:28Z", "author": {"login": "ace-n"}, "path": "functions/http/http-form-data/src/test/java/functions/HttpFormDataTest.java", "diffHunk": "@@ -113,10 +108,9 @@ public void functionsHttpFormData_shouldSaveFiles() throws IOException {\n   @Test\n   public void functionsHttpFormData_shouldProcessFields() throws IOException {\n     when(request.getMethod()).thenReturn(\"POST\");\n-    when(request.getParts()).thenReturn(new HashMap<>());\n+    when(request.getParts()).thenReturn(Map.of());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "59b43fb318589543ed2b0e18bcfe6e89c1168d2c"}, "originalPosition": 44}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 769, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}