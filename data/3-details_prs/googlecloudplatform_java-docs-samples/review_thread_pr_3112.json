{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMyMDQ4MTU5", "number": 3112, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQyMDo0NjoxOVrOEEDFUA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQyMzo1MDoyNlrOEEGAdg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcyNjgwMjcyOnYy", "diffSide": "RIGHT", "path": "dlp/src/test/java/dlp/snippets/InspectTests.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQyMDo0NjoxOVrOGhblKQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQyMDo1NjowOVrOGhcFWg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzcwODA3Mw==", "bodyText": "Can you add tests for the \"doctor\", \"Quasimodo\", and \"Redacted\" rules used in the sample as well?", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/3112#discussion_r437708073", "createdAt": "2020-06-09T20:46:19Z", "author": {"login": "dzlier-gcp"}, "path": "dlp/src/test/java/dlp/snippets/InspectTests.java", "diffHunk": "@@ -251,6 +251,15 @@ public void testInspectStringCustomHotwordNegativeExample() throws Exception {\n     assertThat(output, not(containsString(\"John Doe\")));\n   }\n \n+  @Test", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ac56fad19390d1cad7e16d31957ea7d53c0e9630"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzcxNjMxNA==", "bodyText": "Yes, can do.", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/3112#discussion_r437716314", "createdAt": "2020-06-09T20:56:09Z", "author": {"login": "sushicw"}, "path": "dlp/src/test/java/dlp/snippets/InspectTests.java", "diffHunk": "@@ -251,6 +251,15 @@ public void testInspectStringCustomHotwordNegativeExample() throws Exception {\n     assertThat(output, not(containsString(\"John Doe\")));\n   }\n \n+  @Test", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzcwODA3Mw=="}, "originalCommit": {"oid": "ac56fad19390d1cad7e16d31957ea7d53c0e9630"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcyNzEwNjYzOnYy", "diffSide": "RIGHT", "path": "dlp/src/test/java/dlp/snippets/InspectTests.java", "isResolved": true, "comments": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQyMjoyNTo1MlrOGheiMg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQwMTo1OTo0M1rOGhiQbA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzc1NjQ2Ng==", "bodyText": "Shouldn't there be a finding here?", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/3112#discussion_r437756466", "createdAt": "2020-06-09T22:25:52Z", "author": {"login": "dzlier-gcp"}, "path": "dlp/src/test/java/dlp/snippets/InspectTests.java", "diffHunk": "@@ -251,6 +251,42 @@ public void testInspectStringCustomHotwordNegativeExample() throws Exception {\n     assertThat(output, not(containsString(\"John Doe\")));\n   }\n \n+  @Test\n+  public void testInspectStringMultipleRulesPatientRule() throws Exception {\n+    InspectStringMultipleRules.inspectStringMultipleRules(PROJECT_ID,\n+        \"patient: Jane Doe\");\n+\n+    String output = bout.toString();\n+    assertThat(output, containsString(\"VERY_LIKELY\"));\n+  }\n+\n+  @Test\n+  public void testInspectStringMultipleRulesDoctorRule() throws Exception {\n+    InspectStringMultipleRules.inspectStringMultipleRules(PROJECT_ID,\n+        \"doctor: Jane Doe\");\n+\n+    String output = bout.toString();\n+    assertThat(output, containsString(\"Findings: 0\"));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "757cc5447cc11a13ca1abed81167402ec1748957"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzc1NjgxNA==", "bodyText": "No, because the custom rule sets it as UNLIKELY which is below the default threshold for results to return.", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/3112#discussion_r437756814", "createdAt": "2020-06-09T22:26:57Z", "author": {"login": "sushicw"}, "path": "dlp/src/test/java/dlp/snippets/InspectTests.java", "diffHunk": "@@ -251,6 +251,42 @@ public void testInspectStringCustomHotwordNegativeExample() throws Exception {\n     assertThat(output, not(containsString(\"John Doe\")));\n   }\n \n+  @Test\n+  public void testInspectStringMultipleRulesPatientRule() throws Exception {\n+    InspectStringMultipleRules.inspectStringMultipleRules(PROJECT_ID,\n+        \"patient: Jane Doe\");\n+\n+    String output = bout.toString();\n+    assertThat(output, containsString(\"VERY_LIKELY\"));\n+  }\n+\n+  @Test\n+  public void testInspectStringMultipleRulesDoctorRule() throws Exception {\n+    InspectStringMultipleRules.inspectStringMultipleRules(PROJECT_ID,\n+        \"doctor: Jane Doe\");\n+\n+    String output = bout.toString();\n+    assertThat(output, containsString(\"Findings: 0\"));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzc1NjQ2Ng=="}, "originalCommit": {"oid": "757cc5447cc11a13ca1abed81167402ec1748957"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzc1NzMxOQ==", "bodyText": "What are the other potential likelihoods? Unlikely to me sounds like \"probably not but possibly,\" not \"ignore anything found\".", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/3112#discussion_r437757319", "createdAt": "2020-06-09T22:28:24Z", "author": {"login": "dzlier-gcp"}, "path": "dlp/src/test/java/dlp/snippets/InspectTests.java", "diffHunk": "@@ -251,6 +251,42 @@ public void testInspectStringCustomHotwordNegativeExample() throws Exception {\n     assertThat(output, not(containsString(\"John Doe\")));\n   }\n \n+  @Test\n+  public void testInspectStringMultipleRulesPatientRule() throws Exception {\n+    InspectStringMultipleRules.inspectStringMultipleRules(PROJECT_ID,\n+        \"patient: Jane Doe\");\n+\n+    String output = bout.toString();\n+    assertThat(output, containsString(\"VERY_LIKELY\"));\n+  }\n+\n+  @Test\n+  public void testInspectStringMultipleRulesDoctorRule() throws Exception {\n+    InspectStringMultipleRules.inspectStringMultipleRules(PROJECT_ID,\n+        \"doctor: Jane Doe\");\n+\n+    String output = bout.toString();\n+    assertThat(output, containsString(\"Findings: 0\"));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzc1NjQ2Ng=="}, "originalCommit": {"oid": "757cc5447cc11a13ca1abed81167402ec1748957"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzc1ODgxOA==", "bodyText": "https://cloud.google.com/dlp/docs/likelihood\nThe minimum likelihood to return is configurable (minLikelihood property on InspectConfig) and defaults to POSSIBLE.", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/3112#discussion_r437758818", "createdAt": "2020-06-09T22:32:38Z", "author": {"login": "sushicw"}, "path": "dlp/src/test/java/dlp/snippets/InspectTests.java", "diffHunk": "@@ -251,6 +251,42 @@ public void testInspectStringCustomHotwordNegativeExample() throws Exception {\n     assertThat(output, not(containsString(\"John Doe\")));\n   }\n \n+  @Test\n+  public void testInspectStringMultipleRulesPatientRule() throws Exception {\n+    InspectStringMultipleRules.inspectStringMultipleRules(PROJECT_ID,\n+        \"patient: Jane Doe\");\n+\n+    String output = bout.toString();\n+    assertThat(output, containsString(\"VERY_LIKELY\"));\n+  }\n+\n+  @Test\n+  public void testInspectStringMultipleRulesDoctorRule() throws Exception {\n+    InspectStringMultipleRules.inspectStringMultipleRules(PROJECT_ID,\n+        \"doctor: Jane Doe\");\n+\n+    String output = bout.toString();\n+    assertThat(output, containsString(\"Findings: 0\"));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzc1NjQ2Ng=="}, "originalCommit": {"oid": "757cc5447cc11a13ca1abed81167402ec1748957"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzc2MTMyMg==", "bodyText": "Oh I see, so does \"setFixedLikelihood\" mean that all results that match the rule will have that as a likelihood, instead of whatever likelihood it would have assigned?", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/3112#discussion_r437761322", "createdAt": "2020-06-09T22:40:00Z", "author": {"login": "dzlier-gcp"}, "path": "dlp/src/test/java/dlp/snippets/InspectTests.java", "diffHunk": "@@ -251,6 +251,42 @@ public void testInspectStringCustomHotwordNegativeExample() throws Exception {\n     assertThat(output, not(containsString(\"John Doe\")));\n   }\n \n+  @Test\n+  public void testInspectStringMultipleRulesPatientRule() throws Exception {\n+    InspectStringMultipleRules.inspectStringMultipleRules(PROJECT_ID,\n+        \"patient: Jane Doe\");\n+\n+    String output = bout.toString();\n+    assertThat(output, containsString(\"VERY_LIKELY\"));\n+  }\n+\n+  @Test\n+  public void testInspectStringMultipleRulesDoctorRule() throws Exception {\n+    InspectStringMultipleRules.inspectStringMultipleRules(PROJECT_ID,\n+        \"doctor: Jane Doe\");\n+\n+    String output = bout.toString();\n+    assertThat(output, containsString(\"Findings: 0\"));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzc1NjQ2Ng=="}, "originalCommit": {"oid": "757cc5447cc11a13ca1abed81167402ec1748957"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzgxNzQ1Mg==", "bodyText": "Correct. It's adding a rule that says \"when a match has this hotword nearby, set the likelihood to X\".", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/3112#discussion_r437817452", "createdAt": "2020-06-10T01:59:43Z", "author": {"login": "sushicw"}, "path": "dlp/src/test/java/dlp/snippets/InspectTests.java", "diffHunk": "@@ -251,6 +251,42 @@ public void testInspectStringCustomHotwordNegativeExample() throws Exception {\n     assertThat(output, not(containsString(\"John Doe\")));\n   }\n \n+  @Test\n+  public void testInspectStringMultipleRulesPatientRule() throws Exception {\n+    InspectStringMultipleRules.inspectStringMultipleRules(PROJECT_ID,\n+        \"patient: Jane Doe\");\n+\n+    String output = bout.toString();\n+    assertThat(output, containsString(\"VERY_LIKELY\"));\n+  }\n+\n+  @Test\n+  public void testInspectStringMultipleRulesDoctorRule() throws Exception {\n+    InspectStringMultipleRules.inspectStringMultipleRules(PROJECT_ID,\n+        \"doctor: Jane Doe\");\n+\n+    String output = bout.toString();\n+    assertThat(output, containsString(\"Findings: 0\"));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzc1NjQ2Ng=="}, "originalCommit": {"oid": "757cc5447cc11a13ca1abed81167402ec1748957"}, "originalPosition": 19}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcyNzI4MTU3OnYy", "diffSide": "RIGHT", "path": "dlp/src/main/java/dlp/snippets/InspectStringMultipleRules.java", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQyMzo1MDoxOVrOGhgNCA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQxNzoxNDowMlrOGh-tpA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzc4MzgxNg==", "bodyText": "Is this formatted correctly?  Shouldn't they be aligned to make reading easier?", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/3112#discussion_r437783816", "createdAt": "2020-06-09T23:50:19Z", "author": {"login": "lesv"}, "path": "dlp/src/main/java/dlp/snippets/InspectStringMultipleRules.java", "diffHunk": "@@ -0,0 +1,143 @@\n+/*\n+ * Copyright 2020 Google LLC\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package dlp.snippets;\n+\n+// [START dlp_inspect_string_multiple_rules]\n+\n+import com.google.cloud.dlp.v2.DlpServiceClient;\n+import com.google.privacy.dlp.v2.ByteContentItem;\n+import com.google.privacy.dlp.v2.ByteContentItem.BytesType;\n+import com.google.privacy.dlp.v2.ContentItem;\n+import com.google.privacy.dlp.v2.CustomInfoType.DetectionRule.HotwordRule;\n+import com.google.privacy.dlp.v2.CustomInfoType.DetectionRule.LikelihoodAdjustment;\n+import com.google.privacy.dlp.v2.CustomInfoType.DetectionRule.Proximity;\n+import com.google.privacy.dlp.v2.CustomInfoType.Dictionary;\n+import com.google.privacy.dlp.v2.CustomInfoType.Dictionary.WordList;\n+import com.google.privacy.dlp.v2.CustomInfoType.Regex;\n+import com.google.privacy.dlp.v2.ExclusionRule;\n+import com.google.privacy.dlp.v2.Finding;\n+import com.google.privacy.dlp.v2.InfoType;\n+import com.google.privacy.dlp.v2.InspectConfig;\n+import com.google.privacy.dlp.v2.InspectContentRequest;\n+import com.google.privacy.dlp.v2.InspectContentResponse;\n+import com.google.privacy.dlp.v2.InspectionRule;\n+import com.google.privacy.dlp.v2.InspectionRuleSet;\n+import com.google.privacy.dlp.v2.Likelihood;\n+import com.google.privacy.dlp.v2.LocationName;\n+import com.google.privacy.dlp.v2.MatchingType;\n+import com.google.protobuf.ByteString;\n+import java.io.IOException;\n+\n+public class InspectStringMultipleRules {\n+\n+  public static void inspectStringMultipleRules() throws IOException {\n+    // TODO(developer): Replace these variables before running the sample.\n+    String projectId = \"your-project-id\";\n+    String textToInspect = \"patient: Jane Doe\";\n+    inspectStringMultipleRules(projectId, textToInspect);\n+  }\n+\n+  // Inspects the provided text, avoiding matches specified in the exclusion list.\n+  public static void inspectStringMultipleRules(String projectId, String textToInspect)\n+      throws IOException {\n+    // Initialize client that will be used to send requests. This client only needs to be created\n+    // once, and can be reused for multiple requests. After completing all of your requests, call\n+    // the \"close\" method on the client to safely clean up any remaining background resources.\n+    try (DlpServiceClient dlp = DlpServiceClient.create()) {\n+      // Specify the type and content to be inspected.\n+      ByteContentItem byteItem =\n+          ByteContentItem.newBuilder()\n+              .setType(BytesType.TEXT_UTF8)\n+              .setData(ByteString.copyFromUtf8(textToInspect))\n+              .build();\n+      ContentItem item = ContentItem.newBuilder().setByteItem(byteItem).build();\n+\n+      // Construct hotword rules\n+      HotwordRule patientRule = HotwordRule.newBuilder()\n+          .setHotwordRegex(Regex.newBuilder()\n+              .setPattern(\"patient\"))\n+          .setProximity(Proximity.newBuilder()\n+              .setWindowBefore(10))\n+          .setLikelihoodAdjustment(LikelihoodAdjustment.newBuilder()\n+              .setFixedLikelihood(Likelihood.VERY_LIKELY))\n+          .build();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "757cc5447cc11a13ca1abed81167402ec1748957"}, "originalPosition": 77}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzc4NDQyNw==", "bodyText": "Better yet, a single line sections\n      HotwordRule patientRule = HotwordRule.newBuilder()\n          .setHotwordRegex(Regex.newBuilder().setPattern(\"patient\"))\n          .setProximity(Proximity.newBuilder().setWindowBefore(10))\n          .setLikelihoodAdjustment(LikelihoodAdjustment.newBuilder().setFixedLikelihood(Likelihood.VERY_LIKELY))\n          .build();\n\nOr is that too wide?", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/3112#discussion_r437784427", "createdAt": "2020-06-09T23:52:24Z", "author": {"login": "lesv"}, "path": "dlp/src/main/java/dlp/snippets/InspectStringMultipleRules.java", "diffHunk": "@@ -0,0 +1,143 @@\n+/*\n+ * Copyright 2020 Google LLC\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package dlp.snippets;\n+\n+// [START dlp_inspect_string_multiple_rules]\n+\n+import com.google.cloud.dlp.v2.DlpServiceClient;\n+import com.google.privacy.dlp.v2.ByteContentItem;\n+import com.google.privacy.dlp.v2.ByteContentItem.BytesType;\n+import com.google.privacy.dlp.v2.ContentItem;\n+import com.google.privacy.dlp.v2.CustomInfoType.DetectionRule.HotwordRule;\n+import com.google.privacy.dlp.v2.CustomInfoType.DetectionRule.LikelihoodAdjustment;\n+import com.google.privacy.dlp.v2.CustomInfoType.DetectionRule.Proximity;\n+import com.google.privacy.dlp.v2.CustomInfoType.Dictionary;\n+import com.google.privacy.dlp.v2.CustomInfoType.Dictionary.WordList;\n+import com.google.privacy.dlp.v2.CustomInfoType.Regex;\n+import com.google.privacy.dlp.v2.ExclusionRule;\n+import com.google.privacy.dlp.v2.Finding;\n+import com.google.privacy.dlp.v2.InfoType;\n+import com.google.privacy.dlp.v2.InspectConfig;\n+import com.google.privacy.dlp.v2.InspectContentRequest;\n+import com.google.privacy.dlp.v2.InspectContentResponse;\n+import com.google.privacy.dlp.v2.InspectionRule;\n+import com.google.privacy.dlp.v2.InspectionRuleSet;\n+import com.google.privacy.dlp.v2.Likelihood;\n+import com.google.privacy.dlp.v2.LocationName;\n+import com.google.privacy.dlp.v2.MatchingType;\n+import com.google.protobuf.ByteString;\n+import java.io.IOException;\n+\n+public class InspectStringMultipleRules {\n+\n+  public static void inspectStringMultipleRules() throws IOException {\n+    // TODO(developer): Replace these variables before running the sample.\n+    String projectId = \"your-project-id\";\n+    String textToInspect = \"patient: Jane Doe\";\n+    inspectStringMultipleRules(projectId, textToInspect);\n+  }\n+\n+  // Inspects the provided text, avoiding matches specified in the exclusion list.\n+  public static void inspectStringMultipleRules(String projectId, String textToInspect)\n+      throws IOException {\n+    // Initialize client that will be used to send requests. This client only needs to be created\n+    // once, and can be reused for multiple requests. After completing all of your requests, call\n+    // the \"close\" method on the client to safely clean up any remaining background resources.\n+    try (DlpServiceClient dlp = DlpServiceClient.create()) {\n+      // Specify the type and content to be inspected.\n+      ByteContentItem byteItem =\n+          ByteContentItem.newBuilder()\n+              .setType(BytesType.TEXT_UTF8)\n+              .setData(ByteString.copyFromUtf8(textToInspect))\n+              .build();\n+      ContentItem item = ContentItem.newBuilder().setByteItem(byteItem).build();\n+\n+      // Construct hotword rules\n+      HotwordRule patientRule = HotwordRule.newBuilder()\n+          .setHotwordRegex(Regex.newBuilder()\n+              .setPattern(\"patient\"))\n+          .setProximity(Proximity.newBuilder()\n+              .setWindowBefore(10))\n+          .setLikelihoodAdjustment(LikelihoodAdjustment.newBuilder()\n+              .setFixedLikelihood(Likelihood.VERY_LIKELY))\n+          .build();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzc4MzgxNg=="}, "originalCommit": {"oid": "757cc5447cc11a13ca1abed81167402ec1748957"}, "originalPosition": 77}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzgyMDg3OQ==", "bodyText": "The autoformat breaks the setLikelihoodAdjustment line because it's too long:\n      HotwordRule patientRule = HotwordRule.newBuilder()\n          .setHotwordRegex(Regex.newBuilder().setPattern(\"patient\"))\n          .setProximity(Proximity.newBuilder().setWindowBefore(10))\n          .setLikelihoodAdjustment(\n              LikelihoodAdjustment.newBuilder().setFixedLikelihood(Likelihood.VERY_LIKELY))\n          .build();\n\n\nI found it easier to read the structure when the other lines were also broken.\nThe linter / autoformatter seems happy either way, and I didn't see anything in the style guide that was strongly opinionated about it, so I went with what seemed easier to read.\nLMK if you still want this changed, I don't feel strongly about it and don't mind switching if my instincts on what's easier to read seem off.", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/3112#discussion_r437820879", "createdAt": "2020-06-10T02:13:02Z", "author": {"login": "sushicw"}, "path": "dlp/src/main/java/dlp/snippets/InspectStringMultipleRules.java", "diffHunk": "@@ -0,0 +1,143 @@\n+/*\n+ * Copyright 2020 Google LLC\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package dlp.snippets;\n+\n+// [START dlp_inspect_string_multiple_rules]\n+\n+import com.google.cloud.dlp.v2.DlpServiceClient;\n+import com.google.privacy.dlp.v2.ByteContentItem;\n+import com.google.privacy.dlp.v2.ByteContentItem.BytesType;\n+import com.google.privacy.dlp.v2.ContentItem;\n+import com.google.privacy.dlp.v2.CustomInfoType.DetectionRule.HotwordRule;\n+import com.google.privacy.dlp.v2.CustomInfoType.DetectionRule.LikelihoodAdjustment;\n+import com.google.privacy.dlp.v2.CustomInfoType.DetectionRule.Proximity;\n+import com.google.privacy.dlp.v2.CustomInfoType.Dictionary;\n+import com.google.privacy.dlp.v2.CustomInfoType.Dictionary.WordList;\n+import com.google.privacy.dlp.v2.CustomInfoType.Regex;\n+import com.google.privacy.dlp.v2.ExclusionRule;\n+import com.google.privacy.dlp.v2.Finding;\n+import com.google.privacy.dlp.v2.InfoType;\n+import com.google.privacy.dlp.v2.InspectConfig;\n+import com.google.privacy.dlp.v2.InspectContentRequest;\n+import com.google.privacy.dlp.v2.InspectContentResponse;\n+import com.google.privacy.dlp.v2.InspectionRule;\n+import com.google.privacy.dlp.v2.InspectionRuleSet;\n+import com.google.privacy.dlp.v2.Likelihood;\n+import com.google.privacy.dlp.v2.LocationName;\n+import com.google.privacy.dlp.v2.MatchingType;\n+import com.google.protobuf.ByteString;\n+import java.io.IOException;\n+\n+public class InspectStringMultipleRules {\n+\n+  public static void inspectStringMultipleRules() throws IOException {\n+    // TODO(developer): Replace these variables before running the sample.\n+    String projectId = \"your-project-id\";\n+    String textToInspect = \"patient: Jane Doe\";\n+    inspectStringMultipleRules(projectId, textToInspect);\n+  }\n+\n+  // Inspects the provided text, avoiding matches specified in the exclusion list.\n+  public static void inspectStringMultipleRules(String projectId, String textToInspect)\n+      throws IOException {\n+    // Initialize client that will be used to send requests. This client only needs to be created\n+    // once, and can be reused for multiple requests. After completing all of your requests, call\n+    // the \"close\" method on the client to safely clean up any remaining background resources.\n+    try (DlpServiceClient dlp = DlpServiceClient.create()) {\n+      // Specify the type and content to be inspected.\n+      ByteContentItem byteItem =\n+          ByteContentItem.newBuilder()\n+              .setType(BytesType.TEXT_UTF8)\n+              .setData(ByteString.copyFromUtf8(textToInspect))\n+              .build();\n+      ContentItem item = ContentItem.newBuilder().setByteItem(byteItem).build();\n+\n+      // Construct hotword rules\n+      HotwordRule patientRule = HotwordRule.newBuilder()\n+          .setHotwordRegex(Regex.newBuilder()\n+              .setPattern(\"patient\"))\n+          .setProximity(Proximity.newBuilder()\n+              .setWindowBefore(10))\n+          .setLikelihoodAdjustment(LikelihoodAdjustment.newBuilder()\n+              .setFixedLikelihood(Likelihood.VERY_LIKELY))\n+          .build();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzc4MzgxNg=="}, "originalCommit": {"oid": "757cc5447cc11a13ca1abed81167402ec1748957"}, "originalPosition": 77}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODI4MzY4NA==", "bodyText": "I'm good w/ that.", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/3112#discussion_r438283684", "createdAt": "2020-06-10T17:14:02Z", "author": {"login": "lesv"}, "path": "dlp/src/main/java/dlp/snippets/InspectStringMultipleRules.java", "diffHunk": "@@ -0,0 +1,143 @@\n+/*\n+ * Copyright 2020 Google LLC\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package dlp.snippets;\n+\n+// [START dlp_inspect_string_multiple_rules]\n+\n+import com.google.cloud.dlp.v2.DlpServiceClient;\n+import com.google.privacy.dlp.v2.ByteContentItem;\n+import com.google.privacy.dlp.v2.ByteContentItem.BytesType;\n+import com.google.privacy.dlp.v2.ContentItem;\n+import com.google.privacy.dlp.v2.CustomInfoType.DetectionRule.HotwordRule;\n+import com.google.privacy.dlp.v2.CustomInfoType.DetectionRule.LikelihoodAdjustment;\n+import com.google.privacy.dlp.v2.CustomInfoType.DetectionRule.Proximity;\n+import com.google.privacy.dlp.v2.CustomInfoType.Dictionary;\n+import com.google.privacy.dlp.v2.CustomInfoType.Dictionary.WordList;\n+import com.google.privacy.dlp.v2.CustomInfoType.Regex;\n+import com.google.privacy.dlp.v2.ExclusionRule;\n+import com.google.privacy.dlp.v2.Finding;\n+import com.google.privacy.dlp.v2.InfoType;\n+import com.google.privacy.dlp.v2.InspectConfig;\n+import com.google.privacy.dlp.v2.InspectContentRequest;\n+import com.google.privacy.dlp.v2.InspectContentResponse;\n+import com.google.privacy.dlp.v2.InspectionRule;\n+import com.google.privacy.dlp.v2.InspectionRuleSet;\n+import com.google.privacy.dlp.v2.Likelihood;\n+import com.google.privacy.dlp.v2.LocationName;\n+import com.google.privacy.dlp.v2.MatchingType;\n+import com.google.protobuf.ByteString;\n+import java.io.IOException;\n+\n+public class InspectStringMultipleRules {\n+\n+  public static void inspectStringMultipleRules() throws IOException {\n+    // TODO(developer): Replace these variables before running the sample.\n+    String projectId = \"your-project-id\";\n+    String textToInspect = \"patient: Jane Doe\";\n+    inspectStringMultipleRules(projectId, textToInspect);\n+  }\n+\n+  // Inspects the provided text, avoiding matches specified in the exclusion list.\n+  public static void inspectStringMultipleRules(String projectId, String textToInspect)\n+      throws IOException {\n+    // Initialize client that will be used to send requests. This client only needs to be created\n+    // once, and can be reused for multiple requests. After completing all of your requests, call\n+    // the \"close\" method on the client to safely clean up any remaining background resources.\n+    try (DlpServiceClient dlp = DlpServiceClient.create()) {\n+      // Specify the type and content to be inspected.\n+      ByteContentItem byteItem =\n+          ByteContentItem.newBuilder()\n+              .setType(BytesType.TEXT_UTF8)\n+              .setData(ByteString.copyFromUtf8(textToInspect))\n+              .build();\n+      ContentItem item = ContentItem.newBuilder().setByteItem(byteItem).build();\n+\n+      // Construct hotword rules\n+      HotwordRule patientRule = HotwordRule.newBuilder()\n+          .setHotwordRegex(Regex.newBuilder()\n+              .setPattern(\"patient\"))\n+          .setProximity(Proximity.newBuilder()\n+              .setWindowBefore(10))\n+          .setLikelihoodAdjustment(LikelihoodAdjustment.newBuilder()\n+              .setFixedLikelihood(Likelihood.VERY_LIKELY))\n+          .build();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzc4MzgxNg=="}, "originalCommit": {"oid": "757cc5447cc11a13ca1abed81167402ec1748957"}, "originalPosition": 77}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcyNzI4MTgyOnYy", "diffSide": "RIGHT", "path": "dlp/src/main/java/dlp/snippets/InspectStringMultipleRules.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQyMzo1MDoyNlrOGhgNKw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQyMzo1MDoyNlrOGhgNKw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzc4Mzg1MQ==", "bodyText": "ditto", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/3112#discussion_r437783851", "createdAt": "2020-06-09T23:50:26Z", "author": {"login": "lesv"}, "path": "dlp/src/main/java/dlp/snippets/InspectStringMultipleRules.java", "diffHunk": "@@ -0,0 +1,143 @@\n+/*\n+ * Copyright 2020 Google LLC\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package dlp.snippets;\n+\n+// [START dlp_inspect_string_multiple_rules]\n+\n+import com.google.cloud.dlp.v2.DlpServiceClient;\n+import com.google.privacy.dlp.v2.ByteContentItem;\n+import com.google.privacy.dlp.v2.ByteContentItem.BytesType;\n+import com.google.privacy.dlp.v2.ContentItem;\n+import com.google.privacy.dlp.v2.CustomInfoType.DetectionRule.HotwordRule;\n+import com.google.privacy.dlp.v2.CustomInfoType.DetectionRule.LikelihoodAdjustment;\n+import com.google.privacy.dlp.v2.CustomInfoType.DetectionRule.Proximity;\n+import com.google.privacy.dlp.v2.CustomInfoType.Dictionary;\n+import com.google.privacy.dlp.v2.CustomInfoType.Dictionary.WordList;\n+import com.google.privacy.dlp.v2.CustomInfoType.Regex;\n+import com.google.privacy.dlp.v2.ExclusionRule;\n+import com.google.privacy.dlp.v2.Finding;\n+import com.google.privacy.dlp.v2.InfoType;\n+import com.google.privacy.dlp.v2.InspectConfig;\n+import com.google.privacy.dlp.v2.InspectContentRequest;\n+import com.google.privacy.dlp.v2.InspectContentResponse;\n+import com.google.privacy.dlp.v2.InspectionRule;\n+import com.google.privacy.dlp.v2.InspectionRuleSet;\n+import com.google.privacy.dlp.v2.Likelihood;\n+import com.google.privacy.dlp.v2.LocationName;\n+import com.google.privacy.dlp.v2.MatchingType;\n+import com.google.protobuf.ByteString;\n+import java.io.IOException;\n+\n+public class InspectStringMultipleRules {\n+\n+  public static void inspectStringMultipleRules() throws IOException {\n+    // TODO(developer): Replace these variables before running the sample.\n+    String projectId = \"your-project-id\";\n+    String textToInspect = \"patient: Jane Doe\";\n+    inspectStringMultipleRules(projectId, textToInspect);\n+  }\n+\n+  // Inspects the provided text, avoiding matches specified in the exclusion list.\n+  public static void inspectStringMultipleRules(String projectId, String textToInspect)\n+      throws IOException {\n+    // Initialize client that will be used to send requests. This client only needs to be created\n+    // once, and can be reused for multiple requests. After completing all of your requests, call\n+    // the \"close\" method on the client to safely clean up any remaining background resources.\n+    try (DlpServiceClient dlp = DlpServiceClient.create()) {\n+      // Specify the type and content to be inspected.\n+      ByteContentItem byteItem =\n+          ByteContentItem.newBuilder()\n+              .setType(BytesType.TEXT_UTF8)\n+              .setData(ByteString.copyFromUtf8(textToInspect))\n+              .build();\n+      ContentItem item = ContentItem.newBuilder().setByteItem(byteItem).build();\n+\n+      // Construct hotword rules\n+      HotwordRule patientRule = HotwordRule.newBuilder()\n+          .setHotwordRegex(Regex.newBuilder()\n+              .setPattern(\"patient\"))\n+          .setProximity(Proximity.newBuilder()\n+              .setWindowBefore(10))\n+          .setLikelihoodAdjustment(LikelihoodAdjustment.newBuilder()\n+              .setFixedLikelihood(Likelihood.VERY_LIKELY))\n+          .build();\n+\n+      HotwordRule doctorRule = HotwordRule.newBuilder()\n+          .setHotwordRegex(Regex.newBuilder()\n+              .setPattern(\"doctor\"))\n+          .setProximity(Proximity.newBuilder()\n+              .setWindowBefore(10))\n+          .setLikelihoodAdjustment(LikelihoodAdjustment.newBuilder()\n+              .setFixedLikelihood(Likelihood.UNLIKELY))\n+          .build();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "757cc5447cc11a13ca1abed81167402ec1748957"}, "originalPosition": 86}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 627, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}