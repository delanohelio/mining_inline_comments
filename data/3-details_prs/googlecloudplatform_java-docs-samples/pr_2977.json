{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIzNTkxNDAx", "number": 2977, "title": "fix: talent solution v4 samples tests", "bodyText": "Fixes #2970\nLooks like job posting by default was expired and deleted in 30 days.\nThat's why this happens once in a month.\nI found out that I can customize the expiration date in job posting, and created one job for testing that expires in 40 years from now.", "createdAt": "2020-05-27T03:56:35Z", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/2977", "merged": true, "mergeCommit": {"oid": "86cea4dc6b3d4477dd109c0072eac155f7b35e4d"}, "closed": true, "closedAt": "2020-05-28T17:52:54Z", "author": {"login": "munkhuushmgl"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABclRBuYgH2gAyNDIzNTkxNDAxOjMzOWRlMTc0ZTY0YTcyYTg5MDQxNTZmZGUzNWM0NzAxMTAzOTY0Mzg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcliSJ-gH2gAyNDIzNTkxNDAxOjg5OGY5ZGVkNmQwZDkwM2Q3ODhkZTAxMmE0ZTAzMDhiODZlMjA1Njg=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "339de174e64a72a8904156fde35c470110396438", "author": {"user": {"login": "munkhuushmgl", "name": "Mike"}}, "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/commit/339de174e64a72a8904156fde35c470110396438", "committedDate": "2020-05-27T03:51:33Z", "message": "fix: talent solution v4 samples tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3ba44a869c906bb67c9f24b738d47d6e7bb8d972", "author": {"user": {"login": "munkhuushmgl", "name": "Mike"}}, "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/commit/3ba44a869c906bb67c9f24b738d47d6e7bb8d972", "committedDate": "2020-05-27T03:57:57Z", "message": "deleted unnecessary text file"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dd96e3ac4a01170e25fd108b1a03354e56170528", "author": {"user": {"login": "munkhuushmgl", "name": "Mike"}}, "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/commit/dd96e3ac4a01170e25fd108b1a03354e56170528", "committedDate": "2020-05-27T17:29:05Z", "message": "updated exp date"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6335d376e90cde6673552561e551b1adf439b1d2", "author": {"user": {"login": "munkhuushmgl", "name": "Mike"}}, "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/commit/6335d376e90cde6673552561e551b1adf439b1d2", "committedDate": "2020-05-27T17:46:40Z", "message": "fixed the lint"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "633879703926e5ce8c991604c0b445109272398a", "author": {"user": {"login": "munkhuushmgl", "name": "Mike"}}, "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/commit/633879703926e5ce8c991604c0b445109272398a", "committedDate": "2020-05-27T18:27:12Z", "message": "updated code according to new checkstyle"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE5NTU5MTEw", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/2977#pullrequestreview-419559110", "createdAt": "2020-05-27T19:51:07Z", "commit": {"oid": "633879703926e5ce8c991604c0b445109272398a"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QxOTo1MTowN1rOGba0MA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QxOTo1MTozOFrOGba1MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTQwNDA4MA==", "bodyText": "This wouldn't be my first choice.  https://docs.oracle.com/javase/8/docs/api/java/sql/Timestamp.html would be better.", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/2977#discussion_r431404080", "createdAt": "2020-05-27T19:51:07Z", "author": {"login": "lesv"}, "path": "jobs/v4/src/main/java/com/example/jobs/JobSearchCreateJob.java", "diffHunk": "@@ -22,6 +22,8 @@\n import com.google.cloud.talent.v4beta1.Job;\n import com.google.cloud.talent.v4beta1.JobServiceClient;\n import com.google.cloud.talent.v4beta1.TenantName;\n+import com.google.protobuf.Timestamp;\n+import com.google.protobuf.util.Timestamps;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "633879703926e5ce8c991604c0b445109272398a"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTQwNDMzNg==", "bodyText": "https://docs.oracle.com/javase/8/docs/api/java/sql/Timestamp.html <== Is protobuf timestamp leaked to users?  Is this really a good idea?", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/2977#discussion_r431404336", "createdAt": "2020-05-27T19:51:38Z", "author": {"login": "lesv"}, "path": "jobs/v4/src/main/java/com/example/jobs/JobSearchCreateJob.java", "diffHunk": "@@ -46,14 +48,27 @@ public static void createJob(\n       String requisitionId,\n       String jobApplicationUrl)\n       throws IOException {\n+    // Initialize client that will be used to send requests. This client only needs to be created\n+    // once, and can be reused for multiple requests. After completing all of your requests, call\n+    // the \"close\" method on the client to safely clean up any remaining background resources.\n     try (JobServiceClient jobServiceClient = JobServiceClient.create()) {\n       TenantName parent = TenantName.of(projectId, tenantId);\n       Job.ApplicationInfo applicationInfo =\n           Job.ApplicationInfo.newBuilder().addUris(jobApplicationUrl).build();\n \n-      List<String> addresses = Arrays.asList(\"1600 Amphitheatre Parkway, Mountain View, CA 94043\",\n+      List<String> addresses =\n+          Arrays.asList(\n+              \"1600 Amphitheatre Parkway, Mountain View, CA 94043\",\n               \"111 8th Avenue, New York, NY 10011\");\n \n+      // if exp date is not set, by default it will expire in 30 days.\n+      Timestamp expirationDate =\n+          Timestamps.add(\n+              Timestamps.fromMillis(System.currentTimeMillis()),\n+              com.google.protobuf.Duration.newBuilder()\n+                  .setSeconds(60L * 60L * 24L * 30L) //  30 days ago\n+                  .build());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "633879703926e5ce8c991604c0b445109272398a"}, "originalPosition": 33}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e2f55137ba0edcbb5677300ba1a7869d384b0d01", "author": {"user": {"login": "munkhuushmgl", "name": "Mike"}}, "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/commit/e2f55137ba0edcbb5677300ba1a7869d384b0d01", "committedDate": "2020-05-27T23:54:23Z", "message": "removed setExpireDate mthd"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "898f9ded6d0d903d788de012a4e0308b86e20568", "author": {"user": {"login": "munkhuushmgl", "name": "Mike"}}, "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/commit/898f9ded6d0d903d788de012a4e0308b86e20568", "committedDate": "2020-05-27T23:57:53Z", "message": "added helpful link to job exp"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 735, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}