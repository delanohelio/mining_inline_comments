{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDEwMzgzMjQ4", "number": 2810, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOFQyMjoxMzoxMlrOD3Zr5A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOFQyMjoxMzo1MFrOD3ZsmA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU5NDE5MTA4OnYy", "diffSide": "RIGHT", "path": "functions/http/send-http-request/src/main/java/functions/SendHttpRequest.java", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOFQyMjoxMzoxMlrOGNo9dg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQxNzoxMTo1MVrOGOIx0g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjk1NTc2Ng==", "bodyText": "I have mixed feelings on var - it's simpler, but (to me) feels less idiomatic for Java.\n@kurtisvg @lesv WDYT?", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/2810#discussion_r416955766", "createdAt": "2020-04-28T22:13:12Z", "author": {"login": "ace-n"}, "path": "functions/http/send-http-request/src/main/java/functions/SendHttpRequest.java", "diffHunk": "@@ -41,17 +41,15 @@ public void service(HttpRequest request, HttpResponse response)\n       throws IOException, InterruptedException {\n     // Create a GET sendHttpRequest to \"http://example.com\"\n     String url = \"http://example.com\";\n-    java.net.http.HttpRequest getRequest =\n-        java.net.http.HttpRequest.newBuilder().uri(URI.create(url)).GET().build();\n+    var getRequest = java.net.http.HttpRequest.newBuilder().uri(URI.create(url)).GET().build();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "375f31e3aa16a686848da05c63cb23c3c022b2bb"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjk2Mjc4OQ==", "bodyText": "It hasn't been in the language all that long, but I think everyone should use it in appropriate places, of which this is definitely one since it allows us to replace three fully-qualified class names with just one.", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/2810#discussion_r416962789", "createdAt": "2020-04-28T22:30:35Z", "author": {"login": "eamonnmcmanus"}, "path": "functions/http/send-http-request/src/main/java/functions/SendHttpRequest.java", "diffHunk": "@@ -41,17 +41,15 @@ public void service(HttpRequest request, HttpResponse response)\n       throws IOException, InterruptedException {\n     // Create a GET sendHttpRequest to \"http://example.com\"\n     String url = \"http://example.com\";\n-    java.net.http.HttpRequest getRequest =\n-        java.net.http.HttpRequest.newBuilder().uri(URI.create(url)).GET().build();\n+    var getRequest = java.net.http.HttpRequest.newBuilder().uri(URI.create(url)).GET().build();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjk1NTc2Ng=="}, "originalCommit": {"oid": "375f31e3aa16a686848da05c63cb23c3c022b2bb"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzQ3NjI2Ng==", "bodyText": "It should be fine to use in Java 11 apps.", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/2810#discussion_r417476266", "createdAt": "2020-04-29T17:10:39Z", "author": {"login": "lesv"}, "path": "functions/http/send-http-request/src/main/java/functions/SendHttpRequest.java", "diffHunk": "@@ -41,17 +41,15 @@ public void service(HttpRequest request, HttpResponse response)\n       throws IOException, InterruptedException {\n     // Create a GET sendHttpRequest to \"http://example.com\"\n     String url = \"http://example.com\";\n-    java.net.http.HttpRequest getRequest =\n-        java.net.http.HttpRequest.newBuilder().uri(URI.create(url)).GET().build();\n+    var getRequest = java.net.http.HttpRequest.newBuilder().uri(URI.create(url)).GET().build();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjk1NTc2Ng=="}, "originalCommit": {"oid": "375f31e3aa16a686848da05c63cb23c3c022b2bb"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzQ3NzA3NA==", "bodyText": "It's J11, it's often clearer and less error prone.", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/2810#discussion_r417477074", "createdAt": "2020-04-29T17:11:51Z", "author": {"login": "lesv"}, "path": "functions/http/send-http-request/src/main/java/functions/SendHttpRequest.java", "diffHunk": "@@ -41,17 +41,15 @@ public void service(HttpRequest request, HttpResponse response)\n       throws IOException, InterruptedException {\n     // Create a GET sendHttpRequest to \"http://example.com\"\n     String url = \"http://example.com\";\n-    java.net.http.HttpRequest getRequest =\n-        java.net.http.HttpRequest.newBuilder().uri(URI.create(url)).GET().build();\n+    var getRequest = java.net.http.HttpRequest.newBuilder().uri(URI.create(url)).GET().build();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjk1NTc2Ng=="}, "originalCommit": {"oid": "375f31e3aa16a686848da05c63cb23c3c022b2bb"}, "originalPosition": 16}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU5NDE5Mjg4OnYy", "diffSide": "RIGHT", "path": "functions/spanner/src/main/java/functions/HelloSpanner.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOFQyMjoxMzo1MVrOGNo-gA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOFQyMjoyOTozMFrOGNpXRg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjk1NjAzMg==", "bodyText": "Nit: spotbugs does not like \\n, and prefers %n instead.\nApply that comment throughout this file.", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/2810#discussion_r416956032", "createdAt": "2020-04-28T22:13:51Z", "author": {"login": "ace-n"}, "path": "functions/spanner/src/main/java/functions/HelloSpanner.java", "diffHunk": "@@ -97,27 +97,26 @@ DatabaseClient getClient() throws Throwable {\n \n   @Override\n   public void service(HttpRequest request, HttpResponse response) throws Exception {\n-    BufferedWriter writer = response.getWriter();\n+    var writer = new PrintWriter(response.getWriter());\n     try {\n       DatabaseClient client = getClient();\n       try (ResultSet rs =\n           client\n               .singleUse()\n               .executeQuery(Statement.of(\"SELECT SingerId, AlbumId, AlbumTitle FROM Albums\"))) {\n-        writer.write(\"Albums:\\n\");\n+        writer.printf(\"Albums:\\n\");\n         while (rs.next()) {\n-          writer.write(\n-              String.format(\n-                  \"%d %d %s\\n\",\n-                  rs.getLong(\"SingerId\"), rs.getLong(\"AlbumId\"), rs.getString(\"AlbumTitle\")));\n+          writer.printf(\n+              \"%d %d %s\\n\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "375f31e3aa16a686848da05c63cb23c3c022b2bb"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjk2MjM3NA==", "bodyText": "Will do, though I'll note that I didn't change these strings, which already had \\n in them.", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/2810#discussion_r416962374", "createdAt": "2020-04-28T22:29:30Z", "author": {"login": "eamonnmcmanus"}, "path": "functions/spanner/src/main/java/functions/HelloSpanner.java", "diffHunk": "@@ -97,27 +97,26 @@ DatabaseClient getClient() throws Throwable {\n \n   @Override\n   public void service(HttpRequest request, HttpResponse response) throws Exception {\n-    BufferedWriter writer = response.getWriter();\n+    var writer = new PrintWriter(response.getWriter());\n     try {\n       DatabaseClient client = getClient();\n       try (ResultSet rs =\n           client\n               .singleUse()\n               .executeQuery(Statement.of(\"SELECT SingerId, AlbumId, AlbumTitle FROM Albums\"))) {\n-        writer.write(\"Albums:\\n\");\n+        writer.printf(\"Albums:\\n\");\n         while (rs.next()) {\n-          writer.write(\n-              String.format(\n-                  \"%d %d %s\\n\",\n-                  rs.getLong(\"SingerId\"), rs.getLong(\"AlbumId\"), rs.getString(\"AlbumTitle\")));\n+          writer.printf(\n+              \"%d %d %s\\n\",", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjk1NjAzMg=="}, "originalCommit": {"oid": "375f31e3aa16a686848da05c63cb23c3c022b2bb"}, "originalPosition": 29}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 859, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}