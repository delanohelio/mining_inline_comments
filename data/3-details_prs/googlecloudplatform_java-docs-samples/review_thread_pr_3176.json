{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM0OTQ4NTgx", "number": 3176, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QxNDozOToyOVrOEGYU9A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOFQyMjoxNzo0N1rOEG7iiA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc1MTI1NDkyOnYy", "diffSide": "RIGHT", "path": "tasks/src/test/java/com/example/task/CreateQueueIT.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QxNDozOToyOVrOGlI9eg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QxNDozOToyOVrOGlI9eg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTU5NzMwNg==", "bodyText": "Update test comments", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/3176#discussion_r441597306", "createdAt": "2020-06-17T14:39:29Z", "author": {"login": "jennstubley"}, "path": "tasks/src/test/java/com/example/task/CreateQueueIT.java", "diffHunk": "@@ -0,0 +1,77 @@\n+// Copyright 2020 Google LLC\n+//\n+// Licensed under the Apache License, Version 2.0 (the \"License\");\n+// you may not use this file except in compliance with the License.\n+// You may obtain a copy of the License at\n+//\n+//      http://www.apache.org/licenses/LICENSE-2.0\n+//\n+// Unless required by applicable law or agreed to in writing, software\n+// distributed under the License is distributed on an \"AS IS\" BASIS,\n+// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+// See the License for the specific language governing permissions and\n+// limitations under the License.\n+\n+package com.example.task;\n+\n+import static com.google.common.truth.Truth.assertThat;\n+import static org.junit.Assert.assertNotNull;\n+\n+import com.google.cloud.tasks.v2.CloudTasksClient;\n+import com.google.cloud.tasks.v2.QueueName;\n+import java.io.ByteArrayOutputStream;\n+import java.io.PrintStream;\n+import java.util.UUID;\n+import org.junit.After;\n+import org.junit.Before;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+import org.junit.runner.RunWith;\n+import org.junit.runners.JUnit4;\n+\n+/** Tests for creating Tasks with HTTP targets. */", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "60df62f3e9b386863ab7745d0fcfefca79fb6d46"}, "originalPosition": 32}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc1MTI1ODMwOnYy", "diffSide": "RIGHT", "path": "tasks/src/test/java/com/example/task/CreateQueueIT.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QxNDo0MDoxM1rOGlI_oA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QxODo0NDo1OVrOGlShlg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTU5Nzg1Ng==", "bodyText": "Is there a reason for doing this rather than using the sample project like the create task test does?", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/3176#discussion_r441597856", "createdAt": "2020-06-17T14:40:13Z", "author": {"login": "jennstubley"}, "path": "tasks/src/test/java/com/example/task/CreateQueueIT.java", "diffHunk": "@@ -0,0 +1,77 @@\n+// Copyright 2020 Google LLC\n+//\n+// Licensed under the Apache License, Version 2.0 (the \"License\");\n+// you may not use this file except in compliance with the License.\n+// You may obtain a copy of the License at\n+//\n+//      http://www.apache.org/licenses/LICENSE-2.0\n+//\n+// Unless required by applicable law or agreed to in writing, software\n+// distributed under the License is distributed on an \"AS IS\" BASIS,\n+// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+// See the License for the specific language governing permissions and\n+// limitations under the License.\n+\n+package com.example.task;\n+\n+import static com.google.common.truth.Truth.assertThat;\n+import static org.junit.Assert.assertNotNull;\n+\n+import com.google.cloud.tasks.v2.CloudTasksClient;\n+import com.google.cloud.tasks.v2.QueueName;\n+import java.io.ByteArrayOutputStream;\n+import java.io.PrintStream;\n+import java.util.UUID;\n+import org.junit.After;\n+import org.junit.Before;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+import org.junit.runner.RunWith;\n+import org.junit.runners.JUnit4;\n+\n+/** Tests for creating Tasks with HTTP targets. */\n+@RunWith(JUnit4.class)\n+public class CreateQueueIT {\n+  private static final String PROJECT_ID = System.getProperty(\"GOOGLE_CLOUD_PROJECT\");\n+  private static final String LOCATION_ID = \"us-central1\";\n+  private static final String QUEUE_ID = \"test-queue-\" + UUID.randomUUID();\n+\n+  private ByteArrayOutputStream bout;\n+  private PrintStream out;\n+\n+  private static void requireEnvVar(String varName) {\n+    assertNotNull(\n+        String.format(\"Environment variable '%s' must be set to perform these tests.\", varName),\n+        System.getProperty(varName));\n+  }\n+\n+  @BeforeClass\n+  public static void checkRequirements() {\n+    requireEnvVar(\"GOOGLE_CLOUD_PROJECT\");\n+  }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "60df62f3e9b386863ab7745d0fcfefca79fb6d46"}, "originalPosition": 51}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTY3MTQ3NA==", "bodyText": "It makes it easier to run the tests in your own project without having to modify the project id in the code. It seems that tests added to the java-docs recently have been using this approach (ex. https://github.com/GoogleCloudPlatform/java-docs-samples/blob/c3bccc301b14b01924ed05f422160190dcd94646/dataproc/src/test/java/InstantiateInlineWorkflowTemplateTest.java) so I just followed that since that's how Python did it as well.\nI'm not sure if the CreateTask tests should be updated to use env var or if just having a static project id is suitable enough.", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/3176#discussion_r441671474", "createdAt": "2020-06-17T16:25:04Z", "author": {"login": "aarjo"}, "path": "tasks/src/test/java/com/example/task/CreateQueueIT.java", "diffHunk": "@@ -0,0 +1,77 @@\n+// Copyright 2020 Google LLC\n+//\n+// Licensed under the Apache License, Version 2.0 (the \"License\");\n+// you may not use this file except in compliance with the License.\n+// You may obtain a copy of the License at\n+//\n+//      http://www.apache.org/licenses/LICENSE-2.0\n+//\n+// Unless required by applicable law or agreed to in writing, software\n+// distributed under the License is distributed on an \"AS IS\" BASIS,\n+// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+// See the License for the specific language governing permissions and\n+// limitations under the License.\n+\n+package com.example.task;\n+\n+import static com.google.common.truth.Truth.assertThat;\n+import static org.junit.Assert.assertNotNull;\n+\n+import com.google.cloud.tasks.v2.CloudTasksClient;\n+import com.google.cloud.tasks.v2.QueueName;\n+import java.io.ByteArrayOutputStream;\n+import java.io.PrintStream;\n+import java.util.UUID;\n+import org.junit.After;\n+import org.junit.Before;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+import org.junit.runner.RunWith;\n+import org.junit.runners.JUnit4;\n+\n+/** Tests for creating Tasks with HTTP targets. */\n+@RunWith(JUnit4.class)\n+public class CreateQueueIT {\n+  private static final String PROJECT_ID = System.getProperty(\"GOOGLE_CLOUD_PROJECT\");\n+  private static final String LOCATION_ID = \"us-central1\";\n+  private static final String QUEUE_ID = \"test-queue-\" + UUID.randomUUID();\n+\n+  private ByteArrayOutputStream bout;\n+  private PrintStream out;\n+\n+  private static void requireEnvVar(String varName) {\n+    assertNotNull(\n+        String.format(\"Environment variable '%s' must be set to perform these tests.\", varName),\n+        System.getProperty(varName));\n+  }\n+\n+  @BeforeClass\n+  public static void checkRequirements() {\n+    requireEnvVar(\"GOOGLE_CLOUD_PROJECT\");\n+  }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTU5Nzg1Ng=="}, "originalCommit": {"oid": "60df62f3e9b386863ab7745d0fcfefca79fb6d46"}, "originalPosition": 51}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTc1NDAwNg==", "bodyText": "Sounds good, thanks for the explanation.\nIf you want you can update CreateTask tests while you're here to keep consistency within the /tasks directory.", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/3176#discussion_r441754006", "createdAt": "2020-06-17T18:44:59Z", "author": {"login": "jennstubley"}, "path": "tasks/src/test/java/com/example/task/CreateQueueIT.java", "diffHunk": "@@ -0,0 +1,77 @@\n+// Copyright 2020 Google LLC\n+//\n+// Licensed under the Apache License, Version 2.0 (the \"License\");\n+// you may not use this file except in compliance with the License.\n+// You may obtain a copy of the License at\n+//\n+//      http://www.apache.org/licenses/LICENSE-2.0\n+//\n+// Unless required by applicable law or agreed to in writing, software\n+// distributed under the License is distributed on an \"AS IS\" BASIS,\n+// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+// See the License for the specific language governing permissions and\n+// limitations under the License.\n+\n+package com.example.task;\n+\n+import static com.google.common.truth.Truth.assertThat;\n+import static org.junit.Assert.assertNotNull;\n+\n+import com.google.cloud.tasks.v2.CloudTasksClient;\n+import com.google.cloud.tasks.v2.QueueName;\n+import java.io.ByteArrayOutputStream;\n+import java.io.PrintStream;\n+import java.util.UUID;\n+import org.junit.After;\n+import org.junit.Before;\n+import org.junit.BeforeClass;\n+import org.junit.Test;\n+import org.junit.runner.RunWith;\n+import org.junit.runners.JUnit4;\n+\n+/** Tests for creating Tasks with HTTP targets. */\n+@RunWith(JUnit4.class)\n+public class CreateQueueIT {\n+  private static final String PROJECT_ID = System.getProperty(\"GOOGLE_CLOUD_PROJECT\");\n+  private static final String LOCATION_ID = \"us-central1\";\n+  private static final String QUEUE_ID = \"test-queue-\" + UUID.randomUUID();\n+\n+  private ByteArrayOutputStream bout;\n+  private PrintStream out;\n+\n+  private static void requireEnvVar(String varName) {\n+    assertNotNull(\n+        String.format(\"Environment variable '%s' must be set to perform these tests.\", varName),\n+        System.getProperty(varName));\n+  }\n+\n+  @BeforeClass\n+  public static void checkRequirements() {\n+    requireEnvVar(\"GOOGLE_CLOUD_PROJECT\");\n+  }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTU5Nzg1Ng=="}, "originalCommit": {"oid": "60df62f3e9b386863ab7745d0fcfefca79fb6d46"}, "originalPosition": 51}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc1NzAxNzY5OnYy", "diffSide": "RIGHT", "path": "tasks/src/main/java/com/example/task/CreateQueue.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOFQyMjoxNDo0MVrOGmB9BQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOFQyMjoxNDo0MVrOGmB9BQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjUzMTA3Nw==", "bodyText": "Any chance you can be more specific?", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/3176#discussion_r442531077", "createdAt": "2020-06-18T22:14:41Z", "author": {"login": "lesv"}, "path": "tasks/src/main/java/com/example/task/CreateQueue.java", "diffHunk": "@@ -0,0 +1,51 @@\n+// Copyright 2020 Google LLC\n+//\n+// Licensed under the Apache License, Version 2.0 (the \"License\");\n+// you may not use this file except in compliance with the License.\n+// You may obtain a copy of the License at\n+//\n+//      http://www.apache.org/licenses/LICENSE-2.0\n+//\n+// Unless required by applicable law or agreed to in writing, software\n+// distributed under the License is distributed on an \"AS IS\" BASIS,\n+// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+// See the License for the specific language governing permissions and\n+// limitations under the License.\n+\n+package com.example.task;\n+\n+// [START cloud_tasks_create_queue]\n+import com.google.cloud.tasks.v2.CloudTasksClient;\n+import com.google.cloud.tasks.v2.LocationName;\n+import com.google.cloud.tasks.v2.Queue;\n+import com.google.cloud.tasks.v2.QueueName;\n+\n+public class CreateQueue {\n+  /**\n+   * Create a queue using the Cloud Tasks client.\n+   *\n+   * @param projectId the Id of the project.\n+   * @param queueId the name of your Queue.\n+   * @param locationId the GCP region of your queue.\n+   * @throws Exception on Cloud Tasks Client errors.\n+   */\n+  public static void createQueue(String projectId, String locationId, String queueId)\n+      throws Exception {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5897509b15ed5a179983062ec8edb11317dd852d"}, "originalPosition": 33}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc1NzAxOTQyOnYy", "diffSide": "RIGHT", "path": "tasks/src/main/java/com/example/task/DeleteQueue.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOFQyMjoxNToyOVrOGmB-Mw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOFQyMjoxNToyOVrOGmB-Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjUzMTM3OQ==", "bodyText": "Ideally we are as specific as possible with exceptions based on what developers might see.", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/3176#discussion_r442531379", "createdAt": "2020-06-18T22:15:29Z", "author": {"login": "lesv"}, "path": "tasks/src/main/java/com/example/task/DeleteQueue.java", "diffHunk": "@@ -0,0 +1,46 @@\n+// Copyright 2020 Google LLC\n+//\n+// Licensed under the Apache License, Version 2.0 (the \"License\");\n+// you may not use this file except in compliance with the License.\n+// You may obtain a copy of the License at\n+//\n+//      http://www.apache.org/licenses/LICENSE-2.0\n+//\n+// Unless required by applicable law or agreed to in writing, software\n+// distributed under the License is distributed on an \"AS IS\" BASIS,\n+// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+// See the License for the specific language governing permissions and\n+// limitations under the License.\n+\n+package com.example.task;\n+\n+// [START cloud_tasks_delete_queue]\n+import com.google.cloud.tasks.v2.CloudTasksClient;\n+import com.google.cloud.tasks.v2.QueueName;\n+\n+public class DeleteQueue {\n+  /**\n+   * Delete a queue using the Cloud Tasks client.\n+   *\n+   * @param projectId the Id of the project.\n+   * @param queueId the name of your Queue.\n+   * @param locationId the GCP region of your queue.\n+   * @throws Exception on Cloud Tasks Client errors.\n+   */\n+  public static void deleteQueue(String projectId, String locationId, String queueId)\n+      throws Exception {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5897509b15ed5a179983062ec8edb11317dd852d"}, "originalPosition": 31}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc1NzAyNDA4OnYy", "diffSide": "RIGHT", "path": "tasks/src/main/java/com/example/task/CreateQueue.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOFQyMjoxNzo0N1rOGmCBMw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOFQyMzoyMTo0NlrOGmDNNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjUzMjE0Nw==", "bodyText": "Typically, we have a main method that sets these values that users can modify to run this on their own.  Take a look at both our style guide and other smaples", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/3176#discussion_r442532147", "createdAt": "2020-06-18T22:17:47Z", "author": {"login": "lesv"}, "path": "tasks/src/main/java/com/example/task/CreateQueue.java", "diffHunk": "@@ -0,0 +1,51 @@\n+// Copyright 2020 Google LLC\n+//\n+// Licensed under the Apache License, Version 2.0 (the \"License\");\n+// you may not use this file except in compliance with the License.\n+// You may obtain a copy of the License at\n+//\n+//      http://www.apache.org/licenses/LICENSE-2.0\n+//\n+// Unless required by applicable law or agreed to in writing, software\n+// distributed under the License is distributed on an \"AS IS\" BASIS,\n+// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+// See the License for the specific language governing permissions and\n+// limitations under the License.\n+\n+package com.example.task;\n+\n+// [START cloud_tasks_create_queue]\n+import com.google.cloud.tasks.v2.CloudTasksClient;\n+import com.google.cloud.tasks.v2.LocationName;\n+import com.google.cloud.tasks.v2.Queue;\n+import com.google.cloud.tasks.v2.QueueName;\n+\n+public class CreateQueue {\n+  /**\n+   * Create a queue using the Cloud Tasks client.\n+   *\n+   * @param projectId the Id of the project.\n+   * @param queueId the name of your Queue.\n+   * @param locationId the GCP region of your queue.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5897509b15ed5a179983062ec8edb11317dd852d"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjU1MTYwNA==", "bodyText": "Added!", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/3176#discussion_r442551604", "createdAt": "2020-06-18T23:21:46Z", "author": {"login": "aarjo"}, "path": "tasks/src/main/java/com/example/task/CreateQueue.java", "diffHunk": "@@ -0,0 +1,51 @@\n+// Copyright 2020 Google LLC\n+//\n+// Licensed under the Apache License, Version 2.0 (the \"License\");\n+// you may not use this file except in compliance with the License.\n+// You may obtain a copy of the License at\n+//\n+//      http://www.apache.org/licenses/LICENSE-2.0\n+//\n+// Unless required by applicable law or agreed to in writing, software\n+// distributed under the License is distributed on an \"AS IS\" BASIS,\n+// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+// See the License for the specific language governing permissions and\n+// limitations under the License.\n+\n+package com.example.task;\n+\n+// [START cloud_tasks_create_queue]\n+import com.google.cloud.tasks.v2.CloudTasksClient;\n+import com.google.cloud.tasks.v2.LocationName;\n+import com.google.cloud.tasks.v2.Queue;\n+import com.google.cloud.tasks.v2.QueueName;\n+\n+public class CreateQueue {\n+  /**\n+   * Create a queue using the Cloud Tasks client.\n+   *\n+   * @param projectId the Id of the project.\n+   * @param queueId the name of your Queue.\n+   * @param locationId the GCP region of your queue.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjUzMjE0Nw=="}, "originalCommit": {"oid": "5897509b15ed5a179983062ec8edb11317dd852d"}, "originalPosition": 29}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 640, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}