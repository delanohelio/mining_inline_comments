{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE2OTM3NDI1", "number": 2870, "title": "healthcare API: change how HL7v2MessageList processes results, fix er\u2026", "bodyText": "\u2026ror in a path name in HL7v2MessageGet\nFixes:\nb/156347655\nb/156336144\nb/156395753", "createdAt": "2020-05-12T19:56:42Z", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/2870", "merged": true, "mergeCommit": {"oid": "514fd5f4fd8696a411eb16419637c2da3ed3ee3d"}, "closed": true, "closedAt": "2020-05-12T23:37:36Z", "author": {"login": "noerog"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcgpaDAgH2gAyNDE2OTM3NDI1OmMxMzg4YjlmNDgzM2Y1NzA2OGYxOWE4NzQxYWQyZThkMGYzYTgxNjc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcg9EbJAFqTQxMTE4NDc4OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "c1388b9f4833f57068f19a8741ad2e8d0f3a8167", "author": {"user": {"login": "noerog", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/commit/c1388b9f4833f57068f19a8741ad2e8d0f3a8167", "committedDate": "2020-05-12T19:26:13Z", "message": "healthcare API: change how HL7v2MessageList processes results, fix error in a path name in HL7v2MessageGet"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "062f6092fc1a54121b3cf4adfb81bcb4c46c5edb", "author": {"user": {"login": "noerog", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/commit/062f6092fc1a54121b3cf4adfb81bcb4c46c5edb", "committedDate": "2020-05-12T19:53:46Z", "message": "remove unused imports"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEwMzc4NTQ4", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/2870#pullrequestreview-410378548", "createdAt": "2020-05-12T20:01:03Z", "commit": {"oid": "062f6092fc1a54121b3cf4adfb81bcb4c46c5edb"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQyMDowMTowNFrOGUW0NQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQyMDowMTozMFrOGUW1KA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzk5ODUxNw==", "bodyText": "You don't need the extra \\n when using println", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/2870#discussion_r423998517", "createdAt": "2020-05-12T20:01:04Z", "author": {"login": "lesv"}, "path": "healthcare/v1/src/main/java/snippets/healthcare/hl7v2/messages/HL7v2MessageList.java", "diffHunk": "@@ -63,21 +59,21 @@ public static void hl7v2MessageList(String hl7v2StoreName) throws IOException {\n               .setPageSize(100) // Specify pageSize up to 1000\n               .setPageToken(pageToken);\n \n+      ListMessagesResponse response;\n       // Execute response and collect results.\n-      ListMessagesResponse response = request.execute();\n-      Collection<Message> responseMessages = response.getHl7V2Messages();\n-      if (responseMessages != null) {\n-        messages.addAll(responseMessages);\n-      }\n-\n-      // Update the page token for the next request.\n-      pageToken = response.getNextPageToken();\n-    } while (pageToken != null);\n-\n-    // Print results.\n-    System.out.printf(\"Retrieved %s HL7v2 messages: \\n\", messages.size());\n-    for (Message data : messages) {\n-      System.out.println(\"\\t\" + data.getData());\n+      do {\n+        response = request.execute();\n+        if (response.getHl7V2Messages() == null) {\n+          continue;\n+        }\n+        System.out.printf(\"Retrieved %s HL7v2 messages: \\n\", response.getHl7V2Messages().size());\n+        for (Message message : response.getHl7V2Messages()) {\n+            System.out.println(\"\\t\" + message);\n+        }\n+        request.setPageToken(response.getNextPageToken());\n+       } while (response.getNextPageToken() != null);\n+    } catch (IOException e) {\n+      System.out.println(\"Unable to list HL7v2 messages: \\n\" + e.toString());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "062f6092fc1a54121b3cf4adfb81bcb4c46c5edb"}, "originalPosition": 56}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzk5ODc2MA==", "bodyText": "How did this ever work?", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/2870#discussion_r423998760", "createdAt": "2020-05-12T20:01:30Z", "author": {"login": "lesv"}, "path": "healthcare/v1/src/main/java/snippets/healthcare/hl7v2/messages/HL7v2MessageGet.java", "diffHunk": "@@ -32,7 +31,7 @@\n \n public class HL7v2MessageGet {\n   private static final String MESSAGE_NAME =\n-      \"projects/%s/locations/%s/datasets/%s/hl7V2Store/%s/messages/%s\";\n+      \"projects/%s/locations/%s/datasets/%s/hl7V2Stores/%s/messages/%s\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "062f6092fc1a54121b3cf4adfb81bcb4c46c5edb"}, "originalPosition": 13}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "657133068988bb57ba32d49b57fece67506d534f", "author": {"user": {"login": "noerog", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/commit/657133068988bb57ba32d49b57fece67506d534f", "committedDate": "2020-05-12T20:05:20Z", "message": "remove newline"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cd5f4481a4fecd4601ba1ba392774da2573bd3b5", "author": {"user": {"login": "noerog", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/commit/cd5f4481a4fecd4601ba1ba392774da2573bd3b5", "committedDate": "2020-05-12T20:10:35Z", "message": "fix some paths for dataset and HL7v2 IAM methods"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEwNDA2OTcx", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/2870#pullrequestreview-410406971", "createdAt": "2020-05-12T20:43:37Z", "commit": {"oid": "cd5f4481a4fecd4601ba1ba392774da2573bd3b5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8c0d63dbf4e6b3e72664ffca555d1ca0ec13e8be", "author": {"user": {"login": "noerog", "name": null}}, "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/commit/8c0d63dbf4e6b3e72664ffca555d1ca0ec13e8be", "committedDate": "2020-05-12T22:18:30Z", "message": "fix lint"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDExMTg0Nzg5", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/2870#pullrequestreview-411184789", "createdAt": "2020-05-13T18:20:42Z", "commit": {"oid": "cd5f4481a4fecd4601ba1ba392774da2573bd3b5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 716, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}