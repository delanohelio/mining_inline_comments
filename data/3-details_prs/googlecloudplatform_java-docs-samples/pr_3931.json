{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTAxNzI3NTI4", "number": 3931, "title": "Vulnerability notification example", "bodyText": "Fixes #issue\n\nIt's a good idea to open an issue first for discussion.\n\n\n I have followed Sample Format Guide\n pom.xml parent set to latest shared-configuration\n Appropriate changes to README are included in PR\n API's need to be enabled to test (tell us)\n Environment Variables need to be set (ask us to set them)\n Tests pass:   mvn clean verify required\n Lint  passes: mvn -P lint checkstyle:check required\n Static Analysis:  mvn -P lint clean compile pmd:cpd-check spotbugs:check advisory only\n Please merge this PR for me once it is approved.", "createdAt": "2020-10-12T18:03:28Z", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/3931", "merged": true, "mergeCommit": {"oid": "65e5669a8ee5395bd8b383375a08048b08f9a858"}, "closed": true, "closedAt": "2020-10-12T21:48:46Z", "author": {"login": "saturnism"}, "timelineItems": {"totalCount": 15, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdR2SK0AH2gAyNTAxNzI3NTI4OjljMDEwZTIwZDAyMDJmOGExNDdiMmRmYjhhNDQ3ZTk5NmIyZjgxMzQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdR7ISeAFqTUwNjkzNzY5NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "9c010e20d0202f8a147b2dfb8a447e996b2f8134", "author": {"user": {"login": "saturnism", "name": "Ray Tsang"}}, "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/commit/9c010e20d0202f8a147b2dfb8a447e996b2f8134", "committedDate": "2020-10-12T16:08:40Z", "message": "added vulnerability notification example"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ccbce3385b6db504cf960c0cca914dd513bff5cd", "author": {"user": {"login": "saturnism", "name": "Ray Tsang"}}, "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/commit/ccbce3385b6db504cf960c0cca914dd513bff5cd", "committedDate": "2020-10-12T16:44:57Z", "message": "fixed issues"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c4c9b909d75bfebdc2c8991201992904aab313fb", "author": {"user": {"login": "saturnism", "name": "Ray Tsang"}}, "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/commit/c4c9b909d75bfebdc2c8991201992904aab313fb", "committedDate": "2020-10-12T18:01:38Z", "message": "updated"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1dd178c9df375fd28273f8ce6a5d304bb357e1be", "author": {"user": {"login": "saturnism", "name": "Ray Tsang"}}, "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/commit/1dd178c9df375fd28273f8ce6a5d304bb357e1be", "committedDate": "2020-10-12T18:01:48Z", "message": "Merge remote-tracking branch 'upstream/master' into vulnerability"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "96fe82014285e59c756ee687bb8c3b731d0394c7", "author": {"user": {"login": "saturnism", "name": "Ray Tsang"}}, "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/commit/96fe82014285e59c756ee687bb8c3b731d0394c7", "committedDate": "2020-10-12T18:02:53Z", "message": "lint"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA2ODIwNTg2", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/3931#pullrequestreview-506820586", "createdAt": "2020-10-12T18:05:46Z", "commit": {"oid": "96fe82014285e59c756ee687bb8c3b731d0394c7"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMlQxODowNTo0N1rOHgIblQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMlQxODowNTo0N1rOHgIblQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzQ1NDYxMw==", "bodyText": "We try to stay away from this stuff.", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/3931#discussion_r503454613", "createdAt": "2020-10-12T18:05:47Z", "author": {"login": "lesv"}, "path": "container-registry/vulnerability-notification-function/.mvn/wrapper/MavenWrapperDownloader.java", "diffHunk": "@@ -0,0 +1,117 @@\n+/*", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "96fe82014285e59c756ee687bb8c3b731d0394c7"}, "originalPosition": 1}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA2ODIwOTIw", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/3931#pullrequestreview-506820920", "createdAt": "2020-10-12T18:06:23Z", "commit": {"oid": "96fe82014285e59c756ee687bb8c3b731d0394c7"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMlQxODowNjoyM1rOHgIcjg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMlQxODowNjoyM1rOHgIcjg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzQ1NDg2Mg==", "bodyText": "Is there a reason you are putting a seperate license here?  It isn't nescessary or appropiate.", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/3931#discussion_r503454862", "createdAt": "2020-10-12T18:06:23Z", "author": {"login": "lesv"}, "path": "container-registry/vulnerability-notification-function/LICENSE", "diffHunk": "@@ -0,0 +1,201 @@\n+                                 Apache License", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "96fe82014285e59c756ee687bb8c3b731d0394c7"}, "originalPosition": 1}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA2ODIxNDQ3", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/3931#pullrequestreview-506821447", "createdAt": "2020-10-12T18:07:24Z", "commit": {"oid": "96fe82014285e59c756ee687bb8c3b731d0394c7"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMlQxODowNzoyNVrOHgIeWQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMlQxODowNzoyNVrOHgIeWQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzQ1NTMyMQ==", "bodyText": "just use mvn, assume they have the right version.  It's how our things work.", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/3931#discussion_r503455321", "createdAt": "2020-10-12T18:07:25Z", "author": {"login": "lesv"}, "path": "container-registry/vulnerability-notification-function/README.md", "diffHunk": "@@ -0,0 +1,59 @@\n+## Introduction \n+This is an example Google Cloud Function that can listen to Pub/Sub events from\n+[Container Analysis](https://cloud.google.com/container-registry/docs/container-analysis)'\n+[Vulnerability Scanning](https://cloud.google.com/container-registry/docs/vulnerability-scanning) feature,\n+and create an log entry so that you can use Log-based Metrics to create a Cloud Ops Alert, and\n+send a notification when new container image vulnerability is detected.\n+\n+In general, this is how it works:\n+1. [Enable Container Analysis API](https://cloud.google.com/container-registry/docs/enabling-disabling-container-analysis)\n+1. This will also automatically create Pub/Sub topics to publish scanning results\n+1. [Occurrences](https://cloud.google.com/container-registry/docs/metadata-storage#occurrence) (vulnerabilities on an image) is published to the `container-analysis-occurrences-v1` topic\n+1. Deploy a Function that analyzes the notification, and print the result to log\n+1. Create a Log-based metrics, and extract the `Image` name, `CVE`, and `Severity`\n+1. Create an alert policy on this metrics, and count the vulnerabilities grouped by the image name\n+1. FInally, you can configure a [notification channel](https://cloud.google.com/monitoring/support/notification-options) to get notified\n+\n+## Detailed Steps\n+Enable Container Analysis:\n+```\n+gcloud services enable containeranalysis.googleapis.com\n+```\n+\n+Build and Deploy this function:\n+```\n+./mvnw package", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "96fe82014285e59c756ee687bb8c3b731d0394c7"}, "originalPosition": 25}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA2ODIxNjE0", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/3931#pullrequestreview-506821614", "createdAt": "2020-10-12T18:07:44Z", "commit": {"oid": "96fe82014285e59c756ee687bb8c3b731d0394c7"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMlQxODowNzo0NFrOHgIezg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMlQxODoxMDowN1rOHgIi8w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzQ1NTQzOA==", "bodyText": "mvn", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/3931#discussion_r503455438", "createdAt": "2020-10-12T18:07:44Z", "author": {"login": "lesv"}, "path": "container-registry/vulnerability-notification-function/README.md", "diffHunk": "@@ -0,0 +1,59 @@\n+## Introduction \n+This is an example Google Cloud Function that can listen to Pub/Sub events from\n+[Container Analysis](https://cloud.google.com/container-registry/docs/container-analysis)'\n+[Vulnerability Scanning](https://cloud.google.com/container-registry/docs/vulnerability-scanning) feature,\n+and create an log entry so that you can use Log-based Metrics to create a Cloud Ops Alert, and\n+send a notification when new container image vulnerability is detected.\n+\n+In general, this is how it works:\n+1. [Enable Container Analysis API](https://cloud.google.com/container-registry/docs/enabling-disabling-container-analysis)\n+1. This will also automatically create Pub/Sub topics to publish scanning results\n+1. [Occurrences](https://cloud.google.com/container-registry/docs/metadata-storage#occurrence) (vulnerabilities on an image) is published to the `container-analysis-occurrences-v1` topic\n+1. Deploy a Function that analyzes the notification, and print the result to log\n+1. Create a Log-based metrics, and extract the `Image` name, `CVE`, and `Severity`\n+1. Create an alert policy on this metrics, and count the vulnerabilities grouped by the image name\n+1. FInally, you can configure a [notification channel](https://cloud.google.com/monitoring/support/notification-options) to get notified\n+\n+## Detailed Steps\n+Enable Container Analysis:\n+```\n+gcloud services enable containeranalysis.googleapis.com\n+```\n+\n+Build and Deploy this function:\n+```\n+./mvnw package\n+\n+gcloud functions deploy vulnerability-function \\\n+  --entry-point com.example.containeranalysis.VulnerabilityFunction \\\n+  --runtime java11 \\\n+  --trigger-topic container-analysis-occurrences-v1 \\\n+  --memory 512MB\n+```\n+\n+Deploy the Log-based Metrics configuration:\n+```\n+gcloud beta logging metrics create container-vulnerability \\\n+  --config-from-file=cloudops/container-analysis-metrics.yaml\n+```\n+\n+Deploy the Alert Policy configuration:\n+```\n+gcloud alpha monitoring policies create \\\n+  --policy-from-file=cloudops/vulnerability-policy.yaml\n+```\n+\n+This configuration doesn't configure any notification channels. To get notified via e-mail, or Slack\n+see [Manging notification channels documentation](https://cloud.google.com/monitoring/support/notification-options).\n+\n+## Development\n+Run Locally:\n+```\n+./mvnw function:run", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "96fe82014285e59c756ee687bb8c3b731d0394c7"}, "originalPosition": 52}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzQ1NTQ4Mw==", "bodyText": "mvn", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/3931#discussion_r503455483", "createdAt": "2020-10-12T18:07:51Z", "author": {"login": "lesv"}, "path": "container-registry/vulnerability-notification-function/README.md", "diffHunk": "@@ -0,0 +1,59 @@\n+## Introduction \n+This is an example Google Cloud Function that can listen to Pub/Sub events from\n+[Container Analysis](https://cloud.google.com/container-registry/docs/container-analysis)'\n+[Vulnerability Scanning](https://cloud.google.com/container-registry/docs/vulnerability-scanning) feature,\n+and create an log entry so that you can use Log-based Metrics to create a Cloud Ops Alert, and\n+send a notification when new container image vulnerability is detected.\n+\n+In general, this is how it works:\n+1. [Enable Container Analysis API](https://cloud.google.com/container-registry/docs/enabling-disabling-container-analysis)\n+1. This will also automatically create Pub/Sub topics to publish scanning results\n+1. [Occurrences](https://cloud.google.com/container-registry/docs/metadata-storage#occurrence) (vulnerabilities on an image) is published to the `container-analysis-occurrences-v1` topic\n+1. Deploy a Function that analyzes the notification, and print the result to log\n+1. Create a Log-based metrics, and extract the `Image` name, `CVE`, and `Severity`\n+1. Create an alert policy on this metrics, and count the vulnerabilities grouped by the image name\n+1. FInally, you can configure a [notification channel](https://cloud.google.com/monitoring/support/notification-options) to get notified\n+\n+## Detailed Steps\n+Enable Container Analysis:\n+```\n+gcloud services enable containeranalysis.googleapis.com\n+```\n+\n+Build and Deploy this function:\n+```\n+./mvnw package\n+\n+gcloud functions deploy vulnerability-function \\\n+  --entry-point com.example.containeranalysis.VulnerabilityFunction \\\n+  --runtime java11 \\\n+  --trigger-topic container-analysis-occurrences-v1 \\\n+  --memory 512MB\n+```\n+\n+Deploy the Log-based Metrics configuration:\n+```\n+gcloud beta logging metrics create container-vulnerability \\\n+  --config-from-file=cloudops/container-analysis-metrics.yaml\n+```\n+\n+Deploy the Alert Policy configuration:\n+```\n+gcloud alpha monitoring policies create \\\n+  --policy-from-file=cloudops/vulnerability-policy.yaml\n+```\n+\n+This configuration doesn't configure any notification channels. To get notified via e-mail, or Slack\n+see [Manging notification channels documentation](https://cloud.google.com/monitoring/support/notification-options).\n+\n+## Development\n+Run Locally:\n+```\n+./mvnw function:run\n+```\n+\n+Build:\n+```\n+./mvnw clean package", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "96fe82014285e59c756ee687bb8c3b731d0394c7"}, "originalPosition": 57}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzQ1NTY3Mg==", "bodyText": "does this need a newline?", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/3931#discussion_r503455672", "createdAt": "2020-10-12T18:08:20Z", "author": {"login": "lesv"}, "path": "container-registry/vulnerability-notification-function/cloudops/container-analysis-metrics.yaml", "diffHunk": "@@ -0,0 +1,19 @@\n+name: container-vulnerability\n+description: Container Analysis Vulnerability\n+filter: 'resource.type=\"cloud_function\" resource.labels.function_name=\"occurrences-consumer\" textPayload: \"Image: \"'\n+labelExtractors:\n+  cve: 'REGEXP_EXTRACT(textPayload, \"CVE: (.*), Severity\")'\n+  image: 'REGEXP_EXTRACT(textPayload, \"Image: (.*), CVE:\")'\n+  severity: 'REGEXP_EXTRACT(textPayload, \"Severity: (.*)\")'\n+metricDescriptor:\n+  description: Container Analysis Vulnerability\n+  labels:\n+    - description: CVE\n+      key: cve\n+    - description: Severity\n+      key: severity\n+    - description: Image Name\n+      key: image\n+  metricKind: DELTA\n+  unit: '1'\n+  valueType: INT64", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "96fe82014285e59c756ee687bb8c3b731d0394c7"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzQ1NTc1MQ==", "bodyText": "newline?", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/3931#discussion_r503455751", "createdAt": "2020-10-12T18:08:31Z", "author": {"login": "lesv"}, "path": "container-registry/vulnerability-notification-function/cloudops/vulnerability-policy.yaml", "diffHunk": "@@ -0,0 +1,20 @@\n+displayName: Container Vulnerability Detected\n+combiner: OR\n+conditions:\n+  - conditionThreshold:\n+      aggregations:\n+        - alignmentPeriod: 60s\n+          crossSeriesReducer: REDUCE_COUNT\n+          groupByFields:\n+            - metric.label.image\n+          perSeriesAligner: ALIGN_COUNT\n+      comparison: COMPARISON_GT\n+      duration: 60s\n+      filter: metric.type=\"logging.googleapis.com/user/container-vulnerability\" resource.type=\"cloud_function\"\n+      trigger:\n+        count: 1\n+    displayName: Container Vulnerability by Image [COUNT]\n+documentation:\n+  content: Container Image ${metric.label.image} has N vulnerabilities!\n+  mimeType: text/markdown\n+enabled: true", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "96fe82014285e59c756ee687bb8c3b731d0394c7"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzQ1NTkzNQ==", "bodyText": "skip this.", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/3931#discussion_r503455935", "createdAt": "2020-10-12T18:08:53Z", "author": {"login": "lesv"}, "path": "container-registry/vulnerability-notification-function/mvnw", "diffHunk": "@@ -0,0 +1,310 @@\n+#!/bin/sh", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "96fe82014285e59c756ee687bb8c3b731d0394c7"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzQ1NjAwMw==", "bodyText": "skip this", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/3931#discussion_r503456003", "createdAt": "2020-10-12T18:09:02Z", "author": {"login": "lesv"}, "path": "container-registry/vulnerability-notification-function/mvnw.cmd", "diffHunk": "@@ -0,0 +1,182 @@\n+@REM ----------------------------------------------------------------------------", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "96fe82014285e59c756ee687bb8c3b731d0394c7"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzQ1NjEwNg==", "bodyText": "license?", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/3931#discussion_r503456106", "createdAt": "2020-10-12T18:09:15Z", "author": {"login": "lesv"}, "path": "container-registry/vulnerability-notification-function/pom.xml", "diffHunk": "@@ -0,0 +1,90 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "96fe82014285e59c756ee687bb8c3b731d0394c7"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzQ1NjMzNg==", "bodyText": "a bit old", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/3931#discussion_r503456336", "createdAt": "2020-10-12T18:09:46Z", "author": {"login": "lesv"}, "path": "container-registry/vulnerability-notification-function/pom.xml", "diffHunk": "@@ -0,0 +1,90 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n+  xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+  xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+  <modelVersion>4.0.0</modelVersion>\n+\n+  <parent>\n+    <groupId>com.google.cloud.samples</groupId>\n+    <artifactId>shared-configuration</artifactId>\n+    <version>1.0.21</version>\n+  </parent>\n+\n+  <groupId>com.google.containerregistry</groupId>\n+  <artifactId>containeranalysis-function</artifactId>\n+  <version>1.0</version>\n+  <name>container-analysis-function</name>\n+  <description>Container Analysis Function</description>\n+\n+  <properties>\n+    <maven.compiler.target>11</maven.compiler.target>\n+    <maven.compiler.source>11</maven.compiler.source>\n+  </properties>\n+\n+  <dependencies>\n+    <dependency>\n+      <groupId>com.google.cloud.functions</groupId>\n+      <artifactId>functions-framework-api</artifactId>\n+      <version>1.0.1</version>\n+      <scope>provided</scope>\n+    </dependency>\n+\n+    <dependency>\n+      <groupId>com.google.cloud</groupId>\n+      <artifactId>google-cloud-containeranalysis</artifactId>\n+    </dependency>\n+\n+    <dependency>\n+      <groupId>com.google.code.gson</groupId>\n+      <artifactId>gson</artifactId>\n+      <version>2.8.6</version>\n+    </dependency>\n+\n+    <dependency>\n+      <groupId>org.projectlombok</groupId>\n+      <artifactId>lombok</artifactId>\n+      <version>1.18.12</version>\n+    </dependency>\n+\n+    <dependency>\n+      <groupId>junit</groupId>\n+      <artifactId>junit</artifactId>\n+      <version>4.13</version>\n+      <scope>test</scope>\n+    </dependency>\n+\n+    <dependency>\n+      <groupId>org.mockito</groupId>\n+      <artifactId>mockito-core</artifactId>\n+      <version>3.4.0</version>\n+      <scope>test</scope>\n+    </dependency>\n+  </dependencies>\n+\n+  <dependencyManagement>\n+    <dependencies>\n+      <dependency>\n+        <groupId>com.google.cloud</groupId>\n+        <artifactId>libraries-bom</artifactId>\n+        <version>8.1.0</version>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "96fe82014285e59c756ee687bb8c3b731d0394c7"}, "originalPosition": 69}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzQ1NjQ5OQ==", "bodyText": "this may be old as well.", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/3931#discussion_r503456499", "createdAt": "2020-10-12T18:10:07Z", "author": {"login": "lesv"}, "path": "container-registry/vulnerability-notification-function/pom.xml", "diffHunk": "@@ -0,0 +1,90 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n+  xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+  xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+  <modelVersion>4.0.0</modelVersion>\n+\n+  <parent>\n+    <groupId>com.google.cloud.samples</groupId>\n+    <artifactId>shared-configuration</artifactId>\n+    <version>1.0.21</version>\n+  </parent>\n+\n+  <groupId>com.google.containerregistry</groupId>\n+  <artifactId>containeranalysis-function</artifactId>\n+  <version>1.0</version>\n+  <name>container-analysis-function</name>\n+  <description>Container Analysis Function</description>\n+\n+  <properties>\n+    <maven.compiler.target>11</maven.compiler.target>\n+    <maven.compiler.source>11</maven.compiler.source>\n+  </properties>\n+\n+  <dependencies>\n+    <dependency>\n+      <groupId>com.google.cloud.functions</groupId>\n+      <artifactId>functions-framework-api</artifactId>\n+      <version>1.0.1</version>\n+      <scope>provided</scope>\n+    </dependency>\n+\n+    <dependency>\n+      <groupId>com.google.cloud</groupId>\n+      <artifactId>google-cloud-containeranalysis</artifactId>\n+    </dependency>\n+\n+    <dependency>\n+      <groupId>com.google.code.gson</groupId>\n+      <artifactId>gson</artifactId>\n+      <version>2.8.6</version>\n+    </dependency>\n+\n+    <dependency>\n+      <groupId>org.projectlombok</groupId>\n+      <artifactId>lombok</artifactId>\n+      <version>1.18.12</version>\n+    </dependency>\n+\n+    <dependency>\n+      <groupId>junit</groupId>\n+      <artifactId>junit</artifactId>\n+      <version>4.13</version>\n+      <scope>test</scope>\n+    </dependency>\n+\n+    <dependency>\n+      <groupId>org.mockito</groupId>\n+      <artifactId>mockito-core</artifactId>\n+      <version>3.4.0</version>\n+      <scope>test</scope>\n+    </dependency>\n+  </dependencies>\n+\n+  <dependencyManagement>\n+    <dependencies>\n+      <dependency>\n+        <groupId>com.google.cloud</groupId>\n+        <artifactId>libraries-bom</artifactId>\n+        <version>8.1.0</version>\n+        <type>pom</type>\n+        <scope>import</scope>\n+      </dependency>\n+    </dependencies>\n+  </dependencyManagement>\n+\n+  <build>\n+    <plugins>\n+      <plugin>\n+        <groupId>com.google.cloud.functions</groupId>\n+        <artifactId>function-maven-plugin</artifactId>\n+        <version>0.9.5</version>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "96fe82014285e59c756ee687bb8c3b731d0394c7"}, "originalPosition": 81}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e1d7577ebb1844461eedb068b7d5bdae52bccec5", "author": {"user": {"login": "saturnism", "name": "Ray Tsang"}}, "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/commit/e1d7577ebb1844461eedb068b7d5bdae52bccec5", "committedDate": "2020-10-12T18:38:18Z", "message": "upgraded libraries bom version"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "98fd067600c5febb2cb21f4935215971c647b892", "author": {"user": {"login": "saturnism", "name": "Ray Tsang"}}, "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/commit/98fd067600c5febb2cb21f4935215971c647b892", "committedDate": "2020-10-12T18:41:54Z", "message": "license"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA2ODkzOTMx", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/3931#pullrequestreview-506893931", "createdAt": "2020-10-12T20:25:31Z", "commit": {"oid": "98fd067600c5febb2cb21f4935215971c647b892"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ec3ffea210414987c5234dc7473ba7c541e38dd9", "author": {"user": {"login": "saturnism", "name": "Ray Tsang"}}, "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/commit/ec3ffea210414987c5234dc7473ba7c541e38dd9", "committedDate": "2020-10-12T21:28:02Z", "message": "removed mvnw and license file"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e8f855a42424898519244a21c9e52137475401e9", "author": {"user": {"login": "saturnism", "name": "Ray Tsang"}}, "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/commit/e8f855a42424898519244a21c9e52137475401e9", "committedDate": "2020-10-12T21:29:03Z", "message": "Updated README"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA2OTM3Njk0", "url": "https://github.com/GoogleCloudPlatform/java-docs-samples/pull/3931#pullrequestreview-506937694", "createdAt": "2020-10-12T21:47:24Z", "commit": {"oid": "e8f855a42424898519244a21c9e52137475401e9"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 467, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}