{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkyMzk1MjA4", "number": 679, "title": "ConceptMapMapping model improvements", "bodyText": "", "createdAt": "2020-09-24T11:59:04Z", "url": "https://github.com/b2ihealthcare/snow-owl/pull/679", "merged": true, "mergeCommit": {"oid": "cca274fda6aede72548ff7808afb9a1f325bd712"}, "closed": true, "closedAt": "2020-09-25T09:08:36Z", "author": {"login": "kovacstomi"}, "timelineItems": {"totalCount": 17, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdLaF2-AH2gAyNDkyMzk1MjA4OjQ0ZTNiNjA4NDhkMzA4OTg3Mzc0YzI1MDc3NTg2NWYwODQ0Y2U4NGQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdMSD-1AFqTQ5NjI0Mjg2Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "44e3b60848d308987374c250775865f0844ce84d", "author": {"user": {"login": "kovacstomi", "name": "Tam\u00e1s Kov\u00e1cs"}}, "url": "https://github.com/b2ihealthcare/snow-owl/commit/44e3b60848d308987374c250775865f0844ce84d", "committedDate": "2020-09-22T15:54:20Z", "message": "[conceptMap]: store container set uri as snomed concept"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d9148ac131bb5c50dc06ce974af9572a3ade07e5", "author": {"user": {"login": "kovacstomi", "name": "Tam\u00e1s Kov\u00e1cs"}}, "url": "https://github.com/b2ihealthcare/snow-owl/commit/d9148ac131bb5c50dc06ce974af9572a3ade07e5", "committedDate": "2020-09-23T09:53:23Z", "message": "Revert \"[conceptMap]: store container set uri as snomed concept\"\n\nThis reverts commit 44e3b60848d308987374c250775865f0844ce84d."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "72858543f0fc18b8c4e2e2c62792feb969a7b61a", "author": {"user": {"login": "kovacstomi", "name": "Tam\u00e1s Kov\u00e1cs"}}, "url": "https://github.com/b2ihealthcare/snow-owl/commit/72858543f0fc18b8c4e2e2c62792feb969a7b61a", "committedDate": "2020-09-23T10:03:30Z", "message": "[snomed] move SnomedDisplayTermType to snomed.core"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8a8a604c809fe4e5c96611e1eaa41d3f0546f5f1", "author": {"user": {"login": "kovacstomi", "name": "Tam\u00e1s Kov\u00e1cs"}}, "url": "https://github.com/b2ihealthcare/snow-owl/commit/8a8a604c809fe4e5c96611e1eaa41d3f0546f5f1", "committedDate": "2020-09-23T12:12:01Z", "message": "[conceptMap] add option to set preferred display to show"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2905a5fa76e6afedf8821f75855b794ac2173f28", "author": {"user": {"login": "kovacstomi", "name": "Tam\u00e1s Kov\u00e1cs"}}, "url": "https://github.com/b2ihealthcare/snow-owl/commit/2905a5fa76e6afedf8821f75855b794ac2173f28", "committedDate": "2020-09-23T12:27:02Z", "message": "[conceptMap] use the configured display term type"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b8152432be3166e251563abac7b5debfdb283113", "author": {"user": {"login": "kovacstomi", "name": "Tam\u00e1s Kov\u00e1cs"}}, "url": "https://github.com/b2ihealthcare/snow-owl/commit/b8152432be3166e251563abac7b5debfdb283113", "committedDate": "2020-09-23T13:04:01Z", "message": "[conceptMap] use the reference set's map target as term"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "629b59462214782ef64bee03092c880cb0a7a792", "author": {"user": {"login": "kovacstomi", "name": "Tam\u00e1s Kov\u00e1cs"}}, "url": "https://github.com/b2ihealthcare/snow-owl/commit/629b59462214782ef64bee03092c880cb0a7a792", "committedDate": "2020-09-23T22:20:00Z", "message": "[conceptMap] fetch reference set term to display on editor"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c88e70b5ab4d822bbc02445ec34243b69f639433", "author": {"user": {"login": "kovacstomi", "name": "Tam\u00e1s Kov\u00e1cs"}}, "url": "https://github.com/b2ihealthcare/snow-owl/commit/c88e70b5ab4d822bbc02445ec34243b69f639433", "committedDate": "2020-09-24T09:25:27Z", "message": "[conceptMap] add target/container icon id to model"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b3364c3154fe8d6bc2265e8aeedcbe968f25b56a", "author": {"user": {"login": "kovacstomi", "name": "Tam\u00e1s Kov\u00e1cs"}}, "url": "https://github.com/b2ihealthcare/snow-owl/commit/b3364c3154fe8d6bc2265e8aeedcbe968f25b56a", "committedDate": "2020-09-24T09:26:12Z", "message": "[conceptMap] fetch icon ids by SnomedConceptMapSearchRequestEvaluator"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cd38c8cfcc5c0f8a0a8ca9ceeeeef027734f4f99", "author": {"user": {"login": "kovacstomi", "name": "Tam\u00e1s Kov\u00e1cs"}}, "url": "https://github.com/b2ihealthcare/snow-owl/commit/cd38c8cfcc5c0f8a0a8ca9ceeeeef027734f4f99", "committedDate": "2020-09-24T10:41:28Z", "message": "[conceptMap] refactor code"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4a515669e39258f1bd089a9bd73f96aa6170afff", "author": {"user": {"login": "kovacstomi", "name": "Tam\u00e1s Kov\u00e1cs"}}, "url": "https://github.com/b2ihealthcare/snow-owl/commit/4a515669e39258f1bd089a9bd73f96aa6170afff", "committedDate": "2020-09-24T10:45:14Z", "message": "Merge remote-tracking branch 'origin/7.x' into issue/mappings-tab-bug-fixes"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk2MTcwODY5", "url": "https://github.com/b2ihealthcare/snow-owl/pull/679#pullrequestreview-496170869", "createdAt": "2020-09-25T07:23:59Z", "commit": {"oid": "4a515669e39258f1bd089a9bd73f96aa6170afff"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNVQwNzoyMzo1OVrOHX4Bww==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNVQwNzoyMzo1OVrOHX4Bww==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDc5NzI1MQ==", "bodyText": "This try-catch should be part of the SnomedDisplayTermType enum, unrecognized preferredDisplay strings should either:\n\nFail with a clear error message\nOr fall back to the FSN as default, PT might not be available and might not be appropriate to use", "url": "https://github.com/b2ihealthcare/snow-owl/pull/679#discussion_r494797251", "createdAt": "2020-09-25T07:23:59Z", "author": {"login": "cmark"}, "path": "snomed/com.b2international.snowowl.snomed.datastore/src/com/b2international/snowowl/snomed/datastore/request/SnomedConceptMapSearchRequestEvaluator.java", "diffHunk": "@@ -61,43 +63,77 @@\n \n \t@Override\n \tpublic ConceptMapMappings evaluate(CodeSystemURI uri, BranchContext context, Options search) {\n-\t\tSnomedReferenceSetMembers referenceSetMembers = fetchRefsetMembers(uri, context, search);\n-\t\treturn toCollectionResource(referenceSetMembers, uri, context, search);\n+\t\tfinal String preferredDisplay = search.get(OptionKey.DISPLAY, String.class);\n+\t\tSnomedDisplayTermType snomedDisplayTermType;\n+\t\ttry {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4a515669e39258f1bd089a9bd73f96aa6170afff"}, "originalPosition": 24}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b92f23918cd2cdc6da3db0dd09789006385a4a0b", "author": {"user": {"login": "kovacstomi", "name": "Tam\u00e1s Kov\u00e1cs"}}, "url": "https://github.com/b2ihealthcare/snow-owl/commit/b92f23918cd2cdc6da3db0dd09789006385a4a0b", "committedDate": "2020-09-25T07:27:17Z", "message": "Merge remote-tracking branch 'origin/7.x' into issue/mappings-tab-bug-fixes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fd57d0b45dc7b6ca814cba7571c28305cd254c81", "author": {"user": {"login": "kovacstomi", "name": "Tam\u00e1s Kov\u00e1cs"}}, "url": "https://github.com/b2ihealthcare/snow-owl/commit/fd57d0b45dc7b6ca814cba7571c28305cd254c81", "committedDate": "2020-09-25T07:41:43Z", "message": "[SnomedDisplayTermType] create custom method to get enum's value"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3a5b5683aa9a3642d80d8e6806faeaf5863bdb6a", "author": {"user": {"login": "kovacstomi", "name": "Tam\u00e1s Kov\u00e1cs"}}, "url": "https://github.com/b2ihealthcare/snow-owl/commit/3a5b5683aa9a3642d80d8e6806faeaf5863bdb6a", "committedDate": "2020-09-25T07:54:47Z", "message": "[SnomedDisplayTermType] return ID_ONLY enum when value is not found"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f9cc5e91b3efecb0daebb5dacd3c60b1772d6611", "author": {"user": {"login": "nagyo", "name": "G\u00e1bor Nagy"}}, "url": "https://github.com/b2ihealthcare/snow-owl/commit/f9cc5e91b3efecb0daebb5dacd3c60b1772d6611", "committedDate": "2020-09-25T08:58:50Z", "message": "Merge remote-tracking branch 'origin/7.x' into issue/mappings-tab-bug-fixes"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk2MjQyODYy", "url": "https://github.com/b2ihealthcare/snow-owl/pull/679#pullrequestreview-496242862", "createdAt": "2020-09-25T09:06:59Z", "commit": {"oid": "f9cc5e91b3efecb0daebb5dacd3c60b1772d6611"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4886, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}