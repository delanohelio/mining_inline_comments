{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTIxNzYwNjM5", "number": 715, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQxNjo1NzoyNFrOE5lRPQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOVQyMTo0Njo1OVrOE7Qe4A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI4ODE0OTA5OnYy", "diffSide": "RIGHT", "path": "core/com.b2international.snowowl.core/src/com/b2international/snowowl/core/request/ConceptMapMappingSearchRequestBuilder.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQxNjo1NzoyNFrOH0IJew==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOVQyMTo0Njo0MFrOH2zKOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDQyMTQ5OQ==", "bodyText": "I would add a String argument version as well, just to make it easier to filter without parsing into a bunch of ComponentURIs.", "url": "https://github.com/b2ihealthcare/snow-owl/pull/715#discussion_r524421499", "createdAt": "2020-11-16T16:57:24Z", "author": {"login": "cmark"}, "path": "core/com.b2international.snowowl.core/src/com/b2international/snowowl/core/request/ConceptMapMappingSearchRequestBuilder.java", "diffHunk": "@@ -53,12 +54,8 @@ public ConceptMapMappingSearchRequestBuilder filterByMapTargets(Iterable<String>\n \t\treturn addOption(OptionKey.MAP_TARGET, mapTargets);\n \t}\n \t\n-\tpublic ConceptMapMappingSearchRequestBuilder filterByComponentId(String componentId) {\n-\t\treturn addOption(OptionKey.COMPONENT, componentId);\n-\t}\n-\t\n-\tpublic ConceptMapMappingSearchRequestBuilder filterByComponentIds(Iterable<String> componentIds) {\n-\t\treturn addOption(OptionKey.COMPONENT, componentIds);\n+\tpublic ConceptMapMappingSearchRequestBuilder filterByComponentUri(ComponentURI uri) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "369cffa73672cb8d28c684406ccfaa23199da349"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzIyMzM1Mg==", "bodyText": "But you still parse it into ComponentURIs. That is not actually necessary since you will be deserializing into a String to match the field in the index. Could you please use raw Strings instead? Thanks!", "url": "https://github.com/b2ihealthcare/snow-owl/pull/715#discussion_r527223352", "createdAt": "2020-11-19T21:46:40Z", "author": {"login": "cmark"}, "path": "core/com.b2international.snowowl.core/src/com/b2international/snowowl/core/request/ConceptMapMappingSearchRequestBuilder.java", "diffHunk": "@@ -53,12 +54,8 @@ public ConceptMapMappingSearchRequestBuilder filterByMapTargets(Iterable<String>\n \t\treturn addOption(OptionKey.MAP_TARGET, mapTargets);\n \t}\n \t\n-\tpublic ConceptMapMappingSearchRequestBuilder filterByComponentId(String componentId) {\n-\t\treturn addOption(OptionKey.COMPONENT, componentId);\n-\t}\n-\t\n-\tpublic ConceptMapMappingSearchRequestBuilder filterByComponentIds(Iterable<String> componentIds) {\n-\t\treturn addOption(OptionKey.COMPONENT, componentIds);\n+\tpublic ConceptMapMappingSearchRequestBuilder filterByComponentUri(ComponentURI uri) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDQyMTQ5OQ=="}, "originalCommit": {"oid": "369cffa73672cb8d28c684406ccfaa23199da349"}, "originalPosition": 18}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI4ODE1MjMyOnYy", "diffSide": "RIGHT", "path": "snomed/com.b2international.snowowl.snomed.datastore/src/com/b2international/snowowl/snomed/datastore/request/SnomedConceptMapSearchRequestEvaluator.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQxNjo1ODowOFrOH0ILkw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQxNjo1ODowOFrOH0ILkw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDQyMjAzNQ==", "bodyText": "This option should still support multi-valued search.", "url": "https://github.com/b2ihealthcare/snow-owl/pull/715#discussion_r524422035", "createdAt": "2020-11-16T16:58:08Z", "author": {"login": "cmark"}, "path": "snomed/com.b2international.snowowl.snomed.datastore/src/com/b2international/snowowl/snomed/datastore/request/SnomedConceptMapSearchRequestEvaluator.java", "diffHunk": "@@ -264,7 +266,7 @@ private SnomedReferenceSetMembers fetchRefsetMembers(CodeSystemURI uri, BranchCo\n \t\tfinal String searchAfter = search.get(OptionKey.AFTER, String.class);\n \t\tfinal List<ExtendedLocale> locales = search.getList(OptionKey.LOCALES, ExtendedLocale.class);\n \t\tfinal Collection<String> referencedComponentIds = search.containsKey(OptionKey.REFERENCED_COMPONENT) ? search.getCollection(OptionKey.REFERENCED_COMPONENT, String.class) : null;\n-\t\tfinal Collection<String> componentIds = search.containsKey(OptionKey.COMPONENT) ? search.getCollection(OptionKey.COMPONENT, String.class) : null;\n+\t\tfinal ComponentURI componentUri = search.containsKey(OptionKey.COMPONENT_URI) ? search.get(OptionKey.COMPONENT_URI, ComponentURI.class) : null;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "369cffa73672cb8d28c684406ccfaa23199da349"}, "originalPosition": 50}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMwNTcxNDg4OnYy", "diffSide": "RIGHT", "path": "snomed/com.b2international.snowowl.snomed.datastore/src/com/b2international/snowowl/snomed/datastore/request/SnomedRefSetMemberSearchRequestBuilder.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOVQyMTo0Njo1OVrOH2zK5Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOVQyMTo0Njo1OVrOH2zK5Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzIyMzUyNQ==", "bodyText": "Same here.", "url": "https://github.com/b2ihealthcare/snow-owl/pull/715#discussion_r527223525", "createdAt": "2020-11-19T21:46:59Z", "author": {"login": "cmark"}, "path": "snomed/com.b2international.snowowl.snomed.datastore/src/com/b2international/snowowl/snomed/datastore/request/SnomedRefSetMemberSearchRequestBuilder.java", "diffHunk": "@@ -91,11 +92,19 @@ public SnomedRefSetMemberSearchRequestBuilder filterByReferencedComponentTypes(I\n \t\treturn addOption(OptionKey.REFERENCED_COMPONENT_TYPE, referencedComponentTypes);\n \t}\n \t\n+\tpublic SnomedRefSetMemberSearchRequestBuilder filterByComponentUri(String uri) {\n+\t\treturn filterByComponentUri(ComponentURI.of(uri));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1b4a3215fbd0ed298546fa61bfb54b4266c0fb27"}, "originalPosition": 13}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1626, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}