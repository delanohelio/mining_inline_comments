{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTAxMTE3MTU2", "number": 690, "title": "Configurable bulk commits", "bodyText": "This PR makes it possible to configure the previously hardcoded 10_000 bulk action items and 10MB bulk action item size in MB used during commit operations. Configuring the two values are important when working with Elasticsearch clusters with restricted HTTP body sizes (like AWS Elasticsearch service).", "createdAt": "2020-10-11T10:44:40Z", "url": "https://github.com/b2ihealthcare/snow-owl/pull/690", "merged": true, "mergeCommit": {"oid": "29830f1abb01c241c0a9f649a82adeaaf272d01a"}, "closed": true, "closedAt": "2020-10-12T11:48:40Z", "author": {"login": "cmark"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdRc-_3AH2gAyNTAxMTE3MTU2OmY2NjI0YjA4NDZkMzk4MWJhMmI3ODM0YzFjNDkyOTE1NDUwNzIzZjM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdRyaA-gH2gAyNTAxMTE3MTU2OjZmMTgzYjdjZTlmMTAwMjBjNTU4ZTlkMzQ4MDBhYmRjZTY4MTVhYzg=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "f6624b0846d3981ba2b7834c1c492915450723f3", "author": {"user": {"login": "cmark", "name": "Mark Czotter"}}, "url": "https://github.com/b2ihealthcare/snow-owl/commit/f6624b0846d3981ba2b7834c1c492915450723f3", "committedDate": "2020-10-11T10:40:06Z", "message": "[index] make bulk commits configurable"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA2NDE1MTc5", "url": "https://github.com/b2ihealthcare/snow-owl/pull/690#pullrequestreview-506415179", "createdAt": "2020-10-12T08:45:54Z", "commit": {"oid": "f6624b0846d3981ba2b7834c1c492915450723f3"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMlQwODo0NTo1NVrOHf08pw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMlQwODo0NTo1NVrOHf08pw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzEzNTM5OQ==", "bodyText": "I'm wondering if we should go a under the posted limit, in case the final request size goes over 10 MB with some overhead not accounted for. \ud83e\udd14\nFor future reference: https://docs.aws.amazon.com/elasticsearch-service/latest/developerguide/aes-limits.html#network-limits", "url": "https://github.com/b2ihealthcare/snow-owl/pull/690#discussion_r503135399", "createdAt": "2020-10-12T08:45:55Z", "author": {"login": "apeteri"}, "path": "commons/com.b2international.index/src/com/b2international/index/IndexClientFactory.java", "diffHunk": "@@ -158,6 +168,10 @@\n \t * The default cluster.name value for embedded nodes and tcp based clients.\n \t */\n \tString DEFAULT_CLUSTER_NAME = \"elastic-snowowl\";\n+\t\n+\tint DEFAULT_BULK_ACTIONS_SIZE = 10_000;\n+\t\t\t\n+\tint DEFAULT_BULK_ACTIONS_SIZE_IN_MB = 10;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f6624b0846d3981ba2b7834c1c492915450723f3"}, "originalPosition": 24}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6f183b7ce9f10020c558e9d34800abdce6815ac8", "author": {"user": {"login": "cmark", "name": "Mark Czotter"}}, "url": "https://github.com/b2ihealthcare/snow-owl/commit/6f183b7ce9f10020c558e9d34800abdce6815ac8", "committedDate": "2020-10-12T11:37:37Z", "message": "[index] set default outgoing bulk size to 9 MB"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4898, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}