{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAzOTAxMTE2", "number": 535, "title": "Export test failure investigation", "bodyText": "", "createdAt": "2020-04-15T17:46:37Z", "url": "https://github.com/b2ihealthcare/snow-owl/pull/535", "merged": true, "mergeCommit": {"oid": "b3f3ad8a2f76255dbc672d31818a81610ff80cab"}, "closed": true, "closedAt": "2020-04-30T08:51:33Z", "author": {"login": "cmark"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcX6TAwAH2gAyNDAzOTAxMTE2OmIxMTJjYmJmZjAyYmRiYmIxYzg2M2U1ZmE2ODVlMGViZTFmMzIzZDc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABccpIa6AH2gAyNDAzOTAxMTE2OjEyYzM1NTc0MDZmZTY4YmE5NWRmYmJiZDY3NWJkNDQxZWI5ZGNlN2M=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "b112cbbff02bdbbb1c863e5fa685e0ebe1f323d7", "author": {"user": {"login": "cmark", "name": "Mark Czotter"}}, "url": "https://github.com/b2ihealthcare/snow-owl/commit/b112cbbff02bdbbb1c863e5fa685e0ebe1f323d7", "committedDate": "2020-04-15T16:01:36Z", "message": "[core] remove duplicate ExportResult object\n\nUse Attachment instead."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b9ebc7fa443fef70706b086243dfeb6df969fb3e", "author": {"user": {"login": "cmark", "name": "Mark Czotter"}}, "url": "https://github.com/b2ihealthcare/snow-owl/commit/b9ebc7fa443fef70706b086243dfeb6df969fb3e", "committedDate": "2020-04-15T17:45:36Z", "message": "[tests] add syserr calls to trace RF2 export test failures...\n\n...on Travis and Github Actions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "13ffcc6b5667af31b93eb580d998e6702026f8b9", "author": {"user": {"login": "cmark", "name": "Mark Czotter"}}, "url": "https://github.com/b2ihealthcare/snow-owl/commit/13ffcc6b5667af31b93eb580d998e6702026f8b9", "committedDate": "2020-04-15T18:38:34Z", "message": "[export] trigger another build by adding more systrace"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5fda9a065fb2d94f34dd30703cef6443c075e46e", "author": {"user": {"login": "cmark", "name": "Mark Czotter"}}, "url": "https://github.com/b2ihealthcare/snow-owl/commit/5fda9a065fb2d94f34dd30703cef6443c075e46e", "committedDate": "2020-04-15T18:43:40Z", "message": "[tests] add assertions to verify that RF2 package does exist...\n\n...before verifying its contents"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAzMzA5NDgw", "url": "https://github.com/b2ihealthcare/snow-owl/pull/535#pullrequestreview-403309480", "createdAt": "2020-04-30T08:30:32Z", "commit": {"oid": "5fda9a065fb2d94f34dd30703cef6443c075e46e"}, "state": "APPROVED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQwODozMDozMlrOGOfKmQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQwODozMDo0NlrOGOfLHA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzg0Mzg2NQ==", "bodyText": "\ud83d\udccc Diagnostic output should be removed once we find the issue", "url": "https://github.com/b2ihealthcare/snow-owl/pull/535#discussion_r417843865", "createdAt": "2020-04-30T08:30:32Z", "author": {"login": "apeteri"}, "path": "snomed/com.b2international.snowowl.snomed.datastore/src/com/b2international/snowowl/snomed/datastore/request/rf2/SnomedRf2ExportRequest.java", "diffHunk": "@@ -971,6 +971,7 @@ private void registerResult(final AttachmentRegistry fileRegistry, final UUID ex\n \t}\n \n \tprivate static long getCutoffBaseTimestamp(final RepositoryContext context, final Branch cutoffBranch, final String versionParentPath) {\n+\t\tSystem.err.println(\"SnomedRf2ExportRequest.getCutoffBaseTimestamp(): branch[\" + cutoffBranch.path() + \"], branchParentPath: [\" + cutoffBranch.parentPath() +  \"], versionParentPath: [\" + versionParentPath + \"]\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5fda9a065fb2d94f34dd30703cef6443c075e46e"}, "originalPosition": 64}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzg0MzkzMQ==", "bodyText": "\ud83d\udccc Diagnostic output should be removed once we find the issue", "url": "https://github.com/b2ihealthcare/snow-owl/pull/535#discussion_r417843931", "createdAt": "2020-04-30T08:30:39Z", "author": {"login": "apeteri"}, "path": "snomed/com.b2international.snowowl.snomed.datastore/src/com/b2international/snowowl/snomed/datastore/request/rf2/SnomedRf2ExportRequest.java", "diffHunk": "@@ -993,13 +994,15 @@ private static long getCutoffBaseTimestamp(final RepositoryContext context, fina\n \t}\n \n \tprivate static Branch getBranch(final RepositoryContext context, final String path) {\n+\t\tSystem.err.println(\"SnomedRf2ExportRequest.getBranch(): \" + path);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5fda9a065fb2d94f34dd30703cef6443c075e46e"}, "originalPosition": 72}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzg0Mzk5Ng==", "bodyText": "\ud83d\udccc Diagnostic output should be removed once we find the issue", "url": "https://github.com/b2ihealthcare/snow-owl/pull/535#discussion_r417843996", "createdAt": "2020-04-30T08:30:46Z", "author": {"login": "apeteri"}, "path": "snomed/com.b2international.snowowl.snomed.datastore/src/com/b2international/snowowl/snomed/datastore/request/rf2/SnomedRf2ExportRequest.java", "diffHunk": "@@ -993,13 +994,15 @@ private static long getCutoffBaseTimestamp(final RepositoryContext context, fina\n \t}\n \n \tprivate static Branch getBranch(final RepositoryContext context, final String path) {\n+\t\tSystem.err.println(\"SnomedRf2ExportRequest.getBranch(): \" + path);\n \t\treturn RepositoryRequests.branching()\n \t\t\t\t.prepareGet(path)\n \t\t\t\t.build()\n \t\t\t\t.execute(context);\n \t}\n \n \tprivate static Branches getBranches(final RepositoryContext context, final String parent, final Collection<String> paths) {\n+\t\tSystem.err.println(\"SnomedRf2ExportRequest.getBranches(): \" + parent + \", paths: \" + paths + \"\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5fda9a065fb2d94f34dd30703cef6443c075e46e"}, "originalPosition": 80}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "12c3557406fe68ba95dfbbbd675bd441eb9dce7c", "author": {"user": {"login": "cmark", "name": "Mark Czotter"}}, "url": "https://github.com/b2ihealthcare/snow-owl/commit/12c3557406fe68ba95dfbbbd675bd441eb9dce7c", "committedDate": "2020-04-30T08:51:16Z", "message": "[core] fix spurious javadoc"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4955, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}