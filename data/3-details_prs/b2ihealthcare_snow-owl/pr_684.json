{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk3OTEwNzA4", "number": 684, "title": "SO-4243: Improve automapping lexical search", "bodyText": "", "createdAt": "2020-10-05T14:49:52Z", "url": "https://github.com/b2ihealthcare/snow-owl/pull/684", "merged": true, "mergeCommit": {"oid": "255a1db1e9ade5cb07f0e4f0f11f0fd2a8c389f8"}, "closed": true, "closedAt": "2020-10-17T12:30:29Z", "author": {"login": "kovacstomi"}, "timelineItems": {"totalCount": 18, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdOoCUxgH2gAyNDk3OTEwNzA4OmZjMzczMDEwMzk5MGE3YmUxZDc2N2M5NDZlYmYzMjczNjUxYzkyNGM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdTaKGzAFqTUxMDk4MjM1MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "fc3730103990a7be1d767c946ebf3273651c924c", "author": {"user": {"login": "kovacstomi", "name": "Tam\u00e1s Kov\u00e1cs"}}, "url": "https://github.com/b2ihealthcare/snow-owl/commit/fc3730103990a7be1d767c946ebf3273651c924c", "committedDate": "2020-10-02T15:50:55Z", "message": "SO-4243: add minTermMatch field to SearchResourceRequest"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cd7d4c310506053ffb3e85bac5139d6ad98a4545", "author": {"user": {"login": "kovacstomi", "name": "Tam\u00e1s Kov\u00e1cs"}}, "url": "https://github.com/b2ihealthcare/snow-owl/commit/cd7d4c310506053ffb3e85bac5139d6ad98a4545", "committedDate": "2020-10-02T15:52:05Z", "message": "SO-4243: add expression to filter on any field value"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6e14222eb6aa76b2d527b48b7bc87b5af2506b66", "author": {"user": {"login": "kovacstomi", "name": "Tam\u00e1s Kov\u00e1cs"}}, "url": "https://github.com/b2ihealthcare/snow-owl/commit/6e14222eb6aa76b2d527b48b7bc87b5af2506b66", "committedDate": "2020-10-05T07:44:02Z", "message": "SO-4243: set default minTermMatch to 0"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3551b2af537ea48b12b512955a3fc594a4a3f122", "author": {"user": {"login": "kovacstomi", "name": "Tam\u00e1s Kov\u00e1cs"}}, "url": "https://github.com/b2ihealthcare/snow-owl/commit/3551b2af537ea48b12b512955a3fc594a4a3f122", "committedDate": "2020-10-05T08:08:31Z", "message": "SO-4243: add fuzzy search option"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d9c5c5cb99166e5e2347fa9ab00936f227f8f3a3", "author": {"user": {"login": "kovacstomi", "name": "Tam\u00e1s Kov\u00e1cs"}}, "url": "https://github.com/b2ihealthcare/snow-owl/commit/d9c5c5cb99166e5e2347fa9ab00936f227f8f3a3", "committedDate": "2020-10-05T08:32:34Z", "message": "SO-4243: add fuzzy expression to RevisionDocument"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "61701bb45bd06c217f8b2274ab5445485b223b07", "author": {"user": {"login": "kovacstomi", "name": "Tam\u00e1s Kov\u00e1cs"}}, "url": "https://github.com/b2ihealthcare/snow-owl/commit/61701bb45bd06c217f8b2274ab5445485b223b07", "committedDate": "2020-10-05T08:32:50Z", "message": "SO-4243: rename fuzzy -> useFuzzy"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dd58880887a0d87aa9ddb709b55adc4405fae81e", "author": {"user": {"login": "kovacstomi", "name": "Tam\u00e1s Kov\u00e1cs"}}, "url": "https://github.com/b2ihealthcare/snow-owl/commit/dd58880887a0d87aa9ddb709b55adc4405fae81e", "committedDate": "2020-10-05T09:08:39Z", "message": "SO-4243: Add fuzzy option to ConceptSearchRequest"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e23078331b9203ce21023d9193066ac8418a3c20", "author": {"user": {"login": "kovacstomi", "name": "Tam\u00e1s Kov\u00e1cs"}}, "url": "https://github.com/b2ihealthcare/snow-owl/commit/e23078331b9203ce21023d9193066ac8418a3c20", "committedDate": "2020-10-05T09:30:30Z", "message": "SO-4243: Add default method to process term filters"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e415e9774426929fa3296f917d294e0fdc6cb6d0", "author": {"user": {"login": "kovacstomi", "name": "Tam\u00e1s Kov\u00e1cs"}}, "url": "https://github.com/b2ihealthcare/snow-owl/commit/e415e9774426929fa3296f917d294e0fdc6cb6d0", "committedDate": "2020-10-05T09:30:46Z", "message": "SO-4243: Add fuzzy search"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b34b4cfc359e9f71ced4dea72ef18071502c87f8", "author": {"user": {"login": "kovacstomi", "name": "Tam\u00e1s Kov\u00e1cs"}}, "url": "https://github.com/b2ihealthcare/snow-owl/commit/b34b4cfc359e9f71ced4dea72ef18071502c87f8", "committedDate": "2020-10-05T09:33:21Z", "message": "SO-4243: fix getting integer"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2c0238116a6cedeb96a7dbb41f4e3b990990c762", "author": {"user": {"login": "kovacstomi", "name": "Tam\u00e1s Kov\u00e1cs"}}, "url": "https://github.com/b2ihealthcare/snow-owl/commit/2c0238116a6cedeb96a7dbb41f4e3b990990c762", "committedDate": "2020-10-05T13:23:23Z", "message": "SO-4243: set max_gram to 10"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA2MTcxOTU4", "url": "https://github.com/b2ihealthcare/snow-owl/pull/684#pullrequestreview-506171958", "createdAt": "2020-10-11T11:52:19Z", "commit": {"oid": "2c0238116a6cedeb96a7dbb41f4e3b990990c762"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMVQxMTo1MjoxOVrOHfm6SA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMVQxMTo1NzowMVrOHfm8Lg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjkwNTQxNg==", "bodyText": "These are just proxies over the Expressions class static method, they do not add actual value to the RevisionDocument, please remove these and use the Expressions methods directly instead.", "url": "https://github.com/b2ihealthcare/snow-owl/pull/684#discussion_r502905416", "createdAt": "2020-10-11T11:52:19Z", "author": {"login": "cmark"}, "path": "core/com.b2international.snowowl.core/src/com/b2international/snowowl/core/repository/RevisionDocument.java", "diffHunk": "@@ -54,6 +56,14 @@ public static Expression idPrefix(String idPrefix) {\n \t\tpublic static Expression idRegex(String idRegex) {\n \t\t\treturn regexp(Fields.ID, idRegex);\n \t\t}\n+\t\t\n+\t\tpublic static Expression anyFieldValuePresent(final String field, final String value, final int minShouldMatch) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2c0238116a6cedeb96a7dbb41f4e3b990990c762"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjkwNTcxNQ==", "bodyText": "These new fields should be part of the options map instead. The others will be part of the options map later, but for now, please move these new fields inside the option map, you can use a new local OptionKey to access them and provide the same accessors as for the other fields.", "url": "https://github.com/b2ihealthcare/snow-owl/pull/684#discussion_r502905715", "createdAt": "2020-10-11T11:55:33Z", "author": {"login": "cmark"}, "path": "core/com.b2international.snowowl.core/src/com/b2international/snowowl/core/request/SearchResourceRequest.java", "diffHunk": "@@ -212,10 +212,15 @@ public String toString() {\n \t\n \t@Min(0)\n \tprivate int limit;\n+\t\n+\t@Min(0)\n+\tprivate int minTermMatch;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2c0238116a6cedeb96a7dbb41f4e3b990990c762"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjkwNTkwMg==", "bodyText": "What does the default value 0 mean? How can I ensure my search does not use this feature? What happens with existing searches that use this generic API?", "url": "https://github.com/b2ihealthcare/snow-owl/pull/684#discussion_r502905902", "createdAt": "2020-10-11T11:57:01Z", "author": {"login": "cmark"}, "path": "core/com.b2international.snowowl.core/src/com/b2international/snowowl/core/request/SearchResourceRequestBuilder.java", "diffHunk": "@@ -42,6 +42,10 @@\n \t\n \tprivate int limit = 50;\n \t\n+\tprivate int minTermMatch = 0;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2c0238116a6cedeb96a7dbb41f4e3b990990c762"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cb21698394498b51a9bf7367f2b454fac28ff6ad", "author": {"user": {"login": "kovacstomi", "name": "Tam\u00e1s Kov\u00e1cs"}}, "url": "https://github.com/b2ihealthcare/snow-owl/commit/cb21698394498b51a9bf7367f2b454fac28ff6ad", "committedDate": "2020-10-12T08:36:03Z", "message": "Merge remote-tracking branch 'origin/7.x' into issue/SO-4243-automapping-issue"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "39c1f8d562a6b985427a070d88b5c0f5f327c4d3", "author": {"user": {"login": "kovacstomi", "name": "Tam\u00e1s Kov\u00e1cs"}}, "url": "https://github.com/b2ihealthcare/snow-owl/commit/39c1f8d562a6b985427a070d88b5c0f5f327c4d3", "committedDate": "2020-10-12T09:54:51Z", "message": "SO-4349: fix PR"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA5Mzg5MDE4", "url": "https://github.com/b2ihealthcare/snow-owl/pull/684#pullrequestreview-509389018", "createdAt": "2020-10-15T13:39:07Z", "commit": {"oid": "39c1f8d562a6b985427a070d88b5c0f5f327c4d3"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQxMzozOTowN1rOHiITFQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQxMzozOTowN1rOHiITFQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTU0OTU4OQ==", "bodyText": "Throw a BadRequestException if minTermMatch is less than or equals to 0.", "url": "https://github.com/b2ihealthcare/snow-owl/pull/684#discussion_r505549589", "createdAt": "2020-10-15T13:39:07Z", "author": {"login": "cmark"}, "path": "core/com.b2international.snowowl.core/src/com/b2international/snowowl/core/request/SearchResourceRequestBuilder.java", "diffHunk": "@@ -151,7 +147,9 @@ public final B one() {\n \t * @return this builder instance\n \t */\n \tpublic final B withMinTermMatch(int minTermMatch) {\n-\t\tthis.minTermMatch = minTermMatch;\n+\t\tif (minTermMatch > 0) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "39c1f8d562a6b985427a070d88b5c0f5f327c4d3"}, "originalPosition": 16}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3ee3068c92a837d1d973c99e2d7267e86c137d14", "author": {"user": {"login": "cmark", "name": "Mark Czotter"}}, "url": "https://github.com/b2ihealthcare/snow-owl/commit/3ee3068c92a837d1d973c99e2d7267e86c137d14", "committedDate": "2020-10-17T12:26:26Z", "message": "[index] store only prefix length of 2->12 from a given word"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "14e6ff1bbcc0fe28e63ac41449bab0a0175667c6", "author": {"user": {"login": "cmark", "name": "Mark Czotter"}}, "url": "https://github.com/b2ihealthcare/snow-owl/commit/14e6ff1bbcc0fe28e63ac41449bab0a0175667c6", "committedDate": "2020-10-17T12:29:46Z", "message": "SO-4243: throw BadRequestException when minTermMatch is less than 1"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEwOTgyMzUw", "url": "https://github.com/b2ihealthcare/snow-owl/pull/684#pullrequestreview-510982350", "createdAt": "2020-10-17T12:30:22Z", "commit": {"oid": "14e6ff1bbcc0fe28e63ac41449bab0a0175667c6"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4892, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}