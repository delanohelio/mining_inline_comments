{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDUxNDk3NTAy", "number": 8373, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQxMjoyNToxN1rOEQJeaQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QxMzowMTo1MVrOERcDDw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg1MzY3OTEzOnYy", "diffSide": "RIGHT", "path": "textarea/elfinder-sakai/src/webapp/WEB-INF/applicationContext.xml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQxMjoyNToxN1rOG0JhLQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQxMjoyNToxN1rOG0JhLQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzMzNTA4NQ==", "bodyText": "These comments can be removed now. The samigo provider is now in samigo, and I'll refactor the SCORM one to live in the contrib project, so there won't be a need to add them here any more!", "url": "https://github.com/sakaiproject/sakai/pull/8373#discussion_r457335085", "createdAt": "2020-07-20T12:25:17Z", "author": {"login": "bjones86"}, "path": "textarea/elfinder-sakai/src/webapp/WEB-INF/applicationContext.xml", "diffHunk": "@@ -5,54 +5,51 @@\n \n \t<!-- FsService is often retrieved from HttpRequest -->\n \t<!-- while a static FsService is defined here -->\n-\t<bean id=\"fsServiceFactory\" class=\"org.sakaiproject.elfinder.impl.SakaiFsServiceFactory\">\n-\t\t<property name=\"fsService\">\n-\t\t\t<bean class=\"org.sakaiproject.elfinder.sakai.SakaiFsService\">\n-\t\t\t\t<property name=\"contentHostingService\" ref=\"org.sakaiproject.content.api.ContentHostingService\"/>\n-\t\t\t\t<property name=\"siteService\" ref=\"org.sakaiproject.site.api.SiteService\"/>\n-\t\t\t\t<property name=\"userDirectoryService\" ref=\"org.sakaiproject.user.api.UserDirectoryService\"/>\n-\t\t\t\t<property name=\"securityChecker\">\n-\t\t\t\t\t<bean class=\"org.sakaiproject.elfinder.impl.SakaiFsSecurityChecker\"/>\n-\t\t\t\t</property>\n-\t\t\t\t<property name=\"toolVolume\">\n-\t\t\t\t\t<set>\n-\t\t\t\t\t\t<bean class=\"org.sakaiproject.elfinder.sakai.content.ContentSiteVolumeFactory\">\n-\t\t\t\t\t\t\t<property name=\"contentHostingService\" ref=\"org.sakaiproject.content.api.ContentHostingService\"/>\n-\t\t\t\t\t\t\t<property name=\"siteService\" ref=\"org.sakaiproject.site.api.SiteService\"/>\n-\t\t\t\t\t\t\t<property name=\"securityService\" ref=\"org.sakaiproject.authz.api.SecurityService\"/>\n-\t\t\t\t\t\t\t<property name=\"userDirectoryService\" ref=\"org.sakaiproject.user.api.UserDirectoryService\"/>\n-\t\t\t\t\t\t\t<property name=\"threadLocalManager\" ref=\"org.sakaiproject.thread_local.api.ThreadLocalManager\"/>\n-\t\t\t\t\t\t</bean>\n-\t\t\t\t\t\t<bean class=\"org.sakaiproject.elfinder.sakai.content.DropboxSiteVolumeFactory\">\n-\t\t\t\t\t\t\t<property name=\"contentHostingService\" ref=\"org.sakaiproject.content.api.ContentHostingService\"/>\n-\t\t\t\t\t\t\t<property name=\"siteService\" ref=\"org.sakaiproject.site.api.SiteService\"/>\n-\t\t\t\t\t\t\t<property name=\"securityService\" ref=\"org.sakaiproject.authz.api.SecurityService\"/>\n-\t\t\t\t\t\t\t<property name=\"userDirectoryService\" ref=\"org.sakaiproject.user.api.UserDirectoryService\"/>\n-\t\t\t\t\t\t\t<property name=\"threadLocalManager\" ref=\"org.sakaiproject.thread_local.api.ThreadLocalManager\"/>\n-\t\t\t\t\t\t</bean>\n-\t\t\t\t\t\t<bean class=\"org.sakaiproject.elfinder.sakai.msgcntr.MsgCntrSiteVolumeFactory\">\n-\t\t\t\t\t\t\t<property name=\"discussionForumManager\" ref=\"org.sakaiproject.api.app.messageforums.ui.DiscussionForumManager\"/>\n-\t\t\t\t\t\t\t<property name=\"messageForumsForumManager\" ref=\"org.sakaiproject.api.app.messageforums.MessageForumsForumManager\"/>\n-\t\t\t\t\t\t\t<property name=\"uiPermissionsManager\" ref=\"org.sakaiproject.api.app.messageforums.ui.UIPermissionsManager\"/>\n-\t\t\t\t\t\t\t<property name=\"userDirectoryService\" ref=\"org.sakaiproject.user.api.UserDirectoryService\"/>\n-\t\t\t\t\t\t\t<property name=\"serverConfigurationService\" ref=\"org.sakaiproject.component.api.ServerConfigurationService\"/>\n-\t\t\t\t\t\t</bean>\n-\n-\t\t\t\t\t\t<bean class=\"org.sakaiproject.elfinder.sakai.assignment.AssignmentSiteVolumeFactory\">\n-\t\t\t\t\t\t\t<property name=\"assignmentService\" ref=\"org.sakaiproject.assignment.api.AssignmentService\"/>\n-\t\t\t\t\t\t\t<property name=\"userDirectoryService\" ref=\"org.sakaiproject.user.api.UserDirectoryService\"/>\n-\t\t\t\t\t\t\t<property name=\"serverConfigurationService\" ref=\"org.sakaiproject.component.api.ServerConfigurationService\"/>\n-\t\t\t\t\t\t</bean>\n-\t\t\t\t\t\t<bean class=\"org.sakaiproject.elfinder.sakai.samigo.SamSiteVolumeFactory\">\n-\t\t\t\t\t\t\t<property name=\"publishedAssessmentService\" >\n-\t\t\t\t\t\t\t\t<bean class=\"org.sakaiproject.tool.assessment.services.assessment.PublishedAssessmentService\"/>\n-\t\t\t\t\t\t\t</property>\n-\t\t\t\t\t\t\t<property name=\"serverConfigurationService\" ref=\"org.sakaiproject.component.api.ServerConfigurationService\"/>\n+\t<bean id=\"fsServiceFactory\"\n+\t\t  class=\"org.sakaiproject.elfinder.impl.SakaiFsServiceFactory\">\n+\t\t<property name=\"fsService\" ref=\"org.sakaiproject.elfinder.impl.SakaiFsServiceAdapter\"/>\n+\t</bean>\n \n-\t\t\t\t\t\t</bean>\n-\t\t\t\t\t</set>\n-\t\t\t\t</property>\n-\t\t\t</bean>\n+\t<bean id=\"org.sakaiproject.elfinder.impl.SakaiFsServiceAdapter\"\n+\t\t  class=\"org.sakaiproject.elfinder.impl.FsServiceAdapter\">\n+\t\t<property name=\"sakaiFsService\" ref=\"org.sakaiproject.elfinder.SakaiFsService\"/>\n+\t\t<property name=\"securityChecker\">\n+\t\t\t<bean class=\"org.sakaiproject.elfinder.impl.SakaiFsSecurityChecker\"/>\n+\t\t</property>\n+\t\t<property name=\"fsServiceConfig\">\n+\t\t\t<bean class=\"org.sakaiproject.elfinder.impl.SakaiFsServiceConfig\"/>\n \t\t</property>\n \t</bean>\n+\n+<!--\t<bean id=\"org.sakaiproject.elfinder.sakai.msgcntr.MsgCntrSiteVolume\"-->\n+<!--\t\t  class=\"org.sakaiproject.elfinder.sakai.msgcntr.MsgCntrSiteVolumeFactory\"-->\n+<!--\t\t  init-method=\"init\">-->\n+<!--\t\t<property name=\"discussionForumManager\" ref=\"org.sakaiproject.api.app.messageforums.ui.DiscussionForumManager\"/>-->\n+<!--\t\t<property name=\"messageForumsForumManager\" ref=\"org.sakaiproject.api.app.messageforums.MessageForumsForumManager\"/>-->\n+<!--\t\t<property name=\"sakaiFsService\" ref=\"org.sakaiproject.elfinder.sakai.SakaiFsService\"/>-->\n+<!--\t\t<property name=\"serverConfigurationService\" ref=\"org.sakaiproject.component.api.ServerConfigurationService\"/>-->\n+<!--\t\t<property name=\"uiPermissionsManager\" ref=\"org.sakaiproject.api.app.messageforums.ui.UIPermissionsManager\"/>-->\n+<!--\t\t<property name=\"userDirectoryService\" ref=\"org.sakaiproject.user.api.UserDirectoryService\"/>-->\n+<!--\t</bean>-->\n+\n+<!--\t<bean id=\"org.sakaiproject.elfinder.sakai.samigo.SamSiteVolume\"-->\n+<!--\t\t  class=\"org.sakaiproject.elfinder.sakai.samigo.SamSiteVolumeFactory\"-->\n+<!--\t\t  init-method=\"init\">-->\n+<!--\t\t<property name=\"publishedAssessmentService\" >-->\n+<!--\t\t\t<bean class=\"org.sakaiproject.tool.assessment.services.assessment.PublishedAssessmentService\"/>-->\n+<!--\t\t</property>-->\n+<!--\t\t<property name=\"sakaiFsService\" ref=\"org.sakaiproject.elfinder.sakai.SakaiFsService\"/>-->\n+<!--\t\t<property name=\"serverConfigurationService\" ref=\"org.sakaiproject.component.api.ServerConfigurationService\"/>-->\n+<!--\t</bean>-->\n+\n+\t<!-- Uncomment the following bean definition to enable entity linking to SCORM Player modules. -->\n+\t<!-- NOTE: this requires the SCORM Player project to be build and deployed to your Tomcat. -->\n+\t<!--<bean class=\"org.sakaiproject.elfinder.sakai.scorm.ScormSiteVolumeFactory\">\n+        <property name=\"serverConfigurationService\" ref=\"org.sakaiproject.component.api.ServerConfigurationService\" />\n+        <property name=\"contentHostingService\" ref=\"org.sakaiproject.content.api.ContentHostingService\"/>\n+        <property name=\"securityService\" ref=\"org.sakaiproject.authz.api.SecurityService\"/>\n+        <property name=\"siteService\" ref=\"org.sakaiproject.site.api.SiteService\" />\n+        <property name=\"scormContentService\" ref=\"org.sakaiproject.scorm.service.api.ScormContentService\" />\n+    </bean>-->\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "24919bd8cb23c23306e678fe24ea1809d22747d3"}, "originalPosition": 97}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg1MzY5MDc2OnYy", "diffSide": "RIGHT", "path": "textarea/elfinder-sakai/src/webapp/WEB-INF/applicationContext.xml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQxMjoyNzo1NFrOG0Jnxg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQxMjoyNzo1NFrOG0Jnxg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzMzNjc3NA==", "bodyText": "I noticed the forums/msg providers were removed rather than moved. Just wondering if this was intentional?\nEither way I think this comment can be removed.", "url": "https://github.com/sakaiproject/sakai/pull/8373#discussion_r457336774", "createdAt": "2020-07-20T12:27:54Z", "author": {"login": "bjones86"}, "path": "textarea/elfinder-sakai/src/webapp/WEB-INF/applicationContext.xml", "diffHunk": "@@ -5,54 +5,51 @@\n \n \t<!-- FsService is often retrieved from HttpRequest -->\n \t<!-- while a static FsService is defined here -->\n-\t<bean id=\"fsServiceFactory\" class=\"org.sakaiproject.elfinder.impl.SakaiFsServiceFactory\">\n-\t\t<property name=\"fsService\">\n-\t\t\t<bean class=\"org.sakaiproject.elfinder.sakai.SakaiFsService\">\n-\t\t\t\t<property name=\"contentHostingService\" ref=\"org.sakaiproject.content.api.ContentHostingService\"/>\n-\t\t\t\t<property name=\"siteService\" ref=\"org.sakaiproject.site.api.SiteService\"/>\n-\t\t\t\t<property name=\"userDirectoryService\" ref=\"org.sakaiproject.user.api.UserDirectoryService\"/>\n-\t\t\t\t<property name=\"securityChecker\">\n-\t\t\t\t\t<bean class=\"org.sakaiproject.elfinder.impl.SakaiFsSecurityChecker\"/>\n-\t\t\t\t</property>\n-\t\t\t\t<property name=\"toolVolume\">\n-\t\t\t\t\t<set>\n-\t\t\t\t\t\t<bean class=\"org.sakaiproject.elfinder.sakai.content.ContentSiteVolumeFactory\">\n-\t\t\t\t\t\t\t<property name=\"contentHostingService\" ref=\"org.sakaiproject.content.api.ContentHostingService\"/>\n-\t\t\t\t\t\t\t<property name=\"siteService\" ref=\"org.sakaiproject.site.api.SiteService\"/>\n-\t\t\t\t\t\t\t<property name=\"securityService\" ref=\"org.sakaiproject.authz.api.SecurityService\"/>\n-\t\t\t\t\t\t\t<property name=\"userDirectoryService\" ref=\"org.sakaiproject.user.api.UserDirectoryService\"/>\n-\t\t\t\t\t\t\t<property name=\"threadLocalManager\" ref=\"org.sakaiproject.thread_local.api.ThreadLocalManager\"/>\n-\t\t\t\t\t\t</bean>\n-\t\t\t\t\t\t<bean class=\"org.sakaiproject.elfinder.sakai.content.DropboxSiteVolumeFactory\">\n-\t\t\t\t\t\t\t<property name=\"contentHostingService\" ref=\"org.sakaiproject.content.api.ContentHostingService\"/>\n-\t\t\t\t\t\t\t<property name=\"siteService\" ref=\"org.sakaiproject.site.api.SiteService\"/>\n-\t\t\t\t\t\t\t<property name=\"securityService\" ref=\"org.sakaiproject.authz.api.SecurityService\"/>\n-\t\t\t\t\t\t\t<property name=\"userDirectoryService\" ref=\"org.sakaiproject.user.api.UserDirectoryService\"/>\n-\t\t\t\t\t\t\t<property name=\"threadLocalManager\" ref=\"org.sakaiproject.thread_local.api.ThreadLocalManager\"/>\n-\t\t\t\t\t\t</bean>\n-\t\t\t\t\t\t<bean class=\"org.sakaiproject.elfinder.sakai.msgcntr.MsgCntrSiteVolumeFactory\">\n-\t\t\t\t\t\t\t<property name=\"discussionForumManager\" ref=\"org.sakaiproject.api.app.messageforums.ui.DiscussionForumManager\"/>\n-\t\t\t\t\t\t\t<property name=\"messageForumsForumManager\" ref=\"org.sakaiproject.api.app.messageforums.MessageForumsForumManager\"/>\n-\t\t\t\t\t\t\t<property name=\"uiPermissionsManager\" ref=\"org.sakaiproject.api.app.messageforums.ui.UIPermissionsManager\"/>\n-\t\t\t\t\t\t\t<property name=\"userDirectoryService\" ref=\"org.sakaiproject.user.api.UserDirectoryService\"/>\n-\t\t\t\t\t\t\t<property name=\"serverConfigurationService\" ref=\"org.sakaiproject.component.api.ServerConfigurationService\"/>\n-\t\t\t\t\t\t</bean>\n-\n-\t\t\t\t\t\t<bean class=\"org.sakaiproject.elfinder.sakai.assignment.AssignmentSiteVolumeFactory\">\n-\t\t\t\t\t\t\t<property name=\"assignmentService\" ref=\"org.sakaiproject.assignment.api.AssignmentService\"/>\n-\t\t\t\t\t\t\t<property name=\"userDirectoryService\" ref=\"org.sakaiproject.user.api.UserDirectoryService\"/>\n-\t\t\t\t\t\t\t<property name=\"serverConfigurationService\" ref=\"org.sakaiproject.component.api.ServerConfigurationService\"/>\n-\t\t\t\t\t\t</bean>\n-\t\t\t\t\t\t<bean class=\"org.sakaiproject.elfinder.sakai.samigo.SamSiteVolumeFactory\">\n-\t\t\t\t\t\t\t<property name=\"publishedAssessmentService\" >\n-\t\t\t\t\t\t\t\t<bean class=\"org.sakaiproject.tool.assessment.services.assessment.PublishedAssessmentService\"/>\n-\t\t\t\t\t\t\t</property>\n-\t\t\t\t\t\t\t<property name=\"serverConfigurationService\" ref=\"org.sakaiproject.component.api.ServerConfigurationService\"/>\n+\t<bean id=\"fsServiceFactory\"\n+\t\t  class=\"org.sakaiproject.elfinder.impl.SakaiFsServiceFactory\">\n+\t\t<property name=\"fsService\" ref=\"org.sakaiproject.elfinder.impl.SakaiFsServiceAdapter\"/>\n+\t</bean>\n \n-\t\t\t\t\t\t</bean>\n-\t\t\t\t\t</set>\n-\t\t\t\t</property>\n-\t\t\t</bean>\n+\t<bean id=\"org.sakaiproject.elfinder.impl.SakaiFsServiceAdapter\"\n+\t\t  class=\"org.sakaiproject.elfinder.impl.FsServiceAdapter\">\n+\t\t<property name=\"sakaiFsService\" ref=\"org.sakaiproject.elfinder.SakaiFsService\"/>\n+\t\t<property name=\"securityChecker\">\n+\t\t\t<bean class=\"org.sakaiproject.elfinder.impl.SakaiFsSecurityChecker\"/>\n+\t\t</property>\n+\t\t<property name=\"fsServiceConfig\">\n+\t\t\t<bean class=\"org.sakaiproject.elfinder.impl.SakaiFsServiceConfig\"/>\n \t\t</property>\n \t</bean>\n+\n+<!--\t<bean id=\"org.sakaiproject.elfinder.sakai.msgcntr.MsgCntrSiteVolume\"-->\n+<!--\t\t  class=\"org.sakaiproject.elfinder.sakai.msgcntr.MsgCntrSiteVolumeFactory\"-->\n+<!--\t\t  init-method=\"init\">-->\n+<!--\t\t<property name=\"discussionForumManager\" ref=\"org.sakaiproject.api.app.messageforums.ui.DiscussionForumManager\"/>-->\n+<!--\t\t<property name=\"messageForumsForumManager\" ref=\"org.sakaiproject.api.app.messageforums.MessageForumsForumManager\"/>-->\n+<!--\t\t<property name=\"sakaiFsService\" ref=\"org.sakaiproject.elfinder.sakai.SakaiFsService\"/>-->\n+<!--\t\t<property name=\"serverConfigurationService\" ref=\"org.sakaiproject.component.api.ServerConfigurationService\"/>-->\n+<!--\t\t<property name=\"uiPermissionsManager\" ref=\"org.sakaiproject.api.app.messageforums.ui.UIPermissionsManager\"/>-->\n+<!--\t\t<property name=\"userDirectoryService\" ref=\"org.sakaiproject.user.api.UserDirectoryService\"/>-->\n+<!--\t</bean>-->", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "24919bd8cb23c23306e678fe24ea1809d22747d3"}, "originalPosition": 76}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg2NzIwNzgzOnYy", "diffSide": "RIGHT", "path": "kernel/api/src/main/java/org/sakaiproject/elfinder/FsType.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QxMzowMTo1MVrOG2Ja6g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QxMzowMTo1MVrOG2Ja6g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTQzMDYzNA==", "bodyText": "Thanks for putting this here for me :)", "url": "https://github.com/sakaiproject/sakai/pull/8373#discussion_r459430634", "createdAt": "2020-07-23T13:01:51Z", "author": {"login": "bjones86"}, "path": "kernel/api/src/main/java/org/sakaiproject/elfinder/FsType.java", "diffHunk": "@@ -0,0 +1,26 @@\n+package org.sakaiproject.elfinder;\n+\n+/**\n+ * This is an enumeration of sakai fs types\n+ * In the future making this a dynamic enumeration will better support registration\n+ */\n+public enum FsType {\n+    ASSESSMENT(\"assessment\"),\n+    ASSIGNMENT(\"assignment\"),\n+    CONTENT(\"content\"),\n+    DROPBOX(\"dropbox\"),\n+    FORUMS_FORUM(\"forum\"),\n+    FORUMS_TOPIC(\"topic\"),\n+    SCORM(\"scorm\"),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0299ce1aa87d46801e68318d8e970a0ec9d9a30e"}, "originalPosition": 14}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2772, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}