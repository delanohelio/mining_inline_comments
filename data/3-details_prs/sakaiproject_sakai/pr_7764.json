{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYyNDczNjAz", "number": 7764, "title": "SAK-43000 Give assessment settings expand/collapse all functions consistent icons and highlighting", "bodyText": "https://jira.sakaiproject.org/browse/SAK-43000\nMenus that are open will have arrows pointing down, and are highlighted. Menus that are closed will have arrows pointed to the right - unhighlighted. Expand and collapse all buttons will consistently open / close / highlight", "createdAt": "2020-01-14T06:49:53Z", "url": "https://github.com/sakaiproject/sakai/pull/7764", "merged": true, "mergeCommit": {"oid": "9708e85f2a6ef64a66f06264cec14c7b32bb096a"}, "closed": true, "closedAt": "2020-09-04T18:19:55Z", "author": {"login": "brickatyourfeet"}, "timelineItems": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb6TJ-tAFqTM0MjY0NDU2MA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdFpYN8gFqTQ4Mjg2MTY4OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQyNjQ0NTYw", "url": "https://github.com/sakaiproject/sakai/pull/7764#pullrequestreview-342644560", "createdAt": "2020-01-14T16:00:23Z", "commit": {"oid": "dad69c6c20fb1c55d1bdccfd5e784dd95e4ce64f"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNFQxNjowMDoyM1rOFdct-g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNFQxNjowMDo1N1rOFdcvSA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjQyMzU0Ng==", "bodyText": "Hi, this quotes are not right, they are french quotes, you need to update them, thanks :)", "url": "https://github.com/sakaiproject/sakai/pull/7764#discussion_r366423546", "createdAt": "2020-01-14T16:00:23Z", "author": {"login": "SedueRey"}, "path": "samigo/samigo-app/src/webapp/jsf/author/authorSettings.jsp", "diffHunk": "@@ -212,17 +212,21 @@\n         });\n \n         function expandAccordion(iframId){\n-\t\t\t$('.ui-accordion-content').show();\n+\t\t\t$(\u2018div#jqueryui-accordion > .ui-accordion-content\u2019).show();\n \t\t\tmySetMainFrameHeight(iframId);\n \t\t\t$(\"#collapseLink\").show();\n \t\t\t$(\"#expandLink\").hide();\n+\t\t\t$(\u201cdiv#jqueryui-accordion > h3.ui-accordion-header > span\u201d).removeClass(\u201cui-icon-triangle-1-e\u201d).addClass(\u201cui-icon-triangle-1-s\u201d);\n+\t\t\t$(\u201cdiv#jqueryui-accordion > h3.ui-accordion-header\u201d).addClass(\u201cui-accordion-header-active ui-state-active\u201d);\n \t\t}\n \n \t\tfunction collapseAccordion(iframId){\n \t\t\t$('.ui-accordion-content').hide();\n \t\t\tmySetMainFrameHeight(iframId);\n \t\t\t$(\"#collapseLink\").hide();\n \t\t\t$(\"#expandLink\").show();\n+\t\t\t$(\u201cdiv#jqueryui-accordion > h3.ui-accordion-header > span\u201d).removeClass(\u201cui-icon-triangle-1-s\u201d).addClass(\u201cui-icon-triangle-1-e\u201d);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dad69c6c20fb1c55d1bdccfd5e784dd95e4ce64f"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjQyMzY0Ng==", "bodyText": "Same here", "url": "https://github.com/sakaiproject/sakai/pull/7764#discussion_r366423646", "createdAt": "2020-01-14T16:00:33Z", "author": {"login": "SedueRey"}, "path": "samigo/samigo-app/src/webapp/jsf/author/authorSettings.jsp", "diffHunk": "@@ -212,17 +212,21 @@\n         });\n \n         function expandAccordion(iframId){\n-\t\t\t$('.ui-accordion-content').show();\n+\t\t\t$(\u2018div#jqueryui-accordion > .ui-accordion-content\u2019).show();\n \t\t\tmySetMainFrameHeight(iframId);\n \t\t\t$(\"#collapseLink\").show();\n \t\t\t$(\"#expandLink\").hide();\n+\t\t\t$(\u201cdiv#jqueryui-accordion > h3.ui-accordion-header > span\u201d).removeClass(\u201cui-icon-triangle-1-e\u201d).addClass(\u201cui-icon-triangle-1-s\u201d);\n+\t\t\t$(\u201cdiv#jqueryui-accordion > h3.ui-accordion-header\u201d).addClass(\u201cui-accordion-header-active ui-state-active\u201d);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dad69c6c20fb1c55d1bdccfd5e784dd95e4ce64f"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjQyMzg4MA==", "bodyText": "same here, all quotes in this are french.", "url": "https://github.com/sakaiproject/sakai/pull/7764#discussion_r366423880", "createdAt": "2020-01-14T16:00:57Z", "author": {"login": "SedueRey"}, "path": "samigo/samigo-app/src/webapp/jsf/author/publishedSettings.jsp", "diffHunk": "@@ -182,10 +182,12 @@\n           checkLastHandling();\n         });\n \t\tfunction expandAccordion(iframId){\n-\t\t\t$('.ui-accordion-content').show();\n+\t\t\t$(\u2018div#jqueryui-accordion > .ui-accordion-content\u2019).show();\n \t\t\tmySetMainFrameHeight(iframId);\n \t\t\t$(\"#collapseLink\").show();\n \t\t\t$(\"#expandLink\").hide();\n+\t\t\t$(\u201cdiv#jqueryui-accordion > h3.ui-accordion-header > span\u201d).removeClass(\u201cui-icon-triangle-1-e\u201d).addClass(\u201cui-icon-triangle-1-s\u201d);\n+\t\t\t$(\u201cdiv#jqueryui-accordion > h3.ui-accordion-header\u201d).addClass(\u201cui-accordion-header-active ui-state-active\u201d);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dad69c6c20fb1c55d1bdccfd5e784dd95e4ce64f"}, "originalPosition": 10}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQyNjU3MDIw", "url": "https://github.com/sakaiproject/sakai/pull/7764#pullrequestreview-342657020", "createdAt": "2020-01-14T16:16:24Z", "commit": {"oid": "dad69c6c20fb1c55d1bdccfd5e784dd95e4ce64f"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "dad69c6c20fb1c55d1bdccfd5e784dd95e4ce64f", "author": {"user": {"login": "brickatyourfeet", "name": "Kyle Braden"}}, "url": "https://github.com/sakaiproject/sakai/commit/dad69c6c20fb1c55d1bdccfd5e784dd95e4ce64f", "committedDate": "2020-01-14T06:44:05Z", "message": "SAK-43000 Give assessment settings expand/collapse all functions consistent icons and highlighting"}, "afterCommit": {"oid": "0c9174bed13a03bf127c7f58e772962c2068cfb1", "author": {"user": {"login": "brickatyourfeet", "name": "Kyle Braden"}}, "url": "https://github.com/sakaiproject/sakai/commit/0c9174bed13a03bf127c7f58e772962c2068cfb1", "committedDate": "2020-01-14T22:32:50Z", "message": "SAK-43000 Give assessment settings expand/collapse all functions consistent icons and highlighting"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ1NzYxMTA5", "url": "https://github.com/sakaiproject/sakai/pull/7764#pullrequestreview-345761109", "createdAt": "2020-01-21T10:10:18Z", "commit": {"oid": "0c9174bed13a03bf127c7f58e772962c2068cfb1"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMVQxMDoxMDoxOFrOFf0jXQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMVQxMDoxMDoxOFrOFf0jXQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODkxMTE5Nw==", "bodyText": "Why don't you change the icon in collapseAccordion here, too? Is there no need?", "url": "https://github.com/sakaiproject/sakai/pull/7764#discussion_r368911197", "createdAt": "2020-01-21T10:10:18Z", "author": {"login": "adrianfish"}, "path": "samigo/samigo-app/src/webapp/jsf/author/publishedSettings.jsp", "diffHunk": "@@ -182,10 +182,12 @@\n           checkLastHandling();\n         });\n \t\tfunction expandAccordion(iframId){\n-\t\t\t$('.ui-accordion-content').show();\n+\t\t\t$(\"div#jqueryui-accordion > .ui-accordion-content\").show();\n \t\t\tmySetMainFrameHeight(iframId);\n \t\t\t$(\"#collapseLink\").show();\n \t\t\t$(\"#expandLink\").hide();\n+\t\t\t$(\"div#jqueryui-accordion > h3.ui-accordion-header > span\").removeClass(\"ui-icon-triangle-1-e\").addClass(\"ui-icon-triangle-1-s\");\n+\t\t\t$(\"div#jqueryui-accordion > h3.ui-accordion-header\").addClass(\"ui-accordion-header-active ui-state-active\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0c9174bed13a03bf127c7f58e772962c2068cfb1"}, "originalPosition": 10}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ2NDg5NjI1", "url": "https://github.com/sakaiproject/sakai/pull/7764#pullrequestreview-346489625", "createdAt": "2020-01-22T10:38:03Z", "commit": {"oid": "0c9174bed13a03bf127c7f58e772962c2068cfb1"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ2NDk0OTUx", "url": "https://github.com/sakaiproject/sakai/pull/7764#pullrequestreview-346494951", "createdAt": "2020-01-22T10:46:48Z", "commit": {"oid": "0c9174bed13a03bf127c7f58e772962c2068cfb1"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMlQxMDo0Njo0OFrOFgXyvg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMlQxMDo0Njo0OFrOFgXyvg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTQ4ODU3NA==", "bodyText": "Ok, one more thing. I think you should move these functions into authoring.js. They are more or less identical. I know they weren't there in the first place, but it's a definite improvement in removing duplication. Never be afraid to improve code in the areas surrounding your bugfix.", "url": "https://github.com/sakaiproject/sakai/pull/7764#discussion_r369488574", "createdAt": "2020-01-22T10:46:48Z", "author": {"login": "adrianfish"}, "path": "samigo/samigo-app/src/webapp/jsf/author/publishedSettings.jsp", "diffHunk": "@@ -182,10 +182,12 @@\n           checkLastHandling();\n         });\n \t\tfunction expandAccordion(iframId){\n-\t\t\t$('.ui-accordion-content').show();\n+\t\t\t$(\"div#jqueryui-accordion > .ui-accordion-content\").show();\n \t\t\tmySetMainFrameHeight(iframId);\n \t\t\t$(\"#collapseLink\").show();\n \t\t\t$(\"#expandLink\").hide();\n+\t\t\t$(\"div#jqueryui-accordion > h3.ui-accordion-header > span\").removeClass(\"ui-icon-triangle-1-e\").addClass(\"ui-icon-triangle-1-s\");\n+\t\t\t$(\"div#jqueryui-accordion > h3.ui-accordion-header\").addClass(\"ui-accordion-header-active ui-state-active\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODkxMTE5Nw=="}, "originalCommit": {"oid": "0c9174bed13a03bf127c7f58e772962c2068cfb1"}, "originalPosition": 10}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0c9174bed13a03bf127c7f58e772962c2068cfb1", "author": {"user": {"login": "brickatyourfeet", "name": "Kyle Braden"}}, "url": "https://github.com/sakaiproject/sakai/commit/0c9174bed13a03bf127c7f58e772962c2068cfb1", "committedDate": "2020-01-14T22:32:50Z", "message": "SAK-43000 Give assessment settings expand/collapse all functions consistent icons and highlighting"}, "afterCommit": {"oid": "12ba8985d897d9c28575e3b104847cbdee4df88a", "author": {"user": {"login": "brickatyourfeet", "name": "Kyle Braden"}}, "url": "https://github.com/sakaiproject/sakai/commit/12ba8985d897d9c28575e3b104847cbdee4df88a", "committedDate": "2020-01-24T07:05:52Z", "message": "SAK-43000 Give assessment settings expand/collapse all functions consistent icons and highlighting"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ3ODYxMDY5", "url": "https://github.com/sakaiproject/sakai/pull/7764#pullrequestreview-347861069", "createdAt": "2020-01-24T10:21:14Z", "commit": {"oid": "12ba8985d897d9c28575e3b104847cbdee4df88a"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yNFQxMDoyMToxNFrOFhZWtw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yNFQxMDoyMToxNFrOFhZWtw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDU2Mjc0Mw==", "bodyText": "Have you taken them out of the jsp files? It looks to me like they're still there. You can remove them from there and the call will use the definition from authoring.js.", "url": "https://github.com/sakaiproject/sakai/pull/7764#discussion_r370562743", "createdAt": "2020-01-24T10:21:14Z", "author": {"login": "adrianfish"}, "path": "samigo/samigo-app/src/webapp/jsf/author/publishedSettings.jsp", "diffHunk": "@@ -182,10 +182,12 @@\n           checkLastHandling();\n         });\n \t\tfunction expandAccordion(iframId){\n-\t\t\t$('.ui-accordion-content').show();\n+\t\t\t$(\"div#jqueryui-accordion > .ui-accordion-content\").show();\n \t\t\tmySetMainFrameHeight(iframId);\n \t\t\t$(\"#collapseLink\").show();\n \t\t\t$(\"#expandLink\").hide();\n+\t\t\t$(\"div#jqueryui-accordion > h3.ui-accordion-header > span\").removeClass(\"ui-icon-triangle-1-e\").addClass(\"ui-icon-triangle-1-s\");\n+\t\t\t$(\"div#jqueryui-accordion > h3.ui-accordion-header\").addClass(\"ui-accordion-header-active ui-state-active\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODkxMTE5Nw=="}, "originalCommit": {"oid": "0c9174bed13a03bf127c7f58e772962c2068cfb1"}, "originalPosition": 10}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "12ba8985d897d9c28575e3b104847cbdee4df88a", "author": {"user": {"login": "brickatyourfeet", "name": "Kyle Braden"}}, "url": "https://github.com/sakaiproject/sakai/commit/12ba8985d897d9c28575e3b104847cbdee4df88a", "committedDate": "2020-01-24T07:05:52Z", "message": "SAK-43000 Give assessment settings expand/collapse all functions consistent icons and highlighting"}, "afterCommit": {"oid": "df4ddfd2d6b5a3c7c7cea046a0f6ae15d4b016ea", "author": {"user": {"login": "brickatyourfeet", "name": "Kyle Braden"}}, "url": "https://github.com/sakaiproject/sakai/commit/df4ddfd2d6b5a3c7c7cea046a0f6ae15d4b016ea", "committedDate": "2020-01-25T02:19:10Z", "message": "SAK-43000 Give assessment settings expand/collapse all functions consistent icons and highlighting"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ada8f84633eac5027ab3e4091faac5c1ee0a8b6e", "author": {"user": {"login": "brickatyourfeet", "name": "Kyle Braden"}}, "url": "https://github.com/sakaiproject/sakai/commit/ada8f84633eac5027ab3e4091faac5c1ee0a8b6e", "committedDate": "2020-01-25T02:26:54Z", "message": "SAK-43000 Give assessment settings expand/collapse all functions consistent icons and highlighting"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "df4ddfd2d6b5a3c7c7cea046a0f6ae15d4b016ea", "author": {"user": {"login": "brickatyourfeet", "name": "Kyle Braden"}}, "url": "https://github.com/sakaiproject/sakai/commit/df4ddfd2d6b5a3c7c7cea046a0f6ae15d4b016ea", "committedDate": "2020-01-25T02:19:10Z", "message": "SAK-43000 Give assessment settings expand/collapse all functions consistent icons and highlighting"}, "afterCommit": {"oid": "ada8f84633eac5027ab3e4091faac5c1ee0a8b6e", "author": {"user": {"login": "brickatyourfeet", "name": "Kyle Braden"}}, "url": "https://github.com/sakaiproject/sakai/commit/ada8f84633eac5027ab3e4091faac5c1ee0a8b6e", "committedDate": "2020-01-25T02:26:54Z", "message": "SAK-43000 Give assessment settings expand/collapse all functions consistent icons and highlighting"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU3NzYyMTk3", "url": "https://github.com/sakaiproject/sakai/pull/7764#pullrequestreview-357762197", "createdAt": "2020-02-12T20:24:52Z", "commit": {"oid": "ada8f84633eac5027ab3e4091faac5c1ee0a8b6e"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMlQyMDoyNDo1MlrOFo9Ylw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMlQyMDoyNjo1OVrOFo9chg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODQ5MzA3OQ==", "bodyText": "Is this frame height script still required now that we no longer have iFrames? Or does Lessons still require it for embedded quizzes?", "url": "https://github.com/sakaiproject/sakai/pull/7764#discussion_r378493079", "createdAt": "2020-02-12T20:24:52Z", "author": {"login": "fostersdesign"}, "path": "samigo/samigo-app/src/webapp/js/authoring.js", "diffHunk": "@@ -787,4 +787,23 @@ function toggleCategories(checkbox) {\n             categoryDiv.fadeOut();\n         }\n     }\n-}\n\\ No newline at end of file\n+}\n+\n+function expandAccordion(iframId){\n+    $('div#jqueryui-accordion > .ui-accordion-content').show();\n+    mySetMainFrameHeight(iframId);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ada8f84633eac5027ab3e4091faac5c1ee0a8b6e"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODQ5NDA4Ng==", "bodyText": "Sorry, I haven't investigated alternative ways of accomplishing this. The worry about these lines was how fragile they could be. We could file a separate Jira issue to fix them better in the future.", "url": "https://github.com/sakaiproject/sakai/pull/7764#discussion_r378494086", "createdAt": "2020-02-12T20:26:59Z", "author": {"login": "fostersdesign"}, "path": "samigo/samigo-app/src/webapp/js/authoring.js", "diffHunk": "@@ -787,4 +787,23 @@ function toggleCategories(checkbox) {\n             categoryDiv.fadeOut();\n         }\n     }\n-}\n\\ No newline at end of file\n+}\n+\n+function expandAccordion(iframId){\n+    $('div#jqueryui-accordion > .ui-accordion-content').show();\n+    mySetMainFrameHeight(iframId);\n+    $(\"#collapseLink\").show();\n+    $(\"#expandLink\").hide();\n+    $(\"div#jqueryui-accordion > h3.ui-accordion-header > span\").removeClass(\"ui-icon-triangle-1-e\").addClass(\"ui-icon-triangle-1-s\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ada8f84633eac5027ab3e4091faac5c1ee0a8b6e"}, "originalPosition": 13}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgyODYxNjg5", "url": "https://github.com/sakaiproject/sakai/pull/7764#pullrequestreview-482861689", "createdAt": "2020-09-04T18:19:25Z", "commit": {"oid": "ada8f84633eac5027ab3e4091faac5c1ee0a8b6e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1909, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}