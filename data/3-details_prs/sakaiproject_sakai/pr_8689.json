{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTAzMzM0MDMw", "number": 8689, "title": "SAK-43941 Profile: name pronunciation not saved", "bodyText": "SAK-43941 Profile: name pronunciation not saved", "createdAt": "2020-10-14T12:22:39Z", "url": "https://github.com/sakaiproject/sakai/pull/8689", "merged": true, "mergeCommit": {"oid": "68fc12e7a5597c5644bd0c90fecea66890cabb60"}, "closed": true, "closedAt": "2020-10-16T09:17:22Z", "author": {"login": "MRutea"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdSdm5IAFqTUwODM3NTIwNQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdTBfekgFqTUxMDIyODQ3Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA4Mzc1MjA1", "url": "https://github.com/sakaiproject/sakai/pull/8689#pullrequestreview-508375205", "createdAt": "2020-10-14T13:57:04Z", "commit": {"oid": "e06aff176a3690ec999c9e96d5f55ea893d44b3a"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQxMzo1NzowNFrOHhUZrg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQxMzo1NzoyMVrOHhUapg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDY5OTMxMA==", "bodyText": "What about this?\nString errorMessage = userProfile.getPhoneticPronunciation() == null ? \"error.profile.save.phonetic.alert\" : \"error.profile.save.info.failed\";\nformFeedback.setDefaultModel(new ResourceModel(errorMessage));", "url": "https://github.com/sakaiproject/sakai/pull/8689#discussion_r504699310", "createdAt": "2020-10-14T13:57:04Z", "author": {"login": "mpellicer"}, "path": "profile2/tool/src/java/org/sakaiproject/profile2/tool/pages/panels/MyNamePronunciationEdit.java", "diffHunk": "@@ -203,7 +203,13 @@ protected void onSubmit(AjaxRequestTarget target, Form form) {\n                     }\n \n                 } else {\n-                    formFeedback.setDefaultModel(new ResourceModel(\"error.profile.save.info.failed\"));\n+                    UserProfile userProfile = (UserProfile) form.getModelObject();\n+                    \n+                    if (userProfile.getPhoneticPronunciation()==null) {\n+                        formFeedback.setDefaultModel(new ResourceModel(\"error.profile.save.phonetic.alert\"));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e06aff176a3690ec999c9e96d5f55ea893d44b3a"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDY5OTU1OA==", "bodyText": "userProfile.getPhoneticPronunciation() == null\nSpaces in the comparison.", "url": "https://github.com/sakaiproject/sakai/pull/8689#discussion_r504699558", "createdAt": "2020-10-14T13:57:21Z", "author": {"login": "mpellicer"}, "path": "profile2/tool/src/java/org/sakaiproject/profile2/tool/pages/panels/MyNamePronunciationEdit.java", "diffHunk": "@@ -247,6 +253,10 @@ private boolean save(Form form) {\n         //get the backing model\n         UserProfile userProfile = (UserProfile) form.getModelObject();\n \n+        if (userProfile.getPhoneticPronunciation()==null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e06aff176a3690ec999c9e96d5f55ea893d44b3a"}, "originalPosition": 19}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d74760f7405a9126f58fc7302e5613770f28d202", "author": {"user": {"login": "MRutea", "name": null}}, "url": "https://github.com/sakaiproject/sakai/commit/d74760f7405a9126f58fc7302e5613770f28d202", "committedDate": "2020-10-15T12:00:21Z", "message": "SAK-43941 Profile: name pronunciation not saved"}, "afterCommit": {"oid": "02ff147cf48d62ef5f845348e249599bb4f0f0a8", "author": {"user": {"login": "MRutea", "name": null}}, "url": "https://github.com/sakaiproject/sakai/commit/02ff147cf48d62ef5f845348e249599bb4f0f0a8", "committedDate": "2020-10-15T12:00:38Z", "message": "SAK-43941 Profile: name pronunciation not saved\n\n\nSAK-43941 Profile: name pronunciation not saved\n\n\nSAK-43941 Profile: name pronunciation not saved"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEwMjE3Mjgx", "url": "https://github.com/sakaiproject/sakai/pull/8689#pullrequestreview-510217281", "createdAt": "2020-10-16T07:27:55Z", "commit": {"oid": "02ff147cf48d62ef5f845348e249599bb4f0f0a8"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNlQwNzoyNzo1NVrOHirMYA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNlQwNzoyODowMFrOHirM0A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjEyMTMxMg==", "bodyText": "Revert this change please.", "url": "https://github.com/sakaiproject/sakai/pull/8689#discussion_r506121312", "createdAt": "2020-10-16T07:27:55Z", "author": {"login": "mpellicer"}, "path": "profile2/tool/src/java/org/sakaiproject/profile2/tool/pages/panels/MyNamePronunciationEdit.java", "diffHunk": "@@ -204,6 +204,7 @@ protected void onSubmit(AjaxRequestTarget target, Form form) {\n \n                 } else {\n                     formFeedback.setDefaultModel(new ResourceModel(\"error.profile.save.info.failed\"));\n+                    ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "02ff147cf48d62ef5f845348e249599bb4f0f0a8"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjEyMTQyNA==", "bodyText": "Revert this change please.", "url": "https://github.com/sakaiproject/sakai/pull/8689#discussion_r506121424", "createdAt": "2020-10-16T07:28:00Z", "author": {"login": "mpellicer"}, "path": "profile2/tool/src/java/org/sakaiproject/profile2/tool/pages/panels/MyNamePronunciationEdit.java", "diffHunk": "@@ -246,7 +247,7 @@ protected void onSubmit(AjaxRequestTarget target, Form form) {\n     private boolean save(Form form) {\n         //get the backing model\n         UserProfile userProfile = (UserProfile) form.getModelObject();\n-\n+        ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "02ff147cf48d62ef5f845348e249599bb4f0f0a8"}, "originalPosition": 13}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0a0ae90630cc2edafed7ced08a894ca0e41ee3c1", "author": {"user": {"login": "MRutea", "name": null}}, "url": "https://github.com/sakaiproject/sakai/commit/0a0ae90630cc2edafed7ced08a894ca0e41ee3c1", "committedDate": "2020-10-16T07:34:37Z", "message": "SAK-43941 Profile: name pronunciation not saved"}, "afterCommit": {"oid": "c7df64fb0754cc7a94dce79691681714ac30f4e4", "author": {"user": {"login": "MRutea", "name": null}}, "url": "https://github.com/sakaiproject/sakai/commit/c7df64fb0754cc7a94dce79691681714ac30f4e4", "committedDate": "2020-10-16T07:35:08Z", "message": "Revert \"SAK-43941 Profile: name pronunciation not saved\"\n\nThis reverts commit 02ff147cf48d62ef5f845348e249599bb4f0f0a8.\n\nSAK-43941 Profile: name pronunciation not saved"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8c13b0eaaaa7a9141fbf89bc881e26b250238085", "author": {"user": {"login": "MRutea", "name": null}}, "url": "https://github.com/sakaiproject/sakai/commit/8c13b0eaaaa7a9141fbf89bc881e26b250238085", "committedDate": "2020-10-16T07:36:05Z", "message": "SAK-43941 Profile: name pronunciation not saved\n\n\nSAK-43941 Profile: name pronunciation not saved\n\n\nSAK-43941 Profile: name pronunciation not saved\n\n\nRevert \"SAK-43941 Profile: name pronunciation not saved\"\n\nThis reverts commit 02ff147cf48d62ef5f845348e249599bb4f0f0a8.\n\nSAK-43941 Profile: name pronunciation not saved"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c7df64fb0754cc7a94dce79691681714ac30f4e4", "author": {"user": {"login": "MRutea", "name": null}}, "url": "https://github.com/sakaiproject/sakai/commit/c7df64fb0754cc7a94dce79691681714ac30f4e4", "committedDate": "2020-10-16T07:35:08Z", "message": "Revert \"SAK-43941 Profile: name pronunciation not saved\"\n\nThis reverts commit 02ff147cf48d62ef5f845348e249599bb4f0f0a8.\n\nSAK-43941 Profile: name pronunciation not saved"}, "afterCommit": {"oid": "8c13b0eaaaa7a9141fbf89bc881e26b250238085", "author": {"user": {"login": "MRutea", "name": null}}, "url": "https://github.com/sakaiproject/sakai/commit/8c13b0eaaaa7a9141fbf89bc881e26b250238085", "committedDate": "2020-10-16T07:36:05Z", "message": "SAK-43941 Profile: name pronunciation not saved\n\n\nSAK-43941 Profile: name pronunciation not saved\n\n\nSAK-43941 Profile: name pronunciation not saved\n\n\nRevert \"SAK-43941 Profile: name pronunciation not saved\"\n\nThis reverts commit 02ff147cf48d62ef5f845348e249599bb4f0f0a8.\n\nSAK-43941 Profile: name pronunciation not saved"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEwMjI4NDcy", "url": "https://github.com/sakaiproject/sakai/pull/8689#pullrequestreview-510228472", "createdAt": "2020-10-16T07:46:05Z", "commit": {"oid": "8c13b0eaaaa7a9141fbf89bc881e26b250238085"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2569, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}