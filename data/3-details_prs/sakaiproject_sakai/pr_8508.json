{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc3ODE3MDY2", "number": 8508, "title": "SAK-43672: lessons > use raw question text for edit rather than rendered text", "bodyText": "https://jira.sakaiproject.org/browse/SAK-43672\nWhen using Lesson's \"Questions\", editing a saved question populates the text from the rendered HTML rather than the raw saved value. This presents problems with using LaTeX, as the raw text and the rendered text are completely different after MathJax parses it. The result is that it saves correctly the first time, but editing the question populates the rendered text rather than original. People don't notice this and are confused when the save the edit and it breaks the LaTeX that worked initially.\nSolution is to dump the raw text to a hidden input and use that to populate the edit rather than the rendered text.", "createdAt": "2020-09-02T13:22:25Z", "url": "https://github.com/sakaiproject/sakai/pull/8508", "merged": true, "mergeCommit": {"oid": "9b505c95a3004af585e64e362d7fc0ebbe154552"}, "closed": true, "closedAt": "2020-09-02T17:46:43Z", "author": {"login": "bjones86"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdE74lOAH2gAyNDc3ODE3MDY2OjVmYjNmYzkyZDcyNGI3MmM5MzgyY2FjYmRiYWQxZTAzYmIxOWQ4OTE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdE9st1gFqTQ4MDkzOTQzOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "5fb3fc92d724b72c9382cacbdbad1e03bb19d891", "author": {"user": {"login": "bjones86", "name": "Brian Jones"}}, "url": "https://github.com/sakaiproject/sakai/commit/5fb3fc92d724b72c9382cacbdbad1e03bb19d891", "committedDate": "2020-09-02T13:19:08Z", "message": "SAK-43672: lessons > use raw question text for edit rather than rendered text"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgwODEzMTU4", "url": "https://github.com/sakaiproject/sakai/pull/8508#pullrequestreview-480813158", "createdAt": "2020-09-02T13:22:30Z", "commit": {"oid": "5fb3fc92d724b72c9382cacbdbad1e03bb19d891"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQxMzoyMjozMVrOHLu2eg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQxMzoyMjozMVrOHLu2fg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjA2Mzk5NA==", "bodyText": "Looks like there's a label missing for this input. That makes it hard for people using screen readers or voice control to use the input.", "url": "https://github.com/sakaiproject/sakai/pull/8508#discussion_r482063994", "createdAt": "2020-09-02T13:22:31Z", "author": {"login": "accesslint"}, "path": "lessonbuilder/tool/src/webapp/templates/ShowPage.html", "diffHunk": "@@ -499,9 +499,9 @@ <h4><span rsf:id=\"msg=simplepage.layout.elements\"></span></h4>\n \t\t  <li id=\"error-item\" rsf:id=\"error-item:\"><span id=\"error-item-text\" rsf:id=\"error-item-text\">missing page</span></li>\n \t\t</ul>\n \t\t<div class=\"itemclass\" rsf:id=\"itemContainer:\" role=\"main\" style=\"z-index: 1;\">\n-\n+\t\t\t<input type=\"hidden\" id=\"activeQuestion\" />", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5fb3fc92d724b72c9382cacbdbad1e03bb19d891"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjA2Mzk5OA==", "bodyText": "Looks like there's a label missing for this input. That makes it hard for people using screen readers or voice control to use the input.", "url": "https://github.com/sakaiproject/sakai/pull/8508#discussion_r482063998", "createdAt": "2020-09-02T13:22:31Z", "author": {"login": "accesslint"}, "path": "lessonbuilder/tool/src/webapp/templates/ShowPage.html", "diffHunk": "@@ -963,6 +963,7 @@ <h4><span rsf:id=\"peer-eval-target-name\"></span></h4><input type=\"hidden\" class=\n                                 <img src=\"/library/image/silk/text_list_bullets.png\" class=\"item-image question-image\"/>\n                                 <span class=\"offscreen\" rsf:id=\"questionNote\"></span>\n                                 <h3 class=\"questionText\" rsf:id=\"questionText\"></h3>\n+                                <input type=\"hidden\" class=\"raw-question-text\" rsf:id=\"raw-question-text\" />", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5fb3fc92d724b72c9382cacbdbad1e03bb19d891"}, "originalPosition": 16}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgwOTM5NDM4", "url": "https://github.com/sakaiproject/sakai/pull/8508#pullrequestreview-480939438", "createdAt": "2020-09-02T15:25:59Z", "commit": {"oid": "5fb3fc92d724b72c9382cacbdbad1e03bb19d891"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2788, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}