{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTEwMDE4OTkx", "number": 8744, "title": "SAK-44532: Error when try adding a student on a blocked section/group", "bodyText": "Please see description: https://jira.sakaiproject.org/browse/SAK-44532\nRegression caused by: 0b9d28b#diff-be390a19db9bd25a62515c17e11a06599ccc4a11744d6d98a9c9ad70315c8050R911", "createdAt": "2020-10-26T13:11:40Z", "url": "https://github.com/sakaiproject/sakai/pull/8744", "merged": true, "mergeCommit": {"oid": "559f315dcd625e25ab9773e03be21db2514f97f6"}, "closed": true, "closedAt": "2020-10-27T21:31:22Z", "author": {"login": "jesusmmp"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdWUWPnAFqTUxNjc3MTg4Ng==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdWuTlyABqjM5Mjc4MTM5MzU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE2NzcxODg2", "url": "https://github.com/sakaiproject/sakai/pull/8744#pullrequestreview-516771886", "createdAt": "2020-10-26T13:25:45Z", "commit": {"oid": "df2eb97373a1c370c1df1ad0801bb19791cb4104"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQxMzoyNTo0NVrOHoPVkA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQxMzoyNTo0NVrOHoPVkA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTk1NjM2OA==", "bodyText": "Let's not call this exception isearle :)", "url": "https://github.com/sakaiproject/sakai/pull/8744#discussion_r511956368", "createdAt": "2020-10-26T13:25:45Z", "author": {"login": "bjones86"}, "path": "kernel/kernel-impl/src/main/java/org/sakaiproject/site/impl/BaseGroup.java", "diffHunk": "@@ -413,16 +413,16 @@ public void addMember(String userId, String roleId, boolean active, boolean prov\n \t{\n \t\ttry {\n \t\t\tinsertMember(userId, roleId, active, provided);\n-\t\t} catch (IllegalStateException ise) {\n-\t\t\tlog.warn(ise.getMessage());\n+\t\t} catch (IllegalStateException | AuthzRealmLockException isearle) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "df2eb97373a1c370c1df1ad0801bb19791cb4104"}, "originalPosition": 6}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "df2eb97373a1c370c1df1ad0801bb19791cb4104", "author": {"user": {"login": "jesusmmp", "name": "Jes\u00fas Mar\u00eda M\u00e9ndez P\u00e9rez"}}, "url": "https://github.com/sakaiproject/sakai/commit/df2eb97373a1c370c1df1ad0801bb19791cb4104", "committedDate": "2020-10-26T13:09:46Z", "message": "SAK-44532: Error when try adding a student on a blocked section/group"}, "afterCommit": {"oid": "69a0354c04d0bc9b37e561f39c7e03e77210067e", "author": {"user": {"login": "jesusmmp", "name": "Jes\u00fas Mar\u00eda M\u00e9ndez P\u00e9rez"}}, "url": "https://github.com/sakaiproject/sakai/commit/69a0354c04d0bc9b37e561f39c7e03e77210067e", "committedDate": "2020-10-26T13:38:58Z", "message": "SAK-44532: Error when try adding a student on a blocked section/group"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE2NzkyMDU1", "url": "https://github.com/sakaiproject/sakai/pull/8744#pullrequestreview-516792055", "createdAt": "2020-10-26T13:47:17Z", "commit": {"oid": "69a0354c04d0bc9b37e561f39c7e03e77210067e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE3MTE0ODI5", "url": "https://github.com/sakaiproject/sakai/pull/8744#pullrequestreview-517114829", "createdAt": "2020-10-26T19:38:36Z", "commit": {"oid": "69a0354c04d0bc9b37e561f39c7e03e77210067e"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQxOTozODozNlrOHofceA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQxOTozODo1MlrOHofc-w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjIyMDI4MA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\t} catch (IllegalStateException | AuthzRealmLockException iseorarle) {\n          \n          \n            \n            \t\t\tlog.warn(iseorarle.getMessage());\n          \n          \n            \n            \t\t} catch (AuthzRealmLockException arle) {\n          \n          \n            \n            \t\t\tlog.warn(arle.toString());", "url": "https://github.com/sakaiproject/sakai/pull/8744#discussion_r512220280", "createdAt": "2020-10-26T19:38:36Z", "author": {"login": "ern"}, "path": "kernel/kernel-impl/src/main/java/org/sakaiproject/site/impl/BaseGroup.java", "diffHunk": "@@ -413,16 +413,16 @@ public void addMember(String userId, String roleId, boolean active, boolean prov\n \t{\n \t\ttry {\n \t\t\tinsertMember(userId, roleId, active, provided);\n-\t\t} catch (IllegalStateException ise) {\n-\t\t\tlog.warn(ise.getMessage());\n+\t\t} catch (IllegalStateException | AuthzRealmLockException iseorarle) {\n+\t\t\tlog.warn(iseorarle.getMessage());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "69a0354c04d0bc9b37e561f39c7e03e77210067e"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjIyMDQxMQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \tpublic void insertMember(String userId, String roleId, boolean active, boolean provided) throws IllegalStateException, AuthzRealmLockException\n          \n          \n            \n            \tpublic void insertMember(String userId, String roleId, boolean active, boolean provided) throws AuthzRealmLockException", "url": "https://github.com/sakaiproject/sakai/pull/8744#discussion_r512220411", "createdAt": "2020-10-26T19:38:52Z", "author": {"login": "ern"}, "path": "kernel/kernel-impl/src/main/java/org/sakaiproject/site/impl/BaseGroup.java", "diffHunk": "@@ -413,16 +413,16 @@ public void addMember(String userId, String roleId, boolean active, boolean prov\n \t{\n \t\ttry {\n \t\t\tinsertMember(userId, roleId, active, provided);\n-\t\t} catch (IllegalStateException ise) {\n-\t\t\tlog.warn(ise.getMessage());\n+\t\t} catch (IllegalStateException | AuthzRealmLockException iseorarle) {\n+\t\t\tlog.warn(iseorarle.getMessage());\n \t\t}\n \t}\n \n-\tpublic void insertMember(String userId, String roleId, boolean active, boolean provided) throws IllegalStateException\n+\tpublic void insertMember(String userId, String roleId, boolean active, boolean provided) throws IllegalStateException, AuthzRealmLockException", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "69a0354c04d0bc9b37e561f39c7e03e77210067e"}, "originalPosition": 12}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "81da0723b2d7d4168b14b672bfca72100d514e98", "author": {"user": {"login": "jesusmmp", "name": "Jes\u00fas Mar\u00eda M\u00e9ndez P\u00e9rez"}}, "url": "https://github.com/sakaiproject/sakai/commit/81da0723b2d7d4168b14b672bfca72100d514e98", "committedDate": "2020-10-27T08:25:03Z", "message": "SAK-44532: Error when try adding a student on a blocked section/group"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "69a0354c04d0bc9b37e561f39c7e03e77210067e", "author": {"user": {"login": "jesusmmp", "name": "Jes\u00fas Mar\u00eda M\u00e9ndez P\u00e9rez"}}, "url": "https://github.com/sakaiproject/sakai/commit/69a0354c04d0bc9b37e561f39c7e03e77210067e", "committedDate": "2020-10-26T13:38:58Z", "message": "SAK-44532: Error when try adding a student on a blocked section/group"}, "afterCommit": {"oid": "81da0723b2d7d4168b14b672bfca72100d514e98", "author": {"user": {"login": "jesusmmp", "name": "Jes\u00fas Mar\u00eda M\u00e9ndez P\u00e9rez"}}, "url": "https://github.com/sakaiproject/sakai/commit/81da0723b2d7d4168b14b672bfca72100d514e98", "committedDate": "2020-10-27T08:25:03Z", "message": "SAK-44532: Error when try adding a student on a blocked section/group"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE3NzMxODMy", "url": "https://github.com/sakaiproject/sakai/pull/8744#pullrequestreview-517731832", "createdAt": "2020-10-27T13:57:20Z", "commit": {"oid": "81da0723b2d7d4168b14b672bfca72100d514e98"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE3ODQwMjQ4", "url": "https://github.com/sakaiproject/sakai/pull/8744#pullrequestreview-517840248", "createdAt": "2020-10-27T15:32:29Z", "commit": {"oid": "81da0723b2d7d4168b14b672bfca72100d514e98"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QxNTozMjoyOVrOHpCf8w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QxNTozMjoyOVrOHpCf8w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjc5NDYxMQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\t} catch (IllegalStateException ise) {\n          \n          \n            \n            \t\t\tlog.warn(ise.getMessage());", "url": "https://github.com/sakaiproject/sakai/pull/8744#discussion_r512794611", "createdAt": "2020-10-27T15:32:29Z", "author": {"login": "ern"}, "path": "kernel/kernel-impl/src/main/java/org/sakaiproject/site/impl/BaseGroup.java", "diffHunk": "@@ -415,14 +415,16 @@ public void addMember(String userId, String roleId, boolean active, boolean prov\n \t\t\tinsertMember(userId, roleId, active, provided);\n \t\t} catch (IllegalStateException ise) {\n \t\t\tlog.warn(ise.getMessage());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "81da0723b2d7d4168b14b672bfca72100d514e98"}, "originalPosition": 3}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4c573247432395adfef75da307452233b69020cc", "author": {"user": {"login": "ern", "name": "Earle Nietzel"}}, "url": "https://github.com/sakaiproject/sakai/commit/4c573247432395adfef75da307452233b69020cc", "committedDate": "2020-10-27T19:38:26Z", "message": "Update kernel/kernel-impl/src/main/java/org/sakaiproject/site/impl/BaseGroup.java"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "fc236768c23fbf51d3c2e05ea53aefffecad570c", "author": {"user": {"login": "ern", "name": "Earle Nietzel"}}, "url": "https://github.com/sakaiproject/sakai/commit/fc236768c23fbf51d3c2e05ea53aefffecad570c", "committedDate": "2020-10-27T19:25:34Z", "message": "Update kernel/kernel-impl/src/main/java/org/sakaiproject/site/impl/BaseGroup.java"}, "afterCommit": {"oid": "4c573247432395adfef75da307452233b69020cc", "author": {"user": {"login": "ern", "name": "Earle Nietzel"}}, "url": "https://github.com/sakaiproject/sakai/commit/4c573247432395adfef75da307452233b69020cc", "committedDate": "2020-10-27T19:38:26Z", "message": "Update kernel/kernel-impl/src/main/java/org/sakaiproject/site/impl/BaseGroup.java"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2610, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}