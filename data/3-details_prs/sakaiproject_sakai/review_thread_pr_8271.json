{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI4MjQwNDQ0", "number": 8271, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQxNTozNzoxOVrOED8Y2g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQxNTozOToyMVrOED8cNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcyNTcwNTg2OnYy", "diffSide": "RIGHT", "path": "lessonbuilder/tool/src/java/org/sakaiproject/lessonbuildertool/tool/producers/ReorderProducer.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQxNTozNzoxOVrOGhQliQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQwNzozMDowNlrOGhoNwg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzUyNzk0NQ==", "bodyText": "put this on the same line or use braces", "url": "https://github.com/sakaiproject/sakai/pull/8271#discussion_r437527945", "createdAt": "2020-06-09T15:37:19Z", "author": {"login": "ern"}, "path": "lessonbuilder/tool/src/java/org/sakaiproject/lessonbuildertool/tool/producers/ReorderProducer.java", "diffHunk": "@@ -189,7 +189,10 @@ public void fillComponents(UIContainer tofill, ViewParameters params, ComponentC\n \t\t\t\t\t    UIOutput.make(row, \"text-snippet\", messageLocator.getMessage(\"simplepage.resources-snippet\"));\n \t\t\t\t    }\n \t\t\t\t    else {\n-\t\t\t\t\t    String text = FormattedText.convertFormattedTextToPlaintext(i.getHtml());\n+\t\t\t\t\t    String text = i.getHtml();\n+\t\t\t\t\t    if (text == null)\n+\t\t\t\t\t\t    text = \"\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4b2641bcb6fb12208eb573466b319afd760fbb51"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzkxNTA3NA==", "bodyText": "Done", "url": "https://github.com/sakaiproject/sakai/pull/8271#discussion_r437915074", "createdAt": "2020-06-10T07:30:06Z", "author": {"login": "jesusmmp"}, "path": "lessonbuilder/tool/src/java/org/sakaiproject/lessonbuildertool/tool/producers/ReorderProducer.java", "diffHunk": "@@ -189,7 +189,10 @@ public void fillComponents(UIContainer tofill, ViewParameters params, ComponentC\n \t\t\t\t\t    UIOutput.make(row, \"text-snippet\", messageLocator.getMessage(\"simplepage.resources-snippet\"));\n \t\t\t\t    }\n \t\t\t\t    else {\n-\t\t\t\t\t    String text = FormattedText.convertFormattedTextToPlaintext(i.getHtml());\n+\t\t\t\t\t    String text = i.getHtml();\n+\t\t\t\t\t    if (text == null)\n+\t\t\t\t\t\t    text = \"\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzUyNzk0NQ=="}, "originalCommit": {"oid": "4b2641bcb6fb12208eb573466b319afd760fbb51"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcyNTcxMDUzOnYy", "diffSide": "RIGHT", "path": "lessonbuilder/tool/src/java/org/sakaiproject/lessonbuildertool/tool/producers/ReorderProducer.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQxNTozODoyMFrOGhQodQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQwNzozMDoxNVrOGhoOEA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzUyODY5Mw==", "bodyText": "Add some braces here?", "url": "https://github.com/sakaiproject/sakai/pull/8271#discussion_r437528693", "createdAt": "2020-06-09T15:38:20Z", "author": {"login": "adrianfish"}, "path": "lessonbuilder/tool/src/java/org/sakaiproject/lessonbuildertool/tool/producers/ReorderProducer.java", "diffHunk": "@@ -189,7 +189,10 @@ public void fillComponents(UIContainer tofill, ViewParameters params, ComponentC\n \t\t\t\t\t    UIOutput.make(row, \"text-snippet\", messageLocator.getMessage(\"simplepage.resources-snippet\"));\n \t\t\t\t    }\n \t\t\t\t    else {\n-\t\t\t\t\t    String text = FormattedText.convertFormattedTextToPlaintext(i.getHtml());\n+\t\t\t\t\t    String text = i.getHtml();\n+\t\t\t\t\t    if (text == null)\n+\t\t\t\t\t\t    text = \"\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4b2641bcb6fb12208eb573466b319afd760fbb51"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzkxNTE1Mg==", "bodyText": "Done", "url": "https://github.com/sakaiproject/sakai/pull/8271#discussion_r437915152", "createdAt": "2020-06-10T07:30:15Z", "author": {"login": "jesusmmp"}, "path": "lessonbuilder/tool/src/java/org/sakaiproject/lessonbuildertool/tool/producers/ReorderProducer.java", "diffHunk": "@@ -189,7 +189,10 @@ public void fillComponents(UIContainer tofill, ViewParameters params, ComponentC\n \t\t\t\t\t    UIOutput.make(row, \"text-snippet\", messageLocator.getMessage(\"simplepage.resources-snippet\"));\n \t\t\t\t    }\n \t\t\t\t    else {\n-\t\t\t\t\t    String text = FormattedText.convertFormattedTextToPlaintext(i.getHtml());\n+\t\t\t\t\t    String text = i.getHtml();\n+\t\t\t\t\t    if (text == null)\n+\t\t\t\t\t\t    text = \"\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzUyODY5Mw=="}, "originalCommit": {"oid": "4b2641bcb6fb12208eb573466b319afd760fbb51"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcyNTcxNDQ0OnYy", "diffSide": "RIGHT", "path": "lessonbuilder/hbm/src/java/org/sakaiproject/lessonbuildertool/SimplePageItemImpl.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQxNTozOToyMVrOGhQq8Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQwNzozMDoyNFrOGhoOZg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzUyOTMyOQ==", "bodyText": "Stretch this out a bit? s == null ? 0 : s.length(). It's clearer, I think.", "url": "https://github.com/sakaiproject/sakai/pull/8271#discussion_r437529329", "createdAt": "2020-06-09T15:39:21Z", "author": {"login": "adrianfish"}, "path": "lessonbuilder/hbm/src/java/org/sakaiproject/lessonbuildertool/SimplePageItemImpl.java", "diffHunk": "@@ -179,9 +179,7 @@ public SimplePageItemImpl(long pageId, int sequence, int type, String sakaiId, S\n     // are too long. The main case this will happen is if we generate a name, which we do for URLs\n     // and uploaded files.\n \tprivate String maxlength(String s, int maxlen) {\n-\t    if (s == null)\n-\t\ts = \"\";  // oracle turns \"\" into null\n-\t    int len = s.length();\n+\t    int len = s==null?0:s.length();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4b2641bcb6fb12208eb573466b319afd760fbb51"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzkxNTIzOA==", "bodyText": "Done", "url": "https://github.com/sakaiproject/sakai/pull/8271#discussion_r437915238", "createdAt": "2020-06-10T07:30:24Z", "author": {"login": "jesusmmp"}, "path": "lessonbuilder/hbm/src/java/org/sakaiproject/lessonbuildertool/SimplePageItemImpl.java", "diffHunk": "@@ -179,9 +179,7 @@ public SimplePageItemImpl(long pageId, int sequence, int type, String sakaiId, S\n     // are too long. The main case this will happen is if we generate a name, which we do for URLs\n     // and uploaded files.\n \tprivate String maxlength(String s, int maxlen) {\n-\t    if (s == null)\n-\t\ts = \"\";  // oracle turns \"\" into null\n-\t    int len = s.length();\n+\t    int len = s==null?0:s.length();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzUyOTMyOQ=="}, "originalCommit": {"oid": "4b2641bcb6fb12208eb573466b319afd760fbb51"}, "originalPosition": 7}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2205, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}