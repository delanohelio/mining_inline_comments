{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAwNDg4ODI5", "number": 8133, "title": "SAK-43539: add some large sections to demo data", "bodyText": "https://jira.sakaiproject.org/browse/SAK-43539\nThe demo data created when bringing up an instance with -Dsakai.demo=true is of great benefit for a multitude of purposes, but most important of all is testing and QA. This data set is used on the nightly servers, where all community testing is performed.\nThe current demo data creates multiple offerings for multiple terms, and multiple sections within each offering. However, each section is currently limited to 30 students. While this provides a satisfactory test bed for most things, performance and scalability issues are difficult to identify when using small data sets.\nTo better assist with the discovery and reporting of performance and scalability issues, it would be beneficial to have a few of the provided demo sections contain much more than 30 students.\nThis PR proposes adding 1 new section to each offering, which will contain 1000 students. Each of these large sections will be the last in the available list (currently number 7), and will be labelled \"Discussion 7 (mega-roster)...\" in the UI to be as clear as possible.\nWhile this does introduce some extra wait time when bringing up a server with -Dsakai.demo=true the first time, I think it's reasonable to expect some delays in this situation. I'm of the opinion that the benefits far outweigh having to wait a little more the first time you bring up your server (or the first time after the DB has been wiped).", "createdAt": "2020-04-07T20:34:55Z", "url": "https://github.com/sakaiproject/sakai/pull/8133", "merged": true, "mergeCommit": {"oid": "1376692622c0a838a439823d8eec9747fa6fc371"}, "closed": true, "closedAt": "2020-04-08T13:33:34Z", "author": {"login": "bjones86"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcVZTSRgH2gAyNDAwNDg4ODI5OjU5MTRhY2E3NTFjYzBlNjBhOTFjMGMwMzYyZTJjNzBmYWM5MWVkM2M=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcVnmS0gH2gAyNDAwNDg4ODI5OmFjMWE2Nzk0ODlmYWYyODc0N2YwYTRjOTQ3YTNjZjU3MjFhMWFjOWM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "5914aca751cc0e60a91c0c0362e2c70fac91ed3c", "author": {"user": {"login": "bjones86", "name": "Brian Jones"}}, "url": "https://github.com/sakaiproject/sakai/commit/5914aca751cc0e60a91c0c0362e2c70fac91ed3c", "committedDate": "2020-04-07T20:27:11Z", "message": "SAK-43539: add some large sections to demo data"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg5NDcxODg2", "url": "https://github.com/sakaiproject/sakai/pull/8133#pullrequestreview-389471886", "createdAt": "2020-04-07T20:38:10Z", "commit": {"oid": "5914aca751cc0e60a91c0c0362e2c70fac91ed3c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg5ODY0NTUw", "url": "https://github.com/sakaiproject/sakai/pull/8133#pullrequestreview-389864550", "createdAt": "2020-04-08T10:54:18Z", "commit": {"oid": "5914aca751cc0e60a91c0c0362e2c70fac91ed3c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOFQxMDo1NDoxOFrOGCp3Dw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOFQxMDo1NDoxOFrOGCp3Dw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTQzNjE3NQ==", "bodyText": "I would make this more flexible and have it take an integer instead of a boolean, and use that value to increment the count.", "url": "https://github.com/sakaiproject/sakai/pull/8133#discussion_r405436175", "createdAt": "2020-04-08T10:54:18Z", "author": {"login": "plukasew"}, "path": "edu-services/cm-service/cm-impl/hibernate-impl/impl/src/java/org/sakaiproject/coursemanagement/impl/SampleDataLoader.java", "diffHunk": "@@ -477,8 +487,8 @@ protected void loadDiscussionSection(String secEidPrefix, String asEid, String c\n \t\tif(log.isDebugEnabled()) log.debug(\"Created section \" + secEid);\n \t}\n \n-\tprotected int incrementStudentCount() {\n-\t\tstudentMemberCount += 30;\n+\tprotected int incrementStudentCount(boolean mega) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5914aca751cc0e60a91c0c0362e2c70fac91ed3c"}, "originalPosition": 92}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ac1a679489faf28747f0a4c947a3cf5721a1ac9c", "author": {"user": {"login": "bjones86", "name": "Brian Jones"}}, "url": "https://github.com/sakaiproject/sakai/commit/ac1a679489faf28747f0a4c947a3cf5721a1ac9c", "committedDate": "2020-04-08T13:06:37Z", "message": "increment any integer"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2019, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}