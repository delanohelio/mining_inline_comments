{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk0NDc3MDM3", "number": 8627, "title": "SAK-44341 - escape the filename before building the resourceId for th\u2026", "bodyText": "\u2026e check to see if it exists or not", "createdAt": "2020-09-29T00:51:48Z", "url": "https://github.com/sakaiproject/sakai/pull/8627", "merged": true, "mergeCommit": {"oid": "6479c89470f828b2fd85f95800093a16296248de"}, "closed": true, "closedAt": "2020-10-20T18:26:59Z", "author": {"login": "maurercw"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdNdWJIgH2gAyNDk0NDc3MDM3OjI3ZjFjNGY4YmU0ZTFkNDU3NGU2NTFkOThjZTUzZTEzYmVkZjk5ZWQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdUdDlcgFqTUxMzAxNjcxMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "27f1c4f8be4e1d4574e651d98ce53e13bedf99ed", "author": {"user": {"login": "maurercw", "name": "Chris Maurer"}}, "url": "https://github.com/sakaiproject/sakai/commit/27f1c4f8be4e1d4574e651d98ce53e13bedf99ed", "committedDate": "2020-09-29T00:49:41Z", "message": "SAK-44341 - escape the filename before building the resourceId for the check to see if it exists or not"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk4NDU1ODAx", "url": "https://github.com/sakaiproject/sakai/pull/8627#pullrequestreview-498455801", "createdAt": "2020-09-29T13:16:20Z", "commit": {"oid": "27f1c4f8be4e1d4574e651d98ce53e13bedf99ed"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk4NjIwMTQy", "url": "https://github.com/sakaiproject/sakai/pull/8627#pullrequestreview-498620142", "createdAt": "2020-09-29T15:32:56Z", "commit": {"oid": "27f1c4f8be4e1d4574e651d98ce53e13bedf99ed"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQxNTozMjo1NlrOHZzcaA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQxNTozMzowMVrOHZzcvg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjgxOTMwNA==", "bodyText": "Validator is deprecated try using FormattedText", "url": "https://github.com/sakaiproject/sakai/pull/8627#discussion_r496819304", "createdAt": "2020-09-29T15:32:56Z", "author": {"login": "ern"}, "path": "content/content-tool/tool/src/java/org/sakaiproject/content/tool/ResourcesHelperAction.java", "diffHunk": "@@ -2067,7 +2067,7 @@ private synchronized void doDragDropUpload(HttpServletRequest request, HttpServl\n \t\t\t\tif (collection!=null)\n \t\t\t\t{\n \t\t\t\t\t//get the resourceId by using collectionName and uploadFileName\n-\t\t\t\t\tresourceId = collectionName +\"/\"+ uploadFileName;\n+\t\t\t\t\tresourceId = collectionName +\"/\"+ Validator.escapeResourceName(uploadFileName);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "27f1c4f8be4e1d4574e651d98ce53e13bedf99ed"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjgxOTM5MA==", "bodyText": "Validator is deprecated try using FormattedText", "url": "https://github.com/sakaiproject/sakai/pull/8627#discussion_r496819390", "createdAt": "2020-09-29T15:33:01Z", "author": {"login": "ern"}, "path": "content/content-tool/tool/src/java/org/sakaiproject/content/tool/ResourcesHelperAction.java", "diffHunk": "@@ -2093,7 +2093,7 @@ private synchronized void doDragDropUpload(HttpServletRequest request, HttpServl\n \t\t\t\t\t//So I disable this method call, though it can be enabled again if desired.\n \t\t\t\t\t\n \t\t\t\t\t//String resourceName = getUniqueFileName(uploadFileName, resourceGroup);\n-\t\t\t\t\tresourceId = resourceGroup + uploadFileName;\n+\t\t\t\t\tresourceId = resourceGroup + Validator.escapeResourceName(uploadFileName);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "27f1c4f8be4e1d4574e651d98ce53e13bedf99ed"}, "originalPosition": 14}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEzMDE2NzEx", "url": "https://github.com/sakaiproject/sakai/pull/8627#pullrequestreview-513016711", "createdAt": "2020-10-20T18:26:53Z", "commit": {"oid": "27f1c4f8be4e1d4574e651d98ce53e13bedf99ed"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2711, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}