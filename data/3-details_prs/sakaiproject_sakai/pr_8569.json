{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg2ODMyNzM5", "number": 8569, "title": "SAK-44294 Students unable to see rubric when no rating selected but p\u2026", "bodyText": "\u2026oints awarded\nIf no rating was selected by the instructor but they set a point value, set the\nselected value points to zero so that the rubric works as expected.", "createdAt": "2020-09-14T19:24:43Z", "url": "https://github.com/sakaiproject/sakai/pull/8569", "merged": true, "mergeCommit": {"oid": "98b3916077330a403ea964a29ca5c04e5c5d0505"}, "closed": true, "closedAt": "2020-09-23T16:04:22Z", "author": {"login": "davidpbauer"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdLtnMAAFqTQ5NDczMzA1OA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdLuC3fAFqTQ5NDc2NTY0Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk0NzMzMDU4", "url": "https://github.com/sakaiproject/sakai/pull/8569#pullrequestreview-494733058", "createdAt": "2020-09-23T14:38:40Z", "commit": {"oid": "ea73e4a4a779d5dcb8f0ba1acf8fb24f979c66c6"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QxNDozODo0MFrOHWx1oA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QxNDozODo0MFrOHWx1oA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzY0NzI2NA==", "bodyText": "Are you sure this will be null if not initialised above? I'd set it explicitly to null (selectedRatingItem = null), just to be sure. I'd also change that var to a let, just tighten the scope up a bit.", "url": "https://github.com/sakaiproject/sakai/pull/8569#discussion_r493647264", "createdAt": "2020-09-23T14:38:40Z", "author": {"login": "adrianfish"}, "path": "webcomponents/tool/src/main/frontend/js/rubrics/sakai-rubric-criterion-student.js", "diffHunk": "@@ -137,7 +137,7 @@ export class SakaiRubricCriterionStudent extends RubricsElement {\n           c.selectedRatingId = ed.selectedRatingId;\n           if (ed.pointsAdjusted) {\n             c.pointoverride = ed.points;\n-            c.selectedvalue = selectedRatingItem.points;\n+            c.selectedvalue = selectedRatingItem != null ? selectedRatingItem.points : 0; // Set selected value (points) to zero if no rating was selected", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ea73e4a4a779d5dcb8f0ba1acf8fb24f979c66c6"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9ed073a4ae595b851054ff8774eac050e20c0a3b", "author": {"user": {"login": "davidpbauer", "name": "David P. Bauer"}}, "url": "https://github.com/sakaiproject/sakai/commit/9ed073a4ae595b851054ff8774eac050e20c0a3b", "committedDate": "2020-09-23T15:03:06Z", "message": "SAK-44294 Students unable to see rubric when no rating selected but points awarded\n\nIf no rating was selected by the instructor but they set a point value, set the\nselected value points to zero so that the rubric works as expected."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ea73e4a4a779d5dcb8f0ba1acf8fb24f979c66c6", "author": {"user": {"login": "davidpbauer", "name": "David P. Bauer"}}, "url": "https://github.com/sakaiproject/sakai/commit/ea73e4a4a779d5dcb8f0ba1acf8fb24f979c66c6", "committedDate": "2020-09-14T19:22:59Z", "message": "SAK-44294 Students unable to see rubric when no rating selected but points awarded\n\nIf no rating was selected by the instructor but they set a point value, set the\nselected value points to zero so that the rubric works as expected."}, "afterCommit": {"oid": "9ed073a4ae595b851054ff8774eac050e20c0a3b", "author": {"user": {"login": "davidpbauer", "name": "David P. Bauer"}}, "url": "https://github.com/sakaiproject/sakai/commit/9ed073a4ae595b851054ff8774eac050e20c0a3b", "committedDate": "2020-09-23T15:03:06Z", "message": "SAK-44294 Students unable to see rubric when no rating selected but points awarded\n\nIf no rating was selected by the instructor but they set a point value, set the\nselected value points to zero so that the rubric works as expected."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk0NzY1NjQ3", "url": "https://github.com/sakaiproject/sakai/pull/8569#pullrequestreview-494765647", "createdAt": "2020-09-23T15:09:10Z", "commit": {"oid": "9ed073a4ae595b851054ff8774eac050e20c0a3b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2636, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}