{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM3MzMzMzk1", "number": 8306, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNlQxNDowOToxMlrOEJJZvg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNlQxNDowOToxMlrOEJJZvg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc4MDI2Njg2OnYy", "diffSide": "RIGHT", "path": "samigo/samigo-app/src/webapp/jsf/delivery/item/deliverMultipleChoiceSingleCorrect.jsp", "isResolved": false, "comments": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNlQxNDowOToxMlrOGpiVsg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QwMDowMjo0MlrOGpxi2Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjIwNzQxMA==", "bodyText": "Can you explain this change? You are looking for the script tag's parent and then finding the first div.mcscFixUp? Why is this better than the previous jquery.Each function?", "url": "https://github.com/sakaiproject/sakai/pull/8306#discussion_r446207410", "createdAt": "2020-06-26T14:09:12Z", "author": {"login": "ottenhoff"}, "path": "samigo/samigo-app/src/webapp/jsf/delivery/item/deliverMultipleChoiceSingleCorrect.jsp", "diffHunk": "@@ -90,29 +90,14 @@ should be included in file importing DeliveryMessages\n \n   </h:panelGroup>\n   <script>\n-    $('div.mcscFixUp').each(function(index1,elBlockToFix) {\n+      var elBlockToFix = $($('script')[$('script').length - 1].parentElement).find('div.mcscFixUp')[0];", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "56c6678316c418173bfb071d06f719716d5a106a"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjMyMTIzNQ==", "bodyText": "see my explanation in SAK-43625\n\"I believe the root cause of the misalignment was because when there are more than one multiple choice questions on the same page, there will be multiple <script> tags written to the page, so the same javascript gets run on all of the multiple choice questions multiple times (throwing off the alignment)...\nThis fix attempts to fix all of the JIRAs mentioned above by targeting only the current script tag's elements.\"", "url": "https://github.com/sakaiproject/sakai/pull/8306#discussion_r446321235", "createdAt": "2020-06-26T17:38:51Z", "author": {"login": "austin48"}, "path": "samigo/samigo-app/src/webapp/jsf/delivery/item/deliverMultipleChoiceSingleCorrect.jsp", "diffHunk": "@@ -90,29 +90,14 @@ should be included in file importing DeliveryMessages\n \n   </h:panelGroup>\n   <script>\n-    $('div.mcscFixUp').each(function(index1,elBlockToFix) {\n+      var elBlockToFix = $($('script')[$('script').length - 1].parentElement).find('div.mcscFixUp')[0];", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjIwNzQxMA=="}, "originalCommit": {"oid": "56c6678316c418173bfb071d06f719716d5a106a"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjMyMjYxNA==", "bodyText": "one unknown though, is that I don't have access to IE, so I couldn't test my patch there.  But it seemed to work ok on OS X with FF and Chrome", "url": "https://github.com/sakaiproject/sakai/pull/8306#discussion_r446322614", "createdAt": "2020-06-26T17:41:38Z", "author": {"login": "austin48"}, "path": "samigo/samigo-app/src/webapp/jsf/delivery/item/deliverMultipleChoiceSingleCorrect.jsp", "diffHunk": "@@ -90,29 +90,14 @@ should be included in file importing DeliveryMessages\n \n   </h:panelGroup>\n   <script>\n-    $('div.mcscFixUp').each(function(index1,elBlockToFix) {\n+      var elBlockToFix = $($('script')[$('script').length - 1].parentElement).find('div.mcscFixUp')[0];", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjIwNzQxMA=="}, "originalCommit": {"oid": "56c6678316c418173bfb071d06f719716d5a106a"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjMyNDI3Ng==", "bodyText": "Searching for a script tag just looks strange .... can you do it on an HTML id or tag instead?", "url": "https://github.com/sakaiproject/sakai/pull/8306#discussion_r446324276", "createdAt": "2020-06-26T17:45:08Z", "author": {"login": "ottenhoff"}, "path": "samigo/samigo-app/src/webapp/jsf/delivery/item/deliverMultipleChoiceSingleCorrect.jsp", "diffHunk": "@@ -90,29 +90,14 @@ should be included in file importing DeliveryMessages\n \n   </h:panelGroup>\n   <script>\n-    $('div.mcscFixUp').each(function(index1,elBlockToFix) {\n+      var elBlockToFix = $($('script')[$('script').length - 1].parentElement).find('div.mcscFixUp')[0];", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjIwNzQxMA=="}, "originalCommit": {"oid": "56c6678316c418173bfb071d06f719716d5a106a"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjMyOTEzNQ==", "bodyText": "I got that from this article\nhttps://stackoverflow.com/questions/403967/how-may-i-reference-the-script-tag-that-loaded-the-currently-executing-script\nit mentions that \"using an id may cause issues in some browsers\"", "url": "https://github.com/sakaiproject/sakai/pull/8306#discussion_r446329135", "createdAt": "2020-06-26T17:55:26Z", "author": {"login": "austin48"}, "path": "samigo/samigo-app/src/webapp/jsf/delivery/item/deliverMultipleChoiceSingleCorrect.jsp", "diffHunk": "@@ -90,29 +90,14 @@ should be included in file importing DeliveryMessages\n \n   </h:panelGroup>\n   <script>\n-    $('div.mcscFixUp').each(function(index1,elBlockToFix) {\n+      var elBlockToFix = $($('script')[$('script').length - 1].parentElement).find('div.mcscFixUp')[0];", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjIwNzQxMA=="}, "originalCommit": {"oid": "56c6678316c418173bfb071d06f719716d5a106a"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjMzMzA4Mg==", "bodyText": "I think that article meant using an id in the script tag.  Did you mean to add an id to some other tag?  e.g. the 'mcscFixUp' tag?  I suppose that's possible.  maybe I can use the question id?   I'll have to look into that.", "url": "https://github.com/sakaiproject/sakai/pull/8306#discussion_r446333082", "createdAt": "2020-06-26T18:03:50Z", "author": {"login": "austin48"}, "path": "samigo/samigo-app/src/webapp/jsf/delivery/item/deliverMultipleChoiceSingleCorrect.jsp", "diffHunk": "@@ -90,29 +90,14 @@ should be included in file importing DeliveryMessages\n \n   </h:panelGroup>\n   <script>\n-    $('div.mcscFixUp').each(function(index1,elBlockToFix) {\n+      var elBlockToFix = $($('script')[$('script').length - 1].parentElement).find('div.mcscFixUp')[0];", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjIwNzQxMA=="}, "originalCommit": {"oid": "56c6678316c418173bfb071d06f719716d5a106a"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQyMDcwNA==", "bodyText": "any objection to using a style class as a selector instead of an id?  jsf prepends it's dynamic id stuff to form element ids, and I didn't know of a good way to get jquery to select that dynamic id.  Using a style classname seemed like a good compromise, which I found from the example in https://stackoverflow.com/a/16483521", "url": "https://github.com/sakaiproject/sakai/pull/8306#discussion_r446420704", "createdAt": "2020-06-26T21:34:07Z", "author": {"login": "austin48"}, "path": "samigo/samigo-app/src/webapp/jsf/delivery/item/deliverMultipleChoiceSingleCorrect.jsp", "diffHunk": "@@ -90,29 +90,14 @@ should be included in file importing DeliveryMessages\n \n   </h:panelGroup>\n   <script>\n-    $('div.mcscFixUp').each(function(index1,elBlockToFix) {\n+      var elBlockToFix = $($('script')[$('script').length - 1].parentElement).find('div.mcscFixUp')[0];", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjIwNzQxMA=="}, "originalCommit": {"oid": "56c6678316c418173bfb071d06f719716d5a106a"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ1NjUzNw==", "bodyText": "added additional commit 999cbe9", "url": "https://github.com/sakaiproject/sakai/pull/8306#discussion_r446456537", "createdAt": "2020-06-27T00:02:42Z", "author": {"login": "austin48"}, "path": "samigo/samigo-app/src/webapp/jsf/delivery/item/deliverMultipleChoiceSingleCorrect.jsp", "diffHunk": "@@ -90,29 +90,14 @@ should be included in file importing DeliveryMessages\n \n   </h:panelGroup>\n   <script>\n-    $('div.mcscFixUp').each(function(index1,elBlockToFix) {\n+      var elBlockToFix = $($('script')[$('script').length - 1].parentElement).find('div.mcscFixUp')[0];", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjIwNzQxMA=="}, "originalCommit": {"oid": "56c6678316c418173bfb071d06f719716d5a106a"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2216, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}