{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE2MDA4NjYy", "number": 8784, "title": "SAK-44611 Forums: Rubric icon does not appear from ELFinder links", "bodyText": "", "createdAt": "2020-11-05T11:55:04Z", "url": "https://github.com/sakaiproject/sakai/pull/8784", "merged": true, "mergeCommit": {"oid": "6c698edb1ea9542874166e6877eb1cda294a847c"}, "closed": true, "closedAt": "2021-01-12T16:09:45Z", "author": {"login": "josecebe"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdZh5ZTABqjM5NjIyNDU3Njc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdvdcHdAFqTU2NjQzMTQwNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "01e6dc999d1f5b21340e27bbf45925b668fd9af7", "author": {"user": {"login": "josecebe", "name": "Jose Cebell\u00e1n"}}, "url": "https://github.com/sakaiproject/sakai/commit/01e6dc999d1f5b21340e27bbf45925b668fd9af7", "committedDate": "2020-11-05T11:54:20Z", "message": "SAK-44611 Forums: Rubric icon does not appear from ELFinder links"}, "afterCommit": {"oid": "7490a0c45bd380cefeaa6e89afb796ae487d0f1d", "author": {"user": {"login": "josecebe", "name": "Jose Cebell\u00e1n"}}, "url": "https://github.com/sakaiproject/sakai/commit/7490a0c45bd380cefeaa6e89afb796ae487d0f1d", "committedDate": "2020-11-05T12:54:27Z", "message": "SAK-44611 Forums: Rubric icon does not appear from ELFinder links"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI1MzY2OTg5", "url": "https://github.com/sakaiproject/sakai/pull/8784#pullrequestreview-525366989", "createdAt": "2020-11-06T17:46:21Z", "commit": {"oid": "7490a0c45bd380cefeaa6e89afb796ae487d0f1d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI1Mzg3MDQx", "url": "https://github.com/sakaiproject/sakai/pull/8784#pullrequestreview-525387041", "createdAt": "2020-11-06T18:16:03Z", "commit": {"oid": "7490a0c45bd380cefeaa6e89afb796ae487d0f1d"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNlQxODoxNjowM1rOHu4jLw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNlQxODoxNjowM1rOHu4jLw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODkyMzA1NQ==", "bodyText": "You can simplify this with:\nthis.locale = (window.top?.portal?.locale || window.top?.sakai?.locale?.userLocale || \"en-US\").replace(\"_\", \"-\");", "url": "https://github.com/sakaiproject/sakai/pull/8784#discussion_r518923055", "createdAt": "2020-11-06T18:16:03Z", "author": {"login": "adrianfish"}, "path": "webcomponents/tool/src/main/frontend/js/rubrics/rubrics-element.js", "diffHunk": "@@ -6,7 +6,7 @@ class RubricsElement extends SakaiElement {\n \n     super();\n \n-    this.locale = window.portal ? window.portal.locale : window.top.portal.locale;\n+    this.locale = window.portal ? window.portal.locale : window.top.portal ? window.top.portal.locale : window.top.sakai.locale.userLocale.replace(\"_\",\"-\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7490a0c45bd380cefeaa6e89afb796ae487d0f1d"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a8d50414700214c9e3a3857485536c9284f03a86", "author": {"user": {"login": "josecebe", "name": "Jose Cebell\u00e1n"}}, "url": "https://github.com/sakaiproject/sakai/commit/a8d50414700214c9e3a3857485536c9284f03a86", "committedDate": "2020-12-03T17:21:36Z", "message": "SAK-44611 Forums: Rubric icon does not appear from ELFinder links"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7490a0c45bd380cefeaa6e89afb796ae487d0f1d", "author": {"user": {"login": "josecebe", "name": "Jose Cebell\u00e1n"}}, "url": "https://github.com/sakaiproject/sakai/commit/7490a0c45bd380cefeaa6e89afb796ae487d0f1d", "committedDate": "2020-11-05T12:54:27Z", "message": "SAK-44611 Forums: Rubric icon does not appear from ELFinder links"}, "afterCommit": {"oid": "a8d50414700214c9e3a3857485536c9284f03a86", "author": {"user": {"login": "josecebe", "name": "Jose Cebell\u00e1n"}}, "url": "https://github.com/sakaiproject/sakai/commit/a8d50414700214c9e3a3857485536c9284f03a86", "committedDate": "2020-12-03T17:21:36Z", "message": "SAK-44611 Forums: Rubric icon does not appear from ELFinder links"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTY2NDMxNDA2", "url": "https://github.com/sakaiproject/sakai/pull/8784#pullrequestreview-566431406", "createdAt": "2021-01-12T16:09:38Z", "commit": {"oid": "a8d50414700214c9e3a3857485536c9284f03a86"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2432, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}