{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkzNzE0ODAx", "number": 8081, "title": "SAK-41770 Resources: Copy URL to Clipboard does not work for iPhones", "bodyText": "", "createdAt": "2020-03-25T17:09:26Z", "url": "https://github.com/sakaiproject/sakai/pull/8081", "merged": true, "mergeCommit": {"oid": "28275c17f461e72187ee230daab635078016c89c"}, "closed": true, "closedAt": "2020-03-26T06:26:55Z", "author": {"login": "mpellicer"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcRK5WMgFqTM4MTM2OTA2OA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcRVrJqABqjMxNjY4MDU5OTg=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgxMzY5MDY4", "url": "https://github.com/sakaiproject/sakai/pull/8081#pullrequestreview-381369068", "createdAt": "2020-03-25T17:20:43Z", "commit": {"oid": "046fc9c3f3dc60085e2597c6393cf7201e5baa8c"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNVQxNzoyMDo0NFrOF7l_Hg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNVQxNzoyMjoxMlrOF7mDIA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODAzMjY3MA==", "bodyText": "I'd make this so that you attach the handler from the js, not using an onclick attribute. Just add a document ready right after your function body. This helps us move JS out of of the templates down the line.", "url": "https://github.com/sakaiproject/sakai/pull/8081#discussion_r398032670", "createdAt": "2020-03-25T17:20:44Z", "author": {"login": "adrianfish"}, "path": "content/content-tool/tool/src/webapp/vm/resources/sakai_properties.vm", "diffHunk": "@@ -617,7 +627,7 @@ button.btn.btn-default.multiselect-clear-filter{\n \t\t\t\t\t\t\t</th>\n \t\t\t\t\t\t\t<td>\n \t\t\t\t\t\t\t\t<div class=\"form-group\">\n-\t\t\t\t\t\t\t\t\t<a class=\"textPanelFooter\" href=\"#fileURLHolder\" onclick=\"document.getElementById('fileURLHolder').style.overflow='auto';document.getElementById('fileURLHolder').select();document.execCommand('copy');return false;\">$tlang.getString(\"props.select\")</a>\n+\t\t\t\t\t\t\t\t\t<a class=\"textPanelFooter\" href=\"#fileURLHolder\" onclick=\"copyToClipboard();\">$tlang.getString(\"props.select\")</a>\n \t\t\t\t\t\t\t\t\t<a class=\"textPanelFooter\" href=\"$model.accessUrl\" target =\"_blank\">$tlang.getString(\"props.open\")</a>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "046fc9c3f3dc60085e2597c6393cf7201e5baa8c"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODAzMzY5Ng==", "bodyText": "put a null check in here and maybe make it a const? Maybe put spaces around the = ? :)", "url": "https://github.com/sakaiproject/sakai/pull/8081#discussion_r398033696", "createdAt": "2020-03-25T17:22:12Z", "author": {"login": "adrianfish"}, "path": "content/content-tool/tool/src/webapp/vm/resources/sakai_properties.vm", "diffHunk": "@@ -31,6 +31,16 @@\n             $('#access_groups${DOT}'+index.value).closest('.multiselect-native-select').replaceWith(content);\n         });\n     });\n+\n+    function copyToClipboard() {\n+        var input = document.getElementById('fileURLHolder');\n+        input.style.overflow='auto';", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "046fc9c3f3dc60085e2597c6393cf7201e5baa8c"}, "originalPosition": 7}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "046fc9c3f3dc60085e2597c6393cf7201e5baa8c", "author": {"user": {"login": "mpellicer", "name": "Miguel Pellicer"}}, "url": "https://github.com/sakaiproject/sakai/commit/046fc9c3f3dc60085e2597c6393cf7201e5baa8c", "committedDate": "2020-03-25T17:07:30Z", "message": "SAK-41770 Resources: Copy URL to Clipboard does not work for iPhones"}, "afterCommit": {"oid": "296d00fd67e26db82ad33b8399f8c1a7a33db79b", "author": {"user": {"login": "mpellicer", "name": "Miguel Pellicer"}}, "url": "https://github.com/sakaiproject/sakai/commit/296d00fd67e26db82ad33b8399f8c1a7a33db79b", "committedDate": "2020-03-25T17:50:36Z", "message": "SAK-41770 Resources: Copy URL to Clipboard does not work for iPhones"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgxNDA3OTMw", "url": "https://github.com/sakaiproject/sakai/pull/8081#pullrequestreview-381407930", "createdAt": "2020-03-25T18:06:49Z", "commit": {"oid": "296d00fd67e26db82ad33b8399f8c1a7a33db79b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b3235a26c6f17f303e4ea987b99b0a58b913eef1", "author": {"user": {"login": "mpellicer", "name": "Miguel Pellicer"}}, "url": "https://github.com/sakaiproject/sakai/commit/b3235a26c6f17f303e4ea987b99b0a58b913eef1", "committedDate": "2020-03-26T05:57:45Z", "message": "SAK-41770 Resources: Copy URL to Clipboard does not work for iPhones"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "296d00fd67e26db82ad33b8399f8c1a7a33db79b", "author": {"user": {"login": "mpellicer", "name": "Miguel Pellicer"}}, "url": "https://github.com/sakaiproject/sakai/commit/296d00fd67e26db82ad33b8399f8c1a7a33db79b", "committedDate": "2020-03-25T17:50:36Z", "message": "SAK-41770 Resources: Copy URL to Clipboard does not work for iPhones"}, "afterCommit": {"oid": "b3235a26c6f17f303e4ea987b99b0a58b913eef1", "author": {"user": {"login": "mpellicer", "name": "Miguel Pellicer"}}, "url": "https://github.com/sakaiproject/sakai/commit/b3235a26c6f17f303e4ea987b99b0a58b913eef1", "committedDate": "2020-03-26T05:57:45Z", "message": "SAK-41770 Resources: Copy URL to Clipboard does not work for iPhones"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2145, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}