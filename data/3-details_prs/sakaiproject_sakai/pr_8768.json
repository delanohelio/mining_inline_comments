{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE0MzY1OTg3", "number": 8768, "title": "SAK-44598 allow promotion of users to provided despite role matching", "bodyText": "https://jira.sakaiproject.org/browse/SAK-44598\nQuestion for @smarquard : is there a use case for not promoting a user to their proper CMAPI role?", "createdAt": "2020-11-02T22:21:22Z", "url": "https://github.com/sakaiproject/sakai/pull/8768", "merged": true, "mergeCommit": {"oid": "360fa61afb3a7ca1d5fb019dfe01e2b88f5d5fde"}, "closed": true, "closedAt": "2020-11-09T15:11:27Z", "author": {"login": "ottenhoff"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdYwfHjgFqTUyMjE2ODkyMw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdZ6uIAgFqTUyNTM2OTU0OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIyMTY4OTIz", "url": "https://github.com/sakaiproject/sakai/pull/8768#pullrequestreview-522168923", "createdAt": "2020-11-03T03:20:51Z", "commit": {"oid": "0d2193c9a1ade74963ff847c774c4d70cda11f91"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wM1QwMzoyMDo1MVrOHsfFrw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wM1QwMzoyMDo1MVrOHsfFrw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjQwODc1MQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\t\t\t\t\tString targetRole = (String) target.get(userEid);\n          \n      \n    \n    \n  \n\nlooks like targetRole is no longer needed?", "url": "https://github.com/sakaiproject/sakai/pull/8768#discussion_r516408751", "createdAt": "2020-11-03T03:20:51Z", "author": {"login": "ern"}, "path": "kernel/kernel-impl/src/main/java/org/sakaiproject/authz/impl/DbAuthzGroupService.java", "diffHunk": "@@ -2916,8 +2916,6 @@ protected void refreshAuthzGroupInternal(BaseAuthzGroup realm)\n \t\t\t\t\t\tString userEid = userDirectoryService().getUserEid(userId);\n \t\t\t\t\t\tString targetRole = (String) target.get(userEid);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0d2193c9a1ade74963ff847c774c4d70cda11f91"}, "originalPosition": 2}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "53b08a96bea2aea2be56494b9fe5df808fa07dfc", "author": {"user": {"login": "ottenhoff", "name": "Sam Ottenhoff"}}, "url": "https://github.com/sakaiproject/sakai/commit/53b08a96bea2aea2be56494b9fe5df808fa07dfc", "committedDate": "2020-11-03T17:48:15Z", "message": "SAK-44598 new property to always move users to their provided role"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4c9e3f1b36a4055dd3e7209a1d673b485ec1db4d", "author": {"user": {"login": "ottenhoff", "name": "Sam Ottenhoff"}}, "url": "https://github.com/sakaiproject/sakai/commit/4c9e3f1b36a4055dd3e7209a1d673b485ec1db4d", "committedDate": "2020-11-03T15:57:59Z", "message": "Update kernel/kernel-impl/src/main/java/org/sakaiproject/authz/impl/DbAuthzGroupService.java\n\nCo-authored-by: Earle Nietzel <earle@longsight.com>"}, "afterCommit": {"oid": "53b08a96bea2aea2be56494b9fe5df808fa07dfc", "author": {"user": {"login": "ottenhoff", "name": "Sam Ottenhoff"}}, "url": "https://github.com/sakaiproject/sakai/commit/53b08a96bea2aea2be56494b9fe5df808fa07dfc", "committedDate": "2020-11-03T17:48:15Z", "message": "SAK-44598 new property to always move users to their provided role"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e238d0ff4358aee7d7eabe5db46e6b8be56e2b27", "author": {"user": {"login": "ottenhoff", "name": "Sam Ottenhoff"}}, "url": "https://github.com/sakaiproject/sakai/commit/e238d0ff4358aee7d7eabe5db46e6b8be56e2b27", "committedDate": "2020-11-03T17:52:20Z", "message": "one more"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI1MzY5NTQ5", "url": "https://github.com/sakaiproject/sakai/pull/8768#pullrequestreview-525369549", "createdAt": "2020-11-06T17:50:13Z", "commit": {"oid": "e238d0ff4358aee7d7eabe5db46e6b8be56e2b27"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2410, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}