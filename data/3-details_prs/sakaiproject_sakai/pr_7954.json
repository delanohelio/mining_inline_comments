{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgxMTU1NzYw", "number": 7954, "title": "SAK-43343 Forums/Rubrics use corresponding forum/topic rubric association", "bodyText": "", "createdAt": "2020-02-28T01:26:25Z", "url": "https://github.com/sakaiproject/sakai/pull/7954", "merged": true, "mergeCommit": {"oid": "1be4a156ecd8bbeb7d65819204b0e9cb03daa7be"}, "closed": true, "closedAt": "2020-03-03T19:17:46Z", "author": {"login": "ern"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcIrEhaAFqTM2NjIwNzU5MA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcKDwRdAFqTM2ODA1NzkzNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY2MjA3NTkw", "url": "https://github.com/sakaiproject/sakai/pull/7954#pullrequestreview-366207590", "createdAt": "2020-02-28T07:43:09Z", "commit": {"oid": "0785cfbac82a7147a95050d21c326008ff2e31fb"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yOFQwNzo0MzoxMFrOFvr_Rw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yOFQwNzo0ODoxMlrOFvsFoA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTU0ODEwMw==", "bodyText": "Indentation", "url": "https://github.com/sakaiproject/sakai/pull/7954#discussion_r385548103", "createdAt": "2020-02-28T07:43:10Z", "author": {"login": "bgarciaentornos"}, "path": "msgcntr/messageforums-app/src/java/org/sakaiproject/tool/messageforums/DiscussionForumTool.java", "diffHunk": "@@ -9212,18 +9212,16 @@ public boolean hasAssociatedRubric(){\n \t\treturn (allowedToGradeItem && (getRubricAssociationId() != null));\n \t}\n \n-\tpublic String getRubricAssociationId(){\n+  public String getRubricAssociationId() {\n+    String gradeAssign = selectedTopic != null ? selectedTopic.getGradeAssign() : selectedForum != null ? selectedForum.getGradeAssign() : null;\n \n-\t\tString gradeAssign = selectedTopic.getGradeAssign();\n-\n-\t\tif ((selectedTopic != null || selectedForum != null) && rubricsService.hasAssociatedRubric(RubricsConstants.RBCS_TOOL_GRADEBOOKNG, gradeAssign)) {\n-\t\t\treturn gradeAssign;\n-\t\t} else {\n-\t\t\treturn null;\n-\t\t}\n-\t}\n+    if (gradeAssign != null && rubricsService.hasAssociatedRubric(RubricsConstants.RBCS_TOOL_GRADEBOOKNG, gradeAssign)) {\n+      return gradeAssign;\n+    }\n+    return null;\n+  }\n \n-\tpublic String getCDNQuery() {\n+  public String getCDNQuery() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0785cfbac82a7147a95050d21c326008ff2e31fb"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTU0OTcyOA==", "bodyText": "Maybe adding parenthesis for readability?", "url": "https://github.com/sakaiproject/sakai/pull/7954#discussion_r385549728", "createdAt": "2020-02-28T07:48:12Z", "author": {"login": "bgarciaentornos"}, "path": "msgcntr/messageforums-app/src/java/org/sakaiproject/tool/messageforums/DiscussionForumTool.java", "diffHunk": "@@ -9212,18 +9212,16 @@ public boolean hasAssociatedRubric(){\n \t\treturn (allowedToGradeItem && (getRubricAssociationId() != null));\n \t}\n \n-\tpublic String getRubricAssociationId(){\n+  public String getRubricAssociationId() {\n+    String gradeAssign = selectedTopic != null ? selectedTopic.getGradeAssign() : selectedForum != null ? selectedForum.getGradeAssign() : null;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0785cfbac82a7147a95050d21c326008ff2e31fb"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY2MzM5MzI4", "url": "https://github.com/sakaiproject/sakai/pull/7954#pullrequestreview-366339328", "createdAt": "2020-02-28T11:42:25Z", "commit": {"oid": "0785cfbac82a7147a95050d21c326008ff2e31fb"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0785cfbac82a7147a95050d21c326008ff2e31fb", "author": {"user": {"login": "ern", "name": "Earle Nietzel"}}, "url": "https://github.com/sakaiproject/sakai/commit/0785cfbac82a7147a95050d21c326008ff2e31fb", "committedDate": "2020-02-28T01:23:14Z", "message": "SAK-43343 Forums/Rubrics use forum/topic rubric association"}, "afterCommit": {"oid": "cb0734fe471db10d346567cc4297e359fbf2febf", "author": {"user": {"login": "ern", "name": "Earle Nietzel"}}, "url": "https://github.com/sakaiproject/sakai/commit/cb0734fe471db10d346567cc4297e359fbf2febf", "committedDate": "2020-02-28T18:21:15Z", "message": "SAK-43343 Forums/Rubrics use forum/topic rubric association"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "cb0734fe471db10d346567cc4297e359fbf2febf", "author": {"user": {"login": "ern", "name": "Earle Nietzel"}}, "url": "https://github.com/sakaiproject/sakai/commit/cb0734fe471db10d346567cc4297e359fbf2febf", "committedDate": "2020-02-28T18:21:15Z", "message": "SAK-43343 Forums/Rubrics use forum/topic rubric association"}, "afterCommit": {"oid": "8408d478cc3ed88a578f802ac3dc51b27d1357e9", "author": {"user": {"login": "ern", "name": "Earle Nietzel"}}, "url": "https://github.com/sakaiproject/sakai/commit/8408d478cc3ed88a578f802ac3dc51b27d1357e9", "committedDate": "2020-02-28T18:24:24Z", "message": "SAK-43343 Forums/Rubrics use forum/topic rubric association"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8408d478cc3ed88a578f802ac3dc51b27d1357e9", "author": {"user": {"login": "ern", "name": "Earle Nietzel"}}, "url": "https://github.com/sakaiproject/sakai/commit/8408d478cc3ed88a578f802ac3dc51b27d1357e9", "committedDate": "2020-02-28T18:24:24Z", "message": "SAK-43343 Forums/Rubrics use forum/topic rubric association"}, "afterCommit": {"oid": "ccac24db6d593a9cd3549f2c4d8772face7ab5da", "author": {"user": {"login": "ern", "name": "Earle Nietzel"}}, "url": "https://github.com/sakaiproject/sakai/commit/ccac24db6d593a9cd3549f2c4d8772face7ab5da", "committedDate": "2020-02-28T18:25:24Z", "message": "SAK-43343 Forums/Rubrics use forum/topic rubric association"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ccac24db6d593a9cd3549f2c4d8772face7ab5da", "author": {"user": {"login": "ern", "name": "Earle Nietzel"}}, "url": "https://github.com/sakaiproject/sakai/commit/ccac24db6d593a9cd3549f2c4d8772face7ab5da", "committedDate": "2020-02-28T18:25:24Z", "message": "SAK-43343 Forums/Rubrics use forum/topic rubric association"}, "afterCommit": {"oid": "00aa47d42d849d3f12643ab0d2efed62f300e8e9", "author": {"user": {"login": "ern", "name": "Earle Nietzel"}}, "url": "https://github.com/sakaiproject/sakai/commit/00aa47d42d849d3f12643ab0d2efed62f300e8e9", "committedDate": "2020-02-28T18:27:24Z", "message": "SAK-43343 Forums/Rubrics use corresponding forum/topic rubric association"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "437900953e72892aa739da56996293c7214add17", "author": {"user": {"login": "ern", "name": "Earle Nietzel"}}, "url": "https://github.com/sakaiproject/sakai/commit/437900953e72892aa739da56996293c7214add17", "committedDate": "2020-02-28T18:28:50Z", "message": "SAK-43343 Forums/Rubrics use corresponding forum/topic rubric association"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "00aa47d42d849d3f12643ab0d2efed62f300e8e9", "author": {"user": {"login": "ern", "name": "Earle Nietzel"}}, "url": "https://github.com/sakaiproject/sakai/commit/00aa47d42d849d3f12643ab0d2efed62f300e8e9", "committedDate": "2020-02-28T18:27:24Z", "message": "SAK-43343 Forums/Rubrics use corresponding forum/topic rubric association"}, "afterCommit": {"oid": "437900953e72892aa739da56996293c7214add17", "author": {"user": {"login": "ern", "name": "Earle Nietzel"}}, "url": "https://github.com/sakaiproject/sakai/commit/437900953e72892aa739da56996293c7214add17", "committedDate": "2020-02-28T18:28:50Z", "message": "SAK-43343 Forums/Rubrics use corresponding forum/topic rubric association"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY3NzUzNTQ0", "url": "https://github.com/sakaiproject/sakai/pull/7954#pullrequestreview-367753544", "createdAt": "2020-03-03T07:35:48Z", "commit": {"oid": "437900953e72892aa739da56996293c7214add17"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY4MDU3OTM3", "url": "https://github.com/sakaiproject/sakai/pull/7954#pullrequestreview-368057937", "createdAt": "2020-03-03T15:07:46Z", "commit": {"oid": "437900953e72892aa739da56996293c7214add17"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2233, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}