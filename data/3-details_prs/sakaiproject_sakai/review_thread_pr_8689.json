{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTAzMzM0MDMw", "number": 8689, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQxMzo1NzowNFrOEtf3MQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNlQwNzoyODowMFrOEuVtHA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE2MTQzNDA5OnYy", "diffSide": "RIGHT", "path": "profile2/tool/src/java/org/sakaiproject/profile2/tool/pages/panels/MyNamePronunciationEdit.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQxMzo1NzowNFrOHhUZrg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQxMzo1NzowNFrOHhUZrg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDY5OTMxMA==", "bodyText": "What about this?\nString errorMessage = userProfile.getPhoneticPronunciation() == null ? \"error.profile.save.phonetic.alert\" : \"error.profile.save.info.failed\";\nformFeedback.setDefaultModel(new ResourceModel(errorMessage));", "url": "https://github.com/sakaiproject/sakai/pull/8689#discussion_r504699310", "createdAt": "2020-10-14T13:57:04Z", "author": {"login": "mpellicer"}, "path": "profile2/tool/src/java/org/sakaiproject/profile2/tool/pages/panels/MyNamePronunciationEdit.java", "diffHunk": "@@ -203,7 +203,13 @@ protected void onSubmit(AjaxRequestTarget target, Form form) {\n                     }\n \n                 } else {\n-                    formFeedback.setDefaultModel(new ResourceModel(\"error.profile.save.info.failed\"));\n+                    UserProfile userProfile = (UserProfile) form.getModelObject();\n+                    \n+                    if (userProfile.getPhoneticPronunciation()==null) {\n+                        formFeedback.setDefaultModel(new ResourceModel(\"error.profile.save.phonetic.alert\"));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e06aff176a3690ec999c9e96d5f55ea893d44b3a"}, "originalPosition": 8}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE2MTQzNTc0OnYy", "diffSide": "RIGHT", "path": "profile2/tool/src/java/org/sakaiproject/profile2/tool/pages/panels/MyNamePronunciationEdit.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQxMzo1NzoyMVrOHhUapg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQxMzo1NzoyMVrOHhUapg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDY5OTU1OA==", "bodyText": "userProfile.getPhoneticPronunciation() == null\nSpaces in the comparison.", "url": "https://github.com/sakaiproject/sakai/pull/8689#discussion_r504699558", "createdAt": "2020-10-14T13:57:21Z", "author": {"login": "mpellicer"}, "path": "profile2/tool/src/java/org/sakaiproject/profile2/tool/pages/panels/MyNamePronunciationEdit.java", "diffHunk": "@@ -247,6 +253,10 @@ private boolean save(Form form) {\n         //get the backing model\n         UserProfile userProfile = (UserProfile) form.getModelObject();\n \n+        if (userProfile.getPhoneticPronunciation()==null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e06aff176a3690ec999c9e96d5f55ea893d44b3a"}, "originalPosition": 19}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE3MDI1NDkzOnYy", "diffSide": "RIGHT", "path": "profile2/tool/src/java/org/sakaiproject/profile2/tool/pages/panels/MyNamePronunciationEdit.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNlQwNzoyNzo1NVrOHirMYA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNlQwNzoyNzo1NVrOHirMYA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjEyMTMxMg==", "bodyText": "Revert this change please.", "url": "https://github.com/sakaiproject/sakai/pull/8689#discussion_r506121312", "createdAt": "2020-10-16T07:27:55Z", "author": {"login": "mpellicer"}, "path": "profile2/tool/src/java/org/sakaiproject/profile2/tool/pages/panels/MyNamePronunciationEdit.java", "diffHunk": "@@ -204,6 +204,7 @@ protected void onSubmit(AjaxRequestTarget target, Form form) {\n \n                 } else {\n                     formFeedback.setDefaultModel(new ResourceModel(\"error.profile.save.info.failed\"));\n+                    ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "02ff147cf48d62ef5f845348e249599bb4f0f0a8"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE3MDI1NTY0OnYy", "diffSide": "RIGHT", "path": "profile2/tool/src/java/org/sakaiproject/profile2/tool/pages/panels/MyNamePronunciationEdit.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNlQwNzoyODowMFrOHirM0A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNlQwNzoyODowMFrOHirM0A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjEyMTQyNA==", "bodyText": "Revert this change please.", "url": "https://github.com/sakaiproject/sakai/pull/8689#discussion_r506121424", "createdAt": "2020-10-16T07:28:00Z", "author": {"login": "mpellicer"}, "path": "profile2/tool/src/java/org/sakaiproject/profile2/tool/pages/panels/MyNamePronunciationEdit.java", "diffHunk": "@@ -246,7 +247,7 @@ protected void onSubmit(AjaxRequestTarget target, Form form) {\n     private boolean save(Form form) {\n         //get the backing model\n         UserProfile userProfile = (UserProfile) form.getModelObject();\n-\n+        ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "02ff147cf48d62ef5f845348e249599bb4f0f0a8"}, "originalPosition": 13}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2593, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}