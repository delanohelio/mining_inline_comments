{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc0NDExNzMy", "number": 7880, "title": "[10.1.x] ISPN-11209 Max Idle changes caused a REPL read performance regression", "bodyText": "Make sure to not calculate segment if segmentation is disabled\nAdd in interface to prevent additional if/else blocks\n\nhttps://issues.redhat.com/browse/ISPN-11209", "createdAt": "2020-02-12T16:42:13Z", "url": "https://github.com/infinispan/infinispan/pull/7880", "merged": true, "mergeCommit": {"oid": "4ce72cae80d0382976c6643d02db4be5711a06dd"}, "closed": true, "closedAt": "2020-02-14T22:50:04Z", "author": {"login": "wburns"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcDpNbnABqjMwMzE2MDA2NzM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcDpU3MgBqjMwMzE2MzMzNTE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7fd819ede95445769ccdeac3c0f509e958fb5a38", "author": {"user": {"login": "wburns", "name": "William Burns"}}, "url": "https://github.com/infinispan/infinispan/commit/7fd819ede95445769ccdeac3c0f509e958fb5a38", "committedDate": "2020-02-12T16:41:19Z", "message": "ISPN-11209 Max Idle changes caused a REPL read performance regression\n\n* Make sure to not calculate segment if segmentation is disabled\n* Add in interface to prevent additional if/else blocks"}, "afterCommit": {"oid": "05c58848c1ece0a5a2c6281100a0c10b30cb8117", "author": {"user": {"login": "wburns", "name": "William Burns"}}, "url": "https://github.com/infinispan/infinispan/commit/05c58848c1ece0a5a2c6281100a0c10b30cb8117", "committedDate": "2020-02-12T16:48:33Z", "message": "ISPN-11209 Max Idle changes caused a REPL read performance regression\n\n* Make sure to not calculate segment if segmentation is disabled\n* Add in interface to prevent additional if/else blocks"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU3NjE0ODU1", "url": "https://github.com/infinispan/infinispan/pull/7880#pullrequestreview-357614855", "createdAt": "2020-02-12T16:47:21Z", "commit": {"oid": "7fd819ede95445769ccdeac3c0f509e958fb5a38"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMlQxNjo0NzoyMVrOFo2TyA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMlQxNjo0NzoyMVrOFo2TyA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODM3NzE2MA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        Supplier<PeekableTouchableMap<Object, InternalCacheEntry<Object, Object>>> mapSupplier =\n          \n          \n            \n                        Supplier<PeekableTouchableMap<Object, Object>> mapSupplier =", "url": "https://github.com/infinispan/infinispan/pull/7880#discussion_r378377160", "createdAt": "2020-02-12T16:47:21Z", "author": {"login": "danberindei"}, "path": "core/src/main/java/org/infinispan/factories/DataContainerFactory.java", "diffHunk": "@@ -58,7 +62,8 @@ public Object construct(String componentName) {\n                return new OffHeapDataContainer();\n             }\n          } else if (shouldSegment) {\n-            Supplier mapSupplier = ConcurrentHashMap::new;\n+            Supplier<PeekableTouchableMap<Object, InternalCacheEntry<Object, Object>>> mapSupplier =", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7fd819ede95445769ccdeac3c0f509e958fb5a38"}, "originalPosition": 38}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fa2b35063c52d669c7bebceecee945b4b8971f22", "author": {"user": {"login": "wburns", "name": "William Burns"}}, "url": "https://github.com/infinispan/infinispan/commit/fa2b35063c52d669c7bebceecee945b4b8971f22", "committedDate": "2020-02-12T16:56:40Z", "message": "ISPN-11209 Max Idle changes caused a REPL read performance regression\n\n* Make sure to not calculate segment if segmentation is disabled\n* Add in interface to prevent additional if/else blocks"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "05c58848c1ece0a5a2c6281100a0c10b30cb8117", "author": {"user": {"login": "wburns", "name": "William Burns"}}, "url": "https://github.com/infinispan/infinispan/commit/05c58848c1ece0a5a2c6281100a0c10b30cb8117", "committedDate": "2020-02-12T16:48:33Z", "message": "ISPN-11209 Max Idle changes caused a REPL read performance regression\n\n* Make sure to not calculate segment if segmentation is disabled\n* Add in interface to prevent additional if/else blocks"}, "afterCommit": {"oid": "fa2b35063c52d669c7bebceecee945b4b8971f22", "author": {"user": {"login": "wburns", "name": "William Burns"}}, "url": "https://github.com/infinispan/infinispan/commit/fa2b35063c52d669c7bebceecee945b4b8971f22", "committedDate": "2020-02-12T16:56:40Z", "message": "ISPN-11209 Max Idle changes caused a REPL read performance regression\n\n* Make sure to not calculate segment if segmentation is disabled\n* Add in interface to prevent additional if/else blocks"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1155, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}