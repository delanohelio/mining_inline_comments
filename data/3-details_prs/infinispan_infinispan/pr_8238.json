{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA4MTI5ODEz", "number": 8238, "title": "ISPN-11704 Change from FileSystemBind to Docker Volume in Server Test Suite", "bodyText": "https://issues.redhat.com/browse/ISPN-11704", "createdAt": "2020-04-23T19:12:40Z", "url": "https://github.com/infinispan/infinispan/pull/8238", "merged": true, "mergeCommit": {"oid": "c5b61544b69b3d59faecd65d026ff0f9ab42163c"}, "closed": true, "closedAt": "2020-04-29T07:03:19Z", "author": {"login": "diegolovison"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcah30cgFqTM5OTQwMTQxMQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABccCUWcABqjMyNzk4OTcwMDA=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk5NDAxNDEx", "url": "https://github.com/infinispan/infinispan/pull/8238#pullrequestreview-399401411", "createdAt": "2020-04-23T19:15:56Z", "commit": {"oid": "5fe3ffbfba30ccf784e08496add376a0e5023ac0"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yM1QxOToxNTo1NlrOGK4Epw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yM1QxOToxNTo1NlrOGK4Epw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDA1NzYzOQ==", "bodyText": "@tristantarrant I didn't find a use case for this? Could you please help me on that ?", "url": "https://github.com/infinispan/infinispan/pull/8238#discussion_r414057639", "createdAt": "2020-04-23T19:15:56Z", "author": {"login": "diegolovison"}, "path": "server/testdriver/core/src/main/java/org/infinispan/server/test/core/ContainerInfinispanServerDriver.java", "diffHunk": "@@ -155,41 +152,10 @@ protected void start(String name, File rootDir, String configurationFile) {\n                .label(\"name\", \"Infinispan Server\")\n                .label(\"version\", Version.getVersion())\n                .label(\"release\", Version.getVersion())\n-               .label(\"architecture\", \"x86_64\")\n-               .user(\"root\");\n+               .label(\"architecture\", \"x86_64\");\n \n          if (!prebuiltImage) {\n-            if (OS.getCurrentOs() != OS.WINDOWS) {\n-               // We need to remap the UID/GID of the jboss user inside the container to the ones of the user outside so that files created on volume mounts have the correct ownership/permissions\n-               String uid = runProcess(\"id\", \"-u\");\n-               String gid = runProcess(\"id\", \"-g\");\n-\n-               builder\n-                     .run(\"/bin/sh\", \"-c\", \"if [ -x \\\"$(command -v usermod)\\\" ]; then usermod -u \" + uid +\" jboss; fi\")\n-                     .run(\"/bin/sh\", \"-c\", \"if [ -x \\\"$(command -v groupmod)\\\" ]; then groupmod -g \" + gid + \" jboss; fi\");\n-            }\n-            builder\n-                  .copy(\"build\", INFINISPAN_SERVER_HOME)\n-                  .run(\"chown\", \"-R\", \"jboss:jboss\", INFINISPAN_SERVER_HOME)\n-                  .user(\"jboss\");\n-         }\n-         // Copy the resources to a location from where they can be added to the image\n-         try {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5fe3ffbfba30ccf784e08496add376a0e5023ac0"}, "originalPosition": 107}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5fe3ffbfba30ccf784e08496add376a0e5023ac0", "author": {"user": {"login": "diegolovison", "name": "Diego Lovison"}}, "url": "https://github.com/infinispan/infinispan/commit/5fe3ffbfba30ccf784e08496add376a0e5023ac0", "committedDate": "2020-04-23T19:12:09Z", "message": "ISPN-11704 Change from FileSystemBind to Docker Volume in Server Test Suite"}, "afterCommit": {"oid": "f1f52ea72c28a9abbf8199fa05f4580ce4927a13", "author": {"user": {"login": "diegolovison", "name": "Diego Lovison"}}, "url": "https://github.com/infinispan/infinispan/commit/f1f52ea72c28a9abbf8199fa05f4580ce4927a13", "committedDate": "2020-04-24T01:34:23Z", "message": "ISPN-11704 Change from FileSystemBind to Docker Volume in Server Test Suite"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f1f52ea72c28a9abbf8199fa05f4580ce4927a13", "author": {"user": {"login": "diegolovison", "name": "Diego Lovison"}}, "url": "https://github.com/infinispan/infinispan/commit/f1f52ea72c28a9abbf8199fa05f4580ce4927a13", "committedDate": "2020-04-24T01:34:23Z", "message": "ISPN-11704 Change from FileSystemBind to Docker Volume in Server Test Suite"}, "afterCommit": {"oid": "25cf949382118e78876ed7e57530ac41351c5dff", "author": {"user": {"login": "diegolovison", "name": "Diego Lovison"}}, "url": "https://github.com/infinispan/infinispan/commit/25cf949382118e78876ed7e57530ac41351c5dff", "committedDate": "2020-04-24T10:46:02Z", "message": "ISPN-11704 Change from FileSystemBind to Docker Volume in Server Test Suite"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "25cf949382118e78876ed7e57530ac41351c5dff", "author": {"user": {"login": "diegolovison", "name": "Diego Lovison"}}, "url": "https://github.com/infinispan/infinispan/commit/25cf949382118e78876ed7e57530ac41351c5dff", "committedDate": "2020-04-24T10:46:02Z", "message": "ISPN-11704 Change from FileSystemBind to Docker Volume in Server Test Suite"}, "afterCommit": {"oid": "00233f33412ffa4723be2344ab3533852601d316", "author": {"user": {"login": "diegolovison", "name": "Diego Lovison"}}, "url": "https://github.com/infinispan/infinispan/commit/00233f33412ffa4723be2344ab3533852601d316", "committedDate": "2020-04-24T13:41:32Z", "message": "ISPN-11704 Change from FileSystemBind to Docker Volume in Server Test Suite"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "00233f33412ffa4723be2344ab3533852601d316", "author": {"user": {"login": "diegolovison", "name": "Diego Lovison"}}, "url": "https://github.com/infinispan/infinispan/commit/00233f33412ffa4723be2344ab3533852601d316", "committedDate": "2020-04-24T13:41:32Z", "message": "ISPN-11704 Change from FileSystemBind to Docker Volume in Server Test Suite"}, "afterCommit": {"oid": "7652bac214a122e05ce37c7ccd36aa2165200780", "author": {"user": {"login": "diegolovison", "name": "Diego Lovison"}}, "url": "https://github.com/infinispan/infinispan/commit/7652bac214a122e05ce37c7ccd36aa2165200780", "committedDate": "2020-04-24T18:05:36Z", "message": "ISPN-11704 Change from FileSystemBind to Docker Volume in Server Test Suite"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7652bac214a122e05ce37c7ccd36aa2165200780", "author": {"user": {"login": "diegolovison", "name": "Diego Lovison"}}, "url": "https://github.com/infinispan/infinispan/commit/7652bac214a122e05ce37c7ccd36aa2165200780", "committedDate": "2020-04-24T18:05:36Z", "message": "ISPN-11704 Change from FileSystemBind to Docker Volume in Server Test Suite"}, "afterCommit": {"oid": "81c180ebaa80b7439dc7e0f8e8e90cbdaed68ec7", "author": {"user": {"login": "diegolovison", "name": "Diego Lovison"}}, "url": "https://github.com/infinispan/infinispan/commit/81c180ebaa80b7439dc7e0f8e8e90cbdaed68ec7", "committedDate": "2020-04-24T20:02:58Z", "message": "ISPN-11704 Change from FileSystemBind to Docker Volume in Server Test Suite"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "81c180ebaa80b7439dc7e0f8e8e90cbdaed68ec7", "author": {"user": {"login": "diegolovison", "name": "Diego Lovison"}}, "url": "https://github.com/infinispan/infinispan/commit/81c180ebaa80b7439dc7e0f8e8e90cbdaed68ec7", "committedDate": "2020-04-24T20:02:58Z", "message": "ISPN-11704 Change from FileSystemBind to Docker Volume in Server Test Suite"}, "afterCommit": {"oid": "9729f7897f889ed58be77dc9ffbfc7b75fc8c3b3", "author": {"user": {"login": "diegolovison", "name": "Diego Lovison"}}, "url": "https://github.com/infinispan/infinispan/commit/9729f7897f889ed58be77dc9ffbfc7b75fc8c3b3", "committedDate": "2020-04-24T21:19:27Z", "message": "ISPN-11704 Change from FileSystemBind to Docker Volume in Server Test Suite"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9729f7897f889ed58be77dc9ffbfc7b75fc8c3b3", "author": {"user": {"login": "diegolovison", "name": "Diego Lovison"}}, "url": "https://github.com/infinispan/infinispan/commit/9729f7897f889ed58be77dc9ffbfc7b75fc8c3b3", "committedDate": "2020-04-24T21:19:27Z", "message": "ISPN-11704 Change from FileSystemBind to Docker Volume in Server Test Suite"}, "afterCommit": {"oid": "b8954e14e9fa363334d1527b13799602113fe36a", "author": {"user": {"login": "diegolovison", "name": "Diego Lovison"}}, "url": "https://github.com/infinispan/infinispan/commit/b8954e14e9fa363334d1527b13799602113fe36a", "committedDate": "2020-04-27T19:29:16Z", "message": "ISPN-11704 Change from FileSystemBind to Docker Volume in Server Test Suite"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b8954e14e9fa363334d1527b13799602113fe36a", "author": {"user": {"login": "diegolovison", "name": "Diego Lovison"}}, "url": "https://github.com/infinispan/infinispan/commit/b8954e14e9fa363334d1527b13799602113fe36a", "committedDate": "2020-04-27T19:29:16Z", "message": "ISPN-11704 Change from FileSystemBind to Docker Volume in Server Test Suite"}, "afterCommit": {"oid": "84741d335ddfa990d5063cc92b0bfe52a674721f", "author": {"user": {"login": "diegolovison", "name": "Diego Lovison"}}, "url": "https://github.com/infinispan/infinispan/commit/84741d335ddfa990d5063cc92b0bfe52a674721f", "committedDate": "2020-04-27T19:36:07Z", "message": "ISPN-11704 Change from FileSystemBind to Docker Volume in Server Test Suite"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c8959c520ae951e751dfa2aa441c5432c573d637", "author": {"user": {"login": "diegolovison", "name": "Diego Lovison"}}, "url": "https://github.com/infinispan/infinispan/commit/c8959c520ae951e751dfa2aa441c5432c573d637", "committedDate": "2020-04-28T11:37:42Z", "message": "ISPN-11704 Change from FileSystemBind to Docker Volume in Server Test Suite"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "84741d335ddfa990d5063cc92b0bfe52a674721f", "author": {"user": {"login": "diegolovison", "name": "Diego Lovison"}}, "url": "https://github.com/infinispan/infinispan/commit/84741d335ddfa990d5063cc92b0bfe52a674721f", "committedDate": "2020-04-27T19:36:07Z", "message": "ISPN-11704 Change from FileSystemBind to Docker Volume in Server Test Suite"}, "afterCommit": {"oid": "c8959c520ae951e751dfa2aa441c5432c573d637", "author": {"user": {"login": "diegolovison", "name": "Diego Lovison"}}, "url": "https://github.com/infinispan/infinispan/commit/c8959c520ae951e751dfa2aa441c5432c573d637", "committedDate": "2020-04-28T11:37:42Z", "message": "ISPN-11704 Change from FileSystemBind to Docker Volume in Server Test Suite"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 906, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}