{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkzNzU5MjUy", "number": 8101, "title": "ISPN-11510 Convert detection of blocking or non blocking threads", "bodyText": "https://issues.redhat.com/browse/ISPN-11510\nThis issue relies on #8080", "createdAt": "2020-03-25T18:34:56Z", "url": "https://github.com/infinispan/infinispan/pull/8101", "merged": true, "mergeCommit": {"oid": "bed7556939fd3145ee8fb97b2559a2f3c20bfe5a"}, "closed": true, "closedAt": "2020-04-08T09:15:48Z", "author": {"login": "wburns"}, "timelineItems": {"totalCount": 14, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcRhSwegBqjMxNjk3NTk5NDk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcVaIBRgBqjMyMTE2ODI3Mzg=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c5c33d776a7838d14dfeb58fd1b3a70a423aca47", "author": {"user": {"login": "wburns", "name": "William Burns"}}, "url": "https://github.com/infinispan/infinispan/commit/c5c33d776a7838d14dfeb58fd1b3a70a423aca47", "committedDate": "2020-03-25T18:33:42Z", "message": "ISPN-11510 Convert detection of blocking or non blocking threads"}, "afterCommit": {"oid": "a59ba6f722a5889a06bae236efafcef0ae1a0f4a", "author": {"user": {"login": "wburns", "name": "William Burns"}}, "url": "https://github.com/infinispan/infinispan/commit/a59ba6f722a5889a06bae236efafcef0ae1a0f4a", "committedDate": "2020-03-26T19:30:02Z", "message": "ISPN-11510 Convert detection of blocking or non blocking threads"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a59ba6f722a5889a06bae236efafcef0ae1a0f4a", "author": {"user": {"login": "wburns", "name": "William Burns"}}, "url": "https://github.com/infinispan/infinispan/commit/a59ba6f722a5889a06bae236efafcef0ae1a0f4a", "committedDate": "2020-03-26T19:30:02Z", "message": "ISPN-11510 Convert detection of blocking or non blocking threads"}, "afterCommit": {"oid": "1af458b9aa12c7c14d811cef07bccb61be4e4646", "author": {"user": {"login": "wburns", "name": "William Burns"}}, "url": "https://github.com/infinispan/infinispan/commit/1af458b9aa12c7c14d811cef07bccb61be4e4646", "committedDate": "2020-03-27T14:16:22Z", "message": "ISPN-11510 Convert detection of blocking or non blocking threads"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1af458b9aa12c7c14d811cef07bccb61be4e4646", "author": {"user": {"login": "wburns", "name": "William Burns"}}, "url": "https://github.com/infinispan/infinispan/commit/1af458b9aa12c7c14d811cef07bccb61be4e4646", "committedDate": "2020-03-27T14:16:22Z", "message": "ISPN-11510 Convert detection of blocking or non blocking threads"}, "afterCommit": {"oid": "c3a65ff4626ffe646231df2db6d93d1304de7c46", "author": {"user": {"login": "wburns", "name": "William Burns"}}, "url": "https://github.com/infinispan/infinispan/commit/c3a65ff4626ffe646231df2db6d93d1304de7c46", "committedDate": "2020-03-27T14:20:38Z", "message": "ISPN-11510 Convert detection of blocking or non blocking threads"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgzODY3OTE2", "url": "https://github.com/infinispan/infinispan/pull/8101#pullrequestreview-383867916", "createdAt": "2020-03-30T13:44:31Z", "commit": {"oid": "c3a65ff4626ffe646231df2db6d93d1304de7c46"}, "state": "COMMENTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMFQxMzo0NDozMVrOF9qa_w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMFQxNDowMTo0M1rOF9rOjw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDIwMjQ5NQ==", "bodyText": "Either this method should be named something like isLoomAvailable(), or it should be possible to implement it without multi-version classes.", "url": "https://github.com/infinispan/infinispan/pull/8101#discussion_r400202495", "createdAt": "2020-03-30T13:44:31Z", "author": {"login": "danberindei"}, "path": "commons/loom/src/main/java/org/infinispan/commons/jdkspecific/JREVersion.java", "diffHunk": "@@ -0,0 +1,9 @@\n+package org.infinispan.commons.jdkspecific;\n+\n+public class JREVersion {\n+   private JREVersion() { }\n+\n+   public static boolean isJava15OrNewer() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c3a65ff4626ffe646231df2db6d93d1304de7c46"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDIwNDYxOQ==", "bodyText": "Non-backwards-compatible change, same in the builder", "url": "https://github.com/infinispan/infinispan/pull/8101#discussion_r400204619", "createdAt": "2020-03-30T13:47:26Z", "author": {"login": "danberindei"}, "path": "core/src/main/java/org/infinispan/configuration/global/ThreadFactoryConfiguration.java", "diffHunk": "@@ -67,8 +60,8 @@ public AttributeSet attributes() {\n       return name;\n    }\n \n-   public Attribute<ThreadGroup> groupName() {\n-      return group;\n+   public Attribute<String> groupName() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c3a65ff4626ffe646231df2db6d93d1304de7c46"}, "originalPosition": 64}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDIxMTYyMA==", "bodyText": "Missing @since and @author.", "url": "https://github.com/infinispan/infinispan/pull/8101#discussion_r400211620", "createdAt": "2020-03-30T13:56:30Z", "author": {"login": "danberindei"}, "path": "commons/all/src/main/java/org/infinispan/commons/executors/BlockingResource.java", "diffHunk": "@@ -0,0 +1,7 @@\n+package org.infinispan.commons.executors;\n+\n+/**\n+ * Interface to designate the resource is a blocking one.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c3a65ff4626ffe646231df2db6d93d1304de7c46"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDIxNTY5NQ==", "bodyText": "Couldn't we have a single DefaultThreadFactory class again, with the thread group as a constructor parameter?", "url": "https://github.com/infinispan/infinispan/pull/8101#discussion_r400215695", "createdAt": "2020-03-30T14:01:43Z", "author": {"login": "danberindei"}, "path": "core/src/main/java/org/infinispan/factories/NamedExecutorsFactory.java", "diffHunk": "@@ -107,13 +108,18 @@ public Object construct(String componentName) {\n \n    private ThreadFactory createThreadFactoryWithDefaults(GlobalConfiguration globalCfg, final String componentName,\n                                                          ExecutorServiceType type) {\n-      if (type.isNonBlocking()) {\n-         return new DefaultNonBlockingThreadFactory(null, getDefaultThreadPrio(componentName),\n-               DefaultThreadFactory.DEFAULT_PATTERN, globalCfg.transport().nodeName(), shortened(componentName));\n+      switch (type) {\n+         case BLOCKING:\n+            return new BlockingThreadFactory(\"ISPN-blocking-thread-group\", getDefaultThreadPrio(componentName),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c3a65ff4626ffe646231df2db6d93d1304de7c46"}, "originalPosition": 41}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c3a65ff4626ffe646231df2db6d93d1304de7c46", "author": {"user": {"login": "wburns", "name": "William Burns"}}, "url": "https://github.com/infinispan/infinispan/commit/c3a65ff4626ffe646231df2db6d93d1304de7c46", "committedDate": "2020-03-27T14:20:38Z", "message": "ISPN-11510 Convert detection of blocking or non blocking threads"}, "afterCommit": {"oid": "d8007979bbf41ae757d1fcd6d3a0e05dc3914b18", "author": {"user": {"login": "wburns", "name": "William Burns"}}, "url": "https://github.com/infinispan/infinispan/commit/d8007979bbf41ae757d1fcd6d3a0e05dc3914b18", "committedDate": "2020-03-30T17:05:06Z", "message": "ISPN-11561 Remove extra thread in BlockingTaskAwareExecutorServiceImpl"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d8007979bbf41ae757d1fcd6d3a0e05dc3914b18", "author": {"user": {"login": "wburns", "name": "William Burns"}}, "url": "https://github.com/infinispan/infinispan/commit/d8007979bbf41ae757d1fcd6d3a0e05dc3914b18", "committedDate": "2020-03-30T17:05:06Z", "message": "ISPN-11561 Remove extra thread in BlockingTaskAwareExecutorServiceImpl"}, "afterCommit": {"oid": "0b7ee815144fb7efb0010bbc0ffc94907b4a1f9a", "author": {"user": {"login": "wburns", "name": "William Burns"}}, "url": "https://github.com/infinispan/infinispan/commit/0b7ee815144fb7efb0010bbc0ffc94907b4a1f9a", "committedDate": "2020-03-30T17:13:13Z", "message": "ISPN-11561 Remove extra thread in BlockingTaskAwareExecutorServiceImpl"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0b7ee815144fb7efb0010bbc0ffc94907b4a1f9a", "author": {"user": {"login": "wburns", "name": "William Burns"}}, "url": "https://github.com/infinispan/infinispan/commit/0b7ee815144fb7efb0010bbc0ffc94907b4a1f9a", "committedDate": "2020-03-30T17:13:13Z", "message": "ISPN-11561 Remove extra thread in BlockingTaskAwareExecutorServiceImpl"}, "afterCommit": {"oid": "39c7dba152e12416bade5eb4b4525e06b5e5d38f", "author": {"user": {"login": "wburns", "name": "William Burns"}}, "url": "https://github.com/infinispan/infinispan/commit/39c7dba152e12416bade5eb4b4525e06b5e5d38f", "committedDate": "2020-03-30T18:48:15Z", "message": "ISPN-11561 Remove extra thread in BlockingTaskAwareExecutorServiceImpl"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "39c7dba152e12416bade5eb4b4525e06b5e5d38f", "author": {"user": {"login": "wburns", "name": "William Burns"}}, "url": "https://github.com/infinispan/infinispan/commit/39c7dba152e12416bade5eb4b4525e06b5e5d38f", "committedDate": "2020-03-30T18:48:15Z", "message": "ISPN-11561 Remove extra thread in BlockingTaskAwareExecutorServiceImpl"}, "afterCommit": {"oid": "23761b8a3d110cc74b7f9ece7b4c415f804e908a", "author": {"user": {"login": "wburns", "name": "William Burns"}}, "url": "https://github.com/infinispan/infinispan/commit/23761b8a3d110cc74b7f9ece7b4c415f804e908a", "committedDate": "2020-03-31T03:43:22Z", "message": "ISPN-11561 Remove extra thread in BlockingTaskAwareExecutorServiceImpl"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg2NTExMjU5", "url": "https://github.com/infinispan/infinispan/pull/8101#pullrequestreview-386511259", "createdAt": "2020-04-02T14:57:16Z", "commit": {"oid": "23761b8a3d110cc74b7f9ece7b4c415f804e908a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMlQxNDo1NzoxNlrOF_vVow==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMlQxNDo1NzoxNlrOF_vVow==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjM4MDE5NQ==", "bodyText": "Shouldn't this method return attributes.attribute(GROUP).get()?", "url": "https://github.com/infinispan/infinispan/pull/8101#discussion_r402380195", "createdAt": "2020-04-02T14:57:16Z", "author": {"login": "danberindei"}, "path": "core/src/main/java/org/infinispan/configuration/global/ThreadFactoryConfigurationBuilder.java", "diffHunk": "@@ -45,15 +53,23 @@ public ThreadFactoryConfigurationBuilder nodeName(String nodeName) {\n       return this;\n    }\n \n-   public String name() {\n+   /**\n+    * @deprecated Please use {@link #threadGroupName()} instead\n+    */\n+   @Deprecated\n+   public ThreadGroup group() {\n+      throw new UnsupportedOperationException();\n+   }\n+\n+   public String threadGroupName() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "23761b8a3d110cc74b7f9ece7b4c415f804e908a"}, "originalPosition": 31}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg2NTUyNzM3", "url": "https://github.com/infinispan/infinispan/pull/8101#pullrequestreview-386552737", "createdAt": "2020-04-02T15:40:51Z", "commit": {"oid": "23761b8a3d110cc74b7f9ece7b4c415f804e908a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMlQxNTo0MDo1MlrOF_xXqw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMlQxNTo0MDo1MlrOF_xXqw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjQxMzQ4Mw==", "bodyText": "Typo: programmtic", "url": "https://github.com/infinispan/infinispan/pull/8101#discussion_r402413483", "createdAt": "2020-04-02T15:40:52Z", "author": {"login": "danberindei"}, "path": "documentation/src/main/asciidoc/topics/upgrading.adoc", "diffHunk": "@@ -23,6 +23,11 @@ Total Order transaction protocol was deprecated in 10.0 and now it is removed.\n ** `.buildQueryBuilderForClass()`, that allows to build Hibernate Search queries directly has been removed. Ickle queries should be used instead.\n ** It is not possible anymore to specify multiple target entity(ies) class(es) when calling `.getQuery()`. The entity will come from the Ickle query string, so multi-entity queries are not supported anymore.\n \n+== ThreadFactoryConfiguration changes\n+\n+The ThreadGroup configuration setting has been removed and only thread group name is allowed now.\n+This configuration was inconsistent between programmtic and declarative configuration and is now", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "23761b8a3d110cc74b7f9ece7b4c415f804e908a"}, "originalPosition": 7}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "23761b8a3d110cc74b7f9ece7b4c415f804e908a", "author": {"user": {"login": "wburns", "name": "William Burns"}}, "url": "https://github.com/infinispan/infinispan/commit/23761b8a3d110cc74b7f9ece7b4c415f804e908a", "committedDate": "2020-03-31T03:43:22Z", "message": "ISPN-11561 Remove extra thread in BlockingTaskAwareExecutorServiceImpl"}, "afterCommit": {"oid": "ffdc67126c4952a5db5964ead107e1621f46cfe9", "author": {"user": {"login": "wburns", "name": "William Burns"}}, "url": "https://github.com/infinispan/infinispan/commit/ffdc67126c4952a5db5964ead107e1621f46cfe9", "committedDate": "2020-04-03T17:29:43Z", "message": "ISPN-11561 Remove extra thread in BlockingTaskAwareExecutorServiceImpl"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2fc042d529e36a7e287b4cb5f87e34ed1b4b5774", "author": {"user": {"login": "wburns", "name": "William Burns"}}, "url": "https://github.com/infinispan/infinispan/commit/2fc042d529e36a7e287b4cb5f87e34ed1b4b5774", "committedDate": "2020-04-07T21:24:37Z", "message": "ISPN-11510 Convert detection of blocking or non blocking threads"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dfb4c31b56dfd84d98485bac18ee0afcc890973d", "author": {"user": {"login": "wburns", "name": "William Burns"}}, "url": "https://github.com/infinispan/infinispan/commit/dfb4c31b56dfd84d98485bac18ee0afcc890973d", "committedDate": "2020-04-07T21:24:37Z", "message": "ISPN-11561 Remove extra thread in BlockingTaskAwareExecutorServiceImpl"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ffdc67126c4952a5db5964ead107e1621f46cfe9", "author": {"user": {"login": "wburns", "name": "William Burns"}}, "url": "https://github.com/infinispan/infinispan/commit/ffdc67126c4952a5db5964ead107e1621f46cfe9", "committedDate": "2020-04-03T17:29:43Z", "message": "ISPN-11561 Remove extra thread in BlockingTaskAwareExecutorServiceImpl"}, "afterCommit": {"oid": "dfb4c31b56dfd84d98485bac18ee0afcc890973d", "author": {"user": {"login": "wburns", "name": "William Burns"}}, "url": "https://github.com/infinispan/infinispan/commit/dfb4c31b56dfd84d98485bac18ee0afcc890973d", "committedDate": "2020-04-07T21:24:37Z", "message": "ISPN-11561 Remove extra thread in BlockingTaskAwareExecutorServiceImpl"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 981, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}