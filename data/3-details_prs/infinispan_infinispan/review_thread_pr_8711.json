{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkyMzI3NDkz", "number": 8711, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNFQxMjoxODo1MVrOEnA8Kg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNFQxMjoxODo1MVrOEnA8Kg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA5MzQ1MzIyOnYy", "diffSide": "RIGHT", "path": "core/src/main/java/org/infinispan/distribution/ch/impl/ReplicatedConsistentHashFactory.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNFQxMjoxODo1MVrOHXXtpQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNFQxMjoxODo1MVrOHXXtpQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDI2NzgxMw==", "bodyText": "@tristantarrant drink! \ud83c\udf7b", "url": "https://github.com/infinispan/infinispan/pull/8711#discussion_r494267813", "createdAt": "2020-09-24T12:18:51Z", "author": {"login": "alanfx"}, "path": "core/src/main/java/org/infinispan/distribution/ch/impl/ReplicatedConsistentHashFactory.java", "diffHunk": "@@ -50,6 +60,15 @@ public ReplicatedConsistentHash updateMembers(ReplicatedConsistentHash baseCH, L\n       if (newMembers.equals(baseCH.getMembers()))\n          return baseCH;\n \n+      return updateCH(baseCH, newMembers, actualCapacityFactors, false);\n+   }\n+\n+   private ReplicatedConsistentHash updateCH(ReplicatedConsistentHash baseCH, List<Address> newMembers,\n+                                             Map<Address, Float> actualCapacityFactors, boolean rebalance) {\n+      // New members missing from the old CH or with capacity factor 0 should not become primary or backup owners", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "af2fc8a252c0eaa7d787c7942ee24742c633ce99"}, "originalPosition": 39}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3816, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}