{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE5ODkzMzA4", "number": 8847, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xN1QwOTo1OToxMFrOE58Geg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xN1QwOTo1OToxMFrOE58Geg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI5MTg4OTg2OnYy", "diffSide": "RIGHT", "path": "server/runtime/src/main/java/org/infinispan/server/Bootstrap.java", "isResolved": false, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xN1QwOTo1OToxMFrOH0tHFA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xN1QxMDoxNzoxMlrOH0t02g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTAyNzA5Mg==", "bodyText": "-1\nthis will overwrite everything defined with -D<key>=<value> (and can overwrite other arguments as well like -p, -o)", "url": "https://github.com/infinispan/infinispan/pull/8847#discussion_r525027092", "createdAt": "2020-11-17T09:59:10Z", "author": {"login": "pruivo"}, "path": "server/runtime/src/main/java/org/infinispan/server/Bootstrap.java", "diffHunk": "@@ -101,8 +104,17 @@ protected void handleArgumentCommand(String command, String parameter, Iterator<\n          case \"--port-offset\":\n             properties.setProperty(Server.INFINISPAN_PORT_OFFSET, parameter);\n             break;\n+         case \"-P\":\n+            parameter = args.next();\n+         case \"--properties\":\n+            try(Reader r = Files.newBufferedReader(Paths.get(parameter))) {\n+               properties.load(r);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "59aeaa6f711476b4114e883537019efeb614d129"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTAyODE2NQ==", "bodyText": "Order matters.", "url": "https://github.com/infinispan/infinispan/pull/8847#discussion_r525028165", "createdAt": "2020-11-17T10:00:42Z", "author": {"login": "tristantarrant"}, "path": "server/runtime/src/main/java/org/infinispan/server/Bootstrap.java", "diffHunk": "@@ -101,8 +104,17 @@ protected void handleArgumentCommand(String command, String parameter, Iterator<\n          case \"--port-offset\":\n             properties.setProperty(Server.INFINISPAN_PORT_OFFSET, parameter);\n             break;\n+         case \"-P\":\n+            parameter = args.next();\n+         case \"--properties\":\n+            try(Reader r = Files.newBufferedReader(Paths.get(parameter))) {\n+               properties.load(r);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTAyNzA5Mg=="}, "originalCommit": {"oid": "59aeaa6f711476b4114e883537019efeb614d129"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTAzNzkwOA==", "bodyText": "order doesn't matter. -D properties are always parser before the Bootstrap.handleArgumentCommand()\n$ cat keys.properties \ninfinispan.socket.binding.port-offset=100\n$ /bin/server.sh -P keys.properties -Dinfinispan.socket.binding.port-offset=200\n...\n10:09:34,212 INFO  (main) [org.infinispan.SERVER] ISPN080004: Connector SINGLE_PORT (default) listening on 127.0.0.1:11322", "url": "https://github.com/infinispan/infinispan/pull/8847#discussion_r525037908", "createdAt": "2020-11-17T10:15:47Z", "author": {"login": "pruivo"}, "path": "server/runtime/src/main/java/org/infinispan/server/Bootstrap.java", "diffHunk": "@@ -101,8 +104,17 @@ protected void handleArgumentCommand(String command, String parameter, Iterator<\n          case \"--port-offset\":\n             properties.setProperty(Server.INFINISPAN_PORT_OFFSET, parameter);\n             break;\n+         case \"-P\":\n+            parameter = args.next();\n+         case \"--properties\":\n+            try(Reader r = Files.newBufferedReader(Paths.get(parameter))) {\n+               properties.load(r);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTAyNzA5Mg=="}, "originalCommit": {"oid": "59aeaa6f711476b4114e883537019efeb614d129"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTAzODgxMA==", "bodyText": "Right. I'll do a merge instead of a load.", "url": "https://github.com/infinispan/infinispan/pull/8847#discussion_r525038810", "createdAt": "2020-11-17T10:17:12Z", "author": {"login": "tristantarrant"}, "path": "server/runtime/src/main/java/org/infinispan/server/Bootstrap.java", "diffHunk": "@@ -101,8 +104,17 @@ protected void handleArgumentCommand(String command, String parameter, Iterator<\n          case \"--port-offset\":\n             properties.setProperty(Server.INFINISPAN_PORT_OFFSET, parameter);\n             break;\n+         case \"-P\":\n+            parameter = args.next();\n+         case \"--properties\":\n+            try(Reader r = Files.newBufferedReader(Paths.get(parameter))) {\n+               properties.load(r);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTAyNzA5Mg=="}, "originalCommit": {"oid": "59aeaa6f711476b4114e883537019efeb614d129"}, "originalPosition": 21}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3783, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}