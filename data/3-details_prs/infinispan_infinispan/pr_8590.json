{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU2MzAxMzc4", "number": 8590, "title": "ISPN-12160 systemd example to start Infinispan server with systemctl", "bodyText": "https://issues.redhat.com/browse/ISPN-12160", "createdAt": "2020-07-24T13:55:28Z", "url": "https://github.com/infinispan/infinispan/pull/8590", "merged": true, "mergeCommit": {"oid": "2eca6018c8d859f9c57977f60aa212eb486d89fc"}, "closed": true, "closedAt": "2020-10-19T19:34:07Z", "author": {"login": "wfink"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc4EabuAH2gAyNDU2MzAxMzc4OmQ5NWEyMjQ3MmE4OGM4YjkzY2RkYzdlYTczMWZhOTAwZmUzZTExMjg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdUJZqnAH2gAyNDU2MzAxMzc4OjA3NWUyYzA3OGQzOGI4ZGZhNGMyMWQwN2Q5NThiOGY1MGRjYWZkNDk=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "d95a22472a88c8b93cddc7ea731fa900fe3e1128", "author": {"user": {"login": "wfink", "name": "Wolf-Dieter Fink"}}, "url": "https://github.com/infinispan/infinispan/commit/d95a22472a88c8b93cddc7ea731fa900fe3e1128", "committedDate": "2020-07-24T13:54:20Z", "message": "ISPN-12160 systemd example to start Infinispan server with systemctl"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU4MjcwNjM4", "url": "https://github.com/infinispan/infinispan/pull/8590#pullrequestreview-458270638", "createdAt": "2020-07-30T10:16:34Z", "commit": {"oid": "d95a22472a88c8b93cddc7ea731fa900fe3e1128"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQxMDoxNjozNFrOG5c_Bg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQxMDoxODo0OVrOG5dDlg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Mjg5NjkwMg==", "bodyText": "Maybe it would be clearer to say \"copy this file to /etc/systemd/system\"?", "url": "https://github.com/infinispan/infinispan/pull/8590#discussion_r462896902", "createdAt": "2020-07-30T10:16:34Z", "author": {"login": "danberindei"}, "path": "server/runtime/src/main/server/bin/service/infinispan.service", "diffHunk": "@@ -0,0 +1,18 @@\n+# script is for /etc/systemd/system", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d95a22472a88c8b93cddc7ea731fa900fe3e1128"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Mjg5ODA3MA==", "bodyText": "I'm not very familiar with how systemd starts user services, would it work if we removed the User=infinispan line and instead copy the service file to /etc/systemd/user/infinispan?", "url": "https://github.com/infinispan/infinispan/pull/8590#discussion_r462898070", "createdAt": "2020-07-30T10:18:49Z", "author": {"login": "danberindei"}, "path": "server/runtime/src/main/server/bin/service/infinispan.service", "diffHunk": "@@ -0,0 +1,18 @@\n+# script is for /etc/systemd/system\n+# activate with 'systemctl daemon-reload'\n+#               'systemctl start|enable infinispan'\n+\n+[Unit]\n+Description=Infinispan Server Service\n+After=network.target\n+\n+[Service]\n+Environment=\"INFINISPAN_HOME=/opt/infinispan\"\n+#Environment=\"JAVA_HOME=/usr/java/jdk-11.0.8\"\n+ExecStart=/bin/bash -c ${INFINISPAN_HOME}/bin/server.sh\n+Type=simple\n+User=infinispan", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d95a22472a88c8b93cddc7ea731fa900fe3e1128"}, "originalPosition": 14}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgzNjQ3MTQ1", "url": "https://github.com/infinispan/infinispan/pull/8590#pullrequestreview-483647145", "createdAt": "2020-09-07T15:59:08Z", "commit": {"oid": "d95a22472a88c8b93cddc7ea731fa900fe3e1128"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wN1QxNTo1OTowOVrOHOD24Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wN1QxNTo1OTowOVrOHOD24Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDUwNTMxMw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # script is for /etc/systemd/system\n          \n          \n            \n            # This script allows you to run Infinispan Server as a systemd service.\n          \n          \n            \n            # Modify environment properties in this script as appropriate.\n          \n          \n            \n            # Copy this script to the following location: /etc/systemd/system", "url": "https://github.com/infinispan/infinispan/pull/8590#discussion_r484505313", "createdAt": "2020-09-07T15:59:09Z", "author": {"login": "oraNod"}, "path": "server/runtime/src/main/server/bin/service/infinispan.service", "diffHunk": "@@ -0,0 +1,18 @@\n+# script is for /etc/systemd/system", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d95a22472a88c8b93cddc7ea731fa900fe3e1128"}, "originalPosition": 1}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "89f1e92e34c1d368d61e55ecd9ab160ae0c45d7d", "author": {"user": {"login": "wfink", "name": "Wolf-Dieter Fink"}}, "url": "https://github.com/infinispan/infinispan/commit/89f1e92e34c1d368d61e55ecd9ab160ae0c45d7d", "committedDate": "2020-09-07T17:38:52Z", "message": "Update server/runtime/src/main/server/bin/service/infinispan.service\n\nCo-authored-by: Don Naro <dnaro@redhat.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgzNjg4MTkz", "url": "https://github.com/infinispan/infinispan/pull/8590#pullrequestreview-483688193", "createdAt": "2020-09-07T18:46:01Z", "commit": {"oid": "89f1e92e34c1d368d61e55ecd9ab160ae0c45d7d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wN1QxODo0NjowMVrOHOGOMg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wN1QxODo0NjowMVrOHOGOMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDU0NDA1MA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # activate with 'systemctl daemon-reload'\n          \n          \n            \n            # Activate with 'systemctl daemon-reload'", "url": "https://github.com/infinispan/infinispan/pull/8590#discussion_r484544050", "createdAt": "2020-09-07T18:46:01Z", "author": {"login": "oraNod"}, "path": "server/runtime/src/main/server/bin/service/infinispan.service", "diffHunk": "@@ -0,0 +1,19 @@\n+# This script allows you to run Infinispan Server as a systemd service.\n+# Modify environment properties in this script as appropriate.\n+# Copy this script to the following location: /etc/systemd/system\n+# activate with 'systemctl daemon-reload'", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "89f1e92e34c1d368d61e55ecd9ab160ae0c45d7d"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "075e2c078d38b8dfa4c21d07d958b8f50dcafd49", "author": {"user": {"login": "tristantarrant", "name": "Tristan Tarrant"}}, "url": "https://github.com/infinispan/infinispan/commit/075e2c078d38b8dfa4c21d07d958b8f50dcafd49", "committedDate": "2020-10-19T19:32:54Z", "message": "Update server/runtime/src/main/server/bin/service/infinispan.service\n\nCo-authored-by: Don Naro <dnaro@redhat.com>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 552, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}