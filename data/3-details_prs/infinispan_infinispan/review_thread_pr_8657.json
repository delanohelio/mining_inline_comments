{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc1NTk2MzA2", "number": 8657, "reviewThreads": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQxOToxMzo1NFrOEd3E6g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNFQxNDozODo0NlrOEgaG3Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk5NzQ2NTM4OnYy", "diffSide": "RIGHT", "path": "integrationtests/server-integration/third-party-server/pom.xml", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQxOToxMzo1NFrOHJRsyg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQxOToxMzo1NFrOHJRsyg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTQ4OTIyNg==", "bodyText": "If you have another name for the module.\nMaybe third-party and the path third-party-server is not the best", "url": "https://github.com/infinispan/infinispan/pull/8657#discussion_r479489226", "createdAt": "2020-08-28T19:13:54Z", "author": {"login": "diegolovison"}, "path": "integrationtests/server-integration/third-party-server/pom.xml", "diffHunk": "@@ -0,0 +1,223 @@\n+<?xml version='1.0' encoding='UTF-8'?>\n+<project xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\" xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\">\n+    <modelVersion>4.0.0</modelVersion>\n+\n+    <parent>\n+        <groupId>org.infinispan</groupId>\n+        <artifactId>infinispan-server-integration</artifactId>\n+        <version>12.0.0-SNAPSHOT</version>\n+        <relativePath>../pom.xml</relativePath>\n+    </parent>\n+\n+    <artifactId>infinispan-server-integrationtests-third-party</artifactId>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "11779be4f86c3afc33d22f5a02a3d0fc4a3dc034"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk5NzQ2NzIyOnYy", "diffSide": "RIGHT", "path": "integrationtests/server-integration/third-party-server/pom.xml", "isResolved": true, "comments": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQxOToxNDozNlrOHJRt6Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQxNDozMDo0OVrOHK5AxA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTQ4OTUxMw==", "bodyText": "@pruivo should we move to build?\nIt seems so specific to move to a high-level project.", "url": "https://github.com/infinispan/infinispan/pull/8657#discussion_r479489513", "createdAt": "2020-08-28T19:14:36Z", "author": {"login": "diegolovison"}, "path": "integrationtests/server-integration/third-party-server/pom.xml", "diffHunk": "@@ -0,0 +1,223 @@\n+<?xml version='1.0' encoding='UTF-8'?>\n+<project xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\" xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\">\n+    <modelVersion>4.0.0</modelVersion>\n+\n+    <parent>\n+        <groupId>org.infinispan</groupId>\n+        <artifactId>infinispan-server-integration</artifactId>\n+        <version>12.0.0-SNAPSHOT</version>\n+        <relativePath>../pom.xml</relativePath>\n+    </parent>\n+\n+    <artifactId>infinispan-server-integrationtests-third-party</artifactId>\n+\n+    <properties>\n+        <version.tomcat>9.0.37</version.tomcat>\n+        <version.wildfly>20.0.1.Final</version.wildfly>\n+        <version.arquillian-tomcat-embedded>1.1.0.Final</version.arquillian-tomcat-embedded>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "11779be4f86c3afc33d22f5a02a3d0fc4a3dc034"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDkyOTI1OQ==", "bodyText": "it is ok. do we really need another wildfly version? \ud83d\ude2d", "url": "https://github.com/infinispan/infinispan/pull/8657#discussion_r480929259", "createdAt": "2020-09-01T07:42:14Z", "author": {"login": "pruivo"}, "path": "integrationtests/server-integration/third-party-server/pom.xml", "diffHunk": "@@ -0,0 +1,223 @@\n+<?xml version='1.0' encoding='UTF-8'?>\n+<project xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\" xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\">\n+    <modelVersion>4.0.0</modelVersion>\n+\n+    <parent>\n+        <groupId>org.infinispan</groupId>\n+        <artifactId>infinispan-server-integration</artifactId>\n+        <version>12.0.0-SNAPSHOT</version>\n+        <relativePath>../pom.xml</relativePath>\n+    </parent>\n+\n+    <artifactId>infinispan-server-integrationtests-third-party</artifactId>\n+\n+    <properties>\n+        <version.tomcat>9.0.37</version.tomcat>\n+        <version.wildfly>20.0.1.Final</version.wildfly>\n+        <version.arquillian-tomcat-embedded>1.1.0.Final</version.arquillian-tomcat-embedded>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTQ4OTUxMw=="}, "originalCommit": {"oid": "11779be4f86c3afc33d22f5a02a3d0fc4a3dc034"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTEyODc0MA==", "bodyText": "Can we change https://github.com/infinispan/infinispan/blob/master/build-configuration/pom.xml#L114-L115 to something different?\n\nappserver.groupId: wildfly.groupId\nappserver.version: version.wildfly", "url": "https://github.com/infinispan/infinispan/pull/8657#discussion_r481128740", "createdAt": "2020-09-01T13:16:10Z", "author": {"login": "diegolovison"}, "path": "integrationtests/server-integration/third-party-server/pom.xml", "diffHunk": "@@ -0,0 +1,223 @@\n+<?xml version='1.0' encoding='UTF-8'?>\n+<project xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\" xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\">\n+    <modelVersion>4.0.0</modelVersion>\n+\n+    <parent>\n+        <groupId>org.infinispan</groupId>\n+        <artifactId>infinispan-server-integration</artifactId>\n+        <version>12.0.0-SNAPSHOT</version>\n+        <relativePath>../pom.xml</relativePath>\n+    </parent>\n+\n+    <artifactId>infinispan-server-integrationtests-third-party</artifactId>\n+\n+    <properties>\n+        <version.tomcat>9.0.37</version.tomcat>\n+        <version.wildfly>20.0.1.Final</version.wildfly>\n+        <version.arquillian-tomcat-embedded>1.1.0.Final</version.arquillian-tomcat-embedded>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTQ4OTUxMw=="}, "originalCommit": {"oid": "11779be4f86c3afc33d22f5a02a3d0fc4a3dc034"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTE0NTMyMw==", "bodyText": "you can change it, but then you may have problems downstream since we build against EAP 7.3 (WF 18).", "url": "https://github.com/infinispan/infinispan/pull/8657#discussion_r481145323", "createdAt": "2020-09-01T13:40:14Z", "author": {"login": "pruivo"}, "path": "integrationtests/server-integration/third-party-server/pom.xml", "diffHunk": "@@ -0,0 +1,223 @@\n+<?xml version='1.0' encoding='UTF-8'?>\n+<project xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\" xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\">\n+    <modelVersion>4.0.0</modelVersion>\n+\n+    <parent>\n+        <groupId>org.infinispan</groupId>\n+        <artifactId>infinispan-server-integration</artifactId>\n+        <version>12.0.0-SNAPSHOT</version>\n+        <relativePath>../pom.xml</relativePath>\n+    </parent>\n+\n+    <artifactId>infinispan-server-integrationtests-third-party</artifactId>\n+\n+    <properties>\n+        <version.tomcat>9.0.37</version.tomcat>\n+        <version.wildfly>20.0.1.Final</version.wildfly>\n+        <version.arquillian-tomcat-embedded>1.1.0.Final</version.arquillian-tomcat-embedded>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTQ4OTUxMw=="}, "originalCommit": {"oid": "11779be4f86c3afc33d22f5a02a3d0fc4a3dc034"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTE1Njg2Ng==", "bodyText": "ok, how about change only the property names ?", "url": "https://github.com/infinispan/infinispan/pull/8657#discussion_r481156866", "createdAt": "2020-09-01T13:56:42Z", "author": {"login": "diegolovison"}, "path": "integrationtests/server-integration/third-party-server/pom.xml", "diffHunk": "@@ -0,0 +1,223 @@\n+<?xml version='1.0' encoding='UTF-8'?>\n+<project xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\" xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\">\n+    <modelVersion>4.0.0</modelVersion>\n+\n+    <parent>\n+        <groupId>org.infinispan</groupId>\n+        <artifactId>infinispan-server-integration</artifactId>\n+        <version>12.0.0-SNAPSHOT</version>\n+        <relativePath>../pom.xml</relativePath>\n+    </parent>\n+\n+    <artifactId>infinispan-server-integrationtests-third-party</artifactId>\n+\n+    <properties>\n+        <version.tomcat>9.0.37</version.tomcat>\n+        <version.wildfly>20.0.1.Final</version.wildfly>\n+        <version.arquillian-tomcat-embedded>1.1.0.Final</version.arquillian-tomcat-embedded>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTQ4OTUxMw=="}, "originalCommit": {"oid": "11779be4f86c3afc33d22f5a02a3d0fc4a3dc034"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTE2MjA4Mg==", "bodyText": "what properties?", "url": "https://github.com/infinispan/infinispan/pull/8657#discussion_r481162082", "createdAt": "2020-09-01T14:04:10Z", "author": {"login": "pruivo"}, "path": "integrationtests/server-integration/third-party-server/pom.xml", "diffHunk": "@@ -0,0 +1,223 @@\n+<?xml version='1.0' encoding='UTF-8'?>\n+<project xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\" xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\">\n+    <modelVersion>4.0.0</modelVersion>\n+\n+    <parent>\n+        <groupId>org.infinispan</groupId>\n+        <artifactId>infinispan-server-integration</artifactId>\n+        <version>12.0.0-SNAPSHOT</version>\n+        <relativePath>../pom.xml</relativePath>\n+    </parent>\n+\n+    <artifactId>infinispan-server-integrationtests-third-party</artifactId>\n+\n+    <properties>\n+        <version.tomcat>9.0.37</version.tomcat>\n+        <version.wildfly>20.0.1.Final</version.wildfly>\n+        <version.arquillian-tomcat-embedded>1.1.0.Final</version.arquillian-tomcat-embedded>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTQ4OTUxMw=="}, "originalCommit": {"oid": "11779be4f86c3afc33d22f5a02a3d0fc4a3dc034"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTE4MTg5Mg==", "bodyText": "from appserver.groupId to wildfly.groupId\nfrom appserver.version to version.wildfly", "url": "https://github.com/infinispan/infinispan/pull/8657#discussion_r481181892", "createdAt": "2020-09-01T14:30:49Z", "author": {"login": "diegolovison"}, "path": "integrationtests/server-integration/third-party-server/pom.xml", "diffHunk": "@@ -0,0 +1,223 @@\n+<?xml version='1.0' encoding='UTF-8'?>\n+<project xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\" xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\">\n+    <modelVersion>4.0.0</modelVersion>\n+\n+    <parent>\n+        <groupId>org.infinispan</groupId>\n+        <artifactId>infinispan-server-integration</artifactId>\n+        <version>12.0.0-SNAPSHOT</version>\n+        <relativePath>../pom.xml</relativePath>\n+    </parent>\n+\n+    <artifactId>infinispan-server-integrationtests-third-party</artifactId>\n+\n+    <properties>\n+        <version.tomcat>9.0.37</version.tomcat>\n+        <version.wildfly>20.0.1.Final</version.wildfly>\n+        <version.arquillian-tomcat-embedded>1.1.0.Final</version.arquillian-tomcat-embedded>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTQ4OTUxMw=="}, "originalCommit": {"oid": "11779be4f86c3afc33d22f5a02a3d0fc4a3dc034"}, "originalPosition": 17}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk5NzQ2OTk3OnYy", "diffSide": "RIGHT", "path": "integrationtests/server-integration/wildfly-modules/pom.xml", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQxOToxNTozM1rOHJRvmA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQxMzo0Mzo1N1rOHK28RQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTQ4OTk0NA==", "bodyText": "I think this name is better :D", "url": "https://github.com/infinispan/infinispan/pull/8657#discussion_r479489944", "createdAt": "2020-08-28T19:15:33Z", "author": {"login": "diegolovison"}, "path": "integrationtests/server-integration/wildfly-modules/pom.xml", "diffHunk": "@@ -9,7 +9,7 @@\n       <relativePath>../pom.xml</relativePath>\n    </parent>\n \n-   <artifactId>infinispan-wildfly-module-integrationtests</artifactId>\n+   <artifactId>infinispan-server-integrationtests-wildfly-modules</artifactId>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "11779be4f86c3afc33d22f5a02a3d0fc4a3dc034"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDkyODM1Ng==", "bodyText": "-1", "url": "https://github.com/infinispan/infinispan/pull/8657#discussion_r480928356", "createdAt": "2020-09-01T07:41:08Z", "author": {"login": "pruivo"}, "path": "integrationtests/server-integration/wildfly-modules/pom.xml", "diffHunk": "@@ -9,7 +9,7 @@\n       <relativePath>../pom.xml</relativePath>\n    </parent>\n \n-   <artifactId>infinispan-wildfly-module-integrationtests</artifactId>\n+   <artifactId>infinispan-server-integrationtests-wildfly-modules</artifactId>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTQ4OTk0NA=="}, "originalCommit": {"oid": "11779be4f86c3afc33d22f5a02a3d0fc4a3dc034"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTE0Nzk3Mw==", "bodyText": "IMO, it sounds like you are testing the WF modules in infinispan server... which makes no sense.", "url": "https://github.com/infinispan/infinispan/pull/8657#discussion_r481147973", "createdAt": "2020-09-01T13:43:57Z", "author": {"login": "pruivo"}, "path": "integrationtests/server-integration/wildfly-modules/pom.xml", "diffHunk": "@@ -9,7 +9,7 @@\n       <relativePath>../pom.xml</relativePath>\n    </parent>\n \n-   <artifactId>infinispan-wildfly-module-integrationtests</artifactId>\n+   <artifactId>infinispan-server-integrationtests-wildfly-modules</artifactId>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTQ4OTk0NA=="}, "originalCommit": {"oid": "11779be4f86c3afc33d22f5a02a3d0fc4a3dc034"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAwMjU2OTY1OnYy", "diffSide": "RIGHT", "path": "integrationtests/server-integration/third-party-server/pom.xml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQxNTowODo0M1rOHJ8vsg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQxNTowODo0M1rOHJ8vsg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDE5NDQ4Mg==", "bodyText": "Here looks like we will use tomcat-embedded but we are using tomcat-managed, IMO version.arquillian-tomcat-managed sounds better", "url": "https://github.com/infinispan/infinispan/pull/8657#discussion_r480194482", "createdAt": "2020-08-31T15:08:43Z", "author": {"login": "gustavolira"}, "path": "integrationtests/server-integration/third-party-server/pom.xml", "diffHunk": "@@ -0,0 +1,225 @@\n+<?xml version='1.0' encoding='UTF-8'?>\n+<project xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\" xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\">\n+    <modelVersion>4.0.0</modelVersion>\n+\n+    <parent>\n+        <groupId>org.infinispan</groupId>\n+        <artifactId>infinispan-server-integration</artifactId>\n+        <version>12.0.0-SNAPSHOT</version>\n+        <relativePath>../pom.xml</relativePath>\n+    </parent>\n+\n+    <artifactId>infinispan-server-integrationtests-third-party</artifactId>\n+\n+    <properties>\n+        <version.tomcat>9.0.37</version.tomcat>\n+        <version.wildfly>20.0.1.Final</version.wildfly>\n+        <version.arquillian-tomcat-embedded>1.1.0.Final</version.arquillian-tomcat-embedded>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4c1f97b4292559c92a4137ef2b7566e0b1a6a5b1"}, "originalPosition": 17}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAwMjU5MDE0OnYy", "diffSide": "RIGHT", "path": "integrationtests/server-integration/third-party-server/src/test/java/org/infinispan/test/integration/DeploymentHelper.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQxNToxMzo0OFrOHJ88OQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQxNToxMzo0OFrOHJ88OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDE5NzY4OQ==", "bodyText": "IMO if we have jboss-deployment-structure.xml inside src/test/resources/eap/jboss-deployment-structure.xmlis way better than work with string into the code", "url": "https://github.com/infinispan/infinispan/pull/8657#discussion_r480197689", "createdAt": "2020-08-31T15:13:48Z", "author": {"login": "gustavolira"}, "path": "integrationtests/server-integration/third-party-server/src/test/java/org/infinispan/test/integration/DeploymentHelper.java", "diffHunk": "@@ -0,0 +1,57 @@\n+package org.infinispan.test.integration;\n+\n+import java.io.File;\n+\n+import org.jboss.shrinkwrap.api.ShrinkWrap;\n+import org.jboss.shrinkwrap.api.asset.StringAsset;\n+import org.jboss.shrinkwrap.api.spec.WebArchive;\n+import org.jboss.shrinkwrap.resolver.api.maven.Maven;\n+import org.jboss.shrinkwrap.resolver.api.maven.MavenResolverSystem;\n+\n+public class DeploymentHelper {\n+\n+   public static WebArchive createDeployment() {\n+\n+      WebArchive war = ShrinkWrap.create(WebArchive.class, \"infinispan-server-integration.war\");\n+      String arquillianLaunch = System.getProperty(\"arquillian.launch\");\n+\n+      if (arquillianLaunch.equals(\"tomcat\")) {\n+         tomcat(war);\n+      } else if (arquillianLaunch.equals(\"wildfly\")) {\n+         wildfly(war);\n+      } else {\n+         throw new IllegalStateException(String.format(\"%s not supported\", arquillianLaunch));\n+      }\n+\n+      MavenResolverSystem resolver = Maven.resolver();\n+      addLibrary(war, resolver\n+            .loadPomFromFile(\"pom.xml\")\n+            .resolve(\"org.infinispan:infinispan-client-hotrod\")\n+            .withTransitivity().as(File.class));\n+      return war;\n+   }\n+\n+   private static void wildfly(WebArchive war) {\n+      String jbossDeploymentStructure = \"<jboss-deployment-structure xmlns=\\\"urn:jboss:deployment-structure:1.1\\\">\\n\" +", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4c1f97b4292559c92a4137ef2b7566e0b1a6a5b1"}, "originalPosition": 35}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAwODQ4NDU3OnYy", "diffSide": "RIGHT", "path": "integrationtests/server-integration/third-party-server/pom.xml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQxMzo0NzoxMVrOHK3E9g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QxODozNDoyMlrOHMy5Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTE1MDE5OA==", "bodyText": "where is this used?", "url": "https://github.com/infinispan/infinispan/pull/8657#discussion_r481150198", "createdAt": "2020-09-01T13:47:11Z", "author": {"login": "pruivo"}, "path": "integrationtests/server-integration/third-party-server/pom.xml", "diffHunk": "@@ -0,0 +1,225 @@\n+<?xml version='1.0' encoding='UTF-8'?>\n+<project xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\" xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\">\n+    <modelVersion>4.0.0</modelVersion>\n+\n+    <parent>\n+        <groupId>org.infinispan</groupId>\n+        <artifactId>infinispan-server-integration</artifactId>\n+        <version>12.0.0-SNAPSHOT</version>\n+        <relativePath>../pom.xml</relativePath>\n+    </parent>\n+\n+    <artifactId>infinispan-server-integrationtests-third-party</artifactId>\n+\n+    <properties>\n+        <version.tomcat>9.0.37</version.tomcat>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4c1f97b4292559c92a4137ef2b7566e0b1a6a5b1"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzE3ODgwMw==", "bodyText": "Removed", "url": "https://github.com/infinispan/infinispan/pull/8657#discussion_r483178803", "createdAt": "2020-09-03T18:34:22Z", "author": {"login": "diegolovison"}, "path": "integrationtests/server-integration/third-party-server/pom.xml", "diffHunk": "@@ -0,0 +1,225 @@\n+<?xml version='1.0' encoding='UTF-8'?>\n+<project xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\" xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\">\n+    <modelVersion>4.0.0</modelVersion>\n+\n+    <parent>\n+        <groupId>org.infinispan</groupId>\n+        <artifactId>infinispan-server-integration</artifactId>\n+        <version>12.0.0-SNAPSHOT</version>\n+        <relativePath>../pom.xml</relativePath>\n+    </parent>\n+\n+    <artifactId>infinispan-server-integrationtests-third-party</artifactId>\n+\n+    <properties>\n+        <version.tomcat>9.0.37</version.tomcat>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTE1MDE5OA=="}, "originalCommit": {"oid": "4c1f97b4292559c92a4137ef2b7566e0b1a6a5b1"}, "originalPosition": 15}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAwODQ4ODc0OnYy", "diffSide": "RIGHT", "path": "integrationtests/server-integration/third-party-server/src/test/java/org/infinispan/test/integration/thirdparty/HotRodClientIT.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQxMzo0ODoxM1rOHK3HrA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQxMzo1NzoxNlrOHK3gmw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTE1MDg5Mg==", "bodyText": "update the author and since", "url": "https://github.com/infinispan/infinispan/pull/8657#discussion_r481150892", "createdAt": "2020-09-01T13:48:13Z", "author": {"login": "pruivo"}, "path": "integrationtests/server-integration/third-party-server/src/test/java/org/infinispan/test/integration/thirdparty/HotRodClientIT.java", "diffHunk": "@@ -0,0 +1,26 @@\n+package org.infinispan.test.integration.thirdparty;\n+\n+import org.infinispan.test.integration.DeploymentHelper;\n+import org.infinispan.test.integration.as.client.AbstractHotRodClientIT;\n+import org.jboss.arquillian.container.test.api.Deployment;\n+import org.jboss.arquillian.junit.Arquillian;\n+import org.jboss.shrinkwrap.api.Archive;\n+import org.jboss.shrinkwrap.api.spec.WebArchive;\n+import org.junit.runner.RunWith;\n+\n+/**\n+ * Test the Infinispan AS remote client module integration\n+ *\n+ * @author Pedro Ruivo", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4c1f97b4292559c92a4137ef2b7566e0b1a6a5b1"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTE1NzI3NQ==", "bodyText": "I copied and pasted. Nothing changed", "url": "https://github.com/infinispan/infinispan/pull/8657#discussion_r481157275", "createdAt": "2020-09-01T13:57:16Z", "author": {"login": "diegolovison"}, "path": "integrationtests/server-integration/third-party-server/src/test/java/org/infinispan/test/integration/thirdparty/HotRodClientIT.java", "diffHunk": "@@ -0,0 +1,26 @@\n+package org.infinispan.test.integration.thirdparty;\n+\n+import org.infinispan.test.integration.DeploymentHelper;\n+import org.infinispan.test.integration.as.client.AbstractHotRodClientIT;\n+import org.jboss.arquillian.container.test.api.Deployment;\n+import org.jboss.arquillian.junit.Arquillian;\n+import org.jboss.shrinkwrap.api.Archive;\n+import org.jboss.shrinkwrap.api.spec.WebArchive;\n+import org.junit.runner.RunWith;\n+\n+/**\n+ * Test the Infinispan AS remote client module integration\n+ *\n+ * @author Pedro Ruivo", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTE1MDg5Mg=="}, "originalCommit": {"oid": "4c1f97b4292559c92a4137ef2b7566e0b1a6a5b1"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAwODQ5MjI1OnYy", "diffSide": "RIGHT", "path": "pom.xml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQxMzo0OTowMFrOHK3J7A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QxODozMjowOFrOHMy0xA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTE1MTQ2OA==", "bodyText": "do we need the non-test dependency?", "url": "https://github.com/infinispan/infinispan/pull/8657#discussion_r481151468", "createdAt": "2020-09-01T13:49:00Z", "author": {"login": "pruivo"}, "path": "pom.xml", "diffHunk": "@@ -1189,6 +1191,18 @@\n             <artifactId>infinispan-hibernate-cache-commons</artifactId>\n             <version>${version.infinispan}</version>\n          </dependency>\n+         <dependency>\n+            <groupId>org.infinispan</groupId>\n+            <artifactId>infinispan-server-integrationtests-commons</artifactId>\n+            <version>${version.infinispan}</version>\n+            <type>test-jar</type>\n+            <scope>test</scope>\n+         </dependency>\n+         <dependency>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4c1f97b4292559c92a4137ef2b7566e0b1a6a5b1"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzE3NzY2OA==", "bodyText": "No", "url": "https://github.com/infinispan/infinispan/pull/8657#discussion_r483177668", "createdAt": "2020-09-03T18:32:08Z", "author": {"login": "diegolovison"}, "path": "pom.xml", "diffHunk": "@@ -1189,6 +1191,18 @@\n             <artifactId>infinispan-hibernate-cache-commons</artifactId>\n             <version>${version.infinispan}</version>\n          </dependency>\n+         <dependency>\n+            <groupId>org.infinispan</groupId>\n+            <artifactId>infinispan-server-integrationtests-commons</artifactId>\n+            <version>${version.infinispan}</version>\n+            <type>test-jar</type>\n+            <scope>test</scope>\n+         </dependency>\n+         <dependency>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTE1MTQ2OA=="}, "originalCommit": {"oid": "4c1f97b4292559c92a4137ef2b7566e0b1a6a5b1"}, "originalPosition": 20}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAyNDEyMTk2OnYy", "diffSide": "RIGHT", "path": "integrationtests/server-integration/third-party-server/pom.xml", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNFQxNDoyNDozNlrOHNPi3g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNFQxOToxODo0N1rOHNZJ6A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzY0ODIyMg==", "bodyText": "can you change the phase so I don't have to download the WF every time I compile Infinispan?", "url": "https://github.com/infinispan/infinispan/pull/8657#discussion_r483648222", "createdAt": "2020-09-04T14:24:36Z", "author": {"login": "pruivo"}, "path": "integrationtests/server-integration/third-party-server/pom.xml", "diffHunk": "@@ -0,0 +1,220 @@\n+<?xml version='1.0' encoding='UTF-8'?>\n+<project xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\" xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\">\n+    <modelVersion>4.0.0</modelVersion>\n+\n+    <parent>\n+        <groupId>org.infinispan</groupId>\n+        <artifactId>infinispan-server-integration</artifactId>\n+        <version>12.0.0-SNAPSHOT</version>\n+        <relativePath>../pom.xml</relativePath>\n+    </parent>\n+\n+    <artifactId>infinispan-third-party-integrationtests</artifactId>\n+\n+    <properties>\n+        <version.wildfly>${appserver.version}</version.wildfly>\n+        <version.arquillian-tomcat-managed>1.1.0.Final</version.arquillian-tomcat-managed>\n+        <ispnserver.project.dir>${basedir}/../../../server/runtime</ispnserver.project.dir>\n+        <ispn.config.file>${basedir}/../server-integration-commons/src/test/resources/infinispan-custom.xml</ispn.config.file>\n+    </properties>\n+\n+    <dependencies>\n+        <dependency>\n+            <groupId>org.infinispan.protostream</groupId>\n+            <artifactId>protostream-processor</artifactId>\n+            <scope>test</scope>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.infinispan</groupId>\n+            <artifactId>infinispan-commons-test</artifactId>\n+            <scope>test</scope>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.infinispan</groupId>\n+            <artifactId>infinispan-core</artifactId>\n+            <scope>test</scope>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.infinispan</groupId>\n+            <artifactId>infinispan-client-hotrod</artifactId>\n+            <scope>test</scope>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.infinispan</groupId>\n+            <artifactId>infinispan-server-integrationtests-commons</artifactId>\n+            <type>test-jar</type>\n+            <scope>test</scope>\n+        </dependency>\n+\n+        <dependency>\n+            <groupId>org.jboss.arquillian.junit</groupId>\n+            <artifactId>arquillian-junit-container</artifactId>\n+            <scope>test</scope>\n+        </dependency>\n+\n+        <dependency>\n+            <groupId>org.jboss.shrinkwrap.resolver</groupId>\n+            <artifactId>shrinkwrap-resolver-depchain</artifactId>\n+            <type>pom</type>\n+            <scope>test</scope>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.jboss.shrinkwrap.descriptors</groupId>\n+            <artifactId>shrinkwrap-descriptors-impl-javaee</artifactId>\n+            <scope>test</scope>\n+        </dependency>\n+\n+        <dependency>\n+            <groupId>junit</groupId>\n+            <artifactId>junit</artifactId>\n+            <scope>test</scope>\n+        </dependency>\n+    </dependencies>\n+\n+    <build>\n+        <plugins>\n+            <plugin>\n+                <groupId>org.apache.maven.plugins</groupId>\n+                <artifactId>maven-failsafe-plugin</artifactId>\n+                <configuration>\n+                    <systemPropertyVariables>\n+                        <arquillian.launch>${infinispan.server.integration.launch}</arquillian.launch>\n+                        <catalinaHome>${catalinaHome}</catalinaHome>\n+                        <jbossHome>${jbossHome}</jbossHome>\n+                        <server.jvm>${server.jvm}</server.jvm>\n+                    </systemPropertyVariables>\n+                </configuration>\n+                <executions>\n+                    <execution>\n+                        <goals>\n+                            <goal>integration-test</goal>\n+                            <goal>verify</goal>\n+                        </goals>\n+                    </execution>\n+                </executions>\n+            </plugin>\n+        </plugins>\n+    </build>\n+\n+    <profiles>\n+        <profile>\n+            <id>smoke</id>\n+            <properties>\n+                <skipTests>true</skipTests>\n+            </properties>\n+            <build>\n+                <plugins>\n+                    <plugin>\n+                        <groupId>org.apache.maven.plugins</groupId>\n+                        <artifactId>maven-failsafe-plugin</artifactId>\n+                        <configuration>\n+                            <skipITs>${skipTests}</skipITs>\n+                        </configuration>\n+                    </plugin>\n+                </plugins>\n+            </build>\n+        </profile>\n+\n+        <profile>\n+            <id>third-party-tomcat</id>\n+            <activation>\n+                <property>\n+                    <name>infinispan.server.integration.launch</name>\n+                    <value>tomcat</value>\n+                </property>\n+            </activation>\n+            <properties>\n+                <infinispan.server.integration.launch>tomcat</infinispan.server.integration.launch>\n+                <catalinaHome>${project.build.directory}/tomcat</catalinaHome>\n+            </properties>\n+            <dependencies>\n+                <!-- there is no arquillian-tomcat-managed-9. we are using arquillian-tomcat-managed-8 -->\n+                <dependency>\n+                    <groupId>org.jboss.arquillian.container</groupId>\n+                    <artifactId>arquillian-tomcat-managed-8</artifactId>\n+                    <version>${version.arquillian-tomcat-managed}</version>\n+                    <scope>test</scope>\n+                </dependency>\n+            </dependencies>\n+            <build>\n+                <plugins>\n+                    <plugin>\n+                        <groupId>org.apache.maven.plugins</groupId>\n+                        <artifactId>maven-antrun-plugin</artifactId>\n+                        <executions>\n+                            <execution>\n+                                <phase>generate-resources</phase>\n+                                <configuration>\n+                                    <target>\n+                                        <echo message=\"unzipping tomcat server\" />\n+                                        <unzip src=\"${tomcat.zip}\" dest=\"${project.build.directory}/tomcat\" />\n+                                        <pathconvert property=\"tomcat.unzip.dir\">\n+                                            <dirset dir=\"${project.build.directory}/tomcat\" includes=\"apache-tomcat-*\"/>\n+                                        </pathconvert>\n+                                        <move todir=\"${project.build.directory}/tomcat\">\n+                                            <fileset dir=\"${tomcat.unzip.dir}\"/>\n+                                        </move>\n+                                        <copy file=\"${basedir}/src/test/resources/tomcat/tomcat-users.xml\" todir=\"${project.build.directory}/tomcat/conf\" overwrite=\"true\" />\n+                                    </target>\n+                                </configuration>\n+                                <goals>\n+                                    <goal>run</goal>\n+                                </goals>\n+                            </execution>\n+                        </executions>\n+                    </plugin>\n+                </plugins>\n+            </build>\n+        </profile>\n+\n+        <profile>\n+            <id>third-party-wildfly</id>\n+            <activation>\n+                <activeByDefault>true</activeByDefault>\n+                <property>\n+                    <name>infinispan.server.integration.launch</name>\n+                    <value>wildfly</value>\n+                </property>\n+            </activation>\n+            <properties>\n+                <infinispan.server.integration.launch>wildfly</infinispan.server.integration.launch>\n+                <jbossHome>${project.build.directory}/wildfly-${version.wildfly}</jbossHome>\n+            </properties>\n+            <dependencies>\n+                <dependency>\n+                    <groupId>org.wildfly.arquillian</groupId>\n+                    <artifactId>wildfly-arquillian-container-managed</artifactId>\n+                </dependency>\n+            </dependencies>\n+            <build>\n+                <plugins>\n+                    <plugin>\n+                        <groupId>org.apache.maven.plugins</groupId>\n+                        <artifactId>maven-dependency-plugin</artifactId>\n+                        <executions>\n+                            <execution>\n+                                <id>unpack</id>\n+                                <phase>process-test-classes</phase>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2fa3a0aad0348b9250f9340986f18e93c7eea730"}, "originalPosition": 197}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Mzc4NTkwMg==", "bodyText": "It is downloading even when phase is pre-integration-test. Any idea?", "url": "https://github.com/infinispan/infinispan/pull/8657#discussion_r483785902", "createdAt": "2020-09-04T18:28:37Z", "author": {"login": "diegolovison"}, "path": "integrationtests/server-integration/third-party-server/pom.xml", "diffHunk": "@@ -0,0 +1,220 @@\n+<?xml version='1.0' encoding='UTF-8'?>\n+<project xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\" xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\">\n+    <modelVersion>4.0.0</modelVersion>\n+\n+    <parent>\n+        <groupId>org.infinispan</groupId>\n+        <artifactId>infinispan-server-integration</artifactId>\n+        <version>12.0.0-SNAPSHOT</version>\n+        <relativePath>../pom.xml</relativePath>\n+    </parent>\n+\n+    <artifactId>infinispan-third-party-integrationtests</artifactId>\n+\n+    <properties>\n+        <version.wildfly>${appserver.version}</version.wildfly>\n+        <version.arquillian-tomcat-managed>1.1.0.Final</version.arquillian-tomcat-managed>\n+        <ispnserver.project.dir>${basedir}/../../../server/runtime</ispnserver.project.dir>\n+        <ispn.config.file>${basedir}/../server-integration-commons/src/test/resources/infinispan-custom.xml</ispn.config.file>\n+    </properties>\n+\n+    <dependencies>\n+        <dependency>\n+            <groupId>org.infinispan.protostream</groupId>\n+            <artifactId>protostream-processor</artifactId>\n+            <scope>test</scope>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.infinispan</groupId>\n+            <artifactId>infinispan-commons-test</artifactId>\n+            <scope>test</scope>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.infinispan</groupId>\n+            <artifactId>infinispan-core</artifactId>\n+            <scope>test</scope>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.infinispan</groupId>\n+            <artifactId>infinispan-client-hotrod</artifactId>\n+            <scope>test</scope>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.infinispan</groupId>\n+            <artifactId>infinispan-server-integrationtests-commons</artifactId>\n+            <type>test-jar</type>\n+            <scope>test</scope>\n+        </dependency>\n+\n+        <dependency>\n+            <groupId>org.jboss.arquillian.junit</groupId>\n+            <artifactId>arquillian-junit-container</artifactId>\n+            <scope>test</scope>\n+        </dependency>\n+\n+        <dependency>\n+            <groupId>org.jboss.shrinkwrap.resolver</groupId>\n+            <artifactId>shrinkwrap-resolver-depchain</artifactId>\n+            <type>pom</type>\n+            <scope>test</scope>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.jboss.shrinkwrap.descriptors</groupId>\n+            <artifactId>shrinkwrap-descriptors-impl-javaee</artifactId>\n+            <scope>test</scope>\n+        </dependency>\n+\n+        <dependency>\n+            <groupId>junit</groupId>\n+            <artifactId>junit</artifactId>\n+            <scope>test</scope>\n+        </dependency>\n+    </dependencies>\n+\n+    <build>\n+        <plugins>\n+            <plugin>\n+                <groupId>org.apache.maven.plugins</groupId>\n+                <artifactId>maven-failsafe-plugin</artifactId>\n+                <configuration>\n+                    <systemPropertyVariables>\n+                        <arquillian.launch>${infinispan.server.integration.launch}</arquillian.launch>\n+                        <catalinaHome>${catalinaHome}</catalinaHome>\n+                        <jbossHome>${jbossHome}</jbossHome>\n+                        <server.jvm>${server.jvm}</server.jvm>\n+                    </systemPropertyVariables>\n+                </configuration>\n+                <executions>\n+                    <execution>\n+                        <goals>\n+                            <goal>integration-test</goal>\n+                            <goal>verify</goal>\n+                        </goals>\n+                    </execution>\n+                </executions>\n+            </plugin>\n+        </plugins>\n+    </build>\n+\n+    <profiles>\n+        <profile>\n+            <id>smoke</id>\n+            <properties>\n+                <skipTests>true</skipTests>\n+            </properties>\n+            <build>\n+                <plugins>\n+                    <plugin>\n+                        <groupId>org.apache.maven.plugins</groupId>\n+                        <artifactId>maven-failsafe-plugin</artifactId>\n+                        <configuration>\n+                            <skipITs>${skipTests}</skipITs>\n+                        </configuration>\n+                    </plugin>\n+                </plugins>\n+            </build>\n+        </profile>\n+\n+        <profile>\n+            <id>third-party-tomcat</id>\n+            <activation>\n+                <property>\n+                    <name>infinispan.server.integration.launch</name>\n+                    <value>tomcat</value>\n+                </property>\n+            </activation>\n+            <properties>\n+                <infinispan.server.integration.launch>tomcat</infinispan.server.integration.launch>\n+                <catalinaHome>${project.build.directory}/tomcat</catalinaHome>\n+            </properties>\n+            <dependencies>\n+                <!-- there is no arquillian-tomcat-managed-9. we are using arquillian-tomcat-managed-8 -->\n+                <dependency>\n+                    <groupId>org.jboss.arquillian.container</groupId>\n+                    <artifactId>arquillian-tomcat-managed-8</artifactId>\n+                    <version>${version.arquillian-tomcat-managed}</version>\n+                    <scope>test</scope>\n+                </dependency>\n+            </dependencies>\n+            <build>\n+                <plugins>\n+                    <plugin>\n+                        <groupId>org.apache.maven.plugins</groupId>\n+                        <artifactId>maven-antrun-plugin</artifactId>\n+                        <executions>\n+                            <execution>\n+                                <phase>generate-resources</phase>\n+                                <configuration>\n+                                    <target>\n+                                        <echo message=\"unzipping tomcat server\" />\n+                                        <unzip src=\"${tomcat.zip}\" dest=\"${project.build.directory}/tomcat\" />\n+                                        <pathconvert property=\"tomcat.unzip.dir\">\n+                                            <dirset dir=\"${project.build.directory}/tomcat\" includes=\"apache-tomcat-*\"/>\n+                                        </pathconvert>\n+                                        <move todir=\"${project.build.directory}/tomcat\">\n+                                            <fileset dir=\"${tomcat.unzip.dir}\"/>\n+                                        </move>\n+                                        <copy file=\"${basedir}/src/test/resources/tomcat/tomcat-users.xml\" todir=\"${project.build.directory}/tomcat/conf\" overwrite=\"true\" />\n+                                    </target>\n+                                </configuration>\n+                                <goals>\n+                                    <goal>run</goal>\n+                                </goals>\n+                            </execution>\n+                        </executions>\n+                    </plugin>\n+                </plugins>\n+            </build>\n+        </profile>\n+\n+        <profile>\n+            <id>third-party-wildfly</id>\n+            <activation>\n+                <activeByDefault>true</activeByDefault>\n+                <property>\n+                    <name>infinispan.server.integration.launch</name>\n+                    <value>wildfly</value>\n+                </property>\n+            </activation>\n+            <properties>\n+                <infinispan.server.integration.launch>wildfly</infinispan.server.integration.launch>\n+                <jbossHome>${project.build.directory}/wildfly-${version.wildfly}</jbossHome>\n+            </properties>\n+            <dependencies>\n+                <dependency>\n+                    <groupId>org.wildfly.arquillian</groupId>\n+                    <artifactId>wildfly-arquillian-container-managed</artifactId>\n+                </dependency>\n+            </dependencies>\n+            <build>\n+                <plugins>\n+                    <plugin>\n+                        <groupId>org.apache.maven.plugins</groupId>\n+                        <artifactId>maven-dependency-plugin</artifactId>\n+                        <executions>\n+                            <execution>\n+                                <id>unpack</id>\n+                                <phase>process-test-classes</phase>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzY0ODIyMg=="}, "originalCommit": {"oid": "2fa3a0aad0348b9250f9340986f18e93c7eea730"}, "originalPosition": 197}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Mzc5MTkyNQ==", "bodyText": "yes, add <skip>${skipTests}</skip> to the configuration :)", "url": "https://github.com/infinispan/infinispan/pull/8657#discussion_r483791925", "createdAt": "2020-09-04T18:43:22Z", "author": {"login": "pruivo"}, "path": "integrationtests/server-integration/third-party-server/pom.xml", "diffHunk": "@@ -0,0 +1,220 @@\n+<?xml version='1.0' encoding='UTF-8'?>\n+<project xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\" xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\">\n+    <modelVersion>4.0.0</modelVersion>\n+\n+    <parent>\n+        <groupId>org.infinispan</groupId>\n+        <artifactId>infinispan-server-integration</artifactId>\n+        <version>12.0.0-SNAPSHOT</version>\n+        <relativePath>../pom.xml</relativePath>\n+    </parent>\n+\n+    <artifactId>infinispan-third-party-integrationtests</artifactId>\n+\n+    <properties>\n+        <version.wildfly>${appserver.version}</version.wildfly>\n+        <version.arquillian-tomcat-managed>1.1.0.Final</version.arquillian-tomcat-managed>\n+        <ispnserver.project.dir>${basedir}/../../../server/runtime</ispnserver.project.dir>\n+        <ispn.config.file>${basedir}/../server-integration-commons/src/test/resources/infinispan-custom.xml</ispn.config.file>\n+    </properties>\n+\n+    <dependencies>\n+        <dependency>\n+            <groupId>org.infinispan.protostream</groupId>\n+            <artifactId>protostream-processor</artifactId>\n+            <scope>test</scope>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.infinispan</groupId>\n+            <artifactId>infinispan-commons-test</artifactId>\n+            <scope>test</scope>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.infinispan</groupId>\n+            <artifactId>infinispan-core</artifactId>\n+            <scope>test</scope>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.infinispan</groupId>\n+            <artifactId>infinispan-client-hotrod</artifactId>\n+            <scope>test</scope>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.infinispan</groupId>\n+            <artifactId>infinispan-server-integrationtests-commons</artifactId>\n+            <type>test-jar</type>\n+            <scope>test</scope>\n+        </dependency>\n+\n+        <dependency>\n+            <groupId>org.jboss.arquillian.junit</groupId>\n+            <artifactId>arquillian-junit-container</artifactId>\n+            <scope>test</scope>\n+        </dependency>\n+\n+        <dependency>\n+            <groupId>org.jboss.shrinkwrap.resolver</groupId>\n+            <artifactId>shrinkwrap-resolver-depchain</artifactId>\n+            <type>pom</type>\n+            <scope>test</scope>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.jboss.shrinkwrap.descriptors</groupId>\n+            <artifactId>shrinkwrap-descriptors-impl-javaee</artifactId>\n+            <scope>test</scope>\n+        </dependency>\n+\n+        <dependency>\n+            <groupId>junit</groupId>\n+            <artifactId>junit</artifactId>\n+            <scope>test</scope>\n+        </dependency>\n+    </dependencies>\n+\n+    <build>\n+        <plugins>\n+            <plugin>\n+                <groupId>org.apache.maven.plugins</groupId>\n+                <artifactId>maven-failsafe-plugin</artifactId>\n+                <configuration>\n+                    <systemPropertyVariables>\n+                        <arquillian.launch>${infinispan.server.integration.launch}</arquillian.launch>\n+                        <catalinaHome>${catalinaHome}</catalinaHome>\n+                        <jbossHome>${jbossHome}</jbossHome>\n+                        <server.jvm>${server.jvm}</server.jvm>\n+                    </systemPropertyVariables>\n+                </configuration>\n+                <executions>\n+                    <execution>\n+                        <goals>\n+                            <goal>integration-test</goal>\n+                            <goal>verify</goal>\n+                        </goals>\n+                    </execution>\n+                </executions>\n+            </plugin>\n+        </plugins>\n+    </build>\n+\n+    <profiles>\n+        <profile>\n+            <id>smoke</id>\n+            <properties>\n+                <skipTests>true</skipTests>\n+            </properties>\n+            <build>\n+                <plugins>\n+                    <plugin>\n+                        <groupId>org.apache.maven.plugins</groupId>\n+                        <artifactId>maven-failsafe-plugin</artifactId>\n+                        <configuration>\n+                            <skipITs>${skipTests}</skipITs>\n+                        </configuration>\n+                    </plugin>\n+                </plugins>\n+            </build>\n+        </profile>\n+\n+        <profile>\n+            <id>third-party-tomcat</id>\n+            <activation>\n+                <property>\n+                    <name>infinispan.server.integration.launch</name>\n+                    <value>tomcat</value>\n+                </property>\n+            </activation>\n+            <properties>\n+                <infinispan.server.integration.launch>tomcat</infinispan.server.integration.launch>\n+                <catalinaHome>${project.build.directory}/tomcat</catalinaHome>\n+            </properties>\n+            <dependencies>\n+                <!-- there is no arquillian-tomcat-managed-9. we are using arquillian-tomcat-managed-8 -->\n+                <dependency>\n+                    <groupId>org.jboss.arquillian.container</groupId>\n+                    <artifactId>arquillian-tomcat-managed-8</artifactId>\n+                    <version>${version.arquillian-tomcat-managed}</version>\n+                    <scope>test</scope>\n+                </dependency>\n+            </dependencies>\n+            <build>\n+                <plugins>\n+                    <plugin>\n+                        <groupId>org.apache.maven.plugins</groupId>\n+                        <artifactId>maven-antrun-plugin</artifactId>\n+                        <executions>\n+                            <execution>\n+                                <phase>generate-resources</phase>\n+                                <configuration>\n+                                    <target>\n+                                        <echo message=\"unzipping tomcat server\" />\n+                                        <unzip src=\"${tomcat.zip}\" dest=\"${project.build.directory}/tomcat\" />\n+                                        <pathconvert property=\"tomcat.unzip.dir\">\n+                                            <dirset dir=\"${project.build.directory}/tomcat\" includes=\"apache-tomcat-*\"/>\n+                                        </pathconvert>\n+                                        <move todir=\"${project.build.directory}/tomcat\">\n+                                            <fileset dir=\"${tomcat.unzip.dir}\"/>\n+                                        </move>\n+                                        <copy file=\"${basedir}/src/test/resources/tomcat/tomcat-users.xml\" todir=\"${project.build.directory}/tomcat/conf\" overwrite=\"true\" />\n+                                    </target>\n+                                </configuration>\n+                                <goals>\n+                                    <goal>run</goal>\n+                                </goals>\n+                            </execution>\n+                        </executions>\n+                    </plugin>\n+                </plugins>\n+            </build>\n+        </profile>\n+\n+        <profile>\n+            <id>third-party-wildfly</id>\n+            <activation>\n+                <activeByDefault>true</activeByDefault>\n+                <property>\n+                    <name>infinispan.server.integration.launch</name>\n+                    <value>wildfly</value>\n+                </property>\n+            </activation>\n+            <properties>\n+                <infinispan.server.integration.launch>wildfly</infinispan.server.integration.launch>\n+                <jbossHome>${project.build.directory}/wildfly-${version.wildfly}</jbossHome>\n+            </properties>\n+            <dependencies>\n+                <dependency>\n+                    <groupId>org.wildfly.arquillian</groupId>\n+                    <artifactId>wildfly-arquillian-container-managed</artifactId>\n+                </dependency>\n+            </dependencies>\n+            <build>\n+                <plugins>\n+                    <plugin>\n+                        <groupId>org.apache.maven.plugins</groupId>\n+                        <artifactId>maven-dependency-plugin</artifactId>\n+                        <executions>\n+                            <execution>\n+                                <id>unpack</id>\n+                                <phase>process-test-classes</phase>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzY0ODIyMg=="}, "originalCommit": {"oid": "2fa3a0aad0348b9250f9340986f18e93c7eea730"}, "originalPosition": 197}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzgwNTY3Mg==", "bodyText": "Done", "url": "https://github.com/infinispan/infinispan/pull/8657#discussion_r483805672", "createdAt": "2020-09-04T19:18:47Z", "author": {"login": "diegolovison"}, "path": "integrationtests/server-integration/third-party-server/pom.xml", "diffHunk": "@@ -0,0 +1,220 @@\n+<?xml version='1.0' encoding='UTF-8'?>\n+<project xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\" xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\">\n+    <modelVersion>4.0.0</modelVersion>\n+\n+    <parent>\n+        <groupId>org.infinispan</groupId>\n+        <artifactId>infinispan-server-integration</artifactId>\n+        <version>12.0.0-SNAPSHOT</version>\n+        <relativePath>../pom.xml</relativePath>\n+    </parent>\n+\n+    <artifactId>infinispan-third-party-integrationtests</artifactId>\n+\n+    <properties>\n+        <version.wildfly>${appserver.version}</version.wildfly>\n+        <version.arquillian-tomcat-managed>1.1.0.Final</version.arquillian-tomcat-managed>\n+        <ispnserver.project.dir>${basedir}/../../../server/runtime</ispnserver.project.dir>\n+        <ispn.config.file>${basedir}/../server-integration-commons/src/test/resources/infinispan-custom.xml</ispn.config.file>\n+    </properties>\n+\n+    <dependencies>\n+        <dependency>\n+            <groupId>org.infinispan.protostream</groupId>\n+            <artifactId>protostream-processor</artifactId>\n+            <scope>test</scope>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.infinispan</groupId>\n+            <artifactId>infinispan-commons-test</artifactId>\n+            <scope>test</scope>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.infinispan</groupId>\n+            <artifactId>infinispan-core</artifactId>\n+            <scope>test</scope>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.infinispan</groupId>\n+            <artifactId>infinispan-client-hotrod</artifactId>\n+            <scope>test</scope>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.infinispan</groupId>\n+            <artifactId>infinispan-server-integrationtests-commons</artifactId>\n+            <type>test-jar</type>\n+            <scope>test</scope>\n+        </dependency>\n+\n+        <dependency>\n+            <groupId>org.jboss.arquillian.junit</groupId>\n+            <artifactId>arquillian-junit-container</artifactId>\n+            <scope>test</scope>\n+        </dependency>\n+\n+        <dependency>\n+            <groupId>org.jboss.shrinkwrap.resolver</groupId>\n+            <artifactId>shrinkwrap-resolver-depchain</artifactId>\n+            <type>pom</type>\n+            <scope>test</scope>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.jboss.shrinkwrap.descriptors</groupId>\n+            <artifactId>shrinkwrap-descriptors-impl-javaee</artifactId>\n+            <scope>test</scope>\n+        </dependency>\n+\n+        <dependency>\n+            <groupId>junit</groupId>\n+            <artifactId>junit</artifactId>\n+            <scope>test</scope>\n+        </dependency>\n+    </dependencies>\n+\n+    <build>\n+        <plugins>\n+            <plugin>\n+                <groupId>org.apache.maven.plugins</groupId>\n+                <artifactId>maven-failsafe-plugin</artifactId>\n+                <configuration>\n+                    <systemPropertyVariables>\n+                        <arquillian.launch>${infinispan.server.integration.launch}</arquillian.launch>\n+                        <catalinaHome>${catalinaHome}</catalinaHome>\n+                        <jbossHome>${jbossHome}</jbossHome>\n+                        <server.jvm>${server.jvm}</server.jvm>\n+                    </systemPropertyVariables>\n+                </configuration>\n+                <executions>\n+                    <execution>\n+                        <goals>\n+                            <goal>integration-test</goal>\n+                            <goal>verify</goal>\n+                        </goals>\n+                    </execution>\n+                </executions>\n+            </plugin>\n+        </plugins>\n+    </build>\n+\n+    <profiles>\n+        <profile>\n+            <id>smoke</id>\n+            <properties>\n+                <skipTests>true</skipTests>\n+            </properties>\n+            <build>\n+                <plugins>\n+                    <plugin>\n+                        <groupId>org.apache.maven.plugins</groupId>\n+                        <artifactId>maven-failsafe-plugin</artifactId>\n+                        <configuration>\n+                            <skipITs>${skipTests}</skipITs>\n+                        </configuration>\n+                    </plugin>\n+                </plugins>\n+            </build>\n+        </profile>\n+\n+        <profile>\n+            <id>third-party-tomcat</id>\n+            <activation>\n+                <property>\n+                    <name>infinispan.server.integration.launch</name>\n+                    <value>tomcat</value>\n+                </property>\n+            </activation>\n+            <properties>\n+                <infinispan.server.integration.launch>tomcat</infinispan.server.integration.launch>\n+                <catalinaHome>${project.build.directory}/tomcat</catalinaHome>\n+            </properties>\n+            <dependencies>\n+                <!-- there is no arquillian-tomcat-managed-9. we are using arquillian-tomcat-managed-8 -->\n+                <dependency>\n+                    <groupId>org.jboss.arquillian.container</groupId>\n+                    <artifactId>arquillian-tomcat-managed-8</artifactId>\n+                    <version>${version.arquillian-tomcat-managed}</version>\n+                    <scope>test</scope>\n+                </dependency>\n+            </dependencies>\n+            <build>\n+                <plugins>\n+                    <plugin>\n+                        <groupId>org.apache.maven.plugins</groupId>\n+                        <artifactId>maven-antrun-plugin</artifactId>\n+                        <executions>\n+                            <execution>\n+                                <phase>generate-resources</phase>\n+                                <configuration>\n+                                    <target>\n+                                        <echo message=\"unzipping tomcat server\" />\n+                                        <unzip src=\"${tomcat.zip}\" dest=\"${project.build.directory}/tomcat\" />\n+                                        <pathconvert property=\"tomcat.unzip.dir\">\n+                                            <dirset dir=\"${project.build.directory}/tomcat\" includes=\"apache-tomcat-*\"/>\n+                                        </pathconvert>\n+                                        <move todir=\"${project.build.directory}/tomcat\">\n+                                            <fileset dir=\"${tomcat.unzip.dir}\"/>\n+                                        </move>\n+                                        <copy file=\"${basedir}/src/test/resources/tomcat/tomcat-users.xml\" todir=\"${project.build.directory}/tomcat/conf\" overwrite=\"true\" />\n+                                    </target>\n+                                </configuration>\n+                                <goals>\n+                                    <goal>run</goal>\n+                                </goals>\n+                            </execution>\n+                        </executions>\n+                    </plugin>\n+                </plugins>\n+            </build>\n+        </profile>\n+\n+        <profile>\n+            <id>third-party-wildfly</id>\n+            <activation>\n+                <activeByDefault>true</activeByDefault>\n+                <property>\n+                    <name>infinispan.server.integration.launch</name>\n+                    <value>wildfly</value>\n+                </property>\n+            </activation>\n+            <properties>\n+                <infinispan.server.integration.launch>wildfly</infinispan.server.integration.launch>\n+                <jbossHome>${project.build.directory}/wildfly-${version.wildfly}</jbossHome>\n+            </properties>\n+            <dependencies>\n+                <dependency>\n+                    <groupId>org.wildfly.arquillian</groupId>\n+                    <artifactId>wildfly-arquillian-container-managed</artifactId>\n+                </dependency>\n+            </dependencies>\n+            <build>\n+                <plugins>\n+                    <plugin>\n+                        <groupId>org.apache.maven.plugins</groupId>\n+                        <artifactId>maven-dependency-plugin</artifactId>\n+                        <executions>\n+                            <execution>\n+                                <id>unpack</id>\n+                                <phase>process-test-classes</phase>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzY0ODIyMg=="}, "originalCommit": {"oid": "2fa3a0aad0348b9250f9340986f18e93c7eea730"}, "originalPosition": 197}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAyNDE3MjY1OnYy", "diffSide": "RIGHT", "path": "integrationtests/server-integration/third-party-server/src/test/java/org/infinispan/test/integration/DeploymentHelper.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNFQxNDozNzo0OVrOHNQBzg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNFQxODo0NDozNlrOHNYWDw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzY1NjE0Mg==", "bodyText": "is this intentional?", "url": "https://github.com/infinispan/infinispan/pull/8657#discussion_r483656142", "createdAt": "2020-09-04T14:37:49Z", "author": {"login": "pruivo"}, "path": "integrationtests/server-integration/third-party-server/src/test/java/org/infinispan/test/integration/DeploymentHelper.java", "diffHunk": "@@ -0,0 +1,46 @@\n+package org.infinispan.test.integration;\n+\n+import java.io.File;\n+\n+import org.jboss.shrinkwrap.api.ShrinkWrap;\n+import org.jboss.shrinkwrap.api.asset.FileAsset;\n+import org.jboss.shrinkwrap.api.spec.WebArchive;\n+import org.jboss.shrinkwrap.resolver.api.maven.Maven;\n+import org.jboss.shrinkwrap.resolver.api.maven.MavenResolverSystem;\n+\n+public class DeploymentHelper {\n+\n+   public static WebArchive createDeployment() {\n+\n+      WebArchive war = ShrinkWrap.create(WebArchive.class, \"infinispan-server-integration.war\");\n+      String arquillianLaunch = System.getProperty(\"arquillian.launch\");\n+\n+      if (arquillianLaunch.equals(\"tomcat\")) {\n+         tomcat(war);\n+      } else if (arquillianLaunch.equals(\"wildfly\")) {\n+         wildfly(war);\n+      } else {\n+         throw new IllegalStateException(String.format(\"%s not supported\", arquillianLaunch));\n+      }\n+\n+      MavenResolverSystem resolver = Maven.resolver();\n+      addLibrary(war, resolver\n+            .loadPomFromFile(\"pom.xml\")\n+            .resolve(\"org.infinispan:infinispan-client-hotrod\")\n+            .withTransitivity().as(File.class));\n+      return war;\n+   }\n+\n+   private static void wildfly(WebArchive war) {\n+      war.add(new FileAsset(new File(\"src/test/resources/wildfly/jboss-deployment-structure.xml\")), \"WEB-INF/jboss-deployment-structure.xml\");\n+   }\n+\n+   private static void tomcat(WebArchive war) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2fa3a0aad0348b9250f9340986f18e93c7eea730"}, "originalPosition": 38}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Mzc4NzA0MQ==", "bodyText": "Yes. I added a comment. Please let me know what you think,", "url": "https://github.com/infinispan/infinispan/pull/8657#discussion_r483787041", "createdAt": "2020-09-04T18:31:13Z", "author": {"login": "diegolovison"}, "path": "integrationtests/server-integration/third-party-server/src/test/java/org/infinispan/test/integration/DeploymentHelper.java", "diffHunk": "@@ -0,0 +1,46 @@\n+package org.infinispan.test.integration;\n+\n+import java.io.File;\n+\n+import org.jboss.shrinkwrap.api.ShrinkWrap;\n+import org.jboss.shrinkwrap.api.asset.FileAsset;\n+import org.jboss.shrinkwrap.api.spec.WebArchive;\n+import org.jboss.shrinkwrap.resolver.api.maven.Maven;\n+import org.jboss.shrinkwrap.resolver.api.maven.MavenResolverSystem;\n+\n+public class DeploymentHelper {\n+\n+   public static WebArchive createDeployment() {\n+\n+      WebArchive war = ShrinkWrap.create(WebArchive.class, \"infinispan-server-integration.war\");\n+      String arquillianLaunch = System.getProperty(\"arquillian.launch\");\n+\n+      if (arquillianLaunch.equals(\"tomcat\")) {\n+         tomcat(war);\n+      } else if (arquillianLaunch.equals(\"wildfly\")) {\n+         wildfly(war);\n+      } else {\n+         throw new IllegalStateException(String.format(\"%s not supported\", arquillianLaunch));\n+      }\n+\n+      MavenResolverSystem resolver = Maven.resolver();\n+      addLibrary(war, resolver\n+            .loadPomFromFile(\"pom.xml\")\n+            .resolve(\"org.infinispan:infinispan-client-hotrod\")\n+            .withTransitivity().as(File.class));\n+      return war;\n+   }\n+\n+   private static void wildfly(WebArchive war) {\n+      war.add(new FileAsset(new File(\"src/test/resources/wildfly/jboss-deployment-structure.xml\")), \"WEB-INF/jboss-deployment-structure.xml\");\n+   }\n+\n+   private static void tomcat(WebArchive war) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzY1NjE0Mg=="}, "originalCommit": {"oid": "2fa3a0aad0348b9250f9340986f18e93c7eea730"}, "originalPosition": 38}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Mzc5MjM5OQ==", "bodyText": "looks good.", "url": "https://github.com/infinispan/infinispan/pull/8657#discussion_r483792399", "createdAt": "2020-09-04T18:44:36Z", "author": {"login": "pruivo"}, "path": "integrationtests/server-integration/third-party-server/src/test/java/org/infinispan/test/integration/DeploymentHelper.java", "diffHunk": "@@ -0,0 +1,46 @@\n+package org.infinispan.test.integration;\n+\n+import java.io.File;\n+\n+import org.jboss.shrinkwrap.api.ShrinkWrap;\n+import org.jboss.shrinkwrap.api.asset.FileAsset;\n+import org.jboss.shrinkwrap.api.spec.WebArchive;\n+import org.jboss.shrinkwrap.resolver.api.maven.Maven;\n+import org.jboss.shrinkwrap.resolver.api.maven.MavenResolverSystem;\n+\n+public class DeploymentHelper {\n+\n+   public static WebArchive createDeployment() {\n+\n+      WebArchive war = ShrinkWrap.create(WebArchive.class, \"infinispan-server-integration.war\");\n+      String arquillianLaunch = System.getProperty(\"arquillian.launch\");\n+\n+      if (arquillianLaunch.equals(\"tomcat\")) {\n+         tomcat(war);\n+      } else if (arquillianLaunch.equals(\"wildfly\")) {\n+         wildfly(war);\n+      } else {\n+         throw new IllegalStateException(String.format(\"%s not supported\", arquillianLaunch));\n+      }\n+\n+      MavenResolverSystem resolver = Maven.resolver();\n+      addLibrary(war, resolver\n+            .loadPomFromFile(\"pom.xml\")\n+            .resolve(\"org.infinispan:infinispan-client-hotrod\")\n+            .withTransitivity().as(File.class));\n+      return war;\n+   }\n+\n+   private static void wildfly(WebArchive war) {\n+      war.add(new FileAsset(new File(\"src/test/resources/wildfly/jboss-deployment-structure.xml\")), \"WEB-INF/jboss-deployment-structure.xml\");\n+   }\n+\n+   private static void tomcat(WebArchive war) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzY1NjE0Mg=="}, "originalCommit": {"oid": "2fa3a0aad0348b9250f9340986f18e93c7eea730"}, "originalPosition": 38}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAyNDE3NjI5OnYy", "diffSide": "RIGHT", "path": "pom.xml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNFQxNDozODo0NlrOHNQD8g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNFQxODozMDo1NFrOHNYAqw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzY1NjY5MA==", "bodyText": "nitpick: move server-integration-commons beforewf-modules?", "url": "https://github.com/infinispan/infinispan/pull/8657#discussion_r483656690", "createdAt": "2020-09-04T14:38:46Z", "author": {"login": "pruivo"}, "path": "pom.xml", "diffHunk": "@@ -147,6 +147,8 @@\n       <module>integrationtests/spring-boot-it</module>\n       <module>integrationtests/server-integration</module>\n       <module>integrationtests/server-integration/wildfly-modules</module>\n+      <module>integrationtests/server-integration/third-party-server</module>\n+      <module>integrationtests/server-integration/server-integration-commons</module>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2fa3a0aad0348b9250f9340986f18e93c7eea730"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Mzc4NjkyMw==", "bodyText": "Done", "url": "https://github.com/infinispan/infinispan/pull/8657#discussion_r483786923", "createdAt": "2020-09-04T18:30:54Z", "author": {"login": "diegolovison"}, "path": "pom.xml", "diffHunk": "@@ -147,6 +147,8 @@\n       <module>integrationtests/spring-boot-it</module>\n       <module>integrationtests/server-integration</module>\n       <module>integrationtests/server-integration/wildfly-modules</module>\n+      <module>integrationtests/server-integration/third-party-server</module>\n+      <module>integrationtests/server-integration/server-integration-commons</module>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzY1NjY5MA=="}, "originalCommit": {"oid": "2fa3a0aad0348b9250f9340986f18e93c7eea730"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3919, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}