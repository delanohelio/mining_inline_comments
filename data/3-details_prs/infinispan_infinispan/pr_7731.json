{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYyMjExMjE4", "number": 7731, "title": "ISPN-11148 + ISPN-11149 + ISPN-11150 CLI hang fix / CLI logging", "bodyText": "https://issues.redhat.com/browse/ISPN-11148 CLI: close all connections to the server to prevent hang\nhttps://issues.redhat.com/browse/ISPN-11149 CLI logging file\nhttps://issues.redhat.com/browse/ISPN-11150 Show server URL on boot", "createdAt": "2020-01-13T16:34:36Z", "url": "https://github.com/infinispan/infinispan/pull/7731", "merged": true, "mergeCommit": {"oid": "853272689914d5b12568963aef91fdbf72cc6df8"}, "closed": true, "closedAt": "2020-01-16T11:43:33Z", "author": {"login": "tristantarrant"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb6nAE1gFqTM0MzIwNjQ0Mw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABb61QM0ABqjI5NTM0OTYxMjI=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQzMjA2NDQz", "url": "https://github.com/infinispan/infinispan/pull/7731#pullrequestreview-343206443", "createdAt": "2020-01-15T13:11:20Z", "commit": {"oid": "5443a4e9aa765e671d5369d0090b3b00ae02caf2"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNVQxMzoxMToyMVrOFd3wqQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNVQxNTowNjozMVrOFd7Y0A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Njg2NjYwMQ==", "bodyText": "Should we use Util.close(connection) maybe?", "url": "https://github.com/infinispan/infinispan/pull/7731#discussion_r366866601", "createdAt": "2020-01-15T13:11:21Z", "author": {"login": "danberindei"}, "path": "cli/cli-client/src/main/java/org/infinispan/cli/impl/ContextImpl.java", "diffHunk": "@@ -80,6 +81,7 @@ public Connection connect(Shell shell, String connectionString) {\n          connection.connect();\n       } catch (AccessDeniedException accessDenied) {\n          try {\n+            connection.close();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5443a4e9aa765e671d5369d0090b3b00ae02caf2"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjkyNjAzMg==", "bodyText": "Do we have a server name we could add to the log?", "url": "https://github.com/infinispan/infinispan/pull/7731#discussion_r366926032", "createdAt": "2020-01-15T15:06:31Z", "author": {"login": "danberindei"}, "path": "server/runtime/src/main/java/org/infinispan/server/logging/Log.java", "diffHunk": "@@ -132,4 +132,8 @@\n \n    @Message(value = \"Cannot find a network address which matches the supplied configuration\", id = 80033)\n    CacheConfigurationException invalidNetworkConfiguration();\n+\n+   @LogMessage(level = Logger.Level.INFO)\n+   @Message(value = \"Server listening on %s://%s:%d\", id = 80034)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5443a4e9aa765e671d5369d0090b3b00ae02caf2"}, "originalPosition": 6}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5443a4e9aa765e671d5369d0090b3b00ae02caf2", "author": {"user": {"login": "tristantarrant", "name": "Tristan Tarrant"}}, "url": "https://github.com/infinispan/infinispan/commit/5443a4e9aa765e671d5369d0090b3b00ae02caf2", "committedDate": "2020-01-14T14:12:11Z", "message": "ISPN-11154 Use log4j's BasicContextSelector in the server"}, "afterCommit": {"oid": "226280c006c571da6b65597c77b42a9d3761f97c", "author": {"user": {"login": "tristantarrant", "name": "Tristan Tarrant"}}, "url": "https://github.com/infinispan/infinispan/commit/226280c006c571da6b65597c77b42a9d3761f97c", "committedDate": "2020-01-16T07:44:49Z", "message": "ISPN-11154 Use log4j's BasicContextSelector in the server"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c9c7689009239e63621161e521ff225daf02d3b1", "author": {"user": {"login": "tristantarrant", "name": "Tristan Tarrant"}}, "url": "https://github.com/infinispan/infinispan/commit/c9c7689009239e63621161e521ff225daf02d3b1", "committedDate": "2020-01-16T07:45:06Z", "message": "ISPN-11148 CLI: close all connections to the server to prevent hang"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c020d37b33c90dd383bdcbc8a788cf3d1582aa9e", "author": {"user": {"login": "tristantarrant", "name": "Tristan Tarrant"}}, "url": "https://github.com/infinispan/infinispan/commit/c020d37b33c90dd383bdcbc8a788cf3d1582aa9e", "committedDate": "2020-01-16T07:45:06Z", "message": "ISPN-11149 CLI logging file"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ad7a0258e6e4e9193b1b378fd0bfbe1ec8521fff", "author": {"user": {"login": "tristantarrant", "name": "Tristan Tarrant"}}, "url": "https://github.com/infinispan/infinispan/commit/ad7a0258e6e4e9193b1b378fd0bfbe1ec8521fff", "committedDate": "2020-01-16T07:45:06Z", "message": "ISPN-11150 Show server URL on boot"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fab7c651d9a5d571b209b373bc26ddbdbcef21f7", "author": {"user": {"login": "tristantarrant", "name": "Tristan Tarrant"}}, "url": "https://github.com/infinispan/infinispan/commit/fab7c651d9a5d571b209b373bc26ddbdbcef21f7", "committedDate": "2020-01-16T07:45:06Z", "message": "ISPN-11154 Use log4j's BasicContextSelector in the server"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "226280c006c571da6b65597c77b42a9d3761f97c", "author": {"user": {"login": "tristantarrant", "name": "Tristan Tarrant"}}, "url": "https://github.com/infinispan/infinispan/commit/226280c006c571da6b65597c77b42a9d3761f97c", "committedDate": "2020-01-16T07:44:49Z", "message": "ISPN-11154 Use log4j's BasicContextSelector in the server"}, "afterCommit": {"oid": "fab7c651d9a5d571b209b373bc26ddbdbcef21f7", "author": {"user": {"login": "tristantarrant", "name": "Tristan Tarrant"}}, "url": "https://github.com/infinispan/infinispan/commit/fab7c651d9a5d571b209b373bc26ddbdbcef21f7", "committedDate": "2020-01-16T07:45:06Z", "message": "ISPN-11154 Use log4j's BasicContextSelector in the server"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 176, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}