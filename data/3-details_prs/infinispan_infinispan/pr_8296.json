{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE1MzAxNjU5", "number": 8296, "title": "ISPN-11785 server patching docs", "bodyText": "https://issues.redhat.com/browse/ISPN-11785\nNeeds backport to 10.1.x", "createdAt": "2020-05-08T15:49:35Z", "url": "https://github.com/infinispan/infinispan/pull/8296", "merged": true, "mergeCommit": {"oid": "e70e8c83c198035f7cac36ad210d8ba32c12038a"}, "closed": true, "closedAt": "2020-05-13T17:37:51Z", "author": {"login": "oraNod"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcgLPgUgFqTQwODk1NDE0MA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcg8dElgFqTQxMTE1MjM4Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA4OTU0MTQw", "url": "https://github.com/infinispan/infinispan/pull/8296#pullrequestreview-408954140", "createdAt": "2020-05-11T08:14:17Z", "commit": {"oid": "a36c5d6c340de2842b45c978eb65258fe52981c6"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQwODoxNDoxN1rOGTReKQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQwODoxNjowNVrOGTRiYA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjg2MjM3Nw==", "bodyText": "suggestion: don't use . to signal the server path. It may be confusing IMO.\nuse something similar path/to/target/server/home and path/to/source/server/home", "url": "https://github.com/infinispan/infinispan/pull/8296#discussion_r422862377", "createdAt": "2020-05-11T08:14:17Z", "author": {"login": "pruivo"}, "path": "documentation/src/main/asciidoc/topics/proc_server_creating_patches.adoc", "diffHunk": "@@ -0,0 +1,85 @@\n+[id='patching_create-{context}']\n+= Creating Server Patches\n+You can create patches for {brandname} servers from an existing server\n+installation.\n+\n+ifndef::productized[]\n+You can create patches for {brandname} servers starting from 10.1.7. You can\n+patch any 10.1 or later server installation. However you cannot patch 9.4.x or\n+earlier servers with 10.1.7 or later.\n+\n+You can also create patches that either upgrade or downgrade the {brandname}\n+server version. For example, you can create a patch from version 10.1.7 and use\n+it to upgrade version 10.1.5 or downgrade version 11.0.0.\n+endif::productized[]\n+ifdef::productized[]\n+You can create patches for {brandname} servers starting from 8.0.1. You can\n+patch 8.0 GA servers with 8.0.1. However you cannot patch 7.3.x or earlier\n+servers with 8.0.1 or later.\n+\n+You can also create patches that either upgrade or downgrade the {brandname}\n+server version. For example, you can create a patch from version 8.0.1 and use\n+it to upgrade version 8.0 GA or downgrade a later version.\n+\n+[IMPORTANT]\n+====\n+To avoid issues with server installations, {redhat} recommends that you\n+download server patches from the {portal} rather than creating them.\n+====\n+endif::productized[]\n+\n+.Procedure\n+\n+. Navigate to `{server_home}` for a {brandname} server installation that has\n+the target version for the patch you want to create.\n+. Start the CLI.\n++\n+[source,options=\"nowrap\",subs=attributes+]\n+----\n+$ bin/cli.sh\n+[disconnected]>\n+----\n++\n+. Use the `patch create` command to generate a patch archive and include the `-q` option with a meaningful qualifier to describe the patch.\n++\n+[source,options=\"nowrap\",subs=attributes+]\n+----\n+[disconnected]> patch create -q \"this is my test patch\" path/to/mypatch.zip . path/to/server/home", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a36c5d6c340de2842b45c978eb65258fe52981c6"}, "originalPosition": 47}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjg2MzQ1Ng==", "bodyText": "same suggestion as above.", "url": "https://github.com/infinispan/infinispan/pull/8296#discussion_r422863456", "createdAt": "2020-05-11T08:16:05Z", "author": {"login": "pruivo"}, "path": "documentation/src/main/asciidoc/topics/proc_server_creating_patches.adoc", "diffHunk": "@@ -0,0 +1,85 @@\n+[id='patching_create-{context}']\n+= Creating Server Patches\n+You can create patches for {brandname} servers from an existing server\n+installation.\n+\n+ifndef::productized[]\n+You can create patches for {brandname} servers starting from 10.1.7. You can\n+patch any 10.1 or later server installation. However you cannot patch 9.4.x or\n+earlier servers with 10.1.7 or later.\n+\n+You can also create patches that either upgrade or downgrade the {brandname}\n+server version. For example, you can create a patch from version 10.1.7 and use\n+it to upgrade version 10.1.5 or downgrade version 11.0.0.\n+endif::productized[]\n+ifdef::productized[]\n+You can create patches for {brandname} servers starting from 8.0.1. You can\n+patch 8.0 GA servers with 8.0.1. However you cannot patch 7.3.x or earlier\n+servers with 8.0.1 or later.\n+\n+You can also create patches that either upgrade or downgrade the {brandname}\n+server version. For example, you can create a patch from version 8.0.1 and use\n+it to upgrade version 8.0 GA or downgrade a later version.\n+\n+[IMPORTANT]\n+====\n+To avoid issues with server installations, {redhat} recommends that you\n+download server patches from the {portal} rather than creating them.\n+====\n+endif::productized[]\n+\n+.Procedure\n+\n+. Navigate to `{server_home}` for a {brandname} server installation that has\n+the target version for the patch you want to create.\n+. Start the CLI.\n++\n+[source,options=\"nowrap\",subs=attributes+]\n+----\n+$ bin/cli.sh\n+[disconnected]>\n+----\n++\n+. Use the `patch create` command to generate a patch archive and include the `-q` option with a meaningful qualifier to describe the patch.\n++\n+[source,options=\"nowrap\",subs=attributes+]\n+----\n+[disconnected]> patch create -q \"this is my test patch\" path/to/mypatch.zip . path/to/server/home\n+----\n++\n+The preceding command generates a `.zip` archive in the specified directory.\n+Note that paths are relative to `{server_home}`.\n++\n+. Describe the generated patch archive.\n++\n+[source,options=\"nowrap\",subs=attributes+]\n+----\n+[disconnected]> patch describe path/to/mypatch.zip\n+\n+{fullbrandname} patch target=$target_version(my test patch) source=$source_version created=$timestamp\n+----\n++\n+* `$target_version` is the {brandname} server version from which the patch was created.\n+* `$source_version` is the {brandname} server version to which you can apply the patch.\n++\n+You can apply patches to {brandname} servers that match the `$source_version`\n+only. Attempting to apply patches to other versions results in the following\n+exception:\n++\n+[source,options=\"nowrap\",subs=attributes+]\n+----\n+java.lang.IllegalStateException: The supplied patch cannot be applied to `$source_version`\n+----\n+\n+[TIP]\n+====\n+Create single patches for multiple different {brandname} versions, for example:\n+\n+[source,options=\"nowrap\",subs=attributes+]\n+----\n+[disconnected]> patch create -q \"this is my test patch\" path/to/mypatch.zip . path/to/server1/home path/to/server2/home", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a36c5d6c340de2842b45c978eb65258fe52981c6"}, "originalPosition": 80}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a36c5d6c340de2842b45c978eb65258fe52981c6", "author": {"user": {"login": "oraNod", "name": "Don Naro"}}, "url": "https://github.com/infinispan/infinispan/commit/a36c5d6c340de2842b45c978eb65258fe52981c6", "committedDate": "2020-05-08T17:25:46Z", "message": "feedback from Wolf"}, "afterCommit": {"oid": "1571de7914bd17c0a40a0e524db1e9f9bf2a53db", "author": {"user": {"login": "oraNod", "name": "Don Naro"}}, "url": "https://github.com/infinispan/infinispan/commit/1571de7914bd17c0a40a0e524db1e9f9bf2a53db", "committedDate": "2020-05-11T09:00:23Z", "message": "ISPN-11785 server patching docs"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1571de7914bd17c0a40a0e524db1e9f9bf2a53db", "author": {"user": {"login": "oraNod", "name": "Don Naro"}}, "url": "https://github.com/infinispan/infinispan/commit/1571de7914bd17c0a40a0e524db1e9f9bf2a53db", "committedDate": "2020-05-11T09:00:23Z", "message": "ISPN-11785 server patching docs"}, "afterCommit": {"oid": "1db217f8103ba2b707bbe1a501dacff3e171f288", "author": {"user": {"login": "oraNod", "name": "Don Naro"}}, "url": "https://github.com/infinispan/infinispan/commit/1db217f8103ba2b707bbe1a501dacff3e171f288", "committedDate": "2020-05-11T12:52:57Z", "message": "ISPN-11785 server patching docs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "836c40f1480a4d36ddab9c43db066e0e521fb77c", "author": {"user": {"login": "oraNod", "name": "Don Naro"}}, "url": "https://github.com/infinispan/infinispan/commit/836c40f1480a4d36ddab9c43db066e0e521fb77c", "committedDate": "2020-05-12T10:50:39Z", "message": "ISPN-11785 server patching docs"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1db217f8103ba2b707bbe1a501dacff3e171f288", "author": {"user": {"login": "oraNod", "name": "Don Naro"}}, "url": "https://github.com/infinispan/infinispan/commit/1db217f8103ba2b707bbe1a501dacff3e171f288", "committedDate": "2020-05-11T12:52:57Z", "message": "ISPN-11785 server patching docs"}, "afterCommit": {"oid": "836c40f1480a4d36ddab9c43db066e0e521fb77c", "author": {"user": {"login": "oraNod", "name": "Don Naro"}}, "url": "https://github.com/infinispan/infinispan/commit/836c40f1480a4d36ddab9c43db066e0e521fb77c", "committedDate": "2020-05-12T10:50:39Z", "message": "ISPN-11785 server patching docs"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDExMTUyMzgz", "url": "https://github.com/infinispan/infinispan/pull/8296#pullrequestreview-411152383", "createdAt": "2020-05-13T17:37:43Z", "commit": {"oid": "836c40f1480a4d36ddab9c43db066e0e521fb77c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 733, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}