{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzcwOTUxNzMx", "number": 7822, "title": "ISPN-11275 expose local site name", "bodyText": "https://issues.redhat.com/browse/ISPN-11275\nbackport #7864", "createdAt": "2020-02-04T17:07:53Z", "url": "https://github.com/infinispan/infinispan/pull/7822", "merged": true, "mergeCommit": {"oid": "9154b958c00b1a6455a64bdd119a6c08c9485157"}, "closed": true, "closedAt": "2020-02-11T11:22:27Z", "author": {"login": "karesti"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcBE2QEgFqTM1MzE1NzIyMg==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcDBuzggFqTM1NjE3NjA2MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUzMTU3MjIy", "url": "https://github.com/infinispan/infinispan/pull/7822#pullrequestreview-353157222", "createdAt": "2020-02-04T17:18:53Z", "commit": {"oid": "78e50099c6b6c8995f7136c76c03ad0d86d80a08"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQxNzoxODo1M1rOFlcjow==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQxNzoxODo1M1rOFlcjow==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDgwOTUwNw==", "bodyText": "IMO, you should get the site name from RELAY2. the site-name in global configuration isn't mandatory to set and it may be different.", "url": "https://github.com/infinispan/infinispan/pull/7822#discussion_r374809507", "createdAt": "2020-02-04T17:18:53Z", "author": {"login": "pruivo"}, "path": "core/src/main/java/org/infinispan/manager/CacheManagerInfo.java", "diffHunk": "@@ -107,6 +108,11 @@ public String getClusterName() {\n       return configurationManager.getGlobalConfiguration().transport().clusterName();\n    }\n \n+   public String getLocalSite() {\n+      SiteConfiguration sites = configurationManager.getGlobalConfiguration().sites();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "78e50099c6b6c8995f7136c76c03ad0d86d80a08"}, "originalPosition": 13}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "78e50099c6b6c8995f7136c76c03ad0d86d80a08", "author": {"user": {"login": "karesti", "name": "Katia Aresti"}}, "url": "https://github.com/infinispan/infinispan/commit/78e50099c6b6c8995f7136c76c03ad0d86d80a08", "committedDate": "2020-02-04T17:07:19Z", "message": "ISPN-11275 expose local site name"}, "afterCommit": {"oid": "3b6645102712ccb78794209dead42553d451f2d8", "author": {"user": {"login": "karesti", "name": "Katia Aresti"}}, "url": "https://github.com/infinispan/infinispan/commit/3b6645102712ccb78794209dead42553d451f2d8", "committedDate": "2020-02-06T16:21:39Z", "message": "ISPN-11275 expose local site name"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU0NjQzNDQy", "url": "https://github.com/infinispan/infinispan/pull/7822#pullrequestreview-354643442", "createdAt": "2020-02-06T17:39:38Z", "commit": {"oid": "3b6645102712ccb78794209dead42553d451f2d8"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNlQxNzozOTozOVrOFmkJFA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNlQxNzozOTozOVrOFmkJFA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTk4MjM1Ng==", "bodyText": "I'm not sure how useful this test is :)", "url": "https://github.com/infinispan/infinispan/pull/7822#discussion_r375982356", "createdAt": "2020-02-06T17:39:39Z", "author": {"login": "pruivo"}, "path": "server/rest/src/test/java/org/infinispan/rest/resources/CacheManagerResourceTest.java", "diffHunk": "@@ -213,6 +212,7 @@ public void testInfo() throws Exception {\n       assertFalse(cmInfo.get(\"version\").asText().isEmpty());\n       assertEquals(2, cmInfo.get(\"cluster_members\").size());\n       assertEquals(2, cmInfo.get(\"cluster_members_physical_addresses\").size());\n+      assertTrue(cmInfo.get(\"local_site\").isNull());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3b6645102712ccb78794209dead42553d451f2d8"}, "originalPosition": 52}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU1MDU3MDQ3", "url": "https://github.com/infinispan/infinispan/pull/7822#pullrequestreview-355057047", "createdAt": "2020-02-07T10:17:38Z", "commit": {"oid": "3b6645102712ccb78794209dead42553d451f2d8"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wN1QxMDoxNzozOFrOFm4bvA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wN1QxMDoxNzozOFrOFm4bvA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjMxNDgxMg==", "bodyText": "revert the changes in the imports", "url": "https://github.com/infinispan/infinispan/pull/7822#discussion_r376314812", "createdAt": "2020-02-07T10:17:38Z", "author": {"login": "pruivo"}, "path": "server/rest/src/test/java/org/infinispan/rest/resources/CacheManagerResourceTest.java", "diffHunk": "@@ -1,20 +1,8 @@\n package org.infinispan.rest.resources;\n \n-import static org.infinispan.commons.dataconversion.MediaType.TEXT_PLAIN_TYPE;\n-import static org.infinispan.configuration.cache.CacheMode.DIST_SYNC;\n-import static org.infinispan.configuration.cache.CacheMode.LOCAL;\n-import static org.infinispan.partitionhandling.PartitionHandling.DENY_READ_WRITES;\n-import static org.testng.Assert.assertNotNull;\n-import static org.testng.Assert.assertTrue;\n-import static org.testng.AssertJUnit.assertEquals;\n-import static org.testng.AssertJUnit.assertFalse;\n-\n-import java.util.ArrayList;\n-import java.util.HashMap;\n-import java.util.List;\n-import java.util.Map;\n-import java.util.stream.Collectors;\n-\n+import com.fasterxml.jackson.databind.JsonNode;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3b6645102712ccb78794209dead42553d451f2d8"}, "originalPosition": 18}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3b6645102712ccb78794209dead42553d451f2d8", "author": {"user": {"login": "karesti", "name": "Katia Aresti"}}, "url": "https://github.com/infinispan/infinispan/commit/3b6645102712ccb78794209dead42553d451f2d8", "committedDate": "2020-02-06T16:21:39Z", "message": "ISPN-11275 expose local site name"}, "afterCommit": {"oid": "74130519c5be206579d6a5e0d4c774214082f190", "author": {"user": {"login": "karesti", "name": "Katia Aresti"}}, "url": "https://github.com/infinispan/infinispan/commit/74130519c5be206579d6a5e0d4c774214082f190", "committedDate": "2020-02-10T13:45:59Z", "message": "ISPN-11275 expose local site name"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a484e0836cbacfb9e96184ed348a9cfdebbb19bd", "author": {"user": {"login": "karesti", "name": "Katia Aresti"}}, "url": "https://github.com/infinispan/infinispan/commit/a484e0836cbacfb9e96184ed348a9cfdebbb19bd", "committedDate": "2020-02-10T15:08:42Z", "message": "ISPN-11275 expose local site name"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "74130519c5be206579d6a5e0d4c774214082f190", "author": {"user": {"login": "karesti", "name": "Katia Aresti"}}, "url": "https://github.com/infinispan/infinispan/commit/74130519c5be206579d6a5e0d4c774214082f190", "committedDate": "2020-02-10T13:45:59Z", "message": "ISPN-11275 expose local site name"}, "afterCommit": {"oid": "a484e0836cbacfb9e96184ed348a9cfdebbb19bd", "author": {"user": {"login": "karesti", "name": "Katia Aresti"}}, "url": "https://github.com/infinispan/infinispan/commit/a484e0836cbacfb9e96184ed348a9cfdebbb19bd", "committedDate": "2020-02-10T15:08:42Z", "message": "ISPN-11275 expose local site name"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU2MTc2MDYx", "url": "https://github.com/infinispan/infinispan/pull/7822#pullrequestreview-356176061", "createdAt": "2020-02-10T18:48:53Z", "commit": {"oid": "a484e0836cbacfb9e96184ed348a9cfdebbb19bd"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1284, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}