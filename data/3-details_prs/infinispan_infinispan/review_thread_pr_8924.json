{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM1NDcxNTUx", "number": 8924, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQyMDoxOTo1NVrOFDqlWQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQyMDoxOTo1NVrOFDqlWQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM5Mzg3NzM3OnYy", "diffSide": "RIGHT", "path": "server/rest/src/main/java/org/infinispan/rest/CacheEntryInputStream.java", "isResolved": true, "comments": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQyMDoxOTo1NVrOIDbpRg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQxNjo0Mzo1NVrOIFZqzw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDQ2OTU3NA==", "bodyText": "So I must admit this seems a bit odd to me. Why even have the created and last used if we are converting the lifespan and max idle to seconds? Should we not convert all of them? Or maybe we don't even need created or last used?", "url": "https://github.com/infinispan/infinispan/pull/8924#discussion_r540469574", "createdAt": "2020-12-10T20:19:55Z", "author": {"login": "wburns"}, "path": "server/rest/src/main/java/org/infinispan/rest/CacheEntryInputStream.java", "diffHunk": "@@ -207,7 +208,13 @@ private void loadMetadata() {\n          InternalCacheEntry ice = (InternalCacheEntry) currentEntry;\n          // add metadata\n          long lifespan = ice.getLifespan();\n+         if (lifespan > -1) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4a6cce5300e5ace14cbd02d944f412dba67c5756"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDU0MTc2NQ==", "bodyText": "the rest api works in seconds for maxidle and lifespan\n\n  \n    \n      infinispan/server/rest/src/main/java/org/infinispan/rest/NettyRestResponse.java\n    \n    \n         Line 194\n      in\n      4e9596f\n    \n    \n    \n    \n\n        \n          \n           public Builder timeToLive(long timeToLive) {", "url": "https://github.com/infinispan/infinispan/pull/8924#discussion_r540541765", "createdAt": "2020-12-10T22:24:44Z", "author": {"login": "karesti"}, "path": "server/rest/src/main/java/org/infinispan/rest/CacheEntryInputStream.java", "diffHunk": "@@ -207,7 +208,13 @@ private void loadMetadata() {\n          InternalCacheEntry ice = (InternalCacheEntry) currentEntry;\n          // add metadata\n          long lifespan = ice.getLifespan();\n+         if (lifespan > -1) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDQ2OTU3NA=="}, "originalCommit": {"oid": "4a6cce5300e5ace14cbd02d944f412dba67c5756"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDU0MzEwOQ==", "bodyText": "the other parameters are translated to dates from the long on the headers", "url": "https://github.com/infinispan/infinispan/pull/8924#discussion_r540543109", "createdAt": "2020-12-10T22:27:23Z", "author": {"login": "karesti"}, "path": "server/rest/src/main/java/org/infinispan/rest/CacheEntryInputStream.java", "diffHunk": "@@ -207,7 +208,13 @@ private void loadMetadata() {\n          InternalCacheEntry ice = (InternalCacheEntry) currentEntry;\n          // add metadata\n          long lifespan = ice.getLifespan();\n+         if (lifespan > -1) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDQ2OTU3NA=="}, "originalCommit": {"oid": "4a6cce5300e5ace14cbd02d944f412dba67c5756"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDU0NDgzMg==", "bodyText": "and for put entry for example we send timeToLiveSeconds\nhttps://infinispan.org/docs/dev/titles/rest/rest.html#rest_v2_add_entries", "url": "https://github.com/infinispan/infinispan/pull/8924#discussion_r540544832", "createdAt": "2020-12-10T22:30:38Z", "author": {"login": "karesti"}, "path": "server/rest/src/main/java/org/infinispan/rest/CacheEntryInputStream.java", "diffHunk": "@@ -207,7 +208,13 @@ private void loadMetadata() {\n          InternalCacheEntry ice = (InternalCacheEntry) currentEntry;\n          // add metadata\n          long lifespan = ice.getLifespan();\n+         if (lifespan > -1) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDQ2OTU3NA=="}, "originalCommit": {"oid": "4a6cce5300e5ace14cbd02d944f412dba67c5756"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDgwOTE2Mw==", "bodyText": "@gustavonalle here", "url": "https://github.com/infinispan/infinispan/pull/8924#discussion_r540809163", "createdAt": "2020-12-11T09:29:55Z", "author": {"login": "karesti"}, "path": "server/rest/src/main/java/org/infinispan/rest/CacheEntryInputStream.java", "diffHunk": "@@ -207,7 +208,13 @@ private void loadMetadata() {\n          InternalCacheEntry ice = (InternalCacheEntry) currentEntry;\n          // add metadata\n          long lifespan = ice.getLifespan();\n+         if (lifespan > -1) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDQ2OTU3NA=="}, "originalCommit": {"oid": "4a6cce5300e5ace14cbd02d944f412dba67c5756"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTIwNTcyOA==", "bodyText": "@wburns since gustavo is not coming until next year, could we move forward this please? I need this fix for the console because other wise data is not consistent. I can do conversion directly from the console, but it's very weird to me to work on seconds everywhere in the REST api but not here. I was disturbed myself", "url": "https://github.com/infinispan/infinispan/pull/8924#discussion_r541205728", "createdAt": "2020-12-11T19:38:37Z", "author": {"login": "karesti"}, "path": "server/rest/src/main/java/org/infinispan/rest/CacheEntryInputStream.java", "diffHunk": "@@ -207,7 +208,13 @@ private void loadMetadata() {\n          InternalCacheEntry ice = (InternalCacheEntry) currentEntry;\n          // add metadata\n          long lifespan = ice.getLifespan();\n+         if (lifespan > -1) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDQ2OTU3NA=="}, "originalCommit": {"oid": "4a6cce5300e5ace14cbd02d944f412dba67c5756"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTIwNjQwNQ==", "bodyText": "I'm planning to implement the CLI operation on this as well", "url": "https://github.com/infinispan/infinispan/pull/8924#discussion_r541206405", "createdAt": "2020-12-11T19:39:17Z", "author": {"login": "karesti"}, "path": "server/rest/src/main/java/org/infinispan/rest/CacheEntryInputStream.java", "diffHunk": "@@ -207,7 +208,13 @@ private void loadMetadata() {\n          InternalCacheEntry ice = (InternalCacheEntry) currentEntry;\n          // add metadata\n          long lifespan = ice.getLifespan();\n+         if (lifespan > -1) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDQ2OTU3NA=="}, "originalCommit": {"oid": "4a6cce5300e5ace14cbd02d944f412dba67c5756"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjUzNDM1MQ==", "bodyText": "Yeah, I understand we use seconds for REST. I was more asking because we have a Metadata class and normally metadata is in ms internally. Maybe just change the instance variables to lifespanSeconds instead? This would be on the Metadata class as well.", "url": "https://github.com/infinispan/infinispan/pull/8924#discussion_r542534351", "createdAt": "2020-12-14T16:43:55Z", "author": {"login": "wburns"}, "path": "server/rest/src/main/java/org/infinispan/rest/CacheEntryInputStream.java", "diffHunk": "@@ -207,7 +208,13 @@ private void loadMetadata() {\n          InternalCacheEntry ice = (InternalCacheEntry) currentEntry;\n          // add metadata\n          long lifespan = ice.getLifespan();\n+         if (lifespan > -1) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDQ2OTU3NA=="}, "originalCommit": {"oid": "4a6cce5300e5ace14cbd02d944f412dba67c5756"}, "originalPosition": 12}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3717, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}