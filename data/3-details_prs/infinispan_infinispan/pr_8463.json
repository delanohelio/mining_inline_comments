{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMyODQ1MjE4", "number": 8463, "title": "ISPN-11980 Storage type HEAP should default to application/x-java-object", "bodyText": "https://issues.redhat.com/browse/ISPN-11980", "createdAt": "2020-06-11T05:19:21Z", "url": "https://github.com/infinispan/infinispan/pull/8463", "merged": true, "mergeCommit": {"oid": "d1e0f4a8a511e60e319ef416efe44aa62d896206"}, "closed": true, "closedAt": "2020-06-11T18:28:47Z", "author": {"login": "danberindei"}, "timelineItems": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcp3bXngH2gAyNDMyODQ1MjE4OjRlMTgyNzNhMWM0M2JlMTExM2Q0YzExNmNiMGNiM2I1YzU1NWQ5NTQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcqJq6RgFqTQyODY4MzQ2OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "4e18273a1c43be1113d4c116cb0cb3b5c555d954", "author": {"user": {"login": "danberindei", "name": "Dan Berindei"}}, "url": "https://github.com/infinispan/infinispan/commit/4e18273a1c43be1113d4c116cb0cb3b5c555d954", "committedDate": "2020-06-10T10:51:39Z", "message": "ISPN-11980 Storage type HEAP should default to application/x-java-object"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI4NjgzNDY5", "url": "https://github.com/infinispan/infinispan/pull/8463#pullrequestreview-428683469", "createdAt": "2020-06-11T08:06:55Z", "commit": {"oid": "4e18273a1c43be1113d4c116cb0cb3b5c555d954"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQwODowNjo1NVrOGiS3RQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQwODowNjo1NVrOGiS3RQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODYxMzgyOQ==", "bodyText": "I reckon configuration.memory().storage() == StorageType.HEAP is the only check you need, since the config will translate from the old attributes. Do you have a failing test for this JIRA @danberindei or was it just something you noticed?", "url": "https://github.com/infinispan/infinispan/pull/8463#discussion_r438613829", "createdAt": "2020-06-11T08:06:55Z", "author": {"login": "gustavonalle"}, "path": "core/src/main/java/org/infinispan/encoding/impl/StorageConfigurationManager.java", "diffHunk": "@@ -109,6 +108,8 @@ private MediaType getStorageMediaType(Configuration configuration, boolean embed\n       if (internalCache) return MediaType.APPLICATION_OBJECT;\n \n       if (embeddedMode) {\n+         boolean heap = configuration.memory().storage() == StorageType.OBJECT ||\n+                        configuration.memory().storage() == StorageType.HEAP;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4e18273a1c43be1113d4c116cb0cb3b5c555d954"}, "originalPosition": 13}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 611, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}