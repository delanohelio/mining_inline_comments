{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY5NzMxNzg5", "number": 7815, "title": "ISPN-11262 Remove deprecated eviction configuration values", "bodyText": "EvictionStrategy removed\nOff heap address count removed\n\nhttps://issues.redhat.com/browse/ISPN-11262", "createdAt": "2020-01-31T19:15:05Z", "url": "https://github.com/infinispan/infinispan/pull/7815", "merged": true, "mergeCommit": {"oid": "230004e3679fc2f60fb318709e10683176f85d56"}, "closed": true, "closedAt": "2020-02-14T20:24:37Z", "author": {"login": "wburns"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb_0UWdgBqjI5OTgyNDU3MTM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcET2jrABqjMwMzk3MTM3MjI=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9c29526938aa15e5420857ef1ebe59ab0a632550", "author": {"user": {"login": "wburns", "name": "William Burns"}}, "url": "https://github.com/infinispan/infinispan/commit/9c29526938aa15e5420857ef1ebe59ab0a632550", "committedDate": "2020-01-31T19:14:25Z", "message": "ISPN-11262 Remove deprecated eviction configuration values\n\n* EvictionStrategy removed\n* Off heap address count removed"}, "afterCommit": {"oid": "53498a9905ca6fb348a8ddb372334939ee8a8c78", "author": {"user": {"login": "wburns", "name": "William Burns"}}, "url": "https://github.com/infinispan/infinispan/commit/53498a9905ca6fb348a8ddb372334939ee8a8c78", "committedDate": "2020-01-31T19:28:51Z", "message": "ISPN-11262 Remove deprecated eviction configuration values\n\n* EvictionStrategy removed\n* Off heap address count removed\n* Remove Eviction Thread Policy"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "98fee43b984e58f2c3d59e4289dd986d568228b7", "author": {"user": {"login": "wburns", "name": "William Burns"}}, "url": "https://github.com/infinispan/infinispan/commit/98fee43b984e58f2c3d59e4289dd986d568228b7", "committedDate": "2020-02-03T14:40:05Z", "message": "review changes"}, "afterCommit": {"oid": "9f576c59b63b72e7f4c104ed2f35c4e67f588c91", "author": {"user": {"login": "wburns", "name": "William Burns"}}, "url": "https://github.com/infinispan/infinispan/commit/9f576c59b63b72e7f4c104ed2f35c4e67f588c91", "committedDate": "2020-02-03T14:56:59Z", "message": "review changes"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "88835a4c4c745ee61cbebbd9ab0dc4aea3d1f0e3", "author": {"user": {"login": "wburns", "name": "William Burns"}}, "url": "https://github.com/infinispan/infinispan/commit/88835a4c4c745ee61cbebbd9ab0dc4aea3d1f0e3", "committedDate": "2020-02-10T17:19:03Z", "message": "fix some xml files"}, "afterCommit": {"oid": "4e43e6498853a55239c3f1b3e13a5867adf0974c", "author": {"user": {"login": "wburns", "name": "William Burns"}}, "url": "https://github.com/infinispan/infinispan/commit/4e43e6498853a55239c3f1b3e13a5867adf0974c", "committedDate": "2020-02-10T17:53:18Z", "message": "fix some xml files"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3a45038da2069b1955e429b55d108c81c1a81ea3", "author": {"user": {"login": "wburns", "name": "William Burns"}}, "url": "https://github.com/infinispan/infinispan/commit/3a45038da2069b1955e429b55d108c81c1a81ea3", "committedDate": "2020-02-10T18:28:42Z", "message": "more config fixes"}, "afterCommit": {"oid": "ff25391be1eb2de87e1067088d8ed488e74c88b4", "author": {"user": {"login": "wburns", "name": "William Burns"}}, "url": "https://github.com/infinispan/infinispan/commit/ff25391be1eb2de87e1067088d8ed488e74c88b4", "committedDate": "2020-02-12T17:34:58Z", "message": "ISPN-11262 Remove deprecated eviction configuration values\n\n* EvictionStrategy removed\n* Off heap address count removed\n* Remove Eviction Thread Policy"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU4MTc4NDUz", "url": "https://github.com/infinispan/infinispan/pull/7815#pullrequestreview-358178453", "createdAt": "2020-02-13T12:30:58Z", "commit": {"oid": "ff25391be1eb2de87e1067088d8ed488e74c88b4"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxMjozMDo1OFrOFpSAgw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxMjozMTo0NVrOFpSB1A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODgzMDk3OQ==", "bodyText": "We should throw an Exception here if the parser is 11 or higher and the strategy is not recognised.", "url": "https://github.com/infinispan/infinispan/pull/7815#discussion_r378830979", "createdAt": "2020-02-13T12:30:58Z", "author": {"login": "ryanemerson"}, "path": "wildfly/infinispan/src/main/java/org/jboss/as/clustering/infinispan/subsystem/InfinispanSubsystemXMLReader.java", "diffHunk": "@@ -1619,7 +1621,12 @@ private void parseEviction(XMLExtendedStreamReader reader, ModelNode cache, Map<\n             Attribute attribute = Attribute.forName(reader.getAttributeLocalName(i));\n             switch (attribute) {\n                 case STRATEGY: {\n-                    enabled = EvictionStrategy.valueOf(value).isEnabled();\n+                    try {\n+                        enabled = EvictionStrategy.valueOf(value).isEnabled();\n+                    } catch (IllegalArgumentException e) {\n+                        // Unable to parse eviction strategy - assuming it is enabled\n+                        enabled = true;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ff25391be1eb2de87e1067088d8ed488e74c88b4"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODgzMTMxNg==", "bodyText": "We should warn that the attribute has been ignored via ignoreAttribute.", "url": "https://github.com/infinispan/infinispan/pull/7815#discussion_r378831316", "createdAt": "2020-02-13T12:31:45Z", "author": {"login": "ryanemerson"}, "path": "wildfly/infinispan/src/main/java/org/jboss/as/clustering/infinispan/subsystem/InfinispanSubsystemXMLReader.java", "diffHunk": "@@ -1592,7 +1592,9 @@ private void parseMemoryOffHeap(XMLExtendedStreamReader reader, ModelNode cache,\n                     break;\n                 }\n                 case ADDRESS_COUNT: {\n-                    MemoryOffHeapConfigurationResource.ADDRESS_COUNT.parseAndSetParameter(value, offHeap, reader);\n+                    if (namespace.since(11, 0)) {\n+                        throw ParseUtils.unexpectedElement(reader);\n+                    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ff25391be1eb2de87e1067088d8ed488e74c88b4"}, "originalPosition": 7}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ff25391be1eb2de87e1067088d8ed488e74c88b4", "author": {"user": {"login": "wburns", "name": "William Burns"}}, "url": "https://github.com/infinispan/infinispan/commit/ff25391be1eb2de87e1067088d8ed488e74c88b4", "committedDate": "2020-02-12T17:34:58Z", "message": "ISPN-11262 Remove deprecated eviction configuration values\n\n* EvictionStrategy removed\n* Off heap address count removed\n* Remove Eviction Thread Policy"}, "afterCommit": {"oid": "d00f84a24c41f4f8c27ee4f30bb7946623562bac", "author": {"user": {"login": "wburns", "name": "William Burns"}}, "url": "https://github.com/infinispan/infinispan/commit/d00f84a24c41f4f8c27ee4f30bb7946623562bac", "committedDate": "2020-02-14T17:27:59Z", "message": "Review comments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "94a6856fede8cb62b585c652477baa7f930ee6fb", "author": {"user": {"login": "wburns", "name": "William Burns"}}, "url": "https://github.com/infinispan/infinispan/commit/94a6856fede8cb62b585c652477baa7f930ee6fb", "committedDate": "2020-02-14T18:29:29Z", "message": "ISPN-11262 Remove deprecated eviction configuration values\n\n* EvictionStrategy removed\n* Off heap address count removed\n* Remove Eviction Thread Policy"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d00f84a24c41f4f8c27ee4f30bb7946623562bac", "author": {"user": {"login": "wburns", "name": "William Burns"}}, "url": "https://github.com/infinispan/infinispan/commit/d00f84a24c41f4f8c27ee4f30bb7946623562bac", "committedDate": "2020-02-14T17:27:59Z", "message": "Review comments"}, "afterCommit": {"oid": "94a6856fede8cb62b585c652477baa7f930ee6fb", "author": {"user": {"login": "wburns", "name": "William Burns"}}, "url": "https://github.com/infinispan/infinispan/commit/94a6856fede8cb62b585c652477baa7f930ee6fb", "committedDate": "2020-02-14T18:29:29Z", "message": "ISPN-11262 Remove deprecated eviction configuration values\n\n* EvictionStrategy removed\n* Off heap address count removed\n* Remove Eviction Thread Policy"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1275, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}