{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTIzMzc1MTcy", "number": 8873, "title": "ISPN-12437 xsite max idle", "bodyText": "https://issues.redhat.com/browse/ISPN-12437", "createdAt": "2020-11-18T18:03:51Z", "url": "https://github.com/infinispan/infinispan/pull/8873", "merged": true, "mergeCommit": {"oid": "bc9c93352db2c724fb53aa11fde1a505244b2a08"}, "closed": true, "closedAt": "2020-12-01T19:08:26Z", "author": {"login": "oraNod"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABddyIhYAFqTUzMzczNzU0OA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdh9R40gFqTU0MjEyNjk1MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMzNzM3NTQ4", "url": "https://github.com/infinispan/infinispan/pull/8873#pullrequestreview-533737548", "createdAt": "2020-11-18T18:05:35Z", "commit": {"oid": "0006fe6eef24a1cb2de91ce612483e672344e155"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQxODowNTozNlrOH17d0A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQxODowNTozNlrOH17d0A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjMxMDg2NA==", "bodyText": "@wburns Does this description seem adequate? I didn't want to get overly complex about the touch commands. I know if they return null then the entry is expired. But I'm not sure we need to say that.\nIs there any performance penalty that comes from latency with touch commands?", "url": "https://github.com/infinispan/infinispan/pull/8873#discussion_r526310864", "createdAt": "2020-11-18T18:05:36Z", "author": {"login": "oraNod"}, "path": "documentation/src/main/asciidoc/topics/con_xsite_expiration.adoc", "diffHunk": "@@ -1,7 +1,10 @@\n [id='xsite_expiration-{context}']\n-= Expiration and Cross-Site Replication\n-{brandname} expiration controls how long entries remain in the cache.\n+= Expiration with Cross-Site Replication\n+Expiration removes cache entries based on time.\n+{brandname} provides two ways to configure expiration for entries:\n \n-* `lifespan` expiration is suitable for cross-site replication. When entries reach the maximum lifespan, {brandname} expires them independently of the remote sites.\n+`lifespan`:: Sets the maximum amount of time that entries can exist. +\n+When you set `lifespan` with cross-site replication, {brandname} clusters expire entries independently of remote sites.\n \n-* `max-idle` expiration does not work with cross-site replication. {brandname} cannot determine when cache entries reach the idle timeout in remote sites.\n+`max-idle`:: Specifies how long entries can exist based on read or write operations in a given time period. +\n+When you set a `max-idle` with cross-site replication, {brandname} clusters send touch commands during replication to coordinate idle timeout with remote sites.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0006fe6eef24a1cb2de91ce612483e672344e155"}, "originalPosition": 14}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "63060a0f19ddc01a9e490e8f5fbadde003892220", "author": {"user": {"login": "oraNod", "name": "Don Naro"}}, "url": "https://github.com/infinispan/infinispan/commit/63060a0f19ddc01a9e490e8f5fbadde003892220", "committedDate": "2020-11-23T10:55:43Z", "message": "pruivo feedback"}, "afterCommit": {"oid": "b23cf1146033bcbf9a990d889603450ac55e5741", "author": {"user": {"login": "oraNod", "name": "Don Naro"}}, "url": "https://github.com/infinispan/infinispan/commit/b23cf1146033bcbf9a990d889603450ac55e5741", "committedDate": "2020-11-25T16:43:47Z", "message": "ISPN-12437 xsite max idle"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM5NTAxMDU3", "url": "https://github.com/infinispan/infinispan/pull/8873#pullrequestreview-539501057", "createdAt": "2020-11-26T18:18:39Z", "commit": {"oid": "b23cf1146033bcbf9a990d889603450ac55e5741"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQxODoxODozOVrOH6knWw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQxODoxODozOVrOH6knWw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTE3OTM1NQ==", "bodyText": "I don't think we send touch on write.", "url": "https://github.com/infinispan/infinispan/pull/8873#discussion_r531179355", "createdAt": "2020-11-26T18:18:39Z", "author": {"login": "pruivo"}, "path": "documentation/src/main/asciidoc/topics/con_xsite_expiration.adoc", "diffHunk": "@@ -1,7 +1,14 @@\n [id='xsite_expiration-{context}']\n-= Expiration and Cross-Site Replication\n-{brandname} expiration controls how long entries remain in the cache.\n+= Expiration with Cross-Site Replication\n+Expiration removes cache entries based on time.\n+{brandname} provides two ways to configure expiration for entries:\n \n-* `lifespan` expiration is suitable for cross-site replication. When entries reach the maximum lifespan, {brandname} expires them independently of the remote sites.\n+`lifespan`:: Sets the maximum amount of time that entries can exist. +\n+When you set `lifespan` with cross-site replication, {brandname} clusters expire entries independently of remote sites.\n \n-* `max-idle` expiration does not work with cross-site replication. {brandname} cannot determine when cache entries reach the idle timeout in remote sites.\n+`max-idle`:: Specifies how long entries can exist based on read or write operations in a given time period. +\n+When you set a `max-idle` with cross-site replication, {brandname} clusters send touch commands on write operations, and some read operations, to coordinate idle timeout values with remote sites. +", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b23cf1146033bcbf9a990d889603450ac55e5741"}, "originalPosition": 14}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1e8ee0067b642e975faa4d55e74c261e638cf463", "author": {"user": {"login": "oraNod", "name": "Don Naro"}}, "url": "https://github.com/infinispan/infinispan/commit/1e8ee0067b642e975faa4d55e74c261e638cf463", "committedDate": "2020-11-30T10:22:56Z", "message": "ISPN-12437 xsite max idle"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b23cf1146033bcbf9a990d889603450ac55e5741", "author": {"user": {"login": "oraNod", "name": "Don Naro"}}, "url": "https://github.com/infinispan/infinispan/commit/b23cf1146033bcbf9a990d889603450ac55e5741", "committedDate": "2020-11-25T16:43:47Z", "message": "ISPN-12437 xsite max idle"}, "afterCommit": {"oid": "1e8ee0067b642e975faa4d55e74c261e638cf463", "author": {"user": {"login": "oraNod", "name": "Don Naro"}}, "url": "https://github.com/infinispan/infinispan/commit/1e8ee0067b642e975faa4d55e74c261e638cf463", "committedDate": "2020-11-30T10:22:56Z", "message": "ISPN-12437 xsite max idle"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQwOTI2NDQw", "url": "https://github.com/infinispan/infinispan/pull/8873#pullrequestreview-540926440", "createdAt": "2020-11-30T13:52:58Z", "commit": {"oid": "1e8ee0067b642e975faa4d55e74c261e638cf463"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQyMTI2OTUx", "url": "https://github.com/infinispan/infinispan/pull/8873#pullrequestreview-542126951", "createdAt": "2020-12-01T17:20:28Z", "commit": {"oid": "1e8ee0067b642e975faa4d55e74c261e638cf463"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMVQxNzoyMDoyOVrOH83iiQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMVQxNzoyMDoyOVrOH83iiQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzU4NjU2OQ==", "bodyText": "This is a bit generalized, but maybe that is the point? Seems fine though.", "url": "https://github.com/infinispan/infinispan/pull/8873#discussion_r533586569", "createdAt": "2020-12-01T17:20:29Z", "author": {"login": "wburns"}, "path": "documentation/src/main/asciidoc/topics/con_xsite_expiration.adoc", "diffHunk": "@@ -1,7 +1,14 @@\n [id='xsite_expiration-{context}']\n-= Expiration and Cross-Site Replication\n-{brandname} expiration controls how long entries remain in the cache.\n+= Expiration with Cross-Site Replication\n+Expiration removes cache entries based on time.\n+{brandname} provides two ways to configure expiration for entries:\n \n-* `lifespan` expiration is suitable for cross-site replication. When entries reach the maximum lifespan, {brandname} expires them independently of the remote sites.\n+`lifespan`:: Sets the maximum amount of time that entries can exist. +\n+When you set `lifespan` with cross-site replication, {brandname} clusters expire entries independently of remote sites.\n \n-* `max-idle` expiration does not work with cross-site replication. {brandname} cannot determine when cache entries reach the idle timeout in remote sites.\n+`max-idle`:: Specifies how long entries can exist based on read or write operations in a given time period. +\n+When you set a `max-idle` with cross-site replication, {brandname} clusters send touch commands to coordinate idle timeout values with remote sites. +", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1e8ee0067b642e975faa4d55e74c261e638cf463"}, "originalPosition": 14}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 305, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}