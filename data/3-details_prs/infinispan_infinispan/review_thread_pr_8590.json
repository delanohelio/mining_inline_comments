{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU2MzAxMzc4", "number": 8590, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQxMDoxNjozNFrOETnlMQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wN1QxODo0NjowMVrOEhAgbw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg5MDA2ODk3OnYy", "diffSide": "RIGHT", "path": "server/runtime/src/main/server/bin/service/infinispan.service", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQxMDoxNjozNFrOG5c_Bg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQxMDoxNjozNFrOG5c_Bg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Mjg5NjkwMg==", "bodyText": "Maybe it would be clearer to say \"copy this file to /etc/systemd/system\"?", "url": "https://github.com/infinispan/infinispan/pull/8590#discussion_r462896902", "createdAt": "2020-07-30T10:16:34Z", "author": {"login": "danberindei"}, "path": "server/runtime/src/main/server/bin/service/infinispan.service", "diffHunk": "@@ -0,0 +1,18 @@\n+# script is for /etc/systemd/system", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d95a22472a88c8b93cddc7ea731fa900fe3e1128"}, "originalPosition": 1}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg5MDA3NjY2OnYy", "diffSide": "RIGHT", "path": "server/runtime/src/main/server/bin/service/infinispan.service", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQxMDoxODo0OVrOG5dDlg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QxNDoxMzo0NVrOG67MKA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Mjg5ODA3MA==", "bodyText": "I'm not very familiar with how systemd starts user services, would it work if we removed the User=infinispan line and instead copy the service file to /etc/systemd/user/infinispan?", "url": "https://github.com/infinispan/infinispan/pull/8590#discussion_r462898070", "createdAt": "2020-07-30T10:18:49Z", "author": {"login": "danberindei"}, "path": "server/runtime/src/main/server/bin/service/infinispan.service", "diffHunk": "@@ -0,0 +1,18 @@\n+# script is for /etc/systemd/system\n+# activate with 'systemctl daemon-reload'\n+#               'systemctl start|enable infinispan'\n+\n+[Unit]\n+Description=Infinispan Server Service\n+After=network.target\n+\n+[Service]\n+Environment=\"INFINISPAN_HOME=/opt/infinispan\"\n+#Environment=\"JAVA_HOME=/usr/java/jdk-11.0.8\"\n+ExecStart=/bin/bash -c ${INFINISPAN_HOME}/bin/server.sh\n+Type=simple\n+User=infinispan", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d95a22472a88c8b93cddc7ea731fa900fe3e1128"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDQ0MDM2MA==", "bodyText": "Hi @danberindei\nif you use systemd/user (https://wiki.archlinux.org/index.php/Systemd/User) this will start the process with user permission, but ONLY if the user is active.\nFor ISPN this is not what you want, the process should start if the system is up and running (or by manual systemctl ...) with the user permission, but independent from the user activity", "url": "https://github.com/infinispan/infinispan/pull/8590#discussion_r464440360", "createdAt": "2020-08-03T14:13:45Z", "author": {"login": "wfink"}, "path": "server/runtime/src/main/server/bin/service/infinispan.service", "diffHunk": "@@ -0,0 +1,18 @@\n+# script is for /etc/systemd/system\n+# activate with 'systemctl daemon-reload'\n+#               'systemctl start|enable infinispan'\n+\n+[Unit]\n+Description=Infinispan Server Service\n+After=network.target\n+\n+[Service]\n+Environment=\"INFINISPAN_HOME=/opt/infinispan\"\n+#Environment=\"JAVA_HOME=/usr/java/jdk-11.0.8\"\n+ExecStart=/bin/bash -c ${INFINISPAN_HOME}/bin/server.sh\n+Type=simple\n+User=infinispan", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Mjg5ODA3MA=="}, "originalCommit": {"oid": "d95a22472a88c8b93cddc7ea731fa900fe3e1128"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAzMDE5Mzc0OnYy", "diffSide": "RIGHT", "path": "server/runtime/src/main/server/bin/service/infinispan.service", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wN1QxNTo1OTowOVrOHOD24Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wN1QxNTo1OTowOVrOHOD24Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDUwNTMxMw==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # script is for /etc/systemd/system\n          \n          \n            \n            # This script allows you to run Infinispan Server as a systemd service.\n          \n          \n            \n            # Modify environment properties in this script as appropriate.\n          \n          \n            \n            # Copy this script to the following location: /etc/systemd/system", "url": "https://github.com/infinispan/infinispan/pull/8590#discussion_r484505313", "createdAt": "2020-09-07T15:59:09Z", "author": {"login": "oraNod"}, "path": "server/runtime/src/main/server/bin/service/infinispan.service", "diffHunk": "@@ -0,0 +1,18 @@\n+# script is for /etc/systemd/system", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d95a22472a88c8b93cddc7ea731fa900fe3e1128"}, "originalPosition": 1}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAzMDQ2NzY3OnYy", "diffSide": "RIGHT", "path": "server/runtime/src/main/server/bin/service/infinispan.service", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wN1QxODo0NjowMVrOHOGOMg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wN1QxODo0NjoyMVrOHOGOZA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDU0NDA1MA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            # activate with 'systemctl daemon-reload'\n          \n          \n            \n            # Activate with 'systemctl daemon-reload'", "url": "https://github.com/infinispan/infinispan/pull/8590#discussion_r484544050", "createdAt": "2020-09-07T18:46:01Z", "author": {"login": "oraNod"}, "path": "server/runtime/src/main/server/bin/service/infinispan.service", "diffHunk": "@@ -0,0 +1,19 @@\n+# This script allows you to run Infinispan Server as a systemd service.\n+# Modify environment properties in this script as appropriate.\n+# Copy this script to the following location: /etc/systemd/system\n+# activate with 'systemctl daemon-reload'", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "89f1e92e34c1d368d61e55ecd9ab160ae0c45d7d"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDU0NDEwMA==", "bodyText": "sorry I missed this one, @wfink", "url": "https://github.com/infinispan/infinispan/pull/8590#discussion_r484544100", "createdAt": "2020-09-07T18:46:21Z", "author": {"login": "oraNod"}, "path": "server/runtime/src/main/server/bin/service/infinispan.service", "diffHunk": "@@ -0,0 +1,19 @@\n+# This script allows you to run Infinispan Server as a systemd service.\n+# Modify environment properties in this script as appropriate.\n+# Copy this script to the following location: /etc/systemd/system\n+# activate with 'systemctl daemon-reload'", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDU0NDA1MA=="}, "originalCommit": {"oid": "89f1e92e34c1d368d61e55ecd9ab160ae0c45d7d"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4022, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}