{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY1ODExODcz", "number": 7774, "title": "ISPN-10839 Configuration Doc Updates", "bodyText": "https://issues.redhat.com/browse/ISPN-10839\nNeeds backport to 10.1. See the Jira for details and review draft.", "createdAt": "2020-01-22T11:49:05Z", "url": "https://github.com/infinispan/infinispan/pull/7774", "merged": true, "mergeCommit": {"oid": "1314c59edda36c71a162a3d9db8180b05aa507a5"}, "closed": true, "closedAt": "2020-02-06T09:24:18Z", "author": {"login": "oraNod"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb84Ri7AFqTM0NjcxMzU5MA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcBU8avABqjMwMDk3MjgxMTA=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ2NzEzNTkw", "url": "https://github.com/infinispan/infinispan/pull/7774#pullrequestreview-346713590", "createdAt": "2020-01-22T16:13:47Z", "commit": {"oid": "c27b1005b45b88f2677bd564e33b27fd6f09016c"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMlQxNjoxNTowNFrOFgiFwQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMlQxNjoyNDowMFrOFgia3A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTY1NzI4MQ==", "bodyText": "Can we link to the HotRod documentation? Or does that not work with how things are separated?", "url": "https://github.com/infinispan/infinispan/pull/7774#discussion_r369657281", "createdAt": "2020-01-22T16:15:04Z", "author": {"login": "ryanemerson"}, "path": "documentation/src/main/asciidoc/topics/ref_config_programmatic.adoc", "diffHunk": "@@ -0,0 +1,88 @@\n+[id='programmatic-{context}']\n+= Programmatic Configuration\n+Create new Configuration objects with the `ConfigurationBuilder` class and then\n+define cache configurations with the Cache Manager.\n+\n+[NOTE]\n+====\n+The examples in this section use `EmbeddedCacheManager`, which is a Cache\n+Manager that runs in the same JVM as the client.\n+\n+To configure caches remotely with HotRod clients, you use `RemoteCacheManager`.\n+Refer to the HotRod documentation for more information.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c27b1005b45b88f2677bd564e33b27fd6f09016c"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTY2MTA3Mg==", "bodyText": "I think this needs clarifying to make it clear that \"additional named caches\" refers to when a user calls getCache(\"cache-name\"). It does not mean that another declaritevely named cache will inherit it's configuration from the default cache.\nThis is made somewhat more confusing by the fact we also have to explain -configuration and how multiple caches can use it via:", "url": "https://github.com/infinispan/infinispan/pull/7774#discussion_r369661072", "createdAt": "2020-01-22T16:21:17Z", "author": {"login": "ryanemerson"}, "path": "documentation/src/main/asciidoc/topics/ref_config_declarative.adoc", "diffHunk": "@@ -0,0 +1,38 @@\n+[id='declarative-{context}']\n+= Declarative Configuration\n+You configure {brandname} caches by defining properties in `infinispan.xml`.\n+\n+The following example shows the basic structure of a {brandname} configuration:\n+\n+[source,xml,options=\"nowrap\",subs=attributes+]\n+----\n+<infinispan> <1>\n+   <cache-container default-cache=\"local\"> <2>\n+      <transport stack=\"udp\" cluster=\"mycluster\"/> <3>\n+      <local-cache name=\"local\"/> <4>\n+      <invalidation-cache name=\"invalidation\"/> <5>\n+      <replicated-cache name=\"replicated\"/> <6>\n+      <distributed-cache name=\"distributed\"/> <7>\n+   </cache-container>\n+</infinispan>\n+----\n+\n+<1> adds the root element for the {brandname} configuration. The minimum valid configuration is `<infinispan />`; however this provides very basic capabilities with no clustering and no cache instances.\n+<2> defines properties for all caches within the container and names the default cache.\n+<3> defines transport properties for clustered cache modes. In the preceding example, `stack=\"udp\"` specifies the default JGroups UDP transport stack and names the {brandname} cluster.\n+<4> names a local cache instance.\n+<5> names a cache instance that uses invalidation mode.\n+<6> names a cache instance that uses replicated mode.\n+<7> names a cache instance that uses distributed mode.\n+\n+.Default caches\n+{brandname} does not provide an implicit default cache. You must specify which\n+named cache is the default.\n+\n+Additional named caches inherit settings from the default cache. You can,\n+however, override or extend configuration in each named cache.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c27b1005b45b88f2677bd564e33b27fd6f09016c"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTY2MjY4NA==", "bodyText": "@tristantarrant I can't keep up, do calls to getCache(\"new name\") create a new cache using the default config now?", "url": "https://github.com/infinispan/infinispan/pull/7774#discussion_r369662684", "createdAt": "2020-01-22T16:24:00Z", "author": {"login": "ryanemerson"}, "path": "documentation/src/main/asciidoc/topics/ref_config_declarative.adoc", "diffHunk": "@@ -0,0 +1,38 @@\n+[id='declarative-{context}']\n+= Declarative Configuration\n+You configure {brandname} caches by defining properties in `infinispan.xml`.\n+\n+The following example shows the basic structure of a {brandname} configuration:\n+\n+[source,xml,options=\"nowrap\",subs=attributes+]\n+----\n+<infinispan> <1>\n+   <cache-container default-cache=\"local\"> <2>\n+      <transport stack=\"udp\" cluster=\"mycluster\"/> <3>\n+      <local-cache name=\"local\"/> <4>\n+      <invalidation-cache name=\"invalidation\"/> <5>\n+      <replicated-cache name=\"replicated\"/> <6>\n+      <distributed-cache name=\"distributed\"/> <7>\n+   </cache-container>\n+</infinispan>\n+----\n+\n+<1> adds the root element for the {brandname} configuration. The minimum valid configuration is `<infinispan />`; however this provides very basic capabilities with no clustering and no cache instances.\n+<2> defines properties for all caches within the container and names the default cache.\n+<3> defines transport properties for clustered cache modes. In the preceding example, `stack=\"udp\"` specifies the default JGroups UDP transport stack and names the {brandname} cluster.\n+<4> names a local cache instance.\n+<5> names a cache instance that uses invalidation mode.\n+<6> names a cache instance that uses replicated mode.\n+<7> names a cache instance that uses distributed mode.\n+\n+.Default caches\n+{brandname} does not provide an implicit default cache. You must specify which\n+named cache is the default.\n+\n+Additional named caches inherit settings from the default cache. You can,\n+however, override or extend configuration in each named cache.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTY2MTA3Mg=="}, "originalCommit": {"oid": "c27b1005b45b88f2677bd564e33b27fd6f09016c"}, "originalPosition": 33}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c27b1005b45b88f2677bd564e33b27fd6f09016c", "author": {"user": {"login": "oraNod", "name": "Don Naro"}}, "url": "https://github.com/infinispan/infinispan/commit/c27b1005b45b88f2677bd564e33b27fd6f09016c", "committedDate": "2020-01-22T11:46:56Z", "message": "ISPN-10839 declarative and programmatic config updates"}, "afterCommit": {"oid": "1bf585c9497b372aa14e9d825fefde38e677cdc4", "author": {"user": {"login": "oraNod", "name": "Don Naro"}}, "url": "https://github.com/infinispan/infinispan/commit/1bf585c9497b372aa14e9d825fefde38e677cdc4", "committedDate": "2020-01-24T10:26:10Z", "message": "ISPN-10839 declarative and programmatic config updates"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1bf585c9497b372aa14e9d825fefde38e677cdc4", "author": {"user": {"login": "oraNod", "name": "Don Naro"}}, "url": "https://github.com/infinispan/infinispan/commit/1bf585c9497b372aa14e9d825fefde38e677cdc4", "committedDate": "2020-01-24T10:26:10Z", "message": "ISPN-10839 declarative and programmatic config updates"}, "afterCommit": {"oid": "5b360245c3d23195fad441e79cafb0c5b44c1338", "author": {"user": {"login": "oraNod", "name": "Don Naro"}}, "url": "https://github.com/infinispan/infinispan/commit/5b360245c3d23195fad441e79cafb0c5b44c1338", "committedDate": "2020-02-03T13:52:11Z", "message": "ISPN-10839 declarative and programmatic config updates"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5b360245c3d23195fad441e79cafb0c5b44c1338", "author": {"user": {"login": "oraNod", "name": "Don Naro"}}, "url": "https://github.com/infinispan/infinispan/commit/5b360245c3d23195fad441e79cafb0c5b44c1338", "committedDate": "2020-02-03T13:52:11Z", "message": "ISPN-10839 declarative and programmatic config updates"}, "afterCommit": {"oid": "217a775e2b52adc266d78fc188b49f0cf37ab723", "author": {"user": {"login": "oraNod", "name": "Don Naro"}}, "url": "https://github.com/infinispan/infinispan/commit/217a775e2b52adc266d78fc188b49f0cf37ab723", "committedDate": "2020-02-04T15:30:07Z", "message": "ISPN-10839 declarative and programmatic config updates"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "93a76b6e95a588f57dc611170f768cf0db00041c", "author": {"user": {"login": "oraNod", "name": "Don Naro"}}, "url": "https://github.com/infinispan/infinispan/commit/93a76b6e95a588f57dc611170f768cf0db00041c", "committedDate": "2020-02-05T12:03:49Z", "message": "ISPN-10839 declarative and programmatic config updates"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "217a775e2b52adc266d78fc188b49f0cf37ab723", "author": {"user": {"login": "oraNod", "name": "Don Naro"}}, "url": "https://github.com/infinispan/infinispan/commit/217a775e2b52adc266d78fc188b49f0cf37ab723", "committedDate": "2020-02-04T15:30:07Z", "message": "ISPN-10839 declarative and programmatic config updates"}, "afterCommit": {"oid": "93a76b6e95a588f57dc611170f768cf0db00041c", "author": {"user": {"login": "oraNod", "name": "Don Naro"}}, "url": "https://github.com/infinispan/infinispan/commit/93a76b6e95a588f57dc611170f768cf0db00041c", "committedDate": "2020-02-05T12:03:49Z", "message": "ISPN-10839 declarative and programmatic config updates"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1229, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}