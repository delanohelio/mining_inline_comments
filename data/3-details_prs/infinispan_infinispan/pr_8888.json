{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI4MDk1ODc4", "number": 8888, "title": "ISPN-12133 Support XML Fragments in CacheContainerAdmin", "bodyText": "https://issues.redhat.com/browse/ISPN-12133", "createdAt": "2020-11-26T14:01:09Z", "url": "https://github.com/infinispan/infinispan/pull/8888", "merged": true, "mergeCommit": {"oid": "011fcd80b1eafbef9793aa4316b0a8399b8b9609"}, "closed": true, "closedAt": "2020-12-18T16:05:00Z", "author": {"login": "tristantarrant"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdgTo8oAFqTUzOTM1MDQ0OQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdnaYyIgFqTU1NTYxNjI1Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM5MzUwNDQ5", "url": "https://github.com/infinispan/infinispan/pull/8888#pullrequestreview-539350449", "createdAt": "2020-11-26T14:15:44Z", "commit": {"oid": "7f5bf2e89da28dbf806863fbfe7e9ce87f7c889c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQxNDoxNTo0NFrOH6dJ3w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQxNDoxNTo0NFrOH6dJ3w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTA1NzExOQ==", "bodyText": "How about CacheConfigParser or CacheParser?", "url": "https://github.com/infinispan/infinispan/pull/8888#discussion_r531057119", "createdAt": "2020-11-26T14:15:44Z", "author": {"login": "ryanemerson"}, "path": "core/src/main/java/org/infinispan/configuration/parsing/FragmentParser.java", "diffHunk": "@@ -0,0 +1,1911 @@\n+package org.infinispan.configuration.parsing;\n+\n+import static org.infinispan.configuration.parsing.ParseUtils.ignoreAttribute;\n+import static org.infinispan.configuration.parsing.ParseUtils.ignoreElement;\n+import static org.infinispan.configuration.parsing.Parser.NAMESPACE;\n+import static org.infinispan.util.logging.Log.CONFIG;\n+\n+import java.util.Collections;\n+import java.util.Properties;\n+import java.util.concurrent.TimeUnit;\n+\n+import javax.xml.stream.XMLStreamConstants;\n+import javax.xml.stream.XMLStreamException;\n+\n+import org.infinispan.commons.configuration.BuiltBy;\n+import org.infinispan.commons.configuration.ConfiguredBy;\n+import org.infinispan.commons.dataconversion.MediaType;\n+import org.infinispan.commons.util.GlobUtils;\n+import org.infinispan.commons.util.Util;\n+import org.infinispan.configuration.cache.AbstractStoreConfigurationBuilder;\n+import org.infinispan.configuration.cache.AsyncStoreConfigurationBuilder;\n+import org.infinispan.configuration.cache.AuthorizationConfigurationBuilder;\n+import org.infinispan.configuration.cache.BackupConfiguration;\n+import org.infinispan.configuration.cache.BackupConfigurationBuilder;\n+import org.infinispan.configuration.cache.BackupFailurePolicy;\n+import org.infinispan.configuration.cache.BiasAcquisition;\n+import org.infinispan.configuration.cache.CacheMode;\n+import org.infinispan.configuration.cache.ClusterLoaderConfigurationBuilder;\n+import org.infinispan.configuration.cache.ClusteringConfigurationBuilder;\n+import org.infinispan.configuration.cache.Configuration;\n+import org.infinispan.configuration.cache.ConfigurationBuilder;\n+import org.infinispan.configuration.cache.ContentTypeConfigurationBuilder;\n+import org.infinispan.configuration.cache.CustomStoreConfigurationBuilder;\n+import org.infinispan.configuration.cache.EncodingConfigurationBuilder;\n+import org.infinispan.configuration.cache.Index;\n+import org.infinispan.configuration.cache.InterceptorConfiguration;\n+import org.infinispan.configuration.cache.InterceptorConfigurationBuilder;\n+import org.infinispan.configuration.cache.MemoryConfigurationBuilder;\n+import org.infinispan.configuration.cache.PartitionHandlingConfigurationBuilder;\n+import org.infinispan.configuration.cache.SecurityConfigurationBuilder;\n+import org.infinispan.configuration.cache.SingleFileStoreConfigurationBuilder;\n+import org.infinispan.configuration.cache.StorageType;\n+import org.infinispan.configuration.cache.StoreConfigurationBuilder;\n+import org.infinispan.configuration.cache.TransactionConfiguration;\n+import org.infinispan.conflict.MergePolicy;\n+import org.infinispan.eviction.EvictionStrategy;\n+import org.infinispan.eviction.EvictionType;\n+import org.infinispan.partitionhandling.PartitionHandling;\n+import org.infinispan.persistence.cluster.ClusterLoader;\n+import org.infinispan.persistence.file.SingleFileStore;\n+import org.infinispan.transaction.LockingMode;\n+import org.infinispan.util.concurrent.IsolationLevel;\n+import org.infinispan.xsite.spi.XSiteMergePolicy;\n+import org.kohsuke.MetaInfServices;\n+\n+/**\n+ * This class implements the parser for Infinispan/AS7/EAP/JDG schema files\n+ *\n+ * @author Tristan Tarrant\n+ * @author Galder Zamarre\u00f1o\n+ * @since 12.0\n+ */\n+@MetaInfServices(ConfigurationParser.class)\n+@Namespace(root = \"local-cache\")\n+@Namespace(root = \"distributed-cache\")\n+@Namespace(root = \"replicated-cache\")\n+@Namespace(root = \"scattered-cache\")\n+@Namespace(uri = NAMESPACE + \"*\", root = \"local-cache\")\n+@Namespace(uri = NAMESPACE + \"*\", root = \"distributed-cache\")\n+@Namespace(uri = NAMESPACE + \"*\", root = \"replicated-cache\")\n+@Namespace(uri = NAMESPACE + \"*\", root = \"scattered-cache\")\n+public class FragmentParser implements ConfigurationParser {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7f5bf2e89da28dbf806863fbfe7e9ce87f7c889c"}, "originalPosition": 72}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7f5bf2e89da28dbf806863fbfe7e9ce87f7c889c", "author": {"user": {"login": "tristantarrant", "name": "Tristan Tarrant"}}, "url": "https://github.com/infinispan/infinispan/commit/7f5bf2e89da28dbf806863fbfe7e9ce87f7c889c", "committedDate": "2020-11-26T13:59:28Z", "message": "ISPN-12133 Support XML Fragments in CacheContainerAdmin"}, "afterCommit": {"oid": "61ac7d06d57a9ba9bb81abad0509fb0b014d12bc", "author": {"user": {"login": "tristantarrant", "name": "Tristan Tarrant"}}, "url": "https://github.com/infinispan/infinispan/commit/61ac7d06d57a9ba9bb81abad0509fb0b014d12bc", "committedDate": "2020-11-27T11:18:04Z", "message": "ISPN-12133 Support XML Fragments in CacheContainerAdmin"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "61ac7d06d57a9ba9bb81abad0509fb0b014d12bc", "author": {"user": {"login": "tristantarrant", "name": "Tristan Tarrant"}}, "url": "https://github.com/infinispan/infinispan/commit/61ac7d06d57a9ba9bb81abad0509fb0b014d12bc", "committedDate": "2020-11-27T11:18:04Z", "message": "ISPN-12133 Support XML Fragments in CacheContainerAdmin"}, "afterCommit": {"oid": "08c043784af0c239bdc97fe4eb7eeed90b9ae8dd", "author": {"user": {"login": "tristantarrant", "name": "Tristan Tarrant"}}, "url": "https://github.com/infinispan/infinispan/commit/08c043784af0c239bdc97fe4eb7eeed90b9ae8dd", "committedDate": "2020-11-27T15:21:39Z", "message": "ISPN-12133 Support XML Fragments in CacheContainerAdmin"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQxNzIzMzM2", "url": "https://github.com/infinispan/infinispan/pull/8888#pullrequestreview-541723336", "createdAt": "2020-12-01T09:46:58Z", "commit": {"oid": "08c043784af0c239bdc97fe4eb7eeed90b9ae8dd"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMVQwOTo0Njo1OVrOH8ieuQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMVQwOTo0NzoxN1rOH8igTw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzI0MTUyOQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                *                      by the server. The XML may be limited to just the cache configuration fragment.\n          \n          \n            \n                *                      by the server. A cache configuration fragment on its own is valid XML.", "url": "https://github.com/infinispan/infinispan/pull/8888#discussion_r533241529", "createdAt": "2020-12-01T09:46:59Z", "author": {"login": "oraNod"}, "path": "client/hotrod-client/src/main/java/org/infinispan/client/hotrod/RemoteCacheManagerAdmin.java", "diffHunk": "@@ -41,7 +41,7 @@\n     * @param name the name of the cache to create\n     * @param configuration a concrete configuration that will be sent to the server. The XML representation of this\n     *                      configuration must use the Infinispan embedded configuration schema in a version supported\n-    *                      by the server.\n+    *                      by the server. The XML may be limited to just the cache configuration fragment.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "08c043784af0c239bdc97fe4eb7eeed90b9ae8dd"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzI0MTkzNQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                *                      by the server. The XML may be limited to just the cache configuration fragment.\n          \n          \n            \n                *                      by the server. A cache configuration fragment on its own is valid XML.", "url": "https://github.com/infinispan/infinispan/pull/8888#discussion_r533241935", "createdAt": "2020-12-01T09:47:17Z", "author": {"login": "oraNod"}, "path": "client/hotrod-client/src/main/java/org/infinispan/client/hotrod/RemoteCacheManagerAdmin.java", "diffHunk": "@@ -79,7 +79,7 @@\n     * @param name the name of the cache to create\n     * @param configuration a concrete configuration that will be sent to the server. The XML representation of this\n     *                      configuration must use the Infinispan embedded configuration schema in a version supported\n-    *                      by the server.\n+    *                      by the server. The XML may be limited to just the cache configuration fragment.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "08c043784af0c239bdc97fe4eb7eeed90b9ae8dd"}, "originalPosition": 14}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "08c043784af0c239bdc97fe4eb7eeed90b9ae8dd", "author": {"user": {"login": "tristantarrant", "name": "Tristan Tarrant"}}, "url": "https://github.com/infinispan/infinispan/commit/08c043784af0c239bdc97fe4eb7eeed90b9ae8dd", "committedDate": "2020-11-27T15:21:39Z", "message": "ISPN-12133 Support XML Fragments in CacheContainerAdmin"}, "afterCommit": {"oid": "8fcc6423faa1f9863b5df958fa1eb7e3221a272e", "author": {"user": {"login": "tristantarrant", "name": "Tristan Tarrant"}}, "url": "https://github.com/infinispan/infinispan/commit/8fcc6423faa1f9863b5df958fa1eb7e3221a272e", "committedDate": "2020-12-17T07:28:40Z", "message": "ISPN-12133 Support XML Fragments in CacheContainerAdmin"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "615d916d98ad5ecf53a74c4e2f088eb1caf86f57", "author": {"user": {"login": "tristantarrant", "name": "Tristan Tarrant"}}, "url": "https://github.com/infinispan/infinispan/commit/615d916d98ad5ecf53a74c4e2f088eb1caf86f57", "committedDate": "2020-12-17T10:43:13Z", "message": "ISPN-12133 Support XML Fragments in CacheContainerAdmin"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8fcc6423faa1f9863b5df958fa1eb7e3221a272e", "author": {"user": {"login": "tristantarrant", "name": "Tristan Tarrant"}}, "url": "https://github.com/infinispan/infinispan/commit/8fcc6423faa1f9863b5df958fa1eb7e3221a272e", "committedDate": "2020-12-17T07:28:40Z", "message": "ISPN-12133 Support XML Fragments in CacheContainerAdmin"}, "afterCommit": {"oid": "615d916d98ad5ecf53a74c4e2f088eb1caf86f57", "author": {"user": {"login": "tristantarrant", "name": "Tristan Tarrant"}}, "url": "https://github.com/infinispan/infinispan/commit/615d916d98ad5ecf53a74c4e2f088eb1caf86f57", "committedDate": "2020-12-17T10:43:13Z", "message": "ISPN-12133 Support XML Fragments in CacheContainerAdmin"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU1NjE2MjUy", "url": "https://github.com/infinispan/infinispan/pull/8888#pullrequestreview-555616252", "createdAt": "2020-12-18T16:04:53Z", "commit": {"oid": "615d916d98ad5ecf53a74c4e2f088eb1caf86f57"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 317, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}