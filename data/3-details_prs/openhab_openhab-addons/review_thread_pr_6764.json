{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzU5MjY4NjQ2", "number": 6764, "reviewThreads": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yNVQyMDozMjoyNVrODar4qg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wMlQxODozODoxMVrODce2Gg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI5MzA4NTg2OnYy", "diffSide": "LEFT", "path": "bundles/org.openhab.binding.shelly/src/main/java/org/openhab/binding/shelly/internal/handler/ShellyBaseHandler.java", "isResolved": true, "comments": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yNVQyMDozMjoyNVrOFhxQYg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wMlQyMjoyMjozMVrOFkj12A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDk1NDMzOA==", "bodyText": "Why did you remove this line?", "url": "https://github.com/openhab/openhab-addons/pull/6764#discussion_r370954338", "createdAt": "2020-01-25T20:32:25Z", "author": {"login": "kaikreuzer"}, "path": "bundles/org.openhab.binding.shelly/src/main/java/org/openhab/binding/shelly/internal/handler/ShellyBaseHandler.java", "diffHunk": "@@ -116,7 +118,6 @@ public ShellyBaseHandler(Thing thing, ShellyBindingConfiguration bindingConfig,\n      */\n     @Override\n     public void initialize() {\n-        updateStatus(ThingStatus.UNKNOWN);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c264a364f7a279e098dbc80c9342af786ad52dbb"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTAyNTU5MA==", "bodyText": "I keep the status INITIALIZING until the device is fully initialized. For non-battery devices this will be done with the next status update, for battery-powered devices this could take longer until the device wakes up. UNKOWN sounds like an error, even I now that the device is not yet initialized", "url": "https://github.com/openhab/openhab-addons/pull/6764#discussion_r371025590", "createdAt": "2020-01-26T20:01:06Z", "author": {"login": "markus7017"}, "path": "bundles/org.openhab.binding.shelly/src/main/java/org/openhab/binding/shelly/internal/handler/ShellyBaseHandler.java", "diffHunk": "@@ -116,7 +118,6 @@ public ShellyBaseHandler(Thing thing, ShellyBindingConfiguration bindingConfig,\n      */\n     @Override\n     public void initialize() {\n-        updateStatus(ThingStatus.UNKNOWN);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDk1NDMzOA=="}, "originalCommit": {"oid": "c264a364f7a279e098dbc80c9342af786ad52dbb"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTM2MjIyMA==", "bodyText": "I am pretty sure that we discussed this before (when adding that line), but I can certainly again point you to the developer docs: https://github.com/openhab/openhab-core/blob/master/tools/archetype/binding/src/main/resources/archetype-resources/src/main/java/internal/__bindingIdCamelCase__Handler.java#L69-L79", "url": "https://github.com/openhab/openhab-addons/pull/6764#discussion_r371362220", "createdAt": "2020-01-27T16:58:27Z", "author": {"login": "kaikreuzer"}, "path": "bundles/org.openhab.binding.shelly/src/main/java/org/openhab/binding/shelly/internal/handler/ShellyBaseHandler.java", "diffHunk": "@@ -116,7 +118,6 @@ public ShellyBaseHandler(Thing thing, ShellyBindingConfiguration bindingConfig,\n      */\n     @Override\n     public void initialize() {\n-        updateStatus(ThingStatus.UNKNOWN);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDk1NDMzOA=="}, "originalCommit": {"oid": "c264a364f7a279e098dbc80c9342af786ad52dbb"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjA5MTgxMw==", "bodyText": "ok, will be changed", "url": "https://github.com/openhab/openhab-addons/pull/6764#discussion_r372091813", "createdAt": "2020-01-28T22:21:31Z", "author": {"login": "markus7017"}, "path": "bundles/org.openhab.binding.shelly/src/main/java/org/openhab/binding/shelly/internal/handler/ShellyBaseHandler.java", "diffHunk": "@@ -116,7 +118,6 @@ public ShellyBaseHandler(Thing thing, ShellyBindingConfiguration bindingConfig,\n      */\n     @Override\n     public void initialize() {\n-        updateStatus(ThingStatus.UNKNOWN);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDk1NDMzOA=="}, "originalCommit": {"oid": "c264a364f7a279e098dbc80c9342af786ad52dbb"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzE5NTAzMA==", "bodyText": "I don't see any change?", "url": "https://github.com/openhab/openhab-addons/pull/6764#discussion_r373195030", "createdAt": "2020-01-30T21:10:18Z", "author": {"login": "kaikreuzer"}, "path": "bundles/org.openhab.binding.shelly/src/main/java/org/openhab/binding/shelly/internal/handler/ShellyBaseHandler.java", "diffHunk": "@@ -116,7 +118,6 @@ public ShellyBaseHandler(Thing thing, ShellyBindingConfiguration bindingConfig,\n      */\n     @Override\n     public void initialize() {\n-        updateStatus(ThingStatus.UNKNOWN);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDk1NDMzOA=="}, "originalCommit": {"oid": "c264a364f7a279e098dbc80c9342af786ad52dbb"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzg4MDI4MA==", "bodyText": "done", "url": "https://github.com/openhab/openhab-addons/pull/6764#discussion_r373880280", "createdAt": "2020-02-02T22:22:31Z", "author": {"login": "markus7017"}, "path": "bundles/org.openhab.binding.shelly/src/main/java/org/openhab/binding/shelly/internal/handler/ShellyBaseHandler.java", "diffHunk": "@@ -116,7 +118,6 @@ public ShellyBaseHandler(Thing thing, ShellyBindingConfiguration bindingConfig,\n      */\n     @Override\n     public void initialize() {\n-        updateStatus(ThingStatus.UNKNOWN);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDk1NDMzOA=="}, "originalCommit": {"oid": "c264a364f7a279e098dbc80c9342af786ad52dbb"}, "originalPosition": 31}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI5MzA4NjUxOnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.shelly/src/main/java/org/openhab/binding/shelly/internal/handler/ShellyBaseHandler.java", "isResolved": false, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yNVQyMDozNDowMlrOFhxQsA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQxODo1NDo1N1rOFlflHA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDk1NDQxNg==", "bodyText": "Why did you remove the message from the Thing status? The Thing status is the correct place for it.", "url": "https://github.com/openhab/openhab-addons/pull/6764#discussion_r370954416", "createdAt": "2020-01-25T20:34:02Z", "author": {"login": "kaikreuzer"}, "path": "bundles/org.openhab.binding.shelly/src/main/java/org/openhab/binding/shelly/internal/handler/ShellyBaseHandler.java", "diffHunk": "@@ -228,13 +235,14 @@ private void initializeThing() throws IOException {\n         profile = tmpPrf; // all initialization done, so keep the profile\n \n         // Validate device mode\n-        String thingType = getThing().getThingTypeUID().getId();\n         String reqMode = thingType.contains(\"-\") ? StringUtils.substringAfter(thingType, \"-\") : \"\";\n         if (!reqMode.isEmpty() && !tmpPrf.mode.equals(reqMode)) {\n+            logger.info(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c264a364f7a279e098dbc80c9342af786ad52dbb"}, "originalPosition": 105}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTAzMTU0MQ==", "bodyText": "My understanding is that\nupdateStatus(ThingStatus.OFFLINE, ThingStatusDetail.CONFIGURATION_ERROR,\n\"@text/offline.conf-error-wrong-mode\")\npulls up the language resource \"offline.conf-error-wrong-mode\" to get this messages from shelly_de.properties/shelly.properties. Isn't it this the case?\nSo a info message goes to the log and the thing status gets updated with the genral message - or is there a way to pass parameters to the messages retrived from the properties file?", "url": "https://github.com/openhab/openhab-addons/pull/6764#discussion_r371031541", "createdAt": "2020-01-26T21:42:50Z", "author": {"login": "markus7017"}, "path": "bundles/org.openhab.binding.shelly/src/main/java/org/openhab/binding/shelly/internal/handler/ShellyBaseHandler.java", "diffHunk": "@@ -228,13 +235,14 @@ private void initializeThing() throws IOException {\n         profile = tmpPrf; // all initialization done, so keep the profile\n \n         // Validate device mode\n-        String thingType = getThing().getThingTypeUID().getId();\n         String reqMode = thingType.contains(\"-\") ? StringUtils.substringAfter(thingType, \"-\") : \"\";\n         if (!reqMode.isEmpty() && !tmpPrf.mode.equals(reqMode)) {\n+            logger.info(", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDk1NDQxNg=="}, "originalCommit": {"oid": "c264a364f7a279e098dbc80c9342af786ad52dbb"}, "originalPosition": 105}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTM2NDQ2MQ==", "bodyText": "is there a way to pass parameters to the messages retrived from the properties file?\n\nThere is, see https://www.openhab.org/docs/developer/utils/i18n.html#i18n-text-provider-api.", "url": "https://github.com/openhab/openhab-addons/pull/6764#discussion_r371364461", "createdAt": "2020-01-27T17:02:30Z", "author": {"login": "kaikreuzer"}, "path": "bundles/org.openhab.binding.shelly/src/main/java/org/openhab/binding/shelly/internal/handler/ShellyBaseHandler.java", "diffHunk": "@@ -228,13 +235,14 @@ private void initializeThing() throws IOException {\n         profile = tmpPrf; // all initialization done, so keep the profile\n \n         // Validate device mode\n-        String thingType = getThing().getThingTypeUID().getId();\n         String reqMode = thingType.contains(\"-\") ? StringUtils.substringAfter(thingType, \"-\") : \"\";\n         if (!reqMode.isEmpty() && !tmpPrf.mode.equals(reqMode)) {\n+            logger.info(", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDk1NDQxNg=="}, "originalCommit": {"oid": "c264a364f7a279e098dbc80c9342af786ad52dbb"}, "originalPosition": 105}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzk1NDY3Mw==", "bodyText": "ok, I figured out the i18nProvider stuff, but how to format the message in the properties file to inject parameters?", "url": "https://github.com/openhab/openhab-addons/pull/6764#discussion_r373954673", "createdAt": "2020-02-03T07:36:24Z", "author": {"login": "markus7017"}, "path": "bundles/org.openhab.binding.shelly/src/main/java/org/openhab/binding/shelly/internal/handler/ShellyBaseHandler.java", "diffHunk": "@@ -228,13 +235,14 @@ private void initializeThing() throws IOException {\n         profile = tmpPrf; // all initialization done, so keep the profile\n \n         // Validate device mode\n-        String thingType = getThing().getThingTypeUID().getId();\n         String reqMode = thingType.contains(\"-\") ? StringUtils.substringAfter(thingType, \"-\") : \"\";\n         if (!reqMode.isEmpty() && !tmpPrf.mode.equals(reqMode)) {\n+            logger.info(", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDk1NDQxNg=="}, "originalCommit": {"oid": "c264a364f7a279e098dbc80c9342af786ad52dbb"}, "originalPosition": 105}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDg1OTAzNg==", "bodyText": "@kaikreuzer could you point me to the solution?", "url": "https://github.com/openhab/openhab-addons/pull/6764#discussion_r374859036", "createdAt": "2020-02-04T18:54:57Z", "author": {"login": "markus7017"}, "path": "bundles/org.openhab.binding.shelly/src/main/java/org/openhab/binding/shelly/internal/handler/ShellyBaseHandler.java", "diffHunk": "@@ -228,13 +235,14 @@ private void initializeThing() throws IOException {\n         profile = tmpPrf; // all initialization done, so keep the profile\n \n         // Validate device mode\n-        String thingType = getThing().getThingTypeUID().getId();\n         String reqMode = thingType.contains(\"-\") ? StringUtils.substringAfter(thingType, \"-\") : \"\";\n         if (!reqMode.isEmpty() && !tmpPrf.mode.equals(reqMode)) {\n+            logger.info(", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDk1NDQxNg=="}, "originalCommit": {"oid": "c264a364f7a279e098dbc80c9342af786ad52dbb"}, "originalPosition": 105}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI5MzA4NzMzOnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.shelly/src/main/resources/ESH-INF/config/config.xml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yNVQyMDozNzowMVrOFhxRJg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOFQyMjoyMDo0M1rOFi2qOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDk1NDUzNA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\t\t<unitLabel>sec</unitLabel>\n          \n          \n            \n            \t\t\t<unitLabel>s</unitLabel>", "url": "https://github.com/openhab/openhab-addons/pull/6764#discussion_r370954534", "createdAt": "2020-01-25T20:37:01Z", "author": {"login": "kaikreuzer"}, "path": "bundles/org.openhab.binding.shelly/src/main/resources/ESH-INF/config/config.xml", "diffHunk": "@@ -39,8 +45,71 @@\n \t\t\t<label>Enable Push Events (short/long)</label>\n \t\t\t<description>True if the binding should register to get the Short/Long Push Events.</description>\n \t\t\t<advanced>true</advanced>\n+\t\t\t<default>false</default>\n+\t\t</parameter>\n+\t\t<parameter name=\"eventsCoIoT\" type=\"boolean\" required=\"false\">\n+\t\t\t<label>Enable CoIoT Events</label>\n+\t\t\t<description>If enabled the Coap protocol will be used to receive status updates.</description>\n+\t\t\t<advanced>true</advanced>\n+\t\t\t<default>false</default>\n+\t\t</parameter>\n+\t\t<parameter name=\"updateInterval\" type=\"integer\" required=\"true\">\n+\t\t\t<label>Update Interval</label>\n+\t\t\t<description>Interval in seconds to query an update from the device.</description>\n+\t\t\t<default>60</default>\n+\t\t\t<unitLabel>sec</unitLabel>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c264a364f7a279e098dbc80c9342af786ad52dbb"}, "originalPosition": 38}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjA5MTQ0OA==", "bodyText": "changed", "url": "https://github.com/openhab/openhab-addons/pull/6764#discussion_r372091448", "createdAt": "2020-01-28T22:20:43Z", "author": {"login": "markus7017"}, "path": "bundles/org.openhab.binding.shelly/src/main/resources/ESH-INF/config/config.xml", "diffHunk": "@@ -39,8 +45,71 @@\n \t\t\t<label>Enable Push Events (short/long)</label>\n \t\t\t<description>True if the binding should register to get the Short/Long Push Events.</description>\n \t\t\t<advanced>true</advanced>\n+\t\t\t<default>false</default>\n+\t\t</parameter>\n+\t\t<parameter name=\"eventsCoIoT\" type=\"boolean\" required=\"false\">\n+\t\t\t<label>Enable CoIoT Events</label>\n+\t\t\t<description>If enabled the Coap protocol will be used to receive status updates.</description>\n+\t\t\t<advanced>true</advanced>\n+\t\t\t<default>false</default>\n+\t\t</parameter>\n+\t\t<parameter name=\"updateInterval\" type=\"integer\" required=\"true\">\n+\t\t\t<label>Update Interval</label>\n+\t\t\t<description>Interval in seconds to query an update from the device.</description>\n+\t\t\t<default>60</default>\n+\t\t\t<unitLabel>sec</unitLabel>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDk1NDUzNA=="}, "originalCommit": {"oid": "c264a364f7a279e098dbc80c9342af786ad52dbb"}, "originalPosition": 38}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI5MzA4NzQxOnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.shelly/src/main/resources/ESH-INF/config/config.xml", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yNVQyMDozNzoyNVrOFhxRMw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQyMToxMzo1M1rOFj6HJg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDk1NDU0Nw==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\t\t<description>If enabled the Coap protocol will be used to receive status updates.</description>\n          \n          \n            \n            \t\t\t<description>If enabled, the CoAP protocol is used to receive status updates.</description>", "url": "https://github.com/openhab/openhab-addons/pull/6764#discussion_r370954547", "createdAt": "2020-01-25T20:37:25Z", "author": {"login": "kaikreuzer"}, "path": "bundles/org.openhab.binding.shelly/src/main/resources/ESH-INF/config/config.xml", "diffHunk": "@@ -39,8 +45,71 @@\n \t\t\t<label>Enable Push Events (short/long)</label>\n \t\t\t<description>True if the binding should register to get the Short/Long Push Events.</description>\n \t\t\t<advanced>true</advanced>\n+\t\t\t<default>false</default>\n+\t\t</parameter>\n+\t\t<parameter name=\"eventsCoIoT\" type=\"boolean\" required=\"false\">\n+\t\t\t<label>Enable CoIoT Events</label>\n+\t\t\t<description>If enabled the Coap protocol will be used to receive status updates.</description>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c264a364f7a279e098dbc80c9342af786ad52dbb"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjA5MTUwOA==", "bodyText": "changed", "url": "https://github.com/openhab/openhab-addons/pull/6764#discussion_r372091508", "createdAt": "2020-01-28T22:20:50Z", "author": {"login": "markus7017"}, "path": "bundles/org.openhab.binding.shelly/src/main/resources/ESH-INF/config/config.xml", "diffHunk": "@@ -39,8 +45,71 @@\n \t\t\t<label>Enable Push Events (short/long)</label>\n \t\t\t<description>True if the binding should register to get the Short/Long Push Events.</description>\n \t\t\t<advanced>true</advanced>\n+\t\t\t<default>false</default>\n+\t\t</parameter>\n+\t\t<parameter name=\"eventsCoIoT\" type=\"boolean\" required=\"false\">\n+\t\t\t<label>Enable CoIoT Events</label>\n+\t\t\t<description>If enabled the Coap protocol will be used to receive status updates.</description>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDk1NDU0Nw=="}, "originalCommit": {"oid": "c264a364f7a279e098dbc80c9342af786ad52dbb"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzE5NjU4Mg==", "bodyText": "did you maybe miss to push your changes?", "url": "https://github.com/openhab/openhab-addons/pull/6764#discussion_r373196582", "createdAt": "2020-01-30T21:13:53Z", "author": {"login": "kaikreuzer"}, "path": "bundles/org.openhab.binding.shelly/src/main/resources/ESH-INF/config/config.xml", "diffHunk": "@@ -39,8 +45,71 @@\n \t\t\t<label>Enable Push Events (short/long)</label>\n \t\t\t<description>True if the binding should register to get the Short/Long Push Events.</description>\n \t\t\t<advanced>true</advanced>\n+\t\t\t<default>false</default>\n+\t\t</parameter>\n+\t\t<parameter name=\"eventsCoIoT\" type=\"boolean\" required=\"false\">\n+\t\t\t<label>Enable CoIoT Events</label>\n+\t\t\t<description>If enabled the Coap protocol will be used to receive status updates.</description>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDk1NDU0Nw=="}, "originalCommit": {"oid": "c264a364f7a279e098dbc80c9342af786ad52dbb"}, "originalPosition": 30}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI5MzA4ODIzOnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.shelly/src/main/resources/ESH-INF/config/config.xml", "isResolved": true, "comments": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yNVQyMDo0MDoyMFrOFhxRrA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wMlQyMjoyODoyOVrOFkj3tg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDk1NDY2OA==", "bodyText": "This feature does imho not make much sense in a binding - it is not at all specific here.\nIf a user wishes such an alarm, wouldn't it be hundred times better to have the alarm cover ALL devices that report their signal strength and not just the Shelly ones? This hence belongs into a rule and not in a binding.", "url": "https://github.com/openhab/openhab-addons/pull/6764#discussion_r370954668", "createdAt": "2020-01-25T20:40:20Z", "author": {"login": "kaikreuzer"}, "path": "bundles/org.openhab.binding.shelly/src/main/resources/ESH-INF/config/config.xml", "diffHunk": "@@ -23,6 +23,12 @@\n \t\t\t<description>IP-Address of the Shelly device.</description>\n \t\t\t<context>network-address</context>\n \t\t</parameter>\n+\t\t<parameter name=\"weakSignal\" type=\"integer\" required=\"false\">\n+\t\t\t<label>Weak Signal Threshold</label>\n+\t\t\t<description>An alarm is triggered if a device reports WiFi signal strength below this threshold. Default: -80 dBm</description>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c264a364f7a279e098dbc80c9342af786ad52dbb"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTAyNTgwNg==", "bodyText": "ok, but then it should be a OH core feature. The binding can't monitor the wifi signal for other devices. Same argument: Wha does each user has to add a rule for each device (or one serving it all). Would be a cool feature for OH3 to extend the channel type with a health monitoring.", "url": "https://github.com/openhab/openhab-addons/pull/6764#discussion_r371025806", "createdAt": "2020-01-26T20:04:40Z", "author": {"login": "markus7017"}, "path": "bundles/org.openhab.binding.shelly/src/main/resources/ESH-INF/config/config.xml", "diffHunk": "@@ -23,6 +23,12 @@\n \t\t\t<description>IP-Address of the Shelly device.</description>\n \t\t\t<context>network-address</context>\n \t\t</parameter>\n+\t\t<parameter name=\"weakSignal\" type=\"integer\" required=\"false\">\n+\t\t\t<label>Weak Signal Threshold</label>\n+\t\t\t<description>An alarm is triggered if a device reports WiFi signal strength below this threshold. Default: -80 dBm</description>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDk1NDY2OA=="}, "originalCommit": {"oid": "c264a364f7a279e098dbc80c9342af786ad52dbb"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTM2NjM4Nw==", "bodyText": "Yes, the signal strength has been defined as a system channel to allow such feature for the core. The new UI should definitely show the signal strength for things and we could also add further functionality for that.", "url": "https://github.com/openhab/openhab-addons/pull/6764#discussion_r371366387", "createdAt": "2020-01-27T17:06:00Z", "author": {"login": "kaikreuzer"}, "path": "bundles/org.openhab.binding.shelly/src/main/resources/ESH-INF/config/config.xml", "diffHunk": "@@ -23,6 +23,12 @@\n \t\t\t<description>IP-Address of the Shelly device.</description>\n \t\t\t<context>network-address</context>\n \t\t</parameter>\n+\t\t<parameter name=\"weakSignal\" type=\"integer\" required=\"false\">\n+\t\t\t<label>Weak Signal Threshold</label>\n+\t\t\t<description>An alarm is triggered if a device reports WiFi signal strength below this threshold. Default: -80 dBm</description>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDk1NDY2OA=="}, "originalCommit": {"oid": "c264a364f7a279e098dbc80c9342af786ad52dbb"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjA5MTM0MA==", "bodyText": "ok, what do you think of\n\nkeep the feature in 2.5\nremove it for 3.0 and integrate such monitoring in core", "url": "https://github.com/openhab/openhab-addons/pull/6764#discussion_r372091340", "createdAt": "2020-01-28T22:20:29Z", "author": {"login": "markus7017"}, "path": "bundles/org.openhab.binding.shelly/src/main/resources/ESH-INF/config/config.xml", "diffHunk": "@@ -23,6 +23,12 @@\n \t\t\t<description>IP-Address of the Shelly device.</description>\n \t\t\t<context>network-address</context>\n \t\t</parameter>\n+\t\t<parameter name=\"weakSignal\" type=\"integer\" required=\"false\">\n+\t\t\t<label>Weak Signal Threshold</label>\n+\t\t\t<description>An alarm is triggered if a device reports WiFi signal strength below this threshold. Default: -80 dBm</description>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDk1NDY2OA=="}, "originalCommit": {"oid": "c264a364f7a279e098dbc80c9342af786ad52dbb"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzE5NjQ1Ng==", "bodyText": "Please no. Stuff that is there usually stays around far too long. And if it is even something that is a workaround for a missing feature, it will be copied by others and it'll be all over the place.", "url": "https://github.com/openhab/openhab-addons/pull/6764#discussion_r373196456", "createdAt": "2020-01-30T21:13:36Z", "author": {"login": "kaikreuzer"}, "path": "bundles/org.openhab.binding.shelly/src/main/resources/ESH-INF/config/config.xml", "diffHunk": "@@ -23,6 +23,12 @@\n \t\t\t<description>IP-Address of the Shelly device.</description>\n \t\t\t<context>network-address</context>\n \t\t</parameter>\n+\t\t<parameter name=\"weakSignal\" type=\"integer\" required=\"false\">\n+\t\t\t<label>Weak Signal Threshold</label>\n+\t\t\t<description>An alarm is triggered if a device reports WiFi signal strength below this threshold. Default: -80 dBm</description>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDk1NDY2OA=="}, "originalCommit": {"oid": "c264a364f7a279e098dbc80c9342af786ad52dbb"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzg2NjA1Nw==", "bodyText": "This is still here...", "url": "https://github.com/openhab/openhab-addons/pull/6764#discussion_r373866057", "createdAt": "2020-02-02T18:39:49Z", "author": {"login": "kaikreuzer"}, "path": "bundles/org.openhab.binding.shelly/src/main/resources/ESH-INF/config/config.xml", "diffHunk": "@@ -23,6 +23,12 @@\n \t\t\t<description>IP-Address of the Shelly device.</description>\n \t\t\t<context>network-address</context>\n \t\t</parameter>\n+\t\t<parameter name=\"weakSignal\" type=\"integer\" required=\"false\">\n+\t\t\t<label>Weak Signal Threshold</label>\n+\t\t\t<description>An alarm is triggered if a device reports WiFi signal strength below this threshold. Default: -80 dBm</description>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDk1NDY2OA=="}, "originalCommit": {"oid": "c264a364f7a279e098dbc80c9342af786ad52dbb"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzg4MDc1OA==", "bodyText": "removed even I don't agree", "url": "https://github.com/openhab/openhab-addons/pull/6764#discussion_r373880758", "createdAt": "2020-02-02T22:28:29Z", "author": {"login": "markus7017"}, "path": "bundles/org.openhab.binding.shelly/src/main/resources/ESH-INF/config/config.xml", "diffHunk": "@@ -23,6 +23,12 @@\n \t\t\t<description>IP-Address of the Shelly device.</description>\n \t\t\t<context>network-address</context>\n \t\t</parameter>\n+\t\t<parameter name=\"weakSignal\" type=\"integer\" required=\"false\">\n+\t\t\t<label>Weak Signal Threshold</label>\n+\t\t\t<description>An alarm is triggered if a device reports WiFi signal strength below this threshold. Default: -80 dBm</description>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDk1NDY2OA=="}, "originalCommit": {"oid": "c264a364f7a279e098dbc80c9342af786ad52dbb"}, "originalPosition": 15}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI5MzA4ODM1OnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.shelly/src/main/resources/ESH-INF/config/config.xml", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yNVQyMDo0MDo0NFrOFhxRvg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wMlQyMjoyODo0MFrOFkj3ug==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDk1NDY4Ng==", "bodyText": "see above", "url": "https://github.com/openhab/openhab-addons/pull/6764#discussion_r370954686", "createdAt": "2020-01-25T20:40:44Z", "author": {"login": "kaikreuzer"}, "path": "bundles/org.openhab.binding.shelly/src/main/resources/ESH-INF/config/config.xml", "diffHunk": "@@ -39,8 +45,71 @@\n \t\t\t<label>Enable Push Events (short/long)</label>\n \t\t\t<description>True if the binding should register to get the Short/Long Push Events.</description>\n \t\t\t<advanced>true</advanced>\n+\t\t\t<default>false</default>\n+\t\t</parameter>\n+\t\t<parameter name=\"eventsCoIoT\" type=\"boolean\" required=\"false\">\n+\t\t\t<label>Enable CoIoT Events</label>\n+\t\t\t<description>If enabled the Coap protocol will be used to receive status updates.</description>\n+\t\t\t<advanced>true</advanced>\n+\t\t\t<default>false</default>\n+\t\t</parameter>\n+\t\t<parameter name=\"updateInterval\" type=\"integer\" required=\"true\">\n+\t\t\t<label>Update Interval</label>\n+\t\t\t<description>Interval in seconds to query an update from the device.</description>\n+\t\t\t<default>60</default>\n+\t\t\t<unitLabel>sec</unitLabel>\n+\t\t\t<advanced>true</advanced>\n+\t\t</parameter>\n+\t</config-description>\n+\n+\t<config-description uri=\"thing-type:shelly:light\">\n+\t\t<parameter-group name=\"advancedOptions\">\n+\t\t\t<label>Advanced Options</label>\n+\t\t</parameter-group>\n+\n+\t\t<parameter name=\"userId\" type=\"text\" required=\"false\">\n+\t\t\t<label>User</label>\n+\t\t\t<description>User ID for HTTP API access.</description>\n+\t\t</parameter>\n+\t\t<parameter name=\"password\" type=\"text\" required=\"false\">\n+\t\t\t<label>Password</label>\n+\t\t\t<description>Password for HTTP API access.</description>\n+\t\t\t<context>password</context>\n+\t\t</parameter>\n+\t\t<parameter name=\"deviceIp\" type=\"text\" required=\"true\">\n+\t\t\t<label>Device IP Address</label>\n+\t\t\t<description>IP-Address of the Shelly device.</description>\n+\t\t\t<context>network-address</context>\n+\t\t</parameter>\n+\t\t<parameter name=\"weakSignal\" type=\"integer\" required=\"false\">", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c264a364f7a279e098dbc80c9342af786ad52dbb"}, "originalPosition": 62}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTAyNTgxMw==", "bodyText": "same :-)", "url": "https://github.com/openhab/openhab-addons/pull/6764#discussion_r371025813", "createdAt": "2020-01-26T20:04:53Z", "author": {"login": "markus7017"}, "path": "bundles/org.openhab.binding.shelly/src/main/resources/ESH-INF/config/config.xml", "diffHunk": "@@ -39,8 +45,71 @@\n \t\t\t<label>Enable Push Events (short/long)</label>\n \t\t\t<description>True if the binding should register to get the Short/Long Push Events.</description>\n \t\t\t<advanced>true</advanced>\n+\t\t\t<default>false</default>\n+\t\t</parameter>\n+\t\t<parameter name=\"eventsCoIoT\" type=\"boolean\" required=\"false\">\n+\t\t\t<label>Enable CoIoT Events</label>\n+\t\t\t<description>If enabled the Coap protocol will be used to receive status updates.</description>\n+\t\t\t<advanced>true</advanced>\n+\t\t\t<default>false</default>\n+\t\t</parameter>\n+\t\t<parameter name=\"updateInterval\" type=\"integer\" required=\"true\">\n+\t\t\t<label>Update Interval</label>\n+\t\t\t<description>Interval in seconds to query an update from the device.</description>\n+\t\t\t<default>60</default>\n+\t\t\t<unitLabel>sec</unitLabel>\n+\t\t\t<advanced>true</advanced>\n+\t\t</parameter>\n+\t</config-description>\n+\n+\t<config-description uri=\"thing-type:shelly:light\">\n+\t\t<parameter-group name=\"advancedOptions\">\n+\t\t\t<label>Advanced Options</label>\n+\t\t</parameter-group>\n+\n+\t\t<parameter name=\"userId\" type=\"text\" required=\"false\">\n+\t\t\t<label>User</label>\n+\t\t\t<description>User ID for HTTP API access.</description>\n+\t\t</parameter>\n+\t\t<parameter name=\"password\" type=\"text\" required=\"false\">\n+\t\t\t<label>Password</label>\n+\t\t\t<description>Password for HTTP API access.</description>\n+\t\t\t<context>password</context>\n+\t\t</parameter>\n+\t\t<parameter name=\"deviceIp\" type=\"text\" required=\"true\">\n+\t\t\t<label>Device IP Address</label>\n+\t\t\t<description>IP-Address of the Shelly device.</description>\n+\t\t\t<context>network-address</context>\n+\t\t</parameter>\n+\t\t<parameter name=\"weakSignal\" type=\"integer\" required=\"false\">", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDk1NDY4Ng=="}, "originalCommit": {"oid": "c264a364f7a279e098dbc80c9342af786ad52dbb"}, "originalPosition": 62}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzg2NjA3OQ==", "bodyText": "Also still here...", "url": "https://github.com/openhab/openhab-addons/pull/6764#discussion_r373866079", "createdAt": "2020-02-02T18:40:10Z", "author": {"login": "kaikreuzer"}, "path": "bundles/org.openhab.binding.shelly/src/main/resources/ESH-INF/config/config.xml", "diffHunk": "@@ -39,8 +45,71 @@\n \t\t\t<label>Enable Push Events (short/long)</label>\n \t\t\t<description>True if the binding should register to get the Short/Long Push Events.</description>\n \t\t\t<advanced>true</advanced>\n+\t\t\t<default>false</default>\n+\t\t</parameter>\n+\t\t<parameter name=\"eventsCoIoT\" type=\"boolean\" required=\"false\">\n+\t\t\t<label>Enable CoIoT Events</label>\n+\t\t\t<description>If enabled the Coap protocol will be used to receive status updates.</description>\n+\t\t\t<advanced>true</advanced>\n+\t\t\t<default>false</default>\n+\t\t</parameter>\n+\t\t<parameter name=\"updateInterval\" type=\"integer\" required=\"true\">\n+\t\t\t<label>Update Interval</label>\n+\t\t\t<description>Interval in seconds to query an update from the device.</description>\n+\t\t\t<default>60</default>\n+\t\t\t<unitLabel>sec</unitLabel>\n+\t\t\t<advanced>true</advanced>\n+\t\t</parameter>\n+\t</config-description>\n+\n+\t<config-description uri=\"thing-type:shelly:light\">\n+\t\t<parameter-group name=\"advancedOptions\">\n+\t\t\t<label>Advanced Options</label>\n+\t\t</parameter-group>\n+\n+\t\t<parameter name=\"userId\" type=\"text\" required=\"false\">\n+\t\t\t<label>User</label>\n+\t\t\t<description>User ID for HTTP API access.</description>\n+\t\t</parameter>\n+\t\t<parameter name=\"password\" type=\"text\" required=\"false\">\n+\t\t\t<label>Password</label>\n+\t\t\t<description>Password for HTTP API access.</description>\n+\t\t\t<context>password</context>\n+\t\t</parameter>\n+\t\t<parameter name=\"deviceIp\" type=\"text\" required=\"true\">\n+\t\t\t<label>Device IP Address</label>\n+\t\t\t<description>IP-Address of the Shelly device.</description>\n+\t\t\t<context>network-address</context>\n+\t\t</parameter>\n+\t\t<parameter name=\"weakSignal\" type=\"integer\" required=\"false\">", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDk1NDY4Ng=="}, "originalCommit": {"oid": "c264a364f7a279e098dbc80c9342af786ad52dbb"}, "originalPosition": 62}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzg4MDc2Mg==", "bodyText": "dto", "url": "https://github.com/openhab/openhab-addons/pull/6764#discussion_r373880762", "createdAt": "2020-02-02T22:28:40Z", "author": {"login": "markus7017"}, "path": "bundles/org.openhab.binding.shelly/src/main/resources/ESH-INF/config/config.xml", "diffHunk": "@@ -39,8 +45,71 @@\n \t\t\t<label>Enable Push Events (short/long)</label>\n \t\t\t<description>True if the binding should register to get the Short/Long Push Events.</description>\n \t\t\t<advanced>true</advanced>\n+\t\t\t<default>false</default>\n+\t\t</parameter>\n+\t\t<parameter name=\"eventsCoIoT\" type=\"boolean\" required=\"false\">\n+\t\t\t<label>Enable CoIoT Events</label>\n+\t\t\t<description>If enabled the Coap protocol will be used to receive status updates.</description>\n+\t\t\t<advanced>true</advanced>\n+\t\t\t<default>false</default>\n+\t\t</parameter>\n+\t\t<parameter name=\"updateInterval\" type=\"integer\" required=\"true\">\n+\t\t\t<label>Update Interval</label>\n+\t\t\t<description>Interval in seconds to query an update from the device.</description>\n+\t\t\t<default>60</default>\n+\t\t\t<unitLabel>sec</unitLabel>\n+\t\t\t<advanced>true</advanced>\n+\t\t</parameter>\n+\t</config-description>\n+\n+\t<config-description uri=\"thing-type:shelly:light\">\n+\t\t<parameter-group name=\"advancedOptions\">\n+\t\t\t<label>Advanced Options</label>\n+\t\t</parameter-group>\n+\n+\t\t<parameter name=\"userId\" type=\"text\" required=\"false\">\n+\t\t\t<label>User</label>\n+\t\t\t<description>User ID for HTTP API access.</description>\n+\t\t</parameter>\n+\t\t<parameter name=\"password\" type=\"text\" required=\"false\">\n+\t\t\t<label>Password</label>\n+\t\t\t<description>Password for HTTP API access.</description>\n+\t\t\t<context>password</context>\n+\t\t</parameter>\n+\t\t<parameter name=\"deviceIp\" type=\"text\" required=\"true\">\n+\t\t\t<label>Device IP Address</label>\n+\t\t\t<description>IP-Address of the Shelly device.</description>\n+\t\t\t<context>network-address</context>\n+\t\t</parameter>\n+\t\t<parameter name=\"weakSignal\" type=\"integer\" required=\"false\">", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDk1NDY4Ng=="}, "originalCommit": {"oid": "c264a364f7a279e098dbc80c9342af786ad52dbb"}, "originalPosition": 62}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI5MzA4ODkwOnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.shelly/src/main/resources/ESH-INF/config/config.xml", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yNVQyMDo0MTo0M1rOFhxR_g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wMlQyMjoyODo0N1rOFkj3wA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDk1NDc1MA==", "bodyText": "see above", "url": "https://github.com/openhab/openhab-addons/pull/6764#discussion_r370954750", "createdAt": "2020-01-25T20:41:43Z", "author": {"login": "kaikreuzer"}, "path": "bundles/org.openhab.binding.shelly/src/main/resources/ESH-INF/config/config.xml", "diffHunk": "@@ -89,11 +158,19 @@\n \t\t\t<advanced>true</advanced>\n \t\t\t<default>true</default>\n \t\t</parameter>\n+\t\t<parameter name=\"weakSignal\" type=\"integer\" required=\"false\">", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c264a364f7a279e098dbc80c9342af786ad52dbb"}, "originalPosition": 109}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTAyNTgzMg==", "bodyText": "dto", "url": "https://github.com/openhab/openhab-addons/pull/6764#discussion_r371025832", "createdAt": "2020-01-26T20:05:07Z", "author": {"login": "markus7017"}, "path": "bundles/org.openhab.binding.shelly/src/main/resources/ESH-INF/config/config.xml", "diffHunk": "@@ -89,11 +158,19 @@\n \t\t\t<advanced>true</advanced>\n \t\t\t<default>true</default>\n \t\t</parameter>\n+\t\t<parameter name=\"weakSignal\" type=\"integer\" required=\"false\">", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDk1NDc1MA=="}, "originalCommit": {"oid": "c264a364f7a279e098dbc80c9342af786ad52dbb"}, "originalPosition": 109}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzg2NjExNA==", "bodyText": "dito", "url": "https://github.com/openhab/openhab-addons/pull/6764#discussion_r373866114", "createdAt": "2020-02-02T18:40:35Z", "author": {"login": "kaikreuzer"}, "path": "bundles/org.openhab.binding.shelly/src/main/resources/ESH-INF/config/config.xml", "diffHunk": "@@ -89,11 +158,19 @@\n \t\t\t<advanced>true</advanced>\n \t\t\t<default>true</default>\n \t\t</parameter>\n+\t\t<parameter name=\"weakSignal\" type=\"integer\" required=\"false\">", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDk1NDc1MA=="}, "originalCommit": {"oid": "c264a364f7a279e098dbc80c9342af786ad52dbb"}, "originalPosition": 109}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzg4MDc2OA==", "bodyText": "dito", "url": "https://github.com/openhab/openhab-addons/pull/6764#discussion_r373880768", "createdAt": "2020-02-02T22:28:47Z", "author": {"login": "markus7017"}, "path": "bundles/org.openhab.binding.shelly/src/main/resources/ESH-INF/config/config.xml", "diffHunk": "@@ -89,11 +158,19 @@\n \t\t\t<advanced>true</advanced>\n \t\t\t<default>true</default>\n \t\t</parameter>\n+\t\t<parameter name=\"weakSignal\" type=\"integer\" required=\"false\">", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDk1NDc1MA=="}, "originalCommit": {"oid": "c264a364f7a279e098dbc80c9342af786ad52dbb"}, "originalPosition": 109}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI5MzA4OTc2OnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.shelly/src/main/resources/ESH-INF/thing/channels.xml", "isResolved": true, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yNVQyMDo0NDoxMFrOFhxSbA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wM1QwNjozNzowMlrOFknfug==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDk1NDg2MA==", "bodyText": "No, please don't add such debugging channels to the Things, this really feels not right.\nDoing debug level logging should normally be enough. If you really want it somewhere else, maybe it would be ok to add it as Thing properties.", "url": "https://github.com/openhab/openhab-addons/pull/6764#discussion_r370954860", "createdAt": "2020-01-25T20:44:10Z", "author": {"login": "kaikreuzer"}, "path": "bundles/org.openhab.binding.shelly/src/main/resources/ESH-INF/thing/channels.xml", "diffHunk": "@@ -365,4 +353,20 @@\n \t\t\t</options>\n \t\t</event>\n \t</channel-type>\n+\n+\t<channel-type id=\"timeoutErrors\" advanced=\"true\">", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c264a364f7a279e098dbc80c9342af786ad52dbb"}, "originalPosition": 47}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTAyNTk3MA==", "bodyText": "ok, was designed as a temp at the beginning, but provided some good feedback\nnevertheless I'll move it to thing properties as stats values. I'm currently working with the community and the Shelly guys on REST timeouts. Various users are reporting issues whereas others (like me) see timeouts very rarely. Once the problem is fixed (maybe a firmware issue) I Could remove those counters anyways.", "url": "https://github.com/openhab/openhab-addons/pull/6764#discussion_r371025970", "createdAt": "2020-01-26T20:07:09Z", "author": {"login": "markus7017"}, "path": "bundles/org.openhab.binding.shelly/src/main/resources/ESH-INF/thing/channels.xml", "diffHunk": "@@ -365,4 +353,20 @@\n \t\t\t</options>\n \t\t</event>\n \t</channel-type>\n+\n+\t<channel-type id=\"timeoutErrors\" advanced=\"true\">", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDk1NDg2MA=="}, "originalCommit": {"oid": "c264a364f7a279e098dbc80c9342af786ad52dbb"}, "originalPosition": 47}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjA5MjAxMg==", "bodyText": "moved to thing properties", "url": "https://github.com/openhab/openhab-addons/pull/6764#discussion_r372092012", "createdAt": "2020-01-28T22:22:00Z", "author": {"login": "markus7017"}, "path": "bundles/org.openhab.binding.shelly/src/main/resources/ESH-INF/thing/channels.xml", "diffHunk": "@@ -365,4 +353,20 @@\n \t\t\t</options>\n \t\t</event>\n \t</channel-type>\n+\n+\t<channel-type id=\"timeoutErrors\" advanced=\"true\">", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDk1NDg2MA=="}, "originalCommit": {"oid": "c264a364f7a279e098dbc80c9342af786ad52dbb"}, "originalPosition": 47}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzg2NjE3MQ==", "bodyText": "still here - more commits missing?", "url": "https://github.com/openhab/openhab-addons/pull/6764#discussion_r373866171", "createdAt": "2020-02-02T18:41:28Z", "author": {"login": "kaikreuzer"}, "path": "bundles/org.openhab.binding.shelly/src/main/resources/ESH-INF/thing/channels.xml", "diffHunk": "@@ -365,4 +353,20 @@\n \t\t\t</options>\n \t\t</event>\n \t</channel-type>\n+\n+\t<channel-type id=\"timeoutErrors\" advanced=\"true\">", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDk1NDg2MA=="}, "originalCommit": {"oid": "c264a364f7a279e098dbc80c9342af786ad52dbb"}, "originalPosition": 47}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzk0MDE1NA==", "bodyText": "left over, removed", "url": "https://github.com/openhab/openhab-addons/pull/6764#discussion_r373940154", "createdAt": "2020-02-03T06:37:02Z", "author": {"login": "markus7017"}, "path": "bundles/org.openhab.binding.shelly/src/main/resources/ESH-INF/thing/channels.xml", "diffHunk": "@@ -365,4 +353,20 @@\n \t\t\t</options>\n \t\t</event>\n \t</channel-type>\n+\n+\t<channel-type id=\"timeoutErrors\" advanced=\"true\">", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDk1NDg2MA=="}, "originalCommit": {"oid": "c264a364f7a279e098dbc80c9342af786ad52dbb"}, "originalPosition": 47}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMxMTkyMDkwOnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.shelly/src/main/java/org/openhab/binding/shelly/internal/handler/ShellyBaseHandler.java", "isResolved": false, "comments": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wMlQxODozODoxMVrOFki96w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNVQwNzozNTozOFrOFluFfw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzg2NTk2Mw==", "bodyText": "Why do you have to suppress unused? Can't you simply remove unused variables?\nAlso, please try to avoid null suppressions and rather refactor the code to be fully null-safe.\nOk, if you address this in a future PR, no blocker wrt merging now.", "url": "https://github.com/openhab/openhab-addons/pull/6764#discussion_r373865963", "createdAt": "2020-02-02T18:38:11Z", "author": {"login": "kaikreuzer"}, "path": "bundles/org.openhab.binding.shelly/src/main/java/org/openhab/binding/shelly/internal/handler/ShellyBaseHandler.java", "diffHunk": "@@ -631,6 +683,39 @@ public boolean requestUpdates(int requestCount, boolean refreshSettings) {\n         return false;\n     }\n \n+    /**\n+     * Map input states to channels\n+     *\n+     * @param groupName Channel Group (relay / relay1...)\n+     *\n+     * @param status Shelly device status\n+     * @return true: one or more inputs were updated\n+     */\n+    @SuppressWarnings({ \"null\", \"unused\" })", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "70244750413be221c75fe9a1a8c5b6628ad222b0"}, "originalPosition": 308}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzg4MDkyNA==", "bodyText": "because Eclipse sometimes just report BS", "url": "https://github.com/openhab/openhab-addons/pull/6764#discussion_r373880924", "createdAt": "2020-02-02T22:31:17Z", "author": {"login": "markus7017"}, "path": "bundles/org.openhab.binding.shelly/src/main/java/org/openhab/binding/shelly/internal/handler/ShellyBaseHandler.java", "diffHunk": "@@ -631,6 +683,39 @@ public boolean requestUpdates(int requestCount, boolean refreshSettings) {\n         return false;\n     }\n \n+    /**\n+     * Map input states to channels\n+     *\n+     * @param groupName Channel Group (relay / relay1...)\n+     *\n+     * @param status Shelly device status\n+     * @return true: one or more inputs were updated\n+     */\n+    @SuppressWarnings({ \"null\", \"unused\" })", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzg2NTk2Mw=="}, "originalCommit": {"oid": "70244750413be221c75fe9a1a8c5b6628ad222b0"}, "originalPosition": 308}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzk0NjI0MA==", "bodyText": "example: For this statement Eclipse reports a redundant null check\nStrong thingName = properties.get(PROPERTY_SERVICE_NAME) != null ? properties.get(PROPERTY_SERVICE_NAME).toLowerCase() : thingType;\nhow to resolved those warnings?", "url": "https://github.com/openhab/openhab-addons/pull/6764#discussion_r373946240", "createdAt": "2020-02-03T07:03:28Z", "author": {"login": "markus7017"}, "path": "bundles/org.openhab.binding.shelly/src/main/java/org/openhab/binding/shelly/internal/handler/ShellyBaseHandler.java", "diffHunk": "@@ -631,6 +683,39 @@ public boolean requestUpdates(int requestCount, boolean refreshSettings) {\n         return false;\n     }\n \n+    /**\n+     * Map input states to channels\n+     *\n+     * @param groupName Channel Group (relay / relay1...)\n+     *\n+     * @param status Shelly device status\n+     * @return true: one or more inputs were updated\n+     */\n+    @SuppressWarnings({ \"null\", \"unused\" })", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzg2NTk2Mw=="}, "originalCommit": {"oid": "70244750413be221c75fe9a1a8c5b6628ad222b0"}, "originalPosition": 308}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDYzMjc3Ng==", "bodyText": "Which is correct, because theoretically another thread could meanwhile remove the property before you call the get.\nThis should solve those issues:\nString thingName = properties.get(PROPERTY_SERVICE_NAME);\nthingName = thingName!=null ? thingName.toLowerCase() : thingType;", "url": "https://github.com/openhab/openhab-addons/pull/6764#discussion_r374632776", "createdAt": "2020-02-04T12:08:24Z", "author": {"login": "kaikreuzer"}, "path": "bundles/org.openhab.binding.shelly/src/main/java/org/openhab/binding/shelly/internal/handler/ShellyBaseHandler.java", "diffHunk": "@@ -631,6 +683,39 @@ public boolean requestUpdates(int requestCount, boolean refreshSettings) {\n         return false;\n     }\n \n+    /**\n+     * Map input states to channels\n+     *\n+     * @param groupName Channel Group (relay / relay1...)\n+     *\n+     * @param status Shelly device status\n+     * @return true: one or more inputs were updated\n+     */\n+    @SuppressWarnings({ \"null\", \"unused\" })", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzg2NTk2Mw=="}, "originalCommit": {"oid": "70244750413be221c75fe9a1a8c5b6628ad222b0"}, "originalPosition": 308}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDg1Nzg1OQ==", "bodyText": "nope, now it's \"thingName!=null\"", "url": "https://github.com/openhab/openhab-addons/pull/6764#discussion_r374857859", "createdAt": "2020-02-04T18:52:43Z", "author": {"login": "markus7017"}, "path": "bundles/org.openhab.binding.shelly/src/main/java/org/openhab/binding/shelly/internal/handler/ShellyBaseHandler.java", "diffHunk": "@@ -631,6 +683,39 @@ public boolean requestUpdates(int requestCount, boolean refreshSettings) {\n         return false;\n     }\n \n+    /**\n+     * Map input states to channels\n+     *\n+     * @param groupName Channel Group (relay / relay1...)\n+     *\n+     * @param status Shelly device status\n+     * @return true: one or more inputs were updated\n+     */\n+    @SuppressWarnings({ \"null\", \"unused\" })", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzg2NTk2Mw=="}, "originalCommit": {"oid": "70244750413be221c75fe9a1a8c5b6628ad222b0"}, "originalPosition": 308}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTA5NjcwMw==", "bodyText": "Then probably this way:\nString serviceName = properties.get(PROPERTY_SERVICE_NAME);\nString thingName = serviceName!=null ? serviceName.toLowerCase() : thingType;\n\nThat's anyhow cleaner than my previous suggestion.", "url": "https://github.com/openhab/openhab-addons/pull/6764#discussion_r375096703", "createdAt": "2020-02-05T07:35:38Z", "author": {"login": "kaikreuzer"}, "path": "bundles/org.openhab.binding.shelly/src/main/java/org/openhab/binding/shelly/internal/handler/ShellyBaseHandler.java", "diffHunk": "@@ -631,6 +683,39 @@ public boolean requestUpdates(int requestCount, boolean refreshSettings) {\n         return false;\n     }\n \n+    /**\n+     * Map input states to channels\n+     *\n+     * @param groupName Channel Group (relay / relay1...)\n+     *\n+     * @param status Shelly device status\n+     * @return true: one or more inputs were updated\n+     */\n+    @SuppressWarnings({ \"null\", \"unused\" })", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzg2NTk2Mw=="}, "originalCommit": {"oid": "70244750413be221c75fe9a1a8c5b6628ad222b0"}, "originalPosition": 308}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1013, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}