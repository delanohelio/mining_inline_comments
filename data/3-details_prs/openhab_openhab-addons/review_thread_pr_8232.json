{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDYwMjI5OTA1", "number": 8232, "reviewThreads": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xNFQxNzo0MDowN1rOEYjm1Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMFQxNjoxNTowNFrOEam1Lw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk0MTg0NjYxOnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.opensprinkler/README.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xNFQxNzo0MDowN1rOHA9KYQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xNFQxNzo0MDowN1rOHA9KYQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDc2NDEyOQ==", "bodyText": "Can you mention that it is percent?\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            | waterlevel      | Number                 | RO | This channel shows the current water level. The water level calculated    |\n          \n          \n            \n            | waterlevel      | Number:Dimensionless                 | RO | This channel shows the current water level. The water level calculated    |", "url": "https://github.com/openhab/openhab-addons/pull/8232#discussion_r470764129", "createdAt": "2020-08-14T17:40:07Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.opensprinkler/README.md", "diffHunk": "@@ -66,6 +66,8 @@ The following is supported by the `device` thing, but only when connected using\n | rainsensor      | Switch                 | RO | This channel indicates whether rain is detected by the device or not.     |\n | currentDraw     | Number:ElectricCurrent | RO | Shows the current draw of the device. If the device does not have sensors |\n |                 |                        |    | for this metric, the channel will not be available.                       |\n+| waterlevel      | Number                 | RO | This channel shows the current water level. The water level calculated    |", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d6ad349a85aabf7609a3dcd12dfc3076c475116b"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk0NDgzMjE1OnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.opensprinkler/README.md", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xNlQyMToyNTozN1rOHBVXMg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QwNTozNzo0MlrOHBaSJA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTE2MDYyNg==", "bodyText": "probably align with other cells :)", "url": "https://github.com/openhab/openhab-addons/pull/8232#discussion_r471160626", "createdAt": "2020-08-16T21:25:37Z", "author": {"login": "FlorianSW"}, "path": "bundles/org.openhab.binding.opensprinkler/README.md", "diffHunk": "@@ -66,6 +66,8 @@ The following is supported by the `device` thing, but only when connected using\n | rainsensor      | Switch                 | RO | This channel indicates whether rain is detected by the device or not.     |\n | currentDraw     | Number:ElectricCurrent | RO | Shows the current draw of the device. If the device does not have sensors |\n |                 |                        |    | for this metric, the channel will not be available.                       |\n+| waterlevel      | Number:Dimensionless                 | RO | This channel shows the current water level. The water level calculated    |", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7c5c172a8a2318fa2481a03a0e3ff724d38d896b"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTI0MTI1Mg==", "bodyText": "Fixed.", "url": "https://github.com/openhab/openhab-addons/pull/8232#discussion_r471241252", "createdAt": "2020-08-17T05:37:42Z", "author": {"login": "pail23"}, "path": "bundles/org.openhab.binding.opensprinkler/README.md", "diffHunk": "@@ -66,6 +66,8 @@ The following is supported by the `device` thing, but only when connected using\n | rainsensor      | Switch                 | RO | This channel indicates whether rain is detected by the device or not.     |\n | currentDraw     | Number:ElectricCurrent | RO | Shows the current draw of the device. If the device does not have sensors |\n |                 |                        |    | for this metric, the channel will not be available.                       |\n+| waterlevel      | Number:Dimensionless                 | RO | This channel shows the current water level. The water level calculated    |", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTE2MDYyNg=="}, "originalCommit": {"oid": "7c5c172a8a2318fa2481a03a0e3ff724d38d896b"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk0NDgzMzU2OnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.opensprinkler/src/main/java/org/openhab/binding/opensprinkler/internal/api/OpenSprinklerHttpApiV100.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xNlQyMToyNzozNVrOHBVX3w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xNlQyMToyNzozNVrOHBVX3w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTE2MDc5OQ==", "bodyText": "awesome for refactoring this as well :)", "url": "https://github.com/openhab/openhab-addons/pull/8232#discussion_r471160799", "createdAt": "2020-08-16T21:27:35Z", "author": {"login": "FlorianSW"}, "path": "bundles/org.openhab.binding.opensprinkler/src/main/java/org/openhab/binding/opensprinkler/internal/api/OpenSprinklerHttpApiV100.java", "diffHunk": "@@ -208,17 +215,10 @@ public int getNumberOfStations() throws CommunicationApiException {\n \n     @Override\n     public int getFirmwareVersion() throws CommunicationApiException {\n-        String returnContent;\n-\n-        try {\n-            returnContent = http.sendHttpGet(getBaseUrl() + CMD_OPTIONS_INFO, null);\n-        } catch (Exception exp) {\n-            throw new CommunicationApiException(\n-                    \"There was a problem in the HTTP communication with the OpenSprinkler API: \" + exp.getMessage());\n-        }\n \n         try {\n-            this.firmwareVersion = Parse.jsonInt(returnContent, JSON_OPTION_FIRMWARE_VERSION);\n+            JoResponse info = getOptions();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7c5c172a8a2318fa2481a03a0e3ff724d38d896b"}, "originalPosition": 58}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk2MzM0MDUxOnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.opensprinkler/README.md", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMFQxNjoxMzozOVrOHEJBvw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMFQxOToxNzowOFrOHEPs9Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDEwNDI1NQ==", "bodyText": "Can you mention, that this is percent?", "url": "https://github.com/openhab/openhab-addons/pull/8232#discussion_r474104255", "createdAt": "2020-08-20T16:13:39Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.opensprinkler/README.md", "diffHunk": "@@ -66,6 +66,8 @@ The following is supported by the `device` thing, but only when connected using\n | rainsensor      | Switch                 | RO | This channel indicates whether rain is detected by the device or not.     |\n | currentDraw     | Number:ElectricCurrent | RO | Shows the current draw of the device. If the device does not have sensors |\n |                 |                        |    | for this metric, the channel will not be available.                       |\n+| waterlevel      | Number:Dimensionless   | RO | This channel shows the current water level. The water level calculated    |\n+|                 |                        |    | based on the weather and influences the duration of the water programs.   |", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5d793f4d5d2238b63b32c6c63ef05da85e802d30"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDIxMzYyMQ==", "bodyText": "yes, done", "url": "https://github.com/openhab/openhab-addons/pull/8232#discussion_r474213621", "createdAt": "2020-08-20T19:17:08Z", "author": {"login": "pail23"}, "path": "bundles/org.openhab.binding.opensprinkler/README.md", "diffHunk": "@@ -66,6 +66,8 @@ The following is supported by the `device` thing, but only when connected using\n | rainsensor      | Switch                 | RO | This channel indicates whether rain is detected by the device or not.     |\n | currentDraw     | Number:ElectricCurrent | RO | Shows the current draw of the device. If the device does not have sensors |\n |                 |                        |    | for this metric, the channel will not be available.                       |\n+| waterlevel      | Number:Dimensionless   | RO | This channel shows the current water level. The water level calculated    |\n+|                 |                        |    | based on the weather and influences the duration of the water programs.   |", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDEwNDI1NQ=="}, "originalCommit": {"oid": "5d793f4d5d2238b63b32c6c63ef05da85e802d30"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk2MzM0NTE4OnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.opensprinkler/src/main/resources/ESH-INF/thing/thing-types.xml", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMFQxNjoxNDo0OVrOHEJEbA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMFQxOToxNjo1NVrOHEPsgg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDEwNDk0MA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\t<description>The current water level</description>\n          \n          \n            \n            \t\t<description>The current water level in percent</description>", "url": "https://github.com/openhab/openhab-addons/pull/8232#discussion_r474104940", "createdAt": "2020-08-20T16:14:49Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.opensprinkler/src/main/resources/ESH-INF/thing/thing-types.xml", "diffHunk": "@@ -85,6 +86,14 @@\n \t\t<state readOnly=\"true\"/>\n \t</channel-type>\n \n+\n+\t<channel-type id=\"waterlevel\">\n+\t\t<item-type>Number:Dimensionless</item-type>\n+\t\t<label>Water level</label>\n+\t\t<description>The current water level</description>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5d793f4d5d2238b63b32c6c63ef05da85e802d30"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDIxMzUwNg==", "bodyText": "done", "url": "https://github.com/openhab/openhab-addons/pull/8232#discussion_r474213506", "createdAt": "2020-08-20T19:16:55Z", "author": {"login": "pail23"}, "path": "bundles/org.openhab.binding.opensprinkler/src/main/resources/ESH-INF/thing/thing-types.xml", "diffHunk": "@@ -85,6 +86,14 @@\n \t\t<state readOnly=\"true\"/>\n \t</channel-type>\n \n+\n+\t<channel-type id=\"waterlevel\">\n+\t\t<item-type>Number:Dimensionless</item-type>\n+\t\t<label>Water level</label>\n+\t\t<description>The current water level</description>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDEwNDk0MA=="}, "originalCommit": {"oid": "5d793f4d5d2238b63b32c6c63ef05da85e802d30"}, "originalPosition": 18}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk2MzM0NjM5OnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.opensprinkler/src/main/resources/ESH-INF/thing/thing-types.xml", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMFQxNjoxNTowNFrOHEJFGA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMFQxOToxNjo0NFrOHEPsHQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDEwNTExMg==", "bodyText": "Words in labels should be capitalized (except prepositions and so on). See https://www.openhab.org/docs/developer/bindings/thing-xml.html#formatting-labels-and-descriptions", "url": "https://github.com/openhab/openhab-addons/pull/8232#discussion_r474105112", "createdAt": "2020-08-20T16:15:04Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.opensprinkler/src/main/resources/ESH-INF/thing/thing-types.xml", "diffHunk": "@@ -85,6 +86,14 @@\n \t\t<state readOnly=\"true\"/>\n \t</channel-type>\n \n+\n+\t<channel-type id=\"waterlevel\">\n+\t\t<item-type>Number:Dimensionless</item-type>\n+\t\t<label>Water level</label>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5d793f4d5d2238b63b32c6c63ef05da85e802d30"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDIxMzQwNQ==", "bodyText": "Changed to \"Water Level\"", "url": "https://github.com/openhab/openhab-addons/pull/8232#discussion_r474213405", "createdAt": "2020-08-20T19:16:44Z", "author": {"login": "pail23"}, "path": "bundles/org.openhab.binding.opensprinkler/src/main/resources/ESH-INF/thing/thing-types.xml", "diffHunk": "@@ -85,6 +86,14 @@\n \t\t<state readOnly=\"true\"/>\n \t</channel-type>\n \n+\n+\t<channel-type id=\"waterlevel\">\n+\t\t<item-type>Number:Dimensionless</item-type>\n+\t\t<label>Water level</label>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDEwNTExMg=="}, "originalCommit": {"oid": "5d793f4d5d2238b63b32c6c63ef05da85e802d30"}, "originalPosition": 17}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4569, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}