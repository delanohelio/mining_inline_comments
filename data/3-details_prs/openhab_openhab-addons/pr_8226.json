{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU4Njc2Nzk4", "number": 8226, "title": "[insteon] Added the ability to configure devices from the UI", "bodyText": "Initial support includes broadcast channels for PLM and disabling heartbeat for motion sensor II", "createdAt": "2020-07-29T20:32:49Z", "url": "https://github.com/openhab/openhab-addons/pull/8226", "merged": true, "mergeCommit": {"oid": "363730c829d7f4f02a8ee7306c5b1351eafbe9a2"}, "closed": true, "closedAt": "2020-08-16T19:18:57Z", "author": {"login": "robnielsen"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc5xFJSAH2gAyNDU4Njc2Nzk4OjZjYTBmNDFkMDQ1MjYyNjQyNGRmOGEyYjkxMzJiNGNkMjZjMTU0YzQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc_i1c6AFqTQ2ODA4Nzg5OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "6ca0f41d0452626424df8a2b9132b4cd26c154c4", "author": {"user": {"login": "robnielsen", "name": null}}, "url": "https://github.com/openhab/openhab-addons/commit/6ca0f41d0452626424df8a2b9132b4cd26c154c4", "committedDate": "2020-07-29T20:30:44Z", "message": "[insteon] Added the ability to configure devices and channels from the UI\n\nSigned-off-by: Rob Nielsen <rob.nielsen@yahoo.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY3ODA0Njcw", "url": "https://github.com/openhab/openhab-addons/pull/8226#pullrequestreview-467804670", "createdAt": "2020-08-14T18:49:11Z", "commit": {"oid": "6ca0f41d0452626424df8a2b9132b4cd26c154c4"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xNFQxODo0OToxMVrOHA_6Hw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xNFQxODo0OToxMVrOHA_6Hw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDgwOTExOQ==", "bodyText": "As the framework logs the detail message already, the log message could be removed.", "url": "https://github.com/openhab/openhab-addons/pull/8226#discussion_r470809119", "createdAt": "2020-08-14T18:49:11Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.insteon/src/main/java/org/openhab/binding/insteon/internal/handler/InsteonDeviceHandler.java", "diffHunk": "@@ -146,23 +155,41 @@ public void initialize() {\n             String productKey = config.getProductKey();\n             if (DeviceTypeLoader.instance().getDeviceType(productKey) == null) {\n                 String msg = \"Unable to start Insteon device, invalid product key '\" + productKey + \"'.\";\n-                logger.warn(\"{}\", msg);\n+                logger.warn(\"{} {}\", thing.getUID().getAsString(), msg);\n \n                 updateStatus(ThingStatus.OFFLINE, ThingStatusDetail.CONFIGURATION_ERROR, msg);\n                 return;\n             }\n \n+            String deviceConfig = config.getDeviceConfig();\n+            Map<String, @Nullable Object> deviceConfigMap;\n+            if (deviceConfig != null) {\n+                Type mapType = new TypeToken<Map<String, Object>>() {\n+                }.getType();\n+                try {\n+                    deviceConfigMap = new Gson().fromJson(deviceConfig, mapType);\n+                } catch (JsonParseException e) {\n+                    String msg = \"The device configuration parameter is not valid JSON.\";\n+                    logger.warn(\"{} {}\", thing.getUID().getAsString(), msg);\n+\n+                    updateStatus(ThingStatus.OFFLINE, ThingStatusDetail.CONFIGURATION_ERROR, msg);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6ca0f41d0452626424df8a2b9132b4cd26c154c4"}, "originalPosition": 72}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9deac442d955b75d75c894a90dc51302c0379c41", "author": {"user": {"login": "robnielsen", "name": null}}, "url": "https://github.com/openhab/openhab-addons/commit/9deac442d955b75d75c894a90dc51302c0379c41", "committedDate": "2020-08-16T14:46:06Z", "message": "[insteon] removed ability to configure channels from device config option\n\nSigned-off-by: Rob Nielsen <rob.nielsen@yahoo.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY4MDg3ODk5", "url": "https://github.com/openhab/openhab-addons/pull/8226#pullrequestreview-468087899", "createdAt": "2020-08-16T19:18:28Z", "commit": {"oid": "9deac442d955b75d75c894a90dc51302c0379c41"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4912, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}