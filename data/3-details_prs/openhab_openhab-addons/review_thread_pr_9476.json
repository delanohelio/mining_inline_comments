{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQ0MjM4MTkw", "number": 9476, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0xM1QxOTozNzoyMlrOFOTdVQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0xM1QxOTozNzoyMlrOFOTdVQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzUwNTQzMTg5OnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.amazonechocontrol/src/main/java/org/openhab/binding/amazonechocontrol/internal/AccountServlet.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0xM1QxOTozNzoyMlrOIS_LeQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0xM1QxOTo1Mzo1MFrOIS_wuQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1Njc4MDQwOQ==", "bodyText": "You shouldn't use string concatenation when you already have a StringBuilder to use. String concatenation ends up using another StringBuilder when it generates the java bytecode. So just chain multiple append statements instead.\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            capability -> html.append(\"<tr><td>\" + StringEscapeUtils.escapeHtml(capability) + \"</td></tr>\"));\n          \n          \n            \n                            capability -> html.append(\"<tr><td>\").append(StringEscapeUtils.escapeHtml(capability)).append(\"</td></tr>\"));", "url": "https://github.com/openhab/openhab-addons/pull/9476#discussion_r556780409", "createdAt": "2021-01-13T19:37:22Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.amazonechocontrol/src/main/java/org/openhab/binding/amazonechocontrol/internal/AccountServlet.java", "diffHunk": "@@ -499,14 +497,8 @@ private void handleIds(HttpServletResponse resp, Connection connection, Device d\n     private void renderCapabilities(Connection connection, Device device, StringBuilder html) {\n         html.append(\"<h2>Capabilities</h2>\");\n         html.append(\"<table><tr><th align='left'>Name</th></tr>\");\n-        String[] capabilities = device.capabilities;\n-        if (capabilities != null) {\n-            for (String capability : capabilities) {\n-                html.append(\"<tr><td>\");\n-                html.append(StringEscapeUtils.escapeHtml(capability));\n-                html.append(\"</td></tr>\");\n-            }\n-        }\n+        device.getCapabilities().forEach(\n+                capability -> html.append(\"<tr><td>\" + StringEscapeUtils.escapeHtml(capability) + \"</td></tr>\"));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "77b4e7e26632f7488487a3f288fba6e94893f0d1"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1Njc4OTk0NQ==", "bodyText": "Done. Also in other places.", "url": "https://github.com/openhab/openhab-addons/pull/9476#discussion_r556789945", "createdAt": "2021-01-13T19:53:50Z", "author": {"login": "J-N-K"}, "path": "bundles/org.openhab.binding.amazonechocontrol/src/main/java/org/openhab/binding/amazonechocontrol/internal/AccountServlet.java", "diffHunk": "@@ -499,14 +497,8 @@ private void handleIds(HttpServletResponse resp, Connection connection, Device d\n     private void renderCapabilities(Connection connection, Device device, StringBuilder html) {\n         html.append(\"<h2>Capabilities</h2>\");\n         html.append(\"<table><tr><th align='left'>Name</th></tr>\");\n-        String[] capabilities = device.capabilities;\n-        if (capabilities != null) {\n-            for (String capability : capabilities) {\n-                html.append(\"<tr><td>\");\n-                html.append(StringEscapeUtils.escapeHtml(capability));\n-                html.append(\"</td></tr>\");\n-            }\n-        }\n+        device.getCapabilities().forEach(\n+                capability -> html.append(\"<tr><td>\" + StringEscapeUtils.escapeHtml(capability) + \"</td></tr>\"));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1Njc4MDQwOQ=="}, "originalCommit": {"oid": "77b4e7e26632f7488487a3f288fba6e94893f0d1"}, "originalPosition": 24}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3496, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}