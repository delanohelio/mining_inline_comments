{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTIwMDAyODcw", "number": 9010, "title": "[omnikinverter]fix missing dispose", "bodyText": "Fixes #8703\nSigned-off-by: Jan N. Klug jan.n.klug@rub.de", "createdAt": "2020-11-12T16:28:10Z", "url": "https://github.com/openhab/openhab-addons/pull/9010", "merged": true, "mergeCommit": {"oid": "d055c057d754930314a9e7d62e4111a30b6c4fc1"}, "closed": true, "closedAt": "2020-11-14T23:27:22Z", "author": {"login": "J-N-K"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdb1H7SgH2gAyNTIwMDAyODcwOjZkMmVhZjNhY2YwYmYxZmE3NDg2NTM2NDQxMWIxNjYzMjVhZDJlZjY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdcXDfwgH2gAyNTIwMDAyODcwOjVlNjQ2MTMyYjc0N2FjNjgyOTNjNTAwNDYyMWM2NDdlNmE2MjVmODA=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "6d2eaf3acf0bf1fa74865364411b166325ad2ef6", "author": {"user": {"login": "J-N-K", "name": null}}, "url": "https://github.com/openhab/openhab-addons/commit/6d2eaf3acf0bf1fa74865364411b166325ad2ef6", "committedDate": "2020-11-12T16:26:49Z", "message": "fix missing dispose\n\nSigned-off-by: Jan N. Klug <jan.n.klug@rub.de>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI5ODEyODE5", "url": "https://github.com/openhab/openhab-addons/pull/9010#pullrequestreview-529812819", "createdAt": "2020-11-13T06:57:34Z", "commit": {"oid": "6d2eaf3acf0bf1fa74865364411b166325ad2ef6"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xM1QwNjo1NzozNFrOHyfF2g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xM1QwNjo1NzozNFrOHyfF2g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjcwMDI1MA==", "bodyText": "flipping then reversing it?", "url": "https://github.com/openhab/openhab-addons/pull/9010#discussion_r522700250", "createdAt": "2020-11-13T06:57:34Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.omnikinverter/src/main/java/org/openhab/binding/omnikinverter/internal/OmnikInverter.java", "diffHunk": "@@ -54,30 +52,21 @@ public OmnikInverterMessage pullCurrentStats() throws UnknownHostException, IOEx\n         }\n     }\n \n-    private byte[] generateMagicPacket() throws IOException {\n-        byte[] magic = { 0x68, 0x02, 0x40, 0x30 };\n-\n+    private byte[] generateMagicPacket() {\n         ByteBuffer serialByteBuffer = ByteBuffer.allocate(8).putInt(serialNumber).putInt(serialNumber);\n-        byte[] serialBytes = serialByteBuffer.array();\n-        // Reverse serialBytes in a very mutable way.\n+        byte[] serialBytes = serialByteBuffer.flip().array();\n         ArrayUtils.reverse(serialBytes);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6d2eaf3acf0bf1fa74865364411b166325ad2ef6"}, "originalPosition": 49}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a50b29c00f0ab8c99cc20bdb0f97599f8c8dd380", "author": {"user": {"login": "J-N-K", "name": null}}, "url": "https://github.com/openhab/openhab-addons/commit/a50b29c00f0ab8c99cc20bdb0f97599f8c8dd380", "committedDate": "2020-11-13T16:19:59Z", "message": "address review comment\n\nSigned-off-by: Jan N. Klug <jan.n.klug@rub.de>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMwNDcxOTgw", "url": "https://github.com/openhab/openhab-addons/pull/9010#pullrequestreview-530471980", "createdAt": "2020-11-13T23:08:38Z", "commit": {"oid": "a50b29c00f0ab8c99cc20bdb0f97599f8c8dd380"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xM1QyMzowODozOFrOHzCYYQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xM1QyMzowODozOFrOHzCYYQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzI3ODQzMw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    pollJob = scheduler.scheduleWithFixedDelay(this::updateData, 0, 10, TimeUnit.SECONDS);\n          \n          \n            \n                    updateStatus(ThingStatus.UNKNOWN);\n          \n          \n            \n                    updateStatus(ThingStatus.UNKNOWN);\n          \n          \n            \n                    pollJob = scheduler.scheduleWithFixedDelay(this::updateData, 0, 10, TimeUnit.SECONDS);", "url": "https://github.com/openhab/openhab-addons/pull/9010#discussion_r523278433", "createdAt": "2020-11-13T23:08:38Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.omnikinverter/src/main/java/org/openhab/binding/omnikinverter/internal/handler/OmnikInverterHandler.java", "diffHunk": "@@ -67,14 +69,19 @@ public void handleCommand(ChannelUID channelUID, Command command) {\n     public void initialize() {\n         OmnikInverterConfiguration config = getConfigAs(OmnikInverterConfiguration.class);\n \n-        try {\n-            inverter = new OmnikInverter(config.hostname, config.port, config.serial);\n-            scheduler.scheduleWithFixedDelay(this::updateData, 0, 10, TimeUnit.SECONDS);\n-        } catch (IOException e) {\n-            logger.debug(\"Could not instantiate OmnikInverter object: {}\", e.getMessage());\n-            updateStatus(ThingStatus.OFFLINE, ThingStatusDetail.HANDLER_INITIALIZING_ERROR,\n-                    \"Failed to initialize: \" + e.getMessage());\n+        inverter = new OmnikInverter(config.hostname, config.port, config.serial);\n+        pollJob = scheduler.scheduleWithFixedDelay(this::updateData, 0, 10, TimeUnit.SECONDS);\n+        updateStatus(ThingStatus.UNKNOWN);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a50b29c00f0ab8c99cc20bdb0f97599f8c8dd380"}, "originalPosition": 35}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5e646132b747ac68293c5004621c647e6a625f80", "author": {"user": {"login": "J-N-K", "name": null}}, "url": "https://github.com/openhab/openhab-addons/commit/5e646132b747ac68293c5004621c647e6a625f80", "committedDate": "2020-11-14T07:58:45Z", "message": "address review comment\n\nSigned-off-by: Jan N. Klug <jan.n.klug@rub.de>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4065, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}