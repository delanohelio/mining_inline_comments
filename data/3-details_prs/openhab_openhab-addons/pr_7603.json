{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE2MjM2NzAx", "number": 7603, "title": "[knx] Fix disposal of DeviceThingHandler", "bodyText": "On disposal of the DeviceThingHandler several scheduled futures were not\ncanceled and internal datastructures were not reset.\nThis leads to a problem if one changes the thing configuration, for example\nvia editing the .things file. Then dispose() and initialize() will be\ncalled and the datastructures will still also contain the old values.\nThis is nasty in cases where one wants to change the group addresses for\nchannels.\nAlso the address field from the AbstractKNXThingHandler was redefined\nin the DeviceThingHandler but never ever set there.\nSigned-off-by: Stefan Triller github@stefantriller.de", "createdAt": "2020-05-11T17:20:28Z", "url": "https://github.com/openhab/openhab-addons/pull/7603", "merged": true, "mergeCommit": {"oid": "7f89a6a182e6aa2c828d92f7f58c036addef210e"}, "closed": true, "closedAt": "2020-05-12T06:32:14Z", "author": {"login": "t2000"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcgTAAsAH2gAyNDE2MjM2NzAxOjczZjhhZDA2ZjA1YzIyOWIzNmU5MGZiYjc1NWE3ZmVkOWMzN2QyYjQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcgeToNgFqTQwOTczMzQ3OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "73f8ad06f05c229b36e90fbb755a7fed9c37d2b4", "author": {"user": {"login": "t2000", "name": "Stefan Triller"}}, "url": "https://github.com/openhab/openhab-addons/commit/73f8ad06f05c229b36e90fbb755a7fed9c37d2b4", "committedDate": "2020-05-11T17:19:52Z", "message": "[knx] Fix disposal of DeviceThingHandler\n\nOn disposal of the DeviceThingHandler several scheduled futures were not\ncanceled and internal datastructures were not reset.\n\nThis leads to a problem if one changes the thing configuration, for example\nvia editing the .things file. Then `dispose()` and `initialize()` will be\ncalled and the datastructures will still also contain the old values.\n\nThis is nasty in cases where one wants to change the group addresses for\nchannels.\n\nAlso the `address` field from the `AbstractKNXThingHandler` was redefined\nin the `DeviceThingHandler` but never ever set there.\n\nSigned-off-by: Stefan Triller <github@stefantriller.de>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA5NDcxMjYz", "url": "https://github.com/openhab/openhab-addons/pull/7603#pullrequestreview-409471263", "createdAt": "2020-05-11T19:37:13Z", "commit": {"oid": "73f8ad06f05c229b36e90fbb755a7fed9c37d2b4"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA5NDcxNTA0", "url": "https://github.com/openhab/openhab-addons/pull/7603#pullrequestreview-409471504", "createdAt": "2020-05-11T19:37:36Z", "commit": {"oid": "73f8ad06f05c229b36e90fbb755a7fed9c37d2b4"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQxOTozNzozNlrOGTqiUA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQxOTozNzozNlrOGTqiUA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzI3MzA0MA==", "bodyText": "super.dispose() should be called last", "url": "https://github.com/openhab/openhab-addons/pull/7603#discussion_r423273040", "createdAt": "2020-05-11T19:37:36Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.knx/src/main/java/org/openhab/binding/knx/internal/handler/DeviceThingHandler.java", "diffHunk": "@@ -97,6 +96,28 @@ private void initializeGroupAddresses() {\n         });\n     }\n \n+    @Override\n+    public void dispose() {\n+        super.dispose();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "73f8ad06f05c229b36e90fbb755a7fed9c37d2b4"}, "originalPosition": 14}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "850620590c2d7438f62dd81dd0cf14247306a59f", "author": {"user": {"login": "t2000", "name": "Stefan Triller"}}, "url": "https://github.com/openhab/openhab-addons/commit/850620590c2d7438f62dd81dd0cf14247306a59f", "committedDate": "2020-05-12T06:27:34Z", "message": "Call super.dispose last\n\nSigned-off-by: Stefan Triller <github@stefantriller.de>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA5NzMzNDc5", "url": "https://github.com/openhab/openhab-addons/pull/7603#pullrequestreview-409733479", "createdAt": "2020-05-12T06:30:15Z", "commit": {"oid": "850620590c2d7438f62dd81dd0cf14247306a59f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 771, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}