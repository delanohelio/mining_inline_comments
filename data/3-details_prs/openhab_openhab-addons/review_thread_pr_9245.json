{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTMzMDIyMDky", "number": 9245, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QyMDozMDoyNFrOFB-StQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QyMDozMDoyNFrOFB-StQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM3NjEzNDkzOnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.velux/src/main/java/org/openhab/binding/velux/internal/things/VeluxProduct.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QyMDozMDoyNFrOIA5Yjw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxNToyNzo1NlrOIBjUaA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzgxMTA4Nw==", "bodyText": "typeId isn't included here anymore?", "url": "https://github.com/openhab/openhab-addons/pull/9245#discussion_r537811087", "createdAt": "2020-12-07T20:30:24Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.velux/src/main/java/org/openhab/binding/velux/internal/things/VeluxProduct.java", "diffHunk": "@@ -217,7 +217,10 @@ public String toString() {\n     // Class helper methods\n \n     public String getProductUniqueIndex() {\n-        return this.name.toString().concat(\"#\").concat(this.typeId.toString());\n+        if (!v2 || serialNumber.startsWith(VeluxProductSerialNo.UNKNOWN)) {\n+            return name.toString();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4668b4ed1fa6896c879bb3849c115be0eabe7d38"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODQ5ODE1Mg==", "bodyText": "Correct. This is explicitly intended.\n{ The uniqueIndex is an attribute that must explicitly identify the device in the hub. The hub knows nothing of OH type ids or other decorations that the binding or the user might apply. The bug in the previous code was precisely because the original coder lost track of the difference between attributes in the hub, and potentially decorated attributes in the binding. This bug fix takes it firmly back to the basics again. }", "url": "https://github.com/openhab/openhab-addons/pull/9245#discussion_r538498152", "createdAt": "2020-12-08T15:27:56Z", "author": {"login": "andrewfg"}, "path": "bundles/org.openhab.binding.velux/src/main/java/org/openhab/binding/velux/internal/things/VeluxProduct.java", "diffHunk": "@@ -217,7 +217,10 @@ public String toString() {\n     // Class helper methods\n \n     public String getProductUniqueIndex() {\n-        return this.name.toString().concat(\"#\").concat(this.typeId.toString());\n+        if (!v2 || serialNumber.startsWith(VeluxProductSerialNo.UNKNOWN)) {\n+            return name.toString();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzgxMTA4Nw=="}, "originalCommit": {"oid": "4668b4ed1fa6896c879bb3849c115be0eabe7d38"}, "originalPosition": 6}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3858, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}