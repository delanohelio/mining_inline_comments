{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ4NDExMzEx", "number": 8120, "title": "[lcn] Make auto discovery use segment id and module id for ThingID", "bodyText": "When using auto discovery modules are now identified by a combination of segment id and module id in the format S<segmentID>M<moduleID> instead by serial number. Serial number is used as representation property (e.g. to identify identical modules when using auto-ignore option in PaperUI). Closes #8097.", "createdAt": "2020-07-13T18:11:56Z", "url": "https://github.com/openhab/openhab-addons/pull/8120", "merged": true, "mergeCommit": {"oid": "a9727cad0fce971192ddf156c8557fc96c072e73"}, "closed": true, "closedAt": "2020-08-01T10:48:17Z", "author": {"login": "toweosp"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc0lV5egH2gAyNDQ4NDExMzExOjI0NTc0MDFkYmYyMzE0ODVlY2YyOTgzZGY4YmUxMWM5YThlYWVkMzg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc6miTYgFqTQ1OTU3MDI2Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "2457401dbf231485ecf2983df8be11c9a8eaed38", "author": {"user": {"login": "toweosp", "name": "Thomas Weiler"}}, "url": "https://github.com/openhab/openhab-addons/commit/2457401dbf231485ecf2983df8be11c9a8eaed38", "committedDate": "2020-07-13T18:00:33Z", "message": "Reference modules by segment id and module/group id instead of serial\nnumber. Serial number is used as representation property.\n\nSigned-off-by: Thomas Weiler <toweosp@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7db7c4aabdc7cddb987e649a4994e71a54c7ea11", "author": {"user": {"login": "toweosp", "name": "Thomas Weiler"}}, "url": "https://github.com/openhab/openhab-addons/commit/7db7c4aabdc7cddb987e649a4994e71a54c7ea11", "committedDate": "2020-07-15T21:55:16Z", "message": "NPE corrected when adding lcn group.\n\nSigned-off-by: Thomas Weiler <toweosp@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "540712c8ff61d712e29828d6d9c0f341c1229705", "author": {"user": {"login": "toweosp", "name": "Thomas Weiler"}}, "url": "https://github.com/openhab/openhab-addons/commit/540712c8ff61d712e29828d6d9c0f341c1229705", "committedDate": "2020-07-15T22:18:15Z", "message": "Corrected ThingTypeUID identification.\n\nSigned-off-by: Thomas Weiler <toweosp@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU0NTI1ODMz", "url": "https://github.com/openhab/openhab-addons/pull/8120#pullrequestreview-454525833", "createdAt": "2020-07-23T22:02:05Z", "commit": {"oid": "540712c8ff61d712e29828d6d9c0f341c1229705"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU1Mzc5MTkx", "url": "https://github.com/openhab/openhab-addons/pull/8120#pullrequestreview-455379191", "createdAt": "2020-07-26T16:48:05Z", "commit": {"oid": "540712c8ff61d712e29828d6d9c0f341c1229705"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNlQxNjo0ODowNlrOG3Nq1g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNlQxNjo0ODowNlrOG3Nq1g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDU0ODgyMg==", "bodyText": "Add leading zeros to achieve sortable Thing IDs.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                        String thingID = String.format(\"S%dM%d\", addr.getSegmentId(), addr.getModuleId());\n          \n          \n            \n                                        String thingID = String.format(\"S%03dM%03d\", addr.getSegmentId(), addr.getModuleId());", "url": "https://github.com/openhab/openhab-addons/pull/8120#discussion_r460548822", "createdAt": "2020-07-26T16:48:06Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.lcn/src/main/java/org/openhab/binding/lcn/internal/LcnModuleDiscoveryService.java", "diffHunk": "@@ -153,8 +153,10 @@ protected void startScan() {\n \n                             ThingUID bridgeUid = localBridgeHandler.getThing().getUID();\n                             String serialNumber = matcher.group(\"sn\");\n-                            ThingUID thingUid = new ThingUID(LcnBindingConstants.THING_TYPE_MODULE, bridgeUid,\n-                                    serialNumber);\n+\n+                            String thingID = String.format(\"S%dM%d\", addr.getSegmentId(), addr.getModuleId());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "540712c8ff61d712e29828d6d9c0f341c1229705"}, "originalPosition": 7}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "72ff2c4293684d1ca5865f3c417908ce9084204b", "author": {"user": {"login": "toweosp", "name": "Thomas Weiler"}}, "url": "https://github.com/openhab/openhab-addons/commit/72ff2c4293684d1ca5865f3c417908ce9084204b", "committedDate": "2020-07-31T14:55:19Z", "message": "Update bundles/org.openhab.binding.lcn/src/main/java/org/openhab/binding/lcn/internal/LcnModuleDiscoveryService.java\n\nChanged ThingUIDs in documentation examples\n\nCo-authored-by: Fabian Wolter <github@fabian-wolter.de>\nSigned-off-by: Thomas Weiler <toweosp@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b88f1d210b3d02cd6e44e7914a73724d02acbcdd", "author": {"user": {"login": "toweosp", "name": "Thomas Weiler"}}, "url": "https://github.com/openhab/openhab-addons/commit/b88f1d210b3d02cd6e44e7914a73724d02acbcdd", "committedDate": "2020-07-31T15:06:33Z", "message": "[lcn] Improve documentation\n\nSigned-off-by: Thomas Weiler <toweosp@gmail.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "add74f6d7cdd511d9a2eafb2e629c7be414eaedd", "author": {"user": {"login": "toweosp", "name": "Thomas Weiler"}}, "url": "https://github.com/openhab/openhab-addons/commit/add74f6d7cdd511d9a2eafb2e629c7be414eaedd", "committedDate": "2020-07-31T14:37:20Z", "message": "Update bundles/org.openhab.binding.lcn/src/main/java/org/openhab/binding/lcn/internal/LcnModuleDiscoveryService.java\n\nCo-authored-by: Fabian Wolter <github@fabian-wolter.de>"}, "afterCommit": {"oid": "b88f1d210b3d02cd6e44e7914a73724d02acbcdd", "author": {"user": {"login": "toweosp", "name": "Thomas Weiler"}}, "url": "https://github.com/openhab/openhab-addons/commit/b88f1d210b3d02cd6e44e7914a73724d02acbcdd", "committedDate": "2020-07-31T15:06:33Z", "message": "[lcn] Improve documentation\n\nSigned-off-by: Thomas Weiler <toweosp@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU5NTcwMjYy", "url": "https://github.com/openhab/openhab-addons/pull/8120#pullrequestreview-459570262", "createdAt": "2020-08-01T10:47:33Z", "commit": {"oid": "b88f1d210b3d02cd6e44e7914a73724d02acbcdd"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 145, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}