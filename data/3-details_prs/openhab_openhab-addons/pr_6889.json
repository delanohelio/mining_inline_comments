{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY1OTgyOTE1", "number": 6889, "title": "[xmltv] Added encoding option", "bodyText": "For me the titles and other String type data will rendered incorrectly, because the encoding was not set correctly.\nThis commit adds the ability to change the encoding of the XMLTV file.", "createdAt": "2020-01-22T17:45:42Z", "url": "https://github.com/openhab/openhab-addons/pull/6889", "merged": true, "mergeCommit": {"oid": "1be49b7c7925a98b755af603fe646de7314fcd75"}, "closed": true, "closedAt": "2020-01-26T17:13:00Z", "author": {"login": "radokristof"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb85avfgH2gAyMzY1OTgyOTE1OjE0Nzc4NWZiNzc5YjI2N2FlNTUwNjg1ZDY1Y2NkNWVlNDBmMmQ3MzE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb-LXbpgFqTM0ODM5MzEwNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "147785fb779b267ae550685d65ccd5ee40f2d731", "author": {"user": {"login": "radokristof", "name": "Kristof Rado"}}, "url": "https://github.com/openhab/openhab-addons/commit/147785fb779b267ae550685d65ccd5ee40f2d731", "committedDate": "2020-01-22T17:44:11Z", "message": "Reworked initalize, added encoding option\n\nSigned-off-by: Kristof Rado <rado.krisi@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b77d4cc1436f5384a0af8f7e3eb7d9e79a743d15", "author": {"user": {"login": "radokristof", "name": "Kristof Rado"}}, "url": "https://github.com/openhab/openhab-addons/commit/b77d4cc1436f5384a0af8f7e3eb7d9e79a743d15", "committedDate": "2020-01-22T17:44:12Z", "message": "Update README, removed unused imports\n\nSigned-off-by: Kristof Rado <rado.krisi@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ2Nzg5Njk0", "url": "https://github.com/openhab/openhab-addons/pull/6889#pullrequestreview-346789694", "createdAt": "2020-01-22T18:01:01Z", "commit": {"oid": "b77d4cc1436f5384a0af8f7e3eb7d9e79a743d15"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMlQxODowMTowMlrOFglodA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMlQxODowMTowMlrOFglodA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTcxNTMxNg==", "bodyText": "Tags are preferred to be on a single line in feature files. Unfortunately spotless put the on a separate line. There is a fix for that, but not yet applied here. So could you put this features rag on a single line.", "url": "https://github.com/openhab/openhab-addons/pull/6889#discussion_r369715316", "createdAt": "2020-01-22T18:01:02Z", "author": {"login": "Hilbrand"}, "path": "bundles/org.openhab.binding.xmltv/src/main/feature/feature.xml", "diffHunk": "@@ -1,10 +1,11 @@\n <?xml version=\"1.0\" encoding=\"UTF-8\"?>\n-<features name=\"org.openhab.binding.xmltv-${project.version}\" xmlns=\"http://karaf.apache.org/xmlns/features/v1.4.0\">\n-    <repository>mvn:org.openhab.core.features.karaf/org.openhab.core.features.karaf.openhab-core/${ohc.version}/xml/features</repository>\n+<features name=\"org.openhab.binding.xmltv-${project.version}\"\n+\txmlns=\"http://karaf.apache.org/xmlns/features/v1.4.0\">", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b77d4cc1436f5384a0af8f7e3eb7d9e79a743d15"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9233bf0f5fd7d02acaf301855bba3c2e8816f1f5", "author": {"user": {"login": "radokristof", "name": "Kristof Rado"}}, "url": "https://github.com/openhab/openhab-addons/commit/9233bf0f5fd7d02acaf301855bba3c2e8816f1f5", "committedDate": "2020-01-22T18:23:28Z", "message": "Fix feature line format\n\nSigned-off-by: Kristof Rado <rado.krisi@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ2ODQxMDIx", "url": "https://github.com/openhab/openhab-addons/pull/6889#pullrequestreview-346841021", "createdAt": "2020-01-22T19:23:20Z", "commit": {"oid": "9233bf0f5fd7d02acaf301855bba3c2e8816f1f5"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMlQxOToyMzoyMFrOFgoF5g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMlQxOToyMzoyMFrOFgoF5g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTc1NTYyMg==", "bodyText": "Is it really needed to have the encoding here? Using FileInputStream should return binary data and in my understanding this should be workling out of the box.", "url": "https://github.com/openhab/openhab-addons/pull/6889#discussion_r369755622", "createdAt": "2020-01-22T19:23:20Z", "author": {"login": "J-N-K"}, "path": "bundles/org.openhab.binding.xmltv/src/main/java/org/openhab/binding/xmltv/internal/handler/XmlTVHandler.java", "diffHunk": "@@ -67,12 +69,11 @@ public void initialize() {\n         logger.debug(\"Initializing {} for input file '{}'\", getClass(), config.filePath);\n \n         reloadJob = scheduler.scheduleWithFixedDelay(() -> {\n-            final StreamSource source = new StreamSource(config.filePath);\n             currentXmlFile = null;\n             XMLStreamReader xsr = null;\n             try {\n                 // This can take some seconds depending upon weight of the XmlTV source file\n-                xsr = xif.createXMLStreamReader(source);\n+                xsr = xif.createXMLStreamReader(new FileInputStream(new File(config.filePath)), config.encoding);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9233bf0f5fd7d02acaf301855bba3c2e8816f1f5"}, "originalPosition": 28}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ3MTA4NDAy", "url": "https://github.com/openhab/openhab-addons/pull/6889#pullrequestreview-347108402", "createdAt": "2020-01-23T07:54:00Z", "commit": {"oid": "9233bf0f5fd7d02acaf301855bba3c2e8816f1f5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ4MzkzMTA3", "url": "https://github.com/openhab/openhab-addons/pull/6889#pullrequestreview-348393107", "createdAt": "2020-01-26T17:12:47Z", "commit": {"oid": "9233bf0f5fd7d02acaf301855bba3c2e8816f1f5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1715, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}