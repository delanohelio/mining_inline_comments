{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg1NjYwODM4", "number": 7131, "title": "[groheondus] Upgrade java API to latest version", "bodyText": "This is a pre-step for supporting more GROHE devices, see #4550 for\nthat. It also enables us to use a more reliable way to login with\nusername/password (even given it relies on the web-based form :P).\nSigned-off-by: Florian florian.schmidt.welzow@t-online.de", "createdAt": "2020-03-09T15:37:24Z", "url": "https://github.com/openhab/openhab-addons/pull/7131", "merged": true, "mergeCommit": {"oid": "2b3aadfd62ff870ebfbe695a92acf9bfb3851b9c"}, "closed": true, "closedAt": "2020-03-11T19:14:14Z", "author": {"login": "FlorianSW"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcL_vDoAH2gAyMzg1NjYwODM4OjM3OGFmMmJkNjllOGYwMmRkZDcxODEzOGJlNmMzNWM1NDQzNmY3NzA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcMsENwAFqTM3MzA1MDc5NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "378af2bd69e8f02ddd718138be6c35c54436f770", "author": {"user": {"login": "FlorianSW", "name": "Florian"}}, "url": "https://github.com/openhab/openhab-addons/commit/378af2bd69e8f02ddd718138be6c35c54436f770", "committedDate": "2020-03-09T15:34:40Z", "message": "[groheondus] Upgrade java API to latest version\n\nThis is a pre-step for supporting more GROHE devices, see #4550 for\nthat. It also enables us to use a more reliable way to login with\nusername/password (even given it relies on the web-based form :P).\n\nSigned-off-by: Florian <florian.schmidt.welzow@t-online.de>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcxNjA0OTg1", "url": "https://github.com/openhab/openhab-addons/pull/7131#pullrequestreview-371604985", "createdAt": "2020-03-10T00:05:35Z", "commit": {"oid": "378af2bd69e8f02ddd718138be6c35c54436f770"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQwMDowNTozNVrOFz9Vzg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQwMDowNTozNVrOFz9Vzg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDAyNjcwMg==", "bodyText": "Given that they are two Appliance classes in the api I would suggest making the namespaces explicit.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            case Appliance.TYPE:\n          \n          \n            \n                            case org.grohe.ondus.api.model.sense.Appliance.TYPE:", "url": "https://github.com/openhab/openhab-addons/pull/7131#discussion_r390026702", "createdAt": "2020-03-10T00:05:35Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.groheondus/src/main/java/org/openhab/binding/groheondus/internal/discovery/GroheOndusDiscoveryService.java", "diffHunk": "@@ -82,10 +79,10 @@ protected void startScan() {\n             ThingUID bridgeUID = bridgeHandler.getThing().getUID();\n             ThingUID thingUID = null;\n             switch (appliance.getType()) {\n-                case SenseGuardAppliance.TYPE:\n+                case org.grohe.ondus.api.model.guard.Appliance.TYPE:\n                     thingUID = new ThingUID(THING_TYPE_SENSEGUARD, appliance.getApplianceId());\n                     break;\n-                case SenseAppliance.TYPE:\n+                case Appliance.TYPE:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "378af2bd69e8f02ddd718138be6c35c54436f770"}, "originalPosition": 30}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aabf4ee297d8240b521661624328f135404e300f", "author": {"user": {"login": "FlorianSW", "name": "Florian"}}, "url": "https://github.com/openhab/openhab-addons/commit/aabf4ee297d8240b521661624328f135404e300f", "committedDate": "2020-03-10T10:36:14Z", "message": "Implement review comments\n\nSigned-off-by: Florian <florian.schmidt.welzow@t-online.de>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcyMTE1NjY0", "url": "https://github.com/openhab/openhab-addons/pull/7131#pullrequestreview-372115664", "createdAt": "2020-03-10T16:24:45Z", "commit": {"oid": "aabf4ee297d8240b521661624328f135404e300f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQxNjoyNDo0NVrOF0WwZA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQxNjoyNDo0NVrOF0WwZA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDQ0MzEwOA==", "bodyText": "This change is functionally equivalent though right?", "url": "https://github.com/openhab/openhab-addons/pull/7131#discussion_r390443108", "createdAt": "2020-03-10T16:24:45Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.groheondus/src/main/java/org/openhab/binding/groheondus/internal/handler/GroheOndusAccountHandler.java", "diffHunk": "@@ -142,7 +142,9 @@ public void initialize() {\n                 ondusService = OndusService.login(storage.get(STORAGE_KEY_REFRESH_TOKEN));\n                 scheduleTokenRefresh();\n             } else {\n-                ondusService = OndusService.login(config.username, config.password);\n+                // TODO: That's probably really inefficient, internally the loginWebform method acquires a refresh\n+                // token, maybe there should be a way to obtain this token here, somehow.\n+                ondusService = OndusService.loginWebform(config.username, config.password);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "aabf4ee297d8240b521661624328f135404e300f"}, "originalPosition": 7}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzczMDUwNzk1", "url": "https://github.com/openhab/openhab-addons/pull/7131#pullrequestreview-373050795", "createdAt": "2020-03-11T19:13:36Z", "commit": {"oid": "aabf4ee297d8240b521661624328f135404e300f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1129, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}