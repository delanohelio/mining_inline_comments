{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIxMDU0ODM5", "number": 7708, "reviewThreads": {"totalCount": 15, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxODoxNDoxM1rOD-svTg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxODo1MDowMlrOD-tcuA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY3MDcxMzEwOnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.daikin/src/main/resources/ESH-INF/thing/thing-types.xml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxODoxNDoxNFrOGY9hkw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxOTozNDowMVrOGZADjQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODgyNzAyNw==", "bodyText": "The first letter of every word in a label should be capitalized.", "url": "https://github.com/openhab/openhab-addons/pull/7708#discussion_r428827027", "createdAt": "2020-05-21T18:14:14Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.daikin/src/main/resources/ESH-INF/thing/thing-types.xml", "diffHunk": "@@ -147,6 +173,172 @@\n \t\t\t</options>\n \t\t</state>\n \t</channel-type>\n+\t\n+\t<channel-type id=\"acunit-cmpfrequency\" advanced=\"true\">\n+\t\t<item-type>Number</item-type>\n+\t\t<label>Compressor Frequency</label>\n+\t\t<description>Current compressor frequency</description>\n+\t\t<state readOnly=\"true\" pattern=\"%.0f%%\"></state>\n+\t</channel-type>\n+\t<channel-type id=\"acunit-specialmode\" advanced=\"true\">\n+\t\t<item-type>String</item-type>\n+\t\t<label>Special mode</label>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "39e6030a6caabcde5477cd04b795ff414fd1547f"}, "originalPosition": 60}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODg2ODQ5Mw==", "bodyText": "Fixed.", "url": "https://github.com/openhab/openhab-addons/pull/7708#discussion_r428868493", "createdAt": "2020-05-21T19:34:01Z", "author": {"login": "LukasA83"}, "path": "bundles/org.openhab.binding.daikin/src/main/resources/ESH-INF/thing/thing-types.xml", "diffHunk": "@@ -147,6 +173,172 @@\n \t\t\t</options>\n \t\t</state>\n \t</channel-type>\n+\t\n+\t<channel-type id=\"acunit-cmpfrequency\" advanced=\"true\">\n+\t\t<item-type>Number</item-type>\n+\t\t<label>Compressor Frequency</label>\n+\t\t<description>Current compressor frequency</description>\n+\t\t<state readOnly=\"true\" pattern=\"%.0f%%\"></state>\n+\t</channel-type>\n+\t<channel-type id=\"acunit-specialmode\" advanced=\"true\">\n+\t\t<item-type>String</item-type>\n+\t\t<label>Special mode</label>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODgyNzAyNw=="}, "originalCommit": {"oid": "39e6030a6caabcde5477cd04b795ff414fd1547f"}, "originalPosition": 60}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY3MDcxMzM3OnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.daikin/src/main/resources/ESH-INF/thing/thing-types.xml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxODoxNDoyMFrOGY9hyA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxOTozNDowOVrOGZAD0Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODgyNzA4MA==", "bodyText": "here to", "url": "https://github.com/openhab/openhab-addons/pull/7708#discussion_r428827080", "createdAt": "2020-05-21T18:14:20Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.daikin/src/main/resources/ESH-INF/thing/thing-types.xml", "diffHunk": "@@ -147,6 +173,172 @@\n \t\t\t</options>\n \t\t</state>\n \t</channel-type>\n+\t\n+\t<channel-type id=\"acunit-cmpfrequency\" advanced=\"true\">\n+\t\t<item-type>Number</item-type>\n+\t\t<label>Compressor Frequency</label>\n+\t\t<description>Current compressor frequency</description>\n+\t\t<state readOnly=\"true\" pattern=\"%.0f%%\"></state>\n+\t</channel-type>\n+\t<channel-type id=\"acunit-specialmode\" advanced=\"true\">\n+\t\t<item-type>String</item-type>\n+\t\t<label>Special mode</label>\n+\t\t<description>Current special mode</description>\n+\t\t<state readOnly=\"true\" pattern=\"%s\"></state>\n+\t</channel-type>\n+\t<channel-type id=\"acunit-specialmode-powerful\" advanced=\"true\">\n+\t\t<item-type>Switch</item-type>\n+\t\t<label>Powerful mode</label>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "39e6030a6caabcde5477cd04b795ff414fd1547f"}, "originalPosition": 66}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODg2ODU2MQ==", "bodyText": "Fixed.", "url": "https://github.com/openhab/openhab-addons/pull/7708#discussion_r428868561", "createdAt": "2020-05-21T19:34:09Z", "author": {"login": "LukasA83"}, "path": "bundles/org.openhab.binding.daikin/src/main/resources/ESH-INF/thing/thing-types.xml", "diffHunk": "@@ -147,6 +173,172 @@\n \t\t\t</options>\n \t\t</state>\n \t</channel-type>\n+\t\n+\t<channel-type id=\"acunit-cmpfrequency\" advanced=\"true\">\n+\t\t<item-type>Number</item-type>\n+\t\t<label>Compressor Frequency</label>\n+\t\t<description>Current compressor frequency</description>\n+\t\t<state readOnly=\"true\" pattern=\"%.0f%%\"></state>\n+\t</channel-type>\n+\t<channel-type id=\"acunit-specialmode\" advanced=\"true\">\n+\t\t<item-type>String</item-type>\n+\t\t<label>Special mode</label>\n+\t\t<description>Current special mode</description>\n+\t\t<state readOnly=\"true\" pattern=\"%s\"></state>\n+\t</channel-type>\n+\t<channel-type id=\"acunit-specialmode-powerful\" advanced=\"true\">\n+\t\t<item-type>Switch</item-type>\n+\t\t<label>Powerful mode</label>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODgyNzA4MA=="}, "originalCommit": {"oid": "39e6030a6caabcde5477cd04b795ff414fd1547f"}, "originalPosition": 66}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY3MDcyMTMxOnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.daikin/src/main/resources/ESH-INF/thing/thing-types.xml", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxODoxNjozNVrOGY9msg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMlQwMzo1NDoxMlrOGZJ4VA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODgyODMzOA==", "bodyText": "Perhaps you should make two channel groups; one for energyheating and another for energycooling.", "url": "https://github.com/openhab/openhab-addons/pull/7708#discussion_r428828338", "createdAt": "2020-05-21T18:16:35Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.daikin/src/main/resources/ESH-INF/thing/thing-types.xml", "diffHunk": "@@ -18,6 +18,33 @@\n \t\t\t<channel id=\"homekitmode\" typeId=\"acunit-homekitmode\"/>\n \t\t\t<channel id=\"fanspeed\" typeId=\"acunit-fan\"/>\n \t\t\t<channel id=\"fandir\" typeId=\"acunit-fandir\"/>\n+\t\t\t<channel id=\"cmpfrequency\" typeId=\"acunit-cmpfrequency\"></channel>\n+\t\t\t<channel id=\"specialmode\" typeId=\"acunit-specialmode\"></channel>\n+\t\t\t<channel id=\"specialmode-powerful\" typeId=\"acunit-specialmode-powerful\"></channel>\n+\t\t\t<channel id=\"energyheatingcurrentyear-1\" typeId=\"acunit-energyheatingcurrentyear-1\"></channel>\n+\t\t\t<channel id=\"energyheatingcurrentyear-2\" typeId=\"acunit-energyheatingcurrentyear-2\"></channel>\n+\t\t\t<channel id=\"energyheatingcurrentyear-3\" typeId=\"acunit-energyheatingcurrentyear-3\"></channel>\n+\t\t\t<channel id=\"energyheatingcurrentyear-4\" typeId=\"acunit-energyheatingcurrentyear-4\"></channel>\n+\t\t\t<channel id=\"energyheatingcurrentyear-5\" typeId=\"acunit-energyheatingcurrentyear-5\"></channel>\n+\t\t\t<channel id=\"energyheatingcurrentyear-6\" typeId=\"acunit-energyheatingcurrentyear-6\"></channel>\n+\t\t\t<channel id=\"energyheatingcurrentyear-7\" typeId=\"acunit-energyheatingcurrentyear-7\"></channel>\n+\t\t\t<channel id=\"energyheatingcurrentyear-8\" typeId=\"acunit-energyheatingcurrentyear-8\"></channel>\n+\t\t\t<channel id=\"energyheatingcurrentyear-9\" typeId=\"acunit-energyheatingcurrentyear-9\"></channel>\n+\t\t\t<channel id=\"energyheatingcurrentyear-10\" typeId=\"acunit-energyheatingcurrentyear-10\"></channel>\n+\t\t\t<channel id=\"energyheatingcurrentyear-11\" typeId=\"acunit-energyheatingcurrentyear-11\"></channel>\n+\t\t\t<channel id=\"energyheatingcurrentyear-12\" typeId=\"acunit-energyheatingcurrentyear-12\"></channel>\n+\t\t\t<channel id=\"energycoolingcurrentyear-1\" typeId=\"acunit-energycoolingcurrentyear-1\"></channel>\n+\t\t\t<channel id=\"energycoolingcurrentyear-2\" typeId=\"acunit-energycoolingcurrentyear-2\"></channel>\n+\t\t\t<channel id=\"energycoolingcurrentyear-3\" typeId=\"acunit-energycoolingcurrentyear-3\"></channel>\n+\t\t\t<channel id=\"energycoolingcurrentyear-4\" typeId=\"acunit-energycoolingcurrentyear-4\"></channel>\n+\t\t\t<channel id=\"energycoolingcurrentyear-5\" typeId=\"acunit-energycoolingcurrentyear-5\"></channel>\n+\t\t\t<channel id=\"energycoolingcurrentyear-6\" typeId=\"acunit-energycoolingcurrentyear-6\"></channel>\n+\t\t\t<channel id=\"energycoolingcurrentyear-7\" typeId=\"acunit-energycoolingcurrentyear-7\"></channel>\n+\t\t\t<channel id=\"energycoolingcurrentyear-8\" typeId=\"acunit-energycoolingcurrentyear-8\"></channel>\n+\t\t\t<channel id=\"energycoolingcurrentyear-9\" typeId=\"acunit-energycoolingcurrentyear-9\"></channel>\n+\t\t\t<channel id=\"energycoolingcurrentyear-10\" typeId=\"acunit-energycoolingcurrentyear-10\"></channel>\n+\t\t\t<channel id=\"energycoolingcurrentyear-11\" typeId=\"acunit-energycoolingcurrentyear-11\"></channel>\n+\t\t\t<channel id=\"energycoolingcurrentyear-12\" typeId=\"acunit-energycoolingcurrentyear-12\"></channel>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "39e6030a6caabcde5477cd04b795ff414fd1547f"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODg1OTg3MA==", "bodyText": "From the openhab documentation my understanding is either direct channels or channel groups. Am I wrong?\nopenhab docs\n\nA thing can only have direct channels or channel groups, but not both", "url": "https://github.com/openhab/openhab-addons/pull/7708#discussion_r428859870", "createdAt": "2020-05-21T19:17:00Z", "author": {"login": "LukasA83"}, "path": "bundles/org.openhab.binding.daikin/src/main/resources/ESH-INF/thing/thing-types.xml", "diffHunk": "@@ -18,6 +18,33 @@\n \t\t\t<channel id=\"homekitmode\" typeId=\"acunit-homekitmode\"/>\n \t\t\t<channel id=\"fanspeed\" typeId=\"acunit-fan\"/>\n \t\t\t<channel id=\"fandir\" typeId=\"acunit-fandir\"/>\n+\t\t\t<channel id=\"cmpfrequency\" typeId=\"acunit-cmpfrequency\"></channel>\n+\t\t\t<channel id=\"specialmode\" typeId=\"acunit-specialmode\"></channel>\n+\t\t\t<channel id=\"specialmode-powerful\" typeId=\"acunit-specialmode-powerful\"></channel>\n+\t\t\t<channel id=\"energyheatingcurrentyear-1\" typeId=\"acunit-energyheatingcurrentyear-1\"></channel>\n+\t\t\t<channel id=\"energyheatingcurrentyear-2\" typeId=\"acunit-energyheatingcurrentyear-2\"></channel>\n+\t\t\t<channel id=\"energyheatingcurrentyear-3\" typeId=\"acunit-energyheatingcurrentyear-3\"></channel>\n+\t\t\t<channel id=\"energyheatingcurrentyear-4\" typeId=\"acunit-energyheatingcurrentyear-4\"></channel>\n+\t\t\t<channel id=\"energyheatingcurrentyear-5\" typeId=\"acunit-energyheatingcurrentyear-5\"></channel>\n+\t\t\t<channel id=\"energyheatingcurrentyear-6\" typeId=\"acunit-energyheatingcurrentyear-6\"></channel>\n+\t\t\t<channel id=\"energyheatingcurrentyear-7\" typeId=\"acunit-energyheatingcurrentyear-7\"></channel>\n+\t\t\t<channel id=\"energyheatingcurrentyear-8\" typeId=\"acunit-energyheatingcurrentyear-8\"></channel>\n+\t\t\t<channel id=\"energyheatingcurrentyear-9\" typeId=\"acunit-energyheatingcurrentyear-9\"></channel>\n+\t\t\t<channel id=\"energyheatingcurrentyear-10\" typeId=\"acunit-energyheatingcurrentyear-10\"></channel>\n+\t\t\t<channel id=\"energyheatingcurrentyear-11\" typeId=\"acunit-energyheatingcurrentyear-11\"></channel>\n+\t\t\t<channel id=\"energyheatingcurrentyear-12\" typeId=\"acunit-energyheatingcurrentyear-12\"></channel>\n+\t\t\t<channel id=\"energycoolingcurrentyear-1\" typeId=\"acunit-energycoolingcurrentyear-1\"></channel>\n+\t\t\t<channel id=\"energycoolingcurrentyear-2\" typeId=\"acunit-energycoolingcurrentyear-2\"></channel>\n+\t\t\t<channel id=\"energycoolingcurrentyear-3\" typeId=\"acunit-energycoolingcurrentyear-3\"></channel>\n+\t\t\t<channel id=\"energycoolingcurrentyear-4\" typeId=\"acunit-energycoolingcurrentyear-4\"></channel>\n+\t\t\t<channel id=\"energycoolingcurrentyear-5\" typeId=\"acunit-energycoolingcurrentyear-5\"></channel>\n+\t\t\t<channel id=\"energycoolingcurrentyear-6\" typeId=\"acunit-energycoolingcurrentyear-6\"></channel>\n+\t\t\t<channel id=\"energycoolingcurrentyear-7\" typeId=\"acunit-energycoolingcurrentyear-7\"></channel>\n+\t\t\t<channel id=\"energycoolingcurrentyear-8\" typeId=\"acunit-energycoolingcurrentyear-8\"></channel>\n+\t\t\t<channel id=\"energycoolingcurrentyear-9\" typeId=\"acunit-energycoolingcurrentyear-9\"></channel>\n+\t\t\t<channel id=\"energycoolingcurrentyear-10\" typeId=\"acunit-energycoolingcurrentyear-10\"></channel>\n+\t\t\t<channel id=\"energycoolingcurrentyear-11\" typeId=\"acunit-energycoolingcurrentyear-11\"></channel>\n+\t\t\t<channel id=\"energycoolingcurrentyear-12\" typeId=\"acunit-energycoolingcurrentyear-12\"></channel>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODgyODMzOA=="}, "originalCommit": {"oid": "39e6030a6caabcde5477cd04b795ff414fd1547f"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTAyOTQ2MA==", "bodyText": "Ok, I was not aware of that restriction. It doesn't make much sense to me why it would be like that so I'll have to look into it. Thanks for pointing that out.", "url": "https://github.com/openhab/openhab-addons/pull/7708#discussion_r429029460", "createdAt": "2020-05-22T03:54:12Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.daikin/src/main/resources/ESH-INF/thing/thing-types.xml", "diffHunk": "@@ -18,6 +18,33 @@\n \t\t\t<channel id=\"homekitmode\" typeId=\"acunit-homekitmode\"/>\n \t\t\t<channel id=\"fanspeed\" typeId=\"acunit-fan\"/>\n \t\t\t<channel id=\"fandir\" typeId=\"acunit-fandir\"/>\n+\t\t\t<channel id=\"cmpfrequency\" typeId=\"acunit-cmpfrequency\"></channel>\n+\t\t\t<channel id=\"specialmode\" typeId=\"acunit-specialmode\"></channel>\n+\t\t\t<channel id=\"specialmode-powerful\" typeId=\"acunit-specialmode-powerful\"></channel>\n+\t\t\t<channel id=\"energyheatingcurrentyear-1\" typeId=\"acunit-energyheatingcurrentyear-1\"></channel>\n+\t\t\t<channel id=\"energyheatingcurrentyear-2\" typeId=\"acunit-energyheatingcurrentyear-2\"></channel>\n+\t\t\t<channel id=\"energyheatingcurrentyear-3\" typeId=\"acunit-energyheatingcurrentyear-3\"></channel>\n+\t\t\t<channel id=\"energyheatingcurrentyear-4\" typeId=\"acunit-energyheatingcurrentyear-4\"></channel>\n+\t\t\t<channel id=\"energyheatingcurrentyear-5\" typeId=\"acunit-energyheatingcurrentyear-5\"></channel>\n+\t\t\t<channel id=\"energyheatingcurrentyear-6\" typeId=\"acunit-energyheatingcurrentyear-6\"></channel>\n+\t\t\t<channel id=\"energyheatingcurrentyear-7\" typeId=\"acunit-energyheatingcurrentyear-7\"></channel>\n+\t\t\t<channel id=\"energyheatingcurrentyear-8\" typeId=\"acunit-energyheatingcurrentyear-8\"></channel>\n+\t\t\t<channel id=\"energyheatingcurrentyear-9\" typeId=\"acunit-energyheatingcurrentyear-9\"></channel>\n+\t\t\t<channel id=\"energyheatingcurrentyear-10\" typeId=\"acunit-energyheatingcurrentyear-10\"></channel>\n+\t\t\t<channel id=\"energyheatingcurrentyear-11\" typeId=\"acunit-energyheatingcurrentyear-11\"></channel>\n+\t\t\t<channel id=\"energyheatingcurrentyear-12\" typeId=\"acunit-energyheatingcurrentyear-12\"></channel>\n+\t\t\t<channel id=\"energycoolingcurrentyear-1\" typeId=\"acunit-energycoolingcurrentyear-1\"></channel>\n+\t\t\t<channel id=\"energycoolingcurrentyear-2\" typeId=\"acunit-energycoolingcurrentyear-2\"></channel>\n+\t\t\t<channel id=\"energycoolingcurrentyear-3\" typeId=\"acunit-energycoolingcurrentyear-3\"></channel>\n+\t\t\t<channel id=\"energycoolingcurrentyear-4\" typeId=\"acunit-energycoolingcurrentyear-4\"></channel>\n+\t\t\t<channel id=\"energycoolingcurrentyear-5\" typeId=\"acunit-energycoolingcurrentyear-5\"></channel>\n+\t\t\t<channel id=\"energycoolingcurrentyear-6\" typeId=\"acunit-energycoolingcurrentyear-6\"></channel>\n+\t\t\t<channel id=\"energycoolingcurrentyear-7\" typeId=\"acunit-energycoolingcurrentyear-7\"></channel>\n+\t\t\t<channel id=\"energycoolingcurrentyear-8\" typeId=\"acunit-energycoolingcurrentyear-8\"></channel>\n+\t\t\t<channel id=\"energycoolingcurrentyear-9\" typeId=\"acunit-energycoolingcurrentyear-9\"></channel>\n+\t\t\t<channel id=\"energycoolingcurrentyear-10\" typeId=\"acunit-energycoolingcurrentyear-10\"></channel>\n+\t\t\t<channel id=\"energycoolingcurrentyear-11\" typeId=\"acunit-energycoolingcurrentyear-11\"></channel>\n+\t\t\t<channel id=\"energycoolingcurrentyear-12\" typeId=\"acunit-energycoolingcurrentyear-12\"></channel>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODgyODMzOA=="}, "originalCommit": {"oid": "39e6030a6caabcde5477cd04b795ff414fd1547f"}, "originalPosition": 30}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY3MDczMTgxOnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.daikin/src/main/java/org/openhab/binding/daikin/internal/handler/DaikinBaseHandler.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxODoxOTo0M1rOGY9tcA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxOTozNDoxOFrOGZAEOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODgzMDA2NA==", "bodyText": "I don't know why you are passing in the decimal type into the quantity type. I'm pretty sure you don't need to do that.\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    updateState(channel, maybeTemperature.<State>map(t -> new QuantityType<>(new DecimalType(t), SIUnits.CELSIUS))\n          \n          \n            \n                    updateState(channel, maybeTemperature.<State>map(t -> new QuantityType<>(t, SIUnits.CELSIUS))", "url": "https://github.com/openhab/openhab-addons/pull/7708#discussion_r428830064", "createdAt": "2020-05-21T18:19:43Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.daikin/src/main/java/org/openhab/binding/daikin/internal/handler/DaikinBaseHandler.java", "diffHunk": "@@ -201,7 +203,7 @@ private synchronized void poll() {\n     }\n \n     protected void updateTemperatureChannel(String channel, Optional<Double> maybeTemperature) {\n-        updateState(channel, maybeTemperature.<State> map(t -> new QuantityType<>(new DecimalType(t), SIUnits.CELSIUS))\n+        updateState(channel, maybeTemperature.<State>map(t -> new QuantityType<>(new DecimalType(t), SIUnits.CELSIUS))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "39e6030a6caabcde5477cd04b795ff414fd1547f"}, "originalPosition": 36}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODg2ODY2NA==", "bodyText": "Fixed.", "url": "https://github.com/openhab/openhab-addons/pull/7708#discussion_r428868664", "createdAt": "2020-05-21T19:34:18Z", "author": {"login": "LukasA83"}, "path": "bundles/org.openhab.binding.daikin/src/main/java/org/openhab/binding/daikin/internal/handler/DaikinBaseHandler.java", "diffHunk": "@@ -201,7 +203,7 @@ private synchronized void poll() {\n     }\n \n     protected void updateTemperatureChannel(String channel, Optional<Double> maybeTemperature) {\n-        updateState(channel, maybeTemperature.<State> map(t -> new QuantityType<>(new DecimalType(t), SIUnits.CELSIUS))\n+        updateState(channel, maybeTemperature.<State>map(t -> new QuantityType<>(new DecimalType(t), SIUnits.CELSIUS))", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODgzMDA2NA=="}, "originalCommit": {"oid": "39e6030a6caabcde5477cd04b795ff414fd1547f"}, "originalPosition": 36}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY3MDc0MDk0OnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.daikin/src/main/java/org/openhab/binding/daikin/internal/handler/DaikinAcUnitHandler.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxODoyMjozMVrOGY9zUQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxOTozNTozN1rOGZAGww==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODgzMTU2OQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                            t -> new QuantityType<>(new DecimalType(BigDecimal.valueOf(t[i - 1].longValue(), 1)),\n          \n          \n            \n                                            t -> new QuantityType<>(BigDecimal.valueOf(t[i - 1].longValue(), 1),", "url": "https://github.com/openhab/openhab-addons/pull/7708#discussion_r428831569", "createdAt": "2020-05-21T18:22:31Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.daikin/src/main/java/org/openhab/binding/daikin/internal/handler/DaikinAcUnitHandler.java", "diffHunk": "@@ -160,6 +216,35 @@ protected void changeFanDir(String fanDir) throws DaikinCommunicationException {\n         webTargets.setControlInfo(info);\n     }\n \n+    /**\n+     *\n+     * @param powerfulMode\n+     * @return Is change successful\n+     * @throws DaikinCommunicationException\n+     */\n+    protected boolean changeSpecialModePowerful(boolean powerfulMode) throws DaikinCommunicationException {\n+\n+        return webTargets.setSpecialMode(SpecialModeKind.POWERFUL, powerfulMode);\n+    }\n+\n+    /**\n+     * Updates energy year channels. Values are provided in hundreds of Watt\n+     *\n+     * @param channelPrefix\n+     * @param maybePower\n+     */\n+    protected void updateEnergyYearChannel(String channelPrefix, Optional<Integer[]> maybePower) {\n+        IntStream.range(1, 13).forEach(\n+                i -> updateState(String.format(DaikinBindingConstants.CHANNEL_ENERGY_STRING_FORMAT, channelPrefix, i),\n+                        maybePower.<State>map(\n+                                t -> new QuantityType<>(new DecimalType(BigDecimal.valueOf(t[i - 1].longValue(), 1)),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "39e6030a6caabcde5477cd04b795ff414fd1547f"}, "originalPosition": 198}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODg2OTMxNQ==", "bodyText": "Fixed.", "url": "https://github.com/openhab/openhab-addons/pull/7708#discussion_r428869315", "createdAt": "2020-05-21T19:35:37Z", "author": {"login": "LukasA83"}, "path": "bundles/org.openhab.binding.daikin/src/main/java/org/openhab/binding/daikin/internal/handler/DaikinAcUnitHandler.java", "diffHunk": "@@ -160,6 +216,35 @@ protected void changeFanDir(String fanDir) throws DaikinCommunicationException {\n         webTargets.setControlInfo(info);\n     }\n \n+    /**\n+     *\n+     * @param powerfulMode\n+     * @return Is change successful\n+     * @throws DaikinCommunicationException\n+     */\n+    protected boolean changeSpecialModePowerful(boolean powerfulMode) throws DaikinCommunicationException {\n+\n+        return webTargets.setSpecialMode(SpecialModeKind.POWERFUL, powerfulMode);\n+    }\n+\n+    /**\n+     * Updates energy year channels. Values are provided in hundreds of Watt\n+     *\n+     * @param channelPrefix\n+     * @param maybePower\n+     */\n+    protected void updateEnergyYearChannel(String channelPrefix, Optional<Integer[]> maybePower) {\n+        IntStream.range(1, 13).forEach(\n+                i -> updateState(String.format(DaikinBindingConstants.CHANNEL_ENERGY_STRING_FORMAT, channelPrefix, i),\n+                        maybePower.<State>map(\n+                                t -> new QuantityType<>(new DecimalType(BigDecimal.valueOf(t[i - 1].longValue(), 1)),", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODgzMTU2OQ=="}, "originalCommit": {"oid": "39e6030a6caabcde5477cd04b795ff414fd1547f"}, "originalPosition": 198}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY3MDc0NjAyOnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.daikin/src/main/java/org/openhab/binding/daikin/internal/handler/DaikinAcUnitHandler.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxODoyMzo1NlrOGY92gQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxOTo0MjoyNlrOGZAUIA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODgzMjM4NQ==", "bodyText": "remove blank line", "url": "https://github.com/openhab/openhab-addons/pull/7708#discussion_r428832385", "createdAt": "2020-05-21T18:23:56Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.daikin/src/main/java/org/openhab/binding/daikin/internal/handler/DaikinAcUnitHandler.java", "diffHunk": "@@ -160,6 +216,35 @@ protected void changeFanDir(String fanDir) throws DaikinCommunicationException {\n         webTargets.setControlInfo(info);\n     }\n \n+    /**\n+     *\n+     * @param powerfulMode\n+     * @return Is change successful\n+     * @throws DaikinCommunicationException\n+     */\n+    protected boolean changeSpecialModePowerful(boolean powerfulMode) throws DaikinCommunicationException {\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "39e6030a6caabcde5477cd04b795ff414fd1547f"}, "originalPosition": 184}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODg3MjczNg==", "bodyText": "Done.", "url": "https://github.com/openhab/openhab-addons/pull/7708#discussion_r428872736", "createdAt": "2020-05-21T19:42:26Z", "author": {"login": "LukasA83"}, "path": "bundles/org.openhab.binding.daikin/src/main/java/org/openhab/binding/daikin/internal/handler/DaikinAcUnitHandler.java", "diffHunk": "@@ -160,6 +216,35 @@ protected void changeFanDir(String fanDir) throws DaikinCommunicationException {\n         webTargets.setControlInfo(info);\n     }\n \n+    /**\n+     *\n+     * @param powerfulMode\n+     * @return Is change successful\n+     * @throws DaikinCommunicationException\n+     */\n+    protected boolean changeSpecialModePowerful(boolean powerfulMode) throws DaikinCommunicationException {\n+", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODgzMjM4NQ=="}, "originalCommit": {"oid": "39e6030a6caabcde5477cd04b795ff414fd1547f"}, "originalPosition": 184}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY3MDc1NTU1OnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.daikin/src/main/resources/ESH-INF/thing/thing-types.xml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxODoyNjo0OFrOGY98gA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxOTo0MjoxOFrOGZAT2Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODgzMzkyMA==", "bodyText": "Please use units where possible.\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\t<item-type>Number</item-type>\n          \n          \n            \n            \t\t<item-type>Number:Frequency</item-type>\n          \n      \n    \n    \n  \n\nYou will also need to update your code accordingly to use QuantityType for this channel instead.", "url": "https://github.com/openhab/openhab-addons/pull/7708#discussion_r428833920", "createdAt": "2020-05-21T18:26:48Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.daikin/src/main/resources/ESH-INF/thing/thing-types.xml", "diffHunk": "@@ -147,6 +173,172 @@\n \t\t\t</options>\n \t\t</state>\n \t</channel-type>\n+\t\n+\t<channel-type id=\"acunit-cmpfrequency\" advanced=\"true\">\n+\t\t<item-type>Number</item-type>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "39e6030a6caabcde5477cd04b795ff414fd1547f"}, "originalPosition": 53}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODg3MjY2NQ==", "bodyText": "Corrected to dimensionless", "url": "https://github.com/openhab/openhab-addons/pull/7708#discussion_r428872665", "createdAt": "2020-05-21T19:42:18Z", "author": {"login": "LukasA83"}, "path": "bundles/org.openhab.binding.daikin/src/main/resources/ESH-INF/thing/thing-types.xml", "diffHunk": "@@ -147,6 +173,172 @@\n \t\t\t</options>\n \t\t</state>\n \t</channel-type>\n+\t\n+\t<channel-type id=\"acunit-cmpfrequency\" advanced=\"true\">\n+\t\t<item-type>Number</item-type>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODgzMzkyMA=="}, "originalCommit": {"oid": "39e6030a6caabcde5477cd04b795ff414fd1547f"}, "originalPosition": 53}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY3MDc2MTc2OnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.daikin/src/main/java/org/openhab/binding/daikin/internal/handler/DaikinAcUnitHandler.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxODoyODo0MlrOGY-Agw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxOTo0MTo1MFrOGZAS4Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODgzNDk0Nw==", "bodyText": "humidity should use QuantityType with SmartHomeUnits.PERCENT units.\nNote: Changing this might be outside the scope of this PR so you are free to skip this change.", "url": "https://github.com/openhab/openhab-addons/pull/7708#discussion_r428834947", "createdAt": "2020-05-21T18:28:42Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.daikin/src/main/java/org/openhab/binding/daikin/internal/handler/DaikinAcUnitHandler.java", "diffHunk": "@@ -44,49 +50,93 @@\n  *\n  * @author Tim Waterhouse - Initial Contribution\n  * @author Paul Smedley <paul@smedley.id.au> - Modifications to support Airbase Controllers\n- *\n+ * @author Lukas Agethen - Added support for Energy Year reading, compressor frequency and powerful mode\n  */\n @NonNullByDefault\n public class DaikinAcUnitHandler extends DaikinBaseHandler {\n     private final Logger logger = LoggerFactory.getLogger(DaikinAcUnitHandler.class);\n \n-    public DaikinAcUnitHandler(Thing thing, DaikinDynamicStateDescriptionProvider stateDescriptionProvider, @Nullable HttpClient httpClient) {\n+    public DaikinAcUnitHandler(Thing thing, DaikinDynamicStateDescriptionProvider stateDescriptionProvider,\n+            @Nullable HttpClient httpClient) {\n         super(thing, stateDescriptionProvider, httpClient);\n     }\n \n     @Override\n     protected void pollStatus() throws IOException {\n-        ControlInfo controlInfo = webTargets.getControlInfo();\n-        updateStatus(ThingStatus.ONLINE);\n-        if (controlInfo != null) {\n-            updateState(DaikinBindingConstants.CHANNEL_AC_POWER, controlInfo.power ? OnOffType.ON : OnOffType.OFF);\n-            updateTemperatureChannel(DaikinBindingConstants.CHANNEL_AC_TEMP, controlInfo.temp);\n-\n-            updateState(DaikinBindingConstants.CHANNEL_AC_MODE, new StringType(controlInfo.mode.name()));\n-            updateState(DaikinBindingConstants.CHANNEL_AC_FAN_SPEED, new StringType(controlInfo.fanSpeed.name()));\n-            updateState(DaikinBindingConstants.CHANNEL_AC_FAN_DIR, new StringType(controlInfo.fanMovement.name()));\n-\n-            if (!controlInfo.power) {\n-                updateState(DaikinBindingConstants.CHANNEL_AC_HOMEKITMODE, new StringType(HomekitMode.OFF.getValue()));\n-            } else if (controlInfo.mode == Mode.COLD) {\n-                updateState(DaikinBindingConstants.CHANNEL_AC_HOMEKITMODE, new StringType(HomekitMode.COOL.getValue()));\n-            } else if (controlInfo.mode == Mode.HEAT) {\n-                updateState(DaikinBindingConstants.CHANNEL_AC_HOMEKITMODE, new StringType(HomekitMode.HEAT.getValue()));\n-            } else if (controlInfo.mode == Mode.AUTO) {\n-                updateState(DaikinBindingConstants.CHANNEL_AC_HOMEKITMODE, new StringType(HomekitMode.AUTO.getValue()));\n+        if (webTargets != null) {\n+            ControlInfo controlInfo = webTargets.getControlInfo();\n+            updateStatus(ThingStatus.ONLINE);\n+            if (controlInfo != null) {\n+                updateState(DaikinBindingConstants.CHANNEL_AC_POWER, controlInfo.power ? OnOffType.ON : OnOffType.OFF);\n+                updateTemperatureChannel(DaikinBindingConstants.CHANNEL_AC_TEMP, controlInfo.temp);\n+\n+                updateState(DaikinBindingConstants.CHANNEL_AC_MODE, new StringType(controlInfo.mode.name()));\n+                updateState(DaikinBindingConstants.CHANNEL_AC_FAN_SPEED, new StringType(controlInfo.fanSpeed.name()));\n+                updateState(DaikinBindingConstants.CHANNEL_AC_FAN_DIR, new StringType(controlInfo.fanMovement.name()));\n+\n+                if (!controlInfo.power) {\n+                    updateState(DaikinBindingConstants.CHANNEL_AC_HOMEKITMODE,\n+                            new StringType(HomekitMode.OFF.getValue()));\n+                } else if (controlInfo.mode == Mode.COLD) {\n+                    updateState(DaikinBindingConstants.CHANNEL_AC_HOMEKITMODE,\n+                            new StringType(HomekitMode.COOL.getValue()));\n+                } else if (controlInfo.mode == Mode.HEAT) {\n+                    updateState(DaikinBindingConstants.CHANNEL_AC_HOMEKITMODE,\n+                            new StringType(HomekitMode.HEAT.getValue()));\n+                } else if (controlInfo.mode == Mode.AUTO) {\n+                    updateState(DaikinBindingConstants.CHANNEL_AC_HOMEKITMODE,\n+                            new StringType(HomekitMode.AUTO.getValue()));\n+                }\n+\n+                updateState(DaikinBindingConstants.CHANNEL_AC_SPECIALMODE,\n+                        new StringType(controlInfo.specialMode.name()));\n+\n+                if (controlInfo.specialMode.isUndefined()) {\n+                    updateState(DaikinBindingConstants.CHANNEL_AC_SPECIALMODE_POWERFUL, UnDefType.UNDEF);\n+                } else {\n+                    updateState(DaikinBindingConstants.CHANNEL_AC_SPECIALMODE_POWERFUL,\n+                            controlInfo.specialMode.isPowerfulActive() ? OnOffType.ON : OnOffType.OFF);\n+                }\n+\n             }\n-        }\n \n-        SensorInfo sensorInfo = webTargets.getSensorInfo();\n-        if (sensorInfo != null) {\n-            updateTemperatureChannel(DaikinBindingConstants.CHANNEL_INDOOR_TEMP, sensorInfo.indoortemp);\n+            SensorInfo sensorInfo = webTargets.getSensorInfo();\n+            if (sensorInfo != null) {\n+                updateTemperatureChannel(DaikinBindingConstants.CHANNEL_INDOOR_TEMP, sensorInfo.indoortemp);\n+\n+                updateTemperatureChannel(DaikinBindingConstants.CHANNEL_OUTDOOR_TEMP, sensorInfo.outdoortemp);\n \n-            updateTemperatureChannel(DaikinBindingConstants.CHANNEL_OUTDOOR_TEMP, sensorInfo.outdoortemp);\n+                if (sensorInfo.indoorhumidity.isPresent()) {\n+                    updateState(DaikinBindingConstants.CHANNEL_HUMIDITY,\n+                            new DecimalType(sensorInfo.indoorhumidity.get()));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "39e6030a6caabcde5477cd04b795ff414fd1547f"}, "originalPosition": 124}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODg3MjQxNw==", "bodyText": "Corrected.", "url": "https://github.com/openhab/openhab-addons/pull/7708#discussion_r428872417", "createdAt": "2020-05-21T19:41:50Z", "author": {"login": "LukasA83"}, "path": "bundles/org.openhab.binding.daikin/src/main/java/org/openhab/binding/daikin/internal/handler/DaikinAcUnitHandler.java", "diffHunk": "@@ -44,49 +50,93 @@\n  *\n  * @author Tim Waterhouse - Initial Contribution\n  * @author Paul Smedley <paul@smedley.id.au> - Modifications to support Airbase Controllers\n- *\n+ * @author Lukas Agethen - Added support for Energy Year reading, compressor frequency and powerful mode\n  */\n @NonNullByDefault\n public class DaikinAcUnitHandler extends DaikinBaseHandler {\n     private final Logger logger = LoggerFactory.getLogger(DaikinAcUnitHandler.class);\n \n-    public DaikinAcUnitHandler(Thing thing, DaikinDynamicStateDescriptionProvider stateDescriptionProvider, @Nullable HttpClient httpClient) {\n+    public DaikinAcUnitHandler(Thing thing, DaikinDynamicStateDescriptionProvider stateDescriptionProvider,\n+            @Nullable HttpClient httpClient) {\n         super(thing, stateDescriptionProvider, httpClient);\n     }\n \n     @Override\n     protected void pollStatus() throws IOException {\n-        ControlInfo controlInfo = webTargets.getControlInfo();\n-        updateStatus(ThingStatus.ONLINE);\n-        if (controlInfo != null) {\n-            updateState(DaikinBindingConstants.CHANNEL_AC_POWER, controlInfo.power ? OnOffType.ON : OnOffType.OFF);\n-            updateTemperatureChannel(DaikinBindingConstants.CHANNEL_AC_TEMP, controlInfo.temp);\n-\n-            updateState(DaikinBindingConstants.CHANNEL_AC_MODE, new StringType(controlInfo.mode.name()));\n-            updateState(DaikinBindingConstants.CHANNEL_AC_FAN_SPEED, new StringType(controlInfo.fanSpeed.name()));\n-            updateState(DaikinBindingConstants.CHANNEL_AC_FAN_DIR, new StringType(controlInfo.fanMovement.name()));\n-\n-            if (!controlInfo.power) {\n-                updateState(DaikinBindingConstants.CHANNEL_AC_HOMEKITMODE, new StringType(HomekitMode.OFF.getValue()));\n-            } else if (controlInfo.mode == Mode.COLD) {\n-                updateState(DaikinBindingConstants.CHANNEL_AC_HOMEKITMODE, new StringType(HomekitMode.COOL.getValue()));\n-            } else if (controlInfo.mode == Mode.HEAT) {\n-                updateState(DaikinBindingConstants.CHANNEL_AC_HOMEKITMODE, new StringType(HomekitMode.HEAT.getValue()));\n-            } else if (controlInfo.mode == Mode.AUTO) {\n-                updateState(DaikinBindingConstants.CHANNEL_AC_HOMEKITMODE, new StringType(HomekitMode.AUTO.getValue()));\n+        if (webTargets != null) {\n+            ControlInfo controlInfo = webTargets.getControlInfo();\n+            updateStatus(ThingStatus.ONLINE);\n+            if (controlInfo != null) {\n+                updateState(DaikinBindingConstants.CHANNEL_AC_POWER, controlInfo.power ? OnOffType.ON : OnOffType.OFF);\n+                updateTemperatureChannel(DaikinBindingConstants.CHANNEL_AC_TEMP, controlInfo.temp);\n+\n+                updateState(DaikinBindingConstants.CHANNEL_AC_MODE, new StringType(controlInfo.mode.name()));\n+                updateState(DaikinBindingConstants.CHANNEL_AC_FAN_SPEED, new StringType(controlInfo.fanSpeed.name()));\n+                updateState(DaikinBindingConstants.CHANNEL_AC_FAN_DIR, new StringType(controlInfo.fanMovement.name()));\n+\n+                if (!controlInfo.power) {\n+                    updateState(DaikinBindingConstants.CHANNEL_AC_HOMEKITMODE,\n+                            new StringType(HomekitMode.OFF.getValue()));\n+                } else if (controlInfo.mode == Mode.COLD) {\n+                    updateState(DaikinBindingConstants.CHANNEL_AC_HOMEKITMODE,\n+                            new StringType(HomekitMode.COOL.getValue()));\n+                } else if (controlInfo.mode == Mode.HEAT) {\n+                    updateState(DaikinBindingConstants.CHANNEL_AC_HOMEKITMODE,\n+                            new StringType(HomekitMode.HEAT.getValue()));\n+                } else if (controlInfo.mode == Mode.AUTO) {\n+                    updateState(DaikinBindingConstants.CHANNEL_AC_HOMEKITMODE,\n+                            new StringType(HomekitMode.AUTO.getValue()));\n+                }\n+\n+                updateState(DaikinBindingConstants.CHANNEL_AC_SPECIALMODE,\n+                        new StringType(controlInfo.specialMode.name()));\n+\n+                if (controlInfo.specialMode.isUndefined()) {\n+                    updateState(DaikinBindingConstants.CHANNEL_AC_SPECIALMODE_POWERFUL, UnDefType.UNDEF);\n+                } else {\n+                    updateState(DaikinBindingConstants.CHANNEL_AC_SPECIALMODE_POWERFUL,\n+                            controlInfo.specialMode.isPowerfulActive() ? OnOffType.ON : OnOffType.OFF);\n+                }\n+\n             }\n-        }\n \n-        SensorInfo sensorInfo = webTargets.getSensorInfo();\n-        if (sensorInfo != null) {\n-            updateTemperatureChannel(DaikinBindingConstants.CHANNEL_INDOOR_TEMP, sensorInfo.indoortemp);\n+            SensorInfo sensorInfo = webTargets.getSensorInfo();\n+            if (sensorInfo != null) {\n+                updateTemperatureChannel(DaikinBindingConstants.CHANNEL_INDOOR_TEMP, sensorInfo.indoortemp);\n+\n+                updateTemperatureChannel(DaikinBindingConstants.CHANNEL_OUTDOOR_TEMP, sensorInfo.outdoortemp);\n \n-            updateTemperatureChannel(DaikinBindingConstants.CHANNEL_OUTDOOR_TEMP, sensorInfo.outdoortemp);\n+                if (sensorInfo.indoorhumidity.isPresent()) {\n+                    updateState(DaikinBindingConstants.CHANNEL_HUMIDITY,\n+                            new DecimalType(sensorInfo.indoorhumidity.get()));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODgzNDk0Nw=="}, "originalCommit": {"oid": "39e6030a6caabcde5477cd04b795ff414fd1547f"}, "originalPosition": 124}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY3MDc2NTk2OnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.daikin/src/main/java/org/openhab/binding/daikin/internal/handler/DaikinAcUnitHandler.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxODozMDowMFrOGY-DOw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxOTozNDozNlrOGZAE-w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODgzNTY0Mw==", "bodyText": "Please specify specific exceptions if possible. What do you expect to be thrown here anyway?", "url": "https://github.com/openhab/openhab-addons/pull/7708#discussion_r428835643", "createdAt": "2020-05-21T18:30:00Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.daikin/src/main/java/org/openhab/binding/daikin/internal/handler/DaikinAcUnitHandler.java", "diffHunk": "@@ -44,49 +50,93 @@\n  *\n  * @author Tim Waterhouse - Initial Contribution\n  * @author Paul Smedley <paul@smedley.id.au> - Modifications to support Airbase Controllers\n- *\n+ * @author Lukas Agethen - Added support for Energy Year reading, compressor frequency and powerful mode\n  */\n @NonNullByDefault\n public class DaikinAcUnitHandler extends DaikinBaseHandler {\n     private final Logger logger = LoggerFactory.getLogger(DaikinAcUnitHandler.class);\n \n-    public DaikinAcUnitHandler(Thing thing, DaikinDynamicStateDescriptionProvider stateDescriptionProvider, @Nullable HttpClient httpClient) {\n+    public DaikinAcUnitHandler(Thing thing, DaikinDynamicStateDescriptionProvider stateDescriptionProvider,\n+            @Nullable HttpClient httpClient) {\n         super(thing, stateDescriptionProvider, httpClient);\n     }\n \n     @Override\n     protected void pollStatus() throws IOException {\n-        ControlInfo controlInfo = webTargets.getControlInfo();\n-        updateStatus(ThingStatus.ONLINE);\n-        if (controlInfo != null) {\n-            updateState(DaikinBindingConstants.CHANNEL_AC_POWER, controlInfo.power ? OnOffType.ON : OnOffType.OFF);\n-            updateTemperatureChannel(DaikinBindingConstants.CHANNEL_AC_TEMP, controlInfo.temp);\n-\n-            updateState(DaikinBindingConstants.CHANNEL_AC_MODE, new StringType(controlInfo.mode.name()));\n-            updateState(DaikinBindingConstants.CHANNEL_AC_FAN_SPEED, new StringType(controlInfo.fanSpeed.name()));\n-            updateState(DaikinBindingConstants.CHANNEL_AC_FAN_DIR, new StringType(controlInfo.fanMovement.name()));\n-\n-            if (!controlInfo.power) {\n-                updateState(DaikinBindingConstants.CHANNEL_AC_HOMEKITMODE, new StringType(HomekitMode.OFF.getValue()));\n-            } else if (controlInfo.mode == Mode.COLD) {\n-                updateState(DaikinBindingConstants.CHANNEL_AC_HOMEKITMODE, new StringType(HomekitMode.COOL.getValue()));\n-            } else if (controlInfo.mode == Mode.HEAT) {\n-                updateState(DaikinBindingConstants.CHANNEL_AC_HOMEKITMODE, new StringType(HomekitMode.HEAT.getValue()));\n-            } else if (controlInfo.mode == Mode.AUTO) {\n-                updateState(DaikinBindingConstants.CHANNEL_AC_HOMEKITMODE, new StringType(HomekitMode.AUTO.getValue()));\n+        if (webTargets != null) {\n+            ControlInfo controlInfo = webTargets.getControlInfo();\n+            updateStatus(ThingStatus.ONLINE);\n+            if (controlInfo != null) {\n+                updateState(DaikinBindingConstants.CHANNEL_AC_POWER, controlInfo.power ? OnOffType.ON : OnOffType.OFF);\n+                updateTemperatureChannel(DaikinBindingConstants.CHANNEL_AC_TEMP, controlInfo.temp);\n+\n+                updateState(DaikinBindingConstants.CHANNEL_AC_MODE, new StringType(controlInfo.mode.name()));\n+                updateState(DaikinBindingConstants.CHANNEL_AC_FAN_SPEED, new StringType(controlInfo.fanSpeed.name()));\n+                updateState(DaikinBindingConstants.CHANNEL_AC_FAN_DIR, new StringType(controlInfo.fanMovement.name()));\n+\n+                if (!controlInfo.power) {\n+                    updateState(DaikinBindingConstants.CHANNEL_AC_HOMEKITMODE,\n+                            new StringType(HomekitMode.OFF.getValue()));\n+                } else if (controlInfo.mode == Mode.COLD) {\n+                    updateState(DaikinBindingConstants.CHANNEL_AC_HOMEKITMODE,\n+                            new StringType(HomekitMode.COOL.getValue()));\n+                } else if (controlInfo.mode == Mode.HEAT) {\n+                    updateState(DaikinBindingConstants.CHANNEL_AC_HOMEKITMODE,\n+                            new StringType(HomekitMode.HEAT.getValue()));\n+                } else if (controlInfo.mode == Mode.AUTO) {\n+                    updateState(DaikinBindingConstants.CHANNEL_AC_HOMEKITMODE,\n+                            new StringType(HomekitMode.AUTO.getValue()));\n+                }\n+\n+                updateState(DaikinBindingConstants.CHANNEL_AC_SPECIALMODE,\n+                        new StringType(controlInfo.specialMode.name()));\n+\n+                if (controlInfo.specialMode.isUndefined()) {\n+                    updateState(DaikinBindingConstants.CHANNEL_AC_SPECIALMODE_POWERFUL, UnDefType.UNDEF);\n+                } else {\n+                    updateState(DaikinBindingConstants.CHANNEL_AC_SPECIALMODE_POWERFUL,\n+                            controlInfo.specialMode.isPowerfulActive() ? OnOffType.ON : OnOffType.OFF);\n+                }\n+\n             }\n-        }\n \n-        SensorInfo sensorInfo = webTargets.getSensorInfo();\n-        if (sensorInfo != null) {\n-            updateTemperatureChannel(DaikinBindingConstants.CHANNEL_INDOOR_TEMP, sensorInfo.indoortemp);\n+            SensorInfo sensorInfo = webTargets.getSensorInfo();\n+            if (sensorInfo != null) {\n+                updateTemperatureChannel(DaikinBindingConstants.CHANNEL_INDOOR_TEMP, sensorInfo.indoortemp);\n+\n+                updateTemperatureChannel(DaikinBindingConstants.CHANNEL_OUTDOOR_TEMP, sensorInfo.outdoortemp);\n \n-            updateTemperatureChannel(DaikinBindingConstants.CHANNEL_OUTDOOR_TEMP, sensorInfo.outdoortemp);\n+                if (sensorInfo.indoorhumidity.isPresent()) {\n+                    updateState(DaikinBindingConstants.CHANNEL_HUMIDITY,\n+                            new DecimalType(sensorInfo.indoorhumidity.get()));\n+                } else {\n+                    updateState(DaikinBindingConstants.CHANNEL_HUMIDITY, UnDefType.UNDEF);\n+                }\n+\n+                if (sensorInfo.compressorfrequency.isPresent()) {\n+                    updateState(DaikinBindingConstants.CHANNEL_CMP_FREQ,\n+                            new DecimalType(sensorInfo.compressorfrequency.get()));\n+                } else {\n+                    updateState(DaikinBindingConstants.CHANNEL_CMP_FREQ, UnDefType.UNDEF);\n+                }\n \n-            if (sensorInfo.indoorhumidity.isPresent()) {\n-                updateState(DaikinBindingConstants.CHANNEL_HUMIDITY, new DecimalType(sensorInfo.indoorhumidity.get()));\n-            } else {\n-                updateState(DaikinBindingConstants.CHANNEL_HUMIDITY, UnDefType.UNDEF);\n+            }\n+\n+            try {\n+                EnergyInfoYear energyInfoYear = webTargets.getEnergyInfoYear();\n+\n+                if (energyInfoYear.energyHeatingThisYear.isPresent()) {\n+                    updateEnergyYearChannel(DaikinBindingConstants.CHANNEL_ENERGY_HEATING_CURRENTYEAR_PREFIX,\n+                            energyInfoYear.energyHeatingThisYear);\n+                }\n+                if (energyInfoYear.energyCoolingThisYear.isPresent()) {\n+                    updateEnergyYearChannel(DaikinBindingConstants.CHANNEL_ENERGY_COOLING_CURRENTYEAR_PREFIX,\n+                            energyInfoYear.energyCoolingThisYear);\n+                }\n+            } catch (Exception e) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "39e6030a6caabcde5477cd04b795ff414fd1547f"}, "originalPosition": 153}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODg2ODg1OQ==", "bodyText": "Fixed.", "url": "https://github.com/openhab/openhab-addons/pull/7708#discussion_r428868859", "createdAt": "2020-05-21T19:34:36Z", "author": {"login": "LukasA83"}, "path": "bundles/org.openhab.binding.daikin/src/main/java/org/openhab/binding/daikin/internal/handler/DaikinAcUnitHandler.java", "diffHunk": "@@ -44,49 +50,93 @@\n  *\n  * @author Tim Waterhouse - Initial Contribution\n  * @author Paul Smedley <paul@smedley.id.au> - Modifications to support Airbase Controllers\n- *\n+ * @author Lukas Agethen - Added support for Energy Year reading, compressor frequency and powerful mode\n  */\n @NonNullByDefault\n public class DaikinAcUnitHandler extends DaikinBaseHandler {\n     private final Logger logger = LoggerFactory.getLogger(DaikinAcUnitHandler.class);\n \n-    public DaikinAcUnitHandler(Thing thing, DaikinDynamicStateDescriptionProvider stateDescriptionProvider, @Nullable HttpClient httpClient) {\n+    public DaikinAcUnitHandler(Thing thing, DaikinDynamicStateDescriptionProvider stateDescriptionProvider,\n+            @Nullable HttpClient httpClient) {\n         super(thing, stateDescriptionProvider, httpClient);\n     }\n \n     @Override\n     protected void pollStatus() throws IOException {\n-        ControlInfo controlInfo = webTargets.getControlInfo();\n-        updateStatus(ThingStatus.ONLINE);\n-        if (controlInfo != null) {\n-            updateState(DaikinBindingConstants.CHANNEL_AC_POWER, controlInfo.power ? OnOffType.ON : OnOffType.OFF);\n-            updateTemperatureChannel(DaikinBindingConstants.CHANNEL_AC_TEMP, controlInfo.temp);\n-\n-            updateState(DaikinBindingConstants.CHANNEL_AC_MODE, new StringType(controlInfo.mode.name()));\n-            updateState(DaikinBindingConstants.CHANNEL_AC_FAN_SPEED, new StringType(controlInfo.fanSpeed.name()));\n-            updateState(DaikinBindingConstants.CHANNEL_AC_FAN_DIR, new StringType(controlInfo.fanMovement.name()));\n-\n-            if (!controlInfo.power) {\n-                updateState(DaikinBindingConstants.CHANNEL_AC_HOMEKITMODE, new StringType(HomekitMode.OFF.getValue()));\n-            } else if (controlInfo.mode == Mode.COLD) {\n-                updateState(DaikinBindingConstants.CHANNEL_AC_HOMEKITMODE, new StringType(HomekitMode.COOL.getValue()));\n-            } else if (controlInfo.mode == Mode.HEAT) {\n-                updateState(DaikinBindingConstants.CHANNEL_AC_HOMEKITMODE, new StringType(HomekitMode.HEAT.getValue()));\n-            } else if (controlInfo.mode == Mode.AUTO) {\n-                updateState(DaikinBindingConstants.CHANNEL_AC_HOMEKITMODE, new StringType(HomekitMode.AUTO.getValue()));\n+        if (webTargets != null) {\n+            ControlInfo controlInfo = webTargets.getControlInfo();\n+            updateStatus(ThingStatus.ONLINE);\n+            if (controlInfo != null) {\n+                updateState(DaikinBindingConstants.CHANNEL_AC_POWER, controlInfo.power ? OnOffType.ON : OnOffType.OFF);\n+                updateTemperatureChannel(DaikinBindingConstants.CHANNEL_AC_TEMP, controlInfo.temp);\n+\n+                updateState(DaikinBindingConstants.CHANNEL_AC_MODE, new StringType(controlInfo.mode.name()));\n+                updateState(DaikinBindingConstants.CHANNEL_AC_FAN_SPEED, new StringType(controlInfo.fanSpeed.name()));\n+                updateState(DaikinBindingConstants.CHANNEL_AC_FAN_DIR, new StringType(controlInfo.fanMovement.name()));\n+\n+                if (!controlInfo.power) {\n+                    updateState(DaikinBindingConstants.CHANNEL_AC_HOMEKITMODE,\n+                            new StringType(HomekitMode.OFF.getValue()));\n+                } else if (controlInfo.mode == Mode.COLD) {\n+                    updateState(DaikinBindingConstants.CHANNEL_AC_HOMEKITMODE,\n+                            new StringType(HomekitMode.COOL.getValue()));\n+                } else if (controlInfo.mode == Mode.HEAT) {\n+                    updateState(DaikinBindingConstants.CHANNEL_AC_HOMEKITMODE,\n+                            new StringType(HomekitMode.HEAT.getValue()));\n+                } else if (controlInfo.mode == Mode.AUTO) {\n+                    updateState(DaikinBindingConstants.CHANNEL_AC_HOMEKITMODE,\n+                            new StringType(HomekitMode.AUTO.getValue()));\n+                }\n+\n+                updateState(DaikinBindingConstants.CHANNEL_AC_SPECIALMODE,\n+                        new StringType(controlInfo.specialMode.name()));\n+\n+                if (controlInfo.specialMode.isUndefined()) {\n+                    updateState(DaikinBindingConstants.CHANNEL_AC_SPECIALMODE_POWERFUL, UnDefType.UNDEF);\n+                } else {\n+                    updateState(DaikinBindingConstants.CHANNEL_AC_SPECIALMODE_POWERFUL,\n+                            controlInfo.specialMode.isPowerfulActive() ? OnOffType.ON : OnOffType.OFF);\n+                }\n+\n             }\n-        }\n \n-        SensorInfo sensorInfo = webTargets.getSensorInfo();\n-        if (sensorInfo != null) {\n-            updateTemperatureChannel(DaikinBindingConstants.CHANNEL_INDOOR_TEMP, sensorInfo.indoortemp);\n+            SensorInfo sensorInfo = webTargets.getSensorInfo();\n+            if (sensorInfo != null) {\n+                updateTemperatureChannel(DaikinBindingConstants.CHANNEL_INDOOR_TEMP, sensorInfo.indoortemp);\n+\n+                updateTemperatureChannel(DaikinBindingConstants.CHANNEL_OUTDOOR_TEMP, sensorInfo.outdoortemp);\n \n-            updateTemperatureChannel(DaikinBindingConstants.CHANNEL_OUTDOOR_TEMP, sensorInfo.outdoortemp);\n+                if (sensorInfo.indoorhumidity.isPresent()) {\n+                    updateState(DaikinBindingConstants.CHANNEL_HUMIDITY,\n+                            new DecimalType(sensorInfo.indoorhumidity.get()));\n+                } else {\n+                    updateState(DaikinBindingConstants.CHANNEL_HUMIDITY, UnDefType.UNDEF);\n+                }\n+\n+                if (sensorInfo.compressorfrequency.isPresent()) {\n+                    updateState(DaikinBindingConstants.CHANNEL_CMP_FREQ,\n+                            new DecimalType(sensorInfo.compressorfrequency.get()));\n+                } else {\n+                    updateState(DaikinBindingConstants.CHANNEL_CMP_FREQ, UnDefType.UNDEF);\n+                }\n \n-            if (sensorInfo.indoorhumidity.isPresent()) {\n-                updateState(DaikinBindingConstants.CHANNEL_HUMIDITY, new DecimalType(sensorInfo.indoorhumidity.get()));\n-            } else {\n-                updateState(DaikinBindingConstants.CHANNEL_HUMIDITY, UnDefType.UNDEF);\n+            }\n+\n+            try {\n+                EnergyInfoYear energyInfoYear = webTargets.getEnergyInfoYear();\n+\n+                if (energyInfoYear.energyHeatingThisYear.isPresent()) {\n+                    updateEnergyYearChannel(DaikinBindingConstants.CHANNEL_ENERGY_HEATING_CURRENTYEAR_PREFIX,\n+                            energyInfoYear.energyHeatingThisYear);\n+                }\n+                if (energyInfoYear.energyCoolingThisYear.isPresent()) {\n+                    updateEnergyYearChannel(DaikinBindingConstants.CHANNEL_ENERGY_COOLING_CURRENTYEAR_PREFIX,\n+                            energyInfoYear.energyCoolingThisYear);\n+                }\n+            } catch (Exception e) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODgzNTY0Mw=="}, "originalCommit": {"oid": "39e6030a6caabcde5477cd04b795ff414fd1547f"}, "originalPosition": 153}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY3MDc3NDEzOnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.daikin/src/main/resources/ESH-INF/thing/thing-types.xml", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxODozMjo0MVrOGY-Iqw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxOTo0MTozOFrOGZASiA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODgzNzAzNQ==", "bodyText": "You are displaying the frequency as a percentage?", "url": "https://github.com/openhab/openhab-addons/pull/7708#discussion_r428837035", "createdAt": "2020-05-21T18:32:41Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.daikin/src/main/resources/ESH-INF/thing/thing-types.xml", "diffHunk": "@@ -147,6 +173,172 @@\n \t\t\t</options>\n \t\t</state>\n \t</channel-type>\n+\t\n+\t<channel-type id=\"acunit-cmpfrequency\" advanced=\"true\">\n+\t\t<item-type>Number</item-type>\n+\t\t<label>Compressor Frequency</label>\n+\t\t<description>Current compressor frequency</description>\n+\t\t<state readOnly=\"true\" pattern=\"%.0f%%\"></state>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "39e6030a6caabcde5477cd04b795ff414fd1547f"}, "originalPosition": 56}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODg2NzAzNg==", "bodyText": "Daikin calls it frequency, but it is from my understanding a percentage.", "url": "https://github.com/openhab/openhab-addons/pull/7708#discussion_r428867036", "createdAt": "2020-05-21T19:30:59Z", "author": {"login": "LukasA83"}, "path": "bundles/org.openhab.binding.daikin/src/main/resources/ESH-INF/thing/thing-types.xml", "diffHunk": "@@ -147,6 +173,172 @@\n \t\t\t</options>\n \t\t</state>\n \t</channel-type>\n+\t\n+\t<channel-type id=\"acunit-cmpfrequency\" advanced=\"true\">\n+\t\t<item-type>Number</item-type>\n+\t\t<label>Compressor Frequency</label>\n+\t\t<description>Current compressor frequency</description>\n+\t\t<state readOnly=\"true\" pattern=\"%.0f%%\"></state>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODgzNzAzNQ=="}, "originalCommit": {"oid": "39e6030a6caabcde5477cd04b795ff414fd1547f"}, "originalPosition": 56}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODg3MjMyOA==", "bodyText": "I leave it with Dimensionless and show percentage, good point.", "url": "https://github.com/openhab/openhab-addons/pull/7708#discussion_r428872328", "createdAt": "2020-05-21T19:41:38Z", "author": {"login": "LukasA83"}, "path": "bundles/org.openhab.binding.daikin/src/main/resources/ESH-INF/thing/thing-types.xml", "diffHunk": "@@ -147,6 +173,172 @@\n \t\t\t</options>\n \t\t</state>\n \t</channel-type>\n+\t\n+\t<channel-type id=\"acunit-cmpfrequency\" advanced=\"true\">\n+\t\t<item-type>Number</item-type>\n+\t\t<label>Compressor Frequency</label>\n+\t\t<description>Current compressor frequency</description>\n+\t\t<state readOnly=\"true\" pattern=\"%.0f%%\"></state>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODgzNzAzNQ=="}, "originalCommit": {"oid": "39e6030a6caabcde5477cd04b795ff414fd1547f"}, "originalPosition": 56}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY3MDc4Njg5OnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.daikin/src/main/java/org/openhab/binding/daikin/internal/api/InfoParser.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxODozNjo0OVrOGY-Q3A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxOTozNDo0N1rOGZAFTA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODgzOTEzMg==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n                    } catch (Exception e) {\n          \n          \n            \n                    } catch (NumberFormatException e) {", "url": "https://github.com/openhab/openhab-addons/pull/7708#discussion_r428839132", "createdAt": "2020-05-21T18:36:49Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.daikin/src/main/java/org/openhab/binding/daikin/internal/api/InfoParser.java", "diffHunk": "@@ -62,4 +61,24 @@ private InfoParser() {\n             return Optional.empty();\n         }\n     }\n+\n+    public static Optional<Integer[]> parseArrayofInt(String value) {\n+        if (\"-\".equals(value)) {\n+            return Optional.empty();\n+        }\n+        try {\n+            return Optional.of(Stream.of(value.split(\"/\")).map(val -> Integer.parseInt(val)).toArray(Integer[]::new));\n+\n+        } catch (Exception e) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "39e6030a6caabcde5477cd04b795ff414fd1547f"}, "originalPosition": 50}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODg2ODk0MA==", "bodyText": "Fixed.", "url": "https://github.com/openhab/openhab-addons/pull/7708#discussion_r428868940", "createdAt": "2020-05-21T19:34:47Z", "author": {"login": "LukasA83"}, "path": "bundles/org.openhab.binding.daikin/src/main/java/org/openhab/binding/daikin/internal/api/InfoParser.java", "diffHunk": "@@ -62,4 +61,24 @@ private InfoParser() {\n             return Optional.empty();\n         }\n     }\n+\n+    public static Optional<Integer[]> parseArrayofInt(String value) {\n+        if (\"-\".equals(value)) {\n+            return Optional.empty();\n+        }\n+        try {\n+            return Optional.of(Stream.of(value.split(\"/\")).map(val -> Integer.parseInt(val)).toArray(Integer[]::new));\n+\n+        } catch (Exception e) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODgzOTEzMg=="}, "originalCommit": {"oid": "39e6030a6caabcde5477cd04b795ff414fd1547f"}, "originalPosition": 50}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY3MDc5MzIwOnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.daikin/src/main/java/org/openhab/binding/daikin/internal/api/InfoParser.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxODozODozM1rOGY-UsA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxOTozNDo1OFrOGZAFnA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODg0MDExMg==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    return Arrays.asList(response.split(\",\")).stream().filter(kv -> kv.contains(\"=\")).map(kv -> {\n          \n          \n            \n                    return Stream.of(response.split(\",\")).filter(kv -> kv.contains(\"=\")).map(kv -> {", "url": "https://github.com/openhab/openhab-addons/pull/7708#discussion_r428840112", "createdAt": "2020-05-21T18:38:33Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.daikin/src/main/java/org/openhab/binding/daikin/internal/api/InfoParser.java", "diffHunk": "@@ -32,13 +32,12 @@ private InfoParser() {\n     }\n \n     public static Map<String, String> parse(String response) {\n-        return Arrays.asList(response.split(\",\")).stream().filter(kv -> kv.contains(\"=\"))\n-                .map(kv -> {\n-                    String[] keyValue = kv.split(\"=\");\n-                    String key = keyValue[0];\n-                    String value = keyValue.length > 1 ? keyValue[1] : \"\";\n-                    return new String[] { key, value };\n-                }).collect(Collectors.toMap(x -> x[0], x -> x[1]));\n+        return Arrays.asList(response.split(\",\")).stream().filter(kv -> kv.contains(\"=\")).map(kv -> {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "39e6030a6caabcde5477cd04b795ff414fd1547f"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODg2OTAyMA==", "bodyText": "Fixed.", "url": "https://github.com/openhab/openhab-addons/pull/7708#discussion_r428869020", "createdAt": "2020-05-21T19:34:58Z", "author": {"login": "LukasA83"}, "path": "bundles/org.openhab.binding.daikin/src/main/java/org/openhab/binding/daikin/internal/api/InfoParser.java", "diffHunk": "@@ -32,13 +32,12 @@ private InfoParser() {\n     }\n \n     public static Map<String, String> parse(String response) {\n-        return Arrays.asList(response.split(\",\")).stream().filter(kv -> kv.contains(\"=\"))\n-                .map(kv -> {\n-                    String[] keyValue = kv.split(\"=\");\n-                    String key = keyValue[0];\n-                    String value = keyValue.length > 1 ? keyValue[1] : \"\";\n-                    return new String[] { key, value };\n-                }).collect(Collectors.toMap(x -> x[0], x -> x[1]));\n+        return Arrays.asList(response.split(\",\")).stream().filter(kv -> kv.contains(\"=\")).map(kv -> {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODg0MDExMg=="}, "originalCommit": {"oid": "39e6030a6caabcde5477cd04b795ff414fd1547f"}, "originalPosition": 29}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY3MDgwMTAwOnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.daikin/src/main/java/org/openhab/binding/daikin/internal/api/Enums.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxODo0MTowN1rOGY-ZsA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxOTozNTowNVrOGZAF0g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODg0MTM5Mg==", "bodyText": "Please add yourself to the author tags for this file.", "url": "https://github.com/openhab/openhab-addons/pull/7708#discussion_r428841392", "createdAt": "2020-05-21T18:41:07Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.daikin/src/main/java/org/openhab/binding/daikin/internal/api/Enums.java", "diffHunk": "@@ -138,4 +137,75 @@ public String getValue() {\n             return value;\n         }\n     }\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "39e6030a6caabcde5477cd04b795ff414fd1547f"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODg2OTA3NA==", "bodyText": "Fixed.", "url": "https://github.com/openhab/openhab-addons/pull/7708#discussion_r428869074", "createdAt": "2020-05-21T19:35:05Z", "author": {"login": "LukasA83"}, "path": "bundles/org.openhab.binding.daikin/src/main/java/org/openhab/binding/daikin/internal/api/Enums.java", "diffHunk": "@@ -138,4 +137,75 @@ public String getValue() {\n             return value;\n         }\n     }\n+", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODg0MTM5Mg=="}, "originalCommit": {"oid": "39e6030a6caabcde5477cd04b795ff414fd1547f"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY3MDgwMzA3OnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.daikin/src/main/java/org/openhab/binding/daikin/internal/DaikinCommunicationForbiddenException.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxODo0MTo1MFrOGY-bAA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxOTozNToxMFrOGZAF_Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODg0MTcyOA==", "bodyText": "remove this empty java doc", "url": "https://github.com/openhab/openhab-addons/pull/7708#discussion_r428841728", "createdAt": "2020-05-21T18:41:50Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.daikin/src/main/java/org/openhab/binding/daikin/internal/DaikinCommunicationForbiddenException.java", "diffHunk": "@@ -23,6 +22,11 @@\n  */\n @NonNullByDefault\n public class DaikinCommunicationForbiddenException extends DaikinCommunicationException {\n+    /**\n+     *\n+     */", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "39e6030a6caabcde5477cd04b795ff414fd1547f"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODg2OTExNw==", "bodyText": "Fixed.", "url": "https://github.com/openhab/openhab-addons/pull/7708#discussion_r428869117", "createdAt": "2020-05-21T19:35:10Z", "author": {"login": "LukasA83"}, "path": "bundles/org.openhab.binding.daikin/src/main/java/org/openhab/binding/daikin/internal/DaikinCommunicationForbiddenException.java", "diffHunk": "@@ -23,6 +22,11 @@\n  */\n @NonNullByDefault\n public class DaikinCommunicationForbiddenException extends DaikinCommunicationException {\n+    /**\n+     *\n+     */", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODg0MTcyOA=="}, "originalCommit": {"oid": "39e6030a6caabcde5477cd04b795ff414fd1547f"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY3MDgyOTM2OnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.daikin/src/main/java/org/openhab/binding/daikin/internal/handler/DaikinAcUnitHandler.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxODo1MDowMlrOGY-r1w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxOTozNToyNVrOGZAGXw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODg0NjAzOQ==", "bodyText": "Rather than forcing the indentation of every line I would rather you just exit early. And even then you should cache the variable locally to avoid the null checker warning.\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    if (webTargets != null) {\n          \n          \n            \n                        ControlInfo controlInfo = webTargets.getControlInfo();\n          \n          \n            \n                    DaikinWebTargets webTargets = this.webTargets;\n          \n          \n            \n                    if (webTargets == null) {\n          \n          \n            \n                         return;\n          \n          \n            \n                    }\n          \n          \n            \n                    ControlInfo controlInfo = webTargets.getControlInfo();", "url": "https://github.com/openhab/openhab-addons/pull/7708#discussion_r428846039", "createdAt": "2020-05-21T18:50:02Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.daikin/src/main/java/org/openhab/binding/daikin/internal/handler/DaikinAcUnitHandler.java", "diffHunk": "@@ -44,49 +50,93 @@\n  *\n  * @author Tim Waterhouse - Initial Contribution\n  * @author Paul Smedley <paul@smedley.id.au> - Modifications to support Airbase Controllers\n- *\n+ * @author Lukas Agethen - Added support for Energy Year reading, compressor frequency and powerful mode\n  */\n @NonNullByDefault\n public class DaikinAcUnitHandler extends DaikinBaseHandler {\n     private final Logger logger = LoggerFactory.getLogger(DaikinAcUnitHandler.class);\n \n-    public DaikinAcUnitHandler(Thing thing, DaikinDynamicStateDescriptionProvider stateDescriptionProvider, @Nullable HttpClient httpClient) {\n+    public DaikinAcUnitHandler(Thing thing, DaikinDynamicStateDescriptionProvider stateDescriptionProvider,\n+            @Nullable HttpClient httpClient) {\n         super(thing, stateDescriptionProvider, httpClient);\n     }\n \n     @Override\n     protected void pollStatus() throws IOException {\n-        ControlInfo controlInfo = webTargets.getControlInfo();\n-        updateStatus(ThingStatus.ONLINE);\n-        if (controlInfo != null) {\n-            updateState(DaikinBindingConstants.CHANNEL_AC_POWER, controlInfo.power ? OnOffType.ON : OnOffType.OFF);\n-            updateTemperatureChannel(DaikinBindingConstants.CHANNEL_AC_TEMP, controlInfo.temp);\n-\n-            updateState(DaikinBindingConstants.CHANNEL_AC_MODE, new StringType(controlInfo.mode.name()));\n-            updateState(DaikinBindingConstants.CHANNEL_AC_FAN_SPEED, new StringType(controlInfo.fanSpeed.name()));\n-            updateState(DaikinBindingConstants.CHANNEL_AC_FAN_DIR, new StringType(controlInfo.fanMovement.name()));\n-\n-            if (!controlInfo.power) {\n-                updateState(DaikinBindingConstants.CHANNEL_AC_HOMEKITMODE, new StringType(HomekitMode.OFF.getValue()));\n-            } else if (controlInfo.mode == Mode.COLD) {\n-                updateState(DaikinBindingConstants.CHANNEL_AC_HOMEKITMODE, new StringType(HomekitMode.COOL.getValue()));\n-            } else if (controlInfo.mode == Mode.HEAT) {\n-                updateState(DaikinBindingConstants.CHANNEL_AC_HOMEKITMODE, new StringType(HomekitMode.HEAT.getValue()));\n-            } else if (controlInfo.mode == Mode.AUTO) {\n-                updateState(DaikinBindingConstants.CHANNEL_AC_HOMEKITMODE, new StringType(HomekitMode.AUTO.getValue()));\n+        if (webTargets != null) {\n+            ControlInfo controlInfo = webTargets.getControlInfo();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "39e6030a6caabcde5477cd04b795ff414fd1547f"}, "originalPosition": 75}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODg2OTIxNQ==", "bodyText": "Good suggestion - implemented.", "url": "https://github.com/openhab/openhab-addons/pull/7708#discussion_r428869215", "createdAt": "2020-05-21T19:35:25Z", "author": {"login": "LukasA83"}, "path": "bundles/org.openhab.binding.daikin/src/main/java/org/openhab/binding/daikin/internal/handler/DaikinAcUnitHandler.java", "diffHunk": "@@ -44,49 +50,93 @@\n  *\n  * @author Tim Waterhouse - Initial Contribution\n  * @author Paul Smedley <paul@smedley.id.au> - Modifications to support Airbase Controllers\n- *\n+ * @author Lukas Agethen - Added support for Energy Year reading, compressor frequency and powerful mode\n  */\n @NonNullByDefault\n public class DaikinAcUnitHandler extends DaikinBaseHandler {\n     private final Logger logger = LoggerFactory.getLogger(DaikinAcUnitHandler.class);\n \n-    public DaikinAcUnitHandler(Thing thing, DaikinDynamicStateDescriptionProvider stateDescriptionProvider, @Nullable HttpClient httpClient) {\n+    public DaikinAcUnitHandler(Thing thing, DaikinDynamicStateDescriptionProvider stateDescriptionProvider,\n+            @Nullable HttpClient httpClient) {\n         super(thing, stateDescriptionProvider, httpClient);\n     }\n \n     @Override\n     protected void pollStatus() throws IOException {\n-        ControlInfo controlInfo = webTargets.getControlInfo();\n-        updateStatus(ThingStatus.ONLINE);\n-        if (controlInfo != null) {\n-            updateState(DaikinBindingConstants.CHANNEL_AC_POWER, controlInfo.power ? OnOffType.ON : OnOffType.OFF);\n-            updateTemperatureChannel(DaikinBindingConstants.CHANNEL_AC_TEMP, controlInfo.temp);\n-\n-            updateState(DaikinBindingConstants.CHANNEL_AC_MODE, new StringType(controlInfo.mode.name()));\n-            updateState(DaikinBindingConstants.CHANNEL_AC_FAN_SPEED, new StringType(controlInfo.fanSpeed.name()));\n-            updateState(DaikinBindingConstants.CHANNEL_AC_FAN_DIR, new StringType(controlInfo.fanMovement.name()));\n-\n-            if (!controlInfo.power) {\n-                updateState(DaikinBindingConstants.CHANNEL_AC_HOMEKITMODE, new StringType(HomekitMode.OFF.getValue()));\n-            } else if (controlInfo.mode == Mode.COLD) {\n-                updateState(DaikinBindingConstants.CHANNEL_AC_HOMEKITMODE, new StringType(HomekitMode.COOL.getValue()));\n-            } else if (controlInfo.mode == Mode.HEAT) {\n-                updateState(DaikinBindingConstants.CHANNEL_AC_HOMEKITMODE, new StringType(HomekitMode.HEAT.getValue()));\n-            } else if (controlInfo.mode == Mode.AUTO) {\n-                updateState(DaikinBindingConstants.CHANNEL_AC_HOMEKITMODE, new StringType(HomekitMode.AUTO.getValue()));\n+        if (webTargets != null) {\n+            ControlInfo controlInfo = webTargets.getControlInfo();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODg0NjAzOQ=="}, "originalCommit": {"oid": "39e6030a6caabcde5477cd04b795ff414fd1547f"}, "originalPosition": 75}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 68, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}