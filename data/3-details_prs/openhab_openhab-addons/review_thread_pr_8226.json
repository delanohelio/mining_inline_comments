{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU4Njc2Nzk4", "number": 8226, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xNFQxODo0OToxMVrOEYlSIg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xNFQxODo0OToxMVrOEYlSIg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk0MjEyMTMwOnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.insteon/src/main/java/org/openhab/binding/insteon/internal/handler/InsteonDeviceHandler.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xNFQxODo0OToxMVrOHA_6Hw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xNVQyMTo0NDo0MVrOHBNzgA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDgwOTExOQ==", "bodyText": "As the framework logs the detail message already, the log message could be removed.", "url": "https://github.com/openhab/openhab-addons/pull/8226#discussion_r470809119", "createdAt": "2020-08-14T18:49:11Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.insteon/src/main/java/org/openhab/binding/insteon/internal/handler/InsteonDeviceHandler.java", "diffHunk": "@@ -146,23 +155,41 @@ public void initialize() {\n             String productKey = config.getProductKey();\n             if (DeviceTypeLoader.instance().getDeviceType(productKey) == null) {\n                 String msg = \"Unable to start Insteon device, invalid product key '\" + productKey + \"'.\";\n-                logger.warn(\"{}\", msg);\n+                logger.warn(\"{} {}\", thing.getUID().getAsString(), msg);\n \n                 updateStatus(ThingStatus.OFFLINE, ThingStatusDetail.CONFIGURATION_ERROR, msg);\n                 return;\n             }\n \n+            String deviceConfig = config.getDeviceConfig();\n+            Map<String, @Nullable Object> deviceConfigMap;\n+            if (deviceConfig != null) {\n+                Type mapType = new TypeToken<Map<String, Object>>() {\n+                }.getType();\n+                try {\n+                    deviceConfigMap = new Gson().fromJson(deviceConfig, mapType);\n+                } catch (JsonParseException e) {\n+                    String msg = \"The device configuration parameter is not valid JSON.\";\n+                    logger.warn(\"{} {}\", thing.getUID().getAsString(), msg);\n+\n+                    updateStatus(ThingStatus.OFFLINE, ThingStatusDetail.CONFIGURATION_ERROR, msg);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6ca0f41d0452626424df8a2b9132b4cd26c154c4"}, "originalPosition": 72}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTAzNjgwMA==", "bodyText": "I'd rather leave it in, it can be useful to see these sorts of warnings in the log file.", "url": "https://github.com/openhab/openhab-addons/pull/8226#discussion_r471036800", "createdAt": "2020-08-15T21:44:41Z", "author": {"login": "robnielsen"}, "path": "bundles/org.openhab.binding.insteon/src/main/java/org/openhab/binding/insteon/internal/handler/InsteonDeviceHandler.java", "diffHunk": "@@ -146,23 +155,41 @@ public void initialize() {\n             String productKey = config.getProductKey();\n             if (DeviceTypeLoader.instance().getDeviceType(productKey) == null) {\n                 String msg = \"Unable to start Insteon device, invalid product key '\" + productKey + \"'.\";\n-                logger.warn(\"{}\", msg);\n+                logger.warn(\"{} {}\", thing.getUID().getAsString(), msg);\n \n                 updateStatus(ThingStatus.OFFLINE, ThingStatusDetail.CONFIGURATION_ERROR, msg);\n                 return;\n             }\n \n+            String deviceConfig = config.getDeviceConfig();\n+            Map<String, @Nullable Object> deviceConfigMap;\n+            if (deviceConfig != null) {\n+                Type mapType = new TypeToken<Map<String, Object>>() {\n+                }.getType();\n+                try {\n+                    deviceConfigMap = new Gson().fromJson(deviceConfig, mapType);\n+                } catch (JsonParseException e) {\n+                    String msg = \"The device configuration parameter is not valid JSON.\";\n+                    logger.warn(\"{} {}\", thing.getUID().getAsString(), msg);\n+\n+                    updateStatus(ThingStatus.OFFLINE, ThingStatusDetail.CONFIGURATION_ERROR, msg);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDgwOTExOQ=="}, "originalCommit": {"oid": "6ca0f41d0452626424df8a2b9132b4cd26c154c4"}, "originalPosition": 72}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4543, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}