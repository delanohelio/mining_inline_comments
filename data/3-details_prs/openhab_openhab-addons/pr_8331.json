{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDcyMTE5NTgw", "number": 8331, "title": "[homematic] Checking of full datapoint name is necessary", "bodyText": "Only the string value contains the complete name that is necessary for\nthe check.\nAdditional fix for #5048\nFix has already been successfully tested.\nSigned-off-by: Martin Herbst develop@mherbst.de", "createdAt": "2020-08-23T12:43:01Z", "url": "https://github.com/openhab/openhab-addons/pull/8331", "merged": true, "mergeCommit": {"oid": "a8116c8a07be05005ef4c1f3b86e96fbaf25f833"}, "closed": true, "closedAt": "2020-08-29T11:13:03Z", "author": {"login": "MHerbst"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdBtUZbAH2gAyNDcyMTE5NTgwOjhjODRkMzU3MmZjYjU1ZmZiNTNkY2FiNDcwYTg5MzBkODI2YWQ3ODE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdDnq30AFqTQ3ODExOTA2NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "8c84d3572fcb55ffb53dcab470a8930d826ad781", "author": {"user": {"login": "MHerbst", "name": "Martin Herbst"}}, "url": "https://github.com/openhab/openhab-addons/commit/8c84d3572fcb55ffb53dcab470a8930d826ad781", "committedDate": "2020-08-23T12:39:10Z", "message": "Test of address only was not sufficient.\n\nOnly the string value contains the complete name that is necessary for\nthe check.\n\nAdditional fix for #5048\n\n\nSigned-off-by: Martin Herbst <develop@mherbst.de>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc1NTM5Mzc4", "url": "https://github.com/openhab/openhab-addons/pull/8331#pullrequestreview-475539378", "createdAt": "2020-08-26T14:21:06Z", "commit": {"oid": "8c84d3572fcb55ffb53dcab470a8930d826ad781"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQxNDoyMTowNlrOHHOggQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQxNDoyMTowNlrOHHOggQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzMzOTc3Nw==", "bodyText": "Looking at what it actual checks. I think the check should be on the enum. Because the first character of enum is what is printed in the toString and what is check for here.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                if (dpInfo.toString().contains(\":M_\") && channel.getDevice().getHmInterface() == HmInterface.HMIP) {\n          \n          \n            \n                                if (dpInfo.getParamsetType() == HmParamsetType.MASTER && channel.getDevice().getHmInterface() == HmInterface.HMIP) {", "url": "https://github.com/openhab/openhab-addons/pull/8331#discussion_r477339777", "createdAt": "2020-08-26T14:21:06Z", "author": {"login": "Hilbrand"}, "path": "bundles/org.openhab.binding.homematic/src/main/java/org/openhab/binding/homematic/internal/communicator/parser/GetParamsetParser.java", "diffHunk": "@@ -61,8 +61,7 @@ public Void parse(Object[] message) throws IOException {\n                 boolean isHmSenMdirNextTrans = dpInfo.getName().equals(\"NEXT_TRANSMISSION\")\n                         && (deviceType.startsWith(\"HM-Sen-MDIR-O\") || deviceType.startsWith(\"HM-Sen-MDIR-WM55\"));\n                 if (!isHmSenMdirNextTrans) {\n-                    if (dpInfo.getAddress().contains(\":M_\")\n-                            && channel.getDevice().getHmInterface() == HmInterface.HMIP) {\n+                    if (dpInfo.toString().contains(\":M_\") && channel.getDevice().getHmInterface() == HmInterface.HMIP) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8c84d3572fcb55ffb53dcab470a8930d826ad781"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3168687d5a0078288171a85d3d82b9cfdedec61f", "author": {"user": {"login": "MHerbst", "name": "Martin Herbst"}}, "url": "https://github.com/openhab/openhab-addons/commit/3168687d5a0078288171a85d3d82b9cfdedec61f", "committedDate": "2020-08-28T18:38:01Z", "message": "Using enum is better than string search\n\n\nSigned-off-by: Martin Herbst <develop@mherbst.de>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6b03b8bc781d520e2c3e9e041ae209f189a04ba9", "author": {"user": {"login": "MHerbst", "name": "Martin Herbst"}}, "url": "https://github.com/openhab/openhab-addons/commit/6b03b8bc781d520e2c3e9e041ae209f189a04ba9", "committedDate": "2020-08-28T18:39:04Z", "message": "Another exception for data point added\n\naccording to:\nhttps://github.com/openhab/openhab-addons/issues/5048#issuecomment-678940460\n\n\nSigned-off-by: Martin Herbst <develop@mherbst.de>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc4MTE5MDY1", "url": "https://github.com/openhab/openhab-addons/pull/8331#pullrequestreview-478119065", "createdAt": "2020-08-29T11:12:08Z", "commit": {"oid": "6b03b8bc781d520e2c3e9e041ae209f189a04ba9"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 34, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}