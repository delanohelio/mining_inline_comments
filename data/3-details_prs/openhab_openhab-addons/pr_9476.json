{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQ0MjM4MTkw", "number": 9476, "title": "[amazonechocontrol] refactor arrays to modern types", "bodyText": "This refactors most occurences of arrays to List or Set which allows to simplify a lot of code.\nSigned-off-by: Jan N. Klug jan.n.klug@rub.de", "createdAt": "2020-12-22T16:43:14Z", "url": "https://github.com/openhab/openhab-addons/pull/9476", "merged": true, "mergeCommit": {"oid": "e651aa6d0338b74aacb30bdd2857ea34b48b2b1c"}, "closed": true, "closedAt": "2021-01-13T22:31:27Z", "author": {"login": "J-N-K"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdt28NeABqjQxODA3MzI0MjM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdv1xsBgFqTU2NzU5NDA0Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4cfe5fcb563fcc51f19af75388a2a439a95b85b2", "author": {"user": {"login": "J-N-K", "name": null}}, "url": "https://github.com/openhab/openhab-addons/commit/4cfe5fcb563fcc51f19af75388a2a439a95b85b2", "committedDate": "2020-12-22T16:41:37Z", "message": "refactor arrays to modern types\n\nSigned-off-by: Jan N. Klug <jan.n.klug@rub.de>"}, "afterCommit": {"oid": "9254d4161a8c5f25d2f3855e32b1ca6226cddff0", "author": {"user": {"login": "J-N-K", "name": null}}, "url": "https://github.com/openhab/openhab-addons/commit/9254d4161a8c5f25d2f3855e32b1ca6226cddff0", "committedDate": "2021-01-07T16:44:02Z", "message": "refactor arrays to modern types\n\nSigned-off-by: Jan N. Klug <jan.n.klug@rub.de>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "77b4e7e26632f7488487a3f288fba6e94893f0d1", "author": {"user": {"login": "J-N-K", "name": null}}, "url": "https://github.com/openhab/openhab-addons/commit/77b4e7e26632f7488487a3f288fba6e94893f0d1", "committedDate": "2021-01-07T18:27:34Z", "message": "refactor arrays to modern types\n\nSigned-off-by: Jan N. Klug <jan.n.klug@rub.de>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "bd30c59f195551d0e0673a618194358eb6b1d2bb", "author": {"user": {"login": "J-N-K", "name": null}}, "url": "https://github.com/openhab/openhab-addons/commit/bd30c59f195551d0e0673a618194358eb6b1d2bb", "committedDate": "2021-01-07T18:25:43Z", "message": "fixes\n\nSigned-off-by: Jan N. Klug <jan.n.klug@rub.de>"}, "afterCommit": {"oid": "77b4e7e26632f7488487a3f288fba6e94893f0d1", "author": {"user": {"login": "J-N-K", "name": null}}, "url": "https://github.com/openhab/openhab-addons/commit/77b4e7e26632f7488487a3f288fba6e94893f0d1", "committedDate": "2021-01-07T18:27:34Z", "message": "refactor arrays to modern types\n\nSigned-off-by: Jan N. Klug <jan.n.klug@rub.de>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTY3NTU2NDY5", "url": "https://github.com/openhab/openhab-addons/pull/9476#pullrequestreview-567556469", "createdAt": "2021-01-13T19:37:22Z", "commit": {"oid": "77b4e7e26632f7488487a3f288fba6e94893f0d1"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0xM1QxOTozNzoyMlrOIS_LeQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0xM1QxOTozNzoyMlrOIS_LeQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1Njc4MDQwOQ==", "bodyText": "You shouldn't use string concatenation when you already have a StringBuilder to use. String concatenation ends up using another StringBuilder when it generates the java bytecode. So just chain multiple append statements instead.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            capability -> html.append(\"<tr><td>\" + StringEscapeUtils.escapeHtml(capability) + \"</td></tr>\"));\n          \n          \n            \n                            capability -> html.append(\"<tr><td>\").append(StringEscapeUtils.escapeHtml(capability)).append(\"</td></tr>\"));", "url": "https://github.com/openhab/openhab-addons/pull/9476#discussion_r556780409", "createdAt": "2021-01-13T19:37:22Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.amazonechocontrol/src/main/java/org/openhab/binding/amazonechocontrol/internal/AccountServlet.java", "diffHunk": "@@ -499,14 +497,8 @@ private void handleIds(HttpServletResponse resp, Connection connection, Device d\n     private void renderCapabilities(Connection connection, Device device, StringBuilder html) {\n         html.append(\"<h2>Capabilities</h2>\");\n         html.append(\"<table><tr><th align='left'>Name</th></tr>\");\n-        String[] capabilities = device.capabilities;\n-        if (capabilities != null) {\n-            for (String capability : capabilities) {\n-                html.append(\"<tr><td>\");\n-                html.append(StringEscapeUtils.escapeHtml(capability));\n-                html.append(\"</td></tr>\");\n-            }\n-        }\n+        device.getCapabilities().forEach(\n+                capability -> html.append(\"<tr><td>\" + StringEscapeUtils.escapeHtml(capability) + \"</td></tr>\"));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "77b4e7e26632f7488487a3f288fba6e94893f0d1"}, "originalPosition": 24}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "27949c3728e8b3528f36cd9410e9cb13a867d14a", "author": {"user": {"login": "J-N-K", "name": null}}, "url": "https://github.com/openhab/openhab-addons/commit/27949c3728e8b3528f36cd9410e9cb13a867d14a", "committedDate": "2021-01-13T19:53:21Z", "message": "address review comments\n\nSigned-off-by: Jan N. Klug <jan.n.klug@rub.de>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTY3NTk0MDQ3", "url": "https://github.com/openhab/openhab-addons/pull/9476#pullrequestreview-567594047", "createdAt": "2021-01-13T20:30:55Z", "commit": {"oid": "27949c3728e8b3528f36cd9410e9cb13a867d14a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3571, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}