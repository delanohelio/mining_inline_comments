{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE3MDA5MjA5", "number": 7620, "title": "[jeelink] Use serial transport", "bodyText": "Related to #7573", "createdAt": "2020-05-12T22:35:33Z", "url": "https://github.com/openhab/openhab-addons/pull/7620", "merged": true, "mergeCommit": {"oid": "194c471a14ed4d417a9de0d849417ff8dae3d655"}, "closed": true, "closedAt": "2020-05-13T20:14:03Z", "author": {"login": "wborn"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcgsGo6AH2gAyNDE3MDA5MjA5OmY2MTIzMWZkMTYxZjg2MjI0YjQyYjhjOGI5ZDg3NTU4MGExMjcwNDU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcg-rtfgFqTQxMTI2NDc3OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "f61231fd161f86224b42b8c8b9d875580a127045", "author": {"user": {"login": "wborn", "name": "Wouter Born"}}, "url": "https://github.com/openhab/openhab-addons/commit/f61231fd161f86224b42b8c8b9d875580a127045", "committedDate": "2020-05-12T22:34:44Z", "message": "[jeelink] Use serial transport\n\nRelated to #7573\n\nSigned-off-by: Wouter Born <github@maindrain.net>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEwNDk3NTcx", "url": "https://github.com/openhab/openhab-addons/pull/7620#pullrequestreview-410497571", "createdAt": "2020-05-12T23:45:14Z", "commit": {"oid": "f61231fd161f86224b42b8c8b9d875580a127045"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQyMzo0NToxNVrOGUcv8w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQyMzo0NToxNVrOGUcv8w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDA5NTczMQ==", "bodyText": "Is it possible to move this logic into JeeLinkHandler's initialize method so you can put the thing offline with a config error? You should be able to pass around the SerialPortIdentifier instance instead of the SerialPortManager instance.", "url": "https://github.com/openhab/openhab-addons/pull/7620#discussion_r424095731", "createdAt": "2020-05-12T23:45:15Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.jeelink/src/main/java/org/openhab/binding/jeelink/internal/connection/JeeLinkSerialConnection.java", "diffHunk": "@@ -69,9 +70,12 @@ public synchronized void openConnection() {\n             if (!open) {\n                 logger.debug(\"Opening serial connection to port {} with baud rate {}...\", port, baudRate);\n \n-                CommPortIdentifier portIdentifier;\n+                SerialPortIdentifier portIdentifier = serialPortManager.getIdentifier(port);\n+                if (portIdentifier == null) {\n+                    notifyAbort(\"Port not found: \" + port);\n+                    return;\n+                }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f61231fd161f86224b42b8c8b9d875580a127045"}, "originalPosition": 56}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "31876d36e4cc309b4fa5899a291765db600a7799", "author": {"user": {"login": "wborn", "name": "Wouter Born"}}, "url": "https://github.com/openhab/openhab-addons/commit/31876d36e4cc309b4fa5899a291765db600a7799", "committedDate": "2020-05-13T19:56:05Z", "message": "Pass around SerialPortIdentifier instead of SerialPortManager\n\nSigned-off-by: Wouter Born <github@maindrain.net>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDExMjY0Nzc5", "url": "https://github.com/openhab/openhab-addons/pull/7620#pullrequestreview-411264779", "createdAt": "2020-05-13T20:13:31Z", "commit": {"oid": "31876d36e4cc309b4fa5899a291765db600a7799"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 781, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}