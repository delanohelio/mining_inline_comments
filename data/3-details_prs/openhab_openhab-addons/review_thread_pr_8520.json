{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkwNDAyNjUx", "number": 8520, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQxODo0NDowN1rOElyy2Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNVQxNjowOTozNFrOEnhKSg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA4MDY0OTg1OnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.velux/src/main/java/org/openhab/binding/velux/internal/things/VeluxKLFAPI.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQxODo0NDowN1rOHVd3Tw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxMTo1Mjo0M1rOHV2Vyw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjI3MTQzOQ==", "bodyText": "Empty Command (used to send nothing and process an incoming message only).", "url": "https://github.com/openhab/openhab-addons/pull/8520#discussion_r492271439", "createdAt": "2020-09-21T18:44:07Z", "author": {"login": "gs4711"}, "path": "bundles/org.openhab.binding.velux/src/main/java/org/openhab/binding/velux/internal/things/VeluxKLFAPI.java", "diffHunk": "@@ -129,7 +129,7 @@ public String toString() {\n         UNDEFTYPE((short) -1, \"Unknown command.\"),\n         // Special item: Shutdown of the connection\n         GW_OPENHAB_CLOSE((short) -2, \"openHAB connection shutdown command.\"),\n-        // Special item: Shutdown of the connection\n+        // Special item: ???", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "45f64f498894425fba1e80c0a890e7bfc1299ad8"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjY3MjQ1OQ==", "bodyText": "Thank you. Suggestion adopted.", "url": "https://github.com/openhab/openhab-addons/pull/8520#discussion_r492672459", "createdAt": "2020-09-22T11:52:43Z", "author": {"login": "andrewfg"}, "path": "bundles/org.openhab.binding.velux/src/main/java/org/openhab/binding/velux/internal/things/VeluxKLFAPI.java", "diffHunk": "@@ -129,7 +129,7 @@ public String toString() {\n         UNDEFTYPE((short) -1, \"Unknown command.\"),\n         // Special item: Shutdown of the connection\n         GW_OPENHAB_CLOSE((short) -2, \"openHAB connection shutdown command.\"),\n-        // Special item: Shutdown of the connection\n+        // Special item: ???", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjI3MTQzOQ=="}, "originalCommit": {"oid": "45f64f498894425fba1e80c0a890e7bfc1299ad8"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA4MDY1MDI5OnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.velux/src/main/java/org/openhab/binding/velux/internal/handler/VeluxBindingHandler.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQxODo0NDoxNlrOHVd3kQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxMTo1Mjo1NVrOHV2WMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjI3MTUwNQ==", "bodyText": "would suggest to replace the three questionmarks by a global constant.", "url": "https://github.com/openhab/openhab-addons/pull/8520#discussion_r492271505", "createdAt": "2020-09-21T18:44:16Z", "author": {"login": "gs4711"}, "path": "bundles/org.openhab.binding.velux/src/main/java/org/openhab/binding/velux/internal/handler/VeluxBindingHandler.java", "diffHunk": "@@ -82,9 +84,16 @@ public VeluxBindingHandler(Thing thing, final Localization localization) {\n      * @param channelUID for type {@link ChannelUID}.\n      * @return thingTypeUID of type {@link ThingTypeUID}.\n      */\n-    @SuppressWarnings(\"deprecation\")\n     private ThingTypeUID thingTypeUIDOf(ChannelUID channelUID) {\n-        return channelUID.getThingUID().getThingTypeUID();\n+        Channel chan = getThing().getChannel(channelUID);\n+        if (chan != null) {\n+            ChannelTypeUID type = chan.getChannelTypeUID();\n+            if (type != null) {\n+                return new ThingTypeUID(type.getBindingId(), type.getId());\n+            }\n+        }\n+        logger.warn(\"thingTypeUIDOf({}) failed.\", channelUID);\n+        return new ThingTypeUID(VeluxBindingConstants.BINDING_ID, \"???\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "45f64f498894425fba1e80c0a890e7bfc1299ad8"}, "originalPosition": 47}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjY3MjU2MQ==", "bodyText": "Thank you. Suggestion adopted.", "url": "https://github.com/openhab/openhab-addons/pull/8520#discussion_r492672561", "createdAt": "2020-09-22T11:52:55Z", "author": {"login": "andrewfg"}, "path": "bundles/org.openhab.binding.velux/src/main/java/org/openhab/binding/velux/internal/handler/VeluxBindingHandler.java", "diffHunk": "@@ -82,9 +84,16 @@ public VeluxBindingHandler(Thing thing, final Localization localization) {\n      * @param channelUID for type {@link ChannelUID}.\n      * @return thingTypeUID of type {@link ThingTypeUID}.\n      */\n-    @SuppressWarnings(\"deprecation\")\n     private ThingTypeUID thingTypeUIDOf(ChannelUID channelUID) {\n-        return channelUID.getThingUID().getThingTypeUID();\n+        Channel chan = getThing().getChannel(channelUID);\n+        if (chan != null) {\n+            ChannelTypeUID type = chan.getChannelTypeUID();\n+            if (type != null) {\n+                return new ThingTypeUID(type.getBindingId(), type.getId());\n+            }\n+        }\n+        logger.warn(\"thingTypeUIDOf({}) failed.\", channelUID);\n+        return new ThingTypeUID(VeluxBindingConstants.BINDING_ID, \"???\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjI3MTUwNQ=="}, "originalCommit": {"oid": "45f64f498894425fba1e80c0a890e7bfc1299ad8"}, "originalPosition": 47}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA5ODczMjI2OnYy", "diffSide": "RIGHT", "path": "bundles/pom.xml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNVQxNjowOTozNFrOHYJ63g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNVQxNjowOTozNFrOHYJ63g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTA5MDM5OA==", "bodyText": "Ah, much better ;-)", "url": "https://github.com/openhab/openhab-addons/pull/8520#discussion_r495090398", "createdAt": "2020-09-25T16:09:34Z", "author": {"login": "kaikreuzer"}, "path": "bundles/pom.xml", "diffHunk": "@@ -280,6 +280,7 @@\n     <module>org.openhab.binding.valloxmv</module>\n     <module>org.openhab.binding.vektiva</module>\n     <module>org.openhab.binding.velbus</module>\n+    <module>org.openhab.binding.velux</module>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5dc5757bf539f187b106d177c935101e60a8ee5c"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4300, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}