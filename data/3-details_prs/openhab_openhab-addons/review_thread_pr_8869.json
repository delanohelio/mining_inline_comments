{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA5OTA3OTcw", "number": 8869, "reviewThreads": {"totalCount": 57, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNVQyMDoyNzowN1rOE5NPvw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQyMDoxMTo1NFrOFEKozw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI4NDIxMzExOnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.gardena/README.md", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNVQyMDoyNzowN1rOHzixaQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yOFQxNTowNjozN1rOH7Zviw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzgwOTEyOQ==", "bodyText": "Aren't they supported by this binding or by the API?", "url": "https://github.com/openhab/openhab-addons/pull/8869#discussion_r523809129", "createdAt": "2020-11-15T20:27:07Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.gardena/README.md", "diffHunk": "@@ -27,109 +25,94 @@ An account must be specified, all things for an account are discovered automatic\n \n There are several settings for an account:\n \n-| Name                  | Required | Description                                                                              |\n-|-----------------------|----------|------------------------------------------------------------------------------------------|\n-| **email**             | yes      | The email address for logging into the Gardena smart system                              |\n-| **password**          | yes      | The password for logging into the Gardena smart system                                   |\n-| **sessionTimeout**    | no       | The timeout in minutes for a session to Gardena smart system (default = 30)              |\n-| **connectionTimeout** | no       | The timeout in seconds for connections to Gardena smart system (default = 10)            |\n-| **refresh**           | no       | The interval in seconds for refreshing the data from Gardena smart system (default = 60) |\n+| Name                  | Required | Description                                                                                         |\n+|-----------------------|----------|-----------------------------------------------------------------------------------------------------|\n+| **email**             | yes      | The email address for logging into the Gardena smart system                                         |\n+| **password**          | yes      | The password for logging into the Gardena smart system                                              |\n+| **apiKey**            | yes      | The Gardena smart system integration API key                                                    |\n+| **connectionTimeout** | no       | The timeout in seconds for connections to Gardena smart system integration API (default = 10)       |\n \n-**Example**\n+### Obtaining your API Key\n \n-### Things\n+1. Goto https://developer.husqvarnagroup.cloud/, sign in using your GARDENA smart system account and accept the terms of use\n+2. Create and save a new application via the 'Create application' button\n+3. Connect both _Authentication API_ and _GARDENA smart system API_ to your application via the 'Connect new API' button\n+4. Copy the application key to use with this binding as _apiKey_\n \n-Minimal Thing configuration:\n+## Examples\n \n-```java\n-Bridge gardena:account:home [ email=\"...\", password=\"...\" ]\n-```\n+### Things\n \n-Configuration with refresh:\n+Minimal Thing configuration:\n \n ```java\n-Bridge gardena:account:home [ email=\"...\", password=\"...\", refresh=30 ]\n+Bridge gardena:account:home [ email=\"...\", password=\"...\", apiKey=\"...\" ]\n ```\n \n Configuration of multiple bridges:\n \n ```java\n-Bridge gardena:account:home1 [ email=\"...\", password=\"...\" ]\n-Bridge gardena:account:home2 [ email=\"...\", password=\"...\" ]\n+Bridge gardena:account:home1 [ email=\"...\", password=\"...\", apiKey=\"...\" ]\n+Bridge gardena:account:home2 [ email=\"...\", password=\"...\", apiKey=\"...\" ]\n ```\n \n Once a connection to an account is established, connected Things are discovered automatically.\n \n-Alternatively, you can manually configure a Thing:\n+Alternatively, you can manually configure Things:\n \n-```perl\n-Bridge gardena:account:home [ email=\"...\", password=\"...\" ]\n+```java\n+Bridge gardena:account:home [ email=\"...\", password=\"...\", apiKey=\"...\" ]\n {\n   Thing mower myMower [ deviceId=\"c81ad682-6e45-42ce-bed1-6b4eff5620c8\" ]\n+  Thing water_control myWaterControl [ deviceId=\"c81ad682-6e45-42ce-bed1-6b4eff5620c8\" ]\n+  Thing sensor mySensor [ deviceId=\"c81ad682-6e45-42ce-bed1-6b4eff5620c8\" ]\n+  Thing pump myEPP [ deviceId=\"c81ad682-6e45-42ce-bed1-6b4eff5620c8\" ]\n+  Thing power myPowerSocket [ deviceId=\"c81ad682-6e45-42ce-bed1-6b4eff5620c8\" ]\n+  Thing irrigation_control myIrrigationControl [ deviceId=\"c81ad682-6e45-42ce-bed1-6b4eff5620c8\" ]\n }\n ```\n \n-## Items\n+### Items\n \n In the items file, you can link items to channels of your Things:\n \n ```java\n-Number Battery_Level \"Battery [%d %%]\" {channel=\"gardena:mower:home:myMower:battery#level\"}\n+Number Mower_Battery_Level \"Battery [%d %%]\" {channel=\"gardena:mower:home:myMower:common#batteryLevel\"}\n ```\n \n-## Sensor refresh\n+### Sensor refresh\n \n-You can send a REFRESH command to items linked to these Sensor channels:\n+Sensor refresh commands are not yet supported by the Gardena smart system integration API.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f549d3d4efe014ad5a6354ff596dd5ac9ffaa604"}, "originalPosition": 119}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjA0OTgwMw==", "bodyText": "The refresh command is not supported by the Gardena API", "url": "https://github.com/openhab/openhab-addons/pull/8869#discussion_r532049803", "createdAt": "2020-11-28T15:06:37Z", "author": {"login": "gerrieg"}, "path": "bundles/org.openhab.binding.gardena/README.md", "diffHunk": "@@ -27,109 +25,94 @@ An account must be specified, all things for an account are discovered automatic\n \n There are several settings for an account:\n \n-| Name                  | Required | Description                                                                              |\n-|-----------------------|----------|------------------------------------------------------------------------------------------|\n-| **email**             | yes      | The email address for logging into the Gardena smart system                              |\n-| **password**          | yes      | The password for logging into the Gardena smart system                                   |\n-| **sessionTimeout**    | no       | The timeout in minutes for a session to Gardena smart system (default = 30)              |\n-| **connectionTimeout** | no       | The timeout in seconds for connections to Gardena smart system (default = 10)            |\n-| **refresh**           | no       | The interval in seconds for refreshing the data from Gardena smart system (default = 60) |\n+| Name                  | Required | Description                                                                                         |\n+|-----------------------|----------|-----------------------------------------------------------------------------------------------------|\n+| **email**             | yes      | The email address for logging into the Gardena smart system                                         |\n+| **password**          | yes      | The password for logging into the Gardena smart system                                              |\n+| **apiKey**            | yes      | The Gardena smart system integration API key                                                    |\n+| **connectionTimeout** | no       | The timeout in seconds for connections to Gardena smart system integration API (default = 10)       |\n \n-**Example**\n+### Obtaining your API Key\n \n-### Things\n+1. Goto https://developer.husqvarnagroup.cloud/, sign in using your GARDENA smart system account and accept the terms of use\n+2. Create and save a new application via the 'Create application' button\n+3. Connect both _Authentication API_ and _GARDENA smart system API_ to your application via the 'Connect new API' button\n+4. Copy the application key to use with this binding as _apiKey_\n \n-Minimal Thing configuration:\n+## Examples\n \n-```java\n-Bridge gardena:account:home [ email=\"...\", password=\"...\" ]\n-```\n+### Things\n \n-Configuration with refresh:\n+Minimal Thing configuration:\n \n ```java\n-Bridge gardena:account:home [ email=\"...\", password=\"...\", refresh=30 ]\n+Bridge gardena:account:home [ email=\"...\", password=\"...\", apiKey=\"...\" ]\n ```\n \n Configuration of multiple bridges:\n \n ```java\n-Bridge gardena:account:home1 [ email=\"...\", password=\"...\" ]\n-Bridge gardena:account:home2 [ email=\"...\", password=\"...\" ]\n+Bridge gardena:account:home1 [ email=\"...\", password=\"...\", apiKey=\"...\" ]\n+Bridge gardena:account:home2 [ email=\"...\", password=\"...\", apiKey=\"...\" ]\n ```\n \n Once a connection to an account is established, connected Things are discovered automatically.\n \n-Alternatively, you can manually configure a Thing:\n+Alternatively, you can manually configure Things:\n \n-```perl\n-Bridge gardena:account:home [ email=\"...\", password=\"...\" ]\n+```java\n+Bridge gardena:account:home [ email=\"...\", password=\"...\", apiKey=\"...\" ]\n {\n   Thing mower myMower [ deviceId=\"c81ad682-6e45-42ce-bed1-6b4eff5620c8\" ]\n+  Thing water_control myWaterControl [ deviceId=\"c81ad682-6e45-42ce-bed1-6b4eff5620c8\" ]\n+  Thing sensor mySensor [ deviceId=\"c81ad682-6e45-42ce-bed1-6b4eff5620c8\" ]\n+  Thing pump myEPP [ deviceId=\"c81ad682-6e45-42ce-bed1-6b4eff5620c8\" ]\n+  Thing power myPowerSocket [ deviceId=\"c81ad682-6e45-42ce-bed1-6b4eff5620c8\" ]\n+  Thing irrigation_control myIrrigationControl [ deviceId=\"c81ad682-6e45-42ce-bed1-6b4eff5620c8\" ]\n }\n ```\n \n-## Items\n+### Items\n \n In the items file, you can link items to channels of your Things:\n \n ```java\n-Number Battery_Level \"Battery [%d %%]\" {channel=\"gardena:mower:home:myMower:battery#level\"}\n+Number Mower_Battery_Level \"Battery [%d %%]\" {channel=\"gardena:mower:home:myMower:common#batteryLevel\"}\n ```\n \n-## Sensor refresh\n+### Sensor refresh\n \n-You can send a REFRESH command to items linked to these Sensor channels:\n+Sensor refresh commands are not yet supported by the Gardena smart system integration API.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzgwOTEyOQ=="}, "originalCommit": {"oid": "f549d3d4efe014ad5a6354ff596dd5ac9ffaa604"}, "originalPosition": 119}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI4NDIxMzk3OnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.gardena/README.md", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNVQyMDoyODowMFrOHzixyg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNVQyMDoyODowMFrOHzixyg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzgwOTIyNg==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            ###Troubleshooting\n          \n          \n            \n            Occasionally it can happen that the API key is no longer valid.\n          \n          \n            \n            ### Troubleshooting\n          \n          \n            \n            \n          \n          \n            \n            Occasionally it can happen that the API key is no longer valid.", "url": "https://github.com/openhab/openhab-addons/pull/8869#discussion_r523809226", "createdAt": "2020-11-15T20:28:00Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.gardena/README.md", "diffHunk": "@@ -146,12 +129,21 @@ Set the logging back to normal\n log:set INFO org.openhab.binding.gardena\n ```\n \n-**Note:** The Online/Offline status is not always valid. I'm using the ```connection_status``` property Gardena sends for each device, but it seems not to be very reliable.\n-My watering control for example shows offline, but it is still working.\n-I have to press the button on the device, then the status changed to online.\n-My mower always shows online, regardless of whether it is switched on or off.\n-This is not a binding issue, it must be fixed by Gardena.\n-\n-When the binding sends a command to a device, it communicates only with the Gardena online service.\n-It has not control over, whether the command is sent from the online service via your gateway to the device.\n+**Notes and known limitations:** \n+When the binding sends a command to a device, it communicates only with the Gardena smart system integration API.\n+It has no control over whether the command is sent from the online service via your gateway to the device.\n It is the same as if you send the command in the Gardena App.\n+\n+Schedules, sensor-refresh commands, irrigation control master valve configuration etc. are not supported.\n+This binding relies on the GARDENA smart system integration API.\n+Further API documentation: https://developer.1689.cloud/apis/GARDENA+smart+system+API\n+\n+###Troubleshooting\n+Occasionally it can happen that the API key is no longer valid.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f549d3d4efe014ad5a6354ff596dd5ac9ffaa604"}, "originalPosition": 212}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI4NDIxODY3OnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.gardena/src/main/java/org/openhab/binding/gardena/internal/GardenaSmartImpl.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNVQyMDozMjo1M1rOHziz_w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNVQyMDozMjo1M1rOHziz_w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzgwOTc5MQ==", "bodyText": "It seems a bit unreasonable to log the stack trace when the network fails. Also, its good practice to log exceptions where they are eventually cought.", "url": "https://github.com/openhab/openhab-addons/pull/8869#discussion_r523809791", "createdAt": "2020-11-15T20:32:53Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.gardena/src/main/java/org/openhab/binding/gardena/internal/GardenaSmartImpl.java", "diffHunk": "@@ -12,562 +12,376 @@\n  */\n package org.openhab.binding.gardena.internal;\n \n-import java.util.Collection;\n-import java.util.Date;\n-import java.util.HashMap;\n-import java.util.HashSet;\n-import java.util.Map;\n-import java.util.Set;\n-import java.util.concurrent.ExecutionException;\n+import java.util.*;\n import java.util.concurrent.ScheduledExecutorService;\n import java.util.concurrent.ScheduledFuture;\n import java.util.concurrent.TimeUnit;\n-import java.util.stream.Collectors;\n \n-import org.apache.commons.lang.ObjectUtils;\n-import org.apache.commons.lang.StringUtils;\n import org.eclipse.jetty.client.HttpClient;\n-import org.eclipse.jetty.client.HttpResponseException;\n import org.eclipse.jetty.client.api.ContentResponse;\n import org.eclipse.jetty.client.api.Request;\n+import org.eclipse.jetty.client.util.AbstractTypedContentProvider;\n+import org.eclipse.jetty.client.util.FormContentProvider;\n import org.eclipse.jetty.client.util.StringContentProvider;\n import org.eclipse.jetty.http.HttpHeader;\n import org.eclipse.jetty.http.HttpMethod;\n-import org.eclipse.jetty.util.ssl.SslContextFactory;\n+import org.eclipse.jetty.util.Fields;\n import org.openhab.binding.gardena.internal.config.GardenaConfig;\n-import org.openhab.binding.gardena.internal.config.GardenaConfigWrapper;\n import org.openhab.binding.gardena.internal.exception.GardenaDeviceNotFoundException;\n import org.openhab.binding.gardena.internal.exception.GardenaException;\n-import org.openhab.binding.gardena.internal.exception.GardenaUnauthorizedException;\n-import org.openhab.binding.gardena.internal.model.Ability;\n+import org.openhab.binding.gardena.internal.model.DataItemDeserializer;\n import org.openhab.binding.gardena.internal.model.Device;\n-import org.openhab.binding.gardena.internal.model.Devices;\n-import org.openhab.binding.gardena.internal.model.Errors;\n-import org.openhab.binding.gardena.internal.model.Location;\n-import org.openhab.binding.gardena.internal.model.Locations;\n-import org.openhab.binding.gardena.internal.model.NoResult;\n-import org.openhab.binding.gardena.internal.model.Property;\n-import org.openhab.binding.gardena.internal.model.PropertyValue;\n-import org.openhab.binding.gardena.internal.model.Session;\n-import org.openhab.binding.gardena.internal.model.SessionWrapper;\n-import org.openhab.binding.gardena.internal.model.Setting;\n-import org.openhab.binding.gardena.internal.model.command.Command;\n-import org.openhab.binding.gardena.internal.model.command.MowerParkUntilFurtherNoticeCommand;\n-import org.openhab.binding.gardena.internal.model.command.MowerParkUntilNextTimerCommand;\n-import org.openhab.binding.gardena.internal.model.command.MowerStartOverrideTimerCommand;\n-import org.openhab.binding.gardena.internal.model.command.MowerStartResumeScheduleCommand;\n-import org.openhab.binding.gardena.internal.model.command.SensorMeasureAmbientTemperatureCommand;\n-import org.openhab.binding.gardena.internal.model.command.SensorMeasureLightCommand;\n-import org.openhab.binding.gardena.internal.model.command.SensorMeasureSoilHumidityCommand;\n-import org.openhab.binding.gardena.internal.model.command.SensorMeasureSoilTemperatureCommand;\n-import org.openhab.binding.gardena.internal.model.command.SettingCommand;\n-import org.openhab.binding.gardena.internal.model.command.SettingCommandWrapper;\n-import org.openhab.binding.gardena.internal.model.command.WateringCancelOverrideCommand;\n-import org.openhab.binding.gardena.internal.model.command.WateringManualOverrideCommand;\n-import org.openhab.binding.gardena.internal.model.deser.DateDeserializer;\n-import org.openhab.binding.gardena.internal.model.deser.PropertyValueDeserializer;\n-import org.openhab.binding.gardena.internal.model.property.BaseProperty;\n-import org.openhab.binding.gardena.internal.model.property.IrrigationControlWateringProperty;\n-import org.openhab.binding.gardena.internal.model.property.PropertyWrapper;\n-import org.openhab.binding.gardena.internal.model.property.StringProperty;\n+import org.openhab.binding.gardena.internal.model.api.*;\n+import org.openhab.binding.gardena.internal.model.command.GardenaCommand;\n+import org.openhab.binding.gardena.internal.model.command.GardenaCommandRequest;\n+import org.openhab.core.io.net.http.HttpClientFactory;\n+import org.openhab.core.io.net.http.WebSocketFactory;\n import org.slf4j.Logger;\n import org.slf4j.LoggerFactory;\n \n import com.google.gson.Gson;\n import com.google.gson.GsonBuilder;\n \n /**\n- * {@link GardenaSmart} implementation to access Gardena Smart Home.\n+ * {@link GardenaSmart} implementation to access Gardena smart system.\n  *\n  * @author Gerhard Riegler - Initial contribution\n  */\n-public class GardenaSmartImpl implements GardenaSmart {\n+public class GardenaSmartImpl implements GardenaSmart, GardenaSmartWebSocketListener {\n     private final Logger logger = LoggerFactory.getLogger(GardenaSmartImpl.class);\n \n-    public static final String DEVICE_CATEGORY_PUMP = \"electronic_pressure_pump\";\n-    private static final String ABILITY_MOWER = \"mower\";\n-    private static final String ABILITY_OUTLET = \"outlet\";\n-    private static final String ABILITY_HUMIDITY = \"humidity\";\n-    private static final String ABILITY_LIGHT = \"light\";\n-    private static final String ABILITY_AMBIENT_TEMPERATURE = \"ambient_temperature\";\n-    private static final String ABILITY_SOIL_TEMPERATURE = \"soil_temperature\";\n-    private static final String ABILITY_POWER = \"power\";\n-    private static final String ABILITY_WATERING = \"watering\";\n-    private static final String ABILITY_MANUAL_WATERING = \"manual_watering\";\n-\n-    private static final String PROPERTY_BUTTON_MANUAL_OVERRIDE_TIME = \"button_manual_override_time\";\n-    private static final String PROPERTY_POWER_TIMER = \"power_timer\";\n-    private static final String PROPERTY_WATERING_TIMER = \"watering_timer_\";\n-    private static final String PROPERTY_MANUAL_WATERING_TIMER = \"manual_watering_timer\";\n-\n-    private static final String DEVICE_CATEGORY_MOWER = \"mower\";\n-    private static final String DEVICE_CATEGORY_GATEWAY = \"gateway\";\n-\n-    private static final String DEFAULT_MOWER_DURATION = \"180\";\n-\n-    private static final String URL = \"https://smart.gardena.com\";\n-    private static final String URL_LOGIN = URL + \"/v1/auth/token\";\n-    private static final String URL_LOCATIONS = URL + \"/v1/locations/?user_id=\";\n-    private static final String URL_DEVICES = URL + \"/v1/devices/?locationId=\";\n-    private static final String URL_COMMAND = URL + \"/v1/devices/%s/abilities/%s/command?locationId=%s\";\n-    private static final String URL_PROPERTY = URL + \"/v1/devices/%s/abilities/%s/properties/%s?locationId=%s\";\n-    private static final String URL_SETTING = URL + \"/v1/devices/%s/settings/%s?locationId=%s\";\n-\n-    private Gson gson = new GsonBuilder().registerTypeAdapter(Date.class, new DateDeserializer())\n-            .registerTypeAdapter(PropertyValue.class, new PropertyValueDeserializer()).create();\n-    private HttpClient httpClient;\n+    private Gson gson = new GsonBuilder().registerTypeAdapter(DataItem.class, new DataItemDeserializer()).create();\n \n-    private String mowerDuration = DEFAULT_MOWER_DURATION;\n-    private Session session;\n-    private GardenaConfig config;\n-    private String id;\n+    private static final String URL_API_HUSQUARNA = \"https://api.authentication.husqvarnagroup.dev/v1\";\n+    private static final String URL_API_GARDENA = \"https://api.smart.gardena.dev/v1\";\n+    private static final String URL_API_TOKEN = URL_API_HUSQUARNA + \"/oauth2/token\";\n+    private static final String URL_API_WEBSOCKET = URL_API_GARDENA + \"/websocket\";\n+    private static final String URL_API_LOCATIONS = URL_API_GARDENA + \"/locations\";\n+    private static final String URL_API_COMMAND = URL_API_GARDENA + \"/command\";\n \n+    private String id;\n+    private GardenaConfig config;\n     private ScheduledExecutorService scheduler;\n-    private ScheduledFuture<?> refreshThreadFuture;\n-    private RefreshDevicesThread refreshDevicesThread = new RefreshDevicesThread();\n \n+    private Map<String, Device> allDevicesById = new HashMap<>();\n+    private LocationsResponse locationsResponse = new LocationsResponse();\n     private GardenaSmartEventListener eventListener;\n \n-    private Map<String, Device> allDevicesById = new HashMap<>();\n-    private Set<Location> allLocations = new HashSet<>();\n+    private HttpClient httpClient;\n+    private List<GardenaSmartWebSocket> webSockets = new ArrayList<>();\n+    private PostOAuth2Response token;\n+    private boolean initialized = false;\n+    private HttpClientFactory httpClientFactory;\n+    private WebSocketFactory webSocketFactory;\n+\n+    private Set<Device> devicesToNotify = Collections.synchronizedSet(new HashSet<>());\n+    private ScheduledFuture<?> deviceToNotifyFuture;\n \n     @Override\n     public void init(String id, GardenaConfig config, GardenaSmartEventListener eventListener,\n-            ScheduledExecutorService scheduler) throws GardenaException {\n+            ScheduledExecutorService scheduler, HttpClientFactory httpClientFactory, WebSocketFactory webSocketFactory)\n+            throws GardenaException {\n         this.id = id;\n         this.config = config;\n         this.eventListener = eventListener;\n         this.scheduler = scheduler;\n+        this.httpClientFactory = httpClientFactory;\n+        this.webSocketFactory = webSocketFactory;\n \n-        if (!config.isValid()) {\n-            throw new GardenaException(\"Invalid config, no email or password specified\");\n-        }\n-\n-        httpClient = new HttpClient(new SslContextFactory(true));\n-        httpClient.setConnectTimeout(config.getConnectionTimeout() * 1000L);\n+        start();\n+    }\n \n+    /**\n+     * Starts the client, loads the locations and devices.\n+     */\n+    private void start() throws GardenaException {\n+        logger.debug(\"Starting GardenaSmart\");\n         try {\n+            httpClient = httpClientFactory.createHttpClient(id);\n+            httpClient.setConnectTimeout(config.getConnectionTimeout() * 1000L);\n+            httpClient.setIdleTimeout(httpClient.getConnectTimeout());\n             httpClient.start();\n-        } catch (Exception ex) {\n-            throw new GardenaException(ex.getMessage(), ex);\n-        }\n \n-        loadAllDevices();\n-    }\n+            // initially load access token\n+            verifyToken();\n+            locationsResponse = loadLocations();\n \n-    @Override\n-    public void dispose() {\n-        stopRefreshThread(true);\n-        if (httpClient != null) {\n-            try {\n-                httpClient.stop();\n-            } catch (Exception e) {\n-                // ignore\n+            // assemble devices\n+            for (LocationDataItem location : locationsResponse.data) {\n+                LocationResponse locationResponse = loadLocation(location.id);\n+                if (locationResponse.included != null) {\n+                    for (DataItem<?> dataItem : locationResponse.included) {\n+                        handleDataItem(dataItem);\n+                    }\n+                }\n             }\n-            httpClient.destroy();\n+\n+            for (Device device : allDevicesById.values()) {\n+                device.evaluateDeviceType();\n+            }\n+\n+            startWebsockets();\n+            initialized = true;\n+        } catch (Exception ex) {\n+            logger.warn(\"{}\", ex.getMessage(), ex);\n+            throw new GardenaException(ex.getMessage(), ex);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f549d3d4efe014ad5a6354ff596dd5ac9ffaa604"}, "originalPosition": 223}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI4NDIyMTA2OnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.gardena/src/main/java/org/openhab/binding/gardena/internal/GardenaSmartImpl.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNVQyMDozNToyMFrOHzi1Jg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNVQyMDozNToyMFrOHzi1Jg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzgxMDA4Ng==", "bodyText": "You should specify the concrete exceptions you want to catch, since catching Exception catches also all runtime exceptions.", "url": "https://github.com/openhab/openhab-addons/pull/8869#discussion_r523810086", "createdAt": "2020-11-15T20:35:20Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.gardena/src/main/java/org/openhab/binding/gardena/internal/GardenaSmartImpl.java", "diffHunk": "@@ -12,562 +12,376 @@\n  */\n package org.openhab.binding.gardena.internal;\n \n-import java.util.Collection;\n-import java.util.Date;\n-import java.util.HashMap;\n-import java.util.HashSet;\n-import java.util.Map;\n-import java.util.Set;\n-import java.util.concurrent.ExecutionException;\n+import java.util.*;\n import java.util.concurrent.ScheduledExecutorService;\n import java.util.concurrent.ScheduledFuture;\n import java.util.concurrent.TimeUnit;\n-import java.util.stream.Collectors;\n \n-import org.apache.commons.lang.ObjectUtils;\n-import org.apache.commons.lang.StringUtils;\n import org.eclipse.jetty.client.HttpClient;\n-import org.eclipse.jetty.client.HttpResponseException;\n import org.eclipse.jetty.client.api.ContentResponse;\n import org.eclipse.jetty.client.api.Request;\n+import org.eclipse.jetty.client.util.AbstractTypedContentProvider;\n+import org.eclipse.jetty.client.util.FormContentProvider;\n import org.eclipse.jetty.client.util.StringContentProvider;\n import org.eclipse.jetty.http.HttpHeader;\n import org.eclipse.jetty.http.HttpMethod;\n-import org.eclipse.jetty.util.ssl.SslContextFactory;\n+import org.eclipse.jetty.util.Fields;\n import org.openhab.binding.gardena.internal.config.GardenaConfig;\n-import org.openhab.binding.gardena.internal.config.GardenaConfigWrapper;\n import org.openhab.binding.gardena.internal.exception.GardenaDeviceNotFoundException;\n import org.openhab.binding.gardena.internal.exception.GardenaException;\n-import org.openhab.binding.gardena.internal.exception.GardenaUnauthorizedException;\n-import org.openhab.binding.gardena.internal.model.Ability;\n+import org.openhab.binding.gardena.internal.model.DataItemDeserializer;\n import org.openhab.binding.gardena.internal.model.Device;\n-import org.openhab.binding.gardena.internal.model.Devices;\n-import org.openhab.binding.gardena.internal.model.Errors;\n-import org.openhab.binding.gardena.internal.model.Location;\n-import org.openhab.binding.gardena.internal.model.Locations;\n-import org.openhab.binding.gardena.internal.model.NoResult;\n-import org.openhab.binding.gardena.internal.model.Property;\n-import org.openhab.binding.gardena.internal.model.PropertyValue;\n-import org.openhab.binding.gardena.internal.model.Session;\n-import org.openhab.binding.gardena.internal.model.SessionWrapper;\n-import org.openhab.binding.gardena.internal.model.Setting;\n-import org.openhab.binding.gardena.internal.model.command.Command;\n-import org.openhab.binding.gardena.internal.model.command.MowerParkUntilFurtherNoticeCommand;\n-import org.openhab.binding.gardena.internal.model.command.MowerParkUntilNextTimerCommand;\n-import org.openhab.binding.gardena.internal.model.command.MowerStartOverrideTimerCommand;\n-import org.openhab.binding.gardena.internal.model.command.MowerStartResumeScheduleCommand;\n-import org.openhab.binding.gardena.internal.model.command.SensorMeasureAmbientTemperatureCommand;\n-import org.openhab.binding.gardena.internal.model.command.SensorMeasureLightCommand;\n-import org.openhab.binding.gardena.internal.model.command.SensorMeasureSoilHumidityCommand;\n-import org.openhab.binding.gardena.internal.model.command.SensorMeasureSoilTemperatureCommand;\n-import org.openhab.binding.gardena.internal.model.command.SettingCommand;\n-import org.openhab.binding.gardena.internal.model.command.SettingCommandWrapper;\n-import org.openhab.binding.gardena.internal.model.command.WateringCancelOverrideCommand;\n-import org.openhab.binding.gardena.internal.model.command.WateringManualOverrideCommand;\n-import org.openhab.binding.gardena.internal.model.deser.DateDeserializer;\n-import org.openhab.binding.gardena.internal.model.deser.PropertyValueDeserializer;\n-import org.openhab.binding.gardena.internal.model.property.BaseProperty;\n-import org.openhab.binding.gardena.internal.model.property.IrrigationControlWateringProperty;\n-import org.openhab.binding.gardena.internal.model.property.PropertyWrapper;\n-import org.openhab.binding.gardena.internal.model.property.StringProperty;\n+import org.openhab.binding.gardena.internal.model.api.*;\n+import org.openhab.binding.gardena.internal.model.command.GardenaCommand;\n+import org.openhab.binding.gardena.internal.model.command.GardenaCommandRequest;\n+import org.openhab.core.io.net.http.HttpClientFactory;\n+import org.openhab.core.io.net.http.WebSocketFactory;\n import org.slf4j.Logger;\n import org.slf4j.LoggerFactory;\n \n import com.google.gson.Gson;\n import com.google.gson.GsonBuilder;\n \n /**\n- * {@link GardenaSmart} implementation to access Gardena Smart Home.\n+ * {@link GardenaSmart} implementation to access Gardena smart system.\n  *\n  * @author Gerhard Riegler - Initial contribution\n  */\n-public class GardenaSmartImpl implements GardenaSmart {\n+public class GardenaSmartImpl implements GardenaSmart, GardenaSmartWebSocketListener {\n     private final Logger logger = LoggerFactory.getLogger(GardenaSmartImpl.class);\n \n-    public static final String DEVICE_CATEGORY_PUMP = \"electronic_pressure_pump\";\n-    private static final String ABILITY_MOWER = \"mower\";\n-    private static final String ABILITY_OUTLET = \"outlet\";\n-    private static final String ABILITY_HUMIDITY = \"humidity\";\n-    private static final String ABILITY_LIGHT = \"light\";\n-    private static final String ABILITY_AMBIENT_TEMPERATURE = \"ambient_temperature\";\n-    private static final String ABILITY_SOIL_TEMPERATURE = \"soil_temperature\";\n-    private static final String ABILITY_POWER = \"power\";\n-    private static final String ABILITY_WATERING = \"watering\";\n-    private static final String ABILITY_MANUAL_WATERING = \"manual_watering\";\n-\n-    private static final String PROPERTY_BUTTON_MANUAL_OVERRIDE_TIME = \"button_manual_override_time\";\n-    private static final String PROPERTY_POWER_TIMER = \"power_timer\";\n-    private static final String PROPERTY_WATERING_TIMER = \"watering_timer_\";\n-    private static final String PROPERTY_MANUAL_WATERING_TIMER = \"manual_watering_timer\";\n-\n-    private static final String DEVICE_CATEGORY_MOWER = \"mower\";\n-    private static final String DEVICE_CATEGORY_GATEWAY = \"gateway\";\n-\n-    private static final String DEFAULT_MOWER_DURATION = \"180\";\n-\n-    private static final String URL = \"https://smart.gardena.com\";\n-    private static final String URL_LOGIN = URL + \"/v1/auth/token\";\n-    private static final String URL_LOCATIONS = URL + \"/v1/locations/?user_id=\";\n-    private static final String URL_DEVICES = URL + \"/v1/devices/?locationId=\";\n-    private static final String URL_COMMAND = URL + \"/v1/devices/%s/abilities/%s/command?locationId=%s\";\n-    private static final String URL_PROPERTY = URL + \"/v1/devices/%s/abilities/%s/properties/%s?locationId=%s\";\n-    private static final String URL_SETTING = URL + \"/v1/devices/%s/settings/%s?locationId=%s\";\n-\n-    private Gson gson = new GsonBuilder().registerTypeAdapter(Date.class, new DateDeserializer())\n-            .registerTypeAdapter(PropertyValue.class, new PropertyValueDeserializer()).create();\n-    private HttpClient httpClient;\n+    private Gson gson = new GsonBuilder().registerTypeAdapter(DataItem.class, new DataItemDeserializer()).create();\n \n-    private String mowerDuration = DEFAULT_MOWER_DURATION;\n-    private Session session;\n-    private GardenaConfig config;\n-    private String id;\n+    private static final String URL_API_HUSQUARNA = \"https://api.authentication.husqvarnagroup.dev/v1\";\n+    private static final String URL_API_GARDENA = \"https://api.smart.gardena.dev/v1\";\n+    private static final String URL_API_TOKEN = URL_API_HUSQUARNA + \"/oauth2/token\";\n+    private static final String URL_API_WEBSOCKET = URL_API_GARDENA + \"/websocket\";\n+    private static final String URL_API_LOCATIONS = URL_API_GARDENA + \"/locations\";\n+    private static final String URL_API_COMMAND = URL_API_GARDENA + \"/command\";\n \n+    private String id;\n+    private GardenaConfig config;\n     private ScheduledExecutorService scheduler;\n-    private ScheduledFuture<?> refreshThreadFuture;\n-    private RefreshDevicesThread refreshDevicesThread = new RefreshDevicesThread();\n \n+    private Map<String, Device> allDevicesById = new HashMap<>();\n+    private LocationsResponse locationsResponse = new LocationsResponse();\n     private GardenaSmartEventListener eventListener;\n \n-    private Map<String, Device> allDevicesById = new HashMap<>();\n-    private Set<Location> allLocations = new HashSet<>();\n+    private HttpClient httpClient;\n+    private List<GardenaSmartWebSocket> webSockets = new ArrayList<>();\n+    private PostOAuth2Response token;\n+    private boolean initialized = false;\n+    private HttpClientFactory httpClientFactory;\n+    private WebSocketFactory webSocketFactory;\n+\n+    private Set<Device> devicesToNotify = Collections.synchronizedSet(new HashSet<>());\n+    private ScheduledFuture<?> deviceToNotifyFuture;\n \n     @Override\n     public void init(String id, GardenaConfig config, GardenaSmartEventListener eventListener,\n-            ScheduledExecutorService scheduler) throws GardenaException {\n+            ScheduledExecutorService scheduler, HttpClientFactory httpClientFactory, WebSocketFactory webSocketFactory)\n+            throws GardenaException {\n         this.id = id;\n         this.config = config;\n         this.eventListener = eventListener;\n         this.scheduler = scheduler;\n+        this.httpClientFactory = httpClientFactory;\n+        this.webSocketFactory = webSocketFactory;\n \n-        if (!config.isValid()) {\n-            throw new GardenaException(\"Invalid config, no email or password specified\");\n-        }\n-\n-        httpClient = new HttpClient(new SslContextFactory(true));\n-        httpClient.setConnectTimeout(config.getConnectionTimeout() * 1000L);\n+        start();\n+    }\n \n+    /**\n+     * Starts the client, loads the locations and devices.\n+     */\n+    private void start() throws GardenaException {\n+        logger.debug(\"Starting GardenaSmart\");\n         try {\n+            httpClient = httpClientFactory.createHttpClient(id);\n+            httpClient.setConnectTimeout(config.getConnectionTimeout() * 1000L);\n+            httpClient.setIdleTimeout(httpClient.getConnectTimeout());\n             httpClient.start();\n-        } catch (Exception ex) {\n-            throw new GardenaException(ex.getMessage(), ex);\n-        }\n \n-        loadAllDevices();\n-    }\n+            // initially load access token\n+            verifyToken();\n+            locationsResponse = loadLocations();\n \n-    @Override\n-    public void dispose() {\n-        stopRefreshThread(true);\n-        if (httpClient != null) {\n-            try {\n-                httpClient.stop();\n-            } catch (Exception e) {\n-                // ignore\n+            // assemble devices\n+            for (LocationDataItem location : locationsResponse.data) {\n+                LocationResponse locationResponse = loadLocation(location.id);\n+                if (locationResponse.included != null) {\n+                    for (DataItem<?> dataItem : locationResponse.included) {\n+                        handleDataItem(dataItem);\n+                    }\n+                }\n             }\n-            httpClient.destroy();\n+\n+            for (Device device : allDevicesById.values()) {\n+                device.evaluateDeviceType();\n+            }\n+\n+            startWebsockets();\n+            initialized = true;\n+        } catch (Exception ex) {\n+            logger.warn(\"{}\", ex.getMessage(), ex);\n+            throw new GardenaException(ex.getMessage(), ex);\n         }\n-        allLocations.clear();\n-        allDevicesById.clear();\n     }\n \n     /**\n-     * Schedules the device refresh thread.\n+     * Starts the websockets for each location.\n      */\n-    private void startRefreshThread() {\n-        refreshThreadFuture = scheduler.scheduleWithFixedDelay(refreshDevicesThread, 6, config.getRefresh(),\n-                TimeUnit.SECONDS);\n+    private void startWebsockets() throws Exception {\n+        for (LocationDataItem location : locationsResponse.data) {\n+            WebSocketCreatedResponse webSocketCreatedResponse = getWebsocketInfo(location.id);\n+            String socketId = id + \"-\" + location.attributes.name;\n+            webSockets.add(new GardenaSmartWebSocket(this, webSocketCreatedResponse, config, scheduler,\n+                    webSocketFactory, token, socketId));\n+        }\n     }\n \n     /**\n-     * Stops the device refresh thread.\n+     * Stops all websockets.\n      */\n-    private void stopRefreshThread(boolean force) {\n-        if (refreshThreadFuture != null) {\n-            refreshThreadFuture.cancel(force);\n-        }\n-    }\n-\n-    @Override\n-    public String getId() {\n-        return id;\n-    }\n-\n-    @Override\n-    public Set<Location> getLocations() {\n-        return allLocations;\n-    }\n-\n-    @Override\n-    public Device getDevice(String deviceId) throws GardenaException {\n-        Device device = allDevicesById.get(deviceId);\n-        if (device == null) {\n-            throw new GardenaDeviceNotFoundException(\n-                    String.format(\"Device with id '%s' not found on gateway '%s'\", deviceId, id));\n-        }\n-        return device;\n-    }\n-\n-    @Override\n-    public void loadAllDevices() throws GardenaException {\n-        stopRefreshThread(false);\n-        try {\n-            allLocations.clear();\n-            allDevicesById.clear();\n-\n-            verifySession();\n-            Locations locations = executeRequest(HttpMethod.GET,\n-                    URL_LOCATIONS + session.getSessionAttributes().getUserId(), null, Locations.class);\n-\n-            for (Location location : locations.getLocations()) {\n-                allLocations.add(location);\n-                Devices devices = loadDevices(location);\n-                for (Device device : devices.getDevices()) {\n-                    if (DEVICE_CATEGORY_GATEWAY.equals(device.getCategory())) {\n-                        location.getDeviceIds().remove(device.getId());\n-                    } else {\n-                        allDevicesById.put(device.getId(), device);\n-                    }\n-                }\n-            }\n-        } finally {\n-            startRefreshThread();\n+    private void stopWebsockets() {\n+        for (GardenaSmartWebSocket webSocket : webSockets) {\n+            webSocket.stop();\n         }\n+        webSockets.clear();\n     }\n \n     /**\n-     * Loads all devices for the location, adds virtual properties for commands.\n+     * Communicates with Gardena smart home system and parses the result.\n      */\n-    private Devices loadDevices(Location location) throws GardenaException {\n-        Devices devices = executeRequest(HttpMethod.GET, URL_DEVICES + location.getId(), null, Devices.class);\n-        for (Device device : devices.getDevices()) {\n-            device.setLocation(location);\n-            for (Ability ability : device.getAbilities()) {\n-                ability.setDevice(device);\n-                for (Property property : ability.getProperties()) {\n-                    property.setAbility(ability);\n-\n-                    if (device.getCategory().equals(DEVICE_CATEGORY_PUMP)) {\n-                        if (property.getName().equals(PROPERTY_MANUAL_WATERING_TIMER)) {\n-                            Integer duration = getIntegerValue(property.getValueAsString());\n-                            if (duration == null) {\n-                                duration = 0;\n-                            }\n-                            property.setValue(new PropertyValue(String.valueOf(duration / 60)));\n-                        }\n-                    }\n+    private <T> T executeRequest(HttpMethod method, String url, Object content, Class<T> result)\n+            throws GardenaException {\n+        try {\n+            AbstractTypedContentProvider contentProvider = null;\n+            String contentType = \"application/vnd.api+json\";\n+            if (content != null) {\n+                if (content instanceof Fields) {\n+                    contentProvider = new FormContentProvider((Fields) content);\n+                    contentType = \"application/x-www-form-urlencoded\";\n+                } else {\n+                    contentProvider = new StringContentProvider(gson.toJson(content));\n                 }\n             }\n-            for (Setting setting : device.getSettings()) {\n-                setting.setDevice(device);\n+\n+            if (logger.isTraceEnabled()) {\n+                logger.trace(\">>> {} {}, data: {}\", method, url, content == null ? null : gson.toJson(content));\n             }\n \n-            if (DEVICE_CATEGORY_MOWER.equals(device.getCategory())) {\n-                Ability mower = device.getAbility(ABILITY_MOWER);\n-                mower.addProperty(new Property(GardenaSmartCommandName.PARK_UNTIL_NEXT_TIMER, \"false\"));\n-                mower.addProperty(new Property(GardenaSmartCommandName.PARK_UNTIL_FURTHER_NOTICE, \"false\"));\n-                mower.addProperty(new Property(GardenaSmartCommandName.START_RESUME_SCHEDULE, \"false\"));\n-                mower.addProperty(new Property(GardenaSmartCommandName.START_OVERRIDE_TIMER, \"false\"));\n+            Request request = httpClient.newRequest(url).method(method).header(HttpHeader.CONTENT_TYPE, contentType)\n+                    .header(HttpHeader.ACCEPT, \"application/vnd.api+json\").header(HttpHeader.ACCEPT_ENCODING, \"gzip\");\n \n-                mower.addProperty(new Property(GardenaSmartCommandName.DURATION_PROPERTY, mowerDuration));\n+            if (!URL_API_TOKEN.equals(url)) {\n+                verifyToken();\n+                request.header(\"Authorization\", token.tokenType + \" \" + token.accessToken);\n+                request.header(\"Authorization-provider\", token.provider);\n+                request.header(\"X-Api-Key\", config.getApiKey());\n             }\n-        }\n-        return devices;\n-    }\n \n-    @Override\n-    public void sendCommand(Device device, GardenaSmartCommandName commandName, Object value) throws GardenaException {\n-        Ability ability = null;\n-        Command command = null;\n-\n-        switch (commandName) {\n-            case PARK_UNTIL_NEXT_TIMER:\n-                ability = device.getAbility(ABILITY_MOWER);\n-                command = new MowerParkUntilNextTimerCommand();\n-                break;\n-            case PARK_UNTIL_FURTHER_NOTICE:\n-                ability = device.getAbility(ABILITY_MOWER);\n-                command = new MowerParkUntilFurtherNoticeCommand();\n-                break;\n-            case START_RESUME_SCHEDULE:\n-                ability = device.getAbility(ABILITY_MOWER);\n-                command = new MowerStartResumeScheduleCommand();\n-                break;\n-            case START_OVERRIDE_TIMER:\n-                ability = device.getAbility(ABILITY_MOWER);\n-                command = new MowerStartOverrideTimerCommand(mowerDuration);\n-                break;\n-            case DURATION_PROPERTY:\n-                if (value == null) {\n-                    throw new GardenaException(\"Command '\" + commandName + \"' requires a value\");\n-                }\n-                mowerDuration = ObjectUtils.toString(value);\n-                return;\n-            case MEASURE_AMBIENT_TEMPERATURE:\n-                ability = device.getAbility(ABILITY_AMBIENT_TEMPERATURE);\n-                command = new SensorMeasureAmbientTemperatureCommand();\n-                break;\n-            case MEASURE_LIGHT:\n-                ability = device.getAbility(ABILITY_LIGHT);\n-                command = new SensorMeasureLightCommand();\n-                break;\n-            case MEASURE_SOIL_HUMIDITY:\n-                ability = device.getAbility(ABILITY_HUMIDITY);\n-                command = new SensorMeasureSoilHumidityCommand();\n-                break;\n-            case MEASURE_SOIL_TEMPERATURE:\n-                ability = device.getAbility(ABILITY_SOIL_TEMPERATURE);\n-                command = new SensorMeasureSoilTemperatureCommand();\n-                break;\n-            case OUTLET_MANUAL_OVERRIDE_TIME:\n-                if (value == null) {\n-                    throw new GardenaException(\"Command '\" + commandName + \"' requires a value\");\n-                }\n-                StringProperty prop = new StringProperty(PROPERTY_BUTTON_MANUAL_OVERRIDE_TIME,\n-                        ObjectUtils.toString(value));\n-\n-                executeSetProperty(device, ABILITY_OUTLET, PROPERTY_BUTTON_MANUAL_OVERRIDE_TIME, prop);\n-                break;\n-            case OUTLET_VALVE:\n-                ability = device.getAbility(ABILITY_OUTLET);\n-                if (value != null && value == Boolean.TRUE) {\n-                    String wateringDuration = device.getAbility(ABILITY_OUTLET)\n-                            .getProperty(PROPERTY_BUTTON_MANUAL_OVERRIDE_TIME).getValueAsString();\n-                    command = new WateringManualOverrideCommand(wateringDuration);\n-                } else {\n-                    command = new WateringCancelOverrideCommand();\n-                }\n-                break;\n-            case POWER_TIMER:\n-                if (value == null) {\n-                    throw new GardenaException(\"Command '\" + commandName + \"' requires a value\");\n-                }\n-                prop = new StringProperty(PROPERTY_POWER_TIMER, ObjectUtils.toString(value));\n-                executeSetProperty(device, ABILITY_POWER, PROPERTY_POWER_TIMER, prop);\n-                break;\n-            case WATERING_TIMER_VALVE_1:\n-            case WATERING_TIMER_VALVE_2:\n-            case WATERING_TIMER_VALVE_3:\n-            case WATERING_TIMER_VALVE_4:\n-            case WATERING_TIMER_VALVE_5:\n-            case WATERING_TIMER_VALVE_6:\n-                if (value == null) {\n-                    throw new GardenaException(\"Command '\" + commandName + \"' requires a value\");\n-                } else if (!(value instanceof Integer)) {\n-                    throw new GardenaException(\"Watering duration value '\" + value + \"' not a number\");\n-                }\n-                int valveId = Integer.parseInt(StringUtils.right(commandName.toString(), 1));\n-                String wateringTimerProperty = PROPERTY_WATERING_TIMER + valveId;\n-                IrrigationControlWateringProperty irrigationProp = new IrrigationControlWateringProperty(\n-                        wateringTimerProperty, (Integer) value, valveId);\n-                executeSetProperty(device, ABILITY_WATERING, wateringTimerProperty, irrigationProp);\n-                break;\n-            case PUMP_MANUAL_WATERING_TIMER:\n-                Integer duration = getIntegerValue(value);\n-                if (duration == null) {\n-                    throw new GardenaException(\"Command '\" + commandName + \"' requires a number value\");\n-                }\n-                prop = new StringProperty(PROPERTY_MANUAL_WATERING_TIMER, String.valueOf(duration * 60));\n+            request.content(contentProvider);\n+            ContentResponse contentResponse = request.send();\n+            int status = contentResponse.getStatus();\n+            if (logger.isTraceEnabled()) {\n+                logger.trace(\"<<< status:{}, {}\", status, contentResponse.getContentAsString());\n+            }\n \n-                executeSetProperty(device, ABILITY_MANUAL_WATERING, PROPERTY_MANUAL_WATERING_TIMER, prop);\n-                break;\n-            default:\n-                throw new GardenaException(\"Unknown command \" + commandName);\n-        }\n+            if (status != 200 && status != 204 && status != 201 && status != 202) {\n+                throw new GardenaException(String.format(\"Error %s %s, %s\", status, contentResponse.getReason(), contentResponse.getContentAsString()));\n+            }\n \n-        if (command != null) {\n-            stopRefreshThread(false);\n-            executeRequest(HttpMethod.POST, getCommandUrl(device, ability), command, NoResult.class);\n-            startRefreshThread();\n+            if (result == null) {\n+                return null;\n+            }\n+            return gson.fromJson(contentResponse.getContentAsString(), result);\n+        } catch (Exception ex) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f549d3d4efe014ad5a6354ff596dd5ac9ffaa604"}, "originalPosition": 485}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI4NDIyMzIxOnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.gardena/src/main/java/org/openhab/binding/gardena/internal/GardenaSmartImpl.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNVQyMDozNzozN1rOHzi2MA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNVQyMDozNzozN1rOHzi2MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzgxMDM1Mg==", "bodyText": "See above", "url": "https://github.com/openhab/openhab-addons/pull/8869#discussion_r523810352", "createdAt": "2020-11-15T20:37:37Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.gardena/src/main/java/org/openhab/binding/gardena/internal/GardenaSmartImpl.java", "diffHunk": "@@ -12,562 +12,376 @@\n  */\n package org.openhab.binding.gardena.internal;\n \n-import java.util.Collection;\n-import java.util.Date;\n-import java.util.HashMap;\n-import java.util.HashSet;\n-import java.util.Map;\n-import java.util.Set;\n-import java.util.concurrent.ExecutionException;\n+import java.util.*;\n import java.util.concurrent.ScheduledExecutorService;\n import java.util.concurrent.ScheduledFuture;\n import java.util.concurrent.TimeUnit;\n-import java.util.stream.Collectors;\n \n-import org.apache.commons.lang.ObjectUtils;\n-import org.apache.commons.lang.StringUtils;\n import org.eclipse.jetty.client.HttpClient;\n-import org.eclipse.jetty.client.HttpResponseException;\n import org.eclipse.jetty.client.api.ContentResponse;\n import org.eclipse.jetty.client.api.Request;\n+import org.eclipse.jetty.client.util.AbstractTypedContentProvider;\n+import org.eclipse.jetty.client.util.FormContentProvider;\n import org.eclipse.jetty.client.util.StringContentProvider;\n import org.eclipse.jetty.http.HttpHeader;\n import org.eclipse.jetty.http.HttpMethod;\n-import org.eclipse.jetty.util.ssl.SslContextFactory;\n+import org.eclipse.jetty.util.Fields;\n import org.openhab.binding.gardena.internal.config.GardenaConfig;\n-import org.openhab.binding.gardena.internal.config.GardenaConfigWrapper;\n import org.openhab.binding.gardena.internal.exception.GardenaDeviceNotFoundException;\n import org.openhab.binding.gardena.internal.exception.GardenaException;\n-import org.openhab.binding.gardena.internal.exception.GardenaUnauthorizedException;\n-import org.openhab.binding.gardena.internal.model.Ability;\n+import org.openhab.binding.gardena.internal.model.DataItemDeserializer;\n import org.openhab.binding.gardena.internal.model.Device;\n-import org.openhab.binding.gardena.internal.model.Devices;\n-import org.openhab.binding.gardena.internal.model.Errors;\n-import org.openhab.binding.gardena.internal.model.Location;\n-import org.openhab.binding.gardena.internal.model.Locations;\n-import org.openhab.binding.gardena.internal.model.NoResult;\n-import org.openhab.binding.gardena.internal.model.Property;\n-import org.openhab.binding.gardena.internal.model.PropertyValue;\n-import org.openhab.binding.gardena.internal.model.Session;\n-import org.openhab.binding.gardena.internal.model.SessionWrapper;\n-import org.openhab.binding.gardena.internal.model.Setting;\n-import org.openhab.binding.gardena.internal.model.command.Command;\n-import org.openhab.binding.gardena.internal.model.command.MowerParkUntilFurtherNoticeCommand;\n-import org.openhab.binding.gardena.internal.model.command.MowerParkUntilNextTimerCommand;\n-import org.openhab.binding.gardena.internal.model.command.MowerStartOverrideTimerCommand;\n-import org.openhab.binding.gardena.internal.model.command.MowerStartResumeScheduleCommand;\n-import org.openhab.binding.gardena.internal.model.command.SensorMeasureAmbientTemperatureCommand;\n-import org.openhab.binding.gardena.internal.model.command.SensorMeasureLightCommand;\n-import org.openhab.binding.gardena.internal.model.command.SensorMeasureSoilHumidityCommand;\n-import org.openhab.binding.gardena.internal.model.command.SensorMeasureSoilTemperatureCommand;\n-import org.openhab.binding.gardena.internal.model.command.SettingCommand;\n-import org.openhab.binding.gardena.internal.model.command.SettingCommandWrapper;\n-import org.openhab.binding.gardena.internal.model.command.WateringCancelOverrideCommand;\n-import org.openhab.binding.gardena.internal.model.command.WateringManualOverrideCommand;\n-import org.openhab.binding.gardena.internal.model.deser.DateDeserializer;\n-import org.openhab.binding.gardena.internal.model.deser.PropertyValueDeserializer;\n-import org.openhab.binding.gardena.internal.model.property.BaseProperty;\n-import org.openhab.binding.gardena.internal.model.property.IrrigationControlWateringProperty;\n-import org.openhab.binding.gardena.internal.model.property.PropertyWrapper;\n-import org.openhab.binding.gardena.internal.model.property.StringProperty;\n+import org.openhab.binding.gardena.internal.model.api.*;\n+import org.openhab.binding.gardena.internal.model.command.GardenaCommand;\n+import org.openhab.binding.gardena.internal.model.command.GardenaCommandRequest;\n+import org.openhab.core.io.net.http.HttpClientFactory;\n+import org.openhab.core.io.net.http.WebSocketFactory;\n import org.slf4j.Logger;\n import org.slf4j.LoggerFactory;\n \n import com.google.gson.Gson;\n import com.google.gson.GsonBuilder;\n \n /**\n- * {@link GardenaSmart} implementation to access Gardena Smart Home.\n+ * {@link GardenaSmart} implementation to access Gardena smart system.\n  *\n  * @author Gerhard Riegler - Initial contribution\n  */\n-public class GardenaSmartImpl implements GardenaSmart {\n+public class GardenaSmartImpl implements GardenaSmart, GardenaSmartWebSocketListener {\n     private final Logger logger = LoggerFactory.getLogger(GardenaSmartImpl.class);\n \n-    public static final String DEVICE_CATEGORY_PUMP = \"electronic_pressure_pump\";\n-    private static final String ABILITY_MOWER = \"mower\";\n-    private static final String ABILITY_OUTLET = \"outlet\";\n-    private static final String ABILITY_HUMIDITY = \"humidity\";\n-    private static final String ABILITY_LIGHT = \"light\";\n-    private static final String ABILITY_AMBIENT_TEMPERATURE = \"ambient_temperature\";\n-    private static final String ABILITY_SOIL_TEMPERATURE = \"soil_temperature\";\n-    private static final String ABILITY_POWER = \"power\";\n-    private static final String ABILITY_WATERING = \"watering\";\n-    private static final String ABILITY_MANUAL_WATERING = \"manual_watering\";\n-\n-    private static final String PROPERTY_BUTTON_MANUAL_OVERRIDE_TIME = \"button_manual_override_time\";\n-    private static final String PROPERTY_POWER_TIMER = \"power_timer\";\n-    private static final String PROPERTY_WATERING_TIMER = \"watering_timer_\";\n-    private static final String PROPERTY_MANUAL_WATERING_TIMER = \"manual_watering_timer\";\n-\n-    private static final String DEVICE_CATEGORY_MOWER = \"mower\";\n-    private static final String DEVICE_CATEGORY_GATEWAY = \"gateway\";\n-\n-    private static final String DEFAULT_MOWER_DURATION = \"180\";\n-\n-    private static final String URL = \"https://smart.gardena.com\";\n-    private static final String URL_LOGIN = URL + \"/v1/auth/token\";\n-    private static final String URL_LOCATIONS = URL + \"/v1/locations/?user_id=\";\n-    private static final String URL_DEVICES = URL + \"/v1/devices/?locationId=\";\n-    private static final String URL_COMMAND = URL + \"/v1/devices/%s/abilities/%s/command?locationId=%s\";\n-    private static final String URL_PROPERTY = URL + \"/v1/devices/%s/abilities/%s/properties/%s?locationId=%s\";\n-    private static final String URL_SETTING = URL + \"/v1/devices/%s/settings/%s?locationId=%s\";\n-\n-    private Gson gson = new GsonBuilder().registerTypeAdapter(Date.class, new DateDeserializer())\n-            .registerTypeAdapter(PropertyValue.class, new PropertyValueDeserializer()).create();\n-    private HttpClient httpClient;\n+    private Gson gson = new GsonBuilder().registerTypeAdapter(DataItem.class, new DataItemDeserializer()).create();\n \n-    private String mowerDuration = DEFAULT_MOWER_DURATION;\n-    private Session session;\n-    private GardenaConfig config;\n-    private String id;\n+    private static final String URL_API_HUSQUARNA = \"https://api.authentication.husqvarnagroup.dev/v1\";\n+    private static final String URL_API_GARDENA = \"https://api.smart.gardena.dev/v1\";\n+    private static final String URL_API_TOKEN = URL_API_HUSQUARNA + \"/oauth2/token\";\n+    private static final String URL_API_WEBSOCKET = URL_API_GARDENA + \"/websocket\";\n+    private static final String URL_API_LOCATIONS = URL_API_GARDENA + \"/locations\";\n+    private static final String URL_API_COMMAND = URL_API_GARDENA + \"/command\";\n \n+    private String id;\n+    private GardenaConfig config;\n     private ScheduledExecutorService scheduler;\n-    private ScheduledFuture<?> refreshThreadFuture;\n-    private RefreshDevicesThread refreshDevicesThread = new RefreshDevicesThread();\n \n+    private Map<String, Device> allDevicesById = new HashMap<>();\n+    private LocationsResponse locationsResponse = new LocationsResponse();\n     private GardenaSmartEventListener eventListener;\n \n-    private Map<String, Device> allDevicesById = new HashMap<>();\n-    private Set<Location> allLocations = new HashSet<>();\n+    private HttpClient httpClient;\n+    private List<GardenaSmartWebSocket> webSockets = new ArrayList<>();\n+    private PostOAuth2Response token;\n+    private boolean initialized = false;\n+    private HttpClientFactory httpClientFactory;\n+    private WebSocketFactory webSocketFactory;\n+\n+    private Set<Device> devicesToNotify = Collections.synchronizedSet(new HashSet<>());\n+    private ScheduledFuture<?> deviceToNotifyFuture;\n \n     @Override\n     public void init(String id, GardenaConfig config, GardenaSmartEventListener eventListener,\n-            ScheduledExecutorService scheduler) throws GardenaException {\n+            ScheduledExecutorService scheduler, HttpClientFactory httpClientFactory, WebSocketFactory webSocketFactory)\n+            throws GardenaException {\n         this.id = id;\n         this.config = config;\n         this.eventListener = eventListener;\n         this.scheduler = scheduler;\n+        this.httpClientFactory = httpClientFactory;\n+        this.webSocketFactory = webSocketFactory;\n \n-        if (!config.isValid()) {\n-            throw new GardenaException(\"Invalid config, no email or password specified\");\n-        }\n-\n-        httpClient = new HttpClient(new SslContextFactory(true));\n-        httpClient.setConnectTimeout(config.getConnectionTimeout() * 1000L);\n+        start();\n+    }\n \n+    /**\n+     * Starts the client, loads the locations and devices.\n+     */\n+    private void start() throws GardenaException {\n+        logger.debug(\"Starting GardenaSmart\");\n         try {\n+            httpClient = httpClientFactory.createHttpClient(id);\n+            httpClient.setConnectTimeout(config.getConnectionTimeout() * 1000L);\n+            httpClient.setIdleTimeout(httpClient.getConnectTimeout());\n             httpClient.start();\n-        } catch (Exception ex) {\n-            throw new GardenaException(ex.getMessage(), ex);\n-        }\n \n-        loadAllDevices();\n-    }\n+            // initially load access token\n+            verifyToken();\n+            locationsResponse = loadLocations();\n \n-    @Override\n-    public void dispose() {\n-        stopRefreshThread(true);\n-        if (httpClient != null) {\n-            try {\n-                httpClient.stop();\n-            } catch (Exception e) {\n-                // ignore\n+            // assemble devices\n+            for (LocationDataItem location : locationsResponse.data) {\n+                LocationResponse locationResponse = loadLocation(location.id);\n+                if (locationResponse.included != null) {\n+                    for (DataItem<?> dataItem : locationResponse.included) {\n+                        handleDataItem(dataItem);\n+                    }\n+                }\n             }\n-            httpClient.destroy();\n+\n+            for (Device device : allDevicesById.values()) {\n+                device.evaluateDeviceType();\n+            }\n+\n+            startWebsockets();\n+            initialized = true;\n+        } catch (Exception ex) {\n+            logger.warn(\"{}\", ex.getMessage(), ex);\n+            throw new GardenaException(ex.getMessage(), ex);\n         }\n-        allLocations.clear();\n-        allDevicesById.clear();\n     }\n \n     /**\n-     * Schedules the device refresh thread.\n+     * Starts the websockets for each location.\n      */\n-    private void startRefreshThread() {\n-        refreshThreadFuture = scheduler.scheduleWithFixedDelay(refreshDevicesThread, 6, config.getRefresh(),\n-                TimeUnit.SECONDS);\n+    private void startWebsockets() throws Exception {\n+        for (LocationDataItem location : locationsResponse.data) {\n+            WebSocketCreatedResponse webSocketCreatedResponse = getWebsocketInfo(location.id);\n+            String socketId = id + \"-\" + location.attributes.name;\n+            webSockets.add(new GardenaSmartWebSocket(this, webSocketCreatedResponse, config, scheduler,\n+                    webSocketFactory, token, socketId));\n+        }\n     }\n \n     /**\n-     * Stops the device refresh thread.\n+     * Stops all websockets.\n      */\n-    private void stopRefreshThread(boolean force) {\n-        if (refreshThreadFuture != null) {\n-            refreshThreadFuture.cancel(force);\n-        }\n-    }\n-\n-    @Override\n-    public String getId() {\n-        return id;\n-    }\n-\n-    @Override\n-    public Set<Location> getLocations() {\n-        return allLocations;\n-    }\n-\n-    @Override\n-    public Device getDevice(String deviceId) throws GardenaException {\n-        Device device = allDevicesById.get(deviceId);\n-        if (device == null) {\n-            throw new GardenaDeviceNotFoundException(\n-                    String.format(\"Device with id '%s' not found on gateway '%s'\", deviceId, id));\n-        }\n-        return device;\n-    }\n-\n-    @Override\n-    public void loadAllDevices() throws GardenaException {\n-        stopRefreshThread(false);\n-        try {\n-            allLocations.clear();\n-            allDevicesById.clear();\n-\n-            verifySession();\n-            Locations locations = executeRequest(HttpMethod.GET,\n-                    URL_LOCATIONS + session.getSessionAttributes().getUserId(), null, Locations.class);\n-\n-            for (Location location : locations.getLocations()) {\n-                allLocations.add(location);\n-                Devices devices = loadDevices(location);\n-                for (Device device : devices.getDevices()) {\n-                    if (DEVICE_CATEGORY_GATEWAY.equals(device.getCategory())) {\n-                        location.getDeviceIds().remove(device.getId());\n-                    } else {\n-                        allDevicesById.put(device.getId(), device);\n-                    }\n-                }\n-            }\n-        } finally {\n-            startRefreshThread();\n+    private void stopWebsockets() {\n+        for (GardenaSmartWebSocket webSocket : webSockets) {\n+            webSocket.stop();\n         }\n+        webSockets.clear();\n     }\n \n     /**\n-     * Loads all devices for the location, adds virtual properties for commands.\n+     * Communicates with Gardena smart home system and parses the result.\n      */\n-    private Devices loadDevices(Location location) throws GardenaException {\n-        Devices devices = executeRequest(HttpMethod.GET, URL_DEVICES + location.getId(), null, Devices.class);\n-        for (Device device : devices.getDevices()) {\n-            device.setLocation(location);\n-            for (Ability ability : device.getAbilities()) {\n-                ability.setDevice(device);\n-                for (Property property : ability.getProperties()) {\n-                    property.setAbility(ability);\n-\n-                    if (device.getCategory().equals(DEVICE_CATEGORY_PUMP)) {\n-                        if (property.getName().equals(PROPERTY_MANUAL_WATERING_TIMER)) {\n-                            Integer duration = getIntegerValue(property.getValueAsString());\n-                            if (duration == null) {\n-                                duration = 0;\n-                            }\n-                            property.setValue(new PropertyValue(String.valueOf(duration / 60)));\n-                        }\n-                    }\n+    private <T> T executeRequest(HttpMethod method, String url, Object content, Class<T> result)\n+            throws GardenaException {\n+        try {\n+            AbstractTypedContentProvider contentProvider = null;\n+            String contentType = \"application/vnd.api+json\";\n+            if (content != null) {\n+                if (content instanceof Fields) {\n+                    contentProvider = new FormContentProvider((Fields) content);\n+                    contentType = \"application/x-www-form-urlencoded\";\n+                } else {\n+                    contentProvider = new StringContentProvider(gson.toJson(content));\n                 }\n             }\n-            for (Setting setting : device.getSettings()) {\n-                setting.setDevice(device);\n+\n+            if (logger.isTraceEnabled()) {\n+                logger.trace(\">>> {} {}, data: {}\", method, url, content == null ? null : gson.toJson(content));\n             }\n \n-            if (DEVICE_CATEGORY_MOWER.equals(device.getCategory())) {\n-                Ability mower = device.getAbility(ABILITY_MOWER);\n-                mower.addProperty(new Property(GardenaSmartCommandName.PARK_UNTIL_NEXT_TIMER, \"false\"));\n-                mower.addProperty(new Property(GardenaSmartCommandName.PARK_UNTIL_FURTHER_NOTICE, \"false\"));\n-                mower.addProperty(new Property(GardenaSmartCommandName.START_RESUME_SCHEDULE, \"false\"));\n-                mower.addProperty(new Property(GardenaSmartCommandName.START_OVERRIDE_TIMER, \"false\"));\n+            Request request = httpClient.newRequest(url).method(method).header(HttpHeader.CONTENT_TYPE, contentType)\n+                    .header(HttpHeader.ACCEPT, \"application/vnd.api+json\").header(HttpHeader.ACCEPT_ENCODING, \"gzip\");\n \n-                mower.addProperty(new Property(GardenaSmartCommandName.DURATION_PROPERTY, mowerDuration));\n+            if (!URL_API_TOKEN.equals(url)) {\n+                verifyToken();\n+                request.header(\"Authorization\", token.tokenType + \" \" + token.accessToken);\n+                request.header(\"Authorization-provider\", token.provider);\n+                request.header(\"X-Api-Key\", config.getApiKey());\n             }\n-        }\n-        return devices;\n-    }\n \n-    @Override\n-    public void sendCommand(Device device, GardenaSmartCommandName commandName, Object value) throws GardenaException {\n-        Ability ability = null;\n-        Command command = null;\n-\n-        switch (commandName) {\n-            case PARK_UNTIL_NEXT_TIMER:\n-                ability = device.getAbility(ABILITY_MOWER);\n-                command = new MowerParkUntilNextTimerCommand();\n-                break;\n-            case PARK_UNTIL_FURTHER_NOTICE:\n-                ability = device.getAbility(ABILITY_MOWER);\n-                command = new MowerParkUntilFurtherNoticeCommand();\n-                break;\n-            case START_RESUME_SCHEDULE:\n-                ability = device.getAbility(ABILITY_MOWER);\n-                command = new MowerStartResumeScheduleCommand();\n-                break;\n-            case START_OVERRIDE_TIMER:\n-                ability = device.getAbility(ABILITY_MOWER);\n-                command = new MowerStartOverrideTimerCommand(mowerDuration);\n-                break;\n-            case DURATION_PROPERTY:\n-                if (value == null) {\n-                    throw new GardenaException(\"Command '\" + commandName + \"' requires a value\");\n-                }\n-                mowerDuration = ObjectUtils.toString(value);\n-                return;\n-            case MEASURE_AMBIENT_TEMPERATURE:\n-                ability = device.getAbility(ABILITY_AMBIENT_TEMPERATURE);\n-                command = new SensorMeasureAmbientTemperatureCommand();\n-                break;\n-            case MEASURE_LIGHT:\n-                ability = device.getAbility(ABILITY_LIGHT);\n-                command = new SensorMeasureLightCommand();\n-                break;\n-            case MEASURE_SOIL_HUMIDITY:\n-                ability = device.getAbility(ABILITY_HUMIDITY);\n-                command = new SensorMeasureSoilHumidityCommand();\n-                break;\n-            case MEASURE_SOIL_TEMPERATURE:\n-                ability = device.getAbility(ABILITY_SOIL_TEMPERATURE);\n-                command = new SensorMeasureSoilTemperatureCommand();\n-                break;\n-            case OUTLET_MANUAL_OVERRIDE_TIME:\n-                if (value == null) {\n-                    throw new GardenaException(\"Command '\" + commandName + \"' requires a value\");\n-                }\n-                StringProperty prop = new StringProperty(PROPERTY_BUTTON_MANUAL_OVERRIDE_TIME,\n-                        ObjectUtils.toString(value));\n-\n-                executeSetProperty(device, ABILITY_OUTLET, PROPERTY_BUTTON_MANUAL_OVERRIDE_TIME, prop);\n-                break;\n-            case OUTLET_VALVE:\n-                ability = device.getAbility(ABILITY_OUTLET);\n-                if (value != null && value == Boolean.TRUE) {\n-                    String wateringDuration = device.getAbility(ABILITY_OUTLET)\n-                            .getProperty(PROPERTY_BUTTON_MANUAL_OVERRIDE_TIME).getValueAsString();\n-                    command = new WateringManualOverrideCommand(wateringDuration);\n-                } else {\n-                    command = new WateringCancelOverrideCommand();\n-                }\n-                break;\n-            case POWER_TIMER:\n-                if (value == null) {\n-                    throw new GardenaException(\"Command '\" + commandName + \"' requires a value\");\n-                }\n-                prop = new StringProperty(PROPERTY_POWER_TIMER, ObjectUtils.toString(value));\n-                executeSetProperty(device, ABILITY_POWER, PROPERTY_POWER_TIMER, prop);\n-                break;\n-            case WATERING_TIMER_VALVE_1:\n-            case WATERING_TIMER_VALVE_2:\n-            case WATERING_TIMER_VALVE_3:\n-            case WATERING_TIMER_VALVE_4:\n-            case WATERING_TIMER_VALVE_5:\n-            case WATERING_TIMER_VALVE_6:\n-                if (value == null) {\n-                    throw new GardenaException(\"Command '\" + commandName + \"' requires a value\");\n-                } else if (!(value instanceof Integer)) {\n-                    throw new GardenaException(\"Watering duration value '\" + value + \"' not a number\");\n-                }\n-                int valveId = Integer.parseInt(StringUtils.right(commandName.toString(), 1));\n-                String wateringTimerProperty = PROPERTY_WATERING_TIMER + valveId;\n-                IrrigationControlWateringProperty irrigationProp = new IrrigationControlWateringProperty(\n-                        wateringTimerProperty, (Integer) value, valveId);\n-                executeSetProperty(device, ABILITY_WATERING, wateringTimerProperty, irrigationProp);\n-                break;\n-            case PUMP_MANUAL_WATERING_TIMER:\n-                Integer duration = getIntegerValue(value);\n-                if (duration == null) {\n-                    throw new GardenaException(\"Command '\" + commandName + \"' requires a number value\");\n-                }\n-                prop = new StringProperty(PROPERTY_MANUAL_WATERING_TIMER, String.valueOf(duration * 60));\n+            request.content(contentProvider);\n+            ContentResponse contentResponse = request.send();\n+            int status = contentResponse.getStatus();\n+            if (logger.isTraceEnabled()) {\n+                logger.trace(\"<<< status:{}, {}\", status, contentResponse.getContentAsString());\n+            }\n \n-                executeSetProperty(device, ABILITY_MANUAL_WATERING, PROPERTY_MANUAL_WATERING_TIMER, prop);\n-                break;\n-            default:\n-                throw new GardenaException(\"Unknown command \" + commandName);\n-        }\n+            if (status != 200 && status != 204 && status != 201 && status != 202) {\n+                throw new GardenaException(String.format(\"Error %s %s, %s\", status, contentResponse.getReason(), contentResponse.getContentAsString()));\n+            }\n \n-        if (command != null) {\n-            stopRefreshThread(false);\n-            executeRequest(HttpMethod.POST, getCommandUrl(device, ability), command, NoResult.class);\n-            startRefreshThread();\n+            if (result == null) {\n+                return null;\n+            }\n+            return gson.fromJson(contentResponse.getContentAsString(), result);\n+        } catch (Exception ex) {\n+            throw new GardenaException(ex.getMessage(), ex);\n         }\n     }\n \n-    private Integer getIntegerValue(Object value) {\n-        try {\n-            return Integer.valueOf(ObjectUtils.toString(value));\n-        } catch (NumberFormatException ex) {\n-            return null;\n+    /**\n+     * Creates or refreshes the access token for the Gardena smart system.\n+     */\n+    private synchronized void verifyToken() throws GardenaException {\n+        Fields fields = new Fields();\n+        fields.add(\"client_id\", config.getApiKey());\n+\n+        if (token == null || token.isRefreshTokenExpired()) {\n+            // new token\n+            logger.debug(\"Gardena API login using password, reason: {}\",\n+                    token == null ? \"no token available\" : \"refresh token expired\");\n+            fields.add(\"grant_type\", \"password\");\n+            fields.add(\"username\", config.getEmail());\n+            fields.add(\"password\", config.getPassword());\n+            token = executeRequest(HttpMethod.POST, URL_API_TOKEN, fields, PostOAuth2Response.class);\n+            token.postProcess();\n+        } else if (token.isAccessTokenExpired()) {\n+            // refresh token\n+            logger.debug(\"Gardena API login using refreshToken, reason: access token expired\");\n+            fields.add(\"grant_type\", \"refresh_token\");\n+            fields.add(\"refresh_token\", token.refreshToken);\n+            try {\n+                PostOAuth2Response tempToken = executeRequest(HttpMethod.POST, URL_API_TOKEN, fields,\n+                        PostOAuth2Response.class);\n+                token.accessToken = tempToken.accessToken;\n+                token.expiresIn = tempToken.expiresIn;\n+                token.postProcess();\n+            } catch (GardenaException ex) {\n+                // refresh token issue\n+                token = null;\n+                verifyToken();\n+            }\n+        } else {\n+            logger.debug(\"Gardena API token valid\");\n         }\n+        logger.debug(\"{}\", token.toString());\n     }\n \n     /**\n-     * Sends the new property value for the ability.\n+     * Loads all locations.\n      */\n-    private void executeSetProperty(Device device, String ability, String property, BaseProperty value)\n-            throws GardenaException {\n-        String propertyUrl = String.format(URL_PROPERTY, device.getId(), ability, property,\n-                device.getLocation().getId());\n-        stopRefreshThread(false);\n-        executeRequest(HttpMethod.PUT, propertyUrl, new PropertyWrapper(value), NoResult.class);\n-        device.getAbility(ability).getProperty(property).setValue(new PropertyValue(value.getValue()));\n-        startRefreshThread();\n-    }\n-\n-    @Override\n-    public void sendSetting(Setting setting, Object value) throws GardenaException {\n-        SettingCommand settingCommand = new SettingCommand(setting.getName());\n-        settingCommand.setDeviceId(setting.getDevice().getId());\n-        settingCommand.setValue(value);\n-\n-        stopRefreshThread(false);\n-        executeRequest(HttpMethod.PUT, getSettingUrl(setting), new SettingCommandWrapper(settingCommand),\n-                NoResult.class);\n-        startRefreshThread();\n+    private LocationsResponse loadLocations() throws GardenaException {\n+        return executeRequest(HttpMethod.GET, URL_API_LOCATIONS, null, LocationsResponse.class);\n     }\n \n     /**\n-     * Returns the command url.\n+     * Loads all devices for a given location.\n      */\n-    private String getCommandUrl(Device device, Ability ability) throws GardenaException {\n-        return String.format(URL_COMMAND, device.getId(), ability.getName(), device.getLocation().getId());\n+    private LocationResponse loadLocation(String locationId) throws GardenaException {\n+        return executeRequest(HttpMethod.GET, URL_API_LOCATIONS + \"/\" + locationId, null, LocationResponse.class);\n     }\n \n     /**\n-     * Returns the settings url.\n+     * Returns the websocket url for a given location.\n      */\n-    private String getSettingUrl(Setting setting) {\n-        Device device = setting.getDevice();\n-        return String.format(URL_SETTING, device.getId(), setting.getId(), device.getLocation().getId());\n+    private WebSocketCreatedResponse getWebsocketInfo(String locationId) throws GardenaException {\n+        return executeRequest(HttpMethod.POST, URL_API_WEBSOCKET, new CreateWebSocketRequest(locationId),\n+                WebSocketCreatedResponse.class);\n     }\n \n     /**\n-     * Communicates with Gardena Smart Home and parses the result.\n+     * Stops the client.\n      */\n-    private synchronized <T> T executeRequest(HttpMethod method, String url, Object contentObject, Class<T> result)\n-            throws GardenaException {\n-        try {\n-            if (logger.isTraceEnabled()) {\n-                logger.trace(\"{} request:  {}\", method, url);\n-                if (contentObject != null) {\n-                    logger.trace(\"{} data   :  {}\", method, gson.toJson(contentObject));\n-                }\n-            }\n-\n-            Request request = httpClient.newRequest(url).method(method)\n-                    .timeout(config.getConnectionTimeout(), TimeUnit.SECONDS)\n-                    .idleTimeout(config.getConnectionTimeout(), TimeUnit.SECONDS)\n-                    .header(HttpHeader.CONTENT_TYPE, \"application/json\").header(HttpHeader.ACCEPT, \"application/json\")\n-                    .header(HttpHeader.ACCEPT_ENCODING, \"gzip\");\n-\n-            if (contentObject != null) {\n-                StringContentProvider content = new StringContentProvider(gson.toJson(contentObject));\n-                request.content(content);\n-            }\n-\n-            if (!result.equals(SessionWrapper.class)) {\n-                verifySession();\n-                request.header(\"authorization\", \"Bearer \" + session.getToken());\n-                request.header(\"authorization-provider\", session.getSessionAttributes().getProvider());\n-            }\n-\n-            ContentResponse contentResponse = request.send();\n-            int status = contentResponse.getStatus();\n-            if (logger.isTraceEnabled()) {\n-                logger.trace(\"Status  : {}\", status);\n-                logger.trace(\"Response: {}\", contentResponse.getContentAsString());\n-            }\n-\n-            if (status == 500) {\n-                throw new GardenaException(\n-                        gson.fromJson(contentResponse.getContentAsString(), Errors.class).toString());\n-            } else if (status != 200 && status != 204 && status != 201) {\n-                throw new GardenaException(String.format(\"Error %s %s\", status, contentResponse.getReason()));\n-            }\n-\n-            if (result == NoResult.class) {\n-                return null;\n-            }\n-\n-            return gson.fromJson(contentResponse.getContentAsString(), result);\n-        } catch (ExecutionException ex) {\n-            Throwable cause = ex.getCause();\n-            if (cause instanceof HttpResponseException) {\n-                HttpResponseException responseException = (HttpResponseException) ex.getCause();\n-                int status = responseException.getResponse().getStatus();\n-                if (status == 401) {\n-                    throw new GardenaUnauthorizedException(ex.getCause());\n-                }\n+    public void dispose() {\n+        logger.debug(\"Disposing GardenaSmart\");\n+        if (deviceToNotifyFuture != null) {\n+            deviceToNotifyFuture.cancel(true);\n+        }\n+        stopWebsockets();\n+        if (httpClient != null) {\n+            try {\n+                httpClient.stop();\n+            } catch (Exception e) {\n+                // ignore\n             }\n-            throw new GardenaException(ex.getMessage(), ex);\n-        } catch (Exception ex) {\n-            throw new GardenaException(ex.getMessage(), ex);\n+            httpClient.destroy();\n         }\n+        locationsResponse = new LocationsResponse();\n+        allDevicesById.clear();\n+        initialized = false;\n     }\n \n     /**\n-     * Verifies the Gardena Smart Home session and reconnects if necessary.\n+     * Restarts all websockets.\n      */\n-    private void verifySession() throws GardenaException {\n-        if (session == null\n-                || session.getCreated() + (config.getSessionTimeout() * 60000) <= System.currentTimeMillis()) {\n-            logger.trace(\"(Re)logging in to Gardena Smart Home\");\n-            session = executeRequest(HttpMethod.POST, URL_LOGIN, new GardenaConfigWrapper(config), SessionWrapper.class)\n-                    .getSession();\n+    @Override\n+    public synchronized void restartWebsockets() {\n+        logger.debug(\"Restarting GardenaSmart Webservice\");\n+        stopWebsockets();\n+        try {\n+            startWebsockets();\n+        } catch (Exception ex) {\n+            logger.warn(\"Restarting GardenaSmart Webservice failed: {}, restarting binding\", ex.getMessage());\n+            eventListener.onError();\n         }\n     }\n \n     /**\n-     * Thread which refreshes the data from Gardena Smart Home.\n+     * Sets the dataItem from the websocket event into the correct device.\n      */\n-    private class RefreshDevicesThread implements Runnable {\n-        private boolean connectionLost = false;\n-\n-        @Override\n-        public void run() {\n-            try {\n-                logger.debug(\"Refreshing gardena device data\");\n-                final Map<String, Device> newDevicesById = new HashMap<>();\n-\n-                for (Location location : allLocations) {\n-                    Devices devices = loadDevices(location);\n-                    for (Device device : devices.getDevices()) {\n-                        if (DEVICE_CATEGORY_GATEWAY.equals(device.getCategory())) {\n-                            location.getDeviceIds().remove(device.getId());\n-                        } else {\n-                            newDevicesById.put(device.getId(), device);\n-                        }\n+    private void handleDataItem(final DataItem<?> dataItem) throws GardenaException {\n+        final String deviceId = dataItem.getDeviceId();\n+        Device device = allDevicesById.get(deviceId);\n+        if (device == null && !(dataItem instanceof LocationDataItem)) {\n+            device = new Device(deviceId);\n+            allDevicesById.put(device.id, device);\n+\n+            if (initialized) {\n+                scheduler.schedule(() -> {\n+                    Device newDevice = allDevicesById.get(deviceId);\n+                    newDevice.evaluateDeviceType();\n+                    if (newDevice.deviceType != null) {\n+                        eventListener.onNewDevice(newDevice);\n                     }\n-                }\n-\n-                if (connectionLost) {\n-                    connectionLost = false;\n-                    logger.info(\"Connection resumed to Gardena Smart Home with id '{}'\", id);\n-                    eventListener.onConnectionResumed();\n-                }\n-\n-                // determine deleted devices\n-                Collection<Device> deletedDevices = allDevicesById.values().stream()\n-                        .filter(d -> !newDevicesById.values().contains(d)).collect(Collectors.toSet());\n+                }, 3, TimeUnit.SECONDS);\n+            }\n+        }\n \n-                // determine new devices\n-                Collection<Device> newDevices = newDevicesById.values().stream()\n-                        .filter(d -> !allDevicesById.values().contains(d)).collect(Collectors.toSet());\n+        if (device != null) {\n+            device.setDataItem(dataItem);\n+        }\n+    }\n \n-                // determine updated devices\n-                Collection<Device> updatedDevices = allDevicesById.values().stream().distinct()\n-                        .filter(newDevicesById.values()::contains).collect(Collectors.toSet());\n+    @Override\n+    public void onWebSocketClose() {\n+        restartWebsockets();\n+    }\n \n-                allDevicesById = newDevicesById;\n+    @Override\n+    public void onWebSocketError() {\n+        eventListener.onError();\n+    }\n \n-                for (Device deletedDevice : deletedDevices) {\n-                    eventListener.onDeviceDeleted(deletedDevice);\n+    @Override\n+    public void onWebSocketMessage(String msg) {\n+        try {\n+            DataItem<?> dataItem = gson.fromJson(msg, DataItem.class);\n+            handleDataItem(dataItem);\n+            Device device = allDevicesById.get(dataItem.getDeviceId());\n+            if (device != null && device.active) {\n+                devicesToNotify.add(device);\n+\n+                // delay the deviceUpdated event to filter multiple events for the same device dataItem property\n+                if (deviceToNotifyFuture == null) {\n+                    deviceToNotifyFuture = scheduler.schedule(() -> {\n+                        deviceToNotifyFuture = null;\n+                        Iterator<Device> notifyIterator = devicesToNotify.iterator();\n+                        while (notifyIterator.hasNext()) {\n+                            eventListener.onDeviceUpdated(notifyIterator.next());\n+                            notifyIterator.remove();\n+                        }\n+                    }, 1, TimeUnit.SECONDS);\n                 }\n+            }\n+        } catch (Exception ex) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f549d3d4efe014ad5a6354ff596dd5ac9ffaa604"}, "originalPosition": 780}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI4NDIyNDYwOnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.gardena/src/main/java/org/openhab/binding/gardena/internal/GardenaSmartWebSocket.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNVQyMDozOToxMlrOHzi22g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNVQyMDozOToxMlrOHzi22g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzgxMDUyMg==", "bodyText": "Would scheduleWithFixedDelay() be sufficient? See https://www.openhab.org/docs/developer/guidelines.html#e-runtime-behavior", "url": "https://github.com/openhab/openhab-addons/pull/8869#discussion_r523810522", "createdAt": "2020-11-15T20:39:12Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.gardena/src/main/java/org/openhab/binding/gardena/internal/GardenaSmartWebSocket.java", "diffHunk": "@@ -0,0 +1,174 @@\n+/**\n+ * Copyright (c) 2010-2020 Contributors to the openHAB project\n+ *\n+ * See the NOTICE file(s) distributed with this work for additional\n+ * information.\n+ *\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0\n+ *\n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.openhab.binding.gardena.internal;\n+\n+import java.io.IOException;\n+import java.net.URI;\n+import java.nio.ByteBuffer;\n+import java.time.Instant;\n+import java.util.concurrent.ScheduledExecutorService;\n+import java.util.concurrent.ScheduledFuture;\n+import java.util.concurrent.TimeUnit;\n+\n+import org.eclipse.jetty.websocket.api.Session;\n+import org.eclipse.jetty.websocket.api.annotations.*;\n+import org.eclipse.jetty.websocket.api.extensions.Frame;\n+import org.eclipse.jetty.websocket.client.WebSocketClient;\n+import org.eclipse.jetty.websocket.common.WebSocketSession;\n+import org.eclipse.jetty.websocket.common.frames.PongFrame;\n+import org.openhab.binding.gardena.internal.config.GardenaConfig;\n+import org.openhab.binding.gardena.internal.model.api.PostOAuth2Response;\n+import org.openhab.binding.gardena.internal.model.api.WebSocketCreatedResponse;\n+import org.openhab.core.io.net.http.WebSocketFactory;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+/**\n+ * The {@link GardenaSmartWebSocket} implements the websocket for receiving constant updates from the Gardena smart\n+ * system.\n+ *\n+ * @author Gerhard Riegler - Initial contribution\n+ */\n+@WebSocket\n+public class GardenaSmartWebSocket {\n+    private final Logger logger = LoggerFactory.getLogger(GardenaSmartWebSocket.class);\n+    private final GardenaSmartWebSocketListener socketEventListener;\n+    private final static long WEBSOCKET_IDLE_TIMEOUT = 300;\n+\n+    private WebSocketSession session;\n+    private WebSocketClient webSocketClient;\n+    private boolean closing;\n+    private Instant lastPong = Instant.now();\n+    private ScheduledExecutorService scheduler;\n+    private ScheduledFuture openhab;\n+    private ByteBuffer pingPayload = ByteBuffer.wrap(\"ping\".getBytes());\n+    private PostOAuth2Response token;\n+    private String socketId;\n+\n+    /**\n+     * Starts the websocket session.\n+     */\n+    public GardenaSmartWebSocket(GardenaSmartWebSocketListener socketEventListener,\n+            WebSocketCreatedResponse webSocketCreatedResponse, GardenaConfig config, ScheduledExecutorService scheduler,\n+            WebSocketFactory webSocketFactory, PostOAuth2Response token, String socketId) throws Exception {\n+        this.socketEventListener = socketEventListener;\n+        this.scheduler = scheduler;\n+        this.token = token;\n+        this.socketId = socketId;\n+\n+        webSocketClient = webSocketFactory.createWebSocketClient(String.valueOf(this.getClass().hashCode()));\n+        webSocketClient.setConnectTimeout(config.getConnectionTimeout() * 1000L);\n+        webSocketClient.setStopTimeout(3000);\n+        webSocketClient.setMaxIdleTimeout(150000);\n+        webSocketClient.start();\n+\n+        logger.debug(\"Connecting to Gardena Webservice ({})\", socketId);\n+        session = (WebSocketSession) webSocketClient\n+                .connect(this, new URI(webSocketCreatedResponse.data.attributes.url)).get();\n+        session.setStopTimeout(3000);\n+    }\n+\n+    /**\n+     * Stops the websocket session.\n+     */\n+    public synchronized void stop() {\n+        closing = true;\n+        if (openhab != null) {\n+            openhab.cancel(true);\n+        }\n+        if (isRunning()) {\n+            logger.debug(\"Closing Gardena Webservice client ({})\", socketId);\n+            try {\n+                session.close();\n+            } catch (Exception ex) {\n+                // ignore\n+            } finally {\n+                try {\n+                    webSocketClient.stop();\n+                } catch (Exception e) {\n+                    // ignore\n+                }\n+            }\n+        }\n+    }\n+\n+    /**\n+     * Returns true, if the websocket is running.\n+     */\n+    public synchronized boolean isRunning() {\n+        return session != null && session.isOpen();\n+    }\n+\n+    @OnWebSocketConnect\n+    public void onConnect(Session session) {\n+        closing = false;\n+        logger.debug(\"Connected to Gardena Webservice ({})\", socketId);\n+\n+        openhab = scheduler.scheduleAtFixedRate(new ConnectionTrackerThread(), 2, 2, TimeUnit.MINUTES);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f549d3d4efe014ad5a6354ff596dd5ac9ffaa604"}, "originalPosition": 117}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI4NDIyNTY2OnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.gardena/src/main/java/org/openhab/binding/gardena/internal/GardenaSmartWebSocket.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNVQyMDozOTo1NlrOHzi3VA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNVQyMDozOTo1NlrOHzi3VA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzgxMDY0NA==", "bodyText": "Bindings should only log to error if something severe happened, like the detection of a bug in your code. This could be debug. See this link for a description of the log levels: https://www.openhab.org/docs/developer/guidelines.html#f-logging\nAlso, logging the stack trace seems a bit unreasonable here.", "url": "https://github.com/openhab/openhab-addons/pull/8869#discussion_r523810644", "createdAt": "2020-11-15T20:39:56Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.gardena/src/main/java/org/openhab/binding/gardena/internal/GardenaSmartWebSocket.java", "diffHunk": "@@ -0,0 +1,174 @@\n+/**\n+ * Copyright (c) 2010-2020 Contributors to the openHAB project\n+ *\n+ * See the NOTICE file(s) distributed with this work for additional\n+ * information.\n+ *\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0\n+ *\n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.openhab.binding.gardena.internal;\n+\n+import java.io.IOException;\n+import java.net.URI;\n+import java.nio.ByteBuffer;\n+import java.time.Instant;\n+import java.util.concurrent.ScheduledExecutorService;\n+import java.util.concurrent.ScheduledFuture;\n+import java.util.concurrent.TimeUnit;\n+\n+import org.eclipse.jetty.websocket.api.Session;\n+import org.eclipse.jetty.websocket.api.annotations.*;\n+import org.eclipse.jetty.websocket.api.extensions.Frame;\n+import org.eclipse.jetty.websocket.client.WebSocketClient;\n+import org.eclipse.jetty.websocket.common.WebSocketSession;\n+import org.eclipse.jetty.websocket.common.frames.PongFrame;\n+import org.openhab.binding.gardena.internal.config.GardenaConfig;\n+import org.openhab.binding.gardena.internal.model.api.PostOAuth2Response;\n+import org.openhab.binding.gardena.internal.model.api.WebSocketCreatedResponse;\n+import org.openhab.core.io.net.http.WebSocketFactory;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+/**\n+ * The {@link GardenaSmartWebSocket} implements the websocket for receiving constant updates from the Gardena smart\n+ * system.\n+ *\n+ * @author Gerhard Riegler - Initial contribution\n+ */\n+@WebSocket\n+public class GardenaSmartWebSocket {\n+    private final Logger logger = LoggerFactory.getLogger(GardenaSmartWebSocket.class);\n+    private final GardenaSmartWebSocketListener socketEventListener;\n+    private final static long WEBSOCKET_IDLE_TIMEOUT = 300;\n+\n+    private WebSocketSession session;\n+    private WebSocketClient webSocketClient;\n+    private boolean closing;\n+    private Instant lastPong = Instant.now();\n+    private ScheduledExecutorService scheduler;\n+    private ScheduledFuture openhab;\n+    private ByteBuffer pingPayload = ByteBuffer.wrap(\"ping\".getBytes());\n+    private PostOAuth2Response token;\n+    private String socketId;\n+\n+    /**\n+     * Starts the websocket session.\n+     */\n+    public GardenaSmartWebSocket(GardenaSmartWebSocketListener socketEventListener,\n+            WebSocketCreatedResponse webSocketCreatedResponse, GardenaConfig config, ScheduledExecutorService scheduler,\n+            WebSocketFactory webSocketFactory, PostOAuth2Response token, String socketId) throws Exception {\n+        this.socketEventListener = socketEventListener;\n+        this.scheduler = scheduler;\n+        this.token = token;\n+        this.socketId = socketId;\n+\n+        webSocketClient = webSocketFactory.createWebSocketClient(String.valueOf(this.getClass().hashCode()));\n+        webSocketClient.setConnectTimeout(config.getConnectionTimeout() * 1000L);\n+        webSocketClient.setStopTimeout(3000);\n+        webSocketClient.setMaxIdleTimeout(150000);\n+        webSocketClient.start();\n+\n+        logger.debug(\"Connecting to Gardena Webservice ({})\", socketId);\n+        session = (WebSocketSession) webSocketClient\n+                .connect(this, new URI(webSocketCreatedResponse.data.attributes.url)).get();\n+        session.setStopTimeout(3000);\n+    }\n+\n+    /**\n+     * Stops the websocket session.\n+     */\n+    public synchronized void stop() {\n+        closing = true;\n+        if (openhab != null) {\n+            openhab.cancel(true);\n+        }\n+        if (isRunning()) {\n+            logger.debug(\"Closing Gardena Webservice client ({})\", socketId);\n+            try {\n+                session.close();\n+            } catch (Exception ex) {\n+                // ignore\n+            } finally {\n+                try {\n+                    webSocketClient.stop();\n+                } catch (Exception e) {\n+                    // ignore\n+                }\n+            }\n+        }\n+    }\n+\n+    /**\n+     * Returns true, if the websocket is running.\n+     */\n+    public synchronized boolean isRunning() {\n+        return session != null && session.isOpen();\n+    }\n+\n+    @OnWebSocketConnect\n+    public void onConnect(Session session) {\n+        closing = false;\n+        logger.debug(\"Connected to Gardena Webservice ({})\", socketId);\n+\n+        openhab = scheduler.scheduleAtFixedRate(new ConnectionTrackerThread(), 2, 2, TimeUnit.MINUTES);\n+    }\n+\n+    @OnWebSocketFrame\n+    public void onFrame(Frame pong) {\n+        if (pong instanceof PongFrame) {\n+            lastPong = Instant.now();\n+            logger.trace(\"Pong received ({})\", socketId);\n+        }\n+    }\n+\n+    @OnWebSocketClose\n+    public void onClose(int statusCode, String reason) {\n+        if (!closing) {\n+            logger.debug(\"Connection to Gardena Webservice was closed ({}): code: {}, reason: {}\", socketId, statusCode,\n+                    reason);\n+            socketEventListener.onWebSocketClose();\n+        }\n+    }\n+\n+    @OnWebSocketError\n+    public void onError(Throwable cause) {\n+        if (!closing) {\n+            logger.warn(\"Gardena Webservice error ({}): {}, restarting\", socketId, cause.getMessage());\n+            logger.debug(\"{}\", cause.getMessage(), cause);\n+            socketEventListener.onWebSocketError();\n+        }\n+    }\n+\n+    @OnWebSocketMessage\n+    public void onMessage(String msg) {\n+        if (!closing) {\n+            logger.trace(\"<<< event ({}): {}\", socketId, msg);\n+            socketEventListener.onWebSocketMessage(msg);\n+        }\n+    }\n+\n+    /**\n+     * Sends a ping in regular interval to tell the Gardena smart system that the client is alive.\n+     */\n+    private class ConnectionTrackerThread implements Runnable {\n+\n+        @Override\n+        public void run() {\n+            try {\n+                logger.trace(\"Sending ping ({})\", socketId);\n+                session.getRemote().sendPing(pingPayload);\n+\n+                if ((Instant.now().getEpochSecond() - lastPong.getEpochSecond() > WEBSOCKET_IDLE_TIMEOUT)\n+                        || token.isAccessTokenExpired()) {\n+                    session.close(1000, \"Timeout manually closing dead connection (\" + socketId + \")\");\n+                }\n+            } catch (IOException ex) {\n+                logger.error(\"{}\", ex.getMessage(), ex);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f549d3d4efe014ad5a6354ff596dd5ac9ffaa604"}, "originalPosition": 170}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI4NDIyNjQ2OnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.gardena/src/main/java/org/openhab/binding/gardena/internal/config/GardenaConfig.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNVQyMDo0MDo0OVrOHzi3uQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNVQyMDo0MDo0OVrOHzi3uQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzgxMDc0NQ==", "bodyText": "Since we want to get rid of Apache Commons, can you replace this with native Java code? See #7722.", "url": "https://github.com/openhab/openhab-addons/pull/8869#discussion_r523810745", "createdAt": "2020-11-15T20:40:49Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.gardena/src/main/java/org/openhab/binding/gardena/internal/config/GardenaConfig.java", "diffHunk": "@@ -46,87 +39,72 @@ public GardenaConfig(String email, String password) {\n     }\n \n     /**\n-     * Returns the email to connect to Gardena Smart Home.\n+     * Returns the email to connect to Gardena smart system.\n      */\n     public String getEmail() {\n         return email;\n     }\n \n     /**\n-     * Sets the email to connect to Gardena Smart Home.\n+     * Sets the email to connect to Gardena smart system.\n      */\n     public void setEmail(String email) {\n         this.email = email;\n     }\n \n     /**\n-     * Returns the password to connect to Gardena Smart Home.\n+     * Returns the password to connect to Gardena smart system.\n      */\n     public String getPassword() {\n         return password;\n     }\n \n     /**\n-     * Sets the password to connect to Gardena Smart Home.\n+     * Sets the password to connect to Gardena smart system.\n      */\n     public void setPassword(String password) {\n         this.password = password;\n     }\n \n     /**\n-     * Returns the session timeout to Gardena Smart Home.\n-     */\n-    public int getSessionTimeout() {\n-        return sessionTimeout;\n-    }\n-\n-    /**\n-     * Sets the session timeout to Gardena Smart Home.\n-     */\n-    public void setSessionTimeout(int sessionTimeout) {\n-        this.sessionTimeout = sessionTimeout;\n-    }\n-\n-    /**\n-     * Returns the connection timeout to Gardena Smart Home.\n+     * Returns the connection timeout to Gardena smart system.\n      */\n     public Integer getConnectionTimeout() {\n         return connectionTimeout;\n     }\n \n     /**\n-     * Sets the connection timeout to Gardena Smart Home.\n+     * Sets the connection timeout to Gardena smart system.\n      */\n     public void setConnectionTimeout(Integer connectionTimeout) {\n         this.connectionTimeout = connectionTimeout;\n     }\n \n     /**\n-     * Returns the refresh interval to fetch new data from Gardena Smart Home.\n+     * Returns the api key.\n      */\n-    public Integer getRefresh() {\n-        return refresh;\n+    public String getApiKey() {\n+        return apiKey;\n     }\n \n     /**\n-     * Returns the refresh interval to fetch new data from Gardena Smart Home.\n+     * Sets the api key.\n      */\n-    public void setRefresh(Integer refresh) {\n-        this.refresh = refresh;\n+    public void setApiKey(String apiKey) {\n+        this.apiKey = apiKey;\n     }\n \n     /**\n-     * Validate the config, if at least email and password is specified.\n+     * Validate the config if email, password and apiKey is specified.\n      */\n     public boolean isValid() {\n-        return StringUtils.isNotBlank(email) && StringUtils.isNotBlank(password);\n+        return StringUtils.isNotBlank(email) && StringUtils.isNotBlank(password) && StringUtils.isNotBlank(apiKey);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f549d3d4efe014ad5a6354ff596dd5ac9ffaa604"}, "originalPosition": 119}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI4NDIyNzU3OnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.gardena/src/main/java/org/openhab/binding/gardena/internal/discovery/GardenaDeviceDiscoveryService.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNVQyMDo0MTo1NlrOHzi4Pg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNVQyMDo0MTo1NlrOHzi4Pg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzgxMDg3OA==", "bodyText": "Please add the NonNullByDefault annotation.", "url": "https://github.com/openhab/openhab-addons/pull/8869#discussion_r523810878", "createdAt": "2020-11-15T20:41:56Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.gardena/src/main/java/org/openhab/binding/gardena/internal/discovery/GardenaDeviceDiscoveryService.java", "diffHunk": "@@ -41,15 +41,15 @@\n import org.slf4j.LoggerFactory;\n \n /**\n- * The {@link GardenaDeviceDiscoveryService} is used to discover devices that are connected to Gardena Smart Home.\n+ * The {@link GardenaDeviceDiscoveryService} is used to discover devices that are connected to Gardena smart system.\n  *\n  * @author Gerhard Riegler - Initial contribution\n  */\n public class GardenaDeviceDiscoveryService extends AbstractDiscoveryService", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f549d3d4efe014ad5a6354ff596dd5ac9ffaa604"}, "originalPosition": 18}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI4NDIyODM5OnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.gardena/src/main/java/org/openhab/binding/gardena/internal/discovery/GardenaDeviceDiscoveryService.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNVQyMDo0MzowMVrOHzi4pw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNVQyMDo0MzowMVrOHzi4pw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzgxMDk4Mw==", "bodyText": "See above. Concrete Exception. Logging to error. Logging stack trace.", "url": "https://github.com/openhab/openhab-addons/pull/8869#discussion_r523810983", "createdAt": "2020-11-15T20:43:01Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.gardena/src/main/java/org/openhab/binding/gardena/internal/discovery/GardenaDeviceDiscoveryService.java", "diffHunk": "@@ -158,19 +150,18 @@ public void waitForScanFinishing() {\n      * Generates the DiscoveryResult from a Gardena device.\n      */\n     public void deviceDiscovered(Device device) {\n-        ThingUID accountUID = accountHandler.getThing().getUID();\n-        ThingUID thingUID = UidUtils.generateThingUID(device, accountHandler.getThing());\n-\n-        DiscoveryResult discoveryResult = DiscoveryResultBuilder.create(thingUID).withBridge(accountUID)\n-                .withLabel(device.getName()).build();\n-        thingDiscovered(discoveryResult);\n-    }\n+        if (device.active) {\n+            ThingUID accountUID = accountHandler.getThing().getUID();\n+            ThingUID thingUID = UidUtils.generateThingUID(device, accountHandler.getThing());\n \n-    /**\n-     * Removes the Gardena device.\n-     */\n-    public void deviceRemoved(Device device) {\n-        ThingUID thingUID = UidUtils.generateThingUID(device, accountHandler.getThing());\n-        thingRemoved(thingUID);\n+            try {\n+                DiscoveryResult discoveryResult = DiscoveryResultBuilder.create(thingUID).withBridge(accountUID)\n+                        .withLabel(PropertyUtils.getPropertyValue(device, \"common.attributes.name.value\", String.class))\n+                        .build();\n+                thingDiscovered(discoveryResult);\n+            } catch (Exception ex) {\n+                logger.error(\"{}\", ex.getMessage(), ex);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f549d3d4efe014ad5a6354ff596dd5ac9ffaa604"}, "originalPosition": 107}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI4NDIyODYwOnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.gardena/src/main/java/org/openhab/binding/gardena/internal/discovery/GardenaDeviceDiscoveryService.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNVQyMDo0MzozMVrOHzi4xQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNVQyMDo0MzozMVrOHzi4xQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzgxMTAxMw==", "bodyText": "Can you add the representationProperty?", "url": "https://github.com/openhab/openhab-addons/pull/8869#discussion_r523811013", "createdAt": "2020-11-15T20:43:31Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.gardena/src/main/java/org/openhab/binding/gardena/internal/discovery/GardenaDeviceDiscoveryService.java", "diffHunk": "@@ -158,19 +150,18 @@ public void waitForScanFinishing() {\n      * Generates the DiscoveryResult from a Gardena device.\n      */\n     public void deviceDiscovered(Device device) {\n-        ThingUID accountUID = accountHandler.getThing().getUID();\n-        ThingUID thingUID = UidUtils.generateThingUID(device, accountHandler.getThing());\n-\n-        DiscoveryResult discoveryResult = DiscoveryResultBuilder.create(thingUID).withBridge(accountUID)\n-                .withLabel(device.getName()).build();\n-        thingDiscovered(discoveryResult);\n-    }\n+        if (device.active) {\n+            ThingUID accountUID = accountHandler.getThing().getUID();\n+            ThingUID thingUID = UidUtils.generateThingUID(device, accountHandler.getThing());\n \n-    /**\n-     * Removes the Gardena device.\n-     */\n-    public void deviceRemoved(Device device) {\n-        ThingUID thingUID = UidUtils.generateThingUID(device, accountHandler.getThing());\n-        thingRemoved(thingUID);\n+            try {\n+                DiscoveryResult discoveryResult = DiscoveryResultBuilder.create(thingUID).withBridge(accountUID)\n+                        .withLabel(PropertyUtils.getPropertyValue(device, \"common.attributes.name.value\", String.class))\n+                        .build();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f549d3d4efe014ad5a6354ff596dd5ac9ffaa604"}, "originalPosition": 104}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI4NDIyOTAyOnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.gardena/src/main/java/org/openhab/binding/gardena/internal/handler/GardenaAccountHandler.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNVQyMDo0NDowMlrOHzi4_Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNVQyMDo0NDowMlrOHzi4_Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzgxMTA2OQ==", "bodyText": "NonNullByDefault annotation", "url": "https://github.com/openhab/openhab-addons/pull/8869#discussion_r523811069", "createdAt": "2020-11-15T20:44:02Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.gardena/src/main/java/org/openhab/binding/gardena/internal/handler/GardenaAccountHandler.java", "diffHunk": "@@ -39,22 +35,26 @@\n import org.slf4j.LoggerFactory;\n \n /**\n- * The {@link GardenaAccountHandler} is the handler for a Gardena Smart Home access and connects it to the framework.\n+ * The {@link GardenaAccountHandler} is the handler for a Gardena smart system access and connects it to the framework.\n  *\n  * @author Gerhard Riegler - Initial contribution\n  */\n public class GardenaAccountHandler extends BaseBridgeHandler implements GardenaSmartEventListener {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f549d3d4efe014ad5a6354ff596dd5ac9ffaa604"}, "originalPosition": 26}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI4NDIzMjU5OnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.gardena/src/main/java/org/openhab/binding/gardena/internal/handler/GardenaThingHandler.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNVQyMDo0Nzo0MlrOHzi6xA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNVQyMDo0Nzo0MlrOHzi6xA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzgxMTUyNA==", "bodyText": "See above. Apache commons.", "url": "https://github.com/openhab/openhab-addons/pull/8869#discussion_r523811524", "createdAt": "2020-11-15T20:47:42Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.gardena/src/main/java/org/openhab/binding/gardena/internal/handler/GardenaThingHandler.java", "diffHunk": "@@ -142,210 +99,164 @@ public void channelLinked(ChannelUID channelUID) {\n      * Updates the channel from the Gardena device.\n      */\n     protected void updateChannel(ChannelUID channelUID) throws GardenaException, AccountHandlerNotAvailableException {\n-        Device device = getDevice();\n-        State state = convertToState(device, channelUID);\n-        if (state != null) {\n-            updateState(channelUID, state);\n+        boolean isCommand = channelUID.getGroupId().endsWith(\"_commands\");\n+        if (!isCommand || (isCommand && isLocalDurationCommand(channelUID))) {\n+            Device device = getDevice();\n+            State state = convertToState(device, channelUID);\n+            if (state != null) {\n+                updateState(channelUID, state);\n+            }\n         }\n     }\n \n     /**\n      * Converts a Gardena property value to a openHAB state.\n      */\n     private State convertToState(Device device, ChannelUID channelUID) throws GardenaException {\n-        String abilityName = channelUID.getGroupId();\n+        if (isLocalDurationCommand(channelUID)) {\n+            String dataItemProperty = getDeviceDataItemProperty(channelUID);\n+            return new DecimalType(Math.round(device.getLocalService(dataItemProperty).commandDuration / 60.0));\n+        }\n+\n+        String propertyPath = channelUID.getGroupId() + \".attributes.\";\n         String propertyName = channelUID.getIdWithoutGroup();\n \n+        if (propertyName.endsWith(\"_timestamp\")) {\n+            propertyPath += propertyName.replace(\"_\", \".\");\n+        } else {\n+            propertyPath += propertyName + \".value\";\n+        }\n+\n+        String acceptedItemType = StringUtils\n+                .substringBefore(getThing().getChannel(channelUID.getId()).getAcceptedItemType(), \":\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f549d3d4efe014ad5a6354ff596dd5ac9ffaa604"}, "originalPosition": 166}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI4NDIzNDQzOnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.gardena/src/main/java/org/openhab/binding/gardena/internal/handler/GardenaThingHandler.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNVQyMDo0OTozNVrOHzi7nw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNVQyMDo0OTozNVrOHzi7nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzgxMTc0Mw==", "bodyText": "You might want to use this https://www.openhab.org/javadoc/v2.5/org/eclipse/smarthome/core/i18n/timezoneprovider as the user can configure a different time zone in the OH config. This class can be injected via the factory like the HttpClient.", "url": "https://github.com/openhab/openhab-addons/pull/8869#discussion_r523811743", "createdAt": "2020-11-15T20:49:35Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.gardena/src/main/java/org/openhab/binding/gardena/internal/handler/GardenaThingHandler.java", "diffHunk": "@@ -142,210 +99,164 @@ public void channelLinked(ChannelUID channelUID) {\n      * Updates the channel from the Gardena device.\n      */\n     protected void updateChannel(ChannelUID channelUID) throws GardenaException, AccountHandlerNotAvailableException {\n-        Device device = getDevice();\n-        State state = convertToState(device, channelUID);\n-        if (state != null) {\n-            updateState(channelUID, state);\n+        boolean isCommand = channelUID.getGroupId().endsWith(\"_commands\");\n+        if (!isCommand || (isCommand && isLocalDurationCommand(channelUID))) {\n+            Device device = getDevice();\n+            State state = convertToState(device, channelUID);\n+            if (state != null) {\n+                updateState(channelUID, state);\n+            }\n         }\n     }\n \n     /**\n      * Converts a Gardena property value to a openHAB state.\n      */\n     private State convertToState(Device device, ChannelUID channelUID) throws GardenaException {\n-        String abilityName = channelUID.getGroupId();\n+        if (isLocalDurationCommand(channelUID)) {\n+            String dataItemProperty = getDeviceDataItemProperty(channelUID);\n+            return new DecimalType(Math.round(device.getLocalService(dataItemProperty).commandDuration / 60.0));\n+        }\n+\n+        String propertyPath = channelUID.getGroupId() + \".attributes.\";\n         String propertyName = channelUID.getIdWithoutGroup();\n \n+        if (propertyName.endsWith(\"_timestamp\")) {\n+            propertyPath += propertyName.replace(\"_\", \".\");\n+        } else {\n+            propertyPath += propertyName + \".value\";\n+        }\n+\n+        String acceptedItemType = StringUtils\n+                .substringBefore(getThing().getChannel(channelUID.getId()).getAcceptedItemType(), \":\");\n+\n         try {\n-            String value = device.getAbility(abilityName).getProperty(propertyName).getValueAsString();\n+            boolean isNullPropertyValue = PropertyUtils.isNull(device, propertyPath);\n+            boolean isDurationProperty = \"duration\".equals(propertyName);\n \n-            if (StringUtils.trimToNull(value) == null || StringUtils.equals(value, \"N/A\")) {\n+            if (isNullPropertyValue && !isDurationProperty) {\n                 return UnDefType.NULL;\n             }\n-\n-            switch (getThing().getChannel(channelUID.getId()).getAcceptedItemType()) {\n+            switch (acceptedItemType) {\n                 case \"String\":\n-                    return new StringType(value);\n+                    return new StringType(PropertyUtils.getPropertyValue(device, propertyPath, String.class));\n                 case \"Number\":\n-                    if (ABILITY_RADIO.equals(abilityName) && PROPERTY_STATE.equals(propertyName)) {\n-                        switch (value) {\n-                            case \"poor\":\n-                                return new DecimalType(1);\n-                            case \"good\":\n-                                return new DecimalType(2);\n-                            case \"excellent\":\n-                                return new DecimalType(4);\n-                            default:\n-                                return UnDefType.NULL;\n+                    if (isNullPropertyValue) {\n+                        return new DecimalType(0);\n+                    } else {\n+                        long value = PropertyUtils.getPropertyValue(device, propertyPath, Number.class).longValue();\n+                        // convert duration from seconds to minutes\n+                        if (isDurationProperty) {\n+                            value = Math.round(value / 60.0);\n                         }\n+                        return new DecimalType(value);\n                     }\n-                    return new DecimalType(value);\n-                case \"Switch\":\n-                    return Boolean.TRUE.toString().equalsIgnoreCase(value) || \"on\".equalsIgnoreCase(value)\n-                            ? OnOffType.ON\n-                            : OnOffType.OFF;\n                 case \"DateTime\":\n-                    Calendar cal = DateUtils.parseToCalendar(value);\n-                    if (cal != null && !cal.before(VALID_DATE_START)) {\n-                        return new DateTimeType(ZonedDateTime.ofInstant(cal.toInstant(), ZoneId.systemDefault()));\n-                    } else {\n-                        return UnDefType.NULL;\n-                    }\n+                    Date date = PropertyUtils.getPropertyValue(device, propertyPath, Date.class);\n+                    ZonedDateTime zdt = ZonedDateTime.ofInstant(date.toInstant(), ZoneId.systemDefault());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f549d3d4efe014ad5a6354ff596dd5ac9ffaa604"}, "originalPosition": 217}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI4NDIzNTUzOnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.gardena/src/main/java/org/openhab/binding/gardena/internal/handler/GardenaThingHandler.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNVQyMDo1MDo0MFrOHzi8HQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNVQyMDo1MDo0MFrOHzi8HQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzgxMTg2OQ==", "bodyText": "See above", "url": "https://github.com/openhab/openhab-addons/pull/8869#discussion_r523811869", "createdAt": "2020-11-15T20:50:40Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.gardena/src/main/java/org/openhab/binding/gardena/internal/handler/GardenaThingHandler.java", "diffHunk": "@@ -142,210 +99,164 @@ public void channelLinked(ChannelUID channelUID) {\n      * Updates the channel from the Gardena device.\n      */\n     protected void updateChannel(ChannelUID channelUID) throws GardenaException, AccountHandlerNotAvailableException {\n-        Device device = getDevice();\n-        State state = convertToState(device, channelUID);\n-        if (state != null) {\n-            updateState(channelUID, state);\n+        boolean isCommand = channelUID.getGroupId().endsWith(\"_commands\");\n+        if (!isCommand || (isCommand && isLocalDurationCommand(channelUID))) {\n+            Device device = getDevice();\n+            State state = convertToState(device, channelUID);\n+            if (state != null) {\n+                updateState(channelUID, state);\n+            }\n         }\n     }\n \n     /**\n      * Converts a Gardena property value to a openHAB state.\n      */\n     private State convertToState(Device device, ChannelUID channelUID) throws GardenaException {\n-        String abilityName = channelUID.getGroupId();\n+        if (isLocalDurationCommand(channelUID)) {\n+            String dataItemProperty = getDeviceDataItemProperty(channelUID);\n+            return new DecimalType(Math.round(device.getLocalService(dataItemProperty).commandDuration / 60.0));\n+        }\n+\n+        String propertyPath = channelUID.getGroupId() + \".attributes.\";\n         String propertyName = channelUID.getIdWithoutGroup();\n \n+        if (propertyName.endsWith(\"_timestamp\")) {\n+            propertyPath += propertyName.replace(\"_\", \".\");\n+        } else {\n+            propertyPath += propertyName + \".value\";\n+        }\n+\n+        String acceptedItemType = StringUtils\n+                .substringBefore(getThing().getChannel(channelUID.getId()).getAcceptedItemType(), \":\");\n+\n         try {\n-            String value = device.getAbility(abilityName).getProperty(propertyName).getValueAsString();\n+            boolean isNullPropertyValue = PropertyUtils.isNull(device, propertyPath);\n+            boolean isDurationProperty = \"duration\".equals(propertyName);\n \n-            if (StringUtils.trimToNull(value) == null || StringUtils.equals(value, \"N/A\")) {\n+            if (isNullPropertyValue && !isDurationProperty) {\n                 return UnDefType.NULL;\n             }\n-\n-            switch (getThing().getChannel(channelUID.getId()).getAcceptedItemType()) {\n+            switch (acceptedItemType) {\n                 case \"String\":\n-                    return new StringType(value);\n+                    return new StringType(PropertyUtils.getPropertyValue(device, propertyPath, String.class));\n                 case \"Number\":\n-                    if (ABILITY_RADIO.equals(abilityName) && PROPERTY_STATE.equals(propertyName)) {\n-                        switch (value) {\n-                            case \"poor\":\n-                                return new DecimalType(1);\n-                            case \"good\":\n-                                return new DecimalType(2);\n-                            case \"excellent\":\n-                                return new DecimalType(4);\n-                            default:\n-                                return UnDefType.NULL;\n+                    if (isNullPropertyValue) {\n+                        return new DecimalType(0);\n+                    } else {\n+                        long value = PropertyUtils.getPropertyValue(device, propertyPath, Number.class).longValue();\n+                        // convert duration from seconds to minutes\n+                        if (isDurationProperty) {\n+                            value = Math.round(value / 60.0);\n                         }\n+                        return new DecimalType(value);\n                     }\n-                    return new DecimalType(value);\n-                case \"Switch\":\n-                    return Boolean.TRUE.toString().equalsIgnoreCase(value) || \"on\".equalsIgnoreCase(value)\n-                            ? OnOffType.ON\n-                            : OnOffType.OFF;\n                 case \"DateTime\":\n-                    Calendar cal = DateUtils.parseToCalendar(value);\n-                    if (cal != null && !cal.before(VALID_DATE_START)) {\n-                        return new DateTimeType(ZonedDateTime.ofInstant(cal.toInstant(), ZoneId.systemDefault()));\n-                    } else {\n-                        return UnDefType.NULL;\n-                    }\n+                    Date date = PropertyUtils.getPropertyValue(device, propertyPath, Date.class);\n+                    ZonedDateTime zdt = ZonedDateTime.ofInstant(date.toInstant(), ZoneId.systemDefault());\n+                    return new DateTimeType(zdt);\n             }\n         } catch (GardenaException e) {\n-            logger.warn(\"Channel '{}' cannot be updated as device does not contain property '{}:{}'\", channelUID,\n-                    abilityName, propertyName);\n-        }\n-        return null;\n-    }\n-\n-    /**\n-     * Converts an openHAB type to a Gardena command property.\n-     */\n-    private Object convertFromType(Type type) {\n-        if (type instanceof OnOffType) {\n-            return type == OnOffType.ON ? Boolean.TRUE : Boolean.FALSE;\n-        } else if (type instanceof DecimalType) {\n-            return ((DecimalType) type).intValue();\n-        } else if (type instanceof StringType) {\n-            return ((StringType) type).toFullString();\n+            logger.warn(\"Channel '{}' cannot be updated as device does not contain propertyPath '{}'\", channelUID,\n+                    propertyPath);\n+        } catch (ClassCastException ex) {\n+            logger.warn(\"Value of propertyPath '{}' can not be casted to {}: {}\", propertyPath, acceptedItemType,\n+                    ex.getMessage());\n         }\n         return null;\n     }\n \n     @Override\n     public void handleCommand(ChannelUID channelUID, Command command) {\n+        logger.debug(\"Command received: {}\", command);\n         try {\n-            GardenaSmartCommandName commandName = getCommandName(channelUID);\n-            logger.debug(\"Received Gardena command: {}\", commandName);\n-\n+            boolean isOnCommand = command instanceof OnOffType && ((OnOffType) command) == OnOffType.ON;\n+            String dataItemProperty = getDeviceDataItemProperty(channelUID);\n             if (RefreshType.REFRESH == command) {\n-                logger.debug(\"Refreshing channel '{}'\", channelUID);\n-                if (commandName != null && commandName.toString().startsWith(\"MEASURE_\")) {\n-                    getGardenaSmart().sendCommand(getDevice(), commandName, null);\n-                } else {\n-                    updateChannel(channelUID);\n+                logger.debug(\"Refreshing Gardena connection\");\n+                getGardenaSmart().restartWebsockets();\n+            } else if (isLocalDurationCommand(channelUID)) {\n+                QuantityType<?> quantityType = (QuantityType<?>) command;\n+                getDevice().getLocalService(dataItemProperty).commandDuration = quantityType.intValue() * 60;\n+            } else if (isOnCommand) {\n+                GardenaCommand gardenaCommand = getGardenaCommand(dataItemProperty, channelUID);\n+                if (gardenaCommand != null) {\n+                    logger.debug(\"Received Gardena command: {}, {}\", gardenaCommand.getClass().getSimpleName(),\n+                            gardenaCommand.attributes.command);\n+\n+                    DataItem<?> dataItem = PropertyUtils.getPropertyValue(getDevice(), dataItemProperty,\n+                            DataItem.class);\n+                    if (dataItem == null) {\n+                        logger.warn(\"DataItem {} is empty, ignoring command.\", dataItemProperty);\n+                    } else {\n+                        getGardenaSmart().sendCommand(dataItem, gardenaCommand);\n+\n+                        scheduler.schedule(() -> {\n+                            updateState(channelUID, OnOffType.OFF);\n+                        }, 3, TimeUnit.SECONDS);\n+                    }\n                 }\n-            } else if (commandName != null) {\n-                getGardenaSmart().sendCommand(getDevice(), commandName, convertFromType(command));\n             }\n         } catch (AccountHandlerNotAvailableException | GardenaDeviceNotFoundException ex) {\n             // ignore\n         } catch (Exception ex) {\n             logger.warn(\"{}\", ex.getMessage(), ex);\n+            ((GardenaSmartEventListener) getBridge().getHandler()).onError();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f549d3d4efe014ad5a6354ff596dd5ac9ffaa604"}, "originalPosition": 291}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI4NDIzODk3OnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.gardena/src/main/java/org/openhab/binding/gardena/internal/model/Device.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNVQyMDo1NDo0M1rOHzi95A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNVQyMDo1NDo0M1rOHzi95A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzgxMjMyNA==", "bodyText": "Please use camelCase. You could use the SerializedName annotation to change the mapping.", "url": "https://github.com/openhab/openhab-addons/pull/8869#discussion_r523812324", "createdAt": "2020-11-15T20:54:43Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.gardena/src/main/java/org/openhab/binding/gardena/internal/model/Device.java", "diffHunk": "@@ -12,123 +12,138 @@\n  */\n package org.openhab.binding.gardena.internal.model;\n \n-import java.util.ArrayList;\n-import java.util.List;\n+import static org.openhab.binding.gardena.internal.GardenaBindingConstants.*;\n \n+import java.util.Date;\n+import java.util.HashMap;\n+import java.util.Map;\n+\n+import org.apache.commons.lang.StringUtils;\n import org.apache.commons.lang.builder.EqualsBuilder;\n import org.apache.commons.lang.builder.HashCodeBuilder;\n import org.openhab.binding.gardena.internal.exception.GardenaException;\n-\n-import com.google.gson.annotations.SerializedName;\n+import org.openhab.binding.gardena.internal.model.api.*;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n \n /**\n  * Represents a Gardena device.\n  *\n  * @author Gerhard Riegler - Initial contribution\n  */\n public class Device {\n-\n-    private String id;\n-    private String name;\n-    private String description;\n-    private String category;\n-    @SerializedName(\"configuration_synchronized\")\n-    private boolean configurationSynchronized;\n-    private List<Ability> abilities = new ArrayList<>();\n-    @SerializedName(\"scheduled_events\")\n-    private List<ScheduledEvent> scheduledEvents = new ArrayList<>();\n-    private transient Location location;\n-    private List<Setting> settings = new ArrayList<>();\n-\n-    /**\n-     * Returns the id of the device.\n-     */\n-    public String getId() {\n-        return id;\n+    private final Logger logger = LoggerFactory.getLogger(Device.class);\n+\n+    private transient static final String DEVICE_TYPE_PREFIX = \"gardena smart\";\n+    public boolean active = true;\n+    public String id;\n+    public String deviceType;\n+    public String location;\n+    public CommonServiceDataItem common;\n+    public MowerServiceDataItem mower;\n+    public PowerSocketServiceDataItem powerSocket;\n+    public SensorServiceDataItem sensor;\n+    public ValveServiceDataItem valve;\n+    public ValveServiceDataItem valve_1;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f549d3d4efe014ad5a6354ff596dd5ac9ffaa604"}, "originalPosition": 58}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI4NDI0MDkzOnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.gardena/src/main/java/org/openhab/binding/gardena/internal/model/api/CreateWebSocket.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNVQyMDo1Njo0OFrOHzi-1g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNVQyMDo1Njo0OFrOHzi-1g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzgxMjU2Ng==", "bodyText": "You could move this into a package called dto or append DTO to the class name to get rid of the checkstyle warning about missing NonNullByDefault annotation.", "url": "https://github.com/openhab/openhab-addons/pull/8869#discussion_r523812566", "createdAt": "2020-11-15T20:56:48Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.gardena/src/main/java/org/openhab/binding/gardena/internal/model/api/CreateWebSocket.java", "diffHunk": "@@ -0,0 +1,23 @@\n+/**\n+ * Copyright (c) 2010-2020 Contributors to the openHAB project\n+ *\n+ * See the NOTICE file(s) distributed with this work for additional\n+ * information.\n+ *\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0\n+ *\n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.openhab.binding.gardena.internal.model.api;\n+\n+/**\n+ * Represents a Gardena object that is sent via the Gardena API.\n+ *\n+ * @author Gerhard Riegler - Initial contribution\n+ */\n+\n+public class CreateWebSocket {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f549d3d4efe014ad5a6354ff596dd5ac9ffaa604"}, "originalPosition": 21}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI4NDI0NTg4OnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.gardena/src/main/java/org/openhab/binding/gardena/internal/util/PropertyUtils.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNVQyMTowMToyNFrOHzjBHw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNVQyMTowMToyNFrOHzjBHw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzgxMzE1MQ==", "bodyText": "See above.\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    } catch (Exception ex) {\n          \n          \n            \n                    } catch (NoSuchFieldException | SecurityException | IllegalArgumentException | IllegalAccessException e) {", "url": "https://github.com/openhab/openhab-addons/pull/8869#discussion_r523813151", "createdAt": "2020-11-15T21:01:24Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.gardena/src/main/java/org/openhab/binding/gardena/internal/util/PropertyUtils.java", "diffHunk": "@@ -0,0 +1,64 @@\n+/**\n+ * Copyright (c) 2010-2020 Contributors to the openHAB project\n+ *\n+ * See the NOTICE file(s) distributed with this work for additional\n+ * information.\n+ *\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0\n+ *\n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.openhab.binding.gardena.internal.util;\n+\n+import java.lang.reflect.Field;\n+\n+import org.apache.commons.lang.StringUtils;\n+import org.openhab.binding.gardena.internal.exception.GardenaException;\n+\n+/**\n+ * Utility class to read nested properties.\n+ *\n+ * @author Gerhard Riegler - Initial contribution\n+ */\n+\n+public class PropertyUtils {\n+\n+    /**\n+     * Returns true if the property is null.\n+     */\n+    public static boolean isNull(Object instance, String propertyPath) throws GardenaException {\n+        return getPropertyValue(instance, propertyPath, Object.class) == null;\n+    }\n+\n+    /**\n+     * Returns the property value from the object instance, nested properties are possible.\n+     */\n+    public static <T> T getPropertyValue(Object instance, String propertyPath, Class<T> resultClass)\n+            throws GardenaException {\n+        String[] properties = StringUtils.split(propertyPath, \".\");\n+        return getPropertyValue(instance, properties, resultClass, 0);\n+    }\n+\n+    /**\n+     * Iterates through the nested properties and returns the field value.\n+     */\n+    private static <T> T getPropertyValue(Object instance, String[] properties, Class<T> resultClass, int nestedIndex)\n+            throws GardenaException {\n+        if (instance == null) {\n+            return null;\n+        }\n+        try {\n+            String propertyName = properties[nestedIndex];\n+            Field field = instance.getClass().getField(propertyName);\n+            Object result = field.get(instance);\n+            if (nestedIndex + 1 < properties.length) {\n+                return getPropertyValue(result, properties, resultClass, nestedIndex + 1);\n+            }\n+            return (T) result;\n+        } catch (Exception ex) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f549d3d4efe014ad5a6354ff596dd5ac9ffaa604"}, "originalPosition": 60}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI4NDI0NjcxOnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.gardena/src/main/resources/OH-INF/binding/binding.xml", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNVQyMTowMjoxOFrOHzjBhg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQwMjo0NzozN1rOIDmq7Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzgxMzI1NA==", "bodyText": "Words in the name tag should be capitalized (except prepositions and so on).", "url": "https://github.com/openhab/openhab-addons/pull/8869#discussion_r523813254", "createdAt": "2020-11-15T21:02:18Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.gardena/src/main/resources/OH-INF/binding/binding.xml", "diffHunk": "@@ -3,7 +3,7 @@\n \txmlns:binding=\"https://openhab.org/schemas/binding/v1.0.0\"\n \txsi:schemaLocation=\"https://openhab.org/schemas/binding/v1.0.0 https://openhab.org/schemas/binding-1.0.0.xsd\">\n \n-\t<name>Gardena Smart Home Binding</name>\n-\t<description>This is the binding for Gardena Smart Home.</description>\n+\t<name>Gardena smart system Binding</name>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f549d3d4efe014ad5a6354ff596dd5ac9ffaa604"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDY1MDIyMQ==", "bodyText": "Words in the name tag should be capitalized (except prepositions and so on).", "url": "https://github.com/openhab/openhab-addons/pull/8869#discussion_r540650221", "createdAt": "2020-12-11T02:47:37Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.gardena/src/main/resources/OH-INF/binding/binding.xml", "diffHunk": "@@ -3,7 +3,7 @@\n \txmlns:binding=\"https://openhab.org/schemas/binding/v1.0.0\"\n \txsi:schemaLocation=\"https://openhab.org/schemas/binding/v1.0.0 https://openhab.org/schemas/binding-1.0.0.xsd\">\n \n-\t<name>Gardena Smart Home Binding</name>\n-\t<description>This is the binding for Gardena Smart Home.</description>\n+\t<name>Gardena smart system Binding</name>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzgxMzI1NA=="}, "originalCommit": {"oid": "f549d3d4efe014ad5a6354ff596dd5ac9ffaa604"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI4NDI0Nzk5OnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.gardena/src/main/resources/OH-INF/i18n/gardena_de.properties", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNVQyMTowNDowOVrOHzjCLw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxNzo0NTozNFrOIBsxMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzgxMzQyMw==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            channel-group-type.gardena.mowerCommands.channel.start_seconds_to_override.label=Starte m\ufffdhen mit Dauer\n          \n          \n            \n            channel-group-type.gardena.mowerCommands.channel.start_seconds_to_override.label=Starte M\ufffdhen mit Dauer", "url": "https://github.com/openhab/openhab-addons/pull/8869#discussion_r523813423", "createdAt": "2020-11-15T21:04:09Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.gardena/src/main/resources/OH-INF/i18n/gardena_de.properties", "diffHunk": "@@ -1,462 +1,273 @@\n # binding\n-binding.gardena.description=Das ist das Binding f\ufffdr Gardena Smart Home Produkte.\n+binding.gardena.description=Das ist das Binding f\ufffdr Gardena Smart System.\n \n # thing types\n-thing-type.gardena.bridge.description=ein Gardena Smart Home Online Account\n+thing-type.gardena.bridge.description=Ein Gardena Smart System Online Account\n \n-thing-type.config.gardena.bridge.email.description=Email Addresse f\ufffdr den Gardena Smart Home Login \n+thing-type.config.gardena.bridge.email.description=Email Addresse f\ufffdr den Gardena Smart System Login \n thing-type.config.gardena.bridge.password.label=Passwort \n-thing-type.config.gardena.bridge.password.description=Passwort f\ufffdr den Gardena Smart Home Login \n-thing-type.config.gardena.bridge.sessionTimeout.description=Timeout der Gardena Smart Home Session in Minuten\n+thing-type.config.gardena.bridge.password.description=Passwort f\ufffdr den Gardena Smart System Login \n thing-type.config.gardena.bridge.connectionTimeout.label=Verbindungstimeout\n-thing-type.config.gardena.bridge.connectionTimeout.description=Timeout des Verbindungsaufbaus zu Gardena Smart Home in Sekunden\n-thing-type.config.gardena.bridge.refresh.label=Refreshintervall\n-thing-type.config.gardena.bridge.refresh.description=Der Intervall f\ufffdr die Datenabholung von Gardena Smart Home in Sekunden\n+thing-type.config.gardena.bridge.connectionTimeout.description=Timeout des Verbindungsaufbaus zum Gardena Smart System in Sekunden\n+thing-type.config.gardena.bridge.apiKey.description=Der Gardena Smart System Integrations API Schl\ufffdssel\n \n-thing-type.gardena.mower.label=Gardena Smart Sileno M\ufffdher\n-thing-type.gardena.mower.description=ein Gardena Smart Sileno M\ufffdher\n+thing-type.gardena.mower.label=Gardena Smart SILENO M\ufffdher\n+thing-type.gardena.mower.description=Ein Gardena Smart SILENO M\ufffdher\n \n-thing-type.gardena.watering_computer.label=Gardena Smart Bew\ufffdsserungscomputer\n-thing-type.gardena.watering_computer.description=ein Gardena Smart Bew\ufffdsserungscomputer\n+thing-type.gardena.water_control.label=Gardena Smart Bew\ufffdsserungscomputer\n+thing-type.gardena.water_control.description=Ein Gardena Smart Bew\ufffdsserungscomputer\n \n thing-type.gardena.sensor.label=Gardena Smart Sensor\n-thing-type.gardena.sensor.description=ein Gardena Smart Sensor\n+thing-type.gardena.sensor.description=Ein Gardena Smart Sensor\n \n-thing-type.gardena.electronic_pressure_pump.label=Gardena Smart Druckpumpe\n-thing-type.gardena.electronic_pressure_pump.description=Eine Gardena Smart Druckpumpe\n+thing-type.gardena.pump.label=Gardena Smart Druckpumpe\n+thing-type.gardena.pump.description=Eine Gardena Smart Druckpumpe\n \n thing-type.gardena.power.label=Gardena Smart Power Zwischenstecker\n-thing-type.gardena.power.description=Eine Gardena Smart Power Zwischenstecker\n-\n-thing-type.gardena.ic24.label=Gardena Smart Bew\ufffdsserungssteuerung\n-thing-type.gardena.ic24.description=Eine Gardena Smart Bew\ufffdsserungssteuerung\n-\n-# config\n-thing-type.config.gardena.electronic_pressure_pump.leakage_detection.label=Leckage-Erkennung\n-thing-type.config.gardena.electronic_pressure_pump.leakage_detection.state.option.watering=Bew\ufffdsserung\n-thing-type.config.gardena.electronic_pressure_pump.leakage_detection.state.option.washing_machine=Waschmaschine\n-thing-type.config.gardena.electronic_pressure_pump.leakage_detection.state.option.domestic_water_supply=H\ufffdusliche Wasserversorgung\n-thing-type.config.gardena.electronic_pressure_pump.leakage_detection.state.option.off=Aus\n-\n-thing-type.config.gardena.electronic_pressure_pump.operating_mode.label=Betriebsmodus\n-thing-type.config.gardena.electronic_pressure_pump.operating_mode.state.option.automatic=Automatisch\n-thing-type.config.gardena.electronic_pressure_pump.operating_mode.state.option.scheduled=Zeitgesteuert\n-\n-thing-type.config.gardena.electronic_pressure_pump.turn_on_pressure.label=Einschaltdruck\n+thing-type.gardena.power.description=Ein Gardena Smart Power Zwischenstecker\n+\n+thing-type.gardena.irrigation_control.label=Gardena Smart Bew\ufffdsserungssteuerung\n+thing-type.gardena.irrigation_control.description=Eine Gardena Smart Bew\ufffdsserungssteuerung\n+\n+thing-type.gardena.irrigation_control.group.valve_1.label=Ventil 1 Eigenschaften\n+thing-type.gardena.irrigation_control.group.valve_1_commands.label=Ventil 1 Befehle\n+thing-type.gardena.irrigation_control.group.valve_2.label=Ventil 2 Eigenschaften\n+thing-type.gardena.irrigation_control.group.valve_2_commands.label=Ventil 2 Befehle\n+thing-type.gardena.irrigation_control.group.valve_3.label=Ventil 3 Eigenschaften\n+thing-type.gardena.irrigation_control.group.valve_3_commands.label=Ventil 3 Befehle\n+thing-type.gardena.irrigation_control.group.valve_4.label=Ventil 4 Eigenschaften\n+thing-type.gardena.irrigation_control.group.valve_4_commands.label=Ventil 4 Befehle\n+thing-type.gardena.irrigation_control.group.valve_5.label=Ventil 5 Eigenschaften\n+thing-type.gardena.irrigation_control.group.valve_5_commands.label=Ventil 5 Befehle\n+thing-type.gardena.irrigation_control.group.valve_6.label=Ventil 6 Eigenschaften\n+thing-type.gardena.irrigation_control.group.valve_6_commands.label=Ventil 6 Befehle\n \n # channel group\n-channel-group-type.gardena.deviceInfo.label=Ger\ufffdteinfo\n-channel-group-type.gardena.deviceInfo.description=Informationen \ufffdber das Ger\ufffdt\n-\n-channel-group-type.gardena.rechargeableBattery.label=Wiederaufladbare Batterie Info\n-channel-group-type.gardena.rechargeableBattery.description=Informationen \ufffdber die wiederaufladbare Batterie\n-\n-channel-group-type.gardena.radio.label=Funkverbindung\n-channel-group-type.gardena.radio.description=Informationen \ufffdber die Funkverbindung\n-\n-channel-group-type.gardena.mower.label=M\ufffdhroboter\n-channel-group-type.gardena.mower.description=Informationen \ufffdber den M\ufffdhroboter\n-\n-channel-group-type.gardena.internalTemperature.label=Interne Temperatur\n-channel-group-type.gardena.internalTemperature.description=Die interne Temperatur des M\ufffdhroboters\n-\n-channel-group-type.gardena.battery.label=Batterieinfo\n-channel-group-type.gardena.battery.description=Informationen \ufffdber die Batterie\n-\n-channel-group-type.gardena.outlet.label=Wasserauslass\n-channel-group-type.gardena.outlet.description=Informationen \ufffdber den Wasserauslass\n-\n-channel-group-type.gardena.ambientTemperature.label=Umgebungstemperatur\n-channel-group-type.gardena.ambientTemperature.description=Informationen \ufffdber die Umgebungstemperatur\n-\n-channel-group-type.gardena.soilTemperature.label=Bodentemperatur\n-channel-group-type.gardena.soilTemperature.description=Die Temperatur des Bodens\n-\n-channel-group-type.gardena.humidity.label=Feuchtigkeit\n-channel-group-type.gardena.humidity.description=Die Feuchtigkeit\n-\n-channel-group-type.gardena.light.label=Helligkeit\n-channel-group-type.gardena.light.description=Die Helligkeit\n-\n-channel-group-type.gardena.firmware.label=Firmware\n-channel-group-type.gardena.firmware.description=Informationen \ufffdber die Firmware\n-\n-channel-group-type.gardena.outletTemperature.label=Auslauftemperatur\n-channel-group-type.gardena.outletTemperature.description=Die Auslauftemperatur\n-\n-channel-group-type.gardena.pump.label=Pumpe\n-channel-group-type.gardena.pump.description=Die Pumpe\n-\n-channel-group-type.gardena.outletPressure.label=Auslassdruck\n-channel-group-type.gardena.outletPressure.description=Der Auslassdruck\n-\n-channel-group-type.gardena.outletPressureMax.label=Maximum Auslassdruck\n-channel-group-type.gardena.outletPressureMax.description=Der maximale Auslassdruck\n-\n-channel-group-type.gardena.flow.label=F\ufffdrderung\n-channel-group-type.gardena.flow.description=Die F\ufffdrderung\n-\n-channel-group-type.gardena.manualWatering.label=Manuelle Bew\ufffdsserung\n-channel-group-type.gardena.manualWatering.description=Die manuelle Bew\ufffdsserung\n-\n-channel-group-type.gardena.scheduling.label=Zeitplan\n-channel-group-type.gardena.scheduling.description=Der Zeitplan\n-\n-channel-group-type.gardena.mowerStats.label=M\ufffdhroboter Statistiken\n-channel-group-type.gardena.mowerStats.description=Statistiken \ufffdber den M\ufffdhroboter\n-\n-channel-group-type.gardena.power.label=Energie\n-channel-group-type.gardena.power.description=Energie\n-\n-channel-group-type.gardena.watering.label=Bew\ufffdsserung\n-channel-group-type.gardena.watering.description=Die Bew\ufffdsserung\n-\n-channel-group-type.gardena.ic24.label=Bew\ufffdsserungssteuerung\n-channel-group-type.gardena.ic24.description=Die Bew\ufffdsserungssteuerung\n-\n-channel-group-type.gardena.ic24scheduling.label=Zeitplanung\n-channel-group-type.gardena.ic24scheduling.description=Die Zeitplanung\n+channel-group-type.gardena.valveSetProperties.label=Ventilsatz Eigenschaften\n+channel-group-type.gardena.valveSetProperties.description=Eigenschaften eines Ventilsatzes\n+\n+channel-group-type.gardena.valveSetProperties.channel.state_timestamp.label=Status Zeitstempel\n+channel-group-type.gardena.valveSetProperties.channel.lastErrorCode_timestamp.label=Letzte Fehlermeldung Zeitstempel\n+\n+channel-group-type.gardena.valveProperties.label=Ventil Eigenschaften\n+channel-group-type.gardena.valveProperties.description=Eigenschaften eines Ventils\n+channel-group-type.gardena.valveProperties.channel.state_timestamp.label=Status Zeitstempel\n+channel-group-type.gardena.valveProperties.channel.activity_timestamp.label=Aktivit\ufffdt Zeitstempel\n+channel-group-type.gardena.valveProperties.channel.lastErrorCode_timestamp.label=Letzte Fehlermeldung Zeitstempel\n+\n+channel-group-type.gardena.sensorProperties.label=Sensor Eigenschaften\n+channel-group-type.gardena.sensorProperties.description=Eigenschaften eines Sensors\n+channel-group-type.gardena.sensorProperties.channel.soilHumidity_timestamp.label=Bodenfeuchtigkeit Zeitstempel\n+channel-group-type.gardena.sensorProperties.channel.soilTemperature.label=Bodentemperatur\n+channel-group-type.gardena.sensorProperties.channel.soilTemperature_timestamp.label=Bodentemperatur Zeitstempel\n+channel-group-type.gardena.sensorProperties.channel.ambientTemperature.label=Umgebungstemperatur\n+channel-group-type.gardena.sensorProperties.channel.ambientTemperature_timestamp.label=Umgebungstemperatur Zeitstempel\n+channel-group-type.gardena.sensorProperties.channel.lightIntensity_timestamp.label=Lichtintensit\ufffdt Zeitstempel\n+\n+channel-group-type.gardena.powerSocketProperties.label=Zwischenstecker Eigenschaften\n+channel-group-type.gardena.powerSocketProperties.description=Eigenschaften eines Zwischensteckers\n+channel-group-type.gardena.powerSocketProperties.channel.state_timestamp.label=Status Zeitstempel\n+channel-group-type.gardena.powerSocketProperties.channel.activity_timestamp.label=Aktivit\ufffdt Zeitstempel\n+channel-group-type.gardena.powerSocketProperties.channel.lastErrorCode_timestamp.label=Letzte Fehlermeldung Zeitstempel\n+channel-group-type.gardena.powerSocketProperties.channel.duration_timestamp.label=Dauer Zeitstempel\n+\n+channel-group-type.gardena.mowerProperties.label=M\ufffdher Eigenschaften\n+channel-group-type.gardena.mowerProperties.description=Eigenschaften eines M\ufffdhers\n+channel-group-type.gardena.mowerProperties.channel.state_timestamp.label=Status Zeitstempel\n+channel-group-type.gardena.mowerProperties.channel.activity_timestamp.label=Aktivit\ufffdt Zeitstempel\n+channel-group-type.gardena.mowerProperties.channel.lastErrorCode_timestamp.label=Letzte Fehlermeldung Zeitstempel\n+\n+channel-group-type.gardena.commonProperties.label=Gemeinsame Eigenschaften\n+channel-group-type.gardena.commonProperties.description=Eigenschaften, die bei allen Ger\ufffdten gleich sind\n+channel-group-type.gardena.commonProperties.channel.batteryLevel_timestamp.label=Batterie Zeitstempel\n+channel-group-type.gardena.commonProperties.channel.batteryState_timestamp.label=Batteriestatus Zeitstempel\n+channel-group-type.gardena.commonProperties.channel.rfLinkLevel_timestamp.label=Signalst\ufffdrke Zeitstempel\n+channel-group-type.gardena.commonProperties.channel.rfLinkState_timestamp.label=Verbindungsstatus Zeitstempel\n+channel-group-type.gardena.commonProperties.channel.lastUpdate_timestamp.label=Letzte Aktualisierung Zeitstempel\n+\n+channel-group-type.gardena.mowerCommands.label=M\ufffdher Befehle\n+channel-group-type.gardena.mowerCommands.description=Befehle f\ufffdr einen M\ufffdher\n+channel-group-type.gardena.mowerCommands.channel.commandDuration.label=M\ufffdhdauer\n+channel-group-type.gardena.mowerCommands.channel.start_seconds_to_override.label=Starte m\ufffdhen mit Dauer", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f549d3d4efe014ad5a6354ff596dd5ac9ffaa604"}, "originalPosition": 194}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODY1Mjk3Ng==", "bodyText": "Can you comment on this?", "url": "https://github.com/openhab/openhab-addons/pull/8869#discussion_r538652976", "createdAt": "2020-12-08T17:45:34Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.gardena/src/main/resources/OH-INF/i18n/gardena_de.properties", "diffHunk": "@@ -1,462 +1,273 @@\n # binding\n-binding.gardena.description=Das ist das Binding f\ufffdr Gardena Smart Home Produkte.\n+binding.gardena.description=Das ist das Binding f\ufffdr Gardena Smart System.\n \n # thing types\n-thing-type.gardena.bridge.description=ein Gardena Smart Home Online Account\n+thing-type.gardena.bridge.description=Ein Gardena Smart System Online Account\n \n-thing-type.config.gardena.bridge.email.description=Email Addresse f\ufffdr den Gardena Smart Home Login \n+thing-type.config.gardena.bridge.email.description=Email Addresse f\ufffdr den Gardena Smart System Login \n thing-type.config.gardena.bridge.password.label=Passwort \n-thing-type.config.gardena.bridge.password.description=Passwort f\ufffdr den Gardena Smart Home Login \n-thing-type.config.gardena.bridge.sessionTimeout.description=Timeout der Gardena Smart Home Session in Minuten\n+thing-type.config.gardena.bridge.password.description=Passwort f\ufffdr den Gardena Smart System Login \n thing-type.config.gardena.bridge.connectionTimeout.label=Verbindungstimeout\n-thing-type.config.gardena.bridge.connectionTimeout.description=Timeout des Verbindungsaufbaus zu Gardena Smart Home in Sekunden\n-thing-type.config.gardena.bridge.refresh.label=Refreshintervall\n-thing-type.config.gardena.bridge.refresh.description=Der Intervall f\ufffdr die Datenabholung von Gardena Smart Home in Sekunden\n+thing-type.config.gardena.bridge.connectionTimeout.description=Timeout des Verbindungsaufbaus zum Gardena Smart System in Sekunden\n+thing-type.config.gardena.bridge.apiKey.description=Der Gardena Smart System Integrations API Schl\ufffdssel\n \n-thing-type.gardena.mower.label=Gardena Smart Sileno M\ufffdher\n-thing-type.gardena.mower.description=ein Gardena Smart Sileno M\ufffdher\n+thing-type.gardena.mower.label=Gardena Smart SILENO M\ufffdher\n+thing-type.gardena.mower.description=Ein Gardena Smart SILENO M\ufffdher\n \n-thing-type.gardena.watering_computer.label=Gardena Smart Bew\ufffdsserungscomputer\n-thing-type.gardena.watering_computer.description=ein Gardena Smart Bew\ufffdsserungscomputer\n+thing-type.gardena.water_control.label=Gardena Smart Bew\ufffdsserungscomputer\n+thing-type.gardena.water_control.description=Ein Gardena Smart Bew\ufffdsserungscomputer\n \n thing-type.gardena.sensor.label=Gardena Smart Sensor\n-thing-type.gardena.sensor.description=ein Gardena Smart Sensor\n+thing-type.gardena.sensor.description=Ein Gardena Smart Sensor\n \n-thing-type.gardena.electronic_pressure_pump.label=Gardena Smart Druckpumpe\n-thing-type.gardena.electronic_pressure_pump.description=Eine Gardena Smart Druckpumpe\n+thing-type.gardena.pump.label=Gardena Smart Druckpumpe\n+thing-type.gardena.pump.description=Eine Gardena Smart Druckpumpe\n \n thing-type.gardena.power.label=Gardena Smart Power Zwischenstecker\n-thing-type.gardena.power.description=Eine Gardena Smart Power Zwischenstecker\n-\n-thing-type.gardena.ic24.label=Gardena Smart Bew\ufffdsserungssteuerung\n-thing-type.gardena.ic24.description=Eine Gardena Smart Bew\ufffdsserungssteuerung\n-\n-# config\n-thing-type.config.gardena.electronic_pressure_pump.leakage_detection.label=Leckage-Erkennung\n-thing-type.config.gardena.electronic_pressure_pump.leakage_detection.state.option.watering=Bew\ufffdsserung\n-thing-type.config.gardena.electronic_pressure_pump.leakage_detection.state.option.washing_machine=Waschmaschine\n-thing-type.config.gardena.electronic_pressure_pump.leakage_detection.state.option.domestic_water_supply=H\ufffdusliche Wasserversorgung\n-thing-type.config.gardena.electronic_pressure_pump.leakage_detection.state.option.off=Aus\n-\n-thing-type.config.gardena.electronic_pressure_pump.operating_mode.label=Betriebsmodus\n-thing-type.config.gardena.electronic_pressure_pump.operating_mode.state.option.automatic=Automatisch\n-thing-type.config.gardena.electronic_pressure_pump.operating_mode.state.option.scheduled=Zeitgesteuert\n-\n-thing-type.config.gardena.electronic_pressure_pump.turn_on_pressure.label=Einschaltdruck\n+thing-type.gardena.power.description=Ein Gardena Smart Power Zwischenstecker\n+\n+thing-type.gardena.irrigation_control.label=Gardena Smart Bew\ufffdsserungssteuerung\n+thing-type.gardena.irrigation_control.description=Eine Gardena Smart Bew\ufffdsserungssteuerung\n+\n+thing-type.gardena.irrigation_control.group.valve_1.label=Ventil 1 Eigenschaften\n+thing-type.gardena.irrigation_control.group.valve_1_commands.label=Ventil 1 Befehle\n+thing-type.gardena.irrigation_control.group.valve_2.label=Ventil 2 Eigenschaften\n+thing-type.gardena.irrigation_control.group.valve_2_commands.label=Ventil 2 Befehle\n+thing-type.gardena.irrigation_control.group.valve_3.label=Ventil 3 Eigenschaften\n+thing-type.gardena.irrigation_control.group.valve_3_commands.label=Ventil 3 Befehle\n+thing-type.gardena.irrigation_control.group.valve_4.label=Ventil 4 Eigenschaften\n+thing-type.gardena.irrigation_control.group.valve_4_commands.label=Ventil 4 Befehle\n+thing-type.gardena.irrigation_control.group.valve_5.label=Ventil 5 Eigenschaften\n+thing-type.gardena.irrigation_control.group.valve_5_commands.label=Ventil 5 Befehle\n+thing-type.gardena.irrigation_control.group.valve_6.label=Ventil 6 Eigenschaften\n+thing-type.gardena.irrigation_control.group.valve_6_commands.label=Ventil 6 Befehle\n \n # channel group\n-channel-group-type.gardena.deviceInfo.label=Ger\ufffdteinfo\n-channel-group-type.gardena.deviceInfo.description=Informationen \ufffdber das Ger\ufffdt\n-\n-channel-group-type.gardena.rechargeableBattery.label=Wiederaufladbare Batterie Info\n-channel-group-type.gardena.rechargeableBattery.description=Informationen \ufffdber die wiederaufladbare Batterie\n-\n-channel-group-type.gardena.radio.label=Funkverbindung\n-channel-group-type.gardena.radio.description=Informationen \ufffdber die Funkverbindung\n-\n-channel-group-type.gardena.mower.label=M\ufffdhroboter\n-channel-group-type.gardena.mower.description=Informationen \ufffdber den M\ufffdhroboter\n-\n-channel-group-type.gardena.internalTemperature.label=Interne Temperatur\n-channel-group-type.gardena.internalTemperature.description=Die interne Temperatur des M\ufffdhroboters\n-\n-channel-group-type.gardena.battery.label=Batterieinfo\n-channel-group-type.gardena.battery.description=Informationen \ufffdber die Batterie\n-\n-channel-group-type.gardena.outlet.label=Wasserauslass\n-channel-group-type.gardena.outlet.description=Informationen \ufffdber den Wasserauslass\n-\n-channel-group-type.gardena.ambientTemperature.label=Umgebungstemperatur\n-channel-group-type.gardena.ambientTemperature.description=Informationen \ufffdber die Umgebungstemperatur\n-\n-channel-group-type.gardena.soilTemperature.label=Bodentemperatur\n-channel-group-type.gardena.soilTemperature.description=Die Temperatur des Bodens\n-\n-channel-group-type.gardena.humidity.label=Feuchtigkeit\n-channel-group-type.gardena.humidity.description=Die Feuchtigkeit\n-\n-channel-group-type.gardena.light.label=Helligkeit\n-channel-group-type.gardena.light.description=Die Helligkeit\n-\n-channel-group-type.gardena.firmware.label=Firmware\n-channel-group-type.gardena.firmware.description=Informationen \ufffdber die Firmware\n-\n-channel-group-type.gardena.outletTemperature.label=Auslauftemperatur\n-channel-group-type.gardena.outletTemperature.description=Die Auslauftemperatur\n-\n-channel-group-type.gardena.pump.label=Pumpe\n-channel-group-type.gardena.pump.description=Die Pumpe\n-\n-channel-group-type.gardena.outletPressure.label=Auslassdruck\n-channel-group-type.gardena.outletPressure.description=Der Auslassdruck\n-\n-channel-group-type.gardena.outletPressureMax.label=Maximum Auslassdruck\n-channel-group-type.gardena.outletPressureMax.description=Der maximale Auslassdruck\n-\n-channel-group-type.gardena.flow.label=F\ufffdrderung\n-channel-group-type.gardena.flow.description=Die F\ufffdrderung\n-\n-channel-group-type.gardena.manualWatering.label=Manuelle Bew\ufffdsserung\n-channel-group-type.gardena.manualWatering.description=Die manuelle Bew\ufffdsserung\n-\n-channel-group-type.gardena.scheduling.label=Zeitplan\n-channel-group-type.gardena.scheduling.description=Der Zeitplan\n-\n-channel-group-type.gardena.mowerStats.label=M\ufffdhroboter Statistiken\n-channel-group-type.gardena.mowerStats.description=Statistiken \ufffdber den M\ufffdhroboter\n-\n-channel-group-type.gardena.power.label=Energie\n-channel-group-type.gardena.power.description=Energie\n-\n-channel-group-type.gardena.watering.label=Bew\ufffdsserung\n-channel-group-type.gardena.watering.description=Die Bew\ufffdsserung\n-\n-channel-group-type.gardena.ic24.label=Bew\ufffdsserungssteuerung\n-channel-group-type.gardena.ic24.description=Die Bew\ufffdsserungssteuerung\n-\n-channel-group-type.gardena.ic24scheduling.label=Zeitplanung\n-channel-group-type.gardena.ic24scheduling.description=Die Zeitplanung\n+channel-group-type.gardena.valveSetProperties.label=Ventilsatz Eigenschaften\n+channel-group-type.gardena.valveSetProperties.description=Eigenschaften eines Ventilsatzes\n+\n+channel-group-type.gardena.valveSetProperties.channel.state_timestamp.label=Status Zeitstempel\n+channel-group-type.gardena.valveSetProperties.channel.lastErrorCode_timestamp.label=Letzte Fehlermeldung Zeitstempel\n+\n+channel-group-type.gardena.valveProperties.label=Ventil Eigenschaften\n+channel-group-type.gardena.valveProperties.description=Eigenschaften eines Ventils\n+channel-group-type.gardena.valveProperties.channel.state_timestamp.label=Status Zeitstempel\n+channel-group-type.gardena.valveProperties.channel.activity_timestamp.label=Aktivit\ufffdt Zeitstempel\n+channel-group-type.gardena.valveProperties.channel.lastErrorCode_timestamp.label=Letzte Fehlermeldung Zeitstempel\n+\n+channel-group-type.gardena.sensorProperties.label=Sensor Eigenschaften\n+channel-group-type.gardena.sensorProperties.description=Eigenschaften eines Sensors\n+channel-group-type.gardena.sensorProperties.channel.soilHumidity_timestamp.label=Bodenfeuchtigkeit Zeitstempel\n+channel-group-type.gardena.sensorProperties.channel.soilTemperature.label=Bodentemperatur\n+channel-group-type.gardena.sensorProperties.channel.soilTemperature_timestamp.label=Bodentemperatur Zeitstempel\n+channel-group-type.gardena.sensorProperties.channel.ambientTemperature.label=Umgebungstemperatur\n+channel-group-type.gardena.sensorProperties.channel.ambientTemperature_timestamp.label=Umgebungstemperatur Zeitstempel\n+channel-group-type.gardena.sensorProperties.channel.lightIntensity_timestamp.label=Lichtintensit\ufffdt Zeitstempel\n+\n+channel-group-type.gardena.powerSocketProperties.label=Zwischenstecker Eigenschaften\n+channel-group-type.gardena.powerSocketProperties.description=Eigenschaften eines Zwischensteckers\n+channel-group-type.gardena.powerSocketProperties.channel.state_timestamp.label=Status Zeitstempel\n+channel-group-type.gardena.powerSocketProperties.channel.activity_timestamp.label=Aktivit\ufffdt Zeitstempel\n+channel-group-type.gardena.powerSocketProperties.channel.lastErrorCode_timestamp.label=Letzte Fehlermeldung Zeitstempel\n+channel-group-type.gardena.powerSocketProperties.channel.duration_timestamp.label=Dauer Zeitstempel\n+\n+channel-group-type.gardena.mowerProperties.label=M\ufffdher Eigenschaften\n+channel-group-type.gardena.mowerProperties.description=Eigenschaften eines M\ufffdhers\n+channel-group-type.gardena.mowerProperties.channel.state_timestamp.label=Status Zeitstempel\n+channel-group-type.gardena.mowerProperties.channel.activity_timestamp.label=Aktivit\ufffdt Zeitstempel\n+channel-group-type.gardena.mowerProperties.channel.lastErrorCode_timestamp.label=Letzte Fehlermeldung Zeitstempel\n+\n+channel-group-type.gardena.commonProperties.label=Gemeinsame Eigenschaften\n+channel-group-type.gardena.commonProperties.description=Eigenschaften, die bei allen Ger\ufffdten gleich sind\n+channel-group-type.gardena.commonProperties.channel.batteryLevel_timestamp.label=Batterie Zeitstempel\n+channel-group-type.gardena.commonProperties.channel.batteryState_timestamp.label=Batteriestatus Zeitstempel\n+channel-group-type.gardena.commonProperties.channel.rfLinkLevel_timestamp.label=Signalst\ufffdrke Zeitstempel\n+channel-group-type.gardena.commonProperties.channel.rfLinkState_timestamp.label=Verbindungsstatus Zeitstempel\n+channel-group-type.gardena.commonProperties.channel.lastUpdate_timestamp.label=Letzte Aktualisierung Zeitstempel\n+\n+channel-group-type.gardena.mowerCommands.label=M\ufffdher Befehle\n+channel-group-type.gardena.mowerCommands.description=Befehle f\ufffdr einen M\ufffdher\n+channel-group-type.gardena.mowerCommands.channel.commandDuration.label=M\ufffdhdauer\n+channel-group-type.gardena.mowerCommands.channel.start_seconds_to_override.label=Starte m\ufffdhen mit Dauer", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzgxMzQyMw=="}, "originalCommit": {"oid": "f549d3d4efe014ad5a6354ff596dd5ac9ffaa604"}, "originalPosition": 194}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI4NDI0ODEwOnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.gardena/src/main/resources/OH-INF/i18n/gardena_de.properties", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNVQyMTowNDoyMVrOHzjCQA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQxMDowODo1MlrOIDBVaQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzgxMzQ0MA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            channel-group-type.gardena.mowerCommands.channel.park_until_further_notice.label=Zeiplan pausieren\n          \n          \n            \n            channel-group-type.gardena.mowerCommands.channel.park_until_further_notice.label=Zeitplan pausieren", "url": "https://github.com/openhab/openhab-addons/pull/8869#discussion_r523813440", "createdAt": "2020-11-15T21:04:21Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.gardena/src/main/resources/OH-INF/i18n/gardena_de.properties", "diffHunk": "@@ -1,462 +1,273 @@\n # binding\n-binding.gardena.description=Das ist das Binding f\ufffdr Gardena Smart Home Produkte.\n+binding.gardena.description=Das ist das Binding f\ufffdr Gardena Smart System.\n \n # thing types\n-thing-type.gardena.bridge.description=ein Gardena Smart Home Online Account\n+thing-type.gardena.bridge.description=Ein Gardena Smart System Online Account\n \n-thing-type.config.gardena.bridge.email.description=Email Addresse f\ufffdr den Gardena Smart Home Login \n+thing-type.config.gardena.bridge.email.description=Email Addresse f\ufffdr den Gardena Smart System Login \n thing-type.config.gardena.bridge.password.label=Passwort \n-thing-type.config.gardena.bridge.password.description=Passwort f\ufffdr den Gardena Smart Home Login \n-thing-type.config.gardena.bridge.sessionTimeout.description=Timeout der Gardena Smart Home Session in Minuten\n+thing-type.config.gardena.bridge.password.description=Passwort f\ufffdr den Gardena Smart System Login \n thing-type.config.gardena.bridge.connectionTimeout.label=Verbindungstimeout\n-thing-type.config.gardena.bridge.connectionTimeout.description=Timeout des Verbindungsaufbaus zu Gardena Smart Home in Sekunden\n-thing-type.config.gardena.bridge.refresh.label=Refreshintervall\n-thing-type.config.gardena.bridge.refresh.description=Der Intervall f\ufffdr die Datenabholung von Gardena Smart Home in Sekunden\n+thing-type.config.gardena.bridge.connectionTimeout.description=Timeout des Verbindungsaufbaus zum Gardena Smart System in Sekunden\n+thing-type.config.gardena.bridge.apiKey.description=Der Gardena Smart System Integrations API Schl\ufffdssel\n \n-thing-type.gardena.mower.label=Gardena Smart Sileno M\ufffdher\n-thing-type.gardena.mower.description=ein Gardena Smart Sileno M\ufffdher\n+thing-type.gardena.mower.label=Gardena Smart SILENO M\ufffdher\n+thing-type.gardena.mower.description=Ein Gardena Smart SILENO M\ufffdher\n \n-thing-type.gardena.watering_computer.label=Gardena Smart Bew\ufffdsserungscomputer\n-thing-type.gardena.watering_computer.description=ein Gardena Smart Bew\ufffdsserungscomputer\n+thing-type.gardena.water_control.label=Gardena Smart Bew\ufffdsserungscomputer\n+thing-type.gardena.water_control.description=Ein Gardena Smart Bew\ufffdsserungscomputer\n \n thing-type.gardena.sensor.label=Gardena Smart Sensor\n-thing-type.gardena.sensor.description=ein Gardena Smart Sensor\n+thing-type.gardena.sensor.description=Ein Gardena Smart Sensor\n \n-thing-type.gardena.electronic_pressure_pump.label=Gardena Smart Druckpumpe\n-thing-type.gardena.electronic_pressure_pump.description=Eine Gardena Smart Druckpumpe\n+thing-type.gardena.pump.label=Gardena Smart Druckpumpe\n+thing-type.gardena.pump.description=Eine Gardena Smart Druckpumpe\n \n thing-type.gardena.power.label=Gardena Smart Power Zwischenstecker\n-thing-type.gardena.power.description=Eine Gardena Smart Power Zwischenstecker\n-\n-thing-type.gardena.ic24.label=Gardena Smart Bew\ufffdsserungssteuerung\n-thing-type.gardena.ic24.description=Eine Gardena Smart Bew\ufffdsserungssteuerung\n-\n-# config\n-thing-type.config.gardena.electronic_pressure_pump.leakage_detection.label=Leckage-Erkennung\n-thing-type.config.gardena.electronic_pressure_pump.leakage_detection.state.option.watering=Bew\ufffdsserung\n-thing-type.config.gardena.electronic_pressure_pump.leakage_detection.state.option.washing_machine=Waschmaschine\n-thing-type.config.gardena.electronic_pressure_pump.leakage_detection.state.option.domestic_water_supply=H\ufffdusliche Wasserversorgung\n-thing-type.config.gardena.electronic_pressure_pump.leakage_detection.state.option.off=Aus\n-\n-thing-type.config.gardena.electronic_pressure_pump.operating_mode.label=Betriebsmodus\n-thing-type.config.gardena.electronic_pressure_pump.operating_mode.state.option.automatic=Automatisch\n-thing-type.config.gardena.electronic_pressure_pump.operating_mode.state.option.scheduled=Zeitgesteuert\n-\n-thing-type.config.gardena.electronic_pressure_pump.turn_on_pressure.label=Einschaltdruck\n+thing-type.gardena.power.description=Ein Gardena Smart Power Zwischenstecker\n+\n+thing-type.gardena.irrigation_control.label=Gardena Smart Bew\ufffdsserungssteuerung\n+thing-type.gardena.irrigation_control.description=Eine Gardena Smart Bew\ufffdsserungssteuerung\n+\n+thing-type.gardena.irrigation_control.group.valve_1.label=Ventil 1 Eigenschaften\n+thing-type.gardena.irrigation_control.group.valve_1_commands.label=Ventil 1 Befehle\n+thing-type.gardena.irrigation_control.group.valve_2.label=Ventil 2 Eigenschaften\n+thing-type.gardena.irrigation_control.group.valve_2_commands.label=Ventil 2 Befehle\n+thing-type.gardena.irrigation_control.group.valve_3.label=Ventil 3 Eigenschaften\n+thing-type.gardena.irrigation_control.group.valve_3_commands.label=Ventil 3 Befehle\n+thing-type.gardena.irrigation_control.group.valve_4.label=Ventil 4 Eigenschaften\n+thing-type.gardena.irrigation_control.group.valve_4_commands.label=Ventil 4 Befehle\n+thing-type.gardena.irrigation_control.group.valve_5.label=Ventil 5 Eigenschaften\n+thing-type.gardena.irrigation_control.group.valve_5_commands.label=Ventil 5 Befehle\n+thing-type.gardena.irrigation_control.group.valve_6.label=Ventil 6 Eigenschaften\n+thing-type.gardena.irrigation_control.group.valve_6_commands.label=Ventil 6 Befehle\n \n # channel group\n-channel-group-type.gardena.deviceInfo.label=Ger\ufffdteinfo\n-channel-group-type.gardena.deviceInfo.description=Informationen \ufffdber das Ger\ufffdt\n-\n-channel-group-type.gardena.rechargeableBattery.label=Wiederaufladbare Batterie Info\n-channel-group-type.gardena.rechargeableBattery.description=Informationen \ufffdber die wiederaufladbare Batterie\n-\n-channel-group-type.gardena.radio.label=Funkverbindung\n-channel-group-type.gardena.radio.description=Informationen \ufffdber die Funkverbindung\n-\n-channel-group-type.gardena.mower.label=M\ufffdhroboter\n-channel-group-type.gardena.mower.description=Informationen \ufffdber den M\ufffdhroboter\n-\n-channel-group-type.gardena.internalTemperature.label=Interne Temperatur\n-channel-group-type.gardena.internalTemperature.description=Die interne Temperatur des M\ufffdhroboters\n-\n-channel-group-type.gardena.battery.label=Batterieinfo\n-channel-group-type.gardena.battery.description=Informationen \ufffdber die Batterie\n-\n-channel-group-type.gardena.outlet.label=Wasserauslass\n-channel-group-type.gardena.outlet.description=Informationen \ufffdber den Wasserauslass\n-\n-channel-group-type.gardena.ambientTemperature.label=Umgebungstemperatur\n-channel-group-type.gardena.ambientTemperature.description=Informationen \ufffdber die Umgebungstemperatur\n-\n-channel-group-type.gardena.soilTemperature.label=Bodentemperatur\n-channel-group-type.gardena.soilTemperature.description=Die Temperatur des Bodens\n-\n-channel-group-type.gardena.humidity.label=Feuchtigkeit\n-channel-group-type.gardena.humidity.description=Die Feuchtigkeit\n-\n-channel-group-type.gardena.light.label=Helligkeit\n-channel-group-type.gardena.light.description=Die Helligkeit\n-\n-channel-group-type.gardena.firmware.label=Firmware\n-channel-group-type.gardena.firmware.description=Informationen \ufffdber die Firmware\n-\n-channel-group-type.gardena.outletTemperature.label=Auslauftemperatur\n-channel-group-type.gardena.outletTemperature.description=Die Auslauftemperatur\n-\n-channel-group-type.gardena.pump.label=Pumpe\n-channel-group-type.gardena.pump.description=Die Pumpe\n-\n-channel-group-type.gardena.outletPressure.label=Auslassdruck\n-channel-group-type.gardena.outletPressure.description=Der Auslassdruck\n-\n-channel-group-type.gardena.outletPressureMax.label=Maximum Auslassdruck\n-channel-group-type.gardena.outletPressureMax.description=Der maximale Auslassdruck\n-\n-channel-group-type.gardena.flow.label=F\ufffdrderung\n-channel-group-type.gardena.flow.description=Die F\ufffdrderung\n-\n-channel-group-type.gardena.manualWatering.label=Manuelle Bew\ufffdsserung\n-channel-group-type.gardena.manualWatering.description=Die manuelle Bew\ufffdsserung\n-\n-channel-group-type.gardena.scheduling.label=Zeitplan\n-channel-group-type.gardena.scheduling.description=Der Zeitplan\n-\n-channel-group-type.gardena.mowerStats.label=M\ufffdhroboter Statistiken\n-channel-group-type.gardena.mowerStats.description=Statistiken \ufffdber den M\ufffdhroboter\n-\n-channel-group-type.gardena.power.label=Energie\n-channel-group-type.gardena.power.description=Energie\n-\n-channel-group-type.gardena.watering.label=Bew\ufffdsserung\n-channel-group-type.gardena.watering.description=Die Bew\ufffdsserung\n-\n-channel-group-type.gardena.ic24.label=Bew\ufffdsserungssteuerung\n-channel-group-type.gardena.ic24.description=Die Bew\ufffdsserungssteuerung\n-\n-channel-group-type.gardena.ic24scheduling.label=Zeitplanung\n-channel-group-type.gardena.ic24scheduling.description=Die Zeitplanung\n+channel-group-type.gardena.valveSetProperties.label=Ventilsatz Eigenschaften\n+channel-group-type.gardena.valveSetProperties.description=Eigenschaften eines Ventilsatzes\n+\n+channel-group-type.gardena.valveSetProperties.channel.state_timestamp.label=Status Zeitstempel\n+channel-group-type.gardena.valveSetProperties.channel.lastErrorCode_timestamp.label=Letzte Fehlermeldung Zeitstempel\n+\n+channel-group-type.gardena.valveProperties.label=Ventil Eigenschaften\n+channel-group-type.gardena.valveProperties.description=Eigenschaften eines Ventils\n+channel-group-type.gardena.valveProperties.channel.state_timestamp.label=Status Zeitstempel\n+channel-group-type.gardena.valveProperties.channel.activity_timestamp.label=Aktivit\ufffdt Zeitstempel\n+channel-group-type.gardena.valveProperties.channel.lastErrorCode_timestamp.label=Letzte Fehlermeldung Zeitstempel\n+\n+channel-group-type.gardena.sensorProperties.label=Sensor Eigenschaften\n+channel-group-type.gardena.sensorProperties.description=Eigenschaften eines Sensors\n+channel-group-type.gardena.sensorProperties.channel.soilHumidity_timestamp.label=Bodenfeuchtigkeit Zeitstempel\n+channel-group-type.gardena.sensorProperties.channel.soilTemperature.label=Bodentemperatur\n+channel-group-type.gardena.sensorProperties.channel.soilTemperature_timestamp.label=Bodentemperatur Zeitstempel\n+channel-group-type.gardena.sensorProperties.channel.ambientTemperature.label=Umgebungstemperatur\n+channel-group-type.gardena.sensorProperties.channel.ambientTemperature_timestamp.label=Umgebungstemperatur Zeitstempel\n+channel-group-type.gardena.sensorProperties.channel.lightIntensity_timestamp.label=Lichtintensit\ufffdt Zeitstempel\n+\n+channel-group-type.gardena.powerSocketProperties.label=Zwischenstecker Eigenschaften\n+channel-group-type.gardena.powerSocketProperties.description=Eigenschaften eines Zwischensteckers\n+channel-group-type.gardena.powerSocketProperties.channel.state_timestamp.label=Status Zeitstempel\n+channel-group-type.gardena.powerSocketProperties.channel.activity_timestamp.label=Aktivit\ufffdt Zeitstempel\n+channel-group-type.gardena.powerSocketProperties.channel.lastErrorCode_timestamp.label=Letzte Fehlermeldung Zeitstempel\n+channel-group-type.gardena.powerSocketProperties.channel.duration_timestamp.label=Dauer Zeitstempel\n+\n+channel-group-type.gardena.mowerProperties.label=M\ufffdher Eigenschaften\n+channel-group-type.gardena.mowerProperties.description=Eigenschaften eines M\ufffdhers\n+channel-group-type.gardena.mowerProperties.channel.state_timestamp.label=Status Zeitstempel\n+channel-group-type.gardena.mowerProperties.channel.activity_timestamp.label=Aktivit\ufffdt Zeitstempel\n+channel-group-type.gardena.mowerProperties.channel.lastErrorCode_timestamp.label=Letzte Fehlermeldung Zeitstempel\n+\n+channel-group-type.gardena.commonProperties.label=Gemeinsame Eigenschaften\n+channel-group-type.gardena.commonProperties.description=Eigenschaften, die bei allen Ger\ufffdten gleich sind\n+channel-group-type.gardena.commonProperties.channel.batteryLevel_timestamp.label=Batterie Zeitstempel\n+channel-group-type.gardena.commonProperties.channel.batteryState_timestamp.label=Batteriestatus Zeitstempel\n+channel-group-type.gardena.commonProperties.channel.rfLinkLevel_timestamp.label=Signalst\ufffdrke Zeitstempel\n+channel-group-type.gardena.commonProperties.channel.rfLinkState_timestamp.label=Verbindungsstatus Zeitstempel\n+channel-group-type.gardena.commonProperties.channel.lastUpdate_timestamp.label=Letzte Aktualisierung Zeitstempel\n+\n+channel-group-type.gardena.mowerCommands.label=M\ufffdher Befehle\n+channel-group-type.gardena.mowerCommands.description=Befehle f\ufffdr einen M\ufffdher\n+channel-group-type.gardena.mowerCommands.channel.commandDuration.label=M\ufffdhdauer\n+channel-group-type.gardena.mowerCommands.channel.start_seconds_to_override.label=Starte m\ufffdhen mit Dauer\n+channel-group-type.gardena.mowerCommands.channel.start_dont_override.label=Zeitplan starten \n+channel-group-type.gardena.mowerCommands.channel.park_until_next_task.label=Parken\n+channel-group-type.gardena.mowerCommands.channel.park_until_further_notice.label=Zeiplan pausieren", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f549d3d4efe014ad5a6354ff596dd5ac9ffaa604"}, "originalPosition": 197}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODY1MzE4Ng==", "bodyText": "Can you comment on this?", "url": "https://github.com/openhab/openhab-addons/pull/8869#discussion_r538653186", "createdAt": "2020-12-08T17:45:47Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.gardena/src/main/resources/OH-INF/i18n/gardena_de.properties", "diffHunk": "@@ -1,462 +1,273 @@\n # binding\n-binding.gardena.description=Das ist das Binding f\ufffdr Gardena Smart Home Produkte.\n+binding.gardena.description=Das ist das Binding f\ufffdr Gardena Smart System.\n \n # thing types\n-thing-type.gardena.bridge.description=ein Gardena Smart Home Online Account\n+thing-type.gardena.bridge.description=Ein Gardena Smart System Online Account\n \n-thing-type.config.gardena.bridge.email.description=Email Addresse f\ufffdr den Gardena Smart Home Login \n+thing-type.config.gardena.bridge.email.description=Email Addresse f\ufffdr den Gardena Smart System Login \n thing-type.config.gardena.bridge.password.label=Passwort \n-thing-type.config.gardena.bridge.password.description=Passwort f\ufffdr den Gardena Smart Home Login \n-thing-type.config.gardena.bridge.sessionTimeout.description=Timeout der Gardena Smart Home Session in Minuten\n+thing-type.config.gardena.bridge.password.description=Passwort f\ufffdr den Gardena Smart System Login \n thing-type.config.gardena.bridge.connectionTimeout.label=Verbindungstimeout\n-thing-type.config.gardena.bridge.connectionTimeout.description=Timeout des Verbindungsaufbaus zu Gardena Smart Home in Sekunden\n-thing-type.config.gardena.bridge.refresh.label=Refreshintervall\n-thing-type.config.gardena.bridge.refresh.description=Der Intervall f\ufffdr die Datenabholung von Gardena Smart Home in Sekunden\n+thing-type.config.gardena.bridge.connectionTimeout.description=Timeout des Verbindungsaufbaus zum Gardena Smart System in Sekunden\n+thing-type.config.gardena.bridge.apiKey.description=Der Gardena Smart System Integrations API Schl\ufffdssel\n \n-thing-type.gardena.mower.label=Gardena Smart Sileno M\ufffdher\n-thing-type.gardena.mower.description=ein Gardena Smart Sileno M\ufffdher\n+thing-type.gardena.mower.label=Gardena Smart SILENO M\ufffdher\n+thing-type.gardena.mower.description=Ein Gardena Smart SILENO M\ufffdher\n \n-thing-type.gardena.watering_computer.label=Gardena Smart Bew\ufffdsserungscomputer\n-thing-type.gardena.watering_computer.description=ein Gardena Smart Bew\ufffdsserungscomputer\n+thing-type.gardena.water_control.label=Gardena Smart Bew\ufffdsserungscomputer\n+thing-type.gardena.water_control.description=Ein Gardena Smart Bew\ufffdsserungscomputer\n \n thing-type.gardena.sensor.label=Gardena Smart Sensor\n-thing-type.gardena.sensor.description=ein Gardena Smart Sensor\n+thing-type.gardena.sensor.description=Ein Gardena Smart Sensor\n \n-thing-type.gardena.electronic_pressure_pump.label=Gardena Smart Druckpumpe\n-thing-type.gardena.electronic_pressure_pump.description=Eine Gardena Smart Druckpumpe\n+thing-type.gardena.pump.label=Gardena Smart Druckpumpe\n+thing-type.gardena.pump.description=Eine Gardena Smart Druckpumpe\n \n thing-type.gardena.power.label=Gardena Smart Power Zwischenstecker\n-thing-type.gardena.power.description=Eine Gardena Smart Power Zwischenstecker\n-\n-thing-type.gardena.ic24.label=Gardena Smart Bew\ufffdsserungssteuerung\n-thing-type.gardena.ic24.description=Eine Gardena Smart Bew\ufffdsserungssteuerung\n-\n-# config\n-thing-type.config.gardena.electronic_pressure_pump.leakage_detection.label=Leckage-Erkennung\n-thing-type.config.gardena.electronic_pressure_pump.leakage_detection.state.option.watering=Bew\ufffdsserung\n-thing-type.config.gardena.electronic_pressure_pump.leakage_detection.state.option.washing_machine=Waschmaschine\n-thing-type.config.gardena.electronic_pressure_pump.leakage_detection.state.option.domestic_water_supply=H\ufffdusliche Wasserversorgung\n-thing-type.config.gardena.electronic_pressure_pump.leakage_detection.state.option.off=Aus\n-\n-thing-type.config.gardena.electronic_pressure_pump.operating_mode.label=Betriebsmodus\n-thing-type.config.gardena.electronic_pressure_pump.operating_mode.state.option.automatic=Automatisch\n-thing-type.config.gardena.electronic_pressure_pump.operating_mode.state.option.scheduled=Zeitgesteuert\n-\n-thing-type.config.gardena.electronic_pressure_pump.turn_on_pressure.label=Einschaltdruck\n+thing-type.gardena.power.description=Ein Gardena Smart Power Zwischenstecker\n+\n+thing-type.gardena.irrigation_control.label=Gardena Smart Bew\ufffdsserungssteuerung\n+thing-type.gardena.irrigation_control.description=Eine Gardena Smart Bew\ufffdsserungssteuerung\n+\n+thing-type.gardena.irrigation_control.group.valve_1.label=Ventil 1 Eigenschaften\n+thing-type.gardena.irrigation_control.group.valve_1_commands.label=Ventil 1 Befehle\n+thing-type.gardena.irrigation_control.group.valve_2.label=Ventil 2 Eigenschaften\n+thing-type.gardena.irrigation_control.group.valve_2_commands.label=Ventil 2 Befehle\n+thing-type.gardena.irrigation_control.group.valve_3.label=Ventil 3 Eigenschaften\n+thing-type.gardena.irrigation_control.group.valve_3_commands.label=Ventil 3 Befehle\n+thing-type.gardena.irrigation_control.group.valve_4.label=Ventil 4 Eigenschaften\n+thing-type.gardena.irrigation_control.group.valve_4_commands.label=Ventil 4 Befehle\n+thing-type.gardena.irrigation_control.group.valve_5.label=Ventil 5 Eigenschaften\n+thing-type.gardena.irrigation_control.group.valve_5_commands.label=Ventil 5 Befehle\n+thing-type.gardena.irrigation_control.group.valve_6.label=Ventil 6 Eigenschaften\n+thing-type.gardena.irrigation_control.group.valve_6_commands.label=Ventil 6 Befehle\n \n # channel group\n-channel-group-type.gardena.deviceInfo.label=Ger\ufffdteinfo\n-channel-group-type.gardena.deviceInfo.description=Informationen \ufffdber das Ger\ufffdt\n-\n-channel-group-type.gardena.rechargeableBattery.label=Wiederaufladbare Batterie Info\n-channel-group-type.gardena.rechargeableBattery.description=Informationen \ufffdber die wiederaufladbare Batterie\n-\n-channel-group-type.gardena.radio.label=Funkverbindung\n-channel-group-type.gardena.radio.description=Informationen \ufffdber die Funkverbindung\n-\n-channel-group-type.gardena.mower.label=M\ufffdhroboter\n-channel-group-type.gardena.mower.description=Informationen \ufffdber den M\ufffdhroboter\n-\n-channel-group-type.gardena.internalTemperature.label=Interne Temperatur\n-channel-group-type.gardena.internalTemperature.description=Die interne Temperatur des M\ufffdhroboters\n-\n-channel-group-type.gardena.battery.label=Batterieinfo\n-channel-group-type.gardena.battery.description=Informationen \ufffdber die Batterie\n-\n-channel-group-type.gardena.outlet.label=Wasserauslass\n-channel-group-type.gardena.outlet.description=Informationen \ufffdber den Wasserauslass\n-\n-channel-group-type.gardena.ambientTemperature.label=Umgebungstemperatur\n-channel-group-type.gardena.ambientTemperature.description=Informationen \ufffdber die Umgebungstemperatur\n-\n-channel-group-type.gardena.soilTemperature.label=Bodentemperatur\n-channel-group-type.gardena.soilTemperature.description=Die Temperatur des Bodens\n-\n-channel-group-type.gardena.humidity.label=Feuchtigkeit\n-channel-group-type.gardena.humidity.description=Die Feuchtigkeit\n-\n-channel-group-type.gardena.light.label=Helligkeit\n-channel-group-type.gardena.light.description=Die Helligkeit\n-\n-channel-group-type.gardena.firmware.label=Firmware\n-channel-group-type.gardena.firmware.description=Informationen \ufffdber die Firmware\n-\n-channel-group-type.gardena.outletTemperature.label=Auslauftemperatur\n-channel-group-type.gardena.outletTemperature.description=Die Auslauftemperatur\n-\n-channel-group-type.gardena.pump.label=Pumpe\n-channel-group-type.gardena.pump.description=Die Pumpe\n-\n-channel-group-type.gardena.outletPressure.label=Auslassdruck\n-channel-group-type.gardena.outletPressure.description=Der Auslassdruck\n-\n-channel-group-type.gardena.outletPressureMax.label=Maximum Auslassdruck\n-channel-group-type.gardena.outletPressureMax.description=Der maximale Auslassdruck\n-\n-channel-group-type.gardena.flow.label=F\ufffdrderung\n-channel-group-type.gardena.flow.description=Die F\ufffdrderung\n-\n-channel-group-type.gardena.manualWatering.label=Manuelle Bew\ufffdsserung\n-channel-group-type.gardena.manualWatering.description=Die manuelle Bew\ufffdsserung\n-\n-channel-group-type.gardena.scheduling.label=Zeitplan\n-channel-group-type.gardena.scheduling.description=Der Zeitplan\n-\n-channel-group-type.gardena.mowerStats.label=M\ufffdhroboter Statistiken\n-channel-group-type.gardena.mowerStats.description=Statistiken \ufffdber den M\ufffdhroboter\n-\n-channel-group-type.gardena.power.label=Energie\n-channel-group-type.gardena.power.description=Energie\n-\n-channel-group-type.gardena.watering.label=Bew\ufffdsserung\n-channel-group-type.gardena.watering.description=Die Bew\ufffdsserung\n-\n-channel-group-type.gardena.ic24.label=Bew\ufffdsserungssteuerung\n-channel-group-type.gardena.ic24.description=Die Bew\ufffdsserungssteuerung\n-\n-channel-group-type.gardena.ic24scheduling.label=Zeitplanung\n-channel-group-type.gardena.ic24scheduling.description=Die Zeitplanung\n+channel-group-type.gardena.valveSetProperties.label=Ventilsatz Eigenschaften\n+channel-group-type.gardena.valveSetProperties.description=Eigenschaften eines Ventilsatzes\n+\n+channel-group-type.gardena.valveSetProperties.channel.state_timestamp.label=Status Zeitstempel\n+channel-group-type.gardena.valveSetProperties.channel.lastErrorCode_timestamp.label=Letzte Fehlermeldung Zeitstempel\n+\n+channel-group-type.gardena.valveProperties.label=Ventil Eigenschaften\n+channel-group-type.gardena.valveProperties.description=Eigenschaften eines Ventils\n+channel-group-type.gardena.valveProperties.channel.state_timestamp.label=Status Zeitstempel\n+channel-group-type.gardena.valveProperties.channel.activity_timestamp.label=Aktivit\ufffdt Zeitstempel\n+channel-group-type.gardena.valveProperties.channel.lastErrorCode_timestamp.label=Letzte Fehlermeldung Zeitstempel\n+\n+channel-group-type.gardena.sensorProperties.label=Sensor Eigenschaften\n+channel-group-type.gardena.sensorProperties.description=Eigenschaften eines Sensors\n+channel-group-type.gardena.sensorProperties.channel.soilHumidity_timestamp.label=Bodenfeuchtigkeit Zeitstempel\n+channel-group-type.gardena.sensorProperties.channel.soilTemperature.label=Bodentemperatur\n+channel-group-type.gardena.sensorProperties.channel.soilTemperature_timestamp.label=Bodentemperatur Zeitstempel\n+channel-group-type.gardena.sensorProperties.channel.ambientTemperature.label=Umgebungstemperatur\n+channel-group-type.gardena.sensorProperties.channel.ambientTemperature_timestamp.label=Umgebungstemperatur Zeitstempel\n+channel-group-type.gardena.sensorProperties.channel.lightIntensity_timestamp.label=Lichtintensit\ufffdt Zeitstempel\n+\n+channel-group-type.gardena.powerSocketProperties.label=Zwischenstecker Eigenschaften\n+channel-group-type.gardena.powerSocketProperties.description=Eigenschaften eines Zwischensteckers\n+channel-group-type.gardena.powerSocketProperties.channel.state_timestamp.label=Status Zeitstempel\n+channel-group-type.gardena.powerSocketProperties.channel.activity_timestamp.label=Aktivit\ufffdt Zeitstempel\n+channel-group-type.gardena.powerSocketProperties.channel.lastErrorCode_timestamp.label=Letzte Fehlermeldung Zeitstempel\n+channel-group-type.gardena.powerSocketProperties.channel.duration_timestamp.label=Dauer Zeitstempel\n+\n+channel-group-type.gardena.mowerProperties.label=M\ufffdher Eigenschaften\n+channel-group-type.gardena.mowerProperties.description=Eigenschaften eines M\ufffdhers\n+channel-group-type.gardena.mowerProperties.channel.state_timestamp.label=Status Zeitstempel\n+channel-group-type.gardena.mowerProperties.channel.activity_timestamp.label=Aktivit\ufffdt Zeitstempel\n+channel-group-type.gardena.mowerProperties.channel.lastErrorCode_timestamp.label=Letzte Fehlermeldung Zeitstempel\n+\n+channel-group-type.gardena.commonProperties.label=Gemeinsame Eigenschaften\n+channel-group-type.gardena.commonProperties.description=Eigenschaften, die bei allen Ger\ufffdten gleich sind\n+channel-group-type.gardena.commonProperties.channel.batteryLevel_timestamp.label=Batterie Zeitstempel\n+channel-group-type.gardena.commonProperties.channel.batteryState_timestamp.label=Batteriestatus Zeitstempel\n+channel-group-type.gardena.commonProperties.channel.rfLinkLevel_timestamp.label=Signalst\ufffdrke Zeitstempel\n+channel-group-type.gardena.commonProperties.channel.rfLinkState_timestamp.label=Verbindungsstatus Zeitstempel\n+channel-group-type.gardena.commonProperties.channel.lastUpdate_timestamp.label=Letzte Aktualisierung Zeitstempel\n+\n+channel-group-type.gardena.mowerCommands.label=M\ufffdher Befehle\n+channel-group-type.gardena.mowerCommands.description=Befehle f\ufffdr einen M\ufffdher\n+channel-group-type.gardena.mowerCommands.channel.commandDuration.label=M\ufffdhdauer\n+channel-group-type.gardena.mowerCommands.channel.start_seconds_to_override.label=Starte m\ufffdhen mit Dauer\n+channel-group-type.gardena.mowerCommands.channel.start_dont_override.label=Zeitplan starten \n+channel-group-type.gardena.mowerCommands.channel.park_until_next_task.label=Parken\n+channel-group-type.gardena.mowerCommands.channel.park_until_further_notice.label=Zeiplan pausieren", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzgxMzQ0MA=="}, "originalCommit": {"oid": "f549d3d4efe014ad5a6354ff596dd5ac9ffaa604"}, "originalPosition": 197}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDAzODUwNQ==", "bodyText": "This is still spelled wrong.", "url": "https://github.com/openhab/openhab-addons/pull/8869#discussion_r540038505", "createdAt": "2020-12-10T10:08:52Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.gardena/src/main/resources/OH-INF/i18n/gardena_de.properties", "diffHunk": "@@ -1,462 +1,273 @@\n # binding\n-binding.gardena.description=Das ist das Binding f\ufffdr Gardena Smart Home Produkte.\n+binding.gardena.description=Das ist das Binding f\ufffdr Gardena Smart System.\n \n # thing types\n-thing-type.gardena.bridge.description=ein Gardena Smart Home Online Account\n+thing-type.gardena.bridge.description=Ein Gardena Smart System Online Account\n \n-thing-type.config.gardena.bridge.email.description=Email Addresse f\ufffdr den Gardena Smart Home Login \n+thing-type.config.gardena.bridge.email.description=Email Addresse f\ufffdr den Gardena Smart System Login \n thing-type.config.gardena.bridge.password.label=Passwort \n-thing-type.config.gardena.bridge.password.description=Passwort f\ufffdr den Gardena Smart Home Login \n-thing-type.config.gardena.bridge.sessionTimeout.description=Timeout der Gardena Smart Home Session in Minuten\n+thing-type.config.gardena.bridge.password.description=Passwort f\ufffdr den Gardena Smart System Login \n thing-type.config.gardena.bridge.connectionTimeout.label=Verbindungstimeout\n-thing-type.config.gardena.bridge.connectionTimeout.description=Timeout des Verbindungsaufbaus zu Gardena Smart Home in Sekunden\n-thing-type.config.gardena.bridge.refresh.label=Refreshintervall\n-thing-type.config.gardena.bridge.refresh.description=Der Intervall f\ufffdr die Datenabholung von Gardena Smart Home in Sekunden\n+thing-type.config.gardena.bridge.connectionTimeout.description=Timeout des Verbindungsaufbaus zum Gardena Smart System in Sekunden\n+thing-type.config.gardena.bridge.apiKey.description=Der Gardena Smart System Integrations API Schl\ufffdssel\n \n-thing-type.gardena.mower.label=Gardena Smart Sileno M\ufffdher\n-thing-type.gardena.mower.description=ein Gardena Smart Sileno M\ufffdher\n+thing-type.gardena.mower.label=Gardena Smart SILENO M\ufffdher\n+thing-type.gardena.mower.description=Ein Gardena Smart SILENO M\ufffdher\n \n-thing-type.gardena.watering_computer.label=Gardena Smart Bew\ufffdsserungscomputer\n-thing-type.gardena.watering_computer.description=ein Gardena Smart Bew\ufffdsserungscomputer\n+thing-type.gardena.water_control.label=Gardena Smart Bew\ufffdsserungscomputer\n+thing-type.gardena.water_control.description=Ein Gardena Smart Bew\ufffdsserungscomputer\n \n thing-type.gardena.sensor.label=Gardena Smart Sensor\n-thing-type.gardena.sensor.description=ein Gardena Smart Sensor\n+thing-type.gardena.sensor.description=Ein Gardena Smart Sensor\n \n-thing-type.gardena.electronic_pressure_pump.label=Gardena Smart Druckpumpe\n-thing-type.gardena.electronic_pressure_pump.description=Eine Gardena Smart Druckpumpe\n+thing-type.gardena.pump.label=Gardena Smart Druckpumpe\n+thing-type.gardena.pump.description=Eine Gardena Smart Druckpumpe\n \n thing-type.gardena.power.label=Gardena Smart Power Zwischenstecker\n-thing-type.gardena.power.description=Eine Gardena Smart Power Zwischenstecker\n-\n-thing-type.gardena.ic24.label=Gardena Smart Bew\ufffdsserungssteuerung\n-thing-type.gardena.ic24.description=Eine Gardena Smart Bew\ufffdsserungssteuerung\n-\n-# config\n-thing-type.config.gardena.electronic_pressure_pump.leakage_detection.label=Leckage-Erkennung\n-thing-type.config.gardena.electronic_pressure_pump.leakage_detection.state.option.watering=Bew\ufffdsserung\n-thing-type.config.gardena.electronic_pressure_pump.leakage_detection.state.option.washing_machine=Waschmaschine\n-thing-type.config.gardena.electronic_pressure_pump.leakage_detection.state.option.domestic_water_supply=H\ufffdusliche Wasserversorgung\n-thing-type.config.gardena.electronic_pressure_pump.leakage_detection.state.option.off=Aus\n-\n-thing-type.config.gardena.electronic_pressure_pump.operating_mode.label=Betriebsmodus\n-thing-type.config.gardena.electronic_pressure_pump.operating_mode.state.option.automatic=Automatisch\n-thing-type.config.gardena.electronic_pressure_pump.operating_mode.state.option.scheduled=Zeitgesteuert\n-\n-thing-type.config.gardena.electronic_pressure_pump.turn_on_pressure.label=Einschaltdruck\n+thing-type.gardena.power.description=Ein Gardena Smart Power Zwischenstecker\n+\n+thing-type.gardena.irrigation_control.label=Gardena Smart Bew\ufffdsserungssteuerung\n+thing-type.gardena.irrigation_control.description=Eine Gardena Smart Bew\ufffdsserungssteuerung\n+\n+thing-type.gardena.irrigation_control.group.valve_1.label=Ventil 1 Eigenschaften\n+thing-type.gardena.irrigation_control.group.valve_1_commands.label=Ventil 1 Befehle\n+thing-type.gardena.irrigation_control.group.valve_2.label=Ventil 2 Eigenschaften\n+thing-type.gardena.irrigation_control.group.valve_2_commands.label=Ventil 2 Befehle\n+thing-type.gardena.irrigation_control.group.valve_3.label=Ventil 3 Eigenschaften\n+thing-type.gardena.irrigation_control.group.valve_3_commands.label=Ventil 3 Befehle\n+thing-type.gardena.irrigation_control.group.valve_4.label=Ventil 4 Eigenschaften\n+thing-type.gardena.irrigation_control.group.valve_4_commands.label=Ventil 4 Befehle\n+thing-type.gardena.irrigation_control.group.valve_5.label=Ventil 5 Eigenschaften\n+thing-type.gardena.irrigation_control.group.valve_5_commands.label=Ventil 5 Befehle\n+thing-type.gardena.irrigation_control.group.valve_6.label=Ventil 6 Eigenschaften\n+thing-type.gardena.irrigation_control.group.valve_6_commands.label=Ventil 6 Befehle\n \n # channel group\n-channel-group-type.gardena.deviceInfo.label=Ger\ufffdteinfo\n-channel-group-type.gardena.deviceInfo.description=Informationen \ufffdber das Ger\ufffdt\n-\n-channel-group-type.gardena.rechargeableBattery.label=Wiederaufladbare Batterie Info\n-channel-group-type.gardena.rechargeableBattery.description=Informationen \ufffdber die wiederaufladbare Batterie\n-\n-channel-group-type.gardena.radio.label=Funkverbindung\n-channel-group-type.gardena.radio.description=Informationen \ufffdber die Funkverbindung\n-\n-channel-group-type.gardena.mower.label=M\ufffdhroboter\n-channel-group-type.gardena.mower.description=Informationen \ufffdber den M\ufffdhroboter\n-\n-channel-group-type.gardena.internalTemperature.label=Interne Temperatur\n-channel-group-type.gardena.internalTemperature.description=Die interne Temperatur des M\ufffdhroboters\n-\n-channel-group-type.gardena.battery.label=Batterieinfo\n-channel-group-type.gardena.battery.description=Informationen \ufffdber die Batterie\n-\n-channel-group-type.gardena.outlet.label=Wasserauslass\n-channel-group-type.gardena.outlet.description=Informationen \ufffdber den Wasserauslass\n-\n-channel-group-type.gardena.ambientTemperature.label=Umgebungstemperatur\n-channel-group-type.gardena.ambientTemperature.description=Informationen \ufffdber die Umgebungstemperatur\n-\n-channel-group-type.gardena.soilTemperature.label=Bodentemperatur\n-channel-group-type.gardena.soilTemperature.description=Die Temperatur des Bodens\n-\n-channel-group-type.gardena.humidity.label=Feuchtigkeit\n-channel-group-type.gardena.humidity.description=Die Feuchtigkeit\n-\n-channel-group-type.gardena.light.label=Helligkeit\n-channel-group-type.gardena.light.description=Die Helligkeit\n-\n-channel-group-type.gardena.firmware.label=Firmware\n-channel-group-type.gardena.firmware.description=Informationen \ufffdber die Firmware\n-\n-channel-group-type.gardena.outletTemperature.label=Auslauftemperatur\n-channel-group-type.gardena.outletTemperature.description=Die Auslauftemperatur\n-\n-channel-group-type.gardena.pump.label=Pumpe\n-channel-group-type.gardena.pump.description=Die Pumpe\n-\n-channel-group-type.gardena.outletPressure.label=Auslassdruck\n-channel-group-type.gardena.outletPressure.description=Der Auslassdruck\n-\n-channel-group-type.gardena.outletPressureMax.label=Maximum Auslassdruck\n-channel-group-type.gardena.outletPressureMax.description=Der maximale Auslassdruck\n-\n-channel-group-type.gardena.flow.label=F\ufffdrderung\n-channel-group-type.gardena.flow.description=Die F\ufffdrderung\n-\n-channel-group-type.gardena.manualWatering.label=Manuelle Bew\ufffdsserung\n-channel-group-type.gardena.manualWatering.description=Die manuelle Bew\ufffdsserung\n-\n-channel-group-type.gardena.scheduling.label=Zeitplan\n-channel-group-type.gardena.scheduling.description=Der Zeitplan\n-\n-channel-group-type.gardena.mowerStats.label=M\ufffdhroboter Statistiken\n-channel-group-type.gardena.mowerStats.description=Statistiken \ufffdber den M\ufffdhroboter\n-\n-channel-group-type.gardena.power.label=Energie\n-channel-group-type.gardena.power.description=Energie\n-\n-channel-group-type.gardena.watering.label=Bew\ufffdsserung\n-channel-group-type.gardena.watering.description=Die Bew\ufffdsserung\n-\n-channel-group-type.gardena.ic24.label=Bew\ufffdsserungssteuerung\n-channel-group-type.gardena.ic24.description=Die Bew\ufffdsserungssteuerung\n-\n-channel-group-type.gardena.ic24scheduling.label=Zeitplanung\n-channel-group-type.gardena.ic24scheduling.description=Die Zeitplanung\n+channel-group-type.gardena.valveSetProperties.label=Ventilsatz Eigenschaften\n+channel-group-type.gardena.valveSetProperties.description=Eigenschaften eines Ventilsatzes\n+\n+channel-group-type.gardena.valveSetProperties.channel.state_timestamp.label=Status Zeitstempel\n+channel-group-type.gardena.valveSetProperties.channel.lastErrorCode_timestamp.label=Letzte Fehlermeldung Zeitstempel\n+\n+channel-group-type.gardena.valveProperties.label=Ventil Eigenschaften\n+channel-group-type.gardena.valveProperties.description=Eigenschaften eines Ventils\n+channel-group-type.gardena.valveProperties.channel.state_timestamp.label=Status Zeitstempel\n+channel-group-type.gardena.valveProperties.channel.activity_timestamp.label=Aktivit\ufffdt Zeitstempel\n+channel-group-type.gardena.valveProperties.channel.lastErrorCode_timestamp.label=Letzte Fehlermeldung Zeitstempel\n+\n+channel-group-type.gardena.sensorProperties.label=Sensor Eigenschaften\n+channel-group-type.gardena.sensorProperties.description=Eigenschaften eines Sensors\n+channel-group-type.gardena.sensorProperties.channel.soilHumidity_timestamp.label=Bodenfeuchtigkeit Zeitstempel\n+channel-group-type.gardena.sensorProperties.channel.soilTemperature.label=Bodentemperatur\n+channel-group-type.gardena.sensorProperties.channel.soilTemperature_timestamp.label=Bodentemperatur Zeitstempel\n+channel-group-type.gardena.sensorProperties.channel.ambientTemperature.label=Umgebungstemperatur\n+channel-group-type.gardena.sensorProperties.channel.ambientTemperature_timestamp.label=Umgebungstemperatur Zeitstempel\n+channel-group-type.gardena.sensorProperties.channel.lightIntensity_timestamp.label=Lichtintensit\ufffdt Zeitstempel\n+\n+channel-group-type.gardena.powerSocketProperties.label=Zwischenstecker Eigenschaften\n+channel-group-type.gardena.powerSocketProperties.description=Eigenschaften eines Zwischensteckers\n+channel-group-type.gardena.powerSocketProperties.channel.state_timestamp.label=Status Zeitstempel\n+channel-group-type.gardena.powerSocketProperties.channel.activity_timestamp.label=Aktivit\ufffdt Zeitstempel\n+channel-group-type.gardena.powerSocketProperties.channel.lastErrorCode_timestamp.label=Letzte Fehlermeldung Zeitstempel\n+channel-group-type.gardena.powerSocketProperties.channel.duration_timestamp.label=Dauer Zeitstempel\n+\n+channel-group-type.gardena.mowerProperties.label=M\ufffdher Eigenschaften\n+channel-group-type.gardena.mowerProperties.description=Eigenschaften eines M\ufffdhers\n+channel-group-type.gardena.mowerProperties.channel.state_timestamp.label=Status Zeitstempel\n+channel-group-type.gardena.mowerProperties.channel.activity_timestamp.label=Aktivit\ufffdt Zeitstempel\n+channel-group-type.gardena.mowerProperties.channel.lastErrorCode_timestamp.label=Letzte Fehlermeldung Zeitstempel\n+\n+channel-group-type.gardena.commonProperties.label=Gemeinsame Eigenschaften\n+channel-group-type.gardena.commonProperties.description=Eigenschaften, die bei allen Ger\ufffdten gleich sind\n+channel-group-type.gardena.commonProperties.channel.batteryLevel_timestamp.label=Batterie Zeitstempel\n+channel-group-type.gardena.commonProperties.channel.batteryState_timestamp.label=Batteriestatus Zeitstempel\n+channel-group-type.gardena.commonProperties.channel.rfLinkLevel_timestamp.label=Signalst\ufffdrke Zeitstempel\n+channel-group-type.gardena.commonProperties.channel.rfLinkState_timestamp.label=Verbindungsstatus Zeitstempel\n+channel-group-type.gardena.commonProperties.channel.lastUpdate_timestamp.label=Letzte Aktualisierung Zeitstempel\n+\n+channel-group-type.gardena.mowerCommands.label=M\ufffdher Befehle\n+channel-group-type.gardena.mowerCommands.description=Befehle f\ufffdr einen M\ufffdher\n+channel-group-type.gardena.mowerCommands.channel.commandDuration.label=M\ufffdhdauer\n+channel-group-type.gardena.mowerCommands.channel.start_seconds_to_override.label=Starte m\ufffdhen mit Dauer\n+channel-group-type.gardena.mowerCommands.channel.start_dont_override.label=Zeitplan starten \n+channel-group-type.gardena.mowerCommands.channel.park_until_next_task.label=Parken\n+channel-group-type.gardena.mowerCommands.channel.park_until_further_notice.label=Zeiplan pausieren", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzgxMzQ0MA=="}, "originalCommit": {"oid": "f549d3d4efe014ad5a6354ff596dd5ac9ffaa604"}, "originalPosition": 197}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI4NDI0ODY4OnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.gardena/src/main/resources/OH-INF/i18n/gardena_de.properties", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNVQyMTowNDozN1rOHzjCfA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNVQyMTowNDozN1rOHzjCfA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzgxMzUwMA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            channel-group-type.gardena.valveCommands.label=Ventl Befehle\n          \n          \n            \n            channel-group-type.gardena.valveCommands.label=Ventil Befehle", "url": "https://github.com/openhab/openhab-addons/pull/8869#discussion_r523813500", "createdAt": "2020-11-15T21:04:37Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.gardena/src/main/resources/OH-INF/i18n/gardena_de.properties", "diffHunk": "@@ -1,462 +1,273 @@\n # binding\n-binding.gardena.description=Das ist das Binding f\ufffdr Gardena Smart Home Produkte.\n+binding.gardena.description=Das ist das Binding f\ufffdr Gardena Smart System.\n \n # thing types\n-thing-type.gardena.bridge.description=ein Gardena Smart Home Online Account\n+thing-type.gardena.bridge.description=Ein Gardena Smart System Online Account\n \n-thing-type.config.gardena.bridge.email.description=Email Addresse f\ufffdr den Gardena Smart Home Login \n+thing-type.config.gardena.bridge.email.description=Email Addresse f\ufffdr den Gardena Smart System Login \n thing-type.config.gardena.bridge.password.label=Passwort \n-thing-type.config.gardena.bridge.password.description=Passwort f\ufffdr den Gardena Smart Home Login \n-thing-type.config.gardena.bridge.sessionTimeout.description=Timeout der Gardena Smart Home Session in Minuten\n+thing-type.config.gardena.bridge.password.description=Passwort f\ufffdr den Gardena Smart System Login \n thing-type.config.gardena.bridge.connectionTimeout.label=Verbindungstimeout\n-thing-type.config.gardena.bridge.connectionTimeout.description=Timeout des Verbindungsaufbaus zu Gardena Smart Home in Sekunden\n-thing-type.config.gardena.bridge.refresh.label=Refreshintervall\n-thing-type.config.gardena.bridge.refresh.description=Der Intervall f\ufffdr die Datenabholung von Gardena Smart Home in Sekunden\n+thing-type.config.gardena.bridge.connectionTimeout.description=Timeout des Verbindungsaufbaus zum Gardena Smart System in Sekunden\n+thing-type.config.gardena.bridge.apiKey.description=Der Gardena Smart System Integrations API Schl\ufffdssel\n \n-thing-type.gardena.mower.label=Gardena Smart Sileno M\ufffdher\n-thing-type.gardena.mower.description=ein Gardena Smart Sileno M\ufffdher\n+thing-type.gardena.mower.label=Gardena Smart SILENO M\ufffdher\n+thing-type.gardena.mower.description=Ein Gardena Smart SILENO M\ufffdher\n \n-thing-type.gardena.watering_computer.label=Gardena Smart Bew\ufffdsserungscomputer\n-thing-type.gardena.watering_computer.description=ein Gardena Smart Bew\ufffdsserungscomputer\n+thing-type.gardena.water_control.label=Gardena Smart Bew\ufffdsserungscomputer\n+thing-type.gardena.water_control.description=Ein Gardena Smart Bew\ufffdsserungscomputer\n \n thing-type.gardena.sensor.label=Gardena Smart Sensor\n-thing-type.gardena.sensor.description=ein Gardena Smart Sensor\n+thing-type.gardena.sensor.description=Ein Gardena Smart Sensor\n \n-thing-type.gardena.electronic_pressure_pump.label=Gardena Smart Druckpumpe\n-thing-type.gardena.electronic_pressure_pump.description=Eine Gardena Smart Druckpumpe\n+thing-type.gardena.pump.label=Gardena Smart Druckpumpe\n+thing-type.gardena.pump.description=Eine Gardena Smart Druckpumpe\n \n thing-type.gardena.power.label=Gardena Smart Power Zwischenstecker\n-thing-type.gardena.power.description=Eine Gardena Smart Power Zwischenstecker\n-\n-thing-type.gardena.ic24.label=Gardena Smart Bew\ufffdsserungssteuerung\n-thing-type.gardena.ic24.description=Eine Gardena Smart Bew\ufffdsserungssteuerung\n-\n-# config\n-thing-type.config.gardena.electronic_pressure_pump.leakage_detection.label=Leckage-Erkennung\n-thing-type.config.gardena.electronic_pressure_pump.leakage_detection.state.option.watering=Bew\ufffdsserung\n-thing-type.config.gardena.electronic_pressure_pump.leakage_detection.state.option.washing_machine=Waschmaschine\n-thing-type.config.gardena.electronic_pressure_pump.leakage_detection.state.option.domestic_water_supply=H\ufffdusliche Wasserversorgung\n-thing-type.config.gardena.electronic_pressure_pump.leakage_detection.state.option.off=Aus\n-\n-thing-type.config.gardena.electronic_pressure_pump.operating_mode.label=Betriebsmodus\n-thing-type.config.gardena.electronic_pressure_pump.operating_mode.state.option.automatic=Automatisch\n-thing-type.config.gardena.electronic_pressure_pump.operating_mode.state.option.scheduled=Zeitgesteuert\n-\n-thing-type.config.gardena.electronic_pressure_pump.turn_on_pressure.label=Einschaltdruck\n+thing-type.gardena.power.description=Ein Gardena Smart Power Zwischenstecker\n+\n+thing-type.gardena.irrigation_control.label=Gardena Smart Bew\ufffdsserungssteuerung\n+thing-type.gardena.irrigation_control.description=Eine Gardena Smart Bew\ufffdsserungssteuerung\n+\n+thing-type.gardena.irrigation_control.group.valve_1.label=Ventil 1 Eigenschaften\n+thing-type.gardena.irrigation_control.group.valve_1_commands.label=Ventil 1 Befehle\n+thing-type.gardena.irrigation_control.group.valve_2.label=Ventil 2 Eigenschaften\n+thing-type.gardena.irrigation_control.group.valve_2_commands.label=Ventil 2 Befehle\n+thing-type.gardena.irrigation_control.group.valve_3.label=Ventil 3 Eigenschaften\n+thing-type.gardena.irrigation_control.group.valve_3_commands.label=Ventil 3 Befehle\n+thing-type.gardena.irrigation_control.group.valve_4.label=Ventil 4 Eigenschaften\n+thing-type.gardena.irrigation_control.group.valve_4_commands.label=Ventil 4 Befehle\n+thing-type.gardena.irrigation_control.group.valve_5.label=Ventil 5 Eigenschaften\n+thing-type.gardena.irrigation_control.group.valve_5_commands.label=Ventil 5 Befehle\n+thing-type.gardena.irrigation_control.group.valve_6.label=Ventil 6 Eigenschaften\n+thing-type.gardena.irrigation_control.group.valve_6_commands.label=Ventil 6 Befehle\n \n # channel group\n-channel-group-type.gardena.deviceInfo.label=Ger\ufffdteinfo\n-channel-group-type.gardena.deviceInfo.description=Informationen \ufffdber das Ger\ufffdt\n-\n-channel-group-type.gardena.rechargeableBattery.label=Wiederaufladbare Batterie Info\n-channel-group-type.gardena.rechargeableBattery.description=Informationen \ufffdber die wiederaufladbare Batterie\n-\n-channel-group-type.gardena.radio.label=Funkverbindung\n-channel-group-type.gardena.radio.description=Informationen \ufffdber die Funkverbindung\n-\n-channel-group-type.gardena.mower.label=M\ufffdhroboter\n-channel-group-type.gardena.mower.description=Informationen \ufffdber den M\ufffdhroboter\n-\n-channel-group-type.gardena.internalTemperature.label=Interne Temperatur\n-channel-group-type.gardena.internalTemperature.description=Die interne Temperatur des M\ufffdhroboters\n-\n-channel-group-type.gardena.battery.label=Batterieinfo\n-channel-group-type.gardena.battery.description=Informationen \ufffdber die Batterie\n-\n-channel-group-type.gardena.outlet.label=Wasserauslass\n-channel-group-type.gardena.outlet.description=Informationen \ufffdber den Wasserauslass\n-\n-channel-group-type.gardena.ambientTemperature.label=Umgebungstemperatur\n-channel-group-type.gardena.ambientTemperature.description=Informationen \ufffdber die Umgebungstemperatur\n-\n-channel-group-type.gardena.soilTemperature.label=Bodentemperatur\n-channel-group-type.gardena.soilTemperature.description=Die Temperatur des Bodens\n-\n-channel-group-type.gardena.humidity.label=Feuchtigkeit\n-channel-group-type.gardena.humidity.description=Die Feuchtigkeit\n-\n-channel-group-type.gardena.light.label=Helligkeit\n-channel-group-type.gardena.light.description=Die Helligkeit\n-\n-channel-group-type.gardena.firmware.label=Firmware\n-channel-group-type.gardena.firmware.description=Informationen \ufffdber die Firmware\n-\n-channel-group-type.gardena.outletTemperature.label=Auslauftemperatur\n-channel-group-type.gardena.outletTemperature.description=Die Auslauftemperatur\n-\n-channel-group-type.gardena.pump.label=Pumpe\n-channel-group-type.gardena.pump.description=Die Pumpe\n-\n-channel-group-type.gardena.outletPressure.label=Auslassdruck\n-channel-group-type.gardena.outletPressure.description=Der Auslassdruck\n-\n-channel-group-type.gardena.outletPressureMax.label=Maximum Auslassdruck\n-channel-group-type.gardena.outletPressureMax.description=Der maximale Auslassdruck\n-\n-channel-group-type.gardena.flow.label=F\ufffdrderung\n-channel-group-type.gardena.flow.description=Die F\ufffdrderung\n-\n-channel-group-type.gardena.manualWatering.label=Manuelle Bew\ufffdsserung\n-channel-group-type.gardena.manualWatering.description=Die manuelle Bew\ufffdsserung\n-\n-channel-group-type.gardena.scheduling.label=Zeitplan\n-channel-group-type.gardena.scheduling.description=Der Zeitplan\n-\n-channel-group-type.gardena.mowerStats.label=M\ufffdhroboter Statistiken\n-channel-group-type.gardena.mowerStats.description=Statistiken \ufffdber den M\ufffdhroboter\n-\n-channel-group-type.gardena.power.label=Energie\n-channel-group-type.gardena.power.description=Energie\n-\n-channel-group-type.gardena.watering.label=Bew\ufffdsserung\n-channel-group-type.gardena.watering.description=Die Bew\ufffdsserung\n-\n-channel-group-type.gardena.ic24.label=Bew\ufffdsserungssteuerung\n-channel-group-type.gardena.ic24.description=Die Bew\ufffdsserungssteuerung\n-\n-channel-group-type.gardena.ic24scheduling.label=Zeitplanung\n-channel-group-type.gardena.ic24scheduling.description=Die Zeitplanung\n+channel-group-type.gardena.valveSetProperties.label=Ventilsatz Eigenschaften\n+channel-group-type.gardena.valveSetProperties.description=Eigenschaften eines Ventilsatzes\n+\n+channel-group-type.gardena.valveSetProperties.channel.state_timestamp.label=Status Zeitstempel\n+channel-group-type.gardena.valveSetProperties.channel.lastErrorCode_timestamp.label=Letzte Fehlermeldung Zeitstempel\n+\n+channel-group-type.gardena.valveProperties.label=Ventil Eigenschaften\n+channel-group-type.gardena.valveProperties.description=Eigenschaften eines Ventils\n+channel-group-type.gardena.valveProperties.channel.state_timestamp.label=Status Zeitstempel\n+channel-group-type.gardena.valveProperties.channel.activity_timestamp.label=Aktivit\ufffdt Zeitstempel\n+channel-group-type.gardena.valveProperties.channel.lastErrorCode_timestamp.label=Letzte Fehlermeldung Zeitstempel\n+\n+channel-group-type.gardena.sensorProperties.label=Sensor Eigenschaften\n+channel-group-type.gardena.sensorProperties.description=Eigenschaften eines Sensors\n+channel-group-type.gardena.sensorProperties.channel.soilHumidity_timestamp.label=Bodenfeuchtigkeit Zeitstempel\n+channel-group-type.gardena.sensorProperties.channel.soilTemperature.label=Bodentemperatur\n+channel-group-type.gardena.sensorProperties.channel.soilTemperature_timestamp.label=Bodentemperatur Zeitstempel\n+channel-group-type.gardena.sensorProperties.channel.ambientTemperature.label=Umgebungstemperatur\n+channel-group-type.gardena.sensorProperties.channel.ambientTemperature_timestamp.label=Umgebungstemperatur Zeitstempel\n+channel-group-type.gardena.sensorProperties.channel.lightIntensity_timestamp.label=Lichtintensit\ufffdt Zeitstempel\n+\n+channel-group-type.gardena.powerSocketProperties.label=Zwischenstecker Eigenschaften\n+channel-group-type.gardena.powerSocketProperties.description=Eigenschaften eines Zwischensteckers\n+channel-group-type.gardena.powerSocketProperties.channel.state_timestamp.label=Status Zeitstempel\n+channel-group-type.gardena.powerSocketProperties.channel.activity_timestamp.label=Aktivit\ufffdt Zeitstempel\n+channel-group-type.gardena.powerSocketProperties.channel.lastErrorCode_timestamp.label=Letzte Fehlermeldung Zeitstempel\n+channel-group-type.gardena.powerSocketProperties.channel.duration_timestamp.label=Dauer Zeitstempel\n+\n+channel-group-type.gardena.mowerProperties.label=M\ufffdher Eigenschaften\n+channel-group-type.gardena.mowerProperties.description=Eigenschaften eines M\ufffdhers\n+channel-group-type.gardena.mowerProperties.channel.state_timestamp.label=Status Zeitstempel\n+channel-group-type.gardena.mowerProperties.channel.activity_timestamp.label=Aktivit\ufffdt Zeitstempel\n+channel-group-type.gardena.mowerProperties.channel.lastErrorCode_timestamp.label=Letzte Fehlermeldung Zeitstempel\n+\n+channel-group-type.gardena.commonProperties.label=Gemeinsame Eigenschaften\n+channel-group-type.gardena.commonProperties.description=Eigenschaften, die bei allen Ger\ufffdten gleich sind\n+channel-group-type.gardena.commonProperties.channel.batteryLevel_timestamp.label=Batterie Zeitstempel\n+channel-group-type.gardena.commonProperties.channel.batteryState_timestamp.label=Batteriestatus Zeitstempel\n+channel-group-type.gardena.commonProperties.channel.rfLinkLevel_timestamp.label=Signalst\ufffdrke Zeitstempel\n+channel-group-type.gardena.commonProperties.channel.rfLinkState_timestamp.label=Verbindungsstatus Zeitstempel\n+channel-group-type.gardena.commonProperties.channel.lastUpdate_timestamp.label=Letzte Aktualisierung Zeitstempel\n+\n+channel-group-type.gardena.mowerCommands.label=M\ufffdher Befehle\n+channel-group-type.gardena.mowerCommands.description=Befehle f\ufffdr einen M\ufffdher\n+channel-group-type.gardena.mowerCommands.channel.commandDuration.label=M\ufffdhdauer\n+channel-group-type.gardena.mowerCommands.channel.start_seconds_to_override.label=Starte m\ufffdhen mit Dauer\n+channel-group-type.gardena.mowerCommands.channel.start_dont_override.label=Zeitplan starten \n+channel-group-type.gardena.mowerCommands.channel.park_until_next_task.label=Parken\n+channel-group-type.gardena.mowerCommands.channel.park_until_further_notice.label=Zeiplan pausieren\n+\n+channel-group-type.gardena.valveCommands.label=Ventl Befehle", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f549d3d4efe014ad5a6354ff596dd5ac9ffaa604"}, "originalPosition": 199}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI4NDI0ODk2OnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.gardena/src/main/resources/OH-INF/i18n/gardena_de.properties", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNVQyMTowNDo1NFrOHzjCmw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNVQyMTowNDo1NFrOHzjCmw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzgxMzUzMQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            channel-group-type.gardena.valveSetCommands.label=Ventlsatz Befehle\n          \n          \n            \n            channel-group-type.gardena.valveSetCommands.label=Ventilsatz Befehle", "url": "https://github.com/openhab/openhab-addons/pull/8869#discussion_r523813531", "createdAt": "2020-11-15T21:04:54Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.gardena/src/main/resources/OH-INF/i18n/gardena_de.properties", "diffHunk": "@@ -1,462 +1,273 @@\n # binding\n-binding.gardena.description=Das ist das Binding f\ufffdr Gardena Smart Home Produkte.\n+binding.gardena.description=Das ist das Binding f\ufffdr Gardena Smart System.\n \n # thing types\n-thing-type.gardena.bridge.description=ein Gardena Smart Home Online Account\n+thing-type.gardena.bridge.description=Ein Gardena Smart System Online Account\n \n-thing-type.config.gardena.bridge.email.description=Email Addresse f\ufffdr den Gardena Smart Home Login \n+thing-type.config.gardena.bridge.email.description=Email Addresse f\ufffdr den Gardena Smart System Login \n thing-type.config.gardena.bridge.password.label=Passwort \n-thing-type.config.gardena.bridge.password.description=Passwort f\ufffdr den Gardena Smart Home Login \n-thing-type.config.gardena.bridge.sessionTimeout.description=Timeout der Gardena Smart Home Session in Minuten\n+thing-type.config.gardena.bridge.password.description=Passwort f\ufffdr den Gardena Smart System Login \n thing-type.config.gardena.bridge.connectionTimeout.label=Verbindungstimeout\n-thing-type.config.gardena.bridge.connectionTimeout.description=Timeout des Verbindungsaufbaus zu Gardena Smart Home in Sekunden\n-thing-type.config.gardena.bridge.refresh.label=Refreshintervall\n-thing-type.config.gardena.bridge.refresh.description=Der Intervall f\ufffdr die Datenabholung von Gardena Smart Home in Sekunden\n+thing-type.config.gardena.bridge.connectionTimeout.description=Timeout des Verbindungsaufbaus zum Gardena Smart System in Sekunden\n+thing-type.config.gardena.bridge.apiKey.description=Der Gardena Smart System Integrations API Schl\ufffdssel\n \n-thing-type.gardena.mower.label=Gardena Smart Sileno M\ufffdher\n-thing-type.gardena.mower.description=ein Gardena Smart Sileno M\ufffdher\n+thing-type.gardena.mower.label=Gardena Smart SILENO M\ufffdher\n+thing-type.gardena.mower.description=Ein Gardena Smart SILENO M\ufffdher\n \n-thing-type.gardena.watering_computer.label=Gardena Smart Bew\ufffdsserungscomputer\n-thing-type.gardena.watering_computer.description=ein Gardena Smart Bew\ufffdsserungscomputer\n+thing-type.gardena.water_control.label=Gardena Smart Bew\ufffdsserungscomputer\n+thing-type.gardena.water_control.description=Ein Gardena Smart Bew\ufffdsserungscomputer\n \n thing-type.gardena.sensor.label=Gardena Smart Sensor\n-thing-type.gardena.sensor.description=ein Gardena Smart Sensor\n+thing-type.gardena.sensor.description=Ein Gardena Smart Sensor\n \n-thing-type.gardena.electronic_pressure_pump.label=Gardena Smart Druckpumpe\n-thing-type.gardena.electronic_pressure_pump.description=Eine Gardena Smart Druckpumpe\n+thing-type.gardena.pump.label=Gardena Smart Druckpumpe\n+thing-type.gardena.pump.description=Eine Gardena Smart Druckpumpe\n \n thing-type.gardena.power.label=Gardena Smart Power Zwischenstecker\n-thing-type.gardena.power.description=Eine Gardena Smart Power Zwischenstecker\n-\n-thing-type.gardena.ic24.label=Gardena Smart Bew\ufffdsserungssteuerung\n-thing-type.gardena.ic24.description=Eine Gardena Smart Bew\ufffdsserungssteuerung\n-\n-# config\n-thing-type.config.gardena.electronic_pressure_pump.leakage_detection.label=Leckage-Erkennung\n-thing-type.config.gardena.electronic_pressure_pump.leakage_detection.state.option.watering=Bew\ufffdsserung\n-thing-type.config.gardena.electronic_pressure_pump.leakage_detection.state.option.washing_machine=Waschmaschine\n-thing-type.config.gardena.electronic_pressure_pump.leakage_detection.state.option.domestic_water_supply=H\ufffdusliche Wasserversorgung\n-thing-type.config.gardena.electronic_pressure_pump.leakage_detection.state.option.off=Aus\n-\n-thing-type.config.gardena.electronic_pressure_pump.operating_mode.label=Betriebsmodus\n-thing-type.config.gardena.electronic_pressure_pump.operating_mode.state.option.automatic=Automatisch\n-thing-type.config.gardena.electronic_pressure_pump.operating_mode.state.option.scheduled=Zeitgesteuert\n-\n-thing-type.config.gardena.electronic_pressure_pump.turn_on_pressure.label=Einschaltdruck\n+thing-type.gardena.power.description=Ein Gardena Smart Power Zwischenstecker\n+\n+thing-type.gardena.irrigation_control.label=Gardena Smart Bew\ufffdsserungssteuerung\n+thing-type.gardena.irrigation_control.description=Eine Gardena Smart Bew\ufffdsserungssteuerung\n+\n+thing-type.gardena.irrigation_control.group.valve_1.label=Ventil 1 Eigenschaften\n+thing-type.gardena.irrigation_control.group.valve_1_commands.label=Ventil 1 Befehle\n+thing-type.gardena.irrigation_control.group.valve_2.label=Ventil 2 Eigenschaften\n+thing-type.gardena.irrigation_control.group.valve_2_commands.label=Ventil 2 Befehle\n+thing-type.gardena.irrigation_control.group.valve_3.label=Ventil 3 Eigenschaften\n+thing-type.gardena.irrigation_control.group.valve_3_commands.label=Ventil 3 Befehle\n+thing-type.gardena.irrigation_control.group.valve_4.label=Ventil 4 Eigenschaften\n+thing-type.gardena.irrigation_control.group.valve_4_commands.label=Ventil 4 Befehle\n+thing-type.gardena.irrigation_control.group.valve_5.label=Ventil 5 Eigenschaften\n+thing-type.gardena.irrigation_control.group.valve_5_commands.label=Ventil 5 Befehle\n+thing-type.gardena.irrigation_control.group.valve_6.label=Ventil 6 Eigenschaften\n+thing-type.gardena.irrigation_control.group.valve_6_commands.label=Ventil 6 Befehle\n \n # channel group\n-channel-group-type.gardena.deviceInfo.label=Ger\ufffdteinfo\n-channel-group-type.gardena.deviceInfo.description=Informationen \ufffdber das Ger\ufffdt\n-\n-channel-group-type.gardena.rechargeableBattery.label=Wiederaufladbare Batterie Info\n-channel-group-type.gardena.rechargeableBattery.description=Informationen \ufffdber die wiederaufladbare Batterie\n-\n-channel-group-type.gardena.radio.label=Funkverbindung\n-channel-group-type.gardena.radio.description=Informationen \ufffdber die Funkverbindung\n-\n-channel-group-type.gardena.mower.label=M\ufffdhroboter\n-channel-group-type.gardena.mower.description=Informationen \ufffdber den M\ufffdhroboter\n-\n-channel-group-type.gardena.internalTemperature.label=Interne Temperatur\n-channel-group-type.gardena.internalTemperature.description=Die interne Temperatur des M\ufffdhroboters\n-\n-channel-group-type.gardena.battery.label=Batterieinfo\n-channel-group-type.gardena.battery.description=Informationen \ufffdber die Batterie\n-\n-channel-group-type.gardena.outlet.label=Wasserauslass\n-channel-group-type.gardena.outlet.description=Informationen \ufffdber den Wasserauslass\n-\n-channel-group-type.gardena.ambientTemperature.label=Umgebungstemperatur\n-channel-group-type.gardena.ambientTemperature.description=Informationen \ufffdber die Umgebungstemperatur\n-\n-channel-group-type.gardena.soilTemperature.label=Bodentemperatur\n-channel-group-type.gardena.soilTemperature.description=Die Temperatur des Bodens\n-\n-channel-group-type.gardena.humidity.label=Feuchtigkeit\n-channel-group-type.gardena.humidity.description=Die Feuchtigkeit\n-\n-channel-group-type.gardena.light.label=Helligkeit\n-channel-group-type.gardena.light.description=Die Helligkeit\n-\n-channel-group-type.gardena.firmware.label=Firmware\n-channel-group-type.gardena.firmware.description=Informationen \ufffdber die Firmware\n-\n-channel-group-type.gardena.outletTemperature.label=Auslauftemperatur\n-channel-group-type.gardena.outletTemperature.description=Die Auslauftemperatur\n-\n-channel-group-type.gardena.pump.label=Pumpe\n-channel-group-type.gardena.pump.description=Die Pumpe\n-\n-channel-group-type.gardena.outletPressure.label=Auslassdruck\n-channel-group-type.gardena.outletPressure.description=Der Auslassdruck\n-\n-channel-group-type.gardena.outletPressureMax.label=Maximum Auslassdruck\n-channel-group-type.gardena.outletPressureMax.description=Der maximale Auslassdruck\n-\n-channel-group-type.gardena.flow.label=F\ufffdrderung\n-channel-group-type.gardena.flow.description=Die F\ufffdrderung\n-\n-channel-group-type.gardena.manualWatering.label=Manuelle Bew\ufffdsserung\n-channel-group-type.gardena.manualWatering.description=Die manuelle Bew\ufffdsserung\n-\n-channel-group-type.gardena.scheduling.label=Zeitplan\n-channel-group-type.gardena.scheduling.description=Der Zeitplan\n-\n-channel-group-type.gardena.mowerStats.label=M\ufffdhroboter Statistiken\n-channel-group-type.gardena.mowerStats.description=Statistiken \ufffdber den M\ufffdhroboter\n-\n-channel-group-type.gardena.power.label=Energie\n-channel-group-type.gardena.power.description=Energie\n-\n-channel-group-type.gardena.watering.label=Bew\ufffdsserung\n-channel-group-type.gardena.watering.description=Die Bew\ufffdsserung\n-\n-channel-group-type.gardena.ic24.label=Bew\ufffdsserungssteuerung\n-channel-group-type.gardena.ic24.description=Die Bew\ufffdsserungssteuerung\n-\n-channel-group-type.gardena.ic24scheduling.label=Zeitplanung\n-channel-group-type.gardena.ic24scheduling.description=Die Zeitplanung\n+channel-group-type.gardena.valveSetProperties.label=Ventilsatz Eigenschaften\n+channel-group-type.gardena.valveSetProperties.description=Eigenschaften eines Ventilsatzes\n+\n+channel-group-type.gardena.valveSetProperties.channel.state_timestamp.label=Status Zeitstempel\n+channel-group-type.gardena.valveSetProperties.channel.lastErrorCode_timestamp.label=Letzte Fehlermeldung Zeitstempel\n+\n+channel-group-type.gardena.valveProperties.label=Ventil Eigenschaften\n+channel-group-type.gardena.valveProperties.description=Eigenschaften eines Ventils\n+channel-group-type.gardena.valveProperties.channel.state_timestamp.label=Status Zeitstempel\n+channel-group-type.gardena.valveProperties.channel.activity_timestamp.label=Aktivit\ufffdt Zeitstempel\n+channel-group-type.gardena.valveProperties.channel.lastErrorCode_timestamp.label=Letzte Fehlermeldung Zeitstempel\n+\n+channel-group-type.gardena.sensorProperties.label=Sensor Eigenschaften\n+channel-group-type.gardena.sensorProperties.description=Eigenschaften eines Sensors\n+channel-group-type.gardena.sensorProperties.channel.soilHumidity_timestamp.label=Bodenfeuchtigkeit Zeitstempel\n+channel-group-type.gardena.sensorProperties.channel.soilTemperature.label=Bodentemperatur\n+channel-group-type.gardena.sensorProperties.channel.soilTemperature_timestamp.label=Bodentemperatur Zeitstempel\n+channel-group-type.gardena.sensorProperties.channel.ambientTemperature.label=Umgebungstemperatur\n+channel-group-type.gardena.sensorProperties.channel.ambientTemperature_timestamp.label=Umgebungstemperatur Zeitstempel\n+channel-group-type.gardena.sensorProperties.channel.lightIntensity_timestamp.label=Lichtintensit\ufffdt Zeitstempel\n+\n+channel-group-type.gardena.powerSocketProperties.label=Zwischenstecker Eigenschaften\n+channel-group-type.gardena.powerSocketProperties.description=Eigenschaften eines Zwischensteckers\n+channel-group-type.gardena.powerSocketProperties.channel.state_timestamp.label=Status Zeitstempel\n+channel-group-type.gardena.powerSocketProperties.channel.activity_timestamp.label=Aktivit\ufffdt Zeitstempel\n+channel-group-type.gardena.powerSocketProperties.channel.lastErrorCode_timestamp.label=Letzte Fehlermeldung Zeitstempel\n+channel-group-type.gardena.powerSocketProperties.channel.duration_timestamp.label=Dauer Zeitstempel\n+\n+channel-group-type.gardena.mowerProperties.label=M\ufffdher Eigenschaften\n+channel-group-type.gardena.mowerProperties.description=Eigenschaften eines M\ufffdhers\n+channel-group-type.gardena.mowerProperties.channel.state_timestamp.label=Status Zeitstempel\n+channel-group-type.gardena.mowerProperties.channel.activity_timestamp.label=Aktivit\ufffdt Zeitstempel\n+channel-group-type.gardena.mowerProperties.channel.lastErrorCode_timestamp.label=Letzte Fehlermeldung Zeitstempel\n+\n+channel-group-type.gardena.commonProperties.label=Gemeinsame Eigenschaften\n+channel-group-type.gardena.commonProperties.description=Eigenschaften, die bei allen Ger\ufffdten gleich sind\n+channel-group-type.gardena.commonProperties.channel.batteryLevel_timestamp.label=Batterie Zeitstempel\n+channel-group-type.gardena.commonProperties.channel.batteryState_timestamp.label=Batteriestatus Zeitstempel\n+channel-group-type.gardena.commonProperties.channel.rfLinkLevel_timestamp.label=Signalst\ufffdrke Zeitstempel\n+channel-group-type.gardena.commonProperties.channel.rfLinkState_timestamp.label=Verbindungsstatus Zeitstempel\n+channel-group-type.gardena.commonProperties.channel.lastUpdate_timestamp.label=Letzte Aktualisierung Zeitstempel\n+\n+channel-group-type.gardena.mowerCommands.label=M\ufffdher Befehle\n+channel-group-type.gardena.mowerCommands.description=Befehle f\ufffdr einen M\ufffdher\n+channel-group-type.gardena.mowerCommands.channel.commandDuration.label=M\ufffdhdauer\n+channel-group-type.gardena.mowerCommands.channel.start_seconds_to_override.label=Starte m\ufffdhen mit Dauer\n+channel-group-type.gardena.mowerCommands.channel.start_dont_override.label=Zeitplan starten \n+channel-group-type.gardena.mowerCommands.channel.park_until_next_task.label=Parken\n+channel-group-type.gardena.mowerCommands.channel.park_until_further_notice.label=Zeiplan pausieren\n+\n+channel-group-type.gardena.valveCommands.label=Ventl Befehle\n+channel-group-type.gardena.valveCommands.description=Befehle f\ufffdr ein Ventil\n+channel-group-type.gardena.valveCommands.channel.commandDuration.label=Bew\ufffdsserungsdauer\n+channel-group-type.gardena.valveCommands.channel.start_seconds_to_override.label=Starte Bew\ufffdsserung mit Dauer\n+channel-group-type.gardena.valveCommands.channel.stop_until_next_task.label=Ventil schlie\ufffden, mit dem Zeitplan fortfahren\n+channel-group-type.gardena.valveCommands.channel.pause.label=Pause bis zur angegebenen Zeit\n+channel-group-type.gardena.valveCommands.channel.unpause.label=Zeitplan starten\n+\n+channel-group-type.gardena.valveSetCommands.label=Ventlsatz Befehle", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f549d3d4efe014ad5a6354ff596dd5ac9ffaa604"}, "originalPosition": 207}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI4NDI0OTM1OnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.gardena/src/main/resources/OH-INF/i18n/gardena_de.properties", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNVQyMTowNTowNVrOHzjCxA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNVQyMTowNTowNVrOHzjCxA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzgxMzU3Mg==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            channel-group-type.gardena.valveSetCommands.channel.stop_until_next_task.label=Alle Ventil schlie\ufffden\n          \n          \n            \n            channel-group-type.gardena.valveSetCommands.channel.stop_until_next_task.label=Alle Ventile schlie\ufffden", "url": "https://github.com/openhab/openhab-addons/pull/8869#discussion_r523813572", "createdAt": "2020-11-15T21:05:05Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.gardena/src/main/resources/OH-INF/i18n/gardena_de.properties", "diffHunk": "@@ -1,462 +1,273 @@\n # binding\n-binding.gardena.description=Das ist das Binding f\ufffdr Gardena Smart Home Produkte.\n+binding.gardena.description=Das ist das Binding f\ufffdr Gardena Smart System.\n \n # thing types\n-thing-type.gardena.bridge.description=ein Gardena Smart Home Online Account\n+thing-type.gardena.bridge.description=Ein Gardena Smart System Online Account\n \n-thing-type.config.gardena.bridge.email.description=Email Addresse f\ufffdr den Gardena Smart Home Login \n+thing-type.config.gardena.bridge.email.description=Email Addresse f\ufffdr den Gardena Smart System Login \n thing-type.config.gardena.bridge.password.label=Passwort \n-thing-type.config.gardena.bridge.password.description=Passwort f\ufffdr den Gardena Smart Home Login \n-thing-type.config.gardena.bridge.sessionTimeout.description=Timeout der Gardena Smart Home Session in Minuten\n+thing-type.config.gardena.bridge.password.description=Passwort f\ufffdr den Gardena Smart System Login \n thing-type.config.gardena.bridge.connectionTimeout.label=Verbindungstimeout\n-thing-type.config.gardena.bridge.connectionTimeout.description=Timeout des Verbindungsaufbaus zu Gardena Smart Home in Sekunden\n-thing-type.config.gardena.bridge.refresh.label=Refreshintervall\n-thing-type.config.gardena.bridge.refresh.description=Der Intervall f\ufffdr die Datenabholung von Gardena Smart Home in Sekunden\n+thing-type.config.gardena.bridge.connectionTimeout.description=Timeout des Verbindungsaufbaus zum Gardena Smart System in Sekunden\n+thing-type.config.gardena.bridge.apiKey.description=Der Gardena Smart System Integrations API Schl\ufffdssel\n \n-thing-type.gardena.mower.label=Gardena Smart Sileno M\ufffdher\n-thing-type.gardena.mower.description=ein Gardena Smart Sileno M\ufffdher\n+thing-type.gardena.mower.label=Gardena Smart SILENO M\ufffdher\n+thing-type.gardena.mower.description=Ein Gardena Smart SILENO M\ufffdher\n \n-thing-type.gardena.watering_computer.label=Gardena Smart Bew\ufffdsserungscomputer\n-thing-type.gardena.watering_computer.description=ein Gardena Smart Bew\ufffdsserungscomputer\n+thing-type.gardena.water_control.label=Gardena Smart Bew\ufffdsserungscomputer\n+thing-type.gardena.water_control.description=Ein Gardena Smart Bew\ufffdsserungscomputer\n \n thing-type.gardena.sensor.label=Gardena Smart Sensor\n-thing-type.gardena.sensor.description=ein Gardena Smart Sensor\n+thing-type.gardena.sensor.description=Ein Gardena Smart Sensor\n \n-thing-type.gardena.electronic_pressure_pump.label=Gardena Smart Druckpumpe\n-thing-type.gardena.electronic_pressure_pump.description=Eine Gardena Smart Druckpumpe\n+thing-type.gardena.pump.label=Gardena Smart Druckpumpe\n+thing-type.gardena.pump.description=Eine Gardena Smart Druckpumpe\n \n thing-type.gardena.power.label=Gardena Smart Power Zwischenstecker\n-thing-type.gardena.power.description=Eine Gardena Smart Power Zwischenstecker\n-\n-thing-type.gardena.ic24.label=Gardena Smart Bew\ufffdsserungssteuerung\n-thing-type.gardena.ic24.description=Eine Gardena Smart Bew\ufffdsserungssteuerung\n-\n-# config\n-thing-type.config.gardena.electronic_pressure_pump.leakage_detection.label=Leckage-Erkennung\n-thing-type.config.gardena.electronic_pressure_pump.leakage_detection.state.option.watering=Bew\ufffdsserung\n-thing-type.config.gardena.electronic_pressure_pump.leakage_detection.state.option.washing_machine=Waschmaschine\n-thing-type.config.gardena.electronic_pressure_pump.leakage_detection.state.option.domestic_water_supply=H\ufffdusliche Wasserversorgung\n-thing-type.config.gardena.electronic_pressure_pump.leakage_detection.state.option.off=Aus\n-\n-thing-type.config.gardena.electronic_pressure_pump.operating_mode.label=Betriebsmodus\n-thing-type.config.gardena.electronic_pressure_pump.operating_mode.state.option.automatic=Automatisch\n-thing-type.config.gardena.electronic_pressure_pump.operating_mode.state.option.scheduled=Zeitgesteuert\n-\n-thing-type.config.gardena.electronic_pressure_pump.turn_on_pressure.label=Einschaltdruck\n+thing-type.gardena.power.description=Ein Gardena Smart Power Zwischenstecker\n+\n+thing-type.gardena.irrigation_control.label=Gardena Smart Bew\ufffdsserungssteuerung\n+thing-type.gardena.irrigation_control.description=Eine Gardena Smart Bew\ufffdsserungssteuerung\n+\n+thing-type.gardena.irrigation_control.group.valve_1.label=Ventil 1 Eigenschaften\n+thing-type.gardena.irrigation_control.group.valve_1_commands.label=Ventil 1 Befehle\n+thing-type.gardena.irrigation_control.group.valve_2.label=Ventil 2 Eigenschaften\n+thing-type.gardena.irrigation_control.group.valve_2_commands.label=Ventil 2 Befehle\n+thing-type.gardena.irrigation_control.group.valve_3.label=Ventil 3 Eigenschaften\n+thing-type.gardena.irrigation_control.group.valve_3_commands.label=Ventil 3 Befehle\n+thing-type.gardena.irrigation_control.group.valve_4.label=Ventil 4 Eigenschaften\n+thing-type.gardena.irrigation_control.group.valve_4_commands.label=Ventil 4 Befehle\n+thing-type.gardena.irrigation_control.group.valve_5.label=Ventil 5 Eigenschaften\n+thing-type.gardena.irrigation_control.group.valve_5_commands.label=Ventil 5 Befehle\n+thing-type.gardena.irrigation_control.group.valve_6.label=Ventil 6 Eigenschaften\n+thing-type.gardena.irrigation_control.group.valve_6_commands.label=Ventil 6 Befehle\n \n # channel group\n-channel-group-type.gardena.deviceInfo.label=Ger\ufffdteinfo\n-channel-group-type.gardena.deviceInfo.description=Informationen \ufffdber das Ger\ufffdt\n-\n-channel-group-type.gardena.rechargeableBattery.label=Wiederaufladbare Batterie Info\n-channel-group-type.gardena.rechargeableBattery.description=Informationen \ufffdber die wiederaufladbare Batterie\n-\n-channel-group-type.gardena.radio.label=Funkverbindung\n-channel-group-type.gardena.radio.description=Informationen \ufffdber die Funkverbindung\n-\n-channel-group-type.gardena.mower.label=M\ufffdhroboter\n-channel-group-type.gardena.mower.description=Informationen \ufffdber den M\ufffdhroboter\n-\n-channel-group-type.gardena.internalTemperature.label=Interne Temperatur\n-channel-group-type.gardena.internalTemperature.description=Die interne Temperatur des M\ufffdhroboters\n-\n-channel-group-type.gardena.battery.label=Batterieinfo\n-channel-group-type.gardena.battery.description=Informationen \ufffdber die Batterie\n-\n-channel-group-type.gardena.outlet.label=Wasserauslass\n-channel-group-type.gardena.outlet.description=Informationen \ufffdber den Wasserauslass\n-\n-channel-group-type.gardena.ambientTemperature.label=Umgebungstemperatur\n-channel-group-type.gardena.ambientTemperature.description=Informationen \ufffdber die Umgebungstemperatur\n-\n-channel-group-type.gardena.soilTemperature.label=Bodentemperatur\n-channel-group-type.gardena.soilTemperature.description=Die Temperatur des Bodens\n-\n-channel-group-type.gardena.humidity.label=Feuchtigkeit\n-channel-group-type.gardena.humidity.description=Die Feuchtigkeit\n-\n-channel-group-type.gardena.light.label=Helligkeit\n-channel-group-type.gardena.light.description=Die Helligkeit\n-\n-channel-group-type.gardena.firmware.label=Firmware\n-channel-group-type.gardena.firmware.description=Informationen \ufffdber die Firmware\n-\n-channel-group-type.gardena.outletTemperature.label=Auslauftemperatur\n-channel-group-type.gardena.outletTemperature.description=Die Auslauftemperatur\n-\n-channel-group-type.gardena.pump.label=Pumpe\n-channel-group-type.gardena.pump.description=Die Pumpe\n-\n-channel-group-type.gardena.outletPressure.label=Auslassdruck\n-channel-group-type.gardena.outletPressure.description=Der Auslassdruck\n-\n-channel-group-type.gardena.outletPressureMax.label=Maximum Auslassdruck\n-channel-group-type.gardena.outletPressureMax.description=Der maximale Auslassdruck\n-\n-channel-group-type.gardena.flow.label=F\ufffdrderung\n-channel-group-type.gardena.flow.description=Die F\ufffdrderung\n-\n-channel-group-type.gardena.manualWatering.label=Manuelle Bew\ufffdsserung\n-channel-group-type.gardena.manualWatering.description=Die manuelle Bew\ufffdsserung\n-\n-channel-group-type.gardena.scheduling.label=Zeitplan\n-channel-group-type.gardena.scheduling.description=Der Zeitplan\n-\n-channel-group-type.gardena.mowerStats.label=M\ufffdhroboter Statistiken\n-channel-group-type.gardena.mowerStats.description=Statistiken \ufffdber den M\ufffdhroboter\n-\n-channel-group-type.gardena.power.label=Energie\n-channel-group-type.gardena.power.description=Energie\n-\n-channel-group-type.gardena.watering.label=Bew\ufffdsserung\n-channel-group-type.gardena.watering.description=Die Bew\ufffdsserung\n-\n-channel-group-type.gardena.ic24.label=Bew\ufffdsserungssteuerung\n-channel-group-type.gardena.ic24.description=Die Bew\ufffdsserungssteuerung\n-\n-channel-group-type.gardena.ic24scheduling.label=Zeitplanung\n-channel-group-type.gardena.ic24scheduling.description=Die Zeitplanung\n+channel-group-type.gardena.valveSetProperties.label=Ventilsatz Eigenschaften\n+channel-group-type.gardena.valveSetProperties.description=Eigenschaften eines Ventilsatzes\n+\n+channel-group-type.gardena.valveSetProperties.channel.state_timestamp.label=Status Zeitstempel\n+channel-group-type.gardena.valveSetProperties.channel.lastErrorCode_timestamp.label=Letzte Fehlermeldung Zeitstempel\n+\n+channel-group-type.gardena.valveProperties.label=Ventil Eigenschaften\n+channel-group-type.gardena.valveProperties.description=Eigenschaften eines Ventils\n+channel-group-type.gardena.valveProperties.channel.state_timestamp.label=Status Zeitstempel\n+channel-group-type.gardena.valveProperties.channel.activity_timestamp.label=Aktivit\ufffdt Zeitstempel\n+channel-group-type.gardena.valveProperties.channel.lastErrorCode_timestamp.label=Letzte Fehlermeldung Zeitstempel\n+\n+channel-group-type.gardena.sensorProperties.label=Sensor Eigenschaften\n+channel-group-type.gardena.sensorProperties.description=Eigenschaften eines Sensors\n+channel-group-type.gardena.sensorProperties.channel.soilHumidity_timestamp.label=Bodenfeuchtigkeit Zeitstempel\n+channel-group-type.gardena.sensorProperties.channel.soilTemperature.label=Bodentemperatur\n+channel-group-type.gardena.sensorProperties.channel.soilTemperature_timestamp.label=Bodentemperatur Zeitstempel\n+channel-group-type.gardena.sensorProperties.channel.ambientTemperature.label=Umgebungstemperatur\n+channel-group-type.gardena.sensorProperties.channel.ambientTemperature_timestamp.label=Umgebungstemperatur Zeitstempel\n+channel-group-type.gardena.sensorProperties.channel.lightIntensity_timestamp.label=Lichtintensit\ufffdt Zeitstempel\n+\n+channel-group-type.gardena.powerSocketProperties.label=Zwischenstecker Eigenschaften\n+channel-group-type.gardena.powerSocketProperties.description=Eigenschaften eines Zwischensteckers\n+channel-group-type.gardena.powerSocketProperties.channel.state_timestamp.label=Status Zeitstempel\n+channel-group-type.gardena.powerSocketProperties.channel.activity_timestamp.label=Aktivit\ufffdt Zeitstempel\n+channel-group-type.gardena.powerSocketProperties.channel.lastErrorCode_timestamp.label=Letzte Fehlermeldung Zeitstempel\n+channel-group-type.gardena.powerSocketProperties.channel.duration_timestamp.label=Dauer Zeitstempel\n+\n+channel-group-type.gardena.mowerProperties.label=M\ufffdher Eigenschaften\n+channel-group-type.gardena.mowerProperties.description=Eigenschaften eines M\ufffdhers\n+channel-group-type.gardena.mowerProperties.channel.state_timestamp.label=Status Zeitstempel\n+channel-group-type.gardena.mowerProperties.channel.activity_timestamp.label=Aktivit\ufffdt Zeitstempel\n+channel-group-type.gardena.mowerProperties.channel.lastErrorCode_timestamp.label=Letzte Fehlermeldung Zeitstempel\n+\n+channel-group-type.gardena.commonProperties.label=Gemeinsame Eigenschaften\n+channel-group-type.gardena.commonProperties.description=Eigenschaften, die bei allen Ger\ufffdten gleich sind\n+channel-group-type.gardena.commonProperties.channel.batteryLevel_timestamp.label=Batterie Zeitstempel\n+channel-group-type.gardena.commonProperties.channel.batteryState_timestamp.label=Batteriestatus Zeitstempel\n+channel-group-type.gardena.commonProperties.channel.rfLinkLevel_timestamp.label=Signalst\ufffdrke Zeitstempel\n+channel-group-type.gardena.commonProperties.channel.rfLinkState_timestamp.label=Verbindungsstatus Zeitstempel\n+channel-group-type.gardena.commonProperties.channel.lastUpdate_timestamp.label=Letzte Aktualisierung Zeitstempel\n+\n+channel-group-type.gardena.mowerCommands.label=M\ufffdher Befehle\n+channel-group-type.gardena.mowerCommands.description=Befehle f\ufffdr einen M\ufffdher\n+channel-group-type.gardena.mowerCommands.channel.commandDuration.label=M\ufffdhdauer\n+channel-group-type.gardena.mowerCommands.channel.start_seconds_to_override.label=Starte m\ufffdhen mit Dauer\n+channel-group-type.gardena.mowerCommands.channel.start_dont_override.label=Zeitplan starten \n+channel-group-type.gardena.mowerCommands.channel.park_until_next_task.label=Parken\n+channel-group-type.gardena.mowerCommands.channel.park_until_further_notice.label=Zeiplan pausieren\n+\n+channel-group-type.gardena.valveCommands.label=Ventl Befehle\n+channel-group-type.gardena.valveCommands.description=Befehle f\ufffdr ein Ventil\n+channel-group-type.gardena.valveCommands.channel.commandDuration.label=Bew\ufffdsserungsdauer\n+channel-group-type.gardena.valveCommands.channel.start_seconds_to_override.label=Starte Bew\ufffdsserung mit Dauer\n+channel-group-type.gardena.valveCommands.channel.stop_until_next_task.label=Ventil schlie\ufffden, mit dem Zeitplan fortfahren\n+channel-group-type.gardena.valveCommands.channel.pause.label=Pause bis zur angegebenen Zeit\n+channel-group-type.gardena.valveCommands.channel.unpause.label=Zeitplan starten\n+\n+channel-group-type.gardena.valveSetCommands.label=Ventlsatz Befehle\n+channel-group-type.gardena.valveSetCommands.description=Befehle f\ufffdr einen Ventilsatz\n+channel-group-type.gardena.valveSetCommands.channel.stop_until_next_task.label=Alle Ventil schlie\ufffden", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f549d3d4efe014ad5a6354ff596dd5ac9ffaa604"}, "originalPosition": 209}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI4NDI0OTY4OnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.gardena/src/main/resources/OH-INF/i18n/gardena_de.properties", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNVQyMTowNToxOVrOHzjC6Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNVQyMTowNToxOVrOHzjC6Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzgxMzYwOQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            channel-group-type.gardena.powerSocketCommands.channel.start_override.label=Manuelles einschalten\n          \n          \n            \n            channel-group-type.gardena.powerSocketCommands.channel.start_override.label=Manuelles Einschalten", "url": "https://github.com/openhab/openhab-addons/pull/8869#discussion_r523813609", "createdAt": "2020-11-15T21:05:19Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.gardena/src/main/resources/OH-INF/i18n/gardena_de.properties", "diffHunk": "@@ -1,462 +1,273 @@\n # binding\n-binding.gardena.description=Das ist das Binding f\ufffdr Gardena Smart Home Produkte.\n+binding.gardena.description=Das ist das Binding f\ufffdr Gardena Smart System.\n \n # thing types\n-thing-type.gardena.bridge.description=ein Gardena Smart Home Online Account\n+thing-type.gardena.bridge.description=Ein Gardena Smart System Online Account\n \n-thing-type.config.gardena.bridge.email.description=Email Addresse f\ufffdr den Gardena Smart Home Login \n+thing-type.config.gardena.bridge.email.description=Email Addresse f\ufffdr den Gardena Smart System Login \n thing-type.config.gardena.bridge.password.label=Passwort \n-thing-type.config.gardena.bridge.password.description=Passwort f\ufffdr den Gardena Smart Home Login \n-thing-type.config.gardena.bridge.sessionTimeout.description=Timeout der Gardena Smart Home Session in Minuten\n+thing-type.config.gardena.bridge.password.description=Passwort f\ufffdr den Gardena Smart System Login \n thing-type.config.gardena.bridge.connectionTimeout.label=Verbindungstimeout\n-thing-type.config.gardena.bridge.connectionTimeout.description=Timeout des Verbindungsaufbaus zu Gardena Smart Home in Sekunden\n-thing-type.config.gardena.bridge.refresh.label=Refreshintervall\n-thing-type.config.gardena.bridge.refresh.description=Der Intervall f\ufffdr die Datenabholung von Gardena Smart Home in Sekunden\n+thing-type.config.gardena.bridge.connectionTimeout.description=Timeout des Verbindungsaufbaus zum Gardena Smart System in Sekunden\n+thing-type.config.gardena.bridge.apiKey.description=Der Gardena Smart System Integrations API Schl\ufffdssel\n \n-thing-type.gardena.mower.label=Gardena Smart Sileno M\ufffdher\n-thing-type.gardena.mower.description=ein Gardena Smart Sileno M\ufffdher\n+thing-type.gardena.mower.label=Gardena Smart SILENO M\ufffdher\n+thing-type.gardena.mower.description=Ein Gardena Smart SILENO M\ufffdher\n \n-thing-type.gardena.watering_computer.label=Gardena Smart Bew\ufffdsserungscomputer\n-thing-type.gardena.watering_computer.description=ein Gardena Smart Bew\ufffdsserungscomputer\n+thing-type.gardena.water_control.label=Gardena Smart Bew\ufffdsserungscomputer\n+thing-type.gardena.water_control.description=Ein Gardena Smart Bew\ufffdsserungscomputer\n \n thing-type.gardena.sensor.label=Gardena Smart Sensor\n-thing-type.gardena.sensor.description=ein Gardena Smart Sensor\n+thing-type.gardena.sensor.description=Ein Gardena Smart Sensor\n \n-thing-type.gardena.electronic_pressure_pump.label=Gardena Smart Druckpumpe\n-thing-type.gardena.electronic_pressure_pump.description=Eine Gardena Smart Druckpumpe\n+thing-type.gardena.pump.label=Gardena Smart Druckpumpe\n+thing-type.gardena.pump.description=Eine Gardena Smart Druckpumpe\n \n thing-type.gardena.power.label=Gardena Smart Power Zwischenstecker\n-thing-type.gardena.power.description=Eine Gardena Smart Power Zwischenstecker\n-\n-thing-type.gardena.ic24.label=Gardena Smart Bew\ufffdsserungssteuerung\n-thing-type.gardena.ic24.description=Eine Gardena Smart Bew\ufffdsserungssteuerung\n-\n-# config\n-thing-type.config.gardena.electronic_pressure_pump.leakage_detection.label=Leckage-Erkennung\n-thing-type.config.gardena.electronic_pressure_pump.leakage_detection.state.option.watering=Bew\ufffdsserung\n-thing-type.config.gardena.electronic_pressure_pump.leakage_detection.state.option.washing_machine=Waschmaschine\n-thing-type.config.gardena.electronic_pressure_pump.leakage_detection.state.option.domestic_water_supply=H\ufffdusliche Wasserversorgung\n-thing-type.config.gardena.electronic_pressure_pump.leakage_detection.state.option.off=Aus\n-\n-thing-type.config.gardena.electronic_pressure_pump.operating_mode.label=Betriebsmodus\n-thing-type.config.gardena.electronic_pressure_pump.operating_mode.state.option.automatic=Automatisch\n-thing-type.config.gardena.electronic_pressure_pump.operating_mode.state.option.scheduled=Zeitgesteuert\n-\n-thing-type.config.gardena.electronic_pressure_pump.turn_on_pressure.label=Einschaltdruck\n+thing-type.gardena.power.description=Ein Gardena Smart Power Zwischenstecker\n+\n+thing-type.gardena.irrigation_control.label=Gardena Smart Bew\ufffdsserungssteuerung\n+thing-type.gardena.irrigation_control.description=Eine Gardena Smart Bew\ufffdsserungssteuerung\n+\n+thing-type.gardena.irrigation_control.group.valve_1.label=Ventil 1 Eigenschaften\n+thing-type.gardena.irrigation_control.group.valve_1_commands.label=Ventil 1 Befehle\n+thing-type.gardena.irrigation_control.group.valve_2.label=Ventil 2 Eigenschaften\n+thing-type.gardena.irrigation_control.group.valve_2_commands.label=Ventil 2 Befehle\n+thing-type.gardena.irrigation_control.group.valve_3.label=Ventil 3 Eigenschaften\n+thing-type.gardena.irrigation_control.group.valve_3_commands.label=Ventil 3 Befehle\n+thing-type.gardena.irrigation_control.group.valve_4.label=Ventil 4 Eigenschaften\n+thing-type.gardena.irrigation_control.group.valve_4_commands.label=Ventil 4 Befehle\n+thing-type.gardena.irrigation_control.group.valve_5.label=Ventil 5 Eigenschaften\n+thing-type.gardena.irrigation_control.group.valve_5_commands.label=Ventil 5 Befehle\n+thing-type.gardena.irrigation_control.group.valve_6.label=Ventil 6 Eigenschaften\n+thing-type.gardena.irrigation_control.group.valve_6_commands.label=Ventil 6 Befehle\n \n # channel group\n-channel-group-type.gardena.deviceInfo.label=Ger\ufffdteinfo\n-channel-group-type.gardena.deviceInfo.description=Informationen \ufffdber das Ger\ufffdt\n-\n-channel-group-type.gardena.rechargeableBattery.label=Wiederaufladbare Batterie Info\n-channel-group-type.gardena.rechargeableBattery.description=Informationen \ufffdber die wiederaufladbare Batterie\n-\n-channel-group-type.gardena.radio.label=Funkverbindung\n-channel-group-type.gardena.radio.description=Informationen \ufffdber die Funkverbindung\n-\n-channel-group-type.gardena.mower.label=M\ufffdhroboter\n-channel-group-type.gardena.mower.description=Informationen \ufffdber den M\ufffdhroboter\n-\n-channel-group-type.gardena.internalTemperature.label=Interne Temperatur\n-channel-group-type.gardena.internalTemperature.description=Die interne Temperatur des M\ufffdhroboters\n-\n-channel-group-type.gardena.battery.label=Batterieinfo\n-channel-group-type.gardena.battery.description=Informationen \ufffdber die Batterie\n-\n-channel-group-type.gardena.outlet.label=Wasserauslass\n-channel-group-type.gardena.outlet.description=Informationen \ufffdber den Wasserauslass\n-\n-channel-group-type.gardena.ambientTemperature.label=Umgebungstemperatur\n-channel-group-type.gardena.ambientTemperature.description=Informationen \ufffdber die Umgebungstemperatur\n-\n-channel-group-type.gardena.soilTemperature.label=Bodentemperatur\n-channel-group-type.gardena.soilTemperature.description=Die Temperatur des Bodens\n-\n-channel-group-type.gardena.humidity.label=Feuchtigkeit\n-channel-group-type.gardena.humidity.description=Die Feuchtigkeit\n-\n-channel-group-type.gardena.light.label=Helligkeit\n-channel-group-type.gardena.light.description=Die Helligkeit\n-\n-channel-group-type.gardena.firmware.label=Firmware\n-channel-group-type.gardena.firmware.description=Informationen \ufffdber die Firmware\n-\n-channel-group-type.gardena.outletTemperature.label=Auslauftemperatur\n-channel-group-type.gardena.outletTemperature.description=Die Auslauftemperatur\n-\n-channel-group-type.gardena.pump.label=Pumpe\n-channel-group-type.gardena.pump.description=Die Pumpe\n-\n-channel-group-type.gardena.outletPressure.label=Auslassdruck\n-channel-group-type.gardena.outletPressure.description=Der Auslassdruck\n-\n-channel-group-type.gardena.outletPressureMax.label=Maximum Auslassdruck\n-channel-group-type.gardena.outletPressureMax.description=Der maximale Auslassdruck\n-\n-channel-group-type.gardena.flow.label=F\ufffdrderung\n-channel-group-type.gardena.flow.description=Die F\ufffdrderung\n-\n-channel-group-type.gardena.manualWatering.label=Manuelle Bew\ufffdsserung\n-channel-group-type.gardena.manualWatering.description=Die manuelle Bew\ufffdsserung\n-\n-channel-group-type.gardena.scheduling.label=Zeitplan\n-channel-group-type.gardena.scheduling.description=Der Zeitplan\n-\n-channel-group-type.gardena.mowerStats.label=M\ufffdhroboter Statistiken\n-channel-group-type.gardena.mowerStats.description=Statistiken \ufffdber den M\ufffdhroboter\n-\n-channel-group-type.gardena.power.label=Energie\n-channel-group-type.gardena.power.description=Energie\n-\n-channel-group-type.gardena.watering.label=Bew\ufffdsserung\n-channel-group-type.gardena.watering.description=Die Bew\ufffdsserung\n-\n-channel-group-type.gardena.ic24.label=Bew\ufffdsserungssteuerung\n-channel-group-type.gardena.ic24.description=Die Bew\ufffdsserungssteuerung\n-\n-channel-group-type.gardena.ic24scheduling.label=Zeitplanung\n-channel-group-type.gardena.ic24scheduling.description=Die Zeitplanung\n+channel-group-type.gardena.valveSetProperties.label=Ventilsatz Eigenschaften\n+channel-group-type.gardena.valveSetProperties.description=Eigenschaften eines Ventilsatzes\n+\n+channel-group-type.gardena.valveSetProperties.channel.state_timestamp.label=Status Zeitstempel\n+channel-group-type.gardena.valveSetProperties.channel.lastErrorCode_timestamp.label=Letzte Fehlermeldung Zeitstempel\n+\n+channel-group-type.gardena.valveProperties.label=Ventil Eigenschaften\n+channel-group-type.gardena.valveProperties.description=Eigenschaften eines Ventils\n+channel-group-type.gardena.valveProperties.channel.state_timestamp.label=Status Zeitstempel\n+channel-group-type.gardena.valveProperties.channel.activity_timestamp.label=Aktivit\ufffdt Zeitstempel\n+channel-group-type.gardena.valveProperties.channel.lastErrorCode_timestamp.label=Letzte Fehlermeldung Zeitstempel\n+\n+channel-group-type.gardena.sensorProperties.label=Sensor Eigenschaften\n+channel-group-type.gardena.sensorProperties.description=Eigenschaften eines Sensors\n+channel-group-type.gardena.sensorProperties.channel.soilHumidity_timestamp.label=Bodenfeuchtigkeit Zeitstempel\n+channel-group-type.gardena.sensorProperties.channel.soilTemperature.label=Bodentemperatur\n+channel-group-type.gardena.sensorProperties.channel.soilTemperature_timestamp.label=Bodentemperatur Zeitstempel\n+channel-group-type.gardena.sensorProperties.channel.ambientTemperature.label=Umgebungstemperatur\n+channel-group-type.gardena.sensorProperties.channel.ambientTemperature_timestamp.label=Umgebungstemperatur Zeitstempel\n+channel-group-type.gardena.sensorProperties.channel.lightIntensity_timestamp.label=Lichtintensit\ufffdt Zeitstempel\n+\n+channel-group-type.gardena.powerSocketProperties.label=Zwischenstecker Eigenschaften\n+channel-group-type.gardena.powerSocketProperties.description=Eigenschaften eines Zwischensteckers\n+channel-group-type.gardena.powerSocketProperties.channel.state_timestamp.label=Status Zeitstempel\n+channel-group-type.gardena.powerSocketProperties.channel.activity_timestamp.label=Aktivit\ufffdt Zeitstempel\n+channel-group-type.gardena.powerSocketProperties.channel.lastErrorCode_timestamp.label=Letzte Fehlermeldung Zeitstempel\n+channel-group-type.gardena.powerSocketProperties.channel.duration_timestamp.label=Dauer Zeitstempel\n+\n+channel-group-type.gardena.mowerProperties.label=M\ufffdher Eigenschaften\n+channel-group-type.gardena.mowerProperties.description=Eigenschaften eines M\ufffdhers\n+channel-group-type.gardena.mowerProperties.channel.state_timestamp.label=Status Zeitstempel\n+channel-group-type.gardena.mowerProperties.channel.activity_timestamp.label=Aktivit\ufffdt Zeitstempel\n+channel-group-type.gardena.mowerProperties.channel.lastErrorCode_timestamp.label=Letzte Fehlermeldung Zeitstempel\n+\n+channel-group-type.gardena.commonProperties.label=Gemeinsame Eigenschaften\n+channel-group-type.gardena.commonProperties.description=Eigenschaften, die bei allen Ger\ufffdten gleich sind\n+channel-group-type.gardena.commonProperties.channel.batteryLevel_timestamp.label=Batterie Zeitstempel\n+channel-group-type.gardena.commonProperties.channel.batteryState_timestamp.label=Batteriestatus Zeitstempel\n+channel-group-type.gardena.commonProperties.channel.rfLinkLevel_timestamp.label=Signalst\ufffdrke Zeitstempel\n+channel-group-type.gardena.commonProperties.channel.rfLinkState_timestamp.label=Verbindungsstatus Zeitstempel\n+channel-group-type.gardena.commonProperties.channel.lastUpdate_timestamp.label=Letzte Aktualisierung Zeitstempel\n+\n+channel-group-type.gardena.mowerCommands.label=M\ufffdher Befehle\n+channel-group-type.gardena.mowerCommands.description=Befehle f\ufffdr einen M\ufffdher\n+channel-group-type.gardena.mowerCommands.channel.commandDuration.label=M\ufffdhdauer\n+channel-group-type.gardena.mowerCommands.channel.start_seconds_to_override.label=Starte m\ufffdhen mit Dauer\n+channel-group-type.gardena.mowerCommands.channel.start_dont_override.label=Zeitplan starten \n+channel-group-type.gardena.mowerCommands.channel.park_until_next_task.label=Parken\n+channel-group-type.gardena.mowerCommands.channel.park_until_further_notice.label=Zeiplan pausieren\n+\n+channel-group-type.gardena.valveCommands.label=Ventl Befehle\n+channel-group-type.gardena.valveCommands.description=Befehle f\ufffdr ein Ventil\n+channel-group-type.gardena.valveCommands.channel.commandDuration.label=Bew\ufffdsserungsdauer\n+channel-group-type.gardena.valveCommands.channel.start_seconds_to_override.label=Starte Bew\ufffdsserung mit Dauer\n+channel-group-type.gardena.valveCommands.channel.stop_until_next_task.label=Ventil schlie\ufffden, mit dem Zeitplan fortfahren\n+channel-group-type.gardena.valveCommands.channel.pause.label=Pause bis zur angegebenen Zeit\n+channel-group-type.gardena.valveCommands.channel.unpause.label=Zeitplan starten\n+\n+channel-group-type.gardena.valveSetCommands.label=Ventlsatz Befehle\n+channel-group-type.gardena.valveSetCommands.description=Befehle f\ufffdr einen Ventilsatz\n+channel-group-type.gardena.valveSetCommands.channel.stop_until_next_task.label=Alle Ventil schlie\ufffden\n+\n+channel-group-type.gardena.powerSocketCommands.label=Zwischenstecker Befehle\n+channel-group-type.gardena.powerSocketCommands.description=Befehle f\ufffdr einen Zwischenstecker\n+channel-group-type.gardena.powerSocketCommands.channel.commandDuration.label=Einschaltdauer\n+channel-group-type.gardena.powerSocketCommands.channel.start_seconds_to_override.label=Einschalten mit Dauer\n+channel-group-type.gardena.powerSocketCommands.channel.start_override.label=Manuelles einschalten", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f549d3d4efe014ad5a6354ff596dd5ac9ffaa604"}, "originalPosition": 215}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI4NDI1MjA5OnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.gardena/src/main/resources/OH-INF/thing/bridge.xml", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNVQyMTowNzo1NlrOHzjEAw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNVQyMTowNzo1NlrOHzjEAw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzgxMzg5MQ==", "bodyText": "Words in labels should be capitalized (except prepositions and so on). See https://www.openhab.org/docs/developer/bindings/thing-xml.html#formatting-labels-and-descriptions", "url": "https://github.com/openhab/openhab-addons/pull/8869#discussion_r523813891", "createdAt": "2020-11-15T21:07:56Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.gardena/src/main/resources/OH-INF/thing/bridge.xml", "diffHunk": "@@ -4,39 +4,31 @@\n \txmlns:thing=\"https://openhab.org/schemas/thing-description/v1.0.0\"\n \txsi:schemaLocation=\"https://openhab.org/schemas/thing-description/v1.0.0 https://openhab.org/schemas/thing-description-1.0.0.xsd\">\n \n-\t<!-- Gardena Smart Home Account -->\n+\t<!-- Gardena smart system Account -->\n \t<bridge-type id=\"account\">\n-\t\t<label>Gardena Smart Home Account</label>\n-\t\t<description>The Gardena Smart Home Account</description>\n+\t\t<label>Gardena smart system Account</label>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f549d3d4efe014ad5a6354ff596dd5ac9ffaa604"}, "originalPosition": 9}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM4MTYxNTkwOnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.gardena/src/main/java/org/openhab/binding/gardena/internal/discovery/GardenaDeviceDiscoveryService.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxNzozNjo1OVrOIBsM2Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxNzozNjo1OVrOIBsM2Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODY0MzY3Mw==", "bodyText": "Can you make this Nullable?", "url": "https://github.com/openhab/openhab-addons/pull/8869#discussion_r538643673", "createdAt": "2020-12-08T17:36:59Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.gardena/src/main/java/org/openhab/binding/gardena/internal/discovery/GardenaDeviceDiscoveryService.java", "diffHunk": "@@ -41,18 +41,19 @@\n import org.slf4j.LoggerFactory;\n \n /**\n- * The {@link GardenaDeviceDiscoveryService} is used to discover devices that are connected to Gardena Smart Home.\n+ * The {@link GardenaDeviceDiscoveryService} is used to discover devices that are connected to Gardena smart system.\n  *\n  * @author Gerhard Riegler - Initial contribution\n  */\n+@NonNullByDefault\n public class GardenaDeviceDiscoveryService extends AbstractDiscoveryService\n         implements DiscoveryService, ThingHandlerService {\n \n     private final Logger logger = LoggerFactory.getLogger(GardenaDeviceDiscoveryService.class);\n-    private static final int DISCOVER_TIMEOUT_SECONDS = 30;\n+    private static final int DISCOVER_TIMEOUT_SECONDS = 5;\n \n     private @NonNullByDefault({}) GardenaAccountHandler accountHandler;\n-    private Future<?> scanFuture;\n+    private @NonNullByDefault({}) Future<?> scanFuture;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "eb02adf3ea4c748f4b3ec438ee5599ed52609bc3"}, "originalPosition": 28}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM4MTYyMDM4OnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.gardena/src/main/java/org/openhab/binding/gardena/internal/handler/GardenaAccountHandler.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxNzozNzo0MVrOIBsPpQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxNzozNzo0MVrOIBsPpQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODY0NDM4OQ==", "bodyText": "Can you make this Nullable?", "url": "https://github.com/openhab/openhab-addons/pull/8869#discussion_r538644389", "createdAt": "2020-12-08T17:37:41Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.gardena/src/main/java/org/openhab/binding/gardena/internal/handler/GardenaAccountHandler.java", "diffHunk": "@@ -39,31 +37,31 @@\n import org.slf4j.LoggerFactory;\n \n /**\n- * The {@link GardenaAccountHandler} is the handler for a Gardena Smart Home access and connects it to the framework.\n+ * The {@link GardenaAccountHandler} is the handler for a Gardena smart system access and connects it to the framework.\n  *\n  * @author Gerhard Riegler - Initial contribution\n  */\n+@NonNullByDefault\n public class GardenaAccountHandler extends BaseBridgeHandler implements GardenaSmartEventListener {\n-\n     private final Logger logger = LoggerFactory.getLogger(GardenaAccountHandler.class);\n-    private static final long REINITIALIZE_DELAY_SECONDS = 10;\n+    private final static long REINITIALIZE_DELAY_SECONDS = 10;\n \n-    private GardenaDeviceDiscoveryService discoveryService;\n+    private @NonNullByDefault({}) GardenaDeviceDiscoveryService discoveryService;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "eb02adf3ea4c748f4b3ec438ee5599ed52609bc3"}, "originalPosition": 43}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM4MTYyNzYzOnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.gardena/src/main/java/org/openhab/binding/gardena/internal/handler/GardenaAccountHandler.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxNzozODo0N1rOIBsUnQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxNzozODo0N1rOIBsUnQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODY0NTY2MQ==", "bodyText": "Bindings should only log to error if something severe happened, like the detection of a bug in your code. This could be debug. See this link for a description of the log levels: https://www.openhab.org/docs/developer/guidelines.html#f-logging\nThe log messages could be removed, as the status update is already logged by the framework.\nThe state change originated by updateStatus() is logged to events.log. Including the status detail message.", "url": "https://github.com/openhab/openhab-addons/pull/8869#discussion_r538645661", "createdAt": "2020-12-08T17:38:47Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.gardena/src/main/java/org/openhab/binding/gardena/internal/handler/GardenaAccountHandler.java", "diffHunk": "@@ -142,21 +147,23 @@ public void handleCommand(ChannelUID channelUID, Command command) {\n     @Override\n     public void onDeviceUpdated(Device device) {\n         for (ThingUID thingUID : UidUtils.getThingUIDs(device, getThing())) {\n-            Thing gardenaThing = getThing().getThing(thingUID);\n-            try {\n-                GardenaThingHandler gardenaThingHandler = (GardenaThingHandler) gardenaThing.getHandler();\n-                gardenaThingHandler.updateProperties(device);\n-                for (Channel channel : gardenaThing.getChannels()) {\n-                    gardenaThingHandler.updateChannel(channel.getUID());\n+            final Thing gardenaThing;\n+            final GardenaThingHandler gardenaThingHandler;\n+            if ((gardenaThing = getThing().getThing(thingUID)) != null\n+                    && (gardenaThingHandler = (GardenaThingHandler) gardenaThing.getHandler()) != null) {\n+                try {\n+                    gardenaThingHandler.updateProperties(device);\n+                    for (Channel channel : gardenaThing.getChannels()) {\n+                        gardenaThingHandler.updateChannel(channel.getUID());\n+                    }\n+                    gardenaThingHandler.updateStatus(device);\n+                } catch (GardenaException ex) {\n+                    logger.error(\"There is something wrong with your thing '{}', please check or recreate it: {}\",\n+                            gardenaThing.getUID(), ex.getMessage());\n+                    logger.debug(\"Gardena exception caught on device update.\", ex);\n+                    updateStatus(ThingStatus.OFFLINE, ThingStatusDetail.CONFIGURATION_ERROR, ex.getMessage());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "eb02adf3ea4c748f4b3ec438ee5599ed52609bc3"}, "originalPosition": 153}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM4MTY2NDk3OnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.gardena/src/main/resources/OH-INF/i18n/gardena_de.properties", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxNzo0NDozNlrOIBstJg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxNzo0NDozNlrOIBstJg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODY1MTk0Mg==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            thing-type.config.gardena.bridge.email.description=Email Addresse f\ufffdr den Gardena Smart System Login\n          \n          \n            \n            thing-type.config.gardena.bridge.email.description=Email-Addresse f\ufffdr den Gardena Smart System Login", "url": "https://github.com/openhab/openhab-addons/pull/8869#discussion_r538651942", "createdAt": "2020-12-08T17:44:36Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.gardena/src/main/resources/OH-INF/i18n/gardena_de.properties", "diffHunk": "@@ -1,462 +1,273 @@\n # binding\n-binding.gardena.description=Das ist das Binding f\ufffdr Gardena Smart Home Produkte.\n+binding.gardena.description=Das ist das Binding f\ufffdr Gardena Smart System.\n \n # thing types\n-thing-type.gardena.bridge.description=ein Gardena Smart Home Online Account\n+thing-type.gardena.bridge.description=Ein Gardena Smart System Online Account\n \n-thing-type.config.gardena.bridge.email.description=Email Addresse f\ufffdr den Gardena Smart Home Login \n-thing-type.config.gardena.bridge.password.label=Passwort \n-thing-type.config.gardena.bridge.password.description=Passwort f\ufffdr den Gardena Smart Home Login \n-thing-type.config.gardena.bridge.sessionTimeout.description=Timeout der Gardena Smart Home Session in Minuten\n+thing-type.config.gardena.bridge.email.description=Email Addresse f\ufffdr den Gardena Smart System Login", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "eb02adf3ea4c748f4b3ec438ee5599ed52609bc3"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM4MTY4NDAzOnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.gardena/src/main/resources/OH-INF/thing/thing-types.xml", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxNzo0NzozNVrOIBs5Lw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxNzo0NzozNVrOIBs5Lw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODY1NTAyMw==", "bodyText": "Words in labels should be capitalized (except prepositions and so on). See https://www.openhab.org/docs/developer/bindings/thing-xml.html#formatting-labels-and-descriptions", "url": "https://github.com/openhab/openhab-addons/pull/8869#discussion_r538655023", "createdAt": "2020-12-08T17:47:35Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.gardena/src/main/resources/OH-INF/thing/thing-types.xml", "diffHunk": "@@ -10,1162 +10,633 @@\n \t\t\t<bridge-type-ref id=\"account\"/>\n \t\t</supported-bridge-type-refs>\n \n-\t\t<label>Gardena Smart Sileno Mower</label>\n-\t\t<description>A Gardena Smart Sileno mower</description>\n+\t\t<label>Gardena smart SILENO Mower</label>\n+\t\t<description>Represents any Gardena smart SILENO mower model</description>\n \n \t\t<channel-groups>\n-\t\t\t<channel-group id=\"device_info\" typeId=\"deviceInfo\"/>\n-\t\t\t<channel-group id=\"battery\" typeId=\"rechargeableBattery\"/>\n-\t\t\t<channel-group id=\"radio\" typeId=\"radio\"/>\n-\t\t\t<channel-group id=\"mower\" typeId=\"mower\"/>\n-\t\t\t<channel-group id=\"mower_stats\" typeId=\"mowerStats\"/>\n-\t\t\t<channel-group id=\"firmware\" typeId=\"firmware\"/>\n+\t\t\t<channel-group id=\"common\" typeId=\"commonProperties\"/>\n+\t\t\t<channel-group id=\"mower\" typeId=\"mowerProperties\"/>\n+\t\t\t<channel-group id=\"mower_commands\" typeId=\"mowerCommands\"/>\n \t\t</channel-groups>\n \t\t<properties>\n-\t\t\t<!-- device info -->\n-\t\t\t<property name=\"manufacturer\"/>\n-\t\t\t<property name=\"product\"/>\n-\t\t\t<property name=\"serialNumber\"/>\n-\t\t\t<property name=\"sgtin\"/>\n-\t\t\t<property name=\"version\"/>\n-\t\t\t<property name=\"category\"/>\n+\t\t\t<!-- common -->\n+\t\t\t<property name=\"serial\"/>\n+\t\t\t<property name=\"modelType\"/>\n \t\t</properties>\n \t</thing-type>\n \n-\t<channel-group-type id=\"deviceInfo\">\n-\t\t<label>Device Info</label>\n-\t\t<description>Information about the device</description>\n-\t\t<channels>\n-\t\t\t<channel id=\"last_time_online\" typeId=\"lastTimeOnline\"/>\n-\t\t</channels>\n-\t</channel-group-type>\n-\n-\t<channel-group-type id=\"rechargeableBattery\">\n-\t\t<label>Battery Info</label>\n-\t\t<description>Information about the rechargeable battery</description>\n-\t\t<channels>\n-\t\t\t<channel id=\"level\" typeId=\"system.battery-level\"/>\n-\t\t\t<channel id=\"charging\" typeId=\"charging\"/>\n-\t\t</channels>\n-\t</channel-group-type>\n-\n-\t<channel-group-type id=\"radio\">\n-\t\t<label>Radio Link</label>\n-\t\t<description>Information about the radio link</description>\n-\t\t<channels>\n-\t\t\t<channel id=\"quality\" typeId=\"radioQuality\"/>\n-\t\t\t<channel id=\"state\" typeId=\"system.signal-strength\"/>\n-\t\t</channels>\n-\t</channel-group-type>\n-\n-\t<channel-group-type id=\"mower\">\n-\t\t<label>Robotic Mower</label>\n-\t\t<description>Information about the robotic mower</description>\n-\t\t<channels>\n-\t\t\t<channel id=\"manual_operation\" typeId=\"manualOperation\"/>\n-\t\t\t<channel id=\"status\" typeId=\"status\"/>\n-\t\t\t<channel id=\"error\" typeId=\"error\"/>\n-\t\t\t<channel id=\"source_for_next_start\" typeId=\"sourceForNextStart\"/>\n-\t\t\t<channel id=\"timestamp_next_start\" typeId=\"timestampNextStart\"/>\n-\t\t\t<channel id=\"override_end_time\" typeId=\"overrideEndTime\"/>\n-\t\t\t<channel id=\"park_until_further_notice\" typeId=\"parkUntilFurtherNotice\"/>\n-\t\t\t<channel id=\"park_until_next_timer\" typeId=\"parkUntilNextTimer\"/>\n-\t\t\t<channel id=\"start_override_timer\" typeId=\"startOverrideTimer\"/>\n-\t\t\t<channel id=\"start_resume_schedule\" typeId=\"startResumeSchedule\"/>\n-\t\t\t<channel id=\"duration_property\" typeId=\"mowerDurationProperty\"/>\n-\t\t</channels>\n-\t</channel-group-type>\n-\n-\t<channel-type id=\"mowerDurationProperty\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Mowing Time</label>\n-\t\t<description>Mowing time in minutes</description>\n-\t\t<state pattern=\"%d min\" min=\"1\" max=\"1440\" step=\"1\"/>\n-\t</channel-type>\n-\n-\t<channel-type id=\"parkUntilFurtherNotice\">\n-\t\t<item-type>Switch</item-type>\n-\t\t<label>Park and Pause All Timers</label>\n-\t\t<description>Park and pause all timers</description>\n-\t</channel-type>\n-\n-\t<channel-type id=\"parkUntilNextTimer\">\n-\t\t<item-type>Switch</item-type>\n-\t\t<label>Park Until Next Timer</label>\n-\t\t<description>Park until next timer</description>\n-\t</channel-type>\n-\n-\t<channel-type id=\"startResumeSchedule\">\n-\t\t<item-type>Switch</item-type>\n-\t\t<label>Start Resume Schedule</label>\n-\t\t<description>Start resume schedule</description>\n-\t</channel-type>\n-\n-\t<channel-type id=\"startOverrideTimer\">\n-\t\t<item-type>Switch</item-type>\n-\t\t<label>Override Timer</label>\n-\t\t<description>Starts the mower for the specified duration</description>\n-\t</channel-type>\n-\n-\t<channel-type id=\"lastTimeOnline\" advanced=\"true\">\n-\t\t<item-type>DateTime</item-type>\n-\t\t<label>Last Time Online</label>\n-\t\t<description>Last time the device was online</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n-\n-\t<channel-type id=\"charging\" advanced=\"true\">\n-\t\t<item-type>Switch</item-type>\n-\t\t<label>Battery Charging</label>\n-\t\t<description>Battery Charging</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t<!-- ############################### Watering Computer ############################### -->\n \n-\t<channel-type id=\"radioQuality\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Radio Link Quality</label>\n-\t\t<description>Radio Link Quality</description>\n-\t\t<state pattern=\"%d %%\" readOnly=\"true\"/>\n-\t</channel-type>\n+\t<thing-type id=\"water_control\">\n+\t\t<supported-bridge-type-refs>\n+\t\t\t<bridge-type-ref id=\"account\"/>\n+\t\t</supported-bridge-type-refs>\n \n-\t<channel-type id=\"manualOperation\" advanced=\"true\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Manual Operation</label>\n-\t\t<description>The mower is controlled manually</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t\t<label>Gardena smart Water Control</label>\n+\t\t<description>Represents a Gardena smart Water Control</description>\n \n-\t<channel-type id=\"status\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Mower Status</label>\n-\t\t<description>The mower status</description>\n-\t\t<state readOnly=\"true\">\n-\t\t\t<options>\n-\t\t\t\t<option value=\"uninitialised\">Uninitialised</option>\n-\t\t\t\t<option value=\"paused\">Paused</option>\n-\t\t\t\t<option value=\"ok_cutting\">Mowing</option>\n-\t\t\t\t<option value=\"ok_searching\">Searching charging station</option>\n-\t\t\t\t<option value=\"ok_charging\">Charging</option>\n-\t\t\t\t<option value=\"ok_leaving\">Mowing</option>\n-\t\t\t\t<option value=\"wait_updating\">Updating ...</option>\n-\t\t\t\t<option value=\"wait_power_up\">Powering up ...</option>\n-\t\t\t\t<option value=\"parked_timer\">Parked on schedule</option>\n-\t\t\t\t<option value=\"parked_park_selected\">Parked</option>\n-\t\t\t\t<option value=\"off_disabled\">The mower is turned off</option>\n-\t\t\t\t<option value=\"off_hatch_open\">Disabled. Hatch open</option>\n-\t\t\t\t<option value=\"unknown\">Unknown</option>\n-\t\t\t\t<option value=\"error\">Error</option>\n-\t\t\t\t<option value=\"error_at_power_up\">Error</option>\n-\t\t\t\t<option value=\"off_hatch_closed\">Disabled. Manual start needed</option>\n-\t\t\t\t<option value=\"ok_cutting_timer_overridden\">Manual mowing</option>\n-\t\t\t\t<option value=\"parked_autotimer\">Parked due to SensorControl</option>\n-\t\t\t\t<option value=\"parked_daily_limit_reached\">Completed</option>\n-\t\t\t\t<option value=\"undefined\">Undefined</option>\n-\t\t\t</options>\n-\t\t</state>\n-\t</channel-type>\n-\n-\t<channel-type id=\"error\" advanced=\"true\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Mower Error</label>\n-\t\t<description>Mower Error</description>\n-\t\t<state readOnly=\"true\">\n-\t\t\t<options>\n-\t\t\t\t<option value=\"no_message\">No message</option>\n-\t\t\t\t<option value=\"outside_working_area\">Outside working area</option>\n-\t\t\t\t<option value=\"no_loop_signal\">No loop signal</option>\n-\t\t\t\t<option value=\"wrong_loop_signal\">Wrong loop signal</option>\n-\t\t\t\t<option value=\"loop_sensor_problem_front\">Loop sensor problem, front</option>\n-\t\t\t\t<option value=\"loop_sensor_problem_rear\">Loop sensor problem, rear</option>\n-\t\t\t\t<option value=\"loop_sensor_problem_left\">Loop sensor problem, left</option>\n-\t\t\t\t<option value=\"loop_sensor_problem_right\">Loop sensor problem, right</option>\n-\t\t\t\t<option value=\"wrong_pin_code\">Wrong pin code</option>\n-\t\t\t\t<option value=\"trapped\">Trapped</option>\n-\t\t\t\t<option value=\"upside_down\">Upside down</option>\n-\t\t\t\t<option value=\"low_battery\">Low battery</option>\n-\t\t\t\t<option value=\"empty_battery\">Empty battery</option>\n-\t\t\t\t<option value=\"no_drive\">Disabled. Hatch open</option>\n-\t\t\t\t<option value=\"temporarily_lifted\">Temporary lifted</option>\n-\t\t\t\t<option value=\"lifted\">Lifted</option>\n-\t\t\t\t<option value=\"stuck_in_charging_station\">Stuck in charging station</option>\n-\t\t\t\t<option value=\"charging_station_blocked\">Charging station blocked</option>\n-\t\t\t\t<option value=\"collision_sensor_problem_rear\">Collision sensor problem, rear</option>\n-\t\t\t\t<option value=\"collision_sensor_problem_front\">Collision sensor problem, front</option>\n-\t\t\t\t<option value=\"wheel_motor_blocked_right\">Wheel motor blocked, right</option>\n-\t\t\t\t<option value=\"wheel_motor_blocked_left\">Wheel motor blocked, left</option>\n-\t\t\t\t<option value=\"wheel_drive_problem_right\">Wheel drive problem, right</option>\n-\t\t\t\t<option value=\"wheel_drive_problem_left\">Wheel drive problem, left</option>\n-\t\t\t\t<option value=\"cutting_motor_drive_defect\">Cutting motor drive defect</option>\n-\t\t\t\t<option value=\"cutting_system_blocked\">Cutting system blocked</option>\n-\t\t\t\t<option value=\"invalid_sub_device_combination\">Invalid sub-device combination</option>\n-\t\t\t\t<option value=\"settings_restored\">Settings restored</option>\n-\t\t\t\t<option value=\"memory_circuit_problem\">Memory circuit problem</option>\n-\t\t\t\t<option value=\"slope_too_steep\">Slope too steep</option>\n-\t\t\t\t<option value=\"charging_system_problem\">Charging system problem</option>\n-\t\t\t\t<option value=\"stop_button_problem\">Stop button problem</option>\n-\t\t\t\t<option value=\"tilt_sensor_problem\">Tilt sensor problem</option>\n-\t\t\t\t<option value=\"mower_tilted\">Mower tilted</option>\n-\t\t\t\t<option value=\"wheel_motor_overloaded_right\">Wheel motor overloaded, right</option>\n-\t\t\t\t<option value=\"wheel_motor_overloaded_left\">Wheel motor overloaded, left</option>\n-\t\t\t\t<option value=\"charging_current_too_high\">Charging current too high</option>\n-\t\t\t\t<option value=\"electronic_problem\">Electronic problem</option>\n-\t\t\t\t<option value=\"cutting_motor_problem\">Cutting motor problem</option>\n-\t\t\t\t<option value=\"limited_cutting_height_range\">Limited cutting height range</option>\n-\t\t\t\t<option value=\"unexpected_cutting_height_adj\">Unexpected cutting height adj</option>\n-\t\t\t\t<option value=\"cutting_height_problem_drive\">Cutting height problem drive</option>\n-\t\t\t\t<option value=\"cutting_height_problem_curr\">Cutting height problem curr</option>\n-\t\t\t\t<option value=\"cutting_height_problem_dir\">Cutting height problem dir</option>\n-\t\t\t\t<option value=\"cutting_height_blocked\">Cutting height blocked</option>\n-\t\t\t\t<option value=\"cutting_height_problem\">Cutting height problem</option>\n-\t\t\t\t<option value=\"no_response_from_charger\">No response from charger</option>\n-\t\t\t\t<option value=\"ultrasonic_problem\">Ultrasonic problem</option>\n-\t\t\t\t<option value=\"temporary_problem\">Temporary problem</option>\n-\t\t\t\t<option value=\"guide_1_not_found\">Guide 1 not found</option>\n-\t\t\t\t<option value=\"guide_2_not_found\">Guide 2 not found</option>\n-\t\t\t\t<option value=\"guide_3_not_found\">Guide 3 not found</option>\n-\t\t\t\t<option value=\"gps_tracker_module_error\">GPS tracker module error</option>\n-\t\t\t\t<option value=\"weak_gps_signal\">Weak gps signal</option>\n-\t\t\t\t<option value=\"difficult_finding_home\">Difficult finding home</option>\n-\t\t\t\t<option value=\"guide_calibration_accomplished\">Guide calibration accomplished</option>\n-\t\t\t\t<option value=\"guide_calibration_failed\">Guide calibration failed</option>\n-\t\t\t\t<option value=\"temporary_battery_problem\">Temporary battery problem</option>\n-\t\t\t\t<option value=\"battery_problem\">Battery problem</option>\n-\t\t\t\t<option value=\"too_many_batteries\">Too many batteries</option>\n-\t\t\t\t<option value=\"alarm_mower_switched_off\">Alarm! Mower switched off</option>\n-\t\t\t\t<option value=\"alarm_mower_stopped\">Alarm! Mower stopped</option>\n-\t\t\t\t<option value=\"alarm_mower_lifted\">Alarm! Mower lifted</option>\n-\t\t\t\t<option value=\"alarm_mower_tilted\">Alarm! Mower tilted</option>\n-\t\t\t\t<option value=\"alarm_mower_in_motion\">Alarm! Mower in motion</option>\n-\t\t\t\t<option value=\"alarm_outside_geofence\">Alarm outside geofence</option>\n-\t\t\t\t<option value=\"connection_changed\">Connection changed</option>\n-\t\t\t\t<option value=\"connection_not_changed\">Connection not changed</option>\n-\t\t\t\t<option value=\"com_board_not_available\">COM board not available</option>\n-\t\t\t\t<option value=\"slipped\">Slipped</option>\n-\t\t\t\t<option value=\"invalid_battery_combination\">Invalid battery combination</option>\n-\t\t\t\t<option value=\"imbalanced_cutting_disc\">Imbalanced cutting disc</option>\n-\t\t\t\t<option value=\"safety_function_faulty\">Safety function faulty</option>\n-\t\t\t</options>\n-\t\t</state>\n-\t</channel-type>\n+\t\t<channel-groups>\n+\t\t\t<channel-group id=\"common\" typeId=\"commonProperties\"/>\n+\t\t\t<channel-group id=\"valve\" typeId=\"valveProperties\"/>\n+\t\t\t<channel-group id=\"valve_commands\" typeId=\"valveCommands\"/>\n+\t\t\t<channel-group id=\"valveSet\" typeId=\"valveSetProperties\"/>\n+\t\t\t<channel-group id=\"valveSet_commands\" typeId=\"valveSetCommands\"/>\n+\t\t</channel-groups>\n+\t\t<properties>\n+\t\t\t<!-- common -->\n+\t\t\t<property name=\"serial\"/>\n+\t\t\t<property name=\"modelType\"/>\n+\t\t</properties>\n+\t</thing-type>\n \n-\t<channel-type id=\"sourceForNextStart\" advanced=\"true\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Source for Next Start</label>\n-\t\t<description>The source for the next start</description>\n-\t\t<state readOnly=\"true\">\n-\t\t\t<options>\n-\t\t\t\t<option value=\"no_source\">No source</option>\n-\t\t\t\t<option value=\"completed_cutting_daily_limit\">Completed cutting daily limit</option>\n-\t\t\t\t<option value=\"week_timer\">Week timer</option>\n-\t\t\t\t<option value=\"countdown_timer\">Countdown timer</option>\n-\t\t\t\t<option value=\"mower_charging\">Mower charging</option>\n-\t\t\t\t<option value=\"completed_cutting_autotimer\">Completed cutting autotimer</option>\n-\t\t\t\t<option value=\"undefined\">Undefined</option>\n-\t\t\t</options>\n-\t\t</state>\n-\t</channel-type>\n+\t<!-- ############################### Sensor ############################### -->\n \n-\t<channel-type id=\"timestampNextStart\">\n-\t\t<item-type>DateTime</item-type>\n-\t\t<label>Timestamp Next Start</label>\n-\t\t<description>Timestamp of the next start</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t<thing-type id=\"sensor\">\n+\t\t<supported-bridge-type-refs>\n+\t\t\t<bridge-type-ref id=\"account\"/>\n+\t\t</supported-bridge-type-refs>\n \n-\t<channel-type id=\"overrideEndTime\" advanced=\"true\">\n-\t\t<item-type>DateTime</item-type>\n-\t\t<label>Override End Time</label>\n-\t\t<description>Override End Time</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t\t<label>Gardena smart Sensor</label>\n+\t\t<description>Represents a Gardena smart Sensor</description>\n \n-\t<channel-type id=\"temperature\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Temperature</label>\n-\t\t<description>Temperature</description>\n-\t\t<state pattern=\"%d \u00b0C\" readOnly=\"true\"/>\n-\t</channel-type>\n+\t\t<channel-groups>\n+\t\t\t<channel-group id=\"common\" typeId=\"commonProperties\"/>\n+\t\t\t<channel-group id=\"sensor\" typeId=\"sensorProperties\"/>\n+\t\t</channel-groups>\n+\t\t<properties>\n+\t\t\t<!-- common -->\n+\t\t\t<property name=\"serial\"/>\n+\t\t\t<property name=\"modelType\"/>\n+\t\t</properties>\n+\t</thing-type>\n \n-\t<channel-group-type id=\"firmware\">\n-\t\t<label>Firmware</label>\n-\t\t<description>Information about the firmware</description>\n-\t\t<channels>\n-\t\t\t<channel id=\"firmware_status\" typeId=\"firmwareStatus\"/>\n-\t\t\t<channel id=\"firmware_upload_progress\" typeId=\"firmwareUploadProgress\"/>\n-\t\t\t<channel id=\"firmware_available_version\" typeId=\"firmwareAvailableVersion\"/>\n-\t\t</channels>\n-\t</channel-group-type>\n+\t<!-- ############################### Pressure Pump ############################### -->\n \n-\t<channel-type id=\"firmwareStatus\" advanced=\"true\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Status</label>\n-\t\t<description>The firmware status</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t<thing-type id=\"pump\">\n+\t\t<supported-bridge-type-refs>\n+\t\t\t<bridge-type-ref id=\"account\"/>\n+\t\t</supported-bridge-type-refs>\n \n-\t<channel-type id=\"firmwareUploadProgress\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Upload Progress</label>\n-\t\t<description>Firmware upload in progress</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t\t<label>Gardena smart Pressure Pump</label>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "eb02adf3ea4c748f4b3ec438ee5599ed52609bc3"}, "originalPosition": 353}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM4MTY4NjM0OnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.gardena/src/main/resources/OH-INF/thing/thing-types.xml", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxNzo0Nzo0OVrOIBs6pg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxNzo0Nzo0OVrOIBs6pg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODY1NTM5OA==", "bodyText": "See above", "url": "https://github.com/openhab/openhab-addons/pull/8869#discussion_r538655398", "createdAt": "2020-12-08T17:47:49Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.gardena/src/main/resources/OH-INF/thing/thing-types.xml", "diffHunk": "@@ -10,1162 +10,633 @@\n \t\t\t<bridge-type-ref id=\"account\"/>\n \t\t</supported-bridge-type-refs>\n \n-\t\t<label>Gardena Smart Sileno Mower</label>\n-\t\t<description>A Gardena Smart Sileno mower</description>\n+\t\t<label>Gardena smart SILENO Mower</label>\n+\t\t<description>Represents any Gardena smart SILENO mower model</description>\n \n \t\t<channel-groups>\n-\t\t\t<channel-group id=\"device_info\" typeId=\"deviceInfo\"/>\n-\t\t\t<channel-group id=\"battery\" typeId=\"rechargeableBattery\"/>\n-\t\t\t<channel-group id=\"radio\" typeId=\"radio\"/>\n-\t\t\t<channel-group id=\"mower\" typeId=\"mower\"/>\n-\t\t\t<channel-group id=\"mower_stats\" typeId=\"mowerStats\"/>\n-\t\t\t<channel-group id=\"firmware\" typeId=\"firmware\"/>\n+\t\t\t<channel-group id=\"common\" typeId=\"commonProperties\"/>\n+\t\t\t<channel-group id=\"mower\" typeId=\"mowerProperties\"/>\n+\t\t\t<channel-group id=\"mower_commands\" typeId=\"mowerCommands\"/>\n \t\t</channel-groups>\n \t\t<properties>\n-\t\t\t<!-- device info -->\n-\t\t\t<property name=\"manufacturer\"/>\n-\t\t\t<property name=\"product\"/>\n-\t\t\t<property name=\"serialNumber\"/>\n-\t\t\t<property name=\"sgtin\"/>\n-\t\t\t<property name=\"version\"/>\n-\t\t\t<property name=\"category\"/>\n+\t\t\t<!-- common -->\n+\t\t\t<property name=\"serial\"/>\n+\t\t\t<property name=\"modelType\"/>\n \t\t</properties>\n \t</thing-type>\n \n-\t<channel-group-type id=\"deviceInfo\">\n-\t\t<label>Device Info</label>\n-\t\t<description>Information about the device</description>\n-\t\t<channels>\n-\t\t\t<channel id=\"last_time_online\" typeId=\"lastTimeOnline\"/>\n-\t\t</channels>\n-\t</channel-group-type>\n-\n-\t<channel-group-type id=\"rechargeableBattery\">\n-\t\t<label>Battery Info</label>\n-\t\t<description>Information about the rechargeable battery</description>\n-\t\t<channels>\n-\t\t\t<channel id=\"level\" typeId=\"system.battery-level\"/>\n-\t\t\t<channel id=\"charging\" typeId=\"charging\"/>\n-\t\t</channels>\n-\t</channel-group-type>\n-\n-\t<channel-group-type id=\"radio\">\n-\t\t<label>Radio Link</label>\n-\t\t<description>Information about the radio link</description>\n-\t\t<channels>\n-\t\t\t<channel id=\"quality\" typeId=\"radioQuality\"/>\n-\t\t\t<channel id=\"state\" typeId=\"system.signal-strength\"/>\n-\t\t</channels>\n-\t</channel-group-type>\n-\n-\t<channel-group-type id=\"mower\">\n-\t\t<label>Robotic Mower</label>\n-\t\t<description>Information about the robotic mower</description>\n-\t\t<channels>\n-\t\t\t<channel id=\"manual_operation\" typeId=\"manualOperation\"/>\n-\t\t\t<channel id=\"status\" typeId=\"status\"/>\n-\t\t\t<channel id=\"error\" typeId=\"error\"/>\n-\t\t\t<channel id=\"source_for_next_start\" typeId=\"sourceForNextStart\"/>\n-\t\t\t<channel id=\"timestamp_next_start\" typeId=\"timestampNextStart\"/>\n-\t\t\t<channel id=\"override_end_time\" typeId=\"overrideEndTime\"/>\n-\t\t\t<channel id=\"park_until_further_notice\" typeId=\"parkUntilFurtherNotice\"/>\n-\t\t\t<channel id=\"park_until_next_timer\" typeId=\"parkUntilNextTimer\"/>\n-\t\t\t<channel id=\"start_override_timer\" typeId=\"startOverrideTimer\"/>\n-\t\t\t<channel id=\"start_resume_schedule\" typeId=\"startResumeSchedule\"/>\n-\t\t\t<channel id=\"duration_property\" typeId=\"mowerDurationProperty\"/>\n-\t\t</channels>\n-\t</channel-group-type>\n-\n-\t<channel-type id=\"mowerDurationProperty\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Mowing Time</label>\n-\t\t<description>Mowing time in minutes</description>\n-\t\t<state pattern=\"%d min\" min=\"1\" max=\"1440\" step=\"1\"/>\n-\t</channel-type>\n-\n-\t<channel-type id=\"parkUntilFurtherNotice\">\n-\t\t<item-type>Switch</item-type>\n-\t\t<label>Park and Pause All Timers</label>\n-\t\t<description>Park and pause all timers</description>\n-\t</channel-type>\n-\n-\t<channel-type id=\"parkUntilNextTimer\">\n-\t\t<item-type>Switch</item-type>\n-\t\t<label>Park Until Next Timer</label>\n-\t\t<description>Park until next timer</description>\n-\t</channel-type>\n-\n-\t<channel-type id=\"startResumeSchedule\">\n-\t\t<item-type>Switch</item-type>\n-\t\t<label>Start Resume Schedule</label>\n-\t\t<description>Start resume schedule</description>\n-\t</channel-type>\n-\n-\t<channel-type id=\"startOverrideTimer\">\n-\t\t<item-type>Switch</item-type>\n-\t\t<label>Override Timer</label>\n-\t\t<description>Starts the mower for the specified duration</description>\n-\t</channel-type>\n-\n-\t<channel-type id=\"lastTimeOnline\" advanced=\"true\">\n-\t\t<item-type>DateTime</item-type>\n-\t\t<label>Last Time Online</label>\n-\t\t<description>Last time the device was online</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n-\n-\t<channel-type id=\"charging\" advanced=\"true\">\n-\t\t<item-type>Switch</item-type>\n-\t\t<label>Battery Charging</label>\n-\t\t<description>Battery Charging</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t<!-- ############################### Watering Computer ############################### -->\n \n-\t<channel-type id=\"radioQuality\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Radio Link Quality</label>\n-\t\t<description>Radio Link Quality</description>\n-\t\t<state pattern=\"%d %%\" readOnly=\"true\"/>\n-\t</channel-type>\n+\t<thing-type id=\"water_control\">\n+\t\t<supported-bridge-type-refs>\n+\t\t\t<bridge-type-ref id=\"account\"/>\n+\t\t</supported-bridge-type-refs>\n \n-\t<channel-type id=\"manualOperation\" advanced=\"true\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Manual Operation</label>\n-\t\t<description>The mower is controlled manually</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t\t<label>Gardena smart Water Control</label>\n+\t\t<description>Represents a Gardena smart Water Control</description>\n \n-\t<channel-type id=\"status\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Mower Status</label>\n-\t\t<description>The mower status</description>\n-\t\t<state readOnly=\"true\">\n-\t\t\t<options>\n-\t\t\t\t<option value=\"uninitialised\">Uninitialised</option>\n-\t\t\t\t<option value=\"paused\">Paused</option>\n-\t\t\t\t<option value=\"ok_cutting\">Mowing</option>\n-\t\t\t\t<option value=\"ok_searching\">Searching charging station</option>\n-\t\t\t\t<option value=\"ok_charging\">Charging</option>\n-\t\t\t\t<option value=\"ok_leaving\">Mowing</option>\n-\t\t\t\t<option value=\"wait_updating\">Updating ...</option>\n-\t\t\t\t<option value=\"wait_power_up\">Powering up ...</option>\n-\t\t\t\t<option value=\"parked_timer\">Parked on schedule</option>\n-\t\t\t\t<option value=\"parked_park_selected\">Parked</option>\n-\t\t\t\t<option value=\"off_disabled\">The mower is turned off</option>\n-\t\t\t\t<option value=\"off_hatch_open\">Disabled. Hatch open</option>\n-\t\t\t\t<option value=\"unknown\">Unknown</option>\n-\t\t\t\t<option value=\"error\">Error</option>\n-\t\t\t\t<option value=\"error_at_power_up\">Error</option>\n-\t\t\t\t<option value=\"off_hatch_closed\">Disabled. Manual start needed</option>\n-\t\t\t\t<option value=\"ok_cutting_timer_overridden\">Manual mowing</option>\n-\t\t\t\t<option value=\"parked_autotimer\">Parked due to SensorControl</option>\n-\t\t\t\t<option value=\"parked_daily_limit_reached\">Completed</option>\n-\t\t\t\t<option value=\"undefined\">Undefined</option>\n-\t\t\t</options>\n-\t\t</state>\n-\t</channel-type>\n-\n-\t<channel-type id=\"error\" advanced=\"true\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Mower Error</label>\n-\t\t<description>Mower Error</description>\n-\t\t<state readOnly=\"true\">\n-\t\t\t<options>\n-\t\t\t\t<option value=\"no_message\">No message</option>\n-\t\t\t\t<option value=\"outside_working_area\">Outside working area</option>\n-\t\t\t\t<option value=\"no_loop_signal\">No loop signal</option>\n-\t\t\t\t<option value=\"wrong_loop_signal\">Wrong loop signal</option>\n-\t\t\t\t<option value=\"loop_sensor_problem_front\">Loop sensor problem, front</option>\n-\t\t\t\t<option value=\"loop_sensor_problem_rear\">Loop sensor problem, rear</option>\n-\t\t\t\t<option value=\"loop_sensor_problem_left\">Loop sensor problem, left</option>\n-\t\t\t\t<option value=\"loop_sensor_problem_right\">Loop sensor problem, right</option>\n-\t\t\t\t<option value=\"wrong_pin_code\">Wrong pin code</option>\n-\t\t\t\t<option value=\"trapped\">Trapped</option>\n-\t\t\t\t<option value=\"upside_down\">Upside down</option>\n-\t\t\t\t<option value=\"low_battery\">Low battery</option>\n-\t\t\t\t<option value=\"empty_battery\">Empty battery</option>\n-\t\t\t\t<option value=\"no_drive\">Disabled. Hatch open</option>\n-\t\t\t\t<option value=\"temporarily_lifted\">Temporary lifted</option>\n-\t\t\t\t<option value=\"lifted\">Lifted</option>\n-\t\t\t\t<option value=\"stuck_in_charging_station\">Stuck in charging station</option>\n-\t\t\t\t<option value=\"charging_station_blocked\">Charging station blocked</option>\n-\t\t\t\t<option value=\"collision_sensor_problem_rear\">Collision sensor problem, rear</option>\n-\t\t\t\t<option value=\"collision_sensor_problem_front\">Collision sensor problem, front</option>\n-\t\t\t\t<option value=\"wheel_motor_blocked_right\">Wheel motor blocked, right</option>\n-\t\t\t\t<option value=\"wheel_motor_blocked_left\">Wheel motor blocked, left</option>\n-\t\t\t\t<option value=\"wheel_drive_problem_right\">Wheel drive problem, right</option>\n-\t\t\t\t<option value=\"wheel_drive_problem_left\">Wheel drive problem, left</option>\n-\t\t\t\t<option value=\"cutting_motor_drive_defect\">Cutting motor drive defect</option>\n-\t\t\t\t<option value=\"cutting_system_blocked\">Cutting system blocked</option>\n-\t\t\t\t<option value=\"invalid_sub_device_combination\">Invalid sub-device combination</option>\n-\t\t\t\t<option value=\"settings_restored\">Settings restored</option>\n-\t\t\t\t<option value=\"memory_circuit_problem\">Memory circuit problem</option>\n-\t\t\t\t<option value=\"slope_too_steep\">Slope too steep</option>\n-\t\t\t\t<option value=\"charging_system_problem\">Charging system problem</option>\n-\t\t\t\t<option value=\"stop_button_problem\">Stop button problem</option>\n-\t\t\t\t<option value=\"tilt_sensor_problem\">Tilt sensor problem</option>\n-\t\t\t\t<option value=\"mower_tilted\">Mower tilted</option>\n-\t\t\t\t<option value=\"wheel_motor_overloaded_right\">Wheel motor overloaded, right</option>\n-\t\t\t\t<option value=\"wheel_motor_overloaded_left\">Wheel motor overloaded, left</option>\n-\t\t\t\t<option value=\"charging_current_too_high\">Charging current too high</option>\n-\t\t\t\t<option value=\"electronic_problem\">Electronic problem</option>\n-\t\t\t\t<option value=\"cutting_motor_problem\">Cutting motor problem</option>\n-\t\t\t\t<option value=\"limited_cutting_height_range\">Limited cutting height range</option>\n-\t\t\t\t<option value=\"unexpected_cutting_height_adj\">Unexpected cutting height adj</option>\n-\t\t\t\t<option value=\"cutting_height_problem_drive\">Cutting height problem drive</option>\n-\t\t\t\t<option value=\"cutting_height_problem_curr\">Cutting height problem curr</option>\n-\t\t\t\t<option value=\"cutting_height_problem_dir\">Cutting height problem dir</option>\n-\t\t\t\t<option value=\"cutting_height_blocked\">Cutting height blocked</option>\n-\t\t\t\t<option value=\"cutting_height_problem\">Cutting height problem</option>\n-\t\t\t\t<option value=\"no_response_from_charger\">No response from charger</option>\n-\t\t\t\t<option value=\"ultrasonic_problem\">Ultrasonic problem</option>\n-\t\t\t\t<option value=\"temporary_problem\">Temporary problem</option>\n-\t\t\t\t<option value=\"guide_1_not_found\">Guide 1 not found</option>\n-\t\t\t\t<option value=\"guide_2_not_found\">Guide 2 not found</option>\n-\t\t\t\t<option value=\"guide_3_not_found\">Guide 3 not found</option>\n-\t\t\t\t<option value=\"gps_tracker_module_error\">GPS tracker module error</option>\n-\t\t\t\t<option value=\"weak_gps_signal\">Weak gps signal</option>\n-\t\t\t\t<option value=\"difficult_finding_home\">Difficult finding home</option>\n-\t\t\t\t<option value=\"guide_calibration_accomplished\">Guide calibration accomplished</option>\n-\t\t\t\t<option value=\"guide_calibration_failed\">Guide calibration failed</option>\n-\t\t\t\t<option value=\"temporary_battery_problem\">Temporary battery problem</option>\n-\t\t\t\t<option value=\"battery_problem\">Battery problem</option>\n-\t\t\t\t<option value=\"too_many_batteries\">Too many batteries</option>\n-\t\t\t\t<option value=\"alarm_mower_switched_off\">Alarm! Mower switched off</option>\n-\t\t\t\t<option value=\"alarm_mower_stopped\">Alarm! Mower stopped</option>\n-\t\t\t\t<option value=\"alarm_mower_lifted\">Alarm! Mower lifted</option>\n-\t\t\t\t<option value=\"alarm_mower_tilted\">Alarm! Mower tilted</option>\n-\t\t\t\t<option value=\"alarm_mower_in_motion\">Alarm! Mower in motion</option>\n-\t\t\t\t<option value=\"alarm_outside_geofence\">Alarm outside geofence</option>\n-\t\t\t\t<option value=\"connection_changed\">Connection changed</option>\n-\t\t\t\t<option value=\"connection_not_changed\">Connection not changed</option>\n-\t\t\t\t<option value=\"com_board_not_available\">COM board not available</option>\n-\t\t\t\t<option value=\"slipped\">Slipped</option>\n-\t\t\t\t<option value=\"invalid_battery_combination\">Invalid battery combination</option>\n-\t\t\t\t<option value=\"imbalanced_cutting_disc\">Imbalanced cutting disc</option>\n-\t\t\t\t<option value=\"safety_function_faulty\">Safety function faulty</option>\n-\t\t\t</options>\n-\t\t</state>\n-\t</channel-type>\n+\t\t<channel-groups>\n+\t\t\t<channel-group id=\"common\" typeId=\"commonProperties\"/>\n+\t\t\t<channel-group id=\"valve\" typeId=\"valveProperties\"/>\n+\t\t\t<channel-group id=\"valve_commands\" typeId=\"valveCommands\"/>\n+\t\t\t<channel-group id=\"valveSet\" typeId=\"valveSetProperties\"/>\n+\t\t\t<channel-group id=\"valveSet_commands\" typeId=\"valveSetCommands\"/>\n+\t\t</channel-groups>\n+\t\t<properties>\n+\t\t\t<!-- common -->\n+\t\t\t<property name=\"serial\"/>\n+\t\t\t<property name=\"modelType\"/>\n+\t\t</properties>\n+\t</thing-type>\n \n-\t<channel-type id=\"sourceForNextStart\" advanced=\"true\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Source for Next Start</label>\n-\t\t<description>The source for the next start</description>\n-\t\t<state readOnly=\"true\">\n-\t\t\t<options>\n-\t\t\t\t<option value=\"no_source\">No source</option>\n-\t\t\t\t<option value=\"completed_cutting_daily_limit\">Completed cutting daily limit</option>\n-\t\t\t\t<option value=\"week_timer\">Week timer</option>\n-\t\t\t\t<option value=\"countdown_timer\">Countdown timer</option>\n-\t\t\t\t<option value=\"mower_charging\">Mower charging</option>\n-\t\t\t\t<option value=\"completed_cutting_autotimer\">Completed cutting autotimer</option>\n-\t\t\t\t<option value=\"undefined\">Undefined</option>\n-\t\t\t</options>\n-\t\t</state>\n-\t</channel-type>\n+\t<!-- ############################### Sensor ############################### -->\n \n-\t<channel-type id=\"timestampNextStart\">\n-\t\t<item-type>DateTime</item-type>\n-\t\t<label>Timestamp Next Start</label>\n-\t\t<description>Timestamp of the next start</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t<thing-type id=\"sensor\">\n+\t\t<supported-bridge-type-refs>\n+\t\t\t<bridge-type-ref id=\"account\"/>\n+\t\t</supported-bridge-type-refs>\n \n-\t<channel-type id=\"overrideEndTime\" advanced=\"true\">\n-\t\t<item-type>DateTime</item-type>\n-\t\t<label>Override End Time</label>\n-\t\t<description>Override End Time</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t\t<label>Gardena smart Sensor</label>\n+\t\t<description>Represents a Gardena smart Sensor</description>\n \n-\t<channel-type id=\"temperature\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Temperature</label>\n-\t\t<description>Temperature</description>\n-\t\t<state pattern=\"%d \u00b0C\" readOnly=\"true\"/>\n-\t</channel-type>\n+\t\t<channel-groups>\n+\t\t\t<channel-group id=\"common\" typeId=\"commonProperties\"/>\n+\t\t\t<channel-group id=\"sensor\" typeId=\"sensorProperties\"/>\n+\t\t</channel-groups>\n+\t\t<properties>\n+\t\t\t<!-- common -->\n+\t\t\t<property name=\"serial\"/>\n+\t\t\t<property name=\"modelType\"/>\n+\t\t</properties>\n+\t</thing-type>\n \n-\t<channel-group-type id=\"firmware\">\n-\t\t<label>Firmware</label>\n-\t\t<description>Information about the firmware</description>\n-\t\t<channels>\n-\t\t\t<channel id=\"firmware_status\" typeId=\"firmwareStatus\"/>\n-\t\t\t<channel id=\"firmware_upload_progress\" typeId=\"firmwareUploadProgress\"/>\n-\t\t\t<channel id=\"firmware_available_version\" typeId=\"firmwareAvailableVersion\"/>\n-\t\t</channels>\n-\t</channel-group-type>\n+\t<!-- ############################### Pressure Pump ############################### -->\n \n-\t<channel-type id=\"firmwareStatus\" advanced=\"true\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Status</label>\n-\t\t<description>The firmware status</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t<thing-type id=\"pump\">\n+\t\t<supported-bridge-type-refs>\n+\t\t\t<bridge-type-ref id=\"account\"/>\n+\t\t</supported-bridge-type-refs>\n \n-\t<channel-type id=\"firmwareUploadProgress\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Upload Progress</label>\n-\t\t<description>Firmware upload in progress</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t\t<label>Gardena smart Pressure Pump</label>\n+\t\t<description>Represents a Gardena smart Pressure Pump</description>\n \n-\t<channel-type id=\"firmwareAvailableVersion\" advanced=\"true\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Available Version</label>\n-\t\t<description>Available firmware version</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t\t<channel-groups>\n+\t\t\t<channel-group id=\"common\" typeId=\"commonProperties\"/>\n+\t\t\t<channel-group id=\"valve\" typeId=\"valveProperties\"/>\n+\t\t\t<channel-group id=\"valve_commands\" typeId=\"valveCommands\"/>\n+\t\t</channel-groups>\n+\t\t<properties>\n+\t\t\t<!-- common -->\n+\t\t\t<property name=\"serial\"/>\n+\t\t\t<property name=\"modelType\"/>\n+\t\t</properties>\n+\t</thing-type>\n \n-\t<channel-group-type id=\"mowerStats\">\n-\t\t<label>Robotic Mower Statistics</label>\n-\t\t<description>Statistics about the robotic mower</description>\n-\t\t<channels>\n-\t\t\t<channel id=\"cutting_time\" typeId=\"cuttingTime\"/>\n-\t\t\t<channel id=\"charging_cycles\" typeId=\"chargingCycles\"/>\n-\t\t\t<channel id=\"collisions\" typeId=\"collisions\"/>\n-\t\t\t<channel id=\"running_time\" typeId=\"runningTime\"/>\n-\t\t</channels>\n-\t</channel-group-type>\n+\t<!-- ############################### Power ############################### -->\n \n-\t<channel-type id=\"cuttingTime\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Cutting Time</label>\n-\t\t<description>The cutting time</description>\n-\t\t<state readOnly=\"true\" pattern=\"%d h\"/>\n-\t</channel-type>\n+\t<thing-type id=\"power\">\n+\t\t<supported-bridge-type-refs>\n+\t\t\t<bridge-type-ref id=\"account\"/>\n+\t\t</supported-bridge-type-refs>\n \n-\t<channel-type id=\"chargingCycles\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Charging Cycles</label>\n-\t\t<description>The charging cycles</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t\t<label>Gardena smart Power Adapter</label>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "eb02adf3ea4c748f4b3ec438ee5599ed52609bc3"}, "originalPosition": 403}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM4MTY4NzczOnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.gardena/src/main/resources/OH-INF/thing/thing-types.xml", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxNzo0ODowMlrOIBs7qg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxNzo0ODowMlrOIBs7qg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODY1NTY1OA==", "bodyText": "See above", "url": "https://github.com/openhab/openhab-addons/pull/8869#discussion_r538655658", "createdAt": "2020-12-08T17:48:02Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.gardena/src/main/resources/OH-INF/thing/thing-types.xml", "diffHunk": "@@ -10,1162 +10,633 @@\n \t\t\t<bridge-type-ref id=\"account\"/>\n \t\t</supported-bridge-type-refs>\n \n-\t\t<label>Gardena Smart Sileno Mower</label>\n-\t\t<description>A Gardena Smart Sileno mower</description>\n+\t\t<label>Gardena smart SILENO Mower</label>\n+\t\t<description>Represents any Gardena smart SILENO mower model</description>\n \n \t\t<channel-groups>\n-\t\t\t<channel-group id=\"device_info\" typeId=\"deviceInfo\"/>\n-\t\t\t<channel-group id=\"battery\" typeId=\"rechargeableBattery\"/>\n-\t\t\t<channel-group id=\"radio\" typeId=\"radio\"/>\n-\t\t\t<channel-group id=\"mower\" typeId=\"mower\"/>\n-\t\t\t<channel-group id=\"mower_stats\" typeId=\"mowerStats\"/>\n-\t\t\t<channel-group id=\"firmware\" typeId=\"firmware\"/>\n+\t\t\t<channel-group id=\"common\" typeId=\"commonProperties\"/>\n+\t\t\t<channel-group id=\"mower\" typeId=\"mowerProperties\"/>\n+\t\t\t<channel-group id=\"mower_commands\" typeId=\"mowerCommands\"/>\n \t\t</channel-groups>\n \t\t<properties>\n-\t\t\t<!-- device info -->\n-\t\t\t<property name=\"manufacturer\"/>\n-\t\t\t<property name=\"product\"/>\n-\t\t\t<property name=\"serialNumber\"/>\n-\t\t\t<property name=\"sgtin\"/>\n-\t\t\t<property name=\"version\"/>\n-\t\t\t<property name=\"category\"/>\n+\t\t\t<!-- common -->\n+\t\t\t<property name=\"serial\"/>\n+\t\t\t<property name=\"modelType\"/>\n \t\t</properties>\n \t</thing-type>\n \n-\t<channel-group-type id=\"deviceInfo\">\n-\t\t<label>Device Info</label>\n-\t\t<description>Information about the device</description>\n-\t\t<channels>\n-\t\t\t<channel id=\"last_time_online\" typeId=\"lastTimeOnline\"/>\n-\t\t</channels>\n-\t</channel-group-type>\n-\n-\t<channel-group-type id=\"rechargeableBattery\">\n-\t\t<label>Battery Info</label>\n-\t\t<description>Information about the rechargeable battery</description>\n-\t\t<channels>\n-\t\t\t<channel id=\"level\" typeId=\"system.battery-level\"/>\n-\t\t\t<channel id=\"charging\" typeId=\"charging\"/>\n-\t\t</channels>\n-\t</channel-group-type>\n-\n-\t<channel-group-type id=\"radio\">\n-\t\t<label>Radio Link</label>\n-\t\t<description>Information about the radio link</description>\n-\t\t<channels>\n-\t\t\t<channel id=\"quality\" typeId=\"radioQuality\"/>\n-\t\t\t<channel id=\"state\" typeId=\"system.signal-strength\"/>\n-\t\t</channels>\n-\t</channel-group-type>\n-\n-\t<channel-group-type id=\"mower\">\n-\t\t<label>Robotic Mower</label>\n-\t\t<description>Information about the robotic mower</description>\n-\t\t<channels>\n-\t\t\t<channel id=\"manual_operation\" typeId=\"manualOperation\"/>\n-\t\t\t<channel id=\"status\" typeId=\"status\"/>\n-\t\t\t<channel id=\"error\" typeId=\"error\"/>\n-\t\t\t<channel id=\"source_for_next_start\" typeId=\"sourceForNextStart\"/>\n-\t\t\t<channel id=\"timestamp_next_start\" typeId=\"timestampNextStart\"/>\n-\t\t\t<channel id=\"override_end_time\" typeId=\"overrideEndTime\"/>\n-\t\t\t<channel id=\"park_until_further_notice\" typeId=\"parkUntilFurtherNotice\"/>\n-\t\t\t<channel id=\"park_until_next_timer\" typeId=\"parkUntilNextTimer\"/>\n-\t\t\t<channel id=\"start_override_timer\" typeId=\"startOverrideTimer\"/>\n-\t\t\t<channel id=\"start_resume_schedule\" typeId=\"startResumeSchedule\"/>\n-\t\t\t<channel id=\"duration_property\" typeId=\"mowerDurationProperty\"/>\n-\t\t</channels>\n-\t</channel-group-type>\n-\n-\t<channel-type id=\"mowerDurationProperty\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Mowing Time</label>\n-\t\t<description>Mowing time in minutes</description>\n-\t\t<state pattern=\"%d min\" min=\"1\" max=\"1440\" step=\"1\"/>\n-\t</channel-type>\n-\n-\t<channel-type id=\"parkUntilFurtherNotice\">\n-\t\t<item-type>Switch</item-type>\n-\t\t<label>Park and Pause All Timers</label>\n-\t\t<description>Park and pause all timers</description>\n-\t</channel-type>\n-\n-\t<channel-type id=\"parkUntilNextTimer\">\n-\t\t<item-type>Switch</item-type>\n-\t\t<label>Park Until Next Timer</label>\n-\t\t<description>Park until next timer</description>\n-\t</channel-type>\n-\n-\t<channel-type id=\"startResumeSchedule\">\n-\t\t<item-type>Switch</item-type>\n-\t\t<label>Start Resume Schedule</label>\n-\t\t<description>Start resume schedule</description>\n-\t</channel-type>\n-\n-\t<channel-type id=\"startOverrideTimer\">\n-\t\t<item-type>Switch</item-type>\n-\t\t<label>Override Timer</label>\n-\t\t<description>Starts the mower for the specified duration</description>\n-\t</channel-type>\n-\n-\t<channel-type id=\"lastTimeOnline\" advanced=\"true\">\n-\t\t<item-type>DateTime</item-type>\n-\t\t<label>Last Time Online</label>\n-\t\t<description>Last time the device was online</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n-\n-\t<channel-type id=\"charging\" advanced=\"true\">\n-\t\t<item-type>Switch</item-type>\n-\t\t<label>Battery Charging</label>\n-\t\t<description>Battery Charging</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t<!-- ############################### Watering Computer ############################### -->\n \n-\t<channel-type id=\"radioQuality\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Radio Link Quality</label>\n-\t\t<description>Radio Link Quality</description>\n-\t\t<state pattern=\"%d %%\" readOnly=\"true\"/>\n-\t</channel-type>\n+\t<thing-type id=\"water_control\">\n+\t\t<supported-bridge-type-refs>\n+\t\t\t<bridge-type-ref id=\"account\"/>\n+\t\t</supported-bridge-type-refs>\n \n-\t<channel-type id=\"manualOperation\" advanced=\"true\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Manual Operation</label>\n-\t\t<description>The mower is controlled manually</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t\t<label>Gardena smart Water Control</label>\n+\t\t<description>Represents a Gardena smart Water Control</description>\n \n-\t<channel-type id=\"status\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Mower Status</label>\n-\t\t<description>The mower status</description>\n-\t\t<state readOnly=\"true\">\n-\t\t\t<options>\n-\t\t\t\t<option value=\"uninitialised\">Uninitialised</option>\n-\t\t\t\t<option value=\"paused\">Paused</option>\n-\t\t\t\t<option value=\"ok_cutting\">Mowing</option>\n-\t\t\t\t<option value=\"ok_searching\">Searching charging station</option>\n-\t\t\t\t<option value=\"ok_charging\">Charging</option>\n-\t\t\t\t<option value=\"ok_leaving\">Mowing</option>\n-\t\t\t\t<option value=\"wait_updating\">Updating ...</option>\n-\t\t\t\t<option value=\"wait_power_up\">Powering up ...</option>\n-\t\t\t\t<option value=\"parked_timer\">Parked on schedule</option>\n-\t\t\t\t<option value=\"parked_park_selected\">Parked</option>\n-\t\t\t\t<option value=\"off_disabled\">The mower is turned off</option>\n-\t\t\t\t<option value=\"off_hatch_open\">Disabled. Hatch open</option>\n-\t\t\t\t<option value=\"unknown\">Unknown</option>\n-\t\t\t\t<option value=\"error\">Error</option>\n-\t\t\t\t<option value=\"error_at_power_up\">Error</option>\n-\t\t\t\t<option value=\"off_hatch_closed\">Disabled. Manual start needed</option>\n-\t\t\t\t<option value=\"ok_cutting_timer_overridden\">Manual mowing</option>\n-\t\t\t\t<option value=\"parked_autotimer\">Parked due to SensorControl</option>\n-\t\t\t\t<option value=\"parked_daily_limit_reached\">Completed</option>\n-\t\t\t\t<option value=\"undefined\">Undefined</option>\n-\t\t\t</options>\n-\t\t</state>\n-\t</channel-type>\n-\n-\t<channel-type id=\"error\" advanced=\"true\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Mower Error</label>\n-\t\t<description>Mower Error</description>\n-\t\t<state readOnly=\"true\">\n-\t\t\t<options>\n-\t\t\t\t<option value=\"no_message\">No message</option>\n-\t\t\t\t<option value=\"outside_working_area\">Outside working area</option>\n-\t\t\t\t<option value=\"no_loop_signal\">No loop signal</option>\n-\t\t\t\t<option value=\"wrong_loop_signal\">Wrong loop signal</option>\n-\t\t\t\t<option value=\"loop_sensor_problem_front\">Loop sensor problem, front</option>\n-\t\t\t\t<option value=\"loop_sensor_problem_rear\">Loop sensor problem, rear</option>\n-\t\t\t\t<option value=\"loop_sensor_problem_left\">Loop sensor problem, left</option>\n-\t\t\t\t<option value=\"loop_sensor_problem_right\">Loop sensor problem, right</option>\n-\t\t\t\t<option value=\"wrong_pin_code\">Wrong pin code</option>\n-\t\t\t\t<option value=\"trapped\">Trapped</option>\n-\t\t\t\t<option value=\"upside_down\">Upside down</option>\n-\t\t\t\t<option value=\"low_battery\">Low battery</option>\n-\t\t\t\t<option value=\"empty_battery\">Empty battery</option>\n-\t\t\t\t<option value=\"no_drive\">Disabled. Hatch open</option>\n-\t\t\t\t<option value=\"temporarily_lifted\">Temporary lifted</option>\n-\t\t\t\t<option value=\"lifted\">Lifted</option>\n-\t\t\t\t<option value=\"stuck_in_charging_station\">Stuck in charging station</option>\n-\t\t\t\t<option value=\"charging_station_blocked\">Charging station blocked</option>\n-\t\t\t\t<option value=\"collision_sensor_problem_rear\">Collision sensor problem, rear</option>\n-\t\t\t\t<option value=\"collision_sensor_problem_front\">Collision sensor problem, front</option>\n-\t\t\t\t<option value=\"wheel_motor_blocked_right\">Wheel motor blocked, right</option>\n-\t\t\t\t<option value=\"wheel_motor_blocked_left\">Wheel motor blocked, left</option>\n-\t\t\t\t<option value=\"wheel_drive_problem_right\">Wheel drive problem, right</option>\n-\t\t\t\t<option value=\"wheel_drive_problem_left\">Wheel drive problem, left</option>\n-\t\t\t\t<option value=\"cutting_motor_drive_defect\">Cutting motor drive defect</option>\n-\t\t\t\t<option value=\"cutting_system_blocked\">Cutting system blocked</option>\n-\t\t\t\t<option value=\"invalid_sub_device_combination\">Invalid sub-device combination</option>\n-\t\t\t\t<option value=\"settings_restored\">Settings restored</option>\n-\t\t\t\t<option value=\"memory_circuit_problem\">Memory circuit problem</option>\n-\t\t\t\t<option value=\"slope_too_steep\">Slope too steep</option>\n-\t\t\t\t<option value=\"charging_system_problem\">Charging system problem</option>\n-\t\t\t\t<option value=\"stop_button_problem\">Stop button problem</option>\n-\t\t\t\t<option value=\"tilt_sensor_problem\">Tilt sensor problem</option>\n-\t\t\t\t<option value=\"mower_tilted\">Mower tilted</option>\n-\t\t\t\t<option value=\"wheel_motor_overloaded_right\">Wheel motor overloaded, right</option>\n-\t\t\t\t<option value=\"wheel_motor_overloaded_left\">Wheel motor overloaded, left</option>\n-\t\t\t\t<option value=\"charging_current_too_high\">Charging current too high</option>\n-\t\t\t\t<option value=\"electronic_problem\">Electronic problem</option>\n-\t\t\t\t<option value=\"cutting_motor_problem\">Cutting motor problem</option>\n-\t\t\t\t<option value=\"limited_cutting_height_range\">Limited cutting height range</option>\n-\t\t\t\t<option value=\"unexpected_cutting_height_adj\">Unexpected cutting height adj</option>\n-\t\t\t\t<option value=\"cutting_height_problem_drive\">Cutting height problem drive</option>\n-\t\t\t\t<option value=\"cutting_height_problem_curr\">Cutting height problem curr</option>\n-\t\t\t\t<option value=\"cutting_height_problem_dir\">Cutting height problem dir</option>\n-\t\t\t\t<option value=\"cutting_height_blocked\">Cutting height blocked</option>\n-\t\t\t\t<option value=\"cutting_height_problem\">Cutting height problem</option>\n-\t\t\t\t<option value=\"no_response_from_charger\">No response from charger</option>\n-\t\t\t\t<option value=\"ultrasonic_problem\">Ultrasonic problem</option>\n-\t\t\t\t<option value=\"temporary_problem\">Temporary problem</option>\n-\t\t\t\t<option value=\"guide_1_not_found\">Guide 1 not found</option>\n-\t\t\t\t<option value=\"guide_2_not_found\">Guide 2 not found</option>\n-\t\t\t\t<option value=\"guide_3_not_found\">Guide 3 not found</option>\n-\t\t\t\t<option value=\"gps_tracker_module_error\">GPS tracker module error</option>\n-\t\t\t\t<option value=\"weak_gps_signal\">Weak gps signal</option>\n-\t\t\t\t<option value=\"difficult_finding_home\">Difficult finding home</option>\n-\t\t\t\t<option value=\"guide_calibration_accomplished\">Guide calibration accomplished</option>\n-\t\t\t\t<option value=\"guide_calibration_failed\">Guide calibration failed</option>\n-\t\t\t\t<option value=\"temporary_battery_problem\">Temporary battery problem</option>\n-\t\t\t\t<option value=\"battery_problem\">Battery problem</option>\n-\t\t\t\t<option value=\"too_many_batteries\">Too many batteries</option>\n-\t\t\t\t<option value=\"alarm_mower_switched_off\">Alarm! Mower switched off</option>\n-\t\t\t\t<option value=\"alarm_mower_stopped\">Alarm! Mower stopped</option>\n-\t\t\t\t<option value=\"alarm_mower_lifted\">Alarm! Mower lifted</option>\n-\t\t\t\t<option value=\"alarm_mower_tilted\">Alarm! Mower tilted</option>\n-\t\t\t\t<option value=\"alarm_mower_in_motion\">Alarm! Mower in motion</option>\n-\t\t\t\t<option value=\"alarm_outside_geofence\">Alarm outside geofence</option>\n-\t\t\t\t<option value=\"connection_changed\">Connection changed</option>\n-\t\t\t\t<option value=\"connection_not_changed\">Connection not changed</option>\n-\t\t\t\t<option value=\"com_board_not_available\">COM board not available</option>\n-\t\t\t\t<option value=\"slipped\">Slipped</option>\n-\t\t\t\t<option value=\"invalid_battery_combination\">Invalid battery combination</option>\n-\t\t\t\t<option value=\"imbalanced_cutting_disc\">Imbalanced cutting disc</option>\n-\t\t\t\t<option value=\"safety_function_faulty\">Safety function faulty</option>\n-\t\t\t</options>\n-\t\t</state>\n-\t</channel-type>\n+\t\t<channel-groups>\n+\t\t\t<channel-group id=\"common\" typeId=\"commonProperties\"/>\n+\t\t\t<channel-group id=\"valve\" typeId=\"valveProperties\"/>\n+\t\t\t<channel-group id=\"valve_commands\" typeId=\"valveCommands\"/>\n+\t\t\t<channel-group id=\"valveSet\" typeId=\"valveSetProperties\"/>\n+\t\t\t<channel-group id=\"valveSet_commands\" typeId=\"valveSetCommands\"/>\n+\t\t</channel-groups>\n+\t\t<properties>\n+\t\t\t<!-- common -->\n+\t\t\t<property name=\"serial\"/>\n+\t\t\t<property name=\"modelType\"/>\n+\t\t</properties>\n+\t</thing-type>\n \n-\t<channel-type id=\"sourceForNextStart\" advanced=\"true\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Source for Next Start</label>\n-\t\t<description>The source for the next start</description>\n-\t\t<state readOnly=\"true\">\n-\t\t\t<options>\n-\t\t\t\t<option value=\"no_source\">No source</option>\n-\t\t\t\t<option value=\"completed_cutting_daily_limit\">Completed cutting daily limit</option>\n-\t\t\t\t<option value=\"week_timer\">Week timer</option>\n-\t\t\t\t<option value=\"countdown_timer\">Countdown timer</option>\n-\t\t\t\t<option value=\"mower_charging\">Mower charging</option>\n-\t\t\t\t<option value=\"completed_cutting_autotimer\">Completed cutting autotimer</option>\n-\t\t\t\t<option value=\"undefined\">Undefined</option>\n-\t\t\t</options>\n-\t\t</state>\n-\t</channel-type>\n+\t<!-- ############################### Sensor ############################### -->\n \n-\t<channel-type id=\"timestampNextStart\">\n-\t\t<item-type>DateTime</item-type>\n-\t\t<label>Timestamp Next Start</label>\n-\t\t<description>Timestamp of the next start</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t<thing-type id=\"sensor\">\n+\t\t<supported-bridge-type-refs>\n+\t\t\t<bridge-type-ref id=\"account\"/>\n+\t\t</supported-bridge-type-refs>\n \n-\t<channel-type id=\"overrideEndTime\" advanced=\"true\">\n-\t\t<item-type>DateTime</item-type>\n-\t\t<label>Override End Time</label>\n-\t\t<description>Override End Time</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t\t<label>Gardena smart Sensor</label>\n+\t\t<description>Represents a Gardena smart Sensor</description>\n \n-\t<channel-type id=\"temperature\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Temperature</label>\n-\t\t<description>Temperature</description>\n-\t\t<state pattern=\"%d \u00b0C\" readOnly=\"true\"/>\n-\t</channel-type>\n+\t\t<channel-groups>\n+\t\t\t<channel-group id=\"common\" typeId=\"commonProperties\"/>\n+\t\t\t<channel-group id=\"sensor\" typeId=\"sensorProperties\"/>\n+\t\t</channel-groups>\n+\t\t<properties>\n+\t\t\t<!-- common -->\n+\t\t\t<property name=\"serial\"/>\n+\t\t\t<property name=\"modelType\"/>\n+\t\t</properties>\n+\t</thing-type>\n \n-\t<channel-group-type id=\"firmware\">\n-\t\t<label>Firmware</label>\n-\t\t<description>Information about the firmware</description>\n-\t\t<channels>\n-\t\t\t<channel id=\"firmware_status\" typeId=\"firmwareStatus\"/>\n-\t\t\t<channel id=\"firmware_upload_progress\" typeId=\"firmwareUploadProgress\"/>\n-\t\t\t<channel id=\"firmware_available_version\" typeId=\"firmwareAvailableVersion\"/>\n-\t\t</channels>\n-\t</channel-group-type>\n+\t<!-- ############################### Pressure Pump ############################### -->\n \n-\t<channel-type id=\"firmwareStatus\" advanced=\"true\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Status</label>\n-\t\t<description>The firmware status</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t<thing-type id=\"pump\">\n+\t\t<supported-bridge-type-refs>\n+\t\t\t<bridge-type-ref id=\"account\"/>\n+\t\t</supported-bridge-type-refs>\n \n-\t<channel-type id=\"firmwareUploadProgress\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Upload Progress</label>\n-\t\t<description>Firmware upload in progress</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t\t<label>Gardena smart Pressure Pump</label>\n+\t\t<description>Represents a Gardena smart Pressure Pump</description>\n \n-\t<channel-type id=\"firmwareAvailableVersion\" advanced=\"true\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Available Version</label>\n-\t\t<description>Available firmware version</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t\t<channel-groups>\n+\t\t\t<channel-group id=\"common\" typeId=\"commonProperties\"/>\n+\t\t\t<channel-group id=\"valve\" typeId=\"valveProperties\"/>\n+\t\t\t<channel-group id=\"valve_commands\" typeId=\"valveCommands\"/>\n+\t\t</channel-groups>\n+\t\t<properties>\n+\t\t\t<!-- common -->\n+\t\t\t<property name=\"serial\"/>\n+\t\t\t<property name=\"modelType\"/>\n+\t\t</properties>\n+\t</thing-type>\n \n-\t<channel-group-type id=\"mowerStats\">\n-\t\t<label>Robotic Mower Statistics</label>\n-\t\t<description>Statistics about the robotic mower</description>\n-\t\t<channels>\n-\t\t\t<channel id=\"cutting_time\" typeId=\"cuttingTime\"/>\n-\t\t\t<channel id=\"charging_cycles\" typeId=\"chargingCycles\"/>\n-\t\t\t<channel id=\"collisions\" typeId=\"collisions\"/>\n-\t\t\t<channel id=\"running_time\" typeId=\"runningTime\"/>\n-\t\t</channels>\n-\t</channel-group-type>\n+\t<!-- ############################### Power ############################### -->\n \n-\t<channel-type id=\"cuttingTime\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Cutting Time</label>\n-\t\t<description>The cutting time</description>\n-\t\t<state readOnly=\"true\" pattern=\"%d h\"/>\n-\t</channel-type>\n+\t<thing-type id=\"power\">\n+\t\t<supported-bridge-type-refs>\n+\t\t\t<bridge-type-ref id=\"account\"/>\n+\t\t</supported-bridge-type-refs>\n \n-\t<channel-type id=\"chargingCycles\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Charging Cycles</label>\n-\t\t<description>The charging cycles</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t\t<label>Gardena smart Power Adapter</label>\n+\t\t<description>Represents a Gardena smart Power Adapter</description>\n \n-\t<channel-type id=\"collisions\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Collisions</label>\n-\t\t<description>The number of collisions</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t\t<channel-groups>\n+\t\t\t<channel-group id=\"common\" typeId=\"commonProperties\"/>\n+\t\t\t<channel-group id=\"powerSocket\" typeId=\"powerSocketProperties\"/>\n+\t\t\t<channel-group id=\"powerSocket_commands\" typeId=\"powerSocketCommands\"/>\n+\t\t</channel-groups>\n+\t\t<properties>\n+\t\t\t<!-- common -->\n+\t\t\t<property name=\"serial\"/>\n+\t\t\t<property name=\"modelType\"/>\n+\t\t</properties>\n+\t</thing-type>\n \n-\t<channel-type id=\"runningTime\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Running Time</label>\n-\t\t<description>Running time</description>\n-\t\t<state readOnly=\"true\" pattern=\"%d h\"/>\n-\t</channel-type>\n+\t<!-- ############################### Irrigation Control ############################### -->\n \n-\t<!-- ############################### Watering Computer ############################### -->\n-\t<thing-type id=\"watering_computer\">\n+\t<thing-type id=\"irrigation_control\">\n \t\t<supported-bridge-type-refs>\n \t\t\t<bridge-type-ref id=\"account\"/>\n \t\t</supported-bridge-type-refs>\n \n-\t\t<label>Gardena Smart Watering Computer</label>\n-\t\t<description>Represents a Gardena Smart Watering Computer</description>\n+\t\t<label>Gardena smart Irrigation Control</label>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "eb02adf3ea4c748f4b3ec438ee5599ed52609bc3"}, "originalPosition": 441}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM4MTY5NDI2OnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.gardena/src/main/resources/OH-INF/thing/thing-types.xml", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxNzo0OTowNFrOIBtAIw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxNzo0OTowNFrOIBtAIw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODY1NjgwMw==", "bodyText": "Labels are expected to be as short as possible. Guideline is 2-3 words with up to 25 chars. See https://www.openhab.org/docs/developer/bindings/thing-xml.html#formatting-labels-and-descriptions", "url": "https://github.com/openhab/openhab-addons/pull/8869#discussion_r538656803", "createdAt": "2020-12-08T17:49:04Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.gardena/src/main/resources/OH-INF/thing/thing-types.xml", "diffHunk": "@@ -10,1162 +10,633 @@\n \t\t\t<bridge-type-ref id=\"account\"/>\n \t\t</supported-bridge-type-refs>\n \n-\t\t<label>Gardena Smart Sileno Mower</label>\n-\t\t<description>A Gardena Smart Sileno mower</description>\n+\t\t<label>Gardena smart SILENO Mower</label>\n+\t\t<description>Represents any Gardena smart SILENO mower model</description>\n \n \t\t<channel-groups>\n-\t\t\t<channel-group id=\"device_info\" typeId=\"deviceInfo\"/>\n-\t\t\t<channel-group id=\"battery\" typeId=\"rechargeableBattery\"/>\n-\t\t\t<channel-group id=\"radio\" typeId=\"radio\"/>\n-\t\t\t<channel-group id=\"mower\" typeId=\"mower\"/>\n-\t\t\t<channel-group id=\"mower_stats\" typeId=\"mowerStats\"/>\n-\t\t\t<channel-group id=\"firmware\" typeId=\"firmware\"/>\n+\t\t\t<channel-group id=\"common\" typeId=\"commonProperties\"/>\n+\t\t\t<channel-group id=\"mower\" typeId=\"mowerProperties\"/>\n+\t\t\t<channel-group id=\"mower_commands\" typeId=\"mowerCommands\"/>\n \t\t</channel-groups>\n \t\t<properties>\n-\t\t\t<!-- device info -->\n-\t\t\t<property name=\"manufacturer\"/>\n-\t\t\t<property name=\"product\"/>\n-\t\t\t<property name=\"serialNumber\"/>\n-\t\t\t<property name=\"sgtin\"/>\n-\t\t\t<property name=\"version\"/>\n-\t\t\t<property name=\"category\"/>\n+\t\t\t<!-- common -->\n+\t\t\t<property name=\"serial\"/>\n+\t\t\t<property name=\"modelType\"/>\n \t\t</properties>\n \t</thing-type>\n \n-\t<channel-group-type id=\"deviceInfo\">\n-\t\t<label>Device Info</label>\n-\t\t<description>Information about the device</description>\n-\t\t<channels>\n-\t\t\t<channel id=\"last_time_online\" typeId=\"lastTimeOnline\"/>\n-\t\t</channels>\n-\t</channel-group-type>\n-\n-\t<channel-group-type id=\"rechargeableBattery\">\n-\t\t<label>Battery Info</label>\n-\t\t<description>Information about the rechargeable battery</description>\n-\t\t<channels>\n-\t\t\t<channel id=\"level\" typeId=\"system.battery-level\"/>\n-\t\t\t<channel id=\"charging\" typeId=\"charging\"/>\n-\t\t</channels>\n-\t</channel-group-type>\n-\n-\t<channel-group-type id=\"radio\">\n-\t\t<label>Radio Link</label>\n-\t\t<description>Information about the radio link</description>\n-\t\t<channels>\n-\t\t\t<channel id=\"quality\" typeId=\"radioQuality\"/>\n-\t\t\t<channel id=\"state\" typeId=\"system.signal-strength\"/>\n-\t\t</channels>\n-\t</channel-group-type>\n-\n-\t<channel-group-type id=\"mower\">\n-\t\t<label>Robotic Mower</label>\n-\t\t<description>Information about the robotic mower</description>\n-\t\t<channels>\n-\t\t\t<channel id=\"manual_operation\" typeId=\"manualOperation\"/>\n-\t\t\t<channel id=\"status\" typeId=\"status\"/>\n-\t\t\t<channel id=\"error\" typeId=\"error\"/>\n-\t\t\t<channel id=\"source_for_next_start\" typeId=\"sourceForNextStart\"/>\n-\t\t\t<channel id=\"timestamp_next_start\" typeId=\"timestampNextStart\"/>\n-\t\t\t<channel id=\"override_end_time\" typeId=\"overrideEndTime\"/>\n-\t\t\t<channel id=\"park_until_further_notice\" typeId=\"parkUntilFurtherNotice\"/>\n-\t\t\t<channel id=\"park_until_next_timer\" typeId=\"parkUntilNextTimer\"/>\n-\t\t\t<channel id=\"start_override_timer\" typeId=\"startOverrideTimer\"/>\n-\t\t\t<channel id=\"start_resume_schedule\" typeId=\"startResumeSchedule\"/>\n-\t\t\t<channel id=\"duration_property\" typeId=\"mowerDurationProperty\"/>\n-\t\t</channels>\n-\t</channel-group-type>\n-\n-\t<channel-type id=\"mowerDurationProperty\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Mowing Time</label>\n-\t\t<description>Mowing time in minutes</description>\n-\t\t<state pattern=\"%d min\" min=\"1\" max=\"1440\" step=\"1\"/>\n-\t</channel-type>\n-\n-\t<channel-type id=\"parkUntilFurtherNotice\">\n-\t\t<item-type>Switch</item-type>\n-\t\t<label>Park and Pause All Timers</label>\n-\t\t<description>Park and pause all timers</description>\n-\t</channel-type>\n-\n-\t<channel-type id=\"parkUntilNextTimer\">\n-\t\t<item-type>Switch</item-type>\n-\t\t<label>Park Until Next Timer</label>\n-\t\t<description>Park until next timer</description>\n-\t</channel-type>\n-\n-\t<channel-type id=\"startResumeSchedule\">\n-\t\t<item-type>Switch</item-type>\n-\t\t<label>Start Resume Schedule</label>\n-\t\t<description>Start resume schedule</description>\n-\t</channel-type>\n-\n-\t<channel-type id=\"startOverrideTimer\">\n-\t\t<item-type>Switch</item-type>\n-\t\t<label>Override Timer</label>\n-\t\t<description>Starts the mower for the specified duration</description>\n-\t</channel-type>\n-\n-\t<channel-type id=\"lastTimeOnline\" advanced=\"true\">\n-\t\t<item-type>DateTime</item-type>\n-\t\t<label>Last Time Online</label>\n-\t\t<description>Last time the device was online</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n-\n-\t<channel-type id=\"charging\" advanced=\"true\">\n-\t\t<item-type>Switch</item-type>\n-\t\t<label>Battery Charging</label>\n-\t\t<description>Battery Charging</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t<!-- ############################### Watering Computer ############################### -->\n \n-\t<channel-type id=\"radioQuality\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Radio Link Quality</label>\n-\t\t<description>Radio Link Quality</description>\n-\t\t<state pattern=\"%d %%\" readOnly=\"true\"/>\n-\t</channel-type>\n+\t<thing-type id=\"water_control\">\n+\t\t<supported-bridge-type-refs>\n+\t\t\t<bridge-type-ref id=\"account\"/>\n+\t\t</supported-bridge-type-refs>\n \n-\t<channel-type id=\"manualOperation\" advanced=\"true\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Manual Operation</label>\n-\t\t<description>The mower is controlled manually</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t\t<label>Gardena smart Water Control</label>\n+\t\t<description>Represents a Gardena smart Water Control</description>\n \n-\t<channel-type id=\"status\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Mower Status</label>\n-\t\t<description>The mower status</description>\n-\t\t<state readOnly=\"true\">\n-\t\t\t<options>\n-\t\t\t\t<option value=\"uninitialised\">Uninitialised</option>\n-\t\t\t\t<option value=\"paused\">Paused</option>\n-\t\t\t\t<option value=\"ok_cutting\">Mowing</option>\n-\t\t\t\t<option value=\"ok_searching\">Searching charging station</option>\n-\t\t\t\t<option value=\"ok_charging\">Charging</option>\n-\t\t\t\t<option value=\"ok_leaving\">Mowing</option>\n-\t\t\t\t<option value=\"wait_updating\">Updating ...</option>\n-\t\t\t\t<option value=\"wait_power_up\">Powering up ...</option>\n-\t\t\t\t<option value=\"parked_timer\">Parked on schedule</option>\n-\t\t\t\t<option value=\"parked_park_selected\">Parked</option>\n-\t\t\t\t<option value=\"off_disabled\">The mower is turned off</option>\n-\t\t\t\t<option value=\"off_hatch_open\">Disabled. Hatch open</option>\n-\t\t\t\t<option value=\"unknown\">Unknown</option>\n-\t\t\t\t<option value=\"error\">Error</option>\n-\t\t\t\t<option value=\"error_at_power_up\">Error</option>\n-\t\t\t\t<option value=\"off_hatch_closed\">Disabled. Manual start needed</option>\n-\t\t\t\t<option value=\"ok_cutting_timer_overridden\">Manual mowing</option>\n-\t\t\t\t<option value=\"parked_autotimer\">Parked due to SensorControl</option>\n-\t\t\t\t<option value=\"parked_daily_limit_reached\">Completed</option>\n-\t\t\t\t<option value=\"undefined\">Undefined</option>\n-\t\t\t</options>\n-\t\t</state>\n-\t</channel-type>\n-\n-\t<channel-type id=\"error\" advanced=\"true\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Mower Error</label>\n-\t\t<description>Mower Error</description>\n-\t\t<state readOnly=\"true\">\n-\t\t\t<options>\n-\t\t\t\t<option value=\"no_message\">No message</option>\n-\t\t\t\t<option value=\"outside_working_area\">Outside working area</option>\n-\t\t\t\t<option value=\"no_loop_signal\">No loop signal</option>\n-\t\t\t\t<option value=\"wrong_loop_signal\">Wrong loop signal</option>\n-\t\t\t\t<option value=\"loop_sensor_problem_front\">Loop sensor problem, front</option>\n-\t\t\t\t<option value=\"loop_sensor_problem_rear\">Loop sensor problem, rear</option>\n-\t\t\t\t<option value=\"loop_sensor_problem_left\">Loop sensor problem, left</option>\n-\t\t\t\t<option value=\"loop_sensor_problem_right\">Loop sensor problem, right</option>\n-\t\t\t\t<option value=\"wrong_pin_code\">Wrong pin code</option>\n-\t\t\t\t<option value=\"trapped\">Trapped</option>\n-\t\t\t\t<option value=\"upside_down\">Upside down</option>\n-\t\t\t\t<option value=\"low_battery\">Low battery</option>\n-\t\t\t\t<option value=\"empty_battery\">Empty battery</option>\n-\t\t\t\t<option value=\"no_drive\">Disabled. Hatch open</option>\n-\t\t\t\t<option value=\"temporarily_lifted\">Temporary lifted</option>\n-\t\t\t\t<option value=\"lifted\">Lifted</option>\n-\t\t\t\t<option value=\"stuck_in_charging_station\">Stuck in charging station</option>\n-\t\t\t\t<option value=\"charging_station_blocked\">Charging station blocked</option>\n-\t\t\t\t<option value=\"collision_sensor_problem_rear\">Collision sensor problem, rear</option>\n-\t\t\t\t<option value=\"collision_sensor_problem_front\">Collision sensor problem, front</option>\n-\t\t\t\t<option value=\"wheel_motor_blocked_right\">Wheel motor blocked, right</option>\n-\t\t\t\t<option value=\"wheel_motor_blocked_left\">Wheel motor blocked, left</option>\n-\t\t\t\t<option value=\"wheel_drive_problem_right\">Wheel drive problem, right</option>\n-\t\t\t\t<option value=\"wheel_drive_problem_left\">Wheel drive problem, left</option>\n-\t\t\t\t<option value=\"cutting_motor_drive_defect\">Cutting motor drive defect</option>\n-\t\t\t\t<option value=\"cutting_system_blocked\">Cutting system blocked</option>\n-\t\t\t\t<option value=\"invalid_sub_device_combination\">Invalid sub-device combination</option>\n-\t\t\t\t<option value=\"settings_restored\">Settings restored</option>\n-\t\t\t\t<option value=\"memory_circuit_problem\">Memory circuit problem</option>\n-\t\t\t\t<option value=\"slope_too_steep\">Slope too steep</option>\n-\t\t\t\t<option value=\"charging_system_problem\">Charging system problem</option>\n-\t\t\t\t<option value=\"stop_button_problem\">Stop button problem</option>\n-\t\t\t\t<option value=\"tilt_sensor_problem\">Tilt sensor problem</option>\n-\t\t\t\t<option value=\"mower_tilted\">Mower tilted</option>\n-\t\t\t\t<option value=\"wheel_motor_overloaded_right\">Wheel motor overloaded, right</option>\n-\t\t\t\t<option value=\"wheel_motor_overloaded_left\">Wheel motor overloaded, left</option>\n-\t\t\t\t<option value=\"charging_current_too_high\">Charging current too high</option>\n-\t\t\t\t<option value=\"electronic_problem\">Electronic problem</option>\n-\t\t\t\t<option value=\"cutting_motor_problem\">Cutting motor problem</option>\n-\t\t\t\t<option value=\"limited_cutting_height_range\">Limited cutting height range</option>\n-\t\t\t\t<option value=\"unexpected_cutting_height_adj\">Unexpected cutting height adj</option>\n-\t\t\t\t<option value=\"cutting_height_problem_drive\">Cutting height problem drive</option>\n-\t\t\t\t<option value=\"cutting_height_problem_curr\">Cutting height problem curr</option>\n-\t\t\t\t<option value=\"cutting_height_problem_dir\">Cutting height problem dir</option>\n-\t\t\t\t<option value=\"cutting_height_blocked\">Cutting height blocked</option>\n-\t\t\t\t<option value=\"cutting_height_problem\">Cutting height problem</option>\n-\t\t\t\t<option value=\"no_response_from_charger\">No response from charger</option>\n-\t\t\t\t<option value=\"ultrasonic_problem\">Ultrasonic problem</option>\n-\t\t\t\t<option value=\"temporary_problem\">Temporary problem</option>\n-\t\t\t\t<option value=\"guide_1_not_found\">Guide 1 not found</option>\n-\t\t\t\t<option value=\"guide_2_not_found\">Guide 2 not found</option>\n-\t\t\t\t<option value=\"guide_3_not_found\">Guide 3 not found</option>\n-\t\t\t\t<option value=\"gps_tracker_module_error\">GPS tracker module error</option>\n-\t\t\t\t<option value=\"weak_gps_signal\">Weak gps signal</option>\n-\t\t\t\t<option value=\"difficult_finding_home\">Difficult finding home</option>\n-\t\t\t\t<option value=\"guide_calibration_accomplished\">Guide calibration accomplished</option>\n-\t\t\t\t<option value=\"guide_calibration_failed\">Guide calibration failed</option>\n-\t\t\t\t<option value=\"temporary_battery_problem\">Temporary battery problem</option>\n-\t\t\t\t<option value=\"battery_problem\">Battery problem</option>\n-\t\t\t\t<option value=\"too_many_batteries\">Too many batteries</option>\n-\t\t\t\t<option value=\"alarm_mower_switched_off\">Alarm! Mower switched off</option>\n-\t\t\t\t<option value=\"alarm_mower_stopped\">Alarm! Mower stopped</option>\n-\t\t\t\t<option value=\"alarm_mower_lifted\">Alarm! Mower lifted</option>\n-\t\t\t\t<option value=\"alarm_mower_tilted\">Alarm! Mower tilted</option>\n-\t\t\t\t<option value=\"alarm_mower_in_motion\">Alarm! Mower in motion</option>\n-\t\t\t\t<option value=\"alarm_outside_geofence\">Alarm outside geofence</option>\n-\t\t\t\t<option value=\"connection_changed\">Connection changed</option>\n-\t\t\t\t<option value=\"connection_not_changed\">Connection not changed</option>\n-\t\t\t\t<option value=\"com_board_not_available\">COM board not available</option>\n-\t\t\t\t<option value=\"slipped\">Slipped</option>\n-\t\t\t\t<option value=\"invalid_battery_combination\">Invalid battery combination</option>\n-\t\t\t\t<option value=\"imbalanced_cutting_disc\">Imbalanced cutting disc</option>\n-\t\t\t\t<option value=\"safety_function_faulty\">Safety function faulty</option>\n-\t\t\t</options>\n-\t\t</state>\n-\t</channel-type>\n+\t\t<channel-groups>\n+\t\t\t<channel-group id=\"common\" typeId=\"commonProperties\"/>\n+\t\t\t<channel-group id=\"valve\" typeId=\"valveProperties\"/>\n+\t\t\t<channel-group id=\"valve_commands\" typeId=\"valveCommands\"/>\n+\t\t\t<channel-group id=\"valveSet\" typeId=\"valveSetProperties\"/>\n+\t\t\t<channel-group id=\"valveSet_commands\" typeId=\"valveSetCommands\"/>\n+\t\t</channel-groups>\n+\t\t<properties>\n+\t\t\t<!-- common -->\n+\t\t\t<property name=\"serial\"/>\n+\t\t\t<property name=\"modelType\"/>\n+\t\t</properties>\n+\t</thing-type>\n \n-\t<channel-type id=\"sourceForNextStart\" advanced=\"true\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Source for Next Start</label>\n-\t\t<description>The source for the next start</description>\n-\t\t<state readOnly=\"true\">\n-\t\t\t<options>\n-\t\t\t\t<option value=\"no_source\">No source</option>\n-\t\t\t\t<option value=\"completed_cutting_daily_limit\">Completed cutting daily limit</option>\n-\t\t\t\t<option value=\"week_timer\">Week timer</option>\n-\t\t\t\t<option value=\"countdown_timer\">Countdown timer</option>\n-\t\t\t\t<option value=\"mower_charging\">Mower charging</option>\n-\t\t\t\t<option value=\"completed_cutting_autotimer\">Completed cutting autotimer</option>\n-\t\t\t\t<option value=\"undefined\">Undefined</option>\n-\t\t\t</options>\n-\t\t</state>\n-\t</channel-type>\n+\t<!-- ############################### Sensor ############################### -->\n \n-\t<channel-type id=\"timestampNextStart\">\n-\t\t<item-type>DateTime</item-type>\n-\t\t<label>Timestamp Next Start</label>\n-\t\t<description>Timestamp of the next start</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t<thing-type id=\"sensor\">\n+\t\t<supported-bridge-type-refs>\n+\t\t\t<bridge-type-ref id=\"account\"/>\n+\t\t</supported-bridge-type-refs>\n \n-\t<channel-type id=\"overrideEndTime\" advanced=\"true\">\n-\t\t<item-type>DateTime</item-type>\n-\t\t<label>Override End Time</label>\n-\t\t<description>Override End Time</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t\t<label>Gardena smart Sensor</label>\n+\t\t<description>Represents a Gardena smart Sensor</description>\n \n-\t<channel-type id=\"temperature\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Temperature</label>\n-\t\t<description>Temperature</description>\n-\t\t<state pattern=\"%d \u00b0C\" readOnly=\"true\"/>\n-\t</channel-type>\n+\t\t<channel-groups>\n+\t\t\t<channel-group id=\"common\" typeId=\"commonProperties\"/>\n+\t\t\t<channel-group id=\"sensor\" typeId=\"sensorProperties\"/>\n+\t\t</channel-groups>\n+\t\t<properties>\n+\t\t\t<!-- common -->\n+\t\t\t<property name=\"serial\"/>\n+\t\t\t<property name=\"modelType\"/>\n+\t\t</properties>\n+\t</thing-type>\n \n-\t<channel-group-type id=\"firmware\">\n-\t\t<label>Firmware</label>\n-\t\t<description>Information about the firmware</description>\n-\t\t<channels>\n-\t\t\t<channel id=\"firmware_status\" typeId=\"firmwareStatus\"/>\n-\t\t\t<channel id=\"firmware_upload_progress\" typeId=\"firmwareUploadProgress\"/>\n-\t\t\t<channel id=\"firmware_available_version\" typeId=\"firmwareAvailableVersion\"/>\n-\t\t</channels>\n-\t</channel-group-type>\n+\t<!-- ############################### Pressure Pump ############################### -->\n \n-\t<channel-type id=\"firmwareStatus\" advanced=\"true\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Status</label>\n-\t\t<description>The firmware status</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t<thing-type id=\"pump\">\n+\t\t<supported-bridge-type-refs>\n+\t\t\t<bridge-type-ref id=\"account\"/>\n+\t\t</supported-bridge-type-refs>\n \n-\t<channel-type id=\"firmwareUploadProgress\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Upload Progress</label>\n-\t\t<description>Firmware upload in progress</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t\t<label>Gardena smart Pressure Pump</label>\n+\t\t<description>Represents a Gardena smart Pressure Pump</description>\n \n-\t<channel-type id=\"firmwareAvailableVersion\" advanced=\"true\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Available Version</label>\n-\t\t<description>Available firmware version</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t\t<channel-groups>\n+\t\t\t<channel-group id=\"common\" typeId=\"commonProperties\"/>\n+\t\t\t<channel-group id=\"valve\" typeId=\"valveProperties\"/>\n+\t\t\t<channel-group id=\"valve_commands\" typeId=\"valveCommands\"/>\n+\t\t</channel-groups>\n+\t\t<properties>\n+\t\t\t<!-- common -->\n+\t\t\t<property name=\"serial\"/>\n+\t\t\t<property name=\"modelType\"/>\n+\t\t</properties>\n+\t</thing-type>\n \n-\t<channel-group-type id=\"mowerStats\">\n-\t\t<label>Robotic Mower Statistics</label>\n-\t\t<description>Statistics about the robotic mower</description>\n-\t\t<channels>\n-\t\t\t<channel id=\"cutting_time\" typeId=\"cuttingTime\"/>\n-\t\t\t<channel id=\"charging_cycles\" typeId=\"chargingCycles\"/>\n-\t\t\t<channel id=\"collisions\" typeId=\"collisions\"/>\n-\t\t\t<channel id=\"running_time\" typeId=\"runningTime\"/>\n-\t\t</channels>\n-\t</channel-group-type>\n+\t<!-- ############################### Power ############################### -->\n \n-\t<channel-type id=\"cuttingTime\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Cutting Time</label>\n-\t\t<description>The cutting time</description>\n-\t\t<state readOnly=\"true\" pattern=\"%d h\"/>\n-\t</channel-type>\n+\t<thing-type id=\"power\">\n+\t\t<supported-bridge-type-refs>\n+\t\t\t<bridge-type-ref id=\"account\"/>\n+\t\t</supported-bridge-type-refs>\n \n-\t<channel-type id=\"chargingCycles\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Charging Cycles</label>\n-\t\t<description>The charging cycles</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t\t<label>Gardena smart Power Adapter</label>\n+\t\t<description>Represents a Gardena smart Power Adapter</description>\n \n-\t<channel-type id=\"collisions\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Collisions</label>\n-\t\t<description>The number of collisions</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t\t<channel-groups>\n+\t\t\t<channel-group id=\"common\" typeId=\"commonProperties\"/>\n+\t\t\t<channel-group id=\"powerSocket\" typeId=\"powerSocketProperties\"/>\n+\t\t\t<channel-group id=\"powerSocket_commands\" typeId=\"powerSocketCommands\"/>\n+\t\t</channel-groups>\n+\t\t<properties>\n+\t\t\t<!-- common -->\n+\t\t\t<property name=\"serial\"/>\n+\t\t\t<property name=\"modelType\"/>\n+\t\t</properties>\n+\t</thing-type>\n \n-\t<channel-type id=\"runningTime\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Running Time</label>\n-\t\t<description>Running time</description>\n-\t\t<state readOnly=\"true\" pattern=\"%d h\"/>\n-\t</channel-type>\n+\t<!-- ############################### Irrigation Control ############################### -->\n \n-\t<!-- ############################### Watering Computer ############################### -->\n-\t<thing-type id=\"watering_computer\">\n+\t<thing-type id=\"irrigation_control\">\n \t\t<supported-bridge-type-refs>\n \t\t\t<bridge-type-ref id=\"account\"/>\n \t\t</supported-bridge-type-refs>\n \n-\t\t<label>Gardena Smart Watering Computer</label>\n-\t\t<description>Represents a Gardena Smart Watering Computer</description>\n+\t\t<label>Gardena smart Irrigation Control</label>\n+\t\t<description>Represents a Gardena smart Irrigation Control</description>\n \n \t\t<channel-groups>\n-\t\t\t<channel-group id=\"device_info\" typeId=\"deviceInfo\"/>\n-\t\t\t<channel-group id=\"battery\" typeId=\"battery\"/>\n-\t\t\t<channel-group id=\"radio\" typeId=\"radio\"/>\n-\t\t\t<channel-group id=\"outlet\" typeId=\"outlet\"/>\n-\t\t\t<channel-group id=\"ambient_temperature\" typeId=\"ambientTemperature\"/>\n+\t\t\t<channel-group id=\"common\" typeId=\"commonProperties\"/>\n+\t\t\t<channel-group id=\"valveOne\" typeId=\"valveProperties\">\n+\t\t\t\t<label>Valve 1 properties</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveOne_commands\" typeId=\"valveCommands\">\n+\t\t\t\t<label>Valve 1 commands</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveTwo\" typeId=\"valveProperties\">\n+\t\t\t\t<label>Valve 2 properties</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveTwo_commands\" typeId=\"valveCommands\">\n+\t\t\t\t<label>Valve 2 commands</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveThree\" typeId=\"valveProperties\">\n+\t\t\t\t<label>Valve 3 properties</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveThree_commands\" typeId=\"valveCommands\">\n+\t\t\t\t<label>Valve 3 commands</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveFour\" typeId=\"valveProperties\">\n+\t\t\t\t<label>Valve 4 properties</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveFour_commands\" typeId=\"valveCommands\">\n+\t\t\t\t<label>Valve 4 Commands</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveFive\" typeId=\"valveProperties\">\n+\t\t\t\t<label>Valve 5 Properties</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveFive_commands\" typeId=\"valveCommands\">\n+\t\t\t\t<label>Valve 5 Commands</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveSix\" typeId=\"valveProperties\">\n+\t\t\t\t<label>Valve 6 Properties</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveSix_commands\" typeId=\"valveCommands\">\n+\t\t\t\t<label>Valve 6 Commands</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveSet\" typeId=\"valveSetProperties\"/>\n+\t\t\t<channel-group id=\"valveSet_commands\" typeId=\"valveSetCommands\"/>\n \t\t</channel-groups>\n \t\t<properties>\n-\t\t\t<!-- device info -->\n-\t\t\t<property name=\"manufacturer\"/>\n-\t\t\t<property name=\"product\"/>\n-\t\t\t<property name=\"serialNumber\"/>\n-\t\t\t<property name=\"sgtin\"/>\n-\t\t\t<property name=\"version\"/>\n-\t\t\t<property name=\"category\"/>\n+\t\t\t<!-- common -->\n+\t\t\t<property name=\"serial\"/>\n+\t\t\t<property name=\"modelType\"/>\n \t\t</properties>\n \t</thing-type>\n \n-\t<channel-group-type id=\"battery\">\n-\t\t<label>Battery Info</label>\n-\t\t<description>Information about the battery</description>\n+\t<!-- ############################### channels and groups ############################### -->\n+\n+\t<channel-group-type id=\"valveSetProperties\">\n+\t\t<label>Valve Set Properties</label>\n+\t\t<description>Properties of a valve set</description>\n \t\t<channels>\n-\t\t\t<channel id=\"level\" typeId=\"system.battery-level\"/>\n-\t\t\t<channel id=\"disposable_battery_status\" typeId=\"disposableBatteryStatus\"/>\n+\t\t\t<channel id=\"state\" typeId=\"state\"/>\n+\t\t\t<channel id=\"state_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>State Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"lastErrorCode\" typeId=\"lastErrorCode\"/>\n+\t\t\t<channel id=\"lastErrorCode_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Last Error Code Timestamp</label>\n+\t\t\t</channel>\n \t\t</channels>\n \t</channel-group-type>\n \n-\t<channel-group-type id=\"outlet\">\n-\t\t<label>Watering Outlet</label>\n-\t\t<description>Information about the watering outlet</description>\n+\t<channel-group-type id=\"valveProperties\">\n+\t\t<label>Valve Properties</label>\n+\t\t<description>Properties of a valve</description>\n \t\t<channels>\n-\t\t\t<channel id=\"valve_open\" typeId=\"valveOpen\"/>\n-\t\t\t<channel id=\"manual_override\" typeId=\"manualOverride\"/>\n-\t\t\t<channel id=\"button_manual_override_time\" typeId=\"buttonManualOverrideTime\"/>\n+\t\t\t<channel id=\"name\" typeId=\"name\"/>\n+\t\t\t<channel id=\"state\" typeId=\"state\"/>\n+\t\t\t<channel id=\"state_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>State Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"activity\" typeId=\"activity\"/>\n+\t\t\t<channel id=\"activity_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Activity Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"lastErrorCode\" typeId=\"lastErrorCode\"/>\n+\t\t\t<channel id=\"lastErrorCode_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Last Error Code Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"duration\" typeId=\"duration\"/>\n \t\t</channels>\n \t</channel-group-type>\n \n-\t<channel-group-type id=\"ambientTemperature\">\n-\t\t<label>Ambient Temperature</label>\n-\t\t<description>Ambient Temperature</description>\n+\t<channel-group-type id=\"sensorProperties\">\n+\t\t<label>Sensor Properties</label>\n+\t\t<description>Properties of a sensor</description>\n \t\t<channels>\n-\t\t\t<channel id=\"temperature\" typeId=\"temperature\">\n+\t\t\t<channel id=\"soilHumidity\" typeId=\"soilHumidity\"/>\n+\t\t\t<channel id=\"soilHumidity_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Soil Humidity Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"soilTemperature\" typeId=\"temperature\">\n+\t\t\t\t<label>Soil Temperature</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"soilTemperature_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Soil Temperature Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"ambientTemperature\" typeId=\"temperature\">\n \t\t\t\t<label>Ambient Temperature</label>\n \t\t\t</channel>\n-\t\t\t<channel id=\"frost_warning\" typeId=\"frostWarning\"/>\n+\t\t\t<channel id=\"ambientTemperature_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Ambient Temperature Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"lightIntensity\" typeId=\"lightIntensity\"/>\n+\t\t\t<channel id=\"lightIntensity_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Light Intensity Timestamp</label>\n+\t\t\t</channel>\n \t\t</channels>\n \t</channel-group-type>\n \n-\t<channel-type id=\"disposableBatteryStatus\" advanced=\"true\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Disposable Battery Status</label>\n-\t\t<description>The status of the disposable battery</description>\n-\t\t<state readOnly=\"true\">\n-\t\t\t<options>\n-\t\t\t\t<option value=\"out_of_operation\">Out of operation</option>\n-\t\t\t\t<option value=\"replace_now\">Critical battery level, replace now</option>\n-\t\t\t\t<option value=\"low\">Low</option>\n-\t\t\t\t<option value=\"ok\">OK</option>\n-\t\t\t\t<option value=\"undefined\">Undefined</option>\n-\t\t\t</options>\n-\t\t</state>\n-\t</channel-type>\n-\n-\t<channel-type id=\"valveOpen\">\n-\t\t<item-type>Switch</item-type>\n-\t\t<label>Valve Open</label>\n-\t\t<description>Valve Open</description>\n-\t</channel-type>\n-\n-\t<channel-type id=\"manualOverride\" advanced=\"true\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Manual Override</label>\n-\t\t<description>Manual Override</description>\n-\t\t<state readOnly=\"true\">\n-\t\t\t<options>\n-\t\t\t\t<option value=\"inactive\">Inactive</option>\n-\t\t\t\t<option value=\"open\">Open</option>\n-\t\t\t\t<option value=\"undefined\">Undefined</option>\n-\t\t\t</options>\n-\t\t</state>\n-\t</channel-type>\n-\n-\t<channel-type id=\"buttonManualOverrideTime\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Button Manual Override</label>\n-\t\t<description>The time the valve is open when you press the button on the device</description>\n-\t\t<state pattern=\"%d min\" min=\"1\" max=\"59\" step=\"1\"/>\n-\t</channel-type>\n-\n-\t<channel-type id=\"frostWarning\" advanced=\"true\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Frost Warning</label>\n-\t\t<description>Frost Warning</description>\n-\t\t<state readOnly=\"true\">\n-\t\t\t<options>\n-\t\t\t\t<option value=\"no_frost\">No frost</option>\n-\t\t\t\t<option value=\"frost\">Frost</option>\n-\t\t\t\t<option value=\"undefined\">Undefined</option>\n-\t\t\t</options>\n-\t\t</state>\n-\t</channel-type>\n-\n-\t<!-- ############################### Sensor ############################### -->\n-\t<thing-type id=\"sensor\">\n-\t\t<supported-bridge-type-refs>\n-\t\t\t<bridge-type-ref id=\"account\"/>\n-\t\t</supported-bridge-type-refs>\n-\n-\t\t<label>Gardena Smart Sensor</label>\n-\t\t<description>Represents a Gardena Smart Sensor</description>\n-\n-\t\t<channel-groups>\n-\t\t\t<channel-group id=\"device_info\" typeId=\"deviceInfo\"/>\n-\t\t\t<channel-group id=\"battery\" typeId=\"battery\"/>\n-\t\t\t<channel-group id=\"radio\" typeId=\"radio\"/>\n-\t\t\t<channel-group id=\"ambient_temperature\" typeId=\"ambientTemperature\"/>\n-\t\t\t<channel-group id=\"soil_temperature\" typeId=\"soilTemperature\"/>\n-\t\t\t<channel-group id=\"humidity\" typeId=\"humidity\"/>\n-\t\t\t<channel-group id=\"light\" typeId=\"light\"/>\n-\t\t</channel-groups>\n-\t\t<properties>\n-\t\t\t<!-- device info -->\n-\t\t\t<property name=\"manufacturer\"/>\n-\t\t\t<property name=\"product\"/>\n-\t\t\t<property name=\"serialNumber\"/>\n-\t\t\t<property name=\"sgtin\"/>\n-\t\t\t<property name=\"version\"/>\n-\t\t\t<property name=\"category\"/>\n-\t\t</properties>\n-\t</thing-type>\n-\n-\t<channel-group-type id=\"soilTemperature\">\n-\t\t<label>Soil Temperature</label>\n-\t\t<description>The soil temperature</description>\n+\t<channel-group-type id=\"powerSocketProperties\">\n+\t\t<label>Power Socket Properties</label>\n+\t\t<description>Properties of a power socket</description>\n \t\t<channels>\n-\t\t\t<channel id=\"temperature\" typeId=\"temperature\">\n-\t\t\t\t<label>Soil Temperature</label>\n+\t\t\t<channel id=\"state\" typeId=\"state\"/>\n+\t\t\t<channel id=\"state_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>State Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"activity\" typeId=\"activity\"/>\n+\t\t\t<channel id=\"activity_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Activity Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"lastErrorCode\" typeId=\"lastErrorCode\"/>\n+\t\t\t<channel id=\"lastErrorCode_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Last Error Code Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"duration\" typeId=\"duration\"/>\n+\t\t\t<channel id=\"duration_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Duration Timestamp</label>\n \t\t\t</channel>\n \t\t</channels>\n \t</channel-group-type>\n \n-\t<channel-group-type id=\"humidity\">\n-\t\t<label>Humidity</label>\n-\t\t<description>The humidity</description>\n+\t<channel-group-type id=\"mowerProperties\">\n+\t\t<label>Mower Properties</label>\n+\t\t<description>Properties of a mower</description>\n \t\t<channels>\n-\t\t\t<channel id=\"humidity\" typeId=\"humidity\"/>\n+\t\t\t<channel id=\"state\" typeId=\"state\"/>\n+\t\t\t<channel id=\"state_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>State Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"activity\" typeId=\"activity\"/>\n+\t\t\t<channel id=\"activity_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Activity Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"lastErrorCode\" typeId=\"lastErrorCode\"/>\n+\t\t\t<channel id=\"lastErrorCode_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Last Error Code Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"operatingHours\" typeId=\"operatingHours\"/>\n \t\t</channels>\n \t</channel-group-type>\n \n-\t<channel-group-type id=\"light\">\n-\t\t<label>Brightness</label>\n-\t\t<description>The brightness</description>\n+\t<channel-group-type id=\"commonProperties\">\n+\t\t<label>Common Properties</label>\n+\t\t<description>Properties that are common across devices</description>\n \t\t<channels>\n-\t\t\t<channel id=\"light\" typeId=\"light\"/>\n+\t\t\t<channel id=\"name\" typeId=\"name\"/>\n+\t\t\t<channel id=\"batteryLevel\" typeId=\"system.battery-level\"/>\n+\t\t\t<channel id=\"batteryLevel_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Battery Level Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"batteryState\" typeId=\"batteryState\"/>\n+\t\t\t<channel id=\"batteryState_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Battery State Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"rfLinkLevel\" typeId=\"system.signal-strength\"/>\n+\t\t\t<channel id=\"rfLinkLevel_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>RF Link Level Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"rfLinkState\" typeId=\"rfLinkState\"/>\n+\t\t\t<channel id=\"rfLinkState_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>RF Link State Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"lastUpdate_timestamp\" typeId=\"timestampRefresh\">\n+\t\t\t\t<label>LastUpdate Timestamp</label>\n+\t\t\t</channel>\n \t\t</channels>\n \t</channel-group-type>\n \n-\t<channel-type id=\"humidity\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Humidity</label>\n-\t\t<description>The humidity</description>\n-\t\t<state pattern=\"%d %%\" readOnly=\"true\"/>\n-\t</channel-type>\n-\n-\t<channel-type id=\"light\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Brightness</label>\n-\t\t<description>The brightness</description>\n-\t\t<state pattern=\"%d lx\" readOnly=\"true\"/>\n-\t</channel-type>\n-\n-\t<!-- ############################### Pressure Pump ############################### -->\n-\n-\t<thing-type id=\"electronic_pressure_pump\">\n-\t\t<supported-bridge-type-refs>\n-\t\t\t<bridge-type-ref id=\"account\"/>\n-\t\t</supported-bridge-type-refs>\n-\n-\t\t<label>Gardena Smart Pressure Pump</label>\n-\t\t<description>Represents a Gardena Smart Pressure Pump</description>\n-\n-\t\t<channel-groups>\n-\t\t\t<channel-group id=\"device_info\" typeId=\"deviceInfo\"/>\n-\t\t\t<channel-group id=\"radio\" typeId=\"radio\"/>\n-\n-\t\t\t<channel-group id=\"outlet_temperature\" typeId=\"outletTemperature\"/>\n-\t\t\t<channel-group id=\"pump\" typeId=\"pump\"/>\n-\t\t\t<channel-group id=\"outlet_pressure\" typeId=\"outletPressure\"/>\n-\t\t\t<channel-group id=\"flow\" typeId=\"flow\"/>\n-\t\t\t<channel-group id=\"manual_watering\" typeId=\"manualWatering\"/>\n-\t\t\t<channel-group id=\"scheduling\" typeId=\"scheduling\"/>\n-\t\t</channel-groups>\n-\n-\t\t<properties>\n-\t\t\t<!-- device info -->\n-\t\t\t<property name=\"manufacturer\"/>\n-\t\t\t<property name=\"product\"/>\n-\t\t\t<property name=\"serialNumber\"/>\n-\t\t\t<property name=\"sgtin\"/>\n-\t\t\t<property name=\"version\"/>\n-\t\t\t<property name=\"category\"/>\n-\t\t</properties>\n-\n-\t\t<config-description>\n-\t\t\t<parameter name=\"leakage_detection\" type=\"text\">\n-\t\t\t\t<label>Leakage Detection</label>\n-\t\t\t\t<options>\n-\t\t\t\t\t<option value=\"watering\">Watering</option>\n-\t\t\t\t\t<option value=\"washing_machine\">Washing machine</option>\n-\t\t\t\t\t<option value=\"domestic_water_supply\">Domestic water supply</option>\n-\t\t\t\t\t<option value=\"off\">Off</option>\n-\t\t\t\t</options>\n-\t\t\t</parameter>\n-\t\t\t<parameter name=\"operating_mode\" type=\"text\">\n-\t\t\t\t<label>Operating Mode</label>\n-\t\t\t\t<options>\n-\t\t\t\t\t<option value=\"scheduled\">Scheduled</option>\n-\t\t\t\t\t<option value=\"automatic\">Automatic</option>\n-\t\t\t\t</options>\n-\t\t\t</parameter>\n-\t\t\t<parameter name=\"turn_on_pressure\" type=\"text\">\n-\t\t\t\t<label>Turn On Pressure</label>\n-\t\t\t\t<options>\n-\t\t\t\t\t<option value=\"2.0\">2.0</option>\n-\t\t\t\t\t<option value=\"2.2\">2.2</option>\n-\t\t\t\t\t<option value=\"2.4\">2.4</option>\n-\t\t\t\t\t<option value=\"2.6\">2.6</option>\n-\t\t\t\t\t<option value=\"2.8\">2.8</option>\n-\t\t\t\t</options>\n-\t\t\t</parameter>\n-\t\t</config-description>\n-\t</thing-type>\n-\n-\t<channel-group-type id=\"outletTemperature\">\n-\t\t<label>Outlet Temperature</label>\n-\t\t<description>The outlet temperature</description>\n+\t<channel-group-type id=\"mowerCommands\">\n+\t\t<label>Mower Commands</label>\n+\t\t<description>Commands to control a mower</description>\n \t\t<channels>\n-\t\t\t<channel id=\"temperature\" typeId=\"temperature\"/>\n-\t\t\t<channel id=\"temperature_min\" typeId=\"temperatureMin\"/>\n-\t\t\t<channel id=\"temperature_max\" typeId=\"temperatureMax\"/>\n-\t\t\t<channel id=\"frost_warning\" typeId=\"frostWarning\"/>\n+\t\t\t<channel id=\"commandDuration\" typeId=\"mowerCommandDuration\">\n+\t\t\t\t<label>Mowing Duration</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"start_seconds_to_override\" typeId=\"gardenaCommand\">\n+\t\t\t\t<label>Start mowing with duration</label>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "eb02adf3ea4c748f4b3ec438ee5599ed52609bc3"}, "originalPosition": 842}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM4MTY5NTg4OnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.gardena/src/main/resources/OH-INF/thing/thing-types.xml", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxNzo0OToxOVrOIBtBXw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxNzo0OToxOVrOIBtBXw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODY1NzExOQ==", "bodyText": "See above", "url": "https://github.com/openhab/openhab-addons/pull/8869#discussion_r538657119", "createdAt": "2020-12-08T17:49:19Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.gardena/src/main/resources/OH-INF/thing/thing-types.xml", "diffHunk": "@@ -10,1162 +10,633 @@\n \t\t\t<bridge-type-ref id=\"account\"/>\n \t\t</supported-bridge-type-refs>\n \n-\t\t<label>Gardena Smart Sileno Mower</label>\n-\t\t<description>A Gardena Smart Sileno mower</description>\n+\t\t<label>Gardena smart SILENO Mower</label>\n+\t\t<description>Represents any Gardena smart SILENO mower model</description>\n \n \t\t<channel-groups>\n-\t\t\t<channel-group id=\"device_info\" typeId=\"deviceInfo\"/>\n-\t\t\t<channel-group id=\"battery\" typeId=\"rechargeableBattery\"/>\n-\t\t\t<channel-group id=\"radio\" typeId=\"radio\"/>\n-\t\t\t<channel-group id=\"mower\" typeId=\"mower\"/>\n-\t\t\t<channel-group id=\"mower_stats\" typeId=\"mowerStats\"/>\n-\t\t\t<channel-group id=\"firmware\" typeId=\"firmware\"/>\n+\t\t\t<channel-group id=\"common\" typeId=\"commonProperties\"/>\n+\t\t\t<channel-group id=\"mower\" typeId=\"mowerProperties\"/>\n+\t\t\t<channel-group id=\"mower_commands\" typeId=\"mowerCommands\"/>\n \t\t</channel-groups>\n \t\t<properties>\n-\t\t\t<!-- device info -->\n-\t\t\t<property name=\"manufacturer\"/>\n-\t\t\t<property name=\"product\"/>\n-\t\t\t<property name=\"serialNumber\"/>\n-\t\t\t<property name=\"sgtin\"/>\n-\t\t\t<property name=\"version\"/>\n-\t\t\t<property name=\"category\"/>\n+\t\t\t<!-- common -->\n+\t\t\t<property name=\"serial\"/>\n+\t\t\t<property name=\"modelType\"/>\n \t\t</properties>\n \t</thing-type>\n \n-\t<channel-group-type id=\"deviceInfo\">\n-\t\t<label>Device Info</label>\n-\t\t<description>Information about the device</description>\n-\t\t<channels>\n-\t\t\t<channel id=\"last_time_online\" typeId=\"lastTimeOnline\"/>\n-\t\t</channels>\n-\t</channel-group-type>\n-\n-\t<channel-group-type id=\"rechargeableBattery\">\n-\t\t<label>Battery Info</label>\n-\t\t<description>Information about the rechargeable battery</description>\n-\t\t<channels>\n-\t\t\t<channel id=\"level\" typeId=\"system.battery-level\"/>\n-\t\t\t<channel id=\"charging\" typeId=\"charging\"/>\n-\t\t</channels>\n-\t</channel-group-type>\n-\n-\t<channel-group-type id=\"radio\">\n-\t\t<label>Radio Link</label>\n-\t\t<description>Information about the radio link</description>\n-\t\t<channels>\n-\t\t\t<channel id=\"quality\" typeId=\"radioQuality\"/>\n-\t\t\t<channel id=\"state\" typeId=\"system.signal-strength\"/>\n-\t\t</channels>\n-\t</channel-group-type>\n-\n-\t<channel-group-type id=\"mower\">\n-\t\t<label>Robotic Mower</label>\n-\t\t<description>Information about the robotic mower</description>\n-\t\t<channels>\n-\t\t\t<channel id=\"manual_operation\" typeId=\"manualOperation\"/>\n-\t\t\t<channel id=\"status\" typeId=\"status\"/>\n-\t\t\t<channel id=\"error\" typeId=\"error\"/>\n-\t\t\t<channel id=\"source_for_next_start\" typeId=\"sourceForNextStart\"/>\n-\t\t\t<channel id=\"timestamp_next_start\" typeId=\"timestampNextStart\"/>\n-\t\t\t<channel id=\"override_end_time\" typeId=\"overrideEndTime\"/>\n-\t\t\t<channel id=\"park_until_further_notice\" typeId=\"parkUntilFurtherNotice\"/>\n-\t\t\t<channel id=\"park_until_next_timer\" typeId=\"parkUntilNextTimer\"/>\n-\t\t\t<channel id=\"start_override_timer\" typeId=\"startOverrideTimer\"/>\n-\t\t\t<channel id=\"start_resume_schedule\" typeId=\"startResumeSchedule\"/>\n-\t\t\t<channel id=\"duration_property\" typeId=\"mowerDurationProperty\"/>\n-\t\t</channels>\n-\t</channel-group-type>\n-\n-\t<channel-type id=\"mowerDurationProperty\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Mowing Time</label>\n-\t\t<description>Mowing time in minutes</description>\n-\t\t<state pattern=\"%d min\" min=\"1\" max=\"1440\" step=\"1\"/>\n-\t</channel-type>\n-\n-\t<channel-type id=\"parkUntilFurtherNotice\">\n-\t\t<item-type>Switch</item-type>\n-\t\t<label>Park and Pause All Timers</label>\n-\t\t<description>Park and pause all timers</description>\n-\t</channel-type>\n-\n-\t<channel-type id=\"parkUntilNextTimer\">\n-\t\t<item-type>Switch</item-type>\n-\t\t<label>Park Until Next Timer</label>\n-\t\t<description>Park until next timer</description>\n-\t</channel-type>\n-\n-\t<channel-type id=\"startResumeSchedule\">\n-\t\t<item-type>Switch</item-type>\n-\t\t<label>Start Resume Schedule</label>\n-\t\t<description>Start resume schedule</description>\n-\t</channel-type>\n-\n-\t<channel-type id=\"startOverrideTimer\">\n-\t\t<item-type>Switch</item-type>\n-\t\t<label>Override Timer</label>\n-\t\t<description>Starts the mower for the specified duration</description>\n-\t</channel-type>\n-\n-\t<channel-type id=\"lastTimeOnline\" advanced=\"true\">\n-\t\t<item-type>DateTime</item-type>\n-\t\t<label>Last Time Online</label>\n-\t\t<description>Last time the device was online</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n-\n-\t<channel-type id=\"charging\" advanced=\"true\">\n-\t\t<item-type>Switch</item-type>\n-\t\t<label>Battery Charging</label>\n-\t\t<description>Battery Charging</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t<!-- ############################### Watering Computer ############################### -->\n \n-\t<channel-type id=\"radioQuality\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Radio Link Quality</label>\n-\t\t<description>Radio Link Quality</description>\n-\t\t<state pattern=\"%d %%\" readOnly=\"true\"/>\n-\t</channel-type>\n+\t<thing-type id=\"water_control\">\n+\t\t<supported-bridge-type-refs>\n+\t\t\t<bridge-type-ref id=\"account\"/>\n+\t\t</supported-bridge-type-refs>\n \n-\t<channel-type id=\"manualOperation\" advanced=\"true\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Manual Operation</label>\n-\t\t<description>The mower is controlled manually</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t\t<label>Gardena smart Water Control</label>\n+\t\t<description>Represents a Gardena smart Water Control</description>\n \n-\t<channel-type id=\"status\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Mower Status</label>\n-\t\t<description>The mower status</description>\n-\t\t<state readOnly=\"true\">\n-\t\t\t<options>\n-\t\t\t\t<option value=\"uninitialised\">Uninitialised</option>\n-\t\t\t\t<option value=\"paused\">Paused</option>\n-\t\t\t\t<option value=\"ok_cutting\">Mowing</option>\n-\t\t\t\t<option value=\"ok_searching\">Searching charging station</option>\n-\t\t\t\t<option value=\"ok_charging\">Charging</option>\n-\t\t\t\t<option value=\"ok_leaving\">Mowing</option>\n-\t\t\t\t<option value=\"wait_updating\">Updating ...</option>\n-\t\t\t\t<option value=\"wait_power_up\">Powering up ...</option>\n-\t\t\t\t<option value=\"parked_timer\">Parked on schedule</option>\n-\t\t\t\t<option value=\"parked_park_selected\">Parked</option>\n-\t\t\t\t<option value=\"off_disabled\">The mower is turned off</option>\n-\t\t\t\t<option value=\"off_hatch_open\">Disabled. Hatch open</option>\n-\t\t\t\t<option value=\"unknown\">Unknown</option>\n-\t\t\t\t<option value=\"error\">Error</option>\n-\t\t\t\t<option value=\"error_at_power_up\">Error</option>\n-\t\t\t\t<option value=\"off_hatch_closed\">Disabled. Manual start needed</option>\n-\t\t\t\t<option value=\"ok_cutting_timer_overridden\">Manual mowing</option>\n-\t\t\t\t<option value=\"parked_autotimer\">Parked due to SensorControl</option>\n-\t\t\t\t<option value=\"parked_daily_limit_reached\">Completed</option>\n-\t\t\t\t<option value=\"undefined\">Undefined</option>\n-\t\t\t</options>\n-\t\t</state>\n-\t</channel-type>\n-\n-\t<channel-type id=\"error\" advanced=\"true\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Mower Error</label>\n-\t\t<description>Mower Error</description>\n-\t\t<state readOnly=\"true\">\n-\t\t\t<options>\n-\t\t\t\t<option value=\"no_message\">No message</option>\n-\t\t\t\t<option value=\"outside_working_area\">Outside working area</option>\n-\t\t\t\t<option value=\"no_loop_signal\">No loop signal</option>\n-\t\t\t\t<option value=\"wrong_loop_signal\">Wrong loop signal</option>\n-\t\t\t\t<option value=\"loop_sensor_problem_front\">Loop sensor problem, front</option>\n-\t\t\t\t<option value=\"loop_sensor_problem_rear\">Loop sensor problem, rear</option>\n-\t\t\t\t<option value=\"loop_sensor_problem_left\">Loop sensor problem, left</option>\n-\t\t\t\t<option value=\"loop_sensor_problem_right\">Loop sensor problem, right</option>\n-\t\t\t\t<option value=\"wrong_pin_code\">Wrong pin code</option>\n-\t\t\t\t<option value=\"trapped\">Trapped</option>\n-\t\t\t\t<option value=\"upside_down\">Upside down</option>\n-\t\t\t\t<option value=\"low_battery\">Low battery</option>\n-\t\t\t\t<option value=\"empty_battery\">Empty battery</option>\n-\t\t\t\t<option value=\"no_drive\">Disabled. Hatch open</option>\n-\t\t\t\t<option value=\"temporarily_lifted\">Temporary lifted</option>\n-\t\t\t\t<option value=\"lifted\">Lifted</option>\n-\t\t\t\t<option value=\"stuck_in_charging_station\">Stuck in charging station</option>\n-\t\t\t\t<option value=\"charging_station_blocked\">Charging station blocked</option>\n-\t\t\t\t<option value=\"collision_sensor_problem_rear\">Collision sensor problem, rear</option>\n-\t\t\t\t<option value=\"collision_sensor_problem_front\">Collision sensor problem, front</option>\n-\t\t\t\t<option value=\"wheel_motor_blocked_right\">Wheel motor blocked, right</option>\n-\t\t\t\t<option value=\"wheel_motor_blocked_left\">Wheel motor blocked, left</option>\n-\t\t\t\t<option value=\"wheel_drive_problem_right\">Wheel drive problem, right</option>\n-\t\t\t\t<option value=\"wheel_drive_problem_left\">Wheel drive problem, left</option>\n-\t\t\t\t<option value=\"cutting_motor_drive_defect\">Cutting motor drive defect</option>\n-\t\t\t\t<option value=\"cutting_system_blocked\">Cutting system blocked</option>\n-\t\t\t\t<option value=\"invalid_sub_device_combination\">Invalid sub-device combination</option>\n-\t\t\t\t<option value=\"settings_restored\">Settings restored</option>\n-\t\t\t\t<option value=\"memory_circuit_problem\">Memory circuit problem</option>\n-\t\t\t\t<option value=\"slope_too_steep\">Slope too steep</option>\n-\t\t\t\t<option value=\"charging_system_problem\">Charging system problem</option>\n-\t\t\t\t<option value=\"stop_button_problem\">Stop button problem</option>\n-\t\t\t\t<option value=\"tilt_sensor_problem\">Tilt sensor problem</option>\n-\t\t\t\t<option value=\"mower_tilted\">Mower tilted</option>\n-\t\t\t\t<option value=\"wheel_motor_overloaded_right\">Wheel motor overloaded, right</option>\n-\t\t\t\t<option value=\"wheel_motor_overloaded_left\">Wheel motor overloaded, left</option>\n-\t\t\t\t<option value=\"charging_current_too_high\">Charging current too high</option>\n-\t\t\t\t<option value=\"electronic_problem\">Electronic problem</option>\n-\t\t\t\t<option value=\"cutting_motor_problem\">Cutting motor problem</option>\n-\t\t\t\t<option value=\"limited_cutting_height_range\">Limited cutting height range</option>\n-\t\t\t\t<option value=\"unexpected_cutting_height_adj\">Unexpected cutting height adj</option>\n-\t\t\t\t<option value=\"cutting_height_problem_drive\">Cutting height problem drive</option>\n-\t\t\t\t<option value=\"cutting_height_problem_curr\">Cutting height problem curr</option>\n-\t\t\t\t<option value=\"cutting_height_problem_dir\">Cutting height problem dir</option>\n-\t\t\t\t<option value=\"cutting_height_blocked\">Cutting height blocked</option>\n-\t\t\t\t<option value=\"cutting_height_problem\">Cutting height problem</option>\n-\t\t\t\t<option value=\"no_response_from_charger\">No response from charger</option>\n-\t\t\t\t<option value=\"ultrasonic_problem\">Ultrasonic problem</option>\n-\t\t\t\t<option value=\"temporary_problem\">Temporary problem</option>\n-\t\t\t\t<option value=\"guide_1_not_found\">Guide 1 not found</option>\n-\t\t\t\t<option value=\"guide_2_not_found\">Guide 2 not found</option>\n-\t\t\t\t<option value=\"guide_3_not_found\">Guide 3 not found</option>\n-\t\t\t\t<option value=\"gps_tracker_module_error\">GPS tracker module error</option>\n-\t\t\t\t<option value=\"weak_gps_signal\">Weak gps signal</option>\n-\t\t\t\t<option value=\"difficult_finding_home\">Difficult finding home</option>\n-\t\t\t\t<option value=\"guide_calibration_accomplished\">Guide calibration accomplished</option>\n-\t\t\t\t<option value=\"guide_calibration_failed\">Guide calibration failed</option>\n-\t\t\t\t<option value=\"temporary_battery_problem\">Temporary battery problem</option>\n-\t\t\t\t<option value=\"battery_problem\">Battery problem</option>\n-\t\t\t\t<option value=\"too_many_batteries\">Too many batteries</option>\n-\t\t\t\t<option value=\"alarm_mower_switched_off\">Alarm! Mower switched off</option>\n-\t\t\t\t<option value=\"alarm_mower_stopped\">Alarm! Mower stopped</option>\n-\t\t\t\t<option value=\"alarm_mower_lifted\">Alarm! Mower lifted</option>\n-\t\t\t\t<option value=\"alarm_mower_tilted\">Alarm! Mower tilted</option>\n-\t\t\t\t<option value=\"alarm_mower_in_motion\">Alarm! Mower in motion</option>\n-\t\t\t\t<option value=\"alarm_outside_geofence\">Alarm outside geofence</option>\n-\t\t\t\t<option value=\"connection_changed\">Connection changed</option>\n-\t\t\t\t<option value=\"connection_not_changed\">Connection not changed</option>\n-\t\t\t\t<option value=\"com_board_not_available\">COM board not available</option>\n-\t\t\t\t<option value=\"slipped\">Slipped</option>\n-\t\t\t\t<option value=\"invalid_battery_combination\">Invalid battery combination</option>\n-\t\t\t\t<option value=\"imbalanced_cutting_disc\">Imbalanced cutting disc</option>\n-\t\t\t\t<option value=\"safety_function_faulty\">Safety function faulty</option>\n-\t\t\t</options>\n-\t\t</state>\n-\t</channel-type>\n+\t\t<channel-groups>\n+\t\t\t<channel-group id=\"common\" typeId=\"commonProperties\"/>\n+\t\t\t<channel-group id=\"valve\" typeId=\"valveProperties\"/>\n+\t\t\t<channel-group id=\"valve_commands\" typeId=\"valveCommands\"/>\n+\t\t\t<channel-group id=\"valveSet\" typeId=\"valveSetProperties\"/>\n+\t\t\t<channel-group id=\"valveSet_commands\" typeId=\"valveSetCommands\"/>\n+\t\t</channel-groups>\n+\t\t<properties>\n+\t\t\t<!-- common -->\n+\t\t\t<property name=\"serial\"/>\n+\t\t\t<property name=\"modelType\"/>\n+\t\t</properties>\n+\t</thing-type>\n \n-\t<channel-type id=\"sourceForNextStart\" advanced=\"true\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Source for Next Start</label>\n-\t\t<description>The source for the next start</description>\n-\t\t<state readOnly=\"true\">\n-\t\t\t<options>\n-\t\t\t\t<option value=\"no_source\">No source</option>\n-\t\t\t\t<option value=\"completed_cutting_daily_limit\">Completed cutting daily limit</option>\n-\t\t\t\t<option value=\"week_timer\">Week timer</option>\n-\t\t\t\t<option value=\"countdown_timer\">Countdown timer</option>\n-\t\t\t\t<option value=\"mower_charging\">Mower charging</option>\n-\t\t\t\t<option value=\"completed_cutting_autotimer\">Completed cutting autotimer</option>\n-\t\t\t\t<option value=\"undefined\">Undefined</option>\n-\t\t\t</options>\n-\t\t</state>\n-\t</channel-type>\n+\t<!-- ############################### Sensor ############################### -->\n \n-\t<channel-type id=\"timestampNextStart\">\n-\t\t<item-type>DateTime</item-type>\n-\t\t<label>Timestamp Next Start</label>\n-\t\t<description>Timestamp of the next start</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t<thing-type id=\"sensor\">\n+\t\t<supported-bridge-type-refs>\n+\t\t\t<bridge-type-ref id=\"account\"/>\n+\t\t</supported-bridge-type-refs>\n \n-\t<channel-type id=\"overrideEndTime\" advanced=\"true\">\n-\t\t<item-type>DateTime</item-type>\n-\t\t<label>Override End Time</label>\n-\t\t<description>Override End Time</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t\t<label>Gardena smart Sensor</label>\n+\t\t<description>Represents a Gardena smart Sensor</description>\n \n-\t<channel-type id=\"temperature\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Temperature</label>\n-\t\t<description>Temperature</description>\n-\t\t<state pattern=\"%d \u00b0C\" readOnly=\"true\"/>\n-\t</channel-type>\n+\t\t<channel-groups>\n+\t\t\t<channel-group id=\"common\" typeId=\"commonProperties\"/>\n+\t\t\t<channel-group id=\"sensor\" typeId=\"sensorProperties\"/>\n+\t\t</channel-groups>\n+\t\t<properties>\n+\t\t\t<!-- common -->\n+\t\t\t<property name=\"serial\"/>\n+\t\t\t<property name=\"modelType\"/>\n+\t\t</properties>\n+\t</thing-type>\n \n-\t<channel-group-type id=\"firmware\">\n-\t\t<label>Firmware</label>\n-\t\t<description>Information about the firmware</description>\n-\t\t<channels>\n-\t\t\t<channel id=\"firmware_status\" typeId=\"firmwareStatus\"/>\n-\t\t\t<channel id=\"firmware_upload_progress\" typeId=\"firmwareUploadProgress\"/>\n-\t\t\t<channel id=\"firmware_available_version\" typeId=\"firmwareAvailableVersion\"/>\n-\t\t</channels>\n-\t</channel-group-type>\n+\t<!-- ############################### Pressure Pump ############################### -->\n \n-\t<channel-type id=\"firmwareStatus\" advanced=\"true\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Status</label>\n-\t\t<description>The firmware status</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t<thing-type id=\"pump\">\n+\t\t<supported-bridge-type-refs>\n+\t\t\t<bridge-type-ref id=\"account\"/>\n+\t\t</supported-bridge-type-refs>\n \n-\t<channel-type id=\"firmwareUploadProgress\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Upload Progress</label>\n-\t\t<description>Firmware upload in progress</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t\t<label>Gardena smart Pressure Pump</label>\n+\t\t<description>Represents a Gardena smart Pressure Pump</description>\n \n-\t<channel-type id=\"firmwareAvailableVersion\" advanced=\"true\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Available Version</label>\n-\t\t<description>Available firmware version</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t\t<channel-groups>\n+\t\t\t<channel-group id=\"common\" typeId=\"commonProperties\"/>\n+\t\t\t<channel-group id=\"valve\" typeId=\"valveProperties\"/>\n+\t\t\t<channel-group id=\"valve_commands\" typeId=\"valveCommands\"/>\n+\t\t</channel-groups>\n+\t\t<properties>\n+\t\t\t<!-- common -->\n+\t\t\t<property name=\"serial\"/>\n+\t\t\t<property name=\"modelType\"/>\n+\t\t</properties>\n+\t</thing-type>\n \n-\t<channel-group-type id=\"mowerStats\">\n-\t\t<label>Robotic Mower Statistics</label>\n-\t\t<description>Statistics about the robotic mower</description>\n-\t\t<channels>\n-\t\t\t<channel id=\"cutting_time\" typeId=\"cuttingTime\"/>\n-\t\t\t<channel id=\"charging_cycles\" typeId=\"chargingCycles\"/>\n-\t\t\t<channel id=\"collisions\" typeId=\"collisions\"/>\n-\t\t\t<channel id=\"running_time\" typeId=\"runningTime\"/>\n-\t\t</channels>\n-\t</channel-group-type>\n+\t<!-- ############################### Power ############################### -->\n \n-\t<channel-type id=\"cuttingTime\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Cutting Time</label>\n-\t\t<description>The cutting time</description>\n-\t\t<state readOnly=\"true\" pattern=\"%d h\"/>\n-\t</channel-type>\n+\t<thing-type id=\"power\">\n+\t\t<supported-bridge-type-refs>\n+\t\t\t<bridge-type-ref id=\"account\"/>\n+\t\t</supported-bridge-type-refs>\n \n-\t<channel-type id=\"chargingCycles\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Charging Cycles</label>\n-\t\t<description>The charging cycles</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t\t<label>Gardena smart Power Adapter</label>\n+\t\t<description>Represents a Gardena smart Power Adapter</description>\n \n-\t<channel-type id=\"collisions\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Collisions</label>\n-\t\t<description>The number of collisions</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t\t<channel-groups>\n+\t\t\t<channel-group id=\"common\" typeId=\"commonProperties\"/>\n+\t\t\t<channel-group id=\"powerSocket\" typeId=\"powerSocketProperties\"/>\n+\t\t\t<channel-group id=\"powerSocket_commands\" typeId=\"powerSocketCommands\"/>\n+\t\t</channel-groups>\n+\t\t<properties>\n+\t\t\t<!-- common -->\n+\t\t\t<property name=\"serial\"/>\n+\t\t\t<property name=\"modelType\"/>\n+\t\t</properties>\n+\t</thing-type>\n \n-\t<channel-type id=\"runningTime\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Running Time</label>\n-\t\t<description>Running time</description>\n-\t\t<state readOnly=\"true\" pattern=\"%d h\"/>\n-\t</channel-type>\n+\t<!-- ############################### Irrigation Control ############################### -->\n \n-\t<!-- ############################### Watering Computer ############################### -->\n-\t<thing-type id=\"watering_computer\">\n+\t<thing-type id=\"irrigation_control\">\n \t\t<supported-bridge-type-refs>\n \t\t\t<bridge-type-ref id=\"account\"/>\n \t\t</supported-bridge-type-refs>\n \n-\t\t<label>Gardena Smart Watering Computer</label>\n-\t\t<description>Represents a Gardena Smart Watering Computer</description>\n+\t\t<label>Gardena smart Irrigation Control</label>\n+\t\t<description>Represents a Gardena smart Irrigation Control</description>\n \n \t\t<channel-groups>\n-\t\t\t<channel-group id=\"device_info\" typeId=\"deviceInfo\"/>\n-\t\t\t<channel-group id=\"battery\" typeId=\"battery\"/>\n-\t\t\t<channel-group id=\"radio\" typeId=\"radio\"/>\n-\t\t\t<channel-group id=\"outlet\" typeId=\"outlet\"/>\n-\t\t\t<channel-group id=\"ambient_temperature\" typeId=\"ambientTemperature\"/>\n+\t\t\t<channel-group id=\"common\" typeId=\"commonProperties\"/>\n+\t\t\t<channel-group id=\"valveOne\" typeId=\"valveProperties\">\n+\t\t\t\t<label>Valve 1 properties</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveOne_commands\" typeId=\"valveCommands\">\n+\t\t\t\t<label>Valve 1 commands</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveTwo\" typeId=\"valveProperties\">\n+\t\t\t\t<label>Valve 2 properties</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveTwo_commands\" typeId=\"valveCommands\">\n+\t\t\t\t<label>Valve 2 commands</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveThree\" typeId=\"valveProperties\">\n+\t\t\t\t<label>Valve 3 properties</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveThree_commands\" typeId=\"valveCommands\">\n+\t\t\t\t<label>Valve 3 commands</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveFour\" typeId=\"valveProperties\">\n+\t\t\t\t<label>Valve 4 properties</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveFour_commands\" typeId=\"valveCommands\">\n+\t\t\t\t<label>Valve 4 Commands</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveFive\" typeId=\"valveProperties\">\n+\t\t\t\t<label>Valve 5 Properties</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveFive_commands\" typeId=\"valveCommands\">\n+\t\t\t\t<label>Valve 5 Commands</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveSix\" typeId=\"valveProperties\">\n+\t\t\t\t<label>Valve 6 Properties</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveSix_commands\" typeId=\"valveCommands\">\n+\t\t\t\t<label>Valve 6 Commands</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveSet\" typeId=\"valveSetProperties\"/>\n+\t\t\t<channel-group id=\"valveSet_commands\" typeId=\"valveSetCommands\"/>\n \t\t</channel-groups>\n \t\t<properties>\n-\t\t\t<!-- device info -->\n-\t\t\t<property name=\"manufacturer\"/>\n-\t\t\t<property name=\"product\"/>\n-\t\t\t<property name=\"serialNumber\"/>\n-\t\t\t<property name=\"sgtin\"/>\n-\t\t\t<property name=\"version\"/>\n-\t\t\t<property name=\"category\"/>\n+\t\t\t<!-- common -->\n+\t\t\t<property name=\"serial\"/>\n+\t\t\t<property name=\"modelType\"/>\n \t\t</properties>\n \t</thing-type>\n \n-\t<channel-group-type id=\"battery\">\n-\t\t<label>Battery Info</label>\n-\t\t<description>Information about the battery</description>\n+\t<!-- ############################### channels and groups ############################### -->\n+\n+\t<channel-group-type id=\"valveSetProperties\">\n+\t\t<label>Valve Set Properties</label>\n+\t\t<description>Properties of a valve set</description>\n \t\t<channels>\n-\t\t\t<channel id=\"level\" typeId=\"system.battery-level\"/>\n-\t\t\t<channel id=\"disposable_battery_status\" typeId=\"disposableBatteryStatus\"/>\n+\t\t\t<channel id=\"state\" typeId=\"state\"/>\n+\t\t\t<channel id=\"state_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>State Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"lastErrorCode\" typeId=\"lastErrorCode\"/>\n+\t\t\t<channel id=\"lastErrorCode_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Last Error Code Timestamp</label>\n+\t\t\t</channel>\n \t\t</channels>\n \t</channel-group-type>\n \n-\t<channel-group-type id=\"outlet\">\n-\t\t<label>Watering Outlet</label>\n-\t\t<description>Information about the watering outlet</description>\n+\t<channel-group-type id=\"valveProperties\">\n+\t\t<label>Valve Properties</label>\n+\t\t<description>Properties of a valve</description>\n \t\t<channels>\n-\t\t\t<channel id=\"valve_open\" typeId=\"valveOpen\"/>\n-\t\t\t<channel id=\"manual_override\" typeId=\"manualOverride\"/>\n-\t\t\t<channel id=\"button_manual_override_time\" typeId=\"buttonManualOverrideTime\"/>\n+\t\t\t<channel id=\"name\" typeId=\"name\"/>\n+\t\t\t<channel id=\"state\" typeId=\"state\"/>\n+\t\t\t<channel id=\"state_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>State Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"activity\" typeId=\"activity\"/>\n+\t\t\t<channel id=\"activity_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Activity Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"lastErrorCode\" typeId=\"lastErrorCode\"/>\n+\t\t\t<channel id=\"lastErrorCode_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Last Error Code Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"duration\" typeId=\"duration\"/>\n \t\t</channels>\n \t</channel-group-type>\n \n-\t<channel-group-type id=\"ambientTemperature\">\n-\t\t<label>Ambient Temperature</label>\n-\t\t<description>Ambient Temperature</description>\n+\t<channel-group-type id=\"sensorProperties\">\n+\t\t<label>Sensor Properties</label>\n+\t\t<description>Properties of a sensor</description>\n \t\t<channels>\n-\t\t\t<channel id=\"temperature\" typeId=\"temperature\">\n+\t\t\t<channel id=\"soilHumidity\" typeId=\"soilHumidity\"/>\n+\t\t\t<channel id=\"soilHumidity_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Soil Humidity Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"soilTemperature\" typeId=\"temperature\">\n+\t\t\t\t<label>Soil Temperature</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"soilTemperature_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Soil Temperature Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"ambientTemperature\" typeId=\"temperature\">\n \t\t\t\t<label>Ambient Temperature</label>\n \t\t\t</channel>\n-\t\t\t<channel id=\"frost_warning\" typeId=\"frostWarning\"/>\n+\t\t\t<channel id=\"ambientTemperature_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Ambient Temperature Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"lightIntensity\" typeId=\"lightIntensity\"/>\n+\t\t\t<channel id=\"lightIntensity_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Light Intensity Timestamp</label>\n+\t\t\t</channel>\n \t\t</channels>\n \t</channel-group-type>\n \n-\t<channel-type id=\"disposableBatteryStatus\" advanced=\"true\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Disposable Battery Status</label>\n-\t\t<description>The status of the disposable battery</description>\n-\t\t<state readOnly=\"true\">\n-\t\t\t<options>\n-\t\t\t\t<option value=\"out_of_operation\">Out of operation</option>\n-\t\t\t\t<option value=\"replace_now\">Critical battery level, replace now</option>\n-\t\t\t\t<option value=\"low\">Low</option>\n-\t\t\t\t<option value=\"ok\">OK</option>\n-\t\t\t\t<option value=\"undefined\">Undefined</option>\n-\t\t\t</options>\n-\t\t</state>\n-\t</channel-type>\n-\n-\t<channel-type id=\"valveOpen\">\n-\t\t<item-type>Switch</item-type>\n-\t\t<label>Valve Open</label>\n-\t\t<description>Valve Open</description>\n-\t</channel-type>\n-\n-\t<channel-type id=\"manualOverride\" advanced=\"true\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Manual Override</label>\n-\t\t<description>Manual Override</description>\n-\t\t<state readOnly=\"true\">\n-\t\t\t<options>\n-\t\t\t\t<option value=\"inactive\">Inactive</option>\n-\t\t\t\t<option value=\"open\">Open</option>\n-\t\t\t\t<option value=\"undefined\">Undefined</option>\n-\t\t\t</options>\n-\t\t</state>\n-\t</channel-type>\n-\n-\t<channel-type id=\"buttonManualOverrideTime\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Button Manual Override</label>\n-\t\t<description>The time the valve is open when you press the button on the device</description>\n-\t\t<state pattern=\"%d min\" min=\"1\" max=\"59\" step=\"1\"/>\n-\t</channel-type>\n-\n-\t<channel-type id=\"frostWarning\" advanced=\"true\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Frost Warning</label>\n-\t\t<description>Frost Warning</description>\n-\t\t<state readOnly=\"true\">\n-\t\t\t<options>\n-\t\t\t\t<option value=\"no_frost\">No frost</option>\n-\t\t\t\t<option value=\"frost\">Frost</option>\n-\t\t\t\t<option value=\"undefined\">Undefined</option>\n-\t\t\t</options>\n-\t\t</state>\n-\t</channel-type>\n-\n-\t<!-- ############################### Sensor ############################### -->\n-\t<thing-type id=\"sensor\">\n-\t\t<supported-bridge-type-refs>\n-\t\t\t<bridge-type-ref id=\"account\"/>\n-\t\t</supported-bridge-type-refs>\n-\n-\t\t<label>Gardena Smart Sensor</label>\n-\t\t<description>Represents a Gardena Smart Sensor</description>\n-\n-\t\t<channel-groups>\n-\t\t\t<channel-group id=\"device_info\" typeId=\"deviceInfo\"/>\n-\t\t\t<channel-group id=\"battery\" typeId=\"battery\"/>\n-\t\t\t<channel-group id=\"radio\" typeId=\"radio\"/>\n-\t\t\t<channel-group id=\"ambient_temperature\" typeId=\"ambientTemperature\"/>\n-\t\t\t<channel-group id=\"soil_temperature\" typeId=\"soilTemperature\"/>\n-\t\t\t<channel-group id=\"humidity\" typeId=\"humidity\"/>\n-\t\t\t<channel-group id=\"light\" typeId=\"light\"/>\n-\t\t</channel-groups>\n-\t\t<properties>\n-\t\t\t<!-- device info -->\n-\t\t\t<property name=\"manufacturer\"/>\n-\t\t\t<property name=\"product\"/>\n-\t\t\t<property name=\"serialNumber\"/>\n-\t\t\t<property name=\"sgtin\"/>\n-\t\t\t<property name=\"version\"/>\n-\t\t\t<property name=\"category\"/>\n-\t\t</properties>\n-\t</thing-type>\n-\n-\t<channel-group-type id=\"soilTemperature\">\n-\t\t<label>Soil Temperature</label>\n-\t\t<description>The soil temperature</description>\n+\t<channel-group-type id=\"powerSocketProperties\">\n+\t\t<label>Power Socket Properties</label>\n+\t\t<description>Properties of a power socket</description>\n \t\t<channels>\n-\t\t\t<channel id=\"temperature\" typeId=\"temperature\">\n-\t\t\t\t<label>Soil Temperature</label>\n+\t\t\t<channel id=\"state\" typeId=\"state\"/>\n+\t\t\t<channel id=\"state_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>State Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"activity\" typeId=\"activity\"/>\n+\t\t\t<channel id=\"activity_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Activity Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"lastErrorCode\" typeId=\"lastErrorCode\"/>\n+\t\t\t<channel id=\"lastErrorCode_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Last Error Code Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"duration\" typeId=\"duration\"/>\n+\t\t\t<channel id=\"duration_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Duration Timestamp</label>\n \t\t\t</channel>\n \t\t</channels>\n \t</channel-group-type>\n \n-\t<channel-group-type id=\"humidity\">\n-\t\t<label>Humidity</label>\n-\t\t<description>The humidity</description>\n+\t<channel-group-type id=\"mowerProperties\">\n+\t\t<label>Mower Properties</label>\n+\t\t<description>Properties of a mower</description>\n \t\t<channels>\n-\t\t\t<channel id=\"humidity\" typeId=\"humidity\"/>\n+\t\t\t<channel id=\"state\" typeId=\"state\"/>\n+\t\t\t<channel id=\"state_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>State Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"activity\" typeId=\"activity\"/>\n+\t\t\t<channel id=\"activity_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Activity Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"lastErrorCode\" typeId=\"lastErrorCode\"/>\n+\t\t\t<channel id=\"lastErrorCode_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Last Error Code Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"operatingHours\" typeId=\"operatingHours\"/>\n \t\t</channels>\n \t</channel-group-type>\n \n-\t<channel-group-type id=\"light\">\n-\t\t<label>Brightness</label>\n-\t\t<description>The brightness</description>\n+\t<channel-group-type id=\"commonProperties\">\n+\t\t<label>Common Properties</label>\n+\t\t<description>Properties that are common across devices</description>\n \t\t<channels>\n-\t\t\t<channel id=\"light\" typeId=\"light\"/>\n+\t\t\t<channel id=\"name\" typeId=\"name\"/>\n+\t\t\t<channel id=\"batteryLevel\" typeId=\"system.battery-level\"/>\n+\t\t\t<channel id=\"batteryLevel_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Battery Level Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"batteryState\" typeId=\"batteryState\"/>\n+\t\t\t<channel id=\"batteryState_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Battery State Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"rfLinkLevel\" typeId=\"system.signal-strength\"/>\n+\t\t\t<channel id=\"rfLinkLevel_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>RF Link Level Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"rfLinkState\" typeId=\"rfLinkState\"/>\n+\t\t\t<channel id=\"rfLinkState_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>RF Link State Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"lastUpdate_timestamp\" typeId=\"timestampRefresh\">\n+\t\t\t\t<label>LastUpdate Timestamp</label>\n+\t\t\t</channel>\n \t\t</channels>\n \t</channel-group-type>\n \n-\t<channel-type id=\"humidity\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Humidity</label>\n-\t\t<description>The humidity</description>\n-\t\t<state pattern=\"%d %%\" readOnly=\"true\"/>\n-\t</channel-type>\n-\n-\t<channel-type id=\"light\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Brightness</label>\n-\t\t<description>The brightness</description>\n-\t\t<state pattern=\"%d lx\" readOnly=\"true\"/>\n-\t</channel-type>\n-\n-\t<!-- ############################### Pressure Pump ############################### -->\n-\n-\t<thing-type id=\"electronic_pressure_pump\">\n-\t\t<supported-bridge-type-refs>\n-\t\t\t<bridge-type-ref id=\"account\"/>\n-\t\t</supported-bridge-type-refs>\n-\n-\t\t<label>Gardena Smart Pressure Pump</label>\n-\t\t<description>Represents a Gardena Smart Pressure Pump</description>\n-\n-\t\t<channel-groups>\n-\t\t\t<channel-group id=\"device_info\" typeId=\"deviceInfo\"/>\n-\t\t\t<channel-group id=\"radio\" typeId=\"radio\"/>\n-\n-\t\t\t<channel-group id=\"outlet_temperature\" typeId=\"outletTemperature\"/>\n-\t\t\t<channel-group id=\"pump\" typeId=\"pump\"/>\n-\t\t\t<channel-group id=\"outlet_pressure\" typeId=\"outletPressure\"/>\n-\t\t\t<channel-group id=\"flow\" typeId=\"flow\"/>\n-\t\t\t<channel-group id=\"manual_watering\" typeId=\"manualWatering\"/>\n-\t\t\t<channel-group id=\"scheduling\" typeId=\"scheduling\"/>\n-\t\t</channel-groups>\n-\n-\t\t<properties>\n-\t\t\t<!-- device info -->\n-\t\t\t<property name=\"manufacturer\"/>\n-\t\t\t<property name=\"product\"/>\n-\t\t\t<property name=\"serialNumber\"/>\n-\t\t\t<property name=\"sgtin\"/>\n-\t\t\t<property name=\"version\"/>\n-\t\t\t<property name=\"category\"/>\n-\t\t</properties>\n-\n-\t\t<config-description>\n-\t\t\t<parameter name=\"leakage_detection\" type=\"text\">\n-\t\t\t\t<label>Leakage Detection</label>\n-\t\t\t\t<options>\n-\t\t\t\t\t<option value=\"watering\">Watering</option>\n-\t\t\t\t\t<option value=\"washing_machine\">Washing machine</option>\n-\t\t\t\t\t<option value=\"domestic_water_supply\">Domestic water supply</option>\n-\t\t\t\t\t<option value=\"off\">Off</option>\n-\t\t\t\t</options>\n-\t\t\t</parameter>\n-\t\t\t<parameter name=\"operating_mode\" type=\"text\">\n-\t\t\t\t<label>Operating Mode</label>\n-\t\t\t\t<options>\n-\t\t\t\t\t<option value=\"scheduled\">Scheduled</option>\n-\t\t\t\t\t<option value=\"automatic\">Automatic</option>\n-\t\t\t\t</options>\n-\t\t\t</parameter>\n-\t\t\t<parameter name=\"turn_on_pressure\" type=\"text\">\n-\t\t\t\t<label>Turn On Pressure</label>\n-\t\t\t\t<options>\n-\t\t\t\t\t<option value=\"2.0\">2.0</option>\n-\t\t\t\t\t<option value=\"2.2\">2.2</option>\n-\t\t\t\t\t<option value=\"2.4\">2.4</option>\n-\t\t\t\t\t<option value=\"2.6\">2.6</option>\n-\t\t\t\t\t<option value=\"2.8\">2.8</option>\n-\t\t\t\t</options>\n-\t\t\t</parameter>\n-\t\t</config-description>\n-\t</thing-type>\n-\n-\t<channel-group-type id=\"outletTemperature\">\n-\t\t<label>Outlet Temperature</label>\n-\t\t<description>The outlet temperature</description>\n+\t<channel-group-type id=\"mowerCommands\">\n+\t\t<label>Mower Commands</label>\n+\t\t<description>Commands to control a mower</description>\n \t\t<channels>\n-\t\t\t<channel id=\"temperature\" typeId=\"temperature\"/>\n-\t\t\t<channel id=\"temperature_min\" typeId=\"temperatureMin\"/>\n-\t\t\t<channel id=\"temperature_max\" typeId=\"temperatureMax\"/>\n-\t\t\t<channel id=\"frost_warning\" typeId=\"frostWarning\"/>\n+\t\t\t<channel id=\"commandDuration\" typeId=\"mowerCommandDuration\">\n+\t\t\t\t<label>Mowing Duration</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"start_seconds_to_override\" typeId=\"gardenaCommand\">\n+\t\t\t\t<label>Start mowing with duration</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"start_dont_override\" typeId=\"gardenaCommand\">\n+\t\t\t\t<label>Start Schedule</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"park_until_next_task\" typeId=\"gardenaCommand\">\n+\t\t\t\t<label>Park</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"park_until_further_notice\" typeId=\"gardenaCommand\">\n+\t\t\t\t<label>Pause schedule</label>\n+\t\t\t</channel>\n \t\t</channels>\n \t</channel-group-type>\n \n-\t<channel-type id=\"temperatureMin\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Minimum Temperature</label>\n-\t\t<description>The minimum outlet temperature</description>\n-\t\t<state pattern=\"%d \u00b0C\" readOnly=\"true\"/>\n-\t</channel-type>\n-\n-\t<channel-type id=\"temperatureMax\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Maximum Temperature</label>\n-\t\t<description>The maximum outlet temperature</description>\n-\t\t<state pattern=\"%d \u00b0C\" readOnly=\"true\"/>\n-\t</channel-type>\n+\t<channel-group-type id=\"valveCommands\">\n+\t\t<label>Valve Commands</label>\n+\t\t<description>Commands to control a valve</description>\n+\t\t<channels>\n+\t\t\t<channel id=\"commandDuration\" typeId=\"valveCommandDuration\">\n+\t\t\t\t<label>Irrigation Duration</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"start_seconds_to_override\" typeId=\"gardenaCommand\">\n+\t\t\t\t<label>Open valve with duration</label>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "eb02adf3ea4c748f4b3ec438ee5599ed52609bc3"}, "originalPosition": 877}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM4MTY5NjcxOnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.gardena/src/main/resources/OH-INF/thing/thing-types.xml", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxNzo0OToyN1rOIBtB3Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxNzo0OToyN1rOIBtB3Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODY1NzI0NQ==", "bodyText": "See above", "url": "https://github.com/openhab/openhab-addons/pull/8869#discussion_r538657245", "createdAt": "2020-12-08T17:49:27Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.gardena/src/main/resources/OH-INF/thing/thing-types.xml", "diffHunk": "@@ -10,1162 +10,633 @@\n \t\t\t<bridge-type-ref id=\"account\"/>\n \t\t</supported-bridge-type-refs>\n \n-\t\t<label>Gardena Smart Sileno Mower</label>\n-\t\t<description>A Gardena Smart Sileno mower</description>\n+\t\t<label>Gardena smart SILENO Mower</label>\n+\t\t<description>Represents any Gardena smart SILENO mower model</description>\n \n \t\t<channel-groups>\n-\t\t\t<channel-group id=\"device_info\" typeId=\"deviceInfo\"/>\n-\t\t\t<channel-group id=\"battery\" typeId=\"rechargeableBattery\"/>\n-\t\t\t<channel-group id=\"radio\" typeId=\"radio\"/>\n-\t\t\t<channel-group id=\"mower\" typeId=\"mower\"/>\n-\t\t\t<channel-group id=\"mower_stats\" typeId=\"mowerStats\"/>\n-\t\t\t<channel-group id=\"firmware\" typeId=\"firmware\"/>\n+\t\t\t<channel-group id=\"common\" typeId=\"commonProperties\"/>\n+\t\t\t<channel-group id=\"mower\" typeId=\"mowerProperties\"/>\n+\t\t\t<channel-group id=\"mower_commands\" typeId=\"mowerCommands\"/>\n \t\t</channel-groups>\n \t\t<properties>\n-\t\t\t<!-- device info -->\n-\t\t\t<property name=\"manufacturer\"/>\n-\t\t\t<property name=\"product\"/>\n-\t\t\t<property name=\"serialNumber\"/>\n-\t\t\t<property name=\"sgtin\"/>\n-\t\t\t<property name=\"version\"/>\n-\t\t\t<property name=\"category\"/>\n+\t\t\t<!-- common -->\n+\t\t\t<property name=\"serial\"/>\n+\t\t\t<property name=\"modelType\"/>\n \t\t</properties>\n \t</thing-type>\n \n-\t<channel-group-type id=\"deviceInfo\">\n-\t\t<label>Device Info</label>\n-\t\t<description>Information about the device</description>\n-\t\t<channels>\n-\t\t\t<channel id=\"last_time_online\" typeId=\"lastTimeOnline\"/>\n-\t\t</channels>\n-\t</channel-group-type>\n-\n-\t<channel-group-type id=\"rechargeableBattery\">\n-\t\t<label>Battery Info</label>\n-\t\t<description>Information about the rechargeable battery</description>\n-\t\t<channels>\n-\t\t\t<channel id=\"level\" typeId=\"system.battery-level\"/>\n-\t\t\t<channel id=\"charging\" typeId=\"charging\"/>\n-\t\t</channels>\n-\t</channel-group-type>\n-\n-\t<channel-group-type id=\"radio\">\n-\t\t<label>Radio Link</label>\n-\t\t<description>Information about the radio link</description>\n-\t\t<channels>\n-\t\t\t<channel id=\"quality\" typeId=\"radioQuality\"/>\n-\t\t\t<channel id=\"state\" typeId=\"system.signal-strength\"/>\n-\t\t</channels>\n-\t</channel-group-type>\n-\n-\t<channel-group-type id=\"mower\">\n-\t\t<label>Robotic Mower</label>\n-\t\t<description>Information about the robotic mower</description>\n-\t\t<channels>\n-\t\t\t<channel id=\"manual_operation\" typeId=\"manualOperation\"/>\n-\t\t\t<channel id=\"status\" typeId=\"status\"/>\n-\t\t\t<channel id=\"error\" typeId=\"error\"/>\n-\t\t\t<channel id=\"source_for_next_start\" typeId=\"sourceForNextStart\"/>\n-\t\t\t<channel id=\"timestamp_next_start\" typeId=\"timestampNextStart\"/>\n-\t\t\t<channel id=\"override_end_time\" typeId=\"overrideEndTime\"/>\n-\t\t\t<channel id=\"park_until_further_notice\" typeId=\"parkUntilFurtherNotice\"/>\n-\t\t\t<channel id=\"park_until_next_timer\" typeId=\"parkUntilNextTimer\"/>\n-\t\t\t<channel id=\"start_override_timer\" typeId=\"startOverrideTimer\"/>\n-\t\t\t<channel id=\"start_resume_schedule\" typeId=\"startResumeSchedule\"/>\n-\t\t\t<channel id=\"duration_property\" typeId=\"mowerDurationProperty\"/>\n-\t\t</channels>\n-\t</channel-group-type>\n-\n-\t<channel-type id=\"mowerDurationProperty\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Mowing Time</label>\n-\t\t<description>Mowing time in minutes</description>\n-\t\t<state pattern=\"%d min\" min=\"1\" max=\"1440\" step=\"1\"/>\n-\t</channel-type>\n-\n-\t<channel-type id=\"parkUntilFurtherNotice\">\n-\t\t<item-type>Switch</item-type>\n-\t\t<label>Park and Pause All Timers</label>\n-\t\t<description>Park and pause all timers</description>\n-\t</channel-type>\n-\n-\t<channel-type id=\"parkUntilNextTimer\">\n-\t\t<item-type>Switch</item-type>\n-\t\t<label>Park Until Next Timer</label>\n-\t\t<description>Park until next timer</description>\n-\t</channel-type>\n-\n-\t<channel-type id=\"startResumeSchedule\">\n-\t\t<item-type>Switch</item-type>\n-\t\t<label>Start Resume Schedule</label>\n-\t\t<description>Start resume schedule</description>\n-\t</channel-type>\n-\n-\t<channel-type id=\"startOverrideTimer\">\n-\t\t<item-type>Switch</item-type>\n-\t\t<label>Override Timer</label>\n-\t\t<description>Starts the mower for the specified duration</description>\n-\t</channel-type>\n-\n-\t<channel-type id=\"lastTimeOnline\" advanced=\"true\">\n-\t\t<item-type>DateTime</item-type>\n-\t\t<label>Last Time Online</label>\n-\t\t<description>Last time the device was online</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n-\n-\t<channel-type id=\"charging\" advanced=\"true\">\n-\t\t<item-type>Switch</item-type>\n-\t\t<label>Battery Charging</label>\n-\t\t<description>Battery Charging</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t<!-- ############################### Watering Computer ############################### -->\n \n-\t<channel-type id=\"radioQuality\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Radio Link Quality</label>\n-\t\t<description>Radio Link Quality</description>\n-\t\t<state pattern=\"%d %%\" readOnly=\"true\"/>\n-\t</channel-type>\n+\t<thing-type id=\"water_control\">\n+\t\t<supported-bridge-type-refs>\n+\t\t\t<bridge-type-ref id=\"account\"/>\n+\t\t</supported-bridge-type-refs>\n \n-\t<channel-type id=\"manualOperation\" advanced=\"true\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Manual Operation</label>\n-\t\t<description>The mower is controlled manually</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t\t<label>Gardena smart Water Control</label>\n+\t\t<description>Represents a Gardena smart Water Control</description>\n \n-\t<channel-type id=\"status\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Mower Status</label>\n-\t\t<description>The mower status</description>\n-\t\t<state readOnly=\"true\">\n-\t\t\t<options>\n-\t\t\t\t<option value=\"uninitialised\">Uninitialised</option>\n-\t\t\t\t<option value=\"paused\">Paused</option>\n-\t\t\t\t<option value=\"ok_cutting\">Mowing</option>\n-\t\t\t\t<option value=\"ok_searching\">Searching charging station</option>\n-\t\t\t\t<option value=\"ok_charging\">Charging</option>\n-\t\t\t\t<option value=\"ok_leaving\">Mowing</option>\n-\t\t\t\t<option value=\"wait_updating\">Updating ...</option>\n-\t\t\t\t<option value=\"wait_power_up\">Powering up ...</option>\n-\t\t\t\t<option value=\"parked_timer\">Parked on schedule</option>\n-\t\t\t\t<option value=\"parked_park_selected\">Parked</option>\n-\t\t\t\t<option value=\"off_disabled\">The mower is turned off</option>\n-\t\t\t\t<option value=\"off_hatch_open\">Disabled. Hatch open</option>\n-\t\t\t\t<option value=\"unknown\">Unknown</option>\n-\t\t\t\t<option value=\"error\">Error</option>\n-\t\t\t\t<option value=\"error_at_power_up\">Error</option>\n-\t\t\t\t<option value=\"off_hatch_closed\">Disabled. Manual start needed</option>\n-\t\t\t\t<option value=\"ok_cutting_timer_overridden\">Manual mowing</option>\n-\t\t\t\t<option value=\"parked_autotimer\">Parked due to SensorControl</option>\n-\t\t\t\t<option value=\"parked_daily_limit_reached\">Completed</option>\n-\t\t\t\t<option value=\"undefined\">Undefined</option>\n-\t\t\t</options>\n-\t\t</state>\n-\t</channel-type>\n-\n-\t<channel-type id=\"error\" advanced=\"true\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Mower Error</label>\n-\t\t<description>Mower Error</description>\n-\t\t<state readOnly=\"true\">\n-\t\t\t<options>\n-\t\t\t\t<option value=\"no_message\">No message</option>\n-\t\t\t\t<option value=\"outside_working_area\">Outside working area</option>\n-\t\t\t\t<option value=\"no_loop_signal\">No loop signal</option>\n-\t\t\t\t<option value=\"wrong_loop_signal\">Wrong loop signal</option>\n-\t\t\t\t<option value=\"loop_sensor_problem_front\">Loop sensor problem, front</option>\n-\t\t\t\t<option value=\"loop_sensor_problem_rear\">Loop sensor problem, rear</option>\n-\t\t\t\t<option value=\"loop_sensor_problem_left\">Loop sensor problem, left</option>\n-\t\t\t\t<option value=\"loop_sensor_problem_right\">Loop sensor problem, right</option>\n-\t\t\t\t<option value=\"wrong_pin_code\">Wrong pin code</option>\n-\t\t\t\t<option value=\"trapped\">Trapped</option>\n-\t\t\t\t<option value=\"upside_down\">Upside down</option>\n-\t\t\t\t<option value=\"low_battery\">Low battery</option>\n-\t\t\t\t<option value=\"empty_battery\">Empty battery</option>\n-\t\t\t\t<option value=\"no_drive\">Disabled. Hatch open</option>\n-\t\t\t\t<option value=\"temporarily_lifted\">Temporary lifted</option>\n-\t\t\t\t<option value=\"lifted\">Lifted</option>\n-\t\t\t\t<option value=\"stuck_in_charging_station\">Stuck in charging station</option>\n-\t\t\t\t<option value=\"charging_station_blocked\">Charging station blocked</option>\n-\t\t\t\t<option value=\"collision_sensor_problem_rear\">Collision sensor problem, rear</option>\n-\t\t\t\t<option value=\"collision_sensor_problem_front\">Collision sensor problem, front</option>\n-\t\t\t\t<option value=\"wheel_motor_blocked_right\">Wheel motor blocked, right</option>\n-\t\t\t\t<option value=\"wheel_motor_blocked_left\">Wheel motor blocked, left</option>\n-\t\t\t\t<option value=\"wheel_drive_problem_right\">Wheel drive problem, right</option>\n-\t\t\t\t<option value=\"wheel_drive_problem_left\">Wheel drive problem, left</option>\n-\t\t\t\t<option value=\"cutting_motor_drive_defect\">Cutting motor drive defect</option>\n-\t\t\t\t<option value=\"cutting_system_blocked\">Cutting system blocked</option>\n-\t\t\t\t<option value=\"invalid_sub_device_combination\">Invalid sub-device combination</option>\n-\t\t\t\t<option value=\"settings_restored\">Settings restored</option>\n-\t\t\t\t<option value=\"memory_circuit_problem\">Memory circuit problem</option>\n-\t\t\t\t<option value=\"slope_too_steep\">Slope too steep</option>\n-\t\t\t\t<option value=\"charging_system_problem\">Charging system problem</option>\n-\t\t\t\t<option value=\"stop_button_problem\">Stop button problem</option>\n-\t\t\t\t<option value=\"tilt_sensor_problem\">Tilt sensor problem</option>\n-\t\t\t\t<option value=\"mower_tilted\">Mower tilted</option>\n-\t\t\t\t<option value=\"wheel_motor_overloaded_right\">Wheel motor overloaded, right</option>\n-\t\t\t\t<option value=\"wheel_motor_overloaded_left\">Wheel motor overloaded, left</option>\n-\t\t\t\t<option value=\"charging_current_too_high\">Charging current too high</option>\n-\t\t\t\t<option value=\"electronic_problem\">Electronic problem</option>\n-\t\t\t\t<option value=\"cutting_motor_problem\">Cutting motor problem</option>\n-\t\t\t\t<option value=\"limited_cutting_height_range\">Limited cutting height range</option>\n-\t\t\t\t<option value=\"unexpected_cutting_height_adj\">Unexpected cutting height adj</option>\n-\t\t\t\t<option value=\"cutting_height_problem_drive\">Cutting height problem drive</option>\n-\t\t\t\t<option value=\"cutting_height_problem_curr\">Cutting height problem curr</option>\n-\t\t\t\t<option value=\"cutting_height_problem_dir\">Cutting height problem dir</option>\n-\t\t\t\t<option value=\"cutting_height_blocked\">Cutting height blocked</option>\n-\t\t\t\t<option value=\"cutting_height_problem\">Cutting height problem</option>\n-\t\t\t\t<option value=\"no_response_from_charger\">No response from charger</option>\n-\t\t\t\t<option value=\"ultrasonic_problem\">Ultrasonic problem</option>\n-\t\t\t\t<option value=\"temporary_problem\">Temporary problem</option>\n-\t\t\t\t<option value=\"guide_1_not_found\">Guide 1 not found</option>\n-\t\t\t\t<option value=\"guide_2_not_found\">Guide 2 not found</option>\n-\t\t\t\t<option value=\"guide_3_not_found\">Guide 3 not found</option>\n-\t\t\t\t<option value=\"gps_tracker_module_error\">GPS tracker module error</option>\n-\t\t\t\t<option value=\"weak_gps_signal\">Weak gps signal</option>\n-\t\t\t\t<option value=\"difficult_finding_home\">Difficult finding home</option>\n-\t\t\t\t<option value=\"guide_calibration_accomplished\">Guide calibration accomplished</option>\n-\t\t\t\t<option value=\"guide_calibration_failed\">Guide calibration failed</option>\n-\t\t\t\t<option value=\"temporary_battery_problem\">Temporary battery problem</option>\n-\t\t\t\t<option value=\"battery_problem\">Battery problem</option>\n-\t\t\t\t<option value=\"too_many_batteries\">Too many batteries</option>\n-\t\t\t\t<option value=\"alarm_mower_switched_off\">Alarm! Mower switched off</option>\n-\t\t\t\t<option value=\"alarm_mower_stopped\">Alarm! Mower stopped</option>\n-\t\t\t\t<option value=\"alarm_mower_lifted\">Alarm! Mower lifted</option>\n-\t\t\t\t<option value=\"alarm_mower_tilted\">Alarm! Mower tilted</option>\n-\t\t\t\t<option value=\"alarm_mower_in_motion\">Alarm! Mower in motion</option>\n-\t\t\t\t<option value=\"alarm_outside_geofence\">Alarm outside geofence</option>\n-\t\t\t\t<option value=\"connection_changed\">Connection changed</option>\n-\t\t\t\t<option value=\"connection_not_changed\">Connection not changed</option>\n-\t\t\t\t<option value=\"com_board_not_available\">COM board not available</option>\n-\t\t\t\t<option value=\"slipped\">Slipped</option>\n-\t\t\t\t<option value=\"invalid_battery_combination\">Invalid battery combination</option>\n-\t\t\t\t<option value=\"imbalanced_cutting_disc\">Imbalanced cutting disc</option>\n-\t\t\t\t<option value=\"safety_function_faulty\">Safety function faulty</option>\n-\t\t\t</options>\n-\t\t</state>\n-\t</channel-type>\n+\t\t<channel-groups>\n+\t\t\t<channel-group id=\"common\" typeId=\"commonProperties\"/>\n+\t\t\t<channel-group id=\"valve\" typeId=\"valveProperties\"/>\n+\t\t\t<channel-group id=\"valve_commands\" typeId=\"valveCommands\"/>\n+\t\t\t<channel-group id=\"valveSet\" typeId=\"valveSetProperties\"/>\n+\t\t\t<channel-group id=\"valveSet_commands\" typeId=\"valveSetCommands\"/>\n+\t\t</channel-groups>\n+\t\t<properties>\n+\t\t\t<!-- common -->\n+\t\t\t<property name=\"serial\"/>\n+\t\t\t<property name=\"modelType\"/>\n+\t\t</properties>\n+\t</thing-type>\n \n-\t<channel-type id=\"sourceForNextStart\" advanced=\"true\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Source for Next Start</label>\n-\t\t<description>The source for the next start</description>\n-\t\t<state readOnly=\"true\">\n-\t\t\t<options>\n-\t\t\t\t<option value=\"no_source\">No source</option>\n-\t\t\t\t<option value=\"completed_cutting_daily_limit\">Completed cutting daily limit</option>\n-\t\t\t\t<option value=\"week_timer\">Week timer</option>\n-\t\t\t\t<option value=\"countdown_timer\">Countdown timer</option>\n-\t\t\t\t<option value=\"mower_charging\">Mower charging</option>\n-\t\t\t\t<option value=\"completed_cutting_autotimer\">Completed cutting autotimer</option>\n-\t\t\t\t<option value=\"undefined\">Undefined</option>\n-\t\t\t</options>\n-\t\t</state>\n-\t</channel-type>\n+\t<!-- ############################### Sensor ############################### -->\n \n-\t<channel-type id=\"timestampNextStart\">\n-\t\t<item-type>DateTime</item-type>\n-\t\t<label>Timestamp Next Start</label>\n-\t\t<description>Timestamp of the next start</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t<thing-type id=\"sensor\">\n+\t\t<supported-bridge-type-refs>\n+\t\t\t<bridge-type-ref id=\"account\"/>\n+\t\t</supported-bridge-type-refs>\n \n-\t<channel-type id=\"overrideEndTime\" advanced=\"true\">\n-\t\t<item-type>DateTime</item-type>\n-\t\t<label>Override End Time</label>\n-\t\t<description>Override End Time</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t\t<label>Gardena smart Sensor</label>\n+\t\t<description>Represents a Gardena smart Sensor</description>\n \n-\t<channel-type id=\"temperature\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Temperature</label>\n-\t\t<description>Temperature</description>\n-\t\t<state pattern=\"%d \u00b0C\" readOnly=\"true\"/>\n-\t</channel-type>\n+\t\t<channel-groups>\n+\t\t\t<channel-group id=\"common\" typeId=\"commonProperties\"/>\n+\t\t\t<channel-group id=\"sensor\" typeId=\"sensorProperties\"/>\n+\t\t</channel-groups>\n+\t\t<properties>\n+\t\t\t<!-- common -->\n+\t\t\t<property name=\"serial\"/>\n+\t\t\t<property name=\"modelType\"/>\n+\t\t</properties>\n+\t</thing-type>\n \n-\t<channel-group-type id=\"firmware\">\n-\t\t<label>Firmware</label>\n-\t\t<description>Information about the firmware</description>\n-\t\t<channels>\n-\t\t\t<channel id=\"firmware_status\" typeId=\"firmwareStatus\"/>\n-\t\t\t<channel id=\"firmware_upload_progress\" typeId=\"firmwareUploadProgress\"/>\n-\t\t\t<channel id=\"firmware_available_version\" typeId=\"firmwareAvailableVersion\"/>\n-\t\t</channels>\n-\t</channel-group-type>\n+\t<!-- ############################### Pressure Pump ############################### -->\n \n-\t<channel-type id=\"firmwareStatus\" advanced=\"true\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Status</label>\n-\t\t<description>The firmware status</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t<thing-type id=\"pump\">\n+\t\t<supported-bridge-type-refs>\n+\t\t\t<bridge-type-ref id=\"account\"/>\n+\t\t</supported-bridge-type-refs>\n \n-\t<channel-type id=\"firmwareUploadProgress\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Upload Progress</label>\n-\t\t<description>Firmware upload in progress</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t\t<label>Gardena smart Pressure Pump</label>\n+\t\t<description>Represents a Gardena smart Pressure Pump</description>\n \n-\t<channel-type id=\"firmwareAvailableVersion\" advanced=\"true\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Available Version</label>\n-\t\t<description>Available firmware version</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t\t<channel-groups>\n+\t\t\t<channel-group id=\"common\" typeId=\"commonProperties\"/>\n+\t\t\t<channel-group id=\"valve\" typeId=\"valveProperties\"/>\n+\t\t\t<channel-group id=\"valve_commands\" typeId=\"valveCommands\"/>\n+\t\t</channel-groups>\n+\t\t<properties>\n+\t\t\t<!-- common -->\n+\t\t\t<property name=\"serial\"/>\n+\t\t\t<property name=\"modelType\"/>\n+\t\t</properties>\n+\t</thing-type>\n \n-\t<channel-group-type id=\"mowerStats\">\n-\t\t<label>Robotic Mower Statistics</label>\n-\t\t<description>Statistics about the robotic mower</description>\n-\t\t<channels>\n-\t\t\t<channel id=\"cutting_time\" typeId=\"cuttingTime\"/>\n-\t\t\t<channel id=\"charging_cycles\" typeId=\"chargingCycles\"/>\n-\t\t\t<channel id=\"collisions\" typeId=\"collisions\"/>\n-\t\t\t<channel id=\"running_time\" typeId=\"runningTime\"/>\n-\t\t</channels>\n-\t</channel-group-type>\n+\t<!-- ############################### Power ############################### -->\n \n-\t<channel-type id=\"cuttingTime\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Cutting Time</label>\n-\t\t<description>The cutting time</description>\n-\t\t<state readOnly=\"true\" pattern=\"%d h\"/>\n-\t</channel-type>\n+\t<thing-type id=\"power\">\n+\t\t<supported-bridge-type-refs>\n+\t\t\t<bridge-type-ref id=\"account\"/>\n+\t\t</supported-bridge-type-refs>\n \n-\t<channel-type id=\"chargingCycles\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Charging Cycles</label>\n-\t\t<description>The charging cycles</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t\t<label>Gardena smart Power Adapter</label>\n+\t\t<description>Represents a Gardena smart Power Adapter</description>\n \n-\t<channel-type id=\"collisions\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Collisions</label>\n-\t\t<description>The number of collisions</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t\t<channel-groups>\n+\t\t\t<channel-group id=\"common\" typeId=\"commonProperties\"/>\n+\t\t\t<channel-group id=\"powerSocket\" typeId=\"powerSocketProperties\"/>\n+\t\t\t<channel-group id=\"powerSocket_commands\" typeId=\"powerSocketCommands\"/>\n+\t\t</channel-groups>\n+\t\t<properties>\n+\t\t\t<!-- common -->\n+\t\t\t<property name=\"serial\"/>\n+\t\t\t<property name=\"modelType\"/>\n+\t\t</properties>\n+\t</thing-type>\n \n-\t<channel-type id=\"runningTime\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Running Time</label>\n-\t\t<description>Running time</description>\n-\t\t<state readOnly=\"true\" pattern=\"%d h\"/>\n-\t</channel-type>\n+\t<!-- ############################### Irrigation Control ############################### -->\n \n-\t<!-- ############################### Watering Computer ############################### -->\n-\t<thing-type id=\"watering_computer\">\n+\t<thing-type id=\"irrigation_control\">\n \t\t<supported-bridge-type-refs>\n \t\t\t<bridge-type-ref id=\"account\"/>\n \t\t</supported-bridge-type-refs>\n \n-\t\t<label>Gardena Smart Watering Computer</label>\n-\t\t<description>Represents a Gardena Smart Watering Computer</description>\n+\t\t<label>Gardena smart Irrigation Control</label>\n+\t\t<description>Represents a Gardena smart Irrigation Control</description>\n \n \t\t<channel-groups>\n-\t\t\t<channel-group id=\"device_info\" typeId=\"deviceInfo\"/>\n-\t\t\t<channel-group id=\"battery\" typeId=\"battery\"/>\n-\t\t\t<channel-group id=\"radio\" typeId=\"radio\"/>\n-\t\t\t<channel-group id=\"outlet\" typeId=\"outlet\"/>\n-\t\t\t<channel-group id=\"ambient_temperature\" typeId=\"ambientTemperature\"/>\n+\t\t\t<channel-group id=\"common\" typeId=\"commonProperties\"/>\n+\t\t\t<channel-group id=\"valveOne\" typeId=\"valveProperties\">\n+\t\t\t\t<label>Valve 1 properties</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveOne_commands\" typeId=\"valveCommands\">\n+\t\t\t\t<label>Valve 1 commands</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveTwo\" typeId=\"valveProperties\">\n+\t\t\t\t<label>Valve 2 properties</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveTwo_commands\" typeId=\"valveCommands\">\n+\t\t\t\t<label>Valve 2 commands</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveThree\" typeId=\"valveProperties\">\n+\t\t\t\t<label>Valve 3 properties</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveThree_commands\" typeId=\"valveCommands\">\n+\t\t\t\t<label>Valve 3 commands</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveFour\" typeId=\"valveProperties\">\n+\t\t\t\t<label>Valve 4 properties</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveFour_commands\" typeId=\"valveCommands\">\n+\t\t\t\t<label>Valve 4 Commands</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveFive\" typeId=\"valveProperties\">\n+\t\t\t\t<label>Valve 5 Properties</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveFive_commands\" typeId=\"valveCommands\">\n+\t\t\t\t<label>Valve 5 Commands</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveSix\" typeId=\"valveProperties\">\n+\t\t\t\t<label>Valve 6 Properties</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveSix_commands\" typeId=\"valveCommands\">\n+\t\t\t\t<label>Valve 6 Commands</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveSet\" typeId=\"valveSetProperties\"/>\n+\t\t\t<channel-group id=\"valveSet_commands\" typeId=\"valveSetCommands\"/>\n \t\t</channel-groups>\n \t\t<properties>\n-\t\t\t<!-- device info -->\n-\t\t\t<property name=\"manufacturer\"/>\n-\t\t\t<property name=\"product\"/>\n-\t\t\t<property name=\"serialNumber\"/>\n-\t\t\t<property name=\"sgtin\"/>\n-\t\t\t<property name=\"version\"/>\n-\t\t\t<property name=\"category\"/>\n+\t\t\t<!-- common -->\n+\t\t\t<property name=\"serial\"/>\n+\t\t\t<property name=\"modelType\"/>\n \t\t</properties>\n \t</thing-type>\n \n-\t<channel-group-type id=\"battery\">\n-\t\t<label>Battery Info</label>\n-\t\t<description>Information about the battery</description>\n+\t<!-- ############################### channels and groups ############################### -->\n+\n+\t<channel-group-type id=\"valveSetProperties\">\n+\t\t<label>Valve Set Properties</label>\n+\t\t<description>Properties of a valve set</description>\n \t\t<channels>\n-\t\t\t<channel id=\"level\" typeId=\"system.battery-level\"/>\n-\t\t\t<channel id=\"disposable_battery_status\" typeId=\"disposableBatteryStatus\"/>\n+\t\t\t<channel id=\"state\" typeId=\"state\"/>\n+\t\t\t<channel id=\"state_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>State Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"lastErrorCode\" typeId=\"lastErrorCode\"/>\n+\t\t\t<channel id=\"lastErrorCode_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Last Error Code Timestamp</label>\n+\t\t\t</channel>\n \t\t</channels>\n \t</channel-group-type>\n \n-\t<channel-group-type id=\"outlet\">\n-\t\t<label>Watering Outlet</label>\n-\t\t<description>Information about the watering outlet</description>\n+\t<channel-group-type id=\"valveProperties\">\n+\t\t<label>Valve Properties</label>\n+\t\t<description>Properties of a valve</description>\n \t\t<channels>\n-\t\t\t<channel id=\"valve_open\" typeId=\"valveOpen\"/>\n-\t\t\t<channel id=\"manual_override\" typeId=\"manualOverride\"/>\n-\t\t\t<channel id=\"button_manual_override_time\" typeId=\"buttonManualOverrideTime\"/>\n+\t\t\t<channel id=\"name\" typeId=\"name\"/>\n+\t\t\t<channel id=\"state\" typeId=\"state\"/>\n+\t\t\t<channel id=\"state_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>State Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"activity\" typeId=\"activity\"/>\n+\t\t\t<channel id=\"activity_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Activity Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"lastErrorCode\" typeId=\"lastErrorCode\"/>\n+\t\t\t<channel id=\"lastErrorCode_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Last Error Code Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"duration\" typeId=\"duration\"/>\n \t\t</channels>\n \t</channel-group-type>\n \n-\t<channel-group-type id=\"ambientTemperature\">\n-\t\t<label>Ambient Temperature</label>\n-\t\t<description>Ambient Temperature</description>\n+\t<channel-group-type id=\"sensorProperties\">\n+\t\t<label>Sensor Properties</label>\n+\t\t<description>Properties of a sensor</description>\n \t\t<channels>\n-\t\t\t<channel id=\"temperature\" typeId=\"temperature\">\n+\t\t\t<channel id=\"soilHumidity\" typeId=\"soilHumidity\"/>\n+\t\t\t<channel id=\"soilHumidity_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Soil Humidity Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"soilTemperature\" typeId=\"temperature\">\n+\t\t\t\t<label>Soil Temperature</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"soilTemperature_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Soil Temperature Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"ambientTemperature\" typeId=\"temperature\">\n \t\t\t\t<label>Ambient Temperature</label>\n \t\t\t</channel>\n-\t\t\t<channel id=\"frost_warning\" typeId=\"frostWarning\"/>\n+\t\t\t<channel id=\"ambientTemperature_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Ambient Temperature Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"lightIntensity\" typeId=\"lightIntensity\"/>\n+\t\t\t<channel id=\"lightIntensity_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Light Intensity Timestamp</label>\n+\t\t\t</channel>\n \t\t</channels>\n \t</channel-group-type>\n \n-\t<channel-type id=\"disposableBatteryStatus\" advanced=\"true\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Disposable Battery Status</label>\n-\t\t<description>The status of the disposable battery</description>\n-\t\t<state readOnly=\"true\">\n-\t\t\t<options>\n-\t\t\t\t<option value=\"out_of_operation\">Out of operation</option>\n-\t\t\t\t<option value=\"replace_now\">Critical battery level, replace now</option>\n-\t\t\t\t<option value=\"low\">Low</option>\n-\t\t\t\t<option value=\"ok\">OK</option>\n-\t\t\t\t<option value=\"undefined\">Undefined</option>\n-\t\t\t</options>\n-\t\t</state>\n-\t</channel-type>\n-\n-\t<channel-type id=\"valveOpen\">\n-\t\t<item-type>Switch</item-type>\n-\t\t<label>Valve Open</label>\n-\t\t<description>Valve Open</description>\n-\t</channel-type>\n-\n-\t<channel-type id=\"manualOverride\" advanced=\"true\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Manual Override</label>\n-\t\t<description>Manual Override</description>\n-\t\t<state readOnly=\"true\">\n-\t\t\t<options>\n-\t\t\t\t<option value=\"inactive\">Inactive</option>\n-\t\t\t\t<option value=\"open\">Open</option>\n-\t\t\t\t<option value=\"undefined\">Undefined</option>\n-\t\t\t</options>\n-\t\t</state>\n-\t</channel-type>\n-\n-\t<channel-type id=\"buttonManualOverrideTime\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Button Manual Override</label>\n-\t\t<description>The time the valve is open when you press the button on the device</description>\n-\t\t<state pattern=\"%d min\" min=\"1\" max=\"59\" step=\"1\"/>\n-\t</channel-type>\n-\n-\t<channel-type id=\"frostWarning\" advanced=\"true\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Frost Warning</label>\n-\t\t<description>Frost Warning</description>\n-\t\t<state readOnly=\"true\">\n-\t\t\t<options>\n-\t\t\t\t<option value=\"no_frost\">No frost</option>\n-\t\t\t\t<option value=\"frost\">Frost</option>\n-\t\t\t\t<option value=\"undefined\">Undefined</option>\n-\t\t\t</options>\n-\t\t</state>\n-\t</channel-type>\n-\n-\t<!-- ############################### Sensor ############################### -->\n-\t<thing-type id=\"sensor\">\n-\t\t<supported-bridge-type-refs>\n-\t\t\t<bridge-type-ref id=\"account\"/>\n-\t\t</supported-bridge-type-refs>\n-\n-\t\t<label>Gardena Smart Sensor</label>\n-\t\t<description>Represents a Gardena Smart Sensor</description>\n-\n-\t\t<channel-groups>\n-\t\t\t<channel-group id=\"device_info\" typeId=\"deviceInfo\"/>\n-\t\t\t<channel-group id=\"battery\" typeId=\"battery\"/>\n-\t\t\t<channel-group id=\"radio\" typeId=\"radio\"/>\n-\t\t\t<channel-group id=\"ambient_temperature\" typeId=\"ambientTemperature\"/>\n-\t\t\t<channel-group id=\"soil_temperature\" typeId=\"soilTemperature\"/>\n-\t\t\t<channel-group id=\"humidity\" typeId=\"humidity\"/>\n-\t\t\t<channel-group id=\"light\" typeId=\"light\"/>\n-\t\t</channel-groups>\n-\t\t<properties>\n-\t\t\t<!-- device info -->\n-\t\t\t<property name=\"manufacturer\"/>\n-\t\t\t<property name=\"product\"/>\n-\t\t\t<property name=\"serialNumber\"/>\n-\t\t\t<property name=\"sgtin\"/>\n-\t\t\t<property name=\"version\"/>\n-\t\t\t<property name=\"category\"/>\n-\t\t</properties>\n-\t</thing-type>\n-\n-\t<channel-group-type id=\"soilTemperature\">\n-\t\t<label>Soil Temperature</label>\n-\t\t<description>The soil temperature</description>\n+\t<channel-group-type id=\"powerSocketProperties\">\n+\t\t<label>Power Socket Properties</label>\n+\t\t<description>Properties of a power socket</description>\n \t\t<channels>\n-\t\t\t<channel id=\"temperature\" typeId=\"temperature\">\n-\t\t\t\t<label>Soil Temperature</label>\n+\t\t\t<channel id=\"state\" typeId=\"state\"/>\n+\t\t\t<channel id=\"state_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>State Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"activity\" typeId=\"activity\"/>\n+\t\t\t<channel id=\"activity_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Activity Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"lastErrorCode\" typeId=\"lastErrorCode\"/>\n+\t\t\t<channel id=\"lastErrorCode_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Last Error Code Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"duration\" typeId=\"duration\"/>\n+\t\t\t<channel id=\"duration_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Duration Timestamp</label>\n \t\t\t</channel>\n \t\t</channels>\n \t</channel-group-type>\n \n-\t<channel-group-type id=\"humidity\">\n-\t\t<label>Humidity</label>\n-\t\t<description>The humidity</description>\n+\t<channel-group-type id=\"mowerProperties\">\n+\t\t<label>Mower Properties</label>\n+\t\t<description>Properties of a mower</description>\n \t\t<channels>\n-\t\t\t<channel id=\"humidity\" typeId=\"humidity\"/>\n+\t\t\t<channel id=\"state\" typeId=\"state\"/>\n+\t\t\t<channel id=\"state_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>State Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"activity\" typeId=\"activity\"/>\n+\t\t\t<channel id=\"activity_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Activity Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"lastErrorCode\" typeId=\"lastErrorCode\"/>\n+\t\t\t<channel id=\"lastErrorCode_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Last Error Code Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"operatingHours\" typeId=\"operatingHours\"/>\n \t\t</channels>\n \t</channel-group-type>\n \n-\t<channel-group-type id=\"light\">\n-\t\t<label>Brightness</label>\n-\t\t<description>The brightness</description>\n+\t<channel-group-type id=\"commonProperties\">\n+\t\t<label>Common Properties</label>\n+\t\t<description>Properties that are common across devices</description>\n \t\t<channels>\n-\t\t\t<channel id=\"light\" typeId=\"light\"/>\n+\t\t\t<channel id=\"name\" typeId=\"name\"/>\n+\t\t\t<channel id=\"batteryLevel\" typeId=\"system.battery-level\"/>\n+\t\t\t<channel id=\"batteryLevel_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Battery Level Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"batteryState\" typeId=\"batteryState\"/>\n+\t\t\t<channel id=\"batteryState_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Battery State Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"rfLinkLevel\" typeId=\"system.signal-strength\"/>\n+\t\t\t<channel id=\"rfLinkLevel_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>RF Link Level Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"rfLinkState\" typeId=\"rfLinkState\"/>\n+\t\t\t<channel id=\"rfLinkState_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>RF Link State Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"lastUpdate_timestamp\" typeId=\"timestampRefresh\">\n+\t\t\t\t<label>LastUpdate Timestamp</label>\n+\t\t\t</channel>\n \t\t</channels>\n \t</channel-group-type>\n \n-\t<channel-type id=\"humidity\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Humidity</label>\n-\t\t<description>The humidity</description>\n-\t\t<state pattern=\"%d %%\" readOnly=\"true\"/>\n-\t</channel-type>\n-\n-\t<channel-type id=\"light\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Brightness</label>\n-\t\t<description>The brightness</description>\n-\t\t<state pattern=\"%d lx\" readOnly=\"true\"/>\n-\t</channel-type>\n-\n-\t<!-- ############################### Pressure Pump ############################### -->\n-\n-\t<thing-type id=\"electronic_pressure_pump\">\n-\t\t<supported-bridge-type-refs>\n-\t\t\t<bridge-type-ref id=\"account\"/>\n-\t\t</supported-bridge-type-refs>\n-\n-\t\t<label>Gardena Smart Pressure Pump</label>\n-\t\t<description>Represents a Gardena Smart Pressure Pump</description>\n-\n-\t\t<channel-groups>\n-\t\t\t<channel-group id=\"device_info\" typeId=\"deviceInfo\"/>\n-\t\t\t<channel-group id=\"radio\" typeId=\"radio\"/>\n-\n-\t\t\t<channel-group id=\"outlet_temperature\" typeId=\"outletTemperature\"/>\n-\t\t\t<channel-group id=\"pump\" typeId=\"pump\"/>\n-\t\t\t<channel-group id=\"outlet_pressure\" typeId=\"outletPressure\"/>\n-\t\t\t<channel-group id=\"flow\" typeId=\"flow\"/>\n-\t\t\t<channel-group id=\"manual_watering\" typeId=\"manualWatering\"/>\n-\t\t\t<channel-group id=\"scheduling\" typeId=\"scheduling\"/>\n-\t\t</channel-groups>\n-\n-\t\t<properties>\n-\t\t\t<!-- device info -->\n-\t\t\t<property name=\"manufacturer\"/>\n-\t\t\t<property name=\"product\"/>\n-\t\t\t<property name=\"serialNumber\"/>\n-\t\t\t<property name=\"sgtin\"/>\n-\t\t\t<property name=\"version\"/>\n-\t\t\t<property name=\"category\"/>\n-\t\t</properties>\n-\n-\t\t<config-description>\n-\t\t\t<parameter name=\"leakage_detection\" type=\"text\">\n-\t\t\t\t<label>Leakage Detection</label>\n-\t\t\t\t<options>\n-\t\t\t\t\t<option value=\"watering\">Watering</option>\n-\t\t\t\t\t<option value=\"washing_machine\">Washing machine</option>\n-\t\t\t\t\t<option value=\"domestic_water_supply\">Domestic water supply</option>\n-\t\t\t\t\t<option value=\"off\">Off</option>\n-\t\t\t\t</options>\n-\t\t\t</parameter>\n-\t\t\t<parameter name=\"operating_mode\" type=\"text\">\n-\t\t\t\t<label>Operating Mode</label>\n-\t\t\t\t<options>\n-\t\t\t\t\t<option value=\"scheduled\">Scheduled</option>\n-\t\t\t\t\t<option value=\"automatic\">Automatic</option>\n-\t\t\t\t</options>\n-\t\t\t</parameter>\n-\t\t\t<parameter name=\"turn_on_pressure\" type=\"text\">\n-\t\t\t\t<label>Turn On Pressure</label>\n-\t\t\t\t<options>\n-\t\t\t\t\t<option value=\"2.0\">2.0</option>\n-\t\t\t\t\t<option value=\"2.2\">2.2</option>\n-\t\t\t\t\t<option value=\"2.4\">2.4</option>\n-\t\t\t\t\t<option value=\"2.6\">2.6</option>\n-\t\t\t\t\t<option value=\"2.8\">2.8</option>\n-\t\t\t\t</options>\n-\t\t\t</parameter>\n-\t\t</config-description>\n-\t</thing-type>\n-\n-\t<channel-group-type id=\"outletTemperature\">\n-\t\t<label>Outlet Temperature</label>\n-\t\t<description>The outlet temperature</description>\n+\t<channel-group-type id=\"mowerCommands\">\n+\t\t<label>Mower Commands</label>\n+\t\t<description>Commands to control a mower</description>\n \t\t<channels>\n-\t\t\t<channel id=\"temperature\" typeId=\"temperature\"/>\n-\t\t\t<channel id=\"temperature_min\" typeId=\"temperatureMin\"/>\n-\t\t\t<channel id=\"temperature_max\" typeId=\"temperatureMax\"/>\n-\t\t\t<channel id=\"frost_warning\" typeId=\"frostWarning\"/>\n+\t\t\t<channel id=\"commandDuration\" typeId=\"mowerCommandDuration\">\n+\t\t\t\t<label>Mowing Duration</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"start_seconds_to_override\" typeId=\"gardenaCommand\">\n+\t\t\t\t<label>Start mowing with duration</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"start_dont_override\" typeId=\"gardenaCommand\">\n+\t\t\t\t<label>Start Schedule</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"park_until_next_task\" typeId=\"gardenaCommand\">\n+\t\t\t\t<label>Park</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"park_until_further_notice\" typeId=\"gardenaCommand\">\n+\t\t\t\t<label>Pause schedule</label>\n+\t\t\t</channel>\n \t\t</channels>\n \t</channel-group-type>\n \n-\t<channel-type id=\"temperatureMin\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Minimum Temperature</label>\n-\t\t<description>The minimum outlet temperature</description>\n-\t\t<state pattern=\"%d \u00b0C\" readOnly=\"true\"/>\n-\t</channel-type>\n-\n-\t<channel-type id=\"temperatureMax\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Maximum Temperature</label>\n-\t\t<description>The maximum outlet temperature</description>\n-\t\t<state pattern=\"%d \u00b0C\" readOnly=\"true\"/>\n-\t</channel-type>\n+\t<channel-group-type id=\"valveCommands\">\n+\t\t<label>Valve Commands</label>\n+\t\t<description>Commands to control a valve</description>\n+\t\t<channels>\n+\t\t\t<channel id=\"commandDuration\" typeId=\"valveCommandDuration\">\n+\t\t\t\t<label>Irrigation Duration</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"start_seconds_to_override\" typeId=\"gardenaCommand\">\n+\t\t\t\t<label>Open valve with duration</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"stop_until_next_task\" typeId=\"gardenaCommand\">\n+\t\t\t\t<label>Close valve, continue with the schedule</label>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "eb02adf3ea4c748f4b3ec438ee5599ed52609bc3"}, "originalPosition": 880}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM4MTY5NzU0OnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.gardena/src/main/resources/OH-INF/thing/thing-types.xml", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxNzo0OTozM1rOIBtCXA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxNzo0OTozM1rOIBtCXA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODY1NzM3Mg==", "bodyText": "See above", "url": "https://github.com/openhab/openhab-addons/pull/8869#discussion_r538657372", "createdAt": "2020-12-08T17:49:33Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.gardena/src/main/resources/OH-INF/thing/thing-types.xml", "diffHunk": "@@ -10,1162 +10,633 @@\n \t\t\t<bridge-type-ref id=\"account\"/>\n \t\t</supported-bridge-type-refs>\n \n-\t\t<label>Gardena Smart Sileno Mower</label>\n-\t\t<description>A Gardena Smart Sileno mower</description>\n+\t\t<label>Gardena smart SILENO Mower</label>\n+\t\t<description>Represents any Gardena smart SILENO mower model</description>\n \n \t\t<channel-groups>\n-\t\t\t<channel-group id=\"device_info\" typeId=\"deviceInfo\"/>\n-\t\t\t<channel-group id=\"battery\" typeId=\"rechargeableBattery\"/>\n-\t\t\t<channel-group id=\"radio\" typeId=\"radio\"/>\n-\t\t\t<channel-group id=\"mower\" typeId=\"mower\"/>\n-\t\t\t<channel-group id=\"mower_stats\" typeId=\"mowerStats\"/>\n-\t\t\t<channel-group id=\"firmware\" typeId=\"firmware\"/>\n+\t\t\t<channel-group id=\"common\" typeId=\"commonProperties\"/>\n+\t\t\t<channel-group id=\"mower\" typeId=\"mowerProperties\"/>\n+\t\t\t<channel-group id=\"mower_commands\" typeId=\"mowerCommands\"/>\n \t\t</channel-groups>\n \t\t<properties>\n-\t\t\t<!-- device info -->\n-\t\t\t<property name=\"manufacturer\"/>\n-\t\t\t<property name=\"product\"/>\n-\t\t\t<property name=\"serialNumber\"/>\n-\t\t\t<property name=\"sgtin\"/>\n-\t\t\t<property name=\"version\"/>\n-\t\t\t<property name=\"category\"/>\n+\t\t\t<!-- common -->\n+\t\t\t<property name=\"serial\"/>\n+\t\t\t<property name=\"modelType\"/>\n \t\t</properties>\n \t</thing-type>\n \n-\t<channel-group-type id=\"deviceInfo\">\n-\t\t<label>Device Info</label>\n-\t\t<description>Information about the device</description>\n-\t\t<channels>\n-\t\t\t<channel id=\"last_time_online\" typeId=\"lastTimeOnline\"/>\n-\t\t</channels>\n-\t</channel-group-type>\n-\n-\t<channel-group-type id=\"rechargeableBattery\">\n-\t\t<label>Battery Info</label>\n-\t\t<description>Information about the rechargeable battery</description>\n-\t\t<channels>\n-\t\t\t<channel id=\"level\" typeId=\"system.battery-level\"/>\n-\t\t\t<channel id=\"charging\" typeId=\"charging\"/>\n-\t\t</channels>\n-\t</channel-group-type>\n-\n-\t<channel-group-type id=\"radio\">\n-\t\t<label>Radio Link</label>\n-\t\t<description>Information about the radio link</description>\n-\t\t<channels>\n-\t\t\t<channel id=\"quality\" typeId=\"radioQuality\"/>\n-\t\t\t<channel id=\"state\" typeId=\"system.signal-strength\"/>\n-\t\t</channels>\n-\t</channel-group-type>\n-\n-\t<channel-group-type id=\"mower\">\n-\t\t<label>Robotic Mower</label>\n-\t\t<description>Information about the robotic mower</description>\n-\t\t<channels>\n-\t\t\t<channel id=\"manual_operation\" typeId=\"manualOperation\"/>\n-\t\t\t<channel id=\"status\" typeId=\"status\"/>\n-\t\t\t<channel id=\"error\" typeId=\"error\"/>\n-\t\t\t<channel id=\"source_for_next_start\" typeId=\"sourceForNextStart\"/>\n-\t\t\t<channel id=\"timestamp_next_start\" typeId=\"timestampNextStart\"/>\n-\t\t\t<channel id=\"override_end_time\" typeId=\"overrideEndTime\"/>\n-\t\t\t<channel id=\"park_until_further_notice\" typeId=\"parkUntilFurtherNotice\"/>\n-\t\t\t<channel id=\"park_until_next_timer\" typeId=\"parkUntilNextTimer\"/>\n-\t\t\t<channel id=\"start_override_timer\" typeId=\"startOverrideTimer\"/>\n-\t\t\t<channel id=\"start_resume_schedule\" typeId=\"startResumeSchedule\"/>\n-\t\t\t<channel id=\"duration_property\" typeId=\"mowerDurationProperty\"/>\n-\t\t</channels>\n-\t</channel-group-type>\n-\n-\t<channel-type id=\"mowerDurationProperty\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Mowing Time</label>\n-\t\t<description>Mowing time in minutes</description>\n-\t\t<state pattern=\"%d min\" min=\"1\" max=\"1440\" step=\"1\"/>\n-\t</channel-type>\n-\n-\t<channel-type id=\"parkUntilFurtherNotice\">\n-\t\t<item-type>Switch</item-type>\n-\t\t<label>Park and Pause All Timers</label>\n-\t\t<description>Park and pause all timers</description>\n-\t</channel-type>\n-\n-\t<channel-type id=\"parkUntilNextTimer\">\n-\t\t<item-type>Switch</item-type>\n-\t\t<label>Park Until Next Timer</label>\n-\t\t<description>Park until next timer</description>\n-\t</channel-type>\n-\n-\t<channel-type id=\"startResumeSchedule\">\n-\t\t<item-type>Switch</item-type>\n-\t\t<label>Start Resume Schedule</label>\n-\t\t<description>Start resume schedule</description>\n-\t</channel-type>\n-\n-\t<channel-type id=\"startOverrideTimer\">\n-\t\t<item-type>Switch</item-type>\n-\t\t<label>Override Timer</label>\n-\t\t<description>Starts the mower for the specified duration</description>\n-\t</channel-type>\n-\n-\t<channel-type id=\"lastTimeOnline\" advanced=\"true\">\n-\t\t<item-type>DateTime</item-type>\n-\t\t<label>Last Time Online</label>\n-\t\t<description>Last time the device was online</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n-\n-\t<channel-type id=\"charging\" advanced=\"true\">\n-\t\t<item-type>Switch</item-type>\n-\t\t<label>Battery Charging</label>\n-\t\t<description>Battery Charging</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t<!-- ############################### Watering Computer ############################### -->\n \n-\t<channel-type id=\"radioQuality\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Radio Link Quality</label>\n-\t\t<description>Radio Link Quality</description>\n-\t\t<state pattern=\"%d %%\" readOnly=\"true\"/>\n-\t</channel-type>\n+\t<thing-type id=\"water_control\">\n+\t\t<supported-bridge-type-refs>\n+\t\t\t<bridge-type-ref id=\"account\"/>\n+\t\t</supported-bridge-type-refs>\n \n-\t<channel-type id=\"manualOperation\" advanced=\"true\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Manual Operation</label>\n-\t\t<description>The mower is controlled manually</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t\t<label>Gardena smart Water Control</label>\n+\t\t<description>Represents a Gardena smart Water Control</description>\n \n-\t<channel-type id=\"status\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Mower Status</label>\n-\t\t<description>The mower status</description>\n-\t\t<state readOnly=\"true\">\n-\t\t\t<options>\n-\t\t\t\t<option value=\"uninitialised\">Uninitialised</option>\n-\t\t\t\t<option value=\"paused\">Paused</option>\n-\t\t\t\t<option value=\"ok_cutting\">Mowing</option>\n-\t\t\t\t<option value=\"ok_searching\">Searching charging station</option>\n-\t\t\t\t<option value=\"ok_charging\">Charging</option>\n-\t\t\t\t<option value=\"ok_leaving\">Mowing</option>\n-\t\t\t\t<option value=\"wait_updating\">Updating ...</option>\n-\t\t\t\t<option value=\"wait_power_up\">Powering up ...</option>\n-\t\t\t\t<option value=\"parked_timer\">Parked on schedule</option>\n-\t\t\t\t<option value=\"parked_park_selected\">Parked</option>\n-\t\t\t\t<option value=\"off_disabled\">The mower is turned off</option>\n-\t\t\t\t<option value=\"off_hatch_open\">Disabled. Hatch open</option>\n-\t\t\t\t<option value=\"unknown\">Unknown</option>\n-\t\t\t\t<option value=\"error\">Error</option>\n-\t\t\t\t<option value=\"error_at_power_up\">Error</option>\n-\t\t\t\t<option value=\"off_hatch_closed\">Disabled. Manual start needed</option>\n-\t\t\t\t<option value=\"ok_cutting_timer_overridden\">Manual mowing</option>\n-\t\t\t\t<option value=\"parked_autotimer\">Parked due to SensorControl</option>\n-\t\t\t\t<option value=\"parked_daily_limit_reached\">Completed</option>\n-\t\t\t\t<option value=\"undefined\">Undefined</option>\n-\t\t\t</options>\n-\t\t</state>\n-\t</channel-type>\n-\n-\t<channel-type id=\"error\" advanced=\"true\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Mower Error</label>\n-\t\t<description>Mower Error</description>\n-\t\t<state readOnly=\"true\">\n-\t\t\t<options>\n-\t\t\t\t<option value=\"no_message\">No message</option>\n-\t\t\t\t<option value=\"outside_working_area\">Outside working area</option>\n-\t\t\t\t<option value=\"no_loop_signal\">No loop signal</option>\n-\t\t\t\t<option value=\"wrong_loop_signal\">Wrong loop signal</option>\n-\t\t\t\t<option value=\"loop_sensor_problem_front\">Loop sensor problem, front</option>\n-\t\t\t\t<option value=\"loop_sensor_problem_rear\">Loop sensor problem, rear</option>\n-\t\t\t\t<option value=\"loop_sensor_problem_left\">Loop sensor problem, left</option>\n-\t\t\t\t<option value=\"loop_sensor_problem_right\">Loop sensor problem, right</option>\n-\t\t\t\t<option value=\"wrong_pin_code\">Wrong pin code</option>\n-\t\t\t\t<option value=\"trapped\">Trapped</option>\n-\t\t\t\t<option value=\"upside_down\">Upside down</option>\n-\t\t\t\t<option value=\"low_battery\">Low battery</option>\n-\t\t\t\t<option value=\"empty_battery\">Empty battery</option>\n-\t\t\t\t<option value=\"no_drive\">Disabled. Hatch open</option>\n-\t\t\t\t<option value=\"temporarily_lifted\">Temporary lifted</option>\n-\t\t\t\t<option value=\"lifted\">Lifted</option>\n-\t\t\t\t<option value=\"stuck_in_charging_station\">Stuck in charging station</option>\n-\t\t\t\t<option value=\"charging_station_blocked\">Charging station blocked</option>\n-\t\t\t\t<option value=\"collision_sensor_problem_rear\">Collision sensor problem, rear</option>\n-\t\t\t\t<option value=\"collision_sensor_problem_front\">Collision sensor problem, front</option>\n-\t\t\t\t<option value=\"wheel_motor_blocked_right\">Wheel motor blocked, right</option>\n-\t\t\t\t<option value=\"wheel_motor_blocked_left\">Wheel motor blocked, left</option>\n-\t\t\t\t<option value=\"wheel_drive_problem_right\">Wheel drive problem, right</option>\n-\t\t\t\t<option value=\"wheel_drive_problem_left\">Wheel drive problem, left</option>\n-\t\t\t\t<option value=\"cutting_motor_drive_defect\">Cutting motor drive defect</option>\n-\t\t\t\t<option value=\"cutting_system_blocked\">Cutting system blocked</option>\n-\t\t\t\t<option value=\"invalid_sub_device_combination\">Invalid sub-device combination</option>\n-\t\t\t\t<option value=\"settings_restored\">Settings restored</option>\n-\t\t\t\t<option value=\"memory_circuit_problem\">Memory circuit problem</option>\n-\t\t\t\t<option value=\"slope_too_steep\">Slope too steep</option>\n-\t\t\t\t<option value=\"charging_system_problem\">Charging system problem</option>\n-\t\t\t\t<option value=\"stop_button_problem\">Stop button problem</option>\n-\t\t\t\t<option value=\"tilt_sensor_problem\">Tilt sensor problem</option>\n-\t\t\t\t<option value=\"mower_tilted\">Mower tilted</option>\n-\t\t\t\t<option value=\"wheel_motor_overloaded_right\">Wheel motor overloaded, right</option>\n-\t\t\t\t<option value=\"wheel_motor_overloaded_left\">Wheel motor overloaded, left</option>\n-\t\t\t\t<option value=\"charging_current_too_high\">Charging current too high</option>\n-\t\t\t\t<option value=\"electronic_problem\">Electronic problem</option>\n-\t\t\t\t<option value=\"cutting_motor_problem\">Cutting motor problem</option>\n-\t\t\t\t<option value=\"limited_cutting_height_range\">Limited cutting height range</option>\n-\t\t\t\t<option value=\"unexpected_cutting_height_adj\">Unexpected cutting height adj</option>\n-\t\t\t\t<option value=\"cutting_height_problem_drive\">Cutting height problem drive</option>\n-\t\t\t\t<option value=\"cutting_height_problem_curr\">Cutting height problem curr</option>\n-\t\t\t\t<option value=\"cutting_height_problem_dir\">Cutting height problem dir</option>\n-\t\t\t\t<option value=\"cutting_height_blocked\">Cutting height blocked</option>\n-\t\t\t\t<option value=\"cutting_height_problem\">Cutting height problem</option>\n-\t\t\t\t<option value=\"no_response_from_charger\">No response from charger</option>\n-\t\t\t\t<option value=\"ultrasonic_problem\">Ultrasonic problem</option>\n-\t\t\t\t<option value=\"temporary_problem\">Temporary problem</option>\n-\t\t\t\t<option value=\"guide_1_not_found\">Guide 1 not found</option>\n-\t\t\t\t<option value=\"guide_2_not_found\">Guide 2 not found</option>\n-\t\t\t\t<option value=\"guide_3_not_found\">Guide 3 not found</option>\n-\t\t\t\t<option value=\"gps_tracker_module_error\">GPS tracker module error</option>\n-\t\t\t\t<option value=\"weak_gps_signal\">Weak gps signal</option>\n-\t\t\t\t<option value=\"difficult_finding_home\">Difficult finding home</option>\n-\t\t\t\t<option value=\"guide_calibration_accomplished\">Guide calibration accomplished</option>\n-\t\t\t\t<option value=\"guide_calibration_failed\">Guide calibration failed</option>\n-\t\t\t\t<option value=\"temporary_battery_problem\">Temporary battery problem</option>\n-\t\t\t\t<option value=\"battery_problem\">Battery problem</option>\n-\t\t\t\t<option value=\"too_many_batteries\">Too many batteries</option>\n-\t\t\t\t<option value=\"alarm_mower_switched_off\">Alarm! Mower switched off</option>\n-\t\t\t\t<option value=\"alarm_mower_stopped\">Alarm! Mower stopped</option>\n-\t\t\t\t<option value=\"alarm_mower_lifted\">Alarm! Mower lifted</option>\n-\t\t\t\t<option value=\"alarm_mower_tilted\">Alarm! Mower tilted</option>\n-\t\t\t\t<option value=\"alarm_mower_in_motion\">Alarm! Mower in motion</option>\n-\t\t\t\t<option value=\"alarm_outside_geofence\">Alarm outside geofence</option>\n-\t\t\t\t<option value=\"connection_changed\">Connection changed</option>\n-\t\t\t\t<option value=\"connection_not_changed\">Connection not changed</option>\n-\t\t\t\t<option value=\"com_board_not_available\">COM board not available</option>\n-\t\t\t\t<option value=\"slipped\">Slipped</option>\n-\t\t\t\t<option value=\"invalid_battery_combination\">Invalid battery combination</option>\n-\t\t\t\t<option value=\"imbalanced_cutting_disc\">Imbalanced cutting disc</option>\n-\t\t\t\t<option value=\"safety_function_faulty\">Safety function faulty</option>\n-\t\t\t</options>\n-\t\t</state>\n-\t</channel-type>\n+\t\t<channel-groups>\n+\t\t\t<channel-group id=\"common\" typeId=\"commonProperties\"/>\n+\t\t\t<channel-group id=\"valve\" typeId=\"valveProperties\"/>\n+\t\t\t<channel-group id=\"valve_commands\" typeId=\"valveCommands\"/>\n+\t\t\t<channel-group id=\"valveSet\" typeId=\"valveSetProperties\"/>\n+\t\t\t<channel-group id=\"valveSet_commands\" typeId=\"valveSetCommands\"/>\n+\t\t</channel-groups>\n+\t\t<properties>\n+\t\t\t<!-- common -->\n+\t\t\t<property name=\"serial\"/>\n+\t\t\t<property name=\"modelType\"/>\n+\t\t</properties>\n+\t</thing-type>\n \n-\t<channel-type id=\"sourceForNextStart\" advanced=\"true\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Source for Next Start</label>\n-\t\t<description>The source for the next start</description>\n-\t\t<state readOnly=\"true\">\n-\t\t\t<options>\n-\t\t\t\t<option value=\"no_source\">No source</option>\n-\t\t\t\t<option value=\"completed_cutting_daily_limit\">Completed cutting daily limit</option>\n-\t\t\t\t<option value=\"week_timer\">Week timer</option>\n-\t\t\t\t<option value=\"countdown_timer\">Countdown timer</option>\n-\t\t\t\t<option value=\"mower_charging\">Mower charging</option>\n-\t\t\t\t<option value=\"completed_cutting_autotimer\">Completed cutting autotimer</option>\n-\t\t\t\t<option value=\"undefined\">Undefined</option>\n-\t\t\t</options>\n-\t\t</state>\n-\t</channel-type>\n+\t<!-- ############################### Sensor ############################### -->\n \n-\t<channel-type id=\"timestampNextStart\">\n-\t\t<item-type>DateTime</item-type>\n-\t\t<label>Timestamp Next Start</label>\n-\t\t<description>Timestamp of the next start</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t<thing-type id=\"sensor\">\n+\t\t<supported-bridge-type-refs>\n+\t\t\t<bridge-type-ref id=\"account\"/>\n+\t\t</supported-bridge-type-refs>\n \n-\t<channel-type id=\"overrideEndTime\" advanced=\"true\">\n-\t\t<item-type>DateTime</item-type>\n-\t\t<label>Override End Time</label>\n-\t\t<description>Override End Time</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t\t<label>Gardena smart Sensor</label>\n+\t\t<description>Represents a Gardena smart Sensor</description>\n \n-\t<channel-type id=\"temperature\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Temperature</label>\n-\t\t<description>Temperature</description>\n-\t\t<state pattern=\"%d \u00b0C\" readOnly=\"true\"/>\n-\t</channel-type>\n+\t\t<channel-groups>\n+\t\t\t<channel-group id=\"common\" typeId=\"commonProperties\"/>\n+\t\t\t<channel-group id=\"sensor\" typeId=\"sensorProperties\"/>\n+\t\t</channel-groups>\n+\t\t<properties>\n+\t\t\t<!-- common -->\n+\t\t\t<property name=\"serial\"/>\n+\t\t\t<property name=\"modelType\"/>\n+\t\t</properties>\n+\t</thing-type>\n \n-\t<channel-group-type id=\"firmware\">\n-\t\t<label>Firmware</label>\n-\t\t<description>Information about the firmware</description>\n-\t\t<channels>\n-\t\t\t<channel id=\"firmware_status\" typeId=\"firmwareStatus\"/>\n-\t\t\t<channel id=\"firmware_upload_progress\" typeId=\"firmwareUploadProgress\"/>\n-\t\t\t<channel id=\"firmware_available_version\" typeId=\"firmwareAvailableVersion\"/>\n-\t\t</channels>\n-\t</channel-group-type>\n+\t<!-- ############################### Pressure Pump ############################### -->\n \n-\t<channel-type id=\"firmwareStatus\" advanced=\"true\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Status</label>\n-\t\t<description>The firmware status</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t<thing-type id=\"pump\">\n+\t\t<supported-bridge-type-refs>\n+\t\t\t<bridge-type-ref id=\"account\"/>\n+\t\t</supported-bridge-type-refs>\n \n-\t<channel-type id=\"firmwareUploadProgress\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Upload Progress</label>\n-\t\t<description>Firmware upload in progress</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t\t<label>Gardena smart Pressure Pump</label>\n+\t\t<description>Represents a Gardena smart Pressure Pump</description>\n \n-\t<channel-type id=\"firmwareAvailableVersion\" advanced=\"true\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Available Version</label>\n-\t\t<description>Available firmware version</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t\t<channel-groups>\n+\t\t\t<channel-group id=\"common\" typeId=\"commonProperties\"/>\n+\t\t\t<channel-group id=\"valve\" typeId=\"valveProperties\"/>\n+\t\t\t<channel-group id=\"valve_commands\" typeId=\"valveCommands\"/>\n+\t\t</channel-groups>\n+\t\t<properties>\n+\t\t\t<!-- common -->\n+\t\t\t<property name=\"serial\"/>\n+\t\t\t<property name=\"modelType\"/>\n+\t\t</properties>\n+\t</thing-type>\n \n-\t<channel-group-type id=\"mowerStats\">\n-\t\t<label>Robotic Mower Statistics</label>\n-\t\t<description>Statistics about the robotic mower</description>\n-\t\t<channels>\n-\t\t\t<channel id=\"cutting_time\" typeId=\"cuttingTime\"/>\n-\t\t\t<channel id=\"charging_cycles\" typeId=\"chargingCycles\"/>\n-\t\t\t<channel id=\"collisions\" typeId=\"collisions\"/>\n-\t\t\t<channel id=\"running_time\" typeId=\"runningTime\"/>\n-\t\t</channels>\n-\t</channel-group-type>\n+\t<!-- ############################### Power ############################### -->\n \n-\t<channel-type id=\"cuttingTime\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Cutting Time</label>\n-\t\t<description>The cutting time</description>\n-\t\t<state readOnly=\"true\" pattern=\"%d h\"/>\n-\t</channel-type>\n+\t<thing-type id=\"power\">\n+\t\t<supported-bridge-type-refs>\n+\t\t\t<bridge-type-ref id=\"account\"/>\n+\t\t</supported-bridge-type-refs>\n \n-\t<channel-type id=\"chargingCycles\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Charging Cycles</label>\n-\t\t<description>The charging cycles</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t\t<label>Gardena smart Power Adapter</label>\n+\t\t<description>Represents a Gardena smart Power Adapter</description>\n \n-\t<channel-type id=\"collisions\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Collisions</label>\n-\t\t<description>The number of collisions</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t\t<channel-groups>\n+\t\t\t<channel-group id=\"common\" typeId=\"commonProperties\"/>\n+\t\t\t<channel-group id=\"powerSocket\" typeId=\"powerSocketProperties\"/>\n+\t\t\t<channel-group id=\"powerSocket_commands\" typeId=\"powerSocketCommands\"/>\n+\t\t</channel-groups>\n+\t\t<properties>\n+\t\t\t<!-- common -->\n+\t\t\t<property name=\"serial\"/>\n+\t\t\t<property name=\"modelType\"/>\n+\t\t</properties>\n+\t</thing-type>\n \n-\t<channel-type id=\"runningTime\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Running Time</label>\n-\t\t<description>Running time</description>\n-\t\t<state readOnly=\"true\" pattern=\"%d h\"/>\n-\t</channel-type>\n+\t<!-- ############################### Irrigation Control ############################### -->\n \n-\t<!-- ############################### Watering Computer ############################### -->\n-\t<thing-type id=\"watering_computer\">\n+\t<thing-type id=\"irrigation_control\">\n \t\t<supported-bridge-type-refs>\n \t\t\t<bridge-type-ref id=\"account\"/>\n \t\t</supported-bridge-type-refs>\n \n-\t\t<label>Gardena Smart Watering Computer</label>\n-\t\t<description>Represents a Gardena Smart Watering Computer</description>\n+\t\t<label>Gardena smart Irrigation Control</label>\n+\t\t<description>Represents a Gardena smart Irrigation Control</description>\n \n \t\t<channel-groups>\n-\t\t\t<channel-group id=\"device_info\" typeId=\"deviceInfo\"/>\n-\t\t\t<channel-group id=\"battery\" typeId=\"battery\"/>\n-\t\t\t<channel-group id=\"radio\" typeId=\"radio\"/>\n-\t\t\t<channel-group id=\"outlet\" typeId=\"outlet\"/>\n-\t\t\t<channel-group id=\"ambient_temperature\" typeId=\"ambientTemperature\"/>\n+\t\t\t<channel-group id=\"common\" typeId=\"commonProperties\"/>\n+\t\t\t<channel-group id=\"valveOne\" typeId=\"valveProperties\">\n+\t\t\t\t<label>Valve 1 properties</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveOne_commands\" typeId=\"valveCommands\">\n+\t\t\t\t<label>Valve 1 commands</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveTwo\" typeId=\"valveProperties\">\n+\t\t\t\t<label>Valve 2 properties</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveTwo_commands\" typeId=\"valveCommands\">\n+\t\t\t\t<label>Valve 2 commands</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveThree\" typeId=\"valveProperties\">\n+\t\t\t\t<label>Valve 3 properties</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveThree_commands\" typeId=\"valveCommands\">\n+\t\t\t\t<label>Valve 3 commands</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveFour\" typeId=\"valveProperties\">\n+\t\t\t\t<label>Valve 4 properties</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveFour_commands\" typeId=\"valveCommands\">\n+\t\t\t\t<label>Valve 4 Commands</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveFive\" typeId=\"valveProperties\">\n+\t\t\t\t<label>Valve 5 Properties</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveFive_commands\" typeId=\"valveCommands\">\n+\t\t\t\t<label>Valve 5 Commands</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveSix\" typeId=\"valveProperties\">\n+\t\t\t\t<label>Valve 6 Properties</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveSix_commands\" typeId=\"valveCommands\">\n+\t\t\t\t<label>Valve 6 Commands</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveSet\" typeId=\"valveSetProperties\"/>\n+\t\t\t<channel-group id=\"valveSet_commands\" typeId=\"valveSetCommands\"/>\n \t\t</channel-groups>\n \t\t<properties>\n-\t\t\t<!-- device info -->\n-\t\t\t<property name=\"manufacturer\"/>\n-\t\t\t<property name=\"product\"/>\n-\t\t\t<property name=\"serialNumber\"/>\n-\t\t\t<property name=\"sgtin\"/>\n-\t\t\t<property name=\"version\"/>\n-\t\t\t<property name=\"category\"/>\n+\t\t\t<!-- common -->\n+\t\t\t<property name=\"serial\"/>\n+\t\t\t<property name=\"modelType\"/>\n \t\t</properties>\n \t</thing-type>\n \n-\t<channel-group-type id=\"battery\">\n-\t\t<label>Battery Info</label>\n-\t\t<description>Information about the battery</description>\n+\t<!-- ############################### channels and groups ############################### -->\n+\n+\t<channel-group-type id=\"valveSetProperties\">\n+\t\t<label>Valve Set Properties</label>\n+\t\t<description>Properties of a valve set</description>\n \t\t<channels>\n-\t\t\t<channel id=\"level\" typeId=\"system.battery-level\"/>\n-\t\t\t<channel id=\"disposable_battery_status\" typeId=\"disposableBatteryStatus\"/>\n+\t\t\t<channel id=\"state\" typeId=\"state\"/>\n+\t\t\t<channel id=\"state_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>State Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"lastErrorCode\" typeId=\"lastErrorCode\"/>\n+\t\t\t<channel id=\"lastErrorCode_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Last Error Code Timestamp</label>\n+\t\t\t</channel>\n \t\t</channels>\n \t</channel-group-type>\n \n-\t<channel-group-type id=\"outlet\">\n-\t\t<label>Watering Outlet</label>\n-\t\t<description>Information about the watering outlet</description>\n+\t<channel-group-type id=\"valveProperties\">\n+\t\t<label>Valve Properties</label>\n+\t\t<description>Properties of a valve</description>\n \t\t<channels>\n-\t\t\t<channel id=\"valve_open\" typeId=\"valveOpen\"/>\n-\t\t\t<channel id=\"manual_override\" typeId=\"manualOverride\"/>\n-\t\t\t<channel id=\"button_manual_override_time\" typeId=\"buttonManualOverrideTime\"/>\n+\t\t\t<channel id=\"name\" typeId=\"name\"/>\n+\t\t\t<channel id=\"state\" typeId=\"state\"/>\n+\t\t\t<channel id=\"state_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>State Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"activity\" typeId=\"activity\"/>\n+\t\t\t<channel id=\"activity_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Activity Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"lastErrorCode\" typeId=\"lastErrorCode\"/>\n+\t\t\t<channel id=\"lastErrorCode_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Last Error Code Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"duration\" typeId=\"duration\"/>\n \t\t</channels>\n \t</channel-group-type>\n \n-\t<channel-group-type id=\"ambientTemperature\">\n-\t\t<label>Ambient Temperature</label>\n-\t\t<description>Ambient Temperature</description>\n+\t<channel-group-type id=\"sensorProperties\">\n+\t\t<label>Sensor Properties</label>\n+\t\t<description>Properties of a sensor</description>\n \t\t<channels>\n-\t\t\t<channel id=\"temperature\" typeId=\"temperature\">\n+\t\t\t<channel id=\"soilHumidity\" typeId=\"soilHumidity\"/>\n+\t\t\t<channel id=\"soilHumidity_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Soil Humidity Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"soilTemperature\" typeId=\"temperature\">\n+\t\t\t\t<label>Soil Temperature</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"soilTemperature_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Soil Temperature Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"ambientTemperature\" typeId=\"temperature\">\n \t\t\t\t<label>Ambient Temperature</label>\n \t\t\t</channel>\n-\t\t\t<channel id=\"frost_warning\" typeId=\"frostWarning\"/>\n+\t\t\t<channel id=\"ambientTemperature_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Ambient Temperature Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"lightIntensity\" typeId=\"lightIntensity\"/>\n+\t\t\t<channel id=\"lightIntensity_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Light Intensity Timestamp</label>\n+\t\t\t</channel>\n \t\t</channels>\n \t</channel-group-type>\n \n-\t<channel-type id=\"disposableBatteryStatus\" advanced=\"true\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Disposable Battery Status</label>\n-\t\t<description>The status of the disposable battery</description>\n-\t\t<state readOnly=\"true\">\n-\t\t\t<options>\n-\t\t\t\t<option value=\"out_of_operation\">Out of operation</option>\n-\t\t\t\t<option value=\"replace_now\">Critical battery level, replace now</option>\n-\t\t\t\t<option value=\"low\">Low</option>\n-\t\t\t\t<option value=\"ok\">OK</option>\n-\t\t\t\t<option value=\"undefined\">Undefined</option>\n-\t\t\t</options>\n-\t\t</state>\n-\t</channel-type>\n-\n-\t<channel-type id=\"valveOpen\">\n-\t\t<item-type>Switch</item-type>\n-\t\t<label>Valve Open</label>\n-\t\t<description>Valve Open</description>\n-\t</channel-type>\n-\n-\t<channel-type id=\"manualOverride\" advanced=\"true\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Manual Override</label>\n-\t\t<description>Manual Override</description>\n-\t\t<state readOnly=\"true\">\n-\t\t\t<options>\n-\t\t\t\t<option value=\"inactive\">Inactive</option>\n-\t\t\t\t<option value=\"open\">Open</option>\n-\t\t\t\t<option value=\"undefined\">Undefined</option>\n-\t\t\t</options>\n-\t\t</state>\n-\t</channel-type>\n-\n-\t<channel-type id=\"buttonManualOverrideTime\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Button Manual Override</label>\n-\t\t<description>The time the valve is open when you press the button on the device</description>\n-\t\t<state pattern=\"%d min\" min=\"1\" max=\"59\" step=\"1\"/>\n-\t</channel-type>\n-\n-\t<channel-type id=\"frostWarning\" advanced=\"true\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Frost Warning</label>\n-\t\t<description>Frost Warning</description>\n-\t\t<state readOnly=\"true\">\n-\t\t\t<options>\n-\t\t\t\t<option value=\"no_frost\">No frost</option>\n-\t\t\t\t<option value=\"frost\">Frost</option>\n-\t\t\t\t<option value=\"undefined\">Undefined</option>\n-\t\t\t</options>\n-\t\t</state>\n-\t</channel-type>\n-\n-\t<!-- ############################### Sensor ############################### -->\n-\t<thing-type id=\"sensor\">\n-\t\t<supported-bridge-type-refs>\n-\t\t\t<bridge-type-ref id=\"account\"/>\n-\t\t</supported-bridge-type-refs>\n-\n-\t\t<label>Gardena Smart Sensor</label>\n-\t\t<description>Represents a Gardena Smart Sensor</description>\n-\n-\t\t<channel-groups>\n-\t\t\t<channel-group id=\"device_info\" typeId=\"deviceInfo\"/>\n-\t\t\t<channel-group id=\"battery\" typeId=\"battery\"/>\n-\t\t\t<channel-group id=\"radio\" typeId=\"radio\"/>\n-\t\t\t<channel-group id=\"ambient_temperature\" typeId=\"ambientTemperature\"/>\n-\t\t\t<channel-group id=\"soil_temperature\" typeId=\"soilTemperature\"/>\n-\t\t\t<channel-group id=\"humidity\" typeId=\"humidity\"/>\n-\t\t\t<channel-group id=\"light\" typeId=\"light\"/>\n-\t\t</channel-groups>\n-\t\t<properties>\n-\t\t\t<!-- device info -->\n-\t\t\t<property name=\"manufacturer\"/>\n-\t\t\t<property name=\"product\"/>\n-\t\t\t<property name=\"serialNumber\"/>\n-\t\t\t<property name=\"sgtin\"/>\n-\t\t\t<property name=\"version\"/>\n-\t\t\t<property name=\"category\"/>\n-\t\t</properties>\n-\t</thing-type>\n-\n-\t<channel-group-type id=\"soilTemperature\">\n-\t\t<label>Soil Temperature</label>\n-\t\t<description>The soil temperature</description>\n+\t<channel-group-type id=\"powerSocketProperties\">\n+\t\t<label>Power Socket Properties</label>\n+\t\t<description>Properties of a power socket</description>\n \t\t<channels>\n-\t\t\t<channel id=\"temperature\" typeId=\"temperature\">\n-\t\t\t\t<label>Soil Temperature</label>\n+\t\t\t<channel id=\"state\" typeId=\"state\"/>\n+\t\t\t<channel id=\"state_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>State Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"activity\" typeId=\"activity\"/>\n+\t\t\t<channel id=\"activity_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Activity Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"lastErrorCode\" typeId=\"lastErrorCode\"/>\n+\t\t\t<channel id=\"lastErrorCode_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Last Error Code Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"duration\" typeId=\"duration\"/>\n+\t\t\t<channel id=\"duration_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Duration Timestamp</label>\n \t\t\t</channel>\n \t\t</channels>\n \t</channel-group-type>\n \n-\t<channel-group-type id=\"humidity\">\n-\t\t<label>Humidity</label>\n-\t\t<description>The humidity</description>\n+\t<channel-group-type id=\"mowerProperties\">\n+\t\t<label>Mower Properties</label>\n+\t\t<description>Properties of a mower</description>\n \t\t<channels>\n-\t\t\t<channel id=\"humidity\" typeId=\"humidity\"/>\n+\t\t\t<channel id=\"state\" typeId=\"state\"/>\n+\t\t\t<channel id=\"state_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>State Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"activity\" typeId=\"activity\"/>\n+\t\t\t<channel id=\"activity_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Activity Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"lastErrorCode\" typeId=\"lastErrorCode\"/>\n+\t\t\t<channel id=\"lastErrorCode_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Last Error Code Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"operatingHours\" typeId=\"operatingHours\"/>\n \t\t</channels>\n \t</channel-group-type>\n \n-\t<channel-group-type id=\"light\">\n-\t\t<label>Brightness</label>\n-\t\t<description>The brightness</description>\n+\t<channel-group-type id=\"commonProperties\">\n+\t\t<label>Common Properties</label>\n+\t\t<description>Properties that are common across devices</description>\n \t\t<channels>\n-\t\t\t<channel id=\"light\" typeId=\"light\"/>\n+\t\t\t<channel id=\"name\" typeId=\"name\"/>\n+\t\t\t<channel id=\"batteryLevel\" typeId=\"system.battery-level\"/>\n+\t\t\t<channel id=\"batteryLevel_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Battery Level Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"batteryState\" typeId=\"batteryState\"/>\n+\t\t\t<channel id=\"batteryState_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Battery State Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"rfLinkLevel\" typeId=\"system.signal-strength\"/>\n+\t\t\t<channel id=\"rfLinkLevel_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>RF Link Level Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"rfLinkState\" typeId=\"rfLinkState\"/>\n+\t\t\t<channel id=\"rfLinkState_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>RF Link State Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"lastUpdate_timestamp\" typeId=\"timestampRefresh\">\n+\t\t\t\t<label>LastUpdate Timestamp</label>\n+\t\t\t</channel>\n \t\t</channels>\n \t</channel-group-type>\n \n-\t<channel-type id=\"humidity\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Humidity</label>\n-\t\t<description>The humidity</description>\n-\t\t<state pattern=\"%d %%\" readOnly=\"true\"/>\n-\t</channel-type>\n-\n-\t<channel-type id=\"light\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Brightness</label>\n-\t\t<description>The brightness</description>\n-\t\t<state pattern=\"%d lx\" readOnly=\"true\"/>\n-\t</channel-type>\n-\n-\t<!-- ############################### Pressure Pump ############################### -->\n-\n-\t<thing-type id=\"electronic_pressure_pump\">\n-\t\t<supported-bridge-type-refs>\n-\t\t\t<bridge-type-ref id=\"account\"/>\n-\t\t</supported-bridge-type-refs>\n-\n-\t\t<label>Gardena Smart Pressure Pump</label>\n-\t\t<description>Represents a Gardena Smart Pressure Pump</description>\n-\n-\t\t<channel-groups>\n-\t\t\t<channel-group id=\"device_info\" typeId=\"deviceInfo\"/>\n-\t\t\t<channel-group id=\"radio\" typeId=\"radio\"/>\n-\n-\t\t\t<channel-group id=\"outlet_temperature\" typeId=\"outletTemperature\"/>\n-\t\t\t<channel-group id=\"pump\" typeId=\"pump\"/>\n-\t\t\t<channel-group id=\"outlet_pressure\" typeId=\"outletPressure\"/>\n-\t\t\t<channel-group id=\"flow\" typeId=\"flow\"/>\n-\t\t\t<channel-group id=\"manual_watering\" typeId=\"manualWatering\"/>\n-\t\t\t<channel-group id=\"scheduling\" typeId=\"scheduling\"/>\n-\t\t</channel-groups>\n-\n-\t\t<properties>\n-\t\t\t<!-- device info -->\n-\t\t\t<property name=\"manufacturer\"/>\n-\t\t\t<property name=\"product\"/>\n-\t\t\t<property name=\"serialNumber\"/>\n-\t\t\t<property name=\"sgtin\"/>\n-\t\t\t<property name=\"version\"/>\n-\t\t\t<property name=\"category\"/>\n-\t\t</properties>\n-\n-\t\t<config-description>\n-\t\t\t<parameter name=\"leakage_detection\" type=\"text\">\n-\t\t\t\t<label>Leakage Detection</label>\n-\t\t\t\t<options>\n-\t\t\t\t\t<option value=\"watering\">Watering</option>\n-\t\t\t\t\t<option value=\"washing_machine\">Washing machine</option>\n-\t\t\t\t\t<option value=\"domestic_water_supply\">Domestic water supply</option>\n-\t\t\t\t\t<option value=\"off\">Off</option>\n-\t\t\t\t</options>\n-\t\t\t</parameter>\n-\t\t\t<parameter name=\"operating_mode\" type=\"text\">\n-\t\t\t\t<label>Operating Mode</label>\n-\t\t\t\t<options>\n-\t\t\t\t\t<option value=\"scheduled\">Scheduled</option>\n-\t\t\t\t\t<option value=\"automatic\">Automatic</option>\n-\t\t\t\t</options>\n-\t\t\t</parameter>\n-\t\t\t<parameter name=\"turn_on_pressure\" type=\"text\">\n-\t\t\t\t<label>Turn On Pressure</label>\n-\t\t\t\t<options>\n-\t\t\t\t\t<option value=\"2.0\">2.0</option>\n-\t\t\t\t\t<option value=\"2.2\">2.2</option>\n-\t\t\t\t\t<option value=\"2.4\">2.4</option>\n-\t\t\t\t\t<option value=\"2.6\">2.6</option>\n-\t\t\t\t\t<option value=\"2.8\">2.8</option>\n-\t\t\t\t</options>\n-\t\t\t</parameter>\n-\t\t</config-description>\n-\t</thing-type>\n-\n-\t<channel-group-type id=\"outletTemperature\">\n-\t\t<label>Outlet Temperature</label>\n-\t\t<description>The outlet temperature</description>\n+\t<channel-group-type id=\"mowerCommands\">\n+\t\t<label>Mower Commands</label>\n+\t\t<description>Commands to control a mower</description>\n \t\t<channels>\n-\t\t\t<channel id=\"temperature\" typeId=\"temperature\"/>\n-\t\t\t<channel id=\"temperature_min\" typeId=\"temperatureMin\"/>\n-\t\t\t<channel id=\"temperature_max\" typeId=\"temperatureMax\"/>\n-\t\t\t<channel id=\"frost_warning\" typeId=\"frostWarning\"/>\n+\t\t\t<channel id=\"commandDuration\" typeId=\"mowerCommandDuration\">\n+\t\t\t\t<label>Mowing Duration</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"start_seconds_to_override\" typeId=\"gardenaCommand\">\n+\t\t\t\t<label>Start mowing with duration</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"start_dont_override\" typeId=\"gardenaCommand\">\n+\t\t\t\t<label>Start Schedule</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"park_until_next_task\" typeId=\"gardenaCommand\">\n+\t\t\t\t<label>Park</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"park_until_further_notice\" typeId=\"gardenaCommand\">\n+\t\t\t\t<label>Pause schedule</label>\n+\t\t\t</channel>\n \t\t</channels>\n \t</channel-group-type>\n \n-\t<channel-type id=\"temperatureMin\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Minimum Temperature</label>\n-\t\t<description>The minimum outlet temperature</description>\n-\t\t<state pattern=\"%d \u00b0C\" readOnly=\"true\"/>\n-\t</channel-type>\n-\n-\t<channel-type id=\"temperatureMax\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Maximum Temperature</label>\n-\t\t<description>The maximum outlet temperature</description>\n-\t\t<state pattern=\"%d \u00b0C\" readOnly=\"true\"/>\n-\t</channel-type>\n+\t<channel-group-type id=\"valveCommands\">\n+\t\t<label>Valve Commands</label>\n+\t\t<description>Commands to control a valve</description>\n+\t\t<channels>\n+\t\t\t<channel id=\"commandDuration\" typeId=\"valveCommandDuration\">\n+\t\t\t\t<label>Irrigation Duration</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"start_seconds_to_override\" typeId=\"gardenaCommand\">\n+\t\t\t\t<label>Open valve with duration</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"stop_until_next_task\" typeId=\"gardenaCommand\">\n+\t\t\t\t<label>Close valve, continue with the schedule</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"pause\" typeId=\"gardenaCommand\">\n+\t\t\t\t<label>Pause until specified time</label>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "eb02adf3ea4c748f4b3ec438ee5599ed52609bc3"}, "originalPosition": 883}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM4MTY5ODA3OnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.gardena/src/main/resources/OH-INF/thing/thing-types.xml", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxNzo0OTozN1rOIBtCnw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxNzo0OTozN1rOIBtCnw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODY1NzQzOQ==", "bodyText": "See above", "url": "https://github.com/openhab/openhab-addons/pull/8869#discussion_r538657439", "createdAt": "2020-12-08T17:49:37Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.gardena/src/main/resources/OH-INF/thing/thing-types.xml", "diffHunk": "@@ -10,1162 +10,633 @@\n \t\t\t<bridge-type-ref id=\"account\"/>\n \t\t</supported-bridge-type-refs>\n \n-\t\t<label>Gardena Smart Sileno Mower</label>\n-\t\t<description>A Gardena Smart Sileno mower</description>\n+\t\t<label>Gardena smart SILENO Mower</label>\n+\t\t<description>Represents any Gardena smart SILENO mower model</description>\n \n \t\t<channel-groups>\n-\t\t\t<channel-group id=\"device_info\" typeId=\"deviceInfo\"/>\n-\t\t\t<channel-group id=\"battery\" typeId=\"rechargeableBattery\"/>\n-\t\t\t<channel-group id=\"radio\" typeId=\"radio\"/>\n-\t\t\t<channel-group id=\"mower\" typeId=\"mower\"/>\n-\t\t\t<channel-group id=\"mower_stats\" typeId=\"mowerStats\"/>\n-\t\t\t<channel-group id=\"firmware\" typeId=\"firmware\"/>\n+\t\t\t<channel-group id=\"common\" typeId=\"commonProperties\"/>\n+\t\t\t<channel-group id=\"mower\" typeId=\"mowerProperties\"/>\n+\t\t\t<channel-group id=\"mower_commands\" typeId=\"mowerCommands\"/>\n \t\t</channel-groups>\n \t\t<properties>\n-\t\t\t<!-- device info -->\n-\t\t\t<property name=\"manufacturer\"/>\n-\t\t\t<property name=\"product\"/>\n-\t\t\t<property name=\"serialNumber\"/>\n-\t\t\t<property name=\"sgtin\"/>\n-\t\t\t<property name=\"version\"/>\n-\t\t\t<property name=\"category\"/>\n+\t\t\t<!-- common -->\n+\t\t\t<property name=\"serial\"/>\n+\t\t\t<property name=\"modelType\"/>\n \t\t</properties>\n \t</thing-type>\n \n-\t<channel-group-type id=\"deviceInfo\">\n-\t\t<label>Device Info</label>\n-\t\t<description>Information about the device</description>\n-\t\t<channels>\n-\t\t\t<channel id=\"last_time_online\" typeId=\"lastTimeOnline\"/>\n-\t\t</channels>\n-\t</channel-group-type>\n-\n-\t<channel-group-type id=\"rechargeableBattery\">\n-\t\t<label>Battery Info</label>\n-\t\t<description>Information about the rechargeable battery</description>\n-\t\t<channels>\n-\t\t\t<channel id=\"level\" typeId=\"system.battery-level\"/>\n-\t\t\t<channel id=\"charging\" typeId=\"charging\"/>\n-\t\t</channels>\n-\t</channel-group-type>\n-\n-\t<channel-group-type id=\"radio\">\n-\t\t<label>Radio Link</label>\n-\t\t<description>Information about the radio link</description>\n-\t\t<channels>\n-\t\t\t<channel id=\"quality\" typeId=\"radioQuality\"/>\n-\t\t\t<channel id=\"state\" typeId=\"system.signal-strength\"/>\n-\t\t</channels>\n-\t</channel-group-type>\n-\n-\t<channel-group-type id=\"mower\">\n-\t\t<label>Robotic Mower</label>\n-\t\t<description>Information about the robotic mower</description>\n-\t\t<channels>\n-\t\t\t<channel id=\"manual_operation\" typeId=\"manualOperation\"/>\n-\t\t\t<channel id=\"status\" typeId=\"status\"/>\n-\t\t\t<channel id=\"error\" typeId=\"error\"/>\n-\t\t\t<channel id=\"source_for_next_start\" typeId=\"sourceForNextStart\"/>\n-\t\t\t<channel id=\"timestamp_next_start\" typeId=\"timestampNextStart\"/>\n-\t\t\t<channel id=\"override_end_time\" typeId=\"overrideEndTime\"/>\n-\t\t\t<channel id=\"park_until_further_notice\" typeId=\"parkUntilFurtherNotice\"/>\n-\t\t\t<channel id=\"park_until_next_timer\" typeId=\"parkUntilNextTimer\"/>\n-\t\t\t<channel id=\"start_override_timer\" typeId=\"startOverrideTimer\"/>\n-\t\t\t<channel id=\"start_resume_schedule\" typeId=\"startResumeSchedule\"/>\n-\t\t\t<channel id=\"duration_property\" typeId=\"mowerDurationProperty\"/>\n-\t\t</channels>\n-\t</channel-group-type>\n-\n-\t<channel-type id=\"mowerDurationProperty\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Mowing Time</label>\n-\t\t<description>Mowing time in minutes</description>\n-\t\t<state pattern=\"%d min\" min=\"1\" max=\"1440\" step=\"1\"/>\n-\t</channel-type>\n-\n-\t<channel-type id=\"parkUntilFurtherNotice\">\n-\t\t<item-type>Switch</item-type>\n-\t\t<label>Park and Pause All Timers</label>\n-\t\t<description>Park and pause all timers</description>\n-\t</channel-type>\n-\n-\t<channel-type id=\"parkUntilNextTimer\">\n-\t\t<item-type>Switch</item-type>\n-\t\t<label>Park Until Next Timer</label>\n-\t\t<description>Park until next timer</description>\n-\t</channel-type>\n-\n-\t<channel-type id=\"startResumeSchedule\">\n-\t\t<item-type>Switch</item-type>\n-\t\t<label>Start Resume Schedule</label>\n-\t\t<description>Start resume schedule</description>\n-\t</channel-type>\n-\n-\t<channel-type id=\"startOverrideTimer\">\n-\t\t<item-type>Switch</item-type>\n-\t\t<label>Override Timer</label>\n-\t\t<description>Starts the mower for the specified duration</description>\n-\t</channel-type>\n-\n-\t<channel-type id=\"lastTimeOnline\" advanced=\"true\">\n-\t\t<item-type>DateTime</item-type>\n-\t\t<label>Last Time Online</label>\n-\t\t<description>Last time the device was online</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n-\n-\t<channel-type id=\"charging\" advanced=\"true\">\n-\t\t<item-type>Switch</item-type>\n-\t\t<label>Battery Charging</label>\n-\t\t<description>Battery Charging</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t<!-- ############################### Watering Computer ############################### -->\n \n-\t<channel-type id=\"radioQuality\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Radio Link Quality</label>\n-\t\t<description>Radio Link Quality</description>\n-\t\t<state pattern=\"%d %%\" readOnly=\"true\"/>\n-\t</channel-type>\n+\t<thing-type id=\"water_control\">\n+\t\t<supported-bridge-type-refs>\n+\t\t\t<bridge-type-ref id=\"account\"/>\n+\t\t</supported-bridge-type-refs>\n \n-\t<channel-type id=\"manualOperation\" advanced=\"true\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Manual Operation</label>\n-\t\t<description>The mower is controlled manually</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t\t<label>Gardena smart Water Control</label>\n+\t\t<description>Represents a Gardena smart Water Control</description>\n \n-\t<channel-type id=\"status\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Mower Status</label>\n-\t\t<description>The mower status</description>\n-\t\t<state readOnly=\"true\">\n-\t\t\t<options>\n-\t\t\t\t<option value=\"uninitialised\">Uninitialised</option>\n-\t\t\t\t<option value=\"paused\">Paused</option>\n-\t\t\t\t<option value=\"ok_cutting\">Mowing</option>\n-\t\t\t\t<option value=\"ok_searching\">Searching charging station</option>\n-\t\t\t\t<option value=\"ok_charging\">Charging</option>\n-\t\t\t\t<option value=\"ok_leaving\">Mowing</option>\n-\t\t\t\t<option value=\"wait_updating\">Updating ...</option>\n-\t\t\t\t<option value=\"wait_power_up\">Powering up ...</option>\n-\t\t\t\t<option value=\"parked_timer\">Parked on schedule</option>\n-\t\t\t\t<option value=\"parked_park_selected\">Parked</option>\n-\t\t\t\t<option value=\"off_disabled\">The mower is turned off</option>\n-\t\t\t\t<option value=\"off_hatch_open\">Disabled. Hatch open</option>\n-\t\t\t\t<option value=\"unknown\">Unknown</option>\n-\t\t\t\t<option value=\"error\">Error</option>\n-\t\t\t\t<option value=\"error_at_power_up\">Error</option>\n-\t\t\t\t<option value=\"off_hatch_closed\">Disabled. Manual start needed</option>\n-\t\t\t\t<option value=\"ok_cutting_timer_overridden\">Manual mowing</option>\n-\t\t\t\t<option value=\"parked_autotimer\">Parked due to SensorControl</option>\n-\t\t\t\t<option value=\"parked_daily_limit_reached\">Completed</option>\n-\t\t\t\t<option value=\"undefined\">Undefined</option>\n-\t\t\t</options>\n-\t\t</state>\n-\t</channel-type>\n-\n-\t<channel-type id=\"error\" advanced=\"true\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Mower Error</label>\n-\t\t<description>Mower Error</description>\n-\t\t<state readOnly=\"true\">\n-\t\t\t<options>\n-\t\t\t\t<option value=\"no_message\">No message</option>\n-\t\t\t\t<option value=\"outside_working_area\">Outside working area</option>\n-\t\t\t\t<option value=\"no_loop_signal\">No loop signal</option>\n-\t\t\t\t<option value=\"wrong_loop_signal\">Wrong loop signal</option>\n-\t\t\t\t<option value=\"loop_sensor_problem_front\">Loop sensor problem, front</option>\n-\t\t\t\t<option value=\"loop_sensor_problem_rear\">Loop sensor problem, rear</option>\n-\t\t\t\t<option value=\"loop_sensor_problem_left\">Loop sensor problem, left</option>\n-\t\t\t\t<option value=\"loop_sensor_problem_right\">Loop sensor problem, right</option>\n-\t\t\t\t<option value=\"wrong_pin_code\">Wrong pin code</option>\n-\t\t\t\t<option value=\"trapped\">Trapped</option>\n-\t\t\t\t<option value=\"upside_down\">Upside down</option>\n-\t\t\t\t<option value=\"low_battery\">Low battery</option>\n-\t\t\t\t<option value=\"empty_battery\">Empty battery</option>\n-\t\t\t\t<option value=\"no_drive\">Disabled. Hatch open</option>\n-\t\t\t\t<option value=\"temporarily_lifted\">Temporary lifted</option>\n-\t\t\t\t<option value=\"lifted\">Lifted</option>\n-\t\t\t\t<option value=\"stuck_in_charging_station\">Stuck in charging station</option>\n-\t\t\t\t<option value=\"charging_station_blocked\">Charging station blocked</option>\n-\t\t\t\t<option value=\"collision_sensor_problem_rear\">Collision sensor problem, rear</option>\n-\t\t\t\t<option value=\"collision_sensor_problem_front\">Collision sensor problem, front</option>\n-\t\t\t\t<option value=\"wheel_motor_blocked_right\">Wheel motor blocked, right</option>\n-\t\t\t\t<option value=\"wheel_motor_blocked_left\">Wheel motor blocked, left</option>\n-\t\t\t\t<option value=\"wheel_drive_problem_right\">Wheel drive problem, right</option>\n-\t\t\t\t<option value=\"wheel_drive_problem_left\">Wheel drive problem, left</option>\n-\t\t\t\t<option value=\"cutting_motor_drive_defect\">Cutting motor drive defect</option>\n-\t\t\t\t<option value=\"cutting_system_blocked\">Cutting system blocked</option>\n-\t\t\t\t<option value=\"invalid_sub_device_combination\">Invalid sub-device combination</option>\n-\t\t\t\t<option value=\"settings_restored\">Settings restored</option>\n-\t\t\t\t<option value=\"memory_circuit_problem\">Memory circuit problem</option>\n-\t\t\t\t<option value=\"slope_too_steep\">Slope too steep</option>\n-\t\t\t\t<option value=\"charging_system_problem\">Charging system problem</option>\n-\t\t\t\t<option value=\"stop_button_problem\">Stop button problem</option>\n-\t\t\t\t<option value=\"tilt_sensor_problem\">Tilt sensor problem</option>\n-\t\t\t\t<option value=\"mower_tilted\">Mower tilted</option>\n-\t\t\t\t<option value=\"wheel_motor_overloaded_right\">Wheel motor overloaded, right</option>\n-\t\t\t\t<option value=\"wheel_motor_overloaded_left\">Wheel motor overloaded, left</option>\n-\t\t\t\t<option value=\"charging_current_too_high\">Charging current too high</option>\n-\t\t\t\t<option value=\"electronic_problem\">Electronic problem</option>\n-\t\t\t\t<option value=\"cutting_motor_problem\">Cutting motor problem</option>\n-\t\t\t\t<option value=\"limited_cutting_height_range\">Limited cutting height range</option>\n-\t\t\t\t<option value=\"unexpected_cutting_height_adj\">Unexpected cutting height adj</option>\n-\t\t\t\t<option value=\"cutting_height_problem_drive\">Cutting height problem drive</option>\n-\t\t\t\t<option value=\"cutting_height_problem_curr\">Cutting height problem curr</option>\n-\t\t\t\t<option value=\"cutting_height_problem_dir\">Cutting height problem dir</option>\n-\t\t\t\t<option value=\"cutting_height_blocked\">Cutting height blocked</option>\n-\t\t\t\t<option value=\"cutting_height_problem\">Cutting height problem</option>\n-\t\t\t\t<option value=\"no_response_from_charger\">No response from charger</option>\n-\t\t\t\t<option value=\"ultrasonic_problem\">Ultrasonic problem</option>\n-\t\t\t\t<option value=\"temporary_problem\">Temporary problem</option>\n-\t\t\t\t<option value=\"guide_1_not_found\">Guide 1 not found</option>\n-\t\t\t\t<option value=\"guide_2_not_found\">Guide 2 not found</option>\n-\t\t\t\t<option value=\"guide_3_not_found\">Guide 3 not found</option>\n-\t\t\t\t<option value=\"gps_tracker_module_error\">GPS tracker module error</option>\n-\t\t\t\t<option value=\"weak_gps_signal\">Weak gps signal</option>\n-\t\t\t\t<option value=\"difficult_finding_home\">Difficult finding home</option>\n-\t\t\t\t<option value=\"guide_calibration_accomplished\">Guide calibration accomplished</option>\n-\t\t\t\t<option value=\"guide_calibration_failed\">Guide calibration failed</option>\n-\t\t\t\t<option value=\"temporary_battery_problem\">Temporary battery problem</option>\n-\t\t\t\t<option value=\"battery_problem\">Battery problem</option>\n-\t\t\t\t<option value=\"too_many_batteries\">Too many batteries</option>\n-\t\t\t\t<option value=\"alarm_mower_switched_off\">Alarm! Mower switched off</option>\n-\t\t\t\t<option value=\"alarm_mower_stopped\">Alarm! Mower stopped</option>\n-\t\t\t\t<option value=\"alarm_mower_lifted\">Alarm! Mower lifted</option>\n-\t\t\t\t<option value=\"alarm_mower_tilted\">Alarm! Mower tilted</option>\n-\t\t\t\t<option value=\"alarm_mower_in_motion\">Alarm! Mower in motion</option>\n-\t\t\t\t<option value=\"alarm_outside_geofence\">Alarm outside geofence</option>\n-\t\t\t\t<option value=\"connection_changed\">Connection changed</option>\n-\t\t\t\t<option value=\"connection_not_changed\">Connection not changed</option>\n-\t\t\t\t<option value=\"com_board_not_available\">COM board not available</option>\n-\t\t\t\t<option value=\"slipped\">Slipped</option>\n-\t\t\t\t<option value=\"invalid_battery_combination\">Invalid battery combination</option>\n-\t\t\t\t<option value=\"imbalanced_cutting_disc\">Imbalanced cutting disc</option>\n-\t\t\t\t<option value=\"safety_function_faulty\">Safety function faulty</option>\n-\t\t\t</options>\n-\t\t</state>\n-\t</channel-type>\n+\t\t<channel-groups>\n+\t\t\t<channel-group id=\"common\" typeId=\"commonProperties\"/>\n+\t\t\t<channel-group id=\"valve\" typeId=\"valveProperties\"/>\n+\t\t\t<channel-group id=\"valve_commands\" typeId=\"valveCommands\"/>\n+\t\t\t<channel-group id=\"valveSet\" typeId=\"valveSetProperties\"/>\n+\t\t\t<channel-group id=\"valveSet_commands\" typeId=\"valveSetCommands\"/>\n+\t\t</channel-groups>\n+\t\t<properties>\n+\t\t\t<!-- common -->\n+\t\t\t<property name=\"serial\"/>\n+\t\t\t<property name=\"modelType\"/>\n+\t\t</properties>\n+\t</thing-type>\n \n-\t<channel-type id=\"sourceForNextStart\" advanced=\"true\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Source for Next Start</label>\n-\t\t<description>The source for the next start</description>\n-\t\t<state readOnly=\"true\">\n-\t\t\t<options>\n-\t\t\t\t<option value=\"no_source\">No source</option>\n-\t\t\t\t<option value=\"completed_cutting_daily_limit\">Completed cutting daily limit</option>\n-\t\t\t\t<option value=\"week_timer\">Week timer</option>\n-\t\t\t\t<option value=\"countdown_timer\">Countdown timer</option>\n-\t\t\t\t<option value=\"mower_charging\">Mower charging</option>\n-\t\t\t\t<option value=\"completed_cutting_autotimer\">Completed cutting autotimer</option>\n-\t\t\t\t<option value=\"undefined\">Undefined</option>\n-\t\t\t</options>\n-\t\t</state>\n-\t</channel-type>\n+\t<!-- ############################### Sensor ############################### -->\n \n-\t<channel-type id=\"timestampNextStart\">\n-\t\t<item-type>DateTime</item-type>\n-\t\t<label>Timestamp Next Start</label>\n-\t\t<description>Timestamp of the next start</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t<thing-type id=\"sensor\">\n+\t\t<supported-bridge-type-refs>\n+\t\t\t<bridge-type-ref id=\"account\"/>\n+\t\t</supported-bridge-type-refs>\n \n-\t<channel-type id=\"overrideEndTime\" advanced=\"true\">\n-\t\t<item-type>DateTime</item-type>\n-\t\t<label>Override End Time</label>\n-\t\t<description>Override End Time</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t\t<label>Gardena smart Sensor</label>\n+\t\t<description>Represents a Gardena smart Sensor</description>\n \n-\t<channel-type id=\"temperature\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Temperature</label>\n-\t\t<description>Temperature</description>\n-\t\t<state pattern=\"%d \u00b0C\" readOnly=\"true\"/>\n-\t</channel-type>\n+\t\t<channel-groups>\n+\t\t\t<channel-group id=\"common\" typeId=\"commonProperties\"/>\n+\t\t\t<channel-group id=\"sensor\" typeId=\"sensorProperties\"/>\n+\t\t</channel-groups>\n+\t\t<properties>\n+\t\t\t<!-- common -->\n+\t\t\t<property name=\"serial\"/>\n+\t\t\t<property name=\"modelType\"/>\n+\t\t</properties>\n+\t</thing-type>\n \n-\t<channel-group-type id=\"firmware\">\n-\t\t<label>Firmware</label>\n-\t\t<description>Information about the firmware</description>\n-\t\t<channels>\n-\t\t\t<channel id=\"firmware_status\" typeId=\"firmwareStatus\"/>\n-\t\t\t<channel id=\"firmware_upload_progress\" typeId=\"firmwareUploadProgress\"/>\n-\t\t\t<channel id=\"firmware_available_version\" typeId=\"firmwareAvailableVersion\"/>\n-\t\t</channels>\n-\t</channel-group-type>\n+\t<!-- ############################### Pressure Pump ############################### -->\n \n-\t<channel-type id=\"firmwareStatus\" advanced=\"true\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Status</label>\n-\t\t<description>The firmware status</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t<thing-type id=\"pump\">\n+\t\t<supported-bridge-type-refs>\n+\t\t\t<bridge-type-ref id=\"account\"/>\n+\t\t</supported-bridge-type-refs>\n \n-\t<channel-type id=\"firmwareUploadProgress\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Upload Progress</label>\n-\t\t<description>Firmware upload in progress</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t\t<label>Gardena smart Pressure Pump</label>\n+\t\t<description>Represents a Gardena smart Pressure Pump</description>\n \n-\t<channel-type id=\"firmwareAvailableVersion\" advanced=\"true\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Available Version</label>\n-\t\t<description>Available firmware version</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t\t<channel-groups>\n+\t\t\t<channel-group id=\"common\" typeId=\"commonProperties\"/>\n+\t\t\t<channel-group id=\"valve\" typeId=\"valveProperties\"/>\n+\t\t\t<channel-group id=\"valve_commands\" typeId=\"valveCommands\"/>\n+\t\t</channel-groups>\n+\t\t<properties>\n+\t\t\t<!-- common -->\n+\t\t\t<property name=\"serial\"/>\n+\t\t\t<property name=\"modelType\"/>\n+\t\t</properties>\n+\t</thing-type>\n \n-\t<channel-group-type id=\"mowerStats\">\n-\t\t<label>Robotic Mower Statistics</label>\n-\t\t<description>Statistics about the robotic mower</description>\n-\t\t<channels>\n-\t\t\t<channel id=\"cutting_time\" typeId=\"cuttingTime\"/>\n-\t\t\t<channel id=\"charging_cycles\" typeId=\"chargingCycles\"/>\n-\t\t\t<channel id=\"collisions\" typeId=\"collisions\"/>\n-\t\t\t<channel id=\"running_time\" typeId=\"runningTime\"/>\n-\t\t</channels>\n-\t</channel-group-type>\n+\t<!-- ############################### Power ############################### -->\n \n-\t<channel-type id=\"cuttingTime\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Cutting Time</label>\n-\t\t<description>The cutting time</description>\n-\t\t<state readOnly=\"true\" pattern=\"%d h\"/>\n-\t</channel-type>\n+\t<thing-type id=\"power\">\n+\t\t<supported-bridge-type-refs>\n+\t\t\t<bridge-type-ref id=\"account\"/>\n+\t\t</supported-bridge-type-refs>\n \n-\t<channel-type id=\"chargingCycles\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Charging Cycles</label>\n-\t\t<description>The charging cycles</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t\t<label>Gardena smart Power Adapter</label>\n+\t\t<description>Represents a Gardena smart Power Adapter</description>\n \n-\t<channel-type id=\"collisions\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Collisions</label>\n-\t\t<description>The number of collisions</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t\t<channel-groups>\n+\t\t\t<channel-group id=\"common\" typeId=\"commonProperties\"/>\n+\t\t\t<channel-group id=\"powerSocket\" typeId=\"powerSocketProperties\"/>\n+\t\t\t<channel-group id=\"powerSocket_commands\" typeId=\"powerSocketCommands\"/>\n+\t\t</channel-groups>\n+\t\t<properties>\n+\t\t\t<!-- common -->\n+\t\t\t<property name=\"serial\"/>\n+\t\t\t<property name=\"modelType\"/>\n+\t\t</properties>\n+\t</thing-type>\n \n-\t<channel-type id=\"runningTime\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Running Time</label>\n-\t\t<description>Running time</description>\n-\t\t<state readOnly=\"true\" pattern=\"%d h\"/>\n-\t</channel-type>\n+\t<!-- ############################### Irrigation Control ############################### -->\n \n-\t<!-- ############################### Watering Computer ############################### -->\n-\t<thing-type id=\"watering_computer\">\n+\t<thing-type id=\"irrigation_control\">\n \t\t<supported-bridge-type-refs>\n \t\t\t<bridge-type-ref id=\"account\"/>\n \t\t</supported-bridge-type-refs>\n \n-\t\t<label>Gardena Smart Watering Computer</label>\n-\t\t<description>Represents a Gardena Smart Watering Computer</description>\n+\t\t<label>Gardena smart Irrigation Control</label>\n+\t\t<description>Represents a Gardena smart Irrigation Control</description>\n \n \t\t<channel-groups>\n-\t\t\t<channel-group id=\"device_info\" typeId=\"deviceInfo\"/>\n-\t\t\t<channel-group id=\"battery\" typeId=\"battery\"/>\n-\t\t\t<channel-group id=\"radio\" typeId=\"radio\"/>\n-\t\t\t<channel-group id=\"outlet\" typeId=\"outlet\"/>\n-\t\t\t<channel-group id=\"ambient_temperature\" typeId=\"ambientTemperature\"/>\n+\t\t\t<channel-group id=\"common\" typeId=\"commonProperties\"/>\n+\t\t\t<channel-group id=\"valveOne\" typeId=\"valveProperties\">\n+\t\t\t\t<label>Valve 1 properties</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveOne_commands\" typeId=\"valveCommands\">\n+\t\t\t\t<label>Valve 1 commands</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveTwo\" typeId=\"valveProperties\">\n+\t\t\t\t<label>Valve 2 properties</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveTwo_commands\" typeId=\"valveCommands\">\n+\t\t\t\t<label>Valve 2 commands</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveThree\" typeId=\"valveProperties\">\n+\t\t\t\t<label>Valve 3 properties</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveThree_commands\" typeId=\"valveCommands\">\n+\t\t\t\t<label>Valve 3 commands</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveFour\" typeId=\"valveProperties\">\n+\t\t\t\t<label>Valve 4 properties</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveFour_commands\" typeId=\"valveCommands\">\n+\t\t\t\t<label>Valve 4 Commands</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveFive\" typeId=\"valveProperties\">\n+\t\t\t\t<label>Valve 5 Properties</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveFive_commands\" typeId=\"valveCommands\">\n+\t\t\t\t<label>Valve 5 Commands</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveSix\" typeId=\"valveProperties\">\n+\t\t\t\t<label>Valve 6 Properties</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveSix_commands\" typeId=\"valveCommands\">\n+\t\t\t\t<label>Valve 6 Commands</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveSet\" typeId=\"valveSetProperties\"/>\n+\t\t\t<channel-group id=\"valveSet_commands\" typeId=\"valveSetCommands\"/>\n \t\t</channel-groups>\n \t\t<properties>\n-\t\t\t<!-- device info -->\n-\t\t\t<property name=\"manufacturer\"/>\n-\t\t\t<property name=\"product\"/>\n-\t\t\t<property name=\"serialNumber\"/>\n-\t\t\t<property name=\"sgtin\"/>\n-\t\t\t<property name=\"version\"/>\n-\t\t\t<property name=\"category\"/>\n+\t\t\t<!-- common -->\n+\t\t\t<property name=\"serial\"/>\n+\t\t\t<property name=\"modelType\"/>\n \t\t</properties>\n \t</thing-type>\n \n-\t<channel-group-type id=\"battery\">\n-\t\t<label>Battery Info</label>\n-\t\t<description>Information about the battery</description>\n+\t<!-- ############################### channels and groups ############################### -->\n+\n+\t<channel-group-type id=\"valveSetProperties\">\n+\t\t<label>Valve Set Properties</label>\n+\t\t<description>Properties of a valve set</description>\n \t\t<channels>\n-\t\t\t<channel id=\"level\" typeId=\"system.battery-level\"/>\n-\t\t\t<channel id=\"disposable_battery_status\" typeId=\"disposableBatteryStatus\"/>\n+\t\t\t<channel id=\"state\" typeId=\"state\"/>\n+\t\t\t<channel id=\"state_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>State Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"lastErrorCode\" typeId=\"lastErrorCode\"/>\n+\t\t\t<channel id=\"lastErrorCode_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Last Error Code Timestamp</label>\n+\t\t\t</channel>\n \t\t</channels>\n \t</channel-group-type>\n \n-\t<channel-group-type id=\"outlet\">\n-\t\t<label>Watering Outlet</label>\n-\t\t<description>Information about the watering outlet</description>\n+\t<channel-group-type id=\"valveProperties\">\n+\t\t<label>Valve Properties</label>\n+\t\t<description>Properties of a valve</description>\n \t\t<channels>\n-\t\t\t<channel id=\"valve_open\" typeId=\"valveOpen\"/>\n-\t\t\t<channel id=\"manual_override\" typeId=\"manualOverride\"/>\n-\t\t\t<channel id=\"button_manual_override_time\" typeId=\"buttonManualOverrideTime\"/>\n+\t\t\t<channel id=\"name\" typeId=\"name\"/>\n+\t\t\t<channel id=\"state\" typeId=\"state\"/>\n+\t\t\t<channel id=\"state_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>State Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"activity\" typeId=\"activity\"/>\n+\t\t\t<channel id=\"activity_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Activity Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"lastErrorCode\" typeId=\"lastErrorCode\"/>\n+\t\t\t<channel id=\"lastErrorCode_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Last Error Code Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"duration\" typeId=\"duration\"/>\n \t\t</channels>\n \t</channel-group-type>\n \n-\t<channel-group-type id=\"ambientTemperature\">\n-\t\t<label>Ambient Temperature</label>\n-\t\t<description>Ambient Temperature</description>\n+\t<channel-group-type id=\"sensorProperties\">\n+\t\t<label>Sensor Properties</label>\n+\t\t<description>Properties of a sensor</description>\n \t\t<channels>\n-\t\t\t<channel id=\"temperature\" typeId=\"temperature\">\n+\t\t\t<channel id=\"soilHumidity\" typeId=\"soilHumidity\"/>\n+\t\t\t<channel id=\"soilHumidity_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Soil Humidity Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"soilTemperature\" typeId=\"temperature\">\n+\t\t\t\t<label>Soil Temperature</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"soilTemperature_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Soil Temperature Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"ambientTemperature\" typeId=\"temperature\">\n \t\t\t\t<label>Ambient Temperature</label>\n \t\t\t</channel>\n-\t\t\t<channel id=\"frost_warning\" typeId=\"frostWarning\"/>\n+\t\t\t<channel id=\"ambientTemperature_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Ambient Temperature Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"lightIntensity\" typeId=\"lightIntensity\"/>\n+\t\t\t<channel id=\"lightIntensity_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Light Intensity Timestamp</label>\n+\t\t\t</channel>\n \t\t</channels>\n \t</channel-group-type>\n \n-\t<channel-type id=\"disposableBatteryStatus\" advanced=\"true\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Disposable Battery Status</label>\n-\t\t<description>The status of the disposable battery</description>\n-\t\t<state readOnly=\"true\">\n-\t\t\t<options>\n-\t\t\t\t<option value=\"out_of_operation\">Out of operation</option>\n-\t\t\t\t<option value=\"replace_now\">Critical battery level, replace now</option>\n-\t\t\t\t<option value=\"low\">Low</option>\n-\t\t\t\t<option value=\"ok\">OK</option>\n-\t\t\t\t<option value=\"undefined\">Undefined</option>\n-\t\t\t</options>\n-\t\t</state>\n-\t</channel-type>\n-\n-\t<channel-type id=\"valveOpen\">\n-\t\t<item-type>Switch</item-type>\n-\t\t<label>Valve Open</label>\n-\t\t<description>Valve Open</description>\n-\t</channel-type>\n-\n-\t<channel-type id=\"manualOverride\" advanced=\"true\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Manual Override</label>\n-\t\t<description>Manual Override</description>\n-\t\t<state readOnly=\"true\">\n-\t\t\t<options>\n-\t\t\t\t<option value=\"inactive\">Inactive</option>\n-\t\t\t\t<option value=\"open\">Open</option>\n-\t\t\t\t<option value=\"undefined\">Undefined</option>\n-\t\t\t</options>\n-\t\t</state>\n-\t</channel-type>\n-\n-\t<channel-type id=\"buttonManualOverrideTime\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Button Manual Override</label>\n-\t\t<description>The time the valve is open when you press the button on the device</description>\n-\t\t<state pattern=\"%d min\" min=\"1\" max=\"59\" step=\"1\"/>\n-\t</channel-type>\n-\n-\t<channel-type id=\"frostWarning\" advanced=\"true\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Frost Warning</label>\n-\t\t<description>Frost Warning</description>\n-\t\t<state readOnly=\"true\">\n-\t\t\t<options>\n-\t\t\t\t<option value=\"no_frost\">No frost</option>\n-\t\t\t\t<option value=\"frost\">Frost</option>\n-\t\t\t\t<option value=\"undefined\">Undefined</option>\n-\t\t\t</options>\n-\t\t</state>\n-\t</channel-type>\n-\n-\t<!-- ############################### Sensor ############################### -->\n-\t<thing-type id=\"sensor\">\n-\t\t<supported-bridge-type-refs>\n-\t\t\t<bridge-type-ref id=\"account\"/>\n-\t\t</supported-bridge-type-refs>\n-\n-\t\t<label>Gardena Smart Sensor</label>\n-\t\t<description>Represents a Gardena Smart Sensor</description>\n-\n-\t\t<channel-groups>\n-\t\t\t<channel-group id=\"device_info\" typeId=\"deviceInfo\"/>\n-\t\t\t<channel-group id=\"battery\" typeId=\"battery\"/>\n-\t\t\t<channel-group id=\"radio\" typeId=\"radio\"/>\n-\t\t\t<channel-group id=\"ambient_temperature\" typeId=\"ambientTemperature\"/>\n-\t\t\t<channel-group id=\"soil_temperature\" typeId=\"soilTemperature\"/>\n-\t\t\t<channel-group id=\"humidity\" typeId=\"humidity\"/>\n-\t\t\t<channel-group id=\"light\" typeId=\"light\"/>\n-\t\t</channel-groups>\n-\t\t<properties>\n-\t\t\t<!-- device info -->\n-\t\t\t<property name=\"manufacturer\"/>\n-\t\t\t<property name=\"product\"/>\n-\t\t\t<property name=\"serialNumber\"/>\n-\t\t\t<property name=\"sgtin\"/>\n-\t\t\t<property name=\"version\"/>\n-\t\t\t<property name=\"category\"/>\n-\t\t</properties>\n-\t</thing-type>\n-\n-\t<channel-group-type id=\"soilTemperature\">\n-\t\t<label>Soil Temperature</label>\n-\t\t<description>The soil temperature</description>\n+\t<channel-group-type id=\"powerSocketProperties\">\n+\t\t<label>Power Socket Properties</label>\n+\t\t<description>Properties of a power socket</description>\n \t\t<channels>\n-\t\t\t<channel id=\"temperature\" typeId=\"temperature\">\n-\t\t\t\t<label>Soil Temperature</label>\n+\t\t\t<channel id=\"state\" typeId=\"state\"/>\n+\t\t\t<channel id=\"state_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>State Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"activity\" typeId=\"activity\"/>\n+\t\t\t<channel id=\"activity_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Activity Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"lastErrorCode\" typeId=\"lastErrorCode\"/>\n+\t\t\t<channel id=\"lastErrorCode_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Last Error Code Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"duration\" typeId=\"duration\"/>\n+\t\t\t<channel id=\"duration_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Duration Timestamp</label>\n \t\t\t</channel>\n \t\t</channels>\n \t</channel-group-type>\n \n-\t<channel-group-type id=\"humidity\">\n-\t\t<label>Humidity</label>\n-\t\t<description>The humidity</description>\n+\t<channel-group-type id=\"mowerProperties\">\n+\t\t<label>Mower Properties</label>\n+\t\t<description>Properties of a mower</description>\n \t\t<channels>\n-\t\t\t<channel id=\"humidity\" typeId=\"humidity\"/>\n+\t\t\t<channel id=\"state\" typeId=\"state\"/>\n+\t\t\t<channel id=\"state_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>State Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"activity\" typeId=\"activity\"/>\n+\t\t\t<channel id=\"activity_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Activity Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"lastErrorCode\" typeId=\"lastErrorCode\"/>\n+\t\t\t<channel id=\"lastErrorCode_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Last Error Code Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"operatingHours\" typeId=\"operatingHours\"/>\n \t\t</channels>\n \t</channel-group-type>\n \n-\t<channel-group-type id=\"light\">\n-\t\t<label>Brightness</label>\n-\t\t<description>The brightness</description>\n+\t<channel-group-type id=\"commonProperties\">\n+\t\t<label>Common Properties</label>\n+\t\t<description>Properties that are common across devices</description>\n \t\t<channels>\n-\t\t\t<channel id=\"light\" typeId=\"light\"/>\n+\t\t\t<channel id=\"name\" typeId=\"name\"/>\n+\t\t\t<channel id=\"batteryLevel\" typeId=\"system.battery-level\"/>\n+\t\t\t<channel id=\"batteryLevel_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Battery Level Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"batteryState\" typeId=\"batteryState\"/>\n+\t\t\t<channel id=\"batteryState_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Battery State Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"rfLinkLevel\" typeId=\"system.signal-strength\"/>\n+\t\t\t<channel id=\"rfLinkLevel_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>RF Link Level Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"rfLinkState\" typeId=\"rfLinkState\"/>\n+\t\t\t<channel id=\"rfLinkState_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>RF Link State Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"lastUpdate_timestamp\" typeId=\"timestampRefresh\">\n+\t\t\t\t<label>LastUpdate Timestamp</label>\n+\t\t\t</channel>\n \t\t</channels>\n \t</channel-group-type>\n \n-\t<channel-type id=\"humidity\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Humidity</label>\n-\t\t<description>The humidity</description>\n-\t\t<state pattern=\"%d %%\" readOnly=\"true\"/>\n-\t</channel-type>\n-\n-\t<channel-type id=\"light\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Brightness</label>\n-\t\t<description>The brightness</description>\n-\t\t<state pattern=\"%d lx\" readOnly=\"true\"/>\n-\t</channel-type>\n-\n-\t<!-- ############################### Pressure Pump ############################### -->\n-\n-\t<thing-type id=\"electronic_pressure_pump\">\n-\t\t<supported-bridge-type-refs>\n-\t\t\t<bridge-type-ref id=\"account\"/>\n-\t\t</supported-bridge-type-refs>\n-\n-\t\t<label>Gardena Smart Pressure Pump</label>\n-\t\t<description>Represents a Gardena Smart Pressure Pump</description>\n-\n-\t\t<channel-groups>\n-\t\t\t<channel-group id=\"device_info\" typeId=\"deviceInfo\"/>\n-\t\t\t<channel-group id=\"radio\" typeId=\"radio\"/>\n-\n-\t\t\t<channel-group id=\"outlet_temperature\" typeId=\"outletTemperature\"/>\n-\t\t\t<channel-group id=\"pump\" typeId=\"pump\"/>\n-\t\t\t<channel-group id=\"outlet_pressure\" typeId=\"outletPressure\"/>\n-\t\t\t<channel-group id=\"flow\" typeId=\"flow\"/>\n-\t\t\t<channel-group id=\"manual_watering\" typeId=\"manualWatering\"/>\n-\t\t\t<channel-group id=\"scheduling\" typeId=\"scheduling\"/>\n-\t\t</channel-groups>\n-\n-\t\t<properties>\n-\t\t\t<!-- device info -->\n-\t\t\t<property name=\"manufacturer\"/>\n-\t\t\t<property name=\"product\"/>\n-\t\t\t<property name=\"serialNumber\"/>\n-\t\t\t<property name=\"sgtin\"/>\n-\t\t\t<property name=\"version\"/>\n-\t\t\t<property name=\"category\"/>\n-\t\t</properties>\n-\n-\t\t<config-description>\n-\t\t\t<parameter name=\"leakage_detection\" type=\"text\">\n-\t\t\t\t<label>Leakage Detection</label>\n-\t\t\t\t<options>\n-\t\t\t\t\t<option value=\"watering\">Watering</option>\n-\t\t\t\t\t<option value=\"washing_machine\">Washing machine</option>\n-\t\t\t\t\t<option value=\"domestic_water_supply\">Domestic water supply</option>\n-\t\t\t\t\t<option value=\"off\">Off</option>\n-\t\t\t\t</options>\n-\t\t\t</parameter>\n-\t\t\t<parameter name=\"operating_mode\" type=\"text\">\n-\t\t\t\t<label>Operating Mode</label>\n-\t\t\t\t<options>\n-\t\t\t\t\t<option value=\"scheduled\">Scheduled</option>\n-\t\t\t\t\t<option value=\"automatic\">Automatic</option>\n-\t\t\t\t</options>\n-\t\t\t</parameter>\n-\t\t\t<parameter name=\"turn_on_pressure\" type=\"text\">\n-\t\t\t\t<label>Turn On Pressure</label>\n-\t\t\t\t<options>\n-\t\t\t\t\t<option value=\"2.0\">2.0</option>\n-\t\t\t\t\t<option value=\"2.2\">2.2</option>\n-\t\t\t\t\t<option value=\"2.4\">2.4</option>\n-\t\t\t\t\t<option value=\"2.6\">2.6</option>\n-\t\t\t\t\t<option value=\"2.8\">2.8</option>\n-\t\t\t\t</options>\n-\t\t\t</parameter>\n-\t\t</config-description>\n-\t</thing-type>\n-\n-\t<channel-group-type id=\"outletTemperature\">\n-\t\t<label>Outlet Temperature</label>\n-\t\t<description>The outlet temperature</description>\n+\t<channel-group-type id=\"mowerCommands\">\n+\t\t<label>Mower Commands</label>\n+\t\t<description>Commands to control a mower</description>\n \t\t<channels>\n-\t\t\t<channel id=\"temperature\" typeId=\"temperature\"/>\n-\t\t\t<channel id=\"temperature_min\" typeId=\"temperatureMin\"/>\n-\t\t\t<channel id=\"temperature_max\" typeId=\"temperatureMax\"/>\n-\t\t\t<channel id=\"frost_warning\" typeId=\"frostWarning\"/>\n+\t\t\t<channel id=\"commandDuration\" typeId=\"mowerCommandDuration\">\n+\t\t\t\t<label>Mowing Duration</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"start_seconds_to_override\" typeId=\"gardenaCommand\">\n+\t\t\t\t<label>Start mowing with duration</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"start_dont_override\" typeId=\"gardenaCommand\">\n+\t\t\t\t<label>Start Schedule</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"park_until_next_task\" typeId=\"gardenaCommand\">\n+\t\t\t\t<label>Park</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"park_until_further_notice\" typeId=\"gardenaCommand\">\n+\t\t\t\t<label>Pause schedule</label>\n+\t\t\t</channel>\n \t\t</channels>\n \t</channel-group-type>\n \n-\t<channel-type id=\"temperatureMin\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Minimum Temperature</label>\n-\t\t<description>The minimum outlet temperature</description>\n-\t\t<state pattern=\"%d \u00b0C\" readOnly=\"true\"/>\n-\t</channel-type>\n-\n-\t<channel-type id=\"temperatureMax\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Maximum Temperature</label>\n-\t\t<description>The maximum outlet temperature</description>\n-\t\t<state pattern=\"%d \u00b0C\" readOnly=\"true\"/>\n-\t</channel-type>\n+\t<channel-group-type id=\"valveCommands\">\n+\t\t<label>Valve Commands</label>\n+\t\t<description>Commands to control a valve</description>\n+\t\t<channels>\n+\t\t\t<channel id=\"commandDuration\" typeId=\"valveCommandDuration\">\n+\t\t\t\t<label>Irrigation Duration</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"start_seconds_to_override\" typeId=\"gardenaCommand\">\n+\t\t\t\t<label>Open valve with duration</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"stop_until_next_task\" typeId=\"gardenaCommand\">\n+\t\t\t\t<label>Close valve, continue with the schedule</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"pause\" typeId=\"gardenaCommand\">\n+\t\t\t\t<label>Pause until specified time</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"unpause\" typeId=\"gardenaCommand\">\n+\t\t\t\t<label>Start schedule</label>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "eb02adf3ea4c748f4b3ec438ee5599ed52609bc3"}, "originalPosition": 886}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM4MTY5ODYwOnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.gardena/src/main/resources/OH-INF/thing/thing-types.xml", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxNzo0OTo0NFrOIBtC_g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQxMDowOTo0NFrOIDBYow==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODY1NzUzNA==", "bodyText": "See above. See all.", "url": "https://github.com/openhab/openhab-addons/pull/8869#discussion_r538657534", "createdAt": "2020-12-08T17:49:44Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.gardena/src/main/resources/OH-INF/thing/thing-types.xml", "diffHunk": "@@ -10,1162 +10,633 @@\n \t\t\t<bridge-type-ref id=\"account\"/>\n \t\t</supported-bridge-type-refs>\n \n-\t\t<label>Gardena Smart Sileno Mower</label>\n-\t\t<description>A Gardena Smart Sileno mower</description>\n+\t\t<label>Gardena smart SILENO Mower</label>\n+\t\t<description>Represents any Gardena smart SILENO mower model</description>\n \n \t\t<channel-groups>\n-\t\t\t<channel-group id=\"device_info\" typeId=\"deviceInfo\"/>\n-\t\t\t<channel-group id=\"battery\" typeId=\"rechargeableBattery\"/>\n-\t\t\t<channel-group id=\"radio\" typeId=\"radio\"/>\n-\t\t\t<channel-group id=\"mower\" typeId=\"mower\"/>\n-\t\t\t<channel-group id=\"mower_stats\" typeId=\"mowerStats\"/>\n-\t\t\t<channel-group id=\"firmware\" typeId=\"firmware\"/>\n+\t\t\t<channel-group id=\"common\" typeId=\"commonProperties\"/>\n+\t\t\t<channel-group id=\"mower\" typeId=\"mowerProperties\"/>\n+\t\t\t<channel-group id=\"mower_commands\" typeId=\"mowerCommands\"/>\n \t\t</channel-groups>\n \t\t<properties>\n-\t\t\t<!-- device info -->\n-\t\t\t<property name=\"manufacturer\"/>\n-\t\t\t<property name=\"product\"/>\n-\t\t\t<property name=\"serialNumber\"/>\n-\t\t\t<property name=\"sgtin\"/>\n-\t\t\t<property name=\"version\"/>\n-\t\t\t<property name=\"category\"/>\n+\t\t\t<!-- common -->\n+\t\t\t<property name=\"serial\"/>\n+\t\t\t<property name=\"modelType\"/>\n \t\t</properties>\n \t</thing-type>\n \n-\t<channel-group-type id=\"deviceInfo\">\n-\t\t<label>Device Info</label>\n-\t\t<description>Information about the device</description>\n-\t\t<channels>\n-\t\t\t<channel id=\"last_time_online\" typeId=\"lastTimeOnline\"/>\n-\t\t</channels>\n-\t</channel-group-type>\n-\n-\t<channel-group-type id=\"rechargeableBattery\">\n-\t\t<label>Battery Info</label>\n-\t\t<description>Information about the rechargeable battery</description>\n-\t\t<channels>\n-\t\t\t<channel id=\"level\" typeId=\"system.battery-level\"/>\n-\t\t\t<channel id=\"charging\" typeId=\"charging\"/>\n-\t\t</channels>\n-\t</channel-group-type>\n-\n-\t<channel-group-type id=\"radio\">\n-\t\t<label>Radio Link</label>\n-\t\t<description>Information about the radio link</description>\n-\t\t<channels>\n-\t\t\t<channel id=\"quality\" typeId=\"radioQuality\"/>\n-\t\t\t<channel id=\"state\" typeId=\"system.signal-strength\"/>\n-\t\t</channels>\n-\t</channel-group-type>\n-\n-\t<channel-group-type id=\"mower\">\n-\t\t<label>Robotic Mower</label>\n-\t\t<description>Information about the robotic mower</description>\n-\t\t<channels>\n-\t\t\t<channel id=\"manual_operation\" typeId=\"manualOperation\"/>\n-\t\t\t<channel id=\"status\" typeId=\"status\"/>\n-\t\t\t<channel id=\"error\" typeId=\"error\"/>\n-\t\t\t<channel id=\"source_for_next_start\" typeId=\"sourceForNextStart\"/>\n-\t\t\t<channel id=\"timestamp_next_start\" typeId=\"timestampNextStart\"/>\n-\t\t\t<channel id=\"override_end_time\" typeId=\"overrideEndTime\"/>\n-\t\t\t<channel id=\"park_until_further_notice\" typeId=\"parkUntilFurtherNotice\"/>\n-\t\t\t<channel id=\"park_until_next_timer\" typeId=\"parkUntilNextTimer\"/>\n-\t\t\t<channel id=\"start_override_timer\" typeId=\"startOverrideTimer\"/>\n-\t\t\t<channel id=\"start_resume_schedule\" typeId=\"startResumeSchedule\"/>\n-\t\t\t<channel id=\"duration_property\" typeId=\"mowerDurationProperty\"/>\n-\t\t</channels>\n-\t</channel-group-type>\n-\n-\t<channel-type id=\"mowerDurationProperty\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Mowing Time</label>\n-\t\t<description>Mowing time in minutes</description>\n-\t\t<state pattern=\"%d min\" min=\"1\" max=\"1440\" step=\"1\"/>\n-\t</channel-type>\n-\n-\t<channel-type id=\"parkUntilFurtherNotice\">\n-\t\t<item-type>Switch</item-type>\n-\t\t<label>Park and Pause All Timers</label>\n-\t\t<description>Park and pause all timers</description>\n-\t</channel-type>\n-\n-\t<channel-type id=\"parkUntilNextTimer\">\n-\t\t<item-type>Switch</item-type>\n-\t\t<label>Park Until Next Timer</label>\n-\t\t<description>Park until next timer</description>\n-\t</channel-type>\n-\n-\t<channel-type id=\"startResumeSchedule\">\n-\t\t<item-type>Switch</item-type>\n-\t\t<label>Start Resume Schedule</label>\n-\t\t<description>Start resume schedule</description>\n-\t</channel-type>\n-\n-\t<channel-type id=\"startOverrideTimer\">\n-\t\t<item-type>Switch</item-type>\n-\t\t<label>Override Timer</label>\n-\t\t<description>Starts the mower for the specified duration</description>\n-\t</channel-type>\n-\n-\t<channel-type id=\"lastTimeOnline\" advanced=\"true\">\n-\t\t<item-type>DateTime</item-type>\n-\t\t<label>Last Time Online</label>\n-\t\t<description>Last time the device was online</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n-\n-\t<channel-type id=\"charging\" advanced=\"true\">\n-\t\t<item-type>Switch</item-type>\n-\t\t<label>Battery Charging</label>\n-\t\t<description>Battery Charging</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t<!-- ############################### Watering Computer ############################### -->\n \n-\t<channel-type id=\"radioQuality\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Radio Link Quality</label>\n-\t\t<description>Radio Link Quality</description>\n-\t\t<state pattern=\"%d %%\" readOnly=\"true\"/>\n-\t</channel-type>\n+\t<thing-type id=\"water_control\">\n+\t\t<supported-bridge-type-refs>\n+\t\t\t<bridge-type-ref id=\"account\"/>\n+\t\t</supported-bridge-type-refs>\n \n-\t<channel-type id=\"manualOperation\" advanced=\"true\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Manual Operation</label>\n-\t\t<description>The mower is controlled manually</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t\t<label>Gardena smart Water Control</label>\n+\t\t<description>Represents a Gardena smart Water Control</description>\n \n-\t<channel-type id=\"status\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Mower Status</label>\n-\t\t<description>The mower status</description>\n-\t\t<state readOnly=\"true\">\n-\t\t\t<options>\n-\t\t\t\t<option value=\"uninitialised\">Uninitialised</option>\n-\t\t\t\t<option value=\"paused\">Paused</option>\n-\t\t\t\t<option value=\"ok_cutting\">Mowing</option>\n-\t\t\t\t<option value=\"ok_searching\">Searching charging station</option>\n-\t\t\t\t<option value=\"ok_charging\">Charging</option>\n-\t\t\t\t<option value=\"ok_leaving\">Mowing</option>\n-\t\t\t\t<option value=\"wait_updating\">Updating ...</option>\n-\t\t\t\t<option value=\"wait_power_up\">Powering up ...</option>\n-\t\t\t\t<option value=\"parked_timer\">Parked on schedule</option>\n-\t\t\t\t<option value=\"parked_park_selected\">Parked</option>\n-\t\t\t\t<option value=\"off_disabled\">The mower is turned off</option>\n-\t\t\t\t<option value=\"off_hatch_open\">Disabled. Hatch open</option>\n-\t\t\t\t<option value=\"unknown\">Unknown</option>\n-\t\t\t\t<option value=\"error\">Error</option>\n-\t\t\t\t<option value=\"error_at_power_up\">Error</option>\n-\t\t\t\t<option value=\"off_hatch_closed\">Disabled. Manual start needed</option>\n-\t\t\t\t<option value=\"ok_cutting_timer_overridden\">Manual mowing</option>\n-\t\t\t\t<option value=\"parked_autotimer\">Parked due to SensorControl</option>\n-\t\t\t\t<option value=\"parked_daily_limit_reached\">Completed</option>\n-\t\t\t\t<option value=\"undefined\">Undefined</option>\n-\t\t\t</options>\n-\t\t</state>\n-\t</channel-type>\n-\n-\t<channel-type id=\"error\" advanced=\"true\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Mower Error</label>\n-\t\t<description>Mower Error</description>\n-\t\t<state readOnly=\"true\">\n-\t\t\t<options>\n-\t\t\t\t<option value=\"no_message\">No message</option>\n-\t\t\t\t<option value=\"outside_working_area\">Outside working area</option>\n-\t\t\t\t<option value=\"no_loop_signal\">No loop signal</option>\n-\t\t\t\t<option value=\"wrong_loop_signal\">Wrong loop signal</option>\n-\t\t\t\t<option value=\"loop_sensor_problem_front\">Loop sensor problem, front</option>\n-\t\t\t\t<option value=\"loop_sensor_problem_rear\">Loop sensor problem, rear</option>\n-\t\t\t\t<option value=\"loop_sensor_problem_left\">Loop sensor problem, left</option>\n-\t\t\t\t<option value=\"loop_sensor_problem_right\">Loop sensor problem, right</option>\n-\t\t\t\t<option value=\"wrong_pin_code\">Wrong pin code</option>\n-\t\t\t\t<option value=\"trapped\">Trapped</option>\n-\t\t\t\t<option value=\"upside_down\">Upside down</option>\n-\t\t\t\t<option value=\"low_battery\">Low battery</option>\n-\t\t\t\t<option value=\"empty_battery\">Empty battery</option>\n-\t\t\t\t<option value=\"no_drive\">Disabled. Hatch open</option>\n-\t\t\t\t<option value=\"temporarily_lifted\">Temporary lifted</option>\n-\t\t\t\t<option value=\"lifted\">Lifted</option>\n-\t\t\t\t<option value=\"stuck_in_charging_station\">Stuck in charging station</option>\n-\t\t\t\t<option value=\"charging_station_blocked\">Charging station blocked</option>\n-\t\t\t\t<option value=\"collision_sensor_problem_rear\">Collision sensor problem, rear</option>\n-\t\t\t\t<option value=\"collision_sensor_problem_front\">Collision sensor problem, front</option>\n-\t\t\t\t<option value=\"wheel_motor_blocked_right\">Wheel motor blocked, right</option>\n-\t\t\t\t<option value=\"wheel_motor_blocked_left\">Wheel motor blocked, left</option>\n-\t\t\t\t<option value=\"wheel_drive_problem_right\">Wheel drive problem, right</option>\n-\t\t\t\t<option value=\"wheel_drive_problem_left\">Wheel drive problem, left</option>\n-\t\t\t\t<option value=\"cutting_motor_drive_defect\">Cutting motor drive defect</option>\n-\t\t\t\t<option value=\"cutting_system_blocked\">Cutting system blocked</option>\n-\t\t\t\t<option value=\"invalid_sub_device_combination\">Invalid sub-device combination</option>\n-\t\t\t\t<option value=\"settings_restored\">Settings restored</option>\n-\t\t\t\t<option value=\"memory_circuit_problem\">Memory circuit problem</option>\n-\t\t\t\t<option value=\"slope_too_steep\">Slope too steep</option>\n-\t\t\t\t<option value=\"charging_system_problem\">Charging system problem</option>\n-\t\t\t\t<option value=\"stop_button_problem\">Stop button problem</option>\n-\t\t\t\t<option value=\"tilt_sensor_problem\">Tilt sensor problem</option>\n-\t\t\t\t<option value=\"mower_tilted\">Mower tilted</option>\n-\t\t\t\t<option value=\"wheel_motor_overloaded_right\">Wheel motor overloaded, right</option>\n-\t\t\t\t<option value=\"wheel_motor_overloaded_left\">Wheel motor overloaded, left</option>\n-\t\t\t\t<option value=\"charging_current_too_high\">Charging current too high</option>\n-\t\t\t\t<option value=\"electronic_problem\">Electronic problem</option>\n-\t\t\t\t<option value=\"cutting_motor_problem\">Cutting motor problem</option>\n-\t\t\t\t<option value=\"limited_cutting_height_range\">Limited cutting height range</option>\n-\t\t\t\t<option value=\"unexpected_cutting_height_adj\">Unexpected cutting height adj</option>\n-\t\t\t\t<option value=\"cutting_height_problem_drive\">Cutting height problem drive</option>\n-\t\t\t\t<option value=\"cutting_height_problem_curr\">Cutting height problem curr</option>\n-\t\t\t\t<option value=\"cutting_height_problem_dir\">Cutting height problem dir</option>\n-\t\t\t\t<option value=\"cutting_height_blocked\">Cutting height blocked</option>\n-\t\t\t\t<option value=\"cutting_height_problem\">Cutting height problem</option>\n-\t\t\t\t<option value=\"no_response_from_charger\">No response from charger</option>\n-\t\t\t\t<option value=\"ultrasonic_problem\">Ultrasonic problem</option>\n-\t\t\t\t<option value=\"temporary_problem\">Temporary problem</option>\n-\t\t\t\t<option value=\"guide_1_not_found\">Guide 1 not found</option>\n-\t\t\t\t<option value=\"guide_2_not_found\">Guide 2 not found</option>\n-\t\t\t\t<option value=\"guide_3_not_found\">Guide 3 not found</option>\n-\t\t\t\t<option value=\"gps_tracker_module_error\">GPS tracker module error</option>\n-\t\t\t\t<option value=\"weak_gps_signal\">Weak gps signal</option>\n-\t\t\t\t<option value=\"difficult_finding_home\">Difficult finding home</option>\n-\t\t\t\t<option value=\"guide_calibration_accomplished\">Guide calibration accomplished</option>\n-\t\t\t\t<option value=\"guide_calibration_failed\">Guide calibration failed</option>\n-\t\t\t\t<option value=\"temporary_battery_problem\">Temporary battery problem</option>\n-\t\t\t\t<option value=\"battery_problem\">Battery problem</option>\n-\t\t\t\t<option value=\"too_many_batteries\">Too many batteries</option>\n-\t\t\t\t<option value=\"alarm_mower_switched_off\">Alarm! Mower switched off</option>\n-\t\t\t\t<option value=\"alarm_mower_stopped\">Alarm! Mower stopped</option>\n-\t\t\t\t<option value=\"alarm_mower_lifted\">Alarm! Mower lifted</option>\n-\t\t\t\t<option value=\"alarm_mower_tilted\">Alarm! Mower tilted</option>\n-\t\t\t\t<option value=\"alarm_mower_in_motion\">Alarm! Mower in motion</option>\n-\t\t\t\t<option value=\"alarm_outside_geofence\">Alarm outside geofence</option>\n-\t\t\t\t<option value=\"connection_changed\">Connection changed</option>\n-\t\t\t\t<option value=\"connection_not_changed\">Connection not changed</option>\n-\t\t\t\t<option value=\"com_board_not_available\">COM board not available</option>\n-\t\t\t\t<option value=\"slipped\">Slipped</option>\n-\t\t\t\t<option value=\"invalid_battery_combination\">Invalid battery combination</option>\n-\t\t\t\t<option value=\"imbalanced_cutting_disc\">Imbalanced cutting disc</option>\n-\t\t\t\t<option value=\"safety_function_faulty\">Safety function faulty</option>\n-\t\t\t</options>\n-\t\t</state>\n-\t</channel-type>\n+\t\t<channel-groups>\n+\t\t\t<channel-group id=\"common\" typeId=\"commonProperties\"/>\n+\t\t\t<channel-group id=\"valve\" typeId=\"valveProperties\"/>\n+\t\t\t<channel-group id=\"valve_commands\" typeId=\"valveCommands\"/>\n+\t\t\t<channel-group id=\"valveSet\" typeId=\"valveSetProperties\"/>\n+\t\t\t<channel-group id=\"valveSet_commands\" typeId=\"valveSetCommands\"/>\n+\t\t</channel-groups>\n+\t\t<properties>\n+\t\t\t<!-- common -->\n+\t\t\t<property name=\"serial\"/>\n+\t\t\t<property name=\"modelType\"/>\n+\t\t</properties>\n+\t</thing-type>\n \n-\t<channel-type id=\"sourceForNextStart\" advanced=\"true\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Source for Next Start</label>\n-\t\t<description>The source for the next start</description>\n-\t\t<state readOnly=\"true\">\n-\t\t\t<options>\n-\t\t\t\t<option value=\"no_source\">No source</option>\n-\t\t\t\t<option value=\"completed_cutting_daily_limit\">Completed cutting daily limit</option>\n-\t\t\t\t<option value=\"week_timer\">Week timer</option>\n-\t\t\t\t<option value=\"countdown_timer\">Countdown timer</option>\n-\t\t\t\t<option value=\"mower_charging\">Mower charging</option>\n-\t\t\t\t<option value=\"completed_cutting_autotimer\">Completed cutting autotimer</option>\n-\t\t\t\t<option value=\"undefined\">Undefined</option>\n-\t\t\t</options>\n-\t\t</state>\n-\t</channel-type>\n+\t<!-- ############################### Sensor ############################### -->\n \n-\t<channel-type id=\"timestampNextStart\">\n-\t\t<item-type>DateTime</item-type>\n-\t\t<label>Timestamp Next Start</label>\n-\t\t<description>Timestamp of the next start</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t<thing-type id=\"sensor\">\n+\t\t<supported-bridge-type-refs>\n+\t\t\t<bridge-type-ref id=\"account\"/>\n+\t\t</supported-bridge-type-refs>\n \n-\t<channel-type id=\"overrideEndTime\" advanced=\"true\">\n-\t\t<item-type>DateTime</item-type>\n-\t\t<label>Override End Time</label>\n-\t\t<description>Override End Time</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t\t<label>Gardena smart Sensor</label>\n+\t\t<description>Represents a Gardena smart Sensor</description>\n \n-\t<channel-type id=\"temperature\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Temperature</label>\n-\t\t<description>Temperature</description>\n-\t\t<state pattern=\"%d \u00b0C\" readOnly=\"true\"/>\n-\t</channel-type>\n+\t\t<channel-groups>\n+\t\t\t<channel-group id=\"common\" typeId=\"commonProperties\"/>\n+\t\t\t<channel-group id=\"sensor\" typeId=\"sensorProperties\"/>\n+\t\t</channel-groups>\n+\t\t<properties>\n+\t\t\t<!-- common -->\n+\t\t\t<property name=\"serial\"/>\n+\t\t\t<property name=\"modelType\"/>\n+\t\t</properties>\n+\t</thing-type>\n \n-\t<channel-group-type id=\"firmware\">\n-\t\t<label>Firmware</label>\n-\t\t<description>Information about the firmware</description>\n-\t\t<channels>\n-\t\t\t<channel id=\"firmware_status\" typeId=\"firmwareStatus\"/>\n-\t\t\t<channel id=\"firmware_upload_progress\" typeId=\"firmwareUploadProgress\"/>\n-\t\t\t<channel id=\"firmware_available_version\" typeId=\"firmwareAvailableVersion\"/>\n-\t\t</channels>\n-\t</channel-group-type>\n+\t<!-- ############################### Pressure Pump ############################### -->\n \n-\t<channel-type id=\"firmwareStatus\" advanced=\"true\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Status</label>\n-\t\t<description>The firmware status</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t<thing-type id=\"pump\">\n+\t\t<supported-bridge-type-refs>\n+\t\t\t<bridge-type-ref id=\"account\"/>\n+\t\t</supported-bridge-type-refs>\n \n-\t<channel-type id=\"firmwareUploadProgress\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Upload Progress</label>\n-\t\t<description>Firmware upload in progress</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t\t<label>Gardena smart Pressure Pump</label>\n+\t\t<description>Represents a Gardena smart Pressure Pump</description>\n \n-\t<channel-type id=\"firmwareAvailableVersion\" advanced=\"true\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Available Version</label>\n-\t\t<description>Available firmware version</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t\t<channel-groups>\n+\t\t\t<channel-group id=\"common\" typeId=\"commonProperties\"/>\n+\t\t\t<channel-group id=\"valve\" typeId=\"valveProperties\"/>\n+\t\t\t<channel-group id=\"valve_commands\" typeId=\"valveCommands\"/>\n+\t\t</channel-groups>\n+\t\t<properties>\n+\t\t\t<!-- common -->\n+\t\t\t<property name=\"serial\"/>\n+\t\t\t<property name=\"modelType\"/>\n+\t\t</properties>\n+\t</thing-type>\n \n-\t<channel-group-type id=\"mowerStats\">\n-\t\t<label>Robotic Mower Statistics</label>\n-\t\t<description>Statistics about the robotic mower</description>\n-\t\t<channels>\n-\t\t\t<channel id=\"cutting_time\" typeId=\"cuttingTime\"/>\n-\t\t\t<channel id=\"charging_cycles\" typeId=\"chargingCycles\"/>\n-\t\t\t<channel id=\"collisions\" typeId=\"collisions\"/>\n-\t\t\t<channel id=\"running_time\" typeId=\"runningTime\"/>\n-\t\t</channels>\n-\t</channel-group-type>\n+\t<!-- ############################### Power ############################### -->\n \n-\t<channel-type id=\"cuttingTime\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Cutting Time</label>\n-\t\t<description>The cutting time</description>\n-\t\t<state readOnly=\"true\" pattern=\"%d h\"/>\n-\t</channel-type>\n+\t<thing-type id=\"power\">\n+\t\t<supported-bridge-type-refs>\n+\t\t\t<bridge-type-ref id=\"account\"/>\n+\t\t</supported-bridge-type-refs>\n \n-\t<channel-type id=\"chargingCycles\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Charging Cycles</label>\n-\t\t<description>The charging cycles</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t\t<label>Gardena smart Power Adapter</label>\n+\t\t<description>Represents a Gardena smart Power Adapter</description>\n \n-\t<channel-type id=\"collisions\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Collisions</label>\n-\t\t<description>The number of collisions</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t\t<channel-groups>\n+\t\t\t<channel-group id=\"common\" typeId=\"commonProperties\"/>\n+\t\t\t<channel-group id=\"powerSocket\" typeId=\"powerSocketProperties\"/>\n+\t\t\t<channel-group id=\"powerSocket_commands\" typeId=\"powerSocketCommands\"/>\n+\t\t</channel-groups>\n+\t\t<properties>\n+\t\t\t<!-- common -->\n+\t\t\t<property name=\"serial\"/>\n+\t\t\t<property name=\"modelType\"/>\n+\t\t</properties>\n+\t</thing-type>\n \n-\t<channel-type id=\"runningTime\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Running Time</label>\n-\t\t<description>Running time</description>\n-\t\t<state readOnly=\"true\" pattern=\"%d h\"/>\n-\t</channel-type>\n+\t<!-- ############################### Irrigation Control ############################### -->\n \n-\t<!-- ############################### Watering Computer ############################### -->\n-\t<thing-type id=\"watering_computer\">\n+\t<thing-type id=\"irrigation_control\">\n \t\t<supported-bridge-type-refs>\n \t\t\t<bridge-type-ref id=\"account\"/>\n \t\t</supported-bridge-type-refs>\n \n-\t\t<label>Gardena Smart Watering Computer</label>\n-\t\t<description>Represents a Gardena Smart Watering Computer</description>\n+\t\t<label>Gardena smart Irrigation Control</label>\n+\t\t<description>Represents a Gardena smart Irrigation Control</description>\n \n \t\t<channel-groups>\n-\t\t\t<channel-group id=\"device_info\" typeId=\"deviceInfo\"/>\n-\t\t\t<channel-group id=\"battery\" typeId=\"battery\"/>\n-\t\t\t<channel-group id=\"radio\" typeId=\"radio\"/>\n-\t\t\t<channel-group id=\"outlet\" typeId=\"outlet\"/>\n-\t\t\t<channel-group id=\"ambient_temperature\" typeId=\"ambientTemperature\"/>\n+\t\t\t<channel-group id=\"common\" typeId=\"commonProperties\"/>\n+\t\t\t<channel-group id=\"valveOne\" typeId=\"valveProperties\">\n+\t\t\t\t<label>Valve 1 properties</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveOne_commands\" typeId=\"valveCommands\">\n+\t\t\t\t<label>Valve 1 commands</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveTwo\" typeId=\"valveProperties\">\n+\t\t\t\t<label>Valve 2 properties</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveTwo_commands\" typeId=\"valveCommands\">\n+\t\t\t\t<label>Valve 2 commands</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveThree\" typeId=\"valveProperties\">\n+\t\t\t\t<label>Valve 3 properties</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveThree_commands\" typeId=\"valveCommands\">\n+\t\t\t\t<label>Valve 3 commands</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveFour\" typeId=\"valveProperties\">\n+\t\t\t\t<label>Valve 4 properties</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveFour_commands\" typeId=\"valveCommands\">\n+\t\t\t\t<label>Valve 4 Commands</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveFive\" typeId=\"valveProperties\">\n+\t\t\t\t<label>Valve 5 Properties</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveFive_commands\" typeId=\"valveCommands\">\n+\t\t\t\t<label>Valve 5 Commands</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveSix\" typeId=\"valveProperties\">\n+\t\t\t\t<label>Valve 6 Properties</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveSix_commands\" typeId=\"valveCommands\">\n+\t\t\t\t<label>Valve 6 Commands</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveSet\" typeId=\"valveSetProperties\"/>\n+\t\t\t<channel-group id=\"valveSet_commands\" typeId=\"valveSetCommands\"/>\n \t\t</channel-groups>\n \t\t<properties>\n-\t\t\t<!-- device info -->\n-\t\t\t<property name=\"manufacturer\"/>\n-\t\t\t<property name=\"product\"/>\n-\t\t\t<property name=\"serialNumber\"/>\n-\t\t\t<property name=\"sgtin\"/>\n-\t\t\t<property name=\"version\"/>\n-\t\t\t<property name=\"category\"/>\n+\t\t\t<!-- common -->\n+\t\t\t<property name=\"serial\"/>\n+\t\t\t<property name=\"modelType\"/>\n \t\t</properties>\n \t</thing-type>\n \n-\t<channel-group-type id=\"battery\">\n-\t\t<label>Battery Info</label>\n-\t\t<description>Information about the battery</description>\n+\t<!-- ############################### channels and groups ############################### -->\n+\n+\t<channel-group-type id=\"valveSetProperties\">\n+\t\t<label>Valve Set Properties</label>\n+\t\t<description>Properties of a valve set</description>\n \t\t<channels>\n-\t\t\t<channel id=\"level\" typeId=\"system.battery-level\"/>\n-\t\t\t<channel id=\"disposable_battery_status\" typeId=\"disposableBatteryStatus\"/>\n+\t\t\t<channel id=\"state\" typeId=\"state\"/>\n+\t\t\t<channel id=\"state_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>State Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"lastErrorCode\" typeId=\"lastErrorCode\"/>\n+\t\t\t<channel id=\"lastErrorCode_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Last Error Code Timestamp</label>\n+\t\t\t</channel>\n \t\t</channels>\n \t</channel-group-type>\n \n-\t<channel-group-type id=\"outlet\">\n-\t\t<label>Watering Outlet</label>\n-\t\t<description>Information about the watering outlet</description>\n+\t<channel-group-type id=\"valveProperties\">\n+\t\t<label>Valve Properties</label>\n+\t\t<description>Properties of a valve</description>\n \t\t<channels>\n-\t\t\t<channel id=\"valve_open\" typeId=\"valveOpen\"/>\n-\t\t\t<channel id=\"manual_override\" typeId=\"manualOverride\"/>\n-\t\t\t<channel id=\"button_manual_override_time\" typeId=\"buttonManualOverrideTime\"/>\n+\t\t\t<channel id=\"name\" typeId=\"name\"/>\n+\t\t\t<channel id=\"state\" typeId=\"state\"/>\n+\t\t\t<channel id=\"state_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>State Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"activity\" typeId=\"activity\"/>\n+\t\t\t<channel id=\"activity_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Activity Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"lastErrorCode\" typeId=\"lastErrorCode\"/>\n+\t\t\t<channel id=\"lastErrorCode_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Last Error Code Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"duration\" typeId=\"duration\"/>\n \t\t</channels>\n \t</channel-group-type>\n \n-\t<channel-group-type id=\"ambientTemperature\">\n-\t\t<label>Ambient Temperature</label>\n-\t\t<description>Ambient Temperature</description>\n+\t<channel-group-type id=\"sensorProperties\">\n+\t\t<label>Sensor Properties</label>\n+\t\t<description>Properties of a sensor</description>\n \t\t<channels>\n-\t\t\t<channel id=\"temperature\" typeId=\"temperature\">\n+\t\t\t<channel id=\"soilHumidity\" typeId=\"soilHumidity\"/>\n+\t\t\t<channel id=\"soilHumidity_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Soil Humidity Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"soilTemperature\" typeId=\"temperature\">\n+\t\t\t\t<label>Soil Temperature</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"soilTemperature_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Soil Temperature Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"ambientTemperature\" typeId=\"temperature\">\n \t\t\t\t<label>Ambient Temperature</label>\n \t\t\t</channel>\n-\t\t\t<channel id=\"frost_warning\" typeId=\"frostWarning\"/>\n+\t\t\t<channel id=\"ambientTemperature_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Ambient Temperature Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"lightIntensity\" typeId=\"lightIntensity\"/>\n+\t\t\t<channel id=\"lightIntensity_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Light Intensity Timestamp</label>\n+\t\t\t</channel>\n \t\t</channels>\n \t</channel-group-type>\n \n-\t<channel-type id=\"disposableBatteryStatus\" advanced=\"true\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Disposable Battery Status</label>\n-\t\t<description>The status of the disposable battery</description>\n-\t\t<state readOnly=\"true\">\n-\t\t\t<options>\n-\t\t\t\t<option value=\"out_of_operation\">Out of operation</option>\n-\t\t\t\t<option value=\"replace_now\">Critical battery level, replace now</option>\n-\t\t\t\t<option value=\"low\">Low</option>\n-\t\t\t\t<option value=\"ok\">OK</option>\n-\t\t\t\t<option value=\"undefined\">Undefined</option>\n-\t\t\t</options>\n-\t\t</state>\n-\t</channel-type>\n-\n-\t<channel-type id=\"valveOpen\">\n-\t\t<item-type>Switch</item-type>\n-\t\t<label>Valve Open</label>\n-\t\t<description>Valve Open</description>\n-\t</channel-type>\n-\n-\t<channel-type id=\"manualOverride\" advanced=\"true\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Manual Override</label>\n-\t\t<description>Manual Override</description>\n-\t\t<state readOnly=\"true\">\n-\t\t\t<options>\n-\t\t\t\t<option value=\"inactive\">Inactive</option>\n-\t\t\t\t<option value=\"open\">Open</option>\n-\t\t\t\t<option value=\"undefined\">Undefined</option>\n-\t\t\t</options>\n-\t\t</state>\n-\t</channel-type>\n-\n-\t<channel-type id=\"buttonManualOverrideTime\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Button Manual Override</label>\n-\t\t<description>The time the valve is open when you press the button on the device</description>\n-\t\t<state pattern=\"%d min\" min=\"1\" max=\"59\" step=\"1\"/>\n-\t</channel-type>\n-\n-\t<channel-type id=\"frostWarning\" advanced=\"true\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Frost Warning</label>\n-\t\t<description>Frost Warning</description>\n-\t\t<state readOnly=\"true\">\n-\t\t\t<options>\n-\t\t\t\t<option value=\"no_frost\">No frost</option>\n-\t\t\t\t<option value=\"frost\">Frost</option>\n-\t\t\t\t<option value=\"undefined\">Undefined</option>\n-\t\t\t</options>\n-\t\t</state>\n-\t</channel-type>\n-\n-\t<!-- ############################### Sensor ############################### -->\n-\t<thing-type id=\"sensor\">\n-\t\t<supported-bridge-type-refs>\n-\t\t\t<bridge-type-ref id=\"account\"/>\n-\t\t</supported-bridge-type-refs>\n-\n-\t\t<label>Gardena Smart Sensor</label>\n-\t\t<description>Represents a Gardena Smart Sensor</description>\n-\n-\t\t<channel-groups>\n-\t\t\t<channel-group id=\"device_info\" typeId=\"deviceInfo\"/>\n-\t\t\t<channel-group id=\"battery\" typeId=\"battery\"/>\n-\t\t\t<channel-group id=\"radio\" typeId=\"radio\"/>\n-\t\t\t<channel-group id=\"ambient_temperature\" typeId=\"ambientTemperature\"/>\n-\t\t\t<channel-group id=\"soil_temperature\" typeId=\"soilTemperature\"/>\n-\t\t\t<channel-group id=\"humidity\" typeId=\"humidity\"/>\n-\t\t\t<channel-group id=\"light\" typeId=\"light\"/>\n-\t\t</channel-groups>\n-\t\t<properties>\n-\t\t\t<!-- device info -->\n-\t\t\t<property name=\"manufacturer\"/>\n-\t\t\t<property name=\"product\"/>\n-\t\t\t<property name=\"serialNumber\"/>\n-\t\t\t<property name=\"sgtin\"/>\n-\t\t\t<property name=\"version\"/>\n-\t\t\t<property name=\"category\"/>\n-\t\t</properties>\n-\t</thing-type>\n-\n-\t<channel-group-type id=\"soilTemperature\">\n-\t\t<label>Soil Temperature</label>\n-\t\t<description>The soil temperature</description>\n+\t<channel-group-type id=\"powerSocketProperties\">\n+\t\t<label>Power Socket Properties</label>\n+\t\t<description>Properties of a power socket</description>\n \t\t<channels>\n-\t\t\t<channel id=\"temperature\" typeId=\"temperature\">\n-\t\t\t\t<label>Soil Temperature</label>\n+\t\t\t<channel id=\"state\" typeId=\"state\"/>\n+\t\t\t<channel id=\"state_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>State Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"activity\" typeId=\"activity\"/>\n+\t\t\t<channel id=\"activity_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Activity Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"lastErrorCode\" typeId=\"lastErrorCode\"/>\n+\t\t\t<channel id=\"lastErrorCode_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Last Error Code Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"duration\" typeId=\"duration\"/>\n+\t\t\t<channel id=\"duration_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Duration Timestamp</label>\n \t\t\t</channel>\n \t\t</channels>\n \t</channel-group-type>\n \n-\t<channel-group-type id=\"humidity\">\n-\t\t<label>Humidity</label>\n-\t\t<description>The humidity</description>\n+\t<channel-group-type id=\"mowerProperties\">\n+\t\t<label>Mower Properties</label>\n+\t\t<description>Properties of a mower</description>\n \t\t<channels>\n-\t\t\t<channel id=\"humidity\" typeId=\"humidity\"/>\n+\t\t\t<channel id=\"state\" typeId=\"state\"/>\n+\t\t\t<channel id=\"state_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>State Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"activity\" typeId=\"activity\"/>\n+\t\t\t<channel id=\"activity_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Activity Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"lastErrorCode\" typeId=\"lastErrorCode\"/>\n+\t\t\t<channel id=\"lastErrorCode_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Last Error Code Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"operatingHours\" typeId=\"operatingHours\"/>\n \t\t</channels>\n \t</channel-group-type>\n \n-\t<channel-group-type id=\"light\">\n-\t\t<label>Brightness</label>\n-\t\t<description>The brightness</description>\n+\t<channel-group-type id=\"commonProperties\">\n+\t\t<label>Common Properties</label>\n+\t\t<description>Properties that are common across devices</description>\n \t\t<channels>\n-\t\t\t<channel id=\"light\" typeId=\"light\"/>\n+\t\t\t<channel id=\"name\" typeId=\"name\"/>\n+\t\t\t<channel id=\"batteryLevel\" typeId=\"system.battery-level\"/>\n+\t\t\t<channel id=\"batteryLevel_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Battery Level Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"batteryState\" typeId=\"batteryState\"/>\n+\t\t\t<channel id=\"batteryState_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Battery State Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"rfLinkLevel\" typeId=\"system.signal-strength\"/>\n+\t\t\t<channel id=\"rfLinkLevel_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>RF Link Level Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"rfLinkState\" typeId=\"rfLinkState\"/>\n+\t\t\t<channel id=\"rfLinkState_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>RF Link State Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"lastUpdate_timestamp\" typeId=\"timestampRefresh\">\n+\t\t\t\t<label>LastUpdate Timestamp</label>\n+\t\t\t</channel>\n \t\t</channels>\n \t</channel-group-type>\n \n-\t<channel-type id=\"humidity\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Humidity</label>\n-\t\t<description>The humidity</description>\n-\t\t<state pattern=\"%d %%\" readOnly=\"true\"/>\n-\t</channel-type>\n-\n-\t<channel-type id=\"light\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Brightness</label>\n-\t\t<description>The brightness</description>\n-\t\t<state pattern=\"%d lx\" readOnly=\"true\"/>\n-\t</channel-type>\n-\n-\t<!-- ############################### Pressure Pump ############################### -->\n-\n-\t<thing-type id=\"electronic_pressure_pump\">\n-\t\t<supported-bridge-type-refs>\n-\t\t\t<bridge-type-ref id=\"account\"/>\n-\t\t</supported-bridge-type-refs>\n-\n-\t\t<label>Gardena Smart Pressure Pump</label>\n-\t\t<description>Represents a Gardena Smart Pressure Pump</description>\n-\n-\t\t<channel-groups>\n-\t\t\t<channel-group id=\"device_info\" typeId=\"deviceInfo\"/>\n-\t\t\t<channel-group id=\"radio\" typeId=\"radio\"/>\n-\n-\t\t\t<channel-group id=\"outlet_temperature\" typeId=\"outletTemperature\"/>\n-\t\t\t<channel-group id=\"pump\" typeId=\"pump\"/>\n-\t\t\t<channel-group id=\"outlet_pressure\" typeId=\"outletPressure\"/>\n-\t\t\t<channel-group id=\"flow\" typeId=\"flow\"/>\n-\t\t\t<channel-group id=\"manual_watering\" typeId=\"manualWatering\"/>\n-\t\t\t<channel-group id=\"scheduling\" typeId=\"scheduling\"/>\n-\t\t</channel-groups>\n-\n-\t\t<properties>\n-\t\t\t<!-- device info -->\n-\t\t\t<property name=\"manufacturer\"/>\n-\t\t\t<property name=\"product\"/>\n-\t\t\t<property name=\"serialNumber\"/>\n-\t\t\t<property name=\"sgtin\"/>\n-\t\t\t<property name=\"version\"/>\n-\t\t\t<property name=\"category\"/>\n-\t\t</properties>\n-\n-\t\t<config-description>\n-\t\t\t<parameter name=\"leakage_detection\" type=\"text\">\n-\t\t\t\t<label>Leakage Detection</label>\n-\t\t\t\t<options>\n-\t\t\t\t\t<option value=\"watering\">Watering</option>\n-\t\t\t\t\t<option value=\"washing_machine\">Washing machine</option>\n-\t\t\t\t\t<option value=\"domestic_water_supply\">Domestic water supply</option>\n-\t\t\t\t\t<option value=\"off\">Off</option>\n-\t\t\t\t</options>\n-\t\t\t</parameter>\n-\t\t\t<parameter name=\"operating_mode\" type=\"text\">\n-\t\t\t\t<label>Operating Mode</label>\n-\t\t\t\t<options>\n-\t\t\t\t\t<option value=\"scheduled\">Scheduled</option>\n-\t\t\t\t\t<option value=\"automatic\">Automatic</option>\n-\t\t\t\t</options>\n-\t\t\t</parameter>\n-\t\t\t<parameter name=\"turn_on_pressure\" type=\"text\">\n-\t\t\t\t<label>Turn On Pressure</label>\n-\t\t\t\t<options>\n-\t\t\t\t\t<option value=\"2.0\">2.0</option>\n-\t\t\t\t\t<option value=\"2.2\">2.2</option>\n-\t\t\t\t\t<option value=\"2.4\">2.4</option>\n-\t\t\t\t\t<option value=\"2.6\">2.6</option>\n-\t\t\t\t\t<option value=\"2.8\">2.8</option>\n-\t\t\t\t</options>\n-\t\t\t</parameter>\n-\t\t</config-description>\n-\t</thing-type>\n-\n-\t<channel-group-type id=\"outletTemperature\">\n-\t\t<label>Outlet Temperature</label>\n-\t\t<description>The outlet temperature</description>\n+\t<channel-group-type id=\"mowerCommands\">\n+\t\t<label>Mower Commands</label>\n+\t\t<description>Commands to control a mower</description>\n \t\t<channels>\n-\t\t\t<channel id=\"temperature\" typeId=\"temperature\"/>\n-\t\t\t<channel id=\"temperature_min\" typeId=\"temperatureMin\"/>\n-\t\t\t<channel id=\"temperature_max\" typeId=\"temperatureMax\"/>\n-\t\t\t<channel id=\"frost_warning\" typeId=\"frostWarning\"/>\n+\t\t\t<channel id=\"commandDuration\" typeId=\"mowerCommandDuration\">\n+\t\t\t\t<label>Mowing Duration</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"start_seconds_to_override\" typeId=\"gardenaCommand\">\n+\t\t\t\t<label>Start mowing with duration</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"start_dont_override\" typeId=\"gardenaCommand\">\n+\t\t\t\t<label>Start Schedule</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"park_until_next_task\" typeId=\"gardenaCommand\">\n+\t\t\t\t<label>Park</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"park_until_further_notice\" typeId=\"gardenaCommand\">\n+\t\t\t\t<label>Pause schedule</label>\n+\t\t\t</channel>\n \t\t</channels>\n \t</channel-group-type>\n \n-\t<channel-type id=\"temperatureMin\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Minimum Temperature</label>\n-\t\t<description>The minimum outlet temperature</description>\n-\t\t<state pattern=\"%d \u00b0C\" readOnly=\"true\"/>\n-\t</channel-type>\n-\n-\t<channel-type id=\"temperatureMax\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Maximum Temperature</label>\n-\t\t<description>The maximum outlet temperature</description>\n-\t\t<state pattern=\"%d \u00b0C\" readOnly=\"true\"/>\n-\t</channel-type>\n+\t<channel-group-type id=\"valveCommands\">\n+\t\t<label>Valve Commands</label>\n+\t\t<description>Commands to control a valve</description>\n+\t\t<channels>\n+\t\t\t<channel id=\"commandDuration\" typeId=\"valveCommandDuration\">\n+\t\t\t\t<label>Irrigation Duration</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"start_seconds_to_override\" typeId=\"gardenaCommand\">\n+\t\t\t\t<label>Open valve with duration</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"stop_until_next_task\" typeId=\"gardenaCommand\">\n+\t\t\t\t<label>Close valve, continue with the schedule</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"pause\" typeId=\"gardenaCommand\">\n+\t\t\t\t<label>Pause until specified time</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"unpause\" typeId=\"gardenaCommand\">\n+\t\t\t\t<label>Start schedule</label>\n+\t\t\t</channel>\n+\t\t</channels>\n+\t</channel-group-type>\n \n-\t<channel-group-type id=\"pump\">\n-\t\t<label>Pump</label>\n-\t\t<description>The pump</description>\n+\t<channel-group-type id=\"valveSetCommands\">\n+\t\t<label>Valve Set Commands</label>\n+\t\t<description>Commands to control a valve set</description>\n \t\t<channels>\n-\t\t\t<channel id=\"mode\" typeId=\"pumpMode\"/>\n-\t\t\t<channel id=\"pump_on_off\" typeId=\"pumpOnOff\"/>\n-\t\t\t<channel id=\"turn_on_pressure\" typeId=\"turnOnPressure\"/>\n-\t\t\t<channel id=\"operating_mode\" typeId=\"operatingMode\"/>\n-\t\t\t<channel id=\"error\" typeId=\"errorCounter\"/>\n-\t\t\t<channel id=\"operating_days\" typeId=\"operatingDays\"/>\n-\t\t\t<channel id=\"error1_count\" typeId=\"errorCounterOne\"/>\n-\t\t\t<channel id=\"error2_count\" typeId=\"errorCounterTwo\"/>\n-\t\t\t<channel id=\"error3_count\" typeId=\"errorCounterThree\"/>\n-\t\t\t<channel id=\"error4_count\" typeId=\"errorCounterFour\"/>\n+\t\t\t<channel id=\"stop_until_next_task\" typeId=\"gardenaCommand\">\n+\t\t\t\t<label>Close all valves</label>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "eb02adf3ea4c748f4b3ec438ee5599ed52609bc3"}, "originalPosition": 909}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDAzOTMzMQ==", "bodyText": "This is still lower case.", "url": "https://github.com/openhab/openhab-addons/pull/8869#discussion_r540039331", "createdAt": "2020-12-10T10:09:44Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.gardena/src/main/resources/OH-INF/thing/thing-types.xml", "diffHunk": "@@ -10,1162 +10,633 @@\n \t\t\t<bridge-type-ref id=\"account\"/>\n \t\t</supported-bridge-type-refs>\n \n-\t\t<label>Gardena Smart Sileno Mower</label>\n-\t\t<description>A Gardena Smart Sileno mower</description>\n+\t\t<label>Gardena smart SILENO Mower</label>\n+\t\t<description>Represents any Gardena smart SILENO mower model</description>\n \n \t\t<channel-groups>\n-\t\t\t<channel-group id=\"device_info\" typeId=\"deviceInfo\"/>\n-\t\t\t<channel-group id=\"battery\" typeId=\"rechargeableBattery\"/>\n-\t\t\t<channel-group id=\"radio\" typeId=\"radio\"/>\n-\t\t\t<channel-group id=\"mower\" typeId=\"mower\"/>\n-\t\t\t<channel-group id=\"mower_stats\" typeId=\"mowerStats\"/>\n-\t\t\t<channel-group id=\"firmware\" typeId=\"firmware\"/>\n+\t\t\t<channel-group id=\"common\" typeId=\"commonProperties\"/>\n+\t\t\t<channel-group id=\"mower\" typeId=\"mowerProperties\"/>\n+\t\t\t<channel-group id=\"mower_commands\" typeId=\"mowerCommands\"/>\n \t\t</channel-groups>\n \t\t<properties>\n-\t\t\t<!-- device info -->\n-\t\t\t<property name=\"manufacturer\"/>\n-\t\t\t<property name=\"product\"/>\n-\t\t\t<property name=\"serialNumber\"/>\n-\t\t\t<property name=\"sgtin\"/>\n-\t\t\t<property name=\"version\"/>\n-\t\t\t<property name=\"category\"/>\n+\t\t\t<!-- common -->\n+\t\t\t<property name=\"serial\"/>\n+\t\t\t<property name=\"modelType\"/>\n \t\t</properties>\n \t</thing-type>\n \n-\t<channel-group-type id=\"deviceInfo\">\n-\t\t<label>Device Info</label>\n-\t\t<description>Information about the device</description>\n-\t\t<channels>\n-\t\t\t<channel id=\"last_time_online\" typeId=\"lastTimeOnline\"/>\n-\t\t</channels>\n-\t</channel-group-type>\n-\n-\t<channel-group-type id=\"rechargeableBattery\">\n-\t\t<label>Battery Info</label>\n-\t\t<description>Information about the rechargeable battery</description>\n-\t\t<channels>\n-\t\t\t<channel id=\"level\" typeId=\"system.battery-level\"/>\n-\t\t\t<channel id=\"charging\" typeId=\"charging\"/>\n-\t\t</channels>\n-\t</channel-group-type>\n-\n-\t<channel-group-type id=\"radio\">\n-\t\t<label>Radio Link</label>\n-\t\t<description>Information about the radio link</description>\n-\t\t<channels>\n-\t\t\t<channel id=\"quality\" typeId=\"radioQuality\"/>\n-\t\t\t<channel id=\"state\" typeId=\"system.signal-strength\"/>\n-\t\t</channels>\n-\t</channel-group-type>\n-\n-\t<channel-group-type id=\"mower\">\n-\t\t<label>Robotic Mower</label>\n-\t\t<description>Information about the robotic mower</description>\n-\t\t<channels>\n-\t\t\t<channel id=\"manual_operation\" typeId=\"manualOperation\"/>\n-\t\t\t<channel id=\"status\" typeId=\"status\"/>\n-\t\t\t<channel id=\"error\" typeId=\"error\"/>\n-\t\t\t<channel id=\"source_for_next_start\" typeId=\"sourceForNextStart\"/>\n-\t\t\t<channel id=\"timestamp_next_start\" typeId=\"timestampNextStart\"/>\n-\t\t\t<channel id=\"override_end_time\" typeId=\"overrideEndTime\"/>\n-\t\t\t<channel id=\"park_until_further_notice\" typeId=\"parkUntilFurtherNotice\"/>\n-\t\t\t<channel id=\"park_until_next_timer\" typeId=\"parkUntilNextTimer\"/>\n-\t\t\t<channel id=\"start_override_timer\" typeId=\"startOverrideTimer\"/>\n-\t\t\t<channel id=\"start_resume_schedule\" typeId=\"startResumeSchedule\"/>\n-\t\t\t<channel id=\"duration_property\" typeId=\"mowerDurationProperty\"/>\n-\t\t</channels>\n-\t</channel-group-type>\n-\n-\t<channel-type id=\"mowerDurationProperty\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Mowing Time</label>\n-\t\t<description>Mowing time in minutes</description>\n-\t\t<state pattern=\"%d min\" min=\"1\" max=\"1440\" step=\"1\"/>\n-\t</channel-type>\n-\n-\t<channel-type id=\"parkUntilFurtherNotice\">\n-\t\t<item-type>Switch</item-type>\n-\t\t<label>Park and Pause All Timers</label>\n-\t\t<description>Park and pause all timers</description>\n-\t</channel-type>\n-\n-\t<channel-type id=\"parkUntilNextTimer\">\n-\t\t<item-type>Switch</item-type>\n-\t\t<label>Park Until Next Timer</label>\n-\t\t<description>Park until next timer</description>\n-\t</channel-type>\n-\n-\t<channel-type id=\"startResumeSchedule\">\n-\t\t<item-type>Switch</item-type>\n-\t\t<label>Start Resume Schedule</label>\n-\t\t<description>Start resume schedule</description>\n-\t</channel-type>\n-\n-\t<channel-type id=\"startOverrideTimer\">\n-\t\t<item-type>Switch</item-type>\n-\t\t<label>Override Timer</label>\n-\t\t<description>Starts the mower for the specified duration</description>\n-\t</channel-type>\n-\n-\t<channel-type id=\"lastTimeOnline\" advanced=\"true\">\n-\t\t<item-type>DateTime</item-type>\n-\t\t<label>Last Time Online</label>\n-\t\t<description>Last time the device was online</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n-\n-\t<channel-type id=\"charging\" advanced=\"true\">\n-\t\t<item-type>Switch</item-type>\n-\t\t<label>Battery Charging</label>\n-\t\t<description>Battery Charging</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t<!-- ############################### Watering Computer ############################### -->\n \n-\t<channel-type id=\"radioQuality\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Radio Link Quality</label>\n-\t\t<description>Radio Link Quality</description>\n-\t\t<state pattern=\"%d %%\" readOnly=\"true\"/>\n-\t</channel-type>\n+\t<thing-type id=\"water_control\">\n+\t\t<supported-bridge-type-refs>\n+\t\t\t<bridge-type-ref id=\"account\"/>\n+\t\t</supported-bridge-type-refs>\n \n-\t<channel-type id=\"manualOperation\" advanced=\"true\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Manual Operation</label>\n-\t\t<description>The mower is controlled manually</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t\t<label>Gardena smart Water Control</label>\n+\t\t<description>Represents a Gardena smart Water Control</description>\n \n-\t<channel-type id=\"status\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Mower Status</label>\n-\t\t<description>The mower status</description>\n-\t\t<state readOnly=\"true\">\n-\t\t\t<options>\n-\t\t\t\t<option value=\"uninitialised\">Uninitialised</option>\n-\t\t\t\t<option value=\"paused\">Paused</option>\n-\t\t\t\t<option value=\"ok_cutting\">Mowing</option>\n-\t\t\t\t<option value=\"ok_searching\">Searching charging station</option>\n-\t\t\t\t<option value=\"ok_charging\">Charging</option>\n-\t\t\t\t<option value=\"ok_leaving\">Mowing</option>\n-\t\t\t\t<option value=\"wait_updating\">Updating ...</option>\n-\t\t\t\t<option value=\"wait_power_up\">Powering up ...</option>\n-\t\t\t\t<option value=\"parked_timer\">Parked on schedule</option>\n-\t\t\t\t<option value=\"parked_park_selected\">Parked</option>\n-\t\t\t\t<option value=\"off_disabled\">The mower is turned off</option>\n-\t\t\t\t<option value=\"off_hatch_open\">Disabled. Hatch open</option>\n-\t\t\t\t<option value=\"unknown\">Unknown</option>\n-\t\t\t\t<option value=\"error\">Error</option>\n-\t\t\t\t<option value=\"error_at_power_up\">Error</option>\n-\t\t\t\t<option value=\"off_hatch_closed\">Disabled. Manual start needed</option>\n-\t\t\t\t<option value=\"ok_cutting_timer_overridden\">Manual mowing</option>\n-\t\t\t\t<option value=\"parked_autotimer\">Parked due to SensorControl</option>\n-\t\t\t\t<option value=\"parked_daily_limit_reached\">Completed</option>\n-\t\t\t\t<option value=\"undefined\">Undefined</option>\n-\t\t\t</options>\n-\t\t</state>\n-\t</channel-type>\n-\n-\t<channel-type id=\"error\" advanced=\"true\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Mower Error</label>\n-\t\t<description>Mower Error</description>\n-\t\t<state readOnly=\"true\">\n-\t\t\t<options>\n-\t\t\t\t<option value=\"no_message\">No message</option>\n-\t\t\t\t<option value=\"outside_working_area\">Outside working area</option>\n-\t\t\t\t<option value=\"no_loop_signal\">No loop signal</option>\n-\t\t\t\t<option value=\"wrong_loop_signal\">Wrong loop signal</option>\n-\t\t\t\t<option value=\"loop_sensor_problem_front\">Loop sensor problem, front</option>\n-\t\t\t\t<option value=\"loop_sensor_problem_rear\">Loop sensor problem, rear</option>\n-\t\t\t\t<option value=\"loop_sensor_problem_left\">Loop sensor problem, left</option>\n-\t\t\t\t<option value=\"loop_sensor_problem_right\">Loop sensor problem, right</option>\n-\t\t\t\t<option value=\"wrong_pin_code\">Wrong pin code</option>\n-\t\t\t\t<option value=\"trapped\">Trapped</option>\n-\t\t\t\t<option value=\"upside_down\">Upside down</option>\n-\t\t\t\t<option value=\"low_battery\">Low battery</option>\n-\t\t\t\t<option value=\"empty_battery\">Empty battery</option>\n-\t\t\t\t<option value=\"no_drive\">Disabled. Hatch open</option>\n-\t\t\t\t<option value=\"temporarily_lifted\">Temporary lifted</option>\n-\t\t\t\t<option value=\"lifted\">Lifted</option>\n-\t\t\t\t<option value=\"stuck_in_charging_station\">Stuck in charging station</option>\n-\t\t\t\t<option value=\"charging_station_blocked\">Charging station blocked</option>\n-\t\t\t\t<option value=\"collision_sensor_problem_rear\">Collision sensor problem, rear</option>\n-\t\t\t\t<option value=\"collision_sensor_problem_front\">Collision sensor problem, front</option>\n-\t\t\t\t<option value=\"wheel_motor_blocked_right\">Wheel motor blocked, right</option>\n-\t\t\t\t<option value=\"wheel_motor_blocked_left\">Wheel motor blocked, left</option>\n-\t\t\t\t<option value=\"wheel_drive_problem_right\">Wheel drive problem, right</option>\n-\t\t\t\t<option value=\"wheel_drive_problem_left\">Wheel drive problem, left</option>\n-\t\t\t\t<option value=\"cutting_motor_drive_defect\">Cutting motor drive defect</option>\n-\t\t\t\t<option value=\"cutting_system_blocked\">Cutting system blocked</option>\n-\t\t\t\t<option value=\"invalid_sub_device_combination\">Invalid sub-device combination</option>\n-\t\t\t\t<option value=\"settings_restored\">Settings restored</option>\n-\t\t\t\t<option value=\"memory_circuit_problem\">Memory circuit problem</option>\n-\t\t\t\t<option value=\"slope_too_steep\">Slope too steep</option>\n-\t\t\t\t<option value=\"charging_system_problem\">Charging system problem</option>\n-\t\t\t\t<option value=\"stop_button_problem\">Stop button problem</option>\n-\t\t\t\t<option value=\"tilt_sensor_problem\">Tilt sensor problem</option>\n-\t\t\t\t<option value=\"mower_tilted\">Mower tilted</option>\n-\t\t\t\t<option value=\"wheel_motor_overloaded_right\">Wheel motor overloaded, right</option>\n-\t\t\t\t<option value=\"wheel_motor_overloaded_left\">Wheel motor overloaded, left</option>\n-\t\t\t\t<option value=\"charging_current_too_high\">Charging current too high</option>\n-\t\t\t\t<option value=\"electronic_problem\">Electronic problem</option>\n-\t\t\t\t<option value=\"cutting_motor_problem\">Cutting motor problem</option>\n-\t\t\t\t<option value=\"limited_cutting_height_range\">Limited cutting height range</option>\n-\t\t\t\t<option value=\"unexpected_cutting_height_adj\">Unexpected cutting height adj</option>\n-\t\t\t\t<option value=\"cutting_height_problem_drive\">Cutting height problem drive</option>\n-\t\t\t\t<option value=\"cutting_height_problem_curr\">Cutting height problem curr</option>\n-\t\t\t\t<option value=\"cutting_height_problem_dir\">Cutting height problem dir</option>\n-\t\t\t\t<option value=\"cutting_height_blocked\">Cutting height blocked</option>\n-\t\t\t\t<option value=\"cutting_height_problem\">Cutting height problem</option>\n-\t\t\t\t<option value=\"no_response_from_charger\">No response from charger</option>\n-\t\t\t\t<option value=\"ultrasonic_problem\">Ultrasonic problem</option>\n-\t\t\t\t<option value=\"temporary_problem\">Temporary problem</option>\n-\t\t\t\t<option value=\"guide_1_not_found\">Guide 1 not found</option>\n-\t\t\t\t<option value=\"guide_2_not_found\">Guide 2 not found</option>\n-\t\t\t\t<option value=\"guide_3_not_found\">Guide 3 not found</option>\n-\t\t\t\t<option value=\"gps_tracker_module_error\">GPS tracker module error</option>\n-\t\t\t\t<option value=\"weak_gps_signal\">Weak gps signal</option>\n-\t\t\t\t<option value=\"difficult_finding_home\">Difficult finding home</option>\n-\t\t\t\t<option value=\"guide_calibration_accomplished\">Guide calibration accomplished</option>\n-\t\t\t\t<option value=\"guide_calibration_failed\">Guide calibration failed</option>\n-\t\t\t\t<option value=\"temporary_battery_problem\">Temporary battery problem</option>\n-\t\t\t\t<option value=\"battery_problem\">Battery problem</option>\n-\t\t\t\t<option value=\"too_many_batteries\">Too many batteries</option>\n-\t\t\t\t<option value=\"alarm_mower_switched_off\">Alarm! Mower switched off</option>\n-\t\t\t\t<option value=\"alarm_mower_stopped\">Alarm! Mower stopped</option>\n-\t\t\t\t<option value=\"alarm_mower_lifted\">Alarm! Mower lifted</option>\n-\t\t\t\t<option value=\"alarm_mower_tilted\">Alarm! Mower tilted</option>\n-\t\t\t\t<option value=\"alarm_mower_in_motion\">Alarm! Mower in motion</option>\n-\t\t\t\t<option value=\"alarm_outside_geofence\">Alarm outside geofence</option>\n-\t\t\t\t<option value=\"connection_changed\">Connection changed</option>\n-\t\t\t\t<option value=\"connection_not_changed\">Connection not changed</option>\n-\t\t\t\t<option value=\"com_board_not_available\">COM board not available</option>\n-\t\t\t\t<option value=\"slipped\">Slipped</option>\n-\t\t\t\t<option value=\"invalid_battery_combination\">Invalid battery combination</option>\n-\t\t\t\t<option value=\"imbalanced_cutting_disc\">Imbalanced cutting disc</option>\n-\t\t\t\t<option value=\"safety_function_faulty\">Safety function faulty</option>\n-\t\t\t</options>\n-\t\t</state>\n-\t</channel-type>\n+\t\t<channel-groups>\n+\t\t\t<channel-group id=\"common\" typeId=\"commonProperties\"/>\n+\t\t\t<channel-group id=\"valve\" typeId=\"valveProperties\"/>\n+\t\t\t<channel-group id=\"valve_commands\" typeId=\"valveCommands\"/>\n+\t\t\t<channel-group id=\"valveSet\" typeId=\"valveSetProperties\"/>\n+\t\t\t<channel-group id=\"valveSet_commands\" typeId=\"valveSetCommands\"/>\n+\t\t</channel-groups>\n+\t\t<properties>\n+\t\t\t<!-- common -->\n+\t\t\t<property name=\"serial\"/>\n+\t\t\t<property name=\"modelType\"/>\n+\t\t</properties>\n+\t</thing-type>\n \n-\t<channel-type id=\"sourceForNextStart\" advanced=\"true\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Source for Next Start</label>\n-\t\t<description>The source for the next start</description>\n-\t\t<state readOnly=\"true\">\n-\t\t\t<options>\n-\t\t\t\t<option value=\"no_source\">No source</option>\n-\t\t\t\t<option value=\"completed_cutting_daily_limit\">Completed cutting daily limit</option>\n-\t\t\t\t<option value=\"week_timer\">Week timer</option>\n-\t\t\t\t<option value=\"countdown_timer\">Countdown timer</option>\n-\t\t\t\t<option value=\"mower_charging\">Mower charging</option>\n-\t\t\t\t<option value=\"completed_cutting_autotimer\">Completed cutting autotimer</option>\n-\t\t\t\t<option value=\"undefined\">Undefined</option>\n-\t\t\t</options>\n-\t\t</state>\n-\t</channel-type>\n+\t<!-- ############################### Sensor ############################### -->\n \n-\t<channel-type id=\"timestampNextStart\">\n-\t\t<item-type>DateTime</item-type>\n-\t\t<label>Timestamp Next Start</label>\n-\t\t<description>Timestamp of the next start</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t<thing-type id=\"sensor\">\n+\t\t<supported-bridge-type-refs>\n+\t\t\t<bridge-type-ref id=\"account\"/>\n+\t\t</supported-bridge-type-refs>\n \n-\t<channel-type id=\"overrideEndTime\" advanced=\"true\">\n-\t\t<item-type>DateTime</item-type>\n-\t\t<label>Override End Time</label>\n-\t\t<description>Override End Time</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t\t<label>Gardena smart Sensor</label>\n+\t\t<description>Represents a Gardena smart Sensor</description>\n \n-\t<channel-type id=\"temperature\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Temperature</label>\n-\t\t<description>Temperature</description>\n-\t\t<state pattern=\"%d \u00b0C\" readOnly=\"true\"/>\n-\t</channel-type>\n+\t\t<channel-groups>\n+\t\t\t<channel-group id=\"common\" typeId=\"commonProperties\"/>\n+\t\t\t<channel-group id=\"sensor\" typeId=\"sensorProperties\"/>\n+\t\t</channel-groups>\n+\t\t<properties>\n+\t\t\t<!-- common -->\n+\t\t\t<property name=\"serial\"/>\n+\t\t\t<property name=\"modelType\"/>\n+\t\t</properties>\n+\t</thing-type>\n \n-\t<channel-group-type id=\"firmware\">\n-\t\t<label>Firmware</label>\n-\t\t<description>Information about the firmware</description>\n-\t\t<channels>\n-\t\t\t<channel id=\"firmware_status\" typeId=\"firmwareStatus\"/>\n-\t\t\t<channel id=\"firmware_upload_progress\" typeId=\"firmwareUploadProgress\"/>\n-\t\t\t<channel id=\"firmware_available_version\" typeId=\"firmwareAvailableVersion\"/>\n-\t\t</channels>\n-\t</channel-group-type>\n+\t<!-- ############################### Pressure Pump ############################### -->\n \n-\t<channel-type id=\"firmwareStatus\" advanced=\"true\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Status</label>\n-\t\t<description>The firmware status</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t<thing-type id=\"pump\">\n+\t\t<supported-bridge-type-refs>\n+\t\t\t<bridge-type-ref id=\"account\"/>\n+\t\t</supported-bridge-type-refs>\n \n-\t<channel-type id=\"firmwareUploadProgress\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Upload Progress</label>\n-\t\t<description>Firmware upload in progress</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t\t<label>Gardena smart Pressure Pump</label>\n+\t\t<description>Represents a Gardena smart Pressure Pump</description>\n \n-\t<channel-type id=\"firmwareAvailableVersion\" advanced=\"true\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Available Version</label>\n-\t\t<description>Available firmware version</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t\t<channel-groups>\n+\t\t\t<channel-group id=\"common\" typeId=\"commonProperties\"/>\n+\t\t\t<channel-group id=\"valve\" typeId=\"valveProperties\"/>\n+\t\t\t<channel-group id=\"valve_commands\" typeId=\"valveCommands\"/>\n+\t\t</channel-groups>\n+\t\t<properties>\n+\t\t\t<!-- common -->\n+\t\t\t<property name=\"serial\"/>\n+\t\t\t<property name=\"modelType\"/>\n+\t\t</properties>\n+\t</thing-type>\n \n-\t<channel-group-type id=\"mowerStats\">\n-\t\t<label>Robotic Mower Statistics</label>\n-\t\t<description>Statistics about the robotic mower</description>\n-\t\t<channels>\n-\t\t\t<channel id=\"cutting_time\" typeId=\"cuttingTime\"/>\n-\t\t\t<channel id=\"charging_cycles\" typeId=\"chargingCycles\"/>\n-\t\t\t<channel id=\"collisions\" typeId=\"collisions\"/>\n-\t\t\t<channel id=\"running_time\" typeId=\"runningTime\"/>\n-\t\t</channels>\n-\t</channel-group-type>\n+\t<!-- ############################### Power ############################### -->\n \n-\t<channel-type id=\"cuttingTime\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Cutting Time</label>\n-\t\t<description>The cutting time</description>\n-\t\t<state readOnly=\"true\" pattern=\"%d h\"/>\n-\t</channel-type>\n+\t<thing-type id=\"power\">\n+\t\t<supported-bridge-type-refs>\n+\t\t\t<bridge-type-ref id=\"account\"/>\n+\t\t</supported-bridge-type-refs>\n \n-\t<channel-type id=\"chargingCycles\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Charging Cycles</label>\n-\t\t<description>The charging cycles</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t\t<label>Gardena smart Power Adapter</label>\n+\t\t<description>Represents a Gardena smart Power Adapter</description>\n \n-\t<channel-type id=\"collisions\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Collisions</label>\n-\t\t<description>The number of collisions</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t\t<channel-groups>\n+\t\t\t<channel-group id=\"common\" typeId=\"commonProperties\"/>\n+\t\t\t<channel-group id=\"powerSocket\" typeId=\"powerSocketProperties\"/>\n+\t\t\t<channel-group id=\"powerSocket_commands\" typeId=\"powerSocketCommands\"/>\n+\t\t</channel-groups>\n+\t\t<properties>\n+\t\t\t<!-- common -->\n+\t\t\t<property name=\"serial\"/>\n+\t\t\t<property name=\"modelType\"/>\n+\t\t</properties>\n+\t</thing-type>\n \n-\t<channel-type id=\"runningTime\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Running Time</label>\n-\t\t<description>Running time</description>\n-\t\t<state readOnly=\"true\" pattern=\"%d h\"/>\n-\t</channel-type>\n+\t<!-- ############################### Irrigation Control ############################### -->\n \n-\t<!-- ############################### Watering Computer ############################### -->\n-\t<thing-type id=\"watering_computer\">\n+\t<thing-type id=\"irrigation_control\">\n \t\t<supported-bridge-type-refs>\n \t\t\t<bridge-type-ref id=\"account\"/>\n \t\t</supported-bridge-type-refs>\n \n-\t\t<label>Gardena Smart Watering Computer</label>\n-\t\t<description>Represents a Gardena Smart Watering Computer</description>\n+\t\t<label>Gardena smart Irrigation Control</label>\n+\t\t<description>Represents a Gardena smart Irrigation Control</description>\n \n \t\t<channel-groups>\n-\t\t\t<channel-group id=\"device_info\" typeId=\"deviceInfo\"/>\n-\t\t\t<channel-group id=\"battery\" typeId=\"battery\"/>\n-\t\t\t<channel-group id=\"radio\" typeId=\"radio\"/>\n-\t\t\t<channel-group id=\"outlet\" typeId=\"outlet\"/>\n-\t\t\t<channel-group id=\"ambient_temperature\" typeId=\"ambientTemperature\"/>\n+\t\t\t<channel-group id=\"common\" typeId=\"commonProperties\"/>\n+\t\t\t<channel-group id=\"valveOne\" typeId=\"valveProperties\">\n+\t\t\t\t<label>Valve 1 properties</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveOne_commands\" typeId=\"valveCommands\">\n+\t\t\t\t<label>Valve 1 commands</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveTwo\" typeId=\"valveProperties\">\n+\t\t\t\t<label>Valve 2 properties</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveTwo_commands\" typeId=\"valveCommands\">\n+\t\t\t\t<label>Valve 2 commands</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveThree\" typeId=\"valveProperties\">\n+\t\t\t\t<label>Valve 3 properties</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveThree_commands\" typeId=\"valveCommands\">\n+\t\t\t\t<label>Valve 3 commands</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveFour\" typeId=\"valveProperties\">\n+\t\t\t\t<label>Valve 4 properties</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveFour_commands\" typeId=\"valveCommands\">\n+\t\t\t\t<label>Valve 4 Commands</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveFive\" typeId=\"valveProperties\">\n+\t\t\t\t<label>Valve 5 Properties</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveFive_commands\" typeId=\"valveCommands\">\n+\t\t\t\t<label>Valve 5 Commands</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveSix\" typeId=\"valveProperties\">\n+\t\t\t\t<label>Valve 6 Properties</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveSix_commands\" typeId=\"valveCommands\">\n+\t\t\t\t<label>Valve 6 Commands</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveSet\" typeId=\"valveSetProperties\"/>\n+\t\t\t<channel-group id=\"valveSet_commands\" typeId=\"valveSetCommands\"/>\n \t\t</channel-groups>\n \t\t<properties>\n-\t\t\t<!-- device info -->\n-\t\t\t<property name=\"manufacturer\"/>\n-\t\t\t<property name=\"product\"/>\n-\t\t\t<property name=\"serialNumber\"/>\n-\t\t\t<property name=\"sgtin\"/>\n-\t\t\t<property name=\"version\"/>\n-\t\t\t<property name=\"category\"/>\n+\t\t\t<!-- common -->\n+\t\t\t<property name=\"serial\"/>\n+\t\t\t<property name=\"modelType\"/>\n \t\t</properties>\n \t</thing-type>\n \n-\t<channel-group-type id=\"battery\">\n-\t\t<label>Battery Info</label>\n-\t\t<description>Information about the battery</description>\n+\t<!-- ############################### channels and groups ############################### -->\n+\n+\t<channel-group-type id=\"valveSetProperties\">\n+\t\t<label>Valve Set Properties</label>\n+\t\t<description>Properties of a valve set</description>\n \t\t<channels>\n-\t\t\t<channel id=\"level\" typeId=\"system.battery-level\"/>\n-\t\t\t<channel id=\"disposable_battery_status\" typeId=\"disposableBatteryStatus\"/>\n+\t\t\t<channel id=\"state\" typeId=\"state\"/>\n+\t\t\t<channel id=\"state_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>State Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"lastErrorCode\" typeId=\"lastErrorCode\"/>\n+\t\t\t<channel id=\"lastErrorCode_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Last Error Code Timestamp</label>\n+\t\t\t</channel>\n \t\t</channels>\n \t</channel-group-type>\n \n-\t<channel-group-type id=\"outlet\">\n-\t\t<label>Watering Outlet</label>\n-\t\t<description>Information about the watering outlet</description>\n+\t<channel-group-type id=\"valveProperties\">\n+\t\t<label>Valve Properties</label>\n+\t\t<description>Properties of a valve</description>\n \t\t<channels>\n-\t\t\t<channel id=\"valve_open\" typeId=\"valveOpen\"/>\n-\t\t\t<channel id=\"manual_override\" typeId=\"manualOverride\"/>\n-\t\t\t<channel id=\"button_manual_override_time\" typeId=\"buttonManualOverrideTime\"/>\n+\t\t\t<channel id=\"name\" typeId=\"name\"/>\n+\t\t\t<channel id=\"state\" typeId=\"state\"/>\n+\t\t\t<channel id=\"state_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>State Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"activity\" typeId=\"activity\"/>\n+\t\t\t<channel id=\"activity_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Activity Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"lastErrorCode\" typeId=\"lastErrorCode\"/>\n+\t\t\t<channel id=\"lastErrorCode_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Last Error Code Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"duration\" typeId=\"duration\"/>\n \t\t</channels>\n \t</channel-group-type>\n \n-\t<channel-group-type id=\"ambientTemperature\">\n-\t\t<label>Ambient Temperature</label>\n-\t\t<description>Ambient Temperature</description>\n+\t<channel-group-type id=\"sensorProperties\">\n+\t\t<label>Sensor Properties</label>\n+\t\t<description>Properties of a sensor</description>\n \t\t<channels>\n-\t\t\t<channel id=\"temperature\" typeId=\"temperature\">\n+\t\t\t<channel id=\"soilHumidity\" typeId=\"soilHumidity\"/>\n+\t\t\t<channel id=\"soilHumidity_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Soil Humidity Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"soilTemperature\" typeId=\"temperature\">\n+\t\t\t\t<label>Soil Temperature</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"soilTemperature_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Soil Temperature Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"ambientTemperature\" typeId=\"temperature\">\n \t\t\t\t<label>Ambient Temperature</label>\n \t\t\t</channel>\n-\t\t\t<channel id=\"frost_warning\" typeId=\"frostWarning\"/>\n+\t\t\t<channel id=\"ambientTemperature_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Ambient Temperature Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"lightIntensity\" typeId=\"lightIntensity\"/>\n+\t\t\t<channel id=\"lightIntensity_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Light Intensity Timestamp</label>\n+\t\t\t</channel>\n \t\t</channels>\n \t</channel-group-type>\n \n-\t<channel-type id=\"disposableBatteryStatus\" advanced=\"true\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Disposable Battery Status</label>\n-\t\t<description>The status of the disposable battery</description>\n-\t\t<state readOnly=\"true\">\n-\t\t\t<options>\n-\t\t\t\t<option value=\"out_of_operation\">Out of operation</option>\n-\t\t\t\t<option value=\"replace_now\">Critical battery level, replace now</option>\n-\t\t\t\t<option value=\"low\">Low</option>\n-\t\t\t\t<option value=\"ok\">OK</option>\n-\t\t\t\t<option value=\"undefined\">Undefined</option>\n-\t\t\t</options>\n-\t\t</state>\n-\t</channel-type>\n-\n-\t<channel-type id=\"valveOpen\">\n-\t\t<item-type>Switch</item-type>\n-\t\t<label>Valve Open</label>\n-\t\t<description>Valve Open</description>\n-\t</channel-type>\n-\n-\t<channel-type id=\"manualOverride\" advanced=\"true\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Manual Override</label>\n-\t\t<description>Manual Override</description>\n-\t\t<state readOnly=\"true\">\n-\t\t\t<options>\n-\t\t\t\t<option value=\"inactive\">Inactive</option>\n-\t\t\t\t<option value=\"open\">Open</option>\n-\t\t\t\t<option value=\"undefined\">Undefined</option>\n-\t\t\t</options>\n-\t\t</state>\n-\t</channel-type>\n-\n-\t<channel-type id=\"buttonManualOverrideTime\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Button Manual Override</label>\n-\t\t<description>The time the valve is open when you press the button on the device</description>\n-\t\t<state pattern=\"%d min\" min=\"1\" max=\"59\" step=\"1\"/>\n-\t</channel-type>\n-\n-\t<channel-type id=\"frostWarning\" advanced=\"true\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Frost Warning</label>\n-\t\t<description>Frost Warning</description>\n-\t\t<state readOnly=\"true\">\n-\t\t\t<options>\n-\t\t\t\t<option value=\"no_frost\">No frost</option>\n-\t\t\t\t<option value=\"frost\">Frost</option>\n-\t\t\t\t<option value=\"undefined\">Undefined</option>\n-\t\t\t</options>\n-\t\t</state>\n-\t</channel-type>\n-\n-\t<!-- ############################### Sensor ############################### -->\n-\t<thing-type id=\"sensor\">\n-\t\t<supported-bridge-type-refs>\n-\t\t\t<bridge-type-ref id=\"account\"/>\n-\t\t</supported-bridge-type-refs>\n-\n-\t\t<label>Gardena Smart Sensor</label>\n-\t\t<description>Represents a Gardena Smart Sensor</description>\n-\n-\t\t<channel-groups>\n-\t\t\t<channel-group id=\"device_info\" typeId=\"deviceInfo\"/>\n-\t\t\t<channel-group id=\"battery\" typeId=\"battery\"/>\n-\t\t\t<channel-group id=\"radio\" typeId=\"radio\"/>\n-\t\t\t<channel-group id=\"ambient_temperature\" typeId=\"ambientTemperature\"/>\n-\t\t\t<channel-group id=\"soil_temperature\" typeId=\"soilTemperature\"/>\n-\t\t\t<channel-group id=\"humidity\" typeId=\"humidity\"/>\n-\t\t\t<channel-group id=\"light\" typeId=\"light\"/>\n-\t\t</channel-groups>\n-\t\t<properties>\n-\t\t\t<!-- device info -->\n-\t\t\t<property name=\"manufacturer\"/>\n-\t\t\t<property name=\"product\"/>\n-\t\t\t<property name=\"serialNumber\"/>\n-\t\t\t<property name=\"sgtin\"/>\n-\t\t\t<property name=\"version\"/>\n-\t\t\t<property name=\"category\"/>\n-\t\t</properties>\n-\t</thing-type>\n-\n-\t<channel-group-type id=\"soilTemperature\">\n-\t\t<label>Soil Temperature</label>\n-\t\t<description>The soil temperature</description>\n+\t<channel-group-type id=\"powerSocketProperties\">\n+\t\t<label>Power Socket Properties</label>\n+\t\t<description>Properties of a power socket</description>\n \t\t<channels>\n-\t\t\t<channel id=\"temperature\" typeId=\"temperature\">\n-\t\t\t\t<label>Soil Temperature</label>\n+\t\t\t<channel id=\"state\" typeId=\"state\"/>\n+\t\t\t<channel id=\"state_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>State Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"activity\" typeId=\"activity\"/>\n+\t\t\t<channel id=\"activity_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Activity Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"lastErrorCode\" typeId=\"lastErrorCode\"/>\n+\t\t\t<channel id=\"lastErrorCode_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Last Error Code Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"duration\" typeId=\"duration\"/>\n+\t\t\t<channel id=\"duration_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Duration Timestamp</label>\n \t\t\t</channel>\n \t\t</channels>\n \t</channel-group-type>\n \n-\t<channel-group-type id=\"humidity\">\n-\t\t<label>Humidity</label>\n-\t\t<description>The humidity</description>\n+\t<channel-group-type id=\"mowerProperties\">\n+\t\t<label>Mower Properties</label>\n+\t\t<description>Properties of a mower</description>\n \t\t<channels>\n-\t\t\t<channel id=\"humidity\" typeId=\"humidity\"/>\n+\t\t\t<channel id=\"state\" typeId=\"state\"/>\n+\t\t\t<channel id=\"state_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>State Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"activity\" typeId=\"activity\"/>\n+\t\t\t<channel id=\"activity_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Activity Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"lastErrorCode\" typeId=\"lastErrorCode\"/>\n+\t\t\t<channel id=\"lastErrorCode_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Last Error Code Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"operatingHours\" typeId=\"operatingHours\"/>\n \t\t</channels>\n \t</channel-group-type>\n \n-\t<channel-group-type id=\"light\">\n-\t\t<label>Brightness</label>\n-\t\t<description>The brightness</description>\n+\t<channel-group-type id=\"commonProperties\">\n+\t\t<label>Common Properties</label>\n+\t\t<description>Properties that are common across devices</description>\n \t\t<channels>\n-\t\t\t<channel id=\"light\" typeId=\"light\"/>\n+\t\t\t<channel id=\"name\" typeId=\"name\"/>\n+\t\t\t<channel id=\"batteryLevel\" typeId=\"system.battery-level\"/>\n+\t\t\t<channel id=\"batteryLevel_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Battery Level Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"batteryState\" typeId=\"batteryState\"/>\n+\t\t\t<channel id=\"batteryState_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Battery State Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"rfLinkLevel\" typeId=\"system.signal-strength\"/>\n+\t\t\t<channel id=\"rfLinkLevel_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>RF Link Level Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"rfLinkState\" typeId=\"rfLinkState\"/>\n+\t\t\t<channel id=\"rfLinkState_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>RF Link State Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"lastUpdate_timestamp\" typeId=\"timestampRefresh\">\n+\t\t\t\t<label>LastUpdate Timestamp</label>\n+\t\t\t</channel>\n \t\t</channels>\n \t</channel-group-type>\n \n-\t<channel-type id=\"humidity\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Humidity</label>\n-\t\t<description>The humidity</description>\n-\t\t<state pattern=\"%d %%\" readOnly=\"true\"/>\n-\t</channel-type>\n-\n-\t<channel-type id=\"light\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Brightness</label>\n-\t\t<description>The brightness</description>\n-\t\t<state pattern=\"%d lx\" readOnly=\"true\"/>\n-\t</channel-type>\n-\n-\t<!-- ############################### Pressure Pump ############################### -->\n-\n-\t<thing-type id=\"electronic_pressure_pump\">\n-\t\t<supported-bridge-type-refs>\n-\t\t\t<bridge-type-ref id=\"account\"/>\n-\t\t</supported-bridge-type-refs>\n-\n-\t\t<label>Gardena Smart Pressure Pump</label>\n-\t\t<description>Represents a Gardena Smart Pressure Pump</description>\n-\n-\t\t<channel-groups>\n-\t\t\t<channel-group id=\"device_info\" typeId=\"deviceInfo\"/>\n-\t\t\t<channel-group id=\"radio\" typeId=\"radio\"/>\n-\n-\t\t\t<channel-group id=\"outlet_temperature\" typeId=\"outletTemperature\"/>\n-\t\t\t<channel-group id=\"pump\" typeId=\"pump\"/>\n-\t\t\t<channel-group id=\"outlet_pressure\" typeId=\"outletPressure\"/>\n-\t\t\t<channel-group id=\"flow\" typeId=\"flow\"/>\n-\t\t\t<channel-group id=\"manual_watering\" typeId=\"manualWatering\"/>\n-\t\t\t<channel-group id=\"scheduling\" typeId=\"scheduling\"/>\n-\t\t</channel-groups>\n-\n-\t\t<properties>\n-\t\t\t<!-- device info -->\n-\t\t\t<property name=\"manufacturer\"/>\n-\t\t\t<property name=\"product\"/>\n-\t\t\t<property name=\"serialNumber\"/>\n-\t\t\t<property name=\"sgtin\"/>\n-\t\t\t<property name=\"version\"/>\n-\t\t\t<property name=\"category\"/>\n-\t\t</properties>\n-\n-\t\t<config-description>\n-\t\t\t<parameter name=\"leakage_detection\" type=\"text\">\n-\t\t\t\t<label>Leakage Detection</label>\n-\t\t\t\t<options>\n-\t\t\t\t\t<option value=\"watering\">Watering</option>\n-\t\t\t\t\t<option value=\"washing_machine\">Washing machine</option>\n-\t\t\t\t\t<option value=\"domestic_water_supply\">Domestic water supply</option>\n-\t\t\t\t\t<option value=\"off\">Off</option>\n-\t\t\t\t</options>\n-\t\t\t</parameter>\n-\t\t\t<parameter name=\"operating_mode\" type=\"text\">\n-\t\t\t\t<label>Operating Mode</label>\n-\t\t\t\t<options>\n-\t\t\t\t\t<option value=\"scheduled\">Scheduled</option>\n-\t\t\t\t\t<option value=\"automatic\">Automatic</option>\n-\t\t\t\t</options>\n-\t\t\t</parameter>\n-\t\t\t<parameter name=\"turn_on_pressure\" type=\"text\">\n-\t\t\t\t<label>Turn On Pressure</label>\n-\t\t\t\t<options>\n-\t\t\t\t\t<option value=\"2.0\">2.0</option>\n-\t\t\t\t\t<option value=\"2.2\">2.2</option>\n-\t\t\t\t\t<option value=\"2.4\">2.4</option>\n-\t\t\t\t\t<option value=\"2.6\">2.6</option>\n-\t\t\t\t\t<option value=\"2.8\">2.8</option>\n-\t\t\t\t</options>\n-\t\t\t</parameter>\n-\t\t</config-description>\n-\t</thing-type>\n-\n-\t<channel-group-type id=\"outletTemperature\">\n-\t\t<label>Outlet Temperature</label>\n-\t\t<description>The outlet temperature</description>\n+\t<channel-group-type id=\"mowerCommands\">\n+\t\t<label>Mower Commands</label>\n+\t\t<description>Commands to control a mower</description>\n \t\t<channels>\n-\t\t\t<channel id=\"temperature\" typeId=\"temperature\"/>\n-\t\t\t<channel id=\"temperature_min\" typeId=\"temperatureMin\"/>\n-\t\t\t<channel id=\"temperature_max\" typeId=\"temperatureMax\"/>\n-\t\t\t<channel id=\"frost_warning\" typeId=\"frostWarning\"/>\n+\t\t\t<channel id=\"commandDuration\" typeId=\"mowerCommandDuration\">\n+\t\t\t\t<label>Mowing Duration</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"start_seconds_to_override\" typeId=\"gardenaCommand\">\n+\t\t\t\t<label>Start mowing with duration</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"start_dont_override\" typeId=\"gardenaCommand\">\n+\t\t\t\t<label>Start Schedule</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"park_until_next_task\" typeId=\"gardenaCommand\">\n+\t\t\t\t<label>Park</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"park_until_further_notice\" typeId=\"gardenaCommand\">\n+\t\t\t\t<label>Pause schedule</label>\n+\t\t\t</channel>\n \t\t</channels>\n \t</channel-group-type>\n \n-\t<channel-type id=\"temperatureMin\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Minimum Temperature</label>\n-\t\t<description>The minimum outlet temperature</description>\n-\t\t<state pattern=\"%d \u00b0C\" readOnly=\"true\"/>\n-\t</channel-type>\n-\n-\t<channel-type id=\"temperatureMax\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Maximum Temperature</label>\n-\t\t<description>The maximum outlet temperature</description>\n-\t\t<state pattern=\"%d \u00b0C\" readOnly=\"true\"/>\n-\t</channel-type>\n+\t<channel-group-type id=\"valveCommands\">\n+\t\t<label>Valve Commands</label>\n+\t\t<description>Commands to control a valve</description>\n+\t\t<channels>\n+\t\t\t<channel id=\"commandDuration\" typeId=\"valveCommandDuration\">\n+\t\t\t\t<label>Irrigation Duration</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"start_seconds_to_override\" typeId=\"gardenaCommand\">\n+\t\t\t\t<label>Open valve with duration</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"stop_until_next_task\" typeId=\"gardenaCommand\">\n+\t\t\t\t<label>Close valve, continue with the schedule</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"pause\" typeId=\"gardenaCommand\">\n+\t\t\t\t<label>Pause until specified time</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"unpause\" typeId=\"gardenaCommand\">\n+\t\t\t\t<label>Start schedule</label>\n+\t\t\t</channel>\n+\t\t</channels>\n+\t</channel-group-type>\n \n-\t<channel-group-type id=\"pump\">\n-\t\t<label>Pump</label>\n-\t\t<description>The pump</description>\n+\t<channel-group-type id=\"valveSetCommands\">\n+\t\t<label>Valve Set Commands</label>\n+\t\t<description>Commands to control a valve set</description>\n \t\t<channels>\n-\t\t\t<channel id=\"mode\" typeId=\"pumpMode\"/>\n-\t\t\t<channel id=\"pump_on_off\" typeId=\"pumpOnOff\"/>\n-\t\t\t<channel id=\"turn_on_pressure\" typeId=\"turnOnPressure\"/>\n-\t\t\t<channel id=\"operating_mode\" typeId=\"operatingMode\"/>\n-\t\t\t<channel id=\"error\" typeId=\"errorCounter\"/>\n-\t\t\t<channel id=\"operating_days\" typeId=\"operatingDays\"/>\n-\t\t\t<channel id=\"error1_count\" typeId=\"errorCounterOne\"/>\n-\t\t\t<channel id=\"error2_count\" typeId=\"errorCounterTwo\"/>\n-\t\t\t<channel id=\"error3_count\" typeId=\"errorCounterThree\"/>\n-\t\t\t<channel id=\"error4_count\" typeId=\"errorCounterFour\"/>\n+\t\t\t<channel id=\"stop_until_next_task\" typeId=\"gardenaCommand\">\n+\t\t\t\t<label>Close all valves</label>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODY1NzUzNA=="}, "originalCommit": {"oid": "eb02adf3ea4c748f4b3ec438ee5599ed52609bc3"}, "originalPosition": 909}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM4MTcxMTkwOnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.gardena/src/main/resources/OH-INF/thing/thing-types.xml", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxNzo1MTo0OFrOIBtLsg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxNzo1MTo0OFrOIBtLsg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODY1OTc2Mg==", "bodyText": "The unit depends on the user's settings, thanks to Units of Measure.\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\t<description>The temperature in degrees Celsius</description>\n          \n          \n            \n            \t\t<description>The temperature</description>", "url": "https://github.com/openhab/openhab-addons/pull/8869#discussion_r538659762", "createdAt": "2020-12-08T17:51:48Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.gardena/src/main/resources/OH-INF/thing/thing-types.xml", "diffHunk": "@@ -10,1162 +10,633 @@\n \t\t\t<bridge-type-ref id=\"account\"/>\n \t\t</supported-bridge-type-refs>\n \n-\t\t<label>Gardena Smart Sileno Mower</label>\n-\t\t<description>A Gardena Smart Sileno mower</description>\n+\t\t<label>Gardena smart SILENO Mower</label>\n+\t\t<description>Represents any Gardena smart SILENO mower model</description>\n \n \t\t<channel-groups>\n-\t\t\t<channel-group id=\"device_info\" typeId=\"deviceInfo\"/>\n-\t\t\t<channel-group id=\"battery\" typeId=\"rechargeableBattery\"/>\n-\t\t\t<channel-group id=\"radio\" typeId=\"radio\"/>\n-\t\t\t<channel-group id=\"mower\" typeId=\"mower\"/>\n-\t\t\t<channel-group id=\"mower_stats\" typeId=\"mowerStats\"/>\n-\t\t\t<channel-group id=\"firmware\" typeId=\"firmware\"/>\n+\t\t\t<channel-group id=\"common\" typeId=\"commonProperties\"/>\n+\t\t\t<channel-group id=\"mower\" typeId=\"mowerProperties\"/>\n+\t\t\t<channel-group id=\"mower_commands\" typeId=\"mowerCommands\"/>\n \t\t</channel-groups>\n \t\t<properties>\n-\t\t\t<!-- device info -->\n-\t\t\t<property name=\"manufacturer\"/>\n-\t\t\t<property name=\"product\"/>\n-\t\t\t<property name=\"serialNumber\"/>\n-\t\t\t<property name=\"sgtin\"/>\n-\t\t\t<property name=\"version\"/>\n-\t\t\t<property name=\"category\"/>\n+\t\t\t<!-- common -->\n+\t\t\t<property name=\"serial\"/>\n+\t\t\t<property name=\"modelType\"/>\n \t\t</properties>\n \t</thing-type>\n \n-\t<channel-group-type id=\"deviceInfo\">\n-\t\t<label>Device Info</label>\n-\t\t<description>Information about the device</description>\n-\t\t<channels>\n-\t\t\t<channel id=\"last_time_online\" typeId=\"lastTimeOnline\"/>\n-\t\t</channels>\n-\t</channel-group-type>\n-\n-\t<channel-group-type id=\"rechargeableBattery\">\n-\t\t<label>Battery Info</label>\n-\t\t<description>Information about the rechargeable battery</description>\n-\t\t<channels>\n-\t\t\t<channel id=\"level\" typeId=\"system.battery-level\"/>\n-\t\t\t<channel id=\"charging\" typeId=\"charging\"/>\n-\t\t</channels>\n-\t</channel-group-type>\n-\n-\t<channel-group-type id=\"radio\">\n-\t\t<label>Radio Link</label>\n-\t\t<description>Information about the radio link</description>\n-\t\t<channels>\n-\t\t\t<channel id=\"quality\" typeId=\"radioQuality\"/>\n-\t\t\t<channel id=\"state\" typeId=\"system.signal-strength\"/>\n-\t\t</channels>\n-\t</channel-group-type>\n-\n-\t<channel-group-type id=\"mower\">\n-\t\t<label>Robotic Mower</label>\n-\t\t<description>Information about the robotic mower</description>\n-\t\t<channels>\n-\t\t\t<channel id=\"manual_operation\" typeId=\"manualOperation\"/>\n-\t\t\t<channel id=\"status\" typeId=\"status\"/>\n-\t\t\t<channel id=\"error\" typeId=\"error\"/>\n-\t\t\t<channel id=\"source_for_next_start\" typeId=\"sourceForNextStart\"/>\n-\t\t\t<channel id=\"timestamp_next_start\" typeId=\"timestampNextStart\"/>\n-\t\t\t<channel id=\"override_end_time\" typeId=\"overrideEndTime\"/>\n-\t\t\t<channel id=\"park_until_further_notice\" typeId=\"parkUntilFurtherNotice\"/>\n-\t\t\t<channel id=\"park_until_next_timer\" typeId=\"parkUntilNextTimer\"/>\n-\t\t\t<channel id=\"start_override_timer\" typeId=\"startOverrideTimer\"/>\n-\t\t\t<channel id=\"start_resume_schedule\" typeId=\"startResumeSchedule\"/>\n-\t\t\t<channel id=\"duration_property\" typeId=\"mowerDurationProperty\"/>\n-\t\t</channels>\n-\t</channel-group-type>\n-\n-\t<channel-type id=\"mowerDurationProperty\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Mowing Time</label>\n-\t\t<description>Mowing time in minutes</description>\n-\t\t<state pattern=\"%d min\" min=\"1\" max=\"1440\" step=\"1\"/>\n-\t</channel-type>\n-\n-\t<channel-type id=\"parkUntilFurtherNotice\">\n-\t\t<item-type>Switch</item-type>\n-\t\t<label>Park and Pause All Timers</label>\n-\t\t<description>Park and pause all timers</description>\n-\t</channel-type>\n-\n-\t<channel-type id=\"parkUntilNextTimer\">\n-\t\t<item-type>Switch</item-type>\n-\t\t<label>Park Until Next Timer</label>\n-\t\t<description>Park until next timer</description>\n-\t</channel-type>\n-\n-\t<channel-type id=\"startResumeSchedule\">\n-\t\t<item-type>Switch</item-type>\n-\t\t<label>Start Resume Schedule</label>\n-\t\t<description>Start resume schedule</description>\n-\t</channel-type>\n-\n-\t<channel-type id=\"startOverrideTimer\">\n-\t\t<item-type>Switch</item-type>\n-\t\t<label>Override Timer</label>\n-\t\t<description>Starts the mower for the specified duration</description>\n-\t</channel-type>\n-\n-\t<channel-type id=\"lastTimeOnline\" advanced=\"true\">\n-\t\t<item-type>DateTime</item-type>\n-\t\t<label>Last Time Online</label>\n-\t\t<description>Last time the device was online</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n-\n-\t<channel-type id=\"charging\" advanced=\"true\">\n-\t\t<item-type>Switch</item-type>\n-\t\t<label>Battery Charging</label>\n-\t\t<description>Battery Charging</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t<!-- ############################### Watering Computer ############################### -->\n \n-\t<channel-type id=\"radioQuality\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Radio Link Quality</label>\n-\t\t<description>Radio Link Quality</description>\n-\t\t<state pattern=\"%d %%\" readOnly=\"true\"/>\n-\t</channel-type>\n+\t<thing-type id=\"water_control\">\n+\t\t<supported-bridge-type-refs>\n+\t\t\t<bridge-type-ref id=\"account\"/>\n+\t\t</supported-bridge-type-refs>\n \n-\t<channel-type id=\"manualOperation\" advanced=\"true\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Manual Operation</label>\n-\t\t<description>The mower is controlled manually</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t\t<label>Gardena smart Water Control</label>\n+\t\t<description>Represents a Gardena smart Water Control</description>\n \n-\t<channel-type id=\"status\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Mower Status</label>\n-\t\t<description>The mower status</description>\n-\t\t<state readOnly=\"true\">\n-\t\t\t<options>\n-\t\t\t\t<option value=\"uninitialised\">Uninitialised</option>\n-\t\t\t\t<option value=\"paused\">Paused</option>\n-\t\t\t\t<option value=\"ok_cutting\">Mowing</option>\n-\t\t\t\t<option value=\"ok_searching\">Searching charging station</option>\n-\t\t\t\t<option value=\"ok_charging\">Charging</option>\n-\t\t\t\t<option value=\"ok_leaving\">Mowing</option>\n-\t\t\t\t<option value=\"wait_updating\">Updating ...</option>\n-\t\t\t\t<option value=\"wait_power_up\">Powering up ...</option>\n-\t\t\t\t<option value=\"parked_timer\">Parked on schedule</option>\n-\t\t\t\t<option value=\"parked_park_selected\">Parked</option>\n-\t\t\t\t<option value=\"off_disabled\">The mower is turned off</option>\n-\t\t\t\t<option value=\"off_hatch_open\">Disabled. Hatch open</option>\n-\t\t\t\t<option value=\"unknown\">Unknown</option>\n-\t\t\t\t<option value=\"error\">Error</option>\n-\t\t\t\t<option value=\"error_at_power_up\">Error</option>\n-\t\t\t\t<option value=\"off_hatch_closed\">Disabled. Manual start needed</option>\n-\t\t\t\t<option value=\"ok_cutting_timer_overridden\">Manual mowing</option>\n-\t\t\t\t<option value=\"parked_autotimer\">Parked due to SensorControl</option>\n-\t\t\t\t<option value=\"parked_daily_limit_reached\">Completed</option>\n-\t\t\t\t<option value=\"undefined\">Undefined</option>\n-\t\t\t</options>\n-\t\t</state>\n-\t</channel-type>\n-\n-\t<channel-type id=\"error\" advanced=\"true\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Mower Error</label>\n-\t\t<description>Mower Error</description>\n-\t\t<state readOnly=\"true\">\n-\t\t\t<options>\n-\t\t\t\t<option value=\"no_message\">No message</option>\n-\t\t\t\t<option value=\"outside_working_area\">Outside working area</option>\n-\t\t\t\t<option value=\"no_loop_signal\">No loop signal</option>\n-\t\t\t\t<option value=\"wrong_loop_signal\">Wrong loop signal</option>\n-\t\t\t\t<option value=\"loop_sensor_problem_front\">Loop sensor problem, front</option>\n-\t\t\t\t<option value=\"loop_sensor_problem_rear\">Loop sensor problem, rear</option>\n-\t\t\t\t<option value=\"loop_sensor_problem_left\">Loop sensor problem, left</option>\n-\t\t\t\t<option value=\"loop_sensor_problem_right\">Loop sensor problem, right</option>\n-\t\t\t\t<option value=\"wrong_pin_code\">Wrong pin code</option>\n-\t\t\t\t<option value=\"trapped\">Trapped</option>\n-\t\t\t\t<option value=\"upside_down\">Upside down</option>\n-\t\t\t\t<option value=\"low_battery\">Low battery</option>\n-\t\t\t\t<option value=\"empty_battery\">Empty battery</option>\n-\t\t\t\t<option value=\"no_drive\">Disabled. Hatch open</option>\n-\t\t\t\t<option value=\"temporarily_lifted\">Temporary lifted</option>\n-\t\t\t\t<option value=\"lifted\">Lifted</option>\n-\t\t\t\t<option value=\"stuck_in_charging_station\">Stuck in charging station</option>\n-\t\t\t\t<option value=\"charging_station_blocked\">Charging station blocked</option>\n-\t\t\t\t<option value=\"collision_sensor_problem_rear\">Collision sensor problem, rear</option>\n-\t\t\t\t<option value=\"collision_sensor_problem_front\">Collision sensor problem, front</option>\n-\t\t\t\t<option value=\"wheel_motor_blocked_right\">Wheel motor blocked, right</option>\n-\t\t\t\t<option value=\"wheel_motor_blocked_left\">Wheel motor blocked, left</option>\n-\t\t\t\t<option value=\"wheel_drive_problem_right\">Wheel drive problem, right</option>\n-\t\t\t\t<option value=\"wheel_drive_problem_left\">Wheel drive problem, left</option>\n-\t\t\t\t<option value=\"cutting_motor_drive_defect\">Cutting motor drive defect</option>\n-\t\t\t\t<option value=\"cutting_system_blocked\">Cutting system blocked</option>\n-\t\t\t\t<option value=\"invalid_sub_device_combination\">Invalid sub-device combination</option>\n-\t\t\t\t<option value=\"settings_restored\">Settings restored</option>\n-\t\t\t\t<option value=\"memory_circuit_problem\">Memory circuit problem</option>\n-\t\t\t\t<option value=\"slope_too_steep\">Slope too steep</option>\n-\t\t\t\t<option value=\"charging_system_problem\">Charging system problem</option>\n-\t\t\t\t<option value=\"stop_button_problem\">Stop button problem</option>\n-\t\t\t\t<option value=\"tilt_sensor_problem\">Tilt sensor problem</option>\n-\t\t\t\t<option value=\"mower_tilted\">Mower tilted</option>\n-\t\t\t\t<option value=\"wheel_motor_overloaded_right\">Wheel motor overloaded, right</option>\n-\t\t\t\t<option value=\"wheel_motor_overloaded_left\">Wheel motor overloaded, left</option>\n-\t\t\t\t<option value=\"charging_current_too_high\">Charging current too high</option>\n-\t\t\t\t<option value=\"electronic_problem\">Electronic problem</option>\n-\t\t\t\t<option value=\"cutting_motor_problem\">Cutting motor problem</option>\n-\t\t\t\t<option value=\"limited_cutting_height_range\">Limited cutting height range</option>\n-\t\t\t\t<option value=\"unexpected_cutting_height_adj\">Unexpected cutting height adj</option>\n-\t\t\t\t<option value=\"cutting_height_problem_drive\">Cutting height problem drive</option>\n-\t\t\t\t<option value=\"cutting_height_problem_curr\">Cutting height problem curr</option>\n-\t\t\t\t<option value=\"cutting_height_problem_dir\">Cutting height problem dir</option>\n-\t\t\t\t<option value=\"cutting_height_blocked\">Cutting height blocked</option>\n-\t\t\t\t<option value=\"cutting_height_problem\">Cutting height problem</option>\n-\t\t\t\t<option value=\"no_response_from_charger\">No response from charger</option>\n-\t\t\t\t<option value=\"ultrasonic_problem\">Ultrasonic problem</option>\n-\t\t\t\t<option value=\"temporary_problem\">Temporary problem</option>\n-\t\t\t\t<option value=\"guide_1_not_found\">Guide 1 not found</option>\n-\t\t\t\t<option value=\"guide_2_not_found\">Guide 2 not found</option>\n-\t\t\t\t<option value=\"guide_3_not_found\">Guide 3 not found</option>\n-\t\t\t\t<option value=\"gps_tracker_module_error\">GPS tracker module error</option>\n-\t\t\t\t<option value=\"weak_gps_signal\">Weak gps signal</option>\n-\t\t\t\t<option value=\"difficult_finding_home\">Difficult finding home</option>\n-\t\t\t\t<option value=\"guide_calibration_accomplished\">Guide calibration accomplished</option>\n-\t\t\t\t<option value=\"guide_calibration_failed\">Guide calibration failed</option>\n-\t\t\t\t<option value=\"temporary_battery_problem\">Temporary battery problem</option>\n-\t\t\t\t<option value=\"battery_problem\">Battery problem</option>\n-\t\t\t\t<option value=\"too_many_batteries\">Too many batteries</option>\n-\t\t\t\t<option value=\"alarm_mower_switched_off\">Alarm! Mower switched off</option>\n-\t\t\t\t<option value=\"alarm_mower_stopped\">Alarm! Mower stopped</option>\n-\t\t\t\t<option value=\"alarm_mower_lifted\">Alarm! Mower lifted</option>\n-\t\t\t\t<option value=\"alarm_mower_tilted\">Alarm! Mower tilted</option>\n-\t\t\t\t<option value=\"alarm_mower_in_motion\">Alarm! Mower in motion</option>\n-\t\t\t\t<option value=\"alarm_outside_geofence\">Alarm outside geofence</option>\n-\t\t\t\t<option value=\"connection_changed\">Connection changed</option>\n-\t\t\t\t<option value=\"connection_not_changed\">Connection not changed</option>\n-\t\t\t\t<option value=\"com_board_not_available\">COM board not available</option>\n-\t\t\t\t<option value=\"slipped\">Slipped</option>\n-\t\t\t\t<option value=\"invalid_battery_combination\">Invalid battery combination</option>\n-\t\t\t\t<option value=\"imbalanced_cutting_disc\">Imbalanced cutting disc</option>\n-\t\t\t\t<option value=\"safety_function_faulty\">Safety function faulty</option>\n-\t\t\t</options>\n-\t\t</state>\n-\t</channel-type>\n+\t\t<channel-groups>\n+\t\t\t<channel-group id=\"common\" typeId=\"commonProperties\"/>\n+\t\t\t<channel-group id=\"valve\" typeId=\"valveProperties\"/>\n+\t\t\t<channel-group id=\"valve_commands\" typeId=\"valveCommands\"/>\n+\t\t\t<channel-group id=\"valveSet\" typeId=\"valveSetProperties\"/>\n+\t\t\t<channel-group id=\"valveSet_commands\" typeId=\"valveSetCommands\"/>\n+\t\t</channel-groups>\n+\t\t<properties>\n+\t\t\t<!-- common -->\n+\t\t\t<property name=\"serial\"/>\n+\t\t\t<property name=\"modelType\"/>\n+\t\t</properties>\n+\t</thing-type>\n \n-\t<channel-type id=\"sourceForNextStart\" advanced=\"true\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Source for Next Start</label>\n-\t\t<description>The source for the next start</description>\n-\t\t<state readOnly=\"true\">\n-\t\t\t<options>\n-\t\t\t\t<option value=\"no_source\">No source</option>\n-\t\t\t\t<option value=\"completed_cutting_daily_limit\">Completed cutting daily limit</option>\n-\t\t\t\t<option value=\"week_timer\">Week timer</option>\n-\t\t\t\t<option value=\"countdown_timer\">Countdown timer</option>\n-\t\t\t\t<option value=\"mower_charging\">Mower charging</option>\n-\t\t\t\t<option value=\"completed_cutting_autotimer\">Completed cutting autotimer</option>\n-\t\t\t\t<option value=\"undefined\">Undefined</option>\n-\t\t\t</options>\n-\t\t</state>\n-\t</channel-type>\n+\t<!-- ############################### Sensor ############################### -->\n \n-\t<channel-type id=\"timestampNextStart\">\n-\t\t<item-type>DateTime</item-type>\n-\t\t<label>Timestamp Next Start</label>\n-\t\t<description>Timestamp of the next start</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t<thing-type id=\"sensor\">\n+\t\t<supported-bridge-type-refs>\n+\t\t\t<bridge-type-ref id=\"account\"/>\n+\t\t</supported-bridge-type-refs>\n \n-\t<channel-type id=\"overrideEndTime\" advanced=\"true\">\n-\t\t<item-type>DateTime</item-type>\n-\t\t<label>Override End Time</label>\n-\t\t<description>Override End Time</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t\t<label>Gardena smart Sensor</label>\n+\t\t<description>Represents a Gardena smart Sensor</description>\n \n-\t<channel-type id=\"temperature\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Temperature</label>\n-\t\t<description>Temperature</description>\n-\t\t<state pattern=\"%d \u00b0C\" readOnly=\"true\"/>\n-\t</channel-type>\n+\t\t<channel-groups>\n+\t\t\t<channel-group id=\"common\" typeId=\"commonProperties\"/>\n+\t\t\t<channel-group id=\"sensor\" typeId=\"sensorProperties\"/>\n+\t\t</channel-groups>\n+\t\t<properties>\n+\t\t\t<!-- common -->\n+\t\t\t<property name=\"serial\"/>\n+\t\t\t<property name=\"modelType\"/>\n+\t\t</properties>\n+\t</thing-type>\n \n-\t<channel-group-type id=\"firmware\">\n-\t\t<label>Firmware</label>\n-\t\t<description>Information about the firmware</description>\n-\t\t<channels>\n-\t\t\t<channel id=\"firmware_status\" typeId=\"firmwareStatus\"/>\n-\t\t\t<channel id=\"firmware_upload_progress\" typeId=\"firmwareUploadProgress\"/>\n-\t\t\t<channel id=\"firmware_available_version\" typeId=\"firmwareAvailableVersion\"/>\n-\t\t</channels>\n-\t</channel-group-type>\n+\t<!-- ############################### Pressure Pump ############################### -->\n \n-\t<channel-type id=\"firmwareStatus\" advanced=\"true\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Status</label>\n-\t\t<description>The firmware status</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t<thing-type id=\"pump\">\n+\t\t<supported-bridge-type-refs>\n+\t\t\t<bridge-type-ref id=\"account\"/>\n+\t\t</supported-bridge-type-refs>\n \n-\t<channel-type id=\"firmwareUploadProgress\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Upload Progress</label>\n-\t\t<description>Firmware upload in progress</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t\t<label>Gardena smart Pressure Pump</label>\n+\t\t<description>Represents a Gardena smart Pressure Pump</description>\n \n-\t<channel-type id=\"firmwareAvailableVersion\" advanced=\"true\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Available Version</label>\n-\t\t<description>Available firmware version</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t\t<channel-groups>\n+\t\t\t<channel-group id=\"common\" typeId=\"commonProperties\"/>\n+\t\t\t<channel-group id=\"valve\" typeId=\"valveProperties\"/>\n+\t\t\t<channel-group id=\"valve_commands\" typeId=\"valveCommands\"/>\n+\t\t</channel-groups>\n+\t\t<properties>\n+\t\t\t<!-- common -->\n+\t\t\t<property name=\"serial\"/>\n+\t\t\t<property name=\"modelType\"/>\n+\t\t</properties>\n+\t</thing-type>\n \n-\t<channel-group-type id=\"mowerStats\">\n-\t\t<label>Robotic Mower Statistics</label>\n-\t\t<description>Statistics about the robotic mower</description>\n-\t\t<channels>\n-\t\t\t<channel id=\"cutting_time\" typeId=\"cuttingTime\"/>\n-\t\t\t<channel id=\"charging_cycles\" typeId=\"chargingCycles\"/>\n-\t\t\t<channel id=\"collisions\" typeId=\"collisions\"/>\n-\t\t\t<channel id=\"running_time\" typeId=\"runningTime\"/>\n-\t\t</channels>\n-\t</channel-group-type>\n+\t<!-- ############################### Power ############################### -->\n \n-\t<channel-type id=\"cuttingTime\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Cutting Time</label>\n-\t\t<description>The cutting time</description>\n-\t\t<state readOnly=\"true\" pattern=\"%d h\"/>\n-\t</channel-type>\n+\t<thing-type id=\"power\">\n+\t\t<supported-bridge-type-refs>\n+\t\t\t<bridge-type-ref id=\"account\"/>\n+\t\t</supported-bridge-type-refs>\n \n-\t<channel-type id=\"chargingCycles\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Charging Cycles</label>\n-\t\t<description>The charging cycles</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t\t<label>Gardena smart Power Adapter</label>\n+\t\t<description>Represents a Gardena smart Power Adapter</description>\n \n-\t<channel-type id=\"collisions\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Collisions</label>\n-\t\t<description>The number of collisions</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t\t<channel-groups>\n+\t\t\t<channel-group id=\"common\" typeId=\"commonProperties\"/>\n+\t\t\t<channel-group id=\"powerSocket\" typeId=\"powerSocketProperties\"/>\n+\t\t\t<channel-group id=\"powerSocket_commands\" typeId=\"powerSocketCommands\"/>\n+\t\t</channel-groups>\n+\t\t<properties>\n+\t\t\t<!-- common -->\n+\t\t\t<property name=\"serial\"/>\n+\t\t\t<property name=\"modelType\"/>\n+\t\t</properties>\n+\t</thing-type>\n \n-\t<channel-type id=\"runningTime\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Running Time</label>\n-\t\t<description>Running time</description>\n-\t\t<state readOnly=\"true\" pattern=\"%d h\"/>\n-\t</channel-type>\n+\t<!-- ############################### Irrigation Control ############################### -->\n \n-\t<!-- ############################### Watering Computer ############################### -->\n-\t<thing-type id=\"watering_computer\">\n+\t<thing-type id=\"irrigation_control\">\n \t\t<supported-bridge-type-refs>\n \t\t\t<bridge-type-ref id=\"account\"/>\n \t\t</supported-bridge-type-refs>\n \n-\t\t<label>Gardena Smart Watering Computer</label>\n-\t\t<description>Represents a Gardena Smart Watering Computer</description>\n+\t\t<label>Gardena smart Irrigation Control</label>\n+\t\t<description>Represents a Gardena smart Irrigation Control</description>\n \n \t\t<channel-groups>\n-\t\t\t<channel-group id=\"device_info\" typeId=\"deviceInfo\"/>\n-\t\t\t<channel-group id=\"battery\" typeId=\"battery\"/>\n-\t\t\t<channel-group id=\"radio\" typeId=\"radio\"/>\n-\t\t\t<channel-group id=\"outlet\" typeId=\"outlet\"/>\n-\t\t\t<channel-group id=\"ambient_temperature\" typeId=\"ambientTemperature\"/>\n+\t\t\t<channel-group id=\"common\" typeId=\"commonProperties\"/>\n+\t\t\t<channel-group id=\"valveOne\" typeId=\"valveProperties\">\n+\t\t\t\t<label>Valve 1 properties</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveOne_commands\" typeId=\"valveCommands\">\n+\t\t\t\t<label>Valve 1 commands</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveTwo\" typeId=\"valveProperties\">\n+\t\t\t\t<label>Valve 2 properties</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveTwo_commands\" typeId=\"valveCommands\">\n+\t\t\t\t<label>Valve 2 commands</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveThree\" typeId=\"valveProperties\">\n+\t\t\t\t<label>Valve 3 properties</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveThree_commands\" typeId=\"valveCommands\">\n+\t\t\t\t<label>Valve 3 commands</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveFour\" typeId=\"valveProperties\">\n+\t\t\t\t<label>Valve 4 properties</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveFour_commands\" typeId=\"valveCommands\">\n+\t\t\t\t<label>Valve 4 Commands</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveFive\" typeId=\"valveProperties\">\n+\t\t\t\t<label>Valve 5 Properties</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveFive_commands\" typeId=\"valveCommands\">\n+\t\t\t\t<label>Valve 5 Commands</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveSix\" typeId=\"valveProperties\">\n+\t\t\t\t<label>Valve 6 Properties</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveSix_commands\" typeId=\"valveCommands\">\n+\t\t\t\t<label>Valve 6 Commands</label>\n+\t\t\t</channel-group>\n+\t\t\t<channel-group id=\"valveSet\" typeId=\"valveSetProperties\"/>\n+\t\t\t<channel-group id=\"valveSet_commands\" typeId=\"valveSetCommands\"/>\n \t\t</channel-groups>\n \t\t<properties>\n-\t\t\t<!-- device info -->\n-\t\t\t<property name=\"manufacturer\"/>\n-\t\t\t<property name=\"product\"/>\n-\t\t\t<property name=\"serialNumber\"/>\n-\t\t\t<property name=\"sgtin\"/>\n-\t\t\t<property name=\"version\"/>\n-\t\t\t<property name=\"category\"/>\n+\t\t\t<!-- common -->\n+\t\t\t<property name=\"serial\"/>\n+\t\t\t<property name=\"modelType\"/>\n \t\t</properties>\n \t</thing-type>\n \n-\t<channel-group-type id=\"battery\">\n-\t\t<label>Battery Info</label>\n-\t\t<description>Information about the battery</description>\n+\t<!-- ############################### channels and groups ############################### -->\n+\n+\t<channel-group-type id=\"valveSetProperties\">\n+\t\t<label>Valve Set Properties</label>\n+\t\t<description>Properties of a valve set</description>\n \t\t<channels>\n-\t\t\t<channel id=\"level\" typeId=\"system.battery-level\"/>\n-\t\t\t<channel id=\"disposable_battery_status\" typeId=\"disposableBatteryStatus\"/>\n+\t\t\t<channel id=\"state\" typeId=\"state\"/>\n+\t\t\t<channel id=\"state_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>State Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"lastErrorCode\" typeId=\"lastErrorCode\"/>\n+\t\t\t<channel id=\"lastErrorCode_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Last Error Code Timestamp</label>\n+\t\t\t</channel>\n \t\t</channels>\n \t</channel-group-type>\n \n-\t<channel-group-type id=\"outlet\">\n-\t\t<label>Watering Outlet</label>\n-\t\t<description>Information about the watering outlet</description>\n+\t<channel-group-type id=\"valveProperties\">\n+\t\t<label>Valve Properties</label>\n+\t\t<description>Properties of a valve</description>\n \t\t<channels>\n-\t\t\t<channel id=\"valve_open\" typeId=\"valveOpen\"/>\n-\t\t\t<channel id=\"manual_override\" typeId=\"manualOverride\"/>\n-\t\t\t<channel id=\"button_manual_override_time\" typeId=\"buttonManualOverrideTime\"/>\n+\t\t\t<channel id=\"name\" typeId=\"name\"/>\n+\t\t\t<channel id=\"state\" typeId=\"state\"/>\n+\t\t\t<channel id=\"state_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>State Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"activity\" typeId=\"activity\"/>\n+\t\t\t<channel id=\"activity_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Activity Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"lastErrorCode\" typeId=\"lastErrorCode\"/>\n+\t\t\t<channel id=\"lastErrorCode_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Last Error Code Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"duration\" typeId=\"duration\"/>\n \t\t</channels>\n \t</channel-group-type>\n \n-\t<channel-group-type id=\"ambientTemperature\">\n-\t\t<label>Ambient Temperature</label>\n-\t\t<description>Ambient Temperature</description>\n+\t<channel-group-type id=\"sensorProperties\">\n+\t\t<label>Sensor Properties</label>\n+\t\t<description>Properties of a sensor</description>\n \t\t<channels>\n-\t\t\t<channel id=\"temperature\" typeId=\"temperature\">\n+\t\t\t<channel id=\"soilHumidity\" typeId=\"soilHumidity\"/>\n+\t\t\t<channel id=\"soilHumidity_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Soil Humidity Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"soilTemperature\" typeId=\"temperature\">\n+\t\t\t\t<label>Soil Temperature</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"soilTemperature_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Soil Temperature Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"ambientTemperature\" typeId=\"temperature\">\n \t\t\t\t<label>Ambient Temperature</label>\n \t\t\t</channel>\n-\t\t\t<channel id=\"frost_warning\" typeId=\"frostWarning\"/>\n+\t\t\t<channel id=\"ambientTemperature_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Ambient Temperature Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"lightIntensity\" typeId=\"lightIntensity\"/>\n+\t\t\t<channel id=\"lightIntensity_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Light Intensity Timestamp</label>\n+\t\t\t</channel>\n \t\t</channels>\n \t</channel-group-type>\n \n-\t<channel-type id=\"disposableBatteryStatus\" advanced=\"true\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Disposable Battery Status</label>\n-\t\t<description>The status of the disposable battery</description>\n-\t\t<state readOnly=\"true\">\n-\t\t\t<options>\n-\t\t\t\t<option value=\"out_of_operation\">Out of operation</option>\n-\t\t\t\t<option value=\"replace_now\">Critical battery level, replace now</option>\n-\t\t\t\t<option value=\"low\">Low</option>\n-\t\t\t\t<option value=\"ok\">OK</option>\n-\t\t\t\t<option value=\"undefined\">Undefined</option>\n-\t\t\t</options>\n-\t\t</state>\n-\t</channel-type>\n-\n-\t<channel-type id=\"valveOpen\">\n-\t\t<item-type>Switch</item-type>\n-\t\t<label>Valve Open</label>\n-\t\t<description>Valve Open</description>\n-\t</channel-type>\n-\n-\t<channel-type id=\"manualOverride\" advanced=\"true\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Manual Override</label>\n-\t\t<description>Manual Override</description>\n-\t\t<state readOnly=\"true\">\n-\t\t\t<options>\n-\t\t\t\t<option value=\"inactive\">Inactive</option>\n-\t\t\t\t<option value=\"open\">Open</option>\n-\t\t\t\t<option value=\"undefined\">Undefined</option>\n-\t\t\t</options>\n-\t\t</state>\n-\t</channel-type>\n-\n-\t<channel-type id=\"buttonManualOverrideTime\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Button Manual Override</label>\n-\t\t<description>The time the valve is open when you press the button on the device</description>\n-\t\t<state pattern=\"%d min\" min=\"1\" max=\"59\" step=\"1\"/>\n-\t</channel-type>\n-\n-\t<channel-type id=\"frostWarning\" advanced=\"true\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Frost Warning</label>\n-\t\t<description>Frost Warning</description>\n-\t\t<state readOnly=\"true\">\n-\t\t\t<options>\n-\t\t\t\t<option value=\"no_frost\">No frost</option>\n-\t\t\t\t<option value=\"frost\">Frost</option>\n-\t\t\t\t<option value=\"undefined\">Undefined</option>\n-\t\t\t</options>\n-\t\t</state>\n-\t</channel-type>\n-\n-\t<!-- ############################### Sensor ############################### -->\n-\t<thing-type id=\"sensor\">\n-\t\t<supported-bridge-type-refs>\n-\t\t\t<bridge-type-ref id=\"account\"/>\n-\t\t</supported-bridge-type-refs>\n-\n-\t\t<label>Gardena Smart Sensor</label>\n-\t\t<description>Represents a Gardena Smart Sensor</description>\n-\n-\t\t<channel-groups>\n-\t\t\t<channel-group id=\"device_info\" typeId=\"deviceInfo\"/>\n-\t\t\t<channel-group id=\"battery\" typeId=\"battery\"/>\n-\t\t\t<channel-group id=\"radio\" typeId=\"radio\"/>\n-\t\t\t<channel-group id=\"ambient_temperature\" typeId=\"ambientTemperature\"/>\n-\t\t\t<channel-group id=\"soil_temperature\" typeId=\"soilTemperature\"/>\n-\t\t\t<channel-group id=\"humidity\" typeId=\"humidity\"/>\n-\t\t\t<channel-group id=\"light\" typeId=\"light\"/>\n-\t\t</channel-groups>\n-\t\t<properties>\n-\t\t\t<!-- device info -->\n-\t\t\t<property name=\"manufacturer\"/>\n-\t\t\t<property name=\"product\"/>\n-\t\t\t<property name=\"serialNumber\"/>\n-\t\t\t<property name=\"sgtin\"/>\n-\t\t\t<property name=\"version\"/>\n-\t\t\t<property name=\"category\"/>\n-\t\t</properties>\n-\t</thing-type>\n-\n-\t<channel-group-type id=\"soilTemperature\">\n-\t\t<label>Soil Temperature</label>\n-\t\t<description>The soil temperature</description>\n+\t<channel-group-type id=\"powerSocketProperties\">\n+\t\t<label>Power Socket Properties</label>\n+\t\t<description>Properties of a power socket</description>\n \t\t<channels>\n-\t\t\t<channel id=\"temperature\" typeId=\"temperature\">\n-\t\t\t\t<label>Soil Temperature</label>\n+\t\t\t<channel id=\"state\" typeId=\"state\"/>\n+\t\t\t<channel id=\"state_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>State Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"activity\" typeId=\"activity\"/>\n+\t\t\t<channel id=\"activity_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Activity Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"lastErrorCode\" typeId=\"lastErrorCode\"/>\n+\t\t\t<channel id=\"lastErrorCode_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Last Error Code Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"duration\" typeId=\"duration\"/>\n+\t\t\t<channel id=\"duration_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Duration Timestamp</label>\n \t\t\t</channel>\n \t\t</channels>\n \t</channel-group-type>\n \n-\t<channel-group-type id=\"humidity\">\n-\t\t<label>Humidity</label>\n-\t\t<description>The humidity</description>\n+\t<channel-group-type id=\"mowerProperties\">\n+\t\t<label>Mower Properties</label>\n+\t\t<description>Properties of a mower</description>\n \t\t<channels>\n-\t\t\t<channel id=\"humidity\" typeId=\"humidity\"/>\n+\t\t\t<channel id=\"state\" typeId=\"state\"/>\n+\t\t\t<channel id=\"state_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>State Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"activity\" typeId=\"activity\"/>\n+\t\t\t<channel id=\"activity_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Activity Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"lastErrorCode\" typeId=\"lastErrorCode\"/>\n+\t\t\t<channel id=\"lastErrorCode_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Last Error Code Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"operatingHours\" typeId=\"operatingHours\"/>\n \t\t</channels>\n \t</channel-group-type>\n \n-\t<channel-group-type id=\"light\">\n-\t\t<label>Brightness</label>\n-\t\t<description>The brightness</description>\n+\t<channel-group-type id=\"commonProperties\">\n+\t\t<label>Common Properties</label>\n+\t\t<description>Properties that are common across devices</description>\n \t\t<channels>\n-\t\t\t<channel id=\"light\" typeId=\"light\"/>\n+\t\t\t<channel id=\"name\" typeId=\"name\"/>\n+\t\t\t<channel id=\"batteryLevel\" typeId=\"system.battery-level\"/>\n+\t\t\t<channel id=\"batteryLevel_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Battery Level Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"batteryState\" typeId=\"batteryState\"/>\n+\t\t\t<channel id=\"batteryState_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>Battery State Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"rfLinkLevel\" typeId=\"system.signal-strength\"/>\n+\t\t\t<channel id=\"rfLinkLevel_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>RF Link Level Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"rfLinkState\" typeId=\"rfLinkState\"/>\n+\t\t\t<channel id=\"rfLinkState_timestamp\" typeId=\"timestamp\">\n+\t\t\t\t<label>RF Link State Timestamp</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"lastUpdate_timestamp\" typeId=\"timestampRefresh\">\n+\t\t\t\t<label>LastUpdate Timestamp</label>\n+\t\t\t</channel>\n \t\t</channels>\n \t</channel-group-type>\n \n-\t<channel-type id=\"humidity\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Humidity</label>\n-\t\t<description>The humidity</description>\n-\t\t<state pattern=\"%d %%\" readOnly=\"true\"/>\n-\t</channel-type>\n-\n-\t<channel-type id=\"light\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Brightness</label>\n-\t\t<description>The brightness</description>\n-\t\t<state pattern=\"%d lx\" readOnly=\"true\"/>\n-\t</channel-type>\n-\n-\t<!-- ############################### Pressure Pump ############################### -->\n-\n-\t<thing-type id=\"electronic_pressure_pump\">\n-\t\t<supported-bridge-type-refs>\n-\t\t\t<bridge-type-ref id=\"account\"/>\n-\t\t</supported-bridge-type-refs>\n-\n-\t\t<label>Gardena Smart Pressure Pump</label>\n-\t\t<description>Represents a Gardena Smart Pressure Pump</description>\n-\n-\t\t<channel-groups>\n-\t\t\t<channel-group id=\"device_info\" typeId=\"deviceInfo\"/>\n-\t\t\t<channel-group id=\"radio\" typeId=\"radio\"/>\n-\n-\t\t\t<channel-group id=\"outlet_temperature\" typeId=\"outletTemperature\"/>\n-\t\t\t<channel-group id=\"pump\" typeId=\"pump\"/>\n-\t\t\t<channel-group id=\"outlet_pressure\" typeId=\"outletPressure\"/>\n-\t\t\t<channel-group id=\"flow\" typeId=\"flow\"/>\n-\t\t\t<channel-group id=\"manual_watering\" typeId=\"manualWatering\"/>\n-\t\t\t<channel-group id=\"scheduling\" typeId=\"scheduling\"/>\n-\t\t</channel-groups>\n-\n-\t\t<properties>\n-\t\t\t<!-- device info -->\n-\t\t\t<property name=\"manufacturer\"/>\n-\t\t\t<property name=\"product\"/>\n-\t\t\t<property name=\"serialNumber\"/>\n-\t\t\t<property name=\"sgtin\"/>\n-\t\t\t<property name=\"version\"/>\n-\t\t\t<property name=\"category\"/>\n-\t\t</properties>\n-\n-\t\t<config-description>\n-\t\t\t<parameter name=\"leakage_detection\" type=\"text\">\n-\t\t\t\t<label>Leakage Detection</label>\n-\t\t\t\t<options>\n-\t\t\t\t\t<option value=\"watering\">Watering</option>\n-\t\t\t\t\t<option value=\"washing_machine\">Washing machine</option>\n-\t\t\t\t\t<option value=\"domestic_water_supply\">Domestic water supply</option>\n-\t\t\t\t\t<option value=\"off\">Off</option>\n-\t\t\t\t</options>\n-\t\t\t</parameter>\n-\t\t\t<parameter name=\"operating_mode\" type=\"text\">\n-\t\t\t\t<label>Operating Mode</label>\n-\t\t\t\t<options>\n-\t\t\t\t\t<option value=\"scheduled\">Scheduled</option>\n-\t\t\t\t\t<option value=\"automatic\">Automatic</option>\n-\t\t\t\t</options>\n-\t\t\t</parameter>\n-\t\t\t<parameter name=\"turn_on_pressure\" type=\"text\">\n-\t\t\t\t<label>Turn On Pressure</label>\n-\t\t\t\t<options>\n-\t\t\t\t\t<option value=\"2.0\">2.0</option>\n-\t\t\t\t\t<option value=\"2.2\">2.2</option>\n-\t\t\t\t\t<option value=\"2.4\">2.4</option>\n-\t\t\t\t\t<option value=\"2.6\">2.6</option>\n-\t\t\t\t\t<option value=\"2.8\">2.8</option>\n-\t\t\t\t</options>\n-\t\t\t</parameter>\n-\t\t</config-description>\n-\t</thing-type>\n-\n-\t<channel-group-type id=\"outletTemperature\">\n-\t\t<label>Outlet Temperature</label>\n-\t\t<description>The outlet temperature</description>\n+\t<channel-group-type id=\"mowerCommands\">\n+\t\t<label>Mower Commands</label>\n+\t\t<description>Commands to control a mower</description>\n \t\t<channels>\n-\t\t\t<channel id=\"temperature\" typeId=\"temperature\"/>\n-\t\t\t<channel id=\"temperature_min\" typeId=\"temperatureMin\"/>\n-\t\t\t<channel id=\"temperature_max\" typeId=\"temperatureMax\"/>\n-\t\t\t<channel id=\"frost_warning\" typeId=\"frostWarning\"/>\n+\t\t\t<channel id=\"commandDuration\" typeId=\"mowerCommandDuration\">\n+\t\t\t\t<label>Mowing Duration</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"start_seconds_to_override\" typeId=\"gardenaCommand\">\n+\t\t\t\t<label>Start mowing with duration</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"start_dont_override\" typeId=\"gardenaCommand\">\n+\t\t\t\t<label>Start Schedule</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"park_until_next_task\" typeId=\"gardenaCommand\">\n+\t\t\t\t<label>Park</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"park_until_further_notice\" typeId=\"gardenaCommand\">\n+\t\t\t\t<label>Pause schedule</label>\n+\t\t\t</channel>\n \t\t</channels>\n \t</channel-group-type>\n \n-\t<channel-type id=\"temperatureMin\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Minimum Temperature</label>\n-\t\t<description>The minimum outlet temperature</description>\n-\t\t<state pattern=\"%d \u00b0C\" readOnly=\"true\"/>\n-\t</channel-type>\n-\n-\t<channel-type id=\"temperatureMax\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Maximum Temperature</label>\n-\t\t<description>The maximum outlet temperature</description>\n-\t\t<state pattern=\"%d \u00b0C\" readOnly=\"true\"/>\n-\t</channel-type>\n+\t<channel-group-type id=\"valveCommands\">\n+\t\t<label>Valve Commands</label>\n+\t\t<description>Commands to control a valve</description>\n+\t\t<channels>\n+\t\t\t<channel id=\"commandDuration\" typeId=\"valveCommandDuration\">\n+\t\t\t\t<label>Irrigation Duration</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"start_seconds_to_override\" typeId=\"gardenaCommand\">\n+\t\t\t\t<label>Open valve with duration</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"stop_until_next_task\" typeId=\"gardenaCommand\">\n+\t\t\t\t<label>Close valve, continue with the schedule</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"pause\" typeId=\"gardenaCommand\">\n+\t\t\t\t<label>Pause until specified time</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"unpause\" typeId=\"gardenaCommand\">\n+\t\t\t\t<label>Start schedule</label>\n+\t\t\t</channel>\n+\t\t</channels>\n+\t</channel-group-type>\n \n-\t<channel-group-type id=\"pump\">\n-\t\t<label>Pump</label>\n-\t\t<description>The pump</description>\n+\t<channel-group-type id=\"valveSetCommands\">\n+\t\t<label>Valve Set Commands</label>\n+\t\t<description>Commands to control a valve set</description>\n \t\t<channels>\n-\t\t\t<channel id=\"mode\" typeId=\"pumpMode\"/>\n-\t\t\t<channel id=\"pump_on_off\" typeId=\"pumpOnOff\"/>\n-\t\t\t<channel id=\"turn_on_pressure\" typeId=\"turnOnPressure\"/>\n-\t\t\t<channel id=\"operating_mode\" typeId=\"operatingMode\"/>\n-\t\t\t<channel id=\"error\" typeId=\"errorCounter\"/>\n-\t\t\t<channel id=\"operating_days\" typeId=\"operatingDays\"/>\n-\t\t\t<channel id=\"error1_count\" typeId=\"errorCounterOne\"/>\n-\t\t\t<channel id=\"error2_count\" typeId=\"errorCounterTwo\"/>\n-\t\t\t<channel id=\"error3_count\" typeId=\"errorCounterThree\"/>\n-\t\t\t<channel id=\"error4_count\" typeId=\"errorCounterFour\"/>\n+\t\t\t<channel id=\"stop_until_next_task\" typeId=\"gardenaCommand\">\n+\t\t\t\t<label>Close all valves</label>\n+\t\t\t</channel>\n \t\t</channels>\n \t</channel-group-type>\n \n-\t<channel-type id=\"errorCounter\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Error Counter</label>\n-\t\t<description>The error counter</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n+\t<channel-group-type id=\"powerSocketCommands\">\n+\t\t<label>Power Socket Commands</label>\n+\t\t<description>Commands to control a power socket</description>\n+\t\t<channels>\n+\t\t\t<channel id=\"commandDuration\" typeId=\"powerCommandDuration\">\n+\t\t\t\t<label>Switch in duration</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"start_seconds_to_override\" typeId=\"gardenaCommand\">\n+\t\t\t\t<label>Manual on with duration</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"start_override\" typeId=\"gardenaCommand\">\n+\t\t\t\t<label>Manual on</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"stop_until_next_task\" typeId=\"gardenaCommand\">\n+\t\t\t\t<label>Off, continue with the schedule</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"pause\" typeId=\"gardenaCommand\">\n+\t\t\t\t<label>Pause until specified time</label>\n+\t\t\t</channel>\n+\t\t\t<channel id=\"unpause\" typeId=\"gardenaCommand\">\n+\t\t\t\t<label>Start schedule</label>\n+\t\t\t</channel>\n+\t\t</channels>\n+\t</channel-group-type>\n \n-\t<channel-type id=\"errorCounterOne\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Error Counter One</label>\n-\t\t<description>The error counter one</description>\n-\t\t<state readOnly=\"true\"/>\n+\t<channel-type id=\"gardenaCommand\">\n+\t\t<item-type>Switch</item-type>\n+\t\t<label>Command</label>\n+\t\t<description>A command for a device</description>\n \t</channel-type>\n \n-\t<channel-type id=\"errorCounterTwo\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Error Counter Two</label>\n-\t\t<description>The error counter two</description>\n-\t\t<state readOnly=\"true\"/>\n+\t<channel-type id=\"powerCommandDuration\">\n+\t\t<item-type>Number:Time</item-type>\n+\t\t<label>Command Duration</label>\n+\t\t<description>A duration in minutes for a command</description>\n+\t\t<state pattern=\"%d min\" min=\"1\" max=\"59\" step=\"1\"/>\n \t</channel-type>\n \n-\t<channel-type id=\"errorCounterThree\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Error Counter Three</label>\n-\t\t<description>The error counter three</description>\n-\t\t<state readOnly=\"true\"/>\n+\t<channel-type id=\"valveCommandDuration\">\n+\t\t<item-type>Number:Time</item-type>\n+\t\t<label>Command Duration</label>\n+\t\t<description>A duration in minutes for a command</description>\n+\t\t<state pattern=\"%d min\" min=\"1\" max=\"600\" step=\"1\"/>\n \t</channel-type>\n \n-\t<channel-type id=\"errorCounterFour\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Error Counter Four</label>\n-\t\t<description>The error counter Four</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n-\n-\t<channel-type id=\"operatingDays\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Operating Days</label>\n-\t\t<description>The operating days</description>\n-\t\t<state readOnly=\"true\" pattern=\"%d days\"/>\n+\t<channel-type id=\"mowerCommandDuration\">\n+\t\t<item-type>Number:Time</item-type>\n+\t\t<label>Command Duration</label>\n+\t\t<description>A duration in minutes for a command</description>\n+\t\t<state pattern=\"%d min\" min=\"1\" max=\"1440\" step=\"1\"/>\n \t</channel-type>\n \n-\t<channel-type id=\"pumpMode\">\n+\t<channel-type id=\"state\">\n \t\t<item-type>String</item-type>\n-\t\t<label>Mode</label>\n-\t\t<description>The mode</description>\n+\t\t<label>State</label>\n+\t\t<description>The state of the device</description>\n \t\t<state readOnly=\"true\">\n \t\t\t<options>\n-\t\t\t\t<option value=\"off\">Off</option>\n-\t\t\t\t<option value=\"auto\">Auto</option>\n+\t\t\t\t<option value=\"OK\">OK</option>\n+\t\t\t\t<option value=\"WARNING\">Warning</option>\n+\t\t\t\t<option value=\"ERROR\">Error</option>\n+\t\t\t\t<option value=\"UNAVAILABLE\">Unavailable</option>\n \t\t\t</options>\n \t\t</state>\n \t</channel-type>\n \n-\t<channel-type id=\"pumpOnOff\">\n-\t\t<item-type>Switch</item-type>\n-\t\t<label>Pump</label>\n-\t\t<description>Pump</description>\n-\t\t<state readOnly=\"true\"/>\n-\t</channel-type>\n-\n-\t<channel-type id=\"turnOnPressure\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Turn On Pressure</label>\n-\t\t<description>Turn on pressure</description>\n-\t\t<state readOnly=\"true\" pattern=\"%d bar\">\n-\t\t\t<options>\n-\t\t\t\t<option value=\"2.0\">2.0</option>\n-\t\t\t\t<option value=\"2.2\">2.2</option>\n-\t\t\t\t<option value=\"2.4\">2.4</option>\n-\t\t\t\t<option value=\"2.6\">2.6</option>\n-\t\t\t\t<option value=\"2.8\">2.8</option>\n-\t\t\t</options>\n-\t\t</state>\n-\t</channel-type>\n-\n-\t<channel-type id=\"operatingMode\">\n+\t<channel-type id=\"lastErrorCode\">\n \t\t<item-type>String</item-type>\n-\t\t<label>Operating Mode</label>\n-\t\t<description>The operating mode</description>\n+\t\t<label>Last Error Code</label>\n+\t\t<description>The last error code</description>\n \t\t<state readOnly=\"true\">\n \t\t\t<options>\n-\t\t\t\t<option value=\"scheduled\">Scheduled</option>\n-\t\t\t\t<option value=\"automatic\">Automatic</option>\n+\t\t\t\t<!-- common -->\n+\t\t\t\t<option value=\"UNKNOWN\">Unknown</option>\n+\t\t\t\t<option value=\"NO_MESSAGE\">No Message</option>\n+\n+\t\t\t\t<!-- mower -->\n+\t\t\t\t<option value=\"OUTSIDE_WORKING_AREA\">Outside working area</option>\n+\t\t\t\t<option value=\"NO_LOOP_SIGNAL\">No loop signal</option>\n+\t\t\t\t<option value=\"WRONG_LOOP_SIGNAL\">Wrong loop signal</option>\n+\t\t\t\t<option value=\"LOOP_SENSOR_PROBLEM_FRONT\">Loop sensor problem, front</option>\n+\t\t\t\t<option value=\"LOOP_SENSOR_PROBLEM_REAR\">Loop sensor problem, rear</option>\n+\t\t\t\t<option value=\"LOOP_SENSOR_PROBLEM_LEFT\">Loop sensor problem, left</option>\n+\t\t\t\t<option value=\"LOOP_SENSOR_PROBLEM_RIGHT\">Loop sensor problem, right</option>\n+\t\t\t\t<option value=\"WRONG_PIN_CODE\">Wrong PIN code</option>\n+\t\t\t\t<option value=\"TRAPPED\">Trapped</option>\n+\t\t\t\t<option value=\"UPSIDE_DOWN\">Upside down</option>\n+\t\t\t\t<option value=\"EMPTY_BATTERY\">Empty battery</option>\n+\t\t\t\t<option value=\"NO_DRIVE\">No drive</option>\n+\t\t\t\t<option value=\"TEMPORARILY_LIFTED\">Mower lifted</option>\n+\t\t\t\t<option value=\"LIFTED\">Lifted</option>\n+\t\t\t\t<option value=\"STUCK_IN_CHARGING_STATION\">Stuck in charging station</option>\n+\t\t\t\t<option value=\"CHARGING_STATION_BLOCKED\">Charging station blocked</option>\n+\t\t\t\t<option value=\"COLLISION_SENSOR_PROBLEM_REAR\">Collision sensor problem, rear</option>\n+\t\t\t\t<option value=\"COLLISION_SENSOR_PROBLEM_FRONT\">Collision sensor problem, front</option>\n+\t\t\t\t<option value=\"WHEEL_MOTOR_BLOCKED_RIGHT\">Wheel motor blocked, right</option>\n+\t\t\t\t<option value=\"WHEEL_MOTOR_BLOCKED_LEFT\">Wheel motor blocked, left</option>\n+\t\t\t\t<option value=\"WHEEL_DRIVE_PROBLEM_RIGHT\">Wheel drive problem, right</option>\n+\t\t\t\t<option value=\"WHEEL_DRIVE_PROBLEM_LEFT\">Wheel drive problem, left</option>\n+\t\t\t\t<option value=\"CUTTING_MOTOR_DRIVE_DEFECT\">Cutting motor drive blocked</option>\n+\t\t\t\t<option value=\"CUTTING_SYSTEM_BLOCKED\">Cutting system blocked</option>\n+\t\t\t\t<option value=\"INVALID_SUB_DEVICE_COMBINATION\">Invalid sub-device combination</option>\n+\t\t\t\t<option value=\"MEMORY_CIRCUIT_PROBLEM\">Memory circuit problem</option>\n+\t\t\t\t<option value=\"CHARGING_SYSTEM_PROBLEM\">Charging system problem</option>\n+\t\t\t\t<option value=\"STOP_BUTTON_PROBLEM\">STOP button problem</option>\n+\t\t\t\t<option value=\"TILT_SENSOR_PROBLEM\">Tilt sensor problem</option>\n+\t\t\t\t<option value=\"MOWER_TILTED\">Mower tilted</option>\n+\t\t\t\t<option value=\"WHEEL_MOTOR_OVERLOADED_RIGHT\">Wheel motor overloaded, right</option>\n+\t\t\t\t<option value=\"WHEEL_MOTOR_OVERLOADED_LEFT\">Wheel motor overloaded, left</option>\n+\t\t\t\t<option value=\"CHARGING_CURRENT_TOO_HIGH\">Charging current too high</option>\n+\t\t\t\t<option value=\"ELECTRONIC_PROBLEM\">Electronic problem</option>\n+\t\t\t\t<option value=\"CUTTING_MOTOR_PROBLEM\">Cutting motor problem</option>\n+\t\t\t\t<option value=\"LIMITED_CUTTING_HEIGHT_RANGE\">Limited cutting height range</option>\n+\t\t\t\t<option value=\"CUTTING_HEIGHT_PROBLEM_DRIVE\">Cutting height problem, drive</option>\n+\t\t\t\t<option value=\"CUTTING_HEIGHT_PROBLEM_CURR\">Cutting height problem, current</option>\n+\t\t\t\t<option value=\"CUTTING_HEIGHT_PROBLEM_DIR\">Cutting height problem, direction</option>\n+\t\t\t\t<option value=\"CUTTING_HEIGHT_BLOCKED\">Cutting height blocked</option>\n+\t\t\t\t<option value=\"CUTTING_HEIGHT_PROBLEM\">Cutting height problem</option>\n+\t\t\t\t<option value=\"BATTERY_PROBLEM\">Battery problem</option>\n+\t\t\t\t<option value=\"TOO_MANY_BATTERIES\">Battery problem</option>\n+\t\t\t\t<option value=\"ALARM_MOWER_SWITCHED_OFF\">Alarm! Mower switched off</option>\n+\t\t\t\t<option value=\"ALARM_MOWER_STOPPED\">Alarm! Mower stopped</option>\n+\t\t\t\t<option value=\"ALARM_MOWER_LIFTED\">Alarm! Mower lifted</option>\n+\t\t\t\t<option value=\"ALARM_MOWER_TILTED\">Alarm! Mower tilted</option>\n+\t\t\t\t<option value=\"ALARM_MOWER_IN_MOTION\">Alarm! Mower in motion</option>\n+\t\t\t\t<option value=\"ALARM_OUTSIDE_GEOFENCE\">Alarm! Outside geofence</option>\n+\t\t\t\t<option value=\"SLIPPED\">Mower has slipped</option>\n+\t\t\t\t<option value=\"INVALID_BATTERY_COMBINATION\">Invalid battery combination</option>\n+\t\t\t\t<option value=\"UNINITIALISED\">Unknown status of the mower</option>\n+\t\t\t\t<option value=\"WAIT_UPDATING\">Mower waiting, updating firmware</option>\n+\t\t\t\t<option value=\"WAIT_POWER_UP\">Mower powering up</option>\n+\t\t\t\t<option value=\"OFF_DISABLED\">Mower disabled on main switch</option>\n+\t\t\t\t<option value=\"OFF_HATCH_OPEN\">Mower in waiting state with hatch open</option>\n+\t\t\t\t<option value=\"OFF_HATCH_CLOSED\">Mower in waiting state with hatch closed</option>\n+\t\t\t\t<option value=\"PARKED_DAILY_LIMIT_REACHED\">Mower has completed cutting due to daily limit reached</option>\n+\n+\t\t\t\t<!-- power socket -->\n+\t\t\t\t<option value=\"TIMER_CANCELLED\">Time cancelled</option>\n+\n+\t\t\t\t<!-- valve -->\n+\t\t\t\t<option value=\"CONCURRENT_LIMIT_REACHED\">Can't open valve because at most 2 valves can be open at the same time</option>\n+\t\t\t\t<option value=\"NOT_CONNECTED\">No valve was connected</option>\n+\t\t\t\t<option value=\"VALVE_CURRENT_MAX_EXCEEDED\">The valve has been closed because the valve is draining more current than allowed</option>\n+\t\t\t\t<option value=\"TOTAL_CURRENT_MAX_EXCEEDED\">The valve has been closed because the total current used was more than the allowed maximum</option>\n+\t\t\t\t<option value=\"WATERING_CANCELED\">Watering was canceled</option>\n+\t\t\t\t<option value=\"MASTER_VALVE\">Master valve is not connected</option>\n+\t\t\t\t<option value=\"WATERING_DURATION_TOO_SHORT\">Watering duration to short</option>\n+\t\t\t\t<option value=\"VALVE_BROKEN\">Electrical connection to the valve is broken, or the inductor is damaged</option>\n+\t\t\t\t<option value=\"FROST_PREVENTS_STARTING\">Because of frost valve stays closed</option>\n+\t\t\t\t<option value=\"LOW_BATTERY_PREVENTS_STARTING\">Because of low battery valve stays closed</option>\n+\t\t\t\t<option value=\"VALVE_POWER_SUPPLY_FAILED\">Power supply failed</option>\n+\n+\t\t\t\t<!-- valve set -->\n+\t\t\t\t<option value=\"VOLTAGE_DROP\">A voltage drop was detected at the power supply</option>\n+\t\t\t\t<option value=\"WRONG_POWER_SUPPLY\">Wrong power supply is connected</option>\n+\t\t\t\t<option value=\"NO_MCU_CONNECTION\">Unable to communicate with secondary MCU</option>\n \t\t\t</options>\n \t\t</state>\n \t</channel-type>\n \n-\t<channel-group-type id=\"outletPressure\">\n-\t\t<label>Outlet Pressure</label>\n-\t\t<description>The outlet pressure</description>\n-\t\t<channels>\n-\t\t\t<channel id=\"outlet_pressure\" typeId=\"outletPressure\"/>\n-\t\t\t<channel id=\"outlet_pressure_max\" typeId=\"outletPressureMax\"/>\n-\t\t</channels>\n-\t</channel-group-type>\n-\n-\t<channel-type id=\"outletPressure\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Outlet Pressure</label>\n-\t\t<description>The outlet pressure</description>\n-\t\t<state readOnly=\"true\" pattern=\"%d bar\"/>\n-\t</channel-type>\n-\n-\t<channel-type id=\"outletPressureMax\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Outlet Pressure Maximum</label>\n-\t\t<description>The maximum outlet pressure</description>\n-\t\t<state readOnly=\"true\" pattern=\"%d bar\"/>\n-\t</channel-type>\n-\n-\t<channel-group-type id=\"flow\">\n-\t\t<label>Flow</label>\n-\t\t<description>The flow</description>\n-\t\t<channels>\n-\t\t\t<channel id=\"flow_rate\" typeId=\"flowRate\"/>\n-\t\t\t<channel id=\"flow_since_last_reset\" typeId=\"flowSinceLastReset\"/>\n-\t\t\t<channel id=\"flow_total\" typeId=\"flowTotal\"/>\n-\t\t\t<channel id=\"dripping_alert\" typeId=\"drippingAlert\"/>\n-\t\t</channels>\n-\t</channel-group-type>\n-\n-\t<channel-type id=\"flowRate\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Flow Rate</label>\n-\t\t<description>The flow rate</description>\n-\t\t<state readOnly=\"true\" pattern=\"%d l/h\"/>\n+\t<channel-type id=\"timestamp\" advanced=\"true\">\n+\t\t<item-type>DateTime</item-type>\n+\t\t<label>Timestamp</label>\n+\t\t<description>Timestamp</description>\n+\t\t<state readOnly=\"true\"/>\n \t</channel-type>\n \n-\t<channel-type id=\"flowSinceLastReset\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Flow Since Last Reset</label>\n-\t\t<description>The flow since last reset</description>\n-\t\t<state readOnly=\"true\" pattern=\"%d m3\"/>\n+\t<channel-type id=\"timestampRefresh\">\n+\t\t<item-type>DateTime</item-type>\n+\t\t<label>Timestamp</label>\n+\t\t<description>Timestamp</description>\n \t</channel-type>\n \n-\t<channel-type id=\"flowTotal\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Total Flow</label>\n-\t\t<description>The total flow</description>\n-\t\t<state readOnly=\"true\" pattern=\"%d m3\"/>\n+\t<channel-type id=\"name\">\n+\t\t<item-type>String</item-type>\n+\t\t<label>Name</label>\n+\t\t<description>The name of the device</description>\n+\t\t<state readOnly=\"true\"/>\n \t</channel-type>\n \n-\t<channel-type id=\"drippingAlert\">\n+\t<channel-type id=\"activity\">\n \t\t<item-type>String</item-type>\n-\t\t<label>Dripping Alert</label>\n-\t\t<description>The dripping alert</description>\n+\t\t<label>Activity</label>\n+\t\t<description>The activity of the device</description>\n \t\t<state readOnly=\"true\">\n \t\t\t<options>\n-\t\t\t\t<option value=\"sixty\">Sixty</option>\n-\t\t\t\t<option value=\"two\">Two</option>\n-\t\t\t\t<option value=\"off\">Off</option>\n-\t\t\t</options>\n-\t\t</state>\n-\t</channel-type>\n-\n-\t<channel-group-type id=\"manualWatering\">\n-\t\t<label>Manual Watering</label>\n-\t\t<description>Manual Watering</description>\n-\t\t<channels>\n-\t\t\t<channel id=\"manual_watering_timer\" typeId=\"manualWateringTimer\"/>\n-\t\t\t<channel id=\"last_manual_override_time\" typeId=\"lastManualOverrideTime\"/>\n-\t\t</channels>\n-\t</channel-group-type>\n-\n-\t<channel-type id=\"manualWateringTimer\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Manual Watering Timer</label>\n-\t\t<description>The manual watering timer</description>\n-\t\t<state pattern=\"%d min\" min=\"0\" max=\"59\" step=\"1\">\n-\t\t\t<options>\n-\t\t\t\t<option value=\"0\">Off</option>\n-\t\t\t\t<option value=\"1\">1 min</option>\n-\t\t\t\t<option value=\"3\">3 min</option>\n-\t\t\t\t<option value=\"5\">5 min</option>\n-\t\t\t\t<option value=\"10\">10 min</option>\n-\t\t\t\t<option value=\"15\">15 min</option>\n-\t\t\t\t<option value=\"20\">20 min</option>\n-\t\t\t\t<option value=\"25\">25 min</option>\n-\t\t\t\t<option value=\"30\">30 min</option>\n-\t\t\t\t<option value=\"35\">35 min</option>\n-\t\t\t\t<option value=\"40\">40 min</option>\n-\t\t\t\t<option value=\"45\">45 min</option>\n-\t\t\t\t<option value=\"50\">50 min</option>\n-\t\t\t\t<option value=\"55\">55 min</option>\n-\t\t\t\t<option value=\"59\">59 min</option>\n+\t\t\t\t<!-- power socker -->\n+\t\t\t\t<option value=\"OFF\">Off</option>\n+\t\t\t\t<option value=\"FOREVER_ON\">Switched on by a manual action, no switch off scheduled</option>\n+\t\t\t\t<option value=\"TIME_LIMITED_ON\">Switched on by a manual action, the switch off is scheduled</option>\n+\t\t\t\t<option value=\"SCHEDULED_ON\">Operating by schedule, current state is 'on'</option>\n+\n+\t\t\t\t<!-- valve -->\n+\t\t\t\t<option value=\"CLOSED\">Valve closed</option>\n+\t\t\t\t<option value=\"MANUAL_WATERING\">Irrigation active</option>\n+\t\t\t\t<option value=\"SCHEDULED_WATERING\">Irrigation active</option>\n+\n+\t\t\t\t<!-- mower -->\n+\t\t\t\t<option value=\"PAUSED\">In a waiting state with hatch closed</option>\n+\t\t\t\t<option value=\"OK_CUTTING\">Mowing</option>\n+\t\t\t\t<option value=\"OK_CUTTING_TIMER_OVERRIDDEN\">Mowing</option>\n+\t\t\t\t<option value=\"OK_SEARCHING\">Searching charging station</option>\n+\t\t\t\t<option value=\"OK_LEAVING\">Leaving charging station</option>\n+\t\t\t\t<option value=\"OK_CHARGING\">Charging</option>\n+\t\t\t\t<option value=\"PARKED_TIMER\">Parked according to timer</option>\n+\t\t\t\t<option value=\"PARKED_PARK_SELECTED\">Parked until further notice</option>\n+\t\t\t\t<option value=\"PARKED_AUTOTIMER\">Parked because of insufficient grass height</option>\n+\n+\t\t\t\t<option value=\"NONE\">None</option>\n \t\t\t</options>\n \t\t</state>\n \t</channel-type>\n \n-\t<channel-type id=\"lastManualOverrideTime\" advanced=\"true\">\n-\t\t<item-type>Number</item-type>\n-\t\t<label>Last Manual Override Timer</label>\n-\t\t<description>The last manual override timer</description>\n+\t<channel-type id=\"duration\">\n+\t\t<item-type>Number:Time</item-type>\n+\t\t<label>Duration</label>\n+\t\t<description>Duration in minutes</description>\n \t\t<state readOnly=\"true\" pattern=\"%d min\"/>\n \t</channel-type>\n \n-\t<channel-group-type id=\"scheduling\">\n-\t\t<label>Manual Watering</label>\n-\t\t<description>Manual Watering</description>\n-\t\t<channels>\n-\t\t\t<channel id=\"scheduled_watering_end\" typeId=\"scheduledWateringEnd\"/>\n-\t\t\t<channel id=\"scheduled_watering_next_start\" typeId=\"scheduledWateringNextStart\"/>\n-\t\t\t<channel id=\"adaptive_scheduling_last_decision\" typeId=\"adaptiveSchedulingLastDecision\"/>\n-\t\t</channels>\n-\t</channel-group-type>\n-\n-\t<channel-type id=\"scheduledWateringEnd\" advanced=\"true\">\n-\t\t<item-type>DateTime</item-type>\n-\t\t<label>Scheduled Watering End</label>\n-\t\t<description>The scheduled watering end</description>\n-\t\t<state readOnly=\"true\"/>\n+\t<channel-type id=\"soilHumidity\">\n+\t\t<item-type>Number:Dimensionless</item-type>\n+\t\t<label>Soil Humidity</label>\n+\t\t<description>Soil humidity in percent</description>\n+\t\t<state readOnly=\"true\" pattern=\"%d %unit%\"/>\n \t</channel-type>\n \n-\t<channel-type id=\"scheduledWateringNextStart\" advanced=\"true\">\n-\t\t<item-type>DateTime</item-type>\n-\t\t<label>Scheduled Watering Next Start</label>\n-\t\t<description>The scheduled watering next start</description>\n-\t\t<state readOnly=\"true\"/>\n+\t<channel-type id=\"lightIntensity\">\n+\t\t<item-type>Number:Illuminance</item-type>\n+\t\t<label>Light Intensity</label>\n+\t\t<description>Light intensity in Lux</description>\n+\t\t<state readOnly=\"true\" pattern=\"%d lux\"/>\n \t</channel-type>\n \n-\t<channel-type id=\"adaptiveSchedulingLastDecision\" advanced=\"true\">\n-\t\t<item-type>String</item-type>\n-\t\t<label>Adaptive Scheduling Last Decision</label>\n-\t\t<description>The adaptive scheduling last decision</description>\n-\t\t<state readOnly=\"true\">\n-\t\t\t<options>\n-\t\t\t\t<option value=\"undefined\">Undefined</option>\n-\t\t\t\t<option value=\"watered_sensor_timeout\">watered_sensor_timeout</option>\n-\t\t\t\t<option value=\"skipped\">skipped</option>\n-\t\t\t\t<option value=\"watered\">watered</option>\n-\t\t\t</options>\n-\t\t</state>\n+\t<channel-type id=\"temperature\">\n+\t\t<item-type>Number:Temperature</item-type>\n+\t\t<label>Temperature</label>\n+\t\t<description>The temperature in degrees Celsius</description>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "eb02adf3ea4c748f4b3ec438ee5599ed52609bc3"}, "originalPosition": 1341}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM5MjM2OTAwOnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.gardena/src/main/resources/OH-INF/i18n/gardena_de.properties", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQxNTowMDo1NlrOIDNihg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQxNTowMDo1NlrOIDNihg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDIzODQ3MA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            channel-group-type.gardena.mowerCommands.channel.park_until_further_notice.label=Zeiplan pausieren\n          \n          \n            \n            channel-group-type.gardena.mowerCommands.channel.park_until_further_notice.label=Zeitplan pausieren", "url": "https://github.com/openhab/openhab-addons/pull/8869#discussion_r540238470", "createdAt": "2020-12-10T15:00:56Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.gardena/src/main/resources/OH-INF/i18n/gardena_de.properties", "diffHunk": "@@ -1,462 +1,273 @@\n # binding\n-binding.gardena.description=Das ist das Binding f\ufffdr Gardena Smart Home Produkte.\n+binding.gardena.description=Das ist das Binding f\ufffdr Gardena Smart System.\n \n # thing types\n-thing-type.gardena.bridge.description=ein Gardena Smart Home Online Account\n+thing-type.gardena.bridge.description=Ein Gardena Smart System Online Account\n \n-thing-type.config.gardena.bridge.email.description=Email Addresse f\ufffdr den Gardena Smart Home Login \n+thing-type.config.gardena.bridge.email.description=Email Addresse f\ufffdr den Gardena Smart System Login \n thing-type.config.gardena.bridge.password.label=Passwort \n-thing-type.config.gardena.bridge.password.description=Passwort f\ufffdr den Gardena Smart Home Login \n-thing-type.config.gardena.bridge.sessionTimeout.description=Timeout der Gardena Smart Home Session in Minuten\n+thing-type.config.gardena.bridge.password.description=Passwort f\ufffdr den Gardena Smart System Login \n thing-type.config.gardena.bridge.connectionTimeout.label=Verbindungstimeout\n-thing-type.config.gardena.bridge.connectionTimeout.description=Timeout des Verbindungsaufbaus zu Gardena Smart Home in Sekunden\n-thing-type.config.gardena.bridge.refresh.label=Refreshintervall\n-thing-type.config.gardena.bridge.refresh.description=Der Intervall f\ufffdr die Datenabholung von Gardena Smart Home in Sekunden\n+thing-type.config.gardena.bridge.connectionTimeout.description=Timeout des Verbindungsaufbaus zum Gardena Smart System in Sekunden\n+thing-type.config.gardena.bridge.apiKey.description=Der Gardena Smart System Integrations API Schl\ufffdssel\n \n-thing-type.gardena.mower.label=Gardena Smart Sileno M\ufffdher\n-thing-type.gardena.mower.description=ein Gardena Smart Sileno M\ufffdher\n+thing-type.gardena.mower.label=Gardena Smart SILENO M\ufffdher\n+thing-type.gardena.mower.description=Ein Gardena Smart SILENO M\ufffdher\n \n-thing-type.gardena.watering_computer.label=Gardena Smart Bew\ufffdsserungscomputer\n-thing-type.gardena.watering_computer.description=ein Gardena Smart Bew\ufffdsserungscomputer\n+thing-type.gardena.water_control.label=Gardena Smart Bew\ufffdsserungscomputer\n+thing-type.gardena.water_control.description=Ein Gardena Smart Bew\ufffdsserungscomputer\n \n thing-type.gardena.sensor.label=Gardena Smart Sensor\n-thing-type.gardena.sensor.description=ein Gardena Smart Sensor\n+thing-type.gardena.sensor.description=Ein Gardena Smart Sensor\n \n-thing-type.gardena.electronic_pressure_pump.label=Gardena Smart Druckpumpe\n-thing-type.gardena.electronic_pressure_pump.description=Eine Gardena Smart Druckpumpe\n+thing-type.gardena.pump.label=Gardena Smart Druckpumpe\n+thing-type.gardena.pump.description=Eine Gardena Smart Druckpumpe\n \n thing-type.gardena.power.label=Gardena Smart Power Zwischenstecker\n-thing-type.gardena.power.description=Eine Gardena Smart Power Zwischenstecker\n-\n-thing-type.gardena.ic24.label=Gardena Smart Bew\ufffdsserungssteuerung\n-thing-type.gardena.ic24.description=Eine Gardena Smart Bew\ufffdsserungssteuerung\n-\n-# config\n-thing-type.config.gardena.electronic_pressure_pump.leakage_detection.label=Leckage-Erkennung\n-thing-type.config.gardena.electronic_pressure_pump.leakage_detection.state.option.watering=Bew\ufffdsserung\n-thing-type.config.gardena.electronic_pressure_pump.leakage_detection.state.option.washing_machine=Waschmaschine\n-thing-type.config.gardena.electronic_pressure_pump.leakage_detection.state.option.domestic_water_supply=H\ufffdusliche Wasserversorgung\n-thing-type.config.gardena.electronic_pressure_pump.leakage_detection.state.option.off=Aus\n-\n-thing-type.config.gardena.electronic_pressure_pump.operating_mode.label=Betriebsmodus\n-thing-type.config.gardena.electronic_pressure_pump.operating_mode.state.option.automatic=Automatisch\n-thing-type.config.gardena.electronic_pressure_pump.operating_mode.state.option.scheduled=Zeitgesteuert\n-\n-thing-type.config.gardena.electronic_pressure_pump.turn_on_pressure.label=Einschaltdruck\n+thing-type.gardena.power.description=Ein Gardena Smart Power Zwischenstecker\n+\n+thing-type.gardena.irrigation_control.label=Gardena Smart Bew\ufffdsserungssteuerung\n+thing-type.gardena.irrigation_control.description=Eine Gardena Smart Bew\ufffdsserungssteuerung\n+\n+thing-type.gardena.irrigation_control.group.valve_1.label=Ventil 1 Eigenschaften\n+thing-type.gardena.irrigation_control.group.valve_1_commands.label=Ventil 1 Befehle\n+thing-type.gardena.irrigation_control.group.valve_2.label=Ventil 2 Eigenschaften\n+thing-type.gardena.irrigation_control.group.valve_2_commands.label=Ventil 2 Befehle\n+thing-type.gardena.irrigation_control.group.valve_3.label=Ventil 3 Eigenschaften\n+thing-type.gardena.irrigation_control.group.valve_3_commands.label=Ventil 3 Befehle\n+thing-type.gardena.irrigation_control.group.valve_4.label=Ventil 4 Eigenschaften\n+thing-type.gardena.irrigation_control.group.valve_4_commands.label=Ventil 4 Befehle\n+thing-type.gardena.irrigation_control.group.valve_5.label=Ventil 5 Eigenschaften\n+thing-type.gardena.irrigation_control.group.valve_5_commands.label=Ventil 5 Befehle\n+thing-type.gardena.irrigation_control.group.valve_6.label=Ventil 6 Eigenschaften\n+thing-type.gardena.irrigation_control.group.valve_6_commands.label=Ventil 6 Befehle\n \n # channel group\n-channel-group-type.gardena.deviceInfo.label=Ger\ufffdteinfo\n-channel-group-type.gardena.deviceInfo.description=Informationen \ufffdber das Ger\ufffdt\n-\n-channel-group-type.gardena.rechargeableBattery.label=Wiederaufladbare Batterie Info\n-channel-group-type.gardena.rechargeableBattery.description=Informationen \ufffdber die wiederaufladbare Batterie\n-\n-channel-group-type.gardena.radio.label=Funkverbindung\n-channel-group-type.gardena.radio.description=Informationen \ufffdber die Funkverbindung\n-\n-channel-group-type.gardena.mower.label=M\ufffdhroboter\n-channel-group-type.gardena.mower.description=Informationen \ufffdber den M\ufffdhroboter\n-\n-channel-group-type.gardena.internalTemperature.label=Interne Temperatur\n-channel-group-type.gardena.internalTemperature.description=Die interne Temperatur des M\ufffdhroboters\n-\n-channel-group-type.gardena.battery.label=Batterieinfo\n-channel-group-type.gardena.battery.description=Informationen \ufffdber die Batterie\n-\n-channel-group-type.gardena.outlet.label=Wasserauslass\n-channel-group-type.gardena.outlet.description=Informationen \ufffdber den Wasserauslass\n-\n-channel-group-type.gardena.ambientTemperature.label=Umgebungstemperatur\n-channel-group-type.gardena.ambientTemperature.description=Informationen \ufffdber die Umgebungstemperatur\n-\n-channel-group-type.gardena.soilTemperature.label=Bodentemperatur\n-channel-group-type.gardena.soilTemperature.description=Die Temperatur des Bodens\n-\n-channel-group-type.gardena.humidity.label=Feuchtigkeit\n-channel-group-type.gardena.humidity.description=Die Feuchtigkeit\n-\n-channel-group-type.gardena.light.label=Helligkeit\n-channel-group-type.gardena.light.description=Die Helligkeit\n-\n-channel-group-type.gardena.firmware.label=Firmware\n-channel-group-type.gardena.firmware.description=Informationen \ufffdber die Firmware\n-\n-channel-group-type.gardena.outletTemperature.label=Auslauftemperatur\n-channel-group-type.gardena.outletTemperature.description=Die Auslauftemperatur\n-\n-channel-group-type.gardena.pump.label=Pumpe\n-channel-group-type.gardena.pump.description=Die Pumpe\n-\n-channel-group-type.gardena.outletPressure.label=Auslassdruck\n-channel-group-type.gardena.outletPressure.description=Der Auslassdruck\n-\n-channel-group-type.gardena.outletPressureMax.label=Maximum Auslassdruck\n-channel-group-type.gardena.outletPressureMax.description=Der maximale Auslassdruck\n-\n-channel-group-type.gardena.flow.label=F\ufffdrderung\n-channel-group-type.gardena.flow.description=Die F\ufffdrderung\n-\n-channel-group-type.gardena.manualWatering.label=Manuelle Bew\ufffdsserung\n-channel-group-type.gardena.manualWatering.description=Die manuelle Bew\ufffdsserung\n-\n-channel-group-type.gardena.scheduling.label=Zeitplan\n-channel-group-type.gardena.scheduling.description=Der Zeitplan\n-\n-channel-group-type.gardena.mowerStats.label=M\ufffdhroboter Statistiken\n-channel-group-type.gardena.mowerStats.description=Statistiken \ufffdber den M\ufffdhroboter\n-\n-channel-group-type.gardena.power.label=Energie\n-channel-group-type.gardena.power.description=Energie\n-\n-channel-group-type.gardena.watering.label=Bew\ufffdsserung\n-channel-group-type.gardena.watering.description=Die Bew\ufffdsserung\n-\n-channel-group-type.gardena.ic24.label=Bew\ufffdsserungssteuerung\n-channel-group-type.gardena.ic24.description=Die Bew\ufffdsserungssteuerung\n-\n-channel-group-type.gardena.ic24scheduling.label=Zeitplanung\n-channel-group-type.gardena.ic24scheduling.description=Die Zeitplanung\n+channel-group-type.gardena.valveSetProperties.label=Ventilsatz Eigenschaften\n+channel-group-type.gardena.valveSetProperties.description=Eigenschaften eines Ventilsatzes\n+\n+channel-group-type.gardena.valveSetProperties.channel.state_timestamp.label=Status Zeitstempel\n+channel-group-type.gardena.valveSetProperties.channel.lastErrorCode_timestamp.label=Letzte Fehlermeldung Zeitstempel\n+\n+channel-group-type.gardena.valveProperties.label=Ventil Eigenschaften\n+channel-group-type.gardena.valveProperties.description=Eigenschaften eines Ventils\n+channel-group-type.gardena.valveProperties.channel.state_timestamp.label=Status Zeitstempel\n+channel-group-type.gardena.valveProperties.channel.activity_timestamp.label=Aktivit\ufffdt Zeitstempel\n+channel-group-type.gardena.valveProperties.channel.lastErrorCode_timestamp.label=Letzte Fehlermeldung Zeitstempel\n+\n+channel-group-type.gardena.sensorProperties.label=Sensor Eigenschaften\n+channel-group-type.gardena.sensorProperties.description=Eigenschaften eines Sensors\n+channel-group-type.gardena.sensorProperties.channel.soilHumidity_timestamp.label=Bodenfeuchtigkeit Zeitstempel\n+channel-group-type.gardena.sensorProperties.channel.soilTemperature.label=Bodentemperatur\n+channel-group-type.gardena.sensorProperties.channel.soilTemperature_timestamp.label=Bodentemperatur Zeitstempel\n+channel-group-type.gardena.sensorProperties.channel.ambientTemperature.label=Umgebungstemperatur\n+channel-group-type.gardena.sensorProperties.channel.ambientTemperature_timestamp.label=Umgebungstemperatur Zeitstempel\n+channel-group-type.gardena.sensorProperties.channel.lightIntensity_timestamp.label=Lichtintensit\ufffdt Zeitstempel\n+\n+channel-group-type.gardena.powerSocketProperties.label=Zwischenstecker Eigenschaften\n+channel-group-type.gardena.powerSocketProperties.description=Eigenschaften eines Zwischensteckers\n+channel-group-type.gardena.powerSocketProperties.channel.state_timestamp.label=Status Zeitstempel\n+channel-group-type.gardena.powerSocketProperties.channel.activity_timestamp.label=Aktivit\ufffdt Zeitstempel\n+channel-group-type.gardena.powerSocketProperties.channel.lastErrorCode_timestamp.label=Letzte Fehlermeldung Zeitstempel\n+channel-group-type.gardena.powerSocketProperties.channel.duration_timestamp.label=Dauer Zeitstempel\n+\n+channel-group-type.gardena.mowerProperties.label=M\ufffdher Eigenschaften\n+channel-group-type.gardena.mowerProperties.description=Eigenschaften eines M\ufffdhers\n+channel-group-type.gardena.mowerProperties.channel.state_timestamp.label=Status Zeitstempel\n+channel-group-type.gardena.mowerProperties.channel.activity_timestamp.label=Aktivit\ufffdt Zeitstempel\n+channel-group-type.gardena.mowerProperties.channel.lastErrorCode_timestamp.label=Letzte Fehlermeldung Zeitstempel\n+\n+channel-group-type.gardena.commonProperties.label=Gemeinsame Eigenschaften\n+channel-group-type.gardena.commonProperties.description=Eigenschaften, die bei allen Ger\ufffdten gleich sind\n+channel-group-type.gardena.commonProperties.channel.batteryLevel_timestamp.label=Batterie Zeitstempel\n+channel-group-type.gardena.commonProperties.channel.batteryState_timestamp.label=Batteriestatus Zeitstempel\n+channel-group-type.gardena.commonProperties.channel.rfLinkLevel_timestamp.label=Signalst\ufffdrke Zeitstempel\n+channel-group-type.gardena.commonProperties.channel.rfLinkState_timestamp.label=Verbindungsstatus Zeitstempel\n+channel-group-type.gardena.commonProperties.channel.lastUpdate_timestamp.label=Letzte Aktualisierung Zeitstempel\n+\n+channel-group-type.gardena.mowerCommands.label=M\ufffdher Befehle\n+channel-group-type.gardena.mowerCommands.description=Befehle f\ufffdr einen M\ufffdher\n+channel-group-type.gardena.mowerCommands.channel.commandDuration.label=M\ufffdhdauer\n+channel-group-type.gardena.mowerCommands.channel.start_seconds_to_override.label=Starte m\ufffdhen mit Dauer\n+channel-group-type.gardena.mowerCommands.channel.start_dont_override.label=Zeitplan starten \n+channel-group-type.gardena.mowerCommands.channel.park_until_next_task.label=Parken\n+channel-group-type.gardena.mowerCommands.channel.park_until_further_notice.label=Zeiplan pausieren", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f549d3d4efe014ad5a6354ff596dd5ac9ffaa604"}, "originalPosition": 197}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM5MjM5NDc2OnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.gardena/src/main/resources/OH-INF/i18n/gardena_de.properties", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQxNTowNTozOFrOIDNxtg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQxNTowNTozOFrOIDNxtg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDI0MjM1OA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            channel-group-type.gardena.valveCommands.channel.pause.label=Pause bis zur Angegebenen Zeit\n          \n          \n            \n            channel-group-type.gardena.valveCommands.channel.pause.label=Pause bis zur angegebenen Zeit", "url": "https://github.com/openhab/openhab-addons/pull/8869#discussion_r540242358", "createdAt": "2020-12-10T15:05:38Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.gardena/src/main/resources/OH-INF/i18n/gardena_de.properties", "diffHunk": "@@ -104,7 +104,7 @@ channel-group-type.gardena.valveCommands.channel.start_seconds_to_override.label\n channel-group-type.gardena.valveCommands.channel.start_seconds_to_override.description=Manueller Betrieb, verwendet Bew\ufffdsserunsdauer um die Dauer zu definieren\n channel-group-type.gardena.valveCommands.channel.stop_until_next_task.label=Ventil Schlie\ufffden, Zeitplan Fortfahren\n channel-group-type.gardena.valveCommands.channel.stop_until_next_task.description=Die aktuelle Bew\ufffdsserung abbrechen, mit dem Zeitplan fortfahren\n-channel-group-type.gardena.valveCommands.channel.pause.label=Pause Bis Zur Angegebenen Zeit\n+channel-group-type.gardena.valveCommands.channel.pause.label=Pause bis zur Angegebenen Zeit", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9b28b41fb250e2988035b9bc24ca14d2ea18e9f6"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM5NTEzODczOnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.gardena/src/main/java/org/openhab/binding/gardena/internal/util/StringUtils.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQwMjo0NjowMVrOIDmolQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQwMjo0NjowMVrOIDmolQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDY0OTYyMQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                public @Nullable static String substringBefore(@Nullable String str, String separator) {\n          \n          \n            \n                public static @Nullable String substringBefore(@Nullable String str, String separator) {", "url": "https://github.com/openhab/openhab-addons/pull/8869#discussion_r540649621", "createdAt": "2020-12-11T02:46:01Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.gardena/src/main/java/org/openhab/binding/gardena/internal/util/StringUtils.java", "diffHunk": "@@ -0,0 +1,60 @@\n+/**\n+ * Copyright (c) 2010-2020 Contributors to the openHAB project\n+ *\n+ * See the NOTICE file(s) distributed with this work for additional\n+ * information.\n+ *\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0\n+ *\n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.openhab.binding.gardena.internal.util;\n+\n+import org.eclipse.jdt.annotation.NonNullByDefault;\n+import org.eclipse.jdt.annotation.Nullable;\n+\n+/**\n+ * Some String operations from commons lang.\n+ *\n+ * @author Gerhard Riegler - Initial contribution\n+ */\n+@NonNullByDefault\n+public class StringUtils {\n+    /**\n+     * Gets the substring before the first occurrence of a separator.\n+     */\n+    public @Nullable static String substringBefore(@Nullable String str, String separator) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "01f7ff3d5a3a2bc41bfd5adabe9aa285024a3c43"}, "originalPosition": 28}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM5NTEzOTIzOnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.gardena/src/main/java/org/openhab/binding/gardena/internal/util/StringUtils.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQwMjo0NjoxNFrOIDmo2w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQwMjo0NjoxNFrOIDmo2w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDY0OTY5MQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                public @Nullable static String substringBeforeLast(@Nullable String str, String separator) {\n          \n          \n            \n                public static @Nullable String substringBeforeLast(@Nullable String str, String separator) {", "url": "https://github.com/openhab/openhab-addons/pull/8869#discussion_r540649691", "createdAt": "2020-12-11T02:46:14Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.gardena/src/main/java/org/openhab/binding/gardena/internal/util/StringUtils.java", "diffHunk": "@@ -0,0 +1,60 @@\n+/**\n+ * Copyright (c) 2010-2020 Contributors to the openHAB project\n+ *\n+ * See the NOTICE file(s) distributed with this work for additional\n+ * information.\n+ *\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0\n+ *\n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.openhab.binding.gardena.internal.util;\n+\n+import org.eclipse.jdt.annotation.NonNullByDefault;\n+import org.eclipse.jdt.annotation.Nullable;\n+\n+/**\n+ * Some String operations from commons lang.\n+ *\n+ * @author Gerhard Riegler - Initial contribution\n+ */\n+@NonNullByDefault\n+public class StringUtils {\n+    /**\n+     * Gets the substring before the first occurrence of a separator.\n+     */\n+    public @Nullable static String substringBefore(@Nullable String str, String separator) {\n+        if (str != null && !str.isEmpty()) {\n+            int pos = str.indexOf(separator);\n+            return pos == -1 ? str : str.substring(0, pos);\n+        } else {\n+            return str;\n+        }\n+    }\n+\n+    /**\n+     * Gets the substring before the last occurrence of a separator.\n+     */\n+    public @Nullable static String substringBeforeLast(@Nullable String str, String separator) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "01f7ff3d5a3a2bc41bfd5adabe9aa285024a3c43"}, "originalPosition": 40}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM5NTEzOTcxOnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.gardena/src/main/java/org/openhab/binding/gardena/internal/util/StringUtils.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQwMjo0NjoyN1rOIDmpHw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQwMjo0NjoyN1rOIDmpHw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDY0OTc1OQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                public @Nullable static String substringAfterLast(@Nullable String str, String separator) {\n          \n          \n            \n                public static @Nullable String substringAfterLast(@Nullable String str, String separator) {", "url": "https://github.com/openhab/openhab-addons/pull/8869#discussion_r540649759", "createdAt": "2020-12-11T02:46:27Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.gardena/src/main/java/org/openhab/binding/gardena/internal/util/StringUtils.java", "diffHunk": "@@ -0,0 +1,60 @@\n+/**\n+ * Copyright (c) 2010-2020 Contributors to the openHAB project\n+ *\n+ * See the NOTICE file(s) distributed with this work for additional\n+ * information.\n+ *\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0\n+ *\n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.openhab.binding.gardena.internal.util;\n+\n+import org.eclipse.jdt.annotation.NonNullByDefault;\n+import org.eclipse.jdt.annotation.Nullable;\n+\n+/**\n+ * Some String operations from commons lang.\n+ *\n+ * @author Gerhard Riegler - Initial contribution\n+ */\n+@NonNullByDefault\n+public class StringUtils {\n+    /**\n+     * Gets the substring before the first occurrence of a separator.\n+     */\n+    public @Nullable static String substringBefore(@Nullable String str, String separator) {\n+        if (str != null && !str.isEmpty()) {\n+            int pos = str.indexOf(separator);\n+            return pos == -1 ? str : str.substring(0, pos);\n+        } else {\n+            return str;\n+        }\n+    }\n+\n+    /**\n+     * Gets the substring before the last occurrence of a separator.\n+     */\n+    public @Nullable static String substringBeforeLast(@Nullable String str, String separator) {\n+        if (str != null && !str.isEmpty()) {\n+            int pos = str.lastIndexOf(separator);\n+            return pos == -1 ? str : str.substring(0, pos);\n+        } else {\n+            return str;\n+        }\n+    }\n+\n+    /**\n+     * Gets the substring after the last occurrence of a separator.\n+     */\n+    public @Nullable static String substringAfterLast(@Nullable String str, String separator) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "01f7ff3d5a3a2bc41bfd5adabe9aa285024a3c43"}, "originalPosition": 52}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM5NTE0NjgwOnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.gardena/src/main/java/org/openhab/binding/gardena/internal/util/PropertyUtils.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQwMjo0OToxNVrOIDms6Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQwMjo0OToxNVrOIDms6Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDY1MDcyOQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                public @Nullable static <T> T getPropertyValue(@Nullable Object instance, String propertyPath, Class<T> resultClass)\n          \n          \n            \n                public static <T> @Nullable T getPropertyValue(@Nullable Object instance, String propertyPath, Class<T> resultClass)", "url": "https://github.com/openhab/openhab-addons/pull/8869#discussion_r540650729", "createdAt": "2020-12-11T02:49:15Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.gardena/src/main/java/org/openhab/binding/gardena/internal/util/PropertyUtils.java", "diffHunk": "@@ -0,0 +1,66 @@\n+/**\n+ * Copyright (c) 2010-2020 Contributors to the openHAB project\n+ *\n+ * See the NOTICE file(s) distributed with this work for additional\n+ * information.\n+ *\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0\n+ *\n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.openhab.binding.gardena.internal.util;\n+\n+import java.lang.reflect.Field;\n+\n+import org.eclipse.jdt.annotation.NonNullByDefault;\n+import org.eclipse.jdt.annotation.Nullable;\n+import org.openhab.binding.gardena.internal.exception.GardenaException;\n+\n+/**\n+ * Utility class to read nested properties.\n+ *\n+ * @author Gerhard Riegler - Initial contribution\n+ */\n+@NonNullByDefault\n+public class PropertyUtils {\n+\n+    /**\n+     * Returns true if the property is null.\n+     */\n+    public static boolean isNull(@Nullable Object instance, String propertyPath) throws GardenaException {\n+        return getPropertyValue(instance, propertyPath, Object.class) == null;\n+    }\n+\n+    /**\n+     * Returns the property value from the object instance, nested properties are possible.\n+     */\n+    public @Nullable static <T> T getPropertyValue(@Nullable Object instance, String propertyPath, Class<T> resultClass)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "01f7ff3d5a3a2bc41bfd5adabe9aa285024a3c43"}, "originalPosition": 39}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM5NTE0NzQ2OnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.gardena/src/main/java/org/openhab/binding/gardena/internal/util/PropertyUtils.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQwMjo0OToyN1rOIDmtQg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQwMjo0OToyN1rOIDmtQg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDY1MDgxOA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                private @Nullable static <T> T getPropertyValue(@Nullable Object instance, String[] properties,\n          \n          \n            \n                private static <T> @Nullable T getPropertyValue(@Nullable Object instance, String[] properties,", "url": "https://github.com/openhab/openhab-addons/pull/8869#discussion_r540650818", "createdAt": "2020-12-11T02:49:27Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.gardena/src/main/java/org/openhab/binding/gardena/internal/util/PropertyUtils.java", "diffHunk": "@@ -0,0 +1,66 @@\n+/**\n+ * Copyright (c) 2010-2020 Contributors to the openHAB project\n+ *\n+ * See the NOTICE file(s) distributed with this work for additional\n+ * information.\n+ *\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0\n+ *\n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.openhab.binding.gardena.internal.util;\n+\n+import java.lang.reflect.Field;\n+\n+import org.eclipse.jdt.annotation.NonNullByDefault;\n+import org.eclipse.jdt.annotation.Nullable;\n+import org.openhab.binding.gardena.internal.exception.GardenaException;\n+\n+/**\n+ * Utility class to read nested properties.\n+ *\n+ * @author Gerhard Riegler - Initial contribution\n+ */\n+@NonNullByDefault\n+public class PropertyUtils {\n+\n+    /**\n+     * Returns true if the property is null.\n+     */\n+    public static boolean isNull(@Nullable Object instance, String propertyPath) throws GardenaException {\n+        return getPropertyValue(instance, propertyPath, Object.class) == null;\n+    }\n+\n+    /**\n+     * Returns the property value from the object instance, nested properties are possible.\n+     */\n+    public @Nullable static <T> T getPropertyValue(@Nullable Object instance, String propertyPath, Class<T> resultClass)\n+            throws GardenaException {\n+        String[] properties = propertyPath.split(\"\\\\.\");\n+        return getPropertyValue(instance, properties, resultClass, 0);\n+    }\n+\n+    /**\n+     * Iterates through the nested properties and returns the field value.\n+     */\n+    @SuppressWarnings(\"unchecked\")\n+    private @Nullable static <T> T getPropertyValue(@Nullable Object instance, String[] properties,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "01f7ff3d5a3a2bc41bfd5adabe9aa285024a3c43"}, "originalPosition": 49}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM5NTE3MTQ2OnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.gardena/src/main/java/org/openhab/binding/gardena/internal/GardenaSmartWebSocket.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQwMjo1ODo1NlrOIDm53w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQwMjo1ODo1NlrOIDm53w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDY1NDA0Nw==", "bodyText": "Please turn this into a private method and call it using lambdas.", "url": "https://github.com/openhab/openhab-addons/pull/8869#discussion_r540654047", "createdAt": "2020-12-11T02:58:56Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.gardena/src/main/java/org/openhab/binding/gardena/internal/GardenaSmartWebSocket.java", "diffHunk": "@@ -0,0 +1,178 @@\n+/**\n+ * Copyright (c) 2010-2020 Contributors to the openHAB project\n+ *\n+ * See the NOTICE file(s) distributed with this work for additional\n+ * information.\n+ *\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0\n+ *\n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.openhab.binding.gardena.internal;\n+\n+import java.io.IOException;\n+import java.net.URI;\n+import java.nio.ByteBuffer;\n+import java.time.Instant;\n+import java.util.concurrent.ScheduledExecutorService;\n+import java.util.concurrent.ScheduledFuture;\n+import java.util.concurrent.TimeUnit;\n+\n+import org.eclipse.jdt.annotation.NonNullByDefault;\n+import org.eclipse.jdt.annotation.Nullable;\n+import org.eclipse.jetty.websocket.api.Session;\n+import org.eclipse.jetty.websocket.api.annotations.*;\n+import org.eclipse.jetty.websocket.api.extensions.Frame;\n+import org.eclipse.jetty.websocket.client.WebSocketClient;\n+import org.eclipse.jetty.websocket.common.WebSocketSession;\n+import org.eclipse.jetty.websocket.common.frames.PongFrame;\n+import org.openhab.binding.gardena.internal.config.GardenaConfig;\n+import org.openhab.binding.gardena.internal.model.dto.api.PostOAuth2Response;\n+import org.openhab.binding.gardena.internal.model.dto.api.WebSocketCreatedResponse;\n+import org.openhab.core.io.net.http.WebSocketFactory;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+/**\n+ * The {@link GardenaSmartWebSocket} implements the websocket for receiving constant updates from the Gardena smart\n+ * system.\n+ *\n+ * @author Gerhard Riegler - Initial contribution\n+ */\n+@NonNullByDefault\n+@WebSocket\n+public class GardenaSmartWebSocket {\n+    private final Logger logger = LoggerFactory.getLogger(GardenaSmartWebSocket.class);\n+    private final GardenaSmartWebSocketListener socketEventListener;\n+    private final long WEBSOCKET_IDLE_TIMEOUT = 300;\n+\n+    private WebSocketSession session;\n+    private WebSocketClient webSocketClient;\n+    private boolean closing;\n+    private Instant lastPong = Instant.now();\n+    private ScheduledExecutorService scheduler;\n+    private @Nullable ScheduledFuture<?> connectionTracker;\n+    private ByteBuffer pingPayload = ByteBuffer.wrap(\"ping\".getBytes());\n+    private @Nullable PostOAuth2Response token;\n+    private String socketId;\n+\n+    /**\n+     * Starts the websocket session.\n+     */\n+    public GardenaSmartWebSocket(GardenaSmartWebSocketListener socketEventListener,\n+            WebSocketCreatedResponse webSocketCreatedResponse, GardenaConfig config, ScheduledExecutorService scheduler,\n+            WebSocketFactory webSocketFactory, @Nullable PostOAuth2Response token, String socketId) throws Exception {\n+        this.socketEventListener = socketEventListener;\n+        this.scheduler = scheduler;\n+        this.token = token;\n+        this.socketId = socketId;\n+\n+        webSocketClient = webSocketFactory.createWebSocketClient(String.valueOf(this.getClass().hashCode()));\n+        webSocketClient.setConnectTimeout(config.getConnectionTimeout() * 1000L);\n+        webSocketClient.setStopTimeout(3000);\n+        webSocketClient.setMaxIdleTimeout(150000);\n+        webSocketClient.start();\n+\n+        logger.debug(\"Connecting to Gardena Webservice ({})\", socketId);\n+        session = (WebSocketSession) webSocketClient\n+                .connect(this, new URI(webSocketCreatedResponse.data.attributes.url)).get();\n+        session.setStopTimeout(3000);\n+    }\n+\n+    /**\n+     * Stops the websocket session.\n+     */\n+    public synchronized void stop() {\n+        closing = true;\n+        final ScheduledFuture<?> connectionTracker = this.connectionTracker;\n+        if (connectionTracker != null) {\n+            connectionTracker.cancel(true);\n+        }\n+        if (isRunning()) {\n+            logger.debug(\"Closing Gardena Webservice client ({})\", socketId);\n+            try {\n+                session.close();\n+            } catch (Exception ex) {\n+                // ignore\n+            } finally {\n+                try {\n+                    webSocketClient.stop();\n+                } catch (Exception e) {\n+                    // ignore\n+                }\n+            }\n+        }\n+    }\n+\n+    /**\n+     * Returns true, if the websocket is running.\n+     */\n+    public synchronized boolean isRunning() {\n+        return session.isOpen();\n+    }\n+\n+    @OnWebSocketConnect\n+    public void onConnect(Session session) {\n+        closing = false;\n+        logger.debug(\"Connected to Gardena Webservice ({})\", socketId);\n+\n+        connectionTracker = scheduler.scheduleWithFixedDelay(new ConnectionTrackerThread(), 2, 2, TimeUnit.MINUTES);\n+    }\n+\n+    @OnWebSocketFrame\n+    public void onFrame(Frame pong) {\n+        if (pong instanceof PongFrame) {\n+            lastPong = Instant.now();\n+            logger.trace(\"Pong received ({})\", socketId);\n+        }\n+    }\n+\n+    @OnWebSocketClose\n+    public void onClose(int statusCode, String reason) {\n+        if (!closing) {\n+            logger.debug(\"Connection to Gardena Webservice was closed ({}): code: {}, reason: {}\", socketId, statusCode,\n+                    reason);\n+            socketEventListener.onWebSocketClose();\n+        }\n+    }\n+\n+    @OnWebSocketError\n+    public void onError(Throwable cause) {\n+        if (!closing) {\n+            logger.warn(\"Gardena Webservice error ({}): {}, restarting\", socketId, cause.getMessage());\n+            logger.debug(\"{}\", cause.getMessage(), cause);\n+            socketEventListener.onWebSocketError();\n+        }\n+    }\n+\n+    @OnWebSocketMessage\n+    public void onMessage(String msg) {\n+        if (!closing) {\n+            logger.trace(\"<<< event ({}): {}\", socketId, msg);\n+            socketEventListener.onWebSocketMessage(msg);\n+        }\n+    }\n+\n+    /**\n+     * Sends a ping in regular interval to tell the Gardena smart system that the client is alive.\n+     */\n+    private class ConnectionTrackerThread implements Runnable {\n+\n+        @Override\n+        public void run() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "01f7ff3d5a3a2bc41bfd5adabe9aa285024a3c43"}, "originalPosition": 164}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM5NTE3ODg2OnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.gardena/src/main/java/org/openhab/binding/gardena/internal/GardenaSmartImpl.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQwMzowMTo0OFrOIDm93Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQwMzowMTo0OFrOIDm93Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDY1NTA2OQ==", "bodyText": "You have to keep track of the future returned here so you can cancel it in case the handler is disposed.", "url": "https://github.com/openhab/openhab-addons/pull/8869#discussion_r540655069", "createdAt": "2020-12-11T03:01:48Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.gardena/src/main/java/org/openhab/binding/gardena/internal/GardenaSmartImpl.java", "diffHunk": "@@ -12,562 +12,377 @@\n  */\n package org.openhab.binding.gardena.internal;\n \n-import java.util.Collection;\n-import java.util.Date;\n-import java.util.HashMap;\n-import java.util.HashSet;\n-import java.util.Map;\n-import java.util.Set;\n-import java.util.concurrent.ExecutionException;\n-import java.util.concurrent.ScheduledExecutorService;\n-import java.util.concurrent.ScheduledFuture;\n-import java.util.concurrent.TimeUnit;\n-import java.util.stream.Collectors;\n-\n-import org.apache.commons.lang.ObjectUtils;\n-import org.apache.commons.lang.StringUtils;\n+import java.util.*;\n+import java.util.concurrent.*;\n+\n+import org.eclipse.jdt.annotation.NonNullByDefault;\n+import org.eclipse.jdt.annotation.Nullable;\n import org.eclipse.jetty.client.HttpClient;\n-import org.eclipse.jetty.client.HttpResponseException;\n import org.eclipse.jetty.client.api.ContentResponse;\n import org.eclipse.jetty.client.api.Request;\n+import org.eclipse.jetty.client.util.AbstractTypedContentProvider;\n+import org.eclipse.jetty.client.util.FormContentProvider;\n import org.eclipse.jetty.client.util.StringContentProvider;\n import org.eclipse.jetty.http.HttpHeader;\n import org.eclipse.jetty.http.HttpMethod;\n-import org.eclipse.jetty.util.ssl.SslContextFactory;\n+import org.eclipse.jetty.util.Fields;\n import org.openhab.binding.gardena.internal.config.GardenaConfig;\n-import org.openhab.binding.gardena.internal.config.GardenaConfigWrapper;\n import org.openhab.binding.gardena.internal.exception.GardenaDeviceNotFoundException;\n import org.openhab.binding.gardena.internal.exception.GardenaException;\n-import org.openhab.binding.gardena.internal.exception.GardenaUnauthorizedException;\n-import org.openhab.binding.gardena.internal.model.Ability;\n-import org.openhab.binding.gardena.internal.model.Device;\n-import org.openhab.binding.gardena.internal.model.Devices;\n-import org.openhab.binding.gardena.internal.model.Errors;\n-import org.openhab.binding.gardena.internal.model.Location;\n-import org.openhab.binding.gardena.internal.model.Locations;\n-import org.openhab.binding.gardena.internal.model.NoResult;\n-import org.openhab.binding.gardena.internal.model.Property;\n-import org.openhab.binding.gardena.internal.model.PropertyValue;\n-import org.openhab.binding.gardena.internal.model.Session;\n-import org.openhab.binding.gardena.internal.model.SessionWrapper;\n-import org.openhab.binding.gardena.internal.model.Setting;\n-import org.openhab.binding.gardena.internal.model.command.Command;\n-import org.openhab.binding.gardena.internal.model.command.MowerParkUntilFurtherNoticeCommand;\n-import org.openhab.binding.gardena.internal.model.command.MowerParkUntilNextTimerCommand;\n-import org.openhab.binding.gardena.internal.model.command.MowerStartOverrideTimerCommand;\n-import org.openhab.binding.gardena.internal.model.command.MowerStartResumeScheduleCommand;\n-import org.openhab.binding.gardena.internal.model.command.SensorMeasureAmbientTemperatureCommand;\n-import org.openhab.binding.gardena.internal.model.command.SensorMeasureLightCommand;\n-import org.openhab.binding.gardena.internal.model.command.SensorMeasureSoilHumidityCommand;\n-import org.openhab.binding.gardena.internal.model.command.SensorMeasureSoilTemperatureCommand;\n-import org.openhab.binding.gardena.internal.model.command.SettingCommand;\n-import org.openhab.binding.gardena.internal.model.command.SettingCommandWrapper;\n-import org.openhab.binding.gardena.internal.model.command.WateringCancelOverrideCommand;\n-import org.openhab.binding.gardena.internal.model.command.WateringManualOverrideCommand;\n-import org.openhab.binding.gardena.internal.model.deser.DateDeserializer;\n-import org.openhab.binding.gardena.internal.model.deser.PropertyValueDeserializer;\n-import org.openhab.binding.gardena.internal.model.property.BaseProperty;\n-import org.openhab.binding.gardena.internal.model.property.IrrigationControlWateringProperty;\n-import org.openhab.binding.gardena.internal.model.property.PropertyWrapper;\n-import org.openhab.binding.gardena.internal.model.property.StringProperty;\n+import org.openhab.binding.gardena.internal.model.DataItemDeserializer;\n+import org.openhab.binding.gardena.internal.model.dto.Device;\n+import org.openhab.binding.gardena.internal.model.dto.api.*;\n+import org.openhab.binding.gardena.internal.model.dto.command.GardenaCommand;\n+import org.openhab.binding.gardena.internal.model.dto.command.GardenaCommandRequest;\n+import org.openhab.core.io.net.http.HttpClientFactory;\n+import org.openhab.core.io.net.http.WebSocketFactory;\n import org.slf4j.Logger;\n import org.slf4j.LoggerFactory;\n \n import com.google.gson.Gson;\n import com.google.gson.GsonBuilder;\n+import com.google.gson.JsonSyntaxException;\n \n /**\n- * {@link GardenaSmart} implementation to access Gardena Smart Home.\n+ * {@link GardenaSmart} implementation to access Gardena smart system.\n  *\n  * @author Gerhard Riegler - Initial contribution\n  */\n-public class GardenaSmartImpl implements GardenaSmart {\n+@NonNullByDefault\n+public class GardenaSmartImpl implements GardenaSmart, GardenaSmartWebSocketListener {\n     private final Logger logger = LoggerFactory.getLogger(GardenaSmartImpl.class);\n \n-    public static final String DEVICE_CATEGORY_PUMP = \"electronic_pressure_pump\";\n-    private static final String ABILITY_MOWER = \"mower\";\n-    private static final String ABILITY_OUTLET = \"outlet\";\n-    private static final String ABILITY_HUMIDITY = \"humidity\";\n-    private static final String ABILITY_LIGHT = \"light\";\n-    private static final String ABILITY_AMBIENT_TEMPERATURE = \"ambient_temperature\";\n-    private static final String ABILITY_SOIL_TEMPERATURE = \"soil_temperature\";\n-    private static final String ABILITY_POWER = \"power\";\n-    private static final String ABILITY_WATERING = \"watering\";\n-    private static final String ABILITY_MANUAL_WATERING = \"manual_watering\";\n-\n-    private static final String PROPERTY_BUTTON_MANUAL_OVERRIDE_TIME = \"button_manual_override_time\";\n-    private static final String PROPERTY_POWER_TIMER = \"power_timer\";\n-    private static final String PROPERTY_WATERING_TIMER = \"watering_timer_\";\n-    private static final String PROPERTY_MANUAL_WATERING_TIMER = \"manual_watering_timer\";\n-\n-    private static final String DEVICE_CATEGORY_MOWER = \"mower\";\n-    private static final String DEVICE_CATEGORY_GATEWAY = \"gateway\";\n-\n-    private static final String DEFAULT_MOWER_DURATION = \"180\";\n-\n-    private static final String URL = \"https://smart.gardena.com\";\n-    private static final String URL_LOGIN = URL + \"/v1/auth/token\";\n-    private static final String URL_LOCATIONS = URL + \"/v1/locations/?user_id=\";\n-    private static final String URL_DEVICES = URL + \"/v1/devices/?locationId=\";\n-    private static final String URL_COMMAND = URL + \"/v1/devices/%s/abilities/%s/command?locationId=%s\";\n-    private static final String URL_PROPERTY = URL + \"/v1/devices/%s/abilities/%s/properties/%s?locationId=%s\";\n-    private static final String URL_SETTING = URL + \"/v1/devices/%s/settings/%s?locationId=%s\";\n-\n-    private Gson gson = new GsonBuilder().registerTypeAdapter(Date.class, new DateDeserializer())\n-            .registerTypeAdapter(PropertyValue.class, new PropertyValueDeserializer()).create();\n-    private HttpClient httpClient;\n+    private Gson gson = new GsonBuilder().registerTypeAdapter(DataItem.class, new DataItemDeserializer()).create();\n \n-    private String mowerDuration = DEFAULT_MOWER_DURATION;\n-    private Session session;\n-    private GardenaConfig config;\n-    private String id;\n+    private static final String URL_API_HUSQUARNA = \"https://api.authentication.husqvarnagroup.dev/v1\";\n+    private static final String URL_API_GARDENA = \"https://api.smart.gardena.dev/v1\";\n+    private static final String URL_API_TOKEN = URL_API_HUSQUARNA + \"/oauth2/token\";\n+    private static final String URL_API_WEBSOCKET = URL_API_GARDENA + \"/websocket\";\n+    private static final String URL_API_LOCATIONS = URL_API_GARDENA + \"/locations\";\n+    private static final String URL_API_COMMAND = URL_API_GARDENA + \"/command\";\n \n+    private String id;\n+    private GardenaConfig config;\n     private ScheduledExecutorService scheduler;\n-    private ScheduledFuture<?> refreshThreadFuture;\n-    private RefreshDevicesThread refreshDevicesThread = new RefreshDevicesThread();\n \n+    private Map<String, Device> allDevicesById = new HashMap<>();\n+    private LocationsResponse locationsResponse;\n     private GardenaSmartEventListener eventListener;\n \n-    private Map<String, Device> allDevicesById = new HashMap<>();\n-    private Set<Location> allLocations = new HashSet<>();\n+    private HttpClient httpClient;\n+    private List<GardenaSmartWebSocket> webSockets = new ArrayList<>();\n+    private @Nullable PostOAuth2Response token;\n+    private boolean initialized = false;\n+    private WebSocketFactory webSocketFactory;\n \n-    @Override\n-    public void init(String id, GardenaConfig config, GardenaSmartEventListener eventListener,\n-            ScheduledExecutorService scheduler) throws GardenaException {\n+    private Set<Device> devicesToNotify = Collections.synchronizedSet(new HashSet<>());\n+    private @Nullable ScheduledFuture<?> deviceToNotifyFuture;\n+\n+    public GardenaSmartImpl(String id, GardenaConfig config, GardenaSmartEventListener eventListener,\n+            ScheduledExecutorService scheduler, HttpClientFactory httpClientFactory, WebSocketFactory webSocketFactory)\n+            throws GardenaException {\n         this.id = id;\n         this.config = config;\n         this.eventListener = eventListener;\n         this.scheduler = scheduler;\n+        this.webSocketFactory = webSocketFactory;\n \n-        if (!config.isValid()) {\n-            throw new GardenaException(\"Invalid config, no email or password specified\");\n-        }\n-\n-        httpClient = new HttpClient(new SslContextFactory(true));\n-        httpClient.setConnectTimeout(config.getConnectionTimeout() * 1000L);\n-\n+        logger.debug(\"Starting GardenaSmart\");\n         try {\n+            httpClient = httpClientFactory.createHttpClient(id);\n+            httpClient.setConnectTimeout(config.getConnectionTimeout() * 1000L);\n+            httpClient.setIdleTimeout(httpClient.getConnectTimeout());\n             httpClient.start();\n-        } catch (Exception ex) {\n-            throw new GardenaException(ex.getMessage(), ex);\n-        }\n \n-        loadAllDevices();\n-    }\n+            // initially load access token\n+            verifyToken();\n+            locationsResponse = loadLocations();\n \n-    @Override\n-    public void dispose() {\n-        stopRefreshThread(true);\n-        if (httpClient != null) {\n-            try {\n-                httpClient.stop();\n-            } catch (Exception e) {\n-                // ignore\n+            // assemble devices\n+            for (LocationDataItem location : locationsResponse.data) {\n+                LocationResponse locationResponse = loadLocation(location.id);\n+                if (locationResponse.included != null) {\n+                    for (DataItem<?> dataItem : locationResponse.included) {\n+                        handleDataItem(dataItem);\n+                    }\n+                }\n+            }\n+\n+            for (Device device : allDevicesById.values()) {\n+                device.evaluateDeviceType();\n             }\n-            httpClient.destroy();\n+\n+            startWebsockets();\n+            initialized = true;\n+        } catch (Exception ex) {\n+            throw new GardenaException(ex.getMessage(), ex);\n         }\n-        allLocations.clear();\n-        allDevicesById.clear();\n     }\n \n     /**\n-     * Schedules the device refresh thread.\n+     * Starts the websockets for each location.\n      */\n-    private void startRefreshThread() {\n-        refreshThreadFuture = scheduler.scheduleWithFixedDelay(refreshDevicesThread, 6, config.getRefresh(),\n-                TimeUnit.SECONDS);\n+    private void startWebsockets() throws Exception {\n+        for (LocationDataItem location : locationsResponse.data) {\n+            WebSocketCreatedResponse webSocketCreatedResponse = getWebsocketInfo(location.id);\n+            String socketId = id + \"-\" + location.attributes.name;\n+            webSockets.add(new GardenaSmartWebSocket(this, webSocketCreatedResponse, config, scheduler,\n+                    webSocketFactory, token, socketId));\n+        }\n     }\n \n     /**\n-     * Stops the device refresh thread.\n+     * Stops all websockets.\n      */\n-    private void stopRefreshThread(boolean force) {\n-        if (refreshThreadFuture != null) {\n-            refreshThreadFuture.cancel(force);\n-        }\n-    }\n-\n-    @Override\n-    public String getId() {\n-        return id;\n-    }\n-\n-    @Override\n-    public Set<Location> getLocations() {\n-        return allLocations;\n-    }\n-\n-    @Override\n-    public Device getDevice(String deviceId) throws GardenaException {\n-        Device device = allDevicesById.get(deviceId);\n-        if (device == null) {\n-            throw new GardenaDeviceNotFoundException(\n-                    String.format(\"Device with id '%s' not found on gateway '%s'\", deviceId, id));\n-        }\n-        return device;\n-    }\n-\n-    @Override\n-    public void loadAllDevices() throws GardenaException {\n-        stopRefreshThread(false);\n-        try {\n-            allLocations.clear();\n-            allDevicesById.clear();\n-\n-            verifySession();\n-            Locations locations = executeRequest(HttpMethod.GET,\n-                    URL_LOCATIONS + session.getSessionAttributes().getUserId(), null, Locations.class);\n-\n-            for (Location location : locations.getLocations()) {\n-                allLocations.add(location);\n-                Devices devices = loadDevices(location);\n-                for (Device device : devices.getDevices()) {\n-                    if (DEVICE_CATEGORY_GATEWAY.equals(device.getCategory())) {\n-                        location.getDeviceIds().remove(device.getId());\n-                    } else {\n-                        allDevicesById.put(device.getId(), device);\n-                    }\n-                }\n-            }\n-        } finally {\n-            startRefreshThread();\n+    private void stopWebsockets() {\n+        for (GardenaSmartWebSocket webSocket : webSockets) {\n+            webSocket.stop();\n         }\n+        webSockets.clear();\n     }\n \n     /**\n-     * Loads all devices for the location, adds virtual properties for commands.\n+     * Communicates with Gardena smart home system and parses the result.\n      */\n-    private Devices loadDevices(Location location) throws GardenaException {\n-        Devices devices = executeRequest(HttpMethod.GET, URL_DEVICES + location.getId(), null, Devices.class);\n-        for (Device device : devices.getDevices()) {\n-            device.setLocation(location);\n-            for (Ability ability : device.getAbilities()) {\n-                ability.setDevice(device);\n-                for (Property property : ability.getProperties()) {\n-                    property.setAbility(ability);\n-\n-                    if (device.getCategory().equals(DEVICE_CATEGORY_PUMP)) {\n-                        if (property.getName().equals(PROPERTY_MANUAL_WATERING_TIMER)) {\n-                            Integer duration = getIntegerValue(property.getValueAsString());\n-                            if (duration == null) {\n-                                duration = 0;\n-                            }\n-                            property.setValue(new PropertyValue(String.valueOf(duration / 60)));\n-                        }\n-                    }\n+    private <T> T executeRequest(HttpMethod method, String url, @Nullable Object content, @Nullable Class<T> result)\n+            throws GardenaException {\n+        try {\n+            AbstractTypedContentProvider contentProvider = null;\n+            String contentType = \"application/vnd.api+json\";\n+            if (content != null) {\n+                if (content instanceof Fields) {\n+                    contentProvider = new FormContentProvider((Fields) content);\n+                    contentType = \"application/x-www-form-urlencoded\";\n+                } else {\n+                    contentProvider = new StringContentProvider(gson.toJson(content));\n                 }\n             }\n-            for (Setting setting : device.getSettings()) {\n-                setting.setDevice(device);\n+\n+            if (logger.isTraceEnabled()) {\n+                logger.trace(\">>> {} {}, data: {}\", method, url, content == null ? null : gson.toJson(content));\n             }\n \n-            if (DEVICE_CATEGORY_MOWER.equals(device.getCategory())) {\n-                Ability mower = device.getAbility(ABILITY_MOWER);\n-                mower.addProperty(new Property(GardenaSmartCommandName.PARK_UNTIL_NEXT_TIMER, \"false\"));\n-                mower.addProperty(new Property(GardenaSmartCommandName.PARK_UNTIL_FURTHER_NOTICE, \"false\"));\n-                mower.addProperty(new Property(GardenaSmartCommandName.START_RESUME_SCHEDULE, \"false\"));\n-                mower.addProperty(new Property(GardenaSmartCommandName.START_OVERRIDE_TIMER, \"false\"));\n+            Request request = httpClient.newRequest(url).method(method).header(HttpHeader.CONTENT_TYPE, contentType)\n+                    .header(HttpHeader.ACCEPT, \"application/vnd.api+json\").header(HttpHeader.ACCEPT_ENCODING, \"gzip\");\n \n-                mower.addProperty(new Property(GardenaSmartCommandName.DURATION_PROPERTY, mowerDuration));\n+            if (!URL_API_TOKEN.equals(url)) {\n+                verifyToken();\n+                final PostOAuth2Response token = this.token;\n+                if (token != null) {\n+                    request.header(\"Authorization\", token.tokenType + \" \" + token.accessToken);\n+                    request.header(\"Authorization-provider\", token.provider);\n+                }\n+                request.header(\"X-Api-Key\", config.getApiKey());\n             }\n-        }\n-        return devices;\n-    }\n \n-    @Override\n-    public void sendCommand(Device device, GardenaSmartCommandName commandName, Object value) throws GardenaException {\n-        Ability ability = null;\n-        Command command = null;\n-\n-        switch (commandName) {\n-            case PARK_UNTIL_NEXT_TIMER:\n-                ability = device.getAbility(ABILITY_MOWER);\n-                command = new MowerParkUntilNextTimerCommand();\n-                break;\n-            case PARK_UNTIL_FURTHER_NOTICE:\n-                ability = device.getAbility(ABILITY_MOWER);\n-                command = new MowerParkUntilFurtherNoticeCommand();\n-                break;\n-            case START_RESUME_SCHEDULE:\n-                ability = device.getAbility(ABILITY_MOWER);\n-                command = new MowerStartResumeScheduleCommand();\n-                break;\n-            case START_OVERRIDE_TIMER:\n-                ability = device.getAbility(ABILITY_MOWER);\n-                command = new MowerStartOverrideTimerCommand(mowerDuration);\n-                break;\n-            case DURATION_PROPERTY:\n-                if (value == null) {\n-                    throw new GardenaException(\"Command '\" + commandName + \"' requires a value\");\n-                }\n-                mowerDuration = ObjectUtils.toString(value);\n-                return;\n-            case MEASURE_AMBIENT_TEMPERATURE:\n-                ability = device.getAbility(ABILITY_AMBIENT_TEMPERATURE);\n-                command = new SensorMeasureAmbientTemperatureCommand();\n-                break;\n-            case MEASURE_LIGHT:\n-                ability = device.getAbility(ABILITY_LIGHT);\n-                command = new SensorMeasureLightCommand();\n-                break;\n-            case MEASURE_SOIL_HUMIDITY:\n-                ability = device.getAbility(ABILITY_HUMIDITY);\n-                command = new SensorMeasureSoilHumidityCommand();\n-                break;\n-            case MEASURE_SOIL_TEMPERATURE:\n-                ability = device.getAbility(ABILITY_SOIL_TEMPERATURE);\n-                command = new SensorMeasureSoilTemperatureCommand();\n-                break;\n-            case OUTLET_MANUAL_OVERRIDE_TIME:\n-                if (value == null) {\n-                    throw new GardenaException(\"Command '\" + commandName + \"' requires a value\");\n-                }\n-                StringProperty prop = new StringProperty(PROPERTY_BUTTON_MANUAL_OVERRIDE_TIME,\n-                        ObjectUtils.toString(value));\n-\n-                executeSetProperty(device, ABILITY_OUTLET, PROPERTY_BUTTON_MANUAL_OVERRIDE_TIME, prop);\n-                break;\n-            case OUTLET_VALVE:\n-                ability = device.getAbility(ABILITY_OUTLET);\n-                if (value != null && value == Boolean.TRUE) {\n-                    String wateringDuration = device.getAbility(ABILITY_OUTLET)\n-                            .getProperty(PROPERTY_BUTTON_MANUAL_OVERRIDE_TIME).getValueAsString();\n-                    command = new WateringManualOverrideCommand(wateringDuration);\n-                } else {\n-                    command = new WateringCancelOverrideCommand();\n-                }\n-                break;\n-            case POWER_TIMER:\n-                if (value == null) {\n-                    throw new GardenaException(\"Command '\" + commandName + \"' requires a value\");\n-                }\n-                prop = new StringProperty(PROPERTY_POWER_TIMER, ObjectUtils.toString(value));\n-                executeSetProperty(device, ABILITY_POWER, PROPERTY_POWER_TIMER, prop);\n-                break;\n-            case WATERING_TIMER_VALVE_1:\n-            case WATERING_TIMER_VALVE_2:\n-            case WATERING_TIMER_VALVE_3:\n-            case WATERING_TIMER_VALVE_4:\n-            case WATERING_TIMER_VALVE_5:\n-            case WATERING_TIMER_VALVE_6:\n-                if (value == null) {\n-                    throw new GardenaException(\"Command '\" + commandName + \"' requires a value\");\n-                } else if (!(value instanceof Integer)) {\n-                    throw new GardenaException(\"Watering duration value '\" + value + \"' not a number\");\n-                }\n-                int valveId = Integer.parseInt(StringUtils.right(commandName.toString(), 1));\n-                String wateringTimerProperty = PROPERTY_WATERING_TIMER + valveId;\n-                IrrigationControlWateringProperty irrigationProp = new IrrigationControlWateringProperty(\n-                        wateringTimerProperty, (Integer) value, valveId);\n-                executeSetProperty(device, ABILITY_WATERING, wateringTimerProperty, irrigationProp);\n-                break;\n-            case PUMP_MANUAL_WATERING_TIMER:\n-                Integer duration = getIntegerValue(value);\n-                if (duration == null) {\n-                    throw new GardenaException(\"Command '\" + commandName + \"' requires a number value\");\n-                }\n-                prop = new StringProperty(PROPERTY_MANUAL_WATERING_TIMER, String.valueOf(duration * 60));\n+            request.content(contentProvider);\n+            ContentResponse contentResponse = request.send();\n+            int status = contentResponse.getStatus();\n+            if (logger.isTraceEnabled()) {\n+                logger.trace(\"<<< status:{}, {}\", status, contentResponse.getContentAsString());\n+            }\n \n-                executeSetProperty(device, ABILITY_MANUAL_WATERING, PROPERTY_MANUAL_WATERING_TIMER, prop);\n-                break;\n-            default:\n-                throw new GardenaException(\"Unknown command \" + commandName);\n-        }\n+            if (status != 200 && status != 204 && status != 201 && status != 202) {\n+                throw new GardenaException(String.format(\"Error %s %s, %s\", status, contentResponse.getReason(),\n+                        contentResponse.getContentAsString()));\n+            }\n \n-        if (command != null) {\n-            stopRefreshThread(false);\n-            executeRequest(HttpMethod.POST, getCommandUrl(device, ability), command, NoResult.class);\n-            startRefreshThread();\n+            if (result == null) {\n+                return (T) null;\n+            }\n+            return (T) gson.fromJson(contentResponse.getContentAsString(), result);\n+        } catch (InterruptedException | TimeoutException | ExecutionException ex) {\n+            throw new GardenaException(ex.getMessage(), ex);\n         }\n     }\n \n-    private Integer getIntegerValue(Object value) {\n-        try {\n-            return Integer.valueOf(ObjectUtils.toString(value));\n-        } catch (NumberFormatException ex) {\n-            return null;\n+    /**\n+     * Creates or refreshes the access token for the Gardena smart system.\n+     */\n+    private synchronized void verifyToken() throws GardenaException {\n+        Fields fields = new Fields();\n+        fields.add(\"client_id\", config.getApiKey());\n+\n+        PostOAuth2Response token = this.token;\n+        if (token == null || token.isRefreshTokenExpired()) {\n+            // new token\n+            logger.debug(\"Gardena API login using password, reason: {}\",\n+                    token == null ? \"no token available\" : \"refresh token expired\");\n+            fields.add(\"grant_type\", \"password\");\n+            fields.add(\"username\", config.getEmail());\n+            fields.add(\"password\", config.getPassword());\n+            token = executeRequest(HttpMethod.POST, URL_API_TOKEN, fields, PostOAuth2Response.class);\n+            token.postProcess();\n+            this.token = token;\n+        } else if (token.isAccessTokenExpired()) {\n+            // refresh token\n+            logger.debug(\"Gardena API login using refreshToken, reason: access token expired\");\n+            fields.add(\"grant_type\", \"refresh_token\");\n+            fields.add(\"refresh_token\", token.refreshToken);\n+            try {\n+                PostOAuth2Response tempToken = executeRequest(HttpMethod.POST, URL_API_TOKEN, fields,\n+                        PostOAuth2Response.class);\n+                token.accessToken = tempToken.accessToken;\n+                token.expiresIn = tempToken.expiresIn;\n+                token.postProcess();\n+                this.token = token;\n+            } catch (GardenaException ex) {\n+                // refresh token issue\n+                this.token = null;\n+                verifyToken();\n+            }\n+        } else {\n+            logger.debug(\"Gardena API token valid\");\n         }\n+        logger.debug(\"{}\", token.toString());\n     }\n \n     /**\n-     * Sends the new property value for the ability.\n+     * Loads all locations.\n      */\n-    private void executeSetProperty(Device device, String ability, String property, BaseProperty value)\n-            throws GardenaException {\n-        String propertyUrl = String.format(URL_PROPERTY, device.getId(), ability, property,\n-                device.getLocation().getId());\n-        stopRefreshThread(false);\n-        executeRequest(HttpMethod.PUT, propertyUrl, new PropertyWrapper(value), NoResult.class);\n-        device.getAbility(ability).getProperty(property).setValue(new PropertyValue(value.getValue()));\n-        startRefreshThread();\n-    }\n-\n-    @Override\n-    public void sendSetting(Setting setting, Object value) throws GardenaException {\n-        SettingCommand settingCommand = new SettingCommand(setting.getName());\n-        settingCommand.setDeviceId(setting.getDevice().getId());\n-        settingCommand.setValue(value);\n-\n-        stopRefreshThread(false);\n-        executeRequest(HttpMethod.PUT, getSettingUrl(setting), new SettingCommandWrapper(settingCommand),\n-                NoResult.class);\n-        startRefreshThread();\n+    private LocationsResponse loadLocations() throws GardenaException {\n+        return executeRequest(HttpMethod.GET, URL_API_LOCATIONS, null, LocationsResponse.class);\n     }\n \n     /**\n-     * Returns the command url.\n+     * Loads all devices for a given location.\n      */\n-    private String getCommandUrl(Device device, Ability ability) throws GardenaException {\n-        return String.format(URL_COMMAND, device.getId(), ability.getName(), device.getLocation().getId());\n+    private LocationResponse loadLocation(String locationId) throws GardenaException {\n+        return executeRequest(HttpMethod.GET, URL_API_LOCATIONS + \"/\" + locationId, null, LocationResponse.class);\n     }\n \n     /**\n-     * Returns the settings url.\n+     * Returns the websocket url for a given location.\n      */\n-    private String getSettingUrl(Setting setting) {\n-        Device device = setting.getDevice();\n-        return String.format(URL_SETTING, device.getId(), setting.getId(), device.getLocation().getId());\n+    private WebSocketCreatedResponse getWebsocketInfo(String locationId) throws GardenaException {\n+        return executeRequest(HttpMethod.POST, URL_API_WEBSOCKET, new CreateWebSocketRequest(locationId),\n+                WebSocketCreatedResponse.class);\n     }\n \n     /**\n-     * Communicates with Gardena Smart Home and parses the result.\n+     * Stops the client.\n      */\n-    private synchronized <T> T executeRequest(HttpMethod method, String url, Object contentObject, Class<T> result)\n-            throws GardenaException {\n+    public void dispose() {\n+        logger.debug(\"Disposing GardenaSmart\");\n+        final ScheduledFuture<?> deviceToNotifyFuture = this.deviceToNotifyFuture;\n+        if (deviceToNotifyFuture != null) {\n+            deviceToNotifyFuture.cancel(true);\n+        }\n+        stopWebsockets();\n         try {\n-            if (logger.isTraceEnabled()) {\n-                logger.trace(\"{} request:  {}\", method, url);\n-                if (contentObject != null) {\n-                    logger.trace(\"{} data   :  {}\", method, gson.toJson(contentObject));\n-                }\n-            }\n-\n-            Request request = httpClient.newRequest(url).method(method)\n-                    .timeout(config.getConnectionTimeout(), TimeUnit.SECONDS)\n-                    .idleTimeout(config.getConnectionTimeout(), TimeUnit.SECONDS)\n-                    .header(HttpHeader.CONTENT_TYPE, \"application/json\").header(HttpHeader.ACCEPT, \"application/json\")\n-                    .header(HttpHeader.ACCEPT_ENCODING, \"gzip\");\n-\n-            if (contentObject != null) {\n-                StringContentProvider content = new StringContentProvider(gson.toJson(contentObject));\n-                request.content(content);\n-            }\n-\n-            if (!result.equals(SessionWrapper.class)) {\n-                verifySession();\n-                request.header(\"authorization\", \"Bearer \" + session.getToken());\n-                request.header(\"authorization-provider\", session.getSessionAttributes().getProvider());\n-            }\n-\n-            ContentResponse contentResponse = request.send();\n-            int status = contentResponse.getStatus();\n-            if (logger.isTraceEnabled()) {\n-                logger.trace(\"Status  : {}\", status);\n-                logger.trace(\"Response: {}\", contentResponse.getContentAsString());\n-            }\n-\n-            if (status == 500) {\n-                throw new GardenaException(\n-                        gson.fromJson(contentResponse.getContentAsString(), Errors.class).toString());\n-            } else if (status != 200 && status != 204 && status != 201) {\n-                throw new GardenaException(String.format(\"Error %s %s\", status, contentResponse.getReason()));\n-            }\n-\n-            if (result == NoResult.class) {\n-                return null;\n-            }\n-\n-            return gson.fromJson(contentResponse.getContentAsString(), result);\n-        } catch (ExecutionException ex) {\n-            Throwable cause = ex.getCause();\n-            if (cause instanceof HttpResponseException) {\n-                HttpResponseException responseException = (HttpResponseException) ex.getCause();\n-                int status = responseException.getResponse().getStatus();\n-                if (status == 401) {\n-                    throw new GardenaUnauthorizedException(ex.getCause());\n-                }\n-            }\n-            throw new GardenaException(ex.getMessage(), ex);\n-        } catch (Exception ex) {\n-            throw new GardenaException(ex.getMessage(), ex);\n+            httpClient.stop();\n+        } catch (Exception e) {\n+            // ignore\n         }\n+        httpClient.destroy();\n+        locationsResponse = new LocationsResponse();\n+        allDevicesById.clear();\n+        initialized = false;\n     }\n \n     /**\n-     * Verifies the Gardena Smart Home session and reconnects if necessary.\n+     * Restarts all websockets.\n      */\n-    private void verifySession() throws GardenaException {\n-        if (session == null\n-                || session.getCreated() + (config.getSessionTimeout() * 60000) <= System.currentTimeMillis()) {\n-            logger.trace(\"(Re)logging in to Gardena Smart Home\");\n-            session = executeRequest(HttpMethod.POST, URL_LOGIN, new GardenaConfigWrapper(config), SessionWrapper.class)\n-                    .getSession();\n+    @Override\n+    public synchronized void restartWebsockets() {\n+        logger.debug(\"Restarting GardenaSmart Webservice\");\n+        stopWebsockets();\n+        try {\n+            startWebsockets();\n+        } catch (Exception ex) {\n+            logger.warn(\"Restarting GardenaSmart Webservice failed: {}, restarting binding\", ex.getMessage());\n+            eventListener.onError();\n         }\n     }\n \n     /**\n-     * Thread which refreshes the data from Gardena Smart Home.\n+     * Sets the dataItem from the websocket event into the correct device.\n      */\n-    private class RefreshDevicesThread implements Runnable {\n-        private boolean connectionLost = false;\n-\n-        @Override\n-        public void run() {\n-            try {\n-                logger.debug(\"Refreshing gardena device data\");\n-                final Map<String, Device> newDevicesById = new HashMap<>();\n-\n-                for (Location location : allLocations) {\n-                    Devices devices = loadDevices(location);\n-                    for (Device device : devices.getDevices()) {\n-                        if (DEVICE_CATEGORY_GATEWAY.equals(device.getCategory())) {\n-                            location.getDeviceIds().remove(device.getId());\n-                        } else {\n-                            newDevicesById.put(device.getId(), device);\n+    private void handleDataItem(final DataItem<?> dataItem) throws GardenaException {\n+        final String deviceId = dataItem.getDeviceId();\n+        Device device = allDevicesById.get(deviceId);\n+        if (device == null && !(dataItem instanceof LocationDataItem)) {\n+            device = new Device(deviceId);\n+            allDevicesById.put(device.id, device);\n+\n+            if (initialized) {\n+                scheduler.schedule(() -> {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "01f7ff3d5a3a2bc41bfd5adabe9aa285024a3c43"}, "originalPosition": 718}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM5OTA2MzM2OnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.gardena/src/main/java/org/openhab/binding/gardena/internal/GardenaSmartImpl.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQyMDowMDo0MVrOIEJ1Vg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQyMDowMDo0MVrOIEJ1Vg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTIyNjMyNg==", "bodyText": "I'm not sure how safe the synchronized behavior is when doing iteration. I think it would be much safe here to use one of the concurrent implementations instead.\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                private Set<Device> devicesToNotify = Collections.synchronizedSet(new HashSet<>());\n          \n          \n            \n                private Set<Device> devicesToNotify = ConcurrentHashMap.newKeySet();", "url": "https://github.com/openhab/openhab-addons/pull/8869#discussion_r541226326", "createdAt": "2020-12-11T20:00:41Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.gardena/src/main/java/org/openhab/binding/gardena/internal/GardenaSmartImpl.java", "diffHunk": "@@ -12,562 +12,384 @@\n  */\n package org.openhab.binding.gardena.internal;\n \n-import java.util.Collection;\n-import java.util.Date;\n-import java.util.HashMap;\n-import java.util.HashSet;\n-import java.util.Map;\n-import java.util.Set;\n-import java.util.concurrent.ExecutionException;\n-import java.util.concurrent.ScheduledExecutorService;\n-import java.util.concurrent.ScheduledFuture;\n-import java.util.concurrent.TimeUnit;\n-import java.util.stream.Collectors;\n-\n-import org.apache.commons.lang.ObjectUtils;\n-import org.apache.commons.lang.StringUtils;\n+import java.util.*;\n+import java.util.concurrent.*;\n+\n+import org.eclipse.jdt.annotation.NonNullByDefault;\n+import org.eclipse.jdt.annotation.Nullable;\n import org.eclipse.jetty.client.HttpClient;\n-import org.eclipse.jetty.client.HttpResponseException;\n import org.eclipse.jetty.client.api.ContentResponse;\n import org.eclipse.jetty.client.api.Request;\n+import org.eclipse.jetty.client.util.AbstractTypedContentProvider;\n+import org.eclipse.jetty.client.util.FormContentProvider;\n import org.eclipse.jetty.client.util.StringContentProvider;\n import org.eclipse.jetty.http.HttpHeader;\n import org.eclipse.jetty.http.HttpMethod;\n-import org.eclipse.jetty.util.ssl.SslContextFactory;\n+import org.eclipse.jetty.util.Fields;\n import org.openhab.binding.gardena.internal.config.GardenaConfig;\n-import org.openhab.binding.gardena.internal.config.GardenaConfigWrapper;\n import org.openhab.binding.gardena.internal.exception.GardenaDeviceNotFoundException;\n import org.openhab.binding.gardena.internal.exception.GardenaException;\n-import org.openhab.binding.gardena.internal.exception.GardenaUnauthorizedException;\n-import org.openhab.binding.gardena.internal.model.Ability;\n-import org.openhab.binding.gardena.internal.model.Device;\n-import org.openhab.binding.gardena.internal.model.Devices;\n-import org.openhab.binding.gardena.internal.model.Errors;\n-import org.openhab.binding.gardena.internal.model.Location;\n-import org.openhab.binding.gardena.internal.model.Locations;\n-import org.openhab.binding.gardena.internal.model.NoResult;\n-import org.openhab.binding.gardena.internal.model.Property;\n-import org.openhab.binding.gardena.internal.model.PropertyValue;\n-import org.openhab.binding.gardena.internal.model.Session;\n-import org.openhab.binding.gardena.internal.model.SessionWrapper;\n-import org.openhab.binding.gardena.internal.model.Setting;\n-import org.openhab.binding.gardena.internal.model.command.Command;\n-import org.openhab.binding.gardena.internal.model.command.MowerParkUntilFurtherNoticeCommand;\n-import org.openhab.binding.gardena.internal.model.command.MowerParkUntilNextTimerCommand;\n-import org.openhab.binding.gardena.internal.model.command.MowerStartOverrideTimerCommand;\n-import org.openhab.binding.gardena.internal.model.command.MowerStartResumeScheduleCommand;\n-import org.openhab.binding.gardena.internal.model.command.SensorMeasureAmbientTemperatureCommand;\n-import org.openhab.binding.gardena.internal.model.command.SensorMeasureLightCommand;\n-import org.openhab.binding.gardena.internal.model.command.SensorMeasureSoilHumidityCommand;\n-import org.openhab.binding.gardena.internal.model.command.SensorMeasureSoilTemperatureCommand;\n-import org.openhab.binding.gardena.internal.model.command.SettingCommand;\n-import org.openhab.binding.gardena.internal.model.command.SettingCommandWrapper;\n-import org.openhab.binding.gardena.internal.model.command.WateringCancelOverrideCommand;\n-import org.openhab.binding.gardena.internal.model.command.WateringManualOverrideCommand;\n-import org.openhab.binding.gardena.internal.model.deser.DateDeserializer;\n-import org.openhab.binding.gardena.internal.model.deser.PropertyValueDeserializer;\n-import org.openhab.binding.gardena.internal.model.property.BaseProperty;\n-import org.openhab.binding.gardena.internal.model.property.IrrigationControlWateringProperty;\n-import org.openhab.binding.gardena.internal.model.property.PropertyWrapper;\n-import org.openhab.binding.gardena.internal.model.property.StringProperty;\n+import org.openhab.binding.gardena.internal.model.DataItemDeserializer;\n+import org.openhab.binding.gardena.internal.model.dto.Device;\n+import org.openhab.binding.gardena.internal.model.dto.api.*;\n+import org.openhab.binding.gardena.internal.model.dto.command.GardenaCommand;\n+import org.openhab.binding.gardena.internal.model.dto.command.GardenaCommandRequest;\n+import org.openhab.core.io.net.http.HttpClientFactory;\n+import org.openhab.core.io.net.http.WebSocketFactory;\n import org.slf4j.Logger;\n import org.slf4j.LoggerFactory;\n \n import com.google.gson.Gson;\n import com.google.gson.GsonBuilder;\n+import com.google.gson.JsonSyntaxException;\n \n /**\n- * {@link GardenaSmart} implementation to access Gardena Smart Home.\n+ * {@link GardenaSmart} implementation to access Gardena smart system.\n  *\n  * @author Gerhard Riegler - Initial contribution\n  */\n-public class GardenaSmartImpl implements GardenaSmart {\n+@NonNullByDefault\n+public class GardenaSmartImpl implements GardenaSmart, GardenaSmartWebSocketListener {\n     private final Logger logger = LoggerFactory.getLogger(GardenaSmartImpl.class);\n \n-    public static final String DEVICE_CATEGORY_PUMP = \"electronic_pressure_pump\";\n-    private static final String ABILITY_MOWER = \"mower\";\n-    private static final String ABILITY_OUTLET = \"outlet\";\n-    private static final String ABILITY_HUMIDITY = \"humidity\";\n-    private static final String ABILITY_LIGHT = \"light\";\n-    private static final String ABILITY_AMBIENT_TEMPERATURE = \"ambient_temperature\";\n-    private static final String ABILITY_SOIL_TEMPERATURE = \"soil_temperature\";\n-    private static final String ABILITY_POWER = \"power\";\n-    private static final String ABILITY_WATERING = \"watering\";\n-    private static final String ABILITY_MANUAL_WATERING = \"manual_watering\";\n-\n-    private static final String PROPERTY_BUTTON_MANUAL_OVERRIDE_TIME = \"button_manual_override_time\";\n-    private static final String PROPERTY_POWER_TIMER = \"power_timer\";\n-    private static final String PROPERTY_WATERING_TIMER = \"watering_timer_\";\n-    private static final String PROPERTY_MANUAL_WATERING_TIMER = \"manual_watering_timer\";\n-\n-    private static final String DEVICE_CATEGORY_MOWER = \"mower\";\n-    private static final String DEVICE_CATEGORY_GATEWAY = \"gateway\";\n-\n-    private static final String DEFAULT_MOWER_DURATION = \"180\";\n-\n-    private static final String URL = \"https://smart.gardena.com\";\n-    private static final String URL_LOGIN = URL + \"/v1/auth/token\";\n-    private static final String URL_LOCATIONS = URL + \"/v1/locations/?user_id=\";\n-    private static final String URL_DEVICES = URL + \"/v1/devices/?locationId=\";\n-    private static final String URL_COMMAND = URL + \"/v1/devices/%s/abilities/%s/command?locationId=%s\";\n-    private static final String URL_PROPERTY = URL + \"/v1/devices/%s/abilities/%s/properties/%s?locationId=%s\";\n-    private static final String URL_SETTING = URL + \"/v1/devices/%s/settings/%s?locationId=%s\";\n-\n-    private Gson gson = new GsonBuilder().registerTypeAdapter(Date.class, new DateDeserializer())\n-            .registerTypeAdapter(PropertyValue.class, new PropertyValueDeserializer()).create();\n-    private HttpClient httpClient;\n+    private Gson gson = new GsonBuilder().registerTypeAdapter(DataItem.class, new DataItemDeserializer()).create();\n \n-    private String mowerDuration = DEFAULT_MOWER_DURATION;\n-    private Session session;\n-    private GardenaConfig config;\n-    private String id;\n+    private static final String URL_API_HUSQUARNA = \"https://api.authentication.husqvarnagroup.dev/v1\";\n+    private static final String URL_API_GARDENA = \"https://api.smart.gardena.dev/v1\";\n+    private static final String URL_API_TOKEN = URL_API_HUSQUARNA + \"/oauth2/token\";\n+    private static final String URL_API_WEBSOCKET = URL_API_GARDENA + \"/websocket\";\n+    private static final String URL_API_LOCATIONS = URL_API_GARDENA + \"/locations\";\n+    private static final String URL_API_COMMAND = URL_API_GARDENA + \"/command\";\n \n+    private String id;\n+    private GardenaConfig config;\n     private ScheduledExecutorService scheduler;\n-    private ScheduledFuture<?> refreshThreadFuture;\n-    private RefreshDevicesThread refreshDevicesThread = new RefreshDevicesThread();\n \n+    private Map<String, Device> allDevicesById = new HashMap<>();\n+    private LocationsResponse locationsResponse;\n     private GardenaSmartEventListener eventListener;\n \n-    private Map<String, Device> allDevicesById = new HashMap<>();\n-    private Set<Location> allLocations = new HashSet<>();\n+    private HttpClient httpClient;\n+    private List<GardenaSmartWebSocket> webSockets = new ArrayList<>();\n+    private @Nullable PostOAuth2Response token;\n+    private boolean initialized = false;\n+    private WebSocketFactory webSocketFactory;\n \n-    @Override\n-    public void init(String id, GardenaConfig config, GardenaSmartEventListener eventListener,\n-            ScheduledExecutorService scheduler) throws GardenaException {\n+    private Set<Device> devicesToNotify = Collections.synchronizedSet(new HashSet<>());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b409d15f2f1a250218ea6bfdbace50888428afb5"}, "originalPosition": 161}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM5OTA2ODA2OnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.gardena/src/main/java/org/openhab/binding/gardena/internal/util/PropertyUtils.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQyMDowMTozMlrOIEJ4PQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQyMDowMTozMlrOIEJ4PQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTIyNzA2OQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                public static @Nullable <T> T getPropertyValue(@Nullable Object instance, String propertyPath, Class<T> resultClass)\n          \n          \n            \n                public static <T> @Nullable T getPropertyValue(@Nullable Object instance, String propertyPath, Class<T> resultClass)", "url": "https://github.com/openhab/openhab-addons/pull/8869#discussion_r541227069", "createdAt": "2020-12-11T20:01:32Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.gardena/src/main/java/org/openhab/binding/gardena/internal/util/PropertyUtils.java", "diffHunk": "@@ -0,0 +1,66 @@\n+/**\n+ * Copyright (c) 2010-2020 Contributors to the openHAB project\n+ *\n+ * See the NOTICE file(s) distributed with this work for additional\n+ * information.\n+ *\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0\n+ *\n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.openhab.binding.gardena.internal.util;\n+\n+import java.lang.reflect.Field;\n+\n+import org.eclipse.jdt.annotation.NonNullByDefault;\n+import org.eclipse.jdt.annotation.Nullable;\n+import org.openhab.binding.gardena.internal.exception.GardenaException;\n+\n+/**\n+ * Utility class to read nested properties.\n+ *\n+ * @author Gerhard Riegler - Initial contribution\n+ */\n+@NonNullByDefault\n+public class PropertyUtils {\n+\n+    /**\n+     * Returns true if the property is null.\n+     */\n+    public static boolean isNull(@Nullable Object instance, String propertyPath) throws GardenaException {\n+        return getPropertyValue(instance, propertyPath, Object.class) == null;\n+    }\n+\n+    /**\n+     * Returns the property value from the object instance, nested properties are possible.\n+     */\n+    public static @Nullable <T> T getPropertyValue(@Nullable Object instance, String propertyPath, Class<T> resultClass)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b409d15f2f1a250218ea6bfdbace50888428afb5"}, "originalPosition": 39}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM5OTA2OTIyOnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.gardena/src/main/java/org/openhab/binding/gardena/internal/util/PropertyUtils.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQyMDowMTo0NFrOIEJ47g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQyMDowMTo0NFrOIEJ47g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTIyNzI0Ng==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                private static @Nullable <T> T getPropertyValue(@Nullable Object instance, String[] properties,\n          \n          \n            \n                private static <T> @Nullable T getPropertyValue(@Nullable Object instance, String[] properties,", "url": "https://github.com/openhab/openhab-addons/pull/8869#discussion_r541227246", "createdAt": "2020-12-11T20:01:44Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.gardena/src/main/java/org/openhab/binding/gardena/internal/util/PropertyUtils.java", "diffHunk": "@@ -0,0 +1,66 @@\n+/**\n+ * Copyright (c) 2010-2020 Contributors to the openHAB project\n+ *\n+ * See the NOTICE file(s) distributed with this work for additional\n+ * information.\n+ *\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0\n+ *\n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.openhab.binding.gardena.internal.util;\n+\n+import java.lang.reflect.Field;\n+\n+import org.eclipse.jdt.annotation.NonNullByDefault;\n+import org.eclipse.jdt.annotation.Nullable;\n+import org.openhab.binding.gardena.internal.exception.GardenaException;\n+\n+/**\n+ * Utility class to read nested properties.\n+ *\n+ * @author Gerhard Riegler - Initial contribution\n+ */\n+@NonNullByDefault\n+public class PropertyUtils {\n+\n+    /**\n+     * Returns true if the property is null.\n+     */\n+    public static boolean isNull(@Nullable Object instance, String propertyPath) throws GardenaException {\n+        return getPropertyValue(instance, propertyPath, Object.class) == null;\n+    }\n+\n+    /**\n+     * Returns the property value from the object instance, nested properties are possible.\n+     */\n+    public static @Nullable <T> T getPropertyValue(@Nullable Object instance, String propertyPath, Class<T> resultClass)\n+            throws GardenaException {\n+        String[] properties = propertyPath.split(\"\\\\.\");\n+        return getPropertyValue(instance, properties, resultClass, 0);\n+    }\n+\n+    /**\n+     * Iterates through the nested properties and returns the field value.\n+     */\n+    @SuppressWarnings(\"unchecked\")\n+    private static @Nullable <T> T getPropertyValue(@Nullable Object instance, String[] properties,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b409d15f2f1a250218ea6bfdbace50888428afb5"}, "originalPosition": 49}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM5OTA3NTE5OnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.gardena/src/main/resources/OH-INF/binding/binding.xml", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQyMDowMjozOVrOIEJ8hQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQyMDowMjozOVrOIEJ8hQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTIyODE2NQ==", "bodyText": "The author tag has been deprecated and removed in all other bindings, please remove it here too.", "url": "https://github.com/openhab/openhab-addons/pull/8869#discussion_r541228165", "createdAt": "2020-12-11T20:02:39Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.gardena/src/main/resources/OH-INF/binding/binding.xml", "diffHunk": "@@ -3,6 +3,7 @@\n \txmlns:binding=\"https://openhab.org/schemas/binding/v1.0.0\"\n \txsi:schemaLocation=\"https://openhab.org/schemas/binding/v1.0.0 https://openhab.org/schemas/binding-1.0.0.xsd\">\n \n-\t<name>Gardena Smart Home Binding</name>\n-\t<description>This is the binding for Gardena Smart Home.</description>\n+\t<name>Gardena Smart System Binding</name>\n+\t<description>This is the binding for Gardena smart system.</description>\n+\t<author>Gerhard Riegler</author>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b409d15f2f1a250218ea6bfdbace50888428afb5"}, "originalPosition": 8}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM5OTA4NDY3OnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.gardena/src/main/java/org/openhab/binding/gardena/internal/handler/GardenaThingHandler.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQyMDowNDoyMVrOIEKCpw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQyMDowNDoyMVrOIEKCpw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTIyOTczNQ==", "bodyText": "You need to cancel the Future returned by this in case the handler is disposed.", "url": "https://github.com/openhab/openhab-addons/pull/8869#discussion_r541229735", "createdAt": "2020-12-11T20:04:21Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.gardena/src/main/java/org/openhab/binding/gardena/internal/handler/GardenaThingHandler.java", "diffHunk": "@@ -142,210 +106,186 @@ public void channelLinked(ChannelUID channelUID) {\n      * Updates the channel from the Gardena device.\n      */\n     protected void updateChannel(ChannelUID channelUID) throws GardenaException, AccountHandlerNotAvailableException {\n-        Device device = getDevice();\n-        State state = convertToState(device, channelUID);\n-        if (state != null) {\n-            updateState(channelUID, state);\n+        String groupId = channelUID.getGroupId();\n+        if (groupId != null) {\n+            boolean isCommand = groupId.endsWith(\"_commands\");\n+            if (!isCommand || (isCommand && isLocalDurationCommand(channelUID))) {\n+                Device device = getDevice();\n+                State state = convertToState(device, channelUID);\n+                if (state != null) {\n+                    updateState(channelUID, state);\n+                }\n+            }\n         }\n     }\n \n     /**\n      * Converts a Gardena property value to a openHAB state.\n      */\n-    private State convertToState(Device device, ChannelUID channelUID) throws GardenaException {\n-        String abilityName = channelUID.getGroupId();\n+    private @Nullable State convertToState(Device device, ChannelUID channelUID) throws GardenaException {\n+        if (isLocalDurationCommand(channelUID)) {\n+            String dataItemProperty = getDeviceDataItemProperty(channelUID);\n+            return new DecimalType(Math.round(device.getLocalService(dataItemProperty).commandDuration / 60.0));\n+        }\n+\n+        String propertyPath = channelUID.getGroupId() + \".attributes.\";\n         String propertyName = channelUID.getIdWithoutGroup();\n \n+        if (propertyName.endsWith(\"_timestamp\")) {\n+            propertyPath += propertyName.replace(\"_\", \".\");\n+        } else {\n+            propertyPath += propertyName + \".value\";\n+        }\n+\n+        String acceptedItemType = null;\n         try {\n-            String value = device.getAbility(abilityName).getProperty(propertyName).getValueAsString();\n+            Channel channel = getThing().getChannel(channelUID.getId());\n+            if (channel != null) {\n+                acceptedItemType = StringUtils.substringBefore(channel.getAcceptedItemType(), \":\");\n \n-            if (StringUtils.trimToNull(value) == null || StringUtils.equals(value, \"N/A\")) {\n-                return UnDefType.NULL;\n-            }\n+                if (acceptedItemType != null) {\n+                    boolean isNullPropertyValue = PropertyUtils.isNull(device, propertyPath);\n+                    boolean isDurationProperty = \"duration\".equals(propertyName);\n \n-            switch (getThing().getChannel(channelUID.getId()).getAcceptedItemType()) {\n-                case \"String\":\n-                    return new StringType(value);\n-                case \"Number\":\n-                    if (ABILITY_RADIO.equals(abilityName) && PROPERTY_STATE.equals(propertyName)) {\n-                        switch (value) {\n-                            case \"poor\":\n-                                return new DecimalType(1);\n-                            case \"good\":\n-                                return new DecimalType(2);\n-                            case \"excellent\":\n-                                return new DecimalType(4);\n-                            default:\n-                                return UnDefType.NULL;\n-                        }\n-                    }\n-                    return new DecimalType(value);\n-                case \"Switch\":\n-                    return Boolean.TRUE.toString().equalsIgnoreCase(value) || \"on\".equalsIgnoreCase(value)\n-                            ? OnOffType.ON\n-                            : OnOffType.OFF;\n-                case \"DateTime\":\n-                    Calendar cal = DateUtils.parseToCalendar(value);\n-                    if (cal != null && !cal.before(VALID_DATE_START)) {\n-                        return new DateTimeType(ZonedDateTime.ofInstant(cal.toInstant(), ZoneId.systemDefault()));\n-                    } else {\n+                    if (isNullPropertyValue && !isDurationProperty) {\n                         return UnDefType.NULL;\n                     }\n+                    switch (acceptedItemType) {\n+                        case \"String\":\n+                            return new StringType(PropertyUtils.getPropertyValue(device, propertyPath, String.class));\n+                        case \"Number\":\n+                            if (isNullPropertyValue) {\n+                                return new DecimalType(0);\n+                            } else {\n+                                Number value = PropertyUtils.getPropertyValue(device, propertyPath, Number.class);\n+                                // convert duration from seconds to minutes\n+                                if (value != null) {\n+                                    if (isDurationProperty) {\n+                                        value = Math.round(value.longValue() / 60.0);\n+                                    }\n+                                    return new DecimalType(value.longValue());\n+                                }\n+                                return UnDefType.NULL;\n+                            }\n+                        case \"DateTime\":\n+                            Date date = PropertyUtils.getPropertyValue(device, propertyPath, Date.class);\n+                            if (date != null) {\n+                                ZonedDateTime zdt = ZonedDateTime.ofInstant(date.toInstant(),\n+                                        timeZoneProvider.getTimeZone());\n+                                return new DateTimeType(zdt);\n+                            }\n+                            return UnDefType.NULL;\n+                    }\n+                }\n             }\n         } catch (GardenaException e) {\n-            logger.warn(\"Channel '{}' cannot be updated as device does not contain property '{}:{}'\", channelUID,\n-                    abilityName, propertyName);\n-        }\n-        return null;\n-    }\n-\n-    /**\n-     * Converts an openHAB type to a Gardena command property.\n-     */\n-    private Object convertFromType(Type type) {\n-        if (type instanceof OnOffType) {\n-            return type == OnOffType.ON ? Boolean.TRUE : Boolean.FALSE;\n-        } else if (type instanceof DecimalType) {\n-            return ((DecimalType) type).intValue();\n-        } else if (type instanceof StringType) {\n-            return ((StringType) type).toFullString();\n+            logger.warn(\"Channel '{}' cannot be updated as device does not contain propertyPath '{}'\", channelUID,\n+                    propertyPath);\n+        } catch (ClassCastException ex) {\n+            logger.warn(\"Value of propertyPath '{}' can not be casted to {}: {}\", propertyPath, acceptedItemType,\n+                    ex.getMessage());\n         }\n         return null;\n     }\n \n     @Override\n     public void handleCommand(ChannelUID channelUID, Command command) {\n+        logger.debug(\"Command received: {}\", command);\n         try {\n-            GardenaSmartCommandName commandName = getCommandName(channelUID);\n-            logger.debug(\"Received Gardena command: {}\", commandName);\n-\n+            boolean isOnCommand = command instanceof OnOffType && ((OnOffType) command) == OnOffType.ON;\n+            String dataItemProperty = getDeviceDataItemProperty(channelUID);\n             if (RefreshType.REFRESH == command) {\n-                logger.debug(\"Refreshing channel '{}'\", channelUID);\n-                if (commandName != null && commandName.toString().startsWith(\"MEASURE_\")) {\n-                    getGardenaSmart().sendCommand(getDevice(), commandName, null);\n+                logger.debug(\"Refreshing Gardena connection\");\n+                getGardenaSmart().restartWebsockets();\n+            } else if (isLocalDurationCommand(channelUID)) {\n+                QuantityType<?> quantityType = (QuantityType<?>) command;\n+                getDevice().getLocalService(dataItemProperty).commandDuration = quantityType.intValue() * 60;\n+            } else if (isOnCommand) {\n+                GardenaCommand gardenaCommand = getGardenaCommand(dataItemProperty, channelUID);\n+                logger.debug(\"Received Gardena command: {}, {}\", gardenaCommand.getClass().getSimpleName(),\n+                        gardenaCommand.attributes.command);\n+\n+                DataItem<?> dataItem = PropertyUtils.getPropertyValue(getDevice(), dataItemProperty, DataItem.class);\n+                if (dataItem == null) {\n+                    logger.warn(\"DataItem {} is empty, ignoring command.\", dataItemProperty);\n                 } else {\n-                    updateChannel(channelUID);\n+                    getGardenaSmart().sendCommand(dataItem, gardenaCommand);\n+\n+                    scheduler.schedule(() -> {\n+                        updateState(channelUID, OnOffType.OFF);\n+                    }, 3, TimeUnit.SECONDS);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b409d15f2f1a250218ea6bfdbace50888428afb5"}, "originalPosition": 316}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM5OTEwMzgxOnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.gardena/src/main/java/org/openhab/binding/gardena/internal/GardenaSmartWebSocket.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQyMDowNzo0MlrOIEKOzQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQyMDowNzo0MlrOIEKOzQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTIzMjg0NQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    connectionTracker = scheduler.scheduleWithFixedDelay(() -> {\n          \n          \n            \n                        sendKeepAlivePing();\n          \n          \n            \n                    }, 2, 2, TimeUnit.MINUTES);\n          \n          \n            \n                    connectionTracker = scheduler.scheduleWithFixedDelay(this::sendKeepAlivePing, 2, 2, TimeUnit.MINUTES);", "url": "https://github.com/openhab/openhab-addons/pull/8869#discussion_r541232845", "createdAt": "2020-12-11T20:07:42Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.gardena/src/main/java/org/openhab/binding/gardena/internal/GardenaSmartWebSocket.java", "diffHunk": "@@ -0,0 +1,176 @@\n+/**\n+ * Copyright (c) 2010-2020 Contributors to the openHAB project\n+ *\n+ * See the NOTICE file(s) distributed with this work for additional\n+ * information.\n+ *\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0\n+ *\n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.openhab.binding.gardena.internal;\n+\n+import java.io.IOException;\n+import java.net.URI;\n+import java.nio.ByteBuffer;\n+import java.time.Instant;\n+import java.util.concurrent.ScheduledExecutorService;\n+import java.util.concurrent.ScheduledFuture;\n+import java.util.concurrent.TimeUnit;\n+\n+import org.eclipse.jdt.annotation.NonNullByDefault;\n+import org.eclipse.jdt.annotation.Nullable;\n+import org.eclipse.jetty.websocket.api.Session;\n+import org.eclipse.jetty.websocket.api.annotations.*;\n+import org.eclipse.jetty.websocket.api.extensions.Frame;\n+import org.eclipse.jetty.websocket.client.WebSocketClient;\n+import org.eclipse.jetty.websocket.common.WebSocketSession;\n+import org.eclipse.jetty.websocket.common.frames.PongFrame;\n+import org.openhab.binding.gardena.internal.config.GardenaConfig;\n+import org.openhab.binding.gardena.internal.model.dto.api.PostOAuth2Response;\n+import org.openhab.binding.gardena.internal.model.dto.api.WebSocketCreatedResponse;\n+import org.openhab.core.io.net.http.WebSocketFactory;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+/**\n+ * The {@link GardenaSmartWebSocket} implements the websocket for receiving constant updates from the Gardena smart\n+ * system.\n+ *\n+ * @author Gerhard Riegler - Initial contribution\n+ */\n+@NonNullByDefault\n+@WebSocket\n+public class GardenaSmartWebSocket {\n+    private final Logger logger = LoggerFactory.getLogger(GardenaSmartWebSocket.class);\n+    private final GardenaSmartWebSocketListener socketEventListener;\n+    private final long WEBSOCKET_IDLE_TIMEOUT = 300;\n+\n+    private WebSocketSession session;\n+    private WebSocketClient webSocketClient;\n+    private boolean closing;\n+    private Instant lastPong = Instant.now();\n+    private ScheduledExecutorService scheduler;\n+    private @Nullable ScheduledFuture<?> connectionTracker;\n+    private ByteBuffer pingPayload = ByteBuffer.wrap(\"ping\".getBytes());\n+    private @Nullable PostOAuth2Response token;\n+    private String socketId;\n+\n+    /**\n+     * Starts the websocket session.\n+     */\n+    public GardenaSmartWebSocket(GardenaSmartWebSocketListener socketEventListener,\n+            WebSocketCreatedResponse webSocketCreatedResponse, GardenaConfig config, ScheduledExecutorService scheduler,\n+            WebSocketFactory webSocketFactory, @Nullable PostOAuth2Response token, String socketId) throws Exception {\n+        this.socketEventListener = socketEventListener;\n+        this.scheduler = scheduler;\n+        this.token = token;\n+        this.socketId = socketId;\n+\n+        webSocketClient = webSocketFactory.createWebSocketClient(String.valueOf(this.getClass().hashCode()));\n+        webSocketClient.setConnectTimeout(config.getConnectionTimeout() * 1000L);\n+        webSocketClient.setStopTimeout(3000);\n+        webSocketClient.setMaxIdleTimeout(150000);\n+        webSocketClient.start();\n+\n+        logger.debug(\"Connecting to Gardena Webservice ({})\", socketId);\n+        session = (WebSocketSession) webSocketClient\n+                .connect(this, new URI(webSocketCreatedResponse.data.attributes.url)).get();\n+        session.setStopTimeout(3000);\n+    }\n+\n+    /**\n+     * Stops the websocket session.\n+     */\n+    public synchronized void stop() {\n+        closing = true;\n+        final ScheduledFuture<?> connectionTracker = this.connectionTracker;\n+        if (connectionTracker != null) {\n+            connectionTracker.cancel(true);\n+        }\n+        if (isRunning()) {\n+            logger.debug(\"Closing Gardena Webservice client ({})\", socketId);\n+            try {\n+                session.close();\n+            } catch (Exception ex) {\n+                // ignore\n+            } finally {\n+                try {\n+                    webSocketClient.stop();\n+                } catch (Exception e) {\n+                    // ignore\n+                }\n+            }\n+        }\n+    }\n+\n+    /**\n+     * Returns true, if the websocket is running.\n+     */\n+    public synchronized boolean isRunning() {\n+        return session.isOpen();\n+    }\n+\n+    @OnWebSocketConnect\n+    public void onConnect(Session session) {\n+        closing = false;\n+        logger.debug(\"Connected to Gardena Webservice ({})\", socketId);\n+\n+        connectionTracker = scheduler.scheduleWithFixedDelay(() -> {\n+            sendKeepAlivePing();\n+        }, 2, 2, TimeUnit.MINUTES);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b409d15f2f1a250218ea6bfdbace50888428afb5"}, "originalPosition": 123}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM5OTExNzEwOnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.gardena/src/main/java/org/openhab/binding/gardena/internal/GardenaSmartWebSocket.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQyMDowOTo1M1rOIEKXHg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQyMDowOTo1M1rOIEKXHg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTIzNDk3NA==", "bodyText": "You should specify the charset used here since the system default charset might not be the one you want since it varies from system to system.", "url": "https://github.com/openhab/openhab-addons/pull/8869#discussion_r541234974", "createdAt": "2020-12-11T20:09:53Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.gardena/src/main/java/org/openhab/binding/gardena/internal/GardenaSmartWebSocket.java", "diffHunk": "@@ -0,0 +1,176 @@\n+/**\n+ * Copyright (c) 2010-2020 Contributors to the openHAB project\n+ *\n+ * See the NOTICE file(s) distributed with this work for additional\n+ * information.\n+ *\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0\n+ *\n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.openhab.binding.gardena.internal;\n+\n+import java.io.IOException;\n+import java.net.URI;\n+import java.nio.ByteBuffer;\n+import java.time.Instant;\n+import java.util.concurrent.ScheduledExecutorService;\n+import java.util.concurrent.ScheduledFuture;\n+import java.util.concurrent.TimeUnit;\n+\n+import org.eclipse.jdt.annotation.NonNullByDefault;\n+import org.eclipse.jdt.annotation.Nullable;\n+import org.eclipse.jetty.websocket.api.Session;\n+import org.eclipse.jetty.websocket.api.annotations.*;\n+import org.eclipse.jetty.websocket.api.extensions.Frame;\n+import org.eclipse.jetty.websocket.client.WebSocketClient;\n+import org.eclipse.jetty.websocket.common.WebSocketSession;\n+import org.eclipse.jetty.websocket.common.frames.PongFrame;\n+import org.openhab.binding.gardena.internal.config.GardenaConfig;\n+import org.openhab.binding.gardena.internal.model.dto.api.PostOAuth2Response;\n+import org.openhab.binding.gardena.internal.model.dto.api.WebSocketCreatedResponse;\n+import org.openhab.core.io.net.http.WebSocketFactory;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+/**\n+ * The {@link GardenaSmartWebSocket} implements the websocket for receiving constant updates from the Gardena smart\n+ * system.\n+ *\n+ * @author Gerhard Riegler - Initial contribution\n+ */\n+@NonNullByDefault\n+@WebSocket\n+public class GardenaSmartWebSocket {\n+    private final Logger logger = LoggerFactory.getLogger(GardenaSmartWebSocket.class);\n+    private final GardenaSmartWebSocketListener socketEventListener;\n+    private final long WEBSOCKET_IDLE_TIMEOUT = 300;\n+\n+    private WebSocketSession session;\n+    private WebSocketClient webSocketClient;\n+    private boolean closing;\n+    private Instant lastPong = Instant.now();\n+    private ScheduledExecutorService scheduler;\n+    private @Nullable ScheduledFuture<?> connectionTracker;\n+    private ByteBuffer pingPayload = ByteBuffer.wrap(\"ping\".getBytes());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b409d15f2f1a250218ea6bfdbace50888428afb5"}, "originalPosition": 57}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM5OTEyOTExOnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.gardena/src/main/java/org/openhab/binding/gardena/internal/GardenaSmartWebSocket.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQyMDoxMTo1NFrOIEKecA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQyMDoxMTo1NFrOIEKecA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTIzNjg0OA==", "bodyText": "You should leave a comment here as to why you are using the hashcode of a class to create a websocket client.", "url": "https://github.com/openhab/openhab-addons/pull/8869#discussion_r541236848", "createdAt": "2020-12-11T20:11:54Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.gardena/src/main/java/org/openhab/binding/gardena/internal/GardenaSmartWebSocket.java", "diffHunk": "@@ -0,0 +1,176 @@\n+/**\n+ * Copyright (c) 2010-2020 Contributors to the openHAB project\n+ *\n+ * See the NOTICE file(s) distributed with this work for additional\n+ * information.\n+ *\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0\n+ *\n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.openhab.binding.gardena.internal;\n+\n+import java.io.IOException;\n+import java.net.URI;\n+import java.nio.ByteBuffer;\n+import java.time.Instant;\n+import java.util.concurrent.ScheduledExecutorService;\n+import java.util.concurrent.ScheduledFuture;\n+import java.util.concurrent.TimeUnit;\n+\n+import org.eclipse.jdt.annotation.NonNullByDefault;\n+import org.eclipse.jdt.annotation.Nullable;\n+import org.eclipse.jetty.websocket.api.Session;\n+import org.eclipse.jetty.websocket.api.annotations.*;\n+import org.eclipse.jetty.websocket.api.extensions.Frame;\n+import org.eclipse.jetty.websocket.client.WebSocketClient;\n+import org.eclipse.jetty.websocket.common.WebSocketSession;\n+import org.eclipse.jetty.websocket.common.frames.PongFrame;\n+import org.openhab.binding.gardena.internal.config.GardenaConfig;\n+import org.openhab.binding.gardena.internal.model.dto.api.PostOAuth2Response;\n+import org.openhab.binding.gardena.internal.model.dto.api.WebSocketCreatedResponse;\n+import org.openhab.core.io.net.http.WebSocketFactory;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+/**\n+ * The {@link GardenaSmartWebSocket} implements the websocket for receiving constant updates from the Gardena smart\n+ * system.\n+ *\n+ * @author Gerhard Riegler - Initial contribution\n+ */\n+@NonNullByDefault\n+@WebSocket\n+public class GardenaSmartWebSocket {\n+    private final Logger logger = LoggerFactory.getLogger(GardenaSmartWebSocket.class);\n+    private final GardenaSmartWebSocketListener socketEventListener;\n+    private final long WEBSOCKET_IDLE_TIMEOUT = 300;\n+\n+    private WebSocketSession session;\n+    private WebSocketClient webSocketClient;\n+    private boolean closing;\n+    private Instant lastPong = Instant.now();\n+    private ScheduledExecutorService scheduler;\n+    private @Nullable ScheduledFuture<?> connectionTracker;\n+    private ByteBuffer pingPayload = ByteBuffer.wrap(\"ping\".getBytes());\n+    private @Nullable PostOAuth2Response token;\n+    private String socketId;\n+\n+    /**\n+     * Starts the websocket session.\n+     */\n+    public GardenaSmartWebSocket(GardenaSmartWebSocketListener socketEventListener,\n+            WebSocketCreatedResponse webSocketCreatedResponse, GardenaConfig config, ScheduledExecutorService scheduler,\n+            WebSocketFactory webSocketFactory, @Nullable PostOAuth2Response token, String socketId) throws Exception {\n+        this.socketEventListener = socketEventListener;\n+        this.scheduler = scheduler;\n+        this.token = token;\n+        this.socketId = socketId;\n+\n+        webSocketClient = webSocketFactory.createWebSocketClient(String.valueOf(this.getClass().hashCode()));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b409d15f2f1a250218ea6bfdbace50888428afb5"}, "originalPosition": 72}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4156, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}