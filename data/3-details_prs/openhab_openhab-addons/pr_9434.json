{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQyOTU0NTcz", "number": 9434, "title": "[homematic] For non HmIP dimmers stateDescription values must be corrected too", "bodyText": "This patch corrects issue #8799 also for older, non HmIP dimmers.\nSigned-off-by: Martin Herbst develop@mherbst.de", "createdAt": "2020-12-19T17:27:13Z", "url": "https://github.com/openhab/openhab-addons/pull/9434", "merged": true, "mergeCommit": {"oid": "9cc0ff436f164fa8510d65c0d59f4688e3b387db"}, "closed": true, "closedAt": "2020-12-25T20:30:44Z", "author": {"login": "MHerbst"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdnwIuHgH2gAyNTQyOTU0NTczOjdhNmFlYzQ1ZDBiNjYwOWE1MjNlMjc1MGJhZjgwYjFlMGE5Yzc1Mzc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdpuYP9gFqTU1ODgzNTkwMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "7a6aec45d0b6609a523e2750baf80b1e0a9c7537", "author": {"user": {"login": "MHerbst", "name": "Martin Herbst"}}, "url": "https://github.com/openhab/openhab-addons/commit/7a6aec45d0b6609a523e2750baf80b1e0a9c7537", "committedDate": "2020-12-19T17:25:15Z", "message": "For non HmIP dimmers stateDescription values must be corrected too\n\nOlder HM dimmers are using a maximum values of 1.0. But also for these\ndevices the values must be corrected.\n\n\nSigned-off-by: Martin Herbst <develop@mherbst.de>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU2MDExNzgx", "url": "https://github.com/openhab/openhab-addons/pull/9434#pullrequestreview-556011781", "createdAt": "2020-12-20T12:09:09Z", "commit": {"oid": "7a6aec45d0b6609a523e2750baf80b1e0a9c7537"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMFQxMjowOTowOVrOIJDqSw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMFQxMjowOTowOVrOIJDqSw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjM2ODA3NQ==", "bodyText": "float and double shouldn't be compared with ==. You could use >= and <=.", "url": "https://github.com/openhab/openhab-addons/pull/9434#discussion_r546368075", "createdAt": "2020-12-20T12:09:09Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.homematic/src/main/java/org/openhab/binding/homematic/internal/type/HomematicTypeGeneratorImpl.java", "diffHunk": "@@ -279,8 +279,9 @@ public StateOption createOption(String value, String description) {\n                 BigDecimal min = MetadataUtils.createBigDecimal(dp.getMinValue());\n                 BigDecimal max = MetadataUtils.createBigDecimal(dp.getMaxValue());\n                 BigDecimal step = MetadataUtils.createBigDecimal(dp.getStep());\n-                if (ITEM_TYPE_DIMMER.equals(itemType) && dp.getMaxValue().doubleValue() == 1.01d) {\n-                    // For dimmers with a max value of 1.01 the values must be corrected\n+                if (ITEM_TYPE_DIMMER.equals(itemType)\n+                        && (dp.getMaxValue().doubleValue() == 1.01d || dp.getMaxValue().doubleValue() == 1.0d)) {\n+                    // For dimmers with a max value of 1.01 or 1.0 the values must be corrected", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7a6aec45d0b6609a523e2750baf80b1e0a9c7537"}, "originalPosition": 8}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "123ca66459e04c30a66c5979b5dd3fbf445133dc", "author": {"user": {"login": "MHerbst", "name": "Martin Herbst"}}, "url": "https://github.com/openhab/openhab-addons/commit/123ca66459e04c30a66c5979b5dd3fbf445133dc", "committedDate": "2020-12-20T13:28:52Z", "message": "Address review comments and make comparison safer\n\nSigned-off-by: Martin Herbst <develop@mherbst.de>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "82ab0880b289ca043abec8ddfdea990218874e58", "author": {"user": {"login": "MHerbst", "name": "Martin Herbst"}}, "url": "https://github.com/openhab/openhab-addons/commit/82ab0880b289ca043abec8ddfdea990218874e58", "committedDate": "2020-12-20T13:31:55Z", "message": "One closing bracket too much\n\nSigned-off-by: Martin Herbst <develop@mherbst.de>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6d5ff3c3f4d8c61c0da2374c9a8fb27cfb27dbfa", "author": {"user": {"login": "MHerbst", "name": "Martin Herbst"}}, "url": "https://github.com/openhab/openhab-addons/commit/6d5ff3c3f4d8c61c0da2374c9a8fb27cfb27dbfa", "committedDate": "2020-12-21T17:59:18Z", "message": "Changed comparison to check with \"equals\"\n\nSigned-off-by: Martin Herbst <develop@mherbst.de>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU4ODM1OTAw", "url": "https://github.com/openhab/openhab-addons/pull/9434#pullrequestreview-558835900", "createdAt": "2020-12-25T20:30:15Z", "commit": {"oid": "6d5ff3c3f4d8c61c0da2374c9a8fb27cfb27dbfa"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3529, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}