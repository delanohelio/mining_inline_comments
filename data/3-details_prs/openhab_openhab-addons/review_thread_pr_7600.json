{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE2MDYxMzgx", "number": 7600, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQxMDozMTozM1rOD-J8Hw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQxMToxODo1NlrOD-K2PQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY2NTAxMTUxOnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.io.homekit/README.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQxMDozMTozM1rOGYFW_Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQxMDozMTozM1rOGYFW_Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzkwNjgxMw==", "bodyText": "Rather accessories ?", "url": "https://github.com/openhab/openhab-addons/pull/7600#discussion_r427906813", "createdAt": "2020-05-20T10:31:33Z", "author": {"login": "lolodomo"}, "path": "bundles/org.openhab.io.homekit/README.md", "diffHunk": "@@ -402,7 +402,7 @@ openhab> log:tail io.github.hapjava\n \n ## Console commands\n \n-`smarthome:homekit listAccessories` - list all HomeKit accessory currently advertised to the HomeKit clients. the commands list the ID and name of accessories. \n+`smarthome:homekit list` - list all HomeKit accessory currently advertised to the HomeKit clients.  ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b8f8efab3c92c5ab9039d6f5c082aa8eba64e8fc"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY2NTAxMjg1OnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.io.homekit/README.md", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQxMDozMjowMFrOGYFX2A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQxMTowMDo1N1rOGYGSfA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzkwNzAzMg==", "bodyText": "match", "url": "https://github.com/openhab/openhab-addons/pull/7600#discussion_r427907032", "createdAt": "2020-05-20T10:32:00Z", "author": {"login": "lolodomo"}, "path": "bundles/org.openhab.io.homekit/README.md", "diffHunk": "@@ -402,7 +402,7 @@ openhab> log:tail io.github.hapjava\n \n ## Console commands\n \n-`smarthome:homekit listAccessories` - list all HomeKit accessory currently advertised to the HomeKit clients. the commands list the ID and name of accessories. \n+`smarthome:homekit list` - list all HomeKit accessory currently advertised to the HomeKit clients.  \n \n-`smarthome:homekit printAccessory <accessory_id>` - print additional details like list of characteristics for give accessory.\n+`smarthome:homekit show <accessory_id | name>` - print additional details of the accessories which matche provided IDs or name.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b8f8efab3c92c5ab9039d6f5c082aa8eba64e8fc"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzkyMjA0NA==", "bodyText": "oh. that many typos in just few changes sentences :(\nthank you the review. typos fixed.", "url": "https://github.com/openhab/openhab-addons/pull/7600#discussion_r427922044", "createdAt": "2020-05-20T11:00:57Z", "author": {"login": "yfre"}, "path": "bundles/org.openhab.io.homekit/README.md", "diffHunk": "@@ -402,7 +402,7 @@ openhab> log:tail io.github.hapjava\n \n ## Console commands\n \n-`smarthome:homekit listAccessories` - list all HomeKit accessory currently advertised to the HomeKit clients. the commands list the ID and name of accessories. \n+`smarthome:homekit list` - list all HomeKit accessory currently advertised to the HomeKit clients.  \n \n-`smarthome:homekit printAccessory <accessory_id>` - print additional details like list of characteristics for give accessory.\n+`smarthome:homekit show <accessory_id | name>` - print additional details of the accessories which matche provided IDs or name.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzkwNzAzMg=="}, "originalCommit": {"oid": "b8f8efab3c92c5ab9039d6f5c082aa8eba64e8fc"}, "originalPosition": 8}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY2NTAxMzgyOnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.io.homekit/src/main/java/org/openhab/io/homekit/internal/HomekitCommandExtension.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQxMDozMjoyMFrOGYFYgA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQxMDozMjoyMFrOGYFYgA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzkwNzIwMA==", "bodyText": "is required", "url": "https://github.com/openhab/openhab-addons/pull/7600#discussion_r427907200", "createdAt": "2020-05-20T10:32:20Z", "author": {"login": "lolodomo"}, "path": "bundles/org.openhab.io.homekit/src/main/java/org/openhab/io/homekit/internal/HomekitCommandExtension.java", "diffHunk": "@@ -68,25 +68,27 @@ public void execute(String[] args, Console console) {\n                     break;\n                 case SUBCMD_PRINT_ACCESSORY:\n                     if (args.length > 1) {\n-                        Integer id = Integer.valueOf(args[1]);\n-                        printAccessory(id, console);\n+                        printAccessory(args[1], console);\n                     } else {\n-                        console.println(\"accessory id is required as an argument\");\n+                        console.println(\"accessory id or name are required as an argument\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b8f8efab3c92c5ab9039d6f5c082aa8eba64e8fc"}, "originalPosition": 20}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY2NTAyMTc3OnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.io.homekit/src/main/java/org/openhab/io/homekit/internal/HomekitCommandExtension.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQxMDozNDo1M1rOGYFdqA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQxMDozNDo1M1rOGYFdqA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzkwODUyMA==", "bodyText": "This is no more a full matching but now a partial matching. Maybe this has to be mentioned in the usage ?", "url": "https://github.com/openhab/openhab-addons/pull/7600#discussion_r427908520", "createdAt": "2020-05-20T10:34:53Z", "author": {"login": "lolodomo"}, "path": "bundles/org.openhab.io.homekit/src/main/java/org/openhab/io/homekit/internal/HomekitCommandExtension.java", "diffHunk": "@@ -134,10 +136,11 @@ private void listAccessories(Console console) {\n         });\n     }\n \n-    private void printAccessory(Integer accessory_id, Console console) {\n+    private void printAccessory(String id, Console console) {\n         homekit.getAccessories().forEach(v -> {\n             try {\n-                if (v.getId() == accessory_id) {\n+                if ((\"\" + v.getId()).contains(id) || ((v.getName().get() != null)\n+                        && (v.getName().get().toUpperCase().contains(id.toUpperCase())))) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b8f8efab3c92c5ab9039d6f5c082aa8eba64e8fc"}, "originalPosition": 54}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY2NTE2MDI5OnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.io.homekit/src/main/java/org/openhab/io/homekit/internal/HomekitCommandExtension.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQxMToxODo1NlrOGYG2fg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQxMToyNjowOFrOGYHEIQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzkzMTI2Mg==", "bodyText": "Please mention the partial matching here too.", "url": "https://github.com/openhab/openhab-addons/pull/7600#discussion_r427931262", "createdAt": "2020-05-20T11:18:56Z", "author": {"login": "lolodomo"}, "path": "bundles/org.openhab.io.homekit/src/main/java/org/openhab/io/homekit/internal/HomekitCommandExtension.java", "diffHunk": "@@ -68,25 +68,27 @@ public void execute(String[] args, Console console) {\n                     break;\n                 case SUBCMD_PRINT_ACCESSORY:\n                     if (args.length > 1) {\n-                        Integer id = Integer.valueOf(args[1]);\n-                        printAccessory(id, console);\n+                        printAccessory(args[1], console);\n                     } else {\n-                        console.println(\"accessory id is required as an argument\");\n+                        console.println(\"accessory id or name is required as an argument\");\n                     }\n                     break;\n                 default:\n                     console.println(\"Unknown command '\" + subCommand + \"'\");\n                     printUsage(console);\n                     break;\n             }\n+        } else {\n+            printUsage(console);\n         }\n     }\n \n     @Override\n     public List<String> getUsages() {\n         return Arrays.asList(buildCommandUsage(SUBCMD_LIST_ACCESSORIES, \"list all HomeKit accessories\"),\n-                buildCommandUsage(SUBCMD_PRINT_ACCESSORY + \" <accessory id>\", \"print accessorty details\"),\n-                buildCommandUsage(SUBCMD_CLEAR_PAIRINGS, \"removes all pairings with HomeKit clients\"),\n+                buildCommandUsage(SUBCMD_PRINT_ACCESSORY + \" <accessory id | accessory name>\",\n+                        \"search for accessories and show details. \"),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1237b463ec418d0918902dfb402e8dec6f846381"}, "originalPosition": 39}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzkzNDc1Mw==", "bodyText": "good point. copied the description from README.", "url": "https://github.com/openhab/openhab-addons/pull/7600#discussion_r427934753", "createdAt": "2020-05-20T11:26:08Z", "author": {"login": "yfre"}, "path": "bundles/org.openhab.io.homekit/src/main/java/org/openhab/io/homekit/internal/HomekitCommandExtension.java", "diffHunk": "@@ -68,25 +68,27 @@ public void execute(String[] args, Console console) {\n                     break;\n                 case SUBCMD_PRINT_ACCESSORY:\n                     if (args.length > 1) {\n-                        Integer id = Integer.valueOf(args[1]);\n-                        printAccessory(id, console);\n+                        printAccessory(args[1], console);\n                     } else {\n-                        console.println(\"accessory id is required as an argument\");\n+                        console.println(\"accessory id or name is required as an argument\");\n                     }\n                     break;\n                 default:\n                     console.println(\"Unknown command '\" + subCommand + \"'\");\n                     printUsage(console);\n                     break;\n             }\n+        } else {\n+            printUsage(console);\n         }\n     }\n \n     @Override\n     public List<String> getUsages() {\n         return Arrays.asList(buildCommandUsage(SUBCMD_LIST_ACCESSORIES, \"list all HomeKit accessories\"),\n-                buildCommandUsage(SUBCMD_PRINT_ACCESSORY + \" <accessory id>\", \"print accessorty details\"),\n-                buildCommandUsage(SUBCMD_CLEAR_PAIRINGS, \"removes all pairings with HomeKit clients\"),\n+                buildCommandUsage(SUBCMD_PRINT_ACCESSORY + \" <accessory id | accessory name>\",\n+                        \"search for accessories and show details. \"),", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzkzMTI2Mg=="}, "originalCommit": {"oid": "1237b463ec418d0918902dfb402e8dec6f846381"}, "originalPosition": 39}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 208, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}