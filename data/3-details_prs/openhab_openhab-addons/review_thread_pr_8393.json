{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc5MjY3MjI4", "number": 8393, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNFQxNzo1ODoyNFrOEgen3g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOVQwMjoxOToxMlrOEheuOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAyNDkxNjE0OnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.radiothermostat/src/main/resources/ESH-INF/thing/thing-types.xml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNFQxNzo1ODoyNFrOHNXLZg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNFQxNzo1ODoyNFrOHNXLZg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Mzc3MzI4Ng==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\t\t\t<label>Run in absolute setpoint mode</label>\n          \n          \n            \n            \t\t\t\t<label>Run in Absolute Setpoint Mode</label>", "url": "https://github.com/openhab/openhab-addons/pull/8393#discussion_r483773286", "createdAt": "2020-09-04T17:58:24Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.radiothermostat/src/main/resources/ESH-INF/thing/thing-types.xml", "diffHunk": "@@ -58,6 +58,11 @@\n \t\t\t\t<description>Optional Flag to Disable the Retrieval of Run-time Data from the Thermostat</description>\n \t\t\t\t<default>false</default>\n \t\t\t</parameter>\n+\t\t\t<parameter name=\"absolute\" type=\"boolean\">\n+\t\t\t\t<label>Run in absolute setpoint mode</label>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "13475ea8dd4533ab9a871a74ea24351c6fbbb750"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAzMDk1NDA0OnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.radiothermostat/README.md", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOFQwMTo1NjozNFrOHOKOzQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOFQwMTo1NjozNFrOHOKOzQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDYwOTc0MQ==", "bodyText": "spelling: 'permanent'", "url": "https://github.com/openhab/openhab-addons/pull/8393#discussion_r484609741", "createdAt": "2020-09-08T01:56:34Z", "author": {"login": "mlobstein"}, "path": "bundles/org.openhab.binding.radiothermostat/README.md", "diffHunk": "@@ -32,13 +32,14 @@ The binding has no configuration options, all configuration is done at Thing lev\n \n The thing has a few configuration parameters:\n \n-|    Parameter    | Description                                                                                               |\n-|-----------------|-----------------------------------------------------------------------------------------------------------|\n-| hostName        | The host name or IP address of the thermostat. Mandatory.                                                 |\n-| refresh         | Overrides the refresh interval of the thermostat data. Optional, the default is 2 minutes.                |\n-| logRefresh      | Overrides the refresh interval of the run-time logs & humidity data. Optional, the default is 10 minutes. |\n-| isCT80          | Flag to enable additional features only available on the CT80 thermostat. Optional, the default is false. |\n-| disableLogs     | Disable retrieval of run-time logs from the thermostat. Optional, the default is false.                   |\n+|    Parameter    | Description                                                                                                                                                                                                                                                                              |\n+|-----------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n+| hostName        | The host name or IP address of the thermostat. Mandatory.                                                                                                                                                                                                                                |\n+| refresh         | Overrides the refresh interval of the thermostat data. Optional, the default is 2 minutes.                                                                                                                                                                                               |\n+| logRefresh      | Overrides the refresh interval of the run-time logs & humidity data. Optional, the default is 10 minutes.                                                                                                                                                                                |\n+| isCT80          | Flag to enable additional features only available on the CT80 thermostat. Optional, the default is false.                                                                                                                                                                                |\n+| disableLogs     | Disable retrieval of run-time logs from the thermostat. Optional, the default is false.                                                                                                                                                                                                  |\n+| absolute        | Controls temporary or absolute mode. When false setpoint changes are temporary; the thermostat will return to its program after a time. When true setpoint changes are perminant; the thermostat will ignore its program maintaining the given setpoint. Optional, the default is false. |", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "13475ea8dd4533ab9a871a74ea24351c6fbbb750"}, "originalPosition": 18}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAzMjg2NTE3OnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.radiothermostat/src/main/resources/ESH-INF/thing/thing-types.xml", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOFQxMzoxMjoxNVrOHOcKGw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOFQxMzoxMjoxNVrOHOcKGw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDkwMzQ1MQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\t\t<parameter name=\"absolute\" type=\"boolean\">\n          \n          \n            \n            \t\t\t\t<label>Run in Absolute Setpoint Mode</label>\n          \n          \n            \n            \t\t\t\t<description>Optional Flag to run in absolute or temporary setpoint mode</description>\n          \n          \n            \n            \t\t\t\t<default>false</default>\n          \n          \n            \n            \t\t\t</parameter>\n          \n          \n            \n            \t\t\t<parameter name=\"setpointMode\" type=\"text\">\n          \n          \n            \n            \t\t\t\t<label>Setpoint Mode</label>\n          \n          \n            \n            \t\t\t\t<description>Run in absolute or temporary setpoint mode</description>\n          \n          \n            \n            \t\t\t\t<default>temporary</default>\n          \n          \n            \n            \t\t\t\t<options>\n          \n          \n            \n            \t\t\t\t    <option value=\"absolute\">Absolute</option>\n          \n          \n            \n            \t\t\t\t    <option value=\"temporary\">Temporary</option>\n          \n          \n            \n            \t\t\t\t</options>\n          \n          \n            \n            \t\t\t</parameter>", "url": "https://github.com/openhab/openhab-addons/pull/8393#discussion_r484903451", "createdAt": "2020-09-08T13:12:15Z", "author": {"login": "Hilbrand"}, "path": "bundles/org.openhab.binding.radiothermostat/src/main/resources/ESH-INF/thing/thing-types.xml", "diffHunk": "@@ -58,6 +58,11 @@\n \t\t\t\t<description>Optional Flag to Disable the Retrieval of Run-time Data from the Thermostat</description>\n \t\t\t\t<default>false</default>\n \t\t\t</parameter>\n+\t\t\t<parameter name=\"absolute\" type=\"boolean\">\n+\t\t\t\t<label>Run in Absolute Setpoint Mode</label>\n+\t\t\t\t<description>Optional Flag to run in absolute or temporary setpoint mode</description>\n+\t\t\t\t<default>false</default>\n+\t\t\t</parameter>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a6c91b2b5bedae5e1b6ef0405e30ebcbee9e10e4"}, "originalPosition": 8}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAzNTQwOTU5OnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.radiothermostat/src/main/java/org/openhab/binding/radiothermostat/internal/handler/RadioThermostatHandler.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOVQwMjoxMzo1M1rOHO0Jqg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOVQwMjoxMzo1M1rOHO0Jqg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTI5NjU1NA==", "bodyText": "Should probably be hostName.equals(\"\"), sorry about that.", "url": "https://github.com/openhab/openhab-addons/pull/8393#discussion_r485296554", "createdAt": "2020-09-09T02:13:53Z", "author": {"login": "mlobstein"}, "path": "bundles/org.openhab.binding.radiothermostat/src/main/java/org/openhab/binding/radiothermostat/internal/handler/RadioThermostatHandler.java", "diffHunk": "@@ -87,37 +86,66 @@\n     private @Nullable ScheduledFuture<?> refreshJob;\n     private @Nullable ScheduledFuture<?> logRefreshJob;\n \n-    private @Nullable RadioThermostatConfiguration config;\n+    private int refreshPeriod = DEFAULT_REFRESH_PERIOD;\n+    private int logRefreshPeriod = DEFAULT_LOG_REFRESH_PERIOD;\n+    private boolean isCT80 = false;\n+    private boolean disableLogs = false;\n+    private String setpointCmdKeyPrefix = \"t_\";\n \n-    public RadioThermostatHandler(Thing thing,\n-            @Nullable RadioThermostatStateDescriptionProvider stateDescriptionProvider, HttpClient httpClient) {\n+    public RadioThermostatHandler(Thing thing, RadioThermostatStateDescriptionProvider stateDescriptionProvider,\n+            HttpClient httpClient) {\n         super(thing);\n         this.stateDescriptionProvider = stateDescriptionProvider;\n         gson = new Gson();\n         connector = new RadioThermostatConnector(httpClient);\n     }\n \n-    @SuppressWarnings(\"null\")\n     @Override\n     public void initialize() {\n         logger.debug(\"Initializing RadioThermostat handler.\");\n-        this.config = getConfigAs(RadioThermostatConfiguration.class);\n-        connector.setThermostatHostName(config.hostName);\n+        RadioThermostatConfiguration config = getConfigAs(RadioThermostatConfiguration.class);\n+\n+        final String hostName = config.hostName;\n+        final Integer refresh = config.refresh;\n+        final Integer logRefresh = config.logRefresh;\n+        this.isCT80 = config.isCT80;\n+        this.disableLogs = config.disableLogs;\n+\n+        if (hostName == null || hostName == \"\") {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "507140fe848b57c9206c2cf6d2a28eb968135657"}, "originalPosition": 45}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAzNTQxODE3OnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.radiothermostat/src/main/java/org/openhab/binding/radiothermostat/internal/handler/RadioThermostatHandler.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOVQwMjoxOToxMlrOHO0OzQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOVQwMzoyMjo0MlrOHO1NMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTI5Nzg2OQ==", "bodyText": "nice", "url": "https://github.com/openhab/openhab-addons/pull/8393#discussion_r485297869", "createdAt": "2020-09-09T02:19:12Z", "author": {"login": "mlobstein"}, "path": "bundles/org.openhab.binding.radiothermostat/src/main/java/org/openhab/binding/radiothermostat/internal/handler/RadioThermostatHandler.java", "diffHunk": "@@ -248,10 +278,10 @@ public void handleCommand(ChannelUID channelUID, Command command) {\n                 case SET_POINT:\n                     String cmdKey = null;\n                     if (rthermData.getThermostatData().getMode() == 1) {\n-                        cmdKey = \"t_heat\";\n+                        cmdKey = this.setpointCmdKeyPrefix + \"heat\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d15ea1b5db280a26719c0d5a237c9ab7cf6ebf7e"}, "originalPosition": 162}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTMxMzg0Mw==", "bodyText": "There you go, took care of it.", "url": "https://github.com/openhab/openhab-addons/pull/8393#discussion_r485313843", "createdAt": "2020-09-09T03:22:42Z", "author": {"login": "silverfunk"}, "path": "bundles/org.openhab.binding.radiothermostat/src/main/java/org/openhab/binding/radiothermostat/internal/handler/RadioThermostatHandler.java", "diffHunk": "@@ -248,10 +278,10 @@ public void handleCommand(ChannelUID channelUID, Command command) {\n                 case SET_POINT:\n                     String cmdKey = null;\n                     if (rthermData.getThermostatData().getMode() == 1) {\n-                        cmdKey = \"t_heat\";\n+                        cmdKey = this.setpointCmdKeyPrefix + \"heat\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTI5Nzg2OQ=="}, "originalCommit": {"oid": "d15ea1b5db280a26719c0d5a237c9ab7cf6ebf7e"}, "originalPosition": 162}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4424, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}