{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU4NDEyMjEy", "number": 8222, "title": "[avmfritz] Added ThingActions to handle Boost and Window-Open modes for heating devices / groups", "bodyText": "Added ThingActions to handle Boost and Window-Open modes for heating devices / groups\n\nCloses #8144\nSigned-off-by: Christoph Weitkamp github@christophweitkamp.de", "createdAt": "2020-07-29T12:38:44Z", "url": "https://github.com/openhab/openhab-addons/pull/8222", "merged": true, "mergeCommit": {"oid": "cfd2ae553b61a309498a5c1b1c28fef85a253add"}, "closed": true, "closedAt": "2020-09-02T21:07:19Z", "author": {"login": "cweitkamp"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc7tqXagFqTQ2MTE5MzY0NQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdFCkHhgFqTQ4MTMwMDU5OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYxMTkzNjQ1", "url": "https://github.com/openhab/openhab-addons/pull/8222#pullrequestreview-461193645", "createdAt": "2020-08-04T21:39:37Z", "commit": {"oid": "1ce0f1aa0000a1270952578de164e25812b38876"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQyMTozOTozN1rOG7ycMQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQyMTozOTozN1rOG7ycMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTM0NTU4NQ==", "bodyText": "I am actually not certain myself anymore, but shouldn't actions be in exported packages, so that they can be seen by the rule engine? Scanning our repo here, I noticed that we have a few bindings putting actions in exported packages, while others have it in internal packages...", "url": "https://github.com/openhab/openhab-addons/pull/8222#discussion_r465345585", "createdAt": "2020-08-04T21:39:37Z", "author": {"login": "kaikreuzer"}, "path": "bundles/org.openhab.binding.avmfritz/src/main/java/org/openhab/binding/avmfritz/internal/actions/AVMFritzHeatingActions.java", "diffHunk": "@@ -0,0 +1,99 @@\n+/**\n+ * Copyright (c) 2010-2020 Contributors to the openHAB project\n+ *\n+ * See the NOTICE file(s) distributed with this work for additional\n+ * information.\n+ *\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0\n+ *\n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.openhab.binding.avmfritz.internal.actions;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1ce0f1aa0000a1270952578de164e25812b38876"}, "originalPosition": 13}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYxMTk2Nzcx", "url": "https://github.com/openhab/openhab-addons/pull/8222#pullrequestreview-461196771", "createdAt": "2020-08-04T21:45:37Z", "commit": {"oid": "1ce0f1aa0000a1270952578de164e25812b38876"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQyMTo0NTozN1rOG7ymmg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQyMTo0NTozN1rOG7ymmg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTM0ODI1MA==", "bodyText": "I know, it has not been introduced by you, but is it intentionally getWindowopenactiv and not getWindowopenactive?", "url": "https://github.com/openhab/openhab-addons/pull/8222#discussion_r465348250", "createdAt": "2020-08-04T21:45:37Z", "author": {"login": "kaikreuzer"}, "path": "bundles/org.openhab.binding.avmfritz/src/main/java/org/openhab/binding/avmfritz/internal/dto/HeatingModel.java", "diffHunk": "@@ -153,14 +155,26 @@ public void setBatterylow(BigDecimal batterylow) {\n         this.batterylow = batterylow;\n     }\n \n-    public BigDecimal getWindowopenactiv() {\n+    public @Nullable BigDecimal getWindowopenactiv() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1ce0f1aa0000a1270952578de164e25812b38876"}, "originalPosition": 61}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc1NzUzMTQ3", "url": "https://github.com/openhab/openhab-addons/pull/8222#pullrequestreview-475753147", "createdAt": "2020-08-26T18:33:42Z", "commit": {"oid": "42a2361578c9c3077e8c5e8138cab01291e687ec"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQxODozNzozMVrOHHYvjg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQxODo0NToyMFrOHHZANA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzUwNzQ3MA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        .of(SUPPORTED_BUTTON_THING_TYPES_UIDS.stream(), SUPPORTED_HEATING_THING_TYPES.stream(),\n          \n          \n            \n                                SUPPORTED_DEVICE_THING_TYPES_UIDS.stream(), SUPPORTED_GROUP_THING_TYPES_UIDS.stream(),\n          \n          \n            \n                                SUPPORTED_BRIDGE_THING_TYPES_UIDS.stream())\n          \n          \n            \n                        .reduce(Stream::concat).orElseGet(Stream::empty).collect(Collectors.toSet()));\n          \n          \n            \n                        .of(SUPPORTED_BUTTON_THING_TYPES_UIDS, SUPPORTED_HEATING_THING_TYPES,\n          \n          \n            \n                                SUPPORTED_DEVICE_THING_TYPES_UIDS, SUPPORTED_GROUP_THING_TYPES_UIDS,\n          \n          \n            \n                                SUPPORTED_BRIDGE_THING_TYPES_UIDS)\n          \n          \n            \n                        .flatMap(Set::stream).orElseGet(Stream::empty).collect(Collectors.toSet()));", "url": "https://github.com/openhab/openhab-addons/pull/8222#discussion_r477507470", "createdAt": "2020-08-26T18:37:31Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.avmfritz/src/main/java/org/openhab/binding/avmfritz/internal/AVMFritzBindingConstants.java", "diffHunk": "@@ -149,7 +150,8 @@\n             .unmodifiableSet(Stream.of(BRIDGE_THING_TYPE, PL546E_STANDALONE_THING_TYPE).collect(Collectors.toSet()));\n \n     public static final Set<ThingTypeUID> SUPPORTED_THING_TYPES_UIDS = Collections.unmodifiableSet(Stream\n-            .of(SUPPORTED_BUTTON_THING_TYPES_UIDS.stream(), SUPPORTED_DEVICE_THING_TYPES_UIDS.stream(),\n-                    SUPPORTED_GROUP_THING_TYPES_UIDS.stream(), SUPPORTED_BRIDGE_THING_TYPES_UIDS.stream())\n+            .of(SUPPORTED_BUTTON_THING_TYPES_UIDS.stream(), SUPPORTED_HEATING_THING_TYPES.stream(),\n+                    SUPPORTED_DEVICE_THING_TYPES_UIDS.stream(), SUPPORTED_GROUP_THING_TYPES_UIDS.stream(),\n+                    SUPPORTED_BRIDGE_THING_TYPES_UIDS.stream())\n             .reduce(Stream::concat).orElseGet(Stream::empty).collect(Collectors.toSet()));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "42a2361578c9c3077e8c5e8138cab01291e687ec"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzUxMDg2MA==", "bodyText": "Proxy instances can only be interfaces, not concrete classes. So you need to make an interface that has all of your methods your actions are going to use.\nThis invokeMethodOf method should likewise return an interface instead.", "url": "https://github.com/openhab/openhab-addons/pull/8222#discussion_r477510860", "createdAt": "2020-08-26T18:43:59Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.avmfritz/src/main/java/org/openhab/binding/avmfritz/actions/AVMFritzHeatingActions.java", "diffHunk": "@@ -0,0 +1,99 @@\n+/**\n+ * Copyright (c) 2010-2020 Contributors to the openHAB project\n+ *\n+ * See the NOTICE file(s) distributed with this work for additional\n+ * information.\n+ *\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0\n+ *\n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.openhab.binding.avmfritz.actions;\n+\n+import java.lang.reflect.Method;\n+import java.lang.reflect.Proxy;\n+\n+import org.eclipse.jdt.annotation.NonNullByDefault;\n+import org.eclipse.jdt.annotation.Nullable;\n+import org.eclipse.smarthome.core.thing.binding.ThingActions;\n+import org.eclipse.smarthome.core.thing.binding.ThingActionsScope;\n+import org.eclipse.smarthome.core.thing.binding.ThingHandler;\n+import org.openhab.core.automation.annotation.ActionInput;\n+import org.openhab.core.automation.annotation.RuleAction;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+/**\n+ * The {@link AVMFritzHeatingActions} defines thing actions for heating devices / groups of the avmfritz binding.\n+ *\n+ * @author Christoph Weitkamp - Initial contribution\n+ */\n+@ThingActionsScope(name = \"avmfritz\")\n+@NonNullByDefault\n+public class AVMFritzHeatingActions implements ThingActions {\n+\n+    private final Logger logger = LoggerFactory.getLogger(AVMFritzHeatingActions.class);\n+\n+    private @Nullable AVMFritzHeatingActionsHandler handler;\n+\n+    @Override\n+    public void setThingHandler(@Nullable ThingHandler handler) {\n+        this.handler = (AVMFritzHeatingActionsHandler) handler;\n+    }\n+\n+    @Override\n+    public @Nullable ThingHandler getThingHandler() {\n+        return handler;\n+    }\n+\n+    @RuleAction(label = \"@text/setBoostModeModeActionLabel\", description = \"@text/setBoostModeActionDescription\")\n+    public void setBoostMode(\n+            @ActionInput(name = \"Duration\", label = \"@text/setBoostModeDurationInputLabel\", description = \"@text/setBoostModeDurationInputDescription\", type = \"java.lang.Long\", required = true) Long duration) {\n+        AVMFritzHeatingActionsHandler actionsHandler = handler;\n+        if (actionsHandler == null) {\n+            logger.warn(\"AVMFritzHeatingActions ThingHandler is null!\");\n+            return;\n+        }\n+        actionsHandler.setBoostMode(duration.longValue());\n+    }\n+\n+    public static void setBoostMode(@Nullable ThingActions actions, Long duration) {\n+        invokeMethodOf(actions).setBoostMode(duration);\n+    }\n+\n+    @RuleAction(label = \"@text/setWindowOpenModeActionLabel\", description = \"@text/setWindowOpenModeActionDescription\")\n+    public void setWindowOpenMode(\n+            @ActionInput(name = \"Duration\", label = \"@text/setWindowOpenModeDurationInputLabel\", description = \"@text/setWindowOpenModeDurationInputDescription\", type = \"java.lang.Long\", required = true) Long duration) {\n+        AVMFritzHeatingActionsHandler actionsHandler = handler;\n+        if (actionsHandler == null) {\n+            logger.warn(\"AVMFritzHeatingActions ThingHandler is null!\");\n+            return;\n+        }\n+        actionsHandler.setWindowOpenMode(duration.longValue());\n+    }\n+\n+    public static void setWindowOpenMode(@Nullable ThingActions actions, Long duration) {\n+        invokeMethodOf(actions).setWindowOpenMode(duration);\n+    }\n+\n+    private static AVMFritzHeatingActions invokeMethodOf(@Nullable ThingActions actions) {\n+        if (actions == null) {\n+            throw new IllegalArgumentException(\"Actions cannot be null\");\n+        }\n+        if (actions.getClass().getName().equals(AVMFritzHeatingActions.class.getName())) {\n+            if (actions instanceof AVMFritzHeatingActions) {\n+                return (AVMFritzHeatingActions) actions;\n+            } else {\n+                return (AVMFritzHeatingActions) Proxy.newProxyInstance(AVMFritzHeatingActions.class.getClassLoader(),\n+                        new Class[] { AVMFritzHeatingActions.class }, (Object proxy, Method method, Object[] args) -> {\n+                            Method m = actions.getClass().getDeclaredMethod(method.getName(),\n+                                    method.getParameterTypes());\n+                            return m.invoke(actions, args);\n+                        });\n+            }\n+        }\n+        throw new IllegalArgumentException(\"Actions is not an instance of AVMFritzHeatingActions\");\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "42a2361578c9c3077e8c5e8138cab01291e687ec"}, "originalPosition": 98}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzUxMTY0NQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            setWindowOpenModeActionDescription = Activates the Window Open mode of the heating thermostat.\n          \n          \n            \n            setWindowOpenModeActionDescription = Activates the Window Open Mode of the heating thermostat.\n          \n      \n    \n    \n  \n\nShould mode be capitalized here?", "url": "https://github.com/openhab/openhab-addons/pull/8222#discussion_r477511645", "createdAt": "2020-08-26T18:45:11Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.avmfritz/src/main/resources/ESH-INF/i18n/avmfritz.properties", "diffHunk": "@@ -0,0 +1,10 @@\n+# thing actions\n+setBoostModeModeActionLabel = Set Boost Mode\n+setBoostModeActionDescription = Activates the Boost mode of the heating thermostat.\n+setBoostModeDurationInputLabel = Duration\n+setBoostModeDurationInputDescription = Duration in seconds, min. 1, max. 86400, 0 for deactivation.\n+\n+setWindowOpenModeActionLabel = Set Window Open Mode\n+setWindowOpenModeActionDescription = Activates the Window Open mode of the heating thermostat.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "42a2361578c9c3077e8c5e8138cab01291e687ec"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzUxMTczMg==", "bodyText": "same question here", "url": "https://github.com/openhab/openhab-addons/pull/8222#discussion_r477511732", "createdAt": "2020-08-26T18:45:20Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.avmfritz/src/main/resources/ESH-INF/i18n/avmfritz.properties", "diffHunk": "@@ -0,0 +1,10 @@\n+# thing actions\n+setBoostModeModeActionLabel = Set Boost Mode\n+setBoostModeActionDescription = Activates the Boost mode of the heating thermostat.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "42a2361578c9c3077e8c5e8138cab01291e687ec"}, "originalPosition": 3}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc4MjAyMjI0", "url": "https://github.com/openhab/openhab-addons/pull/8222#pullrequestreview-478202224", "createdAt": "2020-08-30T13:15:15Z", "commit": {"oid": "1de1c09f64c8305e2266372ccf2e9b9399e5752c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc4OTAxNzEw", "url": "https://github.com/openhab/openhab-addons/pull/8222#pullrequestreview-478901710", "createdAt": "2020-08-31T19:42:27Z", "commit": {"oid": "1de1c09f64c8305e2266372ccf2e9b9399e5752c"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQxOTo0MjoyN1rOHKGvRQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQxOTo1NTo0NVrOHKHIrQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDM1ODIxMw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    if (actions.getClass().getName().equals(AVMFritzHeatingActionsHandler.class.getName())) {\n          \n          \n            \n                    if (actions.getClass().getName().equals(AVMFritzHeatingActions.class.getName())) {\n          \n      \n    \n    \n  \n\nThe class name should be compared against the name of the concrete action class since you would never receive an instance of a non-concrete class as a parameter.", "url": "https://github.com/openhab/openhab-addons/pull/8222#discussion_r480358213", "createdAt": "2020-08-31T19:42:27Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.avmfritz/src/main/java/org/openhab/binding/avmfritz/actions/AVMFritzHeatingActions.java", "diffHunk": "@@ -78,22 +79,24 @@ public static void setWindowOpenMode(@Nullable ThingActions actions, Long durati\n         invokeMethodOf(actions).setWindowOpenMode(duration);\n     }\n \n-    private static AVMFritzHeatingActions invokeMethodOf(@Nullable ThingActions actions) {\n+    private static AVMFritzHeatingActionsHandler invokeMethodOf(@Nullable ThingActions actions) {\n         if (actions == null) {\n             throw new IllegalArgumentException(\"Actions cannot be null\");\n         }\n-        if (actions.getClass().getName().equals(AVMFritzHeatingActions.class.getName())) {\n-            if (actions instanceof AVMFritzHeatingActions) {\n-                return (AVMFritzHeatingActions) actions;\n+        if (actions.getClass().getName().equals(AVMFritzHeatingActionsHandler.class.getName())) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1de1c09f64c8305e2266372ccf2e9b9399e5752c"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDM2NDcxNw==", "bodyText": "Although yes AVMFritzHeatingActionsHandler is an interface, I think it is the wrong interface here since it extends ThingHandler. The interface returned by the invokeMethodOf should be an interface implemented by AVMFritzHeatingActions so it would reason that it would be a type of ThingHandlerService not a ThingHandler.\nYou should create a new interface that has only two methods: setBoostMode(Long) and setWindowOpenMode(Long) and have AVMFritzHeatingActions implement that new interface. Likewise it is that new interface which would be returned from invokeMethodOf. So you would need to change your usages of AVMFritzHeatingActionsHandler here use the new interface instead.\nSorry if this has all been confusing but you are almost there. If you need a concrete reference to follow then you can look at the way the Ecobee binding has done it.\nhttps://github.com/openhab/openhab-addons/blob/2.5.x/bundles/org.openhab.binding.ecobee/src/main/java/org/openhab/binding/ecobee/action/EcobeeActions.java#L89", "url": "https://github.com/openhab/openhab-addons/pull/8222#discussion_r480364717", "createdAt": "2020-08-31T19:55:45Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.avmfritz/src/main/java/org/openhab/binding/avmfritz/actions/AVMFritzHeatingActions.java", "diffHunk": "@@ -0,0 +1,102 @@\n+/**\n+ * Copyright (c) 2010-2020 Contributors to the openHAB project\n+ *\n+ * See the NOTICE file(s) distributed with this work for additional\n+ * information.\n+ *\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0\n+ *\n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.openhab.binding.avmfritz.actions;\n+\n+import java.lang.reflect.Method;\n+import java.lang.reflect.Proxy;\n+\n+import org.eclipse.jdt.annotation.NonNullByDefault;\n+import org.eclipse.jdt.annotation.Nullable;\n+import org.eclipse.smarthome.core.thing.binding.ThingActions;\n+import org.eclipse.smarthome.core.thing.binding.ThingActionsScope;\n+import org.eclipse.smarthome.core.thing.binding.ThingHandler;\n+import org.openhab.binding.avmfritz.internal.actions.AVMFritzHeatingActionsHandler;\n+import org.openhab.core.automation.annotation.ActionInput;\n+import org.openhab.core.automation.annotation.RuleAction;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+/**\n+ * The {@link AVMFritzHeatingActions} defines thing actions for heating devices / groups of the avmfritz binding.\n+ *\n+ * @author Christoph Weitkamp - Initial contribution\n+ */\n+@ThingActionsScope(name = \"avmfritz\")\n+@NonNullByDefault\n+public class AVMFritzHeatingActions implements ThingActions {\n+\n+    private final Logger logger = LoggerFactory.getLogger(AVMFritzHeatingActions.class);\n+\n+    private @Nullable AVMFritzHeatingActionsHandler handler;\n+\n+    @Override\n+    public void setThingHandler(@Nullable ThingHandler handler) {\n+        this.handler = (AVMFritzHeatingActionsHandler) handler;\n+    }\n+\n+    @Override\n+    public @Nullable ThingHandler getThingHandler() {\n+        return handler;\n+    }\n+\n+    @RuleAction(label = \"@text/setBoostModeModeActionLabel\", description = \"@text/setBoostModeActionDescription\")\n+    public void setBoostMode(\n+            @ActionInput(name = \"Duration\", label = \"@text/setBoostModeDurationInputLabel\", description = \"@text/setBoostModeDurationInputDescription\", type = \"java.lang.Long\", required = true) Long duration) {\n+        AVMFritzHeatingActionsHandler actionsHandler = handler;\n+        if (actionsHandler == null) {\n+            logger.warn(\"AVMFritzHeatingActions ThingHandler is null!\");\n+            return;\n+        }\n+        actionsHandler.setBoostMode(duration.longValue());\n+    }\n+\n+    public static void setBoostMode(@Nullable ThingActions actions, Long duration) {\n+        invokeMethodOf(actions).setBoostMode(duration);\n+    }\n+\n+    @RuleAction(label = \"@text/setWindowOpenModeActionLabel\", description = \"@text/setWindowOpenModeActionDescription\")\n+    public void setWindowOpenMode(\n+            @ActionInput(name = \"Duration\", label = \"@text/setWindowOpenModeDurationInputLabel\", description = \"@text/setWindowOpenModeDurationInputDescription\", type = \"java.lang.Long\", required = true) Long duration) {\n+        AVMFritzHeatingActionsHandler actionsHandler = handler;\n+        if (actionsHandler == null) {\n+            logger.warn(\"AVMFritzHeatingActions ThingHandler is null!\");\n+            return;\n+        }\n+        actionsHandler.setWindowOpenMode(duration.longValue());\n+    }\n+\n+    public static void setWindowOpenMode(@Nullable ThingActions actions, Long duration) {\n+        invokeMethodOf(actions).setWindowOpenMode(duration);\n+    }\n+\n+    private static AVMFritzHeatingActionsHandler invokeMethodOf(@Nullable ThingActions actions) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1de1c09f64c8305e2266372ccf2e9b9399e5752c"}, "originalPosition": 82}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f4cd76624c9fbaf010497837d3a477d79a7e10f6", "author": {"user": {"login": "cweitkamp", "name": "Christoph Weitkamp"}}, "url": "https://github.com/openhab/openhab-addons/commit/f4cd76624c9fbaf010497837d3a477d79a7e10f6", "committedDate": "2020-09-01T18:55:20Z", "message": "Added ThingActions to handle Boost and Window-Open modes\n\nSigned-off-by: Christoph Weitkamp <github@christophweitkamp.de>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bc0ec94e2769bbf26bad00aa26fd5709fc6642f9", "author": {"user": {"login": "cweitkamp", "name": "Christoph Weitkamp"}}, "url": "https://github.com/openhab/openhab-addons/commit/bc0ec94e2769bbf26bad00aa26fd5709fc6642f9", "committedDate": "2020-09-01T18:55:21Z", "message": "Expose ThingAction classes / interfaces\n\nSigned-off-by: Christoph Weitkamp <github@christophweitkamp.de>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c14fb9327c03d7a820cbc01ad74059bc9f3918f2", "author": {"user": {"login": "cweitkamp", "name": "Christoph Weitkamp"}}, "url": "https://github.com/openhab/openhab-addons/commit/c14fb9327c03d7a820cbc01ad74059bc9f3918f2", "committedDate": "2020-09-01T18:55:21Z", "message": "Incorporated comments from review\n\nSigned-off-by: Christoph Weitkamp <github@christophweitkamp.de>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6c820a0e204783d270b219323d6eb6418e9cb63c", "author": {"user": {"login": "cweitkamp", "name": "Christoph Weitkamp"}}, "url": "https://github.com/openhab/openhab-addons/commit/6c820a0e204783d270b219323d6eb6418e9cb63c", "committedDate": "2020-09-01T18:55:22Z", "message": "Incorporated comments from review\n\nSigned-off-by: Christoph Weitkamp <github@christophweitkamp.de>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2e9ca32ff4e6f15897a024b11f45384954b81bb6", "author": {"user": {"login": "cweitkamp", "name": "Christoph Weitkamp"}}, "url": "https://github.com/openhab/openhab-addons/commit/2e9ca32ff4e6f15897a024b11f45384954b81bb6", "committedDate": "2020-09-01T18:48:32Z", "message": "Incorporated comments from review\n\nSigned-off-by: Christoph Weitkamp <github@christophweitkamp.de>"}, "afterCommit": {"oid": "6c820a0e204783d270b219323d6eb6418e9cb63c", "author": {"user": {"login": "cweitkamp", "name": "Christoph Weitkamp"}}, "url": "https://github.com/openhab/openhab-addons/commit/6c820a0e204783d270b219323d6eb6418e9cb63c", "committedDate": "2020-09-01T18:55:22Z", "message": "Incorporated comments from review\n\nSigned-off-by: Christoph Weitkamp <github@christophweitkamp.de>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgxMzAwNTk4", "url": "https://github.com/openhab/openhab-addons/pull/8222#pullrequestreview-481300598", "createdAt": "2020-09-02T21:06:07Z", "commit": {"oid": "6c820a0e204783d270b219323d6eb6418e9cb63c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4906, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}