{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY0NTI0NzIy", "number": 6872, "title": "[freebox] Adding Fiber optic and support of Delta bridge", "bodyText": "", "createdAt": "2020-01-19T11:29:02Z", "url": "https://github.com/openhab/openhab-addons/pull/6872", "merged": true, "mergeCommit": {"oid": "b41f91c976b7de2a349faea9edb02107813bb5d4"}, "closed": true, "closedAt": "2020-02-03T12:33:22Z", "author": {"login": "clinique"}, "timelineItems": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb72LmIAH2gAyMzY0NTI0NzIyOjY4ZmQzYjgwYjM2NjgyMzM2NDk5YmQ3YTIzY2FhMWE5MGQ5Nzc0OTg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcAq7XIAFqTM1MjE3NTg2Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "68fd3b80b36682336499bd7a23caa1a90d977498", "author": {"user": {"login": "clinique", "name": "Ga\u00ebl L'hopital"}}, "url": "https://github.com/openhab/openhab-addons/commit/68fd3b80b36682336499bd7a23caa1a90d977498", "committedDate": "2020-01-19T11:24:00Z", "message": "Adding Delta / Fiber optic capability to Freebox binding\n\nSigned-off-by: Ga\u00ebl L'hopital <glhopital@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e987449a90a7bb65c33974e879c5358a37df5f83", "author": {"user": {"login": "clinique", "name": "Ga\u00ebl L'hopital"}}, "url": "https://github.com/openhab/openhab-addons/commit/e987449a90a7bb65c33974e879c5358a37df5f83", "committedDate": "2020-01-19T11:27:53Z", "message": "Correction of indentation\n\nSigned-off-by: Ga\u00ebl L'hopital <glhopital@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ3NjU2MzEw", "url": "https://github.com/openhab/openhab-addons/pull/6872#pullrequestreview-347656310", "createdAt": "2020-01-23T22:39:06Z", "commit": {"oid": "e987449a90a7bb65c33974e879c5358a37df5f83"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yM1QyMjozOTowNlrOFhO-ug==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yM1QyMjo0MTowNFrOFhPBkw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDM5Mjc2Mg==", "bodyText": "This will return \"true\" or \"false\" as string.\nWhy not producing a more convenient string status, maybe something similar to the xDSL status ?\nOr return boolean and use a Switch channel rather than a String channel ?\nYou consider the field sfp_present but are we sure that the other fields like sfp_has_signal or link are not better candidates ? (unfortunately the API is not documented !)", "url": "https://github.com/openhab/openhab-addons/pull/6872#discussion_r370392762", "createdAt": "2020-01-23T22:39:06Z", "author": {"login": "lolodomo"}, "path": "bundles/org.openhab.binding.freebox/src/main/java/org/openhab/binding/freebox/internal/api/FreeboxApiManager.java", "diffHunk": "@@ -201,6 +202,10 @@ public String getxDslStatus() throws FreeboxException {\n         return executeGetUrl(\"connection/xdsl/\", FreeboxXdslStatusResponse.class).getStatus();\n     }\n \n+    public String getFtthStatus() throws FreeboxException {\n+        return executeGetUrl(\"connection/ftth/\", FreeboxFtthStatusResponse.class).getSfp_present().toString();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e987449a90a7bb65c33974e879c5358a37df5f83"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDM5Mjk2Nw==", "bodyText": "Why not using boolean rather than Boolean ?\nSame for other Boolean fields.", "url": "https://github.com/openhab/openhab-addons/pull/6872#discussion_r370392967", "createdAt": "2020-01-23T22:39:36Z", "author": {"login": "lolodomo"}, "path": "bundles/org.openhab.binding.freebox/src/main/java/org/openhab/binding/freebox/internal/api/model/FreeboxFtthStatus.java", "diffHunk": "@@ -0,0 +1,74 @@\n+/**\n+ * Copyright (c) 2010-2020 Contributors to the openHAB project\n+ *\n+ * See the NOTICE file(s) distributed with this work for additional\n+ * information.\n+ *\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0\n+ *\n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.openhab.binding.freebox.internal.api.model;\n+\n+/**\n+ * The {@link FreeboxFtthStatus} is the Java class used to map the \"FtthStatus\"\n+ * structure used by the response of the connection Ftth status API\n+ * https://dev.freebox.fr/sdk/os/connection/#\n+ *\n+ * @author Ga\u00ebl L'hopital - Initial contribution\n+ */\n+public class FreeboxFtthStatus {\n+    private Boolean sfp_present;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e987449a90a7bb65c33974e879c5358a37df5f83"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDM5MzQ5MQ==", "bodyText": "Could you please use standard naming, getSfpPresent rather than getSfp_present ?\nSame for the other getter methods.", "url": "https://github.com/openhab/openhab-addons/pull/6872#discussion_r370393491", "createdAt": "2020-01-23T22:41:04Z", "author": {"login": "lolodomo"}, "path": "bundles/org.openhab.binding.freebox/src/main/java/org/openhab/binding/freebox/internal/api/model/FreeboxFtthStatus.java", "diffHunk": "@@ -0,0 +1,74 @@\n+/**\n+ * Copyright (c) 2010-2020 Contributors to the openHAB project\n+ *\n+ * See the NOTICE file(s) distributed with this work for additional\n+ * information.\n+ *\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0\n+ *\n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.openhab.binding.freebox.internal.api.model;\n+\n+/**\n+ * The {@link FreeboxFtthStatus} is the Java class used to map the \"FtthStatus\"\n+ * structure used by the response of the connection Ftth status API\n+ * https://dev.freebox.fr/sdk/os/connection/#\n+ *\n+ * @author Ga\u00ebl L'hopital - Initial contribution\n+ */\n+public class FreeboxFtthStatus {\n+    private Boolean sfp_present;\n+    private Boolean sfp_alim_ok;\n+    private Boolean sfp_has_power_report;\n+    private Boolean sfp_has_signal;\n+    private Boolean link;\n+    private String sfp_serial;\n+    private String sfp_model;\n+    private String sfp_vendor;\n+    private long sfp_pwr_tx;\n+    private long sfp_pwr_rx;\n+\n+    public Boolean getSfp_present() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e987449a90a7bb65c33974e879c5358a37df5f83"}, "originalPosition": 34}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0758b8603757a0c5f7da823dbdeac34f9eaa6cf7", "author": {"user": {"login": "clinique", "name": "Ga\u00ebl L'hopital"}}, "url": "https://github.com/openhab/openhab-addons/commit/0758b8603757a0c5f7da823dbdeac34f9eaa6cf7", "committedDate": "2020-01-24T08:18:44Z", "message": "Code review\n\nSigned-off-by: Ga\u00ebl L'hopital <gael@lhopital.org>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5ea91bc671e83f8a36cd4eb50b7dcb4ff0b27182", "author": {"user": {"login": "clinique", "name": "Ga\u00ebl L'hopital"}}, "url": "https://github.com/openhab/openhab-addons/commit/5ea91bc671e83f8a36cd4eb50b7dcb4ff0b27182", "committedDate": "2020-01-24T08:24:09Z", "message": "Forgot one thingx\n\nSigned-off-by: Ga\u00ebl L'hopital <gael@lhopital.org>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ4MzIxMjYw", "url": "https://github.com/openhab/openhab-addons/pull/6872#pullrequestreview-348321260", "createdAt": "2020-01-25T11:08:21Z", "commit": {"oid": "5ea91bc671e83f8a36cd4eb50b7dcb4ff0b27182"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yNVQxMTowODoyMVrOFhvokA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yNVQxMToxMDowNlrOFhvo0g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDkyNzc2MA==", "bodyText": "Please update from String to Switch.", "url": "https://github.com/openhab/openhab-addons/pull/6872#discussion_r370927760", "createdAt": "2020-01-25T11:08:21Z", "author": {"login": "lolodomo"}, "path": "bundles/org.openhab.binding.freebox/README.md", "diffHunk": "@@ -129,6 +129,7 @@ The following channels are supported:\n | server        | sambafileshare_status    | Switch    | RW          | Indicates whether Window File Sharing  is enabled                               |\n | server        | sambaprintershare_status | Switch    | RW          | Indicates whether Window Printer Sharing  is enabled                            |\n | server        | xdsl_status              | String    | R           | Status of the xDSL line                                                         |\n+| server        | ftth_status              | String    | R           | Status of the Ftth line                                                         |", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5ea91bc671e83f8a36cd4eb50b7dcb4ff0b27182"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDkyNzc4MA==", "bodyText": "Please update from String to Switch for item Freebox_ftth_status  and suppress [%s].\nFor the item Freebox_xdsl_status, rather use xDSL in the label as it could be a VDSL connection or a ADSL connection.", "url": "https://github.com/openhab/openhab-addons/pull/6872#discussion_r370927780", "createdAt": "2020-01-25T11:08:51Z", "author": {"login": "lolodomo"}, "path": "bundles/org.openhab.binding.freebox/README.md", "diffHunk": "@@ -189,7 +190,8 @@ Bridge freebox:server:fb \"Freebox Revolution\" [ fqdn=\"abcdefgh.fbxos.fr\", appTok\n ### Items\n \n ```java\n-String Freebox_xdsl_status \"Freebox state [%s]\" {channel=\"freebox:server:fb:xdsl_status\"}\n+String Freebox_xdsl_status \"Freebox ADSL state [%s]\" {channel=\"freebox:server:fb:xdsl_status\"}\n+String Freebox_ftth_status \"Freebox Fiber Optic state [%s]\" {channel=\"freebox:server:fb:ftth_status\"}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5ea91bc671e83f8a36cd4eb50b7dcb4ff0b27182"}, "originalPosition": 43}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDkyNzgyMw==", "bodyText": "Please update the return type from Boolean to boolean", "url": "https://github.com/openhab/openhab-addons/pull/6872#discussion_r370927823", "createdAt": "2020-01-25T11:09:57Z", "author": {"login": "lolodomo"}, "path": "bundles/org.openhab.binding.freebox/src/main/java/org/openhab/binding/freebox/internal/api/model/FreeboxFtthStatus.java", "diffHunk": "@@ -0,0 +1,73 @@\n+/**\n+ * Copyright (c) 2010-2020 Contributors to the openHAB project\n+ *\n+ * See the NOTICE file(s) distributed with this work for additional\n+ * information.\n+ *\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0\n+ *\n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.openhab.binding.freebox.internal.api.model;\n+\n+/**\n+ * The {@link FreeboxFtthStatus} is the Java class used to map the \"FtthStatus\"\n+ * structure used by the response of the connection Ftth status API\n+ * https://dev.freebox.fr/sdk/os/connection/#\n+ *\n+ * @author Ga\u00ebl L'hopital - Initial contribution\n+ */\n+public class FreeboxFtthStatus {\n+    private boolean sfp_present;\n+    private boolean sfp_alim_ok;\n+    private boolean sfp_has_power_report;\n+    private boolean sfp_has_signal;\n+    private boolean link;\n+    private String sfp_serial;\n+    private String sfp_model;\n+    private String sfp_vendor;\n+    private long sfp_pwr_tx;\n+    private long sfp_pwr_rx;\n+\n+    public boolean getSfpPresent() {\n+        return sfp_present;\n+    }\n+\n+    public boolean getSfpAlimOk() {\n+        return sfp_alim_ok;\n+    }\n+\n+    public boolean getSfpHasPowerReport() {\n+        return sfp_has_power_report;\n+    }\n+\n+    public Boolean getSfpHasSignal() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5ea91bc671e83f8a36cd4eb50b7dcb4ff0b27182"}, "originalPosition": 46}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDkyNzgyNg==", "bodyText": "Please update the return type from Boolean to boolean", "url": "https://github.com/openhab/openhab-addons/pull/6872#discussion_r370927826", "createdAt": "2020-01-25T11:10:06Z", "author": {"login": "lolodomo"}, "path": "bundles/org.openhab.binding.freebox/src/main/java/org/openhab/binding/freebox/internal/api/model/FreeboxFtthStatus.java", "diffHunk": "@@ -0,0 +1,73 @@\n+/**\n+ * Copyright (c) 2010-2020 Contributors to the openHAB project\n+ *\n+ * See the NOTICE file(s) distributed with this work for additional\n+ * information.\n+ *\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0\n+ *\n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.openhab.binding.freebox.internal.api.model;\n+\n+/**\n+ * The {@link FreeboxFtthStatus} is the Java class used to map the \"FtthStatus\"\n+ * structure used by the response of the connection Ftth status API\n+ * https://dev.freebox.fr/sdk/os/connection/#\n+ *\n+ * @author Ga\u00ebl L'hopital - Initial contribution\n+ */\n+public class FreeboxFtthStatus {\n+    private boolean sfp_present;\n+    private boolean sfp_alim_ok;\n+    private boolean sfp_has_power_report;\n+    private boolean sfp_has_signal;\n+    private boolean link;\n+    private String sfp_serial;\n+    private String sfp_model;\n+    private String sfp_vendor;\n+    private long sfp_pwr_tx;\n+    private long sfp_pwr_rx;\n+\n+    public boolean getSfpPresent() {\n+        return sfp_present;\n+    }\n+\n+    public boolean getSfpAlimOk() {\n+        return sfp_alim_ok;\n+    }\n+\n+    public boolean getSfpHasPowerReport() {\n+        return sfp_has_power_report;\n+    }\n+\n+    public Boolean getSfpHasSignal() {\n+        return sfp_has_signal;\n+    }\n+\n+    public Boolean getLink() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5ea91bc671e83f8a36cd4eb50b7dcb4ff0b27182"}, "originalPosition": 50}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a872689d6f2929ced383a231806b6a44c12176ac", "author": {"user": {"login": "clinique", "name": "Ga\u00ebl L'hopital"}}, "url": "https://github.com/openhab/openhab-addons/commit/a872689d6f2929ced383a231806b6a44c12176ac", "committedDate": "2020-01-26T15:25:04Z", "message": "Correcting leftovers showed by code review.\n\nSigned-off-by: Ga\u00ebl L'hopital <glhopital@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ4Mzg2NjYy", "url": "https://github.com/openhab/openhab-addons/pull/6872#pullrequestreview-348386662", "createdAt": "2020-01-26T15:30:47Z", "commit": {"oid": "a872689d6f2929ced383a231806b6a44c12176ac"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUxOTAzOTQy", "url": "https://github.com/openhab/openhab-addons/pull/6872#pullrequestreview-351903942", "createdAt": "2020-02-01T20:50:00Z", "commit": {"oid": "a872689d6f2929ced383a231806b6a44c12176ac"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wMVQyMDo1MDowMFrOFkfCmw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wMVQyMDo1MDowMFrOFkfCmw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzgwMTYyNw==", "bodyText": "What about nullness annotations in the new classes?", "url": "https://github.com/openhab/openhab-addons/pull/6872#discussion_r373801627", "createdAt": "2020-02-01T20:50:00Z", "author": {"login": "cweitkamp"}, "path": "bundles/org.openhab.binding.freebox/src/main/java/org/openhab/binding/freebox/internal/api/model/FreeboxFtthStatusResponse.java", "diffHunk": "@@ -0,0 +1,32 @@\n+/**\n+ * Copyright (c) 2010-2020 Contributors to the openHAB project\n+ *\n+ * See the NOTICE file(s) distributed with this work for additional\n+ * information.\n+ *\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0\n+ *\n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.openhab.binding.freebox.internal.api.model;\n+\n+import org.openhab.binding.freebox.internal.api.FreeboxException;\n+\n+/**\n+ * The {@link FreeboxFtthStatusResponse} is the Java class used to map the\n+ * response of the connection Ftth status API\n+ * https://dev.freebox.fr/sdk/os/connection/#\n+ *\n+ * @author Ga\u00ebl L'hopital - Initial contribution\n+ */\n+public class FreeboxFtthStatusResponse extends FreeboxResponse<FreeboxFtthStatus> {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a872689d6f2929ced383a231806b6a44c12176ac"}, "originalPosition": 24}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "65777a78127426379a0daac88337b593a2fde33e", "author": {"user": {"login": "clinique", "name": "Ga\u00ebl L'hopital"}}, "url": "https://github.com/openhab/openhab-addons/commit/65777a78127426379a0daac88337b593a2fde33e", "committedDate": "2020-02-03T10:42:48Z", "message": "Code review corrections\n\nSigned-off-by: Ga\u00ebl L'hopital <gael@lhopital.org>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d770fd5c319c5eb53f590b8d3f1457cd618e2a37", "author": {"user": {"login": "clinique", "name": "Ga\u00ebl L'hopital"}}, "url": "https://github.com/openhab/openhab-addons/commit/d770fd5c319c5eb53f590b8d3f1457cd618e2a37", "committedDate": "2020-02-03T10:44:12Z", "message": "Merge branch 'FreeboxFtth' of https://github.com/clinique/openhab2-addons into FreeboxFtth"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUyMTY0MTk2", "url": "https://github.com/openhab/openhab-addons/pull/6872#pullrequestreview-352164196", "createdAt": "2020-02-03T10:46:37Z", "commit": {"oid": "d770fd5c319c5eb53f590b8d3f1457cd618e2a37"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUyMTc1ODY3", "url": "https://github.com/openhab/openhab-addons/pull/6872#pullrequestreview-352175867", "createdAt": "2020-02-03T11:06:56Z", "commit": {"oid": "d770fd5c319c5eb53f590b8d3f1457cd618e2a37"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1683, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}