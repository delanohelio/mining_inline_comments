{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI0NDIwNzU2", "number": 7813, "title": "[hue] Never log the user name", "bodyText": "Console command to display the user name\nRelated to #3990\nSigned-off-by: Laurent Garnier lg.hc@free.fr", "createdAt": "2020-05-28T11:20:42Z", "url": "https://github.com/openhab/openhab-addons/pull/7813", "merged": true, "mergeCommit": {"oid": "01ec7e5a2bbde1931f57418c85e798ee7ee9d8a9"}, "closed": true, "closedAt": "2020-06-02T22:06:48Z", "author": {"login": "lolodomo"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABclsLlCgH2gAyNDI0NDIwNzU2OmIyMjMyZjFjZWI2NTdjNTMwZDkyNDE5ZWMxYjNkYWUzOGVkMmEzNzU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcncRsmAFqTQyMzA5MDEyNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "b2232f1ceb657c530d92419ec1b3dae38ed2a375", "author": {"user": {"login": "lolodomo", "name": "lolodomo"}}, "url": "https://github.com/openhab/openhab-addons/commit/b2232f1ceb657c530d92419ec1b3dae38ed2a375", "committedDate": "2020-05-28T11:29:45Z", "message": "[hue] Never log the user name\n\nConsole command to display the user name\n\nRelated to #3990\n\nSigned-off-by: Laurent Garnier <lg.hc@free.fr>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "fe650270895e7e70e4c7399c52801e0587541665", "author": {"user": {"login": "lolodomo", "name": "lolodomo"}}, "url": "https://github.com/openhab/openhab-addons/commit/fe650270895e7e70e4c7399c52801e0587541665", "committedDate": "2020-05-28T11:17:59Z", "message": "[hue] Never log the user name\n\nConsole command to display the user name\n\nRelated to #3990\n\nSigned-off-by: Laurent Garnier <lg.hc@free.fr>"}, "afterCommit": {"oid": "b2232f1ceb657c530d92419ec1b3dae38ed2a375", "author": {"user": {"login": "lolodomo", "name": "lolodomo"}}, "url": "https://github.com/openhab/openhab-addons/commit/b2232f1ceb657c530d92419ec1b3dae38ed2a375", "committedDate": "2020-05-28T11:29:45Z", "message": "[hue] Never log the user name\n\nConsole command to display the user name\n\nRelated to #3990\n\nSigned-off-by: Laurent Garnier <lg.hc@free.fr>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "24a3515c80846891791044dab676b717f1367f37", "author": {"user": {"login": "lolodomo", "name": "lolodomo"}}, "url": "https://github.com/openhab/openhab-addons/commit/24a3515c80846891791044dab676b717f1367f37", "committedDate": "2020-05-28T12:21:14Z", "message": "Try to fix travis build failure in integration tests\n\nSigned-off-by: Laurent Garnier <lg.hc@free.fr>"}, "afterCommit": {"oid": "b2232f1ceb657c530d92419ec1b3dae38ed2a375", "author": {"user": {"login": "lolodomo", "name": "lolodomo"}}, "url": "https://github.com/openhab/openhab-addons/commit/b2232f1ceb657c530d92419ec1b3dae38ed2a375", "committedDate": "2020-05-28T11:29:45Z", "message": "[hue] Never log the user name\n\nConsole command to display the user name\n\nRelated to #3990\n\nSigned-off-by: Laurent Garnier <lg.hc@free.fr>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2d2cf014d24ff26bb878b5b47497d4d6a75fc095", "author": {"user": {"login": "lolodomo", "name": "lolodomo"}}, "url": "https://github.com/openhab/openhab-addons/commit/2d2cf014d24ff26bb878b5b47497d4d6a75fc095", "committedDate": "2020-05-30T19:00:23Z", "message": "getUsages() simplified\n\nSigned-off-by: Laurent Garnier <lg.hc@free.fr>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bf1982876b759596cf5d23daeb321cdca6a91201", "author": {"user": {"login": "lolodomo", "name": "lolodomo"}}, "url": "https://github.com/openhab/openhab-addons/commit/bf1982876b759596cf5d23daeb321cdca6a91201", "committedDate": "2020-05-31T09:05:40Z", "message": "Cjhanged way to get the bridge handler\n\nSigned-off-by: Laurent Garnier <lg.hc@free.fr>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIyMjY3OTMw", "url": "https://github.com/openhab/openhab-addons/pull/7813#pullrequestreview-422267930", "createdAt": "2020-06-02T00:35:14Z", "commit": {"oid": "bf1982876b759596cf5d23daeb321cdca6a91201"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMlQwMDozNToxNFrOGdeWxg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMlQwMDozNToxNFrOGdeWxg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzU1OTIzOA==", "bodyText": "The lack of a handler doesn't mean that the provided bridge ID was a bad one.", "url": "https://github.com/openhab/openhab-addons/pull/7813#discussion_r433559238", "createdAt": "2020-06-02T00:35:14Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.hue/src/main/java/org/openhab/binding/hue/internal/console/HueCommandExtension.java", "diffHunk": "@@ -0,0 +1,90 @@\n+/**\n+ * Copyright (c) 2010-2020 Contributors to the openHAB project\n+ *\n+ * See the NOTICE file(s) distributed with this work for additional\n+ * information.\n+ *\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0\n+ *\n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.openhab.binding.hue.internal.console;\n+\n+import java.util.Arrays;\n+import java.util.List;\n+\n+import org.eclipse.jdt.annotation.NonNullByDefault;\n+import org.eclipse.smarthome.core.thing.Thing;\n+import org.eclipse.smarthome.core.thing.ThingRegistry;\n+import org.eclipse.smarthome.core.thing.ThingUID;\n+import org.eclipse.smarthome.core.thing.binding.ThingHandler;\n+import org.eclipse.smarthome.io.console.Console;\n+import org.eclipse.smarthome.io.console.extensions.AbstractConsoleCommandExtension;\n+import org.eclipse.smarthome.io.console.extensions.ConsoleCommandExtension;\n+import org.openhab.binding.hue.internal.handler.HueBridgeHandler;\n+import org.osgi.service.component.annotations.Activate;\n+import org.osgi.service.component.annotations.Component;\n+import org.osgi.service.component.annotations.Reference;\n+\n+/**\n+ * The {@link HueCommandExtension} is responsible for handling console commands\n+ *\n+ * @author Laurent Garnier - Initial contribution\n+ */\n+\n+@NonNullByDefault\n+@Component(service = ConsoleCommandExtension.class)\n+public class HueCommandExtension extends AbstractConsoleCommandExtension {\n+\n+    private static final String USER_NAME = \"username\";\n+\n+    private final ThingRegistry thingRegistry;\n+\n+    @Activate\n+    public HueCommandExtension(final @Reference ThingRegistry thingRegistry) {\n+        super(\"hue\", \"Interact with the hue binding.\");\n+        this.thingRegistry = thingRegistry;\n+    }\n+\n+    @Override\n+    public void execute(String[] args, Console console) {\n+        if (args.length == 2) {\n+            HueBridgeHandler bridgeHandler = null;\n+            try {\n+                ThingUID thingUID = new ThingUID(args[0]);\n+                Thing thing = thingRegistry.get(thingUID);\n+                if (thing != null) {\n+                    ThingHandler thingHandler = thing.getHandler();\n+                    if (thingHandler instanceof HueBridgeHandler) {\n+                        bridgeHandler = (HueBridgeHandler) thingHandler;\n+                    }\n+                }\n+            } catch (IllegalArgumentException e) {\n+                bridgeHandler = null;\n+            }\n+            if (bridgeHandler == null) {\n+                console.println(\"Bad bridge id '\" + args[0] + \"'\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bf1982876b759596cf5d23daeb321cdca6a91201"}, "originalPosition": 68}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "068dc04fc1cedbe7e12de79ac36ef10ec5813bbf", "author": {"user": {"login": "lolodomo", "name": "lolodomo"}}, "url": "https://github.com/openhab/openhab-addons/commit/068dc04fc1cedbe7e12de79ac36ef10ec5813bbf", "committedDate": "2020-06-02T21:31:30Z", "message": "More detailed error message in case of bad bridge id argument\n\nSigned-off-by: Laurent Garnier <lg.hc@free.fr>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIzMDkwMTI1", "url": "https://github.com/openhab/openhab-addons/pull/7813#pullrequestreview-423090125", "createdAt": "2020-06-02T22:05:48Z", "commit": {"oid": "068dc04fc1cedbe7e12de79ac36ef10ec5813bbf"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 481, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}