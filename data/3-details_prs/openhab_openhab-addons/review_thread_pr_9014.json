{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTIwNTgwMzU2", "number": 9014, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xM1QyMjo1MDozNFrOE43G2Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xM1QyMjo1MDozNFrOE43G2Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI4MDU4NTg1OnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.miio/src/test/java/org/openhab/binding/miio/internal/ReadmeHelper.java", "isResolved": true, "comments": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xM1QyMjo1MDozNFrOHzCDSA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNVQyMTo1NDowMFrOHzjYnQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzI3MzAzMg==", "bodyText": "Why format it as a floating point? Why not just use %d instead so it prints as an integer?\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    String devicesCount = String.format(\"Currently the miio binding supports more than %.0f different models.\",\n          \n          \n            \n                            Math.floor(items / 10) * 10);\n          \n          \n            \n                    String devicesCount = String.format(\"Currently the miio binding supports more than %d different models.\",\n          \n          \n            \n                            items;", "url": "https://github.com/openhab/openhab-addons/pull/9014#discussion_r523273032", "createdAt": "2020-11-13T22:50:34Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.miio/src/test/java/org/openhab/binding/miio/internal/ReadmeHelper.java", "diffHunk": "@@ -79,8 +79,14 @@ public static void main(String[] args) {\n     }\n \n     private StringWriter deviceList() {\n+        long items = Arrays.asList(MiIoDevices.values()).stream()\n+                .filter(device -> !device.getThingType().equals(MiIoBindingConstants.THING_TYPE_UNSUPPORTED)).count();\n+        String devicesCount = String.format(\"Currently the miio binding supports more than %.0f different models.\",\n+                Math.floor(items / 10) * 10);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d771c988d6c5456242b3cc0e1723b3137e3c0d26"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzI4OTI3Mg==", "bodyText": "I had that indeed but it gave me an error as it considered the outcome of the calc a double", "url": "https://github.com/openhab/openhab-addons/pull/9014#discussion_r523289272", "createdAt": "2020-11-13T23:51:54Z", "author": {"login": "marcelrv"}, "path": "bundles/org.openhab.binding.miio/src/test/java/org/openhab/binding/miio/internal/ReadmeHelper.java", "diffHunk": "@@ -79,8 +79,14 @@ public static void main(String[] args) {\n     }\n \n     private StringWriter deviceList() {\n+        long items = Arrays.asList(MiIoDevices.values()).stream()\n+                .filter(device -> !device.getThingType().equals(MiIoBindingConstants.THING_TYPE_UNSUPPORTED)).count();\n+        String devicesCount = String.format(\"Currently the miio binding supports more than %.0f different models.\",\n+                Math.floor(items / 10) * 10);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzI3MzAzMg=="}, "originalCommit": {"oid": "d771c988d6c5456242b3cc0e1723b3137e3c0d26"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzI5MzI3Ng==", "bodyText": "Ah, I just realized that you are trying to round to the nearest 10. In that case, since items is a long, all you would need to do is (items/10)*10.\nMath.floor returns a double.", "url": "https://github.com/openhab/openhab-addons/pull/9014#discussion_r523293276", "createdAt": "2020-11-14T00:00:15Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.miio/src/test/java/org/openhab/binding/miio/internal/ReadmeHelper.java", "diffHunk": "@@ -79,8 +79,14 @@ public static void main(String[] args) {\n     }\n \n     private StringWriter deviceList() {\n+        long items = Arrays.asList(MiIoDevices.values()).stream()\n+                .filter(device -> !device.getThingType().equals(MiIoBindingConstants.THING_TYPE_UNSUPPORTED)).count();\n+        String devicesCount = String.format(\"Currently the miio binding supports more than %.0f different models.\",\n+                Math.floor(items / 10) * 10);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzI3MzAzMg=="}, "originalCommit": {"oid": "d771c988d6c5456242b3cc0e1723b3137e3c0d26"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzI5NDMwOA==", "bodyText": "I want it to round down to the lower  10. I guess that I could deduct 5 and keep it as long, but I think the floor function is cleaner", "url": "https://github.com/openhab/openhab-addons/pull/9014#discussion_r523294308", "createdAt": "2020-11-14T00:05:00Z", "author": {"login": "marcelrv"}, "path": "bundles/org.openhab.binding.miio/src/test/java/org/openhab/binding/miio/internal/ReadmeHelper.java", "diffHunk": "@@ -79,8 +79,14 @@ public static void main(String[] args) {\n     }\n \n     private StringWriter deviceList() {\n+        long items = Arrays.asList(MiIoDevices.values()).stream()\n+                .filter(device -> !device.getThingType().equals(MiIoBindingConstants.THING_TYPE_UNSUPPORTED)).count();\n+        String devicesCount = String.format(\"Currently the miio binding supports more than %.0f different models.\",\n+                Math.floor(items / 10) * 10);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzI3MzAzMg=="}, "originalCommit": {"oid": "d771c988d6c5456242b3cc0e1723b3137e3c0d26"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzc1NjczOQ==", "bodyText": "what you think is cleaner to round down to the nearest 10?\n((items-5)/10)*10   and %d    or  Math.floor(items / 10) * 10); and %0.f  both would show the same. My idea was the latter but I can't be too bothered about it", "url": "https://github.com/openhab/openhab-addons/pull/9014#discussion_r523756739", "createdAt": "2020-11-15T13:10:38Z", "author": {"login": "marcelrv"}, "path": "bundles/org.openhab.binding.miio/src/test/java/org/openhab/binding/miio/internal/ReadmeHelper.java", "diffHunk": "@@ -79,8 +79,14 @@ public static void main(String[] args) {\n     }\n \n     private StringWriter deviceList() {\n+        long items = Arrays.asList(MiIoDevices.values()).stream()\n+                .filter(device -> !device.getThingType().equals(MiIoBindingConstants.THING_TYPE_UNSUPPORTED)).count();\n+        String devicesCount = String.format(\"Currently the miio binding supports more than %.0f different models.\",\n+                Math.floor(items / 10) * 10);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzI3MzAzMg=="}, "originalCommit": {"oid": "d771c988d6c5456242b3cc0e1723b3137e3c0d26"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzgxMDQyNw==", "bodyText": "Dividing an integer by another integer will automatically floor the result. But if you are more comfortable with using Math.floor and %0.f then I'm not going to stop you.", "url": "https://github.com/openhab/openhab-addons/pull/9014#discussion_r523810427", "createdAt": "2020-11-15T20:38:20Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.miio/src/test/java/org/openhab/binding/miio/internal/ReadmeHelper.java", "diffHunk": "@@ -79,8 +79,14 @@ public static void main(String[] args) {\n     }\n \n     private StringWriter deviceList() {\n+        long items = Arrays.asList(MiIoDevices.values()).stream()\n+                .filter(device -> !device.getThingType().equals(MiIoBindingConstants.THING_TYPE_UNSUPPORTED)).count();\n+        String devicesCount = String.format(\"Currently the miio binding supports more than %.0f different models.\",\n+                Math.floor(items / 10) * 10);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzI3MzAzMg=="}, "originalCommit": {"oid": "d771c988d6c5456242b3cc0e1723b3137e3c0d26"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzgxOTE2NQ==", "bodyText": "ah... got it... thought that way it was doing a regular round instead of a floor.", "url": "https://github.com/openhab/openhab-addons/pull/9014#discussion_r523819165", "createdAt": "2020-11-15T21:54:00Z", "author": {"login": "marcelrv"}, "path": "bundles/org.openhab.binding.miio/src/test/java/org/openhab/binding/miio/internal/ReadmeHelper.java", "diffHunk": "@@ -79,8 +79,14 @@ public static void main(String[] args) {\n     }\n \n     private StringWriter deviceList() {\n+        long items = Arrays.asList(MiIoDevices.values()).stream()\n+                .filter(device -> !device.getThingType().equals(MiIoBindingConstants.THING_TYPE_UNSUPPORTED)).count();\n+        String devicesCount = String.format(\"Currently the miio binding supports more than %.0f different models.\",\n+                Math.floor(items / 10) * 10);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzI3MzAzMg=="}, "originalCommit": {"oid": "d771c988d6c5456242b3cc0e1723b3137e3c0d26"}, "originalPosition": 7}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3901, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}