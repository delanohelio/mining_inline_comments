{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAyNTkzODQz", "number": 7354, "title": "Replaced deprecated constructors and methods from Thing API", "bodyText": "Replaced deprecated constructors and methods from Thing API\nImplement ChannelGroupTypeProvider interface in addition to ChannelTypeProvider interface\n\nRelated to openhab/openhab-core#1414\nSigned-off-by: Christoph Weitkamp github@christophweitkamp.de", "createdAt": "2020-04-13T11:00:58Z", "url": "https://github.com/openhab/openhab-addons/pull/7354", "merged": true, "mergeCommit": {"oid": "898b6ab0846ace5fbb654d652f2ca10669d66d4e"}, "closed": true, "closedAt": "2020-04-14T08:53:16Z", "author": {"login": "cweitkamp"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcXM0QqgBqjMyMjY3MjMzNTk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcXfkNigFqTM5MjcyODcxNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "37c2e20265f74634ddf393ec352028df0690c810", "author": {"user": {"login": "cweitkamp", "name": "Christoph Weitkamp"}}, "url": "https://github.com/openhab/openhab-addons/commit/37c2e20265f74634ddf393ec352028df0690c810", "committedDate": "2020-04-13T10:58:51Z", "message": "Replaced deprecated constructors and methods from Thing API\n\nSigned-off-by: Christoph Weitkamp <github@christophweitkamp.de>"}, "afterCommit": {"oid": "fc3d929a7dd36d8ad31ccafaad52abe67060b098", "author": {"user": {"login": "cweitkamp", "name": "Christoph Weitkamp"}}, "url": "https://github.com/openhab/openhab-addons/commit/fc3d929a7dd36d8ad31ccafaad52abe67060b098", "committedDate": "2020-04-13T11:02:07Z", "message": "Replaced deprecated constructors and methods from Thing API\n\nSigned-off-by: Christoph Weitkamp <github@christophweitkamp.de>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2e5cff4c530404eed96c0f7d20a3e3ad9736495c", "author": {"user": {"login": "cweitkamp", "name": "Christoph Weitkamp"}}, "url": "https://github.com/openhab/openhab-addons/commit/2e5cff4c530404eed96c0f7d20a3e3ad9736495c", "committedDate": "2020-04-13T12:46:33Z", "message": "Replaced deprecated constructors and methods from Thing API\n\nSigned-off-by: Christoph Weitkamp <github@christophweitkamp.de>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "fc3d929a7dd36d8ad31ccafaad52abe67060b098", "author": {"user": {"login": "cweitkamp", "name": "Christoph Weitkamp"}}, "url": "https://github.com/openhab/openhab-addons/commit/fc3d929a7dd36d8ad31ccafaad52abe67060b098", "committedDate": "2020-04-13T11:02:07Z", "message": "Replaced deprecated constructors and methods from Thing API\n\nSigned-off-by: Christoph Weitkamp <github@christophweitkamp.de>"}, "afterCommit": {"oid": "2e5cff4c530404eed96c0f7d20a3e3ad9736495c", "author": {"user": {"login": "cweitkamp", "name": "Christoph Weitkamp"}}, "url": "https://github.com/openhab/openhab-addons/commit/2e5cff4c530404eed96c0f7d20a3e3ad9736495c", "committedDate": "2020-04-13T12:46:33Z", "message": "Replaced deprecated constructors and methods from Thing API\n\nSigned-off-by: Christoph Weitkamp <github@christophweitkamp.de>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f4f0ef167b25b8a4f0d4fce909504f598ccb9cfb", "author": {"user": {"login": "cweitkamp", "name": "Christoph Weitkamp"}}, "url": "https://github.com/openhab/openhab-addons/commit/f4f0ef167b25b8a4f0d4fce909504f598ccb9cfb", "committedDate": "2020-04-13T12:51:11Z", "message": "Implement ChannelGroupTypeProvider interface in addition to ChannelTypeProvider interface\n\nSigned-off-by: Christoph Weitkamp <github@christophweitkamp.de>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkyMjMyMjg0", "url": "https://github.com/openhab/openhab-addons/pull/7354#pullrequestreview-392232284", "createdAt": "2020-04-13T15:49:39Z", "commit": {"oid": "f4f0ef167b25b8a4f0d4fce909504f598ccb9cfb"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xM1QxNTo0OTozOVrOGEq3ZQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xM1QxNTo0OTozOVrOGEq3ZQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzU0OTc5Nw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                            channelUID, root, CoreItemFactory.NUMBER, null, \"Error message\", \"Text\", true, false,\n          \n          \n            \n                                            channelUID, root, CoreItemFactory.STRING, null, \"Error message\", \"Text\", true, false,", "url": "https://github.com/openhab/openhab-addons/pull/7354#discussion_r407549797", "createdAt": "2020-04-13T15:49:39Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.km200/src/main/java/org/openhab/binding/km200/internal/handler/KM200ThingHandler.java", "diffHunk": "@@ -404,14 +431,17 @@ private void addChannels(KM200ServiceObject serObj, Thing thing, List<Channel> s\n \n                 case \"errorList\":\n                     if (\"nbrErrors\".equals(subKey) || \"error\".equals(subKey)) {\n-                        state = new StateDescription(null, null, null, \"%.0f \", readOnly, null);\n+                        state = StateDescriptionFragmentBuilder.create().withPattern(\"%.0f\").withReadOnly(readOnly)\n+                                .build();\n                         newChannel = createChannel(new ChannelTypeUID(thing.getUID().getAsString() + \":\" + subKey),\n-                                channelUID, root, \"Number\", null, subKey, subKey, true, false, state, unitOfMeasure);\n+                                channelUID, root, CoreItemFactory.NUMBER, null, subKey, subKey, true, false, state,\n+                                unitOfMeasure);\n                     } else if (\"errorString\".equals(subKey)) {\n-                        state = new StateDescription(null, null, null, \"%s\", readOnly, null);\n+                        state = StateDescriptionFragmentBuilder.create().withPattern(\"%s\").withReadOnly(readOnly)\n+                                .build();\n                         newChannel = createChannel(new ChannelTypeUID(thing.getUID().getAsString() + \":\" + subKey),\n-                                channelUID, root, \"String\", null, \"Error message\", \"Text\", true, false, state,\n-                                unitOfMeasure);\n+                                channelUID, root, CoreItemFactory.NUMBER, null, \"Error message\", \"Text\", true, false,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f4f0ef167b25b8a4f0d4fce909504f598ccb9cfb"}, "originalPosition": 210}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f9cc0da9fcbd4141334bd1a18600c56240c8fd72", "author": {"user": {"login": "cweitkamp", "name": "Christoph Weitkamp"}}, "url": "https://github.com/openhab/openhab-addons/commit/f9cc0da9fcbd4141334bd1a18600c56240c8fd72", "committedDate": "2020-04-13T16:16:09Z", "message": "Update bundles/org.openhab.binding.km200/src/main/java/org/openhab/binding/km200/internal/handler/KM200ThingHandler.java\n\nCo-Authored-By: cpmeister <mistercpp2000@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkyMjUxNzE2", "url": "https://github.com/openhab/openhab-addons/pull/7354#pullrequestreview-392251716", "createdAt": "2020-04-13T16:18:49Z", "commit": {"oid": "f9cc0da9fcbd4141334bd1a18600c56240c8fd72"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkyMjc2MTY1", "url": "https://github.com/openhab/openhab-addons/pull/7354#pullrequestreview-392276165", "createdAt": "2020-04-13T16:56:07Z", "commit": {"oid": "f9cc0da9fcbd4141334bd1a18600c56240c8fd72"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xM1QxNjo1NjowN1rOGEtFWw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xM1QxNjo1NjowN1rOGEtFWw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzU4NjEzOQ==", "bodyText": "This class doesn't have a @NonNullByDefault so are you sure that removing @NonNull here is safe?", "url": "https://github.com/openhab/openhab-addons/pull/7354#discussion_r407586139", "createdAt": "2020-04-13T16:56:07Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.km200/src/main/java/org/openhab/binding/km200/internal/handler/KM200ThingHandler.java", "diffHunk": "@@ -324,7 +335,7 @@ private void addChannels(KM200ServiceObject serObj, Thing thing, List<Channel> s\n             switch (subKeyType) {\n                 case \"stringValue\":\n                     /* Creating an new channel type with capabilities from service */\n-                    List<@NonNull StateOption> options = null;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f9cc0da9fcbd4141334bd1a18600c56240c8fd72"}, "originalPosition": 136}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkyNjI4NjA2", "url": "https://github.com/openhab/openhab-addons/pull/7354#pullrequestreview-392628606", "createdAt": "2020-04-14T06:13:00Z", "commit": {"oid": "f9cc0da9fcbd4141334bd1a18600c56240c8fd72"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkyNzI4NzE2", "url": "https://github.com/openhab/openhab-addons/pull/7354#pullrequestreview-392728716", "createdAt": "2020-04-14T08:52:57Z", "commit": {"oid": "f9cc0da9fcbd4141334bd1a18600c56240c8fd72"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1065, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}