{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY0NTU3NDYz", "number": 6877, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yNlQxNzoyMTo1M1rODauzrA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yNlQxNzoyMTo1M1rODauzrA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI5MzU2NDYwOnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.modbus/src/main/java/org/openhab/binding/modbus/internal/handler/ModbusPollerThingHandlerImpl.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yNlQxNzoyMTo1M1rOFh1A9w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xNlQxMToyOToxNFrOFqS_nQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTAxNTkyNw==", "bodyText": "I wonder if this is the correct way to do it. @openhab/core-maintainers, I would expect that after dispose() was called, the thing-status should not be ONLINE, OFFLINE or UNKNOWN but UNINITIALIZED or something like that. Since BaseThingHandler.dispose() does not contain any code, the thing status stays unchanged even if dispose() has been called and initialize() is called again.", "url": "https://github.com/openhab/openhab-addons/pull/6877#discussion_r371015927", "createdAt": "2020-01-26T17:21:53Z", "author": {"login": "J-N-K"}, "path": "bundles/org.openhab.binding.modbus/src/main/java/org/openhab/binding/modbus/internal/handler/ModbusPollerThingHandlerImpl.java", "diffHunk": "@@ -296,6 +296,11 @@ public void handleCommand(ChannelUID channelUID, Command command) {\n \n     @Override\n     public synchronized void initialize() {\n+        if (this.getThing().getStatus().equals(ThingStatus.ONLINE)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "510bc2234f2127981a83ed242d8d02366aefadad"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTAyMTA0Nw==", "bodyText": "Thank you @J-N-K for the review!\nI am not certain of the details so I simply followed what was previously done in the related PR.\nHappy to accomodate the PR if there is a better way to do it of course.\n#5244 (comment)", "url": "https://github.com/openhab/openhab-addons/pull/6877#discussion_r371021047", "createdAt": "2020-01-26T18:46:52Z", "author": {"login": "ssalonen"}, "path": "bundles/org.openhab.binding.modbus/src/main/java/org/openhab/binding/modbus/internal/handler/ModbusPollerThingHandlerImpl.java", "diffHunk": "@@ -296,6 +296,11 @@ public void handleCommand(ChannelUID channelUID, Command command) {\n \n     @Override\n     public synchronized void initialize() {\n+        if (this.getThing().getStatus().equals(ThingStatus.ONLINE)) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTAxNTkyNw=="}, "originalCommit": {"oid": "510bc2234f2127981a83ed242d8d02366aefadad"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTg5NTcwOQ==", "bodyText": "I still feel that this should be handled differently and that the bug is in the implementation in the BaseThingHandler that doesn't ensure that a disposed thing has a state that is not ONLINE but the bug needs to be fixed.", "url": "https://github.com/openhab/openhab-addons/pull/6877#discussion_r379895709", "createdAt": "2020-02-16T11:29:14Z", "author": {"login": "J-N-K"}, "path": "bundles/org.openhab.binding.modbus/src/main/java/org/openhab/binding/modbus/internal/handler/ModbusPollerThingHandlerImpl.java", "diffHunk": "@@ -296,6 +296,11 @@ public void handleCommand(ChannelUID channelUID, Command command) {\n \n     @Override\n     public synchronized void initialize() {\n+        if (this.getThing().getStatus().equals(ThingStatus.ONLINE)) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTAxNTkyNw=="}, "originalCommit": {"oid": "510bc2234f2127981a83ed242d8d02366aefadad"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1111, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}