{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMzMjE1MDQz", "number": 7898, "title": "[hyperion] Fixes #6377 hyperion NPE", "bodyText": "Incorporate changes to HyperionNG serverInfo API - alpha6.\nHyperionEnabled state channel is now determined by special component\nstate \"ALL\". See: https://docs.hyperion-project.org/en/json/ServerInfo.html\nRecent community discussion:\nhttps://community.openhab.org/t/multiple-state-issues-with-hyperion-ng-binding/97747\nSigned-off-by: \u0141ukasz Serwicki lserwicki@gmail.com", "createdAt": "2020-06-11T17:00:13Z", "url": "https://github.com/openhab/openhab-addons/pull/7898", "merged": true, "mergeCommit": {"oid": "d8173024d0e1aca33e5d42e27eda9dcff3a3ade6"}, "closed": true, "closedAt": "2020-06-15T19:04:54Z", "author": {"login": "posseydon6891"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcqRWcSABqjM0MzUxMjI1Mzg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcrldkygFqTQzMDkxNTAwMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "292400e4235b815cc6854e1384c1df04c1cda2a0", "author": {"user": {"login": "posseydon6891", "name": null}}, "url": "https://github.com/openhab/openhab-addons/commit/292400e4235b815cc6854e1384c1df04c1cda2a0", "committedDate": "2020-06-11T15:20:01Z", "message": "[hyperion] Fixes #6377 hyperion NPE\n\nIncorporate changes to HyperionNG serverInfo API - alpha6.\nHyperionEnabled state channel is now determined by special component\nstate \"ALL\". See: https://docs.hyperion-project.org/en/json/ServerInfo.html\n\nSigned-off-by: \u0141ukasz Serwicki <lserwicki@gmail.com>"}, "afterCommit": {"oid": "7894d97f7981094c1aa6bacf514a2113ff34a8b3", "author": {"user": {"login": "posseydon6891", "name": null}}, "url": "https://github.com/openhab/openhab-addons/commit/7894d97f7981094c1aa6bacf514a2113ff34a8b3", "committedDate": "2020-06-11T17:02:06Z", "message": "[hyperion] Fixes #6377 hyperion NPE\n\nIncorporate changes to HyperionNG serverInfo API - alpha6.\nHyperionEnabled state channel is now determined by special component\nstate \"ALL\". See: https://docs.hyperion-project.org/en/json/ServerInfo.html\n\nSigned-off-by: posseydon6891 <lserwicki@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "60e10c542c1c53a2ce7161985a7a08c5721f30c5", "author": {"user": {"login": "posseydon6891", "name": null}}, "url": "https://github.com/openhab/openhab-addons/commit/60e10c542c1c53a2ce7161985a7a08c5721f30c5", "committedDate": "2020-06-15T11:09:19Z", "message": "[hyperion] Fixes #6377 hyperion NPE\n\nIncorporate changes to HyperionNG serverInfo API - alpha6.\nHyperionEnabled state channel is now determined by special component\nstate \"ALL\" for newer APIs.\n\nSee: https://docs.hyperion-project.org/en/json/ServerInfo.html\n\nSigned-off-by: posseydon6891 <lserwicki@gmail.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7894d97f7981094c1aa6bacf514a2113ff34a8b3", "author": {"user": {"login": "posseydon6891", "name": null}}, "url": "https://github.com/openhab/openhab-addons/commit/7894d97f7981094c1aa6bacf514a2113ff34a8b3", "committedDate": "2020-06-11T17:02:06Z", "message": "[hyperion] Fixes #6377 hyperion NPE\n\nIncorporate changes to HyperionNG serverInfo API - alpha6.\nHyperionEnabled state channel is now determined by special component\nstate \"ALL\". See: https://docs.hyperion-project.org/en/json/ServerInfo.html\n\nSigned-off-by: posseydon6891 <lserwicki@gmail.com>"}, "afterCommit": {"oid": "60e10c542c1c53a2ce7161985a7a08c5721f30c5", "author": {"user": {"login": "posseydon6891", "name": null}}, "url": "https://github.com/openhab/openhab-addons/commit/60e10c542c1c53a2ce7161985a7a08c5721f30c5", "committedDate": "2020-06-15T11:09:19Z", "message": "[hyperion] Fixes #6377 hyperion NPE\n\nIncorporate changes to HyperionNG serverInfo API - alpha6.\nHyperionEnabled state channel is now determined by special component\nstate \"ALL\" for newer APIs.\n\nSee: https://docs.hyperion-project.org/en/json/ServerInfo.html\n\nSigned-off-by: posseydon6891 <lserwicki@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMwODEzNzI3", "url": "https://github.com/openhab/openhab-addons/pull/7898#pullrequestreview-430813727", "createdAt": "2020-06-15T16:39:09Z", "commit": {"oid": "60e10c542c1c53a2ce7161985a7a08c5721f30c5"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQxNjozOTowOVrOGj6H2g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQxNjo0MTowMVrOGj6MFg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDMwNTYyNg==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        if(info.getHyperion() != null) {\n          \n          \n            \n                            Hyperion hyperion = info.getHyperion();\n          \n          \n            \n                        Hyperion hyperion = info.getHyperion();\n          \n          \n            \n                        if (hyperion != null) {", "url": "https://github.com/openhab/openhab-addons/pull/7898#discussion_r440305626", "createdAt": "2020-06-15T16:39:09Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.hyperion/src/main/java/org/openhab/binding/hyperion/internal/handler/HyperionNgHandler.java", "diffHunk": "@@ -173,10 +173,12 @@ public void dispose() {\n     protected void handleServerInfoResponse(NgResponse response) {\n         NgInfo info = response.getInfo();\n         if (info != null) {\n-            // update Hyperion\n-            Hyperion hyperion = info.getHyperion();\n-            updateHyperion(hyperion);\n-\n+            // update Hyperion, older API compatibility\n+            if(info.getHyperion() != null) {\n+                Hyperion hyperion = info.getHyperion();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "60e10c542c1c53a2ce7161985a7a08c5721f30c5"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDMwNjcxMA==", "bodyText": "How does the ALL component only correspond to the hyperion enabled channel? Is there no separate enabled channel?", "url": "https://github.com/openhab/openhab-addons/pull/7898#discussion_r440306710", "createdAt": "2020-06-15T16:41:01Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.hyperion/src/main/java/org/openhab/binding/hyperion/internal/handler/HyperionNgHandler.java", "diffHunk": "@@ -295,6 +297,9 @@ private void updateComponents(List<Component> components) {\n                 case COMPONENT_LEDDEVICE:\n                     updateState(CHANNEL_LEDDEVICE, componentState);\n                     break;\n+                case COMPONENT_ALL:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "60e10c542c1c53a2ce7161985a7a08c5721f30c5"}, "originalPosition": 21}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7189db850ce51400817467c50d38ac9626e62000", "author": {"user": {"login": "posseydon6891", "name": null}}, "url": "https://github.com/openhab/openhab-addons/commit/7189db850ce51400817467c50d38ac9626e62000", "committedDate": "2020-06-15T18:05:04Z", "message": "Update bundles/org.openhab.binding.hyperion/src/main/java/org/openhab/binding/hyperion/internal/handler/HyperionNgHandler.java\n\nCo-authored-by: cpmeister <mistercpp2000@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMwOTE1MDAw", "url": "https://github.com/openhab/openhab-addons/pull/7898#pullrequestreview-430915000", "createdAt": "2020-06-15T19:03:37Z", "commit": {"oid": "7189db850ce51400817467c50d38ac9626e62000"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 218, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}