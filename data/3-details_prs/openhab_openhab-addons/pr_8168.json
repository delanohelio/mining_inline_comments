{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU0NzE4OTA0", "number": 8168, "title": "[miio] improve viewer with coordinates", "bodyText": "Print coordinates to allow finding the room clean details\nSigned-off-by: Marcel Verpaalen marcel@verpaalen.com", "createdAt": "2020-07-21T20:06:59Z", "url": "https://github.com/openhab/openhab-addons/pull/8168", "merged": true, "mergeCommit": {"oid": "15981a8be0ec6f428dcb86d7e2df6fd88430bf5f"}, "closed": true, "closedAt": "2020-08-20T16:30:56Z", "author": {"login": "marcelrv"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc3I-NBAH2gAyNDU0NzE4OTA0OjAwMzQzYTViY2RmMzE1NWIyODgxMGE0MzVjMDlmMmY4Mjg1ZTk0MTE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdAy1IFgFqTQ3MTc4NzI0MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "00343a5bcdf3155b28810a435c09f2f8285e9411", "author": {"user": {"login": "marcelrv", "name": "Marcel"}}, "url": "https://github.com/openhab/openhab-addons/commit/00343a5bcdf3155b28810a435c09f2f8285e9411", "committedDate": "2020-07-21T16:39:06Z", "message": "[miio] improve viewer with coordinates\n\nPrint coordinates to allow finding the room clean details\n\nSigned-off-by: Marcel Verpaalen <marcel@verpaalen.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUzMTI0NzE2", "url": "https://github.com/openhab/openhab-addons/pull/8168#pullrequestreview-453124716", "createdAt": "2020-07-22T08:56:18Z", "commit": {"oid": "00343a5bcdf3155b28810a435c09f2f8285e9411"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQwODo1NjoxOFrOG1ZQaQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQwODo1Nzo1NVrOG1ZUFQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODY0MTUxMw==", "bodyText": "I think you should not directly write new lines, Just as done above use:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        pw.print(\"\\r\\n\");\n          \n          \n            \n                        pw.println();", "url": "https://github.com/openhab/openhab-addons/pull/8168#discussion_r458641513", "createdAt": "2020-07-22T08:56:18Z", "author": {"login": "Hilbrand"}, "path": "bundles/org.openhab.binding.miio/src/main/java/org/openhab/binding/miio/internal/robot/RRMapFileParser.java", "diffHunk": "@@ -299,6 +300,16 @@ public String toString() {\n         return sw.toString();\n     }\n \n+    private void printAreaDetails(ArrayList<float[]> areas, PrintWriter pw) {\n+        areas.forEach(area -> {\n+            pw.printf(\"\\tArea details:\");\n+            for (int i = 0; i < area.length; i++) {\n+                pw.printf(\"\\t%.1f\", area[i]);\n+            }\n+            pw.print(\"\\r\\n\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "00343a5bcdf3155b28810a435c09f2f8285e9411"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODY0MjQ1Mw==", "bodyText": "If there are more areas does it make sense to include some information about what area these details are about. With your change you would get several generic \"Area details\" printed next to each other.", "url": "https://github.com/openhab/openhab-addons/pull/8168#discussion_r458642453", "createdAt": "2020-07-22T08:57:55Z", "author": {"login": "Hilbrand"}, "path": "bundles/org.openhab.binding.miio/src/main/java/org/openhab/binding/miio/internal/robot/RRMapFileParser.java", "diffHunk": "@@ -299,6 +300,16 @@ public String toString() {\n         return sw.toString();\n     }\n \n+    private void printAreaDetails(ArrayList<float[]> areas, PrintWriter pw) {\n+        areas.forEach(area -> {\n+            pw.printf(\"\\tArea details:\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "00343a5bcdf3155b28810a435c09f2f8285e9411"}, "originalPosition": 14}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "179af6e6d3f7d9f44cb763f92fe1bec45cfa9f7f", "author": {"user": {"login": "marcelrv", "name": "Marcel"}}, "url": "https://github.com/openhab/openhab-addons/commit/179af6e6d3f7d9f44cb763f92fe1bec45cfa9f7f", "committedDate": "2020-07-22T20:53:57Z", "message": "[miio] improve print text for maps\n\nSigned-off-by: Marcel Verpaalen <marcel@verpaalen.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU2MTEwNjU1", "url": "https://github.com/openhab/openhab-addons/pull/8168#pullrequestreview-456110655", "createdAt": "2020-07-27T20:28:38Z", "commit": {"oid": "179af6e6d3f7d9f44cb763f92fe1bec45cfa9f7f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0cc1899ddbfdf78c62bf862c497502dd7c5e2b79", "author": {"user": {"login": "marcelrv", "name": "Marcel"}}, "url": "https://github.com/openhab/openhab-addons/commit/0cc1899ddbfdf78c62bf862c497502dd7c5e2b79", "committedDate": "2020-08-12T14:11:25Z", "message": "[miio] Improve mapviwer with goto coordinates calculation\n\nFurther calculation of the goto coordinates to be used for zone cleaning\n\nSigned-off-by: Marcel Verpaalen <marcel@verpaalen.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1d62d48c518b379375cca15d7c39a2f8bb4df175", "author": {"user": {"login": "marcelrv", "name": "Marcel"}}, "url": "https://github.com/openhab/openhab-addons/commit/1d62d48c518b379375cca15d7c39a2f8bb4df175", "committedDate": "2020-08-14T15:46:04Z", "message": "[miio] Offline viewer provides zone clean command\n\n* Parser prints real coordinates (robot,goto, zones etc)\n* Offline viewer provides zone clean command\n* Offline viewer provides goto command\n* Offline viewer provides coordinates on mouseover\n\nSigned-off-by: Marcel Verpaalen <marcel@verpaalen.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2c9126afe27c9c91349ae777512a648c6019d126", "author": {"user": {"login": "marcelrv", "name": "Marcel"}}, "url": "https://github.com/openhab/openhab-addons/commit/2c9126afe27c9c91349ae777512a648c6019d126", "committedDate": "2020-08-14T18:47:56Z", "message": "[miio] fix robo position + improved scrolling\n\nSigned-off-by: Marcel Verpaalen <marcel@verpaalen.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcxNzg3MjQx", "url": "https://github.com/openhab/openhab-addons/pull/8168#pullrequestreview-471787241", "createdAt": "2020-08-20T16:30:31Z", "commit": {"oid": "2c9126afe27c9c91349ae777512a648c6019d126"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 175, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}