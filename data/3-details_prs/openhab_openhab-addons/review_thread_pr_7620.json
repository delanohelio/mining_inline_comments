{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE3MDA5MjA5", "number": 7620, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQyMzo0NToxNVrOD73Nfw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQyMzo0NToxNVrOD73Nfw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0MDk3MTUxOnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.jeelink/src/main/java/org/openhab/binding/jeelink/internal/connection/JeeLinkSerialConnection.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQyMzo0NToxNVrOGUcv8w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QxOTo1ODoyOVrOGVBX4w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDA5NTczMQ==", "bodyText": "Is it possible to move this logic into JeeLinkHandler's initialize method so you can put the thing offline with a config error? You should be able to pass around the SerialPortIdentifier instance instead of the SerialPortManager instance.", "url": "https://github.com/openhab/openhab-addons/pull/7620#discussion_r424095731", "createdAt": "2020-05-12T23:45:15Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.jeelink/src/main/java/org/openhab/binding/jeelink/internal/connection/JeeLinkSerialConnection.java", "diffHunk": "@@ -69,9 +70,12 @@ public synchronized void openConnection() {\n             if (!open) {\n                 logger.debug(\"Opening serial connection to port {} with baud rate {}...\", port, baudRate);\n \n-                CommPortIdentifier portIdentifier;\n+                SerialPortIdentifier portIdentifier = serialPortManager.getIdentifier(port);\n+                if (portIdentifier == null) {\n+                    notifyAbort(\"Port not found: \" + port);\n+                    return;\n+                }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f61231fd161f86224b42b8c8b9d875580a127045"}, "originalPosition": 56}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDY5NTc3OQ==", "bodyText": "After revisiting the code it looks like it is possible. The static method was only used by the handler so that saves another level of passing stuff around. :-)", "url": "https://github.com/openhab/openhab-addons/pull/7620#discussion_r424695779", "createdAt": "2020-05-13T19:58:29Z", "author": {"login": "wborn"}, "path": "bundles/org.openhab.binding.jeelink/src/main/java/org/openhab/binding/jeelink/internal/connection/JeeLinkSerialConnection.java", "diffHunk": "@@ -69,9 +70,12 @@ public synchronized void openConnection() {\n             if (!open) {\n                 logger.debug(\"Opening serial connection to port {} with baud rate {}...\", port, baudRate);\n \n-                CommPortIdentifier portIdentifier;\n+                SerialPortIdentifier portIdentifier = serialPortManager.getIdentifier(port);\n+                if (portIdentifier == null) {\n+                    notifyAbort(\"Port not found: \" + port);\n+                    return;\n+                }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDA5NTczMQ=="}, "originalCommit": {"oid": "f61231fd161f86224b42b8c8b9d875580a127045"}, "originalPosition": 56}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 222, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}