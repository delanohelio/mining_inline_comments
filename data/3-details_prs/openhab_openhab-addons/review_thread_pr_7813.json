{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI0NDIwNzU2", "number": 7813, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMlQwMDozNToxNFrOEBjmFA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMlQwMDozNToxNFrOEBjmFA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcwMDY3MjIwOnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.hue/src/main/java/org/openhab/binding/hue/internal/console/HueCommandExtension.java", "isResolved": false, "comments": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMlQwMDozNToxNFrOGdeWxg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMlQyMTozNDoxMFrOGeEw5Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzU1OTIzOA==", "bodyText": "The lack of a handler doesn't mean that the provided bridge ID was a bad one.", "url": "https://github.com/openhab/openhab-addons/pull/7813#discussion_r433559238", "createdAt": "2020-06-02T00:35:14Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.hue/src/main/java/org/openhab/binding/hue/internal/console/HueCommandExtension.java", "diffHunk": "@@ -0,0 +1,90 @@\n+/**\n+ * Copyright (c) 2010-2020 Contributors to the openHAB project\n+ *\n+ * See the NOTICE file(s) distributed with this work for additional\n+ * information.\n+ *\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0\n+ *\n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.openhab.binding.hue.internal.console;\n+\n+import java.util.Arrays;\n+import java.util.List;\n+\n+import org.eclipse.jdt.annotation.NonNullByDefault;\n+import org.eclipse.smarthome.core.thing.Thing;\n+import org.eclipse.smarthome.core.thing.ThingRegistry;\n+import org.eclipse.smarthome.core.thing.ThingUID;\n+import org.eclipse.smarthome.core.thing.binding.ThingHandler;\n+import org.eclipse.smarthome.io.console.Console;\n+import org.eclipse.smarthome.io.console.extensions.AbstractConsoleCommandExtension;\n+import org.eclipse.smarthome.io.console.extensions.ConsoleCommandExtension;\n+import org.openhab.binding.hue.internal.handler.HueBridgeHandler;\n+import org.osgi.service.component.annotations.Activate;\n+import org.osgi.service.component.annotations.Component;\n+import org.osgi.service.component.annotations.Reference;\n+\n+/**\n+ * The {@link HueCommandExtension} is responsible for handling console commands\n+ *\n+ * @author Laurent Garnier - Initial contribution\n+ */\n+\n+@NonNullByDefault\n+@Component(service = ConsoleCommandExtension.class)\n+public class HueCommandExtension extends AbstractConsoleCommandExtension {\n+\n+    private static final String USER_NAME = \"username\";\n+\n+    private final ThingRegistry thingRegistry;\n+\n+    @Activate\n+    public HueCommandExtension(final @Reference ThingRegistry thingRegistry) {\n+        super(\"hue\", \"Interact with the hue binding.\");\n+        this.thingRegistry = thingRegistry;\n+    }\n+\n+    @Override\n+    public void execute(String[] args, Console console) {\n+        if (args.length == 2) {\n+            HueBridgeHandler bridgeHandler = null;\n+            try {\n+                ThingUID thingUID = new ThingUID(args[0]);\n+                Thing thing = thingRegistry.get(thingUID);\n+                if (thing != null) {\n+                    ThingHandler thingHandler = thing.getHandler();\n+                    if (thingHandler instanceof HueBridgeHandler) {\n+                        bridgeHandler = (HueBridgeHandler) thingHandler;\n+                    }\n+                }\n+            } catch (IllegalArgumentException e) {\n+                bridgeHandler = null;\n+            }\n+            if (bridgeHandler == null) {\n+                console.println(\"Bad bridge id '\" + args[0] + \"'\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bf1982876b759596cf5d23daeb321cdca6a91201"}, "originalPosition": 68}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzU1OTU5Mw==", "bodyText": "You should log something different depending on if the handler was null vs the thing was null.", "url": "https://github.com/openhab/openhab-addons/pull/7813#discussion_r433559593", "createdAt": "2020-06-02T00:36:30Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.hue/src/main/java/org/openhab/binding/hue/internal/console/HueCommandExtension.java", "diffHunk": "@@ -0,0 +1,90 @@\n+/**\n+ * Copyright (c) 2010-2020 Contributors to the openHAB project\n+ *\n+ * See the NOTICE file(s) distributed with this work for additional\n+ * information.\n+ *\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0\n+ *\n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.openhab.binding.hue.internal.console;\n+\n+import java.util.Arrays;\n+import java.util.List;\n+\n+import org.eclipse.jdt.annotation.NonNullByDefault;\n+import org.eclipse.smarthome.core.thing.Thing;\n+import org.eclipse.smarthome.core.thing.ThingRegistry;\n+import org.eclipse.smarthome.core.thing.ThingUID;\n+import org.eclipse.smarthome.core.thing.binding.ThingHandler;\n+import org.eclipse.smarthome.io.console.Console;\n+import org.eclipse.smarthome.io.console.extensions.AbstractConsoleCommandExtension;\n+import org.eclipse.smarthome.io.console.extensions.ConsoleCommandExtension;\n+import org.openhab.binding.hue.internal.handler.HueBridgeHandler;\n+import org.osgi.service.component.annotations.Activate;\n+import org.osgi.service.component.annotations.Component;\n+import org.osgi.service.component.annotations.Reference;\n+\n+/**\n+ * The {@link HueCommandExtension} is responsible for handling console commands\n+ *\n+ * @author Laurent Garnier - Initial contribution\n+ */\n+\n+@NonNullByDefault\n+@Component(service = ConsoleCommandExtension.class)\n+public class HueCommandExtension extends AbstractConsoleCommandExtension {\n+\n+    private static final String USER_NAME = \"username\";\n+\n+    private final ThingRegistry thingRegistry;\n+\n+    @Activate\n+    public HueCommandExtension(final @Reference ThingRegistry thingRegistry) {\n+        super(\"hue\", \"Interact with the hue binding.\");\n+        this.thingRegistry = thingRegistry;\n+    }\n+\n+    @Override\n+    public void execute(String[] args, Console console) {\n+        if (args.length == 2) {\n+            HueBridgeHandler bridgeHandler = null;\n+            try {\n+                ThingUID thingUID = new ThingUID(args[0]);\n+                Thing thing = thingRegistry.get(thingUID);\n+                if (thing != null) {\n+                    ThingHandler thingHandler = thing.getHandler();\n+                    if (thingHandler instanceof HueBridgeHandler) {\n+                        bridgeHandler = (HueBridgeHandler) thingHandler;\n+                    }\n+                }\n+            } catch (IllegalArgumentException e) {\n+                bridgeHandler = null;\n+            }\n+            if (bridgeHandler == null) {\n+                console.println(\"Bad bridge id '\" + args[0] + \"'\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzU1OTIzOA=="}, "originalCommit": {"oid": "bf1982876b759596cf5d23daeb321cdca6a91201"}, "originalPosition": 68}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzY1Njc4OQ==", "bodyText": "I am a little surprised because this comment comes after few other PRs with the same code you recently reviewed without any such comment.\nWhat would be the case with a null handler ? If the bundle is stopped for example ? What could be the clear message to display to the user ?", "url": "https://github.com/openhab/openhab-addons/pull/7813#discussion_r433656789", "createdAt": "2020-06-02T06:51:32Z", "author": {"login": "lolodomo"}, "path": "bundles/org.openhab.binding.hue/src/main/java/org/openhab/binding/hue/internal/console/HueCommandExtension.java", "diffHunk": "@@ -0,0 +1,90 @@\n+/**\n+ * Copyright (c) 2010-2020 Contributors to the openHAB project\n+ *\n+ * See the NOTICE file(s) distributed with this work for additional\n+ * information.\n+ *\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0\n+ *\n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.openhab.binding.hue.internal.console;\n+\n+import java.util.Arrays;\n+import java.util.List;\n+\n+import org.eclipse.jdt.annotation.NonNullByDefault;\n+import org.eclipse.smarthome.core.thing.Thing;\n+import org.eclipse.smarthome.core.thing.ThingRegistry;\n+import org.eclipse.smarthome.core.thing.ThingUID;\n+import org.eclipse.smarthome.core.thing.binding.ThingHandler;\n+import org.eclipse.smarthome.io.console.Console;\n+import org.eclipse.smarthome.io.console.extensions.AbstractConsoleCommandExtension;\n+import org.eclipse.smarthome.io.console.extensions.ConsoleCommandExtension;\n+import org.openhab.binding.hue.internal.handler.HueBridgeHandler;\n+import org.osgi.service.component.annotations.Activate;\n+import org.osgi.service.component.annotations.Component;\n+import org.osgi.service.component.annotations.Reference;\n+\n+/**\n+ * The {@link HueCommandExtension} is responsible for handling console commands\n+ *\n+ * @author Laurent Garnier - Initial contribution\n+ */\n+\n+@NonNullByDefault\n+@Component(service = ConsoleCommandExtension.class)\n+public class HueCommandExtension extends AbstractConsoleCommandExtension {\n+\n+    private static final String USER_NAME = \"username\";\n+\n+    private final ThingRegistry thingRegistry;\n+\n+    @Activate\n+    public HueCommandExtension(final @Reference ThingRegistry thingRegistry) {\n+        super(\"hue\", \"Interact with the hue binding.\");\n+        this.thingRegistry = thingRegistry;\n+    }\n+\n+    @Override\n+    public void execute(String[] args, Console console) {\n+        if (args.length == 2) {\n+            HueBridgeHandler bridgeHandler = null;\n+            try {\n+                ThingUID thingUID = new ThingUID(args[0]);\n+                Thing thing = thingRegistry.get(thingUID);\n+                if (thing != null) {\n+                    ThingHandler thingHandler = thing.getHandler();\n+                    if (thingHandler instanceof HueBridgeHandler) {\n+                        bridgeHandler = (HueBridgeHandler) thingHandler;\n+                    }\n+                }\n+            } catch (IllegalArgumentException e) {\n+                bridgeHandler = null;\n+            }\n+            if (bridgeHandler == null) {\n+                console.println(\"Bad bridge id '\" + args[0] + \"'\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzU1OTIzOA=="}, "originalCommit": {"oid": "bf1982876b759596cf5d23daeb321cdca6a91201"}, "originalPosition": 68}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzc5NDQ4OQ==", "bodyText": "If the bundle is stopped, the console command will not be accessible.\nThe case you ask to handle is probably only if the command is run during the startup of the binding, before the thing handler is initialized. Very low probable to happen in practice.", "url": "https://github.com/openhab/openhab-addons/pull/7813#discussion_r433794489", "createdAt": "2020-06-02T11:05:30Z", "author": {"login": "lolodomo"}, "path": "bundles/org.openhab.binding.hue/src/main/java/org/openhab/binding/hue/internal/console/HueCommandExtension.java", "diffHunk": "@@ -0,0 +1,90 @@\n+/**\n+ * Copyright (c) 2010-2020 Contributors to the openHAB project\n+ *\n+ * See the NOTICE file(s) distributed with this work for additional\n+ * information.\n+ *\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0\n+ *\n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.openhab.binding.hue.internal.console;\n+\n+import java.util.Arrays;\n+import java.util.List;\n+\n+import org.eclipse.jdt.annotation.NonNullByDefault;\n+import org.eclipse.smarthome.core.thing.Thing;\n+import org.eclipse.smarthome.core.thing.ThingRegistry;\n+import org.eclipse.smarthome.core.thing.ThingUID;\n+import org.eclipse.smarthome.core.thing.binding.ThingHandler;\n+import org.eclipse.smarthome.io.console.Console;\n+import org.eclipse.smarthome.io.console.extensions.AbstractConsoleCommandExtension;\n+import org.eclipse.smarthome.io.console.extensions.ConsoleCommandExtension;\n+import org.openhab.binding.hue.internal.handler.HueBridgeHandler;\n+import org.osgi.service.component.annotations.Activate;\n+import org.osgi.service.component.annotations.Component;\n+import org.osgi.service.component.annotations.Reference;\n+\n+/**\n+ * The {@link HueCommandExtension} is responsible for handling console commands\n+ *\n+ * @author Laurent Garnier - Initial contribution\n+ */\n+\n+@NonNullByDefault\n+@Component(service = ConsoleCommandExtension.class)\n+public class HueCommandExtension extends AbstractConsoleCommandExtension {\n+\n+    private static final String USER_NAME = \"username\";\n+\n+    private final ThingRegistry thingRegistry;\n+\n+    @Activate\n+    public HueCommandExtension(final @Reference ThingRegistry thingRegistry) {\n+        super(\"hue\", \"Interact with the hue binding.\");\n+        this.thingRegistry = thingRegistry;\n+    }\n+\n+    @Override\n+    public void execute(String[] args, Console console) {\n+        if (args.length == 2) {\n+            HueBridgeHandler bridgeHandler = null;\n+            try {\n+                ThingUID thingUID = new ThingUID(args[0]);\n+                Thing thing = thingRegistry.get(thingUID);\n+                if (thing != null) {\n+                    ThingHandler thingHandler = thing.getHandler();\n+                    if (thingHandler instanceof HueBridgeHandler) {\n+                        bridgeHandler = (HueBridgeHandler) thingHandler;\n+                    }\n+                }\n+            } catch (IllegalArgumentException e) {\n+                bridgeHandler = null;\n+            }\n+            if (bridgeHandler == null) {\n+                console.println(\"Bad bridge id '\" + args[0] + \"'\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzU1OTIzOA=="}, "originalCommit": {"oid": "bf1982876b759596cf5d23daeb321cdca6a91201"}, "originalPosition": 68}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDA0NTU3OA==", "bodyText": "Well you can always disable things without stopping the bundle.\nThe only reason that I pointed this change out is because I'm a better reviewer than I was yesterday. \ud83d\ude42", "url": "https://github.com/openhab/openhab-addons/pull/7813#discussion_r434045578", "createdAt": "2020-06-02T17:22:46Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.hue/src/main/java/org/openhab/binding/hue/internal/console/HueCommandExtension.java", "diffHunk": "@@ -0,0 +1,90 @@\n+/**\n+ * Copyright (c) 2010-2020 Contributors to the openHAB project\n+ *\n+ * See the NOTICE file(s) distributed with this work for additional\n+ * information.\n+ *\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0\n+ *\n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.openhab.binding.hue.internal.console;\n+\n+import java.util.Arrays;\n+import java.util.List;\n+\n+import org.eclipse.jdt.annotation.NonNullByDefault;\n+import org.eclipse.smarthome.core.thing.Thing;\n+import org.eclipse.smarthome.core.thing.ThingRegistry;\n+import org.eclipse.smarthome.core.thing.ThingUID;\n+import org.eclipse.smarthome.core.thing.binding.ThingHandler;\n+import org.eclipse.smarthome.io.console.Console;\n+import org.eclipse.smarthome.io.console.extensions.AbstractConsoleCommandExtension;\n+import org.eclipse.smarthome.io.console.extensions.ConsoleCommandExtension;\n+import org.openhab.binding.hue.internal.handler.HueBridgeHandler;\n+import org.osgi.service.component.annotations.Activate;\n+import org.osgi.service.component.annotations.Component;\n+import org.osgi.service.component.annotations.Reference;\n+\n+/**\n+ * The {@link HueCommandExtension} is responsible for handling console commands\n+ *\n+ * @author Laurent Garnier - Initial contribution\n+ */\n+\n+@NonNullByDefault\n+@Component(service = ConsoleCommandExtension.class)\n+public class HueCommandExtension extends AbstractConsoleCommandExtension {\n+\n+    private static final String USER_NAME = \"username\";\n+\n+    private final ThingRegistry thingRegistry;\n+\n+    @Activate\n+    public HueCommandExtension(final @Reference ThingRegistry thingRegistry) {\n+        super(\"hue\", \"Interact with the hue binding.\");\n+        this.thingRegistry = thingRegistry;\n+    }\n+\n+    @Override\n+    public void execute(String[] args, Console console) {\n+        if (args.length == 2) {\n+            HueBridgeHandler bridgeHandler = null;\n+            try {\n+                ThingUID thingUID = new ThingUID(args[0]);\n+                Thing thing = thingRegistry.get(thingUID);\n+                if (thing != null) {\n+                    ThingHandler thingHandler = thing.getHandler();\n+                    if (thingHandler instanceof HueBridgeHandler) {\n+                        bridgeHandler = (HueBridgeHandler) thingHandler;\n+                    }\n+                }\n+            } catch (IllegalArgumentException e) {\n+                bridgeHandler = null;\n+            }\n+            if (bridgeHandler == null) {\n+                console.println(\"Bad bridge id '\" + args[0] + \"'\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzU1OTIzOA=="}, "originalCommit": {"oid": "bf1982876b759596cf5d23daeb321cdca6a91201"}, "originalPosition": 68}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDE3Mjk4NA==", "bodyText": "I will have to update other bindings in this case,", "url": "https://github.com/openhab/openhab-addons/pull/7813#discussion_r434172984", "createdAt": "2020-06-02T21:00:58Z", "author": {"login": "lolodomo"}, "path": "bundles/org.openhab.binding.hue/src/main/java/org/openhab/binding/hue/internal/console/HueCommandExtension.java", "diffHunk": "@@ -0,0 +1,90 @@\n+/**\n+ * Copyright (c) 2010-2020 Contributors to the openHAB project\n+ *\n+ * See the NOTICE file(s) distributed with this work for additional\n+ * information.\n+ *\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0\n+ *\n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.openhab.binding.hue.internal.console;\n+\n+import java.util.Arrays;\n+import java.util.List;\n+\n+import org.eclipse.jdt.annotation.NonNullByDefault;\n+import org.eclipse.smarthome.core.thing.Thing;\n+import org.eclipse.smarthome.core.thing.ThingRegistry;\n+import org.eclipse.smarthome.core.thing.ThingUID;\n+import org.eclipse.smarthome.core.thing.binding.ThingHandler;\n+import org.eclipse.smarthome.io.console.Console;\n+import org.eclipse.smarthome.io.console.extensions.AbstractConsoleCommandExtension;\n+import org.eclipse.smarthome.io.console.extensions.ConsoleCommandExtension;\n+import org.openhab.binding.hue.internal.handler.HueBridgeHandler;\n+import org.osgi.service.component.annotations.Activate;\n+import org.osgi.service.component.annotations.Component;\n+import org.osgi.service.component.annotations.Reference;\n+\n+/**\n+ * The {@link HueCommandExtension} is responsible for handling console commands\n+ *\n+ * @author Laurent Garnier - Initial contribution\n+ */\n+\n+@NonNullByDefault\n+@Component(service = ConsoleCommandExtension.class)\n+public class HueCommandExtension extends AbstractConsoleCommandExtension {\n+\n+    private static final String USER_NAME = \"username\";\n+\n+    private final ThingRegistry thingRegistry;\n+\n+    @Activate\n+    public HueCommandExtension(final @Reference ThingRegistry thingRegistry) {\n+        super(\"hue\", \"Interact with the hue binding.\");\n+        this.thingRegistry = thingRegistry;\n+    }\n+\n+    @Override\n+    public void execute(String[] args, Console console) {\n+        if (args.length == 2) {\n+            HueBridgeHandler bridgeHandler = null;\n+            try {\n+                ThingUID thingUID = new ThingUID(args[0]);\n+                Thing thing = thingRegistry.get(thingUID);\n+                if (thing != null) {\n+                    ThingHandler thingHandler = thing.getHandler();\n+                    if (thingHandler instanceof HueBridgeHandler) {\n+                        bridgeHandler = (HueBridgeHandler) thingHandler;\n+                    }\n+                }\n+            } catch (IllegalArgumentException e) {\n+                bridgeHandler = null;\n+            }\n+            if (bridgeHandler == null) {\n+                console.println(\"Bad bridge id '\" + args[0] + \"'\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzU1OTIzOA=="}, "originalCommit": {"oid": "bf1982876b759596cf5d23daeb321cdca6a91201"}, "originalPosition": 68}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDE4ODUxNw==", "bodyText": "Ok, changed.\nIn fact, there are 3 different cases, so 3 different messages.", "url": "https://github.com/openhab/openhab-addons/pull/7813#discussion_r434188517", "createdAt": "2020-06-02T21:34:10Z", "author": {"login": "lolodomo"}, "path": "bundles/org.openhab.binding.hue/src/main/java/org/openhab/binding/hue/internal/console/HueCommandExtension.java", "diffHunk": "@@ -0,0 +1,90 @@\n+/**\n+ * Copyright (c) 2010-2020 Contributors to the openHAB project\n+ *\n+ * See the NOTICE file(s) distributed with this work for additional\n+ * information.\n+ *\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0\n+ *\n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.openhab.binding.hue.internal.console;\n+\n+import java.util.Arrays;\n+import java.util.List;\n+\n+import org.eclipse.jdt.annotation.NonNullByDefault;\n+import org.eclipse.smarthome.core.thing.Thing;\n+import org.eclipse.smarthome.core.thing.ThingRegistry;\n+import org.eclipse.smarthome.core.thing.ThingUID;\n+import org.eclipse.smarthome.core.thing.binding.ThingHandler;\n+import org.eclipse.smarthome.io.console.Console;\n+import org.eclipse.smarthome.io.console.extensions.AbstractConsoleCommandExtension;\n+import org.eclipse.smarthome.io.console.extensions.ConsoleCommandExtension;\n+import org.openhab.binding.hue.internal.handler.HueBridgeHandler;\n+import org.osgi.service.component.annotations.Activate;\n+import org.osgi.service.component.annotations.Component;\n+import org.osgi.service.component.annotations.Reference;\n+\n+/**\n+ * The {@link HueCommandExtension} is responsible for handling console commands\n+ *\n+ * @author Laurent Garnier - Initial contribution\n+ */\n+\n+@NonNullByDefault\n+@Component(service = ConsoleCommandExtension.class)\n+public class HueCommandExtension extends AbstractConsoleCommandExtension {\n+\n+    private static final String USER_NAME = \"username\";\n+\n+    private final ThingRegistry thingRegistry;\n+\n+    @Activate\n+    public HueCommandExtension(final @Reference ThingRegistry thingRegistry) {\n+        super(\"hue\", \"Interact with the hue binding.\");\n+        this.thingRegistry = thingRegistry;\n+    }\n+\n+    @Override\n+    public void execute(String[] args, Console console) {\n+        if (args.length == 2) {\n+            HueBridgeHandler bridgeHandler = null;\n+            try {\n+                ThingUID thingUID = new ThingUID(args[0]);\n+                Thing thing = thingRegistry.get(thingUID);\n+                if (thing != null) {\n+                    ThingHandler thingHandler = thing.getHandler();\n+                    if (thingHandler instanceof HueBridgeHandler) {\n+                        bridgeHandler = (HueBridgeHandler) thingHandler;\n+                    }\n+                }\n+            } catch (IllegalArgumentException e) {\n+                bridgeHandler = null;\n+            }\n+            if (bridgeHandler == null) {\n+                console.println(\"Bad bridge id '\" + args[0] + \"'\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzU1OTIzOA=="}, "originalCommit": {"oid": "bf1982876b759596cf5d23daeb321cdca6a91201"}, "originalPosition": 68}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4946, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}