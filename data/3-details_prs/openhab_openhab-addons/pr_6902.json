{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY3MTM3NTA4", "number": 6902, "title": "[mqtt.generic] add trigger channel type", "bodyText": "Insired by #6878\nCreate a new channel type for triggers.\n(edit: changed imlementation idea)", "createdAt": "2020-01-25T17:48:58Z", "url": "https://github.com/openhab/openhab-addons/pull/6902", "merged": true, "mergeCommit": {"oid": "7695975c586247eee989e7322b0e00d8c4f43056"}, "closed": true, "closedAt": "2020-05-13T02:12:03Z", "author": {"login": "jochen314"}, "timelineItems": {"totalCount": 14, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb93KqWAH2gAyMzY3MTM3NTA4Ojc2MmFiZTk0MzQ3NTM1MWNjOGE1YzVkN2M5NWQwNTFmMDc2MjkyNTI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcgvNFGgFqTQxMDU0MDgxNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "762abe943475351cc8a5c5d7c95d051f07629252", "author": {"user": {"login": "jochen314", "name": "Jochen Klein"}}, "url": "https://github.com/openhab/openhab-addons/commit/762abe943475351cc8a5c5d7c95d051f07629252", "committedDate": "2020-01-25T17:40:44Z", "message": "add possibility to make generic string/number channels triggers\n\nSigned-off-by: Jochen Klein <git@jochen.susca.de>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "472b60e2b1efab40d3a98f75dcebc0d2dd6906a7", "author": {"user": {"login": "jochen314", "name": "Jochen Klein"}}, "url": "https://github.com/openhab/openhab-addons/commit/472b60e2b1efab40d3a98f75dcebc0d2dd6906a7", "committedDate": "2020-01-25T18:04:11Z", "message": "witespace\n\nSigned-off-by: Jochen Klein <git@jochen.susca.de>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ4MzUwNzk3", "url": "https://github.com/openhab/openhab-addons/pull/6902#pullrequestreview-348350797", "createdAt": "2020-01-25T23:34:11Z", "commit": {"oid": "472b60e2b1efab40d3a98f75dcebc0d2dd6906a7"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yNVQyMzozNDoxMVrOFhxwvQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yNVQyMzozNDoxMVrOFhxwvQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDk2MjYyMQ==", "bodyText": "I'm not sure if it make sense to treat a number channel as a trigger channel, because usually the number represent a state. Can you think about a use case in which a number doesn't reflect a state?", "url": "https://github.com/openhab/openhab-addons/pull/6902#discussion_r370962621", "createdAt": "2020-01-25T23:34:11Z", "author": {"login": "bodiroga"}, "path": "bundles/org.openhab.binding.mqtt.generic/src/main/resources/ESH-INF/config/number-channel-config.xml", "diffHunk": "@@ -102,5 +102,11 @@\n \t\t\t\tconverting incoming values (like from '\u00b0F' to '\u00b0C'). Examples: \"\u00b0C\", \"\u00b0F\"</description>\n \t\t\t<advanced>true</advanced>\n \t\t</parameter>\n+\t\t<parameter name=\"trigger\" type=\"boolean\">", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "472b60e2b1efab40d3a98f75dcebc0d2dd6906a7"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "125b8ff4ee22c02fb06f447059f8ce9db0ac72a9", "author": {"user": {"login": "jochen314", "name": "Jochen Klein"}}, "url": "https://github.com/openhab/openhab-addons/commit/125b8ff4ee22c02fb06f447059f8ce9db0ac72a9", "committedDate": "2020-01-26T16:54:41Z", "message": "make trigger an own channel type\n\nSigned-off-by: Jochen Klein <git@jochen.susca.de>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ5MTg1NjM2", "url": "https://github.com/openhab/openhab-addons/pull/6902#pullrequestreview-349185636", "createdAt": "2020-01-28T08:08:45Z", "commit": {"oid": "125b8ff4ee22c02fb06f447059f8ce9db0ac72a9"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOFQwODowODo0NVrOFib-_w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOFQwODowODo0NVrOFib-_w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTY1NDM5OQ==", "bodyText": "A transformation doesn't make sense for a trigger", "url": "https://github.com/openhab/openhab-addons/pull/6902#discussion_r371654399", "createdAt": "2020-01-28T08:08:45Z", "author": {"login": "davidgraeff"}, "path": "bundles/org.openhab.binding.mqtt.generic/src/main/resources/ESH-INF/config/trigger-channel-config.xml", "diffHunk": "@@ -0,0 +1,31 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<config-description:config-descriptions\n+\txmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+\txmlns:config-description=\"https://openhab.org/schemas/config-description/v1.0.0\"\n+\txsi:schemaLocation=\"https://openhab.org/schemas/config-description/v1.0.0 https://openhab.org/schemas/config-description-1.0.0.xsd\">\n+\n+\t<config-description uri=\"thing-type:mqtt:trigger_channel\">\n+\t\t<parameter-group name=\"transformations\">\n+\t\t\t<label>Transform Values</label>\n+\t\t\t<description>These configuration parameters allow you to alter a value before it is published to MQTT or before a\n+\t\t\t\treceived value is used in the trigger.</description>\n+\t\t\t<advanced>true</advanced>\n+\t\t</parameter-group>\n+\n+\t\t<parameter name=\"stateTopic\" type=\"text\" required=\"true\">\n+\t\t\t<label>MQTT Trigger Topic</label>\n+\t\t\t<description>An MQTT topic that this thing will subscribe to, to receive the trigger</description>\n+\t\t</parameter>\n+\t\t<parameter name=\"transformationPattern\" type=\"text\" groupName=\"transformations\">", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "125b8ff4ee22c02fb06f447059f8ce9db0ac72a9"}, "originalPosition": 19}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcwNzkwNDY3", "url": "https://github.com/openhab/openhab-addons/pull/6902#pullrequestreview-370790467", "createdAt": "2020-03-07T21:39:45Z", "commit": {"oid": "125b8ff4ee22c02fb06f447059f8ce9db0ac72a9"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wN1QyMTozOTo0NVrOFzR2Sw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wN1QyMTozOTo0NVrOFzR2Sw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTMxNDEyMw==", "bodyText": "\"before it is published to MQTT\"? A trigger channel cannot be used to send any information outwards - I guess this statement should be removed.", "url": "https://github.com/openhab/openhab-addons/pull/6902#discussion_r389314123", "createdAt": "2020-03-07T21:39:45Z", "author": {"login": "kaikreuzer"}, "path": "bundles/org.openhab.binding.mqtt.generic/src/main/resources/ESH-INF/config/trigger-channel-config.xml", "diffHunk": "@@ -0,0 +1,31 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<config-description:config-descriptions\n+\txmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+\txmlns:config-description=\"https://openhab.org/schemas/config-description/v1.0.0\"\n+\txsi:schemaLocation=\"https://openhab.org/schemas/config-description/v1.0.0 https://openhab.org/schemas/config-description-1.0.0.xsd\">\n+\n+\t<config-description uri=\"thing-type:mqtt:trigger_channel\">\n+\t\t<parameter-group name=\"transformations\">\n+\t\t\t<label>Transform Values</label>\n+\t\t\t<description>These configuration parameters allow you to alter a value before it is published to MQTT or before a", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "125b8ff4ee22c02fb06f447059f8ce9db0ac72a9"}, "originalPosition": 10}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e0bb81498abe4f59c7aea5aa5298638cd7fbff28", "author": {"user": {"login": "jochen314", "name": "Jochen Klein"}}, "url": "https://github.com/openhab/openhab-addons/commit/e0bb81498abe4f59c7aea5aa5298638cd7fbff28", "committedDate": "2020-03-07T21:45:02Z", "message": "improve description\n\nSigned-off-by: Jochen Klein <git@jochen.susca.de>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c7b414daa4454e0dd29a9c592692d24aa2d417d9", "author": {"user": {"login": "jochen314", "name": "Jochen Klein"}}, "url": "https://github.com/openhab/openhab-addons/commit/c7b414daa4454e0dd29a9c592692d24aa2d417d9", "committedDate": "2020-03-07T21:52:01Z", "message": "good point\n\nSigned-off-by: Jochen Klein <git@jochen.susca.de>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcwNzkwOTgz", "url": "https://github.com/openhab/openhab-addons/pull/6902#pullrequestreview-370790983", "createdAt": "2020-03-07T21:51:59Z", "commit": {"oid": "e0bb81498abe4f59c7aea5aa5298638cd7fbff28"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wN1QyMTo1MTo1OVrOFzR5Ag==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wN1QyMTo1MTo1OVrOFzR5Ag==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTMxNDgxOA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\t\tfor example, the MAP transformation \n          \n          \n            \n            \t\t\te.g. the MAP transformation.", "url": "https://github.com/openhab/openhab-addons/pull/6902#discussion_r389314818", "createdAt": "2020-03-07T21:51:59Z", "author": {"login": "kaikreuzer"}, "path": "bundles/org.openhab.binding.mqtt.generic/src/main/resources/ESH-INF/config/trigger-channel-config.xml", "diffHunk": "@@ -20,9 +19,9 @@\n \t\t\t<label>Incoming Value Transformations</label>\n \t\t\t<description><![CDATA[\n \t\t\tApplies transformations to an incoming MQTT topic value.\n-\t\t\tA transformation example for a received JSON would be \"JSONPATH:$.device.status.temperature\" for\n-\t\t\ta json {device: {status: { temperature: 23.2 }}}.\n-\n+\t\t\tThis can be used to map the events sent by the device to common values for all devices using,\n+\t\t\tfor example, the MAP transformation ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e0bb81498abe4f59c7aea5aa5298638cd7fbff28"}, "originalPosition": 18}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e113b342cfdd2d41b03b594fde5b97299eaa132d", "author": {"user": {"login": "jochen314", "name": "Jochen Klein"}}, "url": "https://github.com/openhab/openhab-addons/commit/e113b342cfdd2d41b03b594fde5b97299eaa132d", "committedDate": "2020-03-07T21:54:06Z", "message": "review\n\nSigned-off-by: Jochen Klein <git@jochen.susca.de>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcwNzkxMTIx", "url": "https://github.com/openhab/openhab-addons/pull/6902#pullrequestreview-370791121", "createdAt": "2020-03-07T21:55:26Z", "commit": {"oid": "e113b342cfdd2d41b03b594fde5b97299eaa132d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcxNTc0NTc3", "url": "https://github.com/openhab/openhab-addons/pull/6902#pullrequestreview-371574577", "createdAt": "2020-03-09T22:37:17Z", "commit": {"oid": "e113b342cfdd2d41b03b594fde5b97299eaa132d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQyMjozNzoxN1rOFz7rzA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQyMjozNzoxN1rOFz7rzA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTk5OTU2NA==", "bodyText": "Is this really the best place to be changing the config?", "url": "https://github.com/openhab/openhab-addons/pull/6902#discussion_r389999564", "createdAt": "2020-03-09T22:37:17Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.mqtt.generic/src/main/java/org/openhab/binding/mqtt/generic/values/ValueFactory.java", "diffHunk": "@@ -67,6 +67,10 @@ public static Value createValueState(ChannelConfig config, String channelTypeID)\n             case MqttBindingConstants.ROLLERSHUTTER:\n                 value = new RollershutterValue(config.on, config.off, config.stop);\n                 break;\n+            case MqttBindingConstants.TRIGGER:\n+                config.trigger = true;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e113b342cfdd2d41b03b594fde5b97299eaa132d"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA2NjExNzk3", "url": "https://github.com/openhab/openhab-addons/pull/6902#pullrequestreview-406611797", "createdAt": "2020-05-06T13:28:55Z", "commit": {"oid": "e113b342cfdd2d41b03b594fde5b97299eaa132d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEwNTQwODE3", "url": "https://github.com/openhab/openhab-addons/pull/6902#pullrequestreview-410540817", "createdAt": "2020-05-13T02:11:29Z", "commit": {"oid": "e113b342cfdd2d41b03b594fde5b97299eaa132d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1731, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}