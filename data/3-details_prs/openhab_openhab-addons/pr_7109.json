{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg1MTIxMTA3", "number": 7109, "title": "[exec] create exec.whitelist file when exec binding or transformation is installed", "bodyText": "fixes #7108\nSigned-off-by: Kai Kreuzer kai@openhab.org", "createdAt": "2020-03-07T08:36:20Z", "url": "https://github.com/openhab/openhab-addons/pull/7109", "merged": true, "mergeCommit": {"oid": "e31a9f02b6fd0b8690f5525abc4dc8952d20783d"}, "closed": true, "closedAt": "2020-03-07T13:41:16Z", "author": {"login": "kaikreuzer"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcLQiE2gH2gAyMzg1MTIxMTA3OjgzMDdiNjA3MzYxZDJhMGVkOGQ1NjUzZTZhODBjOTlkNDUyNmQxMzQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcLU54FAFqTM3MDc0NDU0NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "8307b607361d2a0ed8d5653e6a80c99d4526d134", "author": {"user": {"login": "kaikreuzer", "name": "Kai Kreuzer"}}, "url": "https://github.com/openhab/openhab-addons/commit/8307b607361d2a0ed8d5653e6a80c99d4526d134", "committedDate": "2020-03-07T08:34:57Z", "message": "creates exec.whitelist file when exec binding or transformation is installed\n\nSigned-off-by: Kai Kreuzer <kai@openhab.org>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5f6a8373f539a2417aaccc3fb0c0b9b6fcdb8b65", "author": {"user": {"login": "kaikreuzer", "name": "Kai Kreuzer"}}, "url": "https://github.com/openhab/openhab-addons/commit/5f6a8373f539a2417aaccc3fb0c0b9b6fcdb8b65", "committedDate": "2020-03-07T08:39:22Z", "message": "fixed identation\n\nSigned-off-by: Kai Kreuzer <kai@openhab.org>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcwNzMyMzQ0", "url": "https://github.com/openhab/openhab-addons/pull/7109#pullrequestreview-370732344", "createdAt": "2020-03-07T08:46:12Z", "commit": {"oid": "5f6a8373f539a2417aaccc3fb0c0b9b6fcdb8b65"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcwNzMyOTQ1", "url": "https://github.com/openhab/openhab-addons/pull/7109#pullrequestreview-370732945", "createdAt": "2020-03-07T09:01:25Z", "commit": {"oid": "5f6a8373f539a2417aaccc3fb0c0b9b6fcdb8b65"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wN1QwOTowMToyNVrOFzNUhQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wN1QwOTowNDo0NlrOFzNVLw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTIzOTk0MQ==", "bodyText": "Isn't path nullable? Shouldn't you do a null check?", "url": "https://github.com/openhab/openhab-addons/pull/7109#discussion_r389239941", "createdAt": "2020-03-07T09:01:25Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.exec/src/main/java/org/openhab/binding/exec/internal/ExecWhitelistWatchService.java", "diffHunk": "@@ -63,11 +63,12 @@ protected boolean watchSubDirectories() {\n     }\n \n     @Override\n-    protected void processWatchEvent(@Nullable WatchEvent<?> event,  WatchEvent.@Nullable Kind<?> kind, @Nullable Path path) {\n+    protected void processWatchEvent(@Nullable WatchEvent<?> event, WatchEvent.@Nullable Kind<?> kind,\n+            @Nullable Path path) {\n         if (path.endsWith(COMMAND_WHITELIST_FILE)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5f6a8373f539a2417aaccc3fb0c0b9b6fcdb8b65"}, "originalPosition": 39}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTI0MDExMQ==", "bodyText": "I'd trim the line before checking for #", "url": "https://github.com/openhab/openhab-addons/pull/7109#discussion_r389240111", "createdAt": "2020-03-07T09:04:46Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.transform.exec/src/main/java/org/openhab/transform/exec/internal/ExecTransformationWhitelistWatchService.java", "diffHunk": "@@ -63,11 +63,12 @@ protected boolean watchSubDirectories() {\n     }\n \n     @Override\n-    protected void processWatchEvent(@Nullable WatchEvent<?> event,  WatchEvent.@Nullable Kind<?> kind, @Nullable Path path) {\n+    protected void processWatchEvent(@Nullable WatchEvent<?> event, WatchEvent.@Nullable Kind<?> kind,\n+            @Nullable Path path) {\n         if (path.endsWith(COMMAND_WHITELIST_FILE)) {\n             commandWhitelist.clear();\n-            try  {\n-                Files.lines(path).forEach(commandWhitelist::add);\n+            try {\n+                Files.lines(path).filter(line -> !line.startsWith(\"#\")).forEach(commandWhitelist::add);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5f6a8373f539a2417aaccc3fb0c0b9b6fcdb8b65"}, "originalPosition": 44}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f020e1cd0e94daec7499cdbd87299d9539fc31f8", "author": {"user": {"login": "kaikreuzer", "name": "Kai Kreuzer"}}, "url": "https://github.com/openhab/openhab-addons/commit/f020e1cd0e94daec7499cdbd87299d9539fc31f8", "committedDate": "2020-03-07T09:52:43Z", "message": "addressed review comments\n\nSigned-off-by: Kai Kreuzer <kai@openhab.org>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcwNzQ0NTQ0", "url": "https://github.com/openhab/openhab-addons/pull/7109#pullrequestreview-370744544", "createdAt": "2020-03-07T13:40:34Z", "commit": {"oid": "f020e1cd0e94daec7499cdbd87299d9539fc31f8"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1102, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}