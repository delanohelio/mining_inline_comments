{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE1ODg1NDEz", "number": 8961, "title": "[meteoalerte] Adressing Issue #8543", "bodyText": "Signed-off-by: clinique gael@lhopital.org", "createdAt": "2020-11-05T08:29:52Z", "url": "https://github.com/openhab/openhab-addons/pull/8961", "merged": true, "mergeCommit": {"oid": "afe711994a4e5c26309a2e99c5c1f338cc3d0b3b"}, "closed": true, "closedAt": "2020-11-09T20:51:40Z", "author": {"login": "clinique"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdZeE34gH2gAyNTE1ODg1NDEzOjcyMzM5ZjI5MGUxMzFkYTExMGJkYTA2YTkwNDBkNDRjOWM3ZDE3Yzc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABda5St9AFqTUyNjU0NzEyMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "72339f290e131da110bda06a9040d44c9c7d17c7", "author": {"user": {"login": "clinique", "name": "Ga\u00ebl L'hopital"}}, "url": "https://github.com/openhab/openhab-addons/commit/72339f290e131da110bda06a9040d44c9c7d17c7", "committedDate": "2020-11-05T08:27:49Z", "message": "[meteoalerte] Adressing Issue #8543\n\nSigned-off-by: clinique <gael@lhopital.org>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI0MTk0NzYz", "url": "https://github.com/openhab/openhab-addons/pull/8961#pullrequestreview-524194763", "createdAt": "2020-11-05T12:04:31Z", "commit": {"oid": "72339f290e131da110bda06a9040d44c9c7d17c7"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "43b4034b89aa2fb06d7beb5cf61153dcb0c99668", "author": {"user": {"login": "clinique", "name": "Ga\u00ebl L'hopital"}}, "url": "https://github.com/openhab/openhab-addons/commit/43b4034b89aa2fb06d7beb5cf61153dcb0c99668", "committedDate": "2020-11-06T09:25:45Z", "message": "Small change\n\nSigned-off-by: clinique <gael@lhopital.org>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI2NTMwMjYx", "url": "https://github.com/openhab/openhab-addons/pull/8961#pullrequestreview-526530261", "createdAt": "2020-11-09T18:21:41Z", "commit": {"oid": "43b4034b89aa2fb06d7beb5cf61153dcb0c99668"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wOVQxODoyMTo0MVrOHv7q3A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wOVQxODoyMTo1MlrOHv7rZg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDAyMjc0OA==", "bodyText": "Please specify the charset used here", "url": "https://github.com/openhab/openhab-addons/pull/8961#discussion_r520022748", "createdAt": "2020-11-09T18:21:41Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.meteoalerte/src/main/java/org/openhab/binding/meteoalerte/internal/handler/MeteoAlerteHandler.java", "diffHunk": "@@ -168,12 +165,14 @@ public void updateAlert(String channelId, AlertLevel value) {\n             updateState(channelId, getAlertLevel(value));\n         }\n         if (isLinked(channelIcon)) {\n-            String resource = getResource(String.format(\"picto/%s.svg\", channelId));\n-            if (resource != null) {\n+            State result = UnDefType.UNDEF;\n+            byte[] bytes = getResource(String.format(\"picto/%s.svg\", channelId));\n+            if (bytes != null) {\n+                String resource = new String(bytes);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "43b4034b89aa2fb06d7beb5cf61153dcb0c99668"}, "originalPosition": 57}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDAyMjg4Ng==", "bodyText": "and here as well", "url": "https://github.com/openhab/openhab-addons/pull/8961#discussion_r520022886", "createdAt": "2020-11-09T18:21:52Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.meteoalerte/src/main/java/org/openhab/binding/meteoalerte/internal/handler/MeteoAlerteHandler.java", "diffHunk": "@@ -168,12 +165,14 @@ public void updateAlert(String channelId, AlertLevel value) {\n             updateState(channelId, getAlertLevel(value));\n         }\n         if (isLinked(channelIcon)) {\n-            String resource = getResource(String.format(\"picto/%s.svg\", channelId));\n-            if (resource != null) {\n+            State result = UnDefType.UNDEF;\n+            byte[] bytes = getResource(String.format(\"picto/%s.svg\", channelId));\n+            if (bytes != null) {\n+                String resource = new String(bytes);\n                 resource = resource.replaceAll(UNKNOWN_COLOR, ALERT_COLORS.getOrDefault(value, UNKNOWN_COLOR));\n+                result = new RawType(resource.getBytes(), \"image/svg+xml\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "43b4034b89aa2fb06d7beb5cf61153dcb0c99668"}, "originalPosition": 59}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "32032fc832a37b484ed21365262645671cf2e871", "author": {"user": {"login": "clinique", "name": "Ga\u00ebl L'hopital"}}, "url": "https://github.com/openhab/openhab-addons/commit/32032fc832a37b484ed21365262645671cf2e871", "committedDate": "2020-11-09T18:39:57Z", "message": "Adding charset to byte conversion\n\nSigned-off-by: clinique <gael@lhopital.org>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI2NTQ3MTIz", "url": "https://github.com/openhab/openhab-addons/pull/8961#pullrequestreview-526547123", "createdAt": "2020-11-09T18:44:18Z", "commit": {"oid": "32032fc832a37b484ed21365262645671cf2e871"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4261, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}