{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzcyNzYwODcx", "number": 6979, "title": "[bluetooth.am43] AM43 Binding initial contribution", "bodyText": "This is a binding for the bluetooth controlled AM43 Blind Drive Motor. These can be bought pretty cheaply (from china) which is why I felt having a binding for it would be a good idea.\nYou can find details from my community post.\nI have done considerable testing with it and the binding has proved exceedingly reliable, more so than the bluez binding that I've been testing it on.\nYou can find a prebuilt jar here", "createdAt": "2020-02-08T21:33:14Z", "url": "https://github.com/openhab/openhab-addons/pull/6979", "merged": true, "mergeCommit": {"oid": "5d8418b0f763ec4acad7a617d1ff7bb70afc7750"}, "closed": true, "closedAt": "2020-03-03T20:20:51Z", "author": {"login": "cpmeister"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcBkCufAH2gAyMzcyNzYwODcxOjBmZjIxMTFkMDBlMTIwYjBiNDc3OWI2MWJmYWEzOGY3YzliZmY1MzQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcKIOmpgFqTM2ODI5NTQxOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "0ff2111d00e120b0b4779b61bfaa38f7c9bff534", "author": {"user": {"login": "cpmeister", "name": "Connor Petty"}}, "url": "https://github.com/openhab/openhab-addons/commit/0ff2111d00e120b0b4779b61bfaa38f7c9bff534", "committedDate": "2020-02-06T05:39:34Z", "message": "Initial commit of AM43 Binding\n\nSigned-off-by: Connor Petty <cpmeister@users.noreply.github.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "46ef5f0741297c6e217c5dce26ca19fc19b3bcfd", "author": {"user": {"login": "cpmeister", "name": "Connor Petty"}}, "url": "https://github.com/openhab/openhab-addons/commit/46ef5f0741297c6e217c5dce26ca19fc19b3bcfd", "committedDate": "2020-02-06T05:43:30Z", "message": "Merge branch '2.5.x' of https://github.com/openhab/openhab-addons into\nam43\n\nSigned-off-by: Connor Petty <cpmeister@users.noreply.github.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "97064da9c280a6aefbe9bab448f9fb4a211a1f51", "author": {"user": {"login": "cpmeister", "name": "Connor Petty"}}, "url": "https://github.com/openhab/openhab-addons/commit/97064da9c280a6aefbe9bab448f9fb4a211a1f51", "committedDate": "2020-02-08T20:40:13Z", "message": "Replace AM43Handler with AM43Handler2 and other finishing touches\n\nSigned-off-by: Connor Petty <cpmeister@users.noreply.github.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1c27004c367216c90d8de0e4855b89edcbe41f98", "author": {"user": {"login": "cpmeister", "name": "Connor Petty"}}, "url": "https://github.com/openhab/openhab-addons/commit/1c27004c367216c90d8de0e4855b89edcbe41f98", "committedDate": "2020-02-08T21:47:30Z", "message": "Make some field final\n\nSigned-off-by: Connor Petty <cpmeister@users.noreply.github.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9218407a4a289f3dc6e37725dc80cf93287609bc", "author": {"user": {"login": "cpmeister", "name": "Connor Petty"}}, "url": "https://github.com/openhab/openhab-addons/commit/9218407a4a289f3dc6e37725dc80cf93287609bc", "committedDate": "2020-02-09T05:41:34Z", "message": "Update code to adhere to community guidelines\n\nSigned-off-by: Connor Petty <cpmeister@users.noreply.github.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "93dc6d996bb805659430db9abeda891e792cf869", "author": {"user": {"login": "cpmeister", "name": "Connor Petty"}}, "url": "https://github.com/openhab/openhab-addons/commit/93dc6d996bb805659430db9abeda891e792cf869", "committedDate": "2020-02-09T18:48:49Z", "message": "fix typo\n\nSigned-off-by: Connor Petty <cpmeister@users.noreply.github.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY4Mjg0NzM0", "url": "https://github.com/openhab/openhab-addons/pull/6979#pullrequestreview-368284734", "createdAt": "2020-03-03T20:03:48Z", "commit": {"oid": "93dc6d996bb805659430db9abeda891e792cf869"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wM1QyMDowMzo0OFrOFxUntg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wM1QyMDowMzo0OFrOFxUntg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzI2MjM5MA==", "bodyText": "This method is deprecated. Please set the thing status to UNKNOWN here instead.", "url": "https://github.com/openhab/openhab-addons/pull/6979#discussion_r387262390", "createdAt": "2020-03-03T20:03:48Z", "author": {"login": "kaikreuzer"}, "path": "bundles/org.openhab.binding.bluetooth.am43/src/main/java/org/openhab/binding/bluetooth/am43/internal/AM43Handler.java", "diffHunk": "@@ -0,0 +1,474 @@\n+/**\n+ * Copyright (c) 2010-2020 Contributors to the openHAB project\n+ *\n+ * See the NOTICE file(s) distributed with this work for additional\n+ * information.\n+ *\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0\n+ *\n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.openhab.binding.bluetooth.am43.internal;\n+\n+import java.util.Arrays;\n+import java.util.concurrent.Executor;\n+import java.util.concurrent.ExecutorService;\n+import java.util.concurrent.Executors;\n+import java.util.concurrent.ScheduledFuture;\n+import java.util.concurrent.TimeUnit;\n+\n+import javax.measure.quantity.Length;\n+\n+import org.eclipse.jdt.annotation.NonNullByDefault;\n+import org.eclipse.jdt.annotation.Nullable;\n+import org.eclipse.smarthome.core.common.NamedThreadFactory;\n+import org.eclipse.smarthome.core.library.types.DecimalType;\n+import org.eclipse.smarthome.core.library.types.OnOffType;\n+import org.eclipse.smarthome.core.library.types.PercentType;\n+import org.eclipse.smarthome.core.library.types.QuantityType;\n+import org.eclipse.smarthome.core.library.types.StopMoveType;\n+import org.eclipse.smarthome.core.library.types.StringType;\n+import org.eclipse.smarthome.core.library.types.UpDownType;\n+import org.eclipse.smarthome.core.library.unit.SIUnits;\n+import org.eclipse.smarthome.core.thing.ChannelUID;\n+import org.eclipse.smarthome.core.thing.Thing;\n+import org.eclipse.smarthome.core.types.Command;\n+import org.eclipse.smarthome.core.types.RefreshType;\n+import org.eclipse.smarthome.core.types.State;\n+import org.eclipse.smarthome.core.types.UnDefType;\n+import org.eclipse.smarthome.core.util.HexUtils;\n+import org.openhab.binding.bluetooth.BluetoothCharacteristic;\n+import org.openhab.binding.bluetooth.BluetoothCompletionStatus;\n+import org.openhab.binding.bluetooth.BluetoothDevice.ConnectionState;\n+import org.openhab.binding.bluetooth.ConnectedBluetoothHandler;\n+import org.openhab.binding.bluetooth.am43.internal.command.AM43Command;\n+import org.openhab.binding.bluetooth.am43.internal.command.ControlCommand;\n+import org.openhab.binding.bluetooth.am43.internal.command.GetAllCommand;\n+import org.openhab.binding.bluetooth.am43.internal.command.GetBatteryLevelCommand;\n+import org.openhab.binding.bluetooth.am43.internal.command.GetLightLevelCommand;\n+import org.openhab.binding.bluetooth.am43.internal.command.GetPositionCommand;\n+import org.openhab.binding.bluetooth.am43.internal.command.GetSpeedCommand;\n+import org.openhab.binding.bluetooth.am43.internal.command.ResponseListener;\n+import org.openhab.binding.bluetooth.am43.internal.command.SetPositionCommand;\n+import org.openhab.binding.bluetooth.am43.internal.command.SetSettingsCommand;\n+import org.openhab.binding.bluetooth.am43.internal.data.ControlAction;\n+import org.openhab.binding.bluetooth.am43.internal.data.Direction;\n+import org.openhab.binding.bluetooth.am43.internal.data.MotorSettings;\n+import org.openhab.binding.bluetooth.am43.internal.data.OperationMode;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+import tec.uom.se.unit.MetricPrefix;\n+\n+/**\n+ * The {@link AM43Handler} is responsible for handling commands, which are\n+ * sent to one of the channels.\n+ *\n+ * @author Connor Petty - Initial contribution\n+ */\n+@NonNullByDefault\n+public class AM43Handler extends ConnectedBluetoothHandler implements ResponseListener {\n+\n+    private final Logger logger = LoggerFactory.getLogger(AM43Handler.class);\n+\n+    private @Nullable AM43Configuration config;\n+\n+    private volatile @Nullable AM43Command currentCommand = null;\n+\n+    private @Nullable ScheduledFuture<?> refreshJob;\n+\n+    private @Nullable ExecutorService commandExecutor;\n+\n+    private @Nullable MotorSettings motorSettings = null;\n+\n+    public AM43Handler(Thing thing) {\n+        super(thing);\n+    }\n+\n+    @Override\n+    public void initialize() {\n+        super.initialize();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "93dc6d996bb805659430db9abeda891e792cf869"}, "originalPosition": 92}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY4Mjk1NDE5", "url": "https://github.com/openhab/openhab-addons/pull/6979#pullrequestreview-368295419", "createdAt": "2020-03-03T20:20:31Z", "commit": {"oid": "93dc6d996bb805659430db9abeda891e792cf869"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1373, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}