{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkxMTk4MTU0", "number": 7194, "title": "[bluetooth] Fixed bugs discovered through additional unit tests", "bodyText": "This fixes the bug where beacon discoveries would not be removed when a participant later produces a discovery. Participant discoveries should replace any fallback discoveries which would occur if a participant didn't have enough information about the device to match against it the first time around.\nThis also fixes a bug due to a thingDiscovered/thingRemoved racing condition.\nThis PR also includes some refactoring work and addition of some missing @NonNullByDefault annotations.\nI will address the other missing annotations in a later PR.", "createdAt": "2020-03-19T19:36:18Z", "url": "https://github.com/openhab/openhab-addons/pull/7194", "merged": true, "mergeCommit": {"oid": "5f9a72ea25fdeab1c8c8f0e0fcf51b6fdd37fa55"}, "closed": true, "closedAt": "2020-03-21T20:10:33Z", "author": {"login": "cpmeister"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcNVNErgH2gAyMzkxMTk4MTU0OjlmYzA1Y2JlOTQzZWNlNzZlNjQ0NmI5MWFjY2UzYTMzNjMwNzg4NGE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcP6E8BAFqTM3ODkyMTkzMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "9fc05cbe943ece76e6446b91acce3a336307884a", "author": {"user": null}, "url": "https://github.com/openhab/openhab-addons/commit/9fc05cbe943ece76e6446b91acce3a336307884a", "committedDate": "2020-03-13T19:09:23Z", "message": "Update snapshots upon discovery completion.\n\nSigned-off-by: Connor Petty <mistercpp2000+gitsignoff@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2a363ee04c1225491a095839e91d4973d9633e5e", "author": {"user": null}, "url": "https://github.com/openhab/openhab-addons/commit/2a363ee04c1225491a095839e91d4973d9633e5e", "committedDate": "2020-03-13T23:56:02Z", "message": "Merge branch '2.5.x' of https://github.com/openhab/openhab-addons into 7106"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f31f7053face7b36635b4bf61cd7d425c1a3c592", "author": {"user": null}, "url": "https://github.com/openhab/openhab-addons/commit/f31f7053face7b36635b4bf61cd7d425c1a3c592", "committedDate": "2020-03-19T19:09:16Z", "message": "Fix code to pass new unit tests.\n\nSigned-off-by: Connor Petty <mistercpp2000+gitsignoff@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "88b96f179966fb917e899b8a7b00ca11aeeb88ea", "author": {"user": null}, "url": "https://github.com/openhab/openhab-addons/commit/88b96f179966fb917e899b8a7b00ca11aeeb88ea", "committedDate": "2020-03-19T19:17:27Z", "message": "Cleanup BluetoothDeviceSnapshot code\n\nSigned-off-by: Connor Petty <mistercpp2000+gitsignoff@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e583a141ef7cdfa8e890089aa0d8767bbe706fd5", "author": {"user": null}, "url": "https://github.com/openhab/openhab-addons/commit/e583a141ef7cdfa8e890089aa0d8767bbe706fd5", "committedDate": "2020-03-19T19:21:43Z", "message": "Cleanup BluetoothDiscoveryService code\n\nSigned-off-by: Connor Petty <mistercpp2000+gitsignoff@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "047df3bcd85ad907ef85484f07f03fb70f1e76ec", "author": {"user": null}, "url": "https://github.com/openhab/openhab-addons/commit/047df3bcd85ad907ef85484f07f03fb70f1e76ec", "committedDate": "2020-03-19T22:30:07Z", "message": "Fix errors in Airthings caused by NonNullByDefault annotation\n\nSigned-off-by: Connor Petty <mistercpp2000+gitsignoff@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc4OTIxOTMy", "url": "https://github.com/openhab/openhab-addons/pull/7194#pullrequestreview-378921932", "createdAt": "2020-03-21T14:19:47Z", "commit": {"oid": "047df3bcd85ad907ef85484f07f03fb70f1e76ec"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMVQxNDoxOTo0N1rOF5ptTw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMVQxNDoxOTo0N1rOF5ptTw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTk5NjQ5NQ==", "bodyText": "I wonder if it would not be better to return Optionals here", "url": "https://github.com/openhab/openhab-addons/pull/7194#discussion_r395996495", "createdAt": "2020-03-21T14:19:47Z", "author": {"login": "J-N-K"}, "path": "bundles/org.openhab.binding.bluetooth/src/main/java/org/openhab/binding/bluetooth/BluetoothDevice.java", "diffHunk": "@@ -144,7 +147,7 @@ public BluetoothDevice(BluetoothAdapter adapter, BluetoothAddress address) {\n      *\n      * @return The devices name\n      */\n-    public String getName() {\n+    public @Nullable String getName() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "047df3bcd85ad907ef85484f07f03fb70f1e76ec"}, "originalPosition": 65}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1212, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}