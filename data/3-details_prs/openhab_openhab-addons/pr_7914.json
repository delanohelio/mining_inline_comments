{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM0MDExMzY0", "number": 7914, "title": "[luftdateninfo] new binding", "bodyText": "New binding for Sensor Community LuftdatenInfo\nProvides 3 Things for DIY sensors to measure Environment conditions like Particulate Matter, Temperature, Humidity and Atmospheric Pressue and also Noise.\nStatic code check errros removed besides some DTO objects. JUnit Test are available.\nTest bundle and configuration files available here\nhttps://github.com/weymann/openhab-addons/tree/luftdateninfo-test/bundles/org.openhab.binding.luftdateninfo/test", "createdAt": "2020-06-13T14:13:05Z", "url": "https://github.com/openhab/openhab-addons/pull/7914", "merged": true, "mergeCommit": {"oid": "d2120a4a583bd5156a6323ec59d9fe14bef88e96"}, "closed": true, "closedAt": "2020-09-19T21:11:51Z", "author": {"login": "weymann"}, "timelineItems": {"totalCount": 66, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcq4KJUABqjM0NDA4MzI5Mzg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdKg1HBgFqTQ5MjE1NjM2MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ee0967bf54a6d877f467d1a337f32282cfd959d9", "author": {"user": {"login": "weymann", "name": "Bernd Weymann"}}, "url": "https://github.com/openhab/openhab-addons/commit/ee0967bf54a6d877f467d1a337f32282cfd959d9", "committedDate": "2020-06-13T13:25:50Z", "message": "logging added to detect toDate conversion errors in trace"}, "afterCommit": {"oid": "4742ad9be90ac3f1424e2fd772c9f938ed9c1329", "author": {"user": {"login": "weymann", "name": "Bernd Weymann"}}, "url": "https://github.com/openhab/openhab-addons/commit/4742ad9be90ac3f1424e2fd772c9f938ed9c1329", "committedDate": "2020-06-13T14:15:58Z", "message": "logging added to detect toDate conversion errors in trace\n\nSigned-off-by: Bernd <bernd.weymann@gmail.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "efc1ce1c28a873a24c87511471c147dfcc2c5765", "author": {"user": {"login": "weymann", "name": "Bernd Weymann"}}, "url": "https://github.com/openhab/openhab-addons/commit/efc1ce1c28a873a24c87511471c147dfcc2c5765", "committedDate": "2020-06-13T16:41:40Z", "message": "Set default cache to undefined"}, "afterCommit": {"oid": "28eaae3b8122ad455b6708bef55fb5caaa1d0eef", "author": {"user": {"login": "weymann", "name": "Bernd Weymann"}}, "url": "https://github.com/openhab/openhab-addons/commit/28eaae3b8122ad455b6708bef55fb5caaa1d0eef", "committedDate": "2020-06-13T16:46:06Z", "message": "Set default cache to undefined\n\nSigned-off-by: Bernd <bernd.weymann@gmail.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b4d9e15dcd5e5d65a308c2b8a66fe1d65b83b931", "author": {"user": {"login": "weymann", "name": "Bernd Weymann"}}, "url": "https://github.com/openhab/openhab-addons/commit/b4d9e15dcd5e5d65a308c2b8a66fe1d65b83b931", "committedDate": "2020-06-14T16:11:56Z", "message": "fix typo in main description"}, "afterCommit": {"oid": "0a301d099deaf2135ee83aca17bf4690bfc464c7", "author": {"user": {"login": "weymann", "name": "Bernd Weymann"}}, "url": "https://github.com/openhab/openhab-addons/commit/0a301d099deaf2135ee83aca17bf4690bfc464c7", "committedDate": "2020-06-14T16:13:07Z", "message": "fix typo in main description\n\nSigned-off-by: Bernd <bernd.weymann@gmail.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c175a7dd7ae7015c0c4dcf316c92003518395d86", "author": {"user": {"login": "weymann", "name": "Bernd Weymann"}}, "url": "https://github.com/openhab/openhab-addons/commit/c175a7dd7ae7015c0c4dcf316c92003518395d86", "committedDate": "2020-06-15T16:07:35Z", "message": "Ensure non null values for all update values"}, "afterCommit": {"oid": "96d7a2a5ceb82280e568ccde7b5a2a4be9c67963", "author": {"user": {"login": "weymann", "name": "Bernd Weymann"}}, "url": "https://github.com/openhab/openhab-addons/commit/96d7a2a5ceb82280e568ccde7b5a2a4be9c67963", "committedDate": "2020-06-15T16:13:09Z", "message": "Ensure non null values for all update values\n\nSigned-off-by: Bernd <bernd.weymann@gmail.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "28f8b28957b092e613b387cf7b02ad53c8cdf971", "author": {"user": {"login": "weymann", "name": "Bernd Weymann"}}, "url": "https://github.com/openhab/openhab-addons/commit/28f8b28957b092e613b387cf7b02ad53c8cdf971", "committedDate": "2020-06-22T14:49:15Z", "message": "Update 2.5.6 => 2.5.7"}, "afterCommit": {"oid": "4d81dcb166ac7af0db39097167dbf5fb2c4ba15c", "author": {"user": {"login": "weymann", "name": "Bernd Weymann"}}, "url": "https://github.com/openhab/openhab-addons/commit/4d81dcb166ac7af0db39097167dbf5fb2c4ba15c", "committedDate": "2020-06-22T14:51:03Z", "message": "Update 2.5.6 => 2.5.7\n\nSigned-off-by: Bernd <bernd.weymann@gmail.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "90e412d016a15d5daa441e987836365a0696ea05", "author": {"user": {"login": "weymann", "name": "Bernd Weymann"}}, "url": "https://github.com/openhab/openhab-addons/commit/90e412d016a15d5daa441e987836365a0696ea05", "committedDate": "2020-07-03T10:12:42Z", "message": "Bugfix: Sensor IDs exceeding int range - changed type to long"}, "afterCommit": {"oid": "a9c5acf564352aa377d7a327b2905a127b28f6a3", "author": {"user": {"login": "weymann", "name": "Bernd Weymann"}}, "url": "https://github.com/openhab/openhab-addons/commit/a9c5acf564352aa377d7a327b2905a127b28f6a3", "committedDate": "2020-07-03T10:14:40Z", "message": "Bugfix: Sensor IDs exceeding int range - changed type to long\n\nSigned-off-by: Bernd <bernd.weymann@gmail.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "64f8bb2032b6e711076eba85c436671ef3c3cae6", "author": {"user": {"login": "weymann", "name": "Bernd Weymann"}}, "url": "https://github.com/openhab/openhab-addons/commit/64f8bb2032b6e711076eba85c436671ef3c3cae6", "committedDate": "2020-07-05T18:36:00Z", "message": "codeowner update"}, "afterCommit": {"oid": "6996467c5ab723d3e7402fb62dad898cfd382190", "author": {"user": {"login": "weymann", "name": "Bernd Weymann"}}, "url": "https://github.com/openhab/openhab-addons/commit/6996467c5ab723d3e7402fb62dad898cfd382190", "committedDate": "2020-07-05T18:43:48Z", "message": "codeowner update\n\nSigned-off-by: Bernd <bernd.weymann@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ1NzU1ODUw", "url": "https://github.com/openhab/openhab-addons/pull/7914#pullrequestreview-445755850", "createdAt": "2020-07-09T15:58:39Z", "commit": {"oid": "6996467c5ab723d3e7402fb62dad898cfd382190"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 35, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOVQxNTo1ODozOVrOGvXqbw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOVQxNjo1NDozMlrOGvZvpQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjMyMzk1MQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Binding for the Sensor<i>Community <a href=https://luftdaten.info/>luftdaten.info</a>. The community provides instructions to build sensors on your own and they can be integrated into the database.\n          \n          \n            \n            Binding for the Sensor Community <a href=https://luftdaten.info/>luftdaten.info</a>. The community provides instructions to build sensors on your own and they can be integrated into the database.", "url": "https://github.com/openhab/openhab-addons/pull/7914#discussion_r452323951", "createdAt": "2020-07-09T15:58:39Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.luftdateninfo/README.md", "diffHunk": "@@ -0,0 +1,113 @@\n+# LuftdatenInfo Binding\n+\n+<img style=\"float: right;\" src=\"doc/logo-rund.png\">\n+Binding for the Sensor<i>Community <a href=https://luftdaten.info/>luftdaten.info</a>. The community provides instructions to build sensors on your own and they can be integrated into the database.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6996467c5ab723d3e7402fb62dad898cfd382190"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjMyNTQxNg==", "bodyText": "Can you mention the Thing Type IDs?", "url": "https://github.com/openhab/openhab-addons/pull/7914#discussion_r452325416", "createdAt": "2020-07-09T16:00:51Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.luftdateninfo/README.md", "diffHunk": "@@ -0,0 +1,113 @@\n+# LuftdatenInfo Binding\n+\n+<img style=\"float: right;\" src=\"doc/logo-rund.png\">\n+Binding for the Sensor<i>Community <a href=https://luftdaten.info/>luftdaten.info</a>. The community provides instructions to build sensors on your own and they can be integrated into the database.\n+With this binding you can integrate your sensor, a sensor nearby or even any sensors you want into openhab.\n+\n+## Supported Things\n+\n+Three Things are supported", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6996467c5ab723d3e7402fb62dad898cfd382190"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjMyNzgyNA==", "bodyText": "The anchors of the links are broken. Do you mean #Size_distribution_of_particulates?", "url": "https://github.com/openhab/openhab-addons/pull/7914#discussion_r452327824", "createdAt": "2020-07-09T16:05:00Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.luftdateninfo/README.md", "diffHunk": "@@ -0,0 +1,113 @@\n+# LuftdatenInfo Binding\n+\n+<img style=\"float: right;\" src=\"doc/logo-rund.png\">\n+Binding for the Sensor<i>Community <a href=https://luftdaten.info/>luftdaten.info</a>. The community provides instructions to build sensors on your own and they can be integrated into the database.\n+With this binding you can integrate your sensor, a sensor nearby or even any sensors you want into openhab.\n+\n+## Supported Things\n+\n+Three Things are supported\n+\n+* Particulate Sensor - measure particulate matter PM2.5 and PM10\n+* Conditions Sensor - measures environment conditions like temperature, humidity and some also provides atmospheric pressure\n+* Noise Sensor - measures noise exposures in the environment\n+\n+## Discovery\n+\n+There's no auto discovery. See Thing configuration how to setup a Sensor.\n+\n+## Thing Configuration\n+\n+| Parameter       | Description                                                          |\n+|-----------------|----------------------------------------------------------------------|\n+| sensorid        | Sensor ID obtained from https://deutschland.maps.sensor.community/   |\n+\n+Perform the following steps to get the appropriate Sensor ID\n+\n+* Go to to [luftdaten.info map](https://deutschland.maps.sensor.community/)\n+* Choose your wanted value in bottom list - now only the Sensors are displayed which are supporting this\n+* Click on your / any Sensor and the ID is displayed in the top right corner.Note: Sensor ID is just the number without beginning hash #\n+* Enter this Sensor ID into the thing configuration\n+\n+![Luftdaten.info Logo](doc/LuftdatenInfo-Map.png)\n+\n+## Channels\n+\n+### Particulate Sensor \n+\n+| Channel ID           | Item Type            | Description                              |\n+|----------------------|----------------------|------------------------------------------|\n+| pm25                 | Number               | [Ultrafine particulates](https://en.wikipedia.org/wiki/Particulates#Size,shapeandsolubilitymatter) microgram per cubic meter |", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6996467c5ab723d3e7402fb62dad898cfd382190"}, "originalPosition": 40}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjMyODgzMw==", "bodyText": "Can you use Units of Measure?\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            | pm25                 | Number               | [Ultrafine particulates](https://en.wikipedia.org/wiki/Particulates#Size,shapeandsolubilitymatter) microgram per cubic meter |\n          \n          \n            \n            | pm25                 | Number:Density | [Ultrafine particulates](https://en.wikipedia.org/wiki/Particulates#Size,shapeandsolubilitymatter) microgram per cubic meter |", "url": "https://github.com/openhab/openhab-addons/pull/7914#discussion_r452328833", "createdAt": "2020-07-09T16:06:35Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.luftdateninfo/README.md", "diffHunk": "@@ -0,0 +1,113 @@\n+# LuftdatenInfo Binding\n+\n+<img style=\"float: right;\" src=\"doc/logo-rund.png\">\n+Binding for the Sensor<i>Community <a href=https://luftdaten.info/>luftdaten.info</a>. The community provides instructions to build sensors on your own and they can be integrated into the database.\n+With this binding you can integrate your sensor, a sensor nearby or even any sensors you want into openhab.\n+\n+## Supported Things\n+\n+Three Things are supported\n+\n+* Particulate Sensor - measure particulate matter PM2.5 and PM10\n+* Conditions Sensor - measures environment conditions like temperature, humidity and some also provides atmospheric pressure\n+* Noise Sensor - measures noise exposures in the environment\n+\n+## Discovery\n+\n+There's no auto discovery. See Thing configuration how to setup a Sensor.\n+\n+## Thing Configuration\n+\n+| Parameter       | Description                                                          |\n+|-----------------|----------------------------------------------------------------------|\n+| sensorid        | Sensor ID obtained from https://deutschland.maps.sensor.community/   |\n+\n+Perform the following steps to get the appropriate Sensor ID\n+\n+* Go to to [luftdaten.info map](https://deutschland.maps.sensor.community/)\n+* Choose your wanted value in bottom list - now only the Sensors are displayed which are supporting this\n+* Click on your / any Sensor and the ID is displayed in the top right corner.Note: Sensor ID is just the number without beginning hash #\n+* Enter this Sensor ID into the thing configuration\n+\n+![Luftdaten.info Logo](doc/LuftdatenInfo-Map.png)\n+\n+## Channels\n+\n+### Particulate Sensor \n+\n+| Channel ID           | Item Type            | Description                              |\n+|----------------------|----------------------|------------------------------------------|\n+| pm25                 | Number               | [Ultrafine particulates](https://en.wikipedia.org/wiki/Particulates#Size,shapeandsolubilitymatter) microgram per cubic meter |", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6996467c5ab723d3e7402fb62dad898cfd382190"}, "originalPosition": 40}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjMyOTIwNg==", "bodyText": "See above and same for below\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            | temperature          | Number               | current temperature in degrees Celsius |\n          \n          \n            \n            | temperature          | Number:Temperature      | current temperature in degrees Celsius |", "url": "https://github.com/openhab/openhab-addons/pull/7914#discussion_r452329206", "createdAt": "2020-07-09T16:07:13Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.luftdateninfo/README.md", "diffHunk": "@@ -0,0 +1,113 @@\n+# LuftdatenInfo Binding\n+\n+<img style=\"float: right;\" src=\"doc/logo-rund.png\">\n+Binding for the Sensor<i>Community <a href=https://luftdaten.info/>luftdaten.info</a>. The community provides instructions to build sensors on your own and they can be integrated into the database.\n+With this binding you can integrate your sensor, a sensor nearby or even any sensors you want into openhab.\n+\n+## Supported Things\n+\n+Three Things are supported\n+\n+* Particulate Sensor - measure particulate matter PM2.5 and PM10\n+* Conditions Sensor - measures environment conditions like temperature, humidity and some also provides atmospheric pressure\n+* Noise Sensor - measures noise exposures in the environment\n+\n+## Discovery\n+\n+There's no auto discovery. See Thing configuration how to setup a Sensor.\n+\n+## Thing Configuration\n+\n+| Parameter       | Description                                                          |\n+|-----------------|----------------------------------------------------------------------|\n+| sensorid        | Sensor ID obtained from https://deutschland.maps.sensor.community/   |\n+\n+Perform the following steps to get the appropriate Sensor ID\n+\n+* Go to to [luftdaten.info map](https://deutschland.maps.sensor.community/)\n+* Choose your wanted value in bottom list - now only the Sensors are displayed which are supporting this\n+* Click on your / any Sensor and the ID is displayed in the top right corner.Note: Sensor ID is just the number without beginning hash #\n+* Enter this Sensor ID into the thing configuration\n+\n+![Luftdaten.info Logo](doc/LuftdatenInfo-Map.png)\n+\n+## Channels\n+\n+### Particulate Sensor \n+\n+| Channel ID           | Item Type            | Description                              |\n+|----------------------|----------------------|------------------------------------------|\n+| pm25                 | Number               | [Ultrafine particulates](https://en.wikipedia.org/wiki/Particulates#Size,shapeandsolubilitymatter) microgram per cubic meter |\n+| pm100                | Number               | [Coarse particulate matter](https://en.wikipedia.org/wiki/Particulates#Size,shapeandsolubilitymatter) microgram per cubic meter  |\n+\n+### Conditions Sensor \n+\n+| Channel ID           | Item Type            | Description                              |\n+|----------------------|----------------------|------------------------------------------|\n+| temperature          | Number               | current temperature in degrees Celsius |", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6996467c5ab723d3e7402fb62dad898cfd382190"}, "originalPosition": 47}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjMzMDYwOA==", "bodyText": "This statement could be removed, since it will be outdated when the beta phase ends.", "url": "https://github.com/openhab/openhab-addons/pull/7914#discussion_r452330608", "createdAt": "2020-07-09T16:09:32Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.luftdateninfo/README.md", "diffHunk": "@@ -0,0 +1,113 @@\n+# LuftdatenInfo Binding\n+\n+<img style=\"float: right;\" src=\"doc/logo-rund.png\">\n+Binding for the Sensor<i>Community <a href=https://luftdaten.info/>luftdaten.info</a>. The community provides instructions to build sensors on your own and they can be integrated into the database.\n+With this binding you can integrate your sensor, a sensor nearby or even any sensors you want into openhab.\n+\n+## Supported Things\n+\n+Three Things are supported\n+\n+* Particulate Sensor - measure particulate matter PM2.5 and PM10\n+* Conditions Sensor - measures environment conditions like temperature, humidity and some also provides atmospheric pressure\n+* Noise Sensor - measures noise exposures in the environment\n+\n+## Discovery\n+\n+There's no auto discovery. See Thing configuration how to setup a Sensor.\n+\n+## Thing Configuration\n+\n+| Parameter       | Description                                                          |\n+|-----------------|----------------------------------------------------------------------|\n+| sensorid        | Sensor ID obtained from https://deutschland.maps.sensor.community/   |\n+\n+Perform the following steps to get the appropriate Sensor ID\n+\n+* Go to to [luftdaten.info map](https://deutschland.maps.sensor.community/)\n+* Choose your wanted value in bottom list - now only the Sensors are displayed which are supporting this\n+* Click on your / any Sensor and the ID is displayed in the top right corner.Note: Sensor ID is just the number without beginning hash #\n+* Enter this Sensor ID into the thing configuration\n+\n+![Luftdaten.info Logo](doc/LuftdatenInfo-Map.png)\n+\n+## Channels\n+\n+### Particulate Sensor \n+\n+| Channel ID           | Item Type            | Description                              |\n+|----------------------|----------------------|------------------------------------------|\n+| pm25                 | Number               | [Ultrafine particulates](https://en.wikipedia.org/wiki/Particulates#Size,shapeandsolubilitymatter) microgram per cubic meter |\n+| pm100                | Number               | [Coarse particulate matter](https://en.wikipedia.org/wiki/Particulates#Size,shapeandsolubilitymatter) microgram per cubic meter  |\n+\n+### Conditions Sensor \n+\n+| Channel ID           | Item Type            | Description                              |\n+|----------------------|----------------------|------------------------------------------|\n+| temperature          | Number               | current temperature in degrees Celsius |\n+| humidity             | Number               | current humidity percent  |\n+| pressure             | Number               | Atmospheric Pressure in hpa (not supported by all sensors) |\n+| pressure-sea         | Number               | Atmospheric Pressure on sea level in hpa (not supported by all sensors)  |\n+\n+\n+### Noise Sensor \n+\n+Currently in [beta phase of the community](https://luftdaten.info/einfuehrung-zum-laermsensor/)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6996467c5ab723d3e7402fb62dad898cfd382190"}, "originalPosition": 55}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjMzMTQzNw==", "bodyText": "Can this comment be removed?", "url": "https://github.com/openhab/openhab-addons/pull/7914#discussion_r452331437", "createdAt": "2020-07-09T16:10:50Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.luftdateninfo/src/main/java/org/openhab/binding/luftdateninfo/internal/LuftdatenInfoConfiguration.java", "diffHunk": "@@ -0,0 +1,29 @@\n+/**\n+ * Copyright (c) 2010-2020 Contributors to the openHAB project\n+ *\n+ * See the NOTICE file(s) distributed with this work for additional\n+ * information.\n+ *\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0\n+ *\n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.openhab.binding.luftdateninfo.internal;\n+\n+import org.eclipse.jdt.annotation.NonNullByDefault;\n+\n+/**\n+ * The {@link LuftdatenInfoConfiguration} class contains fields mapping thing configuration parameters.\n+ *\n+ * @author Bernd Weymann - Initial contribution\n+ */\n+@NonNullByDefault\n+public class LuftdatenInfoConfiguration {\n+\n+    /**\n+     * Sample configuration parameter. Replace with your own.\n+     */", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6996467c5ab723d3e7402fb62dad898cfd382190"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjMzMjIwOQ==", "bodyText": "Does this comment makes sense?", "url": "https://github.com/openhab/openhab-addons/pull/7914#discussion_r452332209", "createdAt": "2020-07-09T16:12:07Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.luftdateninfo/src/main/java/org/openhab/binding/luftdateninfo/internal/LuftdatenInfoHandlerFactory.java", "diffHunk": "@@ -0,0 +1,73 @@\n+/**\n+ * Copyright (c) 2010-2020 Contributors to the openHAB project\n+ *\n+ * See the NOTICE file(s) distributed with this work for additional\n+ * information.\n+ *\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0\n+ *\n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.openhab.binding.luftdateninfo.internal;\n+\n+import org.eclipse.jdt.annotation.NonNullByDefault;\n+import org.eclipse.jdt.annotation.Nullable;\n+import org.eclipse.smarthome.core.thing.Thing;\n+import org.eclipse.smarthome.core.thing.ThingTypeUID;\n+import org.eclipse.smarthome.core.thing.binding.BaseThingHandlerFactory;\n+import org.eclipse.smarthome.core.thing.binding.ThingHandler;\n+import org.eclipse.smarthome.core.thing.binding.ThingHandlerFactory;\n+import org.eclipse.smarthome.io.net.http.HttpClientFactory;\n+import org.openhab.binding.luftdateninfo.internal.handler.ConditionHandler;\n+import org.openhab.binding.luftdateninfo.internal.handler.HTTPHandler;\n+import org.openhab.binding.luftdateninfo.internal.handler.NoiseHandler;\n+import org.openhab.binding.luftdateninfo.internal.handler.PMHandler;\n+import org.osgi.service.component.annotations.Activate;\n+import org.osgi.service.component.annotations.Component;\n+import org.osgi.service.component.annotations.Reference;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+/**\n+ * The {@link LuftdatenInfoHandlerFactory} is responsible for creating things and thing\n+ * handlers.\n+ *\n+ * @author Bernd Weymann - Initial contribution\n+ */\n+@NonNullByDefault\n+@Component(configurationPid = \"binding.luftdateninfo\", service = ThingHandlerFactory.class)\n+public class LuftdatenInfoHandlerFactory extends BaseThingHandlerFactory {\n+    protected final Logger logger = LoggerFactory.getLogger(LuftdatenInfoHandlerFactory.class);\n+\n+    @Activate\n+    public LuftdatenInfoHandlerFactory(final @Reference HttpClientFactory httpClientFactory) {\n+        HTTPHandler.init(httpClientFactory.getCommonHttpClient());\n+    }\n+\n+    @Override\n+    public boolean supportsThingType(ThingTypeUID thingTypeUID) {\n+        if (thingTypeUID.equals(LuftdatenInfoBindingConstants.THING_TYPE_PARTICULATE)\n+                || thingTypeUID.equals(LuftdatenInfoBindingConstants.THING_TYPE_CONDITIONS)\n+                || thingTypeUID.equals(LuftdatenInfoBindingConstants.THING_TYPE_NOISE)) {\n+            return true;\n+        } else {\n+            return false;\n+        }\n+    }\n+\n+    @Override\n+    protected @Nullable ThingHandler createHandler(Thing thing) {\n+        // one handler for all", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6996467c5ab723d3e7402fb62dad898cfd382190"}, "originalPosition": 62}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjMzMjk3Ng==", "bodyText": "Can you put the field definition to the top of the class?", "url": "https://github.com/openhab/openhab-addons/pull/7914#discussion_r452332976", "createdAt": "2020-07-09T16:13:21Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.luftdateninfo/src/main/java/org/openhab/binding/luftdateninfo/internal/dto/Location.java", "diffHunk": "@@ -0,0 +1,95 @@\n+/**\n+ * Copyright (c) 2010-2020 Contributors to the openHAB project\n+ *\n+ * See the NOTICE file(s) distributed with this work for additional\n+ * information.\n+ *\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0\n+ *\n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.openhab.binding.luftdateninfo.internal.dto;\n+\n+/**\n+ * The {@link LuftdatenInfo} class definition for Logging identification\n+ *\n+ * @author Bernd Weymann - Initial contribution\n+ */\n+public class Location {\n+    private Integer id;\n+    private String country;\n+\n+    public Integer getId() {\n+        return id;\n+    }\n+\n+    public void setId(Integer id) {\n+        this.id = id;\n+    }\n+\n+    public String getCountry() {\n+        return country;\n+    }\n+\n+    public void setCountry(String country) {\n+        this.country = country;\n+    }\n+\n+    public String getAltitude() {\n+        return altitude;\n+    }\n+\n+    public void setAltitude(String altitude) {\n+        this.altitude = altitude;\n+    }\n+\n+    public String getLatitude() {\n+        return latitude;\n+    }\n+\n+    public void setLatitude(String latitude) {\n+        this.latitude = latitude;\n+    }\n+\n+    public String getLongtitude() {\n+        return longtitude;\n+    }\n+\n+    public void setLongtitude(String longtitude) {\n+        this.longtitude = longtitude;\n+    }\n+\n+    public Integer getIndoor() {\n+        return indoor;\n+    }\n+\n+    public void setIndoor(Integer indoor) {\n+        this.indoor = indoor;\n+    }\n+\n+    public Integer getExact_location() {\n+        return exact_location;\n+    }\n+\n+    public void setExact_location(Integer exact_location) {\n+        this.exact_location = exact_location;\n+    }\n+\n+    private String altitude;\n+    private String latitude;\n+    private String longtitude;\n+    private Integer indoor;\n+    private Integer exact_location;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6996467c5ab723d3e7402fb62dad898cfd382190"}, "originalPosition": 84}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjMzMzE0Mg==", "bodyText": "Please use camel case.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                private String altitude;\n          \n          \n            \n                private String latitude;\n          \n          \n            \n                private String longtitude;\n          \n          \n            \n                private Integer indoor;\n          \n          \n            \n                private Integer exact_location;\n          \n          \n            \n                private String altitude;\n          \n          \n            \n                private String latitude;\n          \n          \n            \n                private String longtitude;\n          \n          \n            \n                private Integer indoor;\n          \n          \n            \n                private Integer exactLocation;", "url": "https://github.com/openhab/openhab-addons/pull/7914#discussion_r452333142", "createdAt": "2020-07-09T16:13:38Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.luftdateninfo/src/main/java/org/openhab/binding/luftdateninfo/internal/dto/Location.java", "diffHunk": "@@ -0,0 +1,95 @@\n+/**\n+ * Copyright (c) 2010-2020 Contributors to the openHAB project\n+ *\n+ * See the NOTICE file(s) distributed with this work for additional\n+ * information.\n+ *\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0\n+ *\n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.openhab.binding.luftdateninfo.internal.dto;\n+\n+/**\n+ * The {@link LuftdatenInfo} class definition for Logging identification\n+ *\n+ * @author Bernd Weymann - Initial contribution\n+ */\n+public class Location {\n+    private Integer id;\n+    private String country;\n+\n+    public Integer getId() {\n+        return id;\n+    }\n+\n+    public void setId(Integer id) {\n+        this.id = id;\n+    }\n+\n+    public String getCountry() {\n+        return country;\n+    }\n+\n+    public void setCountry(String country) {\n+        this.country = country;\n+    }\n+\n+    public String getAltitude() {\n+        return altitude;\n+    }\n+\n+    public void setAltitude(String altitude) {\n+        this.altitude = altitude;\n+    }\n+\n+    public String getLatitude() {\n+        return latitude;\n+    }\n+\n+    public void setLatitude(String latitude) {\n+        this.latitude = latitude;\n+    }\n+\n+    public String getLongtitude() {\n+        return longtitude;\n+    }\n+\n+    public void setLongtitude(String longtitude) {\n+        this.longtitude = longtitude;\n+    }\n+\n+    public Integer getIndoor() {\n+        return indoor;\n+    }\n+\n+    public void setIndoor(Integer indoor) {\n+        this.indoor = indoor;\n+    }\n+\n+    public Integer getExact_location() {\n+        return exact_location;\n+    }\n+\n+    public void setExact_location(Integer exact_location) {\n+        this.exact_location = exact_location;\n+    }\n+\n+    private String altitude;\n+    private String latitude;\n+    private String longtitude;\n+    private Integer indoor;\n+    private Integer exact_location;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6996467c5ab723d3e7402fb62dad898cfd382190"}, "originalPosition": 84}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjMzMzU1Mg==", "bodyText": "Typo\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                private String longtitude;\n          \n          \n            \n                private String longitude;", "url": "https://github.com/openhab/openhab-addons/pull/7914#discussion_r452333552", "createdAt": "2020-07-09T16:14:19Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.luftdateninfo/src/main/java/org/openhab/binding/luftdateninfo/internal/dto/Location.java", "diffHunk": "@@ -0,0 +1,95 @@\n+/**\n+ * Copyright (c) 2010-2020 Contributors to the openHAB project\n+ *\n+ * See the NOTICE file(s) distributed with this work for additional\n+ * information.\n+ *\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0\n+ *\n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.openhab.binding.luftdateninfo.internal.dto;\n+\n+/**\n+ * The {@link LuftdatenInfo} class definition for Logging identification\n+ *\n+ * @author Bernd Weymann - Initial contribution\n+ */\n+public class Location {\n+    private Integer id;\n+    private String country;\n+\n+    public Integer getId() {\n+        return id;\n+    }\n+\n+    public void setId(Integer id) {\n+        this.id = id;\n+    }\n+\n+    public String getCountry() {\n+        return country;\n+    }\n+\n+    public void setCountry(String country) {\n+        this.country = country;\n+    }\n+\n+    public String getAltitude() {\n+        return altitude;\n+    }\n+\n+    public void setAltitude(String altitude) {\n+        this.altitude = altitude;\n+    }\n+\n+    public String getLatitude() {\n+        return latitude;\n+    }\n+\n+    public void setLatitude(String latitude) {\n+        this.latitude = latitude;\n+    }\n+\n+    public String getLongtitude() {\n+        return longtitude;\n+    }\n+\n+    public void setLongtitude(String longtitude) {\n+        this.longtitude = longtitude;\n+    }\n+\n+    public Integer getIndoor() {\n+        return indoor;\n+    }\n+\n+    public void setIndoor(Integer indoor) {\n+        this.indoor = indoor;\n+    }\n+\n+    public Integer getExact_location() {\n+        return exact_location;\n+    }\n+\n+    public void setExact_location(Integer exact_location) {\n+        this.exact_location = exact_location;\n+    }\n+\n+    private String altitude;\n+    private String latitude;\n+    private String longtitude;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6996467c5ab723d3e7402fb62dad898cfd382190"}, "originalPosition": 82}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjMzNDI1NA==", "bodyText": "Primitive types should be used where possible.\nThere are several locations where you use complex types, where int would be sufficient. I didn't mark all of them.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                private Integer indoor;\n          \n          \n            \n                private int indoor;", "url": "https://github.com/openhab/openhab-addons/pull/7914#discussion_r452334254", "createdAt": "2020-07-09T16:15:11Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.luftdateninfo/src/main/java/org/openhab/binding/luftdateninfo/internal/dto/Location.java", "diffHunk": "@@ -0,0 +1,95 @@\n+/**\n+ * Copyright (c) 2010-2020 Contributors to the openHAB project\n+ *\n+ * See the NOTICE file(s) distributed with this work for additional\n+ * information.\n+ *\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0\n+ *\n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.openhab.binding.luftdateninfo.internal.dto;\n+\n+/**\n+ * The {@link LuftdatenInfo} class definition for Logging identification\n+ *\n+ * @author Bernd Weymann - Initial contribution\n+ */\n+public class Location {\n+    private Integer id;\n+    private String country;\n+\n+    public Integer getId() {\n+        return id;\n+    }\n+\n+    public void setId(Integer id) {\n+        this.id = id;\n+    }\n+\n+    public String getCountry() {\n+        return country;\n+    }\n+\n+    public void setCountry(String country) {\n+        this.country = country;\n+    }\n+\n+    public String getAltitude() {\n+        return altitude;\n+    }\n+\n+    public void setAltitude(String altitude) {\n+        this.altitude = altitude;\n+    }\n+\n+    public String getLatitude() {\n+        return latitude;\n+    }\n+\n+    public void setLatitude(String latitude) {\n+        this.latitude = latitude;\n+    }\n+\n+    public String getLongtitude() {\n+        return longtitude;\n+    }\n+\n+    public void setLongtitude(String longtitude) {\n+        this.longtitude = longtitude;\n+    }\n+\n+    public Integer getIndoor() {\n+        return indoor;\n+    }\n+\n+    public void setIndoor(Integer indoor) {\n+        this.indoor = indoor;\n+    }\n+\n+    public Integer getExact_location() {\n+        return exact_location;\n+    }\n+\n+    public void setExact_location(Integer exact_location) {\n+        this.exact_location = exact_location;\n+    }\n+\n+    private String altitude;\n+    private String latitude;\n+    private String longtitude;\n+    private Integer indoor;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6996467c5ab723d3e7402fb62dad898cfd382190"}, "originalPosition": 83}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjMzNTkwNA==", "bodyText": "This can be a constant. You could make it static final, all uppercase and move it to the top of the class. Also it's good practice to append the unit to the field name e.g. TIMEOUT_SEC.", "url": "https://github.com/openhab/openhab-addons/pull/7914#discussion_r452335904", "createdAt": "2020-07-09T16:17:50Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.luftdateninfo/src/main/java/org/openhab/binding/luftdateninfo/internal/handler/BaseSensorHandler.java", "diffHunk": "@@ -0,0 +1,158 @@\n+/**\n+ * Copyright (c) 2010-2020 Contributors to the openHAB project\n+ *\n+ * See the NOTICE file(s) distributed with this work for additional\n+ * information.\n+ *\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0\n+ *\n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.openhab.binding.luftdateninfo.internal.handler;\n+\n+import java.util.concurrent.ScheduledFuture;\n+import java.util.concurrent.TimeUnit;\n+\n+import org.eclipse.jdt.annotation.NonNullByDefault;\n+import org.eclipse.jdt.annotation.Nullable;\n+import org.eclipse.smarthome.core.library.types.DecimalType;\n+import org.eclipse.smarthome.core.thing.ChannelUID;\n+import org.eclipse.smarthome.core.thing.Thing;\n+import org.eclipse.smarthome.core.thing.ThingStatus;\n+import org.eclipse.smarthome.core.thing.binding.BaseThingHandler;\n+import org.eclipse.smarthome.core.types.Command;\n+import org.eclipse.smarthome.core.types.RefreshType;\n+import org.openhab.binding.luftdateninfo.internal.LuftdatenInfoConfiguration;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+/**\n+ * The {@link PMHandler} is responsible for handling commands, which are\n+ * sent to one of the channels.\n+ *\n+ * @author Bernd Weymann - Initial contribution\n+ */\n+@NonNullByDefault\n+public abstract class BaseSensorHandler extends BaseThingHandler {\n+\n+    protected final Logger logger = LoggerFactory.getLogger(BaseSensorHandler.class);\n+\n+    protected @Nullable LuftdatenInfoConfiguration config;\n+    protected @Nullable ScheduledFuture<?> refreshJob;\n+    protected int refreshInterval = 5;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6996467c5ab723d3e7402fb62dad898cfd382190"}, "originalPosition": 44}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjMzNjg2NA==", "bodyText": "You could declare an Enum for those constants.", "url": "https://github.com/openhab/openhab-addons/pull/7914#discussion_r452336864", "createdAt": "2020-07-09T16:19:27Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.luftdateninfo/src/main/java/org/openhab/binding/luftdateninfo/internal/handler/BaseSensorHandler.java", "diffHunk": "@@ -0,0 +1,158 @@\n+/**\n+ * Copyright (c) 2010-2020 Contributors to the openHAB project\n+ *\n+ * See the NOTICE file(s) distributed with this work for additional\n+ * information.\n+ *\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0\n+ *\n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.openhab.binding.luftdateninfo.internal.handler;\n+\n+import java.util.concurrent.ScheduledFuture;\n+import java.util.concurrent.TimeUnit;\n+\n+import org.eclipse.jdt.annotation.NonNullByDefault;\n+import org.eclipse.jdt.annotation.Nullable;\n+import org.eclipse.smarthome.core.library.types.DecimalType;\n+import org.eclipse.smarthome.core.thing.ChannelUID;\n+import org.eclipse.smarthome.core.thing.Thing;\n+import org.eclipse.smarthome.core.thing.ThingStatus;\n+import org.eclipse.smarthome.core.thing.binding.BaseThingHandler;\n+import org.eclipse.smarthome.core.types.Command;\n+import org.eclipse.smarthome.core.types.RefreshType;\n+import org.openhab.binding.luftdateninfo.internal.LuftdatenInfoConfiguration;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+/**\n+ * The {@link PMHandler} is responsible for handling commands, which are\n+ * sent to one of the channels.\n+ *\n+ * @author Bernd Weymann - Initial contribution\n+ */\n+@NonNullByDefault\n+public abstract class BaseSensorHandler extends BaseThingHandler {\n+\n+    protected final Logger logger = LoggerFactory.getLogger(BaseSensorHandler.class);\n+\n+    protected @Nullable LuftdatenInfoConfiguration config;\n+    protected @Nullable ScheduledFuture<?> refreshJob;\n+    protected int refreshInterval = 5;\n+\n+    protected int configStatus = -1;\n+    protected static final int CONFIG_OK = 0;\n+    protected static final int CONFIG_IS_NULL = 1;\n+    protected static final int CONFIG_SENSOR_IS_NULL = 2;\n+    protected static final int CONFIG_SENSOR_NUMBER = 3;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6996467c5ab723d3e7402fb62dad898cfd382190"}, "originalPosition": 50}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjMzNzY2OQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                refreshJob = scheduler.scheduleWithFixedDelay(this::update, 5, refreshInterval * 60,\n          \n          \n            \n                                        TimeUnit.SECONDS);\n          \n          \n            \n                                refreshJob = scheduler.scheduleWithFixedDelay(this::update, 5, refreshInterval,\n          \n          \n            \n                                        TimeUnit.MINUTES);", "url": "https://github.com/openhab/openhab-addons/pull/7914#discussion_r452337669", "createdAt": "2020-07-09T16:20:41Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.luftdateninfo/src/main/java/org/openhab/binding/luftdateninfo/internal/handler/BaseSensorHandler.java", "diffHunk": "@@ -0,0 +1,158 @@\n+/**\n+ * Copyright (c) 2010-2020 Contributors to the openHAB project\n+ *\n+ * See the NOTICE file(s) distributed with this work for additional\n+ * information.\n+ *\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0\n+ *\n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.openhab.binding.luftdateninfo.internal.handler;\n+\n+import java.util.concurrent.ScheduledFuture;\n+import java.util.concurrent.TimeUnit;\n+\n+import org.eclipse.jdt.annotation.NonNullByDefault;\n+import org.eclipse.jdt.annotation.Nullable;\n+import org.eclipse.smarthome.core.library.types.DecimalType;\n+import org.eclipse.smarthome.core.thing.ChannelUID;\n+import org.eclipse.smarthome.core.thing.Thing;\n+import org.eclipse.smarthome.core.thing.ThingStatus;\n+import org.eclipse.smarthome.core.thing.binding.BaseThingHandler;\n+import org.eclipse.smarthome.core.types.Command;\n+import org.eclipse.smarthome.core.types.RefreshType;\n+import org.openhab.binding.luftdateninfo.internal.LuftdatenInfoConfiguration;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+/**\n+ * The {@link PMHandler} is responsible for handling commands, which are\n+ * sent to one of the channels.\n+ *\n+ * @author Bernd Weymann - Initial contribution\n+ */\n+@NonNullByDefault\n+public abstract class BaseSensorHandler extends BaseThingHandler {\n+\n+    protected final Logger logger = LoggerFactory.getLogger(BaseSensorHandler.class);\n+\n+    protected @Nullable LuftdatenInfoConfiguration config;\n+    protected @Nullable ScheduledFuture<?> refreshJob;\n+    protected int refreshInterval = 5;\n+\n+    protected int configStatus = -1;\n+    protected static final int CONFIG_OK = 0;\n+    protected static final int CONFIG_IS_NULL = 1;\n+    protected static final int CONFIG_SENSOR_IS_NULL = 2;\n+    protected static final int CONFIG_SENSOR_NUMBER = 3;\n+\n+    protected int updateStatus = -1;\n+    protected static final int UPDATE_OK = 0;\n+    protected static final int UPDATE_CONNECTION_ERROR = 1;\n+    protected static final int UPDATE_VALUE_ERROR = 2;\n+    protected static final int UPDATE_VALUE_EMPTY = 3;\n+\n+    protected static final int LC_UNKNOWN = -1;\n+    protected static final int LC_RUNNING = 0;\n+    protected static final int LC_INITIALIZING = 1;\n+    protected static final int LC_DISPOSED = 2;\n+    protected int lifecycleStatus = LC_UNKNOWN;\n+\n+    protected static final DecimalType UNDEF = new DecimalType(-1);\n+\n+    public BaseSensorHandler(Thing thing) {\n+        super(thing);\n+    }\n+\n+    @Override\n+    public void handleCommand(ChannelUID channelUID, Command command) {\n+        if (command instanceof RefreshType) {\n+            updateFromCache();\n+        }\n+    }\n+\n+    @Override\n+    public void initialize() {\n+        lifecycleStatus = LC_INITIALIZING;\n+        scheduler.execute(() -> {\n+            config = getConfigAs(LuftdatenInfoConfiguration.class);\n+            configStatus = checkConfig(config);\n+            if (configStatus == CONFIG_OK) {\n+                update();\n+                if (updateStatus == UPDATE_OK) {\n+                    updateStatus(ThingStatus.ONLINE);\n+                    logger.debug(\"Start refresh job at interval {} min.\", refreshInterval);\n+                    if (refreshJob != null) {\n+                        refreshJob.cancel(true);\n+                    }\n+                    refreshJob = scheduler.scheduleWithFixedDelay(this::update, 5, refreshInterval * 60,\n+                            TimeUnit.SECONDS);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6996467c5ab723d3e7402fb62dad898cfd382190"}, "originalPosition": 92}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjMzODM0OA==", "bodyText": "Can you remove the empty line?", "url": "https://github.com/openhab/openhab-addons/pull/7914#discussion_r452338348", "createdAt": "2020-07-09T16:21:50Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.luftdateninfo/src/main/java/org/openhab/binding/luftdateninfo/internal/handler/BaseSensorHandler.java", "diffHunk": "@@ -0,0 +1,158 @@\n+/**\n+ * Copyright (c) 2010-2020 Contributors to the openHAB project\n+ *\n+ * See the NOTICE file(s) distributed with this work for additional\n+ * information.\n+ *\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0\n+ *\n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.openhab.binding.luftdateninfo.internal.handler;\n+\n+import java.util.concurrent.ScheduledFuture;\n+import java.util.concurrent.TimeUnit;\n+\n+import org.eclipse.jdt.annotation.NonNullByDefault;\n+import org.eclipse.jdt.annotation.Nullable;\n+import org.eclipse.smarthome.core.library.types.DecimalType;\n+import org.eclipse.smarthome.core.thing.ChannelUID;\n+import org.eclipse.smarthome.core.thing.Thing;\n+import org.eclipse.smarthome.core.thing.ThingStatus;\n+import org.eclipse.smarthome.core.thing.binding.BaseThingHandler;\n+import org.eclipse.smarthome.core.types.Command;\n+import org.eclipse.smarthome.core.types.RefreshType;\n+import org.openhab.binding.luftdateninfo.internal.LuftdatenInfoConfiguration;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+/**\n+ * The {@link PMHandler} is responsible for handling commands, which are\n+ * sent to one of the channels.\n+ *\n+ * @author Bernd Weymann - Initial contribution\n+ */\n+@NonNullByDefault\n+public abstract class BaseSensorHandler extends BaseThingHandler {\n+\n+    protected final Logger logger = LoggerFactory.getLogger(BaseSensorHandler.class);\n+\n+    protected @Nullable LuftdatenInfoConfiguration config;\n+    protected @Nullable ScheduledFuture<?> refreshJob;\n+    protected int refreshInterval = 5;\n+\n+    protected int configStatus = -1;\n+    protected static final int CONFIG_OK = 0;\n+    protected static final int CONFIG_IS_NULL = 1;\n+    protected static final int CONFIG_SENSOR_IS_NULL = 2;\n+    protected static final int CONFIG_SENSOR_NUMBER = 3;\n+\n+    protected int updateStatus = -1;\n+    protected static final int UPDATE_OK = 0;\n+    protected static final int UPDATE_CONNECTION_ERROR = 1;\n+    protected static final int UPDATE_VALUE_ERROR = 2;\n+    protected static final int UPDATE_VALUE_EMPTY = 3;\n+\n+    protected static final int LC_UNKNOWN = -1;\n+    protected static final int LC_RUNNING = 0;\n+    protected static final int LC_INITIALIZING = 1;\n+    protected static final int LC_DISPOSED = 2;\n+    protected int lifecycleStatus = LC_UNKNOWN;\n+\n+    protected static final DecimalType UNDEF = new DecimalType(-1);\n+\n+    public BaseSensorHandler(Thing thing) {\n+        super(thing);\n+    }\n+\n+    @Override\n+    public void handleCommand(ChannelUID channelUID, Command command) {\n+        if (command instanceof RefreshType) {\n+            updateFromCache();\n+        }\n+    }\n+\n+    @Override\n+    public void initialize() {\n+        lifecycleStatus = LC_INITIALIZING;\n+        scheduler.execute(() -> {\n+            config = getConfigAs(LuftdatenInfoConfiguration.class);\n+            configStatus = checkConfig(config);\n+            if (configStatus == CONFIG_OK) {\n+                update();\n+                if (updateStatus == UPDATE_OK) {\n+                    updateStatus(ThingStatus.ONLINE);\n+                    logger.debug(\"Start refresh job at interval {} min.\", refreshInterval);\n+                    if (refreshJob != null) {\n+                        refreshJob.cancel(true);\n+                    }\n+                    refreshJob = scheduler.scheduleWithFixedDelay(this::update, 5, refreshInterval * 60,\n+                            TimeUnit.SECONDS);\n+                } else {\n+                    switch (updateStatus) {\n+                        case UPDATE_CONNECTION_ERROR:\n+                            logger.warn(\"Update failed due to Connection error. Trying to recover in next refresh\");\n+                            break;\n+                        case UPDATE_VALUE_ERROR:\n+                            logger.warn(\n+                                    \"Sensor values doesn't match - please check if Sensor ID is delivering the correct Thing channel values\");\n+                            break;\n+                        case UPDATE_VALUE_EMPTY:\n+                            logger.warn(\n+                                    \"No values deliverd by Sensor. Please check for valid Sensor ID in configuration\");\n+                            break;\n+                    }\n+                    updateStatus(ThingStatus.OFFLINE);\n+                }\n+            } else {\n+                logger.warn(\"Configuration not valid. Sensor ID as a number is mandatory!\");\n+                updateStatus(ThingStatus.OFFLINE);\n+            }\n+            lifecycleStatus = LC_RUNNING;\n+        });\n+    }\n+\n+    @Override\n+    public void dispose() {\n+        if (refreshJob != null) {\n+            refreshJob.cancel(true);\n+        }\n+        lifecycleStatus = LC_DISPOSED;\n+    }\n+\n+    /**\n+     * Checks if config is valid - a) not null and b) sensorid is a number\n+     *\n+     * @param c\n+     * @return\n+     */\n+    private int checkConfig(@Nullable LuftdatenInfoConfiguration c) {\n+        if (c != null) {\n+            try {\n+                Integer.parseInt(c.sensorid);\n+                return CONFIG_OK;\n+            } catch (NumberFormatException t) {\n+                return CONFIG_SENSOR_NUMBER;\n+            }\n+        } else\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6996467c5ab723d3e7402fb62dad898cfd382190"}, "originalPosition": 140}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjMzOTU3OQ==", "bodyText": "Syntactical sugar\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                Iterator<SensorDataValue> iter = valueList.iterator();\n          \n          \n            \n                                while (iter.hasNext()) {\n          \n          \n            \n                                    SensorDataValue v = iter.next();\n          \n          \n            \n                                valueList.forEach(v -> {", "url": "https://github.com/openhab/openhab-addons/pull/7914#discussion_r452339579", "createdAt": "2020-07-09T16:24:04Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.luftdateninfo/src/main/java/org/openhab/binding/luftdateninfo/internal/handler/ConditionHandler.java", "diffHunk": "@@ -0,0 +1,90 @@\n+/**\n+ * Copyright (c) 2010-2020 Contributors to the openHAB project\n+ *\n+ * See the NOTICE file(s) distributed with this work for additional\n+ * information.\n+ *\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0\n+ *\n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.openhab.binding.luftdateninfo.internal.handler;\n+\n+import static org.openhab.binding.luftdateninfo.internal.LuftdatenInfoBindingConstants.*;\n+import static org.openhab.binding.luftdateninfo.internal.handler.HTTPHandler.*;\n+\n+import java.util.Iterator;\n+import java.util.List;\n+\n+import org.eclipse.jdt.annotation.NonNullByDefault;\n+import org.eclipse.jdt.annotation.Nullable;\n+import org.eclipse.smarthome.core.library.types.DecimalType;\n+import org.eclipse.smarthome.core.thing.Thing;\n+import org.openhab.binding.luftdateninfo.internal.dto.SensorDataValue;\n+import org.openhab.binding.luftdateninfo.internal.utils.NumberUtils;\n+\n+/**\n+ * The {@link ConditionHandler} is responsible for handling commands, which are\n+ * sent to one of the channels.\n+ *\n+ * @author Bernd Weymann - Initial contribution\n+ */\n+@NonNullByDefault\n+public class ConditionHandler extends BaseSensorHandler {\n+\n+    protected DecimalType temperatureCache = UNDEF;\n+    protected DecimalType humidityCache = UNDEF;\n+    protected DecimalType pressureCache = UNDEF;\n+    protected DecimalType pressureSeaCache = UNDEF;\n+\n+    public ConditionHandler(Thing thing) {\n+        super(thing);\n+    }\n+\n+    @Override\n+    public int updateChannels(@Nullable String json) {\n+        if (json != null) {\n+            List<SensorDataValue> valueList = HTTPHandler.getLatestValues(json);\n+            if (valueList != null) {\n+                if (HTTPHandler.isCondition(valueList)) {\n+                    Iterator<SensorDataValue> iter = valueList.iterator();\n+                    while (iter.hasNext()) {\n+                        SensorDataValue v = iter.next();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6996467c5ab723d3e7402fb62dad898cfd382190"}, "originalPosition": 54}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjM0MTU3NA==", "bodyText": "When using Units of Measure, this would look like:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                        temperatureCache = new DecimalType(NumberUtils.round(v.getValue(), 1));\n          \n          \n            \n                                        temperatureCache = QuantityType.valueOf(NumberUtils.round(v.getValue(), 1),\n          \n          \n            \n                                                SIUnits.CELSIUS);", "url": "https://github.com/openhab/openhab-addons/pull/7914#discussion_r452341574", "createdAt": "2020-07-09T16:27:01Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.luftdateninfo/src/main/java/org/openhab/binding/luftdateninfo/internal/handler/ConditionHandler.java", "diffHunk": "@@ -0,0 +1,90 @@\n+/**\n+ * Copyright (c) 2010-2020 Contributors to the openHAB project\n+ *\n+ * See the NOTICE file(s) distributed with this work for additional\n+ * information.\n+ *\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0\n+ *\n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.openhab.binding.luftdateninfo.internal.handler;\n+\n+import static org.openhab.binding.luftdateninfo.internal.LuftdatenInfoBindingConstants.*;\n+import static org.openhab.binding.luftdateninfo.internal.handler.HTTPHandler.*;\n+\n+import java.util.Iterator;\n+import java.util.List;\n+\n+import org.eclipse.jdt.annotation.NonNullByDefault;\n+import org.eclipse.jdt.annotation.Nullable;\n+import org.eclipse.smarthome.core.library.types.DecimalType;\n+import org.eclipse.smarthome.core.thing.Thing;\n+import org.openhab.binding.luftdateninfo.internal.dto.SensorDataValue;\n+import org.openhab.binding.luftdateninfo.internal.utils.NumberUtils;\n+\n+/**\n+ * The {@link ConditionHandler} is responsible for handling commands, which are\n+ * sent to one of the channels.\n+ *\n+ * @author Bernd Weymann - Initial contribution\n+ */\n+@NonNullByDefault\n+public class ConditionHandler extends BaseSensorHandler {\n+\n+    protected DecimalType temperatureCache = UNDEF;\n+    protected DecimalType humidityCache = UNDEF;\n+    protected DecimalType pressureCache = UNDEF;\n+    protected DecimalType pressureSeaCache = UNDEF;\n+\n+    public ConditionHandler(Thing thing) {\n+        super(thing);\n+    }\n+\n+    @Override\n+    public int updateChannels(@Nullable String json) {\n+        if (json != null) {\n+            List<SensorDataValue> valueList = HTTPHandler.getLatestValues(json);\n+            if (valueList != null) {\n+                if (HTTPHandler.isCondition(valueList)) {\n+                    Iterator<SensorDataValue> iter = valueList.iterator();\n+                    while (iter.hasNext()) {\n+                        SensorDataValue v = iter.next();\n+                        if (v.getValue_type().equals(TEMPERATURE)) {\n+                            temperatureCache = new DecimalType(NumberUtils.round(v.getValue(), 1));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6996467c5ab723d3e7402fb62dad898cfd382190"}, "originalPosition": 56}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjM0MjU0Nw==", "bodyText": "Logging to info should be used rarely. This could be debug or warn.\nDon't you want to log the other error codes, too? E.g. 500. You could log in the default case of the switch.", "url": "https://github.com/openhab/openhab-addons/pull/7914#discussion_r452342547", "createdAt": "2020-07-09T16:28:37Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.luftdateninfo/src/main/java/org/openhab/binding/luftdateninfo/internal/handler/HTTPHandler.java", "diffHunk": "@@ -0,0 +1,182 @@\n+/**\n+ * Copyright (c) 2010-2020 Contributors to the openHAB project\n+ *\n+ * See the NOTICE file(s) distributed with this work for additional\n+ * information.\n+ *\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0\n+ *\n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.openhab.binding.luftdateninfo.internal.handler;\n+\n+import java.util.Date;\n+import java.util.Iterator;\n+import java.util.List;\n+import java.util.concurrent.ExecutionException;\n+import java.util.concurrent.TimeUnit;\n+import java.util.concurrent.TimeoutException;\n+\n+import org.eclipse.jdt.annotation.NonNullByDefault;\n+import org.eclipse.jdt.annotation.Nullable;\n+import org.eclipse.jetty.client.HttpClient;\n+import org.eclipse.jetty.client.api.ContentResponse;\n+import org.openhab.binding.luftdateninfo.internal.dto.SensorData;\n+import org.openhab.binding.luftdateninfo.internal.dto.SensorDataValue;\n+import org.openhab.binding.luftdateninfo.internal.utils.DateTimeUtils;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+import com.google.gson.Gson;\n+\n+/**\n+ * The {@link HTTPHandler} is responsible for HTTP requests and JSON handling\n+ *\n+ * @author Bernd Weymann - Initial contribution\n+ */\n+@NonNullByDefault\n+public class HTTPHandler {\n+    private static final Logger logger = LoggerFactory.getLogger(HTTPHandler.class);\n+    private static String sensorUrl = \"http://data.sensor.community/airrohr/v1/sensor/\";\n+    private static @Nullable HttpClient commonHttpClient;\n+\n+    public static final String P1 = \"P1\";\n+    public static final String P2 = \"P2\";\n+\n+    public static final String TEMPERATURE = \"temperature\";\n+    public static final String HUMIDITY = \"humidity\";\n+    public static final String PRESSURE = \"pressure\";\n+    public static final String PRESSURE_SEALEVEL = \"pressure_at_sealevel\";\n+\n+    public static final String NOISE_EQ = \"noise_LAeq\";\n+    public static final String NOISE_MIN = \"noise_LA_min\";\n+    public static final String NOISE_MAX = \"noise_LA_max\";\n+\n+    public static void init(HttpClient httpClient) {\n+        commonHttpClient = httpClient;\n+    }\n+\n+    public static @Nullable String getResponse(String sensorId) {\n+        if (commonHttpClient == null) {\n+            logger.warn(\"HTTP Client not initialized\");\n+            return null;\n+        }\n+        String url = sensorUrl + sensorId + \"/\";\n+        try {\n+            ContentResponse contentResponse = commonHttpClient.newRequest(url).timeout(10, TimeUnit.SECONDS).send();\n+            int httpStatus = contentResponse.getStatus();\n+            String content = contentResponse.getContentAsString();\n+            logger.debug(\"Sensor response: {}\", httpStatus);\n+            switch (httpStatus) {\n+                case 200:\n+                    return content;\n+                case 400:\n+                case 401:\n+                case 404:\n+                    logger.info(\"Sensor response: {}\", httpStatus);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6996467c5ab723d3e7402fb62dad898cfd382190"}, "originalPosition": 78}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjM0MzYxNg==", "bodyText": "You might want to log the exception's message\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        logger.warn(\"Exception when calling {}\", url);\n          \n          \n            \n                        logger.warn(\"Exception when calling {}: {}\", url, e.getMessage());", "url": "https://github.com/openhab/openhab-addons/pull/7914#discussion_r452343616", "createdAt": "2020-07-09T16:30:21Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.luftdateninfo/src/main/java/org/openhab/binding/luftdateninfo/internal/handler/HTTPHandler.java", "diffHunk": "@@ -0,0 +1,182 @@\n+/**\n+ * Copyright (c) 2010-2020 Contributors to the openHAB project\n+ *\n+ * See the NOTICE file(s) distributed with this work for additional\n+ * information.\n+ *\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0\n+ *\n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.openhab.binding.luftdateninfo.internal.handler;\n+\n+import java.util.Date;\n+import java.util.Iterator;\n+import java.util.List;\n+import java.util.concurrent.ExecutionException;\n+import java.util.concurrent.TimeUnit;\n+import java.util.concurrent.TimeoutException;\n+\n+import org.eclipse.jdt.annotation.NonNullByDefault;\n+import org.eclipse.jdt.annotation.Nullable;\n+import org.eclipse.jetty.client.HttpClient;\n+import org.eclipse.jetty.client.api.ContentResponse;\n+import org.openhab.binding.luftdateninfo.internal.dto.SensorData;\n+import org.openhab.binding.luftdateninfo.internal.dto.SensorDataValue;\n+import org.openhab.binding.luftdateninfo.internal.utils.DateTimeUtils;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+import com.google.gson.Gson;\n+\n+/**\n+ * The {@link HTTPHandler} is responsible for HTTP requests and JSON handling\n+ *\n+ * @author Bernd Weymann - Initial contribution\n+ */\n+@NonNullByDefault\n+public class HTTPHandler {\n+    private static final Logger logger = LoggerFactory.getLogger(HTTPHandler.class);\n+    private static String sensorUrl = \"http://data.sensor.community/airrohr/v1/sensor/\";\n+    private static @Nullable HttpClient commonHttpClient;\n+\n+    public static final String P1 = \"P1\";\n+    public static final String P2 = \"P2\";\n+\n+    public static final String TEMPERATURE = \"temperature\";\n+    public static final String HUMIDITY = \"humidity\";\n+    public static final String PRESSURE = \"pressure\";\n+    public static final String PRESSURE_SEALEVEL = \"pressure_at_sealevel\";\n+\n+    public static final String NOISE_EQ = \"noise_LAeq\";\n+    public static final String NOISE_MIN = \"noise_LA_min\";\n+    public static final String NOISE_MAX = \"noise_LA_max\";\n+\n+    public static void init(HttpClient httpClient) {\n+        commonHttpClient = httpClient;\n+    }\n+\n+    public static @Nullable String getResponse(String sensorId) {\n+        if (commonHttpClient == null) {\n+            logger.warn(\"HTTP Client not initialized\");\n+            return null;\n+        }\n+        String url = sensorUrl + sensorId + \"/\";\n+        try {\n+            ContentResponse contentResponse = commonHttpClient.newRequest(url).timeout(10, TimeUnit.SECONDS).send();\n+            int httpStatus = contentResponse.getStatus();\n+            String content = contentResponse.getContentAsString();\n+            logger.debug(\"Sensor response: {}\", httpStatus);\n+            switch (httpStatus) {\n+                case 200:\n+                    return content;\n+                case 400:\n+                case 401:\n+                case 404:\n+                    logger.info(\"Sensor response: {}\", httpStatus);\n+                    return null;\n+                default:\n+                    return null;\n+            }\n+        } catch (InterruptedException | TimeoutException | ExecutionException e) {\n+            logger.warn(\"Exception when calling {}\", url);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6996467c5ab723d3e7402fb62dad898cfd382190"}, "originalPosition": 84}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjM0Mzg3MA==", "bodyText": "Can you make this a final field to save resources?", "url": "https://github.com/openhab/openhab-addons/pull/7914#discussion_r452343870", "createdAt": "2020-07-09T16:30:46Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.luftdateninfo/src/main/java/org/openhab/binding/luftdateninfo/internal/handler/HTTPHandler.java", "diffHunk": "@@ -0,0 +1,182 @@\n+/**\n+ * Copyright (c) 2010-2020 Contributors to the openHAB project\n+ *\n+ * See the NOTICE file(s) distributed with this work for additional\n+ * information.\n+ *\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0\n+ *\n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.openhab.binding.luftdateninfo.internal.handler;\n+\n+import java.util.Date;\n+import java.util.Iterator;\n+import java.util.List;\n+import java.util.concurrent.ExecutionException;\n+import java.util.concurrent.TimeUnit;\n+import java.util.concurrent.TimeoutException;\n+\n+import org.eclipse.jdt.annotation.NonNullByDefault;\n+import org.eclipse.jdt.annotation.Nullable;\n+import org.eclipse.jetty.client.HttpClient;\n+import org.eclipse.jetty.client.api.ContentResponse;\n+import org.openhab.binding.luftdateninfo.internal.dto.SensorData;\n+import org.openhab.binding.luftdateninfo.internal.dto.SensorDataValue;\n+import org.openhab.binding.luftdateninfo.internal.utils.DateTimeUtils;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+import com.google.gson.Gson;\n+\n+/**\n+ * The {@link HTTPHandler} is responsible for HTTP requests and JSON handling\n+ *\n+ * @author Bernd Weymann - Initial contribution\n+ */\n+@NonNullByDefault\n+public class HTTPHandler {\n+    private static final Logger logger = LoggerFactory.getLogger(HTTPHandler.class);\n+    private static String sensorUrl = \"http://data.sensor.community/airrohr/v1/sensor/\";\n+    private static @Nullable HttpClient commonHttpClient;\n+\n+    public static final String P1 = \"P1\";\n+    public static final String P2 = \"P2\";\n+\n+    public static final String TEMPERATURE = \"temperature\";\n+    public static final String HUMIDITY = \"humidity\";\n+    public static final String PRESSURE = \"pressure\";\n+    public static final String PRESSURE_SEALEVEL = \"pressure_at_sealevel\";\n+\n+    public static final String NOISE_EQ = \"noise_LAeq\";\n+    public static final String NOISE_MIN = \"noise_LA_min\";\n+    public static final String NOISE_MAX = \"noise_LA_max\";\n+\n+    public static void init(HttpClient httpClient) {\n+        commonHttpClient = httpClient;\n+    }\n+\n+    public static @Nullable String getResponse(String sensorId) {\n+        if (commonHttpClient == null) {\n+            logger.warn(\"HTTP Client not initialized\");\n+            return null;\n+        }\n+        String url = sensorUrl + sensorId + \"/\";\n+        try {\n+            ContentResponse contentResponse = commonHttpClient.newRequest(url).timeout(10, TimeUnit.SECONDS).send();\n+            int httpStatus = contentResponse.getStatus();\n+            String content = contentResponse.getContentAsString();\n+            logger.debug(\"Sensor response: {}\", httpStatus);\n+            switch (httpStatus) {\n+                case 200:\n+                    return content;\n+                case 400:\n+                case 401:\n+                case 404:\n+                    logger.info(\"Sensor response: {}\", httpStatus);\n+                    return null;\n+                default:\n+                    return null;\n+            }\n+        } catch (InterruptedException | TimeoutException | ExecutionException e) {\n+            logger.warn(\"Exception when calling {}\", url);\n+            return null;\n+        }\n+    }\n+\n+    public static @Nullable List<SensorDataValue> getLatestValues(String response) {\n+        Gson gson = new Gson();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6996467c5ab723d3e7402fb62dad898cfd382190"}, "originalPosition": 90}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjM0NDMxNQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                private List<SensorDataValue> sensordatavalues;\n          \n          \n            \n                private List<SensorDataValue> sensorDataValues;", "url": "https://github.com/openhab/openhab-addons/pull/7914#discussion_r452344315", "createdAt": "2020-07-09T16:31:36Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.luftdateninfo/src/main/java/org/openhab/binding/luftdateninfo/internal/dto/SensorData.java", "diffHunk": "@@ -0,0 +1,83 @@\n+/**\n+ * Copyright (c) 2010-2020 Contributors to the openHAB project\n+ *\n+ * See the NOTICE file(s) distributed with this work for additional\n+ * information.\n+ *\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0\n+ *\n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.openhab.binding.luftdateninfo.internal.dto;\n+\n+import java.util.List;\n+\n+/**\n+ * The {@link SensorData} Data Transfer Object\n+ *\n+ * @author Bernd Weymann - Initial contribution\n+ */\n+public class SensorData {\n+    private Long id;\n+    private String timestamp;\n+    private Integer sampling_rate;\n+    private List<SensorDataValue> sensordatavalues;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6996467c5ab723d3e7402fb62dad898cfd382190"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjM0NDQzNg==", "bodyText": "See above", "url": "https://github.com/openhab/openhab-addons/pull/7914#discussion_r452344436", "createdAt": "2020-07-09T16:31:46Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.luftdateninfo/src/main/java/org/openhab/binding/luftdateninfo/internal/dto/SensorData.java", "diffHunk": "@@ -0,0 +1,83 @@\n+/**\n+ * Copyright (c) 2010-2020 Contributors to the openHAB project\n+ *\n+ * See the NOTICE file(s) distributed with this work for additional\n+ * information.\n+ *\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0\n+ *\n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.openhab.binding.luftdateninfo.internal.dto;\n+\n+import java.util.List;\n+\n+/**\n+ * The {@link SensorData} Data Transfer Object\n+ *\n+ * @author Bernd Weymann - Initial contribution\n+ */\n+public class SensorData {\n+    private Long id;\n+    private String timestamp;\n+    private Integer sampling_rate;\n+    private List<SensorDataValue> sensordatavalues;\n+    private Location location;\n+    private Sensor sensor;\n+\n+    @Override\n+    public String toString() {\n+        return id + timestamp;\n+    }\n+\n+    public Long getId() {\n+        return id;\n+    }\n+\n+    public void setId(Long id) {\n+        this.id = id;\n+    }\n+\n+    public String getTimeStamp() {\n+        return timestamp;\n+    }\n+\n+    public void setTimeStamp(String timeStamp) {\n+        this.timestamp = timeStamp;\n+    }\n+\n+    public Integer getSampling_rate() {\n+        return sampling_rate;\n+    }\n+\n+    public void setSampling_rate(Integer sampling_rate) {\n+        this.sampling_rate = sampling_rate;\n+    }\n+\n+    public List<SensorDataValue> getSensordatavalues() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6996467c5ab723d3e7402fb62dad898cfd382190"}, "originalPosition": 59}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjM0NTI0MQ==", "bodyText": "Config can be null at this point.", "url": "https://github.com/openhab/openhab-addons/pull/7914#discussion_r452345241", "createdAt": "2020-07-09T16:33:04Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.luftdateninfo/src/main/java/org/openhab/binding/luftdateninfo/internal/handler/BaseSensorHandler.java", "diffHunk": "@@ -0,0 +1,158 @@\n+/**\n+ * Copyright (c) 2010-2020 Contributors to the openHAB project\n+ *\n+ * See the NOTICE file(s) distributed with this work for additional\n+ * information.\n+ *\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0\n+ *\n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.openhab.binding.luftdateninfo.internal.handler;\n+\n+import java.util.concurrent.ScheduledFuture;\n+import java.util.concurrent.TimeUnit;\n+\n+import org.eclipse.jdt.annotation.NonNullByDefault;\n+import org.eclipse.jdt.annotation.Nullable;\n+import org.eclipse.smarthome.core.library.types.DecimalType;\n+import org.eclipse.smarthome.core.thing.ChannelUID;\n+import org.eclipse.smarthome.core.thing.Thing;\n+import org.eclipse.smarthome.core.thing.ThingStatus;\n+import org.eclipse.smarthome.core.thing.binding.BaseThingHandler;\n+import org.eclipse.smarthome.core.types.Command;\n+import org.eclipse.smarthome.core.types.RefreshType;\n+import org.openhab.binding.luftdateninfo.internal.LuftdatenInfoConfiguration;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+/**\n+ * The {@link PMHandler} is responsible for handling commands, which are\n+ * sent to one of the channels.\n+ *\n+ * @author Bernd Weymann - Initial contribution\n+ */\n+@NonNullByDefault\n+public abstract class BaseSensorHandler extends BaseThingHandler {\n+\n+    protected final Logger logger = LoggerFactory.getLogger(BaseSensorHandler.class);\n+\n+    protected @Nullable LuftdatenInfoConfiguration config;\n+    protected @Nullable ScheduledFuture<?> refreshJob;\n+    protected int refreshInterval = 5;\n+\n+    protected int configStatus = -1;\n+    protected static final int CONFIG_OK = 0;\n+    protected static final int CONFIG_IS_NULL = 1;\n+    protected static final int CONFIG_SENSOR_IS_NULL = 2;\n+    protected static final int CONFIG_SENSOR_NUMBER = 3;\n+\n+    protected int updateStatus = -1;\n+    protected static final int UPDATE_OK = 0;\n+    protected static final int UPDATE_CONNECTION_ERROR = 1;\n+    protected static final int UPDATE_VALUE_ERROR = 2;\n+    protected static final int UPDATE_VALUE_EMPTY = 3;\n+\n+    protected static final int LC_UNKNOWN = -1;\n+    protected static final int LC_RUNNING = 0;\n+    protected static final int LC_INITIALIZING = 1;\n+    protected static final int LC_DISPOSED = 2;\n+    protected int lifecycleStatus = LC_UNKNOWN;\n+\n+    protected static final DecimalType UNDEF = new DecimalType(-1);\n+\n+    public BaseSensorHandler(Thing thing) {\n+        super(thing);\n+    }\n+\n+    @Override\n+    public void handleCommand(ChannelUID channelUID, Command command) {\n+        if (command instanceof RefreshType) {\n+            updateFromCache();\n+        }\n+    }\n+\n+    @Override\n+    public void initialize() {\n+        lifecycleStatus = LC_INITIALIZING;\n+        scheduler.execute(() -> {\n+            config = getConfigAs(LuftdatenInfoConfiguration.class);\n+            configStatus = checkConfig(config);\n+            if (configStatus == CONFIG_OK) {\n+                update();\n+                if (updateStatus == UPDATE_OK) {\n+                    updateStatus(ThingStatus.ONLINE);\n+                    logger.debug(\"Start refresh job at interval {} min.\", refreshInterval);\n+                    if (refreshJob != null) {\n+                        refreshJob.cancel(true);\n+                    }\n+                    refreshJob = scheduler.scheduleWithFixedDelay(this::update, 5, refreshInterval * 60,\n+                            TimeUnit.SECONDS);\n+                } else {\n+                    switch (updateStatus) {\n+                        case UPDATE_CONNECTION_ERROR:\n+                            logger.warn(\"Update failed due to Connection error. Trying to recover in next refresh\");\n+                            break;\n+                        case UPDATE_VALUE_ERROR:\n+                            logger.warn(\n+                                    \"Sensor values doesn't match - please check if Sensor ID is delivering the correct Thing channel values\");\n+                            break;\n+                        case UPDATE_VALUE_EMPTY:\n+                            logger.warn(\n+                                    \"No values deliverd by Sensor. Please check for valid Sensor ID in configuration\");\n+                            break;\n+                    }\n+                    updateStatus(ThingStatus.OFFLINE);\n+                }\n+            } else {\n+                logger.warn(\"Configuration not valid. Sensor ID as a number is mandatory!\");\n+                updateStatus(ThingStatus.OFFLINE);\n+            }\n+            lifecycleStatus = LC_RUNNING;\n+        });\n+    }\n+\n+    @Override\n+    public void dispose() {\n+        if (refreshJob != null) {\n+            refreshJob.cancel(true);\n+        }\n+        lifecycleStatus = LC_DISPOSED;\n+    }\n+\n+    /**\n+     * Checks if config is valid - a) not null and b) sensorid is a number\n+     *\n+     * @param c\n+     * @return\n+     */\n+    private int checkConfig(@Nullable LuftdatenInfoConfiguration c) {\n+        if (c != null) {\n+            try {\n+                Integer.parseInt(c.sensorid);\n+                return CONFIG_OK;\n+            } catch (NumberFormatException t) {\n+                return CONFIG_SENSOR_NUMBER;\n+            }\n+        } else\n+\n+        {\n+            return CONFIG_IS_NULL;\n+        }\n+    }\n+\n+    public int getLifecycleStatus() {\n+        return lifecycleStatus;\n+    }\n+\n+    protected void update() {\n+        String response = HTTPHandler.getResponse(config.sensorid);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6996467c5ab723d3e7402fb62dad898cfd382190"}, "originalPosition": 151}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjM0NjMwOA==", "bodyText": "You can fix the compiler warning by storing commonHttpClient to a local variable and do a null check on that.", "url": "https://github.com/openhab/openhab-addons/pull/7914#discussion_r452346308", "createdAt": "2020-07-09T16:34:58Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.luftdateninfo/src/main/java/org/openhab/binding/luftdateninfo/internal/handler/HTTPHandler.java", "diffHunk": "@@ -0,0 +1,182 @@\n+/**\n+ * Copyright (c) 2010-2020 Contributors to the openHAB project\n+ *\n+ * See the NOTICE file(s) distributed with this work for additional\n+ * information.\n+ *\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0\n+ *\n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.openhab.binding.luftdateninfo.internal.handler;\n+\n+import java.util.Date;\n+import java.util.Iterator;\n+import java.util.List;\n+import java.util.concurrent.ExecutionException;\n+import java.util.concurrent.TimeUnit;\n+import java.util.concurrent.TimeoutException;\n+\n+import org.eclipse.jdt.annotation.NonNullByDefault;\n+import org.eclipse.jdt.annotation.Nullable;\n+import org.eclipse.jetty.client.HttpClient;\n+import org.eclipse.jetty.client.api.ContentResponse;\n+import org.openhab.binding.luftdateninfo.internal.dto.SensorData;\n+import org.openhab.binding.luftdateninfo.internal.dto.SensorDataValue;\n+import org.openhab.binding.luftdateninfo.internal.utils.DateTimeUtils;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+import com.google.gson.Gson;\n+\n+/**\n+ * The {@link HTTPHandler} is responsible for HTTP requests and JSON handling\n+ *\n+ * @author Bernd Weymann - Initial contribution\n+ */\n+@NonNullByDefault\n+public class HTTPHandler {\n+    private static final Logger logger = LoggerFactory.getLogger(HTTPHandler.class);\n+    private static String sensorUrl = \"http://data.sensor.community/airrohr/v1/sensor/\";\n+    private static @Nullable HttpClient commonHttpClient;\n+\n+    public static final String P1 = \"P1\";\n+    public static final String P2 = \"P2\";\n+\n+    public static final String TEMPERATURE = \"temperature\";\n+    public static final String HUMIDITY = \"humidity\";\n+    public static final String PRESSURE = \"pressure\";\n+    public static final String PRESSURE_SEALEVEL = \"pressure_at_sealevel\";\n+\n+    public static final String NOISE_EQ = \"noise_LAeq\";\n+    public static final String NOISE_MIN = \"noise_LA_min\";\n+    public static final String NOISE_MAX = \"noise_LA_max\";\n+\n+    public static void init(HttpClient httpClient) {\n+        commonHttpClient = httpClient;\n+    }\n+\n+    public static @Nullable String getResponse(String sensorId) {\n+        if (commonHttpClient == null) {\n+            logger.warn(\"HTTP Client not initialized\");\n+            return null;\n+        }\n+        String url = sensorUrl + sensorId + \"/\";\n+        try {\n+            ContentResponse contentResponse = commonHttpClient.newRequest(url).timeout(10, TimeUnit.SECONDS).send();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6996467c5ab723d3e7402fb62dad898cfd382190"}, "originalPosition": 68}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjM1MjMwOQ==", "bodyText": "You could have some fun with streams here. You could try something like this. Same for below.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    Iterator<SensorDataValue> iter = valueList.iterator();\n          \n          \n            \n                    while (iter.hasNext()) {\n          \n          \n            \n                        SensorDataValue v = iter.next();\n          \n          \n            \n                        if (!(v.getValue_type().equals(P1) || v.getValue_type().equals(P2))) {\n          \n          \n            \n                            return false;\n          \n          \n            \n                        }\n          \n          \n            \n                    }\n          \n          \n            \n                    return true;\n          \n          \n            \n                    return valueList.stream().map(v -> v.getValue_type()).filter(t -> t.equals(P1) || t.equals(P2)).findAny().isPresent();", "url": "https://github.com/openhab/openhab-addons/pull/7914#discussion_r452352309", "createdAt": "2020-07-09T16:44:46Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.luftdateninfo/src/main/java/org/openhab/binding/luftdateninfo/internal/handler/HTTPHandler.java", "diffHunk": "@@ -0,0 +1,182 @@\n+/**\n+ * Copyright (c) 2010-2020 Contributors to the openHAB project\n+ *\n+ * See the NOTICE file(s) distributed with this work for additional\n+ * information.\n+ *\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0\n+ *\n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.openhab.binding.luftdateninfo.internal.handler;\n+\n+import java.util.Date;\n+import java.util.Iterator;\n+import java.util.List;\n+import java.util.concurrent.ExecutionException;\n+import java.util.concurrent.TimeUnit;\n+import java.util.concurrent.TimeoutException;\n+\n+import org.eclipse.jdt.annotation.NonNullByDefault;\n+import org.eclipse.jdt.annotation.Nullable;\n+import org.eclipse.jetty.client.HttpClient;\n+import org.eclipse.jetty.client.api.ContentResponse;\n+import org.openhab.binding.luftdateninfo.internal.dto.SensorData;\n+import org.openhab.binding.luftdateninfo.internal.dto.SensorDataValue;\n+import org.openhab.binding.luftdateninfo.internal.utils.DateTimeUtils;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+import com.google.gson.Gson;\n+\n+/**\n+ * The {@link HTTPHandler} is responsible for HTTP requests and JSON handling\n+ *\n+ * @author Bernd Weymann - Initial contribution\n+ */\n+@NonNullByDefault\n+public class HTTPHandler {\n+    private static final Logger logger = LoggerFactory.getLogger(HTTPHandler.class);\n+    private static String sensorUrl = \"http://data.sensor.community/airrohr/v1/sensor/\";\n+    private static @Nullable HttpClient commonHttpClient;\n+\n+    public static final String P1 = \"P1\";\n+    public static final String P2 = \"P2\";\n+\n+    public static final String TEMPERATURE = \"temperature\";\n+    public static final String HUMIDITY = \"humidity\";\n+    public static final String PRESSURE = \"pressure\";\n+    public static final String PRESSURE_SEALEVEL = \"pressure_at_sealevel\";\n+\n+    public static final String NOISE_EQ = \"noise_LAeq\";\n+    public static final String NOISE_MIN = \"noise_LA_min\";\n+    public static final String NOISE_MAX = \"noise_LA_max\";\n+\n+    public static void init(HttpClient httpClient) {\n+        commonHttpClient = httpClient;\n+    }\n+\n+    public static @Nullable String getResponse(String sensorId) {\n+        if (commonHttpClient == null) {\n+            logger.warn(\"HTTP Client not initialized\");\n+            return null;\n+        }\n+        String url = sensorUrl + sensorId + \"/\";\n+        try {\n+            ContentResponse contentResponse = commonHttpClient.newRequest(url).timeout(10, TimeUnit.SECONDS).send();\n+            int httpStatus = contentResponse.getStatus();\n+            String content = contentResponse.getContentAsString();\n+            logger.debug(\"Sensor response: {}\", httpStatus);\n+            switch (httpStatus) {\n+                case 200:\n+                    return content;\n+                case 400:\n+                case 401:\n+                case 404:\n+                    logger.info(\"Sensor response: {}\", httpStatus);\n+                    return null;\n+                default:\n+                    return null;\n+            }\n+        } catch (InterruptedException | TimeoutException | ExecutionException e) {\n+            logger.warn(\"Exception when calling {}\", url);\n+            return null;\n+        }\n+    }\n+\n+    public static @Nullable List<SensorDataValue> getLatestValues(String response) {\n+        Gson gson = new Gson();\n+        SensorData[] valueArray = gson.fromJson(response, SensorData[].class);\n+        if (valueArray.length == 0) {\n+            return null;\n+        } else if (valueArray.length == 1) {\n+            SensorData v = valueArray[0];\n+            return v.getSensordatavalues();\n+        } else if (valueArray.length > 1) {\n+            // declare first item as latest\n+            SensorData latestData = valueArray[0];\n+            String latestTimeStr = latestData.getTimeStamp();\n+            Date latestTime = DateTimeUtils.toDate(latestTimeStr);\n+            if (latestTime == null) {\n+                logDateConversionError(response, latestData);\n+            }\n+            for (int i = 1; i < valueArray.length; i++) {\n+                SensorData iterData = valueArray[i];\n+                String iterTimeStr = iterData.getTimeStamp();\n+                Date iterTime = DateTimeUtils.toDate(iterTimeStr);\n+                if (iterTime == null) {\n+                    logDateConversionError(response, latestData);\n+                }\n+                if (iterTime != null && latestTime != null) {\n+                    if (latestTime.before(iterTime)) {\n+                        // found item is newer - take it as latest\n+                        latestTime = iterTime;\n+                        latestData = iterData;\n+                    } // else - found item is older - nothing to do\n+\n+                } else {\n+                    logger.warn(\"One or two dates cannot be decoded 1) {} 2) {}\", iterTimeStr, latestTimeStr);\n+                }\n+            }\n+            return latestData.getSensordatavalues();\n+        } else {\n+            return null;\n+        }\n+    }\n+\n+    public static void logDateConversionError(final String response, final Object dto) {\n+        logger.warn(\"Unable to get timestamp\");\n+        logger.warn(\"Response: {}\", response);\n+        Gson gson = new Gson();\n+        String json = gson.toJson(dto);\n+        logger.warn(\"GSon: {}\", json);\n+    }\n+\n+    public static boolean isParticulate(@Nullable List<SensorDataValue> valueList) {\n+        if (valueList == null) {\n+            return false;\n+        }\n+        Iterator<SensorDataValue> iter = valueList.iterator();\n+        while (iter.hasNext()) {\n+            SensorDataValue v = iter.next();\n+            if (!(v.getValue_type().equals(P1) || v.getValue_type().equals(P2))) {\n+                return false;\n+            }\n+        }\n+        return true;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6996467c5ab723d3e7402fb62dad898cfd382190"}, "originalPosition": 148}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjM1Mzg1Mw==", "bodyText": "This could be final (and upper case, then)", "url": "https://github.com/openhab/openhab-addons/pull/7914#discussion_r452353853", "createdAt": "2020-07-09T16:47:20Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.luftdateninfo/src/main/java/org/openhab/binding/luftdateninfo/internal/utils/DateTimeUtils.java", "diffHunk": "@@ -0,0 +1,38 @@\n+/**\n+ * Copyright (c) 2010-2020 Contributors to the openHAB project\n+ *\n+ * See the NOTICE file(s) distributed with this work for additional\n+ * information.\n+ *\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0\n+ *\n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.openhab.binding.luftdateninfo.internal.utils;\n+\n+import java.text.ParseException;\n+import java.text.SimpleDateFormat;\n+import java.util.Date;\n+\n+import org.eclipse.jdt.annotation.NonNullByDefault;\n+import org.eclipse.jdt.annotation.Nullable;\n+\n+/**\n+ * The {@link DateTimeUtils} class provides helpers for converting Dates and Times.\n+ *\n+ * @author Bernd Weymann - Initial contribution\n+ */\n+@NonNullByDefault\n+public class DateTimeUtils {\n+    private static SimpleDateFormat sdf = new SimpleDateFormat(\"YYYY-mm-dd hh:mm:ss\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6996467c5ab723d3e7402fb62dad898cfd382190"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjM1NDA5Mw==", "bodyText": "Is there a reason why this is synchronized?", "url": "https://github.com/openhab/openhab-addons/pull/7914#discussion_r452354093", "createdAt": "2020-07-09T16:47:44Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.luftdateninfo/src/main/java/org/openhab/binding/luftdateninfo/internal/utils/DateTimeUtils.java", "diffHunk": "@@ -0,0 +1,38 @@\n+/**\n+ * Copyright (c) 2010-2020 Contributors to the openHAB project\n+ *\n+ * See the NOTICE file(s) distributed with this work for additional\n+ * information.\n+ *\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0\n+ *\n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.openhab.binding.luftdateninfo.internal.utils;\n+\n+import java.text.ParseException;\n+import java.text.SimpleDateFormat;\n+import java.util.Date;\n+\n+import org.eclipse.jdt.annotation.NonNullByDefault;\n+import org.eclipse.jdt.annotation.Nullable;\n+\n+/**\n+ * The {@link DateTimeUtils} class provides helpers for converting Dates and Times.\n+ *\n+ * @author Bernd Weymann - Initial contribution\n+ */\n+@NonNullByDefault\n+public class DateTimeUtils {\n+    private static SimpleDateFormat sdf = new SimpleDateFormat(\"YYYY-mm-dd hh:mm:ss\");\n+\n+    public static synchronized @Nullable Date toDate(String dateTime) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6996467c5ab723d3e7402fb62dad898cfd382190"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjM1NDI2NA==", "bodyText": "You might want to log this error.", "url": "https://github.com/openhab/openhab-addons/pull/7914#discussion_r452354264", "createdAt": "2020-07-09T16:47:59Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.luftdateninfo/src/main/java/org/openhab/binding/luftdateninfo/internal/utils/DateTimeUtils.java", "diffHunk": "@@ -0,0 +1,38 @@\n+/**\n+ * Copyright (c) 2010-2020 Contributors to the openHAB project\n+ *\n+ * See the NOTICE file(s) distributed with this work for additional\n+ * information.\n+ *\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0\n+ *\n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.openhab.binding.luftdateninfo.internal.utils;\n+\n+import java.text.ParseException;\n+import java.text.SimpleDateFormat;\n+import java.util.Date;\n+\n+import org.eclipse.jdt.annotation.NonNullByDefault;\n+import org.eclipse.jdt.annotation.Nullable;\n+\n+/**\n+ * The {@link DateTimeUtils} class provides helpers for converting Dates and Times.\n+ *\n+ * @author Bernd Weymann - Initial contribution\n+ */\n+@NonNullByDefault\n+public class DateTimeUtils {\n+    private static SimpleDateFormat sdf = new SimpleDateFormat(\"YYYY-mm-dd hh:mm:ss\");\n+\n+    public static synchronized @Nullable Date toDate(String dateTime) {\n+        try {\n+            return sdf.parse(dateTime);\n+        } catch (ParseException | NumberFormatException e) {\n+            return null;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6996467c5ab723d3e7402fb62dad898cfd382190"}, "originalPosition": 35}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjM1NDkzMQ==", "bodyText": "Did this file found its way accidentally into your binding?", "url": "https://github.com/openhab/openhab-addons/pull/7914#discussion_r452354931", "createdAt": "2020-07-09T16:49:12Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.luftdateninfo/src/main/resources/ESH-INF/i18n/luftdateninfo_xx_XX.properties", "diffHunk": "@@ -0,0 +1,17 @@\n+# FIXME: please substitute the xx_XX with a proper locale, ie. de_DE", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6996467c5ab723d3e7402fb62dad898cfd382190"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjM1NTg3OQ==", "bodyText": "Is the sensor ID an integer?\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\t\t<parameter name=\"sensorid\" type=\"text\" required=\"true\">\n          \n          \n            \n            \t\t\t<parameter name=\"sensorid\" type=\"integer\" required=\"true\">", "url": "https://github.com/openhab/openhab-addons/pull/7914#discussion_r452355879", "createdAt": "2020-07-09T16:50:44Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.luftdateninfo/src/main/resources/ESH-INF/thing/thing-types.xml", "diffHunk": "@@ -0,0 +1,105 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<thing:thing-descriptions bindingId=\"luftdateninfo\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+\txmlns:thing=\"https://openhab.org/schemas/thing-description/v1.0.0\"\n+\txsi:schemaLocation=\"https://openhab.org/schemas/thing-description/v1.0.0 https://openhab.org/schemas/thing-description-1.0.0.xsd\">\n+\n+\t<thing-type id=\"particulate\">\n+\t\t<label>Particulate Sensor</label>\n+\t\t<description>Sensor to measure Particulate Matter (PM)</description>\n+\n+\t\t<channels>\n+\t\t\t<channel id=\"pm25\" typeId=\"pm25-channel\" />\n+\t\t\t<channel id=\"pm100\" typeId=\"pm100-channel\" />\n+\t\t</channels>\n+\n+\t\t<config-description>\n+\t\t\t<parameter name=\"sensorid\" type=\"text\" required=\"true\">\n+\t\t\t\t<label>Sensor ID</label>\n+\t\t\t\t<description>Sensor ID</description>\n+\t\t\t</parameter>\n+\t\t</config-description>\n+\t</thing-type>\n+\t\n+\t<thing-type id=\"conditions\">\n+\t\t<label>Condition Sensor</label>\n+\t\t<description>Sensor to measure Temperature and Humidity conditions</description>\n+\n+\t\t<channels>\n+\t\t\t<channel id=\"temperature\" typeId=\"temp-channel\" />\n+\t\t\t<channel id=\"humidity\" typeId=\"hum-channel\" />\n+\t\t\t<channel id=\"pressure\" typeId=\"pressure-channel\" />\n+\t\t\t<channel id=\"pressure-sea\" typeId=\"pressure-sea-channel\" />\n+\t\t</channels>\n+\n+\t\t<config-description>\n+\t\t\t<parameter name=\"sensorid\" type=\"text\" required=\"true\">", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6996467c5ab723d3e7402fb62dad898cfd382190"}, "originalPosition": 35}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjM1NjI5MQ==", "bodyText": "Units of Measure\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\t<label>Humidity</label>\n          \n          \n            \n            \t\t<label>Humidity:Dimensionless</label>", "url": "https://github.com/openhab/openhab-addons/pull/7914#discussion_r452356291", "createdAt": "2020-07-09T16:51:29Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.luftdateninfo/src/main/resources/ESH-INF/thing/thing-types.xml", "diffHunk": "@@ -0,0 +1,105 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<thing:thing-descriptions bindingId=\"luftdateninfo\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+\txmlns:thing=\"https://openhab.org/schemas/thing-description/v1.0.0\"\n+\txsi:schemaLocation=\"https://openhab.org/schemas/thing-description/v1.0.0 https://openhab.org/schemas/thing-description-1.0.0.xsd\">\n+\n+\t<thing-type id=\"particulate\">\n+\t\t<label>Particulate Sensor</label>\n+\t\t<description>Sensor to measure Particulate Matter (PM)</description>\n+\n+\t\t<channels>\n+\t\t\t<channel id=\"pm25\" typeId=\"pm25-channel\" />\n+\t\t\t<channel id=\"pm100\" typeId=\"pm100-channel\" />\n+\t\t</channels>\n+\n+\t\t<config-description>\n+\t\t\t<parameter name=\"sensorid\" type=\"text\" required=\"true\">\n+\t\t\t\t<label>Sensor ID</label>\n+\t\t\t\t<description>Sensor ID</description>\n+\t\t\t</parameter>\n+\t\t</config-description>\n+\t</thing-type>\n+\t\n+\t<thing-type id=\"conditions\">\n+\t\t<label>Condition Sensor</label>\n+\t\t<description>Sensor to measure Temperature and Humidity conditions</description>\n+\n+\t\t<channels>\n+\t\t\t<channel id=\"temperature\" typeId=\"temp-channel\" />\n+\t\t\t<channel id=\"humidity\" typeId=\"hum-channel\" />\n+\t\t\t<channel id=\"pressure\" typeId=\"pressure-channel\" />\n+\t\t\t<channel id=\"pressure-sea\" typeId=\"pressure-sea-channel\" />\n+\t\t</channels>\n+\n+\t\t<config-description>\n+\t\t\t<parameter name=\"sensorid\" type=\"text\" required=\"true\">\n+\t\t\t\t<label>Sensor ID</label>\n+\t\t\t\t<description>Sensor ID</description>\n+\t\t\t</parameter>\n+\t\t</config-description>\n+\t</thing-type>\n+\n+\t<thing-type id=\"noise\">\n+\t\t<label>Noise Sensor</label>\n+\t\t<description>Sensor to measure noise on location</description>\n+\n+\t\t<channels>\n+\t\t\t<channel id=\"noise-eq\" typeId=\"noise-eq-channel\" />\n+\t\t\t<channel id=\"noise-min\" typeId=\"noise-min-channel\" />\n+\t\t\t<channel id=\"noise-max\" typeId=\"noise-max-channel\" />\n+\t\t</channels>\n+\n+\t\t<config-description>\n+\t\t\t\t<parameter name=\"sensorid\" type=\"text\" required=\"true\">\n+\t\t\t\t<label>Sensor ID</label>\n+\t\t\t\t<description>Sensor ID</description>\n+\t\t\t</parameter>\n+\t\t</config-description>\n+\t</thing-type>\n+\n+\t<channel-type id=\"pm25-channel\">\n+\t\t<item-type>Number</item-type>\n+\t\t<label>PM 2.5</label>\n+\t\t<description>Particulate Matter 2.5</description>\n+\t</channel-type>\n+\t<channel-type id=\"pm100-channel\">\n+\t\t<item-type>Number</item-type>\n+\t\t<label>PM 10.0</label>\n+\t\t<description>Particulate Matter 10.0</description>\n+\t</channel-type>\n+\t<channel-type id=\"temp-channel\">\n+\t\t<item-type>Number</item-type>\n+\t\t<label>Temperature</label>\n+\t\t<description>Temperature from the selected Sensor ID</description>\n+\t</channel-type>\n+\t<channel-type id=\"hum-channel\">\n+\t\t<item-type>Number</item-type>\n+\t\t<label>Humidity</label>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6996467c5ab723d3e7402fb62dad898cfd382190"}, "originalPosition": 77}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjM1NzAzMg==", "bodyText": "Words in labels should be capitalized. See https://www.openhab.org/docs/developer/bindings/thing-xml.html#formatting-labels-and-descriptions", "url": "https://github.com/openhab/openhab-addons/pull/7914#discussion_r452357032", "createdAt": "2020-07-09T16:52:46Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.luftdateninfo/src/main/resources/ESH-INF/thing/thing-types.xml", "diffHunk": "@@ -0,0 +1,105 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<thing:thing-descriptions bindingId=\"luftdateninfo\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+\txmlns:thing=\"https://openhab.org/schemas/thing-description/v1.0.0\"\n+\txsi:schemaLocation=\"https://openhab.org/schemas/thing-description/v1.0.0 https://openhab.org/schemas/thing-description-1.0.0.xsd\">\n+\n+\t<thing-type id=\"particulate\">\n+\t\t<label>Particulate Sensor</label>\n+\t\t<description>Sensor to measure Particulate Matter (PM)</description>\n+\n+\t\t<channels>\n+\t\t\t<channel id=\"pm25\" typeId=\"pm25-channel\" />\n+\t\t\t<channel id=\"pm100\" typeId=\"pm100-channel\" />\n+\t\t</channels>\n+\n+\t\t<config-description>\n+\t\t\t<parameter name=\"sensorid\" type=\"text\" required=\"true\">\n+\t\t\t\t<label>Sensor ID</label>\n+\t\t\t\t<description>Sensor ID</description>\n+\t\t\t</parameter>\n+\t\t</config-description>\n+\t</thing-type>\n+\t\n+\t<thing-type id=\"conditions\">\n+\t\t<label>Condition Sensor</label>\n+\t\t<description>Sensor to measure Temperature and Humidity conditions</description>\n+\n+\t\t<channels>\n+\t\t\t<channel id=\"temperature\" typeId=\"temp-channel\" />\n+\t\t\t<channel id=\"humidity\" typeId=\"hum-channel\" />\n+\t\t\t<channel id=\"pressure\" typeId=\"pressure-channel\" />\n+\t\t\t<channel id=\"pressure-sea\" typeId=\"pressure-sea-channel\" />\n+\t\t</channels>\n+\n+\t\t<config-description>\n+\t\t\t<parameter name=\"sensorid\" type=\"text\" required=\"true\">\n+\t\t\t\t<label>Sensor ID</label>\n+\t\t\t\t<description>Sensor ID</description>\n+\t\t\t</parameter>\n+\t\t</config-description>\n+\t</thing-type>\n+\n+\t<thing-type id=\"noise\">\n+\t\t<label>Noise Sensor</label>\n+\t\t<description>Sensor to measure noise on location</description>\n+\n+\t\t<channels>\n+\t\t\t<channel id=\"noise-eq\" typeId=\"noise-eq-channel\" />\n+\t\t\t<channel id=\"noise-min\" typeId=\"noise-min-channel\" />\n+\t\t\t<channel id=\"noise-max\" typeId=\"noise-max-channel\" />\n+\t\t</channels>\n+\n+\t\t<config-description>\n+\t\t\t\t<parameter name=\"sensorid\" type=\"text\" required=\"true\">\n+\t\t\t\t<label>Sensor ID</label>\n+\t\t\t\t<description>Sensor ID</description>\n+\t\t\t</parameter>\n+\t\t</config-description>\n+\t</thing-type>\n+\n+\t<channel-type id=\"pm25-channel\">\n+\t\t<item-type>Number</item-type>\n+\t\t<label>PM 2.5</label>\n+\t\t<description>Particulate Matter 2.5</description>\n+\t</channel-type>\n+\t<channel-type id=\"pm100-channel\">\n+\t\t<item-type>Number</item-type>\n+\t\t<label>PM 10.0</label>\n+\t\t<description>Particulate Matter 10.0</description>\n+\t</channel-type>\n+\t<channel-type id=\"temp-channel\">\n+\t\t<item-type>Number</item-type>\n+\t\t<label>Temperature</label>\n+\t\t<description>Temperature from the selected Sensor ID</description>\n+\t</channel-type>\n+\t<channel-type id=\"hum-channel\">\n+\t\t<item-type>Number</item-type>\n+\t\t<label>Humidity</label>\n+\t\t<description>Humidity from the selected Sensor ID</description>\n+\t</channel-type>\n+\t<channel-type id=\"pressure-channel\">\n+\t\t<item-type>Number</item-type>\n+\t\t<label>Atmospheric Pressure</label>\n+\t\t<description>Atmospheric Pressure from the selected Sensor ID</description>\n+\t</channel-type>\n+\t<channel-type id=\"pressure-sea-channel\">\n+\t\t<item-type>Number</item-type>\n+\t\t<label>Atmospheric Pressure sea level</label>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6996467c5ab723d3e7402fb62dad898cfd382190"}, "originalPosition": 87}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjM1NzI3MA==", "bodyText": "Same for below\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\t<description>Minimum noise level (last 2,5 minutes) from the selected Sensor ID</description>\n          \n          \n            \n            \t\t<description>Minimum noise level (last 2.5 minutes) from the selected Sensor ID</description>", "url": "https://github.com/openhab/openhab-addons/pull/7914#discussion_r452357270", "createdAt": "2020-07-09T16:53:08Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.luftdateninfo/src/main/resources/ESH-INF/thing/thing-types.xml", "diffHunk": "@@ -0,0 +1,105 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<thing:thing-descriptions bindingId=\"luftdateninfo\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+\txmlns:thing=\"https://openhab.org/schemas/thing-description/v1.0.0\"\n+\txsi:schemaLocation=\"https://openhab.org/schemas/thing-description/v1.0.0 https://openhab.org/schemas/thing-description-1.0.0.xsd\">\n+\n+\t<thing-type id=\"particulate\">\n+\t\t<label>Particulate Sensor</label>\n+\t\t<description>Sensor to measure Particulate Matter (PM)</description>\n+\n+\t\t<channels>\n+\t\t\t<channel id=\"pm25\" typeId=\"pm25-channel\" />\n+\t\t\t<channel id=\"pm100\" typeId=\"pm100-channel\" />\n+\t\t</channels>\n+\n+\t\t<config-description>\n+\t\t\t<parameter name=\"sensorid\" type=\"text\" required=\"true\">\n+\t\t\t\t<label>Sensor ID</label>\n+\t\t\t\t<description>Sensor ID</description>\n+\t\t\t</parameter>\n+\t\t</config-description>\n+\t</thing-type>\n+\t\n+\t<thing-type id=\"conditions\">\n+\t\t<label>Condition Sensor</label>\n+\t\t<description>Sensor to measure Temperature and Humidity conditions</description>\n+\n+\t\t<channels>\n+\t\t\t<channel id=\"temperature\" typeId=\"temp-channel\" />\n+\t\t\t<channel id=\"humidity\" typeId=\"hum-channel\" />\n+\t\t\t<channel id=\"pressure\" typeId=\"pressure-channel\" />\n+\t\t\t<channel id=\"pressure-sea\" typeId=\"pressure-sea-channel\" />\n+\t\t</channels>\n+\n+\t\t<config-description>\n+\t\t\t<parameter name=\"sensorid\" type=\"text\" required=\"true\">\n+\t\t\t\t<label>Sensor ID</label>\n+\t\t\t\t<description>Sensor ID</description>\n+\t\t\t</parameter>\n+\t\t</config-description>\n+\t</thing-type>\n+\n+\t<thing-type id=\"noise\">\n+\t\t<label>Noise Sensor</label>\n+\t\t<description>Sensor to measure noise on location</description>\n+\n+\t\t<channels>\n+\t\t\t<channel id=\"noise-eq\" typeId=\"noise-eq-channel\" />\n+\t\t\t<channel id=\"noise-min\" typeId=\"noise-min-channel\" />\n+\t\t\t<channel id=\"noise-max\" typeId=\"noise-max-channel\" />\n+\t\t</channels>\n+\n+\t\t<config-description>\n+\t\t\t\t<parameter name=\"sensorid\" type=\"text\" required=\"true\">\n+\t\t\t\t<label>Sensor ID</label>\n+\t\t\t\t<description>Sensor ID</description>\n+\t\t\t</parameter>\n+\t\t</config-description>\n+\t</thing-type>\n+\n+\t<channel-type id=\"pm25-channel\">\n+\t\t<item-type>Number</item-type>\n+\t\t<label>PM 2.5</label>\n+\t\t<description>Particulate Matter 2.5</description>\n+\t</channel-type>\n+\t<channel-type id=\"pm100-channel\">\n+\t\t<item-type>Number</item-type>\n+\t\t<label>PM 10.0</label>\n+\t\t<description>Particulate Matter 10.0</description>\n+\t</channel-type>\n+\t<channel-type id=\"temp-channel\">\n+\t\t<item-type>Number</item-type>\n+\t\t<label>Temperature</label>\n+\t\t<description>Temperature from the selected Sensor ID</description>\n+\t</channel-type>\n+\t<channel-type id=\"hum-channel\">\n+\t\t<item-type>Number</item-type>\n+\t\t<label>Humidity</label>\n+\t\t<description>Humidity from the selected Sensor ID</description>\n+\t</channel-type>\n+\t<channel-type id=\"pressure-channel\">\n+\t\t<item-type>Number</item-type>\n+\t\t<label>Atmospheric Pressure</label>\n+\t\t<description>Atmospheric Pressure from the selected Sensor ID</description>\n+\t</channel-type>\n+\t<channel-type id=\"pressure-sea-channel\">\n+\t\t<item-type>Number</item-type>\n+\t\t<label>Atmospheric Pressure sea level</label>\n+\t\t<description>Atmospheric Pressure at sea level from the selected Sensor ID</description>\n+\t</channel-type>\n+\t<channel-type id=\"noise-eq-channel\">\n+\t\t<item-type>Number</item-type>\n+\t\t<label>Noise EQ</label>\n+\t\t<description>Average noise level from the selected Sensor ID</description>\n+\t</channel-type>\n+\t<channel-type id=\"noise-min-channel\">\n+\t\t<item-type>Number</item-type>\n+\t\t<label>Min Noise</label>\n+\t\t<description>Minimum noise level (last 2,5 minutes) from the selected Sensor ID</description>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6996467c5ab723d3e7402fb62dad898cfd382190"}, "originalPosition": 98}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjM1ODA1Mw==", "bodyText": "Can you remove this new line from your PR?", "url": "https://github.com/openhab/openhab-addons/pull/7914#discussion_r452358053", "createdAt": "2020-07-09T16:54:32Z", "author": {"login": "fwolter"}, "path": "bundles/pom.xml", "diffHunk": "@@ -1,5 +1,6 @@\n <?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?><project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n \n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6996467c5ab723d3e7402fb62dad898cfd382190"}, "originalPosition": 3}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d941afc698198703554f284f97adf205de87bf39", "author": {"user": {"login": "weymann", "name": "Bernd Weymann"}}, "url": "https://github.com/openhab/openhab-addons/commit/d941afc698198703554f284f97adf205de87bf39", "committedDate": "2020-07-11T14:59:04Z", "message": "Correct review findings"}, "afterCommit": {"oid": "c18d9a787490a08772cf9fdb3f0331ef46432701", "author": {"user": {"login": "weymann", "name": "Bernd Weymann"}}, "url": "https://github.com/openhab/openhab-addons/commit/c18d9a787490a08772cf9fdb3f0331ef46432701", "committedDate": "2020-07-11T15:06:00Z", "message": "Correct review findings\n\nSigned-off-by: Bernd <bernd.weymann@gmail.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c898ee51f9eb49c25468d9183c503d00128a6a73", "author": {"user": {"login": "weymann", "name": "Bernd Weymann"}}, "url": "https://github.com/openhab/openhab-addons/commit/c898ee51f9eb49c25468d9183c503d00128a6a73", "committedDate": "2020-07-11T21:56:52Z", "message": "Use SerializedName annotation to eliminate all checkstyle warnings"}, "afterCommit": {"oid": "9847b2b0eca6c09ec70ca98156ab7b4206f251c8", "author": {"user": {"login": "weymann", "name": "Bernd Weymann"}}, "url": "https://github.com/openhab/openhab-addons/commit/9847b2b0eca6c09ec70ca98156ab7b4206f251c8", "committedDate": "2020-07-11T21:58:45Z", "message": "Use SerializedName annotation to eliminate all checkstyle warnings\n\nSigned-off-by: Bernd <bernd.weymann@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ3NDg0MTM2", "url": "https://github.com/openhab/openhab-addons/pull/7914#pullrequestreview-447484136", "createdAt": "2020-07-13T18:09:49Z", "commit": {"oid": "c5894e846a920e09e59ce28dd5a6a3ad158a0229"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QxODowOTo0OVrOGwz9lA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QxODozMzozMFrOGw00Jg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzgzNjE4MA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            With this binding you can integrate your sensor, a sensor nearby or even any sensors you want into openhab.\n          \n          \n            \n            With this binding you can integrate your sensor, a sensor nearby or even any sensors you want into openHAB.", "url": "https://github.com/openhab/openhab-addons/pull/7914#discussion_r453836180", "createdAt": "2020-07-13T18:09:49Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.luftdateninfo/README.md", "diffHunk": "@@ -0,0 +1,113 @@\n+# LuftdatenInfo Binding\n+\n+<img style=\"float: right;\" src=\"doc/logo-rund.png\">\n+Binding for the Sensor Community <a href=https://luftdaten.info/>luftdaten.info</a>. The community provides instructions to build sensors on your own and they can be integrated into the database.\n+With this binding you can integrate your sensor, a sensor nearby or even any sensors you want into openhab.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c5894e846a920e09e59ce28dd5a6a3ad158a0229"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzgzNjgwMw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            * Choose your wanted value in bottom list - now only the Sensors are displayed which are supporting this\n          \n          \n            \n            * Choose your desired value in bottom list - now only the Sensors are displayed which are supporting this", "url": "https://github.com/openhab/openhab-addons/pull/7914#discussion_r453836803", "createdAt": "2020-07-13T18:10:56Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.luftdateninfo/README.md", "diffHunk": "@@ -0,0 +1,113 @@\n+# LuftdatenInfo Binding\n+\n+<img style=\"float: right;\" src=\"doc/logo-rund.png\">\n+Binding for the Sensor Community <a href=https://luftdaten.info/>luftdaten.info</a>. The community provides instructions to build sensors on your own and they can be integrated into the database.\n+With this binding you can integrate your sensor, a sensor nearby or even any sensors you want into openhab.\n+\n+## Supported Things\n+\n+Three Things are supported\n+\n+| Name               | Thing Type ID | Description                                                                                            |\n+|--------------------|---------------|--------------------------------------------------------------------------------------------------------|\n+| Particulate Sensor | particulate   | measure particulate matter PM2.5 and PM10                                                              |\n+| Conditions Sensor  | condition     | measures environment conditions like temperature, humidity and some also provides atmospheric pressure |\n+| Noise Sensor       | noise         | measures noise exposures in the environment                                                            |\n+\n+## Discovery\n+\n+There's no auto discovery. See Thing configuration how to setup a Sensor.\n+\n+## Thing Configuration\n+\n+| Parameter       | Description                                                          |\n+|-----------------|----------------------------------------------------------------------|\n+| sensorid        | Sensor ID obtained from https://deutschland.maps.sensor.community/   |\n+\n+Perform the following steps to get the appropriate Sensor ID\n+\n+* Go to to [luftdaten.info map](https://deutschland.maps.sensor.community/)\n+* Choose your wanted value in bottom list - now only the Sensors are displayed which are supporting this", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c5894e846a920e09e59ce28dd5a6a3ad158a0229"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzgzNjg4Nw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            * Click on your / any Sensor and the ID is displayed in the top right corner.Note: Sensor ID is just the number without beginning hash #\n          \n          \n            \n            * Click on your / any Sensor and the ID is displayed in the top right corner. Note: Sensor ID is just the number without beginning hash #", "url": "https://github.com/openhab/openhab-addons/pull/7914#discussion_r453836887", "createdAt": "2020-07-13T18:11:05Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.luftdateninfo/README.md", "diffHunk": "@@ -0,0 +1,113 @@\n+# LuftdatenInfo Binding\n+\n+<img style=\"float: right;\" src=\"doc/logo-rund.png\">\n+Binding for the Sensor Community <a href=https://luftdaten.info/>luftdaten.info</a>. The community provides instructions to build sensors on your own and they can be integrated into the database.\n+With this binding you can integrate your sensor, a sensor nearby or even any sensors you want into openhab.\n+\n+## Supported Things\n+\n+Three Things are supported\n+\n+| Name               | Thing Type ID | Description                                                                                            |\n+|--------------------|---------------|--------------------------------------------------------------------------------------------------------|\n+| Particulate Sensor | particulate   | measure particulate matter PM2.5 and PM10                                                              |\n+| Conditions Sensor  | condition     | measures environment conditions like temperature, humidity and some also provides atmospheric pressure |\n+| Noise Sensor       | noise         | measures noise exposures in the environment                                                            |\n+\n+## Discovery\n+\n+There's no auto discovery. See Thing configuration how to setup a Sensor.\n+\n+## Thing Configuration\n+\n+| Parameter       | Description                                                          |\n+|-----------------|----------------------------------------------------------------------|\n+| sensorid        | Sensor ID obtained from https://deutschland.maps.sensor.community/   |\n+\n+Perform the following steps to get the appropriate Sensor ID\n+\n+* Go to to [luftdaten.info map](https://deutschland.maps.sensor.community/)\n+* Choose your wanted value in bottom list - now only the Sensors are displayed which are supporting this\n+* Click on your / any Sensor and the ID is displayed in the top right corner.Note: Sensor ID is just the number without beginning hash #", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c5894e846a920e09e59ce28dd5a6a3ad158a0229"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzgzNzg5MA==", "bodyText": "The user can choose the unit himself now, due to Units of Measure.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            | temperature          | Number:Temperature   | current temperature in degrees Celsius |\n          \n          \n            \n            | temperature          | Number:Temperature   | current temperature |", "url": "https://github.com/openhab/openhab-addons/pull/7914#discussion_r453837890", "createdAt": "2020-07-13T18:12:56Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.luftdateninfo/README.md", "diffHunk": "@@ -0,0 +1,113 @@\n+# LuftdatenInfo Binding\n+\n+<img style=\"float: right;\" src=\"doc/logo-rund.png\">\n+Binding for the Sensor Community <a href=https://luftdaten.info/>luftdaten.info</a>. The community provides instructions to build sensors on your own and they can be integrated into the database.\n+With this binding you can integrate your sensor, a sensor nearby or even any sensors you want into openhab.\n+\n+## Supported Things\n+\n+Three Things are supported\n+\n+| Name               | Thing Type ID | Description                                                                                            |\n+|--------------------|---------------|--------------------------------------------------------------------------------------------------------|\n+| Particulate Sensor | particulate   | measure particulate matter PM2.5 and PM10                                                              |\n+| Conditions Sensor  | condition     | measures environment conditions like temperature, humidity and some also provides atmospheric pressure |\n+| Noise Sensor       | noise         | measures noise exposures in the environment                                                            |\n+\n+## Discovery\n+\n+There's no auto discovery. See Thing configuration how to setup a Sensor.\n+\n+## Thing Configuration\n+\n+| Parameter       | Description                                                          |\n+|-----------------|----------------------------------------------------------------------|\n+| sensorid        | Sensor ID obtained from https://deutschland.maps.sensor.community/   |\n+\n+Perform the following steps to get the appropriate Sensor ID\n+\n+* Go to to [luftdaten.info map](https://deutschland.maps.sensor.community/)\n+* Choose your wanted value in bottom list - now only the Sensors are displayed which are supporting this\n+* Click on your / any Sensor and the ID is displayed in the top right corner.Note: Sensor ID is just the number without beginning hash #\n+* Enter this Sensor ID into the thing configuration\n+\n+![Luftdaten.info Logo](doc/LuftdatenInfo-Map.png)\n+\n+## Channels\n+\n+### Particulate Sensor \n+\n+| Channel ID           | Item Type            | Description                              |\n+|----------------------|----------------------|------------------------------------------|\n+| pm25                 | Number:Density       | [Ultrafine particulates](https://en.wikipedia.org/wiki/Particulates#Size,_shape_and_solubility_matter) microgram per cubic meter |\n+| pm100                | Number:Density       | [Coarse particulate matter](https://en.wikipedia.org/wiki/Particulates#Size,_shape_and_solubility_matter) microgram per cubic meter  |\n+\n+### Conditions Sensor \n+\n+| Channel ID           | Item Type            | Description                              |\n+|----------------------|----------------------|------------------------------------------|\n+| temperature          | Number:Temperature   | current temperature in degrees Celsius |", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c5894e846a920e09e59ce28dd5a6a3ad158a0229"}, "originalPosition": 49}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mzg0MDY0Mg==", "bodyText": "Syntactical sugar\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                @SerializedName(value = \"exact_location\")\n          \n          \n            \n                @SerializedName(\"exact_location\")", "url": "https://github.com/openhab/openhab-addons/pull/7914#discussion_r453840642", "createdAt": "2020-07-13T18:17:38Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.luftdateninfo/src/main/java/org/openhab/binding/luftdateninfo/internal/dto/Location.java", "diffHunk": "@@ -0,0 +1,87 @@\n+/**\n+ * Copyright (c) 2010-2020 Contributors to the openHAB project\n+ *\n+ * See the NOTICE file(s) distributed with this work for additional\n+ * information.\n+ *\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0\n+ *\n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.openhab.binding.luftdateninfo.internal.dto;\n+\n+import com.google.gson.annotations.SerializedName;\n+\n+/**\n+ * The {@link LuftdatenInfo} class definition for Logging identification\n+ *\n+ * @author Bernd Weymann - Initial contribution\n+ */\n+public class Location {\n+    private int id;\n+    private String country;\n+    private String altitude;\n+    private String latitude;\n+    private String longitude;\n+    private int indoor;\n+    @SerializedName(value = \"exact_location\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c5894e846a920e09e59ce28dd5a6a3ad158a0229"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mzg0MDg5OQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                public void setExactLocation(Integer exactLocation) {\n          \n          \n            \n                public void setExactLocation(int exactLocation) {", "url": "https://github.com/openhab/openhab-addons/pull/7914#discussion_r453840899", "createdAt": "2020-07-13T18:18:05Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.luftdateninfo/src/main/java/org/openhab/binding/luftdateninfo/internal/dto/Location.java", "diffHunk": "@@ -0,0 +1,87 @@\n+/**\n+ * Copyright (c) 2010-2020 Contributors to the openHAB project\n+ *\n+ * See the NOTICE file(s) distributed with this work for additional\n+ * information.\n+ *\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0\n+ *\n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.openhab.binding.luftdateninfo.internal.dto;\n+\n+import com.google.gson.annotations.SerializedName;\n+\n+/**\n+ * The {@link LuftdatenInfo} class definition for Logging identification\n+ *\n+ * @author Bernd Weymann - Initial contribution\n+ */\n+public class Location {\n+    private int id;\n+    private String country;\n+    private String altitude;\n+    private String latitude;\n+    private String longitude;\n+    private int indoor;\n+    @SerializedName(value = \"exact_location\")\n+    private int exactLocation;\n+\n+    public int getId() {\n+        return id;\n+    }\n+\n+    public void setId(int id) {\n+        this.id = id;\n+    }\n+\n+    public String getCountry() {\n+        return country;\n+    }\n+\n+    public void setCountry(String country) {\n+        this.country = country;\n+    }\n+\n+    public String getAltitude() {\n+        return altitude;\n+    }\n+\n+    public void setAltitude(String altitude) {\n+        this.altitude = altitude;\n+    }\n+\n+    public String getLatitude() {\n+        return latitude;\n+    }\n+\n+    public void setLatitude(String latitude) {\n+        this.latitude = latitude;\n+    }\n+\n+    public String getLongitude() {\n+        return longitude;\n+    }\n+\n+    public void setLongitude(String longitude) {\n+        this.longitude = longitude;\n+    }\n+\n+    public Integer getIndoor() {\n+        return indoor;\n+    }\n+\n+    public void setIndoor(int indoor) {\n+        this.indoor = indoor;\n+    }\n+\n+    public int getExactLocation() {\n+        return exactLocation;\n+    }\n+\n+    public void setExactLocation(Integer exactLocation) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c5894e846a920e09e59ce28dd5a6a3ad158a0229"}, "originalPosition": 84}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mzg0MjgwNQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                    logger.warn(\"No values deliverd by Sensor.  Trying to recover in next refresh\");\n          \n          \n            \n                                    logger.warn(\"No values delivered by Sensor. Trying to recover in next refresh\");", "url": "https://github.com/openhab/openhab-addons/pull/7914#discussion_r453842805", "createdAt": "2020-07-13T18:21:27Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.luftdateninfo/src/main/java/org/openhab/binding/luftdateninfo/internal/handler/BaseSensorHandler.java", "diffHunk": "@@ -0,0 +1,187 @@\n+/**\n+ * Copyright (c) 2010-2020 Contributors to the openHAB project\n+ *\n+ * See the NOTICE file(s) distributed with this work for additional\n+ * information.\n+ *\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0\n+ *\n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.openhab.binding.luftdateninfo.internal.handler;\n+\n+import java.util.concurrent.ScheduledFuture;\n+import java.util.concurrent.TimeUnit;\n+\n+import org.eclipse.jdt.annotation.NonNullByDefault;\n+import org.eclipse.jdt.annotation.Nullable;\n+import org.eclipse.smarthome.core.thing.ChannelUID;\n+import org.eclipse.smarthome.core.thing.Thing;\n+import org.eclipse.smarthome.core.thing.ThingStatus;\n+import org.eclipse.smarthome.core.thing.binding.BaseThingHandler;\n+import org.eclipse.smarthome.core.types.Command;\n+import org.eclipse.smarthome.core.types.RefreshType;\n+import org.openhab.binding.luftdateninfo.internal.LuftdatenInfoConfiguration;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+/**\n+ * The {@link PMHandler} is responsible for handling commands, which are\n+ * sent to one of the channels.\n+ *\n+ * @author Bernd Weymann - Initial contribution\n+ */\n+@NonNullByDefault\n+public abstract class BaseSensorHandler extends BaseThingHandler {\n+\n+    protected static final int REFRESH_INTERVAL_MIN = 5;\n+    protected static final HTTPHandler HTTP = new HTTPHandler();\n+    private static final LuftdatenInfoConfiguration DEFAULT_CONFIG = new LuftdatenInfoConfiguration();\n+    protected final Logger logger = LoggerFactory.getLogger(BaseSensorHandler.class);\n+\n+    protected LuftdatenInfoConfiguration config = DEFAULT_CONFIG;\n+    protected @Nullable ScheduledFuture<?> refreshJob;\n+\n+    protected ConfigStatus configStatus = ConfigStatus.UNKNOWN;\n+\n+    public enum ConfigStatus {\n+        OK,\n+        IS_NULL,\n+        SENSOR_IS_NULL,\n+        SENSOR_NOT_A_NUMBER,\n+        UNKNOWN\n+    };\n+\n+    protected UpdateStatus updateStatus = UpdateStatus.UNKNOWN;\n+\n+    public enum UpdateStatus {\n+        OK,\n+        CONNECTION_ERROR,\n+        VALUE_ERROR,\n+        VALUE_EMPTY,\n+        UNKNOWN\n+    }\n+\n+    protected LifecycleStatus lifecycleStatus = LifecycleStatus.UNKNOWN;\n+\n+    public enum LifecycleStatus {\n+        UNKNOWN,\n+        RUNNING,\n+        INITIALIZING,\n+        DISPOSED\n+    }\n+\n+    public BaseSensorHandler(Thing thing) {\n+        super(thing);\n+    }\n+\n+    @Override\n+    public void handleCommand(ChannelUID channelUID, Command command) {\n+        if (command instanceof RefreshType) {\n+            updateFromCache();\n+        }\n+    }\n+\n+    @Override\n+    public void initialize() {\n+        lifecycleStatus = LifecycleStatus.INITIALIZING;\n+        scheduler.execute(() -> {\n+            startUp();\n+        });\n+    }\n+\n+    private void startUp() {\n+        config = getConfigAs(LuftdatenInfoConfiguration.class);\n+        configStatus = checkConfig(config);\n+        if (configStatus == ConfigStatus.OK) {\n+            update();\n+            if (updateStatus == UpdateStatus.OK) {\n+                updateStatus(ThingStatus.ONLINE);\n+                logger.debug(\"Start refresh job at interval {} min.\", REFRESH_INTERVAL_MIN);\n+                startSchedule();\n+            } else {\n+                switch (updateStatus) {\n+                    case CONNECTION_ERROR:\n+                        logger.warn(\"Update failed due to Connection error. Trying to recover in next refresh\");\n+                        // start job even if first update isn't valid\n+                        startSchedule();\n+                        updateStatus(ThingStatus.OFFLINE);\n+                        break;\n+                    case VALUE_EMPTY:\n+                        logger.warn(\"No values deliverd by Sensor.  Trying to recover in next refresh\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c5894e846a920e09e59ce28dd5a6a3ad158a0229"}, "originalPosition": 113}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mzg0MzY5MQ==", "bodyText": "You could feed the message into updateStatus() to display it in PaperUI. Then, the log message can be removed, since the framework is logging it. Same for the others.", "url": "https://github.com/openhab/openhab-addons/pull/7914#discussion_r453843691", "createdAt": "2020-07-13T18:23:04Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.luftdateninfo/src/main/java/org/openhab/binding/luftdateninfo/internal/handler/BaseSensorHandler.java", "diffHunk": "@@ -0,0 +1,187 @@\n+/**\n+ * Copyright (c) 2010-2020 Contributors to the openHAB project\n+ *\n+ * See the NOTICE file(s) distributed with this work for additional\n+ * information.\n+ *\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0\n+ *\n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.openhab.binding.luftdateninfo.internal.handler;\n+\n+import java.util.concurrent.ScheduledFuture;\n+import java.util.concurrent.TimeUnit;\n+\n+import org.eclipse.jdt.annotation.NonNullByDefault;\n+import org.eclipse.jdt.annotation.Nullable;\n+import org.eclipse.smarthome.core.thing.ChannelUID;\n+import org.eclipse.smarthome.core.thing.Thing;\n+import org.eclipse.smarthome.core.thing.ThingStatus;\n+import org.eclipse.smarthome.core.thing.binding.BaseThingHandler;\n+import org.eclipse.smarthome.core.types.Command;\n+import org.eclipse.smarthome.core.types.RefreshType;\n+import org.openhab.binding.luftdateninfo.internal.LuftdatenInfoConfiguration;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+/**\n+ * The {@link PMHandler} is responsible for handling commands, which are\n+ * sent to one of the channels.\n+ *\n+ * @author Bernd Weymann - Initial contribution\n+ */\n+@NonNullByDefault\n+public abstract class BaseSensorHandler extends BaseThingHandler {\n+\n+    protected static final int REFRESH_INTERVAL_MIN = 5;\n+    protected static final HTTPHandler HTTP = new HTTPHandler();\n+    private static final LuftdatenInfoConfiguration DEFAULT_CONFIG = new LuftdatenInfoConfiguration();\n+    protected final Logger logger = LoggerFactory.getLogger(BaseSensorHandler.class);\n+\n+    protected LuftdatenInfoConfiguration config = DEFAULT_CONFIG;\n+    protected @Nullable ScheduledFuture<?> refreshJob;\n+\n+    protected ConfigStatus configStatus = ConfigStatus.UNKNOWN;\n+\n+    public enum ConfigStatus {\n+        OK,\n+        IS_NULL,\n+        SENSOR_IS_NULL,\n+        SENSOR_NOT_A_NUMBER,\n+        UNKNOWN\n+    };\n+\n+    protected UpdateStatus updateStatus = UpdateStatus.UNKNOWN;\n+\n+    public enum UpdateStatus {\n+        OK,\n+        CONNECTION_ERROR,\n+        VALUE_ERROR,\n+        VALUE_EMPTY,\n+        UNKNOWN\n+    }\n+\n+    protected LifecycleStatus lifecycleStatus = LifecycleStatus.UNKNOWN;\n+\n+    public enum LifecycleStatus {\n+        UNKNOWN,\n+        RUNNING,\n+        INITIALIZING,\n+        DISPOSED\n+    }\n+\n+    public BaseSensorHandler(Thing thing) {\n+        super(thing);\n+    }\n+\n+    @Override\n+    public void handleCommand(ChannelUID channelUID, Command command) {\n+        if (command instanceof RefreshType) {\n+            updateFromCache();\n+        }\n+    }\n+\n+    @Override\n+    public void initialize() {\n+        lifecycleStatus = LifecycleStatus.INITIALIZING;\n+        scheduler.execute(() -> {\n+            startUp();\n+        });\n+    }\n+\n+    private void startUp() {\n+        config = getConfigAs(LuftdatenInfoConfiguration.class);\n+        configStatus = checkConfig(config);\n+        if (configStatus == ConfigStatus.OK) {\n+            update();\n+            if (updateStatus == UpdateStatus.OK) {\n+                updateStatus(ThingStatus.ONLINE);\n+                logger.debug(\"Start refresh job at interval {} min.\", REFRESH_INTERVAL_MIN);\n+                startSchedule();\n+            } else {\n+                switch (updateStatus) {\n+                    case CONNECTION_ERROR:\n+                        logger.warn(\"Update failed due to Connection error. Trying to recover in next refresh\");\n+                        // start job even if first update isn't valid\n+                        startSchedule();\n+                        updateStatus(ThingStatus.OFFLINE);\n+                        break;\n+                    case VALUE_EMPTY:\n+                        logger.warn(\"No values deliverd by Sensor.  Trying to recover in next refresh\");\n+                        // start job even if first update isn't valid\n+                        startSchedule();\n+                        updateStatus(ThingStatus.ONLINE);\n+                        break;\n+                    case VALUE_ERROR:\n+                        logger.warn(\n+                                \"Sensor values doesn't match - please check if Sensor ID is delivering the correct Thing channel values\");\n+                        updateStatus(ThingStatus.OFFLINE);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c5894e846a920e09e59ce28dd5a6a3ad158a0229"}, "originalPosition": 121}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mzg0Njc3NA==", "bodyText": "Next time implementing a static only class, you could take a look at the singleton pattern. That'd be a better object oriented programming approach.", "url": "https://github.com/openhab/openhab-addons/pull/7914#discussion_r453846774", "createdAt": "2020-07-13T18:28:12Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.luftdateninfo/src/main/java/org/openhab/binding/luftdateninfo/internal/handler/HTTPHandler.java", "diffHunk": "@@ -0,0 +1,159 @@\n+/**\n+ * Copyright (c) 2010-2020 Contributors to the openHAB project\n+ *\n+ * See the NOTICE file(s) distributed with this work for additional\n+ * information.\n+ *\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0\n+ *\n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.openhab.binding.luftdateninfo.internal.handler;\n+\n+import java.util.Date;\n+import java.util.List;\n+import java.util.concurrent.ExecutionException;\n+import java.util.concurrent.TimeUnit;\n+import java.util.concurrent.TimeoutException;\n+\n+import org.eclipse.jdt.annotation.NonNullByDefault;\n+import org.eclipse.jdt.annotation.Nullable;\n+import org.eclipse.jetty.client.HttpClient;\n+import org.eclipse.jetty.client.api.ContentResponse;\n+import org.openhab.binding.luftdateninfo.internal.dto.SensorData;\n+import org.openhab.binding.luftdateninfo.internal.dto.SensorDataValue;\n+import org.openhab.binding.luftdateninfo.internal.utils.DateTimeUtils;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+import com.google.gson.Gson;\n+\n+/**\n+ * The {@link HTTPHandler} is responsible for HTTP requests and JSON handling\n+ *\n+ * @author Bernd Weymann - Initial contribution\n+ */\n+@NonNullByDefault\n+public class HTTPHandler {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c5894e846a920e09e59ce28dd5a6a3ad158a0229"}, "originalPosition": 39}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mzg0ODk2NA==", "bodyText": "Same for the others.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\t<item-type>Number</item-type>\n          \n          \n            \n            \t\t<label>PM 2.5:Density</label>\n          \n          \n            \n            \t\t<item-type>Number:Density</item-type>\n          \n          \n            \n            \t\t<label>PM 2.5</label>", "url": "https://github.com/openhab/openhab-addons/pull/7914#discussion_r453848964", "createdAt": "2020-07-13T18:31:35Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.luftdateninfo/src/main/resources/ESH-INF/thing/thing-types.xml", "diffHunk": "@@ -0,0 +1,106 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<thing:thing-descriptions bindingId=\"luftdateninfo\"\n+\txmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+\txmlns:thing=\"https://openhab.org/schemas/thing-description/v1.0.0\"\n+\txsi:schemaLocation=\"https://openhab.org/schemas/thing-description/v1.0.0 https://openhab.org/schemas/thing-description-1.0.0.xsd\">\n+\n+\t<thing-type id=\"particulate\">\n+\t\t<label>Particulate Sensor</label>\n+\t\t<description>Sensor to measure Particulate Matter (PM)</description>\n+\n+\t\t<channels>\n+\t\t\t<channel id=\"pm25\" typeId=\"pm25-channel\"/>\n+\t\t\t<channel id=\"pm100\" typeId=\"pm100-channel\"/>\n+\t\t</channels>\n+\n+\t\t<config-description>\n+\t\t\t<parameter name=\"sensorid\" type=\"integer\" required=\"true\">\n+\t\t\t\t<label>Sensor ID</label>\n+\t\t\t\t<description>Sensor ID</description>\n+\t\t\t</parameter>\n+\t\t</config-description>\n+\t</thing-type>\n+\n+\t<thing-type id=\"conditions\">\n+\t\t<label>Condition Sensor</label>\n+\t\t<description>Sensor to measure Temperature and Humidity conditions</description>\n+\n+\t\t<channels>\n+\t\t\t<channel id=\"temperature\" typeId=\"temp-channel\"/>\n+\t\t\t<channel id=\"humidity\" typeId=\"hum-channel\"/>\n+\t\t\t<channel id=\"pressure\" typeId=\"pressure-channel\"/>\n+\t\t\t<channel id=\"pressure-sea\" typeId=\"pressure-sea-channel\"/>\n+\t\t</channels>\n+\n+\t\t<config-description>\n+\t\t\t<parameter name=\"sensorid\" type=\"integer\" required=\"true\">\n+\t\t\t\t<label>Sensor ID</label>\n+\t\t\t\t<description>Sensor ID</description>\n+\t\t\t</parameter>\n+\t\t</config-description>\n+\t</thing-type>\n+\n+\t<thing-type id=\"noise\">\n+\t\t<label>Noise Sensor</label>\n+\t\t<description>Sensor to measure noise on location</description>\n+\n+\t\t<channels>\n+\t\t\t<channel id=\"noise-eq\" typeId=\"noise-eq-channel\"/>\n+\t\t\t<channel id=\"noise-min\" typeId=\"noise-min-channel\"/>\n+\t\t\t<channel id=\"noise-max\" typeId=\"noise-max-channel\"/>\n+\t\t</channels>\n+\n+\t\t<config-description>\n+\t\t\t<parameter name=\"sensorid\" type=\"integer\" required=\"true\">\n+\t\t\t\t<label>Sensor ID</label>\n+\t\t\t\t<description>Sensor ID</description>\n+\t\t\t</parameter>\n+\t\t</config-description>\n+\t</thing-type>\n+\n+\t<channel-type id=\"pm25-channel\">\n+\t\t<item-type>Number</item-type>\n+\t\t<label>PM 2.5:Density</label>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c5894e846a920e09e59ce28dd5a6a3ad158a0229"}, "originalPosition": 63}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mzg0OTM3MA==", "bodyText": "This can be removed. Same for below.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\t<description>Minimum noise level (last 2.5 minutes:Dimensionless) from the selected Sensor ID</description>\n          \n          \n            \n            \t\t<description>Minimum noise level (last 2.5 minutes) from the selected Sensor ID</description>", "url": "https://github.com/openhab/openhab-addons/pull/7914#discussion_r453849370", "createdAt": "2020-07-13T18:32:18Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.luftdateninfo/src/main/resources/ESH-INF/thing/thing-types.xml", "diffHunk": "@@ -0,0 +1,106 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<thing:thing-descriptions bindingId=\"luftdateninfo\"\n+\txmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+\txmlns:thing=\"https://openhab.org/schemas/thing-description/v1.0.0\"\n+\txsi:schemaLocation=\"https://openhab.org/schemas/thing-description/v1.0.0 https://openhab.org/schemas/thing-description-1.0.0.xsd\">\n+\n+\t<thing-type id=\"particulate\">\n+\t\t<label>Particulate Sensor</label>\n+\t\t<description>Sensor to measure Particulate Matter (PM)</description>\n+\n+\t\t<channels>\n+\t\t\t<channel id=\"pm25\" typeId=\"pm25-channel\"/>\n+\t\t\t<channel id=\"pm100\" typeId=\"pm100-channel\"/>\n+\t\t</channels>\n+\n+\t\t<config-description>\n+\t\t\t<parameter name=\"sensorid\" type=\"integer\" required=\"true\">\n+\t\t\t\t<label>Sensor ID</label>\n+\t\t\t\t<description>Sensor ID</description>\n+\t\t\t</parameter>\n+\t\t</config-description>\n+\t</thing-type>\n+\n+\t<thing-type id=\"conditions\">\n+\t\t<label>Condition Sensor</label>\n+\t\t<description>Sensor to measure Temperature and Humidity conditions</description>\n+\n+\t\t<channels>\n+\t\t\t<channel id=\"temperature\" typeId=\"temp-channel\"/>\n+\t\t\t<channel id=\"humidity\" typeId=\"hum-channel\"/>\n+\t\t\t<channel id=\"pressure\" typeId=\"pressure-channel\"/>\n+\t\t\t<channel id=\"pressure-sea\" typeId=\"pressure-sea-channel\"/>\n+\t\t</channels>\n+\n+\t\t<config-description>\n+\t\t\t<parameter name=\"sensorid\" type=\"integer\" required=\"true\">\n+\t\t\t\t<label>Sensor ID</label>\n+\t\t\t\t<description>Sensor ID</description>\n+\t\t\t</parameter>\n+\t\t</config-description>\n+\t</thing-type>\n+\n+\t<thing-type id=\"noise\">\n+\t\t<label>Noise Sensor</label>\n+\t\t<description>Sensor to measure noise on location</description>\n+\n+\t\t<channels>\n+\t\t\t<channel id=\"noise-eq\" typeId=\"noise-eq-channel\"/>\n+\t\t\t<channel id=\"noise-min\" typeId=\"noise-min-channel\"/>\n+\t\t\t<channel id=\"noise-max\" typeId=\"noise-max-channel\"/>\n+\t\t</channels>\n+\n+\t\t<config-description>\n+\t\t\t<parameter name=\"sensorid\" type=\"integer\" required=\"true\">\n+\t\t\t\t<label>Sensor ID</label>\n+\t\t\t\t<description>Sensor ID</description>\n+\t\t\t</parameter>\n+\t\t</config-description>\n+\t</thing-type>\n+\n+\t<channel-type id=\"pm25-channel\">\n+\t\t<item-type>Number</item-type>\n+\t\t<label>PM 2.5:Density</label>\n+\t\t<description>Particulate Matter 2.5</description>\n+\t</channel-type>\n+\t<channel-type id=\"pm100-channel\">\n+\t\t<item-type>Number</item-type>\n+\t\t<label>PM 10.0:Density</label>\n+\t\t<description>Particulate Matter 10.0</description>\n+\t</channel-type>\n+\t<channel-type id=\"temp-channel\">\n+\t\t<item-type>Number</item-type>\n+\t\t<label>Temperature:Temperature</label>\n+\t\t<description>Temperature from the selected Sensor ID</description>\n+\t</channel-type>\n+\t<channel-type id=\"hum-channel\">\n+\t\t<item-type>Number</item-type>\n+\t\t<label>Humidity:Dimensionless</label>\n+\t\t<description>Humidity from the selected Sensor ID</description>\n+\t</channel-type>\n+\t<channel-type id=\"pressure-channel\">\n+\t\t<item-type>Number</item-type>\n+\t\t<label>Atmospheric Pressure:Pressure</label>\n+\t\t<description>Atmospheric Pressure from the selected Sensor ID</description>\n+\t</channel-type>\n+\t<channel-type id=\"pressure-sea-channel\">\n+\t\t<item-type>Number</item-type>\n+\t\t<label>Atmospheric Pressure Sea Level:Pressure</label>\n+\t\t<description>Atmospheric Pressure at sea level from the selected Sensor ID</description>\n+\t</channel-type>\n+\t<channel-type id=\"noise-eq-channel\">\n+\t\t<item-type>Number</item-type>\n+\t\t<label>Noise EQ:Dimensionless</label>\n+\t\t<description>Average noise level from the selected Sensor ID</description>\n+\t</channel-type>\n+\t<channel-type id=\"noise-min-channel\">\n+\t\t<item-type>Number</item-type>\n+\t\t<label>Min Noise:Dimensionless</label>\n+\t\t<description>Minimum noise level (last 2.5 minutes:Dimensionless) from the selected Sensor ID</description>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c5894e846a920e09e59ce28dd5a6a3ad158a0229"}, "originalPosition": 99}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mzg1MDE1MA==", "bodyText": "Can the comment be removed?", "url": "https://github.com/openhab/openhab-addons/pull/7914#discussion_r453850150", "createdAt": "2020-07-13T18:33:30Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.luftdateninfo/src/test/java/org/openhab/binding/luftdateninfo/internal/mock/ThingMock.java", "diffHunk": "@@ -0,0 +1,149 @@\n+/**\n+ * Copyright (c) 2010-2020 Contributors to the openHAB project\n+ *\n+ * See the NOTICE file(s) distributed with this work for additional\n+ * information.\n+ *\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0\n+ *\n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.openhab.binding.luftdateninfo.internal.mock;\n+\n+import java.util.ArrayList;\n+import java.util.HashMap;\n+import java.util.List;\n+import java.util.Map;\n+\n+import org.eclipse.jdt.annotation.NonNullByDefault;\n+import org.eclipse.jdt.annotation.Nullable;\n+import org.eclipse.smarthome.config.core.Configuration;\n+import org.eclipse.smarthome.core.thing.Channel;\n+import org.eclipse.smarthome.core.thing.ChannelUID;\n+import org.eclipse.smarthome.core.thing.Thing;\n+import org.eclipse.smarthome.core.thing.ThingStatus;\n+import org.eclipse.smarthome.core.thing.ThingStatusDetail;\n+import org.eclipse.smarthome.core.thing.ThingStatusInfo;\n+import org.eclipse.smarthome.core.thing.ThingTypeUID;\n+import org.eclipse.smarthome.core.thing.ThingUID;\n+import org.eclipse.smarthome.core.thing.binding.ThingHandler;\n+\n+/**\n+ * The {@link ThingMock} Thing Mock\n+ *\n+ * @author Bernd Weymann - Initial contribution\n+ */\n+@NonNullByDefault\n+public class ThingMock implements Thing {\n+    private Configuration config = new Configuration(); // = new HashMap<String, Object>();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c5894e846a920e09e59ce28dd5a6a3ad158a0229"}, "originalPosition": 40}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUxMDQxODUw", "url": "https://github.com/openhab/openhab-addons/pull/7914#pullrequestreview-451041850", "createdAt": "2020-07-18T08:29:19Z", "commit": {"oid": "529c812a4a12361e019e76544e8c21bf16d311c5"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xOFQwODoyOToxOVrOGzmyGg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xOFQwODozNDoyOVrOGzmznA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Njc2NTk3OA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            thing-type.luftdateninfo.particulate.description = Messung der Feinstaub Belastung in der Umgebung \n          \n          \n            \n            thing-type.luftdateninfo.particulate.description = Messung der Feinstaubbelastung in der Umgebung", "url": "https://github.com/openhab/openhab-addons/pull/7914#discussion_r456765978", "createdAt": "2020-07-18T08:29:19Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.luftdateninfo/src/main/resources/ESH-INF/i18n/luftdateninfo_de.properties", "diffHunk": "@@ -0,0 +1,9 @@\n+binding.luftdateninfo.name = LuftdatenInfo Binding\n+binding.luftdateninfo.description = Das Binding stellt die Daten der Eigenbau-Sensoren von LuftdatenInfo zur Verf\ufffdgung\n+\n+thing-type.luftdateninfo.particulate.label = Feinstaubsensor\n+thing-type.luftdateninfo.particulate.description = Messung der Feinstaub Belastung in der Umgebung ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "529c812a4a12361e019e76544e8c21bf16d311c5"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Njc2NjA1OA==", "bodyText": "Copy & paste error", "url": "https://github.com/openhab/openhab-addons/pull/7914#discussion_r456766058", "createdAt": "2020-07-18T08:30:02Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.luftdateninfo/src/main/resources/ESH-INF/i18n/luftdateninfo_de.properties", "diffHunk": "@@ -0,0 +1,9 @@\n+binding.luftdateninfo.name = LuftdatenInfo Binding\n+binding.luftdateninfo.description = Das Binding stellt die Daten der Eigenbau-Sensoren von LuftdatenInfo zur Verf\ufffdgung\n+\n+thing-type.luftdateninfo.particulate.label = Feinstaubsensor\n+thing-type.luftdateninfo.particulate.description = Messung der Feinstaub Belastung in der Umgebung \n+thing-type.luftdateninfo.conditions.label = Umgebungssensor\n+thing-type.luftdateninfo.conditions.description = Messung der Temperatur, Luftfeuchtigkeit und Luftdruck \n+thing-type.luftdateninfo.noise.label = L\ufffdrmsensor\n+thing-type.luftdateninfo.noise.description = Messung der Feinstaub Belastung in der Umgebung ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "529c812a4a12361e019e76544e8c21bf16d311c5"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Njc2NjEwMg==", "bodyText": "Vielleicht w\u00e4re \"Umweltsensor\" passender?", "url": "https://github.com/openhab/openhab-addons/pull/7914#discussion_r456766102", "createdAt": "2020-07-18T08:30:44Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.luftdateninfo/src/main/resources/ESH-INF/i18n/luftdateninfo_de.properties", "diffHunk": "@@ -0,0 +1,9 @@\n+binding.luftdateninfo.name = LuftdatenInfo Binding\n+binding.luftdateninfo.description = Das Binding stellt die Daten der Eigenbau-Sensoren von LuftdatenInfo zur Verf\ufffdgung\n+\n+thing-type.luftdateninfo.particulate.label = Feinstaubsensor\n+thing-type.luftdateninfo.particulate.description = Messung der Feinstaub Belastung in der Umgebung \n+thing-type.luftdateninfo.conditions.label = Umgebungssensor", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "529c812a4a12361e019e76544e8c21bf16d311c5"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Njc2NjM2NA==", "bodyText": "Did you re-add the quotes by intention?", "url": "https://github.com/openhab/openhab-addons/pull/7914#discussion_r456766364", "createdAt": "2020-07-18T08:34:29Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.luftdateninfo/README.md", "diffHunk": "@@ -68,9 +68,9 @@ Perform the following steps to get the appropriate Sensor ID\n luftdaten.things\n \n ```perl\n-Thing luftdateninfo:particulate:pm_sensor   \"PM Sensor\"         [ sensorid=28842]\n-Thing luftdateninfo:conditions:cond_sensor  \"Condition Sensor\"  [ sensorid=28843]\n-Thing luftdateninfo:noise:noise_sensor      \"Noise Sensor\"      [ sensorid=39745]\n+Thing luftdateninfo:particulate:pm_sensor   \"PM Sensor\"         [ sensorid=\"28842\"]\n+Thing luftdateninfo:conditions:cond_sensor  \"Condition Sensor\"  [ sensorid=\"28843\"]\n+Thing luftdateninfo:noise:noise_sensor      \"Noise Sensor\"      [ sensorid=\"39745\"]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "529c812a4a12361e019e76544e8c21bf16d311c5"}, "originalPosition": 9}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUxMTA3MTgx", "url": "https://github.com/openhab/openhab-addons/pull/7914#pullrequestreview-451107181", "createdAt": "2020-07-19T07:39:22Z", "commit": {"oid": "7fd78a1fb2386ad8723790c40af649f551db81ce"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY4MDUzNzc1", "url": "https://github.com/openhab/openhab-addons/pull/7914#pullrequestreview-468053775", "createdAt": "2020-08-16T10:51:38Z", "commit": {"oid": "4a26ebca63244d12dd2accccbc6811fb0480c049"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xNlQxMDo1MTozOFrOHBRgnw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xNlQxMDo1Mzo1MlrOHBRhgg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTA5NzUwMw==", "bodyText": "Did you remove the project file by intention?", "url": "https://github.com/openhab/openhab-addons/pull/7914#discussion_r471097503", "createdAt": "2020-08-16T10:51:38Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.e3dc/.project", "diffHunk": "@@ -1,23 +0,0 @@\n-<?xml version=\"1.0\" encoding=\"UTF-8\"?>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4a26ebca63244d12dd2accccbc6811fb0480c049"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTA5NzczMA==", "bodyText": "Joda found its replacement in Java 8. You could use ZonedDateTime.", "url": "https://github.com/openhab/openhab-addons/pull/7914#discussion_r471097730", "createdAt": "2020-08-16T10:53:52Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.luftdateninfo/src/main/java/org/openhab/binding/luftdateninfo/internal/handler/BaseSensorHandler.java", "diffHunk": "@@ -24,7 +26,9 @@\n import org.eclipse.smarthome.core.thing.binding.BaseThingHandler;\n import org.eclipse.smarthome.core.types.Command;\n import org.eclipse.smarthome.core.types.RefreshType;\n+import org.joda.time.DateTime;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4a26ebca63244d12dd2accccbc6811fb0480c049"}, "originalPosition": 15}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4a26ebca63244d12dd2accccbc6811fb0480c049", "author": {"user": {"login": "weymann", "name": "Bernd Weymann"}}, "url": "https://github.com/openhab/openhab-addons/commit/4a26ebca63244d12dd2accccbc6811fb0480c049", "committedDate": "2020-08-15T21:33:54Z", "message": "update version 2.5.8\n\nSigned-off-by: Bernd <bernd.weymann@gmail.com>"}, "afterCommit": {"oid": "471d6815e742b5f886fc7ced86c340cc5f3544d0", "author": {"user": {"login": "weymann", "name": "Bernd Weymann"}}, "url": "https://github.com/openhab/openhab-addons/commit/471d6815e742b5f886fc7ced86c340cc5f3544d0", "committedDate": "2020-08-16T14:37:53Z", "message": "switch to java.time.LocalDateTime\n\nSigned-off-by: Bernd <bernd.weymann@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcxNzY5NTAx", "url": "https://github.com/openhab/openhab-addons/pull/7914#pullrequestreview-471769501", "createdAt": "2020-08-20T16:08:06Z", "commit": {"oid": "d9dc71a0d67e134482b67f8297052f83c3243d75"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMFQxNjowODowNlrOHEIziw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMFQxNjoxMDoyMVrOHEI5aw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDEwMDYxOQ==", "bodyText": "180 sec. seem a bit long for the timeout. The framework's safe caller will kick in after 15 sec.\n10 sec. would be a better value.", "url": "https://github.com/openhab/openhab-addons/pull/7914#discussion_r474100619", "createdAt": "2020-08-20T16:08:06Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.luftdateninfo/src/main/java/org/openhab/binding/luftdateninfo/internal/handler/HTTPHandler.java", "diffHunk": "@@ -0,0 +1,159 @@\n+/**\n+ * Copyright (c) 2010-2020 Contributors to the openHAB project\n+ *\n+ * See the NOTICE file(s) distributed with this work for additional\n+ * information.\n+ *\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0\n+ *\n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.openhab.binding.luftdateninfo.internal.handler;\n+\n+import java.time.LocalDateTime;\n+import java.util.List;\n+import java.util.concurrent.ExecutionException;\n+import java.util.concurrent.TimeUnit;\n+import java.util.concurrent.TimeoutException;\n+\n+import org.eclipse.jdt.annotation.NonNullByDefault;\n+import org.eclipse.jdt.annotation.Nullable;\n+import org.eclipse.jetty.client.HttpClient;\n+import org.eclipse.jetty.client.api.ContentResponse;\n+import org.openhab.binding.luftdateninfo.internal.dto.SensorData;\n+import org.openhab.binding.luftdateninfo.internal.dto.SensorDataValue;\n+import org.openhab.binding.luftdateninfo.internal.utils.DateTimeUtils;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+import com.google.gson.Gson;\n+\n+/**\n+ * The {@link HTTPHandler} is responsible for HTTP requests and JSON handling\n+ *\n+ * @author Bernd Weymann - Initial contribution\n+ */\n+@NonNullByDefault\n+public class HTTPHandler {\n+    private final Logger logger = LoggerFactory.getLogger(HTTPHandler.class);\n+\n+    private static final Gson GSON = new Gson();\n+    private static final HTTPHandler HTTP_HANDLER = new HTTPHandler();\n+\n+    public static final String P1 = \"P1\";\n+    public static final String P2 = \"P2\";\n+\n+    public static final String TEMPERATURE = \"temperature\";\n+    public static final String HUMIDITY = \"humidity\";\n+    public static final String PRESSURE = \"pressure\";\n+    public static final String PRESSURE_SEALEVEL = \"pressure_at_sealevel\";\n+\n+    public static final String NOISE_EQ = \"noise_LAeq\";\n+    public static final String NOISE_MIN = \"noise_LA_min\";\n+    public static final String NOISE_MAX = \"noise_LA_max\";\n+\n+    private static String sensorUrl = \"http://data.sensor.community/airrohr/v1/sensor/\";\n+    private static @Nullable HttpClient commonHttpClient;\n+\n+    public static void init(HttpClient httpClient) {\n+        commonHttpClient = httpClient;\n+    }\n+\n+    public static HTTPHandler getHandler() {\n+        return HTTP_HANDLER;\n+    }\n+\n+    public @Nullable String getResponse(int sensorId)\n+            throws InterruptedException, TimeoutException, ExecutionException {\n+        HttpClient localClient = commonHttpClient;\n+        if (localClient == null) {\n+            logger.warn(\"HTTP Client not initialized\");\n+            return null;\n+        } else {\n+            String url = sensorUrl + sensorId + \"/\";\n+            ContentResponse contentResponse = localClient.newRequest(url).timeout(180, TimeUnit.SECONDS).send();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d9dc71a0d67e134482b67f8297052f83c3243d75"}, "originalPosition": 76}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDEwMjEyMw==", "bodyText": "Can you leave the line feed?", "url": "https://github.com/openhab/openhab-addons/pull/7914#discussion_r474102123", "createdAt": "2020-08-20T16:10:21Z", "author": {"login": "fwolter"}, "path": "bundles/pom.xml", "diffHunk": "@@ -515,4 +516,4 @@\n     </profile>\n   </profiles>\n \n-</project>\n+</project>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d9dc71a0d67e134482b67f8297052f83c3243d75"}, "originalPosition": 13}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg3MTM4OTc0", "url": "https://github.com/openhab/openhab-addons/pull/7914#pullrequestreview-487138974", "createdAt": "2020-09-11T21:38:54Z", "commit": {"oid": "8db91b0e4884065bda6e387e97d1a756b538ab8a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg3MjAyMjky", "url": "https://github.com/openhab/openhab-addons/pull/7914#pullrequestreview-487202292", "createdAt": "2020-09-12T04:28:22Z", "commit": {"oid": "8db91b0e4884065bda6e387e97d1a756b538ab8a"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMlQwNDoyODoyMlrOHQydrQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMlQwNDo0MToxMlrOHQyhyQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzM2NjA2MQ==", "bodyText": "fields should be at the top of the class.", "url": "https://github.com/openhab/openhab-addons/pull/7914#discussion_r487366061", "createdAt": "2020-09-12T04:28:22Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.luftdateninfo/src/main/java/org/openhab/binding/luftdateninfo/internal/dto/SensorDataValue.java", "diffHunk": "@@ -0,0 +1,57 @@\n+/**\n+ * Copyright (c) 2010-2020 Contributors to the openHAB project\n+ *\n+ * See the NOTICE file(s) distributed with this work for additional\n+ * information.\n+ *\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0\n+ *\n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.openhab.binding.luftdateninfo.internal.dto;\n+\n+import com.google.gson.annotations.SerializedName;\n+\n+/**\n+ * The {@link SensorDataValue} Data Transfer Object\n+ *\n+ * @author Bernd Weymann - Initial contribution\n+ */\n+public class SensorDataValue {\n+    private long id;\n+    @SerializedName(\"value_type\")\n+    private String valueType;\n+\n+    @Override\n+    public String toString() {\n+        return valueType + \":\" + value;\n+    }\n+\n+    public long getId() {\n+        return id;\n+    }\n+\n+    public void setId(long id) {\n+        this.id = id;\n+    }\n+\n+    public String getValueType() {\n+        return valueType;\n+    }\n+\n+    public void setValueType(String valueType) {\n+        this.valueType = valueType;\n+    }\n+\n+    public String getValue() {\n+        return value;\n+    }\n+\n+    public void setValue(String value) {\n+        this.value = value;\n+    }\n+\n+    private String value;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8db91b0e4884065bda6e387e97d1a756b538ab8a"}, "originalPosition": 56}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzM2NjIyMQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    scheduler.execute(() -> {\n          \n          \n            \n                        startUp();\n          \n          \n            \n                    });\n          \n          \n            \n                    scheduler.execute(this::startUp);", "url": "https://github.com/openhab/openhab-addons/pull/7914#discussion_r487366221", "createdAt": "2020-09-12T04:30:09Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.luftdateninfo/src/main/java/org/openhab/binding/luftdateninfo/internal/handler/BaseSensorHandler.java", "diffHunk": "@@ -0,0 +1,214 @@\n+/**\n+ * Copyright (c) 2010-2020 Contributors to the openHAB project\n+ *\n+ * See the NOTICE file(s) distributed with this work for additional\n+ * information.\n+ *\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0\n+ *\n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.openhab.binding.luftdateninfo.internal.handler;\n+\n+import java.time.LocalDateTime;\n+import java.util.concurrent.ScheduledFuture;\n+import java.util.concurrent.TimeUnit;\n+\n+import org.eclipse.jdt.annotation.NonNullByDefault;\n+import org.eclipse.jdt.annotation.Nullable;\n+import org.eclipse.smarthome.core.thing.ChannelUID;\n+import org.eclipse.smarthome.core.thing.Thing;\n+import org.eclipse.smarthome.core.thing.ThingStatus;\n+import org.eclipse.smarthome.core.thing.ThingStatusDetail;\n+import org.eclipse.smarthome.core.thing.binding.BaseThingHandler;\n+import org.eclipse.smarthome.core.types.Command;\n+import org.eclipse.smarthome.core.types.RefreshType;\n+import org.openhab.binding.luftdateninfo.internal.LuftdatenInfoConfiguration;\n+import org.openhab.binding.luftdateninfo.internal.utils.DateTimeUtils;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+/**\n+ * The {@link PMHandler} is responsible for handling commands, which are\n+ * sent to one of the channels.\n+ *\n+ * @author Bernd Weymann - Initial contribution\n+ */\n+@NonNullByDefault\n+public abstract class BaseSensorHandler extends BaseThingHandler {\n+    private static final LuftdatenInfoConfiguration DEFAULT_CONFIG = new LuftdatenInfoConfiguration();\n+    private static final String EMPTY = \"\";\n+\n+    protected static final int REFRESH_INTERVAL_MIN = 5;\n+    protected final Logger logger = LoggerFactory.getLogger(BaseSensorHandler.class);\n+    protected LuftdatenInfoConfiguration config = DEFAULT_CONFIG;\n+    protected ConfigStatus configStatus = ConfigStatus.UNKNOWN;\n+    protected ThingStatus myThingStatus = ThingStatus.UNKNOWN;\n+    protected UpdateStatus lastUpdateStatus = UpdateStatus.UNKNOWN;\n+    protected @Nullable ScheduledFuture<?> refreshJob;\n+\n+    public enum ConfigStatus {\n+        OK,\n+        IS_NULL,\n+        SENSOR_IS_NULL,\n+        SENSOR_ID_NEGATIVE,\n+        UNKNOWN\n+    };\n+\n+    public enum UpdateStatus {\n+        OK,\n+        CONNECTION_ERROR,\n+        CONNECTION_EXCEPTION,\n+        VALUE_ERROR,\n+        VALUE_EMPTY,\n+        UNKNOWN\n+    }\n+\n+    protected LifecycleStatus lifecycleStatus = LifecycleStatus.UNKNOWN;\n+\n+    public enum LifecycleStatus {\n+        UNKNOWN,\n+        RUNNING,\n+        INITIALIZING,\n+        DISPOSED\n+    }\n+\n+    public BaseSensorHandler(Thing thing) {\n+        super(thing);\n+    }\n+\n+    @Override\n+    public void handleCommand(ChannelUID channelUID, Command command) {\n+        if (command instanceof RefreshType) {\n+            updateFromCache();\n+        }\n+    }\n+\n+    @Override\n+    public void initialize() {\n+        lifecycleStatus = LifecycleStatus.INITIALIZING;\n+        scheduler.execute(() -> {\n+            startUp();\n+        });", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8db91b0e4884065bda6e387e97d1a756b538ab8a"}, "originalPosition": 94}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzM2NzAzMQ==", "bodyText": "Perhaps it would be better to use Double.NaN?\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                private static final Double UNDEF = new Double(-1);\n          \n          \n            \n                private static final double UNDEF = Double.NaN;", "url": "https://github.com/openhab/openhab-addons/pull/7914#discussion_r487367031", "createdAt": "2020-09-12T04:40:15Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.luftdateninfo/src/main/java/org/openhab/binding/luftdateninfo/internal/utils/NumberUtils.java", "diffHunk": "@@ -0,0 +1,52 @@\n+/**\n+ * Copyright (c) 2010-2020 Contributors to the openHAB project\n+ *\n+ * See the NOTICE file(s) distributed with this work for additional\n+ * information.\n+ *\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0\n+ *\n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.openhab.binding.luftdateninfo.internal.utils;\n+\n+import org.eclipse.jdt.annotation.NonNullByDefault;\n+\n+/**\n+ * The {@link NumberUtils} class provides helpers for converting Numbers.\n+ *\n+ * @author Bernd Weymann - Initial contribution\n+ */\n+@NonNullByDefault\n+public class NumberUtils {\n+    private static final Double UNDEF = new Double(-1);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8db91b0e4884065bda6e387e97d1a756b538ab8a"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzM2NzExMw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    Double value = UNDEF;\n          \n          \n            \n                    if (o instanceof Integer) {\n          \n          \n            \n                        value = (double) ((Integer) o).intValue();\n          \n          \n            \n                    } else if (o instanceof String) {\n          \n          \n            \n                        value = Double.parseDouble(o.toString());\n          \n          \n            \n                    } else {\n          \n          \n            \n                        value = (Double) o;\n          \n          \n            \n                    }\n          \n          \n            \n                    double value = UNDEF;\n          \n          \n            \n                    if (o instanceof Number) {\n          \n          \n            \n                        value = ((Number) o).doubleValue();\n          \n          \n            \n                    } else if (o instanceof String) {\n          \n          \n            \n                        value = Double.parseDouble(o.toString());\n          \n          \n            \n                    }", "url": "https://github.com/openhab/openhab-addons/pull/7914#discussion_r487367113", "createdAt": "2020-09-12T04:41:12Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.luftdateninfo/src/main/java/org/openhab/binding/luftdateninfo/internal/utils/NumberUtils.java", "diffHunk": "@@ -0,0 +1,52 @@\n+/**\n+ * Copyright (c) 2010-2020 Contributors to the openHAB project\n+ *\n+ * See the NOTICE file(s) distributed with this work for additional\n+ * information.\n+ *\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0\n+ *\n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.openhab.binding.luftdateninfo.internal.utils;\n+\n+import org.eclipse.jdt.annotation.NonNullByDefault;\n+\n+/**\n+ * The {@link NumberUtils} class provides helpers for converting Numbers.\n+ *\n+ * @author Bernd Weymann - Initial contribution\n+ */\n+@NonNullByDefault\n+public class NumberUtils {\n+    private static final Double UNDEF = new Double(-1);\n+\n+    public static double round(Object o, int places) {\n+        double value = convert(o);\n+\n+        // for negative places return plain number\n+        if (places < 0) {\n+            return value;\n+        }\n+\n+        long factor = (long) Math.pow(10, places);\n+        value = value * factor;\n+        long tmp = Math.round(value);\n+        return (double) tmp / factor;\n+    }\n+\n+    public static double convert(Object o) {\n+        // ensure value not null\n+        Double value = UNDEF;\n+        if (o instanceof Integer) {\n+            value = (double) ((Integer) o).intValue();\n+        } else if (o instanceof String) {\n+            value = Double.parseDouble(o.toString());\n+        } else {\n+            value = (Double) o;\n+        }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8db91b0e4884065bda6e387e97d1a756b538ab8a"}, "originalPosition": 49}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "24aa9c76296d2e9209c5ffcd92303f2349d7ba9a", "author": {"user": {"login": "weymann", "name": "Bernd Weymann"}}, "url": "https://github.com/openhab/openhab-addons/commit/24aa9c76296d2e9209c5ffcd92303f2349d7ba9a", "committedDate": "2020-09-16T16:29:38Z", "message": "resolve CODEOWNERS conflict\n\nSigned-off-by: Bernd <bernd.weymann@gmail.com>"}, "afterCommit": {"oid": "806373d50252e31c3d14bcc3edc5102900d20bea", "author": {"user": {"login": "weymann", "name": "Bernd Weymann"}}, "url": "https://github.com/openhab/openhab-addons/commit/806373d50252e31c3d14bcc3edc5102900d20bea", "committedDate": "2020-09-17T07:23:14Z", "message": "resolve conflict after rebase\n\nSigned-off-by: Bernd <bernd.weymann@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e942fa5db313421f61355ac7d4135e8cc1db724f", "author": {"user": {"login": "weymann", "name": "Bernd Weymann"}}, "url": "https://github.com/openhab/openhab-addons/commit/e942fa5db313421f61355ac7d4135e8cc1db724f", "committedDate": "2020-09-17T12:45:11Z", "message": "Initial commit\n\nSigned-off-by: Bernd <bernd.weymann@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8dca962fa896e9faad97f3801317f56effd1e857", "author": {"user": {"login": "weymann", "name": "Bernd Weymann"}}, "url": "https://github.com/openhab/openhab-addons/commit/8dca962fa896e9faad97f3801317f56effd1e857", "committedDate": "2020-09-17T12:45:12Z", "message": "Introduce BaseSensorHandler\n\nSigned-off-by: Bernd <bernd.weymann@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bcf31928a5d3d4fd9bf531b49407c1c8fe5e412d", "author": {"user": {"login": "weymann", "name": "Bernd Weymann"}}, "url": "https://github.com/openhab/openhab-addons/commit/bcf31928a5d3d4fd9bf531b49407c1c8fe5e412d", "committedDate": "2020-09-17T12:45:12Z", "message": "Test preparation\n\nSigned-off-by: Bernd <bernd.weymann@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9d8df678296a7a6e6e6653d6771c600b7c5d33d5", "author": {"user": {"login": "weymann", "name": "Bernd Weymann"}}, "url": "https://github.com/openhab/openhab-addons/commit/9d8df678296a7a6e6e6653d6771c600b7c5d33d5", "committedDate": "2020-09-17T12:45:12Z", "message": "Running tests with mocks\n\nSigned-off-by: Bernd <bernd.weymann@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6e99c247be45e3a483e29e85020a91c85e8bcf82", "author": {"user": {"login": "weymann", "name": "Bernd Weymann"}}, "url": "https://github.com/openhab/openhab-addons/commit/6e99c247be45e3a483e29e85020a91c85e8bcf82", "committedDate": "2020-09-17T12:45:12Z", "message": "Remove static error and warning static code checks\n\nSigned-off-by: Bernd <bernd.weymann@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b6890037c8460dba2d5796460bcea1a658156c3b", "author": {"user": {"login": "weymann", "name": "Bernd Weymann"}}, "url": "https://github.com/openhab/openhab-addons/commit/b6890037c8460dba2d5796460bcea1a658156c3b", "committedDate": "2020-09-17T12:45:13Z", "message": "Test all Handlers\n\nSigned-off-by: Bernd <bernd.weymann@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e8ab89801094893b26e1a5a48873fd4c312645a0", "author": {"user": {"login": "weymann", "name": "Bernd Weymann"}}, "url": "https://github.com/openhab/openhab-addons/commit/e8ab89801094893b26e1a5a48873fd4c312645a0", "committedDate": "2020-09-17T12:45:13Z", "message": "Test all Handlers\n\nSigned-off-by: Bernd <bernd.weymann@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "28c34d918e6bd2a79310eac4f9b227fa141fd710", "author": {"user": {"login": "weymann", "name": "Bernd Weymann"}}, "url": "https://github.com/openhab/openhab-addons/commit/28c34d918e6bd2a79310eac4f9b227fa141fd710", "committedDate": "2020-09-17T12:45:13Z", "message": "Evaluate SensorDataValue dates - extended testing\n\nSigned-off-by: Bernd <bernd.weymann@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9206406bafb3b8dc0f55920da69a89ee3245229c", "author": {"user": {"login": "weymann", "name": "Bernd Weymann"}}, "url": "https://github.com/openhab/openhab-addons/commit/9206406bafb3b8dc0f55920da69a89ee3245229c", "committedDate": "2020-09-17T12:45:13Z", "message": "Rounding numbers for all channels for nicer looking\n\nSigned-off-by: Bernd <bernd.weymann@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ad3115a075102bc34dcb202fae4b2c90da0d5afc", "author": {"user": {"login": "weymann", "name": "Bernd Weymann"}}, "url": "https://github.com/openhab/openhab-addons/commit/ad3115a075102bc34dcb202fae4b2c90da0d5afc", "committedDate": "2020-09-17T12:45:13Z", "message": "Readme.md description added\n\nSigned-off-by: Bernd <bernd.weymann@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4888542d9bd6fea10820c7385fbe55b85ab47fec", "author": {"user": {"login": "weymann", "name": "Bernd Weymann"}}, "url": "https://github.com/openhab/openhab-addons/commit/4888542d9bd6fea10820c7385fbe55b85ab47fec", "committedDate": "2020-09-17T12:45:14Z", "message": "Logo and last description updates\n\nSigned-off-by: Bernd <bernd.weymann@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f33244d9b10e0eb94c9ab7a7c4e57c6f77bafc58", "author": {"user": {"login": "weymann", "name": "Bernd Weymann"}}, "url": "https://github.com/openhab/openhab-addons/commit/f33244d9b10e0eb94c9ab7a7c4e57c6f77bafc58", "committedDate": "2020-09-17T12:45:14Z", "message": "Update README.md\n\nSigned-off-by: Bernd <bernd.weymann@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0be2dc40b54673379b233a892e59398c499f43d9", "author": {"user": {"login": "weymann", "name": "Bernd Weymann"}}, "url": "https://github.com/openhab/openhab-addons/commit/0be2dc40b54673379b233a892e59398c499f43d9", "committedDate": "2020-09-17T12:45:14Z", "message": "Readme.md full example\n\nSigned-off-by: Bernd <bernd.weymann@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b11aa5dd2d3e1088027ef9a7cd836499406d7095", "author": {"user": {"login": "weymann", "name": "Bernd Weymann"}}, "url": "https://github.com/openhab/openhab-addons/commit/b11aa5dd2d3e1088027ef9a7cd836499406d7095", "committedDate": "2020-09-17T12:45:14Z", "message": "Remove checkstyle warnings\n\nSigned-off-by: Bernd <bernd.weymann@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7d59dd7fb7ee372c645110212e679dd15c62107c", "author": {"user": {"login": "weymann", "name": "Bernd Weymann"}}, "url": "https://github.com/openhab/openhab-addons/commit/7d59dd7fb7ee372c645110212e679dd15c62107c", "committedDate": "2020-09-17T12:45:14Z", "message": "Bugfix: catch additional NumberFormatException in DateTimeConversion\n\nSigned-off-by: Bernd <bernd.weymann@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "413bb8c40aa842e3d0c8d2dbb490a256476a9a62", "author": {"user": {"login": "weymann", "name": "Bernd Weymann"}}, "url": "https://github.com/openhab/openhab-addons/commit/413bb8c40aa842e3d0c8d2dbb490a256476a9a62", "committedDate": "2020-09-17T12:45:14Z", "message": "Minor test and checkstyle updates\n\nSigned-off-by: Bernd <bernd.weymann@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "22152ee3cf3440e0895e3a1298bd014407d2b1fb", "author": {"user": {"login": "weymann", "name": "Bernd Weymann"}}, "url": "https://github.com/openhab/openhab-addons/commit/22152ee3cf3440e0895e3a1298bd014407d2b1fb", "committedDate": "2020-09-17T12:45:14Z", "message": "Fix chackstyle \"low hanging fruit\"\n\nSigned-off-by: Bernd <bernd.weymann@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0a0a79b93219462ed9e98a34e34a67270b136cdd", "author": {"user": {"login": "weymann", "name": "Bernd Weymann"}}, "url": "https://github.com/openhab/openhab-addons/commit/0a0a79b93219462ed9e98a34e34a67270b136cdd", "committedDate": "2020-09-17T12:45:15Z", "message": "logging added to detect toDate conversion errors in trace\n\nSigned-off-by: Bernd <bernd.weymann@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dba5ec881c88e67b9159f83f30e18eb91d770eaa", "author": {"user": {"login": "weymann", "name": "Bernd Weymann"}}, "url": "https://github.com/openhab/openhab-addons/commit/dba5ec881c88e67b9159f83f30e18eb91d770eaa", "committedDate": "2020-09-17T12:45:15Z", "message": "Set default cache to undefined\n\nSigned-off-by: Bernd <bernd.weymann@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "68b5e103b9bd8c3ba1c8d185ac26c7f9828e9942", "author": {"user": {"login": "weymann", "name": "Bernd Weymann"}}, "url": "https://github.com/openhab/openhab-addons/commit/68b5e103b9bd8c3ba1c8d185ac26c7f9828e9942", "committedDate": "2020-09-17T12:45:15Z", "message": "fix typo in main description\n\nSigned-off-by: Bernd <bernd.weymann@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1231559aefb568b3a0b9647cdfdc29c5dd7fc9fe", "author": {"user": {"login": "weymann", "name": "Bernd Weymann"}}, "url": "https://github.com/openhab/openhab-addons/commit/1231559aefb568b3a0b9647cdfdc29c5dd7fc9fe", "committedDate": "2020-09-17T12:45:15Z", "message": "Ensure non null values for all update values\n\nSigned-off-by: Bernd <bernd.weymann@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1b467891cd2c7fae6595bea06a88f2f07d70152a", "author": {"user": {"login": "weymann", "name": "Bernd Weymann"}}, "url": "https://github.com/openhab/openhab-addons/commit/1b467891cd2c7fae6595bea06a88f2f07d70152a", "committedDate": "2020-09-17T12:45:15Z", "message": "Update 2.5.6 => 2.5.7\n\nSigned-off-by: Bernd <bernd.weymann@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "04e0e9a06fff609b4bf6d4c819cf6477426614c4", "author": {"user": {"login": "weymann", "name": "Bernd Weymann"}}, "url": "https://github.com/openhab/openhab-addons/commit/04e0e9a06fff609b4bf6d4c819cf6477426614c4", "committedDate": "2020-09-17T12:45:15Z", "message": "Bugfix: Sensor IDs exceeding int range - changed type to long\n\nSigned-off-by: Bernd <bernd.weymann@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cd56de06e6d464492949d71b116c8b071e699864", "author": {"user": {"login": "weymann", "name": "Bernd Weymann"}}, "url": "https://github.com/openhab/openhab-addons/commit/cd56de06e6d464492949d71b116c8b071e699864", "committedDate": "2020-09-17T12:46:08Z", "message": "Correct review findings\n\nSigned-off-by: Bernd <bernd.weymann@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ea406b645f1920ea5469b72088d183a3bf393e01", "author": {"user": {"login": "weymann", "name": "Bernd Weymann"}}, "url": "https://github.com/openhab/openhab-addons/commit/ea406b645f1920ea5469b72088d183a3bf393e01", "committedDate": "2020-09-17T12:46:09Z", "message": "Use SerializedName annotation to eliminate all checkstyle warnings\n\nSigned-off-by: Bernd <bernd.weymann@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0af50e32456f3b6cc7a0af7d92b562c3441488f8", "author": {"user": {"login": "weymann", "name": "Bernd Weymann"}}, "url": "https://github.com/openhab/openhab-addons/commit/0af50e32456f3b6cc7a0af7d92b562c3441488f8", "committedDate": "2020-09-17T12:46:09Z", "message": "start schedule if first update failed\n\nSigned-off-by: Bernd <bernd.weymann@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "70d13155651ec2fb350bfb9a8cfe97f8bedb97cd", "author": {"user": {"login": "weymann", "name": "Bernd Weymann"}}, "url": "https://github.com/openhab/openhab-addons/commit/70d13155651ec2fb350bfb9a8cfe97f8bedb97cd", "committedDate": "2020-09-17T12:46:09Z", "message": "correct findings from second review\n\nSigned-off-by: Bernd <bernd.weymann@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "293bc7a6704174612eddf3e620cc9d4a17d9e6c4", "author": {"user": {"login": "weymann", "name": "Bernd Weymann"}}, "url": "https://github.com/openhab/openhab-addons/commit/293bc7a6704174612eddf3e620cc9d4a17d9e6c4", "committedDate": "2020-09-17T12:46:09Z", "message": "correct example sensorids from text to int\n\nSigned-off-by: Bernd <bernd.weymann@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4ee36007ae2963e3c4d369547984e67608eadfde", "author": {"user": {"login": "weymann", "name": "Bernd Weymann"}}, "url": "https://github.com/openhab/openhab-addons/commit/4ee36007ae2963e3c4d369547984e67608eadfde", "committedDate": "2020-09-17T12:46:09Z", "message": "add german translation\n\nSigned-off-by: Bernd <bernd.weymann@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5d7e7d461a1979eda3f9d963aa270af08e17e0aa", "author": {"user": {"login": "weymann", "name": "Bernd Weymann"}}, "url": "https://github.com/openhab/openhab-addons/commit/5d7e7d461a1979eda3f9d963aa270af08e17e0aa", "committedDate": "2020-09-17T12:46:09Z", "message": "bugfix sensorid int plus translation correction\n\nSigned-off-by: Bernd <bernd.weymann@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "01506c11058eee905fb36b8247e87fd75fcec792", "author": {"user": {"login": "weymann", "name": "Bernd Weymann"}}, "url": "https://github.com/openhab/openhab-addons/commit/01506c11058eee905fb36b8247e87fd75fcec792", "committedDate": "2020-09-17T12:46:10Z", "message": "remove accidently added side directory\n\nSigned-off-by: Bernd <bernd.weymann@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5da0dad4a4c6d452fac74e8c1e2165cdc969755c", "author": {"user": {"login": "weymann", "name": "Bernd Weymann"}}, "url": "https://github.com/openhab/openhab-addons/commit/5da0dad4a4c6d452fac74e8c1e2165cdc969755c", "committedDate": "2020-09-17T12:46:10Z", "message": "correct ThingStatus handling\n\nSigned-off-by: Bernd <bernd.weymann@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f8e53f1028423ed4edade7d17597afa30710fa7c", "author": {"user": {"login": "weymann", "name": "Bernd Weymann"}}, "url": "https://github.com/openhab/openhab-addons/commit/f8e53f1028423ed4edade7d17597afa30710fa7c", "committedDate": "2020-09-17T12:46:10Z", "message": "switch to JODA time\n\nSigned-off-by: Bernd <bernd.weymann@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a586b91ddd2ac21d02e6d6b32d8a77a45e2054ea", "author": {"user": {"login": "weymann", "name": "Bernd Weymann"}}, "url": "https://github.com/openhab/openhab-addons/commit/a586b91ddd2ac21d02e6d6b32d8a77a45e2054ea", "committedDate": "2020-09-17T12:46:10Z", "message": "switch to JODA time\n\nSigned-off-by: Bernd <bernd.weymann@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5fe3997f04ddd6190318c768d08976c0b1b2cd94", "author": {"user": {"login": "weymann", "name": "Bernd Weymann"}}, "url": "https://github.com/openhab/openhab-addons/commit/5fe3997f04ddd6190318c768d08976c0b1b2cd94", "committedDate": "2020-09-17T12:46:10Z", "message": "increase http request timeout\n\nSigned-off-by: Bernd <bernd.weymann@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cbe9b45cbb7fece518b55db5a925892b54ff5b91", "author": {"user": {"login": "weymann", "name": "Bernd Weymann"}}, "url": "https://github.com/openhab/openhab-addons/commit/cbe9b45cbb7fece518b55db5a925892b54ff5b91", "committedDate": "2020-09-17T12:46:10Z", "message": "increase http request timeout\n\nSigned-off-by: Bernd <bernd.weymann@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e9d2901c986765fffc9d319dc99826230187c1b3", "author": {"user": {"login": "weymann", "name": "Bernd Weymann"}}, "url": "https://github.com/openhab/openhab-addons/commit/e9d2901c986765fffc9d319dc99826230187c1b3", "committedDate": "2020-09-17T12:46:11Z", "message": "readme.md and status update corrections\n\nSigned-off-by: Bernd <bernd.weymann@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0ce89f2ddc04b81f3afc83ad46edd434d9b59e56", "author": {"user": {"login": "weymann", "name": "Bernd Weymann"}}, "url": "https://github.com/openhab/openhab-addons/commit/0ce89f2ddc04b81f3afc83ad46edd434d9b59e56", "committedDate": "2020-09-17T12:46:11Z", "message": "added channel-type translations\n\nSigned-off-by: Bernd <bernd.weymann@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "765ebbacc9ca7e362da7dda3af3cc4022ad6228a", "author": {"user": {"login": "weymann", "name": "Bernd Weymann"}}, "url": "https://github.com/openhab/openhab-addons/commit/765ebbacc9ca7e362da7dda3af3cc4022ad6228a", "committedDate": "2020-09-17T12:46:11Z", "message": "update version 2.5.8\n\nSigned-off-by: Bernd <bernd.weymann@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a2f976e965d69a4bddd355e089743369d992052e", "author": {"user": {"login": "weymann", "name": "Bernd Weymann"}}, "url": "https://github.com/openhab/openhab-addons/commit/a2f976e965d69a4bddd355e089743369d992052e", "committedDate": "2020-09-17T12:46:11Z", "message": "switch to java.time.LocalDateTime\n\nSigned-off-by: Bernd <bernd.weymann@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4e4be02130bdc960e5f9b705056cf0b0069ef141", "author": {"user": {"login": "weymann", "name": "Bernd Weymann"}}, "url": "https://github.com/openhab/openhab-addons/commit/4e4be02130bdc960e5f9b705056cf0b0069ef141", "committedDate": "2020-09-17T12:46:11Z", "message": "reduce HTTP query timeout\n\nSigned-off-by: Bernd <bernd.weymann@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "11dd0e047192f79d6152339d5a71f8ac2c86119f", "author": {"user": {"login": "weymann", "name": "Bernd Weymann"}}, "url": "https://github.com/openhab/openhab-addons/commit/11dd0e047192f79d6152339d5a71f8ac2c86119f", "committedDate": "2020-09-17T12:46:12Z", "message": "switch to async http requests\n\nSigned-off-by: Bernd <bernd.weymann@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0e55c1a6f7ce396b4f727ae62f7ee414f727df54", "author": {"user": {"login": "weymann", "name": "Bernd Weymann"}}, "url": "https://github.com/openhab/openhab-addons/commit/0e55c1a6f7ce396b4f727ae62f7ee414f727df54", "committedDate": "2020-09-17T12:46:12Z", "message": "adapt release to 2.5.9\n\nSigned-off-by: Bernd <bernd.weymann@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "65271d79b6a9ef0b80711cce5a2775a29db32127", "author": {"user": {"login": "weymann", "name": "Bernd Weymann"}}, "url": "https://github.com/openhab/openhab-addons/commit/65271d79b6a9ef0b80711cce5a2775a29db32127", "committedDate": "2020-09-17T12:46:12Z", "message": "correct review findings\n\nSigned-off-by: Bernd <bernd.weymann@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a19a135169ab80d8ed95b4557525650dcc8c89b8", "author": {"user": {"login": "weymann", "name": "Bernd Weymann"}}, "url": "https://github.com/openhab/openhab-addons/commit/a19a135169ab80d8ed95b4557525650dcc8c89b8", "committedDate": "2020-09-17T13:23:03Z", "message": "resolve conflicts\n\nSigned-off-by: Bernd <bernd.weymann@gmail.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "806373d50252e31c3d14bcc3edc5102900d20bea", "author": {"user": {"login": "weymann", "name": "Bernd Weymann"}}, "url": "https://github.com/openhab/openhab-addons/commit/806373d50252e31c3d14bcc3edc5102900d20bea", "committedDate": "2020-09-17T07:23:14Z", "message": "resolve conflict after rebase\n\nSigned-off-by: Bernd <bernd.weymann@gmail.com>"}, "afterCommit": {"oid": "a19a135169ab80d8ed95b4557525650dcc8c89b8", "author": {"user": {"login": "weymann", "name": "Bernd Weymann"}}, "url": "https://github.com/openhab/openhab-addons/commit/a19a135169ab80d8ed95b4557525650dcc8c89b8", "committedDate": "2020-09-17T13:23:03Z", "message": "resolve conflicts\n\nSigned-off-by: Bernd <bernd.weymann@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkyMTU2MzYw", "url": "https://github.com/openhab/openhab-addons/pull/7914#pullrequestreview-492156360", "createdAt": "2020-09-19T21:11:27Z", "commit": {"oid": "a19a135169ab80d8ed95b4557525650dcc8c89b8"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 260, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}