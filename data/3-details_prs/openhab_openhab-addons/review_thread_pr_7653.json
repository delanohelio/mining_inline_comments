{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE4ODQ0MDQ1", "number": 7653, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNVQyMjozMjowNVrOD9CEuA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNVQyMjo0MTowNFrOD9CKWw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY1MzIzNzA0OnYy", "diffSide": "LEFT", "path": "bundles/org.openhab.binding.shelly/README.md", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNVQyMjozMjowNVrOGWVhBg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNlQwNTo1NToxOVrOGWYcVA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjA3NDM3NA==", "bodyText": "power channel is removed?", "url": "https://github.com/openhab/openhab-addons/pull/7653#discussion_r426074374", "createdAt": "2020-05-15T22:32:05Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.shelly/README.md", "diffHunk": "@@ -406,8 +407,7 @@ The Dimmer should be calibrated using the Shelly App.\n \n |Group     |Channel      |Type     |read-only|Description                                                            |\n |----------|-------------|---------|---------|-----------------------------------------------------------------------|\n-|control   |power        |Switch   |r/w      |Switch light ON/OFF                                                    |", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9c21e55003fb3a1303073bbc0c7d91106b5e55c4"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjEyMjMyNA==", "bodyText": "yes, as with other lights power and brightness are controlled through the brightness channel. I don\u2018t like this, but it was requested in a previous review, now it\u2018s consistent with HUE, Wemo etc.", "url": "https://github.com/openhab/openhab-addons/pull/7653#discussion_r426122324", "createdAt": "2020-05-16T05:55:19Z", "author": {"login": "markus7017"}, "path": "bundles/org.openhab.binding.shelly/README.md", "diffHunk": "@@ -406,8 +407,7 @@ The Dimmer should be calibrated using the Shelly App.\n \n |Group     |Channel      |Type     |read-only|Description                                                            |\n |----------|-------------|---------|---------|-----------------------------------------------------------------------|\n-|control   |power        |Switch   |r/w      |Switch light ON/OFF                                                    |", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjA3NDM3NA=="}, "originalCommit": {"oid": "9c21e55003fb3a1303073bbc0c7d91106b5e55c4"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY1MzI1MTQ3OnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.shelly/src/main/java/org/openhab/binding/shelly/internal/handler/ShellyBaseHandler.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNVQyMjo0MTowNFrOGWVpuw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNlQwNjoxNDoxNVrOGWYhSg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjA3NjYwMw==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                logger.debug(\"{}: deviceIndex={}\", thingName, i);\n          \n          \n            \n                                if ((profile.settings.relays != null) && (i >= 0) && (i < profile.settings.relays.size())) {\n          \n          \n            \n                                    logger.debug(\"{}: get relay info[{}\", thingName, i);\n          \n          \n            \n                                logger.trace(\"{}: deviceIndex={}\", thingName, i);\n          \n          \n            \n                                if ((profile.settings.relays != null) && (i >= 0) && (i < profile.settings.relays.size())) {\n          \n          \n            \n                                    logger.trace(\"{}: get relay info[{}]\", thingName, i);", "url": "https://github.com/openhab/openhab-addons/pull/7653#discussion_r426076603", "createdAt": "2020-05-15T22:41:04Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.shelly/src/main/java/org/openhab/binding/shelly/internal/handler/ShellyBaseHandler.java", "diffHunk": "@@ -521,7 +521,9 @@ public boolean onEvent(String ipAddress, String deviceName, String deviceIndex,\n                 if (type.equals(EVENT_TYPE_RELAY)) {\n                     group = profile.numRelays <= 1 ? CHANNEL_GROUP_RELAY_CONTROL : CHANNEL_GROUP_RELAY_CONTROL + rindex;\n                     int i = Integer.parseInt(deviceIndex);\n-                    if ((i >= 0) && (i <= profile.settings.relays.size())) {\n+                    logger.debug(\"{}: deviceIndex={}\", thingName, i);\n+                    if ((profile.settings.relays != null) && (i >= 0) && (i < profile.settings.relays.size())) {\n+                        logger.debug(\"{}: get relay info[{}\", thingName, i);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9c21e55003fb3a1303073bbc0c7d91106b5e55c4"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjEyMzU5NA==", "bodyText": "removed", "url": "https://github.com/openhab/openhab-addons/pull/7653#discussion_r426123594", "createdAt": "2020-05-16T06:14:15Z", "author": {"login": "markus7017"}, "path": "bundles/org.openhab.binding.shelly/src/main/java/org/openhab/binding/shelly/internal/handler/ShellyBaseHandler.java", "diffHunk": "@@ -521,7 +521,9 @@ public boolean onEvent(String ipAddress, String deviceName, String deviceIndex,\n                 if (type.equals(EVENT_TYPE_RELAY)) {\n                     group = profile.numRelays <= 1 ? CHANNEL_GROUP_RELAY_CONTROL : CHANNEL_GROUP_RELAY_CONTROL + rindex;\n                     int i = Integer.parseInt(deviceIndex);\n-                    if ((i >= 0) && (i <= profile.settings.relays.size())) {\n+                    logger.debug(\"{}: deviceIndex={}\", thingName, i);\n+                    if ((profile.settings.relays != null) && (i >= 0) && (i < profile.settings.relays.size())) {\n+                        logger.debug(\"{}: get relay info[{}\", thingName, i);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjA3NjYwMw=="}, "originalCommit": {"oid": "9c21e55003fb3a1303073bbc0c7d91106b5e55c4"}, "originalPosition": 7}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 25, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}