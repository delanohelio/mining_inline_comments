{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA5MzY0MTQ2", "number": 7486, "reviewThreads": {"totalCount": 15, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOFQyMTo0MTowMVrOD3ZGYQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wMlQxNDowMzoxNlrOD4qRBg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU5NDA5NTA1OnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.opengarage/src/main/java/org/openhab/binding/opengarage/internal/OpenGarageHandler.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOFQyMTo0MTowMVrOGNoDww==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQwNzo1NzoxNlrOGNzuPg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjk0MDk5NQ==", "bodyText": "You should have kept the switch statement and allowed the logic to fall through", "url": "https://github.com/openhab/openhab-addons/pull/7486#discussion_r416940995", "createdAt": "2020-04-28T21:41:01Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.opengarage/src/main/java/org/openhab/binding/opengarage/internal/OpenGarageHandler.java", "diffHunk": "@@ -57,20 +60,15 @@ public OpenGarageHandler(Thing thing) {\n     @Override\n     public void handleCommand(ChannelUID channelUID, Command command) {\n         try {\n-            logger.warn(\"Received command {} for thing '{}' on channel {}\", command, thing.getUID().getAsString(),\n-                    channelUID.getId());\n-            switch (channelUID.getId()) {\n-                case OpenGarageBindingConstants.CHANNEL_OG_STATUS:\n-                    if (command instanceof OnOffType) {\n-                        changeStatus(((OnOffType) command).equals(OnOffType.ON));\n-                        return;\n-                    }\n-                    break;\n-                default:\n+            if (channelUID.getId().equals(OpenGarageBindingConstants.CHANNEL_OG_STATUS) || channelUID.getId().equals(OpenGarageBindingConstants.CHANNEL_OG_STATUS_ROLLERSHUTTER)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e9e55d910d4a04bbeeb52796863f437266e48785"}, "originalPosition": 57}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzEzMjA5NA==", "bodyText": "fixed in pending commit", "url": "https://github.com/openhab/openhab-addons/pull/7486#discussion_r417132094", "createdAt": "2020-04-29T07:57:16Z", "author": {"login": "psmedley"}, "path": "bundles/org.openhab.binding.opengarage/src/main/java/org/openhab/binding/opengarage/internal/OpenGarageHandler.java", "diffHunk": "@@ -57,20 +60,15 @@ public OpenGarageHandler(Thing thing) {\n     @Override\n     public void handleCommand(ChannelUID channelUID, Command command) {\n         try {\n-            logger.warn(\"Received command {} for thing '{}' on channel {}\", command, thing.getUID().getAsString(),\n-                    channelUID.getId());\n-            switch (channelUID.getId()) {\n-                case OpenGarageBindingConstants.CHANNEL_OG_STATUS:\n-                    if (command instanceof OnOffType) {\n-                        changeStatus(((OnOffType) command).equals(OnOffType.ON));\n-                        return;\n-                    }\n-                    break;\n-                default:\n+            if (channelUID.getId().equals(OpenGarageBindingConstants.CHANNEL_OG_STATUS) || channelUID.getId().equals(OpenGarageBindingConstants.CHANNEL_OG_STATUS_ROLLERSHUTTER)) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjk0MDk5NQ=="}, "originalCommit": {"oid": "e9e55d910d4a04bbeeb52796863f437266e48785"}, "originalPosition": 57}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU5NDA5NTkxOnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.opengarage/src/main/java/org/openhab/binding/opengarage/internal/OpenGarageWebTargets.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOFQyMTo0MToxNVrOGNoESQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQwODozMDowOFrOGN0zHA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjk0MTEyOQ==", "bodyText": "use a switch statement here", "url": "https://github.com/openhab/openhab-addons/pull/7486#discussion_r416941129", "createdAt": "2020-04-28T21:41:15Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.opengarage/src/main/java/org/openhab/binding/opengarage/internal/OpenGarageWebTargets.java", "diffHunk": "@@ -43,17 +43,21 @@ public ControllerVariables getControllerVariables() throws OpenGarageCommunicati\n         return ControllerVariables.parse(response);\n     }\n \n-    public void setControllerVariables(boolean request) throws OpenGarageCommunicationException {\n+    public void setControllerVariables(String request) throws OpenGarageCommunicationException {\n         logger.debug(\"Received request: {}\", request);\n-        if (request) {\n-            logger.debug(\"Received request to open door\");\n-            String queryParams = \"&open=1\";\n-            invoke(changeControllerVariablesUri, queryParams);\n-        } else {\n-            logger.debug(\"Received request to close door\");\n-            String queryParams = \"&close=1\";\n-            invoke(changeControllerVariablesUri, queryParams);\n-        }\n+          if (request.equals(\"open\")) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e9e55d910d4a04bbeeb52796863f437266e48785"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzE0OTcyNA==", "bodyText": "done", "url": "https://github.com/openhab/openhab-addons/pull/7486#discussion_r417149724", "createdAt": "2020-04-29T08:30:08Z", "author": {"login": "psmedley"}, "path": "bundles/org.openhab.binding.opengarage/src/main/java/org/openhab/binding/opengarage/internal/OpenGarageWebTargets.java", "diffHunk": "@@ -43,17 +43,21 @@ public ControllerVariables getControllerVariables() throws OpenGarageCommunicati\n         return ControllerVariables.parse(response);\n     }\n \n-    public void setControllerVariables(boolean request) throws OpenGarageCommunicationException {\n+    public void setControllerVariables(String request) throws OpenGarageCommunicationException {\n         logger.debug(\"Received request: {}\", request);\n-        if (request) {\n-            logger.debug(\"Received request to open door\");\n-            String queryParams = \"&open=1\";\n-            invoke(changeControllerVariablesUri, queryParams);\n-        } else {\n-            logger.debug(\"Received request to close door\");\n-            String queryParams = \"&close=1\";\n-            invoke(changeControllerVariablesUri, queryParams);\n-        }\n+          if (request.equals(\"open\")) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjk0MTEyOQ=="}, "originalCommit": {"oid": "e9e55d910d4a04bbeeb52796863f437266e48785"}, "originalPosition": 16}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU5NDEzOTI3OnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.opengarage/src/main/java/org/openhab/binding/opengarage/internal/OpenGarageHandler.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOFQyMTo1NTo1NlrOGNoewg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQwNzo0ODoyN1rOGNzbxw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjk0NzkwNg==", "bodyText": "Shouldn't you be checking against the StopMoveType here?", "url": "https://github.com/openhab/openhab-addons/pull/7486#discussion_r416947906", "createdAt": "2020-04-28T21:55:56Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.opengarage/src/main/java/org/openhab/binding/opengarage/internal/OpenGarageHandler.java", "diffHunk": "@@ -57,20 +60,15 @@ public OpenGarageHandler(Thing thing) {\n     @Override\n     public void handleCommand(ChannelUID channelUID, Command command) {\n         try {\n-            logger.warn(\"Received command {} for thing '{}' on channel {}\", command, thing.getUID().getAsString(),\n-                    channelUID.getId());\n-            switch (channelUID.getId()) {\n-                case OpenGarageBindingConstants.CHANNEL_OG_STATUS:\n-                    if (command instanceof OnOffType) {\n-                        changeStatus(((OnOffType) command).equals(OnOffType.ON));\n-                        return;\n-                    }\n-                    break;\n-                default:\n+            if (channelUID.getId().equals(OpenGarageBindingConstants.CHANNEL_OG_STATUS) || channelUID.getId().equals(OpenGarageBindingConstants.CHANNEL_OG_STATUS_ROLLERSHUTTER)) {\n+                if (command.equals(OnOffType.ON) || command.equals(UpDownType.UP)) {\n+                    changeStatus(\"open\");\n+                } else if (command.equals(OnOffType.OFF) || command.equals(UpDownType.DOWN)) {\n+                    changeStatus(\"close\");\n+                } else if (command.equals(\"STOP\")) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e9e55d910d4a04bbeeb52796863f437266e48785"}, "originalPosition": 62}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzEyNzM2Nw==", "bodyText": "Fixed in pending commit", "url": "https://github.com/openhab/openhab-addons/pull/7486#discussion_r417127367", "createdAt": "2020-04-29T07:48:27Z", "author": {"login": "psmedley"}, "path": "bundles/org.openhab.binding.opengarage/src/main/java/org/openhab/binding/opengarage/internal/OpenGarageHandler.java", "diffHunk": "@@ -57,20 +60,15 @@ public OpenGarageHandler(Thing thing) {\n     @Override\n     public void handleCommand(ChannelUID channelUID, Command command) {\n         try {\n-            logger.warn(\"Received command {} for thing '{}' on channel {}\", command, thing.getUID().getAsString(),\n-                    channelUID.getId());\n-            switch (channelUID.getId()) {\n-                case OpenGarageBindingConstants.CHANNEL_OG_STATUS:\n-                    if (command instanceof OnOffType) {\n-                        changeStatus(((OnOffType) command).equals(OnOffType.ON));\n-                        return;\n-                    }\n-                    break;\n-                default:\n+            if (channelUID.getId().equals(OpenGarageBindingConstants.CHANNEL_OG_STATUS) || channelUID.getId().equals(OpenGarageBindingConstants.CHANNEL_OG_STATUS_ROLLERSHUTTER)) {\n+                if (command.equals(OnOffType.ON) || command.equals(UpDownType.UP)) {\n+                    changeStatus(\"open\");\n+                } else if (command.equals(OnOffType.OFF) || command.equals(UpDownType.DOWN)) {\n+                    changeStatus(\"close\");\n+                } else if (command.equals(\"STOP\")) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjk0NzkwNg=="}, "originalCommit": {"oid": "e9e55d910d4a04bbeeb52796863f437266e48785"}, "originalPosition": 62}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU5NDE2MDQ0OnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.opengarage/src/main/java/org/openhab/binding/opengarage/internal/OpenGarageHandler.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOFQyMjowMzowM1rOGNorjA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQwODoyOTo1NVrOGN0ysQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjk1MTE4MA==", "bodyText": "Can you make these status values enums instead of strings?", "url": "https://github.com/openhab/openhab-addons/pull/7486#discussion_r416951180", "createdAt": "2020-04-28T22:03:03Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.opengarage/src/main/java/org/openhab/binding/opengarage/internal/OpenGarageHandler.java", "diffHunk": "@@ -57,20 +60,15 @@ public OpenGarageHandler(Thing thing) {\n     @Override\n     public void handleCommand(ChannelUID channelUID, Command command) {\n         try {\n-            logger.warn(\"Received command {} for thing '{}' on channel {}\", command, thing.getUID().getAsString(),\n-                    channelUID.getId());\n-            switch (channelUID.getId()) {\n-                case OpenGarageBindingConstants.CHANNEL_OG_STATUS:\n-                    if (command instanceof OnOffType) {\n-                        changeStatus(((OnOffType) command).equals(OnOffType.ON));\n-                        return;\n-                    }\n-                    break;\n-                default:\n+            if (channelUID.getId().equals(OpenGarageBindingConstants.CHANNEL_OG_STATUS) || channelUID.getId().equals(OpenGarageBindingConstants.CHANNEL_OG_STATUS_ROLLERSHUTTER)) {\n+                if (command.equals(OnOffType.ON) || command.equals(UpDownType.UP)) {\n+                    changeStatus(\"open\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e9e55d910d4a04bbeeb52796863f437266e48785"}, "originalPosition": 59}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzE0OTYxNw==", "bodyText": "Done. Hopefully it's ok.", "url": "https://github.com/openhab/openhab-addons/pull/7486#discussion_r417149617", "createdAt": "2020-04-29T08:29:55Z", "author": {"login": "psmedley"}, "path": "bundles/org.openhab.binding.opengarage/src/main/java/org/openhab/binding/opengarage/internal/OpenGarageHandler.java", "diffHunk": "@@ -57,20 +60,15 @@ public OpenGarageHandler(Thing thing) {\n     @Override\n     public void handleCommand(ChannelUID channelUID, Command command) {\n         try {\n-            logger.warn(\"Received command {} for thing '{}' on channel {}\", command, thing.getUID().getAsString(),\n-                    channelUID.getId());\n-            switch (channelUID.getId()) {\n-                case OpenGarageBindingConstants.CHANNEL_OG_STATUS:\n-                    if (command instanceof OnOffType) {\n-                        changeStatus(((OnOffType) command).equals(OnOffType.ON));\n-                        return;\n-                    }\n-                    break;\n-                default:\n+            if (channelUID.getId().equals(OpenGarageBindingConstants.CHANNEL_OG_STATUS) || channelUID.getId().equals(OpenGarageBindingConstants.CHANNEL_OG_STATUS_ROLLERSHUTTER)) {\n+                if (command.equals(OnOffType.ON) || command.equals(UpDownType.UP)) {\n+                    changeStatus(\"open\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjk1MTE4MA=="}, "originalCommit": {"oid": "e9e55d910d4a04bbeeb52796863f437266e48785"}, "originalPosition": 59}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYwMjc1ODUxOnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.opengarage/src/main/java/org/openhab/binding/opengarage/internal/OpenGarageWebTargets.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQyMTo0NzozNVrOGO7fvQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wMVQwODo0NjoxOFrOGPFG-g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODMwODAyOQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                public void setControllerVariables(String request) throws OpenGarageCommunicationException {\n          \n          \n            \n                public void setControllerVariables(OpenGarageCommand request) throws OpenGarageCommunicationException {", "url": "https://github.com/openhab/openhab-addons/pull/7486#discussion_r418308029", "createdAt": "2020-04-30T21:47:35Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.opengarage/src/main/java/org/openhab/binding/opengarage/internal/OpenGarageWebTargets.java", "diffHunk": "@@ -45,19 +46,17 @@ public ControllerVariables getControllerVariables() throws OpenGarageCommunicati\n \n     public void setControllerVariables(String request) throws OpenGarageCommunicationException {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a74ebe957ccd4529beb857b11c346d69388e25ae"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODQ2NTUzMA==", "bodyText": "Fixed in next commit", "url": "https://github.com/openhab/openhab-addons/pull/7486#discussion_r418465530", "createdAt": "2020-05-01T08:46:18Z", "author": {"login": "psmedley"}, "path": "bundles/org.openhab.binding.opengarage/src/main/java/org/openhab/binding/opengarage/internal/OpenGarageWebTargets.java", "diffHunk": "@@ -45,19 +46,17 @@ public ControllerVariables getControllerVariables() throws OpenGarageCommunicati\n \n     public void setControllerVariables(String request) throws OpenGarageCommunicationException {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODMwODAyOQ=="}, "originalCommit": {"oid": "a74ebe957ccd4529beb857b11c346d69388e25ae"}, "originalPosition": 10}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYwMjc2MjgwOnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.opengarage/src/main/java/org/openhab/binding/opengarage/internal/OpenGarageWebTargets.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQyMTo0OTowNVrOGO7iRw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wMVQwODo0NjoyNVrOGPFHHw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODMwODY3OQ==", "bodyText": "Once the request is an enum, then you can do a switch statement on it like this:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    if (request.equals(OpenGarageCommand.OPEN.getValue())) {\n          \n          \n            \n                    switch(request){\n          \n          \n            \n                         case OPEN:\n          \n      \n    \n    \n  \n\nThis would eliminate the need for getValue on your enum.\nAnother approach that would utilize the getValue instead of using a switch statement would be to construct the queryParams directly.\nString queryParams = \"&\"+request.getValue()+\"=1\";", "url": "https://github.com/openhab/openhab-addons/pull/7486#discussion_r418308679", "createdAt": "2020-04-30T21:49:05Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.opengarage/src/main/java/org/openhab/binding/opengarage/internal/OpenGarageWebTargets.java", "diffHunk": "@@ -45,19 +46,17 @@ public ControllerVariables getControllerVariables() throws OpenGarageCommunicati\n \n     public void setControllerVariables(String request) throws OpenGarageCommunicationException {\n         logger.debug(\"Received request: {}\", request);\n-          if (request.equals(\"open\")) {\n-              logger.debug(\"Received request to open door\");\n-              String queryParams = \"&open=1\";\n-              invoke(changeControllerVariablesUri, queryParams);\n-          } else if (request.equals(\"close\")) {\n-              logger.debug(\"Received request to close door\");\n-              String queryParams = \"&close=1\";\n-              invoke(changeControllerVariablesUri, queryParams);\n-          } else if (request.equals(\"click\")) {\n-              logger.debug(\"Received request to click remote button\");\n-              String queryParams = \"&click=1\";\n-              invoke(changeControllerVariablesUri, queryParams);\n-          }\n+        String queryParams = null;\n+        if (request.equals(OpenGarageCommand.OPEN.getValue())) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a74ebe957ccd4529beb857b11c346d69388e25ae"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODQ2NTU2Nw==", "bodyText": "Fixed in next commit", "url": "https://github.com/openhab/openhab-addons/pull/7486#discussion_r418465567", "createdAt": "2020-05-01T08:46:25Z", "author": {"login": "psmedley"}, "path": "bundles/org.openhab.binding.opengarage/src/main/java/org/openhab/binding/opengarage/internal/OpenGarageWebTargets.java", "diffHunk": "@@ -45,19 +46,17 @@ public ControllerVariables getControllerVariables() throws OpenGarageCommunicati\n \n     public void setControllerVariables(String request) throws OpenGarageCommunicationException {\n         logger.debug(\"Received request: {}\", request);\n-          if (request.equals(\"open\")) {\n-              logger.debug(\"Received request to open door\");\n-              String queryParams = \"&open=1\";\n-              invoke(changeControllerVariablesUri, queryParams);\n-          } else if (request.equals(\"close\")) {\n-              logger.debug(\"Received request to close door\");\n-              String queryParams = \"&close=1\";\n-              invoke(changeControllerVariablesUri, queryParams);\n-          } else if (request.equals(\"click\")) {\n-              logger.debug(\"Received request to click remote button\");\n-              String queryParams = \"&click=1\";\n-              invoke(changeControllerVariablesUri, queryParams);\n-          }\n+        String queryParams = null;\n+        if (request.equals(OpenGarageCommand.OPEN.getValue())) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODMwODY3OQ=="}, "originalCommit": {"oid": "a74ebe957ccd4529beb857b11c346d69388e25ae"}, "originalPosition": 26}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYwMjc2NjE3OnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.opengarage/src/main/java/org/openhab/binding/opengarage/internal/OpenGarageHandler.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQyMTo1MDoyNVrOGO7kbQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wMVQwODo0NjozMFrOGPFHPQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODMwOTIyOQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                        changeStatus(OpenGarageCommand.OPEN.getValue());\n          \n          \n            \n                                        changeStatus(OpenGarageCommand.OPEN);", "url": "https://github.com/openhab/openhab-addons/pull/7486#discussion_r418309229", "createdAt": "2020-04-30T21:50:25Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.opengarage/src/main/java/org/openhab/binding/opengarage/internal/OpenGarageHandler.java", "diffHunk": "@@ -60,14 +62,23 @@ public OpenGarageHandler(Thing thing) {\n     @Override\n     public void handleCommand(ChannelUID channelUID, Command command) {\n         try {\n-            if (channelUID.getId().equals(OpenGarageBindingConstants.CHANNEL_OG_STATUS) || channelUID.getId().equals(OpenGarageBindingConstants.CHANNEL_OG_STATUS_ROLLERSHUTTER)) {\n-                if (command.equals(OnOffType.ON) || command.equals(UpDownType.UP)) {\n-                    changeStatus(\"open\");\n-                } else if (command.equals(OnOffType.OFF) || command.equals(UpDownType.DOWN)) {\n-                    changeStatus(\"close\");\n-                } else if (command.equals(\"STOP\")) {\n-                    changeStatus(\"click\");\n-                } \n+                logger.warn(\"Received command {} for thing '{}' on channel {}\", command, thing.getUID().getAsString(),\n+                    channelUID.getId());\n+                switch (channelUID.getId()) {\n+                    case OpenGarageBindingConstants.CHANNEL_OG_STATUS:\n+                    case OpenGarageBindingConstants.CHANNEL_OG_STATUS_ROLLERSHUTTER:\n+                        if (command.equals(OnOffType.ON) || command.equals(UpDownType.UP)) {\n+                            changeStatus(OpenGarageCommand.OPEN.getValue());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a74ebe957ccd4529beb857b11c346d69388e25ae"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODQ2NTU5Nw==", "bodyText": "Fixed in next commit", "url": "https://github.com/openhab/openhab-addons/pull/7486#discussion_r418465597", "createdAt": "2020-05-01T08:46:30Z", "author": {"login": "psmedley"}, "path": "bundles/org.openhab.binding.opengarage/src/main/java/org/openhab/binding/opengarage/internal/OpenGarageHandler.java", "diffHunk": "@@ -60,14 +62,23 @@ public OpenGarageHandler(Thing thing) {\n     @Override\n     public void handleCommand(ChannelUID channelUID, Command command) {\n         try {\n-            if (channelUID.getId().equals(OpenGarageBindingConstants.CHANNEL_OG_STATUS) || channelUID.getId().equals(OpenGarageBindingConstants.CHANNEL_OG_STATUS_ROLLERSHUTTER)) {\n-                if (command.equals(OnOffType.ON) || command.equals(UpDownType.UP)) {\n-                    changeStatus(\"open\");\n-                } else if (command.equals(OnOffType.OFF) || command.equals(UpDownType.DOWN)) {\n-                    changeStatus(\"close\");\n-                } else if (command.equals(\"STOP\")) {\n-                    changeStatus(\"click\");\n-                } \n+                logger.warn(\"Received command {} for thing '{}' on channel {}\", command, thing.getUID().getAsString(),\n+                    channelUID.getId());\n+                switch (channelUID.getId()) {\n+                    case OpenGarageBindingConstants.CHANNEL_OG_STATUS:\n+                    case OpenGarageBindingConstants.CHANNEL_OG_STATUS_ROLLERSHUTTER:\n+                        if (command.equals(OnOffType.ON) || command.equals(UpDownType.UP)) {\n+                            changeStatus(OpenGarageCommand.OPEN.getValue());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODMwOTIyOQ=="}, "originalCommit": {"oid": "a74ebe957ccd4529beb857b11c346d69388e25ae"}, "originalPosition": 34}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYwMjc2NjgwOnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.opengarage/src/main/java/org/openhab/binding/opengarage/internal/OpenGarageHandler.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQyMTo1MDo0MFrOGO7k0g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wMVQwODo0Njo1MFrOGPFHtg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODMwOTMzMA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                        changeStatus(OpenGarageCommand.OPEN.getValue());\n          \n          \n            \n                                        changeStatus(OpenGarageCommand.OPEN);", "url": "https://github.com/openhab/openhab-addons/pull/7486#discussion_r418309330", "createdAt": "2020-04-30T21:50:40Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.opengarage/src/main/java/org/openhab/binding/opengarage/internal/OpenGarageHandler.java", "diffHunk": "@@ -57,20 +62,24 @@ public OpenGarageHandler(Thing thing) {\n     @Override\n     public void handleCommand(ChannelUID channelUID, Command command) {\n         try {\n-            logger.warn(\"Received command {} for thing '{}' on channel {}\", command, thing.getUID().getAsString(),\n+                logger.warn(\"Received command {} for thing '{}' on channel {}\", command, thing.getUID().getAsString(),\n                     channelUID.getId());\n-            switch (channelUID.getId()) {\n-                case OpenGarageBindingConstants.CHANNEL_OG_STATUS:\n-                    if (command instanceof OnOffType) {\n-                        changeStatus(((OnOffType) command).equals(OnOffType.ON));\n-                        return;\n-                    }\n-                    break;\n-                default:\n+                switch (channelUID.getId()) {\n+                    case OpenGarageBindingConstants.CHANNEL_OG_STATUS:\n+                    case OpenGarageBindingConstants.CHANNEL_OG_STATUS_ROLLERSHUTTER:\n+                        if (command.equals(OnOffType.ON) || command.equals(UpDownType.UP)) {\n+                            changeStatus(OpenGarageCommand.OPEN.getValue());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a74ebe957ccd4529beb857b11c346d69388e25ae"}, "originalPosition": 64}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODQ2NTcxOA==", "bodyText": "Fixed in next commit", "url": "https://github.com/openhab/openhab-addons/pull/7486#discussion_r418465718", "createdAt": "2020-05-01T08:46:50Z", "author": {"login": "psmedley"}, "path": "bundles/org.openhab.binding.opengarage/src/main/java/org/openhab/binding/opengarage/internal/OpenGarageHandler.java", "diffHunk": "@@ -57,20 +62,24 @@ public OpenGarageHandler(Thing thing) {\n     @Override\n     public void handleCommand(ChannelUID channelUID, Command command) {\n         try {\n-            logger.warn(\"Received command {} for thing '{}' on channel {}\", command, thing.getUID().getAsString(),\n+                logger.warn(\"Received command {} for thing '{}' on channel {}\", command, thing.getUID().getAsString(),\n                     channelUID.getId());\n-            switch (channelUID.getId()) {\n-                case OpenGarageBindingConstants.CHANNEL_OG_STATUS:\n-                    if (command instanceof OnOffType) {\n-                        changeStatus(((OnOffType) command).equals(OnOffType.ON));\n-                        return;\n-                    }\n-                    break;\n-                default:\n+                switch (channelUID.getId()) {\n+                    case OpenGarageBindingConstants.CHANNEL_OG_STATUS:\n+                    case OpenGarageBindingConstants.CHANNEL_OG_STATUS_ROLLERSHUTTER:\n+                        if (command.equals(OnOffType.ON) || command.equals(UpDownType.UP)) {\n+                            changeStatus(OpenGarageCommand.OPEN.getValue());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODMwOTMzMA=="}, "originalCommit": {"oid": "a74ebe957ccd4529beb857b11c346d69388e25ae"}, "originalPosition": 64}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYwMjc2NzE2OnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.opengarage/src/main/java/org/openhab/binding/opengarage/internal/OpenGarageHandler.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQyMTo1MDo1MFrOGO7lDg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wMVQwODo0ODowOFrOGPFI8g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODMwOTM5MA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                        changeStatus(OpenGarageCommand.CLOSE.getValue());\n          \n          \n            \n                                        changeStatus(OpenGarageCommand.CLOSE);", "url": "https://github.com/openhab/openhab-addons/pull/7486#discussion_r418309390", "createdAt": "2020-04-30T21:50:50Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.opengarage/src/main/java/org/openhab/binding/opengarage/internal/OpenGarageHandler.java", "diffHunk": "@@ -57,20 +62,24 @@ public OpenGarageHandler(Thing thing) {\n     @Override\n     public void handleCommand(ChannelUID channelUID, Command command) {\n         try {\n-            logger.warn(\"Received command {} for thing '{}' on channel {}\", command, thing.getUID().getAsString(),\n+                logger.warn(\"Received command {} for thing '{}' on channel {}\", command, thing.getUID().getAsString(),\n                     channelUID.getId());\n-            switch (channelUID.getId()) {\n-                case OpenGarageBindingConstants.CHANNEL_OG_STATUS:\n-                    if (command instanceof OnOffType) {\n-                        changeStatus(((OnOffType) command).equals(OnOffType.ON));\n-                        return;\n-                    }\n-                    break;\n-                default:\n+                switch (channelUID.getId()) {\n+                    case OpenGarageBindingConstants.CHANNEL_OG_STATUS:\n+                    case OpenGarageBindingConstants.CHANNEL_OG_STATUS_ROLLERSHUTTER:\n+                        if (command.equals(OnOffType.ON) || command.equals(UpDownType.UP)) {\n+                            changeStatus(OpenGarageCommand.OPEN.getValue());\n+                            return;\n+                        } else if (command.equals(OnOffType.OFF) || command.equals(UpDownType.DOWN)) {\n+                            changeStatus(OpenGarageCommand.CLOSE.getValue());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a74ebe957ccd4529beb857b11c346d69388e25ae"}, "originalPosition": 67}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODQ2NjAzNA==", "bodyText": "Fixed in next commit", "url": "https://github.com/openhab/openhab-addons/pull/7486#discussion_r418466034", "createdAt": "2020-05-01T08:48:08Z", "author": {"login": "psmedley"}, "path": "bundles/org.openhab.binding.opengarage/src/main/java/org/openhab/binding/opengarage/internal/OpenGarageHandler.java", "diffHunk": "@@ -57,20 +62,24 @@ public OpenGarageHandler(Thing thing) {\n     @Override\n     public void handleCommand(ChannelUID channelUID, Command command) {\n         try {\n-            logger.warn(\"Received command {} for thing '{}' on channel {}\", command, thing.getUID().getAsString(),\n+                logger.warn(\"Received command {} for thing '{}' on channel {}\", command, thing.getUID().getAsString(),\n                     channelUID.getId());\n-            switch (channelUID.getId()) {\n-                case OpenGarageBindingConstants.CHANNEL_OG_STATUS:\n-                    if (command instanceof OnOffType) {\n-                        changeStatus(((OnOffType) command).equals(OnOffType.ON));\n-                        return;\n-                    }\n-                    break;\n-                default:\n+                switch (channelUID.getId()) {\n+                    case OpenGarageBindingConstants.CHANNEL_OG_STATUS:\n+                    case OpenGarageBindingConstants.CHANNEL_OG_STATUS_ROLLERSHUTTER:\n+                        if (command.equals(OnOffType.ON) || command.equals(UpDownType.UP)) {\n+                            changeStatus(OpenGarageCommand.OPEN.getValue());\n+                            return;\n+                        } else if (command.equals(OnOffType.OFF) || command.equals(UpDownType.DOWN)) {\n+                            changeStatus(OpenGarageCommand.CLOSE.getValue());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODMwOTM5MA=="}, "originalCommit": {"oid": "a74ebe957ccd4529beb857b11c346d69388e25ae"}, "originalPosition": 67}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYwMjc3Nzk2OnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.opengarage/src/main/java/org/openhab/binding/opengarage/internal/OpenGarageHandler.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQyMTo1NDozNlrOGO7rqw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wMVQwODo0ODoxN1rOGPFJDA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODMxMTA4Mw==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                        changeStatus(OpenGarageCommand.CLICK.getValue());\n          \n          \n            \n                                        changeStatus(OpenGarageCommand.CLICK);", "url": "https://github.com/openhab/openhab-addons/pull/7486#discussion_r418311083", "createdAt": "2020-04-30T21:54:36Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.opengarage/src/main/java/org/openhab/binding/opengarage/internal/OpenGarageHandler.java", "diffHunk": "@@ -57,20 +62,24 @@ public OpenGarageHandler(Thing thing) {\n     @Override\n     public void handleCommand(ChannelUID channelUID, Command command) {\n         try {\n-            logger.warn(\"Received command {} for thing '{}' on channel {}\", command, thing.getUID().getAsString(),\n+                logger.warn(\"Received command {} for thing '{}' on channel {}\", command, thing.getUID().getAsString(),\n                     channelUID.getId());\n-            switch (channelUID.getId()) {\n-                case OpenGarageBindingConstants.CHANNEL_OG_STATUS:\n-                    if (command instanceof OnOffType) {\n-                        changeStatus(((OnOffType) command).equals(OnOffType.ON));\n-                        return;\n-                    }\n-                    break;\n-                default:\n+                switch (channelUID.getId()) {\n+                    case OpenGarageBindingConstants.CHANNEL_OG_STATUS:\n+                    case OpenGarageBindingConstants.CHANNEL_OG_STATUS_ROLLERSHUTTER:\n+                        if (command.equals(OnOffType.ON) || command.equals(UpDownType.UP)) {\n+                            changeStatus(OpenGarageCommand.OPEN.getValue());\n+                            return;\n+                        } else if (command.equals(OnOffType.OFF) || command.equals(UpDownType.DOWN)) {\n+                            changeStatus(OpenGarageCommand.CLOSE.getValue());\n+                            return;\n+                        } else if (command.equals(StopMoveType.STOP)) {\n+                            changeStatus(OpenGarageCommand.CLICK.getValue());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a74ebe957ccd4529beb857b11c346d69388e25ae"}, "originalPosition": 70}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODQ2NjA2MA==", "bodyText": "Fixed in next commit", "url": "https://github.com/openhab/openhab-addons/pull/7486#discussion_r418466060", "createdAt": "2020-05-01T08:48:17Z", "author": {"login": "psmedley"}, "path": "bundles/org.openhab.binding.opengarage/src/main/java/org/openhab/binding/opengarage/internal/OpenGarageHandler.java", "diffHunk": "@@ -57,20 +62,24 @@ public OpenGarageHandler(Thing thing) {\n     @Override\n     public void handleCommand(ChannelUID channelUID, Command command) {\n         try {\n-            logger.warn(\"Received command {} for thing '{}' on channel {}\", command, thing.getUID().getAsString(),\n+                logger.warn(\"Received command {} for thing '{}' on channel {}\", command, thing.getUID().getAsString(),\n                     channelUID.getId());\n-            switch (channelUID.getId()) {\n-                case OpenGarageBindingConstants.CHANNEL_OG_STATUS:\n-                    if (command instanceof OnOffType) {\n-                        changeStatus(((OnOffType) command).equals(OnOffType.ON));\n-                        return;\n-                    }\n-                    break;\n-                default:\n+                switch (channelUID.getId()) {\n+                    case OpenGarageBindingConstants.CHANNEL_OG_STATUS:\n+                    case OpenGarageBindingConstants.CHANNEL_OG_STATUS_ROLLERSHUTTER:\n+                        if (command.equals(OnOffType.ON) || command.equals(UpDownType.UP)) {\n+                            changeStatus(OpenGarageCommand.OPEN.getValue());\n+                            return;\n+                        } else if (command.equals(OnOffType.OFF) || command.equals(UpDownType.DOWN)) {\n+                            changeStatus(OpenGarageCommand.CLOSE.getValue());\n+                            return;\n+                        } else if (command.equals(StopMoveType.STOP)) {\n+                            changeStatus(OpenGarageCommand.CLICK.getValue());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODMxMTA4Mw=="}, "originalCommit": {"oid": "a74ebe957ccd4529beb857b11c346d69388e25ae"}, "originalPosition": 70}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYwMjc4NzQyOnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.opengarage/src/main/resources/ESH-INF/thing/thing-types.xml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQyMTo1Nzo1OVrOGO7xJQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wMVQwODo0OTowM1rOGPFKBQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODMxMjQ4NQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\t<label>Rollershuter Status</label>\n          \n          \n            \n            \t\t<label>Rollershutter Status</label>", "url": "https://github.com/openhab/openhab-addons/pull/7486#discussion_r418312485", "createdAt": "2020-04-30T21:57:59Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.opengarage/src/main/resources/ESH-INF/thing/thing-types.xml", "diffHunk": "@@ -48,7 +50,18 @@\n \t<channel-type id=\"opengarage-status\">\n \t\t<item-type>Switch</item-type>\n \t\t<label>Status</label>\n-\t\t<description>Status of the OG unit</description>\n+\t\t<description>On/Off Status of the OG unit</description>\n+\t</channel-type>\n+\t<channel-type id=\"opengarage-status-contact\">\n+\t\t<item-type>Contact</item-type>\n+\t\t<label>Contact Status</label>\n+\t\t<description>Contact Status of the OG unit</description>\n+\t\t<state readOnly=\"true\"/>\n+\t</channel-type>\n+\t<channel-type id=\"opengarage-status-rollershutter\">\n+\t\t<item-type>Rollershutter</item-type>\n+\t\t<label>Rollershuter Status</label>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a74ebe957ccd4529beb857b11c346d69388e25ae"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODQ2NjMwOQ==", "bodyText": "Fixed in next commit", "url": "https://github.com/openhab/openhab-addons/pull/7486#discussion_r418466309", "createdAt": "2020-05-01T08:49:03Z", "author": {"login": "psmedley"}, "path": "bundles/org.openhab.binding.opengarage/src/main/resources/ESH-INF/thing/thing-types.xml", "diffHunk": "@@ -48,7 +50,18 @@\n \t<channel-type id=\"opengarage-status\">\n \t\t<item-type>Switch</item-type>\n \t\t<label>Status</label>\n-\t\t<description>Status of the OG unit</description>\n+\t\t<description>On/Off Status of the OG unit</description>\n+\t</channel-type>\n+\t<channel-type id=\"opengarage-status-contact\">\n+\t\t<item-type>Contact</item-type>\n+\t\t<label>Contact Status</label>\n+\t\t<description>Contact Status of the OG unit</description>\n+\t\t<state readOnly=\"true\"/>\n+\t</channel-type>\n+\t<channel-type id=\"opengarage-status-rollershutter\">\n+\t\t<item-type>Rollershutter</item-type>\n+\t\t<label>Rollershuter Status</label>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODMxMjQ4NQ=="}, "originalCommit": {"oid": "a74ebe957ccd4529beb857b11c346d69388e25ae"}, "originalPosition": 30}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYwNTQzNTY2OnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.opengarage/src/main/java/org/openhab/binding/opengarage/internal/OpenGarageWebTargets.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wMVQyMDoxODoxMlrOGPUnfQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wMlQwMDoyMzozMlrOGPYyLg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODcxOTYxMw==", "bodyText": "You forgot to add break statements.\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                          queryParams = \"&open=1\";\n          \n          \n            \n                        case CLOSE:\n          \n          \n            \n                          queryParams = \"&close=1\";\n          \n          \n            \n                        case CLICK:\n          \n          \n            \n                          queryParams = \"&click=1\";\n          \n          \n            \n                          queryParams = \"&open=1\";\n          \n          \n            \n                          break;\n          \n          \n            \n                        case CLOSE:\n          \n          \n            \n                          queryParams = \"&close=1\";\n          \n          \n            \n                          break;\n          \n          \n            \n                        case CLICK:\n          \n          \n            \n                          queryParams = \"&click=1\";\n          \n          \n            \n                          break;", "url": "https://github.com/openhab/openhab-addons/pull/7486#discussion_r418719613", "createdAt": "2020-05-01T20:18:12Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.opengarage/src/main/java/org/openhab/binding/opengarage/internal/OpenGarageWebTargets.java", "diffHunk": "@@ -43,15 +44,18 @@ public ControllerVariables getControllerVariables() throws OpenGarageCommunicati\n         return ControllerVariables.parse(response);\n     }\n \n-    public void setControllerVariables(boolean request) throws OpenGarageCommunicationException {\n+    public void setControllerVariables(OpenGarageCommand request) throws OpenGarageCommunicationException {\n         logger.debug(\"Received request: {}\", request);\n-        if (request) {\n-            logger.debug(\"Received request to open door\");\n-            String queryParams = \"&open=1\";\n-            invoke(changeControllerVariablesUri, queryParams);\n-        } else {\n-            logger.debug(\"Received request to close door\");\n-            String queryParams = \"&close=1\";\n+        String queryParams = null;\n+        switch (request) {\n+            case OPEN:\n+              queryParams = \"&open=1\";\n+            case CLOSE:\n+              queryParams = \"&close=1\";\n+            case CLICK:\n+              queryParams = \"&click=1\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a79330dc6461b9bc391d32c0953d00df4d1b486e"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODc4Nzg4Ng==", "bodyText": "Fixed in last commit", "url": "https://github.com/openhab/openhab-addons/pull/7486#discussion_r418787886", "createdAt": "2020-05-02T00:23:32Z", "author": {"login": "psmedley"}, "path": "bundles/org.openhab.binding.opengarage/src/main/java/org/openhab/binding/opengarage/internal/OpenGarageWebTargets.java", "diffHunk": "@@ -43,15 +44,18 @@ public ControllerVariables getControllerVariables() throws OpenGarageCommunicati\n         return ControllerVariables.parse(response);\n     }\n \n-    public void setControllerVariables(boolean request) throws OpenGarageCommunicationException {\n+    public void setControllerVariables(OpenGarageCommand request) throws OpenGarageCommunicationException {\n         logger.debug(\"Received request: {}\", request);\n-        if (request) {\n-            logger.debug(\"Received request to open door\");\n-            String queryParams = \"&open=1\";\n-            invoke(changeControllerVariablesUri, queryParams);\n-        } else {\n-            logger.debug(\"Received request to close door\");\n-            String queryParams = \"&close=1\";\n+        String queryParams = null;\n+        switch (request) {\n+            case OPEN:\n+              queryParams = \"&open=1\";\n+            case CLOSE:\n+              queryParams = \"&close=1\";\n+            case CLICK:\n+              queryParams = \"&click=1\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODcxOTYxMw=="}, "originalCommit": {"oid": "a79330dc6461b9bc391d32c0953d00df4d1b486e"}, "originalPosition": 29}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYwNzM3Nzc0OnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.opengarage/src/main/java/org/openhab/binding/opengarage/internal/OpenGarageHandler.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wMlQxMzo0NDoxNFrOGPjVuw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wMlQyMjo0Nzo1OFrOGPmzZA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODk2MDgyNw==", "bodyText": "Please change to debug", "url": "https://github.com/openhab/openhab-addons/pull/7486#discussion_r418960827", "createdAt": "2020-05-02T13:44:14Z", "author": {"login": "digitaldan"}, "path": "bundles/org.openhab.binding.opengarage/src/main/java/org/openhab/binding/opengarage/internal/OpenGarageHandler.java", "diffHunk": "@@ -57,20 +62,25 @@ public OpenGarageHandler(Thing thing) {\n     @Override\n     public void handleCommand(ChannelUID channelUID, Command command) {\n         try {\n-            logger.warn(\"Received command {} for thing '{}' on channel {}\", command, thing.getUID().getAsString(),\n+                logger.warn(\"Received command {} for thing '{}' on channel {}\", command, thing.getUID().getAsString(),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "148e1df92e8bb703c5cbead573de7688b563cf87"}, "originalPosition": 50}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTAxNzU3Mg==", "bodyText": "Fixed in latest commmit", "url": "https://github.com/openhab/openhab-addons/pull/7486#discussion_r419017572", "createdAt": "2020-05-02T22:47:58Z", "author": {"login": "psmedley"}, "path": "bundles/org.openhab.binding.opengarage/src/main/java/org/openhab/binding/opengarage/internal/OpenGarageHandler.java", "diffHunk": "@@ -57,20 +62,25 @@ public OpenGarageHandler(Thing thing) {\n     @Override\n     public void handleCommand(ChannelUID channelUID, Command command) {\n         try {\n-            logger.warn(\"Received command {} for thing '{}' on channel {}\", command, thing.getUID().getAsString(),\n+                logger.warn(\"Received command {} for thing '{}' on channel {}\", command, thing.getUID().getAsString(),", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODk2MDgyNw=="}, "originalCommit": {"oid": "148e1df92e8bb703c5cbead573de7688b563cf87"}, "originalPosition": 50}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYwNzM4MTg5OnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.opengarage/src/main/java/org/openhab/binding/opengarage/internal/OpenGarageHandler.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wMlQxMzo0OToyNVrOGPjXwA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wM1QwNDozNDo1OVrOGPohzw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODk2MTM0NA==", "bodyText": "This is a small nit, but do you need a switch statement at all? It only has one outcome.  i would think you could simply remove the switch statement and just jump straight to checking the command types.", "url": "https://github.com/openhab/openhab-addons/pull/7486#discussion_r418961344", "createdAt": "2020-05-02T13:49:25Z", "author": {"login": "digitaldan"}, "path": "bundles/org.openhab.binding.opengarage/src/main/java/org/openhab/binding/opengarage/internal/OpenGarageHandler.java", "diffHunk": "@@ -57,20 +62,25 @@ public OpenGarageHandler(Thing thing) {\n     @Override\n     public void handleCommand(ChannelUID channelUID, Command command) {\n         try {\n-            logger.warn(\"Received command {} for thing '{}' on channel {}\", command, thing.getUID().getAsString(),\n+                logger.warn(\"Received command {} for thing '{}' on channel {}\", command, thing.getUID().getAsString(),\n                     channelUID.getId());\n-            switch (channelUID.getId()) {\n-                case OpenGarageBindingConstants.CHANNEL_OG_STATUS:\n-                    if (command instanceof OnOffType) {\n-                        changeStatus(((OnOffType) command).equals(OnOffType.ON));\n-                        return;\n-                    }\n-                    break;\n-                default:\n+                switch (channelUID.getId()) {\n+                    case OpenGarageBindingConstants.CHANNEL_OG_STATUS:\n+                    case OpenGarageBindingConstants.CHANNEL_OG_STATUS_SWITCH:\n+                    case OpenGarageBindingConstants.CHANNEL_OG_STATUS_ROLLERSHUTTER:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "148e1df92e8bb703c5cbead573de7688b563cf87"}, "originalPosition": 63}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTAxNzc1NA==", "bodyText": "I guess we could do this, I think this is safer as we at least make sure the right channel is receiving the command?", "url": "https://github.com/openhab/openhab-addons/pull/7486#discussion_r419017754", "createdAt": "2020-05-02T22:49:44Z", "author": {"login": "psmedley"}, "path": "bundles/org.openhab.binding.opengarage/src/main/java/org/openhab/binding/opengarage/internal/OpenGarageHandler.java", "diffHunk": "@@ -57,20 +62,25 @@ public OpenGarageHandler(Thing thing) {\n     @Override\n     public void handleCommand(ChannelUID channelUID, Command command) {\n         try {\n-            logger.warn(\"Received command {} for thing '{}' on channel {}\", command, thing.getUID().getAsString(),\n+                logger.warn(\"Received command {} for thing '{}' on channel {}\", command, thing.getUID().getAsString(),\n                     channelUID.getId());\n-            switch (channelUID.getId()) {\n-                case OpenGarageBindingConstants.CHANNEL_OG_STATUS:\n-                    if (command instanceof OnOffType) {\n-                        changeStatus(((OnOffType) command).equals(OnOffType.ON));\n-                        return;\n-                    }\n-                    break;\n-                default:\n+                switch (channelUID.getId()) {\n+                    case OpenGarageBindingConstants.CHANNEL_OG_STATUS:\n+                    case OpenGarageBindingConstants.CHANNEL_OG_STATUS_SWITCH:\n+                    case OpenGarageBindingConstants.CHANNEL_OG_STATUS_ROLLERSHUTTER:", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODk2MTM0NA=="}, "originalCommit": {"oid": "148e1df92e8bb703c5cbead573de7688b563cf87"}, "originalPosition": 63}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTA0NTgzOQ==", "bodyText": "Sounds good to me.", "url": "https://github.com/openhab/openhab-addons/pull/7486#discussion_r419045839", "createdAt": "2020-05-03T04:34:59Z", "author": {"login": "digitaldan"}, "path": "bundles/org.openhab.binding.opengarage/src/main/java/org/openhab/binding/opengarage/internal/OpenGarageHandler.java", "diffHunk": "@@ -57,20 +62,25 @@ public OpenGarageHandler(Thing thing) {\n     @Override\n     public void handleCommand(ChannelUID channelUID, Command command) {\n         try {\n-            logger.warn(\"Received command {} for thing '{}' on channel {}\", command, thing.getUID().getAsString(),\n+                logger.warn(\"Received command {} for thing '{}' on channel {}\", command, thing.getUID().getAsString(),\n                     channelUID.getId());\n-            switch (channelUID.getId()) {\n-                case OpenGarageBindingConstants.CHANNEL_OG_STATUS:\n-                    if (command instanceof OnOffType) {\n-                        changeStatus(((OnOffType) command).equals(OnOffType.ON));\n-                        return;\n-                    }\n-                    break;\n-                default:\n+                switch (channelUID.getId()) {\n+                    case OpenGarageBindingConstants.CHANNEL_OG_STATUS:\n+                    case OpenGarageBindingConstants.CHANNEL_OG_STATUS_SWITCH:\n+                    case OpenGarageBindingConstants.CHANNEL_OG_STATUS_ROLLERSHUTTER:", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODk2MTM0NA=="}, "originalCommit": {"oid": "148e1df92e8bb703c5cbead573de7688b563cf87"}, "originalPosition": 63}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYwNzM5MzM0OnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.opengarage/src/main/java/org/openhab/binding/opengarage/internal/OpenGarageHandler.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wMlQxNDowMzoxNlrOGPjdTg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wMlQyMzowNjoxNlrOGPm5TQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODk2Mjc2Ng==", "bodyText": "small nit pick, would maybe  a switch statement be cleaner here?\nswitch(controllerVariables.door){\n    case 0:\n        updateState(OpenGarageBindingConstants.CHANNEL_OG_STATUS, OnOffType.OFF);\n        updateState(OpenGarageBindingConstants.CHANNEL_OG_STATUS_SWITCH, OnOffType.OFF);\n        updateState(OpenGarageBindingConstants.CHANNEL_OG_STATUS_ROLLERSHUTTER, UpDownType.DOWN);\n        updateState(OpenGarageBindingConstants.CHANNEL_OG_STATUS_CONTACT, OpenClosedType.CLOSED);\n        break;\n    case 1:\n        updateState(OpenGarageBindingConstants.CHANNEL_OG_STATUS, OnOffType.ON);\n        updateState(OpenGarageBindingConstants.CHANNEL_OG_STATUS_SWITCH, OnOffType.ON);\n        updateState(OpenGarageBindingConstants.CHANNEL_OG_STATUS_ROLLERSHUTTER, UpDownType.UP);\n        updateState(OpenGarageBindingConstants.CHANNEL_OG_STATUS_CONTACT, OpenClosedType.OPEN);\n        break;\n    default:\n        logger.warn(\"Received unknown door value: {}\", controllerVariables.door);\n}\nAnd of course the same for the vehicle state below.", "url": "https://github.com/openhab/openhab-addons/pull/7486#discussion_r418962766", "createdAt": "2020-05-02T14:03:16Z", "author": {"login": "digitaldan"}, "path": "bundles/org.openhab.binding.opengarage/src/main/java/org/openhab/binding/opengarage/internal/OpenGarageHandler.java", "diffHunk": "@@ -133,20 +143,26 @@ private void pollStatus() throws IOException {\n                     new QuantityType<>(controllerVariables.dist, MetricPrefix.CENTI(SIUnits.METRE)));\n             if (controllerVariables.door == 0) {\n                 updateState(OpenGarageBindingConstants.CHANNEL_OG_STATUS, OnOffType.OFF);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "148e1df92e8bb703c5cbead573de7688b563cf87"}, "originalPosition": 86}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTAxNzc5Ng==", "bodyText": "I was just looking at this and thinking the same thing :)", "url": "https://github.com/openhab/openhab-addons/pull/7486#discussion_r419017796", "createdAt": "2020-05-02T22:50:23Z", "author": {"login": "psmedley"}, "path": "bundles/org.openhab.binding.opengarage/src/main/java/org/openhab/binding/opengarage/internal/OpenGarageHandler.java", "diffHunk": "@@ -133,20 +143,26 @@ private void pollStatus() throws IOException {\n                     new QuantityType<>(controllerVariables.dist, MetricPrefix.CENTI(SIUnits.METRE)));\n             if (controllerVariables.door == 0) {\n                 updateState(OpenGarageBindingConstants.CHANNEL_OG_STATUS, OnOffType.OFF);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODk2Mjc2Ng=="}, "originalCommit": {"oid": "148e1df92e8bb703c5cbead573de7688b563cf87"}, "originalPosition": 86}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTAxOTA4NQ==", "bodyText": "Fixed in latest commit", "url": "https://github.com/openhab/openhab-addons/pull/7486#discussion_r419019085", "createdAt": "2020-05-02T23:06:16Z", "author": {"login": "psmedley"}, "path": "bundles/org.openhab.binding.opengarage/src/main/java/org/openhab/binding/opengarage/internal/OpenGarageHandler.java", "diffHunk": "@@ -133,20 +143,26 @@ private void pollStatus() throws IOException {\n                     new QuantityType<>(controllerVariables.dist, MetricPrefix.CENTI(SIUnits.METRE)));\n             if (controllerVariables.door == 0) {\n                 updateState(OpenGarageBindingConstants.CHANNEL_OG_STATUS, OnOffType.OFF);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODk2Mjc2Ng=="}, "originalCommit": {"oid": "148e1df92e8bb703c5cbead573de7688b563cf87"}, "originalPosition": 86}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 373, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}