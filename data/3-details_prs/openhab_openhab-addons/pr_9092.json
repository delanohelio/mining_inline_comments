{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI1MTQ0NDc4", "number": 9092, "title": "[ipcamera] Add channel Privacy Mode to Amcrest and Dahua handlers", "bodyText": "Signed-off-by: Thomas B\u00f6rkel thomas@boerkel.de\nThis adds a new channel to the Amcrest/Dahua things for enable/disable of the Privacy Mode of newer Amcrest/Dahua cameras.\nIf changed by another application, it is automatically reflected in the OH item.", "createdAt": "2020-11-21T15:21:41Z", "url": "https://github.com/openhab/openhab-addons/pull/9092", "merged": true, "mergeCommit": {"oid": "8c3a488a30094b1f36be6651b2dd741633a0c0a2"}, "closed": true, "closedAt": "2020-11-26T17:53:53Z", "author": {"login": "sidamos"}, "timelineItems": {"totalCount": 20, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdgG16qAFqTUzODkwMTExNg==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdgOCu2AH2gAyNTI1MTQ0NDc4OjliMTUyY2Y5Nzg3ZmZkNjE1YWZmMjI3ZDY1NjllM2YwZTExYzM0NTA=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM4OTAxMTE2", "url": "https://github.com/openhab/openhab-addons/pull/9092#pullrequestreview-538901116", "createdAt": "2020-11-25T23:21:08Z", "commit": {"oid": "6370083b96e57308440dd3decc7a70c4dccf360b"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM4OTQ3OTcx", "url": "https://github.com/openhab/openhab-addons/pull/9092#pullrequestreview-538947971", "createdAt": "2020-11-26T02:09:35Z", "commit": {"oid": "6370083b96e57308440dd3decc7a70c4dccf360b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM4OTgyNzIy", "url": "https://github.com/openhab/openhab-addons/pull/9092#pullrequestreview-538982722", "createdAt": "2020-11-26T04:14:31Z", "commit": {"oid": "6370083b96e57308440dd3decc7a70c4dccf360b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQwNDoxNDozMlrOH6LQWg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQwNDoxNDozMlrOH6LQWg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDc2Mzg2Ng==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\t<label>Privacy Mode ON/OFF</label>\n          \n          \n            \n            \t\t<label>Enable Privacy Mode</label>", "url": "https://github.com/openhab/openhab-addons/pull/9092#discussion_r530763866", "createdAt": "2020-11-26T04:14:32Z", "author": {"login": "Skinah"}, "path": "bundles/org.openhab.binding.ipcamera/src/main/resources/OH-INF/thing/thing-types.xml", "diffHunk": "@@ -2663,6 +2665,12 @@\n \t\t<category>Light</category>\n \t</channel-type>\n \n+\t<channel-type id=\"enablePrivacyMode\">\n+\t\t<item-type>Switch</item-type>\n+\t\t<label>Privacy Mode ON/OFF</label>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6370083b96e57308440dd3decc7a70c4dccf360b"}, "originalPosition": 22}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM4OTgzNzc4", "url": "https://github.com/openhab/openhab-addons/pull/9092#pullrequestreview-538983778", "createdAt": "2020-11-26T04:18:42Z", "commit": {"oid": "6370083b96e57308440dd3decc7a70c4dccf360b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQwNDoxODo0M1rOH6LUIg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQwNDoxODo0M1rOH6LUIg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDc2NDgzNA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        case CHANNEL_FFMPEG_MOTION_CONTROL:\n          \n          \n            \n                            if (OnOffType.ON.equals(command)) {\n          \n          \n            \n                                ipCameraHandler.motionAlarmEnabled = true;\n          \n          \n            \n                            } else if (OnOffType.OFF.equals(command) || DecimalType.ZERO.equals(command)) {\n          \n          \n            \n                                ipCameraHandler.motionAlarmEnabled = false;\n          \n          \n            \n                                ipCameraHandler.noMotionDetected(CHANNEL_MOTION_ALARM);\n          \n          \n            \n                            } else {\n          \n          \n            \n                                ipCameraHandler.motionAlarmEnabled = true;\n          \n          \n            \n                                ipCameraHandler.motionThreshold = Double.valueOf(command.toString());\n          \n          \n            \n                                ipCameraHandler.motionThreshold = ipCameraHandler.motionThreshold / 10000;\n          \n          \n            \n                            }\n          \n          \n            \n                            ipCameraHandler.setupFfmpegFormat(FFmpegFormat.RTSP_ALARMS);\n          \n          \n            \n                            return;", "url": "https://github.com/openhab/openhab-addons/pull/9092#discussion_r530764834", "createdAt": "2020-11-26T04:18:43Z", "author": {"login": "Skinah"}, "path": "bundles/org.openhab.binding.ipcamera/src/main/java/org/openhab/binding/ipcamera/internal/AmcrestHandler.java", "diffHunk": "@@ -205,6 +213,28 @@ public void handleCommand(ChannelUID channelUID, Command command) {\n                     ipCameraHandler.sendHttpGET(\"/cgi-bin/configManager.cgi?action=setConfig&AlarmOut[1].Mode=0\");\n                 }\n                 return;\n+            case CHANNEL_FFMPEG_MOTION_CONTROL:\n+                if (OnOffType.ON.equals(command)) {\n+                    ipCameraHandler.motionAlarmEnabled = true;\n+                } else if (OnOffType.OFF.equals(command) || DecimalType.ZERO.equals(command)) {\n+                    ipCameraHandler.motionAlarmEnabled = false;\n+                    ipCameraHandler.noMotionDetected(CHANNEL_MOTION_ALARM);\n+                } else {\n+                    ipCameraHandler.motionAlarmEnabled = true;\n+                    ipCameraHandler.motionThreshold = Double.valueOf(command.toString());\n+                    ipCameraHandler.motionThreshold = ipCameraHandler.motionThreshold / 10000;\n+                }\n+                ipCameraHandler.setupFfmpegFormat(FFmpegFormat.RTSP_ALARMS);\n+                return;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6370083b96e57308440dd3decc7a70c4dccf360b"}, "originalPosition": 31}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM4OTg0MDI0", "url": "https://github.com/openhab/openhab-addons/pull/9092#pullrequestreview-538984024", "createdAt": "2020-11-26T04:19:44Z", "commit": {"oid": "6370083b96e57308440dd3decc7a70c4dccf360b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQwNDoxOTo0NFrOH6LVFg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQwNDoxOTo0NFrOH6LVFg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDc2NTA3OA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        case CHANNEL_FFMPEG_MOTION_CONTROL:\n          \n          \n            \n                            if (OnOffType.ON.equals(command)) {\n          \n          \n            \n                                ipCameraHandler.motionAlarmEnabled = true;\n          \n          \n            \n                            } else if (OnOffType.OFF.equals(command) || DecimalType.ZERO.equals(command)) {\n          \n          \n            \n                                ipCameraHandler.motionAlarmEnabled = false;\n          \n          \n            \n                                ipCameraHandler.noMotionDetected(CHANNEL_MOTION_ALARM);\n          \n          \n            \n                            } else {\n          \n          \n            \n                                ipCameraHandler.motionAlarmEnabled = true;\n          \n          \n            \n                                ipCameraHandler.motionThreshold = Double.valueOf(command.toString()) / 10000;\n          \n          \n            \n                            }\n          \n          \n            \n                            ipCameraHandler.setupFfmpegFormat(FFmpegFormat.RTSP_ALARMS);\n          \n          \n            \n                            return;", "url": "https://github.com/openhab/openhab-addons/pull/9092#discussion_r530765078", "createdAt": "2020-11-26T04:19:44Z", "author": {"login": "Skinah"}, "path": "bundles/org.openhab.binding.ipcamera/src/main/java/org/openhab/binding/ipcamera/internal/DahuaHandler.java", "diffHunk": "@@ -251,6 +259,27 @@ public void handleCommand(ChannelUID channelUID, Command command) {\n                     ipCameraHandler.sendHttpGET(\"/cgi-bin/configManager.cgi?action=setConfig&AlarmOut[1].Mode=0\");\n                 }\n                 return;\n+            case CHANNEL_FFMPEG_MOTION_CONTROL:\n+                if (OnOffType.ON.equals(command)) {\n+                    ipCameraHandler.motionAlarmEnabled = true;\n+                } else if (OnOffType.OFF.equals(command) || DecimalType.ZERO.equals(command)) {\n+                    ipCameraHandler.motionAlarmEnabled = false;\n+                    ipCameraHandler.noMotionDetected(CHANNEL_MOTION_ALARM);\n+                } else {\n+                    ipCameraHandler.motionAlarmEnabled = true;\n+                    ipCameraHandler.motionThreshold = Double.valueOf(command.toString()) / 10000;\n+                }\n+                ipCameraHandler.setupFfmpegFormat(FFmpegFormat.RTSP_ALARMS);\n+                return;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6370083b96e57308440dd3decc7a70c4dccf360b"}, "originalPosition": 30}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "67ef1a8c3d0244ccc5638271dcf5e06b7553e365", "author": {"user": {"login": "sidamos", "name": null}}, "url": "https://github.com/openhab/openhab-addons/commit/67ef1a8c3d0244ccc5638271dcf5e06b7553e365", "committedDate": "2020-11-26T07:27:31Z", "message": "Add channel Privacy Mode to Amcrest and Dahua handlers\n\nSigned-off-by: Thomas <thomas@boerkel.de>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0aab82257e60d3254062d3926948ee2c91601275", "author": {"user": {"login": "MikeJMajor", "name": "Mike Major"}}, "url": "https://github.com/openhab/openhab-addons/commit/0aab82257e60d3254062d3926948ee2c91601275", "committedDate": "2020-11-26T07:27:31Z", "message": "[serial] Initial contribution (#8851)\n\nSigned-off-by: Mike Major <mike_j_major@hotmail.com>\nSigned-off-by: Thomas <thomas@boerkel.de>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1264305810742accab5340b9be99db3fcf7995e2", "author": {"user": {"login": "cweitkamp", "name": "Christoph Weitkamp"}}, "url": "https://github.com/openhab/openhab-addons/commit/1264305810742accab5340b9be99db3fcf7995e2", "committedDate": "2020-11-26T07:27:31Z", "message": "[tr064] Fixed minor spelling (#9074)\n\nSigned-off-by: Christoph Weitkamp <github@christophweitkamp.de>\nSigned-off-by: Thomas <thomas@boerkel.de>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "08929c7163cd507c0912e58ea061a02a416d568b", "author": {"user": {"login": "kaikreuzer", "name": "Kai Kreuzer"}}, "url": "https://github.com/openhab/openhab-addons/commit/08929c7163cd507c0912e58ea061a02a416d568b", "committedDate": "2020-11-26T07:27:31Z", "message": "Fixed declaration of representation property (#9073)\n\nSigned-off-by: Kai Kreuzer <kai@openhab.org>\nSigned-off-by: Thomas <thomas@boerkel.de>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "71cde3f99006bbf4470787b8ca94486bb1f6ba10", "author": {"user": {"login": "drohhyn", "name": null}}, "url": "https://github.com/openhab/openhab-addons/commit/71cde3f99006bbf4470787b8ca94486bb1f6ba10", "committedDate": "2020-11-26T07:27:31Z", "message": "Channel types: UPERCASE and typo (#8989)\n\nhttps://community.openhab.org/t/solved-homematic-channel-type-couldn-t-be-resolved/47950/6 shows the solution with UPPERCASE channel name.\nSigned-off-by: drohhyn <drohhyn@qimp.org>\nSigned-off-by: Thomas <thomas@boerkel.de>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a8d8efaeee1500f914f20d4f3acb2090fb14fab2", "author": {"user": {"login": "lolodomo", "name": "lolodomo"}}, "url": "https://github.com/openhab/openhab-addons/commit/a8d8efaeee1500f914f20d4f3acb2090fb14fab2", "committedDate": "2020-11-26T07:27:31Z", "message": "[rfxcom) Use ThingHandlerService for discovery (#9082)\n\nSigned-off-by: Laurent Garnier <lg.hc@free.fr>\nSigned-off-by: Thomas <thomas@boerkel.de>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "306c7691350ba58fbc24ea17d093c13a4a491c6b", "author": {"user": {"login": "lolodomo", "name": "lolodomo"}}, "url": "https://github.com/openhab/openhab-addons/commit/306c7691350ba58fbc24ea17d093c13a4a491c6b", "committedDate": "2020-11-26T07:27:31Z", "message": "[powermax] Use ThingHandlerService for discovery (#9083)\n\nSigned-off-by: Laurent Garnier <lg.hc@free.fr>\nSigned-off-by: Thomas <thomas@boerkel.de>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "decb894af5ae7d382066117330b944486ece3b47", "author": {"user": {"login": "J-N-K", "name": null}}, "url": "https://github.com/openhab/openhab-addons/commit/decb894af5ae7d382066117330b944486ece3b47", "committedDate": "2020-11-26T07:27:31Z", "message": "[http] fix thing-definition (#9080)\n\nSigned-off-by: Jan N. Klug <jan.n.klug@rub.de>\nSigned-off-by: Thomas <thomas@boerkel.de>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "77b230d3e4501990d2b83ad10b4f23c167a69c8d", "author": {"user": {"login": "jimtng", "name": null}}, "url": "https://github.com/openhab/openhab-addons/commit/77b230d3e4501990d2b83ad10b4f23c167a69c8d", "committedDate": "2020-11-26T07:27:31Z", "message": "[fronius] [fronius] Accept null value as zero for inverterdatachannelpac channel (#9077)\n\nSigned-off-by: Jimmy Tanagra <jcode@tanagra.id.au>\nSigned-off-by: Thomas <thomas@boerkel.de>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "420c1f46675b9ef4b7a1cecce6e59090d2eba0d3", "author": {"user": {"login": "Skinah", "name": "Matthew Skinner"}}, "url": "https://github.com/openhab/openhab-addons/commit/420c1f46675b9ef4b7a1cecce6e59090d2eba0d3", "committedDate": "2020-11-26T07:30:42Z", "message": "[ipcamera] Improve ONVIF preset naming (#8948)\n\n* Refactor to prevent endless loop.\n* Allow `-rtsp_transport tcp` to be over-ridden.\n* Display actual preset names\n* Allow IP to not match due to Hostname given in setup.\n* Fix index off by 1\n* Bug fixes for HLS\n* Compatibility fix for GotoPreset\n* Improve default snapshot quality and allow FFmpeg arguments to be\nchanged.\n\nSigned-off-by: Matthew Skinner <matt@pcmus.com>\n\nCo-authored-by: Connor Petty <mistercpp2000@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "78c3f75b974b4eb3924a68711f58e588eb8c4761", "author": {"user": {"login": "druciak", "name": null}}, "url": "https://github.com/openhab/openhab-addons/commit/78c3f75b974b4eb3924a68711f58e588eb8c4761", "committedDate": "2020-11-26T07:30:58Z", "message": "[satel] Fixes for INT-RS module (#9072)\n\nSigned-off-by: Krzysztof Goworek <krzysztof.goworek@gmail.com>\n\nCo-authored-by: Krzysztof Goworek <krzysztof.goworek@gmail.com>\nSigned-off-by: Thomas <thomas@boerkel.de>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "64e8c9935b34d9b798db13108261949d237f9dab", "author": {"user": {"login": "sidamos", "name": null}}, "url": "https://github.com/openhab/openhab-addons/commit/64e8c9935b34d9b798db13108261949d237f9dab", "committedDate": "2020-11-26T07:30:58Z", "message": "Update bundles/org.openhab.binding.ipcamera/src/main/resources/OH-INF/thing/thing-types.xml\n\nCo-authored-by: Matthew Skinner <matt@pcmus.com>\nSigned-off-by: Thomas <thomas@boerkel.de>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "37c821fd49ca50efc2b58ef4fc6ab6d3aee1f4a7", "author": {"user": {"login": "sidamos", "name": null}}, "url": "https://github.com/openhab/openhab-addons/commit/37c821fd49ca50efc2b58ef4fc6ab6d3aee1f4a7", "committedDate": "2020-11-26T07:35:58Z", "message": "Merge branch 'main' into main"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "69a618363da803c2d94f5ed6fadb9162e6fdcd75", "author": {"user": {"login": "sidamos", "name": null}}, "url": "https://github.com/openhab/openhab-addons/commit/69a618363da803c2d94f5ed6fadb9162e6fdcd75", "committedDate": "2020-11-26T07:39:34Z", "message": "Add channel Privacy Mode to Amcrest and Dahua handlers\n\nSigned-off-by: Thomas <thomas@boerkel.de>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9b152cf9787ffd615aff227d6569e3f0e11c3450", "author": {"user": {"login": "kaikreuzer", "name": "Kai Kreuzer"}}, "url": "https://github.com/openhab/openhab-addons/commit/9b152cf9787ffd615aff227d6569e3f0e11c3450", "committedDate": "2020-11-26T07:44:28Z", "message": "removed deprecated author information from binding.xml (#9113)\n\nSigned-off-by: Kai Kreuzer <kai@openhab.org>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4152, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}