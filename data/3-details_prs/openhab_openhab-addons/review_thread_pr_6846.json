{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYzNzIwODI4", "number": 6846, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xN1QwODo1MTozNlrODYv-rw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMFQwOToxNzoyMFrODZJD4Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI3Mjc4NTExOnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.onewiregpio/src/main/resources/ESH-INF/thing/thing-types.xml", "isResolved": true, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xN1QwODo1MTozNlrOFeyRig==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMFQwOToxNjo1NFrOFfXpZw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzgyNTI5MA==", "bodyText": "Please add the bounds also here", "url": "https://github.com/openhab/openhab-addons/pull/6846#discussion_r367825290", "createdAt": "2020-01-17T08:51:36Z", "author": {"login": "martinvw"}, "path": "bundles/org.openhab.binding.onewiregpio/src/main/resources/ESH-INF/thing/thing-types.xml", "diffHunk": "@@ -22,6 +22,13 @@\n \t\t\t\t<default>600</default>\n \t\t\t</parameter>\n \n+\t\t\t<parameter name=\"precision\" type=\"integer\">", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "798efdfe35394295a956d4d7e2effae061acdd0f"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzgzNTM2NA==", "bodyText": "If I add bounds here, do I have to validate that the number is in these bounds in the code?", "url": "https://github.com/openhab/openhab-addons/pull/6846#discussion_r367835364", "createdAt": "2020-01-17T09:17:32Z", "author": {"login": "theater"}, "path": "bundles/org.openhab.binding.onewiregpio/src/main/resources/ESH-INF/thing/thing-types.xml", "diffHunk": "@@ -22,6 +22,13 @@\n \t\t\t\t<default>600</default>\n \t\t\t</parameter>\n \n+\t\t\t<parameter name=\"precision\" type=\"integer\">", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzgyNTI5MA=="}, "originalCommit": {"oid": "798efdfe35394295a956d4d7e2effae061acdd0f"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Nzg4ODI4OQ==", "bodyText": "I think it makes sense to keep the bounds there, I'm in doubt whether it was used only for the UI or also enforced for textual configuration.", "url": "https://github.com/openhab/openhab-addons/pull/6846#discussion_r367888289", "createdAt": "2020-01-17T11:19:59Z", "author": {"login": "martinvw"}, "path": "bundles/org.openhab.binding.onewiregpio/src/main/resources/ESH-INF/thing/thing-types.xml", "diffHunk": "@@ -22,6 +22,13 @@\n \t\t\t\t<default>600</default>\n \t\t\t</parameter>\n \n+\t\t\t<parameter name=\"precision\" type=\"integer\">", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzgyNTI5MA=="}, "originalCommit": {"oid": "798efdfe35394295a956d4d7e2effae061acdd0f"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzkxNDY4Mw==", "bodyText": "Hm... I just looked into the xsd and I'm not quite sure how to do that. Is it through options and writing down the possible values as string with limitToOptions=true afterwards or there is easier way to say it's integer with bounds 0-3?", "url": "https://github.com/openhab/openhab-addons/pull/6846#discussion_r367914683", "createdAt": "2020-01-17T12:35:58Z", "author": {"login": "theater"}, "path": "bundles/org.openhab.binding.onewiregpio/src/main/resources/ESH-INF/thing/thing-types.xml", "diffHunk": "@@ -22,6 +22,13 @@\n \t\t\t\t<default>600</default>\n \t\t\t</parameter>\n \n+\t\t\t<parameter name=\"precision\" type=\"integer\">", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzgyNTI5MA=="}, "originalCommit": {"oid": "798efdfe35394295a956d4d7e2effae061acdd0f"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODQzNzYwNw==", "bodyText": "Sorry I was a little bit sick the last few days so I failed to answer :-)\n\n  \n    \n      openhab-addons/bundles/org.openhab.binding.sensebox/src/main/resources/ESH-INF/config/config-description.xml\n    \n    \n         Line 15\n      in\n      88c4890\n    \n    \n    \n    \n\n        \n          \n           <parameter name=\"refreshInterval\" type=\"integer\" min=\"300\" max=\"86400\"> \n        \n    \n  \n\n\nJust provide min and max", "url": "https://github.com/openhab/openhab-addons/pull/6846#discussion_r368437607", "createdAt": "2020-01-20T09:16:54Z", "author": {"login": "martinvw"}, "path": "bundles/org.openhab.binding.onewiregpio/src/main/resources/ESH-INF/thing/thing-types.xml", "diffHunk": "@@ -22,6 +22,13 @@\n \t\t\t\t<default>600</default>\n \t\t\t</parameter>\n \n+\t\t\t<parameter name=\"precision\" type=\"integer\">", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzgyNTI5MA=="}, "originalCommit": {"oid": "798efdfe35394295a956d4d7e2effae061acdd0f"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI3Mjc4NTUzOnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.onewiregpio/src/main/resources/ESH-INF/thing/thing-types.xml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xN1QwODo1MTo0OVrOFeyR0Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xN1QwODo1MTo0OVrOFeyR0Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzgyNTM2MQ==", "bodyText": "Please capitalize the P", "url": "https://github.com/openhab/openhab-addons/pull/6846#discussion_r367825361", "createdAt": "2020-01-17T08:51:49Z", "author": {"login": "martinvw"}, "path": "bundles/org.openhab.binding.onewiregpio/src/main/resources/ESH-INF/thing/thing-types.xml", "diffHunk": "@@ -22,6 +22,13 @@\n \t\t\t\t<default>600</default>\n \t\t\t</parameter>\n \n+\t\t\t<parameter name=\"precision\" type=\"integer\">\n+\t\t\t\t<label>Sensor precision</label>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "798efdfe35394295a956d4d7e2effae061acdd0f"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI3Mjc5MDE2OnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.onewiregpio/src/main/java/org/openhab/binding/onewiregpio/internal/handler/OneWireGPIOHandler.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xN1QwODo1MzozMVrOFeyUcg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xN1QwODo1MzozMVrOFeyUcg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzgyNjAzNA==", "bodyText": "Consider using the constant 3 as well here to keep the logging correct when the constant is changes in the future", "url": "https://github.com/openhab/openhab-addons/pull/6846#discussion_r367826034", "createdAt": "2020-01-17T08:53:31Z", "author": {"login": "martinvw"}, "path": "bundles/org.openhab.binding.onewiregpio/src/main/java/org/openhab/binding/onewiregpio/internal/handler/OneWireGPIOHandler.java", "diffHunk": "@@ -84,21 +93,25 @@ public void initialize() {\n      * When invalid parameter is found, default value is assigned.\n      */\n     private boolean checkConfiguration() {\n-        Configuration configuration = getConfig();\n-        gpioBusFile = (String) configuration.get(GPIO_BUS_FILE);\n         if (StringUtils.isEmpty(gpioBusFile)) {\n             logger.debug(\"GPIO_BUS_FILE not set. Please check configuration, and set proper path to w1_slave file.\");\n             updateStatus(ThingStatus.OFFLINE, ThingStatusDetail.CONFIGURATION_ERROR,\n                     \"The path to the w1_slave sensor data file is missing.\");\n             return false;\n         }\n \n-        refreshTime = ((Number) configuration.get(REFRESH_TIME)).intValue();\n-        if (refreshTime.intValue() <= 0) {\n-            logger.warn(\"Refresh time [{}] is not valid. Falling back to default value: {}.\", refreshTime,\n+        if (refreshTime <= 0) {\n+            logger.debug(\"Refresh time [{}] is not valid. Falling back to default value: {}.\", refreshTime,\n                     DEFAULT_REFRESH_TIME);\n             refreshTime = DEFAULT_REFRESH_TIME;\n         }\n+\n+        if (precision < 0 || precision > MAX_PRECISION_VALUE) {\n+            logger.debug(\"Precision value {} is outside allowed values [0 - 3]. Falling back to default value: {}.\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "798efdfe35394295a956d4d7e2effae061acdd0f"}, "originalPosition": 76}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI3Njg5NDQxOnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.onewiregpio/src/main/resources/ESH-INF/thing/thing-types.xml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMFQwOToxNzoyMFrOFfXqEQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMFQwOToxNzoyMFrOFfXqEQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODQzNzc3Nw==", "bodyText": "Options are only meant for string parameters", "url": "https://github.com/openhab/openhab-addons/pull/6846#discussion_r368437777", "createdAt": "2020-01-20T09:17:20Z", "author": {"login": "martinvw"}, "path": "bundles/org.openhab.binding.onewiregpio/src/main/resources/ESH-INF/thing/thing-types.xml", "diffHunk": "@@ -22,6 +22,20 @@\n \t\t\t\t<default>600</default>\n \t\t\t</parameter>\n \n+\t\t\t<parameter name=\"precision\" type=\"integer\">\n+\t\t\t\t<label>Sensor Precision</label>\n+\t\t\t\t<description>Sensor precision after floating point.</description>\n+\t\t\t\t<required>false</required>\n+\t\t\t\t<options>\n+\t\t\t\t\t<option value=\"0\">0</option>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5b83bd62ccd6db0794076f4d79a6018be937b570"}, "originalPosition": 9}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1092, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}