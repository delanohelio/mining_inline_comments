{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDgwNDc4NTY4", "number": 8400, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNVQxMToxNDo0NlrOEgmBZA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNlQyMDoxMTowMVrOEgunsQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAyNjEyODM2OnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.sensibo/src/main/java/org/openhab/binding/sensibo/internal/client/RequestLogger.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNVQxMToxNDo0NlrOHNhZGA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNVQxMToxNDo0NlrOHNhZGA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Mzk0MDYzMg==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                private void scambleAndLog(String[] stringsToRemove, String dataToLog) {\n          \n          \n            \n                private void scrambleAndLog(String[] stringsToRemove, String dataToLog) {", "url": "https://github.com/openhab/openhab-addons/pull/8400#discussion_r483940632", "createdAt": "2020-09-05T11:14:46Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.sensibo/src/main/java/org/openhab/binding/sensibo/internal/client/RequestLogger.java", "diffHunk": "@@ -91,18 +91,28 @@ private void dump(final Request request) {\n                 }\n             });\n             request.onResponseContent((theResponse, content) -> contentBuffer\n-                    .append(reformatJson(getCharset(theResponse.getHeaders()).decode(content).toString())));\n+                    .append(getCharset(theResponse.getHeaders()).decode(content).toString()));\n             request.onResponseSuccess(theResponse -> {\n                 if (contentBuffer.length() > 0) {\n                     group.append(\"\\n\");\n-                    group.append(contentBuffer);\n+                    group.append(reformatJson(contentBuffer.toString()));\n                 }\n+\n                 String dataToLog = group.toString();\n-                logger.debug(dataToLog);\n+                scambleAndLog(stringsToRemove, dataToLog);\n             });\n         }\n     }\n \n+    private void scambleAndLog(String[] stringsToRemove, String dataToLog) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f1be9db5436e9b94d8a6c3b32a6c562a35d12d91"}, "originalPosition": 53}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAyNjEyOTcxOnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.sensibo/src/main/java/org/openhab/binding/sensibo/internal/client/RequestLogger.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNVQxMToxNjozMFrOHNhZtg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNVQxMToxNjozMFrOHNhZtg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Mzk0MDc5MA==", "bodyText": "Can you fix the compiler warning? E.g. by storing dataToLog into a local variable.", "url": "https://github.com/openhab/openhab-addons/pull/8400#discussion_r483940790", "createdAt": "2020-09-05T11:16:30Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.sensibo/src/main/java/org/openhab/binding/sensibo/internal/client/RequestLogger.java", "diffHunk": "@@ -91,18 +91,28 @@ private void dump(final Request request) {\n                 }\n             });\n             request.onResponseContent((theResponse, content) -> contentBuffer\n-                    .append(reformatJson(getCharset(theResponse.getHeaders()).decode(content).toString())));\n+                    .append(getCharset(theResponse.getHeaders()).decode(content).toString()));\n             request.onResponseSuccess(theResponse -> {\n                 if (contentBuffer.length() > 0) {\n                     group.append(\"\\n\");\n-                    group.append(contentBuffer);\n+                    group.append(reformatJson(contentBuffer.toString()));\n                 }\n+\n                 String dataToLog = group.toString();\n-                logger.debug(dataToLog);\n+                scambleAndLog(stringsToRemove, dataToLog);\n             });\n         }\n     }\n \n+    private void scambleAndLog(String[] stringsToRemove, String dataToLog) {\n+        for (String stringToRemove : stringsToRemove) {\n+            if (stringToRemove != null) {\n+                dataToLog = dataToLog.replace(stringToRemove, \"<HIDDEN>\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f1be9db5436e9b94d8a6c3b32a6c562a35d12d91"}, "originalPosition": 56}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAyNzUzNzEzOnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.sensibo/src/main/java/org/openhab/binding/sensibo/internal/client/RequestLogger.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNlQyMDoxMTowMVrOHNrrhg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNlQyMDoxMTowMVrOHNrrhg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDEwOTE5MA==", "bodyText": "The compiler complains about storing a reference to a method argument. To fix this, you can store dataLog to a local variable at the beginning of this method.", "url": "https://github.com/openhab/openhab-addons/pull/8400#discussion_r484109190", "createdAt": "2020-09-06T20:11:01Z", "author": {"login": "fwolter"}, "path": "bundles/org.openhab.binding.sensibo/src/main/java/org/openhab/binding/sensibo/internal/client/RequestLogger.java", "diffHunk": "@@ -99,18 +99,16 @@ private void dump(final Request request, String[] stringsToRemove) {\n                 }\n \n                 String dataToLog = group.toString();\n-                scambleAndLog(stringsToRemove, dataToLog);\n+                scrambleAndLog(stringsToRemove, dataToLog);\n             });\n         }\n     }\n \n-    private void scambleAndLog(String[] stringsToRemove, String dataToLog) {\n+    private void scrambleAndLog(String[] stringsToRemove, String dataToLog) {\n         for (String stringToRemove : stringsToRemove) {\n-            if (stringToRemove != null) {\n-                dataToLog = dataToLog.replace(stringToRemove, \"<HIDDEN>\");\n-            }\n+            dataToLog = dataToLog.replace(stringToRemove, \"<HIDDEN>\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6982f2d7c98ee5f0d53a55c003d134ad9d542762"}, "originalPosition": 25}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4460, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}