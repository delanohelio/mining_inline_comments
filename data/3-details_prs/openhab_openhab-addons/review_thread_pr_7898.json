{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMzMjE1MDQz", "number": 7898, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQxNjozOTowOVrOEFnQaw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQxNjo0MTowMVrOEFnTAw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc0MzIxNTE1OnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.hyperion/src/main/java/org/openhab/binding/hyperion/internal/handler/HyperionNgHandler.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQxNjozOTowOVrOGj6H2g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQxNjozOTowOVrOGj6H2g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDMwNTYyNg==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        if(info.getHyperion() != null) {\n          \n          \n            \n                            Hyperion hyperion = info.getHyperion();\n          \n          \n            \n                        Hyperion hyperion = info.getHyperion();\n          \n          \n            \n                        if (hyperion != null) {", "url": "https://github.com/openhab/openhab-addons/pull/7898#discussion_r440305626", "createdAt": "2020-06-15T16:39:09Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.hyperion/src/main/java/org/openhab/binding/hyperion/internal/handler/HyperionNgHandler.java", "diffHunk": "@@ -173,10 +173,12 @@ public void dispose() {\n     protected void handleServerInfoResponse(NgResponse response) {\n         NgInfo info = response.getInfo();\n         if (info != null) {\n-            // update Hyperion\n-            Hyperion hyperion = info.getHyperion();\n-            updateHyperion(hyperion);\n-\n+            // update Hyperion, older API compatibility\n+            if(info.getHyperion() != null) {\n+                Hyperion hyperion = info.getHyperion();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "60e10c542c1c53a2ce7161985a7a08c5721f30c5"}, "originalPosition": 10}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc0MzIyMTc5OnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.hyperion/src/main/java/org/openhab/binding/hyperion/internal/handler/HyperionNgHandler.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQxNjo0MTowMVrOGj6MFg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQxNzo1OTowOFrOGj82Pw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDMwNjcxMA==", "bodyText": "How does the ALL component only correspond to the hyperion enabled channel? Is there no separate enabled channel?", "url": "https://github.com/openhab/openhab-addons/pull/7898#discussion_r440306710", "createdAt": "2020-06-15T16:41:01Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.hyperion/src/main/java/org/openhab/binding/hyperion/internal/handler/HyperionNgHandler.java", "diffHunk": "@@ -295,6 +297,9 @@ private void updateComponents(List<Component> components) {\n                 case COMPONENT_LEDDEVICE:\n                     updateState(CHANNEL_LEDDEVICE, componentState);\n                     break;\n+                case COMPONENT_ALL:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "60e10c542c1c53a2ce7161985a7a08c5721f30c5"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDM1MDI3MQ==", "bodyText": "According to Hyperion docs, sending on/off to special component \"ALL\":\n\nsaves/restores current state of every component,\ntoggles every component on/off,\neffectively disabling/enabling hyperion.\n\nAlso I double checked by looking at their standalone app which comes with Hyperion:\n$ hyperion-remote --help | grep -e Activate -e Deactivate\n  --off                                              Deactivates hyperion\n  --on                                               Activates hyperion\n\nWhat this app do is actually calling API for component \"ALL\":\n$ strace -s 9999 -f -e trace=network,write hyperion-remote --off -a 192.168.0.203:19444 \n...\nwrite(2, \"Connected to: \\\"192.168.0.203:19444\\\"\\n\", 36Connected to: \"192.168.0.203:19444\"\n...\nwrite(2, \"Disable Component \\\"ALL\\\"\\n\", 24Disable Component \"ALL\"\n...\nwrite(5, \"{\\\"command\\\":\\\"componentstate\\\",\\\"componentstate\\\":{\\\"component\\\":\\\"ALL\\\",\\\"state\\\":false}}\\n\", 80) = 80\n...\n\nBasically, there is no dedicated disable/enable channel except API shorthand for disabling/enabling ALL components.\nState updates for HyperionEnabled channel look like this in OH logs:", "url": "https://github.com/openhab/openhab-addons/pull/7898#discussion_r440350271", "createdAt": "2020-06-15T17:59:08Z", "author": {"login": "posseydon6891"}, "path": "bundles/org.openhab.binding.hyperion/src/main/java/org/openhab/binding/hyperion/internal/handler/HyperionNgHandler.java", "diffHunk": "@@ -295,6 +297,9 @@ private void updateComponents(List<Component> components) {\n                 case COMPONENT_LEDDEVICE:\n                     updateState(CHANNEL_LEDDEVICE, componentState);\n                     break;\n+                case COMPONENT_ALL:", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDMwNjcxMA=="}, "originalCommit": {"oid": "60e10c542c1c53a2ce7161985a7a08c5721f30c5"}, "originalPosition": 21}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4765, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}