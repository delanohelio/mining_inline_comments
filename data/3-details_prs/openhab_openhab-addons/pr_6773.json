{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzU5NTA5MjMw", "number": 6773, "title": "[tplinksmarthome] Added support for KP303", "bodyText": "Fixes also global On/Off state of power strip devices.\nCloses #6576", "createdAt": "2020-01-06T11:43:06Z", "url": "https://github.com/openhab/openhab-addons/pull/6773", "merged": true, "mergeCommit": {"oid": "9e81778fdb5870d4727541a0ea367228e8ae07aa"}, "closed": true, "closedAt": "2020-01-10T19:19:39Z", "author": {"login": "Hilbrand"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb3qludgH2gAyMzU5NTA5MjMwOjFkYTU5ZjI1NjJkZDZiZmU3YWMxZWE1NTc4ZTJlM2VjODI2NTAyZTU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb5DlPKAFqTM0MTM3MDAzMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "1da59f2562dd6bfe7ac1ea5578e2e3ec826502e5", "author": {"user": {"login": "Hilbrand", "name": "Hilbrand Bouwkamp"}}, "url": "https://github.com/openhab/openhab-addons/commit/1da59f2562dd6bfe7ac1ea5578e2e3ec826502e5", "committedDate": "2020-01-06T11:37:59Z", "message": "[tplinksmarthome] Added support for KP303\n\nFixes also global On/Off state of power strip devices.\n\nCloses #6576\n\nSigned-off-by: Hilbrand Bouwkamp <hilbrand@h72.nl>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM5NDU4Mzk0", "url": "https://github.com/openhab/openhab-addons/pull/6773#pullrequestreview-339458394", "createdAt": "2020-01-07T19:34:01Z", "commit": {"oid": "1da59f2562dd6bfe7ac1ea5578e2e3ec826502e5"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wN1QxOTozNDowMVrOFbDkBg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wN1QxOTozNDowMVrOFbDkBg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzkxNDI0Ng==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    for (int i = 0; i < childIds.size(); i++) {\n          \n          \n            \n                    return deviceState.getSysinfo().getChildren().stream().parallel().filter(e -> OnOffType.ON.equals(e.getState())).findAny().isPresent();", "url": "https://github.com/openhab/openhab-addons/pull/6773#discussion_r363914246", "createdAt": "2020-01-07T19:34:01Z", "author": {"login": "J-N-K"}, "path": "bundles/org.openhab.binding.tplinksmarthome/src/main/java/org/openhab/binding/tplinksmarthome/internal/device/PowerStripDevice.java", "diffHunk": "@@ -73,7 +68,18 @@ public void refreshedDeviceState(@Nullable DeviceState deviceState) {\n     }\n \n     @Override\n-    public State updateChannel(ChannelUID channelUid, DeviceState deviceState) {\n+    protected State getOnOffState(final DeviceState deviceState) {\n+        // Global On/Off state is determined by the combined state of all sockets. If 1 socket is on, the state is on.\n+        for (int i = 0; i < childIds.size(); i++) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1da59f2562dd6bfe7ac1ea5578e2e3ec826502e5"}, "originalPosition": 55}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dc93b6d3505befe2d4937b600b430cc2c4407ca1", "author": {"user": {"login": "Hilbrand", "name": "Hilbrand Bouwkamp"}}, "url": "https://github.com/openhab/openhab-addons/commit/dc93b6d3505befe2d4937b600b430cc2c4407ca1", "committedDate": "2020-01-08T14:26:15Z", "message": "Review comment\n\nSigned-off-by: Hilbrand Bouwkamp <hilbrand@h72.nl>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQxMzcwMDMy", "url": "https://github.com/openhab/openhab-addons/pull/6773#pullrequestreview-341370032", "createdAt": "2020-01-10T19:19:00Z", "commit": {"oid": "dc93b6d3505befe2d4937b600b430cc2c4407ca1"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1546, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}