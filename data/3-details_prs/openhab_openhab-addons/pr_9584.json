{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQ2NjAzMTQ3", "number": 9584, "title": "[http] add pre-emptive basic authentication and fix header handling", "bodyText": "Fixes #9567\nIn some cases HTTP servers  respond with 400/Bad Request (and a message saying \"unauthorized\" in the content) instead of 401/Unauthorized if they require authentication. Since Jetty sends auth-headers only if the are requested by the server via 401, connections to these servers fail. This allows to force sending the Basic-Auth header in the initial request.\nAlso made sure that empty additional header entries are removed before headers are processed.", "createdAt": "2020-12-29T19:15:57Z", "url": "https://github.com/openhab/openhab-addons/pull/9584", "merged": true, "mergeCommit": {"oid": "eaae9780ea35325e972065cbcb0a140c95a5dd29"}, "closed": true, "closedAt": "2020-12-31T11:23:33Z", "author": {"login": "J-N-K"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdq_uWZAH2gAyNTQ2NjAzMTQ3OmJmMDU3NmNiYWE3NDBjYzIxNmNmOWE3MzVjMGNmMGI4NGYxYjZiYWY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdrh8dYgFqTU2MDMyNjM4MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "bf0576cbaa740cc216cf9a735c0cf0b84f1b6baf", "author": {"user": {"login": "J-N-K", "name": null}}, "url": "https://github.com/openhab/openhab-addons/commit/bf0576cbaa740cc216cf9a735c0cf0b84f1b6baf", "committedDate": "2020-12-29T19:16:42Z", "message": "add preemptive basic authentication\n\nSigned-off-by: Jan N. Klug <jan.n.klug@rub.de>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "25cf85722d54f5cbdcd2605e678bb7cb514e8fae", "author": {"user": {"login": "J-N-K", "name": null}}, "url": "https://github.com/openhab/openhab-addons/commit/25cf85722d54f5cbdcd2605e678bb7cb514e8fae", "committedDate": "2020-12-29T19:18:59Z", "message": "improve header handling\n\nSigned-off-by: Jan N. Klug <jan.n.klug@rub.de>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "db865d83cf6410f05a44e3032dc2a5a6ef03b45c", "author": {"user": {"login": "J-N-K", "name": null}}, "url": "https://github.com/openhab/openhab-addons/commit/db865d83cf6410f05a44e3032dc2a5a6ef03b45c", "committedDate": "2020-12-29T19:11:36Z", "message": "improve header handling\n\nSigned-off-by: Jan N. Klug <jan.n.klug@rub.de>"}, "afterCommit": {"oid": "25cf85722d54f5cbdcd2605e678bb7cb514e8fae", "author": {"user": {"login": "J-N-K", "name": null}}, "url": "https://github.com/openhab/openhab-addons/commit/25cf85722d54f5cbdcd2605e678bb7cb514e8fae", "committedDate": "2020-12-29T19:18:59Z", "message": "improve header handling\n\nSigned-off-by: Jan N. Klug <jan.n.klug@rub.de>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU5NzMzNTUy", "url": "https://github.com/openhab/openhab-addons/pull/9584#pullrequestreview-559733552", "createdAt": "2020-12-29T23:04:28Z", "commit": {"oid": "25cf85722d54f5cbdcd2605e678bb7cb514e8fae"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOVQyMzowNDoyOFrOIMaG4Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOVQyMzowNDoyOFrOIMaG4Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTg4MTU2OQ==", "bodyText": "Typo fix:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            *Note:* The `BASIC_PREEMPTIVE` modes adds basic authentication headers even if the server did not request authentication.\n          \n          \n            \n            *Note:* The `BASIC_PREEMPTIVE` mode adds basic authentication headers even if the server did not request authentication.", "url": "https://github.com/openhab/openhab-addons/pull/9584#discussion_r549881569", "createdAt": "2020-12-29T23:04:28Z", "author": {"login": "t2000"}, "path": "bundles/org.openhab.binding.http/README.md", "diffHunk": "@@ -18,14 +18,19 @@ It can be extended with different channels.\n | `delay`           | no       |    0    | Delay between two requests in ms (advanced parameter). |\n | `username`        | yes      |    -    | Username for authentication (advanced parameter). |\n | `password`        | yes      |    -    | Password for authentication (advanced parameter). |\n-| `authMode`        | no       |  BASIC  | Authentication mode, `BASIC` or `DIGEST` (advanced parameter). |\n+| `authMode`        | no       |  BASIC  | Authentication mode, `BASIC`, `BASIC_PREEMPTIVE` or `DIGEST` (advanced parameter). |\n | `commandMethod`   | no       |   GET   | Method used for sending commands `GET`, `PUT`, `POST`. |\n | `contentType`     | yes      |    -    | MIME content-type of the command requests. Only used for  `PUT` and `POST`. |\n | `encoding`        | yes      |    -    | Encoding to be used if no encoding is found in responses (advanced parameter). |  \n | `headers`         | yes      |    -    | Additional headers that are sent along with the request. Format is \"header=value\".| \n | `ignoreSSLErrors` | no       |  false  | If set to true ignores invalid SSL certificate errors. This is potentially dangerous.|\n \n-*Note:* optional \"no\" means that you have to configure a value unless a default is provided and you are ok with that setting.\n+*Note:* Optional \"no\" means that you have to configure a value unless a default is provided and you are ok with that setting.\n+\n+*Note:* The `BASIC_PREEMPTIVE` modes adds basic authentication headers even if the server did not request authentication.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "25cf85722d54f5cbdcd2605e678bb7cb514e8fae"}, "originalPosition": 15}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "247b37173e6de5dd2d32367dd04531c9dcc8786a", "author": {"user": {"login": "J-N-K", "name": null}}, "url": "https://github.com/openhab/openhab-addons/commit/247b37173e6de5dd2d32367dd04531c9dcc8786a", "committedDate": "2020-12-29T23:11:02Z", "message": "Update bundles/org.openhab.binding.http/README.md\n\nCo-authored-by: t2000 <t2000@users.noreply.github.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTYwMzI2Mzgx", "url": "https://github.com/openhab/openhab-addons/pull/9584#pullrequestreview-560326381", "createdAt": "2020-12-31T11:08:53Z", "commit": {"oid": "247b37173e6de5dd2d32367dd04531c9dcc8786a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3653, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}