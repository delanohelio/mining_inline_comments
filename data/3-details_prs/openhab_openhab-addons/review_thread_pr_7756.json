{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIyMzEwMzcz", "number": 7756, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yM1QxOTo0MDo1NFrOD_Jsww==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yM1QyMToyMzo0MlrOD_KArw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY3NTQ1Nzk1OnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.weatherunderground/src/main/java/org/openhab/binding/weatherunderground/internal/handler/WeatherUndergroundHandler.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yM1QxOTo0MDo1NFrOGZrCwQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yM1QyMDowMDowOFrOGZrHdg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTU3MjgwMQ==", "bodyText": "We are currently in the process of removing use of apache commons.lang from addons, so please implement trimToEmpty by hand here.", "url": "https://github.com/openhab/openhab-addons/pull/7756#discussion_r429572801", "createdAt": "2020-05-23T19:40:54Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.weatherunderground/src/main/java/org/openhab/binding/weatherunderground/internal/handler/WeatherUndergroundHandler.java", "diffHunk": "@@ -553,7 +551,9 @@ private boolean updateWeatherData(Set<String> features) {\n             }\n \n             urlStr = urlStr.replace(\"%QUERY%\", StringUtils.trimToEmpty(config.location));\n-            logger.debug(\"URL = {}\", urlStr);\n+            logger.debug(\"URL = {}\", urlStr.replace(\"%APIKEY%\", \"***\"));\n+\n+            urlStr = urlStr.replace(\"%APIKEY%\", StringUtils.trimToEmpty(bridgeHandler.getApikey()));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c9448fec0331892b277fddfd604bbe3d6e569b66"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTU3NDAwNg==", "bodyText": "I will do it in a separate PR please.\nAs you can see in my current PR, this line is not new but just moved.\nJust changing this line would have no sense as there are several similar lines to be changed.\nAnd I consider this PR as of a higher priority (security).", "url": "https://github.com/openhab/openhab-addons/pull/7756#discussion_r429574006", "createdAt": "2020-05-23T20:00:08Z", "author": {"login": "lolodomo"}, "path": "bundles/org.openhab.binding.weatherunderground/src/main/java/org/openhab/binding/weatherunderground/internal/handler/WeatherUndergroundHandler.java", "diffHunk": "@@ -553,7 +551,9 @@ private boolean updateWeatherData(Set<String> features) {\n             }\n \n             urlStr = urlStr.replace(\"%QUERY%\", StringUtils.trimToEmpty(config.location));\n-            logger.debug(\"URL = {}\", urlStr);\n+            logger.debug(\"URL = {}\", urlStr.replace(\"%APIKEY%\", \"***\"));\n+\n+            urlStr = urlStr.replace(\"%APIKEY%\", StringUtils.trimToEmpty(bridgeHandler.getApikey()));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTU3MjgwMQ=="}, "originalCommit": {"oid": "c9448fec0331892b277fddfd604bbe3d6e569b66"}, "originalPosition": 18}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY3NTUwODk1OnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.weatherunderground/src/main/java/org/openhab/binding/weatherunderground/internal/handler/WeatherUndergroundHandler.java", "isResolved": false, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yM1QyMToyMzo0MlrOGZrcbg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNFQwNzowMjowOVrOGZtFow==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTU3OTM3NA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        logger.debug(\"URL = {}\", urlStr.replace(\"%APIKEY%\", \"***\"));\n          \n          \n            \n                        if(logger.isDebugEnabled()){\n          \n          \n            \n                            logger.debug(\"URL = {}\", urlStr.replace(\"%APIKEY%\", \"***\"));\n          \n          \n            \n                        }", "url": "https://github.com/openhab/openhab-addons/pull/7756#discussion_r429579374", "createdAt": "2020-05-23T21:23:42Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.weatherunderground/src/main/java/org/openhab/binding/weatherunderground/internal/handler/WeatherUndergroundHandler.java", "diffHunk": "@@ -553,7 +551,9 @@ private boolean updateWeatherData(Set<String> features) {\n             }\n \n             urlStr = urlStr.replace(\"%QUERY%\", StringUtils.trimToEmpty(config.location));\n-            logger.debug(\"URL = {}\", urlStr);\n+            logger.debug(\"URL = {}\", urlStr.replace(\"%APIKEY%\", \"***\"));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c9448fec0331892b277fddfd604bbe3d6e569b66"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTU4MDY5MA==", "bodyText": "What's the interest to add this test?", "url": "https://github.com/openhab/openhab-addons/pull/7756#discussion_r429580690", "createdAt": "2020-05-23T21:46:28Z", "author": {"login": "lolodomo"}, "path": "bundles/org.openhab.binding.weatherunderground/src/main/java/org/openhab/binding/weatherunderground/internal/handler/WeatherUndergroundHandler.java", "diffHunk": "@@ -553,7 +551,9 @@ private boolean updateWeatherData(Set<String> features) {\n             }\n \n             urlStr = urlStr.replace(\"%QUERY%\", StringUtils.trimToEmpty(config.location));\n-            logger.debug(\"URL = {}\", urlStr);\n+            logger.debug(\"URL = {}\", urlStr.replace(\"%APIKEY%\", \"***\"));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTU3OTM3NA=="}, "originalCommit": {"oid": "c9448fec0331892b277fddfd604bbe3d6e569b66"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTU4MjAwMg==", "bodyText": "Since users may not be interested in debug logging, and as such would be filtered out, you should try to minimize wasting computational resources on creating values to be logged.\nIn this case String.replace involves a search and replace, the result of which might not even be used. So in order to prevent unnecessary calls to this operation we just check if that logging level is even enabled in the first place.", "url": "https://github.com/openhab/openhab-addons/pull/7756#discussion_r429582002", "createdAt": "2020-05-23T22:09:37Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.weatherunderground/src/main/java/org/openhab/binding/weatherunderground/internal/handler/WeatherUndergroundHandler.java", "diffHunk": "@@ -553,7 +551,9 @@ private boolean updateWeatherData(Set<String> features) {\n             }\n \n             urlStr = urlStr.replace(\"%QUERY%\", StringUtils.trimToEmpty(config.location));\n-            logger.debug(\"URL = {}\", urlStr);\n+            logger.debug(\"URL = {}\", urlStr.replace(\"%APIKEY%\", \"***\"));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTU3OTM3NA=="}, "originalCommit": {"oid": "c9448fec0331892b277fddfd604bbe3d6e569b66"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTYwNjMwNw==", "bodyText": "Ok, done.", "url": "https://github.com/openhab/openhab-addons/pull/7756#discussion_r429606307", "createdAt": "2020-05-24T07:02:09Z", "author": {"login": "lolodomo"}, "path": "bundles/org.openhab.binding.weatherunderground/src/main/java/org/openhab/binding/weatherunderground/internal/handler/WeatherUndergroundHandler.java", "diffHunk": "@@ -553,7 +551,9 @@ private boolean updateWeatherData(Set<String> features) {\n             }\n \n             urlStr = urlStr.replace(\"%QUERY%\", StringUtils.trimToEmpty(config.location));\n-            logger.debug(\"URL = {}\", urlStr);\n+            logger.debug(\"URL = {}\", urlStr.replace(\"%APIKEY%\", \"***\"));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTU3OTM3NA=="}, "originalCommit": {"oid": "c9448fec0331892b277fddfd604bbe3d6e569b66"}, "originalPosition": 16}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 117, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}