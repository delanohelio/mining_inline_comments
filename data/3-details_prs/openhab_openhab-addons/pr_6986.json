{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzcyODQwNTY1", "number": 6986, "title": "[infrastructure] exclude feature-templates from spotless formatter", "bodyText": "see #6874\nSigned-off-by: Jan N. Klug jan.n.klug@rub.de", "createdAt": "2020-02-09T15:28:24Z", "url": "https://github.com/openhab/openhab-addons/pull/6986", "merged": true, "mergeCommit": {"oid": "9e969fd3aa5515509ea33c31ac7122b74951da78"}, "closed": true, "closedAt": "2020-02-13T09:42:58Z", "author": {"login": "J-N-K"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcCqPP-AH2gAyMzcyODQwNTY1OjhhZTU4Njk2OGFlZjQwOWIxMzI5YjBjOGNhNDIzMWExZjg5MmZhMDM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcD3to4gFqTM1ODA3NTAxNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "8ae586968aef409b1329b0c8ca4231a1f892fa03", "author": {"user": {"login": "J-N-K", "name": null}}, "url": "https://github.com/openhab/openhab-addons/commit/8ae586968aef409b1329b0c8ca4231a1f892fa03", "committedDate": "2020-02-09T15:26:36Z", "message": "exclude feature-templates\n\nSigned-off-by: Jan N. Klug <jan.n.klug@rub.de>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU1NjE5NTI5", "url": "https://github.com/openhab/openhab-addons/pull/6986#pullrequestreview-355619529", "createdAt": "2020-02-09T16:57:09Z", "commit": {"oid": "8ae586968aef409b1329b0c8ca4231a1f892fa03"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wOVQxNjo1NzoxMFrOFnV9Tw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wOVQxNjo1NzoxMFrOFnV9Tw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Njc5ODU0Mw==", "bodyText": "Together with #6874 in master branch the first build is working when using relative paths:\n                  <exclude>src/main/resources/header.xml</exclude>\n                  <exclude>src/main/resources/footer.xml</exclude>\nThe second build is still failing because of the header in the generated feature file. I guess we have to include openhab/openhab-core#1302 (comment) too:\n[ERROR] Failed to execute goal com.diffplug.spotless:spotless-maven-plugin:1.24.3:check (codestyle_check) on project org.openhab.addons.features.karaf.openhab-addons: The following files had format violations:\n[ERROR]     src/main/feature/feature.xml\n[ERROR]         @@ -1,21 +1,8 @@\n[ERROR]          <?xml\u00b7version=\"1.0\"\u00b7encoding=\"UTF-8\"?>\n[ERROR]         -<!--\n[ERROR]         -\n[ERROR]         -\\tCopyright\u00b7(c)\u00b72010-2020\u00b7Contributors\u00b7to\u00b7the\u00b7openHAB\u00b7project\n[ERROR]         -\n[ERROR]         -\\tSee\u00b7the\u00b7NOTICE\u00b7file(s)\u00b7distributed\u00b7with\u00b7this\u00b7work\u00b7for\u00b7additional\n[ERROR]         -\\tinformation.\n[ERROR]         -\n[ERROR]         -\\tThis\u00b7program\u00b7and\u00b7the\u00b7accompanying\u00b7materials\u00b7are\u00b7made\u00b7available\u00b7under\u00b7the\n[ERROR]         -\\tterms\u00b7of\u00b7the\u00b7Eclipse\u00b7Public\u00b7License\u00b72.0\u00b7which\u00b7is\u00b7available\u00b7at\n[ERROR]         -\\thttp://www.eclipse.org/legal/epl-2.0\n[ERROR]         -\n[ERROR]         -\\tSPDX-License-Identifier:\u00b7EPL-2.0\n[ERROR]         -\n[ERROR]         --->\n[ERROR]         +<!--\u00b7Copyright\u00b7(c)\u00b72010-2020\u00b7Contributors\u00b7to\u00b7the\u00b7openHAB\u00b7project\u00b7See\u00b7the\u00b7NOTICE\u00b7file(s)\u00b7distributed\u00b7with\u00b7this\u00b7work\u00b7for\u00b7additional\u00b7information.\u00b7This\u00b7program\u00b7and\u00b7the\u00b7accompanying\u00b7materials\u00b7are\u00b7made\u00b7available\u00b7under\u00b7the\u00b7terms\u00b7of\u00b7the\u00b7Eclipse\u00b7Public\u00b7License\u00b72.0\u00b7which\u00b7is\u00b7available\u00b7at\u00b7http://www.eclipse.org/legal/epl-2.0\u00b7SPDX-License-Identifier:\u00b7EPL-2.0\u00b7-->\n[ERROR]          <features\u00b7name=\"${project.artifactId}-${project.version}\"\u00b7xmlns=\"http://karaf.apache.org/xmlns/features/v1.4.0\">\n[ERROR]          \n[ERROR]         -\u00b7\u00b7\u00b7\u00b7<repository>mvn:org.openhab.core.features.karaf/org.openhab.core.features.karaf.openhab-core/${ohc.version}/xml/features</repository>\n[ERROR]         +\\t<repository>mvn:org.openhab.core.features.karaf/org.openhab.core.features.karaf.openhab-core/${ohc.version}/xml/features</repository>\n[ERROR]          \n[ERROR]          \\t<feature\u00b7name=\"openhab-binding-kodi\"\u00b7description=\"Kodi\u00b7Binding\"\u00b7version=\"${project.version}\">\n[ERROR]          \\t\\t<feature>openhab-runtime-base</feature>\n[ERROR] Run 'mvn spotless:apply' to fix these violations.\n[ERROR] -> [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n[ERROR] \n[ERROR] After correcting the problems, you can resume the build with the command\n[ERROR]   mvn <goals> -rf :org.openhab.addons.features.karaf.openhab-addons", "url": "https://github.com/openhab/openhab-addons/pull/6986#discussion_r376798543", "createdAt": "2020-02-09T16:57:10Z", "author": {"login": "cweitkamp"}, "path": "pom.xml", "diffHunk": "@@ -549,6 +549,8 @@ Import-Package: \\\\\n                 </excludes>\n                 <excludes>\n                   <exclude>**/feature.xml</exclude>\n+                  <exclude>features/openhab-addons/src/main/resources/header.xml</exclude>\n+                  <exclude>features/openhab-addons/src/main/resources/footer.xml</exclude>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8ae586968aef409b1329b0c8ca4231a1f892fa03"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU4MDc1MDE1", "url": "https://github.com/openhab/openhab-addons/pull/6986#pullrequestreview-358075015", "createdAt": "2020-02-13T09:42:29Z", "commit": {"oid": "8ae586968aef409b1329b0c8ca4231a1f892fa03"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1397, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}