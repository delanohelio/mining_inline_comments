{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTAzNzEyNDI2", "number": 8756, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wOFQwMjowMDowOFrOE2aBwQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wOFQwMjowMDowOFrOE2aBwQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI1NDg0OTkzOnYy", "diffSide": "RIGHT", "path": "bundles/org.openhab.binding.miio/src/main/java/org/openhab/binding/miio/internal/handler/MiIoBasicHandler.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wOFQwMjowMDowOFrOHvMMtQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wOFQwMjowMDowOFrOHvMMtQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTI0NDk4MQ==", "bodyText": "you forgot to add break statements.", "url": "https://github.com/openhab/openhab-addons/pull/8756#discussion_r519244981", "createdAt": "2020-11-08T02:00:08Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.miio/src/main/java/org/openhab/binding/miio/internal/handler/MiIoBasicHandler.java", "diffHunk": "@@ -534,6 +562,37 @@ private void updateChannel(@Nullable MiIoBasicChannel basicChannel, String param\n         }\n     }\n \n+    private void quantityTypeUpdate(MiIoBasicChannel basicChannel, JsonElement val, String type) {\n+        if (!basicChannel.getUnit().isBlank()) {\n+            Unit<?> unit = MiIoQuantiyTypes.get(basicChannel.getUnit());\n+            if (unit != null) {\n+                logger.debug(\"'{}' channel '{}' has unit '{}' with symbol '{}'.\", getThing().getUID(),\n+                        basicChannel.getChannel(), basicChannel.getUnit(), unit);\n+                updateState(basicChannel.getChannel(), new QuantityType<>(val.getAsBigDecimal(), unit));\n+            } else {\n+                logger.debug(\"Unit '{}' used by '{}' channel '{}' is not found.. using default unit.\",\n+                        getThing().getUID(), basicChannel.getUnit(), basicChannel.getChannel());\n+            }\n+        }\n+        // if no unit is provided or unit not found use default units, these units have so far been seen for miio\n+        // devices\n+        switch (type.toLowerCase()) {\n+            case \"temperature\":\n+                updateState(basicChannel.getChannel(), new QuantityType<>(val.getAsBigDecimal(), SIUnits.CELSIUS));\n+                break;\n+            case \"electriccurrent\":\n+                updateState(basicChannel.getChannel(),\n+                        new QuantityType<>(val.getAsBigDecimal(), SmartHomeUnits.AMPERE));\n+                break;\n+            case \"energy\":\n+                updateState(basicChannel.getChannel(), new QuantityType<>(val.getAsBigDecimal(), SmartHomeUnits.WATT));\n+            case \"time\":\n+                updateState(basicChannel.getChannel(), new QuantityType<>(val.getAsBigDecimal(), SmartHomeUnits.HOUR));\n+            default:\n+                updateState(basicChannel.getChannel(), new DecimalType(val.getAsBigDecimal()));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ce154f136e52f92b9cd302fddb8faa0e07487e8f"}, "originalPosition": 116}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4282, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}