{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ4MTg5Mzkw", "number": 8114, "title": "[lgwebos] Thing actions still working after a bundle restart", "bodyText": "Related to openhab/openhab-core#1265\nSigned-off-by: Laurent Garnier lg.hc@free.fr", "createdAt": "2020-07-13T11:18:24Z", "url": "https://github.com/openhab/openhab-addons/pull/8114", "merged": true, "mergeCommit": {"oid": "b74d438ab7ae787417a0bf2e68dccb057ffa67c6"}, "closed": true, "closedAt": "2020-07-20T17:35:24Z", "author": {"login": "lolodomo"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc0hHa7gH2gAyNDQ4MTg5MzkwOjRlZmZlYzhiNTNmODM1NzAxN2I2ODcyODcwMTY4YjRjNTIyNWJlMDE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc21KF1gFqTQ1MTgxNzMyNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "4effec8b53f8357017b6872870168b4c5225be01", "author": {"user": {"login": "lolodomo", "name": "lolodomo"}}, "url": "https://github.com/openhab/openhab-addons/commit/4effec8b53f8357017b6872870168b4c5225be01", "committedDate": "2020-07-13T13:05:07Z", "message": "[lgwebos] Thing actions still working after a bundle restart\n\nRelated to openhab/openhab-core#1265\n\nSigned-off-by: Laurent Garnier <lg.hc@free.fr>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "aca8e6f9fb41ff739d472d9422796ec4096ebdd3", "author": {"user": {"login": "lolodomo", "name": "lolodomo"}}, "url": "https://github.com/openhab/openhab-addons/commit/aca8e6f9fb41ff739d472d9422796ec4096ebdd3", "committedDate": "2020-07-13T11:13:57Z", "message": "[lgwebos] Thing actions still working after a bundle restart\n\nRelated to openhab/openhab-core#1265\n\nSigned-off-by: Laurent Garnier <lg.hc@free.fr>"}, "afterCommit": {"oid": "4effec8b53f8357017b6872870168b4c5225be01", "author": {"user": {"login": "lolodomo", "name": "lolodomo"}}, "url": "https://github.com/openhab/openhab-addons/commit/4effec8b53f8357017b6872870168b4c5225be01", "committedDate": "2020-07-13T13:05:07Z", "message": "[lgwebos] Thing actions still working after a bundle restart\n\nRelated to openhab/openhab-core#1265\n\nSigned-off-by: Laurent Garnier <lg.hc@free.fr>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ3NjExODgx", "url": "https://github.com/openhab/openhab-addons/pull/8114#pullrequestreview-447611881", "createdAt": "2020-07-13T21:23:33Z", "commit": {"oid": "4effec8b53f8357017b6872870168b4c5225be01"}, "state": "DISMISSED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QyMToyMzozM1rOGw6Y3A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QyMToyMzozM1rOGw6Y3A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mzk0MTQ2OA==", "bodyText": "I don't think the bugfix would work here. The proxy workaround would only work for methods that have parameters and return types that are loaded in a 3rd untouched classloader (e.g. parent or core). The Application class is loaded as part of the bundle classloader so the bug would still be present when LGWebOSActions attempts to use Application instances returned from getApplications().\nOne thing to note is that getApplications isn't annotated with @RuleAction which would mean the getApplications static method doesn't have a corresponding RuleAction. I'm not sure why this would be the case.\n@sprehn can you give an explanation?", "url": "https://github.com/openhab/openhab-addons/pull/8114#discussion_r453941468", "createdAt": "2020-07-13T21:23:33Z", "author": {"login": "cpmeister"}, "path": "bundles/org.openhab.binding.lgwebos/src/main/java/org/openhab/binding/lgwebos/action/ILGWebOSActions.java", "diffHunk": "@@ -0,0 +1,50 @@\n+/**\n+ * Copyright (c) 2010-2020 Contributors to the openHAB project\n+ *\n+ * See the NOTICE file(s) distributed with this work for additional\n+ * information.\n+ *\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0\n+ *\n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.openhab.binding.lgwebos.action;\n+\n+import java.io.IOException;\n+import java.util.List;\n+\n+import org.eclipse.jdt.annotation.NonNullByDefault;\n+\n+/**\n+ * The {@link ILGWebOSActions} defines the interface for all thing actions supported by the binding.\n+ *\n+ * @author Laurent Garnier - Initial contribution\n+ */\n+@NonNullByDefault\n+public interface ILGWebOSActions {\n+\n+    public void showToast(String text) throws IOException;\n+\n+    public void showToast(String icon, String text) throws IOException;\n+\n+    public void launchBrowser(String url);\n+\n+    public List<Application> getApplications();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4effec8b53f8357017b6872870168b4c5225be01"}, "originalPosition": 34}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7632ed50d1207acd123f581886b2a9457715bb9e", "author": {"user": {"login": "lolodomo", "name": "lolodomo"}}, "url": "https://github.com/openhab/openhab-addons/commit/7632ed50d1207acd123f581886b2a9457715bb9e", "committedDate": "2020-07-17T07:19:57Z", "message": "Comment added for getApplications\n\nSigned-off-by: Laurent Garnier <lg.hc@free.fr>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUxNTIyNjMx", "url": "https://github.com/openhab/openhab-addons/pull/8114#pullrequestreview-451522631", "createdAt": "2020-07-20T11:31:18Z", "commit": {"oid": "7632ed50d1207acd123f581886b2a9457715bb9e"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQxMTozMToxOFrOG0HVww==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQxMTozMToxOFrOG0HVww==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzI5OTM5NQ==", "bodyText": "Hi, this method's intend is to allow users to find out what the Ids of applications are. It is not designed to work with the new rule engine. I think it is now safe to remove it all together from the action, as the binding can now be queried for the same information via karaf console.", "url": "https://github.com/openhab/openhab-addons/pull/8114#discussion_r457299395", "createdAt": "2020-07-20T11:31:18Z", "author": {"login": "sprehn"}, "path": "bundles/org.openhab.binding.lgwebos/src/main/java/org/openhab/binding/lgwebos/action/ILGWebOSActions.java", "diffHunk": "@@ -0,0 +1,50 @@\n+/**\n+ * Copyright (c) 2010-2020 Contributors to the openHAB project\n+ *\n+ * See the NOTICE file(s) distributed with this work for additional\n+ * information.\n+ *\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0\n+ *\n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.openhab.binding.lgwebos.action;\n+\n+import java.io.IOException;\n+import java.util.List;\n+\n+import org.eclipse.jdt.annotation.NonNullByDefault;\n+\n+/**\n+ * The {@link ILGWebOSActions} defines the interface for all thing actions supported by the binding.\n+ *\n+ * @author Laurent Garnier - Initial contribution\n+ */\n+@NonNullByDefault\n+public interface ILGWebOSActions {\n+\n+    public void showToast(String text) throws IOException;\n+\n+    public void showToast(String icon, String text) throws IOException;\n+\n+    public void launchBrowser(String url);\n+\n+    public List<Application> getApplications();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mzk0MTQ2OA=="}, "originalCommit": {"oid": "4effec8b53f8357017b6872870168b4c5225be01"}, "originalPosition": 34}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6311a1e6dbf406a7322d4d1912beb59769847bd0", "author": {"user": {"login": "lolodomo", "name": "lolodomo"}}, "url": "https://github.com/openhab/openhab-addons/commit/6311a1e6dbf406a7322d4d1912beb59769847bd0", "committedDate": "2020-07-20T12:14:28Z", "message": "Action getApplications removed\n\nSigned-off-by: Laurent Garnier <lg.hc@free.fr>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUxODE3MzI0", "url": "https://github.com/openhab/openhab-addons/pull/8114#pullrequestreview-451817324", "createdAt": "2020-07-20T17:33:59Z", "commit": {"oid": "6311a1e6dbf406a7322d4d1912beb59769847bd0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 141, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}