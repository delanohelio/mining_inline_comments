{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDgwMDk2NTY5", "number": 8399, "title": "[miio] Fix for $value$ wrong at 2nd time", "bodyText": "Bug fix for yeelight commands\nSigned-off-by: Marcel Verpaalen marcel@verpaalen.com", "createdAt": "2020-09-04T20:58:34Z", "url": "https://github.com/openhab/openhab-addons/pull/8399", "merged": true, "mergeCommit": {"oid": "4683d22d5c79861fa886ac262c16f2e2efb14a94"}, "closed": true, "closedAt": "2020-09-05T19:27:39Z", "author": {"login": "marcelrv"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdFrooIgH2gAyNDgwMDk2NTY5OjE3YTgxODYxMGUyZjZiMjJmZWRjOWViMzkwMGI1ZDdmYjUxNGY3ODU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdFsVIxAFqTQ4Mjk3Nzc4Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "17a818610e2f6b22fedc9eb3900b5d7fb514f785", "author": {"user": {"login": "marcelrv", "name": "Marcel"}}, "url": "https://github.com/openhab/openhab-addons/commit/17a818610e2f6b22fedc9eb3900b5d7fb514f785", "committedDate": "2020-09-04T20:57:09Z", "message": "[miio] Fix for $value$ wrong at 2nd time\n\nSigned-off-by: Marcel Verpaalen <marcel@verpaalen.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgyOTQyNzM5", "url": "https://github.com/openhab/openhab-addons/pull/8399#pullrequestreview-482942739", "createdAt": "2020-09-04T21:16:00Z", "commit": {"oid": "17a818610e2f6b22fedc9eb3900b5d7fb514f785"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNFQyMToxNjowMVrOHNbrVQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNFQyMToxNjowMVrOHNbrVQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Mzg0Njk5Nw==", "bodyText": "Are you sure this is correct? continue here is the last statement in the for loop. So it just continues with the next entry. Did you mean to abort the for loop with break?", "url": "https://github.com/openhab/openhab-addons/pull/8399#discussion_r483846997", "createdAt": "2020-09-04T21:16:01Z", "author": {"login": "Hilbrand"}, "path": "bundles/org.openhab.binding.miio/src/main/java/org/openhab/binding/miio/internal/handler/MiIoBasicHandler.java", "diffHunk": "@@ -121,11 +121,12 @@ public void handleCommand(ChannelUID channelUID, Command command) {\n                 for (MiIoDeviceAction action : miIoBasicChannel.getActions()) {\n                     @Nullable\n                     JsonElement value = null;\n-                    JsonArray parameters = action.getParameters();\n+                    JsonArray parameters = action.getParameters().deepCopy();\n                     for (int i = 0; i < action.getParameters().size(); i++) {\n                         JsonElement p = action.getParameters().get(i);\n                         if (p.isJsonPrimitive() && p.getAsString().toLowerCase().contains(\"$value$\")) {\n                             valuePos = i;\n+                            continue;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "17a818610e2f6b22fedc9eb3900b5d7fb514f785"}, "originalPosition": 10}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e945a86abfc04784c1621b96b21b207977ca23cb", "author": {"user": {"login": "marcelrv", "name": "Marcel"}}, "url": "https://github.com/openhab/openhab-addons/commit/e945a86abfc04784c1621b96b21b207977ca23cb", "committedDate": "2020-09-04T21:18:33Z", "message": "[miio] improvement after feedback\n\nSigned-off-by: Marcel Verpaalen <marcel@verpaalen.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgyOTc3Nzgy", "url": "https://github.com/openhab/openhab-addons/pull/8399#pullrequestreview-482977782", "createdAt": "2020-09-04T21:45:46Z", "commit": {"oid": "e945a86abfc04784c1621b96b21b207977ca23cb"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4816, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}