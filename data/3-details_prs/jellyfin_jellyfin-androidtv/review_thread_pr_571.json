{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkyNjI4OTkz", "number": 571, "reviewThreads": {"totalCount": 19, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNVQwNjo0Mzo1OFrOEnVA7w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOFQxNzozMjowMlrOEu_Diw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA5Njc0MjIzOnYy", "diffSide": "RIGHT", "path": "app/src/main/res/menu/menu_details_play_with.xml", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNVQwNjo0Mzo1OFrOHX2-NA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNVQwNjo0Mzo1OFrOHX2-NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDc3OTk1Ng==", "bodyText": "All titles should use strings so they can be translated.", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/571#discussion_r494779956", "createdAt": "2020-09-25T06:43:58Z", "author": {"login": "nielsvanvelzen"}, "path": "app/src/main/res/menu/menu_details_play_with.xml", "diffHunk": "@@ -0,0 +1,18 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>\n+<menu\n+    xmlns:android=\"http://schemas.android.com/apk/res/android\">\n+\n+    <item android:title=\"Play with Vlc\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "219545b26acc965c4d2a60ebc9fbfb3946d38952"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA5Njc0Mzg4OnYy", "diffSide": "RIGHT", "path": "app/src/main/java/org/jellyfin/androidtv/ui/itemdetail/FullDetailsActivity.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNVQwNjo0NDo0MFrOHX2_JQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNVQwNjo0NDo0MFrOHX2_JQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDc4MDE5Nw==", "bodyText": "\"Play with\" should use a string so it can be translated.", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/571#discussion_r494780197", "createdAt": "2020-09-25T06:44:40Z", "author": {"login": "nielsvanvelzen"}, "path": "app/src/main/java/org/jellyfin/androidtv/ui/itemdetail/FullDetailsActivity.java", "diffHunk": "@@ -1260,6 +1267,19 @@ public void onClick(View v) {\n                 more.show();\n             }\n         });\n+        if (userPreferences.getValue().get(UserPreferences.Companion.getVideoPlayer()) == PreferredVideoPlayer.EXTERNAL) {\n+            playWithButton = new TextUnderButton(this, R.drawable.ic_add, buttonSize, 3, \"Play with\", new View.OnClickListener() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "219545b26acc965c4d2a60ebc9fbfb3946d38952"}, "originalPosition": 56}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA5Njc0NjU3OnYy", "diffSide": "RIGHT", "path": "app/src/main/java/org/jellyfin/androidtv/ui/itemdetail/FullDetailsActivity.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNVQwNjo0NToyOFrOHX3Aqw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNVQwNjo0NToyOFrOHX3Aqw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDc4MDU4Nw==", "bodyText": "This toast looks like it was intended for debugigng purposes, should probably remove it or replace it with a logger debug message.", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/571#discussion_r494780587", "createdAt": "2020-09-25T06:45:28Z", "author": {"login": "nielsvanvelzen"}, "path": "app/src/main/java/org/jellyfin/androidtv/ui/itemdetail/FullDetailsActivity.java", "diffHunk": "@@ -1260,6 +1267,19 @@ public void onClick(View v) {\n                 more.show();\n             }\n         });\n+        if (userPreferences.getValue().get(UserPreferences.Companion.getVideoPlayer()) == PreferredVideoPlayer.EXTERNAL) {\n+            playWithButton = new TextUnderButton(this, R.drawable.ic_add, buttonSize, 3, \"Play with\", new View.OnClickListener() {\n+                @Override\n+                public void onClick(View view) {\n+                    Toast.makeText(mApplication, \"Play With Button\", Toast.LENGTH_SHORT).show();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "219545b26acc965c4d2a60ebc9fbfb3946d38952"}, "originalPosition": 59}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA5Njc0OTYyOnYy", "diffSide": "RIGHT", "path": "app/src/main/java/org/jellyfin/androidtv/ui/itemdetail/FullDetailsActivity.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNVQwNjo0NjozNVrOHX3Cfw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNVQwNjo0NjozNVrOHX3Cfw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDc4MTA1NQ==", "bodyText": "User preferences should never be changed without the user explicitly telling the application to do so. In this case you should find a way to set the player for the next play call without changing the setting.", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/571#discussion_r494781055", "createdAt": "2020-09-25T06:46:35Z", "author": {"login": "nielsvanvelzen"}, "path": "app/src/main/java/org/jellyfin/androidtv/ui/itemdetail/FullDetailsActivity.java", "diffHunk": "@@ -1326,6 +1346,29 @@ public boolean onMenuItemClick(MenuItem item) {\n         }\n     };\n \n+    PopupMenu.OnMenuItemClickListener playWithMenuListener = new PopupMenu.OnMenuItemClickListener() {\n+        @Override\n+        public boolean onMenuItemClick(MenuItem item) {\n+            switch (item.getItemId()) {\n+\n+                case R.id.play_with_vlc:\n+                        userPreferences.getValue().set(UserPreferences.Companion.getVideoPlayer(), PreferredVideoPlayer.VLC);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "219545b26acc965c4d2a60ebc9fbfb3946d38952"}, "originalPosition": 81}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEwMTM0MTM5OnYy", "diffSide": "RIGHT", "path": "app/src/main/java/org/jellyfin/androidtv/preference/UserPreferences.kt", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNlQxODo0NTozM1rOHYh8vg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNlQxODo0NTozM1rOHYh8vg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTQ4NDA5NA==", "bodyText": "Should use SystemPreferences", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/571#discussion_r495484094", "createdAt": "2020-09-26T18:45:33Z", "author": {"login": "nielsvanvelzen"}, "path": "app/src/main/java/org/jellyfin/androidtv/preference/UserPreferences.kt", "diffHunk": "@@ -174,6 +174,12 @@ class UserPreferences(context: Context) : SharedPreferenceStore(\n \t\t * Include system logs in crash reports\n \t\t */\n \t\tvar acraIncludeSystemLogs = Preference.boolean(ACRA.PREF_ENABLE_SYSTEM_LOGS, true)\n+\n+\t\t/**\n+\t\t * chosen player for play with button - changes every time user chooses a player with \"play with\" button\n+\t\t */\n+\n+\t\tvar chosenPlayer = Preference.enum(\"chosen_player\",PreferredVideoPlayer.VLC)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d4f57744feaef863ecd12513ae0c5f82a039ed59"}, "originalPosition": 9}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEwMTM0MjE0OnYy", "diffSide": "RIGHT", "path": "app/src/main/java/org/jellyfin/androidtv/ui/itemdetail/FullDetailsActivity.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNlQxODo0Njo1MVrOHYh9Fg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNlQxODo0Njo1MVrOHYh9Fg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTQ4NDE4Mg==", "bodyText": "Use else if", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/571#discussion_r495484182", "createdAt": "2020-09-26T18:46:51Z", "author": {"login": "nielsvanvelzen"}, "path": "app/src/main/java/org/jellyfin/androidtv/ui/itemdetail/FullDetailsActivity.java", "diffHunk": "@@ -888,18 +893,25 @@ public void onError(Exception exception) {\n             mDetailsOverviewRow.addAction(mResumeButton);\n             boolean resumeButtonVisible = (mBaseItem.getBaseItemType() == BaseItemType.Series && !mBaseItem.getUserData().getPlayed()) || (mBaseItem.getCanResume());\n             mResumeButton.setVisibility(resumeButtonVisible ? View.VISIBLE : View.GONE);\n-\n-            TextUnderButton play = new TextUnderButton(this, R.drawable.ic_play, buttonSize, 2, getString(BaseItemUtils.isLiveTv(mBaseItem) ? R.string.lbl_tune_to_channel : mBaseItem.getIsFolderItem() ? R.string.lbl_play_all : R.string.lbl_play), new View.OnClickListener() {\n-                @Override\n-                public void onClick(View v) {\n-                    play(mBaseItem, 0, false);\n-                }\n-            });\n-            mDetailsOverviewRow.addAction(play);\n+            boolean isPlayerPrefChoose = userPreferences.getValue().get(UserPreferences.Companion.getVideoPlayer()) == PreferredVideoPlayer.CHOOSE;\n+            TextUnderButton play = null;\n+            if (!isPlayerPrefChoose) {\n+                play = new TextUnderButton(this, R.drawable.ic_play, buttonSize, 2, getString(BaseItemUtils.isLiveTv(mBaseItem) ? R.string.lbl_tune_to_channel : mBaseItem.getIsFolderItem() ? R.string.lbl_play_all : R.string.lbl_play), new View.OnClickListener() {\n+                    @Override\n+                    public void onClick(View v) {\n+                        play(mBaseItem, 0, false);\n+                    }\n+                });\n+                mDetailsOverviewRow.addAction(play);    \n+            }\n+            \n             if (resumeButtonVisible) {\n                 mResumeButton.requestFocus();\n             } else {\n-                play.requestFocus();\n+                if (!isPlayerPrefChoose) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d4f57744feaef863ecd12513ae0c5f82a039ed59"}, "originalPosition": 66}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEwMTM0MzI2OnYy", "diffSide": "RIGHT", "path": "app/src/main/java/org/jellyfin/androidtv/ui/itemdetail/FullDetailsActivity.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNlQxODo0ODozNlrOHYh9nA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNlQxODo0ODozNlrOHYh9nA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTQ4NDMxNg==", "bodyText": "Probably easier to add an else statement when checking if the play button should be shown", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/571#discussion_r495484316", "createdAt": "2020-09-26T18:48:36Z", "author": {"login": "nielsvanvelzen"}, "path": "app/src/main/java/org/jellyfin/androidtv/ui/itemdetail/FullDetailsActivity.java", "diffHunk": "@@ -1260,6 +1276,18 @@ public void onClick(View v) {\n                 more.show();\n             }\n         });\n+        if (userPreferences.getValue().get(UserPreferences.Companion.getVideoPlayer()) == PreferredVideoPlayer.CHOOSE) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d4f57744feaef863ecd12513ae0c5f82a039ed59"}, "originalPosition": 95}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEwMTM0MzQyOnYy", "diffSide": "RIGHT", "path": "app/src/main/java/org/jellyfin/androidtv/ui/itemdetail/FullDetailsActivity.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNlQxODo0ODo1OFrOHYh9rQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNlQxODo0ODo1OFrOHYh9rQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTQ4NDMzMw==", "bodyText": "Since either the play or play with button is shown you can probably reuse the playButton property", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/571#discussion_r495484333", "createdAt": "2020-09-26T18:48:58Z", "author": {"login": "nielsvanvelzen"}, "path": "app/src/main/java/org/jellyfin/androidtv/ui/itemdetail/FullDetailsActivity.java", "diffHunk": "@@ -1260,6 +1276,18 @@ public void onClick(View v) {\n                 more.show();\n             }\n         });\n+        if (userPreferences.getValue().get(UserPreferences.Companion.getVideoPlayer()) == PreferredVideoPlayer.CHOOSE) {\n+            playWithButton = new TextUnderButton(this, R.drawable.ic_add, buttonSize, 3, getString(R.string.play_with), new View.OnClickListener() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d4f57744feaef863ecd12513ae0c5f82a039ed59"}, "originalPosition": 96}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEwMTM0NTQ0OnYy", "diffSide": "RIGHT", "path": "app/src/main/java/org/jellyfin/androidtv/ui/playback/PlaybackController.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNlQxODo1MToyM1rOHYh-lw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNlQxODo1MToyM1rOHYh-lw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTQ4NDU2Nw==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                            if (preferredVideoPlayerByPlayWith == PreferredVideoPlayer.VLC) {\n          \n          \n            \n                                                useVlc = true;\n          \n          \n            \n                                            } else if (preferredVideoPlayerByPlayWith == PreferredVideoPlayer.EXOPLAYER) {\n          \n          \n            \n                                                // Make sure to not use VLC\n          \n          \n            \n                                                useVlc = false;\n          \n          \n            \n                                            }\n          \n          \n            \n                                            useVlc = preferredVideoPlayerByPlayWith == PreferredVideoPlayer.VLC;", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/571#discussion_r495484567", "createdAt": "2020-09-26T18:51:23Z", "author": {"login": "nielsvanvelzen"}, "path": "app/src/main/java/org/jellyfin/androidtv/ui/playback/PlaybackController.java", "diffHunk": "@@ -478,6 +491,16 @@ public void onResponse(StreamInfo internalResponse) {\n                                                         !internalResponse.getMediaSource().getDefaultAudioStream().getCodec().equals(\"dts\"))) &&\n                                         (!DeviceUtils.isFireTvStick() ||\n                                                 (vlcResponse.getMediaSource().getVideoStream() != null && vlcResponse.getMediaSource().getVideoStream().getWidth() < 1000));\n+                            } else if (preferredVideoPlayer == PreferredVideoPlayer.CHOOSE) {\n+                                PreferredVideoPlayer preferredVideoPlayerByPlayWith = userPreferences.getValue().get(UserPreferences.Companion.getChosenPlayer());\n+                                if (preferredVideoPlayerByPlayWith == PreferredVideoPlayer.VLC) {\n+                                    useVlc = true;\n+                                } else if (preferredVideoPlayerByPlayWith == PreferredVideoPlayer.EXOPLAYER) {\n+                                    // Make sure to not use VLC\n+                                    useVlc = false;\n+                                }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d4f57744feaef863ecd12513ae0c5f82a039ed59"}, "originalPosition": 31}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEwMTM0NTc0OnYy", "diffSide": "RIGHT", "path": "app/src/main/java/org/jellyfin/androidtv/ui/playback/PlaybackController.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNlQxODo1MTo0NFrOHYh-uA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNlQxODo1MTo0NFrOHYh-uA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTQ4NDYwMA==", "bodyText": "Use Timber for logging", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/571#discussion_r495484600", "createdAt": "2020-09-26T18:51:44Z", "author": {"login": "nielsvanvelzen"}, "path": "app/src/main/java/org/jellyfin/androidtv/ui/playback/PlaybackController.java", "diffHunk": "@@ -478,6 +491,16 @@ public void onResponse(StreamInfo internalResponse) {\n                                                         !internalResponse.getMediaSource().getDefaultAudioStream().getCodec().equals(\"dts\"))) &&\n                                         (!DeviceUtils.isFireTvStick() ||\n                                                 (vlcResponse.getMediaSource().getVideoStream() != null && vlcResponse.getMediaSource().getVideoStream().getWidth() < 1000));\n+                            } else if (preferredVideoPlayer == PreferredVideoPlayer.CHOOSE) {\n+                                PreferredVideoPlayer preferredVideoPlayerByPlayWith = userPreferences.getValue().get(UserPreferences.Companion.getChosenPlayer());\n+                                if (preferredVideoPlayerByPlayWith == PreferredVideoPlayer.VLC) {\n+                                    useVlc = true;\n+                                } else if (preferredVideoPlayerByPlayWith == PreferredVideoPlayer.EXOPLAYER) {\n+                                    // Make sure to not use VLC\n+                                    useVlc = false;\n+                                }\n+\n+                                System.out.println(\"PREFERRED PLAYER \" + preferredVideoPlayerByPlayWith.name());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d4f57744feaef863ecd12513ae0c5f82a039ed59"}, "originalPosition": 33}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEwMTM0NjA2OnYy", "diffSide": "RIGHT", "path": "app/src/main/res/values/strings.xml", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNlQxODo1MjowN1rOHYh-3Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNlQxODo1MjowN1rOHYh-3Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTQ4NDYzNw==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                <string name=\"play_with_vlc\">Play with Vlc</string>\n          \n          \n            \n                <string name=\"play_with_vlc\">Play with libVLC</string>", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/571#discussion_r495484637", "createdAt": "2020-09-26T18:52:07Z", "author": {"login": "nielsvanvelzen"}, "path": "app/src/main/res/values/strings.xml", "diffHunk": "@@ -403,4 +404,8 @@\n     <string name=\"not_deleted\">Item NOT Deleted</string>\n     <string name=\"turn_off\">Turn this option off</string>\n     <string name=\"just_one\">Just this one</string>\n+    <string name=\"play_with_vlc\">Play with Vlc</string>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d4f57744feaef863ecd12513ae0c5f82a039ed59"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEwMTM0NjIzOnYy", "diffSide": "RIGHT", "path": "app/src/main/res/values/strings.xml", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNlQxODo1MjoxNVrOHYh-7w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNlQxODo1MjoxNVrOHYh-7w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTQ4NDY1NQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                <string name=\"play_with_exo_player\">Play with Exo Player</string>\n          \n          \n            \n                <string name=\"play_with_exo_player\">Play with ExoPlayer</string>", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/571#discussion_r495484655", "createdAt": "2020-09-26T18:52:15Z", "author": {"login": "nielsvanvelzen"}, "path": "app/src/main/res/values/strings.xml", "diffHunk": "@@ -403,4 +404,8 @@\n     <string name=\"not_deleted\">Item NOT Deleted</string>\n     <string name=\"turn_off\">Turn this option off</string>\n     <string name=\"just_one\">Just this one</string>\n+    <string name=\"play_with_vlc\">Play with Vlc</string>\n+    <string name=\"play_with_exo_player\">Play with Exo Player</string>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d4f57744feaef863ecd12513ae0c5f82a039ed59"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEwMTM0NjMwOnYy", "diffSide": "RIGHT", "path": "app/src/main/res/values/strings.xml", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNlQxODo1MjozMFrOHYh--A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNlQxODo1MjozMFrOHYh--A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTQ4NDY2NA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                <string name=\"play_with_external_app\">Play with External App</string>\n          \n          \n            \n                <string name=\"play_with_external_app\">Play with external app</string>", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/571#discussion_r495484664", "createdAt": "2020-09-26T18:52:30Z", "author": {"login": "nielsvanvelzen"}, "path": "app/src/main/res/values/strings.xml", "diffHunk": "@@ -403,4 +404,8 @@\n     <string name=\"not_deleted\">Item NOT Deleted</string>\n     <string name=\"turn_off\">Turn this option off</string>\n     <string name=\"just_one\">Just this one</string>\n+    <string name=\"play_with_vlc\">Play with Vlc</string>\n+    <string name=\"play_with_exo_player\">Play with Exo Player</string>\n+    <string name=\"play_with_external_app\">Play with External App</string>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d4f57744feaef863ecd12513ae0c5f82a039ed59"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEwMTM0NzU1OnYy", "diffSide": "RIGHT", "path": "app/src/main/java/org/jellyfin/androidtv/ui/itemdetail/FullDetailsActivity.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNlQxODo1NDoxNVrOHYh_kA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNlQxODo1NDoxNVrOHYh_kA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTQ4NDgxNg==", "bodyText": "I think this is unused", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/571#discussion_r495484816", "createdAt": "2020-09-26T18:54:15Z", "author": {"login": "nielsvanvelzen"}, "path": "app/src/main/java/org/jellyfin/androidtv/ui/itemdetail/FullDetailsActivity.java", "diffHunk": "@@ -1325,6 +1353,42 @@ public boolean onMenuItemClick(MenuItem item) {\n             return false;\n         }\n     };\n+    PlaybackController playbackController= new  PlaybackController(MediaManager.getCurrentVideoQueue());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d4f57744feaef863ecd12513ae0c5f82a039ed59"}, "originalPosition": 114}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEwMTM0NzYzOnYy", "diffSide": "RIGHT", "path": "app/src/main/java/org/jellyfin/androidtv/ui/itemdetail/FullDetailsActivity.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNlQxODo1NDoyM1rOHYh_mg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNlQxODo1NDoyM1rOHYh_mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTQ4NDgyNg==", "bodyText": "Mark private", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/571#discussion_r495484826", "createdAt": "2020-09-26T18:54:23Z", "author": {"login": "nielsvanvelzen"}, "path": "app/src/main/java/org/jellyfin/androidtv/ui/itemdetail/FullDetailsActivity.java", "diffHunk": "@@ -1325,6 +1353,42 @@ public boolean onMenuItemClick(MenuItem item) {\n             return false;\n         }\n     };\n+    PlaybackController playbackController= new  PlaybackController(MediaManager.getCurrentVideoQueue());\n+\n+    PopupMenu.OnMenuItemClickListener playWithMenuListener = new PopupMenu.OnMenuItemClickListener() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d4f57744feaef863ecd12513ae0c5f82a039ed59"}, "originalPosition": 116}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEwMTM0NzY4OnYy", "diffSide": "RIGHT", "path": "app/src/main/java/org/jellyfin/androidtv/ui/playback/PlaybackController.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNlQxODo1NDozNVrOHYh_oQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNlQxODo1NDozNVrOHYh_oQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTQ4NDgzMw==", "bodyText": "I think this is unused too", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/571#discussion_r495484833", "createdAt": "2020-09-26T18:54:35Z", "author": {"login": "nielsvanvelzen"}, "path": "app/src/main/java/org/jellyfin/androidtv/ui/playback/PlaybackController.java", "diffHunk": "@@ -112,6 +112,19 @@ public PlaybackController(List<BaseItemDto> items, IPlaybackOverlayFragment frag\n         useVlc = userPreferences.getValue().get(UserPreferences.Companion.getVideoPlayer()) == PreferredVideoPlayer.VLC;\n     }\n \n+    public PlaybackController(List<BaseItemDto> items) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d4f57744feaef863ecd12513ae0c5f82a039ed59"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEyNTU3MjgyOnYy", "diffSide": "RIGHT", "path": "app/src/main/java/org/jellyfin/androidtv/preference/SystemPreferences.kt", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNFQwOTo1ODowOFrOHcGcBQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNFQwOTo1ODowOFrOHcGcBQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTIyNzY1Mw==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\t * chosen player for play with button - changes every time user chooses a player with \"play with\" button\n          \n          \n            \n            \t\t * Chosen player for play with button - changes every time user chooses a player with \"play with\" button.", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/571#discussion_r499227653", "createdAt": "2020-10-04T09:58:08Z", "author": {"login": "nielsvanvelzen"}, "path": "app/src/main/java/org/jellyfin/androidtv/preference/SystemPreferences.kt", "diffHunk": "@@ -59,5 +60,11 @@ class SystemPreferences(context: Context) : SharedPreferenceStore(\n \t\t * Stores whether the sports filter is active in the channel guide or not\n \t\t */\n \t\tval liveTvGuideFilterSports = Preference.boolean(\"guide_filter_sports\", false)\n+\n+\t\t/**\n+\t\t * chosen player for play with button - changes every time user chooses a player with \"play with\" button", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "908f99c8014c494e5828c3aa989997b70131ed2b"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEyNTU3MzY4OnYy", "diffSide": "RIGHT", "path": "app/src/main/java/org/jellyfin/androidtv/ui/itemdetail/FullDetailsActivity.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNFQwOTo1OTozMVrOHcGccw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMFQxNDowNDo1NVrOHfgHTw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTIyNzc2Mw==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        playButton = new TextUnderButton(this, R.drawable.ic_add, buttonSize, 3, getString(R.string.play_with), new View.OnClickListener() {\n          \n          \n            \n                        playButton = new TextUnderButton(this, R.drawable.ic_play, buttonSize, 3, getString(R.string.play_with), new View.OnClickListener() {", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/571#discussion_r499227763", "createdAt": "2020-10-04T09:59:31Z", "author": {"login": "nielsvanvelzen"}, "path": "app/src/main/java/org/jellyfin/androidtv/ui/itemdetail/FullDetailsActivity.java", "diffHunk": "@@ -884,55 +889,71 @@ public void onError(Exception exception) {\n             }\n         });\n \n-        if (BaseItemUtils.canPlay(mBaseItem)) {\n-            mDetailsOverviewRow.addAction(mResumeButton);\n-            boolean resumeButtonVisible = (mBaseItem.getBaseItemType() == BaseItemType.Series && !mBaseItem.getUserData().getPlayed()) || (mBaseItem.getCanResume());\n-            mResumeButton.setVisibility(resumeButtonVisible ? View.VISIBLE : View.GONE);\n-\n-            TextUnderButton play = new TextUnderButton(this, R.drawable.ic_play, buttonSize, 2, getString(BaseItemUtils.isLiveTv(mBaseItem) ? R.string.lbl_tune_to_channel : mBaseItem.getIsFolderItem() ? R.string.lbl_play_all : R.string.lbl_play), new View.OnClickListener() {\n+        //playButton becomes playWith button\n+        if (userPreferences.getValue().get(UserPreferences.Companion.getVideoPlayer()) == PreferredVideoPlayer.CHOOSE) {\n+            playButton = new TextUnderButton(this, R.drawable.ic_add, buttonSize, 3, getString(R.string.play_with), new View.OnClickListener() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "908f99c8014c494e5828c3aa989997b70131ed2b"}, "originalPosition": 44}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjc5NDA2Mw==", "bodyText": "This one isn't fixed yet. We should use the same icon.", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/571#discussion_r502794063", "createdAt": "2020-10-10T14:04:55Z", "author": {"login": "nielsvanvelzen"}, "path": "app/src/main/java/org/jellyfin/androidtv/ui/itemdetail/FullDetailsActivity.java", "diffHunk": "@@ -884,55 +889,71 @@ public void onError(Exception exception) {\n             }\n         });\n \n-        if (BaseItemUtils.canPlay(mBaseItem)) {\n-            mDetailsOverviewRow.addAction(mResumeButton);\n-            boolean resumeButtonVisible = (mBaseItem.getBaseItemType() == BaseItemType.Series && !mBaseItem.getUserData().getPlayed()) || (mBaseItem.getCanResume());\n-            mResumeButton.setVisibility(resumeButtonVisible ? View.VISIBLE : View.GONE);\n-\n-            TextUnderButton play = new TextUnderButton(this, R.drawable.ic_play, buttonSize, 2, getString(BaseItemUtils.isLiveTv(mBaseItem) ? R.string.lbl_tune_to_channel : mBaseItem.getIsFolderItem() ? R.string.lbl_play_all : R.string.lbl_play), new View.OnClickListener() {\n+        //playButton becomes playWith button\n+        if (userPreferences.getValue().get(UserPreferences.Companion.getVideoPlayer()) == PreferredVideoPlayer.CHOOSE) {\n+            playButton = new TextUnderButton(this, R.drawable.ic_add, buttonSize, 3, getString(R.string.play_with), new View.OnClickListener() {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTIyNzc2Mw=="}, "originalCommit": {"oid": "908f99c8014c494e5828c3aa989997b70131ed2b"}, "originalPosition": 44}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE3NzAzMDUxOnYy", "diffSide": "RIGHT", "path": "app/src/main/java/org/jellyfin/androidtv/ui/itemdetail/FullDetailsActivity.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOFQxNzozMjowMlrOHjsbyA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOFQxNzozMjowMlrOHjsbyA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzE5MDIxNg==", "bodyText": "Codacy found an issue: Fields should be declared at the top of the class, before any method declarations, constructors, initializers or inner classes.", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/571#discussion_r507190216", "createdAt": "2020-10-18T17:32:02Z", "author": {"login": "jellyfin-bot"}, "path": "app/src/main/java/org/jellyfin/androidtv/ui/itemdetail/FullDetailsActivity.java", "diffHunk": "@@ -839,6 +843,7 @@ public void onClick(DialogInterface dialog, int which) {\n     private TextUnderButton queueButton = null;\n     private TextUnderButton deleteButton = null;\n     private TextUnderButton moreButton;\n+    private TextUnderButton playButton = null;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ea11eaadf78b6efdb91e87ff5326bf2a6ef91404"}, "originalPosition": 28}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 949, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}