{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTIxMjQ2OTQw", "number": 631, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQxODoyMTo1OFrOE6tJag==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xN1QxOTowMToxOVrOFG2_-A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI5OTkyNTU0OnYy", "diffSide": "RIGHT", "path": "app/src/main/java/org/jellyfin/androidtv/preference/UserPreferences.kt", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQxODoyMTo1OFrOH18GhA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQxODoyMTo1OFrOH18GhA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjMyMTI4NA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\tvar showClock = Preference.enum(\"pref_show_clock\", ClockBehavior.ALWAYS)\n          \n          \n            \n            \t\tvar clockBehavior = Preference.enum(\"pref_clock_behavior\", ClockBehavior.ALWAYS)", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/631#discussion_r526321284", "createdAt": "2020-11-18T18:21:58Z", "author": {"login": "nielsvanvelzen"}, "path": "app/src/main/java/org/jellyfin/androidtv/preference/UserPreferences.kt", "diffHunk": "@@ -174,6 +174,11 @@ class UserPreferences(context: Context) : SharedPreferenceStore(\n \t\t * Include system logs in crash reports\n \t\t */\n \t\tvar acraIncludeSystemLogs = Preference.boolean(ACRA.PREF_ENABLE_SYSTEM_LOGS, true)\n+\n+\t\t/**\n+\t\t * When to show the clock.\n+\t\t */\n+\t\tvar showClock = Preference.enum(\"pref_show_clock\", ClockBehavior.ALWAYS)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ce4e1ab9731d1af547c8e87fc8c993846040c87b"}, "originalPosition": 8}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI5OTk1NzQ5OnYy", "diffSide": "RIGHT", "path": "app/src/main/res/values/strings.xml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQxODoyOTo1MFrOH18aFQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQxODoyOTo1MFrOH18aFQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjMyNjI5Mw==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                <string name=\"pref_clock_display\">Show Clock</string>\n          \n          \n            \n                <string name=\"lbl_always\">Always</string>\n          \n          \n            \n                <string name=\"pref_clock_display_menus\">In Menus</string>\n          \n          \n            \n                <string name=\"pref_clock_display_video\">In Video</string>\n          \n          \n            \n                <string name=\"pref_clock_display\">Show clock</string>\n          \n          \n            \n                <string name=\"lbl_always\">Always</string>\n          \n          \n            \n                <string name=\"pref_clock_display_menus\">While browsing</string>\n          \n          \n            \n                <string name=\"pref_clock_display_video\">During playback</string>", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/631#discussion_r526326293", "createdAt": "2020-11-18T18:29:50Z", "author": {"login": "nielsvanvelzen"}, "path": "app/src/main/res/values/strings.xml", "diffHunk": "@@ -418,4 +418,8 @@\n     <string name=\"lbl_manual_login\">Manual Login</string>\n     <string name=\"lbl_playback_control_ends\">Ends at %1$s</string>\n     <string name=\"watch_count_overflow\">99+</string>\n+    <string name=\"pref_clock_display\">Show Clock</string>\n+    <string name=\"lbl_always\">Always</string>\n+    <string name=\"pref_clock_display_menus\">In Menus</string>\n+    <string name=\"pref_clock_display_video\">In Video</string>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ce4e1ab9731d1af547c8e87fc8c993846040c87b"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI5OTk2NjU4OnYy", "diffSide": "RIGHT", "path": "app/src/main/java/org/jellyfin/androidtv/ui/ClockUserView.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQxODozMjowN1rOH18fkg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQxODozMjowN1rOH18fkg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjMyNzY5OA==", "bodyText": "The combination of this if-statement and the switch-statement for all the setVisibility can be simplified for better readability.", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/631#discussion_r526327698", "createdAt": "2020-11-18T18:32:07Z", "author": {"login": "nielsvanvelzen"}, "path": "app/src/main/java/org/jellyfin/androidtv/ui/ClockUserView.java", "diffHunk": "@@ -32,6 +38,33 @@ private void init(Context context) {\n         LayoutInflater inflater = LayoutInflater.from(context);\n         View v = inflater.inflate(R.layout.clock_user_bug, null, false);\n         this.addView(v);\n+        TextClock tc = v.findViewById(R.id.clock);\n+        ClockBehavior showClock = get(UserPreferences.class).get(UserPreferences.Companion.getShowClock());\n+        if (showClock != ClockBehavior.ALWAYS) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ce4e1ab9731d1af547c8e87fc8c993846040c87b"}, "originalPosition": 30}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQyNzM2ODg4OnYy", "diffSide": "RIGHT", "path": "app/src/main/java/org/jellyfin/androidtv/ui/shared/ToolbarView.kt", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xN1QxOTowMToxOVrOIIEW7A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xN1QxOTowMToxOVrOIIEW7A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTMzMDkyNA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\tval clockBehavior = get(UserPreferences::class.java)[clockBehavior]\n          \n          \n            \n            \t\tval clockBehavior = get(UserPreferences::class.java)[UserPreferences.Companion.clockBehavior]\n          \n      \n    \n    \n  \n\nAlthough the UserPreferences.Companion. doesn't look that great, it's easier to read since your variable has the exact same name. Could also just rename the variable.", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/631#discussion_r545330924", "createdAt": "2020-12-17T19:01:19Z", "author": {"login": "nielsvanvelzen"}, "path": "app/src/main/java/org/jellyfin/androidtv/ui/shared/ToolbarView.kt", "diffHunk": "@@ -7,10 +7,17 @@ import android.view.ViewGroup\n import android.widget.FrameLayout\n import kotlinx.android.synthetic.main.view_toolbar.view.*\n import org.jellyfin.androidtv.R\n+import org.jellyfin.androidtv.preference.UserPreferences\n+import org.jellyfin.androidtv.preference.UserPreferences.Companion.clockBehavior\n+import org.jellyfin.androidtv.preference.constant.ClockBehavior\n+import org.koin.java.KoinJavaComponent.get\n \n class ToolbarView(context: Context, attrs: AttributeSet) : FrameLayout(context, attrs) {\n \tinit {\n \t\tinflate(context, R.layout.view_toolbar, this)\n+\t\tval clockBehavior = get(UserPreferences::class.java)[clockBehavior]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "118e6da2fc371337fffda78814d275b4add99c05"}, "originalPosition": 12}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 990, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}