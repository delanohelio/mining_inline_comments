{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc1NTg4NjEz", "number": 341, "title": "Use PreferredVideoPlayer enum for live tv preference", "bodyText": "This updates the video player preferences for live tv to use the same method as for regular videos.", "createdAt": "2020-02-14T21:55:23Z", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/341", "merged": true, "mergeCommit": {"oid": "edf81ee04d6f7e313b48b7a3eb2a831fd1786a1e"}, "closed": true, "closedAt": "2020-02-15T18:08:44Z", "author": {"login": "thornbill"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcEWgrXgH2gAyMzc1NTg4NjEzOmY4ZWYwNmIwNjg4Njc2YzVjMzgwMDBiNGE0ZWY0MmU5ODc3MGY1NmU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcEoJtLgFqTM1OTM1ODMxOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "f8ef06b0688676c5c38000b4a4ef42e98770f56e", "author": {"user": {"login": "thornbill", "name": "Bill Thornton"}}, "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/f8ef06b0688676c5c38000b4a4ef42e98770f56e", "committedDate": "2020-02-14T21:35:23Z", "message": "Use PreferredVideoPlayer enum for live tv preference"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU5MjQ1NDM3", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/341#pullrequestreview-359245437", "createdAt": "2020-02-14T22:03:09Z", "commit": {"oid": "f8ef06b0688676c5c38000b4a4ef42e98770f56e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xNFQyMjowMzowOVrOFqE8Rw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xNFQyMjowMzowOVrOFqE8Rw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTY2NTQ3OQ==", "bodyText": "I think we should add this new enum to the previous migration (toVersion = 3). My intention was to have 1 migration per app release. The initial update will have 2 though, 1 for the setting change in 0.11 for people that upgrade from 0.10->0.12", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/341#discussion_r379665479", "createdAt": "2020-02-14T22:03:09Z", "author": {"login": "nielsvanvelzen"}, "path": "app/src/main/java/org/jellyfin/androidtv/preferences/UserPreferences.kt", "diffHunk": "@@ -170,5 +165,14 @@ class UserPreferences(context: Context) : SharedPreferenceStore(PreferenceManage\n \t\t\t// Migrate to login behavior enum\n \t\t\tputEnum(\"login_behavior\", if (it.getString(\"pref_login_behavior\", \"0\") == \"1\") LoginBehavior.AUTO_LOGIN else LoginBehavior.SHOW_LOGIN)\n \t\t}\n+\n+\t\tmigration(toVersion = 4) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f8ef06b0688676c5c38000b4a4ef42e98770f56e"}, "originalPosition": 22}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7f79cfc34cb2612988e8c685722f594b900557e2", "author": {"user": {"login": "thornbill", "name": "Bill Thornton"}}, "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/7f79cfc34cb2612988e8c685722f594b900557e2", "committedDate": "2020-02-14T22:13:10Z", "message": "Move live_tv_video_player to migration 3"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU5MzM2MTg3", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/341#pullrequestreview-359336187", "createdAt": "2020-02-15T09:19:27Z", "commit": {"oid": "7f79cfc34cb2612988e8c685722f594b900557e2"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xNVQwOToxOToyOFrOFqOYeg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xNVQwOToxOToyOFrOFqOYeg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTgyMDE1NA==", "bodyText": "I don't know a lot about LiveTV but as far as I know this checkbox should only be enabled when the selected player is external. Because the dependency attribute only works when referencing checkboxes this should be added in code.\nYou can add it in the UserPreferencesFragment.kt file.", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/341#discussion_r379820154", "createdAt": "2020-02-15T09:19:28Z", "author": {"login": "nielsvanvelzen"}, "path": "app/src/main/res/xml/preferences.xml", "diffHunk": "@@ -121,21 +121,14 @@\n     <PreferenceCategory\n         android:key=\"pref_live_tv_category\"\n         android:title=\"@string/pref_live_tv_cat\">\n-        <CheckBoxPreference\n-            android:defaultValue=\"false\"\n-            android:disableDependentsState=\"true\"\n-            android:key=\"pref_live_tv_use_external\"\n-            android:summary=\"@string/pref_external_live_tv_summary\"\n-            android:title=\"@string/pref_external_live_tv_title\" />\n-        <CheckBoxPreference\n-            android:defaultValue=\"false\"\n-            android:dependency=\"pref_live_tv_use_external\"\n-            android:key=\"pref_enable_vlc_livetv\"\n-            android:summary=\"@string/desc_use_vlc_livetv\"\n-            android:title=\"@string/lbl_use_vlc_livetv\" />\n+        <ListPreference\n+            android:entries=\"@array/pref_video_player_entries\"\n+            android:entryValues=\"@array/pref_video_player_values\"\n+            android:key=\"live_tv_video_player\"\n+            android:title=\"@string/pref_media_player\"\n+            app:useSimpleSummaryProvider=\"true\" />\n         <CheckBoxPreference", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7f79cfc34cb2612988e8c685722f594b900557e2"}, "originalPosition": 31}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU5MzU4MzE5", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/341#pullrequestreview-359358319", "createdAt": "2020-02-15T18:08:35Z", "commit": {"oid": "7f79cfc34cb2612988e8c685722f594b900557e2"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4268, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}