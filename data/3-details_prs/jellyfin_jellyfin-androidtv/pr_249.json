{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzU4NzQ3Mjg5", "number": 249, "title": "Add option to choose the preferred media player in settings", "bodyText": "This PR removes the option \"Use External Player for Videos\" and replaces it with a new option where the user can choose between the following items:\n\n\nAuto\nThe old behavior when not using external player\n\n\nExoPlayer\nForce ExoPlayer for playback\n\n\nlibVLC\nForce libVLC for playback\n\n\nExternal\nThe old behavior when using external player\n\n\nA new preference config version is introduced to migrate the existing setting to the new one.\nThis change could help when debugging codecs in various players and gives the user more control over playback.", "createdAt": "2020-01-02T18:17:57Z", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/249", "merged": true, "mergeCommit": {"oid": "ba3a95fc3d69435ecedf91ac9862b20d4b53b6a0"}, "closed": true, "closedAt": "2020-01-08T20:34:10Z", "author": {"login": "nielsvanvelzen"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb2d17-AH2gAyMzU4NzQ3Mjg5OmUzNmRkNmM5Njg1MzlkODVjODYwOWUxMmY2YTJlNzQ3NTgxODY1YTM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb4bdMqgFqTM0MDEyNzg0Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "e36dd6c968539d85c8609e12f6a2e747581865a3", "author": {"user": {"login": "nielsvanvelzen", "name": "Niels van Velzen"}}, "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/e36dd6c968539d85c8609e12f6a2e747581865a3", "committedDate": "2020-01-02T18:13:00Z", "message": "Add option to choose the preferred media player in settings"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3897ebbb554bbf94c3333615710af6e41327473b", "author": {"user": {"login": "nielsvanvelzen", "name": "Niels van Velzen"}}, "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/3897ebbb554bbf94c3333615710af6e41327473b", "committedDate": "2020-01-02T18:14:08Z", "message": "Remove strings for external player option"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM3ODAzMjAx", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/249#pullrequestreview-337803201", "createdAt": "2020-01-02T18:56:46Z", "commit": {"oid": "3897ebbb554bbf94c3333615710af6e41327473b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wMlQxODo1Njo0NlrOFZyjjw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wMlQxODo1Njo0NlrOFZyjjw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MjU4NzAyMw==", "bodyText": "These will need to be removed for all locales.", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/249#discussion_r362587023", "createdAt": "2020-01-02T18:56:46Z", "author": {"login": "thornbill"}, "path": "app/src/main/res/values/strings.xml", "diffHunk": "@@ -305,11 +305,9 @@\n     <string name=\"lbl_next_episode\">Next Episode</string>\n     <string name=\"lbl_album_name\">Album name</string>\n     <string name=\"lbl_song_title\">Song Title</string>\n-    <string name=\"pref_use_external_player_title\">Use External Player for Videos</string>\n-    <string name=\"pref_use_external_player_summary\">Requires a capable app to play video types</string>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3897ebbb554bbf94c3333615710af6e41327473b"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM3ODAzOTgz", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/249#pullrequestreview-337803983", "createdAt": "2020-01-02T18:58:32Z", "commit": {"oid": "3897ebbb554bbf94c3333615710af6e41327473b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wMlQxODo1ODozMlrOFZyl5g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wMlQxODo1ODozMlrOFZyl5g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MjU4NzYyMg==", "bodyText": "Does it make sense to maintain a config version? I have been thinking it may be less overhead to just check if a specific preference exists and set the default value if it does not.", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/249#discussion_r362587622", "createdAt": "2020-01-02T18:58:32Z", "author": {"login": "thornbill"}, "path": "app/src/main/java/org/jellyfin/androidtv/startup/StartupActivity.java", "diffHunk": "@@ -70,6 +70,12 @@ protected void onCreate(Bundle savedInstanceState) {\n             application.getPrefs().edit().putBoolean(\"pref_enable_info_panel\", false).apply();\n             application.getSystemPrefs().edit().putString(\"sys_pref_config_version\", \"4\").apply();\n         }\n+        if (Integer.parseInt(application.getConfigVersion()) < 5) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3897ebbb554bbf94c3333615710af6e41327473b"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1e275345d49f3ef3c8c22cc9246a80fe700dc5d2", "author": {"user": {"login": "nielsvanvelzen", "name": "Niels van Velzen"}}, "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/1e275345d49f3ef3c8c22cc9246a80fe700dc5d2", "committedDate": "2020-01-03T19:04:34Z", "message": "Merge branch 'master' into player-preferrence\n\n# Conflicts:\n#\tapp/src/main/res/values/strings.xml"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c411f58c3d21dc86c68a4d3856698d54058d04c9", "author": {"user": {"login": "nielsvanvelzen", "name": "Niels van Velzen"}}, "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/c411f58c3d21dc86c68a4d3856698d54058d04c9", "committedDate": "2020-01-03T19:06:25Z", "message": "Remove old strings from other languages as well"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7ae58475e5c8e4644d34353e71d1b8846aafc119", "author": {"user": {"login": "nielsvanvelzen", "name": "Niels van Velzen"}}, "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/7ae58475e5c8e4644d34353e71d1b8846aafc119", "committedDate": "2020-01-07T18:26:22Z", "message": "Merge branch 'master' into player-preferrence\n\n# Conflicts:\n#\tapp/src/main/java/org/jellyfin/androidtv/TvApp.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "91e7252025098816c53cae00afe198ec4098fe0d", "author": {"user": {"login": "nielsvanvelzen", "name": "Niels van Velzen"}}, "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/91e7252025098816c53cae00afe198ec4098fe0d", "committedDate": "2020-01-07T21:23:33Z", "message": "Make sure to use VLC when preferred, even when transcoding"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "35c0801f0d4615aad4a31e6691764ccebd4e0607", "author": {"user": {"login": "nielsvanvelzen", "name": "Niels van Velzen"}}, "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/35c0801f0d4615aad4a31e6691764ccebd4e0607", "committedDate": "2020-01-07T21:30:11Z", "message": "Set default value for useVlc to make sure it is always set according to preferences.\n\nAlso removes the forced-enabling of VLC in the error handler for requesting stream info"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQwMTI3ODQy", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/249#pullrequestreview-340127842", "createdAt": "2020-01-08T20:34:01Z", "commit": {"oid": "35c0801f0d4615aad4a31e6691764ccebd4e0607"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4347, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}