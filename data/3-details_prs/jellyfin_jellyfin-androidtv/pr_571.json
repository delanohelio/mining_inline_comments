{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkyNjI4OTkz", "number": 571, "title": "Feature play with button", "bodyText": "Feature to choose player from the menu where we have play button. I created this because some files play fine on vlc and some play fine on external app. It is better to have such button than going to settings and changing there.\nChanges\nAdded play with button next to play button. This button will only be visible if preferred player is set external app.\nIssues\n#561", "createdAt": "2020-09-24T18:34:50Z", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/571", "merged": true, "mergeCommit": {"oid": "2e930f90e3bee72c0df5b4993da8964f856ea138"}, "closed": true, "closedAt": "2020-10-18T17:39:04Z", "author": {"login": "okan35"}, "timelineItems": {"totalCount": 14, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdLIYwagH2gAyNDkyNjI4OTkzOjQ2MTI1NTk4NWMzYzY4OWVkMWEwZTI1ZGVhMzM5YTRjNDA4NmVmNmU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdTzIIPAFqTUxMTE2NTM3NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "461255985c3c689ed1a0e25dea339a4c4086ef6e", "author": {"user": {"login": "okan35", "name": null}}, "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/461255985c3c689ed1a0e25dea339a4c4086ef6e", "committedDate": "2020-09-21T19:16:41Z", "message": "play with work"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "219545b26acc965c4d2a60ebc9fbfb3946d38952", "author": {"user": {"login": "okan35", "name": null}}, "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/219545b26acc965c4d2a60ebc9fbfb3946d38952", "committedDate": "2020-09-22T19:02:14Z", "message": "menu is working"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk2MTQ4Nzc0", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/571#pullrequestreview-496148774", "createdAt": "2020-09-25T06:43:58Z", "commit": {"oid": "219545b26acc965c4d2a60ebc9fbfb3946d38952"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNVQwNjo0Mzo1OFrOHX2-NA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNVQwNjo0NjozNVrOHX3Cfw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDc3OTk1Ng==", "bodyText": "All titles should use strings so they can be translated.", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/571#discussion_r494779956", "createdAt": "2020-09-25T06:43:58Z", "author": {"login": "nielsvanvelzen"}, "path": "app/src/main/res/menu/menu_details_play_with.xml", "diffHunk": "@@ -0,0 +1,18 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>\n+<menu\n+    xmlns:android=\"http://schemas.android.com/apk/res/android\">\n+\n+    <item android:title=\"Play with Vlc\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "219545b26acc965c4d2a60ebc9fbfb3946d38952"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDc4MDE5Nw==", "bodyText": "\"Play with\" should use a string so it can be translated.", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/571#discussion_r494780197", "createdAt": "2020-09-25T06:44:40Z", "author": {"login": "nielsvanvelzen"}, "path": "app/src/main/java/org/jellyfin/androidtv/ui/itemdetail/FullDetailsActivity.java", "diffHunk": "@@ -1260,6 +1267,19 @@ public void onClick(View v) {\n                 more.show();\n             }\n         });\n+        if (userPreferences.getValue().get(UserPreferences.Companion.getVideoPlayer()) == PreferredVideoPlayer.EXTERNAL) {\n+            playWithButton = new TextUnderButton(this, R.drawable.ic_add, buttonSize, 3, \"Play with\", new View.OnClickListener() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "219545b26acc965c4d2a60ebc9fbfb3946d38952"}, "originalPosition": 56}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDc4MDU4Nw==", "bodyText": "This toast looks like it was intended for debugigng purposes, should probably remove it or replace it with a logger debug message.", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/571#discussion_r494780587", "createdAt": "2020-09-25T06:45:28Z", "author": {"login": "nielsvanvelzen"}, "path": "app/src/main/java/org/jellyfin/androidtv/ui/itemdetail/FullDetailsActivity.java", "diffHunk": "@@ -1260,6 +1267,19 @@ public void onClick(View v) {\n                 more.show();\n             }\n         });\n+        if (userPreferences.getValue().get(UserPreferences.Companion.getVideoPlayer()) == PreferredVideoPlayer.EXTERNAL) {\n+            playWithButton = new TextUnderButton(this, R.drawable.ic_add, buttonSize, 3, \"Play with\", new View.OnClickListener() {\n+                @Override\n+                public void onClick(View view) {\n+                    Toast.makeText(mApplication, \"Play With Button\", Toast.LENGTH_SHORT).show();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "219545b26acc965c4d2a60ebc9fbfb3946d38952"}, "originalPosition": 59}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDc4MTA1NQ==", "bodyText": "User preferences should never be changed without the user explicitly telling the application to do so. In this case you should find a way to set the player for the next play call without changing the setting.", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/571#discussion_r494781055", "createdAt": "2020-09-25T06:46:35Z", "author": {"login": "nielsvanvelzen"}, "path": "app/src/main/java/org/jellyfin/androidtv/ui/itemdetail/FullDetailsActivity.java", "diffHunk": "@@ -1326,6 +1346,29 @@ public boolean onMenuItemClick(MenuItem item) {\n         }\n     };\n \n+    PopupMenu.OnMenuItemClickListener playWithMenuListener = new PopupMenu.OnMenuItemClickListener() {\n+        @Override\n+        public boolean onMenuItemClick(MenuItem item) {\n+            switch (item.getItemId()) {\n+\n+                case R.id.play_with_vlc:\n+                        userPreferences.getValue().set(UserPreferences.Companion.getVideoPlayer(), PreferredVideoPlayer.VLC);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "219545b26acc965c4d2a60ebc9fbfb3946d38952"}, "originalPosition": 81}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "502c3ff71873c87f23611b7aac00f6e72d9cfff5", "author": {"user": {"login": "okan35", "name": null}}, "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/502c3ff71873c87f23611b7aac00f6e72d9cfff5", "committedDate": "2020-09-26T12:21:03Z", "message": "progress on play with feature"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d4f57744feaef863ecd12513ae0c5f82a039ed59", "author": {"user": {"login": "okan35", "name": null}}, "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/d4f57744feaef863ecd12513ae0c5f82a039ed59", "committedDate": "2020-09-26T18:28:22Z", "message": "working external player"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk3MDIzNzE0", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/571#pullrequestreview-497023714", "createdAt": "2020-09-26T18:45:33Z", "commit": {"oid": "d4f57744feaef863ecd12513ae0c5f82a039ed59"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNlQxODo0NTozM1rOHYh8vg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNlQxODo1NDozNVrOHYh_oQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTQ4NDA5NA==", "bodyText": "Should use SystemPreferences", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/571#discussion_r495484094", "createdAt": "2020-09-26T18:45:33Z", "author": {"login": "nielsvanvelzen"}, "path": "app/src/main/java/org/jellyfin/androidtv/preference/UserPreferences.kt", "diffHunk": "@@ -174,6 +174,12 @@ class UserPreferences(context: Context) : SharedPreferenceStore(\n \t\t * Include system logs in crash reports\n \t\t */\n \t\tvar acraIncludeSystemLogs = Preference.boolean(ACRA.PREF_ENABLE_SYSTEM_LOGS, true)\n+\n+\t\t/**\n+\t\t * chosen player for play with button - changes every time user chooses a player with \"play with\" button\n+\t\t */\n+\n+\t\tvar chosenPlayer = Preference.enum(\"chosen_player\",PreferredVideoPlayer.VLC)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d4f57744feaef863ecd12513ae0c5f82a039ed59"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTQ4NDE4Mg==", "bodyText": "Use else if", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/571#discussion_r495484182", "createdAt": "2020-09-26T18:46:51Z", "author": {"login": "nielsvanvelzen"}, "path": "app/src/main/java/org/jellyfin/androidtv/ui/itemdetail/FullDetailsActivity.java", "diffHunk": "@@ -888,18 +893,25 @@ public void onError(Exception exception) {\n             mDetailsOverviewRow.addAction(mResumeButton);\n             boolean resumeButtonVisible = (mBaseItem.getBaseItemType() == BaseItemType.Series && !mBaseItem.getUserData().getPlayed()) || (mBaseItem.getCanResume());\n             mResumeButton.setVisibility(resumeButtonVisible ? View.VISIBLE : View.GONE);\n-\n-            TextUnderButton play = new TextUnderButton(this, R.drawable.ic_play, buttonSize, 2, getString(BaseItemUtils.isLiveTv(mBaseItem) ? R.string.lbl_tune_to_channel : mBaseItem.getIsFolderItem() ? R.string.lbl_play_all : R.string.lbl_play), new View.OnClickListener() {\n-                @Override\n-                public void onClick(View v) {\n-                    play(mBaseItem, 0, false);\n-                }\n-            });\n-            mDetailsOverviewRow.addAction(play);\n+            boolean isPlayerPrefChoose = userPreferences.getValue().get(UserPreferences.Companion.getVideoPlayer()) == PreferredVideoPlayer.CHOOSE;\n+            TextUnderButton play = null;\n+            if (!isPlayerPrefChoose) {\n+                play = new TextUnderButton(this, R.drawable.ic_play, buttonSize, 2, getString(BaseItemUtils.isLiveTv(mBaseItem) ? R.string.lbl_tune_to_channel : mBaseItem.getIsFolderItem() ? R.string.lbl_play_all : R.string.lbl_play), new View.OnClickListener() {\n+                    @Override\n+                    public void onClick(View v) {\n+                        play(mBaseItem, 0, false);\n+                    }\n+                });\n+                mDetailsOverviewRow.addAction(play);    \n+            }\n+            \n             if (resumeButtonVisible) {\n                 mResumeButton.requestFocus();\n             } else {\n-                play.requestFocus();\n+                if (!isPlayerPrefChoose) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d4f57744feaef863ecd12513ae0c5f82a039ed59"}, "originalPosition": 66}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTQ4NDMxNg==", "bodyText": "Probably easier to add an else statement when checking if the play button should be shown", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/571#discussion_r495484316", "createdAt": "2020-09-26T18:48:36Z", "author": {"login": "nielsvanvelzen"}, "path": "app/src/main/java/org/jellyfin/androidtv/ui/itemdetail/FullDetailsActivity.java", "diffHunk": "@@ -1260,6 +1276,18 @@ public void onClick(View v) {\n                 more.show();\n             }\n         });\n+        if (userPreferences.getValue().get(UserPreferences.Companion.getVideoPlayer()) == PreferredVideoPlayer.CHOOSE) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d4f57744feaef863ecd12513ae0c5f82a039ed59"}, "originalPosition": 95}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTQ4NDMzMw==", "bodyText": "Since either the play or play with button is shown you can probably reuse the playButton property", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/571#discussion_r495484333", "createdAt": "2020-09-26T18:48:58Z", "author": {"login": "nielsvanvelzen"}, "path": "app/src/main/java/org/jellyfin/androidtv/ui/itemdetail/FullDetailsActivity.java", "diffHunk": "@@ -1260,6 +1276,18 @@ public void onClick(View v) {\n                 more.show();\n             }\n         });\n+        if (userPreferences.getValue().get(UserPreferences.Companion.getVideoPlayer()) == PreferredVideoPlayer.CHOOSE) {\n+            playWithButton = new TextUnderButton(this, R.drawable.ic_add, buttonSize, 3, getString(R.string.play_with), new View.OnClickListener() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d4f57744feaef863ecd12513ae0c5f82a039ed59"}, "originalPosition": 96}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTQ4NDU2Nw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                            if (preferredVideoPlayerByPlayWith == PreferredVideoPlayer.VLC) {\n          \n          \n            \n                                                useVlc = true;\n          \n          \n            \n                                            } else if (preferredVideoPlayerByPlayWith == PreferredVideoPlayer.EXOPLAYER) {\n          \n          \n            \n                                                // Make sure to not use VLC\n          \n          \n            \n                                                useVlc = false;\n          \n          \n            \n                                            }\n          \n          \n            \n                                            useVlc = preferredVideoPlayerByPlayWith == PreferredVideoPlayer.VLC;", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/571#discussion_r495484567", "createdAt": "2020-09-26T18:51:23Z", "author": {"login": "nielsvanvelzen"}, "path": "app/src/main/java/org/jellyfin/androidtv/ui/playback/PlaybackController.java", "diffHunk": "@@ -478,6 +491,16 @@ public void onResponse(StreamInfo internalResponse) {\n                                                         !internalResponse.getMediaSource().getDefaultAudioStream().getCodec().equals(\"dts\"))) &&\n                                         (!DeviceUtils.isFireTvStick() ||\n                                                 (vlcResponse.getMediaSource().getVideoStream() != null && vlcResponse.getMediaSource().getVideoStream().getWidth() < 1000));\n+                            } else if (preferredVideoPlayer == PreferredVideoPlayer.CHOOSE) {\n+                                PreferredVideoPlayer preferredVideoPlayerByPlayWith = userPreferences.getValue().get(UserPreferences.Companion.getChosenPlayer());\n+                                if (preferredVideoPlayerByPlayWith == PreferredVideoPlayer.VLC) {\n+                                    useVlc = true;\n+                                } else if (preferredVideoPlayerByPlayWith == PreferredVideoPlayer.EXOPLAYER) {\n+                                    // Make sure to not use VLC\n+                                    useVlc = false;\n+                                }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d4f57744feaef863ecd12513ae0c5f82a039ed59"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTQ4NDYwMA==", "bodyText": "Use Timber for logging", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/571#discussion_r495484600", "createdAt": "2020-09-26T18:51:44Z", "author": {"login": "nielsvanvelzen"}, "path": "app/src/main/java/org/jellyfin/androidtv/ui/playback/PlaybackController.java", "diffHunk": "@@ -478,6 +491,16 @@ public void onResponse(StreamInfo internalResponse) {\n                                                         !internalResponse.getMediaSource().getDefaultAudioStream().getCodec().equals(\"dts\"))) &&\n                                         (!DeviceUtils.isFireTvStick() ||\n                                                 (vlcResponse.getMediaSource().getVideoStream() != null && vlcResponse.getMediaSource().getVideoStream().getWidth() < 1000));\n+                            } else if (preferredVideoPlayer == PreferredVideoPlayer.CHOOSE) {\n+                                PreferredVideoPlayer preferredVideoPlayerByPlayWith = userPreferences.getValue().get(UserPreferences.Companion.getChosenPlayer());\n+                                if (preferredVideoPlayerByPlayWith == PreferredVideoPlayer.VLC) {\n+                                    useVlc = true;\n+                                } else if (preferredVideoPlayerByPlayWith == PreferredVideoPlayer.EXOPLAYER) {\n+                                    // Make sure to not use VLC\n+                                    useVlc = false;\n+                                }\n+\n+                                System.out.println(\"PREFERRED PLAYER \" + preferredVideoPlayerByPlayWith.name());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d4f57744feaef863ecd12513ae0c5f82a039ed59"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTQ4NDYzNw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                <string name=\"play_with_vlc\">Play with Vlc</string>\n          \n          \n            \n                <string name=\"play_with_vlc\">Play with libVLC</string>", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/571#discussion_r495484637", "createdAt": "2020-09-26T18:52:07Z", "author": {"login": "nielsvanvelzen"}, "path": "app/src/main/res/values/strings.xml", "diffHunk": "@@ -403,4 +404,8 @@\n     <string name=\"not_deleted\">Item NOT Deleted</string>\n     <string name=\"turn_off\">Turn this option off</string>\n     <string name=\"just_one\">Just this one</string>\n+    <string name=\"play_with_vlc\">Play with Vlc</string>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d4f57744feaef863ecd12513ae0c5f82a039ed59"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTQ4NDY1NQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                <string name=\"play_with_exo_player\">Play with Exo Player</string>\n          \n          \n            \n                <string name=\"play_with_exo_player\">Play with ExoPlayer</string>", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/571#discussion_r495484655", "createdAt": "2020-09-26T18:52:15Z", "author": {"login": "nielsvanvelzen"}, "path": "app/src/main/res/values/strings.xml", "diffHunk": "@@ -403,4 +404,8 @@\n     <string name=\"not_deleted\">Item NOT Deleted</string>\n     <string name=\"turn_off\">Turn this option off</string>\n     <string name=\"just_one\">Just this one</string>\n+    <string name=\"play_with_vlc\">Play with Vlc</string>\n+    <string name=\"play_with_exo_player\">Play with Exo Player</string>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d4f57744feaef863ecd12513ae0c5f82a039ed59"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTQ4NDY2NA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                <string name=\"play_with_external_app\">Play with External App</string>\n          \n          \n            \n                <string name=\"play_with_external_app\">Play with external app</string>", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/571#discussion_r495484664", "createdAt": "2020-09-26T18:52:30Z", "author": {"login": "nielsvanvelzen"}, "path": "app/src/main/res/values/strings.xml", "diffHunk": "@@ -403,4 +404,8 @@\n     <string name=\"not_deleted\">Item NOT Deleted</string>\n     <string name=\"turn_off\">Turn this option off</string>\n     <string name=\"just_one\">Just this one</string>\n+    <string name=\"play_with_vlc\">Play with Vlc</string>\n+    <string name=\"play_with_exo_player\">Play with Exo Player</string>\n+    <string name=\"play_with_external_app\">Play with External App</string>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d4f57744feaef863ecd12513ae0c5f82a039ed59"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTQ4NDgxNg==", "bodyText": "I think this is unused", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/571#discussion_r495484816", "createdAt": "2020-09-26T18:54:15Z", "author": {"login": "nielsvanvelzen"}, "path": "app/src/main/java/org/jellyfin/androidtv/ui/itemdetail/FullDetailsActivity.java", "diffHunk": "@@ -1325,6 +1353,42 @@ public boolean onMenuItemClick(MenuItem item) {\n             return false;\n         }\n     };\n+    PlaybackController playbackController= new  PlaybackController(MediaManager.getCurrentVideoQueue());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d4f57744feaef863ecd12513ae0c5f82a039ed59"}, "originalPosition": 114}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTQ4NDgyNg==", "bodyText": "Mark private", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/571#discussion_r495484826", "createdAt": "2020-09-26T18:54:23Z", "author": {"login": "nielsvanvelzen"}, "path": "app/src/main/java/org/jellyfin/androidtv/ui/itemdetail/FullDetailsActivity.java", "diffHunk": "@@ -1325,6 +1353,42 @@ public boolean onMenuItemClick(MenuItem item) {\n             return false;\n         }\n     };\n+    PlaybackController playbackController= new  PlaybackController(MediaManager.getCurrentVideoQueue());\n+\n+    PopupMenu.OnMenuItemClickListener playWithMenuListener = new PopupMenu.OnMenuItemClickListener() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d4f57744feaef863ecd12513ae0c5f82a039ed59"}, "originalPosition": 116}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTQ4NDgzMw==", "bodyText": "I think this is unused too", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/571#discussion_r495484833", "createdAt": "2020-09-26T18:54:35Z", "author": {"login": "nielsvanvelzen"}, "path": "app/src/main/java/org/jellyfin/androidtv/ui/playback/PlaybackController.java", "diffHunk": "@@ -112,6 +112,19 @@ public PlaybackController(List<BaseItemDto> items, IPlaybackOverlayFragment frag\n         useVlc = userPreferences.getValue().get(UserPreferences.Companion.getVideoPlayer()) == PreferredVideoPlayer.VLC;\n     }\n \n+    public PlaybackController(List<BaseItemDto> items) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d4f57744feaef863ecd12513ae0c5f82a039ed59"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8ffba55364404c438e35c6e703434caf1f1a3423", "author": {"user": {"login": "okan35", "name": null}}, "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/8ffba55364404c438e35c6e703434caf1f1a3423", "committedDate": "2020-09-27T09:19:27Z", "message": "changes from review"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "908f99c8014c494e5828c3aa989997b70131ed2b", "author": {"user": {"login": "okan35", "name": null}}, "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/908f99c8014c494e5828c3aa989997b70131ed2b", "committedDate": "2020-09-27T09:26:54Z", "message": "removed unused imports - string change"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAxNjA4MTE0", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/571#pullrequestreview-501608114", "createdAt": "2020-10-04T09:58:08Z", "commit": {"oid": "908f99c8014c494e5828c3aa989997b70131ed2b"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNFQwOTo1ODowOFrOHcGcBQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNFQwOTo1OTozMVrOHcGccw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTIyNzY1Mw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\t * chosen player for play with button - changes every time user chooses a player with \"play with\" button\n          \n          \n            \n            \t\t * Chosen player for play with button - changes every time user chooses a player with \"play with\" button.", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/571#discussion_r499227653", "createdAt": "2020-10-04T09:58:08Z", "author": {"login": "nielsvanvelzen"}, "path": "app/src/main/java/org/jellyfin/androidtv/preference/SystemPreferences.kt", "diffHunk": "@@ -59,5 +60,11 @@ class SystemPreferences(context: Context) : SharedPreferenceStore(\n \t\t * Stores whether the sports filter is active in the channel guide or not\n \t\t */\n \t\tval liveTvGuideFilterSports = Preference.boolean(\"guide_filter_sports\", false)\n+\n+\t\t/**\n+\t\t * chosen player for play with button - changes every time user chooses a player with \"play with\" button", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "908f99c8014c494e5828c3aa989997b70131ed2b"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTIyNzc2Mw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        playButton = new TextUnderButton(this, R.drawable.ic_add, buttonSize, 3, getString(R.string.play_with), new View.OnClickListener() {\n          \n          \n            \n                        playButton = new TextUnderButton(this, R.drawable.ic_play, buttonSize, 3, getString(R.string.play_with), new View.OnClickListener() {", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/571#discussion_r499227763", "createdAt": "2020-10-04T09:59:31Z", "author": {"login": "nielsvanvelzen"}, "path": "app/src/main/java/org/jellyfin/androidtv/ui/itemdetail/FullDetailsActivity.java", "diffHunk": "@@ -884,55 +889,71 @@ public void onError(Exception exception) {\n             }\n         });\n \n-        if (BaseItemUtils.canPlay(mBaseItem)) {\n-            mDetailsOverviewRow.addAction(mResumeButton);\n-            boolean resumeButtonVisible = (mBaseItem.getBaseItemType() == BaseItemType.Series && !mBaseItem.getUserData().getPlayed()) || (mBaseItem.getCanResume());\n-            mResumeButton.setVisibility(resumeButtonVisible ? View.VISIBLE : View.GONE);\n-\n-            TextUnderButton play = new TextUnderButton(this, R.drawable.ic_play, buttonSize, 2, getString(BaseItemUtils.isLiveTv(mBaseItem) ? R.string.lbl_tune_to_channel : mBaseItem.getIsFolderItem() ? R.string.lbl_play_all : R.string.lbl_play), new View.OnClickListener() {\n+        //playButton becomes playWith button\n+        if (userPreferences.getValue().get(UserPreferences.Companion.getVideoPlayer()) == PreferredVideoPlayer.CHOOSE) {\n+            playButton = new TextUnderButton(this, R.drawable.ic_add, buttonSize, 3, getString(R.string.play_with), new View.OnClickListener() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "908f99c8014c494e5828c3aa989997b70131ed2b"}, "originalPosition": 44}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "401799cb05a3351a5adb12d3868fad679039e23f", "author": {"user": {"login": "okan35", "name": null}}, "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/401799cb05a3351a5adb12d3868fad679039e23f", "committedDate": "2020-10-05T18:57:28Z", "message": "show playWith button on certain screens"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "893a3bfa5b3317992502f25d85d9ff7bac73e46f", "author": {"user": {"login": "okan35", "name": null}}, "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/893a3bfa5b3317992502f25d85d9ff7bac73e46f", "committedDate": "2020-10-10T14:22:20Z", "message": "button icon change"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTExMTY1MDQ3", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/571#pullrequestreview-511165047", "createdAt": "2020-10-18T17:32:02Z", "commit": {"oid": "ea11eaadf78b6efdb91e87ff5326bf2a6ef91404"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOFQxNzozMjowMlrOHjsbyA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOFQxNzozMjowMlrOHjsbyA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzE5MDIxNg==", "bodyText": "Codacy found an issue: Fields should be declared at the top of the class, before any method declarations, constructors, initializers or inner classes.", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/571#discussion_r507190216", "createdAt": "2020-10-18T17:32:02Z", "author": {"login": "jellyfin-bot"}, "path": "app/src/main/java/org/jellyfin/androidtv/ui/itemdetail/FullDetailsActivity.java", "diffHunk": "@@ -839,6 +843,7 @@ public void onClick(DialogInterface dialog, int which) {\n     private TextUnderButton queueButton = null;\n     private TextUnderButton deleteButton = null;\n     private TextUnderButton moreButton;\n+    private TextUnderButton playButton = null;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ea11eaadf78b6efdb91e87ff5326bf2a6ef91404"}, "originalPosition": 28}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ea11eaadf78b6efdb91e87ff5326bf2a6ef91404", "author": {"user": {"login": "okan35", "name": null}}, "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/ea11eaadf78b6efdb91e87ff5326bf2a6ef91404", "committedDate": "2020-10-18T17:34:11Z", "message": "episode check added for play with button"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTExMTY1Mzc1", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/571#pullrequestreview-511165375", "createdAt": "2020-10-18T17:35:50Z", "commit": {"oid": "ea11eaadf78b6efdb91e87ff5326bf2a6ef91404"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4186, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}