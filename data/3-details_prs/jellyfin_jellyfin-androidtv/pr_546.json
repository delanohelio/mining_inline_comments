{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY5NDk5OTc0", "number": 546, "title": "Fix Hardcoded Texts", "bodyText": "Changes\n\nMade changes to all static strings and replaced them with resource strings from strings.xml\nDid not make changes to FullDetailsActivity.java as per the comment in the issue\nHad a local build error (linting) on the string resource lbl_unknown_key, but it is unrelated to this PR\n\nIssues\nFixes #507", "createdAt": "2020-08-18T13:30:04Z", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/546", "merged": true, "mergeCommit": {"oid": "ceb9d2ac8da62b62050fe53a096328fab852a1f0"}, "closed": true, "closedAt": "2020-08-19T07:24:59Z", "author": {"login": "PalAditya"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdAD42pgH2gAyNDY5NDk5OTc0OjliNTVkMjM2OGU0NDNjYjZmZTQ1YjUwYjBjNDFmOTRkZDU4NzEyMTQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdAWbCqgFqTQ3MDE5MDIzNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "9b55d2368e443cb6fe45b50b0c41f94dd5871214", "author": {"user": {"login": "PalAditya", "name": "Aditya Pal"}}, "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/9b55d2368e443cb6fe45b50b0c41f94dd5871214", "committedDate": "2020-08-18T09:49:03Z", "message": "Test build strategy"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "106f9f26355cd6a99981e311c28ea26ff55bf932", "author": {"user": {"login": "PalAditya", "name": "Aditya Pal"}}, "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/106f9f26355cd6a99981e311c28ea26ff55bf932", "committedDate": "2020-08-18T13:16:31Z", "message": "Replacing all strings with resource representations"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY5NTM3Mjgz", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/546#pullrequestreview-469537283", "createdAt": "2020-08-18T14:53:39Z", "commit": {"oid": "106f9f26355cd6a99981e311c28ea26ff55bf932"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOFQxNDo1MzozOVrOHCYbHQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOFQxNDo1NTozMVrOHCYhLQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjI1OTM1Nw==", "bodyText": "Using a string template is preferred for strings that contain dynamic elements. An example in this case: This will PERMANENTLY DELETE %1$s from your library.  Are you VERY sure?. The value can then be passed to the getString function as argument.\nAndroid documentation", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/546#discussion_r472259357", "createdAt": "2020-08-18T14:53:39Z", "author": {"login": "nielsvanvelzen"}, "path": "app/src/main/java/org/jellyfin/androidtv/details/ItemListActivity.java", "diffHunk": "@@ -675,13 +675,13 @@ public void onClick(DialogInterface dialog, int which) {\n                         } else {\n                             new AlertDialog.Builder(mActivity)\n                                     .setTitle(R.string.lbl_delete)\n-                                    .setMessage(\"This will PERMANENTLY DELETE \" + mBaseItem.getName() + \" from your library.  Are you VERY sure?\")\n-                                    .setPositiveButton(\"Delete\", new DialogInterface.OnClickListener() {\n+                                    .setMessage(R.string.warning_0 + mBaseItem.getName() + R.string.warning_1)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "106f9f26355cd6a99981e311c28ea26ff55bf932"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjI1OTY3NA==", "bodyText": "Needs a string template", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/546#discussion_r472259674", "createdAt": "2020-08-18T14:54:02Z", "author": {"login": "nielsvanvelzen"}, "path": "app/src/main/java/org/jellyfin/androidtv/details/ItemListActivity.java", "diffHunk": "@@ -675,13 +675,13 @@ public void onClick(DialogInterface dialog, int which) {\n                         } else {\n                             new AlertDialog.Builder(mActivity)\n                                     .setTitle(R.string.lbl_delete)\n-                                    .setMessage(\"This will PERMANENTLY DELETE \" + mBaseItem.getName() + \" from your library.  Are you VERY sure?\")\n-                                    .setPositiveButton(\"Delete\", new DialogInterface.OnClickListener() {\n+                                    .setMessage(R.string.warning_0 + mBaseItem.getName() + R.string.warning_1)\n+                                    .setPositiveButton(R.string.lbl_delete, new DialogInterface.OnClickListener() {\n                                         public void onClick(DialogInterface dialog, int whichButton) {\n                                             TvApp.getApplication().getApiClient().DeleteItem(mBaseItem.getId(), new EmptyResponse() {\n                                                 @Override\n                                                 public void onResponse() {\n-                                                    Utils.showToast(mActivity, mBaseItem.getName() + \" Deleted\");\n+                                                    Utils.showToast(mActivity, mBaseItem.getName() + R.string.lbl_deleted);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "106f9f26355cd6a99981e311c28ea26ff55bf932"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjI1OTgwMg==", "bodyText": "Needs a string template", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/546#discussion_r472259802", "createdAt": "2020-08-18T14:54:11Z", "author": {"login": "nielsvanvelzen"}, "path": "app/src/main/java/org/jellyfin/androidtv/livetv/LiveTvGuideActivity.java", "diffHunk": "@@ -368,8 +368,8 @@ public void onClick(DialogInterface dialog, int which) {\n \n     private void requestGuidePage(final long startTime) {\n         new AlertDialog.Builder(mActivity)\n-                .setTitle(\"Load Guide Data\")\n-                .setMessage(\"Load \" + (startTime > mCurrentLocalGuideStart ? \"next \" : \"previous \") +getGuideHours()+\" hours?\")\n+                .setTitle(R.string.lbl_load_guide_data)\n+                .setMessage(R.string.lbl_load + (startTime > mCurrentLocalGuideStart ? R.string.lbl_next : R.string.lbl_previous) + getGuideHours() + R.string.lbl_hours_2)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "106f9f26355cd6a99981e311c28ea26ff55bf932"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjI2MDA0MQ==", "bodyText": "Needs a string template", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/546#discussion_r472260041", "createdAt": "2020-08-18T14:54:30Z", "author": {"login": "nielsvanvelzen"}, "path": "app/src/main/java/org/jellyfin/androidtv/playback/MediaManager.java", "diffHunk": "@@ -347,7 +347,7 @@ public void onClick(DialogInterface dialog, int which) {\n                         TvApp.getApplication().getApiClient().CreatePlaylist(request, new Response<PlaylistCreationResult>() {\n                             @Override\n                             public void onResponse(PlaylistCreationResult response) {\n-                                Toast.makeText(activity, \"Queue saved as new playlist: \"+text, Toast.LENGTH_LONG).show();\n+                                Toast.makeText(activity, activity.getString(R.string.msg_queue_saved) + text, Toast.LENGTH_LONG).show();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "106f9f26355cd6a99981e311c28ea26ff55bf932"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjI2MDEyNA==", "bodyText": "Needs a string template", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/546#discussion_r472260124", "createdAt": "2020-08-18T14:54:36Z", "author": {"login": "nielsvanvelzen"}, "path": "app/src/main/java/org/jellyfin/androidtv/playback/MediaManager.java", "diffHunk": "@@ -407,7 +407,7 @@ public static int addToVideoQueue(BaseItemDto item) {\n             total += video.getRunTimeTicks() / 10000;\n         }\n \n-        Utils.showToast(TvApp.getApplication(), item.getName() + \" added to video queue. Ends: \"+android.text.format.DateFormat.getTimeFormat(TvApp.getApplication()).format(new Date(total)));\n+        Utils.showToast(TvApp.getApplication(), item.getName() + TvApp.getApplication().getString(R.string.msg_added_to_video) +android.text.format.DateFormat.getTimeFormat(TvApp.getApplication()).format(new Date(total)));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "106f9f26355cd6a99981e311c28ea26ff55bf932"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjI2MDIwMw==", "bodyText": "Needs a string template", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/546#discussion_r472260203", "createdAt": "2020-08-18T14:54:43Z", "author": {"login": "nielsvanvelzen"}, "path": "app/src/main/java/org/jellyfin/androidtv/playback/MediaManager.java", "diffHunk": "@@ -596,7 +596,7 @@ public void onResponse(StreamInfo response) {\n \n             @Override\n             public void onError(Exception exception) {\n-                Utils.showToast(TvApp.getApplication(), \"Unable to play audio \" + exception.getLocalizedMessage());\n+                Utils.showToast(TvApp.getApplication(), TvApp.getApplication().getString(R.string.audio_error) + exception.getLocalizedMessage());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "106f9f26355cd6a99981e311c28ea26ff55bf932"}, "originalPosition": 41}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjI2MDU3Mg==", "bodyText": "Needs a string template", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/546#discussion_r472260572", "createdAt": "2020-08-18T14:55:09Z", "author": {"login": "nielsvanvelzen"}, "path": "app/src/main/java/org/jellyfin/androidtv/startup/DpadPwActivity.java", "diffHunk": "@@ -92,10 +92,10 @@ public boolean onKeyUp(int keyCode, KeyEvent event) {\n                     final Activity activity = this;\n                     password.setInputType(InputType.TYPE_CLASS_TEXT | InputType.TYPE_TEXT_VARIATION_PASSWORD);\n                     new AlertDialog.Builder(this)\n-                            .setTitle(\"Enter Password\")\n-                            .setMessage(\"Please enter password for \" + user.getName())\n+                            .setTitle(R.string.password_prompt)\n+                            .setMessage(R.string.password_prompt_message + user.getName())", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "106f9f26355cd6a99981e311c28ea26ff55bf932"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjI2MDkwOQ==", "bodyText": "Needs a string template", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/546#discussion_r472260909", "createdAt": "2020-08-18T14:55:31Z", "author": {"login": "nielsvanvelzen"}, "path": "app/src/main/java/org/jellyfin/androidtv/util/Utils.java", "diffHunk": "@@ -209,10 +209,10 @@ public static void processPasswordEntry(final Activity activity, final UserDto u\n             final EditText password = new EditText(activity);\n             password.setInputType(InputType.TYPE_CLASS_TEXT | InputType.TYPE_TEXT_VARIATION_PASSWORD);\n             new AlertDialog.Builder(activity)\n-                    .setTitle(\"Enter Password\")\n-                    .setMessage(\"Please enter password for \" + user.getName())\n+                    .setTitle(R.string.password_prompt)\n+                    .setMessage(R.string.password_prompt_message + user.getName())", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "106f9f26355cd6a99981e311c28ea26ff55bf932"}, "originalPosition": 7}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ae8a4f973cb878a66d48625053fc149b2c2aa673", "author": {"user": {"login": "PalAditya", "name": "Aditya Pal"}}, "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/ae8a4f973cb878a66d48625053fc149b2c2aa673", "committedDate": "2020-08-18T18:55:12Z", "message": "Implementing requested changes with template string"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcwMTkwMjM0", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/546#pullrequestreview-470190234", "createdAt": "2020-08-19T07:24:41Z", "commit": {"oid": "ae8a4f973cb878a66d48625053fc149b2c2aa673"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4173, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}