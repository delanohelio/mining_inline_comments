{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY2MzgyMjk2", "number": 270, "reviewThreads": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yM1QxODowMTozN1rODaQxWA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yM1QxODoxNzo0MVrODaRCog==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI4ODY0MzQ0OnYy", "diffSide": "RIGHT", "path": "app/src/main/java/org/jellyfin/androidtv/model/itemtypes/Episode.kt", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yM1QxODowMTozN1rOFhHhmg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yM1QxODowMTozN1rOFhHhmg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI3MDYxOA==", "bodyText": "I think we should use our own naming and I prefer \"description\" instead of \"overview\"", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/270#discussion_r370270618", "createdAt": "2020-01-23T18:01:37Z", "author": {"login": "nielsvanvelzen"}, "path": "app/src/main/java/org/jellyfin/androidtv/model/itemtypes/Episode.kt", "diffHunk": "@@ -0,0 +1,14 @@\n+package org.jellyfin.androidtv.model.itemtypes\n+\n+import android.graphics.Bitmap\n+\n+data class Episode (\n+\tval id: String,\n+\tval canDelete: Boolean,\n+\tval canDownload: Boolean,\n+\t//TODO: Chapters: ArrayList<ChapterInfoDto>\n+\tval communityRating: Float,\n+\tval name: String,\n+\tval overview: String,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fa48c43a69171ba976054ddf31b993f60a6a7d1c"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI4ODY0Nzg0OnYy", "diffSide": "RIGHT", "path": "app/src/main/java/org/jellyfin/androidtv/model/itemtypes/Episode.kt", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yM1QxODowMzowNFrOFhHkdA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yM1QxODo0MjoxMVrOFhIrMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI3MTM0OA==", "bodyText": "The properties for \"canDelete\" and \"canDownload\" are user-permissions and can't be set per-item or per-library afaik. So I'd remove them from the episode pojo and move them somewhere else\nNot sure if you can find this information in the UserDto though", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/270#discussion_r370271348", "createdAt": "2020-01-23T18:03:04Z", "author": {"login": "nielsvanvelzen"}, "path": "app/src/main/java/org/jellyfin/androidtv/model/itemtypes/Episode.kt", "diffHunk": "@@ -0,0 +1,14 @@\n+package org.jellyfin.androidtv.model.itemtypes\n+\n+import android.graphics.Bitmap\n+\n+data class Episode (\n+\tval id: String,\n+\tval canDelete: Boolean,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fa48c43a69171ba976054ddf31b993f60a6a7d1c"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI4OTQ1OQ==", "bodyText": "Ah, then I'll remove them. Supporting this is probably also pointless for a TV experience (at least at first)", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/270#discussion_r370289459", "createdAt": "2020-01-23T18:42:11Z", "author": {"login": "AndreasGB"}, "path": "app/src/main/java/org/jellyfin/androidtv/model/itemtypes/Episode.kt", "diffHunk": "@@ -0,0 +1,14 @@\n+package org.jellyfin.androidtv.model.itemtypes\n+\n+import android.graphics.Bitmap\n+\n+data class Episode (\n+\tval id: String,\n+\tval canDelete: Boolean,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI3MTM0OA=="}, "originalCommit": {"oid": "fa48c43a69171ba976054ddf31b993f60a6a7d1c"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI4ODY0ODI5OnYy", "diffSide": "RIGHT", "path": "app/src/main/java/org/jellyfin/androidtv/model/itemtypes/Episode.kt", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yM1QxODowMzoxNVrOFhHkxQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yM1QxOToxMDozNVrOFhJfTQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI3MTQyOQ==", "bodyText": "Should probably use a double", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/270#discussion_r370271429", "createdAt": "2020-01-23T18:03:15Z", "author": {"login": "nielsvanvelzen"}, "path": "app/src/main/java/org/jellyfin/androidtv/model/itemtypes/Episode.kt", "diffHunk": "@@ -0,0 +1,14 @@\n+package org.jellyfin.androidtv.model.itemtypes\n+\n+import android.graphics.Bitmap\n+\n+data class Episode (\n+\tval id: String,\n+\tval canDelete: Boolean,\n+\tval canDownload: Boolean,\n+\t//TODO: Chapters: ArrayList<ChapterInfoDto>\n+\tval communityRating: Float,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fa48c43a69171ba976054ddf31b993f60a6a7d1c"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI5MDMyOQ==", "bodyText": "BaseItemDto has a float though, should I still change it?", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/270#discussion_r370290329", "createdAt": "2020-01-23T18:43:58Z", "author": {"login": "AndreasGB"}, "path": "app/src/main/java/org/jellyfin/androidtv/model/itemtypes/Episode.kt", "diffHunk": "@@ -0,0 +1,14 @@\n+package org.jellyfin.androidtv.model.itemtypes\n+\n+import android.graphics.Bitmap\n+\n+data class Episode (\n+\tval id: String,\n+\tval canDelete: Boolean,\n+\tval canDownload: Boolean,\n+\t//TODO: Chapters: ArrayList<ChapterInfoDto>\n+\tval communityRating: Float,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI3MTQyOQ=="}, "originalCommit": {"oid": "fa48c43a69171ba976054ddf31b993f60a6a7d1c"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI5OTgzMg==", "bodyText": "Hmm... It doesn't really make sense to store a score as float IMO and I expect the new API to use doubles too so we can convert it for now", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/270#discussion_r370299832", "createdAt": "2020-01-23T19:04:08Z", "author": {"login": "nielsvanvelzen"}, "path": "app/src/main/java/org/jellyfin/androidtv/model/itemtypes/Episode.kt", "diffHunk": "@@ -0,0 +1,14 @@\n+package org.jellyfin.androidtv.model.itemtypes\n+\n+import android.graphics.Bitmap\n+\n+data class Episode (\n+\tval id: String,\n+\tval canDelete: Boolean,\n+\tval canDownload: Boolean,\n+\t//TODO: Chapters: ArrayList<ChapterInfoDto>\n+\tval communityRating: Float,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI3MTQyOQ=="}, "originalCommit": {"oid": "fa48c43a69171ba976054ddf31b993f60a6a7d1c"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDMwMjc5Nw==", "bodyText": "Okay, will change it then", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/270#discussion_r370302797", "createdAt": "2020-01-23T19:10:35Z", "author": {"login": "AndreasGB"}, "path": "app/src/main/java/org/jellyfin/androidtv/model/itemtypes/Episode.kt", "diffHunk": "@@ -0,0 +1,14 @@\n+package org.jellyfin.androidtv.model.itemtypes\n+\n+import android.graphics.Bitmap\n+\n+data class Episode (\n+\tval id: String,\n+\tval canDelete: Boolean,\n+\tval canDownload: Boolean,\n+\t//TODO: Chapters: ArrayList<ChapterInfoDto>\n+\tval communityRating: Float,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI3MTQyOQ=="}, "originalCommit": {"oid": "fa48c43a69171ba976054ddf31b993f60a6a7d1c"}, "originalPosition": 10}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI4ODY1MjI3OnYy", "diffSide": "RIGHT", "path": "app/src/main/java/org/jellyfin/androidtv/details/DetailsDescriptionPresenter.kt", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yM1QxODowNDo0NFrOFhHnaQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yM1QxODowNDo0NFrOFhHnaQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI3MjEwNQ==", "bodyText": "When using .also the this scope won't change so you don't need the val us = this hack.", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/270#discussion_r370272105", "createdAt": "2020-01-23T18:04:44Z", "author": {"login": "nielsvanvelzen"}, "path": "app/src/main/java/org/jellyfin/androidtv/details/DetailsDescriptionPresenter.kt", "diffHunk": "@@ -0,0 +1,15 @@\n+package org.jellyfin.androidtv.details\n+\n+import androidx.leanback.widget.AbstractDetailsDescriptionPresenter\n+\n+class DetailsDescriptionPresenter(val title: String, val subtitle: String, val body: String) : AbstractDetailsDescriptionPresenter() {\n+\toverride fun onBindDescription(viewHolder: ViewHolder, itemData: Any) {\n+\t\tval us = this\n+\n+\t\tviewHolder.apply {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fa48c43a69171ba976054ddf31b993f60a6a7d1c"}, "originalPosition": 9}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI4ODY1NzMyOnYy", "diffSide": "RIGHT", "path": "app/src/main/java/org/jellyfin/androidtv/util/apiclient/BaseItemDtoExtensions.kt", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yM1QxODowNjo0NFrOFhHq2Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yM1QxOTowODo0NFrOFhJb1w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI3Mjk4NQ==", "bodyText": "I'm now thinking we should probably just use the image urls in those objects for now. The episode class could contain a function to get the bitmap.\nAlso, episodes should probably use the \"thumb\" image instead of primary (I might be wrong about this though)", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/270#discussion_r370272985", "createdAt": "2020-01-23T18:06:44Z", "author": {"login": "nielsvanvelzen"}, "path": "app/src/main/java/org/jellyfin/androidtv/util/apiclient/BaseItemDtoExtensions.kt", "diffHunk": "@@ -0,0 +1,15 @@\n+package org.jellyfin.androidtv.util.apiclient\n+\n+import android.graphics.Bitmap\n+import org.jellyfin.androidtv.model.itemtypes.Episode\n+import org.jellyfin.apiclient.model.dto.BaseItemDto\n+\n+fun BaseItemDto.asEpisode(primaryImage: Bitmap?) : Episode {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fa48c43a69171ba976054ddf31b993f60a6a7d1c"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI5NDE3MA==", "bodyText": "My new idea for this is now to move the download function for images into BaseDetailsFragment and then let each item-specific class do its own handling.", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/270#discussion_r370294170", "createdAt": "2020-01-23T18:51:56Z", "author": {"login": "AndreasGB"}, "path": "app/src/main/java/org/jellyfin/androidtv/util/apiclient/BaseItemDtoExtensions.kt", "diffHunk": "@@ -0,0 +1,15 @@\n+package org.jellyfin.androidtv.util.apiclient\n+\n+import android.graphics.Bitmap\n+import org.jellyfin.androidtv.model.itemtypes.Episode\n+import org.jellyfin.apiclient.model.dto.BaseItemDto\n+\n+fun BaseItemDto.asEpisode(primaryImage: Bitmap?) : Episode {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI3Mjk4NQ=="}, "originalCommit": {"oid": "fa48c43a69171ba976054ddf31b993f60a6a7d1c"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDMwMTkxMQ==", "bodyText": "Yeah that would work for now", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/270#discussion_r370301911", "createdAt": "2020-01-23T19:08:44Z", "author": {"login": "nielsvanvelzen"}, "path": "app/src/main/java/org/jellyfin/androidtv/util/apiclient/BaseItemDtoExtensions.kt", "diffHunk": "@@ -0,0 +1,15 @@\n+package org.jellyfin.androidtv.util.apiclient\n+\n+import android.graphics.Bitmap\n+import org.jellyfin.androidtv.model.itemtypes.Episode\n+import org.jellyfin.apiclient.model.dto.BaseItemDto\n+\n+fun BaseItemDto.asEpisode(primaryImage: Bitmap?) : Episode {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI3Mjk4NQ=="}, "originalCommit": {"oid": "fa48c43a69171ba976054ddf31b993f60a6a7d1c"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI4ODY2NDIxOnYy", "diffSide": "RIGHT", "path": "app/src/main/java/org/jellyfin/androidtv/details/BaseDetailsFragment.kt", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yM1QxODowOToxOFrOFhHvTA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yM1QxODo0NToyM1rOFhIxHQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI3NDEyNA==", "bodyText": "Empty function, only calls that only calls it's parent could probably be removed", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/270#discussion_r370274124", "createdAt": "2020-01-23T18:09:18Z", "author": {"login": "nielsvanvelzen"}, "path": "app/src/main/java/org/jellyfin/androidtv/details/BaseDetailsFragment.kt", "diffHunk": "@@ -0,0 +1,14 @@\n+package org.jellyfin.androidtv.details\n+\n+import android.os.Bundle\n+import androidx.leanback.app.DetailsSupportFragment\n+import androidx.leanback.widget.*\n+\n+open class BaseDetailsFragment : DetailsSupportFragment() {\n+\tprotected lateinit var rowsAdapter: ArrayObjectAdapter\n+\n+\toverride fun onCreate(savedInstanceState: Bundle?) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fa48c43a69171ba976054ddf31b993f60a6a7d1c"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI4MTA5NA==", "bodyText": "Sure, this is a leftover, but might as well stay there because once we have more sub-classes modeled out, we'll probably move stuff up there as well", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/270#discussion_r370281094", "createdAt": "2020-01-23T18:24:05Z", "author": {"login": "AndreasGB"}, "path": "app/src/main/java/org/jellyfin/androidtv/details/BaseDetailsFragment.kt", "diffHunk": "@@ -0,0 +1,14 @@\n+package org.jellyfin.androidtv.details\n+\n+import android.os.Bundle\n+import androidx.leanback.app.DetailsSupportFragment\n+import androidx.leanback.widget.*\n+\n+open class BaseDetailsFragment : DetailsSupportFragment() {\n+\tprotected lateinit var rowsAdapter: ArrayObjectAdapter\n+\n+\toverride fun onCreate(savedInstanceState: Bundle?) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI3NDEyNA=="}, "originalCommit": {"oid": "fa48c43a69171ba976054ddf31b993f60a6a7d1c"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI5MDk3Mw==", "bodyText": "I removed it now", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/270#discussion_r370290973", "createdAt": "2020-01-23T18:45:23Z", "author": {"login": "AndreasGB"}, "path": "app/src/main/java/org/jellyfin/androidtv/details/BaseDetailsFragment.kt", "diffHunk": "@@ -0,0 +1,14 @@\n+package org.jellyfin.androidtv.details\n+\n+import android.os.Bundle\n+import androidx.leanback.app.DetailsSupportFragment\n+import androidx.leanback.widget.*\n+\n+open class BaseDetailsFragment : DetailsSupportFragment() {\n+\tprotected lateinit var rowsAdapter: ArrayObjectAdapter\n+\n+\toverride fun onCreate(savedInstanceState: Bundle?) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI3NDEyNA=="}, "originalCommit": {"oid": "fa48c43a69171ba976054ddf31b993f60a6a7d1c"}, "originalPosition": 10}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI4ODY2Nzc5OnYy", "diffSide": "RIGHT", "path": "app/src/main/java/org/jellyfin/androidtv/details/DetailsActivity.kt", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yM1QxODoxMDo0NFrOFhHxug==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yM1QxOTowNTozMlrOFhJWLw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI3NDc0Ng==", "bodyText": "Might want to add a log statement here for debugging so you won't find yourself in a 10 hour debug session asking yourself why the activity never shows up", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/270#discussion_r370274746", "createdAt": "2020-01-23T18:10:44Z", "author": {"login": "nielsvanvelzen"}, "path": "app/src/main/java/org/jellyfin/androidtv/details/DetailsActivity.kt", "diffHunk": "@@ -0,0 +1,56 @@\n+package org.jellyfin.androidtv.details\n+\n+import android.os.Bundle\n+import android.util.Log\n+import androidx.fragment.app.FragmentActivity\n+import androidx.leanback.app.BackgroundManager\n+import com.squareup.picasso.Picasso\n+import kotlinx.coroutines.Dispatchers\n+import kotlinx.coroutines.GlobalScope\n+import kotlinx.coroutines.launch\n+import kotlinx.coroutines.withContext\n+import org.jellyfin.androidtv.R\n+import org.jellyfin.androidtv.TvApp\n+import org.jellyfin.androidtv.util.apiclient.asEpisode\n+import org.jellyfin.androidtv.util.apiclient.getItem\n+import org.jellyfin.apiclient.model.dto.BaseItemDto\n+import org.jellyfin.apiclient.model.dto.BaseItemType\n+import org.jellyfin.apiclient.model.dto.ImageOptions\n+\n+class DetailsActivity : FragmentActivity() {\n+\tprivate lateinit var fragment: BaseDetailsFragment\n+\n+\toverride fun onCreate(savedInstanceState: Bundle?) {\n+\t\tsuper.onCreate(savedInstanceState)\n+\n+\t\tval id = intent.getStringExtra(\"id\")\n+\t\tif (id == null) finish()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fa48c43a69171ba976054ddf31b993f60a6a7d1c"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI4MTY0Mg==", "bodyText": "Ah, I think I stole that from your next episode PR, might want to add that there as well then :)", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/270#discussion_r370281642", "createdAt": "2020-01-23T18:25:20Z", "author": {"login": "AndreasGB"}, "path": "app/src/main/java/org/jellyfin/androidtv/details/DetailsActivity.kt", "diffHunk": "@@ -0,0 +1,56 @@\n+package org.jellyfin.androidtv.details\n+\n+import android.os.Bundle\n+import android.util.Log\n+import androidx.fragment.app.FragmentActivity\n+import androidx.leanback.app.BackgroundManager\n+import com.squareup.picasso.Picasso\n+import kotlinx.coroutines.Dispatchers\n+import kotlinx.coroutines.GlobalScope\n+import kotlinx.coroutines.launch\n+import kotlinx.coroutines.withContext\n+import org.jellyfin.androidtv.R\n+import org.jellyfin.androidtv.TvApp\n+import org.jellyfin.androidtv.util.apiclient.asEpisode\n+import org.jellyfin.androidtv.util.apiclient.getItem\n+import org.jellyfin.apiclient.model.dto.BaseItemDto\n+import org.jellyfin.apiclient.model.dto.BaseItemType\n+import org.jellyfin.apiclient.model.dto.ImageOptions\n+\n+class DetailsActivity : FragmentActivity() {\n+\tprivate lateinit var fragment: BaseDetailsFragment\n+\n+\toverride fun onCreate(savedInstanceState: Bundle?) {\n+\t\tsuper.onCreate(savedInstanceState)\n+\n+\t\tval id = intent.getStringExtra(\"id\")\n+\t\tif (id == null) finish()", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI3NDc0Ng=="}, "originalCommit": {"oid": "fa48c43a69171ba976054ddf31b993f60a6a7d1c"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDMwMDQ2Mw==", "bodyText": "haha good catch, I will do that", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/270#discussion_r370300463", "createdAt": "2020-01-23T19:05:32Z", "author": {"login": "nielsvanvelzen"}, "path": "app/src/main/java/org/jellyfin/androidtv/details/DetailsActivity.kt", "diffHunk": "@@ -0,0 +1,56 @@\n+package org.jellyfin.androidtv.details\n+\n+import android.os.Bundle\n+import android.util.Log\n+import androidx.fragment.app.FragmentActivity\n+import androidx.leanback.app.BackgroundManager\n+import com.squareup.picasso.Picasso\n+import kotlinx.coroutines.Dispatchers\n+import kotlinx.coroutines.GlobalScope\n+import kotlinx.coroutines.launch\n+import kotlinx.coroutines.withContext\n+import org.jellyfin.androidtv.R\n+import org.jellyfin.androidtv.TvApp\n+import org.jellyfin.androidtv.util.apiclient.asEpisode\n+import org.jellyfin.androidtv.util.apiclient.getItem\n+import org.jellyfin.apiclient.model.dto.BaseItemDto\n+import org.jellyfin.apiclient.model.dto.BaseItemType\n+import org.jellyfin.apiclient.model.dto.ImageOptions\n+\n+class DetailsActivity : FragmentActivity() {\n+\tprivate lateinit var fragment: BaseDetailsFragment\n+\n+\toverride fun onCreate(savedInstanceState: Bundle?) {\n+\t\tsuper.onCreate(savedInstanceState)\n+\n+\t\tval id = intent.getStringExtra(\"id\")\n+\t\tif (id == null) finish()", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI3NDc0Ng=="}, "originalCommit": {"oid": "fa48c43a69171ba976054ddf31b993f60a6a7d1c"}, "originalPosition": 27}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI4ODY2OTAxOnYy", "diffSide": "RIGHT", "path": "app/src/main/java/org/jellyfin/androidtv/details/DetailsActivity.kt", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yM1QxODoxMTowOVrOFhHyfg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yM1QxOToxNTo1NFrOFhJpOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI3NDk0Mg==", "bodyText": "I don't think you need the backgroundmanager for the detailsactivity", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/270#discussion_r370274942", "createdAt": "2020-01-23T18:11:09Z", "author": {"login": "nielsvanvelzen"}, "path": "app/src/main/java/org/jellyfin/androidtv/details/DetailsActivity.kt", "diffHunk": "@@ -0,0 +1,56 @@\n+package org.jellyfin.androidtv.details\n+\n+import android.os.Bundle\n+import android.util.Log\n+import androidx.fragment.app.FragmentActivity\n+import androidx.leanback.app.BackgroundManager\n+import com.squareup.picasso.Picasso\n+import kotlinx.coroutines.Dispatchers\n+import kotlinx.coroutines.GlobalScope\n+import kotlinx.coroutines.launch\n+import kotlinx.coroutines.withContext\n+import org.jellyfin.androidtv.R\n+import org.jellyfin.androidtv.TvApp\n+import org.jellyfin.androidtv.util.apiclient.asEpisode\n+import org.jellyfin.androidtv.util.apiclient.getItem\n+import org.jellyfin.apiclient.model.dto.BaseItemDto\n+import org.jellyfin.apiclient.model.dto.BaseItemType\n+import org.jellyfin.apiclient.model.dto.ImageOptions\n+\n+class DetailsActivity : FragmentActivity() {\n+\tprivate lateinit var fragment: BaseDetailsFragment\n+\n+\toverride fun onCreate(savedInstanceState: Bundle?) {\n+\t\tsuper.onCreate(savedInstanceState)\n+\n+\t\tval id = intent.getStringExtra(\"id\")\n+\t\tif (id == null) finish()\n+\n+\t\tBackgroundManager.getInstance(this).attach(window)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fa48c43a69171ba976054ddf31b993f60a6a7d1c"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI4NDUxMw==", "bodyText": "Hmm, but if we want to have a backdrop image in some, wouldn't we need to the BackgroundManager as well?", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/270#discussion_r370284513", "createdAt": "2020-01-23T18:31:32Z", "author": {"login": "AndreasGB"}, "path": "app/src/main/java/org/jellyfin/androidtv/details/DetailsActivity.kt", "diffHunk": "@@ -0,0 +1,56 @@\n+package org.jellyfin.androidtv.details\n+\n+import android.os.Bundle\n+import android.util.Log\n+import androidx.fragment.app.FragmentActivity\n+import androidx.leanback.app.BackgroundManager\n+import com.squareup.picasso.Picasso\n+import kotlinx.coroutines.Dispatchers\n+import kotlinx.coroutines.GlobalScope\n+import kotlinx.coroutines.launch\n+import kotlinx.coroutines.withContext\n+import org.jellyfin.androidtv.R\n+import org.jellyfin.androidtv.TvApp\n+import org.jellyfin.androidtv.util.apiclient.asEpisode\n+import org.jellyfin.androidtv.util.apiclient.getItem\n+import org.jellyfin.apiclient.model.dto.BaseItemDto\n+import org.jellyfin.apiclient.model.dto.BaseItemType\n+import org.jellyfin.apiclient.model.dto.ImageOptions\n+\n+class DetailsActivity : FragmentActivity() {\n+\tprivate lateinit var fragment: BaseDetailsFragment\n+\n+\toverride fun onCreate(savedInstanceState: Bundle?) {\n+\t\tsuper.onCreate(savedInstanceState)\n+\n+\t\tval id = intent.getStringExtra(\"id\")\n+\t\tif (id == null) finish()\n+\n+\t\tBackgroundManager.getInstance(this).attach(window)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI3NDk0Mg=="}, "originalCommit": {"oid": "fa48c43a69171ba976054ddf31b993f60a6a7d1c"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDMwMDc0MA==", "bodyText": "The detailsactivity uses a parallel background thingy iirc", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/270#discussion_r370300740", "createdAt": "2020-01-23T19:06:06Z", "author": {"login": "nielsvanvelzen"}, "path": "app/src/main/java/org/jellyfin/androidtv/details/DetailsActivity.kt", "diffHunk": "@@ -0,0 +1,56 @@\n+package org.jellyfin.androidtv.details\n+\n+import android.os.Bundle\n+import android.util.Log\n+import androidx.fragment.app.FragmentActivity\n+import androidx.leanback.app.BackgroundManager\n+import com.squareup.picasso.Picasso\n+import kotlinx.coroutines.Dispatchers\n+import kotlinx.coroutines.GlobalScope\n+import kotlinx.coroutines.launch\n+import kotlinx.coroutines.withContext\n+import org.jellyfin.androidtv.R\n+import org.jellyfin.androidtv.TvApp\n+import org.jellyfin.androidtv.util.apiclient.asEpisode\n+import org.jellyfin.androidtv.util.apiclient.getItem\n+import org.jellyfin.apiclient.model.dto.BaseItemDto\n+import org.jellyfin.apiclient.model.dto.BaseItemType\n+import org.jellyfin.apiclient.model.dto.ImageOptions\n+\n+class DetailsActivity : FragmentActivity() {\n+\tprivate lateinit var fragment: BaseDetailsFragment\n+\n+\toverride fun onCreate(savedInstanceState: Bundle?) {\n+\t\tsuper.onCreate(savedInstanceState)\n+\n+\t\tval id = intent.getStringExtra(\"id\")\n+\t\tif (id == null) finish()\n+\n+\t\tBackgroundManager.getInstance(this).attach(window)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI3NDk0Mg=="}, "originalCommit": {"oid": "fa48c43a69171ba976054ddf31b993f60a6a7d1c"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDMwNTMzNw==", "bodyText": "Hmm, then I'll leave it out", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/270#discussion_r370305337", "createdAt": "2020-01-23T19:15:54Z", "author": {"login": "AndreasGB"}, "path": "app/src/main/java/org/jellyfin/androidtv/details/DetailsActivity.kt", "diffHunk": "@@ -0,0 +1,56 @@\n+package org.jellyfin.androidtv.details\n+\n+import android.os.Bundle\n+import android.util.Log\n+import androidx.fragment.app.FragmentActivity\n+import androidx.leanback.app.BackgroundManager\n+import com.squareup.picasso.Picasso\n+import kotlinx.coroutines.Dispatchers\n+import kotlinx.coroutines.GlobalScope\n+import kotlinx.coroutines.launch\n+import kotlinx.coroutines.withContext\n+import org.jellyfin.androidtv.R\n+import org.jellyfin.androidtv.TvApp\n+import org.jellyfin.androidtv.util.apiclient.asEpisode\n+import org.jellyfin.androidtv.util.apiclient.getItem\n+import org.jellyfin.apiclient.model.dto.BaseItemDto\n+import org.jellyfin.apiclient.model.dto.BaseItemType\n+import org.jellyfin.apiclient.model.dto.ImageOptions\n+\n+class DetailsActivity : FragmentActivity() {\n+\tprivate lateinit var fragment: BaseDetailsFragment\n+\n+\toverride fun onCreate(savedInstanceState: Bundle?) {\n+\t\tsuper.onCreate(savedInstanceState)\n+\n+\t\tval id = intent.getStringExtra(\"id\")\n+\t\tif (id == null) finish()\n+\n+\t\tBackgroundManager.getInstance(this).attach(window)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI3NDk0Mg=="}, "originalCommit": {"oid": "fa48c43a69171ba976054ddf31b993f60a6a7d1c"}, "originalPosition": 29}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI4ODY3MTA4OnYy", "diffSide": "RIGHT", "path": "app/src/main/java/org/jellyfin/androidtv/details/DetailsActivity.kt", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yM1QxODoxMTo1M1rOFhHz3A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yM1QxODoyODoyOFrOFhISOg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI3NTI5Mg==", "bodyText": "You can remove the return@withContext part. Kotlin automatically uses the returned value of the last expression.", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/270#discussion_r370275292", "createdAt": "2020-01-23T18:11:53Z", "author": {"login": "nielsvanvelzen"}, "path": "app/src/main/java/org/jellyfin/androidtv/details/DetailsActivity.kt", "diffHunk": "@@ -0,0 +1,56 @@\n+package org.jellyfin.androidtv.details\n+\n+import android.os.Bundle\n+import android.util.Log\n+import androidx.fragment.app.FragmentActivity\n+import androidx.leanback.app.BackgroundManager\n+import com.squareup.picasso.Picasso\n+import kotlinx.coroutines.Dispatchers\n+import kotlinx.coroutines.GlobalScope\n+import kotlinx.coroutines.launch\n+import kotlinx.coroutines.withContext\n+import org.jellyfin.androidtv.R\n+import org.jellyfin.androidtv.TvApp\n+import org.jellyfin.androidtv.util.apiclient.asEpisode\n+import org.jellyfin.androidtv.util.apiclient.getItem\n+import org.jellyfin.apiclient.model.dto.BaseItemDto\n+import org.jellyfin.apiclient.model.dto.BaseItemType\n+import org.jellyfin.apiclient.model.dto.ImageOptions\n+\n+class DetailsActivity : FragmentActivity() {\n+\tprivate lateinit var fragment: BaseDetailsFragment\n+\n+\toverride fun onCreate(savedInstanceState: Bundle?) {\n+\t\tsuper.onCreate(savedInstanceState)\n+\n+\t\tval id = intent.getStringExtra(\"id\")\n+\t\tif (id == null) finish()\n+\n+\t\tBackgroundManager.getInstance(this).attach(window)\n+\n+\t\tGlobalScope.launch(Dispatchers.Main) {\n+\t\t\tval baseItem = getBaseItemDtoForID(id) ?: return@launch\n+\n+\t\t\twhen (baseItem.baseItemType!!) {\n+\t\t\t\tBaseItemType.Episode -> {\n+\t\t\t\t\tval primaryImageUrl = TvApp.getApplication().apiClient.GetImageUrl(baseItem, ImageOptions())\n+\t\t\t\t\tval primaryImageBitmap = getImageFromURL(primaryImageUrl)\n+\t\t\t\t\tval episode = baseItem.asEpisode(primaryImageBitmap)\n+\n+\t\t\t\t\tfragment = EpisodeDetailsFragment(episode)\n+\t\t\t\t}\n+\t\t\t\telse -> TODO()\n+\t\t\t}\n+\n+\t\t\tsupportFragmentManager.beginTransaction().add(android.R.id.content, fragment).commit()\n+\t\t}\n+\t}\n+\n+\tprivate suspend fun getBaseItemDtoForID(id: String) = withContext(Dispatchers.IO) {\n+\t\treturn@withContext TvApp.getApplication().apiClient.getItem(id)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fa48c43a69171ba976054ddf31b993f60a6a7d1c"}, "originalPosition": 50}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI4MzA2Ng==", "bodyText": "Thanks, will be included in the next commit", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/270#discussion_r370283066", "createdAt": "2020-01-23T18:28:28Z", "author": {"login": "AndreasGB"}, "path": "app/src/main/java/org/jellyfin/androidtv/details/DetailsActivity.kt", "diffHunk": "@@ -0,0 +1,56 @@\n+package org.jellyfin.androidtv.details\n+\n+import android.os.Bundle\n+import android.util.Log\n+import androidx.fragment.app.FragmentActivity\n+import androidx.leanback.app.BackgroundManager\n+import com.squareup.picasso.Picasso\n+import kotlinx.coroutines.Dispatchers\n+import kotlinx.coroutines.GlobalScope\n+import kotlinx.coroutines.launch\n+import kotlinx.coroutines.withContext\n+import org.jellyfin.androidtv.R\n+import org.jellyfin.androidtv.TvApp\n+import org.jellyfin.androidtv.util.apiclient.asEpisode\n+import org.jellyfin.androidtv.util.apiclient.getItem\n+import org.jellyfin.apiclient.model.dto.BaseItemDto\n+import org.jellyfin.apiclient.model.dto.BaseItemType\n+import org.jellyfin.apiclient.model.dto.ImageOptions\n+\n+class DetailsActivity : FragmentActivity() {\n+\tprivate lateinit var fragment: BaseDetailsFragment\n+\n+\toverride fun onCreate(savedInstanceState: Bundle?) {\n+\t\tsuper.onCreate(savedInstanceState)\n+\n+\t\tval id = intent.getStringExtra(\"id\")\n+\t\tif (id == null) finish()\n+\n+\t\tBackgroundManager.getInstance(this).attach(window)\n+\n+\t\tGlobalScope.launch(Dispatchers.Main) {\n+\t\t\tval baseItem = getBaseItemDtoForID(id) ?: return@launch\n+\n+\t\t\twhen (baseItem.baseItemType!!) {\n+\t\t\t\tBaseItemType.Episode -> {\n+\t\t\t\t\tval primaryImageUrl = TvApp.getApplication().apiClient.GetImageUrl(baseItem, ImageOptions())\n+\t\t\t\t\tval primaryImageBitmap = getImageFromURL(primaryImageUrl)\n+\t\t\t\t\tval episode = baseItem.asEpisode(primaryImageBitmap)\n+\n+\t\t\t\t\tfragment = EpisodeDetailsFragment(episode)\n+\t\t\t\t}\n+\t\t\t\telse -> TODO()\n+\t\t\t}\n+\n+\t\t\tsupportFragmentManager.beginTransaction().add(android.R.id.content, fragment).commit()\n+\t\t}\n+\t}\n+\n+\tprivate suspend fun getBaseItemDtoForID(id: String) = withContext(Dispatchers.IO) {\n+\t\treturn@withContext TvApp.getApplication().apiClient.getItem(id)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI3NTI5Mg=="}, "originalCommit": {"oid": "fa48c43a69171ba976054ddf31b993f60a6a7d1c"}, "originalPosition": 50}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI4ODY3NDE4OnYy", "diffSide": "RIGHT", "path": "app/src/main/java/org/jellyfin/androidtv/details/DetailsActivity.kt", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yM1QxODoxMjo1OFrOFhH1zA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yM1QxODoxMjo1OFrOFhH1zA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI3NTc4OA==", "bodyText": "You can actually do something like:\nfragment = when(){....}\nAs long as each case returns something it should work", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/270#discussion_r370275788", "createdAt": "2020-01-23T18:12:58Z", "author": {"login": "nielsvanvelzen"}, "path": "app/src/main/java/org/jellyfin/androidtv/details/DetailsActivity.kt", "diffHunk": "@@ -0,0 +1,56 @@\n+package org.jellyfin.androidtv.details\n+\n+import android.os.Bundle\n+import android.util.Log\n+import androidx.fragment.app.FragmentActivity\n+import androidx.leanback.app.BackgroundManager\n+import com.squareup.picasso.Picasso\n+import kotlinx.coroutines.Dispatchers\n+import kotlinx.coroutines.GlobalScope\n+import kotlinx.coroutines.launch\n+import kotlinx.coroutines.withContext\n+import org.jellyfin.androidtv.R\n+import org.jellyfin.androidtv.TvApp\n+import org.jellyfin.androidtv.util.apiclient.asEpisode\n+import org.jellyfin.androidtv.util.apiclient.getItem\n+import org.jellyfin.apiclient.model.dto.BaseItemDto\n+import org.jellyfin.apiclient.model.dto.BaseItemType\n+import org.jellyfin.apiclient.model.dto.ImageOptions\n+\n+class DetailsActivity : FragmentActivity() {\n+\tprivate lateinit var fragment: BaseDetailsFragment\n+\n+\toverride fun onCreate(savedInstanceState: Bundle?) {\n+\t\tsuper.onCreate(savedInstanceState)\n+\n+\t\tval id = intent.getStringExtra(\"id\")\n+\t\tif (id == null) finish()\n+\n+\t\tBackgroundManager.getInstance(this).attach(window)\n+\n+\t\tGlobalScope.launch(Dispatchers.Main) {\n+\t\t\tval baseItem = getBaseItemDtoForID(id) ?: return@launch\n+\n+\t\t\twhen (baseItem.baseItemType!!) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fa48c43a69171ba976054ddf31b993f60a6a7d1c"}, "originalPosition": 34}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI4ODY4NDM5OnYy", "diffSide": "RIGHT", "path": "app/src/main/java/org/jellyfin/androidtv/details/EpisodeDetailsFragment.kt", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yM1QxODoxNjozN1rOFhH8cw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yM1QxODoxNjozN1rOFhH8cw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI3NzQ5MQ==", "bodyText": "I'd put the if statement inline so you don't need to repeat the same code twice:\nFullWidthDetailsOverviewRowPresenter(detailsDescriptionPresenter, data.primaryImage?.let { DetailsOverviewLogoPresenter() })", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/270#discussion_r370277491", "createdAt": "2020-01-23T18:16:37Z", "author": {"login": "nielsvanvelzen"}, "path": "app/src/main/java/org/jellyfin/androidtv/details/EpisodeDetailsFragment.kt", "diffHunk": "@@ -0,0 +1,59 @@\n+package org.jellyfin.androidtv.details\n+\n+import android.graphics.drawable.BitmapDrawable\n+import android.os.Bundle\n+import android.util.Log\n+import androidx.leanback.widget.*\n+import org.jellyfin.androidtv.model.itemtypes.Episode\n+\n+class EpisodeDetailsFragment(private val data: Episode) : BaseDetailsFragment() {\n+\n+\toverride fun onCreate(savedInstanceState: Bundle?) {\n+\t\tsuper.onCreate(savedInstanceState)\n+\n+\t\tbuildDetails()\n+\t}\n+\n+\tprivate fun buildDetails() {\n+\n+\t\tLog.i(\"EpisodeDetailsFragment\", data.name)\n+\n+\t\tval selector = ClassPresenterSelector().apply {\n+\t\t\t// Attach your media item details presenter to the row presenter:\n+\n+\t\t\tval detailsDescriptionPresenter = DetailsDescriptionPresenter(title = data.name, subtitle = \"TODO\", body = data.overview)\n+\n+\t\t\tif (data.primaryImage != null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fa48c43a69171ba976054ddf31b993f60a6a7d1c"}, "originalPosition": 26}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI4ODY4NzcwOnYy", "diffSide": "RIGHT", "path": "app/src/main/java/org/jellyfin/androidtv/details/EpisodeDetailsFragment.kt", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yM1QxODoxNzo0MVrOFhH-hg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yM1QxODoxNzo0MVrOFhH-hg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDI3ODAyMg==", "bodyText": "addClassPresenter(DetailsOverviewRow::class.java, FullWidthDetailsOverviewRowPresenter(detailsDescriptionPresenter))\nLooks better to me", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/270#discussion_r370278022", "createdAt": "2020-01-23T18:17:41Z", "author": {"login": "nielsvanvelzen"}, "path": "app/src/main/java/org/jellyfin/androidtv/details/EpisodeDetailsFragment.kt", "diffHunk": "@@ -0,0 +1,59 @@\n+package org.jellyfin.androidtv.details\n+\n+import android.graphics.drawable.BitmapDrawable\n+import android.os.Bundle\n+import android.util.Log\n+import androidx.leanback.widget.*\n+import org.jellyfin.androidtv.model.itemtypes.Episode\n+\n+class EpisodeDetailsFragment(private val data: Episode) : BaseDetailsFragment() {\n+\n+\toverride fun onCreate(savedInstanceState: Bundle?) {\n+\t\tsuper.onCreate(savedInstanceState)\n+\n+\t\tbuildDetails()\n+\t}\n+\n+\tprivate fun buildDetails() {\n+\n+\t\tLog.i(\"EpisodeDetailsFragment\", data.name)\n+\n+\t\tval selector = ClassPresenterSelector().apply {\n+\t\t\t// Attach your media item details presenter to the row presenter:\n+\n+\t\t\tval detailsDescriptionPresenter = DetailsDescriptionPresenter(title = data.name, subtitle = \"TODO\", body = data.overview)\n+\n+\t\t\tif (data.primaryImage != null) {\n+\t\t\t\tFullWidthDetailsOverviewRowPresenter(detailsDescriptionPresenter, DetailsOverviewLogoPresenter()).also {\n+\t\t\t\t\taddClassPresenter(DetailsOverviewRow::class.java, it)\n+\t\t\t\t}\n+\t\t\t} else {\n+\t\t\t\tFullWidthDetailsOverviewRowPresenter(detailsDescriptionPresenter).also {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fa48c43a69171ba976054ddf31b993f60a6a7d1c"}, "originalPosition": 31}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1118, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}