{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA4OTA3Mzcy", "number": 457, "title": "Remove some currentActivity usages", "bodyText": "Changes\n\nRemove more usages of the currentActivity property in Tvapp\nReplaced the \"showMessage\" calls with toasts (I don't think I ever saw one of these messages lol)\nSome miscellaneous cleaning (formatting/removing unused functions) in the smaller files I touched\n\n\nIssues\n\nNotes\n\nUnfortunately the usages now left are a lot harder to fix (needing activity instance in views for example)\nI did not touch the usages inside the playback code\nMost changes have their own commits", "createdAt": "2020-04-25T13:21:39Z", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/457", "merged": true, "mergeCommit": {"oid": "c6cff6d69b37e1eea7941b1aac3aad2f4ca61c87"}, "closed": true, "closedAt": "2020-04-28T15:50:31Z", "author": {"login": "nielsvanvelzen"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcbFpzCgH2gAyNDA4OTA3MzcyOjk0M2UzNTI2M2FkZGMyMGNhNzUxNzg1NDBjZWU1NDdmNzkxNzZlNDM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABccF7DFgFqTQwMTk3NTAxMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "943e35263addc20ca75178540cee547f79176e43", "author": {"user": {"login": "nielsvanvelzen", "name": "Niels van Velzen"}}, "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/943e35263addc20ca75178540cee547f79176e43", "committedDate": "2020-04-25T12:57:13Z", "message": "Remove the \"showMessage\" functions from TvApp/BaseActivity\n\nCurrent usages are replaced with toasts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2161af15fb25344540f6fc910e1992b7ef9a4768", "author": {"user": {"login": "nielsvanvelzen", "name": "Niels van Velzen"}}, "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/2161af15fb25344540f6fc910e1992b7ef9a4768", "committedDate": "2020-04-25T13:00:09Z", "message": "Remove interface already implemented by base class from BaseActivity"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "348d44c70ec0a06514bc96e3a3bd3be1e76e2f04", "author": {"user": {"login": "nielsvanvelzen", "name": "Niels van Velzen"}}, "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/348d44c70ec0a06514bc96e3a3bd3be1e76e2f04", "committedDate": "2020-04-25T13:04:19Z", "message": "Don't depend on currentActivity in CardPresenter"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "082b5b3bec5c36e722d9bd2d7892759145cf8517", "author": {"user": {"login": "nielsvanvelzen", "name": "Niels van Velzen"}}, "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/082b5b3bec5c36e722d9bd2d7892759145cf8517", "committedDate": "2020-04-25T13:05:18Z", "message": "Don't depend on currentActivity in ChannelCardPresenter"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ca727fa05a485aa3e97c99620d8aa33c3708cad4", "author": {"user": {"login": "nielsvanvelzen", "name": "Niels van Velzen"}}, "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/ca727fa05a485aa3e97c99620d8aa33c3708cad4", "committedDate": "2020-04-25T13:06:36Z", "message": "Don't depend on currentActivity in Utils.getThemeColor"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0a3912392b1573900ae90d89ef54ea0a498ff60f", "author": {"user": {"login": "nielsvanvelzen", "name": "Niels van Velzen"}}, "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/0a3912392b1573900ae90d89ef54ea0a498ff60f", "committedDate": "2020-04-25T13:08:06Z", "message": "Don't depend on currentActivity in GridButtonPresenter"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "669f1f7d2f1af742105c76b9528311aa70034d15", "author": {"user": {"login": "nielsvanvelzen", "name": "Niels van Velzen"}}, "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/669f1f7d2f1af742105c76b9528311aa70034d15", "committedDate": "2020-04-25T13:09:12Z", "message": "Don't depend on currentActivity in InfoCardPresenter"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7e25d470d75e627c3cb809e1ca0b5a0420f3dd0e", "author": {"user": {"login": "nielsvanvelzen", "name": "Niels van Velzen"}}, "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/7e25d470d75e627c3cb809e1ca0b5a0420f3dd0e", "committedDate": "2020-04-25T13:17:18Z", "message": "Reduce usage of currentActivity in MyDetailsOverviewRowPresenter"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAwMzkzMjk0", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/457#pullrequestreview-400393294", "createdAt": "2020-04-25T13:22:27Z", "commit": {"oid": "7e25d470d75e627c3cb809e1ca0b5a0420f3dd0e"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNVQxMzoyMjoyN1rOGL1ZAw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNVQxMzoyMjoyN1rOGL1ZBA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTA2MjI3NQ==", "bodyText": "Identical blocks of code found in 2 locations. Consider refactoring.", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/457#discussion_r415062275", "createdAt": "2020-04-25T13:22:27Z", "author": {"login": "codeclimate"}, "path": "app/src/main/java/org/jellyfin/androidtv/playback/MediaManager.java", "diffHunk": "@@ -440,7 +433,8 @@ public static void addToAudioQueue(List<BaseItemDto> items) {\n             }\n             fireQueueStatusChange();\n         }\n-        TvApp.getApplication().showMessage(items.size() + (items.size() > 1 ? TvApp.getApplication().getString(R.string.msg_items_added) : TvApp.getApplication().getString(R.string.msg_item_added)), mCurrentAudioQueue.size() + TvApp.getApplication().getString(R.string.msg_total_items_in_queue), 5000, R.drawable.ic_album);\n+\n+        Toast.makeText(TvApp.getApplication(), items.size() + (items.size() > 1 ? TvApp.getApplication().getString(R.string.msg_items_added) : TvApp.getApplication().getString(R.string.msg_item_added)), Toast.LENGTH_LONG).show();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7e25d470d75e627c3cb809e1ca0b5a0420f3dd0e"}, "originalPosition": 45}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTA2MjI3Ng==", "bodyText": "Identical blocks of code found in 2 locations. Consider refactoring.", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/457#discussion_r415062276", "createdAt": "2020-04-25T13:22:27Z", "author": {"login": "codeclimate"}, "path": "app/src/main/java/org/jellyfin/androidtv/playback/MediaManager.java", "diffHunk": "@@ -509,7 +503,7 @@ private static void playNowInternal(List<BaseItemDto> items) {\n             Intent nowPlaying = new Intent(TvApp.getApplication(), AudioNowPlayingActivity.class);\n             TvApp.getApplication().getCurrentActivity().startActivity(nowPlaying);\n         } else {\n-            TvApp.getApplication().showMessage(items.size() + (items.size() > 1 ? TvApp.getApplication().getString(R.string.msg_items_added) : TvApp.getApplication().getString(R.string.msg_item_added)), mCurrentAudioQueue.size() + TvApp.getApplication().getString(R.string.msg_total_items_in_queue), 5000, R.drawable.ic_album);\n+            Toast.makeText(TvApp.getApplication(),items.size() + (items.size() > 1 ? TvApp.getApplication().getString(R.string.msg_items_added) : TvApp.getApplication().getString(R.string.msg_item_added)), Toast.LENGTH_LONG).show();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7e25d470d75e627c3cb809e1ca0b5a0420f3dd0e"}, "originalPosition": 54}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aa0955a66f1a580d243aafca7e485d9ff45e79bb", "author": {"user": {"login": "nielsvanvelzen", "name": "Niels van Velzen"}}, "url": "https://github.com/jellyfin/jellyfin-androidtv/commit/aa0955a66f1a580d243aafca7e485d9ff45e79bb", "committedDate": "2020-04-25T14:15:56Z", "message": "Add comment as to why the onUnbindViewHolder function is unused"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAxOTMzNzI4", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/457#pullrequestreview-401933728", "createdAt": "2020-04-28T15:08:26Z", "commit": {"oid": "aa0955a66f1a580d243aafca7e485d9ff45e79bb"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOFQxNTowODoyNlrOGNY2JA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOFQxNTowODoyNlrOGNY2JA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjY5MTc0OA==", "bodyText": "Why keep this override if it is unused?", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/457#discussion_r416691748", "createdAt": "2020-04-28T15:08:26Z", "author": {"login": "thornbill"}, "path": "app/src/main/java/org/jellyfin/androidtv/presentation/ChannelCardPresenter.java", "diffHunk": "@@ -60,12 +42,6 @@ public void onBindViewHolder(Presenter.ViewHolder viewHolder, Object item) {\n \n     @Override\n     public void onUnbindViewHolder(Presenter.ViewHolder viewHolder) {\n-        //Log.d(TAG, \"onUnbindViewHolder\");\n+        // Unused", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "aa0955a66f1a580d243aafca7e485d9ff45e79bb"}, "originalPosition": 56}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAxOTc1MDEx", "url": "https://github.com/jellyfin/jellyfin-androidtv/pull/457#pullrequestreview-401975011", "createdAt": "2020-04-28T15:49:59Z", "commit": {"oid": "aa0955a66f1a580d243aafca7e485d9ff45e79bb"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4319, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}