{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTIxNTgzNzY3", "number": 3866, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQxMTowMDozNlrOE5Z84w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQxMTowMDozNlrOE5Z84w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI4NjI5NDc1OnYy", "diffSide": "RIGHT", "path": "languagetool-core/src/main/java/org/languagetool/rules/patterns/PatternToken.java", "isResolved": false, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQxMTowMDozNlrOHz1_aA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQxMjoyNzowMVrOHz7rig==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDEyNDAwOA==", "bodyText": "This may be rare, but it should be possible to have a min occurrence of e.g. 2.", "url": "https://github.com/languagetool-org/languagetool/pull/3866#discussion_r524124008", "createdAt": "2020-11-16T11:00:36Z", "author": {"login": "danielnaber"}, "path": "languagetool-core/src/main/java/org/languagetool/rules/patterns/PatternToken.java", "diffHunk": "@@ -434,7 +434,7 @@ public int getSkipNext() {\n    * The minimum number of times the element needs to occur.\n    */\n   public int getMinOccurrence() {\n-    return minOccurrence;\n+    return mayBeOmitted ? 0 : 1;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "46c726849c94a05ac8ab093f63b106f54f338dde"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDE1ODk4Nw==", "bodyText": "setMinOccurrence forbids it now", "url": "https://github.com/languagetool-org/languagetool/pull/3866#discussion_r524158987", "createdAt": "2020-11-16T11:32:23Z", "author": {"login": "donnerpeter"}, "path": "languagetool-core/src/main/java/org/languagetool/rules/patterns/PatternToken.java", "diffHunk": "@@ -434,7 +434,7 @@ public int getSkipNext() {\n    * The minimum number of times the element needs to occur.\n    */\n   public int getMinOccurrence() {\n-    return minOccurrence;\n+    return mayBeOmitted ? 0 : 1;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDEyNDAwOA=="}, "originalCommit": {"oid": "46c726849c94a05ac8ab093f63b106f54f338dde"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDE4NTM1OQ==", "bodyText": "Yes, but should we do so? There's min=\"x\" in the XML and I think this should allow values > 1, even if this is rare.", "url": "https://github.com/languagetool-org/languagetool/pull/3866#discussion_r524185359", "createdAt": "2020-11-16T11:56:47Z", "author": {"login": "danielnaber"}, "path": "languagetool-core/src/main/java/org/languagetool/rules/patterns/PatternToken.java", "diffHunk": "@@ -434,7 +434,7 @@ public int getSkipNext() {\n    * The minimum number of times the element needs to occur.\n    */\n   public int getMinOccurrence() {\n-    return minOccurrence;\n+    return mayBeOmitted ? 0 : 1;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDEyNDAwOA=="}, "originalCommit": {"oid": "46c726849c94a05ac8ab093f63b106f54f338dde"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDE5OTU4Mw==", "bodyText": "I don't know, I only took existing contracts and optimized based on them :)\nI think, in the unlikely case where min=\"2\" is really-really needed, it can be simulated by creating two similar <token> tags.", "url": "https://github.com/languagetool-org/languagetool/pull/3866#discussion_r524199583", "createdAt": "2020-11-16T12:10:31Z", "author": {"login": "donnerpeter"}, "path": "languagetool-core/src/main/java/org/languagetool/rules/patterns/PatternToken.java", "diffHunk": "@@ -434,7 +434,7 @@ public int getSkipNext() {\n    * The minimum number of times the element needs to occur.\n    */\n   public int getMinOccurrence() {\n-    return minOccurrence;\n+    return mayBeOmitted ? 0 : 1;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDEyNDAwOA=="}, "originalCommit": {"oid": "46c726849c94a05ac8ab093f63b106f54f338dde"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDIxNzIyNg==", "bodyText": "Ah sorry, I missed the fact that the restriction to 0 or 1 existed forever...", "url": "https://github.com/languagetool-org/languagetool/pull/3866#discussion_r524217226", "createdAt": "2020-11-16T12:27:01Z", "author": {"login": "danielnaber"}, "path": "languagetool-core/src/main/java/org/languagetool/rules/patterns/PatternToken.java", "diffHunk": "@@ -434,7 +434,7 @@ public int getSkipNext() {\n    * The minimum number of times the element needs to occur.\n    */\n   public int getMinOccurrence() {\n-    return minOccurrence;\n+    return mayBeOmitted ? 0 : 1;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDEyNDAwOA=="}, "originalCommit": {"oid": "46c726849c94a05ac8ab093f63b106f54f338dde"}, "originalPosition": 18}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3655, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}