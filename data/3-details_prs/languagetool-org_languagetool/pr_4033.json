{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQxMzg5NDAy", "number": 4033, "title": "PatternToken rules: match only from likely tokens if possible", "bodyText": "track token indices by lemma/token text in AnalyzedSentence\nif a pattern has a token with token/lemma hints and fixed offset from the start,\nuse these indices to narrow down the search space\n7-10% speedup in Main -l en for me", "createdAt": "2020-12-16T19:27:44Z", "url": "https://github.com/languagetool-org/languagetool/pull/4033", "merged": true, "mergeCommit": {"oid": "8790f87f6e9489466a76ff47ed03cab51b0c76c9"}, "closed": true, "closedAt": "2021-01-08T21:42:27Z", "author": {"login": "donnerpeter"}, "timelineItems": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdm0EwcgH2gAyNTQxMzg5NDAyOjI1MTE4ZWY4NDU5NDllMWMzMzA5MDYyZjg4ZTBkYWZiNGQxZjE2NzM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdvA33pAFqTU2NTA5ODMwNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "25118ef845949e1c3309062f88e0dafb4d1f1673", "author": {"user": {"login": "donnerpeter", "name": "Peter Gromov"}}, "url": "https://github.com/languagetool-org/languagetool/commit/25118ef845949e1c3309062f88e0dafb4d1f1673", "committedDate": "2020-12-16T19:26:37Z", "message": "PatternToken rules: match only from likely tokens if possible\n\ntrack token indices by lemma/token text in AnalyzedSentence\n\nif a pattern has a token with token/lemma hints and fixed offset from the start,\nuse these indices to narrow down the search space"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTY1MDk4MzA0", "url": "https://github.com/languagetool-org/languagetool/pull/4033#pullrequestreview-565098304", "createdAt": "2021-01-11T06:52:42Z", "commit": {"oid": "25118ef845949e1c3309062f88e0dafb4d1f1673"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0xMVQwNjo1Mjo0MlrOIRGwqg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0xMVQwNjo1Mjo0MlrOIRGwqg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NDgwNzQ2Ng==", "bodyText": "This (and below) probably should be changed to 5.3", "url": "https://github.com/languagetool-org/languagetool/pull/4033#discussion_r554807466", "createdAt": "2021-01-11T06:52:42Z", "author": {"login": "donnerpeter"}, "path": "languagetool-core/src/main/java/org/languagetool/AnalyzedSentence.java", "diffHunk": "@@ -309,7 +322,29 @@ public String getAnnotations() {\n    * @since 2.5\n    */\n   public Set<String> getLemmaSet() {\n-    return lemmaSet;\n+    return lemmaOffsets.keySet();\n+  }\n+\n+  /**\n+   * @return all offsets in {@link #getTokensWithoutWhitespace()} where tokens with the given text occur (case-insensitive),\n+   * or {@code null} if there are no such occurrences\n+   * @since 5.2", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "25118ef845949e1c3309062f88e0dafb4d1f1673"}, "originalPosition": 110}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2443, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}