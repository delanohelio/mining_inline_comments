{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQ1OTY0MTEz", "number": 4071, "title": "[en] add rule MAKE_PRP_VBZ", "bodyText": "There are 5 commented-out example sentences that I'm not sure how to best deal with in the antipatterns. (It seems that the last antipattern should be excluding the first of those sentences, but it doesn't do so for some reason.)\nI'm not sure how to make an optional token (<token min=\"0\">) greedily match: for example, I want the VBZ does in I can see it does alter/it does alters to be skipped (matched by <token min=\"0\">does</token>) so that the VBZ pattern in the marker can apply to alter/alters, but I still want to match does in other sentences (he made me does it).\nThe two comments in the <marker> are looser alternatives to the adjacent lines.", "createdAt": "2020-12-28T07:09:19Z", "url": "https://github.com/languagetool-org/languagetool/pull/4071", "merged": true, "mergeCommit": {"oid": "c9177e906df6d73f3fccab307734cfb665e598b9"}, "closed": true, "closedAt": "2021-01-04T15:35:27Z", "author": {"login": "hftf"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdqjRbVAFqTU1OTA3Nzk1OA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdsw_KOABqjQxNjM2MzE0NjQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU5MDc3OTU4", "url": "https://github.com/languagetool-org/languagetool/pull/4071#pullrequestreview-559077958", "createdAt": "2020-12-28T10:07:45Z", "commit": {"oid": "feb1d9a09c04ba8e899dee03a010a99ac784b87f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOFQxMDowNzo0NlrOIL2AYA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOFQxMDowNzo0NlrOIL2AYA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTI5MDA4MA==", "bodyText": "In my experience, antipatterns don't handle multiple min=\"0\" very well. They tend to only work when all optional tokens are present or absent. Maybe try skip=\"1\" and an exception scope=\"next\" negate_pos=\"yes\" postag=\"PRP\" for example.", "url": "https://github.com/languagetool-org/languagetool/pull/4071#discussion_r549290080", "createdAt": "2020-12-28T10:07:46Z", "author": {"login": "udomai"}, "path": "languagetool-language-modules/en/src/main/resources/org/languagetool/rules/en/grammar.xml", "diffHunk": "@@ -15787,6 +15787,127 @@ USA\n     <!-- Grammar -->\n     <!-- ====================================================================== -->\n     <category id=\"GRAMMAR\" name=\"Grammar\" type=\"grammar\">\n+        <rule id=\"MAKE_PRP_VBZ\" name=\"makes me goes -> makes me go\" default=\"temp_off\">\n+            <antipattern>\n+                <token postag_regexp=\"yes\" postag=\"SENT_START|PCT|CC|WP|PRP\" />\n+                <token min=\"0\">as</token>\n+                <token postag=\"PRP\" />\n+                <token min=\"0\" max=\"2\" postag_regexp=\"yes\" postag=\"MD|RB\" />\n+                <token min=\"0\" inflected=\"yes\">do</token>\n+                <token>see</token>\n+                <token min=\"0\" postag=\"PCT\" />\n+                <token>it</token><!-- subject or expletive -->", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "feb1d9a09c04ba8e899dee03a010a99ac784b87f"}, "originalPosition": 13}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU5MDc4OTM3", "url": "https://github.com/languagetool-org/languagetool/pull/4071#pullrequestreview-559078937", "createdAt": "2020-12-28T10:10:28Z", "commit": {"oid": "feb1d9a09c04ba8e899dee03a010a99ac784b87f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOFQxMDoxMDoyOFrOIL2Dtg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOFQxMDoxMDoyOFrOIL2Dtg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTI5MDkzNA==", "bodyText": "Not to be nit-picky, but doesn't this inverted syntax focus \"follow\"? Maybe a passive construction would be clearer...\n\"The verb ... and the object ... should be followed by the bare infinitive ... .\"", "url": "https://github.com/languagetool-org/languagetool/pull/4071#discussion_r549290934", "createdAt": "2020-12-28T10:10:28Z", "author": {"login": "udomai"}, "path": "languagetool-language-modules/en/src/main/resources/org/languagetool/rules/en/grammar.xml", "diffHunk": "@@ -15787,6 +15787,127 @@ USA\n     <!-- Grammar -->\n     <!-- ====================================================================== -->\n     <category id=\"GRAMMAR\" name=\"Grammar\" type=\"grammar\">\n+        <rule id=\"MAKE_PRP_VBZ\" name=\"makes me goes -> makes me go\" default=\"temp_off\">\n+            <antipattern>\n+                <token postag_regexp=\"yes\" postag=\"SENT_START|PCT|CC|WP|PRP\" />\n+                <token min=\"0\">as</token>\n+                <token postag=\"PRP\" />\n+                <token min=\"0\" max=\"2\" postag_regexp=\"yes\" postag=\"MD|RB\" />\n+                <token min=\"0\" inflected=\"yes\">do</token>\n+                <token>see</token>\n+                <token min=\"0\" postag=\"PCT\" />\n+                <token>it</token><!-- subject or expletive -->\n+            </antipattern>\n+            <antipattern>\n+                <token postag_regexp=\"yes\" postag=\"SENT_START|PCT|CC|WP\" />\n+                <token postag=\"VBG\" />\n+            </antipattern>\n+            <antipattern>\n+                <token postag_regexp=\"yes\" postag=\"SENT_START|PCT|CC|WP\" />\n+                <token inflected=\"yes\">have</token>\n+            </antipattern>\n+            <antipattern>\n+                <token postag=\"VB.*\" postag_regexp=\"yes\" inflected=\"yes\" regexp=\"yes\">get|see</token>\n+                <token />\n+                <token postag=\"NNS\" />\n+            </antipattern>\n+            <antipattern>\n+                <token>her</token><!-- 'her' is ambiguously PRP$ -->\n+                <token postag=\"NNS\" />\n+            </antipattern>\n+            <antipattern>\n+                <token inflected=\"yes\">make</token>\n+                <token regexp=\"yes\">us|them</token>\n+                <token postag=\"NNS\" />\n+            </antipattern>\n+            <antipattern>\n+                <token>for</token><!-- when I ask for help it starts working -->\n+                <token>help</token>\n+            </antipattern>\n+            <antipattern>\n+                <token regexp=\"yes\">thanks|guys</token>\n+            </antipattern>\n+            <antipattern>\n+                <token postag=\"PRP\" />\n+                <token>does</token>\n+                <token postag=\"VB\" />\n+            </antipattern>\n+            <antipattern>\n+                <token postag=\"WP\"><exception regexp=\"yes\">which|that</exception></token>\n+                <token min=\"0\" max=\"3\" postag_regexp=\"yes\" postag=\"RB|VB|TO\" />\n+                <token />\n+            </antipattern>\n+\n+            <pattern>\n+                <token postag=\"VB.*\" postag_regexp=\"yes\" inflected=\"yes\" regexp=\"yes\">make|let|get|help|see|have\n+                    <!--<exception scope=\"previous\" postag=\"DT\" />-->\n+                </token>\n+                <token postag=\"PRP\" regexp=\"yes\">me|you|him|her|it|them|us</token>\n+                <!--<token min=\"0\">does</token>--> <!-- not sure how to greedily match -->\n+                <marker>\n+                    <token postag=\"VBZ\" case_sensitive=\"yes\" regexp=\"yes\">[a-z]+\n+                    <!--<token postag=\"VBZ\" regexp=\"yes\">-->\n+                        <exception postag=\"VB\" />\n+                        <!--<exception inflected=\"yes\">be</exception>-->\n+                        <exception regexp=\"yes\">is|isn</exception>\n+                    </token>\n+                </marker>\n+            </pattern>\n+            <message>The bare infinitive <suggestion><match no=\"3\" postag=\"VB\" /></suggestion> should follow the verb '\\1' and the object '\\2'.</message>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "feb1d9a09c04ba8e899dee03a010a99ac784b87f"}, "originalPosition": 70}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7241be692e0e073c28deed7034de14d89682a496", "author": {"user": {"login": "hftf", "name": "Ophir Lifshitz"}}, "url": "https://github.com/languagetool-org/languagetool/commit/7241be692e0e073c28deed7034de14d89682a496", "committedDate": "2021-01-04T07:12:30Z", "message": "[en] add rule MAKE_PRP_VBZ"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "868662d99164be953ec76d871f2f4a6ed19832eb", "author": {"user": {"login": "hftf", "name": "Ophir Lifshitz"}}, "url": "https://github.com/languagetool-org/languagetool/commit/868662d99164be953ec76d871f2f4a6ed19832eb", "committedDate": "2021-01-04T07:12:31Z", "message": "[en] add 'nuts' antipattern to MAKE_PRP_VBZ"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3ede39a1aa74f7f78a8ff19347aa65ca97b38766", "author": {"user": {"login": "hftf", "name": "Ophir Lifshitz"}}, "url": "https://github.com/languagetool-org/languagetool/commit/3ede39a1aa74f7f78a8ff19347aa65ca97b38766", "committedDate": "2021-01-04T07:12:31Z", "message": "[en] add complex antipatterns to MAKE_PRP_VBZ"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8b28ae7224825de80d5d3beb8bfcfdacb5bc67c1", "author": {"user": {"login": "hftf", "name": "Ophir Lifshitz"}}, "url": "https://github.com/languagetool-org/languagetool/commit/8b28ae7224825de80d5d3beb8bfcfdacb5bc67c1", "committedDate": "2021-01-04T07:12:31Z", "message": "[en] remove obsolete comments from MAKE_PRP_VBZ"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "670fa01d0db8f2bc4e91ea216524ce6a8207f9b7", "author": {"user": {"login": "hftf", "name": "Ophir Lifshitz"}}, "url": "https://github.com/languagetool-org/languagetool/commit/670fa01d0db8f2bc4e91ea216524ce6a8207f9b7", "committedDate": "2021-01-04T07:12:31Z", "message": "[en] add workaround antipattern for MAKE_PRP_VBZ"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c14f56643e0c6e70aa2d0bd5ab90942ca9d04c0f", "author": {"user": {"login": "hftf", "name": "Ophir Lifshitz"}}, "url": "https://github.com/languagetool-org/languagetool/commit/c14f56643e0c6e70aa2d0bd5ab90942ca9d04c0f", "committedDate": "2021-01-04T07:12:31Z", "message": "[en] reword MAKE_PRP_VBZ message so it doesn't focus the unimportant verb 'follow'"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1fe60aa47b807ef7aa94da5aaf1f4996916192b8", "author": {"user": {"login": "hftf", "name": "Ophir Lifshitz"}}, "url": "https://github.com/languagetool-org/languagetool/commit/1fe60aa47b807ef7aa94da5aaf1f4996916192b8", "committedDate": "2021-01-04T07:12:31Z", "message": "[en] improve MAKE_PRP_VBZ"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9820111428751e311edfc6f1e491badac1b4ff78", "author": {"user": {"login": "hftf", "name": "Ophir Lifshitz"}}, "url": "https://github.com/languagetool-org/languagetool/commit/9820111428751e311edfc6f1e491badac1b4ff78", "committedDate": "2021-01-04T07:12:31Z", "message": "[en] improve MAKE_PRP_VBZ"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d30dfabdf8ea55bb7980b8c40e09624773d80da3", "author": {"user": {"login": "hftf", "name": "Ophir Lifshitz"}}, "url": "https://github.com/languagetool-org/languagetool/commit/d30dfabdf8ea55bb7980b8c40e09624773d80da3", "committedDate": "2021-01-04T07:12:31Z", "message": "[en] improve MAKE_PRP_VBZ"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "feb1d9a09c04ba8e899dee03a010a99ac784b87f", "author": {"user": {"login": "hftf", "name": "Ophir Lifshitz"}}, "url": "https://github.com/languagetool-org/languagetool/commit/feb1d9a09c04ba8e899dee03a010a99ac784b87f", "committedDate": "2020-12-28T06:07:11Z", "message": "[en] add rule MAKE_PRP_VBZ"}, "afterCommit": {"oid": "d30dfabdf8ea55bb7980b8c40e09624773d80da3", "author": {"user": {"login": "hftf", "name": "Ophir Lifshitz"}}, "url": "https://github.com/languagetool-org/languagetool/commit/d30dfabdf8ea55bb7980b8c40e09624773d80da3", "committedDate": "2021-01-04T07:12:31Z", "message": "[en] improve MAKE_PRP_VBZ"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2390, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}