{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI1NjMxMTMw", "number": 3906, "title": "JLanguageTool: cache active rules", "bodyText": "to avoid calling ignoreRule for each rule in each check invocation, often for each sentence\nand to avoid filtering out picky rules by tag on each check call", "createdAt": "2020-11-23T10:38:18Z", "url": "https://github.com/languagetool-org/languagetool/pull/3906", "merged": true, "mergeCommit": {"oid": "c0fd1f5372b7c96bd50fb980392014631c16f042"}, "closed": true, "closedAt": "2020-11-24T13:23:12Z", "author": {"login": "donnerpeter"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdfSt13gH2gAyNTI1NjMxMTMwOmE2N2QwNGVlMzE0MjJiYWExNzJhZDUxYjc3YmU3YWUzM2UzNzUxMjY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdfUK_yAH2gAyNTI1NjMxMTMwOmFhNzFhOWQwMDM1MzNjMmI3ZTBhMTI0OTE5OTA5MTU3NDc2NWMwNzA=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "a67d04ee31422baa172ad51b77be7ae33e375126", "author": {"user": {"login": "donnerpeter", "name": "Peter Gromov"}}, "url": "https://github.com/languagetool-org/languagetool/commit/a67d04ee31422baa172ad51b77be7ae33e375126", "committedDate": "2020-11-23T10:37:15Z", "message": "JLanguageTool: cache active rules\n\nto avoid calling `ignoreRule` for each rule in each `check` invocation, often for each sentence\nand to avoid filtering out picky rules by tag on each `check` call"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM2MzQ5NTQ4", "url": "https://github.com/languagetool-org/languagetool/pull/3906#pullrequestreview-536349548", "createdAt": "2020-11-23T10:39:11Z", "commit": {"oid": "a67d04ee31422baa172ad51b77be7ae33e375126"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QxMDozOToxMlrOH4HuRA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QxMDozOToxMlrOH4HuRA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODYwODgzNg==", "bodyText": "This method is unused in LT, so I can remove it instead of changing. Not sure if there are external callers though.", "url": "https://github.com/languagetool-org/languagetool/pull/3906#discussion_r528608836", "createdAt": "2020-11-23T10:39:12Z", "author": {"login": "donnerpeter"}, "path": "languagetool-core/src/main/java/org/languagetool/JLanguageTool.java", "diffHunk": "@@ -1145,7 +1157,8 @@ protected void printSentenceInfo(AnalyzedSentence analyzedSentence) {\n \n   protected List<RuleMatch> performCheck(List<AnalyzedSentence> analyzedSentences, List<String> sentences,\n                                          List<Rule> allRules, ParagraphHandling paraMode, AnnotatedText annotatedText, Mode mode, Level level) throws IOException {\n-    return performCheck(analyzedSentences, sentences, allRules, paraMode, annotatedText, null, mode, level, true);\n+    List<Rule> nonIgnored = allRules.stream().filter(r -> !ignoreRule(r)).collect(Collectors.toList());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a67d04ee31422baa172ad51b77be7ae33e375126"}, "originalPosition": 142}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM2MzQ5Nzgx", "url": "https://github.com/languagetool-org/languagetool/pull/3906#pullrequestreview-536349781", "createdAt": "2020-11-23T10:39:29Z", "commit": {"oid": "a67d04ee31422baa172ad51b77be7ae33e375126"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QxMDozOToyOVrOH4Hu_g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QxMDozOToyOVrOH4Hu_g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODYwOTAyMg==", "bodyText": "Another unused method, public", "url": "https://github.com/languagetool-org/languagetool/pull/3906#discussion_r528609022", "createdAt": "2020-11-23T10:39:29Z", "author": {"login": "donnerpeter"}, "path": "languagetool-core/src/main/java/org/languagetool/JLanguageTool.java", "diffHunk": "@@ -1201,7 +1214,8 @@ private int processColumnChange(int columnCount, String sentence) {\n    */\n   public List<RuleMatch> checkAnalyzedSentence(ParagraphHandling paraMode,\n                                                List<Rule> rules, AnalyzedSentence analyzedSentence) throws IOException {\n-    return checkAnalyzedSentence(paraMode, rules, analyzedSentence, false);\n+    List<Rule> nonIgnored = rules.stream().filter(r -> !ignoreRule(r)).collect(Collectors.toList());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a67d04ee31422baa172ad51b77be7ae33e375126"}, "originalPosition": 152}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aa71a9d003533c2b7e0a1249199091574765c070", "author": {"user": {"login": "donnerpeter", "name": "Peter Gromov"}}, "url": "https://github.com/languagetool-org/languagetool/commit/aa71a9d003533c2b7e0a1249199091574765c070", "committedDate": "2020-11-23T12:19:00Z", "message": "JLanguageTool: deprecate unused methods"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2410, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}