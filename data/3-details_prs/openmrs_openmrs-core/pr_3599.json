{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTAxODY2MDQz", "number": 3599, "title": "TRUNK-5115-new-2:Replace use of conditional logging with slf4j parame\u2026", "bodyText": "\u2026terized messages\nPull request title\nTRUNK-5115-new-2: Replace use of conditional logging with slf4j parameterized messages\nJira Issue Title\nTRUNK-5115: Replace use of conditional logging with slf4j parameterized messages\nDescription of what I changed\nReplace use of conditionals which are aimed at preventing to construct the debug messages with slf4j parameterized messages\nIssue I worked on\nhttps://issues.openmrs.org/browse/TRUNK-5115\nChecklist: I completed these to help reviewers :)\n\n\n\n\n[ x] My IDE is configured to follow the code style of this project.\nNo? Unsure? -> configure your IDE, format the code and add the changes with git add . && git commit --amend\n\n\n[x ] I have added tests to cover my changes. (If you refactored\nexisting code that was well tested you do not have to add tests)\nNo? -> write tests and add them to this commit git add . && git commit --amend\n\n\n[ x] I ran mvn clean package right before creating this pull request and\nadded all formatting changes to my commit.\nNo? -> execute above command\n\n\n[x ] All new and existing tests passed.\nNo? -> figure out why and add the fix to your commit. It is your responsibility to make sure your code works.\n\n\n[ x] My pull request is based on the latest changes of the master branch.\nNo? Unsure? -> execute command git pull --rebase upstream master", "createdAt": "2020-10-12T23:01:51Z", "url": "https://github.com/openmrs/openmrs-core/pull/3599", "merged": true, "mergeCommit": {"oid": "260dcf5033cf842acc11f38715d977928d360c8f"}, "closed": true, "closedAt": "2020-10-25T09:06:43Z", "author": {"login": "gracebish"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdR8ALngH2gAyNTAxODY2MDQzOjY3ZmU1MjkzZDMwOTRhMTQyNTE2YThiZTQ0ZGI2MjBlOGVjMmM3OTM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdVXxlKgFqTUxNTc0MTg4MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "67fe5293d3094a142516a8be44db620e8ec2c793", "author": {"user": {"login": "gracebish", "name": "Nakiguli Grace"}}, "url": "https://github.com/openmrs/openmrs-core/commit/67fe5293d3094a142516a8be44db620e8ec2c793", "committedDate": "2020-10-12T22:48:27Z", "message": "TRUNK-5115-new-2:Replace use of conditional logging with slf4j parameterized messages"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA3NjI5MjIz", "url": "https://github.com/openmrs/openmrs-core/pull/3599#pullrequestreview-507629223", "createdAt": "2020-10-13T16:34:21Z", "commit": {"oid": "67fe5293d3094a142516a8be44db620e8ec2c793"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxNjozNDoyMVrOHgvoPQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxNjozNDoyMVrOHgvoPQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDA5NjgyOQ==", "bodyText": "Here I can see that version 1.6.x has problems when there are more than two arguments. Have you checked if the currently used version still has this problem?", "url": "https://github.com/openmrs/openmrs-core/pull/3599#discussion_r504096829", "createdAt": "2020-10-13T16:34:21Z", "author": {"login": "sacull"}, "path": "api/src/main/java/org/openmrs/module/ModuleClassLoader.java", "diffHunk": "@@ -822,10 +812,7 @@ protected File cacheLibrary(final URL libUrl, final String libname) {\n \t\t\t// save a link to the cached file\n \t\t\tlibraryCache.put(libUri, result);\n \t\t\t\n-\t\t\tif (log.isDebugEnabled()) {\n-\t\t\t\tlog.debug(\"library \" + libname + \" successfully cached from URL \" + libUrl + \" and saved to local file \"\n-\t\t\t\t        + result);\n-\t\t\t}\n+\t\t\tlog.debug(\"library {} successfully cached from URL {} and saved to local file {}\", libname, libUrl, result);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "67fe5293d3094a142516a8be44db620e8ec2c793"}, "originalPosition": 58}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA4NTU0NzA4", "url": "https://github.com/openmrs/openmrs-core/pull/3599#pullrequestreview-508554708", "createdAt": "2020-10-14T17:04:55Z", "commit": {"oid": "67fe5293d3094a142516a8be44db620e8ec2c793"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA4NzA3NTU1", "url": "https://github.com/openmrs/openmrs-core/pull/3599#pullrequestreview-508707555", "createdAt": "2020-10-14T20:34:30Z", "commit": {"oid": "67fe5293d3094a142516a8be44db620e8ec2c793"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQyMDozNDozMVrOHhkEEQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQyMDozNDozMVrOHhkEEQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDk1NTkyMQ==", "bodyText": "Are you passing in 3 or 4 arguments?", "url": "https://github.com/openmrs/openmrs-core/pull/3599#discussion_r504955921", "createdAt": "2020-10-14T20:34:31Z", "author": {"login": "dkayiwa"}, "path": "api/src/main/java/org/openmrs/util/OpenmrsClassLoader.java", "diffHunk": "@@ -590,26 +585,19 @@ protected static void nullInstance(Object instance) {\n \t\t\t\t\tif (null != value) {\n \t\t\t\t\t\tClass<?> valueClass = value.getClass();\n \t\t\t\t\t\tif (!loadedByThisOrChild(valueClass)) {\n-\t\t\t\t\t\t\tif (log.isDebugEnabled()) {\n-\t\t\t\t\t\t\t\tlog.debug(\"Not setting field \" + field.getName() + \" to null in object of class \"\n-\t\t\t\t\t\t\t\t\t\t+ instance.getClass().getName() + \" because the referenced object was of type \"\n-\t\t\t\t\t\t\t\t\t\t+ valueClass.getName() + \" which was not loaded by this WebappClassLoader.\");\n-\t\t\t\t\t\t\t}\n+\t\t\t\t\t\t\tlog.debug(\n+\t\t\t\t\t\t\t    \"Not setting field {} to null in object of class {} because the referenced object was of type {} which was not loaded by this WebappClassLoader. {}\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "67fe5293d3094a142516a8be44db620e8ec2c793"}, "originalPosition": 31}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "34b293223e8c635cae47b4bba57a33c89fef240a", "author": {"user": {"login": "gracebish", "name": "Nakiguli Grace"}}, "url": "https://github.com/openmrs/openmrs-core/commit/34b293223e8c635cae47b4bba57a33c89fef240a", "committedDate": "2020-10-16T12:35:39Z", "message": "TRUNK-5115-new-2:Modifying a logging statement"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE0ODQzODAx", "url": "https://github.com/openmrs/openmrs-core/pull/3599#pullrequestreview-514843801", "createdAt": "2020-10-22T15:18:05Z", "commit": {"oid": "34b293223e8c635cae47b4bba57a33c89fef240a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQxNToxODowNVrOHmnAQg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQxNToxODowNVrOHmnAQg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDI0Njk3OA==", "bodyText": "How many messages are you replacing in the above line?", "url": "https://github.com/openmrs/openmrs-core/pull/3599#discussion_r510246978", "createdAt": "2020-10-22T15:18:05Z", "author": {"login": "dkayiwa"}, "path": "api/src/main/java/org/openmrs/util/OpenmrsClassLoader.java", "diffHunk": "@@ -590,26 +585,19 @@ protected static void nullInstance(Object instance) {\n \t\t\t\t\tif (null != value) {\n \t\t\t\t\t\tClass<?> valueClass = value.getClass();\n \t\t\t\t\t\tif (!loadedByThisOrChild(valueClass)) {\n-\t\t\t\t\t\t\tif (log.isDebugEnabled()) {\n-\t\t\t\t\t\t\t\tlog.debug(\"Not setting field \" + field.getName() + \" to null in object of class \"\n-\t\t\t\t\t\t\t\t\t\t+ instance.getClass().getName() + \" because the referenced object was of type \"\n-\t\t\t\t\t\t\t\t\t\t+ valueClass.getName() + \" which was not loaded by this WebappClassLoader.\");\n-\t\t\t\t\t\t\t}\n+\t\t\t\t\t\t\tlog.debug(\n+\t\t\t\t\t\t\t    \"Not setting field {} to null in object of class {} because the referenced object was of type {} which was not loaded by this WebappClassLoader.\",\n+\t\t\t\t\t\t\t    field.getName(), instance.getClass().getName(), valueClass.getName());\n \t\t\t\t\t\t} else {\n \t\t\t\t\t\t\tfield.set(instance, null);\n-\t\t\t\t\t\t\tif (log.isDebugEnabled()) {\n-\t\t\t\t\t\t\t\tlog.debug(\"Set field \" + field.getName() + \" to null in class \"\n-\t\t\t\t\t\t\t\t\t\t+ instance.getClass().getName());\n-\t\t\t\t\t\t\t}\n+\t\t\t\t\t\t\tlog.debug(\"Set field {} to null in class\", field.getName(), instance.getClass().getName());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "34b293223e8c635cae47b4bba57a33c89fef240a"}, "originalPosition": 39}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "323897df1ad5322b1f9748c6043653fbd37a393a", "author": {"user": {"login": "gracebish", "name": "Nakiguli Grace"}}, "url": "https://github.com/openmrs/openmrs-core/commit/323897df1ad5322b1f9748c6043653fbd37a393a", "committedDate": "2020-10-23T10:50:05Z", "message": "TRUNK-5115-new-2:Fixing a bug in a conditional statement"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE1NzQxODgx", "url": "https://github.com/openmrs/openmrs-core/pull/3599#pullrequestreview-515741881", "createdAt": "2020-10-23T14:51:36Z", "commit": {"oid": "323897df1ad5322b1f9748c6043653fbd37a393a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QxNDo1MTozNlrOHnRRJg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QxNDo1MTozNlrOHnRRJg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDkzOTQzMA==", "bodyText": "Was the comma before or after the field name?", "url": "https://github.com/openmrs/openmrs-core/pull/3599#discussion_r510939430", "createdAt": "2020-10-23T14:51:36Z", "author": {"login": "dkayiwa"}, "path": "api/src/main/java/org/openmrs/util/OpenmrsClassLoader.java", "diffHunk": "@@ -590,7 +590,7 @@ protected static void nullInstance(Object instance) {\n \t\t\t\t\t\t\t    field.getName(), instance.getClass().getName(), valueClass.getName());\n \t\t\t\t\t\t} else {\n \t\t\t\t\t\t\tfield.set(instance, null);\n-\t\t\t\t\t\t\tlog.debug(\"Set field {} to null in class\", field.getName(), instance.getClass().getName());\n+\t\t\t\t\t\t\tlog.debug(\"Set field {} to null in class {}\", field.getName(), instance.getClass().getName());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "323897df1ad5322b1f9748c6043653fbd37a393a"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4419, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}