{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM3NzI1OTg4", "number": 3272, "title": "TRUNK-5798, Add onDelete=CASCADE in liquibase changesets while creati\u2026", "bodyText": "\u2026ng tables wherever necessary\n\n\n\nDescription of what I changed\n\n\nAdded onDelete=CASCADE in liquibase schema files where necessary.\nIssue I worked on\n\n\n\n\nsee https://issues.openmrs.org/browse/TRUNK-5798\nChecklist: I completed these to help reviewers :)\n\n\n\n\n My IDE is configured to follow the code style of this project.\nNo? Unsure? -> configure your IDE, format the code and add the changes with git add . && git commit --amend\n\n\n I have added tests to cover my changes. (If you refactored\nexisting code that was well tested you do not have to add tests)\nNo? -> write tests and add them to this commit git add . && git commit --amend\n\n\n I ran mvn clean package right before creating this pull request and\nadded all formatting changes to my commit.\nNo? -> execute above command\n\n\n All new and existing tests passed.\nNo? -> figure out why and add the fix to your commit. It is your responsibility to make sure your code works.\n\n\n My pull request is based on the latest changes of the master branch.\nNo? Unsure? -> execute command git pull --rebase upstream master", "createdAt": "2020-06-22T06:54:29Z", "url": "https://github.com/openmrs/openmrs-core/pull/3272", "merged": true, "mergeCommit": {"oid": "e8c7cb456f34561c5714f40ee20342230e6357a3"}, "closed": true, "closedAt": "2020-06-25T11:07:16Z", "author": {"login": "Am-Coder"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABctrHGkgH2gAyNDM3NzI1OTg4OmM0NGI3MTBjMGQ3NTczZDUwNmYzMjYwYTI2ZDc0MjkwZmMwOTFjYTQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcusXikAH2gAyNDM3NzI1OTg4OmFmMGY2NjIzMGI5NzI0MGIyNGVlNmFjODVlNWJjYWFjODI4OTFjNTQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "c44b710c0d7573d506f3260a26d74290fc091ca4", "author": {"user": {"login": "Am-Coder", "name": null}}, "url": "https://github.com/openmrs/openmrs-core/commit/c44b710c0d7573d506f3260a26d74290fc091ca4", "committedDate": "2020-06-22T06:46:21Z", "message": "TRUNK-5798, Add onDelete=CASCADE in liquibase changesets while creating tables wherever necessary"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2249100b933cb409be2e59578202ed82cac0b463", "author": {"user": {"login": "Am-Coder", "name": null}}, "url": "https://github.com/openmrs/openmrs-core/commit/2249100b933cb409be2e59578202ed82cac0b463", "committedDate": "2020-06-22T16:56:30Z", "message": "Revert \"TRUNK-5798, Add onDelete=CASCADE in liquibase changesets while creating tables wherever necessary\"\n\nThis reverts commit c44b710c0d7573d506f3260a26d74290fc091ca4."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "42cdea70bb680f78674cc8cdcfb485c6dafbfb05", "author": {"user": {"login": "Am-Coder", "name": null}}, "url": "https://github.com/openmrs/openmrs-core/commit/42cdea70bb680f78674cc8cdcfb485c6dafbfb05", "committedDate": "2020-06-22T18:14:32Z", "message": "TRUNK-5798, Add onDelete=CASCADE in liquibase changesets while creating tables wherever necessary"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM2OTg3MDIz", "url": "https://github.com/openmrs/openmrs-core/pull/3272#pullrequestreview-436987023", "createdAt": "2020-06-24T20:35:31Z", "commit": {"oid": "42cdea70bb680f78674cc8cdcfb485c6dafbfb05"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNFQyMDozNTozMlrOGoiLQA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNFQyMDozNTozMlrOGoiLQA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTE1NjE2MA==", "bodyText": "Why do we have the same comment and yet the constraints are different?", "url": "https://github.com/openmrs/openmrs-core/pull/3272#discussion_r445156160", "createdAt": "2020-06-24T20:35:32Z", "author": {"login": "dkayiwa"}, "path": "api/src/main/resources/org/openmrs/liquibase/updates/liquibase-update-to-latest-2.4.x.xml", "diffHunk": "@@ -108,4 +108,37 @@\n \t\t\tSELECT setval('order_type_order_type_id_seq', (SELECT MAX(order_type_id) FROM order_type)+1);\n \t\t</sql>\n \t</changeSet> \n+\t\n+\t<changeSet id=\"20200622-cascade_delete_concept_comlex\" author=\"aman\" dbms=\"postgresql\">\n+\t\t<preConditions onFail=\"MARK_RAN\">\n+    \t    <foreignKeyConstraintExists foreignKeyName=\"concept_attributes\"/>\n+\t\t</preConditions>\n+\t\t<comment>Updating Foreign Key To Add delete CASCADES</comment>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "42cdea70bb680f78674cc8cdcfb485c6dafbfb05"}, "originalPosition": 9}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "59bd38068b15af768fa447b1e0b9403fe07fd0a5", "author": {"user": {"login": "Am-Coder", "name": null}}, "url": "https://github.com/openmrs/openmrs-core/commit/59bd38068b15af768fa447b1e0b9403fe07fd0a5", "committedDate": "2020-06-25T09:58:30Z", "message": "TRUNK-5798, Add onDelete=CASCADE in liquibase changesets while creating tables wherever necessary"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM3MzcxMjg1", "url": "https://github.com/openmrs/openmrs-core/pull/3272#pullrequestreview-437371285", "createdAt": "2020-06-25T10:37:14Z", "commit": {"oid": "59bd38068b15af768fa447b1e0b9403fe07fd0a5"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNVQxMDozNzoxNFrOGo1DqQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNVQxMDozNzoxNFrOGo1DqQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTQ2NTUxMw==", "bodyText": "Is there any reason why you capitalised To Add?", "url": "https://github.com/openmrs/openmrs-core/pull/3272#discussion_r445465513", "createdAt": "2020-06-25T10:37:14Z", "author": {"login": "dkayiwa"}, "path": "api/src/main/resources/org/openmrs/liquibase/updates/liquibase-update-to-latest-2.4.x.xml", "diffHunk": "@@ -108,4 +108,37 @@\n \t\t\tSELECT setval('order_type_order_type_id_seq', (SELECT MAX(order_type_id) FROM order_type)+1);\n \t\t</sql>\n \t</changeSet> \n+\t\n+\t<changeSet id=\"20200622-cascade_delete_concept_comlex\" author=\"aman\" dbms=\"postgresql\">\n+\t\t<preConditions onFail=\"MARK_RAN\">\n+    \t    <foreignKeyConstraintExists foreignKeyName=\"concept_attributes\"/>\n+\t\t</preConditions>\n+\t\t<comment>Updating Foreign Key concept_attributes To Add delete CASCADES</comment>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "59bd38068b15af768fa447b1e0b9403fe07fd0a5"}, "originalPosition": 9}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "af0f66230b97240b24ee6ac85e5bcaac82891c54", "author": {"user": {"login": "Am-Coder", "name": null}}, "url": "https://github.com/openmrs/openmrs-core/commit/af0f66230b97240b24ee6ac85e5bcaac82891c54", "committedDate": "2020-06-25T10:48:08Z", "message": "TRUNK-5798, Add onDelete=CASCADE in liquibase changesets while creating tables wherever necessary"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4623, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}