{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE2MzcyNjk4", "number": 3195, "title": "TRUNK 5101: Add Tests for HibernateAlertDAO", "bodyText": "Ticket ID\nhttps://issues.openmrs.org/browse/TRUNK-5101\nDescription\nwrote tests for HibernateAlertDAO", "createdAt": "2020-05-11T22:03:49Z", "url": "https://github.com/openmrs/openmrs-core/pull/3195", "merged": true, "mergeCommit": {"oid": "f33a776462828b25d397b22abbb20e4504dea883"}, "closed": true, "closedAt": "2020-06-30T15:54:48Z", "author": {"login": "HerbertYiga"}, "timelineItems": {"totalCount": 22, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcgXP99gBqjMzMjQ5OTMxMzM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcwWwm1gH2gAyNDE2MzcyNjk4OjBkZWFjNWYwYWVmZTJjMDVlNzk4OWYxZWU4YTcyYzA5MDBkNmMyMmM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "afcbe81f6052a85a2a435c10bfc76caa3ae346b0", "author": {"user": {"login": "HerbertYiga", "name": null}}, "url": "https://github.com/openmrs/openmrs-core/commit/afcbe81f6052a85a2a435c10bfc76caa3ae346b0", "committedDate": "2020-05-11T22:01:46Z", "message": "TRUNK-5101:Tests for HibernateAlertDAO"}, "afterCommit": {"oid": "57c6250abee4dbe7992ed0924c61c48519cf6027", "author": {"user": {"login": "HerbertYiga", "name": null}}, "url": "https://github.com/openmrs/openmrs-core/commit/57c6250abee4dbe7992ed0924c61c48519cf6027", "committedDate": "2020-05-11T22:16:09Z", "message": "TRUNK-5101:Tests for HibernateAlertDAO"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1d95d107c99480d05e829b11386cdeb714f6be10", "author": {"user": {"login": "HerbertYiga", "name": null}}, "url": "https://github.com/openmrs/openmrs-core/commit/1d95d107c99480d05e829b11386cdeb714f6be10", "committedDate": "2020-05-11T22:47:57Z", "message": "Trunk 5101:Tests for HibernateAlertDAO"}, "afterCommit": {"oid": "0268ce0b2709ad6406f7357c1ecfc577502e7fb7", "author": {"user": {"login": "HerbertYiga", "name": null}}, "url": "https://github.com/openmrs/openmrs-core/commit/0268ce0b2709ad6406f7357c1ecfc577502e7fb7", "committedDate": "2020-05-11T23:01:02Z", "message": "TRUNK-5101:Tests for HibernateAlertDAO"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0268ce0b2709ad6406f7357c1ecfc577502e7fb7", "author": {"user": {"login": "HerbertYiga", "name": null}}, "url": "https://github.com/openmrs/openmrs-core/commit/0268ce0b2709ad6406f7357c1ecfc577502e7fb7", "committedDate": "2020-05-11T23:01:02Z", "message": "TRUNK-5101:Tests for HibernateAlertDAO"}, "afterCommit": {"oid": "d45edf51c6481564bac3cb1af1e839cd7893fa0e", "author": {"user": {"login": "HerbertYiga", "name": null}}, "url": "https://github.com/openmrs/openmrs-core/commit/d45edf51c6481564bac3cb1af1e839cd7893fa0e", "committedDate": "2020-05-11T23:03:08Z", "message": "TRUNK-5101:Tests for HibernateAlertDAO"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA5NzQwMjAx", "url": "https://github.com/openmrs/openmrs-core/pull/3195#pullrequestreview-409740201", "createdAt": "2020-05-12T06:42:33Z", "commit": {"oid": "d45edf51c6481564bac3cb1af1e839cd7893fa0e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQwNjo0MjozM1rOGT4Khw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQwNjo0MjozM1rOGT4Khw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzQ5NjMyNw==", "bodyText": "Is this a test or its just a class, If its a test ,could you kindly make it a full test by adding @test annotation", "url": "https://github.com/openmrs/openmrs-core/pull/3195#discussion_r423496327", "createdAt": "2020-05-12T06:42:33Z", "author": {"login": "sherrif10"}, "path": "api/src/test/java/org/openmrs/notification/db/hibernate/HibernateAlertDAOTest.java", "diffHunk": "@@ -32,11 +46,49 @@ public void runBeforeEachTest() {\n \t * @throws Exception\n \t */\n \t@Test\n-\tpublic void shouldGetAlerts() {\n-\t\t\n-\t\tAlertService as = Context.getAlertService();\n-\t\t//System.out.println(as.getAllAlerts());\n+\tpublic void getAlert_shouldReturnSavedAlert() throws Exception {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d45edf51c6481564bac3cb1af1e839cd7893fa0e"}, "originalPosition": 45}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEzMTk3NTk5", "url": "https://github.com/openmrs/openmrs-core/pull/3195#pullrequestreview-413197599", "createdAt": "2020-05-17T20:51:18Z", "commit": {"oid": "45070ecaa31f5046975338552e2333b056b34480"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xN1QyMDo1MToxOFrOGWjgaw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xN1QyMDo1MToxOFrOGWjgaw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjMwMzU5NQ==", "bodyText": "For this,i am trying to get data from this newly created data set were i am specifying the alert with an id and its text,but i keep on getting .NoSuchTableException: alert\nas seen here,https://pastebin.com/9J6zfFsn   Any thoughts on this cc  @ibacher  @dkayiwa", "url": "https://github.com/openmrs/openmrs-core/pull/3195#discussion_r426303595", "createdAt": "2020-05-17T20:51:18Z", "author": {"login": "HerbertYiga"}, "path": "api/src/test/resources/org/openmrs/api/db/hibernate/include/HibernateAlertDAOTestDataSet.xml", "diffHunk": "@@ -0,0 +1,12 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<!--\n+    This Source Code Form is subject to the terms of the Mozilla Public License,\n+    v. 2.0. If a copy of the MPL was not distributed with this file, You can\n+    obtain one at http://mozilla.org/MPL/2.0/. OpenMRS is also distributed under\n+    the terms of the Healthcare Disclaimer located at http://openmrs.org/license.\n+    Copyright (C) OpenMRS Inc. OpenMRS is a registered trademark and the OpenMRS\n+    graphic logo is a trademark of OpenMRS Inc.\n+-->\n+<dataset>\n+\t<alert alert_Id=\"12345\" text=\"Testing the hibernate DAO\"/>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "45070ecaa31f5046975338552e2333b056b34480"}, "originalPosition": 11}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f583d29c4ad4fc48f189979cf09de5054f697d97", "author": {"user": {"login": "HerbertYiga", "name": null}}, "url": "https://github.com/openmrs/openmrs-core/commit/f583d29c4ad4fc48f189979cf09de5054f697d97", "committedDate": "2020-06-15T20:32:16Z", "message": "TRUNK 5101:Tests for HibernateAlertDAO"}, "afterCommit": {"oid": "db3a4d260a59f54bcc5bc62b163de7d6425b6255", "author": {"user": {"login": "HerbertYiga", "name": null}}, "url": "https://github.com/openmrs/openmrs-core/commit/db3a4d260a59f54bcc5bc62b163de7d6425b6255", "committedDate": "2020-06-15T20:34:09Z", "message": "TRUNK 5101:Tests for HibernateAlertDAO"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMwOTc4MTIz", "url": "https://github.com/openmrs/openmrs-core/pull/3195#pullrequestreview-430978123", "createdAt": "2020-06-15T20:42:12Z", "commit": {"oid": "db3a4d260a59f54bcc5bc62b163de7d6425b6255"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQyMDo0MjoxMlrOGkCAmw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQyMDo0MjoxMlrOGkCAmw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDQzNDg0Mw==", "bodyText": "@dkayiwa @ibacher , for this pr,i have one method which is failing locally ie the delete method whose snipet is:  @test\npublic void deleteAlert_shouldReturnNullAfterDeleting() {\nAlert savedAlert = hibernateAlertDAO.getAlert(2);\nAssert.assertNotNull(savedAlert);\nhibernateAlertDAO.deleteAlert(savedAlert);\nAssert.assertNull(savedAlert);\n}\nit returns a 2 instead of a null,on the assertNull section,any thoughts?", "url": "https://github.com/openmrs/openmrs-core/pull/3195#discussion_r440434843", "createdAt": "2020-06-15T20:42:12Z", "author": {"login": "HerbertYiga"}, "path": "api/src/test/resources/org/openmrs/api/db/hibernate/include/HibernateAlertDAOTestDataSet.xml", "diffHunk": "@@ -0,0 +1,8 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+\n+<dataset>\n+\t<notification_alert alert_id=\"2\" creator=\"1\" text=\"Testing hibernate Dao\" date_created=\"2019-01-01 00:00:00.0\"  date_to_expire=\"2020-08-08 00:00:00.0\" satisfied_by_any=\"1\" alert_read=\"1\" uuid=\"16914264-e162-11df-9195-001e378eb69e\"/>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "db3a4d260a59f54bcc5bc62b163de7d6425b6255"}, "originalPosition": 4}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "599811caa646082623b5fd27c601ed09adacfcb3", "author": {"user": {"login": "HerbertYiga", "name": null}}, "url": "https://github.com/openmrs/openmrs-core/commit/599811caa646082623b5fd27c601ed09adacfcb3", "committedDate": "2020-06-15T20:52:06Z", "message": "TRUNK 5101:Tests for HibernateAlertDAO"}, "afterCommit": {"oid": "dd19eb1eacf8a0f02f91f588a33409586c2b414c", "author": {"user": {"login": "HerbertYiga", "name": null}}, "url": "https://github.com/openmrs/openmrs-core/commit/dd19eb1eacf8a0f02f91f588a33409586c2b414c", "committedDate": "2020-06-15T20:53:38Z", "message": "TRUNK 5101:Tests for HibernateAlertDAO"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ddad7287f532f3cd7c136ad9058056415f6edc03", "author": {"user": {"login": "HerbertYiga", "name": null}}, "url": "https://github.com/openmrs/openmrs-core/commit/ddad7287f532f3cd7c136ad9058056415f6edc03", "committedDate": "2020-06-19T08:36:28Z", "message": "TRUNK 5101:Tests for HibernateAlertDAO"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f302fdeb6084606cd159019932e865f4547b5f89", "author": {"user": {"login": "HerbertYiga", "name": null}}, "url": "https://github.com/openmrs/openmrs-core/commit/f302fdeb6084606cd159019932e865f4547b5f89", "committedDate": "2020-06-19T08:35:13Z", "message": "TRUNK-5101:HibernateAlertDAOTest"}, "afterCommit": {"oid": "ddad7287f532f3cd7c136ad9058056415f6edc03", "author": {"user": {"login": "HerbertYiga", "name": null}}, "url": "https://github.com/openmrs/openmrs-core/commit/ddad7287f532f3cd7c136ad9058056415f6edc03", "committedDate": "2020-06-19T08:36:28Z", "message": "TRUNK 5101:Tests for HibernateAlertDAO"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMzOTA0NTkz", "url": "https://github.com/openmrs/openmrs-core/pull/3195#pullrequestreview-433904593", "createdAt": "2020-06-19T08:39:23Z", "commit": {"oid": "ddad7287f532f3cd7c136ad9058056415f6edc03"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOVQwODozOToyM1rOGmNBNQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOVQwODozOToyM1rOGmNBNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjcxMjM3Mw==", "bodyText": "@ibacher   hi ian,i finally got the delete method working,thanks very much for the reviews.", "url": "https://github.com/openmrs/openmrs-core/pull/3195#discussion_r442712373", "createdAt": "2020-06-19T08:39:23Z", "author": {"login": "HerbertYiga"}, "path": "api/src/test/java/org/openmrs/notification/db/hibernate/HibernateAlertDAOTest.java", "diffHunk": "@@ -9,34 +9,68 @@\n  */\n package org.openmrs.notification.db.hibernate;\n \n+import org.junit.Assert;\n import org.junit.Before;\n import org.junit.Test;\n+import org.openmrs.User;\n import org.openmrs.api.context.Context;\n-import org.openmrs.notification.AlertService;\n+import org.openmrs.notification.Alert;\n import org.openmrs.test.BaseContextSensitiveTest;\n+import org.springframework.beans.factory.annotation.Autowired;\n \n /**\n  * This class tests the hibernate alert data access. TODO Consider changing this and all subsequent\n  * tests to use dbunit\n  */\n public class HibernateAlertDAOTest extends BaseContextSensitiveTest {\n \t\n+\tprivate static final String DATA_XML = \"org/openmrs/api/db/hibernate/include/HibernateAlertDAOTestDataSet.xml\";\n+\t@Autowired\n+\tprivate HibernateAlertDAO hibernateAlertDAO;\n \t@Before\n-\tpublic void runBeforeEachTest() {\n-\t\tauthenticate();\n+\n+\tpublic void setUp() {\n+\t\texecuteDataSet(DATA_XML);\n+\t\t\n \t}\n-\t\n \t/**\n \t * Test that you can get alerts\n \t * \n \t * @throws Exception\n \t */\n+\t\n \t@Test\n-\tpublic void shouldGetAlerts() {\n+\tpublic void saveAlert_shouldSaveAlertToDb() {\n+\t\tAlert saveAlert = hibernateAlertDAO.getAlert(2);\n+\t    hibernateAlertDAO.saveAlert(saveAlert);\n+\t    Assert.assertNotNull(saveAlert.getText());\n+\t}\n+\t\n+\t@Test\n+\tpublic void getAlert_shouldGetAlertById() {\n+\t\tAlert savedAlert = hibernateAlertDAO.getAlert(2);\n+\t\tint id=savedAlert.getAlertId();\n+\t\tAssert.assertEquals(id,2);\n \t\t\n-\t\tAlertService as = Context.getAlertService();\n-\t\t//System.out.println(as.getAllAlerts());\n+\t}\n+\t@Test\n+\tpublic void deleteAlert_shouldReturnNullAfterDeleting() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ddad7287f532f3cd7c136ad9058056415f6edc03"}, "originalPosition": 56}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "90c1b64bfef654365d28ddcc7a7dcbf5d890fdcf", "author": {"user": {"login": "ibacher", "name": "Ian"}}, "url": "https://github.com/openmrs/openmrs-core/commit/90c1b64bfef654365d28ddcc7a7dcbf5d890fdcf", "committedDate": "2020-06-22T14:05:11Z", "message": "Fix formatting"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "768809cba72edda71ad82a2f1de2a22ce1ab4fbc", "author": {"user": {"login": "ibacher", "name": "Ian"}}, "url": "https://github.com/openmrs/openmrs-core/commit/768809cba72edda71ad82a2f1de2a22ce1ab4fbc", "committedDate": "2020-06-22T14:06:46Z", "message": "Update HibernateAlertDAOTest.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ed89f591d00eef9f8424b9af84c880cb919c709b", "author": {"user": {"login": "ibacher", "name": "Ian"}}, "url": "https://github.com/openmrs/openmrs-core/commit/ed89f591d00eef9f8424b9af84c880cb919c709b", "committedDate": "2020-06-22T14:07:28Z", "message": "Add new line at end of file"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM0OTU2ODcw", "url": "https://github.com/openmrs/openmrs-core/pull/3195#pullrequestreview-434956870", "createdAt": "2020-06-22T14:06:04Z", "commit": {"oid": "90c1b64bfef654365d28ddcc7a7dcbf5d890fdcf"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMlQxNDowNjowNFrOGnCJ5w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMlQxNDowNjowNFrOGnCJ5w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzU4Mjk1MQ==", "bodyText": "I'm not sure what, exactly, is being tested here. Presumably, we should create a new alert (rather than loading one from the database), save it, and assert that we can call getAlert() to get the expected alert.", "url": "https://github.com/openmrs/openmrs-core/pull/3195#discussion_r443582951", "createdAt": "2020-06-22T14:06:04Z", "author": {"login": "ibacher"}, "path": "api/src/test/java/org/openmrs/notification/db/hibernate/HibernateAlertDAOTest.java", "diffHunk": "@@ -9,34 +9,63 @@\n  */\n package org.openmrs.notification.db.hibernate;\n \n+import org.junit.Assert;\n import org.junit.Before;\n import org.junit.Test;\n+import org.openmrs.User;\n import org.openmrs.api.context.Context;\n-import org.openmrs.notification.AlertService;\n+import org.openmrs.notification.Alert;\n import org.openmrs.test.BaseContextSensitiveTest;\n+import org.springframework.beans.factory.annotation.Autowired;\n \n /**\n  * This class tests the hibernate alert data access. TODO Consider changing this and all subsequent\n  * tests to use dbunit\n  */\n public class HibernateAlertDAOTest extends BaseContextSensitiveTest {\n \t\n+\tprivate static final String DATA_XML = \"org/openmrs/api/db/hibernate/include/HibernateAlertDAOTestDataSet.xml\";\n+\t\n+\t@Autowired\n+\tprivate HibernateAlertDAO hibernateAlertDAO;\n+\t\n \t@Before\n-\tpublic void runBeforeEachTest() {\n-\t\tauthenticate();\n+\tpublic void setUp() {\n+\t\texecuteDataSet(DATA_XML);\n+\t}\n+\n+\t@Test\n+\tpublic void saveAlert_shouldSaveAlertToDb() {\n+\t\tAlert saveAlert = hibernateAlertDAO.getAlert(2);\n+\t    hibernateAlertDAO.saveAlert(saveAlert);\n+\t    Assert.assertNotNull(saveAlert.getText());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "90c1b64bfef654365d28ddcc7a7dcbf5d890fdcf"}, "originalPosition": 36}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "91d7eb7e71013997bdf7909454e1f743e359fed4", "author": {"user": {"login": "HerbertYiga", "name": null}}, "url": "https://github.com/openmrs/openmrs-core/commit/91d7eb7e71013997bdf7909454e1f743e359fed4", "committedDate": "2020-06-23T11:29:53Z", "message": "TRUNK 5101:Tests for HibernateAlertDAO"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM1Njk3ODc3", "url": "https://github.com/openmrs/openmrs-core/pull/3195#pullrequestreview-435697877", "createdAt": "2020-06-23T11:42:06Z", "commit": {"oid": "91d7eb7e71013997bdf7909454e1f743e359fed4"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QxMTo0MjowNlrOGnlVrg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QxMTo0MjowNlrOGnlVrg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDE1OTQwNg==", "bodyText": "@ibacher Hi ian,thanks for the reviews.I made the recommended changes here.cc @dkayiwa", "url": "https://github.com/openmrs/openmrs-core/pull/3195#discussion_r444159406", "createdAt": "2020-06-23T11:42:06Z", "author": {"login": "HerbertYiga"}, "path": "api/src/test/java/org/openmrs/notification/db/hibernate/HibernateAlertDAOTest.java", "diffHunk": "@@ -9,34 +9,65 @@\n  */\n package org.openmrs.notification.db.hibernate;\n \n+import org.junit.Assert;\n+\n import org.junit.Before;\n import org.junit.Test;\n+import org.openmrs.User;\n import org.openmrs.api.context.Context;\n-import org.openmrs.notification.AlertService;\n+import org.openmrs.notification.Alert;\n import org.openmrs.test.BaseContextSensitiveTest;\n+import org.springframework.beans.factory.annotation.Autowired;\n \n /**\n  * This class tests the hibernate alert data access. TODO Consider changing this and all subsequent\n  * tests to use dbunit\n  */\n public class HibernateAlertDAOTest extends BaseContextSensitiveTest {\n \t\n+\tprivate static final String DATA_XML = \"org/openmrs/api/db/hibernate/include/HibernateAlertDAOTestDataSet.xml\";\n+\t\n+\t@Autowired\n+\tprivate HibernateAlertDAO hibernateAlertDAO;\n+\t\n \t@Before\n-\tpublic void runBeforeEachTest() {\n-\t\tauthenticate();\n+\tpublic void setUp() {\n+\t\texecuteDataSet(DATA_XML);\n+\t}\n+\n+\t@Test\n+\tpublic void saveAlert_shouldSaveAlertToDb() {\n+\t\tAlert alert=new Alert();\n+\t\talert.setText(\"Coding time\");\n+\t\talert.setId(5);\n+\t    hibernateAlertDAO.saveAlert(alert);\n+\t    Assert.assertNull(Context.getAlertService().getAlert(5));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "91d7eb7e71013997bdf7909454e1f743e359fed4"}, "originalPosition": 39}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a7bacd8fada2e8d62854b263b82fa7ae4baca9af", "author": {"user": {"login": "HerbertYiga", "name": null}}, "url": "https://github.com/openmrs/openmrs-core/commit/a7bacd8fada2e8d62854b263b82fa7ae4baca9af", "committedDate": "2020-06-23T12:13:27Z", "message": "TRUNK 5101:Tests for HibernateAlertDAO"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM1NzIxMTc3", "url": "https://github.com/openmrs/openmrs-core/pull/3195#pullrequestreview-435721177", "createdAt": "2020-06-23T12:16:28Z", "commit": {"oid": "a7bacd8fada2e8d62854b263b82fa7ae4baca9af"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QxMjoxNjoyOVrOGnmcCw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QxMjoxNjoyOVrOGnmcCw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDE3NzQxOQ==", "bodyText": "@ibacher   hi ian made a fix for this method,thanks", "url": "https://github.com/openmrs/openmrs-core/pull/3195#discussion_r444177419", "createdAt": "2020-06-23T12:16:29Z", "author": {"login": "HerbertYiga"}, "path": "api/src/test/java/org/openmrs/notification/db/hibernate/HibernateAlertDAOTest.java", "diffHunk": "@@ -9,34 +9,65 @@\n  */\n package org.openmrs.notification.db.hibernate;\n \n+import org.junit.Assert;\n+\n import org.junit.Before;\n import org.junit.Test;\n+import org.openmrs.User;\n import org.openmrs.api.context.Context;\n-import org.openmrs.notification.AlertService;\n+import org.openmrs.notification.Alert;\n import org.openmrs.test.BaseContextSensitiveTest;\n+import org.springframework.beans.factory.annotation.Autowired;\n \n /**\n  * This class tests the hibernate alert data access. TODO Consider changing this and all subsequent\n  * tests to use dbunit\n  */\n public class HibernateAlertDAOTest extends BaseContextSensitiveTest {\n \t\n+\tprivate static final String DATA_XML = \"org/openmrs/api/db/hibernate/include/HibernateAlertDAOTestDataSet.xml\";\n+\t\n+\t@Autowired\n+\tprivate HibernateAlertDAO hibernateAlertDAO;\n+\t\n \t@Before\n-\tpublic void runBeforeEachTest() {\n-\t\tauthenticate();\n+\tpublic void setUp() {\n+\t\texecuteDataSet(DATA_XML);\n+\t}\n+\n+\t@Test\n+\tpublic void saveAlert_shouldSaveAlertToDb() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a7bacd8fada2e8d62854b263b82fa7ae4baca9af"}, "originalPosition": 34}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4db1bba5ac7e582f4d580c824113f229b11b8d67", "author": {"user": {"login": "ibacher", "name": "Ian"}}, "url": "https://github.com/openmrs/openmrs-core/commit/4db1bba5ac7e582f4d580c824113f229b11b8d67", "committedDate": "2020-06-30T13:03:52Z", "message": "Update HibernateAlertDAOTest.java"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM5OTkxMTg3", "url": "https://github.com/openmrs/openmrs-core/pull/3195#pullrequestreview-439991187", "createdAt": "2020-06-30T13:04:19Z", "commit": {"oid": "4db1bba5ac7e582f4d580c824113f229b11b8d67"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0deac5f0aefe2c05e7989f1ee8a72c0900d6c22c", "author": {"user": {"login": "ibacher", "name": "Ian"}}, "url": "https://github.com/openmrs/openmrs-core/commit/0deac5f0aefe2c05e7989f1ee8a72c0900d6c22c", "committedDate": "2020-06-30T14:45:27Z", "message": "Update HibernateAlertDAOTest.java"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4788, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}