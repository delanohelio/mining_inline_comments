{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQyNjU0Nzgy", "number": 3285, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QxMDowODoyOFrOENwGRg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QxMzowMjo1MVrOENztFw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgyODU0OTgyOnYy", "diffSide": "RIGHT", "path": "api/src/test/java/org/openmrs/api/PersonServiceTest.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QxMDowODoyOFrOGwh_Pw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QxMDowODoyOFrOGwh_Pw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzU0MTY5NQ==", "bodyText": "hi @ibacher   what do think of these changes in this pr!!", "url": "https://github.com/openmrs/openmrs-core/pull/3285#discussion_r453541695", "createdAt": "2020-07-13T10:08:28Z", "author": {"login": "HerbertYiga"}, "path": "api/src/test/java/org/openmrs/api/PersonServiceTest.java", "diffHunk": "@@ -2348,4 +2348,32 @@ public void getPersonAttributeTypes_shouldReturnUserAttributesWhenViewTypeHeader\n \t\tassertThat(result, contains(birthplace));\n \t\tassertEquals(result.size(), 1);\n \t}\n+\t/**\n+\t * @see PersonService#getPeople(String,Boolean,Boolean)\n+\t */\n+\t@Test\n+\tpublic void getPeople_shouldMatchSearchToFamilyNameOneOrTwo() throws Exception {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "09071f002ef9390cb7eab36779a8a20eb3cd197e"}, "originalPosition": 8}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgyOTEyNzUzOnYy", "diffSide": "RIGHT", "path": "api/src/test/java/org/openmrs/api/PersonServiceTest.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QxMjo1OTozNlrOGwnbQg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QxMjo1OTozNlrOGwnbQg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzYzMDc4Ng==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t}\n          \n          \n            \n            \t/**\n          \n          \n            \n            \t}\n          \n          \n            \n            \t\n          \n          \n            \n            \t/**", "url": "https://github.com/openmrs/openmrs-core/pull/3285#discussion_r453630786", "createdAt": "2020-07-13T12:59:36Z", "author": {"login": "ibacher"}, "path": "api/src/test/java/org/openmrs/api/PersonServiceTest.java", "diffHunk": "@@ -2348,4 +2348,32 @@ public void getPersonAttributeTypes_shouldReturnUserAttributesWhenViewTypeHeader\n \t\tassertThat(result, contains(birthplace));\n \t\tassertEquals(result.size(), 1);\n \t}\n+\t/**\n+\t * @see PersonService#getPeople(String,Boolean,Boolean)\n+\t */\n+\t@Test\n+\tpublic void getPeople_shouldMatchSearchToFamilyNameOneOrTwo() throws Exception {\n+\t\texecuteDataSet(\"org/openmrs/api/include/PersonServiceTest-extranames.xml\");\n+\t\tupdateSearchIndex();\n+\t\t\n+\t\tList<Person> people = Context.getPersonService().getPeople(\"Johnson\",true,true);\n+\t\tAssert.assertEquals(1, people.size());\n+\t\tassertTrue(TestUtil.containsId(people, 3));\n+\t}\n+\t/**", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "09071f002ef9390cb7eab36779a8a20eb3cd197e"}, "originalPosition": 16}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgyOTEzNjY1OnYy", "diffSide": "RIGHT", "path": "api/src/test/java/org/openmrs/api/PersonServiceTest.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QxMzowMTo0N1rOGwngjA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QxMzoxMDoyNVrOGwnz9g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzYzMjE0MA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\tassertTrue(TestUtil.containsId(people, 3));\n          \n          \n            \n            \t\tassertTrue(containsId(people, 3));", "url": "https://github.com/openmrs/openmrs-core/pull/3285#discussion_r453632140", "createdAt": "2020-07-13T13:01:47Z", "author": {"login": "ibacher"}, "path": "api/src/test/java/org/openmrs/api/PersonServiceTest.java", "diffHunk": "@@ -2348,4 +2348,32 @@ public void getPersonAttributeTypes_shouldReturnUserAttributesWhenViewTypeHeader\n \t\tassertThat(result, contains(birthplace));\n \t\tassertEquals(result.size(), 1);\n \t}\n+\t/**\n+\t * @see PersonService#getPeople(String,Boolean,Boolean)\n+\t */\n+\t@Test\n+\tpublic void getPeople_shouldMatchSearchToFamilyNameOneOrTwo() throws Exception {\n+\t\texecuteDataSet(\"org/openmrs/api/include/PersonServiceTest-extranames.xml\");\n+\t\tupdateSearchIndex();\n+\t\t\n+\t\tList<Person> people = Context.getPersonService().getPeople(\"Johnson\",true,true);\n+\t\tAssert.assertEquals(1, people.size());\n+\t\tassertTrue(TestUtil.containsId(people, 3));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "09071f002ef9390cb7eab36779a8a20eb3cd197e"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzYzNzExMA==", "bodyText": "Thanks @ibacher   let me get this fixed", "url": "https://github.com/openmrs/openmrs-core/pull/3285#discussion_r453637110", "createdAt": "2020-07-13T13:10:25Z", "author": {"login": "HerbertYiga"}, "path": "api/src/test/java/org/openmrs/api/PersonServiceTest.java", "diffHunk": "@@ -2348,4 +2348,32 @@ public void getPersonAttributeTypes_shouldReturnUserAttributesWhenViewTypeHeader\n \t\tassertThat(result, contains(birthplace));\n \t\tassertEquals(result.size(), 1);\n \t}\n+\t/**\n+\t * @see PersonService#getPeople(String,Boolean,Boolean)\n+\t */\n+\t@Test\n+\tpublic void getPeople_shouldMatchSearchToFamilyNameOneOrTwo() throws Exception {\n+\t\texecuteDataSet(\"org/openmrs/api/include/PersonServiceTest-extranames.xml\");\n+\t\tupdateSearchIndex();\n+\t\t\n+\t\tList<Person> people = Context.getPersonService().getPeople(\"Johnson\",true,true);\n+\t\tAssert.assertEquals(1, people.size());\n+\t\tassertTrue(TestUtil.containsId(people, 3));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzYzMjE0MA=="}, "originalCommit": {"oid": "09071f002ef9390cb7eab36779a8a20eb3cd197e"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgyOTE0MDcxOnYy", "diffSide": "RIGHT", "path": "api/src/test/java/org/openmrs/api/PersonServiceTest.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QxMzowMjo1MVrOGwni7g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QxMzowMjo1MVrOGwni7g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzYzMjc1MA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\tPersonAddress pAddress = new PersonAddress();\n          \n          \n            \n            \t\tpAddress.setAddress1(\"123 My street\");\n          \n          \n            \n            \t\tpAddress.setAddress2(\"Apt 402\");\n          \n          \n            \n            \t\tpAddress.setCityVillage(\"Anywhere city\");\n          \n          \n            \n            \t\tpAddress.setCountry(\"Some Country\");\n          \n          \n            \n            \t\tpAddress.setUuid(\"y403fafk-e5k4-42d0-9d11-4f52e89d123r\");\n          \n          \n            \n            \t\tPersonService personService=Context.getPersonService();\n          \n          \n            \n            \t\tpersonService.savePersonAddress(pAddress);\n          \n          \n            \n            \t    assertNotNull(personService.getPersonAddressByUuid(\"y403fafk-e5k4-42d0-9d11-4f52e89d123r\"));\t\n          \n          \n            \n            \t\tPersonAddress pAddress = new PersonAddress();\n          \n          \n            \n            \t\tpAddress.setAddress1(\"123 My street\");\n          \n          \n            \n            \t\tpAddress.setAddress2(\"Apt 402\");\n          \n          \n            \n            \t\tpAddress.setCityVillage(\"Anywhere city\");\n          \n          \n            \n            \t\tpAddress.setCountry(\"Some Country\");\n          \n          \n            \n            \t\tpAddress.setUuid(\"y403fafk-e5k4-42d0-9d11-4f52e89d123r\");\n          \n          \n            \n            \t\t\n          \n          \n            \n            \t\tPersonService personService = Context.getPersonService();\n          \n          \n            \n            \t\tpersonService.savePersonAddress(pAddress);\n          \n          \n            \n            \t\t\n          \n          \n            \n            \t    assertNotNull(personService.getPersonAddressByUuid(\"y403fafk-e5k4-42d0-9d11-4f52e89d123r\"));", "url": "https://github.com/openmrs/openmrs-core/pull/3285#discussion_r453632750", "createdAt": "2020-07-13T13:02:51Z", "author": {"login": "ibacher"}, "path": "api/src/test/java/org/openmrs/api/PersonServiceTest.java", "diffHunk": "@@ -2348,4 +2348,32 @@ public void getPersonAttributeTypes_shouldReturnUserAttributesWhenViewTypeHeader\n \t\tassertThat(result, contains(birthplace));\n \t\tassertEquals(result.size(), 1);\n \t}\n+\t/**\n+\t * @see PersonService#getPeople(String,Boolean,Boolean)\n+\t */\n+\t@Test\n+\tpublic void getPeople_shouldMatchSearchToFamilyNameOneOrTwo() throws Exception {\n+\t\texecuteDataSet(\"org/openmrs/api/include/PersonServiceTest-extranames.xml\");\n+\t\tupdateSearchIndex();\n+\t\t\n+\t\tList<Person> people = Context.getPersonService().getPeople(\"Johnson\",true,true);\n+\t\tAssert.assertEquals(1, people.size());\n+\t\tassertTrue(TestUtil.containsId(people, 3));\n+\t}\n+\t/**\n+\t * @see org.openmrs.api.PersonService#savePersonAddress(PersonAddress)\n+\t */\n+\t@Test\n+\tpublic void savePersonAddress_shouldNotBeNullOnReturningAsavedPersonAdress() throws Exception {\n+\t\tPersonAddress pAddress = new PersonAddress();\n+\t\tpAddress.setAddress1(\"123 My street\");\n+\t\tpAddress.setAddress2(\"Apt 402\");\n+\t\tpAddress.setCityVillage(\"Anywhere city\");\n+\t\tpAddress.setCountry(\"Some Country\");\n+\t\tpAddress.setUuid(\"y403fafk-e5k4-42d0-9d11-4f52e89d123r\");\n+\t\tPersonService personService=Context.getPersonService();\n+\t\tpersonService.savePersonAddress(pAddress);\n+\t    assertNotNull(personService.getPersonAddressByUuid(\"y403fafk-e5k4-42d0-9d11-4f52e89d123r\"));\t", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "09071f002ef9390cb7eab36779a8a20eb3cd197e"}, "originalPosition": 29}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1373, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}