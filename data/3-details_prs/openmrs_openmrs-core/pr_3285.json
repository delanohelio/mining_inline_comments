{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQyNjU0Nzgy", "number": 3285, "title": "TRUNK-5064:Added untested methods for PersonServiceImpl", "bodyText": "Ticket ID\nhttps://issues.openmrs.org/browse/TRUNK-5064\nDescription\nAdded untested methods for PersonServiceImpl", "createdAt": "2020-07-01T12:05:06Z", "url": "https://github.com/openmrs/openmrs-core/pull/3285", "merged": true, "mergeCommit": {"oid": "df3b2c17e97529ae88c98a693e74ade180df1f55"}, "closed": true, "closedAt": "2020-07-15T17:35:45Z", "author": {"login": "HerbertYiga"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcwqUj1gBqjM1MDI0ODAxNjA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc0mmW5AH2gAyNDQyNjU0NzgyOmMxY2YxYWVjYmFlMjFkMjE5Y2Y2NzY1ZTlhYjY3ZmMwZGNkMGRlNWI=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d177cb6a24d6059353f98d1375f5364abeb2e1bf", "author": {"user": {"login": "HerbertYiga", "name": null}}, "url": "https://github.com/openmrs/openmrs-core/commit/d177cb6a24d6059353f98d1375f5364abeb2e1bf", "committedDate": "2020-07-01T12:09:57Z", "message": "TRUNK-5064:Added untested methods for PersonServiceImpl"}, "afterCommit": {"oid": "7927ea507aa87c985123ccd7fd1b165130da4f8d", "author": {"user": {"login": "HerbertYiga", "name": null}}, "url": "https://github.com/openmrs/openmrs-core/commit/7927ea507aa87c985123ccd7fd1b165130da4f8d", "committedDate": "2020-07-01T12:12:33Z", "message": "TRUNK-5064:Added untested methods for PersonServiceImpl"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e83cd63c5a4a8fb8d27b55c8003c75a6607932b0", "author": {"user": {"login": "HerbertYiga", "name": null}}, "url": "https://github.com/openmrs/openmrs-core/commit/e83cd63c5a4a8fb8d27b55c8003c75a6607932b0", "committedDate": "2020-07-01T12:15:18Z", "message": "TRUNK-5064:Added untested methods for PersonServiceImpl"}, "afterCommit": {"oid": "09071f002ef9390cb7eab36779a8a20eb3cd197e", "author": {"user": {"login": "HerbertYiga", "name": null}}, "url": "https://github.com/openmrs/openmrs-core/commit/09071f002ef9390cb7eab36779a8a20eb3cd197e", "committedDate": "2020-07-01T12:15:55Z", "message": "TRUNK-5064:Added untested methods for PersonServiceImpl"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ3MTE0MTg0", "url": "https://github.com/openmrs/openmrs-core/pull/3285#pullrequestreview-447114184", "createdAt": "2020-07-13T10:08:28Z", "commit": {"oid": "09071f002ef9390cb7eab36779a8a20eb3cd197e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QxMDowODoyOFrOGwh_Pw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QxMDowODoyOFrOGwh_Pw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzU0MTY5NQ==", "bodyText": "hi @ibacher   what do think of these changes in this pr!!", "url": "https://github.com/openmrs/openmrs-core/pull/3285#discussion_r453541695", "createdAt": "2020-07-13T10:08:28Z", "author": {"login": "HerbertYiga"}, "path": "api/src/test/java/org/openmrs/api/PersonServiceTest.java", "diffHunk": "@@ -2348,4 +2348,32 @@ public void getPersonAttributeTypes_shouldReturnUserAttributesWhenViewTypeHeader\n \t\tassertThat(result, contains(birthplace));\n \t\tassertEquals(result.size(), 1);\n \t}\n+\t/**\n+\t * @see PersonService#getPeople(String,Boolean,Boolean)\n+\t */\n+\t@Test\n+\tpublic void getPeople_shouldMatchSearchToFamilyNameOneOrTwo() throws Exception {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "09071f002ef9390cb7eab36779a8a20eb3cd197e"}, "originalPosition": 8}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ3MjI2MzE5", "url": "https://github.com/openmrs/openmrs-core/pull/3285#pullrequestreview-447226319", "createdAt": "2020-07-13T12:59:36Z", "commit": {"oid": "09071f002ef9390cb7eab36779a8a20eb3cd197e"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QxMjo1OTozNlrOGwnbQg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QxMzowMjo1MVrOGwni7g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzYzMDc4Ng==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t}\n          \n          \n            \n            \t/**\n          \n          \n            \n            \t}\n          \n          \n            \n            \t\n          \n          \n            \n            \t/**", "url": "https://github.com/openmrs/openmrs-core/pull/3285#discussion_r453630786", "createdAt": "2020-07-13T12:59:36Z", "author": {"login": "ibacher"}, "path": "api/src/test/java/org/openmrs/api/PersonServiceTest.java", "diffHunk": "@@ -2348,4 +2348,32 @@ public void getPersonAttributeTypes_shouldReturnUserAttributesWhenViewTypeHeader\n \t\tassertThat(result, contains(birthplace));\n \t\tassertEquals(result.size(), 1);\n \t}\n+\t/**\n+\t * @see PersonService#getPeople(String,Boolean,Boolean)\n+\t */\n+\t@Test\n+\tpublic void getPeople_shouldMatchSearchToFamilyNameOneOrTwo() throws Exception {\n+\t\texecuteDataSet(\"org/openmrs/api/include/PersonServiceTest-extranames.xml\");\n+\t\tupdateSearchIndex();\n+\t\t\n+\t\tList<Person> people = Context.getPersonService().getPeople(\"Johnson\",true,true);\n+\t\tAssert.assertEquals(1, people.size());\n+\t\tassertTrue(TestUtil.containsId(people, 3));\n+\t}\n+\t/**", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "09071f002ef9390cb7eab36779a8a20eb3cd197e"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzYzMjE0MA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\tassertTrue(TestUtil.containsId(people, 3));\n          \n          \n            \n            \t\tassertTrue(containsId(people, 3));", "url": "https://github.com/openmrs/openmrs-core/pull/3285#discussion_r453632140", "createdAt": "2020-07-13T13:01:47Z", "author": {"login": "ibacher"}, "path": "api/src/test/java/org/openmrs/api/PersonServiceTest.java", "diffHunk": "@@ -2348,4 +2348,32 @@ public void getPersonAttributeTypes_shouldReturnUserAttributesWhenViewTypeHeader\n \t\tassertThat(result, contains(birthplace));\n \t\tassertEquals(result.size(), 1);\n \t}\n+\t/**\n+\t * @see PersonService#getPeople(String,Boolean,Boolean)\n+\t */\n+\t@Test\n+\tpublic void getPeople_shouldMatchSearchToFamilyNameOneOrTwo() throws Exception {\n+\t\texecuteDataSet(\"org/openmrs/api/include/PersonServiceTest-extranames.xml\");\n+\t\tupdateSearchIndex();\n+\t\t\n+\t\tList<Person> people = Context.getPersonService().getPeople(\"Johnson\",true,true);\n+\t\tAssert.assertEquals(1, people.size());\n+\t\tassertTrue(TestUtil.containsId(people, 3));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "09071f002ef9390cb7eab36779a8a20eb3cd197e"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzYzMjc1MA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\tPersonAddress pAddress = new PersonAddress();\n          \n          \n            \n            \t\tpAddress.setAddress1(\"123 My street\");\n          \n          \n            \n            \t\tpAddress.setAddress2(\"Apt 402\");\n          \n          \n            \n            \t\tpAddress.setCityVillage(\"Anywhere city\");\n          \n          \n            \n            \t\tpAddress.setCountry(\"Some Country\");\n          \n          \n            \n            \t\tpAddress.setUuid(\"y403fafk-e5k4-42d0-9d11-4f52e89d123r\");\n          \n          \n            \n            \t\tPersonService personService=Context.getPersonService();\n          \n          \n            \n            \t\tpersonService.savePersonAddress(pAddress);\n          \n          \n            \n            \t    assertNotNull(personService.getPersonAddressByUuid(\"y403fafk-e5k4-42d0-9d11-4f52e89d123r\"));\t\n          \n          \n            \n            \t\tPersonAddress pAddress = new PersonAddress();\n          \n          \n            \n            \t\tpAddress.setAddress1(\"123 My street\");\n          \n          \n            \n            \t\tpAddress.setAddress2(\"Apt 402\");\n          \n          \n            \n            \t\tpAddress.setCityVillage(\"Anywhere city\");\n          \n          \n            \n            \t\tpAddress.setCountry(\"Some Country\");\n          \n          \n            \n            \t\tpAddress.setUuid(\"y403fafk-e5k4-42d0-9d11-4f52e89d123r\");\n          \n          \n            \n            \t\t\n          \n          \n            \n            \t\tPersonService personService = Context.getPersonService();\n          \n          \n            \n            \t\tpersonService.savePersonAddress(pAddress);\n          \n          \n            \n            \t\t\n          \n          \n            \n            \t    assertNotNull(personService.getPersonAddressByUuid(\"y403fafk-e5k4-42d0-9d11-4f52e89d123r\"));", "url": "https://github.com/openmrs/openmrs-core/pull/3285#discussion_r453632750", "createdAt": "2020-07-13T13:02:51Z", "author": {"login": "ibacher"}, "path": "api/src/test/java/org/openmrs/api/PersonServiceTest.java", "diffHunk": "@@ -2348,4 +2348,32 @@ public void getPersonAttributeTypes_shouldReturnUserAttributesWhenViewTypeHeader\n \t\tassertThat(result, contains(birthplace));\n \t\tassertEquals(result.size(), 1);\n \t}\n+\t/**\n+\t * @see PersonService#getPeople(String,Boolean,Boolean)\n+\t */\n+\t@Test\n+\tpublic void getPeople_shouldMatchSearchToFamilyNameOneOrTwo() throws Exception {\n+\t\texecuteDataSet(\"org/openmrs/api/include/PersonServiceTest-extranames.xml\");\n+\t\tupdateSearchIndex();\n+\t\t\n+\t\tList<Person> people = Context.getPersonService().getPeople(\"Johnson\",true,true);\n+\t\tAssert.assertEquals(1, people.size());\n+\t\tassertTrue(TestUtil.containsId(people, 3));\n+\t}\n+\t/**\n+\t * @see org.openmrs.api.PersonService#savePersonAddress(PersonAddress)\n+\t */\n+\t@Test\n+\tpublic void savePersonAddress_shouldNotBeNullOnReturningAsavedPersonAdress() throws Exception {\n+\t\tPersonAddress pAddress = new PersonAddress();\n+\t\tpAddress.setAddress1(\"123 My street\");\n+\t\tpAddress.setAddress2(\"Apt 402\");\n+\t\tpAddress.setCityVillage(\"Anywhere city\");\n+\t\tpAddress.setCountry(\"Some Country\");\n+\t\tpAddress.setUuid(\"y403fafk-e5k4-42d0-9d11-4f52e89d123r\");\n+\t\tPersonService personService=Context.getPersonService();\n+\t\tpersonService.savePersonAddress(pAddress);\n+\t    assertNotNull(personService.getPersonAddressByUuid(\"y403fafk-e5k4-42d0-9d11-4f52e89d123r\"));\t", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "09071f002ef9390cb7eab36779a8a20eb3cd197e"}, "originalPosition": 29}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e35720662a062b14ff391b3da0fe43f59f887d14", "author": {"user": {"login": "HerbertYiga", "name": null}}, "url": "https://github.com/openmrs/openmrs-core/commit/e35720662a062b14ff391b3da0fe43f59f887d14", "committedDate": "2020-07-13T13:49:33Z", "message": "TRUNK-5064:Added untested methods for PersonServiceImpl"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ff80ed37432adab68fd279a78b958f2866965ed5", "author": {"user": {"login": "HerbertYiga", "name": null}}, "url": "https://github.com/openmrs/openmrs-core/commit/ff80ed37432adab68fd279a78b958f2866965ed5", "committedDate": "2020-07-13T13:46:06Z", "message": "TRUNK-5064:Added untested methods for PersonServiceImpl"}, "afterCommit": {"oid": "e35720662a062b14ff391b3da0fe43f59f887d14", "author": {"user": {"login": "HerbertYiga", "name": null}}, "url": "https://github.com/openmrs/openmrs-core/commit/e35720662a062b14ff391b3da0fe43f59f887d14", "committedDate": "2020-07-13T13:49:33Z", "message": "TRUNK-5064:Added untested methods for PersonServiceImpl"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bbc8d7dface3b0177a67626a4254ff08801ad768", "author": {"user": {"login": "ibacher", "name": "Ian"}}, "url": "https://github.com/openmrs/openmrs-core/commit/bbc8d7dface3b0177a67626a4254ff08801ad768", "committedDate": "2020-07-13T19:28:20Z", "message": "Update api/src/test/java/org/openmrs/api/PersonServiceTest.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c1cf1aecbae21d219cf6765e9ab67fc0dcd0de5b", "author": {"user": {"login": "ibacher", "name": "Ian"}}, "url": "https://github.com/openmrs/openmrs-core/commit/c1cf1aecbae21d219cf6765e9ab67fc0dcd0de5b", "committedDate": "2020-07-13T19:28:26Z", "message": "Update api/src/test/java/org/openmrs/api/PersonServiceTest.java"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4648, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}