{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTEwMzI1NzU4", "number": 3616, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wM1QxODo1OToyM1rOE08KPg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wM1QxODo1OToyM1rOE08KPg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIzOTQ3MDcwOnYy", "diffSide": "RIGHT", "path": "api/src/main/java/org/openmrs/util/OpenmrsUtil.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wM1QxODo1OToyM1rOHs8baA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNFQxNDoxNDoyOFrOHtZ8GQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjg4OTQ0OA==", "bodyText": "Probably this condition is never caught in tests and hence the failing coverage check.", "url": "https://github.com/openmrs/openmrs-core/pull/3616#discussion_r516889448", "createdAt": "2020-11-03T18:59:23Z", "author": {"login": "ShivanshRakesh"}, "path": "api/src/main/java/org/openmrs/util/OpenmrsUtil.java", "diffHunk": "@@ -1101,8 +1101,7 @@ public static String getApplicationDataDirectory() {\n \t\t\t\t\tfilepath = OpenmrsConstants.APPLICATION_DATA_DIRECTORY_FALLBACK_UNIX + File.separator + openmrsDir;\n \t\t\t\t}\n \t\t\t} else {\n-\t\t\t\tfilepath = System.getProperty(\"user.home\") + File.separator + \"Application Data\" + File.separator\n-\t\t\t\t        + \"OpenMRS\";\n+\t\t\t\tfilepath = System.getenv(\"appdata\") + File.separator + \"OpenMRS\";\n \t\t\t\tif (!canWrite(new File(filepath))) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0b8d695598ae81f3b00137728249def8c2e8f666"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzM3Mjk1Mw==", "bodyText": "@theanandankit First of all, thank you for this! It's important that we get this right. I would be concerned that we might be breaking existing Windows-based installs without having a proper fallback. Could we implement this as something like:\nfilepath = System.getProperty(\"user.home\") + File.separator + \"Application Data\" + File.separator + \"OpenMRS\";\nif (!new File(filepath).exists()) { \n    filepath = System.getenv(\"appdata\") + File.separator + \"OpenMRS\";\n}", "url": "https://github.com/openmrs/openmrs-core/pull/3616#discussion_r517372953", "createdAt": "2020-11-04T14:14:28Z", "author": {"login": "ibacher"}, "path": "api/src/main/java/org/openmrs/util/OpenmrsUtil.java", "diffHunk": "@@ -1101,8 +1101,7 @@ public static String getApplicationDataDirectory() {\n \t\t\t\t\tfilepath = OpenmrsConstants.APPLICATION_DATA_DIRECTORY_FALLBACK_UNIX + File.separator + openmrsDir;\n \t\t\t\t}\n \t\t\t} else {\n-\t\t\t\tfilepath = System.getProperty(\"user.home\") + File.separator + \"Application Data\" + File.separator\n-\t\t\t\t        + \"OpenMRS\";\n+\t\t\t\tfilepath = System.getenv(\"appdata\") + File.separator + \"OpenMRS\";\n \t\t\t\tif (!canWrite(new File(filepath))) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjg4OTQ0OA=="}, "originalCommit": {"oid": "0b8d695598ae81f3b00137728249def8c2e8f666"}, "originalPosition": 7}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1259, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}