{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU3NDA4Mjc0", "number": 3400, "title": "TRUNK-5115-new: Replace use of conditional logging with sfl4j paramet\u2026", "bodyText": "Pull request title\nTRUNK-5115-new: Replace use of conditional logging with slfl4j parameterized messages\nJira issue number and title\nTRUNK-5115: Replace use of conditional logging with slf4j parameterized messages\nDescription of changes\nReplace use of conditionals which are aimed at preventing to construct debug message with slf4j parameterized messages\nIssue URL\nhttps://issues.openmrs.org/browse/TRUNK-5115\nChecklist: I completed these to help reviewers :)\n\n\n\n\n[ x] My IDE is configured to follow the code style of this project.\nNo? Unsure? -> configure your IDE, format the code and add the changes with git add . && git commit --amend\n\n\n[x ] I have added tests to cover my changes. (If you refactored\nexisting code that was well tested you do not have to add tests)\nNo? -> write tests and add them to this commit git add . && git commit --amend\n\n\n[x ] I ran mvn clean package right before creating this pull request and\nadded all formatting changes to my commit.\nNo? -> execute above command\n\n\n[ x] All new and existing tests passed.\nNo? -> figure out why and add the fix to your commit. It is your responsibility to make sure your code works.\n\n\n[ x] My pull request is based on the latest changes of the master branch.\nNo? Unsure? -> execute command git pull --rebase upstream master", "createdAt": "2020-07-27T21:19:39Z", "url": "https://github.com/openmrs/openmrs-core/pull/3400", "merged": true, "mergeCommit": {"oid": "6ec8b755c63f699d6f5c51133f67634baecd283b"}, "closed": true, "closedAt": "2020-07-28T18:55:43Z", "author": {"login": "gracebish"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc5IQ1yAH2gAyNDU3NDA4Mjc0OmMzNGM0ZDgwYzY5ZThkNTk0YTgxOWVkZmY3OTI0ZGUwNjllYzM0MmU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc5bBWygFqTQ1NjkxMjkyOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "c34c4d80c69e8d594a819edff7924de069ec342e", "author": {"user": {"login": "gracebish", "name": "Nakiguli Grace"}}, "url": "https://github.com/openmrs/openmrs-core/commit/c34c4d80c69e8d594a819edff7924de069ec342e", "committedDate": "2020-07-27T20:57:24Z", "message": "TRUNK-5115-new: Replace use of conditional logging with sfl4j parameterized messages"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU2MzY4MTA1", "url": "https://github.com/openmrs/openmrs-core/pull/3400#pullrequestreview-456368105", "createdAt": "2020-07-28T07:25:36Z", "commit": {"oid": "c34c4d80c69e8d594a819edff7924de069ec342e"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQwNzoyNTozN1rOG3_-Pg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQwNzoyOToyN1rOG4AGYQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTM3Mjk5MA==", "bodyText": "please remove the indentation since you have removed an if block we do not need the extra tab", "url": "https://github.com/openmrs/openmrs-core/pull/3400#discussion_r461372990", "createdAt": "2020-07-28T07:25:37Z", "author": {"login": "teleivo"}, "path": "api/src/main/java/org/openmrs/api/context/ServiceContext.java", "diffHunk": "@@ -143,10 +143,10 @@ public static ServiceContext getInstance() {\n \t */\n \tpublic static void destroyInstance() {\n \t\tif (ServiceContextHolder.instance != null && ServiceContextHolder.instance.services != null) {\n-\t\t\tif (log.isDebugEnabled()) {\n+\t\t\t\t", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c34c4d80c69e8d594a819edff7924de069ec342e"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTM3MzY5OQ==", "bodyText": "please remove the indentation", "url": "https://github.com/openmrs/openmrs-core/pull/3400#discussion_r461373699", "createdAt": "2020-07-28T07:26:53Z", "author": {"login": "teleivo"}, "path": "api/src/main/java/org/openmrs/scheduler/tasks/AutoCloseVisitsTask.java", "diffHunk": "@@ -33,10 +33,10 @@\n \t@Override\n \tpublic void execute() {\n \t\tif (!isExecuting) {\n-\t\t\tif (log.isDebugEnabled()) {\n+\t\t\t\t", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c34c4d80c69e8d594a819edff7924de069ec342e"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTM3NDY0Mg==", "bodyText": "please remove the indentation and the extra newlines", "url": "https://github.com/openmrs/openmrs-core/pull/3400#discussion_r461374642", "createdAt": "2020-07-28T07:28:37Z", "author": {"login": "teleivo"}, "path": "api/src/main/java/org/openmrs/util/OpenmrsClassLoader.java", "diffHunk": "@@ -84,10 +84,10 @@ public OpenmrsClassLoader(ClassLoader parent) {\n \t\t\n \t\tOpenmrsClassLoaderHolder.INSTANCE = this;\n \t\t\n-\t\tif (log.isDebugEnabled()) {\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c34c4d80c69e8d594a819edff7924de069ec342e"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTM3NTA3Mw==", "bodyText": "Suggested change", "url": "https://github.com/openmrs/openmrs-core/pull/3400#discussion_r461375073", "createdAt": "2020-07-28T07:29:27Z", "author": {"login": "teleivo"}, "path": "api/src/main/java/org/openmrs/util/OpenmrsClassLoader.java", "diffHunk": "@@ -542,9 +542,9 @@ protected static void clearReferences() {\n \t\t\t\t\t\t\t\t\t}\n \t\t\t\t\t\t\t\t} else {\n \t\t\t\t\t\t\t\t\tfield.set(null, null);\n-\t\t\t\t\t\t\t\t\tif (log.isDebugEnabled()) {\n-\t\t\t\t\t\t\t\t\t\tlog.debug(\"Set field \" + field.getName() + \" to null in class \" + clazz.getName());\n-\t\t\t\t\t\t\t\t\t}\n+\t\t\t\t\t\t\t\t\t", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c34c4d80c69e8d594a819edff7924de069ec342e"}, "originalPosition": 20}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f8838e8b71202b7d673d4c6b240548694a897ef1", "author": {"user": {"login": "gracebish", "name": "Nakiguli Grace"}}, "url": "https://github.com/openmrs/openmrs-core/commit/f8838e8b71202b7d673d4c6b240548694a897ef1", "committedDate": "2020-07-28T08:11:07Z", "message": "TRUNK-5115-new: Replace use of conditional logging with slf4j parameterized messages"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU2NTU1MDI4", "url": "https://github.com/openmrs/openmrs-core/pull/3400#pullrequestreview-456555028", "createdAt": "2020-07-28T11:50:56Z", "commit": {"oid": "f8838e8b71202b7d673d4c6b240548694a897ef1"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQxMTo1MDo1NlrOG4I-kA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQxMTo1NDoxNFrOG4JEag==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTUyMDUyOA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\t\t\tfor (Map.Entry<Class, Object> entry : ServiceContextHolder.instance.services.entrySet()) {\n          \n          \n            \n            \t\t\tfor (Map.Entry<Class, Object> entry : ServiceContextHolder.instance.services.entrySet()) {", "url": "https://github.com/openmrs/openmrs-core/pull/3400#discussion_r461520528", "createdAt": "2020-07-28T11:50:56Z", "author": {"login": "teleivo"}, "path": "api/src/main/java/org/openmrs/api/context/ServiceContext.java", "diffHunk": "@@ -143,10 +143,8 @@ public static ServiceContext getInstance() {\n \t */\n \tpublic static void destroyInstance() {\n \t\tif (ServiceContextHolder.instance != null && ServiceContextHolder.instance.services != null) {\n-\t\t\tif (log.isDebugEnabled()) {\n \t\t\t\tfor (Map.Entry<Class, Object> entry : ServiceContextHolder.instance.services.entrySet()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f8838e8b71202b7d673d4c6b240548694a897ef1"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTUyMjAyNg==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\t\t\t\tlog.debug(\"Service - {} : {}\", entry.getKey().getName(), entry.getValue());\n          \n          \n            \n            \t\t\t\tlog.debug(\"Service - {} : {}\", entry.getKey().getName(), entry.getValue());\n          \n      \n    \n    \n  \n\nthe log.debug is inside the for loop, so we need to make sure the indentation is right. otherwise its hard to read. so it should stay as\nfor () {\n    log.debug()\n}\nplease use tabs (writing this on my phone where I don't know how to insert tabs :)", "url": "https://github.com/openmrs/openmrs-core/pull/3400#discussion_r461522026", "createdAt": "2020-07-28T11:54:14Z", "author": {"login": "teleivo"}, "path": "api/src/main/java/org/openmrs/api/context/ServiceContext.java", "diffHunk": "@@ -143,10 +143,8 @@ public static ServiceContext getInstance() {\n \t */\n \tpublic static void destroyInstance() {\n \t\tif (ServiceContextHolder.instance != null && ServiceContextHolder.instance.services != null) {\n-\t\t\tif (log.isDebugEnabled()) {\n \t\t\t\tfor (Map.Entry<Class, Object> entry : ServiceContextHolder.instance.services.entrySet()) {\n-\t\t\t\t\tlog.debug(\"Service - \" + entry.getKey().getName() + \":\" + entry.getValue());\n-\t\t\t\t}\n+\t\t\t\t\tlog.debug(\"Service - {} : {}\", entry.getKey().getName(), entry.getValue());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f8838e8b71202b7d673d4c6b240548694a897ef1"}, "originalPosition": 27}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bcab74d7e2efd6651ee3e5f869af24c62d9115a0", "author": {"user": {"login": "gracebish", "name": "Nakiguli Grace"}}, "url": "https://github.com/openmrs/openmrs-core/commit/bcab74d7e2efd6651ee3e5f869af24c62d9115a0", "committedDate": "2020-07-28T14:39:50Z", "message": "TRUNK-5115-new: Replace use of conditional logging with slf4j parameterized messages"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU2OTEyOTI4", "url": "https://github.com/openmrs/openmrs-core/pull/3400#pullrequestreview-456912928", "createdAt": "2020-07-28T18:48:41Z", "commit": {"oid": "bcab74d7e2efd6651ee3e5f869af24c62d9115a0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4583, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}