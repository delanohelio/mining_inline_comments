{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg0ODA2NTUw", "number": 1729, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMVQxMToxNDo1MVrOEigJAA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMVQxMToxNDo1MVrOEigJAA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA0NjEzNjMyOnYy", "diffSide": "RIGHT", "path": "sentinel-adapter/sentinel-api-gateway-adapter-common/src/main/java/com/alibaba/csp/sentinel/adapter/gateway/common/rule/GatewayRuleManager.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMVQxMToxNDo1MVrOHQau6w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMVQxMToxNTowOFrOHQavlg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Njk3NzI1OQ==", "bodyText": "[INFO] --- maven-pmd-plugin:3.8:check (default) @ sentinel-api-gateway-adapter-common ---\n[INFO] PMD Failure: com.alibaba.csp.sentinel.adapter.gateway.common.rule.GatewayRuleManager$GatewayRulePropertyListener:232 Rule:NeedBraceRule Priority:1 if\u8bed\u53e5\u7f3a\u5c11\u5927\u62ec\u53f7.", "url": "https://github.com/alibaba/Sentinel/pull/1729#discussion_r486977259", "createdAt": "2020-09-11T11:14:51Z", "author": {"login": "sczyh30"}, "path": "sentinel-adapter/sentinel-api-gateway-adapter-common/src/main/java/com/alibaba/csp/sentinel/adapter/gateway/common/rule/GatewayRuleManager.java", "diffHunk": "@@ -227,7 +228,8 @@ private void applyToConvertedParamMap(Set<ParamFlowRule> paramFlowRules) {\n                 List<ParamFlowRule> oldRuleList = new ArrayList<>(entry.getValue());\n                 oldRuleList.removeAll(newRuleList);\n                 for (ParamFlowRule rule : oldRuleList) {\n-                    ParameterMetricStorage.getParamMetricForResource(resource).clearForRule(rule);\n+                    ParameterMetric metric = ParameterMetricStorage.getParamMetricForResource(resource);\n+                    if(null != metric) metric.clearForRule(rule);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b99e53b9ffde44a18d6373710a83f25f45757959"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Njk3NzQzMA==", "bodyText": "And you'll need to reformat your code.", "url": "https://github.com/alibaba/Sentinel/pull/1729#discussion_r486977430", "createdAt": "2020-09-11T11:15:08Z", "author": {"login": "sczyh30"}, "path": "sentinel-adapter/sentinel-api-gateway-adapter-common/src/main/java/com/alibaba/csp/sentinel/adapter/gateway/common/rule/GatewayRuleManager.java", "diffHunk": "@@ -227,7 +228,8 @@ private void applyToConvertedParamMap(Set<ParamFlowRule> paramFlowRules) {\n                 List<ParamFlowRule> oldRuleList = new ArrayList<>(entry.getValue());\n                 oldRuleList.removeAll(newRuleList);\n                 for (ParamFlowRule rule : oldRuleList) {\n-                    ParameterMetricStorage.getParamMetricForResource(resource).clearForRule(rule);\n+                    ParameterMetric metric = ParameterMetricStorage.getParamMetricForResource(resource);\n+                    if(null != metric) metric.clearForRule(rule);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Njk3NzI1OQ=="}, "originalCommit": {"oid": "b99e53b9ffde44a18d6373710a83f25f45757959"}, "originalPosition": 14}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4114, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}