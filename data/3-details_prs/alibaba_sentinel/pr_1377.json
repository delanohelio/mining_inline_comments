{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk3NjUyNzM4", "number": 1377, "title": "Force  api to fail if an incompitible fastjson found", "bodyText": "Describe what this PR does / why we need it\nBecause structure in json format cannot be decoded correctly with fastjson-1.2.11 or earlier we will initiate an error message if we found that.\nDoes this pull request fix one issue?\nSo many include the proposal #736", "createdAt": "2020-04-02T15:30:32Z", "url": "https://github.com/alibaba/Sentinel/pull/1377", "merged": true, "mergeCommit": {"oid": "49e60a3e51619937b22e41566272d2b35064fb15"}, "closed": true, "closedAt": "2020-04-03T07:32:43Z", "author": {"login": "jasonjoo2010"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcTt_ZWgH2gAyMzk3NjUyNzM4Ojg1Nzc1OWY4YWEwNjc1ZmZkOTBjODgxY2Q5NTIxM2QxNWI4NTFhM2U=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcT7yHfgFqTM4Njk5ODc2NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "857759f8aa0675ffd90c881cd95213d15b851a3e", "author": {"user": {"login": "jasonjoo2010", "name": "Jason Joo"}}, "url": "https://github.com/alibaba/Sentinel/commit/857759f8aa0675ffd90c881cd95213d15b851a3e", "committedDate": "2020-04-02T15:25:37Z", "message": "Force  api to fail if an incompitible fastjson found"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg2NTgxNTk2", "url": "https://github.com/alibaba/Sentinel/pull/1377#pullrequestreview-386581596", "createdAt": "2020-04-02T16:12:40Z", "commit": {"oid": "857759f8aa0675ffd90c881cd95213d15b851a3e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMlQxNjoxMjo0MFrOF_ywfQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMlQxNjoxMjo0MFrOF_ywfQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjQzNjIyMQ==", "bodyText": "I found that fastjson has versions like 1.2.60.sec09\nhttps://mvnrepository.com/artifact/com.alibaba/fastjson\nDo we need to handle with that...", "url": "https://github.com/alibaba/Sentinel/pull/1377#discussion_r402436221", "createdAt": "2020-04-02T16:12:40Z", "author": {"login": "cdfive"}, "path": "sentinel-core/src/test/java/com/alibaba/csp/sentinel/util/VersionUtilTest.java", "diffHunk": "@@ -27,4 +29,19 @@ public void testGetDefaultVersion() {\n         // Manifest cannot be load before package.\n         Assert.assertEquals(defaultVersion, version);\n     }\n+    \n+    @Test\n+    public void testFromVersionString() {\n+        assertEquals(0x01020300, VersionUtil.fromVersionString(\"1.2.3\"));\n+        assertEquals(0x01020304, VersionUtil.fromVersionString(\"1.2.3.4\"));\n+        assertEquals(0x0102ff04, VersionUtil.fromVersionString(\"1.2.255.4\"));\n+        assertEquals(0xffffffff, VersionUtil.fromVersionString(\"255.255.255.255\"));\n+        assertEquals(0, VersionUtil.fromVersionString(\"1.255.256.0\"));\n+        assertEquals(0, VersionUtil.fromVersionString(\"1.2.\"));\n+        assertEquals(0x01000000, VersionUtil.fromVersionString(\"1\"));\n+        assertEquals(0x01020000, VersionUtil.fromVersionString(\"1.2\"));\n+        assertEquals(0, VersionUtil.fromVersionString(\"test\"));\n+        assertEquals(0, VersionUtil.fromVersionString(\"1.2.3-\"));\n+        assertEquals(0, VersionUtil.fromVersionString(\"1.2.3b\"));\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "857759f8aa0675ffd90c881cd95213d15b851a3e"}, "originalPosition": 27}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "00a4178ad2aad0dcdad71f72029036895f034992", "author": {"user": {"login": "jasonjoo2010", "name": "Jason Joo"}}, "url": "https://github.com/alibaba/Sentinel/commit/00a4178ad2aad0dcdad71f72029036895f034992", "committedDate": "2020-04-02T17:01:06Z", "message": "compatible for custom version number"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1efacb2c566a79c446c64be97e41e7683c73719d", "author": {"user": {"login": "jasonjoo2010", "name": "Jason Joo"}}, "url": "https://github.com/alibaba/Sentinel/commit/1efacb2c566a79c446c64be97e41e7683c73719d", "committedDate": "2020-04-02T17:06:25Z", "message": "fix the minimal version"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg2ODgwODY1", "url": "https://github.com/alibaba/Sentinel/pull/1377#pullrequestreview-386880865", "createdAt": "2020-04-03T01:21:12Z", "commit": {"oid": "1efacb2c566a79c446c64be97e41e7683c73719d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg2OTk4NzY0", "url": "https://github.com/alibaba/Sentinel/pull/1377#pullrequestreview-386998764", "createdAt": "2020-04-03T07:29:47Z", "commit": {"oid": "1efacb2c566a79c446c64be97e41e7683c73719d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3903, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}