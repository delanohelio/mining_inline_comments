{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIyMjY3NTk4", "number": 1501, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNFQxMDoyNDo0N1rOD_MAAw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNVQwMzoyNzo1NVrOD_QKmQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY3NTgzNDkxOnYy", "diffSide": "RIGHT", "path": "sentinel-core/src/test/java/com/alibaba/csp/sentinel/util/function/Tuple2Test.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNFQxMDoyNDo0N1rOGZuA4Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNFQxMzowOTo0NFrOGZu15A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTYyMTQ3Mw==", "bodyText": "Could you please add the license header here?", "url": "https://github.com/alibaba/Sentinel/pull/1501#discussion_r429621473", "createdAt": "2020-05-24T10:24:47Z", "author": {"login": "sczyh30"}, "path": "sentinel-core/src/test/java/com/alibaba/csp/sentinel/util/function/Tuple2Test.java", "diffHunk": "@@ -0,0 +1,14 @@\n+package com.alibaba.csp.sentinel.util.function;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "eef3d7ef6e14e62b018ab58a0586be1143def088"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTYzNTA0NA==", "bodyText": "done", "url": "https://github.com/alibaba/Sentinel/pull/1501#discussion_r429635044", "createdAt": "2020-05-24T13:09:44Z", "author": {"login": "yunfeiyanggzq"}, "path": "sentinel-core/src/test/java/com/alibaba/csp/sentinel/util/function/Tuple2Test.java", "diffHunk": "@@ -0,0 +1,14 @@\n+package com.alibaba.csp.sentinel.util.function;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTYyMTQ3Mw=="}, "originalCommit": {"oid": "eef3d7ef6e14e62b018ab58a0586be1143def088"}, "originalPosition": 1}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY3NTgzNTY4OnYy", "diffSide": "RIGHT", "path": "sentinel-core/src/test/java/com/alibaba/csp/sentinel/util/function/Tuple2Test.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNFQxMDoyNTo0MFrOGZuBOw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNFQxMzowOTo1MFrOGZu19A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTYyMTU2Mw==", "bodyText": "Maybe it's better to compare the r1/r2 value directly?", "url": "https://github.com/alibaba/Sentinel/pull/1501#discussion_r429621563", "createdAt": "2020-05-24T10:25:40Z", "author": {"login": "sczyh30"}, "path": "sentinel-core/src/test/java/com/alibaba/csp/sentinel/util/function/Tuple2Test.java", "diffHunk": "@@ -0,0 +1,14 @@\n+package com.alibaba.csp.sentinel.util.function;\n+\n+import org.junit.Assert;\n+import org.junit.Test;\n+\n+public class Tuple2Test {\n+\n+    @Test\n+    public void testSwap() {\n+        Tuple2<Integer, Integer> tupleOld = new Tuple2(1, 2);\n+        Tuple2<Integer, Integer> tupleNew = tupleOld.swap();\n+        Assert.assertEquals(\"Tuple2{r1=2, r2=1}\", tupleNew.toString());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "eef3d7ef6e14e62b018ab58a0586be1143def088"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTYzNTA2MA==", "bodyText": "done", "url": "https://github.com/alibaba/Sentinel/pull/1501#discussion_r429635060", "createdAt": "2020-05-24T13:09:50Z", "author": {"login": "yunfeiyanggzq"}, "path": "sentinel-core/src/test/java/com/alibaba/csp/sentinel/util/function/Tuple2Test.java", "diffHunk": "@@ -0,0 +1,14 @@\n+package com.alibaba.csp.sentinel.util.function;\n+\n+import org.junit.Assert;\n+import org.junit.Test;\n+\n+public class Tuple2Test {\n+\n+    @Test\n+    public void testSwap() {\n+        Tuple2<Integer, Integer> tupleOld = new Tuple2(1, 2);\n+        Tuple2<Integer, Integer> tupleNew = tupleOld.swap();\n+        Assert.assertEquals(\"Tuple2{r1=2, r2=1}\", tupleNew.toString());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTYyMTU2Mw=="}, "originalCommit": {"oid": "eef3d7ef6e14e62b018ab58a0586be1143def088"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY3NjQyMzY4OnYy", "diffSide": "RIGHT", "path": "sentinel-core/src/main/java/com/alibaba/csp/sentinel/util/function/Tuple2.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNVQwMTo1NDo0NlrOGZy-Yw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNVQwMjoyMTowMlrOGZzO0A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTcwMjc1NQ==", "bodyText": "The hashCode method should be provided as well.", "url": "https://github.com/alibaba/Sentinel/pull/1501#discussion_r429702755", "createdAt": "2020-05-25T01:54:46Z", "author": {"login": "sczyh30"}, "path": "sentinel-core/src/main/java/com/alibaba/csp/sentinel/util/function/Tuple2.java", "diffHunk": "@@ -31,11 +31,24 @@ public Tuple2(R1 r1, R2 r2) {\n         return new Tuple2<R2, R1>(this.r2, this.r1);\n     }\n \n+    @Override\n+    public boolean equals(Object o) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2b781ef6a6187d4b00b9cb2085809aeb4b144f55"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTcwNjk2MA==", "bodyText": "Thanks for your help,done", "url": "https://github.com/alibaba/Sentinel/pull/1501#discussion_r429706960", "createdAt": "2020-05-25T02:21:02Z", "author": {"login": "yunfeiyanggzq"}, "path": "sentinel-core/src/main/java/com/alibaba/csp/sentinel/util/function/Tuple2.java", "diffHunk": "@@ -31,11 +31,24 @@ public Tuple2(R1 r1, R2 r2) {\n         return new Tuple2<R2, R1>(this.r2, this.r1);\n     }\n \n+    @Override\n+    public boolean equals(Object o) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTcwMjc1NQ=="}, "originalCommit": {"oid": "2b781ef6a6187d4b00b9cb2085809aeb4b144f55"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY3NjUxNzM3OnYy", "diffSide": "RIGHT", "path": "sentinel-core/src/main/java/com/alibaba/csp/sentinel/util/function/Tuple2.java", "isResolved": false, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNVQwMzoyNzo1NVrOGZz3nQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNVQwNTo0Mzo0MlrOGZ1Qew==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTcxNzQwNQ==", "bodyText": "It might be better to use Objects.equals(a, b) here, as r1 and r2 might be null (refer the template in IDEA).", "url": "https://github.com/alibaba/Sentinel/pull/1501#discussion_r429717405", "createdAt": "2020-05-25T03:27:55Z", "author": {"login": "sczyh30"}, "path": "sentinel-core/src/main/java/com/alibaba/csp/sentinel/util/function/Tuple2.java", "diffHunk": "@@ -31,11 +31,31 @@ public Tuple2(R1 r1, R2 r2) {\n         return new Tuple2<R2, R1>(this.r2, this.r1);\n     }\n \n+    @Override\n+    public boolean equals(Object o) {\n+        if (this == o) {\n+            return true;\n+        }\n+        if (!(o instanceof Tuple2)) {\n+            return false;\n+        }\n+        Tuple2 tuple2 = (Tuple2) o;\n+\n+        return this.r1.equals(tuple2.r1) && this.r2.equals(tuple2.r2);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7c67f43743a1a21ee2076f877c7e3b5f9b141920"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTcxOTg4OA==", "bodyText": "done !  you are right,I find some equals() functions  in sentinel  exist the  same problems like my code", "url": "https://github.com/alibaba/Sentinel/pull/1501#discussion_r429719888", "createdAt": "2020-05-25T03:43:59Z", "author": {"login": "yunfeiyanggzq"}, "path": "sentinel-core/src/main/java/com/alibaba/csp/sentinel/util/function/Tuple2.java", "diffHunk": "@@ -31,11 +31,31 @@ public Tuple2(R1 r1, R2 r2) {\n         return new Tuple2<R2, R1>(this.r2, this.r1);\n     }\n \n+    @Override\n+    public boolean equals(Object o) {\n+        if (this == o) {\n+            return true;\n+        }\n+        if (!(o instanceof Tuple2)) {\n+            return false;\n+        }\n+        Tuple2 tuple2 = (Tuple2) o;\n+\n+        return this.r1.equals(tuple2.r1) && this.r2.equals(tuple2.r2);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTcxNzQwNQ=="}, "originalCommit": {"oid": "7c67f43743a1a21ee2076f877c7e3b5f9b141920"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTcyMDEyMA==", "bodyText": "thank you very much for your help!!", "url": "https://github.com/alibaba/Sentinel/pull/1501#discussion_r429720120", "createdAt": "2020-05-25T03:45:13Z", "author": {"login": "yunfeiyanggzq"}, "path": "sentinel-core/src/main/java/com/alibaba/csp/sentinel/util/function/Tuple2.java", "diffHunk": "@@ -31,11 +31,31 @@ public Tuple2(R1 r1, R2 r2) {\n         return new Tuple2<R2, R1>(this.r2, this.r1);\n     }\n \n+    @Override\n+    public boolean equals(Object o) {\n+        if (this == o) {\n+            return true;\n+        }\n+        if (!(o instanceof Tuple2)) {\n+            return false;\n+        }\n+        Tuple2 tuple2 = (Tuple2) o;\n+\n+        return this.r1.equals(tuple2.r1) && this.r2.equals(tuple2.r2);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTcxNzQwNQ=="}, "originalCommit": {"oid": "7c67f43743a1a21ee2076f877c7e3b5f9b141920"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTc0MDE1NQ==", "bodyText": "done! you are right, I find some equals() functions in sentinel exist the same problems like my code\n\nFeel free to submit PRs to fix it :)", "url": "https://github.com/alibaba/Sentinel/pull/1501#discussion_r429740155", "createdAt": "2020-05-25T05:43:42Z", "author": {"login": "sczyh30"}, "path": "sentinel-core/src/main/java/com/alibaba/csp/sentinel/util/function/Tuple2.java", "diffHunk": "@@ -31,11 +31,31 @@ public Tuple2(R1 r1, R2 r2) {\n         return new Tuple2<R2, R1>(this.r2, this.r1);\n     }\n \n+    @Override\n+    public boolean equals(Object o) {\n+        if (this == o) {\n+            return true;\n+        }\n+        if (!(o instanceof Tuple2)) {\n+            return false;\n+        }\n+        Tuple2 tuple2 = (Tuple2) o;\n+\n+        return this.r1.equals(tuple2.r1) && this.r2.equals(tuple2.r2);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTcxNzQwNQ=="}, "originalCommit": {"oid": "7c67f43743a1a21ee2076f877c7e3b5f9b141920"}, "originalPosition": 14}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4179, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}