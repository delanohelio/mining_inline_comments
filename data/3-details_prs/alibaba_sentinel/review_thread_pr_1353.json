{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkxOTUxNTU1", "number": 1353, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yM1QwNjoxMToyNlrODqPsYA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yM1QwNjoxMToyNlrODqPsYA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ1NjIzOTA0OnYy", "diffSide": "RIGHT", "path": "sentinel-adapter/sentinel-spring-webmvc-adapter/src/main/java/com/alibaba/csp/sentinel/adapter/spring/webmvc/AbstractSentinelInterceptor.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yM1QwNjoxMToyNlrOF538Gg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yM1QwNzoyNjoyM1rOF55R8Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NjIyOTY1OA==", "bodyText": "Maybe a try-catch here is better? Users may need the context in the block handler.", "url": "https://github.com/alibaba/Sentinel/pull/1353#discussion_r396229658", "createdAt": "2020-03-23T06:11:26Z", "author": {"login": "sczyh30"}, "path": "sentinel-adapter/sentinel-spring-webmvc-adapter/src/main/java/com/alibaba/csp/sentinel/adapter/spring/webmvc/AbstractSentinelInterceptor.java", "diffHunk": "@@ -67,6 +67,7 @@ public boolean preHandle(HttpServletRequest request, HttpServletResponse respons\n             }\n             return true;\n         } catch (BlockException e) {\n+            ContextUtil.exit();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "65ff6761162a6473a8cede311c1a2216f469be66"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NjI1MTYzMw==", "bodyText": "Good idea, change to try-finally, which makes same effect as catch the Exeception of handleBlockException method and rethrow it, and it's suitable and concise here, please check.", "url": "https://github.com/alibaba/Sentinel/pull/1353#discussion_r396251633", "createdAt": "2020-03-23T07:26:23Z", "author": {"login": "cdfive"}, "path": "sentinel-adapter/sentinel-spring-webmvc-adapter/src/main/java/com/alibaba/csp/sentinel/adapter/spring/webmvc/AbstractSentinelInterceptor.java", "diffHunk": "@@ -67,6 +67,7 @@ public boolean preHandle(HttpServletRequest request, HttpServletResponse respons\n             }\n             return true;\n         } catch (BlockException e) {\n+            ContextUtil.exit();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NjIyOTY1OA=="}, "originalCommit": {"oid": "65ff6761162a6473a8cede311c1a2216f469be66"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4141, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}