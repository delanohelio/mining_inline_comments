{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg4MzE3MzE2", "number": 1338, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNFQxNTo1Njo1NlrODoD6rA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNFQxNjowMTozNFrODoD7ow==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQzMzMzODA0OnYy", "diffSide": "RIGHT", "path": "sentinel-core/src/main/java/com/alibaba/csp/sentinel/log/RecordLog.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNFQxNTo1Njo1NlrOF2aT1A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNVQwMTo0OTowMlrOF2ceKQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjU5ODQ4NA==", "bodyText": "The name of final variables are not consistent with CommandCenterLog class, as they are in context of RecordLog, maybe the same as RecordLog's LOGGER_NAME\u3001DEFAULT_LOG_FILENAME is better? Seems DEFAULT_LOG_FILENAME can be LOG_FILENAME.", "url": "https://github.com/alibaba/Sentinel/pull/1338#discussion_r392598484", "createdAt": "2020-03-14T15:56:56Z", "author": {"login": "cdfive"}, "path": "sentinel-core/src/main/java/com/alibaba/csp/sentinel/log/RecordLog.java", "diffHunk": "@@ -15,80 +15,74 @@\n  */\n package com.alibaba.csp.sentinel.log;\n \n-import java.util.Iterator;\n-import java.util.ServiceLoader;\n+import com.alibaba.csp.sentinel.log.jul.JavaLoggingAdapter;\n \n-/***\n- * The basic logger for vital events.\n+/**\n+ * The basic biz logger of Sentinel.\n  *\n  * @author youji.zj\n+ * @author Eric Zhao\n  */\n-public class RecordLog extends LogBase {\n-    private static com.alibaba.csp.sentinel.log.Logger log = null;\n+public class RecordLog {\n+\n+    public static final String RECORD_LOGGER_NAME = \"sentinelRecordLogger\";\n+    public static final String DEFAULT_RECORD_LOG_FILENAME = \"sentinel-record.log\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "11eebccb3f310bf5ac76574644aac9c6db95b56b"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjYzMzg5Nw==", "bodyText": "Good idea. I've polished the code, please check.", "url": "https://github.com/alibaba/Sentinel/pull/1338#discussion_r392633897", "createdAt": "2020-03-15T01:49:02Z", "author": {"login": "sczyh30"}, "path": "sentinel-core/src/main/java/com/alibaba/csp/sentinel/log/RecordLog.java", "diffHunk": "@@ -15,80 +15,74 @@\n  */\n package com.alibaba.csp.sentinel.log;\n \n-import java.util.Iterator;\n-import java.util.ServiceLoader;\n+import com.alibaba.csp.sentinel.log.jul.JavaLoggingAdapter;\n \n-/***\n- * The basic logger for vital events.\n+/**\n+ * The basic biz logger of Sentinel.\n  *\n  * @author youji.zj\n+ * @author Eric Zhao\n  */\n-public class RecordLog extends LogBase {\n-    private static com.alibaba.csp.sentinel.log.Logger log = null;\n+public class RecordLog {\n+\n+    public static final String RECORD_LOGGER_NAME = \"sentinelRecordLogger\";\n+    public static final String DEFAULT_RECORD_LOG_FILENAME = \"sentinel-record.log\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjU5ODQ4NA=="}, "originalCommit": {"oid": "11eebccb3f310bf5ac76574644aac9c6db95b56b"}, "originalPosition": 21}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQzMzM0MDUxOnYy", "diffSide": "RIGHT", "path": "sentinel-demo/sentinel-demo-log-logback/pom.xml", "isResolved": false, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNFQxNjowMTozNFrOF2aVIg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQwMjowMDoxN1rOF2jqxA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjU5ODgxOA==", "bodyText": "The dependency seems not used in demo, is it redundant", "url": "https://github.com/alibaba/Sentinel/pull/1338#discussion_r392598818", "createdAt": "2020-03-14T16:01:34Z", "author": {"login": "cdfive"}, "path": "sentinel-demo/sentinel-demo-log-logback/pom.xml", "diffHunk": "@@ -12,12 +12,16 @@\n     <artifactId>sentinel-demo-log-logback</artifactId>\n \n     <dependencies>\n+        <dependency>\n+            <groupId>com.alibaba.csp</groupId>\n+            <artifactId>sentinel-transport-common</artifactId>\n+        </dependency>\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "11eebccb3f310bf5ac76574644aac9c6db95b56b"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjYzMzkxNw==", "bodyText": "Actually I'm planning to move the CommandCenterLog to sentinel-transport-common, as it's only used in transport command centers. This will be done in another PR, but the dependency could be reserved :)", "url": "https://github.com/alibaba/Sentinel/pull/1338#discussion_r392633917", "createdAt": "2020-03-15T01:50:14Z", "author": {"login": "sczyh30"}, "path": "sentinel-demo/sentinel-demo-log-logback/pom.xml", "diffHunk": "@@ -12,12 +12,16 @@\n     <artifactId>sentinel-demo-log-logback</artifactId>\n \n     <dependencies>\n+        <dependency>\n+            <groupId>com.alibaba.csp</groupId>\n+            <artifactId>sentinel-transport-common</artifactId>\n+        </dependency>\n+", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjU5ODgxOA=="}, "originalCommit": {"oid": "11eebccb3f310bf5ac76574644aac9c6db95b56b"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjYzNTMyNg==", "bodyText": "OK, got it. Now LogBase is not a parent class, maybe another class name is better, like LogConfig or sth else. Besides, I found that the config parameter which can be customized by user is scattered in different classes(by global seaching \"csp.sentinel.\" in sentinel-core module), if it is better put them into one config class, to make config clearly and convenient to found. And this may need careful consideration and discussion, and I think we can do it in the future.", "url": "https://github.com/alibaba/Sentinel/pull/1338#discussion_r392635326", "createdAt": "2020-03-15T02:24:55Z", "author": {"login": "cdfive"}, "path": "sentinel-demo/sentinel-demo-log-logback/pom.xml", "diffHunk": "@@ -12,12 +12,16 @@\n     <artifactId>sentinel-demo-log-logback</artifactId>\n \n     <dependencies>\n+        <dependency>\n+            <groupId>com.alibaba.csp</groupId>\n+            <artifactId>sentinel-transport-common</artifactId>\n+        </dependency>\n+", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjU5ODgxOA=="}, "originalCommit": {"oid": "11eebccb3f310bf5ac76574644aac9c6db95b56b"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mjc1MTgxMg==", "bodyText": "Good idea. We may improve this later, but be careful of the compatibility. We could create an umbrella issue to discuss it :)", "url": "https://github.com/alibaba/Sentinel/pull/1338#discussion_r392751812", "createdAt": "2020-03-16T02:00:17Z", "author": {"login": "sczyh30"}, "path": "sentinel-demo/sentinel-demo-log-logback/pom.xml", "diffHunk": "@@ -12,12 +12,16 @@\n     <artifactId>sentinel-demo-log-logback</artifactId>\n \n     <dependencies>\n+        <dependency>\n+            <groupId>com.alibaba.csp</groupId>\n+            <artifactId>sentinel-transport-common</artifactId>\n+        </dependency>\n+", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjU5ODgxOA=="}, "originalCommit": {"oid": "11eebccb3f310bf5ac76574644aac9c6db95b56b"}, "originalPosition": 8}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4250, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}