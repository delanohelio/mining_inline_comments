{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkwMjkxNDEz", "number": 1344, "title": "Add SLF4J extension", "bodyText": "Describe what this PR does / why we need it\n#1339\nDoes this pull request fix one issue?\n\nNONE\nDescribe how you did it\nSPI. Refer to  the sample.\nDescribe how to verify it\nrun test. But you should run a test one by one because of  the problem\nSpecial notes for reviews", "createdAt": "2020-03-18T08:29:09Z", "url": "https://github.com/alibaba/Sentinel/pull/1344", "merged": true, "mergeCommit": {"oid": "1eee2c80b42d72beaf06c9d0e3edc2f16d844c29"}, "closed": true, "closedAt": "2020-03-23T06:30:50Z", "author": {"login": "wavesZh"}, "timelineItems": {"totalCount": 15, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABaOCCoaAH2gAyMzkwMjkxNDEzOmZmNGU3ZDU4YzhmZjFhYThhODQ2OGY0NTJmY2ZlNWQzMTk0YzZlMTU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcQYIK7gFqTM3OTE1NDEzMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "ff4e7d58c8ff1aa8a8468f452fcfe5d3194c6e15", "author": {"user": {"login": "wavesZh", "name": null}}, "url": "https://github.com/alibaba/Sentinel/commit/ff4e7d58c8ff1aa8a8468f452fcfe5d3194c6e15", "committedDate": "2019-02-12T07:01:24Z", "message": "Merge pull request #1 from alibaba/master\n\nupdate"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1a3510fc332b27b95e233b949d4cee62730628c1", "author": {"user": {"login": "wavesZh", "name": null}}, "url": "https://github.com/alibaba/Sentinel/commit/1a3510fc332b27b95e233b949d4cee62730628c1", "committedDate": "2019-04-20T02:32:32Z", "message": "Merge branch 'master' of github.com:wavesZh/Sentinel"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "380fd936c46d492fbcc12d231bf2cbb18d0e4fd5", "author": {"user": {"login": "wavesZh", "name": null}}, "url": "https://github.com/alibaba/Sentinel/commit/380fd936c46d492fbcc12d231bf2cbb18d0e4fd5", "committedDate": "2019-08-08T13:55:32Z", "message": "Merge remote-tracking branch 'upstream/master'"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f451f4f4a315caa413037ed32957e6726afa32c0", "author": {"user": {"login": "wavesZh", "name": null}}, "url": "https://github.com/alibaba/Sentinel/commit/f451f4f4a315caa413037ed32957e6726afa32c0", "committedDate": "2019-08-14T02:47:20Z", "message": "Merge remote-tracking branch 'upstream/master'"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "41201d09aceed2f69c410ccb41cb990c1e03314b", "author": {"user": {"login": "wavesZh", "name": null}}, "url": "https://github.com/alibaba/Sentinel/commit/41201d09aceed2f69c410ccb41cb990c1e03314b", "committedDate": "2019-08-15T06:13:22Z", "message": "Merge remote-tracking branch 'upstream/master'"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "77fb92268857142ef453bb3ac26115672519ceda", "author": {"user": {"login": "wavesZh", "name": null}}, "url": "https://github.com/alibaba/Sentinel/commit/77fb92268857142ef453bb3ac26115672519ceda", "committedDate": "2019-09-20T01:35:43Z", "message": "Merge remote-tracking branch 'upstream/master'"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6e176f93809bd2cfdd53d27fb92d8aeaedd9295c", "author": {"user": {"login": "wavesZh", "name": null}}, "url": "https://github.com/alibaba/Sentinel/commit/6e176f93809bd2cfdd53d27fb92d8aeaedd9295c", "committedDate": "2020-03-06T10:26:28Z", "message": "Merge branch 'master' of github.com:wavesZh/Sentinel"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "57fc6d0d6e40c6c10842d51e55959146cee2e08a", "author": {"user": {"login": "wavesZh", "name": null}}, "url": "https://github.com/alibaba/Sentinel/commit/57fc6d0d6e40c6c10842d51e55959146cee2e08a", "committedDate": "2020-03-16T06:36:21Z", "message": "Merge remote-tracking branch 'upstream/master'"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "761ce348ae9ef910b4a85fedb0668b767934763d", "author": {"user": {"login": "wavesZh", "name": null}}, "url": "https://github.com/alibaba/Sentinel/commit/761ce348ae9ef910b4a85fedb0668b767934763d", "committedDate": "2020-03-17T02:11:31Z", "message": "Merge remote-tracking branch 'upstream/master'"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "331359c72416a4ea11dbb4bc15834238364eb582", "author": {"user": {"login": "wavesZh", "name": null}}, "url": "https://github.com/alibaba/Sentinel/commit/331359c72416a4ea11dbb4bc15834238364eb582", "committedDate": "2020-03-18T08:21:07Z", "message": "add logging extension for SLF4J"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0d9c07cd4612bd650074836169b2c179a02e72bc", "author": {"user": {"login": "wavesZh", "name": null}}, "url": "https://github.com/alibaba/Sentinel/commit/0d9c07cd4612bd650074836169b2c179a02e72bc", "committedDate": "2020-03-18T08:22:03Z", "message": "Merge remote-tracking branch 'upstream/master' into slf4j-extension"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc2NjU4NDg1", "url": "https://github.com/alibaba/Sentinel/pull/1344#pullrequestreview-376658485", "createdAt": "2020-03-18T08:43:29Z", "commit": {"oid": "0d9c07cd4612bd650074836169b2c179a02e72bc"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOFQwODo0MzoyOVrOF37A7g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOFQwODo0MzoyOVrOF37A7g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDE4Mjg5NA==", "bodyText": "Could you please add the license header?", "url": "https://github.com/alibaba/Sentinel/pull/1344#discussion_r394182894", "createdAt": "2020-03-18T08:43:29Z", "author": {"login": "sczyh30"}, "path": "sentinel-extension/sentinel-logging-extension-slf4j/src/main/java/com/alibaba/csp/sentinel/logging/slf4j/CommandCenterLogLogger.java", "diffHunk": "@@ -0,0 +1,66 @@\n+package com.alibaba.csp.sentinel.logging.slf4j;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0d9c07cd4612bd650074836169b2c179a02e72bc"}, "originalPosition": 1}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6936d7c4803aa6f1a5cf0e59bdff366746cb4fb1", "author": {"user": {"login": "wavesZh", "name": null}}, "url": "https://github.com/alibaba/Sentinel/commit/6936d7c4803aa6f1a5cf0e59bdff366746cb4fb1", "committedDate": "2020-03-18T09:21:05Z", "message": "add license header"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc2NzA4MzY3", "url": "https://github.com/alibaba/Sentinel/pull/1344#pullrequestreview-376708367", "createdAt": "2020-03-18T09:52:06Z", "commit": {"oid": "6936d7c4803aa6f1a5cf0e59bdff366746cb4fb1"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOFQwOTo1MjowNlrOF39cDQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOFQwOTo1OTo1NVrOF39vhA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDIyMjYwNQ==", "bodyText": "Maybe we can just call it sentinel-logging-slf4j for short.\nAnd is it necessary to create a new module in the same level as sentinel-extension called sentinel-logging? Thus some common logic can be put into a package like sentinel-logging-common maybe. Just a proposal and @sczyh30  you can comment it here.", "url": "https://github.com/alibaba/Sentinel/pull/1344#discussion_r394222605", "createdAt": "2020-03-18T09:52:06Z", "author": {"login": "jasonjoo2010"}, "path": "sentinel-extension/pom.xml", "diffHunk": "@@ -22,6 +22,7 @@\n         <module>sentinel-datasource-spring-cloud-config</module>\n         <module>sentinel-datasource-consul</module>\n         <module>sentinel-datasource-etcd</module>\n+        <module>sentinel-logging-extension-slf4j</module>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6936d7c4803aa6f1a5cf0e59bdff366746cb4fb1"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDIyNDY4MA==", "bodyText": "Coming to the usage we may not force user to introduce both of them because:\n\nUser should have already had a configured slf4j logging system and just want sentinel's logs merged into.\nThis module should depend on it obviously.", "url": "https://github.com/alibaba/Sentinel/pull/1344#discussion_r394224680", "createdAt": "2020-03-18T09:55:26Z", "author": {"login": "jasonjoo2010"}, "path": "sentinel-extension/sentinel-logging-extension-slf4j/README.md", "diffHunk": "@@ -0,0 +1,49 @@\n+# Sentinel Logging Extension SLF4J\n+\n+To use Sentinel Logging Extension SLF4J with Log4j2, you should add the following dependency firstly:\n+\n+```xml\n+<dependency>\n+    <groupId>com.alibaba.csp</groupId>\n+    <artifactId>sentinel-logging-extension-slf4j</artifactId>\n+    <version>x.y.z</version>\n+</dependency>\n+<dependency>\n+    <groupId>org.slf4j</groupId>\n+    <artifactId>slf4j-api</artifactId>\n+    <version>${slf4j.version}</version>\n+</dependency>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6936d7c4803aa6f1a5cf0e59bdff366746cb4fb1"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDIyNTUyNg==", "bodyText": "... and surely i am not sure whether we should provide some guidances on how to integrate slf4j over log4j2.", "url": "https://github.com/alibaba/Sentinel/pull/1344#discussion_r394225526", "createdAt": "2020-03-18T09:56:48Z", "author": {"login": "jasonjoo2010"}, "path": "sentinel-extension/sentinel-logging-extension-slf4j/README.md", "diffHunk": "@@ -0,0 +1,49 @@\n+# Sentinel Logging Extension SLF4J\n+\n+To use Sentinel Logging Extension SLF4J with Log4j2, you should add the following dependency firstly:\n+\n+```xml\n+<dependency>\n+    <groupId>com.alibaba.csp</groupId>\n+    <artifactId>sentinel-logging-extension-slf4j</artifactId>\n+    <version>x.y.z</version>\n+</dependency>\n+<dependency>\n+    <groupId>org.slf4j</groupId>\n+    <artifactId>slf4j-api</artifactId>\n+    <version>${slf4j.version}</version>\n+</dependency>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDIyNDY4MA=="}, "originalCommit": {"oid": "6936d7c4803aa6f1a5cf0e59bdff366746cb4fb1"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDIyNjY4MQ==", "bodyText": "Same reason as above we only do integration on slf4j-api but not slf4j over log4j2.", "url": "https://github.com/alibaba/Sentinel/pull/1344#discussion_r394226681", "createdAt": "2020-03-18T09:58:32Z", "author": {"login": "jasonjoo2010"}, "path": "sentinel-extension/sentinel-logging-extension-slf4j/pom.xml", "diffHunk": "@@ -0,0 +1,60 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n+         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+    <parent>\n+        <artifactId>sentinel-parent</artifactId>\n+        <groupId>com.alibaba.csp</groupId>\n+        <version>1.7.2-SNAPSHOT</version>\n+    </parent>\n+    <modelVersion>4.0.0</modelVersion>\n+\n+    <artifactId>sentinel-logging-extension-slf4j</artifactId>\n+    <packaging>jar</packaging>\n+\n+    <properties>\n+        <java.source.version>1.7</java.source.version>\n+        <java.target.version>1.7</java.target.version>\n+        <slf4j.version>1.7.25</slf4j.version>\n+        <log4j2.version>2.12.1</log4j2.version>\n+    </properties>\n+\n+    <dependencies>\n+        <dependency>\n+            <groupId>com.alibaba.csp</groupId>\n+            <artifactId>sentinel-transport-common</artifactId>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.slf4j</groupId>\n+            <artifactId>slf4j-api</artifactId>\n+            <version>${slf4j.version}</version>\n+            <scope>provided</scope>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.apache.logging.log4j</groupId>\n+            <artifactId>log4j-core</artifactId>\n+            <version>${log4j2.version}</version>\n+            <scope>test</scope>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.apache.logging.log4j</groupId>\n+            <artifactId>log4j-slf4j-impl</artifactId>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6936d7c4803aa6f1a5cf0e59bdff366746cb4fb1"}, "originalPosition": 41}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDIyNzU4OA==", "bodyText": "It should not exist", "url": "https://github.com/alibaba/Sentinel/pull/1344#discussion_r394227588", "createdAt": "2020-03-18T09:59:55Z", "author": {"login": "jasonjoo2010"}, "path": "sentinel-extension/sentinel-logging-extension-slf4j/src/test/resources/log4j2.xml", "diffHunk": "@@ -0,0 +1,25 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n+<Configuration>\n+    <Appenders>\n+        <Console name=\"Console\" target=\"SYSTEM_OUT\">\n+            <PatternLayout pattern=\"%-5level %logger - %msg%n\"/>\n+        </Console>\n+        <File name=\"FILE\" fileName=\"sentinel-record.log\" append=\"false\">\n+            <PatternLayout pattern=\"%-5level %logger - %msg%n\"/>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6936d7c4803aa6f1a5cf0e59bdff366746cb4fb1"}, "originalPosition": 8}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc5MTU0MTMy", "url": "https://github.com/alibaba/Sentinel/pull/1344#pullrequestreview-379154132", "createdAt": "2020-03-23T06:15:31Z", "commit": {"oid": "6936d7c4803aa6f1a5cf0e59bdff366746cb4fb1"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3892, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}