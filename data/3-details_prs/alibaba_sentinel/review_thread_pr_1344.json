{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkwMjkxNDEz", "number": 1344, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOFQwODo0MzoyOVrODpA-hg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOFQwOTo1OTo1NVrODpCpmg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ0MzM0MjE0OnYy", "diffSide": "RIGHT", "path": "sentinel-extension/sentinel-logging-extension-slf4j/src/main/java/com/alibaba/csp/sentinel/logging/slf4j/CommandCenterLogLogger.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOFQwODo0MzoyOVrOF37A7g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOFQwOToyMjoyNlrOF38WOw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDE4Mjg5NA==", "bodyText": "Could you please add the license header?", "url": "https://github.com/alibaba/Sentinel/pull/1344#discussion_r394182894", "createdAt": "2020-03-18T08:43:29Z", "author": {"login": "sczyh30"}, "path": "sentinel-extension/sentinel-logging-extension-slf4j/src/main/java/com/alibaba/csp/sentinel/logging/slf4j/CommandCenterLogLogger.java", "diffHunk": "@@ -0,0 +1,66 @@\n+package com.alibaba.csp.sentinel.logging.slf4j;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0d9c07cd4612bd650074836169b2c179a02e72bc"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDIwNDczMQ==", "bodyText": "added", "url": "https://github.com/alibaba/Sentinel/pull/1344#discussion_r394204731", "createdAt": "2020-03-18T09:22:26Z", "author": {"login": "wavesZh"}, "path": "sentinel-extension/sentinel-logging-extension-slf4j/src/main/java/com/alibaba/csp/sentinel/logging/slf4j/CommandCenterLogLogger.java", "diffHunk": "@@ -0,0 +1,66 @@\n+package com.alibaba.csp.sentinel.logging.slf4j;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDE4Mjg5NA=="}, "originalCommit": {"oid": "0d9c07cd4612bd650074836169b2c179a02e72bc"}, "originalPosition": 1}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ0MzU4NjM1OnYy", "diffSide": "RIGHT", "path": "sentinel-extension/pom.xml", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOFQwOTo1MjowNlrOF39cDQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOFQxMDo0ODozN1rOF3_fPA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDIyMjYwNQ==", "bodyText": "Maybe we can just call it sentinel-logging-slf4j for short.\nAnd is it necessary to create a new module in the same level as sentinel-extension called sentinel-logging? Thus some common logic can be put into a package like sentinel-logging-common maybe. Just a proposal and @sczyh30  you can comment it here.", "url": "https://github.com/alibaba/Sentinel/pull/1344#discussion_r394222605", "createdAt": "2020-03-18T09:52:06Z", "author": {"login": "jasonjoo2010"}, "path": "sentinel-extension/pom.xml", "diffHunk": "@@ -22,6 +22,7 @@\n         <module>sentinel-datasource-spring-cloud-config</module>\n         <module>sentinel-datasource-consul</module>\n         <module>sentinel-datasource-etcd</module>\n+        <module>sentinel-logging-extension-slf4j</module>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6936d7c4803aa6f1a5cf0e59bdff366746cb4fb1"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDI1MTIyMw==", "bodyText": "Good idea.", "url": "https://github.com/alibaba/Sentinel/pull/1344#discussion_r394251223", "createdAt": "2020-03-18T10:40:08Z", "author": {"login": "sczyh30"}, "path": "sentinel-extension/pom.xml", "diffHunk": "@@ -22,6 +22,7 @@\n         <module>sentinel-datasource-spring-cloud-config</module>\n         <module>sentinel-datasource-consul</module>\n         <module>sentinel-datasource-etcd</module>\n+        <module>sentinel-logging-extension-slf4j</module>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDIyMjYwNQ=="}, "originalCommit": {"oid": "6936d7c4803aa6f1a5cf0e59bdff366746cb4fb1"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDI1NjE4OA==", "bodyText": "Things change a lot.\nSo for summary the only undetermined point is:\n\nWhether we should create a new module for integrations of logging.\n\nComing to README.md my opinion is making it simple which is enough. But i am okay if you have different viewpoint.", "url": "https://github.com/alibaba/Sentinel/pull/1344#discussion_r394256188", "createdAt": "2020-03-18T10:48:37Z", "author": {"login": "jasonjoo2010"}, "path": "sentinel-extension/pom.xml", "diffHunk": "@@ -22,6 +22,7 @@\n         <module>sentinel-datasource-spring-cloud-config</module>\n         <module>sentinel-datasource-consul</module>\n         <module>sentinel-datasource-etcd</module>\n+        <module>sentinel-logging-extension-slf4j</module>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDIyMjYwNQ=="}, "originalCommit": {"oid": "6936d7c4803aa6f1a5cf0e59bdff366746cb4fb1"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ0MzU5OTA0OnYy", "diffSide": "RIGHT", "path": "sentinel-extension/sentinel-logging-extension-slf4j/README.md", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOFQwOTo1NToyNlrOF39kKA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOFQxMDo0NDoxN1rOF3_VzA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDIyNDY4MA==", "bodyText": "Coming to the usage we may not force user to introduce both of them because:\n\nUser should have already had a configured slf4j logging system and just want sentinel's logs merged into.\nThis module should depend on it obviously.", "url": "https://github.com/alibaba/Sentinel/pull/1344#discussion_r394224680", "createdAt": "2020-03-18T09:55:26Z", "author": {"login": "jasonjoo2010"}, "path": "sentinel-extension/sentinel-logging-extension-slf4j/README.md", "diffHunk": "@@ -0,0 +1,49 @@\n+# Sentinel Logging Extension SLF4J\n+\n+To use Sentinel Logging Extension SLF4J with Log4j2, you should add the following dependency firstly:\n+\n+```xml\n+<dependency>\n+    <groupId>com.alibaba.csp</groupId>\n+    <artifactId>sentinel-logging-extension-slf4j</artifactId>\n+    <version>x.y.z</version>\n+</dependency>\n+<dependency>\n+    <groupId>org.slf4j</groupId>\n+    <artifactId>slf4j-api</artifactId>\n+    <version>${slf4j.version}</version>\n+</dependency>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6936d7c4803aa6f1a5cf0e59bdff366746cb4fb1"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDIyNTUyNg==", "bodyText": "... and surely i am not sure whether we should provide some guidances on how to integrate slf4j over log4j2.", "url": "https://github.com/alibaba/Sentinel/pull/1344#discussion_r394225526", "createdAt": "2020-03-18T09:56:48Z", "author": {"login": "jasonjoo2010"}, "path": "sentinel-extension/sentinel-logging-extension-slf4j/README.md", "diffHunk": "@@ -0,0 +1,49 @@\n+# Sentinel Logging Extension SLF4J\n+\n+To use Sentinel Logging Extension SLF4J with Log4j2, you should add the following dependency firstly:\n+\n+```xml\n+<dependency>\n+    <groupId>com.alibaba.csp</groupId>\n+    <artifactId>sentinel-logging-extension-slf4j</artifactId>\n+    <version>x.y.z</version>\n+</dependency>\n+<dependency>\n+    <groupId>org.slf4j</groupId>\n+    <artifactId>slf4j-api</artifactId>\n+    <version>${slf4j.version}</version>\n+</dependency>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDIyNDY4MA=="}, "originalCommit": {"oid": "6936d7c4803aa6f1a5cf0e59bdff366746cb4fb1"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDI1Mzc3Mg==", "bodyText": "Coming to the usage we may not force user to introduce both of them because:\n\nUser should have already had a configured slf4j logging system and just want sentinel's logs merged into.\n\n\nI mark the slf4j dependence with socpe \"provided\" in pom.xml. The dependence should be providered by user\n\n... and surely i am not sure whether we should provide some guidances on how to integrate slf4j over log4j2.\n\nIn README.md i provider the loging's configuration just want to emphasize:\n\nAnd you can add Sentinel's Loggers that it name is sentinelRecordLogger or sentinelCommandCenterLogger for your needs", "url": "https://github.com/alibaba/Sentinel/pull/1344#discussion_r394253772", "createdAt": "2020-03-18T10:44:17Z", "author": {"login": "wavesZh"}, "path": "sentinel-extension/sentinel-logging-extension-slf4j/README.md", "diffHunk": "@@ -0,0 +1,49 @@\n+# Sentinel Logging Extension SLF4J\n+\n+To use Sentinel Logging Extension SLF4J with Log4j2, you should add the following dependency firstly:\n+\n+```xml\n+<dependency>\n+    <groupId>com.alibaba.csp</groupId>\n+    <artifactId>sentinel-logging-extension-slf4j</artifactId>\n+    <version>x.y.z</version>\n+</dependency>\n+<dependency>\n+    <groupId>org.slf4j</groupId>\n+    <artifactId>slf4j-api</artifactId>\n+    <version>${slf4j.version}</version>\n+</dependency>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDIyNDY4MA=="}, "originalCommit": {"oid": "6936d7c4803aa6f1a5cf0e59bdff366746cb4fb1"}, "originalPosition": 15}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ0MzYxMDgzOnYy", "diffSide": "RIGHT", "path": "sentinel-extension/sentinel-logging-extension-slf4j/pom.xml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOFQwOTo1ODozMlrOF39r-Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOFQwOTo1ODozMlrOF39r-Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDIyNjY4MQ==", "bodyText": "Same reason as above we only do integration on slf4j-api but not slf4j over log4j2.", "url": "https://github.com/alibaba/Sentinel/pull/1344#discussion_r394226681", "createdAt": "2020-03-18T09:58:32Z", "author": {"login": "jasonjoo2010"}, "path": "sentinel-extension/sentinel-logging-extension-slf4j/pom.xml", "diffHunk": "@@ -0,0 +1,60 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n+         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+    <parent>\n+        <artifactId>sentinel-parent</artifactId>\n+        <groupId>com.alibaba.csp</groupId>\n+        <version>1.7.2-SNAPSHOT</version>\n+    </parent>\n+    <modelVersion>4.0.0</modelVersion>\n+\n+    <artifactId>sentinel-logging-extension-slf4j</artifactId>\n+    <packaging>jar</packaging>\n+\n+    <properties>\n+        <java.source.version>1.7</java.source.version>\n+        <java.target.version>1.7</java.target.version>\n+        <slf4j.version>1.7.25</slf4j.version>\n+        <log4j2.version>2.12.1</log4j2.version>\n+    </properties>\n+\n+    <dependencies>\n+        <dependency>\n+            <groupId>com.alibaba.csp</groupId>\n+            <artifactId>sentinel-transport-common</artifactId>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.slf4j</groupId>\n+            <artifactId>slf4j-api</artifactId>\n+            <version>${slf4j.version}</version>\n+            <scope>provided</scope>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.apache.logging.log4j</groupId>\n+            <artifactId>log4j-core</artifactId>\n+            <version>${log4j2.version}</version>\n+            <scope>test</scope>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.apache.logging.log4j</groupId>\n+            <artifactId>log4j-slf4j-impl</artifactId>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6936d7c4803aa6f1a5cf0e59bdff366746cb4fb1"}, "originalPosition": 41}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ0MzYxNjI2OnYy", "diffSide": "RIGHT", "path": "sentinel-extension/sentinel-logging-extension-slf4j/src/test/resources/log4j2.xml", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOFQwOTo1OTo1NVrOF39vhA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOFQxMDo0Mzo1M1rOF3_U8w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDIyNzU4OA==", "bodyText": "It should not exist", "url": "https://github.com/alibaba/Sentinel/pull/1344#discussion_r394227588", "createdAt": "2020-03-18T09:59:55Z", "author": {"login": "jasonjoo2010"}, "path": "sentinel-extension/sentinel-logging-extension-slf4j/src/test/resources/log4j2.xml", "diffHunk": "@@ -0,0 +1,25 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n+<Configuration>\n+    <Appenders>\n+        <Console name=\"Console\" target=\"SYSTEM_OUT\">\n+            <PatternLayout pattern=\"%-5level %logger - %msg%n\"/>\n+        </Console>\n+        <File name=\"FILE\" fileName=\"sentinel-record.log\" append=\"false\">\n+            <PatternLayout pattern=\"%-5level %logger - %msg%n\"/>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6936d7c4803aa6f1a5cf0e59bdff366746cb4fb1"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDI0NjI0OQ==", "bodyText": "It's just for test. Should I change another test mode?", "url": "https://github.com/alibaba/Sentinel/pull/1344#discussion_r394246249", "createdAt": "2020-03-18T10:31:10Z", "author": {"login": "wavesZh"}, "path": "sentinel-extension/sentinel-logging-extension-slf4j/src/test/resources/log4j2.xml", "diffHunk": "@@ -0,0 +1,25 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n+<Configuration>\n+    <Appenders>\n+        <Console name=\"Console\" target=\"SYSTEM_OUT\">\n+            <PatternLayout pattern=\"%-5level %logger - %msg%n\"/>\n+        </Console>\n+        <File name=\"FILE\" fileName=\"sentinel-record.log\" append=\"false\">\n+            <PatternLayout pattern=\"%-5level %logger - %msg%n\"/>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDIyNzU4OA=="}, "originalCommit": {"oid": "6936d7c4803aa6f1a5cf0e59bdff366746cb4fb1"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDI1MDIyNQ==", "bodyText": "It's just for test. Should I change another test mode?\n\nOh i am sorry for that i misunderstand it.\nAnd the other question is why sentinel-transport-common is introduced in?", "url": "https://github.com/alibaba/Sentinel/pull/1344#discussion_r394250225", "createdAt": "2020-03-18T10:38:23Z", "author": {"login": "jasonjoo2010"}, "path": "sentinel-extension/sentinel-logging-extension-slf4j/src/test/resources/log4j2.xml", "diffHunk": "@@ -0,0 +1,25 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n+<Configuration>\n+    <Appenders>\n+        <Console name=\"Console\" target=\"SYSTEM_OUT\">\n+            <PatternLayout pattern=\"%-5level %logger - %msg%n\"/>\n+        </Console>\n+        <File name=\"FILE\" fileName=\"sentinel-record.log\" append=\"false\">\n+            <PatternLayout pattern=\"%-5level %logger - %msg%n\"/>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDIyNzU4OA=="}, "originalCommit": {"oid": "6936d7c4803aa6f1a5cf0e59bdff366746cb4fb1"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDI1MzU1NQ==", "bodyText": "It's just for test. Should I change another test mode?\n\nOh i am sorry for that i misunderstand it.\nAnd the other question is why sentinel-transport-common is introduced in?\n\nI checked changes of recent commits and found that CommonLogCenter has been moved into transport-common package. So I will be okay on it. But this change is a little wired maybe we had better split them into different service interfaces.", "url": "https://github.com/alibaba/Sentinel/pull/1344#discussion_r394253555", "createdAt": "2020-03-18T10:43:53Z", "author": {"login": "jasonjoo2010"}, "path": "sentinel-extension/sentinel-logging-extension-slf4j/src/test/resources/log4j2.xml", "diffHunk": "@@ -0,0 +1,25 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n+<Configuration>\n+    <Appenders>\n+        <Console name=\"Console\" target=\"SYSTEM_OUT\">\n+            <PatternLayout pattern=\"%-5level %logger - %msg%n\"/>\n+        </Console>\n+        <File name=\"FILE\" fileName=\"sentinel-record.log\" append=\"false\">\n+            <PatternLayout pattern=\"%-5level %logger - %msg%n\"/>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDIyNzU4OA=="}, "originalCommit": {"oid": "6936d7c4803aa6f1a5cf0e59bdff366746cb4fb1"}, "originalPosition": 8}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4139, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}