{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk2NDgwNTkx", "number": 7343, "reviewThreads": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQxMjo1NDoxMVrOD3nOVQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQxNjo0MzoyMlrOD5EmPw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU5NjQwOTE3OnYy", "diffSide": "RIGHT", "path": "core/src/main/java/org/mskcc/cbio/portal/servlet/GetSurvivalDataJSON.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQxMjo1NDoxMVrOGN9bTQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQxNjo0MTo1NFrOGQIskg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzI5MTA4NQ==", "bodyText": "If we are generalizing the code, why are we looking for specific values , like \"1:DECEASED\" or \"0:LIVING\" ?\nAlso, is \"os\" and \"dfs\" dataType, coming from the clinical data file now?", "url": "https://github.com/cBioPortal/cbioportal/pull/7343#discussion_r417291085", "createdAt": "2020-04-29T12:54:11Z", "author": {"login": "n1zea144"}, "path": "core/src/main/java/org/mskcc/cbio/portal/servlet/GetSurvivalDataJSON.java", "diffHunk": "@@ -144,9 +144,9 @@ protected void doPost(HttpServletRequest httpServletRequest,\n                     String osStatus = clinicalData.getOverallSurvivalStatus();\n                     if(osStatus == null || osStatus.length() == 0) {\n                         _result.put(\"status\", \"NA\");\n-                    } else if (osStatus.equalsIgnoreCase(\"DECEASED\")) {\n+                    } else if (osStatus.equalsIgnoreCase(\"1:DECEASED\")) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "94a85b668c3e94c6886729f977054dd715fa186e"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzM3MDY2Ng==", "bodyText": "I think this file is outdated. I just want to keep the consistency between all the files, so I also changed this.", "url": "https://github.com/cBioPortal/cbioportal/pull/7343#discussion_r417370666", "createdAt": "2020-04-29T14:42:22Z", "author": {"login": "dippindots"}, "path": "core/src/main/java/org/mskcc/cbio/portal/servlet/GetSurvivalDataJSON.java", "diffHunk": "@@ -144,9 +144,9 @@ protected void doPost(HttpServletRequest httpServletRequest,\n                     String osStatus = clinicalData.getOverallSurvivalStatus();\n                     if(osStatus == null || osStatus.length() == 0) {\n                         _result.put(\"status\", \"NA\");\n-                    } else if (osStatus.equalsIgnoreCase(\"DECEASED\")) {\n+                    } else if (osStatus.equalsIgnoreCase(\"1:DECEASED\")) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzI5MTA4NQ=="}, "originalCommit": {"oid": "94a85b668c3e94c6886729f977054dd715fa186e"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTU3Mjg4Mg==", "bodyText": "I think this code may still be used by the old web service (R and MATLAB libraries included).  If I understand the code, you are transforming a value of \"1:DECEASED\" to \"1\" on the way out of this servlet...but why do you want to do this?", "url": "https://github.com/cBioPortal/cbioportal/pull/7343#discussion_r419572882", "createdAt": "2020-05-04T16:41:54Z", "author": {"login": "n1zea144"}, "path": "core/src/main/java/org/mskcc/cbio/portal/servlet/GetSurvivalDataJSON.java", "diffHunk": "@@ -144,9 +144,9 @@ protected void doPost(HttpServletRequest httpServletRequest,\n                     String osStatus = clinicalData.getOverallSurvivalStatus();\n                     if(osStatus == null || osStatus.length() == 0) {\n                         _result.put(\"status\", \"NA\");\n-                    } else if (osStatus.equalsIgnoreCase(\"DECEASED\")) {\n+                    } else if (osStatus.equalsIgnoreCase(\"1:DECEASED\")) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzI5MTA4NQ=="}, "originalCommit": {"oid": "94a85b668c3e94c6886729f977054dd715fa186e"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU5NjQ1MTMxOnYy", "diffSide": "RIGHT", "path": "core/src/main/scripts/importer/validateData.py", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQxMzowNDoyN1rOGN902Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQwNToyMDo0MFrOGREX6A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzI5NzYyNQ==", "bodyText": "Should we pull these values out and put into a file for reading into the validator?  I thought we discussed something like this during the planning call.", "url": "https://github.com/cBioPortal/cbioportal/pull/7343#discussion_r417297625", "createdAt": "2020-04-29T13:04:27Z", "author": {"login": "n1zea144"}, "path": "core/src/main/scripts/importer/validateData.py", "diffHunk": "@@ -2655,30 +2655,51 @@ def checkLine(self, data):\n                                    'column_number': col_index + 1,\n                                    'cause': value})\n             elif col_name == 'OS_STATUS':\n-                if value == 'DECEASED':\n+                if value == '1:DECEASED':\n                     osstatus_is_deceased = True\n                 elif (value.lower() not in self.NULL_VALUES and\n-                        value not in ('LIVING', 'DECEASED')):\n+                        value not in ('LIVING', 'DECEASED', '0:LIVING', '1:DECEASED')):", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "94a85b668c3e94c6886729f977054dd715fa186e"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzM3NDAwOA==", "bodyText": "Do you mean for survival data migration tool? As Ramya suggested, I will put the vocabularies in a separate file for the migration tool. I can't really remember we have discussion about this... (please remind me if I missed something...)", "url": "https://github.com/cBioPortal/cbioportal/pull/7343#discussion_r417374008", "createdAt": "2020-04-29T14:46:34Z", "author": {"login": "dippindots"}, "path": "core/src/main/scripts/importer/validateData.py", "diffHunk": "@@ -2655,30 +2655,51 @@ def checkLine(self, data):\n                                    'column_number': col_index + 1,\n                                    'cause': value})\n             elif col_name == 'OS_STATUS':\n-                if value == 'DECEASED':\n+                if value == '1:DECEASED':\n                     osstatus_is_deceased = True\n                 elif (value.lower() not in self.NULL_VALUES and\n-                        value not in ('LIVING', 'DECEASED')):\n+                        value not in ('LIVING', 'DECEASED', '0:LIVING', '1:DECEASED')):", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzI5NzYyNQ=="}, "originalCommit": {"oid": "94a85b668c3e94c6886729f977054dd715fa186e"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTU3ODM2OQ==", "bodyText": "You remember correctly, we did discuss as it relates to survival data migration tool.  I'm suggesting we use a similar approach to inject the vocabulary here.  Maybe you are only validating OS_STATUS and DFS_STATUS and nothing more?", "url": "https://github.com/cBioPortal/cbioportal/pull/7343#discussion_r419578369", "createdAt": "2020-05-04T16:50:14Z", "author": {"login": "n1zea144"}, "path": "core/src/main/scripts/importer/validateData.py", "diffHunk": "@@ -2655,30 +2655,51 @@ def checkLine(self, data):\n                                    'column_number': col_index + 1,\n                                    'cause': value})\n             elif col_name == 'OS_STATUS':\n-                if value == 'DECEASED':\n+                if value == '1:DECEASED':\n                     osstatus_is_deceased = True\n                 elif (value.lower() not in self.NULL_VALUES and\n-                        value not in ('LIVING', 'DECEASED')):\n+                        value not in ('LIVING', 'DECEASED', '0:LIVING', '1:DECEASED')):", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzI5NzYyNQ=="}, "originalCommit": {"oid": "94a85b668c3e94c6886729f977054dd715fa186e"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDU1MDYzMg==", "bodyText": "Yes, we are just checking the OS_STATUS and DFS_STATUS here, for other values. For other status, we require all the values have the prefix 0: and 1: \n  \n    \n      cbioportal/core/src/main/scripts/importer/validateData.py\n    \n    \n        Lines 2688 to 2702\n      in\n      86f066a\n    \n    \n    \n    \n\n        \n          \n           elif col_name.endswith('_STATUS'): \n        \n\n        \n          \n               # get survival attribute prefix \n        \n\n        \n          \n               survival_prefix = col_name[:len(col_name) - 7] \n        \n\n        \n          \n               if (survival_prefix + '_MONTHS') in self.cols: \n        \n\n        \n          \n                   # attribute that has both _months and _status is a survival attribute \n        \n\n        \n          \n                   # this attribute should have prefix \"0:\" or \"1:\", or NULL_VALUES \n        \n\n        \n          \n                   splited_value = value.lower().split(':') \n        \n\n        \n          \n                   if len(splited_value) <= 1 or len(splited_value) >= 2 and splited_value[0] not in ('0', '1'): \n        \n\n        \n          \n                       if value.lower() not in self.NULL_VALUES: \n        \n\n        \n          \n                           self.logger.error( \n        \n\n        \n          \n                                   'Value in %s column should be formated like \"0:LIVING\" (status:lable) ', \n        \n\n        \n          \n                                   col_name, \n        \n\n        \n          \n                                   extra={'line_number': self.line_number, \n        \n\n        \n          \n                                       'column_number': col_index + 1, \n        \n\n        \n          \n                                       'cause': value})", "url": "https://github.com/cBioPortal/cbioportal/pull/7343#discussion_r420550632", "createdAt": "2020-05-06T05:20:40Z", "author": {"login": "dippindots"}, "path": "core/src/main/scripts/importer/validateData.py", "diffHunk": "@@ -2655,30 +2655,51 @@ def checkLine(self, data):\n                                    'column_number': col_index + 1,\n                                    'cause': value})\n             elif col_name == 'OS_STATUS':\n-                if value == 'DECEASED':\n+                if value == '1:DECEASED':\n                     osstatus_is_deceased = True\n                 elif (value.lower() not in self.NULL_VALUES and\n-                        value not in ('LIVING', 'DECEASED')):\n+                        value not in ('LIVING', 'DECEASED', '0:LIVING', '1:DECEASED')):", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzI5NzYyNQ=="}, "originalCommit": {"oid": "94a85b668c3e94c6886729f977054dd715fa186e"}, "originalPosition": 9}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU5NjQ2NzAyOnYy", "diffSide": "RIGHT", "path": "docs/File-Formats.md", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQxMzowODo0MVrOGN9-YA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQxNDo0ODoyNVrOGOCk2A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzMwMDA2NA==", "bodyText": "Are we missing \":DECEASED\" \"1:Recurred/Progressed\"?", "url": "https://github.com/cBioPortal/cbioportal/pull/7343#discussion_r417300064", "createdAt": "2020-04-29T13:08:41Z", "author": {"login": "n1zea144"}, "path": "docs/File-Formats.md", "diffHunk": "@@ -202,8 +202,8 @@ Custom attributes:\n #STRING<TAB>STRING<TAB>NUMBER<TAB>STRING<TAB>NUMBER<TAB>...\n #1<TAB>1<TAB>1<TAB>1<TAB>1<TAB>\n PATIENT_ID<TAB>OS_STATUS<TAB>OS_MONTHS<TAB>DFS_STATUS<TAB>DFS_MONTHS<TAB>...\n-PATIENT_ID_1<TAB>DECEASED<TAB>17.97<TAB>Recurred/Progressed<TAB>30.98<TAB>...\n-PATIENT_ID_2<TAB>LIVING<TAB>63.01<TAB>DiseaseFree<TAB>63.01<TAB>...\n+PATIENT_ID_1<TAB>1<TAB>17.97<TAB>1<TAB>30.98<TAB>...", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "94a85b668c3e94c6886729f977054dd715fa186e"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzM3NTQ0OA==", "bodyText": "Thanks, I forgot to update this table, will update this now.", "url": "https://github.com/cBioPortal/cbioportal/pull/7343#discussion_r417375448", "createdAt": "2020-04-29T14:48:25Z", "author": {"login": "dippindots"}, "path": "docs/File-Formats.md", "diffHunk": "@@ -202,8 +202,8 @@ Custom attributes:\n #STRING<TAB>STRING<TAB>NUMBER<TAB>STRING<TAB>NUMBER<TAB>...\n #1<TAB>1<TAB>1<TAB>1<TAB>1<TAB>\n PATIENT_ID<TAB>OS_STATUS<TAB>OS_MONTHS<TAB>DFS_STATUS<TAB>DFS_MONTHS<TAB>...\n-PATIENT_ID_1<TAB>DECEASED<TAB>17.97<TAB>Recurred/Progressed<TAB>30.98<TAB>...\n-PATIENT_ID_2<TAB>LIVING<TAB>63.01<TAB>DiseaseFree<TAB>63.01<TAB>...\n+PATIENT_ID_1<TAB>1<TAB>17.97<TAB>1<TAB>30.98<TAB>...", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzMwMDA2NA=="}, "originalCommit": {"oid": "94a85b668c3e94c6886729f977054dd715fa186e"}, "originalPosition": 25}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU5NjQ3OTk1OnYy", "diffSide": "RIGHT", "path": "portal/src/main/webapp/WEB-INF/jsp/patient_view/clinical_timeline.jsp", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQxMzoxMTo0N1rOGN-GAA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQxNDo0NzoyMVrOGOCh4g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzMwMjAxNg==", "bodyText": "Are we not generaIizing for other survival data here?", "url": "https://github.com/cBioPortal/cbioportal/pull/7343#discussion_r417302016", "createdAt": "2020-04-29T13:11:47Z", "author": {"login": "n1zea144"}, "path": "portal/src/main/webapp/WEB-INF/jsp/patient_view/clinical_timeline.jsp", "diffHunk": "@@ -159,7 +159,7 @@\n \n                 for (i=0; i < prefixes.length; i++) {\n                     var prefix = prefixes[i];\n-                    if (patientInfo[prefix+\"OS_STATUS\"] === \"DECEASED\" &&\n+                    if (patientInfo[prefix+\"OS_STATUS\"] === \"1:DECEASED\" &&", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "94a85b668c3e94c6886729f977054dd715fa186e"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzM3NDY5MA==", "bodyText": "I think this file is also outdated. We are not using this anymore. I just want to keep the consistency between all the files, so I also changed this.", "url": "https://github.com/cBioPortal/cbioportal/pull/7343#discussion_r417374690", "createdAt": "2020-04-29T14:47:21Z", "author": {"login": "dippindots"}, "path": "portal/src/main/webapp/WEB-INF/jsp/patient_view/clinical_timeline.jsp", "diffHunk": "@@ -159,7 +159,7 @@\n \n                 for (i=0; i < prefixes.length; i++) {\n                     var prefix = prefixes[i];\n-                    if (patientInfo[prefix+\"OS_STATUS\"] === \"DECEASED\" &&\n+                    if (patientInfo[prefix+\"OS_STATUS\"] === \"1:DECEASED\" &&", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzMwMjAxNg=="}, "originalCommit": {"oid": "94a85b668c3e94c6886729f977054dd715fa186e"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU5NjQ4NjA3OnYy", "diffSide": "RIGHT", "path": "portal/src/main/webapp/css/patient-view/clinical-attributes.css", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQxMzoxMzoyNFrOGN-J7Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQxNDo0Nzo0M1rOGOCi3g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzMwMzAyMQ==", "bodyText": "Are we not generalizing for other survival types here (admittedly I don't know where this file is used).", "url": "https://github.com/cBioPortal/cbioportal/pull/7343#discussion_r417303021", "createdAt": "2020-04-29T13:13:24Z", "author": {"login": "n1zea144"}, "path": "portal/src/main/webapp/css/patient-view/clinical-attributes.css", "diffHunk": "@@ -120,15 +120,15 @@\n     content: \" years old\";\n }\n /* attributes with special colors */\n-.clinical-attribute[attr-id=\"OS_STATUS\"][attr-value=\"DECEASED\"],\n-.clinical-attribute[attr-id=\"OS_STATUS\"][attr-value=\"DEAD\"],\n+.clinical-attribute[attr-id=\"OS_STATUS\"][attr-value=\"1:DECEASED\"],", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "94a85b668c3e94c6886729f977054dd715fa186e"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzM3NDk0Mg==", "bodyText": "Same here, I think this file is also outdated. We are not using this anymore. I just want to keep the consistency between all the files, so I also changed this.", "url": "https://github.com/cBioPortal/cbioportal/pull/7343#discussion_r417374942", "createdAt": "2020-04-29T14:47:43Z", "author": {"login": "dippindots"}, "path": "portal/src/main/webapp/css/patient-view/clinical-attributes.css", "diffHunk": "@@ -120,15 +120,15 @@\n     content: \" years old\";\n }\n /* attributes with special colors */\n-.clinical-attribute[attr-id=\"OS_STATUS\"][attr-value=\"DECEASED\"],\n-.clinical-attribute[attr-id=\"OS_STATUS\"][attr-value=\"DEAD\"],\n+.clinical-attribute[attr-id=\"OS_STATUS\"][attr-value=\"1:DECEASED\"],", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzMwMzAyMQ=="}, "originalCommit": {"oid": "94a85b668c3e94c6886729f977054dd715fa186e"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYxMTY3MDcxOnYy", "diffSide": "RIGHT", "path": "core/src/main/java/org/mskcc/cbio/portal/scripts/ImportClinicalData.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQxNjozNDoyMlrOGQIZ6Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQxNjozNDoyMlrOGQIZ6Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTU2ODEwNQ==", "bodyText": "I suggest using the \"has\" approach as implemented in ImportClinicalData. MissingAttributeValues.  It makes for cleaner code -\n\n  \n    \n      cbioportal/core/src/main/java/org/mskcc/cbio/portal/scripts/ImportClinicalData.java\n    \n    \n         Line 81\n      in\n      b697596\n    \n    \n    \n    \n\n        \n          \n           static public boolean has(String value) {", "url": "https://github.com/cBioPortal/cbioportal/pull/7343#discussion_r419568105", "createdAt": "2020-05-04T16:34:22Z", "author": {"login": "n1zea144"}, "path": "core/src/main/java/org/mskcc/cbio/portal/scripts/ImportClinicalData.java", "diffHunk": "@@ -559,7 +558,12 @@ private void addDatum(int internalId, String attrId, String attrVal, String attr\n         // attribute value exists and if so, perfom an update\n         if (attrType.equals(ClinicalAttribute.PATIENT_ATTRIBUTE)) {\n             numPatientSpecificClinicalAttributesAdded++;\n-            DaoClinicalData.addPatientDatum(internalId, attrId, attrVal.trim());\n+            // add prefix for OS or DFS attributes\n+            if (SurvivalAttributeUtil.isSurvivalAttribute(attrId)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b69759630a61eb0040436987801ad57079cfdcfb"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYxMTcwMzMxOnYy", "diffSide": "RIGHT", "path": "core/src/main/java/org/mskcc/cbio/portal/util/SurvivalAttributeUtil.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQxNjo0MjoyMVrOGQItwA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQxNjo0MjoyMVrOGQItwA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTU3MzE4NA==", "bodyText": "Please add a newline here.", "url": "https://github.com/cBioPortal/cbioportal/pull/7343#discussion_r419573184", "createdAt": "2020-05-04T16:42:21Z", "author": {"login": "n1zea144"}, "path": "core/src/main/java/org/mskcc/cbio/portal/util/SurvivalAttributeUtil.java", "diffHunk": "@@ -0,0 +1,75 @@\n+package org.mskcc.cbio.portal.util;\n+\n+public class SurvivalAttributeUtil {\n+\n+    private static final String ZERO_PREFIX = \"0:\";\n+    private static final String ONE_PREFIX = \"1:\";\n+\n+    public enum SurvivalStatusAttributes {\n+        OS_STATUS(\"OS_STATUS\"),\n+        DFS_STATUS(\"DFS_STATUS\");\n+\n+        String attributeId;\n+        SurvivalStatusAttributes(String attrId) {\n+            attributeId = attrId;\n+        }\n+\n+        String getAttributeId() {\n+            return attributeId;\n+        }\n+    }\n+\n+    public enum SurvivalStatusMappingOneValues {\n+        DECEASED(\"DECEASED\"),\n+        RECURRED_PROGRESSED(\"Recurred/Progressed\"),\n+        RECURRED(\"Recurred\"),\n+        PROGRESSED(\"Progressed\");\n+\n+        String statusValue;\n+        SurvivalStatusMappingOneValues(String value) {\n+            statusValue = value;\n+        }\n+\n+        String getStatusValue() {\n+            return statusValue;\n+        }\n+    }\n+\n+    public enum SurvivalStatusMappingZeroValues {\n+        LIVING(\"LIVING\"),\n+        DISEASE_FREE(\"DiseaseFree\");\n+\n+        String statusValue;\n+        SurvivalStatusMappingZeroValues(String value) {\n+            statusValue = value;\n+        }\n+\n+        String getStatusValue() {\n+            return statusValue;\n+        }\n+    }\n+\n+    public static boolean isSurvivalAttribute(String attributeId) {\n+        for (SurvivalStatusAttributes attribute : SurvivalStatusAttributes.values()) {\n+            if (attribute.getAttributeId().equals(attributeId)) {\n+                return true;\n+            }\n+        }\n+        return false;\n+    }\n+\n+    public static String getModifiedAttributeValue(String value) {\n+        for (SurvivalStatusMappingOneValues attributeValue : SurvivalStatusMappingOneValues.values()) {\n+            if (attributeValue.getStatusValue().equals(value)) {\n+                return ONE_PREFIX + value;\n+            }\n+        }\n+        for (SurvivalStatusMappingZeroValues attributeValue : SurvivalStatusMappingZeroValues.values()) {\n+            if (attributeValue.getStatusValue().equals(value)) {\n+                return ZERO_PREFIX + value;\n+            }\n+        }\n+        // value is new format or is one of the NULL_VALUES\n+        return value;\n+    }\n+}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b69759630a61eb0040436987801ad57079cfdcfb"}, "originalPosition": 75}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYxMTcwNjk4OnYy", "diffSide": "RIGHT", "path": "core/src/main/java/org/mskcc/cbio/portal/util/SurvivalAttributeUtil.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQxNjo0MzoxNVrOGQIv8A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQxNjo0MzoxNVrOGQIv8A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTU3Mzc0NA==", "bodyText": "Suggest using the \"has\" approach as linked above...", "url": "https://github.com/cBioPortal/cbioportal/pull/7343#discussion_r419573744", "createdAt": "2020-05-04T16:43:15Z", "author": {"login": "n1zea144"}, "path": "core/src/main/java/org/mskcc/cbio/portal/util/SurvivalAttributeUtil.java", "diffHunk": "@@ -0,0 +1,75 @@\n+package org.mskcc.cbio.portal.util;\n+\n+public class SurvivalAttributeUtil {\n+\n+    private static final String ZERO_PREFIX = \"0:\";\n+    private static final String ONE_PREFIX = \"1:\";\n+\n+    public enum SurvivalStatusAttributes {\n+        OS_STATUS(\"OS_STATUS\"),\n+        DFS_STATUS(\"DFS_STATUS\");\n+\n+        String attributeId;\n+        SurvivalStatusAttributes(String attrId) {\n+            attributeId = attrId;\n+        }\n+\n+        String getAttributeId() {\n+            return attributeId;\n+        }\n+    }\n+\n+    public enum SurvivalStatusMappingOneValues {\n+        DECEASED(\"DECEASED\"),\n+        RECURRED_PROGRESSED(\"Recurred/Progressed\"),\n+        RECURRED(\"Recurred\"),\n+        PROGRESSED(\"Progressed\");\n+\n+        String statusValue;\n+        SurvivalStatusMappingOneValues(String value) {\n+            statusValue = value;\n+        }\n+\n+        String getStatusValue() {\n+            return statusValue;\n+        }\n+    }\n+\n+    public enum SurvivalStatusMappingZeroValues {\n+        LIVING(\"LIVING\"),\n+        DISEASE_FREE(\"DiseaseFree\");\n+\n+        String statusValue;\n+        SurvivalStatusMappingZeroValues(String value) {\n+            statusValue = value;\n+        }\n+\n+        String getStatusValue() {\n+            return statusValue;\n+        }\n+    }\n+\n+    public static boolean isSurvivalAttribute(String attributeId) {\n+        for (SurvivalStatusAttributes attribute : SurvivalStatusAttributes.values()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b69759630a61eb0040436987801ad57079cfdcfb"}, "originalPosition": 53}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYxMTcwNzUxOnYy", "diffSide": "RIGHT", "path": "core/src/main/java/org/mskcc/cbio/portal/util/SurvivalAttributeUtil.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQxNjo0MzoyMlrOGQIwSg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQxNjo0MzoyMlrOGQIwSg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTU3MzgzNA==", "bodyText": "Suggest using the \"has\" approach as linked above...", "url": "https://github.com/cBioPortal/cbioportal/pull/7343#discussion_r419573834", "createdAt": "2020-05-04T16:43:22Z", "author": {"login": "n1zea144"}, "path": "core/src/main/java/org/mskcc/cbio/portal/util/SurvivalAttributeUtil.java", "diffHunk": "@@ -0,0 +1,75 @@\n+package org.mskcc.cbio.portal.util;\n+\n+public class SurvivalAttributeUtil {\n+\n+    private static final String ZERO_PREFIX = \"0:\";\n+    private static final String ONE_PREFIX = \"1:\";\n+\n+    public enum SurvivalStatusAttributes {\n+        OS_STATUS(\"OS_STATUS\"),\n+        DFS_STATUS(\"DFS_STATUS\");\n+\n+        String attributeId;\n+        SurvivalStatusAttributes(String attrId) {\n+            attributeId = attrId;\n+        }\n+\n+        String getAttributeId() {\n+            return attributeId;\n+        }\n+    }\n+\n+    public enum SurvivalStatusMappingOneValues {\n+        DECEASED(\"DECEASED\"),\n+        RECURRED_PROGRESSED(\"Recurred/Progressed\"),\n+        RECURRED(\"Recurred\"),\n+        PROGRESSED(\"Progressed\");\n+\n+        String statusValue;\n+        SurvivalStatusMappingOneValues(String value) {\n+            statusValue = value;\n+        }\n+\n+        String getStatusValue() {\n+            return statusValue;\n+        }\n+    }\n+\n+    public enum SurvivalStatusMappingZeroValues {\n+        LIVING(\"LIVING\"),\n+        DISEASE_FREE(\"DiseaseFree\");\n+\n+        String statusValue;\n+        SurvivalStatusMappingZeroValues(String value) {\n+            statusValue = value;\n+        }\n+\n+        String getStatusValue() {\n+            return statusValue;\n+        }\n+    }\n+\n+    public static boolean isSurvivalAttribute(String attributeId) {\n+        for (SurvivalStatusAttributes attribute : SurvivalStatusAttributes.values()) {\n+            if (attribute.getAttributeId().equals(attributeId)) {\n+                return true;\n+            }\n+        }\n+        return false;\n+    }\n+\n+    public static String getModifiedAttributeValue(String value) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b69759630a61eb0040436987801ad57079cfdcfb"}, "originalPosition": 61}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3613, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}