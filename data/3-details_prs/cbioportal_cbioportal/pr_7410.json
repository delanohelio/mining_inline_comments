{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA1MzU2MjY4", "number": 7410, "title": "Build dev docker image for master and rc using github actions", "bodyText": "Close #7128 (#7128)\nDescribe changes proposed in this pull request:\n\nThis pull request adds a github action for building the two docker images in parallel with caching. I have can confirm successful runs from my forked version have taken ~12 minutes, and have successfully pushed the tagged images to a private repository I set up for testing. I apologize for a few of the commit messages, they were very small changes to syntax in the yaml. I would imagine a commit squash would help here.\n\nChecks\n\n Runs on heroku\n Has tests or has a separate issue that describes the types of test that should be created. If no test is included it should explicitly be mentioned in the PR why there is no test.\n The commit log is comprehensible. It follows 7 rules of great commit messages. For most PRs a single commit should suffice, in some cases multiple topical commits can be useful. During review it is ok to see tiny commits (e.g. Fix reviewer comments), but right before the code gets merged to master or rc branch, any such commits should be squashed since they are useless to the other developers. Definitely avoid merge commits, use rebase instead.\n Is this PR adding logic based on one or more clinical attributes? If yes, please make sure validation for this attribute is also present in the data validation / data loading layers (in backend repo) and documented in File-Formats Clinical data section!\n\nNotify reviewers\n@inodb\nRead our Pull request merging\npolicy. It can help to figure out who worked on the\nfile before you. Please use git blame <filename> to determine that\nand notify them either through slack or by assigning them as a reviewer on the PR", "createdAt": "2020-04-17T21:50:02Z", "url": "https://github.com/cBioPortal/cbioportal/pull/7410", "merged": true, "mergeCommit": {"oid": "f976f215a86cbd8a6e4a285933712f9a5031dcf5"}, "closed": true, "closedAt": "2020-04-17T22:38:13Z", "author": {"login": "agandolf"}, "timelineItems": {"totalCount": 24, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcYED-zAH2gAyNDA1MzU2MjY4OjJkNWYxZTE5YTMwMzhiYjI0ZDZjYzI4MzNhYjAyODgyZmRkMjhiOWE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcYpJ3ggFqTM5NTgxMDU0NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "2d5f1e19a3038bb24d6cc2833ab02882fdd28b9a", "author": {"user": {"login": "agandolf", "name": null}}, "url": "https://github.com/cBioPortal/cbioportal/commit/2d5f1e19a3038bb24d6cc2833ab02882fdd28b9a", "committedDate": "2020-04-16T03:24:14Z", "message": "Github action to perform cached docker builds"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0b22ec4c3355fbad3da6d22a79ce94bbbf4f5208", "author": {"user": {"login": "agandolf", "name": null}}, "url": "https://github.com/cBioPortal/cbioportal/commit/0b22ec4c3355fbad3da6d22a79ce94bbbf4f5208", "committedDate": "2020-04-17T02:12:04Z", "message": "Action to use caching and secrets"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5a63ca3c7c28470ec6714b6b208ec9188de619c7", "author": {"user": {"login": "agandolf", "name": null}}, "url": "https://github.com/cBioPortal/cbioportal/commit/5a63ca3c7c28470ec6714b6b208ec9188de619c7", "committedDate": "2020-04-17T02:25:30Z", "message": "Adds missing context"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ba700e9ab178be44ef7e1e7f0bf5a51b7d713a89", "author": {"user": {"login": "agandolf", "name": null}}, "url": "https://github.com/cBioPortal/cbioportal/commit/ba700e9ab178be44ef7e1e7f0bf5a51b7d713a89", "committedDate": "2020-04-17T02:53:26Z", "message": "Adjust context"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d3e77f979de1cfdae1df857486014ecfbe5f8c55", "author": {"user": {"login": "agandolf", "name": null}}, "url": "https://github.com/cBioPortal/cbioportal/commit/d3e77f979de1cfdae1df857486014ecfbe5f8c55", "committedDate": "2020-04-17T03:04:46Z", "message": "Context point to root"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5b9159b35a12baf69a2468ab864b74d5138317ef", "author": {"user": {"login": "agandolf", "name": null}}, "url": "https://github.com/cBioPortal/cbioportal/commit/5b9159b35a12baf69a2468ab864b74d5138317ef", "committedDate": "2020-04-17T03:15:55Z", "message": "Hard code root dir"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1e30b6baf2f3124c346f04a258c67259e94428bc", "author": {"user": {"login": "agandolf", "name": null}}, "url": "https://github.com/cBioPortal/cbioportal/commit/1e30b6baf2f3124c346f04a258c67259e94428bc", "committedDate": "2020-04-17T03:23:13Z", "message": "test run"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "42d6345601396f0a9faadc063e806d6654aa8547", "author": {"user": {"login": "agandolf", "name": null}}, "url": "https://github.com/cBioPortal/cbioportal/commit/42d6345601396f0a9faadc063e806d6654aa8547", "committedDate": "2020-04-17T03:27:04Z", "message": "test run 2"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b3d8bc7ea3d227945ca93ffdef23019c23e430c8", "author": {"user": {"login": "agandolf", "name": null}}, "url": "https://github.com/cBioPortal/cbioportal/commit/b3d8bc7ea3d227945ca93ffdef23019c23e430c8", "committedDate": "2020-04-17T03:31:49Z", "message": "test run 3"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9e1717cf8471352f77c19538ae5bda8188e466ed", "author": {"user": {"login": "agandolf", "name": null}}, "url": "https://github.com/cBioPortal/cbioportal/commit/9e1717cf8471352f77c19538ae5bda8188e466ed", "committedDate": "2020-04-17T03:39:23Z", "message": "test run 4"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "11627518658ca9b4f30597a3147171b4afd383db", "author": {"user": {"login": "agandolf", "name": null}}, "url": "https://github.com/cBioPortal/cbioportal/commit/11627518658ca9b4f30597a3147171b4afd383db", "committedDate": "2020-04-17T03:55:18Z", "message": "test run 5"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "777ac524b4051c17db1bd1deb53519e80470e277", "author": {"user": {"login": "agandolf", "name": null}}, "url": "https://github.com/cBioPortal/cbioportal/commit/777ac524b4051c17db1bd1deb53519e80470e277", "committedDate": "2020-04-17T04:07:03Z", "message": "test run 6"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a7249ce53f62d2fb539f17db5b3b5cad960f38ec", "author": {"user": {"login": "agandolf", "name": null}}, "url": "https://github.com/cBioPortal/cbioportal/commit/a7249ce53f62d2fb539f17db5b3b5cad960f38ec", "committedDate": "2020-04-17T19:28:40Z", "message": "Adds second dockerfile build"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bd3b32672c9c93efd52ec570a18f5eacae43642d", "author": {"user": {"login": "agandolf", "name": null}}, "url": "https://github.com/cBioPortal/cbioportal/commit/bd3b32672c9c93efd52ec570a18f5eacae43642d", "committedDate": "2020-04-17T19:30:11Z", "message": "test run 7"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "17c7fd4092ef1251fc812f096312f38ba1b9e746", "author": {"user": {"login": "agandolf", "name": null}}, "url": "https://github.com/cBioPortal/cbioportal/commit/17c7fd4092ef1251fc812f096312f38ba1b9e746", "committedDate": "2020-04-17T19:44:58Z", "message": "test run 8"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3a1d045ee569ce022c6e741fea8c2955dd53da48", "author": {"user": {"login": "agandolf", "name": null}}, "url": "https://github.com/cBioPortal/cbioportal/commit/3a1d045ee569ce022c6e741fea8c2955dd53da48", "committedDate": "2020-04-17T20:24:43Z", "message": "test run 9"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "08595aa74df11a4ba31db80434240d2bf5643cf4", "author": {"user": {"login": "agandolf", "name": null}}, "url": "https://github.com/cBioPortal/cbioportal/commit/08595aa74df11a4ba31db80434240d2bf5643cf4", "committedDate": "2020-04-17T20:38:18Z", "message": "test run 10"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9ce4ee92331b4881c99cc230bacb72be0c835fe4", "author": {"user": {"login": "agandolf", "name": null}}, "url": "https://github.com/cBioPortal/cbioportal/commit/9ce4ee92331b4881c99cc230bacb72be0c835fe4", "committedDate": "2020-04-17T20:47:23Z", "message": "test run 11"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d2d3c925ee7e32259d59ed809eed94db622e1da0", "author": {"user": {"login": "agandolf", "name": null}}, "url": "https://github.com/cBioPortal/cbioportal/commit/d2d3c925ee7e32259d59ed809eed94db622e1da0", "committedDate": "2020-04-17T21:12:15Z", "message": "test run 12"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "83c2183f696c88ab7dd39ac4a06dd800b78c3498", "author": {"user": {"login": "agandolf", "name": null}}, "url": "https://github.com/cBioPortal/cbioportal/commit/83c2183f696c88ab7dd39ac4a06dd800b78c3498", "committedDate": "2020-04-17T21:13:57Z", "message": "test run 13"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "074e830977e92932a41b4a8922118977dd031c73", "author": {"user": {"login": "agandolf", "name": null}}, "url": "https://github.com/cBioPortal/cbioportal/commit/074e830977e92932a41b4a8922118977dd031c73", "committedDate": "2020-04-17T21:31:59Z", "message": "Run on push to rc/master"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "85822dd633228acdb022f4bb6e986cd540b9f23a", "author": {"user": {"login": "agandolf", "name": null}}, "url": "https://github.com/cBioPortal/cbioportal/commit/85822dd633228acdb022f4bb6e986cd540b9f23a", "committedDate": "2020-04-17T21:43:12Z", "message": "Changes image name to match primary repo"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk1ODA4NzAy", "url": "https://github.com/cBioPortal/cbioportal/pull/7410#pullrequestreview-395808702", "createdAt": "2020-04-17T22:31:07Z", "commit": {"oid": "85822dd633228acdb022f4bb6e986cd540b9f23a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xN1QyMjozMTowN1rOGHe7nw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xN1QyMjozMTowN1rOGHe7nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDQ5OTk5OQ==", "bodyText": "Neat! Would it be possible to do a pattern here as well? E.g. release-*. That's the branch name of the next release candidate", "url": "https://github.com/cBioPortal/cbioportal/pull/7410#discussion_r410499999", "createdAt": "2020-04-17T22:31:07Z", "author": {"login": "inodb"}, "path": ".github/workflows/dockerimage.yml", "diffHunk": "@@ -0,0 +1,48 @@\n+name: Docker Image CI\n+on:\n+  push:\n+    branches: \n+      - master\n+      - rc", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "85822dd633228acdb022f4bb6e986cd540b9f23a"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk1ODEwNTQ0", "url": "https://github.com/cBioPortal/cbioportal/pull/7410#pullrequestreview-395810544", "createdAt": "2020-04-17T22:37:09Z", "commit": {"oid": "85822dd633228acdb022f4bb6e986cd540b9f23a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1763, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}