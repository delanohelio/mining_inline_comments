{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc2NzIzNjgx", "number": 7197, "title": "Allow the validator to pass for NUMERIC attributes starting with > and < symbols", "bodyText": "Describe changes proposed in this pull request:\n\nNumeric clinical attributes for example Age sometimes are given as a range. Currently since the validator fails on these, they are imported as STRINGs to maintain the PHI. Since the front-end accepts these symbols for Numeric attributes we should also let the validator pass on these.\n\nChecks\n\n Runs on heroku\n Has tests or has a separate issue that describes the types of test that should be created. If no test is included it should explicitly be mentioned in the PR why there is no test.\n The commit log is comprehensible. It follows 7 rules of great commit messages. For most PRs a single commit should suffice, in some cases multiple topical commits can be useful. During review it is ok to see tiny commits (e.g. Fix reviewer comments), but right before the code gets merged to master or rc branch, any such commits should be squashed since they are useless to the other developers. Definitely avoid merge commits, use rebase instead.\n Is this PR adding logic based on one or more clinical attributes? If yes, please make sure validation for this attribute is also present in the data validation / data loading layers (in backend repo) and documented in File-Formats Clinical data section!\n\nAny screenshots or GIFs?\nIf this is a new visual feature please add a before/after screenshot or gif\nhere with e.g. Giphy CAPTURE or Peek\nNotify reviewers\nRead our Pull request merging\npolicy. It can help to figure out who worked on the\nfile before you. Please use git blame <filename> to determine that\nand notify them either through slack or by assigning them as a reviewer on the PR", "createdAt": "2020-02-18T16:46:28Z", "url": "https://github.com/cBioPortal/cbioportal/pull/7197", "merged": true, "mergeCommit": {"oid": "4953b160cd7e6af6117ad6fb47ebd91561d6dc55"}, "closed": true, "closedAt": "2020-02-21T21:07:37Z", "author": {"login": "rmadupuri"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcFkKSDgH2gAyMzc2NzIzNjgxOmQ5ZDYzN2ViY2RmYTA5MWYxYzY2YzY3NWQ1ZmYzZGU1MGZkNTdmNTM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcGiecPgFqTM2Mjc2MjU0MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "d9d637ebcdfa091f1c66c675d5ff3de50fd57f53", "author": {"user": {"login": "rmadupuri", "name": "Ramya Madupuri"}}, "url": "https://github.com/cBioPortal/cbioportal/commit/d9d637ebcdfa091f1c66c675d5ff3de50fd57f53", "committedDate": "2020-02-18T16:03:31Z", "message": "allow NUMERIC attribites to start with > and < symbols"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "39910c85eb673e62a0afac6c22c8a5677169b5f0", "author": {"user": {"login": "rmadupuri", "name": "Ramya Madupuri"}}, "url": "https://github.com/cBioPortal/cbioportal/commit/39910c85eb673e62a0afac6c22c8a5677169b5f0", "committedDate": "2020-02-18T18:43:41Z", "message": "allow >,< in first position and check if the rest is number"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYxNTA4MDg2", "url": "https://github.com/cBioPortal/cbioportal/pull/7197#pullrequestreview-361508086", "createdAt": "2020-02-19T23:13:20Z", "commit": {"oid": "39910c85eb673e62a0afac6c22c8a5677169b5f0"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQyMzoxMzoyMFrOFr7IQw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQyMzoxMzoyMFrOFr7IQw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTYwMTg1OQ==", "bodyText": "@zhx828 @kalletlak I think this is prolly ok to merge, but maybe we should create a new issue to indicate that that there should be a NUMBER_RANGE data_type or something along those lines. What do you think?\nalso how is this handled on the study view for barcharts like e.g.:", "url": "https://github.com/cBioPortal/cbioportal/pull/7197#discussion_r381601859", "createdAt": "2020-02-19T23:13:20Z", "author": {"login": "inodb"}, "path": "core/src/main/scripts/importer/validateData.py", "diffHunk": "@@ -2461,7 +2461,10 @@ def checkLine(self, data):\n                 pass\n             elif data_type == 'NUMBER':\n                 if not self.checkFloat(value):\n-                    self.logger.error(\n+                \tif (value[0] in ('>','<')) and value[1:].isdigit():\n+                \t\tpass\n+                \telse:\n+                \t\tself.logger.error(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "39910c85eb673e62a0afac6c22c8a5677169b5f0"}, "originalPosition": 8}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYxNTExNDAz", "url": "https://github.com/cBioPortal/cbioportal/pull/7197#pullrequestreview-361511403", "createdAt": "2020-02-19T23:21:26Z", "commit": {"oid": "39910c85eb673e62a0afac6c22c8a5677169b5f0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYyNzYyNTQw", "url": "https://github.com/cBioPortal/cbioportal/pull/7197#pullrequestreview-362762540", "createdAt": "2020-02-21T16:39:39Z", "commit": {"oid": "39910c85eb673e62a0afac6c22c8a5677169b5f0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1701, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}