{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTAyNDY5ODY5", "number": 7960, "title": "Treatments API Tweaks", "bodyText": "Fix #7928\nDescribe changes proposed in this pull request:\n\nAdd new endpoint for determining if sample treatments should be displayed.\nThis needed to be separated because for gbm_columbia_2019, sample treatments\nshould not be displayed, but patient treatments should.\nFilter out unknown treatments from sample treatments API\nSwitch from using internal ID to stable ID for the patient field", "createdAt": "2020-10-13T15:29:53Z", "url": "https://github.com/cBioPortal/cbioportal/pull/7960", "merged": true, "mergeCommit": {"oid": "a929d4912b3d6f42ab86caa7e831f5890184a5fc"}, "closed": true, "closedAt": "2020-10-27T18:23:18Z", "author": {"login": "Luke-Sikina"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdTK4wBABqjM4ODc3MzMwNTI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdWo5H9ABqjM5MjU4ODg3MDE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1c7f280cc43e0ab3692a1ec8c57ab7876f58f838", "author": {"user": {"login": "Luke-Sikina", "name": "Luke Sikina"}}, "url": "https://github.com/cBioPortal/cbioportal/commit/1c7f280cc43e0ab3692a1ec8c57ab7876f58f838", "committedDate": "2020-10-13T14:51:08Z", "message": "Treatments API Tweaks\n- Add new endpoint for determining if sample treatments should be displayed.\n  This needed to be separated because for `gbm_columbia_2019`, sample treatments\n  should not be displayed, but patient treatments should.\n- Filter out unknown treatments from sample treatments API\n- Switch from using internal ID to stable ID for the patient field"}, "afterCommit": {"oid": "714a95166c8a1a23fc8feb45b65fda6923b09877", "author": {"user": {"login": "Luke-Sikina", "name": "Luke Sikina"}}, "url": "https://github.com/cBioPortal/cbioportal/commit/714a95166c8a1a23fc8feb45b65fda6923b09877", "committedDate": "2020-10-16T18:42:42Z", "message": "Treatments API Tweaks\n- Add new endpoint for determining if sample treatments should be displayed.\n  This needed to be separated because for `gbm_columbia_2019`, sample treatments\n  should not be displayed, but patient treatments should.\n- Filter out unknown treatments from sample treatments API\n- Switch from using internal ID to stable ID for the patient field"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "714a95166c8a1a23fc8feb45b65fda6923b09877", "author": {"user": {"login": "Luke-Sikina", "name": "Luke Sikina"}}, "url": "https://github.com/cBioPortal/cbioportal/commit/714a95166c8a1a23fc8feb45b65fda6923b09877", "committedDate": "2020-10-16T18:42:42Z", "message": "Treatments API Tweaks\n- Add new endpoint for determining if sample treatments should be displayed.\n  This needed to be separated because for `gbm_columbia_2019`, sample treatments\n  should not be displayed, but patient treatments should.\n- Filter out unknown treatments from sample treatments API\n- Switch from using internal ID to stable ID for the patient field"}, "afterCommit": {"oid": "d884094a81780b6e07581259ade25c8ad28508a1", "author": {"user": {"login": "Luke-Sikina", "name": "Luke Sikina"}}, "url": "https://github.com/cBioPortal/cbioportal/commit/d884094a81780b6e07581259ade25c8ad28508a1", "committedDate": "2020-10-19T13:08:07Z", "message": "Treatments API Tweaks\n- Add new endpoint for determining if sample treatments should be displayed.\n  This needed to be separated because for `gbm_columbia_2019`, sample treatments\n  should not be displayed, but patient treatments should.\n- Filter out unknown treatments from sample treatments API\n- Switch from using internal ID to stable ID for the patient field"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEyMDQ3MzEx", "url": "https://github.com/cBioPortal/cbioportal/pull/7960#pullrequestreview-512047311", "createdAt": "2020-10-19T18:30:25Z", "commit": {"oid": "d884094a81780b6e07581259ade25c8ad28508a1"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQxODozMDoyNVrOHkcUYw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQxODozNTo1NlrOHkcifg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzk3NDc1NQ==", "bodyText": "May be rename it display-patient", "url": "https://github.com/cBioPortal/cbioportal/pull/7960#discussion_r507974755", "createdAt": "2020-10-19T18:30:25Z", "author": {"login": "kalletlak"}, "path": "web/src/main/java/org/cbioportal/web/util/InvolvedCancerStudyExtractorInterceptor.java", "diffHunk": "@@ -111,6 +111,7 @@\n     public static final String GENERIC_ASSAY_META_FETCH_PATH = \"/generic_assay_meta/fetch\";\n     public static final String TREATMENTS_PATIENT_PATH = \"/treatments/patient\";\n     public static final String TREATMENTS_PATIENT_EXISTS_PATH = \"/treatments/display\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d884094a81780b6e07581259ade25c8ad28508a1"}, "originalPosition": 3}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzk3ODM2Ng==", "bodyText": "since samples is always null, why not remove it and pass null while invoking getSampleCount and getTreatmentCount methods?", "url": "https://github.com/cBioPortal/cbioportal/pull/7960#discussion_r507978366", "createdAt": "2020-10-19T18:35:56Z", "author": {"login": "kalletlak"}, "path": "service/src/main/java/org/cbioportal/service/impl/TreatmentServiceImpl.java", "diffHunk": "@@ -170,4 +169,12 @@ private PatientTreatmentRow createPatientTreatmentRowForTreatment(\n     public Boolean containsTreatmentData(List<String> samples, List<String> studies) {\n         return treatmentRepository.getTreatmentCount(samples, studies) > 0;\n     }\n+\n+    @Override\n+    public Boolean containsSampleTreatmentData(List<String> samples, List<String> studies) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d884094a81780b6e07581259ade25c8ad28508a1"}, "originalPosition": 47}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d884094a81780b6e07581259ade25c8ad28508a1", "author": {"user": {"login": "Luke-Sikina", "name": "Luke Sikina"}}, "url": "https://github.com/cBioPortal/cbioportal/commit/d884094a81780b6e07581259ade25c8ad28508a1", "committedDate": "2020-10-19T13:08:07Z", "message": "Treatments API Tweaks\n- Add new endpoint for determining if sample treatments should be displayed.\n  This needed to be separated because for `gbm_columbia_2019`, sample treatments\n  should not be displayed, but patient treatments should.\n- Filter out unknown treatments from sample treatments API\n- Switch from using internal ID to stable ID for the patient field"}, "afterCommit": {"oid": "c13e428e2a691379f12218b168413c2ebec46efe", "author": {"user": {"login": "Luke-Sikina", "name": "Luke Sikina"}}, "url": "https://github.com/cBioPortal/cbioportal/commit/c13e428e2a691379f12218b168413c2ebec46efe", "committedDate": "2020-10-20T13:34:15Z", "message": "Treatments API Tweaks\n- Add new endpoint for determining if sample treatments should be displayed.\n  This needed to be separated because for `gbm_columbia_2019`, sample treatments\n  should not be displayed, but patient treatments should.\n- Filter out unknown treatments from sample treatments API\n- Switch from using internal ID to stable ID for the patient field"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c13e428e2a691379f12218b168413c2ebec46efe", "author": {"user": {"login": "Luke-Sikina", "name": "Luke Sikina"}}, "url": "https://github.com/cBioPortal/cbioportal/commit/c13e428e2a691379f12218b168413c2ebec46efe", "committedDate": "2020-10-20T13:34:15Z", "message": "Treatments API Tweaks\n- Add new endpoint for determining if sample treatments should be displayed.\n  This needed to be separated because for `gbm_columbia_2019`, sample treatments\n  should not be displayed, but patient treatments should.\n- Filter out unknown treatments from sample treatments API\n- Switch from using internal ID to stable ID for the patient field"}, "afterCommit": {"oid": "1246646ebf6ef402281d865f6ceca4e70ce39c22", "author": {"user": {"login": "Luke-Sikina", "name": "Luke Sikina"}}, "url": "https://github.com/cBioPortal/cbioportal/commit/1246646ebf6ef402281d865f6ceca4e70ce39c22", "committedDate": "2020-10-20T13:37:27Z", "message": "Treatments API Tweaks\n- Add new endpoint for determining if sample treatments should be displayed.\n  This needed to be separated because for `gbm_columbia_2019`, sample treatments\n  should not be displayed, but patient treatments should.\n- Filter out unknown treatments from sample treatments API\n- Switch from using internal ID to stable ID for the patient field"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1246646ebf6ef402281d865f6ceca4e70ce39c22", "author": {"user": {"login": "Luke-Sikina", "name": "Luke Sikina"}}, "url": "https://github.com/cBioPortal/cbioportal/commit/1246646ebf6ef402281d865f6ceca4e70ce39c22", "committedDate": "2020-10-20T13:37:27Z", "message": "Treatments API Tweaks\n- Add new endpoint for determining if sample treatments should be displayed.\n  This needed to be separated because for `gbm_columbia_2019`, sample treatments\n  should not be displayed, but patient treatments should.\n- Filter out unknown treatments from sample treatments API\n- Switch from using internal ID to stable ID for the patient field"}, "afterCommit": {"oid": "f9077f3a71c7490a754cb6340108a53f163ab21f", "author": {"user": {"login": "Luke-Sikina", "name": "Luke Sikina"}}, "url": "https://github.com/cBioPortal/cbioportal/commit/f9077f3a71c7490a754cb6340108a53f163ab21f", "committedDate": "2020-10-20T14:58:34Z", "message": "Treatments API Tweaks\n- Add new endpoint for determining if sample treatments should be displayed.\n  This needed to be separated because for `gbm_columbia_2019`, sample treatments\n  should not be displayed, but patient treatments should.\n- Filter out unknown treatments from sample treatments API\n- Switch from using internal ID to stable ID for the patient field"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEyODY0Njgy", "url": "https://github.com/cBioPortal/cbioportal/pull/7960#pullrequestreview-512864682", "createdAt": "2020-10-20T15:30:42Z", "commit": {"oid": "f9077f3a71c7490a754cb6340108a53f163ab21f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f9077f3a71c7490a754cb6340108a53f163ab21f", "author": {"user": {"login": "Luke-Sikina", "name": "Luke Sikina"}}, "url": "https://github.com/cBioPortal/cbioportal/commit/f9077f3a71c7490a754cb6340108a53f163ab21f", "committedDate": "2020-10-20T14:58:34Z", "message": "Treatments API Tweaks\n- Add new endpoint for determining if sample treatments should be displayed.\n  This needed to be separated because for `gbm_columbia_2019`, sample treatments\n  should not be displayed, but patient treatments should.\n- Filter out unknown treatments from sample treatments API\n- Switch from using internal ID to stable ID for the patient field"}, "afterCommit": {"oid": "b03ed87d1ae627274bdc86889195b0e8862fc0ba", "author": {"user": {"login": "Luke-Sikina", "name": "Luke Sikina"}}, "url": "https://github.com/cBioPortal/cbioportal/commit/b03ed87d1ae627274bdc86889195b0e8862fc0ba", "committedDate": "2020-10-26T21:06:55Z", "message": "Treatments API Tweaks\n- Add new endpoint for determining if sample treatments should be displayed.\n  This needed to be separated because for `gbm_columbia_2019`, sample treatments\n  should not be displayed, but patient treatments should.\n- Filter out unknown treatments from sample treatments API\n- Switch from using internal ID to stable ID for the patient field"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4597be9cd33dd664ce676d99d827e65afaf7d9f9", "author": {"user": {"login": "Luke-Sikina", "name": "Luke Sikina"}}, "url": "https://github.com/cBioPortal/cbioportal/commit/4597be9cd33dd664ce676d99d827e65afaf7d9f9", "committedDate": "2020-10-27T13:22:03Z", "message": "Treatments API Tweaks\n- Add new endpoint for determining if sample treatments should be displayed.\n  This needed to be separated because for `gbm_columbia_2019`, sample treatments\n  should not be displayed, but patient treatments should.\n- Filter out unknown treatments from sample treatments API\n- Switch from using internal ID to stable ID for the patient field"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b03ed87d1ae627274bdc86889195b0e8862fc0ba", "author": {"user": {"login": "Luke-Sikina", "name": "Luke Sikina"}}, "url": "https://github.com/cBioPortal/cbioportal/commit/b03ed87d1ae627274bdc86889195b0e8862fc0ba", "committedDate": "2020-10-26T21:06:55Z", "message": "Treatments API Tweaks\n- Add new endpoint for determining if sample treatments should be displayed.\n  This needed to be separated because for `gbm_columbia_2019`, sample treatments\n  should not be displayed, but patient treatments should.\n- Filter out unknown treatments from sample treatments API\n- Switch from using internal ID to stable ID for the patient field"}, "afterCommit": {"oid": "4597be9cd33dd664ce676d99d827e65afaf7d9f9", "author": {"user": {"login": "Luke-Sikina", "name": "Luke Sikina"}}, "url": "https://github.com/cBioPortal/cbioportal/commit/4597be9cd33dd664ce676d99d827e65afaf7d9f9", "committedDate": "2020-10-27T13:22:03Z", "message": "Treatments API Tweaks\n- Add new endpoint for determining if sample treatments should be displayed.\n  This needed to be separated because for `gbm_columbia_2019`, sample treatments\n  should not be displayed, but patient treatments should.\n- Filter out unknown treatments from sample treatments API\n- Switch from using internal ID to stable ID for the patient field"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1565, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}