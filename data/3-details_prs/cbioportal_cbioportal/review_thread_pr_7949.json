{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk5NDU3MjQy", "number": 7949, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQwNjozMjoxM1rOEtVa4g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQwNjozMjoxM1rOEtVa4g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE1OTcyMzIyOnYy", "diffSide": "RIGHT", "path": "docs/Authenticating-and-Authorizing-Users-via-keycloak.md", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQwNjozMjoxM1rOHhEHMQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQwNjozMjoxM1rOHhEHMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDQzMjQzMw==", "bodyText": "The trigger for looking at this section should not be a 4xx error. I propose to remove this line and replace it for something like this:\n\nBy default user-roles are extracted from path resource_access::cbioportal::roles in the JWT json. When the configuration of roles at the realm and client level in a Keycloak instance differ from that described in this manual, configure the path can be specified using the dat.oauth2.jwtRolesPath property in the portal.properties file.", "url": "https://github.com/cBioPortal/cbioportal/pull/7949#discussion_r504432433", "createdAt": "2020-10-14T06:32:13Z", "author": {"login": "pvannierop"}, "path": "docs/Authenticating-and-Authorizing-Users-via-keycloak.md", "diffHunk": "@@ -357,3 +357,32 @@ log4j.logger.org.springframework.security=DEBUG\n ```\n \n Then, rebuild the WAR, redeploy, and try to authenticate again.  Your log file will then include hundreds of SAML-specific messages, even the full XML of each SAML message, and this should help you debug the error.\n+\n+#### Determining jwtRolesPath for OAuth2 Token\n+If the generated token returns a 4XX error when used, confirm that the `jwtRolesPath` property matches the roles path. ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a4036405897c6af5edddcd7b7373ef9fd800191d"}, "originalPosition": 6}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3454, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}