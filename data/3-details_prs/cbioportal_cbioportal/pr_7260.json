{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgzNjY1NTA3", "number": 7260, "title": "Add resource API's", "bodyText": "Fix #7236\n\nData models", "createdAt": "2020-03-04T15:58:03Z", "url": "https://github.com/cBioPortal/cbioportal/pull/7260", "merged": true, "mergeCommit": {"oid": "f18d74129e90872d4f6ddc4a137c9f4bbfcd1b8f"}, "closed": true, "closedAt": "2020-03-19T14:55:57Z", "author": {"login": "kalletlak"}, "timelineItems": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcKaP1SgFqTM2ODk3MDkyOA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcPM5s9AFqTM3Nzc4MDk0OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY4OTcwOTI4", "url": "https://github.com/cBioPortal/cbioportal/pull/7260#pullrequestreview-368970928", "createdAt": "2020-03-04T17:20:09Z", "commit": {"oid": "48564732795f2144a1f1292e555eba90343f2fa2"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "48564732795f2144a1f1292e555eba90343f2fa2", "author": {"user": {"login": "kalletlak", "name": "Karthik K"}}, "url": "https://github.com/cBioPortal/cbioportal/commit/48564732795f2144a1f1292e555eba90343f2fa2", "committedDate": "2020-03-04T15:53:50Z", "message": "Add resource API's"}, "afterCommit": {"oid": "f1eb00d586f84522f1a9d27ef7b2c915934a1ab3", "author": {"user": {"login": "kalletlak", "name": "Karthik K"}}, "url": "https://github.com/cBioPortal/cbioportal/commit/f1eb00d586f84522f1a9d27ef7b2c915934a1ab3", "committedDate": "2020-03-04T18:22:38Z", "message": "Add resource API's"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY5MjA5MjM3", "url": "https://github.com/cBioPortal/cbioportal/pull/7260#pullrequestreview-369209237", "createdAt": "2020-03-04T23:53:07Z", "commit": {"oid": "f1eb00d586f84522f1a9d27ef7b2c915934a1ab3"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNFQyMzo1MzowOFrOFyB4oA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNFQyMzo1MzowOFrOFyB4oA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODAwNDAwMA==", "bodyText": "All looks good to me! Just the displayName maybe should be nullable?", "url": "https://github.com/cBioPortal/cbioportal/pull/7260#discussion_r388004000", "createdAt": "2020-03-04T23:53:08Z", "author": {"login": "dippindots"}, "path": "model/src/main/java/org/cbioportal/model/ResourceDefinition.java", "diffHunk": "@@ -0,0 +1,75 @@\n+package org.cbioportal.model;\n+\n+import javax.validation.constraints.NotNull;\n+\n+public class ResourceDefinition {\n+\n+    @NotNull\n+    private String resourceId;\n+    @NotNull\n+    private String displayName;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f1eb00d586f84522f1a9d27ef7b2c915934a1ab3"}, "originalPosition": 10}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f1eb00d586f84522f1a9d27ef7b2c915934a1ab3", "author": {"user": {"login": "kalletlak", "name": "Karthik K"}}, "url": "https://github.com/cBioPortal/cbioportal/commit/f1eb00d586f84522f1a9d27ef7b2c915934a1ab3", "committedDate": "2020-03-04T18:22:38Z", "message": "Add resource API's"}, "afterCommit": {"oid": "62d8030f6d7f9a22d534eb9e469b7fea11dd3a42", "author": {"user": {"login": "kalletlak", "name": "Karthik K"}}, "url": "https://github.com/cBioPortal/cbioportal/commit/62d8030f6d7f9a22d534eb9e469b7fea11dd3a42", "committedDate": "2020-03-05T20:49:20Z", "message": "Add resource API's"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "62d8030f6d7f9a22d534eb9e469b7fea11dd3a42", "author": {"user": {"login": "kalletlak", "name": "Karthik K"}}, "url": "https://github.com/cBioPortal/cbioportal/commit/62d8030f6d7f9a22d534eb9e469b7fea11dd3a42", "committedDate": "2020-03-05T20:49:20Z", "message": "Add resource API's"}, "afterCommit": {"oid": "4b6c2d490db5d99d22a910dfdc62f4e8bb82e51d", "author": {"user": {"login": "kalletlak", "name": "Karthik K"}}, "url": "https://github.com/cBioPortal/cbioportal/commit/4b6c2d490db5d99d22a910dfdc62f4e8bb82e51d", "committedDate": "2020-03-10T15:02:39Z", "message": "Add resource API's"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4b6c2d490db5d99d22a910dfdc62f4e8bb82e51d", "author": {"user": {"login": "kalletlak", "name": "Karthik K"}}, "url": "https://github.com/cBioPortal/cbioportal/commit/4b6c2d490db5d99d22a910dfdc62f4e8bb82e51d", "committedDate": "2020-03-10T15:02:39Z", "message": "Add resource API's"}, "afterCommit": {"oid": "ab94f72b2634de39c94a151455b971638bbb6864", "author": {"user": {"login": "kalletlak", "name": "Karthik K"}}, "url": "https://github.com/cBioPortal/cbioportal/commit/ab94f72b2634de39c94a151455b971638bbb6864", "committedDate": "2020-03-10T15:19:31Z", "message": "Add resource API's"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc1NjA5Mzc1", "url": "https://github.com/cBioPortal/cbioportal/pull/7260#pullrequestreview-375609375", "createdAt": "2020-03-16T21:56:32Z", "commit": {"oid": "ab94f72b2634de39c94a151455b971638bbb6864"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc3MjAyMjA3", "url": "https://github.com/cBioPortal/cbioportal/pull/7260#pullrequestreview-377202207", "createdAt": "2020-03-18T20:15:26Z", "commit": {"oid": "ab94f72b2634de39c94a151455b971638bbb6864"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc3MTg0MDUy", "url": "https://github.com/cBioPortal/cbioportal/pull/7260#pullrequestreview-377184052", "createdAt": "2020-03-18T19:47:43Z", "commit": {"oid": "ab94f72b2634de39c94a151455b971638bbb6864"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOFQxOTo0Nzo0NFrOF4UZ7g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOFQyMDoxNToyM1rOF4VRQg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDU5ODg5NA==", "bodyText": "minor suggestion: Would you consider putting these enum types on separate lines to be consistent with the rest of the codebase?  example here", "url": "https://github.com/cBioPortal/cbioportal/pull/7260#discussion_r394598894", "createdAt": "2020-03-18T19:47:44Z", "author": {"login": "ao508"}, "path": "model/src/main/java/org/cbioportal/model/ResourceType.java", "diffHunk": "@@ -0,0 +1,5 @@\n+package org.cbioportal.model;\n+\n+public enum ResourceType {\n+    STUDY, SAMPLE, PATIENT", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ab94f72b2634de39c94a151455b971638bbb6864"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDYwNDc3NQ==", "bodyText": "nice find", "url": "https://github.com/cBioPortal/cbioportal/pull/7260#discussion_r394604775", "createdAt": "2020-03-18T19:58:52Z", "author": {"login": "ao508"}, "path": "web/src/main/java/org/cbioportal/web/ReferenceGenomeGeneController.java", "diffHunk": "@@ -30,7 +30,7 @@\n @PublicApi\n @RestController\n @Validated\n-@Api(tags = \"Reference Genome Genes\", description = \" \")\n+@Api(tags = \"R. Reference Genome Genes\", description = \" \")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ab94f72b2634de39c94a151455b971638bbb6864"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDYwOTMyMw==", "bodyText": "I just want to double check here whether ResourceData needs to be included in this map or not", "url": "https://github.com/cBioPortal/cbioportal/pull/7260#discussion_r394609323", "createdAt": "2020-03-18T20:08:04Z", "author": {"login": "ao508"}, "path": "web/src/main/java/org/cbioportal/web/config/CustomObjectMapper.java", "diffHunk": "@@ -119,6 +121,7 @@ public CustomObjectMapper() {\n         mixinMap.put(Sample.class, SampleMixin.class);\n         mixinMap.put(SampleList.class, SampleListMixin.class);\n         mixinMap.put(TypeOfCancer.class, TypeOfCancerMixin.class);\n+        mixinMap.put(ResourceDefinition.class, ResourceDefinitionMixin.class);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ab94f72b2634de39c94a151455b971638bbb6864"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDYxMjM0OQ==", "bodyText": "Should ID be added to this message here?\n\n\"Resource ID not found: \" + ex.getResourceId()\n\ninstead of\n\n\"Resource not found: \" + ex.getResourceId()\n\nI may be overthinking this but I wonder whether someone would interpret the word \"Resource\" alone as something related to the actual backend code instead of an error stating that a resource called \"[some_resource_id]\" could not be found for that study/patient/sample.", "url": "https://github.com/cBioPortal/cbioportal/pull/7260#discussion_r394612349", "createdAt": "2020-03-18T20:13:58Z", "author": {"login": "ao508"}, "path": "web/src/main/java/org/cbioportal/web/error/GlobalExceptionHandler.java", "diffHunk": "@@ -181,4 +181,10 @@\n         return new ResponseEntity<>(new ErrorResponse(\"stableId not found: \" + ex.getStableId()),\n             HttpStatus.NOT_FOUND);\n     }\n+\n+    @ExceptionHandler(ResourceDefinitionNotFoundException.class)\n+    public ResponseEntity<ErrorResponse> handleResourceDefinitionNotFound(ResourceDefinitionNotFoundException ex) {\n+        return new ResponseEntity<>(new ErrorResponse(\"Resource not found: \" + ex.getResourceId()),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ab94f72b2634de39c94a151455b971638bbb6864"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDYxMzA1OA==", "bodyText": "never mind, I realize now that only ResourceDefinition has a corresponding ResourceDefintionMixin class.", "url": "https://github.com/cBioPortal/cbioportal/pull/7260#discussion_r394613058", "createdAt": "2020-03-18T20:15:23Z", "author": {"login": "ao508"}, "path": "web/src/main/java/org/cbioportal/web/config/CustomObjectMapper.java", "diffHunk": "@@ -119,6 +121,7 @@ public CustomObjectMapper() {\n         mixinMap.put(Sample.class, SampleMixin.class);\n         mixinMap.put(SampleList.class, SampleListMixin.class);\n         mixinMap.put(TypeOfCancer.class, TypeOfCancerMixin.class);\n+        mixinMap.put(ResourceDefinition.class, ResourceDefinitionMixin.class);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDYwOTMyMw=="}, "originalCommit": {"oid": "ab94f72b2634de39c94a151455b971638bbb6864"}, "originalPosition": 20}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ab94f72b2634de39c94a151455b971638bbb6864", "author": {"user": {"login": "kalletlak", "name": "Karthik K"}}, "url": "https://github.com/cBioPortal/cbioportal/commit/ab94f72b2634de39c94a151455b971638bbb6864", "committedDate": "2020-03-10T15:19:31Z", "message": "Add resource API's"}, "afterCommit": {"oid": "d0d699c25751759d2eaae1e77c6823bc2f7e3662", "author": {"user": {"login": "kalletlak", "name": "Karthik K"}}, "url": "https://github.com/cBioPortal/cbioportal/commit/d0d699c25751759d2eaae1e77c6823bc2f7e3662", "committedDate": "2020-03-19T14:11:53Z", "message": "Add resource API's"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5d777856fb8ffe620522d53f5ac5f1bc4edbfaa7", "author": {"user": {"login": "kalletlak", "name": "Karthik K"}}, "url": "https://github.com/cBioPortal/cbioportal/commit/5d777856fb8ffe620522d53f5ac5f1bc4edbfaa7", "committedDate": "2020-03-19T14:13:56Z", "message": "Add resource API's"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d0d699c25751759d2eaae1e77c6823bc2f7e3662", "author": {"user": {"login": "kalletlak", "name": "Karthik K"}}, "url": "https://github.com/cBioPortal/cbioportal/commit/d0d699c25751759d2eaae1e77c6823bc2f7e3662", "committedDate": "2020-03-19T14:11:53Z", "message": "Add resource API's"}, "afterCommit": {"oid": "5d777856fb8ffe620522d53f5ac5f1bc4edbfaa7", "author": {"user": {"login": "kalletlak", "name": "Karthik K"}}, "url": "https://github.com/cBioPortal/cbioportal/commit/5d777856fb8ffe620522d53f5ac5f1bc4edbfaa7", "committedDate": "2020-03-19T14:13:56Z", "message": "Add resource API's"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc3NzgwOTQ4", "url": "https://github.com/cBioPortal/cbioportal/pull/7260#pullrequestreview-377780948", "createdAt": "2020-03-19T14:36:50Z", "commit": {"oid": "5d777856fb8ffe620522d53f5ac5f1bc4edbfaa7"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1719, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}