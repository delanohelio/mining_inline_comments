{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg5NzUzNzQ5", "number": 6571, "title": "Modded Hill Biomes", "bodyText": "A few patches to minecraft which allows modders to override a getHill method in their custom biome class in order to specify a custom hill biome in overworld generation.\nThis method can be used to create more variation in biomes in the vanilla generator.\nThis method can also be called by modded world generators in order to add these modded custom hill biomes to their custom world generators.\nI have tested the code. Please specify any changes that should be made. Thanks. :)", "createdAt": "2020-03-17T10:34:53Z", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/6571", "merged": true, "mergeCommit": {"oid": "713c24d91641a6415d79abc04596ac6e26b73a75"}, "closed": true, "closedAt": "2020-04-09T00:12:05Z", "author": {"login": "valoeghese"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcOf5ygAH2gAyMzg5NzUzNzQ5Ojc1OWRhZWFhNmYwOGVhNDIzNzRkZmU4ZWQ3ZTk4N2YxMjdkMTU1ZjQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcVlHohgFqTM4OTgzNzUwNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "759daeaa6f08ea42374dfe8ed7e987f127d155f4", "author": {"user": {"login": "valoeghese", "name": "Mekal Covic"}}, "url": "https://github.com/MinecraftForge/MinecraftForge/commit/759daeaa6f08ea42374dfe8ed7e987f127d155f4", "committedDate": "2020-03-17T10:11:12Z", "message": "modded hills biome patch"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5af95ecc1244cf168ea43f1be04edf2e4002bc56", "author": {"user": {"login": "valoeghese", "name": "Mekal Covic"}}, "url": "https://github.com/MinecraftForge/MinecraftForge/commit/5af95ecc1244cf168ea43f1be04edf2e4002bc56", "committedDate": "2020-03-17T10:29:11Z", "message": "improvements to the patch"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc2NjE3NTM1", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/6571#pullrequestreview-376617535", "createdAt": "2020-03-18T07:30:23Z", "commit": {"oid": "5af95ecc1244cf168ea43f1be04edf2e4002bc56"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc5MDA4MTIy", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/6571#pullrequestreview-379008122", "createdAt": "2020-03-22T14:02:27Z", "commit": {"oid": "5af95ecc1244cf168ea43f1be04edf2e4002bc56"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMlQxNDowMjoyOFrOF5v2gA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMlQxNDowODoxN1rOF5v42w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NjA5NzE1Mg==", "bodyText": "This should default to a simple return null;", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/6571#discussion_r396097152", "createdAt": "2020-03-22T14:02:28Z", "author": {"login": "ichttt"}, "path": "patches/minecraft/net/minecraft/world/biome/Biome.java.patch", "diffHunk": "@@ -50,11 +50,34 @@\n +      if (this == Biomes.field_76789_p || this == Biomes.field_76788_q) return Biomes.field_76788_q;\n +      return Biomes.field_76781_i;\n +   }\n++\n++   public Biome getHill(net.minecraft.world.gen.INoiseRandom rand) {\n++      if (this == Biomes.field_76769_d) return Biomes.field_76786_s;\n++      if (this == Biomes.field_76767_f) return Biomes.field_76785_t;\n++      if (this == Biomes.field_150583_P) return Biomes.field_150582_Q;\n++      if (this == Biomes.field_150585_R) return Biomes.field_76772_c;\n++      if (this == Biomes.field_76768_g) return Biomes.field_76784_u;\n++      if (this == Biomes.field_150578_U) return Biomes.field_150581_V;\n++      if (this == Biomes.field_150584_S) return Biomes.field_150579_T;\n++      if (this == Biomes.field_76772_c) return rand.func_202696_a(3) == 0 ? Biomes.field_76785_t : Biomes.field_76767_f;\n++      if (this == Biomes.field_76774_n) return Biomes.field_76775_o;\n++      if (this == Biomes.field_76782_w) return Biomes.field_76792_x;\n++      if (this == Biomes.field_222370_aw) return Biomes.field_222371_ax;\n++      if (this == Biomes.field_76771_b) return Biomes.field_150575_M;\n++      if (this == Biomes.field_203615_U) return Biomes.field_203618_X;\n++      if (this == Biomes.field_203616_V) return Biomes.field_203619_Y;\n++      if (this == Biomes.field_76776_l) return Biomes.field_203620_Z;\n++      if (this == Biomes.field_76770_e) return Biomes.field_150580_W;\n++      if (this == Biomes.field_150588_X) return Biomes.field_150587_Y;\n++      if (net.minecraft.world.gen.layer.LayerUtil.func_202826_a(Registry.field_212624_m.func_148757_b(this), Registry.field_212624_m.func_148757_b(Biomes.field_150607_aa))) return Biomes.field_150589_Z;\n++      if ((this == Biomes.field_150575_M || this == Biomes.field_203618_X || this == Biomes.field_203619_Y || this == Biomes.field_203620_Z) && rand.func_202696_a(3) == 0) return rand.func_202696_a(2) == 0 ? Biomes.field_76772_c : Biomes.field_76767_f;\n++      return this;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5af95ecc1244cf168ea43f1be04edf2e4002bc56"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NjA5Nzc1NQ==", "bodyText": "This should be changed to use the biome provided from getHill if it doesn't return null, and use the vanilla code path otherwise", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/6571#discussion_r396097755", "createdAt": "2020-03-22T14:08:17Z", "author": {"login": "ichttt"}, "path": "patches/minecraft/net/minecraft/world/gen/layer/HillsLayer.java.patch", "diffHunk": "@@ -0,0 +1,11 @@\n+--- a/net/minecraft/world/gen/layer/HillsLayer.java\n++++ b/net/minecraft/world/gen/layer/HillsLayer.java\n+@@ -97,7 +97,7 @@\n+             l = field_202809_p;\n+          } else if ((i == LayerUtil.field_202830_a || i == LayerUtil.field_203636_g || i == LayerUtil.field_203637_i || i == LayerUtil.field_203638_j) && p_215723_1_.func_202696_a(3) == 0) {\n+             l = p_215723_1_.func_202696_a(2) == 0 ? field_202812_s : field_202803_j;\n+-         }\n++         } else l = Registry.field_212624_m.func_148757_b(Registry.field_212624_m.func_148745_a(i).getHill(p_215723_1_));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5af95ecc1244cf168ea43f1be04edf2e4002bc56"}, "originalPosition": 8}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "99756a77f69723507d2dc02b319e1aea6bd1008d", "author": {"user": {"login": "valoeghese", "name": "Mekal Covic"}}, "url": "https://github.com/MinecraftForge/MinecraftForge/commit/99756a77f69723507d2dc02b319e1aea6bd1008d", "committedDate": "2020-03-23T02:40:40Z", "message": "update code for ichttt's requested changes"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgwMjE1MTIx", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/6571#pullrequestreview-380215121", "createdAt": "2020-03-24T11:22:01Z", "commit": {"oid": "99756a77f69723507d2dc02b319e1aea6bd1008d"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNFQxMToyMjowMVrOF6rvOA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNFQxMToyMjozNlrOF6rwxg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzA3ODMyOA==", "bodyText": "getByValue can be null, so this should check for null before the getHill call as well, like this:\nBiome biome = Registry.BIOME.getByValue(i);\nBiome hill = biome == null ? null : biome.getHill(p_215723_1_);", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/6571#discussion_r397078328", "createdAt": "2020-03-24T11:22:01Z", "author": {"login": "ichttt"}, "path": "patches/minecraft/net/minecraft/world/gen/layer/HillsLayer.java.patch", "diffHunk": "@@ -0,0 +1,13 @@\n+--- a/net/minecraft/world/gen/layer/HillsLayer.java\n++++ b/net/minecraft/world/gen/layer/HillsLayer.java\n+@@ -59,7 +59,9 @@\n+ \n+       if (p_215723_1_.func_202696_a(3) == 0 || k == 0) {\n+          int l = i;\n+-         if (i == field_202799_f) {\n++         Biome hill = Registry.field_212624_m.func_148745_a(i).getHill(p_215723_1_);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "99756a77f69723507d2dc02b319e1aea6bd1008d"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzA3ODcyNg==", "bodyText": "Should be marked with @Nullable", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/6571#discussion_r397078726", "createdAt": "2020-03-24T11:22:36Z", "author": {"login": "ichttt"}, "path": "patches/minecraft/net/minecraft/world/biome/Biome.java.patch", "diffHunk": "@@ -50,11 +50,15 @@\n +      if (this == Biomes.field_76789_p || this == Biomes.field_76788_q) return Biomes.field_76788_q;\n +      return Biomes.field_76781_i;\n +   }\n++\n++   public Biome getHill(net.minecraft.world.gen.INoiseRandom rand) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "99756a77f69723507d2dc02b319e1aea6bd1008d"}, "originalPosition": 14}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "eb29e456eeb07546ec35e89774151deec0d083f5", "author": {"user": {"login": "valoeghese", "name": "Mekal Covic"}}, "url": "https://github.com/MinecraftForge/MinecraftForge/commit/eb29e456eeb07546ec35e89774151deec0d083f5", "committedDate": "2020-03-24T22:14:02Z", "message": "nullable in biome#getHill, check for null in hills patch"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgwNzM1ODkx", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/6571#pullrequestreview-380735891", "createdAt": "2020-03-24T22:15:17Z", "commit": {"oid": "eb29e456eeb07546ec35e89774151deec0d083f5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg5ODM3NTA2", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/6571#pullrequestreview-389837506", "createdAt": "2020-04-08T10:13:19Z", "commit": {"oid": "eb29e456eeb07546ec35e89774151deec0d083f5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2160, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}