{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkzNTY0OTk3", "number": 7360, "title": "Add modded biomes to overworld biome list", "bodyText": "Why?\nThe BiomeProvider class has a list containing all biomes that might be generated in the related dimension.\nThis list is used for several things:\n\nDetermine if a structure might be generated in this dimension (used by the locate command)\nDetermine possible surface blocks in the dimension (used e.g. when looking for a world spawn point)\nUsed for Stronghold generation\nPotentially used by mods as this list is publicly available\nThis use cases where deduced from code, the only thing I tested is:\nA structure (that only generates in a modded biome) cannot be found using the /locate command unless the biome is added to the list.\n\nCurrently one has to AT that list and replace it using a modified copy (using the sequential mod loading queue to avoid race conditions).\nImplementation\nThis PR simply adds a list to Forge's BiomeManager that modders can add biomes to and which is merged with the vanilla biome list in the OverworldBiomeProvider on construction.\nBiomes added as BiomeEntry to the BiomeManager are automatically added to this list as well. Additionally, one can manually add biomes in case they are generated in a different way (e.g. as hill variant of another biome).", "createdAt": "2020-09-26T11:26:40Z", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/7360", "merged": true, "mergeCommit": {"oid": "0a0f3232ea46e192f43957e81e23c950bd680ab5"}, "closed": true, "closedAt": "2021-01-26T02:36:47Z", "author": {"login": "maxanier"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdMoWcxgH2gAyNDkzNTY0OTk3OjY2ZjM2OWQ4NjQzNzI3MzUwMjM2MDQ3YTc3NDNhMDY0NDAwNGU1MGE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdPR2mBgFqTUwMTYzOTAzMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "66f369d8643727350236047a7743a0644004e50a", "author": {"user": {"login": "maxanier", "name": "Max Becker"}}, "url": "https://github.com/MinecraftForge/MinecraftForge/commit/66f369d8643727350236047a7743a0644004e50a", "committedDate": "2020-09-26T11:05:03Z", "message": "Add hook for overworld biome list"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "736bdc1cfd34131786ee8ab6a2e0d017bdd61fe9", "author": {"user": {"login": "maxanier", "name": "Max Becker"}}, "url": "https://github.com/MinecraftForge/MinecraftForge/commit/736bdc1cfd34131786ee8ab6a2e0d017bdd61fe9", "committedDate": "2020-09-26T11:25:50Z", "message": "Prevent duplicate entries"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2d7f3898d2d1f8ad91849d1605fbcc4ba6ca112f", "author": {"user": {"login": "maxanier", "name": "Max Becker"}}, "url": "https://github.com/MinecraftForge/MinecraftForge/commit/2d7f3898d2d1f8ad91849d1605fbcc4ba6ca112f", "committedDate": "2020-09-26T11:35:50Z", "message": "Tiny cleanup"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk2OTk5MTAx", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/7360#pullrequestreview-496999101", "createdAt": "2020-09-26T11:36:56Z", "commit": {"oid": "2d7f3898d2d1f8ad91849d1605fbcc4ba6ca112f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNlQxMTozNjo1N1rOHYfwNA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNlQxMTozNjo1N1rOHYfwNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTQ0ODExNg==", "bodyText": "Unfortunately, RegistryKey does not support equals.", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/7360#discussion_r495448116", "createdAt": "2020-09-26T11:36:57Z", "author": {"login": "maxanier"}, "path": "src/main/java/net/minecraftforge/common/BiomeManager.java", "diffHunk": "@@ -97,11 +98,26 @@ public static void removeSpawnBiome(Biome biome)\n     }\n     */\n \n+    /**\n+     * Add biomes that you add to the overworld without using {@link BiomeManager#addBiome(BiomeType, BiomeEntry)}\n+     */\n+    public static void addAdditionalOverworldBiomes(RegistryKey<Biome> biome){\n+        if (!\"minecraft\".equals(biome.func_240901_a_().getNamespace()) && additionalOverworldBiomes.stream().noneMatch(entry -> entry.func_240901_a_().equals(biome.func_240901_a_())))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2d7f3898d2d1f8ad91849d1605fbcc4ba6ca112f"}, "originalPosition": 16}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAxNjM5MDMw", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/7360#pullrequestreview-501639030", "createdAt": "2020-10-04T16:34:07Z", "commit": {"oid": "2d7f3898d2d1f8ad91849d1605fbcc4ba6ca112f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2303, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}