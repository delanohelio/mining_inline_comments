{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc1OTQwMDgw", "number": 7289, "title": "Add support for custom tag types", "bodyText": "Loosely based on/a continuation of #7252\nThis PR adds support for registries to be able to define that they support custom tag types by adding a tagFolder method to the registry builder, as well as, add support to allow data generators to be made for the custom tag types. Additionally this PR is marking the biome registry as a registry that supports tags, and it should be very simple to add support for more tag types.\nI tested the following environments to ensure that tags get properly synced that that vanilla compat did not get accidentally broken:\n\nForge Singleplayer\nForge Client to Forge Server\nForge Client (with custom tag support) to Forge Server (from before this PR)\nForge Client (from before this PR) to Forge Server (with custom tag support)\nForge Client to Vanilla Server\nVanilla Client to Forge Server", "createdAt": "2020-08-30T17:31:16Z", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/7289", "merged": true, "mergeCommit": {"oid": "45f8dc5245f0a8fc2cbfa138c12bfec124699874"}, "closed": true, "closedAt": "2020-09-09T02:10:37Z", "author": {"login": "pupnewfster"}, "timelineItems": {"totalCount": 27, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdEoX-FgBqjM3MTUyNjY2NDM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdG-o9ZAH2gAyNDc1OTQwMDgwOjY0MjVkY2RiZTdkOWZmNGEwZTk1ZDcyNjg0YmZhY2RjYzMxMTNmNDE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "275e54f370c9492284ae9f969d9e6a56640051dd", "author": {"user": {"login": "pupnewfster", "name": "Sara Freimer"}}, "url": "https://github.com/MinecraftForge/MinecraftForge/commit/275e54f370c9492284ae9f969d9e6a56640051dd", "committedDate": "2020-08-31T22:38:23Z", "message": "Work on addressing some TODOs"}, "afterCommit": {"oid": "e6a53ad64c4dcd83e0e629978b77540b1d8e0f1b", "author": {"user": {"login": "pupnewfster", "name": "Sara Freimer"}}, "url": "https://github.com/MinecraftForge/MinecraftForge/commit/e6a53ad64c4dcd83e0e629978b77540b1d8e0f1b", "committedDate": "2020-09-01T14:34:58Z", "message": "Add the custom tag type creation back that got lost during rebasing"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc5OTg0OTMy", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/7289#pullrequestreview-479984932", "createdAt": "2020-09-01T17:53:52Z", "commit": {"oid": "e6a53ad64c4dcd83e0e629978b77540b1d8e0f1b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQxNzo1Mzo1M1rOHLB5PA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQxNzo1Mzo1M1rOHLB5PA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTMyNzQyMA==", "bodyText": "Since this is not trying to call mod supplied code, but is rather, just parsing out metadata from the registries into structure, this is the best solution.", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/7289#discussion_r481327420", "createdAt": "2020-09-01T17:53:53Z", "author": {"login": "cpw"}, "path": "src/main/java/net/minecraftforge/fml/ModLoader.java", "diffHunk": "@@ -198,6 +198,8 @@ public void gatherAndInitializeMods(final ModWorkManager.DrivenExecutor syncExec\n         CapabilityManager.INSTANCE.injectCapabilities(modList.getAllScanData());\n         statusConsumer.ifPresent(c->c.accept(\"Populating registries\"));\n         dispatchAndHandleError(ModLoadingStage.LOAD_REGISTRIES, syncExecutor, parallelExecutor, periodicTask);\n+        statusConsumer.ifPresent(c->c.accept(\"Adding custom tag types\"));\n+        GameData.setCustomTagTypesFromRegistries();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e6a53ad64c4dcd83e0e629978b77540b1d8e0f1b"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgxNDIzOTAy", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/7289#pullrequestreview-481423902", "createdAt": "2020-09-03T01:36:04Z", "commit": {"oid": "ffba636dc3f25be2b3a679552493a11bedb7fb3b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ffba636dc3f25be2b3a679552493a11bedb7fb3b", "author": {"user": {"login": "pupnewfster", "name": "Sara Freimer"}}, "url": "https://github.com/MinecraftForge/MinecraftForge/commit/ffba636dc3f25be2b3a679552493a11bedb7fb3b", "committedDate": "2020-09-02T16:05:05Z", "message": "Formatting"}, "afterCommit": {"oid": "8f1547e8b3d9357d35363264f841752ca1c4759b", "author": {"user": {"login": "pupnewfster", "name": "Sara Freimer"}}, "url": "https://github.com/MinecraftForge/MinecraftForge/commit/8f1547e8b3d9357d35363264f841752ca1c4759b", "committedDate": "2020-09-03T03:46:28Z", "message": "Update to support existing file helper"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8f1547e8b3d9357d35363264f841752ca1c4759b", "author": {"user": {"login": "pupnewfster", "name": "Sara Freimer"}}, "url": "https://github.com/MinecraftForge/MinecraftForge/commit/8f1547e8b3d9357d35363264f841752ca1c4759b", "committedDate": "2020-09-03T03:46:28Z", "message": "Update to support existing file helper"}, "afterCommit": {"oid": "0cee5ac96e21677d9637d788a6526afca4eb075a", "author": {"user": {"login": "pupnewfster", "name": "Sara Freimer"}}, "url": "https://github.com/MinecraftForge/MinecraftForge/commit/0cee5ac96e21677d9637d788a6526afca4eb075a", "committedDate": "2020-09-03T16:49:42Z", "message": "Update to support existing file helper"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f1628e4eb5668346741c66f253defa9e43b3a2ab", "author": {"user": {"login": "pupnewfster", "name": "Sara Freimer"}}, "url": "https://github.com/MinecraftForge/MinecraftForge/commit/f1628e4eb5668346741c66f253defa9e43b3a2ab", "committedDate": "2020-09-08T21:22:58Z", "message": "First pass at creating a system for custom tag types"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4e3a9d385a23f0fc18ed9defc0c5f2a8f209132c", "author": {"user": {"login": "pupnewfster", "name": "Sara Freimer"}}, "url": "https://github.com/MinecraftForge/MinecraftForge/commit/4e3a9d385a23f0fc18ed9defc0c5f2a8f209132c", "committedDate": "2020-09-08T21:22:58Z", "message": "Reduce size of NetworkTagManager patch"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "87b3b3f048207312af3bae1720dbe03235efa3ff", "author": {"user": {"login": "pupnewfster", "name": "Sara Freimer"}}, "url": "https://github.com/MinecraftForge/MinecraftForge/commit/87b3b3f048207312af3bae1720dbe03235efa3ff", "committedDate": "2020-09-08T21:22:58Z", "message": "Continued work on cleaning up some parts of custom tag types"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bdb1a2d887391f1e5cad00736a5ee61de5cf349a", "author": {"user": {"login": "pupnewfster", "name": "Sara Freimer"}}, "url": "https://github.com/MinecraftForge/MinecraftForge/commit/bdb1a2d887391f1e5cad00736a5ee61de5cf349a", "committedDate": "2020-09-08T21:22:58Z", "message": "Continued work on cleaning up some parts of custom tag types"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3e32e6edd26d06dd9cdea4765fca89307a33cc0e", "author": {"user": {"login": "pupnewfster", "name": "Sara Freimer"}}, "url": "https://github.com/MinecraftForge/MinecraftForge/commit/3e32e6edd26d06dd9cdea4765fca89307a33cc0e", "committedDate": "2020-09-08T21:22:58Z", "message": "Start reworking how we keep track of the collections for custom tag types"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4e662e012fca05fac8fc9df609164329ce5ad228", "author": {"user": {"login": "pupnewfster", "name": "Sara Freimer"}}, "url": "https://github.com/MinecraftForge/MinecraftForge/commit/4e662e012fca05fac8fc9df609164329ce5ad228", "committedDate": "2020-09-08T21:23:12Z", "message": "Custom tag types work, some rewriting is needed to tie them more strongly to the registries"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c321e5f0fb00165630bedb52ac6bdc3b5f716c8d", "author": {"user": {"login": "pupnewfster", "name": "Sara Freimer"}}, "url": "https://github.com/MinecraftForge/MinecraftForge/commit/c321e5f0fb00165630bedb52ac6bdc3b5f716c8d", "committedDate": "2020-09-08T21:23:15Z", "message": "Continue work on custom tag types and making them more strongly linked with the registries"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2276858078b5727fb08f90a61a0f5662df89ca86", "author": {"user": {"login": "pupnewfster", "name": "Sara Freimer"}}, "url": "https://github.com/MinecraftForge/MinecraftForge/commit/2276858078b5727fb08f90a61a0f5662df89ca86", "committedDate": "2020-09-08T21:23:15Z", "message": "Allow for \"statically initializing\" references to tags for custom tag types"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7b2fb806de03a0f564a585bf4745d1b24e8f1d02", "author": {"user": {"login": "pupnewfster", "name": "Sara Freimer"}}, "url": "https://github.com/MinecraftForge/MinecraftForge/commit/7b2fb806de03a0f564a585bf4745d1b24e8f1d02", "committedDate": "2020-09-08T21:23:15Z", "message": "Fix incorrect import"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "44a7efdbfeef8871116bf0008c2b21443adad937", "author": {"user": {"login": "pupnewfster", "name": "Sara Freimer"}}, "url": "https://github.com/MinecraftForge/MinecraftForge/commit/44a7efdbfeef8871116bf0008c2b21443adad937", "committedDate": "2020-09-08T21:23:37Z", "message": "Add data generator support for custom tag types, add support to IForgeTagBuilder for adding by RegistryKeys (as that is all the reference Biomes have), and fix a few issues with trying to make custom tag types for custom forge registries"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4d9bb73eaad375465d0690052e93b88e718d6d0b", "author": {"user": {"login": "pupnewfster", "name": "Sara Freimer"}}, "url": "https://github.com/MinecraftForge/MinecraftForge/commit/4d9bb73eaad375465d0690052e93b88e718d6d0b", "committedDate": "2020-09-08T21:23:40Z", "message": "Clear modded cache when updating vanilla tags, and adjust method signatures slightly so as to not expose methods that modders could accidentally misuse"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2fde98c8ab17dbf84b277c7f56cd369de7caa26c", "author": {"user": {"login": "pupnewfster", "name": "Sara Freimer"}}, "url": "https://github.com/MinecraftForge/MinecraftForge/commit/2fde98c8ab17dbf84b277c7f56cd369de7caa26c", "committedDate": "2020-09-08T21:23:40Z", "message": "Work on addressing some TODOs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c60e0512ddcbe8713754362fb48d9093f6b68edb", "author": {"user": {"login": "pupnewfster", "name": "Sara Freimer"}}, "url": "https://github.com/MinecraftForge/MinecraftForge/commit/c60e0512ddcbe8713754362fb48d9093f6b68edb", "committedDate": "2020-09-08T21:23:40Z", "message": "Add the custom tag type creation back that got lost during rebasing"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "eae993c8a08fce459c289e1bc3182c656756412e", "author": {"user": {"login": "pupnewfster", "name": "Sara Freimer"}}, "url": "https://github.com/MinecraftForge/MinecraftForge/commit/eae993c8a08fce459c289e1bc3182c656756412e", "committedDate": "2020-09-08T21:23:43Z", "message": "Continue cleaning up various TODOs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "93d71af14d11bcd84876b9aca41796b3bb40e5f0", "author": {"user": {"login": "pupnewfster", "name": "Sara Freimer"}}, "url": "https://github.com/MinecraftForge/MinecraftForge/commit/93d71af14d11bcd84876b9aca41796b3bb40e5f0", "committedDate": "2020-09-08T21:23:45Z", "message": "Add JavaDocs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "682f48c388a03bf3f7f084a2f9dcae5e738cca9b", "author": {"user": {"login": "pupnewfster", "name": "Sara Freimer"}}, "url": "https://github.com/MinecraftForge/MinecraftForge/commit/682f48c388a03bf3f7f084a2f9dcae5e738cca9b", "committedDate": "2020-09-08T21:23:46Z", "message": "Formatting"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bfbe72c5bcc89d879468b14cded4140f7a0cc2fb", "author": {"user": {"login": "pupnewfster", "name": "Sara Freimer"}}, "url": "https://github.com/MinecraftForge/MinecraftForge/commit/bfbe72c5bcc89d879468b14cded4140f7a0cc2fb", "committedDate": "2020-09-08T21:23:46Z", "message": "Update to support existing file helper"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ca047db8711207e6e0014f2164248ae39c5a202e", "author": {"user": {"login": "pupnewfster", "name": "Sara Freimer"}}, "url": "https://github.com/MinecraftForge/MinecraftForge/commit/ca047db8711207e6e0014f2164248ae39c5a202e", "committedDate": "2020-09-08T21:23:46Z", "message": "Fix patches not applying correctly"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9327e69aa01899231556597f625f598b152e78ab", "author": {"user": {"login": "pupnewfster", "name": "Sara Freimer"}}, "url": "https://github.com/MinecraftForge/MinecraftForge/commit/9327e69aa01899231556597f625f598b152e78ab", "committedDate": "2020-09-08T21:27:10Z", "message": "Rerun datagen to fix conflicts in cache that I didn't bother manually while rebasing"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0cee5ac96e21677d9637d788a6526afca4eb075a", "author": {"user": {"login": "pupnewfster", "name": "Sara Freimer"}}, "url": "https://github.com/MinecraftForge/MinecraftForge/commit/0cee5ac96e21677d9637d788a6526afca4eb075a", "committedDate": "2020-09-03T16:49:42Z", "message": "Update to support existing file helper"}, "afterCommit": {"oid": "9327e69aa01899231556597f625f598b152e78ab", "author": {"user": {"login": "pupnewfster", "name": "Sara Freimer"}}, "url": "https://github.com/MinecraftForge/MinecraftForge/commit/9327e69aa01899231556597f625f598b152e78ab", "committedDate": "2020-09-08T21:27:10Z", "message": "Rerun datagen to fix conflicts in cache that I didn't bother manually while rebasing"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "86bc040b1de5d27948b89984dd4d4e2cfb1d1d60", "author": {"user": {"login": "pupnewfster", "name": "Sara Freimer"}}, "url": "https://github.com/MinecraftForge/MinecraftForge/commit/86bc040b1de5d27948b89984dd4d4e2cfb1d1d60", "committedDate": "2020-09-08T21:29:38Z", "message": "Fix spacing"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6425dcdbe7d9ff4a0e95d72684bfacdcc3113f41", "author": {"user": {"login": "pupnewfster", "name": "Sara Freimer"}}, "url": "https://github.com/MinecraftForge/MinecraftForge/commit/6425dcdbe7d9ff4a0e95d72684bfacdcc3113f41", "committedDate": "2020-09-08T21:39:38Z", "message": "Fix GLMT data files being removed"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2463, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}