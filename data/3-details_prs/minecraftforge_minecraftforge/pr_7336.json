{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg4ODEzODc3", "number": 7336, "title": "Make Biome.Climate and BiomeAmbiance usable from BiomeLoadingEvent", "bodyText": "This fixes #7335 by adding a builder to the climate settings.\nVanilla does not have a builder, nor a public constructor, nor any accessors or getters unlike the other biome objects. This PR:\n\nAdds a new builder for the climate settings, which invokes the now public constructor.\nReplaces the Biome.Climate instance on BiomeLoadingEvent with the builder as the existing climate was unusable (no public getters, only private final fields)\nI've tried to not expose any unnecessary internals to modders and only provide the forge modifiable hookable points.\n\nNo I do not consider \"serialize the climate to json using the codec, then write to the JsonElement, then deserialize it again\" a usable method for biome modifications", "createdAt": "2020-09-17T17:11:42Z", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/7336", "merged": true, "mergeCommit": {"oid": "ac19d1bf2b21f7642b1c58cc26e61f7b99c5041e"}, "closed": true, "closedAt": "2020-09-18T00:57:58Z", "author": {"login": "alcatrazEscapee"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdJ0INXgH2gAyNDg4ODEzODc3OjBiNGZiYzYxMjgwNGI0MTIwMjUyOTFhMmU2ODVjNjQ5Y2M5MmI1N2E=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdJ3omsgH2gAyNDg4ODEzODc3OmEyZmJlYzBmMGU2OTBhODA2ZDRjNmY2ZmVjMjhjZmMwNjcxN2I4MGE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "0b4fbc612804b412025291a2e685c649cc92b57a", "author": {"user": {"login": "alcatrazEscapee", "name": "Alex O'Neill"}}, "url": "https://github.com/MinecraftForge/MinecraftForge/commit/0b4fbc612804b412025291a2e685c649cc92b57a", "committedDate": "2020-09-17T17:06:35Z", "message": "Make BiomeLoadingEvent's reference to climate properties usable by adding a builder for climate to the loading event."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkwODgyMzk0", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/7336#pullrequestreview-490882394", "createdAt": "2020-09-17T18:38:32Z", "commit": {"oid": "0b4fbc612804b412025291a2e685c649cc92b57a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xN1QxODozODozMlrOHTwNSg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xN1QxODozODozMlrOHTwNSg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDQ3NDgyNg==", "bodyText": "This should be inside the hook like everything else is...", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/7336#discussion_r490474826", "createdAt": "2020-09-17T18:38:32Z", "author": {"login": "LexManos"}, "path": "patches/minecraft/net/minecraft/world/biome/Biome.java.patch", "diffHunk": "@@ -16,7 +16,7 @@\n -      })).apply(p_235064_0_, Biome::new);\n +      }), ResourceLocation.field_240908_a_.fieldOf(\"forge:registry_name\").forGetter(Biome::getRegistryName))\n +      .apply(p_235064_0_, (climate, category, depth, scale, effects, gen, spawns, name) ->\n-+          net.minecraftforge.common.ForgeHooks.enhanceBiome(name, climate, category, depth, scale, effects, gen, spawns, p_235064_0_, Biome::new));\n++          net.minecraftforge.common.ForgeHooks.enhanceBiome(name, new net.minecraftforge.common.world.BiomeClimateBuilder(climate.field_242460_b, climate.field_242461_c, climate.field_242462_d, climate.field_242463_e), category, depth, scale, effects, gen, spawns, p_235064_0_, Biome::new));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0b4fbc612804b412025291a2e685c649cc92b57a"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0686026220eba860197b433936d0767722348ff9", "author": {"user": {"login": "alcatrazEscapee", "name": "Alex O'Neill"}}, "url": "https://github.com/MinecraftForge/MinecraftForge/commit/0686026220eba860197b433936d0767722348ff9", "committedDate": "2020-09-17T19:31:29Z", "message": "Just AT all the fields that modders need to be able to construct their own instances instead. Also add AT entries required to make BiomeAmbience usable as well."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "50990aefa23996b407e0c5440eb6adfbee05ddeb", "author": {"user": {"login": "alcatrazEscapee", "name": "Alex O'Neill"}}, "url": "https://github.com/MinecraftForge/MinecraftForge/commit/50990aefa23996b407e0c5440eb6adfbee05ddeb", "committedDate": "2020-09-17T19:32:28Z", "message": "Remove unnessecary change."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkwOTc5ODcy", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/7336#pullrequestreview-490979872", "createdAt": "2020-09-17T20:51:48Z", "commit": {"oid": "50990aefa23996b407e0c5440eb6adfbee05ddeb"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xN1QyMDo1MTo0OVrOHT1GMw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xN1QyMDo1MTo0OVrOHT1GMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDU1NDkzMQ==", "bodyText": "All of these have getters, you need to remove the sided annotations with the SAS file.", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/7336#discussion_r490554931", "createdAt": "2020-09-17T20:51:49Z", "author": {"login": "LexManos"}, "path": "src/main/resources/META-INF/accesstransformer.cfg", "diffHunk": "@@ -299,6 +299,23 @@ public net.minecraft.world.World field_73004_o #rainingStrength\n public net.minecraft.world.World field_73017_q #thunderingStrength\n public net.minecraft.world.World field_73018_p #prevThunderingStrength\n public net.minecraft.world.biome.Biome$Climate\n+public net.minecraft.world.biome.Biome$Climate <init>(Lnet/minecraft/world/biome/Biome$RainType;FLnet/minecraft/world/biome/Biome$TemperatureModifier;F)V\n+public net.minecraft.world.biome.Biome$Climate field_242460_b # precipitation\n+public net.minecraft.world.biome.Biome$Climate field_242461_c # temperature\n+public net.minecraft.world.biome.Biome$Climate field_242462_d # temperatureModifier\n+public net.minecraft.world.biome.Biome$Climate field_242463_e # downfall\n+public net.minecraft.world.biome.BiomeAmbience field_235205_b_ # fogColor\n+public net.minecraft.world.biome.BiomeAmbience field_235206_c_ # waterColor\n+public net.minecraft.world.biome.BiomeAmbience field_235207_d_ # waterFogColor\n+public net.minecraft.world.biome.BiomeAmbience field_235208_e_ # particle\n+public net.minecraft.world.biome.BiomeAmbience field_235209_f_ # ambientSound", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "50990aefa23996b407e0c5440eb6adfbee05ddeb"}, "originalPosition": 13}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a2fbec0f0e690a806d4c6f6fec28cfc06717b80a", "author": {"user": {"login": "alcatrazEscapee", "name": "Alex O'Neill"}}, "url": "https://github.com/MinecraftForge/MinecraftForge/commit/a2fbec0f0e690a806d4c6f6fec28cfc06717b80a", "committedDate": "2020-09-17T21:11:41Z", "message": "Move AT entries for things that had client only accessors to forge.sas"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2271, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}