{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQwODU5NDIw", "number": 6851, "title": "Add simple patch checker and cleanup patches", "bodyText": "Adds a simple patch verifier that checks for the following:\n\nAny tabs\nAny import changes\nHunks that only have white space changes\nDisconnected white space changes (See EntityRendererManager patch change)\nFields with access change and/or final modifier changed\n\nThere is also a task that will automatically fix whatever errors it can. Example output before these patch changes.\n> Task :forge:checkPatchesAndFix\nPatch contains white space change in valid hunk at 32 (cannot auto fix), file: patches/minecraft/net/minecraft/entity/monster/ShulkerEntity.java.patch\nRemoving white space hunk starting at 43, file: patches/minecraft/net/minecraft/entity/monster/ShulkerEntity.java.patch\n*** Updating patch file. Please run setup then genPatches again. ***\nFixing tabs on line 9, file: patches/minecraft/net/minecraft/network/play/client/CClientSettingsPacket.java.patch\n*** Updating patch file. Please run setup then genPatches again. ***\nRemoving white space hunk starting at 3, file: patches/minecraft/net/minecraft/world/gen/IWorldGenerationBaseReader.java.patch\nPatch is now empty removing, file: patches/minecraft/net/minecraft/world/gen/IWorldGenerationBaseReader.java.patch\nPatch contains white space change in valid hunk at 16 (cannot auto fix), file: patches/minecraft/net/minecraft/client/renderer/entity/EntityRendererManager.java.patch\nRemoving white space hunk starting at 84, file: patches/minecraft/net/minecraft/client/renderer/FirstPersonRenderer.java.patch\n*** Updating patch file. Please run setup then genPatches again. ***\nPatch contains white space change in valid hunk at 58 (cannot auto fix), file: patches/minecraft/net/minecraft/client/renderer/FogRenderer.java.patch\n\nEdit: Mention field check", "createdAt": "2020-06-27T04:36:23Z", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/6851", "merged": true, "mergeCommit": {"oid": "aab8adb884480383b2be99146d0fb2843dc00fd2"}, "closed": true, "closedAt": "2020-07-06T21:30:11Z", "author": {"login": "JDLogic"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcvQDI9AH2gAyNDQwODU5NDIwOmE3YmZiMWU4OGVmMWMxODcxODVhNzJkMTM5OTNhNjM0Yjc4NmUxYzc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcxV6Q2gH2gAyNDQwODU5NDIwOjY1MGU1OGY3NzVmY2RmZWEyNDRmYzBjZmIyODhmZDNlMWU2YTZlZDU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "a7bfb1e88ef1c187185a72d13993a634b786e1c7", "author": {"user": {"login": "JDLogic", "name": "Justin"}}, "url": "https://github.com/MinecraftForge/MinecraftForge/commit/a7bfb1e88ef1c187185a72d13993a634b786e1c7", "committedDate": "2020-06-27T04:22:26Z", "message": "Add simple patch checker and cleanup patches"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM4Njc1MTc2", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/6851#pullrequestreview-438675176", "createdAt": "2020-06-27T05:49:38Z", "commit": {"oid": "a7bfb1e88ef1c187185a72d13993a634b786e1c7"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM5NDU4MDI1", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/6851#pullrequestreview-439458025", "createdAt": "2020-06-29T20:00:50Z", "commit": {"oid": "a7bfb1e88ef1c187185a72d13993a634b786e1c7"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOVQyMDowMDo1MFrOGqgHRg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOVQyMDowNDoyNFrOGqgOcg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzIxOTUyNg==", "bodyText": "These should verify, but also just delete the patch silently if the patches are ONLY the S2S artifacts.", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/6851#discussion_r447219526", "createdAt": "2020-06-29T20:00:50Z", "author": {"login": "LexManos"}, "path": "gradle/patchVerifer.gradle", "diffHunk": "@@ -0,0 +1,194 @@\n+import java.util.regex.Pattern\n+\n+def ignore = [\n+        \"patches/minecraft/net/minecraft/client/renderer/ViewFrustum.java.patch\",\n+        \"patches/minecraft/net/minecraft/data/BlockModelDefinition.java.patch\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a7bfb1e88ef1c187185a72d13993a634b786e1c7"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzIxOTk5Mw==", "bodyText": "The better way to do this would be to define the task in buildSrc similar to how we do things in MCPConfig.", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/6851#discussion_r447219993", "createdAt": "2020-06-29T20:01:48Z", "author": {"login": "LexManos"}, "path": "build.gradle", "diffHunk": "@@ -137,6 +137,8 @@ project(':forge') {\n     apply plugin: 'net.minecraftforge.gradle.patcher'\n     apply plugin: 'net.minecrell.licenser'\n     apply plugin: 'de.undercouch.download'\n+\n+    apply from: \"$rootDir/gradle/patchVerifer.gradle\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a7bfb1e88ef1c187185a72d13993a634b786e1c7"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzIyMTM2Mg==", "bodyText": "This seems incorrect, to be automatically fixed, but yes this int should also be deleted because we no longer use it. Was this and the others below this done manually?", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/6851#discussion_r447221362", "createdAt": "2020-06-29T20:04:24Z", "author": {"login": "LexManos"}, "path": "patches/minecraft/net/minecraft/network/play/server/SJoinGamePacket.java.patch", "diffHunk": "@@ -1,10 +0,0 @@\n---- a/net/minecraft/network/play/server/SJoinGamePacket.java\n-+++ b/net/minecraft/network/play/server/SJoinGamePacket.java\n-@@ -21,6 +21,7 @@\n-    private boolean field_149204_b;\n-    private GameType field_149205_c;\n-    private GameType field_241785_e_;\n-+   private int dimensionInt;\n-    private Set<RegistryKey<World>> field_240811_e_;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a7bfb1e88ef1c187185a72d13993a634b786e1c7"}, "originalPosition": 8}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "650e58f775fcdfea244fc0cfb288fd3e1e6a6ed5", "author": {"user": {"login": "JDLogic", "name": "Justin"}}, "url": "https://github.com/MinecraftForge/MinecraftForge/commit/650e58f775fcdfea244fc0cfb288fd3e1e6a6ed5", "committedDate": "2020-07-03T16:20:01Z", "message": "Address comments\n * move task implementation\n * genPatches is now finalized by checkPatches\n * the S2S artifacts are automatically removed\n * added class and method access checking"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1984, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}