{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQzMzkyNTM0", "number": 7560, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yN1QxNTo0MTo0MVrOFJXfrQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yN1QxNTo0MTo0MVrOFJXfrQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ1MzY2NDQ1OnYy", "diffSide": "RIGHT", "path": "src/main/java/net/minecraftforge/network/VanillaConnectionNetworkFilter.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yN1QxNTo0MTo0MVrOILsFbg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yN1QxNTo1MzozNlrOILsKEg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTEyNzUzNA==", "bodyText": "Won't using Collections.emptyList throw an UnsupportedOperationException when adding the snapshots further down the line? Shouldn't we use a new ArrayList?", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/7560#discussion_r549127534", "createdAt": "2020-12-27T15:41:41Z", "author": {"login": "ichttt"}, "path": "src/main/java/net/minecraftforge/network/VanillaConnectionNetworkFilter.java", "diffHunk": "@@ -84,7 +85,7 @@ public static void injectIfNecessary(NetworkManager manager)\n     @Nonnull\n     private static SEntityPropertiesPacket filterEntityProperties(SEntityPropertiesPacket msg)\n     {\n-        SEntityPropertiesPacket newPacket = new SEntityPropertiesPacket();\n+        SEntityPropertiesPacket newPacket = new SEntityPropertiesPacket(msg.getEntityId(), Collections.emptyList());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "13d577cc39cad4a33a8e5e198e8247ff1dcf4c2e"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTEyODYzNw==", "bodyText": "SEntityPropertiesPacket always initializes its snapshot field as Lists.newArrayList. This constructor parameter is only used in a for loop to fill that snapshots list. However as we already have a list of snapshots here (and not a list of ModifiableAttributeInstance, I pass in an empty list so the constructor does not add anything to the snapshots list - we will do that later manually.", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/7560#discussion_r549128637", "createdAt": "2020-12-27T15:52:26Z", "author": {"login": "diesieben07"}, "path": "src/main/java/net/minecraftforge/network/VanillaConnectionNetworkFilter.java", "diffHunk": "@@ -84,7 +85,7 @@ public static void injectIfNecessary(NetworkManager manager)\n     @Nonnull\n     private static SEntityPropertiesPacket filterEntityProperties(SEntityPropertiesPacket msg)\n     {\n-        SEntityPropertiesPacket newPacket = new SEntityPropertiesPacket();\n+        SEntityPropertiesPacket newPacket = new SEntityPropertiesPacket(msg.getEntityId(), Collections.emptyList());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTEyNzUzNA=="}, "originalCommit": {"oid": "13d577cc39cad4a33a8e5e198e8247ff1dcf4c2e"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTEyODcyMg==", "bodyText": "You are right, for some reason I misread the code there.", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/7560#discussion_r549128722", "createdAt": "2020-12-27T15:53:36Z", "author": {"login": "ichttt"}, "path": "src/main/java/net/minecraftforge/network/VanillaConnectionNetworkFilter.java", "diffHunk": "@@ -84,7 +85,7 @@ public static void injectIfNecessary(NetworkManager manager)\n     @Nonnull\n     private static SEntityPropertiesPacket filterEntityProperties(SEntityPropertiesPacket msg)\n     {\n-        SEntityPropertiesPacket newPacket = new SEntityPropertiesPacket();\n+        SEntityPropertiesPacket newPacket = new SEntityPropertiesPacket(msg.getEntityId(), Collections.emptyList());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTEyNzUzNA=="}, "originalCommit": {"oid": "13d577cc39cad4a33a8e5e198e8247ff1dcf4c2e"}, "originalPosition": 13}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 795, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}