{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk2ODM0MDE3", "number": 7387, "title": "Reimplement nametag distance attribute, fix attribute translation keys", "bodyText": "This PR closes #7372.\nFirst, this PR addresses the lack of translation keys for the Forge-added attributes. For this, I mirrored how vanilla has their attributes and translation keys, and added the English (en_us.json) translation keys as a default. I do not know how Forge integrates with Crowdin and the crowdsourced translations, and I have received no word from any of the Forge/Triage team on how it is setup.\nI request any member of the Forge/Triage team to contact me if there are further steps to be taken on my end to add these translation keys to the Crowdin site.\nSecond, this PR addresses the lack of functionality of the forge:nametag_distance attribute. From the name, I have presumed that this attribute controls the distance from which the nametag of a living entity can be observed from. I implemented a hook as ForgeHooksClient#isNameplateInRenderDistance(...), which is patched into EntityRender#renderName(...).\nHowever, due to restrictions on entity rendering, all nameplates are not rendered if they exceed 64 blocks from the camera's position (see Entity#isInRangeToRenderDist()). In my opinion, the patches required to workaround that for this attribute may cause unintended consequences, so I went with the safe option of limiting the attribute's max value to 64 blocks (as any higher value functions the same as 64.0d).\nNote: In my opinion, these changes should be considered non-breaking: for the first point, the changed string is only used (as far as my investigation led me) for translations; for the second point, any value higher than 64.0d has the same function as that value; the changed maximum value simply ensures that it will never be some arbitrarity high number.", "createdAt": "2020-10-02T10:56:04Z", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/7387", "merged": true, "mergeCommit": {"oid": "22f7f4649b00b3416d7a680e7f4c084f3d67de2c"}, "closed": true, "closedAt": "2020-10-26T23:52:37Z", "author": {"login": "sciwhiz12"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdOjPVUAH2gAyNDk2ODM0MDE3OmQwZmRmMjUwZDMwZjhiZDdmYmE0OWZmOTI4ODBkMTJiMWZkN2IzZGM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdUDBNAgFqTUxMTY4OTQ4Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "d0fdf250d30f8bd7fba49ff92880d12b1fd7b3dc", "author": {"user": {"login": "sciwhiz12", "name": null}}, "url": "https://github.com/MinecraftForge/MinecraftForge/commit/d0fdf250d30f8bd7fba49ff92880d12b1fd7b3dc", "committedDate": "2020-10-02T10:15:36Z", "message": "Fix translation keys for attributes\n\nFixes #7372"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "07d837bd7dd1a47f34170da474051dfddbf4cf41", "author": {"user": {"login": "sciwhiz12", "name": null}}, "url": "https://github.com/MinecraftForge/MinecraftForge/commit/07d837bd7dd1a47f34170da474051dfddbf4cf41", "committedDate": "2020-10-02T10:15:54Z", "message": "Reimplement nametag render distance attribute"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAyMjU2NjUx", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/7387#pullrequestreview-502256651", "createdAt": "2020-10-05T17:09:21Z", "commit": {"oid": "07d837bd7dd1a47f34170da474051dfddbf4cf41"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQxNzowOToyMVrOHcmNJQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQxNzowOToyMVrOHcmNJQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTc0ODEzMw==", "bodyText": "Is the naming change needed for it to work, or can it work with the old naming? The reason I ask is if memory serves if the keys get renamed stuff needs to happen in crowdin/split as forge currently is using the same lang instance on crowdin between 1.15 and 1.16 (and I think maybe even 1.14)", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/7387#discussion_r499748133", "createdAt": "2020-10-05T17:09:21Z", "author": {"login": "pupnewfster"}, "path": "src/main/resources/assets/forge/lang/en_us.json", "diffHunk": "@@ -156,6 +156,8 @@\n   \"forge.controlsgui.alt\": \"ALT + %s\",\n \n   \"forge.container.enchant.limitedEnchantability\": \"Limited Enchantability\",\n-  \"attribute.name.generic.reachDistance\": \"Reach Distance\",\n-  \"attribute.name.forge.swimSpeed\": \"Swim Speed\"\n+  \"attribute.name.forge.swim_speed\": \"Swim Speed\",\n+  \"attribute.name.forge.nametag_distance\": \"Nametag Render Distance\",\n+  \"attribute.name.forge.entity_gravity\": \"Entity Gravity\",\n+  \"attribute.name.generic.reach_distance\": \"Reach Distance\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "07d837bd7dd1a47f34170da474051dfddbf4cf41"}, "originalPosition": 9}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fb8008496f4f0828b31960dadbfac1ca625c9723", "author": {"user": {"login": "sciwhiz12", "name": null}}, "url": "https://github.com/MinecraftForge/MinecraftForge/commit/fb8008496f4f0828b31960dadbfac1ca625c9723", "committedDate": "2020-10-10T22:02:06Z", "message": "Use old translation keys for attributes"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTExNjg5NDgz", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/7387#pullrequestreview-511689483", "createdAt": "2020-10-19T12:06:45Z", "commit": {"oid": "fb8008496f4f0828b31960dadbfac1ca625c9723"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2329, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}