{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDYyMDc5MDgz", "number": 7207, "title": "[1.16] Fix possible crash when using rendering regionCache", "bodyText": "Fixes #7197 using Optional as cache value wrapper\nThis may be null when a chunk is completely empty (air blocks only)", "createdAt": "2020-08-03T10:01:12Z", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/7207", "merged": true, "mergeCommit": {"oid": "b1247df4dc5ae43be44c7c7b81a02d58fc8504f5"}, "closed": true, "closedAt": "2020-09-22T18:58:20Z", "author": {"login": "Nightenom"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc9LS0_gFqTQ2Mzg2MzA2OQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdLchJcgH2gAyNDYyMDc5MDgzOmNlMThlMGIwMzQ5Yjg4MTBkNTgzMGRjZjE1Yzc5MDEzMWYwYzc0ZDM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYzODYzMDY5", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/7207#pullrequestreview-463863069", "createdAt": "2020-08-09T10:44:54Z", "commit": {"oid": "d0a50ac22ab4091f95675a5a07ec1585edc66c14"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wOVQxMDo0NDo1NVrOG96DPw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wOVQxMDo0NDo1NVrOG96DPw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzU2NzQyMw==", "bodyText": "This is a binary breaking change. Is there a reason you are not just adding a null check on the call-site?", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/7207#discussion_r467567423", "createdAt": "2020-08-09T10:44:55Z", "author": {"login": "diesieben07"}, "path": "src/main/java/net/minecraftforge/client/MinecraftForgeClient.java", "diffHunk": "@@ -122,10 +123,10 @@ public static void onRebuildChunk(World world, BlockPos position, ChunkRenderCac\n         if (cache == null)\n             regionCache.invalidate(Pair.of(world, position));\n         else\n-            regionCache.put(Pair.of(world, position), cache);\n+            regionCache.put(Pair.of(world, position), Optional.ofNullable(cache));\n     }\n \n-    public static ChunkRenderCache getRegionRenderCache(World world, BlockPos pos)\n+    public static Optional<ChunkRenderCache> getRegionRenderCache(World world, BlockPos pos)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d0a50ac22ab4091f95675a5a07ec1585edc66c14"}, "originalPosition": 38}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1dbb8833cddad6e6e8cdcf46147d2adbba28937b", "author": {"user": {"login": "Nightenom", "name": null}}, "url": "https://github.com/MinecraftForge/MinecraftForge/commit/1dbb8833cddad6e6e8cdcf46147d2adbba28937b", "committedDate": "2020-09-11T07:17:41Z", "message": "Fix #7197"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9f7d2c8e934f0faafb9a7867de70faba2a37993a", "author": {"user": {"login": "Nightenom", "name": null}}, "url": "https://github.com/MinecraftForge/MinecraftForge/commit/9f7d2c8e934f0faafb9a7867de70faba2a37993a", "committedDate": "2020-09-11T07:17:41Z", "message": "Update MinecraftForgeClient.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "63453d7cd9463f561b53a914aa8637b02cdcf6a4", "author": {"user": {"login": "Nightenom", "name": null}}, "url": "https://github.com/MinecraftForge/MinecraftForge/commit/63453d7cd9463f561b53a914aa8637b02cdcf6a4", "committedDate": "2020-09-11T07:17:41Z", "message": "Fix derp"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ac56bc55b8b9166a8140e17da9369f89c4138d36", "author": {"user": {"login": "Nightenom", "name": null}}, "url": "https://github.com/MinecraftForge/MinecraftForge/commit/ac56bc55b8b9166a8140e17da9369f89c4138d36", "committedDate": "2020-08-09T14:52:04Z", "message": "Fix derp"}, "afterCommit": {"oid": "63453d7cd9463f561b53a914aa8637b02cdcf6a4", "author": {"user": {"login": "Nightenom", "name": null}}, "url": "https://github.com/MinecraftForge/MinecraftForge/commit/63453d7cd9463f561b53a914aa8637b02cdcf6a4", "committedDate": "2020-09-11T07:17:41Z", "message": "Fix derp"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg4MzYxMzA0", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/7207#pullrequestreview-488361304", "createdAt": "2020-09-15T06:28:38Z", "commit": {"oid": "63453d7cd9463f561b53a914aa8637b02cdcf6a4"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQwNjoyODozOVrOHRymeA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQwNjoyODozOVrOHRymeA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODQxNjg4OA==", "bodyText": "You can use a simple Optional.of(...) here since cache can not be null.", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/7207#discussion_r488416888", "createdAt": "2020-09-15T06:28:39Z", "author": {"login": "OrionDevelopment"}, "path": "src/main/java/net/minecraftforge/client/MinecraftForgeClient.java", "diffHunk": "@@ -115,10 +116,15 @@ public static void onRebuildChunk(World world, BlockPos position, ChunkRenderCac\n         if (cache == null)\n             regionCache.invalidate(Pair.of(world, position));\n         else\n-            regionCache.put(Pair.of(world, position), cache);\n+            regionCache.put(Pair.of(world, position), Optional.ofNullable(cache));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "63453d7cd9463f561b53a914aa8637b02cdcf6a4"}, "originalPosition": 34}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a4fa698ede03facf327007514ad5d29cd19b6732", "author": {"user": {"login": "Nightenom", "name": null}}, "url": "https://github.com/MinecraftForge/MinecraftForge/commit/a4fa698ede03facf327007514ad5d29cd19b6732", "committedDate": "2020-09-15T07:43:31Z", "message": "Update MinecraftForgeClient.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ce18e0b0349b8810d5830dcf15c790131f0c74d3", "author": {"user": {"login": "LexManos", "name": "LexManos"}}, "url": "https://github.com/MinecraftForge/MinecraftForge/commit/ce18e0b0349b8810d5830dcf15c790131f0c74d3", "committedDate": "2020-09-22T18:43:57Z", "message": "Add @Nullable"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2408, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}