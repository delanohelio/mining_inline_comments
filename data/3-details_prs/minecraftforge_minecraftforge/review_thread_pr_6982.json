{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDUxMjcyODYy", "number": 6982, "reviewThreads": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQwOToxOTozMFrOESuixQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNS0wMlQxMToxMTo0OFrOF5Xd0A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg4MDcyMzg5OnYy", "diffSide": "RIGHT", "path": "src/main/java/net/minecraftforge/client/sounds/generators/SoundDefinition.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQwOToxOTozMFrOG4EIXg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQwOTo0MzoyMVrOG4FAtQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTQ0MTExOA==", "bodyText": "Please move this and all related classes to the data gen package.", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/6982#discussion_r461441118", "createdAt": "2020-07-28T09:19:30Z", "author": {"login": "ichttt"}, "path": "src/main/java/net/minecraftforge/client/sounds/generators/SoundDefinition.java", "diffHunk": "@@ -0,0 +1,449 @@\n+/*\n+ * Minecraft Forge\n+ * Copyright (c) 2016-2020.\n+ *\n+ * This library is free software; you can redistribute it and/or\n+ * modify it under the terms of the GNU Lesser General Public\n+ * License as published by the Free Software Foundation version 2.1\n+ * of the License.\n+ *\n+ * This library is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+ * Lesser General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU Lesser General Public\n+ * License along with this library; if not, write to the Free Software\n+ * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301  USA\n+ */\n+\n+package net.minecraftforge.client.sounds.generators;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "00455dc1b20de8657b43be60b1bf2847a12e4979"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTQ0OTU1NQ==", "bodyText": "To make sure, do you refer to net.minecraftforge.common.data or is there another package?", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/6982#discussion_r461449555", "createdAt": "2020-07-28T09:33:31Z", "author": {"login": "TheSilkMiner"}, "path": "src/main/java/net/minecraftforge/client/sounds/generators/SoundDefinition.java", "diffHunk": "@@ -0,0 +1,449 @@\n+/*\n+ * Minecraft Forge\n+ * Copyright (c) 2016-2020.\n+ *\n+ * This library is free software; you can redistribute it and/or\n+ * modify it under the terms of the GNU Lesser General Public\n+ * License as published by the Free Software Foundation version 2.1\n+ * of the License.\n+ *\n+ * This library is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+ * Lesser General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU Lesser General Public\n+ * License along with this library; if not, write to the Free Software\n+ * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301  USA\n+ */\n+\n+package net.minecraftforge.client.sounds.generators;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTQ0MTExOA=="}, "originalCommit": {"oid": "00455dc1b20de8657b43be60b1bf2847a12e4979"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTQ1NTU0MQ==", "bodyText": "Yes that package should be fine", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/6982#discussion_r461455541", "createdAt": "2020-07-28T09:43:21Z", "author": {"login": "ichttt"}, "path": "src/main/java/net/minecraftforge/client/sounds/generators/SoundDefinition.java", "diffHunk": "@@ -0,0 +1,449 @@\n+/*\n+ * Minecraft Forge\n+ * Copyright (c) 2016-2020.\n+ *\n+ * This library is free software; you can redistribute it and/or\n+ * modify it under the terms of the GNU Lesser General Public\n+ * License as published by the Free Software Foundation version 2.1\n+ * of the License.\n+ *\n+ * This library is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+ * Lesser General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU Lesser General Public\n+ * License along with this library; if not, write to the Free Software\n+ * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301  USA\n+ */\n+\n+package net.minecraftforge.client.sounds.generators;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTQ0MTExOA=="}, "originalCommit": {"oid": "00455dc1b20de8657b43be60b1bf2847a12e4979"}, "originalPosition": 20}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg4MDcyODczOnYy", "diffSide": "RIGHT", "path": "src/generated_test/resources/assets/data_gen_test/sounds.json", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQwOToyMDo0NlrOG4ELPA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQwOToyMDo0NlrOG4ELPA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTQ0MTg1Mg==", "bodyText": "it would be nice if this could match the vanilla file, so if you could auto-remove the minecraft prefix if that would be great!", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/6982#discussion_r461441852", "createdAt": "2020-07-28T09:20:46Z", "author": {"login": "ichttt"}, "path": "src/generated_test/resources/assets/data_gen_test/sounds.json", "diffHunk": "@@ -0,0 +1,125 @@\n+{\n+  \"ambient.underwater.loop.additions\": {\n+    \"sounds\": [\n+      \"minecraft:ambient/underwater/additions/bubbles1\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "00455dc1b20de8657b43be60b1bf2847a12e4979"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA4NTA3OTM4OnYy", "diffSide": "RIGHT", "path": "patches/minecraft/net/minecraft/data/Main.java.patch", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxODozNzoyNVrOHWHc9Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxODozNzoyNVrOHWHc9Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjk1MjgyMQ==", "bodyText": "This will NPE if someone doesn't specify the assetsDir, its not marked as required, and it shouldn't be. So you can't do .toPath directly. You need a null check", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/6982#discussion_r492952821", "createdAt": "2020-09-22T18:37:25Z", "author": {"login": "LexManos"}, "path": "patches/minecraft/net/minecraft/data/Main.java.patch", "diffHunk": "@@ -26,7 +28,7 @@\n +         Collection<Path> existingPacks = optionset.valuesOf(existing).stream().map(Paths::get).collect(Collectors.toList());\n +         java.util.Set<String> mods = new java.util.HashSet<>(optionset.valuesOf(mod));\n +         boolean isFlat = mods.isEmpty() || optionset.has(flat);\n-+         net.minecraftforge.fml.DatagenModLoader.begin(mods, path, inputs, existingPacks, flag2, flag1, flag3, flag4, flag5, isFlat);\n++         net.minecraftforge.fml.DatagenModLoader.begin(mods, path, inputs, existingPacks, optionset.valueOf(assetIndex), optionset.valueOf(assetsDir).toPath(), flag2, flag1, flag3, flag4, flag5, isFlat);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fe813d362fd4d720328ffeb9854798b2ba0c4eab"}, "originalPosition": 30}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA4NTA4MjQxOnYy", "diffSide": "RIGHT", "path": "src/main/java/net/minecraftforge/common/data/ExistingFileHelper.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxODozODoyMFrOHWHe9g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxODozODoyMFrOHWHe9g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjk1MzMzNA==", "bodyText": "What is your facination with adding arguments to the middle of the argument list?\nNew arguments go on the end, and ideally keep the old method bouncing to the new with default values.", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/6982#discussion_r492953334", "createdAt": "2020-09-22T18:38:20Z", "author": {"login": "LexManos"}, "path": "src/main/java/net/minecraftforge/common/data/ExistingFileHelper.java", "diffHunk": "@@ -48,17 +52,24 @@\n     private final SimpleReloadableResourceManager clientResources, serverData;\n     private final boolean enable;\n \n-    public ExistingFileHelper(Collection<Path> existingPacks, boolean enable) {\n+    public ExistingFileHelper(Collection<Path> existingPacks, @Nullable final String assetIndex, @Nullable final File assetsDir, boolean enable) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fe813d362fd4d720328ffeb9854798b2ba0c4eab"}, "originalPosition": 23}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ1ODg2NDA3OnYy", "diffSide": "RIGHT", "path": "src/test/java/net/minecraftforge/debug/DataGeneratorTest.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOVQyMDo0MzowN1rOIMXnug==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOVQyMDo0MzowN1rOIMXnug==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTg0MDgyNg==", "bodyText": "Don't we have that set up now? We should be able to compare the generated file with the original file", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/6982#discussion_r549840826", "createdAt": "2020-12-29T20:43:07Z", "author": {"login": "ichttt"}, "path": "src/test/java/net/minecraftforge/debug/DataGeneratorTest.java", "diffHunk": "@@ -201,6 +205,83 @@ protected void registerRecipes(Consumer<IFinishedRecipe> consumer)\n         }\n     }\n \n+    public static class SoundDefinitions extends SoundDefinitionsProvider\n+    {\n+        public SoundDefinitions(final DataGenerator generator, final ExistingFileHelper helper)\n+        {\n+            super(generator, MODID, helper);\n+        }\n+\n+        @Override\n+        public void registerSounds()\n+        {\n+            // Taken from vanilla's 'sounds.json'. These are supposed to be 1-to-1 copies, but currently\n+            // automatic testing of those copies cannot be performed due to limitations in the data-gen\n+            // system, where the additional data pack that vanilla loads from the launcher's assets/\n+            // directory isn't actually loaded when running data-gen.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "64a3e225513cf63d84511415e2127ce1ef76523c"}, "originalPosition": 35}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ1ODg2OTI3OnYy", "diffSide": "RIGHT", "path": "src/main/java/net/minecraftforge/fml/DatagenModLoader.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOVQyMDo0NTo1MFrOIMXqgw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOVQyMDo0NTo1MFrOIMXqgw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTg0MTUzOQ==", "bodyText": "Although run from datagen, this is a binary break. Please just leave the old contructor, and deprecate it. Also, please add the new parameters to the end of the parameter list", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/6982#discussion_r549841539", "createdAt": "2020-12-29T20:45:50Z", "author": {"login": "ichttt"}, "path": "src/main/java/net/minecraftforge/fml/DatagenModLoader.java", "diffHunk": "@@ -39,13 +40,13 @@ public static boolean isRunningDataGen() {\n         return runningDataGen;\n     }\n \n-    public static void begin(final Set<String> mods, final Path path, final java.util.Collection<Path> inputs, Collection<Path> existingPacks, final boolean serverGenerators, final boolean clientGenerators, final boolean devToolGenerators, final boolean reportsGenerator, final boolean structureValidator, final boolean flat) {\n+    public static void begin(final Set<String> mods, final Path path, final Collection<Path> inputs, Collection<Path> existingPacks, final String assetIndex, final File assetsDir, final boolean serverGenerators, final boolean clientGenerators, final boolean devToolGenerators, final boolean reportsGenerator, final boolean structureValidator, final boolean flat) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "64a3e225513cf63d84511415e2127ce1ef76523c"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzkyNTUyNDA3OnYy", "diffSide": "RIGHT", "path": "src/main/java/net/minecraftforge/common/data/SoundDefinitionsProvider.java", "isResolved": false, "comments": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNC0yNlQwODozMjoxOVrOJPW3JQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNC0yNlQxODo1MTowNFrOJP0H-w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyMDA4Mjk4MQ==", "bodyText": "It seems a bit unnecessary to define bouncers for all these methods when they could just be defined in this class entirely. What purpose does defining them inside the implementation serve?", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/6982#discussion_r620082981", "createdAt": "2021-04-26T08:32:19Z", "author": {"login": "tterrag1098"}, "path": "src/main/java/net/minecraftforge/common/data/SoundDefinitionsProvider.java", "diffHunk": "@@ -0,0 +1,270 @@\n+/*\n+ * Minecraft Forge\n+ * Copyright (c) 2016-2020.\n+ *\n+ * This library is free software; you can redistribute it and/or\n+ * modify it under the terms of the GNU Lesser General Public\n+ * License as published by the Free Software Foundation version 2.1\n+ * of the License.\n+ *\n+ * This library is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+ * Lesser General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU Lesser General Public\n+ * License along with this library; if not, write to the Free Software\n+ * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301  USA\n+ */\n+\n+package net.minecraftforge.common.data;\n+\n+import com.google.gson.Gson;\n+import com.google.gson.GsonBuilder;\n+import com.google.gson.JsonObject;\n+import net.minecraft.data.DataGenerator;\n+import net.minecraft.data.DirectoryCache;\n+import net.minecraft.data.IDataProvider;\n+import net.minecraft.resources.ResourcePackType;\n+import net.minecraft.util.ResourceLocation;\n+import net.minecraft.util.SoundEvent;\n+import net.minecraftforge.registries.ForgeRegistries;\n+import org.apache.logging.log4j.LogManager;\n+import org.apache.logging.log4j.Logger;\n+\n+import java.io.IOException;\n+import java.nio.file.Path;\n+import java.util.LinkedHashMap;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.function.Supplier;\n+import java.util.stream.Collectors;\n+\n+/**\n+ * Data provider for the {@code sounds.json} file, which identifies sound definitions\n+ * for the various sound events in Minecraft.\n+ */\n+public abstract class SoundDefinitionsProvider implements IDataProvider\n+{\n+    private static final Logger LOGGER = LogManager.getLogger();\n+    private static final Gson GSON = new GsonBuilder().setPrettyPrinting().disableHtmlEscaping().create();\n+    private final DataGenerator generator;\n+    private final String modId;\n+    private final ExistingFileHelper helper;\n+\n+    private final Map<String, SoundDefinition> sounds = new LinkedHashMap<>();\n+\n+    /**\n+     * Creates a new instance of this data provider.\n+     *\n+     * @param generator The data generator instance provided by the event you are initializing this provider in.\n+     * @param modId The mod ID of the current mod.\n+     * @param helper The existing file helper provided by the event you are initializing this provider in.\n+     */\n+    protected SoundDefinitionsProvider(final DataGenerator generator, final String modId, final ExistingFileHelper helper)\n+    {\n+        this.generator = generator;\n+        this.modId = modId;\n+        this.helper = helper;\n+    }\n+\n+    /**\n+     * Registers the sound definitions that should be generated via one of the {@code add} methods.\n+     */\n+    public abstract void registerSounds();\n+\n+    @Override\n+    public void act(DirectoryCache cache) throws IOException\n+    {\n+        this.sounds.clear();\n+        this.registerSounds();\n+        this.validate();\n+        if (!this.sounds.isEmpty())\n+        {\n+            this.save(cache, this.generator.getOutputFolder().resolve(\"assets/\" + this.modId + \"/sounds.json\"));\n+        }\n+    }\n+\n+    @Override\n+    public String getName()\n+    {\n+        return \"Sound Definitions\";\n+    }\n+\n+    // Quick helpers\n+    /**\n+     * @see SoundDefinition#definition()\n+     */\n+    protected static SoundDefinition definition()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f8dac26d7a6258d32563f0480d56bf93550a7c5e"}, "originalPosition": 98}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyMDExMDczOA==", "bodyText": "I defined the factory methods in the implementation classes so that everything related to them would be in the same place, and to keep the constructors private. These bouncer methods exist mainly as a convenience, so that people wouldn't need to specify the class every time they want to create a new sound or a new definition, without using static imports.", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/6982#discussion_r620110738", "createdAt": "2021-04-26T09:07:38Z", "author": {"login": "TheSilkMiner"}, "path": "src/main/java/net/minecraftforge/common/data/SoundDefinitionsProvider.java", "diffHunk": "@@ -0,0 +1,270 @@\n+/*\n+ * Minecraft Forge\n+ * Copyright (c) 2016-2020.\n+ *\n+ * This library is free software; you can redistribute it and/or\n+ * modify it under the terms of the GNU Lesser General Public\n+ * License as published by the Free Software Foundation version 2.1\n+ * of the License.\n+ *\n+ * This library is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+ * Lesser General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU Lesser General Public\n+ * License along with this library; if not, write to the Free Software\n+ * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301  USA\n+ */\n+\n+package net.minecraftforge.common.data;\n+\n+import com.google.gson.Gson;\n+import com.google.gson.GsonBuilder;\n+import com.google.gson.JsonObject;\n+import net.minecraft.data.DataGenerator;\n+import net.minecraft.data.DirectoryCache;\n+import net.minecraft.data.IDataProvider;\n+import net.minecraft.resources.ResourcePackType;\n+import net.minecraft.util.ResourceLocation;\n+import net.minecraft.util.SoundEvent;\n+import net.minecraftforge.registries.ForgeRegistries;\n+import org.apache.logging.log4j.LogManager;\n+import org.apache.logging.log4j.Logger;\n+\n+import java.io.IOException;\n+import java.nio.file.Path;\n+import java.util.LinkedHashMap;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.function.Supplier;\n+import java.util.stream.Collectors;\n+\n+/**\n+ * Data provider for the {@code sounds.json} file, which identifies sound definitions\n+ * for the various sound events in Minecraft.\n+ */\n+public abstract class SoundDefinitionsProvider implements IDataProvider\n+{\n+    private static final Logger LOGGER = LogManager.getLogger();\n+    private static final Gson GSON = new GsonBuilder().setPrettyPrinting().disableHtmlEscaping().create();\n+    private final DataGenerator generator;\n+    private final String modId;\n+    private final ExistingFileHelper helper;\n+\n+    private final Map<String, SoundDefinition> sounds = new LinkedHashMap<>();\n+\n+    /**\n+     * Creates a new instance of this data provider.\n+     *\n+     * @param generator The data generator instance provided by the event you are initializing this provider in.\n+     * @param modId The mod ID of the current mod.\n+     * @param helper The existing file helper provided by the event you are initializing this provider in.\n+     */\n+    protected SoundDefinitionsProvider(final DataGenerator generator, final String modId, final ExistingFileHelper helper)\n+    {\n+        this.generator = generator;\n+        this.modId = modId;\n+        this.helper = helper;\n+    }\n+\n+    /**\n+     * Registers the sound definitions that should be generated via one of the {@code add} methods.\n+     */\n+    public abstract void registerSounds();\n+\n+    @Override\n+    public void act(DirectoryCache cache) throws IOException\n+    {\n+        this.sounds.clear();\n+        this.registerSounds();\n+        this.validate();\n+        if (!this.sounds.isEmpty())\n+        {\n+            this.save(cache, this.generator.getOutputFolder().resolve(\"assets/\" + this.modId + \"/sounds.json\"));\n+        }\n+    }\n+\n+    @Override\n+    public String getName()\n+    {\n+        return \"Sound Definitions\";\n+    }\n+\n+    // Quick helpers\n+    /**\n+     * @see SoundDefinition#definition()\n+     */\n+    protected static SoundDefinition definition()", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyMDA4Mjk4MQ=="}, "originalCommit": {"oid": "f8dac26d7a6258d32563f0480d56bf93550a7c5e"}, "originalPosition": 98}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyMDEzNjg0OQ==", "bodyText": "Why do the constructors need to be private? They aren't for most other data builder classes.", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/6982#discussion_r620136849", "createdAt": "2021-04-26T09:42:24Z", "author": {"login": "tterrag1098"}, "path": "src/main/java/net/minecraftforge/common/data/SoundDefinitionsProvider.java", "diffHunk": "@@ -0,0 +1,270 @@\n+/*\n+ * Minecraft Forge\n+ * Copyright (c) 2016-2020.\n+ *\n+ * This library is free software; you can redistribute it and/or\n+ * modify it under the terms of the GNU Lesser General Public\n+ * License as published by the Free Software Foundation version 2.1\n+ * of the License.\n+ *\n+ * This library is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+ * Lesser General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU Lesser General Public\n+ * License along with this library; if not, write to the Free Software\n+ * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301  USA\n+ */\n+\n+package net.minecraftforge.common.data;\n+\n+import com.google.gson.Gson;\n+import com.google.gson.GsonBuilder;\n+import com.google.gson.JsonObject;\n+import net.minecraft.data.DataGenerator;\n+import net.minecraft.data.DirectoryCache;\n+import net.minecraft.data.IDataProvider;\n+import net.minecraft.resources.ResourcePackType;\n+import net.minecraft.util.ResourceLocation;\n+import net.minecraft.util.SoundEvent;\n+import net.minecraftforge.registries.ForgeRegistries;\n+import org.apache.logging.log4j.LogManager;\n+import org.apache.logging.log4j.Logger;\n+\n+import java.io.IOException;\n+import java.nio.file.Path;\n+import java.util.LinkedHashMap;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.function.Supplier;\n+import java.util.stream.Collectors;\n+\n+/**\n+ * Data provider for the {@code sounds.json} file, which identifies sound definitions\n+ * for the various sound events in Minecraft.\n+ */\n+public abstract class SoundDefinitionsProvider implements IDataProvider\n+{\n+    private static final Logger LOGGER = LogManager.getLogger();\n+    private static final Gson GSON = new GsonBuilder().setPrettyPrinting().disableHtmlEscaping().create();\n+    private final DataGenerator generator;\n+    private final String modId;\n+    private final ExistingFileHelper helper;\n+\n+    private final Map<String, SoundDefinition> sounds = new LinkedHashMap<>();\n+\n+    /**\n+     * Creates a new instance of this data provider.\n+     *\n+     * @param generator The data generator instance provided by the event you are initializing this provider in.\n+     * @param modId The mod ID of the current mod.\n+     * @param helper The existing file helper provided by the event you are initializing this provider in.\n+     */\n+    protected SoundDefinitionsProvider(final DataGenerator generator, final String modId, final ExistingFileHelper helper)\n+    {\n+        this.generator = generator;\n+        this.modId = modId;\n+        this.helper = helper;\n+    }\n+\n+    /**\n+     * Registers the sound definitions that should be generated via one of the {@code add} methods.\n+     */\n+    public abstract void registerSounds();\n+\n+    @Override\n+    public void act(DirectoryCache cache) throws IOException\n+    {\n+        this.sounds.clear();\n+        this.registerSounds();\n+        this.validate();\n+        if (!this.sounds.isEmpty())\n+        {\n+            this.save(cache, this.generator.getOutputFolder().resolve(\"assets/\" + this.modId + \"/sounds.json\"));\n+        }\n+    }\n+\n+    @Override\n+    public String getName()\n+    {\n+        return \"Sound Definitions\";\n+    }\n+\n+    // Quick helpers\n+    /**\n+     * @see SoundDefinition#definition()\n+     */\n+    protected static SoundDefinition definition()", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyMDA4Mjk4MQ=="}, "originalCommit": {"oid": "f8dac26d7a6258d32563f0480d56bf93550a7c5e"}, "originalPosition": 98}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyMDE0OTc2OQ==", "bodyText": "I consider constructors as an implementation detail and, as such, it doesn't need to be exposed. If this is not the desired convention, though, I can definitely change it. I based myself off the change that had been made to DeferredRegister, which had seen its main constructor's visibility reduced to private for the same reason.\nIf the constructor were to be made public, though, would all the other factory methods be removed, converted into constructors, or something else?", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/6982#discussion_r620149769", "createdAt": "2021-04-26T09:59:26Z", "author": {"login": "TheSilkMiner"}, "path": "src/main/java/net/minecraftforge/common/data/SoundDefinitionsProvider.java", "diffHunk": "@@ -0,0 +1,270 @@\n+/*\n+ * Minecraft Forge\n+ * Copyright (c) 2016-2020.\n+ *\n+ * This library is free software; you can redistribute it and/or\n+ * modify it under the terms of the GNU Lesser General Public\n+ * License as published by the Free Software Foundation version 2.1\n+ * of the License.\n+ *\n+ * This library is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+ * Lesser General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU Lesser General Public\n+ * License along with this library; if not, write to the Free Software\n+ * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301  USA\n+ */\n+\n+package net.minecraftforge.common.data;\n+\n+import com.google.gson.Gson;\n+import com.google.gson.GsonBuilder;\n+import com.google.gson.JsonObject;\n+import net.minecraft.data.DataGenerator;\n+import net.minecraft.data.DirectoryCache;\n+import net.minecraft.data.IDataProvider;\n+import net.minecraft.resources.ResourcePackType;\n+import net.minecraft.util.ResourceLocation;\n+import net.minecraft.util.SoundEvent;\n+import net.minecraftforge.registries.ForgeRegistries;\n+import org.apache.logging.log4j.LogManager;\n+import org.apache.logging.log4j.Logger;\n+\n+import java.io.IOException;\n+import java.nio.file.Path;\n+import java.util.LinkedHashMap;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.function.Supplier;\n+import java.util.stream.Collectors;\n+\n+/**\n+ * Data provider for the {@code sounds.json} file, which identifies sound definitions\n+ * for the various sound events in Minecraft.\n+ */\n+public abstract class SoundDefinitionsProvider implements IDataProvider\n+{\n+    private static final Logger LOGGER = LogManager.getLogger();\n+    private static final Gson GSON = new GsonBuilder().setPrettyPrinting().disableHtmlEscaping().create();\n+    private final DataGenerator generator;\n+    private final String modId;\n+    private final ExistingFileHelper helper;\n+\n+    private final Map<String, SoundDefinition> sounds = new LinkedHashMap<>();\n+\n+    /**\n+     * Creates a new instance of this data provider.\n+     *\n+     * @param generator The data generator instance provided by the event you are initializing this provider in.\n+     * @param modId The mod ID of the current mod.\n+     * @param helper The existing file helper provided by the event you are initializing this provider in.\n+     */\n+    protected SoundDefinitionsProvider(final DataGenerator generator, final String modId, final ExistingFileHelper helper)\n+    {\n+        this.generator = generator;\n+        this.modId = modId;\n+        this.helper = helper;\n+    }\n+\n+    /**\n+     * Registers the sound definitions that should be generated via one of the {@code add} methods.\n+     */\n+    public abstract void registerSounds();\n+\n+    @Override\n+    public void act(DirectoryCache cache) throws IOException\n+    {\n+        this.sounds.clear();\n+        this.registerSounds();\n+        this.validate();\n+        if (!this.sounds.isEmpty())\n+        {\n+            this.save(cache, this.generator.getOutputFolder().resolve(\"assets/\" + this.modId + \"/sounds.json\"));\n+        }\n+    }\n+\n+    @Override\n+    public String getName()\n+    {\n+        return \"Sound Definitions\";\n+    }\n+\n+    // Quick helpers\n+    /**\n+     * @see SoundDefinition#definition()\n+     */\n+    protected static SoundDefinition definition()", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyMDA4Mjk4MQ=="}, "originalCommit": {"oid": "f8dac26d7a6258d32563f0480d56bf93550a7c5e"}, "originalPosition": 98}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyMDUwOTkxMQ==", "bodyText": "You are correct in general, and maybe I'm in the minority here, but I feel like when you have to start duplicating methods in two different places just to make your design work, that design has failed. Sometimes you have to compromise on what is theoretically right vs what is easier to write and maintain. Mostly these data builder classes will never be directly instantiated, even if the constructors are public. If we need to change the ctor to a static factory later, it can be done with little API interruption between versions. If you want to leave a single static factory on the class and just move all the overloads out, that would also be fine.", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/6982#discussion_r620509911", "createdAt": "2021-04-26T17:37:21Z", "author": {"login": "tterrag1098"}, "path": "src/main/java/net/minecraftforge/common/data/SoundDefinitionsProvider.java", "diffHunk": "@@ -0,0 +1,270 @@\n+/*\n+ * Minecraft Forge\n+ * Copyright (c) 2016-2020.\n+ *\n+ * This library is free software; you can redistribute it and/or\n+ * modify it under the terms of the GNU Lesser General Public\n+ * License as published by the Free Software Foundation version 2.1\n+ * of the License.\n+ *\n+ * This library is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+ * Lesser General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU Lesser General Public\n+ * License along with this library; if not, write to the Free Software\n+ * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301  USA\n+ */\n+\n+package net.minecraftforge.common.data;\n+\n+import com.google.gson.Gson;\n+import com.google.gson.GsonBuilder;\n+import com.google.gson.JsonObject;\n+import net.minecraft.data.DataGenerator;\n+import net.minecraft.data.DirectoryCache;\n+import net.minecraft.data.IDataProvider;\n+import net.minecraft.resources.ResourcePackType;\n+import net.minecraft.util.ResourceLocation;\n+import net.minecraft.util.SoundEvent;\n+import net.minecraftforge.registries.ForgeRegistries;\n+import org.apache.logging.log4j.LogManager;\n+import org.apache.logging.log4j.Logger;\n+\n+import java.io.IOException;\n+import java.nio.file.Path;\n+import java.util.LinkedHashMap;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.function.Supplier;\n+import java.util.stream.Collectors;\n+\n+/**\n+ * Data provider for the {@code sounds.json} file, which identifies sound definitions\n+ * for the various sound events in Minecraft.\n+ */\n+public abstract class SoundDefinitionsProvider implements IDataProvider\n+{\n+    private static final Logger LOGGER = LogManager.getLogger();\n+    private static final Gson GSON = new GsonBuilder().setPrettyPrinting().disableHtmlEscaping().create();\n+    private final DataGenerator generator;\n+    private final String modId;\n+    private final ExistingFileHelper helper;\n+\n+    private final Map<String, SoundDefinition> sounds = new LinkedHashMap<>();\n+\n+    /**\n+     * Creates a new instance of this data provider.\n+     *\n+     * @param generator The data generator instance provided by the event you are initializing this provider in.\n+     * @param modId The mod ID of the current mod.\n+     * @param helper The existing file helper provided by the event you are initializing this provider in.\n+     */\n+    protected SoundDefinitionsProvider(final DataGenerator generator, final String modId, final ExistingFileHelper helper)\n+    {\n+        this.generator = generator;\n+        this.modId = modId;\n+        this.helper = helper;\n+    }\n+\n+    /**\n+     * Registers the sound definitions that should be generated via one of the {@code add} methods.\n+     */\n+    public abstract void registerSounds();\n+\n+    @Override\n+    public void act(DirectoryCache cache) throws IOException\n+    {\n+        this.sounds.clear();\n+        this.registerSounds();\n+        this.validate();\n+        if (!this.sounds.isEmpty())\n+        {\n+            this.save(cache, this.generator.getOutputFolder().resolve(\"assets/\" + this.modId + \"/sounds.json\"));\n+        }\n+    }\n+\n+    @Override\n+    public String getName()\n+    {\n+        return \"Sound Definitions\";\n+    }\n+\n+    // Quick helpers\n+    /**\n+     * @see SoundDefinition#definition()\n+     */\n+    protected static SoundDefinition definition()", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyMDA4Mjk4MQ=="}, "originalCommit": {"oid": "f8dac26d7a6258d32563f0480d56bf93550a7c5e"}, "originalPosition": 98}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyMDU2MjQyNw==", "bodyText": "Fair enough; will do.", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/6982#discussion_r620562427", "createdAt": "2021-04-26T18:51:04Z", "author": {"login": "TheSilkMiner"}, "path": "src/main/java/net/minecraftforge/common/data/SoundDefinitionsProvider.java", "diffHunk": "@@ -0,0 +1,270 @@\n+/*\n+ * Minecraft Forge\n+ * Copyright (c) 2016-2020.\n+ *\n+ * This library is free software; you can redistribute it and/or\n+ * modify it under the terms of the GNU Lesser General Public\n+ * License as published by the Free Software Foundation version 2.1\n+ * of the License.\n+ *\n+ * This library is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+ * Lesser General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU Lesser General Public\n+ * License along with this library; if not, write to the Free Software\n+ * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301  USA\n+ */\n+\n+package net.minecraftforge.common.data;\n+\n+import com.google.gson.Gson;\n+import com.google.gson.GsonBuilder;\n+import com.google.gson.JsonObject;\n+import net.minecraft.data.DataGenerator;\n+import net.minecraft.data.DirectoryCache;\n+import net.minecraft.data.IDataProvider;\n+import net.minecraft.resources.ResourcePackType;\n+import net.minecraft.util.ResourceLocation;\n+import net.minecraft.util.SoundEvent;\n+import net.minecraftforge.registries.ForgeRegistries;\n+import org.apache.logging.log4j.LogManager;\n+import org.apache.logging.log4j.Logger;\n+\n+import java.io.IOException;\n+import java.nio.file.Path;\n+import java.util.LinkedHashMap;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.function.Supplier;\n+import java.util.stream.Collectors;\n+\n+/**\n+ * Data provider for the {@code sounds.json} file, which identifies sound definitions\n+ * for the various sound events in Minecraft.\n+ */\n+public abstract class SoundDefinitionsProvider implements IDataProvider\n+{\n+    private static final Logger LOGGER = LogManager.getLogger();\n+    private static final Gson GSON = new GsonBuilder().setPrettyPrinting().disableHtmlEscaping().create();\n+    private final DataGenerator generator;\n+    private final String modId;\n+    private final ExistingFileHelper helper;\n+\n+    private final Map<String, SoundDefinition> sounds = new LinkedHashMap<>();\n+\n+    /**\n+     * Creates a new instance of this data provider.\n+     *\n+     * @param generator The data generator instance provided by the event you are initializing this provider in.\n+     * @param modId The mod ID of the current mod.\n+     * @param helper The existing file helper provided by the event you are initializing this provider in.\n+     */\n+    protected SoundDefinitionsProvider(final DataGenerator generator, final String modId, final ExistingFileHelper helper)\n+    {\n+        this.generator = generator;\n+        this.modId = modId;\n+        this.helper = helper;\n+    }\n+\n+    /**\n+     * Registers the sound definitions that should be generated via one of the {@code add} methods.\n+     */\n+    public abstract void registerSounds();\n+\n+    @Override\n+    public void act(DirectoryCache cache) throws IOException\n+    {\n+        this.sounds.clear();\n+        this.registerSounds();\n+        this.validate();\n+        if (!this.sounds.isEmpty())\n+        {\n+            this.save(cache, this.generator.getOutputFolder().resolve(\"assets/\" + this.modId + \"/sounds.json\"));\n+        }\n+    }\n+\n+    @Override\n+    public String getName()\n+    {\n+        return \"Sound Definitions\";\n+    }\n+\n+    // Quick helpers\n+    /**\n+     * @see SoundDefinition#definition()\n+     */\n+    protected static SoundDefinition definition()", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyMDA4Mjk4MQ=="}, "originalCommit": {"oid": "f8dac26d7a6258d32563f0480d56bf93550a7c5e"}, "originalPosition": 98}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzk1Njk3NDkzOnYy", "diffSide": "RIGHT", "path": "src/main/java/net/minecraftforge/client/model/generators/ModelProvider.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNS0wMlQxMToxMDo0OVrOJTvOoA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNS0wMlQxMToxMDo0OVrOJTvOoA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyNDY3NjUxMg==", "bodyText": "What's with these whitespace changes?", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/6982#discussion_r624676512", "createdAt": "2021-05-02T11:10:49Z", "author": {"login": "TheCurle"}, "path": "src/main/java/net/minecraftforge/client/model/generators/ModelProvider.java", "diffHunk": "@@ -357,7 +356,7 @@ public T nested()\n         ret.assertExistence();\n         return ret;\n     }\n-    \n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "18dad3c388551e46660002a69268a98f7a7f4507"}, "originalPosition": 22}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzk1Njk3NjE2OnYy", "diffSide": "RIGHT", "path": "src/main/java/net/minecraftforge/common/data/ExistingFileHelper.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNS0wMlQxMToxMTo0OFrOJTvPOA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNS0wMlQxMToxMTo0OFrOJTvPOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyNDY3NjY2NA==", "bodyText": "w-w-w-whitespace!", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/6982#discussion_r624676664", "createdAt": "2021-05-02T11:11:48Z", "author": {"login": "TheCurle"}, "path": "src/main/java/net/minecraftforge/common/data/ExistingFileHelper.java", "diffHunk": "@@ -218,7 +233,7 @@ public void trackGenerated(ResourceLocation loc, IResourceType type) {\n      * <p>\n      * This represents a <em>promise</em> to generate the file later, since other\n      * datagen may rely on this file existing.\n-     * \n+     *", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "18dad3c388551e46660002a69268a98f7a7f4507"}, "originalPosition": 79}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 957, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}