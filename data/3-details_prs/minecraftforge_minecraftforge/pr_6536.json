{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgwNDcxOTQw", "number": 6536, "title": "Add projection matrix to RenderWorldLastEvent", "bodyText": "In our mod, we need to render structures during RenderWorldLastEvent. Those structures can go big (even far beyond render distance) so to reduce the load in the client thread we are aiming to mimic optimization used in vanilla code as much as possible.\nThis matrix is used for ClippingHelperImpl class and is passed into WorldRenderer from GameRenderer, it's a local variable and not stored anywhere.\nEDIT: fixed partialTicks (finishTimeNano was passed in instead), added finishTimeNano", "createdAt": "2020-02-26T19:51:26Z", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/6536", "merged": true, "mergeCommit": {"oid": "202ae508203b88c61b35900383adcb8feceea222"}, "closed": true, "closedAt": "2020-03-11T07:00:22Z", "author": {"login": "Nightenom"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcIMDaiAH2gAyMzgwNDcxOTQwOjcyM2QwNDMyMzJiYjg1NWFiMTE5OTEzYWZkYjdjZjUyODNiOWVkMGM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcJf8DTgH2gAyMzgwNDcxOTQwOjJjYjIyZjgzMmQ5ZTU2MWE1MTg4MjRjMGM1ZWFlZTEwODFhMjg3Nzk=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "723d043232bb855ab119913afdb7cf5283b9ed0c", "author": {"user": {"login": "Nightenom", "name": null}}, "url": "https://github.com/MinecraftForge/MinecraftForge/commit/723d043232bb855ab119913afdb7cf5283b9ed0c", "committedDate": "2020-02-26T19:40:04Z", "message": "Add projection matrix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bc10ec6b1f389e2d2fc5d53454e20d2be944c80a", "author": {"user": {"login": "Nightenom", "name": null}}, "url": "https://github.com/MinecraftForge/MinecraftForge/commit/bc10ec6b1f389e2d2fc5d53454e20d2be944c80a", "committedDate": "2020-02-26T21:24:22Z", "message": "Fix partialTicks, add finishTimeNano"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY2ODY2MDU5", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/6536#pullrequestreview-366866059", "createdAt": "2020-03-01T15:17:13Z", "commit": {"oid": "bc10ec6b1f389e2d2fc5d53454e20d2be944c80a"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMVQxNToxNzoxM1rOFwOqPg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMVQxNToxODoxMVrOFwOqeg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjExNjE1OA==", "bodyText": "This is a binary breaking change, please keep the old method and mark it for removal in 1.16", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/6536#discussion_r386116158", "createdAt": "2020-03-01T15:17:13Z", "author": {"login": "ichttt"}, "path": "src/main/java/net/minecraftforge/client/ForgeHooksClient.java", "diffHunk": "@@ -172,9 +172,9 @@ public static boolean onDrawBlockHighlight(WorldRenderer context, ActiveRenderIn\n         return MinecraftForge.EVENT_BUS.post(new DrawHighlightEvent(context, info, target, partialTicks, matrix, buffers));\n     }\n \n-    public static void dispatchRenderLast(WorldRenderer context, MatrixStack mat, float partialTicks)\n+    public static void dispatchRenderLast(WorldRenderer context, MatrixStack mat, float partialTicks, Matrix4f projectionMatrix, long finishTimeNano)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bc10ec6b1f389e2d2fc5d53454e20d2be944c80a"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjExNjIxOA==", "bodyText": "Also binary breaking. Please keep the old constructor as well and add something like @Deprecated //TODO Remove in 1.16 to the old constructor", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/6536#discussion_r386116218", "createdAt": "2020-03-01T15:18:11Z", "author": {"login": "ichttt"}, "path": "src/main/java/net/minecraftforge/client/event/RenderWorldLastEvent.java", "diffHunk": "@@ -21,18 +21,24 @@\n \n import com.mojang.blaze3d.matrix.MatrixStack;\n \n+import net.minecraft.client.renderer.Matrix4f;\n import net.minecraft.client.renderer.WorldRenderer;\n \n public class RenderWorldLastEvent extends net.minecraftforge.eventbus.api.Event\n {\n     private final WorldRenderer context;\n     private final MatrixStack mat;\n     private final float partialTicks;\n-    public RenderWorldLastEvent(WorldRenderer context, MatrixStack mat, float partialTicks)\n+    private final Matrix4f projectionMatrix;\n+    private final long finishTimeNano;\n+\n+    public RenderWorldLastEvent(WorldRenderer context, MatrixStack mat, float partialTicks, Matrix4f projectionMatrix, long finishTimeNano)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bc10ec6b1f389e2d2fc5d53454e20d2be944c80a"}, "originalPosition": 16}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2cb22f832d9e561a518824c0c5eaee1081a28779", "author": {"user": {"login": "Nightenom", "name": null}}, "url": "https://github.com/MinecraftForge/MinecraftForge/commit/2cb22f832d9e561a518824c0c5eaee1081a28779", "committedDate": "2020-03-01T21:24:03Z", "message": "Add back deprecated calls"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2142, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}