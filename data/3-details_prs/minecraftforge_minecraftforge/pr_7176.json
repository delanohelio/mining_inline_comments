{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU2NzA0NTMz", "number": 7176, "title": "[1.16] IForgeBlock#getToolModifiedState (Handling Axe, Hoe, and Shovel Right Click)", "bodyText": "This deals with an issue provided by #6073. The main purpose of this PR is to create a registry based hook system for programmers to add their own axe stripping maps to the game. Originally, this was a simple registry hook for only axes. It has been currently reworked to be included within IForgeBlock and used within the axe, hoe, and shovel.\nCurrently, the method check makes the mappings for each tool public and checks to see if its ToolType is on the item. If so, it tries to apply the current mapping to the block. If it fails and there are no other tool types, it returns null. If it fails and there is another tool type, it moves onto the next method to check the other tool types. This allows multitools to function correctly as well.", "createdAt": "2020-07-26T05:37:27Z", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/7176", "merged": true, "mergeCommit": {"oid": "0984777c9872d617d93e94b23ca47017e21bacbf"}, "closed": true, "closedAt": "2020-08-03T23:49:27Z", "author": {"login": "ChampionAsh5357"}, "timelineItems": {"totalCount": 24, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc4zf89AFqTQ1NTM5NDA0NA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABc7a6K6gH2gAyNDU2NzA0NTMzOjJmMDdkNWJiYmI4NWZkNTdkNmRlZDIwZWI1YTIxMTQ2OTM4MDUxMTg=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU1Mzk0MDQ0", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/7176#pullrequestreview-455394044", "createdAt": "2020-07-26T20:44:49Z", "commit": {"oid": "17947576efdc1ccd5c794c8eebe7aea41819960a"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNlQyMDo0NDo1MFrOG3PDQw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNlQyMDo0NTozNVrOG3PDtw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDU3MTQ1OQ==", "bodyText": "Return the original state if you can't find a modified one, not null.", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/7176#discussion_r460571459", "createdAt": "2020-07-26T20:44:50Z", "author": {"login": "Lanse505"}, "path": "src/main/java/net/minecraftforge/common/extensions/IForgeBlock.java", "diffHunk": "@@ -887,4 +890,37 @@ default boolean shouldDisplayFluidOverlay(BlockState state, IBlockDisplayReader\n     {\n         return state.getBlock() instanceof BreakableBlock || state.getBlock() instanceof LeavesBlock;\n     }\n+    \n+    /**\n+     * Returns the state that this block should transform into when right clicked by a tool.\n+     * Used to determine if an axe can strip, a shovel can path, or a hoe can till.\n+     * Return null if vanilla behavior should be disabled.\n+     *\n+     * @param state The current state\n+     * @param world The world\n+     * @param pos The block position in world\n+     * @param player The player clicking the block\n+     * @param stack The stack being used by the player\n+     * @return The resulting state after the action has been performed\n+     */\n+    @Nullable\n+    default BlockState getToolModifiedState(BlockState state, World world, BlockPos pos, PlayerEntity player, ItemStack stack)\n+    {\n+    \tSet<ToolType> tool = stack.getToolTypes();\n+    \tif(tool.contains(ToolType.AXE)) {\n+    \t\tBlock block = AxeItem.BLOCK_STRIPPING_MAP.get(state.getBlock());\n+    \t\tif(block == null && tool.size() == 1) return null;\n+    \t\tif(block != null) return block.getDefaultState().with(RotatedPillarBlock.AXIS, state.get(RotatedPillarBlock.AXIS));\n+    \t}\n+    \tif(tool.contains(ToolType.HOE)) {\n+    \t\tBlockState modifiedState = HoeItem.HOE_LOOKUP.get(state.getBlock());\n+    \t\tif(modifiedState == null && tool.size() == 1) return null;\n+    \t\tif(modifiedState != null) return modifiedState;\n+    \t}\n+    \tif(tool.contains(ToolType.SHOVEL)) {\n+    \t\tBlockState modifiedState = ShovelItem.SHOVEL_LOOKUP.get(state.getBlock());\n+    \t\treturn modifiedState;\n+    \t}\n+    \treturn null;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "17947576efdc1ccd5c794c8eebe7aea41819960a"}, "originalPosition": 47}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDU3MTU3NQ==", "bodyText": "I'd say fire the event here, at the beginning and if it returns not the original state, then return that state.\nOtherwise continue.", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/7176#discussion_r460571575", "createdAt": "2020-07-26T20:45:35Z", "author": {"login": "Lanse505"}, "path": "src/main/java/net/minecraftforge/common/extensions/IForgeBlock.java", "diffHunk": "@@ -887,4 +890,37 @@ default boolean shouldDisplayFluidOverlay(BlockState state, IBlockDisplayReader\n     {\n         return state.getBlock() instanceof BreakableBlock || state.getBlock() instanceof LeavesBlock;\n     }\n+    \n+    /**\n+     * Returns the state that this block should transform into when right clicked by a tool.\n+     * Used to determine if an axe can strip, a shovel can path, or a hoe can till.\n+     * Return null if vanilla behavior should be disabled.\n+     *\n+     * @param state The current state\n+     * @param world The world\n+     * @param pos The block position in world\n+     * @param player The player clicking the block\n+     * @param stack The stack being used by the player\n+     * @return The resulting state after the action has been performed\n+     */\n+    @Nullable\n+    default BlockState getToolModifiedState(BlockState state, World world, BlockPos pos, PlayerEntity player, ItemStack stack)\n+    {\n+    \tSet<ToolType> tool = stack.getToolTypes();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "17947576efdc1ccd5c794c8eebe7aea41819960a"}, "originalPosition": 32}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU1Mzk3ODAz", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/7176#pullrequestreview-455397803", "createdAt": "2020-07-26T21:44:33Z", "commit": {"oid": "659eb51679e339ae14693c20d2d72aeb3e88251d"}, "state": "COMMENTED", "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNlQyMTo0NDozM1rOG3PZPw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNlQyMTo0NzozNVrOG3PaWw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDU3NzA4Nw==", "bodyText": "There really should be a private final originalState, so there is always a clean reference to the originalState.", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/7176#discussion_r460577087", "createdAt": "2020-07-26T21:44:33Z", "author": {"login": "Lanse505"}, "path": "src/main/java/net/minecraftforge/event/world/BlockEvent.java", "diffHunk": "@@ -444,4 +444,47 @@ public PortalSpawnEvent(IWorld world, BlockPos pos, BlockState state, NetherPort\n             return size;\n         }\n     }\n+    \n+    /**\n+     * Fired when when this block is right clicked by a tool to change its state.\n+     * Used to determine if an axe can strip, a shovel can path, or a hoe can till.\n+     * \n+     * This event is {@link Cancelable}. If canceled, this will prevent the tool\n+     * from changing the block's state.\n+     */\n+    @Cancelable\n+    public static class BlockToolInteractEvent extends BlockEvent\n+    {\n+\n+    \tprivate final PlayerEntity player;\n+    \tprivate final ItemStack stack;\n+    \tprivate BlockState finalState;\n+    \t\n+\t\tpublic BlockToolInteractEvent(IWorld world, BlockPos pos, BlockState originalState, PlayerEntity player, ItemStack stack) {\n+\t\t\tsuper(world, pos, originalState);\n+\t\t\tthis.player = player;\n+\t\t\tthis.stack = stack;\n+\t\t\tthis.finalState = originalState;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "659eb51679e339ae14693c20d2d72aeb3e88251d"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDU3NzE0OQ==", "bodyText": "Should probably just be state. (Nitpicky)", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/7176#discussion_r460577149", "createdAt": "2020-07-26T21:44:58Z", "author": {"login": "Lanse505"}, "path": "src/main/java/net/minecraftforge/event/world/BlockEvent.java", "diffHunk": "@@ -444,4 +444,47 @@ public PortalSpawnEvent(IWorld world, BlockPos pos, BlockState state, NetherPort\n             return size;\n         }\n     }\n+    \n+    /**\n+     * Fired when when this block is right clicked by a tool to change its state.\n+     * Used to determine if an axe can strip, a shovel can path, or a hoe can till.\n+     * \n+     * This event is {@link Cancelable}. If canceled, this will prevent the tool\n+     * from changing the block's state.\n+     */\n+    @Cancelable\n+    public static class BlockToolInteractEvent extends BlockEvent\n+    {\n+\n+    \tprivate final PlayerEntity player;\n+    \tprivate final ItemStack stack;\n+    \tprivate BlockState finalState;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "659eb51679e339ae14693c20d2d72aeb3e88251d"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDU3NzI3MQ==", "bodyText": "All the getter lines are wrong formatting should be same line getters.\ni.e.\npublic PlayerEntity getPlayer() { return player; }", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/7176#discussion_r460577271", "createdAt": "2020-07-26T21:46:23Z", "author": {"login": "Lanse505"}, "path": "src/main/java/net/minecraftforge/event/world/BlockEvent.java", "diffHunk": "@@ -444,4 +444,47 @@ public PortalSpawnEvent(IWorld world, BlockPos pos, BlockState state, NetherPort\n             return size;\n         }\n     }\n+    \n+    /**\n+     * Fired when when this block is right clicked by a tool to change its state.\n+     * Used to determine if an axe can strip, a shovel can path, or a hoe can till.\n+     * \n+     * This event is {@link Cancelable}. If canceled, this will prevent the tool\n+     * from changing the block's state.\n+     */\n+    @Cancelable\n+    public static class BlockToolInteractEvent extends BlockEvent\n+    {\n+\n+    \tprivate final PlayerEntity player;\n+    \tprivate final ItemStack stack;\n+    \tprivate BlockState finalState;\n+    \t\n+\t\tpublic BlockToolInteractEvent(IWorld world, BlockPos pos, BlockState originalState, PlayerEntity player, ItemStack stack) {\n+\t\t\tsuper(world, pos, originalState);\n+\t\t\tthis.player = player;\n+\t\t\tthis.stack = stack;\n+\t\t\tthis.finalState = originalState;\n+\t\t}\n+\t\t\n+\t\tpublic PlayerEntity getPlayer()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "659eb51679e339ae14693c20d2d72aeb3e88251d"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDU3NzM2Mw==", "bodyText": "I'd say as above change it to state and getState and setState.", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/7176#discussion_r460577363", "createdAt": "2020-07-26T21:47:29Z", "author": {"login": "Lanse505"}, "path": "src/main/java/net/minecraftforge/event/world/BlockEvent.java", "diffHunk": "@@ -444,4 +444,47 @@ public PortalSpawnEvent(IWorld world, BlockPos pos, BlockState state, NetherPort\n             return size;\n         }\n     }\n+    \n+    /**\n+     * Fired when when this block is right clicked by a tool to change its state.\n+     * Used to determine if an axe can strip, a shovel can path, or a hoe can till.\n+     * \n+     * This event is {@link Cancelable}. If canceled, this will prevent the tool\n+     * from changing the block's state.\n+     */\n+    @Cancelable\n+    public static class BlockToolInteractEvent extends BlockEvent\n+    {\n+\n+    \tprivate final PlayerEntity player;\n+    \tprivate final ItemStack stack;\n+    \tprivate BlockState finalState;\n+    \t\n+\t\tpublic BlockToolInteractEvent(IWorld world, BlockPos pos, BlockState originalState, PlayerEntity player, ItemStack stack) {\n+\t\t\tsuper(world, pos, originalState);\n+\t\t\tthis.player = player;\n+\t\t\tthis.stack = stack;\n+\t\t\tthis.finalState = originalState;\n+\t\t}\n+\t\t\n+\t\tpublic PlayerEntity getPlayer()\n+\t\t{\n+\t\t\treturn player;\n+\t\t}\n+\t\t\n+\t\tpublic ItemStack getHeldItemStack()\n+\t\t{\n+\t\t\treturn stack;\n+\t\t}\n+\t\t\n+\t\tpublic void setFinalState(BlockState finalState)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "659eb51679e339ae14693c20d2d72aeb3e88251d"}, "originalPosition": 37}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDU3NzM3MQ==", "bodyText": "I'd say as above change it to state and getState and setState.", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/7176#discussion_r460577371", "createdAt": "2020-07-26T21:47:35Z", "author": {"login": "Lanse505"}, "path": "src/main/java/net/minecraftforge/event/world/BlockEvent.java", "diffHunk": "@@ -444,4 +444,47 @@ public PortalSpawnEvent(IWorld world, BlockPos pos, BlockState state, NetherPort\n             return size;\n         }\n     }\n+    \n+    /**\n+     * Fired when when this block is right clicked by a tool to change its state.\n+     * Used to determine if an axe can strip, a shovel can path, or a hoe can till.\n+     * \n+     * This event is {@link Cancelable}. If canceled, this will prevent the tool\n+     * from changing the block's state.\n+     */\n+    @Cancelable\n+    public static class BlockToolInteractEvent extends BlockEvent\n+    {\n+\n+    \tprivate final PlayerEntity player;\n+    \tprivate final ItemStack stack;\n+    \tprivate BlockState finalState;\n+    \t\n+\t\tpublic BlockToolInteractEvent(IWorld world, BlockPos pos, BlockState originalState, PlayerEntity player, ItemStack stack) {\n+\t\t\tsuper(world, pos, originalState);\n+\t\t\tthis.player = player;\n+\t\t\tthis.stack = stack;\n+\t\t\tthis.finalState = originalState;\n+\t\t}\n+\t\t\n+\t\tpublic PlayerEntity getPlayer()\n+\t\t{\n+\t\t\treturn player;\n+\t\t}\n+\t\t\n+\t\tpublic ItemStack getHeldItemStack()\n+\t\t{\n+\t\t\treturn stack;\n+\t\t}\n+\t\t\n+\t\tpublic void setFinalState(BlockState finalState)\n+\t\t{\n+\t\t\tthis.finalState = finalState;\n+\t\t}\n+\t\t\n+\t\tpublic BlockState getFinalState()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "659eb51679e339ae14693c20d2d72aeb3e88251d"}, "originalPosition": 42}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU1OTgwNzcz", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/7176#pullrequestreview-455980773", "createdAt": "2020-07-27T17:17:18Z", "commit": {"oid": "b54e9b6764c65e68cbcdaf61fd9596b9b7af026c"}, "state": "COMMENTED", "comments": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yN1QxNzoxNzoxOFrOG3r-bg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yN1QxNzo1Nzo1N1rOG3talw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTA0NTM1OA==", "bodyText": "Brackets should be on a new line, and four spaces should be used instead of using tabs.", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/7176#discussion_r461045358", "createdAt": "2020-07-27T17:17:18Z", "author": {"login": "pupnewfster"}, "path": "src/test/java/net/minecraftforge/debug/block/ToolInteractTest.java", "diffHunk": "@@ -0,0 +1,34 @@\n+package net.minecraftforge.debug.block;\n+\n+import org.apache.logging.log4j.LogManager;\n+import org.apache.logging.log4j.Logger;\n+\n+import net.minecraftforge.common.MinecraftForge;\n+import net.minecraftforge.event.world.BlockEvent.BlockToolInteractEvent;\n+import net.minecraftforge.fml.common.Mod;\n+\n+@Mod(\"tool_interact_test\")\n+public class ToolInteractTest {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b54e9b6764c65e68cbcdaf61fd9596b9b7af026c"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTA0NTk5OA==", "bodyText": "Brackets should be on a new line, and four spaces should be used instead of using tabs. This added event has a mix of tabs/spaces and also brackets on the same line some of which having the bracket the body and the closing bracket even being on the same line.", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/7176#discussion_r461045998", "createdAt": "2020-07-27T17:18:23Z", "author": {"login": "pupnewfster"}, "path": "src/main/java/net/minecraftforge/event/world/BlockEvent.java", "diffHunk": "@@ -444,4 +447,39 @@ public PortalSpawnEvent(IWorld world, BlockPos pos, BlockState state, NetherPort\n             return size;\n         }\n     }\n+    \n+    /**\n+     * Fired when when this block is right clicked by a tool to change its state.\n+     * Used to determine if an axe can strip, a shovel can path, or a hoe can till.\n+     * \n+     * This event is {@link Cancelable}. If canceled, this will prevent the tool\n+     * from changing the block's state.\n+     */\n+    @Cancelable\n+    public static class BlockToolInteractEvent extends BlockEvent", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b54e9b6764c65e68cbcdaf61fd9596b9b7af026c"}, "originalPosition": 32}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTA0NjgwOA==", "bodyText": "Brackets should be on a new line, and four spaces should be used instead of using tabs. Also change Set<ToolType> toolTypes to ToolType toolType (see my main comment for more info)", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/7176#discussion_r461046808", "createdAt": "2020-07-27T17:19:47Z", "author": {"login": "pupnewfster"}, "path": "src/main/java/net/minecraftforge/event/ForgeEventFactory.java", "diffHunk": "@@ -358,6 +360,13 @@ public static int onHoeUse(ItemUseContext context)\n         }\n         return 0;\n     }\n+    \n+    @Nullable\n+    public static BlockState onToolUse(BlockState originalState, World world, BlockPos pos, PlayerEntity player, ItemStack stack, Set<ToolType> toolTypes) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b54e9b6764c65e68cbcdaf61fd9596b9b7af026c"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTA0Nzg2Nw==", "bodyText": "This should probably be like other events in format:\nreturn MinecraftForge.EVENT_BUS.post(event) ? null : event.getFinalState();", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/7176#discussion_r461047867", "createdAt": "2020-07-27T17:21:30Z", "author": {"login": "pupnewfster"}, "path": "src/main/java/net/minecraftforge/event/ForgeEventFactory.java", "diffHunk": "@@ -358,6 +360,13 @@ public static int onHoeUse(ItemUseContext context)\n         }\n         return 0;\n     }\n+    \n+    @Nullable\n+    public static BlockState onToolUse(BlockState originalState, World world, BlockPos pos, PlayerEntity player, ItemStack stack, Set<ToolType> toolTypes) {\n+    \tBlockToolInteractEvent event = new BlockToolInteractEvent(world, pos, originalState, player, stack, toolTypes);\n+    \tif(MinecraftForge.EVENT_BUS.post(event)) return null;\n+    \treturn event.getFinalState();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b54e9b6764c65e68cbcdaf61fd9596b9b7af026c"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTA0ODc1Mw==", "bodyText": "This line is a mix of spaces and tabs, and should only be spaces.", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/7176#discussion_r461048753", "createdAt": "2020-07-27T17:22:57Z", "author": {"login": "pupnewfster"}, "path": "src/main/java/net/minecraftforge/common/extensions/IForgeBlockState.java", "diffHunk": "@@ -778,4 +779,39 @@ default boolean shouldDisplayFluidOverlay(IBlockDisplayReader world, BlockPos po\n     {\n         return getBlockState().getBlock().shouldDisplayFluidOverlay(getBlockState(), world, pos, fluidState);\n     }\n+    \n+    /**\n+     * Returns the state that this block should transform into when right clicked by a tool.\n+     * Used to determine if an axe can strip, a shovel can path, or a hoe can till.\n+     * Return null if vanilla behavior should be disabled.\n+     *\n+     * @param world The world\n+     * @param pos The block position in world\n+     * @param player The player clicking the block\n+     * @param stack The stack being used by the player\n+     * @return The resulting state after the action has been performed\n+     */\n+    @Nullable\n+    default BlockState getToolModifiedState(World world, BlockPos pos, PlayerEntity player, ItemStack stack)\n+    {\n+    \treturn getToolModifiedState(world, pos, player, stack, stack.getToolTypes());\n+    }\n+    \n+    /**\n+     * Returns the state that this block should transform into when right clicked by a tool.\n+     * Used to determine if an axe can strip, a shovel can path, or a hoe can till.\n+     * Return null if vanilla behavior should be disabled.\n+     *\n+     * @param world The world\n+     * @param pos The block position in world\n+     * @param player The player clicking the block\n+     * @param stack The stack being used by the player\n+     * @param toolTypes The tool types to be considered when performing the action\n+     * @return The resulting state after the action has been performed\n+     */\n+    @Nullable\n+    default BlockState getToolModifiedState(World world, BlockPos pos, PlayerEntity player, ItemStack stack, Set<ToolType> toolTypes)\n+    {\n+    \treturn getBlockState().getBlock().getToolModifiedState(getBlockState(), world, pos, player, stack, toolTypes);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b54e9b6764c65e68cbcdaf61fd9596b9b7af026c"}, "originalPosition": 45}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTA1MDc5OA==", "bodyText": "The implementation of this method is a mess of spaces and tabs, should be all tabs. Brackets should be on their own lines and there should be a space after the if statements before the parenthesis. Also change Set<ToolType> toolTypes to ToolType toolType (see my main comment for more info)", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/7176#discussion_r461050798", "createdAt": "2020-07-27T17:26:20Z", "author": {"login": "pupnewfster"}, "path": "src/main/java/net/minecraftforge/common/extensions/IForgeBlock.java", "diffHunk": "@@ -887,4 +890,38 @@ default boolean shouldDisplayFluidOverlay(BlockState state, IBlockDisplayReader\n     {\n         return state.getBlock() instanceof BreakableBlock || state.getBlock() instanceof LeavesBlock;\n     }\n+    \n+    /**\n+     * Returns the state that this block should transform into when right clicked by a tool.\n+     * Used to determine if an axe can strip, a shovel can path, or a hoe can till.\n+     * Return null if vanilla behavior should be disabled.\n+     *\n+     * @param state The current state\n+     * @param world The world\n+     * @param pos The block position in world\n+     * @param player The player clicking the block\n+     * @param stack The stack being used by the player\n+     * @return The resulting state after the action has been performed\n+     */\n+    @Nullable\n+    default BlockState getToolModifiedState(BlockState state, World world, BlockPos pos, PlayerEntity player, ItemStack stack, Set<ToolType> toolTypes)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b54e9b6764c65e68cbcdaf61fd9596b9b7af026c"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTA1MTY2OA==", "bodyText": "After editing the access transformer file the checkATs task should be ran. It doesn't matter quite as much in this case given these ATs should be removed (see my main review comment for more of an explanation)", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/7176#discussion_r461051668", "createdAt": "2020-07-27T17:27:47Z", "author": {"login": "pupnewfster"}, "path": "src/main/resources/META-INF/accesstransformer.cfg", "diffHunk": "@@ -244,6 +244,9 @@ public net.minecraft.item.MusicDiscItem <init>(ILnet/minecraft/util/SoundEvent;L\n public net.minecraft.item.PickaxeItem <init>(Lnet/minecraft/item/IItemTier;IFLnet/minecraft/item/Item$Properties;)V\n public net.minecraft.item.ToolItem <init>(FFLnet/minecraft/item/IItemTier;Ljava/util/Set;Lnet/minecraft/item/Item$Properties;)V\n #endgroup\n+public net.minecraft.item.AxeItem field_203176_a # BLOCK_STRIPPING_MAP\n+public net.minecraft.item.HoeItem field_195973_b # HOE_LOOKUP\n+public net.minecraft.item.ShovelItem field_195955_e # SHOVEL_LOOKUP", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b54e9b6764c65e68cbcdaf61fd9596b9b7af026c"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTA1ODQzOA==", "bodyText": "This should list it as an example (For example: Used to determine...), as mods can add other tool types so these are not the only cases that may exist.", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/7176#discussion_r461058438", "createdAt": "2020-07-27T17:39:29Z", "author": {"login": "pupnewfster"}, "path": "src/main/java/net/minecraftforge/event/world/BlockEvent.java", "diffHunk": "@@ -444,4 +447,39 @@ public PortalSpawnEvent(IWorld world, BlockPos pos, BlockState state, NetherPort\n             return size;\n         }\n     }\n+    \n+    /**\n+     * Fired when when this block is right clicked by a tool to change its state.\n+     * Used to determine if an axe can strip, a shovel can path, or a hoe can till.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b54e9b6764c65e68cbcdaf61fd9596b9b7af026c"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTA1ODU2Mw==", "bodyText": "This should list it as an example (For example: Used to determine...), as mods can add other tool types so these are not the only cases that may exist.", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/7176#discussion_r461058563", "createdAt": "2020-07-27T17:39:43Z", "author": {"login": "pupnewfster"}, "path": "src/main/java/net/minecraftforge/common/extensions/IForgeBlock.java", "diffHunk": "@@ -887,4 +890,38 @@ default boolean shouldDisplayFluidOverlay(BlockState state, IBlockDisplayReader\n     {\n         return state.getBlock() instanceof BreakableBlock || state.getBlock() instanceof LeavesBlock;\n     }\n+    \n+    /**\n+     * Returns the state that this block should transform into when right clicked by a tool.\n+     * Used to determine if an axe can strip, a shovel can path, or a hoe can till.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b54e9b6764c65e68cbcdaf61fd9596b9b7af026c"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTA1ODgwMQ==", "bodyText": "This should list it as an example (For example: Used to determine...), as mods can add other tool types so these are not the only cases that may exist.", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/7176#discussion_r461058801", "createdAt": "2020-07-27T17:40:08Z", "author": {"login": "pupnewfster"}, "path": "src/main/java/net/minecraftforge/common/extensions/IForgeBlockState.java", "diffHunk": "@@ -778,4 +779,39 @@ default boolean shouldDisplayFluidOverlay(IBlockDisplayReader world, BlockPos po\n     {\n         return getBlockState().getBlock().shouldDisplayFluidOverlay(getBlockState(), world, pos, fluidState);\n     }\n+    \n+    /**\n+     * Returns the state that this block should transform into when right clicked by a tool.\n+     * Used to determine if an axe can strip, a shovel can path, or a hoe can till.\n+     * Return null if vanilla behavior should be disabled.\n+     *\n+     * @param world The world\n+     * @param pos The block position in world\n+     * @param player The player clicking the block\n+     * @param stack The stack being used by the player\n+     * @return The resulting state after the action has been performed\n+     */\n+    @Nullable\n+    default BlockState getToolModifiedState(World world, BlockPos pos, PlayerEntity player, ItemStack stack)\n+    {\n+    \treturn getToolModifiedState(world, pos, player, stack, stack.getToolTypes());\n+    }\n+    \n+    /**\n+     * Returns the state that this block should transform into when right clicked by a tool.\n+     * Used to determine if an axe can strip, a shovel can path, or a hoe can till.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b54e9b6764c65e68cbcdaf61fd9596b9b7af026c"}, "originalPosition": 32}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTA2ODIyOQ==", "bodyText": "This method should be removed (see my main comment for more info)", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/7176#discussion_r461068229", "createdAt": "2020-07-27T17:56:40Z", "author": {"login": "pupnewfster"}, "path": "src/main/java/net/minecraftforge/common/extensions/IForgeBlockState.java", "diffHunk": "@@ -778,4 +779,39 @@ default boolean shouldDisplayFluidOverlay(IBlockDisplayReader world, BlockPos po\n     {\n         return getBlockState().getBlock().shouldDisplayFluidOverlay(getBlockState(), world, pos, fluidState);\n     }\n+    \n+    /**\n+     * Returns the state that this block should transform into when right clicked by a tool.\n+     * Used to determine if an axe can strip, a shovel can path, or a hoe can till.\n+     * Return null if vanilla behavior should be disabled.\n+     *\n+     * @param world The world\n+     * @param pos The block position in world\n+     * @param player The player clicking the block\n+     * @param stack The stack being used by the player\n+     * @return The resulting state after the action has been performed\n+     */\n+    @Nullable\n+    default BlockState getToolModifiedState(World world, BlockPos pos, PlayerEntity player, ItemStack stack)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b54e9b6764c65e68cbcdaf61fd9596b9b7af026c"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTA2ODQ5NA==", "bodyText": "Change Set<ToolType> toolTypes to ToolType toolType (see my main comment for more info)", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/7176#discussion_r461068494", "createdAt": "2020-07-27T17:57:09Z", "author": {"login": "pupnewfster"}, "path": "src/main/java/net/minecraftforge/common/extensions/IForgeBlockState.java", "diffHunk": "@@ -778,4 +779,39 @@ default boolean shouldDisplayFluidOverlay(IBlockDisplayReader world, BlockPos po\n     {\n         return getBlockState().getBlock().shouldDisplayFluidOverlay(getBlockState(), world, pos, fluidState);\n     }\n+    \n+    /**\n+     * Returns the state that this block should transform into when right clicked by a tool.\n+     * Used to determine if an axe can strip, a shovel can path, or a hoe can till.\n+     * Return null if vanilla behavior should be disabled.\n+     *\n+     * @param world The world\n+     * @param pos The block position in world\n+     * @param player The player clicking the block\n+     * @param stack The stack being used by the player\n+     * @return The resulting state after the action has been performed\n+     */\n+    @Nullable\n+    default BlockState getToolModifiedState(World world, BlockPos pos, PlayerEntity player, ItemStack stack)\n+    {\n+    \treturn getToolModifiedState(world, pos, player, stack, stack.getToolTypes());\n+    }\n+    \n+    /**\n+     * Returns the state that this block should transform into when right clicked by a tool.\n+     * Used to determine if an axe can strip, a shovel can path, or a hoe can till.\n+     * Return null if vanilla behavior should be disabled.\n+     *\n+     * @param world The world\n+     * @param pos The block position in world\n+     * @param player The player clicking the block\n+     * @param stack The stack being used by the player\n+     * @param toolTypes The tool types to be considered when performing the action\n+     * @return The resulting state after the action has been performed\n+     */\n+    @Nullable\n+    default BlockState getToolModifiedState(World world, BlockPos pos, PlayerEntity player, ItemStack stack, Set<ToolType> toolTypes)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b54e9b6764c65e68cbcdaf61fd9596b9b7af026c"}, "originalPosition": 43}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTA2ODk1MQ==", "bodyText": "Change Set<ToolType> toolTypes to ToolType toolType (see my main comment for more info)", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/7176#discussion_r461068951", "createdAt": "2020-07-27T17:57:57Z", "author": {"login": "pupnewfster"}, "path": "src/main/java/net/minecraftforge/event/world/BlockEvent.java", "diffHunk": "@@ -444,4 +447,39 @@ public PortalSpawnEvent(IWorld world, BlockPos pos, BlockState state, NetherPort\n             return size;\n         }\n     }\n+    \n+    /**\n+     * Fired when when this block is right clicked by a tool to change its state.\n+     * Used to determine if an axe can strip, a shovel can path, or a hoe can till.\n+     * \n+     * This event is {@link Cancelable}. If canceled, this will prevent the tool\n+     * from changing the block's state.\n+     */\n+    @Cancelable\n+    public static class BlockToolInteractEvent extends BlockEvent\n+    {\n+\n+    \tprivate final PlayerEntity player;\n+    \tprivate final ItemStack stack;\n+    \tprivate final Set<ToolType> toolTypes;\n+    \tprivate BlockState state;\n+    \t\n+\t\tpublic BlockToolInteractEvent(IWorld world, BlockPos pos, BlockState originalState, PlayerEntity player, ItemStack stack, Set<ToolType> toolTypes) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b54e9b6764c65e68cbcdaf61fd9596b9b7af026c"}, "originalPosition": 40}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3c8aea63d6e60143d8561484eb3b25e3025cd5ae", "author": {"user": {"login": "ChampionAsh5357", "name": null}}, "url": "https://github.com/MinecraftForge/MinecraftForge/commit/3c8aea63d6e60143d8561484eb3b25e3025cd5ae", "committedDate": "2020-07-27T21:43:00Z", "message": "AxeStrippingMapRegistry and Example\n\nSwitched single stripping map for a stripping map registry similar to how brewing is done.\n\nImplement a system that fits into the current state of the Minecraft code.\n\nDetermine resultant state based on BlockState input and use some simple property copiers to match the data."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a4b9b84d7f213f1c5059979411f349958abcff2d", "author": {"user": {"login": "ChampionAsh5357", "name": null}}, "url": "https://github.com/MinecraftForge/MinecraftForge/commit/a4b9b84d7f213f1c5059979411f349958abcff2d", "committedDate": "2020-07-27T21:43:23Z", "message": "Update mods.toml"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e5ae443ea1a07a975d09ae9352198622a8c9ae2e", "author": {"user": {"login": "ChampionAsh5357", "name": null}}, "url": "https://github.com/MinecraftForge/MinecraftForge/commit/e5ae443ea1a07a975d09ae9352198622a8c9ae2e", "committedDate": "2020-07-27T21:43:24Z", "message": "Generics fix\n\nIncorrectly ordered them such that the input could extend the output and not vice versa. Fixes this issue."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "83d614585b348ebfc12ec09f1c90e53ebd305c9d", "author": {"user": {"login": "ChampionAsh5357", "name": null}}, "url": "https://github.com/MinecraftForge/MinecraftForge/commit/83d614585b348ebfc12ec09f1c90e53ebd305c9d", "committedDate": "2020-07-27T21:43:24Z", "message": "Fix test case"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0c9f81486f4f957b7cb4e8f66852a2b4435f451b", "author": {"user": {"login": "ChampionAsh5357", "name": null}}, "url": "https://github.com/MinecraftForge/MinecraftForge/commit/0c9f81486f4f957b7cb4e8f66852a2b4435f451b", "committedDate": "2020-07-27T21:43:38Z", "message": "Remove Original Solution\n\nRemove stripping registry framework in place for new one"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a5880b08911a9f6e67484e2342d2f00b0ded20e8", "author": {"user": {"login": "ChampionAsh5357", "name": null}}, "url": "https://github.com/MinecraftForge/MinecraftForge/commit/a5880b08911a9f6e67484e2342d2f00b0ded20e8", "committedDate": "2020-07-27T21:43:39Z", "message": "IForgeBlock Implementation\n\nHooks into all three tools."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c4a1be60458009067fff7fa9ced097c52aa36756", "author": {"user": {"login": "ChampionAsh5357", "name": null}}, "url": "https://github.com/MinecraftForge/MinecraftForge/commit/c4a1be60458009067fff7fa9ced097c52aa36756", "committedDate": "2020-07-27T21:43:39Z", "message": "Added event hook BlockToolInteractEvent"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e5c9967874ba78aacc0af154475ad9a451263eee", "author": {"user": {"login": "ChampionAsh5357", "name": null}}, "url": "https://github.com/MinecraftForge/MinecraftForge/commit/e5c9967874ba78aacc0af154475ad9a451263eee", "committedDate": "2020-07-27T21:43:57Z", "message": "Added Test Mod to verify event"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "83aa6ebb347772c5f2453b98565cd6b9173382cc", "author": {"user": {"login": "ChampionAsh5357", "name": null}}, "url": "https://github.com/MinecraftForge/MinecraftForge/commit/83aa6ebb347772c5f2453b98565cd6b9173382cc", "committedDate": "2020-07-27T21:43:58Z", "message": "finalState -> state and setter/getter one line\n\nExtends BlockEvent so the other reviews are subject for review"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "03258da7da7918acc457f7731f22b3f587a7efcf", "author": {"user": {"login": "ChampionAsh5357", "name": null}}, "url": "https://github.com/MinecraftForge/MinecraftForge/commit/03258da7da7918acc457f7731f22b3f587a7efcf", "committedDate": "2020-07-27T21:43:58Z", "message": "Added specific ToolType implementation\n\nAllows the user to specify which tooltypes to consider when using their custom tool."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7c9621db05f97367f3571443c43458863c08367b", "author": {"user": {"login": "ChampionAsh5357", "name": null}}, "url": "https://github.com/MinecraftForge/MinecraftForge/commit/7c9621db05f97367f3571443c43458863c08367b", "committedDate": "2020-07-27T21:43:59Z", "message": "Format Fixes and Reinventions of Static Helpers\n\nHopefully fixed all formatting errors?\n\nSet<ToolType> -> ToolType\n\nAxe, Hoe, Shovel now have static helpers\n\nUseHoeEvent now deprecated, deprecate onHoeUse?\n\nBlockToolInteractEvent needs to be either left alone to alter vanilla behavior or ported to a generic item use event somehow."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d676a99f1034d163b194cac9f0756f9ea0289593", "author": {"user": {"login": "ChampionAsh5357", "name": null}}, "url": "https://github.com/MinecraftForge/MinecraftForge/commit/d676a99f1034d163b194cac9f0756f9ea0289593", "committedDate": "2020-07-27T21:44:00Z", "message": "Ternary Operator Fix\n\nUpdated ForgeEventFactory::onToolUse to include ternary operator."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "453bc48073b21e949548346189b35b507d29d92e", "author": {"user": {"login": "ChampionAsh5357", "name": null}}, "url": "https://github.com/MinecraftForge/MinecraftForge/commit/453bc48073b21e949548346189b35b507d29d92e", "committedDate": "2020-07-28T17:11:03Z", "message": "Revert \"Revert \"Merge branch '1.16.x-stripping' of https://github.com/ChampionAsh5357/MinecraftForge into 1.16.x-stripping\"\"\n\nThis reverts commit 472b226038eb37a3df679c93e4829be5c52e7675."}, "afterCommit": {"oid": "d676a99f1034d163b194cac9f0756f9ea0289593", "author": {"user": {"login": "ChampionAsh5357", "name": null}}, "url": "https://github.com/MinecraftForge/MinecraftForge/commit/d676a99f1034d163b194cac9f0756f9ea0289593", "committedDate": "2020-07-27T21:44:00Z", "message": "Ternary Operator Fix\n\nUpdated ForgeEventFactory::onToolUse to include ternary operator."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3f93a32e91333e5d6cc70300dbc00e6bddf60e2a", "author": {"user": {"login": "ChampionAsh5357", "name": null}}, "url": "https://github.com/MinecraftForge/MinecraftForge/commit/3f93a32e91333e5d6cc70300dbc00e6bddf60e2a", "committedDate": "2020-07-28T17:25:43Z", "message": "Merge remote-tracking branch 'upstream/1.16.x' into 1.16.x-stripping"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9441236193199acfd436dca27b5c5f34aee4fa64", "author": {"user": {"login": "ChampionAsh5357", "name": null}}, "url": "https://github.com/MinecraftForge/MinecraftForge/commit/9441236193199acfd436dca27b5c5f34aee4fa64", "committedDate": "2020-07-28T17:33:11Z", "message": "Update mods.toml\n\nExactly what it says to get the test mod loading."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU2ODU2MjQ5", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/7176#pullrequestreview-456856249", "createdAt": "2020-07-28T17:31:10Z", "commit": {"oid": "3f93a32e91333e5d6cc70300dbc00e6bddf60e2a"}, "state": "COMMENTED", "comments": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQxNzozMToxMVrOG4XH2g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQxNzo0NDoxOVrOG4XmeA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTc1MjI4Mg==", "bodyText": "There is random white space being added to this line, it should just be a blank line.", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/7176#discussion_r461752282", "createdAt": "2020-07-28T17:31:11Z", "author": {"login": "pupnewfster"}, "path": "patches/minecraft/net/minecraft/item/AxeItem.java.patch", "diffHunk": "@@ -9,3 +9,34 @@\n     }\n  \n     public float func_150893_a(ItemStack p_150893_1_, BlockState p_150893_2_) {\n+@@ -34,12 +34,12 @@\n+       World world = p_195939_1_.func_195991_k();\n+       BlockPos blockpos = p_195939_1_.func_195995_a();\n+       BlockState blockstate = world.func_180495_p(blockpos);\n+-      Block block = field_203176_a.get(blockstate.func_177230_c());\n++      BlockState block = getAxeStrippingState(blockstate, world, blockpos, p_195939_1_.func_195999_j(), p_195939_1_.func_195996_i());\n+       if (block != null) {\n+          PlayerEntity playerentity = p_195939_1_.func_195999_j();\n+          world.func_184133_a(playerentity, blockpos, SoundEvents.field_203255_y, SoundCategory.BLOCKS, 1.0F, 1.0F);\n+          if (!world.field_72995_K) {\n+-            world.func_180501_a(blockpos, block.func_176223_P().func_206870_a(RotatedPillarBlock.field_176298_M, blockstate.func_177229_b(RotatedPillarBlock.field_176298_M)), 11);\n++            world.func_180501_a(blockpos, block, 11);\n+             if (playerentity != null) {\n+                p_195939_1_.func_195996_i().func_222118_a(1, playerentity, (p_220040_1_) -> {\n+                   p_220040_1_.func_213334_d(p_195939_1_.func_221531_n());\n+@@ -52,4 +52,15 @@\n+          return ActionResultType.PASS;\n+       }\n+    }\n++   ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3f93a32e91333e5d6cc70300dbc00e6bddf60e2a"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTc1MjY1NQ==", "bodyText": "You can remove the forge start/end comments as forge has been moving away from having them for the most part especially when it is just adding a method at the end of a file.", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/7176#discussion_r461752655", "createdAt": "2020-07-28T17:31:45Z", "author": {"login": "pupnewfster"}, "path": "patches/minecraft/net/minecraft/item/AxeItem.java.patch", "diffHunk": "@@ -9,3 +9,34 @@\n     }\n  \n     public float func_150893_a(ItemStack p_150893_1_, BlockState p_150893_2_) {\n+@@ -34,12 +34,12 @@\n+       World world = p_195939_1_.func_195991_k();\n+       BlockPos blockpos = p_195939_1_.func_195995_a();\n+       BlockState blockstate = world.func_180495_p(blockpos);\n+-      Block block = field_203176_a.get(blockstate.func_177230_c());\n++      BlockState block = getAxeStrippingState(blockstate, world, blockpos, p_195939_1_.func_195999_j(), p_195939_1_.func_195996_i());\n+       if (block != null) {\n+          PlayerEntity playerentity = p_195939_1_.func_195999_j();\n+          world.func_184133_a(playerentity, blockpos, SoundEvents.field_203255_y, SoundCategory.BLOCKS, 1.0F, 1.0F);\n+          if (!world.field_72995_K) {\n+-            world.func_180501_a(blockpos, block.func_176223_P().func_206870_a(RotatedPillarBlock.field_176298_M, blockstate.func_177229_b(RotatedPillarBlock.field_176298_M)), 11);\n++            world.func_180501_a(blockpos, block, 11);\n+             if (playerentity != null) {\n+                p_195939_1_.func_195996_i().func_222118_a(1, playerentity, (p_220040_1_) -> {\n+                   p_220040_1_.func_213334_d(p_195939_1_.func_221531_n());\n+@@ -52,4 +52,15 @@\n+          return ActionResultType.PASS;\n+       }\n+    }\n++   \n++   /* ======================================== FORGE START =====================================*/", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3f93a32e91333e5d6cc70300dbc00e6bddf60e2a"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTc1MzA3MA==", "bodyText": "You can remove the forge start/end comments as forge has been moving away from having them for the most part especially when it is just adding a method at the end of a file.", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/7176#discussion_r461753070", "createdAt": "2020-07-28T17:32:26Z", "author": {"login": "pupnewfster"}, "path": "patches/minecraft/net/minecraft/item/HoeItem.java.patch", "diffHunk": "@@ -12,9 +12,26 @@\n        World world = p_195939_1_.func_195991_k();\n        BlockPos blockpos = p_195939_1_.func_195995_a();\n -      if (p_195939_1_.func_196000_l() != Direction.DOWN && world.func_180495_p(blockpos.func_177984_a()).func_196958_f()) {\n+-         BlockState blockstate = field_195973_b.get(world.func_180495_p(blockpos).func_177230_c());\n +      int hook = net.minecraftforge.event.ForgeEventFactory.onHoeUse(p_195939_1_);\n +      if (hook != 0) return hook > 0 ? ActionResultType.SUCCESS : ActionResultType.FAIL;\n +      if (p_195939_1_.func_196000_l() != Direction.DOWN && world.func_175623_d(blockpos.func_177984_a())) {\n-          BlockState blockstate = field_195973_b.get(world.func_180495_p(blockpos).func_177230_c());\n++         BlockState blockstate = getHoeTillingState(world.func_180495_p(blockpos), world, blockpos, p_195939_1_.func_195999_j(), p_195939_1_.func_195996_i());\n           if (blockstate != null) {\n              PlayerEntity playerentity = p_195939_1_.func_195999_j();\n+             world.func_184133_a(playerentity, blockpos, SoundEvents.field_187693_cj, SoundCategory.BLOCKS, 1.0F, 1.0F);\n+@@ -47,4 +49,14 @@\n+ \n+       return ActionResultType.PASS;\n+    }\n++   \n++   /* ======================================== FORGE START =====================================*/", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3f93a32e91333e5d6cc70300dbc00e6bddf60e2a"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTc1MzExNw==", "bodyText": "You can remove the forge start/end comments as forge has been moving away from having them for the most part especially when it is just adding a method at the end of a file.", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/7176#discussion_r461753117", "createdAt": "2020-07-28T17:32:32Z", "author": {"login": "pupnewfster"}, "path": "patches/minecraft/net/minecraft/item/ShovelItem.java.patch", "diffHunk": "@@ -9,12 +9,30 @@\n     }\n  \n     public boolean func_150897_b(BlockState p_150897_1_) {\n-@@ -39,7 +39,7 @@\n+@@ -37,9 +37,9 @@\n+          return ActionResultType.PASS;\n+       } else {\n           PlayerEntity playerentity = p_195939_1_.func_195999_j();\n-          BlockState blockstate1 = field_195955_e.get(blockstate.func_177230_c());\n+-         BlockState blockstate1 = field_195955_e.get(blockstate.func_177230_c());\n++         BlockState blockstate1 = getShovelPathingState(blockstate, world, blockpos, playerentity, p_195939_1_.func_195996_i());\n           BlockState blockstate2 = null;\n -         if (blockstate1 != null && world.func_180495_p(blockpos.func_177984_a()).func_196958_f()) {\n +         if (blockstate1 != null && world.func_175623_d(blockpos.func_177984_a())) {\n              world.func_184133_a(playerentity, blockpos, SoundEvents.field_187771_eN, SoundCategory.BLOCKS, 1.0F, 1.0F);\n              blockstate2 = blockstate1;\n           } else if (blockstate.func_177230_c() instanceof CampfireBlock && blockstate.func_177229_b(CampfireBlock.field_220101_b)) {\n+@@ -67,4 +67,14 @@\n+          }\n+       }\n+    }\n++   \n++   /* ======================================== FORGE START =====================================*/", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3f93a32e91333e5d6cc70300dbc00e6bddf60e2a"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTc1MzMzMA==", "bodyText": "There is random white space being added to this line, it should just be a blank line.", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/7176#discussion_r461753330", "createdAt": "2020-07-28T17:32:53Z", "author": {"login": "pupnewfster"}, "path": "patches/minecraft/net/minecraft/item/HoeItem.java.patch", "diffHunk": "@@ -12,9 +12,26 @@\n        World world = p_195939_1_.func_195991_k();\n        BlockPos blockpos = p_195939_1_.func_195995_a();\n -      if (p_195939_1_.func_196000_l() != Direction.DOWN && world.func_180495_p(blockpos.func_177984_a()).func_196958_f()) {\n+-         BlockState blockstate = field_195973_b.get(world.func_180495_p(blockpos).func_177230_c());\n +      int hook = net.minecraftforge.event.ForgeEventFactory.onHoeUse(p_195939_1_);\n +      if (hook != 0) return hook > 0 ? ActionResultType.SUCCESS : ActionResultType.FAIL;\n +      if (p_195939_1_.func_196000_l() != Direction.DOWN && world.func_175623_d(blockpos.func_177984_a())) {\n-          BlockState blockstate = field_195973_b.get(world.func_180495_p(blockpos).func_177230_c());\n++         BlockState blockstate = getHoeTillingState(world.func_180495_p(blockpos), world, blockpos, p_195939_1_.func_195999_j(), p_195939_1_.func_195996_i());\n           if (blockstate != null) {\n              PlayerEntity playerentity = p_195939_1_.func_195999_j();\n+             world.func_184133_a(playerentity, blockpos, SoundEvents.field_187693_cj, SoundCategory.BLOCKS, 1.0F, 1.0F);\n+@@ -47,4 +49,14 @@\n+ \n+       return ActionResultType.PASS;\n+    }\n++   ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3f93a32e91333e5d6cc70300dbc00e6bddf60e2a"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTc1MzQ0NQ==", "bodyText": "There is random white space being added to this line, it should just be a blank line.", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/7176#discussion_r461753445", "createdAt": "2020-07-28T17:33:06Z", "author": {"login": "pupnewfster"}, "path": "patches/minecraft/net/minecraft/item/ShovelItem.java.patch", "diffHunk": "@@ -9,12 +9,30 @@\n     }\n  \n     public boolean func_150897_b(BlockState p_150897_1_) {\n-@@ -39,7 +39,7 @@\n+@@ -37,9 +37,9 @@\n+          return ActionResultType.PASS;\n+       } else {\n           PlayerEntity playerentity = p_195939_1_.func_195999_j();\n-          BlockState blockstate1 = field_195955_e.get(blockstate.func_177230_c());\n+-         BlockState blockstate1 = field_195955_e.get(blockstate.func_177230_c());\n++         BlockState blockstate1 = getShovelPathingState(blockstate, world, blockpos, playerentity, p_195939_1_.func_195996_i());\n           BlockState blockstate2 = null;\n -         if (blockstate1 != null && world.func_180495_p(blockpos.func_177984_a()).func_196958_f()) {\n +         if (blockstate1 != null && world.func_175623_d(blockpos.func_177984_a())) {\n              world.func_184133_a(playerentity, blockpos, SoundEvents.field_187771_eN, SoundCategory.BLOCKS, 1.0F, 1.0F);\n              blockstate2 = blockstate1;\n           } else if (blockstate.func_177230_c() instanceof CampfireBlock && blockstate.func_177229_b(CampfireBlock.field_220101_b)) {\n+@@ -67,4 +67,14 @@\n+          }\n+       }\n+    }\n++   ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3f93a32e91333e5d6cc70300dbc00e6bddf60e2a"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTc1Njk1Nw==", "bodyText": "Brackets in patches should be on the same line, not the next line.", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/7176#discussion_r461756957", "createdAt": "2020-07-28T17:39:08Z", "author": {"login": "pupnewfster"}, "path": "patches/minecraft/net/minecraft/item/AxeItem.java.patch", "diffHunk": "@@ -9,3 +9,34 @@\n     }\n  \n     public float func_150893_a(ItemStack p_150893_1_, BlockState p_150893_2_) {\n+@@ -34,12 +34,12 @@\n+       World world = p_195939_1_.func_195991_k();\n+       BlockPos blockpos = p_195939_1_.func_195995_a();\n+       BlockState blockstate = world.func_180495_p(blockpos);\n+-      Block block = field_203176_a.get(blockstate.func_177230_c());\n++      BlockState block = getAxeStrippingState(blockstate, world, blockpos, p_195939_1_.func_195999_j(), p_195939_1_.func_195996_i());\n+       if (block != null) {\n+          PlayerEntity playerentity = p_195939_1_.func_195999_j();\n+          world.func_184133_a(playerentity, blockpos, SoundEvents.field_203255_y, SoundCategory.BLOCKS, 1.0F, 1.0F);\n+          if (!world.field_72995_K) {\n+-            world.func_180501_a(blockpos, block.func_176223_P().func_206870_a(RotatedPillarBlock.field_176298_M, blockstate.func_177229_b(RotatedPillarBlock.field_176298_M)), 11);\n++            world.func_180501_a(blockpos, block, 11);\n+             if (playerentity != null) {\n+                p_195939_1_.func_195996_i().func_222118_a(1, playerentity, (p_220040_1_) -> {\n+                   p_220040_1_.func_213334_d(p_195939_1_.func_221531_n());\n+@@ -52,4 +52,15 @@\n+          return ActionResultType.PASS;\n+       }\n+    }\n++   \n++   /* ======================================== FORGE START =====================================*/\n++   @javax.annotation.Nullable\n++   protected static BlockState getAxeStrippingState(BlockState originalState, World world, BlockPos pos, PlayerEntity player, ItemStack stack)\n++   {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3f93a32e91333e5d6cc70300dbc00e6bddf60e2a"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTc1NzAzMg==", "bodyText": "Brackets in patches should be on the same line, not the next line.", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/7176#discussion_r461757032", "createdAt": "2020-07-28T17:39:16Z", "author": {"login": "pupnewfster"}, "path": "patches/minecraft/net/minecraft/item/HoeItem.java.patch", "diffHunk": "@@ -12,9 +12,26 @@\n        World world = p_195939_1_.func_195991_k();\n        BlockPos blockpos = p_195939_1_.func_195995_a();\n -      if (p_195939_1_.func_196000_l() != Direction.DOWN && world.func_180495_p(blockpos.func_177984_a()).func_196958_f()) {\n+-         BlockState blockstate = field_195973_b.get(world.func_180495_p(blockpos).func_177230_c());\n +      int hook = net.minecraftforge.event.ForgeEventFactory.onHoeUse(p_195939_1_);\n +      if (hook != 0) return hook > 0 ? ActionResultType.SUCCESS : ActionResultType.FAIL;\n +      if (p_195939_1_.func_196000_l() != Direction.DOWN && world.func_175623_d(blockpos.func_177984_a())) {\n-          BlockState blockstate = field_195973_b.get(world.func_180495_p(blockpos).func_177230_c());\n++         BlockState blockstate = getHoeTillingState(world.func_180495_p(blockpos), world, blockpos, p_195939_1_.func_195999_j(), p_195939_1_.func_195996_i());\n           if (blockstate != null) {\n              PlayerEntity playerentity = p_195939_1_.func_195999_j();\n+             world.func_184133_a(playerentity, blockpos, SoundEvents.field_187693_cj, SoundCategory.BLOCKS, 1.0F, 1.0F);\n+@@ -47,4 +49,14 @@\n+ \n+       return ActionResultType.PASS;\n+    }\n++   \n++   /* ======================================== FORGE START =====================================*/\n++   @javax.annotation.Nullable\n++   protected static BlockState getHoeTillingState(BlockState originalState, World world, BlockPos pos, PlayerEntity player, ItemStack stack)\n++   {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3f93a32e91333e5d6cc70300dbc00e6bddf60e2a"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTc1NzM4OA==", "bodyText": "Brackets in patches should be on the same line, not the next line.", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/7176#discussion_r461757388", "createdAt": "2020-07-28T17:39:51Z", "author": {"login": "pupnewfster"}, "path": "patches/minecraft/net/minecraft/item/ShovelItem.java.patch", "diffHunk": "@@ -9,12 +9,30 @@\n     }\n  \n     public boolean func_150897_b(BlockState p_150897_1_) {\n-@@ -39,7 +39,7 @@\n+@@ -37,9 +37,9 @@\n+          return ActionResultType.PASS;\n+       } else {\n           PlayerEntity playerentity = p_195939_1_.func_195999_j();\n-          BlockState blockstate1 = field_195955_e.get(blockstate.func_177230_c());\n+-         BlockState blockstate1 = field_195955_e.get(blockstate.func_177230_c());\n++         BlockState blockstate1 = getShovelPathingState(blockstate, world, blockpos, playerentity, p_195939_1_.func_195996_i());\n           BlockState blockstate2 = null;\n -         if (blockstate1 != null && world.func_180495_p(blockpos.func_177984_a()).func_196958_f()) {\n +         if (blockstate1 != null && world.func_175623_d(blockpos.func_177984_a())) {\n              world.func_184133_a(playerentity, blockpos, SoundEvents.field_187771_eN, SoundCategory.BLOCKS, 1.0F, 1.0F);\n              blockstate2 = blockstate1;\n           } else if (blockstate.func_177230_c() instanceof CampfireBlock && blockstate.func_177229_b(CampfireBlock.field_220101_b)) {\n+@@ -67,4 +67,14 @@\n+          }\n+       }\n+    }\n++   \n++   /* ======================================== FORGE START =====================================*/\n++   @javax.annotation.Nullable\n++   protected static BlockState getShovelPathingState(BlockState originalState, World world, BlockPos pos, PlayerEntity player, ItemStack stack)\n++   {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3f93a32e91333e5d6cc70300dbc00e6bddf60e2a"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTc1ODkxOQ==", "bodyText": "The spacing of this class is still rather screwed up and I believe is a mixture of tabs and spaces", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/7176#discussion_r461758919", "createdAt": "2020-07-28T17:42:18Z", "author": {"login": "pupnewfster"}, "path": "src/main/java/net/minecraftforge/event/world/BlockEvent.java", "diffHunk": "@@ -444,4 +445,55 @@ public PortalSpawnEvent(IWorld world, BlockPos pos, BlockState state, NetherPort\n             return size;\n         }\n     }\n+    \n+    /**\n+     * Fired when when this block is right clicked by a tool to change its state.\n+     * For example: Used to determine if an axe can strip, a shovel can path, or a hoe can till.\n+     * \n+     * This event is {@link Cancelable}. If canceled, this will prevent the tool\n+     * from changing the block's state.\n+     */\n+    @Cancelable\n+    public static class BlockToolInteractEvent extends BlockEvent\n+    {\n+\n+        private final PlayerEntity player;\n+        private final ItemStack stack;\n+        private final ToolType toolType;\n+        private BlockState state;\n+\n+\t\tpublic BlockToolInteractEvent(IWorld world, BlockPos pos, BlockState originalState, PlayerEntity player, ItemStack stack, ToolType toolType)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3f93a32e91333e5d6cc70300dbc00e6bddf60e2a"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTc1OTE2Mw==", "bodyText": "Bracket should be on the next line", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/7176#discussion_r461759163", "createdAt": "2020-07-28T17:42:42Z", "author": {"login": "pupnewfster"}, "path": "src/main/java/net/minecraftforge/event/ForgeEventFactory.java", "diffHunk": "@@ -359,6 +361,12 @@ public static int onHoeUse(ItemUseContext context)\n         }\n         return 0;\n     }\n+    \n+    @Nullable\n+    public static BlockState onToolUse(BlockState originalState, World world, BlockPos pos, PlayerEntity player, ItemStack stack, ToolType toolType) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3f93a32e91333e5d6cc70300dbc00e6bddf60e2a"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTc2MDEyMA==", "bodyText": "It probably would be nice to java doc all the methods in this event, but at the very least these two methods should have an explanation of what they do.", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/7176#discussion_r461760120", "createdAt": "2020-07-28T17:44:19Z", "author": {"login": "pupnewfster"}, "path": "src/main/java/net/minecraftforge/event/world/BlockEvent.java", "diffHunk": "@@ -444,4 +445,55 @@ public PortalSpawnEvent(IWorld world, BlockPos pos, BlockState state, NetherPort\n             return size;\n         }\n     }\n+    \n+    /**\n+     * Fired when when this block is right clicked by a tool to change its state.\n+     * For example: Used to determine if an axe can strip, a shovel can path, or a hoe can till.\n+     * \n+     * This event is {@link Cancelable}. If canceled, this will prevent the tool\n+     * from changing the block's state.\n+     */\n+    @Cancelable\n+    public static class BlockToolInteractEvent extends BlockEvent\n+    {\n+\n+        private final PlayerEntity player;\n+        private final ItemStack stack;\n+        private final ToolType toolType;\n+        private BlockState state;\n+\n+\t\tpublic BlockToolInteractEvent(IWorld world, BlockPos pos, BlockState originalState, PlayerEntity player, ItemStack stack, ToolType toolType)\n+\t    {\n+\t\t    super(world, pos, originalState);\n+\t\t    this.player = player;\n+\t\t    this.stack = stack;\n+\t\t    this.state = originalState;\n+\t\t    this.toolType = toolType;\n+\t\t}\n+\n+\t    public PlayerEntity getPlayer()\n+\t    { \n+\t        return player;\n+\t    }\n+\t\t\n+\t    public ItemStack getHeldItemStack()\n+\t    {\n+\t        return stack;\n+\t    }\n+\n+\t    public ToolType getToolType()\n+\t    {\n+\t        return toolType;\n+\t    }\n+\n+\t    public void setFinalState(BlockState finalState)\n+\t    {\n+\t        this.state = finalState;\n+\t    }\n+\n+\t    public BlockState getFinalState()\n+\t    {\n+\t        return state;\n+\t    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3f93a32e91333e5d6cc70300dbc00e6bddf60e2a"}, "originalPosition": 61}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6b9dcbd2013465156488121aa5c1ae2ed08efe1b", "author": {"user": {"login": "ChampionAsh5357", "name": null}}, "url": "https://github.com/MinecraftForge/MinecraftForge/commit/6b9dcbd2013465156488121aa5c1ae2ed08efe1b", "committedDate": "2020-07-28T19:35:49Z", "message": "Statics and Formats and Restructures, Oh my!\n\nMade individual tool references public and called in IForgeBlock.\n\nMoved event call to IForgeBlockState to prevent removal.\n\nFixed a bunch of formatting errors hopefully...\n\nAdded JavaDocs for all methods in BlockToolInteractEvent."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "df0b611169de0d59770dfea53f90ae6c01397133", "author": {"user": {"login": "ChampionAsh5357", "name": null}}, "url": "https://github.com/MinecraftForge/MinecraftForge/commit/df0b611169de0d59770dfea53f90ae6c01397133", "committedDate": "2020-07-28T19:39:06Z", "message": "Deprecate ForgeEventFactory::onHoeUse\n\nDeprecating references of UseHoeEvent."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU2OTU4NDc2", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/7176#pullrequestreview-456958476", "createdAt": "2020-07-28T19:49:49Z", "commit": {"oid": "df0b611169de0d59770dfea53f90ae6c01397133"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQxOTo0OTo0OVrOG4cMRQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQxOTo1MDowMVrOG4cM9Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTgzNTMzMw==", "bodyText": "A lot of these parameters are unused and serve no purpose.", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/7176#discussion_r461835333", "createdAt": "2020-07-28T19:49:49Z", "author": {"login": "pupnewfster"}, "path": "patches/minecraft/net/minecraft/item/HoeItem.java.patch", "diffHunk": "@@ -12,9 +12,21 @@\n        World world = p_195939_1_.func_195991_k();\n        BlockPos blockpos = p_195939_1_.func_195995_a();\n -      if (p_195939_1_.func_196000_l() != Direction.DOWN && world.func_180495_p(blockpos.func_177984_a()).func_196958_f()) {\n+-         BlockState blockstate = field_195973_b.get(world.func_180495_p(blockpos).func_177230_c());\n +      int hook = net.minecraftforge.event.ForgeEventFactory.onHoeUse(p_195939_1_);\n +      if (hook != 0) return hook > 0 ? ActionResultType.SUCCESS : ActionResultType.FAIL;\n +      if (p_195939_1_.func_196000_l() != Direction.DOWN && world.func_175623_d(blockpos.func_177984_a())) {\n-          BlockState blockstate = field_195973_b.get(world.func_180495_p(blockpos).func_177230_c());\n++         BlockState blockstate = world.func_180495_p(blockpos).getToolModifiedState(world, blockpos, p_195939_1_.func_195999_j(), p_195939_1_.func_195996_i(), net.minecraftforge.common.ToolType.HOE);\n           if (blockstate != null) {\n              PlayerEntity playerentity = p_195939_1_.func_195999_j();\n+             world.func_184133_a(playerentity, blockpos, SoundEvents.field_187693_cj, SoundCategory.BLOCKS, 1.0F, 1.0F);\n+@@ -47,4 +49,9 @@\n+ \n+       return ActionResultType.PASS;\n+    }\n++\n++   @javax.annotation.Nullable\n++   public static BlockState getHoeTillingState(BlockState originalState, World world, BlockPos pos, PlayerEntity player, ItemStack stack) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "df0b611169de0d59770dfea53f90ae6c01397133"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTgzNTQxMQ==", "bodyText": "A lot of these parameters are unused and serve no purpose.", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/7176#discussion_r461835411", "createdAt": "2020-07-28T19:49:55Z", "author": {"login": "pupnewfster"}, "path": "patches/minecraft/net/minecraft/item/AxeItem.java.patch", "diffHunk": "@@ -9,3 +9,29 @@\n     }\n  \n     public float func_150893_a(ItemStack p_150893_1_, BlockState p_150893_2_) {\n+@@ -34,12 +34,12 @@\n+       World world = p_195939_1_.func_195991_k();\n+       BlockPos blockpos = p_195939_1_.func_195995_a();\n+       BlockState blockstate = world.func_180495_p(blockpos);\n+-      Block block = field_203176_a.get(blockstate.func_177230_c());\n++      BlockState block = blockstate.getToolModifiedState(world, blockpos, p_195939_1_.func_195999_j(), p_195939_1_.func_195996_i(), net.minecraftforge.common.ToolType.AXE);\n+       if (block != null) {\n+          PlayerEntity playerentity = p_195939_1_.func_195999_j();\n+          world.func_184133_a(playerentity, blockpos, SoundEvents.field_203255_y, SoundCategory.BLOCKS, 1.0F, 1.0F);\n+          if (!world.field_72995_K) {\n+-            world.func_180501_a(blockpos, block.func_176223_P().func_206870_a(RotatedPillarBlock.field_176298_M, blockstate.func_177229_b(RotatedPillarBlock.field_176298_M)), 11);\n++            world.func_180501_a(blockpos, block, 11);\n+             if (playerentity != null) {\n+                p_195939_1_.func_195996_i().func_222118_a(1, playerentity, (p_220040_1_) -> {\n+                   p_220040_1_.func_213334_d(p_195939_1_.func_221531_n());\n+@@ -52,4 +52,10 @@\n+          return ActionResultType.PASS;\n+       }\n+    }\n++\n++   @javax.annotation.Nullable\n++   public static BlockState getAxeStrippingState(BlockState originalState, World world, BlockPos pos, PlayerEntity player, ItemStack stack) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "df0b611169de0d59770dfea53f90ae6c01397133"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTgzNTUwOQ==", "bodyText": "A lot of these parameters are unused and serve no purpose.", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/7176#discussion_r461835509", "createdAt": "2020-07-28T19:50:01Z", "author": {"login": "pupnewfster"}, "path": "patches/minecraft/net/minecraft/item/ShovelItem.java.patch", "diffHunk": "@@ -9,12 +9,25 @@\n     }\n  \n     public boolean func_150897_b(BlockState p_150897_1_) {\n-@@ -39,7 +39,7 @@\n+@@ -37,9 +37,9 @@\n+          return ActionResultType.PASS;\n+       } else {\n           PlayerEntity playerentity = p_195939_1_.func_195999_j();\n-          BlockState blockstate1 = field_195955_e.get(blockstate.func_177230_c());\n+-         BlockState blockstate1 = field_195955_e.get(blockstate.func_177230_c());\n++         BlockState blockstate1 = blockstate.getToolModifiedState(world, blockpos, playerentity, p_195939_1_.func_195996_i(), net.minecraftforge.common.ToolType.SHOVEL);\n           BlockState blockstate2 = null;\n -         if (blockstate1 != null && world.func_180495_p(blockpos.func_177984_a()).func_196958_f()) {\n +         if (blockstate1 != null && world.func_175623_d(blockpos.func_177984_a())) {\n              world.func_184133_a(playerentity, blockpos, SoundEvents.field_187771_eN, SoundCategory.BLOCKS, 1.0F, 1.0F);\n              blockstate2 = blockstate1;\n           } else if (blockstate.func_177230_c() instanceof CampfireBlock && blockstate.func_177229_b(CampfireBlock.field_220101_b)) {\n+@@ -67,4 +67,9 @@\n+          }\n+       }\n+    }\n++\n++   @javax.annotation.Nullable\n++   public static BlockState getShovelPathingState(BlockState originalState, World world, BlockPos pos, PlayerEntity player, ItemStack stack) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "df0b611169de0d59770dfea53f90ae6c01397133"}, "originalPosition": 24}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cf5eb295546d3f5ef59f699e9342b7b54728d39d", "author": {"user": {"login": "ChampionAsh5357", "name": null}}, "url": "https://github.com/MinecraftForge/MinecraftForge/commit/cf5eb295546d3f5ef59f699e9342b7b54728d39d", "committedDate": "2020-07-28T20:11:08Z", "message": "Remove useless parameters\n\nThis should've happened earlier, I forgot to...oops.\n\nAll static helpers are reduced to only the state parameter."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2f07d5bbbb85fd57d6ded20eb5a2114693805118", "author": {"user": {"login": "LexManos", "name": "LexManos"}}, "url": "https://github.com/MinecraftForge/MinecraftForge/commit/2f07d5bbbb85fd57d6ded20eb5a2114693805118", "committedDate": "2020-08-03T23:48:41Z", "message": "Merge branch '1.16.x' into 1.16.x-stripping"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2388, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}