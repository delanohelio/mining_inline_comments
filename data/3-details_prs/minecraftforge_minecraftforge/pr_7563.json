{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQzNTgxNzE4", "number": 7563, "title": "Add supplier variant to `AbstractBlock.Properties#lootFrom`", "bodyText": "Forge patches Block / AbstractBlocks loot table handling to use a supplier of the loot table name. However, there's no way to directly set this through the properties a. la. vanilla - even though lootFrom internally uses a supplier, you have to pass a Block into it.\nThis adds a proper overload of lootFrom which takes a Supplier<? extends Block> and lazily maps it to a Supplier<ResourceLocation> as is required for the loot table, so modders can now use lootFrom without having to worry about creating a registration order dependency.", "createdAt": "2020-12-21T16:27:58Z", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/7563", "merged": true, "mergeCommit": {"oid": "fc68b81b219bf566e83ce795fc9af65153319d53"}, "closed": true, "closedAt": "2020-12-28T21:42:15Z", "author": {"login": "alcatrazEscapee"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdoYcP9gH2gAyNTQzNTgxNzE4Ojk4OTNiNDljODE1ZDVlOGRiZWM4MmFjNjVjODVmMjgyMzU5NDg4NzI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdqtM9KAFqTU1OTMxMTU0NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "9893b49c815d5e8dbec82ac65c85f28235948872", "author": {"user": {"login": "alcatrazEscapee", "name": "Alex O'Neill"}}, "url": "https://github.com/MinecraftForge/MinecraftForge/commit/9893b49c815d5e8dbec82ac65c85f28235948872", "committedDate": "2020-12-21T16:22:47Z", "message": "Add supplier variant to `lootFrom`"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU2NTMzNTQ2", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/7563#pullrequestreview-556533546", "createdAt": "2020-12-21T17:10:22Z", "commit": {"oid": "9893b49c815d5e8dbec82ac65c85f28235948872"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "35d15fcab2e2be5a7de6c5cfdafcfb50f0157953", "author": {"user": {"login": "alcatrazEscapee", "name": "Alex O'Neill"}}, "url": "https://github.com/MinecraftForge/MinecraftForge/commit/35d15fcab2e2be5a7de6c5cfdafcfb50f0157953", "committedDate": "2020-12-21T17:38:21Z", "message": "Add deprecation annotation and comment"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU5MzExNTQ1", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/7563#pullrequestreview-559311545", "createdAt": "2020-12-28T21:41:56Z", "commit": {"oid": "35d15fcab2e2be5a7de6c5cfdafcfb50f0157953"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOFQyMTo0MTo1NlrOIMCiSw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOFQyMTo0MTo1NlrOIMCiSw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTQ5NTM3MQ==", "bodyText": "Should of been implemented as a return lootFrom(p_222379_1_.delegate); but whatever.", "url": "https://github.com/MinecraftForge/MinecraftForge/pull/7563#discussion_r549495371", "createdAt": "2020-12-28T21:41:56Z", "author": {"login": "LexManos"}, "path": "patches/minecraft/net/minecraft/block/AbstractBlock.java.patch", "diffHunk": "@@ -144,12 +144,22 @@\n        public AbstractBlock.Properties func_200941_a(float p_200941_1_) {\n           this.field_200961_i = p_200941_1_;\n           return this;\n-@@ -933,7 +971,7 @@\n+@@ -932,11 +970,17 @@\n+          return this;\n        }\n  \n++      @Deprecated // FORGE: Use the variant that takes a Supplier below\n        public AbstractBlock.Properties func_222379_b(Block p_222379_1_) {\n -         this.field_222381_j = p_222379_1_.func_220068_i();\n +         this.lootTableSupplier = () -> p_222379_1_.delegate.get().func_220068_i();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "35d15fcab2e2be5a7de6c5cfdafcfb50f0157953"}, "originalPosition": 12}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2256, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}