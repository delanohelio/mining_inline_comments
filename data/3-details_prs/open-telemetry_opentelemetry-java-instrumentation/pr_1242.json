{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkxNjYxNDQ1", "number": 1242, "title": "Support multiple exporters via OTLP_EXPORTER config", "bodyText": "Signed-off-by: Pavol Loffay ploffay@redhat.com\nResolves #496\nPS: my first PR to this repo, I might have done smth wrong.", "createdAt": "2020-09-23T10:03:25Z", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1242", "merged": true, "mergeCommit": {"oid": "a2fac7fdc153495f065731ebd03d545ec5c8586a"}, "closed": true, "closedAt": "2020-09-23T22:17:53Z", "author": {"login": "pavolloffay"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdLpmu6gH2gAyNDkxNjYxNDQ1OjMwYWU5ZTI3ZmEyZDMwNDc1MDRmZGRjZWU1ZTdiMTA1NDcyY2EyOTU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdL0KwigFqTQ5NTA4NzE0OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "30ae9e27fa2d3047504fddcee5e7b105472ca295", "author": {"user": {"login": "pavolloffay", "name": "Pavol Loffay"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/30ae9e27fa2d3047504fddcee5e7b105472ca295", "committedDate": "2020-09-23T09:58:49Z", "message": "Support multiple exporters via OTLP_EXPORTER config\n\nSigned-off-by: Pavol Loffay <ploffay@redhat.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1b274e7425ebb7a949d6da04b2822cbb2fb565f9", "author": {"user": {"login": "pavolloffay", "name": "Pavol Loffay"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/1b274e7425ebb7a949d6da04b2822cbb2fb565f9", "committedDate": "2020-09-23T10:01:26Z", "message": "comment\n\nSigned-off-by: Pavol Loffay <ploffay@redhat.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "eb7c17293e64df3322342bfd67119f78953b5ffa", "author": {"user": {"login": "pavolloffay", "name": "Pavol Loffay"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/eb7c17293e64df3322342bfd67119f78953b5ffa", "committedDate": "2020-09-23T11:16:25Z", "message": "split -1\n\nSigned-off-by: Pavol Loffay <ploffay@redhat.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk0NjE2MzU3", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1242#pullrequestreview-494616357", "createdAt": "2020-09-23T12:41:50Z", "commit": {"oid": "eb7c17293e64df3322342bfd67119f78953b5ffa"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QxMjo0MTo1MFrOHWrb3Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QxMjo1Njo1NFrOHWsTwA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzU0MjM2NQ==", "bodyText": "Drop =?", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1242#discussion_r493542365", "createdAt": "2020-09-23T12:41:50Z", "author": {"login": "iNikem"}, "path": "README.md", "diffHunk": "@@ -56,7 +56,15 @@ Note: These parameter names are very likely to change over time, so please check\n back here when trying out a new version! Please report any bugs or unexpected\n behavior you may find.\n \n-#### Jaeger exporter\n+#### Exporters\n+\n+The following configuration properties are common to all exporters: \n+\n+| System property          | Environment variable     | Purpose                                                                                            |\n+|--------------------------|--------------------------|----------------------------------------------------------------------------------------------------|\n+| otel.exporter=           | OTEL_EXPORTER=           | To select exporter e.g. `otlp,jaeger`. Defaults to `otlp`                                          |", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "eb7c17293e64df3322342bfd67119f78953b5ffa"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzU1NjY3Mg==", "bodyText": "These logs are misleading now.", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1242#discussion_r493556672", "createdAt": "2020-09-23T12:56:54Z", "author": {"login": "iNikem"}, "path": "javaagent-tooling/src/main/java/io/opentelemetry/javaagent/tooling/TracerInstaller.java", "diffHunk": "@@ -62,22 +62,25 @@ public static synchronized void installAgentTracer() {\n     PropagatorsInitializer.initializePropagators(Config.get().getPropagators());\n   }\n \n-  private static synchronized void installExporters(String exporterName) {\n-    SpanExporterFactory spanExporterFactory = findSpanExporterFactory(exporterName);\n-    if (spanExporterFactory != null) {\n-      DefaultExporterConfig config = new DefaultExporterConfig(\"exporter\");\n-      installExporter(spanExporterFactory, config);\n-    } else {\n-      log.warn(\"No {} span exporter found\", exporterName);\n-      log.warn(\"No valid span exporter found. Tracing will run but spans are dropped\");\n-    }\n+  private static synchronized void installExporters(String exportersName) {\n+    String[] exporters = exportersName.split(\",\", -1);\n+    for (String exporterName: exporters) {\n+      SpanExporterFactory spanExporterFactory = findSpanExporterFactory(exporterName);\n+      if (spanExporterFactory != null) {\n+        DefaultExporterConfig config = new DefaultExporterConfig(\"exporter\");\n+        installExporter(spanExporterFactory, config);\n+      } else {\n+        log.warn(\"No {} span exporter found\", exporterName);\n+        log.warn(\"No valid span exporter found. Tracing will run but spans are dropped\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "eb7c17293e64df3322342bfd67119f78953b5ffa"}, "originalPosition": 22}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0ba9886b8161bb3704a3b0da862b1bc39c50762e", "author": {"user": {"login": "pavolloffay", "name": "Pavol Loffay"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/0ba9886b8161bb3704a3b0da862b1bc39c50762e", "committedDate": "2020-09-23T13:34:53Z", "message": "spotlessApply\n\nSigned-off-by: Pavol Loffay <ploffay@redhat.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e8312fd4cc3a40090cf4f1d5006b409223105ee7", "author": {"user": {"login": "pavolloffay", "name": "Pavol Loffay"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/e8312fd4cc3a40090cf4f1d5006b409223105ee7", "committedDate": "2020-09-23T13:44:56Z", "message": "Review comments\n\nSigned-off-by: Pavol Loffay <ploffay@redhat.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk0Njg4Mzg3", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1242#pullrequestreview-494688387", "createdAt": "2020-09-23T13:56:30Z", "commit": {"oid": "e8312fd4cc3a40090cf4f1d5006b409223105ee7"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QxMzo1NjozMFrOHWvyFQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QxMzo1NjozMFrOHWvyFQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzYxMzU4OQ==", "bodyText": "Still one extra =  :)", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1242#discussion_r493613589", "createdAt": "2020-09-23T13:56:30Z", "author": {"login": "iNikem"}, "path": "README.md", "diffHunk": "@@ -56,7 +56,15 @@ Note: These parameter names are very likely to change over time, so please check\n back here when trying out a new version! Please report any bugs or unexpected\n behavior you may find.\n \n-#### Jaeger exporter\n+#### Exporters\n+\n+The following configuration properties are common to all exporters:\n+\n+| System property          | Environment variable     | Purpose                                                                                            |\n+|--------------------------|--------------------------|----------------------------------------------------------------------------------------------------|\n+| otel.exporter            | OTEL_EXPORTER=           | To select exporter e.g. `otlp,jaeger`. Defaults to `otlp`                                          |", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e8312fd4cc3a40090cf4f1d5006b409223105ee7"}, "originalPosition": 11}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk0Njg5MTE4", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1242#pullrequestreview-494689118", "createdAt": "2020-09-23T13:57:09Z", "commit": {"oid": "e8312fd4cc3a40090cf4f1d5006b409223105ee7"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "767d69e18b5b7785914ff71b506905797c2138c8", "author": {"user": {"login": "pavolloffay", "name": "Pavol Loffay"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/767d69e18b5b7785914ff71b506905797c2138c8", "committedDate": "2020-09-23T15:03:58Z", "message": "remove another =\n\nSigned-off-by: Pavol Loffay <ploffay@redhat.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk1MDg3MTQ5", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1242#pullrequestreview-495087149", "createdAt": "2020-09-23T22:17:14Z", "commit": {"oid": "767d69e18b5b7785914ff71b506905797c2138c8"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2628, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}