{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkwMjE4ODMx", "number": 1227, "title": "Add smoke test for Logback MDC instrumentation", "bodyText": "Resolves #1209\nNeeds to be merged after changes from #1228 are deployed", "createdAt": "2020-09-21T11:14:29Z", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1227", "merged": true, "mergeCommit": {"oid": "f76fb756be675ddaf6ab4f24f2cca8a8a4f9508c"}, "closed": true, "closedAt": "2020-09-22T07:37:37Z", "author": {"login": "mateuszrzeszutek"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdLB0xggBqjM3ODgyMDkxOTE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdLGvm7AFqTQ5MjgyNDg4NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "072f350da79b78d15d5f90747b0b65626832d7e5", "author": {"user": {"login": "mateuszrzeszutek", "name": "Mateusz Rzeszutek"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/072f350da79b78d15d5f90747b0b65626832d7e5", "committedDate": "2020-09-21T11:12:50Z", "message": "Add smoke test for Logback MDC instrumentation"}, "afterCommit": {"oid": "bbd5dce2d71c9c6ed14eb69226306e6cb4f50f77", "author": {"user": {"login": "mateuszrzeszutek", "name": "Mateusz Rzeszutek"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/bbd5dce2d71c9c6ed14eb69226306e6cb4f50f77", "committedDate": "2020-09-21T11:37:47Z", "message": "Add smoke test for Logback MDC instrumentation"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkyNTIwNjY2", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1227#pullrequestreview-492520666", "createdAt": "2020-09-21T11:53:21Z", "commit": {"oid": "bbd5dce2d71c9c6ed14eb69226306e6cb4f50f77"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkyNTY3NTI1", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1227#pullrequestreview-492567525", "createdAt": "2020-09-21T12:51:31Z", "commit": {"oid": "bbd5dce2d71c9c6ed14eb69226306e6cb4f50f77"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQxMjo1MTozMVrOHVOdRQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQxMjo1MTozMVrOHVOdRQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjAxOTAxMw==", "bodyText": "Tests fail because they don't build this application as part of the test. If you are sure that test work, you may submit two separate PRs: one for this app and another for the actual test", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1227#discussion_r492019013", "createdAt": "2020-09-21T12:51:31Z", "author": {"login": "iNikem"}, "path": "smoke-tests/springboot/src/main/java/io/opentelemetry/smoketest/springboot/controller/WebController.java", "diffHunk": "@@ -17,13 +17,18 @@\n package io.opentelemetry.smoketest.springboot.controller;\n \n import io.opentelemetry.extensions.auto.annotations.WithSpan;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n import org.springframework.web.bind.annotation.RequestMapping;\n import org.springframework.web.bind.annotation.RestController;\n \n @RestController\n public class WebController {\n+  private static final Logger LOGGER = LoggerFactory.getLogger(WebController.class);\n+\n   @RequestMapping(\"/greeting\")\n   public String greeting() {\n+    LOGGER.info(\"HTTP request received\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bbd5dce2d71c9c6ed14eb69226306e6cb4f50f77"}, "originalPosition": 15}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "bbd5dce2d71c9c6ed14eb69226306e6cb4f50f77", "author": {"user": {"login": "mateuszrzeszutek", "name": "Mateusz Rzeszutek"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/bbd5dce2d71c9c6ed14eb69226306e6cb4f50f77", "committedDate": "2020-09-21T11:37:47Z", "message": "Add smoke test for Logback MDC instrumentation"}, "afterCommit": {"oid": "267c9084246fd41449845cbe25804b8773ba9249", "author": {"user": {"login": "mateuszrzeszutek", "name": "Mateusz Rzeszutek"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/267c9084246fd41449845cbe25804b8773ba9249", "committedDate": "2020-09-21T13:13:41Z", "message": "Add smoke test for Logback MDC instrumentation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "02dc4c618bf4b00b35bbb696ccf9546d87c1de01", "author": {"user": {"login": "mateuszrzeszutek", "name": "Mateusz Rzeszutek"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/02dc4c618bf4b00b35bbb696ccf9546d87c1de01", "committedDate": "2020-09-21T15:03:48Z", "message": "Add smoke test for Logback MDC instrumentation"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "267c9084246fd41449845cbe25804b8773ba9249", "author": {"user": {"login": "mateuszrzeszutek", "name": "Mateusz Rzeszutek"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/267c9084246fd41449845cbe25804b8773ba9249", "committedDate": "2020-09-21T13:13:41Z", "message": "Add smoke test for Logback MDC instrumentation"}, "afterCommit": {"oid": "02dc4c618bf4b00b35bbb696ccf9546d87c1de01", "author": {"user": {"login": "mateuszrzeszutek", "name": "Mateusz Rzeszutek"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/02dc4c618bf4b00b35bbb696ccf9546d87c1de01", "committedDate": "2020-09-21T15:03:48Z", "message": "Add smoke test for Logback MDC instrumentation"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkyODI0ODg1", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1227#pullrequestreview-492824885", "createdAt": "2020-09-21T17:18:58Z", "commit": {"oid": "02dc4c618bf4b00b35bbb696ccf9546d87c1de01"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQxNzoxODo1OVrOHVa4pQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQxNzoxODo1OVrOHVa4pQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjIyMjYyOQ==", "bodyText": "oh groovy \ud83d\ude2d", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1227#discussion_r492222629", "createdAt": "2020-09-21T17:18:59Z", "author": {"login": "trask"}, "path": "smoke-tests/src/test/groovy/io/opentelemetry/smoketest/SmokeTest.groovy", "diffHunk": "@@ -172,4 +180,15 @@ abstract class SmokeTest extends Specification {\n \n     return content\n   }\n+\n+  protected static Set<String> getLoggedTraceIds(ToStringConsumer output) {\n+    output.toUtf8String().lines()\n+      .flatMap(SmokeTest.&findTraceId)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "02dc4c618bf4b00b35bbb696ccf9546d87c1de01"}, "originalPosition": 60}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2620, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}