{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYyODYwMzEw", "number": 55, "title": "Initial work towards using OpenTelemetry API directly from instrumentation", "bodyText": "Initial work towards #12", "createdAt": "2020-01-14T22:03:29Z", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/55", "merged": true, "mergeCommit": {"oid": "80d36902a06a59fbce79699f3e5f47a1f3b0dff5"}, "closed": true, "closedAt": "2020-01-16T01:53:42Z", "author": {"login": "trask"}, "timelineItems": {"totalCount": 20, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb6thKMgH2gAyMzYyODYwMzEwOjEwZGIxNjM1OWNiZjIxODc3OWQ4YTdlYTFlOWQ2NzI4MTlkOGQ4NDQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb6vzBKAFqTM0MzYyNTUwMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "10db16359cbf218779d8a7ea1e9d672819d8d844", "author": {"user": {"login": "trask", "name": "Trask Stalnaker"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/10db16359cbf218779d8a7ea1e9d672819d8d844", "committedDate": "2020-01-15T22:44:29Z", "message": "Deprecate Agent API"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4cc0b13793db2cef1e404cd273ffd40bec69425b", "author": {"user": {"login": "trask", "name": "Trask Stalnaker"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/4cc0b13793db2cef1e404cd273ffd40bec69425b", "committedDate": "2020-01-15T22:44:29Z", "message": "Rename setTag to setAttribute"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "61b196b4f1b6c7317023da534371bfbf997e6cbb", "author": {"user": {"login": "trask", "name": "Trask Stalnaker"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/61b196b4f1b6c7317023da534371bfbf997e6cbb", "committedDate": "2020-01-15T22:43:57Z", "message": "Merge branch 'master' into use-opentelemetry-api-directly"}, "afterCommit": {"oid": "7c98a5c02f36a700e68cc7205fc466e0b9778a22", "author": {"user": {"login": "trask", "name": "Trask Stalnaker"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/7c98a5c02f36a700e68cc7205fc466e0b9778a22", "committedDate": "2020-01-15T22:53:50Z", "message": "Update elasticsearch"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQzNTk5NTE0", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/55#pullrequestreview-343599514", "createdAt": "2020-01-15T23:55:32Z", "commit": {"oid": "fcc3e006e2083426d87ea2a76bceaef1a2325b4f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNVQyMzo1NTozM1rOFeKLng==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNVQyMzo1NTozM1rOFeKLng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzE2ODQxNA==", "bodyText": "Consider applying this in a single io.opentelemetry rule but applying exclusions: https://imperceptiblethoughts.com/shadow/configuration/relocation/#filtering-relocation", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/55#discussion_r367168414", "createdAt": "2020-01-15T23:55:33Z", "author": {"login": "tylerbenson"}, "path": "java-agent/instrumentation/instrumentation.gradle", "diffHunk": "@@ -89,5 +89,13 @@ shadowJar {\n     exclude(project(':trace-api'))\n     exclude(project(':java-agent:opentelemetry-sdk'))\n   }\n+\n+  // relocate OpenTelemetry API usage\n+  relocate \"io.opentelemetry.OpenTelemetry\", \"io.opentelemetry.auto.shaded.io.opentelemetry.OpenTelemetry\"\n+  relocate \"io.opentelemetry.context\", \"io.opentelemetry.auto.shaded.io.opentelemetry.context\"\n+  relocate \"io.opentelemetry.distributedcontext\", \"io.opentelemetry.auto.shaded.io.opentelemetry.distributedcontext\"\n+  relocate \"io.opentelemetry.internal\", \"io.opentelemetry.auto.shaded.io.opentelemetry.internal\"\n+  relocate \"io.opentelemetry.metrics\", \"io.opentelemetry.auto.shaded.io.opentelemetry.metrics\"\n+  relocate \"io.opentelemetry.trace\", \"io.opentelemetry.auto.shaded.io.opentelemetry.trace\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fcc3e006e2083426d87ea2a76bceaef1a2325b4f"}, "originalPosition": 11}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3e24fa893e775394ab442064a6010e75abacfa94", "author": {"user": {"login": "trask", "name": "Trask Stalnaker"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/3e24fa893e775394ab442064a6010e75abacfa94", "committedDate": "2020-01-16T00:47:07Z", "message": "Update base decorators"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a7899937928a6fde549f10046e3f8e3115129006", "author": {"user": {"login": "trask", "name": "Trask Stalnaker"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/a7899937928a6fde549f10046e3f8e3115129006", "committedDate": "2020-01-16T00:47:08Z", "message": "Temp: exclude base decorators from code coverage"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1c44629f3477d7a130f18cab1146747669dfcea8", "author": {"user": {"login": "trask", "name": "Trask Stalnaker"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/1c44629f3477d7a130f18cab1146747669dfcea8", "committedDate": "2020-01-16T00:47:08Z", "message": "Shade OpenTelemetry usage in instrumentation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aa5df5b84aab701afff857b15a4ae29ad88a0654", "author": {"user": {"login": "trask", "name": "Trask Stalnaker"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/aa5df5b84aab701afff857b15a4ae29ad88a0654", "committedDate": "2020-01-16T00:47:08Z", "message": "Add SpanScopePair"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "96de8f78a8dc4265b3a372dfc697668e8cf1a3e1", "author": {"user": {"login": "trask", "name": "Trask Stalnaker"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/96de8f78a8dc4265b3a372dfc697668e8cf1a3e1", "committedDate": "2020-01-16T00:47:08Z", "message": "Update google-http-client"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "840b98f174c0875f7f54947e314a9ec2f39e6511", "author": {"user": {"login": "trask", "name": "Trask Stalnaker"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/840b98f174c0875f7f54947e314a9ec2f39e6511", "committedDate": "2020-01-16T00:47:08Z", "message": "Update akka-http"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d31dac6bd01a9c8a6e0b996bfa8dc53cf5982f58", "author": {"user": {"login": "trask", "name": "Trask Stalnaker"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/d31dac6bd01a9c8a6e0b996bfa8dc53cf5982f58", "committedDate": "2020-01-16T00:47:08Z", "message": "Update apache-httpasyncclient"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7d277caf5d61f2b71eec4b8feb559fbc04fa227e", "author": {"user": {"login": "trask", "name": "Trask Stalnaker"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/7d277caf5d61f2b71eec4b8feb559fbc04fa227e", "committedDate": "2020-01-16T00:47:08Z", "message": "Update apache-httpclient"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d0450bab123607d2f466d9a9b7318f2baf1a2b7d", "author": {"user": {"login": "trask", "name": "Trask Stalnaker"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/d0450bab123607d2f466d9a9b7318f2baf1a2b7d", "committedDate": "2020-01-16T00:47:08Z", "message": "Update aws-java-sdk-1.11.0"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "95647639f9c501a7604cb2d8adb13d6e8466771e", "author": {"user": {"login": "trask", "name": "Trask Stalnaker"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/95647639f9c501a7604cb2d8adb13d6e8466771e", "committedDate": "2020-01-16T00:47:08Z", "message": "Update couchbase-2.0 and rxjava friends"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "026fedede25f59beb57525ebda276f652d193cd3", "author": {"user": {"login": "trask", "name": "Trask Stalnaker"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/026fedede25f59beb57525ebda276f652d193cd3", "committedDate": "2020-01-16T00:47:08Z", "message": "Update couchbase-2.6"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "893fbe8b7976baf019eccd0a2bb623d7c7df3410", "author": {"user": {"login": "trask", "name": "Trask Stalnaker"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/893fbe8b7976baf019eccd0a2bb623d7c7df3410", "committedDate": "2020-01-16T00:47:08Z", "message": "Update datastax-cassandra"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8a923b066fe87b5a58729e5bd797e00c39633eb7", "author": {"user": {"login": "trask", "name": "Trask Stalnaker"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/8a923b066fe87b5a58729e5bd797e00c39633eb7", "committedDate": "2020-01-16T00:47:08Z", "message": "Update dropwizard"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fa5f274a3c2586d2d60c475c1a43f02fc45548af", "author": {"user": {"login": "trask", "name": "Trask Stalnaker"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/fa5f274a3c2586d2d60c475c1a43f02fc45548af", "committedDate": "2020-01-16T00:47:08Z", "message": "Update elasticsearch"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7c98a5c02f36a700e68cc7205fc466e0b9778a22", "author": {"user": {"login": "trask", "name": "Trask Stalnaker"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/7c98a5c02f36a700e68cc7205fc466e0b9778a22", "committedDate": "2020-01-15T22:53:50Z", "message": "Update elasticsearch"}, "afterCommit": {"oid": "fa5f274a3c2586d2d60c475c1a43f02fc45548af", "author": {"user": {"login": "trask", "name": "Trask Stalnaker"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/fa5f274a3c2586d2d60c475c1a43f02fc45548af", "committedDate": "2020-01-16T00:47:08Z", "message": "Update elasticsearch"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQzNjI1NTAw", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/55#pullrequestreview-343625500", "createdAt": "2020-01-16T01:23:48Z", "commit": {"oid": "fa5f274a3c2586d2d60c475c1a43f02fc45548af"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3349, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}