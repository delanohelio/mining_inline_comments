{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMxNTUyMDI0", "number": 481, "title": "Merge changes from dd-trace-java 0.54.0", "bodyText": "https://github.com/DataDog/dd-trace-java/releases/tag/v0.54.0\nI didn't merge the new OpenTracing instrumentation for now, we can always merge that over later.", "createdAt": "2020-06-09T05:47:33Z", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/481", "merged": true, "mergeCommit": {"oid": "5ce2f391247cfb47de3018610dd83b3d9024e37b"}, "closed": true, "closedAt": "2020-06-11T18:20:26Z", "author": {"login": "trask"}, "timelineItems": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcpq-qXABqjM0MjY2ODIzNjA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcqRtlugBqjM0MzUyMTA0MjA=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "97b74ab8af2d89c33f4db8e6e9cf6483f0153635", "author": {"user": {"login": "richardstartin", "name": "Richard Startin"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/97b74ab8af2d89c33f4db8e6e9cf6483f0153635", "committedDate": "2020-06-09T05:45:06Z", "message": "Use ClassValue to store ThreadLocal call depth (DataDog/dd-trace-java#1528)"}, "afterCommit": {"oid": "642ec4b92bb7ee0991980b5e5f0ab8bd4c9b31a3", "author": {"user": {"login": "richardstartin", "name": "Richard Startin"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/642ec4b92bb7ee0991980b5e5f0ab8bd4c9b31a3", "committedDate": "2020-06-09T20:21:17Z", "message": "Use ClassValue to store ThreadLocal call depth (DataDog/dd-trace-java#1528)"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1dadae13d2884e7c2148d7f33494ae06b033ab08", "author": {"user": {"login": "trask", "name": "Trask Stalnaker"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/1dadae13d2884e7c2148d7f33494ae06b033ab08", "committedDate": "2020-06-10T22:05:17Z", "message": "Merge branch 'master' into dd-merge"}, "afterCommit": {"oid": "cd547a961318920d54ac2bc9a595336ea3ece0d6", "author": {"user": {"login": "richardstartin", "name": "Richard Startin"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/cd547a961318920d54ac2bc9a595336ea3ece0d6", "committedDate": "2020-06-10T22:12:24Z", "message": "Use ClassValue to store ThreadLocal call depth (DataDog/dd-trace-java#1528)"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI4NDY1ODYy", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/481#pullrequestreview-428465862", "createdAt": "2020-06-10T22:16:03Z", "commit": {"oid": "cd547a961318920d54ac2bc9a595336ea3ece0d6"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI3NDAwODQz", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/481#pullrequestreview-427400843", "createdAt": "2020-06-09T17:47:36Z", "commit": {"oid": "97b74ab8af2d89c33f4db8e6e9cf6483f0153635"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQxNzo0NzozN1rOGhVngg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQxNzo1Njo0N1rOGhV8Lg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzYxMDM3MA==", "bodyText": "Why are we doing this change? So much changed files to review without any actual gain.", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/481#discussion_r437610370", "createdAt": "2020-06-09T17:47:37Z", "author": {"login": "iNikem"}, "path": "agent-bootstrap/agent-bootstrap.gradle", "diffHunk": "@@ -3,7 +3,7 @@ plugins {\n   id \"com.github.johnrengelman.shadow\"\n }\n \n-apply from: \"${rootDir}/gradle/java.gradle\"\n+apply from: \"$rootDir/gradle/java.gradle\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "97b74ab8af2d89c33f4db8e6e9cf6483f0153635"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzYxNTY2Mg==", "bodyText": "Why is this needed? I think this deserves an explanation", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/481#discussion_r437615662", "createdAt": "2020-06-09T17:56:47Z", "author": {"login": "iNikem"}, "path": "instrumentation/rabbitmq-amqp-2.7/src/main/java/io/opentelemetry/auto/instrumentation/rabbitmq/amqp/TracedDelegatingConsumer.java", "diffHunk": "@@ -90,14 +92,24 @@ public void handleDelivery(\n         spanBuilder.setNoParent();\n       }\n \n+      final long startTimeMillis = System.currentTimeMillis();\n       span =\n           spanBuilder\n               .setAttribute(\"message.size\", body == null ? 0 : body.length)\n               .setAttribute(\"span.origin.type\", delegate.getClass().getName())\n+              .setStartTimestamp(TimeUnit.MILLISECONDS.toNanos(startTimeMillis))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "97b74ab8af2d89c33f4db8e6e9cf6483f0153635"}, "originalPosition": 25}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI4NjEzOTAw", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/481#pullrequestreview-428613900", "createdAt": "2020-06-11T06:02:47Z", "commit": {"oid": "cd547a961318920d54ac2bc9a595336ea3ece0d6"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f2bf50684ad9e2fa374e082c4acc1db973787593", "author": {"user": {"login": "tylerbenson", "name": "Tyler Benson"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/f2bf50684ad9e2fa374e082c4acc1db973787593", "committedDate": "2020-06-11T17:12:11Z", "message": "Use Retry.Mode.SETUP_FEATURE_CLEANUP to improve Elasticsearch test flakiness (DataDog/dd-trace-java#1494)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1b29184e7c3359a1902f31bac2dded52e4c3a801", "author": {"user": {"login": "tylerbenson", "name": "Tyler Benson"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/1b29184e7c3359a1902f31bac2dded52e4c3a801", "committedDate": "2020-06-11T17:14:02Z", "message": "Make rootDir usage consistent (DataDog/dd-trace-java#1518)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c61034c945c5b5104183806ef4915f50bc0f8715", "author": {"user": {"login": "richardstartin", "name": "Richard Startin"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/c61034c945c5b5104183806ef4915f50bc0f8715", "committedDate": "2020-06-11T17:14:07Z", "message": "Fix elasticsearch test flakiness (DataDog/dd-trace-java#1513)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "13264b3560dc1526708309c0b447aab4abc0df3d", "author": {"user": {"login": "richardstartin", "name": "Richard Startin"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/13264b3560dc1526708309c0b447aab4abc0df3d", "committedDate": "2020-06-11T17:14:07Z", "message": "Add record.queue_time_ms to rabbitmq consumer span tags (DataDog/dd-trace-java#1522)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f200b4cbed52311fa4314fb94eb5e53548a8ade5", "author": {"user": {"login": "devinsba", "name": "Brian Devins-Suresh"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/f200b4cbed52311fa4314fb94eb5e53548a8ade5", "committedDate": "2020-06-11T17:14:07Z", "message": "Ignore proxool proxy classes (DataDog/dd-trace-java#1524)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "badfbb8b1897a64b5430dedfbb9da88ca91ff160", "author": {"user": {"login": "richardstartin", "name": "Richard Startin"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/badfbb8b1897a64b5430dedfbb9da88ca91ff160", "committedDate": "2020-06-11T17:14:07Z", "message": "Change error bound so test should almost never fail (DataDog/dd-trace-java#1525)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "57c0aed1fa2e2f7dcf667d01034854892408123c", "author": {"user": {"login": "richardstartin", "name": "Richard Startin"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/57c0aed1fa2e2f7dcf667d01034854892408123c", "committedDate": "2020-06-11T17:14:07Z", "message": "Use ClassValue to store ThreadLocal call depth (DataDog/dd-trace-java#1528)"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "cd547a961318920d54ac2bc9a595336ea3ece0d6", "author": {"user": {"login": "richardstartin", "name": "Richard Startin"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/cd547a961318920d54ac2bc9a595336ea3ece0d6", "committedDate": "2020-06-10T22:12:24Z", "message": "Use ClassValue to store ThreadLocal call depth (DataDog/dd-trace-java#1528)"}, "afterCommit": {"oid": "57c0aed1fa2e2f7dcf667d01034854892408123c", "author": {"user": {"login": "richardstartin", "name": "Richard Startin"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/57c0aed1fa2e2f7dcf667d01034854892408123c", "committedDate": "2020-06-11T17:14:07Z", "message": "Use ClassValue to store ThreadLocal call depth (DataDog/dd-trace-java#1528)"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3218, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}