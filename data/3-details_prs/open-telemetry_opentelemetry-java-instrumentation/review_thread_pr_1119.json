{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc1MTA4Njk1", "number": 1119, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMFQwMzo0Njo0N1rOEeBw8w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMFQwMzo1MDo1OFrOEeBx_Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk5OTIxNjUxOnYy", "diffSide": "RIGHT", "path": "javaagent/javaagent.gradle", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMFQwMzo0Njo0N1rOHJfncw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQwMTo1Nzo1OFrOHJnzXA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTcxNzIzNQ==", "bodyText": "better to prefer classes that we've used to build/test instrumentation?\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              def projectsWithShadowJar = [project(':javaagent-exporters'), project(':instrumentation')]\n          \n          \n            \n              def projectsWithShadowJar = [project(':instrumentation'), project(':javaagent-exporters')]", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1119#discussion_r479717235", "createdAt": "2020-08-30T03:46:47Z", "author": {"login": "trask"}, "path": "javaagent/javaagent.gradle", "diffHunk": "@@ -42,8 +42,14 @@ CopySpec isolateSpec(Collection<Project> projectsWithShadowJar) {\n shadowJar {\n   dependsOn ':instrumentation:shadowJar'\n   dependsOn ':javaagent-exporters:shadowJar'\n-  def projectsWithShadowJar = [project(':instrumentation'), project(':javaagent-exporters')]\n+  def projectsWithShadowJar = [project(':javaagent-exporters'), project(':instrumentation')]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a1faf452868a836abf74bb1f03384e137439c767"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTg1MTM1Ng==", "bodyText": "Yeah that's what I mentioned in the description about reversing order. This order doesn't work, no clue why :( I filed #1135 to follow up since there does seem to be something amiss but would be nice to unblock my aws distro \ud83d\ude05", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1119#discussion_r479851356", "createdAt": "2020-08-31T01:57:58Z", "author": {"login": "anuraaga"}, "path": "javaagent/javaagent.gradle", "diffHunk": "@@ -42,8 +42,14 @@ CopySpec isolateSpec(Collection<Project> projectsWithShadowJar) {\n shadowJar {\n   dependsOn ':instrumentation:shadowJar'\n   dependsOn ':javaagent-exporters:shadowJar'\n-  def projectsWithShadowJar = [project(':instrumentation'), project(':javaagent-exporters')]\n+  def projectsWithShadowJar = [project(':javaagent-exporters'), project(':instrumentation')]", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTcxNzIzNQ=="}, "originalCommit": {"oid": "a1faf452868a836abf74bb1f03384e137439c767"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk5OTIxOTE3OnYy", "diffSide": "RIGHT", "path": "javaagent/javaagent.gradle", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMFQwMzo1MDo1OFrOHJfoog==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMFQwMzo1MDo1OFrOHJfoog==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTcxNzUzOA==", "bodyText": "the exporter classloader is only used for loading external exporter jar files\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              // Exclude dependencies pulled in from instrumentation that exist in javaagent-exporters.\n          \n          \n            \n              // Instrumentation is in the agent class loader, which is the parent for the exporter classloader\n          \n          \n            \n              // and will be used, removing duplicates can prevent issues when downstream projects repackage the\n          \n          \n            \n              // jar.\n          \n          \n            \n              // Exclude class files pulled in from the javaagent-exporters project that are also pulled in from the\n          \n          \n            \n              // instrumentation project.\n          \n          \n            \n              // Removing duplicates reduces jar size and can prevent issues when downstream projects repackage\n          \n          \n            \n              // the jar.", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1119#discussion_r479717538", "createdAt": "2020-08-30T03:50:58Z", "author": {"login": "trask"}, "path": "javaagent/javaagent.gradle", "diffHunk": "@@ -42,8 +42,14 @@ CopySpec isolateSpec(Collection<Project> projectsWithShadowJar) {\n shadowJar {\n   dependsOn ':instrumentation:shadowJar'\n   dependsOn ':javaagent-exporters:shadowJar'\n-  def projectsWithShadowJar = [project(':instrumentation'), project(':javaagent-exporters')]\n+  def projectsWithShadowJar = [project(':javaagent-exporters'), project(':instrumentation')]\n   with isolateSpec(projectsWithShadowJar)\n+\n+  // Exclude dependencies pulled in from instrumentation that exist in javaagent-exporters.\n+  // Instrumentation is in the agent class loader, which is the parent for the exporter classloader\n+  // and will be used, removing duplicates can prevent issues when downstream projects repackage the\n+  // jar.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a1faf452868a836abf74bb1f03384e137439c767"}, "originalPosition": 11}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4833, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}