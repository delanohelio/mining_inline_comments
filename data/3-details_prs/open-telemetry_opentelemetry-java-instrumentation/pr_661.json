{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ3NTMyMTk3", "number": 661, "title": "Add spring-autoconfigure project", "bodyText": "This change is dependent on #648\nHere I'm creating an auto-configure module for a spring-boot starter. This pull-request uses springboot to auto-configure instrumentation for Spring RestTemplate and spring-webmvc.", "createdAt": "2020-07-10T16:27:55Z", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/661", "merged": true, "mergeCommit": {"oid": "6d47692cd0a07badfaa410558263a53e7b6a3b79"}, "closed": true, "closedAt": "2020-07-18T05:36:59Z", "author": {"login": "mabdinur"}, "timelineItems": {"totalCount": 53, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABczmpyFgBqjM1MzQ2ODYyMTA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc13tabgFqTQ1MDg1NDMxNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ecf13e221b49d13f516c7eb9f31ccc6f741a6412", "author": {"user": {"login": "mabdinur", "name": "Munir Abdinur"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/ecf13e221b49d13f516c7eb9f31ccc6f741a6412", "committedDate": "2020-07-10T16:27:28Z", "message": "spotless apply and remove spring-webmvc project"}, "afterCommit": {"oid": "7c8db39b2ea3fc17a777554e364d818634c5312c", "author": {"user": {"login": "mabdinur", "name": "Munir Abdinur"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/7c8db39b2ea3fc17a777554e364d818634c5312c", "committedDate": "2020-07-10T16:57:59Z", "message": "spotless apply and remove spring-webmvc project"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "78586c94b89e51bea007cdcb0b7397cff90da8a8", "author": {"user": {"login": "mabdinur", "name": "Munir Abdinur"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/78586c94b89e51bea007cdcb0b7397cff90da8a8", "committedDate": "2020-07-10T16:58:55Z", "message": "Update settings.gradle"}, "afterCommit": {"oid": "becfcd446878fa47313d7653b20f658378c5f1d9", "author": {"user": {"login": "mabdinur", "name": "Munir Abdinur"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/becfcd446878fa47313d7653b20f658378c5f1d9", "committedDate": "2020-07-10T17:38:45Z", "message": "disable bootJar"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ3NDU5ODA5", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/661#pullrequestreview-447459809", "createdAt": "2020-07-13T17:35:29Z", "commit": {"oid": "361b3664a1e9ae1552cd2b4366f64b2fb63ee68c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QxNzozNToyOVrOGwyvbA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QxNzozNToyOVrOGwyvbA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzgxNjE3Mg==", "bodyText": "Remove", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/661#discussion_r453816172", "createdAt": "2020-07-13T17:35:29Z", "author": {"login": "mabdinur"}, "path": "instrumentation-core/spring/spring-boot-autoconfigure/src/main/java/io/opentelemetry/instrumentation/spring/autoconfigure/helpers/PropertiesBase.java", "diffHunk": "@@ -0,0 +1,29 @@\n+/*\n+ * Copyright The OpenTelemetry Authors\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package io.opentelemetry.instrumentation.spring.autoconfigure.helpers;\n+\n+public class PropertiesBase {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "361b3664a1e9ae1552cd2b4366f64b2fb63ee68c"}, "originalPosition": 19}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ3NDY0NTA3", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/661#pullrequestreview-447464507", "createdAt": "2020-07-13T17:42:08Z", "commit": {"oid": "361b3664a1e9ae1552cd2b4366f64b2fb63ee68c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QxNzo0MjowOFrOGwy-TQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QxNzo0MjowOFrOGwy-TQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzgxOTk4MQ==", "bodyText": "recommend not having this extra parent class just for 1 property atm.  reconsider if there are more OpenTelemetry specific common properties, in which case, also rename this to something like OpenTelemetryBaseProperties", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/661#discussion_r453819981", "createdAt": "2020-07-13T17:42:08Z", "author": {"login": "saturnism"}, "path": "instrumentation-core/spring/spring-boot-autoconfigure/src/main/java/io/opentelemetry/instrumentation/spring/autoconfigure/helpers/PropertiesBase.java", "diffHunk": "@@ -0,0 +1,29 @@\n+/*\n+ * Copyright The OpenTelemetry Authors\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package io.opentelemetry.instrumentation.spring.autoconfigure.helpers;\n+\n+public class PropertiesBase {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "361b3664a1e9ae1552cd2b4366f64b2fb63ee68c"}, "originalPosition": 19}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ3NDY0OTE0", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/661#pullrequestreview-447464914", "createdAt": "2020-07-13T17:42:43Z", "commit": {"oid": "361b3664a1e9ae1552cd2b4366f64b2fb63ee68c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QxNzo0Mjo0NFrOGwy_mw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QxNzo0Mjo0NFrOGwy_mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzgyMDMxNQ==", "bodyText": "consistency httpclient or httpclients", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/661#discussion_r453820315", "createdAt": "2020-07-13T17:42:44Z", "author": {"login": "saturnism"}, "path": "instrumentation-core/spring/spring-boot-autoconfigure/src/main/java/io/opentelemetry/instrumentation/spring/autoconfigure/httpclients/HttpClientProperties.java", "diffHunk": "@@ -0,0 +1,27 @@\n+/*\n+ * Copyright The OpenTelemetry Authors\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package io.opentelemetry.instrumentation.spring.autoconfigure.httpclients;\n+\n+import io.opentelemetry.instrumentation.spring.autoconfigure.helpers.PropertiesBase;\n+import org.springframework.boot.context.properties.ConfigurationProperties;\n+\n+/**\n+ * Loads opentelemetry.trace.httpclients.enabled from application.properties <br>\n+ * Sets default value to true if the configuration does not exist\n+ */\n+@ConfigurationProperties(prefix = \"opentelemetry.trace.httpclients\")\n+public final class HttpClientProperties extends PropertiesBase {}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "361b3664a1e9ae1552cd2b4366f64b2fb63ee68c"}, "originalPosition": 27}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ3NDY4NDc3", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/661#pullrequestreview-447468477", "createdAt": "2020-07-13T17:47:47Z", "commit": {"oid": "361b3664a1e9ae1552cd2b4366f64b2fb63ee68c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QxNzo0Nzo0N1rOGwzLog==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QxNzo0Nzo0N1rOGwzLog==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzgyMzM5NA==", "bodyText": "consider a more unique name for the method name (which translates to the name of the bean itself). Or, use additional annotation to rename the bean name.", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/661#discussion_r453823394", "createdAt": "2020-07-13T17:47:47Z", "author": {"login": "saturnism"}, "path": "instrumentation-core/spring/spring-boot-autoconfigure/src/main/java/io/opentelemetry/instrumentation/spring/autoconfigure/httpclients/resttemplate/RestTemplateAutoConfiguration.java", "diffHunk": "@@ -0,0 +1,42 @@\n+/*\n+ * Copyright The OpenTelemetry Authors\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package io.opentelemetry.instrumentation.spring.autoconfigure.httpclients.resttemplate;\n+\n+import io.opentelemetry.instrumentation.spring.autoconfigure.httpclients.HttpClientProperties;\n+import io.opentelemetry.trace.Tracer;\n+import org.springframework.beans.factory.annotation.Autowired;\n+import org.springframework.boot.autoconfigure.condition.ConditionalOnClass;\n+import org.springframework.boot.autoconfigure.condition.ConditionalOnProperty;\n+import org.springframework.boot.context.properties.EnableConfigurationProperties;\n+import org.springframework.context.annotation.Bean;\n+import org.springframework.context.annotation.Configuration;\n+import org.springframework.web.client.RestTemplate;\n+\n+/** Configures RestTemplateBeanPostProcessor bean */\n+@Configuration\n+@ConditionalOnClass(RestTemplate.class)\n+@EnableConfigurationProperties(HttpClientProperties.class)\n+@ConditionalOnProperty(prefix = \"opentelemetry.trace.httpclients\", name = \"enabled\")\n+public class RestTemplateAutoConfiguration {\n+\n+  @Autowired private Tracer tracer;\n+\n+  @Bean\n+  public RestTemplateBeanPostProcessor restTemplateBeanPostProcessor() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "361b3664a1e9ae1552cd2b4366f64b2fb63ee68c"}, "originalPosition": 39}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ3NDcwMTcx", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/661#pullrequestreview-447470171", "createdAt": "2020-07-13T17:50:11Z", "commit": {"oid": "361b3664a1e9ae1552cd2b4366f64b2fb63ee68c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QxNzo1MDoxMVrOGwzRPg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QxNzo1MDoxMVrOGwzRPg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzgyNDgzMA==", "bodyText": "avoid autowire.", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/661#discussion_r453824830", "createdAt": "2020-07-13T17:50:11Z", "author": {"login": "saturnism"}, "path": "instrumentation-core/spring/spring-boot-autoconfigure/src/main/java/io/opentelemetry/instrumentation/spring/autoconfigure/httpclients/webclient/WebClientAutoConfiguration.java", "diffHunk": "@@ -0,0 +1,27 @@\n+package io.opentelemetry.instrumentation.spring.autoconfigure.httpclients.webclient;\n+\n+import org.springframework.beans.factory.annotation.Autowired;\n+import org.springframework.boot.autoconfigure.condition.ConditionalOnClass;\n+import org.springframework.boot.autoconfigure.condition.ConditionalOnProperty;\n+import org.springframework.boot.context.properties.EnableConfigurationProperties;\n+import org.springframework.context.annotation.Bean;\n+import org.springframework.context.annotation.Configuration;\n+import org.springframework.web.reactive.function.client.WebClient;\n+import io.opentelemetry.instrumentation.spring.autoconfigure.httpclients.HttpClientProperties;\n+import io.opentelemetry.trace.Tracer;\n+\n+\n+/** Configures RestTemplateBeanPostProcessor bean */\n+@Configuration\n+@ConditionalOnClass(WebClient.class)\n+@EnableConfigurationProperties(HttpClientProperties.class)\n+@ConditionalOnProperty(prefix = \"opentelemetry.trace.httpclients\", name = \"enabled\")\n+public class WebClientAutoConfiguration {\n+\n+  @Autowired private Tracer tracer;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "361b3664a1e9ae1552cd2b4366f64b2fb63ee68c"}, "originalPosition": 21}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ3NDcyNzky", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/661#pullrequestreview-447472792", "createdAt": "2020-07-13T17:53:47Z", "commit": {"oid": "361b3664a1e9ae1552cd2b4366f64b2fb63ee68c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QxNzo1Mzo0N1rOGwzZaQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QxNzo1Mzo0N1rOGwzZaQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzgyNjkyMQ==", "bodyText": "check if RestTemplateInterceptor is already in the list, add if not - just in case a user added the interceptor somewhere else.", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/661#discussion_r453826921", "createdAt": "2020-07-13T17:53:47Z", "author": {"login": "saturnism"}, "path": "instrumentation-core/spring/spring-boot-autoconfigure/src/main/java/io/opentelemetry/instrumentation/spring/autoconfigure/httpclients/resttemplate/RestTemplateBeanPostProcessor.java", "diffHunk": "@@ -0,0 +1,49 @@\n+/*\n+ * Copyright The OpenTelemetry Authors\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package io.opentelemetry.instrumentation.spring.autoconfigure.httpclients.resttemplate;\n+\n+import io.opentelemetry.instrumentation.spring.httpclients.RestTemplateInterceptor;\n+import io.opentelemetry.trace.Tracer;\n+import org.springframework.beans.factory.config.BeanPostProcessor;\n+import org.springframework.web.client.RestTemplate;\n+\n+/**\n+ * BeanProcessor Implementation inspired by: <br>\n+ *\n+ * @see <a href=\n+ *     \"https://github.com/spring-cloud/spring-cloud-sleuth/blob/master/spring-cloud-sleuth-core/src/main/java/org/springframework/cloud/sleuth/instrument/web/client/TraceWebClientAutoConfiguration.java\">\n+ *     spring-cloud-sleuth-core </a>\n+ */\n+public final class RestTemplateBeanPostProcessor implements BeanPostProcessor {\n+\n+  private final Tracer tracer;\n+\n+  public RestTemplateBeanPostProcessor(Tracer tracer) {\n+    this.tracer = tracer;\n+  }\n+\n+  @Override\n+  public Object postProcessAfterInitialization(Object bean, String beanName) {\n+    if (bean instanceof RestTemplate) {\n+      RestTemplate restTemplate = (RestTemplate) bean;\n+      restTemplate.getInterceptors().add(new RestTemplateInterceptor(tracer));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "361b3664a1e9ae1552cd2b4366f64b2fb63ee68c"}, "originalPosition": 43}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ3NDc0MDU3", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/661#pullrequestreview-447474057", "createdAt": "2020-07-13T17:55:39Z", "commit": {"oid": "361b3664a1e9ae1552cd2b4366f64b2fb63ee68c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QxNzo1NTozOVrOGwzdZA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QxNzo1NTozOVrOGwzdZA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzgyNzk0MA==", "bodyText": "clean up java doc. use multiline even if it's just one line, so\n/**\n ....\n  */", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/661#discussion_r453827940", "createdAt": "2020-07-13T17:55:39Z", "author": {"login": "saturnism"}, "path": "instrumentation-core/spring/spring-boot-autoconfigure/src/main/java/io/opentelemetry/instrumentation/spring/autoconfigure/webmvc/WebMVCFilterAutoConfiguration.java", "diffHunk": "@@ -0,0 +1,39 @@\n+/*\n+ * Copyright The OpenTelemetry Authors\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package io.opentelemetry.instrumentation.spring.autoconfigure.webmvc;\n+\n+import io.opentelemetry.instrumentation.springwebmvc.WebMVCTracingFilter;\n+import io.opentelemetry.trace.Tracer;\n+import org.springframework.beans.factory.annotation.Autowired;\n+import org.springframework.boot.autoconfigure.condition.ConditionalOnProperty;\n+import org.springframework.boot.context.properties.EnableConfigurationProperties;\n+import org.springframework.context.annotation.Bean;\n+import org.springframework.context.annotation.Configuration;\n+\n+/** Configures WebMVCFilter bean <br> */", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "361b3664a1e9ae1552cd2b4366f64b2fb63ee68c"}, "originalPosition": 27}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ3NDc0NTI1", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/661#pullrequestreview-447474525", "createdAt": "2020-07-13T17:56:16Z", "commit": {"oid": "361b3664a1e9ae1552cd2b4366f64b2fb63ee68c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QxNzo1NjoxN1rOGwzfDA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QxNzo1NjoxN1rOGwzfDA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzgyODM2NA==", "bodyText": "Inspired by <a href=\"...\">Spring Cloud Sleuth</a>", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/661#discussion_r453828364", "createdAt": "2020-07-13T17:56:17Z", "author": {"login": "saturnism"}, "path": "instrumentation-core/spring/spring-boot-autoconfigure/src/main/java/io/opentelemetry/instrumentation/spring/autoconfigure/httpclients/webclient/WebClientBeanPostProcessor.java", "diffHunk": "@@ -0,0 +1,62 @@\n+package io.opentelemetry.instrumentation.spring.autoconfigure.httpclients.webclient;\n+\n+import java.util.List;\n+import java.util.function.Consumer;\n+import org.springframework.beans.factory.config.BeanPostProcessor;\n+import org.springframework.web.reactive.function.client.ExchangeFilterFunction;\n+import org.springframework.web.reactive.function.client.WebClient;\n+import io.opentelemetry.instrumentation.springwebflux.client.WebClientTracingFilter;\n+import io.opentelemetry.trace.Tracer;\n+\n+/**\n+ * Inspired by: <br>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "361b3664a1e9ae1552cd2b4366f64b2fb63ee68c"}, "originalPosition": 12}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ3NDc1Nzcw", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/661#pullrequestreview-447475770", "createdAt": "2020-07-13T17:57:57Z", "commit": {"oid": "361b3664a1e9ae1552cd2b4366f64b2fb63ee68c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QxNzo1Nzo1N1rOGwzjJw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QxNzo1Nzo1N1rOGwzjJw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzgyOTQxNQ==", "bodyText": "avoid <br> in javadoc. if need to use new paragraph, use <p>", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/661#discussion_r453829415", "createdAt": "2020-07-13T17:57:57Z", "author": {"login": "saturnism"}, "path": "instrumentation-core/spring/spring-boot-autoconfigure/src/main/java/io/opentelemetry/instrumentation/spring/autoconfigure/httpclients/resttemplate/RestTemplateBeanPostProcessor.java", "diffHunk": "@@ -0,0 +1,49 @@\n+/*\n+ * Copyright The OpenTelemetry Authors\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package io.opentelemetry.instrumentation.spring.autoconfigure.httpclients.resttemplate;\n+\n+import io.opentelemetry.instrumentation.spring.httpclients.RestTemplateInterceptor;\n+import io.opentelemetry.trace.Tracer;\n+import org.springframework.beans.factory.config.BeanPostProcessor;\n+import org.springframework.web.client.RestTemplate;\n+\n+/**\n+ * BeanProcessor Implementation inspired by: <br>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "361b3664a1e9ae1552cd2b4366f64b2fb63ee68c"}, "originalPosition": 25}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ3NDc3Njg5", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/661#pullrequestreview-447477689", "createdAt": "2020-07-13T18:00:31Z", "commit": {"oid": "361b3664a1e9ae1552cd2b4366f64b2fb63ee68c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QxODowMDozMlrOGwzo0Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QxODowMDozMlrOGwzo0Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzgzMDg2NQ==", "bodyText": "add the context annotation processor to produce autocompletion json. see video.", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/661#discussion_r453830865", "createdAt": "2020-07-13T18:00:32Z", "author": {"login": "saturnism"}, "path": "instrumentation-core/spring/spring-boot-autoconfigure/spring-boot-autoconfigure.gradle", "diffHunk": "@@ -0,0 +1,41 @@\n+plugins {\n+  id 'org.springframework.boot' version '2.3.0.RELEASE'\n+  id 'io.spring.dependency-management' version '1.0.9.RELEASE'\n+}\n+\n+ext {\n+  minJavaVersionForTests = JavaVersion.VERSION_1_8\n+}\n+\n+group = 'io.opentelemetry.instrumentation.spring'\n+\n+apply from: \"$rootDir/gradle/java.gradle\"\n+\n+sourceCompatibility = '8'\n+\n+bootJar {\n+  enabled = false\n+}\n+\n+dependencies {\n+  implementation 'org.springframework.boot:spring-boot-autoconfigure'\n+  implementation 'org.springframework.boot:spring-boot-starter-aop'\n+  \n+  testImplementation('org.springframework.boot:spring-boot-starter-test') {\n+    exclude group: 'org.junit.vintage', module: 'junit-vintage-engine'\n+  }\n+  ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "361b3664a1e9ae1552cd2b4366f64b2fb63ee68c"}, "originalPosition": 27}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "361b3664a1e9ae1552cd2b4366f64b2fb63ee68c", "author": {"user": {"login": "mabdinur", "name": "Munir Abdinur"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/361b3664a1e9ae1552cd2b4366f64b2fb63ee68c", "committedDate": "2020-07-13T17:12:16Z", "message": "remove webclient project from review"}, "afterCommit": {"oid": "e2bda6999edeb827ad1a1d7a7c887c324a4b0f3b", "author": {"user": {"login": "mabdinur", "name": "Munir Abdinur"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/e2bda6999edeb827ad1a1d7a7c887c324a4b0f3b", "committedDate": "2020-07-13T18:57:19Z", "message": "remove starter and update settings.gradle"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ3Nzc0ODUx", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/661#pullrequestreview-447774851", "createdAt": "2020-07-14T04:21:51Z", "commit": {"oid": "e86cbce9dbe5688bc49919c5f9505f218a7c3178"}, "state": "COMMENTED", "comments": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQwNDoyMTo1MVrOGxDf4g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQwNDozMjoyNFrOGxDqyA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDA5MDcyMg==", "bodyText": "Something is off-with the javadoc. You're starting an empty paragraph, perhaps instead of  closing the last one.", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/661#discussion_r454090722", "createdAt": "2020-07-14T04:21:51Z", "author": {"login": "udekel"}, "path": "instrumentation-core/spring/spring-boot-autoconfigure/src/main/java/io/opentelemetry/instrumentation/spring/autoconfigure/EnableOpenTelemetryTracing.java", "diffHunk": "@@ -0,0 +1,39 @@\n+/*\n+ * Copyright The OpenTelemetry Authors\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package io.opentelemetry.instrumentation.spring.autoconfigure;\n+\n+import java.lang.annotation.ElementType;\n+import java.lang.annotation.Retention;\n+import java.lang.annotation.RetentionPolicy;\n+import java.lang.annotation.Target;\n+import org.springframework.context.annotation.ComponentScan;\n+import org.springframework.context.annotation.Configuration;\n+\n+/**\n+ * Auto-configures OpenTelemetry instrumentation\n+ *\n+ * <p>Enables OpenTelemetry Tracing in spring applications by completing a component scan\n+ *\n+ * <p>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e86cbce9dbe5688bc49919c5f9505f218a7c3178"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDA5MTA5OQ==", "bodyText": "Here and elsewhere, use {@link className} when referring to a differnt class, and something like {@code} when referring to code that is not a link as in the second paragraph.", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/661#discussion_r454091099", "createdAt": "2020-07-14T04:23:18Z", "author": {"login": "udekel"}, "path": "instrumentation-core/spring/spring-boot-autoconfigure/src/main/java/io/opentelemetry/instrumentation/spring/autoconfigure/TracerAutoConfiguration.java", "diffHunk": "@@ -0,0 +1,55 @@\n+/*\n+ * Copyright The OpenTelemetry Authors\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package io.opentelemetry.instrumentation.spring.autoconfigure;\n+\n+import io.opentelemetry.OpenTelemetry;\n+import io.opentelemetry.exporters.logging.LoggingSpanExporter;\n+import io.opentelemetry.sdk.OpenTelemetrySdk;\n+import io.opentelemetry.sdk.trace.SpanProcessor;\n+import io.opentelemetry.sdk.trace.export.SimpleSpanProcessor;\n+import io.opentelemetry.trace.Tracer;\n+import org.springframework.beans.factory.annotation.Autowired;\n+import org.springframework.boot.context.properties.EnableConfigurationProperties;\n+import org.springframework.context.annotation.Bean;\n+import org.springframework.context.annotation.Configuration;\n+\n+/**\n+ * Create an io.opentelemetry.trace.Tracer bean", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e86cbce9dbe5688bc49919c5f9505f218a7c3178"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDA5MTUzNg==", "bodyText": "FYI that the recommended Google style is to always use curly braces in a condition, see:\nhttps://google.github.io/styleguide/javaguide.html#s4.1.1-braces-always-used", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/661#discussion_r454091536", "createdAt": "2020-07-14T04:25:06Z", "author": {"login": "udekel"}, "path": "instrumentation-core/spring/spring-boot-autoconfigure/src/main/java/io/opentelemetry/instrumentation/spring/autoconfigure/TracerAutoConfiguration.java", "diffHunk": "@@ -0,0 +1,55 @@\n+/*\n+ * Copyright The OpenTelemetry Authors\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package io.opentelemetry.instrumentation.spring.autoconfigure;\n+\n+import io.opentelemetry.OpenTelemetry;\n+import io.opentelemetry.exporters.logging.LoggingSpanExporter;\n+import io.opentelemetry.sdk.OpenTelemetrySdk;\n+import io.opentelemetry.sdk.trace.SpanProcessor;\n+import io.opentelemetry.sdk.trace.export.SimpleSpanProcessor;\n+import io.opentelemetry.trace.Tracer;\n+import org.springframework.beans.factory.annotation.Autowired;\n+import org.springframework.boot.context.properties.EnableConfigurationProperties;\n+import org.springframework.context.annotation.Bean;\n+import org.springframework.context.annotation.Configuration;\n+\n+/**\n+ * Create an io.opentelemetry.trace.Tracer bean\n+ *\n+ * <p>If TracerProperties.loggingExporterIsEnabled=True: Create a simple span processor using the\n+ * LoggingSpanExporter\n+ */\n+@Configuration\n+@EnableConfigurationProperties(TracerProperties.class)\n+public class TracerAutoConfiguration {\n+\n+  @Autowired TracerProperties tracerProperties;\n+\n+  @Bean\n+  public Tracer tracer() throws Exception {\n+    Tracer tracer = OpenTelemetry.getTracer(tracerProperties.getName());\n+    setLoggingExporter();\n+    return tracer;\n+  }\n+\n+  private void setLoggingExporter() {\n+    if (!tracerProperties.isLoggingExporterIsEnabled()) return;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e86cbce9dbe5688bc49919c5f9505f218a7c3178"}, "originalPosition": 50}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDA5MTc4MQ==", "bodyText": "[Suggestion] Matter of preferences, but why not either name the field tracerName, or use the parameter with the same name so it is simply\nthis.foo=foo?", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/661#discussion_r454091781", "createdAt": "2020-07-14T04:25:56Z", "author": {"login": "udekel"}, "path": "instrumentation-core/spring/spring-boot-autoconfigure/src/main/java/io/opentelemetry/instrumentation/spring/autoconfigure/TracerProperties.java", "diffHunk": "@@ -0,0 +1,48 @@\n+/*\n+ * Copyright The OpenTelemetry Authors\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package io.opentelemetry.instrumentation.spring.autoconfigure;\n+\n+import org.springframework.boot.context.properties.ConfigurationProperties;\n+\n+/**\n+ * Loads opentelemetry.trace.tracer.name and opentelemetry.trace.tracer.loggingExporterIsEnabled\n+ * from application.properties\n+ *\n+ * <p>Sets the default values if the configurations do not exist\n+ */\n+@ConfigurationProperties(prefix = \"opentelemetry.trace.tracer\")\n+public final class TracerProperties {\n+\n+  private String name = \"otel-spring-tracer\";\n+  private boolean loggingExporterIsEnabled = true;\n+\n+  public String getName() {\n+    return name;\n+  }\n+\n+  public void setName(String tracerName) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e86cbce9dbe5688bc49919c5f9505f218a7c3178"}, "originalPosition": 37}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDA5MTk5Ng==", "bodyText": "[Suggestion] Consider a public constant for DEFAULT_TRACER_NAME, and then refer to it when you say \"sets the default value\" as \"sets the default value to {@link #...}", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/661#discussion_r454091996", "createdAt": "2020-07-14T04:26:46Z", "author": {"login": "udekel"}, "path": "instrumentation-core/spring/spring-boot-autoconfigure/src/main/java/io/opentelemetry/instrumentation/spring/autoconfigure/TracerProperties.java", "diffHunk": "@@ -0,0 +1,48 @@\n+/*\n+ * Copyright The OpenTelemetry Authors\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package io.opentelemetry.instrumentation.spring.autoconfigure;\n+\n+import org.springframework.boot.context.properties.ConfigurationProperties;\n+\n+/**\n+ * Loads opentelemetry.trace.tracer.name and opentelemetry.trace.tracer.loggingExporterIsEnabled\n+ * from application.properties\n+ *\n+ * <p>Sets the default values if the configurations do not exist\n+ */\n+@ConfigurationProperties(prefix = \"opentelemetry.trace.tracer\")\n+public final class TracerProperties {\n+\n+  private String name = \"otel-spring-tracer\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e86cbce9dbe5688bc49919c5f9505f218a7c3178"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDA5MjI4MQ==", "bodyText": "[Suggestion] Consider returning on the !case immediately, since that's likely the common case.\nThen the rest is not nested.", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/661#discussion_r454092281", "createdAt": "2020-07-14T04:27:49Z", "author": {"login": "udekel"}, "path": "instrumentation-core/spring/spring-boot-autoconfigure/src/main/java/io/opentelemetry/instrumentation/spring/autoconfigure/httpclients/resttemplate/RestTemplateBeanPostProcessor.java", "diffHunk": "@@ -0,0 +1,69 @@\n+/*\n+ * Copyright The OpenTelemetry Authors\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package io.opentelemetry.instrumentation.spring.autoconfigure.httpclients.resttemplate;\n+\n+import io.opentelemetry.instrumentation.spring.httpclients.RestTemplateInterceptor;\n+import io.opentelemetry.trace.Tracer;\n+import java.util.List;\n+import org.springframework.beans.factory.config.BeanPostProcessor;\n+import org.springframework.http.client.ClientHttpRequestInterceptor;\n+import org.springframework.web.client.RestTemplate;\n+\n+/**\n+ * BeanProcessor Implementation inspired by:\n+ *\n+ * @see <a href=\n+ *     \"https://github.com/spring-cloud/spring-cloud-sleuth/blob/master/spring-cloud-sleuth-core/src/main/java/org/springframework/cloud/sleuth/instrument/web/client/TraceWebClientAutoConfiguration.java\">\n+ *     spring-cloud-sleuth-core </a>\n+ */\n+public final class RestTemplateBeanPostProcessor implements BeanPostProcessor {\n+\n+  private final Tracer tracer;\n+\n+  public RestTemplateBeanPostProcessor(Tracer tracer) {\n+    this.tracer = tracer;\n+  }\n+\n+  @Override\n+  public Object postProcessAfterInitialization(Object bean, String beanName) {\n+    if (bean instanceof RestTemplate) {\n+      RestTemplate restTemplate = (RestTemplate) bean;\n+      addRestTemplateInterceptorIfNotPresent(restTemplate);\n+\n+      return restTemplate;\n+    }\n+    return bean;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e86cbce9dbe5688bc49919c5f9505f218a7c3178"}, "originalPosition": 49}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDA5MjQ2MA==", "bodyText": "[Suggestion] Merge this to get rid of the temporary.", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/661#discussion_r454092460", "createdAt": "2020-07-14T04:28:30Z", "author": {"login": "udekel"}, "path": "instrumentation-core/spring/spring-boot-autoconfigure/src/main/java/io/opentelemetry/instrumentation/spring/autoconfigure/httpclients/resttemplate/RestTemplateBeanPostProcessor.java", "diffHunk": "@@ -0,0 +1,69 @@\n+/*\n+ * Copyright The OpenTelemetry Authors\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package io.opentelemetry.instrumentation.spring.autoconfigure.httpclients.resttemplate;\n+\n+import io.opentelemetry.instrumentation.spring.httpclients.RestTemplateInterceptor;\n+import io.opentelemetry.trace.Tracer;\n+import java.util.List;\n+import org.springframework.beans.factory.config.BeanPostProcessor;\n+import org.springframework.http.client.ClientHttpRequestInterceptor;\n+import org.springframework.web.client.RestTemplate;\n+\n+/**\n+ * BeanProcessor Implementation inspired by:\n+ *\n+ * @see <a href=\n+ *     \"https://github.com/spring-cloud/spring-cloud-sleuth/blob/master/spring-cloud-sleuth-core/src/main/java/org/springframework/cloud/sleuth/instrument/web/client/TraceWebClientAutoConfiguration.java\">\n+ *     spring-cloud-sleuth-core </a>\n+ */\n+public final class RestTemplateBeanPostProcessor implements BeanPostProcessor {\n+\n+  private final Tracer tracer;\n+\n+  public RestTemplateBeanPostProcessor(Tracer tracer) {\n+    this.tracer = tracer;\n+  }\n+\n+  @Override\n+  public Object postProcessAfterInitialization(Object bean, String beanName) {\n+    if (bean instanceof RestTemplate) {\n+      RestTemplate restTemplate = (RestTemplate) bean;\n+      addRestTemplateInterceptorIfNotPresent(restTemplate);\n+\n+      return restTemplate;\n+    }\n+    return bean;\n+  }\n+\n+  private void addRestTemplateInterceptorIfNotPresent(RestTemplate restTemplate) {\n+\n+    List<ClientHttpRequestInterceptor> restTemplateInterceptors = restTemplate.getInterceptors();\n+    boolean noneMatch = noneMatchRestTemplateInterceptor(restTemplateInterceptors);\n+    if (noneMatch) {\n+      restTemplateInterceptors.add(0, new RestTemplateInterceptor(tracer));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e86cbce9dbe5688bc49919c5f9505f218a7c3178"}, "originalPosition": 57}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDA5Mjc0NA==", "bodyText": "[Suggestion]\nAre you targettng Java 8+?\nIf so, you can simply do:\nreturn functions.stream().noneMatch(foo -> foo instanceof RestTemplateInterceptor)", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/661#discussion_r454092744", "createdAt": "2020-07-14T04:29:34Z", "author": {"login": "udekel"}, "path": "instrumentation-core/spring/spring-boot-autoconfigure/src/main/java/io/opentelemetry/instrumentation/spring/autoconfigure/httpclients/resttemplate/RestTemplateBeanPostProcessor.java", "diffHunk": "@@ -0,0 +1,69 @@\n+/*\n+ * Copyright The OpenTelemetry Authors\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package io.opentelemetry.instrumentation.spring.autoconfigure.httpclients.resttemplate;\n+\n+import io.opentelemetry.instrumentation.spring.httpclients.RestTemplateInterceptor;\n+import io.opentelemetry.trace.Tracer;\n+import java.util.List;\n+import org.springframework.beans.factory.config.BeanPostProcessor;\n+import org.springframework.http.client.ClientHttpRequestInterceptor;\n+import org.springframework.web.client.RestTemplate;\n+\n+/**\n+ * BeanProcessor Implementation inspired by:\n+ *\n+ * @see <a href=\n+ *     \"https://github.com/spring-cloud/spring-cloud-sleuth/blob/master/spring-cloud-sleuth-core/src/main/java/org/springframework/cloud/sleuth/instrument/web/client/TraceWebClientAutoConfiguration.java\">\n+ *     spring-cloud-sleuth-core </a>\n+ */\n+public final class RestTemplateBeanPostProcessor implements BeanPostProcessor {\n+\n+  private final Tracer tracer;\n+\n+  public RestTemplateBeanPostProcessor(Tracer tracer) {\n+    this.tracer = tracer;\n+  }\n+\n+  @Override\n+  public Object postProcessAfterInitialization(Object bean, String beanName) {\n+    if (bean instanceof RestTemplate) {\n+      RestTemplate restTemplate = (RestTemplate) bean;\n+      addRestTemplateInterceptorIfNotPresent(restTemplate);\n+\n+      return restTemplate;\n+    }\n+    return bean;\n+  }\n+\n+  private void addRestTemplateInterceptorIfNotPresent(RestTemplate restTemplate) {\n+\n+    List<ClientHttpRequestInterceptor> restTemplateInterceptors = restTemplate.getInterceptors();\n+    boolean noneMatch = noneMatchRestTemplateInterceptor(restTemplateInterceptors);\n+    if (noneMatch) {\n+      restTemplateInterceptors.add(0, new RestTemplateInterceptor(tracer));\n+    }\n+  }\n+\n+  private boolean noneMatchRestTemplateInterceptor(List<ClientHttpRequestInterceptor> functions) {\n+    for (ClientHttpRequestInterceptor function : functions) {\n+      if (function instanceof RestTemplateInterceptor) {\n+        return false;\n+      }\n+    }\n+    return true;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e86cbce9dbe5688bc49919c5f9505f218a7c3178"}, "originalPosition": 67}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDA5Mjk2Nw==", "bodyText": "You should still have a summary fragment describing what the class is.\nThe inspired-by part should be a paragraph.", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/661#discussion_r454092967", "createdAt": "2020-07-14T04:30:18Z", "author": {"login": "udekel"}, "path": "instrumentation-core/spring/spring-boot-autoconfigure/src/main/java/io/opentelemetry/instrumentation/spring/autoconfigure/httpclients/webclient/WebClientBeanPostProcessor.java", "diffHunk": "@@ -0,0 +1,78 @@\n+/*\n+ * Copyright The OpenTelemetry Authors\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package io.opentelemetry.instrumentation.spring.autoconfigure.httpclients.webclient;\n+\n+import io.opentelemetry.instrumentation.springwebflux.client.WebClientTracingFilter;\n+import io.opentelemetry.trace.Tracer;\n+import java.util.List;\n+import java.util.function.Consumer;\n+import org.springframework.beans.factory.config.BeanPostProcessor;\n+import org.springframework.web.reactive.function.client.ExchangeFilterFunction;\n+import org.springframework.web.reactive.function.client.WebClient;\n+\n+/**\n+ * Inspired by: <a\n+ * href=\"https://github.com/spring-cloud/spring-cloud-sleuth/blob/master/spring-cloud-sleuth-core/src/main/java/org/springframework/cloud/sleuth/instrument/web/client/TraceWebClientAutoConfiguration.java\">Spring\n+ * Cloud Sleuth</a>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e86cbce9dbe5688bc49919c5f9505f218a7c3178"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDA5MzA3Ng==", "bodyText": "[Question] Do you need to override this, since it's the default behaviour?", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/661#discussion_r454093076", "createdAt": "2020-07-14T04:30:41Z", "author": {"login": "udekel"}, "path": "instrumentation-core/spring/spring-boot-autoconfigure/src/main/java/io/opentelemetry/instrumentation/spring/autoconfigure/httpclients/webclient/WebClientBeanPostProcessor.java", "diffHunk": "@@ -0,0 +1,78 @@\n+/*\n+ * Copyright The OpenTelemetry Authors\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package io.opentelemetry.instrumentation.spring.autoconfigure.httpclients.webclient;\n+\n+import io.opentelemetry.instrumentation.springwebflux.client.WebClientTracingFilter;\n+import io.opentelemetry.trace.Tracer;\n+import java.util.List;\n+import java.util.function.Consumer;\n+import org.springframework.beans.factory.config.BeanPostProcessor;\n+import org.springframework.web.reactive.function.client.ExchangeFilterFunction;\n+import org.springframework.web.reactive.function.client.WebClient;\n+\n+/**\n+ * Inspired by: <a\n+ * href=\"https://github.com/spring-cloud/spring-cloud-sleuth/blob/master/spring-cloud-sleuth-core/src/main/java/org/springframework/cloud/sleuth/instrument/web/client/TraceWebClientAutoConfiguration.java\">Spring\n+ * Cloud Sleuth</a>\n+ */\n+final class WebClientBeanPostProcessor implements BeanPostProcessor {\n+\n+  private final Tracer tracer;\n+\n+  public WebClientBeanPostProcessor(Tracer tracer) {\n+    this.tracer = tracer;\n+  }\n+\n+  @Override", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e86cbce9dbe5688bc49919c5f9505f218a7c3178"}, "originalPosition": 40}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDA5MzQwMg==", "bodyText": "[Note] The name of this method is consumer, doesn't it return a functor that will do this addition, rather than actually add itself? If so, the name should probably reflect that instead of representing the imperative.", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/661#discussion_r454093402", "createdAt": "2020-07-14T04:31:59Z", "author": {"login": "udekel"}, "path": "instrumentation-core/spring/spring-boot-autoconfigure/src/main/java/io/opentelemetry/instrumentation/spring/autoconfigure/httpclients/webclient/WebClientBeanPostProcessor.java", "diffHunk": "@@ -0,0 +1,78 @@\n+/*\n+ * Copyright The OpenTelemetry Authors\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package io.opentelemetry.instrumentation.spring.autoconfigure.httpclients.webclient;\n+\n+import io.opentelemetry.instrumentation.springwebflux.client.WebClientTracingFilter;\n+import io.opentelemetry.trace.Tracer;\n+import java.util.List;\n+import java.util.function.Consumer;\n+import org.springframework.beans.factory.config.BeanPostProcessor;\n+import org.springframework.web.reactive.function.client.ExchangeFilterFunction;\n+import org.springframework.web.reactive.function.client.WebClient;\n+\n+/**\n+ * Inspired by: <a\n+ * href=\"https://github.com/spring-cloud/spring-cloud-sleuth/blob/master/spring-cloud-sleuth-core/src/main/java/org/springframework/cloud/sleuth/instrument/web/client/TraceWebClientAutoConfiguration.java\">Spring\n+ * Cloud Sleuth</a>\n+ */\n+final class WebClientBeanPostProcessor implements BeanPostProcessor {\n+\n+  private final Tracer tracer;\n+\n+  public WebClientBeanPostProcessor(Tracer tracer) {\n+    this.tracer = tracer;\n+  }\n+\n+  @Override\n+  public Object postProcessBeforeInitialization(Object bean, String beanName) {\n+    return bean;\n+  }\n+\n+  @Override\n+  public Object postProcessAfterInitialization(Object bean, String beanName) {\n+    if (bean instanceof WebClient) {\n+      WebClient webClient = (WebClient) bean;\n+      return wrapBuilder(webClient.mutate()).build();\n+    } else if (bean instanceof WebClient.Builder) {\n+      WebClient.Builder webClientBuilder = (WebClient.Builder) bean;\n+      return wrapBuilder(webClientBuilder);\n+    }\n+    return bean;\n+  }\n+\n+  private WebClient.Builder wrapBuilder(WebClient.Builder webClientBuilder) {\n+    return webClientBuilder.filters(addWebClientFilterFunctionIfNotPresent());\n+  }\n+\n+  private Consumer<List<ExchangeFilterFunction>> addWebClientFilterFunctionIfNotPresent() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e86cbce9dbe5688bc49919c5f9505f218a7c3178"}, "originalPosition": 61}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDA5MzUxMg==", "bodyText": "Fold using noneMatch if you can use Java 7. I think you can also make this static.", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/661#discussion_r454093512", "createdAt": "2020-07-14T04:32:24Z", "author": {"login": "udekel"}, "path": "instrumentation-core/spring/spring-boot-autoconfigure/src/main/java/io/opentelemetry/instrumentation/spring/autoconfigure/httpclients/webclient/WebClientBeanPostProcessor.java", "diffHunk": "@@ -0,0 +1,78 @@\n+/*\n+ * Copyright The OpenTelemetry Authors\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package io.opentelemetry.instrumentation.spring.autoconfigure.httpclients.webclient;\n+\n+import io.opentelemetry.instrumentation.springwebflux.client.WebClientTracingFilter;\n+import io.opentelemetry.trace.Tracer;\n+import java.util.List;\n+import java.util.function.Consumer;\n+import org.springframework.beans.factory.config.BeanPostProcessor;\n+import org.springframework.web.reactive.function.client.ExchangeFilterFunction;\n+import org.springframework.web.reactive.function.client.WebClient;\n+\n+/**\n+ * Inspired by: <a\n+ * href=\"https://github.com/spring-cloud/spring-cloud-sleuth/blob/master/spring-cloud-sleuth-core/src/main/java/org/springframework/cloud/sleuth/instrument/web/client/TraceWebClientAutoConfiguration.java\">Spring\n+ * Cloud Sleuth</a>\n+ */\n+final class WebClientBeanPostProcessor implements BeanPostProcessor {\n+\n+  private final Tracer tracer;\n+\n+  public WebClientBeanPostProcessor(Tracer tracer) {\n+    this.tracer = tracer;\n+  }\n+\n+  @Override\n+  public Object postProcessBeforeInitialization(Object bean, String beanName) {\n+    return bean;\n+  }\n+\n+  @Override\n+  public Object postProcessAfterInitialization(Object bean, String beanName) {\n+    if (bean instanceof WebClient) {\n+      WebClient webClient = (WebClient) bean;\n+      return wrapBuilder(webClient.mutate()).build();\n+    } else if (bean instanceof WebClient.Builder) {\n+      WebClient.Builder webClientBuilder = (WebClient.Builder) bean;\n+      return wrapBuilder(webClientBuilder);\n+    }\n+    return bean;\n+  }\n+\n+  private WebClient.Builder wrapBuilder(WebClient.Builder webClientBuilder) {\n+    return webClientBuilder.filters(addWebClientFilterFunctionIfNotPresent());\n+  }\n+\n+  private Consumer<List<ExchangeFilterFunction>> addWebClientFilterFunctionIfNotPresent() {\n+    return functions -> {\n+      boolean noneMatch = noneMatchWebClientTracingFilter(functions);\n+      if (noneMatch) {\n+        WebClientTracingFilter.addFilter(functions, tracer);\n+      }\n+    };\n+  }\n+\n+  private boolean noneMatchWebClientTracingFilter(List<ExchangeFilterFunction> functions) {\n+    for (ExchangeFilterFunction function : functions) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e86cbce9dbe5688bc49919c5f9505f218a7c3178"}, "originalPosition": 71}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ3ODYyNDQy", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/661#pullrequestreview-447862442", "createdAt": "2020-07-14T07:39:06Z", "commit": {"oid": "e86cbce9dbe5688bc49919c5f9505f218a7c3178"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQwNzozOTowNlrOGxH9wQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQwNzo0MTo1M1rOGxIDdA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDE2MzkwNQ==", "bodyText": "Do you think it's possible (or even a good idea) to recognize our standard system properties in the spring config instead of redefining? e.g.,\nota:\n  exporter: logging\n\nhttps://github.com/open-telemetry/opentelemetry-java-instrumentation#logging-exporter", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/661#discussion_r454163905", "createdAt": "2020-07-14T07:39:06Z", "author": {"login": "anuraaga"}, "path": "instrumentation-core/spring/spring-boot-autoconfigure/src/main/java/io/opentelemetry/instrumentation/spring/autoconfigure/TracerProperties.java", "diffHunk": "@@ -0,0 +1,48 @@\n+/*\n+ * Copyright The OpenTelemetry Authors\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package io.opentelemetry.instrumentation.spring.autoconfigure;\n+\n+import org.springframework.boot.context.properties.ConfigurationProperties;\n+\n+/**\n+ * Loads opentelemetry.trace.tracer.name and opentelemetry.trace.tracer.loggingExporterIsEnabled\n+ * from application.properties\n+ *\n+ * <p>Sets the default values if the configurations do not exist\n+ */\n+@ConfigurationProperties(prefix = \"opentelemetry.trace.tracer\")\n+public final class TracerProperties {\n+\n+  private String name = \"otel-spring-tracer\";\n+  private boolean loggingExporterIsEnabled = true;\n+\n+  public String getName() {\n+    return name;\n+  }\n+\n+  public void setName(String tracerName) {\n+    this.name = tracerName;\n+  }\n+\n+  public boolean isLoggingExporterIsEnabled() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e86cbce9dbe5688bc49919c5f9505f218a7c3178"}, "originalPosition": 41}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDE2NTM2NA==", "bodyText": "This should describe the semantics, not the implementation behavior (it's obvious based on line 26). It would be more helpful if this clearly described what it's configuring, I guess Configuration for the tracing instrumentation of HTTP clients.", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/661#discussion_r454165364", "createdAt": "2020-07-14T07:41:53Z", "author": {"login": "anuraaga"}, "path": "instrumentation-core/spring/spring-boot-autoconfigure/src/main/java/io/opentelemetry/instrumentation/spring/autoconfigure/httpclients/HttpClientsProperties.java", "diffHunk": "@@ -0,0 +1,37 @@\n+/*\n+ * Copyright The OpenTelemetry Authors\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package io.opentelemetry.instrumentation.spring.autoconfigure.httpclients;\n+\n+import org.springframework.boot.context.properties.ConfigurationProperties;\n+\n+/**\n+ * Loads opentelemetry.trace.httpclients.enabled from application.properties", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e86cbce9dbe5688bc49919c5f9505f218a7c3178"}, "originalPosition": 22}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ4Mjc5NTY1", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/661#pullrequestreview-448279565", "createdAt": "2020-07-14T16:40:41Z", "commit": {"oid": "37c6205bbf412fe0e15f21f3531e6caf106ad420"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNjo0MDo0MVrOGxcBHA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNjo0MDo0MVrOGxcBHA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDQ5MjQ0NA==", "bodyText": "can the tracer and deocrator be passed in via constructor?", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/661#discussion_r454492444", "createdAt": "2020-07-14T16:40:41Z", "author": {"login": "saturnism"}, "path": "instrumentation-core/spring/spring-webflux-5.0/src/main/java/io/opentelemetry/instrumentation/springwebflux/client/SpringWebfluxHttpClientDecorator.java", "diffHunk": "@@ -0,0 +1,65 @@\n+/*\n+ * Copyright The OpenTelemetry Authors\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package io.opentelemetry.instrumentation.springwebflux.client;\n+\n+import io.opentelemetry.OpenTelemetry;\n+import io.opentelemetry.auto.bootstrap.instrumentation.decorator.HttpClientDecorator;\n+import io.opentelemetry.trace.Span;\n+import io.opentelemetry.trace.Tracer;\n+import java.net.URI;\n+import java.util.List;\n+import org.springframework.web.reactive.function.client.ClientRequest;\n+import org.springframework.web.reactive.function.client.ClientResponse;\n+\n+class SpringWebfluxHttpClientDecorator extends HttpClientDecorator<ClientRequest, ClientResponse> {\n+\n+  public static final Tracer TRACER =", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "37c6205bbf412fe0e15f21f3531e6caf106ad420"}, "originalPosition": 30}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "bdfad384f6945f1624c52221bf2ae3bfd0e8997f", "author": {"user": {"login": "mabdinur", "name": "Munir Abdinur"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/bdfad384f6945f1624c52221bf2ae3bfd0e8997f", "committedDate": "2020-07-15T15:43:38Z", "message": "requested changes 1"}, "afterCommit": {"oid": "01cc02ce79a58b9041649fcc63f8d270ba9524d3", "author": {"user": {"login": "mabdinur", "name": "Munir Abdinur"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/01cc02ce79a58b9041649fcc63f8d270ba9524d3", "committedDate": "2020-07-15T15:48:20Z", "message": "requested changes 1"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "adaaa8262ea42f55dbc11cf6cf64d4f59b7d3608", "author": {"user": {"login": "mabdinur", "name": "Munir Abdinur"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/adaaa8262ea42f55dbc11cf6cf64d4f59b7d3608", "committedDate": "2020-07-16T15:05:29Z", "message": "add autoconfigure project"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bec84be709a20e441f836957db94fae84e917b83", "author": {"user": {"login": "mabdinur", "name": "Munir Abdinur"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/bec84be709a20e441f836957db94fae84e917b83", "committedDate": "2020-07-16T15:05:29Z", "message": "spotless apply and remove spring-webmvc project"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e0d3ee93a7152f4108b97b20de32b712bc8ca456", "author": {"user": {"login": "mabdinur", "name": "Munir Abdinur"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/e0d3ee93a7152f4108b97b20de32b712bc8ca456", "committedDate": "2020-07-16T15:05:29Z", "message": "disable bootJar"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "07d3a458ace7eaa747c396d0a3e33f0a86fba6da", "author": {"user": {"login": "mabdinur", "name": "Munir Abdinur"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/07d3a458ace7eaa747c396d0a3e33f0a86fba6da", "committedDate": "2020-07-16T15:05:30Z", "message": "add starter and webclient"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aee3831655ceea2c8902d7bace561e50459ac3da", "author": {"user": {"login": "mabdinur", "name": "Munir Abdinur"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/aee3831655ceea2c8902d7bace561e50459ac3da", "committedDate": "2020-07-16T15:10:39Z", "message": "remove starter and update settings.gradle"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4f2806e95f79e6ec72db8c81215fe75fa016677d", "author": {"user": {"login": "mabdinur", "name": "Munir Abdinur"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/4f2806e95f79e6ec72db8c81215fe75fa016677d", "committedDate": "2020-07-16T15:14:25Z", "message": "add back springwebflux"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cf81b07984da2c71162103ac0644f0d6e8e2a3bb", "author": {"user": {"login": "mabdinur", "name": "Munir Abdinur"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/cf81b07984da2c71162103ac0644f0d6e8e2a3bb", "committedDate": "2020-07-16T15:14:33Z", "message": "clean up"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5df7e3189c8c7f8f9ad8e96b51a4266652791b20", "author": {"user": {"login": "mabdinur", "name": "Munir Abdinur"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/5df7e3189c8c7f8f9ad8e96b51a4266652791b20", "committedDate": "2020-07-16T15:14:33Z", "message": "format"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6256b27c8a23769b2fbcd9d960125eb9caf121f7", "author": {"user": {"login": "mabdinur", "name": "Munir Abdinur"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/6256b27c8a23769b2fbcd9d960125eb9caf121f7", "committedDate": "2020-07-16T15:14:33Z", "message": "add annotation processor"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "872633b601cb46be98c18b822c3325f6abcb0b6b", "author": {"user": {"login": "mabdinur", "name": "Munir Abdinur"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/872633b601cb46be98c18b822c3325f6abcb0b6b", "committedDate": "2020-07-16T15:14:33Z", "message": "fix p tags"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9cddaaf674c198d157ae309c577a910edad86b31", "author": {"user": {"login": "mabdinur", "name": "Munir Abdinur"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/9cddaaf674c198d157ae309c577a910edad86b31", "committedDate": "2020-07-16T15:14:33Z", "message": "Update TracerAutoConfiguration.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bbec5c964d6703e54e51699a84e945f64f46ef05", "author": {"user": {"login": "mabdinur", "name": "Munir Abdinur"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/bbec5c964d6703e54e51699a84e945f64f46ef05", "committedDate": "2020-07-16T15:14:34Z", "message": "Update spring-boot-autoconfigure.gradle"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ba0e065626708e81cade3da6cfe5c041c4430ed3", "author": {"user": {"login": "mabdinur", "name": "Munir Abdinur"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/ba0e065626708e81cade3da6cfe5c041c4430ed3", "committedDate": "2020-07-16T15:14:34Z", "message": "requested changes 1"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "53ef5c96c2a366d46ed630f471a013fd692711f3", "author": {"user": {"login": "mabdinur", "name": "Munir Abdinur"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/53ef5c96c2a366d46ed630f471a013fd692711f3", "committedDate": "2020-07-16T15:14:34Z", "message": "fix typo"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6471fc067fb6ea103e38594543fdfec3dc4adda1", "author": {"user": {"login": "mabdinur", "name": "Munir Abdinur"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/6471fc067fb6ea103e38594543fdfec3dc4adda1", "committedDate": "2020-07-15T17:02:22Z", "message": "fix typo"}, "afterCommit": {"oid": "53ef5c96c2a366d46ed630f471a013fd692711f3", "author": {"user": {"login": "mabdinur", "name": "Munir Abdinur"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/53ef5c96c2a366d46ed630f471a013fd692711f3", "committedDate": "2020-07-16T15:14:34Z", "message": "fix typo"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "31e44d684c27c96044aed524b16541f23b1edec1", "author": {"user": {"login": "mabdinur", "name": "Munir Abdinur"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/31e44d684c27c96044aed524b16541f23b1edec1", "committedDate": "2020-07-16T15:17:56Z", "message": "reset webflux changes to master"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bf107e6f560926d29fcc9b9b6fd58674bf893470", "author": {"user": {"login": "mabdinur", "name": "Munir Abdinur"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/bf107e6f560926d29fcc9b9b6fd58674bf893470", "committedDate": "2020-07-16T15:18:40Z", "message": "ws"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "113052509617846435e6625fafc465fa050ec3f7", "author": {"user": {"login": "mabdinur", "name": "Munir Abdinur"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/113052509617846435e6625fafc465fa050ec3f7", "committedDate": "2020-07-16T15:24:17Z", "message": "add matchIfMissing"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e43188b8a84e963a375b4222ec05eb8d1d3fa9f7", "author": {"user": {"login": "mabdinur", "name": "Munir Abdinur"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/e43188b8a84e963a375b4222ec05eb8d1d3fa9f7", "committedDate": "2020-07-17T00:04:34Z", "message": "format"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUwMzQ5MDUz", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/661#pullrequestreview-450349053", "createdAt": "2020-07-17T03:24:51Z", "commit": {"oid": "e43188b8a84e963a375b4222ec05eb8d1d3fa9f7"}, "state": "COMMENTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QwMzoyNDo1MVrOGzED6w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QwMzo1NDowM1rOGzEehQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjE5NzA5OQ==", "bodyText": "What do you think about making this compileOnly, and adding @ConditionalClass(<the exporter class>) to the configuration class. Then it would only get configured if users add the logging exporter to their classpath. And then we could do similar approach for OTLP, Jaeger and Zipkin exporters.\nThis is how Spring Boot Actuator auto configures micrometer registries that user has on their classpath, e.g. checkout https://github.com/spring-projects/spring-boot/blob/master/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/metrics/export/newrelic/NewRelicMetricsExportAutoConfiguration.java#L54\nThis doesn't need to be done in this PR certainly, just an idea for future stuff.", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/661#discussion_r456197099", "createdAt": "2020-07-17T03:24:51Z", "author": {"login": "trask"}, "path": "instrumentation-core/spring/spring-boot-autoconfigure/spring-boot-autoconfigure.gradle", "diffHunk": "@@ -0,0 +1,41 @@\n+plugins {\n+  id 'org.springframework.boot' version '2.3.0.RELEASE'\n+  id 'io.spring.dependency-management' version '1.0.9.RELEASE'\n+}\n+\n+ext {\n+  minJavaVersionForTests = JavaVersion.VERSION_1_8\n+}\n+\n+group = 'io.opentelemetry.instrumentation'\n+\n+apply from: \"$rootDir/gradle/java.gradle\"\n+\n+sourceCompatibility = '8'\n+\n+bootJar {\n+  enabled = false\n+}\n+\n+dependencies {\n+  implementation 'org.springframework.boot:spring-boot-autoconfigure'\n+  implementation \"org.springframework.boot:spring-boot-autoconfigure-processor\"\n+  \n+  testImplementation('org.springframework.boot:spring-boot-starter-test') {\n+    exclude group: 'org.junit.vintage', module: 'junit-vintage-engine'\n+  }\n+  \n+  implementation 'org.springframework.boot:spring-boot-starter-web'\n+  implementation project(':instrumentation-core:spring:spring-webmvc-3.1')\n+  implementation project(':instrumentation-core:spring:spring-web-3.1')\n+  \n+  implementation 'org.springframework.boot:spring-boot-starter-webflux'\n+  implementation project(':instrumentation-core:spring:spring-webflux-5.0')\n+  \n+  api deps.opentelemetryApi \n+  api \"io.opentelemetry:opentelemetry-exporters-logging:0.5.0\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e43188b8a84e963a375b4222ec05eb8d1d3fa9f7"}, "originalPosition": 36}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjIwMjQ0Mg==", "bodyText": "and two other places \"Open Telemetry\" --> \"OpenTelemetry\"\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n             * Auto-configures OpenTelemetry. Enables Open Telementry Tracing in Spring applications by\n          \n          \n            \n             * Auto-configures OpenTelemetry. Enables OpenTelementry Tracing in Spring applications by", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/661#discussion_r456202442", "createdAt": "2020-07-17T03:47:14Z", "author": {"login": "trask"}, "path": "instrumentation-core/spring/spring-boot-autoconfigure/src/main/java/io/opentelemetry/instrumentation/spring/autoconfigure/EnableOpenTelemetryTracing.java", "diffHunk": "@@ -0,0 +1,34 @@\n+/*\n+ * Copyright The OpenTelemetry Authors\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package io.opentelemetry.instrumentation.spring.autoconfigure;\n+\n+import java.lang.annotation.ElementType;\n+import java.lang.annotation.Retention;\n+import java.lang.annotation.RetentionPolicy;\n+import java.lang.annotation.Target;\n+import org.springframework.context.annotation.ComponentScan;\n+import org.springframework.context.annotation.Configuration;\n+\n+/**\n+ * Auto-configures OpenTelemetry. Enables Open Telementry Tracing in Spring applications by", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e43188b8a84e963a375b4222ec05eb8d1d3fa9f7"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjIwMjg5NQ==", "bodyText": "I think change property from tracerName to name.\nThis seems more natural to me:\nopentelemetry.trace.tracer.name\ncompared to:\nopentelemetry.trace.tracer.tracerName", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/661#discussion_r456202895", "createdAt": "2020-07-17T03:49:28Z", "author": {"login": "trask"}, "path": "instrumentation-core/spring/spring-boot-autoconfigure/src/main/java/io/opentelemetry/instrumentation/spring/autoconfigure/TracerProperties.java", "diffHunk": "@@ -0,0 +1,47 @@\n+/*\n+ * Copyright The OpenTelemetry Authors\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package io.opentelemetry.instrumentation.spring.autoconfigure;\n+\n+import org.springframework.boot.context.properties.ConfigurationProperties;\n+\n+/**\n+ * Configuration for OpenTelemetry Tracer\n+ *\n+ * <p>Configures LoggingExporter and sets default tracer name\n+ */\n+@ConfigurationProperties(prefix = \"opentelemetry.trace.tracer\")\n+public final class TracerProperties {\n+\n+  private String tracerName = \"otel-spring-tracer\";\n+  private boolean loggingExporterEnabled = true;\n+\n+  public String getTracerName() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e43188b8a84e963a375b4222ec05eb8d1d3fa9f7"}, "originalPosition": 32}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjIwMzkwOQ==", "bodyText": "this would allow users to bring their own Tracer\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              public Tracer tracer() throws Exception {\n          \n          \n            \n              @ConditionalOnMissingBean\n          \n          \n            \n              public Tracer tracer() throws Exception {", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/661#discussion_r456203909", "createdAt": "2020-07-17T03:54:03Z", "author": {"login": "trask"}, "path": "instrumentation-core/spring/spring-boot-autoconfigure/src/main/java/io/opentelemetry/instrumentation/spring/autoconfigure/TracerAutoConfiguration.java", "diffHunk": "@@ -0,0 +1,57 @@\n+/*\n+ * Copyright The OpenTelemetry Authors\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package io.opentelemetry.instrumentation.spring.autoconfigure;\n+\n+import io.opentelemetry.OpenTelemetry;\n+import io.opentelemetry.exporters.logging.LoggingSpanExporter;\n+import io.opentelemetry.sdk.OpenTelemetrySdk;\n+import io.opentelemetry.sdk.trace.SpanProcessor;\n+import io.opentelemetry.sdk.trace.export.SimpleSpanProcessor;\n+import io.opentelemetry.trace.Tracer;\n+import org.springframework.beans.factory.annotation.Autowired;\n+import org.springframework.boot.context.properties.EnableConfigurationProperties;\n+import org.springframework.context.annotation.Bean;\n+import org.springframework.context.annotation.Configuration;\n+\n+/**\n+ * Create an {@link io.opentelemetry.trace.Tracer} bean\n+ *\n+ * <p>If {@code TracerProperties.loggingExporterIsEnabled=True}: Create a simple span processor\n+ * using the LoggingSpanExporter\n+ */\n+@Configuration\n+@EnableConfigurationProperties(TracerProperties.class)\n+public class TracerAutoConfiguration {\n+\n+  @Autowired TracerProperties tracerProperties;\n+\n+  @Bean\n+  public Tracer tracer() throws Exception {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e43188b8a84e963a375b4222ec05eb8d1d3fa9f7"}, "originalPosition": 43}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUwMzA0NTY4", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/661#pullrequestreview-450304568", "createdAt": "2020-07-17T00:42:22Z", "commit": {"oid": "e43188b8a84e963a375b4222ec05eb8d1d3fa9f7"}, "state": "COMMENTED", "comments": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QwMDo0MjoyMlrOGzBgVQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QwNDowNzoxM1rOGzEqOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjE1NTIyMQ==", "bodyText": "Processor should be annotationProcessor not implementation", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/661#discussion_r456155221", "createdAt": "2020-07-17T00:42:22Z", "author": {"login": "anuraaga"}, "path": "instrumentation-core/spring/spring-boot-autoconfigure/spring-boot-autoconfigure.gradle", "diffHunk": "@@ -0,0 +1,41 @@\n+plugins {\n+  id 'org.springframework.boot' version '2.3.0.RELEASE'\n+  id 'io.spring.dependency-management' version '1.0.9.RELEASE'\n+}\n+\n+ext {\n+  minJavaVersionForTests = JavaVersion.VERSION_1_8\n+}\n+\n+group = 'io.opentelemetry.instrumentation'\n+\n+apply from: \"$rootDir/gradle/java.gradle\"\n+\n+sourceCompatibility = '8'\n+\n+bootJar {\n+  enabled = false\n+}\n+\n+dependencies {\n+  implementation 'org.springframework.boot:spring-boot-autoconfigure'\n+  implementation \"org.springframework.boot:spring-boot-autoconfigure-processor\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e43188b8a84e963a375b4222ec05eb8d1d3fa9f7"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjIwNTkyNg==", "bodyText": "Also I would remove by completing a component scan it's obvious from the annotatinos", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/661#discussion_r456205926", "createdAt": "2020-07-17T04:02:48Z", "author": {"login": "anuraaga"}, "path": "instrumentation-core/spring/spring-boot-autoconfigure/src/main/java/io/opentelemetry/instrumentation/spring/autoconfigure/EnableOpenTelemetryTracing.java", "diffHunk": "@@ -0,0 +1,34 @@\n+/*\n+ * Copyright The OpenTelemetry Authors\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package io.opentelemetry.instrumentation.spring.autoconfigure;\n+\n+import java.lang.annotation.ElementType;\n+import java.lang.annotation.Retention;\n+import java.lang.annotation.RetentionPolicy;\n+import java.lang.annotation.Target;\n+import org.springframework.context.annotation.ComponentScan;\n+import org.springframework.context.annotation.Configuration;\n+\n+/**\n+ * Auto-configures OpenTelemetry. Enables Open Telementry Tracing in Spring applications by", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjIwMjQ0Mg=="}, "originalCommit": {"oid": "e43188b8a84e963a375b4222ec05eb8d1d3fa9f7"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjIwNjAwNQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n             * Create an {@link io.opentelemetry.trace.Tracer} bean\n          \n          \n            \n             * Create an {@link io.opentelemetry.trace.Tracer}.", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/661#discussion_r456206005", "createdAt": "2020-07-17T04:03:04Z", "author": {"login": "anuraaga"}, "path": "instrumentation-core/spring/spring-boot-autoconfigure/src/main/java/io/opentelemetry/instrumentation/spring/autoconfigure/TracerAutoConfiguration.java", "diffHunk": "@@ -0,0 +1,57 @@\n+/*\n+ * Copyright The OpenTelemetry Authors\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package io.opentelemetry.instrumentation.spring.autoconfigure;\n+\n+import io.opentelemetry.OpenTelemetry;\n+import io.opentelemetry.exporters.logging.LoggingSpanExporter;\n+import io.opentelemetry.sdk.OpenTelemetrySdk;\n+import io.opentelemetry.sdk.trace.SpanProcessor;\n+import io.opentelemetry.sdk.trace.export.SimpleSpanProcessor;\n+import io.opentelemetry.trace.Tracer;\n+import org.springframework.beans.factory.annotation.Autowired;\n+import org.springframework.boot.context.properties.EnableConfigurationProperties;\n+import org.springframework.context.annotation.Bean;\n+import org.springframework.context.annotation.Configuration;\n+\n+/**\n+ * Create an {@link io.opentelemetry.trace.Tracer} bean", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e43188b8a84e963a375b4222ec05eb8d1d3fa9f7"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjIwNjIyOQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            /** Configures RestTemplateBeanPostProcessor bean */\n          \n          \n            \n            /** Configures {@link RestTemplate} for tracing. */", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/661#discussion_r456206229", "createdAt": "2020-07-17T04:04:03Z", "author": {"login": "anuraaga"}, "path": "instrumentation-core/spring/spring-boot-autoconfigure/src/main/java/io/opentelemetry/instrumentation/spring/autoconfigure/httpclients/resttemplate/RestTemplateAutoConfiguration.java", "diffHunk": "@@ -0,0 +1,44 @@\n+/*\n+ * Copyright The OpenTelemetry Authors\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package io.opentelemetry.instrumentation.spring.autoconfigure.httpclients.resttemplate;\n+\n+import io.opentelemetry.instrumentation.spring.autoconfigure.httpclients.HttpClientsProperties;\n+import io.opentelemetry.trace.Tracer;\n+import org.springframework.beans.factory.annotation.Autowired;\n+import org.springframework.boot.autoconfigure.condition.ConditionalOnClass;\n+import org.springframework.boot.autoconfigure.condition.ConditionalOnProperty;\n+import org.springframework.boot.context.properties.EnableConfigurationProperties;\n+import org.springframework.context.annotation.Bean;\n+import org.springframework.context.annotation.Configuration;\n+import org.springframework.web.client.RestTemplate;\n+\n+/** Configures RestTemplateBeanPostProcessor bean */", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e43188b8a84e963a375b4222ec05eb8d1d3fa9f7"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjIwNjI2Mw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n             * Configuration for the tracing instrumentation of HTTP clients\n          \n          \n            \n             * Configuration for the tracing instrumentation of HTTP clients.", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/661#discussion_r456206263", "createdAt": "2020-07-17T04:04:12Z", "author": {"login": "anuraaga"}, "path": "instrumentation-core/spring/spring-boot-autoconfigure/src/main/java/io/opentelemetry/instrumentation/spring/autoconfigure/httpclients/HttpClientsProperties.java", "diffHunk": "@@ -0,0 +1,38 @@\n+/*\n+ * Copyright The OpenTelemetry Authors\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package io.opentelemetry.instrumentation.spring.autoconfigure.httpclients;\n+\n+import org.springframework.boot.context.properties.ConfigurationProperties;\n+\n+/**\n+ * Configuration for the tracing instrumentation of HTTP clients", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e43188b8a84e963a375b4222ec05eb8d1d3fa9f7"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjIwNjMwMw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n             * does not exist in application context\n          \n          \n            \n             * does not exist in application context.", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/661#discussion_r456206303", "createdAt": "2020-07-17T04:04:26Z", "author": {"login": "anuraaga"}, "path": "instrumentation-core/spring/spring-boot-autoconfigure/src/main/java/io/opentelemetry/instrumentation/spring/autoconfigure/httpclients/HttpClientsProperties.java", "diffHunk": "@@ -0,0 +1,38 @@\n+/*\n+ * Copyright The OpenTelemetry Authors\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package io.opentelemetry.instrumentation.spring.autoconfigure.httpclients;\n+\n+import org.springframework.boot.context.properties.ConfigurationProperties;\n+\n+/**\n+ * Configuration for the tracing instrumentation of HTTP clients\n+ *\n+ * <p>Sets default value of opentelemetry.trace.httpclients.enabled to true if the configuration\n+ * does not exist in application context", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e43188b8a84e963a375b4222ec05eb8d1d3fa9f7"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjIwNjM4OQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            /** Adds Open Telemetry instrumentation to RestTemplate beans after initialization */\n          \n          \n            \n            /** Adds Open Telemetry instrumentation to {@link RestTemplate} upon initialization. */", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/661#discussion_r456206389", "createdAt": "2020-07-17T04:04:50Z", "author": {"login": "anuraaga"}, "path": "instrumentation-core/spring/spring-boot-autoconfigure/src/main/java/io/opentelemetry/instrumentation/spring/autoconfigure/httpclients/resttemplate/RestTemplateBeanPostProcessor.java", "diffHunk": "@@ -0,0 +1,54 @@\n+/*\n+ * Copyright The OpenTelemetry Authors\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package io.opentelemetry.instrumentation.spring.autoconfigure.httpclients.resttemplate;\n+\n+import io.opentelemetry.instrumentation.spring.httpclients.RestTemplateInterceptor;\n+import io.opentelemetry.trace.Tracer;\n+import java.util.List;\n+import org.springframework.beans.factory.config.BeanPostProcessor;\n+import org.springframework.http.client.ClientHttpRequestInterceptor;\n+import org.springframework.web.client.RestTemplate;\n+\n+/** Adds Open Telemetry instrumentation to RestTemplate beans after initialization */", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e43188b8a84e963a375b4222ec05eb8d1d3fa9f7"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjIwNjU1OQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            /** Configures RestTemplateBeanPostProcessor bean */\n          \n          \n            \n            /** Configures {@link WebClient} for tracing. */", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/661#discussion_r456206559", "createdAt": "2020-07-17T04:05:26Z", "author": {"login": "anuraaga"}, "path": "instrumentation-core/spring/spring-boot-autoconfigure/src/main/java/io/opentelemetry/instrumentation/spring/autoconfigure/httpclients/webclient/WebClientAutoConfiguration.java", "diffHunk": "@@ -0,0 +1,44 @@\n+/*\n+ * Copyright The OpenTelemetry Authors\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package io.opentelemetry.instrumentation.spring.autoconfigure.httpclients.webclient;\n+\n+import io.opentelemetry.instrumentation.spring.autoconfigure.httpclients.HttpClientsProperties;\n+import io.opentelemetry.trace.Tracer;\n+import org.springframework.beans.factory.annotation.Autowired;\n+import org.springframework.boot.autoconfigure.condition.ConditionalOnClass;\n+import org.springframework.boot.autoconfigure.condition.ConditionalOnProperty;\n+import org.springframework.boot.context.properties.EnableConfigurationProperties;\n+import org.springframework.context.annotation.Bean;\n+import org.springframework.context.annotation.Configuration;\n+import org.springframework.web.reactive.function.client.WebClient;\n+\n+/** Configures RestTemplateBeanPostProcessor bean */", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e43188b8a84e963a375b4222ec05eb8d1d3fa9f7"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjIwNjcxMw==", "bodyText": "I don't think we need this sort of javadoc on private classes, but we can merge them into the autoconfiguration classes.", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/661#discussion_r456206713", "createdAt": "2020-07-17T04:06:12Z", "author": {"login": "anuraaga"}, "path": "instrumentation-core/spring/spring-boot-autoconfigure/src/main/java/io/opentelemetry/instrumentation/spring/autoconfigure/httpclients/webclient/WebClientBeanPostProcessor.java", "diffHunk": "@@ -0,0 +1,65 @@\n+/*\n+ * Copyright The OpenTelemetry Authors\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package io.opentelemetry.instrumentation.spring.autoconfigure.httpclients.webclient;\n+\n+import io.opentelemetry.instrumentation.springwebflux.client.WebClientTracingFilter;\n+import io.opentelemetry.trace.Tracer;\n+import java.util.List;\n+import java.util.function.Consumer;\n+import org.springframework.beans.factory.config.BeanPostProcessor;\n+import org.springframework.web.reactive.function.client.ExchangeFilterFunction;\n+import org.springframework.web.reactive.function.client.WebClient;\n+\n+/**\n+ * Adds Open Telemetry instrumentation to WebClient beans after initialization", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e43188b8a84e963a375b4222ec05eb8d1d3fa9f7"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjIwNjczNQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              public WebClientBeanPostProcessor(Tracer tracer) {\n          \n          \n            \n              WebClientBeanPostProcessor(Tracer tracer) {", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/661#discussion_r456206735", "createdAt": "2020-07-17T04:06:20Z", "author": {"login": "anuraaga"}, "path": "instrumentation-core/spring/spring-boot-autoconfigure/src/main/java/io/opentelemetry/instrumentation/spring/autoconfigure/httpclients/webclient/WebClientBeanPostProcessor.java", "diffHunk": "@@ -0,0 +1,65 @@\n+/*\n+ * Copyright The OpenTelemetry Authors\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package io.opentelemetry.instrumentation.spring.autoconfigure.httpclients.webclient;\n+\n+import io.opentelemetry.instrumentation.springwebflux.client.WebClientTracingFilter;\n+import io.opentelemetry.trace.Tracer;\n+import java.util.List;\n+import java.util.function.Consumer;\n+import org.springframework.beans.factory.config.BeanPostProcessor;\n+import org.springframework.web.reactive.function.client.ExchangeFilterFunction;\n+import org.springframework.web.reactive.function.client.WebClient;\n+\n+/**\n+ * Adds Open Telemetry instrumentation to WebClient beans after initialization\n+ *\n+ * <p>Inspired by: <a\n+ * href=\"https://github.com/spring-cloud/spring-cloud-sleuth/blob/master/spring-cloud-sleuth-core/src/main/java/org/springframework/cloud/sleuth/instrument/web/client/TraceWebClientAutoConfiguration.java\">Spring\n+ * Cloud Sleuth</a>\n+ */\n+final class WebClientBeanPostProcessor implements BeanPostProcessor {\n+\n+  private final Tracer tracer;\n+\n+  public WebClientBeanPostProcessor(Tracer tracer) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e43188b8a84e963a375b4222ec05eb8d1d3fa9f7"}, "originalPosition": 38}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjIwNjgwOQ==", "bodyText": "Beleive this can be package private", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/661#discussion_r456206809", "createdAt": "2020-07-17T04:06:45Z", "author": {"login": "anuraaga"}, "path": "instrumentation-core/spring/spring-boot-autoconfigure/src/main/java/io/opentelemetry/instrumentation/spring/autoconfigure/httpclients/resttemplate/RestTemplateBeanPostProcessor.java", "diffHunk": "@@ -0,0 +1,54 @@\n+/*\n+ * Copyright The OpenTelemetry Authors\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package io.opentelemetry.instrumentation.spring.autoconfigure.httpclients.resttemplate;\n+\n+import io.opentelemetry.instrumentation.spring.httpclients.RestTemplateInterceptor;\n+import io.opentelemetry.trace.Tracer;\n+import java.util.List;\n+import org.springframework.beans.factory.config.BeanPostProcessor;\n+import org.springframework.http.client.ClientHttpRequestInterceptor;\n+import org.springframework.web.client.RestTemplate;\n+\n+/** Adds Open Telemetry instrumentation to RestTemplate beans after initialization */\n+public final class RestTemplateBeanPostProcessor implements BeanPostProcessor {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e43188b8a84e963a375b4222ec05eb8d1d3fa9f7"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjIwNjkwNA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            /** Configures WebMVCFilter bean */\n          \n          \n            \n            /** Configures {@link WebMVCFilter} for tracing. */", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/661#discussion_r456206904", "createdAt": "2020-07-17T04:07:13Z", "author": {"login": "anuraaga"}, "path": "instrumentation-core/spring/spring-boot-autoconfigure/src/main/java/io/opentelemetry/instrumentation/spring/autoconfigure/webmvc/WebMVCFilterAutoConfiguration.java", "diffHunk": "@@ -0,0 +1,38 @@\n+/*\n+ * Copyright The OpenTelemetry Authors\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package io.opentelemetry.instrumentation.spring.autoconfigure.webmvc;\n+\n+import io.opentelemetry.instrumentation.springwebmvc.WebMVCTracingFilter;\n+import io.opentelemetry.trace.Tracer;\n+import org.springframework.beans.factory.annotation.Autowired;\n+import org.springframework.boot.autoconfigure.condition.ConditionalOnProperty;\n+import org.springframework.boot.context.properties.EnableConfigurationProperties;\n+import org.springframework.context.annotation.Bean;\n+import org.springframework.context.annotation.Configuration;\n+\n+/** Configures WebMVCFilter bean */", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e43188b8a84e963a375b4222ec05eb8d1d3fa9f7"}, "originalPosition": 27}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f1b62c9c835a4b6e8c9d97c616e25dec7df70af9", "author": {"user": {"login": "mabdinur", "name": "Munir Abdinur"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/f1b62c9c835a4b6e8c9d97c616e25dec7df70af9", "committedDate": "2020-07-17T05:27:11Z", "message": "Update instrumentation-core/spring/spring-boot-autoconfigure/src/main/java/io/opentelemetry/instrumentation/spring/autoconfigure/TracerAutoConfiguration.java\n\nCo-authored-by: Anuraag Agrawal <anuraaga@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6614592e6935f04c1aeeff00c0f504705c097aee", "author": {"user": {"login": "mabdinur", "name": "Munir Abdinur"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/6614592e6935f04c1aeeff00c0f504705c097aee", "committedDate": "2020-07-17T14:13:07Z", "message": "Update instrumentation-core/spring/spring-boot-autoconfigure/src/main/java/io/opentelemetry/instrumentation/spring/autoconfigure/EnableOpenTelemetryTracing.java\n\nCo-authored-by: Trask Stalnaker <trask.stalnaker@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "56d249e08dcd2afb6c01864f5fe54ebe2b5f60a9", "author": {"user": {"login": "mabdinur", "name": "Munir Abdinur"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/56d249e08dcd2afb6c01864f5fe54ebe2b5f60a9", "committedDate": "2020-07-17T14:16:41Z", "message": "Update instrumentation-core/spring/spring-boot-autoconfigure/src/main/java/io/opentelemetry/instrumentation/spring/autoconfigure/httpclients/webclient/WebClientAutoConfiguration.java\n\nCo-authored-by: Anuraag Agrawal <anuraaga@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e1ef1ad4eb365cd2141cdf04e089aaa5e4368850", "author": {"user": {"login": "mabdinur", "name": "Munir Abdinur"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/e1ef1ad4eb365cd2141cdf04e089aaa5e4368850", "committedDate": "2020-07-17T14:38:43Z", "message": "Update instrumentation-core/spring/spring-boot-autoconfigure/src/main/java/io/opentelemetry/instrumentation/spring/autoconfigure/TracerAutoConfiguration.java\n\nCo-authored-by: Trask Stalnaker <trask.stalnaker@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "75d08c2e421f540c5ad72d41c9be03df911213bc", "author": {"user": {"login": "mabdinur", "name": "Munir Abdinur"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/75d08c2e421f540c5ad72d41c9be03df911213bc", "committedDate": "2020-07-17T14:42:22Z", "message": "Update instrumentation-core/spring/spring-boot-autoconfigure/src/main/java/io/opentelemetry/instrumentation/spring/autoconfigure/httpclients/resttemplate/RestTemplateAutoConfiguration.java\n\nCo-authored-by: Anuraag Agrawal <anuraaga@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b00bbff7f1c2443942b5cb390ece1cac61f273d1", "author": {"user": {"login": "mabdinur", "name": "Munir Abdinur"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/b00bbff7f1c2443942b5cb390ece1cac61f273d1", "committedDate": "2020-07-17T14:42:35Z", "message": "Update instrumentation-core/spring/spring-boot-autoconfigure/src/main/java/io/opentelemetry/instrumentation/spring/autoconfigure/httpclients/webclient/WebClientBeanPostProcessor.java\n\nCo-authored-by: Anuraag Agrawal <anuraaga@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "adb18424e0b512629f91e6b8a736d5cdc638ccea", "author": {"user": {"login": "mabdinur", "name": "Munir Abdinur"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/adb18424e0b512629f91e6b8a736d5cdc638ccea", "committedDate": "2020-07-17T14:45:12Z", "message": "Update instrumentation-core/spring/spring-boot-autoconfigure/src/main/java/io/opentelemetry/instrumentation/spring/autoconfigure/webmvc/WebMVCFilterAutoConfiguration.java\n\nCo-authored-by: Anuraag Agrawal <anuraaga@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "36cf1f5846b08015aeee534e68869ec88fd0049a", "author": {"user": {"login": "mabdinur", "name": "Munir Abdinur"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/36cf1f5846b08015aeee534e68869ec88fd0049a", "committedDate": "2020-07-17T14:51:45Z", "message": "clean up java docs and properties"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3a9059cfe3f21b64e83beb9d246daf04a73917de", "author": {"user": {"login": "mabdinur", "name": "Munir Abdinur"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/3a9059cfe3f21b64e83beb9d246daf04a73917de", "committedDate": "2020-07-17T15:00:19Z", "message": "clean up and format"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "63d7b278fa0e48c5c677b9913afcd4fe682ee62d", "author": {"user": {"login": "mabdinur", "name": "Munir Abdinur"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/63d7b278fa0e48c5c677b9913afcd4fe682ee62d", "committedDate": "2020-07-17T15:01:03Z", "message": "Update instrumentation-core/spring/spring-boot-autoconfigure/src/main/java/io/opentelemetry/instrumentation/spring/autoconfigure/httpclients/HttpClientsProperties.java\n\nCo-authored-by: Anuraag Agrawal <anuraaga@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "883a06d2a04efa7c2060ff3bbe6089a4fa4459e5", "author": {"user": {"login": "mabdinur", "name": "Munir Abdinur"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/883a06d2a04efa7c2060ff3bbe6089a4fa4459e5", "committedDate": "2020-07-17T15:07:18Z", "message": "Update spring-boot-autoconfigure.gradle"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "389dd7ea6dc8a2d7607317882d1d62d8f0bb5465", "author": {"user": {"login": "mabdinur", "name": "Munir Abdinur"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/389dd7ea6dc8a2d7607317882d1d62d8f0bb5465", "committedDate": "2020-07-17T15:21:15Z", "message": "change annotationprocessor"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5cd531e2a827684f328913e426669623d0cec2b6", "author": {"user": {"login": "mabdinur", "name": "Munir Abdinur"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/5cd531e2a827684f328913e426669623d0cec2b6", "committedDate": "2020-07-17T15:45:36Z", "message": "Update instrumentation-core/spring/spring-boot-autoconfigure/src/main/java/io/opentelemetry/instrumentation/spring/autoconfigure/httpclients/HttpClientsProperties.java\n\nCo-authored-by: Anuraag Agrawal <anuraaga@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "871f72123362fddb341e12f152a10da78780318b", "author": {"user": {"login": "mabdinur", "name": "Munir Abdinur"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/871f72123362fddb341e12f152a10da78780318b", "committedDate": "2020-07-17T17:05:51Z", "message": "Update RestTemplateAutoConfiguration.java"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUwODU0MzE2", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/661#pullrequestreview-450854316", "createdAt": "2020-07-17T17:58:27Z", "commit": {"oid": "871f72123362fddb341e12f152a10da78780318b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3086, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}