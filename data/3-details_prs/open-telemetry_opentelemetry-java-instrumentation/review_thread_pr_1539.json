{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTEzODE2Nzcw", "number": 1539, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wMlQwNjoxNTozMlrOE0PnQQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wMlQwNjoxNTozMlrOE0PnQQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIzMjE3MjE3OnYy", "diffSide": "RIGHT", "path": "instrumentation/log4j/log4j-1.2/src/test/groovy/Log4j1MdcTest.groovy", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wMlQwNjoxNTozMlrOHr3Y8g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wMlQwNjoxNTozMlrOHr3Y8g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTc1ODMyMg==", "bodyText": "Silly groovy, accessing a private field without restraint :D", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1539#discussion_r515758322", "createdAt": "2020-11-02T06:15:32Z", "author": {"login": "anuraaga"}, "path": "instrumentation/log4j/log4j-1.2/src/test/groovy/Log4j1MdcTest.groovy", "diffHunk": "@@ -47,23 +47,23 @@ class Log4j1MdcTest extends AgentTestRunner {\n     when:\n     def span1 = TraceUtils.runUnderTrace(\"test\") {\n       logger.info(\"log message 1\")\n-      TracingContextUtils.currentSpan\n+      Span.current()\n     }\n \n     logger.info(\"log message 2\")\n \n     def span2 = TraceUtils.runUnderTrace(\"test 2\") {\n       logger.info(\"log message 3\")\n-      TracingContextUtils.currentSpan\n+      Span.current()\n     }\n \n     then:\n     def events = ListAppender.events\n \n     events.size() == 3\n     events[0].message == \"log message 1\"\n-    events[0].getMDC(TRACE_ID) == span1.context.traceIdAsHexString\n-    events[0].getMDC(SPAN_ID) == span1.context.spanIdAsHexString\n+    events[0].getMDC(TRACE_ID) == span1.spanContext.traceIdAsHexString", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "57c843d2bd7bfbe910c6a5fbe2e6cb23583a68b9"}, "originalPosition": 34}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4773, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}