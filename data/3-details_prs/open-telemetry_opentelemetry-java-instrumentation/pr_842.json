{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU5NjI3NjU1", "number": 842, "title": "Rename trace.methods.exclude config", "bodyText": "Closes #760\nI included README.md changes directly in this PR since this config setting is not very common, so I think ok for it's docs to be out of sync until next week, but I can separate out README.md change if anyone prefers.", "createdAt": "2020-07-30T21:57:20Z", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/842", "merged": true, "mergeCommit": {"oid": "2af43dbf266b6285f029f91fe41e178c90460eac"}, "closed": true, "closedAt": "2020-07-31T19:30:09Z", "author": {"login": "trask"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc6G4GoAH2gAyNDU5NjI3NjU1OmIwOTU0Njg3MGIzZWQyYzdhMzYwM2I1MGYwOGQzNTBkMjI1MmEyYzk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc6Y5i8AH2gAyNDU5NjI3NjU1OjEzYjg4OGU4OTk3NTRhMGMzODkxMjZlNzc0Y2JmNjkwYTU2NmU3OWY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "b09546870b3ed2c7a3603b50f08d350d2252a2c9", "author": {"user": {"login": "trask", "name": "Trask Stalnaker"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/b09546870b3ed2c7a3603b50f08d350d2252a2c9", "committedDate": "2020-07-30T21:54:24Z", "message": "Rename trace.methods.exclude config"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "959f6729b33063af3a242502698680d8561072b4", "author": {"user": {"login": "trask", "name": "Trask Stalnaker"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/959f6729b33063af3a242502698680d8561072b4", "committedDate": "2020-07-30T22:07:30Z", "message": "spotless"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU4ODUyMTc4", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/842#pullrequestreview-458852178", "createdAt": "2020-07-31T00:45:34Z", "commit": {"oid": "959f6729b33063af3a242502698680d8561072b4"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQwMDo0NTozNFrOG54dYA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQwMDo0NTozNFrOG54dYA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzM0NzA0MA==", "bodyText": "Isn't this property still there?", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/842#discussion_r463347040", "createdAt": "2020-07-31T00:45:34Z", "author": {"login": "anuraaga"}, "path": "README.md", "diffHunk": "@@ -276,10 +280,9 @@ The `@WithSpan` annotation requires code changes to implement. You can\n disable the annotation at runtime via the exclude configuration or\n environment variables:\n \n-| System property                  | Environment variable             | Purpose                                                              |\n-|----------------------------------|----------------------------------|----------------------------------------------------------------------|\n-| trace.classes.exclude            | TRACE_CLASSES_EXCLUDE            | Exclude classes with the `@WithSpan` annotation                      |", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "959f6729b33063af3a242502698680d8561072b4"}, "originalPosition": 17}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU4ODU5MDEz", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/842#pullrequestreview-458859013", "createdAt": "2020-07-31T01:08:42Z", "commit": {"oid": "959f6729b33063af3a242502698680d8561072b4"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQwMTowODo0MlrOG5410w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQwMTowODo0MlrOG5410w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzM1MzI5OQ==", "bodyText": "Ah sorry missed that markdown in the middle of the java files!", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/842#discussion_r463353299", "createdAt": "2020-07-31T01:08:42Z", "author": {"login": "anuraaga"}, "path": "README.md", "diffHunk": "@@ -276,10 +280,9 @@ The `@WithSpan` annotation requires code changes to implement. You can\n disable the annotation at runtime via the exclude configuration or\n environment variables:\n \n-| System property                  | Environment variable             | Purpose                                                              |\n-|----------------------------------|----------------------------------|----------------------------------------------------------------------|\n-| trace.classes.exclude            | TRACE_CLASSES_EXCLUDE            | Exclude classes with the `@WithSpan` annotation                      |", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzM0NzA0MA=="}, "originalCommit": {"oid": "959f6729b33063af3a242502698680d8561072b4"}, "originalPosition": 17}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU4OTI1MjEy", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/842#pullrequestreview-458925212", "createdAt": "2020-07-31T05:31:51Z", "commit": {"oid": "959f6729b33063af3a242502698680d8561072b4"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQwNTozMTo1MlrOG58e2A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQwNTozMTo1MlrOG58e2A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzQxMjk1Mg==", "bodyText": "Documentation is wrong. We exclude classes here, not methods :)", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/842#discussion_r463412952", "createdAt": "2020-07-31T05:31:52Z", "author": {"login": "iNikem"}, "path": "docs/suppressing-instrumentation.md", "diffHunk": "@@ -0,0 +1,26 @@\n+## Suppressing specific auto-instrumentation\n+\n+You can suppress auto-instrumentation of specific libraries by using\n+`-Dota.integration.[id].enabled=true`.\n+\n+where `id` is the instrumentation `id`:\n+\n+[TODO add table here with all instrumentation ids]\n+\n+### Even more fine-grained control\n+\n+You can also exclude specific classes from being instrumented.\n+\n+This can be useful to completely silence spans from a given class/package.\n+\n+Or as a quick workaround for an instrumentation bug, when byte code in one specific class is problematic.\n+\n+This option should not be used lightly, as it can leave some instrumentation partially applied,\n+which could have unknown side-effects.\n+\n+If you find yourself needing to use this, it would be great if you could drop us an issue explaining why,\n+so that we can try to come up with a better solution to address your need.\n+\n+| System property       | Environment variable  | Purpose                                                                                                                         |\n+|-----------------------|-----------------------|---------------------------------------------------------------------------------------------------------------------------------|\n+| trace.classes.exclude | TRACE_CLASSES_EXCLUDE | Exclude methods with the `@WithSpan` annotation, the format \"my.package.MyClass1[method1,method2];my.package.MyClass2[method3]\" |", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "959f6729b33063af3a242502698680d8561072b4"}, "originalPosition": 26}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "15ac62af245f9696a95c77ed54a9a0cb235a22e7", "author": {"user": {"login": "trask", "name": "Trask Stalnaker"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/15ac62af245f9696a95c77ed54a9a0cb235a22e7", "committedDate": "2020-07-31T17:33:13Z", "message": "feedback"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU5MzQ3MDc0", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/842#pullrequestreview-459347074", "createdAt": "2020-07-31T17:38:32Z", "commit": {"oid": "15ac62af245f9696a95c77ed54a9a0cb235a22e7"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "13b888e899754a0c389126e774cbf690a566e79f", "author": {"user": {"login": "trask", "name": "Trask Stalnaker"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/13b888e899754a0c389126e774cbf690a566e79f", "committedDate": "2020-07-31T18:54:16Z", "message": "Merge remote-tracking branch 'upstream/master' into rename-trace-methods-exclude"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2899, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}