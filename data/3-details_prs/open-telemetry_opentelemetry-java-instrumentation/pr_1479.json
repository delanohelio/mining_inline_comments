{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA5NzcyNTkx", "number": 1479, "title": "Update to latest SDK snapshot.", "bodyText": "", "createdAt": "2020-10-26T05:38:28Z", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1479", "merged": true, "mergeCommit": {"oid": "a2dccf231690d790e3bf6a7a59a74b122928b3cd"}, "closed": true, "closedAt": "2020-10-27T02:29:47Z", "author": {"login": "anuraaga"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdWNp4kgH2gAyNTA5NzcyNTkxOmJlODZjOGZlZjEwOWMxMjg1ZTRjMzNiZTAwZmQ2MzYyYzU0NjFhYWY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdWfIM1gH2gAyNTA5NzcyNTkxOmMyMmZhZTdiNDZmYWVmNjQ0YjAyODAxMDdmODQ3YmZlOWQ5MWJkYzE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "be86c8fef109c1285e4c33be00fd6362c5461aaf", "author": {"user": {"login": "anuraaga", "name": "Anuraag Agrawal"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/be86c8fef109c1285e4c33be00fd6362c5461aaf", "committedDate": "2020-10-26T05:38:05Z", "message": "Update to latest SDK snapshot."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE2NDc4ODY2", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1479#pullrequestreview-516478866", "createdAt": "2020-10-26T05:39:31Z", "commit": {"oid": "be86c8fef109c1285e4c33be00fd6362c5461aaf"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQwNTozOTozMVrOHoBbvQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQwNTozOTozMVrOHoBbvQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTcyODU3Mw==", "bodyText": "I just deleted this since I think even previously, this wasn't required because of instrumentation of withSpan and makeCurrent", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1479#discussion_r511728573", "createdAt": "2020-10-26T05:39:31Z", "author": {"login": "anuraaga"}, "path": "instrumentation/opentelemetry-api-beta/src/main/java/io/opentelemetry/javaagent/instrumentation/opentelemetryapi/trace/TracingContextUtils.java", "diffHunk": "@@ -77,22 +74,4 @@ public static Span getSpanWithoutDefault(\n         io.opentelemetry.trace.Span.fromContextOrNull(agentContext);\n     return agentSpan == null ? null : toApplication(agentSpan);\n   }\n-\n-  public static Scope currentContextWith(Span applicationSpan) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "be86c8fef109c1285e4c33be00fd6362c5461aaf"}, "originalPosition": 17}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "29b5752e80a40a62d2f89c6d8b9fd73c92024746", "author": {"user": {"login": "anuraaga", "name": "Anuraag Agrawal"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/29b5752e80a40a62d2f89c6d8b9fd73c92024746", "committedDate": "2020-10-26T06:58:26Z", "message": "Disable muzzle for now"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE2NTA0NzAx", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1479#pullrequestreview-516504701", "createdAt": "2020-10-26T06:59:54Z", "commit": {"oid": "29b5752e80a40a62d2f89c6d8b9fd73c92024746"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQwNjo1OTo1NFrOHoCvDQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQwNjo1OTo1NFrOHoCvDQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTc0OTkwMQ==", "bodyText": "I guess this is better than having muzzle pull in random versions from snapshot repo? Let me know if there's a better way.\nI'm surprised the smoke tests pass though - actually I had flaky behavior this time where sometimes they fail with no WithSpan and sometimes they pass fine locally, and have similar seemingly bad-cache behavior before so a bit anxious they may have some problem @iNikem", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1479#discussion_r511749901", "createdAt": "2020-10-26T06:59:54Z", "author": {"login": "anuraaga"}, "path": "instrumentation/external-annotations/external-annotations.gradle", "diffHunk": "@@ -1,5 +1,7 @@\n apply from: \"$rootDir/gradle/instrumentation.gradle\"\n \n+// TODO(anuraaga): Reenable after SDK 0.10.0 is published", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "29b5752e80a40a62d2f89c6d8b9fd73c92024746"}, "originalPosition": 3}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8825e08d0bf725057490f42275de6e42e441eac6", "author": {"user": {"login": "anuraaga", "name": "Anuraag Agrawal"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/8825e08d0bf725057490f42275de6e42e441eac6", "committedDate": "2020-10-26T07:02:02Z", "message": "Smoke tests snapshot sdk"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE2NTA5NzMy", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1479#pullrequestreview-516509732", "createdAt": "2020-10-26T07:12:25Z", "commit": {"oid": "8825e08d0bf725057490f42275de6e42e441eac6"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE2OTgxNzIz", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1479#pullrequestreview-516981723", "createdAt": "2020-10-26T16:51:44Z", "commit": {"oid": "8825e08d0bf725057490f42275de6e42e441eac6"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQxNjo1MTo0NFrOHoZAuw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQxNzoyNDoyMlrOHoaeuA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjExNDg3NQ==", "bodyText": "is this change needed, since the annotation API itself hasn't changed (only our underlying instrumentation)?", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1479#discussion_r512114875", "createdAt": "2020-10-26T16:51:44Z", "author": {"login": "trask"}, "path": "smoke-tests/springboot/build.gradle", "diffHunk": "@@ -11,11 +11,18 @@ version = '0.0.1-SNAPSHOT'\n repositories {\n   mavenCentral()\n   jcenter()\n+  // this is only needed for the working against unreleased otel-java snapshots\n+  maven {\n+    url \"https://oss.jfrog.org/artifactory/oss-snapshot-local\"\n+    content {\n+      includeGroup \"io.opentelemetry\"\n+    }\n+  }\n }\n \n dependencies {\n   implementation 'org.springframework.boot:spring-boot-starter-web'\n-  implementation 'io.opentelemetry:opentelemetry-extension-auto-annotations:0.7.0'\n+  implementation 'io.opentelemetry:opentelemetry-extension-auto-annotations:0.10.0-SNAPSHOT'", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8825e08d0bf725057490f42275de6e42e441eac6"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjEzODkzNg==", "bodyText": "is this change needed? smoke tests are passing on this PR, and I think(?) they use docker images from last build on master", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1479#discussion_r512138936", "createdAt": "2020-10-26T17:24:22Z", "author": {"login": "trask"}, "path": "smoke-tests/grpc/build.gradle", "diffHunk": "@@ -17,8 +24,8 @@ dependencies {\n   implementation \"io.grpc:grpc-netty-shaded:1.32.1\"\n   implementation \"io.grpc:grpc-protobuf:1.32.1\"\n   implementation \"io.grpc:grpc-stub:1.32.1\"\n-  implementation \"io.opentelemetry:opentelemetry-proto:0.9.1\"\n-  implementation \"io.opentelemetry:opentelemetry-extension-auto-annotations:0.9.1\"\n+  implementation \"io.opentelemetry:opentelemetry-proto:0.10.0-SNAPSHOT\"\n+  implementation \"io.opentelemetry:opentelemetry-extension-auto-annotations:0.10.0-SNAPSHOT\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8825e08d0bf725057490f42275de6e42e441eac6"}, "originalPosition": 21}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bd41c06d005e81555cfb106d77aa0f8f1438797a", "author": {"user": {"login": "anuraaga", "name": "Anuraag Agrawal"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/bd41c06d005e81555cfb106d77aa0f8f1438797a", "committedDate": "2020-10-26T23:43:06Z", "message": "Revert silliness"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3da08e5e3ddfaf6a16f34b1f865ce1740a104f4a", "author": {"user": {"login": "anuraaga", "name": "Anuraag Agrawal"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/3da08e5e3ddfaf6a16f34b1f865ce1740a104f4a", "committedDate": "2020-10-27T00:04:21Z", "message": "Remove unnecessary repos too"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c22fae7b46faef644b0280107f847bfe9d91bdc1", "author": {"user": {"login": "anuraaga", "name": "Anuraag Agrawal"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/c22fae7b46faef644b0280107f847bfe9d91bdc1", "committedDate": "2020-10-27T01:59:35Z", "message": "Restore external-annotations muzzle"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2403, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}