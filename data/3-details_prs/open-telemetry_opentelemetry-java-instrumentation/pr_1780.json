{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI4NTc2MzMy", "number": 1780, "title": "Add HTTP attributes support for AWS lambda function wrapper", "bodyText": "Related to #1773\nThis PR implements HTTP server spec for lambdas that use APIGatewayProxyRequestEvent as input.", "createdAt": "2020-11-27T12:07:18Z", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1780", "merged": true, "mergeCommit": {"oid": "fff6eb7004842c6d62eceeb5046d18c98832fcdb"}, "closed": true, "closedAt": "2020-12-03T16:20:05Z", "author": {"login": "mateuszrzeszutek"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdhKNyngFqTU0MDQ0OTUxMw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdiQswxAFqTU0Mjk4MzgxMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQwNDQ5NTEz", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1780#pullrequestreview-540449513", "createdAt": "2020-11-29T05:50:51Z", "commit": {"oid": "5504488644cc98efbd6fda685ae236ef92beeb11"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yOVQwNTo1MDo1MVrOH7geKg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yOVQwNTo1MDo1MVrOH7geKg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjE2MDA0Mg==", "bodyText": "Do you think it makes sense to have a AwsLambdaGatewayProxyTracer extends HttpServerTracer?", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1780#discussion_r532160042", "createdAt": "2020-11-29T05:50:51Z", "author": {"login": "anuraaga"}, "path": "instrumentation/aws-lambda-1.0/library/src/main/java/io/opentelemetry/instrumentation/awslambda/v1_0/HttpSpanAttributes.java", "diffHunk": "@@ -0,0 +1,78 @@\n+/*\n+ * Copyright The OpenTelemetry Authors\n+ * SPDX-License-Identifier: Apache-2.0\n+ */\n+\n+package io.opentelemetry.instrumentation.awslambda.v1_0;\n+\n+import static io.opentelemetry.api.trace.attributes.SemanticAttributes.HTTP_METHOD;\n+import static io.opentelemetry.api.trace.attributes.SemanticAttributes.HTTP_STATUS_CODE;\n+import static io.opentelemetry.api.trace.attributes.SemanticAttributes.HTTP_URL;\n+import static io.opentelemetry.api.trace.attributes.SemanticAttributes.HTTP_USER_AGENT;\n+import static io.opentelemetry.instrumentation.awslambda.v1_0.MapUtils.emptyIfNull;\n+import static io.opentelemetry.instrumentation.awslambda.v1_0.MapUtils.lowercaseMap;\n+\n+import com.amazonaws.services.lambda.runtime.events.APIGatewayProxyRequestEvent;\n+import com.amazonaws.services.lambda.runtime.events.APIGatewayProxyResponseEvent;\n+import io.opentelemetry.api.trace.Span;\n+import io.opentelemetry.api.trace.SpanBuilder;\n+import java.io.UnsupportedEncodingException;\n+import java.net.URLEncoder;\n+import java.nio.charset.StandardCharsets;\n+import java.util.Map;\n+\n+final class HttpSpanAttributes {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5504488644cc98efbd6fda685ae236ef92beeb11"}, "originalPosition": 24}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ebc5ab8964382e958c29c47b1c154e25c9f5c744", "author": {"user": {"login": "mateuszrzeszutek", "name": "Mateusz Rzeszutek"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/ebc5ab8964382e958c29c47b1c154e25c9f5c744", "committedDate": "2020-11-30T11:25:42Z", "message": "Add HTTP attributes support for AWS lambda function wrapper"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5504488644cc98efbd6fda685ae236ef92beeb11", "author": {"user": {"login": "mateuszrzeszutek", "name": "Mateusz Rzeszutek"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/5504488644cc98efbd6fda685ae236ef92beeb11", "committedDate": "2020-11-27T11:58:52Z", "message": "Add HTTP attributes support for AWS lambda function wrapper"}, "afterCommit": {"oid": "ebc5ab8964382e958c29c47b1c154e25c9f5c744", "author": {"user": {"login": "mateuszrzeszutek", "name": "Mateusz Rzeszutek"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/ebc5ab8964382e958c29c47b1c154e25c9f5c744", "committedDate": "2020-11-30T11:25:42Z", "message": "Add HTTP attributes support for AWS lambda function wrapper"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQyOTgzODEw", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1780#pullrequestreview-542983810", "createdAt": "2020-12-02T15:58:02Z", "commit": {"oid": "ebc5ab8964382e958c29c47b1c154e25c9f5c744"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2088, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}