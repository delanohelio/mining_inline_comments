{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc0MTE0NzY2", "number": 1107, "title": "Merge changes from dd-trace-java 0.58.0, 0.59.0, 0.60.0 (Part 1)", "bodyText": "https://github.com/DataDog/dd-trace-java/releases/tag/v0.58.0\nhttps://github.com/DataDog/dd-trace-java/releases/tag/v0.59.0\nhttps://github.com/DataDog/dd-trace-java/releases/tag/v0.60.0\nThanks @richardstartin @tylerbenson @randomanderson!\nAll of the original PRs are linked in the associated commit messages.\n\nBreaking these commits out from the (too) big PR #1089 (which is now renamed Part 2)\nThere are still a lot of commits in this PR, but they seemed to be the ones with no outstanding review comments.\nI will try to do smaller merge commits going forwards.", "createdAt": "2020-08-26T19:41:22Z", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1107", "merged": true, "mergeCommit": {"oid": "bae8d8d56d34a5f6a665ce73790d5df7348f4323"}, "closed": true, "closedAt": "2020-09-01T18:57:15Z", "author": {"login": "trask"}, "timelineItems": {"totalCount": 27, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdCxSzNABqjM2OTYzNzM5NDc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdEq5cEgBqjM3MTYwNzAxOTk=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "cd522e44a50fe08726a1df490b6c75dde0072523", "author": {"user": {"login": "richardstartin", "name": "Richard Startin"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/cd522e44a50fe08726a1df490b6c75dde0072523", "committedDate": "2020-08-26T19:32:20Z", "message": "allow context propagation for kafka tombstones (DataDog/dd-trace-java#1754)"}, "afterCommit": {"oid": "6dec7a7eaa9694da0b2e371238ca5f165e6f4214", "author": {"user": {"login": "richardstartin", "name": "Richard Startin"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/6dec7a7eaa9694da0b2e371238ca5f165e6f4214", "committedDate": "2020-08-26T19:50:49Z", "message": "allow context propagation for kafka tombstones (DataDog/dd-trace-java#1754)"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc2MDk1ODY2", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1107#pullrequestreview-476095866", "createdAt": "2020-08-26T23:26:35Z", "commit": {"oid": "6dec7a7eaa9694da0b2e371238ca5f165e6f4214"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6dec7a7eaa9694da0b2e371238ca5f165e6f4214", "author": {"user": {"login": "richardstartin", "name": "Richard Startin"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/6dec7a7eaa9694da0b2e371238ca5f165e6f4214", "committedDate": "2020-08-26T19:50:49Z", "message": "allow context propagation for kafka tombstones (DataDog/dd-trace-java#1754)"}, "afterCommit": {"oid": "9c6341ff21026d64572b38201fffd6c2e29020ce", "author": {"user": {"login": "richardstartin", "name": "Richard Startin"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/9c6341ff21026d64572b38201fffd6c2e29020ce", "committedDate": "2020-08-27T04:09:05Z", "message": "allow context propagation for kafka tombstones (DataDog/dd-trace-java#1754)"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc2MzcyOTAz", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1107#pullrequestreview-476372903", "createdAt": "2020-08-27T04:14:07Z", "commit": {"oid": "9c6341ff21026d64572b38201fffd6c2e29020ce"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yN1QwNDoxNDowN1rOHH798g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yN1QwNDoxNDowN1rOHH798g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODA4NDU5NA==", "bodyText": "cc: @tylerbenson, it looks like muzzle in dd-trace-java is only ever checking 2.11.12 b/c of\nresolutionStrategy {\n  force deps.scala\n}\n\nin test-with-scala.gradle", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1107#discussion_r478084594", "createdAt": "2020-08-27T04:14:07Z", "author": {"login": "trask"}, "path": "instrumentation/scala-concurrent/scala-concurrent.gradle", "diffHunk": "@@ -0,0 +1,40 @@\n+apply from: \"$rootDir/gradle/instrumentation.gradle\"\n+apply from: \"$rootDir/gradle/test-with-scala.gradle\"\n+apply plugin: 'org.unbroken-dome.test-sets'\n+\n+muzzle {\n+  pass {\n+    group = 'org.scala-lang'\n+    module = \"scala-library\"\n+    versions = \"[2.8.0,2.12.0)\"\n+    assertInverse = true\n+  }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9c6341ff21026d64572b38201fffd6c2e29020ce"}, "originalPosition": 11}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9c6341ff21026d64572b38201fffd6c2e29020ce", "author": {"user": {"login": "richardstartin", "name": "Richard Startin"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/9c6341ff21026d64572b38201fffd6c2e29020ce", "committedDate": "2020-08-27T04:09:05Z", "message": "allow context propagation for kafka tombstones (DataDog/dd-trace-java#1754)"}, "afterCommit": {"oid": "4ec4e36a1248c7c7eefe67687e5ab8f1436af9ab", "author": {"user": {"login": "richardstartin", "name": "Richard Startin"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/4ec4e36a1248c7c7eefe67687e5ab8f1436af9ab", "committedDate": "2020-08-27T04:16:08Z", "message": "allow context propagation for kafka tombstones (DataDog/dd-trace-java#1754)"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc2Mzg5MDYy", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1107#pullrequestreview-476389062", "createdAt": "2020-08-27T05:09:36Z", "commit": {"oid": "4ec4e36a1248c7c7eefe67687e5ab8f1436af9ab"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yN1QwNTowOTozN1rOHH-hEQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yN1QwNTowOTozN1rOHH-hEQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODEyNjM1Mw==", "bodyText": "Can we confirm this caveat? Should we file an issue?", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1107#discussion_r478126353", "createdAt": "2020-08-27T05:09:37Z", "author": {"login": "anuraaga"}, "path": "instrumentation/akka-context-propagation-2.5/src/main/java/io/opentelemetry/instrumentation/auto/akkaconcurrent/AkkaForkJoinPoolInstrumentation.java", "diffHunk": "@@ -28,27 +28,33 @@\n import io.opentelemetry.instrumentation.auto.api.InstrumentationContext;\n import io.opentelemetry.instrumentation.auto.api.concurrent.ExecutorInstrumentationUtils;\n import io.opentelemetry.instrumentation.auto.api.concurrent.State;\n-import io.opentelemetry.instrumentation.auto.javaconcurrent.AbstractExecutorInstrumentation;\n import io.opentelemetry.javaagent.tooling.Instrumenter;\n import java.util.HashMap;\n import java.util.Map;\n import java.util.concurrent.Executor;\n import net.bytebuddy.asm.Advice;\n import net.bytebuddy.description.method.MethodDescription;\n+import net.bytebuddy.description.type.TypeDescription;\n import net.bytebuddy.matcher.ElementMatcher;\n \n @AutoService(Instrumenter.class)\n-public final class AkkaExecutorInstrumentation extends AbstractExecutorInstrumentation {\n+public final class AkkaForkJoinPoolInstrumentation extends Instrumenter.Default {\n \n-  public AkkaExecutorInstrumentation() {\n-    super(AbstractExecutorInstrumentation.EXEC_NAME + \".akka_fork_join\");\n+  public AkkaForkJoinPoolInstrumentation() {\n+    super(\"akka_context_propagation\");\n   }\n \n   @Override\n   protected boolean defaultEnabled() {\n     return false;\n   }\n \n+  @Override\n+  public ElementMatcher<TypeDescription> typeMatcher() {\n+    // This might need to be an extendsClass matcher...", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4ec4e36a1248c7c7eefe67687e5ab8f1436af9ab"}, "originalPosition": 31}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc2Mzk0ODc2", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1107#pullrequestreview-476394876", "createdAt": "2020-08-27T05:27:43Z", "commit": {"oid": "4ec4e36a1248c7c7eefe67687e5ab8f1436af9ab"}, "state": "COMMENTED", "comments": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yN1QwNToyODo0MVrOHH_PsQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yN1QwNTozODoxOVrOHH_m2Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODEzODI4OQ==", "bodyText": "So how exceptions are recorded in Finatra? Or are they not?", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1107#discussion_r478138289", "createdAt": "2020-08-27T05:28:41Z", "author": {"login": "iNikem"}, "path": "instrumentation/finatra-2.9/src/latestDepTest/groovy/FinatraServerLatestTest.groovy", "diffHunk": "@@ -0,0 +1,108 @@\n+/*\n+ * Copyright The OpenTelemetry Authors\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+import static io.opentelemetry.auto.test.base.HttpServerTest.ServerEndpoint.SUCCESS\n+import static io.opentelemetry.trace.Span.Kind.INTERNAL\n+\n+import com.twitter.app.lifecycle.Event\n+import com.twitter.app.lifecycle.Observer\n+import com.twitter.finatra.http.HttpServer\n+import com.twitter.util.Await\n+import com.twitter.util.Closable\n+import com.twitter.util.Duration\n+import com.twitter.util.Promise\n+import io.opentelemetry.auto.test.asserts.TraceAssert\n+import io.opentelemetry.auto.test.base.HttpServerTest\n+import io.opentelemetry.sdk.trace.data.SpanData\n+\n+class FinatraServerLatestTest extends HttpServerTest<HttpServer> {\n+  private static final Duration TIMEOUT = Duration.fromSeconds(5)\n+  private static final Duration STARTUP_TIMEOUT = Duration.fromSeconds(20)\n+\n+  static closeAndWait(Closable closable) {\n+    if (closable != null) {\n+      Await.ready(closable.close(), TIMEOUT)\n+    }\n+  }\n+\n+  @Override\n+  HttpServer startServer(int port) {\n+    HttpServer testServer = new FinatraServer()\n+\n+    // Starting the server is blocking so start it in a separate thread\n+    Thread startupThread = new Thread({\n+      testServer.main(\"-admin.port=:0\", \"-http.port=:\" + port)\n+    })\n+    startupThread.setDaemon(true)\n+    startupThread.start()\n+\n+    Promise<Boolean> startupPromise = new Promise<>()\n+\n+    testServer.withObserver(new Observer() {\n+      @Override\n+      void onSuccess(Event event) {\n+        if (event == testServer.startupCompletionEvent()) {\n+          startupPromise.setValue(true)\n+        }\n+      }\n+\n+      void onEntry(Event event) {\n+\n+      }\n+\n+      @Override\n+      void onFailure(Event stage, Throwable throwable) {\n+        if (stage != Event.Close$.MODULE$) {\n+          startupPromise.setException(throwable)\n+        }\n+      }\n+    })\n+\n+    Await.result(startupPromise, STARTUP_TIMEOUT)\n+\n+    return testServer\n+  }\n+\n+  @Override\n+  boolean hasHandlerSpan() {\n+    return true\n+  }\n+\n+  @Override\n+  boolean testNotFound() {\n+    // Resource name is set to \"GET /notFound\"\n+    false\n+  }\n+\n+  @Override\n+  void stopServer(HttpServer httpServer) {\n+    Await.ready(httpServer.close(), TIMEOUT)\n+  }\n+\n+  @Override\n+  void handlerSpan(TraceAssert trace, int index, Object parent, String method = \"GET\", ServerEndpoint endpoint = SUCCESS) {\n+    trace.span(index) {\n+      operationName \"FinatraController\"\n+      spanKind INTERNAL\n+      childOf(parent as SpanData)\n+      // Finatra doesn't propagate the stack trace or exception to the instrumentation\n+      // so the normal errorAttributes() method can't be used", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4ec4e36a1248c7c7eefe67687e5ab8f1436af9ab"}, "originalPosition": 102}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODEzOTUwOA==", "bodyText": "@trask You have removed this check in another PR, haven't you?", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1107#discussion_r478139508", "createdAt": "2020-08-27T05:30:27Z", "author": {"login": "iNikem"}, "path": "instrumentation/guava-10.0/src/main/java/io/opentelemetry/instrumentation/auto/guava/ListenableFutureInstrumentation.java", "diffHunk": "@@ -0,0 +1,93 @@\n+/*\n+ * Copyright The OpenTelemetry Authors\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package datadog.trace.instrumentation.guava10;\n+\n+import static java.util.Collections.singletonMap;\n+import static net.bytebuddy.matcher.ElementMatchers.named;\n+\n+import com.google.auto.service.AutoService;\n+import com.google.common.util.concurrent.AbstractFuture;\n+import io.grpc.Context;\n+import io.opentelemetry.instrumentation.auto.api.ContextStore;\n+import io.opentelemetry.instrumentation.auto.api.InstrumentationContext;\n+import io.opentelemetry.instrumentation.auto.api.concurrent.ExecutorInstrumentationUtils;\n+import io.opentelemetry.instrumentation.auto.api.concurrent.RunnableWrapper;\n+import io.opentelemetry.instrumentation.auto.api.concurrent.State;\n+import io.opentelemetry.javaagent.tooling.Instrumenter;\n+import java.util.Map;\n+import java.util.concurrent.Executor;\n+import net.bytebuddy.asm.Advice;\n+import net.bytebuddy.description.method.MethodDescription;\n+import net.bytebuddy.description.type.TypeDescription;\n+import net.bytebuddy.matcher.ElementMatcher;\n+import net.bytebuddy.matcher.ElementMatchers;\n+\n+@AutoService(Instrumenter.class)\n+public class ListenableFutureInstrumentation extends Instrumenter.Default {\n+\n+  public ListenableFutureInstrumentation() {\n+    super(\"guava\");\n+  }\n+\n+  @Override\n+  public ElementMatcher<TypeDescription> typeMatcher() {\n+    return named(\"com.google.common.util.concurrent.AbstractFuture\");\n+  }\n+\n+  @Override\n+  public Map<String, String> contextStore() {\n+    return singletonMap(Runnable.class.getName(), State.class.getName());\n+  }\n+\n+  @Override\n+  public Map<? extends ElementMatcher<? super MethodDescription>, String> transformers() {\n+    return singletonMap(\n+        named(\"addListener\").and(ElementMatchers.takesArguments(Runnable.class, Executor.class)),\n+        ListenableFutureInstrumentation.class.getName() + \"$AddListenerAdvice\");\n+  }\n+\n+  public static class AddListenerAdvice {\n+    @Advice.OnMethodEnter(suppress = Throwable.class)\n+    public static State addListenerEnter(\n+        @Advice.Argument(value = 0, readOnly = false) Runnable task,\n+        @Advice.Argument(1) final Executor executor) {\n+      final Context context = Context.current();\n+      final Runnable newTask = RunnableWrapper.wrapIfNeeded(task);\n+      // It is important to check potentially wrapped task if we can instrument task in this\n+      // executor. Some executors do not support wrapped tasks.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4ec4e36a1248c7c7eefe67687e5ab8f1436af9ab"}, "originalPosition": 71}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODE0MDA5Mg==", "bodyText": "I think both properties should be inside ConfigUtils.updateConfig", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1107#discussion_r478140092", "createdAt": "2020-08-27T05:31:27Z", "author": {"login": "iNikem"}, "path": "instrumentation/hystrix-1.4/src/test/groovy/HystrixObservableChainTest.groovy", "diffHunk": "@@ -19,13 +19,17 @@ import static io.opentelemetry.auto.test.utils.TraceUtils.runUnderTrace\n \n import com.netflix.hystrix.HystrixObservableCommand\n import io.opentelemetry.auto.test.AgentTestRunner\n+import io.opentelemetry.auto.test.utils.ConfigUtils\n import rx.Observable\n import rx.schedulers.Schedulers\n \n class HystrixObservableChainTest extends AgentTestRunner {\n   static {\n     // Disable so failure testing below doesn't inadvertently change the behavior.\n     System.setProperty(\"hystrix.command.default.circuitBreaker.enabled\", \"false\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4ec4e36a1248c7c7eefe67687e5ab8f1436af9ab"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODE0MDE2Ng==", "bodyText": "Same here", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1107#discussion_r478140166", "createdAt": "2020-08-27T05:31:37Z", "author": {"login": "iNikem"}, "path": "instrumentation/hystrix-1.4/src/test/groovy/HystrixObservableTest.groovy", "diffHunk": "@@ -30,6 +31,9 @@ class HystrixObservableTest extends AgentTestRunner {\n   static {\n     // Disable so failure testing below doesn't inadvertently change the behavior.\n     System.setProperty(\"hystrix.command.default.circuitBreaker.enabled\", \"false\")\n+    ConfigUtils.updateConfig {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4ec4e36a1248c7c7eefe67687e5ab8f1436af9ab"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODE0MDI1Ng==", "bodyText": "And here", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1107#discussion_r478140256", "createdAt": "2020-08-27T05:31:47Z", "author": {"login": "iNikem"}, "path": "instrumentation/hystrix-1.4/src/test/groovy/HystrixTest.groovy", "diffHunk": "@@ -28,6 +29,9 @@ class HystrixTest extends AgentTestRunner {\n   static {\n     // Disable so failure testing below doesn't inadvertently change the behavior.\n     System.setProperty(\"hystrix.command.default.circuitBreaker.enabled\", \"false\")\n+    ConfigUtils.updateConfig {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4ec4e36a1248c7c7eefe67687e5ab8f1436af9ab"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODE0MzMxMA==", "bodyText": "This certainly needs javadoc", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1107#discussion_r478143310", "createdAt": "2020-08-27T05:36:49Z", "author": {"login": "iNikem"}, "path": "instrumentation/spring/spring-webflux-5.0/spring-webflux-5.0-library/src/main/java/io/opentelemetry/instrumentation/spring/webflux/client/SpringWebfluxHttpClientTracer.java", "diffHunk": "@@ -76,4 +87,13 @@ protected String getInstrumentationName() {\n   public Tracer getTracer() {\n     return tracer;\n   }\n+\n+  private static MethodHandle findRawStatusCode() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4ec4e36a1248c7c7eefe67687e5ab8f1436af9ab"}, "originalPosition": 37}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODE0NDIxNw==", "bodyText": "Why this change? Old code seems better to me :)", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1107#discussion_r478144217", "createdAt": "2020-08-27T05:38:19Z", "author": {"login": "iNikem"}, "path": "javaagent-tooling/src/test/groovy/io/opentelemetry/javaagent/test/DefaultInstrumenterTest.groovy", "diffHunk": "@@ -93,9 +93,8 @@ class DefaultInstrumenterTest extends AgentSpecification {\n \n   def \"configure default sys prop as #value\"() {\n     setup:\n-    ConfigUtils.updateConfig {\n-      System.setProperty(\"otel.integrations.enabled\", value)\n-    }\n+    System.setProperty(\"otel.integrations.enabled\", value)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4ec4e36a1248c7c7eefe67687e5ab8f1436af9ab"}, "originalPosition": 7}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4ec4e36a1248c7c7eefe67687e5ab8f1436af9ab", "author": {"user": {"login": "richardstartin", "name": "Richard Startin"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/4ec4e36a1248c7c7eefe67687e5ab8f1436af9ab", "committedDate": "2020-08-27T04:16:08Z", "message": "allow context propagation for kafka tombstones (DataDog/dd-trace-java#1754)"}, "afterCommit": {"oid": "7935668043648da648079a680e06145610b4a5ca", "author": {"user": {"login": "richardstartin", "name": "Richard Startin"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/7935668043648da648079a680e06145610b4a5ca", "committedDate": "2020-08-27T18:36:40Z", "message": "allow context propagation for kafka tombstones (DataDog/dd-trace-java#1754)"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7935668043648da648079a680e06145610b4a5ca", "author": {"user": {"login": "richardstartin", "name": "Richard Startin"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/7935668043648da648079a680e06145610b4a5ca", "committedDate": "2020-08-27T18:36:40Z", "message": "allow context propagation for kafka tombstones (DataDog/dd-trace-java#1754)"}, "afterCommit": {"oid": "b78b2db7be966cac1edcf5bbb5646657d28a5a3c", "author": {"user": {"login": "richardstartin", "name": "Richard Startin"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/b78b2db7be966cac1edcf5bbb5646657d28a5a3c", "committedDate": "2020-08-30T04:27:01Z", "message": "allow context propagation for kafka tombstones (DataDog/dd-trace-java#1754)"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "854c6785869201e75955b8a968f5613fe542346e", "author": {"user": {"login": "trask", "name": "Trask Stalnaker"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/854c6785869201e75955b8a968f5613fe542346e", "committedDate": "2020-08-30T05:19:56Z", "message": "fixup! Config class should be loaded on the bootstrap for instrumentation tests"}, "afterCommit": {"oid": "7f9f61cc2dea4bbd7a251edaae19893751b0e3f1", "author": {"user": {"login": "trask", "name": "Trask Stalnaker"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/7f9f61cc2dea4bbd7a251edaae19893751b0e3f1", "committedDate": "2020-08-30T05:28:41Z", "message": "Revert \"Config class should be loaded on the bootstrap for instrumentation tests\"\n\nThis reverts commit 4b6af486e62884a9af64a2446a6707152546a966."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc4MzE5MjE5", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1107#pullrequestreview-478319219", "createdAt": "2020-08-31T05:37:44Z", "commit": {"oid": "7f9f61cc2dea4bbd7a251edaae19893751b0e3f1"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e6be98f0e0dc695e1863d7fdc3cc8ba37cd8d2c7", "author": {"user": {"login": "tylerbenson", "name": "Tyler Benson"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/e6be98f0e0dc695e1863d7fdc3cc8ba37cd8d2c7", "committedDate": "2020-09-01T17:24:52Z", "message": "Add classloader matcher to validate scala/akka presence (DataDog/dd-trace-java#1669)"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7f9f61cc2dea4bbd7a251edaae19893751b0e3f1", "author": {"user": {"login": "trask", "name": "Trask Stalnaker"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/7f9f61cc2dea4bbd7a251edaae19893751b0e3f1", "committedDate": "2020-08-30T05:28:41Z", "message": "Revert \"Config class should be loaded on the bootstrap for instrumentation tests\"\n\nThis reverts commit 4b6af486e62884a9af64a2446a6707152546a966."}, "afterCommit": {"oid": "ea619fb16b4bfd5acadcca93eec8c06a19c62818", "author": {"user": {"login": "richardstartin", "name": "Richard Startin"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/ea619fb16b4bfd5acadcca93eec8c06a19c62818", "committedDate": "2020-09-01T17:24:54Z", "message": "allow context propagation for kafka tombstones (DataDog/dd-trace-java#1754)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d7d46b2ef9e66b94c9f46837e8961acef37390d3", "author": {"user": {"login": "tylerbenson", "name": "Tyler Benson"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/d7d46b2ef9e66b94c9f46837e8961acef37390d3", "committedDate": "2020-09-01T17:31:23Z", "message": "Add instrumentation for Guava ListenableFutures context propagation (DataDog/dd-trace-java#1665)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9e20571dabad856737ddbb5bff5609b4c1716c84", "author": {"user": {"login": "tylerbenson", "name": "Tyler Benson"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/9e20571dabad856737ddbb5bff5609b4c1716c84", "committedDate": "2020-09-01T17:31:23Z", "message": "Separate out Akka ForkJoinPool instrumentation from java_concurrent (DataDog/dd-trace-java#1685)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9f4c1ae578a4675e8666eacf5d04d5a04aef2790", "author": {"user": {"login": "tylerbenson", "name": "Tyler Benson"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/9f4c1ae578a4675e8666eacf5d04d5a04aef2790", "committedDate": "2020-09-01T17:31:23Z", "message": "Separate out Scala ForkJoinPool instrumentation from java_concurrent (DataDog/dd-trace-java#1687)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4f7e97c0d6b7d078c06b5cfc55e41be87d921d12", "author": {"user": {"login": "randomanderson", "name": "Laplie Anderson"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/4f7e97c0d6b7d078c06b5cfc55e41be87d921d12", "committedDate": "2020-09-01T17:31:23Z", "message": "Fix Spring filter instrumentation edge case (DataDog/dd-trace-java#1700)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "32fb96318b0308d798cfd729b5469931b1805571", "author": {"user": {"login": "randomanderson", "name": "Laplie Anderson"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/32fb96318b0308d798cfd729b5469931b1805571", "committedDate": "2020-09-01T17:31:24Z", "message": "Fix finatra tests for latest dependencies (DataDog/dd-trace-java#1706)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e2aca0f378457278ed877d1f4b0f77fdace0d162", "author": {"user": {"login": "tylerbenson", "name": "Tyler Benson"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/e2aca0f378457278ed877d1f4b0f77fdace0d162", "committedDate": "2020-09-01T17:31:24Z", "message": "Add muzzle reference detection for invokedynamic calls. (DataDog/dd-trace-java#1712)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0d4fe92296eecf6772cc2f1cbd92bb3df8ee9742", "author": {"user": {"login": "richardstartin", "name": "Richard Startin"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/0d4fe92296eecf6772cc2f1cbd92bb3df8ee9742", "committedDate": "2020-09-01T17:31:24Z", "message": "use spring-webflux-5.1+ ClientResponse.rawStatusCode when available (DataDog/dd-trace-java#1711)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0cc35d36e535de6ebf26da6c8d2dc43b90a51cc2", "author": {"user": {"login": "tylerbenson", "name": "Tyler Benson"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/0cc35d36e535de6ebf26da6c8d2dc43b90a51cc2", "committedDate": "2020-09-01T17:31:24Z", "message": "Move Spring Scheduling RunnableWrapper to separate class (DataDog/dd-trace-java#1717)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f7b32e4fd54d52b7ed40b0c76a4a3b55e7365ad2", "author": {"user": {"login": "tylerbenson", "name": "Tyler Benson"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/f7b32e4fd54d52b7ed40b0c76a4a3b55e7365ad2", "committedDate": "2020-09-01T17:31:24Z", "message": "Enable Async Propagation of trace in Kafka producer callback (DataDog/dd-trace-java#1727)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a012143ac0cf2fd7627439e3bbca5da6efc8d180", "author": {"user": {"login": "richardstartin", "name": "Richard Startin"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/a012143ac0cf2fd7627439e3bbca5da6efc8d180", "committedDate": "2020-09-01T17:31:24Z", "message": "don't cache classloaders which can be skipped by name (DataDog/dd-trace-java#1732)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "80ee4f1d7c8ee02961895b9c2f0bbe8d3b93652d", "author": {"user": {"login": "richardstartin", "name": "Richard Startin"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/80ee4f1d7c8ee02961895b9c2f0bbe8d3b93652d", "committedDate": "2020-09-01T17:31:24Z", "message": "verify spring-scheduling supports lambdas (DataDog/dd-trace-java#1750)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "278672595b8ef04492748a7705c5e5c5486233e2", "author": {"user": {"login": "richardstartin", "name": "Richard Startin"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/278672595b8ef04492748a7705c5e5c5486233e2", "committedDate": "2020-09-01T17:31:24Z", "message": "disable hystrix tags by default, enabled by system property (DataDog/dd-trace-java#1743)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "43d53c9c0623c381b276c7be7114113182fbb956", "author": {"user": {"login": "richardstartin", "name": "Richard Startin"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/43d53c9c0623c381b276c7be7114113182fbb956", "committedDate": "2020-09-01T17:31:24Z", "message": "allow context propagation for kafka tombstones (DataDog/dd-trace-java#1754)"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ea619fb16b4bfd5acadcca93eec8c06a19c62818", "author": {"user": {"login": "richardstartin", "name": "Richard Startin"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/ea619fb16b4bfd5acadcca93eec8c06a19c62818", "committedDate": "2020-09-01T17:24:54Z", "message": "allow context propagation for kafka tombstones (DataDog/dd-trace-java#1754)"}, "afterCommit": {"oid": "43d53c9c0623c381b276c7be7114113182fbb956", "author": {"user": {"login": "richardstartin", "name": "Richard Startin"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/43d53c9c0623c381b276c7be7114113182fbb956", "committedDate": "2020-09-01T17:31:24Z", "message": "allow context propagation for kafka tombstones (DataDog/dd-trace-java#1754)"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2501, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}