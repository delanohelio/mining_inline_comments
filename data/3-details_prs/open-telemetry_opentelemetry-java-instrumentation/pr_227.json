{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg3MDc1MDkz", "number": 227, "title": "Update instrumentation to be compliant with HTTP semantic conventions", "bodyText": "Resolves #136", "createdAt": "2020-03-12T07:03:29Z", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/227", "merged": true, "mergeCommit": {"oid": "5b1218cdb86fd57cc9c179cb5adf046559c92391"}, "closed": true, "closedAt": "2020-03-13T01:49:53Z", "author": {"login": "hanwavefront"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcKlQTOgH2gAyMzg3MDc1MDkzOjFhZWMzZjRhZTU4MmI1OGVlMjhmODAxNDM4ODYzNzQ2ZTRmMGJkNDk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcNGG_lAH2gAyMzg3MDc1MDkzOjNhNGE3ODljNDc3MWMzYjNlNWE2MzU0NWIyZTNkNTI0MmQxZjdkYjA=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "1aec3f4ae582b58ee28f801438863746e4f0bd49", "author": {"user": {"login": "hanwavefront", "name": "Han Zhang"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/1aec3f4ae582b58ee28f801438863746e4f0bd49", "committedDate": "2020-03-05T06:09:37Z", "message": "Update HTTP client-side span names"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a70de8a3b26b65912189d2391861e1719b5b673d", "author": {"user": {"login": "hanwavefront", "name": "Han Zhang"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/a70de8a3b26b65912189d2391861e1719b5b673d", "committedDate": "2020-03-06T02:15:20Z", "message": "Add query and fragment to  http.url for HTTP client spans"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "49a5290f32d2e080bc34594b348a4528bb2f469d", "author": {"user": {"login": "hanwavefront", "name": "Han Zhang"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/49a5290f32d2e080bc34594b348a4528bb2f469d", "committedDate": "2020-03-06T09:21:29Z", "message": "Add query and fragment to http.url for HTTP server spans"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5ce10c0da3df27b469bdc29e2b0f8c400ddedb23", "author": {"user": {"login": "hanwavefront", "name": "Han Zhang"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/5ce10c0da3df27b469bdc29e2b0f8c400ddedb23", "committedDate": "2020-03-11T22:11:40Z", "message": "Update HTTP server span names to be the matched route or resource"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d425bb41cc5216375ecfa2a8347462fba5e2eaca", "author": {"user": {"login": "hanwavefront", "name": "Han Zhang"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/d425bb41cc5216375ecfa2a8347462fba5e2eaca", "committedDate": "2020-03-12T04:36:50Z", "message": "Use net.peer.* instead of peer.* attributes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c9adf2eff64b7174223132118190dcbf0b26e015", "author": {"user": {"login": "hanwavefront", "name": "Han Zhang"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/c9adf2eff64b7174223132118190dcbf0b26e015", "committedDate": "2020-03-12T05:04:54Z", "message": "Merge branch 'master' into http-semantics"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bce54310f84f8abe8b659ea85e401eaef29e69bf", "author": {"user": {"login": "hanwavefront", "name": "Han Zhang"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/bce54310f84f8abe8b659ea85e401eaef29e69bf", "committedDate": "2020-03-12T06:54:02Z", "message": "Formatting"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1e0bc3e61b66567d6591d8cd2bcee1dcab5b21a9", "author": {"user": {"login": "hanwavefront", "name": "Han Zhang"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/1e0bc3e61b66567d6591d8cd2bcee1dcab5b21a9", "committedDate": "2020-03-12T08:54:16Z", "message": "Clean up imports"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzczOTE2MzYx", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/227#pullrequestreview-373916361", "createdAt": "2020-03-12T21:30:08Z", "commit": {"oid": "1e0bc3e61b66567d6591d8cd2bcee1dcab5b21a9"}, "state": "APPROVED", "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMlQyMTozNTo1N1rOF1wX4Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMlQyMTo0Njo0M1rOF1w3NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTkxMTM5Mw==", "bodyText": "\ud83d\udc4d", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/227#discussion_r391911393", "createdAt": "2020-03-12T21:35:57Z", "author": {"login": "trask"}, "path": "instrumentation/dropwizard-testing/src/test/groovy/DropwizardTest.groovy", "diffHunk": "@@ -94,6 +91,11 @@ class DropwizardTest extends HttpServerTest<DropwizardTestSupport, Servlet3Decor\n     false\n   }\n \n+  @Override\n+  boolean testPathParam() {\n+    true\n+  }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1e0bc3e61b66567d6591d8cd2bcee1dcab5b21a9"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTkxMzA4OQ==", "bodyText": "\ud83d\udc4d", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/227#discussion_r391913089", "createdAt": "2020-03-12T21:38:13Z", "author": {"login": "trask"}, "path": "instrumentation/finatra-2.9/src/main/java/io/opentelemetry/auto/instrumentation/finatra/FinatraInstrumentation.java", "diffHunk": "@@ -91,15 +92,16 @@ public FinatraInstrumentation() {\n     @Advice.OnMethodEnter(suppress = Throwable.class)\n     public static SpanWithScope nameSpan(\n         @Advice.Argument(0) final Request request,\n-        @Advice.FieldValue(\"path\") final String path,\n+        @Advice.FieldValue(\"routeInfo\") final RouteInfo routeInfo,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1e0bc3e61b66567d6591d8cd2bcee1dcab5b21a9"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTkxMzMxOQ==", "bodyText": "\ud83d\udc4d", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/227#discussion_r391913319", "createdAt": "2020-03-12T21:38:32Z", "author": {"login": "trask"}, "path": "instrumentation/finatra-2.9/src/test/groovy/FinatraServerTest.groovy", "diffHunk": "@@ -80,8 +81,8 @@ class FinatraServerTest extends HttpServerTest<HttpServer, FinatraDecorator> {\n   }\n \n   @Override\n-  String expectedOperationName() {\n-    return \"finatra.request\"\n+  boolean testPathParam() {\n+    true", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1e0bc3e61b66567d6591d8cd2bcee1dcab5b21a9"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTkxNzkxNQ==", "bodyText": "\ud83d\udc4d", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/227#discussion_r391917915", "createdAt": "2020-03-12T21:44:43Z", "author": {"login": "trask"}, "path": "instrumentation/ratpack-1.4/src/test/groovy/server/RatpackHttpServerTest.groovy", "diffHunk": "@@ -109,28 +117,28 @@ class RatpackHttpServerTest extends HttpServerTest<EmbeddedApp, NettyHttpServerD\n   }\n \n   @Override\n-  String expectedOperationName() {\n-    \"netty.request\"\n+  boolean hasHandlerSpan() {\n+    true\n   }\n \n   @Override\n-  boolean hasHandlerSpan() {\n+  boolean testPathParam() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1e0bc3e61b66567d6591d8cd2bcee1dcab5b21a9"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTkxOTQxMw==", "bodyText": "\ud83d\udc4d", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/227#discussion_r391919413", "createdAt": "2020-03-12T21:46:43Z", "author": {"login": "trask"}, "path": "instrumentation/spring-webmvc-3.1/src/test/groovy/test/SpringBootBasedTest.groovy", "diffHunk": "@@ -77,6 +73,11 @@ class SpringBootBasedTest extends HttpServerTest<ConfigurableApplicationContext,\n     false\n   }\n \n+  @Override\n+  boolean testPathParam() {\n+    true", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1e0bc3e61b66567d6591d8cd2bcee1dcab5b21a9"}, "originalPosition": 26}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3a4a789c4771c3b3e5a63545b2e3d5242d1f7db0", "author": {"user": {"login": "trask", "name": "Trask Stalnaker"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/3a4a789c4771c3b3e5a63545b2e3d5242d1f7db0", "committedDate": "2020-03-13T01:34:10Z", "message": "Merge branch 'master' into http-semantics"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3337, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}