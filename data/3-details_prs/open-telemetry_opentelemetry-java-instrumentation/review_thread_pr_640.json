{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ0OTU4MTY2", "number": 640, "reviewThreads": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QwNjoxODoyOVrOEL8HIQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOVQwMTo0NjoyMVrOEMtkqg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgwOTU0NjU3OnYy", "diffSide": "RIGHT", "path": "instrumentation-core/spring/spring-core/spring-core.gradle", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QwNjoxODoyOVrOGtwhCw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QxMzozOTo0MlrOGt_BoA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDYzMzk5NQ==", "bodyText": "Is this used?", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/640#discussion_r450633995", "createdAt": "2020-07-07T06:18:29Z", "author": {"login": "anuraaga"}, "path": "instrumentation-core/spring/spring-core/spring-core.gradle", "diffHunk": "@@ -0,0 +1,27 @@\n+ext {\n+  minJavaVersionForTests = JavaVersion.VERSION_1_8\n+}\n+\n+group = 'io.opentelemetry.spring.instrumentation'\n+version = '0.0.1-SNAPSHOT'\n+\n+apply plugin: 'java'\n+apply from: \"$rootDir/gradle/java.gradle\"\n+\n+sourceCompatibility = '8'\n+\n+dependencies {\n+  implementation \"org.springframework:spring-context:3.1.0.RELEASE\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d461aee72d9dc63fa0db81d23c211d3421608460"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDg3MTcxMg==", "bodyText": "Nope, I'll remove it", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/640#discussion_r450871712", "createdAt": "2020-07-07T13:39:42Z", "author": {"login": "mabdinur"}, "path": "instrumentation-core/spring/spring-core/spring-core.gradle", "diffHunk": "@@ -0,0 +1,27 @@\n+ext {\n+  minJavaVersionForTests = JavaVersion.VERSION_1_8\n+}\n+\n+group = 'io.opentelemetry.spring.instrumentation'\n+version = '0.0.1-SNAPSHOT'\n+\n+apply plugin: 'java'\n+apply from: \"$rootDir/gradle/java.gradle\"\n+\n+sourceCompatibility = '8'\n+\n+dependencies {\n+  implementation \"org.springframework:spring-context:3.1.0.RELEASE\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDYzMzk5NQ=="}, "originalCommit": {"oid": "d461aee72d9dc63fa0db81d23c211d3421608460"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgwOTU0NzkyOnYy", "diffSide": "RIGHT", "path": "instrumentation-core/spring/spring-core/spring-core.gradle", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QwNjoxOTowN1rOGtwh7Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QwNjoxOTowN1rOGtwh7Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDYzNDIyMQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              implementation \"org.springframework:spring-webmvc:3.1.0.RELEASE\"\n          \n          \n            \n              api \"org.springframework:spring-webmvc:3.1.0.RELEASE\"\n          \n      \n    \n    \n  \n\nYou expose this in the API of this module (you have a public class of type ClientHttpRequestInterceptor)", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/640#discussion_r450634221", "createdAt": "2020-07-07T06:19:07Z", "author": {"login": "anuraaga"}, "path": "instrumentation-core/spring/spring-core/spring-core.gradle", "diffHunk": "@@ -0,0 +1,27 @@\n+ext {\n+  minJavaVersionForTests = JavaVersion.VERSION_1_8\n+}\n+\n+group = 'io.opentelemetry.spring.instrumentation'\n+version = '0.0.1-SNAPSHOT'\n+\n+apply plugin: 'java'\n+apply from: \"$rootDir/gradle/java.gradle\"\n+\n+sourceCompatibility = '8'\n+\n+dependencies {\n+  implementation \"org.springframework:spring-context:3.1.0.RELEASE\"\n+  implementation \"org.springframework:spring-webmvc:3.1.0.RELEASE\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d461aee72d9dc63fa0db81d23c211d3421608460"}, "originalPosition": 15}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgwOTU0OTIxOnYy", "diffSide": "RIGHT", "path": "instrumentation-core/spring/spring-core/spring-core.gradle", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QwNjoxOTo0NlrOGtwi0Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QwNjoxOTo0NlrOGtwi0Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDYzNDQ0OQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              compileOnly deps.opentelemetryApi\n          \n          \n            \n              implementation deps.opentelemetryApi\n          \n      \n    \n    \n  \n\nManual instrumentation requires this so we make sure the POM reflects it", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/640#discussion_r450634449", "createdAt": "2020-07-07T06:19:46Z", "author": {"login": "anuraaga"}, "path": "instrumentation-core/spring/spring-core/spring-core.gradle", "diffHunk": "@@ -0,0 +1,27 @@\n+ext {\n+  minJavaVersionForTests = JavaVersion.VERSION_1_8\n+}\n+\n+group = 'io.opentelemetry.spring.instrumentation'\n+version = '0.0.1-SNAPSHOT'\n+\n+apply plugin: 'java'\n+apply from: \"$rootDir/gradle/java.gradle\"\n+\n+sourceCompatibility = '8'\n+\n+dependencies {\n+  implementation \"org.springframework:spring-context:3.1.0.RELEASE\"\n+  implementation \"org.springframework:spring-webmvc:3.1.0.RELEASE\"\n+\n+  compileOnly deps.opentelemetryApi", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d461aee72d9dc63fa0db81d23c211d3421608460"}, "originalPosition": 17}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgwOTU1MDYwOnYy", "diffSide": "RIGHT", "path": "instrumentation-core/spring/spring-core/spring-core.gradle", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QwNjoyMDoxOVrOGtwjrA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QwNjoyMDoxOVrOGtwjrA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDYzNDY2OA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              compileOnly deps.opentelemetrySdk\n          \n          \n            \n              compileOnly \"io.opentelemetry:opentelemetry-exporters-logging:0.5.0\"\n          \n      \n    \n    \n  \n\nNot used (instrumentation would never depend on the SDK, only API). You may need to add to testImplementation if needed", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/640#discussion_r450634668", "createdAt": "2020-07-07T06:20:19Z", "author": {"login": "anuraaga"}, "path": "instrumentation-core/spring/spring-core/spring-core.gradle", "diffHunk": "@@ -0,0 +1,27 @@\n+ext {\n+  minJavaVersionForTests = JavaVersion.VERSION_1_8\n+}\n+\n+group = 'io.opentelemetry.spring.instrumentation'\n+version = '0.0.1-SNAPSHOT'\n+\n+apply plugin: 'java'\n+apply from: \"$rootDir/gradle/java.gradle\"\n+\n+sourceCompatibility = '8'\n+\n+dependencies {\n+  implementation \"org.springframework:spring-context:3.1.0.RELEASE\"\n+  implementation \"org.springframework:spring-webmvc:3.1.0.RELEASE\"\n+\n+  compileOnly deps.opentelemetryApi\n+  compileOnly deps.opentelemetrySdk\n+  compileOnly \"io.opentelemetry:opentelemetry-exporters-logging:0.5.0\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d461aee72d9dc63fa0db81d23c211d3421608460"}, "originalPosition": 19}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgwOTU1MzIyOnYy", "diffSide": "RIGHT", "path": "instrumentation-core/spring/spring-core/src/main/java/io/opentelemetry/spring/instrumentation/httpclients/RestTemplateInterceptorTest.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QwNjoyMTozOFrOGtwlVw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QxMzo0NTo0MlrOGt_RyQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDYzNTA5NQ==", "bodyText": "This class should not be named Test. Also, this is an interceptor that uses opentelemetry, so better name is OpenTelemetryRequestInterceptor", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/640#discussion_r450635095", "createdAt": "2020-07-07T06:21:38Z", "author": {"login": "anuraaga"}, "path": "instrumentation-core/spring/spring-core/src/main/java/io/opentelemetry/spring/instrumentation/httpclients/RestTemplateInterceptorTest.java", "diffHunk": "@@ -0,0 +1,67 @@\n+/*\n+ * Copyright The OpenTelemetry Authors\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package io.opentelemetry.spring.instrumentation.httpclients;\n+\n+import io.grpc.Context;\n+import io.opentelemetry.OpenTelemetry;\n+import io.opentelemetry.context.Scope;\n+import io.opentelemetry.context.propagation.HttpTextFormat;\n+import io.opentelemetry.trace.Span;\n+import io.opentelemetry.trace.Tracer;\n+import java.io.IOException;\n+import org.springframework.http.HttpRequest;\n+import org.springframework.http.client.ClientHttpRequestExecution;\n+import org.springframework.http.client.ClientHttpRequestInterceptor;\n+import org.springframework.http.client.ClientHttpResponse;\n+\n+/** Wraps RestTemplate requests in a span. Adds the current span context to request headers. */\n+public final class RestTemplateInterceptorTest implements ClientHttpRequestInterceptor {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d461aee72d9dc63fa0db81d23c211d3421608460"}, "originalPosition": 32}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDg3NTg0OQ==", "bodyText": "Yes, this was a mistake. I though I renamed a test and not the main java file. I'll fix this", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/640#discussion_r450875849", "createdAt": "2020-07-07T13:45:42Z", "author": {"login": "mabdinur"}, "path": "instrumentation-core/spring/spring-core/src/main/java/io/opentelemetry/spring/instrumentation/httpclients/RestTemplateInterceptorTest.java", "diffHunk": "@@ -0,0 +1,67 @@\n+/*\n+ * Copyright The OpenTelemetry Authors\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package io.opentelemetry.spring.instrumentation.httpclients;\n+\n+import io.grpc.Context;\n+import io.opentelemetry.OpenTelemetry;\n+import io.opentelemetry.context.Scope;\n+import io.opentelemetry.context.propagation.HttpTextFormat;\n+import io.opentelemetry.trace.Span;\n+import io.opentelemetry.trace.Tracer;\n+import java.io.IOException;\n+import org.springframework.http.HttpRequest;\n+import org.springframework.http.client.ClientHttpRequestExecution;\n+import org.springframework.http.client.ClientHttpRequestInterceptor;\n+import org.springframework.http.client.ClientHttpResponse;\n+\n+/** Wraps RestTemplate requests in a span. Adds the current span context to request headers. */\n+public final class RestTemplateInterceptorTest implements ClientHttpRequestInterceptor {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDYzNTA5NQ=="}, "originalCommit": {"oid": "d461aee72d9dc63fa0db81d23c211d3421608460"}, "originalPosition": 32}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgwOTU1NjkwOnYy", "diffSide": "RIGHT", "path": "instrumentation-core/spring/spring-core/spring-core.gradle", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QwNjoyMzoyNFrOGtwnxg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QwNjoyMzoyNFrOGtwnxg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDYzNTcxOA==", "bodyText": "It looks like we're targeting an old version of spring which is good since it means we can support more apps. But it means we should stick with default Java 7", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/640#discussion_r450635718", "createdAt": "2020-07-07T06:23:24Z", "author": {"login": "anuraaga"}, "path": "instrumentation-core/spring/spring-core/spring-core.gradle", "diffHunk": "@@ -0,0 +1,27 @@\n+ext {\n+  minJavaVersionForTests = JavaVersion.VERSION_1_8\n+}\n+\n+group = 'io.opentelemetry.spring.instrumentation'\n+version = '0.0.1-SNAPSHOT'\n+\n+apply plugin: 'java'\n+apply from: \"$rootDir/gradle/java.gradle\"\n+\n+sourceCompatibility = '8'", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d461aee72d9dc63fa0db81d23c211d3421608460"}, "originalPosition": 11}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgwOTU2MDE3OnYy", "diffSide": "RIGHT", "path": "instrumentation-core/spring/spring-core/src/main/java/io/opentelemetry/spring/instrumentation/httpclients/RestTemplateInterceptorTest.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QwNjoyNDo0MFrOGtwp3A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QwNjoyNDo0MFrOGtwp3A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDYzNjI1Mg==", "bodyText": "Package should be io.opentelemetry.instrumentation.spring.httpclients", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/640#discussion_r450636252", "createdAt": "2020-07-07T06:24:40Z", "author": {"login": "anuraaga"}, "path": "instrumentation-core/spring/spring-core/src/main/java/io/opentelemetry/spring/instrumentation/httpclients/RestTemplateInterceptorTest.java", "diffHunk": "@@ -0,0 +1,67 @@\n+/*\n+ * Copyright The OpenTelemetry Authors\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package io.opentelemetry.spring.instrumentation.httpclients;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d461aee72d9dc63fa0db81d23c211d3421608460"}, "originalPosition": 17}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgwOTU2MTMyOnYy", "diffSide": "RIGHT", "path": "instrumentation-core/spring/spring-core/src/main/java/io/opentelemetry/spring/instrumentation/httpclients/RestTemplateInterceptorTest.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QwNjoyNToxNFrOGtwqlQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QxNDoxMzowNlrOGuAhDg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDYzNjQzNw==", "bodyText": "@Autowired perhaps", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/640#discussion_r450636437", "createdAt": "2020-07-07T06:25:14Z", "author": {"login": "anuraaga"}, "path": "instrumentation-core/spring/spring-core/src/main/java/io/opentelemetry/spring/instrumentation/httpclients/RestTemplateInterceptorTest.java", "diffHunk": "@@ -0,0 +1,67 @@\n+/*\n+ * Copyright The OpenTelemetry Authors\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package io.opentelemetry.spring.instrumentation.httpclients;\n+\n+import io.grpc.Context;\n+import io.opentelemetry.OpenTelemetry;\n+import io.opentelemetry.context.Scope;\n+import io.opentelemetry.context.propagation.HttpTextFormat;\n+import io.opentelemetry.trace.Span;\n+import io.opentelemetry.trace.Tracer;\n+import java.io.IOException;\n+import org.springframework.http.HttpRequest;\n+import org.springframework.http.client.ClientHttpRequestExecution;\n+import org.springframework.http.client.ClientHttpRequestInterceptor;\n+import org.springframework.http.client.ClientHttpResponse;\n+\n+/** Wraps RestTemplate requests in a span. Adds the current span context to request headers. */\n+public final class RestTemplateInterceptorTest implements ClientHttpRequestInterceptor {\n+\n+  private static final HttpTextFormat.Setter<HttpRequest> SETTER =\n+      new HttpTextFormat.Setter<HttpRequest>() {\n+        @Override\n+        public void set(HttpRequest carrier, String key, String value) {\n+          carrier.getHeaders().set(key, value);\n+        }\n+      };\n+\n+  private final Tracer tracer;\n+\n+  public RestTemplateInterceptorTest(Tracer tracer) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d461aee72d9dc63fa0db81d23c211d3421608460"}, "originalPosition": 44}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDg5NjE0Mg==", "bodyText": "I'm not sure if autowiring the Tracer in RestTemplateInterceptor makes the most sense here. I plan to initialize a RestTemplateInterceptor object in an autoconfigure project using this constructor RestTemplateInterceptor(Tracer tracer). Based on my current design this object will never be handle by Spring's IoC container. Does this approach make sense?", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/640#discussion_r450896142", "createdAt": "2020-07-07T14:13:06Z", "author": {"login": "mabdinur"}, "path": "instrumentation-core/spring/spring-core/src/main/java/io/opentelemetry/spring/instrumentation/httpclients/RestTemplateInterceptorTest.java", "diffHunk": "@@ -0,0 +1,67 @@\n+/*\n+ * Copyright The OpenTelemetry Authors\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package io.opentelemetry.spring.instrumentation.httpclients;\n+\n+import io.grpc.Context;\n+import io.opentelemetry.OpenTelemetry;\n+import io.opentelemetry.context.Scope;\n+import io.opentelemetry.context.propagation.HttpTextFormat;\n+import io.opentelemetry.trace.Span;\n+import io.opentelemetry.trace.Tracer;\n+import java.io.IOException;\n+import org.springframework.http.HttpRequest;\n+import org.springframework.http.client.ClientHttpRequestExecution;\n+import org.springframework.http.client.ClientHttpRequestInterceptor;\n+import org.springframework.http.client.ClientHttpResponse;\n+\n+/** Wraps RestTemplate requests in a span. Adds the current span context to request headers. */\n+public final class RestTemplateInterceptorTest implements ClientHttpRequestInterceptor {\n+\n+  private static final HttpTextFormat.Setter<HttpRequest> SETTER =\n+      new HttpTextFormat.Setter<HttpRequest>() {\n+        @Override\n+        public void set(HttpRequest carrier, String key, String value) {\n+          carrier.getHeaders().set(key, value);\n+        }\n+      };\n+\n+  private final Tracer tracer;\n+\n+  public RestTemplateInterceptorTest(Tracer tracer) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDYzNjQzNw=="}, "originalCommit": {"oid": "d461aee72d9dc63fa0db81d23c211d3421608460"}, "originalPosition": 44}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgwOTU3MTYyOnYy", "diffSide": "RIGHT", "path": "instrumentation-core/spring/spring-core/src/main/java/io/opentelemetry/spring/instrumentation/httpclients/RestTemplateInterceptorTest.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QwNjoyOToyMlrOGtww7g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QxNzoyOToyMFrOGuInPQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDYzODA2Mg==", "bodyText": "@jkwatson @carlosalberto I haven't followed up on the injection + context issue yet, but wanted to point out this code looks pretty confusing to me, instrumentation just wants to inject a span so round-tripping through context is obtuse. We can save some thread-local lookups by reading the current context before creating the span and creating a new context with explicit propagation, but that would be even more complexity that goes away if just injecting a span.", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/640#discussion_r450638062", "createdAt": "2020-07-07T06:29:22Z", "author": {"login": "anuraaga"}, "path": "instrumentation-core/spring/spring-core/src/main/java/io/opentelemetry/spring/instrumentation/httpclients/RestTemplateInterceptorTest.java", "diffHunk": "@@ -0,0 +1,67 @@\n+/*\n+ * Copyright The OpenTelemetry Authors\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package io.opentelemetry.spring.instrumentation.httpclients;\n+\n+import io.grpc.Context;\n+import io.opentelemetry.OpenTelemetry;\n+import io.opentelemetry.context.Scope;\n+import io.opentelemetry.context.propagation.HttpTextFormat;\n+import io.opentelemetry.trace.Span;\n+import io.opentelemetry.trace.Tracer;\n+import java.io.IOException;\n+import org.springframework.http.HttpRequest;\n+import org.springframework.http.client.ClientHttpRequestExecution;\n+import org.springframework.http.client.ClientHttpRequestInterceptor;\n+import org.springframework.http.client.ClientHttpResponse;\n+\n+/** Wraps RestTemplate requests in a span. Adds the current span context to request headers. */\n+public final class RestTemplateInterceptorTest implements ClientHttpRequestInterceptor {\n+\n+  private static final HttpTextFormat.Setter<HttpRequest> SETTER =\n+      new HttpTextFormat.Setter<HttpRequest>() {\n+        @Override\n+        public void set(HttpRequest carrier, String key, String value) {\n+          carrier.getHeaders().set(key, value);\n+        }\n+      };\n+\n+  private final Tracer tracer;\n+\n+  public RestTemplateInterceptorTest(Tracer tracer) {\n+    this.tracer = tracer;\n+  }\n+\n+  @Override\n+  public ClientHttpResponse intercept(\n+      HttpRequest request, byte[] body, ClientHttpRequestExecution execution) throws IOException {\n+\n+    String spanName = createSpanName(request);\n+    Span currentSpan = tracer.spanBuilder(spanName).setSpanKind(Span.Kind.CLIENT).startSpan();\n+\n+    try (Scope scope = tracer.withSpan(currentSpan)) {\n+      OpenTelemetry.getPropagators().getHttpTextFormat().inject(Context.current(), request, SETTER);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d461aee72d9dc63fa0db81d23c211d3421608460"}, "originalPosition": 56}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTAyODc5Nw==", "bodyText": "I moved the span context injection to a decorator", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/640#discussion_r451028797", "createdAt": "2020-07-07T17:29:20Z", "author": {"login": "mabdinur"}, "path": "instrumentation-core/spring/spring-core/src/main/java/io/opentelemetry/spring/instrumentation/httpclients/RestTemplateInterceptorTest.java", "diffHunk": "@@ -0,0 +1,67 @@\n+/*\n+ * Copyright The OpenTelemetry Authors\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package io.opentelemetry.spring.instrumentation.httpclients;\n+\n+import io.grpc.Context;\n+import io.opentelemetry.OpenTelemetry;\n+import io.opentelemetry.context.Scope;\n+import io.opentelemetry.context.propagation.HttpTextFormat;\n+import io.opentelemetry.trace.Span;\n+import io.opentelemetry.trace.Tracer;\n+import java.io.IOException;\n+import org.springframework.http.HttpRequest;\n+import org.springframework.http.client.ClientHttpRequestExecution;\n+import org.springframework.http.client.ClientHttpRequestInterceptor;\n+import org.springframework.http.client.ClientHttpResponse;\n+\n+/** Wraps RestTemplate requests in a span. Adds the current span context to request headers. */\n+public final class RestTemplateInterceptorTest implements ClientHttpRequestInterceptor {\n+\n+  private static final HttpTextFormat.Setter<HttpRequest> SETTER =\n+      new HttpTextFormat.Setter<HttpRequest>() {\n+        @Override\n+        public void set(HttpRequest carrier, String key, String value) {\n+          carrier.getHeaders().set(key, value);\n+        }\n+      };\n+\n+  private final Tracer tracer;\n+\n+  public RestTemplateInterceptorTest(Tracer tracer) {\n+    this.tracer = tracer;\n+  }\n+\n+  @Override\n+  public ClientHttpResponse intercept(\n+      HttpRequest request, byte[] body, ClientHttpRequestExecution execution) throws IOException {\n+\n+    String spanName = createSpanName(request);\n+    Span currentSpan = tracer.spanBuilder(spanName).setSpanKind(Span.Kind.CLIENT).startSpan();\n+\n+    try (Scope scope = tracer.withSpan(currentSpan)) {\n+      OpenTelemetry.getPropagators().getHttpTextFormat().inject(Context.current(), request, SETTER);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDYzODA2Mg=="}, "originalCommit": {"oid": "d461aee72d9dc63fa0db81d23c211d3421608460"}, "originalPosition": 56}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgwOTU3OTEwOnYy", "diffSide": "RIGHT", "path": "instrumentation-core/spring/spring-core/src/main/java/io/opentelemetry/spring/instrumentation/httpclients/RestTemplateInterceptorTest.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QwNjozMjoyOFrOGtw1fQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QxNTo1NjoyNlrOGuFIwg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDYzOTIyOQ==", "bodyText": "We should be using HttpClientDecorator which abstracts this sort of logic away. Otherwise, we don't want to put the URI here in a client since it has too high cardinality\nhttps://github.com/open-telemetry/opentelemetry-specification/blob/master/specification/trace/semantic_conventions/http.md#name", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/640#discussion_r450639229", "createdAt": "2020-07-07T06:32:28Z", "author": {"login": "anuraaga"}, "path": "instrumentation-core/spring/spring-core/src/main/java/io/opentelemetry/spring/instrumentation/httpclients/RestTemplateInterceptorTest.java", "diffHunk": "@@ -0,0 +1,67 @@\n+/*\n+ * Copyright The OpenTelemetry Authors\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package io.opentelemetry.spring.instrumentation.httpclients;\n+\n+import io.grpc.Context;\n+import io.opentelemetry.OpenTelemetry;\n+import io.opentelemetry.context.Scope;\n+import io.opentelemetry.context.propagation.HttpTextFormat;\n+import io.opentelemetry.trace.Span;\n+import io.opentelemetry.trace.Tracer;\n+import java.io.IOException;\n+import org.springframework.http.HttpRequest;\n+import org.springframework.http.client.ClientHttpRequestExecution;\n+import org.springframework.http.client.ClientHttpRequestInterceptor;\n+import org.springframework.http.client.ClientHttpResponse;\n+\n+/** Wraps RestTemplate requests in a span. Adds the current span context to request headers. */\n+public final class RestTemplateInterceptorTest implements ClientHttpRequestInterceptor {\n+\n+  private static final HttpTextFormat.Setter<HttpRequest> SETTER =\n+      new HttpTextFormat.Setter<HttpRequest>() {\n+        @Override\n+        public void set(HttpRequest carrier, String key, String value) {\n+          carrier.getHeaders().set(key, value);\n+        }\n+      };\n+\n+  private final Tracer tracer;\n+\n+  public RestTemplateInterceptorTest(Tracer tracer) {\n+    this.tracer = tracer;\n+  }\n+\n+  @Override\n+  public ClientHttpResponse intercept(\n+      HttpRequest request, byte[] body, ClientHttpRequestExecution execution) throws IOException {\n+\n+    String spanName = createSpanName(request);\n+    Span currentSpan = tracer.spanBuilder(spanName).setSpanKind(Span.Kind.CLIENT).startSpan();\n+\n+    try (Scope scope = tracer.withSpan(currentSpan)) {\n+      OpenTelemetry.getPropagators().getHttpTextFormat().inject(Context.current(), request, SETTER);\n+      ClientHttpResponse response = execution.execute(request, body);\n+      return response;\n+    } finally {\n+      currentSpan.end();\n+    }\n+  }\n+\n+  private String createSpanName(HttpRequest request) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d461aee72d9dc63fa0db81d23c211d3421608460"}, "originalPosition": 64}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDk3MTg0Mg==", "bodyText": "I removed this and created a new decorator that handles this logic", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/640#discussion_r450971842", "createdAt": "2020-07-07T15:56:26Z", "author": {"login": "mabdinur"}, "path": "instrumentation-core/spring/spring-core/src/main/java/io/opentelemetry/spring/instrumentation/httpclients/RestTemplateInterceptorTest.java", "diffHunk": "@@ -0,0 +1,67 @@\n+/*\n+ * Copyright The OpenTelemetry Authors\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package io.opentelemetry.spring.instrumentation.httpclients;\n+\n+import io.grpc.Context;\n+import io.opentelemetry.OpenTelemetry;\n+import io.opentelemetry.context.Scope;\n+import io.opentelemetry.context.propagation.HttpTextFormat;\n+import io.opentelemetry.trace.Span;\n+import io.opentelemetry.trace.Tracer;\n+import java.io.IOException;\n+import org.springframework.http.HttpRequest;\n+import org.springframework.http.client.ClientHttpRequestExecution;\n+import org.springframework.http.client.ClientHttpRequestInterceptor;\n+import org.springframework.http.client.ClientHttpResponse;\n+\n+/** Wraps RestTemplate requests in a span. Adds the current span context to request headers. */\n+public final class RestTemplateInterceptorTest implements ClientHttpRequestInterceptor {\n+\n+  private static final HttpTextFormat.Setter<HttpRequest> SETTER =\n+      new HttpTextFormat.Setter<HttpRequest>() {\n+        @Override\n+        public void set(HttpRequest carrier, String key, String value) {\n+          carrier.getHeaders().set(key, value);\n+        }\n+      };\n+\n+  private final Tracer tracer;\n+\n+  public RestTemplateInterceptorTest(Tracer tracer) {\n+    this.tracer = tracer;\n+  }\n+\n+  @Override\n+  public ClientHttpResponse intercept(\n+      HttpRequest request, byte[] body, ClientHttpRequestExecution execution) throws IOException {\n+\n+    String spanName = createSpanName(request);\n+    Span currentSpan = tracer.spanBuilder(spanName).setSpanKind(Span.Kind.CLIENT).startSpan();\n+\n+    try (Scope scope = tracer.withSpan(currentSpan)) {\n+      OpenTelemetry.getPropagators().getHttpTextFormat().inject(Context.current(), request, SETTER);\n+      ClientHttpResponse response = execution.execute(request, body);\n+      return response;\n+    } finally {\n+      currentSpan.end();\n+    }\n+  }\n+\n+  private String createSpanName(HttpRequest request) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDYzOTIyOQ=="}, "originalCommit": {"oid": "d461aee72d9dc63fa0db81d23c211d3421608460"}, "originalPosition": 64}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgxMzkwMjg1OnYy", "diffSide": "RIGHT", "path": "instrumentation-core/spring/spring-core/src/main/java/io/opentelemetry/instrumentation/spring/httpclients/HttpHeadersInjectAdapter.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOFQwNjo1NDoxOFrOGuae-g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOFQwNjo1NDoxOFrOGuae-g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTMyMTU5NA==", "bodyText": "Let's keep package private unless we later find a use case for exposing it", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/640#discussion_r451321594", "createdAt": "2020-07-08T06:54:18Z", "author": {"login": "anuraaga"}, "path": "instrumentation-core/spring/spring-core/src/main/java/io/opentelemetry/instrumentation/spring/httpclients/HttpHeadersInjectAdapter.java", "diffHunk": "@@ -14,15 +14,17 @@\n  * limitations under the License.\n  */\n \n-package io.opentelemetry.instrumentation.spring;\n+package io.opentelemetry.instrumentation.spring.httpclients;\n \n-import org.springframework.boot.SpringApplication;\n-import org.springframework.boot.autoconfigure.SpringBootApplication;\n+import io.opentelemetry.context.propagation.HttpTextFormat;\n+import org.springframework.http.HttpRequest;\n \n-@SpringBootApplication\n-public class Application {\n+public class HttpHeadersInjectAdapter implements HttpTextFormat.Setter<HttpRequest> {\n ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8c217f156a4528c0e4db3fc68925df947e686cdb"}, "originalPosition": 15}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgxMzkwNTEwOnYy", "diffSide": "RIGHT", "path": "instrumentation-core/spring/spring-core/src/main/java/io/opentelemetry/instrumentation/spring/httpclients/RestTemplateInterceptor.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOFQwNjo1NTowMFrOGuagTA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOFQwNjo1NTowMFrOGuagTA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTMyMTkzMg==", "bodyText": "So for now let's make only this class public and the rest package private", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/640#discussion_r451321932", "createdAt": "2020-07-08T06:55:00Z", "author": {"login": "anuraaga"}, "path": "instrumentation-core/spring/spring-core/src/main/java/io/opentelemetry/instrumentation/spring/httpclients/RestTemplateInterceptor.java", "diffHunk": "@@ -0,0 +1,58 @@\n+/*\n+ * Copyright The OpenTelemetry Authors\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package io.opentelemetry.instrumentation.spring.httpclients;\n+\n+import static io.opentelemetry.instrumentation.spring.httpclients.RestTemplateDecorator.DECORATE;\n+\n+import io.grpc.Context;\n+import io.opentelemetry.context.Scope;\n+import io.opentelemetry.trace.Span;\n+import io.opentelemetry.trace.Tracer;\n+import java.io.IOException;\n+import org.springframework.http.HttpRequest;\n+import org.springframework.http.client.ClientHttpRequestExecution;\n+import org.springframework.http.client.ClientHttpRequestInterceptor;\n+import org.springframework.http.client.ClientHttpResponse;\n+\n+/** Wraps RestTemplate requests in a span. Adds the current span context to request headers. */\n+public final class RestTemplateInterceptor implements ClientHttpRequestInterceptor {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8c217f156a4528c0e4db3fc68925df947e686cdb"}, "originalPosition": 32}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgxNzY1MDM0OnYy", "diffSide": "RIGHT", "path": "instrumentation-core/spring/spring-core/spring-core.gradle", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOVQwMTo0NjoyMVrOGu-1ag==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOVQwMTo0NjoyMVrOGu-1ag==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTkxNzE2Mg==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              api \"org.springframework:spring-webmvc:3.1.0.RELEASE\"\n          \n          \n            \n              api \"org.springframework:spring-web:3.1.0.RELEASE\"", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/640#discussion_r451917162", "createdAt": "2020-07-09T01:46:21Z", "author": {"login": "trask"}, "path": "instrumentation-core/spring/spring-core/spring-core.gradle", "diffHunk": "@@ -0,0 +1,24 @@\n+group = 'io.opentelemetry.instrumentation.spring'\n+\n+apply plugin: 'java'\n+apply from: \"$rootDir/gradle/java.gradle\"\n+\n+dependencies {\n+  \n+  // copy-paste from instrumentation-core-aws-sdk:aws-sdk-2.2-core:\n+  // TODO(anuraaga): We currently include common instrumentation logic like decorators in the\n+  // bootstrap, but we need to move it out so manual instrumentation does not depend on code from\n+  // the agent, like Agent.\n+  api project(':auto-bootstrap')\n+  \n+  api \"org.springframework:spring-webmvc:3.1.0.RELEASE\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7766b6114827ad540b56062d82aaa70cba25b861"}, "originalPosition": 14}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 333, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}