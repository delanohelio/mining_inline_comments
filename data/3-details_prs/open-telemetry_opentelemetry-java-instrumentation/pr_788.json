{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU2NjM4MzAy", "number": 788, "title": "New way to make patch releases", "bodyText": "Previous patch release job assumed that we have a branch started from a release tag. Patch release then trigged on any new commit to that branch.\nNow, before, GA, we actually don't use that. We just want to push a tag, e.g. v0.6.1 to an already verified commit, a release a version with that tag. In exactly the same way as minor releases.", "createdAt": "2020-07-25T16:50:15Z", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/788", "merged": true, "mergeCommit": {"oid": "425ce5385365f4adeaa75cb1242cf7d9f3ec2f19"}, "closed": true, "closedAt": "2020-07-25T19:36:20Z", "author": {"login": "iNikem"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc4bjCggH2gAyNDU2NjM4MzAyOmFhNWJlNjk4MGNiZjdkNjU3MDljNmE5N2ZkNWM4OTE3NmRlOThhODE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc4dppvgFqTQ1NTMwNDUxNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "aa5be6980cbf7d65709c6a97fd5c89176de98a81", "author": {"user": {"login": "iNikem", "name": "Nikita Salnikov-Tarnovski"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/aa5be6980cbf7d65709c6a97fd5c89176de98a81", "committedDate": "2020-07-25T16:51:33Z", "message": "New way to make patch releases"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9ef3667bf1287a9f39fa9387a81b96e1b5160dfb", "author": {"user": {"login": "iNikem", "name": "Nikita Salnikov-Tarnovski"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/9ef3667bf1287a9f39fa9387a81b96e1b5160dfb", "committedDate": "2020-07-25T16:47:56Z", "message": "New way to make patch releases"}, "afterCommit": {"oid": "aa5be6980cbf7d65709c6a97fd5c89176de98a81", "author": {"user": {"login": "iNikem", "name": "Nikita Salnikov-Tarnovski"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/aa5be6980cbf7d65709c6a97fd5c89176de98a81", "committedDate": "2020-07-25T16:51:33Z", "message": "New way to make patch releases"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU1Mjk4ODA4", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/788#pullrequestreview-455298808", "createdAt": "2020-07-25T17:34:33Z", "commit": {"oid": "aa5be6980cbf7d65709c6a97fd5c89176de98a81"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNVQxNzozNDozM1rOG3GN8w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNVQxNzozNDozM1rOG3GN8w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDQyNjczOQ==", "bodyText": "comment update, and I really hope we never have 10 patch releases for one version, but just in case \ud83d\ude2d\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                          # Only for major and minor releases\n          \n          \n            \n                          only: /^v.*\\.[1-9]+$/\n          \n          \n            \n                          # Only for patch releases\n          \n          \n            \n                          only: /^v.*\\.[1-9][0-9]*$/", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/788#discussion_r460426739", "createdAt": "2020-07-25T17:34:33Z", "author": {"login": "trask"}, "path": ".circleci/config.yml", "diffHunk": "@@ -259,56 +254,10 @@ workflows:\n \n   patch_release:\n     jobs:\n-      - build:\n-          filters:\n-            branches:\n-              only: /\\d+\\.\\d+\\.x$/\n-\n-      - default_test_job:\n-          requires:\n-            - build\n-          prefixTestTask: true\n-          name: test_<< matrix.testTask >>\n-          matrix:\n-            parameters:\n-              testTask: [\"7\", \"8\", \"14\"]\n-          filters:\n-            branches:\n-              only: /\\d+\\.\\d+\\.x$/\n-\n-      - default_test_job:\n-          requires:\n-            - build\n-          name: test_11\n-          testTask: test jacocoTestReport jacocoTestCoverageVerification\n-          filters:\n-            branches:\n-              only: /\\d+\\.\\d+\\.x$/\n-\n-      - default_test_job:\n-          requires:\n-            - build\n-          name: test_latest\n-          testTask: latestDepTest\n-          filters:\n-            branches:\n-              only: /\\d+\\.\\d+\\.x$/\n-\n-      - muzzle:\n-          requires:\n-            - build\n-          filters:\n-            branches:\n-              only: /\\d+\\.\\d+\\.x$/\n-\n       - patch_release:\n-          requires:\n-            - test_7\n-            - test_8\n-            - test_11\n-            - test_14\n-            - test_latest\n-            - muzzle\n           filters:\n             branches:\n-              only: /\\d+\\.\\d+\\.x$/\n+              ignore: /.*/\n+            tags:\n+              # Only for major and minor releases\n+              only: /^v.*\\.[1-9]+$/", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "aa5be6980cbf7d65709c6a97fd5c89176de98a81"}, "originalPosition": 81}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ff910ae29d2f1b4294131b0ee0446132265e6fd9", "author": {"user": {"login": "iNikem", "name": "Nikita Salnikov-Tarnovski"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/ff910ae29d2f1b4294131b0ee0446132265e6fd9", "committedDate": "2020-07-25T19:12:30Z", "message": "Simplify release"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU1MzA0NDIy", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/788#pullrequestreview-455304422", "createdAt": "2020-07-25T19:16:49Z", "commit": {"oid": "ff910ae29d2f1b4294131b0ee0446132265e6fd9"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNVQxOToxNjo1MFrOG3Gvow==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNVQxOToxNjo1MFrOG3Gvow==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDQzNTM2Mw==", "bodyText": "nice \ud83d\udc4d", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/788#discussion_r460435363", "createdAt": "2020-07-25T19:16:50Z", "author": {"login": "trask"}, "path": ".circleci/config.yml", "diffHunk": "@@ -249,15 +235,5 @@ workflows:\n             branches:\n               ignore: /.*/\n             tags:\n-              # Only for major and minor releases\n-              only: /^v.*\\.0$/\n-\n-  patch_release:\n-    jobs:\n-      - patch_release:\n-          filters:\n-            branches:\n-              ignore: /.*/\n-            tags:\n-              # Only for major and minor releases\n-              only: /^v.*\\.[1-9]+$/\n+              # As long as we don't have support branches, we release all tags in the same manner\n+              only: /^v.*$/", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ff910ae29d2f1b4294131b0ee0446132265e6fd9"}, "originalPosition": 38}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU1MzA0NTE3", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/788#pullrequestreview-455304517", "createdAt": "2020-07-25T19:18:35Z", "commit": {"oid": "ff910ae29d2f1b4294131b0ee0446132265e6fd9"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2859, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}