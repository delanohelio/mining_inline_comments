{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQ2OTc1NzA2", "number": 1968, "title": "Enable servlet forward and include tests", "bodyText": "", "createdAt": "2020-12-30T14:55:28Z", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1968", "merged": true, "mergeCommit": {"oid": "5f816c5d437e03660958eef0888b503beb274e49"}, "closed": true, "closedAt": "2021-01-06T19:01:48Z", "author": {"login": "laurit"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdrQjaCAH2gAyNTQ2OTc1NzA2OjZhZjFlOGE3Yjg1ZTk4Njk4ZGNiOWE5MjkyYzlhNWVmYzc4ZGViYTg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdtY_ENAFqTU2MjM0MDY4Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "6af1e8a7b85e98698dcb9a9292c9a5efc78deba8", "author": {"user": {"login": "laurit", "name": "Lauri Tulmin"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/6af1e8a7b85e98698dcb9a9292c9a5efc78deba8", "committedDate": "2020-12-30T14:53:08Z", "message": "enable disabled servlet tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5701893cd521c6e1d28b1c41136056341ebe4b42", "author": {"user": {"login": "trask", "name": "Trask Stalnaker"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/5701893cd521c6e1d28b1c41136056341ebe4b42", "committedDate": "2021-01-05T21:34:42Z", "message": "alternative"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTYxNDc2MzU3", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1968#pullrequestreview-561476357", "createdAt": "2021-01-05T02:30:14Z", "commit": {"oid": "6af1e8a7b85e98698dcb9a9292c9a5efc78deba8"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wNVQwMjo0MzoxN1rOIOIO8A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wNVQwMjo0MzoxN1rOIOIO8A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTY4NTg3Mg==", "bodyText": "left over debugging?\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                  if (servletPath.contains(\"exception\")) {\n          \n          \n            \n                    System.err.println(servletPath)\n          \n          \n            \n                  }", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1968#discussion_r551685872", "createdAt": "2021-01-05T02:43:17Z", "author": {"login": "trask"}, "path": "instrumentation/servlet/servlet-3.0/javaagent/src/test/groovy/TestServlet3.groovy", "diffHunk": "@@ -22,7 +25,14 @@ class TestServlet3 {\n   static class Sync extends AbstractHttpServlet {\n     @Override\n     protected void service(HttpServletRequest req, HttpServletResponse resp) {\n-      HttpServerTest.ServerEndpoint endpoint = HttpServerTest.ServerEndpoint.forPath(req.servletPath)\n+      String servletPath = req.getAttribute(RequestDispatcher.INCLUDE_SERVLET_PATH)\n+      if (servletPath == null) {\n+        servletPath = req.servletPath\n+      }\n+      if (servletPath.contains(\"exception\")) {\n+        System.err.println(servletPath)\n+      }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6af1e8a7b85e98698dcb9a9292c9a5efc78deba8"}, "originalPosition": 26}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "62e4649fd9f68c5e3decf564ff98a55dd049d6dc", "author": {"user": {"login": "laurit", "name": "Lauri Tulmin"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/62e4649fd9f68c5e3decf564ff98a55dd049d6dc", "committedDate": "2021-01-05T22:28:16Z", "message": "Update instrumentation/servlet/servlet-3.0/javaagent/src/test/groovy/TestServlet3.groovy\n\nCo-authored-by: Trask Stalnaker <trask.stalnaker@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e848689696898384732ac8f6df3afbeb6e088426", "author": {"user": {"login": "laurit", "name": "Lauri Tulmin"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/e848689696898384732ac8f6df3afbeb6e088426", "committedDate": "2021-01-05T22:40:03Z", "message": "Merge pull request #1 from trask/fix-disabled-servlet-tests-alt\n\nalternative: instead of adding a new endpoint, allow customization of exception class"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTYyMTk2OTAy", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1968#pullrequestreview-562196902", "createdAt": "2021-01-05T22:56:09Z", "commit": {"oid": "e848689696898384732ac8f6df3afbeb6e088426"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "074dbafb8d4c92568cc0240a1527b13bd1f35523", "author": {"user": {"login": "laurit", "name": "Lauri Tulmin"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/074dbafb8d4c92568cc0240a1527b13bd1f35523", "committedDate": "2021-01-05T23:53:02Z", "message": "fix failing test"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTYyMzQwNjg2", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1968#pullrequestreview-562340686", "createdAt": "2021-01-06T05:50:26Z", "commit": {"oid": "074dbafb8d4c92568cc0240a1527b13bd1f35523"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2042, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}