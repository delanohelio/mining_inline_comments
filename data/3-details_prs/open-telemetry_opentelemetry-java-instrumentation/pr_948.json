{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY2Njg3MTI0", "number": 948, "title": "Run smoke tests on different java versions", "bodyText": "Closes #298", "createdAt": "2020-08-12T10:54:42Z", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/948", "merged": true, "mergeCommit": {"oid": "51e06100ca4ea914b8bc43ec7e7aa18d68ff8e02"}, "closed": true, "closedAt": "2020-08-12T17:32:24Z", "author": {"login": "iNikem"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc-JN3wgH2gAyNDY2Njg3MTI0Ojc3MzQ2N2Y2MWM0NzkyYWI5ZjVhYmE1NjBkNDZhMDVlOWI3OTc1OGU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc-OnmtgH2gAyNDY2Njg3MTI0OjVjNWUwNDM3YWFmN2IwMmYwYmUxMDIwMDQyNjQ2NGE2MzdhYTgwMTU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "773467f61c4792ab9f5aba560d46a05e9b79758e", "author": {"user": {"login": "iNikem", "name": "Nikita Salnikov-Tarnovski"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/773467f61c4792ab9f5aba560d46a05e9b79758e", "committedDate": "2020-08-12T10:53:41Z", "message": "Run smoke tests on different java versions"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY2MDkwNDg5", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/948#pullrequestreview-466090489", "createdAt": "2020-08-12T16:41:03Z", "commit": {"oid": "773467f61c4792ab9f5aba560d46a05e9b79758e"}, "state": "APPROVED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQxNjo0MTowM1rOG_pm1Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQxNjo0NDoxNFrOG_puRg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTM5NTE1Nw==", "bodyText": "same\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              to.image = \"docker.pkg.github.com/open-telemetry/opentelemetry-java-instrumentation/smoke-springboot-$targetJDK\"\n          \n          \n            \n              to.image = \"docker.pkg.github.com/open-telemetry/opentelemetry-java-instrumentation/smoke-springboot-jdk$targetJDK\"", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/948#discussion_r469395157", "createdAt": "2020-08-12T16:41:03Z", "author": {"login": "trask"}, "path": "smoke-tests/springboot/build.gradle", "diffHunk": "@@ -2,22 +2,28 @@ plugins {\n   id 'org.springframework.boot' version '2.3.2.RELEASE'\n   id 'io.spring.dependency-management' version '1.0.9.RELEASE'\n   id 'java'\n-  id 'com.google.cloud.tools.jib' version '2.4.0'\n+  id 'com.google.cloud.tools.jib' version '2.5.0'\n }\n \n group = 'io.opentelemetry'\n version = '0.0.1-SNAPSHOT'\n-sourceCompatibility = '8'\n \n repositories {\n   jcenter()\n }\n \n dependencies {\n   implementation 'org.springframework.boot:spring-boot-starter-web'\n+  implementation 'io.opentelemetry:opentelemetry-extension-auto-annotations:0.7.0'\n }\n \n+compileJava {\n+  options.release = 8\n+}\n+\n+def targetJDK = project.hasProperty(\"targetJDK\") ? project.targetJDK : 11\n+\n jib {\n-  from.image = \"bellsoft/liberica-openjdk-alpine:11\"\n-  to.image = \"docker.pkg.github.com/open-telemetry/opentelemetry-java-instrumentation/smoke-springboot\"\n+  from.image = \"bellsoft/liberica-openjdk-alpine:$targetJDK\"\n+  to.image = \"docker.pkg.github.com/open-telemetry/opentelemetry-java-instrumentation/smoke-springboot-$targetJDK\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "773467f61c4792ab9f5aba560d46a05e9b79758e"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTM5NTU4NA==", "bodyText": "just to make image name a little clearer\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              to.image = \"docker.pkg.github.com/open-telemetry/opentelemetry-java-instrumentation/smoke-play-$targetJDK\"\n          \n          \n            \n              to.image = \"docker.pkg.github.com/open-telemetry/opentelemetry-java-instrumentation/smoke-play-jdk$targetJDK\"", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/948#discussion_r469395584", "createdAt": "2020-08-12T16:41:48Z", "author": {"login": "trask"}, "path": "smoke-tests/play/build.gradle", "diffHunk": "@@ -35,8 +35,10 @@ dependencies {\n   implementation \"com.typesafe.play:filters-helpers_$scalaVersion:$playVersion\"\n }\n \n+def targetJDK = project.hasProperty(\"targetJDK\") ? project.targetJDK : 11\n+\n jib {\n-  from.image = \"bellsoft/liberica-openjdk-alpine:11\"\n-  to.image = \"docker.pkg.github.com/open-telemetry/opentelemetry-java-instrumentation/smoke-play\"\n+  from.image = \"bellsoft/liberica-openjdk-alpine:$targetJDK\"\n+  to.image = \"docker.pkg.github.com/open-telemetry/opentelemetry-java-instrumentation/smoke-play-$targetJDK\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "773467f61c4792ab9f5aba560d46a05e9b79758e"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTM5NzA2Mg==", "bodyText": "\ud83d\udc4d", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/948#discussion_r469397062", "createdAt": "2020-08-12T16:44:14Z", "author": {"login": "trask"}, "path": "smoke-tests/src/test/groovy/io/opentelemetry/smoketest/PlaySmokeTest.groovy", "diffHunk": "@@ -39,6 +40,12 @@ class PlaySmokeTest extends SmokeTest {\n     //Both play and akka-http support produce spans with the same name.\n     //One internal, one SERVER\n     countSpansByName(traces, 'GET /welcome') == 2\n+\n+    cleanup:\n+    stopTarget()\n+\n+    where:\n+    jdk << [8, 11, 14]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "773467f61c4792ab9f5aba560d46a05e9b79758e"}, "originalPosition": 26}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5c5e0437aaf7b02f0be10200426464a637aa8015", "author": {"user": {"login": "iNikem", "name": "Nikita Salnikov-Tarnovski"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/5c5e0437aaf7b02f0be10200426464a637aa8015", "committedDate": "2020-08-12T17:11:19Z", "message": "Cleaner Docker images names"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2699, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}