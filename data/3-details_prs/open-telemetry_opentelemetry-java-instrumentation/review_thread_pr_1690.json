{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTIzNzUwNjcz", "number": 1690, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOVQwODo0NzoxN1rOE67yrQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOVQxOToxNDo1MVrOE7NAcQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMwMjMyNDkzOnYy", "diffSide": "RIGHT", "path": "instrumentation/aws-lambda-1.0/library/src/test/groovy/io/opentelemetry/instrumentation/awslambda/v1_0/AwsLambdaSqsMessageHandlerTest.groovy", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOVQwODo0NzoxN1rOH2SZFg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOVQwODo0NzoxN1rOH2SZFg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjY4NjQ4Ng==", "bodyText": "Shouldn't static imports go before \"normal\" imports?", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1690#discussion_r526686486", "createdAt": "2020-11-19T08:47:17Z", "author": {"login": "mateuszrzeszutek"}, "path": "instrumentation/aws-lambda-1.0/library/src/test/groovy/io/opentelemetry/instrumentation/awslambda/v1_0/AwsLambdaSqsMessageHandlerTest.groovy", "diffHunk": "@@ -5,19 +5,19 @@\n \n package io.opentelemetry.instrumentation.awslambda.v1_0\n \n-import static io.opentelemetry.api.trace.Span.Kind.CONSUMER\n-import static io.opentelemetry.api.trace.Span.Kind.SERVER\n-\n import com.amazonaws.services.lambda.runtime.Context\n import com.amazonaws.services.lambda.runtime.events.SQSEvent\n-import io.opentelemetry.api.OpenTelemetry\n import io.opentelemetry.api.trace.attributes.SemanticAttributes\n import io.opentelemetry.api.trace.propagation.HttpTraceContext\n import io.opentelemetry.context.propagation.DefaultContextPropagators\n import io.opentelemetry.extension.trace.propagation.AwsXRayPropagator\n+import io.opentelemetry.instrumentation.test.AgentTestRunner\n import io.opentelemetry.instrumentation.test.InstrumentationSpecification\n import io.opentelemetry.instrumentation.test.InstrumentationTestTrait\n \n+import static io.opentelemetry.api.trace.Span.Kind.CONSUMER\n+import static io.opentelemetry.api.trace.Span.Kind.SERVER", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "634511fadd59ff4499b1aed545c94040caf49b49"}, "originalPosition": 19}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMwMjM0MDgyOnYy", "diffSide": "RIGHT", "path": "testing-common/src/main/groovy/io/opentelemetry/instrumentation/test/AgentTestRunner.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOVQwODo1MToyMVrOH2Si1g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOVQwODo1MToyMVrOH2Si1g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjY4ODk4Mg==", "bodyText": "Minor reuse suggestion:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                  OpenTelemetry.set(\n          \n          \n            \n                      OpenTelemetrySdk.builder()\n          \n          \n            \n                          .setResource(OpenTelemetrySdk.get().getResource())\n          \n          \n            \n                          .setClock(OpenTelemetrySdk.get().getClock())\n          \n          \n            \n                          .setMeterProvider(OpenTelemetry.getGlobalMeterProvider())\n          \n          \n            \n                          .setTracerProvider(unobfuscate(OpenTelemetry.getGlobalTracerProvider()))\n          \n          \n            \n                          .setPropagators(\n          \n          \n            \n                              DefaultContextPropagators.builder()\n          \n          \n            \n                                  .addTextMapPropagator(HttpTraceContext.getInstance())\n          \n          \n            \n                                  .build())\n          \n          \n            \n                          .build());\n          \n          \n            \n                  setGlobalPropagators(DefaultContextPropagators.builder()\n          \n          \n            \n                          .addTextMapPropagator(HttpTraceContext.getInstance())\n          \n          \n            \n                          .build());", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1690#discussion_r526688982", "createdAt": "2020-11-19T08:51:21Z", "author": {"login": "mateuszrzeszutek"}, "path": "testing-common/src/main/groovy/io/opentelemetry/instrumentation/test/AgentTestRunner.java", "diffHunk": "@@ -109,9 +112,17 @@\n         .getClass()\n         .getSimpleName()\n         .equals(\"NoopTextMapPropagator\")) {\n-      OpenTelemetry.setGlobalPropagators(\n-          DefaultContextPropagators.builder()\n-              .addTextMapPropagator(HttpTraceContext.getInstance())\n+      // Workaround https://github.com/open-telemetry/opentelemetry-java/pull/2096\n+      OpenTelemetry.set(\n+          OpenTelemetrySdk.builder()\n+              .setResource(OpenTelemetrySdk.get().getResource())\n+              .setClock(OpenTelemetrySdk.get().getClock())\n+              .setMeterProvider(OpenTelemetry.getGlobalMeterProvider())\n+              .setTracerProvider(unobfuscate(OpenTelemetry.getGlobalTracerProvider()))\n+              .setPropagators(\n+                  DefaultContextPropagators.builder()\n+                      .addTextMapPropagator(HttpTraceContext.getInstance())\n+                      .build())\n               .build());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "634511fadd59ff4499b1aed545c94040caf49b49"}, "originalPosition": 36}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMwNTE0NTQ1OnYy", "diffSide": "RIGHT", "path": "instrumentation/aws-lambda-1.0/library/src/test/groovy/io/opentelemetry/instrumentation/awslambda/v1_0/TracingRequestStreamWrapperTest.groovy", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOVQxOToxNDo1MVrOH2twTQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOVQxOToxNDo1MVrOH2twTQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzEzNDc5Nw==", "bodyText": "new Intellij workspace? looks like needs https://github.com/open-telemetry/opentelemetry-java-instrumentation/blob/master/docs/contributing/intellij-setup.md", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1690#discussion_r527134797", "createdAt": "2020-11-19T19:14:51Z", "author": {"login": "trask"}, "path": "instrumentation/aws-lambda-1.0/library/src/test/groovy/io/opentelemetry/instrumentation/awslambda/v1_0/TracingRequestStreamWrapperTest.groovy", "diffHunk": "@@ -5,20 +5,21 @@\n \n package io.opentelemetry.instrumentation.awslambda.v1_0\n \n-import static io.opentelemetry.api.trace.Span.Kind.SERVER\n-\n import com.amazonaws.services.lambda.runtime.Context\n import com.amazonaws.services.lambda.runtime.RequestStreamHandler\n-import io.opentelemetry.api.OpenTelemetry\n import io.opentelemetry.api.trace.attributes.SemanticAttributes\n import io.opentelemetry.context.propagation.DefaultContextPropagators\n+import io.opentelemetry.instrumentation.test.AgentTestRunner\n import io.opentelemetry.instrumentation.test.InstrumentationSpecification\n import io.opentelemetry.instrumentation.test.InstrumentationTestTrait\n-import java.nio.charset.Charset\n import org.junit.Rule\n import org.junit.contrib.java.lang.system.EnvironmentVariables\n import spock.lang.Shared\n \n+import java.nio.charset.Charset", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "634511fadd59ff4499b1aed545c94040caf49b49"}, "originalPosition": 19}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4632, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}