{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ3OTMwNDMx", "number": 672, "title": "Remove Lombok", "bodyText": "Closes: #660.\nIn addition to this PR also have some minor changes:\n\nUpgraded Gradle to 6.5.1 (before was 6.5).\nAdded mavenLocal to some repositories config, otherwise, it always tries to use the remote repository.\nBy default disabled downloading javadoc/sources for IntelliJ IDEA, otherwise it really takes a lot of time. But it's not completely switched off such downloading, from IDEA still able to download javadoc/sources manually by one click.", "createdAt": "2020-07-12T17:29:51Z", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/672", "merged": true, "mergeCommit": {"oid": "f3421e91a081bfc42f8754575bd52a65a6c175d3"}, "closed": true, "closedAt": "2020-07-18T12:52:56Z", "author": {"login": "donbeave"}, "timelineItems": {"totalCount": 20, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc0KGaeAH2gAyNDQ3OTMwNDMxOmU0ZWJiNzFiMjFjZDU0ZjEwNTY0MmRmZTI3MjQwMTFlY2YwOTY2YzA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc2HSSPAH2gAyNDQ3OTMwNDMxOmQ3ODM2ZWJiY2I1YWEyZjAxZTI2NWQ1ZWQ4NGYyMDk4YzkyYzIzMjA=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "e4ebb71b21cd54f105642dfe2724011ecf0966c0", "author": {"user": {"login": "donbeave", "name": "Alexey Zhokhov"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/e4ebb71b21cd54f105642dfe2724011ecf0966c0", "committedDate": "2020-07-12T10:16:12Z", "message": "Gradle 6.5.1."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d61eb8eb6a81b098f3906883fd3bbed4bfac1471", "author": {"user": {"login": "donbeave", "name": "Alexey Zhokhov"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/d61eb8eb6a81b098f3906883fd3bbed4bfac1471", "committedDate": "2020-07-12T10:19:48Z", "message": "Skip download javadoc and sources automatically in IntelliJ IDEA."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "90cfa618997a8ff9d9f4e8b05b63fd585b094668", "author": {"user": {"login": "donbeave", "name": "Alexey Zhokhov"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/90cfa618997a8ff9d9f4e8b05b63fd585b094668", "committedDate": "2020-07-12T10:26:35Z", "message": "Added mavenLocal to repositories."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dfe4906f8cfd0c88bb2802b89e02c5b972dd0abe", "author": {"user": {"login": "donbeave", "name": "Alexey Zhokhov"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/dfe4906f8cfd0c88bb2802b89e02c5b972dd0abe", "committedDate": "2020-07-12T17:24:18Z", "message": "Removed Lombok usage."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ2ODk5NDQ2", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/672#pullrequestreview-446899446", "createdAt": "2020-07-12T18:16:50Z", "commit": {"oid": "dfe4906f8cfd0c88bb2802b89e02c5b972dd0abe"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMlQxODoxNjo1MFrOGwWHPw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMlQxODoxNjo1MFrOGwWHPw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzM0NzEzNQ==", "bodyText": "is this needed since also in allprojects block below?", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/672#discussion_r453347135", "createdAt": "2020-07-12T18:16:50Z", "author": {"login": "trask"}, "path": "build.gradle", "diffHunk": "@@ -16,6 +16,13 @@ plugins {\n   id \"com.github.spotbugs\" version \"4.0.1\"\n }\n \n+idea {\n+    module {\n+        downloadJavadoc = false\n+        downloadSources = false\n+    }\n+}\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dfe4906f8cfd0c88bb2802b89e02c5b972dd0abe"}, "originalPosition": 17}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ2OTAxMDY4", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/672#pullrequestreview-446901068", "createdAt": "2020-07-12T18:42:48Z", "commit": {"oid": "dfe4906f8cfd0c88bb2802b89e02c5b972dd0abe"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ2OTM2NDQ4", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/672#pullrequestreview-446936448", "createdAt": "2020-07-13T01:42:28Z", "commit": {"oid": "dfe4906f8cfd0c88bb2802b89e02c5b972dd0abe"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QwMTo0NzoyOVrOGwZC_A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QwMTo1MTozMlrOGwZGOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzM5NTE5Ng==", "bodyText": "requireNonNull shouldn't be used with return statements, it's really for validating parameters. I understand it's to replace the usage of @lombok.NonNull but I think we can just delete it here, especially since they're all private methods. Best would be for us to consistently add @Nullable and enable NullAway (not for this PR).", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/672#discussion_r453395196", "createdAt": "2020-07-13T01:47:29Z", "author": {"login": "anuraaga"}, "path": "agent-bootstrap/src/main/java/io/opentelemetry/auto/config/Config.java", "diffHunk": "@@ -329,15 +329,13 @@ public static String getSettingFromEnvironment(final String name, final String d\n    * Calls {@link #getSettingFromEnvironment(String, String)} and converts the result to a list by\n    * splitting on `,`.\n    */\n-  @NonNull\n   private static List<String> getListSettingFromEnvironment(\n       final String name, final String defaultValue) {\n-    return parseList(getSettingFromEnvironment(name, defaultValue));\n+    return Objects.requireNonNull(parseList(getSettingFromEnvironment(name, defaultValue)));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dfe4906f8cfd0c88bb2802b89e02c5b972dd0abe"}, "originalPosition": 99}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzM5NTI4Nw==", "bodyText": "This is ok, though also rare to validate parameters for a private method.", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/672#discussion_r453395287", "createdAt": "2020-07-13T01:47:55Z", "author": {"login": "anuraaga"}, "path": "agent-bootstrap/src/main/java/io/opentelemetry/auto/config/Config.java", "diffHunk": "@@ -401,7 +397,8 @@ private static String propertyNameToSystemPropertyName(final String setting) {\n    * @throws NumberFormatException\n    */\n   private static <T> T valueOf(\n-      final String value, @NonNull final Class<T> tClass, final T defaultValue) {\n+      final String value, final Class<T> tClass, final T defaultValue) {\n+    Objects.requireNonNull(tClass);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dfe4906f8cfd0c88bb2802b89e02c5b972dd0abe"}, "originalPosition": 137}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzM5NjAyNQ==", "bodyText": "Use !(o instanceof DbInfo) pattern throughout", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/672#discussion_r453396025", "createdAt": "2020-07-13T01:51:32Z", "author": {"login": "anuraaga"}, "path": "agent-bootstrap/src/main/java/io/opentelemetry/auto/bootstrap/instrumentation/jdbc/DBInfo.java", "diffHunk": "@@ -32,5 +31,139 @@\n   private final String host;\n   private final Integer port;\n \n-  public static class Builder {}\n+  public DBInfo(String type, String subtype, String shortUrl, String user, String instance, String db, String host,\n+                Integer port) {\n+    this.type = type;\n+    this.subtype = subtype;\n+    this.shortUrl = shortUrl;\n+    this.user = user;\n+    this.instance = instance;\n+    this.db = db;\n+    this.host = host;\n+    this.port = port;\n+  }\n+\n+  public String getType() {\n+    return type;\n+  }\n+\n+  public String getSubtype() {\n+    return subtype;\n+  }\n+\n+  public String getShortUrl() {\n+    return shortUrl;\n+  }\n+\n+  public String getUser() {\n+    return user;\n+  }\n+\n+  public String getInstance() {\n+    return instance;\n+  }\n+\n+  public String getDb() {\n+    return db;\n+  }\n+\n+  public String getHost() {\n+    return host;\n+  }\n+\n+  public Integer getPort() {\n+    return port;\n+  }\n+\n+  public Builder toBuilder() {\n+    return new Builder()\n+            .type(type)\n+            .subtype(subtype)\n+            .shortUrl(shortUrl)\n+            .user(user)\n+            .instance(instance)\n+            .db(db)\n+            .host(host)\n+            .port(port);\n+  }\n+\n+  @Override\n+  public boolean equals(Object o) {\n+    if (this == o) {\n+      return true;\n+    }\n+    if (o == null || getClass() != o.getClass()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dfe4906f8cfd0c88bb2802b89e02c5b972dd0abe"}, "originalPosition": 83}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b9c7630ba15be37504fdd98d5dca40ceea52d6ec", "author": {"user": {"login": "donbeave", "name": "Alexey Zhokhov"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/b9c7630ba15be37504fdd98d5dca40ceea52d6ec", "committedDate": "2020-07-13T06:22:04Z", "message": "Removed duplicated idea config."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4d8e55fd7354b7883cec913e5f217e05dd722ecd", "author": {"user": {"login": "donbeave", "name": "Alexey Zhokhov"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/4d8e55fd7354b7883cec913e5f217e05dd722ecd", "committedDate": "2020-07-13T06:23:02Z", "message": "Code format."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "77cc440728f3649b8e5c3129aff8efaad925540c", "author": {"user": {"login": "donbeave", "name": "Alexey Zhokhov"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/77cc440728f3649b8e5c3129aff8efaad925540c", "committedDate": "2020-07-13T06:49:58Z", "message": "Removed useless usage of Objects.requireNonNull."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "16fa5d6f1aa10eb744e05ddfaa56e55cc62a8dfa", "author": {"user": {"login": "donbeave", "name": "Alexey Zhokhov"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/16fa5d6f1aa10eb744e05ddfaa56e55cc62a8dfa", "committedDate": "2020-07-13T08:40:53Z", "message": "Use instanceof to comparing objects."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ3MDQ4MTg2", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/672#pullrequestreview-447048186", "createdAt": "2020-07-13T08:45:37Z", "commit": {"oid": "16fa5d6f1aa10eb744e05ddfaa56e55cc62a8dfa"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4289d28d472d3f29740977d00cd18bce87949718", "author": {"user": {"login": "donbeave", "name": "Alexey Zhokhov"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/4289d28d472d3f29740977d00cd18bce87949718", "committedDate": "2020-07-13T08:50:36Z", "message": "Code format."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5b52442b2bd2e27334087e351ce10f0e262f930a", "author": {"user": {"login": "donbeave", "name": "Alexey Zhokhov"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/5b52442b2bd2e27334087e351ce10f0e262f930a", "committedDate": "2020-07-13T09:06:39Z", "message": "Code format."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f3c5e8e37e087a634f6577bdf1138bd6b3188453", "author": {"user": {"login": "donbeave", "name": "Alexey Zhokhov"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/f3c5e8e37e087a634f6577bdf1138bd6b3188453", "committedDate": "2020-07-18T11:37:57Z", "message": "Merge branch 'master' of https://github.com/open-telemetry/opentelemetry-java-instrumentation into open-telemetry-master"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9e08511aac9e840889f16a2547e03771fce72687", "author": {"user": {"login": "donbeave", "name": "Alexey Zhokhov"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/9e08511aac9e840889f16a2547e03771fce72687", "committedDate": "2020-07-18T11:38:10Z", "message": "Merge branch 'open-telemetry-master'"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "59f11d29f3b6ce074a3390cd8b84503a81a2fef1", "author": {"user": {"login": "donbeave", "name": "Alexey Zhokhov"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/59f11d29f3b6ce074a3390cd8b84503a81a2fef1", "committedDate": "2020-07-18T11:40:54Z", "message": "Fixes after merge."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUxMDUyMTA1", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/672#pullrequestreview-451052105", "createdAt": "2020-07-18T11:54:18Z", "commit": {"oid": "59f11d29f3b6ce074a3390cd8b84503a81a2fef1"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9ac8e7b9677e5804709704d6c7191637767d267d", "author": {"user": {"login": "donbeave", "name": "Alexey Zhokhov"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/9ac8e7b9677e5804709704d6c7191637767d267d", "committedDate": "2020-07-18T12:02:37Z", "message": "Fixed sneakyThrow exception."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d7836ebbcb5aa2f01e265d5ed84f2098c92c2320", "author": {"user": {"login": "donbeave", "name": "Alexey Zhokhov"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/d7836ebbcb5aa2f01e265d5ed84f2098c92c2320", "committedDate": "2020-07-18T12:07:18Z", "message": "Code format."}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3095, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}