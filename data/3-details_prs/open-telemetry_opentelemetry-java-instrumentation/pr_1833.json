{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTMyNTAyOTM2", "number": 1833, "title": "Bootstrap prefix fix", "bodyText": "This PR consists of two parts.\nFirst, I introduced two new tests, GlassFishSmokeTest and WildflySmokeTest. They use new smoke tests docker images and verify that get expected spans on various combinations of app server/jdk versions. And that we don't crash the app server :). WildFly and GlassFish are notorious for their complicated classloading mechanisms, jboss modules and OSGI respectively. Thus these tests indirectly ensure our compatibility with those. This closes #1595\nSecond, I restored using BootstrapPackagePrefixesHolder in ClassLoaderInstrumentation which enables back BootstrapPackagesProvider SPI. This closes #1594", "createdAt": "2020-12-04T12:28:07Z", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1833", "merged": true, "mergeCommit": {"oid": "ef02da909086f4d436c750b66c22493697de343b"}, "closed": true, "closedAt": "2020-12-05T08:41:01Z", "author": {"login": "iNikem"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdi2Z_DgH2gAyNTMyNTAyOTM2OmMwNGIzY2VkZTRjMGZjOWFmODMyNjU1NzFlZjA2MDkzOGI3MmM4Y2E=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdjGG9agFqTU0NTQxNTM1Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "c04b3cede4c0fc9af83265571ef060938b72c8ca", "author": {"user": {"login": "iNikem", "name": "Nikita Salnikov-Tarnovski"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/c04b3cede4c0fc9af83265571ef060938b72c8ca", "committedDate": "2020-12-04T11:53:55Z", "message": "Proper classloading test for WildFly and GlassFish"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f165d941609fd6bbfe6988cf8024e0b3f0e0f92c", "author": {"user": {"login": "iNikem", "name": "Nikita Salnikov-Tarnovski"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/f165d941609fd6bbfe6988cf8024e0b3f0e0f92c", "committedDate": "2020-12-04T12:20:07Z", "message": "Fix using BootstrapPackagePrefixesHolder"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ0OTYyMjc2", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1833#pullrequestreview-544962276", "createdAt": "2020-12-04T13:34:57Z", "commit": {"oid": "f165d941609fd6bbfe6988cf8024e0b3f0e0f92c"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQxMzozNDo1N1rOH_RIvA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQxMzozNDo1N1rOH_RIvA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjEwMzEwMA==", "bodyText": "This class should be picked automaticallty by muzzle, there's no need to specify it.", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1833#discussion_r536103100", "createdAt": "2020-12-04T13:34:57Z", "author": {"login": "mateuszrzeszutek"}, "path": "instrumentation/classloaders/javaagent/src/main/java/io/opentelemetry/javaagent/instrumentation/javaclassloader/ClassLoaderInstrumentationModule.java", "diffHunk": "@@ -20,7 +20,10 @@ public ClassLoaderInstrumentationModule() {\n \n   @Override\n   protected String[] additionalHelperClassNames() {\n-    return new String[] {\"io.opentelemetry.javaagent.tooling.Constants\"};\n+    return new String[] {\n+      \"io.opentelemetry.javaagent.tooling.Constants\",\n+      \"io.opentelemetry.javaagent.instrumentation.javaclassloader.ClassLoaderInstrumentation$Holder\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f165d941609fd6bbfe6988cf8024e0b3f0e0f92c"}, "originalPosition": 7}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0591340d300d8d1eb0504633cdef113dba22e2fe", "author": {"user": {"login": "iNikem", "name": "Nikita Salnikov-Tarnovski"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/0591340d300d8d1eb0504633cdef113dba22e2fe", "committedDate": "2020-12-04T14:47:03Z", "message": "Polish"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e7d98b5e8f7a0993b24478d95cc210e57fe1a2c6", "author": {"user": {"login": "iNikem", "name": "Nikita Salnikov-Tarnovski"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/e7d98b5e8f7a0993b24478d95cc210e57fe1a2c6", "committedDate": "2020-12-04T16:02:48Z", "message": "Format"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ1NDE1MzUy", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1833#pullrequestreview-545415352", "createdAt": "2020-12-05T06:11:37Z", "commit": {"oid": "e7d98b5e8f7a0993b24478d95cc210e57fe1a2c6"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2134, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}