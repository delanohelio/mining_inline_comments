{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDcwMTM4Mjc4", "number": 1054, "reviewThreads": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOVQxMjo0NTo0NVrOEZ9emg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOVQxNDo0MToyN1rOEaAqFA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk1NjU3MTE0OnYy", "diffSide": "RIGHT", "path": ".github/workflows/pr.yaml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOVQxMjo0NTo0NVrOHDFqdA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOVQxMjo0NTo0NVrOHDFqdA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzAwMDU2NA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    arguments: testJava${{ matrix.java }} --stacktrace\n          \n          \n            \n                      arguments: testJava${{ matrix.java }} --stacktrace", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1054#discussion_r473000564", "createdAt": "2020-08-19T12:45:45Z", "author": {"login": "vlsi"}, "path": ".github/workflows/pr.yaml", "diffHunk": "@@ -24,17 +24,14 @@ jobs:\n         with:\n           java-version: 11\n \n-      - name: Cache gradle dependencies\n+      - name: Test\n         uses: burrunan/gradle-cache-action@v1\n+        env:\n+          S3_BUILD_CACHE_ACCESS_KEY_ID: ${{ secrets.S3_BUILD_CACHE_ACCESS_KEY_ID }}\n+          S3_BUILD_CACHE_SECRET_KEY: ${{ secrets.S3_BUILD_CACHE_SECRET_KEY }}\n         with:\n           job-id: jdk${{ matrix.java }}\n-\n-      - name: Test with Gradle\n-        uses: nick-invision/retry@v1\n-        with:\n-          command: ./gradlew testJava${{ matrix.java }} --stacktrace\n-          timeout_minutes: 60\n-          max_attempts: 3\n+        arguments: testJava${{ matrix.java }} --stacktrace", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e5915bae2e7cf5afe625586e8e35e2d462f1fd45"}, "originalPosition": 19}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk1NjU3MTg4OnYy", "diffSide": "RIGHT", "path": ".github/workflows/nightly.yaml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOVQxMjo0NTo1N1rOHDFq5A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOVQxMjo0NTo1N1rOHDFq5A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzAwMDY3Ng==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    arguments: test -PtestLatestDeps=true --stacktrace\n          \n          \n            \n                      arguments: test -PtestLatestDeps=true --stacktrace", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1054#discussion_r473000676", "createdAt": "2020-08-19T12:45:57Z", "author": {"login": "vlsi"}, "path": ".github/workflows/nightly.yaml", "diffHunk": "@@ -63,20 +57,14 @@ jobs:\n         with:\n           java-version: 11\n \n-      - name: Cache gradle dependencies\n+      - name: Test\n         uses: burrunan/gradle-cache-action@v1\n         with:\n           job-id: latestDepTest\n-\n-      - name: Test with Gradle\n-        uses: nick-invision/retry@v1\n         env:\n           S3_BUILD_CACHE_ACCESS_KEY_ID: ${{ secrets.S3_BUILD_CACHE_ACCESS_KEY_ID }}\n           S3_BUILD_CACHE_SECRET_KEY: ${{ secrets.S3_BUILD_CACHE_SECRET_KEY }}\n-        with:\n-          command: ./gradlew test -PtestLatestDeps=true --stacktrace\n-          timeout_minutes: 60\n-          max_attempts: 3\n+        arguments: test -PtestLatestDeps=true --stacktrace", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e5915bae2e7cf5afe625586e8e35e2d462f1fd45"}, "originalPosition": 43}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk1NjU3MjQ0OnYy", "diffSide": "RIGHT", "path": ".github/workflows/nightly.yaml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOVQxMjo0NjowNVrOHDFrQw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOVQxMjo0NjowNVrOHDFrQw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzAwMDc3MQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    arguments: testJava${{ matrix.java }} --stacktrace -Dorg.gradle.caching.debug=true\n          \n          \n            \n                      arguments: testJava${{ matrix.java }} --stacktrace -Dorg.gradle.caching.debug=true", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1054#discussion_r473000771", "createdAt": "2020-08-19T12:46:05Z", "author": {"login": "vlsi"}, "path": ".github/workflows/nightly.yaml", "diffHunk": "@@ -28,20 +28,14 @@ jobs:\n         with:\n           java-version: 11\n \n-      - name: Cache gradle dependencies\n+      - name: Test\n         uses: burrunan/gradle-cache-action@v1\n-        with:\n-          job-id: jdk${{ matrix.java }}\n-\n-      - name: Test with Gradle\n-        uses: nick-invision/retry@v1\n         env:\n           S3_BUILD_CACHE_ACCESS_KEY_ID: ${{ secrets.S3_BUILD_CACHE_ACCESS_KEY_ID }}\n           S3_BUILD_CACHE_SECRET_KEY: ${{ secrets.S3_BUILD_CACHE_SECRET_KEY }}\n         with:\n-          command: ./gradlew testJava${{ matrix.java }} --stacktrace\n-          timeout_minutes: 60\n-          max_attempts: 3\n+          job-id: jdk${{ matrix.java }}\n+        arguments: testJava${{ matrix.java }} --stacktrace -Dorg.gradle.caching.debug=true", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e5915bae2e7cf5afe625586e8e35e2d462f1fd45"}, "originalPosition": 20}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk1NzA3Nzg5OnYy", "diffSide": "RIGHT", "path": ".github/workflows/nightly.yaml", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOVQxNDozODoyMlrOHDKjKA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOVQxNDo0OTozMlrOHDLDPQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzA4MDYxNg==", "bodyText": "Looks like gradle-caching-runner or the like will be a good name. Not surprising to see the best caching comes with having full visibility to Gradle.", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1054#discussion_r473080616", "createdAt": "2020-08-19T14:38:22Z", "author": {"login": "anuraaga"}, "path": ".github/workflows/nightly.yaml", "diffHunk": "@@ -28,20 +28,14 @@ jobs:\n         with:\n           java-version: 11\n \n-      - name: Cache gradle dependencies\n+      - name: Test\n         uses: burrunan/gradle-cache-action@v1", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7e66b138704e4a74c74f7bc1e51df1e897cd65a0"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzA4ODgyOQ==", "bodyText": "Naming is hard :)\nThanks for the suggestion.\nI see JUnit team uses the following, and it can't be folded to a single command, so I'm exploring ways to allow multiple (Gradle? Shell?) commands to be executed (to avoid copy-paste the boring uses:...)\nrun: |\n  ./gradlew --version\n  ./gradlew build", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1054#discussion_r473088829", "createdAt": "2020-08-19T14:49:32Z", "author": {"login": "vlsi"}, "path": ".github/workflows/nightly.yaml", "diffHunk": "@@ -28,20 +28,14 @@ jobs:\n         with:\n           java-version: 11\n \n-      - name: Cache gradle dependencies\n+      - name: Test\n         uses: burrunan/gradle-cache-action@v1", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzA4MDYxNg=="}, "originalCommit": {"oid": "7e66b138704e4a74c74f7bc1e51df1e897cd65a0"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk1NzA4ODQ0OnYy", "diffSide": "RIGHT", "path": ".github/workflows/nightly.yaml", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOVQxNDo0MDozOVrOHDKpwA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOVQxNToxODo0NFrOHDMWGw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzA4MjMwNA==", "bodyText": "While we're here how about Test on ${{matrix.java}}?", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1054#discussion_r473082304", "createdAt": "2020-08-19T14:40:39Z", "author": {"login": "anuraaga"}, "path": ".github/workflows/nightly.yaml", "diffHunk": "@@ -28,20 +28,14 @@ jobs:\n         with:\n           java-version: 11\n \n-      - name: Cache gradle dependencies\n+      - name: Test", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7e66b138704e4a74c74f7bc1e51df1e897cd65a0"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzExMDA0Mw==", "bodyText": "We already have in job name. Isn't it enough?", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1054#discussion_r473110043", "createdAt": "2020-08-19T15:18:44Z", "author": {"login": "iNikem"}, "path": ".github/workflows/nightly.yaml", "diffHunk": "@@ -28,20 +28,14 @@ jobs:\n         with:\n           java-version: 11\n \n-      - name: Cache gradle dependencies\n+      - name: Test", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzA4MjMwNA=="}, "originalCommit": {"oid": "7e66b138704e4a74c74f7bc1e51df1e897cd65a0"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk1NzA5MDQyOnYy", "diffSide": "RIGHT", "path": ".github/workflows/nightly.yaml", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOVQxNDo0MTowOVrOHDKrIg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOVQxNDo0MTowOVrOHDKrIg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzA4MjY1OA==", "bodyText": "Similarly how about Test latest deps?", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1054#discussion_r473082658", "createdAt": "2020-08-19T14:41:09Z", "author": {"login": "anuraaga"}, "path": ".github/workflows/nightly.yaml", "diffHunk": "@@ -63,20 +57,14 @@ jobs:\n         with:\n           java-version: 11\n \n-      - name: Cache gradle dependencies\n+      - name: Test", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7e66b138704e4a74c74f7bc1e51df1e897cd65a0"}, "originalPosition": 29}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk1NzA5MjA0OnYy", "diffSide": "RIGHT", "path": ".github/workflows/pr.yaml", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOVQxNDo0MToyN1rOHDKsEQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOVQxNDo0MToyN1rOHDKsEQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzA4Mjg5Nw==", "bodyText": "Ditto", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1054#discussion_r473082897", "createdAt": "2020-08-19T14:41:27Z", "author": {"login": "anuraaga"}, "path": ".github/workflows/pr.yaml", "diffHunk": "@@ -24,17 +24,11 @@ jobs:\n         with:\n           java-version: 11\n \n-      - name: Cache gradle dependencies\n+      - name: Test", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7e66b138704e4a74c74f7bc1e51df1e897cd65a0"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 79, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}