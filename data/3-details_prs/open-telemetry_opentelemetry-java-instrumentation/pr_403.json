{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE3NzgxMzEx", "number": 403, "title": "Artifactory and bintray publish", "bodyText": "Fixes #384\nPublish functionality is applied to 4 modules for now: 3 exporters and java-agent module which produces the final fat-jar for the agent.\nAlthough Bintray publishing is configured here, it probably is not usable yet, because actual version to publish is not configured. This is a topic of separate discussion and PR.\nPublish of snapshot builds to Artifactory should work and our usual master build CI job is expected to actually do it.", "createdAt": "2020-05-14T06:32:51Z", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/403", "merged": true, "mergeCommit": {"oid": "c248f140aaafb7a772307e440c38791d6833d350"}, "closed": true, "closedAt": "2020-06-09T04:56:13Z", "author": {"login": "iNikem"}, "timelineItems": {"totalCount": 20, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcg57TEgH2gAyNDE3NzgxMzExOmYzMTNjZmUxZmMzYzZlMmVjODE1ZjJkNWRmZjc0ODJmMWE1NTRmMDg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcpVPfNAH2gAyNDE3NzgxMzExOjkwNGI4M2Y5NzhlMGQ4MTNmOTE0Mzg2NTgxYzE0ZjlmNWI0YjczYTM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "f313cfe1fc3c6e2ec815f2d5dff7482f1a554f08", "author": {"user": {"login": "iNikem", "name": "Nikita Salnikov-Tarnovski"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/f313cfe1fc3c6e2ec815f2d5dff7482f1a554f08", "committedDate": "2020-05-13T14:41:01Z", "message": "Artifactory and bintray publish"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3d544801b841d1f7091beb3e327a2547779e8403", "author": {"user": {"login": "iNikem", "name": "Nikita Salnikov-Tarnovski"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/3d544801b841d1f7091beb3e327a2547779e8403", "committedDate": "2020-05-14T12:09:30Z", "message": "Delegate version management to Nebula"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "19447050fc16a996dd41b24e4895629528c69296", "author": {"user": {"login": "iNikem", "name": "Nikita Salnikov-Tarnovski"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/19447050fc16a996dd41b24e4895629528c69296", "committedDate": "2020-05-14T13:44:28Z", "message": "Proposal of new release process"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2b9f77b96c870e7cd9959c0e7d5f591a4178836b", "author": {"user": {"login": "iNikem", "name": "Nikita Salnikov-Tarnovski"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/2b9f77b96c870e7cd9959c0e7d5f591a4178836b", "committedDate": "2020-05-25T07:46:34Z", "message": "New CI jobs for releasing"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5cc29870a1e64a4c9580f49ffd3e81735121335e", "author": {"user": {"login": "iNikem", "name": "Nikita Salnikov-Tarnovski"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/5cc29870a1e64a4c9580f49ffd3e81735121335e", "committedDate": "2020-05-25T07:51:08Z", "message": "Merge branch 'master' into gh-384"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "678b7db7edc067c7eb95758ec52be7af8da4cb4a", "author": {"user": {"login": "iNikem", "name": "Nikita Salnikov-Tarnovski"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/678b7db7edc067c7eb95758ec52be7af8da4cb4a", "committedDate": "2020-05-25T08:36:25Z", "message": "Fix nebula versioning"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE3ODY2Nzg1", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/403#pullrequestreview-417866785", "createdAt": "2020-05-25T20:25:52Z", "commit": {"oid": "5cc29870a1e64a4c9580f49ffd3e81735121335e"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNVQyMDoyNTo1MlrOGaJL7A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNVQyMDo1Nzo0MlrOGaJj9g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDA2NjY2OA==", "bodyText": "delete this file?", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/403#discussion_r430066668", "createdAt": "2020-05-25T20:25:52Z", "author": {"login": "trask"}, "path": "gradle/version.gradle", "diffHunk": "@@ -1,22 +1,22 @@\n-def getGitHash = { ->\n-  def stdout = new ByteArrayOutputStream()\n-  exec {\n-    commandLine 'git', 'rev-parse', '--short', 'HEAD'\n-    standardOutput = stdout\n-  }\n-  return stdout.toString().trim()\n-}\n-\n-tasks.register(\"writeVersionNumberFile\") {\n-\n-  def versionFile = file(\"${sourceSets.main.output.resourcesDir}/${project.name}.version\")\n-  inputs.property \"version\", project.version\n-  outputs.file versionFile\n-\n-  doFirst {\n-    assert versionFile.parentFile.mkdirs() || versionFile.parentFile.directory\n-    versionFile.text = \"${project.version}~${getGitHash()}\"\n-  }\n-}\n-\n-compileJava.dependsOn writeVersionNumberFile\n+//def getGitHash = { ->\n+//  def stdout = new ByteArrayOutputStream()\n+//  exec {\n+//    commandLine 'git', 'rev-parse', '--short', 'HEAD'\n+//    standardOutput = stdout\n+//  }\n+//  return stdout.toString().trim()\n+//}\n+//\n+//tasks.register(\"writeVersionNumberFile\") {\n+//\n+//  def versionFile = file(\"${sourceSets.main.output.resourcesDir}/${project.name}.version\")\n+//  inputs.property \"version\", project.version\n+//  outputs.file versionFile\n+//\n+//  doFirst {\n+//    assert versionFile.parentFile.mkdirs() || versionFile.parentFile.directory\n+//    versionFile.text = \"${project.version}~${getGitHash()}\"\n+//  }\n+//}\n+//\n+//compileJava.dependsOn writeVersionNumberFile", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5cc29870a1e64a4c9580f49ffd3e81735121335e"}, "originalPosition": 44}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDA3MjYzMg==", "bodyText": "should we uncomment and keep this one? (probably my mistake to comment it out)", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/403#discussion_r430072632", "createdAt": "2020-05-25T20:56:43Z", "author": {"login": "trask"}, "path": ".circleci/config.yml", "diffHunk": "@@ -360,19 +343,9 @@ workflows:\n       - publish_tag:\n           requires:\n             - test_7\n-            # - test_8", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5cc29870a1e64a4c9580f49ffd3e81735121335e"}, "originalPosition": 168}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDA3MjgyMg==", "bodyText": "should we uncomment and keep this one? (probably my mistake to comment it out)", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/403#discussion_r430072822", "createdAt": "2020-05-25T20:57:42Z", "author": {"login": "trask"}, "path": ".circleci/config.yml", "diffHunk": "@@ -337,19 +330,9 @@ workflows:\n       - publish_master:\n           requires:\n             - test_7\n-            # - test_8", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5cc29870a1e64a4c9580f49ffd3e81735121335e"}, "originalPosition": 148}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "62fda4bd017be6f1fff446e229ca73b313406f73", "author": {"user": {"login": "iNikem", "name": "Nikita Salnikov-Tarnovski"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/62fda4bd017be6f1fff446e229ca73b313406f73", "committedDate": "2020-05-27T08:14:11Z", "message": "Polish"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bac0fd09f1786659ab643884b9178df9193e7bba", "author": {"user": {"login": "iNikem", "name": "Nikita Salnikov-Tarnovski"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/bac0fd09f1786659ab643884b9178df9193e7bba", "committedDate": "2020-05-27T08:16:42Z", "message": "Fix CI"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "be37505399d52f8bda13a71b50bd945267ad7b3c", "author": {"user": {"login": "iNikem", "name": "Nikita Salnikov-Tarnovski"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/be37505399d52f8bda13a71b50bd945267ad7b3c", "committedDate": "2020-05-27T08:30:55Z", "message": "Merge remote-tracking branch 'upstream/master' into gh-384"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "96477d907591d71cbabcf2ca222e9eecada47140", "author": {"user": {"login": "iNikem", "name": "Nikita Salnikov-Tarnovski"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/96477d907591d71cbabcf2ca222e9eecada47140", "committedDate": "2020-05-27T18:18:28Z", "message": "Merge branch 'master' into gh-384"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "58140abc20d62d30db1f9204b819167133df1ef7", "author": {"user": {"login": "iNikem", "name": "Nikita Salnikov-Tarnovski"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/58140abc20d62d30db1f9204b819167133df1ef7", "committedDate": "2020-05-31T20:04:57Z", "message": "Publish snapshot from master must depend on test_8"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "71f570b823c0569c39e991d33b5280aea0d7dc0e", "author": {"user": {"login": "trask", "name": "Trask Stalnaker"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/71f570b823c0569c39e991d33b5280aea0d7dc0e", "committedDate": "2020-05-31T23:36:31Z", "message": "Merge branch 'master' into gh-384"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIyMDcxOTU0", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/403#pullrequestreview-422071954", "createdAt": "2020-06-01T18:15:55Z", "commit": {"oid": "71f570b823c0569c39e991d33b5280aea0d7dc0e"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "da8c55628424309930a17210cb0cf005d9390f09", "author": {"user": {"login": "iNikem", "name": "Nikita Salnikov-Tarnovski"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/da8c55628424309930a17210cb0cf005d9390f09", "committedDate": "2020-06-05T16:24:01Z", "message": "Fix repo name"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bf920ee2ff657f0ca24843c26fbf05c55296610b", "author": {"user": {"login": "iNikem", "name": "Nikita Salnikov-Tarnovski"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/bf920ee2ff657f0ca24843c26fbf05c55296610b", "committedDate": "2020-06-05T16:40:33Z", "message": "Restore version file creation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f20719aec5f9cc90be2c060dcff7cb08b312d10d", "author": {"user": {"login": "iNikem", "name": "Nikita Salnikov-Tarnovski"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/f20719aec5f9cc90be2c060dcff7cb08b312d10d", "committedDate": "2020-06-08T07:46:49Z", "message": "Use correct env variable for Bintray credentials"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "09519d6e6e55623025da88ce372f56ab90d8d4e4", "author": {"user": {"login": "iNikem", "name": "Nikita Salnikov-Tarnovski"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/09519d6e6e55623025da88ce372f56ab90d8d4e4", "committedDate": "2020-06-08T07:46:57Z", "message": "Merge branch 'master' into gh-384"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI2Mzk1ODcw", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/403#pullrequestreview-426395870", "createdAt": "2020-06-08T16:10:18Z", "commit": {"oid": "09519d6e6e55623025da88ce372f56ab90d8d4e4"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "904b83f978e0d813f914386581c14f9f5b4b73a3", "author": {"user": {"login": "trask", "name": "Trask Stalnaker"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/904b83f978e0d813f914386581c14f9f5b4b73a3", "committedDate": "2020-06-08T19:01:54Z", "message": "Merge branch 'master' into gh-384"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3164, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}