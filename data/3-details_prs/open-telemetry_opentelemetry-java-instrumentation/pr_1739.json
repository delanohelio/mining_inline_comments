{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI1NDcyMjQz", "number": 1739, "title": "Use namespace for attributes put into user classes", "bodyText": "Closes #1652", "createdAt": "2020-11-23T05:57:49Z", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1739", "merged": true, "mergeCommit": {"oid": "a5a36bd2036139e9ecf3a4560c51ba39ad080655"}, "closed": true, "closedAt": "2020-11-24T20:07:11Z", "author": {"login": "trask"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdfOr5FAH2gAyNTI1NDcyMjQzOmJhNjhlNzc4MDBjYzEyYjU5MzViZjkwMjFmNDhlZGY0MTFmZGUyNTk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdfkFYigFqTUzNzExOTcyOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "ba68e77800cc12b5935bf9021f48edf411fde259", "author": {"user": {"login": "trask", "name": "Trask Stalnaker"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/ba68e77800cc12b5935bf9021f48edf411fde259", "committedDate": "2020-11-23T05:55:30Z", "message": "Use namespace for attributes put into user classes"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM2MTkxNDQ3", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1739#pullrequestreview-536191447", "createdAt": "2020-11-23T05:58:59Z", "commit": {"oid": "ba68e77800cc12b5935bf9021f48edf411fde259"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QwNTo1ODo1OVrOH4AHGg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QwNTo1ODo1OVrOH4AHGg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODQ4NDEyMg==", "bodyText": "removed TODO because I checked and this attribute is being used to pass Span and call end on it, no need to pass Context", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1739#discussion_r528484122", "createdAt": "2020-11-23T05:58:59Z", "author": {"login": "trask"}, "path": "instrumentation/netty/netty-4.1/src/main/java/io/opentelemetry/javaagent/instrumentation/netty/v4_1/AttributeKeys.java", "diffHunk": "@@ -26,23 +24,22 @@\n             }\n           };\n \n-  public static final AttributeKey<Context> PARENT_CONNECT_CONTEXT_ATTRIBUTE_KEY =\n-      attributeKey(\"io.opentelemetry.javaagent.instrumentation.netty.v4_1.parent.connect.context\");\n+  public static final AttributeKey<Context> CONNECT_CONTEXT_ATTRIBUTE_KEY =\n+      attributeKey(AttributeKeys.class.getName() + \"connect.context\");\n \n   /**\n    * This constant is copied over to\n    * io.opentelemetry.javaagent.instrumentation.ratpack.server.TracingHandler, so if this changes,\n    * that must also change.\n    */\n   public static final AttributeKey<Context> SERVER_ATTRIBUTE_KEY =\n-      attributeKey(HttpServerTracingHandler.class.getName() + \".context\");\n+      attributeKey(AttributeKeys.class.getName() + \".context\");\n \n-  // TODO understand and change to context\n   public static final AttributeKey<Span> CLIENT_ATTRIBUTE_KEY =\n-      attributeKey(HttpClientTracingHandler.class.getName() + \".span\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ba68e77800cc12b5935bf9021f48edf411fde259"}, "originalPosition": 29}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM2MjAyNTMy", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1739#pullrequestreview-536202532", "createdAt": "2020-11-23T06:38:54Z", "commit": {"oid": "ba68e77800cc12b5935bf9021f48edf411fde259"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QwNjozODo1NFrOH4ArRw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QwNjozODo1NFrOH4ArRw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODQ5MzM4Mw==", "bodyText": "Should this use class as well?", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1739#discussion_r528493383", "createdAt": "2020-11-23T06:38:54Z", "author": {"login": "iNikem"}, "path": "instrumentation/ratpack-1.4/src/main/java/io/opentelemetry/javaagent/instrumentation/ratpack/TracingHandler.java", "diffHunk": "@@ -25,7 +25,7 @@\n    */\n   public static final AttributeKey<io.opentelemetry.context.Context> SERVER_ATTRIBUTE_KEY =\n       AttributeKey.valueOf(\n-          \"io.opentelemetry.javaagent.instrumentation.netty.v4_1.server.HttpServerTracingHandler.context\");\n+          \"io.opentelemetry.javaagent.instrumentation.netty.v4_1.AttributeKeys.context\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ba68e77800cc12b5935bf9021f48edf411fde259"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9b60d5cb26393ce8d072e94441091421b1298945", "author": {"user": {"login": "trask", "name": "Trask Stalnaker"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/9b60d5cb26393ce8d072e94441091421b1298945", "committedDate": "2020-11-23T22:33:15Z", "message": "Add dependency to remove duplication"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM3MTE4MDEy", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1739#pullrequestreview-537118012", "createdAt": "2020-11-24T06:47:34Z", "commit": {"oid": "9b60d5cb26393ce8d072e94441091421b1298945"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQwNjo0NzozNVrOH4uDXg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQwNjo0NzozNVrOH4uDXg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTIzNjgzMA==", "bodyText": "For Netty 4.1, maybe we can just use it's native AttributeKey.valueOf(Class<?>, String)", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1739#discussion_r529236830", "createdAt": "2020-11-24T06:47:35Z", "author": {"login": "anuraaga"}, "path": "instrumentation/netty/netty-4.1/src/main/java/io/opentelemetry/javaagent/instrumentation/netty/v4_1/AttributeKeys.java", "diffHunk": "@@ -26,23 +24,18 @@\n             }\n           };\n \n-  public static final AttributeKey<Context> PARENT_CONNECT_CONTEXT_ATTRIBUTE_KEY =\n-      attributeKey(\"io.opentelemetry.javaagent.instrumentation.netty.v4_1.parent.connect.context\");\n+  public static final AttributeKey<Context> CONNECT_CONTEXT_ATTRIBUTE_KEY =", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9b60d5cb26393ce8d072e94441091421b1298945"}, "originalPosition": 15}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM3MTE5NzI5", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1739#pullrequestreview-537119729", "createdAt": "2020-11-24T06:51:21Z", "commit": {"oid": "9b60d5cb26393ce8d072e94441091421b1298945"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2056, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}