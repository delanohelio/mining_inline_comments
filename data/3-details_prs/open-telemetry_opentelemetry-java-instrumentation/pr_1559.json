{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE1ODA5OTU2", "number": 1559, "title": "Tag smoke test images with date and run ID from workflow.", "bodyText": "I think it's too confusing to have three different tags (based on the seconds value) for the same image but different JRE. We have a perfectly good identifier that's consistent and back-referencable, the github sha :)\nChangelog:\nTooling:\n\nSmoke test images now are tagged with a consistent tag per build of \"DATE.TIME.GITHUB_RUN_ID\"", "createdAt": "2020-11-05T05:41:44Z", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1559", "merged": true, "mergeCommit": {"oid": "6c1dabf7821f6ecb99e193b8d8a78b44b8b11f3d"}, "closed": true, "closedAt": "2020-11-05T10:11:30Z", "author": {"login": "anuraaga"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdZbryCAH2gAyNTE1ODA5OTU2OmU1NGVlZjYxYTk3ZGVhZmIxZDRhZjlmOWM5OWQwYzMzMTkyZDliMmM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdZfWqQgFqTUyNDA5NjM5MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "e54eef61a97deafb1d4af9f9c99d0c33192d9b2c", "author": {"user": {"login": "anuraaga", "name": "Anuraag Agrawal"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/e54eef61a97deafb1d4af9f9c99d0c33192d9b2c", "committedDate": "2020-11-05T05:40:36Z", "message": "Tag smoke test images with sha from workflow."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIzOTQxMDk1", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1559#pullrequestreview-523941095", "createdAt": "2020-11-05T05:46:40Z", "commit": {"oid": "e54eef61a97deafb1d4af9f9c99d0c33192d9b2c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b44aa05e915b34ba067c46842c2cfd508fe4ae8d", "author": {"user": {"login": "anuraaga", "name": "Anuraag Agrawal"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/b44aa05e915b34ba067c46842c2cfd508fe4ae8d", "committedDate": "2020-11-05T08:47:44Z", "message": "Pass tag as date from workflow"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "20065821ff9fcb78b0fc1b4bf975ad59c8d6d6a8", "author": {"user": {"login": "anuraaga", "name": "Anuraag Agrawal"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/20065821ff9fcb78b0fc1b4bf975ad59c8d6d6a8", "committedDate": "2020-11-05T08:47:49Z", "message": "Merge branch 'master' of github.com:open-telemetry/opentelemetry-java-instrumentation into tag-images-with-sha"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6f5a02cf9a641c5ca667e93c6ae1aeff7bded878", "author": {"user": {"login": "anuraaga", "name": "Anuraag Agrawal"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/6f5a02cf9a641c5ca667e93c6ae1aeff7bded878", "committedDate": "2020-11-05T08:55:08Z", "message": "Echo tag which is nice to see in logs"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI0MDQ5MTE1", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1559#pullrequestreview-524049115", "createdAt": "2020-11-05T09:01:02Z", "commit": {"oid": "6f5a02cf9a641c5ca667e93c6ae1aeff7bded878"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQwOTowMTowMlrOHt5d_A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQwOTowMTowMlrOHt5d_A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzg4OTUzMg==", "bodyText": "Please think about @vovencij suggestion about using date+number as more stable tag.", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1559#discussion_r517889532", "createdAt": "2020-11-05T09:01:02Z", "author": {"login": "iNikem"}, "path": ".github/workflows/build-grpc-smoke-dist.yaml", "diffHunk": "@@ -28,7 +28,9 @@ jobs:\n \n       - name: Build Docker Image\n         run: |\n-          ./gradlew jib -PtargetJDK=8 -Djib.httpTimeout=120000 -Djib.console=plain --stacktrace\n-          ./gradlew jib -PtargetJDK=11 -Djib.httpTimeout=120000 -Djib.console=plain --stacktrace\n-          ./gradlew jib -PtargetJDK=15 -Djib.httpTimeout=120000 -Djib.console=plain --stacktrace\n+          TAG=$(date '+%Y%m%d.%H%M%S')", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6f5a02cf9a641c5ca667e93c6ae1aeff7bded878"}, "originalPosition": 7}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9fa7584c13e1e8a8f6cd84a8c8ed12eb7fb7aadf", "author": {"user": {"login": "anuraaga", "name": "Anuraag Agrawal"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/9fa7584c13e1e8a8f6cd84a8c8ed12eb7fb7aadf", "committedDate": "2020-11-05T09:02:56Z", "message": "Add run ID"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6c7c3a0464038e32514fcfb425b19605e4968bdf", "author": {"user": {"login": "anuraaga", "name": "Anuraag Agrawal"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/6c7c3a0464038e32514fcfb425b19605e4968bdf", "committedDate": "2020-11-05T09:06:36Z", "message": "Remove seconds"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8f87a84dd8147fc987b55cd9af55fd3e0657e281", "author": {"user": {"login": "anuraaga", "name": "Anuraag Agrawal"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/8f87a84dd8147fc987b55cd9af55fd3e0657e281", "committedDate": "2020-11-05T09:08:21Z", "message": "Missed files"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI0MDc1MTI1", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1559#pullrequestreview-524075125", "createdAt": "2020-11-05T09:32:00Z", "commit": {"oid": "8f87a84dd8147fc987b55cd9af55fd3e0657e281"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI0MDk2Mzkx", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1559#pullrequestreview-524096391", "createdAt": "2020-11-05T09:57:09Z", "commit": {"oid": "8f87a84dd8147fc987b55cd9af55fd3e0657e281"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2177, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}