{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTEzODE2Nzcw", "number": 1539, "title": "Update to latest SDK snapshot", "bodyText": "", "createdAt": "2020-11-02T06:14:12Z", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1539", "merged": true, "mergeCommit": {"oid": "5d2cb459df59b0f5766e4e48dc87db249330c852"}, "closed": true, "closedAt": "2020-11-02T07:07:54Z", "author": {"login": "anuraaga"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdYeX-_AH2gAyNTEzODE2NzcwOjU3Yzg0M2QyYmQ3YmZiZTkxMGM2YTVmYmUyZTZjYjIzNTgzYTY4Yjk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdYeaDzAFqTUyMTM1MzUzNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "57c843d2bd7bfbe910c6a5fbe2e6cb23583a68b9", "author": {"user": {"login": "anuraaga", "name": "Anuraag Agrawal"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/57c843d2bd7bfbe910c6a5fbe2e6cb23583a68b9", "committedDate": "2020-11-02T06:14:46Z", "message": "Update to latest SDK snapshot"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8e2d444be146ceee4f1a9dc665083797d965c250", "author": {"user": {"login": "anuraaga", "name": "Anuraag Agrawal"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/8e2d444be146ceee4f1a9dc665083797d965c250", "committedDate": "2020-11-02T06:11:18Z", "message": "Update to latest SDK snapshot"}, "afterCommit": {"oid": "57c843d2bd7bfbe910c6a5fbe2e6cb23583a68b9", "author": {"user": {"login": "anuraaga", "name": "Anuraag Agrawal"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/57c843d2bd7bfbe910c6a5fbe2e6cb23583a68b9", "committedDate": "2020-11-02T06:14:46Z", "message": "Update to latest SDK snapshot"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIxMzUzMDUw", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1539#pullrequestreview-521353050", "createdAt": "2020-11-02T06:15:32Z", "commit": {"oid": "57c843d2bd7bfbe910c6a5fbe2e6cb23583a68b9"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wMlQwNjoxNTozMlrOHr3Y8g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wMlQwNjoxNTozMlrOHr3Y8g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTc1ODMyMg==", "bodyText": "Silly groovy, accessing a private field without restraint :D", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1539#discussion_r515758322", "createdAt": "2020-11-02T06:15:32Z", "author": {"login": "anuraaga"}, "path": "instrumentation/log4j/log4j-1.2/src/test/groovy/Log4j1MdcTest.groovy", "diffHunk": "@@ -47,23 +47,23 @@ class Log4j1MdcTest extends AgentTestRunner {\n     when:\n     def span1 = TraceUtils.runUnderTrace(\"test\") {\n       logger.info(\"log message 1\")\n-      TracingContextUtils.currentSpan\n+      Span.current()\n     }\n \n     logger.info(\"log message 2\")\n \n     def span2 = TraceUtils.runUnderTrace(\"test 2\") {\n       logger.info(\"log message 3\")\n-      TracingContextUtils.currentSpan\n+      Span.current()\n     }\n \n     then:\n     def events = ListAppender.events\n \n     events.size() == 3\n     events[0].message == \"log message 1\"\n-    events[0].getMDC(TRACE_ID) == span1.context.traceIdAsHexString\n-    events[0].getMDC(SPAN_ID) == span1.context.spanIdAsHexString\n+    events[0].getMDC(TRACE_ID) == span1.spanContext.traceIdAsHexString", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "57c843d2bd7bfbe910c6a5fbe2e6cb23583a68b9"}, "originalPosition": 34}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIxMzUzNTM0", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1539#pullrequestreview-521353534", "createdAt": "2020-11-02T06:17:02Z", "commit": {"oid": "57c843d2bd7bfbe910c6a5fbe2e6cb23583a68b9"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2442, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}