{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDEwODExMDUw", "number": 366, "title": "Normalize sql statements to elide literal numbers and strings.", "bodyText": "Normalize sql statements using a javacc-based lexer.\n\nReplace sql numeric and string literals with a ?\nUnit tests for sql normalization, including edge cases like thousands of quote marks\nAdjust existing instrumentation tests accordingly to expect normalized sql in spans\nAdd configuration option to disable this feature\nFix weird edge case in muzzle: ReferenceMatcher's handling of primitive values was preventing helper classes from using primitive fields (primitive arrays were fine) due to two different reflective type systems in use with different representations of said primitive types.", "createdAt": "2020-04-29T16:11:11Z", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/366", "merged": true, "mergeCommit": {"oid": "ca296b92fd150f187c405f711e8c29450c9c5d49"}, "closed": true, "closedAt": "2020-05-04T19:17:56Z", "author": {"login": "johnbley"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABccau8TAH2gAyNDEwODExMDUwOjEwNTJkOWJhODAzMjE2NWIyZTA1Y2E0YzA4Yzc0YjI4NGYwMjA2NzE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABceEAQxgH2gAyNDEwODExMDUwOmE1ZjdkMTZlMzAyODI4ZTNmZDdjN2UxMGYwNWJmMWYzMjUwNzc1ZmI=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "1052d9ba8032165b2e05ca4c08c74b284f020671", "author": {"user": {"login": "johnbley", "name": "John Bley"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/1052d9ba8032165b2e05ca4c08c74b284f020671", "committedDate": "2020-04-29T16:04:46Z", "message": "Normalize sql statements to elide literal numbers and strings."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5a09851fd791f52bfa05ff1a1f3b7b55b9b4ddfd", "author": {"user": {"login": "johnbley", "name": "John Bley"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/5a09851fd791f52bfa05ff1a1f3b7b55b9b4ddfd", "committedDate": "2020-04-29T16:30:53Z", "message": "Missed one SlickTest sql normalization."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAyODc5NjA3", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/366#pullrequestreview-402879607", "createdAt": "2020-04-29T17:22:14Z", "commit": {"oid": "5a09851fd791f52bfa05ff1a1f3b7b55b9b4ddfd"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQxNzoyMjoxNFrOGOJKyA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQxNzoyMjoxNFrOGOJKyA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzQ4MzQ2NA==", "bodyText": "I hear you about naming boolean settings so that the default maps to false, but I think this naming would be more consistent with the existing settings:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              public static final String DISABLE_SQL_NORMALIZER = \"disable.sql.normalizer\";\n          \n          \n            \n              public static final boolean DEFAULT_DISABLE_SQL_NORMALIZER = false;\n          \n          \n            \n              public static final String SQL_NORMALIZER_ENABLED = \"sql.normalizer.enabled\";\n          \n          \n            \n              public static final boolean DEFAULT_SQL_NORMALIZER_ENABLED = true;", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/366#discussion_r417483464", "createdAt": "2020-04-29T17:22:14Z", "author": {"login": "trask"}, "path": "agent-bootstrap/src/main/java/io/opentelemetry/auto/config/Config.java", "diffHunk": "@@ -96,6 +96,9 @@\n   private static final String DEFAULT_TRACE_EXECUTORS = \"\";\n   private static final String DEFAULT_TRACE_METHODS = null;\n \n+  public static final String DISABLE_SQL_NORMALIZER = \"disable.sql.normalizer\";\n+  public static final boolean DEFAULT_DISABLE_SQL_NORMALIZER = false;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5a09851fd791f52bfa05ff1a1f3b7b55b9b4ddfd"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f5bf116c7b469d034faeb37399e650d0ebef121a", "author": {"user": {"login": "johnbley", "name": "John Bley"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/f5bf116c7b469d034faeb37399e650d0ebef121a", "committedDate": "2020-04-29T17:25:56Z", "message": "Fix muzzle order for helper classes."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7b940b002093eaa3444250665d3f9e2817e37285", "author": {"user": {"login": "johnbley", "name": "John Bley"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/7b940b002093eaa3444250665d3f9e2817e37285", "committedDate": "2020-04-29T17:40:25Z", "message": "Change name of feature flag"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAyOTAzNjM3", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/366#pullrequestreview-402903637", "createdAt": "2020-04-29T17:53:22Z", "commit": {"oid": "7b940b002093eaa3444250665d3f9e2817e37285"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5e73cc2994d722ff0dd55e0e2ce59c07291ab219", "author": {"user": {"login": "johnbley", "name": "John Bley"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/5e73cc2994d722ff0dd55e0e2ce59c07291ab219", "committedDate": "2020-04-30T17:31:52Z", "message": "Upgrade to latest spotless version in an attempt #1 to make the circleci build work."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bd1ee653a0abac1f1c2ec4f64a8f2390a99c3a87", "author": {"user": {"login": "johnbley", "name": "John Bley"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/bd1ee653a0abac1f1c2ec4f64a8f2390a99c3a87", "committedDate": "2020-04-30T18:40:37Z", "message": "Attempt 2 to make circleci build happy - exclude build/generated/** from spotless."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4abbd67eeb98a94c6ba145630e5c2bd05948ce8e", "author": {"user": {"login": "johnbley", "name": "John Bley"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/4abbd67eeb98a94c6ba145630e5c2bd05948ce8e", "committedDate": "2020-04-30T18:52:50Z", "message": "Attempt 3 to get circleci build working, adding *.java to the exclude line."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aed2c9648d23344ae2d0f018c026e97e98d78adf", "author": {"user": {"login": "johnbley", "name": "John Bley"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/aed2c9648d23344ae2d0f018c026e97e98d78adf", "committedDate": "2020-04-30T19:04:48Z", "message": "Change exclude of generated files to include of just the src/ directory.\nI confirmed that this properly failed the build if I remove a license header from a src/ directory."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a5f7d16e302828e3fd7c7e10f05bf1f3250775fb", "author": {"user": {"login": "trask", "name": "Trask Stalnaker"}}, "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/commit/a5f7d16e302828e3fd7c7e10f05bf1f3250775fb", "committedDate": "2020-05-04T18:43:43Z", "message": "Merge branch 'master' into master"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3128, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}