{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc3MDk5NDIw", "number": 1150, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQxNDoxMDo1MlrOEe6-hQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQwNTozMTozNVrOEfQJMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAwODU5MDEzOnYy", "diffSide": "RIGHT", "path": "instrumentation/redisson-3.0/redisson-3.0.gradle", "isResolved": true, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQxNDoxMDo1MlrOHK4GWw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQxNjoxMTozMVrOHK-Fig==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTE2NjkzOQ==", "bodyText": "We intentionally use latest dep test to check both old versions and new version. I don't think we need to change the test dependency version for standard build.", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1150#discussion_r481166939", "createdAt": "2020-09-01T14:10:52Z", "author": {"login": "anuraaga"}, "path": "instrumentation/redisson-3.0/redisson-3.0.gradle", "diffHunk": "@@ -15,5 +15,6 @@ muzzle {\n \n dependencies {\n   library group: 'org.redisson', name: 'redisson', version: '3.0.0'\n+  testImplementation group: 'org.redisson', name: 'redisson', version: '3.4.3'", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0de38835d9d29eb1852c7ee4e62fd81b82ce3029"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTE4ODY5Nw==", "bodyText": "Yeah, we certainly want to test with the same version that we claim we support :) Meaning 3.0.0 in this case", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1150#discussion_r481188697", "createdAt": "2020-09-01T14:39:47Z", "author": {"login": "iNikem"}, "path": "instrumentation/redisson-3.0/redisson-3.0.gradle", "diffHunk": "@@ -15,5 +15,6 @@ muzzle {\n \n dependencies {\n   library group: 'org.redisson', name: 'redisson', version: '3.0.0'\n+  testImplementation group: 'org.redisson', name: 'redisson', version: '3.4.3'", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTE2NjkzOQ=="}, "originalCommit": {"oid": "0de38835d9d29eb1852c7ee4e62fd81b82ce3029"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTIwOTIzNQ==", "bodyText": "What about config the latestDepTestLibrary like  latestDepTestLibrary group: 'org.redisson', name: 'redisson', version: '(,3.4.3)'\nbecause redis://  is a break change. any suggestion? @anuraaga @iNikem", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1150#discussion_r481209235", "createdAt": "2020-09-01T15:03:34Z", "author": {"login": "dengliming"}, "path": "instrumentation/redisson-3.0/redisson-3.0.gradle", "diffHunk": "@@ -15,5 +15,6 @@ muzzle {\n \n dependencies {\n   library group: 'org.redisson', name: 'redisson', version: '3.0.0'\n+  testImplementation group: 'org.redisson', name: 'redisson', version: '3.4.3'", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTE2NjkzOQ=="}, "originalCommit": {"oid": "0de38835d9d29eb1852c7ee4e62fd81b82ce3029"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTIyMDMzOQ==", "bodyText": "Oh shoot - so does that mean that redis:// doesn't work at all on the older versions? That's pretty unfortunate. I can't think of a simpler solution but the brute force is tweaking the Gradle build to set a property affecting the URL when testing latest deps. If this sounds too tricky, let's address it as a follow-up.", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1150#discussion_r481220339", "createdAt": "2020-09-01T15:13:23Z", "author": {"login": "anuraaga"}, "path": "instrumentation/redisson-3.0/redisson-3.0.gradle", "diffHunk": "@@ -15,5 +15,6 @@ muzzle {\n \n dependencies {\n   library group: 'org.redisson', name: 'redisson', version: '3.0.0'\n+  testImplementation group: 'org.redisson', name: 'redisson', version: '3.4.3'", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTE2NjkzOQ=="}, "originalCommit": {"oid": "0de38835d9d29eb1852c7ee4e62fd81b82ce3029"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTI2NTAzNA==", "bodyText": "so does that mean that redis:// doesn't work at all on the older versions?\n\nyes. :( and seems we can set the properties like this.\ntest {\n  systemProperty \"testLatestDeps\", testLatestDeps\n}", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1150#discussion_r481265034", "createdAt": "2020-09-01T16:11:31Z", "author": {"login": "dengliming"}, "path": "instrumentation/redisson-3.0/redisson-3.0.gradle", "diffHunk": "@@ -15,5 +15,6 @@ muzzle {\n \n dependencies {\n   library group: 'org.redisson', name: 'redisson', version: '3.0.0'\n+  testImplementation group: 'org.redisson', name: 'redisson', version: '3.4.3'", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTE2NjkzOQ=="}, "originalCommit": {"oid": "0de38835d9d29eb1852c7ee4e62fd81b82ce3029"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAxMDc4MTk3OnYy", "diffSide": "RIGHT", "path": "instrumentation/redisson-3.0/src/test/groovy/RedissonAsyncClientTest.groovy", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQwMDo0OTo1NFrOHLNK8A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQwMDo0OTo1NFrOHLNK8A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTUxMjE3Ng==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                  address = \"redis://\" + address\n          \n          \n            \n                  // Newer versions of redisson require scheme, older versions forbid it\n          \n          \n            \n                  address = \"redis://\" + address", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1150#discussion_r481512176", "createdAt": "2020-09-02T00:49:54Z", "author": {"login": "anuraaga"}, "path": "instrumentation/redisson-3.0/src/test/groovy/RedissonAsyncClientTest.groovy", "diffHunk": "@@ -42,8 +42,13 @@ class RedissonAsyncClientTest extends AgentTestRunner {\n     .port(port).build()\n   @Shared\n   RedissonClient redisson\n+  @Shared\n+  String address = \"localhost:\" + port\n \n   def setupSpec() {\n+    if (\"true\".equals(System.properties.getProperty(\"testLatestDeps\"))) {\n+      address = \"redis://\" + address", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "40c8415f997cfa14eae9b755d4798c1e906adcd2"}, "originalPosition": 9}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAxMDc4MjY0OnYy", "diffSide": "RIGHT", "path": "instrumentation/redisson-3.0/src/test/groovy/RedissonClientTest.groovy", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQwMDo1MDoxM1rOHLNLVQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQwMDo1MDoxM1rOHLNLVQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTUxMjI3Nw==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                  address = \"redis://\" + address\n          \n          \n            \n                  // Newer versions of redisson require scheme, older versions forbid it\n          \n          \n            \n                  address = \"redis://\" + address", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1150#discussion_r481512277", "createdAt": "2020-09-02T00:50:13Z", "author": {"login": "anuraaga"}, "path": "instrumentation/redisson-3.0/src/test/groovy/RedissonClientTest.groovy", "diffHunk": "@@ -47,8 +47,13 @@ class RedissonClientTest extends AgentTestRunner {\n     .port(port).build()\n   @Shared\n   RedissonClient redisson\n+  @Shared\n+  String address = \"localhost:\" + port\n \n   def setupSpec() {\n+    if (\"true\".equals(System.properties.getProperty(\"testLatestDeps\"))) {\n+      address = \"redis://\" + address", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "40c8415f997cfa14eae9b755d4798c1e906adcd2"}, "originalPosition": 9}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAxMjA1ODA4OnYy", "diffSide": "RIGHT", "path": "instrumentation/redisson-3.0/src/test/groovy/RedissonClientTest.groovy", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQwNTozMTozNVrOHLaMnw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQwOToxNDo0NFrOHLmTZQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTcyNTU5OQ==", "bodyText": "You can use java.lang.Boolean#getBoolean", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1150#discussion_r481725599", "createdAt": "2020-09-02T05:31:35Z", "author": {"login": "iNikem"}, "path": "instrumentation/redisson-3.0/src/test/groovy/RedissonClientTest.groovy", "diffHunk": "@@ -47,8 +47,14 @@ class RedissonClientTest extends AgentTestRunner {\n     .port(port).build()\n   @Shared\n   RedissonClient redisson\n+  @Shared\n+  String address = \"localhost:\" + port\n \n   def setupSpec() {\n+    if (\"true\".equals(System.properties.getProperty(\"testLatestDeps\"))) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "997edfcafb9aaf7a2979855e3ac6b5b3acd11650"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTkyMzk0MQ==", "bodyText": "\ud83d\udc4d thanks.", "url": "https://github.com/open-telemetry/opentelemetry-java-instrumentation/pull/1150#discussion_r481923941", "createdAt": "2020-09-02T09:14:44Z", "author": {"login": "dengliming"}, "path": "instrumentation/redisson-3.0/src/test/groovy/RedissonClientTest.groovy", "diffHunk": "@@ -47,8 +47,14 @@ class RedissonClientTest extends AgentTestRunner {\n     .port(port).build()\n   @Shared\n   RedissonClient redisson\n+  @Shared\n+  String address = \"localhost:\" + port\n \n   def setupSpec() {\n+    if (\"true\".equals(System.properties.getProperty(\"testLatestDeps\"))) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTcyNTU5OQ=="}, "originalCommit": {"oid": "997edfcafb9aaf7a2979855e3ac6b5b3acd11650"}, "originalPosition": 8}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4861, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}