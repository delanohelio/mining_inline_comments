{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM0OTgxNzk1", "number": 1069, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQwNzo0OToyN1rOFCx50g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQwODozOTo1OFrOFCzNFg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM4NDU5MDkwOnYy", "diffSide": "RIGHT", "path": "optaplanner-examples/src/main/java/org/optaplanner/examples/machinereassignment/optional/score/MachineReassignmentConstraintProvider.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQwNzo0OToyN1rOICGzAw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQwNzo0OToyN1rOICGzAw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTA3OTQyNw==", "bodyText": "This is the important bit.", "url": "https://github.com/kiegroup/optaplanner/pull/1069#discussion_r539079427", "createdAt": "2020-12-09T07:49:27Z", "author": {"login": "triceo"}, "path": "optaplanner-examples/src/main/java/org/optaplanner/examples/machinereassignment/optional/score/MachineReassignmentConstraintProvider.java", "diffHunk": "@@ -91,10 +89,9 @@ protected Constraint serviceConflict(ConstraintFactory factory) {\n      * Spread: Processes of the same service must be serviceLocationSpread out across locations.\n      */\n     protected Constraint serviceLocationSpread(ConstraintFactory factory) {\n-        return factory.from(MrService.class)\n-                .join(MrProcessAssignment.class, equal(Function.identity(), MrProcessAssignment::getService))\n-                .groupBy((service, processAssignment) -> service,\n-                        ConstraintCollectors.countDistinct((service, processAssignment) -> processAssignment.getLocation()))\n+        return factory.from(MrProcessAssignment.class)\n+                .groupBy(processAssignment -> processAssignment.getService(),\n+                        ConstraintCollectors.countDistinct(processAssignment -> processAssignment.getLocation()))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fc6863d8a289655c0354374a4854e1ff29443058"}, "originalPosition": 28}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM4NDgwNDA2OnYy", "diffSide": "RIGHT", "path": "optaplanner-examples/src/main/java/org/optaplanner/examples/machinereassignment/optional/score/MachineReassignmentConstraintProvider.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQwODozOTo1OFrOICItkg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQwODo0MToyOVrOICIxqg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTExMDgwMg==", "bodyText": "Why using penalize instead of penalizeLong if the score is HardSoftLongScore ?", "url": "https://github.com/kiegroup/optaplanner/pull/1069#discussion_r539110802", "createdAt": "2020-12-09T08:39:58Z", "author": {"login": "rsynek"}, "path": "optaplanner-examples/src/main/java/org/optaplanner/examples/machinereassignment/optional/score/MachineReassignmentConstraintProvider.java", "diffHunk": "@@ -189,8 +183,7 @@ protected Constraint processMoveCost(ConstraintFactory factory) {\n                 .filter(processAssignment -> processAssignment.isMoved() && processAssignment.getProcessMoveCost() > 0)\n                 .join(MrGlobalPenaltyInfo.class,\n                         Joiners.filtering((processAssignment, penalty) -> penalty.getProcessMoveCostWeight() > 0))\n-                .penalizeLong(MrConstraints.PROCESS_MOVE_COST,\n-                        HardSoftLongScore.ONE_SOFT,\n+                .penalize(MrConstraints.PROCESS_MOVE_COST, HardSoftLongScore.ONE_SOFT,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fc6863d8a289655c0354374a4854e1ff29443058"}, "originalPosition": 68}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTExMTg1MA==", "bodyText": "Because it finally works since a couple weeks ago and we don't need to see the implicit type cast IDE warnings. :-)", "url": "https://github.com/kiegroup/optaplanner/pull/1069#discussion_r539111850", "createdAt": "2020-12-09T08:41:29Z", "author": {"login": "triceo"}, "path": "optaplanner-examples/src/main/java/org/optaplanner/examples/machinereassignment/optional/score/MachineReassignmentConstraintProvider.java", "diffHunk": "@@ -189,8 +183,7 @@ protected Constraint processMoveCost(ConstraintFactory factory) {\n                 .filter(processAssignment -> processAssignment.isMoved() && processAssignment.getProcessMoveCost() > 0)\n                 .join(MrGlobalPenaltyInfo.class,\n                         Joiners.filtering((processAssignment, penalty) -> penalty.getProcessMoveCostWeight() > 0))\n-                .penalizeLong(MrConstraints.PROCESS_MOVE_COST,\n-                        HardSoftLongScore.ONE_SOFT,\n+                .penalize(MrConstraints.PROCESS_MOVE_COST, HardSoftLongScore.ONE_SOFT,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTExMDgwMg=="}, "originalCommit": {"oid": "fc6863d8a289655c0354374a4854e1ff29443058"}, "originalPosition": 68}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4200, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}