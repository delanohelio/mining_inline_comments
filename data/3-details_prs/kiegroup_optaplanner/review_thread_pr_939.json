{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg5ODc2MTM3", "number": 939, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMFQxNTo0ODoxM1rOElbyrg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxNDo0NTo1OFrOEmHvzA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA3Njg4MTEwOnYy", "diffSide": "RIGHT", "path": "optaplanner-core/src/main/java/org/optaplanner/core/api/score/stream/ConstraintCollectors.java", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMFQxNTo0ODoxM1rOHU7PMw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQwNTo0ODo1M1rOHVBV0A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTcwNDExNQ==", "bodyText": "I am not sure if I am comfortable putting this into the API directly. I wouldn't mind having it in a TennisCollector first to let it ripe a bit :)", "url": "https://github.com/kiegroup/optaplanner/pull/939#discussion_r491704115", "createdAt": "2020-09-20T15:48:13Z", "author": {"login": "ge0ffrey"}, "path": "optaplanner-core/src/main/java/org/optaplanner/core/api/score/stream/ConstraintCollectors.java", "diffHunk": "@@ -69,6 +69,21 @@\n  */\n public final class ConstraintCollectors {\n \n+    public static <A> DefaultUniConstraintCollector<A, ?, Object> loadBalanceByCount() {\n+        return new DefaultUniConstraintCollector<>(\n+                () -> new long[2],\n+                (resultContainer, a) -> {\n+                    resultContainer[0]++;\n+                    long count = resultContainer[0];\n+                    resultContainer[1] += (2 * count - 1);\n+                    return () -> {\n+                        resultContainer[1] -= (2 * resultContainer[0] - 1);\n+                        resultContainer[0]--;\n+                    };\n+                },\n+                resultContainer -> resultContainer);\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ee86f10d35952478aa782a93fb61a42a7bb6b120"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTcwNDEzOA==", "bodyText": "Especially because it doesn't combine well with other constraints on the same level, so we'll want to improve it over time.", "url": "https://github.com/kiegroup/optaplanner/pull/939#discussion_r491704138", "createdAt": "2020-09-20T15:48:36Z", "author": {"login": "ge0ffrey"}, "path": "optaplanner-core/src/main/java/org/optaplanner/core/api/score/stream/ConstraintCollectors.java", "diffHunk": "@@ -69,6 +69,21 @@\n  */\n public final class ConstraintCollectors {\n \n+    public static <A> DefaultUniConstraintCollector<A, ?, Object> loadBalanceByCount() {\n+        return new DefaultUniConstraintCollector<>(\n+                () -> new long[2],\n+                (resultContainer, a) -> {\n+                    resultContainer[0]++;\n+                    long count = resultContainer[0];\n+                    resultContainer[1] += (2 * count - 1);\n+                    return () -> {\n+                        resultContainer[1] -= (2 * resultContainer[0] - 1);\n+                        resultContainer[0]--;\n+                    };\n+                },\n+                resultContainer -> resultContainer);\n+    }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTcwNDExNQ=="}, "originalCommit": {"oid": "ee86f10d35952478aa782a93fb61a42a7bb6b120"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTcwNDM3OA==", "bodyText": "Agree. This is just a rebase of an old PR, on which you made the same comment. :-)\nI will work on it next week.", "url": "https://github.com/kiegroup/optaplanner/pull/939#discussion_r491704378", "createdAt": "2020-09-20T15:51:12Z", "author": {"login": "triceo"}, "path": "optaplanner-core/src/main/java/org/optaplanner/core/api/score/stream/ConstraintCollectors.java", "diffHunk": "@@ -69,6 +69,21 @@\n  */\n public final class ConstraintCollectors {\n \n+    public static <A> DefaultUniConstraintCollector<A, ?, Object> loadBalanceByCount() {\n+        return new DefaultUniConstraintCollector<>(\n+                () -> new long[2],\n+                (resultContainer, a) -> {\n+                    resultContainer[0]++;\n+                    long count = resultContainer[0];\n+                    resultContainer[1] += (2 * count - 1);\n+                    return () -> {\n+                        resultContainer[1] -= (2 * resultContainer[0] - 1);\n+                        resultContainer[0]--;\n+                    };\n+                },\n+                resultContainer -> resultContainer);\n+    }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTcwNDExNQ=="}, "originalCommit": {"oid": "ee86f10d35952478aa782a93fb61a42a7bb6b120"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTgwNDExMg==", "bodyText": "Ah lol - happy to hear that I am consistent (this time at least) with my old self :)", "url": "https://github.com/kiegroup/optaplanner/pull/939#discussion_r491804112", "createdAt": "2020-09-21T05:48:53Z", "author": {"login": "ge0ffrey"}, "path": "optaplanner-core/src/main/java/org/optaplanner/core/api/score/stream/ConstraintCollectors.java", "diffHunk": "@@ -69,6 +69,21 @@\n  */\n public final class ConstraintCollectors {\n \n+    public static <A> DefaultUniConstraintCollector<A, ?, Object> loadBalanceByCount() {\n+        return new DefaultUniConstraintCollector<>(\n+                () -> new long[2],\n+                (resultContainer, a) -> {\n+                    resultContainer[0]++;\n+                    long count = resultContainer[0];\n+                    resultContainer[1] += (2 * count - 1);\n+                    return () -> {\n+                        resultContainer[1] -= (2 * resultContainer[0] - 1);\n+                        resultContainer[0]--;\n+                    };\n+                },\n+                resultContainer -> resultContainer);\n+    }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTcwNDExNQ=="}, "originalCommit": {"oid": "ee86f10d35952478aa782a93fb61a42a7bb6b120"}, "originalPosition": 17}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA4NDA2NjY0OnYy", "diffSide": "RIGHT", "path": "optaplanner-examples/src/main/java/org/optaplanner/examples/tennis/optional/score/TennisConstraintProvider.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxNDo0Mjo1M1rOHV9pZQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxNDo0NDo1N1rOHV9wVw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjc5MjE2NQ==", "bodyText": "Why do we need that for the tennis example, but not for CloudBalancingConstraintProvider which is also in the \"optional.score\" package?", "url": "https://github.com/kiegroup/optaplanner/pull/939#discussion_r492792165", "createdAt": "2020-09-22T14:42:53Z", "author": {"login": "ge0ffrey"}, "path": "optaplanner-examples/src/main/java/org/optaplanner/examples/tennis/optional/score/TennisConstraintProvider.java", "diffHunk": "@@ -0,0 +1,121 @@\n+/*\n+ * Copyright 2020 Red Hat, Inc. and/or its affiliates.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.optaplanner.examples.tennis.optional.score;\n+\n+import static org.optaplanner.core.api.score.stream.Joiners.equal;\n+import static org.optaplanner.core.api.score.stream.Joiners.lessThan;\n+\n+import java.util.function.BiFunction;\n+import java.util.function.Function;\n+\n+import org.apache.commons.lang3.tuple.Pair;\n+import org.optaplanner.core.api.score.buildin.hardmediumsoft.HardMediumSoftScore;\n+import org.optaplanner.core.api.score.stream.Constraint;\n+import org.optaplanner.core.api.score.stream.ConstraintFactory;\n+import org.optaplanner.core.api.score.stream.ConstraintProvider;\n+import org.optaplanner.core.impl.score.stream.bi.DefaultBiConstraintCollector;\n+import org.optaplanner.core.impl.score.stream.uni.DefaultUniConstraintCollector;\n+import org.optaplanner.examples.common.solver.drools.functions.LoadBalanceByCountAccumulateFunction;\n+import org.optaplanner.examples.common.solver.drools.functions.LoadBalanceByCountAccumulateFunction.LoadBalanceByCountData;\n+import org.optaplanner.examples.common.solver.drools.functions.LoadBalanceByCountAccumulateFunction.LoadBalanceByCountResult;\n+import org.optaplanner.examples.tennis.domain.TeamAssignment;\n+import org.optaplanner.examples.tennis.domain.UnavailabilityPenalty;\n+\n+public final class TennisConstraintProvider implements ConstraintProvider {\n+\n+    private static final String CONSTRAINT_PACKAGE = \"org.optaplanner.examples.tennis.solver\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b3e29a18eb2c3392049adb09a23010b8c2376833"}, "originalPosition": 40}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjc5MjUyNQ==", "bodyText": "Any way to get rid of having to pass the constraintPackage to the penalize methods?", "url": "https://github.com/kiegroup/optaplanner/pull/939#discussion_r492792525", "createdAt": "2020-09-22T14:43:18Z", "author": {"login": "ge0ffrey"}, "path": "optaplanner-examples/src/main/java/org/optaplanner/examples/tennis/optional/score/TennisConstraintProvider.java", "diffHunk": "@@ -0,0 +1,121 @@\n+/*\n+ * Copyright 2020 Red Hat, Inc. and/or its affiliates.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.optaplanner.examples.tennis.optional.score;\n+\n+import static org.optaplanner.core.api.score.stream.Joiners.equal;\n+import static org.optaplanner.core.api.score.stream.Joiners.lessThan;\n+\n+import java.util.function.BiFunction;\n+import java.util.function.Function;\n+\n+import org.apache.commons.lang3.tuple.Pair;\n+import org.optaplanner.core.api.score.buildin.hardmediumsoft.HardMediumSoftScore;\n+import org.optaplanner.core.api.score.stream.Constraint;\n+import org.optaplanner.core.api.score.stream.ConstraintFactory;\n+import org.optaplanner.core.api.score.stream.ConstraintProvider;\n+import org.optaplanner.core.impl.score.stream.bi.DefaultBiConstraintCollector;\n+import org.optaplanner.core.impl.score.stream.uni.DefaultUniConstraintCollector;\n+import org.optaplanner.examples.common.solver.drools.functions.LoadBalanceByCountAccumulateFunction;\n+import org.optaplanner.examples.common.solver.drools.functions.LoadBalanceByCountAccumulateFunction.LoadBalanceByCountData;\n+import org.optaplanner.examples.common.solver.drools.functions.LoadBalanceByCountAccumulateFunction.LoadBalanceByCountResult;\n+import org.optaplanner.examples.tennis.domain.TeamAssignment;\n+import org.optaplanner.examples.tennis.domain.UnavailabilityPenalty;\n+\n+public final class TennisConstraintProvider implements ConstraintProvider {\n+\n+    private static final String CONSTRAINT_PACKAGE = \"org.optaplanner.examples.tennis.solver\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjc5MjE2NQ=="}, "originalCommit": {"oid": "b3e29a18eb2c3392049adb09a23010b8c2376833"}, "originalPosition": 40}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjc5Mzk0Mw==", "bodyText": "Yes, two options:\n\nAdapt both this and the DRL to ConstraintConfiguration.\nRelax the requirement that FULL_ASSERT must pass for both, which it won't, when the packages differ.", "url": "https://github.com/kiegroup/optaplanner/pull/939#discussion_r492793943", "createdAt": "2020-09-22T14:44:57Z", "author": {"login": "triceo"}, "path": "optaplanner-examples/src/main/java/org/optaplanner/examples/tennis/optional/score/TennisConstraintProvider.java", "diffHunk": "@@ -0,0 +1,121 @@\n+/*\n+ * Copyright 2020 Red Hat, Inc. and/or its affiliates.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.optaplanner.examples.tennis.optional.score;\n+\n+import static org.optaplanner.core.api.score.stream.Joiners.equal;\n+import static org.optaplanner.core.api.score.stream.Joiners.lessThan;\n+\n+import java.util.function.BiFunction;\n+import java.util.function.Function;\n+\n+import org.apache.commons.lang3.tuple.Pair;\n+import org.optaplanner.core.api.score.buildin.hardmediumsoft.HardMediumSoftScore;\n+import org.optaplanner.core.api.score.stream.Constraint;\n+import org.optaplanner.core.api.score.stream.ConstraintFactory;\n+import org.optaplanner.core.api.score.stream.ConstraintProvider;\n+import org.optaplanner.core.impl.score.stream.bi.DefaultBiConstraintCollector;\n+import org.optaplanner.core.impl.score.stream.uni.DefaultUniConstraintCollector;\n+import org.optaplanner.examples.common.solver.drools.functions.LoadBalanceByCountAccumulateFunction;\n+import org.optaplanner.examples.common.solver.drools.functions.LoadBalanceByCountAccumulateFunction.LoadBalanceByCountData;\n+import org.optaplanner.examples.common.solver.drools.functions.LoadBalanceByCountAccumulateFunction.LoadBalanceByCountResult;\n+import org.optaplanner.examples.tennis.domain.TeamAssignment;\n+import org.optaplanner.examples.tennis.domain.UnavailabilityPenalty;\n+\n+public final class TennisConstraintProvider implements ConstraintProvider {\n+\n+    private static final String CONSTRAINT_PACKAGE = \"org.optaplanner.examples.tennis.solver\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjc5MjE2NQ=="}, "originalCommit": {"oid": "b3e29a18eb2c3392049adb09a23010b8c2376833"}, "originalPosition": 40}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA4NDA4MjY4OnYy", "diffSide": "RIGHT", "path": "optaplanner-examples/src/main/java/org/optaplanner/examples/tennis/optional/score/TennisConstraintProvider.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxNDo0NTo1OFrOHV9zjg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxNDo0Njo0OVrOHV92TQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjc5NDc2Ng==", "bodyText": "This is ugly. Can we not simply duplicate LoadBalanceByCountData in here? Or use Pair<...> or something?\n(I can't wait for java records).", "url": "https://github.com/kiegroup/optaplanner/pull/939#discussion_r492794766", "createdAt": "2020-09-22T14:45:58Z", "author": {"login": "ge0ffrey"}, "path": "optaplanner-examples/src/main/java/org/optaplanner/examples/tennis/optional/score/TennisConstraintProvider.java", "diffHunk": "@@ -0,0 +1,121 @@\n+/*\n+ * Copyright 2020 Red Hat, Inc. and/or its affiliates.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.optaplanner.examples.tennis.optional.score;\n+\n+import static org.optaplanner.core.api.score.stream.Joiners.equal;\n+import static org.optaplanner.core.api.score.stream.Joiners.lessThan;\n+\n+import java.util.function.BiFunction;\n+import java.util.function.Function;\n+\n+import org.apache.commons.lang3.tuple.Pair;\n+import org.optaplanner.core.api.score.buildin.hardmediumsoft.HardMediumSoftScore;\n+import org.optaplanner.core.api.score.stream.Constraint;\n+import org.optaplanner.core.api.score.stream.ConstraintFactory;\n+import org.optaplanner.core.api.score.stream.ConstraintProvider;\n+import org.optaplanner.core.impl.score.stream.bi.DefaultBiConstraintCollector;\n+import org.optaplanner.core.impl.score.stream.uni.DefaultUniConstraintCollector;\n+import org.optaplanner.examples.common.solver.drools.functions.LoadBalanceByCountAccumulateFunction;\n+import org.optaplanner.examples.common.solver.drools.functions.LoadBalanceByCountAccumulateFunction.LoadBalanceByCountData;\n+import org.optaplanner.examples.common.solver.drools.functions.LoadBalanceByCountAccumulateFunction.LoadBalanceByCountResult;\n+import org.optaplanner.examples.tennis.domain.TeamAssignment;\n+import org.optaplanner.examples.tennis.domain.UnavailabilityPenalty;\n+\n+public final class TennisConstraintProvider implements ConstraintProvider {\n+\n+    private static final String CONSTRAINT_PACKAGE = \"org.optaplanner.examples.tennis.solver\";\n+\n+    private static <A> DefaultUniConstraintCollector<A, ?, LoadBalanceByCountResult>\n+            loadBalanceByCount(Function<A, Object> groupKey) {\n+        LoadBalanceByCountAccumulateFunction accumulateFunction = new LoadBalanceByCountAccumulateFunction();\n+        return new DefaultUniConstraintCollector<>(\n+                () -> {\n+                    LoadBalanceByCountData resultContainer = accumulateFunction.createContext();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b3e29a18eb2c3392049adb09a23010b8c2376833"}, "originalPosition": 47}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjc5NTQ2OQ==", "bodyText": "Motivation: the ConstraintProvider should be code-wise indepenent of the scoreDRL (including that custom accumulate function which I consider to be owned by the drl)", "url": "https://github.com/kiegroup/optaplanner/pull/939#discussion_r492795469", "createdAt": "2020-09-22T14:46:49Z", "author": {"login": "ge0ffrey"}, "path": "optaplanner-examples/src/main/java/org/optaplanner/examples/tennis/optional/score/TennisConstraintProvider.java", "diffHunk": "@@ -0,0 +1,121 @@\n+/*\n+ * Copyright 2020 Red Hat, Inc. and/or its affiliates.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.optaplanner.examples.tennis.optional.score;\n+\n+import static org.optaplanner.core.api.score.stream.Joiners.equal;\n+import static org.optaplanner.core.api.score.stream.Joiners.lessThan;\n+\n+import java.util.function.BiFunction;\n+import java.util.function.Function;\n+\n+import org.apache.commons.lang3.tuple.Pair;\n+import org.optaplanner.core.api.score.buildin.hardmediumsoft.HardMediumSoftScore;\n+import org.optaplanner.core.api.score.stream.Constraint;\n+import org.optaplanner.core.api.score.stream.ConstraintFactory;\n+import org.optaplanner.core.api.score.stream.ConstraintProvider;\n+import org.optaplanner.core.impl.score.stream.bi.DefaultBiConstraintCollector;\n+import org.optaplanner.core.impl.score.stream.uni.DefaultUniConstraintCollector;\n+import org.optaplanner.examples.common.solver.drools.functions.LoadBalanceByCountAccumulateFunction;\n+import org.optaplanner.examples.common.solver.drools.functions.LoadBalanceByCountAccumulateFunction.LoadBalanceByCountData;\n+import org.optaplanner.examples.common.solver.drools.functions.LoadBalanceByCountAccumulateFunction.LoadBalanceByCountResult;\n+import org.optaplanner.examples.tennis.domain.TeamAssignment;\n+import org.optaplanner.examples.tennis.domain.UnavailabilityPenalty;\n+\n+public final class TennisConstraintProvider implements ConstraintProvider {\n+\n+    private static final String CONSTRAINT_PACKAGE = \"org.optaplanner.examples.tennis.solver\";\n+\n+    private static <A> DefaultUniConstraintCollector<A, ?, LoadBalanceByCountResult>\n+            loadBalanceByCount(Function<A, Object> groupKey) {\n+        LoadBalanceByCountAccumulateFunction accumulateFunction = new LoadBalanceByCountAccumulateFunction();\n+        return new DefaultUniConstraintCollector<>(\n+                () -> {\n+                    LoadBalanceByCountData resultContainer = accumulateFunction.createContext();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjc5NDc2Ng=="}, "originalCommit": {"oid": "b3e29a18eb2c3392049adb09a23010b8c2376833"}, "originalPosition": 47}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4250, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}