{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQzNzYyNzg0", "number": 824, "title": "PLANNER-1996: Enable dependency check", "bodyText": "Use maven-dependency-plugin to fail the build if any used undeclared\nor unused declared dependencies are found.\nThe plugin is configured to ignore non-compile dependencies. This avoids\nhaving to ignore runtime and test-runtime dependencies individually.\nExplanation:\n\nThe plugin cannot detect if a declared runtime dependency is unused.\nThe plugin cannot detect if an undeclared runtime dependency is used\ntransitively. It is contributor's responsibility to declare runtime\ndependencies even though they are provided transitively.\nMissing runtime dependencies should be detected by tests. It's\ncontributor's responsibility to write tests using runtime dependencies\nor to document why a runtine dependency is declared in case it\ncannot be covered by tests.\nThe plugin will detect unused declared compile-scope dependencies.\nThe plugin will detect used undeclared (transitive) compile-scope\ndependencies.\n\nException: Spring Boot Starters are designed to provided transitive\ndependencies. So the OptaPlanner Spring Boot Starter is allowed to have\nunused declared dependencies and projects depending on Starters are not\nchecked at all. The same applies for Quarkus integration modules.", "createdAt": "2020-07-02T22:10:11Z", "url": "https://github.com/kiegroup/optaplanner/pull/824", "merged": true, "mergeCommit": {"oid": "9116636d6f34ef328e2c418dfe9a2ec7593edaa8"}, "closed": true, "closedAt": "2020-07-19T11:50:11Z", "author": {"login": "yurloc"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcxPHvSABqjM1MTAwOTg2NDU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc1icDegFqTQ1MDA0NjkwNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e17e409a36e9b0d29c7fbb990f3962596c578d23", "author": {"user": {"login": "yurloc", "name": "Ji\u0159\u00ed Locker"}}, "url": "https://github.com/kiegroup/optaplanner/commit/e17e409a36e9b0d29c7fbb990f3962596c578d23", "committedDate": "2020-07-02T22:08:11Z", "message": "Part 2"}, "afterCommit": {"oid": "f22efa72fe11f82da4758855de03c0fc68a6169d", "author": {"user": {"login": "yurloc", "name": "Ji\u0159\u00ed Locker"}}, "url": "https://github.com/kiegroup/optaplanner/commit/f22efa72fe11f82da4758855de03c0fc68a6169d", "committedDate": "2020-07-03T08:19:41Z", "message": "Part 2"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9354cc320c3ac7d2b24507189116e8b86f25e7b7", "author": {"user": {"login": "yurloc", "name": "Ji\u0159\u00ed Locker"}}, "url": "https://github.com/kiegroup/optaplanner/commit/9354cc320c3ac7d2b24507189116e8b86f25e7b7", "committedDate": "2020-07-03T09:58:58Z", "message": "Ignore noncompile, part 1"}, "afterCommit": {"oid": "7396889eaa7ff919cc50a778f44633a79c60e817", "author": {"user": {"login": "yurloc", "name": "Ji\u0159\u00ed Locker"}}, "url": "https://github.com/kiegroup/optaplanner/commit/7396889eaa7ff919cc50a778f44633a79c60e817", "committedDate": "2020-07-03T10:33:27Z", "message": "PLANNER-1996: Enable dependency check\n\nUse maven-dependency-plugins to fail the build if any used undeclared\nor unused declared dependencies are found.\n\nThe plugin is configured to ignore non-compile dependencies. This avoids\nhaving to ignore runtime and test-runtime dependencies individually.\n\nExplanation:\n- The plugin cannot detect if a declared runtime dependency is unused.\n- The plugin cannot detect if an undeclared runtime dependency is used\n  transitively. It is contributor's responsibility to declare runtime\n  dependencies even though they are provided transitively.\n- Missing runtime dependencies should be detected by tests. It's\n  contributor's responsibility to write tests using runtime dependencies\n  or to document why a runtine dependency is declared in case it\n  cannot be covered by tests.\n- The plugin will detect unused declared compile-scope dependencies.\n- The plugin will detect used undeclared (transitive) compile-scope\n  dependencies.\n\nException: Spring Boot Starters are designed to provided transitive\ndependencies. So the OptaPlanner Spring Boot Starter is allowed to have\nunused declared dependencies and projects depending on Starters are not\nchecked at all. The same applies for Quarkus integration modules."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ4OTUyMDY1", "url": "https://github.com/kiegroup/optaplanner/pull/824#pullrequestreview-448952065", "createdAt": "2020-07-15T13:28:02Z", "commit": {"oid": "7396889eaa7ff919cc50a778f44633a79c60e817"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQxMzoyODowM1rOGx-Fvw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQxMzoyODowM1rOGx-Fvw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTA1MDY4Nw==", "bodyText": "There's a skip option:\nhttps://maven.apache.org/plugins/maven-dependency-plugin/analyze-only-mojo.html#skip\nCan we add a property\n<properties>\n<mdep.analyze.skip>true</>\n</>\n\nfor all these kind of cases? It's less lines of code :)", "url": "https://github.com/kiegroup/optaplanner/pull/824#discussion_r455050687", "createdAt": "2020-07-15T13:28:03Z", "author": {"login": "ge0ffrey"}, "path": "optaplanner-quarkus-integration/optaplanner-quarkus/runtime/pom.xml", "diffHunk": "@@ -110,6 +110,17 @@\n           </annotationProcessorPaths>\n         </configuration>\n       </plugin>\n+      <plugin>\n+        <groupId>org.apache.maven.plugins</groupId>\n+        <artifactId>maven-dependency-plugin</artifactId>\n+        <executions>\n+          <execution>\n+            <!-- TODO enable dependency check later. -->\n+            <id>analyze-only</id>\n+            <phase>none</phase>\n+          </execution>\n+        </executions>\n+      </plugin>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7396889eaa7ff919cc50a778f44633a79c60e817"}, "originalPosition": 14}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ4OTUzODEx", "url": "https://github.com/kiegroup/optaplanner/pull/824#pullrequestreview-448953811", "createdAt": "2020-07-15T13:29:54Z", "commit": {"oid": "7396889eaa7ff919cc50a778f44633a79c60e817"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ5NjI4MjQx", "url": "https://github.com/kiegroup/optaplanner/pull/824#pullrequestreview-449628241", "createdAt": "2020-07-16T08:25:14Z", "commit": {"oid": "7396889eaa7ff919cc50a778f44633a79c60e817"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQwODoyNToxNFrOGygZxA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQwODoyNToxNFrOGygZxA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTYxMjg2OA==", "bodyText": "I am afraid more conflicts are coming:\n#836\nIf I had known what was coming in this PR, I would have waited with the #836", "url": "https://github.com/kiegroup/optaplanner/pull/824#discussion_r455612868", "createdAt": "2020-07-16T08:25:14Z", "author": {"login": "rsynek"}, "path": "optaplanner-quarkus-integration/optaplanner-quarkus-jackson/deployment/pom.xml", "diffHunk": "@@ -22,34 +22,10 @@\n       <groupId>io.quarkus</groupId>\n       <artifactId>quarkus-arc-deployment</artifactId>\n     </dependency>\n-    <dependency>\n-      <groupId>io.quarkus</groupId>\n-      <artifactId>quarkus-jackson-deployment</artifactId>\n-    </dependency>\n-    <dependency>\n-      <groupId>org.optaplanner</groupId>\n-      <artifactId>optaplanner-quarkus-deployment</artifactId>\n-    </dependency>\n     <dependency>\n       <groupId>org.optaplanner</groupId>\n       <artifactId>optaplanner-quarkus-jackson</artifactId>\n     </dependency>\n-\n-    <dependency>\n-      <groupId>io.quarkus</groupId>\n-      <artifactId>quarkus-junit5-internal</artifactId>\n-      <scope>test</scope>\n-    </dependency>\n-    <dependency>\n-      <groupId>io.quarkus</groupId>\n-      <artifactId>quarkus-resteasy-deployment</artifactId>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7396889eaa7ff919cc50a778f44633a79c60e817"}, "originalPosition": 24}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7396889eaa7ff919cc50a778f44633a79c60e817", "author": {"user": {"login": "yurloc", "name": "Ji\u0159\u00ed Locker"}}, "url": "https://github.com/kiegroup/optaplanner/commit/7396889eaa7ff919cc50a778f44633a79c60e817", "committedDate": "2020-07-03T10:33:27Z", "message": "PLANNER-1996: Enable dependency check\n\nUse maven-dependency-plugins to fail the build if any used undeclared\nor unused declared dependencies are found.\n\nThe plugin is configured to ignore non-compile dependencies. This avoids\nhaving to ignore runtime and test-runtime dependencies individually.\n\nExplanation:\n- The plugin cannot detect if a declared runtime dependency is unused.\n- The plugin cannot detect if an undeclared runtime dependency is used\n  transitively. It is contributor's responsibility to declare runtime\n  dependencies even though they are provided transitively.\n- Missing runtime dependencies should be detected by tests. It's\n  contributor's responsibility to write tests using runtime dependencies\n  or to document why a runtine dependency is declared in case it\n  cannot be covered by tests.\n- The plugin will detect unused declared compile-scope dependencies.\n- The plugin will detect used undeclared (transitive) compile-scope\n  dependencies.\n\nException: Spring Boot Starters are designed to provided transitive\ndependencies. So the OptaPlanner Spring Boot Starter is allowed to have\nunused declared dependencies and projects depending on Starters are not\nchecked at all. The same applies for Quarkus integration modules."}, "afterCommit": {"oid": "0fee3aa142204767ec6f2dedcac20f747bcccb1b", "author": {"user": {"login": "yurloc", "name": "Ji\u0159\u00ed Locker"}}, "url": "https://github.com/kiegroup/optaplanner/commit/0fee3aa142204767ec6f2dedcac20f747bcccb1b", "committedDate": "2020-07-16T11:06:09Z", "message": "Fix school timetabling quickstart"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5e7e2d85ccd02cae1897a233721e8b2b0245c7fd", "author": {"user": {"login": "yurloc", "name": "Ji\u0159\u00ed Locker"}}, "url": "https://github.com/kiegroup/optaplanner/commit/5e7e2d85ccd02cae1897a233721e8b2b0245c7fd", "committedDate": "2020-07-16T13:55:17Z", "message": "PLANNER-1996: Enable dependency check\n\nUse maven-dependency-plugins to fail the build if any used undeclared\nor unused declared dependencies are found.\n\nThe plugin is configured to ignore non-compile dependencies. This avoids\nhaving to ignore runtime and test-runtime dependencies individually.\n\nExplanation:\n- The plugin cannot detect if a declared runtime dependency is unused.\n- The plugin cannot detect if an undeclared runtime dependency is used\n  transitively. It is contributor's responsibility to declare runtime\n  dependencies even though they are provided transitively.\n- Missing runtime dependencies should be detected by tests. It's\n  contributor's responsibility to write tests using runtime dependencies\n  or to document why a runtine dependency is declared in case it\n  cannot be covered by tests.\n- The plugin will detect unused declared compile-scope dependencies.\n- The plugin will detect used undeclared (transitive) compile-scope\n  dependencies.\n\nException: Spring Boot Starters are designed to provided transitive\ndependencies. So the OptaPlanner Spring Boot Starter is allowed to have\nunused declared dependencies and projects depending on Starters are not\nchecked at all. The same applies for Quarkus integration modules."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0fee3aa142204767ec6f2dedcac20f747bcccb1b", "author": {"user": {"login": "yurloc", "name": "Ji\u0159\u00ed Locker"}}, "url": "https://github.com/kiegroup/optaplanner/commit/0fee3aa142204767ec6f2dedcac20f747bcccb1b", "committedDate": "2020-07-16T11:06:09Z", "message": "Fix school timetabling quickstart"}, "afterCommit": {"oid": "5e7e2d85ccd02cae1897a233721e8b2b0245c7fd", "author": {"user": {"login": "yurloc", "name": "Ji\u0159\u00ed Locker"}}, "url": "https://github.com/kiegroup/optaplanner/commit/5e7e2d85ccd02cae1897a233721e8b2b0245c7fd", "committedDate": "2020-07-16T13:55:17Z", "message": "PLANNER-1996: Enable dependency check\n\nUse maven-dependency-plugins to fail the build if any used undeclared\nor unused declared dependencies are found.\n\nThe plugin is configured to ignore non-compile dependencies. This avoids\nhaving to ignore runtime and test-runtime dependencies individually.\n\nExplanation:\n- The plugin cannot detect if a declared runtime dependency is unused.\n- The plugin cannot detect if an undeclared runtime dependency is used\n  transitively. It is contributor's responsibility to declare runtime\n  dependencies even though they are provided transitively.\n- Missing runtime dependencies should be detected by tests. It's\n  contributor's responsibility to write tests using runtime dependencies\n  or to document why a runtine dependency is declared in case it\n  cannot be covered by tests.\n- The plugin will detect unused declared compile-scope dependencies.\n- The plugin will detect used undeclared (transitive) compile-scope\n  dependencies.\n\nException: Spring Boot Starters are designed to provided transitive\ndependencies. So the OptaPlanner Spring Boot Starter is allowed to have\nunused declared dependencies and projects depending on Starters are not\nchecked at all. The same applies for Quarkus integration modules."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUwMDQ2OTA1", "url": "https://github.com/kiegroup/optaplanner/pull/824#pullrequestreview-450046905", "createdAt": "2020-07-16T17:08:11Z", "commit": {"oid": "5e7e2d85ccd02cae1897a233721e8b2b0245c7fd"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQxNzowODoxMlrOGy0XIA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQxNzowODoxMlrOGy0XIA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTkzOTg3Mg==", "bodyText": "Thanks!", "url": "https://github.com/kiegroup/optaplanner/pull/824#discussion_r455939872", "createdAt": "2020-07-16T17:08:12Z", "author": {"login": "rsynek"}, "path": "optaplanner-benchmark/pom.xml", "diffHunk": "@@ -89,6 +89,7 @@\n     <dependency>\n       <groupId>org.glassfish.jaxb</groupId>\n       <artifactId>jaxb-runtime</artifactId>\n+      <scope>runtime</scope>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5e7e2d85ccd02cae1897a233721e8b2b0245c7fd"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3318, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}