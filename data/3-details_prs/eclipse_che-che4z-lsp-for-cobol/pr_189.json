{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzcxOTAzMDUy", "number": 189, "title": "Copybooks autocomplete introduction", "bodyText": "as per issue #106 introducing copybook list in autocomplete, at this point copybook names are being populated through usage in the COBOL file.", "createdAt": "2020-02-06T13:36:25Z", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/189", "merged": true, "mergeCommit": {"oid": "370291752ed2669c279caf7b7d791a2d02d4e65a"}, "closed": true, "closedAt": "2020-02-07T14:42:42Z", "author": {"login": "abdrabrcom"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcBX-ZxgH2gAyMzcxOTAzMDUyOmZjZjNmYWY0Mjg5YjE0Nzc0MzhmYWM3Yzg2ZmU2NWYxYmNhMTQ5OTE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcB9BrfgFqTM1NTA3MzM0Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "fcf3faf4289b1477438fac7c86fe65f1bca14991", "author": {"user": null}, "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/fcf3faf4289b1477438fac7c86fe65f1bca14991", "committedDate": "2020-02-05T15:35:59Z", "message": "added implementation for copybook autocomplete from cobol document and fixed tests\n\nSigned-off-by: Ramy Abdalla <ramy.abdalla@broadcom.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "809c5fc662ef26bcff412b1d76177ddae7fa01f9", "author": {"user": null}, "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/809c5fc662ef26bcff412b1d76177ddae7fa01f9", "committedDate": "2020-02-06T11:13:36Z", "message": "added junit test for CopybookCompletion class\n\nSigned-off-by: Ramy Abdalla <ramy.abdalla@broadcom.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5db920082b39a37981a15ed80195422d9f9fe473", "author": {"user": null}, "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/5db920082b39a37981a15ed80195422d9f9fe473", "committedDate": "2020-02-06T11:15:09Z", "message": "adding CopybookCompletionsTest to AllTests\n\nSigned-off-by: Ramy Abdalla <ramy.abdalla@broadcom.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "abc86d84d7b3afe38d4c163a0f7e8b1e96079dec", "author": {"user": null}, "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/abc86d84d7b3afe38d4c163a0f7e8b1e96079dec", "committedDate": "2020-02-06T11:16:32Z", "message": "Merge branch 'development' into copybooks_autocomplete"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "be2164c03d20b40d205455f83e2b5160d465878e", "author": {"user": null}, "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/be2164c03d20b40d205455f83e2b5160d465878e", "committedDate": "2020-02-06T13:11:36Z", "message": "Merge branch 'development' into copybooks_autocomplete"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4306d075f8b0d2eb96f5061d39815a26ef62c314", "author": {"user": null}, "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/4306d075f8b0d2eb96f5061d39815a26ef62c314", "committedDate": "2020-02-06T13:12:28Z", "message": "added javadocs annotation for both CopybookCompletion and CopybookCompletionTest\n\nSigned-off-by: Ramy Abdalla <ramy.abdalla@broadcom.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU0NDYxNTcw", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/189#pullrequestreview-354461570", "createdAt": "2020-02-06T13:49:40Z", "commit": {"oid": "4306d075f8b0d2eb96f5061d39815a26ef62c314"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNlQxMzo0OTo0MFrOFmbpdQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNlQxMzo1NTowMlrOFmb0rA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTg0MzE4OQ==", "bodyText": "These changes are not part of this activity", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/189#discussion_r375843189", "createdAt": "2020-02-06T13:49:40Z", "author": {"login": "temanbrcom"}, "path": "clients/cobol-lsp-vscode-extension/package.json", "diffHunk": "@@ -18,8 +18,14 @@\n         \"url\": \"https://github.com/eclipse/che-che4z-lsp-for-cobol/issues\"\n     },\n     \"keywords\": [\n-\t\t\"mainframe\", \"lsp\", \"cobol\", \"z/os\", \"zos\", \"language-server\", \"jcl\"\n-\t],\n+        \"mainframe\",\n+        \"lsp\",\n+        \"cobol\",\n+        \"z/os\",\n+        \"zos\",\n+        \"language-server\",\n+        \"jcl\"\n+    ],", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4306d075f8b0d2eb96f5061d39815a26ef62c314"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTg0MzMyNA==", "bodyText": "These changes are not part of this activity", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/189#discussion_r375843324", "createdAt": "2020-02-06T13:49:56Z", "author": {"login": "temanbrcom"}, "path": "clients/cobol-lsp-vscode-extension/package-lock.json", "diffHunk": "@@ -2281,9 +2281,9 @@\n \t\t\t\"dev\": true\n \t\t},\n \t\t\"handlebars\": {\n-\t\t\t\"version\": \"4.4.3\",\n-\t\t\t\"resolved\": \"https://registry.npmjs.org/handlebars/-/handlebars-4.4.3.tgz\",\n-\t\t\t\"integrity\": \"sha512-B0W4A2U1ww3q7VVthTKfh+epHx+q4mCt6iK+zEAzbMBpWQAwxCeKxEGpj/1oQTpzPXDNSOG7hmG14TsISH50yw==\",\n+\t\t\t\"version\": \"4.7.3\",\n+\t\t\t\"resolved\": \"https://registry.npmjs.org/handlebars/-/handlebars-4.7.3.tgz\",\n+\t\t\t\"integrity\": \"sha512-SRGwSYuNfx8DwHD/6InAPzD6RgeruWLT+B8e8a7gGs8FWgHzlExpTFMEq2IA6QpAfOClpKHy6+8IqTjeBCu6Kg==\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4306d075f8b0d2eb96f5061d39815a26ef62c314"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTg0NjA2MA==", "bodyText": "testCopybookCompletion?", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/189#discussion_r375846060", "createdAt": "2020-02-06T13:55:02Z", "author": {"login": "temanbrcom"}, "path": "com.ca.lsp.cobol/lsp-service-cobol/src/test/java/com/ca/lsp/cobol/service/delegates/completions/CopybookCompletionTest.java", "diffHunk": "@@ -0,0 +1,98 @@\n+/*\n+ * Copyright (c) 2020 Broadcom.\n+ * The term \"Broadcom\" refers to Broadcom Inc. and/or its subsidiaries.\n+ *\n+ * This program and the accompanying materials are made\n+ * available under the terms of the Eclipse Public License 2.0\n+ * which is available at https://www.eclipse.org/legal/epl-2.0/\n+ *\n+ * SPDX-License-Identifier: EPL-2.0\n+ *\n+ * Contributors:\n+ *    Broadcom, Inc. - initial API and implementation\n+ */\n+\n+package com.ca.lsp.cobol.service.delegates.completions;\n+\n+import static org.junit.Assert.*;\n+\n+import com.ca.lsp.cobol.service.MyDocumentModel;\n+import com.ca.lsp.cobol.service.delegates.validations.AnalysisResult;\n+import java.util.Collections;\n+import java.util.HashMap;\n+import java.util.HashSet;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.Set;\n+import org.eclipse.lsp4j.CompletionItem;\n+import org.eclipse.lsp4j.CompletionItemKind;\n+import org.eclipse.lsp4j.CompletionParams;\n+import org.eclipse.lsp4j.Location;\n+import org.eclipse.lsp4j.Position;\n+import org.eclipse.lsp4j.Range;\n+import org.eclipse.lsp4j.TextDocumentIdentifier;\n+import org.junit.Test;\n+\n+/**\n+ * Testing Copybook autocomplete class, to determine if copybook names will be correctly detected\n+ * and shown in the autocomplete list\n+ */\n+public class CopybookCompletionTest {\n+\n+  private static final String TEXT =\n+      \"       IDENTIFICATION DIVISION.\\n\"\n+          + \"       PROGRAM-ID. ID1.\\n\"\n+          + \"       AUTHOR. Author.\"\n+          + \"       ENVIRONMENT DIVISION.\\n\"\n+          + \"       DATA DIVISION.\\n\"\n+          + \"       WORKING-STORAGE SECTION.\\n\"\n+          + \"       01 TBPARM1      PIC 99 VALUE 5.\\n\"\n+          + \"       01 TBPARM2      PIC 99 VALUE 0.\\n\"\n+          + \"       01 ATCDEM4      PIC X(7) VALUE 'ATCDEM4'.\\n\"\n+          + \"       01 P1PARM1      PIC 99 VALUE 0.\\n\"\n+          + \"       COPY BRDCMCP.\\n\"\n+          + \"       PROCEDURE DIVISION.\\n\"\n+          + \"       PROGB.\\n\"\n+          + \"           PERFORM WITH TEST BEFORE UNTIL TBPARM1 = 0\\n\"\n+          + \"             SUBTRACT 1 FROM T\\n\"\n+          + \"             CALL 'ATCDEM4' \\n\"\n+          + \"           END-PERFORM\\n\"\n+          + \"       END PROGRAM ID1.\";\n+\n+  @Test\n+  public void testVariableCompletion() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4306d075f8b0d2eb96f5061d39815a26ef62c314"}, "originalPosition": 63}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU0NDY2Mjgw", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/189#pullrequestreview-354466280", "createdAt": "2020-02-06T13:56:17Z", "commit": {"oid": "4306d075f8b0d2eb96f5061d39815a26ef62c314"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNlQxMzo1NjoxN1rOFmb3vg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNlQxMzo1NjoxN1rOFmb3vg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTg0Njg0Ng==", "bodyText": "This should be duplicated in the TestModule", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/189#discussion_r375846846", "createdAt": "2020-02-06T13:56:17Z", "author": {"login": "temanbrcom"}, "path": "com.ca.lsp.cobol/lsp-service-cobol/src/main/java/com/broadcom/lsp/cdi/module/service/ServiceModule.java", "diffHunk": "@@ -66,6 +66,7 @@ private void bindCompletions() {\n     completionBinding.addBinding().to(ParagraphCompletion.class);\n     completionBinding.addBinding().to(SnippetCompletion.class);\n     completionBinding.addBinding().to(KeywordCompletion.class);\n+    completionBinding.addBinding().to(CopybookCompletion.class);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4306d075f8b0d2eb96f5061d39815a26ef62c314"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b26663b4fb784b5905dfc6e45f747c774570cb38", "author": {"user": null}, "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/b26663b4fb784b5905dfc6e45f747c774570cb38", "committedDate": "2020-02-07T10:08:46Z", "message": "reverted back packagejson and packagelock fixing naming issue and adding missing entry to testmodule\n\nSigned-off-by: Ramy Abdalla <ramy.abdalla@broadcom.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "24159302f51cfb90a654e783fb2285b8f098ac8a", "author": {"user": null}, "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/24159302f51cfb90a654e783fb2285b8f098ac8a", "committedDate": "2020-02-07T10:09:52Z", "message": "Merge branch 'development' into copybooks_autocomplete"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "67daa43dfa1773437cf6c2c999899ea203a96ee8", "author": {"user": null}, "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/67daa43dfa1773437cf6c2c999899ea203a96ee8", "committedDate": "2020-02-07T10:20:41Z", "message": "fixed packagelock\n\nSigned-off-by: Ramy Abdalla <ramy.abdalla@broadcom.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU1MDczMzQ2", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/189#pullrequestreview-355073346", "createdAt": "2020-02-07T10:46:03Z", "commit": {"oid": "67daa43dfa1773437cf6c2c999899ea203a96ee8"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1190, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}