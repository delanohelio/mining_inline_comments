{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg2MDA4MzY3", "number": 232, "reviewThreads": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQxNDoxNDoxM1rODmsmPw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMVQxNDo1NjoyOFrODnHJOw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQxOTAzMTY3OnYy", "diffSide": "RIGHT", "path": "com.ca.lsp.cobol/lsp-service-cobol/src/main/java/com/broadcom/lsp/cdi/module/service/ServiceModule.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQxNDoxNDoxM1rOF0QqTw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQxNDoxNDoxM1rOF0QqTw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDM0MzI0Nw==", "bodyText": "binding appears two times into this file", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/232#discussion_r390343247", "createdAt": "2020-03-10T14:14:13Z", "author": {"login": "sergiuilie"}, "path": "com.ca.lsp.cobol/lsp-service-cobol/src/main/java/com/broadcom/lsp/cdi/module/service/ServiceModule.java", "diffHunk": "@@ -53,9 +54,10 @@ protected void configure() {\n     bind(LanguageEngineFacade.class).to(CobolLanguageEngineFacade.class);\n     bind(CopybookService.class).to(CopybookServiceImpl.class);\n     bind(CopybookDependencyService.class).to(CopybookDependencyServiceImpl.class);\n-    bind(CobolWorkspaceService.class).to(CobolWorkspaceServiceImpl.class);\n+    bind(WorkspaceService.class).to(CobolWorkspaceServiceImpl.class);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "168aec62f46b9e392edcc3a8ca0bd7e7ce2f3479"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQxOTMwODYxOnYy", "diffSide": "RIGHT", "path": "com.ca.lsp.cobol/lsp-service-cobol/src/main/java/com/ca/lsp/cobol/service/CobolWorkspaceServiceImpl.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQxNToxMDowNFrOF0TV0Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQxNToxMDowNFrOF0TV0Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDM4NzE1Mw==", "bodyText": "We do not need this subscription at all due to CobolWorkspaceServiceImpl does not accept any events", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/232#discussion_r390387153", "createdAt": "2020-03-10T15:10:04Z", "author": {"login": "temanbrcom"}, "path": "com.ca.lsp.cobol/lsp-service-cobol/src/main/java/com/ca/lsp/cobol/service/CobolWorkspaceServiceImpl.java", "diffHunk": "@@ -50,16 +50,15 @@\n  */\n @Slf4j\n @Singleton\n-public class CobolWorkspaceServiceImpl implements CobolWorkspaceService {\n-\n+public class CobolWorkspaceServiceImpl implements WorkspaceService {\n   private DataBusBroker dataBus;\n   private Provider<LanguageClient> clientProvider;\n \n   @Inject\n   public CobolWorkspaceServiceImpl(DataBusBroker dataBus, Provider<LanguageClient> clientProvider) {\n     this.dataBus = dataBus;\n     this.clientProvider = clientProvider;\n-    dataBus.subscribe(DataEventType.REQUIRED_COPYBOOK_EVENT, this);\n+    dataBus.subscribe(DataEventType.REQUIRED_COPYBOOK_EVENT);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "168aec62f46b9e392edcc3a8ca0bd7e7ce2f3479"}, "originalPosition": 27}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQxOTM2MzA3OnYy", "diffSide": "RIGHT", "path": "com.ca.lsp.cobol/lsp-service-cobol/src/test/java/com/ca/lsp/cobol/usecases/TestCopybookWithIndirectRecursiveDependencyIsDetected.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQxNToyMToyMFrOF0T3OA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQxNToyMToyMFrOF0T3OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDM5NTcwNA==", "bodyText": "We don't need this code, the same is done at lines 63-66", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/232#discussion_r390395704", "createdAt": "2020-03-10T15:21:20Z", "author": {"login": "temanbrcom"}, "path": "com.ca.lsp.cobol/lsp-service-cobol/src/test/java/com/ca/lsp/cobol/usecases/TestCopybookWithIndirectRecursiveDependencyIsDetected.java", "diffHunk": "@@ -43,14 +45,25 @@\n \n   public TestCopybookWithIndirectRecursiveDependencyIsDetected() {\n     super(TEXT);\n+\n+    DataBusBroker databus =\n+        Guice.createInjector(new DatabusModule()).getInstance(DataBusBroker.class);\n+\n+    MockCopybookServiceImpl copybookService = new MockCopybookServiceImpl(databus);\n+    copybookService.setCopybooks(\n+        () ->\n+            Arrays.asList(\n+                new CobolText(\"INNER-COPY\", INNER_COPY),\n+                new CobolText(\"INDIRECT-COPY\", INDIRECT_COPY)));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "168aec62f46b9e392edcc3a8ca0bd7e7ce2f3479"}, "originalPosition": 27}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQxOTM2NjE2OnYy", "diffSide": "RIGHT", "path": "com.ca.lsp.cobol/lsp-service-cobol/src/test/java/com/ca/lsp/cobol/usecases/TestCopybookWithRecursiveDependencyIsDetected.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQxNToyMTo1N1rOF0T5Dw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQxNToyMTo1N1rOF0T5Dw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDM5NjE3NQ==", "bodyText": "Same here, we don't need this configuration", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/232#discussion_r390396175", "createdAt": "2020-03-10T15:21:57Z", "author": {"login": "temanbrcom"}, "path": "com.ca.lsp.cobol/lsp-service-cobol/src/test/java/com/ca/lsp/cobol/usecases/TestCopybookWithRecursiveDependencyIsDetected.java", "diffHunk": "@@ -43,6 +45,13 @@\n \n   public TestCopybookWithRecursiveDependencyIsDetected() {\n     super(TEXT);\n+\n+    DataBusBroker databus =\n+        Guice.createInjector(new DatabusModule()).getInstance(DataBusBroker.class);\n+\n+    MockCopybookServiceImpl copybookService = new MockCopybookServiceImpl(databus);\n+    copybookService.setCopybooks(\n+        () -> Collections.singletonList(new CobolText(\"RECURSIVE-COPY\", RECURSIVE_COPY)));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "168aec62f46b9e392edcc3a8ca0bd7e7ce2f3479"}, "originalPosition": 24}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQxOTM2Nzg4OnYy", "diffSide": "RIGHT", "path": "com.ca.lsp.cobol/lsp-service-cobol/src/test/java/com/ca/lsp/cobol/usecases/TestMissingCopybookNotInVariableList.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQxNToyMjoxOVrOF0T6EQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQxNToyMjoxOVrOF0T6EQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDM5NjQzMw==", "bodyText": "Same here", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/232#discussion_r390396433", "createdAt": "2020-03-10T15:22:19Z", "author": {"login": "temanbrcom"}, "path": "com.ca.lsp.cobol/lsp-service-cobol/src/test/java/com/ca/lsp/cobol/usecases/TestMissingCopybookNotInVariableList.java", "diffHunk": "@@ -39,6 +44,14 @@\n           + \"       PROCEDURE DIVISION.\\n\"\n           + \"       MOVE 00 TO CHILD1 OF PARENT.\";\n \n+  public TestMissingCopybookNotInVariableList() {\n+    DataBusBroker databus =\n+        Guice.createInjector(new DatabusModule()).getInstance(DataBusBroker.class);\n+\n+    MockCopybookServiceImpl copybookService = new MockCopybookServiceImpl(databus);\n+    copybookService.setCopybooks(Collections::emptyList);\n+  }\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "168aec62f46b9e392edcc3a8ca0bd7e7ce2f3479"}, "originalPosition": 28}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQxOTM2OTg3OnYy", "diffSide": "RIGHT", "path": "com.ca.lsp.cobol/lsp-service-cobol/src/test/java/com/ca/lsp/cobol/usecases/TestSameCopybooksWithDifferentCases.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQxNToyMjo0NlrOF0T7Vw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQxNToyMjo0NlrOF0T7Vw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDM5Njc1OQ==", "bodyText": "Same here", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/232#discussion_r390396759", "createdAt": "2020-03-10T15:22:46Z", "author": {"login": "temanbrcom"}, "path": "com.ca.lsp.cobol/lsp-service-cobol/src/test/java/com/ca/lsp/cobol/usecases/TestSameCopybooksWithDifferentCases.java", "diffHunk": "@@ -44,8 +50,15 @@\n           + \"           03  CHILD2         PIC 9   VALUE IS '1'.\\n\"\n           + \"           03  CHILD3         PIC 9   VALUE IS '2'.\";\n \n-  public TestSameCopybooksWIthDifferentCases() {\n+  public TestSameCopybooksWithDifferentCases() {\n     super(TEXT);\n+\n+    DataBusBroker databus =\n+        Guice.createInjector(new DatabusModule()).getInstance(DataBusBroker.class);\n+\n+    MockCopybookServiceImpl copybookService = new MockCopybookServiceImpl(databus);\n+    copybookService.setCopybooks(\n+        () -> Collections.singletonList(new CobolText(\"STRUCT1\", STRUCT1)));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "168aec62f46b9e392edcc3a8ca0bd7e7ce2f3479"}, "originalPosition": 37}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQxOTM3MTA0OnYy", "diffSide": "RIGHT", "path": "com.ca.lsp.cobol/lsp-service-cobol/src/test/java/com/ca/lsp/cobol/usecases/TestVariableStructureInCopybooksWithMissingLevels.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQxNToyMzowMVrOF0T8IQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQxNToyMzowMVrOF0T8IQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDM5Njk2MQ==", "bodyText": "Same here", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/232#discussion_r390396961", "createdAt": "2020-03-10T15:23:01Z", "author": {"login": "temanbrcom"}, "path": "com.ca.lsp.cobol/lsp-service-cobol/src/test/java/com/ca/lsp/cobol/usecases/TestVariableStructureInCopybooksWithMissingLevels.java", "diffHunk": "@@ -45,6 +49,12 @@\n \n   public TestVariableStructureInCopybooksWithMissingLevels() {\n     super(TEXT);\n+\n+    DataBusBroker databus =\n+        Guice.createInjector(new DatabusModule()).getInstance(DataBusBroker.class);\n+\n+    MockCopybookServiceImpl copybookService = new MockCopybookServiceImpl(databus);\n+    copybookService.setCopybooks(() -> Collections.singletonList(new CobolText(\"STRUCT\", STRUCT)));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "168aec62f46b9e392edcc3a8ca0bd7e7ce2f3479"}, "originalPosition": 21}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQxOTM3MTk5OnYy", "diffSide": "RIGHT", "path": "com.ca.lsp.cobol/lsp-service-cobol/src/test/java/com/ca/lsp/cobol/usecases/TestVariableStructureIsBuiltWithCopybooks.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQxNToyMzoxMFrOF0T8qw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQxNToyMzoxMFrOF0T8qw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDM5NzA5OQ==", "bodyText": "And here", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/232#discussion_r390397099", "createdAt": "2020-03-10T15:23:10Z", "author": {"login": "temanbrcom"}, "path": "com.ca.lsp.cobol/lsp-service-cobol/src/test/java/com/ca/lsp/cobol/usecases/TestVariableStructureIsBuiltWithCopybooks.java", "diffHunk": "@@ -44,6 +50,12 @@\n \n   public TestVariableStructureIsBuiltWithCopybooks() {\n     super(TEXT);\n+    DataBusBroker databus =\n+        Guice.createInjector(new DatabusModule()).getInstance(DataBusBroker.class);\n+\n+    MockCopybookServiceImpl copybookService = new MockCopybookServiceImpl(databus);\n+    copybookService.setCopybooks(\n+        () -> Collections.singletonList(new CobolText(\"COPYBOOK-CONTENT\", COPYBOOK_CONTENT)));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "168aec62f46b9e392edcc3a8ca0bd7e7ce2f3479"}, "originalPosition": 25}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQyMzM3ODk2OnYy", "diffSide": "RIGHT", "path": "CHANGELOG.md", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMVQxNDo1NjowMVrOF06sHQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMVQxNDo1NjowMVrOF06sHQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTAzMTgzNw==", "bodyText": "This change message is in a little conflict with one line 10. I think we may remove this one", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/232#discussion_r391031837", "createdAt": "2020-03-11T14:56:01Z", "author": {"login": "temanbrcom"}, "path": "CHANGELOG.md", "diffHunk": "@@ -3,9 +3,11 @@\n All notable changes to the COBOL Language Support extension are documented in this file.\n \n ## [0.x.x] - TBD\n-- Dependency file should contain 8 char max copybook name [#175](https://github.com/eclipse/che-che4z-lsp-for-cobol/issues/175)\n-- StatusBar copybook downloader profile switcher [#239](https://github.com/eclipse/che-che4z-lsp-for-cobol/issues/239)\n-- Move fetch copybook quickfix from LSP server to extension. [#235](https://github.com/eclipse/che-che4z-lsp-for-cobol/issues/235)\n+- Redefine responsibilities of WorkspaceServiceTest [232](https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/232) Thanks @[zacanbrcom](https://github.com/zacanbrcom)\n+- Remove copybooks Quick Fix on the server side due to it is a client responsibility [234](https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/234) Thanks @[temanbrcom](https://github.com/temanbrcom)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "43dc888d7f76ed8c19752d5db2b14d3ad03e2492"}, "originalPosition": 8}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQyMzM4MTA3OnYy", "diffSide": "RIGHT", "path": "CHANGELOG.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMVQxNDo1NjoyOFrOF06tcA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMVQxNDo1NjoyOFrOF06tcA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTAzMjE3Ng==", "bodyText": "quickfix here is a typo", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/232#discussion_r391032176", "createdAt": "2020-03-11T14:56:28Z", "author": {"login": "temanbrcom"}, "path": "CHANGELOG.md", "diffHunk": "@@ -3,9 +3,11 @@\n All notable changes to the COBOL Language Support extension are documented in this file.\n \n ## [0.x.x] - TBD\n-- Dependency file should contain 8 char max copybook name [#175](https://github.com/eclipse/che-che4z-lsp-for-cobol/issues/175)\n-- StatusBar copybook downloader profile switcher [#239](https://github.com/eclipse/che-che4z-lsp-for-cobol/issues/239)\n-- Move fetch copybook quickfix from LSP server to extension. [#235](https://github.com/eclipse/che-che4z-lsp-for-cobol/issues/235)\n+- Redefine responsibilities of WorkspaceServiceTest [232](https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/232) Thanks @[zacanbrcom](https://github.com/zacanbrcom)\n+- Remove copybooks Quick Fix on the server side due to it is a client responsibility [234](https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/234) Thanks @[temanbrcom](https://github.com/temanbrcom)\n+- Dependency file should contain 8 char max copybook name [#175](https://github.com/eclipse/che-che4z-lsp-for-cobol/issues/175) Thanks @[ishche](https://github.com/ishche)\n+- StatusBar copybook downloader profile switcher [#240](https://github.com/eclipse/che-che4z-lsp-for-cobol/issues/240) Thanks @[ishche](https://github.com/ishche)\n+- Move fetch copybook quickfix from LSP server to extension. [#235](https://github.com/eclipse/che-che4z-lsp-for-cobol/issues/235) Thanks @[ishche](https://github.com/ishche)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "43dc888d7f76ed8c19752d5db2b14d3ad03e2492"}, "originalPosition": 11}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4153, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}