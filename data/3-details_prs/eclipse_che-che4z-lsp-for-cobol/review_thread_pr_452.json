{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY2Nzc2MTY4", "number": 452, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQxMzo1OTozNVrOEXo_fg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xM1QwOTowNDowOFrOEX9p7g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkzMjI0MzE4OnYy", "diffSide": "RIGHT", "path": "com.ca.lsp.cobol/lsp-core-cobol-parser/src/main/java/com/ca/lsp/core/cobol/preprocessor/sub/document/impl/CobolSemanticParserListenerImpl.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQxMzo1OTozNVrOG_iokw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQxMzo1OTozNVrOG_iokw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTI4MDkxNQ==", "bodyText": "!\"SKIP\".equals(copybookProcessingMode)", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/452#discussion_r469280915", "createdAt": "2020-08-12T13:59:35Z", "author": {"login": "asatklichov"}, "path": "com.ca.lsp.cobol/lsp-core-cobol-parser/src/main/java/com/ca/lsp/core/cobol/preprocessor/sub/document/impl/CobolSemanticParserListenerImpl.java", "diffHunk": "@@ -138,7 +138,7 @@ public void exitCopyStatement(@Nonnull CopyStatementContext ctx) {\n      * define the copy book\n      */\n \n-    if (copybookProcessingMode.equals(\"ENABLED\")) {\n+    if (!copybookProcessingMode.equals(\"SKIP\")) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "062073f31b1961a02a1ce2e75ad0785cfeab0999"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkzNTYyMDQyOnYy", "diffSide": "RIGHT", "path": "com.ca.lsp.cobol/lsp-service-cobol/src/test/java/com/ca/lsp/cobol/service/DocumentExtensionTests.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xM1QwOTowMTo0OVrOHACm9A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xM1QwOToxMTozOFrOHAC-YQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTgwNDc4OA==", "bodyText": "Shouldn't the modes here be the same?", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/452#discussion_r469804788", "createdAt": "2020-08-13T09:01:49Z", "author": {"login": "temanbrcom"}, "path": "com.ca.lsp.cobol/lsp-service-cobol/src/test/java/com/ca/lsp/cobol/service/DocumentExtensionTests.java", "diffHunk": "@@ -82,11 +82,11 @@ private void checkExtensionMatches(String extension) {\n     fireDidOpen(extension, uri);\n     verify(engine, timeout(10000).times(1)).analyze(uri, TEXT, CopybookProcessingMode.ENABLED);\n \n-    when(engine.analyze(uri, TEXT, CopybookProcessingMode.DISABLED))\n+    when(engine.analyze(uri, TEXT, CopybookProcessingMode.ENABLED))\n         .thenReturn(AnalysisResult.empty());\n     fireDidChange(uri);\n     verify(engine, timeout(10000))\n-        .analyze(uri, INCORRECT_TEXT_EXAMPLE, CopybookProcessingMode.DISABLED);\n+        .analyze(uri, INCORRECT_TEXT_EXAMPLE, CopybookProcessingMode.SKIP);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "90b21dd31c12b0d58f628a8fb2555b9dc60774d7"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTgxMDc4NQ==", "bodyText": "got it - ok, I was focused on the verify, fixed", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/452#discussion_r469810785", "createdAt": "2020-08-13T09:11:38Z", "author": {"login": "zacanbrcom"}, "path": "com.ca.lsp.cobol/lsp-service-cobol/src/test/java/com/ca/lsp/cobol/service/DocumentExtensionTests.java", "diffHunk": "@@ -82,11 +82,11 @@ private void checkExtensionMatches(String extension) {\n     fireDidOpen(extension, uri);\n     verify(engine, timeout(10000).times(1)).analyze(uri, TEXT, CopybookProcessingMode.ENABLED);\n \n-    when(engine.analyze(uri, TEXT, CopybookProcessingMode.DISABLED))\n+    when(engine.analyze(uri, TEXT, CopybookProcessingMode.ENABLED))\n         .thenReturn(AnalysisResult.empty());\n     fireDidChange(uri);\n     verify(engine, timeout(10000))\n-        .analyze(uri, INCORRECT_TEXT_EXAMPLE, CopybookProcessingMode.DISABLED);\n+        .analyze(uri, INCORRECT_TEXT_EXAMPLE, CopybookProcessingMode.SKIP);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTgwNDc4OA=="}, "originalCommit": {"oid": "90b21dd31c12b0d58f628a8fb2555b9dc60774d7"}, "originalPosition": 10}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkzNTYyODYyOnYy", "diffSide": "RIGHT", "path": "com.ca.lsp.cobol/lsp-service-cobol/src/main/java/com/ca/lsp/cobol/service/CopybookProcessingMode.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xM1QwOTowNDowOFrOHACr8Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xM1QwOTowOTowOFrOHAC4Tw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTgwNjA2NQ==", "bodyText": "In fact, you may pass sync type as an enum value, not as a string, and just compare them by link equity", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/452#discussion_r469806065", "createdAt": "2020-08-13T09:04:08Z", "author": {"login": "temanbrcom"}, "path": "com.ca.lsp.cobol/lsp-service-cobol/src/main/java/com/ca/lsp/cobol/service/CopybookProcessingMode.java", "diffHunk": "@@ -14,32 +14,40 @@\n  */\n package com.ca.lsp.cobol.service;\n \n+import javax.annotation.Nonnull;\n+\n import static com.ca.lsp.cobol.service.utils.WorkspaceFileService.isFileUnderExtendedSourceFolder;\n \n-/** This enum class used to track text synchronization type for the processed document. */\n+/** This enum class used to allow or not the copybook analysis for the processed document. */\n public enum CopybookProcessingMode {\n   ENABLED,\n-  DISABLED;\n+  DISABLED,\n+  SKIP;\n \n   /**\n-   * This method verify if enable or disable copybook management based on two factors: 1) the file\n-   * is an extended source file, 2) the file is open in DID_OPEN|DID_CHANGE\n+   * This method allow to enable or disable copybook management based on two factors: 1) the file is\n+   * an extended source file, 2) the file is open in DID_OPEN|DID_CHANGE\n    *\n    * @param uri of the document opened in the editor by the client\n-   * @param textDocSyncType define the document sync mode that could be [{@link\n-   *     TextDocumentSyncType#DID_OPEN}|{@link TextDocumentSyncType#DID_CHANGE}]\n+   * @param textDocumentSyncType the sync type of the document [{@link\n+   *     TextDocumentSyncType#DID_OPEN} or {@link TextDocumentSyncType#DID_CHANGE}]\n    * @return A value of that could be [{@link CopybookProcessingMode#ENABLED}|{@link\n-   *     CopybookProcessingMode#DISABLED}]\n+   *     CopybookProcessingMode#DISABLED}] if the document is an extended document.\n    */\n   public static CopybookProcessingMode getCopybookProcessingMode(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "90b21dd31c12b0d58f628a8fb2555b9dc60774d7"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTgwOTIzMQ==", "bodyText": "right \ud83d\udc4d", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/452#discussion_r469809231", "createdAt": "2020-08-13T09:09:08Z", "author": {"login": "zacanbrcom"}, "path": "com.ca.lsp.cobol/lsp-service-cobol/src/main/java/com/ca/lsp/cobol/service/CopybookProcessingMode.java", "diffHunk": "@@ -14,32 +14,40 @@\n  */\n package com.ca.lsp.cobol.service;\n \n+import javax.annotation.Nonnull;\n+\n import static com.ca.lsp.cobol.service.utils.WorkspaceFileService.isFileUnderExtendedSourceFolder;\n \n-/** This enum class used to track text synchronization type for the processed document. */\n+/** This enum class used to allow or not the copybook analysis for the processed document. */\n public enum CopybookProcessingMode {\n   ENABLED,\n-  DISABLED;\n+  DISABLED,\n+  SKIP;\n \n   /**\n-   * This method verify if enable or disable copybook management based on two factors: 1) the file\n-   * is an extended source file, 2) the file is open in DID_OPEN|DID_CHANGE\n+   * This method allow to enable or disable copybook management based on two factors: 1) the file is\n+   * an extended source file, 2) the file is open in DID_OPEN|DID_CHANGE\n    *\n    * @param uri of the document opened in the editor by the client\n-   * @param textDocSyncType define the document sync mode that could be [{@link\n-   *     TextDocumentSyncType#DID_OPEN}|{@link TextDocumentSyncType#DID_CHANGE}]\n+   * @param textDocumentSyncType the sync type of the document [{@link\n+   *     TextDocumentSyncType#DID_OPEN} or {@link TextDocumentSyncType#DID_CHANGE}]\n    * @return A value of that could be [{@link CopybookProcessingMode#ENABLED}|{@link\n-   *     CopybookProcessingMode#DISABLED}]\n+   *     CopybookProcessingMode#DISABLED}] if the document is an extended document.\n    */\n   public static CopybookProcessingMode getCopybookProcessingMode(", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTgwNjA2NQ=="}, "originalCommit": {"oid": "90b21dd31c12b0d58f628a8fb2555b9dc60774d7"}, "originalPosition": 31}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3921, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}