{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM2MzE0NzU2", "number": 399, "title": "384 Simplify UI for copybook management", "bodyText": "Purpose of this PR is to simplify the UI for copybook management.\nMore in detail:\n\nprovide a quickfix command that redirect the user to the settings.json when a copybook cannot be resolved\nremove the UI for select zowe profile when cobol file is opened and no default profile is selected\nClose #384", "createdAt": "2020-06-18T08:30:41Z", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/399", "merged": true, "mergeCommit": {"oid": "ead52b74818e46a0fa12280e3d9214578240669c"}, "closed": true, "closedAt": "2020-06-19T12:26:19Z", "author": {"login": "zacanbrcom"}, "timelineItems": {"totalCount": 20, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcp5DdugH2gAyNDM2MzE0NzU2OjQ2ZWU2ZGQ2OTRkMWI2ODE5M2JhNDE3ZDkxNjg4MjdjNzI3MTljNDI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcsxtSjAFqTQzNDAxNjk2Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "46ee6dd694d1b68193ba417d9168827c72719c42", "author": {"user": {"login": "zacanbrcom", "name": "Andrea Zaccaro"}}, "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/46ee6dd694d1b68193ba417d9168827c72719c42", "committedDate": "2020-06-10T12:45:21Z", "message": "refactor: Remove async popup to ask user to select profile #384"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3acf1bce95856a44833bd640d5c5c3803d6b4fa9", "author": {"user": {"login": "zacanbrcom", "name": "Andrea Zaccaro"}}, "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/3acf1bce95856a44833bd640d5c5c3803d6b4fa9", "committedDate": "2020-06-11T08:55:44Z", "message": "Merge remote-tracking branch 'remotes/origin/development' into 384_SimpleUICpy\n\n# Conflicts:\n#\tclients/cobol-lsp-vscode-extension/src/services/CopybookDownloadService.ts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ef1adb35168973a736167a3c11b56f4108cb1af4", "author": {"user": {"login": "zacanbrcom", "name": "Andrea Zaccaro"}}, "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/ef1adb35168973a736167a3c11b56f4108cb1af4", "committedDate": "2020-06-11T09:42:38Z", "message": "refactor: Remove UI components for handling resolution of copybooks from MF #384"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c7ac2dc3fab35004dde221dc152f193d092a714a", "author": {"user": {"login": "zacanbrcom", "name": "Andrea Zaccaro"}}, "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/c7ac2dc3fab35004dde221dc152f193d092a714a", "committedDate": "2020-06-11T09:43:24Z", "message": "fix: Adjust unit test with renamed profile service API #384"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f8d176568081e876611ec70a2a393f62dfa65ca0", "author": {"user": {"login": "zacanbrcom", "name": "Andrea Zaccaro"}}, "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/f8d176568081e876611ec70a2a393f62dfa65ca0", "committedDate": "2020-06-12T10:34:18Z", "message": "Merge remote-tracking branch 'remotes/origin/development' into 384_SimpleUICpy"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "88b30de5eed520987b48d226461803743fc41922", "author": {"user": {"login": "zacanbrcom", "name": "Andrea Zaccaro"}}, "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/88b30de5eed520987b48d226461803743fc41922", "committedDate": "2020-06-12T10:45:57Z", "message": "refactor: Reintroduce CodeActionProvider to add quickfix for goto settings #382"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "88d7c845fb056976d1f1e4a0cad0cce6dc256e6c", "author": {"user": {"login": "zacanbrcom", "name": "Andrea Zaccaro"}}, "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/88d7c845fb056976d1f1e4a0cad0cce6dc256e6c", "committedDate": "2020-06-15T07:30:27Z", "message": "refactor: update quickfix open settings action with reference to settings.json #382"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "99b6087c5856823b934616e1d51873a38b11a79d", "author": {"user": {"login": "zacanbrcom", "name": "Andrea Zaccaro"}}, "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/99b6087c5856823b934616e1d51873a38b11a79d", "committedDate": "2020-06-15T15:21:15Z", "message": "refactor: Define API to resolve profile from settings or document with unit tests #382"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9fd008fe55eff845d705f66e80094e929e138b7a", "author": {"user": {"login": "zacanbrcom", "name": "Andrea Zaccaro"}}, "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/9fd008fe55eff845d705f66e80094e929e138b7a", "committedDate": "2020-06-15T15:25:43Z", "message": "refactor: Consume new API in CopybookURI to use new profile API #382"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ab74a08463e92c8d9c78b79c7fab1709150c49d1", "author": {"user": {"login": "zacanbrcom", "name": "Andrea Zaccaro"}}, "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/ab74a08463e92c8d9c78b79c7fab1709150c49d1", "committedDate": "2020-06-15T15:27:33Z", "message": "refactor: Fix fetch copybook download when no profile is provided and update unit test #382"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "479beb1109af58175b180698dda84db4a6763249", "author": {"user": {"login": "zacanbrcom", "name": "Andrea Zaccaro"}}, "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/479beb1109af58175b180698dda84db4a6763249", "committedDate": "2020-06-18T07:41:44Z", "message": "Merge remote-tracking branch 'remotes/origin/development' into 384_SimpleUICpy"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b17a68ed0c15a64c65946ebca045f360ba5158e3", "author": {"user": {"login": "zacanbrcom", "name": "Andrea Zaccaro"}}, "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/b17a68ed0c15a64c65946ebca045f360ba5158e3", "committedDate": "2020-06-18T07:55:36Z", "message": "Merge remote-tracking branch 'remotes/origin/development' into 384_SimpleUICpy\n\n# Conflicts:\n#\tclients/cobol-lsp-vscode-extension/src/__tests__/CopybookResolveURITest.ts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c8bfd75d37f3146498afb631c924e0e475216310", "author": {"user": {"login": "zacanbrcom", "name": "Andrea Zaccaro"}}, "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/c8bfd75d37f3146498afb631c924e0e475216310", "committedDate": "2020-06-18T08:47:30Z", "message": "Merge remote-tracking branch 'remotes/origin/development' into 384_SimpleUICpy"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b8d50cc59d89eaf49f74bf3ea6f479627c98048f", "author": {"user": {"login": "zacanbrcom", "name": "Andrea Zaccaro"}}, "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/b8d50cc59d89eaf49f74bf3ea6f479627c98048f", "committedDate": "2020-06-19T07:14:00Z", "message": "refactor: Rename Fetch copybook command in Resolve Copybook Command #382"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMzOTUxNDI1", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/399#pullrequestreview-433951425", "createdAt": "2020-06-19T09:57:38Z", "commit": {"oid": "b8d50cc59d89eaf49f74bf3ea6f479627c98048f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMzOTYzNTkx", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/399#pullrequestreview-433963591", "createdAt": "2020-06-19T10:17:19Z", "commit": {"oid": "b8d50cc59d89eaf49f74bf3ea6f479627c98048f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOVQxMDoxNzoyMFrOGmPuYw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOVQxMDoxNzoyMFrOGmPuYw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mjc1NjcwNw==", "bodyText": "const name is quite self explaining, no need comment", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/399#discussion_r442756707", "createdAt": "2020-06-19T10:17:20Z", "author": {"login": "asatklichov"}, "path": "clients/cobol-lsp-vscode-extension/src/constants.ts", "diffHunk": "@@ -34,3 +34,6 @@ export const DSN_MUSTBE_NOT_EMPTY = \"Dataset name segment must not be empty.\";\n export const DSN_NOMORE_8CHARS = \"Dataset name segment can't be more than 8 characters.\";\n export const DSN_START_PROHIBITED_CHAR = `Dataset name segment: ${SEGMENT_PLACEHOLDER} starts with a prohibited character.`;\n export const DSN_CONTAINS_PROHIBITED_CHAR = `Dataset name segment: ${SEGMENT_PLACEHOLDER} contains a prohibited character.`;\n+\n+// QUICK FIX CONSTANTS", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b8d50cc59d89eaf49f74bf3ea6f479627c98048f"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMzOTY2NTY3", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/399#pullrequestreview-433966567", "createdAt": "2020-06-19T10:22:00Z", "commit": {"oid": "b8d50cc59d89eaf49f74bf3ea6f479627c98048f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOVQxMDoyMjowMFrOGmP3jw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOVQxMDoyMjowMFrOGmP3jw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mjc1OTA1NQ==", "bodyText": "good candidates for reusing, can be extracted as constants in constants.ts", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/399#discussion_r442759055", "createdAt": "2020-06-19T10:22:00Z", "author": {"login": "asatklichov"}, "path": "clients/cobol-lsp-vscode-extension/src/services/ProfileService.ts", "diffHunk": "@@ -12,26 +12,28 @@\n  *   Broadcom, Inc. - initial API and implementation\n  */\n \n-import { IProfile } from \"@zowe/imperative\";\n+import {IProfile} from \"@zowe/imperative\";\n import * as path from \"path\";\n import * as vscode from \"vscode\";\n-import { Disposable } from \"vscode-languageclient\";\n-import { SETTINGS_SECTION } from \"../constants\";\n-import { ProfilesMap, ZoweApi } from \"./ZoweApi\";\n+import {Disposable} from \"vscode-languageclient\";\n+import {SETTINGS_SECTION} from \"../constants\";\n+import {ProfilesMap, ZoweApi} from \"./ZoweApi\";\n \n const DEFAULT_STATUS_TEXT = \"CPY profile: undefined\";\n \n export class ProfileService implements Disposable {\n+\n+    private static isCobolProgram(fsPath: string) {\n+        const ext = path.extname(fsPath).toLocaleLowerCase();\n+        return ext === \".cbl\" || ext === \".cob\" || ext === \".cobol\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b8d50cc59d89eaf49f74bf3ea6f479627c98048f"}, "originalPosition": 21}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMzOTcyMTM3", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/399#pullrequestreview-433972137", "createdAt": "2020-06-19T10:31:36Z", "commit": {"oid": "b8d50cc59d89eaf49f74bf3ea6f479627c98048f"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOVQxMDozMTozNlrOGmQHtQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOVQxMDozMTozNlrOGmQHtQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mjc2MzE4OQ==", "bodyText": "You could try this: return [\".cbl\", \".cob\", \".cobol\"].includes(ext);", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/399#discussion_r442763189", "createdAt": "2020-06-19T10:31:36Z", "author": {"login": "grianbrcom"}, "path": "clients/cobol-lsp-vscode-extension/src/services/ProfileService.ts", "diffHunk": "@@ -12,26 +12,28 @@\n  *   Broadcom, Inc. - initial API and implementation\n  */\n \n-import { IProfile } from \"@zowe/imperative\";\n+import {IProfile} from \"@zowe/imperative\";\n import * as path from \"path\";\n import * as vscode from \"vscode\";\n-import { Disposable } from \"vscode-languageclient\";\n-import { SETTINGS_SECTION } from \"../constants\";\n-import { ProfilesMap, ZoweApi } from \"./ZoweApi\";\n+import {Disposable} from \"vscode-languageclient\";\n+import {SETTINGS_SECTION} from \"../constants\";\n+import {ProfilesMap, ZoweApi} from \"./ZoweApi\";\n \n const DEFAULT_STATUS_TEXT = \"CPY profile: undefined\";\n \n export class ProfileService implements Disposable {\n+\n+    private static isCobolProgram(fsPath: string) {\n+        const ext = path.extname(fsPath).toLocaleLowerCase();\n+        return ext === \".cbl\" || ext === \".cob\" || ext === \".cobol\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b8d50cc59d89eaf49f74bf3ea6f479627c98048f"}, "originalPosition": 21}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "27bf3ae8d2378c2c5c25d4ec7c2b56cc5ca0524e", "author": {"user": {"login": "zacanbrcom", "name": "Andrea Zaccaro"}}, "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/27bf3ae8d2378c2c5c25d4ec7c2b56cc5ca0524e", "committedDate": "2020-06-19T11:51:17Z", "message": "refactor: Create ad hoc constants for cobol file extension #382"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM0MDE2OTY2", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/399#pullrequestreview-434016966", "createdAt": "2020-06-19T11:53:34Z", "commit": {"oid": "27bf3ae8d2378c2c5c25d4ec7c2b56cc5ca0524e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1145, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}