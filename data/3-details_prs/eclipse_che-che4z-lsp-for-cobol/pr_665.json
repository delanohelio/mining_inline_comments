{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI0Njk4NDIy", "number": 665, "title": "fix : Support variable Usages Separated by Commas without Whitespaces\u2026", "bodyText": "fix : Support variable Usages Separated by Commas without Whitespaces\u2026 #665\nSigned-off-by: ap891843 aman.prashant@broadcom.com", "createdAt": "2020-11-20T13:14:57Z", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/665", "merged": true, "mergeCommit": {"oid": "8188f95f9687f89b587cd97dc0197558b8f56d4b"}, "closed": true, "closedAt": "2020-11-23T15:51:17Z", "author": {"login": "ap891843"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdeYFFHAFqTUzNTQ2NDUyMA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdfXMfkgFqTUzNjYwMzU5MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM1NDY0NTIw", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/665#pullrequestreview-535464520", "createdAt": "2020-11-20T14:17:25Z", "commit": {"oid": "559775089266066413f6d861f38312473625c1d6"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQxNDoxNzoyNVrOH3Rhxw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQxNDoxNzoyNVrOH3Rhxw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzcyMDkwMw==", "bodyText": "The change will fix the error, but this grammar matches a lot of cases:\nVAR1, VAR2\nVAR1, VAR2,\nVAR1 VAR2\n\nProbably, it is not correct.", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/665#discussion_r527720903", "createdAt": "2020-11-20T14:17:25Z", "author": {"login": "grianbrcom"}, "path": "server/src/main/antlr4/com/broadcom/lsp/cobol/core/parser/CobolParser.g4", "diffHunk": "@@ -793,7 +793,7 @@ callUsingPhrase\n    ;\n \n callUsingParameter\n-   : callByReferencePhrase | callByValuePhrase | callByContentPhrase\n+   : (callByReferencePhrase | callByValuePhrase | callByContentPhrase) COMMACHAR?", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "559775089266066413f6d861f38312473625c1d6"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM1NDM1ODE1", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/665#pullrequestreview-535435815", "createdAt": "2020-11-20T13:41:39Z", "commit": {"oid": "559775089266066413f6d861f38312473625c1d6"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQxMzo0MTo0MFrOH3QFqA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQxMzo0MTo0MFrOH3QFqA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzY5NzMyMA==", "bodyText": "You create diagnostics here, by they are not expected in the given text.", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/665#discussion_r527697320", "createdAt": "2020-11-20T13:41:40Z", "author": {"login": "temanbrcom"}, "path": "server/src/test/java/com/broadcom/lsp/cobol/usecases/TestVariableUsageSeparatedByComma.java", "diffHunk": "@@ -0,0 +1,55 @@\n+/*\n+ * Copyright (c) 2020 Broadcom.\n+ * The term \"Broadcom\" refers to Broadcom Inc. and/or its subsidiaries.\n+ *\n+ * This program and the accompanying materials are made\n+ * available under the terms of the Eclipse Public License 2.0\n+ * which is available at https://www.eclipse.org/legal/epl-2.0/\n+ *\n+ * SPDX-License-Identifier: EPL-2.0\n+ *\n+ * Contributors:\n+ *    Broadcom, Inc. - initial API and implementation\n+ *\n+ */\n+\n+package com.broadcom.lsp.cobol.usecases;\n+\n+import com.broadcom.lsp.cobol.usecases.engine.UseCaseEngine;\n+import org.eclipse.lsp4j.Diagnostic;\n+import org.eclipse.lsp4j.Position;\n+import org.eclipse.lsp4j.Range;\n+import org.junit.jupiter.api.Test;\n+\n+import java.util.HashMap;\n+import java.util.List;\n+import java.util.Map;\n+\n+/** Test variable usage separated by Commas without Whitespaces */\n+class TestVariableUsageSeparatedByComma {\n+\n+  private static final String TEXT =\n+      \"       IDENTIFICATION DIVISION.\\n\"\n+          + \"       PROGRAM-ID. programID.\\n\"\n+          + \"        DATA DIVISION.\\n\"\n+          + \"        WORKING-STORAGE SECTION.\\n\"\n+          + \"        01 {$*VAR-TEST1}.\\n\"\n+          + \"        01 {$*VAR-TEST2}.\\n\"\n+          + \"        01 {$*VAR-TEST3}.\\n\"\n+          + \"        01 {$*VAR-TEST4}.\\n\"\n+          + \"       PROCEDURE DIVISION.\\n\"\n+          + \"           CALL 'smth' USING {$VAR-TEST1},{$VAR-TEST2} BY VALUE {$VAR-TEST3}, \\n\"\n+          + \"           BY CONTENT {$VAR-TEST4} BY CONTENT ADDRESS OF TRUE.\\n\"\n+          + \"       END PROGRAM programID.\\n\";\n+\n+  @Test\n+  void test() {\n+    Map<String, Diagnostic> expected = new HashMap<>();\n+    for (int i = 4; i > 0; i--) {\n+      Range range = new Range(new Position(i + 3, 11), new Position(i + 3, 20));\n+      expected.put(\"VAR-TEST\" + i, new Diagnostic(range, null));\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "559775089266066413f6d861f38312473625c1d6"}, "originalPosition": 51}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "559775089266066413f6d861f38312473625c1d6", "author": {"user": {"login": "ap891843", "name": "Aman Prashant"}}, "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/559775089266066413f6d861f38312473625c1d6", "committedDate": "2020-11-20T13:14:12Z", "message": "fix : Support variable Usages Separated by Commas without Whitespaces #598\n\nSigned-off-by: ap891843 <aman.prashant@broadcom.com>"}, "afterCommit": {"oid": "16bc0a3fe9e03c47f6e1d85e21b113a5e71e632a", "author": {"user": {"login": "ap891843", "name": "Aman Prashant"}}, "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/16bc0a3fe9e03c47f6e1d85e21b113a5e71e632a", "committedDate": "2020-11-20T16:02:12Z", "message": "fix : Support variable Usages Separated by Commas without Whitespaces #598\n\nSigned-off-by: ap891843 <aman.prashant@broadcom.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "16bc0a3fe9e03c47f6e1d85e21b113a5e71e632a", "author": {"user": {"login": "ap891843", "name": "Aman Prashant"}}, "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/16bc0a3fe9e03c47f6e1d85e21b113a5e71e632a", "committedDate": "2020-11-20T16:02:12Z", "message": "fix : Support variable Usages Separated by Commas without Whitespaces #598\n\nSigned-off-by: ap891843 <aman.prashant@broadcom.com>"}, "afterCommit": {"oid": "d132919b6ff6747ba99a59d7263ecef36048aec9", "author": {"user": {"login": "ap891843", "name": "Aman Prashant"}}, "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/d132919b6ff6747ba99a59d7263ecef36048aec9", "committedDate": "2020-11-23T08:42:56Z", "message": "fix : Support variable Usages Separated by Commas without Whitespaces #598\n\nSigned-off-by: ap891843 <aman.prashant@broadcom.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d132919b6ff6747ba99a59d7263ecef36048aec9", "author": {"user": {"login": "ap891843", "name": "Aman Prashant"}}, "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/d132919b6ff6747ba99a59d7263ecef36048aec9", "committedDate": "2020-11-23T08:42:56Z", "message": "fix : Support variable Usages Separated by Commas without Whitespaces #598\n\nSigned-off-by: ap891843 <aman.prashant@broadcom.com>"}, "afterCommit": {"oid": "a642dbed2e649682043bd565579f0346606e098c", "author": {"user": {"login": "ap891843", "name": "Aman Prashant"}}, "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/a642dbed2e649682043bd565579f0346606e098c", "committedDate": "2020-11-23T09:54:09Z", "message": "fix : Support variable Usages Separated by Commas without Whitespaces #598\n\nSigned-off-by: ap891843 <aman.prashant@broadcom.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a642dbed2e649682043bd565579f0346606e098c", "author": {"user": {"login": "ap891843", "name": "Aman Prashant"}}, "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/a642dbed2e649682043bd565579f0346606e098c", "committedDate": "2020-11-23T09:54:09Z", "message": "fix : Support variable Usages Separated by Commas without Whitespaces #598\n\nSigned-off-by: ap891843 <aman.prashant@broadcom.com>"}, "afterCommit": {"oid": "5e06ef4a2020b813ae06978051ba881d08758188", "author": {"user": {"login": "ap891843", "name": "Aman Prashant"}}, "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/5e06ef4a2020b813ae06978051ba881d08758188", "committedDate": "2020-11-23T12:10:13Z", "message": "fix : Support variable Usages Separated by Commas without Whitespaces #598\n\nSigned-off-by: ap891843 <aman.prashant@broadcom.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7bb8abfb750265b394f7793fb2c397855c3702fe", "author": {"user": {"login": "ap891843", "name": "Aman Prashant"}}, "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/7bb8abfb750265b394f7793fb2c397855c3702fe", "committedDate": "2020-11-23T12:43:21Z", "message": "fix : Support variable Usages Separated by Commas without Whitespaces #598\n\nSigned-off-by: ap891843 <aman.prashant@broadcom.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "484e2f687434f1345351cb8709260c085ae531c7", "author": {"user": {"login": "ap891843", "name": "Aman Prashant"}}, "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/484e2f687434f1345351cb8709260c085ae531c7", "committedDate": "2020-11-23T12:40:16Z", "message": "fix : Support variable Usages Separated by Commas without Whitespaces #598\n\nSigned-off-by: ap891843 <aman.prashant@broadcom.com>"}, "afterCommit": {"oid": "7bb8abfb750265b394f7793fb2c397855c3702fe", "author": {"user": {"login": "ap891843", "name": "Aman Prashant"}}, "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/commit/7bb8abfb750265b394f7793fb2c397855c3702fe", "committedDate": "2020-11-23T12:43:21Z", "message": "fix : Support variable Usages Separated by Commas without Whitespaces #598\n\nSigned-off-by: ap891843 <aman.prashant@broadcom.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM2NDk0MDA0", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/665#pullrequestreview-536494004", "createdAt": "2020-11-23T13:56:57Z", "commit": {"oid": "7bb8abfb750265b394f7793fb2c397855c3702fe"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM2NjAzNTkw", "url": "https://github.com/eclipse/che-che4z-lsp-for-cobol/pull/665#pullrequestreview-536603590", "createdAt": "2020-11-23T15:50:21Z", "commit": {"oid": "7bb8abfb750265b394f7793fb2c397855c3702fe"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 913, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}