{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkyODM4ODU4", "number": 1118, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNFQwODo0MjoxNVrODqsPfg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNFQwODo0MjoxNVrODqsPfg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ2MDkxNjQ2OnYy", "diffSide": "RIGHT", "path": "backend/src/main/java/com/bakdata/conquery/models/auth/web/AuthorizationExceptionMapper.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNFQwODo0MjoxNVrOF6l4YQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNFQwODo0MzoxNlrOF6l6xA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Njk4MjM2OQ==", "bodyText": "Is in der Exception der ganze Stacktrace drin? Erscheint mir etwas riskant das einfach rauzugeben", "url": "https://github.com/bakdata/conquery/pull/1118#discussion_r396982369", "createdAt": "2020-03-24T08:42:15Z", "author": {"login": "awildturtok"}, "path": "backend/src/main/java/com/bakdata/conquery/models/auth/web/AuthorizationExceptionMapper.java", "diffHunk": "@@ -19,9 +18,9 @@\n \t@Override\n \tpublic Response toResponse(AuthorizationException exception) {\n \t\tlog.warn(\"Shiro failed to authorize the request. See the following trace:\", exception);\n-\t\treturn Response.status(Response.Status.UNAUTHORIZED)\n+\t\treturn Response.status(Response.Status.FORBIDDEN)\n \t\t\t.type(MediaType.APPLICATION_JSON_TYPE)\n-\t\t\t.entity(new ErrorMessage(Response.Status.FORBIDDEN.getStatusCode(), \"Your error has been logged\"))\n+\t\t\t.entity(\"Not sufficient permissions to perform action: \" + exception.getMessage())", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3cb47c4f7b1f6e261b244079d49da4fbd443fee7"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Njk4Mjk4MA==", "bodyText": "Nein da ist lediglich drinne, an welcher berechtigung es scheitert", "url": "https://github.com/bakdata/conquery/pull/1118#discussion_r396982980", "createdAt": "2020-03-24T08:43:16Z", "author": {"login": "thoniTUB"}, "path": "backend/src/main/java/com/bakdata/conquery/models/auth/web/AuthorizationExceptionMapper.java", "diffHunk": "@@ -19,9 +18,9 @@\n \t@Override\n \tpublic Response toResponse(AuthorizationException exception) {\n \t\tlog.warn(\"Shiro failed to authorize the request. See the following trace:\", exception);\n-\t\treturn Response.status(Response.Status.UNAUTHORIZED)\n+\t\treturn Response.status(Response.Status.FORBIDDEN)\n \t\t\t.type(MediaType.APPLICATION_JSON_TYPE)\n-\t\t\t.entity(new ErrorMessage(Response.Status.FORBIDDEN.getStatusCode(), \"Your error has been logged\"))\n+\t\t\t.entity(\"Not sufficient permissions to perform action: \" + exception.getMessage())", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Njk4MjM2OQ=="}, "originalCommit": {"oid": "3cb47c4f7b1f6e261b244079d49da4fbd443fee7"}, "originalPosition": 16}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1448, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}