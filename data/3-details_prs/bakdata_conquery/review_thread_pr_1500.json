{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM5MzkwMzk1", "number": 1500, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQxMzozNjozMlrOFE_Fvg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQxMzozNjo1OFrOFE_GmQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQwNzcyMjg2OnYy", "diffSide": "RIGHT", "path": "backend/src/main/java/com/bakdata/conquery/models/execution/Shareable.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQxMzozNjozMlrOIFQu4A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQxMzo0Mzo0MlrOIFRC9A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjM4NzkzNg==", "bodyText": "Die Semantik ist, wenn Gruppen, dann Shared?", "url": "https://github.com/bakdata/conquery/pull/1500#discussion_r542387936", "createdAt": "2020-12-14T13:36:32Z", "author": {"login": "awildturtok"}, "path": "backend/src/main/java/com/bakdata/conquery/models/execution/Shareable.java", "diffHunk": "@@ -44,74 +42,32 @@\n \t\t\treturn QueryUtils.getNoOpEntryPoint();\n \t\t}\n \t\treturn (patch) -> {\n-\t\t\tif(patch != null && patch.getShared() != null) {\n-\t\t\t\tList<Group> groups;\n-\t\t\t\tif(patch.getGroups() != null && !patch.getGroups().isEmpty()) {\n+\t\t\tif(patch != null && patch.getGroups() != null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a77caceca4f5685cdfe4e1347a9e52f0639c3a19"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjM5MzA3Ng==", "bodyText": "Jop genau, das shared flag ist jetzt raus geflogen um die API mehr RESTful zu gestallten und es hat auch die Logik im Backend vereinfacht.\nDas Frontend holt sich erstmal die Gruppen f\u00fcr eine bestimmt Anfrage, bearbeitet diese Liste und schickt sie wieder ans Backend", "url": "https://github.com/bakdata/conquery/pull/1500#discussion_r542393076", "createdAt": "2020-12-14T13:43:42Z", "author": {"login": "thoniTUB"}, "path": "backend/src/main/java/com/bakdata/conquery/models/execution/Shareable.java", "diffHunk": "@@ -44,74 +42,32 @@\n \t\t\treturn QueryUtils.getNoOpEntryPoint();\n \t\t}\n \t\treturn (patch) -> {\n-\t\t\tif(patch != null && patch.getShared() != null) {\n-\t\t\t\tList<Group> groups;\n-\t\t\t\tif(patch.getGroups() != null && !patch.getGroups().isEmpty()) {\n+\t\t\tif(patch != null && patch.getGroups() != null) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjM4NzkzNg=="}, "originalCommit": {"oid": "a77caceca4f5685cdfe4e1347a9e52f0639c3a19"}, "originalPosition": 22}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQwNzcyNTA1OnYy", "diffSide": "RIGHT", "path": "backend/src/main/java/com/bakdata/conquery/models/forms/configs/FormConfig.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQxMzozNjo1OFrOIFQwIg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQxMzo0MToxMVrOIFQ7qg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjM4ODI1OA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\t * This usually is usually not done very often and should be reasonable fast, so don't cache this.\n          \n          \n            \n            \t\t * This is usually not done very often and should be reasonable fast, so don't cache this.", "url": "https://github.com/bakdata/conquery/pull/1500#discussion_r542388258", "createdAt": "2020-12-14T13:36:58Z", "author": {"login": "awildturtok"}, "path": "backend/src/main/java/com/bakdata/conquery/models/forms/configs/FormConfig.java", "diffHunk": "@@ -140,6 +146,20 @@ public FormConfigOverviewRepresentation overview(MetaStorage storage, User user)\n \t */\n \tpublic FormConfigFullRepresentation fullRepresentation(MetaStorage storage, User requestingUser){\n \t\tString ownerName = Optional.ofNullable(storage.getUser(owner)).map(User::getLabel).orElse(null);\n+\n+\t\t/* Calculate which groups can see this query.\n+\t\t * This usually is usually not done very often and should be reasonable fast, so don't cache this.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a77caceca4f5685cdfe4e1347a9e52f0639c3a19"}, "originalPosition": 44}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjM4ODUwNQ==", "bodyText": "Hatten wir nicht mit genau so permission abfragen echte performance Probleme?", "url": "https://github.com/bakdata/conquery/pull/1500#discussion_r542388505", "createdAt": "2020-12-14T13:37:17Z", "author": {"login": "awildturtok"}, "path": "backend/src/main/java/com/bakdata/conquery/models/forms/configs/FormConfig.java", "diffHunk": "@@ -140,6 +146,20 @@ public FormConfigOverviewRepresentation overview(MetaStorage storage, User user)\n \t */\n \tpublic FormConfigFullRepresentation fullRepresentation(MetaStorage storage, User requestingUser){\n \t\tString ownerName = Optional.ofNullable(storage.getUser(owner)).map(User::getLabel).orElse(null);\n+\n+\t\t/* Calculate which groups can see this query.\n+\t\t * This usually is usually not done very often and should be reasonable fast, so don't cache this.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjM4ODI1OA=="}, "originalCommit": {"oid": "a77caceca4f5685cdfe4e1347a9e52f0639c3a19"}, "originalPosition": 44}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjM5MTIxMA==", "bodyText": "Die Probleme gibt es bei dem Endpunkt, der alle Queries auflistet. Dieser ziehlt nur auf eine bestimmt Query ab und daher f\u00e4llt es kaum ins Gewicht.", "url": "https://github.com/bakdata/conquery/pull/1500#discussion_r542391210", "createdAt": "2020-12-14T13:41:11Z", "author": {"login": "thoniTUB"}, "path": "backend/src/main/java/com/bakdata/conquery/models/forms/configs/FormConfig.java", "diffHunk": "@@ -140,6 +146,20 @@ public FormConfigOverviewRepresentation overview(MetaStorage storage, User user)\n \t */\n \tpublic FormConfigFullRepresentation fullRepresentation(MetaStorage storage, User requestingUser){\n \t\tString ownerName = Optional.ofNullable(storage.getUser(owner)).map(User::getLabel).orElse(null);\n+\n+\t\t/* Calculate which groups can see this query.\n+\t\t * This usually is usually not done very often and should be reasonable fast, so don't cache this.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjM4ODI1OA=="}, "originalCommit": {"oid": "a77caceca4f5685cdfe4e1347a9e52f0639c3a19"}, "originalPosition": 44}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1568, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}