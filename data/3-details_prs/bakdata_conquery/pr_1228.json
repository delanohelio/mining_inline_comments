{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM1ODEzNjgx", "number": 1228, "title": "also send query description in status from query-endpoint", "bodyText": "The column description is now also send on requests like:\nPOST /api/datasets/adb_bosch/queries\nGET /api/datasets/adb_bosch/queries/<QueryId>", "createdAt": "2020-06-17T12:19:07Z", "url": "https://github.com/bakdata/conquery/pull/1228", "merged": true, "mergeCommit": {"oid": "024001058ba6f144d31fc4e54f36780615df09a7"}, "closed": true, "closedAt": "2020-06-24T13:27:30Z", "author": {"login": "thoniTUB"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcuC8zGgFqTQzNTY1MDY2Mg==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcuZ_rrgFqTQzNjY0MTMwMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM1NjUwNjYy", "url": "https://github.com/bakdata/conquery/pull/1228#pullrequestreview-435650662", "createdAt": "2020-06-23T10:29:48Z", "commit": {"oid": "5982f751788a30cfeb98c531114aba9b3427676f"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QxMDoyOTo0OFrOGnjMJw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QxMDozMjozM1rOGnjRtQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDEyNDE5OQ==", "bodyText": "kannst auch ein enumSet machen statt with$Boolean", "url": "https://github.com/bakdata/conquery/pull/1228#discussion_r444124199", "createdAt": "2020-06-23T10:29:48Z", "author": {"login": "awildturtok"}, "path": "backend/src/main/java/com/bakdata/conquery/models/execution/ManagedExecution.java", "diffHunk": "@@ -204,25 +203,27 @@ protected void setStatusBase(@NonNull MasterMetaStorage storage, URLBuilder url,\n \t */\n \tprotected abstract URL getDownloadURL(URLBuilder url);\n \n-\tpublic ExecutionStatus buildStatus(@NonNull MasterMetaStorage storage, URLBuilder url, User user) {\n+\tpublic ExecutionStatus buildStatus(@NonNull MasterMetaStorage storage, URLBuilder url, User user, boolean withColumnDescription, boolean withSource) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5982f751788a30cfeb98c531114aba9b3427676f"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDEyNTIzMg==", "bodyText": "abstract?", "url": "https://github.com/bakdata/conquery/pull/1228#discussion_r444125232", "createdAt": "2020-06-23T10:31:50Z", "author": {"login": "awildturtok"}, "path": "backend/src/main/java/com/bakdata/conquery/models/execution/ManagedExecution.java", "diffHunk": "@@ -204,25 +203,27 @@ protected void setStatusBase(@NonNull MasterMetaStorage storage, URLBuilder url,\n \t */\n \tprotected abstract URL getDownloadURL(URLBuilder url);\n \n-\tpublic ExecutionStatus buildStatus(@NonNull MasterMetaStorage storage, URLBuilder url, User user) {\n+\tpublic ExecutionStatus buildStatus(@NonNull MasterMetaStorage storage, URLBuilder url, User user, boolean withColumnDescription, boolean withSource) {\n \t\tExecutionStatus status = new ExecutionStatus();\n-\t\tsetStatusBase(storage, url, user, status);\n+\t\tsetStatusBase(storage, url, user, status, withColumnDescription);\n+\t\tif(withColumnDescription) {\n+\t\t\tsetAdditionalFieldsForStatusWithColumnDescription(storage, url, user, status);\n+\t\t}\n+\t\tif(withSource) {\t\t\t\n+\t\t\tsetAdditionalFieldsForStatusWithSource(storage, url, user, status);\n+\t\t}\n \t\treturn status;\n \t\t\n-\t\t\n \t}\n-\t\n-\tpublic ExecutionStatus buildStatusWithSource(@NonNull MasterMetaStorage storage, URLBuilder url, User user) {\n-\t\tExecutionStatus.WithSingleQuery status = new ExecutionStatus.WithSingleQuery();\n-\t\tsetStatusBase(storage, url, user, status);\n-\t\tsetAdditionalFieldsForStatusWithSource(storage, url, user, status);\n-\t\treturn status;\n+\n+\tprotected void setAdditionalFieldsForStatusWithColumnDescription(@NonNull MasterMetaStorage storage, URLBuilder url, User user, ExecutionStatus status) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5982f751788a30cfeb98c531114aba9b3427676f"}, "originalPosition": 43}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDEyNTYyMQ==", "bodyText": "die methode ist hier eh schon zuende oder fehlt heir was?", "url": "https://github.com/bakdata/conquery/pull/1228#discussion_r444125621", "createdAt": "2020-06-23T10:32:33Z", "author": {"login": "awildturtok"}, "path": "backend/src/main/java/com/bakdata/conquery/models/query/ManagedQuery.java", "diffHunk": "@@ -141,23 +140,21 @@ public ResultInfoCollector collectResultInfos() {\n \t}\n \t\n \t@Override\n-\tprotected void setStatusBase(@NonNull MasterMetaStorage storage, URLBuilder url, @NonNull  User user, @NonNull ExecutionStatus status) {\n-\n-\t\tsuper.setStatusBase(storage, url, user, status);\n+\tprotected void setStatusBase(@NonNull MasterMetaStorage storage, URLBuilder url, @NonNull User user, @NonNull ExecutionStatus status, boolean withColumnDescription) {\n+\t\tsuper.setStatusBase(storage, url, user, status, withColumnDescription);\n \t\tstatus.setNumberOfResults(lastResultCount);\n+\t\tif(!withColumnDescription) {\n+\t\t\treturn;\n+\t\t}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5982f751788a30cfeb98c531114aba9b3427676f"}, "originalPosition": 20}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "17b8444b237547eca16c25b6397b152b0bf08512", "author": {"user": {"login": "thoniTUB", "name": "MT"}}, "url": "https://github.com/bakdata/conquery/commit/17b8444b237547eca16c25b6397b152b0bf08512", "committedDate": "2020-06-24T07:41:42Z", "message": "also send query description in status from query-endpoint"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5dd2bc55379057cd2973adf6f2eba9b052423c04", "author": {"user": {"login": "bakdata-bot", "name": null}}, "url": "https://github.com/bakdata/conquery/commit/5dd2bc55379057cd2973adf6f2eba9b052423c04", "committedDate": "2020-06-24T07:41:42Z", "message": "automatic update to docs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7eaf3230d54df04cf91b47b12c9e9d2e0145ab02", "author": {"user": {"login": "thoniTUB", "name": "MT"}}, "url": "https://github.com/bakdata/conquery/commit/7eaf3230d54df04cf91b47b12c9e9d2e0145ab02", "committedDate": "2020-06-24T07:41:42Z", "message": "uses an enumset for flagging instead of booleans"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a19df855d034b00ae6c54109f1287ca54c6c8aad", "author": {"user": {"login": "thoniTUB", "name": "MT"}}, "url": "https://github.com/bakdata/conquery/commit/a19df855d034b00ae6c54109f1287ca54c6c8aad", "committedDate": "2020-06-24T07:35:11Z", "message": "uses an enumset for flagging instead of booleans"}, "afterCommit": {"oid": "7eaf3230d54df04cf91b47b12c9e9d2e0145ab02", "author": {"user": {"login": "thoniTUB", "name": "MT"}}, "url": "https://github.com/bakdata/conquery/commit/7eaf3230d54df04cf91b47b12c9e9d2e0145ab02", "committedDate": "2020-06-24T07:41:42Z", "message": "uses an enumset for flagging instead of booleans"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c9b8326a9580601f11ae9a6e5f0fedead706bdef", "author": {"user": {"login": "thoniTUB", "name": "MT"}}, "url": "https://github.com/bakdata/conquery/commit/c9b8326a9580601f11ae9a6e5f0fedead706bdef", "committedDate": "2020-06-24T11:37:05Z", "message": "configures CSV parser to detect line seperator automatically, so that there is no confilct during required header matching between windows and linux ending"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM2NjQxMzAy", "url": "https://github.com/bakdata/conquery/pull/1228#pullrequestreview-436641302", "createdAt": "2020-06-24T13:23:47Z", "commit": {"oid": "c9b8326a9580601f11ae9a6e5f0fedead706bdef"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4618, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}