{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTMwODgzOTg0", "number": 1466, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQxNjoyMjoyOVrOE_sywQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQxNjoyMjoyOVrOE_sywQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM1MjI5NjMzOnYy", "diffSide": "RIGHT", "path": "backend/src/main/java/com/bakdata/conquery/models/query/queryplan/aggregators/specific/SpecialDateUnion.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQxNjoyMjoyOVrOH9jHuw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QwODoxNzo1N1rOH-HMnQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDMwMDYwMw==", "bodyText": "Kann dateRestriction null sein?", "url": "https://github.com/bakdata/conquery/pull/1466#discussion_r534300603", "createdAt": "2020-12-02T16:22:29Z", "author": {"login": "thoniTUB"}, "path": "backend/src/main/java/com/bakdata/conquery/models/query/queryplan/aggregators/specific/SpecialDateUnion.java", "diffHunk": "@@ -33,27 +31,25 @@ public void nextTable(QueryExecutionContext ctx, TableId table) {\n \n \t@Override\n \tpublic void acceptEvent(Bucket bucket, int event) {\n-\t\tif (currentColumn == null) {\n-\t\t\tif(!dateRestriction.isEmpty()) {\n-\t\t\t\tgetResultSet().addAll(dateRestriction);\n-\t\t\t}\n-\t\t\treturn;\n-\t\t}\n+\t\tif (currentColumn != null && bucket.has(event, currentColumn)) {\n+\t\t\tCDateRange range = bucket.getAsDateRange(event, currentColumn);\n \n-\t\tCDateRange range = bucket.getAsDateRange(event, currentColumn);\n-\n-\t\tif (range == null) {\n+\t\t\tCDateSet add = CDateSet.create(dateRestriction);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8dd9536e3bee3c1451750d4423867910fcebf564"}, "originalPosition": 40}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDg5MTY3Nw==", "bodyText": "Ne, die ist dann all", "url": "https://github.com/bakdata/conquery/pull/1466#discussion_r534891677", "createdAt": "2020-12-03T08:17:57Z", "author": {"login": "awildturtok"}, "path": "backend/src/main/java/com/bakdata/conquery/models/query/queryplan/aggregators/specific/SpecialDateUnion.java", "diffHunk": "@@ -33,27 +31,25 @@ public void nextTable(QueryExecutionContext ctx, TableId table) {\n \n \t@Override\n \tpublic void acceptEvent(Bucket bucket, int event) {\n-\t\tif (currentColumn == null) {\n-\t\t\tif(!dateRestriction.isEmpty()) {\n-\t\t\t\tgetResultSet().addAll(dateRestriction);\n-\t\t\t}\n-\t\t\treturn;\n-\t\t}\n+\t\tif (currentColumn != null && bucket.has(event, currentColumn)) {\n+\t\t\tCDateRange range = bucket.getAsDateRange(event, currentColumn);\n \n-\t\tCDateRange range = bucket.getAsDateRange(event, currentColumn);\n-\n-\t\tif (range == null) {\n+\t\t\tCDateSet add = CDateSet.create(dateRestriction);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDMwMDYwMw=="}, "originalCommit": {"oid": "8dd9536e3bee3c1451750d4423867910fcebf564"}, "originalPosition": 40}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1549, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}