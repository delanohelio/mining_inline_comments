{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTMzNTg5MzEy", "number": 1479, "title": "rework date based aggregators to reference validity date", "bodyText": "", "createdAt": "2020-12-07T11:10:50Z", "url": "https://github.com/bakdata/conquery/pull/1479", "merged": true, "mergeCommit": {"oid": "697ac6aca9de9b83228bd15955e40de2bfe332bc"}, "closed": true, "closedAt": "2020-12-16T09:19:23Z", "author": {"login": "awildturtok"}, "timelineItems": {"totalCount": 32, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdfU6JXAH2gAyNTMzNTg5MzEyOmU2NjI1YjU4ZDIzNDFmY2RkMDYxMTNmODEzZWNlODMzYWU2ZTAyNmM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdmafhPgH2gAyNTMzNTg5MzEyOjI0NGZhYWUwZjdmMDU2NzIwNjIzOWFjYThlOTJjOWRjMzczYTk1NDE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "e6625b58d2341fcdd06113f813ece833ae6e026c", "author": {"user": {"login": "awildturtok", "name": null}}, "url": "https://github.com/bakdata/conquery/commit/e6625b58d2341fcdd06113f813ece833ae6e026c", "committedDate": "2020-11-23T13:10:30Z", "message": "separate phases (QP and Execution) better"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3aef816f4adcefe877b0c0e25e2efcb6e9f1dac3", "author": {"user": {"login": "awildturtok", "name": null}}, "url": "https://github.com/bakdata/conquery/commit/3aef816f4adcefe877b0c0e25e2efcb6e9f1dac3", "committedDate": "2020-11-23T13:59:34Z", "message": "separate phases (QP and Execution) better"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0ef621b661b5e02854a9f796b1e568e0e1fed020", "author": {"user": {"login": "awildturtok", "name": null}}, "url": "https://github.com/bakdata/conquery/commit/0ef621b661b5e02854a9f796b1e568e0e1fed020", "committedDate": "2020-11-23T16:31:24Z", "message": "add excludeFromSecondaryIdQuery and activeSecondaryId fields, to exclude ConceptNodes that have a SecondaryId, but shouldn't"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "baf68e64cc30e77000527b476e461ce6c0752cde", "author": {"user": {"login": "bakdata-bot", "name": null}}, "url": "https://github.com/bakdata/conquery/commit/baf68e64cc30e77000527b476e461ce6c0752cde", "committedDate": "2020-11-23T16:33:58Z", "message": "automatic update to docs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "52c855e54ce15d758db92c362d1e4eb5598c17f3", "author": {"user": {"login": "awildturtok", "name": null}}, "url": "https://github.com/bakdata/conquery/commit/52c855e54ce15d758db92c362d1e4eb5598c17f3", "committedDate": "2020-11-24T15:42:06Z", "message": "Fix bug where StringParser would crash with overlapping prefix/suffix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ccd0c407d7e96cf87c32c7e3f942089f1fc90161", "author": {"user": {"login": "awildturtok", "name": null}}, "url": "https://github.com/bakdata/conquery/commit/ccd0c407d7e96cf87c32c7e3f942089f1fc90161", "committedDate": "2020-11-24T15:42:06Z", "message": "Add test for excludeFromSecondaryIdQuery flag"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "53a728b7fd2d812450d3f896ef325b92724ac806", "author": {"user": {"login": "bakdata-bot", "name": null}}, "url": "https://github.com/bakdata/conquery/commit/53a728b7fd2d812450d3f896ef325b92724ac806", "committedDate": "2020-11-24T15:44:21Z", "message": "automatic update to docs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "db863c3ae9f96b610c3e77f5dd3a474d945c0893", "author": {"user": {"login": "awildturtok", "name": null}}, "url": "https://github.com/bakdata/conquery/commit/db863c3ae9f96b610c3e77f5dd3a474d945c0893", "committedDate": "2020-11-24T17:37:38Z", "message": "remove usage of CQTable in ConceptNode"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8c89fb28e6334678feea3dee0fb51b12c0042a20", "author": {"user": {"login": "awildturtok", "name": null}}, "url": "https://github.com/bakdata/conquery/commit/8c89fb28e6334678feea3dee0fb51b12c0042a20", "committedDate": "2020-11-24T17:37:38Z", "message": "Validate that SecondaryId is distinct per Table"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "644033d22ae06f79165603156f6e5d969d7df224", "author": {"user": {"login": "awildturtok", "name": null}}, "url": "https://github.com/bakdata/conquery/commit/644033d22ae06f79165603156f6e5d969d7df224", "committedDate": "2020-11-24T17:37:38Z", "message": "Fix missing check for incoming BitMapCDateSet in retainAll"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ed0ca92a62a4cf36d6f4145179de015b9b862ca3", "author": {"user": {"login": "awildturtok", "name": null}}, "url": "https://github.com/bakdata/conquery/commit/ed0ca92a62a4cf36d6f4145179de015b9b862ca3", "committedDate": "2020-11-24T17:37:38Z", "message": "Generify checks for SecondaryIdQuery"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "acd9cc3ed96bd66aa32ac2070eba89c4d9df8f31", "author": {"user": {"login": "awildturtok", "name": null}}, "url": "https://github.com/bakdata/conquery/commit/acd9cc3ed96bd66aa32ac2070eba89c4d9df8f31", "committedDate": "2020-11-25T11:18:43Z", "message": "Cleanup code"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "301b9619b2d9bfadf7ff9205e8ce8c3501207604", "author": {"user": {"login": "awildturtok", "name": null}}, "url": "https://github.com/bakdata/conquery/commit/301b9619b2d9bfadf7ff9205e8ce8c3501207604", "committedDate": "2020-11-25T15:03:53Z", "message": "Merge branch 'develop' into feature/exclude-from-second-id"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b65b1abf836ebb0e5ce999b2f682a4e040b5fb8b", "author": {"user": {"login": "bakdata-bot", "name": null}}, "url": "https://github.com/bakdata/conquery/commit/b65b1abf836ebb0e5ce999b2f682a4e040b5fb8b", "committedDate": "2020-11-25T15:06:17Z", "message": "automatic update to docs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "024c37ddb9076cd569600d854c53ebd5b23b4c4d", "author": {"user": {"login": "awildturtok", "name": null}}, "url": "https://github.com/bakdata/conquery/commit/024c37ddb9076cd569600d854c53ebd5b23b4c4d", "committedDate": "2020-12-07T08:45:23Z", "message": "Merge remote-tracking branch 'origin/develop' into feature/exclude-from-second-id\n\n# Conflicts:\n#\tbackend/src/main/java/com/bakdata/conquery/models/common/BitMapCDateSet.java\n#\tbackend/src/main/java/com/bakdata/conquery/models/query/queryplan/specific/DateRestrictingNode.java\n#\tdocs/REST API JSONs.md"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "77f5b5ba34078aba9408a34ac1723cb7573b117f", "author": {"user": {"login": "bakdata-bot", "name": null}}, "url": "https://github.com/bakdata/conquery/commit/77f5b5ba34078aba9408a34ac1723cb7573b117f", "committedDate": "2020-12-07T08:48:43Z", "message": "automatic update to docs"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ2MTA3ODky", "url": "https://github.com/bakdata/conquery/pull/1479#pullrequestreview-546107892", "createdAt": "2020-12-07T12:37:27Z", "commit": {"oid": "33bbda35d573b43fee2fa1f00cd644a3679fd27e"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QxMjozNzoyN1rOIAkxRg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QxMjo0OToyN1rOIAlPAQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzQ3MzM1MA==", "bodyText": "Das sieht etwas nach einer magic number aus. Kannst du hier nitte eine sprechende Konstante draus machen?", "url": "https://github.com/bakdata/conquery/pull/1479#discussion_r537473350", "createdAt": "2020-12-07T12:37:27Z", "author": {"login": "thoniTUB"}, "path": "backend/src/main/java/com/bakdata/conquery/models/concepts/filters/specific/DateDistanceFilter.java", "diffHunk": "@@ -25,30 +22,24 @@\n  */\n @Getter @Setter @Slf4j\n @CPSType(id=\"DATE_DISTANCE\", base=Filter.class)\n-public class DateDistanceFilter extends SingleColumnFilter<Range.LongRange> {\n+public class DateDistanceFilter extends Filter<Range.LongRange> {\n \n \t@NotNull\n \tprivate ChronoUnit timeUnit = ChronoUnit.YEARS;\n+\n \t\n \t@Override\n-\tpublic EnumSet<MajorTypeId> getAcceptedColumnTypes() {\n-\t\treturn EnumSet.of(MajorTypeId.DATE);\n+\tpublic void configureFrontend(FEFilter f) throws ConceptConfigurationException {\n+\t\tf.setType(FEFilterType.INTEGER_RANGE);\n \t}\n-\t\n+\n \t@Override\n-\tpublic void configureFrontend(FEFilter f) throws ConceptConfigurationException {\n-\t\tswitch (getColumn().getType()) {\n-\t\t\tcase DATE: {\n-\t\t\t\tf.setType(FEFilterType.INTEGER_RANGE);\n-\t\t\t\treturn;\n-\t\t\t}\n-\t\t\tdefault:\n-\t\t\t\tthrow new ConceptConfigurationException(getConnector(), \"DATE_DISTANCE filter is incompatible with columns of type \" + getColumn().getType());\n-\t\t}\n+\tpublic Column[] getRequiredColumns() {\n+\t\treturn new Column[0];", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "33bbda35d573b43fee2fa1f00cd644a3679fd27e"}, "originalPosition": 52}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzQ3MzkyOA==", "bodyText": "\ud83d\udc4d", "url": "https://github.com/bakdata/conquery/pull/1479#discussion_r537473928", "createdAt": "2020-12-07T12:38:29Z", "author": {"login": "thoniTUB"}, "path": "backend/src/main/java/com/bakdata/conquery/models/concepts/filters/specific/DurationSumFilter.java", "diffHunk": "@@ -31,20 +30,12 @@\n \n \t@Override\n \tpublic void configureFrontend(FEFilter f) throws ConceptConfigurationException {\n-\t\tswitch (getColumn().getType()) {\n-\t\t\tcase DATE:\n-\t\t\tcase DATE_RANGE: {\n-\t\t\t\tf.setType(FEFilterType.INTEGER_RANGE);\n-\t\t\t\tf.setMin(0);\n-\t\t\t\treturn;\n-\t\t\t}\n-\t\t\tdefault:\n-\t\t\t\tthrow new ConceptConfigurationException(getConnector(), \"DURATION_SUM filter is incompatible with columns of type \" + getColumn().getType());\n-\t\t}\n+\t\tf.setType(FEFilterType.INTEGER_RANGE);\n+\t\tf.setMin(0);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "33bbda35d573b43fee2fa1f00cd644a3679fd27e"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzQ3NjMxMA==", "bodyText": "Die Jsons in den Test enthalten noch diesen Member, weshalb die CI fehlschl\u00e4gt", "url": "https://github.com/bakdata/conquery/pull/1479#discussion_r537476310", "createdAt": "2020-12-07T12:42:24Z", "author": {"login": "thoniTUB"}, "path": "backend/src/main/java/com/bakdata/conquery/models/concepts/select/connector/specific/DurationSumSelect.java", "diffHunk": "@@ -1,30 +1,15 @@\n package com.bakdata.conquery.models.concepts.select.connector.specific;\n \n import com.bakdata.conquery.io.cps.CPSType;\n-import com.bakdata.conquery.io.jackson.serializer.NsIdRef;\n import com.bakdata.conquery.models.concepts.select.Select;\n-import com.bakdata.conquery.models.concepts.select.connector.SingleColumnSelect;\n-import com.bakdata.conquery.models.datasets.Column;\n import com.bakdata.conquery.models.query.queryplan.aggregators.Aggregator;\n import com.bakdata.conquery.models.query.queryplan.aggregators.specific.DurationSumAggregator;\n-import com.fasterxml.jackson.annotation.JsonCreator;\n \n @CPSType(id = \"DURATION_SUM\", base = Select.class)\n-public class DurationSumSelect extends SingleColumnSelect {\n-\n-\t@JsonCreator\n-\tpublic DurationSumSelect(@NsIdRef Column column) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "33bbda35d573b43fee2fa1f00cd644a3679fd27e"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzQ3ODcxOQ==", "bodyText": "Just to be sure\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\tif (table.getDateColumn() != null) {\n          \n          \n            \n            \t\tif (table.getDateColumn() != null && table.getDateColumn().getValue() != null ) {", "url": "https://github.com/bakdata/conquery/pull/1479#discussion_r537478719", "createdAt": "2020-12-07T12:46:08Z", "author": {"login": "thoniTUB"}, "path": "backend/src/main/java/com/bakdata/conquery/models/query/concept/specific/CQConcept.java", "diffHunk": "@@ -193,17 +193,23 @@ protected QPNode conceptChild(Concept<?> concept, QueryPlanContext context, List\n \t}\n \n \tprivate Column selectValidityDateColumn(CQTable table) {\n+\t\tColumn validityDate = null;\n+\n \t\tif (table.getDateColumn() != null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "33bbda35d573b43fee2fa1f00cd644a3679fd27e"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzQ4MDI4Nw==", "bodyText": "Sieht mir aus wie this.column = this.column;", "url": "https://github.com/bakdata/conquery/pull/1479#discussion_r537480287", "createdAt": "2020-12-07T12:48:22Z", "author": {"login": "thoniTUB"}, "path": "backend/src/main/java/com/bakdata/conquery/models/query/filter/event/DateDistanceFilterNode.java", "diffHunk": "@@ -30,7 +30,7 @@\n \t@Setter\n \tprivate Column column;\n \n-\tpublic DateDistanceFilterNode(Column column, ChronoUnit unit, Range.LongRange filterValue) {\n+\tpublic DateDistanceFilterNode(ChronoUnit unit, Range.LongRange filterValue) {\n \t\tsuper(filterValue);\n \t\tthis.column = column;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "33bbda35d573b43fee2fa1f00cd644a3679fd27e"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzQ4MDk2MQ==", "bodyText": "mmhmm", "url": "https://github.com/bakdata/conquery/pull/1479#discussion_r537480961", "createdAt": "2020-12-07T12:49:27Z", "author": {"login": "thoniTUB"}, "path": "backend/src/main/java/com/bakdata/conquery/models/query/filter/event/DateDistanceFilterNode.java", "diffHunk": "@@ -44,15 +44,22 @@ public void nextTable(QueryExecutionContext ctx, TableId currentTable) {\n \t\telse {\n \t\t\treference = CDate.toLocalDate(ctx.getDateRestriction().getMaxValue());\n \t\t}\n+\n+\t\tcolumn = ctx.getValidityDateColumn();\n \t}\n \n \t@Override\n \tpublic DateDistanceFilterNode doClone(CloneContext ctx) {\n-\t\treturn new DateDistanceFilterNode(getColumn(), unit, filterValue);\n+\t\treturn new DateDistanceFilterNode(unit, filterValue);\n \t}\n \n \t@Override\n \tpublic boolean checkEvent(Bucket bucket, int event) {\n+\t\tif(getColumn() == null){\n+\t\t\t// todo wat do?", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "33bbda35d573b43fee2fa1f00cd644a3679fd27e"}, "originalPosition": 26}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "382314715707f4611ee87e54f20ff6c826759f9f", "author": {"user": {"login": "awildturtok", "name": null}}, "url": "https://github.com/bakdata/conquery/commit/382314715707f4611ee87e54f20ff6c826759f9f", "committedDate": "2020-12-07T13:39:24Z", "message": "simplify secondaryId signalling in ConceptNode"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c8bdeb5fd49c9c75feaab32aee083f9e6f6e48dc", "author": {"user": {"login": "awildturtok", "name": null}}, "url": "https://github.com/bakdata/conquery/commit/c8bdeb5fd49c9c75feaab32aee083f9e6f6e48dc", "committedDate": "2020-12-07T13:43:40Z", "message": "fix Validation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1a901d58a6de05b7e6fb951e35cdaf860bf1f7fc", "author": {"user": {"login": "awildturtok", "name": null}}, "url": "https://github.com/bakdata/conquery/commit/1a901d58a6de05b7e6fb951e35cdaf860bf1f7fc", "committedDate": "2020-12-07T14:00:42Z", "message": "Merge branch 'develop' into feature/exclude-from-second-id"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "46d1e5d900e9dbdc5ac3d8f8662b1a28f720c8d9", "author": {"user": {"login": "awildturtok", "name": null}}, "url": "https://github.com/bakdata/conquery/commit/46d1e5d900e9dbdc5ac3d8f8662b1a28f720c8d9", "committedDate": "2020-12-07T14:57:20Z", "message": "ignore ValidationMethod"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aceae9b78dce16f60003461078b94f00afdfab08", "author": {"user": {"login": "bakdata-bot", "name": null}}, "url": "https://github.com/bakdata/conquery/commit/aceae9b78dce16f60003461078b94f00afdfab08", "committedDate": "2020-12-07T15:00:12Z", "message": "automatic update to docs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "eccbbe6f7f6c2867685159e57f50f264b165d565", "author": {"user": {"login": "awildturtok", "name": null}}, "url": "https://github.com/bakdata/conquery/commit/eccbbe6f7f6c2867685159e57f50f264b165d565", "committedDate": "2020-12-07T15:47:20Z", "message": "Update backend/src/main/java/com/bakdata/conquery/models/query/queryplan/SecondaryIdQueryPlan.java"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ5MDk1MjE1", "url": "https://github.com/bakdata/conquery/pull/1479#pullrequestreview-549095215", "createdAt": "2020-12-10T11:17:57Z", "commit": {"oid": "e5103f8eec082c6eac42b2dc63a2b663a77dbcfb"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQxMToxNzo1OFrOIDEPZg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQxMToxNzo1OFrOIDEPZg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDA4NjExOA==", "bodyText": "Das sollte eigentlich schon in develop drinne sein? Wei\u00dft du warum das hier auftaucht?", "url": "https://github.com/bakdata/conquery/pull/1479#discussion_r540086118", "createdAt": "2020-12-10T11:17:58Z", "author": {"login": "thoniTUB"}, "path": "backend/src/main/java/com/bakdata/conquery/commands/ManagerNode.java", "diffHunk": "@@ -183,6 +184,7 @@ public void run(ConqueryConfig config, Environment environment) throws Interrupt\n \t\t\t\t\t\tConqueryConfig.getInstance().getQueries().getOldQueriesTime().getUnit().toChronoUnit()\n \t\t\t\t)));\n \t\tenvironment.admin().addTask(new ClearFilterSourceSearch());\n+\t\tenvironment.admin().addTask(new ReportConsistencyTask(datasetRegistry));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e5103f8eec082c6eac42b2dc63a2b663a77dbcfb"}, "originalPosition": 12}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e5103f8eec082c6eac42b2dc63a2b663a77dbcfb", "author": {"user": {"login": "awildturtok", "name": null}}, "url": "https://github.com/bakdata/conquery/commit/e5103f8eec082c6eac42b2dc63a2b663a77dbcfb", "committedDate": "2020-12-07T14:27:46Z", "message": "fix test"}, "afterCommit": {"oid": "8942a5d660a5ae8df88c8c33172991b177616371", "author": {"user": {"login": "awildturtok", "name": null}}, "url": "https://github.com/bakdata/conquery/commit/8942a5d660a5ae8df88c8c33172991b177616371", "committedDate": "2020-12-10T13:41:59Z", "message": "fix test"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8942a5d660a5ae8df88c8c33172991b177616371", "author": {"user": {"login": "awildturtok", "name": null}}, "url": "https://github.com/bakdata/conquery/commit/8942a5d660a5ae8df88c8c33172991b177616371", "committedDate": "2020-12-10T13:41:59Z", "message": "fix test"}, "afterCommit": {"oid": "178c3a6bfd263b07022d752f9d3efbe21afa9318", "author": {"user": {"login": "awildturtok", "name": null}}, "url": "https://github.com/bakdata/conquery/commit/178c3a6bfd263b07022d752f9d3efbe21afa9318", "committedDate": "2020-12-14T15:49:43Z", "message": "fix test"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUxNTA0Nzc3", "url": "https://github.com/bakdata/conquery/pull/1479#pullrequestreview-551504777", "createdAt": "2020-12-14T15:52:40Z", "commit": {"oid": "178c3a6bfd263b07022d752f9d3efbe21afa9318"}, "state": "DISMISSED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQxNTo1Mjo0MVrOIFXMDQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQxNTo1Nzo1N1rOIFXctA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjQ5MzcwOQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \tprivate Column selectValidityDateColumn(CQTable table) {\n          \n          \n            \n            \tprivate static Column selectValidityDateColumn(CQTable table) {", "url": "https://github.com/bakdata/conquery/pull/1479#discussion_r542493709", "createdAt": "2020-12-14T15:52:41Z", "author": {"login": "thoniTUB"}, "path": "backend/src/main/java/com/bakdata/conquery/models/query/concept/specific/CQConcept.java", "diffHunk": "@@ -191,17 +191,22 @@ protected QPNode conceptChild(Concept<?> concept, QueryPlanContext context, List\n \t}\n \n \tprivate Column selectValidityDateColumn(CQTable table) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "178c3a6bfd263b07022d752f9d3efbe21afa9318"}, "originalPosition": 3}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjQ5NTc3Mw==", "bodyText": "K\u00f6nnte man noch einen ValidityDateAggregator als Abstraction einf\u00fchren, oder sind die Implementierung in den einzelnen Aggregatoren zu unterschiedlich?", "url": "https://github.com/bakdata/conquery/pull/1479#discussion_r542495773", "createdAt": "2020-12-14T15:55:14Z", "author": {"login": "thoniTUB"}, "path": "backend/src/main/java/com/bakdata/conquery/models/query/queryplan/aggregators/specific/CountQuartersAggregator.java", "diffHunk": "@@ -13,43 +13,48 @@\n import com.bakdata.conquery.models.externalservice.ResultType;\n import com.bakdata.conquery.models.identifiable.ids.specific.TableId;\n import com.bakdata.conquery.models.query.QueryExecutionContext;\n-import com.bakdata.conquery.models.query.queryplan.aggregators.SingleColumnAggregator;\n+import com.bakdata.conquery.models.query.queryplan.aggregators.Aggregator;\n import com.bakdata.conquery.models.query.queryplan.clone.CloneContext;\n import it.unimi.dsi.fastutil.ints.IntOpenHashSet;\n import it.unimi.dsi.fastutil.ints.IntSet;\n+import lombok.Getter;\n \n /**\n  * Count the number of distinct quarters for all events. Implementation is specific for DateRanges\n  */\n-public class CountQuartersOfDateRangeAggregator extends SingleColumnAggregator<Long> {\n+public class CountQuartersAggregator implements Aggregator<Long> {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "178c3a6bfd263b07022d752f9d3efbe21afa9318"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjQ5Nzk3Mg==", "bodyText": "Es sieht so aus als h\u00e4tten alle einen Member f\u00fcr die DateRestriction und der Validity date Column", "url": "https://github.com/bakdata/conquery/pull/1479#discussion_r542497972", "createdAt": "2020-12-14T15:57:57Z", "author": {"login": "thoniTUB"}, "path": "backend/src/main/java/com/bakdata/conquery/models/query/queryplan/aggregators/specific/CountQuartersAggregator.java", "diffHunk": "@@ -13,43 +13,48 @@\n import com.bakdata.conquery.models.externalservice.ResultType;\n import com.bakdata.conquery.models.identifiable.ids.specific.TableId;\n import com.bakdata.conquery.models.query.QueryExecutionContext;\n-import com.bakdata.conquery.models.query.queryplan.aggregators.SingleColumnAggregator;\n+import com.bakdata.conquery.models.query.queryplan.aggregators.Aggregator;\n import com.bakdata.conquery.models.query.queryplan.clone.CloneContext;\n import it.unimi.dsi.fastutil.ints.IntOpenHashSet;\n import it.unimi.dsi.fastutil.ints.IntSet;\n+import lombok.Getter;\n \n /**\n  * Count the number of distinct quarters for all events. Implementation is specific for DateRanges\n  */\n-public class CountQuartersOfDateRangeAggregator extends SingleColumnAggregator<Long> {\n+public class CountQuartersAggregator implements Aggregator<Long> {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjQ5NTc3Mw=="}, "originalCommit": {"oid": "178c3a6bfd263b07022d752f9d3efbe21afa9318"}, "originalPosition": 15}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "55b068bb27fc9b749a4c1d778a13ba2439ce8fc9", "author": {"user": {"login": "awildturtok", "name": null}}, "url": "https://github.com/bakdata/conquery/commit/55b068bb27fc9b749a4c1d778a13ba2439ce8fc9", "committedDate": "2020-12-14T16:19:46Z", "message": "unify validityDateBased aggregators"}, "afterCommit": {"oid": "eccbbe6f7f6c2867685159e57f50f264b165d565", "author": {"user": {"login": "awildturtok", "name": null}}, "url": "https://github.com/bakdata/conquery/commit/eccbbe6f7f6c2867685159e57f50f264b165d565", "committedDate": "2020-12-07T15:47:20Z", "message": "Update backend/src/main/java/com/bakdata/conquery/models/query/queryplan/SecondaryIdQueryPlan.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "89ebd7b8ced9cee3f7c064101899c906869a96fe", "author": {"user": {"login": "awildturtok", "name": null}}, "url": "https://github.com/bakdata/conquery/commit/89ebd7b8ced9cee3f7c064101899c906869a96fe", "committedDate": "2020-12-14T16:50:48Z", "message": "Merge branch 'develop' into feature/date-based-to-validity-date"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f950e156f8499ac7a0ff45e4352d01a8791bd0fd", "author": {"user": {"login": "awildturtok", "name": null}}, "url": "https://github.com/bakdata/conquery/commit/f950e156f8499ac7a0ff45e4352d01a8791bd0fd", "committedDate": "2020-12-15T12:49:24Z", "message": "Merge branch 'develop' into feature/date-based-to-validity-date"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a5d19b72c10d116700cd2a9dc8330646810e30ff", "author": {"user": {"login": "awildturtok", "name": null}}, "url": "https://github.com/bakdata/conquery/commit/a5d19b72c10d116700cd2a9dc8330646810e30ff", "committedDate": "2020-12-15T13:35:40Z", "message": "cleanup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "244faae0f7f0567206239aca8e92c9dc373a9541", "author": {"user": {"login": "bakdata-bot", "name": null}}, "url": "https://github.com/bakdata/conquery/commit/244faae0f7f0567206239aca8e92c9dc373a9541", "committedDate": "2020-12-15T13:38:19Z", "message": "automatic update to docs"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4777, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}