{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk2OTcyODIy", "number": 1376, "reviewThreads": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QwNzo1MTowOVrOErDjsQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QxNTowNTo0NFrOErOY5g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEzNTgyNTEzOnYy", "diffSide": "RIGHT", "path": "backend/src/main/java/com/bakdata/conquery/apiv1/RequestAwareUriBuilder.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QwNzo1MTowOVrOHdm2bw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QwNzo1MTowOVrOHdm2bw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDgwNzI3OQ==", "bodyText": "import", "url": "https://github.com/bakdata/conquery/pull/1376#discussion_r500807279", "createdAt": "2020-10-07T07:51:09Z", "author": {"login": "awildturtok"}, "path": "backend/src/main/java/com/bakdata/conquery/apiv1/RequestAwareUriBuilder.java", "diffHunk": "@@ -0,0 +1,12 @@\n+package com.bakdata.conquery.apiv1;\n+\n+import static com.bakdata.conquery.resources.ResourceConstants.API;\n+\n+import javax.servlet.http.HttpServletRequest;\n+\n+public abstract class RequestAwareUriBuilder extends javax.ws.rs.core.UriBuilder {\n+\n+\tpublic static javax.ws.rs.core.UriBuilder fromRequest(HttpServletRequest request) {\n+\t\treturn javax.ws.rs.core.UriBuilder.fromUri(RequestHelper.getRequestURL(request)).path(API);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cce5d629ec0b332cc4f6ac9ec6674fec36b300d3"}, "originalPosition": 10}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEzNTgyNjg2OnYy", "diffSide": "RIGHT", "path": "backend/src/main/java/com/bakdata/conquery/apiv1/RequestAwareUriBuilder.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QwNzo1MTozNFrOHdm3eA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QxMDoxNzo0MVrOHdsdBg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDgwNzU0NA==", "bodyText": "was macht die Klasse au\u00dfer einer Helper Methode?", "url": "https://github.com/bakdata/conquery/pull/1376#discussion_r500807544", "createdAt": "2020-10-07T07:51:34Z", "author": {"login": "awildturtok"}, "path": "backend/src/main/java/com/bakdata/conquery/apiv1/RequestAwareUriBuilder.java", "diffHunk": "@@ -0,0 +1,12 @@\n+package com.bakdata.conquery.apiv1;\n+\n+import static com.bakdata.conquery.resources.ResourceConstants.API;\n+\n+import javax.servlet.http.HttpServletRequest;\n+\n+public abstract class RequestAwareUriBuilder extends javax.ws.rs.core.UriBuilder {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cce5d629ec0b332cc4f6ac9ec6674fec36b300d3"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDg5OTA3OA==", "bodyText": "Sie bietet das typische statische Interface vom UriBuilder aber ich k\u00f6nnte sie zu einem Interface machen", "url": "https://github.com/bakdata/conquery/pull/1376#discussion_r500899078", "createdAt": "2020-10-07T10:17:41Z", "author": {"login": "thoniTUB"}, "path": "backend/src/main/java/com/bakdata/conquery/apiv1/RequestAwareUriBuilder.java", "diffHunk": "@@ -0,0 +1,12 @@\n+package com.bakdata.conquery.apiv1;\n+\n+import static com.bakdata.conquery.resources.ResourceConstants.API;\n+\n+import javax.servlet.http.HttpServletRequest;\n+\n+public abstract class RequestAwareUriBuilder extends javax.ws.rs.core.UriBuilder {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDgwNzU0NA=="}, "originalCommit": {"oid": "cce5d629ec0b332cc4f6ac9ec6674fec36b300d3"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEzNTgzMTkxOnYy", "diffSide": "RIGHT", "path": "backend/src/main/java/com/bakdata/conquery/apiv1/StoredQueriesProcessor.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QwNzo1Mjo1M1rOHdm6sg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QwNzo1Mjo1M1rOHdm6sg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDgwODM3MA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\telse if(!(query instanceof ManagedQuery)) {\n          \n          \n            \n            \n          \n          \n            \n            \t\tif(!(query instanceof ManagedQuery)) {", "url": "https://github.com/bakdata/conquery/pull/1376#discussion_r500808370", "createdAt": "2020-10-07T07:52:53Z", "author": {"login": "awildturtok"}, "path": "backend/src/main/java/com/bakdata/conquery/apiv1/StoredQueriesProcessor.java", "diffHunk": "@@ -66,12 +68,15 @@ public void deleteQuery(Namespace namespace, ManagedExecutionId queryId) {\n \t\tstorage.removeExecution(queryId);\n \t}\n \n-\tpublic ExecutionStatus getQueryWithSource(ManagedExecutionId queryId, User user) {\n+\tpublic StoredQuerySingleInfo getQueryWithSource(ManagedExecutionId queryId, User user, UriBuilder url) {\n \t\tManagedExecution<?> query = storage.getExecution(queryId);\n \t\tif (query == null) {\n-\t\t\treturn null;\n+\t\t\tthrow new WebApplicationException(Response.Status.NOT_FOUND);\n \t\t}\n-\t\treturn query.buildStatus(storage, null, user, EnumSet.of(CreationFlag.WITH_COLUMN_DESCIPTION, CreationFlag.WITH_SOURCE));\n+\t\telse if(!(query instanceof ManagedQuery)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cce5d629ec0b332cc4f6ac9ec6674fec36b300d3"}, "originalPosition": 46}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEzNTgzNDU4OnYy", "diffSide": "RIGHT", "path": "backend/src/main/java/com/bakdata/conquery/apiv1/StoredQuerySingleInfo.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QwNzo1MzozMFrOHdm8TQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QxMDoyMDoyOFrOHdsjpw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDgwODc4MQ==", "bodyText": "\u00f6hm, ist das nicht was f\u00fcr Kai?", "url": "https://github.com/bakdata/conquery/pull/1376#discussion_r500808781", "createdAt": "2020-10-07T07:53:30Z", "author": {"login": "awildturtok"}, "path": "backend/src/main/java/com/bakdata/conquery/apiv1/StoredQuerySingleInfo.java", "diffHunk": "@@ -0,0 +1,80 @@\n+package com.bakdata.conquery.apiv1;\n+\n+import java.net.URL;\n+import java.time.ZoneId;\n+import java.time.ZonedDateTime;\n+import java.util.ArrayList;\n+import java.util.Collection;\n+import java.util.List;\n+import java.util.Optional;\n+\n+import javax.ws.rs.core.UriBuilder;\n+\n+import com.bakdata.conquery.io.xodus.MetaStorage;\n+import com.bakdata.conquery.models.auth.entities.Group;\n+import com.bakdata.conquery.models.auth.entities.User;\n+import com.bakdata.conquery.models.auth.permissions.Ability;\n+import com.bakdata.conquery.models.auth.permissions.QueryPermission;\n+import com.bakdata.conquery.models.identifiable.ids.specific.GroupId;\n+import com.bakdata.conquery.models.identifiable.ids.specific.ManagedExecutionId;\n+import com.bakdata.conquery.models.query.ManagedQuery;\n+import com.fasterxml.jackson.annotation.JsonProperty;\n+import lombok.AllArgsConstructor;\n+import lombok.Getter;\n+import org.apache.shiro.authz.Permission;\n+\n+/**\n+ * API-Class that holds exactly the informations that the front end needs when querying an stored query.\n+ * \n+ * @implNote It can be tedious to maintain several Api classes for different end points that have\n+ * overlapping information. GraphQL might be a solution for this.\n+ */\n+@AllArgsConstructor\n+@Getter\n+public class StoredQuerySingleInfo {\n+\tprivate ManagedExecutionId id;\n+\tprivate String label;\n+\tprivate ZonedDateTime createdAt; // ISO timestamp: 2019-06-18T11:11:50.528626+02:00\n+\tprivate boolean own;\n+\tprivate boolean shared;\n+\tprivate boolean system;\n+\t@JsonProperty(\"isPristineLabel\")\n+\tprivate boolean isPristineLabel;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cce5d629ec0b332cc4f6ac9ec6674fec36b300d3"}, "originalPosition": 42}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDkwMDc3NQ==", "bodyText": "Meinst du die JsonProperty?", "url": "https://github.com/bakdata/conquery/pull/1376#discussion_r500900775", "createdAt": "2020-10-07T10:20:28Z", "author": {"login": "thoniTUB"}, "path": "backend/src/main/java/com/bakdata/conquery/apiv1/StoredQuerySingleInfo.java", "diffHunk": "@@ -0,0 +1,80 @@\n+package com.bakdata.conquery.apiv1;\n+\n+import java.net.URL;\n+import java.time.ZoneId;\n+import java.time.ZonedDateTime;\n+import java.util.ArrayList;\n+import java.util.Collection;\n+import java.util.List;\n+import java.util.Optional;\n+\n+import javax.ws.rs.core.UriBuilder;\n+\n+import com.bakdata.conquery.io.xodus.MetaStorage;\n+import com.bakdata.conquery.models.auth.entities.Group;\n+import com.bakdata.conquery.models.auth.entities.User;\n+import com.bakdata.conquery.models.auth.permissions.Ability;\n+import com.bakdata.conquery.models.auth.permissions.QueryPermission;\n+import com.bakdata.conquery.models.identifiable.ids.specific.GroupId;\n+import com.bakdata.conquery.models.identifiable.ids.specific.ManagedExecutionId;\n+import com.bakdata.conquery.models.query.ManagedQuery;\n+import com.fasterxml.jackson.annotation.JsonProperty;\n+import lombok.AllArgsConstructor;\n+import lombok.Getter;\n+import org.apache.shiro.authz.Permission;\n+\n+/**\n+ * API-Class that holds exactly the informations that the front end needs when querying an stored query.\n+ * \n+ * @implNote It can be tedious to maintain several Api classes for different end points that have\n+ * overlapping information. GraphQL might be a solution for this.\n+ */\n+@AllArgsConstructor\n+@Getter\n+public class StoredQuerySingleInfo {\n+\tprivate ManagedExecutionId id;\n+\tprivate String label;\n+\tprivate ZonedDateTime createdAt; // ISO timestamp: 2019-06-18T11:11:50.528626+02:00\n+\tprivate boolean own;\n+\tprivate boolean shared;\n+\tprivate boolean system;\n+\t@JsonProperty(\"isPristineLabel\")\n+\tprivate boolean isPristineLabel;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDgwODc4MQ=="}, "originalCommit": {"oid": "cce5d629ec0b332cc4f6ac9ec6674fec36b300d3"}, "originalPosition": 42}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEzNTgzODg5OnYy", "diffSide": "RIGHT", "path": "backend/src/main/java/com/bakdata/conquery/models/execution/ManagedExecution.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QwNzo1NDo0M1rOHdm_Ag==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QwNzo1NDo0M1rOHdm_Ag==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDgwOTQ3NA==", "bodyText": "den Unterstrich w\u00fcrde ich vermeiden, verusch hier lieber einen passenderen Namen zu finden", "url": "https://github.com/bakdata/conquery/pull/1376#discussion_r500809474", "createdAt": "2020-10-07T07:54:43Z", "author": {"login": "awildturtok"}, "path": "backend/src/main/java/com/bakdata/conquery/models/execution/ManagedExecution.java", "diffHunk": "@@ -204,29 +207,38 @@ protected void setStatusBase(@NonNull MetaStorage storage, URLBuilder url, @NonN\n \t\tstatus.setStatus(state);\n \t\tstatus.setOwner(Optional.ofNullable(owner).orElse(null));\n \t\tstatus.setOwnerName(Optional.ofNullable(owner).map(owner -> storage.getUser(owner)).map(User::getLabel).orElse(null));\n-\t\tstatus.setResultUrl(\n-\t\t\tisReadyToDownload(url, user)\n-\t\t\t\t? getDownloadURL(url)\n-\t\t\t\t: null);\n+\t\tstatus.setResultUrl(getDownloadURL(url, user).orElse(null));\n \t\tif (state.equals(ExecutionState.FAILED) && error != null) {\n \t\t\t// Use plain format here to have a uniform serialization.\n \t\t\tstatus.setError(error.asPlain());\n \t\t}\n \t}\n+\t\n+\n+\t@SneakyThrows({MalformedURLException.class, IllegalArgumentException.class, UriBuilderException.class})\n+\tpublic final Optional<URL> getDownloadURL(UriBuilder url, User user) {\n+\t\tif(isReadyToDownload(url, user)) {\n+\t\t\treturn Optional.empty();\n+\t\t}\n+\t\treturn Optional.ofNullable(_getDownloadURL(url));\n+\t}\n \n \t/**\n \t * Allows the implementation to define an specific endpoint from where the result is to be downloaded.\n+\t * @throws UriBuilderException \n+\t * @throws IllegalArgumentException \n+\t * @throws MalformedURLException \n \t */\n-\tprotected abstract URL getDownloadURL(URLBuilder url);\n+\tprotected abstract URL _getDownloadURL(UriBuilder url) throws MalformedURLException, IllegalArgumentException, UriBuilderException;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cce5d629ec0b332cc4f6ac9ec6674fec36b300d3"}, "originalPosition": 67}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEzNTg1MDM5OnYy", "diffSide": "RIGHT", "path": "backend/src/main/java/com/bakdata/conquery/resources/api/StoredQueriesResource.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QwNzo1NzozOFrOHdnGEg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QxMDoyMTo0NVrOHdsmew==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDgxMTI4Mg==", "bodyText": "wo ist der User hin?", "url": "https://github.com/bakdata/conquery/pull/1376#discussion_r500811282", "createdAt": "2020-10-07T07:57:38Z", "author": {"login": "awildturtok"}, "path": "backend/src/main/java/com/bakdata/conquery/resources/api/StoredQueriesResource.java", "diffHunk": "@@ -42,18 +40,18 @@\n \tprivate StoredQueriesProcessor processor;\n \n \t@GET\n-\tpublic List<ExecutionStatus> getAllQueries(@Auth User user, DatasetId datasetId, @Context HttpServletRequest req) {\n-\t\treturn processor.getAllQueries(namespace, req, user)\n+\tpublic List<ExecutionStatus> getAllQueries(DatasetId datasetId) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cce5d629ec0b332cc4f6ac9ec6674fec36b300d3"}, "originalPosition": 37}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDkwMTQ5OQ==", "bodyText": "Der ist schon durch die @PostCreate von HAuthorized in dem Context verf\u00fcgbar.", "url": "https://github.com/bakdata/conquery/pull/1376#discussion_r500901499", "createdAt": "2020-10-07T10:21:45Z", "author": {"login": "thoniTUB"}, "path": "backend/src/main/java/com/bakdata/conquery/resources/api/StoredQueriesResource.java", "diffHunk": "@@ -42,18 +40,18 @@\n \tprivate StoredQueriesProcessor processor;\n \n \t@GET\n-\tpublic List<ExecutionStatus> getAllQueries(@Auth User user, DatasetId datasetId, @Context HttpServletRequest req) {\n-\t\treturn processor.getAllQueries(namespace, req, user)\n+\tpublic List<ExecutionStatus> getAllQueries(DatasetId datasetId) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDgxMTI4Mg=="}, "originalCommit": {"oid": "cce5d629ec0b332cc4f6ac9ec6674fec36b300d3"}, "originalPosition": 37}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEzNTg1NDIwOnYy", "diffSide": "RIGHT", "path": "backend/src/test/java/com/bakdata/conquery/integration/tests/ConceptPermissionTest.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QwNzo1ODozOFrOHdnIdg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QxMToyNDozNVrOHdupow==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDgxMTg5NA==", "bodyText": "das localhost sieht mir hier falsch aus, was machst du damit? Schau mal ob du eher den eigenen Hostname kriegst?", "url": "https://github.com/bakdata/conquery/pull/1376#discussion_r500811894", "createdAt": "2020-10-07T07:58:38Z", "author": {"login": "awildturtok"}, "path": "backend/src/test/java/com/bakdata/conquery/integration/tests/ConceptPermissionTest.java", "diffHunk": "@@ -83,7 +86,7 @@ public void execute(StandaloneSupport conquery) throws Exception {\n \t}\n \t\n \tpublic static void executeAndWaitUntilFinish(QueryProcessor processor, Dataset dataset, QueryDescription query, User user, MetaStorage storage ) {\n-\t\tExecutionStatus status = processor.postQuery(dataset, query, null, user);\n+\t\tExecutionStatus status = processor.postQuery(dataset, query, UriBuilder.fromUri(URI.create(\"http://localhost\")), user);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cce5d629ec0b332cc4f6ac9ec6674fec36b300d3"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDkwMzE4Mg==", "bodyText": "Der UriBuilder braucht an dieser stelle einfach nur eine Valide URI, benutzt wird diese nicht", "url": "https://github.com/bakdata/conquery/pull/1376#discussion_r500903182", "createdAt": "2020-10-07T10:24:42Z", "author": {"login": "thoniTUB"}, "path": "backend/src/test/java/com/bakdata/conquery/integration/tests/ConceptPermissionTest.java", "diffHunk": "@@ -83,7 +86,7 @@ public void execute(StandaloneSupport conquery) throws Exception {\n \t}\n \t\n \tpublic static void executeAndWaitUntilFinish(QueryProcessor processor, Dataset dataset, QueryDescription query, User user, MetaStorage storage ) {\n-\t\tExecutionStatus status = processor.postQuery(dataset, query, null, user);\n+\t\tExecutionStatus status = processor.postQuery(dataset, query, UriBuilder.fromUri(URI.create(\"http://localhost\")), user);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDgxMTg5NA=="}, "originalCommit": {"oid": "cce5d629ec0b332cc4f6ac9ec6674fec36b300d3"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDkzNTA3NQ==", "bodyText": "Aber ich denke auch so, dass localhost am portabelsten ist", "url": "https://github.com/bakdata/conquery/pull/1376#discussion_r500935075", "createdAt": "2020-10-07T11:24:35Z", "author": {"login": "thoniTUB"}, "path": "backend/src/test/java/com/bakdata/conquery/integration/tests/ConceptPermissionTest.java", "diffHunk": "@@ -83,7 +86,7 @@ public void execute(StandaloneSupport conquery) throws Exception {\n \t}\n \t\n \tpublic static void executeAndWaitUntilFinish(QueryProcessor processor, Dataset dataset, QueryDescription query, User user, MetaStorage storage ) {\n-\t\tExecutionStatus status = processor.postQuery(dataset, query, null, user);\n+\t\tExecutionStatus status = processor.postQuery(dataset, query, UriBuilder.fromUri(URI.create(\"http://localhost\")), user);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDgxMTg5NA=="}, "originalCommit": {"oid": "cce5d629ec0b332cc4f6ac9ec6674fec36b300d3"}, "originalPosition": 18}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEzNzU5OTc0OnYy", "diffSide": "RIGHT", "path": "backend/src/main/java/com/bakdata/conquery/apiv1/RequestAwareUriBuilder.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QxNTowNTo0NFrOHd4Asw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QxNTowNTo0NFrOHd4Asw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTA4ODQzNQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            public interface RequestAwareUriBuilder {\n          \n          \n            \n            import lombok.experimental.UtilityClass;\n          \n          \n            \n            \n          \n          \n            \n            @UtilityClass\n          \n          \n            \n            public class RequestAwareUriBuilder {", "url": "https://github.com/bakdata/conquery/pull/1376#discussion_r501088435", "createdAt": "2020-10-07T15:05:44Z", "author": {"login": "awildturtok"}, "path": "backend/src/main/java/com/bakdata/conquery/apiv1/RequestAwareUriBuilder.java", "diffHunk": "@@ -0,0 +1,13 @@\n+package com.bakdata.conquery.apiv1;\n+\n+import static com.bakdata.conquery.resources.ResourceConstants.API;\n+\n+import javax.servlet.http.HttpServletRequest;\n+import javax.ws.rs.core.UriBuilder;\n+\n+public interface RequestAwareUriBuilder {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "eafb726efe9d95824ffc7585506a0b7c67ef1302"}, "originalPosition": 8}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1585, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}