{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkyOTMwMzQ3", "number": 1119, "title": "capture error due to form query creation", "bodyText": "", "createdAt": "2020-03-24T11:20:36Z", "url": "https://github.com/bakdata/conquery/pull/1119", "merged": true, "mergeCommit": {"oid": "78c26ee749a849913f7d2d6a46589f0793ad4ef6"}, "closed": true, "closedAt": "2020-03-25T11:53:05Z", "author": {"login": "thoniTUB"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcQxBgkAH2gAyMzkyOTMwMzQ3Ojk4M2JlNGJmMjFkZDQzNjY5MjlmZjgwMDUwOTBjMTAwOTgxYmE1ZmQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcQ05Y0gH2gAyMzkyOTMwMzQ3OmExYjRiMjU0MmNiZjUzZmVkOTFhZjUyOWI0ZjBmNTQ1ZTUxMmI0NzA=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "983be4bf21dd4366929ff8005090c100981ba5fd", "author": {"user": {"login": "thoniTUB", "name": "MT"}}, "url": "https://github.com/bakdata/conquery/commit/983be4bf21dd4366929ff8005090c100981ba5fd", "committedDate": "2020-03-24T11:15:52Z", "message": "capture error due to form query creation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f92d6faaebcbe4a17d5183d5e9e0ca947a54ff89", "author": {"user": {"login": "thoniTUB", "name": "MT"}}, "url": "https://github.com/bakdata/conquery/commit/f92d6faaebcbe4a17d5183d5e9e0ca947a54ff89", "committedDate": "2020-03-24T11:29:28Z", "message": "adds more error messages"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "886eefcb865e88bb32f8a0b085a9ae24a25d18dc", "author": {"user": {"login": "thoniTUB", "name": "MT"}}, "url": "https://github.com/bakdata/conquery/commit/886eefcb865e88bb32f8a0b085a9ae24a25d18dc", "committedDate": "2020-03-24T14:08:47Z", "message": "use a static validator"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5a227c48e0f61beb2f2fd7439b74472c295e22eb", "author": {"user": {"login": "thoniTUB", "name": "MT"}}, "url": "https://github.com/bakdata/conquery/commit/5a227c48e0f61beb2f2fd7439b74472c295e22eb", "committedDate": "2020-03-24T14:09:01Z", "message": "fix race condition on query state"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgwMzUyNzg0", "url": "https://github.com/bakdata/conquery/pull/1119#pullrequestreview-380352784", "createdAt": "2020-03-24T14:17:30Z", "commit": {"oid": "5a227c48e0f61beb2f2fd7439b74472c295e22eb"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNFQxNDoxNzozMFrOF6yVfg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNFQxNDoxNzo1MVrOF6yWiQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzE4NjQzMA==", "bodyText": "MultiException und dann ordentlich als cause einf\u00fcgen?", "url": "https://github.com/bakdata/conquery/pull/1119#discussion_r397186430", "createdAt": "2020-03-24T14:17:30Z", "author": {"login": "awildturtok"}, "path": "backend/src/main/java/com/bakdata/conquery/models/forms/managed/ManagedForm.java", "diffHunk": "@@ -139,7 +140,18 @@ public ExecutionStatus buildStatus(@NonNull MasterMetaStorage storage, URLBuilde\n \t */\n \t@Override\n \tpublic void addResult(@NonNull MasterMetaStorage storage, FormSharedResult result) {\n-\t\tManagedQuery subQuery = flatSubQueries.get(result.getSubqueryId());\n+\t\tManagedExecutionId subquery = result.getSubqueryId();\n+\t\tif( subquery == null ) {\n+\t\t\tfail(storage);\n+\t\t\tlog.warn(\"Form failed in query plan creation due to: \" + result.getResults().stream()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5a227c48e0f61beb2f2fd7439b74472c295e22eb"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzE4NjY5Nw==", "bodyText": "Cause \u00fcber SLF4J laufen lassen", "url": "https://github.com/bakdata/conquery/pull/1119#discussion_r397186697", "createdAt": "2020-03-24T14:17:51Z", "author": {"login": "awildturtok"}, "path": "backend/src/main/java/com/bakdata/conquery/models/messages/namespaces/specific/ExecuteQuery.java", "diffHunk": "@@ -41,6 +43,7 @@ public void react(Worker context) throws Exception {\n \t\ttry {\n \t\t\tplans = execution.createQueryPlans(new QueryPlanContext(context)).entrySet();\t\t\n \t\t} catch (Exception e) {\n+\t\t\tlog.error(\"Failed to create query plans for \" + execution.getId() + \". Cause: \"+ e );", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5a227c48e0f61beb2f2fd7439b74472c295e22eb"}, "originalPosition": 17}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "01471c813bf740dab5c8e29667335a6726d1e9c7", "author": {"user": {"login": "thoniTUB", "name": "MT"}}, "url": "https://github.com/bakdata/conquery/commit/01471c813bf740dab5c8e29667335a6726d1e9c7", "committedDate": "2020-03-24T15:24:17Z", "message": "review changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a1b4b2542cbf53fed91af529b4f0f545e512b470", "author": {"user": {"login": "thoniTUB", "name": "MT"}}, "url": "https://github.com/bakdata/conquery/commit/a1b4b2542cbf53fed91af529b4f0f545e512b470", "committedDate": "2020-03-24T15:46:37Z", "message": "correct compiler errors"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4653, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}