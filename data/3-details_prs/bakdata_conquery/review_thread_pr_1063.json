{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgyNTg5ODkz", "number": 1063, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQxMToyNzo0MFrODoSgIg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQxMTozNzozMlrODoSs3Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQzNTcyNzcwOnYy", "diffSide": "RIGHT", "path": "backend/src/main/java/com/bakdata/conquery/resources/admin/rest/AdminProcessor.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQxMToyNzo0MFrOF2vxRw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQxMToyNzo0MFrOF2vxRw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mjk1MDA4Nw==", "bodyText": "Der Univocity parser kann ein WriteHeader o\u00e4", "url": "https://github.com/bakdata/conquery/pull/1063#discussion_r392950087", "createdAt": "2020-03-16T11:27:40Z", "author": {"login": "awildturtok"}, "path": "backend/src/main/java/com/bakdata/conquery/resources/admin/rest/AdminProcessor.java", "diffHunk": "@@ -479,29 +479,64 @@ public FEAuthOverview getAuthOverview() {\n \t\treturn FEAuthOverview.builder().overview(overview).build();\n \t}\n \n+\t/**\n+\t * Renders the permission overview for all users in form of a CSV.\n+\t */\n \tpublic String getPermissionOverviewAsCSV() {\n+\t\treturn getPermissionOverviewAsCSV(storage.getAllUsers());\n+\t}\n+\n+\n+\t/**\n+\t * Renders the permission overview for all users in a certain {@link Group} in form of a CSV.\n+\t */\n+\tpublic String getPermissionOverviewAsCSV(GroupId groupId) {\n+\t\tGroup group = Objects.requireNonNull(storage.getGroup(groupId), \"The group was not found\");\n+\t\treturn getPermissionOverviewAsCSV(group.getMembers());\n+\t}\n+\t\n+\t/**\n+\t * Renders the permission overview for certian {@link User} in form of a CSV.\n+\t */\n+\tpublic String getPermissionOverviewAsCSV(Collection<User> users) {\n \t\tStringWriter sWriter = new StringWriter();\n \t\tCsvWriter writer = CsvIo.createWriter(sWriter);\n \t\tList<String> scope = ConqueryConfig.getInstance()\n \t\t\t.getAuthorization()\n \t\t\t.getOverviewScope();\n \t\t// Header\n+\t\twriteAuthOverviewHeader(writer, scope);\n+\t\t// Body\n+\t\tfor (User user : users) {\n+\t\t\twriteAuthOverviewUser(writer, scope, user, storage);\n+\t\t}\n+\t\treturn sWriter.toString();\n+\t}\n+\t\n+\t/**\n+\t * Writes the header of the CSV auth overview to the specified writer.\n+\t */\n+\tprivate static void writeAuthOverviewHeader(CsvWriter writer, List<String> scope) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "667dc3e1d3c8c6031ba7ab65d548b04b3c6fb8f2"}, "originalPosition": 41}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQzNTczMjc4OnYy", "diffSide": "RIGHT", "path": "backend/src/main/java/com/bakdata/conquery/resources/admin/rest/AdminProcessor.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQxMToyOToxNlrOF2v0YQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQxMToyOTozMlrOF2v02w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mjk1MDg4MQ==", "bodyText": "Ich w\u00fcrde das dann versuchen direkt als OutputStream zu l\u00f6sen, dass gar nicht gebuffert wird.", "url": "https://github.com/bakdata/conquery/pull/1063#discussion_r392950881", "createdAt": "2020-03-16T11:29:16Z", "author": {"login": "awildturtok"}, "path": "backend/src/main/java/com/bakdata/conquery/resources/admin/rest/AdminProcessor.java", "diffHunk": "@@ -479,29 +479,64 @@ public FEAuthOverview getAuthOverview() {\n \t\treturn FEAuthOverview.builder().overview(overview).build();\n \t}\n \n+\t/**\n+\t * Renders the permission overview for all users in form of a CSV.\n+\t */\n \tpublic String getPermissionOverviewAsCSV() {\n+\t\treturn getPermissionOverviewAsCSV(storage.getAllUsers());\n+\t}\n+\n+\n+\t/**\n+\t * Renders the permission overview for all users in a certain {@link Group} in form of a CSV.\n+\t */\n+\tpublic String getPermissionOverviewAsCSV(GroupId groupId) {\n+\t\tGroup group = Objects.requireNonNull(storage.getGroup(groupId), \"The group was not found\");\n+\t\treturn getPermissionOverviewAsCSV(group.getMembers());\n+\t}\n+\t\n+\t/**\n+\t * Renders the permission overview for certian {@link User} in form of a CSV.\n+\t */\n+\tpublic String getPermissionOverviewAsCSV(Collection<User> users) {\n \t\tStringWriter sWriter = new StringWriter();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "667dc3e1d3c8c6031ba7ab65d548b04b3c6fb8f2"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mjk1MTAwMw==", "bodyText": "Also dass du als parameter nen Stream bekommst", "url": "https://github.com/bakdata/conquery/pull/1063#discussion_r392951003", "createdAt": "2020-03-16T11:29:32Z", "author": {"login": "awildturtok"}, "path": "backend/src/main/java/com/bakdata/conquery/resources/admin/rest/AdminProcessor.java", "diffHunk": "@@ -479,29 +479,64 @@ public FEAuthOverview getAuthOverview() {\n \t\treturn FEAuthOverview.builder().overview(overview).build();\n \t}\n \n+\t/**\n+\t * Renders the permission overview for all users in form of a CSV.\n+\t */\n \tpublic String getPermissionOverviewAsCSV() {\n+\t\treturn getPermissionOverviewAsCSV(storage.getAllUsers());\n+\t}\n+\n+\n+\t/**\n+\t * Renders the permission overview for all users in a certain {@link Group} in form of a CSV.\n+\t */\n+\tpublic String getPermissionOverviewAsCSV(GroupId groupId) {\n+\t\tGroup group = Objects.requireNonNull(storage.getGroup(groupId), \"The group was not found\");\n+\t\treturn getPermissionOverviewAsCSV(group.getMembers());\n+\t}\n+\t\n+\t/**\n+\t * Renders the permission overview for certian {@link User} in form of a CSV.\n+\t */\n+\tpublic String getPermissionOverviewAsCSV(Collection<User> users) {\n \t\tStringWriter sWriter = new StringWriter();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mjk1MDg4MQ=="}, "originalCommit": {"oid": "667dc3e1d3c8c6031ba7ab65d548b04b3c6fb8f2"}, "originalPosition": 24}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQzNTc2MDI5OnYy", "diffSide": "RIGHT", "path": "backend/src/main/resources/com/bakdata/conquery/resources/admin/ui/authOverview.html.ftl", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQxMTozNzozMlrOF2wFNQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQxMTozNzozNlrOF2wFVQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mjk1NTE4OQ==", "bodyText": "formular drum herum bauen anstatt das ganze selber mit json zu machen", "url": "https://github.com/bakdata/conquery/pull/1063#discussion_r392955189", "createdAt": "2020-03-16T11:37:32Z", "author": {"login": "awildturtok"}, "path": "backend/src/main/resources/com/bakdata/conquery/resources/admin/ui/authOverview.html.ftl", "diffHunk": "@@ -4,6 +4,9 @@\n \t<div class=\"row\">\n \t\t<div class=\"col\">\n \t\t<h2>Auth Overview</h2>\n+        <div>\n+        <button type=\"button\" class=\"btn btn-primary\" id=\"btn-download-csv\">Download as CSV</button>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "667dc3e1d3c8c6031ba7ab65d548b04b3c6fb8f2"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mjk1NTIyMQ==", "bodyText": "<form action=\"/action_page.php\" target=\"_blank\">", "url": "https://github.com/bakdata/conquery/pull/1063#discussion_r392955221", "createdAt": "2020-03-16T11:37:36Z", "author": {"login": "awildturtok"}, "path": "backend/src/main/resources/com/bakdata/conquery/resources/admin/ui/authOverview.html.ftl", "diffHunk": "@@ -4,6 +4,9 @@\n \t<div class=\"row\">\n \t\t<div class=\"col\">\n \t\t<h2>Auth Overview</h2>\n+        <div>\n+        <button type=\"button\" class=\"btn btn-primary\" id=\"btn-download-csv\">Download as CSV</button>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mjk1NTE4OQ=="}, "originalCommit": {"oid": "667dc3e1d3c8c6031ba7ab65d548b04b3c6fb8f2"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1430, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}