{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTAxNTE5NjIz", "number": 596, "title": "fix: drop reflective access warnings to java.time.* classes", "bodyText": "Java module system gives warnings on reflective access to java.time.*\nprivate fields, which are performed by Jackson when using\nTwilioRestClient.\nJackson provides a JavaTimeModule which configures an ObjectMapper to\nuse public methods instead of reflective accesss to private fields in\nclasses in java.time.\nThis PR adds the dependency for JavaTimeModule and adds it to the\nObjectMapper created by TwilioRestClient, which removes all the\nwarnings that I have seen.\n\nFixes #597\nA short description of what this PR does.\nChecklist\n\n I acknowledge that all my contributions will be made under the project's license\n I have made a material change to the repo (functionality, testing, spelling, grammar)\n I have read the Contribution Guidelines and my PR follows them\n I have titled the PR appropriately\n I have updated my branch with the main branch\n I have added tests that prove my fix is effective or that my feature works\n I have added necessary documentation about the functionality in the appropriate .md file\n I have added inline documentation to the code I modified\n\nIf you have questions, please file a support ticket, or create a GitHub Issue in this repository.", "createdAt": "2020-10-12T11:39:03Z", "url": "https://github.com/twilio/twilio-java/pull/596", "merged": true, "mergeCommit": {"oid": "1b1387d98a780a0dda9fd0c1758a06c49ac4955e"}, "closed": true, "closedAt": "2020-10-12T15:28:05Z", "author": {"login": "mjg123"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdRyW8sAH2gAyNTAxNTE5NjIzOmU1N2IwM2FiNDhhOGRkZTU5ZGIyZDQ1NzdhMGExMjFlZGViZDE2MjE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdR1pnHAFqTUwNjcxNjU1NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "e57b03ab48a8dde59db2d4577a0a121edebd1621", "author": {"user": {"login": "mjg123", "name": "Matthew Gilliard"}}, "url": "https://github.com/twilio/twilio-java/commit/e57b03ab48a8dde59db2d4577a0a121edebd1621", "committedDate": "2020-10-12T11:34:16Z", "message": "Fix for reflective access warnings to java.time.* classes\n\nJava module system gives warnings on reflective access to java.time.*\nprivate fields, which are performed by Jackson when using\nTwilioRestClient.\n\nJackson provides a `JavaTimeModule` which configures an ObjectMapper to\nuse public methods instead of reflective accesss to private fields in\nclasses in java.time.\n\nThis PR adds the dependency for `JavaTimeModule` and adds it to the\nObjectMapper created by `TwilioRestClient`, which removes all the\nwarnings that I have seen."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA2NjgzMDAx", "url": "https://github.com/twilio/twilio-java/pull/596#pullrequestreview-506683001", "createdAt": "2020-10-12T14:43:32Z", "commit": {"oid": "e57b03ab48a8dde59db2d4577a0a121edebd1621"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMlQxNDo0MzozM1rOHgBtYg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMlQxNDo0MzozM1rOHgBtYg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzM0NDQ4Mg==", "bodyText": "Should add a comment as to why this is necessary. A test would be better if it's not too involved, but a comment would suffice for me.", "url": "https://github.com/twilio/twilio-java/pull/596#discussion_r503344482", "createdAt": "2020-10-12T14:43:33Z", "author": {"login": "childish-sambino"}, "path": "src/main/java/com/twilio/http/TwilioRestClient.java", "diffHunk": "@@ -27,6 +28,7 @@ private TwilioRestClient(Builder b) {\n         this.edge = b.edge;\n         this.httpClient = b.httpClient;\n         this.objectMapper = new ObjectMapper();\n+        objectMapper.registerModule(new JavaTimeModule());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e57b03ab48a8dde59db2d4577a0a121edebd1621"}, "originalPosition": 12}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fd572c81ac11e9898676ba13ca32420e79c712f7", "author": {"user": {"login": "mjg123", "name": "Matthew Gilliard"}}, "url": "https://github.com/twilio/twilio-java/commit/fd572c81ac11e9898676ba13ca32420e79c712f7", "committedDate": "2020-10-12T15:00:35Z", "message": "Comment the reason for adding the JavaTimeModule to Jackson"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA2NzE2NTU0", "url": "https://github.com/twilio/twilio-java/pull/596#pullrequestreview-506716554", "createdAt": "2020-10-12T15:24:18Z", "commit": {"oid": "fd572c81ac11e9898676ba13ca32420e79c712f7"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMlQxNToyNDoxOVrOHgDQ7Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMlQxNToyNDoxOVrOHgDQ7Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzM2OTk2NQ==", "bodyText": "Agree it can be a pain. This looks good to me.", "url": "https://github.com/twilio/twilio-java/pull/596#discussion_r503369965", "createdAt": "2020-10-12T15:24:19Z", "author": {"login": "childish-sambino"}, "path": "src/main/java/com/twilio/http/TwilioRestClient.java", "diffHunk": "@@ -27,6 +28,7 @@ private TwilioRestClient(Builder b) {\n         this.edge = b.edge;\n         this.httpClient = b.httpClient;\n         this.objectMapper = new ObjectMapper();\n+        objectMapper.registerModule(new JavaTimeModule());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzM0NDQ4Mg=="}, "originalCommit": {"oid": "e57b03ab48a8dde59db2d4577a0a121edebd1621"}, "originalPosition": 12}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3167, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}