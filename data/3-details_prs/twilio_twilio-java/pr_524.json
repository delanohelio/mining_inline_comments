{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA3NDI1OTQ1", "number": 524, "title": "feat: add error details to rest and api exceptions", "bodyText": "Feature\nAdd a new property named details to RestException add ApiException. Details is returned by selective apis to populate extra information about errors.\nThe Studio V2 flow api will be returning extra details with flow validation errors.\nChecklist\n\n I acknowledge that all my contributions will be made under the project's license\n I have made a material change to the repo (functionality, testing, spelling, grammar)\n I have read the Contribution Guidelines and my PR follows them\n I have titled the PR appropriately\n I have updated my branch with the master branch\n I have added tests that prove my fix is effective or that my feature works\n I have added necessary documentation about the functionality in the appropriate .md file\n I have added inline documentation to the code I modified\n\nIf you have questions, please file a support ticket, or create a GitHub Issue in this repository.", "createdAt": "2020-04-22T17:16:20Z", "url": "https://github.com/twilio/twilio-java/pull/524", "merged": true, "mergeCommit": {"oid": "7f8931b961a0b32909ce7f056a3f5b17415d06b2"}, "closed": true, "closedAt": "2020-04-27T15:25:49Z", "author": {"login": "ashish-s"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcaLgxiAH2gAyNDA3NDI1OTQ1OmQ3Y2M4OGRlNWFlNTc2ZmNhNDg4NzU4ODExZjZjMThiZTI1YzkzMWE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABca3A5IAH2gAyNDA3NDI1OTQ1OmUxMTE3NGM5OWRhNzg5YzNiYjY3YTY1Yjk5MjUyM2RkNmUwZGNlYTY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "d7cc88de5ae576fca488758811f6c18be25c931a", "author": {"user": null}, "url": "https://github.com/twilio/twilio-java/commit/d7cc88de5ae576fca488758811f6c18be25c931a", "committedDate": "2020-04-22T17:12:52Z", "message": "add error details to rest and api exceptions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5a2c95f0f266cc6f53c9e2c40393d6fdd456b8e2", "author": {"user": null}, "url": "https://github.com/twilio/twilio-java/commit/5a2c95f0f266cc6f53c9e2c40393d6fdd456b8e2", "committedDate": "2020-04-22T18:49:30Z", "message": "fix documentation"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk4NjI5Mzg5", "url": "https://github.com/twilio/twilio-java/pull/524#pullrequestreview-398629389", "createdAt": "2020-04-22T22:17:41Z", "commit": {"oid": "5a2c95f0f266cc6f53c9e2c40393d6fdd456b8e2"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMlQyMjoxNzo0MVrOGKOI9w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMlQyMjoxNzo0MVrOGKOI9w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzM3MDYxNQ==", "bodyText": "Getting this warning from SonarLint: https://rules.sonarsource.com/java/RSPEC-1948", "url": "https://github.com/twilio/twilio-java/pull/524#discussion_r413370615", "createdAt": "2020-04-22T22:17:41Z", "author": {"login": "thinkingserious"}, "path": "src/main/java/com/twilio/exception/ApiException.java", "diffHunk": "@@ -1,20 +1,23 @@\n package com.twilio.exception;\n \n+import java.util.Map;\n+\n public class ApiException extends TwilioException {\n \n     private static final long serialVersionUID = -3228320166955630014L;\n \n     private final Integer code;\n     private final String moreInfo;\n     private final Integer status;\n+    private final Map<String, Object> details;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5a2c95f0f266cc6f53c9e2c40393d6fdd456b8e2"}, "originalPosition": 12}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cff4d88efa922d690df0c444306ebd3d99b0ba02", "author": {"user": null}, "url": "https://github.com/twilio/twilio-java/commit/cff4d88efa922d690df0c444306ebd3d99b0ba02", "committedDate": "2020-04-22T23:31:25Z", "message": "add test for new constructor"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b3afd34928b3cb219d15428ae0661bc01dfbf2b4", "author": {"user": null}, "url": "https://github.com/twilio/twilio-java/commit/b3afd34928b3cb219d15428ae0661bc01dfbf2b4", "committedDate": "2020-04-24T16:51:25Z", "message": "add yoyodyne generated code"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAwMTc2NTgx", "url": "https://github.com/twilio/twilio-java/pull/524#pullrequestreview-400176581", "createdAt": "2020-04-24T18:25:52Z", "commit": {"oid": "b3afd34928b3cb219d15428ae0661bc01dfbf2b4"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQxODoyNTo1MlrOGLj-3Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQxODoyNTo1MlrOGLj-3Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDc3NzA1Mw==", "bodyText": "nit: assertEquals(\"Details\", details, error.getDetails());", "url": "https://github.com/twilio/twilio-java/pull/524#discussion_r414777053", "createdAt": "2020-04-24T18:25:52Z", "author": {"login": "thinkingserious"}, "path": "src/test/java/com/twilio/exception/ApiExceptionTest.java", "diffHunk": "@@ -29,13 +33,25 @@ public void twoArgConstructorShouldPreserveMessageAndCause() {\n     }\n \n     @Test\n-    public void fullConstructorShouldPreserveAllValues() {\n+    public void fiveArgConstructorShouldPreserveAllValues() {\n         ApiException error = new ApiException(anyMessage, anyErrorCode, anyMoreInfo, anyHttpStatus, anyCause);\n         assertEquals(\"Message\", anyMessage, error.getMessage());\n         assertSame(\"Cause\", anyCause, error.getCause());\n         assertEquals(\"More info\", anyMoreInfo, error.getMoreInfo());\n         assertEquals(\"Error code\", anyErrorCode, error.getCode().intValue());\n         assertEquals(\"Status code\", anyHttpStatus, error.getStatusCode().intValue());\n+        assertNull(\"Details\", error.getDetails());\n+    }\n+\n+    @Test\n+    public void fullConstructorShouldPreserveAllValues() {\n+        ApiException error = new ApiException(anyMessage, anyErrorCode, anyMoreInfo, anyHttpStatus, details, anyCause);\n+        assertEquals(\"Message\", anyMessage, error.getMessage());\n+        assertSame(\"Cause\", anyCause, error.getCause());\n+        assertEquals(\"More info\", anyMoreInfo, error.getMoreInfo());\n+        assertEquals(\"Error code\", anyErrorCode, error.getCode().intValue());\n+        assertEquals(\"Status code\", anyHttpStatus, error.getStatusCode().intValue());\n+        assertEquals(\"Details\", error.getDetails(), details);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b3afd34928b3cb219d15428ae0661bc01dfbf2b4"}, "originalPosition": 45}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAwMTgxMzI5", "url": "https://github.com/twilio/twilio-java/pull/524#pullrequestreview-400181329", "createdAt": "2020-04-24T18:33:16Z", "commit": {"oid": "b3afd34928b3cb219d15428ae0661bc01dfbf2b4"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQxODozMzoxNlrOGLkQFA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQxODozMzoxNlrOGLkQFA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDc4MTQ2MA==", "bodyText": "Can't we just pass restException into an ApiException constructor? Then future changes won't update so many files.", "url": "https://github.com/twilio/twilio-java/pull/524#discussion_r414781460", "createdAt": "2020-04-24T18:33:16Z", "author": {"login": "childish-sambino"}, "path": "src/main/java/com/twilio/rest/accounts/v1/credential/AwsCreator.java", "diffHunk": "@@ -89,6 +89,7 @@ public Aws create(final TwilioRestClient client) {\n                 restException.getCode(),\n                 restException.getMoreInfo(),\n                 restException.getStatus(),\n+                restException.getDetails(),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b3afd34928b3cb219d15428ae0661bc01dfbf2b4"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c3eabcd0ebb667e521c5ba506f05a7f5f332366c", "author": {"user": null}, "url": "https://github.com/twilio/twilio-java/commit/c3eabcd0ebb667e521c5ba506f05a7f5f332366c", "committedDate": "2020-04-24T19:32:34Z", "message": "switch to rest exception constructor for creating ApiException"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAwMjIwOTMy", "url": "https://github.com/twilio/twilio-java/pull/524#pullrequestreview-400220932", "createdAt": "2020-04-24T19:38:15Z", "commit": {"oid": "c3eabcd0ebb667e521c5ba506f05a7f5f332366c"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQxOTozODoxNVrOGLmb0w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQxOTozODo1MlrOGLmdLw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDgxNzIzNQ==", "bodyText": "nit: spacing String, Object", "url": "https://github.com/twilio/twilio-java/pull/524#discussion_r414817235", "createdAt": "2020-04-24T19:38:15Z", "author": {"login": "childish-sambino"}, "path": "src/main/java/com/twilio/exception/ApiException.java", "diffHunk": "@@ -1,12 +1,15 @@\n package com.twilio.exception;\n \n+import java.util.Map;\n+\n public class ApiException extends TwilioException {\n \n     private static final long serialVersionUID = -3228320166955630014L;\n \n     private final Integer code;\n     private final String moreInfo;\n     private final Integer status;\n+    private final Map<String,Object> details;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c3eabcd0ebb667e521c5ba506f05a7f5f332366c"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDgxNzU4Mw==", "bodyText": "Same nit.", "url": "https://github.com/twilio/twilio-java/pull/524#discussion_r414817583", "createdAt": "2020-04-24T19:38:52Z", "author": {"login": "childish-sambino"}, "path": "src/main/java/com/twilio/exception/RestException.java", "diffHunk": "@@ -31,11 +33,13 @@\n      */\n     @JsonCreator\n     private RestException(@JsonProperty(\"status\") final int status, @JsonProperty(\"message\") final String message,\n-                          @JsonProperty(\"code\") final Integer code, @JsonProperty(\"more_info\") final String moreInfo) {\n+                          @JsonProperty(\"code\") final Integer code, @JsonProperty(\"more_info\") final String moreInfo,\n+                          @JsonProperty(\"details\") final Map<String,Object> details) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c3eabcd0ebb667e521c5ba506f05a7f5f332366c"}, "originalPosition": 22}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e11174c99da789c3bb67a65b992523dd6e0dcea6", "author": {"user": null}, "url": "https://github.com/twilio/twilio-java/commit/e11174c99da789c3bb67a65b992523dd6e0dcea6", "committedDate": "2020-04-24T19:53:52Z", "message": "fix spacing issues"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3110, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}