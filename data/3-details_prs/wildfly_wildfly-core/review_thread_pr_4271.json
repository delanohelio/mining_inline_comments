{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDUxNDk2Njg4", "number": 4271, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQxNDo1MToxM1rOEjLV2w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQxNDo1MToxM1rOEjLV2w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA1MzIxNDM1OnYy", "diffSide": "RIGHT", "path": "elytron/src/test/java/org/wildfly/extension/elytron/TlsTestCase.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQxNDo1MToxM1rOHRYxwA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQxNDo1MToxM1rOHRYxwA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Nzk5Mzc5Mg==", "bodyText": "@fjuma, just noticed - isn't here missing the && isOpenSSL111OrHigher() part here? There is client using TLS13 two lines down...\nOf course not - it's not OpenSSL in use. Ignore this comment :)", "url": "https://github.com/wildfly/wildfly-core/pull/4271#discussion_r487993792", "createdAt": "2020-09-14T14:51:13Z", "author": {"login": "jstourac"}, "path": "elytron/src/test/java/org/wildfly/extension/elytron/TlsTestCase.java", "diffHunk": "@@ -345,16 +362,24 @@ public void testSslServiceAuth() throws Throwable {\n \n     @Test\n     public void testSslServiceAuthTLS13() throws Throwable {\n-        Assume.assumeTrue(\"Skipping testSslServiceAuthTLS13, test is not being run on JDK 11.\",\n-                System.getProperty(\"java.specification.version\").equals(\"11\"));\n+        Assume.assumeTrue(\"Skipping testSslServiceAuthTLS13, test is not being run on JDK 11+.\",\n+                JdkUtils.getJavaSpecVersion() >= 11);\n         testCommunication(\"ServerSslContextTLS13\", \"ClientSslContextTLS13\", false, \"OU=Elytron,O=Elytron,C=CZ,ST=Elytron,CN=localhost\",\n                 \"OU=Elytron,O=Elytron,C=UK,ST=Elytron,CN=Firefly\", \"TLS_AES_256_GCM_SHA384\", true);\n     }\n \n+    @Test\n+    public void testSslServiceAuthTLS13OpenSsl() throws Throwable {\n+        Assume.assumeTrue(\"Skipping testSslServiceAuthTLS13OpenSsl, test is not being run with JDK 11+ and OpenSSL 1.1.1+\",\n+                JdkUtils.getJavaSpecVersion() >= 11 && isOpenSSL111OrHigher());\n+        testCommunication(\"ServerSslContextTLS13OpenSsl\", \"ClientSslContextTLS13OpenSsl\", false, \"OU=Elytron,O=Elytron,C=CZ,ST=Elytron,CN=localhost\",\n+                \"OU=Elytron,O=Elytron,C=UK,ST=Elytron,CN=Firefly\", \"TLS_AES_256_GCM_SHA384\", true);\n+    }\n+\n     @Test\n     public void testSslServiceAuthProtocolMismatch() throws Throwable {\n-        Assume.assumeTrue(\"Skipping testSslServiceAuthProtocolMismatch, test is not being run on JDK 11.\",\n-                System.getProperty(\"java.specification.version\").equals(\"11\"));\n+        Assume.assumeTrue(\"Skipping testSslServiceAuthProtocolMismatch, test is not being run on JDK 11+.\",\n+                JdkUtils.getJavaSpecVersion() >= 11);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "83d0f5db947312562e8dd1893e5b07687f2d854a"}, "originalPosition": 74}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3835, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}