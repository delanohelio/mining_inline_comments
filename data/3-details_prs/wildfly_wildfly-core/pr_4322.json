{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDgxOTc3NDg0", "number": 4322, "title": "[WFCORE-5121] Add ability to ignore excluded extensions to FetchMissi\u2026", "bodyText": "JIRA: https://issues.redhat.com/browse/WFCORE-5121\nAttempts to solve the issue by passing the domain exclude info used to generate initial sync to handler doing missing config sync. This requires changing visibility of some methods, I'm not sure if there's a better way.\n@jmesnil could you review please?", "createdAt": "2020-09-08T11:32:15Z", "url": "https://github.com/wildfly/wildfly-core/pull/4322", "merged": true, "mergeCommit": {"oid": "5996a6db19ae199b20bc61273990d6cab9999123"}, "closed": true, "closedAt": "2020-10-02T10:28:52Z", "author": {"login": "spyrkob"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdKDkNygFqTQ5MTM1MjAzMA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdLA6LggBqjM3ODc5Nzk3NzM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkxMzUyMDMw", "url": "https://github.com/wildfly/wildfly-core/pull/4322#pullrequestreview-491352030", "createdAt": "2020-09-18T10:46:38Z", "commit": {"oid": "d3984dcd043e29ffb5f8ac87b89b8f84293cf059"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOFQxMDo0NjozOVrOHUH1qw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOFQxMDo0NjozOVrOHUH1qw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDg2MTk5NQ==", "bodyText": "Would you mind applying the standard code format to those blocks?", "url": "https://github.com/wildfly/wildfly-core/pull/4322#discussion_r490861995", "createdAt": "2020-09-18T10:46:39Z", "author": {"login": "yersan"}, "path": "host-controller/src/main/java/org/jboss/as/domain/controller/operations/FetchMissingConfigurationHandler.java", "diffHunk": "@@ -50,10 +52,13 @@\n \n     private final Transformers transformers;\n     private final ExtensionRegistry extensionRegistry;\n+    private final Set<String> excludedExtensions;\n \n-    public FetchMissingConfigurationHandler(final String hostName, final Transformers transformers, final ExtensionRegistry extensionRegistry) {\n+    public FetchMissingConfigurationHandler(final String hostName, final ModelVersion version, final Transformers transformers, final ExtensionRegistry extensionRegistry, DomainHostExcludeRegistry domainHostExcludeRegistry) {\n         this.transformers = transformers;\n         this.extensionRegistry = extensionRegistry;\n+        DomainHostExcludeRegistry.VersionExcludeData versionIgnoreData = domainHostExcludeRegistry.getVersionIgnoreData(version.getMajor(), version.getMinor(), version.getMicro());\n+        this.excludedExtensions = (versionIgnoreData != null)?versionIgnoreData.getExcludedExtensions():null;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d3984dcd043e29ffb5f8ac87b89b8f84293cf059"}, "originalPosition": 27}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkyNDA0MjI0", "url": "https://github.com/wildfly/wildfly-core/pull/4322#pullrequestreview-492404224", "createdAt": "2020-09-21T09:08:11Z", "commit": {"oid": "03c59c7a1068542d8f9e64c5a60ec84bbf95118f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "20d02d1d9ec4025bbdae1e92c9b18b13b060d18b", "author": {"user": {"login": "spyrkob", "name": "Bartosz Spyrko-Smietanko"}}, "url": "https://github.com/wildfly/wildfly-core/commit/20d02d1d9ec4025bbdae1e92c9b18b13b060d18b", "committedDate": "2020-09-21T10:33:33Z", "message": "[WFCORE-5121] Add ability to ignore excluded extensions to FetchMissingConfigurationHandler"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "03c59c7a1068542d8f9e64c5a60ec84bbf95118f", "author": {"user": {"login": "spyrkob", "name": "Bartosz Spyrko-Smietanko"}}, "url": "https://github.com/wildfly/wildfly-core/commit/03c59c7a1068542d8f9e64c5a60ec84bbf95118f", "committedDate": "2020-09-18T13:42:57Z", "message": "[WFCORE-5121] Add domainIgnoredExtensions to SlaveChannelAttachments"}, "afterCommit": {"oid": "20d02d1d9ec4025bbdae1e92c9b18b13b060d18b", "author": {"user": {"login": "spyrkob", "name": "Bartosz Spyrko-Smietanko"}}, "url": "https://github.com/wildfly/wildfly-core/commit/20d02d1d9ec4025bbdae1e92c9b18b13b060d18b", "committedDate": "2020-09-21T10:33:33Z", "message": "[WFCORE-5121] Add ability to ignore excluded extensions to FetchMissingConfigurationHandler"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3365, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}