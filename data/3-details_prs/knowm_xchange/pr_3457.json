{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkwNzE1MzE0", "number": 3457, "title": "[bithumb] bug fixes - averagePrice", "bodyText": "and cumulative quantity", "createdAt": "2020-03-18T23:27:07Z", "url": "https://github.com/knowm/XChange/pull/3457", "merged": true, "mergeCommit": {"oid": "5dfff0ce877f951764a8b54f324dcfcd49b8cbba"}, "closed": true, "closedAt": "2020-03-21T20:41:57Z", "author": {"login": "mdvx"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcO89yigH2gAyMzkwNzE1MzE0OmI1MjYzZjRlYzY4NmVkMGM2YjU1YzZjODMxYmNmOTk5NGZhYTUxOWE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcP6ztLgH2gAyMzkwNzE1MzE0OmZhM2JhY2JlNzU4ZmI1MzlmOGQwNzA5OWFiMTNiYWMzNjI3ZGM0ZjI=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "b5263f4ec686ed0c6b55c6c831bcf9994faa519a", "author": {"user": null}, "url": "https://github.com/knowm/XChange/commit/b5263f4ec686ed0c6b55c6c831bcf9994faa519a", "committedDate": "2020-03-18T20:02:49Z", "message": "fix incorrect sum for cumulative quantity"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8c9ee842db913159a31e760401e5e31898f73662", "author": {"user": null}, "url": "https://github.com/knowm/XChange/commit/8c9ee842db913159a31e760401e5e31898f73662", "committedDate": "2020-03-18T20:06:02Z", "message": "fix incorrect calc for averagePrice"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "51a0cc58915a117f90271c0d44cd4f0611e88c5b", "author": {"user": null}, "url": "https://github.com/knowm/XChange/commit/51a0cc58915a117f90271c0d44cd4f0611e88c5b", "committedDate": "2020-03-18T23:39:18Z", "message": "cancelOrder extend API"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc4OTEzOTgw", "url": "https://github.com/knowm/XChange/pull/3457#pullrequestreview-378913980", "createdAt": "2020-03-21T12:07:41Z", "commit": {"oid": "51a0cc58915a117f90271c0d44cd4f0611e88c5b"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMVQxMjowNzo0MVrOF5pJVg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMVQxMjowNzo0MVrOF5pJVg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTk4NzI4Ng==", "bodyText": "CancelOrderByIdParams is meant to be used then you can cancel an order by just passing its id\nCancelOrderByCurrencyPair i meant to be used then you can cancel all orders for a given currency pair\nI don't think this is needed, just use CancelOrderByPairAndIdParams\nbesides this code doesn't do proper error handling", "url": "https://github.com/knowm/XChange/pull/3457#discussion_r395987286", "createdAt": "2020-03-21T12:07:41Z", "author": {"login": "walec51"}, "path": "xchange-bithumb/src/main/java/org/knowm/xchange/bithumb/service/BithumbTradeService.java", "diffHunk": "@@ -96,9 +93,13 @@ public boolean cancelOrder(CancelOrderParams orderParams) throws IOException {\n       } catch (BithumbException e) {\n         throw BithumbErrorAdapter.adapt(e);\n       }\n+    } else if (orderParams instanceof CancelOrderByIdParams && orderParams instanceof CancelOrderByCurrencyPair) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "51a0cc58915a117f90271c0d44cd4f0611e88c5b"}, "originalPosition": 16}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "20bdd37f02dee3a1ac0298a6e33fb85ca0c0c648", "author": {"user": null}, "url": "https://github.com/knowm/XChange/commit/20bdd37f02dee3a1ac0298a6e33fb85ca0c0c648", "committedDate": "2020-03-21T16:06:46Z", "message": "cancelOrder extend API - error handling fix"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc4OTQ1MTU4", "url": "https://github.com/knowm/XChange/pull/3457#pullrequestreview-378945158", "createdAt": "2020-03-21T19:32:28Z", "commit": {"oid": "20bdd37f02dee3a1ac0298a6e33fb85ca0c0c648"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMVQxOTozMjoyOFrOF5rQzQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMVQxOTozMjoyOFrOF5rQzQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NjAyMTk2NQ==", "bodyText": "ok, if we are going in this direction:\nCancelOrderByPairAndIdParams extends CancelOrderByIdParams, CancelOrderByCurrencyPair\n\nthen this method can be implemented in a much simpler way\n  @Override\n  public boolean cancelOrder(CancelOrderParams orderParams) throws IOException {\n    try {\n      if (!(orderParams instanceof CancelOrderByIdParams && orderParams instanceof CancelOrderByCurrencyPair)) {\n                throw new NotYetImplementedForExchangeException(\n                    \"Only CancelOrderByPairAndIdParams || (CancelOrderByIdParams && CancelOrderByCurrencyPair) supported\");\n      }\n      String orderId = ((CancelOrderByIdParams) orderParams).getOrderId();\n      CurrencyPair pair = ((CancelOrderByCurrencyPair) orderParams).getCurrencyPair();\n      return cancelBithumbOrder(orderId, pair);\n    } catch (BithumbException e) {\n      throw BithumbErrorAdapter.adapt(e);\n    }\n  }", "url": "https://github.com/knowm/XChange/pull/3457#discussion_r396021965", "createdAt": "2020-03-21T19:32:28Z", "author": {"login": "walec51"}, "path": "xchange-bithumb/src/main/java/org/knowm/xchange/bithumb/service/BithumbTradeService.java", "diffHunk": "@@ -89,16 +86,20 @@ public String placeLimitOrder(LimitOrder limitOrder) throws IOException {\n   @Override\n   public boolean cancelOrder(CancelOrderParams orderParams) throws IOException {\n \n-    if (orderParams instanceof CancelOrderByPairAndIdParams) {\n-      try {\n-        final CancelOrderByPairAndIdParams params = (CancelOrderByPairAndIdParams) orderParams;\n-        return cancelBithumbOrder(params.getOrderId(), params.getCurrencyPair());\n-      } catch (BithumbException e) {\n-        throw BithumbErrorAdapter.adapt(e);\n+    try {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "20bdd37f02dee3a1ac0298a6e33fb85ca0c0c648"}, "originalPosition": 22}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fa3bacbe758fb539f8d07099ab13bac3627dc4f2", "author": {"user": null}, "url": "https://github.com/knowm/XChange/commit/fa3bacbe758fb539f8d07099ab13bac3627dc4f2", "committedDate": "2020-03-21T20:05:55Z", "message": "added @walec51 suggestions for simplification"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2523, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}