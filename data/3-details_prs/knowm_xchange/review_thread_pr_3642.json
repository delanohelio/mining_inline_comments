{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDYzMTEwNDg0", "number": 3642, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMlQxNTo1OTo0OVrOEbOjBA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMlQxNjowMDo0MFrOEbOjXA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk2OTg1MzQ4OnYy", "diffSide": "RIGHT", "path": "xchange-stream-coinbasepro/src/main/java/info/bitrich/xchangestream/coinbasepro/CoinbaseProStreamingExchange.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMlQxNTo1OTo0OVrOHFGDjA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMlQxNzoyNDozNlrOHFGhuQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTEwNDE0MA==", "bodyText": "I don't see how this can work given that streamingService is replaced only a few lines later. \ud83e\udd14", "url": "https://github.com/knowm/XChange/pull/3642#discussion_r475104140", "createdAt": "2020-08-22T15:59:49Z", "author": {"login": "badgerwithagun"}, "path": "xchange-stream-coinbasepro/src/main/java/info/bitrich/xchangestream/coinbasepro/CoinbaseProStreamingExchange.java", "diffHunk": "@@ -48,6 +48,13 @@ public Completable connect(ProductSubscription... args) {\n       apiUri = usePrime ? PRIME_API_URI : API_URI;\n     }\n \n+    boolean subscribeToL3Orderbook =\n+            Boolean.TRUE.equals(\n+                    exchangeSpecification.getExchangeSpecificParametersItem(StreamingExchange.L3_ORDERBOOK));\n+    if (subscribeToL3Orderbook) {\n+      this.streamingService.subscribeToL3Orderbook();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "576bc2bc027cce02f0f23a7faf69529ea6ca80a6"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTExMTg2NQ==", "bodyText": "@badgerwithagun sorry not sure how I did not update the review with this, I had made some local changes. Good catch.", "url": "https://github.com/knowm/XChange/pull/3642#discussion_r475111865", "createdAt": "2020-08-22T17:24:36Z", "author": {"login": "earce"}, "path": "xchange-stream-coinbasepro/src/main/java/info/bitrich/xchangestream/coinbasepro/CoinbaseProStreamingExchange.java", "diffHunk": "@@ -48,6 +48,13 @@ public Completable connect(ProductSubscription... args) {\n       apiUri = usePrime ? PRIME_API_URI : API_URI;\n     }\n \n+    boolean subscribeToL3Orderbook =\n+            Boolean.TRUE.equals(\n+                    exchangeSpecification.getExchangeSpecificParametersItem(StreamingExchange.L3_ORDERBOOK));\n+    if (subscribeToL3Orderbook) {\n+      this.streamingService.subscribeToL3Orderbook();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTEwNDE0MA=="}, "originalCommit": {"oid": "576bc2bc027cce02f0f23a7faf69529ea6ca80a6"}, "originalPosition": 8}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk2OTg1NDM2OnYy", "diffSide": "RIGHT", "path": "xchange-stream-coinbasepro/src/main/java/info/bitrich/xchangestream/coinbasepro/CoinbaseProStreamingExchange.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMlQxNjowMDo0MFrOHFGD-Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMlQxNzoyNDo0MVrOHFGhyQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTEwNDI0OQ==", "bodyText": "Why not pass subscribeToL3Orderbook in the constructor?", "url": "https://github.com/knowm/XChange/pull/3642#discussion_r475104249", "createdAt": "2020-08-22T16:00:40Z", "author": {"login": "badgerwithagun"}, "path": "xchange-stream-coinbasepro/src/main/java/info/bitrich/xchangestream/coinbasepro/CoinbaseProStreamingExchange.java", "diffHunk": "@@ -48,6 +48,13 @@ public Completable connect(ProductSubscription... args) {\n       apiUri = usePrime ? PRIME_API_URI : API_URI;\n     }\n \n+    boolean subscribeToL3Orderbook =\n+            Boolean.TRUE.equals(\n+                    exchangeSpecification.getExchangeSpecificParametersItem(StreamingExchange.L3_ORDERBOOK));\n+    if (subscribeToL3Orderbook) {\n+      this.streamingService.subscribeToL3Orderbook();\n+    }\n+\n     this.streamingService = new CoinbaseProStreamingService(apiUri, () -> authData(exchangeSpec));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "576bc2bc027cce02f0f23a7faf69529ea6ca80a6"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTExMTg4MQ==", "bodyText": "done", "url": "https://github.com/knowm/XChange/pull/3642#discussion_r475111881", "createdAt": "2020-08-22T17:24:41Z", "author": {"login": "earce"}, "path": "xchange-stream-coinbasepro/src/main/java/info/bitrich/xchangestream/coinbasepro/CoinbaseProStreamingExchange.java", "diffHunk": "@@ -48,6 +48,13 @@ public Completable connect(ProductSubscription... args) {\n       apiUri = usePrime ? PRIME_API_URI : API_URI;\n     }\n \n+    boolean subscribeToL3Orderbook =\n+            Boolean.TRUE.equals(\n+                    exchangeSpecification.getExchangeSpecificParametersItem(StreamingExchange.L3_ORDERBOOK));\n+    if (subscribeToL3Orderbook) {\n+      this.streamingService.subscribeToL3Orderbook();\n+    }\n+\n     this.streamingService = new CoinbaseProStreamingService(apiUri, () -> authData(exchangeSpec));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTEwNDI0OQ=="}, "originalCommit": {"oid": "576bc2bc027cce02f0f23a7faf69529ea6ca80a6"}, "originalPosition": 11}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3790, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}