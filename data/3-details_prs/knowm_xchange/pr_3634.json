{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDYwNzgyNDgy", "number": 3634, "title": "Fixed missing arguments for bitstamp, kraken and coinmate exchanges in tradehistory api", "bodyText": "Fixed missing arguments for bitstamp, kraken and coinmate exchanges in tradehistory api", "createdAt": "2020-08-01T04:49:45Z", "url": "https://github.com/knowm/XChange/pull/3634", "merged": true, "mergeCommit": {"oid": "c4b8e510d05453656016898c7d5fcfe07fb29c5f"}, "closed": true, "closedAt": "2020-10-16T13:12:04Z", "author": {"login": "generalbytes"}, "timelineItems": {"totalCount": 24, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc1K44fgH2gAyNDYwNzgyNDgyOjdlOTNiNTI1NGRjODk0NGQ2ODM0YTFkZDM4NGZhYTdhOGM4ZjhkZjc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdTGJvcAFqTUxMDQ1Mzk3Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "7e93b5254dc8944d6834a1dd384faa7a8c8f8df7", "author": {"user": null}, "url": "https://github.com/knowm/XChange/commit/7e93b5254dc8944d6834a1dd384faa7a8c8f8df7", "committedDate": "2020-07-15T13:45:15Z", "message": "Kraken trade history can be now searched by id span."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2a75b5f366e9b11d9a77637c6fcbc3b1663f54a6", "author": {"user": null}, "url": "https://github.com/knowm/XChange/commit/2a75b5f366e9b11d9a77637c6fcbc3b1663f54a6", "committedDate": "2020-07-15T14:01:33Z", "message": "Added jitpack files"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "50cb2b16e591ce8c43fb6e0e49c96c10dfea8a3b", "author": {"user": null}, "url": "https://github.com/knowm/XChange/commit/50cb2b16e591ce8c43fb6e0e49c96c10dfea8a3b", "committedDate": "2020-07-29T13:56:18Z", "message": "Extended trade history with sinceId param."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "85b50864833c99308167313a77c238b9f158f748", "author": {"user": null}, "url": "https://github.com/knowm/XChange/commit/85b50864833c99308167313a77c238b9f158f748", "committedDate": "2020-07-29T14:51:16Z", "message": "Extended trade history with sinceId param."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9207b16aa4a7570c5b62fc976dd8a20dceee8483", "author": {"user": null}, "url": "https://github.com/knowm/XChange/commit/9207b16aa4a7570c5b62fc976dd8a20dceee8483", "committedDate": "2020-07-31T09:29:43Z", "message": "Extended Conmate trade history with transaction start id."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5d1ea5716a7da1a7364fd33c7369bbde77ccf1ee", "author": {"user": null}, "url": "https://github.com/knowm/XChange/commit/5d1ea5716a7da1a7364fd33c7369bbde77ccf1ee", "committedDate": "2020-07-31T10:06:22Z", "message": "Added allowed null startId value."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "154846bb04bbf5aa1f7e5d524ce70d227bca6659", "author": {"user": null}, "url": "https://github.com/knowm/XChange/commit/154846bb04bbf5aa1f7e5d524ce70d227bca6659", "committedDate": "2020-07-31T10:26:00Z", "message": "Changed lastId param to string."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0f636cbfff10de85d8c111e19e8e3d142b728951", "author": {"user": {"login": "generalbytes", "name": "GENERAL BYTES"}}, "url": "https://github.com/knowm/XChange/commit/0f636cbfff10de85d8c111e19e8e3d142b728951", "committedDate": "2020-08-01T04:47:39Z", "message": "Merge pull request #1 from charvam/develop\n\nBitstamp API sinceId extension"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU5NTUyOTQ2", "url": "https://github.com/knowm/XChange/pull/3634#pullrequestreview-459552946", "createdAt": "2020-08-01T04:53:04Z", "commit": {"oid": "0f636cbfff10de85d8c111e19e8e3d142b728951"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1e42c7a60a8fd6a3df2a4fc9ee620f71e7e38045", "author": {"user": {"login": "generalbytes", "name": "GENERAL BYTES"}}, "url": "https://github.com/knowm/XChange/commit/1e42c7a60a8fd6a3df2a4fc9ee620f71e7e38045", "committedDate": "2020-09-15T08:11:47Z", "message": "Delete jitpack.yml\n\nNot needed any more."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c72c27bf5e415b829dff676754773f59b28575c3", "author": {"user": {"login": "generalbytes", "name": "GENERAL BYTES"}}, "url": "https://github.com/knowm/XChange/commit/c72c27bf5e415b829dff676754773f59b28575c3", "committedDate": "2020-09-15T08:15:42Z", "message": "Merge branch 'develop' into develop"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c7f7e1051e4d438e48a359c94cb61ba8345db922", "author": {"user": null}, "url": "https://github.com/knowm/XChange/commit/c7f7e1051e4d438e48a359c94cb61ba8345db922", "committedDate": "2020-09-15T08:34:40Z", "message": "Kraken trade history can be now searched by id span."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2cc778682a2eb168edca33424e1f045a7bed712d", "author": {"user": null}, "url": "https://github.com/knowm/XChange/commit/2cc778682a2eb168edca33424e1f045a7bed712d", "committedDate": "2020-09-15T08:34:40Z", "message": "Added jitpack files"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4a34b5ee97aa9c56d5ae79c67cffaf4c654b1f8b", "author": {"user": null}, "url": "https://github.com/knowm/XChange/commit/4a34b5ee97aa9c56d5ae79c67cffaf4c654b1f8b", "committedDate": "2020-09-15T14:22:12Z", "message": "Extended trade history with sinceId param."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "db47bd818f8c6415a5b3d41fb559fe498f963c50", "author": {"user": null}, "url": "https://github.com/knowm/XChange/commit/db47bd818f8c6415a5b3d41fb559fe498f963c50", "committedDate": "2020-09-15T14:22:12Z", "message": "Extended trade history with sinceId param."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f6e173a566d404aa0bff66d456c26bfd6073f6c5", "author": {"user": null}, "url": "https://github.com/knowm/XChange/commit/f6e173a566d404aa0bff66d456c26bfd6073f6c5", "committedDate": "2020-09-15T14:22:12Z", "message": "Extended Conmate trade history with transaction start id."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9d96c6ad374f4503abf8adc6e2de6c91095adb31", "author": {"user": null}, "url": "https://github.com/knowm/XChange/commit/9d96c6ad374f4503abf8adc6e2de6c91095adb31", "committedDate": "2020-09-15T14:22:12Z", "message": "Added allowed null startId value."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d09009e7be08393b1b3e5f55bdfb24cfad7a44ea", "author": {"user": null}, "url": "https://github.com/knowm/XChange/commit/d09009e7be08393b1b3e5f55bdfb24cfad7a44ea", "committedDate": "2020-09-15T14:22:12Z", "message": "Changed lastId param to string."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "79e76208c6954eca75c34ab56bbb71810cc1e12a", "author": {"user": {"login": "generalbytes", "name": "GENERAL BYTES"}}, "url": "https://github.com/knowm/XChange/commit/79e76208c6954eca75c34ab56bbb71810cc1e12a", "committedDate": "2020-09-15T14:22:12Z", "message": "Delete jitpack.yml\n\nNot needed any more."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6fe57c36119cda6baba99905dd4f3bba2a30bb1a", "author": {"user": null}, "url": "https://github.com/knowm/XChange/commit/6fe57c36119cda6baba99905dd4f3bba2a30bb1a", "committedDate": "2020-09-15T14:25:43Z", "message": "Merge branch 'develop' of github.com:GENERALBYTESCOM/XChange into develop"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkyMjIyNjUz", "url": "https://github.com/knowm/XChange/pull/3634#pullrequestreview-492222653", "createdAt": "2020-09-20T20:59:24Z", "commit": {"oid": "6fe57c36119cda6baba99905dd4f3bba2a30bb1a"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMFQyMDo1OToyNFrOHU9DOA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMFQyMTowNzoxN1rOHU9GXQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTczMzgxNg==", "bodyText": "using ExchangeRestProxyBuilder is the new preferred approach\nwhy are you downgrading this to RestProxyFactory?", "url": "https://github.com/knowm/XChange/pull/3634#discussion_r491733816", "createdAt": "2020-09-20T20:59:24Z", "author": {"login": "walec51"}, "path": "xchange-bitstamp/src/main/java/org/knowm/xchange/bitstamp/service/BitstampAccountServiceRaw.java", "diffHunk": "@@ -47,13 +47,15 @@ protected BitstampAccountServiceRaw(Exchange exchange) {\n     super(exchange);\n \n     this.bitstampAuthenticated =\n-        ExchangeRestProxyBuilder.forInterface(\n-                BitstampAuthenticated.class, exchange.getExchangeSpecification())\n-            .build();\n+        RestProxyFactory.createProxy(\n+            BitstampAuthenticated.class,\n+            exchange.getExchangeSpecification().getSslUri(),\n+            getClientConfig());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6fe57c36119cda6baba99905dd4f3bba2a30bb1a"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTczNDIxNg==", "bodyText": "+ \"\" i unnecesary\ngetKrakenTradeHistory should support null values", "url": "https://github.com/knowm/XChange/pull/3634#discussion_r491734216", "createdAt": "2020-09-20T21:03:37Z", "author": {"login": "walec51"}, "path": "xchange-kraken/src/main/java/org/knowm/xchange/kraken/service/KrakenTradeService.java", "diffHunk": "@@ -68,32 +68,44 @@ public boolean cancelOrder(CancelOrderParams orderParams) throws IOException {\n \n   /**\n    * @param params Can optionally implement {@link TradeHistoryParamOffset} and {@link\n-   *     TradeHistoryParamsTimeSpan}. All other TradeHistoryParams types will be ignored.\n+   *     TradeHistoryParamsTimeSpan} and {@link TradeHistoryParamsIdSpan} All other\n+   *     TradeHistoryParams types will be ignored.\n    */\n   @Override\n   public UserTrades getTradeHistory(TradeHistoryParams params)\n       throws ExchangeException, IOException {\n \n-    final Long startTime;\n-    final Long endTime;\n-    if (params instanceof TradeHistoryParamsTimeSpan) {\n-      TradeHistoryParamsTimeSpan timeSpan = (TradeHistoryParamsTimeSpan) params;\n-      startTime = DateUtils.toUnixTimeNullSafe(timeSpan.getStartTime());\n-      endTime = DateUtils.toUnixTimeNullSafe(timeSpan.getEndTime());\n-    } else {\n-      startTime = null;\n-      endTime = null;\n-    }\n+    String start = null;\n+    String end = null;\n+\n+    Long offset = null;\n \n-    final Long offset;\n     if (params instanceof TradeHistoryParamOffset) {\n       offset = ((TradeHistoryParamOffset) params).getOffset();\n-    } else {\n-      offset = null;\n+    }\n+\n+    if (params instanceof TradeHistoryParamsIdSpan) {\n+      TradeHistoryParamsIdSpan idSpan = (TradeHistoryParamsIdSpan) params;\n+      if (idSpan.getStartId() != null) {\n+        start = idSpan.getStartId();\n+      }\n+      if (idSpan.getEndId() != null) {\n+        end = idSpan.getEndId();\n+      }\n+    }\n+\n+    if (params instanceof TradeHistoryParamsTimeSpan) {\n+      TradeHistoryParamsTimeSpan timeSpan = (TradeHistoryParamsTimeSpan) params;\n+      if (timeSpan.getStartTime() != null) {\n+        start = DateUtils.toUnixTimeNullSafe(timeSpan.getStartTime()) + \"\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6fe57c36119cda6baba99905dd4f3bba2a30bb1a"}, "originalPosition": 47}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTczNDM4MQ==", "bodyText": "why is this not final any more?", "url": "https://github.com/knowm/XChange/pull/3634#discussion_r491734381", "createdAt": "2020-09-20T21:05:18Z", "author": {"login": "walec51"}, "path": "xchange-bitstamp/src/main/java/org/knowm/xchange/bitstamp/service/BitstampTradeServiceRaw.java", "diffHunk": "@@ -20,20 +21,22 @@\n   private final BitstampAuthenticated bitstampAuthenticated;\n   private final BitstampAuthenticatedV2 bitstampAuthenticatedV2;\n   private final BitstampDigest signatureCreator;\n-  private final String apiKey;\n-  private final SynchronizedValueFactory<Long> nonceFactory;\n+  private String apiKey;\n+  private SynchronizedValueFactory<Long> nonceFactory;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6fe57c36119cda6baba99905dd4f3bba2a30bb1a"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTczNDYyMQ==", "bodyText": "these ifs are unnecessary\njust doing start = idSpan.getStartId(); for a null idSpan.getStartId() will have the same result in start as it is initialized to null", "url": "https://github.com/knowm/XChange/pull/3634#discussion_r491734621", "createdAt": "2020-09-20T21:07:17Z", "author": {"login": "walec51"}, "path": "xchange-kraken/src/main/java/org/knowm/xchange/kraken/service/KrakenTradeService.java", "diffHunk": "@@ -68,32 +68,44 @@ public boolean cancelOrder(CancelOrderParams orderParams) throws IOException {\n \n   /**\n    * @param params Can optionally implement {@link TradeHistoryParamOffset} and {@link\n-   *     TradeHistoryParamsTimeSpan}. All other TradeHistoryParams types will be ignored.\n+   *     TradeHistoryParamsTimeSpan} and {@link TradeHistoryParamsIdSpan} All other\n+   *     TradeHistoryParams types will be ignored.\n    */\n   @Override\n   public UserTrades getTradeHistory(TradeHistoryParams params)\n       throws ExchangeException, IOException {\n \n-    final Long startTime;\n-    final Long endTime;\n-    if (params instanceof TradeHistoryParamsTimeSpan) {\n-      TradeHistoryParamsTimeSpan timeSpan = (TradeHistoryParamsTimeSpan) params;\n-      startTime = DateUtils.toUnixTimeNullSafe(timeSpan.getStartTime());\n-      endTime = DateUtils.toUnixTimeNullSafe(timeSpan.getEndTime());\n-    } else {\n-      startTime = null;\n-      endTime = null;\n-    }\n+    String start = null;\n+    String end = null;\n+\n+    Long offset = null;\n \n-    final Long offset;\n     if (params instanceof TradeHistoryParamOffset) {\n       offset = ((TradeHistoryParamOffset) params).getOffset();\n-    } else {\n-      offset = null;\n+    }\n+\n+    if (params instanceof TradeHistoryParamsIdSpan) {\n+      TradeHistoryParamsIdSpan idSpan = (TradeHistoryParamsIdSpan) params;\n+      if (idSpan.getStartId() != null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6fe57c36119cda6baba99905dd4f3bba2a30bb1a"}, "originalPosition": 36}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "85f1755fe1bd03ff07cbf62d6feabcee79552755", "author": {"user": null}, "url": "https://github.com/knowm/XChange/commit/85f1755fe1bd03ff07cbf62d6feabcee79552755", "committedDate": "2020-10-09T16:51:12Z", "message": "fix code review suggestions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b88e82fab665ad27c9214289a15553bd3cd92ce1", "author": {"user": null}, "url": "https://github.com/knowm/XChange/commit/b88e82fab665ad27c9214289a15553bd3cd92ce1", "committedDate": "2020-10-12T12:55:08Z", "message": "Merge remote-tracking branch 'upstream/develop' into develop"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEwNDUzOTc2", "url": "https://github.com/knowm/XChange/pull/3634#pullrequestreview-510453976", "createdAt": "2020-10-16T13:11:53Z", "commit": {"oid": "b88e82fab665ad27c9214289a15553bd3cd92ce1"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2496, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}