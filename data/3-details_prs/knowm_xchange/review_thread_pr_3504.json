{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDEyODI1NTYx", "number": 3504, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQxMDoyODo1MFrOD47ojg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQxMDozMzoxNlrOD47trQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYxMDIzODg2OnYy", "diffSide": "RIGHT", "path": "xchange-okcoin/src/main/java/org/knowm/xchange/okcoin/v3/dto/MarginMode.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQxMDoyODo1MFrOGP6rZw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQxMDo1NTowNlrOGP7ZTA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTM0MzIwNw==", "bodyText": "wouldn't it be better to just return null in this case also?", "url": "https://github.com/knowm/XChange/pull/3504#discussion_r419343207", "createdAt": "2020-05-04T10:28:50Z", "author": {"login": "walec51"}, "path": "xchange-okcoin/src/main/java/org/knowm/xchange/okcoin/v3/dto/MarginMode.java", "diffHunk": "@@ -1,6 +1,28 @@\n package org.knowm.xchange.okcoin.v3.dto;\n \n+import com.fasterxml.jackson.annotation.JsonCreator;\n+import lombok.extern.slf4j.Slf4j;\n+\n+@Slf4j\n public enum MarginMode {\n   crossed,\n-  fixed;\n+  fixed,\n+  empty // special case, for some wallets okex returns empty margin mode\n+;\n+\n+  @JsonCreator\n+  public static MarginMode create(String s) {\n+    if (s == null) {\n+      return null;\n+    }\n+    if (s.isEmpty()) {\n+      return empty;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5fbdc02ed72dd3c82e3bf1581b2a69415fe53342"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTM1NDk1Ng==", "bodyText": "sure, we could use null here. But what if you need to differ between null and empty?\nwas not sure and decided to keep empty type in place", "url": "https://github.com/knowm/XChange/pull/3504#discussion_r419354956", "createdAt": "2020-05-04T10:55:06Z", "author": {"login": "andre77"}, "path": "xchange-okcoin/src/main/java/org/knowm/xchange/okcoin/v3/dto/MarginMode.java", "diffHunk": "@@ -1,6 +1,28 @@\n package org.knowm.xchange.okcoin.v3.dto;\n \n+import com.fasterxml.jackson.annotation.JsonCreator;\n+import lombok.extern.slf4j.Slf4j;\n+\n+@Slf4j\n public enum MarginMode {\n   crossed,\n-  fixed;\n+  fixed,\n+  empty // special case, for some wallets okex returns empty margin mode\n+;\n+\n+  @JsonCreator\n+  public static MarginMode create(String s) {\n+    if (s == null) {\n+      return null;\n+    }\n+    if (s.isEmpty()) {\n+      return empty;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTM0MzIwNw=="}, "originalCommit": {"oid": "5fbdc02ed72dd3c82e3bf1581b2a69415fe53342"}, "originalPosition": 20}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYxMDI0OTIyOnYy", "diffSide": "RIGHT", "path": "xchange-okcoin/src/main/java/org/knowm/xchange/okcoin/v3/service/OkexAccountServiceRaw.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQxMDozMjoxMlrOGP6xsg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQxMDo1NTo1MVrOGP7aqQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTM0NDgxOA==", "bodyText": "Collections.EMPTY_LIST instead of new ArrayList<>() would be better", "url": "https://github.com/knowm/XChange/pull/3504#discussion_r419344818", "createdAt": "2020-05-04T10:32:12Z", "author": {"login": "walec51"}, "path": "xchange-okcoin/src/main/java/org/knowm/xchange/okcoin/v3/service/OkexAccountServiceRaw.java", "diffHunk": "@@ -63,7 +85,8 @@ public OkexWithdrawalResponse withdrawal(OkexWithdrawalRequest req) throws IOExc\n     FuturesPositionsResponse res =\n         okex.getFuturesPositions(apikey, digest, timestamp(), passphrase);\n     res.checkResult();\n-    return res.getHolding().get(0);\n+    List<List<FuturesPosition>> holding = res.getHolding();\n+    return holding == null || holding.isEmpty() ? new ArrayList<>() : holding.get(0);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5fbdc02ed72dd3c82e3bf1581b2a69415fe53342"}, "originalPosition": 42}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTM1NTMwNQ==", "bodyText": "you mean Collections.emptyList() :-)", "url": "https://github.com/knowm/XChange/pull/3504#discussion_r419355305", "createdAt": "2020-05-04T10:55:51Z", "author": {"login": "andre77"}, "path": "xchange-okcoin/src/main/java/org/knowm/xchange/okcoin/v3/service/OkexAccountServiceRaw.java", "diffHunk": "@@ -63,7 +85,8 @@ public OkexWithdrawalResponse withdrawal(OkexWithdrawalRequest req) throws IOExc\n     FuturesPositionsResponse res =\n         okex.getFuturesPositions(apikey, digest, timestamp(), passphrase);\n     res.checkResult();\n-    return res.getHolding().get(0);\n+    List<List<FuturesPosition>> holding = res.getHolding();\n+    return holding == null || holding.isEmpty() ? new ArrayList<>() : holding.get(0);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTM0NDgxOA=="}, "originalCommit": {"oid": "5fbdc02ed72dd3c82e3bf1581b2a69415fe53342"}, "originalPosition": 42}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYxMDI1MTk3OnYy", "diffSide": "RIGHT", "path": "xchange-okcoin/src/main/java/org/knowm/xchange/okcoin/v3/dto/account/FuturesBillsResponse.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQxMDozMzoxNlrOGP6zkQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQxMDo1NzozNlrOGP7d3Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTM0NTI5Nw==", "bodyText": "could we use @Value instead of @Data?", "url": "https://github.com/knowm/XChange/pull/3504#discussion_r419345297", "createdAt": "2020-05-04T10:33:16Z", "author": {"login": "walec51"}, "path": "xchange-okcoin/src/main/java/org/knowm/xchange/okcoin/v3/dto/account/FuturesBillsResponse.java", "diffHunk": "@@ -0,0 +1,44 @@\n+package org.knowm.xchange.okcoin.v3.dto.account;\n+\n+import com.fasterxml.jackson.databind.PropertyNamingStrategy.SnakeCaseStrategy;\n+import com.fasterxml.jackson.databind.annotation.JsonNaming;\n+import java.math.BigDecimal;\n+import java.util.Date;\n+import lombok.Data;\n+import lombok.EqualsAndHashCode;\n+\n+@Data", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5fbdc02ed72dd3c82e3bf1581b2a69415fe53342"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTM1NjEyNQ==", "bodyText": "sure, @value is a good option here, but i simply wanted to be consistent to other classes in this package", "url": "https://github.com/knowm/XChange/pull/3504#discussion_r419356125", "createdAt": "2020-05-04T10:57:36Z", "author": {"login": "andre77"}, "path": "xchange-okcoin/src/main/java/org/knowm/xchange/okcoin/v3/dto/account/FuturesBillsResponse.java", "diffHunk": "@@ -0,0 +1,44 @@\n+package org.knowm.xchange.okcoin.v3.dto.account;\n+\n+import com.fasterxml.jackson.databind.PropertyNamingStrategy.SnakeCaseStrategy;\n+import com.fasterxml.jackson.databind.annotation.JsonNaming;\n+import java.math.BigDecimal;\n+import java.util.Date;\n+import lombok.Data;\n+import lombok.EqualsAndHashCode;\n+\n+@Data", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTM0NTI5Nw=="}, "originalCommit": {"oid": "5fbdc02ed72dd3c82e3bf1581b2a69415fe53342"}, "originalPosition": 10}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3826, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}