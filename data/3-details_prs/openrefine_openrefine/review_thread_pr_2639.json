{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIyMzYwMTI0", "number": 2639, "reviewThreads": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQwMDo1ODo0MlrOD_fi5w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QxNzoyOTowNFrOEGcilA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY3OTAzNzE5OnYy", "diffSide": "RIGHT", "path": "main/webapp/modules/core/scripts/views/data-table/data-table-view.js", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQwMDo1ODo0M1rOGaLyHg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQwMjozMTo0MlrOGaM3UQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDEwOTIxNA==", "bodyText": "I'd also add required so we don't accept an empty value\nREF: https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/number#Validation\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                .attr(\"id\", \"viewpanel-paging-current-input\")\n          \n          \n            \n                .attr(\"id\", \"viewpanel-paging-current-input\")\n          \n          \n            \n                .attr(\"required\", \"\")", "url": "https://github.com/OpenRefine/OpenRefine/pull/2639#discussion_r430109214", "createdAt": "2020-05-26T00:58:43Z", "author": {"login": "thadguidry"}, "path": "main/webapp/modules/core/scripts/views/data-table/data-table-view.js", "diffHunk": "@@ -173,7 +177,23 @@ DataTableView.prototype._renderPagingControls = function(pageSizeControls, pagin\n     previousPage.addClass(\"inaction\");\n   }\n \n-  $('<span>').addClass(\"viewpanel-pagingcount\").html(\" \" + from + \" - \" + to + \" \").appendTo(pagingControls);\n+  lastPageSpan = $('<span>').attr(\"id\", \"viewpanel-paging-last\").text(self._lastPageNumber);\n+  pageControlSpan = $('<span>').attr(\"id\", \"viewpanel-paging-current\");\n+  \n+  currentPageInput = $('<input type=\"number\">')\n+    .change(function(evt) { self._onChangeGotoPage(this, evt); })\n+    .attr(\"id\", \"viewpanel-paging-current-input\")\n+    .attr(\"min\", 1)\n+    .attr(\"max\", self._lastPageNumber)\n+    .attr(\"id\", \"viewpanel-paging-current-input\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f50ceb95c96cff2967120ad1bb7bcf645c3d6619"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDExMDY0MQ==", "bodyText": "Why is \"id\" attr repeated?", "url": "https://github.com/OpenRefine/OpenRefine/pull/2639#discussion_r430110641", "createdAt": "2020-05-26T01:07:55Z", "author": {"login": "thadguidry"}, "path": "main/webapp/modules/core/scripts/views/data-table/data-table-view.js", "diffHunk": "@@ -173,7 +177,23 @@ DataTableView.prototype._renderPagingControls = function(pageSizeControls, pagin\n     previousPage.addClass(\"inaction\");\n   }\n \n-  $('<span>').addClass(\"viewpanel-pagingcount\").html(\" \" + from + \" - \" + to + \" \").appendTo(pagingControls);\n+  lastPageSpan = $('<span>').attr(\"id\", \"viewpanel-paging-last\").text(self._lastPageNumber);\n+  pageControlSpan = $('<span>').attr(\"id\", \"viewpanel-paging-current\");\n+  \n+  currentPageInput = $('<input type=\"number\">')\n+    .change(function(evt) { self._onChangeGotoPage(this, evt); })\n+    .attr(\"id\", \"viewpanel-paging-current-input\")\n+    .attr(\"min\", 1)\n+    .attr(\"max\", self._lastPageNumber)\n+    .attr(\"id\", \"viewpanel-paging-current-input\")", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDEwOTIxNA=="}, "originalCommit": {"oid": "f50ceb95c96cff2967120ad1bb7bcf645c3d6619"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDEyNjc5Mg==", "bodyText": "Dumb mistake. I do them sometimes\u2026 ;-)", "url": "https://github.com/OpenRefine/OpenRefine/pull/2639#discussion_r430126792", "createdAt": "2020-05-26T02:30:56Z", "author": {"login": "antoine2711"}, "path": "main/webapp/modules/core/scripts/views/data-table/data-table-view.js", "diffHunk": "@@ -173,7 +177,23 @@ DataTableView.prototype._renderPagingControls = function(pageSizeControls, pagin\n     previousPage.addClass(\"inaction\");\n   }\n \n-  $('<span>').addClass(\"viewpanel-pagingcount\").html(\" \" + from + \" - \" + to + \" \").appendTo(pagingControls);\n+  lastPageSpan = $('<span>').attr(\"id\", \"viewpanel-paging-last\").text(self._lastPageNumber);\n+  pageControlSpan = $('<span>').attr(\"id\", \"viewpanel-paging-current\");\n+  \n+  currentPageInput = $('<input type=\"number\">')\n+    .change(function(evt) { self._onChangeGotoPage(this, evt); })\n+    .attr(\"id\", \"viewpanel-paging-current-input\")\n+    .attr(\"min\", 1)\n+    .attr(\"max\", self._lastPageNumber)\n+    .attr(\"id\", \"viewpanel-paging-current-input\")", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDEwOTIxNA=="}, "originalCommit": {"oid": "f50ceb95c96cff2967120ad1bb7bcf645c3d6619"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDEyNjkyOQ==", "bodyText": "I'd also add required so we don't accept an empty value\nREF: https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/number#Validation\n\nNot sure if the required will change something, because I was managing it, but I guess it can't hurt. Added.", "url": "https://github.com/OpenRefine/OpenRefine/pull/2639#discussion_r430126929", "createdAt": "2020-05-26T02:31:42Z", "author": {"login": "antoine2711"}, "path": "main/webapp/modules/core/scripts/views/data-table/data-table-view.js", "diffHunk": "@@ -173,7 +177,23 @@ DataTableView.prototype._renderPagingControls = function(pageSizeControls, pagin\n     previousPage.addClass(\"inaction\");\n   }\n \n-  $('<span>').addClass(\"viewpanel-pagingcount\").html(\" \" + from + \" - \" + to + \" \").appendTo(pagingControls);\n+  lastPageSpan = $('<span>').attr(\"id\", \"viewpanel-paging-last\").text(self._lastPageNumber);\n+  pageControlSpan = $('<span>').attr(\"id\", \"viewpanel-paging-current\");\n+  \n+  currentPageInput = $('<input type=\"number\">')\n+    .change(function(evt) { self._onChangeGotoPage(this, evt); })\n+    .attr(\"id\", \"viewpanel-paging-current-input\")\n+    .attr(\"min\", 1)\n+    .attr(\"max\", self._lastPageNumber)\n+    .attr(\"id\", \"viewpanel-paging-current-input\")", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDEwOTIxNA=="}, "originalCommit": {"oid": "f50ceb95c96cff2967120ad1bb7bcf645c3d6619"}, "originalPosition": 31}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY3OTIwNjUzOnYy", "diffSide": "RIGHT", "path": "main/webapp/modules/core/scripts/views/data-table/data-table-view.js", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQwMzoxMzo1NFrOGaNYPQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQwNDozOTozMVrOGaOYaw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDEzNTM1Nw==", "bodyText": "Nice.  It's a bit sluggish, and not quick firing like on the Mozilla Dev example URL I gave earlier, perhaps nothing you can do about that since we're evaluating a bunch on the key press now it seems?\nAlso, we need to check if currentPageNumber is already 1 ... and we press Down Arrow key...then DO NOTHING (I.E. do not onClickNextPage).\nBecause now, if it's on 1 and I press Down Arrow key on my keyboard...it increments to 2, instead of staying on 1.\nSame goes for if I press Up Arrow key and the currentPageNumber == Max page number, it should stay at Max page number and not increase.", "url": "https://github.com/OpenRefine/OpenRefine/pull/2639#discussion_r430135357", "createdAt": "2020-05-26T03:13:54Z", "author": {"login": "thadguidry"}, "path": "main/webapp/modules/core/scripts/views/data-table/data-table-view.js", "diffHunk": "@@ -524,6 +526,17 @@ DataTableView.prototype._onChangeGotoPage = function(elmt, evt) {\n   this._showRows((gotoPageNumber - 1) * this._pageSize);\n };\n \n+DataTableView.prototype._onKeyDownGotoPage = function(elmt, evt) {\n+  var keyDownCode = event.which;\n+  \n+  if([38, 40].indexOf(keyDownCode) == -1) return;\n+\n+  if(keyDownCode == 38) this._onClickPreviousPage(elmt, evt);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "929b654d19b3828e4fe18ab1954ac4c895dbf706"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDEzNjAyNw==", "bodyText": "And...you need to flip the Up/Down arrow keypress to do the opposite... DOWN is go down the sheet.  Users will expect it to increment, and when you press UP arrow, users would expect it to scroll up on row/record index, or in other words, decrement the page number.", "url": "https://github.com/OpenRefine/OpenRefine/pull/2639#discussion_r430136027", "createdAt": "2020-05-26T03:17:18Z", "author": {"login": "thadguidry"}, "path": "main/webapp/modules/core/scripts/views/data-table/data-table-view.js", "diffHunk": "@@ -524,6 +526,17 @@ DataTableView.prototype._onChangeGotoPage = function(elmt, evt) {\n   this._showRows((gotoPageNumber - 1) * this._pageSize);\n };\n \n+DataTableView.prototype._onKeyDownGotoPage = function(elmt, evt) {\n+  var keyDownCode = event.which;\n+  \n+  if([38, 40].indexOf(keyDownCode) == -1) return;\n+\n+  if(keyDownCode == 38) this._onClickPreviousPage(elmt, evt);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDEzNTM1Nw=="}, "originalCommit": {"oid": "929b654d19b3828e4fe18ab1954ac4c895dbf706"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDEzNjg5OQ==", "bodyText": "Going to bed... will check on updates in morning.\nWe're so close to perfection now!!!", "url": "https://github.com/OpenRefine/OpenRefine/pull/2639#discussion_r430136899", "createdAt": "2020-05-26T03:21:45Z", "author": {"login": "thadguidry"}, "path": "main/webapp/modules/core/scripts/views/data-table/data-table-view.js", "diffHunk": "@@ -524,6 +526,17 @@ DataTableView.prototype._onChangeGotoPage = function(elmt, evt) {\n   this._showRows((gotoPageNumber - 1) * this._pageSize);\n };\n \n+DataTableView.prototype._onKeyDownGotoPage = function(elmt, evt) {\n+  var keyDownCode = event.which;\n+  \n+  if([38, 40].indexOf(keyDownCode) == -1) return;\n+\n+  if(keyDownCode == 38) this._onClickPreviousPage(elmt, evt);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDEzNTM1Nw=="}, "originalCommit": {"oid": "929b654d19b3828e4fe18ab1954ac4c895dbf706"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDE1MTc4Nw==", "bodyText": "Good morning @thadguidry, here's your update!\n\nNice. It's a bit sluggish, and not quick firing like on the Mozilla Dev example URL I gave earlier, perhaps nothing you can do about that since we're evaluating a bunch on the key press now it seems?\n\nIt's because since we delete/rebuilt control with each change of page, I must resort to an unorthodox method. I wait 1,5 s. for the data-panel to be rebuilt. This is ok, but not more. I'm not proud of that, but I believe you bear the responsability to send me to those murky waters\u2026 I'm kidding, of course, but still, this arrow thing is a bit stretching our current table management.\n\nAlso, we need to check if currentPageNumber is already 1 ... and we press Down Arrow key...then DO NOTHING (I.E. do not onClickNextPage).\nBecause now, if it's on 1 and I press Down Arrow key on my keyboard...it increments to 2, instead of staying on 1.\nSame goes for if I press Up Arrow key and the currentPageNumber == Max page number, it should stay at Max page number and not increase.\n\nIt is now fixed. It stops at bounds.\n\nAnd...you need to flip the Up/Down arrow keypress to do the opposite... DOWN is go down the sheet. Users will expect it to increment, and when you press UP arrow, users would expect it to scroll up on row/record index, or in other words, decrement the page number.\n\nI understand that, BUT\u2026 just beside are the <input type=\"number\"> arrows. And they follow the human number convention, where higher # has a meaning. So, we are doing the contrary. This is weird. You think about it. It's now change, but it will be easy to change back if you want so.\n\nGoing to bed... will check on updates in morning.\nWe're so close to perfection now!!!\n\nWell, I guess you will have fun testing that tomorrow!\nRegards,\nAntoine", "url": "https://github.com/OpenRefine/OpenRefine/pull/2639#discussion_r430151787", "createdAt": "2020-05-26T04:39:31Z", "author": {"login": "antoine2711"}, "path": "main/webapp/modules/core/scripts/views/data-table/data-table-view.js", "diffHunk": "@@ -524,6 +526,17 @@ DataTableView.prototype._onChangeGotoPage = function(elmt, evt) {\n   this._showRows((gotoPageNumber - 1) * this._pageSize);\n };\n \n+DataTableView.prototype._onKeyDownGotoPage = function(elmt, evt) {\n+  var keyDownCode = event.which;\n+  \n+  if([38, 40].indexOf(keyDownCode) == -1) return;\n+\n+  if(keyDownCode == 38) this._onClickPreviousPage(elmt, evt);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDEzNTM1Nw=="}, "originalCommit": {"oid": "929b654d19b3828e4fe18ab1954ac4c895dbf706"}, "originalPosition": 30}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY4MTE2MTc4OnYy", "diffSide": "RIGHT", "path": "main/webapp/modules/core/scripts/views/data-table/data-table-view.js", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQxNDoxOTo0OFrOGagiQg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQyMjowNjo0NVrOGax7Zw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDQ0OTIxOA==", "bodyText": "I think something like this for example would be more efficient...\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                .change(function(evt) { self._onChangeGotoPage(this, evt); })\n          \n          \n            \n                /* Don't fire the GotoPage until the user has stopped typing or pressing keys...\n          \n          \n            \n                \n          \n          \n            \n                // .change(function(evt) { self._onChangeGotoPage(this, evt); })\n          \n          \n            \n                // .keydown(function(evt) { self._onKeyDownGotoPage(this, evt); })\n          \n          \n            \n                \n          \n          \n            \n               // So, we check the keyup, and delay for some configurable Timeout, default .7 secs, and then attempt to GotoPage...\n          \n          \n            \n                .bind('keyup', function(evt) {self._onChangeGotoPage(this, evt); })\n          \n      \n    \n    \n  \n\nThe idea is to allow the browser's own <input type=\"number\"> handling to work...and we don't do anything until after the user has finished manipulating the control for some configurable Timeout, and then we submit the Change event with whatever value is there.  We did something similar to this on the Text Search Facet.\nREFS:\n\nhttps://stackoverflow.com/questions/1909441/how-to-delay-the-keyup-handler-until-the-user-stops-typing\n\n  \n    \n      OpenRefine/main/webapp/modules/core/scripts/facets/text-search-facet.js\n    \n    \n         Line 221\n      in\n      3ca08f6\n    \n    \n    \n    \n\n        \n          \n           this._timerID = window.setTimeout(function() {", "url": "https://github.com/OpenRefine/OpenRefine/pull/2639#discussion_r430449218", "createdAt": "2020-05-26T14:19:48Z", "author": {"login": "thadguidry"}, "path": "main/webapp/modules/core/scripts/views/data-table/data-table-view.js", "diffHunk": "@@ -178,10 +177,10 @@ DataTableView.prototype._renderPagingControls = function(pageSizeControls, pagin\n     previousPage.addClass(\"inaction\");\n   }\n \n-  lastPageSpan = $('<span>').attr(\"id\", \"viewpanel-paging-last\").text(self._lastPageNumber);\n-  pageControlSpan = $('<span>').attr(\"id\", \"viewpanel-paging-current\");\n+  var pageControlsSpan = $('<span>').attr(\"id\", \"viewpanel-paging-current\");\n   \n-  currentPageInput = $('<input type=\"number\">')\n+  var pageInputSize = 20 + (8 * ui.dataTableView._lastPageNumber.toString().length);\n+  var currentPageInput = $('<input type=\"number\">')\n     .change(function(evt) { self._onChangeGotoPage(this, evt); })", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6cbb13dc3372cde715c94b2fac2006361775a659"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDU3Njc2Mg==", "bodyText": "@thadguidry: Are you sure this is needed/useful?\nI'm not sure I understand you. You want to get the change of page to auto-execute after a certain period of time? What is the added benefit? Not pressing [RETURN]?\nRegards,\nAntoine", "url": "https://github.com/OpenRefine/OpenRefine/pull/2639#discussion_r430576762", "createdAt": "2020-05-26T17:15:25Z", "author": {"login": "antoine2711"}, "path": "main/webapp/modules/core/scripts/views/data-table/data-table-view.js", "diffHunk": "@@ -178,10 +177,10 @@ DataTableView.prototype._renderPagingControls = function(pageSizeControls, pagin\n     previousPage.addClass(\"inaction\");\n   }\n \n-  lastPageSpan = $('<span>').attr(\"id\", \"viewpanel-paging-last\").text(self._lastPageNumber);\n-  pageControlSpan = $('<span>').attr(\"id\", \"viewpanel-paging-current\");\n+  var pageControlsSpan = $('<span>').attr(\"id\", \"viewpanel-paging-current\");\n   \n-  currentPageInput = $('<input type=\"number\">')\n+  var pageInputSize = 20 + (8 * ui.dataTableView._lastPageNumber.toString().length);\n+  var currentPageInput = $('<input type=\"number\">')\n     .change(function(evt) { self._onChangeGotoPage(this, evt); })", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDQ0OTIxOA=="}, "originalCommit": {"oid": "6cbb13dc3372cde715c94b2fac2006361775a659"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDY3MzU0Nw==", "bodyText": "Lets drop that need however.  Automatically hitting [RETURN] for folks.  They get that with a mouse click on the existing Prev / Next buttons.  I was thinking of accessibility as other apps work this way by holding down up or down arrow to go up or down to pages.  But it currently doesn't feel fluid to me with this current code change for some reason.  So let's park that need for now.\nThe input box should require the user to press [RETURN] key to go to the page they have typed in.  DONE.\nIf the users want to cycle forward or backward, they will have to use mouse clicks on our Prev / Next buttons.  DONE.\nIf you want to revert those last changes for now, that's fine.  And then we can merge.", "url": "https://github.com/OpenRefine/OpenRefine/pull/2639#discussion_r430673547", "createdAt": "2020-05-26T19:59:04Z", "author": {"login": "thadguidry"}, "path": "main/webapp/modules/core/scripts/views/data-table/data-table-view.js", "diffHunk": "@@ -178,10 +177,10 @@ DataTableView.prototype._renderPagingControls = function(pageSizeControls, pagin\n     previousPage.addClass(\"inaction\");\n   }\n \n-  lastPageSpan = $('<span>').attr(\"id\", \"viewpanel-paging-last\").text(self._lastPageNumber);\n-  pageControlSpan = $('<span>').attr(\"id\", \"viewpanel-paging-current\");\n+  var pageControlsSpan = $('<span>').attr(\"id\", \"viewpanel-paging-current\");\n   \n-  currentPageInput = $('<input type=\"number\">')\n+  var pageInputSize = 20 + (8 * ui.dataTableView._lastPageNumber.toString().length);\n+  var currentPageInput = $('<input type=\"number\">')\n     .change(function(evt) { self._onChangeGotoPage(this, evt); })", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDQ0OTIxOA=="}, "originalCommit": {"oid": "6cbb13dc3372cde715c94b2fac2006361775a659"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDczNDE4Mw==", "bodyText": "Lets drop that need however. Automatically hitting [RETURN] for folks.\n\nIf the user presses [RETURN] after changing the number, the browser does the out-of-focus (blur) automatically. I didn't code anything for that.\n\nThey get that with a mouse click on the existing Prev / Next buttons. I was thinking of accessibility as other apps work this way by holding down up or down arrow to go up or down to pages. But it currently doesn't feel fluid to me with this current code change for some reason. So let's park that need for now.\n\nAre you talking of the Arrow Keys, or the Arrow button? )\nMaybe if you give me a precise example of an application and the place in the UI that handles that, I could understand better.\n\nThe input box should require the user to press [RETURN] key to go to the page they have typed in. DONE.\nIf the users want to cycle forward or backward, they will have to use mouse clicks on our Prev / Next buttons. DONE.\n\nAnd don't forget the Keyboard Arrows! That's a nice add-on you proposed.\n\nIf you want to revert those last changes for now, that's fine. And then we can merge.\n\nK. I'll wrap up and finish this issue.\nRegards,\nAntoine", "url": "https://github.com/OpenRefine/OpenRefine/pull/2639#discussion_r430734183", "createdAt": "2020-05-26T22:06:45Z", "author": {"login": "antoine2711"}, "path": "main/webapp/modules/core/scripts/views/data-table/data-table-view.js", "diffHunk": "@@ -178,10 +177,10 @@ DataTableView.prototype._renderPagingControls = function(pageSizeControls, pagin\n     previousPage.addClass(\"inaction\");\n   }\n \n-  lastPageSpan = $('<span>').attr(\"id\", \"viewpanel-paging-last\").text(self._lastPageNumber);\n-  pageControlSpan = $('<span>').attr(\"id\", \"viewpanel-paging-current\");\n+  var pageControlsSpan = $('<span>').attr(\"id\", \"viewpanel-paging-current\");\n   \n-  currentPageInput = $('<input type=\"number\">')\n+  var pageInputSize = 20 + (8 * ui.dataTableView._lastPageNumber.toString().length);\n+  var currentPageInput = $('<input type=\"number\">')\n     .change(function(evt) { self._onChangeGotoPage(this, evt); })", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDQ0OTIxOA=="}, "originalCommit": {"oid": "6cbb13dc3372cde715c94b2fac2006361775a659"}, "originalPosition": 26}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY5NTgzODI3OnYy", "diffSide": "RIGHT", "path": "main/webapp/modules/core/scripts/views/data-table/data-table-view.js", "isResolved": false, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0zMFQwODo0ODowNVrOGcxezg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMVQwMTowNjozMlrOGc8iig==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjgyNDAxNA==", "bodyText": "This ' of ' should be localized, and we need to rework the code a bit so that the page numbers that are prepended / appended to the message are inserted in a template instead (so that translators can choose to reorder them if necessary). If this is unclear let me know, I can give examples.", "url": "https://github.com/OpenRefine/OpenRefine/pull/2639#discussion_r432824014", "createdAt": "2020-05-30T08:48:05Z", "author": {"login": "wetneb"}, "path": "main/webapp/modules/core/scripts/views/data-table/data-table-view.js", "diffHunk": "@@ -173,7 +177,27 @@ DataTableView.prototype._renderPagingControls = function(pageSizeControls, pagin\n     previousPage.addClass(\"inaction\");\n   }\n \n-  $('<span>').addClass(\"viewpanel-pagingcount\").html(\" \" + from + \" - \" + to + \" \").appendTo(pagingControls);\n+  var pageControlsSpan = $('<span>').attr(\"id\", \"viewpanel-paging-current\");\n+  \n+  var pageInputSize = 20 + (8 * ui.dataTableView._lastPageNumber.toString().length);\n+  var currentPageInput = $('<input type=\"number\">')\n+    .change(function(evt) { self._onChangeGotoPage(this, evt); })\n+    .keydown(function(evt) { self._onKeyDownGotoPage(this, evt); })\n+    .attr(\"id\", \"viewpanel-paging-current-input\")\n+    .attr(\"min\", 1)\n+    .attr(\"max\", self._lastPageNumber)\n+    .attr(\"required\", \"required\")\n+    .val(self._currentPageNumber)\n+    .css(\"width\", pageInputSize +\"px\")\n+    .appendTo(pageControlsSpan);\n+\n+  pageControlsSpan.append('\u00a0of\u00a0');", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "197897e8ceabeed2fe86725451f0b5322e266f41"}, "originalPosition": 44}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjgyNzkyMw==", "bodyText": "I'm laughing, because I asked you that somewhere. But maybe I forgot to \u00ab mention\u00a0\u00bb you\u2026 But I know we would get to that.\nYes. Somewhere, I asked you an example of code using templates, about the concept of \u00ab placeholder\u00a0\u00bb -> \u00ab [FIELD] of [SPAN] pages\u00a0\u00bb, and the concept of singular/plural: \u00ab [FIELD] of [1] page\u00a0\u00bb.", "url": "https://github.com/OpenRefine/OpenRefine/pull/2639#discussion_r432827923", "createdAt": "2020-05-30T09:53:43Z", "author": {"login": "antoine2711"}, "path": "main/webapp/modules/core/scripts/views/data-table/data-table-view.js", "diffHunk": "@@ -173,7 +177,27 @@ DataTableView.prototype._renderPagingControls = function(pageSizeControls, pagin\n     previousPage.addClass(\"inaction\");\n   }\n \n-  $('<span>').addClass(\"viewpanel-pagingcount\").html(\" \" + from + \" - \" + to + \" \").appendTo(pagingControls);\n+  var pageControlsSpan = $('<span>').attr(\"id\", \"viewpanel-paging-current\");\n+  \n+  var pageInputSize = 20 + (8 * ui.dataTableView._lastPageNumber.toString().length);\n+  var currentPageInput = $('<input type=\"number\">')\n+    .change(function(evt) { self._onChangeGotoPage(this, evt); })\n+    .keydown(function(evt) { self._onKeyDownGotoPage(this, evt); })\n+    .attr(\"id\", \"viewpanel-paging-current-input\")\n+    .attr(\"min\", 1)\n+    .attr(\"max\", self._lastPageNumber)\n+    .attr(\"required\", \"required\")\n+    .val(self._currentPageNumber)\n+    .css(\"width\", pageInputSize +\"px\")\n+    .appendTo(pageControlsSpan);\n+\n+  pageControlsSpan.append('\u00a0of\u00a0');", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjgyNDAxNA=="}, "originalCommit": {"oid": "197897e8ceabeed2fe86725451f0b5322e266f41"}, "originalPosition": 44}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjgzMTc4OQ==", "bodyText": "See #1858 (comment)", "url": "https://github.com/OpenRefine/OpenRefine/pull/2639#discussion_r432831789", "createdAt": "2020-05-30T10:54:38Z", "author": {"login": "wetneb"}, "path": "main/webapp/modules/core/scripts/views/data-table/data-table-view.js", "diffHunk": "@@ -173,7 +177,27 @@ DataTableView.prototype._renderPagingControls = function(pageSizeControls, pagin\n     previousPage.addClass(\"inaction\");\n   }\n \n-  $('<span>').addClass(\"viewpanel-pagingcount\").html(\" \" + from + \" - \" + to + \" \").appendTo(pagingControls);\n+  var pageControlsSpan = $('<span>').attr(\"id\", \"viewpanel-paging-current\");\n+  \n+  var pageInputSize = 20 + (8 * ui.dataTableView._lastPageNumber.toString().length);\n+  var currentPageInput = $('<input type=\"number\">')\n+    .change(function(evt) { self._onChangeGotoPage(this, evt); })\n+    .keydown(function(evt) { self._onKeyDownGotoPage(this, evt); })\n+    .attr(\"id\", \"viewpanel-paging-current-input\")\n+    .attr(\"min\", 1)\n+    .attr(\"max\", self._lastPageNumber)\n+    .attr(\"required\", \"required\")\n+    .val(self._currentPageNumber)\n+    .css(\"width\", pageInputSize +\"px\")\n+    .appendTo(pageControlsSpan);\n+\n+  pageControlsSpan.append('\u00a0of\u00a0');", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjgyNDAxNA=="}, "originalCommit": {"oid": "197897e8ceabeed2fe86725451f0b5322e266f41"}, "originalPosition": 44}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjk5NTI1OQ==", "bodyText": "See #1858 (comment)\n\nThanks @wetneb for the pointer. It is now coded and working, FR, EN & ES.\nEDIT: There is a bug in french\u2026\nI think I have answered all questions and fulfilled all requests for the PR. Is there anything next?\nRegards,\nAntoine", "url": "https://github.com/OpenRefine/OpenRefine/pull/2639#discussion_r432995259", "createdAt": "2020-05-31T23:27:56Z", "author": {"login": "antoine2711"}, "path": "main/webapp/modules/core/scripts/views/data-table/data-table-view.js", "diffHunk": "@@ -173,7 +177,27 @@ DataTableView.prototype._renderPagingControls = function(pageSizeControls, pagin\n     previousPage.addClass(\"inaction\");\n   }\n \n-  $('<span>').addClass(\"viewpanel-pagingcount\").html(\" \" + from + \" - \" + to + \" \").appendTo(pagingControls);\n+  var pageControlsSpan = $('<span>').attr(\"id\", \"viewpanel-paging-current\");\n+  \n+  var pageInputSize = 20 + (8 * ui.dataTableView._lastPageNumber.toString().length);\n+  var currentPageInput = $('<input type=\"number\">')\n+    .change(function(evt) { self._onChangeGotoPage(this, evt); })\n+    .keydown(function(evt) { self._onKeyDownGotoPage(this, evt); })\n+    .attr(\"id\", \"viewpanel-paging-current-input\")\n+    .attr(\"min\", 1)\n+    .attr(\"max\", self._lastPageNumber)\n+    .attr(\"required\", \"required\")\n+    .val(self._currentPageNumber)\n+    .css(\"width\", pageInputSize +\"px\")\n+    .appendTo(pageControlsSpan);\n+\n+  pageControlsSpan.append('\u00a0of\u00a0');", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjgyNDAxNA=="}, "originalCommit": {"oid": "197897e8ceabeed2fe86725451f0b5322e266f41"}, "originalPosition": 44}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzAwNTE5NA==", "bodyText": "@wetneb: I fixed the problem for FR by using \u00ab page(s) \u00bb\u00a0in the french JSON file. The problem is only in French (AFAIK) and I described the problem in #1858.\nFor this issue, everything should be K.\nRegards,\nAntoine", "url": "https://github.com/OpenRefine/OpenRefine/pull/2639#discussion_r433005194", "createdAt": "2020-06-01T01:06:32Z", "author": {"login": "antoine2711"}, "path": "main/webapp/modules/core/scripts/views/data-table/data-table-view.js", "diffHunk": "@@ -173,7 +177,27 @@ DataTableView.prototype._renderPagingControls = function(pageSizeControls, pagin\n     previousPage.addClass(\"inaction\");\n   }\n \n-  $('<span>').addClass(\"viewpanel-pagingcount\").html(\" \" + from + \" - \" + to + \" \").appendTo(pagingControls);\n+  var pageControlsSpan = $('<span>').attr(\"id\", \"viewpanel-paging-current\");\n+  \n+  var pageInputSize = 20 + (8 * ui.dataTableView._lastPageNumber.toString().length);\n+  var currentPageInput = $('<input type=\"number\">')\n+    .change(function(evt) { self._onChangeGotoPage(this, evt); })\n+    .keydown(function(evt) { self._onKeyDownGotoPage(this, evt); })\n+    .attr(\"id\", \"viewpanel-paging-current-input\")\n+    .attr(\"min\", 1)\n+    .attr(\"max\", self._lastPageNumber)\n+    .attr(\"required\", \"required\")\n+    .val(self._currentPageNumber)\n+    .css(\"width\", pageInputSize +\"px\")\n+    .appendTo(pageControlsSpan);\n+\n+  pageControlsSpan.append('\u00a0of\u00a0');", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjgyNDAxNA=="}, "originalCommit": {"oid": "197897e8ceabeed2fe86725451f0b5322e266f41"}, "originalPosition": 44}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY5NTgzOTEwOnYy", "diffSide": "RIGHT", "path": "main/webapp/modules/core/scripts/views/data-table/data-table-view.js", "isResolved": false, "comments": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0zMFQwODo0OTo1M1rOGcxfOw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0zMFQyMzowNjowNFrOGc1xaw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjgyNDEyMw==", "bodyText": "Why do we need to rehook anything? Are you working around a specific browser bug? It would be good to add some comments to explain what is going on here.", "url": "https://github.com/OpenRefine/OpenRefine/pull/2639#discussion_r432824123", "createdAt": "2020-05-30T08:49:53Z", "author": {"login": "wetneb"}, "path": "main/webapp/modules/core/scripts/views/data-table/data-table-view.js", "diffHunk": "@@ -493,20 +517,80 @@ DataTableView.prototype._showRows = function(start, onDone) {\n   }, this._sorting);\n };\n \n+DataTableView.prototype._onChangeGotoPage = function(elmt, evt) {\n+  var gotoPageNumber = parseInt($('input#viewpanel-paging-current-input').val());\n+  \n+  if(typeof gotoPageNumber != \"number\" || isNaN(gotoPageNumber) || gotoPageNumber == \"\") { \n+    $('input#viewpanel-paging-current-input').val(this._currentPageNumber); \n+    return;\n+  }\n+  \n+  if(gotoPageNumber > this._lastPageNumber) gotoPageNumber = this._lastPageNumber;\n+  if(gotoPageNumber < 1) gotoPageNumber = 1;\n+  \n+  this._currentPageNumber = gotoPageNumber;\n+  this._showRows((gotoPageNumber - 1) * this._pageSize);\n+};\n+\n+DataTableView.prototype._onKeyDownGotoPage = function(elmt, evt) {\n+  var keyDownCode = event.which;\n+  \n+  if([38, 40].indexOf(keyDownCode) == -1) return;\n+  \n+  evt.preventDefault();\n+\n+  var newPageValue = $('input#viewpanel-paging-current-input')[0].value;\n+  if(keyDownCode == 38) {  // Up arrow\n+    if(newPageValue <= 1) return;\n+    this._onClickPreviousPage(elmt, evt);\n+  }\n+    \n+  if(keyDownCode == 40) {  // Down arrow\n+    if(newPageValue >= this._lastPageNumber) return;\n+    this._onClickNextPage(elmt, evt);\n+  }\n+  \n+  var rehookDelay = 50;\n+  var rehookCurrentPageInput = function() { ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "197897e8ceabeed2fe86725451f0b5322e266f41"}, "originalPosition": 92}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjgyODU4MQ==", "bodyText": "Why do we need to rehook anything? Are you working around a specific browser bug? It would be good to add some comments to explain what is going on here.\n\nHere, the code logic is simple. The  field, from what I understand, gets deleted with a page change. The data gets requeried for each page change, so a new field is created \u00ab\u00a0sometimes\u00a0\u00bb after. The joy with client/server roundtrip is that is take a very different time for the exact same task\u2026 network contribution and it's overhead I guess\u2026\nSo, I don't know \u00ab when\u00a0\u00bb the new field will exists. So, I come back quickly, but if the new field doesn't exist, then, I'll just comeback latter, as long as it takes\u2026\nIt is not the best coding choice, it's the less disruptive code change choice. Less change, potentially less breaking, but maybe not. It's not a hack, but it's not pure. A refactoring of the UI would be better, but development path wise, this now, and the Vue.js change after that, then fixing this would be very easy, I think. More than now anyway.", "url": "https://github.com/OpenRefine/OpenRefine/pull/2639#discussion_r432828581", "createdAt": "2020-05-30T10:03:28Z", "author": {"login": "antoine2711"}, "path": "main/webapp/modules/core/scripts/views/data-table/data-table-view.js", "diffHunk": "@@ -493,20 +517,80 @@ DataTableView.prototype._showRows = function(start, onDone) {\n   }, this._sorting);\n };\n \n+DataTableView.prototype._onChangeGotoPage = function(elmt, evt) {\n+  var gotoPageNumber = parseInt($('input#viewpanel-paging-current-input').val());\n+  \n+  if(typeof gotoPageNumber != \"number\" || isNaN(gotoPageNumber) || gotoPageNumber == \"\") { \n+    $('input#viewpanel-paging-current-input').val(this._currentPageNumber); \n+    return;\n+  }\n+  \n+  if(gotoPageNumber > this._lastPageNumber) gotoPageNumber = this._lastPageNumber;\n+  if(gotoPageNumber < 1) gotoPageNumber = 1;\n+  \n+  this._currentPageNumber = gotoPageNumber;\n+  this._showRows((gotoPageNumber - 1) * this._pageSize);\n+};\n+\n+DataTableView.prototype._onKeyDownGotoPage = function(elmt, evt) {\n+  var keyDownCode = event.which;\n+  \n+  if([38, 40].indexOf(keyDownCode) == -1) return;\n+  \n+  evt.preventDefault();\n+\n+  var newPageValue = $('input#viewpanel-paging-current-input')[0].value;\n+  if(keyDownCode == 38) {  // Up arrow\n+    if(newPageValue <= 1) return;\n+    this._onClickPreviousPage(elmt, evt);\n+  }\n+    \n+  if(keyDownCode == 40) {  // Down arrow\n+    if(newPageValue >= this._lastPageNumber) return;\n+    this._onClickNextPage(elmt, evt);\n+  }\n+  \n+  var rehookDelay = 50;\n+  var rehookCurrentPageInput = function() { ", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjgyNDEyMw=="}, "originalCommit": {"oid": "197897e8ceabeed2fe86725451f0b5322e266f41"}, "originalPosition": 92}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjgzMjA2Mw==", "bodyText": "I have heard you talking about \"the Vue.js change\" before but I am not aware of anyone planning to do that soon, unless @lisa761 has expressed the wish to do this during the GSoC project?\nI understand you do not want to introduce code changes that are too involved but I am not comfortable with merging a hack like that, it could easily break if the update takes longer then 50ms.", "url": "https://github.com/OpenRefine/OpenRefine/pull/2639#discussion_r432832063", "createdAt": "2020-05-30T10:58:54Z", "author": {"login": "wetneb"}, "path": "main/webapp/modules/core/scripts/views/data-table/data-table-view.js", "diffHunk": "@@ -493,20 +517,80 @@ DataTableView.prototype._showRows = function(start, onDone) {\n   }, this._sorting);\n };\n \n+DataTableView.prototype._onChangeGotoPage = function(elmt, evt) {\n+  var gotoPageNumber = parseInt($('input#viewpanel-paging-current-input').val());\n+  \n+  if(typeof gotoPageNumber != \"number\" || isNaN(gotoPageNumber) || gotoPageNumber == \"\") { \n+    $('input#viewpanel-paging-current-input').val(this._currentPageNumber); \n+    return;\n+  }\n+  \n+  if(gotoPageNumber > this._lastPageNumber) gotoPageNumber = this._lastPageNumber;\n+  if(gotoPageNumber < 1) gotoPageNumber = 1;\n+  \n+  this._currentPageNumber = gotoPageNumber;\n+  this._showRows((gotoPageNumber - 1) * this._pageSize);\n+};\n+\n+DataTableView.prototype._onKeyDownGotoPage = function(elmt, evt) {\n+  var keyDownCode = event.which;\n+  \n+  if([38, 40].indexOf(keyDownCode) == -1) return;\n+  \n+  evt.preventDefault();\n+\n+  var newPageValue = $('input#viewpanel-paging-current-input')[0].value;\n+  if(keyDownCode == 38) {  // Up arrow\n+    if(newPageValue <= 1) return;\n+    this._onClickPreviousPage(elmt, evt);\n+  }\n+    \n+  if(keyDownCode == 40) {  // Down arrow\n+    if(newPageValue >= this._lastPageNumber) return;\n+    this._onClickNextPage(elmt, evt);\n+  }\n+  \n+  var rehookDelay = 50;\n+  var rehookCurrentPageInput = function() { ", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjgyNDEyMw=="}, "originalCommit": {"oid": "197897e8ceabeed2fe86725451f0b5322e266f41"}, "originalPosition": 92}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjg2Njg3Nw==", "bodyText": "@wetneb But is it an actual \"break\" that's not quickly recoverable by a user? Where the UX is completely locked up?  I don't think so, right?  This would just appear to the user that things don't update...they click in another area of the UI to refocus in some other area, then the UX is recovered.  No?  Or am I missing something?", "url": "https://github.com/OpenRefine/OpenRefine/pull/2639#discussion_r432866877", "createdAt": "2020-05-30T16:11:21Z", "author": {"login": "thadguidry"}, "path": "main/webapp/modules/core/scripts/views/data-table/data-table-view.js", "diffHunk": "@@ -493,20 +517,80 @@ DataTableView.prototype._showRows = function(start, onDone) {\n   }, this._sorting);\n };\n \n+DataTableView.prototype._onChangeGotoPage = function(elmt, evt) {\n+  var gotoPageNumber = parseInt($('input#viewpanel-paging-current-input').val());\n+  \n+  if(typeof gotoPageNumber != \"number\" || isNaN(gotoPageNumber) || gotoPageNumber == \"\") { \n+    $('input#viewpanel-paging-current-input').val(this._currentPageNumber); \n+    return;\n+  }\n+  \n+  if(gotoPageNumber > this._lastPageNumber) gotoPageNumber = this._lastPageNumber;\n+  if(gotoPageNumber < 1) gotoPageNumber = 1;\n+  \n+  this._currentPageNumber = gotoPageNumber;\n+  this._showRows((gotoPageNumber - 1) * this._pageSize);\n+};\n+\n+DataTableView.prototype._onKeyDownGotoPage = function(elmt, evt) {\n+  var keyDownCode = event.which;\n+  \n+  if([38, 40].indexOf(keyDownCode) == -1) return;\n+  \n+  evt.preventDefault();\n+\n+  var newPageValue = $('input#viewpanel-paging-current-input')[0].value;\n+  if(keyDownCode == 38) {  // Up arrow\n+    if(newPageValue <= 1) return;\n+    this._onClickPreviousPage(elmt, evt);\n+  }\n+    \n+  if(keyDownCode == 40) {  // Down arrow\n+    if(newPageValue >= this._lastPageNumber) return;\n+    this._onClickNextPage(elmt, evt);\n+  }\n+  \n+  var rehookDelay = 50;\n+  var rehookCurrentPageInput = function() { ", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjgyNDEyMw=="}, "originalCommit": {"oid": "197897e8ceabeed2fe86725451f0b5322e266f41"}, "originalPosition": 92}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjg3ODAyNg==", "bodyText": "I have heard you talking about \"the Vue.js change\" before but I am not aware of anyone planning to do that soon, unless @lisa761 has expressed the wish to do this during the GSoC project?\n\nI was referring to #1312. But it seams it's dropped since a few days\u2026\n\nI understand you do not want to introduce code changes that are too involved but I am not comfortable with merging a hack like that, it could easily break if the update takes longer then 50ms.\n\nThis is not what it does: if after 50ms, it doesn't see the <input> it reschedule a check in the next 50 ms. And it will do that as long as it takes.\nWhat I don't like about this, is that if there is a recurring error, then the mechanism will always be retriggered. That it's limitation. Now, that \u00ab shouldn't \u00bb happen, but it could in particular circonstances.\nLike, if this feature was to be pushed in v3.4, I wouldn't not put \u00ab Infinite Paging\u00a0\u00bb in it. But, in v3.5, I would put it.\nRegards,\nAntoine", "url": "https://github.com/OpenRefine/OpenRefine/pull/2639#discussion_r432878026", "createdAt": "2020-05-30T18:47:56Z", "author": {"login": "antoine2711"}, "path": "main/webapp/modules/core/scripts/views/data-table/data-table-view.js", "diffHunk": "@@ -493,20 +517,80 @@ DataTableView.prototype._showRows = function(start, onDone) {\n   }, this._sorting);\n };\n \n+DataTableView.prototype._onChangeGotoPage = function(elmt, evt) {\n+  var gotoPageNumber = parseInt($('input#viewpanel-paging-current-input').val());\n+  \n+  if(typeof gotoPageNumber != \"number\" || isNaN(gotoPageNumber) || gotoPageNumber == \"\") { \n+    $('input#viewpanel-paging-current-input').val(this._currentPageNumber); \n+    return;\n+  }\n+  \n+  if(gotoPageNumber > this._lastPageNumber) gotoPageNumber = this._lastPageNumber;\n+  if(gotoPageNumber < 1) gotoPageNumber = 1;\n+  \n+  this._currentPageNumber = gotoPageNumber;\n+  this._showRows((gotoPageNumber - 1) * this._pageSize);\n+};\n+\n+DataTableView.prototype._onKeyDownGotoPage = function(elmt, evt) {\n+  var keyDownCode = event.which;\n+  \n+  if([38, 40].indexOf(keyDownCode) == -1) return;\n+  \n+  evt.preventDefault();\n+\n+  var newPageValue = $('input#viewpanel-paging-current-input')[0].value;\n+  if(keyDownCode == 38) {  // Up arrow\n+    if(newPageValue <= 1) return;\n+    this._onClickPreviousPage(elmt, evt);\n+  }\n+    \n+  if(keyDownCode == 40) {  // Down arrow\n+    if(newPageValue >= this._lastPageNumber) return;\n+    this._onClickNextPage(elmt, evt);\n+  }\n+  \n+  var rehookDelay = 50;\n+  var rehookCurrentPageInput = function() { ", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjgyNDEyMw=="}, "originalCommit": {"oid": "197897e8ceabeed2fe86725451f0b5322e266f41"}, "originalPosition": 92}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjg5NDMxNQ==", "bodyText": "Oups. I'm sorry. My comment is about code not pushed on server.\nNow, what I have is clean. It's recursive, and has a fail safe to stop after x times.\nRegards,\nAntoine", "url": "https://github.com/OpenRefine/OpenRefine/pull/2639#discussion_r432894315", "createdAt": "2020-05-30T23:06:04Z", "author": {"login": "antoine2711"}, "path": "main/webapp/modules/core/scripts/views/data-table/data-table-view.js", "diffHunk": "@@ -493,20 +517,80 @@ DataTableView.prototype._showRows = function(start, onDone) {\n   }, this._sorting);\n };\n \n+DataTableView.prototype._onChangeGotoPage = function(elmt, evt) {\n+  var gotoPageNumber = parseInt($('input#viewpanel-paging-current-input').val());\n+  \n+  if(typeof gotoPageNumber != \"number\" || isNaN(gotoPageNumber) || gotoPageNumber == \"\") { \n+    $('input#viewpanel-paging-current-input').val(this._currentPageNumber); \n+    return;\n+  }\n+  \n+  if(gotoPageNumber > this._lastPageNumber) gotoPageNumber = this._lastPageNumber;\n+  if(gotoPageNumber < 1) gotoPageNumber = 1;\n+  \n+  this._currentPageNumber = gotoPageNumber;\n+  this._showRows((gotoPageNumber - 1) * this._pageSize);\n+};\n+\n+DataTableView.prototype._onKeyDownGotoPage = function(elmt, evt) {\n+  var keyDownCode = event.which;\n+  \n+  if([38, 40].indexOf(keyDownCode) == -1) return;\n+  \n+  evt.preventDefault();\n+\n+  var newPageValue = $('input#viewpanel-paging-current-input')[0].value;\n+  if(keyDownCode == 38) {  // Up arrow\n+    if(newPageValue <= 1) return;\n+    this._onClickPreviousPage(elmt, evt);\n+  }\n+    \n+  if(keyDownCode == 40) {  // Down arrow\n+    if(newPageValue >= this._lastPageNumber) return;\n+    this._onClickNextPage(elmt, evt);\n+  }\n+  \n+  var rehookDelay = 50;\n+  var rehookCurrentPageInput = function() { ", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjgyNDEyMw=="}, "originalCommit": {"oid": "197897e8ceabeed2fe86725451f0b5322e266f41"}, "originalPosition": 92}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcyNjI4MDQxOnYy", "diffSide": "RIGHT", "path": "main/webapp/modules/core/scripts/views/data-table/data-table-view.js", "isResolved": false, "comments": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQxODowOTo1OFrOGhWZjg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQyMDo1MTo0OFrOGiuWnw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzYyMzE4Mg==", "bodyText": "By principle I do not think we should start relying on timeouts like this to build the UI. If the DOM element is deleted and re-added somewhere, then the code to bind events on it should be placed there, in the code that sets it up.", "url": "https://github.com/OpenRefine/OpenRefine/pull/2639#discussion_r437623182", "createdAt": "2020-06-09T18:09:58Z", "author": {"login": "wetneb"}, "path": "main/webapp/modules/core/scripts/views/data-table/data-table-view.js", "diffHunk": "@@ -493,20 +513,85 @@ DataTableView.prototype._showRows = function(start, onDone) {\n   }, this._sorting);\n };\n \n+DataTableView.prototype._onChangeGotoPage = function(elmt, evt) {\n+  var gotoPageNumber = parseInt($('input#viewpanel-paging-current-input').val());\n+  \n+  if(typeof gotoPageNumber != \"number\" || isNaN(gotoPageNumber) || gotoPageNumber == \"\") { \n+    $('input#viewpanel-paging-current-input').val(this._currentPageNumber); \n+    return;\n+  }\n+  \n+  if(gotoPageNumber > this._lastPageNumber) gotoPageNumber = this._lastPageNumber;\n+  if(gotoPageNumber < 1) gotoPageNumber = 1;\n+  \n+  this._currentPageNumber = gotoPageNumber;\n+  this._showRows((gotoPageNumber - 1) * this._pageSize);\n+};\n+\n+DataTableView.prototype._onKeyDownGotoPage = function(elmt, evt) {\n+  var keyDownCode = event.which;\n+  \n+  if([38, 40].indexOf(keyDownCode) == -1) return;\n+  \n+  evt.preventDefault();\n+\n+  var newPageValue = $('input#viewpanel-paging-current-input')[0].value;\n+  if(keyDownCode == 38) {  // Up arrow\n+    if(newPageValue <= 1) return;\n+    this._onClickPreviousPage(elmt, evt);\n+  }\n+    \n+  if(keyDownCode == 40) {  // Down arrow\n+    if(newPageValue >= this._lastPageNumber) return;\n+    this._onClickNextPage(elmt, evt);\n+  }\n+  \n+  // For the arrow keys, in order to have a keyDownRepeat, we have to put the focus back on the \u00ab currentPageInput \u00bb\n+  // The <input> seams to be deleted and recreated, so we wait with a few setTimeout() until it is there, unless 1 s. elapse, then we stop\n+  const refocusDelay = 50;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "00e5e67afdebaeee83812224ffade1aac190a2d1"}, "originalPosition": 105}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzY5MDM0Ng==", "bodyText": "By principle I do not think we should start relying on timeouts like this to build the UI.\nYes, I agree with you that.\n\n\nIf the DOM element is deleted and re-added somewhere, then the code to bind events on it should be placed there, in the code that sets it up.\n\n@wetneb: rebinding is not the problem, it's probably already done. What we have here is the need to \u00ab refocus\u00a0\u00bb inside the next input field.\nMe, I think the best way would just be to not delete the input, then, you have nothing to do more. The setTimeout is just compensation required by that fact that the paging control are deleted/recreated each time a page changes. It could be much more gentle in the code.\nSo, I guess we should just drop this \u00ab Infinite Paging \u00bb with the arrow keys. It's not important, and I coded it because @thadguidry wanted to try that, but it is beyond the scope of this issue. When @lisa761 will be done with the table code overhaul, I can revisit this. But now, either we live with it as is, or we remove it. I doesn't break at all on Chrome, so it's not a bad coding.\nMaybe I don't understand what you mean by \u00ab then the code to bind events on it should be placed there, in the code that sets it up. \u00bb because from what I see, it gets rebinded after being rebuilt.\nRegards,\nAntoine", "url": "https://github.com/OpenRefine/OpenRefine/pull/2639#discussion_r437690346", "createdAt": "2020-06-09T20:12:58Z", "author": {"login": "antoine2711"}, "path": "main/webapp/modules/core/scripts/views/data-table/data-table-view.js", "diffHunk": "@@ -493,20 +513,85 @@ DataTableView.prototype._showRows = function(start, onDone) {\n   }, this._sorting);\n };\n \n+DataTableView.prototype._onChangeGotoPage = function(elmt, evt) {\n+  var gotoPageNumber = parseInt($('input#viewpanel-paging-current-input').val());\n+  \n+  if(typeof gotoPageNumber != \"number\" || isNaN(gotoPageNumber) || gotoPageNumber == \"\") { \n+    $('input#viewpanel-paging-current-input').val(this._currentPageNumber); \n+    return;\n+  }\n+  \n+  if(gotoPageNumber > this._lastPageNumber) gotoPageNumber = this._lastPageNumber;\n+  if(gotoPageNumber < 1) gotoPageNumber = 1;\n+  \n+  this._currentPageNumber = gotoPageNumber;\n+  this._showRows((gotoPageNumber - 1) * this._pageSize);\n+};\n+\n+DataTableView.prototype._onKeyDownGotoPage = function(elmt, evt) {\n+  var keyDownCode = event.which;\n+  \n+  if([38, 40].indexOf(keyDownCode) == -1) return;\n+  \n+  evt.preventDefault();\n+\n+  var newPageValue = $('input#viewpanel-paging-current-input')[0].value;\n+  if(keyDownCode == 38) {  // Up arrow\n+    if(newPageValue <= 1) return;\n+    this._onClickPreviousPage(elmt, evt);\n+  }\n+    \n+  if(keyDownCode == 40) {  // Down arrow\n+    if(newPageValue >= this._lastPageNumber) return;\n+    this._onClickNextPage(elmt, evt);\n+  }\n+  \n+  // For the arrow keys, in order to have a keyDownRepeat, we have to put the focus back on the \u00ab currentPageInput \u00bb\n+  // The <input> seams to be deleted and recreated, so we wait with a few setTimeout() until it is there, unless 1 s. elapse, then we stop\n+  const refocusDelay = 50;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzYyMzE4Mg=="}, "originalCommit": {"oid": "00e5e67afdebaeee83812224ffade1aac190a2d1"}, "originalPosition": 105}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzczNDg1Ng==", "bodyText": "What I mean is that we should not rely on any timeouts to refocus / rebind / do any other type of set-up on the UI. Just use callbacks that are executed when some elements are created / deleted / other lifecycle events. This is just to avoid building up technical dept, running into situations were we have to deal with various race conditions between the timeouts, and so on.", "url": "https://github.com/OpenRefine/OpenRefine/pull/2639#discussion_r437734856", "createdAt": "2020-06-09T21:32:20Z", "author": {"login": "wetneb"}, "path": "main/webapp/modules/core/scripts/views/data-table/data-table-view.js", "diffHunk": "@@ -493,20 +513,85 @@ DataTableView.prototype._showRows = function(start, onDone) {\n   }, this._sorting);\n };\n \n+DataTableView.prototype._onChangeGotoPage = function(elmt, evt) {\n+  var gotoPageNumber = parseInt($('input#viewpanel-paging-current-input').val());\n+  \n+  if(typeof gotoPageNumber != \"number\" || isNaN(gotoPageNumber) || gotoPageNumber == \"\") { \n+    $('input#viewpanel-paging-current-input').val(this._currentPageNumber); \n+    return;\n+  }\n+  \n+  if(gotoPageNumber > this._lastPageNumber) gotoPageNumber = this._lastPageNumber;\n+  if(gotoPageNumber < 1) gotoPageNumber = 1;\n+  \n+  this._currentPageNumber = gotoPageNumber;\n+  this._showRows((gotoPageNumber - 1) * this._pageSize);\n+};\n+\n+DataTableView.prototype._onKeyDownGotoPage = function(elmt, evt) {\n+  var keyDownCode = event.which;\n+  \n+  if([38, 40].indexOf(keyDownCode) == -1) return;\n+  \n+  evt.preventDefault();\n+\n+  var newPageValue = $('input#viewpanel-paging-current-input')[0].value;\n+  if(keyDownCode == 38) {  // Up arrow\n+    if(newPageValue <= 1) return;\n+    this._onClickPreviousPage(elmt, evt);\n+  }\n+    \n+  if(keyDownCode == 40) {  // Down arrow\n+    if(newPageValue >= this._lastPageNumber) return;\n+    this._onClickNextPage(elmt, evt);\n+  }\n+  \n+  // For the arrow keys, in order to have a keyDownRepeat, we have to put the focus back on the \u00ab currentPageInput \u00bb\n+  // The <input> seams to be deleted and recreated, so we wait with a few setTimeout() until it is there, unless 1 s. elapse, then we stop\n+  const refocusDelay = 50;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzYyMzE4Mg=="}, "originalCommit": {"oid": "00e5e67afdebaeee83812224ffade1aac190a2d1"}, "originalPosition": 105}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzc4MDI0MQ==", "bodyText": "What I mean is that we should not rely on any timeouts to refocus / rebind / do any other type of set-up on the UI. Just use callbacks that are executed when some elements are created / deleted / other lifecycle events. This is just to avoid building up technical deepth, running into situations were we have to deal with various race conditions between the timeouts, and so on.\n\n@wetneb: ok, I get something in my mind now with what you write. K. A very simple fix would be: everytime the (data table\u2019s) page is loaded, that focus goes to the field. That way, I could just remove my coding for setTimeout, and all will work with one or two lines.\nWhat do you think of that?\nRegards,\nAntoine", "url": "https://github.com/OpenRefine/OpenRefine/pull/2639#discussion_r437780241", "createdAt": "2020-06-09T23:38:16Z", "author": {"login": "antoine2711"}, "path": "main/webapp/modules/core/scripts/views/data-table/data-table-view.js", "diffHunk": "@@ -493,20 +513,85 @@ DataTableView.prototype._showRows = function(start, onDone) {\n   }, this._sorting);\n };\n \n+DataTableView.prototype._onChangeGotoPage = function(elmt, evt) {\n+  var gotoPageNumber = parseInt($('input#viewpanel-paging-current-input').val());\n+  \n+  if(typeof gotoPageNumber != \"number\" || isNaN(gotoPageNumber) || gotoPageNumber == \"\") { \n+    $('input#viewpanel-paging-current-input').val(this._currentPageNumber); \n+    return;\n+  }\n+  \n+  if(gotoPageNumber > this._lastPageNumber) gotoPageNumber = this._lastPageNumber;\n+  if(gotoPageNumber < 1) gotoPageNumber = 1;\n+  \n+  this._currentPageNumber = gotoPageNumber;\n+  this._showRows((gotoPageNumber - 1) * this._pageSize);\n+};\n+\n+DataTableView.prototype._onKeyDownGotoPage = function(elmt, evt) {\n+  var keyDownCode = event.which;\n+  \n+  if([38, 40].indexOf(keyDownCode) == -1) return;\n+  \n+  evt.preventDefault();\n+\n+  var newPageValue = $('input#viewpanel-paging-current-input')[0].value;\n+  if(keyDownCode == 38) {  // Up arrow\n+    if(newPageValue <= 1) return;\n+    this._onClickPreviousPage(elmt, evt);\n+  }\n+    \n+  if(keyDownCode == 40) {  // Down arrow\n+    if(newPageValue >= this._lastPageNumber) return;\n+    this._onClickNextPage(elmt, evt);\n+  }\n+  \n+  // For the arrow keys, in order to have a keyDownRepeat, we have to put the focus back on the \u00ab currentPageInput \u00bb\n+  // The <input> seams to be deleted and recreated, so we wait with a few setTimeout() until it is there, unless 1 s. elapse, then we stop\n+  const refocusDelay = 50;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzYyMzE4Mg=="}, "originalCommit": {"oid": "00e5e67afdebaeee83812224ffade1aac190a2d1"}, "originalPosition": 105}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzkwMjQyOQ==", "bodyText": "It does sound better to me!", "url": "https://github.com/OpenRefine/OpenRefine/pull/2639#discussion_r437902429", "createdAt": "2020-06-10T07:04:32Z", "author": {"login": "wetneb"}, "path": "main/webapp/modules/core/scripts/views/data-table/data-table-view.js", "diffHunk": "@@ -493,20 +513,85 @@ DataTableView.prototype._showRows = function(start, onDone) {\n   }, this._sorting);\n };\n \n+DataTableView.prototype._onChangeGotoPage = function(elmt, evt) {\n+  var gotoPageNumber = parseInt($('input#viewpanel-paging-current-input').val());\n+  \n+  if(typeof gotoPageNumber != \"number\" || isNaN(gotoPageNumber) || gotoPageNumber == \"\") { \n+    $('input#viewpanel-paging-current-input').val(this._currentPageNumber); \n+    return;\n+  }\n+  \n+  if(gotoPageNumber > this._lastPageNumber) gotoPageNumber = this._lastPageNumber;\n+  if(gotoPageNumber < 1) gotoPageNumber = 1;\n+  \n+  this._currentPageNumber = gotoPageNumber;\n+  this._showRows((gotoPageNumber - 1) * this._pageSize);\n+};\n+\n+DataTableView.prototype._onKeyDownGotoPage = function(elmt, evt) {\n+  var keyDownCode = event.which;\n+  \n+  if([38, 40].indexOf(keyDownCode) == -1) return;\n+  \n+  evt.preventDefault();\n+\n+  var newPageValue = $('input#viewpanel-paging-current-input')[0].value;\n+  if(keyDownCode == 38) {  // Up arrow\n+    if(newPageValue <= 1) return;\n+    this._onClickPreviousPage(elmt, evt);\n+  }\n+    \n+  if(keyDownCode == 40) {  // Down arrow\n+    if(newPageValue >= this._lastPageNumber) return;\n+    this._onClickNextPage(elmt, evt);\n+  }\n+  \n+  // For the arrow keys, in order to have a keyDownRepeat, we have to put the focus back on the \u00ab currentPageInput \u00bb\n+  // The <input> seams to be deleted and recreated, so we wait with a few setTimeout() until it is there, unless 1 s. elapse, then we stop\n+  const refocusDelay = 50;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzYyMzE4Mg=="}, "originalCommit": {"oid": "00e5e67afdebaeee83812224ffade1aac190a2d1"}, "originalPosition": 105}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzk2NDg3NA==", "bodyText": "It does sound better to me!\n\nEt voil\u00e0 !\n@wetneb: It's fixed. And now, it even works perfectly in FF, not just Chrome.\nNow, I guess it's done! ;-)\nRegards,\nAntoine", "url": "https://github.com/OpenRefine/OpenRefine/pull/2639#discussion_r437964874", "createdAt": "2020-06-10T08:50:18Z", "author": {"login": "antoine2711"}, "path": "main/webapp/modules/core/scripts/views/data-table/data-table-view.js", "diffHunk": "@@ -493,20 +513,85 @@ DataTableView.prototype._showRows = function(start, onDone) {\n   }, this._sorting);\n };\n \n+DataTableView.prototype._onChangeGotoPage = function(elmt, evt) {\n+  var gotoPageNumber = parseInt($('input#viewpanel-paging-current-input').val());\n+  \n+  if(typeof gotoPageNumber != \"number\" || isNaN(gotoPageNumber) || gotoPageNumber == \"\") { \n+    $('input#viewpanel-paging-current-input').val(this._currentPageNumber); \n+    return;\n+  }\n+  \n+  if(gotoPageNumber > this._lastPageNumber) gotoPageNumber = this._lastPageNumber;\n+  if(gotoPageNumber < 1) gotoPageNumber = 1;\n+  \n+  this._currentPageNumber = gotoPageNumber;\n+  this._showRows((gotoPageNumber - 1) * this._pageSize);\n+};\n+\n+DataTableView.prototype._onKeyDownGotoPage = function(elmt, evt) {\n+  var keyDownCode = event.which;\n+  \n+  if([38, 40].indexOf(keyDownCode) == -1) return;\n+  \n+  evt.preventDefault();\n+\n+  var newPageValue = $('input#viewpanel-paging-current-input')[0].value;\n+  if(keyDownCode == 38) {  // Up arrow\n+    if(newPageValue <= 1) return;\n+    this._onClickPreviousPage(elmt, evt);\n+  }\n+    \n+  if(keyDownCode == 40) {  // Down arrow\n+    if(newPageValue >= this._lastPageNumber) return;\n+    this._onClickNextPage(elmt, evt);\n+  }\n+  \n+  // For the arrow keys, in order to have a keyDownRepeat, we have to put the focus back on the \u00ab currentPageInput \u00bb\n+  // The <input> seams to be deleted and recreated, so we wait with a few setTimeout() until it is there, unless 1 s. elapse, then we stop\n+  const refocusDelay = 50;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzYyMzE4Mg=="}, "originalCommit": {"oid": "00e5e67afdebaeee83812224ffade1aac190a2d1"}, "originalPosition": 105}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTA2NDIyMw==", "bodyText": "Yeap, can confirm this works well in FF now for me.", "url": "https://github.com/OpenRefine/OpenRefine/pull/2639#discussion_r439064223", "createdAt": "2020-06-11T20:51:48Z", "author": {"login": "thadguidry"}, "path": "main/webapp/modules/core/scripts/views/data-table/data-table-view.js", "diffHunk": "@@ -493,20 +513,85 @@ DataTableView.prototype._showRows = function(start, onDone) {\n   }, this._sorting);\n };\n \n+DataTableView.prototype._onChangeGotoPage = function(elmt, evt) {\n+  var gotoPageNumber = parseInt($('input#viewpanel-paging-current-input').val());\n+  \n+  if(typeof gotoPageNumber != \"number\" || isNaN(gotoPageNumber) || gotoPageNumber == \"\") { \n+    $('input#viewpanel-paging-current-input').val(this._currentPageNumber); \n+    return;\n+  }\n+  \n+  if(gotoPageNumber > this._lastPageNumber) gotoPageNumber = this._lastPageNumber;\n+  if(gotoPageNumber < 1) gotoPageNumber = 1;\n+  \n+  this._currentPageNumber = gotoPageNumber;\n+  this._showRows((gotoPageNumber - 1) * this._pageSize);\n+};\n+\n+DataTableView.prototype._onKeyDownGotoPage = function(elmt, evt) {\n+  var keyDownCode = event.which;\n+  \n+  if([38, 40].indexOf(keyDownCode) == -1) return;\n+  \n+  evt.preventDefault();\n+\n+  var newPageValue = $('input#viewpanel-paging-current-input')[0].value;\n+  if(keyDownCode == 38) {  // Up arrow\n+    if(newPageValue <= 1) return;\n+    this._onClickPreviousPage(elmt, evt);\n+  }\n+    \n+  if(keyDownCode == 40) {  // Down arrow\n+    if(newPageValue >= this._lastPageNumber) return;\n+    this._onClickNextPage(elmt, evt);\n+  }\n+  \n+  // For the arrow keys, in order to have a keyDownRepeat, we have to put the focus back on the \u00ab currentPageInput \u00bb\n+  // The <input> seams to be deleted and recreated, so we wait with a few setTimeout() until it is there, unless 1 s. elapse, then we stop\n+  const refocusDelay = 50;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzYyMzE4Mg=="}, "originalCommit": {"oid": "00e5e67afdebaeee83812224ffade1aac190a2d1"}, "originalPosition": 105}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc0MTA5MzYzOnYy", "diffSide": "RIGHT", "path": "main/webapp/modules/core/scripts/views/data-table/data-table-view.js", "isResolved": false, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQwNjo1NjozMFrOGjlWEg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQxOTo1NzowM1rOGkq_qg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTk2NTIwMg==", "bodyText": "There is still a setTimeout here :)", "url": "https://github.com/OpenRefine/OpenRefine/pull/2639#discussion_r439965202", "createdAt": "2020-06-15T06:56:30Z", "author": {"login": "wetneb"}, "path": "main/webapp/modules/core/scripts/views/data-table/data-table-view.js", "diffHunk": "@@ -173,8 +179,32 @@ DataTableView.prototype._renderPagingControls = function(pageSizeControls, pagin\n     previousPage.addClass(\"inaction\");\n   }\n \n-  $('<span>').addClass(\"viewpanel-pagingcount\").html(\" \" + from + \" - \" + to + \" \").appendTo(pagingControls);\n+  var pageControlsSpan = $('<span>').attr(\"id\", \"viewpanel-paging-current\");\n+  \n+  var pageInputSize = 20 + (8 * ui.dataTableView._lastPageNumber.toString().length);\n+  var currentPageInput = $('<input type=\"number\">')\n+    .change(function(evt) { self._onChangeGotoPage(this, evt); })\n+    .keydown(function(evt) { self._onKeyDownGotoPage(this, evt); })\n+    .attr(\"id\", \"viewpanel-paging-current-input\")\n+    .attr(\"min\", 1)\n+    .attr(\"max\", self._lastPageNumber)\n+    .attr(\"required\", \"required\")\n+    .val(self._currentPageNumber)\n+    .css(\"width\", pageInputSize +\"px\");\n+    \n+  pageControlsSpan.append($.i18n('core-views/goto-page', '<span id=\"currentPageInput\" />', self._lastPageNumber));\n+  pageControlsSpan.appendTo(pagingControls);\n \n+  $('span#currentPageInput').replaceWith($(currentPageInput));\n+  \n+  if(self._refocusPageInput == true) { \n+    self._refocusPageInput = false;\n+    var currentPageInput = $('input#viewpanel-paging-current-input');\n+    currentPageInput.ready(function(evt) { \n+      (new Promise(resolve => setTimeout(resolve, 1000))).then(currentPageInput.focus()); ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f3c6e776b6d728efe976fe96a42255c956b5c1d3"}, "originalPosition": 71}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTk3MTc2MA==", "bodyText": "There is still a setTimeout here :)\n\n@wetneb: yes, but this one is very clean. It's to make the \u00ab scrolling\u00a0\u00bb thru pages not too fast. It keeps every page at less 1 s.\nIf you have a better delay strategy, please advise me.\nRegards,\nAntoine", "url": "https://github.com/OpenRefine/OpenRefine/pull/2639#discussion_r439971760", "createdAt": "2020-06-15T07:12:30Z", "author": {"login": "antoine2711"}, "path": "main/webapp/modules/core/scripts/views/data-table/data-table-view.js", "diffHunk": "@@ -173,8 +179,32 @@ DataTableView.prototype._renderPagingControls = function(pageSizeControls, pagin\n     previousPage.addClass(\"inaction\");\n   }\n \n-  $('<span>').addClass(\"viewpanel-pagingcount\").html(\" \" + from + \" - \" + to + \" \").appendTo(pagingControls);\n+  var pageControlsSpan = $('<span>').attr(\"id\", \"viewpanel-paging-current\");\n+  \n+  var pageInputSize = 20 + (8 * ui.dataTableView._lastPageNumber.toString().length);\n+  var currentPageInput = $('<input type=\"number\">')\n+    .change(function(evt) { self._onChangeGotoPage(this, evt); })\n+    .keydown(function(evt) { self._onKeyDownGotoPage(this, evt); })\n+    .attr(\"id\", \"viewpanel-paging-current-input\")\n+    .attr(\"min\", 1)\n+    .attr(\"max\", self._lastPageNumber)\n+    .attr(\"required\", \"required\")\n+    .val(self._currentPageNumber)\n+    .css(\"width\", pageInputSize +\"px\");\n+    \n+  pageControlsSpan.append($.i18n('core-views/goto-page', '<span id=\"currentPageInput\" />', self._lastPageNumber));\n+  pageControlsSpan.appendTo(pagingControls);\n \n+  $('span#currentPageInput').replaceWith($(currentPageInput));\n+  \n+  if(self._refocusPageInput == true) { \n+    self._refocusPageInput = false;\n+    var currentPageInput = $('input#viewpanel-paging-current-input');\n+    currentPageInput.ready(function(evt) { \n+      (new Promise(resolve => setTimeout(resolve, 1000))).then(currentPageInput.focus()); ", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTk2NTIwMg=="}, "originalCommit": {"oid": "f3c6e776b6d728efe976fe96a42255c956b5c1d3"}, "originalPosition": 71}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDk5MjE3NA==", "bodyText": "ok fair enough, I will test this as a user now, and might go back to this later on when I understand its role better.", "url": "https://github.com/OpenRefine/OpenRefine/pull/2639#discussion_r440992174", "createdAt": "2020-06-16T16:39:49Z", "author": {"login": "wetneb"}, "path": "main/webapp/modules/core/scripts/views/data-table/data-table-view.js", "diffHunk": "@@ -173,8 +179,32 @@ DataTableView.prototype._renderPagingControls = function(pageSizeControls, pagin\n     previousPage.addClass(\"inaction\");\n   }\n \n-  $('<span>').addClass(\"viewpanel-pagingcount\").html(\" \" + from + \" - \" + to + \" \").appendTo(pagingControls);\n+  var pageControlsSpan = $('<span>').attr(\"id\", \"viewpanel-paging-current\");\n+  \n+  var pageInputSize = 20 + (8 * ui.dataTableView._lastPageNumber.toString().length);\n+  var currentPageInput = $('<input type=\"number\">')\n+    .change(function(evt) { self._onChangeGotoPage(this, evt); })\n+    .keydown(function(evt) { self._onKeyDownGotoPage(this, evt); })\n+    .attr(\"id\", \"viewpanel-paging-current-input\")\n+    .attr(\"min\", 1)\n+    .attr(\"max\", self._lastPageNumber)\n+    .attr(\"required\", \"required\")\n+    .val(self._currentPageNumber)\n+    .css(\"width\", pageInputSize +\"px\");\n+    \n+  pageControlsSpan.append($.i18n('core-views/goto-page', '<span id=\"currentPageInput\" />', self._lastPageNumber));\n+  pageControlsSpan.appendTo(pagingControls);\n \n+  $('span#currentPageInput').replaceWith($(currentPageInput));\n+  \n+  if(self._refocusPageInput == true) { \n+    self._refocusPageInput = false;\n+    var currentPageInput = $('input#viewpanel-paging-current-input');\n+    currentPageInput.ready(function(evt) { \n+      (new Promise(resolve => setTimeout(resolve, 1000))).then(currentPageInput.focus()); ", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTk2NTIwMg=="}, "originalCommit": {"oid": "f3c6e776b6d728efe976fe96a42255c956b5c1d3"}, "originalPosition": 71}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTEwNjM0Ng==", "bodyText": "ok fair enough, I will test this as a user now, and might go back to this later on when I understand its role better.\n\nI'm all available to explain everything to speed up this. I'm very confident that all the requirements are there. We can also go thru the other features that are still waiting for approval.\nRegards,\nAntoine", "url": "https://github.com/OpenRefine/OpenRefine/pull/2639#discussion_r441106346", "createdAt": "2020-06-16T19:57:03Z", "author": {"login": "antoine2711"}, "path": "main/webapp/modules/core/scripts/views/data-table/data-table-view.js", "diffHunk": "@@ -173,8 +179,32 @@ DataTableView.prototype._renderPagingControls = function(pageSizeControls, pagin\n     previousPage.addClass(\"inaction\");\n   }\n \n-  $('<span>').addClass(\"viewpanel-pagingcount\").html(\" \" + from + \" - \" + to + \" \").appendTo(pagingControls);\n+  var pageControlsSpan = $('<span>').attr(\"id\", \"viewpanel-paging-current\");\n+  \n+  var pageInputSize = 20 + (8 * ui.dataTableView._lastPageNumber.toString().length);\n+  var currentPageInput = $('<input type=\"number\">')\n+    .change(function(evt) { self._onChangeGotoPage(this, evt); })\n+    .keydown(function(evt) { self._onKeyDownGotoPage(this, evt); })\n+    .attr(\"id\", \"viewpanel-paging-current-input\")\n+    .attr(\"min\", 1)\n+    .attr(\"max\", self._lastPageNumber)\n+    .attr(\"required\", \"required\")\n+    .val(self._currentPageNumber)\n+    .css(\"width\", pageInputSize +\"px\");\n+    \n+  pageControlsSpan.append($.i18n('core-views/goto-page', '<span id=\"currentPageInput\" />', self._lastPageNumber));\n+  pageControlsSpan.appendTo(pagingControls);\n \n+  $('span#currentPageInput').replaceWith($(currentPageInput));\n+  \n+  if(self._refocusPageInput == true) { \n+    self._refocusPageInput = false;\n+    var currentPageInput = $('input#viewpanel-paging-current-input');\n+    currentPageInput.ready(function(evt) { \n+      (new Promise(resolve => setTimeout(resolve, 1000))).then(currentPageInput.focus()); ", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTk2NTIwMg=="}, "originalCommit": {"oid": "f3c6e776b6d728efe976fe96a42255c956b5c1d3"}, "originalPosition": 71}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc0OTczMDk4OnYy", "diffSide": "RIGHT", "path": "main/webapp/modules/core/scripts/views/data-table/data-table-view.js", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QwNzo0ODoxOFrOGk5zPg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QwNzo0ODoxOFrOGk5zPg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTM0ODkyNg==", "bodyText": "This line throws an error as there is no headerTable anymore, it was changed to tableHeader in #2719.\nSo if I pull the PR now, the projects don't load:", "url": "https://github.com/OpenRefine/OpenRefine/pull/2639#discussion_r441348926", "createdAt": "2020-06-17T07:48:18Z", "author": {"login": "lisa761"}, "path": "main/webapp/modules/core/scripts/views/data-table/data-table-view.js", "diffHunk": "@@ -133,8 +138,7 @@ DataTableView.prototype.render = function() {\n     this._renderSortingControls(elmts.sortingControls);\n   }\n \n-  this._renderDataTables(elmts.table[0], elmts.tableHeader[0]);\n-  this._div.empty().append(html);\n+  this._renderDataTables(elmts.table[0], elmts.headerTable[0]);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2c171ff3fa2965dd4a040ce3cf5baa3e25fcc40d"}, "originalPosition": 33}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc0OTc0MDQwOnYy", "diffSide": "RIGHT", "path": "main/webapp/modules/core/styles/views/data-table-view.less", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QwNzo1MDo0M1rOGk546Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QwNzo1MDo0M1rOGk546Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTM1MDM3Nw==", "bodyText": ".data-header-table was also changed to data-table-header in #2719.", "url": "https://github.com/OpenRefine/OpenRefine/pull/2639#discussion_r441350377", "createdAt": "2020-06-17T07:50:43Z", "author": {"login": "lisa761"}, "path": "main/webapp/modules/core/styles/views/data-table-view.less", "diffHunk": "@@ -55,7 +55,53 @@ OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n   font-weight: bold;\n   }\n \n-.data-table-header {\n+.viewpanel-rowrecord a {\n+  background-color: @fill_primary;\n+  margin: 0px 1px 0px 1px;\n+  padding: 2px 5px 2px 5px;\n+  .rounded_corners(4px);\n+  }\n+\n+.viewpanel-pagesize a {\n+  background-color: @fill_primary;\n+  margin: 0px 2px 0px 2px;\n+  padding: 2px 3px 2px 3px;\n+  .rounded_corners(4px);\n+  }\n+\n+div.viewpanel-pagesize span:first-of-type {\n+  margin: 0px 0px 0px 20px;\n+}\n+\n+.viewpanel-paging a {\n+  background-color: @fill_primary;\n+  margin: 0px 4px 0px 4px;\n+  padding: 2px 10px 2px 10px;\n+  .rounded_corners(4px);\n+  }\n+\n+.viewpanel-paging span#viewpanel-paging-current {\n+  margin: 0 10px 0 10px;\n+  padding: 0px;\n+  }\n+\n+.viewpanel-paging input#viewpanel-paging-current-input {\n+  width: 60px;\n+  margin: 0px;\n+  padding: 0px;\n+  height: 16px;\n+  position: relative;\n+  top: -2px;\n+  }\n+\n+.data-header-table-container {\n+  border-top: 1px solid @chrome_primary;\n+  border-bottom: 2px solid @chrome_primary;\n+  background: @fill_primary;\n+  overflow: visible;\n+  }\n+\n+.data-header-table {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2c171ff3fa2965dd4a040ce3cf5baa3e25fcc40d"}, "originalPosition": 51}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc0OTg2ODU1OnYy", "diffSide": "RIGHT", "path": "main/webapp/modules/core/styles/views/data-table-view.less", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QwODoyNDo1OFrOGk7IwQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QwODo1OTo1MVrOGk8fng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTM3MDgxNw==", "bodyText": "We don't need this style for  .data-header-table-container either, as that container was also removed (unless you're using it somewhere?). Sorry, I missed it earlier.", "url": "https://github.com/OpenRefine/OpenRefine/pull/2639#discussion_r441370817", "createdAt": "2020-06-17T08:24:58Z", "author": {"login": "lisa761"}, "path": "main/webapp/modules/core/styles/views/data-table-view.less", "diffHunk": "@@ -55,7 +55,53 @@ OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n   font-weight: bold;\n   }\n \n-.data-table-header {\n+.viewpanel-rowrecord a {\n+  background-color: @fill_primary;\n+  margin: 0px 1px 0px 1px;\n+  padding: 2px 5px 2px 5px;\n+  .rounded_corners(4px);\n+  }\n+\n+.viewpanel-pagesize a {\n+  background-color: @fill_primary;\n+  margin: 0px 2px 0px 2px;\n+  padding: 2px 3px 2px 3px;\n+  .rounded_corners(4px);\n+  }\n+\n+div.viewpanel-pagesize span:first-of-type {\n+  margin: 0px 0px 0px 20px;\n+}\n+\n+.viewpanel-paging a {\n+  background-color: @fill_primary;\n+  margin: 0px 4px 0px 4px;\n+  padding: 2px 10px 2px 10px;\n+  .rounded_corners(4px);\n+  }\n+\n+.viewpanel-paging span#viewpanel-paging-current {\n+  margin: 0 10px 0 10px;\n+  padding: 0px;\n+  }\n+\n+.viewpanel-paging input#viewpanel-paging-current-input {\n+  width: 60px;\n+  margin: 0px;\n+  padding: 0px;\n+  height: 16px;\n+  position: relative;\n+  top: -2px;\n+  }\n+\n+.data-header-table-container {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2c171ff3fa2965dd4a040ce3cf5baa3e25fcc40d"}, "originalPosition": 44}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTM3ODc4Ng==", "bodyText": "@lisa761: thank you so much for pointing me your changes in my PR. I would have had a very hard time to find them by myself.\nI'm now pretty good, and you, can you run it smooth? Have you tried the Up/Down Arrow Keys?\nRegards,\nAntoine", "url": "https://github.com/OpenRefine/OpenRefine/pull/2639#discussion_r441378786", "createdAt": "2020-06-17T08:38:02Z", "author": {"login": "antoine2711"}, "path": "main/webapp/modules/core/styles/views/data-table-view.less", "diffHunk": "@@ -55,7 +55,53 @@ OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n   font-weight: bold;\n   }\n \n-.data-table-header {\n+.viewpanel-rowrecord a {\n+  background-color: @fill_primary;\n+  margin: 0px 1px 0px 1px;\n+  padding: 2px 5px 2px 5px;\n+  .rounded_corners(4px);\n+  }\n+\n+.viewpanel-pagesize a {\n+  background-color: @fill_primary;\n+  margin: 0px 2px 0px 2px;\n+  padding: 2px 3px 2px 3px;\n+  .rounded_corners(4px);\n+  }\n+\n+div.viewpanel-pagesize span:first-of-type {\n+  margin: 0px 0px 0px 20px;\n+}\n+\n+.viewpanel-paging a {\n+  background-color: @fill_primary;\n+  margin: 0px 4px 0px 4px;\n+  padding: 2px 10px 2px 10px;\n+  .rounded_corners(4px);\n+  }\n+\n+.viewpanel-paging span#viewpanel-paging-current {\n+  margin: 0 10px 0 10px;\n+  padding: 0px;\n+  }\n+\n+.viewpanel-paging input#viewpanel-paging-current-input {\n+  width: 60px;\n+  margin: 0px;\n+  padding: 0px;\n+  height: 16px;\n+  position: relative;\n+  top: -2px;\n+  }\n+\n+.data-header-table-container {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTM3MDgxNw=="}, "originalCommit": {"oid": "2c171ff3fa2965dd4a040ce3cf5baa3e25fcc40d"}, "originalPosition": 44}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTM5MzA1NA==", "bodyText": "Yes, it's pretty great actually!", "url": "https://github.com/OpenRefine/OpenRefine/pull/2639#discussion_r441393054", "createdAt": "2020-06-17T08:59:51Z", "author": {"login": "lisa761"}, "path": "main/webapp/modules/core/styles/views/data-table-view.less", "diffHunk": "@@ -55,7 +55,53 @@ OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n   font-weight: bold;\n   }\n \n-.data-table-header {\n+.viewpanel-rowrecord a {\n+  background-color: @fill_primary;\n+  margin: 0px 1px 0px 1px;\n+  padding: 2px 5px 2px 5px;\n+  .rounded_corners(4px);\n+  }\n+\n+.viewpanel-pagesize a {\n+  background-color: @fill_primary;\n+  margin: 0px 2px 0px 2px;\n+  padding: 2px 3px 2px 3px;\n+  .rounded_corners(4px);\n+  }\n+\n+div.viewpanel-pagesize span:first-of-type {\n+  margin: 0px 0px 0px 20px;\n+}\n+\n+.viewpanel-paging a {\n+  background-color: @fill_primary;\n+  margin: 0px 4px 0px 4px;\n+  padding: 2px 10px 2px 10px;\n+  .rounded_corners(4px);\n+  }\n+\n+.viewpanel-paging span#viewpanel-paging-current {\n+  margin: 0 10px 0 10px;\n+  padding: 0px;\n+  }\n+\n+.viewpanel-paging input#viewpanel-paging-current-input {\n+  width: 60px;\n+  margin: 0px;\n+  padding: 0px;\n+  height: 16px;\n+  position: relative;\n+  top: -2px;\n+  }\n+\n+.data-header-table-container {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTM3MDgxNw=="}, "originalCommit": {"oid": "2c171ff3fa2965dd4a040ce3cf5baa3e25fcc40d"}, "originalPosition": 44}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc1MTk0NTE2OnYy", "diffSide": "RIGHT", "path": "main/webapp/modules/core/langs/translation-fr.json", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QxNzoyOTowNFrOGlP2WA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QxNzoyOTowNFrOGlP2WA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTcxMDE2OA==", "bodyText": "This should be pluralized the same way Spanish and English is.", "url": "https://github.com/OpenRefine/OpenRefine/pull/2639#discussion_r441710168", "createdAt": "2020-06-17T17:29:04Z", "author": {"login": "tfmorris"}, "path": "main/webapp/modules/core/langs/translation-fr.json", "diffHunk": "@@ -537,6 +537,7 @@\n     \"core-views/view\": \"Aper\u00e7u\",\n     \"core-views/extend-not-supported\": \"Ce service de r\u00e9conciliation de supporte pas l'extension de donn\u00e9es. Essayez de supprimer le service et de l'ajouter \u00e0 nouveau. Si le probl\u00e8me persiste, contactez le fournisseur de service.\",\n     \"core-views/to-text\": \"En texte\",\n+    \"core-views/goto-page\": \"$1 de $2 page(s)\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1e6bd73345244c26be94f367162213cf667707bc"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2754, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}