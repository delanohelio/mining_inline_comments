{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAzNTg1ODgy", "number": 2550, "title": "Update perform-edits-dialog.js to trap [RETURN] in editSummary and proceed to action", "bodyText": "Adding PerformEditsDialog.doFormSubmit() to share with keypress() [RETURN] from editField and \u00ab Edit Uploads\u00a0\u00bb.\nQuestions:\n\nShould I move PerformEditsDialog.doFormSubmit() inside PerformEditsDialog.launch()?\nShould I also trap [RETURN] when the focus is not in this._elmts.editSummary?\n\nRegards, Antoine", "createdAt": "2020-04-15T07:21:14Z", "url": "https://github.com/OpenRefine/OpenRefine/pull/2550", "merged": true, "mergeCommit": {"oid": "da5bdcfdad7f6b8e3eb51e4f90f04db990e37a31"}, "closed": true, "closedAt": "2020-04-20T07:16:07Z", "author": {"login": "antoine2711"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcXyz2vAH2gAyNDAzNTg1ODgyOmMxZGQ1NDBmMmNlMjc1ZjNjNDVhNjczYzdiMzU2MGM4ODQ4MmZmZWY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcZZxgCgFqTM5NjE5NTAxNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "c1dd540f2ce275f3c45a673c7b3560c88482ffef", "author": {"user": {"login": "antoine2711", "name": "Antoine Beaubien"}}, "url": "https://github.com/OpenRefine/OpenRefine/commit/c1dd540f2ce275f3c45a673c7b3560c88482ffef", "committedDate": "2020-04-15T07:18:14Z", "message": "Update perform-edits-dialog.js\n\nAdding PerformEditsDialog.doFormSubmit() to share with keypress() [RETURN] from editField and \u00ab Edit Uploads\u00a0\u00bb."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "38040857989086c521f965be9089d78bc1c79e93", "author": {"user": {"login": "antoine2711", "name": "Antoine Beaubien"}}, "url": "https://github.com/OpenRefine/OpenRefine/commit/38040857989086c521f965be9089d78bc1c79e93", "committedDate": "2020-04-16T07:29:30Z", "message": "var doFormSubmit = function()\u2026\n\nChange PerformEditsDialog.doFormSubmit to  var doFormSubmit = function()"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk1MjI5NjA0", "url": "https://github.com/OpenRefine/OpenRefine/pull/2550#pullrequestreview-395229604", "createdAt": "2020-04-17T07:42:09Z", "commit": {"oid": "c1dd540f2ce275f3c45a673c7b3560c88482ffef"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e6238482960d89a896e4e2995f0443fdde3424ee", "author": {"user": {"login": "antoine2711", "name": "Antoine Beaubien"}}, "url": "https://github.com/OpenRefine/OpenRefine/commit/e6238482960d89a896e4e2995f0443fdde3424ee", "committedDate": "2020-04-17T09:59:27Z", "message": "Update perform-edits-dialog.js\n\nConvert [TAB] to 2x [SPACE]."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk1OTk1MDAw", "url": "https://github.com/OpenRefine/OpenRefine/pull/2550#pullrequestreview-395995000", "createdAt": "2020-04-19T09:17:33Z", "commit": {"oid": "e6238482960d89a896e4e2995f0443fdde3424ee"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xOVQwOToxNzozM1rOGH03Iw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xOVQwOToxNzozM1rOGH03Iw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDg1OTI5OQ==", "bodyText": "you should not call evt.preventDefault() here since it blocks all key presses in the form. Test your PR: try adding a summary in the field, your key presses will not be recorded.", "url": "https://github.com/OpenRefine/OpenRefine/pull/2550#discussion_r410859299", "createdAt": "2020-04-19T09:17:33Z", "author": {"login": "wetneb"}, "path": "extensions/wikidata/module/scripts/dialogs/perform-edits-dialog.js", "diffHunk": "@@ -30,34 +57,18 @@ PerformEditsDialog.launch = function(logged_in_username, max_severity) {\n      dismiss();\n   });\n \n-  var hiddenIframe = $('#hiddenIframe').contents();\n+  this._elmts.editSummary.keypress(function (evt) {\n+    evt.preventDefault();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e6238482960d89a896e4e2995f0443fdde3424ee"}, "originalPosition": 44}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4c121e9bbec1c88a8a66626aae62d50db6938031", "author": {"user": {"login": "antoine2711", "name": "Antoine Beaubien"}}, "url": "https://github.com/OpenRefine/OpenRefine/commit/4c121e9bbec1c88a8a66626aae62d50db6938031", "committedDate": "2020-04-19T19:19:50Z", "message": "Update perform-edits-dialog.js\n\nMove evt.preventDefault(); to where it belongs."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "05fb67b766027712d018cf9df3a57337d278279f", "author": {"user": {"login": "antoine2711", "name": "Antoine Beaubien"}}, "url": "https://github.com/OpenRefine/OpenRefine/commit/05fb67b766027712d018cf9df3a57337d278279f", "committedDate": "2020-04-20T01:03:00Z", "message": "Update perform-edits-dialog.js\n\nSpacing corrections."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7c51e1d68a508efd8cca4d3a2ddbd193ba85206b", "author": {"user": {"login": "antoine2711", "name": "Antoine Beaubien"}}, "url": "https://github.com/OpenRefine/OpenRefine/commit/7c51e1d68a508efd8cca4d3a2ddbd193ba85206b", "committedDate": "2020-04-20T01:11:00Z", "message": "Update perform-edits-dialog.js\n\nSpacing corrections."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk2MTk1MDE1", "url": "https://github.com/OpenRefine/OpenRefine/pull/2550#pullrequestreview-396195015", "createdAt": "2020-04-20T07:15:53Z", "commit": {"oid": "7c51e1d68a508efd8cca4d3a2ddbd193ba85206b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3229, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}