{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk0OTU5ODQ2", "number": 2486, "title": "Issue 2272 portable package windows", "bodyText": "2 files were updated for generating a portable windows package.\nIn packaging/windows.xml, I added configuration for copying JRE from the build system inside the portable package for windows when openRefine is built.\nIn packaging/pom.xml, I configured launch4j for using the JRE copied over from the previous step, instead of the version installed on the system. The previous version of packaging/pom.xml was incorrectly referring to %JAVA_HOME% for finding the installed JRE, whereas it should use ${java.home}, as I have added in the windows.xml file above.\nI have tested the package on a machine with no JRE installed, and was able to get openRefine running on the system.", "createdAt": "2020-03-27T20:39:24Z", "url": "https://github.com/OpenRefine/OpenRefine/pull/2486", "merged": true, "mergeCommit": {"oid": "a27ed31d616442e86ef3d9e7a9ec8b90f2483f02"}, "closed": true, "closedAt": "2020-04-11T09:10:05Z", "author": {"login": "Shubhangi2901"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcR2RQZgH2gAyMzk0OTU5ODQ2OjBlNzBjYjU1M2JiMzJjYzg5NTFmOWU0OTVkZDk3ZDY1ZmMwMGMwODg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcWiASRAFqTM5MTc1MDE1OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "0e70cb553bb32cc8951f9e495dd97d65fc00c088", "author": {"user": {"login": "Shubhangi2901", "name": "Shubhangi Prasad"}}, "url": "https://github.com/OpenRefine/OpenRefine/commit/0e70cb553bb32cc8951f9e495dd97d65fc00c088", "committedDate": "2020-03-27T19:56:31Z", "message": "packaging changes for self contained jre for windows"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cc6887db736c2fb9e319ee7f693c84c12c3bf748", "author": {"user": {"login": "Shubhangi2901", "name": "Shubhangi Prasad"}}, "url": "https://github.com/OpenRefine/OpenRefine/commit/cc6887db736c2fb9e319ee7f693c84c12c3bf748", "committedDate": "2020-03-27T20:32:23Z", "message": "Updating the path for JRE"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgzMTg5MDM0", "url": "https://github.com/OpenRefine/OpenRefine/pull/2486#pullrequestreview-383189034", "createdAt": "2020-03-27T20:46:46Z", "commit": {"oid": "cc6887db736c2fb9e319ee7f693c84c12c3bf748"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "529b4cdda8fe5ea66b3838cc75b83268c456b189", "author": {"user": {"login": "Shubhangi2901", "name": "Shubhangi Prasad"}}, "url": "https://github.com/OpenRefine/OpenRefine/commit/529b4cdda8fe5ea66b3838cc75b83268c456b189", "committedDate": "2020-03-31T18:21:40Z", "message": "add jre path in settings file"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg1NTAwMDc4", "url": "https://github.com/OpenRefine/OpenRefine/pull/2486#pullrequestreview-385500078", "createdAt": "2020-04-01T11:35:44Z", "commit": {"oid": "529b4cdda8fe5ea66b3838cc75b83268c456b189"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQxMTozNTo0NFrOF-8ldQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQxMTozNTo0NFrOF-8ldQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTU0ODY2MQ==", "bodyText": "We should be able to produce two different Windows packages: one with embedded JRE, one without embedded JRE (for people who already have Java on their machine). So instead of modifying the existing Launch4j configuration, we would need to duplicate it, to be able to run with both <path>%JAVA_HOME%;%PATH%</path> and with <path>server/target/jre</path>. Perhaps you could take inspiration from the profiles introduced by @afkbrb in #2498?", "url": "https://github.com/OpenRefine/OpenRefine/pull/2486#discussion_r401548661", "createdAt": "2020-04-01T11:35:44Z", "author": {"login": "wetneb"}, "path": "packaging/pom.xml", "diffHunk": "@@ -231,7 +231,7 @@\n                 <postCp>server/target/lib/*.jar</postCp>\n               </classPath>\n               <jre>\n-                <path>%JAVA_HOME%;%PATH%</path>\n+                <path>server/target/jre</path>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "529b4cdda8fe5ea66b3838cc75b83268c456b189"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "468e452a849855884e4052c84ffbb10557c16f50", "author": {"user": {"login": "Shubhangi2901", "name": "Shubhangi Prasad"}}, "url": "https://github.com/OpenRefine/OpenRefine/commit/468e452a849855884e4052c84ffbb10557c16f50", "committedDate": "2020-04-02T20:57:43Z", "message": "added profiles for two diferent windows packages build"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8c1577354de3adc827829a8270aa96d6eefb667b", "author": {"user": {"login": "Shubhangi2901", "name": "Shubhangi Prasad"}}, "url": "https://github.com/OpenRefine/OpenRefine/commit/8c1577354de3adc827829a8270aa96d6eefb667b", "committedDate": "2020-04-02T21:03:07Z", "message": "removing commented duplicate code"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5e242cce93b156a7b233ec0b1b739873e8e407ea", "author": {"user": {"login": "wetneb", "name": "Antonin Delpeuch"}}, "url": "https://github.com/OpenRefine/OpenRefine/commit/5e242cce93b156a7b233ec0b1b739873e8e407ea", "committedDate": "2020-04-10T13:05:56Z", "message": "Merge branch 'master' into issue-2272-portablePackage-Windows"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9c51d7877e37e909b0c234826d00cdec890d1779", "author": {"user": {"login": "wetneb", "name": "Antonin Delpeuch"}}, "url": "https://github.com/OpenRefine/OpenRefine/commit/9c51d7877e37e909b0c234826d00cdec890d1779", "committedDate": "2020-04-11T08:49:43Z", "message": "Build windows package without an embedded JRE by default"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkxNzUwMTU4", "url": "https://github.com/OpenRefine/OpenRefine/pull/2486#pullrequestreview-391750158", "createdAt": "2020-04-11T09:09:30Z", "commit": {"oid": "9c51d7877e37e909b0c234826d00cdec890d1779"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3203, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}