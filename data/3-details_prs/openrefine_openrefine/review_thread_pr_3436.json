{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQ0OTcwOTM4", "number": 3436, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNVQxNjo0MzozNFrOFJK3cw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wMVQxNjoxMjoyMVrOFKfFhQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ1MTU5NTM5OnYy", "diffSide": "RIGHT", "path": "main/webapp/modules/core/scripts/dialogs/expression-preview-dialog.js", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNVQxNjo0MzozNFrOILdrpA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNVQxNjo0MzozNFrOILdrpA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODg5MTU1Ng==", "bodyText": "Thanks for your attempt to reuse existing translations! However, we cannot do something like $.i18n('core-dialogs/remove') + \" \" + $.i18n('core-dialogs/expression') + \"?\" because that assumes that word order and punctuation remain identical in all languages. For instance in German you want to have the noun before the verb in this context. Or in French you want to have a space before the ? and also an article before \"expression\". So you should introduce a new bit of UI text in this context. You can add it to the English file only, and translators will take care of adding it to other languages.", "url": "https://github.com/OpenRefine/OpenRefine/pull/3436#discussion_r548891556", "createdAt": "2020-12-25T16:43:34Z", "author": {"login": "wetneb"}, "path": "main/webapp/modules/core/scripts/dialogs/expression-preview-dialog.js", "diffHunk": "@@ -350,15 +350,30 @@ ExpressionPreviewDialog.Widget.prototype._renderStarredExpressions = function(da\n         var o = Scripting.parse(entry.code);\n         \n         $('<a href=\"javascript:{}\">'+$.i18n('core-dialogs/remove')+'</a>').appendTo(tr.insertCell(0)).click(function() {\n-            Refine.postCSRF(\n-                \"command/core/toggle-starred-expression\",\n-                { expression: entry.code, returnList: true },\n-                function(data) {\n-                    self._renderStarredExpressions(data);\n-                    self._renderExpressionHistoryTab();\n-                },\n-                \"json\"\n-            );\n+            var removeExpression = DialogSystem.createDialog();\n+                removeExpression.width(\"250px\");\n+            var removeExpressionHead = $('<div></div>').addClass(\"dialog-header\").text($.i18n('core-dialogs/remove') + \" \" + $.i18n('core-dialogs/expression') + \"?\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e3d31fdc467ac78aebf52833b3afbd2fc261d802"}, "originalPosition": 15}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ2NTM5Mzk3OnYy", "diffSide": "RIGHT", "path": "main/webapp/modules/core/langs/translation-en.json", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wMVQxNjoxMjoyMVrOINRENg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wMVQxNjoxMjoyMVrOINRENg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDc4MjAwNg==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                \"core-dialogs/unstar-expression\": \"Unstar Expression?\",\n          \n          \n            \n                \"core-dialogs/unstar-expression\": \"Unstar expression?\",\n          \n      \n    \n    \n  \n\nWe are in the process of normalizing the case of all text in the UI (#3363), so let's get this one right from the start.", "url": "https://github.com/OpenRefine/OpenRefine/pull/3436#discussion_r550782006", "createdAt": "2021-01-01T16:12:21Z", "author": {"login": "wetneb"}, "path": "main/webapp/modules/core/langs/translation-en.json", "diffHunk": "@@ -244,6 +244,7 @@\n     \"core-dialogs/sql-exporter\": \"SQL Exporter\",\n     \"core-dialogs/custom-tab-exp\": \"Custom Tabular Exporter\",\n     \"core-dialogs/select-columns-dialog\": \"Select columns\",\n+    \"core-dialogs/unstar-expression\": \"Unstar Expression?\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6221ab4a1b6802838e81e901bc6583dbeb293378"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2853, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}