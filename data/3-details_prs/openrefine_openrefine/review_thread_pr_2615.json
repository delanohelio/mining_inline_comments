{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE1ODYwNTcw", "number": 2615, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQxNzo0MDo0NVrOD7Vt9w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMlQwOToyMjoyOVrOD-4tMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYzNTQ4NDA3OnYy", "diffSide": "RIGHT", "path": "extensions/database/module/scripts/index/database-source-ui.js", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQxNzo0MDo0NVrOGTmm3A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QyMTowNDoyNlrOGVDd0g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzIwODY2OA==", "bodyText": "Is there a particular reason not to reuse the type directly as class (perhaps with a prefix, to be on the safe side)? That would simplify the code a bit. You would just have one line databaseClass = \"dbtype\" + type.", "url": "https://github.com/OpenRefine/OpenRefine/pull/2615#discussion_r423208668", "createdAt": "2020-05-11T17:40:45Z", "author": {"login": "wetneb"}, "path": "extensions/database/module/scripts/index/database-source-ui.js", "diffHunk": "@@ -91,24 +91,44 @@ Refine.DatabaseSourceUI.prototype.attachUI = function(body) {\n   \n   \n   this._elmts.databaseTypeSelect.change(function(event) {\n-      var type = $( \"#databaseTypeSelect\" ).val(); \n-      if(type === \"postgresql\"){ \n-          $( \"#databaseUser\" ).val(\"postgres\");\n-          $( \"#databasePort\" ).val(\"5432\");\t  \n-      }else if(type === \"mysql\"){\t  \n-          $( \"#databaseUser\" ).val(\"root\");\n-          $( \"#databasePort\" ).val(\"3306\");\t  \n-      }else if(type === \"mariadb\"){\n-          $( \"#databaseUser\" ).val(\"root\");\n-          $( \"#databasePort\" ).val(\"3306\");\n-      }else if(type === \"sqlite\"){\n-          $( \"#databaseUser\" ).val(\"na\");\n-          $( \"#databasePort\" ).val(\"0\");\n-          $( \"#databaseHost\" ).val(\"na\");\n-      }else{\n-          $( \"#databaseUser\" ).val(\"root\");\n-          $( \"#databasePort\" ).val(\"3306\");\n-      }\n+    var type = $( \"#databaseTypeSelect\" ).val();\n+    var databaseClass = \"\";\n+  \n+    if(type === \"postgresql\") { \n+        $( \"#databaseUser\" ).val(\"postgres\");\n+        $( \"#databasePort\" ).val(\"5432\");\n+        databaseClass = \"psgsq\"\n+      \n+    } else if(type === \"mysql\") {\t  \n+        $( \"#databaseUser\" ).val(\"root\");\n+        $( \"#databasePort\" ).val(\"3306\");\t  \n+        databaseClass = \"mysql\"\n+      \n+    } else if(type === \"mariadb\") {\n+        $( \"#databaseUser\" ).val(\"root\");\n+        $( \"#databasePort\" ).val(\"3306\");\n+        databaseClass = \"mardb\"\n+      \n+    } else if(type === \"sqlite\") {\n+        $( \"#databaseUser\" ).val(\"na\");\n+        $( \"#databasePort\" ).val(\"0\");\n+        $( \"#databaseHost\" ).val(\"na\");\n+        databaseClass = \"sqlit\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ba491cad55db0e361013fe6c761ce5519ec4f751"}, "originalPosition": 44}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzIxMzg1NQ==", "bodyText": "Is there a particular reason not to reuse the type directly as class (perhaps with a prefix, to be on the safe side)? That would simplify the code a bit. You would just have one line databaseClass = \"dbtype\" + type.\n\nYes. The full name would be fine, just 2x longer. I also though of just have TWO classes network_db and file_db. It would even more simply the code, but wouldn't permit to have specific fields per database, just between database types.\nSo @wetneb, I go for the full name?\nRegards,\nAntoine", "url": "https://github.com/OpenRefine/OpenRefine/pull/2615#discussion_r423213855", "createdAt": "2020-05-11T17:49:56Z", "author": {"login": "antoine2711"}, "path": "extensions/database/module/scripts/index/database-source-ui.js", "diffHunk": "@@ -91,24 +91,44 @@ Refine.DatabaseSourceUI.prototype.attachUI = function(body) {\n   \n   \n   this._elmts.databaseTypeSelect.change(function(event) {\n-      var type = $( \"#databaseTypeSelect\" ).val(); \n-      if(type === \"postgresql\"){ \n-          $( \"#databaseUser\" ).val(\"postgres\");\n-          $( \"#databasePort\" ).val(\"5432\");\t  \n-      }else if(type === \"mysql\"){\t  \n-          $( \"#databaseUser\" ).val(\"root\");\n-          $( \"#databasePort\" ).val(\"3306\");\t  \n-      }else if(type === \"mariadb\"){\n-          $( \"#databaseUser\" ).val(\"root\");\n-          $( \"#databasePort\" ).val(\"3306\");\n-      }else if(type === \"sqlite\"){\n-          $( \"#databaseUser\" ).val(\"na\");\n-          $( \"#databasePort\" ).val(\"0\");\n-          $( \"#databaseHost\" ).val(\"na\");\n-      }else{\n-          $( \"#databaseUser\" ).val(\"root\");\n-          $( \"#databasePort\" ).val(\"3306\");\n-      }\n+    var type = $( \"#databaseTypeSelect\" ).val();\n+    var databaseClass = \"\";\n+  \n+    if(type === \"postgresql\") { \n+        $( \"#databaseUser\" ).val(\"postgres\");\n+        $( \"#databasePort\" ).val(\"5432\");\n+        databaseClass = \"psgsq\"\n+      \n+    } else if(type === \"mysql\") {\t  \n+        $( \"#databaseUser\" ).val(\"root\");\n+        $( \"#databasePort\" ).val(\"3306\");\t  \n+        databaseClass = \"mysql\"\n+      \n+    } else if(type === \"mariadb\") {\n+        $( \"#databaseUser\" ).val(\"root\");\n+        $( \"#databasePort\" ).val(\"3306\");\n+        databaseClass = \"mardb\"\n+      \n+    } else if(type === \"sqlite\") {\n+        $( \"#databaseUser\" ).val(\"na\");\n+        $( \"#databasePort\" ).val(\"0\");\n+        $( \"#databaseHost\" ).val(\"na\");\n+        databaseClass = \"sqlit\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzIwODY2OA=="}, "originalCommit": {"oid": "ba491cad55db0e361013fe6c761ce5519ec4f751"}, "originalPosition": 44}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzI5NDgwOQ==", "bodyText": "Is there a particular reason not to reuse the type directly as class (perhaps with a prefix, to be on the safe side)? That would simplify the code a bit. You would just have one line databaseClass = \"dbtype\" + type.\n\n@wetneb: It's done. You can review it again.\nRegards, A.", "url": "https://github.com/OpenRefine/OpenRefine/pull/2615#discussion_r423294809", "createdAt": "2020-05-11T20:19:29Z", "author": {"login": "antoine2711"}, "path": "extensions/database/module/scripts/index/database-source-ui.js", "diffHunk": "@@ -91,24 +91,44 @@ Refine.DatabaseSourceUI.prototype.attachUI = function(body) {\n   \n   \n   this._elmts.databaseTypeSelect.change(function(event) {\n-      var type = $( \"#databaseTypeSelect\" ).val(); \n-      if(type === \"postgresql\"){ \n-          $( \"#databaseUser\" ).val(\"postgres\");\n-          $( \"#databasePort\" ).val(\"5432\");\t  \n-      }else if(type === \"mysql\"){\t  \n-          $( \"#databaseUser\" ).val(\"root\");\n-          $( \"#databasePort\" ).val(\"3306\");\t  \n-      }else if(type === \"mariadb\"){\n-          $( \"#databaseUser\" ).val(\"root\");\n-          $( \"#databasePort\" ).val(\"3306\");\n-      }else if(type === \"sqlite\"){\n-          $( \"#databaseUser\" ).val(\"na\");\n-          $( \"#databasePort\" ).val(\"0\");\n-          $( \"#databaseHost\" ).val(\"na\");\n-      }else{\n-          $( \"#databaseUser\" ).val(\"root\");\n-          $( \"#databasePort\" ).val(\"3306\");\n-      }\n+    var type = $( \"#databaseTypeSelect\" ).val();\n+    var databaseClass = \"\";\n+  \n+    if(type === \"postgresql\") { \n+        $( \"#databaseUser\" ).val(\"postgres\");\n+        $( \"#databasePort\" ).val(\"5432\");\n+        databaseClass = \"psgsq\"\n+      \n+    } else if(type === \"mysql\") {\t  \n+        $( \"#databaseUser\" ).val(\"root\");\n+        $( \"#databasePort\" ).val(\"3306\");\t  \n+        databaseClass = \"mysql\"\n+      \n+    } else if(type === \"mariadb\") {\n+        $( \"#databaseUser\" ).val(\"root\");\n+        $( \"#databasePort\" ).val(\"3306\");\n+        databaseClass = \"mardb\"\n+      \n+    } else if(type === \"sqlite\") {\n+        $( \"#databaseUser\" ).val(\"na\");\n+        $( \"#databasePort\" ).val(\"0\");\n+        $( \"#databaseHost\" ).val(\"na\");\n+        databaseClass = \"sqlit\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzIwODY2OA=="}, "originalCommit": {"oid": "ba491cad55db0e361013fe6c761ce5519ec4f751"}, "originalPosition": 44}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDczMDA2Ng==", "bodyText": "Is there a particular reason not to reuse the type directly as class (perhaps with a prefix, to be on the safe side)? That would simplify the code a bit. You would just have one line databaseClass = \"dbtype\" + type.\n\nHi @wetneb I wrote too fast when I said I did what you asked. I forgot half of what you asked! ;-) So here's the other half. For the class name options, I changed it to: dbtype-options. For the name of the db, I took the full name like you asked, but only prefixed it with dbt-. Some names are long, and imagine a user with 10 databases type (core-OR + extensions), it would make a long class attribute value\u2026 Anyway, it drastically reduce the risk of collisions.\nRegards, A.", "url": "https://github.com/OpenRefine/OpenRefine/pull/2615#discussion_r424730066", "createdAt": "2020-05-13T21:04:26Z", "author": {"login": "antoine2711"}, "path": "extensions/database/module/scripts/index/database-source-ui.js", "diffHunk": "@@ -91,24 +91,44 @@ Refine.DatabaseSourceUI.prototype.attachUI = function(body) {\n   \n   \n   this._elmts.databaseTypeSelect.change(function(event) {\n-      var type = $( \"#databaseTypeSelect\" ).val(); \n-      if(type === \"postgresql\"){ \n-          $( \"#databaseUser\" ).val(\"postgres\");\n-          $( \"#databasePort\" ).val(\"5432\");\t  \n-      }else if(type === \"mysql\"){\t  \n-          $( \"#databaseUser\" ).val(\"root\");\n-          $( \"#databasePort\" ).val(\"3306\");\t  \n-      }else if(type === \"mariadb\"){\n-          $( \"#databaseUser\" ).val(\"root\");\n-          $( \"#databasePort\" ).val(\"3306\");\n-      }else if(type === \"sqlite\"){\n-          $( \"#databaseUser\" ).val(\"na\");\n-          $( \"#databasePort\" ).val(\"0\");\n-          $( \"#databaseHost\" ).val(\"na\");\n-      }else{\n-          $( \"#databaseUser\" ).val(\"root\");\n-          $( \"#databasePort\" ).val(\"3306\");\n-      }\n+    var type = $( \"#databaseTypeSelect\" ).val();\n+    var databaseClass = \"\";\n+  \n+    if(type === \"postgresql\") { \n+        $( \"#databaseUser\" ).val(\"postgres\");\n+        $( \"#databasePort\" ).val(\"5432\");\n+        databaseClass = \"psgsq\"\n+      \n+    } else if(type === \"mysql\") {\t  \n+        $( \"#databaseUser\" ).val(\"root\");\n+        $( \"#databasePort\" ).val(\"3306\");\t  \n+        databaseClass = \"mysql\"\n+      \n+    } else if(type === \"mariadb\") {\n+        $( \"#databaseUser\" ).val(\"root\");\n+        $( \"#databasePort\" ).val(\"3306\");\n+        databaseClass = \"mardb\"\n+      \n+    } else if(type === \"sqlite\") {\n+        $( \"#databaseUser\" ).val(\"na\");\n+        $( \"#databasePort\" ).val(\"0\");\n+        $( \"#databaseHost\" ).val(\"na\");\n+        databaseClass = \"sqlit\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzIwODY2OA=="}, "originalCommit": {"oid": "ba491cad55db0e361013fe6c761ce5519ec4f751"}, "originalPosition": 44}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY2MjExNjE5OnYy", "diffSide": "RIGHT", "path": "extensions/database/module/langs/translation-en.json", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQxNjozNDowNFrOGXo5aw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQxNjozNDowNFrOGXo5aw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzQ0MDQ5MQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                \"database-source/databaseSchemaPlaceholder\": \"Enter Initial Schema\",\n          \n          \n            \n                \"database-source/databaseSchemaPlaceholder\": \"Enter initial schema\",", "url": "https://github.com/OpenRefine/OpenRefine/pull/2615#discussion_r427440491", "createdAt": "2020-05-19T16:34:04Z", "author": {"login": "thadguidry"}, "path": "extensions/database/module/langs/translation-en.json", "diffHunk": "@@ -21,7 +21,17 @@\n     \"database-source/databaseUserLabel\": \"User:\",\n     \"database-source/databasePasswordLabel\": \"Password:\",\n     \"database-source/databaseNameLabel\": \"Database:\",\n+    \"database-source/databaseFileNameLabel\": \"Database file:\",\n     \"database-source/databaseSchemaLabel\": \"Schema:\",\n+    \"database-source/connectionNamePlaceholder\": \"Enter a new Connection Name\",\n+    \"database-source/databaseHostPlaceholder\": \"Enter Database Host Address\",\n+    \"database-source/databasePortPlaceholder\": \"Enter Database Port e.g. 3306\",\n+    \"database-source/databaseUserPlaceholder\": \"Enter Database User\",\n+    \"database-source/databasePasswordPlaceholder\": \"Enter Database Password\",\n+    \"database-source/databaseNamePlaceholder\": \"Enter Database\",\n+    \"database-source/databaseFileNamePlaceholder\": \"Enter the full path to the Database file\",\n+    \"database-source/databaseSchemaPlaceholder\": \"Enter Initial Schema\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "868b6bfb541bec54428b64d8ba5194231a9cba80"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY2MjEyMzc5OnYy", "diffSide": "RIGHT", "path": "extensions/database/module/scripts/index/database-import-form.html", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQxNjozNTo1N1rOGXo-OQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQxNjozNTo1N1rOGXo-OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzQ0MTcyMQ==", "bodyText": "I guess I'm OK with a default selection here.", "url": "https://github.com/OpenRefine/OpenRefine/pull/2615#discussion_r427441721", "createdAt": "2020-05-19T16:35:57Z", "author": {"login": "thadguidry"}, "path": "extensions/database/module/scripts/index/database-import-form.html", "diffHunk": "@@ -29,44 +29,43 @@\n                                   \n                                       <div class=\"pure-control-group\">\n                                            <label id=\"connectionNameLabel\" for=\"name\">Name:</label>\n-                                           <input bind=\"connectionNameInput\" id=\"connectionName\" type=\"text\" placeholder=\"Enter Connection Name\" value=\"127.0.0.1\" class=\"pure-input-1-3\" required>\n+                                           <input bind=\"connectionNameInput\" id=\"connectionName\" type=\"text\" placeholder=\"\" value=\"\" class=\"pure-input-1-3\" required>\n                                        </div>\n                                \n                                        <div class=\"pure-control-group\">\n                                            <label id=\"databaseTypeLabel\" for=\"databaseType\">Database Type:</label>\n                                             <select name=\"selection\" id=\"databaseTypeSelect\" bind=\"databaseTypeSelect\" class=\"pure-input-1-3\" required>\n                                             \t  <option value=\"postgresql\">PostgreSQL</option>  \n-                                               <option value=\"mysql\">MySQL</option>\n+                                               <option value=\"mysql\" selected=\"selected\">MySQL</option>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "868b6bfb541bec54428b64d8ba5194231a9cba80"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY2MjEzOTA4OnYy", "diffSide": "RIGHT", "path": "extensions/database/module/scripts/index/database-source-ui.js", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQxNjo0MDowN1rOGXpIPw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQxNzoyNzowMlrOGXq8Eg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzQ0NDI4Nw==", "bodyText": "In which scenario would the defaultDatabaseType be empty?  On a brand new installation of OpenRefine?", "url": "https://github.com/OpenRefine/OpenRefine/pull/2615#discussion_r427444287", "createdAt": "2020-05-19T16:40:07Z", "author": {"login": "thadguidry"}, "path": "extensions/database/module/scripts/index/database-source-ui.js", "diffHunk": "@@ -64,6 +64,10 @@ Refine.DatabaseSourceUI.prototype.attachUI = function(body) {\n   this._elmts = DOM.bind(this._body);\n   var self = this;\n   \n+  self._defaultDatabaseHost = \"localhost\";\n+  self._defaultDatabaseType = $( \"select#databaseTypeSelect\" ).val();\n+  if (self._defaultDatabaseType == \"\") { self._defaultDatabaseType = \"mariadb\"; }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "868b6bfb541bec54428b64d8ba5194231a9cba80"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzQ2MjA5MA==", "bodyText": "@thadguidry: The only scenario where it would be empty is if a coder changes the HTML code.\nGranted, it\u2019s a rare scenario, but, since it can happen, I check it. What I would really want to do here, is add a preference, for both the IP (host) and DB-type. But that feature is not yet merged in master.\nRegards,\nAntoine", "url": "https://github.com/OpenRefine/OpenRefine/pull/2615#discussion_r427462090", "createdAt": "2020-05-19T17:08:04Z", "author": {"login": "antoine2711"}, "path": "extensions/database/module/scripts/index/database-source-ui.js", "diffHunk": "@@ -64,6 +64,10 @@ Refine.DatabaseSourceUI.prototype.attachUI = function(body) {\n   this._elmts = DOM.bind(this._body);\n   var self = this;\n   \n+  self._defaultDatabaseHost = \"localhost\";\n+  self._defaultDatabaseType = $( \"select#databaseTypeSelect\" ).val();\n+  if (self._defaultDatabaseType == \"\") { self._defaultDatabaseType = \"mariadb\"; }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzQ0NDI4Nw=="}, "originalCommit": {"oid": "868b6bfb541bec54428b64d8ba5194231a9cba80"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzQ3MzkzOA==", "bodyText": "OK, understood.", "url": "https://github.com/OpenRefine/OpenRefine/pull/2615#discussion_r427473938", "createdAt": "2020-05-19T17:27:02Z", "author": {"login": "thadguidry"}, "path": "extensions/database/module/scripts/index/database-source-ui.js", "diffHunk": "@@ -64,6 +64,10 @@ Refine.DatabaseSourceUI.prototype.attachUI = function(body) {\n   this._elmts = DOM.bind(this._body);\n   var self = this;\n   \n+  self._defaultDatabaseHost = \"localhost\";\n+  self._defaultDatabaseType = $( \"select#databaseTypeSelect\" ).val();\n+  if (self._defaultDatabaseType == \"\") { self._defaultDatabaseType = \"mariadb\"; }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzQ0NDI4Nw=="}, "originalCommit": {"oid": "868b6bfb541bec54428b64d8ba5194231a9cba80"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY3MjY3Mzc2OnYy", "diffSide": "RIGHT", "path": "extensions/database/module/scripts/index/database-import-form.html", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMlQwOToyMjoyOVrOGZQkBw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yM1QwNToxNzowNVrOGZnjeA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTEzODk1MQ==", "bodyText": "How about we remove this text from the HTML file, since it is overwritten by i18n in Javascript anyway?", "url": "https://github.com/OpenRefine/OpenRefine/pull/2615#discussion_r429138951", "createdAt": "2020-05-22T09:22:29Z", "author": {"login": "wetneb"}, "path": "extensions/database/module/scripts/index/database-import-form.html", "diffHunk": "@@ -29,44 +29,43 @@\n                                   \n                                       <div class=\"pure-control-group\">\n                                            <label id=\"connectionNameLabel\" for=\"name\">Name:</label>\n-                                           <input bind=\"connectionNameInput\" id=\"connectionName\" type=\"text\" placeholder=\"Enter Connection Name\" value=\"127.0.0.1\" class=\"pure-input-1-3\" required>\n+                                           <input bind=\"connectionNameInput\" id=\"connectionName\" type=\"text\" placeholder=\"\" value=\"\" class=\"pure-input-1-3\" required>\n                                        </div>\n                                \n                                        <div class=\"pure-control-group\">\n                                            <label id=\"databaseTypeLabel\" for=\"databaseType\">Database Type:</label>\n                                             <select name=\"selection\" id=\"databaseTypeSelect\" bind=\"databaseTypeSelect\" class=\"pure-input-1-3\" required>\n                                             \t  <option value=\"postgresql\">PostgreSQL</option>  \n-                                               <option value=\"mysql\">MySQL</option>\n+                                               <option value=\"mysql\" selected=\"selected\">MySQL</option>\n                                                <option value=\"mariadb\">MariaDB</option>\n                                                 <option value=\"sqlite\">SQLite</option>\n                                             </select>\n                                        </div>\n-                               \n-                                       <div class=\"pure-control-group\">\n-                                           <label id=\"databaseHostLabel\" for=\"databaseHost\">Database Host:</label>\n-                                           <input bind=\"databaseHostInput\" id=\"databaseHost\" type=\"text\" placeholder=\"Enter Database Host Address\" value=\"localhost\" class=\"pure-input-1-3\" required>\n-                                       </div>\n-                               \n-                                       <div class=\"pure-control-group\">\n-                                           <label id=\"databasePortLabel\" for=\"databasePort\">Database Port:</label>\n-                                           <input bind=\"databasePortInput\" id=\"databasePort\" type=\"text\" placeholder=\"Enter Database Port e.g. 3306\" value=\"5432\" class=\"pure-input-1-3\" required>\n-                                       </div>\n-                                        <div class=\"pure-control-group\">\n-                                           <label id=\"databaseUserLabel\" for=\"databaseUser\">Database User:</label>\n-                                           <input bind=\"databaseUserInput\" id=\"databaseUser\" type=\"text\" placeholder=\"Enter Database User\" value=\"postgres\" class=\"pure-input-1-3\" required>\n-                                       </div>\n-                                        <div class=\"pure-control-group\">\n-                                           <label id=\"databasePasswordLabel\" for=\"databasePassword\">Database Password:</label>\n-                                           <input bind=\"databasePasswordInput\" id=\"databasePassword\" type=\"password\" placeholder=\"Enter Database Password\" class=\"pure-input-1-3\" required>\n-                                       </div>\n-                                        <div class=\"pure-control-group\">\n-                                           <label id=\"databaseNameLabel\" for=\"initialDatabase\">Database Name:</label>\n-                                           <input bind=\"initialDatabaseInput\" id=\"initialDatabase\" type=\"text\" placeholder=\"Enter Database\" class=\"pure-input-1-3\" required>\n-                                       </div>\n-                                       <div class=\"pure-control-group\" style=\"display:none;\">\n-                                           <label id=\"databaseSchemaLabel\" for=\"initialSchema\">Schema Name:</label>\n-                                           <input bind=\"initialSchemaInput\" id=\"initialSchema\" type=\"text\" placeholder=\"Enter Initial Schema\" class=\"pure-input-1-3\" required>\n-                                       </div>\n+\n+                                        <div class=\"pure-control-group dbtype-options dbt-postgresql dbt-mysql dbt-mariadb\">\n+                                          <label id=\"databaseHostLabel\" for=\"databaseHost\">Database Host:</label> \n+                                          <input bind=\"databaseHostInput\" id=\"databaseHost\" type=\"text\" placeholder=\"\" value=\"localhost\" class=\"pure-input-1-3\" required>\n+                                        </div>\n+                                        <div class=\"pure-control-group dbtype-options dbt-postgresql dbt-mysql dbt-mariadb\">\n+                                          <label id=\"databasePortLabel\" for=\"databasePort\">Database Port:</label> \n+                                          <input bind=\"databasePortInput\" id=\"databasePort\" type=\"text\" placeholder=\"\" value=\"5432\" class=\"pure-input-1-3\" required>\n+                                        </div>\n+                                        <div class=\"pure-control-group dbtype-options dbt-postgresql dbt-mysql dbt-mariadb\">\n+                                          <label id=\"databaseUserLabel\" for=\"databaseUser\">Database User:</label> \n+                                          <input bind=\"databaseUserInput\" id=\"databaseUser\" type=\"text\" placeholder=\"\" value=\"postgres\" class=\"pure-input-1-3\" required>\n+                                        </div>\n+                                        <div class=\"pure-control-group dbtype-options dbt-postgresql dbt-mysql dbt-mariadb\">\n+                                          <label id=\"databasePasswordLabel\" for=\"databasePassword\">Database Password:</label> ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f1f2b8a0bb9d60e783de63aa5c02ee643bd81356"}, "originalPosition": 58}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTUxNTY0MA==", "bodyText": "Done.", "url": "https://github.com/OpenRefine/OpenRefine/pull/2615#discussion_r429515640", "createdAt": "2020-05-23T05:17:05Z", "author": {"login": "antoine2711"}, "path": "extensions/database/module/scripts/index/database-import-form.html", "diffHunk": "@@ -29,44 +29,43 @@\n                                   \n                                       <div class=\"pure-control-group\">\n                                            <label id=\"connectionNameLabel\" for=\"name\">Name:</label>\n-                                           <input bind=\"connectionNameInput\" id=\"connectionName\" type=\"text\" placeholder=\"Enter Connection Name\" value=\"127.0.0.1\" class=\"pure-input-1-3\" required>\n+                                           <input bind=\"connectionNameInput\" id=\"connectionName\" type=\"text\" placeholder=\"\" value=\"\" class=\"pure-input-1-3\" required>\n                                        </div>\n                                \n                                        <div class=\"pure-control-group\">\n                                            <label id=\"databaseTypeLabel\" for=\"databaseType\">Database Type:</label>\n                                             <select name=\"selection\" id=\"databaseTypeSelect\" bind=\"databaseTypeSelect\" class=\"pure-input-1-3\" required>\n                                             \t  <option value=\"postgresql\">PostgreSQL</option>  \n-                                               <option value=\"mysql\">MySQL</option>\n+                                               <option value=\"mysql\" selected=\"selected\">MySQL</option>\n                                                <option value=\"mariadb\">MariaDB</option>\n                                                 <option value=\"sqlite\">SQLite</option>\n                                             </select>\n                                        </div>\n-                               \n-                                       <div class=\"pure-control-group\">\n-                                           <label id=\"databaseHostLabel\" for=\"databaseHost\">Database Host:</label>\n-                                           <input bind=\"databaseHostInput\" id=\"databaseHost\" type=\"text\" placeholder=\"Enter Database Host Address\" value=\"localhost\" class=\"pure-input-1-3\" required>\n-                                       </div>\n-                               \n-                                       <div class=\"pure-control-group\">\n-                                           <label id=\"databasePortLabel\" for=\"databasePort\">Database Port:</label>\n-                                           <input bind=\"databasePortInput\" id=\"databasePort\" type=\"text\" placeholder=\"Enter Database Port e.g. 3306\" value=\"5432\" class=\"pure-input-1-3\" required>\n-                                       </div>\n-                                        <div class=\"pure-control-group\">\n-                                           <label id=\"databaseUserLabel\" for=\"databaseUser\">Database User:</label>\n-                                           <input bind=\"databaseUserInput\" id=\"databaseUser\" type=\"text\" placeholder=\"Enter Database User\" value=\"postgres\" class=\"pure-input-1-3\" required>\n-                                       </div>\n-                                        <div class=\"pure-control-group\">\n-                                           <label id=\"databasePasswordLabel\" for=\"databasePassword\">Database Password:</label>\n-                                           <input bind=\"databasePasswordInput\" id=\"databasePassword\" type=\"password\" placeholder=\"Enter Database Password\" class=\"pure-input-1-3\" required>\n-                                       </div>\n-                                        <div class=\"pure-control-group\">\n-                                           <label id=\"databaseNameLabel\" for=\"initialDatabase\">Database Name:</label>\n-                                           <input bind=\"initialDatabaseInput\" id=\"initialDatabase\" type=\"text\" placeholder=\"Enter Database\" class=\"pure-input-1-3\" required>\n-                                       </div>\n-                                       <div class=\"pure-control-group\" style=\"display:none;\">\n-                                           <label id=\"databaseSchemaLabel\" for=\"initialSchema\">Schema Name:</label>\n-                                           <input bind=\"initialSchemaInput\" id=\"initialSchema\" type=\"text\" placeholder=\"Enter Initial Schema\" class=\"pure-input-1-3\" required>\n-                                       </div>\n+\n+                                        <div class=\"pure-control-group dbtype-options dbt-postgresql dbt-mysql dbt-mariadb\">\n+                                          <label id=\"databaseHostLabel\" for=\"databaseHost\">Database Host:</label> \n+                                          <input bind=\"databaseHostInput\" id=\"databaseHost\" type=\"text\" placeholder=\"\" value=\"localhost\" class=\"pure-input-1-3\" required>\n+                                        </div>\n+                                        <div class=\"pure-control-group dbtype-options dbt-postgresql dbt-mysql dbt-mariadb\">\n+                                          <label id=\"databasePortLabel\" for=\"databasePort\">Database Port:</label> \n+                                          <input bind=\"databasePortInput\" id=\"databasePort\" type=\"text\" placeholder=\"\" value=\"5432\" class=\"pure-input-1-3\" required>\n+                                        </div>\n+                                        <div class=\"pure-control-group dbtype-options dbt-postgresql dbt-mysql dbt-mariadb\">\n+                                          <label id=\"databaseUserLabel\" for=\"databaseUser\">Database User:</label> \n+                                          <input bind=\"databaseUserInput\" id=\"databaseUser\" type=\"text\" placeholder=\"\" value=\"postgres\" class=\"pure-input-1-3\" required>\n+                                        </div>\n+                                        <div class=\"pure-control-group dbtype-options dbt-postgresql dbt-mysql dbt-mariadb\">\n+                                          <label id=\"databasePasswordLabel\" for=\"databasePassword\">Database Password:</label> ", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTEzODk1MQ=="}, "originalCommit": {"oid": "f1f2b8a0bb9d60e783de63aa5c02ee643bd81356"}, "originalPosition": 58}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2738, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}