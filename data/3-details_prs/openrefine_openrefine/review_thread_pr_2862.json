{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQzNjI4ODk2", "number": 2862, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQxOToyMDoxNlrOELBswg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wM1QwNTo1OTo1OVrOELIfJw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc5OTk3NjM0OnYy", "diffSide": "RIGHT", "path": "extensions/wikidata/tests/src/org/openrefine/wikidata/qa/scrutinizers/QuantityScrutinizerTest.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQxOToyMDoxNlrOGsaU1A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQxOToyMDoxNlrOGsaU1A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTIyMTg0NA==", "bodyText": "Why did you need to change this value? Isn't this changing the meaning of the tests below?", "url": "https://github.com/OpenRefine/OpenRefine/pull/2862#discussion_r449221844", "createdAt": "2020-07-02T19:20:16Z", "author": {"login": "wetneb"}, "path": "extensions/wikidata/tests/src/org/openrefine/wikidata/qa/scrutinizers/QuantityScrutinizerTest.java", "diffHunk": "@@ -24,10 +42,17 @@\n             new BigDecimal(\"1.545\"));\n     \n     private QuantityValue wrongUnitValue = Datamodel.makeQuantityValue(\n-            new BigDecimal(\"1.234\"), \"Q346721\");\n+            new BigDecimal(\"2\"), \"Q346721\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c9ed61efdaf64adf66248f439debae5882b4eb94"}, "originalPosition": 38}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc5OTk3ODk0OnYy", "diffSide": "RIGHT", "path": "extensions/wikidata/tests/src/org/openrefine/wikidata/qa/scrutinizers/QuantityScrutinizerTest.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQxOToyMToxNVrOGsaWZg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQxOToyMToxNVrOGsaWZg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTIyMjI0Ng==", "bodyText": "It would be better to reuse the constant declared in the scrutinizer, NO_BOUNDS_CONSTRAINT_QID (and same for all other tests).", "url": "https://github.com/OpenRefine/OpenRefine/pull/2862#discussion_r449222246", "createdAt": "2020-07-02T19:21:15Z", "author": {"login": "wetneb"}, "path": "extensions/wikidata/tests/src/org/openrefine/wikidata/qa/scrutinizers/QuantityScrutinizerTest.java", "diffHunk": "@@ -36,67 +61,190 @@ public EditScrutinizer getScrutinizer() {\n     \n     @Test\n     public void testBoundsAllowed() {\n-        scrutinize(valueWithBounds);\n+        ItemIdValue idA = TestingData.existingId;\n+        Snak mainSnak = Datamodel.makeSomeValueSnak(propertyIdValue);\n+        Statement statement = new StatementImpl(\"P1083\", mainSnak, idA);\n+        ItemUpdate update = new ItemUpdateBuilder(idA).addStatement(statement).build();\n+\n+        ConstraintFetcher fetcher = mock(ConstraintFetcher.class);\n+        when(fetcher.getConstraintsByType(propertyIdValue, \"Q51723761\")).thenReturn(new ArrayList<>());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c9ed61efdaf64adf66248f439debae5882b4eb94"}, "originalPosition": 64}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgwMTA4ODM5OnYy", "diffSide": "RIGHT", "path": "extensions/wikidata/tests/src/org/openrefine/wikidata/qa/scrutinizers/QuantityScrutinizerTest.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wM1QwNTo1OTo1OVrOGsknRA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wM1QwNTo1OTo1OVrOGsknRA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTM5MDQwNA==", "bodyText": "This could be simply imported from the QuantityScrutinizer itself.", "url": "https://github.com/OpenRefine/OpenRefine/pull/2862#discussion_r449390404", "createdAt": "2020-07-03T05:59:59Z", "author": {"login": "wetneb"}, "path": "extensions/wikidata/tests/src/org/openrefine/wikidata/qa/scrutinizers/QuantityScrutinizerTest.java", "diffHunk": "@@ -27,7 +45,18 @@\n             new BigDecimal(\"1.234\"), \"Q346721\");\n     \n     private QuantityValue goodUnitValue = Datamodel.makeQuantityValue(\n-            new BigDecimal(\"1.234\"), MockConstraintFetcher.allowedUnit.getIri());\n+            new BigDecimal(\"1.234\"), (ItemIdValue) allowedUnit);\n+\n+    public static String NO_BOUNDS_CONSTRAINT_QID = \"Q51723761\";\n+    public static String INTEGER_VALUED_CONSTRAINT_QID = \"Q52848401\";\n+    public static String ALLOWED_UNITS_CONSTRAINT_QID = \"Q21514353\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "93d3ffc12cd2f2ee85d64535d75a8e00941d70bc"}, "originalPosition": 42}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2641, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}