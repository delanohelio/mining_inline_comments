{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDcxNjAxNjkw", "number": 3104, "title": "internationalised the label using $.i18n", "bodyText": "Fixes #3069", "createdAt": "2020-08-21T12:23:21Z", "url": "https://github.com/OpenRefine/OpenRefine/pull/3104", "merged": true, "mergeCommit": {"oid": "047d7c2de47523e0b045511f925f019ddf57b9a9"}, "closed": true, "closedAt": "2020-10-01T09:31:30Z", "author": {"login": "chetan-v"}, "timelineItems": {"totalCount": 15, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdBD0nsgH2gAyNDcxNjAxNjkwOmUyZWExYjRhZTNhZGFlZTE5NTUyN2JmZmVkNDA4YmZhMTJkZDViMzc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdON_tsAFqTUwMDE2ODE5OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "e2ea1b4ae3adaee195527bffed408bfa12dd5b37", "author": {"user": null}, "url": "https://github.com/OpenRefine/OpenRefine/commit/e2ea1b4ae3adaee195527bffed408bfa12dd5b37", "committedDate": "2020-08-21T12:18:21Z", "message": "internationalised the label using $.i18n"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e4aa8cb7b895ef8d1d30596c7144f0c65c2dec44", "author": {"user": null}, "url": "https://github.com/OpenRefine/OpenRefine/commit/e4aa8cb7b895ef8d1d30596c7144f0c65c2dec44", "committedDate": "2020-08-21T12:27:04Z", "message": "fix some problem"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "185e17827a84f2dbc48f46da79de238a75f4d7f1", "author": {"user": null}, "url": "https://github.com/OpenRefine/OpenRefine/commit/185e17827a84f2dbc48f46da79de238a75f4d7f1", "committedDate": "2020-08-21T14:31:01Z", "message": "make it more clear and understandable"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDczMDA2NTU5", "url": "https://github.com/OpenRefine/OpenRefine/pull/3104#pullrequestreview-473006559", "createdAt": "2020-08-23T12:17:57Z", "commit": {"oid": "185e17827a84f2dbc48f46da79de238a75f4d7f1"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "801c212da75af371354e691dc7ee16ffd9932bb8", "author": {"user": null}, "url": "https://github.com/OpenRefine/OpenRefine/commit/801c212da75af371354e691dc7ee16ffd9932bb8", "committedDate": "2020-08-23T14:19:01Z", "message": "change prefix 'core-buttons/ to 'core-import-formats'"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc3MTA3MzAw", "url": "https://github.com/OpenRefine/OpenRefine/pull/3104#pullrequestreview-477107300", "createdAt": "2020-08-27T21:47:21Z", "commit": {"oid": "801c212da75af371354e691dc7ee16ffd9932bb8"}, "state": "DISMISSED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yN1QyMTo0NzoyMVrOHIiZpA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yN1QyMTo0ODozOFrOHIibtA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODcxNDI3Ng==", "bodyText": "There's a typo in formateNames, but rather than just fixing that, let's use a variable name which indicates what it contains.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                var formateNames =Refine.importingConfig.formats[format].label;\n          \n          \n            \n                var formatLabelKey =Refine.importingConfig.formats[format].label;\n          \n      \n    \n    \n  \n\nWe'll leave format.label unchanged for compatibility.", "url": "https://github.com/OpenRefine/OpenRefine/pull/3104#discussion_r478714276", "createdAt": "2020-08-27T21:47:21Z", "author": {"login": "tfmorris"}, "path": "main/webapp/modules/core/scripts/index/default-importing-controller/parsing-panel.js", "diffHunk": "@@ -141,8 +141,9 @@ Refine.DefaultImportingController.prototype._prepareParsingPanel = function() {\n \n   var formats = this._job.config.rankedFormats;\n   var createFormatTab = function(format) {\n+    var formateNames =Refine.importingConfig.formats[format].label;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "801c212da75af371354e691dc7ee16ffd9932bb8"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODcxNDgwNA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                .text( $.i18n(formateNames))\n          \n          \n            \n                .text( $.i18n(formatLabelKey))", "url": "https://github.com/OpenRefine/OpenRefine/pull/3104#discussion_r478714804", "createdAt": "2020-08-27T21:48:38Z", "author": {"login": "tfmorris"}, "path": "main/webapp/modules/core/scripts/index/default-importing-controller/parsing-panel.js", "diffHunk": "@@ -141,8 +141,9 @@ Refine.DefaultImportingController.prototype._prepareParsingPanel = function() {\n \n   var formats = this._job.config.rankedFormats;\n   var createFormatTab = function(format) {\n+    var formateNames =Refine.importingConfig.formats[format].label;\n     var tab = $('<div>')\n-    .text(Refine.importingConfig.formats[format].label)\n+    .text( $.i18n(formateNames))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "801c212da75af371354e691dc7ee16ffd9932bb8"}, "originalPosition": 7}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "40cbb168344251869a8b9c85e9f83e10e2cecf4d", "author": {"user": null}, "url": "https://github.com/OpenRefine/OpenRefine/commit/40cbb168344251869a8b9c85e9f83e10e2cecf4d", "committedDate": "2020-08-28T06:02:22Z", "message": "formateNames to formateLabelKey"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "50032120e09fdbe858f27b64c42022f542ce3228", "author": {"user": null}, "url": "https://github.com/OpenRefine/OpenRefine/commit/50032120e09fdbe858f27b64c42022f542ce3228", "committedDate": "2020-08-28T06:04:37Z", "message": "fix spelling mistake"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc3MjYyMTQx", "url": "https://github.com/OpenRefine/OpenRefine/pull/3104#pullrequestreview-477262141", "createdAt": "2020-08-28T06:08:11Z", "commit": {"oid": "50032120e09fdbe858f27b64c42022f542ce3228"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQwNjowODoxMVrOHIqsdw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQwNjowODoxMVrOHIqsdw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODg1MDE2Nw==", "bodyText": "The text/line-based/pc-axis format is defined in the pc-axis extension, so this translation message should be in that extension, not in the main Butterfly module.", "url": "https://github.com/OpenRefine/OpenRefine/pull/3104#discussion_r478850167", "createdAt": "2020-08-28T06:08:11Z", "author": {"login": "wetneb"}, "path": "main/webapp/modules/core/langs/translation-en.json", "diffHunk": "@@ -749,5 +749,23 @@\n     \"core-buttons/match\": \"Match\",\n     \"core-buttons/copy\": \"Copy\",\n     \"core-buttons/transpose\": \"Transpose\",\n-    \"core-buttons/apply-to-all\": \"Apply to All Identical Cells\"\n+    \"core-buttons/apply-to-all\": \"Apply to All Identical Cells\",\n+    \"core-import-formats/text/line-based\": \"Line-based text files\",\n+    \"core-import-formats/text/line-based/*sv\": \"CSV / TSV / separator-based files\",\n+    \"core-import-formats/text/line-based/fixed-width\": \"Fixed-width field text files\",\n+    \"core-import-formats/text/rdf/nt\": \"RDF/N-Triples files\",\n+    \"core-import-formats/text/rdf/n3\": \"RDF/N3 files\",\n+    \"core-import-formats/text/rdf/ttl\": \"RDF/Turtle files\",\n+    \"core-import-formats/text/rdf/xml\": \"RDF/XML files\",\n+    \"core-import-formats/text/rdf/ld+json\": \"JSON-LD files\",\n+    \"core-import-formats/text/xml\": \"XML files\",\n+    \"core-import-formats/binary/text/xml/xls/xlsx\": \"Excel files\",\n+    \"core-import-formats/text/xml/ods\": \"Open Document Format spreadsheets (.ods)\",\n+    \"core-import-formats/text/json\": \"JSON files\",\n+    \"core-import-formats/text/marc\": \"MARC files\",\n+    \"core-import-formats/text/wiki\": \"Wikitext\",\n+    \"core-import-formats/text/line-based/pc-axis\": \"PC-Axis text files\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "50032120e09fdbe858f27b64c42022f542ce3228"}, "originalPosition": 20}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ae761f346b4bc24be484d6602cd1defaf30c1fcd", "author": {"user": null}, "url": "https://github.com/OpenRefine/OpenRefine/commit/ae761f346b4bc24be484d6602cd1defaf30c1fcd", "committedDate": "2020-08-28T06:47:40Z", "message": "add translation-en.json in pc-axis"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4b09efe63188737fb4e82fcee423a177a31364a8", "author": {"user": null}, "url": "https://github.com/OpenRefine/OpenRefine/commit/4b09efe63188737fb4e82fcee423a177a31364a8", "committedDate": "2020-08-28T07:03:30Z", "message": "remove from previous file"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0b0c8cf46e21862e0535f2e707c065500374a8cc", "author": {"user": null}, "url": "https://github.com/OpenRefine/OpenRefine/commit/0b0c8cf46e21862e0535f2e707c065500374a8cc", "committedDate": "2020-08-28T09:54:41Z", "message": "Add internationalized activation"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk5NTgwMzE1", "url": "https://github.com/OpenRefine/OpenRefine/pull/3104#pullrequestreview-499580315", "createdAt": "2020-09-30T15:54:46Z", "commit": {"oid": "0b0c8cf46e21862e0535f2e707c065500374a8cc"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "66aa63d4d52e5a79d2a0d6b6f334abf8b4add946", "author": {"user": null}, "url": "https://github.com/OpenRefine/OpenRefine/commit/66aa63d4d52e5a79d2a0d6b6f334abf8b4add946", "committedDate": "2020-10-01T03:07:02Z", "message": "improvement in pc-axis langs"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAwMTY4MTk4", "url": "https://github.com/OpenRefine/OpenRefine/pull/3104#pullrequestreview-500168198", "createdAt": "2020-10-01T09:30:32Z", "commit": {"oid": "66aa63d4d52e5a79d2a0d6b6f334abf8b4add946"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3454, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}