{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQxMzg1NTgz", "number": 3851, "title": "Todo for user", "bodyText": "Description (required)\nFixes #1870\nYou can see the todo warning to improve the quality of the image below\n\nAfter selecting edit icon, a filter will appear\n\n\nThen after selecting and clicking to update categories button category will be added\n\nNote: I didn't preferred to add an icon to contributions list to indicate the todo list, since #3783 also adds an icon to contributions list. Two different icons for almost same thing would be confusing. I think after this PR is merged, we should move wikipedia association button to inside (media details fragment) and todo (for missing category and wikipedia association) to outside (category list).", "createdAt": "2020-06-29T12:41:25Z", "url": "https://github.com/commons-app/apps-android-commons/pull/3851", "merged": true, "mergeCommit": {"oid": "1856196851bf6db076ce1d637b1f516fa79e487a"}, "closed": true, "closedAt": "2020-08-17T11:30:47Z", "author": {"login": "neslihanturan"}, "timelineItems": {"totalCount": 43, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcpYMQQgH2gAyNDQxMzg1NTgzOjQ5NzQ2NjI4NWNlNGYwZTM2MTkwODJkYjk2NWFjZDRkZjc3MTZlNDE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc_wvc3gFqTQ2ODM4MzAxNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "497466285ce4f0e3619082db965acd4df7716e41", "author": {"user": {"login": "neslihanturan", "name": "neslihanturan"}}, "url": "https://github.com/commons-app/apps-android-commons/commit/497466285ce4f0e3619082db965acd4df7716e41", "committedDate": "2020-06-08T22:28:05Z", "message": "Add a simple message"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "852c824798265accb46ac7e7e36d80183ebb12a9", "author": {"user": {"login": "neslihanturan", "name": "neslihanturan"}}, "url": "https://github.com/commons-app/apps-android-commons/commit/852c824798265accb46ac7e7e36d80183ebb12a9", "committedDate": "2020-06-13T09:06:59Z", "message": "Categories are edited"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b19d2919a3e1569153342e18893c45244f676f1f", "author": {"user": {"login": "neslihanturan", "name": "neslihanturan"}}, "url": "https://github.com/commons-app/apps-android-commons/commit/b19d2919a3e1569153342e18893c45244f676f1f", "committedDate": "2020-06-17T17:24:53Z", "message": "Display categories"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5c71174161775ef1f66b711a369ce51df2c8517c", "author": {"user": {"login": "neslihanturan", "name": "neslihanturan"}}, "url": "https://github.com/commons-app/apps-android-commons/commit/5c71174161775ef1f66b711a369ce51df2c8517c", "committedDate": "2020-06-25T08:55:33Z", "message": "read whole page"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM5MTAxNDcx", "url": "https://github.com/commons-app/apps-android-commons/pull/3851#pullrequestreview-439101471", "createdAt": "2020-06-29T12:41:30Z", "commit": {"oid": "5c71174161775ef1f66b711a369ce51df2c8517c"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "17f0c2ccd65663ee66ca0407891ff07fd99d3cc1", "author": {"user": {"login": "neslihanturan", "name": "neslihanturan"}}, "url": "https://github.com/commons-app/apps-android-commons/commit/17f0c2ccd65663ee66ca0407891ff07fd99d3cc1", "committedDate": "2020-07-01T12:31:50Z", "message": "Revert wrong changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2df909e9671784537d7b998f51da51e233d23a5a", "author": {"user": {"login": "neslihanturan", "name": "neslihanturan"}}, "url": "https://github.com/commons-app/apps-android-commons/commit/2df909e9671784537d7b998f51da51e233d23a5a", "committedDate": "2020-07-01T15:05:58Z", "message": "Add newly added category field"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6c2c4ee03c03921b734682254b216cd72e8db015", "author": {"user": {"login": "neslihanturan", "name": "neslihanturan"}}, "url": "https://github.com/commons-app/apps-android-commons/commit/6c2c4ee03c03921b734682254b216cd72e8db015", "committedDate": "2020-07-01T15:52:59Z", "message": "Doesnt displaey alreasy added categories"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "413626e2d672fb6fdccfe92b4b6a34b5664c7214", "author": {"user": {"login": "neslihanturan", "name": "neslihanturan"}}, "url": "https://github.com/commons-app/apps-android-commons/commit/413626e2d672fb6fdccfe92b4b6a34b5664c7214", "committedDate": "2020-07-03T14:39:38Z", "message": "add strings for notifications"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3f0c3d22305091e0d80e90f4d026110374e9a4b4", "author": {"user": {"login": "neslihanturan", "name": "neslihanturan"}}, "url": "https://github.com/commons-app/apps-android-commons/commit/3f0c3d22305091e0d80e90f4d026110374e9a4b4", "committedDate": "2020-07-03T18:24:32Z", "message": "Fix conflicts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "085fea692e4a859440ad5a26b71092bc73db74ae", "author": {"user": {"login": "neslihanturan", "name": "neslihanturan"}}, "url": "https://github.com/commons-app/apps-android-commons/commit/085fea692e4a859440ad5a26b71092bc73db74ae", "committedDate": "2020-07-06T13:06:55Z", "message": "clean code"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "645a7dc494524e2899699abaceeeb1a2c05abe85", "author": {"user": {"login": "neslihanturan", "name": "neslihanturan"}}, "url": "https://github.com/commons-app/apps-android-commons/commit/645a7dc494524e2899699abaceeeb1a2c05abe85", "committedDate": "2020-07-07T10:46:34Z", "message": "Merge remote-tracking branch 'upstream/master' into todoForUser"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4d4888f4fd59711b27f9263c31e137a17a4906ac", "author": {"user": {"login": "neslihanturan", "name": "neslihanturan"}}, "url": "https://github.com/commons-app/apps-android-commons/commit/4d4888f4fd59711b27f9263c31e137a17a4906ac", "committedDate": "2020-07-07T11:12:28Z", "message": "Readd accidentally removed imports"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a9bff0ebc02d9f471db1f77a1826d507808fe043", "author": {"user": {"login": "neslihanturan", "name": "neslihanturan"}}, "url": "https://github.com/commons-app/apps-android-commons/commit/a9bff0ebc02d9f471db1f77a1826d507808fe043", "committedDate": "2020-07-07T16:33:08Z", "message": "Fix edit layout style"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3bce4e5eca06455c0380add9d6c5e9783cac300f", "author": {"user": {"login": "neslihanturan", "name": "neslihanturan"}}, "url": "https://github.com/commons-app/apps-android-commons/commit/3bce4e5eca06455c0380add9d6c5e9783cac300f", "committedDate": "2020-07-07T17:22:12Z", "message": "Fix category update messages"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4ed95482180a7a54fa7efbc3cdc353764cd5a9fb", "author": {"user": {"login": "neslihanturan", "name": "neslihanturan"}}, "url": "https://github.com/commons-app/apps-android-commons/commit/4ed95482180a7a54fa7efbc3cdc353764cd5a9fb", "committedDate": "2020-07-07T20:43:15Z", "message": "Pass isWikipediaButtonDisplayed information to fragment"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9d70ea418d33c57c435c4c906633226c76f930e8", "author": {"user": {"login": "neslihanturan", "name": "neslihanturan"}}, "url": "https://github.com/commons-app/apps-android-commons/commit/9d70ea418d33c57c435c4c906633226c76f930e8", "committedDate": "2020-07-07T21:18:46Z", "message": "Remove unused class"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0729554799b92b981017d14e6a1b34d2ed7d4f81", "author": {"user": {"login": "neslihanturan", "name": "neslihanturan"}}, "url": "https://github.com/commons-app/apps-android-commons/commit/0729554799b92b981017d14e6a1b34d2ed7d4f81", "committedDate": "2020-07-07T22:50:41Z", "message": "Fix strings"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8cb80d5bac6b76c05585b163d7ba7e80fc0c42d9", "author": {"user": {"login": "neslihanturan", "name": "neslihanturan"}}, "url": "https://github.com/commons-app/apps-android-commons/commit/8cb80d5bac6b76c05585b163d7ba7e80fc0c42d9", "committedDate": "2020-07-07T23:16:26Z", "message": "Fix conflicts"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ1MTIyOTM0", "url": "https://github.com/commons-app/apps-android-commons/pull/3851#pullrequestreview-445122934", "createdAt": "2020-07-08T20:56:49Z", "commit": {"oid": "8cb80d5bac6b76c05585b163d7ba7e80fc0c42d9"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOFQyMDo1Njo0OVrOGu48aA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOFQyMDo1Njo0OVrOGu48aA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTgyMDY0OA==", "bodyText": "Please reset this", "url": "https://github.com/commons-app/apps-android-commons/pull/3851#discussion_r451820648", "createdAt": "2020-07-08T20:56:49Z", "author": {"login": "ashishkumar468"}, "path": ".idea/codeStyles/Project.xml", "diffHunk": "@@ -111,9 +111,7 @@\n       <option name=\"WHILE_BRACE_FORCE\" value=\"3\" />\n       <option name=\"FOR_BRACE_FORCE\" value=\"3\" />\n       <indentOptions>\n-        <option name=\"INDENT_SIZE\" value=\"2\" />\n         <option name=\"CONTINUATION_INDENT_SIZE\" value=\"4\" />\n-        <option name=\"TAB_SIZE\" value=\"2\" />", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8cb80d5bac6b76c05585b163d7ba7e80fc0c42d9"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ1NzMxMDA0", "url": "https://github.com/commons-app/apps-android-commons/pull/3851#pullrequestreview-445731004", "createdAt": "2020-07-09T15:30:39Z", "commit": {"oid": "8cb80d5bac6b76c05585b163d7ba7e80fc0c42d9"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOVQxNTozMDozOVrOGvWhBQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOVQxNTozMjo0OVrOGvWmxA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjMwNTE1Nw==", "bodyText": "I think \"Suggested improvements:\" would be better.", "url": "https://github.com/commons-app/apps-android-commons/pull/3851#discussion_r452305157", "createdAt": "2020-07-09T15:30:39Z", "author": {"login": "misaochan"}, "path": "app/src/main/res/values/strings.xml", "diffHunk": "@@ -636,6 +647,10 @@ Upload your first media by tapping on the add button.</string>\n   <string name=\"load_more\">Load More</string>\n   <string name=\"nearby_no_results\">No places found, try changing your search criteria.</string>\n \n+  <string name=\"todo_improve\">You can improve free knowledge as following</string>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8cb80d5bac6b76c05585b163d7ba7e80fc0c42d9"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjMwNjE1OA==", "bodyText": "\"- Add categories to this image to improve usability\"", "url": "https://github.com/commons-app/apps-android-commons/pull/3851#discussion_r452306158", "createdAt": "2020-07-09T15:32:08Z", "author": {"login": "misaochan"}, "path": "app/src/main/res/values/strings.xml", "diffHunk": "@@ -636,6 +647,10 @@ Upload your first media by tapping on the add button.</string>\n   <string name=\"load_more\">Load More</string>\n   <string name=\"nearby_no_results\">No places found, try changing your search criteria.</string>\n \n+  <string name=\"todo_improve\">You can improve free knowledge as following</string>\n+  <string name=\"missing_category\">- Images that they uploaded with no categories, you can add them.</string>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8cb80d5bac6b76c05585b163d7ba7e80fc0c42d9"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjMwNjYyOA==", "bodyText": "\"- Add this image to the associated Wikipedia article that has no images\"", "url": "https://github.com/commons-app/apps-android-commons/pull/3851#discussion_r452306628", "createdAt": "2020-07-09T15:32:49Z", "author": {"login": "misaochan"}, "path": "app/src/main/res/values/strings.xml", "diffHunk": "@@ -636,6 +647,10 @@ Upload your first media by tapping on the add button.</string>\n   <string name=\"load_more\">Load More</string>\n   <string name=\"nearby_no_results\">No places found, try changing your search criteria.</string>\n \n+  <string name=\"todo_improve\">You can improve free knowledge as following</string>\n+  <string name=\"missing_category\">- Images that they uploaded with no categories, you can add them.</string>\n+  <string name=\"missing_article\">- Image that can be added to associated Wikipedia articles that have no pictures. You can associate it.</string>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8cb80d5bac6b76c05585b163d7ba7e80fc0c42d9"}, "originalPosition": 24}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "701e516cc70d4acbc3aa714d4248505d7c63ab0c", "author": {"user": {"login": "neslihanturan", "name": "neslihanturan"}}, "url": "https://github.com/commons-app/apps-android-commons/commit/701e516cc70d4acbc3aa714d4248505d7c63ab0c", "committedDate": "2020-07-10T20:37:10Z", "message": "Fix string"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "439da0bb6053b85190f56e30370340f63e76d18c", "author": {"user": {"login": "neslihanturan", "name": "neslihanturan"}}, "url": "https://github.com/commons-app/apps-android-commons/commit/439da0bb6053b85190f56e30370340f63e76d18c", "committedDate": "2020-07-10T20:58:36Z", "message": "Add exeption for uncategorised images too"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "eb9275f06b92ff19ca3e94620a29576d8fdffd4c", "author": {"user": {"login": "neslihanturan", "name": "neslihanturan"}}, "url": "https://github.com/commons-app/apps-android-commons/commit/eb9275f06b92ff19ca3e94620a29576d8fdffd4c", "committedDate": "2020-07-10T21:07:19Z", "message": "Revert project.xml changes"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ2NzAyMjgz", "url": "https://github.com/commons-app/apps-android-commons/pull/3851#pullrequestreview-446702283", "createdAt": "2020-07-10T21:09:24Z", "commit": {"oid": "eb9275f06b92ff19ca3e94620a29576d8fdffd4c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMFQyMTowOToyNVrOGwFtcw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMFQyMTowOToyNVrOGwFtcw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzA3ODM4Nw==", "bodyText": "I didnt add any new lines at the and of the file, I dont get what this change is. Any idea?", "url": "https://github.com/commons-app/apps-android-commons/pull/3851#discussion_r453078387", "createdAt": "2020-07-10T21:09:25Z", "author": {"login": "neslihanturan"}, "path": ".idea/codeStyles/Project.xml", "diffHunk": "@@ -325,4 +325,4 @@\n       </indentOptions>\n     </codeStyleSettings>\n   </code_scheme>\n-</component>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "eb9275f06b92ff19ca3e94620a29576d8fdffd4c"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ2Nzk4ODAz", "url": "https://github.com/commons-app/apps-android-commons/pull/3851#pullrequestreview-446798803", "createdAt": "2020-07-11T12:12:59Z", "commit": {"oid": "439da0bb6053b85190f56e30370340f63e76d18c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMVQxMjoxMzowMFrOGwMdzA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMVQxMjoxMzowMFrOGwMdzA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzE4OTA2OA==", "bodyText": "Are we sure that this will work? The \"uncategorized\" category is actually \"Media needing categories as of [Date]\", see https://commons.wikimedia.org/wiki/File:Horse_transport.jpg", "url": "https://github.com/commons-app/apps-android-commons/pull/3851#discussion_r453189068", "createdAt": "2020-07-11T12:13:00Z", "author": {"login": "misaochan"}, "path": "app/src/main/java/fr/free/nrw/commons/category/CategoryClient.kt", "diffHunk": "@@ -8,6 +8,8 @@ import javax.inject.Singleton\n const val CATEGORY_PREFIX = \"Category:\"\n const val SUB_CATEGORY_CONTINUATION_PREFIX = \"sub_category_\"\n const val PARENT_CATEGORY_CONTINUATION_PREFIX = \"parent_category_\"\n+const val CATEGORY_UNCATEGORISED = \"uncategorised\"\n+const val CATEGORY_NEEDING_CATEGORIES = \"needing categories\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "439da0bb6053b85190f56e30370340f63e76d18c"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ffc548a04d5e6e2b5724cb86978fb39301bfa059", "author": {"user": {"login": "neslihanturan", "name": "neslihanturan"}}, "url": "https://github.com/commons-app/apps-android-commons/commit/ffc548a04d5e6e2b5724cb86978fb39301bfa059", "committedDate": "2020-07-13T12:50:44Z", "message": "fix update buttonvisibility issue"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "94c7b024a12e05462df58e35633019230f45eab8", "author": {"user": {"login": "neslihanturan", "name": "neslihanturan"}}, "url": "https://github.com/commons-app/apps-android-commons/commit/94c7b024a12e05462df58e35633019230f45eab8", "committedDate": "2020-07-13T13:24:10Z", "message": "Make sure it works for auto added categories too"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "332d3cbfa3c1c5db4887c8af26dde14372642dfd", "author": {"user": {"login": "neslihanturan", "name": "neslihanturan"}}, "url": "https://github.com/commons-app/apps-android-commons/commit/332d3cbfa3c1c5db4887c8af26dde14372642dfd", "committedDate": "2020-07-14T10:12:59Z", "message": "make the button visible"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f292cd131ff96e795272ce7b3cbb80747dcda6a8", "author": {"user": {"login": "neslihanturan", "name": "neslihanturan"}}, "url": "https://github.com/commons-app/apps-android-commons/commit/f292cd131ff96e795272ce7b3cbb80747dcda6a8", "committedDate": "2020-07-14T10:13:51Z", "message": "Make the button appear when categories are entered"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "672b7b0c702d61eeb7ce6414eb9c8f0b339bcad5", "author": {"user": {"login": "neslihanturan", "name": "neslihanturan"}}, "url": "https://github.com/commons-app/apps-android-commons/commit/672b7b0c702d61eeb7ce6414eb9c8f0b339bcad5", "committedDate": "2020-07-14T17:38:09Z", "message": "Include cancel button"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "db2fe3cd37f83ce0ac6ab4c8617d0d897b0a3eff", "author": {"user": {"login": "neslihanturan", "name": "neslihanturan"}}, "url": "https://github.com/commons-app/apps-android-commons/commit/db2fe3cd37f83ce0ac6ab4c8617d0d897b0a3eff", "committedDate": "2020-07-22T09:29:18Z", "message": "Make view updated too"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0aff3ed183b2e582d04d452112cbd83b2fa5dc78", "author": {"user": {"login": "neslihanturan", "name": "neslihanturan"}}, "url": "https://github.com/commons-app/apps-android-commons/commit/0aff3ed183b2e582d04d452112cbd83b2fa5dc78", "committedDate": "2020-07-23T15:34:25Z", "message": "Make category view edited"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "05fc9a7817c481c05bd972e3569b622574daf0ab", "author": {"user": {"login": "neslihanturan", "name": "neslihanturan"}}, "url": "https://github.com/commons-app/apps-android-commons/commit/05fc9a7817c481c05bd972e3569b622574daf0ab", "committedDate": "2020-07-27T11:08:32Z", "message": "Update categories in an hacky way"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU1NzA0MzI5", "url": "https://github.com/commons-app/apps-android-commons/pull/3851#pullrequestreview-455704329", "createdAt": "2020-07-27T11:41:22Z", "commit": {"oid": "05fc9a7817c481c05bd972e3569b622574daf0ab"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yN1QxMTo0MToyMlrOG3e3fw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yN1QxMTo0MToyMlrOG3e3fw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDgzMDU5MQ==", "bodyText": "Here @ashishkumar468 , there is no need to build a reason. I just tried to mimic the same implementation as deleteHelper which does not raise exception. I don't know what I can put to this line, to be able to call flatMap.\nFor other implementation, see line 747 of same file\n    private void onDeleteClicked(Spinner spinner) {", "url": "https://github.com/commons-app/apps-android-commons/pull/3851#discussion_r460830591", "createdAt": "2020-07-27T11:41:22Z", "author": {"login": "neslihanturan"}, "path": "app/src/main/java/fr/free/nrw/commons/media/MediaDetailFragment.java", "diffHunk": "@@ -467,6 +622,55 @@ public void onCopyWikicodeClicked(){\n         Toast.makeText(getContext(), getString(R.string.wikicode_copied), Toast.LENGTH_SHORT).show();\n     }\n \n+    @OnClick(R.id.dummy_category_edit_container)\n+    public void onOutsideOfCategoryEditClicked() {\n+        if (dummyCategoryEditContainer.getVisibility() == VISIBLE) {\n+            dummyCategoryEditContainer.setVisibility(GONE);\n+        }\n+    }\n+\n+    @OnClick(R.id.categoryEditButton)\n+    public void onCategoryEditButtonClicked(){\n+        displayHideCategorySearch();\n+    }\n+\n+    public void displayHideCategorySearch() {\n+        if (dummyCategoryEditContainer.getVisibility() != VISIBLE) {\n+            dummyCategoryEditContainer.setVisibility(VISIBLE);\n+        } else {\n+            dummyCategoryEditContainer.setVisibility(GONE);\n+        }\n+    }\n+\n+    @OnClick(R.id.update_categories_button)\n+    public void onUpdateCategoriesClicked() {\n+       updateCategories(categoryEditSearchRecyclerViewAdapter.getNewCategories());\n+        displayHideCategorySearch();\n+    }\n+\n+    @OnClick(R.id.cancel_categories_button)\n+    public void onCancelCategoriesClicked() {\n+        displayHideCategorySearch();\n+    }\n+\n+    public void updateCategories(List<String> selectedCategories) {\n+        Single<Boolean> resultSingle =reasonBuilder.getReason(media, null)\n+            .flatMap((reason) -> categoryEditHelper.makeCategoryEdit(getContext(), media, selectedCategories, this));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "05fc9a7817c481c05bd972e3569b622574daf0ab"}, "originalPosition": 373}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bd63a0af039bef95bd8f6c4117a14fcc851de592", "author": {"user": {"login": "neslihanturan", "name": "neslihanturan"}}, "url": "https://github.com/commons-app/apps-android-commons/commit/bd63a0af039bef95bd8f6c4117a14fcc851de592", "committedDate": "2020-08-03T10:24:24Z", "message": "Fix unnecessary method call"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6f453e0ea99a1586794aeb1503df0198c04c7364", "author": {"user": {"login": "neslihanturan", "name": "neslihanturan"}}, "url": "https://github.com/commons-app/apps-android-commons/commit/6f453e0ea99a1586794aeb1503df0198c04c7364", "committedDate": "2020-08-03T11:27:40Z", "message": "Add notes for short term fix to display added category"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "30967352635dfdf6dcb412810b118f52e88e1ca4", "author": {"user": {"login": "neslihanturan", "name": "neslihanturan"}}, "url": "https://github.com/commons-app/apps-android-commons/commit/30967352635dfdf6dcb412810b118f52e88e1ca4", "committedDate": "2020-08-11T06:15:44Z", "message": "Fix tests"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY1MzU2ODEz", "url": "https://github.com/commons-app/apps-android-commons/pull/3851#pullrequestreview-465356813", "createdAt": "2020-08-11T19:15:48Z", "commit": {"oid": "30967352635dfdf6dcb412810b118f52e88e1ca4"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMVQxOToxNTo0OFrOG_FyNA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMVQxOToxNTo0OFrOG_FyNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODgwODI0NA==", "bodyText": "Based on my interpretation, the notification title would be \"Categories are updated: Success\" if the categories are successfully updated, and \"Categories are updated: Could not add categories\" if they are not, right? In that case I think this string should be Category update instead of Categories are updated.", "url": "https://github.com/commons-app/apps-android-commons/pull/3851#discussion_r468808244", "createdAt": "2020-08-11T19:15:48Z", "author": {"login": "misaochan"}, "path": "app/src/main/res/values/strings.xml", "diffHunk": "@@ -598,6 +598,18 @@ Upload your first media by tapping on the add button.</string>\n   <string name=\"delete_helper_ask_reason_copyright_logo\">Logo</string>\n   <string name=\"delete_helper_ask_reason_copyright_other\">Other</string>\n   <string name=\"delete_helper_ask_alert_set_positive_button_reason\">Because it is</string>\n+\n+  <string name=\"category_edit_helper_make_edit_toast\">Trying to update categories.</string>\n+  <string name=\"category_edit_helper_show_edit_title\">Categories are updated</string>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "30967352635dfdf6dcb412810b118f52e88e1ca4"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY1MzU3Nzkx", "url": "https://github.com/commons-app/apps-android-commons/pull/3851#pullrequestreview-465357791", "createdAt": "2020-08-11T19:17:20Z", "commit": {"oid": "30967352635dfdf6dcb412810b118f52e88e1ca4"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMVQxOToxNzoyMFrOG_F1PQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMVQxOToxNzoyMFrOG_F1PQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODgwOTAyMQ==", "bodyText": "Is this string ever used?", "url": "https://github.com/commons-app/apps-android-commons/pull/3851#discussion_r468809021", "createdAt": "2020-08-11T19:17:20Z", "author": {"login": "misaochan"}, "path": "app/src/main/res/values/strings.xml", "diffHunk": "@@ -598,6 +598,18 @@ Upload your first media by tapping on the add button.</string>\n   <string name=\"delete_helper_ask_reason_copyright_logo\">Logo</string>\n   <string name=\"delete_helper_ask_reason_copyright_other\">Other</string>\n   <string name=\"delete_helper_ask_alert_set_positive_button_reason\">Because it is</string>\n+\n+  <string name=\"category_edit_helper_make_edit_toast\">Trying to update categories.</string>\n+  <string name=\"category_edit_helper_show_edit_title\">Categories are updated</string>\n+  <string name=\"category_edit_helper_show_edit_title_success\">Success</string>\n+  <plurals name=\"category_edit_helper_show_edit_message_if\">\n+    <item quantity=\"one\">Category %1$s is added.</item>\n+    <item quantity=\"other\">Categories %1$s are added.</item>\n+  </plurals>\n+  <string name=\"category_edit_helper_show_edit_title_failed\">Failed</string>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "30967352635dfdf6dcb412810b118f52e88e1ca4"}, "originalPosition": 12}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "70a469ac4b29051f4faf19b485b745a841d45c05", "author": {"user": {"login": "neslihanturan", "name": "neslihanturan"}}, "url": "https://github.com/commons-app/apps-android-commons/commit/70a469ac4b29051f4faf19b485b745a841d45c05", "committedDate": "2020-08-13T12:14:40Z", "message": "Fix strings"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a551c76c2d7cf5271021af44cb5a43a9ab7f7797", "author": {"user": {"login": "neslihanturan", "name": "neslihanturan"}}, "url": "https://github.com/commons-app/apps-android-commons/commit/a551c76c2d7cf5271021af44cb5a43a9ab7f7797", "committedDate": "2020-08-13T12:15:08Z", "message": "Fix click issue"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY4MzgzMDE1", "url": "https://github.com/commons-app/apps-android-commons/pull/3851#pullrequestreview-468383015", "createdAt": "2020-08-17T11:30:35Z", "commit": {"oid": "a551c76c2d7cf5271021af44cb5a43a9ab7f7797"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 630, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}