{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg5MTA2MDUz", "number": 3522, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQwOTo0ODo0OFrODoQW3A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQxMDo0NTo1OFrODoRvfg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQzNTM3NjI4OnYy", "diffSide": "RIGHT", "path": "app/src/main/java/fr/free/nrw/commons/media/MediaDetailFragment.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQwOTo0ODo0OFrOF2sVsA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQxMDo0NTo0OVrOF2uimg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mjg5Mzg3Mg==", "bodyText": "I would just merge these 2 if statements (if it is valid that a non logged in user can nominate things for deletion), also the null check is not in style, no space on the left hand side", "url": "https://github.com/commons-app/apps-android-commons/pull/3522#discussion_r392893872", "createdAt": "2020-03-16T09:48:48Z", "author": {"login": "macgills"}, "path": "app/src/main/java/fr/free/nrw/commons/media/MediaDetailFragment.java", "diffHunk": "@@ -348,67 +348,74 @@ public void onCopyWikicodeClicked(){\n \n     @OnClick(R.id.nominateDeletion)\n     public void onDeleteButtonClicked(){\n-        if(AccountUtil.getUserName(getContext()).equals(media.getCreator())){\n-        final ArrayAdapter<String> languageAdapter = new ArrayAdapter<>(getActivity(),\n-                R.layout.simple_spinner_dropdown_list, reasonList);\n-        final Spinner spinner = new Spinner(getActivity());\n-        spinner.setLayoutParams(new LinearLayout.LayoutParams(LinearLayout.LayoutParams.WRAP_CONTENT, LinearLayout.LayoutParams.WRAP_CONTENT));\n-        spinner.setAdapter(languageAdapter);\n-        spinner.setGravity(17);\n-\n-        AlertDialog.Builder builder = new AlertDialog.Builder(getActivity());\n-        builder.setView(spinner);\n-        builder.setTitle(R.string.nominate_delete)\n-                .setPositiveButton(R.string.about_translate_proceed, (dialog, which) -> onDeleteClicked(spinner));\n-        builder.setNegativeButton(R.string.about_translate_cancel, (dialog, which) -> dialog.dismiss());\n-        AlertDialog dialog = builder.create();\n-        dialog.show();\n-        if(isDeleted) {\n-            dialog.getButton(AlertDialog.BUTTON_POSITIVE).setEnabled(false);\n-        }\n-        }\n-        //Reviewer correct me if i have misunderstood something over here\n-        //But how does this  if (delete.getVisibility() == View.VISIBLE) {\n-        //            enableDeleteButton(true);   makes sense ?\n-        else{\n-        AlertDialog.Builder alert = new AlertDialog.Builder(getActivity());\n-        alert.setMessage(getString(R.string.dialog_box_text_nomination,media.getDisplayTitle()));\n-        final EditText input = new EditText(getActivity());\n-        alert.setView(input);\n-        input.requestFocus();\n-        alert.setPositiveButton(R.string.ok, (dialog1, whichButton) -> {\n-            String reason = input.getText().toString();\n-            onDeleteClickeddialogtext(reason);\n-        });\n-        alert.setNegativeButton(R.string.cancel, (dialog12, whichButton) -> {\n-        });\n-        AlertDialog d = alert.create();\n-        input.addTextChangedListener(new TextWatcher() {\n-            private void handleText() {\n-                final Button okButton = d.getButton(AlertDialog.BUTTON_POSITIVE);\n-                if (input.getText().length() == 0) {\n-                    okButton.setEnabled(false);\n-                } else {\n-                    okButton.setEnabled(true);\n+        if (AccountUtil.getUserName(getContext())!= null) {\n+            if (AccountUtil.getUserName(getContext()).equals(media.getCreator())) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8fec404b55348dd1e023c848944af681d3d9a15a"}, "originalPosition": 47}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjkyOTk0Ng==", "bodyText": "@macgills  Done. :)", "url": "https://github.com/commons-app/apps-android-commons/pull/3522#discussion_r392929946", "createdAt": "2020-03-16T10:45:49Z", "author": {"login": "gouri-panda"}, "path": "app/src/main/java/fr/free/nrw/commons/media/MediaDetailFragment.java", "diffHunk": "@@ -348,67 +348,74 @@ public void onCopyWikicodeClicked(){\n \n     @OnClick(R.id.nominateDeletion)\n     public void onDeleteButtonClicked(){\n-        if(AccountUtil.getUserName(getContext()).equals(media.getCreator())){\n-        final ArrayAdapter<String> languageAdapter = new ArrayAdapter<>(getActivity(),\n-                R.layout.simple_spinner_dropdown_list, reasonList);\n-        final Spinner spinner = new Spinner(getActivity());\n-        spinner.setLayoutParams(new LinearLayout.LayoutParams(LinearLayout.LayoutParams.WRAP_CONTENT, LinearLayout.LayoutParams.WRAP_CONTENT));\n-        spinner.setAdapter(languageAdapter);\n-        spinner.setGravity(17);\n-\n-        AlertDialog.Builder builder = new AlertDialog.Builder(getActivity());\n-        builder.setView(spinner);\n-        builder.setTitle(R.string.nominate_delete)\n-                .setPositiveButton(R.string.about_translate_proceed, (dialog, which) -> onDeleteClicked(spinner));\n-        builder.setNegativeButton(R.string.about_translate_cancel, (dialog, which) -> dialog.dismiss());\n-        AlertDialog dialog = builder.create();\n-        dialog.show();\n-        if(isDeleted) {\n-            dialog.getButton(AlertDialog.BUTTON_POSITIVE).setEnabled(false);\n-        }\n-        }\n-        //Reviewer correct me if i have misunderstood something over here\n-        //But how does this  if (delete.getVisibility() == View.VISIBLE) {\n-        //            enableDeleteButton(true);   makes sense ?\n-        else{\n-        AlertDialog.Builder alert = new AlertDialog.Builder(getActivity());\n-        alert.setMessage(getString(R.string.dialog_box_text_nomination,media.getDisplayTitle()));\n-        final EditText input = new EditText(getActivity());\n-        alert.setView(input);\n-        input.requestFocus();\n-        alert.setPositiveButton(R.string.ok, (dialog1, whichButton) -> {\n-            String reason = input.getText().toString();\n-            onDeleteClickeddialogtext(reason);\n-        });\n-        alert.setNegativeButton(R.string.cancel, (dialog12, whichButton) -> {\n-        });\n-        AlertDialog d = alert.create();\n-        input.addTextChangedListener(new TextWatcher() {\n-            private void handleText() {\n-                final Button okButton = d.getButton(AlertDialog.BUTTON_POSITIVE);\n-                if (input.getText().length() == 0) {\n-                    okButton.setEnabled(false);\n-                } else {\n-                    okButton.setEnabled(true);\n+        if (AccountUtil.getUserName(getContext())!= null) {\n+            if (AccountUtil.getUserName(getContext()).equals(media.getCreator())) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mjg5Mzg3Mg=="}, "originalCommit": {"oid": "8fec404b55348dd1e023c848944af681d3d9a15a"}, "originalPosition": 47}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQzNTYwMzE4OnYy", "diffSide": "LEFT", "path": ".idea/codeStyles/Project.xml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQxMDo0NTo1OFrOF2ui_g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQxMTowNDowNVrOF2vJ3Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjkzMDA0Ng==", "bodyText": "revert the changes to this file please", "url": "https://github.com/commons-app/apps-android-commons/pull/3522#discussion_r392930046", "createdAt": "2020-03-16T10:45:58Z", "author": {"login": "macgills"}, "path": ".idea/codeStyles/Project.xml", "diffHunk": "@@ -47,31 +47,9 @@\n       <option name=\"SPACE_BEFORE_SUPERCLASS_COLON\" value=\"false\" />\n     </Objective-C>\n     <Objective-C-extensions>\n-      <option name=\"GENERATE_INSTANCE_VARIABLES_FOR_PROPERTIES\" value=\"ASK\" />", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "68bfe323da41cc3d141b7c1cb9ff021ca0813d6a"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjkzOTk5Nw==", "bodyText": "@macgills  Done. :)", "url": "https://github.com/commons-app/apps-android-commons/pull/3522#discussion_r392939997", "createdAt": "2020-03-16T11:04:05Z", "author": {"login": "gouri-panda"}, "path": ".idea/codeStyles/Project.xml", "diffHunk": "@@ -47,31 +47,9 @@\n       <option name=\"SPACE_BEFORE_SUPERCLASS_COLON\" value=\"false\" />\n     </Objective-C>\n     <Objective-C-extensions>\n-      <option name=\"GENERATE_INSTANCE_VARIABLES_FOR_PROPERTIES\" value=\"ASK\" />", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjkzMDA0Ng=="}, "originalCommit": {"oid": "68bfe323da41cc3d141b7c1cb9ff021ca0813d6a"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4209, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}