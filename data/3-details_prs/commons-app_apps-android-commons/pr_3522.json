{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg5MTA2MDUz", "number": 3522, "title": "Solved crashing problem in nomination button", "bodyText": "Description (required)\nFixes #3520  Application crashes when the nomination for deletion is pressed\nWhat changes did you make and why?\nAdded check method if the user name exists or not", "createdAt": "2020-03-16T09:40:48Z", "url": "https://github.com/commons-app/apps-android-commons/pull/3522", "merged": true, "mergeCommit": {"oid": "1fd748f8e7e16e9e3f69630e613d0f732b4a3e3d"}, "closed": true, "closedAt": "2020-03-16T11:14:06Z", "author": {"login": "gouri-panda"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcOK3qKAFqTM3NTA0NDgwNA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcOMMkugFqTM3NTExNDA3Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc1MDQ0ODA0", "url": "https://github.com/commons-app/apps-android-commons/pull/3522#pullrequestreview-375044804", "createdAt": "2020-03-16T09:40:52Z", "commit": {"oid": "8fec404b55348dd1e023c848944af681d3d9a15a"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc1MDUwMzY5", "url": "https://github.com/commons-app/apps-android-commons/pull/3522#pullrequestreview-375050369", "createdAt": "2020-03-16T09:48:48Z", "commit": {"oid": "8fec404b55348dd1e023c848944af681d3d9a15a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQwOTo0ODo0OFrOF2sVsA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQwOTo0ODo0OFrOF2sVsA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mjg5Mzg3Mg==", "bodyText": "I would just merge these 2 if statements (if it is valid that a non logged in user can nominate things for deletion), also the null check is not in style, no space on the left hand side", "url": "https://github.com/commons-app/apps-android-commons/pull/3522#discussion_r392893872", "createdAt": "2020-03-16T09:48:48Z", "author": {"login": "macgills"}, "path": "app/src/main/java/fr/free/nrw/commons/media/MediaDetailFragment.java", "diffHunk": "@@ -348,67 +348,74 @@ public void onCopyWikicodeClicked(){\n \n     @OnClick(R.id.nominateDeletion)\n     public void onDeleteButtonClicked(){\n-        if(AccountUtil.getUserName(getContext()).equals(media.getCreator())){\n-        final ArrayAdapter<String> languageAdapter = new ArrayAdapter<>(getActivity(),\n-                R.layout.simple_spinner_dropdown_list, reasonList);\n-        final Spinner spinner = new Spinner(getActivity());\n-        spinner.setLayoutParams(new LinearLayout.LayoutParams(LinearLayout.LayoutParams.WRAP_CONTENT, LinearLayout.LayoutParams.WRAP_CONTENT));\n-        spinner.setAdapter(languageAdapter);\n-        spinner.setGravity(17);\n-\n-        AlertDialog.Builder builder = new AlertDialog.Builder(getActivity());\n-        builder.setView(spinner);\n-        builder.setTitle(R.string.nominate_delete)\n-                .setPositiveButton(R.string.about_translate_proceed, (dialog, which) -> onDeleteClicked(spinner));\n-        builder.setNegativeButton(R.string.about_translate_cancel, (dialog, which) -> dialog.dismiss());\n-        AlertDialog dialog = builder.create();\n-        dialog.show();\n-        if(isDeleted) {\n-            dialog.getButton(AlertDialog.BUTTON_POSITIVE).setEnabled(false);\n-        }\n-        }\n-        //Reviewer correct me if i have misunderstood something over here\n-        //But how does this  if (delete.getVisibility() == View.VISIBLE) {\n-        //            enableDeleteButton(true);   makes sense ?\n-        else{\n-        AlertDialog.Builder alert = new AlertDialog.Builder(getActivity());\n-        alert.setMessage(getString(R.string.dialog_box_text_nomination,media.getDisplayTitle()));\n-        final EditText input = new EditText(getActivity());\n-        alert.setView(input);\n-        input.requestFocus();\n-        alert.setPositiveButton(R.string.ok, (dialog1, whichButton) -> {\n-            String reason = input.getText().toString();\n-            onDeleteClickeddialogtext(reason);\n-        });\n-        alert.setNegativeButton(R.string.cancel, (dialog12, whichButton) -> {\n-        });\n-        AlertDialog d = alert.create();\n-        input.addTextChangedListener(new TextWatcher() {\n-            private void handleText() {\n-                final Button okButton = d.getButton(AlertDialog.BUTTON_POSITIVE);\n-                if (input.getText().length() == 0) {\n-                    okButton.setEnabled(false);\n-                } else {\n-                    okButton.setEnabled(true);\n+        if (AccountUtil.getUserName(getContext())!= null) {\n+            if (AccountUtil.getUserName(getContext()).equals(media.getCreator())) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8fec404b55348dd1e023c848944af681d3d9a15a"}, "originalPosition": 47}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc1MDk2NjA4", "url": "https://github.com/commons-app/apps-android-commons/pull/3522#pullrequestreview-375096608", "createdAt": "2020-03-16T10:45:58Z", "commit": {"oid": "68bfe323da41cc3d141b7c1cb9ff021ca0813d6a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQxMDo0NTo1OFrOF2ui_g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQxMDo0NTo1OFrOF2ui_g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjkzMDA0Ng==", "bodyText": "revert the changes to this file please", "url": "https://github.com/commons-app/apps-android-commons/pull/3522#discussion_r392930046", "createdAt": "2020-03-16T10:45:58Z", "author": {"login": "macgills"}, "path": ".idea/codeStyles/Project.xml", "diffHunk": "@@ -47,31 +47,9 @@\n       <option name=\"SPACE_BEFORE_SUPERCLASS_COLON\" value=\"false\" />\n     </Objective-C>\n     <Objective-C-extensions>\n-      <option name=\"GENERATE_INSTANCE_VARIABLES_FOR_PROPERTIES\" value=\"ASK\" />", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "68bfe323da41cc3d141b7c1cb9ff021ca0813d6a"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d20748b7df58afa429e4e4adf228b4797031fe5f", "author": {"user": {"login": "gouri-panda", "name": null}}, "url": "https://github.com/commons-app/apps-android-commons/commit/d20748b7df58afa429e4e4adf228b4797031fe5f", "committedDate": "2020-03-16T11:02:39Z", "message": "solved crashing problem in nomination button\n\nsolved crashing problem in nomination button\n\nsolved crashing problem in nomination button"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc1MTE0MDcy", "url": "https://github.com/commons-app/apps-android-commons/pull/3522#pullrequestreview-375114072", "createdAt": "2020-03-16T11:13:37Z", "commit": {"oid": "d20748b7df58afa429e4e4adf228b4797031fe5f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 432, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}