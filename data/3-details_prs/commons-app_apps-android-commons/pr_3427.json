{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc4NzM0MDY4", "number": 3427, "title": "Added progress dialog for setting wallpaper", "bodyText": "Description\nAdded progress dialog for setting wallpaper as per the discussion.\nFixes #3425 \"Set as Wallpaper\" is not working properly\nWhat changes did you make and why?\nSetting a new wallpaper takes a lot of time, so a progress dialog will help users to know that the process is going on in the background.\nTests performed\nTested betaDebug on Mi A2 Android 10 (stock) with API level 29\nScreenshots showing what changed", "createdAt": "2020-02-23T18:11:30Z", "url": "https://github.com/commons-app/apps-android-commons/pull/3427", "merged": true, "mergeCommit": {"oid": "3d0048a7716ba7a4ac425d1e12378720c3630af1"}, "closed": true, "closedAt": "2020-02-23T23:51:15Z", "author": {"login": "madhurgupta10"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcHM3OaAH2gAyMzc4NzM0MDY4OjI4NjY4MWNlYWNmYjNjMDM2ZTc0ZjBmZDBhMTRlZDE0M2M4MmY4MDA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcHQoOPAH2gAyMzc4NzM0MDY4OjYxZjZiZWM0ZmVhNzk3NDVjNWUwNTJkZjg3MWZhNTA1M2UxODIwMTY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "286681ceacfb3c036e74f0fd0a14ed143c82f800", "author": {"user": {"login": "madhurgupta10", "name": "Madhur Gupta"}}, "url": "https://github.com/commons-app/apps-android-commons/commit/286681ceacfb3c036e74f0fd0a14ed143c82f800", "committedDate": "2020-02-23T18:02:44Z", "message": "Added progress dialog for setting wallpaper"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYzMTEyNjIx", "url": "https://github.com/commons-app/apps-android-commons/pull/3427#pullrequestreview-363112621", "createdAt": "2020-02-23T18:11:33Z", "commit": {"oid": "286681ceacfb3c036e74f0fd0a14ed143c82f800"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYzMTE1ODM1", "url": "https://github.com/commons-app/apps-android-commons/pull/3427#pullrequestreview-363115835", "createdAt": "2020-02-23T19:12:31Z", "commit": {"oid": "286681ceacfb3c036e74f0fd0a14ed143c82f800"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yM1QxOToxMjozMVrOFtSUjQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yM1QxOToxMjozMVrOFtSUjQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzAzMDQxMw==", "bodyText": "Why is this string empty?", "url": "https://github.com/commons-app/apps-android-commons/pull/3427#discussion_r383030413", "createdAt": "2020-02-23T19:12:31Z", "author": {"login": "maskaravivek"}, "path": "app/src/main/res/values/strings.xml", "diffHunk": "@@ -593,4 +593,7 @@ Upload your first media by tapping on the add button.</string>\n   <string name=\"upload_nearby_place_found_description\">Is this a photo of Place %1$s?</string>\n   <string name=\"remove_bookmark\">Removed from bookmarks</string>\n   <string name=\"add_bookmark\">Added to bookmarks</string>\n+  <string name=\"wallpaper_set_unsuccessfully\">Error setting wallpaper</string>\n+  <string name=\"setting_wallpaper_dialog_title\">\"\"</string>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "286681ceacfb3c036e74f0fd0a14ed143c82f800"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYzMTE2MDE4", "url": "https://github.com/commons-app/apps-android-commons/pull/3427#pullrequestreview-363116018", "createdAt": "2020-02-23T19:15:49Z", "commit": {"oid": "286681ceacfb3c036e74f0fd0a14ed143c82f800"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yM1QxOToxNTo0OVrOFtSVZQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yM1QxOToxNTo0OVrOFtSVZQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzAzMDYyOQ==", "bodyText": "Just a suggestion, thus could be \"Something went wrong..could not set the wallpaper\"", "url": "https://github.com/commons-app/apps-android-commons/pull/3427#discussion_r383030629", "createdAt": "2020-02-23T19:15:49Z", "author": {"login": "ashishkumar468"}, "path": "app/src/main/res/values/strings.xml", "diffHunk": "@@ -593,4 +593,7 @@ Upload your first media by tapping on the add button.</string>\n   <string name=\"upload_nearby_place_found_description\">Is this a photo of Place %1$s?</string>\n   <string name=\"remove_bookmark\">Removed from bookmarks</string>\n   <string name=\"add_bookmark\">Added to bookmarks</string>\n+  <string name=\"wallpaper_set_unsuccessfully\">Error setting wallpaper</string>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "286681ceacfb3c036e74f0fd0a14ed143c82f800"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYzMTE2MDcy", "url": "https://github.com/commons-app/apps-android-commons/pull/3427#pullrequestreview-363116072", "createdAt": "2020-02-23T19:16:49Z", "commit": {"oid": "286681ceacfb3c036e74f0fd0a14ed143c82f800"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yM1QxOToxNjo1MFrOFtSVsw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yM1QxOToxNjo1MFrOFtSVsw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzAzMDcwNw==", "bodyText": "flip the conditions, null check should be done before", "url": "https://github.com/commons-app/apps-android-commons/pull/3427#discussion_r383030707", "createdAt": "2020-02-23T19:16:50Z", "author": {"login": "ashishkumar468"}, "path": "app/src/main/java/fr/free/nrw/commons/utils/ImageUtils.java", "diffHunk": "@@ -224,11 +228,23 @@ private static void setWallpaper(Context context, Bitmap bitmap) {\n         try {\n             wallpaperManager.setBitmap(bitmap);\n             ViewUtil.showLongToast(context, context.getString(R.string.wallpaper_set_successfully));\n+            if (progressDialog.isShowing() && progressDialog != null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "286681ceacfb3c036e74f0fd0a14ed143c82f800"}, "originalPosition": 28}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "61f6bec4fea79745c5e052df871fa5053e182016", "author": {"user": {"login": "madhurgupta10", "name": "Madhur Gupta"}}, "url": "https://github.com/commons-app/apps-android-commons/commit/61f6bec4fea79745c5e052df871fa5053e182016", "committedDate": "2020-02-23T22:25:58Z", "message": "Updated dialog strings"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 376, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}