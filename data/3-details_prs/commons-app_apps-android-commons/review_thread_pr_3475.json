{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg1MzQ2NTky", "number": 3475, "reviewThreads": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQwMTozMTozOFrODmhDqA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMVQxMzozMzo1NVrODnE4dg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQxNzE0MDg4OnYy", "diffSide": "RIGHT", "path": "app/src/main/java/fr/free/nrw/commons/Urls.kt", "isResolved": true, "comments": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQwMTozMTozOFrOFz-pPw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMVQxMjo0ODo0OFrOF01dJQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDA0ODA2Mw==", "bodyText": "Why is the package name com.android.vending?", "url": "https://github.com/commons-app/apps-android-commons/pull/3475#discussion_r390048063", "createdAt": "2020-03-10T01:31:38Z", "author": {"login": "maskaravivek"}, "path": "app/src/main/java/fr/free/nrw/commons/Urls.kt", "diffHunk": "@@ -7,6 +7,9 @@ internal object Urls {\n     const val CREDITS_URL = \"https://github.com/commons-app/apps-android-commons/blob/master/CREDITS\"\n     const val FAQ_URL = \"https://github.com/commons-app/apps-android-commons/wiki/Frequently-Asked-Questions\"\n     const val PLAY_STORE_URL = \"https://play.google.com/store/apps/details?id=fr.free.nrw.commons\"\n+    const val PLAY_STORE_PREFIX = \"market://details?id=\"\n+    const val PLAY_STORE_URL_PREFIX = \"https://play.google.com/store/apps/details?id=\"\n+    const val PLAY_STORE_PACKAGE_NAME = \"com.android.vending\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e4aa049d141b6c0d3f61e1d167b2caab8702319a"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDcwNTExMQ==", "bodyText": "@madhurgupta10 Can you address this comment?", "url": "https://github.com/commons-app/apps-android-commons/pull/3475#discussion_r390705111", "createdAt": "2020-03-11T01:51:13Z", "author": {"login": "maskaravivek"}, "path": "app/src/main/java/fr/free/nrw/commons/Urls.kt", "diffHunk": "@@ -7,6 +7,9 @@ internal object Urls {\n     const val CREDITS_URL = \"https://github.com/commons-app/apps-android-commons/blob/master/CREDITS\"\n     const val FAQ_URL = \"https://github.com/commons-app/apps-android-commons/wiki/Frequently-Asked-Questions\"\n     const val PLAY_STORE_URL = \"https://play.google.com/store/apps/details?id=fr.free.nrw.commons\"\n+    const val PLAY_STORE_PREFIX = \"market://details?id=\"\n+    const val PLAY_STORE_URL_PREFIX = \"https://play.google.com/store/apps/details?id=\"\n+    const val PLAY_STORE_PACKAGE_NAME = \"com.android.vending\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDA0ODA2Mw=="}, "originalCommit": {"oid": "e4aa049d141b6c0d3f61e1d167b2caab8702319a"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDgxMjkwOQ==", "bodyText": "@maskaravivek I am unable to extract the PLAY STORE package name using context.\nInstrumentationRegistry.getInstrumentation().getTargetContext()\n\nonly gives the app package name.", "url": "https://github.com/commons-app/apps-android-commons/pull/3475#discussion_r390812909", "createdAt": "2020-03-11T08:36:49Z", "author": {"login": "madhurgupta10"}, "path": "app/src/main/java/fr/free/nrw/commons/Urls.kt", "diffHunk": "@@ -7,6 +7,9 @@ internal object Urls {\n     const val CREDITS_URL = \"https://github.com/commons-app/apps-android-commons/blob/master/CREDITS\"\n     const val FAQ_URL = \"https://github.com/commons-app/apps-android-commons/wiki/Frequently-Asked-Questions\"\n     const val PLAY_STORE_URL = \"https://play.google.com/store/apps/details?id=fr.free.nrw.commons\"\n+    const val PLAY_STORE_PREFIX = \"market://details?id=\"\n+    const val PLAY_STORE_URL_PREFIX = \"https://play.google.com/store/apps/details?id=\"\n+    const val PLAY_STORE_PACKAGE_NAME = \"com.android.vending\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDA0ODA2Mw=="}, "originalCommit": {"oid": "e4aa049d141b6c0d3f61e1d167b2caab8702319a"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDg4Nzk3OQ==", "bodyText": "@macgills Could you please suggest an alternative to Hardcoded Play Store Package name?", "url": "https://github.com/commons-app/apps-android-commons/pull/3475#discussion_r390887979", "createdAt": "2020-03-11T10:51:36Z", "author": {"login": "madhurgupta10"}, "path": "app/src/main/java/fr/free/nrw/commons/Urls.kt", "diffHunk": "@@ -7,6 +7,9 @@ internal object Urls {\n     const val CREDITS_URL = \"https://github.com/commons-app/apps-android-commons/blob/master/CREDITS\"\n     const val FAQ_URL = \"https://github.com/commons-app/apps-android-commons/wiki/Frequently-Asked-Questions\"\n     const val PLAY_STORE_URL = \"https://play.google.com/store/apps/details?id=fr.free.nrw.commons\"\n+    const val PLAY_STORE_PREFIX = \"market://details?id=\"\n+    const val PLAY_STORE_URL_PREFIX = \"https://play.google.com/store/apps/details?id=\"\n+    const val PLAY_STORE_PACKAGE_NAME = \"com.android.vending\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDA0ODA2Mw=="}, "originalCommit": {"oid": "e4aa049d141b6c0d3f61e1d167b2caab8702319a"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDg4ODc3MA==", "bodyText": "This is fine, that is the package of the play store or at least so my memory tells me", "url": "https://github.com/commons-app/apps-android-commons/pull/3475#discussion_r390888770", "createdAt": "2020-03-11T10:53:08Z", "author": {"login": "macgills"}, "path": "app/src/main/java/fr/free/nrw/commons/Urls.kt", "diffHunk": "@@ -7,6 +7,9 @@ internal object Urls {\n     const val CREDITS_URL = \"https://github.com/commons-app/apps-android-commons/blob/master/CREDITS\"\n     const val FAQ_URL = \"https://github.com/commons-app/apps-android-commons/wiki/Frequently-Asked-Questions\"\n     const val PLAY_STORE_URL = \"https://play.google.com/store/apps/details?id=fr.free.nrw.commons\"\n+    const val PLAY_STORE_PREFIX = \"market://details?id=\"\n+    const val PLAY_STORE_URL_PREFIX = \"https://play.google.com/store/apps/details?id=\"\n+    const val PLAY_STORE_PACKAGE_NAME = \"com.android.vending\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDA0ODA2Mw=="}, "originalCommit": {"oid": "e4aa049d141b6c0d3f61e1d167b2caab8702319a"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDg4OTQ4NA==", "bodyText": "But also I don't know why you are using it? Does aboutActivity send an intent with this constant in it? I don't see an update to AboutActivity to use this constant", "url": "https://github.com/commons-app/apps-android-commons/pull/3475#discussion_r390889484", "createdAt": "2020-03-11T10:54:20Z", "author": {"login": "macgills"}, "path": "app/src/main/java/fr/free/nrw/commons/Urls.kt", "diffHunk": "@@ -7,6 +7,9 @@ internal object Urls {\n     const val CREDITS_URL = \"https://github.com/commons-app/apps-android-commons/blob/master/CREDITS\"\n     const val FAQ_URL = \"https://github.com/commons-app/apps-android-commons/wiki/Frequently-Asked-Questions\"\n     const val PLAY_STORE_URL = \"https://play.google.com/store/apps/details?id=fr.free.nrw.commons\"\n+    const val PLAY_STORE_PREFIX = \"market://details?id=\"\n+    const val PLAY_STORE_URL_PREFIX = \"https://play.google.com/store/apps/details?id=\"\n+    const val PLAY_STORE_PACKAGE_NAME = \"com.android.vending\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDA0ODA2Mw=="}, "originalCommit": {"oid": "e4aa049d141b6c0d3f61e1d167b2caab8702319a"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDg5NTEwOA==", "bodyText": "@macgills I am using it because I need to check if the app actually opens the play store or not.", "url": "https://github.com/commons-app/apps-android-commons/pull/3475#discussion_r390895108", "createdAt": "2020-03-11T11:04:47Z", "author": {"login": "madhurgupta10"}, "path": "app/src/main/java/fr/free/nrw/commons/Urls.kt", "diffHunk": "@@ -7,6 +7,9 @@ internal object Urls {\n     const val CREDITS_URL = \"https://github.com/commons-app/apps-android-commons/blob/master/CREDITS\"\n     const val FAQ_URL = \"https://github.com/commons-app/apps-android-commons/wiki/Frequently-Asked-Questions\"\n     const val PLAY_STORE_URL = \"https://play.google.com/store/apps/details?id=fr.free.nrw.commons\"\n+    const val PLAY_STORE_PREFIX = \"market://details?id=\"\n+    const val PLAY_STORE_URL_PREFIX = \"https://play.google.com/store/apps/details?id=\"\n+    const val PLAY_STORE_PACKAGE_NAME = \"com.android.vending\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDA0ODA2Mw=="}, "originalCommit": {"oid": "e4aa049d141b6c0d3f61e1d167b2caab8702319a"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDg5NzQ4OQ==", "bodyText": "I bet you don't need it\n        Intents.intended(CoreMatchers.anyOf(IntentMatchers.toPackage(Urls.PLAY_STORE_PACKAGE_NAME),\n                IntentMatchers.hasData(\"${Urls.PLAY_STORE_URL_PREFIX}$appPackageName\")))\n\nThe intent doesn't magically get filled with a package we don't put in it, anyOf is just masking it. Delete hasData and I would say this will fail", "url": "https://github.com/commons-app/apps-android-commons/pull/3475#discussion_r390897489", "createdAt": "2020-03-11T11:09:21Z", "author": {"login": "macgills"}, "path": "app/src/main/java/fr/free/nrw/commons/Urls.kt", "diffHunk": "@@ -7,6 +7,9 @@ internal object Urls {\n     const val CREDITS_URL = \"https://github.com/commons-app/apps-android-commons/blob/master/CREDITS\"\n     const val FAQ_URL = \"https://github.com/commons-app/apps-android-commons/wiki/Frequently-Asked-Questions\"\n     const val PLAY_STORE_URL = \"https://play.google.com/store/apps/details?id=fr.free.nrw.commons\"\n+    const val PLAY_STORE_PREFIX = \"market://details?id=\"\n+    const val PLAY_STORE_URL_PREFIX = \"https://play.google.com/store/apps/details?id=\"\n+    const val PLAY_STORE_PACKAGE_NAME = \"com.android.vending\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDA0ODA2Mw=="}, "originalCommit": {"oid": "e4aa049d141b6c0d3f61e1d167b2caab8702319a"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDkyNTYwMg==", "bodyText": "anyOf is just masking it. Delete hasData and I would say this will fail\n\n@macgills The test passes for me when I removed the hasData and tested it with only toPackage", "url": "https://github.com/commons-app/apps-android-commons/pull/3475#discussion_r390925602", "createdAt": "2020-03-11T12:07:05Z", "author": {"login": "madhurgupta10"}, "path": "app/src/main/java/fr/free/nrw/commons/Urls.kt", "diffHunk": "@@ -7,6 +7,9 @@ internal object Urls {\n     const val CREDITS_URL = \"https://github.com/commons-app/apps-android-commons/blob/master/CREDITS\"\n     const val FAQ_URL = \"https://github.com/commons-app/apps-android-commons/wiki/Frequently-Asked-Questions\"\n     const val PLAY_STORE_URL = \"https://play.google.com/store/apps/details?id=fr.free.nrw.commons\"\n+    const val PLAY_STORE_PREFIX = \"market://details?id=\"\n+    const val PLAY_STORE_URL_PREFIX = \"https://play.google.com/store/apps/details?id=\"\n+    const val PLAY_STORE_PACKAGE_NAME = \"com.android.vending\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDA0ODA2Mw=="}, "originalCommit": {"oid": "e4aa049d141b6c0d3f61e1d167b2caab8702319a"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDkzOTQ1MQ==", "bodyText": "That is very odd. Ahhh I see my mistake\n\nMatches an intent based on the package of activity which can handle the intent.\n\nI wouldn't bother testing this, I would more assert that we have the right parameters. This is more useful in an e2e black box test scenario. Harcdoding another app's package also makes me nervous", "url": "https://github.com/commons-app/apps-android-commons/pull/3475#discussion_r390939451", "createdAt": "2020-03-11T12:36:02Z", "author": {"login": "macgills"}, "path": "app/src/main/java/fr/free/nrw/commons/Urls.kt", "diffHunk": "@@ -7,6 +7,9 @@ internal object Urls {\n     const val CREDITS_URL = \"https://github.com/commons-app/apps-android-commons/blob/master/CREDITS\"\n     const val FAQ_URL = \"https://github.com/commons-app/apps-android-commons/wiki/Frequently-Asked-Questions\"\n     const val PLAY_STORE_URL = \"https://play.google.com/store/apps/details?id=fr.free.nrw.commons\"\n+    const val PLAY_STORE_PREFIX = \"market://details?id=\"\n+    const val PLAY_STORE_URL_PREFIX = \"https://play.google.com/store/apps/details?id=\"\n+    const val PLAY_STORE_PACKAGE_NAME = \"com.android.vending\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDA0ODA2Mw=="}, "originalCommit": {"oid": "e4aa049d141b6c0d3f61e1d167b2caab8702319a"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDk0NjA4NQ==", "bodyText": "@macgills Okay I will remove this also from Facebook Test!", "url": "https://github.com/commons-app/apps-android-commons/pull/3475#discussion_r390946085", "createdAt": "2020-03-11T12:48:48Z", "author": {"login": "madhurgupta10"}, "path": "app/src/main/java/fr/free/nrw/commons/Urls.kt", "diffHunk": "@@ -7,6 +7,9 @@ internal object Urls {\n     const val CREDITS_URL = \"https://github.com/commons-app/apps-android-commons/blob/master/CREDITS\"\n     const val FAQ_URL = \"https://github.com/commons-app/apps-android-commons/wiki/Frequently-Asked-Questions\"\n     const val PLAY_STORE_URL = \"https://play.google.com/store/apps/details?id=fr.free.nrw.commons\"\n+    const val PLAY_STORE_PREFIX = \"market://details?id=\"\n+    const val PLAY_STORE_URL_PREFIX = \"https://play.google.com/store/apps/details?id=\"\n+    const val PLAY_STORE_PACKAGE_NAME = \"com.android.vending\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDA0ODA2Mw=="}, "originalCommit": {"oid": "e4aa049d141b6c0d3f61e1d167b2caab8702319a"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQxNzE0MTcwOnYy", "diffSide": "RIGHT", "path": "app/src/androidTest/java/fr/free/nrw/commons/AboutActivityTest.kt", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQwMTozMjoyMlrOFz-pzA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQwMTozMjoyMlrOFz-pzA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDA0ODIwNA==", "bodyText": "Lets not hardcode package name. Use context to get current package name.", "url": "https://github.com/commons-app/apps-android-commons/pull/3475#discussion_r390048204", "createdAt": "2020-03-10T01:32:22Z", "author": {"login": "maskaravivek"}, "path": "app/src/androidTest/java/fr/free/nrw/commons/AboutActivityTest.kt", "diffHunk": "@@ -0,0 +1,116 @@\n+package fr.free.nrw.commons\n+\n+import android.app.Activity\n+import android.app.Instrumentation\n+import android.content.Intent\n+import androidx.test.core.app.ApplicationProvider.getApplicationContext\n+import androidx.test.espresso.Espresso\n+import androidx.test.espresso.action.ViewActions\n+import androidx.test.espresso.assertion.ViewAssertions\n+import androidx.test.espresso.intent.Intents\n+import androidx.test.espresso.intent.matcher.IntentMatchers\n+import androidx.test.espresso.matcher.ViewMatchers\n+import androidx.test.espresso.matcher.ViewMatchers.withText\n+import androidx.test.rule.ActivityTestRule\n+import androidx.test.runner.AndroidJUnit4\n+import fr.free.nrw.commons.utils.ConfigUtils\n+import org.hamcrest.CoreMatchers\n+import org.junit.Before\n+import org.junit.Rule\n+import org.junit.Test\n+import org.junit.runner.RunWith\n+\n+@RunWith(AndroidJUnit4::class)\n+class AboutActivityTest {\n+    @get:Rule\n+    var activityRule: ActivityTestRule<*> = ActivityTestRule(AboutActivity::class.java)\n+\n+    @Before\n+    fun setup() {\n+        Intents.init()\n+        UITestHelper.skipWelcome()\n+        UITestHelper.skipLogin()\n+        Intents.intending(CoreMatchers.not(IntentMatchers.isInternal()))\n+                .respondWith(Instrumentation.ActivityResult(Activity.RESULT_OK, null))\n+    }\n+\n+    @Test\n+    fun testBuildNumber() {\n+        Espresso.onView(ViewMatchers.withId(R.id.about_version))\n+                .check(ViewAssertions.matches(withText(ConfigUtils.getVersionNameWithSha(getApplicationContext()))))\n+    }\n+\n+    @Test\n+    fun testLaunchWebsite() {\n+        Espresso.onView(ViewMatchers.withId(R.id.website_launch_icon)).perform(ViewActions.click())\n+        Intents.intended(CoreMatchers.allOf(IntentMatchers.hasAction(Intent.ACTION_VIEW),\n+                IntentMatchers.hasData(Urls.WEBSITE_URL)))\n+    }\n+\n+    @Test\n+    fun testLaunchFacebook() {\n+        Espresso.onView(ViewMatchers.withId(R.id.facebook_launch_icon)).perform(ViewActions.click())\n+        try {\n+            Intents.intended(CoreMatchers.allOf(IntentMatchers.hasAction(Intent.ACTION_VIEW),\n+                    IntentMatchers.hasPackage(Urls.FACEBOOK_PACKAGE_NAME)))\n+        } catch (e: Exception) {\n+            Intents.intended(CoreMatchers.allOf(IntentMatchers.hasAction(Intent.ACTION_VIEW),\n+                    IntentMatchers.hasData(Urls.FACEBOOK_WEB_URL)))\n+        }\n+    }\n+\n+    @Test\n+    fun testLaunchGithub() {\n+        Espresso.onView(ViewMatchers.withId(R.id.github_launch_icon)).perform(ViewActions.click())\n+        Intents.intended(CoreMatchers.allOf(IntentMatchers.hasAction(Intent.ACTION_VIEW),\n+                IntentMatchers.hasData(Urls.GITHUB_REPO_URL)))\n+    }\n+\n+    @Test\n+    fun testLaunchRateUs() {\n+        val appPackageName = BuildConfig::class.java.getPackage().name\n+        Espresso.onView(ViewMatchers.withId(R.id.about_rate_us)).perform(ViewActions.click())\n+        try {\n+            Intents.intended(CoreMatchers.allOf(IntentMatchers.hasAction(Intent.ACTION_VIEW),\n+                    IntentMatchers.toPackage(Urls.PLAY_STORE_PACKAGE_NAME)))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e4aa049d141b6c0d3f61e1d167b2caab8702319a"}, "originalPosition": 75}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQxNzkxNDM1OnYy", "diffSide": "RIGHT", "path": "app/src/androidTest/java/fr/free/nrw/commons/AboutActivityTest.kt", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQwODo1MzoyOVrOF0F5lg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQxNDowNToxOVrOF0QRLw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDE2NjkzNA==", "bodyText": "This rule should just launch you to AboutActivity, why do you have to launch the app from the beginning?", "url": "https://github.com/commons-app/apps-android-commons/pull/3475#discussion_r390166934", "createdAt": "2020-03-10T08:53:29Z", "author": {"login": "macgills"}, "path": "app/src/androidTest/java/fr/free/nrw/commons/AboutActivityTest.kt", "diffHunk": "@@ -0,0 +1,116 @@\n+package fr.free.nrw.commons\n+\n+import android.app.Activity\n+import android.app.Instrumentation\n+import android.content.Intent\n+import androidx.test.core.app.ApplicationProvider.getApplicationContext\n+import androidx.test.espresso.Espresso\n+import androidx.test.espresso.action.ViewActions\n+import androidx.test.espresso.assertion.ViewAssertions\n+import androidx.test.espresso.intent.Intents\n+import androidx.test.espresso.intent.matcher.IntentMatchers\n+import androidx.test.espresso.matcher.ViewMatchers\n+import androidx.test.espresso.matcher.ViewMatchers.withText\n+import androidx.test.rule.ActivityTestRule\n+import androidx.test.runner.AndroidJUnit4\n+import fr.free.nrw.commons.utils.ConfigUtils\n+import org.hamcrest.CoreMatchers\n+import org.junit.Before\n+import org.junit.Rule\n+import org.junit.Test\n+import org.junit.runner.RunWith\n+\n+@RunWith(AndroidJUnit4::class)\n+class AboutActivityTest {\n+    @get:Rule\n+    var activityRule: ActivityTestRule<*> = ActivityTestRule(AboutActivity::class.java)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e4aa049d141b6c0d3f61e1d167b2caab8702319a"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDMzNjgxNQ==", "bodyText": "@macgills Thanks for pointing it out, I thought it was necessary to skip the welcome screen and login screen.", "url": "https://github.com/commons-app/apps-android-commons/pull/3475#discussion_r390336815", "createdAt": "2020-03-10T14:05:19Z", "author": {"login": "madhurgupta10"}, "path": "app/src/androidTest/java/fr/free/nrw/commons/AboutActivityTest.kt", "diffHunk": "@@ -0,0 +1,116 @@\n+package fr.free.nrw.commons\n+\n+import android.app.Activity\n+import android.app.Instrumentation\n+import android.content.Intent\n+import androidx.test.core.app.ApplicationProvider.getApplicationContext\n+import androidx.test.espresso.Espresso\n+import androidx.test.espresso.action.ViewActions\n+import androidx.test.espresso.assertion.ViewAssertions\n+import androidx.test.espresso.intent.Intents\n+import androidx.test.espresso.intent.matcher.IntentMatchers\n+import androidx.test.espresso.matcher.ViewMatchers\n+import androidx.test.espresso.matcher.ViewMatchers.withText\n+import androidx.test.rule.ActivityTestRule\n+import androidx.test.runner.AndroidJUnit4\n+import fr.free.nrw.commons.utils.ConfigUtils\n+import org.hamcrest.CoreMatchers\n+import org.junit.Before\n+import org.junit.Rule\n+import org.junit.Test\n+import org.junit.runner.RunWith\n+\n+@RunWith(AndroidJUnit4::class)\n+class AboutActivityTest {\n+    @get:Rule\n+    var activityRule: ActivityTestRule<*> = ActivityTestRule(AboutActivity::class.java)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDE2NjkzNA=="}, "originalCommit": {"oid": "e4aa049d141b6c0d3f61e1d167b2caab8702319a"}, "originalPosition": 26}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQxNzkyMTcyOnYy", "diffSide": "RIGHT", "path": "app/src/androidTest/java/fr/free/nrw/commons/AboutActivityTest.kt", "isResolved": true, "comments": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQwODo1NToyNlrOF0F90w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQxNTozNzoxNFrOF0UnQg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDE2ODAxOQ==", "bodyText": "generally a test should not be catching exceptions and especially not overly broad ones like Exception", "url": "https://github.com/commons-app/apps-android-commons/pull/3475#discussion_r390168019", "createdAt": "2020-03-10T08:55:26Z", "author": {"login": "macgills"}, "path": "app/src/androidTest/java/fr/free/nrw/commons/AboutActivityTest.kt", "diffHunk": "@@ -0,0 +1,116 @@\n+package fr.free.nrw.commons\n+\n+import android.app.Activity\n+import android.app.Instrumentation\n+import android.content.Intent\n+import androidx.test.core.app.ApplicationProvider.getApplicationContext\n+import androidx.test.espresso.Espresso\n+import androidx.test.espresso.action.ViewActions\n+import androidx.test.espresso.assertion.ViewAssertions\n+import androidx.test.espresso.intent.Intents\n+import androidx.test.espresso.intent.matcher.IntentMatchers\n+import androidx.test.espresso.matcher.ViewMatchers\n+import androidx.test.espresso.matcher.ViewMatchers.withText\n+import androidx.test.rule.ActivityTestRule\n+import androidx.test.runner.AndroidJUnit4\n+import fr.free.nrw.commons.utils.ConfigUtils\n+import org.hamcrest.CoreMatchers\n+import org.junit.Before\n+import org.junit.Rule\n+import org.junit.Test\n+import org.junit.runner.RunWith\n+\n+@RunWith(AndroidJUnit4::class)\n+class AboutActivityTest {\n+    @get:Rule\n+    var activityRule: ActivityTestRule<*> = ActivityTestRule(AboutActivity::class.java)\n+\n+    @Before\n+    fun setup() {\n+        Intents.init()\n+        UITestHelper.skipWelcome()\n+        UITestHelper.skipLogin()\n+        Intents.intending(CoreMatchers.not(IntentMatchers.isInternal()))\n+                .respondWith(Instrumentation.ActivityResult(Activity.RESULT_OK, null))\n+    }\n+\n+    @Test\n+    fun testBuildNumber() {\n+        Espresso.onView(ViewMatchers.withId(R.id.about_version))\n+                .check(ViewAssertions.matches(withText(ConfigUtils.getVersionNameWithSha(getApplicationContext()))))\n+    }\n+\n+    @Test\n+    fun testLaunchWebsite() {\n+        Espresso.onView(ViewMatchers.withId(R.id.website_launch_icon)).perform(ViewActions.click())\n+        Intents.intended(CoreMatchers.allOf(IntentMatchers.hasAction(Intent.ACTION_VIEW),\n+                IntentMatchers.hasData(Urls.WEBSITE_URL)))\n+    }\n+\n+    @Test\n+    fun testLaunchFacebook() {\n+        Espresso.onView(ViewMatchers.withId(R.id.facebook_launch_icon)).perform(ViewActions.click())\n+        try {\n+            Intents.intended(CoreMatchers.allOf(IntentMatchers.hasAction(Intent.ACTION_VIEW),\n+                    IntentMatchers.hasPackage(Urls.FACEBOOK_PACKAGE_NAME)))\n+        } catch (e: Exception) {\n+            Intents.intended(CoreMatchers.allOf(IntentMatchers.hasAction(Intent.ACTION_VIEW),\n+                    IntentMatchers.hasData(Urls.FACEBOOK_WEB_URL)))\n+        }\n+    }\n+\n+    @Test\n+    fun testLaunchGithub() {\n+        Espresso.onView(ViewMatchers.withId(R.id.github_launch_icon)).perform(ViewActions.click())\n+        Intents.intended(CoreMatchers.allOf(IntentMatchers.hasAction(Intent.ACTION_VIEW),\n+                IntentMatchers.hasData(Urls.GITHUB_REPO_URL)))\n+    }\n+\n+    @Test\n+    fun testLaunchRateUs() {\n+        val appPackageName = BuildConfig::class.java.getPackage().name\n+        Espresso.onView(ViewMatchers.withId(R.id.about_rate_us)).perform(ViewActions.click())\n+        try {\n+            Intents.intended(CoreMatchers.allOf(IntentMatchers.hasAction(Intent.ACTION_VIEW),\n+                    IntentMatchers.toPackage(Urls.PLAY_STORE_PACKAGE_NAME)))\n+        } catch (e: Exception) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e4aa049d141b6c0d3f61e1d167b2caab8702319a"}, "originalPosition": 76}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDI5Nzc1NQ==", "bodyText": "@macgills I used the try-except to handle the different cases just as it was used in the AboutActivity but I believe there should be a better way but I can't find one.", "url": "https://github.com/commons-app/apps-android-commons/pull/3475#discussion_r390297755", "createdAt": "2020-03-10T13:06:15Z", "author": {"login": "madhurgupta10"}, "path": "app/src/androidTest/java/fr/free/nrw/commons/AboutActivityTest.kt", "diffHunk": "@@ -0,0 +1,116 @@\n+package fr.free.nrw.commons\n+\n+import android.app.Activity\n+import android.app.Instrumentation\n+import android.content.Intent\n+import androidx.test.core.app.ApplicationProvider.getApplicationContext\n+import androidx.test.espresso.Espresso\n+import androidx.test.espresso.action.ViewActions\n+import androidx.test.espresso.assertion.ViewAssertions\n+import androidx.test.espresso.intent.Intents\n+import androidx.test.espresso.intent.matcher.IntentMatchers\n+import androidx.test.espresso.matcher.ViewMatchers\n+import androidx.test.espresso.matcher.ViewMatchers.withText\n+import androidx.test.rule.ActivityTestRule\n+import androidx.test.runner.AndroidJUnit4\n+import fr.free.nrw.commons.utils.ConfigUtils\n+import org.hamcrest.CoreMatchers\n+import org.junit.Before\n+import org.junit.Rule\n+import org.junit.Test\n+import org.junit.runner.RunWith\n+\n+@RunWith(AndroidJUnit4::class)\n+class AboutActivityTest {\n+    @get:Rule\n+    var activityRule: ActivityTestRule<*> = ActivityTestRule(AboutActivity::class.java)\n+\n+    @Before\n+    fun setup() {\n+        Intents.init()\n+        UITestHelper.skipWelcome()\n+        UITestHelper.skipLogin()\n+        Intents.intending(CoreMatchers.not(IntentMatchers.isInternal()))\n+                .respondWith(Instrumentation.ActivityResult(Activity.RESULT_OK, null))\n+    }\n+\n+    @Test\n+    fun testBuildNumber() {\n+        Espresso.onView(ViewMatchers.withId(R.id.about_version))\n+                .check(ViewAssertions.matches(withText(ConfigUtils.getVersionNameWithSha(getApplicationContext()))))\n+    }\n+\n+    @Test\n+    fun testLaunchWebsite() {\n+        Espresso.onView(ViewMatchers.withId(R.id.website_launch_icon)).perform(ViewActions.click())\n+        Intents.intended(CoreMatchers.allOf(IntentMatchers.hasAction(Intent.ACTION_VIEW),\n+                IntentMatchers.hasData(Urls.WEBSITE_URL)))\n+    }\n+\n+    @Test\n+    fun testLaunchFacebook() {\n+        Espresso.onView(ViewMatchers.withId(R.id.facebook_launch_icon)).perform(ViewActions.click())\n+        try {\n+            Intents.intended(CoreMatchers.allOf(IntentMatchers.hasAction(Intent.ACTION_VIEW),\n+                    IntentMatchers.hasPackage(Urls.FACEBOOK_PACKAGE_NAME)))\n+        } catch (e: Exception) {\n+            Intents.intended(CoreMatchers.allOf(IntentMatchers.hasAction(Intent.ACTION_VIEW),\n+                    IntentMatchers.hasData(Urls.FACEBOOK_WEB_URL)))\n+        }\n+    }\n+\n+    @Test\n+    fun testLaunchGithub() {\n+        Espresso.onView(ViewMatchers.withId(R.id.github_launch_icon)).perform(ViewActions.click())\n+        Intents.intended(CoreMatchers.allOf(IntentMatchers.hasAction(Intent.ACTION_VIEW),\n+                IntentMatchers.hasData(Urls.GITHUB_REPO_URL)))\n+    }\n+\n+    @Test\n+    fun testLaunchRateUs() {\n+        val appPackageName = BuildConfig::class.java.getPackage().name\n+        Espresso.onView(ViewMatchers.withId(R.id.about_rate_us)).perform(ViewActions.click())\n+        try {\n+            Intents.intended(CoreMatchers.allOf(IntentMatchers.hasAction(Intent.ACTION_VIEW),\n+                    IntentMatchers.toPackage(Urls.PLAY_STORE_PACKAGE_NAME)))\n+        } catch (e: Exception) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDE2ODAxOQ=="}, "originalCommit": {"oid": "e4aa049d141b6c0d3f61e1d167b2caab8702319a"}, "originalPosition": 76}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDMxNjMwMw==", "bodyText": "This is how you can check for an installed application, link but a test shouldn't perform this.\nA test should exist for each flow, ideally you can say in the test beforehand \"report that the playstore isn't installed\". The lack of abstraction in the source will make this difficult to achieve", "url": "https://github.com/commons-app/apps-android-commons/pull/3475#discussion_r390316303", "createdAt": "2020-03-10T13:36:15Z", "author": {"login": "macgills"}, "path": "app/src/androidTest/java/fr/free/nrw/commons/AboutActivityTest.kt", "diffHunk": "@@ -0,0 +1,116 @@\n+package fr.free.nrw.commons\n+\n+import android.app.Activity\n+import android.app.Instrumentation\n+import android.content.Intent\n+import androidx.test.core.app.ApplicationProvider.getApplicationContext\n+import androidx.test.espresso.Espresso\n+import androidx.test.espresso.action.ViewActions\n+import androidx.test.espresso.assertion.ViewAssertions\n+import androidx.test.espresso.intent.Intents\n+import androidx.test.espresso.intent.matcher.IntentMatchers\n+import androidx.test.espresso.matcher.ViewMatchers\n+import androidx.test.espresso.matcher.ViewMatchers.withText\n+import androidx.test.rule.ActivityTestRule\n+import androidx.test.runner.AndroidJUnit4\n+import fr.free.nrw.commons.utils.ConfigUtils\n+import org.hamcrest.CoreMatchers\n+import org.junit.Before\n+import org.junit.Rule\n+import org.junit.Test\n+import org.junit.runner.RunWith\n+\n+@RunWith(AndroidJUnit4::class)\n+class AboutActivityTest {\n+    @get:Rule\n+    var activityRule: ActivityTestRule<*> = ActivityTestRule(AboutActivity::class.java)\n+\n+    @Before\n+    fun setup() {\n+        Intents.init()\n+        UITestHelper.skipWelcome()\n+        UITestHelper.skipLogin()\n+        Intents.intending(CoreMatchers.not(IntentMatchers.isInternal()))\n+                .respondWith(Instrumentation.ActivityResult(Activity.RESULT_OK, null))\n+    }\n+\n+    @Test\n+    fun testBuildNumber() {\n+        Espresso.onView(ViewMatchers.withId(R.id.about_version))\n+                .check(ViewAssertions.matches(withText(ConfigUtils.getVersionNameWithSha(getApplicationContext()))))\n+    }\n+\n+    @Test\n+    fun testLaunchWebsite() {\n+        Espresso.onView(ViewMatchers.withId(R.id.website_launch_icon)).perform(ViewActions.click())\n+        Intents.intended(CoreMatchers.allOf(IntentMatchers.hasAction(Intent.ACTION_VIEW),\n+                IntentMatchers.hasData(Urls.WEBSITE_URL)))\n+    }\n+\n+    @Test\n+    fun testLaunchFacebook() {\n+        Espresso.onView(ViewMatchers.withId(R.id.facebook_launch_icon)).perform(ViewActions.click())\n+        try {\n+            Intents.intended(CoreMatchers.allOf(IntentMatchers.hasAction(Intent.ACTION_VIEW),\n+                    IntentMatchers.hasPackage(Urls.FACEBOOK_PACKAGE_NAME)))\n+        } catch (e: Exception) {\n+            Intents.intended(CoreMatchers.allOf(IntentMatchers.hasAction(Intent.ACTION_VIEW),\n+                    IntentMatchers.hasData(Urls.FACEBOOK_WEB_URL)))\n+        }\n+    }\n+\n+    @Test\n+    fun testLaunchGithub() {\n+        Espresso.onView(ViewMatchers.withId(R.id.github_launch_icon)).perform(ViewActions.click())\n+        Intents.intended(CoreMatchers.allOf(IntentMatchers.hasAction(Intent.ACTION_VIEW),\n+                IntentMatchers.hasData(Urls.GITHUB_REPO_URL)))\n+    }\n+\n+    @Test\n+    fun testLaunchRateUs() {\n+        val appPackageName = BuildConfig::class.java.getPackage().name\n+        Espresso.onView(ViewMatchers.withId(R.id.about_rate_us)).perform(ViewActions.click())\n+        try {\n+            Intents.intended(CoreMatchers.allOf(IntentMatchers.hasAction(Intent.ACTION_VIEW),\n+                    IntentMatchers.toPackage(Urls.PLAY_STORE_PACKAGE_NAME)))\n+        } catch (e: Exception) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDE2ODAxOQ=="}, "originalCommit": {"oid": "e4aa049d141b6c0d3f61e1d167b2caab8702319a"}, "originalPosition": 76}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDMxODM4MA==", "bodyText": "It is ugly as sin but I am pretty sure you can just or EspressoMatchers so do that and avoid the try catch", "url": "https://github.com/commons-app/apps-android-commons/pull/3475#discussion_r390318380", "createdAt": "2020-03-10T13:39:21Z", "author": {"login": "macgills"}, "path": "app/src/androidTest/java/fr/free/nrw/commons/AboutActivityTest.kt", "diffHunk": "@@ -0,0 +1,116 @@\n+package fr.free.nrw.commons\n+\n+import android.app.Activity\n+import android.app.Instrumentation\n+import android.content.Intent\n+import androidx.test.core.app.ApplicationProvider.getApplicationContext\n+import androidx.test.espresso.Espresso\n+import androidx.test.espresso.action.ViewActions\n+import androidx.test.espresso.assertion.ViewAssertions\n+import androidx.test.espresso.intent.Intents\n+import androidx.test.espresso.intent.matcher.IntentMatchers\n+import androidx.test.espresso.matcher.ViewMatchers\n+import androidx.test.espresso.matcher.ViewMatchers.withText\n+import androidx.test.rule.ActivityTestRule\n+import androidx.test.runner.AndroidJUnit4\n+import fr.free.nrw.commons.utils.ConfigUtils\n+import org.hamcrest.CoreMatchers\n+import org.junit.Before\n+import org.junit.Rule\n+import org.junit.Test\n+import org.junit.runner.RunWith\n+\n+@RunWith(AndroidJUnit4::class)\n+class AboutActivityTest {\n+    @get:Rule\n+    var activityRule: ActivityTestRule<*> = ActivityTestRule(AboutActivity::class.java)\n+\n+    @Before\n+    fun setup() {\n+        Intents.init()\n+        UITestHelper.skipWelcome()\n+        UITestHelper.skipLogin()\n+        Intents.intending(CoreMatchers.not(IntentMatchers.isInternal()))\n+                .respondWith(Instrumentation.ActivityResult(Activity.RESULT_OK, null))\n+    }\n+\n+    @Test\n+    fun testBuildNumber() {\n+        Espresso.onView(ViewMatchers.withId(R.id.about_version))\n+                .check(ViewAssertions.matches(withText(ConfigUtils.getVersionNameWithSha(getApplicationContext()))))\n+    }\n+\n+    @Test\n+    fun testLaunchWebsite() {\n+        Espresso.onView(ViewMatchers.withId(R.id.website_launch_icon)).perform(ViewActions.click())\n+        Intents.intended(CoreMatchers.allOf(IntentMatchers.hasAction(Intent.ACTION_VIEW),\n+                IntentMatchers.hasData(Urls.WEBSITE_URL)))\n+    }\n+\n+    @Test\n+    fun testLaunchFacebook() {\n+        Espresso.onView(ViewMatchers.withId(R.id.facebook_launch_icon)).perform(ViewActions.click())\n+        try {\n+            Intents.intended(CoreMatchers.allOf(IntentMatchers.hasAction(Intent.ACTION_VIEW),\n+                    IntentMatchers.hasPackage(Urls.FACEBOOK_PACKAGE_NAME)))\n+        } catch (e: Exception) {\n+            Intents.intended(CoreMatchers.allOf(IntentMatchers.hasAction(Intent.ACTION_VIEW),\n+                    IntentMatchers.hasData(Urls.FACEBOOK_WEB_URL)))\n+        }\n+    }\n+\n+    @Test\n+    fun testLaunchGithub() {\n+        Espresso.onView(ViewMatchers.withId(R.id.github_launch_icon)).perform(ViewActions.click())\n+        Intents.intended(CoreMatchers.allOf(IntentMatchers.hasAction(Intent.ACTION_VIEW),\n+                IntentMatchers.hasData(Urls.GITHUB_REPO_URL)))\n+    }\n+\n+    @Test\n+    fun testLaunchRateUs() {\n+        val appPackageName = BuildConfig::class.java.getPackage().name\n+        Espresso.onView(ViewMatchers.withId(R.id.about_rate_us)).perform(ViewActions.click())\n+        try {\n+            Intents.intended(CoreMatchers.allOf(IntentMatchers.hasAction(Intent.ACTION_VIEW),\n+                    IntentMatchers.toPackage(Urls.PLAY_STORE_PACKAGE_NAME)))\n+        } catch (e: Exception) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDE2ODAxOQ=="}, "originalCommit": {"oid": "e4aa049d141b6c0d3f61e1d167b2caab8702319a"}, "originalPosition": 76}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDMzNzY3Mg==", "bodyText": "@macgills Should I update it to AboutActivity.java also?", "url": "https://github.com/commons-app/apps-android-commons/pull/3475#discussion_r390337672", "createdAt": "2020-03-10T14:06:34Z", "author": {"login": "madhurgupta10"}, "path": "app/src/androidTest/java/fr/free/nrw/commons/AboutActivityTest.kt", "diffHunk": "@@ -0,0 +1,116 @@\n+package fr.free.nrw.commons\n+\n+import android.app.Activity\n+import android.app.Instrumentation\n+import android.content.Intent\n+import androidx.test.core.app.ApplicationProvider.getApplicationContext\n+import androidx.test.espresso.Espresso\n+import androidx.test.espresso.action.ViewActions\n+import androidx.test.espresso.assertion.ViewAssertions\n+import androidx.test.espresso.intent.Intents\n+import androidx.test.espresso.intent.matcher.IntentMatchers\n+import androidx.test.espresso.matcher.ViewMatchers\n+import androidx.test.espresso.matcher.ViewMatchers.withText\n+import androidx.test.rule.ActivityTestRule\n+import androidx.test.runner.AndroidJUnit4\n+import fr.free.nrw.commons.utils.ConfigUtils\n+import org.hamcrest.CoreMatchers\n+import org.junit.Before\n+import org.junit.Rule\n+import org.junit.Test\n+import org.junit.runner.RunWith\n+\n+@RunWith(AndroidJUnit4::class)\n+class AboutActivityTest {\n+    @get:Rule\n+    var activityRule: ActivityTestRule<*> = ActivityTestRule(AboutActivity::class.java)\n+\n+    @Before\n+    fun setup() {\n+        Intents.init()\n+        UITestHelper.skipWelcome()\n+        UITestHelper.skipLogin()\n+        Intents.intending(CoreMatchers.not(IntentMatchers.isInternal()))\n+                .respondWith(Instrumentation.ActivityResult(Activity.RESULT_OK, null))\n+    }\n+\n+    @Test\n+    fun testBuildNumber() {\n+        Espresso.onView(ViewMatchers.withId(R.id.about_version))\n+                .check(ViewAssertions.matches(withText(ConfigUtils.getVersionNameWithSha(getApplicationContext()))))\n+    }\n+\n+    @Test\n+    fun testLaunchWebsite() {\n+        Espresso.onView(ViewMatchers.withId(R.id.website_launch_icon)).perform(ViewActions.click())\n+        Intents.intended(CoreMatchers.allOf(IntentMatchers.hasAction(Intent.ACTION_VIEW),\n+                IntentMatchers.hasData(Urls.WEBSITE_URL)))\n+    }\n+\n+    @Test\n+    fun testLaunchFacebook() {\n+        Espresso.onView(ViewMatchers.withId(R.id.facebook_launch_icon)).perform(ViewActions.click())\n+        try {\n+            Intents.intended(CoreMatchers.allOf(IntentMatchers.hasAction(Intent.ACTION_VIEW),\n+                    IntentMatchers.hasPackage(Urls.FACEBOOK_PACKAGE_NAME)))\n+        } catch (e: Exception) {\n+            Intents.intended(CoreMatchers.allOf(IntentMatchers.hasAction(Intent.ACTION_VIEW),\n+                    IntentMatchers.hasData(Urls.FACEBOOK_WEB_URL)))\n+        }\n+    }\n+\n+    @Test\n+    fun testLaunchGithub() {\n+        Espresso.onView(ViewMatchers.withId(R.id.github_launch_icon)).perform(ViewActions.click())\n+        Intents.intended(CoreMatchers.allOf(IntentMatchers.hasAction(Intent.ACTION_VIEW),\n+                IntentMatchers.hasData(Urls.GITHUB_REPO_URL)))\n+    }\n+\n+    @Test\n+    fun testLaunchRateUs() {\n+        val appPackageName = BuildConfig::class.java.getPackage().name\n+        Espresso.onView(ViewMatchers.withId(R.id.about_rate_us)).perform(ViewActions.click())\n+        try {\n+            Intents.intended(CoreMatchers.allOf(IntentMatchers.hasAction(Intent.ACTION_VIEW),\n+                    IntentMatchers.toPackage(Urls.PLAY_STORE_PACKAGE_NAME)))\n+        } catch (e: Exception) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDE2ODAxOQ=="}, "originalCommit": {"oid": "e4aa049d141b6c0d3f61e1d167b2caab8702319a"}, "originalPosition": 76}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDM0NTYyNw==", "bodyText": "I'd say out of scope, leave it for now", "url": "https://github.com/commons-app/apps-android-commons/pull/3475#discussion_r390345627", "createdAt": "2020-03-10T14:17:32Z", "author": {"login": "macgills"}, "path": "app/src/androidTest/java/fr/free/nrw/commons/AboutActivityTest.kt", "diffHunk": "@@ -0,0 +1,116 @@\n+package fr.free.nrw.commons\n+\n+import android.app.Activity\n+import android.app.Instrumentation\n+import android.content.Intent\n+import androidx.test.core.app.ApplicationProvider.getApplicationContext\n+import androidx.test.espresso.Espresso\n+import androidx.test.espresso.action.ViewActions\n+import androidx.test.espresso.assertion.ViewAssertions\n+import androidx.test.espresso.intent.Intents\n+import androidx.test.espresso.intent.matcher.IntentMatchers\n+import androidx.test.espresso.matcher.ViewMatchers\n+import androidx.test.espresso.matcher.ViewMatchers.withText\n+import androidx.test.rule.ActivityTestRule\n+import androidx.test.runner.AndroidJUnit4\n+import fr.free.nrw.commons.utils.ConfigUtils\n+import org.hamcrest.CoreMatchers\n+import org.junit.Before\n+import org.junit.Rule\n+import org.junit.Test\n+import org.junit.runner.RunWith\n+\n+@RunWith(AndroidJUnit4::class)\n+class AboutActivityTest {\n+    @get:Rule\n+    var activityRule: ActivityTestRule<*> = ActivityTestRule(AboutActivity::class.java)\n+\n+    @Before\n+    fun setup() {\n+        Intents.init()\n+        UITestHelper.skipWelcome()\n+        UITestHelper.skipLogin()\n+        Intents.intending(CoreMatchers.not(IntentMatchers.isInternal()))\n+                .respondWith(Instrumentation.ActivityResult(Activity.RESULT_OK, null))\n+    }\n+\n+    @Test\n+    fun testBuildNumber() {\n+        Espresso.onView(ViewMatchers.withId(R.id.about_version))\n+                .check(ViewAssertions.matches(withText(ConfigUtils.getVersionNameWithSha(getApplicationContext()))))\n+    }\n+\n+    @Test\n+    fun testLaunchWebsite() {\n+        Espresso.onView(ViewMatchers.withId(R.id.website_launch_icon)).perform(ViewActions.click())\n+        Intents.intended(CoreMatchers.allOf(IntentMatchers.hasAction(Intent.ACTION_VIEW),\n+                IntentMatchers.hasData(Urls.WEBSITE_URL)))\n+    }\n+\n+    @Test\n+    fun testLaunchFacebook() {\n+        Espresso.onView(ViewMatchers.withId(R.id.facebook_launch_icon)).perform(ViewActions.click())\n+        try {\n+            Intents.intended(CoreMatchers.allOf(IntentMatchers.hasAction(Intent.ACTION_VIEW),\n+                    IntentMatchers.hasPackage(Urls.FACEBOOK_PACKAGE_NAME)))\n+        } catch (e: Exception) {\n+            Intents.intended(CoreMatchers.allOf(IntentMatchers.hasAction(Intent.ACTION_VIEW),\n+                    IntentMatchers.hasData(Urls.FACEBOOK_WEB_URL)))\n+        }\n+    }\n+\n+    @Test\n+    fun testLaunchGithub() {\n+        Espresso.onView(ViewMatchers.withId(R.id.github_launch_icon)).perform(ViewActions.click())\n+        Intents.intended(CoreMatchers.allOf(IntentMatchers.hasAction(Intent.ACTION_VIEW),\n+                IntentMatchers.hasData(Urls.GITHUB_REPO_URL)))\n+    }\n+\n+    @Test\n+    fun testLaunchRateUs() {\n+        val appPackageName = BuildConfig::class.java.getPackage().name\n+        Espresso.onView(ViewMatchers.withId(R.id.about_rate_us)).perform(ViewActions.click())\n+        try {\n+            Intents.intended(CoreMatchers.allOf(IntentMatchers.hasAction(Intent.ACTION_VIEW),\n+                    IntentMatchers.toPackage(Urls.PLAY_STORE_PACKAGE_NAME)))\n+        } catch (e: Exception) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDE2ODAxOQ=="}, "originalCommit": {"oid": "e4aa049d141b6c0d3f61e1d167b2caab8702319a"}, "originalPosition": 76}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDM3MjIyNg==", "bodyText": "@macgills Can I use anyOf like this\nval appPackageName = BuildConfig::class.java.getPackage().name\n        Espresso.onView(ViewMatchers.withId(R.id.about_rate_us)).perform(ViewActions.click())\n        Intents.intended(IntentMatchers.hasAction(Intent.ACTION_VIEW))\n        Intents.intended(CoreMatchers.anyOf(IntentMatchers.toPackage(Urls.PLAY_STORE_PACKAGE_NAME),\n                IntentMatchers.hasData(\"${Urls.PLAY_STORE_URL_PREFIX}$appPackageName\")))\n\nAlso, regarding @maskaravivek suggestion, I am unable to extract the packageName for play store.", "url": "https://github.com/commons-app/apps-android-commons/pull/3475#discussion_r390372226", "createdAt": "2020-03-10T14:51:07Z", "author": {"login": "madhurgupta10"}, "path": "app/src/androidTest/java/fr/free/nrw/commons/AboutActivityTest.kt", "diffHunk": "@@ -0,0 +1,116 @@\n+package fr.free.nrw.commons\n+\n+import android.app.Activity\n+import android.app.Instrumentation\n+import android.content.Intent\n+import androidx.test.core.app.ApplicationProvider.getApplicationContext\n+import androidx.test.espresso.Espresso\n+import androidx.test.espresso.action.ViewActions\n+import androidx.test.espresso.assertion.ViewAssertions\n+import androidx.test.espresso.intent.Intents\n+import androidx.test.espresso.intent.matcher.IntentMatchers\n+import androidx.test.espresso.matcher.ViewMatchers\n+import androidx.test.espresso.matcher.ViewMatchers.withText\n+import androidx.test.rule.ActivityTestRule\n+import androidx.test.runner.AndroidJUnit4\n+import fr.free.nrw.commons.utils.ConfigUtils\n+import org.hamcrest.CoreMatchers\n+import org.junit.Before\n+import org.junit.Rule\n+import org.junit.Test\n+import org.junit.runner.RunWith\n+\n+@RunWith(AndroidJUnit4::class)\n+class AboutActivityTest {\n+    @get:Rule\n+    var activityRule: ActivityTestRule<*> = ActivityTestRule(AboutActivity::class.java)\n+\n+    @Before\n+    fun setup() {\n+        Intents.init()\n+        UITestHelper.skipWelcome()\n+        UITestHelper.skipLogin()\n+        Intents.intending(CoreMatchers.not(IntentMatchers.isInternal()))\n+                .respondWith(Instrumentation.ActivityResult(Activity.RESULT_OK, null))\n+    }\n+\n+    @Test\n+    fun testBuildNumber() {\n+        Espresso.onView(ViewMatchers.withId(R.id.about_version))\n+                .check(ViewAssertions.matches(withText(ConfigUtils.getVersionNameWithSha(getApplicationContext()))))\n+    }\n+\n+    @Test\n+    fun testLaunchWebsite() {\n+        Espresso.onView(ViewMatchers.withId(R.id.website_launch_icon)).perform(ViewActions.click())\n+        Intents.intended(CoreMatchers.allOf(IntentMatchers.hasAction(Intent.ACTION_VIEW),\n+                IntentMatchers.hasData(Urls.WEBSITE_URL)))\n+    }\n+\n+    @Test\n+    fun testLaunchFacebook() {\n+        Espresso.onView(ViewMatchers.withId(R.id.facebook_launch_icon)).perform(ViewActions.click())\n+        try {\n+            Intents.intended(CoreMatchers.allOf(IntentMatchers.hasAction(Intent.ACTION_VIEW),\n+                    IntentMatchers.hasPackage(Urls.FACEBOOK_PACKAGE_NAME)))\n+        } catch (e: Exception) {\n+            Intents.intended(CoreMatchers.allOf(IntentMatchers.hasAction(Intent.ACTION_VIEW),\n+                    IntentMatchers.hasData(Urls.FACEBOOK_WEB_URL)))\n+        }\n+    }\n+\n+    @Test\n+    fun testLaunchGithub() {\n+        Espresso.onView(ViewMatchers.withId(R.id.github_launch_icon)).perform(ViewActions.click())\n+        Intents.intended(CoreMatchers.allOf(IntentMatchers.hasAction(Intent.ACTION_VIEW),\n+                IntentMatchers.hasData(Urls.GITHUB_REPO_URL)))\n+    }\n+\n+    @Test\n+    fun testLaunchRateUs() {\n+        val appPackageName = BuildConfig::class.java.getPackage().name\n+        Espresso.onView(ViewMatchers.withId(R.id.about_rate_us)).perform(ViewActions.click())\n+        try {\n+            Intents.intended(CoreMatchers.allOf(IntentMatchers.hasAction(Intent.ACTION_VIEW),\n+                    IntentMatchers.toPackage(Urls.PLAY_STORE_PACKAGE_NAME)))\n+        } catch (e: Exception) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDE2ODAxOQ=="}, "originalCommit": {"oid": "e4aa049d141b6c0d3f61e1d167b2caab8702319a"}, "originalPosition": 76}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDM4NDQ0MA==", "bodyText": "Don't get the package name like that InstrumentationRegistry.getInstrumentation().getTargetContext() to get the context then get the package name from the context", "url": "https://github.com/commons-app/apps-android-commons/pull/3475#discussion_r390384440", "createdAt": "2020-03-10T15:06:38Z", "author": {"login": "macgills"}, "path": "app/src/androidTest/java/fr/free/nrw/commons/AboutActivityTest.kt", "diffHunk": "@@ -0,0 +1,116 @@\n+package fr.free.nrw.commons\n+\n+import android.app.Activity\n+import android.app.Instrumentation\n+import android.content.Intent\n+import androidx.test.core.app.ApplicationProvider.getApplicationContext\n+import androidx.test.espresso.Espresso\n+import androidx.test.espresso.action.ViewActions\n+import androidx.test.espresso.assertion.ViewAssertions\n+import androidx.test.espresso.intent.Intents\n+import androidx.test.espresso.intent.matcher.IntentMatchers\n+import androidx.test.espresso.matcher.ViewMatchers\n+import androidx.test.espresso.matcher.ViewMatchers.withText\n+import androidx.test.rule.ActivityTestRule\n+import androidx.test.runner.AndroidJUnit4\n+import fr.free.nrw.commons.utils.ConfigUtils\n+import org.hamcrest.CoreMatchers\n+import org.junit.Before\n+import org.junit.Rule\n+import org.junit.Test\n+import org.junit.runner.RunWith\n+\n+@RunWith(AndroidJUnit4::class)\n+class AboutActivityTest {\n+    @get:Rule\n+    var activityRule: ActivityTestRule<*> = ActivityTestRule(AboutActivity::class.java)\n+\n+    @Before\n+    fun setup() {\n+        Intents.init()\n+        UITestHelper.skipWelcome()\n+        UITestHelper.skipLogin()\n+        Intents.intending(CoreMatchers.not(IntentMatchers.isInternal()))\n+                .respondWith(Instrumentation.ActivityResult(Activity.RESULT_OK, null))\n+    }\n+\n+    @Test\n+    fun testBuildNumber() {\n+        Espresso.onView(ViewMatchers.withId(R.id.about_version))\n+                .check(ViewAssertions.matches(withText(ConfigUtils.getVersionNameWithSha(getApplicationContext()))))\n+    }\n+\n+    @Test\n+    fun testLaunchWebsite() {\n+        Espresso.onView(ViewMatchers.withId(R.id.website_launch_icon)).perform(ViewActions.click())\n+        Intents.intended(CoreMatchers.allOf(IntentMatchers.hasAction(Intent.ACTION_VIEW),\n+                IntentMatchers.hasData(Urls.WEBSITE_URL)))\n+    }\n+\n+    @Test\n+    fun testLaunchFacebook() {\n+        Espresso.onView(ViewMatchers.withId(R.id.facebook_launch_icon)).perform(ViewActions.click())\n+        try {\n+            Intents.intended(CoreMatchers.allOf(IntentMatchers.hasAction(Intent.ACTION_VIEW),\n+                    IntentMatchers.hasPackage(Urls.FACEBOOK_PACKAGE_NAME)))\n+        } catch (e: Exception) {\n+            Intents.intended(CoreMatchers.allOf(IntentMatchers.hasAction(Intent.ACTION_VIEW),\n+                    IntentMatchers.hasData(Urls.FACEBOOK_WEB_URL)))\n+        }\n+    }\n+\n+    @Test\n+    fun testLaunchGithub() {\n+        Espresso.onView(ViewMatchers.withId(R.id.github_launch_icon)).perform(ViewActions.click())\n+        Intents.intended(CoreMatchers.allOf(IntentMatchers.hasAction(Intent.ACTION_VIEW),\n+                IntentMatchers.hasData(Urls.GITHUB_REPO_URL)))\n+    }\n+\n+    @Test\n+    fun testLaunchRateUs() {\n+        val appPackageName = BuildConfig::class.java.getPackage().name\n+        Espresso.onView(ViewMatchers.withId(R.id.about_rate_us)).perform(ViewActions.click())\n+        try {\n+            Intents.intended(CoreMatchers.allOf(IntentMatchers.hasAction(Intent.ACTION_VIEW),\n+                    IntentMatchers.toPackage(Urls.PLAY_STORE_PACKAGE_NAME)))\n+        } catch (e: Exception) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDE2ODAxOQ=="}, "originalCommit": {"oid": "e4aa049d141b6c0d3f61e1d167b2caab8702319a"}, "originalPosition": 76}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDM5OTU0NQ==", "bodyText": "@macgills I have fixed the appPackageName\nBut I am still not able to get the PLAY STORE package name.", "url": "https://github.com/commons-app/apps-android-commons/pull/3475#discussion_r390399545", "createdAt": "2020-03-10T15:26:10Z", "author": {"login": "madhurgupta10"}, "path": "app/src/androidTest/java/fr/free/nrw/commons/AboutActivityTest.kt", "diffHunk": "@@ -0,0 +1,116 @@\n+package fr.free.nrw.commons\n+\n+import android.app.Activity\n+import android.app.Instrumentation\n+import android.content.Intent\n+import androidx.test.core.app.ApplicationProvider.getApplicationContext\n+import androidx.test.espresso.Espresso\n+import androidx.test.espresso.action.ViewActions\n+import androidx.test.espresso.assertion.ViewAssertions\n+import androidx.test.espresso.intent.Intents\n+import androidx.test.espresso.intent.matcher.IntentMatchers\n+import androidx.test.espresso.matcher.ViewMatchers\n+import androidx.test.espresso.matcher.ViewMatchers.withText\n+import androidx.test.rule.ActivityTestRule\n+import androidx.test.runner.AndroidJUnit4\n+import fr.free.nrw.commons.utils.ConfigUtils\n+import org.hamcrest.CoreMatchers\n+import org.junit.Before\n+import org.junit.Rule\n+import org.junit.Test\n+import org.junit.runner.RunWith\n+\n+@RunWith(AndroidJUnit4::class)\n+class AboutActivityTest {\n+    @get:Rule\n+    var activityRule: ActivityTestRule<*> = ActivityTestRule(AboutActivity::class.java)\n+\n+    @Before\n+    fun setup() {\n+        Intents.init()\n+        UITestHelper.skipWelcome()\n+        UITestHelper.skipLogin()\n+        Intents.intending(CoreMatchers.not(IntentMatchers.isInternal()))\n+                .respondWith(Instrumentation.ActivityResult(Activity.RESULT_OK, null))\n+    }\n+\n+    @Test\n+    fun testBuildNumber() {\n+        Espresso.onView(ViewMatchers.withId(R.id.about_version))\n+                .check(ViewAssertions.matches(withText(ConfigUtils.getVersionNameWithSha(getApplicationContext()))))\n+    }\n+\n+    @Test\n+    fun testLaunchWebsite() {\n+        Espresso.onView(ViewMatchers.withId(R.id.website_launch_icon)).perform(ViewActions.click())\n+        Intents.intended(CoreMatchers.allOf(IntentMatchers.hasAction(Intent.ACTION_VIEW),\n+                IntentMatchers.hasData(Urls.WEBSITE_URL)))\n+    }\n+\n+    @Test\n+    fun testLaunchFacebook() {\n+        Espresso.onView(ViewMatchers.withId(R.id.facebook_launch_icon)).perform(ViewActions.click())\n+        try {\n+            Intents.intended(CoreMatchers.allOf(IntentMatchers.hasAction(Intent.ACTION_VIEW),\n+                    IntentMatchers.hasPackage(Urls.FACEBOOK_PACKAGE_NAME)))\n+        } catch (e: Exception) {\n+            Intents.intended(CoreMatchers.allOf(IntentMatchers.hasAction(Intent.ACTION_VIEW),\n+                    IntentMatchers.hasData(Urls.FACEBOOK_WEB_URL)))\n+        }\n+    }\n+\n+    @Test\n+    fun testLaunchGithub() {\n+        Espresso.onView(ViewMatchers.withId(R.id.github_launch_icon)).perform(ViewActions.click())\n+        Intents.intended(CoreMatchers.allOf(IntentMatchers.hasAction(Intent.ACTION_VIEW),\n+                IntentMatchers.hasData(Urls.GITHUB_REPO_URL)))\n+    }\n+\n+    @Test\n+    fun testLaunchRateUs() {\n+        val appPackageName = BuildConfig::class.java.getPackage().name\n+        Espresso.onView(ViewMatchers.withId(R.id.about_rate_us)).perform(ViewActions.click())\n+        try {\n+            Intents.intended(CoreMatchers.allOf(IntentMatchers.hasAction(Intent.ACTION_VIEW),\n+                    IntentMatchers.toPackage(Urls.PLAY_STORE_PACKAGE_NAME)))\n+        } catch (e: Exception) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDE2ODAxOQ=="}, "originalCommit": {"oid": "e4aa049d141b6c0d3f61e1d167b2caab8702319a"}, "originalPosition": 76}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDQwODAwMg==", "bodyText": "That is fine to be hardcoded, you just shouldn't hardcode our package name because we can retrieve that", "url": "https://github.com/commons-app/apps-android-commons/pull/3475#discussion_r390408002", "createdAt": "2020-03-10T15:37:14Z", "author": {"login": "macgills"}, "path": "app/src/androidTest/java/fr/free/nrw/commons/AboutActivityTest.kt", "diffHunk": "@@ -0,0 +1,116 @@\n+package fr.free.nrw.commons\n+\n+import android.app.Activity\n+import android.app.Instrumentation\n+import android.content.Intent\n+import androidx.test.core.app.ApplicationProvider.getApplicationContext\n+import androidx.test.espresso.Espresso\n+import androidx.test.espresso.action.ViewActions\n+import androidx.test.espresso.assertion.ViewAssertions\n+import androidx.test.espresso.intent.Intents\n+import androidx.test.espresso.intent.matcher.IntentMatchers\n+import androidx.test.espresso.matcher.ViewMatchers\n+import androidx.test.espresso.matcher.ViewMatchers.withText\n+import androidx.test.rule.ActivityTestRule\n+import androidx.test.runner.AndroidJUnit4\n+import fr.free.nrw.commons.utils.ConfigUtils\n+import org.hamcrest.CoreMatchers\n+import org.junit.Before\n+import org.junit.Rule\n+import org.junit.Test\n+import org.junit.runner.RunWith\n+\n+@RunWith(AndroidJUnit4::class)\n+class AboutActivityTest {\n+    @get:Rule\n+    var activityRule: ActivityTestRule<*> = ActivityTestRule(AboutActivity::class.java)\n+\n+    @Before\n+    fun setup() {\n+        Intents.init()\n+        UITestHelper.skipWelcome()\n+        UITestHelper.skipLogin()\n+        Intents.intending(CoreMatchers.not(IntentMatchers.isInternal()))\n+                .respondWith(Instrumentation.ActivityResult(Activity.RESULT_OK, null))\n+    }\n+\n+    @Test\n+    fun testBuildNumber() {\n+        Espresso.onView(ViewMatchers.withId(R.id.about_version))\n+                .check(ViewAssertions.matches(withText(ConfigUtils.getVersionNameWithSha(getApplicationContext()))))\n+    }\n+\n+    @Test\n+    fun testLaunchWebsite() {\n+        Espresso.onView(ViewMatchers.withId(R.id.website_launch_icon)).perform(ViewActions.click())\n+        Intents.intended(CoreMatchers.allOf(IntentMatchers.hasAction(Intent.ACTION_VIEW),\n+                IntentMatchers.hasData(Urls.WEBSITE_URL)))\n+    }\n+\n+    @Test\n+    fun testLaunchFacebook() {\n+        Espresso.onView(ViewMatchers.withId(R.id.facebook_launch_icon)).perform(ViewActions.click())\n+        try {\n+            Intents.intended(CoreMatchers.allOf(IntentMatchers.hasAction(Intent.ACTION_VIEW),\n+                    IntentMatchers.hasPackage(Urls.FACEBOOK_PACKAGE_NAME)))\n+        } catch (e: Exception) {\n+            Intents.intended(CoreMatchers.allOf(IntentMatchers.hasAction(Intent.ACTION_VIEW),\n+                    IntentMatchers.hasData(Urls.FACEBOOK_WEB_URL)))\n+        }\n+    }\n+\n+    @Test\n+    fun testLaunchGithub() {\n+        Espresso.onView(ViewMatchers.withId(R.id.github_launch_icon)).perform(ViewActions.click())\n+        Intents.intended(CoreMatchers.allOf(IntentMatchers.hasAction(Intent.ACTION_VIEW),\n+                IntentMatchers.hasData(Urls.GITHUB_REPO_URL)))\n+    }\n+\n+    @Test\n+    fun testLaunchRateUs() {\n+        val appPackageName = BuildConfig::class.java.getPackage().name\n+        Espresso.onView(ViewMatchers.withId(R.id.about_rate_us)).perform(ViewActions.click())\n+        try {\n+            Intents.intended(CoreMatchers.allOf(IntentMatchers.hasAction(Intent.ACTION_VIEW),\n+                    IntentMatchers.toPackage(Urls.PLAY_STORE_PACKAGE_NAME)))\n+        } catch (e: Exception) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDE2ODAxOQ=="}, "originalCommit": {"oid": "e4aa049d141b6c0d3f61e1d167b2caab8702319a"}, "originalPosition": 76}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQyMjQ4OTYwOnYy", "diffSide": "RIGHT", "path": "app/src/main/java/fr/free/nrw/commons/Utils.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMVQxMDo1NTo1OVrOF0yDaQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMVQxMDo1NTo1OVrOF0yDaQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDg5MDM0NQ==", "bodyText": "oh, this should definitely be changed, it is a bad example that led you astray. context.getPackageName()", "url": "https://github.com/commons-app/apps-android-commons/pull/3475#discussion_r390890345", "createdAt": "2020-03-11T10:55:59Z", "author": {"login": "macgills"}, "path": "app/src/main/java/fr/free/nrw/commons/Utils.java", "diffHunk": "@@ -117,10 +117,10 @@ public static String fixExtension(String title, String extension) {\n     public static void rateApp(Context context) {\n         final String appPackageName = BuildConfig.class.getPackage().getName();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b3a4b211da5fe04170012f728ab05e44865c5d2b"}, "originalPosition": 2}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQyMzAxMDQ2OnYy", "diffSide": "LEFT", "path": "app/src/androidTest/java/fr/free/nrw/commons/AboutActivityTest.kt", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMVQxMzozMzo1NVrOF03Dmw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMVQxNDozOToxN1rOF056Ig==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDk3MjMxNQ==", "bodyText": "hasData was still a valuable test", "url": "https://github.com/commons-app/apps-android-commons/pull/3475#discussion_r390972315", "createdAt": "2020-03-11T13:33:55Z", "author": {"login": "macgills"}, "path": "app/src/androidTest/java/fr/free/nrw/commons/AboutActivityTest.kt", "diffHunk": "@@ -63,11 +60,8 @@ class AboutActivityTest {\n \n     @Test\n     fun testLaunchRateUs() {\n-        val appPackageName = InstrumentationRegistry.getInstrumentation().targetContext.packageName\n         Espresso.onView(ViewMatchers.withId(R.id.about_rate_us)).perform(ViewActions.click())\n         Intents.intended(IntentMatchers.hasAction(Intent.ACTION_VIEW))\n-        Intents.intended(CoreMatchers.anyOf(IntentMatchers.toPackage(Urls.PLAY_STORE_PACKAGE_NAME),\n-                IntentMatchers.hasData(\"${Urls.PLAY_STORE_URL_PREFIX}$appPackageName\")))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "46ed7109c3213752170eec3c5f7353e51da7b729"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTAwNTgzOA==", "bodyText": "@macgills This actually fails the test if the app is installed on the device because then the browser will not launch.", "url": "https://github.com/commons-app/apps-android-commons/pull/3475#discussion_r391005838", "createdAt": "2020-03-11T14:21:54Z", "author": {"login": "madhurgupta10"}, "path": "app/src/androidTest/java/fr/free/nrw/commons/AboutActivityTest.kt", "diffHunk": "@@ -63,11 +60,8 @@ class AboutActivityTest {\n \n     @Test\n     fun testLaunchRateUs() {\n-        val appPackageName = InstrumentationRegistry.getInstrumentation().targetContext.packageName\n         Espresso.onView(ViewMatchers.withId(R.id.about_rate_us)).perform(ViewActions.click())\n         Intents.intended(IntentMatchers.hasAction(Intent.ACTION_VIEW))\n-        Intents.intended(CoreMatchers.anyOf(IntentMatchers.toPackage(Urls.PLAY_STORE_PACKAGE_NAME),\n-                IntentMatchers.hasData(\"${Urls.PLAY_STORE_URL_PREFIX}$appPackageName\")))", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDk3MjMxNQ=="}, "originalCommit": {"oid": "46ed7109c3213752170eec3c5f7353e51da7b729"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTAxOTA0Mg==", "bodyText": "We want to be asserting hasData whether it be for the playstore or for the browser, you can use anyOf(hasData(playStore), hasData(browser))", "url": "https://github.com/commons-app/apps-android-commons/pull/3475#discussion_r391019042", "createdAt": "2020-03-11T14:39:17Z", "author": {"login": "macgills"}, "path": "app/src/androidTest/java/fr/free/nrw/commons/AboutActivityTest.kt", "diffHunk": "@@ -63,11 +60,8 @@ class AboutActivityTest {\n \n     @Test\n     fun testLaunchRateUs() {\n-        val appPackageName = InstrumentationRegistry.getInstrumentation().targetContext.packageName\n         Espresso.onView(ViewMatchers.withId(R.id.about_rate_us)).perform(ViewActions.click())\n         Intents.intended(IntentMatchers.hasAction(Intent.ACTION_VIEW))\n-        Intents.intended(CoreMatchers.anyOf(IntentMatchers.toPackage(Urls.PLAY_STORE_PACKAGE_NAME),\n-                IntentMatchers.hasData(\"${Urls.PLAY_STORE_URL_PREFIX}$appPackageName\")))", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDk3MjMxNQ=="}, "originalCommit": {"oid": "46ed7109c3213752170eec3c5f7353e51da7b729"}, "originalPosition": 25}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4174, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}