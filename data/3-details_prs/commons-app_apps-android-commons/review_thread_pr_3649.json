{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAyNjE1OTgx", "number": 3649, "reviewThreads": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xM1QxMjo0OTo1OFrODxO1iQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNFQxMDoyODozM1rODxlSfw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUyOTQ5ODk3OnYy", "diffSide": "RIGHT", "path": "app/src/main/java/fr/free/nrw/commons/CommonsApplication.java", "isResolved": true, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xM1QxMjo0OTo1OFrOGElh4Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNFQwNzo0NTo1OFrOGFCMSQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzQ2MjM2OQ==", "bodyText": "We should not do this, a) threads are expensive and b) Rx gives us the ability to switch threads easily\nYou can use andThen to execute another completable and keep the logoutListener on the main thread.\nIf you have any questions about Rx then please ask me", "url": "https://github.com/commons-app/apps-android-commons/pull/3649#discussion_r407462369", "createdAt": "2020-04-13T12:49:58Z", "author": {"login": "macgills"}, "path": "app/src/main/java/fr/free/nrw/commons/CommonsApplication.java", "diffHunk": "@@ -275,7 +275,7 @@ public void clearApplicationData(Context context, LogoutListener logoutListener)\n                     //TODO: fix preference manager\n                     defaultPrefs.clearAll();\n                     defaultPrefs.putBoolean(\"firstrun\", false);\n-                    updateAllDatabases();\n+                    new Thread(this::updateAllDatabases).start();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c36206d74ee25222dc752ce5fc30b7cf660bb19b"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzQ4OTUwOQ==", "bodyText": "@macgills I never used andThen operator can you give some suggestions? Thanks!", "url": "https://github.com/commons-app/apps-android-commons/pull/3649#discussion_r407489509", "createdAt": "2020-04-13T13:54:14Z", "author": {"login": "gouri-panda"}, "path": "app/src/main/java/fr/free/nrw/commons/CommonsApplication.java", "diffHunk": "@@ -275,7 +275,7 @@ public void clearApplicationData(Context context, LogoutListener logoutListener)\n                     //TODO: fix preference manager\n                     defaultPrefs.clearAll();\n                     defaultPrefs.putBoolean(\"firstrun\", false);\n-                    updateAllDatabases();\n+                    new Thread(this::updateAllDatabases).start();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzQ2MjM2OQ=="}, "originalCommit": {"oid": "c36206d74ee25222dc752ce5fc30b7cf660bb19b"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzQ5ODcxMw==", "bodyText": "example:\nCompletable.fromCallable{\nwriteSomeValuesToADatabase()\n}\n.subscribeOn(Schedlers.io())\n.andThen{\n Completable.fromCallable{\n  writeSomeValuesToAnotherDatabase() \n  }\n}\n.observeOn(AndroidSchedulers.mainThread())\n.subscribe {\n  updateTheUIBecauseWeAreOnTheUiThread()\n}\n\n\nthat is kinda of kotlin-y but that is what my pseudocode tends to look like nowadays", "url": "https://github.com/commons-app/apps-android-commons/pull/3649#discussion_r407498713", "createdAt": "2020-04-13T14:13:16Z", "author": {"login": "macgills"}, "path": "app/src/main/java/fr/free/nrw/commons/CommonsApplication.java", "diffHunk": "@@ -275,7 +275,7 @@ public void clearApplicationData(Context context, LogoutListener logoutListener)\n                     //TODO: fix preference manager\n                     defaultPrefs.clearAll();\n                     defaultPrefs.putBoolean(\"firstrun\", false);\n-                    updateAllDatabases();\n+                    new Thread(this::updateAllDatabases).start();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzQ2MjM2OQ=="}, "originalCommit": {"oid": "c36206d74ee25222dc752ce5fc30b7cf660bb19b"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzUyODYzMA==", "bodyText": "@macgills Should I use Completable.fromCallable or Completable.differ Thanks!", "url": "https://github.com/commons-app/apps-android-commons/pull/3649#discussion_r407528630", "createdAt": "2020-04-13T15:10:03Z", "author": {"login": "gouri-panda"}, "path": "app/src/main/java/fr/free/nrw/commons/CommonsApplication.java", "diffHunk": "@@ -275,7 +275,7 @@ public void clearApplicationData(Context context, LogoutListener logoutListener)\n                     //TODO: fix preference manager\n                     defaultPrefs.clearAll();\n                     defaultPrefs.putBoolean(\"firstrun\", false);\n-                    updateAllDatabases();\n+                    new Thread(this::updateAllDatabases).start();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzQ2MjM2OQ=="}, "originalCommit": {"oid": "c36206d74ee25222dc752ce5fc30b7cf660bb19b"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzkzMTk3Nw==", "bodyText": "Generally you should use fromCallable.\nFromCallable can basically be written as\nCompletable.defer{\n  Completable.just(something)\n}\n\nif Completable had .just which it doesn't because that would be a little silly because a completable doesn't represent any values but a unit of work to be done.\nThis is more relevant to Flowable/Observable/Single/Maybe. Essentially it allows you to supply a factory for an Observable so that whenever it gets subscribed to it creates a new one", "url": "https://github.com/commons-app/apps-android-commons/pull/3649#discussion_r407931977", "createdAt": "2020-04-14T07:45:58Z", "author": {"login": "macgills"}, "path": "app/src/main/java/fr/free/nrw/commons/CommonsApplication.java", "diffHunk": "@@ -275,7 +275,7 @@ public void clearApplicationData(Context context, LogoutListener logoutListener)\n                     //TODO: fix preference manager\n                     defaultPrefs.clearAll();\n                     defaultPrefs.putBoolean(\"firstrun\", false);\n-                    updateAllDatabases();\n+                    new Thread(this::updateAllDatabases).start();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzQ2MjM2OQ=="}, "originalCommit": {"oid": "c36206d74ee25222dc752ce5fc30b7cf660bb19b"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUzMjYwODQ4OnYy", "diffSide": "LEFT", "path": "app/src/main/java/fr/free/nrw/commons/CommonsApplication.java", "isResolved": true, "comments": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNFQwODowNTowOFrOGFC4Fg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNFQwOTo0ODowMlrOGFG1oQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzk0MzE5MA==", "bodyText": "I would move everything but logoutListener to the new callable to preserve the original ordering, juuuust in case that actually matters", "url": "https://github.com/commons-app/apps-android-commons/pull/3649#discussion_r407943190", "createdAt": "2020-04-14T08:05:08Z", "author": {"login": "macgills"}, "path": "app/src/main/java/fr/free/nrw/commons/CommonsApplication.java", "diffHunk": "@@ -275,7 +280,6 @@ public void clearApplicationData(Context context, LogoutListener logoutListener)\n                     //TODO: fix preference manager\n                     defaultPrefs.clearAll();\n                     defaultPrefs.putBoolean(\"firstrun\", false);\n-                    updateAllDatabases();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "209e590b417cf3ccc0830bf6d63b1bcf6390950e"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzk2MzkwMg==", "bodyText": "Done:)", "url": "https://github.com/commons-app/apps-android-commons/pull/3649#discussion_r407963902", "createdAt": "2020-04-14T08:39:19Z", "author": {"login": "gouri-panda"}, "path": "app/src/main/java/fr/free/nrw/commons/CommonsApplication.java", "diffHunk": "@@ -275,7 +280,6 @@ public void clearApplicationData(Context context, LogoutListener logoutListener)\n                     //TODO: fix preference manager\n                     defaultPrefs.clearAll();\n                     defaultPrefs.putBoolean(\"firstrun\", false);\n-                    updateAllDatabases();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzk0MzE5MA=="}, "originalCommit": {"oid": "209e590b417cf3ccc0830bf6d63b1bcf6390950e"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzk4MDE2OQ==", "bodyText": "There has been a misunderstanding.\nOnly logoutListener should be in the subscribe/mainThread", "url": "https://github.com/commons-app/apps-android-commons/pull/3649#discussion_r407980169", "createdAt": "2020-04-14T09:04:47Z", "author": {"login": "macgills"}, "path": "app/src/main/java/fr/free/nrw/commons/CommonsApplication.java", "diffHunk": "@@ -275,7 +280,6 @@ public void clearApplicationData(Context context, LogoutListener logoutListener)\n                     //TODO: fix preference manager\n                     defaultPrefs.clearAll();\n                     defaultPrefs.putBoolean(\"firstrun\", false);\n-                    updateAllDatabases();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzk0MzE5MA=="}, "originalCommit": {"oid": "209e590b417cf3ccc0830bf6d63b1bcf6390950e"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzk5NTQ4MA==", "bodyText": "preserve the original ordering\n\nThis has not been done, if we move code we shouldn't shuffle the lines up", "url": "https://github.com/commons-app/apps-android-commons/pull/3649#discussion_r407995480", "createdAt": "2020-04-14T09:28:17Z", "author": {"login": "macgills"}, "path": "app/src/main/java/fr/free/nrw/commons/CommonsApplication.java", "diffHunk": "@@ -275,7 +280,6 @@ public void clearApplicationData(Context context, LogoutListener logoutListener)\n                     //TODO: fix preference manager\n                     defaultPrefs.clearAll();\n                     defaultPrefs.putBoolean(\"firstrun\", false);\n-                    updateAllDatabases();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzk0MzE5MA=="}, "originalCommit": {"oid": "209e590b417cf3ccc0830bf6d63b1bcf6390950e"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzk5NjY2Nw==", "bodyText": "Also please add some logging to the error emission of the Completable subscription, this is what was making this error difficult to detect", "url": "https://github.com/commons-app/apps-android-commons/pull/3649#discussion_r407996667", "createdAt": "2020-04-14T09:30:07Z", "author": {"login": "macgills"}, "path": "app/src/main/java/fr/free/nrw/commons/CommonsApplication.java", "diffHunk": "@@ -275,7 +280,6 @@ public void clearApplicationData(Context context, LogoutListener logoutListener)\n                     //TODO: fix preference manager\n                     defaultPrefs.clearAll();\n                     defaultPrefs.putBoolean(\"firstrun\", false);\n-                    updateAllDatabases();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzk0MzE5MA=="}, "originalCommit": {"oid": "209e590b417cf3ccc0830bf6d63b1bcf6390950e"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODAwNTkwNA==", "bodyText": "This has not been done, if we move code we shouldn't shuffle the lines up\n\n@macgills should I do this  in order?\n sessionManager.logout()\n            .andThen(Completable.fromAction(() ->{\n                Timber.d(\"All accounts have been removed\");\n                clearImageCache();\n                //TODO: fix preference manager\n                defaultPrefs.clearAll();\n                defaultPrefs.putBoolean(\"firstrun\", false);\n                updateAllDatabases();\n\n                }\n            ))\n                .subscribeOn(Schedulers.io())\n                .observeOn(AndroidSchedulers.mainThread())\n                .subscribe(() -> {\n                    logoutListener.onLogoutComplete();\n                });", "url": "https://github.com/commons-app/apps-android-commons/pull/3649#discussion_r408005904", "createdAt": "2020-04-14T09:44:33Z", "author": {"login": "gouri-panda"}, "path": "app/src/main/java/fr/free/nrw/commons/CommonsApplication.java", "diffHunk": "@@ -275,7 +280,6 @@ public void clearApplicationData(Context context, LogoutListener logoutListener)\n                     //TODO: fix preference manager\n                     defaultPrefs.clearAll();\n                     defaultPrefs.putBoolean(\"firstrun\", false);\n-                    updateAllDatabases();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzk0MzE5MA=="}, "originalCommit": {"oid": "209e590b417cf3ccc0830bf6d63b1bcf6390950e"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODAwODA5Nw==", "bodyText": "Yes, as it originally appeared", "url": "https://github.com/commons-app/apps-android-commons/pull/3649#discussion_r408008097", "createdAt": "2020-04-14T09:48:02Z", "author": {"login": "macgills"}, "path": "app/src/main/java/fr/free/nrw/commons/CommonsApplication.java", "diffHunk": "@@ -275,7 +280,6 @@ public void clearApplicationData(Context context, LogoutListener logoutListener)\n                     //TODO: fix preference manager\n                     defaultPrefs.clearAll();\n                     defaultPrefs.putBoolean(\"firstrun\", false);\n-                    updateAllDatabases();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzk0MzE5MA=="}, "originalCommit": {"oid": "209e590b417cf3ccc0830bf6d63b1bcf6390950e"}, "originalPosition": 23}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUzMjYxOTcwOnYy", "diffSide": "RIGHT", "path": "app/src/main/java/fr/free/nrw/commons/CommonsApplication.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNFQwODowODoyM1rOGFC_Qw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNFQwODozOTozM1rOGFEJnQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzk0NTAyNw==", "bodyText": "It is annoying we have to return null here, in kotlin the void return types analogue is Unit. You don't have to do any changes here I am pretty sure but be careful about null and Rx, it causes a crash in Single/Flowable/Observable since RxJava 2.0 with the introduction of Maybe to handle potentially null things", "url": "https://github.com/commons-app/apps-android-commons/pull/3649#discussion_r407945027", "createdAt": "2020-04-14T08:08:23Z", "author": {"login": "macgills"}, "path": "app/src/main/java/fr/free/nrw/commons/CommonsApplication.java", "diffHunk": "@@ -267,6 +268,10 @@ public void clearApplicationData(Context context, LogoutListener logoutListener)\n         }\n \n         sessionManager.logout()\n+            .andThen(Completable.fromCallable(() -> {\n+                updateAllDatabases();\n+                return null;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "209e590b417cf3ccc0830bf6d63b1bcf6390950e"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzk0NTg2Nw==", "bodyText": "Actually we can get rid of the null, d'oh. Use Callable.fromAction", "url": "https://github.com/commons-app/apps-android-commons/pull/3649#discussion_r407945867", "createdAt": "2020-04-14T08:09:41Z", "author": {"login": "macgills"}, "path": "app/src/main/java/fr/free/nrw/commons/CommonsApplication.java", "diffHunk": "@@ -267,6 +268,10 @@ public void clearApplicationData(Context context, LogoutListener logoutListener)\n         }\n \n         sessionManager.logout()\n+            .andThen(Completable.fromCallable(() -> {\n+                updateAllDatabases();\n+                return null;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzk0NTAyNw=="}, "originalCommit": {"oid": "209e590b417cf3ccc0830bf6d63b1bcf6390950e"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzk2NDA2MQ==", "bodyText": "Done:)", "url": "https://github.com/commons-app/apps-android-commons/pull/3649#discussion_r407964061", "createdAt": "2020-04-14T08:39:33Z", "author": {"login": "gouri-panda"}, "path": "app/src/main/java/fr/free/nrw/commons/CommonsApplication.java", "diffHunk": "@@ -267,6 +268,10 @@ public void clearApplicationData(Context context, LogoutListener logoutListener)\n         }\n \n         sessionManager.logout()\n+            .andThen(Completable.fromCallable(() -> {\n+                updateAllDatabases();\n+                return null;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzk0NTAyNw=="}, "originalCommit": {"oid": "209e590b417cf3ccc0830bf6d63b1bcf6390950e"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUzMzA5OTM2OnYy", "diffSide": "RIGHT", "path": "app/src/main/java/fr/free/nrw/commons/CommonsApplication.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNFQxMDowNzo0NlrOGFHk9A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNFQxMDowNzo0NlrOGFHk9A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODAyMDIxMg==", "bodyText": "instead of doOnError you can use the 2 param version of subscribe", "url": "https://github.com/commons-app/apps-android-commons/pull/3649#discussion_r408020212", "createdAt": "2020-04-14T10:07:46Z", "author": {"login": "macgills"}, "path": "app/src/main/java/fr/free/nrw/commons/CommonsApplication.java", "diffHunk": "@@ -267,15 +268,19 @@ public void clearApplicationData(Context context, LogoutListener logoutListener)\n         }\n \n         sessionManager.logout()\n+            .andThen(Completable.fromAction(() ->{\n+                Timber.d(\"All accounts have been removed\");\n+                clearImageCache();\n+                //TODO: fix preference manager\n+                defaultPrefs.clearAll();\n+                defaultPrefs.putBoolean(\"firstrun\", false);\n+                updateAllDatabases();\n+\n+                }\n+            )).doOnError(Timber::e)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4721e663981e9e4b4d3a3894c59a73eeb04b0817"}, "originalPosition": 21}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUzMzEwMTQ5OnYy", "diffSide": "RIGHT", "path": "app/src/main/java/fr/free/nrw/commons/CommonsApplication.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNFQxMDowODoxNVrOGFHmNg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNFQxMDowODoxNVrOGFHmNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODAyMDUzNA==", "bodyText": "don't need this space", "url": "https://github.com/commons-app/apps-android-commons/pull/3649#discussion_r408020534", "createdAt": "2020-04-14T10:08:15Z", "author": {"login": "macgills"}, "path": "app/src/main/java/fr/free/nrw/commons/CommonsApplication.java", "diffHunk": "@@ -267,15 +268,19 @@ public void clearApplicationData(Context context, LogoutListener logoutListener)\n         }\n \n         sessionManager.logout()\n+            .andThen(Completable.fromAction(() ->{\n+                Timber.d(\"All accounts have been removed\");\n+                clearImageCache();\n+                //TODO: fix preference manager\n+                defaultPrefs.clearAll();\n+                defaultPrefs.putBoolean(\"firstrun\", false);\n+                updateAllDatabases();\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4721e663981e9e4b4d3a3894c59a73eeb04b0817"}, "originalPosition": 19}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUzMzE3NzU5OnYy", "diffSide": "RIGHT", "path": "app/src/main/java/fr/free/nrw/commons/CommonsApplication.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNFQxMDoyODozNFrOGFIUcg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNFQxMDoyODozNFrOGFIUcg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODAzMjM3MA==", "bodyText": "ahhh pretty pretty method references", "url": "https://github.com/commons-app/apps-android-commons/pull/3649#discussion_r408032370", "createdAt": "2020-04-14T10:28:34Z", "author": {"login": "macgills"}, "path": "app/src/main/java/fr/free/nrw/commons/CommonsApplication.java", "diffHunk": "@@ -275,14 +275,11 @@ public void clearApplicationData(Context context, LogoutListener logoutListener)\n                 defaultPrefs.clearAll();\n                 defaultPrefs.putBoolean(\"firstrun\", false);\n                 updateAllDatabases();\n-\n                 }\n-            )).doOnError(Timber::e)\n-                .subscribeOn(Schedulers.io())\n-                .observeOn(AndroidSchedulers.mainThread())\n-                .subscribe(() -> {\n-                    logoutListener.onLogoutComplete();\n-                });\n+            ))\n+            .subscribeOn(Schedulers.io())\n+            .observeOn(AndroidSchedulers.mainThread())\n+            .subscribe(logoutListener::onLogoutComplete, Timber::e);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "57a5cde9af858e1b675e67ac18bfdeeec07df39e"}, "originalPosition": 15}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4323, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}