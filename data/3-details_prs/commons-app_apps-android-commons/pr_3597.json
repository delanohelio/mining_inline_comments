{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk1MjQ5Njg5", "number": 3597, "title": "exit app on back pressed in tutorial", "bodyText": "Description (required)\nOn a fresh install, user was not able to exit from app during tutorial when back is pressed. This happens because we were using finish() which goes to the previous activity in stack instead of exiting the app.\nFixes #3590 Unable to exit the app from onbarding tutorial\nWhat changes did you make and why?\nused finishAffinity() instead in onBackPressed() method\nTests performed (required)\nTested ProdDebug on OnePlus 5 with API level 28.", "createdAt": "2020-03-29T13:16:06Z", "url": "https://github.com/commons-app/apps-android-commons/pull/3597", "merged": true, "mergeCommit": {"oid": "577fb02c783088cc740b97d57c2d9c938904ec20"}, "closed": true, "closedAt": "2020-04-06T14:15:52Z", "author": {"login": "318anushka"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcSZmvwAH2gAyMzk1MjQ5Njg5OmRkMjQxMzY3MTg2ODVmMzc1M2ZiMjRjYzRiMDc1MWRlMzQwMmMwNjU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcU_YUcgFqTM4ODI5MjMzNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "dd24136718685f3753fb24cc4b0751de3402c065", "author": {"user": {"login": "318anushka", "name": null}}, "url": "https://github.com/commons-app/apps-android-commons/commit/dd24136718685f3753fb24cc4b0751de3402c065", "committedDate": "2020-03-29T13:06:40Z", "message": "exit app on back pressed in tutorial"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgzNDEwMTg2", "url": "https://github.com/commons-app/apps-android-commons/pull/3597#pullrequestreview-383410186", "createdAt": "2020-03-29T13:16:09Z", "commit": {"oid": "dd24136718685f3753fb24cc4b0751de3402c065"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3c03b327dad077c3db8df5c509858f1c23640b87", "author": {"user": {"login": "318anushka", "name": null}}, "url": "https://github.com/commons-app/apps-android-commons/commit/3c03b327dad077c3db8df5c509858f1c23640b87", "committedDate": "2020-04-01T15:04:52Z", "message": "exit app from ongoing tutorial"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg4MTAwMjI5", "url": "https://github.com/commons-app/apps-android-commons/pull/3597#pullrequestreview-388100229", "createdAt": "2020-04-06T09:58:26Z", "commit": {"oid": "3c03b327dad077c3db8df5c509858f1c23640b87"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNlQwOTo1ODoyN1rOGBQWYg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNlQwOTo1ODoyN1rOGBQWYg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzk2OTYzNA==", "bodyText": "does finishTask work too? I never want to have to think about task affinity", "url": "https://github.com/commons-app/apps-android-commons/pull/3597#discussion_r403969634", "createdAt": "2020-04-06T09:58:27Z", "author": {"login": "macgills"}, "path": "app/src/main/java/fr/free/nrw/commons/WelcomeActivity.java", "diffHunk": "@@ -86,7 +86,11 @@ public void onBackPressed() {\n         if (pager.getCurrentItem() != 0) {\n             pager.setCurrentItem(pager.getCurrentItem() - 1, true);\n         } else {\n-            finish();\n+            if(defaultKvStore.getBoolean(\"firstrun\",true)){\n+                finishAffinity();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3c03b327dad077c3db8df5c509858f1c23640b87"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg4MTAwNjcy", "url": "https://github.com/commons-app/apps-android-commons/pull/3597#pullrequestreview-388100672", "createdAt": "2020-04-06T09:59:03Z", "commit": {"oid": "3c03b327dad077c3db8df5c509858f1c23640b87"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNlQwOTo1OTowM1rOGBQX-A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNlQwOTo1OTowM1rOGBQX-A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzk3MDA0MA==", "bodyText": "we could call super here instead", "url": "https://github.com/commons-app/apps-android-commons/pull/3597#discussion_r403970040", "createdAt": "2020-04-06T09:59:03Z", "author": {"login": "macgills"}, "path": "app/src/main/java/fr/free/nrw/commons/WelcomeActivity.java", "diffHunk": "@@ -86,7 +86,11 @@ public void onBackPressed() {\n         if (pager.getCurrentItem() != 0) {\n             pager.setCurrentItem(pager.getCurrentItem() - 1, true);\n         } else {\n-            finish();\n+            if(defaultKvStore.getBoolean(\"firstrun\",true)){\n+                finishAffinity();\n+            } else{\n+                finish();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3c03b327dad077c3db8df5c509858f1c23640b87"}, "originalPosition": 8}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6919f55bb022270813ba2b1dd2c2c94aab0f6ac5", "author": {"user": {"login": "318anushka", "name": null}}, "url": "https://github.com/commons-app/apps-android-commons/commit/6919f55bb022270813ba2b1dd2c2c94aab0f6ac5", "committedDate": "2020-04-06T13:56:26Z", "message": "exit app on back press in tutorial"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg4MjkyMzM2", "url": "https://github.com/commons-app/apps-android-commons/pull/3597#pullrequestreview-388292336", "createdAt": "2020-04-06T14:15:09Z", "commit": {"oid": "6919f55bb022270813ba2b1dd2c2c94aab0f6ac5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 648, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}