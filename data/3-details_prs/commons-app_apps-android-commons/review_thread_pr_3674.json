{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA1NTMyMTY3", "number": 3674, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQwODo1NzoyOVrODznv4g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQwODozMjoxMVrOD0Hn-A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU1NDU1MjAyOnYy", "diffSide": "RIGHT", "path": "app/src/main/java/fr/free/nrw/commons/utils/ConfigUtils.kt", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQwODo1NzoyOVrOGIKQlw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQwODo1NzoyOVrOGIKQlw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTIwOTg3OQ==", "bodyText": "this doesn't need to be a get() as it doesn't need to be evaluated every time someone accesses it", "url": "https://github.com/commons-app/apps-android-commons/pull/3674#discussion_r411209879", "createdAt": "2020-04-20T08:57:29Z", "author": {"login": "macgills"}, "path": "app/src/main/java/fr/free/nrw/commons/utils/ConfigUtils.kt", "diffHunk": "@@ -0,0 +1,32 @@\n+package fr.free.nrw.commons.utils\n+\n+import android.content.Context\n+import android.content.pm.PackageManager\n+import fr.free.nrw.commons.BuildConfig\n+import java.util.*\n+\n+object ConfigUtils {\n+    @JvmStatic\n+    val isBetaFlavour: Boolean\n+        get() = BuildConfig.FLAVOR == \"beta\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "70f5b0c3c6d4adec60310f4c564e4fa2a9add35b"}, "originalPosition": 11}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU1NDU2NzgxOnYy", "diffSide": "RIGHT", "path": "app/src/main/java/fr/free/nrw/commons/utils/ConfigUtils.kt", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQwOTowMDo1MFrOGIKZrw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQwOTowMDo1MFrOGIKZrw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTIxMjIwNw==", "bodyText": "Could be rewritten to use kotlin string interpolation", "url": "https://github.com/commons-app/apps-android-commons/pull/3674#discussion_r411212207", "createdAt": "2020-04-20T09:00:50Z", "author": {"login": "macgills"}, "path": "app/src/main/java/fr/free/nrw/commons/utils/ConfigUtils.kt", "diffHunk": "@@ -0,0 +1,32 @@\n+package fr.free.nrw.commons.utils\n+\n+import android.content.Context\n+import android.content.pm.PackageManager\n+import fr.free.nrw.commons.BuildConfig\n+import java.util.*\n+\n+object ConfigUtils {\n+    @JvmStatic\n+    val isBetaFlavour: Boolean\n+        get() = BuildConfig.FLAVOR == \"beta\"\n+\n+    @JvmStatic\n+    private fun getVersionName(context: Context): String {\n+        return try {\n+            context.packageManager\n+                .getPackageInfo(context.packageName, 0).versionName\n+        } catch (e: PackageManager.NameNotFoundException) {\n+            BuildConfig.VERSION_NAME\n+        }\n+    }\n+\n+    @JvmStatic\n+    fun getVersionNameWithSha(context: Context): String {\n+        return String.format(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "70f5b0c3c6d4adec60310f4c564e4fa2a9add35b"}, "originalPosition": 25}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU1NDU3MjI4OnYy", "diffSide": "RIGHT", "path": "app/src/main/java/fr/free/nrw/commons/utils/ConfigUtils.kt", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQwOTowMTo1MlrOGIKcLg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQwOTowMTo1MlrOGIKcLg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTIxMjg0Ng==", "bodyText": "Might be nicer as an extension function on context", "url": "https://github.com/commons-app/apps-android-commons/pull/3674#discussion_r411212846", "createdAt": "2020-04-20T09:01:52Z", "author": {"login": "macgills"}, "path": "app/src/main/java/fr/free/nrw/commons/utils/ConfigUtils.kt", "diffHunk": "@@ -0,0 +1,32 @@\n+package fr.free.nrw.commons.utils\n+\n+import android.content.Context\n+import android.content.pm.PackageManager\n+import fr.free.nrw.commons.BuildConfig\n+import java.util.*\n+\n+object ConfigUtils {\n+    @JvmStatic\n+    val isBetaFlavour: Boolean\n+        get() = BuildConfig.FLAVOR == \"beta\"\n+\n+    @JvmStatic\n+    private fun getVersionName(context: Context): String {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "70f5b0c3c6d4adec60310f4c564e4fa2a9add35b"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU1OTc3NDY0OnYy", "diffSide": "RIGHT", "path": "app/src/main/java/fr/free/nrw/commons/utils/ConfigUtils.kt", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQwODozMjoxMVrOGI5hDA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQwOToyOTozOVrOGI8G-Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTk4NDE0MA==", "bodyText": "this can be omitted in both extension functions", "url": "https://github.com/commons-app/apps-android-commons/pull/3674#discussion_r411984140", "createdAt": "2020-04-21T08:32:11Z", "author": {"login": "macgills"}, "path": "app/src/main/java/fr/free/nrw/commons/utils/ConfigUtils.kt", "diffHunk": "@@ -3,30 +3,22 @@ package fr.free.nrw.commons.utils\n import android.content.Context\n import android.content.pm.PackageManager\n import fr.free.nrw.commons.BuildConfig\n-import java.util.*\n \n object ConfigUtils {\n     @JvmStatic\n-    val isBetaFlavour: Boolean\n-        get() = BuildConfig.FLAVOR == \"beta\"\n+    val isBetaFlavour: Boolean = BuildConfig.FLAVOR == \"beta\"\n \n     @JvmStatic\n-    private fun getVersionName(context: Context): String {\n+    private fun Context.getVersionName(): String {\n         return try {\n-            context.packageManager\n-                .getPackageInfo(context.packageName, 0).versionName\n+            this.packageManager.getPackageInfo(this.packageName, 0).versionName", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ae127c9f5d13e81051b0183f7a7517f2e2f18e74"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjAyMjY5MA==", "bodyText": "Thanks, the extension functions are really cool.", "url": "https://github.com/commons-app/apps-android-commons/pull/3674#discussion_r412022690", "createdAt": "2020-04-21T09:24:13Z", "author": {"login": "madhurgupta10"}, "path": "app/src/main/java/fr/free/nrw/commons/utils/ConfigUtils.kt", "diffHunk": "@@ -3,30 +3,22 @@ package fr.free.nrw.commons.utils\n import android.content.Context\n import android.content.pm.PackageManager\n import fr.free.nrw.commons.BuildConfig\n-import java.util.*\n \n object ConfigUtils {\n     @JvmStatic\n-    val isBetaFlavour: Boolean\n-        get() = BuildConfig.FLAVOR == \"beta\"\n+    val isBetaFlavour: Boolean = BuildConfig.FLAVOR == \"beta\"\n \n     @JvmStatic\n-    private fun getVersionName(context: Context): String {\n+    private fun Context.getVersionName(): String {\n         return try {\n-            context.packageManager\n-                .getPackageInfo(context.packageName, 0).versionName\n+            this.packageManager.getPackageInfo(this.packageName, 0).versionName", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTk4NDE0MA=="}, "originalCommit": {"oid": "ae127c9f5d13e81051b0183f7a7517f2e2f18e74"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjAyNjYxNw==", "bodyText": "Dope as hell, you can also have extension properties which is identical to a function but you can access it like\ncontext.versionName\n\nfrom\nval Context.versionName\nget() = //code", "url": "https://github.com/commons-app/apps-android-commons/pull/3674#discussion_r412026617", "createdAt": "2020-04-21T09:29:39Z", "author": {"login": "macgills"}, "path": "app/src/main/java/fr/free/nrw/commons/utils/ConfigUtils.kt", "diffHunk": "@@ -3,30 +3,22 @@ package fr.free.nrw.commons.utils\n import android.content.Context\n import android.content.pm.PackageManager\n import fr.free.nrw.commons.BuildConfig\n-import java.util.*\n \n object ConfigUtils {\n     @JvmStatic\n-    val isBetaFlavour: Boolean\n-        get() = BuildConfig.FLAVOR == \"beta\"\n+    val isBetaFlavour: Boolean = BuildConfig.FLAVOR == \"beta\"\n \n     @JvmStatic\n-    private fun getVersionName(context: Context): String {\n+    private fun Context.getVersionName(): String {\n         return try {\n-            context.packageManager\n-                .getPackageInfo(context.packageName, 0).versionName\n+            this.packageManager.getPackageInfo(this.packageName, 0).versionName", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTk4NDE0MA=="}, "originalCommit": {"oid": "ae127c9f5d13e81051b0183f7a7517f2e2f18e74"}, "originalPosition": 18}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4331, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}