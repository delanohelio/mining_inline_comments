{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg2MDkzOTc4", "number": 3481, "title": "Fixes #3479: Implement Progress Bar for Zoom Activity ", "bodyText": "Implement Progress Bar for Zoom Activity\nFixes #3479  Add progressbar to new Media details zoom activity\nAdded Circular Loading ProgressBar to the Zoomable view hierarchy", "createdAt": "2020-03-10T12:04:13Z", "url": "https://github.com/commons-app/apps-android-commons/pull/3481", "merged": true, "mergeCommit": {"oid": "3d1ffbb4bcc4589b96afe05900efbeec024c718e"}, "closed": true, "closedAt": "2020-03-29T19:55:48Z", "author": {"login": "kbhardwaj123"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcMRHKbgH2gAyMzg2MDkzOTc4OmJhNDFmM2Y4YjIwYmI3NGE3Yzc2YTcxOGE4YWFjZWEyYmYzYmRhOTQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcM6MqhAH2gAyMzg2MDkzOTc4Ojg1ZTAwYWZmYTljMmU0ZDI1MWY2NTk2NzRkNGU2N2U4NjRhZjE3N2Q=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "ba41f3f8b20bb74a7c76a718a8aacea2bf3bda94", "author": {"user": {"login": "kbhardwaj123", "name": "Kshitij Bhardwaj"}}, "url": "https://github.com/commons-app/apps-android-commons/commit/ba41f3f8b20bb74a7c76a718a8aacea2bf3bda94", "committedDate": "2020-03-10T11:49:23Z", "message": "ZoomableActivity: add hierarchy to view for displaying progress bar"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8bf1d6452298d9de16234070fc053564ae66563d", "author": {"user": {"login": "kbhardwaj123", "name": "Kshitij Bhardwaj"}}, "url": "https://github.com/commons-app/apps-android-commons/commit/8bf1d6452298d9de16234070fc053564ae66563d", "committedDate": "2020-03-10T11:50:22Z", "message": "CircularProgressBar: circular progress bar for ZoomableDraweeView"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcxODkxODEy", "url": "https://github.com/commons-app/apps-android-commons/pull/3481#pullrequestreview-371891812", "createdAt": "2020-03-10T12:04:16Z", "commit": {"oid": "8bf1d6452298d9de16234070fc053564ae66563d"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "125f8c5066f5cf9f23e760f4e46ff06a9105a148", "author": {"user": {"login": "kbhardwaj123", "name": "Kshitij Bhardwaj"}}, "url": "https://github.com/commons-app/apps-android-commons/commit/125f8c5066f5cf9f23e760f4e46ff06a9105a148", "committedDate": "2020-03-10T18:08:44Z", "message": "ZoomableActivity: add indeterministic loading spinner"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a972bb5bd03ac2b240a6b56d72a09194585f962d", "author": {"user": {"login": "kbhardwaj123", "name": "Kshitij Bhardwaj"}}, "url": "https://github.com/commons-app/apps-android-commons/commit/a972bb5bd03ac2b240a6b56d72a09194585f962d", "committedDate": "2020-03-10T18:09:22Z", "message": "activity_zoomable: add inderterministic Progressbar"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzczMzgzMjAx", "url": "https://github.com/commons-app/apps-android-commons/pull/3481#pullrequestreview-373383201", "createdAt": "2020-03-12T09:13:30Z", "commit": {"oid": "a972bb5bd03ac2b240a6b56d72a09194585f962d"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMlQwOToxMzozMFrOF1WZxQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMlQwOToxNDoyMlrOF1Wbqg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTQ4NTg5Mw==", "bodyText": "Sometimes intermediate image is also slowly appears. I think we should also use the progressbar for that phase. What do you think @kbhardwaj123 ?", "url": "https://github.com/commons-app/apps-android-commons/pull/3481#discussion_r391485893", "createdAt": "2020-03-12T09:13:30Z", "author": {"login": "neslihanturan"}, "path": "app/src/main/java/fr/free/nrw/commons/media/ZoomableActivity.java", "diffHunk": "@@ -48,13 +59,33 @@ protected void onCreate(Bundle savedInstanceState) {\n         init();\n     }\n \n+    private final ControllerListener loadingListener = new BaseControllerListener<ImageInfo>() {\n+        @Override\n+        public void onSubmit(String id, Object callerContext) {\n+        }\n+\n+        @Override\n+        public void onIntermediateImageSet(String id, @Nullable ImageInfo imageInfo) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a972bb5bd03ac2b240a6b56d72a09194585f962d"}, "originalPosition": 50}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTQ4NjM3OA==", "bodyText": "Why we are using a custom ProgressBar drawable, is this necessary?", "url": "https://github.com/commons-app/apps-android-commons/pull/3481#discussion_r391486378", "createdAt": "2020-03-12T09:14:22Z", "author": {"login": "neslihanturan"}, "path": "app/src/main/java/fr/free/nrw/commons/media/zoomControllers/loading/CircleProgressBarDrawable.java", "diffHunk": "@@ -0,0 +1,44 @@\n+package fr.free.nrw.commons.media.zoomControllers.loading;\n+\n+import android.graphics.Canvas;\n+import android.graphics.Paint;\n+import android.graphics.Rect;\n+import android.graphics.RectF;\n+\n+import com.facebook.drawee.drawable.ProgressBarDrawable;\n+\n+public class CircleProgressBarDrawable extends ProgressBarDrawable {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a972bb5bd03ac2b240a6b56d72a09194585f962d"}, "originalPosition": 10}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "85e00affa9c2e4d251f659674d4e67e864af177d", "author": {"user": {"login": "kbhardwaj123", "name": "Kshitij Bhardwaj"}}, "url": "https://github.com/commons-app/apps-android-commons/commit/85e00affa9c2e4d251f659674d4e67e864af177d", "committedDate": "2020-03-12T11:41:30Z", "message": " remove circular progressbar and make changes to controller listener"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 394, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}