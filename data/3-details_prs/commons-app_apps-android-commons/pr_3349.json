{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY3MjUwNTM2", "number": 3349, "title": "Fixes #3320", "bodyText": "Description (required)\nFix Chain Validation Error\nFixes #3320 Unable to Login\nWhat changes did you make and why?\n\nAdded SSL certificate for commons beta\nAsked OKHTTP client to use SSLContext from beta certificate\nProbable Fix of #3345\nTests performed (required)\n\nTested betaDebug on Api 29", "createdAt": "2020-01-26T19:09:48Z", "url": "https://github.com/commons-app/apps-android-commons/pull/3349", "merged": true, "mergeCommit": {"oid": "df426f7c427057fe97dc79186287260c02d3de25"}, "closed": true, "closedAt": "2020-01-26T19:31:15Z", "author": {"login": "ashishkumar468"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb-NA7mgH2gAyMzY3MjUwNTM2OmU1MTFiOGVjZGMwZWRiOTcyNzBmMDhjMjg3OWU3M2VjZWJiOTBiNGM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb-NIuoAH2gAyMzY3MjUwNTM2OmY2MmQyY2FhODBjMTAzZWEwZWM0ZWY1NzY3YmI1NTNmMDBkNzQwYTE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "e511b8ecdc0edb97270f08c2879e73ecebb90b4c", "author": {"user": {"login": "ashishkumar468", "name": "Ashish"}}, "url": "https://github.com/commons-app/apps-android-commons/commit/e511b8ecdc0edb97270f08c2879e73ecebb90b4c", "committedDate": "2020-01-26T19:08:01Z", "message": "Fixes #3320\n* Added SSL certificate for commons beta\n* Asked OKHTTP client to use SSLContext from beta certificate\n* Probable Fix of #3345"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ4Mzk4ODc4", "url": "https://github.com/commons-app/apps-android-commons/pull/3349#pullrequestreview-348398878", "createdAt": "2020-01-26T19:09:52Z", "commit": {"oid": "e511b8ecdc0edb97270f08c2879e73ecebb90b4c"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ4Mzk5MDcy", "url": "https://github.com/commons-app/apps-android-commons/pull/3349#pullrequestreview-348399072", "createdAt": "2020-01-26T19:13:47Z", "commit": {"oid": "e511b8ecdc0edb97270f08c2879e73ecebb90b4c"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yNlQxOToxMzo0N1rOFh1bLg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yNlQxOToxMzo1MVrOFh1bMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTAyMjYzOA==", "bodyText": "Use ConfigUtils:isBetaFlavour", "url": "https://github.com/commons-app/apps-android-commons/pull/3349#discussion_r371022638", "createdAt": "2020-01-26T19:13:47Z", "author": {"login": "maskaravivek"}, "path": "app/src/main/java/fr/free/nrw/commons/di/NetworkingModule.java", "diffHunk": "@@ -58,14 +60,20 @@\n     public OkHttpClient provideOkHttpClient(Context context,\n                                             HttpLoggingInterceptor httpLoggingInterceptor) {\n         File dir = new File(context.getCacheDir(), \"okHttpCache\");\n-        return new OkHttpClient.Builder().connectTimeout(60, TimeUnit.SECONDS)\n-            .writeTimeout(60, TimeUnit.SECONDS)\n+        OkHttpClient.Builder builder = new OkHttpClient.Builder().connectTimeout(60, TimeUnit.SECONDS)\n+                .writeTimeout(60, TimeUnit.SECONDS)\n                 .addInterceptor(httpLoggingInterceptor)\n-            .readTimeout(60, TimeUnit.SECONDS)\n-            .cache(new Cache(dir, OK_HTTP_CACHE_SIZE))\n-            .build();\n+                .readTimeout(60, TimeUnit.SECONDS)\n+                .cache(new Cache(dir, OK_HTTP_CACHE_SIZE));\n+\n+        if(BuildConfig.FLAVOR.equals(\"beta\")){", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e511b8ecdc0edb97270f08c2879e73ecebb90b4c"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTAyMjY0Mw==", "bodyText": "Use ConfigUtils:isBetaFlavour", "url": "https://github.com/commons-app/apps-android-commons/pull/3349#discussion_r371022643", "createdAt": "2020-01-26T19:13:51Z", "author": {"login": "maskaravivek"}, "path": "app/src/main/java/fr/free/nrw/commons/OkHttpConnectionFactory.java", "diffHunk": "@@ -29,13 +30,17 @@\n \n     @NonNull\n     private static OkHttpClient createClient() {\n-        return new OkHttpClient.Builder()\n+        OkHttpClient.Builder builder = new OkHttpClient.Builder()\n                 .cookieJar(SharedPreferenceCookieManager.getInstance())\n                 .cache(NET_CACHE)\n                 .addInterceptor(getLoggingInterceptor())\n                 .addInterceptor(new UnsuccessfulResponseInterceptor())\n-                .addInterceptor(new CommonHeaderRequestInterceptor())\n-                .build();\n+                .addInterceptor(new CommonHeaderRequestInterceptor());\n+\n+        if(BuildConfig.FLAVOR.equals(\"beta\")){", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e511b8ecdc0edb97270f08c2879e73ecebb90b4c"}, "originalPosition": 22}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f62d2caa80c103ea0ec4ef5767bb553f00d740a1", "author": {"user": {"login": "ashishkumar468", "name": "Ashish"}}, "url": "https://github.com/commons-app/apps-android-commons/commit/f62d2caa80c103ea0ec4ef5767bb553f00d740a1", "committedDate": "2020-01-26T19:16:32Z", "message": "Use ConfigUtils to verify flavor"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 349, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}