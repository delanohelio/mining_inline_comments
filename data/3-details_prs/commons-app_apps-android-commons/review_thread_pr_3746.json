{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE2Nzg5OTE3", "number": 3746, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQwOTo0MjoxNVrOD8ZwIw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQwOTo1OTowMVrOD8aJFA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0NjYzMDc1OnYy", "diffSide": "RIGHT", "path": "app/src/main/java/fr/free/nrw/commons/nearby/fragments/NearbyParentFragment.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQwOTo0MjoxNVrOGVUWvw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxMjo0Nzo1NlrOGVaj2A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTAwNjc4Mw==", "bodyText": "A ternary would look nice here and avoid repeating noResultsView.setVisibility(", "url": "https://github.com/commons-app/apps-android-commons/pull/3746#discussion_r425006783", "createdAt": "2020-05-14T09:42:15Z", "author": {"login": "macgills"}, "path": "app/src/main/java/fr/free/nrw/commons/nearby/fragments/NearbyParentFragment.java", "diffHunk": "@@ -626,6 +627,11 @@ public void centerMapToPlace(Place place) {\n     @Override\n     public void updateListFragment(List<Place> placeList) {\n         adapterFactory.updateAdapterData(placeList, (RVRendererAdapter<Place>) rvNearbyList.getAdapter());\n+        if (placeList.size() <= 0) {\n+            noResultsView.setVisibility(View.VISIBLE);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0275a9bcb2716bff7d098ea5cb8e2d219b86a34a"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTEwODQ0MA==", "bodyText": "That does look much better! \ud83d\udc4d", "url": "https://github.com/commons-app/apps-android-commons/pull/3746#discussion_r425108440", "createdAt": "2020-05-14T12:47:56Z", "author": {"login": "CloeARiva"}, "path": "app/src/main/java/fr/free/nrw/commons/nearby/fragments/NearbyParentFragment.java", "diffHunk": "@@ -626,6 +627,11 @@ public void centerMapToPlace(Place place) {\n     @Override\n     public void updateListFragment(List<Place> placeList) {\n         adapterFactory.updateAdapterData(placeList, (RVRendererAdapter<Place>) rvNearbyList.getAdapter());\n+        if (placeList.size() <= 0) {\n+            noResultsView.setVisibility(View.VISIBLE);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTAwNjc4Mw=="}, "originalCommit": {"oid": "0275a9bcb2716bff7d098ea5cb8e2d219b86a34a"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0NjY3Nzc4OnYy", "diffSide": "RIGHT", "path": "app/src/main/res/layout/bottom_sheet_nearby.xml", "isResolved": true, "comments": {"totalCount": 19, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQwOTo1NDo0NlrOGVU1QA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQxMTowNDozNFrOGXbNEQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTAxNDU5Mg==", "bodyText": "RelativeLayout doesn't have orientation.\nThis relativelayout can probably be deleted, the root relativelayout can just be used.", "url": "https://github.com/commons-app/apps-android-commons/pull/3746#discussion_r425014592", "createdAt": "2020-05-14T09:54:46Z", "author": {"login": "macgills"}, "path": "app/src/main/res/layout/bottom_sheet_nearby.xml", "diffHunk": "@@ -4,13 +4,33 @@\n     android:layout_width=\"match_parent\"\n     android:layout_height=\"match_parent\"\n     android:orientation=\"vertical\"\n+    android:gravity=\"bottom\"\n     app:behavior_hideable=\"true\"\n     android:visibility=\"visible\"\n     app:layout_behavior=\"@string/bottom_sheet_behavior\"\n-    android:background=\"@android:color/white\">\n+    android:background=\"@android:color/transparent\">\n+\n+    <RelativeLayout\n+      android:layout_width=\"match_parent\"\n+      android:layout_height=\"wrap_content\"\n+      android:orientation=\"vertical\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0275a9bcb2716bff7d098ea5cb8e2d219b86a34a"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTEwNTk4Ng==", "bodyText": "The reason for the nested layouts is that it was the only way I could find to essentially set a max height on the list. If I just used the root layout I would need to pick between it always being at max height (by setting the height) or it resizing to fit the parent (leaving the height as wrap-content) and hence going over max height.", "url": "https://github.com/commons-app/apps-android-commons/pull/3746#discussion_r425105986", "createdAt": "2020-05-14T12:43:43Z", "author": {"login": "CloeARiva"}, "path": "app/src/main/res/layout/bottom_sheet_nearby.xml", "diffHunk": "@@ -4,13 +4,33 @@\n     android:layout_width=\"match_parent\"\n     android:layout_height=\"match_parent\"\n     android:orientation=\"vertical\"\n+    android:gravity=\"bottom\"\n     app:behavior_hideable=\"true\"\n     android:visibility=\"visible\"\n     app:layout_behavior=\"@string/bottom_sheet_behavior\"\n-    android:background=\"@android:color/white\">\n+    android:background=\"@android:color/transparent\">\n+\n+    <RelativeLayout\n+      android:layout_width=\"match_parent\"\n+      android:layout_height=\"wrap_content\"\n+      android:orientation=\"vertical\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTAxNDU5Mg=="}, "originalCommit": {"oid": "0275a9bcb2716bff7d098ea5cb8e2d219b86a34a"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTYyOTY0Nw==", "bodyText": "It took a bit of doing but I eventually forced the recyclerview to have a maxheight.\nIt takes converting the root layout to a constraintLayout and following the maxHeight advice here.\nI am happy enough with the changes as is, if you want to push this further I'm happy to review but if you want to stop it here then this works.", "url": "https://github.com/commons-app/apps-android-commons/pull/3746#discussion_r425629647", "createdAt": "2020-05-15T07:55:55Z", "author": {"login": "macgills"}, "path": "app/src/main/res/layout/bottom_sheet_nearby.xml", "diffHunk": "@@ -4,13 +4,33 @@\n     android:layout_width=\"match_parent\"\n     android:layout_height=\"match_parent\"\n     android:orientation=\"vertical\"\n+    android:gravity=\"bottom\"\n     app:behavior_hideable=\"true\"\n     android:visibility=\"visible\"\n     app:layout_behavior=\"@string/bottom_sheet_behavior\"\n-    android:background=\"@android:color/white\">\n+    android:background=\"@android:color/transparent\">\n+\n+    <RelativeLayout\n+      android:layout_width=\"match_parent\"\n+      android:layout_height=\"wrap_content\"\n+      android:orientation=\"vertical\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTAxNDU5Mg=="}, "originalCommit": {"oid": "0275a9bcb2716bff7d098ea5cb8e2d219b86a34a"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjUzMjkxMA==", "bodyText": "Thanks for the suggestion! unfortunately I am struggling to replicate it...\nI have changed to a constraint layout and adding\nandroid:layout_height=\"wrap_content\"\napp:layout_constrainedHeight=\"true\"\napp:layout_constraintHeight_max=\"100dp\"\n\nIn either the root layout or the recyclerview seems to have no effect (similarly with the height set to 0dp). The only way I managed to constrain the height was by setting\nandroid:maxHeight=\"100dp\"\n\nBut I don't think I can set that attribute programmatically, which is what is needed to replicate the behaviour. Could you show me what you did?", "url": "https://github.com/commons-app/apps-android-commons/pull/3746#discussion_r426532910", "createdAt": "2020-05-18T10:41:05Z", "author": {"login": "CloeARiva"}, "path": "app/src/main/res/layout/bottom_sheet_nearby.xml", "diffHunk": "@@ -4,13 +4,33 @@\n     android:layout_width=\"match_parent\"\n     android:layout_height=\"match_parent\"\n     android:orientation=\"vertical\"\n+    android:gravity=\"bottom\"\n     app:behavior_hideable=\"true\"\n     android:visibility=\"visible\"\n     app:layout_behavior=\"@string/bottom_sheet_behavior\"\n-    android:background=\"@android:color/white\">\n+    android:background=\"@android:color/transparent\">\n+\n+    <RelativeLayout\n+      android:layout_width=\"match_parent\"\n+      android:layout_height=\"wrap_content\"\n+      android:orientation=\"vertical\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTAxNDU5Mg=="}, "originalCommit": {"oid": "0275a9bcb2716bff7d098ea5cb8e2d219b86a34a"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjUzODU3MQ==", "bodyText": "A rather annoying and unintuitive feature of layout_constraintHeight_max is you have to set layout_height to match_parent for it to constrain the max. If I am remembering what I did correctly, 0dp should do the same but doesn't which I am pretty sure is a bug", "url": "https://github.com/commons-app/apps-android-commons/pull/3746#discussion_r426538571", "createdAt": "2020-05-18T10:51:48Z", "author": {"login": "macgills"}, "path": "app/src/main/res/layout/bottom_sheet_nearby.xml", "diffHunk": "@@ -4,13 +4,33 @@\n     android:layout_width=\"match_parent\"\n     android:layout_height=\"match_parent\"\n     android:orientation=\"vertical\"\n+    android:gravity=\"bottom\"\n     app:behavior_hideable=\"true\"\n     android:visibility=\"visible\"\n     app:layout_behavior=\"@string/bottom_sheet_behavior\"\n-    android:background=\"@android:color/white\">\n+    android:background=\"@android:color/transparent\">\n+\n+    <RelativeLayout\n+      android:layout_width=\"match_parent\"\n+      android:layout_height=\"wrap_content\"\n+      android:orientation=\"vertical\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTAxNDU5Mg=="}, "originalCommit": {"oid": "0275a9bcb2716bff7d098ea5cb8e2d219b86a34a"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjYwMDAxOA==", "bodyText": "Still no luck, I am assuming that you are setting these on the recyclerview:\nandroid:layout_height=\"match_parent\"\napp:layout_constrainedHeight=\"true\"\napp:layout_constraintHeight_max=\"50dp\"\n\nas setting them on the root layout stops it wrapping when there are few items in the list.\nEither place I put the above tags, my list is not constrained.\nCuriously I have noticed that if you start scrolling the list it \"snaps\" to a place in the middle of the screen which however isn't actually determined by what I put as app:layout_constraintHeight_max.\nIs there anything else I need to set? Would it help if I pushed up my changes or posted the current state of my xml in here? Thank you!", "url": "https://github.com/commons-app/apps-android-commons/pull/3746#discussion_r426600018", "createdAt": "2020-05-18T12:48:40Z", "author": {"login": "CloeARiva"}, "path": "app/src/main/res/layout/bottom_sheet_nearby.xml", "diffHunk": "@@ -4,13 +4,33 @@\n     android:layout_width=\"match_parent\"\n     android:layout_height=\"match_parent\"\n     android:orientation=\"vertical\"\n+    android:gravity=\"bottom\"\n     app:behavior_hideable=\"true\"\n     android:visibility=\"visible\"\n     app:layout_behavior=\"@string/bottom_sheet_behavior\"\n-    android:background=\"@android:color/white\">\n+    android:background=\"@android:color/transparent\">\n+\n+    <RelativeLayout\n+      android:layout_width=\"match_parent\"\n+      android:layout_height=\"wrap_content\"\n+      android:orientation=\"vertical\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTAxNDU5Mg=="}, "originalCommit": {"oid": "0275a9bcb2716bff7d098ea5cb8e2d219b86a34a"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjYxMzgyMA==", "bodyText": "<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n  xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n  android:id=\"@+id/bottom_sheet\"\n  android:layout_width=\"match_parent\"\n  android:layout_height=\"wrap_content\"\n  android:background=\"@android:color/transparent\"\n  app:behavior_hideable=\"true\"\n  app:layout_behavior=\"@string/bottom_sheet_behavior\">\n\n  <TextView\n    android:id=\"@+id/no_results_message\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:padding=\"50dp\"\n    android:text=\"@string/nearby_no_results\"\n    android:visibility=\"gone\"\n    app:layout_constraintBottom_toBottomOf=\"parent\"\n    app:layout_constraintEnd_toEndOf=\"parent\"\n    app:layout_constraintStart_toStartOf=\"parent\"\n    app:layout_constraintTop_toTopOf=\"parent\" />\n\n  <androidx.recyclerview.widget.RecyclerView\n    android:id=\"@+id/rv_nearby_list\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    app:layout_constraintEnd_toEndOf=\"parent\"\n    app:layout_constraintHeight_max=\"400dp\"\n    app:layout_constraintStart_toStartOf=\"parent\"\n    app:layout_constraintTop_toTopOf=\"parent\" />\n\n\n</androidx.constraintlayout.widget.ConstraintLayout>\n\nThis is what I had but perhaps I wasn't accounting for \"setting them on the root layout stops it wrapping when there are few items in the list.\"\nMaybe a minheight constraint could give us the desired effect?\nYou can push a commit if you want.", "url": "https://github.com/commons-app/apps-android-commons/pull/3746#discussion_r426613820", "createdAt": "2020-05-18T13:10:38Z", "author": {"login": "macgills"}, "path": "app/src/main/res/layout/bottom_sheet_nearby.xml", "diffHunk": "@@ -4,13 +4,33 @@\n     android:layout_width=\"match_parent\"\n     android:layout_height=\"match_parent\"\n     android:orientation=\"vertical\"\n+    android:gravity=\"bottom\"\n     app:behavior_hideable=\"true\"\n     android:visibility=\"visible\"\n     app:layout_behavior=\"@string/bottom_sheet_behavior\"\n-    android:background=\"@android:color/white\">\n+    android:background=\"@android:color/transparent\">\n+\n+    <RelativeLayout\n+      android:layout_width=\"match_parent\"\n+      android:layout_height=\"wrap_content\"\n+      android:orientation=\"vertical\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTAxNDU5Mg=="}, "originalCommit": {"oid": "0275a9bcb2716bff7d098ea5cb8e2d219b86a34a"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjY0NTYwMA==", "bodyText": "I've pasted the xml in and my list is still filling the screen when it pops up (i.e it is not restricted to 400dp) :D Which in one sense is reassuring as what you have is basically exactly what I had. On the other hand though I don't understand what could be different on my side that is causing this? very mysterious..\n(Also the background of the layout should probably be back to white as it doesn't need to be transparent anymore and it would cause the \"no results message\" to be on transparent background)", "url": "https://github.com/commons-app/apps-android-commons/pull/3746#discussion_r426645600", "createdAt": "2020-05-18T13:57:25Z", "author": {"login": "CloeARiva"}, "path": "app/src/main/res/layout/bottom_sheet_nearby.xml", "diffHunk": "@@ -4,13 +4,33 @@\n     android:layout_width=\"match_parent\"\n     android:layout_height=\"match_parent\"\n     android:orientation=\"vertical\"\n+    android:gravity=\"bottom\"\n     app:behavior_hideable=\"true\"\n     android:visibility=\"visible\"\n     app:layout_behavior=\"@string/bottom_sheet_behavior\"\n-    android:background=\"@android:color/white\">\n+    android:background=\"@android:color/transparent\">\n+\n+    <RelativeLayout\n+      android:layout_width=\"match_parent\"\n+      android:layout_height=\"wrap_content\"\n+      android:orientation=\"vertical\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTAxNDU5Mg=="}, "originalCommit": {"oid": "0275a9bcb2716bff7d098ea5cb8e2d219b86a34a"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjY0OTczMw==", "bodyText": "I think I upgraded the dependency to latest and also there is annoying code somewhere that is setting the height of this view that I deleted, apologies should have mentioned before now", "url": "https://github.com/commons-app/apps-android-commons/pull/3746#discussion_r426649733", "createdAt": "2020-05-18T14:03:10Z", "author": {"login": "macgills"}, "path": "app/src/main/res/layout/bottom_sheet_nearby.xml", "diffHunk": "@@ -4,13 +4,33 @@\n     android:layout_width=\"match_parent\"\n     android:layout_height=\"match_parent\"\n     android:orientation=\"vertical\"\n+    android:gravity=\"bottom\"\n     app:behavior_hideable=\"true\"\n     android:visibility=\"visible\"\n     app:layout_behavior=\"@string/bottom_sheet_behavior\"\n-    android:background=\"@android:color/white\">\n+    android:background=\"@android:color/transparent\">\n+\n+    <RelativeLayout\n+      android:layout_width=\"match_parent\"\n+      android:layout_height=\"wrap_content\"\n+      android:orientation=\"vertical\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTAxNDU5Mg=="}, "originalCommit": {"oid": "0275a9bcb2716bff7d098ea5cb8e2d219b86a34a"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjY1NjA4OQ==", "bodyText": "I have this implementation 'androidx.constraintlayout:constraintlayout:1.1.3' in build.gradle, is that what you mean? The docs seem to say that 1.1.3 is the latest. Is the code that you are talking about the one I changed as part of this change? (it sets the height (now max height) based on the activity). I have that taken out at the moment so it shouldn't be that.\nI can push my changes with your xml in it, for you to have a look, if it if it is neither the code nor the dependency :)", "url": "https://github.com/commons-app/apps-android-commons/pull/3746#discussion_r426656089", "createdAt": "2020-05-18T14:12:19Z", "author": {"login": "CloeARiva"}, "path": "app/src/main/res/layout/bottom_sheet_nearby.xml", "diffHunk": "@@ -4,13 +4,33 @@\n     android:layout_width=\"match_parent\"\n     android:layout_height=\"match_parent\"\n     android:orientation=\"vertical\"\n+    android:gravity=\"bottom\"\n     app:behavior_hideable=\"true\"\n     android:visibility=\"visible\"\n     app:layout_behavior=\"@string/bottom_sheet_behavior\"\n-    android:background=\"@android:color/white\">\n+    android:background=\"@android:color/transparent\">\n+\n+    <RelativeLayout\n+      android:layout_width=\"match_parent\"\n+      android:layout_height=\"wrap_content\"\n+      android:orientation=\"vertical\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTAxNDU5Mg=="}, "originalCommit": {"oid": "0275a9bcb2716bff7d098ea5cb8e2d219b86a34a"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjY3OTYxOA==", "bodyText": "implementation 'androidx.constraintlayout:constraintlayout:2.0.0-beta6'\n\nthere is a beta try with that. Androidx has a weird idea of what a beta is.\n\nBut we really shouldn't be sing a 2 year old version of their constraintlayout.", "url": "https://github.com/commons-app/apps-android-commons/pull/3746#discussion_r426679618", "createdAt": "2020-05-18T14:45:22Z", "author": {"login": "macgills"}, "path": "app/src/main/res/layout/bottom_sheet_nearby.xml", "diffHunk": "@@ -4,13 +4,33 @@\n     android:layout_width=\"match_parent\"\n     android:layout_height=\"match_parent\"\n     android:orientation=\"vertical\"\n+    android:gravity=\"bottom\"\n     app:behavior_hideable=\"true\"\n     android:visibility=\"visible\"\n     app:layout_behavior=\"@string/bottom_sheet_behavior\"\n-    android:background=\"@android:color/white\">\n+    android:background=\"@android:color/transparent\">\n+\n+    <RelativeLayout\n+      android:layout_width=\"match_parent\"\n+      android:layout_height=\"wrap_content\"\n+      android:orientation=\"vertical\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTAxNDU5Mg=="}, "originalCommit": {"oid": "0275a9bcb2716bff7d098ea5cb8e2d219b86a34a"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjcwNjc2MA==", "bodyText": "Changing to the beta version pushes the number of method references over the allowed limit which means I need to add multidex? I am getting Error: null, Cannot fit requested classes in a single dex file (# methods: 65592 > 65536) so I can't run the app. Is multidex what is needed or is there somewhere we could cut down on method references?", "url": "https://github.com/commons-app/apps-android-commons/pull/3746#discussion_r426706760", "createdAt": "2020-05-18T15:22:53Z", "author": {"login": "CloeARiva"}, "path": "app/src/main/res/layout/bottom_sheet_nearby.xml", "diffHunk": "@@ -4,13 +4,33 @@\n     android:layout_width=\"match_parent\"\n     android:layout_height=\"match_parent\"\n     android:orientation=\"vertical\"\n+    android:gravity=\"bottom\"\n     app:behavior_hideable=\"true\"\n     android:visibility=\"visible\"\n     app:layout_behavior=\"@string/bottom_sheet_behavior\"\n-    android:background=\"@android:color/white\">\n+    android:background=\"@android:color/transparent\">\n+\n+    <RelativeLayout\n+      android:layout_width=\"match_parent\"\n+      android:layout_height=\"wrap_content\"\n+      android:orientation=\"vertical\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTAxNDU5Mg=="}, "originalCommit": {"oid": "0275a9bcb2716bff7d098ea5cb8e2d219b86a34a"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjcxNTY4Mg==", "bodyText": "sigh android development, never simple.\nyeah multidex is needed, it has already been added but in a much larger PR that is taking some time to review.. do you by any chance want to make a separate PR to add multidex so we don't have multiple additions of it across many PRs?", "url": "https://github.com/commons-app/apps-android-commons/pull/3746#discussion_r426715682", "createdAt": "2020-05-18T15:35:52Z", "author": {"login": "macgills"}, "path": "app/src/main/res/layout/bottom_sheet_nearby.xml", "diffHunk": "@@ -4,13 +4,33 @@\n     android:layout_width=\"match_parent\"\n     android:layout_height=\"match_parent\"\n     android:orientation=\"vertical\"\n+    android:gravity=\"bottom\"\n     app:behavior_hideable=\"true\"\n     android:visibility=\"visible\"\n     app:layout_behavior=\"@string/bottom_sheet_behavior\"\n-    android:background=\"@android:color/white\">\n+    android:background=\"@android:color/transparent\">\n+\n+    <RelativeLayout\n+      android:layout_width=\"match_parent\"\n+      android:layout_height=\"wrap_content\"\n+      android:orientation=\"vertical\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTAxNDU5Mg=="}, "originalCommit": {"oid": "0275a9bcb2716bff7d098ea5cb8e2d219b86a34a"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjc0MTI1Mw==", "bodyText": "I don't mind adding multidex in a separate PR, should be fairly quick :)\nHowever (sorry to be coming up with an issue at each turn :D), the list is now resizing but it is not scrolled correctly i.e the list doesn't have the first item at the top. It looks as if the list is filling the space and then being hacked off at 400dp. I had a similar issue when I was trying to use margins to limit the height, and it is what caused me to I settle on the nested layouts.\n\n.\nCan you think of a way to get around this? Should we go back to nested layouts?", "url": "https://github.com/commons-app/apps-android-commons/pull/3746#discussion_r426741253", "createdAt": "2020-05-18T16:12:44Z", "author": {"login": "CloeARiva"}, "path": "app/src/main/res/layout/bottom_sheet_nearby.xml", "diffHunk": "@@ -4,13 +4,33 @@\n     android:layout_width=\"match_parent\"\n     android:layout_height=\"match_parent\"\n     android:orientation=\"vertical\"\n+    android:gravity=\"bottom\"\n     app:behavior_hideable=\"true\"\n     android:visibility=\"visible\"\n     app:layout_behavior=\"@string/bottom_sheet_behavior\"\n-    android:background=\"@android:color/white\">\n+    android:background=\"@android:color/transparent\">\n+\n+    <RelativeLayout\n+      android:layout_width=\"match_parent\"\n+      android:layout_height=\"wrap_content\"\n+      android:orientation=\"vertical\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTAxNDU5Mg=="}, "originalCommit": {"oid": "0275a9bcb2716bff7d098ea5cb8e2d219b86a34a"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzEwMTI2Mw==", "bodyText": "We could be cheeky and set the scroll position of the recyclerview on a click of the \"showList\" button.\nI am not sure if I prefer that to the nested scenario, clean layout with ugly code Vs messy layout and no code. I'd probably go for the latter but I'll leave it up you. Apologies for dragging out what should have been a simple change.", "url": "https://github.com/commons-app/apps-android-commons/pull/3746#discussion_r427101263", "createdAt": "2020-05-19T07:55:20Z", "author": {"login": "macgills"}, "path": "app/src/main/res/layout/bottom_sheet_nearby.xml", "diffHunk": "@@ -4,13 +4,33 @@\n     android:layout_width=\"match_parent\"\n     android:layout_height=\"match_parent\"\n     android:orientation=\"vertical\"\n+    android:gravity=\"bottom\"\n     app:behavior_hideable=\"true\"\n     android:visibility=\"visible\"\n     app:layout_behavior=\"@string/bottom_sheet_behavior\"\n-    android:background=\"@android:color/white\">\n+    android:background=\"@android:color/transparent\">\n+\n+    <RelativeLayout\n+      android:layout_width=\"match_parent\"\n+      android:layout_height=\"wrap_content\"\n+      android:orientation=\"vertical\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTAxNDU5Mg=="}, "originalCommit": {"oid": "0275a9bcb2716bff7d098ea5cb8e2d219b86a34a"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzE1NjQzMA==", "bodyText": "Yeah I think I agree! Let's go with nested after all, that means we should be ok to merge, right?\nalso no worries, I got to learn some stuff about constraint layouts and betas in androidx ;)\nDo you still want me to add a multidex PR, I have got the code ready, and do you want me to upgrade the constraint layout in that PR too or are we leaving that for now?", "url": "https://github.com/commons-app/apps-android-commons/pull/3746#discussion_r427156430", "createdAt": "2020-05-19T09:20:48Z", "author": {"login": "CloeARiva"}, "path": "app/src/main/res/layout/bottom_sheet_nearby.xml", "diffHunk": "@@ -4,13 +4,33 @@\n     android:layout_width=\"match_parent\"\n     android:layout_height=\"match_parent\"\n     android:orientation=\"vertical\"\n+    android:gravity=\"bottom\"\n     app:behavior_hideable=\"true\"\n     android:visibility=\"visible\"\n     app:layout_behavior=\"@string/bottom_sheet_behavior\"\n-    android:background=\"@android:color/white\">\n+    android:background=\"@android:color/transparent\">\n+\n+    <RelativeLayout\n+      android:layout_width=\"match_parent\"\n+      android:layout_height=\"wrap_content\"\n+      android:orientation=\"vertical\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTAxNDU5Mg=="}, "originalCommit": {"oid": "0275a9bcb2716bff7d098ea5cb8e2d219b86a34a"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzE3MzQ3OA==", "bodyText": "we can leave the constraintlayout upgrade for now, I'd like to have some bit of a reason to upgrade it ie wanting to use Flows/MotionLayout, etc.\nI'd love to see the multidex PR, if you could open a ticket as well I would be grateful.", "url": "https://github.com/commons-app/apps-android-commons/pull/3746#discussion_r427173478", "createdAt": "2020-05-19T09:48:20Z", "author": {"login": "macgills"}, "path": "app/src/main/res/layout/bottom_sheet_nearby.xml", "diffHunk": "@@ -4,13 +4,33 @@\n     android:layout_width=\"match_parent\"\n     android:layout_height=\"match_parent\"\n     android:orientation=\"vertical\"\n+    android:gravity=\"bottom\"\n     app:behavior_hideable=\"true\"\n     android:visibility=\"visible\"\n     app:layout_behavior=\"@string/bottom_sheet_behavior\"\n-    android:background=\"@android:color/white\">\n+    android:background=\"@android:color/transparent\">\n+\n+    <RelativeLayout\n+      android:layout_width=\"match_parent\"\n+      android:layout_height=\"wrap_content\"\n+      android:orientation=\"vertical\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTAxNDU5Mg=="}, "originalCommit": {"oid": "0275a9bcb2716bff7d098ea5cb8e2d219b86a34a"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzE3NTI1NA==", "bodyText": "Also if you could remove\n android:orientation=\"vertical\"\n\non this recylerview I am happy to resolve this comment", "url": "https://github.com/commons-app/apps-android-commons/pull/3746#discussion_r427175254", "createdAt": "2020-05-19T09:51:20Z", "author": {"login": "macgills"}, "path": "app/src/main/res/layout/bottom_sheet_nearby.xml", "diffHunk": "@@ -4,13 +4,33 @@\n     android:layout_width=\"match_parent\"\n     android:layout_height=\"match_parent\"\n     android:orientation=\"vertical\"\n+    android:gravity=\"bottom\"\n     app:behavior_hideable=\"true\"\n     android:visibility=\"visible\"\n     app:layout_behavior=\"@string/bottom_sheet_behavior\"\n-    android:background=\"@android:color/white\">\n+    android:background=\"@android:color/transparent\">\n+\n+    <RelativeLayout\n+      android:layout_width=\"match_parent\"\n+      android:layout_height=\"wrap_content\"\n+      android:orientation=\"vertical\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTAxNDU5Mg=="}, "originalCommit": {"oid": "0275a9bcb2716bff7d098ea5cb8e2d219b86a34a"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzIxNjE0NQ==", "bodyText": "Ah yes I took out one of the verticals but not the other one, my bad!\nI'll make a ticket and PR and tag you in it :)", "url": "https://github.com/commons-app/apps-android-commons/pull/3746#discussion_r427216145", "createdAt": "2020-05-19T11:04:34Z", "author": {"login": "CloeARiva"}, "path": "app/src/main/res/layout/bottom_sheet_nearby.xml", "diffHunk": "@@ -4,13 +4,33 @@\n     android:layout_width=\"match_parent\"\n     android:layout_height=\"match_parent\"\n     android:orientation=\"vertical\"\n+    android:gravity=\"bottom\"\n     app:behavior_hideable=\"true\"\n     android:visibility=\"visible\"\n     app:layout_behavior=\"@string/bottom_sheet_behavior\"\n-    android:background=\"@android:color/white\">\n+    android:background=\"@android:color/transparent\">\n+\n+    <RelativeLayout\n+      android:layout_width=\"match_parent\"\n+      android:layout_height=\"wrap_content\"\n+      android:orientation=\"vertical\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTAxNDU5Mg=="}, "originalCommit": {"oid": "0275a9bcb2716bff7d098ea5cb8e2d219b86a34a"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0NjY4Mjg5OnYy", "diffSide": "RIGHT", "path": "app/src/main/res/layout/bottom_sheet_nearby.xml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQwOTo1NTo0OVrOGVU4PQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQwOTo1NTo0OVrOGVU4PQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTAxNTM1Nw==", "bodyText": "setting both paddingVertical and paddingHorizontal to the same value can be simplified to just setting padding", "url": "https://github.com/commons-app/apps-android-commons/pull/3746#discussion_r425015357", "createdAt": "2020-05-14T09:55:49Z", "author": {"login": "macgills"}, "path": "app/src/main/res/layout/bottom_sheet_nearby.xml", "diffHunk": "@@ -4,13 +4,33 @@\n     android:layout_width=\"match_parent\"\n     android:layout_height=\"match_parent\"\n     android:orientation=\"vertical\"\n+    android:gravity=\"bottom\"\n     app:behavior_hideable=\"true\"\n     android:visibility=\"visible\"\n     app:layout_behavior=\"@string/bottom_sheet_behavior\"\n-    android:background=\"@android:color/white\">\n+    android:background=\"@android:color/transparent\">\n+\n+    <RelativeLayout\n+      android:layout_width=\"match_parent\"\n+      android:layout_height=\"wrap_content\"\n+      android:orientation=\"vertical\"\n+      android:background=\"@android:color/white\">\n+\n+    <TextView\n+      android:id=\"@+id/no_results_message\"\n+      android:layout_width=\"match_parent\"\n+      android:layout_height=\"wrap_content\"\n+      android:paddingVertical=\"50dp\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0275a9bcb2716bff7d098ea5cb8e2d219b86a34a"}, "originalPosition": 21}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0NjY4NTk2OnYy", "diffSide": "RIGHT", "path": "app/src/main/res/layout/bottom_sheet_nearby.xml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQwOTo1Njo0MFrOGVU6Ww==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQwOTo1Njo0MFrOGVU6Ww==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTAxNTg5OQ==", "bodyText": "centerVertical+centerHorizontal can be simplified to centerInParent", "url": "https://github.com/commons-app/apps-android-commons/pull/3746#discussion_r425015899", "createdAt": "2020-05-14T09:56:40Z", "author": {"login": "macgills"}, "path": "app/src/main/res/layout/bottom_sheet_nearby.xml", "diffHunk": "@@ -4,13 +4,33 @@\n     android:layout_width=\"match_parent\"\n     android:layout_height=\"match_parent\"\n     android:orientation=\"vertical\"\n+    android:gravity=\"bottom\"\n     app:behavior_hideable=\"true\"\n     android:visibility=\"visible\"\n     app:layout_behavior=\"@string/bottom_sheet_behavior\"\n-    android:background=\"@android:color/white\">\n+    android:background=\"@android:color/transparent\">\n+\n+    <RelativeLayout\n+      android:layout_width=\"match_parent\"\n+      android:layout_height=\"wrap_content\"\n+      android:orientation=\"vertical\"\n+      android:background=\"@android:color/white\">\n+\n+    <TextView\n+      android:id=\"@+id/no_results_message\"\n+      android:layout_width=\"match_parent\"\n+      android:layout_height=\"wrap_content\"\n+      android:paddingVertical=\"50dp\"\n+      android:paddingHorizontal=\"50dp\"\n+      android:layout_centerHorizontal=\"true\"\n+      android:layout_centerVertical=\"true\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0275a9bcb2716bff7d098ea5cb8e2d219b86a34a"}, "originalPosition": 24}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0NjY5NDYwOnYy", "diffSide": "RIGHT", "path": "app/src/main/res/layout/bottom_sheet_nearby.xml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQwOTo1OTowMVrOGVU_7Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQwOTo1OTowMVrOGVU_7Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTAxNzMyNQ==", "bodyText": "I don't think layout_gravity works in this scenario, can probably be deleted", "url": "https://github.com/commons-app/apps-android-commons/pull/3746#discussion_r425017325", "createdAt": "2020-05-14T09:59:01Z", "author": {"login": "macgills"}, "path": "app/src/main/res/layout/bottom_sheet_nearby.xml", "diffHunk": "@@ -4,13 +4,33 @@\n     android:layout_width=\"match_parent\"\n     android:layout_height=\"match_parent\"\n     android:orientation=\"vertical\"\n+    android:gravity=\"bottom\"\n     app:behavior_hideable=\"true\"\n     android:visibility=\"visible\"\n     app:layout_behavior=\"@string/bottom_sheet_behavior\"\n-    android:background=\"@android:color/white\">\n+    android:background=\"@android:color/transparent\">\n+\n+    <RelativeLayout\n+      android:layout_width=\"match_parent\"\n+      android:layout_height=\"wrap_content\"\n+      android:orientation=\"vertical\"\n+      android:background=\"@android:color/white\">\n+\n+    <TextView\n+      android:id=\"@+id/no_results_message\"\n+      android:layout_width=\"match_parent\"\n+      android:layout_height=\"wrap_content\"\n+      android:paddingVertical=\"50dp\"\n+      android:paddingHorizontal=\"50dp\"\n+      android:layout_centerHorizontal=\"true\"\n+      android:layout_centerVertical=\"true\"\n+      android:layout_gravity=\"center\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0275a9bcb2716bff7d098ea5cb8e2d219b86a34a"}, "originalPosition": 25}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4352, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}