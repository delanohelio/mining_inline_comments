{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzcxNjQ2OTAx", "number": 3378, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMVQxNDo0NTowNlrODkFmhQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMVQxNDo0ODo0OVrODkFnWg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM5MTY3MTA5OnYy", "diffSide": "RIGHT", "path": "app/src/main/java/fr/free/nrw/commons/achievements/AchievementsActivity.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMVQxNDo0NTowNlrOFwOg1w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMVQxNDo0NTowNlrOFwOg1w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjExMzc1MQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                numberOfEdits += edits;\n          \n          \n            \n                                numberOfEdits = edits;", "url": "https://github.com/commons-app/apps-android-commons/pull/3378#discussion_r386113751", "createdAt": "2020-03-01T14:45:06Z", "author": {"login": "domdomegg"}, "path": "app/src/main/java/fr/free/nrw/commons/achievements/AchievementsActivity.java", "diffHunk": "@@ -259,7 +274,10 @@ private void setWikidataEditCount() {\n                 .getWikidataEdits(userName)\n                 .subscribeOn(Schedulers.io())\n                 .observeOn(AndroidSchedulers.mainThread())\n-                .subscribe(edits -> wikidataEditsText.setText(String.valueOf(edits)), e -> {\n+                .subscribe(edits -> {\n+                    numberOfEdits += edits;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c626bab5ac9356572366b1ad4aeae33a3ac1ebbb"}, "originalPosition": 53}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM5MTY3MjMyOnYy", "diffSide": "RIGHT", "path": "app/src/main/res/values/strings.xml", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMVQxNDo0Njo1NlrOFwOhdQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMVQxNDo0Njo1NlrOFwOhdQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjExMzkwOQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              <string name=\"achievements_fetch_failed_ultimate_achievement\">Congratulations!, Your achievements are so high that they break out achievements calculator. This is the Ultimate Achievement.</string>\n          \n          \n            \n              <string name=\"achievements_fetch_failed_ultimate_achievement\">Congratulations! You've made so many contributions our achievements calculation system can't cope. This is the ultimate achievement.</string>\n          \n      \n    \n    \n  \n\n(or other wording - main thing is just not having the !,)", "url": "https://github.com/commons-app/apps-android-commons/pull/3378#discussion_r386113909", "createdAt": "2020-03-01T14:46:56Z", "author": {"login": "domdomegg"}, "path": "app/src/main/res/values/strings.xml", "diffHunk": "@@ -459,6 +459,7 @@ Upload your first media by tapping on the add button.</string>\n   <string name=\"display_location_permission_title\">Display location permission</string>\n   <string name=\"display_location_permission_explanation\">Ask for location permission when needed for nearby notification card view feature.</string>\n   <string name=\"achievements_fetch_failed\">Something went wrong, We could not fetch your achievements</string>\n+  <string name=\"achievements_fetch_failed_ultimate_achievement\">Congratulations!, Your achievements are so high that they break out achievements calculator. This is the Ultimate Achievement.</string>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c626bab5ac9356572366b1ad4aeae33a3ac1ebbb"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM5MTY3MzIyOnYy", "diffSide": "RIGHT", "path": "app/src/main/java/fr/free/nrw/commons/achievements/AchievementsActivity.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMVQxNDo0ODo0OVrOFwOh8Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMVQxNDo0ODo0OVrOFwOh8Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjExNDAzMw==", "bodyText": "nit: Making this just showSnackBarWithRetry(int numberOfEdits), which would remove a lot of duplicate logic.", "url": "https://github.com/commons-app/apps-android-commons/pull/3378#discussion_r386114033", "createdAt": "2020-03-01T14:48:49Z", "author": {"login": "domdomegg"}, "path": "app/src/main/java/fr/free/nrw/commons/achievements/AchievementsActivity.java", "diffHunk": "@@ -274,6 +292,17 @@ private void showSnackBarWithRetry() {\n                 R.string.achievements_fetch_failed, R.string.retry, view -> setAchievements());\n     }\n \n+    /**\n+     * Shows a snack bar which tells the users that their wiki edit count is so high that it (in some cases)\n+     * wreks havoc with the Achievements calculator due to which request may time out\n+     * Well this is the Ultimate Achievement \n+     */\n+    private void showSnackBarUltimateAchievementWithRetry() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c626bab5ac9356572366b1ad4aeae33a3ac1ebbb"}, "originalPosition": 68}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4139, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}