{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQxMDgwMTk4", "number": 4109, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNlQxNDo1NDo1NFrOFGO-oA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNlQxNDo1NToyNFrOFGO_mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQyMDgxMTg0OnYy", "diffSide": "RIGHT", "path": "app/src/main/java/fr/free/nrw/commons/upload/UploadMediaDetailAdapter.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNlQxNDo1NDo1NFrOIHJUuA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNlQxNjoyMjozN1rOIHNuwQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDM2MzcwNA==", "bodyText": "Would you mind adding a comment line before this block, to explain in what circumstances it is reached, and what the code does? Thanks!", "url": "https://github.com/commons-app/apps-android-commons/pull/4109#discussion_r544363704", "createdAt": "2020-12-16T14:54:54Z", "author": {"login": "nicolas-raoul"}, "path": "app/src/main/java/fr/free/nrw/commons/upload/UploadMediaDetailAdapter.java", "diffHunk": "@@ -179,12 +179,17 @@ public void onNothingSelected(AdapterView<?> adapterView) {\n                     // If user has chosen a default language from settings activity savedLanguageValue is not null\n                     spinnerDescriptionLanguages.setSelection(languagesAdapter.getIndexOfLanguageCode(savedLanguageValue));\n                 } else {\n-                    if (position == 0) {\n-                        int defaultLocaleIndex = languagesAdapter\n-                                .getIndexOfUserDefaultLocale(spinnerDescriptionLanguages.getContext());\n-                        spinnerDescriptionLanguages.setSelection(defaultLocaleIndex, true);\n+                    if(uploadMediaDetails.get(position).getLanguageCode() != null){", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "26829b2b75e8cea84fab357b3ef0991d8ed752d0"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDQzNTkwNQ==", "bodyText": "I have added it,  code is just providing the same previous language code to the spinner for current upload, when user presses the copy previous caption & description button .", "url": "https://github.com/commons-app/apps-android-commons/pull/4109#discussion_r544435905", "createdAt": "2020-12-16T16:22:37Z", "author": {"login": "Pratham2305"}, "path": "app/src/main/java/fr/free/nrw/commons/upload/UploadMediaDetailAdapter.java", "diffHunk": "@@ -179,12 +179,17 @@ public void onNothingSelected(AdapterView<?> adapterView) {\n                     // If user has chosen a default language from settings activity savedLanguageValue is not null\n                     spinnerDescriptionLanguages.setSelection(languagesAdapter.getIndexOfLanguageCode(savedLanguageValue));\n                 } else {\n-                    if (position == 0) {\n-                        int defaultLocaleIndex = languagesAdapter\n-                                .getIndexOfUserDefaultLocale(spinnerDescriptionLanguages.getContext());\n-                        spinnerDescriptionLanguages.setSelection(defaultLocaleIndex, true);\n+                    if(uploadMediaDetails.get(position).getLanguageCode() != null){", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDM2MzcwNA=="}, "originalCommit": {"oid": "26829b2b75e8cea84fab357b3ef0991d8ed752d0"}, "originalPosition": 8}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQyMDgxNDM1OnYy", "diffSide": "RIGHT", "path": "app/src/main/java/fr/free/nrw/commons/upload/UploadMediaDetailAdapter.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNlQxNDo1NToyNFrOIHJWSw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNlQxNDo1NToyNFrOIHJWSw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDM2NDEwNw==", "bodyText": "Very minor style detail: Please add a space before true. Thanks!", "url": "https://github.com/commons-app/apps-android-commons/pull/4109#discussion_r544364107", "createdAt": "2020-12-16T14:55:24Z", "author": {"login": "nicolas-raoul"}, "path": "app/src/main/java/fr/free/nrw/commons/upload/UploadMediaDetailAdapter.java", "diffHunk": "@@ -179,12 +179,17 @@ public void onNothingSelected(AdapterView<?> adapterView) {\n                     // If user has chosen a default language from settings activity savedLanguageValue is not null\n                     spinnerDescriptionLanguages.setSelection(languagesAdapter.getIndexOfLanguageCode(savedLanguageValue));\n                 } else {\n-                    if (position == 0) {\n-                        int defaultLocaleIndex = languagesAdapter\n-                                .getIndexOfUserDefaultLocale(spinnerDescriptionLanguages.getContext());\n-                        spinnerDescriptionLanguages.setSelection(defaultLocaleIndex, true);\n+                    if(uploadMediaDetails.get(position).getLanguageCode() != null){\n+                        spinnerDescriptionLanguages.setSelection(languagesAdapter\n+                            .getIndexOfLanguageCode(uploadMediaDetails.get(position).getLanguageCode()),true);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "26829b2b75e8cea84fab357b3ef0991d8ed752d0"}, "originalPosition": 10}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4261, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}