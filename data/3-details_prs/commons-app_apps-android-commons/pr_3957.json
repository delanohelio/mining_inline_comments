{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTAwNTA5NDAw", "number": 3957, "title": "Fix category links in media detail", "bodyText": "Description\nThe prefix \"Category:\" is not expected by the category activity. I changed the category links in the media detail view to no longer add that prefix.\nAdditionally, I added a workaround for a crash where the media detail fragment somehow lost it's context.\nTests performed\nTested prodDebug on Huawei P8 Lite with API level 23.\nScreenshots (for UI changes only)\nCategory browser now no longer sometimes displays \"Category:\" in the title bar.", "createdAt": "2020-10-09T10:52:49Z", "url": "https://github.com/commons-app/apps-android-commons/pull/3957", "merged": true, "mergeCommit": {"oid": "174db88ae86686035892e5541561daf447c55f35"}, "closed": true, "closedAt": "2020-12-22T11:34:31Z", "author": {"login": "FliegendeWurst"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdQ7mHHgFqTUwNTk0NzIyNw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdoo6hmAFqTU1NzAxNDY2NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA1OTQ3MjI3", "url": "https://github.com/commons-app/apps-android-commons/pull/3957#pullrequestreview-505947227", "createdAt": "2020-10-09T19:46:03Z", "commit": {"oid": "49bf12b9835dc7ee18cef2f8fee0230d457ae7ec"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTExMDA4MjY2", "url": "https://github.com/commons-app/apps-android-commons/pull/3957#pullrequestreview-511008266", "createdAt": "2020-10-17T19:03:09Z", "commit": {"oid": "49bf12b9835dc7ee18cef2f8fee0230d457ae7ec"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "49bf12b9835dc7ee18cef2f8fee0230d457ae7ec", "author": {"user": {"login": "FliegendeWurst", "name": null}}, "url": "https://github.com/commons-app/apps-android-commons/commit/49bf12b9835dc7ee18cef2f8fee0230d457ae7ec", "committedDate": "2020-10-09T10:42:33Z", "message": "Fix category links in media detail"}, "afterCommit": {"oid": "3d0d35585e42e516b7f6f47e7474049231e214b7", "author": {"user": {"login": "FliegendeWurst", "name": null}}, "url": "https://github.com/commons-app/apps-android-commons/commit/3d0d35585e42e516b7f6f47e7474049231e214b7", "committedDate": "2020-10-17T19:28:00Z", "message": "Fix category links in media detail"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE4MDEwNTA3", "url": "https://github.com/commons-app/apps-android-commons/pull/3957#pullrequestreview-518010507", "createdAt": "2020-10-27T18:17:44Z", "commit": {"oid": "3d0d35585e42e516b7f6f47e7474049231e214b7"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QxODoxNzo0NFrOHpKglw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QxODoyMDo0MVrOHpKoMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjkyNTg0Nw==", "bodyText": "The CategoryClientKt.CATEGORY_PREFIX static import in this file is not necessary anymore. So, it can be removed.", "url": "https://github.com/commons-app/apps-android-commons/pull/3957#discussion_r512925847", "createdAt": "2020-10-27T18:17:44Z", "author": {"login": "sivaraam"}, "path": "app/src/main/java/fr/free/nrw/commons/media/MediaDetailFragment.java", "diffHunk": "@@ -837,9 +840,8 @@ private View buildCatLabel(final String catName, ViewGroup categoryContainer) {\n         if(!getString(R.string.detail_panel_cats_none).equals(catName)) {\n             textView.setOnClickListener(view -> {\n                 // Open Category Details page\n-                String selectedCategoryTitle = CATEGORY_PREFIX + catName;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3d0d35585e42e516b7f6f47e7474049231e214b7"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjkyNzc5Mw==", "bodyText": "I believe it's better to use the CATEGORY_PREFIX variable from CategoryClient here rather than hard coding the prefix.", "url": "https://github.com/commons-app/apps-android-commons/pull/3957#discussion_r512927793", "createdAt": "2020-10-27T18:20:41Z", "author": {"login": "sivaraam"}, "path": "app/src/main/java/fr/free/nrw/commons/category/CategoryDetailsActivity.java", "diffHunk": "@@ -181,7 +182,8 @@ public boolean onOptionsItemSelected(MenuItem item) {\n         // Handle item selection\n         switch (item.getItemId()) {\n             case R.id.menu_browser_current_category:\n-                Utils.handleWebUrl(this, Uri.parse(Utils.getPageTitle(categoryName).getCanonicalUri()));\n+                PageTitle title = Utils.getPageTitle(String.format(\"Category:%s\", categoryName));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3d0d35585e42e516b7f6f47e7474049231e214b7"}, "originalPosition": 13}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3d0d35585e42e516b7f6f47e7474049231e214b7", "author": {"user": {"login": "FliegendeWurst", "name": null}}, "url": "https://github.com/commons-app/apps-android-commons/commit/3d0d35585e42e516b7f6f47e7474049231e214b7", "committedDate": "2020-10-17T19:28:00Z", "message": "Fix category links in media detail"}, "afterCommit": {"oid": "2b3eac99ba9b75def1f8113f6018b277c6ca3f46", "author": {"user": {"login": "FliegendeWurst", "name": null}}, "url": "https://github.com/commons-app/apps-android-commons/commit/2b3eac99ba9b75def1f8113f6018b277c6ca3f46", "committedDate": "2020-11-02T07:49:26Z", "message": "Fix category links in media detail"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6276621b1576c5327129eecae22324c4df690c0d", "author": {"user": {"login": "FliegendeWurst", "name": null}}, "url": "https://github.com/commons-app/apps-android-commons/commit/6276621b1576c5327129eecae22324c4df690c0d", "committedDate": "2020-11-02T08:01:43Z", "message": "Fix category links in media detail"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2b3eac99ba9b75def1f8113f6018b277c6ca3f46", "author": {"user": {"login": "FliegendeWurst", "name": null}}, "url": "https://github.com/commons-app/apps-android-commons/commit/2b3eac99ba9b75def1f8113f6018b277c6ca3f46", "committedDate": "2020-11-02T07:49:26Z", "message": "Fix category links in media detail"}, "afterCommit": {"oid": "6276621b1576c5327129eecae22324c4df690c0d", "author": {"user": {"login": "FliegendeWurst", "name": null}}, "url": "https://github.com/commons-app/apps-android-commons/commit/6276621b1576c5327129eecae22324c4df690c0d", "committedDate": "2020-11-02T08:01:43Z", "message": "Fix category links in media detail"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU3MDE0NjY0", "url": "https://github.com/commons-app/apps-android-commons/pull/3957#pullrequestreview-557014664", "createdAt": "2020-12-22T11:34:20Z", "commit": {"oid": "6276621b1576c5327129eecae22324c4df690c0d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 542, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}