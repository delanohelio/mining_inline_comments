{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg3OTU4MzE2", "number": 3511, "reviewThreads": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNFQwNDo1OToxMVrODoCBcg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQxMjoyMzo0NVrODoTmoQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQzMzAyNzcwOnYy", "diffSide": "RIGHT", "path": ".idea/codeStyles/Project.xml", "isResolved": true, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNFQwNDo1OToxMVrOF2Xy0Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNFQxNjo1ODoxN1rOF2akgQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjU1NzI2NQ==", "bodyText": "Kindly revert these changes.", "url": "https://github.com/commons-app/apps-android-commons/pull/3511#discussion_r392557265", "createdAt": "2020-03-14T04:59:11Z", "author": {"login": "sivaraam"}, "path": ".idea/codeStyles/Project.xml", "diffHunk": "@@ -47,31 +47,9 @@\n       <option name=\"SPACE_BEFORE_SUPERCLASS_COLON\" value=\"false\" />\n     </Objective-C>\n     <Objective-C-extensions>\n-      <option name=\"GENERATE_INSTANCE_VARIABLES_FOR_PROPERTIES\" value=\"ASK\" />\n-      <option name=\"RELEASE_STYLE\" value=\"IVAR\" />\n-      <option name=\"TYPE_QUALIFIERS_PLACEMENT\" value=\"BEFORE\" />\n-      <file>\n-        <option name=\"com.jetbrains.cidr.lang.util.OCDeclarationKind\" value=\"Import\" />\n-        <option name=\"com.jetbrains.cidr.lang.util.OCDeclarationKind\" value=\"Macro\" />\n-        <option name=\"com.jetbrains.cidr.lang.util.OCDeclarationKind\" value=\"Typedef\" />\n-        <option name=\"com.jetbrains.cidr.lang.util.OCDeclarationKind\" value=\"Enum\" />\n-        <option name=\"com.jetbrains.cidr.lang.util.OCDeclarationKind\" value=\"Constant\" />\n-        <option name=\"com.jetbrains.cidr.lang.util.OCDeclarationKind\" value=\"Global\" />\n-        <option name=\"com.jetbrains.cidr.lang.util.OCDeclarationKind\" value=\"Struct\" />\n-        <option name=\"com.jetbrains.cidr.lang.util.OCDeclarationKind\" value=\"FunctionPredecl\" />\n-        <option name=\"com.jetbrains.cidr.lang.util.OCDeclarationKind\" value=\"Function\" />\n-      </file>\n-      <class>\n-        <option name=\"com.jetbrains.cidr.lang.util.OCDeclarationKind\" value=\"Property\" />\n-        <option name=\"com.jetbrains.cidr.lang.util.OCDeclarationKind\" value=\"Synthesize\" />\n-        <option name=\"com.jetbrains.cidr.lang.util.OCDeclarationKind\" value=\"InitMethod\" />\n-        <option name=\"com.jetbrains.cidr.lang.util.OCDeclarationKind\" value=\"StaticMethod\" />\n-        <option name=\"com.jetbrains.cidr.lang.util.OCDeclarationKind\" value=\"InstanceMethod\" />\n-        <option name=\"com.jetbrains.cidr.lang.util.OCDeclarationKind\" value=\"DeallocMethod\" />\n-      </class>\n       <extensions>\n-        <pair source=\"cc\" header=\"h\" />\n-        <pair source=\"c\" header=\"h\" />\n+        <pair source=\"cc\" header=\"h\" fileNamingConvention=\"NONE\" />\n+        <pair source=\"c\" header=\"h\" fileNamingConvention=\"NONE\" />", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1aa7a56b6aaab651e1c6c74ac5831379caeb81ba"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjU3ODYxOQ==", "bodyText": "Android Studio keep modifying these files , i'll revert the changes.", "url": "https://github.com/commons-app/apps-android-commons/pull/3511#discussion_r392578619", "createdAt": "2020-03-14T11:36:39Z", "author": {"login": "318anushka"}, "path": ".idea/codeStyles/Project.xml", "diffHunk": "@@ -47,31 +47,9 @@\n       <option name=\"SPACE_BEFORE_SUPERCLASS_COLON\" value=\"false\" />\n     </Objective-C>\n     <Objective-C-extensions>\n-      <option name=\"GENERATE_INSTANCE_VARIABLES_FOR_PROPERTIES\" value=\"ASK\" />\n-      <option name=\"RELEASE_STYLE\" value=\"IVAR\" />\n-      <option name=\"TYPE_QUALIFIERS_PLACEMENT\" value=\"BEFORE\" />\n-      <file>\n-        <option name=\"com.jetbrains.cidr.lang.util.OCDeclarationKind\" value=\"Import\" />\n-        <option name=\"com.jetbrains.cidr.lang.util.OCDeclarationKind\" value=\"Macro\" />\n-        <option name=\"com.jetbrains.cidr.lang.util.OCDeclarationKind\" value=\"Typedef\" />\n-        <option name=\"com.jetbrains.cidr.lang.util.OCDeclarationKind\" value=\"Enum\" />\n-        <option name=\"com.jetbrains.cidr.lang.util.OCDeclarationKind\" value=\"Constant\" />\n-        <option name=\"com.jetbrains.cidr.lang.util.OCDeclarationKind\" value=\"Global\" />\n-        <option name=\"com.jetbrains.cidr.lang.util.OCDeclarationKind\" value=\"Struct\" />\n-        <option name=\"com.jetbrains.cidr.lang.util.OCDeclarationKind\" value=\"FunctionPredecl\" />\n-        <option name=\"com.jetbrains.cidr.lang.util.OCDeclarationKind\" value=\"Function\" />\n-      </file>\n-      <class>\n-        <option name=\"com.jetbrains.cidr.lang.util.OCDeclarationKind\" value=\"Property\" />\n-        <option name=\"com.jetbrains.cidr.lang.util.OCDeclarationKind\" value=\"Synthesize\" />\n-        <option name=\"com.jetbrains.cidr.lang.util.OCDeclarationKind\" value=\"InitMethod\" />\n-        <option name=\"com.jetbrains.cidr.lang.util.OCDeclarationKind\" value=\"StaticMethod\" />\n-        <option name=\"com.jetbrains.cidr.lang.util.OCDeclarationKind\" value=\"InstanceMethod\" />\n-        <option name=\"com.jetbrains.cidr.lang.util.OCDeclarationKind\" value=\"DeallocMethod\" />\n-      </class>\n       <extensions>\n-        <pair source=\"cc\" header=\"h\" />\n-        <pair source=\"c\" header=\"h\" />\n+        <pair source=\"cc\" header=\"h\" fileNamingConvention=\"NONE\" />\n+        <pair source=\"c\" header=\"h\" fileNamingConvention=\"NONE\" />", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjU1NzI2NQ=="}, "originalCommit": {"oid": "1aa7a56b6aaab651e1c6c74ac5831379caeb81ba"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjU3OTQxNw==", "bodyText": "This needs to be added in gitignore, of course, should be done in a separate PR", "url": "https://github.com/commons-app/apps-android-commons/pull/3511#discussion_r392579417", "createdAt": "2020-03-14T11:50:55Z", "author": {"login": "ashishkumar468"}, "path": ".idea/codeStyles/Project.xml", "diffHunk": "@@ -47,31 +47,9 @@\n       <option name=\"SPACE_BEFORE_SUPERCLASS_COLON\" value=\"false\" />\n     </Objective-C>\n     <Objective-C-extensions>\n-      <option name=\"GENERATE_INSTANCE_VARIABLES_FOR_PROPERTIES\" value=\"ASK\" />\n-      <option name=\"RELEASE_STYLE\" value=\"IVAR\" />\n-      <option name=\"TYPE_QUALIFIERS_PLACEMENT\" value=\"BEFORE\" />\n-      <file>\n-        <option name=\"com.jetbrains.cidr.lang.util.OCDeclarationKind\" value=\"Import\" />\n-        <option name=\"com.jetbrains.cidr.lang.util.OCDeclarationKind\" value=\"Macro\" />\n-        <option name=\"com.jetbrains.cidr.lang.util.OCDeclarationKind\" value=\"Typedef\" />\n-        <option name=\"com.jetbrains.cidr.lang.util.OCDeclarationKind\" value=\"Enum\" />\n-        <option name=\"com.jetbrains.cidr.lang.util.OCDeclarationKind\" value=\"Constant\" />\n-        <option name=\"com.jetbrains.cidr.lang.util.OCDeclarationKind\" value=\"Global\" />\n-        <option name=\"com.jetbrains.cidr.lang.util.OCDeclarationKind\" value=\"Struct\" />\n-        <option name=\"com.jetbrains.cidr.lang.util.OCDeclarationKind\" value=\"FunctionPredecl\" />\n-        <option name=\"com.jetbrains.cidr.lang.util.OCDeclarationKind\" value=\"Function\" />\n-      </file>\n-      <class>\n-        <option name=\"com.jetbrains.cidr.lang.util.OCDeclarationKind\" value=\"Property\" />\n-        <option name=\"com.jetbrains.cidr.lang.util.OCDeclarationKind\" value=\"Synthesize\" />\n-        <option name=\"com.jetbrains.cidr.lang.util.OCDeclarationKind\" value=\"InitMethod\" />\n-        <option name=\"com.jetbrains.cidr.lang.util.OCDeclarationKind\" value=\"StaticMethod\" />\n-        <option name=\"com.jetbrains.cidr.lang.util.OCDeclarationKind\" value=\"InstanceMethod\" />\n-        <option name=\"com.jetbrains.cidr.lang.util.OCDeclarationKind\" value=\"DeallocMethod\" />\n-      </class>\n       <extensions>\n-        <pair source=\"cc\" header=\"h\" />\n-        <pair source=\"c\" header=\"h\" />\n+        <pair source=\"cc\" header=\"h\" fileNamingConvention=\"NONE\" />\n+        <pair source=\"c\" header=\"h\" fileNamingConvention=\"NONE\" />", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjU1NzI2NQ=="}, "originalCommit": {"oid": "1aa7a56b6aaab651e1c6c74ac5831379caeb81ba"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjU4MDI0MA==", "bodyText": "@ashishkumar468   don't know why this is happening but complete idea folder is already added to gitignore.", "url": "https://github.com/commons-app/apps-android-commons/pull/3511#discussion_r392580240", "createdAt": "2020-03-14T12:06:52Z", "author": {"login": "318anushka"}, "path": ".idea/codeStyles/Project.xml", "diffHunk": "@@ -47,31 +47,9 @@\n       <option name=\"SPACE_BEFORE_SUPERCLASS_COLON\" value=\"false\" />\n     </Objective-C>\n     <Objective-C-extensions>\n-      <option name=\"GENERATE_INSTANCE_VARIABLES_FOR_PROPERTIES\" value=\"ASK\" />\n-      <option name=\"RELEASE_STYLE\" value=\"IVAR\" />\n-      <option name=\"TYPE_QUALIFIERS_PLACEMENT\" value=\"BEFORE\" />\n-      <file>\n-        <option name=\"com.jetbrains.cidr.lang.util.OCDeclarationKind\" value=\"Import\" />\n-        <option name=\"com.jetbrains.cidr.lang.util.OCDeclarationKind\" value=\"Macro\" />\n-        <option name=\"com.jetbrains.cidr.lang.util.OCDeclarationKind\" value=\"Typedef\" />\n-        <option name=\"com.jetbrains.cidr.lang.util.OCDeclarationKind\" value=\"Enum\" />\n-        <option name=\"com.jetbrains.cidr.lang.util.OCDeclarationKind\" value=\"Constant\" />\n-        <option name=\"com.jetbrains.cidr.lang.util.OCDeclarationKind\" value=\"Global\" />\n-        <option name=\"com.jetbrains.cidr.lang.util.OCDeclarationKind\" value=\"Struct\" />\n-        <option name=\"com.jetbrains.cidr.lang.util.OCDeclarationKind\" value=\"FunctionPredecl\" />\n-        <option name=\"com.jetbrains.cidr.lang.util.OCDeclarationKind\" value=\"Function\" />\n-      </file>\n-      <class>\n-        <option name=\"com.jetbrains.cidr.lang.util.OCDeclarationKind\" value=\"Property\" />\n-        <option name=\"com.jetbrains.cidr.lang.util.OCDeclarationKind\" value=\"Synthesize\" />\n-        <option name=\"com.jetbrains.cidr.lang.util.OCDeclarationKind\" value=\"InitMethod\" />\n-        <option name=\"com.jetbrains.cidr.lang.util.OCDeclarationKind\" value=\"StaticMethod\" />\n-        <option name=\"com.jetbrains.cidr.lang.util.OCDeclarationKind\" value=\"InstanceMethod\" />\n-        <option name=\"com.jetbrains.cidr.lang.util.OCDeclarationKind\" value=\"DeallocMethod\" />\n-      </class>\n       <extensions>\n-        <pair source=\"cc\" header=\"h\" />\n-        <pair source=\"c\" header=\"h\" />\n+        <pair source=\"cc\" header=\"h\" fileNamingConvention=\"NONE\" />\n+        <pair source=\"c\" header=\"h\" fileNamingConvention=\"NONE\" />", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjU1NzI2NQ=="}, "originalCommit": {"oid": "1aa7a56b6aaab651e1c6c74ac5831379caeb81ba"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjYwMjc1Mw==", "bodyText": "You see these changes as a consequence of the following .gitignore line which was added intentionally in #3445:\n!/.idea/codeStyles/\n\nThe above line tells Git not to ignore the .idea/codeStyles/ folder despite the presence of /.idea/* in .gitignore.", "url": "https://github.com/commons-app/apps-android-commons/pull/3511#discussion_r392602753", "createdAt": "2020-03-14T16:58:17Z", "author": {"login": "sivaraam"}, "path": ".idea/codeStyles/Project.xml", "diffHunk": "@@ -47,31 +47,9 @@\n       <option name=\"SPACE_BEFORE_SUPERCLASS_COLON\" value=\"false\" />\n     </Objective-C>\n     <Objective-C-extensions>\n-      <option name=\"GENERATE_INSTANCE_VARIABLES_FOR_PROPERTIES\" value=\"ASK\" />\n-      <option name=\"RELEASE_STYLE\" value=\"IVAR\" />\n-      <option name=\"TYPE_QUALIFIERS_PLACEMENT\" value=\"BEFORE\" />\n-      <file>\n-        <option name=\"com.jetbrains.cidr.lang.util.OCDeclarationKind\" value=\"Import\" />\n-        <option name=\"com.jetbrains.cidr.lang.util.OCDeclarationKind\" value=\"Macro\" />\n-        <option name=\"com.jetbrains.cidr.lang.util.OCDeclarationKind\" value=\"Typedef\" />\n-        <option name=\"com.jetbrains.cidr.lang.util.OCDeclarationKind\" value=\"Enum\" />\n-        <option name=\"com.jetbrains.cidr.lang.util.OCDeclarationKind\" value=\"Constant\" />\n-        <option name=\"com.jetbrains.cidr.lang.util.OCDeclarationKind\" value=\"Global\" />\n-        <option name=\"com.jetbrains.cidr.lang.util.OCDeclarationKind\" value=\"Struct\" />\n-        <option name=\"com.jetbrains.cidr.lang.util.OCDeclarationKind\" value=\"FunctionPredecl\" />\n-        <option name=\"com.jetbrains.cidr.lang.util.OCDeclarationKind\" value=\"Function\" />\n-      </file>\n-      <class>\n-        <option name=\"com.jetbrains.cidr.lang.util.OCDeclarationKind\" value=\"Property\" />\n-        <option name=\"com.jetbrains.cidr.lang.util.OCDeclarationKind\" value=\"Synthesize\" />\n-        <option name=\"com.jetbrains.cidr.lang.util.OCDeclarationKind\" value=\"InitMethod\" />\n-        <option name=\"com.jetbrains.cidr.lang.util.OCDeclarationKind\" value=\"StaticMethod\" />\n-        <option name=\"com.jetbrains.cidr.lang.util.OCDeclarationKind\" value=\"InstanceMethod\" />\n-        <option name=\"com.jetbrains.cidr.lang.util.OCDeclarationKind\" value=\"DeallocMethod\" />\n-      </class>\n       <extensions>\n-        <pair source=\"cc\" header=\"h\" />\n-        <pair source=\"c\" header=\"h\" />\n+        <pair source=\"cc\" header=\"h\" fileNamingConvention=\"NONE\" />\n+        <pair source=\"c\" header=\"h\" fileNamingConvention=\"NONE\" />", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjU1NzI2NQ=="}, "originalCommit": {"oid": "1aa7a56b6aaab651e1c6c74ac5831379caeb81ba"}, "originalPosition": 30}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQzMzAyODc5OnYy", "diffSide": "RIGHT", "path": "app/build.gradle", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNFQwNTowMTozNlrOF2XzWQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNFQwNTowMTozNlrOF2XzWQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjU1NzQwMQ==", "bodyText": "I believe this isn't required. We already have the mavenCentral() repository in the top-level build.gradle.", "url": "https://github.com/commons-app/apps-android-commons/pull/3511#discussion_r392557401", "createdAt": "2020-03-14T05:01:36Z", "author": {"login": "sivaraam"}, "path": "app/build.gradle", "diffHunk": "@@ -13,6 +13,9 @@ def isRunningOnTravisAndIsNotPRBuild = System.getenv(\"CI\") == \"true\" && file('..\n if(isRunningOnTravisAndIsNotPRBuild) {\n     apply plugin: 'com.github.triplet.play'\n }\n+repositories {\n+    mavenCentral()\n+}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1aa7a56b6aaab651e1c6c74ac5831379caeb81ba"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQzMzAzODk5OnYy", "diffSide": "RIGHT", "path": "app/src/main/java/fr/free/nrw/commons/nearby/fragments/NearbyParentFragment.java", "isResolved": false, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNFQwNToyNzozMFrOF2X4eQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNFQxMjowMjo0NlrOF2ZLtw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjU1ODcxMw==", "bodyText": "Can you use constants in place of these magic numbers? Some comments about why these numbers were chosen would be nice.", "url": "https://github.com/commons-app/apps-android-commons/pull/3511#discussion_r392558713", "createdAt": "2020-03-14T05:27:30Z", "author": {"login": "sivaraam"}, "path": "app/src/main/java/fr/free/nrw/commons/nearby/fragments/NearbyParentFragment.java", "diffHunk": "@@ -239,6 +243,25 @@ public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceStat\n                         .zoom(ZOOM_LEVEL)\n                         .build();\n                 mapBoxMap.setCameraPosition(cameraPosition);\n+                scaleBarPlugin = new ScaleBarPlugin(mapView, mapBoxMap);\n+\n+                int color = isDarkTheme?R.color.bottom_bar_light:R.color.bottom_bar_dark;\n+\n+                float size = new TextView(getContext()).getTextSize()-1;\n+\n+                scaleBarOptions = new ScaleBarOptions(getContext())\n+                    .setTextColor(color)\n+                    .setTextSize(size)\n+                    .setBarHeight((float) (size/3.5))\n+                    .setBorderWidth(size/10)\n+                    .setMetricUnit(true)\n+                    .setRefreshInterval(15)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1aa7a56b6aaab651e1c6c74ac5831379caeb81ba"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjU3NTY1NQ==", "bodyText": "i can declare constants in the same class as private and then initialize them in onViewCreated method due (to line 250 above). So basically code will be like this:\n            SIZE = new TextView(getContext()).getTextSize()-1;\n            //Default text size for scalebar params\n            SCALEBAR_HEIGHT = (float) (SIZE/3.5);\n            SCALEBAR_BORDER_WIDTH = SIZE/10;\n            SCALEBAR_MARGIN = SIZE/2;\n            //these values are chosen to keep scalebar size comparable to other text depending upon the screen size and device resolution\n            REFRESH_INTERVAL = 15;\n            //minimum refresh time in millisec\n\n            scaleBarOptions = new ScaleBarOptions(getContext())\n                .setTextColor(color)\n                .setTextSize(SIZE)\n                .setBarHeight(SCALEBAR_HEIGHT)\n                .setBorderWidth(SCALEBAR_BORDER_WIDTH)\n                .setMetricUnit(true)\n                .setRefreshInterval(REFRESH_INTERVAL)\n                .setMarginTop(SCALEBAR_MARGIN)\n                .setMarginLeft(SCALEBAR_MARGIN)\n                .setTextBarMargin(SCALEBAR_MARGIN);\n\nShould i make these changes?", "url": "https://github.com/commons-app/apps-android-commons/pull/3511#discussion_r392575655", "createdAt": "2020-03-14T10:45:18Z", "author": {"login": "318anushka"}, "path": "app/src/main/java/fr/free/nrw/commons/nearby/fragments/NearbyParentFragment.java", "diffHunk": "@@ -239,6 +243,25 @@ public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceStat\n                         .zoom(ZOOM_LEVEL)\n                         .build();\n                 mapBoxMap.setCameraPosition(cameraPosition);\n+                scaleBarPlugin = new ScaleBarPlugin(mapView, mapBoxMap);\n+\n+                int color = isDarkTheme?R.color.bottom_bar_light:R.color.bottom_bar_dark;\n+\n+                float size = new TextView(getContext()).getTextSize()-1;\n+\n+                scaleBarOptions = new ScaleBarOptions(getContext())\n+                    .setTextColor(color)\n+                    .setTextSize(size)\n+                    .setBarHeight((float) (size/3.5))\n+                    .setBorderWidth(size/10)\n+                    .setMetricUnit(true)\n+                    .setRefreshInterval(15)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjU1ODcxMw=="}, "originalCommit": {"oid": "1aa7a56b6aaab651e1c6c74ac5831379caeb81ba"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjU3OTgxMg==", "bodyText": "As we don't use these numbers again anywhere in the class, you can just declare them as final variables local to that method. No need to declare them as instance variables.\nAlso, you seem to be positioning the comments below the corresponding line. It's customary to actually have the related comments above the line or at the end of it.\nThe content of the comments look nice. It would be if could also add the reason for why you're choosing 3.5 to get the scalebar height, if any.", "url": "https://github.com/commons-app/apps-android-commons/pull/3511#discussion_r392579812", "createdAt": "2020-03-14T11:58:40Z", "author": {"login": "sivaraam"}, "path": "app/src/main/java/fr/free/nrw/commons/nearby/fragments/NearbyParentFragment.java", "diffHunk": "@@ -239,6 +243,25 @@ public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceStat\n                         .zoom(ZOOM_LEVEL)\n                         .build();\n                 mapBoxMap.setCameraPosition(cameraPosition);\n+                scaleBarPlugin = new ScaleBarPlugin(mapView, mapBoxMap);\n+\n+                int color = isDarkTheme?R.color.bottom_bar_light:R.color.bottom_bar_dark;\n+\n+                float size = new TextView(getContext()).getTextSize()-1;\n+\n+                scaleBarOptions = new ScaleBarOptions(getContext())\n+                    .setTextColor(color)\n+                    .setTextSize(size)\n+                    .setBarHeight((float) (size/3.5))\n+                    .setBorderWidth(size/10)\n+                    .setMetricUnit(true)\n+                    .setRefreshInterval(15)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjU1ODcxMw=="}, "originalCommit": {"oid": "1aa7a56b6aaab651e1c6c74ac5831379caeb81ba"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjU4MDAyMw==", "bodyText": "okay will do that\ud83d\udc4d\nI just tried different set of values and this looked better in 4inch as well as larger screen devices.", "url": "https://github.com/commons-app/apps-android-commons/pull/3511#discussion_r392580023", "createdAt": "2020-03-14T12:02:46Z", "author": {"login": "318anushka"}, "path": "app/src/main/java/fr/free/nrw/commons/nearby/fragments/NearbyParentFragment.java", "diffHunk": "@@ -239,6 +243,25 @@ public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceStat\n                         .zoom(ZOOM_LEVEL)\n                         .build();\n                 mapBoxMap.setCameraPosition(cameraPosition);\n+                scaleBarPlugin = new ScaleBarPlugin(mapView, mapBoxMap);\n+\n+                int color = isDarkTheme?R.color.bottom_bar_light:R.color.bottom_bar_dark;\n+\n+                float size = new TextView(getContext()).getTextSize()-1;\n+\n+                scaleBarOptions = new ScaleBarOptions(getContext())\n+                    .setTextColor(color)\n+                    .setTextSize(size)\n+                    .setBarHeight((float) (size/3.5))\n+                    .setBorderWidth(size/10)\n+                    .setMetricUnit(true)\n+                    .setRefreshInterval(15)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjU1ODcxMw=="}, "originalCommit": {"oid": "1aa7a56b6aaab651e1c6c74ac5831379caeb81ba"}, "originalPosition": 34}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQzMzM3MTQwOnYy", "diffSide": "RIGHT", "path": ".idea/codeStyles/Project.xml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNFQxNzowMDo1NlrOF2alLg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNFQyMDoxNjoyMFrOF2bY9g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjYwMjkyNg==", "bodyText": "Thanks for reverting the changes! If possible kindly revert this whitespace change too.", "url": "https://github.com/commons-app/apps-android-commons/pull/3511#discussion_r392602926", "createdAt": "2020-03-14T17:00:56Z", "author": {"login": "sivaraam"}, "path": ".idea/codeStyles/Project.xml", "diffHunk": "@@ -71,7 +71,7 @@\n       </class>\n       <extensions>\n         <pair source=\"cc\" header=\"h\" />\n-        <pair source=\"c\" header=\"h\" />\n+        <pair source=\"c\" header=\"h\"  />", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "163401ffc4e5f9974cb51162b465c1966c6d8f13"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjYxNjE4Mg==", "bodyText": "right sorry didn't notice that", "url": "https://github.com/commons-app/apps-android-commons/pull/3511#discussion_r392616182", "createdAt": "2020-03-14T20:16:20Z", "author": {"login": "318anushka"}, "path": ".idea/codeStyles/Project.xml", "diffHunk": "@@ -71,7 +71,7 @@\n       </class>\n       <extensions>\n         <pair source=\"cc\" header=\"h\" />\n-        <pair source=\"c\" header=\"h\" />\n+        <pair source=\"c\" header=\"h\"  />", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjYwMjkyNg=="}, "originalCommit": {"oid": "163401ffc4e5f9974cb51162b465c1966c6d8f13"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQzMzM4MzEzOnYy", "diffSide": "RIGHT", "path": "app/src/main/java/fr/free/nrw/commons/nearby/fragments/NearbyParentFragment.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNFQxNzoyMzo1NlrOF2arfw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNFQyMDoxNjo1NVrOF2bZKg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjYwNDU0Mw==", "bodyText": "It seems that the default refresh interval is 15 milliseconds. So, this call to set the refresh interval to 15 milliseconds seems unnecessary.", "url": "https://github.com/commons-app/apps-android-commons/pull/3511#discussion_r392604543", "createdAt": "2020-03-14T17:23:56Z", "author": {"login": "sivaraam"}, "path": "app/src/main/java/fr/free/nrw/commons/nearby/fragments/NearbyParentFragment.java", "diffHunk": "@@ -239,6 +243,29 @@ public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceStat\n                         .zoom(ZOOM_LEVEL)\n                         .build();\n                 mapBoxMap.setCameraPosition(cameraPosition);\n+                scaleBarPlugin = new ScaleBarPlugin(mapView, mapBoxMap);\n+\n+                int color = isDarkTheme?R.color.bottom_bar_light:R.color.bottom_bar_dark;\n+\n+                final float SIZE = new TextView(getContext()).getTextSize()-1;     //Default text size for scalebar params\n+                final float SCALEBAR_HEIGHT = (float) (SIZE/3.5);                  //these values are chosen to keep scalebar size comparable to other text depending upon the screen size and device resolution\n+                final float SCALEBAR_BORDER_WIDTH = SIZE/10;\n+                final float SCALEBAR_MARGIN = SIZE/2;\n+                final int REFRESH_INTERVAL = 15;                                  //minimum refresh time in millisec\n+\n+                scaleBarOptions = new ScaleBarOptions(getContext())\n+                    .setTextColor(color)\n+                    .setTextSize(SIZE)\n+                    .setBarHeight(SCALEBAR_HEIGHT)\n+                    .setBorderWidth(SCALEBAR_BORDER_WIDTH)\n+                    .setMetricUnit(true)\n+                    .setRefreshInterval(REFRESH_INTERVAL)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "163401ffc4e5f9974cb51162b465c1966c6d8f13"}, "originalPosition": 38}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjYxNjIzNA==", "bodyText": "added a comment instead", "url": "https://github.com/commons-app/apps-android-commons/pull/3511#discussion_r392616234", "createdAt": "2020-03-14T20:16:55Z", "author": {"login": "318anushka"}, "path": "app/src/main/java/fr/free/nrw/commons/nearby/fragments/NearbyParentFragment.java", "diffHunk": "@@ -239,6 +243,29 @@ public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceStat\n                         .zoom(ZOOM_LEVEL)\n                         .build();\n                 mapBoxMap.setCameraPosition(cameraPosition);\n+                scaleBarPlugin = new ScaleBarPlugin(mapView, mapBoxMap);\n+\n+                int color = isDarkTheme?R.color.bottom_bar_light:R.color.bottom_bar_dark;\n+\n+                final float SIZE = new TextView(getContext()).getTextSize()-1;     //Default text size for scalebar params\n+                final float SCALEBAR_HEIGHT = (float) (SIZE/3.5);                  //these values are chosen to keep scalebar size comparable to other text depending upon the screen size and device resolution\n+                final float SCALEBAR_BORDER_WIDTH = SIZE/10;\n+                final float SCALEBAR_MARGIN = SIZE/2;\n+                final int REFRESH_INTERVAL = 15;                                  //minimum refresh time in millisec\n+\n+                scaleBarOptions = new ScaleBarOptions(getContext())\n+                    .setTextColor(color)\n+                    .setTextSize(SIZE)\n+                    .setBarHeight(SCALEBAR_HEIGHT)\n+                    .setBorderWidth(SCALEBAR_BORDER_WIDTH)\n+                    .setMetricUnit(true)\n+                    .setRefreshInterval(REFRESH_INTERVAL)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjYwNDU0Mw=="}, "originalCommit": {"oid": "163401ffc4e5f9974cb51162b465c1966c6d8f13"}, "originalPosition": 38}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQzMzM4OTM2OnYy", "diffSide": "RIGHT", "path": "app/src/main/java/fr/free/nrw/commons/nearby/fragments/NearbyParentFragment.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNFQxNzozNTo1MFrOF2aupw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNFQxNzozNTo1MFrOF2aupw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjYwNTM1MQ==", "bodyText": "It's better if we just leave whether or not to use the metric system to the default setting of scale bar. The default seems to be smart enough to identify this based on system setting. So, we can just take advantage of the default by not setting this.", "url": "https://github.com/commons-app/apps-android-commons/pull/3511#discussion_r392605351", "createdAt": "2020-03-14T17:35:50Z", "author": {"login": "sivaraam"}, "path": "app/src/main/java/fr/free/nrw/commons/nearby/fragments/NearbyParentFragment.java", "diffHunk": "@@ -239,6 +243,29 @@ public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceStat\n                         .zoom(ZOOM_LEVEL)\n                         .build();\n                 mapBoxMap.setCameraPosition(cameraPosition);\n+                scaleBarPlugin = new ScaleBarPlugin(mapView, mapBoxMap);\n+\n+                int color = isDarkTheme?R.color.bottom_bar_light:R.color.bottom_bar_dark;\n+\n+                final float SIZE = new TextView(getContext()).getTextSize()-1;     //Default text size for scalebar params\n+                final float SCALEBAR_HEIGHT = (float) (SIZE/3.5);                  //these values are chosen to keep scalebar size comparable to other text depending upon the screen size and device resolution\n+                final float SCALEBAR_BORDER_WIDTH = SIZE/10;\n+                final float SCALEBAR_MARGIN = SIZE/2;\n+                final int REFRESH_INTERVAL = 15;                                  //minimum refresh time in millisec\n+\n+                scaleBarOptions = new ScaleBarOptions(getContext())\n+                    .setTextColor(color)\n+                    .setTextSize(SIZE)\n+                    .setBarHeight(SCALEBAR_HEIGHT)\n+                    .setBorderWidth(SCALEBAR_BORDER_WIDTH)\n+                    .setMetricUnit(true)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "163401ffc4e5f9974cb51162b465c1966c6d8f13"}, "originalPosition": 37}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQzNDc1ODE3OnYy", "diffSide": "RIGHT", "path": "app/src/main/java/fr/free/nrw/commons/nearby/fragments/NearbyParentFragment.java", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQwNjowNjozN1rOF2mcTw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQwOToxNDowMlrOF2rJfw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mjc5NzI2Mw==", "bodyText": "Is there an issue with removing this call altogether? I mean this:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                .setBorderWidth(SCALEBAR_BORDER_WIDTH)\n          \n          \n            \n                                .setRefreshInterval(15)            //Refresh time for scalebar in millisec\n          \n          \n            \n                                .setMarginTop(SCALEBAR_MARGIN)\n          \n          \n            \n                                .setBorderWidth(SCALEBAR_BORDER_WIDTH)\n          \n          \n            \n                                .setMarginTop(SCALEBAR_MARGIN)", "url": "https://github.com/commons-app/apps-android-commons/pull/3511#discussion_r392797263", "createdAt": "2020-03-16T06:06:37Z", "author": {"login": "sivaraam"}, "path": "app/src/main/java/fr/free/nrw/commons/nearby/fragments/NearbyParentFragment.java", "diffHunk": "@@ -239,6 +243,27 @@ public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceStat\n                         .zoom(ZOOM_LEVEL)\n                         .build();\n                 mapBoxMap.setCameraPosition(cameraPosition);\n+                scaleBarPlugin = new ScaleBarPlugin(mapView, mapBoxMap);\n+\n+                int color = isDarkTheme?R.color.bottom_bar_light:R.color.bottom_bar_dark;\n+\n+                final float SIZE = new TextView(getContext()).getTextSize()-1;     //Default text size for scalebar params\n+                final float SCALEBAR_HEIGHT = (float) (SIZE/3.5);                  //these values are chosen to keep scalebar size comparable to other text depending upon the screen size and device resolution\n+                final float SCALEBAR_BORDER_WIDTH = SIZE/10;\n+                final float SCALEBAR_MARGIN = SIZE/2;\n+\n+                scaleBarOptions = new ScaleBarOptions(getContext())\n+                    .setTextColor(color)\n+                    .setTextSize(SIZE)\n+                    .setBarHeight(SCALEBAR_HEIGHT)\n+                    .setBorderWidth(SCALEBAR_BORDER_WIDTH)\n+                    .setRefreshInterval(15)            //Refresh time for scalebar in millisec\n+                    .setMarginTop(SCALEBAR_MARGIN)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "64f55c0bcf1a031a39942ed65d279ce6980d7d52"}, "originalPosition": 37}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjgwNDExNw==", "bodyText": "No, i can remove and it will assume default values. Even margin width and height can be set to default but that looked quite small in bigger screen devices so i thought of setting values.\nHere is image of how it looks Let me know if you want all values to be set to default.", "url": "https://github.com/commons-app/apps-android-commons/pull/3511#discussion_r392804117", "createdAt": "2020-03-16T06:33:33Z", "author": {"login": "318anushka"}, "path": "app/src/main/java/fr/free/nrw/commons/nearby/fragments/NearbyParentFragment.java", "diffHunk": "@@ -239,6 +243,27 @@ public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceStat\n                         .zoom(ZOOM_LEVEL)\n                         .build();\n                 mapBoxMap.setCameraPosition(cameraPosition);\n+                scaleBarPlugin = new ScaleBarPlugin(mapView, mapBoxMap);\n+\n+                int color = isDarkTheme?R.color.bottom_bar_light:R.color.bottom_bar_dark;\n+\n+                final float SIZE = new TextView(getContext()).getTextSize()-1;     //Default text size for scalebar params\n+                final float SCALEBAR_HEIGHT = (float) (SIZE/3.5);                  //these values are chosen to keep scalebar size comparable to other text depending upon the screen size and device resolution\n+                final float SCALEBAR_BORDER_WIDTH = SIZE/10;\n+                final float SCALEBAR_MARGIN = SIZE/2;\n+\n+                scaleBarOptions = new ScaleBarOptions(getContext())\n+                    .setTextColor(color)\n+                    .setTextSize(SIZE)\n+                    .setBarHeight(SCALEBAR_HEIGHT)\n+                    .setBorderWidth(SCALEBAR_BORDER_WIDTH)\n+                    .setRefreshInterval(15)            //Refresh time for scalebar in millisec\n+                    .setMarginTop(SCALEBAR_MARGIN)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mjc5NzI2Mw=="}, "originalCommit": {"oid": "64f55c0bcf1a031a39942ed65d279ce6980d7d52"}, "originalPosition": 37}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mjg2MTk3Ng==", "bodyText": "@318anushka what sivraam is talking abut here is only the line .setRefreshInterval(15)\nIf the default value for that line is actually the same then there is no point us setting it.\n\nEven margin width and height can be set to default but that looked quite small in bigger screen devices so i thought of setting values.\n\nThis was a good instinct these defaults needed to change for our application so keep these changes. Or at least I don't like the look of that default bar", "url": "https://github.com/commons-app/apps-android-commons/pull/3511#discussion_r392861976", "createdAt": "2020-03-16T08:49:45Z", "author": {"login": "macgills"}, "path": "app/src/main/java/fr/free/nrw/commons/nearby/fragments/NearbyParentFragment.java", "diffHunk": "@@ -239,6 +243,27 @@ public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceStat\n                         .zoom(ZOOM_LEVEL)\n                         .build();\n                 mapBoxMap.setCameraPosition(cameraPosition);\n+                scaleBarPlugin = new ScaleBarPlugin(mapView, mapBoxMap);\n+\n+                int color = isDarkTheme?R.color.bottom_bar_light:R.color.bottom_bar_dark;\n+\n+                final float SIZE = new TextView(getContext()).getTextSize()-1;     //Default text size for scalebar params\n+                final float SCALEBAR_HEIGHT = (float) (SIZE/3.5);                  //these values are chosen to keep scalebar size comparable to other text depending upon the screen size and device resolution\n+                final float SCALEBAR_BORDER_WIDTH = SIZE/10;\n+                final float SCALEBAR_MARGIN = SIZE/2;\n+\n+                scaleBarOptions = new ScaleBarOptions(getContext())\n+                    .setTextColor(color)\n+                    .setTextSize(SIZE)\n+                    .setBarHeight(SCALEBAR_HEIGHT)\n+                    .setBorderWidth(SCALEBAR_BORDER_WIDTH)\n+                    .setRefreshInterval(15)            //Refresh time for scalebar in millisec\n+                    .setMarginTop(SCALEBAR_MARGIN)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mjc5NzI2Mw=="}, "originalCommit": {"oid": "64f55c0bcf1a031a39942ed65d279ce6980d7d52"}, "originalPosition": 37}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mjg3NDM2Nw==", "bodyText": "@318anushka what sivraam is talking abut here is only the line .setRefreshInterval(15)\nIf the default value for that line is actually the same then there is no point us setting it.\n\nyes i get it , just to let you know how all default settings look like. I'll make necessary changes \ud83d\udc4d", "url": "https://github.com/commons-app/apps-android-commons/pull/3511#discussion_r392874367", "createdAt": "2020-03-16T09:14:02Z", "author": {"login": "318anushka"}, "path": "app/src/main/java/fr/free/nrw/commons/nearby/fragments/NearbyParentFragment.java", "diffHunk": "@@ -239,6 +243,27 @@ public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceStat\n                         .zoom(ZOOM_LEVEL)\n                         .build();\n                 mapBoxMap.setCameraPosition(cameraPosition);\n+                scaleBarPlugin = new ScaleBarPlugin(mapView, mapBoxMap);\n+\n+                int color = isDarkTheme?R.color.bottom_bar_light:R.color.bottom_bar_dark;\n+\n+                final float SIZE = new TextView(getContext()).getTextSize()-1;     //Default text size for scalebar params\n+                final float SCALEBAR_HEIGHT = (float) (SIZE/3.5);                  //these values are chosen to keep scalebar size comparable to other text depending upon the screen size and device resolution\n+                final float SCALEBAR_BORDER_WIDTH = SIZE/10;\n+                final float SCALEBAR_MARGIN = SIZE/2;\n+\n+                scaleBarOptions = new ScaleBarOptions(getContext())\n+                    .setTextColor(color)\n+                    .setTextSize(SIZE)\n+                    .setBarHeight(SCALEBAR_HEIGHT)\n+                    .setBorderWidth(SCALEBAR_BORDER_WIDTH)\n+                    .setRefreshInterval(15)            //Refresh time for scalebar in millisec\n+                    .setMarginTop(SCALEBAR_MARGIN)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mjc5NzI2Mw=="}, "originalCommit": {"oid": "64f55c0bcf1a031a39942ed65d279ce6980d7d52"}, "originalPosition": 37}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQzNTE2MDIyOnYy", "diffSide": "RIGHT", "path": "app/src/main/java/fr/free/nrw/commons/nearby/fragments/NearbyParentFragment.java", "isResolved": true, "comments": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQwODo0NTo1NFrOF2qRbw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQxMjoxODoyMlrOF2xUgw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mjg2MDAxNQ==", "bodyText": "This spacing is not in style for the project, try pressing ctrl+alt+l in this file, or consider setting up a macro like mentioned in the docs", "url": "https://github.com/commons-app/apps-android-commons/pull/3511#discussion_r392860015", "createdAt": "2020-03-16T08:45:54Z", "author": {"login": "macgills"}, "path": "app/src/main/java/fr/free/nrw/commons/nearby/fragments/NearbyParentFragment.java", "diffHunk": "@@ -239,6 +243,27 @@ public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceStat\n                         .zoom(ZOOM_LEVEL)\n                         .build();\n                 mapBoxMap.setCameraPosition(cameraPosition);\n+                scaleBarPlugin = new ScaleBarPlugin(mapView, mapBoxMap);\n+\n+                int color = isDarkTheme?R.color.bottom_bar_light:R.color.bottom_bar_dark;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "64f55c0bcf1a031a39942ed65d279ce6980d7d52"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mjk1MDQ1Nw==", "bodyText": "@318anushka this is not updated", "url": "https://github.com/commons-app/apps-android-commons/pull/3511#discussion_r392950457", "createdAt": "2020-03-16T11:28:26Z", "author": {"login": "macgills"}, "path": "app/src/main/java/fr/free/nrw/commons/nearby/fragments/NearbyParentFragment.java", "diffHunk": "@@ -239,6 +243,27 @@ public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceStat\n                         .zoom(ZOOM_LEVEL)\n                         .build();\n                 mapBoxMap.setCameraPosition(cameraPosition);\n+                scaleBarPlugin = new ScaleBarPlugin(mapView, mapBoxMap);\n+\n+                int color = isDarkTheme?R.color.bottom_bar_light:R.color.bottom_bar_dark;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mjg2MDAxNQ=="}, "originalCommit": {"oid": "64f55c0bcf1a031a39942ed65d279ce6980d7d52"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mjk1NTM1NA==", "bodyText": "@macgills  this formats the entire class.", "url": "https://github.com/commons-app/apps-android-commons/pull/3511#discussion_r392955354", "createdAt": "2020-03-16T11:37:54Z", "author": {"login": "318anushka"}, "path": "app/src/main/java/fr/free/nrw/commons/nearby/fragments/NearbyParentFragment.java", "diffHunk": "@@ -239,6 +243,27 @@ public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceStat\n                         .zoom(ZOOM_LEVEL)\n                         .build();\n                 mapBoxMap.setCameraPosition(cameraPosition);\n+                scaleBarPlugin = new ScaleBarPlugin(mapView, mapBoxMap);\n+\n+                int color = isDarkTheme?R.color.bottom_bar_light:R.color.bottom_bar_dark;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mjg2MDAxNQ=="}, "originalCommit": {"oid": "64f55c0bcf1a031a39942ed65d279ce6980d7d52"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mjk1NjczNg==", "bodyText": "I am okay with the entire class being formatted but I would defer to @misaochan here.\nYou other option is selecting the lines you have changed and then formatting", "url": "https://github.com/commons-app/apps-android-commons/pull/3511#discussion_r392956736", "createdAt": "2020-03-16T11:40:37Z", "author": {"login": "macgills"}, "path": "app/src/main/java/fr/free/nrw/commons/nearby/fragments/NearbyParentFragment.java", "diffHunk": "@@ -239,6 +243,27 @@ public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceStat\n                         .zoom(ZOOM_LEVEL)\n                         .build();\n                 mapBoxMap.setCameraPosition(cameraPosition);\n+                scaleBarPlugin = new ScaleBarPlugin(mapView, mapBoxMap);\n+\n+                int color = isDarkTheme?R.color.bottom_bar_light:R.color.bottom_bar_dark;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mjg2MDAxNQ=="}, "originalCommit": {"oid": "64f55c0bcf1a031a39942ed65d279ce6980d7d52"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mjk2MDUxNg==", "bodyText": "There isn't much difference but here it is", "url": "https://github.com/commons-app/apps-android-commons/pull/3511#discussion_r392960516", "createdAt": "2020-03-16T11:48:09Z", "author": {"login": "318anushka"}, "path": "app/src/main/java/fr/free/nrw/commons/nearby/fragments/NearbyParentFragment.java", "diffHunk": "@@ -239,6 +243,27 @@ public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceStat\n                         .zoom(ZOOM_LEVEL)\n                         .build();\n                 mapBoxMap.setCameraPosition(cameraPosition);\n+                scaleBarPlugin = new ScaleBarPlugin(mapView, mapBoxMap);\n+\n+                int color = isDarkTheme?R.color.bottom_bar_light:R.color.bottom_bar_dark;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mjg2MDAxNQ=="}, "originalCommit": {"oid": "64f55c0bcf1a031a39942ed65d279ce6980d7d52"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mjk2MTkzMQ==", "bodyText": "Changing those lines specifically is good. Please don't format the entire class in this PR. :) You can submit a separate PR for the class's reformatting.", "url": "https://github.com/commons-app/apps-android-commons/pull/3511#discussion_r392961931", "createdAt": "2020-03-16T11:50:54Z", "author": {"login": "misaochan"}, "path": "app/src/main/java/fr/free/nrw/commons/nearby/fragments/NearbyParentFragment.java", "diffHunk": "@@ -239,6 +243,27 @@ public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceStat\n                         .zoom(ZOOM_LEVEL)\n                         .build();\n                 mapBoxMap.setCameraPosition(cameraPosition);\n+                scaleBarPlugin = new ScaleBarPlugin(mapView, mapBoxMap);\n+\n+                int color = isDarkTheme?R.color.bottom_bar_light:R.color.bottom_bar_dark;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mjg2MDAxNQ=="}, "originalCommit": {"oid": "64f55c0bcf1a031a39942ed65d279ce6980d7d52"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mjk2NDIxNA==", "bodyText": "Okay!!\nSo @macgills should i push final changes? It's the image right above after reformatting my lines.", "url": "https://github.com/commons-app/apps-android-commons/pull/3511#discussion_r392964214", "createdAt": "2020-03-16T11:55:32Z", "author": {"login": "318anushka"}, "path": "app/src/main/java/fr/free/nrw/commons/nearby/fragments/NearbyParentFragment.java", "diffHunk": "@@ -239,6 +243,27 @@ public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceStat\n                         .zoom(ZOOM_LEVEL)\n                         .build();\n                 mapBoxMap.setCameraPosition(cameraPosition);\n+                scaleBarPlugin = new ScaleBarPlugin(mapView, mapBoxMap);\n+\n+                int color = isDarkTheme?R.color.bottom_bar_light:R.color.bottom_bar_dark;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mjg2MDAxNQ=="}, "originalCommit": {"oid": "64f55c0bcf1a031a39942ed65d279ce6980d7d52"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mjk2NzI1Mw==", "bodyText": "move the comments so they are above the variables they are documenting to stop the breaks looking so weird & hard to read and then push away.", "url": "https://github.com/commons-app/apps-android-commons/pull/3511#discussion_r392967253", "createdAt": "2020-03-16T12:01:48Z", "author": {"login": "macgills"}, "path": "app/src/main/java/fr/free/nrw/commons/nearby/fragments/NearbyParentFragment.java", "diffHunk": "@@ -239,6 +243,27 @@ public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceStat\n                         .zoom(ZOOM_LEVEL)\n                         .build();\n                 mapBoxMap.setCameraPosition(cameraPosition);\n+                scaleBarPlugin = new ScaleBarPlugin(mapView, mapBoxMap);\n+\n+                int color = isDarkTheme?R.color.bottom_bar_light:R.color.bottom_bar_dark;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mjg2MDAxNQ=="}, "originalCommit": {"oid": "64f55c0bcf1a031a39942ed65d279ce6980d7d52"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mjk3NTQ5MQ==", "bodyText": "Done. Please check \ud83d\ude0a", "url": "https://github.com/commons-app/apps-android-commons/pull/3511#discussion_r392975491", "createdAt": "2020-03-16T12:18:22Z", "author": {"login": "318anushka"}, "path": "app/src/main/java/fr/free/nrw/commons/nearby/fragments/NearbyParentFragment.java", "diffHunk": "@@ -239,6 +243,27 @@ public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceStat\n                         .zoom(ZOOM_LEVEL)\n                         .build();\n                 mapBoxMap.setCameraPosition(cameraPosition);\n+                scaleBarPlugin = new ScaleBarPlugin(mapView, mapBoxMap);\n+\n+                int color = isDarkTheme?R.color.bottom_bar_light:R.color.bottom_bar_dark;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mjg2MDAxNQ=="}, "originalCommit": {"oid": "64f55c0bcf1a031a39942ed65d279ce6980d7d52"}, "originalPosition": 24}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQzNTI5ODg0OnYy", "diffSide": "RIGHT", "path": "app/src/main/java/fr/free/nrw/commons/nearby/fragments/NearbyParentFragment.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQwOToyNzo0MFrOF2rmvg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQxMDowNjoxNFrOF2s7GQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mjg4MTg1NA==", "bodyText": "these don't need to be fields I think, local variables should be fine", "url": "https://github.com/commons-app/apps-android-commons/pull/3511#discussion_r392881854", "createdAt": "2020-03-16T09:27:40Z", "author": {"login": "macgills"}, "path": "app/src/main/java/fr/free/nrw/commons/nearby/fragments/NearbyParentFragment.java", "diffHunk": "@@ -196,6 +198,8 @@\n     private boolean isVisibleToUser;\n     private MapboxMap.OnCameraMoveListener cameraMoveListener;\n     private fr.free.nrw.commons.location.LatLng lastFocusLocation;\n+    private ScaleBarPlugin scaleBarPlugin;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "64f55c0bcf1a031a39942ed65d279ce6980d7d52"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mjg5OTA4NQ==", "bodyText": "Done \ud83d\udc4d\n@macgills anything else? or i should push changes", "url": "https://github.com/commons-app/apps-android-commons/pull/3511#discussion_r392899085", "createdAt": "2020-03-16T09:58:03Z", "author": {"login": "318anushka"}, "path": "app/src/main/java/fr/free/nrw/commons/nearby/fragments/NearbyParentFragment.java", "diffHunk": "@@ -196,6 +198,8 @@\n     private boolean isVisibleToUser;\n     private MapboxMap.OnCameraMoveListener cameraMoveListener;\n     private fr.free.nrw.commons.location.LatLng lastFocusLocation;\n+    private ScaleBarPlugin scaleBarPlugin;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mjg4MTg1NA=="}, "originalCommit": {"oid": "64f55c0bcf1a031a39942ed65d279ce6980d7d52"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjkwMzQ0OQ==", "bodyText": "I think that is it from me, push away. Good work", "url": "https://github.com/commons-app/apps-android-commons/pull/3511#discussion_r392903449", "createdAt": "2020-03-16T10:06:14Z", "author": {"login": "macgills"}, "path": "app/src/main/java/fr/free/nrw/commons/nearby/fragments/NearbyParentFragment.java", "diffHunk": "@@ -196,6 +198,8 @@\n     private boolean isVisibleToUser;\n     private MapboxMap.OnCameraMoveListener cameraMoveListener;\n     private fr.free.nrw.commons.location.LatLng lastFocusLocation;\n+    private ScaleBarPlugin scaleBarPlugin;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mjg4MTg1NA=="}, "originalCommit": {"oid": "64f55c0bcf1a031a39942ed65d279ce6980d7d52"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQzNTkwODE3OnYy", "diffSide": "RIGHT", "path": "app/src/main/java/fr/free/nrw/commons/nearby/fragments/NearbyParentFragment.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQxMjoyMzo0NVrOF2xhew==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQxMzoyODowMVrOF20IFg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mjk3ODgxMQ==", "bodyText": "I kind of glanced over this because I thought I already saw review comments but I would caution against this.\nResolve a dimen value that is appropriate here, you can use context.getResources().getDimensionPixelSize(R.dimen.some_dimen) and that will give you different sizes depending on the density of the screen. All of these should be like that and the math should be avoided. Constructing a textview to find out the default value of text size is putting the donkey before the cart, a little bit", "url": "https://github.com/commons-app/apps-android-commons/pull/3511#discussion_r392978811", "createdAt": "2020-03-16T12:23:45Z", "author": {"login": "macgills"}, "path": "app/src/main/java/fr/free/nrw/commons/nearby/fragments/NearbyParentFragment.java", "diffHunk": "@@ -239,8 +241,25 @@ public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceStat\n                         .zoom(ZOOM_LEVEL)\n                         .build();\n                 mapBoxMap.setCameraPosition(cameraPosition);\n-            });\n \n+                ScaleBarPlugin scaleBarPlugin = new ScaleBarPlugin(mapView, mapBoxMap);\n+                int color = isDarkTheme ? R.color.bottom_bar_light : R.color.bottom_bar_dark;\n+                //Default text size for scalebar params\n+                final float SIZE = new TextView(getContext()).getTextSize() - 1;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0dca05065c64f12897be7ba94aa5a88954062271"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzAyMTQ2Mg==", "bodyText": "Sure!! I understand, will do that.", "url": "https://github.com/commons-app/apps-android-commons/pull/3511#discussion_r393021462", "createdAt": "2020-03-16T13:28:01Z", "author": {"login": "318anushka"}, "path": "app/src/main/java/fr/free/nrw/commons/nearby/fragments/NearbyParentFragment.java", "diffHunk": "@@ -239,8 +241,25 @@ public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceStat\n                         .zoom(ZOOM_LEVEL)\n                         .build();\n                 mapBoxMap.setCameraPosition(cameraPosition);\n-            });\n \n+                ScaleBarPlugin scaleBarPlugin = new ScaleBarPlugin(mapView, mapBoxMap);\n+                int color = isDarkTheme ? R.color.bottom_bar_light : R.color.bottom_bar_dark;\n+                //Default text size for scalebar params\n+                final float SIZE = new TextView(getContext()).getTextSize() - 1;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mjk3ODgxMQ=="}, "originalCommit": {"oid": "0dca05065c64f12897be7ba94aa5a88954062271"}, "originalPosition": 18}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4192, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}