{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDEzNTY1ODE0", "number": 1188, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQyMDozOToyNVrOD5_Kog==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQyMDo0Mzo1M1rOD5_Qfw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYyMTMwMzM4OnYy", "diffSide": "RIGHT", "path": "cruise-control/src/main/java/com/linkedin/kafka/cruisecontrol/servlet/UserTaskManager.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQyMDozOToyNVrOGRkiXg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQwOTo1NjoyNFrOGTVP-A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTA3NzU5OA==", "bodyText": "So checkstyle failed, but the line it is complaining about doesn't exit? How do I run the checkstyle task locally?\n\n@tomncooper This is due to a missing space before { in this line:\n> Task :cruise-control:checkstyleMain\n[ant:checkstyle] [ERROR] /home/circleci/workspace/cruise-control/src/main/java/com/linkedin/kafka/cruisecontrol/servlet/UserTaskManager.java:769:56: '{' is not preceded with whitespace. [WhitespaceAround]", "url": "https://github.com/linkedin/cruise-control/pull/1188#discussion_r421077598", "createdAt": "2020-05-06T20:39:25Z", "author": {"login": "efeg"}, "path": "cruise-control/src/main/java/com/linkedin/kafka/cruisecontrol/servlet/UserTaskManager.java", "diffHunk": "@@ -763,9 +763,16 @@ private void logOperation() {\n       // Populate original response of completed task if requested so.\n       if (fetchCompletedTask) {\n         try {\n+          // TODO: For CompletedWithError tasks the cached response should contain the original server side error information\n           jsonObjectMap.put(ORIGINAL_RESPONSE, lastFuture().get().cachedResponse());\n         } catch (InterruptedException | ExecutionException e) {\n-          throw new IllegalStateException(\"Error happened in fetching response for task \" + _userTaskId.toString(), e);\n+          if (_state == TaskState.COMPLETED_WITH_ERROR){", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4122d4106c610c1bb413033762174bd8558eff43"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjkyNDI4MA==", "bodyText": "Great, thanks.", "url": "https://github.com/linkedin/cruise-control/pull/1188#discussion_r422924280", "createdAt": "2020-05-11T09:56:24Z", "author": {"login": "tomncooper"}, "path": "cruise-control/src/main/java/com/linkedin/kafka/cruisecontrol/servlet/UserTaskManager.java", "diffHunk": "@@ -763,9 +763,16 @@ private void logOperation() {\n       // Populate original response of completed task if requested so.\n       if (fetchCompletedTask) {\n         try {\n+          // TODO: For CompletedWithError tasks the cached response should contain the original server side error information\n           jsonObjectMap.put(ORIGINAL_RESPONSE, lastFuture().get().cachedResponse());\n         } catch (InterruptedException | ExecutionException e) {\n-          throw new IllegalStateException(\"Error happened in fetching response for task \" + _userTaskId.toString(), e);\n+          if (_state == TaskState.COMPLETED_WITH_ERROR){", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTA3NzU5OA=="}, "originalCommit": {"oid": "4122d4106c610c1bb413033762174bd8558eff43"}, "originalPosition": 8}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYyMTMxODM5OnYy", "diffSide": "RIGHT", "path": "docs/wiki/User Guide/REST-APIs.md", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQyMDo0Mzo1M1rOGRkrdA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQwOTo1OToxNlrOGTVWWQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTA3OTkyNA==", "bodyText": "Nit: Double quotes (i.e. \") seems redundant since CompletedWithError  is already inside backticks.", "url": "https://github.com/linkedin/cruise-control/pull/1188#discussion_r421079924", "createdAt": "2020-05-06T20:43:53Z", "author": {"login": "efeg"}, "path": "docs/wiki/User Guide/REST-APIs.md", "diffHunk": "@@ -231,7 +231,7 @@ Supported parameters are:\n \n User can use `user_task_ids`/`client_ids`/`endpoints`/`types` make Cruise Control only return requests they are interested. By default all the requests get returned.\n \n-If `fetch_completed_task` is set to `true`, the original response of each requests will be returned.\n+If `fetch_completed_task` is set to `true`, the original response of each requests will be returned. In the case where a task completed with errors the response will be `\"CompletedWithError\"`.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4122d4106c610c1bb413033762174bd8558eff43"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjkyNTkxMw==", "bodyText": "Good point.", "url": "https://github.com/linkedin/cruise-control/pull/1188#discussion_r422925913", "createdAt": "2020-05-11T09:59:16Z", "author": {"login": "tomncooper"}, "path": "docs/wiki/User Guide/REST-APIs.md", "diffHunk": "@@ -231,7 +231,7 @@ Supported parameters are:\n \n User can use `user_task_ids`/`client_ids`/`endpoints`/`types` make Cruise Control only return requests they are interested. By default all the requests get returned.\n \n-If `fetch_completed_task` is set to `true`, the original response of each requests will be returned.\n+If `fetch_completed_task` is set to `true`, the original response of each requests will be returned. In the case where a task completed with errors the response will be `\"CompletedWithError\"`.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTA3OTkyNA=="}, "originalCommit": {"oid": "4122d4106c610c1bb413033762174bd8558eff43"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 830, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}