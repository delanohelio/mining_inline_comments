{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI2MzE0NTkz", "number": 1223, "title": "Ensure that requests to update replication factor cannot cause a deadlock.", "bodyText": "Addresses the issue #1221.", "createdAt": "2020-06-02T02:38:56Z", "url": "https://github.com/linkedin/cruise-control/pull/1223", "merged": true, "mergeCommit": {"oid": "9ceac59f366b04a63e7493863b158148eef8b52f"}, "closed": true, "closedAt": "2020-06-02T15:59:08Z", "author": {"login": "efeg"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcnLkGfgH2gAyNDI2MzE0NTkzOmE4ZjQ1ZGUxNWQ4ZTk1ZjRlZTdhZmI1ZmVmNmU3NTQ0NzlmZjkwMzk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcnOD_5AFqTQyMjM1MzMwNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "a8f45de15d8e95f4ee7afb5fef6e754479ff9039", "author": {"user": null}, "url": "https://github.com/linkedin/cruise-control/commit/a8f45de15d8e95f4ee7afb5fef6e754479ff9039", "committedDate": "2020-06-02T02:37:31Z", "message": "Ensure that requests to update replication factor cannot cause a deadlock."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIyMzUwMTA3", "url": "https://github.com/linkedin/cruise-control/pull/1223#pullrequestreview-422350107", "createdAt": "2020-06-02T05:23:22Z", "commit": {"oid": "a8f45de15d8e95f4ee7afb5fef6e754479ff9039"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMlQwNToyMzoyMlrOGdieag==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMlQwNToyMzoyMlrOGdieag==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzYyNjczMA==", "bodyText": "I'm not sure Set.toString() will always convert all the topics toString, it's behavior is not stable between different versions of Java.", "url": "https://github.com/linkedin/cruise-control/pull/1223#discussion_r433626730", "createdAt": "2020-06-02T05:23:22Z", "author": {"login": "smccauliff"}, "path": "cruise-control/src/main/java/com/linkedin/kafka/cruisecontrol/servlet/handler/async/runnable/RunnableUtils.java", "diffHunk": "@@ -93,7 +93,11 @@ public static void populateRackInfoForReplicationFactorChange(Map<Short, Set<Str\n     }\n \n     topicsByReplicationFactor.forEach((replicationFactor, topics) -> {\n-      if (replicationFactor > brokersByRack.size()) {\n+      if (replicationFactor > rackByBroker.size()) {\n+        throw new RuntimeException(String.format(\"Unable to change replication factor (RF) of topics %s to %d since there are only %d \"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a8f45de15d8e95f4ee7afb5fef6e754479ff9039"}, "originalPosition": 17}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIyMzUzMzA2", "url": "https://github.com/linkedin/cruise-control/pull/1223#pullrequestreview-422353306", "createdAt": "2020-06-02T05:32:10Z", "commit": {"oid": "a8f45de15d8e95f4ee7afb5fef6e754479ff9039"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 243, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}