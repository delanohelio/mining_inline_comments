{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI0NzcyMjg3", "number": 1217, "title": "Compile using java 11", "bodyText": "use java-11 to compile:\n\nmigrated from findbugs to spotbugs (findbugs won't work with java 11). This required separation of spotBugs gradle task in a separate run in CircleCI to avoid out of memory issues\nfixed checkstyle config files discovery\nfixed on prio 1 bug VO_VOLATILE_INCREMENT reported in AnomalyDetector.java\nupgraded org.eclipse.jetty.security and fixed tests to provide a non-null Credential", "createdAt": "2020-05-28T22:37:16Z", "url": "https://github.com/linkedin/cruise-control/pull/1217", "merged": true, "mergeCommit": {"oid": "f2cd027c5357402c2dc57278291400d86ac3a41f"}, "closed": true, "closedAt": "2020-06-03T16:24:49Z", "author": {"login": "amuraru"}, "timelineItems": {"totalCount": 22, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcl12tEABqjMzODQ5MzczNzY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcnr9a4AFqTQyMzcyNDQyNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5550310d4a4b16066955c32247c5bf618e02412e", "author": {"user": {"login": "amuraru", "name": "Adrian Muraru"}}, "url": "https://github.com/linkedin/cruise-control/commit/5550310d4a4b16066955c32247c5bf618e02412e", "committedDate": "2020-05-28T22:34:46Z", "message": "Compile using java 11"}, "afterCommit": {"oid": "04f273446ff2bc42e910258725d8941329b6a387", "author": {"user": {"login": "amuraru", "name": "Adrian Muraru"}}, "url": "https://github.com/linkedin/cruise-control/commit/04f273446ff2bc42e910258725d8941329b6a387", "committedDate": "2020-05-28T22:45:51Z", "message": "Compile using java 11"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "04f273446ff2bc42e910258725d8941329b6a387", "author": {"user": {"login": "amuraru", "name": "Adrian Muraru"}}, "url": "https://github.com/linkedin/cruise-control/commit/04f273446ff2bc42e910258725d8941329b6a387", "committedDate": "2020-05-28T22:45:51Z", "message": "Compile using java 11"}, "afterCommit": {"oid": "a730644dbafeeb2786302adb81f990f5ae28fc42", "author": {"user": {"login": "amuraru", "name": "Adrian Muraru"}}, "url": "https://github.com/linkedin/cruise-control/commit/a730644dbafeeb2786302adb81f990f5ae28fc42", "committedDate": "2020-05-28T22:48:29Z", "message": "Compile using java 11"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "429ddfd82859f4346fc8682332589cc29ee4ddae", "author": {"user": {"login": "amuraru", "name": "Adrian Muraru"}}, "url": "https://github.com/linkedin/cruise-control/commit/429ddfd82859f4346fc8682332589cc29ee4ddae", "committedDate": "2020-05-29T07:46:23Z", "message": "more fixes"}, "afterCommit": {"oid": "2a461019327d2621ebb7b628c2a58b468f1b6570", "author": {"user": {"login": "amuraru", "name": "Adrian Muraru"}}, "url": "https://github.com/linkedin/cruise-control/commit/2a461019327d2621ebb7b628c2a58b468f1b6570", "committedDate": "2020-05-29T07:51:35Z", "message": "Compile using java 11"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "946d695e9e6d2ffd9d20aae20bc7a3749d4f6e5f", "author": {"user": {"login": "amuraru", "name": "Adrian Muraru"}}, "url": "https://github.com/linkedin/cruise-control/commit/946d695e9e6d2ffd9d20aae20bc7a3749d4f6e5f", "committedDate": "2020-05-29T07:55:46Z", "message": "build.gradle"}, "afterCommit": {"oid": "ea2edfc0ed675315477e23748b9a1d44c962061b", "author": {"user": {"login": "amuraru", "name": "Adrian Muraru"}}, "url": "https://github.com/linkedin/cruise-control/commit/ea2edfc0ed675315477e23748b9a1d44c962061b", "committedDate": "2020-05-29T07:59:30Z", "message": "build.gradle"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8766a0884dd2214592ab74df800dee561677c4a9", "author": {"user": {"login": "amuraru", "name": "Adrian Muraru"}}, "url": "https://github.com/linkedin/cruise-control/commit/8766a0884dd2214592ab74df800dee561677c4a9", "committedDate": "2020-05-29T08:12:28Z", "message": "workers"}, "afterCommit": {"oid": "25b22d01a95570f1f7eb5ec5d467ae772c0de313", "author": {"user": {"login": "amuraru", "name": "Adrian Muraru"}}, "url": "https://github.com/linkedin/cruise-control/commit/25b22d01a95570f1f7eb5ec5d467ae772c0de313", "committedDate": "2020-05-29T10:31:04Z", "message": "Compile using java 11"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "fd29ca84a27c859ea0fcda663adade631f02dc97", "author": {"user": {"login": "amuraru", "name": "Adrian Muraru"}}, "url": "https://github.com/linkedin/cruise-control/commit/fd29ca84a27c859ea0fcda663adade631f02dc97", "committedDate": "2020-05-29T10:43:59Z", "message": "try large circleci"}, "afterCommit": {"oid": "8afeaec95edadae83860ffe1fd8fa7d0bf7a067d", "author": {"user": {"login": "amuraru", "name": "Adrian Muraru"}}, "url": "https://github.com/linkedin/cruise-control/commit/8afeaec95edadae83860ffe1fd8fa7d0bf7a067d", "committedDate": "2020-05-29T10:45:44Z", "message": "aaa"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8afeaec95edadae83860ffe1fd8fa7d0bf7a067d", "author": {"user": {"login": "amuraru", "name": "Adrian Muraru"}}, "url": "https://github.com/linkedin/cruise-control/commit/8afeaec95edadae83860ffe1fd8fa7d0bf7a067d", "committedDate": "2020-05-29T10:45:44Z", "message": "aaa"}, "afterCommit": {"oid": "612b139d766ba2873714080e5e60f27537a06616", "author": {"user": {"login": "amuraru", "name": "Adrian Muraru"}}, "url": "https://github.com/linkedin/cruise-control/commit/612b139d766ba2873714080e5e60f27537a06616", "committedDate": "2020-05-29T21:13:19Z", "message": "Compile using java 11"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIxMzAwMTUx", "url": "https://github.com/linkedin/cruise-control/pull/1217#pullrequestreview-421300151", "createdAt": "2020-05-29T21:32:47Z", "commit": {"oid": "612b139d766ba2873714080e5e60f27537a06616"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOVQyMTozMjo0N1rOGcsrEg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOVQyMTozNDoxMFrOGcss0A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjc0NTIzNA==", "bodyText": "I suspect that with jdk 11, we may need something like https://stackoverflow.com/a/56939344 -- i.e. rather than relying on Xms and Xmx", "url": "https://github.com/linkedin/cruise-control/pull/1217#discussion_r432745234", "createdAt": "2020-05-29T21:32:47Z", "author": {"login": "efeg"}, "path": ".circleci/config.yml", "diffHunk": "@@ -5,9 +5,10 @@ jobs:\n   build:\n     environment:\n       _JAVA_OPTIONS: \"-Xms512m -Xmx512m\"\n+      GRADLE_OPTS: \"-Dorg.gradle.daemon=false -Dorg.gradle.workers.max=1\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "612b139d766ba2873714080e5e60f27537a06616"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjc0NTY4MA==", "bodyText": "Should we extract the migration from findbugs to spotbugs on a separate PR? This would let us avoid finished with non-zero exit value 137 error from blocking us.", "url": "https://github.com/linkedin/cruise-control/pull/1217#discussion_r432745680", "createdAt": "2020-05-29T21:34:10Z", "author": {"login": "efeg"}, "path": "build.gradle", "diffHunk": "@@ -76,7 +77,7 @@ subprojects {\n \n   apply plugin: 'java'\n   apply plugin: 'checkstyle'\n-  apply plugin: 'findbugs'\n+  apply plugin: \"com.github.spotbugs\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "612b139d766ba2873714080e5e60f27537a06616"}, "originalPosition": 13}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "612b139d766ba2873714080e5e60f27537a06616", "author": {"user": {"login": "amuraru", "name": "Adrian Muraru"}}, "url": "https://github.com/linkedin/cruise-control/commit/612b139d766ba2873714080e5e60f27537a06616", "committedDate": "2020-05-29T21:13:19Z", "message": "Compile using java 11"}, "afterCommit": {"oid": "2b4ff39816ce422c08cced9d0003b9f98a131f69", "author": {"user": {"login": "amuraru", "name": "Adrian Muraru"}}, "url": "https://github.com/linkedin/cruise-control/commit/2b4ff39816ce422c08cced9d0003b9f98a131f69", "committedDate": "2020-05-29T22:33:52Z", "message": "more mem CI"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2b4ff39816ce422c08cced9d0003b9f98a131f69", "author": {"user": {"login": "amuraru", "name": "Adrian Muraru"}}, "url": "https://github.com/linkedin/cruise-control/commit/2b4ff39816ce422c08cced9d0003b9f98a131f69", "committedDate": "2020-05-29T22:33:52Z", "message": "more mem CI"}, "afterCommit": {"oid": "ada1ed5614460443416e4f1df53c4db27793f0b3", "author": {"user": {"login": "amuraru", "name": "Adrian Muraru"}}, "url": "https://github.com/linkedin/cruise-control/commit/ada1ed5614460443416e4f1df53c4db27793f0b3", "committedDate": "2020-05-30T16:31:08Z", "message": "split spotbugs gradle task in separate run"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ada1ed5614460443416e4f1df53c4db27793f0b3", "author": {"user": {"login": "amuraru", "name": "Adrian Muraru"}}, "url": "https://github.com/linkedin/cruise-control/commit/ada1ed5614460443416e4f1df53c4db27793f0b3", "committedDate": "2020-05-30T16:31:08Z", "message": "split spotbugs gradle task in separate run"}, "afterCommit": {"oid": "34fcf24bde8236dda8810453f6d2e2e82d33558a", "author": {"user": {"login": "amuraru", "name": "Adrian Muraru"}}, "url": "https://github.com/linkedin/cruise-control/commit/34fcf24bde8236dda8810453f6d2e2e82d33558a", "committedDate": "2020-05-30T16:38:04Z", "message": "split spotbugs gradle task in separate run"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ac5ecc078f82059d6ba880b7758f25336392f832", "author": {"user": {"login": "amuraru", "name": "Adrian Muraru"}}, "url": "https://github.com/linkedin/cruise-control/commit/ac5ecc078f82059d6ba880b7758f25336392f832", "committedDate": "2020-05-30T20:16:00Z", "message": "test increased parallelism in circleci"}, "afterCommit": {"oid": "b0005c61eacc20fba8145d2b2243e4da0169f53b", "author": {"user": {"login": "amuraru", "name": "Adrian Muraru"}}, "url": "https://github.com/linkedin/cruise-control/commit/b0005c61eacc20fba8145d2b2243e4da0169f53b", "committedDate": "2020-05-30T20:33:06Z", "message": "Compile using java 11"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "fd73cba0b39e18e44a3a31564eef7a93a4ec9f44", "author": {"user": {"login": "amuraru", "name": "Adrian Muraru"}}, "url": "https://github.com/linkedin/cruise-control/commit/fd73cba0b39e18e44a3a31564eef7a93a4ec9f44", "committedDate": "2020-05-30T20:37:51Z", "message": "fix"}, "afterCommit": {"oid": "233ab507a76ae9c97a4f1b7c0349a618d6e46e53", "author": {"user": {"login": "amuraru", "name": "Adrian Muraru"}}, "url": "https://github.com/linkedin/cruise-control/commit/233ab507a76ae9c97a4f1b7c0349a618d6e46e53", "committedDate": "2020-05-30T20:46:24Z", "message": "Compile using java 11"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "233ab507a76ae9c97a4f1b7c0349a618d6e46e53", "author": {"user": {"login": "amuraru", "name": "Adrian Muraru"}}, "url": "https://github.com/linkedin/cruise-control/commit/233ab507a76ae9c97a4f1b7c0349a618d6e46e53", "committedDate": "2020-05-30T20:46:24Z", "message": "Compile using java 11"}, "afterCommit": {"oid": "c2ed8110a5bec467f66d060e8b7856f86e556afa", "author": {"user": {"login": "amuraru", "name": "Adrian Muraru"}}, "url": "https://github.com/linkedin/cruise-control/commit/c2ed8110a5bec467f66d060e8b7856f86e556afa", "committedDate": "2020-05-30T20:58:44Z", "message": "Compile using java 11"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c2ed8110a5bec467f66d060e8b7856f86e556afa", "author": {"user": {"login": "amuraru", "name": "Adrian Muraru"}}, "url": "https://github.com/linkedin/cruise-control/commit/c2ed8110a5bec467f66d060e8b7856f86e556afa", "committedDate": "2020-05-30T20:58:44Z", "message": "Compile using java 11"}, "afterCommit": {"oid": "7de49bfe79c598c402bca84a779f0736a1835df7", "author": {"user": {"login": "amuraru", "name": "Adrian Muraru"}}, "url": "https://github.com/linkedin/cruise-control/commit/7de49bfe79c598c402bca84a779f0736a1835df7", "committedDate": "2020-05-30T21:03:15Z", "message": "Compile using java 11"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7de49bfe79c598c402bca84a779f0736a1835df7", "author": {"user": {"login": "amuraru", "name": "Adrian Muraru"}}, "url": "https://github.com/linkedin/cruise-control/commit/7de49bfe79c598c402bca84a779f0736a1835df7", "committedDate": "2020-05-30T21:03:15Z", "message": "Compile using java 11"}, "afterCommit": {"oid": "fdc8b178b4557d1589109ae5baa1a3d4dd1fd253", "author": {"user": {"login": "amuraru", "name": "Adrian Muraru"}}, "url": "https://github.com/linkedin/cruise-control/commit/fdc8b178b4557d1589109ae5baa1a3d4dd1fd253", "committedDate": "2020-05-30T21:09:29Z", "message": "Compile using java 11"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "fdc8b178b4557d1589109ae5baa1a3d4dd1fd253", "author": {"user": {"login": "amuraru", "name": "Adrian Muraru"}}, "url": "https://github.com/linkedin/cruise-control/commit/fdc8b178b4557d1589109ae5baa1a3d4dd1fd253", "committedDate": "2020-05-30T21:09:29Z", "message": "Compile using java 11"}, "afterCommit": {"oid": "b49d8786fdeb6678d43a54351b3b139200c13425", "author": {"user": {"login": "amuraru", "name": "Adrian Muraru"}}, "url": "https://github.com/linkedin/cruise-control/commit/b49d8786fdeb6678d43a54351b3b139200c13425", "committedDate": "2020-05-30T21:48:48Z", "message": "Compile using java 11"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f306a321453faebde5942069d186b62749964004", "author": {"user": {"login": "amuraru", "name": "Adrian Muraru"}}, "url": "https://github.com/linkedin/cruise-control/commit/f306a321453faebde5942069d186b62749964004", "committedDate": "2020-05-30T21:51:14Z", "message": "Compile using java 11"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b49d8786fdeb6678d43a54351b3b139200c13425", "author": {"user": {"login": "amuraru", "name": "Adrian Muraru"}}, "url": "https://github.com/linkedin/cruise-control/commit/b49d8786fdeb6678d43a54351b3b139200c13425", "committedDate": "2020-05-30T21:48:48Z", "message": "Compile using java 11"}, "afterCommit": {"oid": "f306a321453faebde5942069d186b62749964004", "author": {"user": {"login": "amuraru", "name": "Adrian Muraru"}}, "url": "https://github.com/linkedin/cruise-control/commit/f306a321453faebde5942069d186b62749964004", "committedDate": "2020-05-30T21:51:14Z", "message": "Compile using java 11"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIyMTk3OTI0", "url": "https://github.com/linkedin/cruise-control/pull/1217#pullrequestreview-422197924", "createdAt": "2020-06-01T21:33:24Z", "commit": {"oid": "f306a321453faebde5942069d186b62749964004"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMVQyMTozMzoyNFrOGda5Tg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMVQyMTo1MDozNVrOGdbUsw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzUwMjU0Mg==", "bodyText": "Nit: Should we keep @deprecated tag?", "url": "https://github.com/linkedin/cruise-control/pull/1217#discussion_r433502542", "createdAt": "2020-06-01T21:33:24Z", "author": {"login": "efeg"}, "path": "cruise-control/src/main/java/com/linkedin/kafka/cruisecontrol/monitor/sampling/MetricSamplerPartitionAssignor.java", "diffHunk": "@@ -17,13 +17,14 @@\n public interface MetricSamplerPartitionAssignor extends CruiseControlConfigurable {\n \n   /**\n-   * @deprecated Please use {@link #assignPartitions(Cluster)}.\n+   * Please use {@link #assignPartitions(Cluster)}.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f306a321453faebde5942069d186b62749964004"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzUwOTU1NQ==", "bodyText": "I am curious why this change is needed -- doesn't it introduce a behavior change?\n-- Also, in case the change is needed, can we move it to a publicly accessible place and let the relevant unit tests (e.g. JwtAuthenticatorTest, JwtLoginServiceTest, TrustedProxyLoginServiceTest, and SpnegoUserStoreAuthorizationServiceTest) access this -- i.e. instead of defining their own static vars in unit tests?", "url": "https://github.com/linkedin/cruise-control/pull/1217#discussion_r433509555", "createdAt": "2020-06-01T21:50:35Z", "author": {"login": "efeg"}, "path": "cruise-control/src/main/java/com/linkedin/kafka/cruisecontrol/servlet/security/trustedproxy/TrustedProxyAuthorizationService.java", "diffHunk": "@@ -20,12 +21,18 @@\n  */\n public class TrustedProxyAuthorizationService extends AbstractLifeCycle implements AuthorizationService {\n \n+  private static final Credential NO_CREDENTIAL = new Credential() {\n+    @Override\n+    public boolean check(Object credentials) {\n+      return false;\n+    }\n+  };\n   private final UserStore _adminUserStore;\n   private final Pattern _trustedProxyIpPattern;\n \n   TrustedProxyAuthorizationService(List<String> userNames, String trustedProxyIpPattern) {\n     _adminUserStore = new UserStore();\n-    userNames.forEach(u -> _adminUserStore.addUser(u, null, new String[] { DefaultRoleSecurityProvider.ADMIN }));\n+    userNames.forEach(u -> _adminUserStore.addUser(u, NO_CREDENTIAL, new String[] { DefaultRoleSecurityProvider.ADMIN }));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f306a321453faebde5942069d186b62749964004"}, "originalPosition": 24}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7e4cc476cc0242ce4c20ee0670718f3abf01374c", "author": {"user": {"login": "amuraru", "name": "Adrian Muraru"}}, "url": "https://github.com/linkedin/cruise-control/commit/7e4cc476cc0242ce4c20ee0670718f3abf01374c", "committedDate": "2020-06-03T07:58:13Z", "message": "Implemented review comments"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIzNzI0NDI3", "url": "https://github.com/linkedin/cruise-control/pull/1217#pullrequestreview-423724427", "createdAt": "2020-06-03T16:22:08Z", "commit": {"oid": "7e4cc476cc0242ce4c20ee0670718f3abf01374c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 238, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}