{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg2MzkyMzM4", "number": 1139, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMVQwMTowMToxNlrODm6Bvw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMVQwMToxNDo0NVrODm6JjA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQyMTIzMTk5OnYy", "diffSide": "RIGHT", "path": "cruise-control/src/main/java/com/linkedin/kafka/cruisecontrol/detector/notifier/SlackSelfHealingNotifier.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMVQwMTowMToxNlrOF0mDGQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMVQxNjo1MToxOFrOF0_03w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDY5MzY1Nw==", "bodyText": "Nit: Extra space after = and before String.", "url": "https://github.com/linkedin/cruise-control/pull/1139#discussion_r390693657", "createdAt": "2020-03-11T01:01:16Z", "author": {"login": "efeg"}, "path": "cruise-control/src/main/java/com/linkedin/kafka/cruisecontrol/detector/notifier/SlackSelfHealingNotifier.java", "diffHunk": "@@ -66,13 +66,13 @@ public void alert(Object anomaly, boolean autoFixTriggered, long selfHealingStar\n             return;\n         }\n \n-        String text;\n+        String text =  String.format(\"%s detected %s. Self healing %s.\", anomalyType, anomaly,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4c179415cf9d0d834fe7bab151efbc8ed4ab5313"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTExNTk5OQ==", "bodyText": "Good call, fixed.", "url": "https://github.com/linkedin/cruise-control/pull/1139#discussion_r391115999", "createdAt": "2020-03-11T16:51:18Z", "author": {"login": "matthinograb"}, "path": "cruise-control/src/main/java/com/linkedin/kafka/cruisecontrol/detector/notifier/SlackSelfHealingNotifier.java", "diffHunk": "@@ -66,13 +66,13 @@ public void alert(Object anomaly, boolean autoFixTriggered, long selfHealingStar\n             return;\n         }\n \n-        String text;\n+        String text =  String.format(\"%s detected %s. Self healing %s.\", anomalyType, anomaly,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDY5MzY1Nw=="}, "originalCommit": {"oid": "4c179415cf9d0d834fe7bab151efbc8ed4ab5313"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQyMTI1MTk2OnYy", "diffSide": "RIGHT", "path": "cruise-control/src/main/java/com/linkedin/kafka/cruisecontrol/detector/notifier/SlackSelfHealingNotifier.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMVQwMToxNDo0NVrOF0mPOw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMVQxNjo1MTowM1rOF0_0Kw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDY5Njc2Mw==", "bodyText": "Is it possible to\n\nAvoid having an extra space after new line, and\nPrefer %n rather than \\n. -- please see https://stackoverflow.com/questions/1883345/whats-up-with-javas-n-in-printf\n\nMaybe something like the following?\n        String text = String.format(\"%s detected %s. Self healing %s.%s\", anomalyType, anomaly,\n                                    _selfHealingEnabled.get(anomalyType) ? String.format(\"start time %s\", toDateString(selfHealingStartTime))\n                                                                         : \"is disabled\",\n                                    autoFixTriggered ? \"%nSelf-healing has been triggered.\" : \"\");", "url": "https://github.com/linkedin/cruise-control/pull/1139#discussion_r390696763", "createdAt": "2020-03-11T01:14:45Z", "author": {"login": "efeg"}, "path": "cruise-control/src/main/java/com/linkedin/kafka/cruisecontrol/detector/notifier/SlackSelfHealingNotifier.java", "diffHunk": "@@ -66,13 +66,13 @@ public void alert(Object anomaly, boolean autoFixTriggered, long selfHealingStar\n             return;\n         }\n \n-        String text;\n+        String text =  String.format(\"%s detected %s. Self healing %s.\", anomalyType, anomaly,\n+                _selfHealingEnabled.get(anomalyType) ? String.format(\"start time %s\", toDateString(selfHealingStartTime)) : \"is disabled\");\n+\n         if (autoFixTriggered) {\n-            text = \"Self-healing has been triggered.\";\n-        } else {\n-            text = String.format(\"%s detected %s. Self healing %s.\", anomalyType, anomaly,\n-                    _selfHealingEnabled.get(anomalyType) ? String.format(\"start time %s\", toDateString(selfHealingStartTime)) : \"is disabled\");\n+            text = text + \"\\n Self-healing has been triggered.\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4c179415cf9d0d834fe7bab151efbc8ed4ab5313"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTExNTgxOQ==", "bodyText": "Great suggestion, thanks!\nAddressed in most recent commit.", "url": "https://github.com/linkedin/cruise-control/pull/1139#discussion_r391115819", "createdAt": "2020-03-11T16:51:03Z", "author": {"login": "matthinograb"}, "path": "cruise-control/src/main/java/com/linkedin/kafka/cruisecontrol/detector/notifier/SlackSelfHealingNotifier.java", "diffHunk": "@@ -66,13 +66,13 @@ public void alert(Object anomaly, boolean autoFixTriggered, long selfHealingStar\n             return;\n         }\n \n-        String text;\n+        String text =  String.format(\"%s detected %s. Self healing %s.\", anomalyType, anomaly,\n+                _selfHealingEnabled.get(anomalyType) ? String.format(\"start time %s\", toDateString(selfHealingStartTime)) : \"is disabled\");\n+\n         if (autoFixTriggered) {\n-            text = \"Self-healing has been triggered.\";\n-        } else {\n-            text = String.format(\"%s detected %s. Self healing %s.\", anomalyType, anomaly,\n-                    _selfHealingEnabled.get(anomalyType) ? String.format(\"start time %s\", toDateString(selfHealingStartTime)) : \"is disabled\");\n+            text = text + \"\\n Self-healing has been triggered.\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDY5Njc2Mw=="}, "originalCommit": {"oid": "4c179415cf9d0d834fe7bab151efbc8ed4ab5313"}, "originalPosition": 13}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 799, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}