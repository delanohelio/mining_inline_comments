{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg4MzYxODgz", "number": 1328, "title": "Skip parsing scopes that have keys without a matching value.", "bodyText": "This PR resolves #1296.\n-- also note that assert statement is removed as (1) it is typically not enabled anyway (i.e. unless users explicitly use the -ea switch, it is disabled) and (2) this makes metrics reporter more defensive against Yammer metrics with an unexpected scope.", "createdAt": "2020-09-17T02:27:45Z", "url": "https://github.com/linkedin/cruise-control/pull/1328", "merged": true, "mergeCommit": {"oid": "e892af5de455b2bfa9821469c87ee8a434972714"}, "closed": true, "closedAt": "2020-09-17T18:57:57Z", "author": {"login": "efeg"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdJncs2AH2gAyNDg4MzYxODgzOmYyNzQ1ZjIwNjA0NmQxZTU0MTZiY2M3NjE0MDdiODgwY2ZlZGE3ODk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdJ1D3ugH2gAyNDg4MzYxODgzOmRlZGM4YzdlMTEwOGY4OGM1NzY3ODM4MzdkOTRhMzc0NmQxMjk5ODQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "f2745f206046d1e5416bcc761407b880cfeda789", "author": {"user": null}, "url": "https://github.com/linkedin/cruise-control/commit/f2745f206046d1e5416bcc761407b880cfeda789", "committedDate": "2020-09-17T02:20:12Z", "message": "Skip parsing scopes that have keys without a matching value."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkwMjM0OTQ4", "url": "https://github.com/linkedin/cruise-control/pull/1328#pullrequestreview-490234948", "createdAt": "2020-09-17T04:30:33Z", "commit": {"oid": "f2745f206046d1e5416bcc761407b880cfeda789"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xN1QwNDozMDozM1rOHTRBIA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xN1QwNDozMDozM1rOHTRBIA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTk2MzgwOA==", "bodyText": "Do you know if it's safe to ignore generating the map for these metrics?", "url": "https://github.com/linkedin/cruise-control/pull/1328#discussion_r489963808", "createdAt": "2020-09-17T04:30:33Z", "author": {"login": "smccauliff"}, "path": "cruise-control-metrics-reporter/src/main/java/com/linkedin/kafka/cruisecontrol/metricsreporter/metric/MetricsUtils.java", "diffHunk": "@@ -204,11 +204,15 @@ public static boolean isInterested(com.yammer.metrics.core.MetricName metricName\n \n   /**\n    * Convert a yammer metrics scope to a tags map.\n+   * Skip parsing scopes that (1) are {@code null} or (2) have keys without a matching value\n+   * (see https://github.com/linkedin/cruise-control/issues/1296).\n    */\n   private static Map<String, String> yammerMetricScopeToTags(String scope) {\n     if (scope != null) {\n       String[] kv = scope.split(\"\\\\.\");\n-      assert kv.length % 2 == 0;\n+      if (kv.length % 2 != 0) {\n+        return Collections.emptyMap();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f2745f206046d1e5416bcc761407b880cfeda789"}, "originalPosition": 12}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkwODIzMjQ4", "url": "https://github.com/linkedin/cruise-control/pull/1328#pullrequestreview-490823248", "createdAt": "2020-09-17T17:19:45Z", "commit": {"oid": "f2745f206046d1e5416bcc761407b880cfeda789"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dedc8c7e1108f88c576783837d94a3746d129984", "author": {"user": null}, "url": "https://github.com/linkedin/cruise-control/commit/dedc8c7e1108f88c576783837d94a3746d129984", "committedDate": "2020-09-17T18:11:45Z", "message": "Address the feedback"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 63, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}