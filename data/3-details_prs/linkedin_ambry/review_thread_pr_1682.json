{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE0MzUzMTY2", "number": 1682, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wM1QyMzo1MDowOVrOE1BcQQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wM1QyMzo1MDowOVrOE1BcQQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI0MDMzNjAxOnYy", "diffSide": "RIGHT", "path": "ambry-store/src/main/java/com/github/ambry/store/BlobStoreCompactor.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wM1QyMzo1MDowOVrOHtEgDQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wM1QyMzo1MDowOVrOHtEgDQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzAyMTcwOQ==", "bodyText": "nit: maybe following is more readable:\nif ( recoveryStartToken == null || !recoveryStartToken.getOffset().equals(indexSegmentStartOffset))", "url": "https://github.com/linkedin/ambry/pull/1682#discussion_r517021709", "createdAt": "2020-11-03T23:50:09Z", "author": {"login": "jsjtzyy"}, "path": "ambry-store/src/main/java/com/github/ambry/store/BlobStoreCompactor.java", "diffHunk": "@@ -631,6 +639,10 @@ private boolean isDuplicate(IndexEntry copyCandidate, FileSpan duplicateSearchSp\n         logger.trace(\"{} in segment with start offset {} in {} is a duplicate because it has already been copied\",\n             copyCandidate, indexSegmentStartOffset, storeId);\n         isDuplicate = true;\n+        if (!(recoveryStartToken != null && recoveryStartToken.getOffset().equals(indexSegmentStartOffset))) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ca2ef13cb64319ac2eb40d7bae5e53645fec298c"}, "originalPosition": 19}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1112, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}