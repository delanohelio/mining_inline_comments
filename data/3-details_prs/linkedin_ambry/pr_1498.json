{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDExNzcyODY0", "number": 1498, "title": "Support generating partition override map from config file in bootstrap tool", "bodyText": "Previously, we have to manually edit the state of partition in static clustermap. If there are thousands of partitions to be marked as ReadOnly, it will take a lot of effort to change clustermap(either by script or manually). This PR allows user to feed tool with a static config file that contains a list of partition ids to override. These partitions are separated by comma and bootstrap tool will check if id is valid (i.e. numeric, within valid range).", "createdAt": "2020-04-30T18:50:30Z", "url": "https://github.com/linkedin/ambry/pull/1498", "merged": true, "mergeCommit": {"oid": "45ff69fb1486c49fadd18784dbca3932984d65e7"}, "closed": true, "closedAt": "2020-05-11T17:09:54Z", "author": {"login": "jsjtzyy"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABccxp7_gH2gAyNDExNzcyODY0OmNlMWQ2MWQyODUxYTg1ZTI2YjU0Y2E4NTMyOGJhNmJhYzJjNmVlMWY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABceuy2TgH2gAyNDExNzcyODY0OmM1OWY3OGIyMWJjNWRiNTM1ZTMzYjdjOGE4YWQ2YzM4OWE2OTM5ZTU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "ce1d61d2851a85e26b54ca85328ba6bac2c6ee1f", "author": {"user": {"login": "jsjtzyy", "name": "Yingyi Zhang"}}, "url": "https://github.com/linkedin/ambry/commit/ce1d61d2851a85e26b54ca85328ba6bac2c6ee1f", "committedDate": "2020-04-30T18:47:07Z", "message": "Support generating partition override map from config file in bootstrap tool\n\nPreviously, we have to manually edit state of partition in static clustermap. If\nthere are thousands of partitions to be marked as ReadOnlly, it will take some\neffort to change clustermap(either by script or manually). This PR allows user to\nfeed tool with a static config file that contains a list of partition ids to\noverride. These partitions are separated by comma and bootstrap tool will check\nif id is valid (i.e. numeric, within valid range)."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA2Mzc0MDgx", "url": "https://github.com/linkedin/ambry/pull/1498#pullrequestreview-406374081", "createdAt": "2020-05-06T07:48:46Z", "commit": {"oid": "ce1d61d2851a85e26b54ca85328ba6bac2c6ee1f"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQwNzo0ODo0NlrOGRHnXQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQwNzo0ODo0NlrOGRHnXQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDYwMzc0MQ==", "bodyText": "Minor: will be overriden to to READ_ONLY state.", "url": "https://github.com/linkedin/ambry/pull/1498#discussion_r420603741", "createdAt": "2020-05-06T07:48:46Z", "author": {"login": "xuhao417347761"}, "path": "ambry-clustermap/src/main/java/com/github/ambry/clustermap/HelixBootstrapUpgradeUtil.java", "diffHunk": "@@ -494,6 +500,51 @@ private HelixBootstrapUpgradeUtil(String hardwareLayoutPath, String partitionLay\n     return partitionOverrideByDc;\n   }\n \n+  /**\n+   * Generate partition override map a static config file. It requires file to be a list of partition ids (separated by\n+   * comma). These partitions will overridden to READ_ONLY state.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ce1d61d2851a85e26b54ca85328ba6bac2c6ee1f"}, "originalPosition": 66}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c59f78b21bc5db535e33b7c8a8ad6c389a6939e5", "author": {"user": {"login": "jsjtzyy", "name": "Yingyi Zhang"}}, "url": "https://github.com/linkedin/ambry/commit/c59f78b21bc5db535e33b7c8a8ad6c389a6939e5", "committedDate": "2020-05-06T20:34:59Z", "message": "comment"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1441, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}