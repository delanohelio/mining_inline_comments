{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMzNDA5NzU1", "number": 1561, "title": "Make loggers static final when possible", "bodyText": "In almost all cases, loggers should be static. When run with log4j2,\nthere is more overhead to get a Logger instance, whereas with log4j1,\nusually only the first request to get a logger for a given name would be\nexpensive. This means that instantiating loggers for classes with many\ninstances such as BlobReadOptions, which is instantiated for every blob\nserved, have a visible impact when analyzed with a sampling profiler.\nThis commit is a mass find and replace of non-static loggers.", "createdAt": "2020-06-12T01:07:32Z", "url": "https://github.com/linkedin/ambry/pull/1561", "merged": true, "mergeCommit": {"oid": "b6fd51673981896064575afbcbfee6d6aa1063cf"}, "closed": true, "closedAt": "2020-06-12T19:03:50Z", "author": {"login": "cgtz"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcqYM6yAH2gAyNDMzNDA5NzU1OmUxYzI1Y2E0MWQ5ZmQ0NDI4NjYxMzNmMDc4NGVhZTg1ZGFmMGNiZjE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcqmAleAH2gAyNDMzNDA5NzU1OjI5MDBmMGY3ODY0OWMyZDBkMjJmNWJiNzYyYzEzMGJjZWYyYTg0MzY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "e1c25ca41d9fd442866133f0784eae85daf0cbf1", "author": {"user": {"login": "cgtz", "name": "Casey Getz"}}, "url": "https://github.com/linkedin/ambry/commit/e1c25ca41d9fd442866133f0784eae85daf0cbf1", "committedDate": "2020-06-12T01:02:44Z", "message": "Make loggers static final when possible\n\nIn almost all cases, loggers should be static. When run with log4j2,\nthere is more overhead to get a Logger instance, whereas with log4j1,\nusually on the first request to get a logger for a given name would be\nexpensive. This means that instantiating loggers for classes with many\ninstances such as BlobReadOptions, which is instantiated for every blob\nserved, have a visible impact when analyzed with a sampling profiler.\n\nThis commit is a mass find and replace of non-static loggers."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI5NDQ0NDg5", "url": "https://github.com/linkedin/ambry/pull/1561#pullrequestreview-429444489", "createdAt": "2020-06-12T03:53:20Z", "commit": {"oid": "e1c25ca41d9fd442866133f0784eae85daf0cbf1"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI5ODg0Mjg3", "url": "https://github.com/linkedin/ambry/pull/1561#pullrequestreview-429884287", "createdAt": "2020-06-12T16:35:00Z", "commit": {"oid": "e1c25ca41d9fd442866133f0784eae85daf0cbf1"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQxNjozNTowMFrOGjKhQQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQxNjo0ODoxMVrOGjK6HA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTUyNTY5Nw==", "bodyText": "Can you rename LOGGER to logger?", "url": "https://github.com/linkedin/ambry/pull/1561#discussion_r439525697", "createdAt": "2020-06-12T16:35:00Z", "author": {"login": "lightningrob"}, "path": "ambry-clustermap/src/main/java/com/github/ambry/clustermap/CompositeClusterManager.java", "diffHunk": "@@ -39,7 +39,6 @@\n   final StaticClusterManager staticClusterManager;\n   final HelixClusterManager helixClusterManager;\n   final HelixClusterManagerMetrics helixClusterManagerMetrics;\n-  private final Logger logger = LoggerFactory.getLogger(CompositeClusterManager.class);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e1c25ca41d9fd442866133f0784eae85daf0cbf1"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTUzMjA2MA==", "bodyText": "We can probably remove this second logger, it's only used in one trace message.", "url": "https://github.com/linkedin/ambry/pull/1561#discussion_r439532060", "createdAt": "2020-06-12T16:48:11Z", "author": {"login": "lightningrob"}, "path": "ambry-rest/src/main/java/com/github/ambry/rest/PublicAccessLogger.java", "diffHunk": "@@ -22,11 +22,11 @@\n  */\n public class PublicAccessLogger {\n \n-  private Logger publicAccessLogger = LoggerFactory.getLogger(\"PublicAccessLogger\");\n+  private static final Logger publicAccessLogger = LoggerFactory.getLogger(\"PublicAccessLogger\");\n \n   private final String[] requestHeaders;\n   private final String[] responseHeaders;\n-  private final Logger logger = LoggerFactory.getLogger(getClass());\n+  private static final Logger logger = LoggerFactory.getLogger(PublicAccessLogger.class);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e1c25ca41d9fd442866133f0784eae85daf0cbf1"}, "originalPosition": 10}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2900f0f78649c2d0d22f5bb762c130bcef2a8436", "author": {"user": {"login": "cgtz", "name": "Casey Getz"}}, "url": "https://github.com/linkedin/ambry/commit/2900f0f78649c2d0d22f5bb762c130bcef2a8436", "committedDate": "2020-06-12T17:07:56Z", "message": "Address Rob's comments"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1130, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}