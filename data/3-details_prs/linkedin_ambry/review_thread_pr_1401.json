{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgwNTkwNjM3", "number": 1401, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yN1QwMTozMjozNFrODjTaww==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQxOTo1NjoyOFrODkZx_g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM4MzQ0ODk5OnYy", "diffSide": "RIGHT", "path": "ambry-cloud/src/main/java/com.github.ambry.cloud/azure/AzureBlobDataAccessor.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yN1QwMTozMjozNFrOFvCaTQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yN1QwMTozMjozNFrOFvCaTQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDg2Njg5Mw==", "bodyText": "Increased timeout since integration test occasionally timed out on startup.", "url": "https://github.com/linkedin/ambry/pull/1401#discussion_r384866893", "createdAt": "2020-02-27T01:32:34Z", "author": {"login": "lightningrob"}, "path": "ambry-cloud/src/main/java/com.github.ambry.cloud/azure/AzureBlobDataAccessor.java", "diffHunk": "@@ -239,7 +226,7 @@ public boolean downloadFile(String containerName, String fileName, OutputStream\n   void testConnectivity() {\n     try {\n       // TODO: Turn on verbose logging during this call (how to do in v12?)\n-      storageClient.getBlobContainerClient(\"partition-0\").existsWithResponse(Duration.ofSeconds(1), Context.NONE);\n+      storageClient.getBlobContainerClient(\"partition-0\").existsWithResponse(Duration.ofSeconds(5), Context.NONE);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ad9cc4ffb71ca941709aef866c5ebf55afeba88c"}, "originalPosition": 117}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM5NDYwOTM4OnYy", "diffSide": "RIGHT", "path": "ambry-api/src/main/java/com.github.ambry/config/CloudConfig.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQxODowNjoxMVrOFwpnZA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQxODowNjoxMVrOFwpnZA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjU1Nzc5Ng==", "bodyText": "Seems everything here needs to be public static final int.", "url": "https://github.com/linkedin/ambry/pull/1401#discussion_r386557796", "createdAt": "2020-03-02T18:06:11Z", "author": {"login": "xuhao417347761"}, "path": "ambry-api/src/main/java/com.github.ambry/config/CloudConfig.java", "diffHunk": "@@ -59,7 +61,9 @@\n   public static final int DEFAULT_RECENT_BLOB_CACHE_LIMIT = 10000;\n   public static final int DEFAULT_MAX_ATTEMPTS = 3;\n   public static final long DEFAULT_RETRY_DELAY_VALUE = 50;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4d75805a541371cb1bdf695e1fec3da5c5ad2ef3"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM5NDYxMTM5OnYy", "diffSide": "RIGHT", "path": "ambry-api/src/main/java/com.github.ambry/config/CloudConfig.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQxODowNjo0NlrOFwpooA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQxODowNjo0NlrOFwpooA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjU1ODExMg==", "bodyText": "Same as above.", "url": "https://github.com/linkedin/ambry/pull/1401#discussion_r386558112", "createdAt": "2020-03-02T18:06:46Z", "author": {"login": "xuhao417347761"}, "path": "ambry-api/src/main/java/com.github.ambry/config/CloudConfig.java", "diffHunk": "@@ -217,8 +221,23 @@\n   @Config(CLOUD_DEFAULT_RETRY_DELAY)\n   public final long cloudDefaultRetryDelay;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4d75805a541371cb1bdf695e1fec3da5c5ad2ef3"}, "originalPosition": 22}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM5NDk3NzI2OnYy", "diffSide": "RIGHT", "path": "ambry-cloud/src/main/java/com.github.ambry.cloud/azure/AzureBlobDataAccessor.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQxOTo1NjoyOFrOFwtMCg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQxOTo1NjoyOFrOFwtMCg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjYxNjMzMA==", "bodyText": "Note here is a little confused. Please add more context.", "url": "https://github.com/linkedin/ambry/pull/1401#discussion_r386616330", "createdAt": "2020-03-02T19:56:28Z", "author": {"login": "zzmao"}, "path": "ambry-cloud/src/main/java/com.github.ambry.cloud/azure/AzureBlobDataAccessor.java", "diffHunk": "@@ -93,12 +95,15 @@\n       logger.info(\"Using proxy: {}:{}\", cloudConfig.vcrProxyHost, cloudConfig.vcrProxyPort);\n     }\n     HttpClient client = new NettyAsyncHttpClientBuilder().proxy(proxyOptions).build();\n+    requestTimeout = Duration.ofMillis(cloudConfig.cloudRequestTimeout);\n+    uploadTimeout = Duration.ofMillis(cloudConfig.cloudUploadRequestTimeout);\n+    batchTimeout = Duration.ofMillis(cloudConfig.cloudBatchRequestTimeout);\n \n-    // TODO: may want to set different retry options depending on live serving or replication mode\n-    RequestRetryOptions requestRetryOptions = new RequestRetryOptions();\n+    // Note: retry decisions are made at CloudBlobStore level, not here.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4d75805a541371cb1bdf695e1fec3da5c5ad2ef3"}, "originalPosition": 35}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1737, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}