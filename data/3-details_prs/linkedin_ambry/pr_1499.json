{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDEyMjc0MDY2", "number": 1499, "title": "Adding extra ChannelHandlers to RestServer and RestRequestContext", "bodyText": "Adding some extra ChannelHandlers to the ChannelHandlerInitializer, so the closed source extension can add closed source ChannelHandler to the pipeline.\nAdding RestRequestContext so the SecurityService in closed source extension can get the channel.", "createdAt": "2020-05-01T19:48:10Z", "url": "https://github.com/linkedin/ambry/pull/1499", "merged": true, "mergeCommit": {"oid": "c68e72eba3b0bd91b3d9c816d45ab20feb7fbf99"}, "closed": true, "closedAt": "2020-05-04T22:16:49Z", "author": {"login": "justinlin-linkedin"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABccwxFUgH2gAyNDEyMjc0MDY2OjZlYjRhZTk1MzU5YjJiMGFmMWExYzYzNDc4OWE4NmYzMmM3MzBlNTg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABceFa0rAH2gAyNDEyMjc0MDY2OjBkNDlkNTlkYTRkM2MwZTQyNDJkMzg3Yzg4OTFhOTNmY2NmNzQ4OTQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "6eb4ae95359b2b0af1a1c634789a86f32c730e58", "author": {"user": {"login": "justinlin-linkedin", "name": "Justin Lin"}}, "url": "https://github.com/linkedin/ambry/commit/6eb4ae95359b2b0af1a1c634789a86f32c730e58", "committedDate": "2020-04-30T17:45:01Z", "message": "Add extra ChannelHandlers to RestServer"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "abd53f6540f9e8ae419b88b6b2dd06a7619466e7", "author": {"user": {"login": "justinlin-linkedin", "name": "Justin Lin"}}, "url": "https://github.com/linkedin/ambry/commit/abd53f6540f9e8ae419b88b6b2dd06a7619466e7", "committedDate": "2020-05-01T19:11:06Z", "message": "Adding RestRequestContext"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4ff1fecec7834bd8c9af7114b886c174fcf179c4", "author": {"user": {"login": "justinlin-linkedin", "name": "Justin Lin"}}, "url": "https://github.com/linkedin/ambry/commit/4ff1fecec7834bd8c9af7114b886c174fcf179c4", "committedDate": "2020-05-01T20:01:50Z", "message": "Fix test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7b683d6f8926159fc79b9a047b7980902c862cc6", "author": {"user": {"login": "justinlin-linkedin", "name": "Justin Lin"}}, "url": "https://github.com/linkedin/ambry/commit/7b683d6f8926159fc79b9a047b7980902c862cc6", "committedDate": "2020-05-01T21:07:48Z", "message": "Publish NettyRequest"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA1MjEzNTY3", "url": "https://github.com/linkedin/ambry/pull/1499#pullrequestreview-405213567", "createdAt": "2020-05-04T17:53:04Z", "commit": {"oid": "4ff1fecec7834bd8c9af7114b886c174fcf179c4"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQxNzo1MzowNVrOGQLb2w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQxNzo1MzowNVrOGQLb2w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTYxNzc1NQ==", "bodyText": "make this static, if possible", "url": "https://github.com/linkedin/ambry/pull/1499#discussion_r419617755", "createdAt": "2020-05-04T17:53:05Z", "author": {"login": "cgtz"}, "path": "ambry-rest/src/main/java/com/github/ambry/rest/NettyRequest.java", "diffHunk": "@@ -661,4 +661,42 @@ public void invokeCallback(Exception exception) {\n       }\n     }\n   }\n+\n+  /**\n+   * The {@link NettyRequest}'s implementation of {@link com.github.ambry.rest.RestRequest.RestRequestContext}. It carries\n+   * {@link Channel} and {@link HttpRequest}.\n+   */\n+  public class NettyRequestContext implements RestRequestContext {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4ff1fecec7834bd8c9af7114b886c174fcf179c4"}, "originalPosition": 9}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA1MjE5MDM0", "url": "https://github.com/linkedin/ambry/pull/1499#pullrequestreview-405219034", "createdAt": "2020-05-04T18:00:02Z", "commit": {"oid": "4ff1fecec7834bd8c9af7114b886c174fcf179c4"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6e30394916d73afa062ebaa2c75356e73b827157", "author": {"user": {"login": "justinlin-linkedin", "name": "Justin Lin"}}, "url": "https://github.com/linkedin/ambry/commit/6e30394916d73afa062ebaa2c75356e73b827157", "committedDate": "2020-05-04T19:53:36Z", "message": "Adding tests"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA1MzE2OTA3", "url": "https://github.com/linkedin/ambry/pull/1499#pullrequestreview-405316907", "createdAt": "2020-05-04T20:20:36Z", "commit": {"oid": "6e30394916d73afa062ebaa2c75356e73b827157"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQyMDoyMDozNlrOGQQqoQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQyMDoyMDozNlrOGQQqoQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTcwMzQ1Nw==", "bodyText": "The comment says it carries both Channel and HttpRequest, could you tell me why it only keeps Channel inside and no HttpRequest?", "url": "https://github.com/linkedin/ambry/pull/1499#discussion_r419703457", "createdAt": "2020-05-04T20:20:36Z", "author": {"login": "jsjtzyy"}, "path": "ambry-rest/src/main/java/com/github/ambry/rest/NettyRequest.java", "diffHunk": "@@ -661,4 +661,32 @@ public void invokeCallback(Exception exception) {\n       }\n     }\n   }\n+\n+  /**\n+   * The {@link NettyRequest}'s implementation of {@link com.github.ambry.rest.RestRequest.RestRequestContext}. It carries\n+   * {@link Channel} and {@link HttpRequest}.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6e30394916d73afa062ebaa2c75356e73b827157"}, "originalPosition": 16}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA1MzE3NDE2", "url": "https://github.com/linkedin/ambry/pull/1499#pullrequestreview-405317416", "createdAt": "2020-05-04T20:21:21Z", "commit": {"oid": "6e30394916d73afa062ebaa2c75356e73b827157"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0d49d59da4d3c0e4242d387c8891a93fccf74894", "author": {"user": {"login": "justinlin-linkedin", "name": "Justin Lin"}}, "url": "https://github.com/linkedin/ambry/commit/0d49d59da4d3c0e4242d387c8891a93fccf74894", "committedDate": "2020-05-04T20:22:38Z", "message": "Comments"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1444, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}