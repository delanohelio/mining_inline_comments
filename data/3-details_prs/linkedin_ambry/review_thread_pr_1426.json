{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg4ODM4Mzg2", "number": 1426, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQwNDo1MTowMlrODoL-LA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQwNTowODo1NlrODoMHHQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQzNDY1NzcyOnYy", "diffSide": "RIGHT", "path": "ambry-store/src/test/java/com.github.ambry.store/HardDeleterTest.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQwNDo1MTowMlrOF2lfEA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQwNDo1MTowMlrOF2lfEA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mjc4MTU4NA==", "bodyText": "nit : this.e = e == null ? e :  new RuntimeException(e);", "url": "https://github.com/linkedin/ambry/pull/1426#discussion_r392781584", "createdAt": "2020-03-16T04:51:02Z", "author": {"login": "jsjtzyy"}, "path": "ambry-store/src/test/java/com.github.ambry.store/HardDeleterTest.java", "diffHunk": "@@ -581,7 +612,11 @@ public long getSlice(String jobType, String jobId, long usedSinceLastCall) {\n     }\n \n     public void setException(Exception e) {\n-      this.e = new RuntimeException(e);\n+      if (e == null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4674faa99cc3801a1f33826a9f98906f1aad3d89"}, "originalPosition": 61}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQzNDY4MDYxOnYy", "diffSide": "RIGHT", "path": "ambry-store/src/main/java/com.github.ambry.store/HardDeleter.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQwNTowODo1NlrOF2lshA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQwNTozNzozMVrOF2mDdw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mjc4NTAyOA==", "bodyText": "Could you briefly explain why this would fix NPE in pruneTill()? You can add the explanation to the commit message of this PR.", "url": "https://github.com/linkedin/ambry/pull/1426#discussion_r392785028", "createdAt": "2020-03-16T05:08:56Z", "author": {"login": "jsjtzyy"}, "path": "ambry-store/src/main/java/com.github.ambry.store/HardDeleter.java", "diffHunk": "@@ -217,6 +221,7 @@ void performRecovery() throws StoreException {\n         readOptionsList.add(item.blobReadOptions);\n         messageStoreRecoveryInfoList.add(item.messagesStoreRecoveryInfo);\n       }\n+      hardDeleteRecoveryRange.clear();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4674faa99cc3801a1f33826a9f98906f1aad3d89"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mjc4NzI1NA==", "bodyText": "updated.", "url": "https://github.com/linkedin/ambry/pull/1426#discussion_r392787254", "createdAt": "2020-03-16T05:19:43Z", "author": {"login": "justinlin-linkedin"}, "path": "ambry-store/src/main/java/com.github.ambry.store/HardDeleter.java", "diffHunk": "@@ -217,6 +221,7 @@ void performRecovery() throws StoreException {\n         readOptionsList.add(item.blobReadOptions);\n         messageStoreRecoveryInfoList.add(item.messagesStoreRecoveryInfo);\n       }\n+      hardDeleteRecoveryRange.clear();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mjc4NTAyOA=="}, "originalCommit": {"oid": "4674faa99cc3801a1f33826a9f98906f1aad3d89"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mjc5MDkwMw==", "bodyText": "Got it. I wonder why readCleanupTokenAndPopulateRecoveryRange didn't pass in startToken when creating recoverRange previously? Looks like it's viable to do so. Nvm, will approve this PR.", "url": "https://github.com/linkedin/ambry/pull/1426#discussion_r392790903", "createdAt": "2020-03-16T05:37:31Z", "author": {"login": "jsjtzyy"}, "path": "ambry-store/src/main/java/com.github.ambry.store/HardDeleter.java", "diffHunk": "@@ -217,6 +221,7 @@ void performRecovery() throws StoreException {\n         readOptionsList.add(item.blobReadOptions);\n         messageStoreRecoveryInfoList.add(item.messagesStoreRecoveryInfo);\n       }\n+      hardDeleteRecoveryRange.clear();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mjc4NTAyOA=="}, "originalCommit": {"oid": "4674faa99cc3801a1f33826a9f98906f1aad3d89"}, "originalPosition": 22}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1420, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}