{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM1MzU4MDA1", "number": 1567, "title": "Adding more log tracer for debugging and bug Fix", "bodyText": "", "createdAt": "2020-06-16T17:17:06Z", "url": "https://github.com/linkedin/ambry/pull/1567", "merged": true, "mergeCommit": {"oid": "c82e10e88612b1322f8cf9903e24e3b6affc1e72"}, "closed": true, "closedAt": "2020-06-16T22:51:00Z", "author": {"login": "SophieGuo410"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcr4huogH2gAyNDM1MzU4MDA1OmQzMjY3YjhiNzk5MDQyYjBkZmNjMDMxZmQwNTIxMzhhZjI3OTA0ODQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcr8sLXgBqjM0NTEwNDE1NTQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "d3267b8b799042b0dfcc031fd052138af2790484", "author": {"user": null}, "url": "https://github.com/linkedin/ambry/commit/d3267b8b799042b0dfcc031fd052138af2790484", "committedDate": "2020-06-16T17:16:21Z", "message": "Adding more log tracer for debugging"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMxNzI4Mzk3", "url": "https://github.com/linkedin/ambry/pull/1567#pullrequestreview-431728397", "createdAt": "2020-06-16T17:20:43Z", "commit": {"oid": "d3267b8b799042b0dfcc031fd052138af2790484"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQxNzoyMDo0NFrOGklh8Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQxNzoyMDo0NFrOGklh8Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTAxNjgxNw==", "bodyText": "Do we have a toString() for skipPredicate?", "url": "https://github.com/linkedin/ambry/pull/1567#discussion_r441016817", "createdAt": "2020-06-16T17:20:44Z", "author": {"login": "jsjtzyy"}, "path": "ambry-replication/src/main/java/com/github/ambry/replication/ReplicaThread.java", "diffHunk": "@@ -660,6 +660,7 @@ ReplicaMetadataResponse getReplicaMetadataResponse(List<RemoteReplicaInfo> repli\n       logger.trace(\"Remote node: {} Thread name: {} Remote replica: {} Key from remote: {}\", remoteNode, threadName,\n           remoteReplicaInfo.getReplicaId(), storeKey);\n       StoreKey convertedKey = storeKeyConverter.getConverted(storeKey);\n+      logger.trace(\"SkipPredicate: {}\", skipPredicate);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d3267b8b799042b0dfcc031fd052138af2790484"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMxNzI4OTkx", "url": "https://github.com/linkedin/ambry/pull/1567#pullrequestreview-431728991", "createdAt": "2020-06-16T17:21:28Z", "commit": {"oid": "d3267b8b799042b0dfcc031fd052138af2790484"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQxNzoyMToyOVrOGkljng==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQxNzoyMToyOVrOGkljng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTAxNzI0Ng==", "bodyText": "How about changing all trace to logger.debug?", "url": "https://github.com/linkedin/ambry/pull/1567#discussion_r441017246", "createdAt": "2020-06-16T17:21:29Z", "author": {"login": "jsjtzyy"}, "path": "ambry-api/src/main/java/com/github/ambry/replication/ReplicationSkipPredicate.java", "diffHunk": "@@ -62,15 +62,18 @@ public boolean test(MessageInfo messageInfo) {\n       if (status == Container.ContainerStatus.DELETE_IN_PROGRESS &&\n           container.getDeleteTriggerTime() + TimeUnit.DAYS.toMillis(\n               replicationConfig.replicationContainerDeletionRetentionDays) < System.currentTimeMillis()) {\n+        logger.trace(\"Container {} is not qualified with retention time yet\", container);\n         return false;\n       }\n       if (status == Container.ContainerStatus.DELETE_IN_PROGRESS || status == Container.ContainerStatus.INACTIVE) {\n-        logger.info(\"Container {} will be skipped during replication\", container);\n+        logger.trace(\"Container {} will be skipped during replication\", container);\n         return true;\n       } else {\n+        logger.trace(\"Container {} is Active\", container);\n         return false;\n       }\n     } else {\n+      logger.trace(\"Current accountService : {}\", accountService);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d3267b8b799042b0dfcc031fd052138af2790484"}, "originalPosition": 16}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMxNzI5Nzcx", "url": "https://github.com/linkedin/ambry/pull/1567#pullrequestreview-431729771", "createdAt": "2020-06-16T17:22:27Z", "commit": {"oid": "d3267b8b799042b0dfcc031fd052138af2790484"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "88bfd91d470ed3b8783ccab44308aa63a8804fae", "author": {"user": null}, "url": "https://github.com/linkedin/ambry/commit/88bfd91d470ed3b8783ccab44308aa63a8804fae", "committedDate": "2020-06-16T17:24:17Z", "message": "minor fix"}, "afterCommit": {"oid": "eea2146f9bdc3a806920ec2d4b87af8f09e01d87", "author": {"user": null}, "url": "https://github.com/linkedin/ambry/commit/eea2146f9bdc3a806920ec2d4b87af8f09e01d87", "committedDate": "2020-06-16T17:41:23Z", "message": "minor fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "11ae646c894b231534c705779dd2cc82bc1882aa", "author": {"user": null}, "url": "https://github.com/linkedin/ambry/commit/11ae646c894b231534c705779dd2cc82bc1882aa", "committedDate": "2020-06-16T18:01:38Z", "message": "minor fix"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "eea2146f9bdc3a806920ec2d4b87af8f09e01d87", "author": {"user": null}, "url": "https://github.com/linkedin/ambry/commit/eea2146f9bdc3a806920ec2d4b87af8f09e01d87", "committedDate": "2020-06-16T17:41:23Z", "message": "minor fix"}, "afterCommit": {"oid": "11ae646c894b231534c705779dd2cc82bc1882aa", "author": {"user": null}, "url": "https://github.com/linkedin/ambry/commit/11ae646c894b231534c705779dd2cc82bc1882aa", "committedDate": "2020-06-16T18:01:38Z", "message": "minor fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "894e8c591e9d0a338a24d59d3c6e4bc311b25717", "author": {"user": null}, "url": "https://github.com/linkedin/ambry/commit/894e8c591e9d0a338a24d59d3c6e4bc311b25717", "committedDate": "2020-06-16T18:19:04Z", "message": "bug fixing"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMxOTA4MDI4", "url": "https://github.com/linkedin/ambry/pull/1567#pullrequestreview-431908028", "createdAt": "2020-06-16T21:33:17Z", "commit": {"oid": "894e8c591e9d0a338a24d59d3c6e4bc311b25717"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "364b503001a7655b13d704072c95cd791c0f40d9", "author": {"user": null}, "url": "https://github.com/linkedin/ambry/commit/364b503001a7655b13d704072c95cd791c0f40d9", "committedDate": "2020-06-16T21:46:27Z", "message": "minor fix"}, "afterCommit": {"oid": "4415dd7a625ae681acc2f786921dd5877de57f07", "author": {"user": null}, "url": "https://github.com/linkedin/ambry/commit/4415dd7a625ae681acc2f786921dd5877de57f07", "committedDate": "2020-06-16T21:48:15Z", "message": "minor fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9d5686c9686787ba538033855250807641cdedc1", "author": {"user": null}, "url": "https://github.com/linkedin/ambry/commit/9d5686c9686787ba538033855250807641cdedc1", "committedDate": "2020-06-16T22:07:15Z", "message": "minor fix"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4415dd7a625ae681acc2f786921dd5877de57f07", "author": {"user": null}, "url": "https://github.com/linkedin/ambry/commit/4415dd7a625ae681acc2f786921dd5877de57f07", "committedDate": "2020-06-16T21:48:15Z", "message": "minor fix"}, "afterCommit": {"oid": "9d5686c9686787ba538033855250807641cdedc1", "author": {"user": null}, "url": "https://github.com/linkedin/ambry/commit/9d5686c9686787ba538033855250807641cdedc1", "committedDate": "2020-06-16T22:07:15Z", "message": "minor fix"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1144, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}