{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE5NjM5MDg1", "number": 1694, "title": "[MySQL] Moving common mysql utility to ambry-commons module", "bodyText": "Moving several MySql classes from accounts to commons module.", "createdAt": "2020-11-12T05:52:31Z", "url": "https://github.com/linkedin/ambry/pull/1694", "merged": true, "mergeCommit": {"oid": "b8bca29d2321108f62c7973e375df88a770877d1"}, "closed": true, "closedAt": "2020-11-12T23:48:44Z", "author": {"login": "justinlin-linkedin"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdb2PVmgFqTUyOTMzNjg1Ng==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdb53KhAH2gAyNTE5NjM5MDg1OjMwODIyNTZjM2Y5NzgyNjgxYmY1ZGM4N2I1MTE2ODEzN2Y2NmRjZmM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI5MzM2ODU2", "url": "https://github.com/linkedin/ambry/pull/1694#pullrequestreview-529336856", "createdAt": "2020-11-12T17:44:49Z", "commit": {"oid": "922c3ae3b8d91e8c328a5ddaf838077bf5922eb2"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI5MzgzMzA4", "url": "https://github.com/linkedin/ambry/pull/1694#pullrequestreview-529383308", "createdAt": "2020-11-12T18:43:04Z", "commit": {"oid": "31e8aadfb7fcb44bf0c410e1de5179ce8f4aa558"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI5NDYyOTQx", "url": "https://github.com/linkedin/ambry/pull/1694#pullrequestreview-529462941", "createdAt": "2020-11-12T20:18:35Z", "commit": {"oid": "31e8aadfb7fcb44bf0c410e1de5179ce8f4aa558"}, "state": "APPROVED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMlQyMDoxODozNVrOHyMkyw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMlQyMDoyMTo0OVrOHyMv0A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjM5Njg3NQ==", "bodyText": "Could you add $mysqlVersion and use it here.  Also, can we remove it from account project?", "url": "https://github.com/linkedin/ambry/pull/1694#discussion_r522396875", "createdAt": "2020-11-12T20:18:35Z", "author": {"login": "lightningrob"}, "path": "build.gradle", "diffHunk": "@@ -230,6 +230,7 @@ project(':ambry-commons') {\n         compile (\"org.apache.helix:helix-core:$helixVersion\") {\n             exclude group: \"log4j\", module: \"log4j\"\n         }\n+        compile \"mysql:mysql-connector-java:8.0.21\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "31e8aadfb7fcb44bf0c410e1de5179ce8f4aa558"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjM5ODU3NA==", "bodyText": "Good idea, this is independent of accounts.", "url": "https://github.com/linkedin/ambry/pull/1694#discussion_r522398574", "createdAt": "2020-11-12T20:20:22Z", "author": {"login": "lightningrob"}, "path": "ambry-commons/src/main/java/com/github/ambry/mysql/MySqlMetrics.java", "diffHunk": "@@ -11,17 +11,17 @@\n  * distributed under the License is distributed on an \"AS IS\" BASIS,\n  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n  */\n-package com.github.ambry.account.mysql;\n+package com.github.ambry.mysql;\n \n import com.codahale.metrics.Counter;\n import com.codahale.metrics.Histogram;\n import com.codahale.metrics.MetricRegistry;\n \n \n /**\n- * Expose metrics related to writes and reads to/from MySql DB used in {@link com.github.ambry.account.MySqlAccountService}\n+ * Expose metrics related to writes and reads to/from MySql DB.\n  */\n-public class MySqlAccountStoreMetrics {\n+public class MySqlMetrics {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "31e8aadfb7fcb44bf0c410e1de5179ce8f4aa558"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjM5OTY5Ng==", "bodyText": "Why not static?  (This can probably move to MySqlUtils anyway.)", "url": "https://github.com/linkedin/ambry/pull/1694#discussion_r522399696", "createdAt": "2020-11-12T20:21:49Z", "author": {"login": "lightningrob"}, "path": "ambry-commons/src/main/java/com/github/ambry/mysql/MySqlDataAccessor.java", "diffHunk": "@@ -317,7 +286,7 @@ private boolean isBetterEndpoint(DbEndpoint first, DbEndpoint second) {\n    * Close a resource without throwing exception.\n    * @param resource the resource to close.\n    */\n-  private static void closeQuietly(AutoCloseable resource) {\n+  private void closeQuietly(AutoCloseable resource) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "31e8aadfb7fcb44bf0c410e1de5179ce8f4aa558"}, "originalPosition": 127}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI5NDcxOTAx", "url": "https://github.com/linkedin/ambry/pull/1694#pullrequestreview-529471901", "createdAt": "2020-11-12T20:28:32Z", "commit": {"oid": "31e8aadfb7fcb44bf0c410e1de5179ce8f4aa558"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8e263cc63d963b9808cf545b5f5e5158fcd43d5d", "author": {"user": {"login": "justinlin-linkedin", "name": "Justin Lin"}}, "url": "https://github.com/linkedin/ambry/commit/8e263cc63d963b9808cf545b5f5e5158fcd43d5d", "committedDate": "2020-11-12T21:34:50Z", "message": "[MySQL] Moving common mysql utility to ambry-commons module"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8535767d8e28387315966f76fb61e20844f4bdd0", "author": {"user": {"login": "justinlin-linkedin", "name": "Justin Lin"}}, "url": "https://github.com/linkedin/ambry/commit/8535767d8e28387315966f76fb61e20844f4bdd0", "committedDate": "2020-11-12T21:34:50Z", "message": "Fix test failure"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b8fbd7bdd29337df6bfd763023383e2505864e47", "author": {"user": {"login": "justinlin-linkedin", "name": "Justin Lin"}}, "url": "https://github.com/linkedin/ambry/commit/b8fbd7bdd29337df6bfd763023383e2505864e47", "committedDate": "2020-11-12T21:56:26Z", "message": "Add mysql dependency version"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "31e8aadfb7fcb44bf0c410e1de5179ce8f4aa558", "author": {"user": {"login": "justinlin-linkedin", "name": "Justin Lin"}}, "url": "https://github.com/linkedin/ambry/commit/31e8aadfb7fcb44bf0c410e1de5179ce8f4aa558", "committedDate": "2020-11-12T18:00:57Z", "message": "Fix test failure"}, "afterCommit": {"oid": "b8fbd7bdd29337df6bfd763023383e2505864e47", "author": {"user": {"login": "justinlin-linkedin", "name": "Justin Lin"}}, "url": "https://github.com/linkedin/ambry/commit/b8fbd7bdd29337df6bfd763023383e2505864e47", "committedDate": "2020-11-12T21:56:26Z", "message": "Add mysql dependency version"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3082256c3f9782681bf5dc87b51168137f66dcfc", "author": {"user": {"login": "justinlin-linkedin", "name": "Justin Lin"}}, "url": "https://github.com/linkedin/ambry/commit/3082256c3f9782681bf5dc87b51168137f66dcfc", "committedDate": "2020-11-12T21:58:02Z", "message": "Revert somechange"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 999, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}