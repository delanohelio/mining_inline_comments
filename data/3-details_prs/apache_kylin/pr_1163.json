{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg5Njk2NTMx", "number": 1163, "title": "KYLIN-4438 fix bug: null password may cause RuntimeException when starting up", "bodyText": "Proposed changes\nAdd condition to treet null input for EncryptUtil methods.  For default settings, password may not be set, so null will passed to PasswordPlaceholderConfigurer#resolvePlaceholder.  This will cause an \"IllegalArgumentException: Null input buffer\" and lead to startup failure. This fix treets null as a legal input and returns null for both encrytion and decrytion.\nTypes of changes\n\n Bugfix (non-breaking change which fixes an issue)\n New feature (non-breaking change which adds functionality)\n Breaking change (fix or feature that would cause existing functionality to not work as expected)\n Documentation Update (if none of the other choices apply)\n\nChecklist\n\n I have create an issue on Kylin's jira, and have described the bug/feature there in detail\n Commit messages in my PR start with the related jira ID, like \"KYLIN-0000 Make Kylin project open-source\"\n Compiling and unit tests pass locally with my changes\n I have added tests that prove my fix is effective or that my feature works\n If this change need a document change, I will prepare another pr against the document branch\n Any dependent changes have been merged\n\nFurther comments\nN/A", "createdAt": "2020-03-17T08:32:27Z", "url": "https://github.com/apache/kylin/pull/1163", "merged": true, "mergeCommit": {"oid": "bd6c891dfc5f962630d2a2ae51d66880f1ef8037"}, "closed": true, "closedAt": "2020-04-28T08:34:15Z", "author": {"login": "xiacongling"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcOfUsegFqTM3NTg2NjQxNA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcb_r_DAFqTQwMTYxNTMxMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc1ODY2NDE0", "url": "https://github.com/apache/kylin/pull/1163#pullrequestreview-375866414", "createdAt": "2020-03-17T09:30:40Z", "commit": {"oid": "148440fe0acc2e37f74cb194eb0aa63cbaac9e20"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xN1QwOTozMDo0MVrOF3UI3g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xN1QwOTozMDo0MVrOF3UI3g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzU0NTk1MA==", "bodyText": "it's better use 'org.apache.commons.lang3.StringUtils.isBlank' to check blank string case.", "url": "https://github.com/apache/kylin/pull/1163#discussion_r393545950", "createdAt": "2020-03-17T09:30:41Z", "author": {"login": "zzcclp"}, "path": "core-common/src/main/java/org/apache/kylin/common/util/EncryptUtil.java", "diffHunk": "@@ -32,6 +32,9 @@\n             0x65, 0x79 };\n \n     public static String encrypt(String strToEncrypt) {\n+        if (strToEncrypt == null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "148440fe0acc2e37f74cb194eb0aa63cbaac9e20"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ce52589921c47f1c8cb38881d63743120e52c572", "author": {"user": {"login": "xiacongling", "name": "Congling Xia"}}, "url": "https://github.com/apache/kylin/commit/ce52589921c47f1c8cb38881d63743120e52c572", "committedDate": "2020-04-01T15:30:30Z", "message": "KYLIN-4438 fix bug: null password may cause RuntimeException when starting up"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "148440fe0acc2e37f74cb194eb0aa63cbaac9e20", "author": {"user": {"login": "xiacongling", "name": "Congling Xia"}}, "url": "https://github.com/apache/kylin/commit/148440fe0acc2e37f74cb194eb0aa63cbaac9e20", "committedDate": "2020-03-17T08:15:05Z", "message": "fix bug: null input for EncryptUtil raise RuntimeException"}, "afterCommit": {"oid": "ce52589921c47f1c8cb38881d63743120e52c572", "author": {"user": {"login": "xiacongling", "name": "Congling Xia"}}, "url": "https://github.com/apache/kylin/commit/ce52589921c47f1c8cb38881d63743120e52c572", "committedDate": "2020-04-01T15:30:30Z", "message": "KYLIN-4438 fix bug: null password may cause RuntimeException when starting up"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAxNjE1MzEy", "url": "https://github.com/apache/kylin/pull/1163#pullrequestreview-401615312", "createdAt": "2020-04-28T08:34:06Z", "commit": {"oid": "ce52589921c47f1c8cb38881d63743120e52c572"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2872, "cost": 1, "resetAt": "2021-10-29T19:57:52Z"}}}