{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI4ODYxMDcw", "number": 798, "title": "PHOENIX-5942 - ParameterizedIndexUpgradeToolIT is too slow", "bodyText": "", "createdAt": "2020-06-06T00:02:45Z", "url": "https://github.com/apache/phoenix/pull/798", "merged": true, "mergeCommit": {"oid": "d10d6418d4cc6d5e6375b3cca2337189fc9d69d2"}, "closed": true, "closedAt": "2020-06-09T20:13:01Z", "author": {"login": "gjacoby126"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcobuo_AH2gAyNDI4ODYxMDcwOjM1MWJmOGYzYmZkYjk0MWMzNjNkNWQ5YjVlNTRkODVjZjg1ZGU5Y2U=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcppsfkgFqTQyNzQ0ODUyMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "351bf8f3bfdb941c363d5d9b5e54d85cf85de9ce", "author": {"user": {"login": "gjacoby126", "name": "Geoffrey Jacoby"}}, "url": "https://github.com/apache/phoenix/commit/351bf8f3bfdb941c363d5d9b5e54d85cf85de9ce", "committedDate": "2020-06-06T00:01:26Z", "message": "PHOENIX-5942 - ParameterizedIndexUpgradeToolIT is too slow"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI2NTgxMzMz", "url": "https://github.com/apache/phoenix/pull/798#pullrequestreview-426581333", "createdAt": "2020-06-08T20:08:15Z", "commit": {"oid": "351bf8f3bfdb941c363d5d9b5e54d85cf85de9ce"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI2NTgxNTIz", "url": "https://github.com/apache/phoenix/pull/798#pullrequestreview-426581523", "createdAt": "2020-06-08T20:08:32Z", "commit": {"oid": "351bf8f3bfdb941c363d5d9b5e54d85cf85de9ce"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOFQyMDowODozMlrOGgujTA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOFQyMDowODozMlrOGgujTA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjk3MDMxNg==", "bodyText": "nit: extra lines", "url": "https://github.com/apache/phoenix/pull/798#discussion_r436970316", "createdAt": "2020-06-08T20:08:32Z", "author": {"login": "swaroopak"}, "path": "phoenix-core/src/it/java/org/apache/phoenix/end2end/ParameterizedIndexUpgradeToolIT.java", "diffHunk": "@@ -169,59 +167,144 @@ private void setClusterProperties() {\n \n     private void prepareSetup() throws SQLException {\n         //inputList is \"TEST.MOCK1,TEST1.MOCK2,TEST.MOCK3\";\n+\n+        String mockTableOne = \"TEST.\" + generateUniqueName();\n+        TABLE_LIST[0] = mockTableOne;\n+        String mockTableTwo = \"TEST1.\" + generateUniqueName();\n+        TABLE_LIST[1] = mockTableTwo;\n+        String mockTableThree = \"TEST.\" + generateUniqueName();\n+        TABLE_LIST[2] = mockTableThree;\n+        String multiTenantTable = \"TEST.\" + generateUniqueName();\n+        TABLE_LIST[3] = multiTenantTable;\n+        INPUT_LIST = StringUtils.join(TABLE_LIST, \",\");\n         if (isNamespaceEnabled) {\n-            conn.createStatement().execute(\"CREATE SCHEMA TEST\");\n-            conn.createStatement().execute(\"CREATE SCHEMA TEST1\");\n+            TABLE_LIST_NAMESPACE[0] = mockTableOne.replace(\".\", \":\");\n+            TABLE_LIST_NAMESPACE[1] = mockTableTwo.replace(\".\", \":\");\n+            TABLE_LIST_NAMESPACE[2] = mockTableThree.replace(\".\", \":\");\n+            TABLE_LIST_NAMESPACE[3] = multiTenantTable.replace(\".\", \":\");\n+            conn.createStatement().execute(\"CREATE SCHEMA IF NOT EXISTS TEST\");\n+            conn.createStatement().execute(\"CREATE SCHEMA IF NOT EXISTS TEST1\");\n         }\n-        conn.createStatement().execute(\"CREATE TABLE TEST.MOCK1 (id bigint NOT NULL \"\n+\n+\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "351bf8f3bfdb941c363d5d9b5e54d85cf85de9ce"}, "originalPosition": 99}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f45b91af71fef6d3da45a35755b316bdfec35312", "author": {"user": {"login": "gjacoby126", "name": "Geoffrey Jacoby"}}, "url": "https://github.com/apache/phoenix/commit/f45b91af71fef6d3da45a35755b316bdfec35312", "committedDate": "2020-06-08T21:05:41Z", "message": "PHOENIX-5942 - ParameterizedIndexUpgradeToolIT is too slow"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "89faeff859f07ef56b6047e8a8f3cd837f195687", "author": {"user": {"login": "gjacoby126", "name": "Geoffrey Jacoby"}}, "url": "https://github.com/apache/phoenix/commit/89faeff859f07ef56b6047e8a8f3cd837f195687", "committedDate": "2020-06-08T21:23:23Z", "message": "PHOENIX-5942 - ParameterizedIndexUpgradeToolIT is too slow"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI3NDI0MzE3", "url": "https://github.com/apache/phoenix/pull/798#pullrequestreview-427424317", "createdAt": "2020-06-09T18:18:59Z", "commit": {"oid": "89faeff859f07ef56b6047e8a8f3cd837f195687"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI3NDQ4NTIw", "url": "https://github.com/apache/phoenix/pull/798#pullrequestreview-427448520", "createdAt": "2020-06-09T18:51:41Z", "commit": {"oid": "89faeff859f07ef56b6047e8a8f3cd837f195687"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2041, "cost": 1, "resetAt": "2021-10-29T19:57:52Z"}}}