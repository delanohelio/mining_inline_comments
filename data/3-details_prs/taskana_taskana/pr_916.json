{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzczNjgxNzcx", "number": 916, "title": "TSK-1106 Make ClassificationSummaryResource attributes private", "bodyText": "TSK-1106 Converted tests to AssertJ", "createdAt": "2020-02-11T14:13:49Z", "url": "https://github.com/Taskana/taskana/pull/916", "merged": true, "mergeCommit": {"oid": "92bddfa1fd308e86d8200741a48552188c2e872b"}, "closed": true, "closedAt": "2020-02-12T11:53:09Z", "author": {"login": "sofie29"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcDTHhYAFqTM1NjcxMjkzNw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcDk9J1AFqTM1NzM5MTUzNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU2NzEyOTM3", "url": "https://github.com/Taskana/taskana/pull/916#pullrequestreview-356712937", "createdAt": "2020-02-11T14:44:13Z", "commit": {"oid": "b5061c79baf19a623d2c42e12623980139dd79c7"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMVQxNDo0NDoxM1rOFoLnIA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMVQxNTowNDowNFrOFoMbzA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzY3NzYwMA==", "bodyText": "Pls get rid of this", "url": "https://github.com/Taskana/taskana/pull/916#discussion_r377677600", "createdAt": "2020-02-11T14:44:13Z", "author": {"login": "gitgoodjhe"}, "path": "rest/taskana-rest-spring/src/test/java/pro/taskana/rest/ClassificationControllerIntTest.java", "diffHunk": "@@ -1,11 +1,8 @@\n package pro.taskana.rest;\n \n-import static org.junit.Assert.assertEquals;\n-import static org.junit.Assert.assertNotNull;\n-import static org.junit.Assert.assertTrue;\n+import static org.assertj.core.api.Assertions.assertThat;\n import static org.junit.jupiter.api.Assertions.assertThrows;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b5061c79baf19a623d2c42e12623980139dd79c7"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzY4OTU0Ng==", "bodyText": "We can substitute these Assertions.assertThrows cases with assertJ as follows:\nassertThatThrownBy(\n\n    () -> template.exchange(\n        restHelper.toUrl(Mapping.URL_CLASSIFICATIONS),\n        HttpMethod.POST,\n        new HttpEntity<>(newClassification, restHelper.getHeaders()),\n        ParameterizedTypeReference.forType(ClassificationResource.class)))\n    .isInstanceOf(HttpClientErrorException.class)\n    .extracting(ex ->((HttpClientErrorException) ex ).getStatusCode())\n      .isEqualTo(HttpStatus.BAD_REQUEST);", "url": "https://github.com/Taskana/taskana/pull/916#discussion_r377689546", "createdAt": "2020-02-11T15:01:37Z", "author": {"login": "gitgoodjhe"}, "path": "rest/taskana-rest-spring/src/test/java/pro/taskana/rest/ClassificationControllerIntTest.java", "diffHunk": "@@ -235,13 +234,13 @@ void testReturn400IfCreateClassificationWithIncompatibleParentIdAndKey() throws\n                     new HttpEntity<>(newClassification, restHelper.getHeaders()),\n                     ParameterizedTypeReference.forType(ClassificationResource.class)));\n \n-    assertNotNull(e);\n-    assertEquals(HttpStatus.BAD_REQUEST, e.getStatusCode());\n+    assertThat(e).isNotNull();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b5061c79baf19a623d2c42e12623980139dd79c7"}, "originalPosition": 190}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzY4OTk2Nw==", "bodyText": "see above", "url": "https://github.com/Taskana/taskana/pull/916#discussion_r377689967", "createdAt": "2020-02-11T15:02:15Z", "author": {"login": "gitgoodjhe"}, "path": "rest/taskana-rest-spring/src/test/java/pro/taskana/rest/ClassificationControllerIntTest.java", "diffHunk": "@@ -257,28 +256,28 @@ void testCreateClassificationWithClassificationIdReturnsError400() throws IOExce\n                     new HttpEntity<>(newClassification, restHelper.getHeaders()),\n                     ParameterizedTypeReference.forType(ClassificationResource.class)));\n \n-    assertNotNull(e);\n-    assertEquals(HttpStatus.BAD_REQUEST, e.getStatusCode());\n+    assertThat(e).isNotNull();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b5061c79baf19a623d2c42e12623980139dd79c7"}, "originalPosition": 207}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzY5MTA4NA==", "bodyText": "is this a formatter issue? same for the following identation differences", "url": "https://github.com/Taskana/taskana/pull/916#discussion_r377691084", "createdAt": "2020-02-11T15:04:04Z", "author": {"login": "gitgoodjhe"}, "path": "rest/taskana-rest-spring/src/test/java/pro/taskana/rest/TaskControllerIntTest.java", "diffHunk": "@@ -251,21 +252,22 @@ void testGetAllTasksByWorkbasketIdWithinSingleIndefiniteDueTimeInterval() {\n     assertThat(response.getBody().getContent()).hasSize(6);\n   }\n \n+  @SuppressWarnings(\"checkstyle:Indentation\")\n   @Test\n   void testGetAllTasksByWorkbasketIdWithInvalidDueParamsCombination() {\n     assertThatThrownBy(\n-        () ->\n-          template.exchange(\n-            restHelper.toUrl(Mapping.URL_TASKS)\n-                + \"?workbasket-id=WBI:100000000000000000000000000000000001\"\n-                + \"&due=2020-01-22T09:44:47.453Z,,\"\n-                + \"2020-01-19T07:44:47.453Z,2020-01-19T19:44:47.453Z,\"\n-                + \",2020-01-18T09:44:47.453Z\"\n-                + \"&due-from=2020-01-19T07:44:47.453Z\"\n-                + \"&sort-by=planned\",\n-            HttpMethod.GET,\n-            restHelper.defaultRequest(),\n-            ParameterizedTypeReference.forType(TaskSummaryListResource.class)))\n+            () ->\n+                template.exchange(\n+                    restHelper.toUrl(Mapping.URL_TASKS)\n+                        + \"?workbasket-id=WBI:100000000000000000000000000000000001\"\n+                        + \"&due=2020-01-22T09:44:47.453Z,,\"\n+                        + \"2020-01-19T07:44:47.453Z,2020-01-19T19:44:47.453Z,\"\n+                        + \",2020-01-18T09:44:47.453Z\"\n+                        + \"&due-from=2020-01-19T07:44:47.453Z\"\n+                        + \"&sort-by=planned\",\n+                    HttpMethod.GET,\n+                    restHelper.defaultRequest(),\n+                    ParameterizedTypeReference.forType(TaskSummaryListResource.class)))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b5061c79baf19a623d2c42e12623980139dd79c7"}, "originalPosition": 66}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9c032a507901fb95a82a324e9d8b32341323951b", "author": {"user": {"login": "sofie29", "name": "Sofie Hofmann"}}, "url": "https://github.com/Taskana/taskana/commit/9c032a507901fb95a82a324e9d8b32341323951b", "committedDate": "2020-02-12T11:13:53Z", "message": "TSK-1106 Make ClassificationSummaryResource attributes private\n\nTSK-1106 Converted tests to AssertJ\n\nTSK-1106 Converted assertThrows to AssertJ\n\nTSK-1106 Removed suppress checkstyle for lambdas"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU3MzkxNTM3", "url": "https://github.com/Taskana/taskana/pull/916#pullrequestreview-357391537", "createdAt": "2020-02-12T11:51:14Z", "commit": {"oid": "9c032a507901fb95a82a324e9d8b32341323951b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4560, "cost": 1, "resetAt": "2021-11-02T12:20:56Z"}}}