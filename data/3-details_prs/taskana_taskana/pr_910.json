{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzcyNTc2MjU0", "number": 910, "title": "Tsk1031: Update to Spring Boot 2.2.4 and Spring 5.2.3", "bodyText": "", "createdAt": "2020-02-07T19:57:06Z", "url": "https://github.com/Taskana/taskana/pull/910", "merged": true, "mergeCommit": {"oid": "03ab4c443183358b41f5efcedf764448dec4ea8a"}, "closed": true, "closedAt": "2020-02-11T16:05:36Z", "author": {"login": "holgerhagen"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcCsbT1gFqTM1NTYyMjE4OQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcDTg3cgFqTM1Njc1NDYxMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU1NjIyMTg5", "url": "https://github.com/Taskana/taskana/pull/910#pullrequestreview-355622189", "createdAt": "2020-02-09T17:49:38Z", "commit": {"oid": "a2255627b878cae0214c5b0df259ca9f9536ee6e"}, "state": "DISMISSED", "comments": {"totalCount": 23, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wOVQxNzo0OTozOVrOFnWJ1g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wOVQxNzo1Nzo0OFrOFnWL5A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjgwMTc1MA==", "bodyText": "We don't have a formatter yet for our *.xml files. So this is fine for now.\nWhat did you exactly change?", "url": "https://github.com/Taskana/taskana/pull/910#discussion_r376801750", "createdAt": "2020-02-09T17:49:39Z", "author": {"login": "mustaphazorgati"}, "path": "history/taskana-simplehistory-rest-spring-example/pom.xml", "diffHunk": "@@ -1,99 +1,111 @@\n-<?xml version=\"1.0\" encoding=\"UTF-8\"?>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a2255627b878cae0214c5b0df259ca9f9536ee6e"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjgwMTc1Nw==", "bodyText": "Same as above.. Fine for now. What did you exactly change?", "url": "https://github.com/Taskana/taskana/pull/910#discussion_r376801757", "createdAt": "2020-02-09T17:49:56Z", "author": {"login": "mustaphazorgati"}, "path": "history/taskana-simplehistory-spring-test/pom.xml", "diffHunk": "@@ -1,175 +1,187 @@\n-<?xml version=\"1.0\" encoding=\"UTF-8\"?>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a2255627b878cae0214c5b0df259ca9f9536ee6e"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjgwMTc3Ng==", "bodyText": "Why is the diff so big?", "url": "https://github.com/Taskana/taskana/pull/910#discussion_r376801776", "createdAt": "2020-02-09T17:50:17Z", "author": {"login": "mustaphazorgati"}, "path": "lib/taskana-core/src/main/java/pro/taskana/common/internal/jobs/WorkbasketCleanupJob.java", "diffHunk": "@@ -1,149 +1,146 @@\n-package pro.taskana.common.internal.jobs;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a2255627b878cae0214c5b0df259ca9f9536ee6e"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjgwMTc4NQ==", "bodyText": "Please reformat.", "url": "https://github.com/Taskana/taskana/pull/910#discussion_r376801785", "createdAt": "2020-02-09T17:50:27Z", "author": {"login": "mustaphazorgati"}, "path": "lib/taskana-core/src/main/java/pro/taskana/common/internal/jobs/WorkbasketCleanupJob.java", "diffHunk": "@@ -1,149 +1,146 @@\n-package pro.taskana.common.internal.jobs;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjgwMTc3Ng=="}, "originalCommit": {"oid": "a2255627b878cae0214c5b0df259ca9f9536ee6e"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjgwMTgyMA==", "bodyText": "Why did you add this property?", "url": "https://github.com/Taskana/taskana/pull/910#discussion_r376801820", "createdAt": "2020-02-09T17:50:54Z", "author": {"login": "mustaphazorgati"}, "path": "lib/taskana-spring-example/src/test/java/pro/taskana/TaskanaTransactionIntTest.java", "diffHunk": "@@ -45,19 +40,20 @@\n import pro.taskana.workbasket.api.WorkbasketType;\n import pro.taskana.workbasket.api.exceptions.InvalidWorkbasketException;\n import pro.taskana.workbasket.api.exceptions.WorkbasketAlreadyExistException;\n+import pro.taskana.workbasket.api.exceptions.WorkbasketInUseException;\n import pro.taskana.workbasket.api.exceptions.WorkbasketNotFoundException;\n import pro.taskana.workbasket.internal.WorkbasketImpl;\n \n /** Test for internal transaction management. */\n @ExtendWith(SpringExtension.class)\n @SpringBootTest(\n     classes = TaskanaConfigTestApplication.class,\n-    webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n+    webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT,\n+    properties = \"spring.main.allow-bean-definition-overriding=true\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a2255627b878cae0214c5b0df259ca9f9536ee6e"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjgwMTg5MQ==", "bodyText": "Fine for now. Anything else except for the version changes?", "url": "https://github.com/Taskana/taskana/pull/910#discussion_r376801891", "createdAt": "2020-02-09T17:51:57Z", "author": {"login": "mustaphazorgati"}, "path": "pom.xml", "diffHunk": "@@ -1,351 +1,352 @@\n-<project xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://maven.apache.org/POM/4.0.0\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a2255627b878cae0214c5b0df259ca9f9536ee6e"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjgwMTkwMw==", "bodyText": "What changed?", "url": "https://github.com/Taskana/taskana/pull/910#discussion_r376801903", "createdAt": "2020-02-09T17:52:06Z", "author": {"login": "mustaphazorgati"}, "path": "rest/taskana-rest-spring-example-boot/pom.xml", "diffHunk": "@@ -1,201 +1,213 @@\n-<?xml version=\"1.0\" encoding=\"UTF-8\"?>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a2255627b878cae0214c5b0df259ca9f9536ee6e"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjgwMTkwNw==", "bodyText": "Please reformat.", "url": "https://github.com/Taskana/taskana/pull/910#discussion_r376801907", "createdAt": "2020-02-09T17:52:15Z", "author": {"login": "mustaphazorgati"}, "path": "rest/taskana-rest-spring-example-boot/src/main/java/pro/taskana/rest/ExampleRestApplication.java", "diffHunk": "@@ -1,74 +1,73 @@\n-package pro.taskana.rest;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a2255627b878cae0214c5b0df259ca9f9536ee6e"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjgwMTk2MA==", "bodyText": "And why is it here and not in the application.properties file?", "url": "https://github.com/Taskana/taskana/pull/910#discussion_r376801960", "createdAt": "2020-02-09T17:53:14Z", "author": {"login": "mustaphazorgati"}, "path": "lib/taskana-spring-example/src/test/java/pro/taskana/TaskanaTransactionIntTest.java", "diffHunk": "@@ -45,19 +40,20 @@\n import pro.taskana.workbasket.api.WorkbasketType;\n import pro.taskana.workbasket.api.exceptions.InvalidWorkbasketException;\n import pro.taskana.workbasket.api.exceptions.WorkbasketAlreadyExistException;\n+import pro.taskana.workbasket.api.exceptions.WorkbasketInUseException;\n import pro.taskana.workbasket.api.exceptions.WorkbasketNotFoundException;\n import pro.taskana.workbasket.internal.WorkbasketImpl;\n \n /** Test for internal transaction management. */\n @ExtendWith(SpringExtension.class)\n @SpringBootTest(\n     classes = TaskanaConfigTestApplication.class,\n-    webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n+    webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT,\n+    properties = \"spring.main.allow-bean-definition-overriding=true\")", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjgwMTgyMA=="}, "originalCommit": {"oid": "a2255627b878cae0214c5b0df259ca9f9536ee6e"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjgwMTk3NQ==", "bodyText": "do we need debug here?", "url": "https://github.com/Taskana/taskana/pull/910#discussion_r376801975", "createdAt": "2020-02-09T17:53:33Z", "author": {"login": "mustaphazorgati"}, "path": "rest/taskana-rest-spring-example-boot/src/main/resources/application.properties", "diffHunk": "@@ -1,4 +1,4 @@\n-logging.level.pro.taskana=INFO\n+logging.level.pro.taskana=DEBUG", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a2255627b878cae0214c5b0df259ca9f9536ee6e"}, "originalPosition": 2}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjgwMTk5MA==", "bodyText": "what changed?", "url": "https://github.com/Taskana/taskana/pull/910#discussion_r376801990", "createdAt": "2020-02-09T17:53:40Z", "author": {"login": "mustaphazorgati"}, "path": "rest/taskana-rest-spring-example-common/pom.xml", "diffHunk": "@@ -1,136 +1,128 @@\n-<?xml version=\"1.0\" encoding=\"UTF-8\"?>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a2255627b878cae0214c5b0df259ca9f9536ee6e"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjgwMjAwNA==", "bodyText": "Please reformat", "url": "https://github.com/Taskana/taskana/pull/910#discussion_r376802004", "createdAt": "2020-02-09T17:53:48Z", "author": {"login": "mustaphazorgati"}, "path": "rest/taskana-rest-spring-example-common/src/test/java/pro/taskana/RestHelper.java", "diffHunk": "@@ -1,70 +1,80 @@\n-package pro.taskana;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a2255627b878cae0214c5b0df259ca9f9536ee6e"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjgwMjAyMw==", "bodyText": "Please reformat.", "url": "https://github.com/Taskana/taskana/pull/910#discussion_r376802023", "createdAt": "2020-02-09T17:54:02Z", "author": {"login": "mustaphazorgati"}, "path": "rest/taskana-rest-spring-example-common/src/test/java/pro/taskana/jobs/AsyncUpdateJobIntTest.java", "diffHunk": "@@ -1,168 +1,168 @@\n-package pro.taskana.jobs;\n-\n-import static org.junit.Assert.assertFalse;\n-import static org.junit.Assert.assertNotNull;\n-\n-import com.fasterxml.jackson.databind.ObjectMapper;\n-import java.time.Instant;\n-import java.util.ArrayList;\n-import java.util.Arrays;\n-import java.util.List;\n-import org.junit.jupiter.api.BeforeAll;\n-import org.junit.jupiter.api.Test;\n-import org.junit.jupiter.api.extension.ExtendWith;\n-import org.springframework.beans.factory.annotation.Autowired;\n-import org.springframework.boot.test.context.SpringBootTest;\n-import org.springframework.core.ParameterizedTypeReference;\n-import org.springframework.hateoas.Link;\n-import org.springframework.http.HttpEntity;\n-import org.springframework.http.HttpMethod;\n-import org.springframework.http.ResponseEntity;\n-import org.springframework.test.context.ActiveProfiles;\n-import org.springframework.test.context.junit.jupiter.SpringExtension;\n-import org.springframework.web.client.RestTemplate;\n-\n-import pro.taskana.RestHelper;\n-import pro.taskana.classification.api.Classification;\n-import pro.taskana.common.api.exceptions.InvalidArgumentException;\n-import pro.taskana.rest.Mapping;\n-import pro.taskana.rest.RestConfiguration;\n-import pro.taskana.rest.resource.ClassificationResource;\n-import pro.taskana.rest.resource.ClassificationResourceAssembler;\n-import pro.taskana.rest.resource.TaskResource;\n-import pro.taskana.rest.resource.TaskResourceAssembler;\n-import pro.taskana.task.api.Task;\n-\n-/** Test async updates. */\n-@ActiveProfiles({\"test\"})\n-@ExtendWith(SpringExtension.class)\n-@SpringBootTest(\n-    classes = RestConfiguration.class,\n-    webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n-class AsyncUpdateJobIntTest {\n-\n-  private static final String CLASSIFICATION_ID = \"CLI:100000000000000000000000000000000003\";\n-\n-  static RestTemplate template;\n-\n-  @Autowired ClassificationResourceAssembler classificationResourceAssembler;\n-  @Autowired TaskResourceAssembler taskResourceAssembler;\n-  @Autowired JobScheduler jobScheduler;\n-  @Autowired RestHelper restHelper;\n-\n-  @BeforeAll\n-  static void init() {\n-    template = RestHelper.getRestTemplate();\n-  }\n-\n-  @Test\n-  void testUpdateClassificationPrioServiceLevel() throws Exception {\n-\n-    // 1st step: get old classification :\n-    final Instant before = Instant.now();\n-    final ObjectMapper mapper = new ObjectMapper();\n-\n-    ResponseEntity<ClassificationResource> response =\n-        template.exchange(\n-            restHelper.toUrl(Mapping.URL_CLASSIFICATIONS_ID, CLASSIFICATION_ID),\n-            HttpMethod.GET,\n-            new HttpEntity<String>(restHelper.getHeaders()),\n-            ParameterizedTypeReference.forType(ClassificationResource.class));\n-\n-    assertNotNull(response.getBody());\n-    ClassificationResource classification = response.getBody();\n-    assertNotNull(classification.getLink(Link.REL_SELF));\n-\n-    // 2nd step: modify classification and trigger update\n-    classification.removeLinks();\n-    classification.setServiceLevel(\"P5D\");\n-    classification.setPriority(1000);\n-\n-    template.put(\n-        restHelper.toUrl(Mapping.URL_CLASSIFICATIONS_ID, CLASSIFICATION_ID),\n-        new HttpEntity<>(mapper.writeValueAsString(classification), restHelper.getHeaders()));\n-\n-    // trigger jobs twice to refresh all entries. first entry on the first call and follow up on the\n-    // seconds call\n-    jobScheduler.triggerJobs();\n-    jobScheduler.triggerJobs();\n-\n-    // verify the classification modified timestamp is after 'before'\n-    ResponseEntity<ClassificationResource> repeatedResponse =\n-        template.exchange(\n-            restHelper.toUrl(Mapping.URL_CLASSIFICATIONS_ID, CLASSIFICATION_ID),\n-            HttpMethod.GET,\n-            new HttpEntity<String>(restHelper.getHeaders()),\n-            ParameterizedTypeReference.forType(ClassificationResource.class));\n-\n-    assertNotNull(repeatedResponse.getBody());\n-\n-    ClassificationResource modifiedClassificationResource = repeatedResponse.getBody();\n-    Classification modifiedClassification =\n-        classificationResourceAssembler.toModel(modifiedClassificationResource);\n-\n-    assertFalse(before.isAfter(modifiedClassification.getModified()));\n-\n-    List<String> affectedTasks =\n-        new ArrayList<>(\n-            Arrays.asList(\n-                \"TKI:000000000000000000000000000000000003\",\n-                \"TKI:000000000000000000000000000000000004\",\n-                \"TKI:000000000000000000000000000000000005\",\n-                \"TKI:000000000000000000000000000000000006\",\n-                \"TKI:000000000000000000000000000000000007\",\n-                \"TKI:000000000000000000000000000000000008\",\n-                \"TKI:000000000000000000000000000000000009\",\n-                \"TKI:000000000000000000000000000000000010\",\n-                \"TKI:000000000000000000000000000000000011\",\n-                \"TKI:000000000000000000000000000000000012\",\n-                \"TKI:000000000000000000000000000000000013\",\n-                \"TKI:000000000000000000000000000000000014\",\n-                \"TKI:000000000000000000000000000000000015\",\n-                \"TKI:000000000000000000000000000000000016\",\n-                \"TKI:000000000000000000000000000000000017\",\n-                \"TKI:000000000000000000000000000000000018\",\n-                \"TKI:000000000000000000000000000000000019\",\n-                \"TKI:000000000000000000000000000000000020\",\n-                \"TKI:000000000000000000000000000000000021\",\n-                \"TKI:000000000000000000000000000000000022\",\n-                \"TKI:000000000000000000000000000000000023\",\n-                \"TKI:000000000000000000000000000000000024\",\n-                \"TKI:000000000000000000000000000000000025\",\n-                \"TKI:000000000000000000000000000000000026\",\n-                \"TKI:000000000000000000000000000000000027\",\n-                \"TKI:000000000000000000000000000000000028\",\n-                \"TKI:000000000000000000000000000000000029\",\n-                \"TKI:000000000000000000000000000000000030\",\n-                \"TKI:000000000000000000000000000000000031\",\n-                \"TKI:000000000000000000000000000000000032\",\n-                \"TKI:000000000000000000000000000000000033\",\n-                \"TKI:000000000000000000000000000000000034\",\n-                \"TKI:000000000000000000000000000000000035\",\n-                \"TKI:000000000000000000000000000000000100\",\n-                \"TKI:000000000000000000000000000000000101\",\n-                \"TKI:000000000000000000000000000000000102\",\n-                \"TKI:000000000000000000000000000000000103\"));\n-    for (String taskId : affectedTasks) {\n-      verifyTaskIsModifiedAfterOrEquals(taskId, before);\n-    }\n-  }\n-\n-  private void verifyTaskIsModifiedAfterOrEquals(String taskId, Instant before)\n-      throws InvalidArgumentException {\n-\n-    ResponseEntity<TaskResource> taskResponse =\n-        template.exchange(\n-            restHelper.toUrl(Mapping.URL_TASKS_ID, taskId),\n-            HttpMethod.GET,\n-            new HttpEntity<>(restHelper.getHeadersAdmin()),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a2255627b878cae0214c5b0df259ca9f9536ee6e"}, "originalPosition": 158}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjgwMjAzMg==", "bodyText": "Please reformat", "url": "https://github.com/Taskana/taskana/pull/910#discussion_r376802032", "createdAt": "2020-02-09T17:54:11Z", "author": {"login": "mustaphazorgati"}, "path": "rest/taskana-rest-spring-example-common/src/test/java/pro/taskana/ldap/LdapTest.java", "diffHunk": "@@ -1,36 +1,37 @@\n-package pro.taskana.ldap;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a2255627b878cae0214c5b0df259ca9f9536ee6e"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjgwMjA0OQ==", "bodyText": "Where did these tests go?", "url": "https://github.com/Taskana/taskana/pull/910#discussion_r376802049", "createdAt": "2020-02-09T17:54:33Z", "author": {"login": "mustaphazorgati"}, "path": "rest/taskana-rest-spring-example-common/src/test/java/pro/taskana/rest/AccessIdValidationControllerIntTest.java", "diffHunk": "@@ -1,86 +0,0 @@\n-package pro.taskana.rest;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a2255627b878cae0214c5b0df259ca9f9536ee6e"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjgwMjA1Nw==", "bodyText": "Please reformat.", "url": "https://github.com/Taskana/taskana/pull/910#discussion_r376802057", "createdAt": "2020-02-09T17:54:43Z", "author": {"login": "mustaphazorgati"}, "path": "rest/taskana-rest-spring-example-common/src/test/java/pro/taskana/rest/ExampleRestApplication.java", "diffHunk": "@@ -1,74 +1,73 @@\n-package pro.taskana.rest;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a2255627b878cae0214c5b0df259ca9f9536ee6e"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjgwMjA2Mw==", "bodyText": "what changed?", "url": "https://github.com/Taskana/taskana/pull/910#discussion_r376802063", "createdAt": "2020-02-09T17:54:52Z", "author": {"login": "mustaphazorgati"}, "path": "rest/taskana-rest-spring-example-wildfly/pom.xml", "diffHunk": "@@ -1,359 +1,355 @@\n-<project xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://maven.apache.org/POM/4.0.0\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a2255627b878cae0214c5b0df259ca9f9536ee6e"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjgwMjA3Mw==", "bodyText": "Please reformat", "url": "https://github.com/Taskana/taskana/pull/910#discussion_r376802073", "createdAt": "2020-02-09T17:55:01Z", "author": {"login": "mustaphazorgati"}, "path": "rest/taskana-rest-spring-example-wildfly/src/main/java/pro/taskana/TaskanaWildFlyApplication.java", "diffHunk": "@@ -1,122 +1,121 @@\n-package pro.taskana;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a2255627b878cae0214c5b0df259ca9f9536ee6e"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjgwMjA4OQ==", "bodyText": "Please reformat", "url": "https://github.com/Taskana/taskana/pull/910#discussion_r376802089", "createdAt": "2020-02-09T17:55:10Z", "author": {"login": "mustaphazorgati"}, "path": "rest/taskana-rest-spring-example-wildfly/src/main/java/pro/taskana/wildfly/security/WildflyWebSecurityConfig.java", "diffHunk": "@@ -1,203 +1,203 @@\n-package pro.taskana.wildfly.security;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a2255627b878cae0214c5b0df259ca9f9536ee6e"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjgwMjE0Nw==", "bodyText": "Please run git config --global core.autocrlf input so that the line endings are unix and not windows :)", "url": "https://github.com/Taskana/taskana/pull/910#discussion_r376802147", "createdAt": "2020-02-09T17:56:03Z", "author": {"login": "mustaphazorgati"}, "path": "rest/taskana-rest-spring-example-wildfly/src/main/resources/application.properties", "diffHunk": "@@ -1,41 +1,44 @@\n-spring.profiles.active=@activatedProperties@", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a2255627b878cae0214c5b0df259ca9f9536ee6e"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjgwMjE3Ng==", "bodyText": "Please reformat", "url": "https://github.com/Taskana/taskana/pull/910#discussion_r376802176", "createdAt": "2020-02-09T17:56:27Z", "author": {"login": "mustaphazorgati"}, "path": "rest/taskana-rest-spring/src/main/java/pro/taskana/rest/ClassificationController.java", "diffHunk": "@@ -1,324 +1,325 @@\n-package pro.taskana.rest;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a2255627b878cae0214c5b0df259ca9f9536ee6e"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjgwMjIzOQ==", "bodyText": "Please reformat.", "url": "https://github.com/Taskana/taskana/pull/910#discussion_r376802239", "createdAt": "2020-02-09T17:57:14Z", "author": {"login": "mustaphazorgati"}, "path": "rest/taskana-rest-spring/src/main/java/pro/taskana/rest/RestConfiguration.java", "diffHunk": "@@ -1,77 +1,78 @@\n-package pro.taskana.rest;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a2255627b878cae0214c5b0df259ca9f9536ee6e"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjgwMjI3Ng==", "bodyText": "This should not have happened. Reformat please :)", "url": "https://github.com/Taskana/taskana/pull/910#discussion_r376802276", "createdAt": "2020-02-09T17:57:48Z", "author": {"login": "mustaphazorgati"}, "path": "rest/taskana-rest-spring/src/main/java/pro/taskana/rest/WorkbasketController.java", "diffHunk": "@@ -82,8 +83,7 @@\n \n   private WorkbasketAccessItemResourceAssembler workbasketAccessItemResourceAssembler;\n \n-  WorkbasketController(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a2255627b878cae0214c5b0df259ca9f9536ee6e"}, "originalPosition": 12}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "487382c7e388bfcae160a6e54026398e6a83df84", "author": {"user": {"login": "holgerhagen", "name": null}}, "url": "https://github.com/Taskana/taskana/commit/487382c7e388bfcae160a6e54026398e6a83df84", "committedDate": "2020-02-11T13:41:40Z", "message": "TSK-1031: removed unnecessary throws statements"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "add2992addaccef50058b415a5e4fd757a8f8df0", "author": {"user": {"login": "holgerhagen", "name": null}}, "url": "https://github.com/Taskana/taskana/commit/add2992addaccef50058b415a5e4fd757a8f8df0", "committedDate": "2020-02-11T13:43:37Z", "message": "TSK-1031: update Spring Boot to 2.2.4.RELEASE except Hateoas."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "baf7761f452bbb60dca079cde8169c765bdbe545", "author": {"user": {"login": "holgerhagen", "name": null}}, "url": "https://github.com/Taskana/taskana/commit/baf7761f452bbb60dca079cde8169c765bdbe545", "committedDate": "2020-02-11T13:43:37Z", "message": "TSK-1031: add printing of surefire plugin in case of failure."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ea872aea0b260c57a7a2d472a8e6e8857052ec94", "author": {"user": {"login": "holgerhagen", "name": null}}, "url": "https://github.com/Taskana/taskana/commit/ea872aea0b260c57a7a2d472a8e6e8857052ec94", "committedDate": "2020-02-11T13:43:37Z", "message": "TSK-1031: required changes to wildfly/arquillian config"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU2Njk1Mjk4", "url": "https://github.com/Taskana/taskana/pull/910#pullrequestreview-356695298", "createdAt": "2020-02-11T14:23:22Z", "commit": {"oid": "a82b2bae5509a6c1ee09bfe39159b67a6c70e47e"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMVQxNDoyMzoyMlrOFoKykQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMVQxNDoyNzo1NVrOFoK96Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzY2NDE0NQ==", "bodyText": "pls adjust this line", "url": "https://github.com/Taskana/taskana/pull/910#discussion_r377664145", "createdAt": "2020-02-11T14:23:22Z", "author": {"login": "gitgoodjhe"}, "path": "pom.xml", "diffHunk": "@@ -50,13 +50,14 @@\n \t\t<version.sonatype>1.6.8</version.sonatype>\n \n \t\t<!-- spring dependencies -->\n-\t\t<version.spring>5.0.5.RELEASE</version.spring>\n+\t\t<version.spring>5.2.3.RELEASE</version.spring>\n+        <version.spring.security>5.2.1.RELEASE</version.spring.security>\n \t\t<version.spring.core>2.0.0.RELEASE</version.spring.core>\n-\t\t<version.spring.boot>2.0.2.RELEASE</version.spring.boot>\n+\t\t<version.spring.boot>2.2.4.RELEASE</version.spring.boot>\n \t\t<version.spring.restdocs>2.0.2.RELEASE</version.spring.restdocs>\n \t\t<version.spring.mybatis>2.0.3</version.spring.mybatis>\n-\t\t<version.spring.ldap>2.3.2.RELEASE</version.spring.ldap>\n \t\t<version.spring.hateos>0.24.0.RELEASE</version.spring.hateos>\n+        <version.spring.ldap>2.3.2.RELEASE</version.spring.ldap>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a82b2bae5509a6c1ee09bfe39159b67a6c70e47e"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzY2NDI0MA==", "bodyText": "pls adjust this line", "url": "https://github.com/Taskana/taskana/pull/910#discussion_r377664240", "createdAt": "2020-02-11T14:23:32Z", "author": {"login": "gitgoodjhe"}, "path": "pom.xml", "diffHunk": "@@ -50,13 +50,14 @@\n \t\t<version.sonatype>1.6.8</version.sonatype>\n \n \t\t<!-- spring dependencies -->\n-\t\t<version.spring>5.0.5.RELEASE</version.spring>\n+\t\t<version.spring>5.2.3.RELEASE</version.spring>\n+        <version.spring.security>5.2.1.RELEASE</version.spring.security>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a82b2bae5509a6c1ee09bfe39159b67a6c70e47e"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzY2NDc1Mw==", "bodyText": "Pls adjust identation levels", "url": "https://github.com/Taskana/taskana/pull/910#discussion_r377664753", "createdAt": "2020-02-11T14:24:20Z", "author": {"login": "gitgoodjhe"}, "path": "history/taskana-simplehistory-spring-test/pom.xml", "diffHunk": "@@ -32,7 +32,18 @@\n \t\t\t<groupId>pro.taskana.simplehistory</groupId>\n \t\t\t<artifactId>taskana-simplehistory-rest-spring</artifactId>\n \t\t\t<version>${project.version}</version>\n-\t\t</dependency>\n+            <exclusions>\n+                <exclusion>\n+                    <groupId>org.springframework.hateoas</groupId>\n+                    <artifactId>spring-hateoas</artifactId>\n+                </exclusion>\n+            </exclusions>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.springframework.hateoas</groupId>\n+            <artifactId>spring-hateoas</artifactId>\n+            <version>${version.spring.hateos}</version>\n+        </dependency>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a82b2bae5509a6c1ee09bfe39159b67a6c70e47e"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzY2NDk3Ng==", "bodyText": "Still open", "url": "https://github.com/Taskana/taskana/pull/910#discussion_r377664976", "createdAt": "2020-02-11T14:24:38Z", "author": {"login": "gitgoodjhe"}, "path": "rest/taskana-rest-spring-example-boot/src/main/resources/application.properties", "diffHunk": "@@ -1,4 +1,4 @@\n-logging.level.pro.taskana=INFO\n+logging.level.pro.taskana=DEBUG", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjgwMTk3NQ=="}, "originalCommit": {"oid": "a2255627b878cae0214c5b0df259ca9f9536ee6e"}, "originalPosition": 2}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzY2NTU0Mw==", "bodyText": "assertThat(response.getBody().getContent()).hasSize(17)", "url": "https://github.com/Taskana/taskana/pull/910#discussion_r377665543", "createdAt": "2020-02-11T14:25:34Z", "author": {"login": "gitgoodjhe"}, "path": "rest/taskana-rest-spring/src/test/java/pro/taskana/rest/ClassificationControllerIntTest.java", "diffHunk": "@@ -68,15 +76,11 @@ void testGetAllClassificationsKeepingFilters() {\n             HttpMethod.GET,\n             restHelper.defaultRequest(),\n             ParameterizedTypeReference.forType(ClassificationSummaryListResource.class));\n-    assertNotNull(response.getBody().getLink(Link.REL_SELF));\n-    assertTrue(\n-        response\n-            .getBody()\n-            .getLink(Link.REL_SELF)\n-            .getHref()\n-            .endsWith(\"/api/v1/classifications?domain=DOMAIN_A&sort-by=key&order=asc\"));\n-    assertEquals(17, response.getBody().getContent().size());\n-    assertEquals(\"A12\", response.getBody().getContent().iterator().next().key);\n+    assertThat(response.getBody().getLink(Link.REL_SELF)).isNotNull();\n+    assertThat(response.getBody().getLink(Link.REL_SELF).getHref())\n+        .endsWith(\"/api/v1/classifications?domain=DOMAIN_A&sort-by=key&order=asc\");\n+    assertThat(response.getBody().getContent().size()).isEqualTo(17);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a82b2bae5509a6c1ee09bfe39159b67a6c70e47e"}, "originalPosition": 70}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzY2NTk2Nw==", "bodyText": "hasSize()", "url": "https://github.com/Taskana/taskana/pull/910#discussion_r377665967", "createdAt": "2020-02-11T14:26:13Z", "author": {"login": "gitgoodjhe"}, "path": "rest/taskana-rest-spring/src/test/java/pro/taskana/rest/AccessIdControllerIntTest.java", "diffHunk": "@@ -36,7 +39,7 @@ void testQueryGroupsByDn() {\n             HttpMethod.GET,\n             restHelper.defaultRequest(),\n             ParameterizedTypeReference.forType(List.class));\n-    assertEquals(1, response.getBody().size());\n+    assertThat(response.getBody().size()).isEqualTo(1);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a82b2bae5509a6c1ee09bfe39159b67a6c70e47e"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzY2NjEyMQ==", "bodyText": "hasSize()", "url": "https://github.com/Taskana/taskana/pull/910#discussion_r377666121", "createdAt": "2020-02-11T14:26:27Z", "author": {"login": "gitgoodjhe"}, "path": "rest/taskana-rest-spring/src/test/java/pro/taskana/rest/AccessIdControllerIntTest.java", "diffHunk": "@@ -47,6 +50,42 @@ void testQueryGroupsByCn() {\n             HttpMethod.GET,\n             restHelper.defaultRequest(),\n             ParameterizedTypeReference.forType(List.class));\n-    assertEquals(1, response.getBody().size());\n+    assertThat(response.getBody().size()).isEqualTo(1);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a82b2bae5509a6c1ee09bfe39159b67a6c70e47e"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzY2NjI5NA==", "bodyText": "hasSize()", "url": "https://github.com/Taskana/taskana/pull/910#discussion_r377666294", "createdAt": "2020-02-11T14:26:44Z", "author": {"login": "gitgoodjhe"}, "path": "rest/taskana-rest-spring-example-common/src/test/java/pro/taskana/ldap/LdapTest.java", "diffHunk": "@@ -30,7 +30,7 @@ void testFindUsers() throws InvalidArgumentException {\n     if (ldapClient.useLdap()) {\n       List<AccessIdResource> usersAndGroups = ldapClient.searchUsersAndGroups(\"ser0\");\n       System.out.println(\"#### found \" + LoggerUtils.listToString(usersAndGroups));\n-      assertEquals(50, usersAndGroups.size());\n+      assertThat(usersAndGroups.size()).isEqualTo(50);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a82b2bae5509a6c1ee09bfe39159b67a6c70e47e"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzY2NjUyNg==", "bodyText": "hasSize()", "url": "https://github.com/Taskana/taskana/pull/910#discussion_r377666526", "createdAt": "2020-02-11T14:27:06Z", "author": {"login": "gitgoodjhe"}, "path": "rest/taskana-rest-spring/src/test/java/pro/taskana/rest/AccessIdControllerIntTest.java", "diffHunk": "@@ -47,6 +50,42 @@ void testQueryGroupsByCn() {\n             HttpMethod.GET,\n             restHelper.defaultRequest(),\n             ParameterizedTypeReference.forType(List.class));\n-    assertEquals(1, response.getBody().size());\n+    assertThat(response.getBody().size()).isEqualTo(1);\n   }\n+\n+  @Test\n+  void testGetMatches() {\n+    ResponseEntity<List<AccessIdResource>> response =\n+        template.exchange(\n+            restHelper.toUrl(Mapping.URL_ACCESSID) + \"?search-for=ali\",\n+            HttpMethod.GET,\n+            restHelper.defaultRequest(),\n+            ParameterizedTypeReference.forType(AccessIdListResource.class));\n+\n+    List<AccessIdResource> body = response.getBody();\n+    assertThat(body).isNotNull();\n+    assertThat(body.size()).isEqualTo(3);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a82b2bae5509a6c1ee09bfe39159b67a6c70e47e"}, "originalPosition": 47}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzY2NjcwNw==", "bodyText": "hasSize()", "url": "https://github.com/Taskana/taskana/pull/910#discussion_r377666707", "createdAt": "2020-02-11T14:27:23Z", "author": {"login": "gitgoodjhe"}, "path": "rest/taskana-rest-spring/src/test/java/pro/taskana/rest/ClassificationControllerIntTest.java", "diffHunk": "@@ -55,8 +63,8 @@ void testGetAllClassificationsFilterByCustomAttribute() {\n             HttpMethod.GET,\n             restHelper.defaultRequest(),\n             ParameterizedTypeReference.forType(ClassificationSummaryListResource.class));\n-    assertNotNull(response.getBody().getLink(Link.REL_SELF));\n-    assertEquals(13, response.getBody().getContent().size());\n+    assertThat(response.getBody().getLink(Link.REL_SELF)).isNotNull();\n+    assertThat(response.getBody().getContent().size()).isEqualTo(13);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a82b2bae5509a6c1ee09bfe39159b67a6c70e47e"}, "originalPosition": 50}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzY2Njg2OA==", "bodyText": "hasSize()", "url": "https://github.com/Taskana/taskana/pull/910#discussion_r377666868", "createdAt": "2020-02-11T14:27:37Z", "author": {"login": "gitgoodjhe"}, "path": "rest/taskana-rest-spring/src/test/java/pro/taskana/rest/ClassificationControllerIntTest.java", "diffHunk": "@@ -88,21 +92,17 @@ void testGetSecondPageSortedByKey() {\n             HttpMethod.GET,\n             restHelper.defaultRequest(),\n             ParameterizedTypeReference.forType(ClassificationSummaryListResource.class));\n-    assertEquals(5, response.getBody().getContent().size());\n-    assertEquals(\"L1050\", response.getBody().getContent().iterator().next().key);\n-    assertNotNull(response.getBody().getLink(Link.REL_SELF));\n-    assertTrue(\n-        response\n-            .getBody()\n-            .getLink(Link.REL_SELF)\n-            .getHref()\n-            .endsWith(\n-                \"/api/v1/classifications?\"\n-                    + \"domain=DOMAIN_A&sort-by=key&order=asc&page=2&page-size=5\"));\n-    assertNotNull(response.getBody().getLink(Link.REL_FIRST));\n-    assertNotNull(response.getBody().getLink(Link.REL_LAST));\n-    assertNotNull(response.getBody().getLink(Link.REL_NEXT));\n-    assertNotNull(response.getBody().getLink(Link.REL_PREVIOUS));\n+    assertThat(response.getBody().getContent().size()).isEqualTo(5);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a82b2bae5509a6c1ee09bfe39159b67a6c70e47e"}, "originalPosition": 94}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzY2NzA0OQ==", "bodyText": "Pls use extracting method to have a consistent approach with the other tests", "url": "https://github.com/Taskana/taskana/pull/910#discussion_r377667049", "createdAt": "2020-02-11T14:27:55Z", "author": {"login": "gitgoodjhe"}, "path": "rest/taskana-rest-spring/src/test/java/pro/taskana/rest/ClassificationControllerIntTest.java", "diffHunk": "@@ -213,52 +212,46 @@ void testCreateClassificationWithParentKeyInDomain_aShouldCreateAClassificationI\n       }\n     }\n \n-    assertEquals(true, foundClassificationCreated);\n+    assertThat(foundClassificationCreated).isTrue();\n   }\n \n   @Test\n   @DirtiesContext\n-  void testReturn400IfCreateClassificationWithIncompatibleParentIdAndKey() throws IOException {\n+  void testReturn400IfCreateClassificationWithIncompatibleParentIdAndKey() {\n     String newClassification =\n         \"{\\\"classificationId\\\":\\\"\\\",\\\"category\\\":\\\"MANUAL\\\",\\\"domain\\\":\\\"DOMAIN_B\\\",\"\n             + \"\\\"key\\\":\\\"NEW_CLASS_P3\\\",\\\"name\\\":\\\"new classification\\\",\"\n             + \"\\\"type\\\":\\\"TASK\\\",\\\"parentId\\\":\\\"CLI:200000000000000000000000000000000015\\\",\"\n             + \"\\\"parentKey\\\":\\\"T2000\\\"}\";\n-\n-    HttpClientErrorException e =\n-        Assertions.assertThrows(\n-            HttpClientErrorException.class,\n-            () ->\n-                template.exchange(\n-                    restHelper.toUrl(Mapping.URL_CLASSIFICATIONS),\n-                    HttpMethod.POST,\n-                    new HttpEntity<>(newClassification, restHelper.getHeaders()),\n-                    ParameterizedTypeReference.forType(ClassificationResource.class)));\n-\n-    assertNotNull(e);\n-    assertEquals(HttpStatus.BAD_REQUEST, e.getStatusCode());\n+    \n+    assertThatThrownBy(\n+        () ->\n+        template.exchange(\n+            restHelper.toUrl(Mapping.URL_CLASSIFICATIONS),\n+            HttpMethod.POST,\n+            new HttpEntity<>(newClassification, restHelper.getHeaders()),\n+            ParameterizedTypeReference.forType(ClassificationResource.class)))\n+        .isInstanceOf(HttpClientErrorException.class)\n+        .hasFieldOrPropertyWithValue(\"statusCode\", HttpStatus.BAD_REQUEST);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a82b2bae5509a6c1ee09bfe39159b67a6c70e47e"}, "originalPosition": 216}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU2NzEwNTg1", "url": "https://github.com/Taskana/taskana/pull/910#pullrequestreview-356710585", "createdAt": "2020-02-11T14:41:30Z", "commit": {"oid": "a5a048956e311b75d3cda73bc819630ebc57293b"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMVQxNDo0MjoxNVrOFoLiEw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMVQxNDo0MjoxNVrOFoLiEw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzY3NjMwNw==", "bodyText": "Pls use the assertThatThrownBy-pattern to be consistent with other tests", "url": "https://github.com/Taskana/taskana/pull/910#discussion_r377676307", "createdAt": "2020-02-11T14:42:15Z", "author": {"login": "gitgoodjhe"}, "path": "rest/taskana-rest-spring/src/test/java/pro/taskana/rest/AccessIdControllerIntTest.java", "diffHunk": "@@ -47,6 +50,42 @@ void testQueryGroupsByCn() {\n             HttpMethod.GET,\n             restHelper.defaultRequest(),\n             ParameterizedTypeReference.forType(List.class));\n-    assertEquals(1, response.getBody().size());\n+    assertThat(response.getBody().size()).isEqualTo(1);\n   }\n+\n+  @Test\n+  void testGetMatches() {\n+    ResponseEntity<List<AccessIdResource>> response =\n+        template.exchange(\n+            restHelper.toUrl(Mapping.URL_ACCESSID) + \"?search-for=ali\",\n+            HttpMethod.GET,\n+            restHelper.defaultRequest(),\n+            ParameterizedTypeReference.forType(AccessIdListResource.class));\n+\n+    List<AccessIdResource> body = response.getBody();\n+    assertThat(body).isNotNull();\n+    assertThat(body.size()).isEqualTo(3);\n+    assertThat(body)\n+        .extracting(AccessIdResource::getName)\n+        .containsExactlyInAnyOrder(\"Tralisch, Thea\", \"Bert, Ali\", \"Mente, Ali\");\n+  }\n+\n+  @Test\n+  void testBadRequestWhenSearchForIsTooShort() {\n+    try {\n+      template.exchange(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a82b2bae5509a6c1ee09bfe39159b67a6c70e47e"}, "originalPosition": 56}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3a94219820188f8152312fb8d6da6836733f964d", "author": {"user": {"login": "holgerhagen", "name": null}}, "url": "https://github.com/Taskana/taskana/commit/3a94219820188f8152312fb8d6da6836733f964d", "committedDate": "2020-02-11T15:26:48Z", "message": "TSK-1031: formatting issues fixed."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU2NzU0NjEx", "url": "https://github.com/Taskana/taskana/pull/910#pullrequestreview-356754611", "createdAt": "2020-02-11T15:31:57Z", "commit": {"oid": "3a94219820188f8152312fb8d6da6836733f964d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4557, "cost": 1, "resetAt": "2021-11-02T12:20:56Z"}}}