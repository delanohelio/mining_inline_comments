{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQzNzAxNzY5", "number": 1389, "title": "TSK-1436: fixed breaking REST API change for workbasketAccessItems", "bodyText": "For the submitter:\n\n I updated the documentation and will supply links to the specific files\n I did not update the documentation\n I included a link to the SonarCloud branch analysis\n I added a description of changes on the current release notes\n I did not update the current release notes\n I put the ticket in review\n After integration of the pull request, I verified our bluemix test environment is not broken\n\nVerified by the reviewer:\n\n Commit message format \u2192 TSK-XXX: Your commit message.\n Submitter's update to documentation is sufficient\n SonarCloud analysis meets our standards\n Update of the current release notes reflects changes\n PR fulfills the ticket\n Edge cases and unwanted side effects are tested\n Readability", "createdAt": "2020-12-21T20:16:35Z", "url": "https://github.com/Taskana/taskana/pull/1389", "merged": true, "mergeCommit": {"oid": "b508feca01ac08c07dd00d68cb9069a774c54914"}, "closed": true, "closedAt": "2020-12-22T03:24:39Z", "author": {"login": "mustaphazorgati"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdobwd_gH2gAyNTQzNzAxNzY5OjQ2ODE1YWE3NjM4YzdmZjlhNDY2OTAxMWUwMDZlMjVkMmYwY2ZjMWQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdocTUdgFqTU1NjY1NjY0MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "46815aa7638c7ff9a4669011e006e25d2f0cfc1d", "author": {"user": {"login": "mustaphazorgati", "name": "Mustapha Zorgati"}}, "url": "https://github.com/Taskana/taskana/commit/46815aa7638c7ff9a4669011e006e25d2f0cfc1d", "committedDate": "2020-12-21T20:14:35Z", "message": "TSK-1436: fixed breaking REST API change for workbasketAccessItems"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU2NjQ1MTg1", "url": "https://github.com/Taskana/taskana/pull/1389#pullrequestreview-556645185", "createdAt": "2020-12-21T20:29:25Z", "commit": {"oid": "46815aa7638c7ff9a4669011e006e25d2f0cfc1d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMVQyMDoyOToyNVrOIJlDKw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMVQyMDoyOToyNVrOIJlDKw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjkxNTExNQ==", "bodyText": "in a perfect world I would have modified the action. Since we are using formBuilders we cannot create a WorkbasketAccessItemsRepresentation entity in the component. The variables are not typed correctly.", "url": "https://github.com/Taskana/taskana/pull/1389#discussion_r546915115", "createdAt": "2020-12-21T20:29:25Z", "author": {"login": "mustaphazorgati"}, "path": "web/src/app/shared/store/workbasket-store/workbasket.state.ts", "diffHunk": "@@ -309,23 +309,25 @@ export class WorkbasketState implements NgxsAfterBootstrap {\n     action: UpdateWorkbasketAccessItems\n   ): Observable<any> {\n     ctx.dispatch(new OnButtonPressed(undefined));\n-    return this.workbasketService.updateWorkBasketAccessItem(action.url, action.workbasketAccessItems).pipe(\n-      take(1),\n-      tap(\n-        (workbasketAccessItems) => {\n-          ctx.patchState({\n-            workbasketAccessItems\n-          });\n-          this.notificationService.showToast(\n-            NOTIFICATION_TYPES.SUCCESS_ALERT_7,\n-            new Map<string, string>([['workbasketKey', ctx.getState().selectedWorkbasket.key]])\n-          );\n-        },\n-        (error) => {\n-          this.notificationService.triggerError(NOTIFICATION_TYPES.SAVE_ERR_2, error);\n-        }\n-      )\n-    );\n+    return this.workbasketService\n+      .updateWorkBasketAccessItem(action.url, { accessItems: action.workbasketAccessItems })", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "46815aa7638c7ff9a4669011e006e25d2f0cfc1d"}, "originalPosition": 22}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU2NjU2NjQx", "url": "https://github.com/Taskana/taskana/pull/1389#pullrequestreview-556656641", "createdAt": "2020-12-21T20:52:39Z", "commit": {"oid": "46815aa7638c7ff9a4669011e006e25d2f0cfc1d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4594, "cost": 1, "resetAt": "2021-11-02T12:20:56Z"}}}