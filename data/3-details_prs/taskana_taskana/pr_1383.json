{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQyNDQ5NDI3", "number": 1383, "title": "TSK-1486: Deleted unnecessary UnitTests of taskana-core", "bodyText": "For the submitter:\n\n I updated the documentation and will supply links to the specific files\n I did not update the documentation\n I included a link to the SonarCloud branch analysis\n I added a description of changes on the current release notes\n I did not update the current release notes\n I put the ticket in review\n After integration of the pull request, I verified our bluemix test environment is not broken\n\nVerified by the reviewer:\n\n Commit message format \u2192 TSK-XXX: Your commit message.\n Submitter's update to documentation is sufficient\n SonarCloud analysis meets our standards\n Update of the current release notes reflects changes\n PR fulfills the ticket\n Edge cases and unwanted side effects are tested\n Readability", "createdAt": "2020-12-18T10:21:49Z", "url": "https://github.com/Taskana/taskana/pull/1383", "merged": true, "mergeCommit": {"oid": "b02dea92912ae47ce854ebaac163d1ed0eb8c687"}, "closed": true, "closedAt": "2021-02-26T17:01:25Z", "author": {"login": "tge20"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdz6ZlsgFqTU3NjI4MDU3Nw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABd99IEJAFqTU5OTcxMDMxOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTc2MjgwNTc3", "url": "https://github.com/Taskana/taskana/pull/1383#pullrequestreview-576280577", "createdAt": "2021-01-26T12:00:11Z", "commit": {"oid": "65752564edafc715a52df64846a986d5d498bd8e"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0yNlQxMjowMDoxMlrOIaTzLA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0yNlQxMjowODozNFrOIaUDuA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2NDQ1ODI4NA==", "bodyText": "why did you remove this?", "url": "https://github.com/Taskana/taskana/pull/1383#discussion_r564458284", "createdAt": "2021-01-26T12:00:12Z", "author": {"login": "mustaphazorgati"}, "path": "lib/taskana-core/src/test/java/acceptance/task/CreateTaskAccTest.java", "diffHunk": "@@ -170,71 +168,6 @@ void testIdempotencyOfTaskCreation() throws Exception {\n     assertThatThrownBy(call).isInstanceOf(TaskAlreadyExistException.class);\n   }\n \n-  @WithAccessId(user = \"user-1-1\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "65752564edafc715a52df64846a986d5d498bd8e"}, "originalPosition": 35}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2NDQ1OTM5OQ==", "bodyText": "please make this a seperate test again.", "url": "https://github.com/Taskana/taskana/pull/1383#discussion_r564459399", "createdAt": "2021-01-26T12:02:29Z", "author": {"login": "mustaphazorgati"}, "path": "lib/taskana-core/src/test/java/acceptance/task/QueryTaskWithAttachmentAccTest.java", "diffHunk": "@@ -29,29 +28,24 @@\n \n   @WithAccessId(user = \"user-1-1\")\n   @Test\n-  void testGetAttachmentSummariesFromTask() {\n+  void should_ReturnTaskSummaryIncludingAttachmentsIfPresent_When_UsingTaskQuery() {\n     TaskService taskService = taskanaEngine.getTaskService();\n     List<TaskSummary> tasks = taskService.createTaskQuery().classificationKeyIn(\"L110102\").list();\n     assertThat(tasks).hasSize(1);\n \n     List<AttachmentSummary> attachmentSummaries = tasks.get(0).getAttachmentSummaries();\n     assertThat(attachmentSummaries).hasSize(2);\n-  }\n \n-  @WithAccessId(user = \"user-1-2\")\n-  @Test\n-  void testGetNoAttachmentSummaryFromTask() {\n-    TaskService taskService = taskanaEngine.getTaskService();\n-    List<TaskSummary> tasks = taskService.createTaskQuery().list();\n-    assertThat(tasks).hasSize(30);\n+    tasks = taskService.createTaskQuery().idIn(\"TKI:000000000000000000000000000000000066\").list();\n+    assertThat(tasks).hasSize(1);\n \n-    List<AttachmentSummary> attachmentSummaries = tasks.get(0).getAttachmentSummaries();\n+    attachmentSummaries = tasks.get(0).getAttachmentSummaries();\n     assertThat(attachmentSummaries).isEmpty();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "65752564edafc715a52df64846a986d5d498bd8e"}, "originalPosition": 42}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2NDQ1OTUyNA==", "bodyText": "please rework this name (after test separation)", "url": "https://github.com/Taskana/taskana/pull/1383#discussion_r564459524", "createdAt": "2021-01-26T12:02:41Z", "author": {"login": "mustaphazorgati"}, "path": "lib/taskana-core/src/test/java/acceptance/task/QueryTaskWithAttachmentAccTest.java", "diffHunk": "@@ -29,29 +28,24 @@\n \n   @WithAccessId(user = \"user-1-1\")\n   @Test\n-  void testGetAttachmentSummariesFromTask() {\n+  void should_ReturnTaskSummaryIncludingAttachmentsIfPresent_When_UsingTaskQuery() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "65752564edafc715a52df64846a986d5d498bd8e"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2NDQ1OTcwNA==", "bodyText": "why did you delete this?", "url": "https://github.com/Taskana/taskana/pull/1383#discussion_r564459704", "createdAt": "2021-01-26T12:03:02Z", "author": {"login": "mustaphazorgati"}, "path": "lib/taskana-core/src/test/java/acceptance/task/QueryTaskWithAttachmentAccTest.java", "diffHunk": "@@ -81,31 +75,4 @@ void should_ConfirmIfAttachmentSummariesAreCorrect_When_UsingTaskQueryAndGetTask\n         .usingElementComparator(REFERENCE_COMPARATOR)\n         .doesNotContainAnyElementsOf(originalAttachments); // but not same reference\n   }\n-\n-  @WithAccessId(user = \"user-1-1\")\n-  @Test\n-  void should_ConfirmIfAttachmentSummariesAreCorrect() throws Exception {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "65752564edafc715a52df64846a986d5d498bd8e"}, "originalPosition": 68}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2NDQ2MDU2Mg==", "bodyText": "taskService.createTaskQuery().idIn(\"TKI:00...00\").list()", "url": "https://github.com/Taskana/taskana/pull/1383#discussion_r564460562", "createdAt": "2021-01-26T12:04:43Z", "author": {"login": "mustaphazorgati"}, "path": "lib/taskana-core/src/test/java/acceptance/task/QueryTaskWithAttachmentAccTest.java", "diffHunk": "@@ -81,31 +75,4 @@ void should_ConfirmIfAttachmentSummariesAreCorrect_When_UsingTaskQueryAndGetTask\n         .usingElementComparator(REFERENCE_COMPARATOR)\n         .doesNotContainAnyElementsOf(originalAttachments); // but not same reference\n   }\n-\n-  @WithAccessId(user = \"user-1-1\")\n-  @Test\n-  void should_ConfirmIfAttachmentSummariesAreCorrect() throws Exception {\n-    TaskService taskService = taskanaEngine.getTaskService();\n-    // find Task with ID TKI:00...00\n-    List<TaskSummary> tasks =\n-        taskService\n-            .createTaskQuery()\n-            .classificationKeyIn(\"T2000\")\n-            .customAttributeIn(TaskCustomField.CUSTOM_1, \"custom1\")\n-            .list();\n-    assertThat(tasks).hasSize(1);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "65752564edafc715a52df64846a986d5d498bd8e"}, "originalPosition": 77}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2NDQ2MTAyMw==", "bodyText": "Why did you remove this?", "url": "https://github.com/Taskana/taskana/pull/1383#discussion_r564461023", "createdAt": "2021-01-26T12:05:40Z", "author": {"login": "mustaphazorgati"}, "path": "lib/taskana-core/src/test/java/acceptance/task/QueryTasksAccTest.java", "diffHunk": "@@ -333,47 +327,6 @@ void testQueryForCustom7WithException() throws Exception {\n     assertThat(result2).hasSize(2);\n   }\n \n-  @WithAccessId(user = \"admin\")\n-  @Test\n-  void testQueryTaskByCustomAttributes() throws Exception {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "65752564edafc715a52df64846a986d5d498bd8e"}, "originalPosition": 41}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2NDQ2MjUyMA==", "bodyText": "Please move this test to taskana-common-data", "url": "https://github.com/Taskana/taskana/pull/1383#discussion_r564462520", "createdAt": "2021-01-26T12:08:34Z", "author": {"login": "mustaphazorgati"}, "path": "lib/taskana-core/src/test/java/pro/taskana/sampledata/SampleDataGeneratorTest.java", "diffHunk": "@@ -1,26 +0,0 @@\n-package pro.taskana.sampledata;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "65752564edafc715a52df64846a986d5d498bd8e"}, "originalPosition": 1}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTk5NDM5OTQ0", "url": "https://github.com/Taskana/taskana/pull/1383#pullrequestreview-599439944", "createdAt": "2021-02-26T10:23:16Z", "commit": {"oid": "5023f2818380f698c63fe00b9d0f7dc2c9927f0a"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMi0yNlQxMDoyMzoxNlrOIsgI6g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMi0yNlQxMDozNjoyMFrOIsgoFw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4MzUzNDgyNg==", "bodyText": "why is this public?", "url": "https://github.com/Taskana/taskana/pull/1383#discussion_r583534826", "createdAt": "2021-02-26T10:23:16Z", "author": {"login": "mustaphazorgati"}, "path": "lib/taskana-core/src/main/java/pro/taskana/workbasket/internal/WorkbasketServiceImpl.java", "diffHunk": "@@ -1044,8 +1044,8 @@ public void deleteWorkbasketAccessItemsForAccessId(String accessId)\n    * @param workbasketImplToUpdate the workbasket to update\n    * @throws ConcurrencyException if the workbasket has been modified by some other process.\n    */\n-  void checkModifiedHasNotChanged(Workbasket oldWorkbasket, WorkbasketImpl workbasketImplToUpdate)\n-      throws ConcurrencyException {\n+  public void checkModifiedHasNotChanged(\n+      Workbasket oldWorkbasket, WorkbasketImpl workbasketImplToUpdate) throws ConcurrencyException {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5023f2818380f698c63fe00b9d0f7dc2c9927f0a"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4MzUzODczNg==", "bodyText": "This test is important.", "url": "https://github.com/Taskana/taskana/pull/1383#discussion_r583538736", "createdAt": "2021-02-26T10:29:30Z", "author": {"login": "mustaphazorgati"}, "path": "lib/taskana-core/src/test/java/pro/taskana/classification/internal/models/ClassificationModelsCloneTest.java", "diffHunk": "@@ -1,81 +0,0 @@\n-package pro.taskana.classification.internal.models;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5023f2818380f698c63fe00b9d0f7dc2c9927f0a"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4MzU0MDE0MA==", "bodyText": "This is important.", "url": "https://github.com/Taskana/taskana/pull/1383#discussion_r583540140", "createdAt": "2021-02-26T10:31:39Z", "author": {"login": "mustaphazorgati"}, "path": "lib/taskana-core/src/test/java/pro/taskana/monitor/internal/ReportTest.java", "diffHunk": "@@ -1,308 +0,0 @@\n-package pro.taskana.monitor.internal;\n-\n-import static org.assertj.core.api.Assertions.assertThat;\n-\n-import java.util.ArrayList;\n-import java.util.HashMap;\n-import java.util.List;\n-import java.util.stream.Collectors;\n-import java.util.stream.IntStream;\n-import org.junit.jupiter.api.BeforeEach;\n-import org.junit.jupiter.api.Test;\n-\n-import pro.taskana.monitor.api.reports.Report;\n-import pro.taskana.monitor.api.reports.header.TimeIntervalColumnHeader;\n-import pro.taskana.monitor.api.reports.item.MonitorQueryItem;\n-import pro.taskana.monitor.api.reports.item.QueryItemPreprocessor;\n-import pro.taskana.monitor.api.reports.row.FoldableRow;\n-import pro.taskana.monitor.api.reports.row.Row;\n-import pro.taskana.monitor.api.reports.row.SingleRow;\n-\n-/** Tests for {@link Report}. */\n-class ReportTest {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5023f2818380f698c63fe00b9d0f7dc2c9927f0a"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4MzU0MTY1OA==", "bodyText": "This is important", "url": "https://github.com/Taskana/taskana/pull/1383#discussion_r583541658", "createdAt": "2021-02-26T10:34:17Z", "author": {"login": "mustaphazorgati"}, "path": "lib/taskana-core/src/test/java/pro/taskana/monitor/internal/WorkingDaysToDaysReportConverterTest.java", "diffHunk": "@@ -1,334 +0,0 @@\n-package pro.taskana.monitor.internal;\n-\n-import static org.assertj.core.api.Assertions.assertThat;\n-\n-import java.time.Instant;\n-import java.util.ArrayList;\n-import java.util.List;\n-import org.junit.jupiter.api.Test;\n-\n-import pro.taskana.common.api.CustomHoliday;\n-import pro.taskana.common.api.WorkingDaysToDaysConverter;\n-import pro.taskana.monitor.api.reports.header.TimeIntervalColumnHeader;\n-import pro.taskana.monitor.internal.preprocessor.WorkingDaysToDaysReportConverter;\n-\n-/** Test for the DaysToWorkingDaysReportConverter. */\n-class WorkingDaysToDaysReportConverterTest {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5023f2818380f698c63fe00b9d0f7dc2c9927f0a"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4MzU0MjgwNw==", "bodyText": "this is important.", "url": "https://github.com/Taskana/taskana/pull/1383#discussion_r583542807", "createdAt": "2021-02-26T10:36:20Z", "author": {"login": "mustaphazorgati"}, "path": "lib/taskana-core/src/test/java/pro/taskana/task/internal/TaskAttachmentTest.java", "diffHunk": "@@ -1,137 +0,0 @@\n-package pro.taskana.task.internal;\n-\n-import static org.assertj.core.api.Assertions.assertThat;\n-\n-import java.time.Instant;\n-import java.util.HashMap;\n-import java.util.List;\n-import java.util.Map;\n-import org.junit.jupiter.api.Test;\n-\n-import pro.taskana.classification.internal.models.ClassificationImpl;\n-import pro.taskana.task.api.models.Attachment;\n-import pro.taskana.task.api.models.AttachmentSummary;\n-import pro.taskana.task.api.models.ObjectReference;\n-import pro.taskana.task.internal.models.TaskImpl;\n-\n-/**\n- * Unit Test for methods needed fot attachment at TaskImpl.<br>\n- * This test should test every interaction with Attachments, which means adding, removing, nulling\n- * them.\n- */\n-class TaskAttachmentTest {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5023f2818380f698c63fe00b9d0f7dc2c9927f0a"}, "originalPosition": 22}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bcc88b72202d585f95254239179ef8ea5a94f6bf", "author": {"user": {"login": "tge20", "name": null}}, "url": "https://github.com/Taskana/taskana/commit/bcc88b72202d585f95254239179ef8ea5a94f6bf", "committedDate": "2021-02-26T10:53:19Z", "message": "TSK-1486: Deleted unnecessary UnitTests of taskana-core"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "309ba636de12320eee7f9d10afd4f31861ae62f1", "author": {"user": {"login": "tge20", "name": null}}, "url": "https://github.com/Taskana/taskana/commit/309ba636de12320eee7f9d10afd4f31861ae62f1", "committedDate": "2021-02-26T10:53:48Z", "message": "TSK-1486: Improvements after review"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3304e4d9d7974c340ffec885ca9074b1da8dfb97", "author": {"user": {"login": "mustaphazorgati", "name": "Mustapha Zorgati"}}, "url": "https://github.com/Taskana/taskana/commit/3304e4d9d7974c340ffec885ca9074b1da8dfb97", "committedDate": "2021-02-26T11:09:17Z", "message": "TSK-1486: fixed checkstyle issues"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ff50525878a5b3a9a797b343a514a32f0a65e4c1", "author": {"user": {"login": "mustaphazorgati", "name": "Mustapha Zorgati"}}, "url": "https://github.com/Taskana/taskana/commit/ff50525878a5b3a9a797b343a514a32f0a65e4c1", "committedDate": "2021-02-26T11:09:51Z", "message": "TSK-1486: restored tests which were deleted by previous commits"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d82e7fbffff53b8fdab771074a85c83c6de42386", "author": {"user": {"login": "mustaphazorgati", "name": "Mustapha Zorgati"}}, "url": "https://github.com/Taskana/taskana/commit/d82e7fbffff53b8fdab771074a85c83c6de42386", "committedDate": "2021-02-26T11:13:07Z", "message": "TSK-1486: moved helper package into acceptance package"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTk5NDc4NTM5", "url": "https://github.com/Taskana/taskana/pull/1383#pullrequestreview-599478539", "createdAt": "2021-02-26T11:14:27Z", "commit": {"oid": "d82e7fbffff53b8fdab771074a85c83c6de42386"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTk5NDgxNjU2", "url": "https://github.com/Taskana/taskana/pull/1383#pullrequestreview-599481656", "createdAt": "2021-02-26T11:18:56Z", "commit": {"oid": "469063dc363d9f82f3b252fa0256c718e43e110f"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTk5NDg0OTgz", "url": "https://github.com/Taskana/taskana/pull/1383#pullrequestreview-599484983", "createdAt": "2021-02-26T11:23:41Z", "commit": {"oid": "99d3ab7a9dd87b1c4c6808a90fc7af96fca4618d"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8ba93e8f3ca034fd35a29d6aa1e0aa705b43c208", "author": {"user": {"login": "mustaphazorgati", "name": "Mustapha Zorgati"}}, "url": "https://github.com/Taskana/taskana/commit/8ba93e8f3ca034fd35a29d6aa1e0aa705b43c208", "committedDate": "2021-02-26T16:17:33Z", "message": "TSK-1486: fixed some code smells"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTk5NzEwMzE5", "url": "https://github.com/Taskana/taskana/pull/1383#pullrequestreview-599710319", "createdAt": "2021-02-26T15:57:27Z", "commit": {"oid": "f8a1003d5754033f1608a66a92653e7d545fb556"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMi0yNlQxNTo1NzoyN1rOIsso6Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMi0yNlQxNTo1NzoyN1rOIsso6Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4MzczOTYyNQ==", "bodyText": "Please make them protected again.", "url": "https://github.com/Taskana/taskana/pull/1383#discussion_r583739625", "createdAt": "2021-02-26T15:57:27Z", "author": {"login": "mustaphazorgati"}, "path": "lib/taskana-core/src/test/java/acceptance/AbstractAccTest.java", "diffHunk": "@@ -41,11 +40,11 @@\n   protected static WorkingDaysToDaysConverter converter;\n \n   @BeforeAll\n-  protected static void setupTest() throws Exception {\n+  public static void setupTest() throws Exception {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f8a1003d5754033f1608a66a92653e7d545fb556"}, "originalPosition": 13}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4592, "cost": 1, "resetAt": "2021-11-02T12:20:56Z"}}}