{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE1MzQ0Nzgy", "number": 1329, "title": "TSK-1450: Update monitor tabs with MD", "bodyText": "For the submitter:\n\n I updated the documentation and will supply links to the specific files\n I did not update the documentation\n I included a link to the SonarCloud branch analysis\n I added a description of changes on the current release notes\n I did not update the current release notes\n I put the ticket in review\n After integration of the pull request, I verified our bluemix test environment is not broken\n\nVerified by the reviewer:\n\n Commit message format \u2192 TSK-XXX: Your commit message.\n Submitter's update to documentation is sufficient\n SonarCloud analysis meets our standards\n Update of the current release notes reflects changes\n PR fulfills the ticket\n Edge cases and unwanted side effects are tested\n Readability", "createdAt": "2020-11-04T12:12:30Z", "url": "https://github.com/Taskana/taskana/pull/1329", "merged": true, "mergeCommit": {"oid": "ca88a68bfcfbefa128085aec2450e9395ab25638"}, "closed": true, "closedAt": "2020-11-16T21:18:01Z", "author": {"login": "Franzi321"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdZMpbNgH2gAyNTE1MzQ0NzgyOmUzYWE2YWZmOWEzNWFkOGUxZGZjMDg5OTVjNjc2NTFhNDFkNzg5ZWU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABddLricgH2gAyNTE1MzQ0NzgyOjlhNjFjNWY1Njc4NmY3MDBlYzEwMGY0NjhiMzY3NDk0MWJlOGVkZDc=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "e3aa6aff9a35ad8e1dfc08995c67651a41d789ee", "author": {"user": {"login": "Franzi321", "name": null}}, "url": "https://github.com/Taskana/taskana/commit/e3aa6aff9a35ad8e1dfc08995c67651a41d789ee", "committedDate": "2020-11-04T12:09:27Z", "message": "TSK-1450: Update monitor tabs with MD"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cba46f93190e853e0ddcc9c42e271e28fc7e01a0", "author": {"user": {"login": "Franzi321", "name": null}}, "url": "https://github.com/Taskana/taskana/commit/cba46f93190e853e0ddcc9c42e271e28fc7e01a0", "committedDate": "2020-11-04T13:08:49Z", "message": "TSK-1450: fix CI error"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3708254eb45f4cb9885be6380822095c84fdce39", "author": {"user": {"login": "Franzi321", "name": null}}, "url": "https://github.com/Taskana/taskana/commit/3708254eb45f4cb9885be6380822095c84fdce39", "committedDate": "2020-11-10T16:24:22Z", "message": "TSK-1450: fix error"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI4MDEyMTIx", "url": "https://github.com/Taskana/taskana/pull/1329#pullrequestreview-528012121", "createdAt": "2020-11-11T09:41:27Z", "commit": {"oid": "3708254eb45f4cb9885be6380822095c84fdce39"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMVQwOTo0MToyN1rOHxFnOw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMVQxMDoxMToyN1rOHxGsMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTIzNDIzNQ==", "bodyText": "please set devMode to false.", "url": "https://github.com/Taskana/taskana/pull/1329#discussion_r521234235", "createdAt": "2020-11-11T09:41:27Z", "author": {"login": "sofie29"}, "path": "rest/taskana-rest-spring-example-boot/src/main/resources/application.properties", "diffHunk": "@@ -29,7 +29,7 @@ taskana.schemaName=TASKANA\n ########spring.jpa.generate-ddl=true\n ########spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true\n ####### property that control rest api security deploy use true for no security.\n-devMode=false\n+devMode=true", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3708254eb45f4cb9885be6380822095c84fdce39"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTI0NDEzMg==", "bodyText": "The @input() isn't used, is it?\nWhen I click on the monitor in the nav-bar, no tab is selected by default. It would be nice when the task tab is selected like before.", "url": "https://github.com/Taskana/taskana/pull/1329#discussion_r521244132", "createdAt": "2020-11-11T09:58:20Z", "author": {"login": "sofie29"}, "path": "web/src/app/monitor/components/monitor/monitor.component.ts", "diffHunk": "@@ -1,18 +1,14 @@\n-import { Component, OnDestroy, OnInit } from '@angular/core';\n+import { Component, OnDestroy, OnInit, Input } from '@angular/core';\n \n @Component({\n   selector: 'taskana-monitor',\n   templateUrl: './monitor.component.html',\n   styleUrls: ['./monitor.component.scss']\n })\n export class MonitorComponent implements OnInit, OnDestroy {\n-  tabSelected = 'tasks';\n+  @Input() selectedTab = '';", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3708254eb45f4cb9885be6380822095c84fdce39"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTI0NTUxNg==", "bodyText": "Please delete methods which are not used.", "url": "https://github.com/Taskana/taskana/pull/1329#discussion_r521245516", "createdAt": "2020-11-11T10:00:38Z", "author": {"login": "sofie29"}, "path": "web/src/app/monitor/components/monitor/monitor.component.ts", "diffHunk": "@@ -1,18 +1,14 @@\n-import { Component, OnDestroy, OnInit } from '@angular/core';\n+import { Component, OnDestroy, OnInit, Input } from '@angular/core';\n \n @Component({\n   selector: 'taskana-monitor',\n   templateUrl: './monitor.component.html',\n   styleUrls: ['./monitor.component.scss']\n })\n export class MonitorComponent implements OnInit, OnDestroy {\n-  tabSelected = 'tasks';\n+  @Input() selectedTab = '';\n \n   ngOnInit(): void {}\n \n   ngOnDestroy(): void {}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3708254eb45f4cb9885be6380822095c84fdce39"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTI0NzYxMg==", "bodyText": "Since both selectedTab and 'tasks' are strings, '==' could be replaced by '==='.", "url": "https://github.com/Taskana/taskana/pull/1329#discussion_r521247612", "createdAt": "2020-11-11T10:04:18Z", "author": {"login": "sofie29"}, "path": "web/src/app/monitor/components/monitor/monitor.component.html", "diffHunk": "@@ -1,37 +1,13 @@\n-<div>\n-    <ul class=\"nav nav-tabs\" role=\"tablist\">\n-        <li>\n-            <a style=\"display: none\"></a>\n-        </li>\n-        <li (click)=\"selectTab('tasks')\" [ngClass]=\"{'active':tabSelected === 'tasks'}\" class=\"active\"\n-            role=\"presentation\">\n-            <a aria-controls=\"Tasks\" aria-expanded=\"true\" data-toggle=\"tab\" href=\"#tasks-tab\" role=\"tab\">Tasks</a>\n-        </li>\n-        <li (click)=\"selectTab('workbaskets')\" [ngClass]=\"{'active':tabSelected === 'workbaskets'}\">\n-            <a aria-controls=\"Workbaskets\" aria-expanded=\"true\" data-toggle=\"tab\" href=\"#workbaskets-tab\" role=\"tab\">Workbaskets</a>\n-        </li>\n-        <li (click)=\"selectTab('classifications')\" [ngClass]=\"{'active':tabSelected === 'classifications'}\">\n-            <a aria-controls=\"Classifications\" aria-expanded=\"true\" data-toggle=\"tab\" href=\"#classifications-tab\"\n-               role=\"tab\">Classifications</a>\n-        </li>\n-        <li (click)=\"selectTab('timestamp')\" [ngClass]=\"{'active':tabSelected === 'timestamp'}\">\n-            <a aria-controls=\"Timestamp\" aria-expanded=\"true\" data-toggle=\"tab\" href=\"#timestamp-tab\"\n-               role=\"tab\">Timestamp</a>\n-        </li>\n-\n-    </ul>\n-    <div class=\"tab-content\">\n-        <div class=\"tab-pane active\" id=\"tasks-tab\" role=\"tabpanel\">\n-            <taskana-monitor-task-report></taskana-monitor-task-report>\n-        </div>\n-        <div class=\"tab-pane\" id=\"workbaskets-tab\" role=\"tabpanel\">\n-            <taskana-monitor-workbasket-report></taskana-monitor-workbasket-report>\n-        </div>\n-        <div class=\"tab-pane\" id=\"classifications-tab\" role=\"tabpanel\">\n-            <taskana-monitor-classification-report></taskana-monitor-classification-report>\n-        </div>\n-        <div class=\"tab-pane\" id=\"timestamp-tab\" role=\"tabpanel\">\n-            <taskana-monitor-timestamp-report></taskana-monitor-timestamp-report>\n-        </div>\n-    </div>\n-</div>\n+<nav mat-tab-nav-bar class=\"nav-bar\">\n+    <a mat-tab-link routerLink=\"/taskana/monitor/tasks\" [active]=\"selectedTab == 'tasks'\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3708254eb45f4cb9885be6380822095c84fdce39"}, "originalPosition": 39}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTI0Nzc1OQ==", "bodyText": "see above", "url": "https://github.com/Taskana/taskana/pull/1329#discussion_r521247759", "createdAt": "2020-11-11T10:04:32Z", "author": {"login": "sofie29"}, "path": "web/src/app/monitor/components/monitor/monitor.component.html", "diffHunk": "@@ -1,37 +1,13 @@\n-<div>\n-    <ul class=\"nav nav-tabs\" role=\"tablist\">\n-        <li>\n-            <a style=\"display: none\"></a>\n-        </li>\n-        <li (click)=\"selectTab('tasks')\" [ngClass]=\"{'active':tabSelected === 'tasks'}\" class=\"active\"\n-            role=\"presentation\">\n-            <a aria-controls=\"Tasks\" aria-expanded=\"true\" data-toggle=\"tab\" href=\"#tasks-tab\" role=\"tab\">Tasks</a>\n-        </li>\n-        <li (click)=\"selectTab('workbaskets')\" [ngClass]=\"{'active':tabSelected === 'workbaskets'}\">\n-            <a aria-controls=\"Workbaskets\" aria-expanded=\"true\" data-toggle=\"tab\" href=\"#workbaskets-tab\" role=\"tab\">Workbaskets</a>\n-        </li>\n-        <li (click)=\"selectTab('classifications')\" [ngClass]=\"{'active':tabSelected === 'classifications'}\">\n-            <a aria-controls=\"Classifications\" aria-expanded=\"true\" data-toggle=\"tab\" href=\"#classifications-tab\"\n-               role=\"tab\">Classifications</a>\n-        </li>\n-        <li (click)=\"selectTab('timestamp')\" [ngClass]=\"{'active':tabSelected === 'timestamp'}\">\n-            <a aria-controls=\"Timestamp\" aria-expanded=\"true\" data-toggle=\"tab\" href=\"#timestamp-tab\"\n-               role=\"tab\">Timestamp</a>\n-        </li>\n-\n-    </ul>\n-    <div class=\"tab-content\">\n-        <div class=\"tab-pane active\" id=\"tasks-tab\" role=\"tabpanel\">\n-            <taskana-monitor-task-report></taskana-monitor-task-report>\n-        </div>\n-        <div class=\"tab-pane\" id=\"workbaskets-tab\" role=\"tabpanel\">\n-            <taskana-monitor-workbasket-report></taskana-monitor-workbasket-report>\n-        </div>\n-        <div class=\"tab-pane\" id=\"classifications-tab\" role=\"tabpanel\">\n-            <taskana-monitor-classification-report></taskana-monitor-classification-report>\n-        </div>\n-        <div class=\"tab-pane\" id=\"timestamp-tab\" role=\"tabpanel\">\n-            <taskana-monitor-timestamp-report></taskana-monitor-timestamp-report>\n-        </div>\n-    </div>\n-</div>\n+<nav mat-tab-nav-bar class=\"nav-bar\">\n+    <a mat-tab-link routerLink=\"/taskana/monitor/tasks\" [active]=\"selectedTab == 'tasks'\"\n+        (click)=\"selectedTab = 'tasks'\">Tasks</a>\n+    <a mat-tab-link routerLink=\"/taskana/monitor/workbaskets\" [active]=\"selectedTab == 'workbaskets'\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3708254eb45f4cb9885be6380822095c84fdce39"}, "originalPosition": 41}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTI0OTk0Mw==", "bodyText": "please modify this to 'should create component'", "url": "https://github.com/Taskana/taskana/pull/1329#discussion_r521249943", "createdAt": "2020-11-11T10:08:08Z", "author": {"login": "sofie29"}, "path": "web/src/app/monitor/components/monitor/monitor.component.spec.ts", "diffHunk": "@@ -0,0 +1,32 @@\n+import { async, ComponentFixture, TestBed } from '@angular/core/testing';\n+import { DebugElement } from '@angular/core';\n+import { MonitorComponent } from './monitor.component';\n+import { MatTabsModule } from '@angular/material/tabs';\n+import { BrowserAnimationsModule } from '@angular/platform-browser/animations';\n+import { HttpClientTestingModule } from '@angular/common/http/testing';\n+import { RouterModule } from '@angular/router';\n+import { RouterTestingModule } from '@angular/router/testing';\n+\n+describe('MonitorComponent', () => {\n+  let component: MonitorComponent;\n+  let fixture: ComponentFixture<MonitorComponent>;\n+  let debugElement: DebugElement;\n+\n+  beforeEach(async(() => {\n+    TestBed.configureTestingModule({\n+      declarations: [MonitorComponent],\n+      imports: [MatTabsModule, RouterModule, RouterTestingModule, HttpClientTestingModule, BrowserAnimationsModule]\n+    }).compileComponents();\n+  }));\n+\n+  beforeEach(() => {\n+    fixture = TestBed.createComponent(MonitorComponent);\n+    debugElement = fixture.debugElement;\n+    component = fixture.debugElement.componentInstance;\n+    fixture.detectChanges();\n+  });\n+\n+  it('should create', () => {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3708254eb45f4cb9885be6380822095c84fdce39"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTI1MTI1MQ==", "bodyText": "Only a suggestion: You could add a test to check whether clicking on a tab changes the selectedTab attribute of the component.", "url": "https://github.com/Taskana/taskana/pull/1329#discussion_r521251251", "createdAt": "2020-11-11T10:10:20Z", "author": {"login": "sofie29"}, "path": "web/src/app/monitor/components/monitor/monitor.component.spec.ts", "diffHunk": "@@ -0,0 +1,32 @@\n+import { async, ComponentFixture, TestBed } from '@angular/core/testing';\n+import { DebugElement } from '@angular/core';\n+import { MonitorComponent } from './monitor.component';\n+import { MatTabsModule } from '@angular/material/tabs';\n+import { BrowserAnimationsModule } from '@angular/platform-browser/animations';\n+import { HttpClientTestingModule } from '@angular/common/http/testing';\n+import { RouterModule } from '@angular/router';\n+import { RouterTestingModule } from '@angular/router/testing';\n+\n+describe('MonitorComponent', () => {\n+  let component: MonitorComponent;\n+  let fixture: ComponentFixture<MonitorComponent>;\n+  let debugElement: DebugElement;\n+\n+  beforeEach(async(() => {\n+    TestBed.configureTestingModule({\n+      declarations: [MonitorComponent],\n+      imports: [MatTabsModule, RouterModule, RouterTestingModule, HttpClientTestingModule, BrowserAnimationsModule]\n+    }).compileComponents();\n+  }));\n+\n+  beforeEach(() => {\n+    fixture = TestBed.createComponent(MonitorComponent);\n+    debugElement = fixture.debugElement;\n+    component = fixture.debugElement.componentInstance;\n+    fixture.detectChanges();\n+  });\n+\n+  it('should create', () => {\n+    expect(component).toBeTruthy();\n+  });", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3708254eb45f4cb9885be6380822095c84fdce39"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTI1MTg5MQ==", "bodyText": "This import is not used.", "url": "https://github.com/Taskana/taskana/pull/1329#discussion_r521251891", "createdAt": "2020-11-11T10:11:27Z", "author": {"login": "sofie29"}, "path": "web/src/app/monitor/monitor-routing.module.ts", "diffHunk": "@@ -1,11 +1,39 @@\n import { NgModule } from '@angular/core';\n import { Routes, RouterModule } from '@angular/router';\n import { MonitorComponent } from './components/monitor/monitor.component';\n+import { TaskReportComponent } from './components/task-report/task-report.component';\n+import { WorkbasketReportComponent } from './components/workbasket-report/workbasket-report.component';\n+import { DomainGuard } from 'app/shared/guards/domain.guard';", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3708254eb45f4cb9885be6380822095c84fdce39"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "32e8bc256101de4462441b94fd4954af9158c03f", "author": {"user": {"login": "Franzi321", "name": null}}, "url": "https://github.com/Taskana/taskana/commit/32e8bc256101de4462441b94fd4954af9158c03f", "committedDate": "2020-11-11T14:39:48Z", "message": "TSK-1450: adapt requested changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7c92886857ce793ed6a2ff7b9d5530834e3ab4a5", "author": {"user": {"login": "Franzi321", "name": null}}, "url": "https://github.com/Taskana/taskana/commit/7c92886857ce793ed6a2ff7b9d5530834e3ab4a5", "committedDate": "2020-11-12T14:43:43Z", "message": "TSK-1450: remove request in progress service"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d1dba44ce70b57e02e7f8356ed6f9f3140393f63", "author": {"user": {"login": "Franzi321", "name": null}}, "url": "https://github.com/Taskana/taskana/commit/d1dba44ce70b57e02e7f8356ed6f9f3140393f63", "committedDate": "2020-11-16T08:54:20Z", "message": "TSK-1450: update requested changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9a61c5f56786f700ec100f468b3674941be8edd7", "author": {"user": {"login": "cnguyen-de", "name": "Chi Nguyen"}}, "url": "https://github.com/Taskana/taskana/commit/9a61c5f56786f700ec100f468b3674941be8edd7", "committedDate": "2020-11-16T21:17:33Z", "message": "Merge branch 'taskana-md' into monitor-md"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4579, "cost": 1, "resetAt": "2021-11-02T12:20:56Z"}}}