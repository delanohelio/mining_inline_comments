{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM3NzY4OTIy", "number": 1138, "title": "TSK-1221: Added copy functionality to classifications", "bodyText": "Added a Button to copy classifications.", "createdAt": "2020-06-22T08:21:04Z", "url": "https://github.com/Taskana/taskana/pull/1138", "merged": true, "mergeCommit": {"oid": "7abb9b4c2f91bb411743f48b0b0c9a25e7237a17"}, "closed": true, "closedAt": "2020-06-23T15:00:04Z", "author": {"login": "Tristan2357"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABctvesIAFqTQzNDg0OTExNg==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcuFpyZAFqTQzNTc5NDA4Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM0ODQ5MTE2", "url": "https://github.com/Taskana/taskana/pull/1138#pullrequestreview-434849116", "createdAt": "2020-06-22T11:51:35Z", "commit": {"oid": "8a6bfe7d3b6450210b94f226a20b656d82d68f38"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMlQxMTo1MTozNVrOGm9T2A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMlQxMTo1MTozNVrOGm9T2A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzUwMzU3Ng==", "bodyText": "should this be done during save or creation?\nPersonally I think that onCopy() should remove the Id.", "url": "https://github.com/Taskana/taskana/pull/1138#discussion_r443503576", "createdAt": "2020-06-22T11:51:35Z", "author": {"login": "mustaphazorgati"}, "path": "web/src/app/administration/components/classification-details/classification-details.component.ts", "diffHunk": "@@ -157,7 +165,8 @@ export class ClassificationDetailsComponent implements OnInit, OnDestroy {\n \n   private async onSave() {\n     this.requestInProgressService.setRequestInProgress(true);\n-    if (this.action === ACTION.CREATE) {\n+    if (this.action) {\n+      this.classification.classificationId = null; // in case the id has been set, but a new classification should be created", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8a6bfe7d3b6450210b94f226a20b656d82d68f38"}, "originalPosition": 37}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM0ODU5OTk5", "url": "https://github.com/Taskana/taskana/pull/1138#pullrequestreview-434859999", "createdAt": "2020-06-22T12:08:01Z", "commit": {"oid": "8a6bfe7d3b6450210b94f226a20b656d82d68f38"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMlQxMjowODowMVrOGm9zBg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMlQxMjowODowMVrOGm9zBg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzUxMTU1OA==", "bodyText": "shouldn't we make a copy first? Are we otherwise overriding the values from the classification we copied from? Can you verify this please?", "url": "https://github.com/Taskana/taskana/pull/1138#discussion_r443511558", "createdAt": "2020-06-22T12:08:01Z", "author": {"login": "mustaphazorgati"}, "path": "web/src/app/administration/components/classification-details/classification-details.component.ts", "diffHunk": "@@ -131,6 +134,11 @@ export class ClassificationDetailsComponent implements OnInit, OnDestroy {\n     }\n   }\n \n+  onCopy() {\n+    this.store.dispatch(new SetActiveAction(ACTION.COPY));\n+    this.classification.key = '';", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8a6bfe7d3b6450210b94f226a20b656d82d68f38"}, "originalPosition": 25}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM1NzkwMTMz", "url": "https://github.com/Taskana/taskana/pull/1138#pullrequestreview-435790133", "createdAt": "2020-06-23T13:37:34Z", "commit": {"oid": "7093de2c5d20f8ed405c2d3647cdb18655760c93"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c03c9ec14828fa6a61ad097ebdd7ad5957ce701e", "author": {"user": {"login": "Tristan2357", "name": null}}, "url": "https://github.com/Taskana/taskana/commit/c03c9ec14828fa6a61ad097ebdd7ad5957ce701e", "committedDate": "2020-06-23T13:40:27Z", "message": "TSK-1221: Added copy functionality to classifications"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c97759144f35ee7fbda48289683cf3be07c0b9a4", "author": {"user": {"login": "Tristan2357", "name": null}}, "url": "https://github.com/Taskana/taskana/commit/c97759144f35ee7fbda48289683cf3be07c0b9a4", "committedDate": "2020-06-23T13:40:48Z", "message": "TSK-1221: Added test for copy\nTSK-1221: Added copy functionality to classifications"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM1Nzk0MDgz", "url": "https://github.com/Taskana/taskana/pull/1138#pullrequestreview-435794083", "createdAt": "2020-06-23T13:41:46Z", "commit": {"oid": "7093de2c5d20f8ed405c2d3647cdb18655760c93"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4501, "cost": 1, "resetAt": "2021-11-02T12:20:56Z"}}}