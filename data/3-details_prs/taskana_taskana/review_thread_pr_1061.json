{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE2MTMyNzQ4", "number": 1061, "reviewThreads": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQwNzo0NzoyMFrOD7h90g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQwODowMDowMlrOD7iQfQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYzNzQ5MDc0OnYy", "diffSide": "RIGHT", "path": "lib/taskana-core/src/main/java/pro/taskana/TaskanaEngineConfiguration.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQwNzo0NzoyMFrOGT6MwA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQwNzo0NzoyMFrOGT6MwA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzUyOTY2NA==", "bodyText": "As discussed. Maybe it's cooler to generalize our rolesSeparator", "url": "https://github.com/Taskana/taskana/pull/1061#discussion_r423529664", "createdAt": "2020-05-12T07:47:20Z", "author": {"login": "mustaphazorgati"}, "path": "lib/taskana-core/src/main/java/pro/taskana/TaskanaEngineConfiguration.java", "diffHunk": "@@ -71,6 +72,10 @@\n   // TASKANA_SCHEMA_VERSION\n   private static final String DEFAULT_SCHEMA_NAME = \"TASKANA\";\n \n+  private static final String TASKANA_CUSTOM_HOLIDAY = \"taskana.custom.holidays\";\n+  private static final String TASKANA_CUSTOM_HOLIDAY_SEPERATOR = \";\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f2c465b4ed05d9f6946f2af0a7de887bcb8d8dbe"}, "originalPosition": 25}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYzNzQ5MTk1OnYy", "diffSide": "RIGHT", "path": "lib/taskana-core/src/main/java/pro/taskana/TaskanaEngineConfiguration.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQwNzo0NzozOVrOGT6NeQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQwODozNzoyMlrOGT8GQQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzUyOTg0OQ==", "bodyText": "Why are you escaping the dot?", "url": "https://github.com/Taskana/taskana/pull/1061#discussion_r423529849", "createdAt": "2020-05-12T07:47:39Z", "author": {"login": "mustaphazorgati"}, "path": "lib/taskana-core/src/main/java/pro/taskana/TaskanaEngineConfiguration.java", "diffHunk": "@@ -71,6 +72,10 @@\n   // TASKANA_SCHEMA_VERSION\n   private static final String DEFAULT_SCHEMA_NAME = \"TASKANA\";\n \n+  private static final String TASKANA_CUSTOM_HOLIDAY = \"taskana.custom.holidays\";\n+  private static final String TASKANA_CUSTOM_HOLIDAY_SEPERATOR = \";\";\n+  private static final String TASKANA_CUSTOM_HOLIDAY_DAY_MONTH_SEPERATOR = \"\\\\.\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f2c465b4ed05d9f6946f2af0a7de887bcb8d8dbe"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzUzOTgzOA==", "bodyText": "Otherwise it is interpreted as an Regular expression, because String.split() method used regular expression patterns for splitting.", "url": "https://github.com/Taskana/taskana/pull/1061#discussion_r423539838", "createdAt": "2020-05-12T08:04:20Z", "author": {"login": "sfrevel"}, "path": "lib/taskana-core/src/main/java/pro/taskana/TaskanaEngineConfiguration.java", "diffHunk": "@@ -71,6 +72,10 @@\n   // TASKANA_SCHEMA_VERSION\n   private static final String DEFAULT_SCHEMA_NAME = \"TASKANA\";\n \n+  private static final String TASKANA_CUSTOM_HOLIDAY = \"taskana.custom.holidays\";\n+  private static final String TASKANA_CUSTOM_HOLIDAY_SEPERATOR = \";\";\n+  private static final String TASKANA_CUSTOM_HOLIDAY_DAY_MONTH_SEPERATOR = \"\\\\.\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzUyOTg0OQ=="}, "originalCommit": {"oid": "f2c465b4ed05d9f6946f2af0a7de887bcb8d8dbe"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzU2MDc2OQ==", "bodyText": "OK, i see Pattern#quate does the job \ud83d\udc4d", "url": "https://github.com/Taskana/taskana/pull/1061#discussion_r423560769", "createdAt": "2020-05-12T08:37:22Z", "author": {"login": "sfrevel"}, "path": "lib/taskana-core/src/main/java/pro/taskana/TaskanaEngineConfiguration.java", "diffHunk": "@@ -71,6 +72,10 @@\n   // TASKANA_SCHEMA_VERSION\n   private static final String DEFAULT_SCHEMA_NAME = \"TASKANA\";\n \n+  private static final String TASKANA_CUSTOM_HOLIDAY = \"taskana.custom.holidays\";\n+  private static final String TASKANA_CUSTOM_HOLIDAY_SEPERATOR = \";\";\n+  private static final String TASKANA_CUSTOM_HOLIDAY_DAY_MONTH_SEPERATOR = \"\\\\.\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzUyOTg0OQ=="}, "originalCommit": {"oid": "f2c465b4ed05d9f6946f2af0a7de887bcb8d8dbe"}, "originalPosition": 26}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYzNzQ5Nzg1OnYy", "diffSide": "RIGHT", "path": "lib/taskana-core/src/main/java/pro/taskana/TaskanaEngineConfiguration.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQwNzo0OToyMlrOGT6RPQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQwNzo0OToyMlrOGT6RPQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzUzMDgxMw==", "bodyText": "a set method which only adds feels a little odd..\nEither rename the method to addCustomHolidays or replace the existing lists (and thus override the property initalization).", "url": "https://github.com/Taskana/taskana/pull/1061#discussion_r423530813", "createdAt": "2020-05-12T07:49:22Z", "author": {"login": "mustaphazorgati"}, "path": "lib/taskana-core/src/main/java/pro/taskana/TaskanaEngineConfiguration.java", "diffHunk": "@@ -248,12 +254,12 @@ public void setGermanPublicHolidaysEnabled(boolean germanPublicHolidaysEnabled)\n     this.germanPublicHolidaysEnabled = germanPublicHolidaysEnabled;\n   }\n \n-  public List<LocalDate> getCustomHolidays() {\n+  public List<CustomHoliday> getCustomHolidays() {\n     return customHolidays;\n   }\n \n-  public void setCustomHolidays(List<LocalDate> customHolidays) {\n-    this.customHolidays = customHolidays;\n+  public void setCustomHolidays(List<CustomHoliday> customHolidays) {\n+    customHolidays.forEach(this.customHolidays::add);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f2c465b4ed05d9f6946f2af0a7de887bcb8d8dbe"}, "originalPosition": 62}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYzNzUxNDQ3OnYy", "diffSide": "RIGHT", "path": "lib/taskana-core/src/main/java/pro/taskana/TaskanaEngineConfiguration.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQwNzo1Mzo1MVrOGT6byQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQwNzo1Mzo1MVrOGT6byQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzUzMzUxMw==", "bodyText": "I prefer escaping the TASKANA_CUSTOM_HOLIDAY_SEPERATOR programmatically with Pattern#quote\nBecause of this other developer don't get confused with the semantic of that constant", "url": "https://github.com/Taskana/taskana/pull/1061#discussion_r423533513", "createdAt": "2020-05-12T07:53:51Z", "author": {"login": "mustaphazorgati"}, "path": "lib/taskana-core/src/main/java/pro/taskana/TaskanaEngineConfiguration.java", "diffHunk": "@@ -533,6 +539,34 @@ private void initTaskanaRoles(Properties props, String rolesSeparator) {\n     }\n   }\n \n+  private void initCustomHolidays(Properties props) {\n+    if (props.getProperty(TASKANA_CUSTOM_HOLIDAY) != null) {\n+      Arrays.asList(\n+              props.getProperty(TASKANA_CUSTOM_HOLIDAY).split(TASKANA_CUSTOM_HOLIDAY_SEPERATOR))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f2c465b4ed05d9f6946f2af0a7de887bcb8d8dbe"}, "originalPosition": 73}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYzNzUyMjQxOnYy", "diffSide": "RIGHT", "path": "lib/taskana-core/src/main/java/pro/taskana/TaskanaEngineConfiguration.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQwNzo1NTo0OVrOGT6gwg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQwNzo1NTo0OVrOGT6gwg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzUzNDc4Ng==", "bodyText": "same as the comment above :)", "url": "https://github.com/Taskana/taskana/pull/1061#discussion_r423534786", "createdAt": "2020-05-12T07:55:49Z", "author": {"login": "mustaphazorgati"}, "path": "lib/taskana-core/src/main/java/pro/taskana/TaskanaEngineConfiguration.java", "diffHunk": "@@ -533,6 +539,34 @@ private void initTaskanaRoles(Properties props, String rolesSeparator) {\n     }\n   }\n \n+  private void initCustomHolidays(Properties props) {\n+    if (props.getProperty(TASKANA_CUSTOM_HOLIDAY) != null) {\n+      Arrays.asList(\n+              props.getProperty(TASKANA_CUSTOM_HOLIDAY).split(TASKANA_CUSTOM_HOLIDAY_SEPERATOR))\n+          .forEach(\n+              entry -> {\n+                try {\n+                  customHolidays.add(createCustomHolidayFromPropsEntry(entry));\n+                } catch (WrongCustomHolidayFormatException e) {\n+                  LOGGER.warn(e.getMessage());\n+                }\n+              });\n+    }\n+  }\n+\n+  private CustomHoliday createCustomHolidayFromPropsEntry(String customHolidayEntry)\n+      throws WrongCustomHolidayFormatException {\n+    String[] parts = customHolidayEntry.split(TASKANA_CUSTOM_HOLIDAY_DAY_MONTH_SEPERATOR);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f2c465b4ed05d9f6946f2af0a7de887bcb8d8dbe"}, "originalPosition": 87}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYzNzUyODQzOnYy", "diffSide": "RIGHT", "path": "lib/taskana-core/src/main/java/pro/taskana/common/api/exceptions/WrongCustomHolidayFormatException.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQwNzo1NzoxN1rOGT6kjg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQwNzo1NzoxN1rOGT6kjg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzUzNTc1OA==", "bodyText": "Please extend TaskanaException instead of Exception", "url": "https://github.com/Taskana/taskana/pull/1061#discussion_r423535758", "createdAt": "2020-05-12T07:57:17Z", "author": {"login": "mustaphazorgati"}, "path": "lib/taskana-core/src/main/java/pro/taskana/common/api/exceptions/WrongCustomHolidayFormatException.java", "diffHunk": "@@ -0,0 +1,10 @@\n+package pro.taskana.common.api.exceptions;\n+\n+public class WrongCustomHolidayFormatException extends Exception {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f2c465b4ed05d9f6946f2af0a7de887bcb8d8dbe"}, "originalPosition": 3}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYzNzUzNjI2OnYy", "diffSide": "RIGHT", "path": "lib/taskana-core/src/main/java/pro/taskana/common/internal/util/CustomHoliday.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQwNzo1OToyNFrOGT6plw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQwNzo1OTozNVrOGT6p-w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzUzNzA0Nw==", "bodyText": "I wouldn't put this class in internal, since this is necessary for the user to configure.\nThis is common/api/model.. Any other thoughts?", "url": "https://github.com/Taskana/taskana/pull/1061#discussion_r423537047", "createdAt": "2020-05-12T07:59:24Z", "author": {"login": "mustaphazorgati"}, "path": "lib/taskana-core/src/main/java/pro/taskana/common/internal/util/CustomHoliday.java", "diffHunk": "@@ -0,0 +1,49 @@\n+package pro.taskana.common.internal.util;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f2c465b4ed05d9f6946f2af0a7de887bcb8d8dbe"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzUzNzE0Nw==", "bodyText": "Or just common/api", "url": "https://github.com/Taskana/taskana/pull/1061#discussion_r423537147", "createdAt": "2020-05-12T07:59:35Z", "author": {"login": "mustaphazorgati"}, "path": "lib/taskana-core/src/main/java/pro/taskana/common/internal/util/CustomHoliday.java", "diffHunk": "@@ -0,0 +1,49 @@\n+package pro.taskana.common.internal.util;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzUzNzA0Nw=="}, "originalCommit": {"oid": "f2c465b4ed05d9f6946f2af0a7de887bcb8d8dbe"}, "originalPosition": 1}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYzNzUzODUzOnYy", "diffSide": "RIGHT", "path": "lib/taskana-core/src/main/java/pro/taskana/common/internal/util/CustomHoliday.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQwODowMDowMlrOGT6rBA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQwODoxNDo0N1rOGT7NMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzUzNzQxMg==", "bodyText": "What do you think of reusing our generic Pair class? Or would that be confusing?", "url": "https://github.com/Taskana/taskana/pull/1061#discussion_r423537412", "createdAt": "2020-05-12T08:00:02Z", "author": {"login": "mustaphazorgati"}, "path": "lib/taskana-core/src/main/java/pro/taskana/common/internal/util/CustomHoliday.java", "diffHunk": "@@ -0,0 +1,49 @@\n+package pro.taskana.common.internal.util;\n+\n+import java.util.Objects;\n+\n+public final class CustomHoliday {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f2c465b4ed05d9f6946f2af0a7de887bcb8d8dbe"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzU0NjE2MQ==", "bodyText": "First I also thought about it, but I think it's better to be more strict with this object. And in the open source frameworks for similar task I found some examples where the use additional Information at the holidays object - like a description or a name. at this point it will be not a pair anymore. But you are right, the code looks very much the same right now.", "url": "https://github.com/Taskana/taskana/pull/1061#discussion_r423546161", "createdAt": "2020-05-12T08:14:47Z", "author": {"login": "sfrevel"}, "path": "lib/taskana-core/src/main/java/pro/taskana/common/internal/util/CustomHoliday.java", "diffHunk": "@@ -0,0 +1,49 @@\n+package pro.taskana.common.internal.util;\n+\n+import java.util.Objects;\n+\n+public final class CustomHoliday {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzUzNzQxMg=="}, "originalCommit": {"oid": "f2c465b4ed05d9f6946f2af0a7de887bcb8d8dbe"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4182, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}