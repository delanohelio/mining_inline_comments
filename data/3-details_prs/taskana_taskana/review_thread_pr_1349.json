{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI1NTgwMDI1", "number": 1349, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0xOFQxNDozNToxNFrOFQCOLg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0xOFQxNDozNToxNFrOFQCOLg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzUyMzU3OTM0OnYy", "diffSide": "RIGHT", "path": "history/taskana-simplehistory-provider/src/test/java/acceptance/query/QueryClassificationHistoryAccTest.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0xOFQxNDozNToxNFrOIVrykg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0xOFQxNDozNToxNFrOIVrykg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1OTYwODQ2Ng==", "bodyText": "I think, we should document this Exception in the JavaDoc of the API, shouldn't we?", "url": "https://github.com/Taskana/taskana/pull/1349#discussion_r559608466", "createdAt": "2021-01-18T14:35:14Z", "author": {"login": "holgerhagen"}, "path": "history/taskana-simplehistory-provider/src/test/java/acceptance/query/QueryClassificationHistoryAccTest.java", "diffHunk": "@@ -96,17 +98,31 @@ void should_ReturnEmptyList_When_ProvidingWrongContraints() {\n   @Test\n   void should_ReturnSingleHistoryEvent_When_UsingSingleMethod() {\n     ClassificationHistoryEvent single =\n-        historyService.createClassificationHistoryQuery().userIdIn(\"peter\").single();\n+        historyService\n+            .createClassificationHistoryQuery()\n+            .userIdIn(\"peter\")\n+            .classificationIdIn(\"CLI:000000000000000000000000000000000001\")\n+            .single();\n     assertThat(single.getEventType()).isEqualTo(ClassificationHistoryEventType.CREATED.getName());\n \n     single =\n         historyService\n             .createClassificationHistoryQuery()\n             .eventTypeIn(ClassificationHistoryEventType.CREATED.getName(), \"xy\")\n+            .classificationIdIn(\"CLI:000000000000000000000000000000000001\")\n             .single();\n     assertThat(single.getUserId()).isEqualTo(\"peter\");\n   }\n \n+  @Test\n+  void should_ThrowException_When_SingleMethodRetrievesMoreThanOneEventFromDatabase() {\n+\n+    ClassificationHistoryQuery query =\n+        getHistoryService().createClassificationHistoryQuery().userIdIn(\"peter\");\n+\n+    assertThatThrownBy(() -> query.single()).isInstanceOf(TooManyResultsException.class);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b4587e8d0329b7bf41bcca9073a90b61bfc6e69f"}, "originalPosition": 41}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4463, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}