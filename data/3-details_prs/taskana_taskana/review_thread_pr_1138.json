{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM3NzY4OTIy", "number": 1138, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMlQxMTo1MTozNVrOEHifHw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMlQxMjowODowMVrOEHiyZw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc2MzQwNTExOnYy", "diffSide": "RIGHT", "path": "web/src/app/administration/components/classification-details/classification-details.component.ts", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMlQxMTo1MTozNVrOGm9T2A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QxMjo0NDo1MFrOGnncgQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzUwMzU3Ng==", "bodyText": "should this be done during save or creation?\nPersonally I think that onCopy() should remove the Id.", "url": "https://github.com/Taskana/taskana/pull/1138#discussion_r443503576", "createdAt": "2020-06-22T11:51:35Z", "author": {"login": "mustaphazorgati"}, "path": "web/src/app/administration/components/classification-details/classification-details.component.ts", "diffHunk": "@@ -157,7 +165,8 @@ export class ClassificationDetailsComponent implements OnInit, OnDestroy {\n \n   private async onSave() {\n     this.requestInProgressService.setRequestInProgress(true);\n-    if (this.action === ACTION.CREATE) {\n+    if (this.action) {\n+      this.classification.classificationId = null; // in case the id has been set, but a new classification should be created", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8a6bfe7d3b6450210b94f226a20b656d82d68f38"}, "originalPosition": 37}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzUyMzc5OQ==", "bodyText": "This way the reset button can use the id to reset the copy to the original and in my opinion it does not really matter when to id gets removed. It would be cleaner, but i liked the possibility to reset.", "url": "https://github.com/Taskana/taskana/pull/1138#discussion_r443523799", "createdAt": "2020-06-22T12:31:18Z", "author": {"login": "Tristan2357"}, "path": "web/src/app/administration/components/classification-details/classification-details.component.ts", "diffHunk": "@@ -157,7 +165,8 @@ export class ClassificationDetailsComponent implements OnInit, OnDestroy {\n \n   private async onSave() {\n     this.requestInProgressService.setRequestInProgress(true);\n-    if (this.action === ACTION.CREATE) {\n+    if (this.action) {\n+      this.classification.classificationId = null; // in case the id has been set, but a new classification should be created", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzUwMzU3Ng=="}, "originalCommit": {"oid": "8a6bfe7d3b6450210b94f226a20b656d82d68f38"}, "originalPosition": 37}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDE5MzkyMQ==", "bodyText": "Well.. the reset reset's the ID - I don't think this is desired..", "url": "https://github.com/Taskana/taskana/pull/1138#discussion_r444193921", "createdAt": "2020-06-23T12:44:50Z", "author": {"login": "mustaphazorgati"}, "path": "web/src/app/administration/components/classification-details/classification-details.component.ts", "diffHunk": "@@ -157,7 +165,8 @@ export class ClassificationDetailsComponent implements OnInit, OnDestroy {\n \n   private async onSave() {\n     this.requestInProgressService.setRequestInProgress(true);\n-    if (this.action === ACTION.CREATE) {\n+    if (this.action) {\n+      this.classification.classificationId = null; // in case the id has been set, but a new classification should be created", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzUwMzU3Ng=="}, "originalCommit": {"oid": "8a6bfe7d3b6450210b94f226a20b656d82d68f38"}, "originalPosition": 37}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc2MzQ1NDQ3OnYy", "diffSide": "RIGHT", "path": "web/src/app/administration/components/classification-details/classification-details.component.ts", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMlQxMjowODowMVrOGm9zBg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMlQxMjozMzowNVrOGm-mcg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzUxMTU1OA==", "bodyText": "shouldn't we make a copy first? Are we otherwise overriding the values from the classification we copied from? Can you verify this please?", "url": "https://github.com/Taskana/taskana/pull/1138#discussion_r443511558", "createdAt": "2020-06-22T12:08:01Z", "author": {"login": "mustaphazorgati"}, "path": "web/src/app/administration/components/classification-details/classification-details.component.ts", "diffHunk": "@@ -131,6 +134,11 @@ export class ClassificationDetailsComponent implements OnInit, OnDestroy {\n     }\n   }\n \n+  onCopy() {\n+    this.store.dispatch(new SetActiveAction(ACTION.COPY));\n+    this.classification.key = '';", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8a6bfe7d3b6450210b94f226a20b656d82d68f38"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzUyNDcyMg==", "bodyText": "Because we use the store we always just work with a local copy, and when switching to the old classification we retrive the newest version of it, which resets unsaved changes. If saved the classification does not overwrite the old one", "url": "https://github.com/Taskana/taskana/pull/1138#discussion_r443524722", "createdAt": "2020-06-22T12:33:05Z", "author": {"login": "Tristan2357"}, "path": "web/src/app/administration/components/classification-details/classification-details.component.ts", "diffHunk": "@@ -131,6 +134,11 @@ export class ClassificationDetailsComponent implements OnInit, OnDestroy {\n     }\n   }\n \n+  onCopy() {\n+    this.store.dispatch(new SetActiveAction(ACTION.COPY));\n+    this.classification.key = '';", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzUxMTU1OA=="}, "originalCommit": {"oid": "8a6bfe7d3b6450210b94f226a20b656d82d68f38"}, "originalPosition": 25}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4245, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}