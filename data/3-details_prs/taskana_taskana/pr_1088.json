{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIzNjI3NTEw", "number": 1088, "title": "Task 1259", "bodyText": "", "createdAt": "2020-05-27T06:02:19Z", "url": "https://github.com/Taskana/taskana/pull/1088", "merged": true, "mergeCommit": {"oid": "0442dc54b4295137031176ecc7145fec7a5fb4a6"}, "closed": true, "closedAt": "2020-05-30T09:48:04Z", "author": {"login": "mustaphazorgati"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABclW2gyAFqTQxODk5MDA1OQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABclZ_dIgBqjMzNzgzNzM5MTI=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE4OTkwMDU5", "url": "https://github.com/Taskana/taskana/pull/1088#pullrequestreview-418990059", "createdAt": "2020-05-27T08:55:40Z", "commit": {"oid": "21316bfe5293146a152dc1ebc8d9eac9d3d37936"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QwODo1NTo0MFrOGa_0eg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QwOToyNDo1MVrOGbA9GQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDk2MTc4Ng==", "bodyText": "In the entity the method is getId/setId. Should we use this method- and fieldname as well since all other methods are consistent in comparison?", "url": "https://github.com/Taskana/taskana/pull/1088#discussion_r430961786", "createdAt": "2020-05-27T08:55:40Z", "author": {"login": "krozzus"}, "path": "rest/taskana-rest-spring/src/main/java/pro/taskana/task/rest/assembler/AttachmentSummaryRepresentationModelAssembler.java", "diffHunk": "@@ -14,10 +18,42 @@\n public class AttachmentSummaryRepresentationModelAssembler implements\n     RepresentationModelAssembler<AttachmentSummary, AttachmentSummaryRepresentationModel> {\n \n+  private final TaskService taskService;\n+  private final ClassificationSummaryRepresentationModelAssembler classificationSummaryAssembler;\n+\n+  @Autowired\n+  public AttachmentSummaryRepresentationModelAssembler(TaskService taskService,\n+      ClassificationSummaryRepresentationModelAssembler classificationSummaryAssembler) {\n+    this.taskService = taskService;\n+    this.classificationSummaryAssembler = classificationSummaryAssembler;\n+  }\n+\n   @NonNull\n   @Override\n   public AttachmentSummaryRepresentationModel toModel(\n-      @NonNull AttachmentSummary attachmentSummary) {\n-    return new AttachmentSummaryRepresentationModel(attachmentSummary);\n+      @NonNull AttachmentSummary summary) {\n+    AttachmentSummaryRepresentationModel repModel = new AttachmentSummaryRepresentationModel();\n+    repModel.setAttachmentId(summary.getId());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "21316bfe5293146a152dc1ebc8d9eac9d3d37936"}, "originalPosition": 36}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDk3NTEzNw==", "bodyText": "Why are we changing this?", "url": "https://github.com/Taskana/taskana/pull/1088#discussion_r430975137", "createdAt": "2020-05-27T09:16:31Z", "author": {"login": "krozzus"}, "path": "lib/taskana-data/src/main/resources/sql/test-data/workbasket.sql", "diffHunk": "@@ -18,13 +18,13 @@ INSERT INTO WORKBASKET VALUES ('WBI:100000000000000000000000000000000014', 'USER\n INSERT INTO WORKBASKET VALUES ('WBI:100000000000000000000000000000000015', 'USER_3_2', RELATIVE_DATE(0) , RELATIVE_DATE(0) , 'PPK User 2 KSC 1 Domain B', 'DOMAIN_B', 'PERSONAL', 'PPK User 1 KSC 1 Domain B', 'owner0815', 'ABCABC', 'cust2', 'cust3', 'cust4', 'orgl1', 'orgl2', 'orgl3', 'orgl4', FALSE);\n \n -- Workbaskets for sorting test\n-INSERT INTO WORKBASKET VALUES ('WBI:000000000000000000000000000000000900', 'sort001', RELATIVE_DATE(0) , RELATIVE_DATE(0) , 'basxet0', 'DOM_XY', 'TOPIC',     'Lorem ipsum dolor sit amet.', 'Max', '', '', '', '', '', '', '', '', FALSE);\n-INSERT INTO WORKBASKET VALUES ('WBI:000000000000000000000000000000000901', 'Sort002', RELATIVE_DATE(0) , RELATIVE_DATE(0) , 'Basxet1', 'DOM_XY', 'TOPIC',     'Lorem ipsum dolor sit amet.', 'Max', '', '', '', '', '', '', '', '', FALSE);\n-INSERT INTO WORKBASKET VALUES ('WBI:000000000000000000000000000000000902', 'sOrt003', RELATIVE_DATE(0) , RELATIVE_DATE(0) , 'bAsxet2', 'DOM_XY', 'TOPIC',     'Lorem ipsum dolor sit amet.', 'Max', '', '', '', '', '', '', '', '', FALSE);\n-INSERT INTO WORKBASKET VALUES ('WBI:000000000000000000000000000000000903', 'soRt004', RELATIVE_DATE(0) , RELATIVE_DATE(0) , 'baSxet3', 'DOM_XY', 'TOPIC',     'Lorem ipsum dolor sit amet.', 'Max', '', '', '', '', '', '', '', '', FALSE);\n-INSERT INTO WORKBASKET VALUES ('WBI:000000000000000000000000000000000904', 'sorT005', RELATIVE_DATE(0) , RELATIVE_DATE(0) , 'basXet4', 'DOM_XY', 'TOPIC',     'Lorem ipsum dolor sit amet.', 'Max', '', '', '', '', '', '', '', '', FALSE);\n-INSERT INTO WORKBASKET VALUES ('WBI:000000000000000000000000000000000905', 'Sort006', RELATIVE_DATE(0) , RELATIVE_DATE(0) , 'basxEt5', 'DOM_XY', 'TOPIC',     'Lorem ipsum dolor sit amet.', 'Max', '', '', '', '', '', '', '', '', FALSE);\n-INSERT INTO WORKBASKET VALUES ('WBI:000000000000000000000000000000000906', 'SOrt007', RELATIVE_DATE(0) , RELATIVE_DATE(0) , 'basxeT6', 'DOM_XY', 'TOPIC',     'Lorem ipsum dolor sit amet.', 'Max', '', '', '', '', '', '', '', '', FALSE);\n-INSERT INTO WORKBASKET VALUES ('WBI:000000000000000000000000000000000907', 'SoRt008', RELATIVE_DATE(0) , RELATIVE_DATE(0) , 'BAsxet7', 'DOM_XY', 'TOPIC',     'Lorem ipsum dolor sit amet.', 'Max', '', '', '', '', '', '', '', '', FALSE);\n-INSERT INTO WORKBASKET VALUES ('WBI:000000000000000000000000000000000908', 'SorT009', RELATIVE_DATE(0) , RELATIVE_DATE(0) , 'BaSxet8', 'DOM_XY', 'TOPIC',     'Lorem ipsum dolor sit amet.', 'Max', '', '', '', '', '', '', '', '', FALSE);\n-INSERT INTO WORKBASKET VALUES ('WBI:000000000000000000000000000000000909', 'Sort010', RELATIVE_DATE(0) , RELATIVE_DATE(0) , 'BasXet9', 'DOM_XY', 'TOPIC',     'Lorem ipsum dolor sit amet.', 'Max', '', '', '', '', '', '', '', '', FALSE);\n+INSERT INTO WORKBASKET VALUES ('WBI:000000000000000000000000000000000900', 'sort001', RELATIVE_DATE(0) , RELATIVE_DATE(0) , 'basxet0', 'DOMAIN_A', 'TOPIC',     'Lorem ipsum dolor sit amet.', 'Max', '', '', '', '', '', '', '', '', FALSE);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7ec8c8f4935ef9825ca804fcc04b8148cfb0bbf8"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDk4MDM3Nw==", "bodyText": "Do we still need the ObjectMapper?", "url": "https://github.com/Taskana/taskana/pull/1088#discussion_r430980377", "createdAt": "2020-05-27T09:24:51Z", "author": {"login": "krozzus"}, "path": "rest/taskana-rest-spring/src/main/java/pro/taskana/workbasket/rest/WorkbasketDefinitionController.java", "diffHunk": "@@ -53,33 +56,38 @@\n       LoggerFactory.getLogger(WorkbasketDefinitionController.class);\n \n   private final WorkbasketService workbasketService;\n-\n   private final WorkbasketDefinitionRepresentationModelAssembler workbasketDefinitionAssembler;\n+  private final ObjectMapper mapper;\n \n+  @Autowired\n   WorkbasketDefinitionController(\n       WorkbasketService workbasketService,\n-      WorkbasketDefinitionRepresentationModelAssembler workbasketDefinitionAssembler) {\n+      WorkbasketDefinitionRepresentationModelAssembler workbasketDefinitionAssembler,\n+      ObjectMapper mapper) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7ec8c8f4935ef9825ca804fcc04b8148cfb0bbf8"}, "originalPosition": 44}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE5MDcyOTk3", "url": "https://github.com/Taskana/taskana/pull/1088#pullrequestreview-419072997", "createdAt": "2020-05-27T10:46:30Z", "commit": {"oid": "e9258dda7c960b32cc91aae071482002713276ff"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QxMDo0NjozMFrOGbDwcA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QxMDo0NjozMFrOGbDwcA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTAyNjI4OA==", "bodyText": "why are we refactoring this class?", "url": "https://github.com/Taskana/taskana/pull/1088#discussion_r431026288", "createdAt": "2020-05-27T10:46:30Z", "author": {"login": "krozzus"}, "path": "lib/taskana-core/src/main/java/pro/taskana/common/internal/util/WorkingDaysToDaysConverter.java", "diffHunk": "@@ -8,14 +8,13 @@\n import java.time.LocalDate;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e9258dda7c960b32cc91aae071482002713276ff"}, "originalPosition": 1}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE5MDgxNTkz", "url": "https://github.com/Taskana/taskana/pull/1088#pullrequestreview-419081593", "createdAt": "2020-05-27T11:00:06Z", "commit": {"oid": "3ffff8c571344931660c23e99c0edadbc620741b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QxMTowMDowNlrOGbEKeg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QxMTowMDowNlrOGbEKeg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTAzMjk1NA==", "bodyText": "We need to properly delete this class.", "url": "https://github.com/Taskana/taskana/pull/1088#discussion_r431032954", "createdAt": "2020-05-27T11:00:06Z", "author": {"login": "krozzus"}, "path": "rest/taskana-rest-spring/src/main/java/pro/taskana/workbasket/rest/assembler/DistributionTargetRepresentationModelAssembler.java", "diffHunk": "@@ -1,21 +1 @@\n-package pro.taskana.workbasket.rest.assembler;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3ffff8c571344931660c23e99c0edadbc620741b"}, "originalPosition": 1}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE5MTA4MjY0", "url": "https://github.com/Taskana/taskana/pull/1088#pullrequestreview-419108264", "createdAt": "2020-05-27T11:41:39Z", "commit": {"oid": "3ffff8c571344931660c23e99c0edadbc620741b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QxMTo0MTo0MFrOGbFY_A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QxMTo0MTo0MFrOGbFY_A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTA1MzA1Mg==", "bodyText": "We can inject the ObjectMapper from Spring (so that we don't have to configure the mapper manually)", "url": "https://github.com/Taskana/taskana/pull/1088#discussion_r431053052", "createdAt": "2020-05-27T11:41:40Z", "author": {"login": "mustaphazorgati"}, "path": "rest/taskana-rest-spring-example-common/src/test/java/pro/taskana/RestHelper.java", "diffHunk": "@@ -67,9 +71,13 @@ public static RestTemplate getRestTemplate() {\n     mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n     mapper.configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, false);\n     mapper.registerModule(new Jackson2HalModule());\n+    mapper\n+        .registerModule(new ParameterNamesModule())\n+        .registerModule(new Jdk8Module())\n+        .registerModule(new JavaTimeModule());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3ffff8c571344931660c23e99c0edadbc620741b"}, "originalPosition": 25}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0875e524eec5843c972cb3986515fe78f6721890", "author": {"user": {"login": "mustaphazorgati", "name": "Mustapha Zorgati"}}, "url": "https://github.com/Taskana/taskana/commit/0875e524eec5843c972cb3986515fe78f6721890", "committedDate": "2020-05-27T13:52:19Z", "message": "TSK-1259: fixed test"}, "afterCommit": {"oid": "3eee4b411639cc408b8f433f7be526a68b49a85a", "author": {"user": null}, "url": "https://github.com/Taskana/taskana/commit/3eee4b411639cc408b8f433f7be526a68b49a85a", "committedDate": "2020-05-27T14:14:33Z", "message": "TASK-1259: Refactoring of assembler classes"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3eee4b411639cc408b8f433f7be526a68b49a85a", "author": {"user": null}, "url": "https://github.com/Taskana/taskana/commit/3eee4b411639cc408b8f433f7be526a68b49a85a", "committedDate": "2020-05-27T14:14:33Z", "message": "TASK-1259: Refactoring of assembler classes"}, "afterCommit": {"oid": "4095728c42db9e4f077d7e011e5965a2bca2ecd1", "author": {"user": null}, "url": "https://github.com/Taskana/taskana/commit/4095728c42db9e4f077d7e011e5965a2bca2ecd1", "committedDate": "2020-05-27T14:15:53Z", "message": "temporary changestash"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d7fb72fac3f3e2442d55174be76cd1223763a101", "author": {"user": null}, "url": "https://github.com/Taskana/taskana/commit/d7fb72fac3f3e2442d55174be76cd1223763a101", "committedDate": "2020-05-27T14:17:52Z", "message": "Task-1259: Refactoring of assembler classes"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4095728c42db9e4f077d7e011e5965a2bca2ecd1", "author": {"user": null}, "url": "https://github.com/Taskana/taskana/commit/4095728c42db9e4f077d7e011e5965a2bca2ecd1", "committedDate": "2020-05-27T14:15:53Z", "message": "temporary changestash"}, "afterCommit": {"oid": "d7fb72fac3f3e2442d55174be76cd1223763a101", "author": {"user": null}, "url": "https://github.com/Taskana/taskana/commit/d7fb72fac3f3e2442d55174be76cd1223763a101", "committedDate": "2020-05-27T14:17:52Z", "message": "Task-1259: Refactoring of assembler classes"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4487, "cost": 1, "resetAt": "2021-11-02T12:20:56Z"}}}