{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI2MzAxNjEz", "number": 1354, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0zMFQxMjo1ODo0MVrOE-pF7w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0zMFQxMzoxNjozNFrOE-pg1Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM0MTIwNDMxOnYy", "diffSide": "RIGHT", "path": "web/src/app/administration/components/access-items-management/access-items-management.component.ts", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0zMFQxMjo1ODo0MlrOH75-ZQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0zMFQxMjo1ODo0MlrOH75-ZQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjU3Nzg5Mw==", "bodyText": "It seems to me that this method is written much more complicated than it actually is. By removing the negation of the first two conditions, you can delete the whole 'else' in the end.\n    if (this.accessItemsForm.value.workbasketKeyFilter) {\n      this.accessItems = this.accessItems.filter((value) =>\n        value.workbasketKey.toLowerCase().includes(this.accessItemsForm.value.workbasketKeyFilter)\n      );\n    }\n    if (this.accessItemsForm.value.accessIdFilter) {\n      this.accessItems = this.accessItems.filter((value) =>\n        value.accessName.toLowerCase().includes(this.accessItemsForm.value.accessIdFilter)\n      );\n    }", "url": "https://github.com/Taskana/taskana/pull/1354#discussion_r532577893", "createdAt": "2020-11-30T12:58:42Z", "author": {"login": "sofie29"}, "path": "web/src/app/administration/components/access-items-management/access-items-management.component.ts", "diffHunk": "@@ -119,6 +111,29 @@ export class AccessItemsManagementComponent implements OnInit {\n     if (!this.accessItemsForm.value.accessIdFilter) {\n       this.accessItemsForm.addControl('accessIdFilter', new FormControl());\n     }\n+    this.accessItems = accessItems;\n+    if (this.accessItemsForm.value.workbasketKeyFilter || this.accessItemsForm.value.accessIdFilter) {\n+      this.filterAccessItems();\n+    }\n+  }\n+\n+  filterAccessItems() {\n+    if (!this.accessItemsForm.value.accessIdFilter) {\n+      this.accessItems = this.accessItems.filter((value) =>\n+        value.workbasketKey.toLowerCase().includes(this.accessItemsForm.value.workbasketKeyFilter)\n+      );\n+    } else if (!this.accessItemsForm.value.workbasketKeyFilter) {\n+      this.accessItems = this.accessItems.filter((value) =>\n+        value.accessName.toLowerCase().includes(this.accessItemsForm.value.accessIdFilter)\n+      );\n+    } else {\n+      this.accessItems = this.accessItems.filter((value) =>\n+        value.workbasketKey.toLowerCase().includes(this.accessItemsForm.value.workbasketKeyFilter)\n+      );\n+      this.accessItems = this.accessItems.filter((value) =>\n+        value.accessName.toLowerCase().includes(this.accessItemsForm.value.accessIdFilter)\n+      );\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "15210b4c4bbfa0ba3029df2634525bdc0cefaa1f"}, "originalPosition": 75}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM0MTIzNzIxOnYy", "diffSide": "RIGHT", "path": "web/src/app/administration/components/access-items-management/access-items-management.component.ts", "isResolved": false, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0zMFQxMzowNzowOVrOH76R_A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQxMzo0Mjo0M1rOH_Rb6A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjU4MjkwOA==", "bodyText": "Is it possible to determine a type?", "url": "https://github.com/Taskana/taskana/pull/1354#discussion_r532582908", "createdAt": "2020-11-30T13:07:09Z", "author": {"login": "sofie29"}, "path": "web/src/app/administration/components/access-items-management/access-items-management.component.ts", "diffHunk": "@@ -40,7 +39,7 @@ export class AccessItemsManagementComponent implements OnInit {\n     ['workbasket-key', 'Workbasket Key']\n   ]);\n   sortModel: Sorting = new Sorting('access-id', Direction.DESC);\n-  isGroup: boolean = false;\n+  accessItems: any[];", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "15210b4c4bbfa0ba3029df2634525bdc0cefaa1f"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjU5Mzg4OQ==", "bodyText": "and 'isGroup' is used in html line 121.", "url": "https://github.com/Taskana/taskana/pull/1354#discussion_r532593889", "createdAt": "2020-11-30T13:25:29Z", "author": {"login": "sofie29"}, "path": "web/src/app/administration/components/access-items-management/access-items-management.component.ts", "diffHunk": "@@ -40,7 +39,7 @@ export class AccessItemsManagementComponent implements OnInit {\n     ['workbasket-key', 'Workbasket Key']\n   ]);\n   sortModel: Sorting = new Sorting('access-id', Direction.DESC);\n-  isGroup: boolean = false;\n+  accessItems: any[];", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjU4MjkwOA=="}, "originalCommit": {"oid": "15210b4c4bbfa0ba3029df2634525bdc0cefaa1f"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTk1NzMzNw==", "bodyText": "If I set the accessItems to type accessItemWorkbasket, what it's supposed to be, an error occurs and thus it doesn't recognizes the belonging parameters anymore (I have no idea why). since the name of the variable is already quite meaningful, I would maybe just stick with the type any?", "url": "https://github.com/Taskana/taskana/pull/1354#discussion_r535957337", "createdAt": "2020-12-04T09:28:10Z", "author": {"login": "Franzi321"}, "path": "web/src/app/administration/components/access-items-management/access-items-management.component.ts", "diffHunk": "@@ -40,7 +39,7 @@ export class AccessItemsManagementComponent implements OnInit {\n     ['workbasket-key', 'Workbasket Key']\n   ]);\n   sortModel: Sorting = new Sorting('access-id', Direction.DESC);\n-  isGroup: boolean = false;\n+  accessItems: any[];", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjU4MjkwOA=="}, "originalCommit": {"oid": "15210b4c4bbfa0ba3029df2634525bdc0cefaa1f"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjEwODAwOA==", "bodyText": "Should every object from the class AccessItemWorkbasket have the attribute accessName? If this is the case, we should add the attribute accessName to the class AccessItemWorkbasket.", "url": "https://github.com/Taskana/taskana/pull/1354#discussion_r536108008", "createdAt": "2020-12-04T13:42:43Z", "author": {"login": "sofie29"}, "path": "web/src/app/administration/components/access-items-management/access-items-management.component.ts", "diffHunk": "@@ -40,7 +39,7 @@ export class AccessItemsManagementComponent implements OnInit {\n     ['workbasket-key', 'Workbasket Key']\n   ]);\n   sortModel: Sorting = new Sorting('access-id', Direction.DESC);\n-  isGroup: boolean = false;\n+  accessItems: any[];", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjU4MjkwOA=="}, "originalCommit": {"oid": "15210b4c4bbfa0ba3029df2634525bdc0cefaa1f"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM0MTI3MzE3OnYy", "diffSide": "RIGHT", "path": "web/src/app/administration/components/access-items-management/access-items-management.component.ts", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0zMFQxMzoxNjozNFrOH76nsg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0zMFQxMzoxNjozNFrOH76nsg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjU4ODQ2Ng==", "bodyText": "Now, the action GetAccessItems contains logic which is never used (the filter). In case we are sure that we don't need this again, the action GetAccessItems could be modified. We could also create a new ticket and modify this after the redesign.", "url": "https://github.com/Taskana/taskana/pull/1354#discussion_r532588466", "createdAt": "2020-11-30T13:16:34Z", "author": {"login": "sofie29"}, "path": "web/src/app/administration/components/access-items-management/access-items-management.component.ts", "diffHunk": "@@ -83,14 +81,7 @@ export class AccessItemsManagementComponent implements OnInit {\n   searchForAccessItemsWorkbaskets() {\n     this.removeFocus();\n     this.store\n-      .dispatch(\n-        new GetAccessItems(\n-          [this.accessId, ...this.groups],\n-          this.accessItemsForm ? this.accessItemsForm.value.accessIdFilter : undefined,\n-          this.accessItemsForm ? this.accessItemsForm.value.workbasketKeyFilter : undefined,\n-          this.sortModel\n-        )\n-      )\n+      .dispatch(new GetAccessItems([this.accessId, ...this.groups], '', '', this.sortModel))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "15210b4c4bbfa0ba3029df2634525bdc0cefaa1f"}, "originalPosition": 37}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4468, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}