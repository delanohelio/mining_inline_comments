{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg2NzU5NjI5", "number": 5097, "title": "RM24763 Fixed NPE when company has no linked partner on saleOrder form", "bodyText": "", "createdAt": "2020-03-11T15:28:26Z", "url": "https://github.com/axelor/axelor-open-suite/pull/5097", "merged": true, "mergeCommit": {"oid": "e9d06bd8e2666c19eb3b8c4209a1ae248f10104b"}, "closed": true, "closedAt": "2020-03-20T14:19:48Z", "author": {"login": "erg-axelor"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcMo1C9gH2gAyMzg2NzU5NjI5Ojg5YTM0ZjUzOGUzNjY3ZWMzMmNmNjQwY2I3M2JmZjgyOTJkMjU0ZWE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcPhP-qAH2gAyMzg2NzU5NjI5Ojg4ZjgzMzUxMTliNjc0ZTI0YWM5ZmJjNjIyNDE4ZjI0ZTE5ZTY1Y2Y=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "89a34f538e3667ec32cf640cb73bff8292d254ea", "author": {"user": {"login": "erg-axelor", "name": null}}, "url": "https://github.com/axelor/axelor-open-suite/commit/89a34f538e3667ec32cf640cb73bff8292d254ea", "committedDate": "2020-03-11T15:27:19Z", "message": "RM24763 Fixed NPE when company has no linked partner on saleOrder form"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b3c3916978fe014ba6718e57e86b044e4d0fffba", "author": {"user": {"login": "erg-axelor", "name": null}}, "url": "https://github.com/axelor/axelor-open-suite/commit/b3c3916978fe014ba6718e57e86b044e4d0fffba", "committedDate": "2020-03-11T15:28:56Z", "message": "Merge branch '5.2-dev' into 5.2-dev-24763"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc2MjI2NjYx", "url": "https://github.com/axelor/axelor-open-suite/pull/5097#pullrequestreview-376226661", "createdAt": "2020-03-17T16:57:21Z", "commit": {"oid": "b3c3916978fe014ba6718e57e86b044e4d0fffba"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xN1QxNjo1NzoyMVrOF3laUg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xN1QxNjo1NzoyMVrOF3laUg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzgyODk0Ng==", "bodyText": "This is ok but just to be safe please rename companyId => companyPartnerId, keep it a long and set it to 0 instead of null", "url": "https://github.com/axelor/axelor-open-suite/pull/5097#discussion_r393828946", "createdAt": "2020-03-17T16:57:21Z", "author": {"login": "ale-axelor"}, "path": "axelor-sale/src/main/java/com/axelor/apps/sale/web/SaleOrderController.java", "diffHunk": "@@ -714,7 +714,7 @@ public void updateSaleOrderLineTax(ActionRequest request, ActionResponse respons\n   public void getSaleOrderPartnerDomain(ActionRequest request, ActionResponse response) {\n     SaleOrder saleOrder = request.getContext().asType(SaleOrder.class);\n     Company company = saleOrder.getCompany();\n-    long companyId = company.getPartner().getId();\n+    Long companyId = company.getPartner() == null ? null : company.getPartner().getId();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b3c3916978fe014ba6718e57e86b044e4d0fffba"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8bd367490d7711b1dc1cf886e921076c60f32cac", "author": {"user": {"login": "erg-axelor", "name": null}}, "url": "https://github.com/axelor/axelor-open-suite/commit/8bd367490d7711b1dc1cf886e921076c60f32cac", "committedDate": "2020-03-18T12:02:07Z", "message": "Renamed var and set it to 0 instead of null"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7be359f25f0b55dccfcc2f28a73944e79a78971e", "author": {"user": {"login": "erg-axelor", "name": null}}, "url": "https://github.com/axelor/axelor-open-suite/commit/7be359f25f0b55dccfcc2f28a73944e79a78971e", "committedDate": "2020-03-18T12:10:15Z", "message": "Merge branch '5.2-dev-24763' of github.com:erg-axelor/axelor-open-suite into 5.2-dev-24763"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "88f8335119b674e24ac9fbc622418f24e19e65cf", "author": {"user": {"login": "ale-axelor", "name": null}}, "url": "https://github.com/axelor/axelor-open-suite/commit/88f8335119b674e24ac9fbc622418f24e19e65cf", "committedDate": "2020-03-20T14:19:16Z", "message": "Merge branch '5.2-dev' into 5.2-dev-24763"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2028, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}