{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE3MTk4MTc1", "number": 5433, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMFQxMjoyNTo1N1rOENQXwA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMFQxMzo0MjowNVrOENR9dg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgyMzM1MTY4OnYy", "diffSide": "RIGHT", "path": "axelor-human-resource/src/main/java/com/axelor/apps/hr/service/app/AppTimesheetServiceImpl.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMFQxMjoyNTo1N1rOGv1Xew==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMFQxMjoyNTo1N1rOGv1Xew==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjgxMDYxOQ==", "bodyText": "Add an order by on the query. Currently this randomly will not update all timesheets.", "url": "https://github.com/axelor/axelor-open-suite/pull/5433#discussion_r452810619", "createdAt": "2020-07-10T12:25:57Z", "author": {"login": "ale-axelor"}, "path": "axelor-human-resource/src/main/java/com/axelor/apps/hr/service/app/AppTimesheetServiceImpl.java", "diffHunk": "@@ -0,0 +1,38 @@\n+package com.axelor.apps.hr.service.app;\n+\n+import com.axelor.apps.base.service.administration.AbstractBatch;\n+import com.axelor.apps.hr.db.Timesheet;\n+import com.axelor.apps.hr.db.repo.TimesheetRepository;\n+import com.axelor.db.JPA;\n+import com.axelor.db.Query;\n+import com.google.inject.Inject;\n+import com.google.inject.persist.Transactional;\n+\n+import java.util.List;\n+\n+public class AppTimesheetServiceImpl implements AppTimesheetService {\n+    protected TimesheetRepository timesheetRepo;\n+\n+    @Inject\n+    public AppTimesheetServiceImpl(TimesheetRepository timesheetRepo) {\n+        this.timesheetRepo = timesheetRepo;\n+    }\n+\n+    @Override\n+    @Transactional(rollbackOn = {Exception.class})\n+    public void switchTimesheetEditors(Boolean state) {\n+        List<Timesheet> timesheets;\n+        Query<Timesheet> query = timesheetRepo.all();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "98ad9b1e272c973ef6e07a765e2f716a3216252a"}, "originalPosition": 25}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgyMzM1OTI4OnYy", "diffSide": "RIGHT", "path": "axelor-human-resource/src/main/java/com/axelor/apps/hr/web/AppTimesheetController.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMFQxMjoyODo0MVrOGv1cJw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMFQxMjoyODo0MVrOGv1cJw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjgxMTgxNQ==", "bodyText": "This must be in a try catch block\ntry { \n//\n} catch(Exception e) { \n  TraceBackService.trace(response, e);\n}", "url": "https://github.com/axelor/axelor-open-suite/pull/5433#discussion_r452811815", "createdAt": "2020-07-10T12:28:41Z", "author": {"login": "ale-axelor"}, "path": "axelor-human-resource/src/main/java/com/axelor/apps/hr/web/AppTimesheetController.java", "diffHunk": "@@ -0,0 +1,14 @@\n+package com.axelor.apps.hr.web;\n+\n+import com.axelor.apps.base.db.AppTimesheet;\n+import com.axelor.apps.hr.service.app.AppTimesheetService;\n+import com.axelor.inject.Beans;\n+import com.axelor.rpc.ActionRequest;\n+import com.axelor.rpc.ActionResponse;\n+\n+public class AppTimesheetController {\n+    public void switchTimesheetEditors(ActionRequest request, ActionResponse response) {\n+        AppTimesheet appTimesheet = request.getContext().asType(AppTimesheet.class);\n+        Beans.get(AppTimesheetService.class).switchTimesheetEditors(appTimesheet.getTimesheetEditor());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "98ad9b1e272c973ef6e07a765e2f716a3216252a"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgyMzYxMjA2OnYy", "diffSide": "RIGHT", "path": "CHANGELOG.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMFQxMzo0MjowNVrOGv318Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMFQxMzo0MjowNVrOGv318Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mjg1MTE4NQ==", "bodyText": "do not add a changelog entry in already released version", "url": "https://github.com/axelor/axelor-open-suite/pull/5433#discussion_r452851185", "createdAt": "2020-07-10T13:42:05Z", "author": {"login": "ale-axelor"}, "path": "CHANGELOG.md", "diffHunk": "@@ -111,6 +111,7 @@\n - PRODUCT VARIANTS: fix for error in product variant creation.\n - STOCK LOCATION LINE: Fix blank screen issue in stock correction process.\n - ACCOUNT: Fixed inconsistency of analytic distribution settings and tax settings.\n+- TIMESHEET : Fix editor still being displayed even with a disabled config", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "81cb9b394fb780adb93fbf77df0595678274757f"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3378, "cost": 1, "resetAt": "2021-11-12T11:18:39Z"}}}