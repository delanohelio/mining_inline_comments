{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgxMzIxNzQx", "number": 5000, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQxNDoxNDoxNlrODkR_2w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wM1QxNzoxNDoyNlrODkvhZA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM5MzcwMjAzOnYy", "diffSide": "RIGHT", "path": "axelor-admin/src/main/java/com/axelor/apps/admin/service/GlobalTrackingLogService.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQxNDoxNDoxNlrOFwg7wA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQxNDoxNDoxNlrOFwg7wA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjQxNTU1Mg==", "bodyText": "throws Exception => throws AxelorException", "url": "https://github.com/axelor/axelor-open-suite/pull/5000#discussion_r386415552", "createdAt": "2020-03-02T14:14:16Z", "author": {"login": "ale-axelor"}, "path": "axelor-admin/src/main/java/com/axelor/apps/admin/service/GlobalTrackingLogService.java", "diffHunk": "@@ -2,8 +2,13 @@\n \n import com.axelor.apps.admin.db.GlobalTrackingLog;\n import com.axelor.meta.db.MetaModel;\n+import java.util.List;\n \n public interface GlobalTrackingLogService {\n \n   public GlobalTrackingLog createExportLog(MetaModel model);\n+\n+  public void deleteOldGlobalTrackingLog(int months) throws Exception;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "abc3a3c4ab617b8e8cd5518473961fd8af8fdf35"}, "originalPosition": 10}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM5MzcyMzQxOnYy", "diffSide": "RIGHT", "path": "axelor-base/src/main/java/com/axelor/apps/base/job/GlobalTrackingLogCleaningJob.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQxNDoxOTozNlrOFwhIBQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQxNDoxOTozNlrOFwhIBQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjQxODY5Mw==", "bodyText": "add TraceBackService.trace(e)", "url": "https://github.com/axelor/axelor-open-suite/pull/5000#discussion_r386418693", "createdAt": "2020-03-02T14:19:36Z", "author": {"login": "ale-axelor"}, "path": "axelor-base/src/main/java/com/axelor/apps/base/job/GlobalTrackingLogCleaningJob.java", "diffHunk": "@@ -0,0 +1,20 @@\n+package com.axelor.apps.base.job;\n+\n+import com.axelor.apps.admin.service.GlobalTrackingLogService;\n+import com.axelor.apps.base.service.app.AppBaseService;\n+import com.axelor.inject.Beans;\n+import org.quartz.JobExecutionContext;\n+\n+public class GlobalTrackingLogCleaningJob extends ThreadedJob {\n+\n+  @Override\n+  public void executeInThread(JobExecutionContext context) {\n+    try {\n+      Beans.get(GlobalTrackingLogService.class)\n+          .deleteOldGlobalTrackingLog(\n+              Beans.get(AppBaseService.class).getGlobalTrackingLogPersistence());\n+    } catch (Exception e) {\n+      throw new UncheckedJobExecutionException(e);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "abc3a3c4ab617b8e8cd5518473961fd8af8fdf35"}, "originalPosition": 17}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM5ODUzOTI0OnYy", "diffSide": "RIGHT", "path": "axelor-base/src/main/resources/views/AppBase.xml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wM1QxNzoxNDoyNlrOFxO_hQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wM1QxNzoxNDoyNlrOFxO_hQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzE3MDE4MQ==", "bodyText": "manualy => \"manually\"", "url": "https://github.com/axelor/axelor-open-suite/pull/5000#discussion_r387170181", "createdAt": "2020-03-03T17:14:26Z", "author": {"login": "ale-axelor"}, "path": "axelor-base/src/main/resources/views/AppBase.xml", "diffHunk": "@@ -70,6 +70,10 @@\n \t\t\t\t<field name=\"currencyConversionLineList\" colSpan=\"12\" grid-view=\"currency-conversion-line-grid\" form-view=\"currency-conversion-line-form\"/>\n \t\t\t</panel>\n \t\t\t<panel name=\"global-tracking-configuration-panel\" title=\"Global tracking configuration\" colSpan=\"12\" >\n+        <panel name=\"global-tracking-configuration-sub-panel\" title=\"Logs configuration\">\n+\t\t\t\t\t<field name=\"globalTrackingLogPersistence\"/>\n+\t\t\t\t\t<button name=\"cleanBtn\" title=\"Clean logs manualy\" onClick=\"save,action-method-clean-global-tracking-logs\"/>\t\t\t", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b9ba5f7b3b6268fad5db9d1c7f9d2906a43f9922"}, "originalPosition": 6}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3464, "cost": 1, "resetAt": "2021-11-12T11:18:39Z"}}}