{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE0NDgyNDYy", "number": 5416, "title": "Feature #17220: Pack / SaleOrder", "bodyText": "", "createdAt": "2020-05-07T06:16:11Z", "url": "https://github.com/axelor/axelor-open-suite/pull/5416", "merged": true, "mergeCommit": {"oid": "1364bbdfdf3ffd60a19074a0db88c6954860761f"}, "closed": true, "closedAt": "2020-05-11T06:32:15Z", "author": {"login": "nsw-axelor"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABce8mqwgBqjMzMTI2OTk3NjY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcfRM4-ABqjMzMTY4MDM2NDE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e5b91fca29205d70a501f29385068ae0b6c72ee1", "author": {"user": {"login": "nsw-axelor", "name": "Naveen Swami"}}, "url": "https://github.com/axelor/axelor-open-suite/commit/e5b91fca29205d70a501f29385068ae0b6c72ee1", "committedDate": "2020-05-07T06:14:35Z", "message": "Feature #17220: Pack / SaleOrder"}, "afterCommit": {"oid": "a3af2a3aba0a1c04e6cce4b84443f83606ce9df9", "author": {"user": {"login": "nsw-axelor", "name": "Naveen Swami"}}, "url": "https://github.com/axelor/axelor-open-suite/commit/a3af2a3aba0a1c04e6cce4b84443f83606ce9df9", "committedDate": "2020-05-07T12:31:09Z", "message": "Feature #17220: Pack / SaleOrder"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA3NDgzMTMw", "url": "https://github.com/axelor/axelor-open-suite/pull/5416#pullrequestreview-407483130", "createdAt": "2020-05-07T13:42:01Z", "commit": {"oid": "a3af2a3aba0a1c04e6cce4b84443f83606ce9df9"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QxMzo0MjowMVrOGR_G6g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QxMzo0MjowMVrOGR_G6g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTUxMjkzOA==", "bodyText": "Avoid use of injection inside loop", "url": "https://github.com/axelor/axelor-open-suite/pull/5416#discussion_r421512938", "createdAt": "2020-05-07T13:42:01Z", "author": {"login": "vbh-axelor"}, "path": "axelor-sale/src/main/java/com/axelor/apps/sale/service/saleorder/SaleOrderComputeServiceImpl.java", "diffHunk": "@@ -197,20 +199,26 @@ public void computePackTotal(SaleOrder saleOrder) {\n       boolean isShowTotal = false;\n       boolean isFirstTitleLine = true;\n       for (SaleOrderLine saleOrderLine : saleOrderLineList) {\n-        if (saleOrderLine.getTypeSelect() == SaleOrderLineRepository.TYPE_TITLE) {\n-          if (isFirstTitleLine) {\n-            isFirstTitleLine = false;\n-            isShowTotal = saleOrderLine.getIsShowTotal();\n+        if (Boolean.TRUE.equals(\n+            Beans.get(AppSaleService.class).getAppSale().getEnablePackManagement())) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a3af2a3aba0a1c04e6cce4b84443f83606ce9df9"}, "originalPosition": 19}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a3af2a3aba0a1c04e6cce4b84443f83606ce9df9", "author": {"user": {"login": "nsw-axelor", "name": "Naveen Swami"}}, "url": "https://github.com/axelor/axelor-open-suite/commit/a3af2a3aba0a1c04e6cce4b84443f83606ce9df9", "committedDate": "2020-05-07T12:31:09Z", "message": "Feature #17220: Pack / SaleOrder"}, "afterCommit": {"oid": "24910f5faf9a887d3cb8adf6530032455f064e82", "author": {"user": {"login": "nsw-axelor", "name": "Naveen Swami"}}, "url": "https://github.com/axelor/axelor-open-suite/commit/24910f5faf9a887d3cb8adf6530032455f064e82", "committedDate": "2020-05-08T05:46:59Z", "message": "Feature #17220: Pack / SaleOrder"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5d161ce336ac5255d8674c7d811710781e68f32a", "author": {"user": {"login": "nsw-axelor", "name": "Naveen Swami"}}, "url": "https://github.com/axelor/axelor-open-suite/commit/5d161ce336ac5255d8674c7d811710781e68f32a", "committedDate": "2020-05-08T12:38:25Z", "message": "Feature #17220: Pack / SaleOrder"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "24910f5faf9a887d3cb8adf6530032455f064e82", "author": {"user": {"login": "nsw-axelor", "name": "Naveen Swami"}}, "url": "https://github.com/axelor/axelor-open-suite/commit/24910f5faf9a887d3cb8adf6530032455f064e82", "committedDate": "2020-05-08T05:46:59Z", "message": "Feature #17220: Pack / SaleOrder"}, "afterCommit": {"oid": "5d161ce336ac5255d8674c7d811710781e68f32a", "author": {"user": {"login": "nsw-axelor", "name": "Naveen Swami"}}, "url": "https://github.com/axelor/axelor-open-suite/commit/5d161ce336ac5255d8674c7d811710781e68f32a", "committedDate": "2020-05-08T12:38:25Z", "message": "Feature #17220: Pack / SaleOrder"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1960, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}