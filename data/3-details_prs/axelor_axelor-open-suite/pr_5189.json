{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkyMzQ1NTIw", "number": 5189, "title": "Anomaly RM#26509: INVOICELINE : account not filtered depending on fix\u2026", "bodyText": "\u2026edAssets boolean", "createdAt": "2020-03-23T12:07:56Z", "url": "https://github.com/axelor/axelor-open-suite/pull/5189", "merged": true, "mergeCommit": {"oid": "65dd1a253529d56e773d2ee6d9992054c07f790c"}, "closed": true, "closedAt": "2020-03-24T13:59:44Z", "author": {"login": "hta-axelor"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcQrjxwAFqTM3OTk5OTA1NA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcQzXUdAH2gAyMzkyMzQ1NTIwOmU2Y2ZjODhhN2E0ZmEwN2UxYTgyNDE0MTVmMmVhYjNiYzYxMjQwOTc=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc5OTk5MDU0", "url": "https://github.com/axelor/axelor-open-suite/pull/5189#pullrequestreview-379999054", "createdAt": "2020-03-24T04:53:36Z", "commit": {"oid": "b0688b8bff411ee8512f4433aaacf157683e3d31"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNFQwNDo1MzozNlrOF6g9AA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNFQwNDo1MzozNlrOF6g9AA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NjkwMTYzMg==", "bodyText": "Instead of static String literals use Constants from repository", "url": "https://github.com/axelor/axelor-open-suite/pull/5189#discussion_r396901632", "createdAt": "2020-03-24T04:53:36Z", "author": {"login": "cma-axelor"}, "path": "axelor-account/src/main/java/com/axelor/apps/account/web/InvoiceLineController.java", "diffHunk": "@@ -353,19 +356,22 @@ public void getAccount(ActionRequest request, ActionResponse response) {\n   public void filterAccount(ActionRequest request, ActionResponse response) throws AxelorException {\n     Context context = request.getContext();\n     Invoice invoice = this.getInvoice(context);\n+    InvoiceLine invoiceLine = request.getContext().asType(InvoiceLine.class);\n     if (invoice != null && invoice.getCompany() != null) {\n-      String domain = null;\n+      List<String> technicalTypeSelectList = new ArrayList<>();\n       if (InvoiceToolService.isPurchase(invoice)) {\n-        domain =\n-            \"self.company.id = \"\n-                + invoice.getCompany().getId()\n-                + \"AND self.accountType.technicalTypeSelect IN ('debt' , 'immobilisation' , 'charge')\";\n+        technicalTypeSelectList.addAll(Arrays.asList(\"'debt'\", \"'charge'\"));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b0688b8bff411ee8512f4433aaacf157683e3d31"}, "originalPosition": 24}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8476a09141994d05f076e74a521cf18ffb328097", "author": {"user": {"login": "hta-axelor", "name": null}}, "url": "https://github.com/axelor/axelor-open-suite/commit/8476a09141994d05f076e74a521cf18ffb328097", "committedDate": "2020-03-24T07:05:14Z", "message": "Anomaly RM#26509: INVOICELINE : account not filtered depending on fixedAssets boolean"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b0688b8bff411ee8512f4433aaacf157683e3d31", "author": {"user": {"login": "hta-axelor", "name": null}}, "url": "https://github.com/axelor/axelor-open-suite/commit/b0688b8bff411ee8512f4433aaacf157683e3d31", "committedDate": "2020-03-23T09:36:14Z", "message": "Anomaly RM#26509: INVOICELINE : account not filtered depending on fixedAssets boolean"}, "afterCommit": {"oid": "8476a09141994d05f076e74a521cf18ffb328097", "author": {"user": {"login": "hta-axelor", "name": null}}, "url": "https://github.com/axelor/axelor-open-suite/commit/8476a09141994d05f076e74a521cf18ffb328097", "committedDate": "2020-03-24T07:05:14Z", "message": "Anomaly RM#26509: INVOICELINE : account not filtered depending on fixedAssets boolean"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e6cfc88a7a4fa07e1a8241415f2eab3bc6124097", "author": {"user": {"login": "sos-axelor", "name": null}}, "url": "https://github.com/axelor/axelor-open-suite/commit/e6cfc88a7a4fa07e1a8241415f2eab3bc6124097", "committedDate": "2020-03-24T13:59:30Z", "message": "Merge branch 'dev' into dev-26509"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1998, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}