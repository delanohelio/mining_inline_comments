{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYyMDY4MjQ1", "number": 4794, "title": "Anomaly RM#24619 : Use of try-with-resources for FileWriter", "bodyText": "", "createdAt": "2020-01-13T11:27:58Z", "url": "https://github.com/axelor/axelor-open-suite/pull/4794", "merged": true, "mergeCommit": {"oid": "82b24b572674f601d93308dac84c818a46649988"}, "closed": true, "closedAt": "2020-01-13T11:47:31Z", "author": {"login": "sgu-axelor"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb56rUGgFqTM0MTc4MTI1Nw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABb56xERABqjI5NDI4MzEzMTQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQxNzgxMjU3", "url": "https://github.com/axelor/axelor-open-suite/pull/4794#pullrequestreview-341781257", "createdAt": "2020-01-13T11:30:15Z", "commit": {"oid": "8d636dd374ddc12c1b87fbda7c1088e971e647c4"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xM1QxMTozMDoxNVrOFc0AoQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xM1QxMTozMDoxNVrOFc0AoQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTc1NjU3Nw==", "bodyText": "ExportDbObjectService : Use of try-with-resources for \"FileWritter\".", "url": "https://github.com/axelor/axelor-open-suite/pull/4794#discussion_r365756577", "createdAt": "2020-01-13T11:30:15Z", "author": {"login": "rme-axelor"}, "path": "CHANGELOG.md", "diffHunk": "@@ -10,6 +10,7 @@\n - Forecast recap: Displaying selected value's title instead of value on error message.\n - MOVE REMOVE SERVICE : corrected error that occurred when several lines were found.\n - BANK ORDER : the date field is now again read-only on bank order generated automatically.\n+- EXPORT Db OBJECT SERVICE : Use of try-with-resources for \"FileWritter\".", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8d636dd374ddc12c1b87fbda7c1088e971e647c4"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQxNzgxNzM0", "url": "https://github.com/axelor/axelor-open-suite/pull/4794#pullrequestreview-341781734", "createdAt": "2020-01-13T11:31:14Z", "commit": {"oid": "8d636dd374ddc12c1b87fbda7c1088e971e647c4"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xM1QxMTozMToxNVrOFc0CKA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xM1QxMTozMToxNVrOFc0CKA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTc1Njk2OA==", "bodyText": "Is there need of ; ?", "url": "https://github.com/axelor/axelor-open-suite/pull/4794#discussion_r365756968", "createdAt": "2020-01-13T11:31:15Z", "author": {"login": "rme-axelor"}, "path": "axelor-base/src/main/java/com/axelor/apps/base/service/administration/ExportDbObjectService.java", "diffHunk": "@@ -232,26 +233,27 @@ private String getActionUrl(MetaAction action) {\n \n   public static String getActionViewType(String xml) {\n \n-    DocumentBuilderFactory domFactory = DocumentBuilderFactory.newInstance();\n+    DocumentBuilderFactory domFactory = Beans.get(XPathParse.class).getDocumentBuilderFactory();\n     domFactory.setNamespaceAware(true); // never forget this!\n     DocumentBuilder builder;\n \n     try {\n       builder = domFactory.newDocumentBuilder();\n       File tempXml = File.createTempFile(\"Temp\", \"xml\");\n-      FileWriter fw = new FileWriter(tempXml);\n-      fw.write(xml);\n-      fw.close();\n-      Document doc = builder.parse(new FileInputStream(tempXml));\n-      Node child = doc.getFirstChild();\n-      NodeList chs = child.getChildNodes();\n-      for (Integer i = 0; i < chs.getLength(); i++) {\n-        if (chs.item(i).getNodeName().equals(\"view\")) {\n-          NamedNodeMap attributes = chs.item(i).getAttributes();\n-          return attributes.getNamedItem(\"type\").getNodeValue();\n+      try (FileWriter fw = new FileWriter(tempXml); ) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8d636dd374ddc12c1b87fbda7c1088e971e647c4"}, "originalPosition": 30}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1dd52db479f03548036500ee8a07ef935ca6f0f6", "author": {"user": {"login": "sgu-axelor", "name": null}}, "url": "https://github.com/axelor/axelor-open-suite/commit/1dd52db479f03548036500ee8a07ef935ca6f0f6", "committedDate": "2020-01-13T11:35:21Z", "message": ":Anomaly RM#24619 : Use of try-with-resources for FileWriter"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8d636dd374ddc12c1b87fbda7c1088e971e647c4", "author": {"user": {"login": "sgu-axelor", "name": null}}, "url": "https://github.com/axelor/axelor-open-suite/commit/8d636dd374ddc12c1b87fbda7c1088e971e647c4", "committedDate": "2020-01-13T11:16:34Z", "message": "Anomaly RM#24619 : Use of try-with-resources for FileWriter"}, "afterCommit": {"oid": "1dd52db479f03548036500ee8a07ef935ca6f0f6", "author": {"user": {"login": "sgu-axelor", "name": null}}, "url": "https://github.com/axelor/axelor-open-suite/commit/1dd52db479f03548036500ee8a07ef935ca6f0f6", "committedDate": "2020-01-13T11:35:21Z", "message": ":Anomaly RM#24619 : Use of try-with-resources for FileWriter"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2046, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}