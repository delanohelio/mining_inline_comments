{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDczMTcxOTg3", "number": 5776, "title": "Anomaly #25254: INVOICE : control to avoid cancelation of ventilated \u2026", "bodyText": "\u2026invoice", "createdAt": "2020-08-25T12:32:57Z", "url": "https://github.com/axelor/axelor-open-suite/pull/5776", "merged": true, "mergeCommit": {"oid": "5065952033e084e4b4d71c5293d4d5d9e9f8ae16"}, "closed": true, "closedAt": "2020-08-26T08:49:21Z", "author": {"login": "nsw-axelor"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdCXP0rgFqTQ3NDQ4MDQ4NQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdCnWqUABqjM2OTM1NzM3Njg=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc0NDgwNDg1", "url": "https://github.com/axelor/axelor-open-suite/pull/5776#pullrequestreview-474480485", "createdAt": "2020-08-25T13:28:39Z", "commit": {"oid": "a902cdcee895f9a067288e05e2ede7debf7fd73e"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNVQxMzoyODozOVrOHGYE9g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNVQxMzoyODozOVrOHGYE9g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjQ0Nzk5MA==", "bodyText": "You can use response.setError() method", "url": "https://github.com/axelor/axelor-open-suite/pull/5776#discussion_r476447990", "createdAt": "2020-08-25T13:28:39Z", "author": {"login": "vbh-axelor"}, "path": "axelor-account/src/main/java/com/axelor/apps/account/web/InvoiceController.java", "diffHunk": "@@ -176,6 +176,9 @@ public void cancel(ActionRequest request, ActionResponse response) throws Axelor\n     if (invoice.getStatusSelect() == InvoiceRepository.STATUS_VENTILATED\n         && invoice.getCompany().getAccountConfig() != null\n         && !invoice.getCompany().getAccountConfig().getAllowCancelVentilatedInvoice()) {\n+      response.setAlert(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a902cdcee895f9a067288e05e2ede7debf7fd73e"}, "originalPosition": 4}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a902cdcee895f9a067288e05e2ede7debf7fd73e", "author": {"user": {"login": "nsw-axelor", "name": "Naveen Swami"}}, "url": "https://github.com/axelor/axelor-open-suite/commit/a902cdcee895f9a067288e05e2ede7debf7fd73e", "committedDate": "2020-08-25T12:28:28Z", "message": "Anomaly #25254: INVOICE : control to avoid cancelation of ventilated invoice"}, "afterCommit": {"oid": "9581c03ebb0ee8defe52569a0150e4bbbad2c3ee", "author": {"user": {"login": "nsw-axelor", "name": "Naveen Swami"}}, "url": "https://github.com/axelor/axelor-open-suite/commit/9581c03ebb0ee8defe52569a0150e4bbbad2c3ee", "committedDate": "2020-08-25T13:52:40Z", "message": "Anomaly #25254: INVOICE : control to avoid cancelation of ventilated invoice"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "937c061ab3b86f3ac5ce05eca28e20cff50c388b", "author": {"user": {"login": "nsw-axelor", "name": "Naveen Swami"}}, "url": "https://github.com/axelor/axelor-open-suite/commit/937c061ab3b86f3ac5ce05eca28e20cff50c388b", "committedDate": "2020-08-26T08:15:40Z", "message": "Anomaly #25254: INVOICE : control to avoid cancelation of ventilated invoice"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9581c03ebb0ee8defe52569a0150e4bbbad2c3ee", "author": {"user": {"login": "nsw-axelor", "name": "Naveen Swami"}}, "url": "https://github.com/axelor/axelor-open-suite/commit/9581c03ebb0ee8defe52569a0150e4bbbad2c3ee", "committedDate": "2020-08-25T13:52:40Z", "message": "Anomaly #25254: INVOICE : control to avoid cancelation of ventilated invoice"}, "afterCommit": {"oid": "937c061ab3b86f3ac5ce05eca28e20cff50c388b", "author": {"user": {"login": "nsw-axelor", "name": "Naveen Swami"}}, "url": "https://github.com/axelor/axelor-open-suite/commit/937c061ab3b86f3ac5ce05eca28e20cff50c388b", "committedDate": "2020-08-26T08:15:40Z", "message": "Anomaly #25254: INVOICE : control to avoid cancelation of ventilated invoice"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2096, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}