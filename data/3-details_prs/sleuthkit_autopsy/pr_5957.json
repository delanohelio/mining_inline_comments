{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMxOTczNDIy", "number": 5957, "title": "6428 persona additional fields", "bodyText": "", "createdAt": "2020-06-09T17:58:17Z", "url": "https://github.com/sleuthkit/autopsy/pull/5957", "merged": true, "mergeCommit": {"oid": "952c893d96ace704e5ca02ca744a0a298bbe9423"}, "closed": true, "closedAt": "2020-06-12T18:33:25Z", "author": {"login": "ethteck"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcpo7FdgH2gAyNDMxOTczNDIyOjFlM2U2MjMwNGNhZGQxNmM2MGM5OTUwNDgxZmM3Y2YwODQ1YWJlNGI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcqTABHgH2gAyNDMxOTczNDIyOmJhMzhmOTI4ODJlNWM0OTg4YmM2OGI1MmIxMWQyYjU5Yzk0MjQ5M2Y=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "1e3e62304cadd16c60c9950481fc7cf0845abe4b", "author": {"user": {"login": "ethteck", "name": "Ethan Roseman"}}, "url": "https://github.com/sleuthkit/autopsy/commit/1e3e62304cadd16c60c9950481fc7cf0845abe4b", "committedDate": "2020-06-09T17:57:43Z", "message": "Additional fields in the Persona Details Panel"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8fc21c7ea3912a4fdeb45217e7600552f1116216", "author": {"user": {"login": "ethteck", "name": "Ethan Roseman"}}, "url": "https://github.com/sleuthkit/autopsy/commit/8fc21c7ea3912a4fdeb45217e7600552f1116216", "committedDate": "2020-06-09T17:59:17Z", "message": "Merge branch 'develop' into 6428_persona_additional_fields"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "15dbc32736c2b2f8ed1441b18a471e922fa9450e", "author": {"user": {"login": "ethteck", "name": "Ethan Roseman"}}, "url": "https://github.com/sleuthkit/autopsy/commit/15dbc32736c2b2f8ed1441b18a471e922fa9450e", "committedDate": "2020-06-09T19:15:30Z", "message": "6428 Fixing merge"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI4MDQ3MDIx", "url": "https://github.com/sleuthkit/autopsy/pull/5957#pullrequestreview-428047021", "createdAt": "2020-06-10T13:23:25Z", "commit": {"oid": "15dbc32736c2b2f8ed1441b18a471e922fa9450e"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQxMzoyMzoyNVrOGh0lMg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQxMzozMDo0OVrOGh06Jw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODExNzY4Mg==", "bodyText": "Per our coding guidelines, put a period at the end of that sentence - and check other places.", "url": "https://github.com/sleuthkit/autopsy/pull/5957#discussion_r438117682", "createdAt": "2020-06-10T13:23:25Z", "author": {"login": "raman-bt"}, "path": "Core/src/org/sleuthkit/autopsy/centralrepository/datamodel/Persona.java", "diffHunk": "@@ -254,6 +254,18 @@ private static Persona createPersona(String name, String comment, PersonaStatus\n         return getPersonaByUUID(uuidStr);\n     }\n     \n+    /**\n+     * Sets the comment of this persona", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "15dbc32736c2b2f8ed1441b18a471e922fa9450e"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODExOTM5Ng==", "bodyText": "We started adding a null check for CentralRepository.getInstance().\nShould add that here and in all other new apis.", "url": "https://github.com/sleuthkit/autopsy/pull/5957#discussion_r438119396", "createdAt": "2020-06-10T13:25:46Z", "author": {"login": "raman-bt"}, "path": "Core/src/org/sleuthkit/autopsy/centralrepository/datamodel/Persona.java", "diffHunk": "@@ -254,6 +254,18 @@ private static Persona createPersona(String name, String comment, PersonaStatus\n         return getPersonaByUUID(uuidStr);\n     }\n     \n+    /**\n+     * Sets the comment of this persona\n+     *\n+     * @param name The new comment.\n+     * \n+     * @throws CentralRepoException If there is an error.\n+     */\n+    public void setComment(String comment) throws CentralRepoException {\n+        String updateClause = \"UPDATE personas SET comment = \\\"\" + comment + \"\\\" WHERE id = \" + id;\n+        CentralRepository.getInstance().executeUpdateSQL(updateClause);\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "15dbc32736c2b2f8ed1441b18a471e922fa9450e"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODExOTU4OQ==", "bodyText": "Add null check for CentralRepository.getInstance()", "url": "https://github.com/sleuthkit/autopsy/pull/5957#discussion_r438119589", "createdAt": "2020-06-10T13:26:04Z", "author": {"login": "raman-bt"}, "path": "Core/src/org/sleuthkit/autopsy/centralrepository/datamodel/Persona.java", "diffHunk": "@@ -293,6 +305,14 @@ public PersonaAccount addAccount(CentralRepoAccount account, String justificatio\n     public void removeAccount(PersonaAccount account) throws CentralRepoException {\n         PersonaAccount.removePersonaAccount(account.getId());\n     }\n+    \n+    /**\n+     * Marks this persona as deleted\n+     */\n+    public void delete() throws CentralRepoException {\n+        String deleteSQL = \"UPDATE personas SET status_id = \" + PersonaStatus.DELETED.status_id + \" WHERE id = \" + this.id;\n+        CentralRepository.getInstance().executeUpdateSQL(deleteSQL);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "15dbc32736c2b2f8ed1441b18a471e922fa9450e"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODEyMzA0Nw==", "bodyText": "Put a period at the end of this since its a message displayed to user.", "url": "https://github.com/sleuthkit/autopsy/pull/5957#discussion_r438123047", "createdAt": "2020-06-10T13:30:49Z", "author": {"login": "raman-bt"}, "path": "Core/src/org/sleuthkit/autopsy/centralrepository/persona/PersonaManagerTopComponent.java", "diffHunk": "@@ -54,7 +54,9 @@\n     private Persona selectedPersona = null;\n \n     @Messages({\n-        \"PMTopComponent_Name=Persona Manager\"\n+        \"PMTopComponent_Name=Persona Manager\",\n+        \"PMTopComponent_delete_exception_Title=Delete failure\",\n+        \"PMTopComponent_delete_exception_msg=Failed to delete persona\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "15dbc32736c2b2f8ed1441b18a471e922fa9450e"}, "originalPosition": 7}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f565cf8344704ceccaeb0406b176ba535d138e98", "author": {"user": {"login": "ethteck", "name": "Ethan Roseman"}}, "url": "https://github.com/sleuthkit/autopsy/commit/f565cf8344704ceccaeb0406b176ba535d138e98", "committedDate": "2020-06-11T15:36:52Z", "message": "6428 PR comments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "66d5ff29e1d3f8d73ce2450d67f3f71aace30f6e", "author": {"user": {"login": "ethteck", "name": "Ethan Roseman"}}, "url": "https://github.com/sleuthkit/autopsy/commit/66d5ff29e1d3f8d73ce2450d67f3f71aace30f6e", "committedDate": "2020-06-11T16:02:21Z", "message": "Merge remote-tracking branch 'sleuthkit/develop' into 6428_persona_additional_fields"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8ea50abed5e3be178215a357407888b859f4339b", "author": {"user": {"login": "ethteck", "name": "Ethan Roseman"}}, "url": "https://github.com/sleuthkit/autopsy/commit/8ea50abed5e3be178215a357407888b859f4339b", "committedDate": "2020-06-11T17:44:48Z", "message": "Merge remote-tracking branch 'sleuthkit/develop' into 6428_persona_additional_fields"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI5MTczNjcw", "url": "https://github.com/sleuthkit/autopsy/pull/5957#pullrequestreview-429173670", "createdAt": "2020-06-11T18:19:05Z", "commit": {"oid": "8ea50abed5e3be178215a357407888b859f4339b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "294366c56d45516087e380574f412a7c97e81278", "author": {"user": {"login": "ethteck", "name": "Ethan Roseman"}}, "url": "https://github.com/sleuthkit/autopsy/commit/294366c56d45516087e380574f412a7c97e81278", "committedDate": "2020-06-11T18:30:26Z", "message": "Merge remote-tracking branch 'sleuthkit/develop' into 6428_persona_additional_fields"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ba38f92882e5c4988bc68b52b11d2b59c942493f", "author": {"user": {"login": "ethteck", "name": "Ethan Roseman"}}, "url": "https://github.com/sleuthkit/autopsy/commit/ba38f92882e5c4988bc68b52b11d2b59c942493f", "committedDate": "2020-06-11T18:59:07Z", "message": "Merge branch 'develop' into 6428_persona_additional_fields"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2618, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}