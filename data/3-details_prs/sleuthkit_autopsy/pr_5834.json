{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA2MTE0MzI1", "number": 5834, "title": "6265 cvt visualization message count changes", "bodyText": "", "createdAt": "2020-04-20T14:54:25Z", "url": "https://github.com/sleuthkit/autopsy/pull/5834", "merged": true, "mergeCommit": {"oid": "c4177af03fada2dbcd448c6ab33aeff107db3026"}, "closed": true, "closedAt": "2020-04-24T16:33:04Z", "author": {"login": "gdicristofaro"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcZfgToAH2gAyNDA2MTE0MzI1OmE0NWRlODllMzc0ZjU5NzQ4ZWNjOTA5NjRkNWY0ODAxOGVhYjM5OGM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcagZnJgFqTM5OTMyNDY2MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "a45de89e374f59748ecc90964d5f48018eab398c", "author": {"user": {"login": "gdicristofaro", "name": "Greg DiCristofaro"}}, "url": "https://github.com/sleuthkit/autopsy/commit/a45de89e374f59748ecc90964d5f48018eab398c", "committedDate": "2020-04-20T13:56:32Z", "message": "refactoring of PinnedAccountModel"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1f3acd3647928983aa48bfb50d042746dd74f380", "author": {"user": {"login": "gdicristofaro", "name": "Greg DiCristofaro"}}, "url": "https://github.com/sleuthkit/autopsy/commit/1f3acd3647928983aa48bfb50d042746dd74f380", "committedDate": "2020-04-20T14:22:49Z", "message": "some bug fixes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "09f46d2b1c5638fea1235f53efd01652cbe76c5f", "author": {"user": {"login": "gdicristofaro", "name": "Greg DiCristofaro"}}, "url": "https://github.com/sleuthkit/autopsy/commit/09f46d2b1c5638fea1235f53efd01652cbe76c5f", "committedDate": "2020-04-20T15:01:01Z", "message": "remove unused import"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk5MTQ3NjM5", "url": "https://github.com/sleuthkit/autopsy/pull/5834#pullrequestreview-399147639", "createdAt": "2020-04-23T14:21:24Z", "commit": {"oid": "09f46d2b1c5638fea1235f53efd01652cbe76c5f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yM1QxNDoyMToyNFrOGKqq3A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yM1QxNDoyMToyNFrOGKqq3A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzgzODA0NA==", "bodyText": "Please make error more informative", "url": "https://github.com/sleuthkit/autopsy/pull/5834#discussion_r413838044", "createdAt": "2020-04-23T14:21:24Z", "author": {"login": "APriestman"}, "path": "Core/src/org/sleuthkit/autopsy/communications/CommunicationsGraph.java", "diffHunk": "@@ -199,16 +200,24 @@ void resetGraph() {\n         lockedVertexModel.clear();\n     }\n \n-    private mxCell getOrCreateVertex(AccountDeviceInstanceKey accountDeviceInstanceKey) {\n-        final AccountDeviceInstance accountDeviceInstance = accountDeviceInstanceKey.getAccountDeviceInstance();\n+    private mxCell getOrCreateVertex(AccountDeviceInstance adi, CommunicationsManager commsManager, CommunicationsFilter currentFilter) {\n+        final AccountDeviceInstance accountDeviceInstance = adi;\n         final String name = accountDeviceInstance.getAccount().getTypeSpecificID();\n \n         final mxCell vertex = nodeMap.computeIfAbsent(name + accountDeviceInstance.getDeviceId(), vertexName -> {\n-            double size = Math.sqrt(accountDeviceInstanceKey.getMessageCount()) + 10;\n-\n+            long adiRelationshipsCount = 1;\n+            try {\n+                adiRelationshipsCount = commsManager.getRelationshipSourcesCount(accountDeviceInstance, currentFilter);\n+            } catch (TskCoreException tskCoreException) {\n+                logger.log(Level.SEVERE, \"Error\", tskCoreException);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "09f46d2b1c5638fea1235f53efd01652cbe76c5f"}, "originalPosition": 43}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "36ced0b39113c1295607823a1d07a4e688c81d15", "author": {"user": {"login": "gdicristofaro", "name": "Greg DiCristofaro"}}, "url": "https://github.com/sleuthkit/autopsy/commit/36ced0b39113c1295607823a1d07a4e688c81d15", "committedDate": "2020-04-23T14:37:38Z", "message": "improved logging"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk5MzI0NjYx", "url": "https://github.com/sleuthkit/autopsy/pull/5834#pullrequestreview-399324661", "createdAt": "2020-04-23T17:33:03Z", "commit": {"oid": "36ced0b39113c1295607823a1d07a4e688c81d15"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2665, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}