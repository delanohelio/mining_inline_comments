{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM3MTg2MDg0", "number": 5996, "title": "1484 - Fixed SQL error in PersonaAccount add", "bodyText": "", "createdAt": "2020-06-19T16:13:30Z", "url": "https://github.com/sleuthkit/autopsy/pull/5996", "merged": true, "mergeCommit": {"oid": "1d20e2b37857e166bcf9a8e1715822bff619a826"}, "closed": true, "closedAt": "2020-06-26T15:41:02Z", "author": {"login": "kellykelly3"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcs1anBgH2gAyNDM3MTg2MDg0OjI3YmRmM2MwY2U3OGU5YjIwMWExMzM0ZmI3NjU0OTFhNmIyOWM3OWU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcvErNEAFqTQzODM3Mzg1Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "27bdf3c0ce78e9b201a1334fb765491a6b29c79e", "author": {"user": {"login": "kellykelly3", "name": null}}, "url": "https://github.com/sleuthkit/autopsy/commit/27bdf3c0ce78e9b201a1334fb765491a6b29c79e", "committedDate": "2020-06-19T16:12:47Z", "message": "Fixed SQL error"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM1OTkxOTEz", "url": "https://github.com/sleuthkit/autopsy/pull/5996#pullrequestreview-435991913", "createdAt": "2020-06-23T17:17:35Z", "commit": {"oid": "27bdf3c0ce78e9b201a1334fb765491a6b29c79e"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QxNzoxNzozNVrOGnzAOw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QxNzoxNzozNVrOGnzAOw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDM4MzI5MQ==", "bodyText": "The justification itself could have a single quote in it.\nI think we may need to check and escape those.", "url": "https://github.com/sleuthkit/autopsy/pull/5996#discussion_r444383291", "createdAt": "2020-06-23T17:17:35Z", "author": {"login": "raman-bt"}, "path": "Core/src/org/sleuthkit/autopsy/centralrepository/datamodel/PersonaAccount.java", "diffHunk": "@@ -379,7 +379,7 @@ static void modifyPersonaAccount(long id, Persona.Confidence confidence, String\n             throw new CentralRepoException(\"Failed to modify persona account, Central Repo is not enabled\");\n         }\n         \n-        String updateClause = \"UPDATE persona_accounts SET confidence_id = \" + confidence.getLevelId() + \", justification = \\\"\" + justification + \"\\\" WHERE id = \" + id;\n+        String updateClause = \"UPDATE persona_accounts SET confidence_id = \" + confidence.getLevelId() + \", justification = '\" + justification + \"' WHERE id = \" + id;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "27bdf3c0ce78e9b201a1334fb765491a6b29c79e"}, "originalPosition": 14}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8b9c5450c523ac0632fe224d1563dd1d77de93f3", "author": {"user": {"login": "kellykelly3", "name": null}}, "url": "https://github.com/sleuthkit/autopsy/commit/8b9c5450c523ac0632fe224d1563dd1d77de93f3", "committedDate": "2020-06-24T14:06:12Z", "message": "Removed the double quotes from the queries"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM2NzU5ODc5", "url": "https://github.com/sleuthkit/autopsy/pull/5996#pullrequestreview-436759879", "createdAt": "2020-06-24T15:26:33Z", "commit": {"oid": "8b9c5450c523ac0632fe224d1563dd1d77de93f3"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1e86dfb4e64c232d927f1fe35962bd3e90163059", "author": {"user": {"login": "kellykelly3", "name": null}}, "url": "https://github.com/sleuthkit/autopsy/commit/1e86dfb4e64c232d927f1fe35962bd3e90163059", "committedDate": "2020-06-25T18:28:01Z", "message": "merged in develop to fix conflict"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM4MzU5MTI3", "url": "https://github.com/sleuthkit/autopsy/pull/5996#pullrequestreview-438359127", "createdAt": "2020-06-26T14:48:52Z", "commit": {"oid": "1e86dfb4e64c232d927f1fe35962bd3e90163059"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "eb4a49fb1239255760ea73e6214341a5c38f187f", "author": {"user": {"login": "kellykelly3", "name": null}}, "url": "https://github.com/sleuthkit/autopsy/commit/eb4a49fb1239255760ea73e6214341a5c38f187f", "committedDate": "2020-06-26T15:06:11Z", "message": "Merged in develop"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM4MzczODUz", "url": "https://github.com/sleuthkit/autopsy/pull/5996#pullrequestreview-438373853", "createdAt": "2020-06-26T15:07:20Z", "commit": {"oid": "eb4a49fb1239255760ea73e6214341a5c38f187f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2645, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}