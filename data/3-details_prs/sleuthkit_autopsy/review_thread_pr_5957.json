{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMxOTczNDIy", "number": 5957, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQxMzoyMzoyNVrOEESuUQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQxMzozMDo0OVrOEES7Fg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcyOTM2NTI5OnYy", "diffSide": "RIGHT", "path": "Core/src/org/sleuthkit/autopsy/centralrepository/datamodel/Persona.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQxMzoyMzoyNVrOGh0lMg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQxMzoyMzoyNVrOGh0lMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODExNzY4Mg==", "bodyText": "Per our coding guidelines, put a period at the end of that sentence - and check other places.", "url": "https://github.com/sleuthkit/autopsy/pull/5957#discussion_r438117682", "createdAt": "2020-06-10T13:23:25Z", "author": {"login": "raman-bt"}, "path": "Core/src/org/sleuthkit/autopsy/centralrepository/datamodel/Persona.java", "diffHunk": "@@ -254,6 +254,18 @@ private static Persona createPersona(String name, String comment, PersonaStatus\n         return getPersonaByUUID(uuidStr);\n     }\n     \n+    /**\n+     * Sets the comment of this persona", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "15dbc32736c2b2f8ed1441b18a471e922fa9450e"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcyOTM3NTkzOnYy", "diffSide": "RIGHT", "path": "Core/src/org/sleuthkit/autopsy/centralrepository/datamodel/Persona.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQxMzoyNTo0NlrOGh0r5A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQxMzoyNTo0NlrOGh0r5A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODExOTM5Ng==", "bodyText": "We started adding a null check for CentralRepository.getInstance().\nShould add that here and in all other new apis.", "url": "https://github.com/sleuthkit/autopsy/pull/5957#discussion_r438119396", "createdAt": "2020-06-10T13:25:46Z", "author": {"login": "raman-bt"}, "path": "Core/src/org/sleuthkit/autopsy/centralrepository/datamodel/Persona.java", "diffHunk": "@@ -254,6 +254,18 @@ private static Persona createPersona(String name, String comment, PersonaStatus\n         return getPersonaByUUID(uuidStr);\n     }\n     \n+    /**\n+     * Sets the comment of this persona\n+     *\n+     * @param name The new comment.\n+     * \n+     * @throws CentralRepoException If there is an error.\n+     */\n+    public void setComment(String comment) throws CentralRepoException {\n+        String updateClause = \"UPDATE personas SET comment = \\\"\" + comment + \"\\\" WHERE id = \" + id;\n+        CentralRepository.getInstance().executeUpdateSQL(updateClause);\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "15dbc32736c2b2f8ed1441b18a471e922fa9450e"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcyOTM3NzA5OnYy", "diffSide": "RIGHT", "path": "Core/src/org/sleuthkit/autopsy/centralrepository/datamodel/Persona.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQxMzoyNjowNFrOGh0spQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQxMzoyNjowNFrOGh0spQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODExOTU4OQ==", "bodyText": "Add null check for CentralRepository.getInstance()", "url": "https://github.com/sleuthkit/autopsy/pull/5957#discussion_r438119589", "createdAt": "2020-06-10T13:26:04Z", "author": {"login": "raman-bt"}, "path": "Core/src/org/sleuthkit/autopsy/centralrepository/datamodel/Persona.java", "diffHunk": "@@ -293,6 +305,14 @@ public PersonaAccount addAccount(CentralRepoAccount account, String justificatio\n     public void removeAccount(PersonaAccount account) throws CentralRepoException {\n         PersonaAccount.removePersonaAccount(account.getId());\n     }\n+    \n+    /**\n+     * Marks this persona as deleted\n+     */\n+    public void delete() throws CentralRepoException {\n+        String deleteSQL = \"UPDATE personas SET status_id = \" + PersonaStatus.DELETED.status_id + \" WHERE id = \" + this.id;\n+        CentralRepository.getInstance().executeUpdateSQL(deleteSQL);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "15dbc32736c2b2f8ed1441b18a471e922fa9450e"}, "originalPosition": 29}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcyOTM5Nzk4OnYy", "diffSide": "RIGHT", "path": "Core/src/org/sleuthkit/autopsy/centralrepository/persona/PersonaManagerTopComponent.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQxMzozMDo0OVrOGh06Jw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQxMzozMDo0OVrOGh06Jw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODEyMzA0Nw==", "bodyText": "Put a period at the end of this since its a message displayed to user.", "url": "https://github.com/sleuthkit/autopsy/pull/5957#discussion_r438123047", "createdAt": "2020-06-10T13:30:49Z", "author": {"login": "raman-bt"}, "path": "Core/src/org/sleuthkit/autopsy/centralrepository/persona/PersonaManagerTopComponent.java", "diffHunk": "@@ -54,7 +54,9 @@\n     private Persona selectedPersona = null;\n \n     @Messages({\n-        \"PMTopComponent_Name=Persona Manager\"\n+        \"PMTopComponent_Name=Persona Manager\",\n+        \"PMTopComponent_delete_exception_Title=Delete failure\",\n+        \"PMTopComponent_delete_exception_msg=Failed to delete persona\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "15dbc32736c2b2f8ed1441b18a471e922fa9450e"}, "originalPosition": 7}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 518, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}