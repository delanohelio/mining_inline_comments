{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIxNTgxNjc3", "number": 5908, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOFQxODo0OTo1MVrOEAoaJw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOFQxOTozNTowMVrOEApT7Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY5MDk3NTExOnYy", "diffSide": "RIGHT", "path": "Core/src/org/sleuthkit/autopsy/report/modules/taggedhashes/SaveTaggedHashesToHashDbConfigPanel.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOFQxODo0OTo1MVrOGcCKUA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOVQwMDoxMzo1NVrOGcK2Jw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjA0ODcyMA==", "bodyText": "Could this be changed to Objects.equals(tagNameSelections.get(tagName), true) to avoid a possible NPE?", "url": "https://github.com/sleuthkit/autopsy/pull/5908#discussion_r432048720", "createdAt": "2020-05-28T18:49:51Z", "author": {"login": "gdicristofaro"}, "path": "Core/src/org/sleuthkit/autopsy/report/modules/taggedhashes/SaveTaggedHashesToHashDbConfigPanel.java", "diffHunk": "@@ -79,13 +76,13 @@ public void mousePressed(MouseEvent evt) {\n                 JList<?> list = (JList) evt.getSource();\n                 int index = list.locationToIndex(evt.getPoint());\n                 if (index > -1) {\n-                    String value = tagsNamesListModel.getElementAt(index);\n-                    tagNameSelections.put(value, !tagNameSelections.get(value));\n+                    TagName tagName = tagsNamesListModel.getElementAt(index);\n+                    tagNameSelections.put(tagName, !tagNameSelections.get(tagName));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9f08d3bed0544d45ba5c3549b9c4edbcd375ef75"}, "originalPosition": 52}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjE5MTAxNQ==", "bodyText": "This code is a little weird and needs more clean up than I did.  But its not possible to have an NPE, tagNameSelections and tagsNamesListModel are populated from the same list.  Eventually if someone has more time I think all the extra lists include TagNameSelections could be removed.", "url": "https://github.com/sleuthkit/autopsy/pull/5908#discussion_r432191015", "createdAt": "2020-05-29T00:13:55Z", "author": {"login": "kellykelly3"}, "path": "Core/src/org/sleuthkit/autopsy/report/modules/taggedhashes/SaveTaggedHashesToHashDbConfigPanel.java", "diffHunk": "@@ -79,13 +76,13 @@ public void mousePressed(MouseEvent evt) {\n                 JList<?> list = (JList) evt.getSource();\n                 int index = list.locationToIndex(evt.getPoint());\n                 if (index > -1) {\n-                    String value = tagsNamesListModel.getElementAt(index);\n-                    tagNameSelections.put(value, !tagNameSelections.get(value));\n+                    TagName tagName = tagsNamesListModel.getElementAt(index);\n+                    tagNameSelections.put(tagName, !tagNameSelections.get(tagName));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjA0ODcyMA=="}, "originalCommit": {"oid": "9f08d3bed0544d45ba5c3549b9c4edbcd375ef75"}, "originalPosition": 52}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY5MDk4MDQzOnYy", "diffSide": "RIGHT", "path": "Core/src/org/sleuthkit/autopsy/report/modules/taggedhashes/SaveTaggedHashesToHashDbConfigPanel.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOFQxODo1MToyMFrOGcCNrQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOVQwMDoxNDoyMFrOGcK2ig==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjA0OTU4MQ==", "bodyText": "if (Objects.equals(tagNameSelections.get(tagName))) {", "url": "https://github.com/sleuthkit/autopsy/pull/5908#discussion_r432049581", "createdAt": "2020-05-28T18:51:20Z", "author": {"login": "gdicristofaro"}, "path": "Core/src/org/sleuthkit/autopsy/report/modules/taggedhashes/SaveTaggedHashesToHashDbConfigPanel.java", "diffHunk": "@@ -187,7 +187,7 @@ private void populateHashSetComponents() {\n     List<TagName> getSelectedTagNames() {\n         List<TagName> selectedTagNames = new ArrayList<>();\n         for (TagName tagName : tagNames) {\n-            if (tagNameSelections.get(tagName.getDisplayName())) {\n+            if (tagNameSelections.get(tagName)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9f08d3bed0544d45ba5c3549b9c4edbcd375ef75"}, "originalPosition": 152}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjE5MTExNA==", "bodyText": "Same as above.", "url": "https://github.com/sleuthkit/autopsy/pull/5908#discussion_r432191114", "createdAt": "2020-05-29T00:14:20Z", "author": {"login": "kellykelly3"}, "path": "Core/src/org/sleuthkit/autopsy/report/modules/taggedhashes/SaveTaggedHashesToHashDbConfigPanel.java", "diffHunk": "@@ -187,7 +187,7 @@ private void populateHashSetComponents() {\n     List<TagName> getSelectedTagNames() {\n         List<TagName> selectedTagNames = new ArrayList<>();\n         for (TagName tagName : tagNames) {\n-            if (tagNameSelections.get(tagName.getDisplayName())) {\n+            if (tagNameSelections.get(tagName)) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjA0OTU4MQ=="}, "originalCommit": {"oid": "9f08d3bed0544d45ba5c3549b9c4edbcd375ef75"}, "originalPosition": 152}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY5MDk4MzI0OnYy", "diffSide": "RIGHT", "path": "Core/src/org/sleuthkit/autopsy/report/modules/taggedhashes/SaveTaggedHashesToHashDbConfigPanel.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOFQxODo1MjowMlrOGcCPXA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOVQwMDoxNDoyNFrOGcK2ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjA1MDAxMg==", "bodyText": "Objects.equals", "url": "https://github.com/sleuthkit/autopsy/pull/5908#discussion_r432050012", "createdAt": "2020-05-28T18:52:02Z", "author": {"login": "gdicristofaro"}, "path": "Core/src/org/sleuthkit/autopsy/report/modules/taggedhashes/SaveTaggedHashesToHashDbConfigPanel.java", "diffHunk": "@@ -208,41 +208,20 @@ HashDb getSelectedHashDatabase() {\n         return null;\n     }\n \n-    // This class is a list model for the tag names JList component.\n-    private class TagNamesListModel implements ListModel<String> {\n-\n-        @Override\n-        public int getSize() {\n-            return tagNames.size();\n-        }\n-\n-        @Override\n-        public String getElementAt(int index) {\n-            return tagNames.get(index).getDisplayName();\n-        }\n-\n-        @Override\n-        public void addListDataListener(ListDataListener l) {\n-        }\n-\n-        @Override\n-        public void removeListDataListener(ListDataListener l) {\n-        }\n-    }\n-\n     // This class renders the items in the tag names JList component as JCheckbox components.\n-    private class TagsNamesListCellRenderer extends JCheckBox implements ListCellRenderer<String> {\n+    private class TagsNamesListCellRenderer extends JCheckBox implements ListCellRenderer<TagName> {\n+\n         private static final long serialVersionUID = 1L;\n \n         @Override\n-        public Component getListCellRendererComponent(JList<? extends String> list, String value, int index, boolean isSelected, boolean cellHasFocus) {\n+        public Component getListCellRendererComponent(JList<? extends TagName> list, TagName value, int index, boolean isSelected, boolean cellHasFocus) {\n             if (value != null) {\n                 setEnabled(list.isEnabled());\n                 setSelected(tagNameSelections.get(value));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9f08d3bed0544d45ba5c3549b9c4edbcd375ef75"}, "originalPosition": 193}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjE5MTEzNA==", "bodyText": "Same as above.", "url": "https://github.com/sleuthkit/autopsy/pull/5908#discussion_r432191134", "createdAt": "2020-05-29T00:14:24Z", "author": {"login": "kellykelly3"}, "path": "Core/src/org/sleuthkit/autopsy/report/modules/taggedhashes/SaveTaggedHashesToHashDbConfigPanel.java", "diffHunk": "@@ -208,41 +208,20 @@ HashDb getSelectedHashDatabase() {\n         return null;\n     }\n \n-    // This class is a list model for the tag names JList component.\n-    private class TagNamesListModel implements ListModel<String> {\n-\n-        @Override\n-        public int getSize() {\n-            return tagNames.size();\n-        }\n-\n-        @Override\n-        public String getElementAt(int index) {\n-            return tagNames.get(index).getDisplayName();\n-        }\n-\n-        @Override\n-        public void addListDataListener(ListDataListener l) {\n-        }\n-\n-        @Override\n-        public void removeListDataListener(ListDataListener l) {\n-        }\n-    }\n-\n     // This class renders the items in the tag names JList component as JCheckbox components.\n-    private class TagsNamesListCellRenderer extends JCheckBox implements ListCellRenderer<String> {\n+    private class TagsNamesListCellRenderer extends JCheckBox implements ListCellRenderer<TagName> {\n+\n         private static final long serialVersionUID = 1L;\n \n         @Override\n-        public Component getListCellRendererComponent(JList<? extends String> list, String value, int index, boolean isSelected, boolean cellHasFocus) {\n+        public Component getListCellRendererComponent(JList<? extends TagName> list, TagName value, int index, boolean isSelected, boolean cellHasFocus) {\n             if (value != null) {\n                 setEnabled(list.isEnabled());\n                 setSelected(tagNameSelections.get(value));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjA1MDAxMg=="}, "originalCommit": {"oid": "9f08d3bed0544d45ba5c3549b9c4edbcd375ef75"}, "originalPosition": 193}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY5MTEyMzAxOnYy", "diffSide": "RIGHT", "path": "Core/src/org/sleuthkit/autopsy/actions/GetTagNameAndCommentDialog.java", "isResolved": false, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOFQxOTozNTowMlrOGcDoKQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOFQyMDoxMjoyN1rOGcFFYQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjA3Mjc0NQ==", "bodyText": "It looks like these are decorated right, but they are not ordered.  Is that a problem?", "url": "https://github.com/sleuthkit/autopsy/pull/5908#discussion_r432072745", "createdAt": "2020-05-28T19:35:02Z", "author": {"login": "gdicristofaro"}, "path": "Core/src/org/sleuthkit/autopsy/actions/GetTagNameAndCommentDialog.java", "diffHunk": "@@ -128,8 +128,7 @@ private void display() {\n \n             @Override\n             public Component getListCellRendererComponent(JList<?> list, Object value, int index, boolean isSelected, boolean cellHasFocus) {\n-                String status = ((TagName) value).getKnownStatus() == TskData.FileKnown.BAD ? TagsManager.getNotableTagLabel() : \"\";\n-                String newValue = ((TagName) value).getDisplayName() + status;\n+                String newValue = TagUtils.getDecoratedTagDisplayName((TagName) value);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9f08d3bed0544d45ba5c3549b9c4edbcd375ef75"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjA3NjM0Nw==", "bodyText": "The rendered is not involved in order.", "url": "https://github.com/sleuthkit/autopsy/pull/5908#discussion_r432076347", "createdAt": "2020-05-28T19:42:18Z", "author": {"login": "kellykelly3"}, "path": "Core/src/org/sleuthkit/autopsy/actions/GetTagNameAndCommentDialog.java", "diffHunk": "@@ -128,8 +128,7 @@ private void display() {\n \n             @Override\n             public Component getListCellRendererComponent(JList<?> list, Object value, int index, boolean isSelected, boolean cellHasFocus) {\n-                String status = ((TagName) value).getKnownStatus() == TskData.FileKnown.BAD ? TagsManager.getNotableTagLabel() : \"\";\n-                String newValue = ((TagName) value).getDisplayName() + status;\n+                String newValue = TagUtils.getDecoratedTagDisplayName((TagName) value);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjA3Mjc0NQ=="}, "originalCommit": {"oid": "9f08d3bed0544d45ba5c3549b9c4edbcd375ef75"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjA4MTMxMA==", "bodyText": "Sorry, I didn't have a better place to put the comment, but I don't this class is ordering the items that are are displayed in the drop down for the tag and comment dialog.  I'm thinking closer to 161 should probably be ordered if ordering needs to be applied to this list as well.  I'm also realizing that is probably more in reference to another PR where that was the issue at hand.  Sorry for the confusion on my part.", "url": "https://github.com/sleuthkit/autopsy/pull/5908#discussion_r432081310", "createdAt": "2020-05-28T19:49:35Z", "author": {"login": "gdicristofaro"}, "path": "Core/src/org/sleuthkit/autopsy/actions/GetTagNameAndCommentDialog.java", "diffHunk": "@@ -128,8 +128,7 @@ private void display() {\n \n             @Override\n             public Component getListCellRendererComponent(JList<?> list, Object value, int index, boolean isSelected, boolean cellHasFocus) {\n-                String status = ((TagName) value).getKnownStatus() == TskData.FileKnown.BAD ? TagsManager.getNotableTagLabel() : \"\";\n-                String newValue = ((TagName) value).getDisplayName() + status;\n+                String newValue = TagUtils.getDecoratedTagDisplayName((TagName) value);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjA3Mjc0NQ=="}, "originalCommit": {"oid": "9f08d3bed0544d45ba5c3549b9c4edbcd375ef75"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjA5NjYwOQ==", "bodyText": "Line 159, it gets the map and then puts it into a tree which puts the tags in alphabetical order.", "url": "https://github.com/sleuthkit/autopsy/pull/5908#discussion_r432096609", "createdAt": "2020-05-28T20:12:27Z", "author": {"login": "kellykelly3"}, "path": "Core/src/org/sleuthkit/autopsy/actions/GetTagNameAndCommentDialog.java", "diffHunk": "@@ -128,8 +128,7 @@ private void display() {\n \n             @Override\n             public Component getListCellRendererComponent(JList<?> list, Object value, int index, boolean isSelected, boolean cellHasFocus) {\n-                String status = ((TagName) value).getKnownStatus() == TskData.FileKnown.BAD ? TagsManager.getNotableTagLabel() : \"\";\n-                String newValue = ((TagName) value).getDisplayName() + status;\n+                String newValue = TagUtils.getDecoratedTagDisplayName((TagName) value);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjA3Mjc0NQ=="}, "originalCommit": {"oid": "9f08d3bed0544d45ba5c3549b9c4edbcd375ef75"}, "originalPosition": 17}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 622, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}