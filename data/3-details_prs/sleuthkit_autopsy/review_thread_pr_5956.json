{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMxNzcyOTY3", "number": 5956, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xM1QxNzo0ODo1N1rOEFRDnQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xM1QxNzo0ODo1N1rOEFRDnQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjczOTU3Nzg5OnYy", "diffSide": "RIGHT", "path": "Core/src/org/sleuthkit/autopsy/timeline/TimeLineModule.java", "isResolved": false, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xM1QxNzo0ODo1N1rOGjYmCg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQxNjoyNjowMlrOGj5p-w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTc1NjI5OA==", "bodyText": "What was the significance (if any) of the \"if (evt.getNewValue() == null)\" check in the original code?", "url": "https://github.com/sleuthkit/autopsy/pull/5956#discussion_r439756298", "createdAt": "2020-06-13T17:48:57Z", "author": {"login": "esaunders"}, "path": "Core/src/org/sleuthkit/autopsy/timeline/TimeLineModule.java", "diffHunk": "@@ -97,14 +97,8 @@ public void propertyChange(PropertyChangeEvent evt) {\n             }\n \n             if (Case.Events.valueOf(evt.getPropertyName()).equals(CURRENT_CASE)) {\n-                // we care only about case closing here\n-                if (evt.getNewValue() == null) {\n-                    synchronized (controllerLock) {\n-                        if (controller != null) {\n-                            SwingUtilities.invokeLater(controller::shutDownTimeLine);\n-                        }\n-                        controller = null;\n-                    }\n+                synchronized (controllerLock) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "748f61b0f055ba2f0f48be70a0ed7c4f7be9125b"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDE4MDcwNA==", "bodyText": "When you see if \"(evt.getNewValue() == null)\" when handling a CURRENT_CASE event it is being done to determine whether the current case changed because a case was opened or closed by looking for which property has a reference to a case.", "url": "https://github.com/sleuthkit/autopsy/pull/5956#discussion_r440180704", "createdAt": "2020-06-15T13:37:14Z", "author": {"login": "rcordovano"}, "path": "Core/src/org/sleuthkit/autopsy/timeline/TimeLineModule.java", "diffHunk": "@@ -97,14 +97,8 @@ public void propertyChange(PropertyChangeEvent evt) {\n             }\n \n             if (Case.Events.valueOf(evt.getPropertyName()).equals(CURRENT_CASE)) {\n-                // we care only about case closing here\n-                if (evt.getNewValue() == null) {\n-                    synchronized (controllerLock) {\n-                        if (controller != null) {\n-                            SwingUtilities.invokeLater(controller::shutDownTimeLine);\n-                        }\n-                        controller = null;\n-                    }\n+                synchronized (controllerLock) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTc1NjI5OA=="}, "originalCommit": {"oid": "748f61b0f055ba2f0f48be70a0ed7c4f7be9125b"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDI4NTE1OQ==", "bodyText": "Ok, does that mean that the check should not have been removed in the new code then?", "url": "https://github.com/sleuthkit/autopsy/pull/5956#discussion_r440285159", "createdAt": "2020-06-15T16:05:33Z", "author": {"login": "esaunders"}, "path": "Core/src/org/sleuthkit/autopsy/timeline/TimeLineModule.java", "diffHunk": "@@ -97,14 +97,8 @@ public void propertyChange(PropertyChangeEvent evt) {\n             }\n \n             if (Case.Events.valueOf(evt.getPropertyName()).equals(CURRENT_CASE)) {\n-                // we care only about case closing here\n-                if (evt.getNewValue() == null) {\n-                    synchronized (controllerLock) {\n-                        if (controller != null) {\n-                            SwingUtilities.invokeLater(controller::shutDownTimeLine);\n-                        }\n-                        controller = null;\n-                    }\n+                synchronized (controllerLock) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTc1NjI5OA=="}, "originalCommit": {"oid": "748f61b0f055ba2f0f48be70a0ed7c4f7be9125b"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDI4OTM5MA==", "bodyText": "Looking at TimeLineModule.getController() it appears that if the controller is null, a new controller is fetched based on the open case.  It seems to me that this should occur if a case is closed or if a different case is opened.  Was this an incorrect assumption?", "url": "https://github.com/sleuthkit/autopsy/pull/5956#discussion_r440289390", "createdAt": "2020-06-15T16:12:20Z", "author": {"login": "gdicristofaro"}, "path": "Core/src/org/sleuthkit/autopsy/timeline/TimeLineModule.java", "diffHunk": "@@ -97,14 +97,8 @@ public void propertyChange(PropertyChangeEvent evt) {\n             }\n \n             if (Case.Events.valueOf(evt.getPropertyName()).equals(CURRENT_CASE)) {\n-                // we care only about case closing here\n-                if (evt.getNewValue() == null) {\n-                    synchronized (controllerLock) {\n-                        if (controller != null) {\n-                            SwingUtilities.invokeLater(controller::shutDownTimeLine);\n-                        }\n-                        controller = null;\n-                    }\n+                synchronized (controllerLock) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTc1NjI5OA=="}, "originalCommit": {"oid": "748f61b0f055ba2f0f48be70a0ed7c4f7be9125b"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDI5Nzk3OQ==", "bodyText": "Beats me. @rcordovano ?", "url": "https://github.com/sleuthkit/autopsy/pull/5956#discussion_r440297979", "createdAt": "2020-06-15T16:26:02Z", "author": {"login": "esaunders"}, "path": "Core/src/org/sleuthkit/autopsy/timeline/TimeLineModule.java", "diffHunk": "@@ -97,14 +97,8 @@ public void propertyChange(PropertyChangeEvent evt) {\n             }\n \n             if (Case.Events.valueOf(evt.getPropertyName()).equals(CURRENT_CASE)) {\n-                // we care only about case closing here\n-                if (evt.getNewValue() == null) {\n-                    synchronized (controllerLock) {\n-                        if (controller != null) {\n-                            SwingUtilities.invokeLater(controller::shutDownTimeLine);\n-                        }\n-                        controller = null;\n-                    }\n+                synchronized (controllerLock) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTc1NjI5OA=="}, "originalCommit": {"oid": "748f61b0f055ba2f0f48be70a0ed7c4f7be9125b"}, "originalPosition": 12}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 515, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}