{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY3NTkwOTg5", "number": 6177, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOFQxNzoxNjo1N1rOEZlCBA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOFQxNzoxNjo1N1rOEZlCBA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk1MjU2NTgwOnYy", "diffSide": "RIGHT", "path": "Core/src/org/sleuthkit/autopsy/report/infrastructure/ReportingConfigLoader.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOFQxNzoxNjo1N1rOHCeWJA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOFQxNzoxOTowMFrOHCeatw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjM1NjM4OA==", "bodyText": "I'm wondering why does this method have to be synchronized. Or mostly I'm wondering why is loadConfig(String configName) in the same class synchronized? Was the original intent to make sure that we don't read the configuration from disk, while it is being written to disk in saveConfig(ReportingConfig reportConfig) method? If so, then obviously synchronizing on the methods will not work, we need to have a separate lock. @rcordovano thoughts?", "url": "https://github.com/sleuthkit/autopsy/pull/6177#discussion_r472356388", "createdAt": "2020-08-18T17:16:57Z", "author": {"login": "eugene7646"}, "path": "Core/src/org/sleuthkit/autopsy/report/infrastructure/ReportingConfigLoader.java", "diffHunk": "@@ -219,5 +221,27 @@ static synchronized void saveConfig(ReportingConfig reportConfig) throws ReportC\n             }\n         }\n     }\n+    \n+    /**\n+     * Return a list of the names of the report profiles in the\n+     * REPORT_CONFIG_FOLDER_PATH.\n+     *\n+     * @return Naturally ordered list of report profile names. If none were found\n+     *         the list will be empty.\n+     */\n+    static synchronized Set<String> getListOfReportConfigs() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0d22898fbf041abf808f0330d483949727c08182"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjM1NzU1OQ==", "bodyText": "Ooooohhhhhh, nevermind, these are static methods, so they lock the class, not just the methods. Whoops!", "url": "https://github.com/sleuthkit/autopsy/pull/6177#discussion_r472357559", "createdAt": "2020-08-18T17:19:00Z", "author": {"login": "eugene7646"}, "path": "Core/src/org/sleuthkit/autopsy/report/infrastructure/ReportingConfigLoader.java", "diffHunk": "@@ -219,5 +221,27 @@ static synchronized void saveConfig(ReportingConfig reportConfig) throws ReportC\n             }\n         }\n     }\n+    \n+    /**\n+     * Return a list of the names of the report profiles in the\n+     * REPORT_CONFIG_FOLDER_PATH.\n+     *\n+     * @return Naturally ordered list of report profile names. If none were found\n+     *         the list will be empty.\n+     */\n+    static synchronized Set<String> getListOfReportConfigs() {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjM1NjM4OA=="}, "originalCommit": {"oid": "0d22898fbf041abf808f0330d483949727c08182"}, "originalPosition": 21}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 937, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}