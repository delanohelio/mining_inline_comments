{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDExODcwNzY4", "number": 5865, "title": "1442 image gallery tag changes", "bodyText": "", "createdAt": "2020-04-30T22:26:46Z", "url": "https://github.com/sleuthkit/autopsy/pull/5865", "merged": true, "mergeCommit": {"oid": "b77a334d1838a52b89460d870eda93efc1f223bc"}, "closed": true, "closedAt": "2020-05-06T00:09:43Z", "author": {"login": "kellykelly3"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABca0yUIAH2gAyNDExODcwNzY4OmI2Nzc1ZTIxYmI3OTQ1NmFlOTU0MjU2OGU5ZWJmNzU4NzUxYjA4YTU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcedQPoAFqTQwNjIzNjY1Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "b6775e21bb79456ae9542568e9ebf758751b08a5", "author": {"user": {"login": "kellykelly3", "name": null}}, "url": "https://github.com/sleuthkit/autopsy/commit/b6775e21bb79456ae9542568e9ebf758751b08a5", "committedDate": "2020-04-24T17:18:08Z", "message": "inital stash of code"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0395cecfab6ac336984ec863c875839b218e8ed3", "author": {"user": {"login": "kellykelly3", "name": null}}, "url": "https://github.com/sleuthkit/autopsy/commit/0395cecfab6ac336984ec863c875839b218e8ed3", "committedDate": "2020-04-27T17:29:45Z", "message": "Merge branch '1440-1441-add-tag-set-support' into 1442-image-gallery-tag-changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3392dacfef80e715169f16445806f002eaa8bbac", "author": {"user": {"login": "kellykelly3", "name": null}}, "url": "https://github.com/sleuthkit/autopsy/commit/3392dacfef80e715169f16445806f002eaa8bbac", "committedDate": "2020-04-27T18:47:50Z", "message": "Merge branch '1440-1441-add-tag-set-support' into 1442-image-gallery-tag-changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "125884f809bc0559553a17e510eccc269fb422e2", "author": {"user": {"login": "kellykelly3", "name": null}}, "url": "https://github.com/sleuthkit/autopsy/commit/125884f809bc0559553a17e510eccc269fb422e2", "committedDate": "2020-04-30T22:10:26Z", "message": "Functional IG using TagSet and TagName"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cea79d292e8a215c1cf8a983e543ed8e96797141", "author": {"user": {"login": "kellykelly3", "name": null}}, "url": "https://github.com/sleuthkit/autopsy/commit/cea79d292e8a215c1cf8a983e543ed8e96797141", "committedDate": "2020-04-30T22:12:00Z", "message": "Merge branch 'develop' into 1442-image-gallery-tag-changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "78123064848111cd41765f52662761bb466073a1", "author": {"user": {"login": "kellykelly3", "name": null}}, "url": "https://github.com/sleuthkit/autopsy/commit/78123064848111cd41765f52662761bb466073a1", "committedDate": "2020-05-01T14:00:59Z", "message": "Fixed codacy warnings"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "187359127ad023f0f4b888180c2e6ce246f5e847", "author": {"user": {"login": "kellykelly3", "name": null}}, "url": "https://github.com/sleuthkit/autopsy/commit/187359127ad023f0f4b888180c2e6ce246f5e847", "committedDate": "2020-05-01T14:16:37Z", "message": "Supressed cast warnings"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA1MjA2Mjk5", "url": "https://github.com/sleuthkit/autopsy/pull/5865#pullrequestreview-405206299", "createdAt": "2020-05-04T17:43:15Z", "commit": {"oid": "187359127ad023f0f4b888180c2e6ce246f5e847"}, "state": "COMMENTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQxNzo0MzoxNVrOGQLEFg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQyMDo0OTo0NFrOGQRosQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTYxMTY3MA==", "bodyText": "These method overloads were just added, right, so this is not a public API change?\nIt would be a good idea to update the param doc as well.", "url": "https://github.com/sleuthkit/autopsy/pull/5865#discussion_r419611670", "createdAt": "2020-05-04T17:43:15Z", "author": {"login": "rcordovano"}, "path": "Core/src/org/sleuthkit/autopsy/casemodule/Case.java", "diffHunk": "@@ -1628,10 +1628,10 @@ public void notifyBlackBoardArtifactTagAdded(BlackboardArtifactTag newTag) {\n      * This should not be called from the event dispatch thread (EDT)\n      *\n      * @param newTag     new BlackboardArtifactTag added\n-     * @param removedTag The BlackboardArtifactTag that was removed.\n+     * @param removedTagList The BlackboardArtifactTag that was removed.\n      */\n-    public void notifyBlackBoardArtifactTagAdded(BlackboardArtifactTag newTag, BlackboardArtifactTag removedTag) {\n-        eventPublisher.publish(new BlackBoardArtifactTagAddedEvent(newTag, removedTag));\n+    public void notifyBlackBoardArtifactTagAdded(BlackboardArtifactTag newTag, List<BlackboardArtifactTag> removedTagList) {\n+        eventPublisher.publish(new BlackBoardArtifactTagAddedEvent(newTag, removedTagList));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "187359127ad023f0f4b888180c2e6ce246f5e847"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTcxMDM2Mg==", "bodyText": "If you do an instanceof, you won't need to suppress the warning.", "url": "https://github.com/sleuthkit/autopsy/pull/5865#discussion_r419710362", "createdAt": "2020-05-04T20:32:55Z", "author": {"login": "rcordovano"}, "path": "Core/src/org/sleuthkit/autopsy/casemodule/events/ContentTagAddedEvent.java", "diffHunk": "@@ -50,7 +53,43 @@ public ContentTagAddedEvent(ContentTag newTag, ContentTag deletedTag) {\n      * @throws NoCurrentCaseException\n      * @throws TskCoreException\n      */\n+    @Override\n     ContentTag getTagByID() throws NoCurrentCaseException, TskCoreException {\n         return Case.getCurrentCaseThrows().getServices().getTagsManager().getContentTagByTagID(getTagID());\n     }\n+    \n+    /**\n+     * Returns the list of tags that were removed as a result of the addition \n+     * of the ContentTag.\n+     * \n+     * @return A list of removed tags or null if no tags were removed.\n+     */\n+    @SuppressWarnings(\"unchecked\")\n+    public List<DeletedContentTagInfo> getRemovedTags() {\n+        Object oldValue = this.getOldValue();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "187359127ad023f0f4b888180c2e6ce246f5e847"}, "originalPosition": 42}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTcxMDY2Nw==", "bodyText": "If you do an instanceof, you won't need to suppress the warning.", "url": "https://github.com/sleuthkit/autopsy/pull/5865#discussion_r419710667", "createdAt": "2020-05-04T20:33:29Z", "author": {"login": "rcordovano"}, "path": "Core/src/org/sleuthkit/autopsy/casemodule/events/BlackBoardArtifactTagAddedEvent.java", "diffHunk": "@@ -54,4 +57,37 @@ public BlackBoardArtifactTagAddedEvent(BlackboardArtifactTag newTag, BlackboardA\n     BlackboardArtifactTag getTagByID() throws NoCurrentCaseException, TskCoreException {\n         return Case.getCurrentCaseThrows().getServices().getTagsManager().getBlackboardArtifactTagByTagID(getTagID());\n     }\n+    \n+    /**\n+     * Returns a list of tags removed as a result of the addition of the tag.\n+     * \n+     * @return A List of DeletedBlackboardArtifactTagInfo or null if no tags were removed.\n+     */\n+    @SuppressWarnings(\"unchecked\")\n+    public List<DeletedBlackboardArtifactTagInfo> getRemovedTags() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "187359127ad023f0f4b888180c2e6ce246f5e847"}, "originalPosition": 36}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTcxOTM0NQ==", "bodyText": "We should not have code going to the DrawableDB to get an ImageGalleryController reference. I recently went through some trouble to make sure that all (I think) ImageGalleryController references were handed out to the classes that needed them via their constructors using a reference obtained from a call to ImageGalleryController.getController that keeps a mapping of cases to controllers (it's not an elegant solution to the bugs we were experiencing from holding on to references to old controllers, but it got the job done).\nIt looks like this method is unused, so we can just delete it.", "url": "https://github.com/sleuthkit/autopsy/pull/5865#discussion_r419719345", "createdAt": "2020-05-04T20:49:44Z", "author": {"login": "rcordovano"}, "path": "ImageGallery/src/org/sleuthkit/autopsy/imagegallery/datamodel/DrawableDB.java", "diffHunk": "@@ -477,14 +477,23 @@ public static DrawableDB getDrawableDB(ImageGalleryController controller) throws\n         }\n \n         try {\n-            return new DrawableDB(dbPath, controller);\n+            return new DrawableDB(dbPath, controller, standardCategories);\n         } catch (IOException ex) {\n             throw new TskCoreException(\"Failed to create drawables database directory\", ex); //NON-NLS\n         } catch (SQLException ex) {\n             throw new TskCoreException(\"Failed to create/open the drawables database\", ex); //NON-NLS\n         }\n     }\n \n+    /**\n+     * Return the DrawableDBs handle to the ImageGalleryController.\n+     *\n+     * @return Controller instance.\n+     */\n+    public ImageGalleryController getImageGalleryController() {\n+        return controller;\n+    }\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "187359127ad023f0f4b888180c2e6ce246f5e847"}, "originalPosition": 85}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d977fb6f77fb4a1db24b2b004a38a377051ce988", "author": {"user": {"login": "kellykelly3", "name": null}}, "url": "https://github.com/sleuthkit/autopsy/commit/d977fb6f77fb4a1db24b2b004a38a377051ce988", "committedDate": "2020-05-05T16:03:00Z", "message": "Changes based on review comments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "686c49b2833dedf749baa99cc0a6a96616fe6386", "author": {"user": {"login": "kellykelly3", "name": null}}, "url": "https://github.com/sleuthkit/autopsy/commit/686c49b2833dedf749baa99cc0a6a96616fe6386", "committedDate": "2020-05-05T18:28:48Z", "message": "Modified TagAddEvent"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0f5da1685b04f0061cd68efd8342d9eca502fe73", "author": {"user": {"login": "kellykelly3", "name": null}}, "url": "https://github.com/sleuthkit/autopsy/commit/0f5da1685b04f0061cd68efd8342d9eca502fe73", "committedDate": "2020-05-05T19:11:16Z", "message": "Changed HTML_COLOR method name"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA2MjM2NjU3", "url": "https://github.com/sleuthkit/autopsy/pull/5865#pullrequestreview-406236657", "createdAt": "2020-05-06T00:08:48Z", "commit": {"oid": "0f5da1685b04f0061cd68efd8342d9eca502fe73"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2681, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}