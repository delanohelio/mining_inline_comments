{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg2MzgyNjIy", "number": 5696, "title": "6082: Create Email & Phone correlation attribute instances only for a\u2026", "bodyText": "\u2026ctual accounts created in CaseDB", "createdAt": "2020-03-10T21:53:06Z", "url": "https://github.com/sleuthkit/autopsy/pull/5696", "merged": true, "mergeCommit": {"oid": "ce5d6fa0e612e4ba94021f532a663b689a732385"}, "closed": true, "closedAt": "2020-03-16T19:56:24Z", "author": {"login": "raman-bt"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcMZjwFgH2gAyMzg2MzgyNjIyOmJkM2E3OWE1OTgwYWNkZDM0ODg1ZjUyY2E0NzgzNTFlMDAwNDg1MjI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcOGCLhAFqTM3NDkwMDk3MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "bd3a79a5980acdd34885f52ca478351e00048522", "author": {"user": {"login": "raman-bt", "name": null}}, "url": "https://github.com/sleuthkit/autopsy/commit/bd3a79a5980acdd34885f52ca478351e00048522", "committedDate": "2020-03-10T21:39:51Z", "message": "6082: Create Email & Phone correlation attribute instances only for actual accounts created in CaseDB"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzczMTcxODIy", "url": "https://github.com/sleuthkit/autopsy/pull/5696#pullrequestreview-373171822", "createdAt": "2020-03-11T22:33:01Z", "commit": {"oid": "bd3a79a5980acdd34885f52ca478351e00048522"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMVQyMjozMzowMVrOF1LjLw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMVQyMjozMzowMVrOF1LjLw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTMwODA3OQ==", "bodyText": "It seems like this normalization should be retained in a method to be called by makeCorrAttrFromAcctArtifact when it process a TSK_ACCOUNT artifact for a phone account.", "url": "https://github.com/sleuthkit/autopsy/pull/5696#discussion_r391308079", "createdAt": "2020-03-11T22:33:01Z", "author": {"login": "rcordovano"}, "path": "Core/src/org/sleuthkit/autopsy/centralrepository/datamodel/CorrelationAttributeUtil.java", "diffHunk": "@@ -169,58 +158,6 @@ private static BlackboardArtifact getCorrAttrSourceArtifact(BlackboardArtifact a\n         return sourceArtifact;\n     }\n \n-    /**\n-     * Makes a correlation attribute instance from a phone number attribute of an\n-     * artifact.\n-     *\n-     * @param artifact An artifact with a phone number attribute.\n-     *\n-     * @return The correlation instance artifact or null, if the phone number is\n-     *         not a valid correlation attribute.\n-     *\n-     * @throws TskCoreException     If there is an error querying the case\n-     *                              database.\n-     * @throws CentralRepoException If there is an error querying the central\n-     *                              repository.\n-     */\n-    private static CorrelationAttributeInstance makeCorrAttrFromArtifactPhoneAttr(BlackboardArtifact artifact) throws TskCoreException, CentralRepoException {\n-        CorrelationAttributeInstance corrAttr = null;\n-\n-        /*\n-         * Extract the phone number from the artifact attribute.\n-         */\n-        String value = null;\n-        if (null != artifact.getAttribute(new BlackboardAttribute.Type(BlackboardAttribute.ATTRIBUTE_TYPE.TSK_PHONE_NUMBER))) {\n-            value = artifact.getAttribute(new BlackboardAttribute.Type(BlackboardAttribute.ATTRIBUTE_TYPE.TSK_PHONE_NUMBER)).getValueString();\n-        } else if (null != artifact.getAttribute(new BlackboardAttribute.Type(BlackboardAttribute.ATTRIBUTE_TYPE.TSK_PHONE_NUMBER_FROM))) {\n-            value = artifact.getAttribute(new BlackboardAttribute.Type(BlackboardAttribute.ATTRIBUTE_TYPE.TSK_PHONE_NUMBER_FROM)).getValueString();\n-        } else if (null != artifact.getAttribute(new BlackboardAttribute.Type(BlackboardAttribute.ATTRIBUTE_TYPE.TSK_PHONE_NUMBER_TO))) {\n-            value = artifact.getAttribute(new BlackboardAttribute.Type(BlackboardAttribute.ATTRIBUTE_TYPE.TSK_PHONE_NUMBER_TO)).getValueString();\n-        }\n-\n-        /*\n-         * Normalize the phone number.\n-         */\n-        if (value != null) {\n-            String newValue = value.replaceAll(\"\\\\D\", \"\");\n-            if (value.startsWith(\"+\")) {\n-                newValue = \"+\" + newValue;\n-            }\n-            value = newValue;\n-\n-            /*\n-             * Validate the phone number. Three to five digit phone numbers may\n-             * be valid, but they are too short to use as correlation\n-             * attributes.\n-             */\n-            if (value.length() > 5) {\n-                corrAttr = makeCorrAttr(artifact, CentralRepository.getInstance().getCorrelationTypeById(CorrelationAttributeInstance.PHONE_TYPE_ID), value);\n-            }\n-        }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bd3a79a5980acdd34885f52ca478351e00048522"}, "originalPosition": 76}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc0OTAwOTcx", "url": "https://github.com/sleuthkit/autopsy/pull/5696#pullrequestreview-374900971", "createdAt": "2020-03-16T04:02:50Z", "commit": {"oid": "bd3a79a5980acdd34885f52ca478351e00048522"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2796, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}