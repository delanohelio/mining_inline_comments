{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc1Mzg5NDgx", "number": 797, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQxMzoxMjoyMFrOEeTSMA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQxMzoxMjoyMFrOEeTSMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAwMjA4Njg4OnYy", "diffSide": "RIGHT", "path": "app/src/test/java/io/apicurio/registry/ConfluentCompatApiTest.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQxMzoxMjoyMFrOHJ4Myg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQxMzo0NjoyN1rOHK3C7A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDEyMDAxMA==", "bodyText": "I'm not 100% sure about this.  There's no concept of \"state\" in the ccompat API, right?  And the entire schema is available (obviously) from the schema property of the result.  It seems like maybe this should return a 404?", "url": "https://github.com/Apicurio/apicurio-registry/pull/797#discussion_r480120010", "createdAt": "2020-08-31T13:12:20Z", "author": {"login": "EricWittmann"}, "path": "app/src/test/java/io/apicurio/registry/ConfluentCompatApiTest.java", "diffHunk": "@@ -218,14 +218,25 @@ public void testDisabledStateCheck() throws Exception {\n            .then()\n                .statusCode(204);\n         \n-        // GET - shouldn't return as the state has been changed to DISABLED\n+        // GET - object should return when the state has been changed to DISABLED\n         TestUtils.retry(() -> {\n             given()\n                 .when()\n                     .contentType(ContentTypes.COMPAT_SCHEMA_REGISTRY_STABLE_LATEST)\n                     .get(\"/ccompat/subjects/{subject}/versions/{version}\", SUBJECT, \"latest\")\n                 .then()\n-                    .statusCode(400);\n+                    .statusCode(200)\n+                    .body(\"schema\", equalTo(SCHEMA_SIMPLE));\n+        });", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "69d11bfc604def99687d7acc84da8ee9c453c379"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTE0OTY3Ng==", "bodyText": "I wasn't sure about that either. You're right that the ccompat API doesn't have state, so I have updated to return a 404 when users GET a disabled artifact on the /ccompat/subjects/{subject}/versions/{version} endpoint.", "url": "https://github.com/Apicurio/apicurio-registry/pull/797#discussion_r481149676", "createdAt": "2020-09-01T13:46:27Z", "author": {"login": "ajborley"}, "path": "app/src/test/java/io/apicurio/registry/ConfluentCompatApiTest.java", "diffHunk": "@@ -218,14 +218,25 @@ public void testDisabledStateCheck() throws Exception {\n            .then()\n                .statusCode(204);\n         \n-        // GET - shouldn't return as the state has been changed to DISABLED\n+        // GET - object should return when the state has been changed to DISABLED\n         TestUtils.retry(() -> {\n             given()\n                 .when()\n                     .contentType(ContentTypes.COMPAT_SCHEMA_REGISTRY_STABLE_LATEST)\n                     .get(\"/ccompat/subjects/{subject}/versions/{version}\", SUBJECT, \"latest\")\n                 .then()\n-                    .statusCode(400);\n+                    .statusCode(200)\n+                    .body(\"schema\", equalTo(SCHEMA_SIMPLE));\n+        });", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDEyMDAxMA=="}, "originalCommit": {"oid": "69d11bfc604def99687d7acc84da8ee9c453c379"}, "originalPosition": 25}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3518, "cost": 1, "resetAt": "2021-11-12T09:44:50Z"}}}