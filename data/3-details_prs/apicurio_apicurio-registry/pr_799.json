{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc2NTE0MzA1", "number": 799, "title": "Build registry docs as part of release script", "bodyText": "Updated the release script to also automate the building and releasing of the documentation", "createdAt": "2020-08-31T20:10:21Z", "url": "https://github.com/Apicurio/apicurio-registry/pull/799", "merged": true, "mergeCommit": {"oid": "7ae7617f2d06c01a3ca59dc42918dbe2208cd489"}, "closed": true, "closedAt": "2020-09-09T17:16:39Z", "author": {"login": "EricWittmann"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdEYjr9AH2gAyNDc2NTE0MzA1OmM0ZWJmNzIwNGU3YjkyMzViNTA5OTNhNGNiY2FhOTk3YTViNmEyM2M=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdHPaxBgH2gAyNDc2NTE0MzA1OmNjNTFhY2EyZjgwMTJjN2UzYWU5NmIwOGI4MWFjNWVmYmYwYjY2MTg=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "c4ebf7204e7b9235b50993a4cbcaa997a5b6a23c", "author": {"user": {"login": "EricWittmann", "name": "Eric Wittmann"}}, "url": "https://github.com/Apicurio/apicurio-registry/commit/c4ebf7204e7b9235b50993a4cbcaa997a5b6a23c", "committedDate": "2020-08-31T20:09:38Z", "message": "updated the release script to also automate the building and releasing of the documentation"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgwNjAxMDY2", "url": "https://github.com/Apicurio/apicurio-registry/pull/799#pullrequestreview-480601066", "createdAt": "2020-09-02T08:33:55Z", "commit": {"oid": "c4ebf7204e7b9235b50993a4cbcaa997a5b6a23c"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQwODozMzo1NVrOHLkHeg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQwODozMzo1NVrOHLkHeg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTg4ODEyMg==", "bodyText": "@EricWittmann Github Actions doesn't support interactive mode yet and bash cannot allocate a tty. Hence, It will fail with the error the input device is not a TTY. If we need an interactive terminal and aren't running in a terminal on Linux or macOS, we need to use a different command-line interface. PowerShell is reported to include this support on Windows.\nThe simplest solution would be to remove the -it option from the docker run command to make it non-interactive and remove the TTY", "url": "https://github.com/Apicurio/apicurio-registry/pull/799#discussion_r481888122", "createdAt": "2020-09-02T08:33:55Z", "author": {"login": "riprasad"}, "path": ".github/workflows/release.yaml", "diffHunk": "@@ -136,20 +151,21 @@ jobs:\n         run: |\n           cd registry\n           mvn versions:set -DnewVersion=${{steps.metadata.outputs.snapshot-version}} -DgenerateBackupPoms=false -DprocessAllModules=true\n+          sed -i  \"s/version\\:\\s.*/version: \\'master\\'/g\" .antora/antora.yml\n       - name: Commit Snapshot Version ${{steps.metadata.outputs.snapshot-version}}\n         run: |\n           cd registry\n           git add .\n           git commit -m\"Automated update to next Snapshot Version: ${{steps.metadata.outputs.snapshot-version}}\"\n           git push\n-      # - name: Tweet About The Release\n-      #   uses: ethomson/send-tweet-action@v1\n-      #   with:\n-      #     status: \"${{steps.metadata.outputs.project-name}} version ${{steps.metadata.outputs.release-version}} is out!  Check out the release notes here: ${{ steps.create_release.outputs.html_url }}\"\n-      #     consumer-key: ${{ secrets.TWITTER_CONSUMER_API_KEY }}\n-      #     consumer-secret: ${{ secrets.TWITTER_CONSUMER_API_SECRET }}\n-      #     access-token: ${{ secrets.TWITTER_ACCESS_TOKEN }}\n-      #     access-token-secret: ${{ secrets.TWITTER_ACCESS_TOKEN_SECRET }}\n+      - name: Generate Project Documentation for Website\n+        run: |\n+          echo \"********** Building Registry Documentation using Antora **********\"\n+          cd docs-playbook\n+          docker pull apicurio/apicurio-docs-builder:latest\n+          docker run -v $(pwd):/apicurio-docs-playbook -it apicurio/apicurio-docs-builder:latest", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c4ebf7204e7b9235b50993a4cbcaa997a5b6a23c"}, "originalPosition": 49}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "29cb33905e0b110b460b681047298ab6983b1f48", "author": {"user": {"login": "EricWittmann", "name": "Eric Wittmann"}}, "url": "https://github.com/Apicurio/apicurio-registry/commit/29cb33905e0b110b460b681047298ab6983b1f48", "committedDate": "2020-09-02T12:45:04Z", "message": "Update release.yaml"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cc51aca2f8012c7e3ae96b08b81ac5efbf0b6618", "author": {"user": {"login": "EricWittmann", "name": "Eric Wittmann"}}, "url": "https://github.com/Apicurio/apicurio-registry/commit/cc51aca2f8012c7e3ae96b08b81ac5efbf0b6618", "committedDate": "2020-09-09T17:12:31Z", "message": "Moved the antora.yml file"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4419, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}