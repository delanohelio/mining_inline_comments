{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc5NTY0ODI2", "number": 291, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNVQxNDo1Mzo1N1rODiu31w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNVQxNDo1Mzo1N1rODiu31w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM3NzQ2MTM1OnYy", "diffSide": "RIGHT", "path": "common/src/main/java/io/apicurio/registry/rest/Headers.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNVQxNDo1Mzo1N1rOFuJItg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNVQxNToxNjozNFrOFuKDxg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzkyODUwMg==", "bodyText": "Why add the artifactId and version as well?  Is this so it's available for inclusion in the log message?", "url": "https://github.com/Apicurio/apicurio-registry/pull/291#discussion_r383928502", "createdAt": "2020-02-25T14:53:57Z", "author": {"login": "EricWittmann"}, "path": "common/src/main/java/io/apicurio/registry/rest/Headers.java", "diffHunk": "@@ -0,0 +1,45 @@\n+/*\n+ * Copyright 2020 Red Hat\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package io.apicurio.registry.rest;\n+\n+import io.apicurio.registry.types.ArtifactState;\n+\n+import java.util.function.Supplier;\n+import javax.ws.rs.core.Response;\n+\n+/**\n+ * @author Ales Justin\n+ */\n+public interface Headers {\n+    String ARTIFACT_ID = \"X-Registry-ArtifactId\";\n+    String VERSION = \"X-Registry-Version\";\n+\n+    String DEPRECATED = \"X-Registry-Deprecated\";\n+\n+    default void checkIfDeprecated(\n+        Supplier<ArtifactState> stateSupplier,\n+        String artifactId,\n+        Number version,\n+        Response.ResponseBuilder builder\n+    ) {\n+        if (stateSupplier.get() == ArtifactState.DEPRECATED) {\n+            builder.header(Headers.DEPRECATED, true);\n+            builder.header(Headers.ARTIFACT_ID, artifactId);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d6102547848aa26469a8da18e473f64612caa96f"}, "originalPosition": 41}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Mzk0MzYyMg==", "bodyText": "Yes.\nSo that any client can grab that info easily from response.\nYou do already have that info in some cases, when you explicitly call for a id,version tuple,\nbut not for latest and per-globalId.", "url": "https://github.com/Apicurio/apicurio-registry/pull/291#discussion_r383943622", "createdAt": "2020-02-25T15:16:34Z", "author": {"login": "alesj"}, "path": "common/src/main/java/io/apicurio/registry/rest/Headers.java", "diffHunk": "@@ -0,0 +1,45 @@\n+/*\n+ * Copyright 2020 Red Hat\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package io.apicurio.registry.rest;\n+\n+import io.apicurio.registry.types.ArtifactState;\n+\n+import java.util.function.Supplier;\n+import javax.ws.rs.core.Response;\n+\n+/**\n+ * @author Ales Justin\n+ */\n+public interface Headers {\n+    String ARTIFACT_ID = \"X-Registry-ArtifactId\";\n+    String VERSION = \"X-Registry-Version\";\n+\n+    String DEPRECATED = \"X-Registry-Deprecated\";\n+\n+    default void checkIfDeprecated(\n+        Supplier<ArtifactState> stateSupplier,\n+        String artifactId,\n+        Number version,\n+        Response.ResponseBuilder builder\n+    ) {\n+        if (stateSupplier.get() == ArtifactState.DEPRECATED) {\n+            builder.header(Headers.DEPRECATED, true);\n+            builder.header(Headers.ARTIFACT_ID, artifactId);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzkyODUwMg=="}, "originalCommit": {"oid": "d6102547848aa26469a8da18e473f64612caa96f"}, "originalPosition": 41}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3430, "cost": 1, "resetAt": "2021-11-12T09:44:50Z"}}}