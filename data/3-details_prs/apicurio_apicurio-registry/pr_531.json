{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIzNDMzOTcw", "number": 531, "title": "Registry now supports Labels for artifact meta-data", "bodyText": "", "createdAt": "2020-05-26T20:03:29Z", "url": "https://github.com/Apicurio/apicurio-registry/pull/531", "merged": true, "mergeCommit": {"oid": "f52180f0327a0b332f5f5951aa52526295ddf20d"}, "closed": true, "closedAt": "2020-05-27T14:32:04Z", "author": {"login": "EricWittmann"}, "timelineItems": {"totalCount": 17, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcj22AvAH2gAyNDIzNDMzOTcwOmFkMjk0YTkyOTQyZjJmYmQ5OTY3ZDViNjQ5NjI3MmNjODM5M2Q5OWI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABclYD73AH2gAyNDIzNDMzOTcwOmE5YWNmOWY1YjI2NGUyMGE1NzA1YmI3ZDc1ZmRlNjc4ODdkOTYzN2U=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "ad294a92942f2fbd9967d5b6496272cc8393d99b", "author": {"user": {"login": "EricWittmann", "name": "Eric Wittmann"}}, "url": "https://github.com/Apicurio/apicurio-registry/commit/ad294a92942f2fbd9967d5b6496272cc8393d99b", "committedDate": "2020-05-22T18:47:18Z", "message": "added labels to the rest API (beans)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a42eb21c7a37d6b26754106ed57a2528a17c441c", "author": {"user": {"login": "EricWittmann", "name": "Eric Wittmann"}}, "url": "https://github.com/Apicurio/apicurio-registry/commit/a42eb21c7a37d6b26754106ed57a2528a17c441c", "committedDate": "2020-05-26T14:07:04Z", "message": "added labels to the rest API (beans)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a57600be1edffb03fec7256eab10537182f2f69c", "author": {"user": {"login": "carlesarnal", "name": "Carles Arnal"}}, "url": "https://github.com/Apicurio/apicurio-registry/commit/a57600be1edffb03fec7256eab10537182f2f69c", "committedDate": "2020-05-26T14:08:52Z", "message": "Add labels for map based storages"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "17c51a4a556d20e87dfee86459750c6e4fb76bd6", "author": {"user": {"login": "carlesarnal", "name": "Carles Arnal"}}, "url": "https://github.com/Apicurio/apicurio-registry/commit/17c51a4a556d20e87dfee86459750c6e4fb76bd6", "committedDate": "2020-05-26T14:08:52Z", "message": "Add labels feature for jpa storage"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "142714e7ff32db29b8dc7ac0882d7c8325db7fbc", "author": {"user": {"login": "carlesarnal", "name": "Carles Arnal"}}, "url": "https://github.com/Apicurio/apicurio-registry/commit/142714e7ff32db29b8dc7ac0882d7c8325db7fbc", "committedDate": "2020-05-26T14:09:11Z", "message": "Add streams storage labels support"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "91d21fc7930abbf3468d4e26c3d03c91c400d88a", "author": {"user": {"login": "carlesarnal", "name": "Carles Arnal"}}, "url": "https://github.com/Apicurio/apicurio-registry/commit/91d21fc7930abbf3468d4e26c3d03c91c400d88a", "committedDate": "2020-05-26T14:10:46Z", "message": "Add search over labels"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dea5227d1a3065846f819e965e2bf1c770216061", "author": {"user": {"login": "carlesarnal", "name": "Carles Arnal"}}, "url": "https://github.com/Apicurio/apicurio-registry/commit/dea5227d1a3065846f819e965e2bf1c770216061", "committedDate": "2020-05-26T14:41:17Z", "message": "Add labels search test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2ba490fb81df075fdf2207d63beb616e5dcad112", "author": {"user": {"login": "carlesarnal", "name": "Carles Arnal"}}, "url": "https://github.com/Apicurio/apicurio-registry/commit/2ba490fb81df075fdf2207d63beb616e5dcad112", "committedDate": "2020-05-26T15:05:35Z", "message": "Fix kafka storage labels metadata"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fb5f2054378bc13031bb0188b95e931441628fe7", "author": {"user": {"login": "carlesarnal", "name": "Carles Arnal"}}, "url": "https://github.com/Apicurio/apicurio-registry/commit/fb5f2054378bc13031bb0188b95e931441628fe7", "committedDate": "2020-05-26T15:25:04Z", "message": "Fix jpa labels search"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fa6e855a646fe8a08f495058eb834eb54649c050", "author": {"user": {"login": "carlesarnal", "name": "Carles Arnal"}}, "url": "https://github.com/Apicurio/apicurio-registry/commit/fa6e855a646fe8a08f495058eb834eb54649c050", "committedDate": "2020-05-26T15:30:17Z", "message": "Fix artifact metadata totring npe"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "99e7d4750007808f896682285fab35a733716abd", "author": {"user": {"login": "EricWittmann", "name": "Eric Wittmann"}}, "url": "https://github.com/Apicurio/apicurio-registry/commit/99e7d4750007808f896682285fab35a733716abd", "committedDate": "2020-05-26T18:37:57Z", "message": "added labels to metadata models"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fcbe13ef2a797f93f0f6fb77a63b0ef32f1e7d74", "author": {"user": {"login": "EricWittmann", "name": "Eric Wittmann"}}, "url": "https://github.com/Apicurio/apicurio-registry/commit/fcbe13ef2a797f93f0f6fb77a63b0ef32f1e7d74", "committedDate": "2020-05-26T18:50:44Z", "message": "merge from upstream"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8807ba5d54a437e783eeec679fb4ac93a171fbbd", "author": {"user": {"login": "EricWittmann", "name": "Eric Wittmann"}}, "url": "https://github.com/Apicurio/apicurio-registry/commit/8807ba5d54a437e783eeec679fb4ac93a171fbbd", "committedDate": "2020-05-26T20:02:12Z", "message": "enabled labels in the UI.  Fixes #530"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE4NjM5NjQ0", "url": "https://github.com/Apicurio/apicurio-registry/pull/531#pullrequestreview-418639644", "createdAt": "2020-05-26T20:05:42Z", "commit": {"oid": "8807ba5d54a437e783eeec679fb4ac93a171fbbd"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQyMDowNTo0MlrOGaubfQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQyMDowNTo0MlrOGaubfQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDY3Njg2MQ==", "bodyText": "I think this allows for false positives on label searches, but it's OK for this release.  We can wait for someone to complain...", "url": "https://github.com/Apicurio/apicurio-registry/pull/531#discussion_r430676861", "createdAt": "2020-05-26T20:05:42Z", "author": {"login": "EricWittmann"}, "path": "app/src/main/java/io/apicurio/registry/storage/impl/AbstractMapRegistryStorage.java", "diffHunk": "@@ -133,11 +133,9 @@ private boolean filterSearchResult(String search, String artifactId, SearchOver\n             switch (searchOver) {\n                 case name:\n                 case description:\n+                case labels:\n                     String value = getLatestContentMap(artifactId, ArtifactStateExt.ACTIVE_STATES).get(searchOver.name());\n                     return value != null && value.contains(search);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8807ba5d54a437e783eeec679fb4ac93a171fbbd"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE4NjQxMzEw", "url": "https://github.com/Apicurio/apicurio-registry/pull/531#pullrequestreview-418641310", "createdAt": "2020-05-26T20:08:21Z", "commit": {"oid": "8807ba5d54a437e783eeec679fb4ac93a171fbbd"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9c4d8e455d48f33b3a9200eeeba488b2bfe025e1", "author": {"user": {"login": "carlesarnal", "name": "Carles Arnal"}}, "url": "https://github.com/Apicurio/apicurio-registry/commit/9c4d8e455d48f33b3a9200eeeba488b2bfe025e1", "committedDate": "2020-05-27T06:59:15Z", "message": "Add labels to consume metadata streams storage"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a9acf9f5b264e20a5705bb7d75fde67887d9637e", "author": {"user": {"login": "EricWittmann", "name": "Eric Wittmann"}}, "url": "https://github.com/Apicurio/apicurio-registry/commit/a9acf9f5b264e20a5705bb7d75fde67887d9637e", "committedDate": "2020-05-27T12:03:18Z", "message": "added some helper text for the labels in the edit meta-data modal"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4511, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}