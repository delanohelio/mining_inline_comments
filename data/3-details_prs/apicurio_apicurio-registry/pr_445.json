{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE2NjY3NTM3", "number": 445, "title": "Add initial support for versions search in all storage variants", "bodyText": "", "createdAt": "2020-05-12T11:35:45Z", "url": "https://github.com/Apicurio/apicurio-registry/pull/445", "merged": true, "mergeCommit": {"oid": "7cae77d03850d0294acb79ed4bc2b243f4474146"}, "closed": true, "closedAt": "2020-05-12T16:46:43Z", "author": {"login": "carlesarnal"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcgjdP6gH2gAyNDE2NjY3NTM3OmMxYzU0OTY4NmY1M2VlODU4YmFjZjgzZTkyZDY5YjZiYTU5YmIwOGI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcgnH7cgFqTQxMDIzMjA1OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "c1c549686f53ee858bacf83e92d69b6ba59bb08b", "author": {"user": {"login": "carlesarnal", "name": "Carles Arnal"}}, "url": "https://github.com/Apicurio/apicurio-registry/commit/c1c549686f53ee858bacf83e92d69b6ba59bb08b", "committedDate": "2020-05-12T12:30:17Z", "message": "Add initial support for versions search in all storage variants"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "713e3e33de00c21b2c9c1bb9eaa9f7b375eea58c", "author": {"user": {"login": "carlesarnal", "name": "Carles Arnal"}}, "url": "https://github.com/Apicurio/apicurio-registry/commit/713e3e33de00c21b2c9c1bb9eaa9f7b375eea58c", "committedDate": "2020-05-12T11:34:23Z", "message": "Add initial support for versions search in all storage variants"}, "afterCommit": {"oid": "c1c549686f53ee858bacf83e92d69b6ba59bb08b", "author": {"user": {"login": "carlesarnal", "name": "Carles Arnal"}}, "url": "https://github.com/Apicurio/apicurio-registry/commit/c1c549686f53ee858bacf83e92d69b6ba59bb08b", "committedDate": "2020-05-12T12:30:17Z", "message": "Add initial support for versions search in all storage variants"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEwMDg1NzM0", "url": "https://github.com/Apicurio/apicurio-registry/pull/445#pullrequestreview-410085734", "createdAt": "2020-05-12T14:13:55Z", "commit": {"oid": "c1c549686f53ee858bacf83e92d69b6ba59bb08b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQxNDoxMzo1NVrOGUIuBw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQxNDoxMzo1NVrOGUIuBw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzc2NzU1OQ==", "bodyText": "Perhaps rather set these defaults in REST, so you don't have to do it for every storage.\nAnd let the storage have primitives.", "url": "https://github.com/Apicurio/apicurio-registry/pull/445#discussion_r423767559", "createdAt": "2020-05-12T14:13:55Z", "author": {"login": "alesj"}, "path": "storage/streams/src/main/java/io/apicurio/registry/streams/StreamsRegistryStorage.java", "diffHunk": "@@ -546,6 +543,33 @@ public void deleteArtifactRule(String artifactId, RuleType rule) throws Artifact\n         }\n     }\n \n+    @Override\n+    public VersionSearchResults searchVersions(String artifactId, Integer offset, Integer limit) {\n+\n+        if (offset == null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c1c549686f53ee858bacf83e92d69b6ba59bb08b"}, "originalPosition": 19}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "10f14de081cdd7a3e35311008edb3821ca8bc4a2", "author": {"user": {"login": "EricWittmann", "name": "Eric Wittmann"}}, "url": "https://github.com/Apicurio/apicurio-registry/commit/10f14de081cdd7a3e35311008edb3821ca8bc4a2", "committedDate": "2020-05-12T15:03:48Z", "message": "Merge branch 'master' into versions-search-operation-support-444"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEwMTM5ODU3", "url": "https://github.com/Apicurio/apicurio-registry/pull/445#pullrequestreview-410139857", "createdAt": "2020-05-12T15:06:28Z", "commit": {"oid": "c1c549686f53ee858bacf83e92d69b6ba59bb08b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQxNTowNjoyOVrOGULSug==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQxNTowNjoyOVrOGULSug==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzgwOTcyMg==", "bodyText": "I think to add to the suggestion @alesj made - this signature can use int instead of Integer and require the caller to provide non-null values.", "url": "https://github.com/Apicurio/apicurio-registry/pull/445#discussion_r423809722", "createdAt": "2020-05-12T15:06:29Z", "author": {"login": "EricWittmann"}, "path": "app/src/main/java/io/apicurio/registry/storage/RegistryStorage.java", "diffHunk": "@@ -240,6 +241,15 @@ default boolean isAlive() {\n      */\n     public SortedSet<Long> getArtifactVersions(String artifactId) throws ArtifactNotFoundException, RegistryStorageException;\n \n+    /**\n+     * Fetch the versions of the given artifact\n+     * @return the artifact versions, limited\n+     * @param artifactId the artifact used to fetch versions\n+     * @param limit the result size limit\n+     * @param offset the number of versions to skip\n+     */\n+    public VersionSearchResults searchVersions(String artifactId, Integer offset, Integer limit);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c1c549686f53ee858bacf83e92d69b6ba59bb08b"}, "originalPosition": 19}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "24d6c0ee541792317b797196175e4ef762367735", "author": {"user": {"login": "carlesarnal", "name": "Carles Arnal"}}, "url": "https://github.com/Apicurio/apicurio-registry/commit/24d6c0ee541792317b797196175e4ef762367735", "committedDate": "2020-05-12T15:34:00Z", "message": "Fix search issues and made some improvements"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0b46cd48ee8b158513ace5c917d0f66b8d4539e6", "author": {"user": {"login": "carlesarnal", "name": "Carles Arnal"}}, "url": "https://github.com/Apicurio/apicurio-registry/commit/0b46cd48ee8b158513ace5c917d0f66b8d4539e6", "committedDate": "2020-05-12T15:34:45Z", "message": "Merge branch 'versions-search-operation-support-444' of https://github.com/carlesarnal/apicurio-registry into versions-search-operation-support-444"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1e053ed7b99250d3f0629b0e25d1bb184bf08e9e", "author": {"user": {"login": "carlesarnal", "name": "Carles Arnal"}}, "url": "https://github.com/Apicurio/apicurio-registry/commit/1e053ed7b99250d3f0629b0e25d1bb184bf08e9e", "committedDate": "2020-05-12T15:41:02Z", "message": "Change versions search params from Integer to primitive values"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEwMjMyMDU4", "url": "https://github.com/Apicurio/apicurio-registry/pull/445#pullrequestreview-410232058", "createdAt": "2020-05-12T16:46:37Z", "commit": {"oid": "1e053ed7b99250d3f0629b0e25d1bb184bf08e9e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3469, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}