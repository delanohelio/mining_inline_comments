{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDEwMDQ3OTYz", "number": 399, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQwOTowOToyOVrOD3inpQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QxMzozMDoyNVrOD6P8rQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU5NTY1NDc3OnYy", "diffSide": "RIGHT", "path": "app/src/main/java/io/apicurio/registry/rules/compatibility/jsonschema/JsonSchemaDiffLibrary.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQwOTowOToyOVrOGN2LMA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQwOTowOToyOVrOGN2LMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzE3MjI3Mg==", "bodyText": "Perhaps move MAPPER init also to this static block.", "url": "https://github.com/Apicurio/apicurio-registry/pull/399#discussion_r417172272", "createdAt": "2020-04-29T09:09:29Z", "author": {"login": "alesj"}, "path": "app/src/main/java/io/apicurio/registry/rules/compatibility/jsonschema/JsonSchemaDiffLibrary.java", "diffHunk": "@@ -0,0 +1,78 @@\n+/*\n+ * Copyright 2019 Red Hat\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package io.apicurio.registry.rules.compatibility.jsonschema;\n+\n+import com.fasterxml.jackson.core.JsonProcessingException;\n+import com.fasterxml.jackson.databind.ObjectMapper;\n+import com.fasterxml.jackson.datatype.jsonorg.JsonOrgModule;\n+import io.apicurio.registry.rules.compatibility.jsonschema.diff.DiffContext;\n+import io.apicurio.registry.rules.compatibility.jsonschema.diff.SchemaDiffVisitor;\n+import org.everit.json.schema.Schema;\n+import org.everit.json.schema.loader.SchemaLoader;\n+import org.json.JSONObject;\n+\n+import static io.apicurio.registry.rules.compatibility.jsonschema.wrapper.WrapUtil.wrap;\n+\n+/**\n+ * @author Jakub Senko <jsenko@redhat.com>\n+ */\n+public class JsonSchemaDiffLibrary {\n+\n+    public static final ObjectMapper MAPPER = new ObjectMapper();\n+\n+    static {\n+        MAPPER.registerModule(new JsonOrgModule());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ee526f99aa6d614e7212f607b13de602c003f926"}, "originalPosition": 38}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYyNDA0MDUyOnYy", "diffSide": "RIGHT", "path": "app/src/main/java/io/apicurio/registry/rules/compatibility/jsonschema/diff/BooleanSchemaDiffVisitor.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QxMzoyNzo0NFrOGR-e1g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QxMzoyNzo0NFrOGR-e1g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTUwMjY3OA==", "bodyText": "Note: Check may be missing here", "url": "https://github.com/Apicurio/apicurio-registry/pull/399#discussion_r421502678", "createdAt": "2020-05-07T13:27:44Z", "author": {"login": "jsenko"}, "path": "app/src/main/java/io/apicurio/registry/rules/compatibility/jsonschema/diff/BooleanSchemaDiffVisitor.java", "diffHunk": "@@ -0,0 +1,41 @@\n+/*\n+ * Copyright 2019 Red Hat\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package io.apicurio.registry.rules.compatibility.jsonschema.diff;\n+\n+import io.apicurio.registry.rules.compatibility.jsonschema.JsonSchemaWrapperVisitor;\n+import io.apicurio.registry.rules.compatibility.jsonschema.wrapper.BooleanSchemaWrapper;\n+import org.everit.json.schema.BooleanSchema;\n+\n+/**\n+ * @author Jakub Senko <jsenko@redhat.com>\n+ */\n+public class BooleanSchemaDiffVisitor extends JsonSchemaWrapperVisitor {\n+\n+\n+    private final DiffContext ctx;\n+    private final BooleanSchema original;\n+\n+    public BooleanSchemaDiffVisitor(DiffContext ctx, BooleanSchema original) {\n+        this.ctx = ctx;\n+        this.original = original;\n+    }\n+\n+    @Override\n+    public void visitBooleanSchema(BooleanSchemaWrapper schema) {\n+        super.visitBooleanSchema(schema);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "850a562a4a8529deae4426fade3eef2a88720ea8"}, "originalPosition": 39}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYyNDA1MTMxOnYy", "diffSide": "RIGHT", "path": "pom.xml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QxMzozMDowMVrOGR-law==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QxNjowNToxNlrOGSFrwg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTUwNDM2Mw==", "bodyText": "Formatting?", "url": "https://github.com/Apicurio/apicurio-registry/pull/399#discussion_r421504363", "createdAt": "2020-05-07T13:30:01Z", "author": {"login": "jsenko"}, "path": "pom.xml", "diffHunk": "@@ -142,6 +142,8 @@\n \n         <!-- JSON Schema Validator -->\n         <medeia-validator-jackson.version>1.1.1</medeia-validator-jackson.version>\n+        <org.everit.json.schema.version>1.12.1</org.everit.json.schema.version><!-- TODO unification -->\n+\t\t<jackson-datatype-json-org.version>2.10.3</jackson-datatype-json-org.version>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "850a562a4a8529deae4426fade3eef2a88720ea8"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTYyMDY3NA==", "bodyText": "Yeah - it would be good for everyone to stop using tabs for indentation in pom.xml files.", "url": "https://github.com/Apicurio/apicurio-registry/pull/399#discussion_r421620674", "createdAt": "2020-05-07T16:05:16Z", "author": {"login": "EricWittmann"}, "path": "pom.xml", "diffHunk": "@@ -142,6 +142,8 @@\n \n         <!-- JSON Schema Validator -->\n         <medeia-validator-jackson.version>1.1.1</medeia-validator-jackson.version>\n+        <org.everit.json.schema.version>1.12.1</org.everit.json.schema.version><!-- TODO unification -->\n+\t\t<jackson-datatype-json-org.version>2.10.3</jackson-datatype-json-org.version>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTUwNDM2Mw=="}, "originalCommit": {"oid": "850a562a4a8529deae4426fade3eef2a88720ea8"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYyNDA1MjkzOnYy", "diffSide": "RIGHT", "path": "pom.xml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QxMzozMDoyNVrOGR-mgA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QxMzozMDoyNVrOGR-mgA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTUwNDY0MA==", "bodyText": "Formatting?", "url": "https://github.com/Apicurio/apicurio-registry/pull/399#discussion_r421504640", "createdAt": "2020-05-07T13:30:25Z", "author": {"login": "jsenko"}, "path": "pom.xml", "diffHunk": "@@ -350,6 +352,16 @@\n                 <artifactId>medeia-validator-jackson</artifactId>\n                 <version>${medeia-validator-jackson.version}</version>\n             </dependency>\n+\t\t\t<dependency>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "850a562a4a8529deae4426fade3eef2a88720ea8"}, "originalPosition": 13}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3390, "cost": 1, "resetAt": "2021-11-12T09:44:50Z"}}}