{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDczODI3ODQ3", "number": 789, "title": "Store ibmcompat API metadata in properties field", "bodyText": "This commit updates the ibmcompat API so that metadata that does not\nhave an equivalent in the artifacts API is stored in and retrieved from\nthe properties metadata field.\nIt also updates the API path handling to allow either the schema name\nor schema ID (which is the lower-cased schema name) to be used to\naddress the artifact.\n\nSigned-off-by: Andrew Borley borley@uk.ibm.com", "createdAt": "2020-08-26T11:02:21Z", "url": "https://github.com/Apicurio/apicurio-registry/pull/789", "merged": true, "mergeCommit": {"oid": "d0e8bfd711d4bb0ee338537f6e732e84c739402c"}, "closed": true, "closedAt": "2020-08-27T13:01:57Z", "author": {"login": "ajborley"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdCqs2UgFqTQ3NTQyMzY1Nw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdDACngAFqTQ3NjY5NjQ5Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc1NDIzNjU3", "url": "https://github.com/Apicurio/apicurio-registry/pull/789#pullrequestreview-475423657", "createdAt": "2020-08-26T12:10:04Z", "commit": {"oid": "2ff26f9bbaa01589bb06bf162a913b4eaa8d62e3"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQxMjoxMDowNFrOHHJELQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQxMjoxMDowNFrOHHJELQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzI1MDYwNQ==", "bodyText": "Adding the new version might be an async operation - do we need a check before this Patch operation to make sure the version added above exists and is in the expected state?", "url": "https://github.com/Apicurio/apicurio-registry/pull/789#discussion_r477250605", "createdAt": "2020-08-26T12:10:04Z", "author": {"login": "EricWittmann"}, "path": "app/src/test/java/io/apicurio/registry/ibmcompat/IBMCompatApiTest.java", "diffHunk": "@@ -376,8 +405,8 @@ public void testPatchSchemaVersionState() throws Exception {\n                 .patch(\"/ibmcompat/schemas/\" + schemaName + \"/versions/2\")\n             .then()\n                 .statusCode(200)\n-                .body(\"name\", equalTo(schemaName))\n-                .body(\"id\", equalTo(schemaName))\n+                .body(\"name\", equalTo(schemaId))\n+                .body(\"id\", equalTo(schemaId))\n                 .body(\"enabled\", is(true))\n                 .body(\"state.state\", equalTo(\"active\"))\n                 .body(\"versions.size()\", is(2))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2ff26f9bbaa01589bb06bf162a913b4eaa8d62e3"}, "originalPosition": 255}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "19d428f9903721145c1492316b34ccdc49e94df5", "author": {"user": {"login": "ajborley", "name": "Andrew Borley"}}, "url": "https://github.com/Apicurio/apicurio-registry/commit/19d428f9903721145c1492316b34ccdc49e94df5", "committedDate": "2020-08-26T14:58:42Z", "message": "Store ibmcompat API metadata in properties field\n\n- This commit updates the ibmcompat API so that metadata that does not\nhave an equivalent in the artifacts API is stored in and retrieved from\nthe `properties` metadata field.\n- It also updates the API path handling to allow either the schema name\nor schema ID (which is the lower-cased schema name) to be used to\naddress the artifact.\n\nSigned-off-by: Andrew Borley <borley@uk.ibm.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "35c1b6d2ccee55abbc4fd7ebe8a08049245d788a", "author": {"user": {"login": "ajborley", "name": "Andrew Borley"}}, "url": "https://github.com/Apicurio/apicurio-registry/commit/35c1b6d2ccee55abbc4fd7ebe8a08049245d788a", "committedDate": "2020-08-26T14:58:42Z", "message": "Add retry/wait in tests when new artifact version is created\n\nSigned-off-by: Andrew Borley <borley@uk.ibm.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "779a866ee82ff3912409f976e12efdfdceec1222", "author": {"user": {"login": "ajborley", "name": "Andrew Borley"}}, "url": "https://github.com/Apicurio/apicurio-registry/commit/779a866ee82ff3912409f976e12efdfdceec1222", "committedDate": "2020-08-26T14:08:32Z", "message": "Add retry/wait in tests when new artifact version is created\n\nSigned-off-by: Andrew Borley <borley@uk.ibm.com>"}, "afterCommit": {"oid": "35c1b6d2ccee55abbc4fd7ebe8a08049245d788a", "author": {"user": {"login": "ajborley", "name": "Andrew Borley"}}, "url": "https://github.com/Apicurio/apicurio-registry/commit/35c1b6d2ccee55abbc4fd7ebe8a08049245d788a", "committedDate": "2020-08-26T14:58:42Z", "message": "Add retry/wait in tests when new artifact version is created\n\nSigned-off-by: Andrew Borley <borley@uk.ibm.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc2Njk2NDk2", "url": "https://github.com/Apicurio/apicurio-registry/pull/789#pullrequestreview-476696496", "createdAt": "2020-08-27T13:01:52Z", "commit": {"oid": "35c1b6d2ccee55abbc4fd7ebe8a08049245d788a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4413, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}