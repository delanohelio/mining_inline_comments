{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE5ODU4ODg1", "number": 495, "title": "Add proxy settings to ui", "bodyText": "Add proxy settings too ui to support building behind a firewall.", "createdAt": "2020-05-19T03:46:15Z", "url": "https://github.com/Apicurio/apicurio-registry/pull/495", "merged": true, "mergeCommit": {"oid": "f6754a2aa4bb717e8981c92491779408b6f719c1"}, "closed": true, "closedAt": "2020-05-19T18:07:33Z", "author": {"login": "cunningt"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcizk6XgFqTQxNDM5MDY4NA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABci4ecxgFqTQxNDY5OTMyNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE0MzkwNjg0", "url": "https://github.com/Apicurio/apicurio-registry/pull/495#pullrequestreview-414390684", "createdAt": "2020-05-19T12:24:59Z", "commit": {"oid": "652653c5e5c3364075caf73211d05e35165aabde"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQxMjoyNDo1OVrOGXd5Tw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQxMjoyNDo1OVrOGXd5Tw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzI2MDIzOQ==", "bodyText": "What are these for?  I see they are setting the os.type property but I can't see where that property is used.  Used implicitly somewhere?", "url": "https://github.com/Apicurio/apicurio-registry/pull/495#discussion_r427260239", "createdAt": "2020-05-19T12:24:59Z", "author": {"login": "EricWittmann"}, "path": "ui/pom.xml", "diffHunk": "@@ -104,5 +106,195 @@\n             </plugin>\n         </plugins>\n     </build>\n-\n+    <profiles>\n+        <profile>\n+            <id>with-proxy</id>\n+            <activation>\n+            <property>\n+                <name>proxy-server</name>\n+            </property>\n+            </activation>\n+            <properties>\n+                <yarn-install-args>--network-concurrency=30 --child-concurrency=1 --network-timeout=100000</yarn-install-args>\n+            </properties>\n+            <build>\n+            <plugins>\n+                <plugin>\n+                    <artifactId>maven-enforcer-plugin</artifactId>\n+                    <executions>\n+                        <execution>\n+                        <id>require-proxy-properties</id>\n+                        <goals>\n+                            <goal>enforce</goal>\n+                        </goals>\n+                        <configuration>\n+                            <rules>\n+                            <requireProperty>\n+                                <property>proxy-user</property>\n+                            </requireProperty>\n+                            <requireProperty>\n+                                <property>proxy-password</property>\n+                            </requireProperty>\n+                            <requireProperty>\n+                                <property>proxy-port</property>\n+                            </requireProperty>\n+                            </rules>\n+                            <fail>true</fail>\n+                        </configuration>\n+                        </execution>\n+                    </executions>\n+                </plugin>\n+                <plugin>\n+                    <groupId>com.github.eirslett</groupId>\n+                    <artifactId>frontend-maven-plugin</artifactId>\n+                    <executions>\n+                        <execution>\n+                            <id>set https proxy</id>\n+                            <phase>generate-sources</phase>\n+                            <goals>\n+                                <goal>yarn</goal>\n+                            </goals>\n+                            <configuration>\n+                                <arguments>config set https-proxy http://${proxy-user}:${proxy-password}@${proxy-server}:${proxy-port}</arguments>\n+                            </configuration>\n+                        </execution>\n+                        <execution>\n+                            <id>set http proxy</id>\n+                            <phase>generate-sources</phase>\n+                            <goals>\n+                                <goal>yarn</goal>\n+                            </goals>\n+                            <configuration>\n+                                <arguments>config set proxy http://${proxy-user}:${proxy-password}@${proxy-server}:${proxy-port}</arguments>\n+                            </configuration>\n+                        </execution>\n+                        <execution>\n+                            <id>set maxconn</id>\n+                            <phase>generate-sources</phase>\n+                            <goals>\n+                                <goal>yarn</goal>\n+                            </goals>\n+                            <configuration>\n+                                <arguments>config set maxsockets 30</arguments>\n+                            </configuration>\n+                        </execution>\n+                    </executions>\n+                    </plugin>\n+                </plugins>\n+            </build>\n+        </profile>\n+        <profile>\n+            <id>with-custom-registry</id>\n+            <activation>\n+            <property>\n+                <name>custom-registry</name>\n+            </property>\n+            </activation>\n+            <build>\n+                <plugins>\n+                    <plugin>\n+                        <groupId>com.github.eirslett</groupId>\n+                        <artifactId>frontend-maven-plugin</artifactId>\n+                        <executions>\n+                            <execution>\n+                            <id>yarn set registry</id>\n+                            <phase>generate-sources</phase>\n+                            <goals>\n+                                <goal>yarn</goal>\n+                            </goals>\n+                            <configuration>\n+                                <arguments>config set registry ${custom-registry}</arguments>\n+                            </configuration>\n+                            </execution>\n+                        </executions>\n+                    </plugin>\n+                </plugins>\n+            </build>\n+        </profile>\n+        <profile>\n+            <id>with-custom-cafile</id>\n+            <activation>\n+                <property>\n+                <name>custom-cafile</name>\n+                </property>\n+            </activation>\n+            <build>\n+                <plugins>\n+                <plugin>\n+                    <groupId>com.github.eirslett</groupId>\n+                    <artifactId>frontend-maven-plugin</artifactId>\n+                    <executions>\n+                    <execution>\n+                        <id>yarn set cafile</id>\n+                        <phase>generate-sources</phase>\n+                        <goals>\n+                        <goal>yarn</goal>\n+                        </goals>\n+                        <configuration>\n+                        <arguments>config set cafile ${custom-cafile}</arguments>\n+                        </configuration>\n+                    </execution>\n+                    </executions>\n+                </plugin>\n+                </plugins>\n+            </build>\n+        </profile>\n+        <profile>\n+            <id>insecure</id>\n+            <build>\n+            <plugins>\n+                <plugin>\n+                    <groupId>com.github.eirslett</groupId>\n+                    <artifactId>frontend-maven-plugin</artifactId>\n+                    <executions>\n+                        <execution>\n+                            <id>yarn set no-strict ssl</id>\n+                            <phase>generate-sources</phase>\n+                            <goals>\n+                            <goal>yarn</goal>\n+                            </goals>\n+                            <configuration>\n+                            <arguments>config set strict-ssl false</arguments>\n+                            </configuration>\n+                        </execution>\n+                    </executions>\n+                </plugin>\n+                </plugins>\n+            </build>\n+        </profile>\n+        <profile>\n+            <id>verbose</id>\n+            <properties>\n+                <yarn-verbose>--verbose</yarn-verbose>\n+                <npm-verbose>--loglevel=silly</npm-verbose>\n+            </properties>\n+        </profile>\n+        <profile>\n+            <id>macosx</id>\n+            <activation>\n+                <os><family>mac</family></os>\n+            </activation>\n+            <properties>\n+                <os.type>darwin</os.type>\n+            </properties>\n+        </profile>\n+        <profile>\n+            <id>linux</id>\n+            <activation>\n+                <os><name>Linux</name></os>\n+            </activation>\n+            <properties>\n+                <os.type>linux</os.type>\n+            </properties>\n+        </profile>\n+        <profile>\n+            <id>windows</id>\n+            <activation>\n+                <os><name>Windows</name></os>\n+            </activation>\n+            <properties>\n+                <os.type>win32</os.type>\n+            </properties>\n+        </profile>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "652653c5e5c3364075caf73211d05e35165aabde"}, "originalPosition": 222}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c4de9c553b78ea95385700ce3974b0f6eb9e5802", "author": {"user": {"login": "cunningt", "name": "Tom Cunningham"}}, "url": "https://github.com/Apicurio/apicurio-registry/commit/c4de9c553b78ea95385700ce3974b0f6eb9e5802", "committedDate": "2020-05-19T17:22:20Z", "message": "Add proxy settings to ui"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c8548e326e3924affcb8454a65f51f49a682e71e", "author": {"user": {"login": "cunningt", "name": "Tom Cunningham"}}, "url": "https://github.com/Apicurio/apicurio-registry/commit/c8548e326e3924affcb8454a65f51f49a682e71e", "committedDate": "2020-05-19T17:22:53Z", "message": "Remove unused os profiles."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "652653c5e5c3364075caf73211d05e35165aabde", "author": {"user": {"login": "cunningt", "name": "Tom Cunningham"}}, "url": "https://github.com/Apicurio/apicurio-registry/commit/652653c5e5c3364075caf73211d05e35165aabde", "committedDate": "2020-05-19T03:45:12Z", "message": "Add proxy settings to ui"}, "afterCommit": {"oid": "c8548e326e3924affcb8454a65f51f49a682e71e", "author": {"user": {"login": "cunningt", "name": "Tom Cunningham"}}, "url": "https://github.com/Apicurio/apicurio-registry/commit/c8548e326e3924affcb8454a65f51f49a682e71e", "committedDate": "2020-05-19T17:22:53Z", "message": "Remove unused os profiles."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE0Njk5MzI1", "url": "https://github.com/Apicurio/apicurio-registry/pull/495#pullrequestreview-414699325", "createdAt": "2020-05-19T18:07:27Z", "commit": {"oid": "c8548e326e3924affcb8454a65f51f49a682e71e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4497, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}