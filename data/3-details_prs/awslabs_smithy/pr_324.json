{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkzOTIxNjk5", "number": 324, "title": "Make error message more clear for duplicate shapes", "bodyText": "This commit updates model loaders to fail at the point that a duplicate\nshape definition is detected in a file. This results in clearer error\nmessages when a shape is defined with the same name, particularly if one\nconflicting shape supports members while the other does not. Previously,\nin this case, a cryptic error message would be returned stating that a\nmember cannot be added to a builder:\nMember `example.foo#Bar$Baz` cannot be added to software.amazon.smithy.model.shapes.OperationShape$Builder\n\nThis now becomes:\n[ERROR] -: Duplicate shape definition for `example.foo#Bar$Baz` found at `/path/file.smithy [3, 1]` and `/path/file.smithy [5, 1]` | Model\n\nIssue #, if available:\nDescription of changes:\nBy submitting this pull request, I confirm that my contribution is made under the terms of the Apache 2.0 license.", "createdAt": "2020-03-26T02:31:23Z", "url": "https://github.com/awslabs/smithy/pull/324", "merged": true, "mergeCommit": {"oid": "28a3493af8df49e533e1bcf746eaaa00b014936a"}, "closed": true, "closedAt": "2020-03-26T16:18:25Z", "author": {"login": "mtdowling"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcRSouTAH2gAyMzkzOTIxNjk5OmQwNDgzMWQyYmZlZjdiMjAxYTJlMTkzNjk3OTAzODhlYzg1MmYxNWQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcReeuBAFqTM4MjE3MDc1Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "d04831d2bfef7b201a2e19369790388ec852f15d", "author": {"user": {"login": "mtdowling", "name": "Michael Dowling"}}, "url": "https://github.com/awslabs/smithy/commit/d04831d2bfef7b201a2e19369790388ec852f15d", "committedDate": "2020-03-26T02:25:34Z", "message": "Make error message more clear for duplicate shapes\n\nThis commit updates model loaders to fail at the point that a duplicate\nshape definition is detected in a file. This results in clearer error\nmessages when a shape is defined with the same name, particularly if one\nconflicting shape supports members while the other does not. Previously,\nin this case, a cryptic error message would be returned stating that a\nmember cannot be added to a builder:\n\n    Member `example.foo#Bar$Baz` cannot be added to\n    software.amazon.smithy.model.shapes.OperationShape$Builder\n\nThis now becomes:\n\n    [ERROR] -: Duplicate shape definition for\n    `example.foo#Bar$Baz` found at\n    `/path/file.smithy [3, 1]` and `/path/file.smithy [5, 1]` | Model"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgxNjYzNzU4", "url": "https://github.com/awslabs/smithy/pull/324#pullrequestreview-381663758", "createdAt": "2020-03-26T02:31:40Z", "commit": {"oid": "d04831d2bfef7b201a2e19369790388ec852f15d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQwMjozMTo0MFrOF71RpA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQwMjozMTo0MFrOF71RpA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODI4MzE3Mg==", "bodyText": "This try/catch wasn't necessary", "url": "https://github.com/awslabs/smithy/pull/324#discussion_r398283172", "createdAt": "2020-03-26T02:31:40Z", "author": {"login": "mtdowling"}, "path": "smithy-model/src/main/java/software/amazon/smithy/model/loader/ModelLoader.java", "diffHunk": "@@ -54,28 +53,18 @@ private ModelLoader() {}\n      * @throws SourceException if there is an error reading from the contents.\n      */\n     static boolean load(String filename, Supplier<InputStream> contentSupplier, LoaderVisitor visitor) {\n-        try {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d04831d2bfef7b201a2e19369790388ec852f15d"}, "originalPosition": 12}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgyMTcwNzUy", "url": "https://github.com/awslabs/smithy/pull/324#pullrequestreview-382170752", "createdAt": "2020-03-26T16:13:30Z", "commit": {"oid": "d04831d2bfef7b201a2e19369790388ec852f15d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2340, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}