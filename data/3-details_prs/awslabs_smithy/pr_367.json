{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAyMTA4NTI2", "number": 367, "title": "Clean up and document OpenAPI conversion", "bodyText": "Filled in lots of details in OpenAPI docs\nAdded apiGatewayType to filter mappers based on the kind of API being\ncreated.\nAdded filtering to API Gateway OpenAPI mappers based on apiGatewayType\nusing a decorator.\nExtensions now are loaded at the top-level in JSON schema\nconfiguration in a flat keyspace\nAdded a missing feature in the API Gateway converter that forced the\nused of alphanumeric JSON schema type names.\nAdded the ability to inject default configuration settings in OpenAPI\nmappers prior to using the configuration. This allowed injecting the\ndefault alphanumeric properties value.\n\nIssue #, if available:\nDescription of changes:\nBy submitting this pull request, I confirm that my contribution is made under the terms of the Apache 2.0 license.", "createdAt": "2020-04-10T23:59:01Z", "url": "https://github.com/awslabs/smithy/pull/367", "merged": true, "mergeCommit": {"oid": "385d67410be83eac93b3b717849ef23273f91116"}, "closed": true, "closedAt": "2020-04-13T17:16:43Z", "author": {"login": "mtdowling"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcWrB0LgBqjMyMjQ0MTg0MDg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcXSKQXAFqTM5MjI4OTEwMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ac831ba48151cb7c23608f005637085b56199fdf", "author": {"user": {"login": "mtdowling", "name": "Michael Dowling"}}, "url": "https://github.com/awslabs/smithy/commit/ac831ba48151cb7c23608f005637085b56199fdf", "committedDate": "2020-04-10T23:56:07Z", "message": "Clean up and document OpenAPI conversion\n\n- Filled in lots of details in OpenAPI docs\n- Added apiGatewayType to filter mappers based on the kind of API being\n  created.\n- Added filtering to API Gateway OpenAPI mappers based on apiGatewayType\n  using a decorator.\n- Extensions now are loaded at the top-level in JSON schema\n  configuration in a flat keyspace\n- Added a missing feature in the API Gateway converter that forced the\n  used of alphanumeric JSON schema type names.\n- Added the ability to inject default configuration settings in OpenAPI\n  mappers prior to using the configuration. This allowed injecting the\n  default alphanumeric properties value."}, "afterCommit": {"oid": "52633f1e5e1cc8e72a593f61c68ecc34fab3d4cf", "author": {"user": {"login": "mtdowling", "name": "Michael Dowling"}}, "url": "https://github.com/awslabs/smithy/commit/52633f1e5e1cc8e72a593f61c68ecc34fab3d4cf", "committedDate": "2020-04-11T19:40:13Z", "message": "Clean up and document OpenAPI conversion\n\n- Filled in lots of details in OpenAPI docs\n- Added apiGatewayType to filter mappers based on the kind of API being\n  created.\n- Added filtering to API Gateway OpenAPI mappers based on apiGatewayType\n  using a decorator.\n- Extensions now are loaded at the top-level in JSON schema\n  configuration in a flat keyspace\n- Added a missing feature in the API Gateway converter that forced the\n  used of alphanumeric JSON schema type names.\n- Added the ability to inject default configuration settings in OpenAPI\n  mappers prior to using the configuration. This allowed injecting the\n  default alphanumeric properties value."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "52633f1e5e1cc8e72a593f61c68ecc34fab3d4cf", "author": {"user": {"login": "mtdowling", "name": "Michael Dowling"}}, "url": "https://github.com/awslabs/smithy/commit/52633f1e5e1cc8e72a593f61c68ecc34fab3d4cf", "committedDate": "2020-04-11T19:40:13Z", "message": "Clean up and document OpenAPI conversion\n\n- Filled in lots of details in OpenAPI docs\n- Added apiGatewayType to filter mappers based on the kind of API being\n  created.\n- Added filtering to API Gateway OpenAPI mappers based on apiGatewayType\n  using a decorator.\n- Extensions now are loaded at the top-level in JSON schema\n  configuration in a flat keyspace\n- Added a missing feature in the API Gateway converter that forced the\n  used of alphanumeric JSON schema type names.\n- Added the ability to inject default configuration settings in OpenAPI\n  mappers prior to using the configuration. This allowed injecting the\n  default alphanumeric properties value."}, "afterCommit": {"oid": "96aa9a07cbcb36669e78c56b43b2a5286cd708bb", "author": {"user": {"login": "mtdowling", "name": "Michael Dowling"}}, "url": "https://github.com/awslabs/smithy/commit/96aa9a07cbcb36669e78c56b43b2a5286cd708bb", "committedDate": "2020-04-12T20:02:07Z", "message": "Clean up and document OpenAPI conversion\n\n- Filled in lots of details in OpenAPI docs\n- Added apiGatewayType to filter mappers based on the kind of API being\n  created.\n- Added filtering to API Gateway OpenAPI mappers based on apiGatewayType\n  using a decorator.\n- Extensions now are loaded at the top-level in JSON schema\n  configuration in a flat keyspace\n- Added a missing feature in the API Gateway converter that forced the\n  used of alphanumeric JSON schema type names.\n- Added the ability to inject default configuration settings in OpenAPI\n  mappers prior to using the configuration. This allowed injecting the\n  default alphanumeric properties value."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkyMjc4NjU0", "url": "https://github.com/awslabs/smithy/pull/367#pullrequestreview-392278654", "createdAt": "2020-04-13T16:59:38Z", "commit": {"oid": "ac831ba48151cb7c23608f005637085b56199fdf"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xM1QxNjo1OTo1N1rOGEtOHA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xM1QxNzowMDoyNFrOGEtO9w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzU4ODM4MA==", "bodyText": "This should link down to the section on AWS CloudFormation Substitutions.", "url": "https://github.com/awslabs/smithy/pull/367#discussion_r407588380", "createdAt": "2020-04-13T16:59:57Z", "author": {"login": "kstich"}, "path": "docs/source/guides/converting-to-openapi.rst", "diffHunk": "@@ -529,8 +639,54 @@ dependency on ``software.amazon.smithy:smithy-aws-apigateway-openapi``.\n     }\n \n \n+Amazon API Gateway configuration settings\n+=========================================\n+\n+apiGatewayType (``string``)\n+    Defines the type of API Gateway to define in the generated OpenAPI model.\n+    This setting influences which API Gateway specific plugins apply\n+    to the generated OpenAPI model.\n+\n+    This setting can be set to one of the following:\n+\n+    * ``REST``: Generates a `REST API`_. This is the default setting if not\n+      configured.\n+    * ``HTTP``: Generates an `HTTP API`_.\n+    * ``DISABLED``: Disables all API Gateway modifications made to the\n+      OpenAPI model. This is useful if ``software.amazon.smithy:smithy-aws-apigateway-openapi``\n+      is inadvertently placed on the classpath by a dependency.\n+\n+    .. code-block:: json\n+\n+        {\n+            \"version\": \"1.0\",\n+            \"plugins\": {\n+                \"openapi\": {\n+                    \"service\": \"smithy.example#Weather\",\n+                    \"apiGatewayType\": \"REST\"\n+                }\n+            }\n+        }\n+\n+disableCloudFormationSubstitution (``boolean``)\n+    Disables automatically converting ``${}`` templates in specific properties", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "96aa9a07cbcb36669e78c56b43b2a5286cd708bb"}, "originalPosition": 235}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzU4ODU5OQ==", "bodyText": "s/trait/traits", "url": "https://github.com/awslabs/smithy/pull/367#discussion_r407588599", "createdAt": "2020-04-13T17:00:24Z", "author": {"login": "kstich"}, "path": "docs/source/guides/converting-to-openapi.rst", "diffHunk": "@@ -596,28 +752,29 @@ OpenAPI extension.\n .. _apigateway-integrations:\n \n Integrations\n-------------\n+============\n \n Smithy models can specify the backend integration configuration that\n Amazon API Gateway uses to for an operation.\n \n-* ``aws.apigateway#integration`` trait defines an API Gateway integration\n-  that calls an actual backend.\n-* ``aws.apigateway#mockIntegration`` defines an API Gateway mock integration\n-  that doesn't call a backend.\n+* The :ref:`aws.apigateway#integration-trait` defines an API Gateway\n+  integration that calls an actual backend.\n+* The :ref:`aws.apigateway#mockIntegration-trait` defines an API Gateway mock\n+  integration that doesn't call a backend.\n \n-If the trait is applied to a service shape, then all operations in the service\n-use the integration. If the trait is defined on a resource shape, then all\n-operations of the resource and all child resources use the integration. If\n-the trait is applied to an operation, then the operation uses a specific\n-integration that overrides any integration inherited from a resource or\n-service.\n+If either of the above trait is applied to a service shape, then all", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "96aa9a07cbcb36669e78c56b43b2a5286cd708bb"}, "originalPosition": 291}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4da5e1cd3f5d0264de1f73314f895bc7e612de7b", "author": {"user": {"login": "mtdowling", "name": "Michael Dowling"}}, "url": "https://github.com/awslabs/smithy/commit/4da5e1cd3f5d0264de1f73314f895bc7e612de7b", "committedDate": "2020-04-13T17:14:06Z", "message": "Clean up and document OpenAPI conversion\n\n- Filled in lots of details in OpenAPI docs\n- Added apiGatewayType to filter mappers based on the kind of API being\n  created.\n- Added filtering to API Gateway OpenAPI mappers based on apiGatewayType\n  using a decorator.\n- Extensions now are loaded at the top-level in JSON schema\n  configuration in a flat keyspace\n- Added a missing feature in the API Gateway converter that forced the\n  used of alphanumeric JSON schema type names.\n- Added the ability to inject default configuration settings in OpenAPI\n  mappers prior to using the configuration. This allowed injecting the\n  default alphanumeric properties value."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "96aa9a07cbcb36669e78c56b43b2a5286cd708bb", "author": {"user": {"login": "mtdowling", "name": "Michael Dowling"}}, "url": "https://github.com/awslabs/smithy/commit/96aa9a07cbcb36669e78c56b43b2a5286cd708bb", "committedDate": "2020-04-12T20:02:07Z", "message": "Clean up and document OpenAPI conversion\n\n- Filled in lots of details in OpenAPI docs\n- Added apiGatewayType to filter mappers based on the kind of API being\n  created.\n- Added filtering to API Gateway OpenAPI mappers based on apiGatewayType\n  using a decorator.\n- Extensions now are loaded at the top-level in JSON schema\n  configuration in a flat keyspace\n- Added a missing feature in the API Gateway converter that forced the\n  used of alphanumeric JSON schema type names.\n- Added the ability to inject default configuration settings in OpenAPI\n  mappers prior to using the configuration. This allowed injecting the\n  default alphanumeric properties value."}, "afterCommit": {"oid": "4da5e1cd3f5d0264de1f73314f895bc7e612de7b", "author": {"user": {"login": "mtdowling", "name": "Michael Dowling"}}, "url": "https://github.com/awslabs/smithy/commit/4da5e1cd3f5d0264de1f73314f895bc7e612de7b", "committedDate": "2020-04-13T17:14:06Z", "message": "Clean up and document OpenAPI conversion\n\n- Filled in lots of details in OpenAPI docs\n- Added apiGatewayType to filter mappers based on the kind of API being\n  created.\n- Added filtering to API Gateway OpenAPI mappers based on apiGatewayType\n  using a decorator.\n- Extensions now are loaded at the top-level in JSON schema\n  configuration in a flat keyspace\n- Added a missing feature in the API Gateway converter that forced the\n  used of alphanumeric JSON schema type names.\n- Added the ability to inject default configuration settings in OpenAPI\n  mappers prior to using the configuration. This allowed injecting the\n  default alphanumeric properties value."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkyMjg5MTAx", "url": "https://github.com/awslabs/smithy/pull/367#pullrequestreview-392289101", "createdAt": "2020-04-13T17:15:50Z", "commit": {"oid": "4da5e1cd3f5d0264de1f73314f895bc7e612de7b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2256, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}