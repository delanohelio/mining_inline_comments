{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk0OTQ3MDEz", "number": 583, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQyMDoyNjo0N1rOEovIaA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQyMjozNjozOVrOEoyDaA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzExMTUwNjk2OnYy", "diffSide": "RIGHT", "path": "docs/source/1.0/guides/converting-to-openapi.rst", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQyMDoyNjo0N1rOHZ_5Jw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQyMDo1NDo1MFrOHaBc3g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzAyMzI3MQ==", "bodyText": "I'd call this preflight requests and not integrations. We'll use this same configuration for HTTP APIs, and they don't require a preflight integration the same was as the REST APIs do.", "url": "https://github.com/awslabs/smithy/pull/583#discussion_r497023271", "createdAt": "2020-09-29T20:26:47Z", "author": {"login": "mtdowling"}, "path": "docs/source/1.0/guides/converting-to-openapi.rst", "diffHunk": "@@ -691,6 +691,24 @@ disableCloudFormationSubstitution (``boolean``)\n     .. seealso:: :ref:`openapi-cfn-substitutions`\n \n \n+additionalAllowedCorsHeaders (``[string]``)\n+    Sets additional allowed CORS headers on the preflight integration. If this", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f3e51a704689f9f3082e47d796b6a2c9ad456f38"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzA0ODc5OA==", "bodyText": "Updated the docs.", "url": "https://github.com/awslabs/smithy/pull/583#discussion_r497048798", "createdAt": "2020-09-29T20:54:50Z", "author": {"login": "srchase"}, "path": "docs/source/1.0/guides/converting-to-openapi.rst", "diffHunk": "@@ -691,6 +691,24 @@ disableCloudFormationSubstitution (``boolean``)\n     .. seealso:: :ref:`openapi-cfn-substitutions`\n \n \n+additionalAllowedCorsHeaders (``[string]``)\n+    Sets additional allowed CORS headers on the preflight integration. If this", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzAyMzI3MQ=="}, "originalCommit": {"oid": "f3e51a704689f9f3082e47d796b6a2c9ad456f38"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzExMTk4NTY4OnYy", "diffSide": "RIGHT", "path": "smithy-aws-apigateway-openapi/src/main/java/software/amazon/smithy/aws/apigateway/openapi/AddCorsPreflightIntegration.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQyMjozNjozOVrOHaEliQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQyMjozNjozOVrOHaEliQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzEwMDE2OQ==", "bodyText": "nit: headerNames.addAll(additionalAllowedHeaders)", "url": "https://github.com/awslabs/smithy/pull/583#discussion_r497100169", "createdAt": "2020-09-29T22:36:39Z", "author": {"login": "mtdowling"}, "path": "smithy-aws-apigateway-openapi/src/main/java/software/amazon/smithy/aws/apigateway/openapi/AddCorsPreflightIntegration.java", "diffHunk": "@@ -112,6 +112,14 @@ private static PathItem addPreflightIntegration(\n         // add headers during the Smithy to OpenAPI conversion process will need to update this\n         // list of headers accordingly.\n         Set<String> headerNames = new TreeSet<>(corsTrait.getAdditionalAllowedHeaders());\n+\n+        // Sets additional allowed headers from the API Gateway config.\n+        List<String> additionalAllowedHeaders = context.getConfig().getExtensions(ApiGatewayConfig.class)\n+                .getAdditionalAllowedCorsHeaders();\n+        for (String header : additionalAllowedHeaders) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6a014d07f96044e84a190fdffae3cfb6acbe05d6"}, "originalPosition": 8}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3620, "cost": 1, "resetAt": "2021-11-12T11:18:39Z"}}}