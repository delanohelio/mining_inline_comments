{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYyODc0OTUz", "number": 258, "title": "Add aws.ec2 protocol tests", "bodyText": "Issue #, if available:\nDescription of changes:\nBy submitting this pull request, I confirm that my contribution is made under the terms of the Apache 2.0 license.", "createdAt": "2020-01-14T22:47:00Z", "url": "https://github.com/awslabs/smithy/pull/258", "merged": true, "mergeCommit": {"oid": "01b27467f1179dce009edcd3ef5fc90ea77abcc1"}, "closed": true, "closedAt": "2020-01-14T23:18:34Z", "author": {"login": "mtdowling"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb6ZVdQAFqTM0MjkwMTAxMg==", "endCursor": "Y3Vyc29yOnYyOpPPAAABb6ZZrwgFqTM0MjkwMzEwOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQyOTAxMDEy", "url": "https://github.com/awslabs/smithy/pull/258#pullrequestreview-342901012", "createdAt": "2020-01-14T23:12:23Z", "commit": {"oid": "288340529f082c09a50867e3eb41c5e746585b08"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNFQyMzoxMjoyM1rOFdo1SA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNFQyMzoxMzowNVrOFdo2Gw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjYyMjAyNA==", "bodyText": "Looks out of sync with the params (\"val\" vs \"val1\").\nAlso missed in review on the query protocol.", "url": "https://github.com/awslabs/smithy/pull/258#discussion_r366622024", "createdAt": "2020-01-14T23:12:23Z", "author": {"login": "kstich"}, "path": "smithy-aws-protocol-tests/src/main/resources/META-INF/smithy/ec2-query/input.smithy", "diffHunk": "@@ -0,0 +1,362 @@\n+// This file defines test cases that test the basics of input serialization.\n+\n+$version: \"0.5.0\"\n+\n+namespace aws.protocols.tests.ec2\n+\n+use aws.api#ec2QueryName\n+use aws.protocols.tests.shared#EpochSeconds\n+use aws.protocols.tests.shared#FooEnum\n+use smithy.test#httpRequestTests\n+\n+/// This test serializes strings, numbers, and boolean values.\n+operation SimpleInputParams {\n+    input: SimpleInputParamsInput\n+}\n+\n+apply SimpleInputParams @httpRequestTests([\n+    {\n+        id: \"Ec2SimpleInputParamsStrings\",\n+        description: \"Serializes strings\",\n+        protocol: \"aws.ec2\",\n+        method: \"POST\",\n+        uri: \"/\",\n+        headers: {\n+            \"Content-Type\": \"application/x-www-form-urlencoded\"\n+        },\n+        body: \"\"\"\n+              Action=SimpleInputParams\n+              &Version=2020-01-08\n+              &Foo=val1\n+              &Bar=val2\"\"\",\n+        bodyMediaType: \"application/x-www-form-urlencoded\",\n+        params: {\n+            Foo: \"val1\",\n+            Bar: \"val2\"\n+        }\n+    },\n+    {\n+        id: \"Ec2SimpleInputParamsStringAndBooleanTrue\",\n+        description: \"Serializes booleans that are true\",\n+        protocol: \"aws.ec2\",\n+        method: \"POST\",\n+        uri: \"/\",\n+        headers: {\n+            \"Content-Type\": \"application/x-www-form-urlencoded\"\n+        },\n+        body: \"\"\"\n+              Action=SimpleInputParams\n+              &Version=2020-01-08\n+              &Foo=val", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "288340529f082c09a50867e3eb41c5e746585b08"}, "originalPosition": 50}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjYyMjIzNQ==", "bodyText": "Looks out of sync with the params (exists here, doesn't in params).\nAlso missed in review on the query protocol.", "url": "https://github.com/awslabs/smithy/pull/258#discussion_r366622235", "createdAt": "2020-01-14T23:13:05Z", "author": {"login": "kstich"}, "path": "smithy-aws-protocol-tests/src/main/resources/META-INF/smithy/ec2-query/input.smithy", "diffHunk": "@@ -0,0 +1,362 @@\n+// This file defines test cases that test the basics of input serialization.\n+\n+$version: \"0.5.0\"\n+\n+namespace aws.protocols.tests.ec2\n+\n+use aws.api#ec2QueryName\n+use aws.protocols.tests.shared#EpochSeconds\n+use aws.protocols.tests.shared#FooEnum\n+use smithy.test#httpRequestTests\n+\n+/// This test serializes strings, numbers, and boolean values.\n+operation SimpleInputParams {\n+    input: SimpleInputParamsInput\n+}\n+\n+apply SimpleInputParams @httpRequestTests([\n+    {\n+        id: \"Ec2SimpleInputParamsStrings\",\n+        description: \"Serializes strings\",\n+        protocol: \"aws.ec2\",\n+        method: \"POST\",\n+        uri: \"/\",\n+        headers: {\n+            \"Content-Type\": \"application/x-www-form-urlencoded\"\n+        },\n+        body: \"\"\"\n+              Action=SimpleInputParams\n+              &Version=2020-01-08\n+              &Foo=val1\n+              &Bar=val2\"\"\",\n+        bodyMediaType: \"application/x-www-form-urlencoded\",\n+        params: {\n+            Foo: \"val1\",\n+            Bar: \"val2\"\n+        }\n+    },\n+    {\n+        id: \"Ec2SimpleInputParamsStringAndBooleanTrue\",\n+        description: \"Serializes booleans that are true\",\n+        protocol: \"aws.ec2\",\n+        method: \"POST\",\n+        uri: \"/\",\n+        headers: {\n+            \"Content-Type\": \"application/x-www-form-urlencoded\"\n+        },\n+        body: \"\"\"\n+              Action=SimpleInputParams\n+              &Version=2020-01-08\n+              &Foo=val\n+              &Baz=true\"\"\",\n+        bodyMediaType: \"application/x-www-form-urlencoded\",\n+        params: {\n+            Foo: \"val1\",\n+            Baz: true,\n+        }\n+    },\n+    {\n+        id: \"Ec2SimpleInputParamsStringsAndBooleanFalse\",\n+        description: \"Serializes booleans that are false\",\n+        protocol: \"aws.ec2\",\n+        method: \"POST\",\n+        uri: \"/\",\n+        headers: {\n+            \"Content-Type\": \"application/x-www-form-urlencoded\"\n+        },\n+        body: \"\"\"\n+              Action=SimpleInputParams\n+              &Version=2020-01-08\n+              &Foo=val1", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "288340529f082c09a50867e3eb41c5e746585b08"}, "originalPosition": 70}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2fa64389a1d60ee8a4810ec613157c8a85a48643", "author": {"user": {"login": "mtdowling", "name": "Michael Dowling"}}, "url": "https://github.com/awslabs/smithy/commit/2fa64389a1d60ee8a4810ec613157c8a85a48643", "committedDate": "2020-01-14T23:17:04Z", "message": "Add aws.ec2 protocol tests"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "288340529f082c09a50867e3eb41c5e746585b08", "author": {"user": {"login": "mtdowling", "name": "Michael Dowling"}}, "url": "https://github.com/awslabs/smithy/commit/288340529f082c09a50867e3eb41c5e746585b08", "committedDate": "2020-01-14T22:46:24Z", "message": "Add aws.ec2 protocol tests"}, "afterCommit": {"oid": "2fa64389a1d60ee8a4810ec613157c8a85a48643", "author": {"user": {"login": "mtdowling", "name": "Michael Dowling"}}, "url": "https://github.com/awslabs/smithy/commit/2fa64389a1d60ee8a4810ec613157c8a85a48643", "committedDate": "2020-01-14T23:17:04Z", "message": "Add aws.ec2 protocol tests"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQyOTAzMTA5", "url": "https://github.com/awslabs/smithy/pull/258#pullrequestreview-342903109", "createdAt": "2020-01-14T23:18:13Z", "commit": {"oid": "2fa64389a1d60ee8a4810ec613157c8a85a48643"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2305, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}