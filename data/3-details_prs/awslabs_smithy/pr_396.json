{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA4MTkwNTA5", "number": 396, "title": "Update 1.0.0 changelog", "bodyText": "This commit updates the changelog entry for the 1.0.0 release with\ncontents through PR 394. Breaking changes are annotated with\n[BC] or contained in the Breaking Changes section.\nBy submitting this pull request, I confirm that my contribution is made under the terms of the Apache 2.0 license.\n\nEd. Note: The minor line break issues below are related to copy/paste into the PR description.\n1.0.0 (2020-??-??)\nNote: Changes marked with \"[BC]\" are breaking changes more accurately described in the\nspecific section. A list of further intended breaking changes have a specific section near\nthe end of this entry.\nFeatures\nGeneral\n\nThe model format version has beeen updated to 1.0.0 and contains several updates: [BC] (#357, #381)\n\nThe JSON AST representation requires describing annotation traits as {} instead of true.\nThe IDL representation requires describing annotation traits without true or null values.\n\n\nSmithy models can now be serialized to the IDL. (#284)\nAdded a Node-based object mapper to simplify the process of building and using Java components\nfrom Smithy Nodes. (#301)\n\nMany packages have seen significant updates to use this functionality. (#305, #364)\n\n\nMade error messages clearer when encountering duplicate shapes. (#324)\nModel loaders now warn on additional shape properties instead of fail. (#374)\nAdded expect* methods to the base Shape. (#314)\nAdded @SmithyUnstableApi, @SmithyInternalApi and @SmithyGenerated Java annotations. (#297)\nNodeValidationVisitors are marked as internal and/or unstable. (#375)\n\nTrait updates\n\nIndividual protocols are now defined as individual traits that are annotated with\nthe protocolDefinition trait. [BC] (#273, #280, #379, #390)\n\nPreviously listed AWS protocols now have trait implementations.\n\n\nIndividual authentication schemes are now defined as individual traits that are annotated with\nthe authDefinition trait. [BC] (#273, #280)\n\nPreviously listed authentication schemes now have trait implementations.\n\n\nThe smithy.api#enum trait is now a list of enum definitions instead of a map of string keys to\nenum definitions to improve clarity and encourage adding more properties to definitions. [BC] (#326)\nThe aws.api#streaming trait is now applied to shapes directly instead of members. [BC] (#340)\nThe smithy.api#eventStream trait has been removed. Event streams are now indicated by applying\nthe smithy.api#streaming trait to unions. [BC] (#365)\nThe smithy.api#requiresLength trait has been split out of the smithy.api#streaming trait to\nimprove clarity around event stream modeling. [BC] (#368)\nThe smithy.api#externalDocumentation trait is now a map instead of a single string to allow for\nmultiple links per trait. [BC] (#363)\nAdded the smithy.api#noReplace trait to indicate a PUT lifecycle operation cannot replace the\nexisting resource. (#351)\nAdded the smithy.api#unstable trait to indicate a shape MAY change. (#290)\nAdded the aws.protocols#httpContentMd5 trait to indicate an operation requrest requires a\nsending a Content-MD5 header. (#372)\nSimplified aws.api#unsignedPayload to be an annotation. [BC] (#270)\nAnnotation traits are now lossless when loaded with additional properties, meaning they will\ncontain those properties when serialized. (#385)\n\nSelector updates\nSelectors have received significant updates: (#388)\n\nSupport for selecting nested trait properties with |, including list/object values and object\nkeys, was added.\nAn opt-in trait relationship has been added. (#384)\nThe recursive neighbor selector, ~>, has been added. (#386)\nA not equal comparison, !=, was added.\nSupport for numbers in attribute selectors was added.\nNumeric comparisons (>, >=, <, <=) were added.\nAttribute selectors now support CSV values, allowing matching on one or more target values.\nThe :each selector is now :is for clarity. [BC]\nShape IDs with members must now be quoted. [BC]\nSelector parsing and evaluating now tolerates unknown relationship types. (#377)\n\nValidation updates\n\nServices must now contain a closure of shapes that have case-insensitively unique names. [BC] (#337)\nThe UnreferencedShape validator has moved to smithy-model and is now always run. [BC] (#319)\n\nJSON Schema conversion\nThe conversion to JSON schema was significantly overhauled. [BC] (#274)\n\nConfiguration for the build plugin was significantly overhauled. [BC] (#364)\nThe strategy for shape inlining has been changed. [BC]\nThe strategy for naming shapes and handling shape id conflicts has been changed. [BC]\nOutput schema error detection was improved.\nThe Java API surface has been reduced. [BC]\nAdded the ability to select schemas from a document using a JSON pointer.\n\nOpenAPI conversion\nThe conversion to OpenAPI was significantly overhauled. [BC] (#275)\n\nConfiguration for the build plugin was significantly overhauled.  [BC] (#364)\nProtocol conversion was updated to utilize the new traits. (#275, #392)\nSchemas are now generated for requests and responses instead of being inlined. [BC]\nFixed several issues with CORS integrations.\n\nAPI Gateway OpenAPI conversion\nThe API Gateway specific OpenAPI mappers have been updated. [BC] (#367)\n\nThe ApiGatewayMapper interface was added, allowing mappers to control which API Gateway API\ntype(s) they support.\nFixed several issues with CORS integrations. (#370)\nAdded support for JSON Patch-like OpenAPI schema changes based on JSON Pointers. (#293)\nAdded support for event streams in OpenAPI conversion. (#334)\n\nBug Fixes\n\nFixed an issue in JSON schema conversion where member traits were dropped in some scenarios. (#274)\nFixed an issue where authorization headers were not properly added to CORS configurations. (#328)\nFixed an issue where operation response headers were being applied to error responses in OpenAPI\nconversions. (#275)\nFixed an issue where apply statements wouldn't resolve target shapes properly in some cases. (#287)\nFixed an issue with the selector for the smithy.api#title trait. (#387)\nFixed several issues with the smithy.api#httpApiKeyAuth trait and its related conversions. (#291)\nFixed a bug with timestamp validation in specific versions of Java. (#316)\n\nOptimizations\n\nThe TraitTargetValidator now performs as few checks on and selections of the entire model. (#389)\nThe dependency on jackson-core was replaced with a vendored version of minimal-json to reduce\nthe chances of dependency conflicts. [BC] (#323)\nSped up model loading time by loading JSON models before IDL models to reduce forward\nreference lookups. (#287)\n\nBreaking changes\n\nThe BooleanTrait abstract class in smithy-model was renamed AnnotationTrait. (#381)\nThe traits in the aws.apigateway namespace have moved from smithy-aws-traits to the\nsmithy-aws-apigateway-traits package for more granular use. (#322)\n\nTooling that referenced these traits has also been updated.\n\n\nThe traits in the aws.iam namespace have moved from smithy-aws-traits to the\nsmithy-aws-iam-traits package for more granular use. (#322)\n\nTooling that referenced these traits has also been updated.\n\n\nThe aws.api#ec2QueryName trait has moved to aws.protocols#ec2QueryName. (#286)\nThe aws.api#unsignedPayload  trait has moved to aws.auth#unsignedPayload . (#286)\nThe smithy-codegen-freemarker package has been removed. (#382)\nTraits can no longer be applied to public Smithy Prelude shapes. (#317)\nSmithy's Pattern class is renamed to SmithyPattern to remove the conflict with Java's regex\nPattern class. (#315)\nRemoved the Triple class from smithy-utils. (#313)\nNormalized class names for OpenAPI SecurityScemeConverter implementations. (#291)\n\nDeprecation cleanup\n\nThe deprecated IDL operation syntax has been removed (#373)\nThe deprecated NodeFactory interface has been removed. (#265)\nThe deprecated ShapeIndex class and all related APIs have been removed. (#266)\nSupport for the deprecated 0.4.0 model version has been removed. (#267)\nThe aws.api#service trait no longer supports the deprecated\nsdkServiceId, arnService, or productName properties. (#268)\nThe deprecated TemplateEngine and DefaultDataTemplateEngine have been removed. (#268)\nThe deprecated smithy.validators and smithy.suppressions are no loner used as aliases for\nvalidators and suppressions. (#268)\nThe smithy.api#references and smithy.api#idRef traits no longer support relative shape IDs. (#268)\n\nDocumentation\nA significant overhaul of the specification and guides has been completed. This includes a better\nflow to the spec, more complete guides, deeper documentation of AWS specific components, and a\ncomplete redesign. Many direct links to components of the documentation will have changed.", "createdAt": "2020-04-23T20:53:49Z", "url": "https://github.com/awslabs/smithy/pull/396", "merged": true, "mergeCommit": {"oid": "38bd05b0621753f9dd2b9bf79f05a22a5b4e3b47"}, "closed": true, "closedAt": "2020-04-23T21:33:27Z", "author": {"login": "kstich"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcajeCcAFqTM5OTQ3NzA3OQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcajzjZAFqTM5OTQ5MTc0OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk5NDc3MDc5", "url": "https://github.com/awslabs/smithy/pull/396#pullrequestreview-399477079", "createdAt": "2020-04-23T21:07:32Z", "commit": {"oid": "e968e06071bce2381514619bb9e6febecefb078e"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yM1QyMTowNzozMlrOGK8KCg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yM1QyMTowNzozMlrOGK8KCg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDEyNDU1NA==", "bodyText": "Annotation traits in the IDL are now provided as @foo or @foo(). Explicit true or null support was removed.", "url": "https://github.com/awslabs/smithy/pull/396#discussion_r414124554", "createdAt": "2020-04-23T21:07:32Z", "author": {"login": "mtdowling"}, "path": "CHANGELOG.md", "diffHunk": "@@ -1,13 +1,160 @@\n # Smithy Changelog\n \n-## 0.10.0 (2020-??-??)\n+## 1.0.0 (2020-??-??)\n+\n+***Note***: Changes marked with \"[BC]\" are breaking changes more accurately described in the\n+specific section. A list of further intended breaking changes have a specific section near\n+the end of this entry.\n+\n+### Features\n+\n+#### General\n+\n+* The model format version has beeen updated to `1.0.0` and contains several updates: [BC] ([#357](https://github.com/awslabs/smithy/pull/357), [#381](https://github.com/awslabs/smithy/pull/381))\n+  * The JSON AST representation requires describing annotation traits as `{}` instead of `true`.\n+  * The IDL representation requires describing annotation traits without `true` or `null` values.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e968e06071bce2381514619bb9e6febecefb078e"}, "originalPosition": 16}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f670bb7328704df26cb6eea97b9978268e3c47cb", "author": {"user": {"login": "kstich", "name": "Kevin Stich"}}, "url": "https://github.com/awslabs/smithy/commit/f670bb7328704df26cb6eea97b9978268e3c47cb", "committedDate": "2020-04-23T21:27:42Z", "message": "Update 1.0.0 changelog\n\nThis commit updates the changelog entry for the 1.0.0 release with\nall contents through PR 394. Breaking changes are annotated with\n[BC] or contained in the Breaking Changes section."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e968e06071bce2381514619bb9e6febecefb078e", "author": {"user": {"login": "kstich", "name": "Kevin Stich"}}, "url": "https://github.com/awslabs/smithy/commit/e968e06071bce2381514619bb9e6febecefb078e", "committedDate": "2020-04-23T20:49:14Z", "message": "Update 1.0.0 changelog\n\nThis commit updates the changelog entry for the 1.0.0 release with\nall contents through PR 394. Breaking changes are annotated with\n[BC] or contained in the Breaking Changes section."}, "afterCommit": {"oid": "f670bb7328704df26cb6eea97b9978268e3c47cb", "author": {"user": {"login": "kstich", "name": "Kevin Stich"}}, "url": "https://github.com/awslabs/smithy/commit/f670bb7328704df26cb6eea97b9978268e3c47cb", "committedDate": "2020-04-23T21:27:42Z", "message": "Update 1.0.0 changelog\n\nThis commit updates the changelog entry for the 1.0.0 release with\nall contents through PR 394. Breaking changes are annotated with\n[BC] or contained in the Breaking Changes section."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk5NDkxNzQ5", "url": "https://github.com/awslabs/smithy/pull/396#pullrequestreview-399491749", "createdAt": "2020-04-23T21:31:06Z", "commit": {"oid": "f670bb7328704df26cb6eea97b9978268e3c47cb"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2271, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}