{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk0NTIzNjQ0", "number": 331, "title": "Adds security to individual operations [0.10]", "bodyText": "We previously weren't adding security to individual operations if the\noperation differend from the security of the operation differed from the\nservice because of an applied authorizer trait.\nThis is equivalent to f434db7\nIssue #, if available:\nDescription of changes:\nBy submitting this pull request, I confirm that my contribution is made under the terms of the Apache 2.0 license.", "createdAt": "2020-03-27T03:00:42Z", "url": "https://github.com/awslabs/smithy/pull/331", "merged": true, "mergeCommit": {"oid": "fe82e72ebe6e731b0439c23ebafe47fddefed084"}, "closed": true, "closedAt": "2020-03-27T17:32:11Z", "author": {"login": "mtdowling"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcRz7rKAFqTM4MzA1MTE4Mg==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcR0GlZgFqTM4MzA2MDE4OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgzMDUxMTgy", "url": "https://github.com/awslabs/smithy/pull/331#pullrequestreview-383051182", "createdAt": "2020-03-27T17:13:08Z", "commit": {"oid": "1bf71d4989b34c057fab99dade69bc4008671f5a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yN1QxNzoxMzowOFrOF86jDg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yN1QxNzoxMzowOFrOF86jDg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTQxODEyNg==", "bodyText": "s/only auth security/only add security", "url": "https://github.com/awslabs/smithy/pull/331#discussion_r399418126", "createdAt": "2020-03-27T17:13:08Z", "author": {"login": "kstich"}, "path": "smithy-aws-apigateway-openapi/src/main/java/software/amazon/smithy/aws/apigateway/openapi/AddAuthorizers.java", "diffHunk": "@@ -81,6 +85,31 @@\n                 .orElse(requirement);\n     }\n \n+    @Override\n+    public OperationObject updateOperation(\n+            Context<? extends Trait> context,\n+            OperationShape shape,\n+            OperationObject operation,\n+            String httpMethodName,\n+            String path\n+    ) {\n+        ServiceShape service = context.getService();\n+        AuthorizerIndex authorizerIndex = context.getModel().getKnowledge(AuthorizerIndex.class);\n+\n+        // Get the resolved security schemes of the service and operation, and\n+        // only auth security if it's different than the service.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1bf71d4989b34c057fab99dade69bc4008671f5a"}, "originalPosition": 42}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "51c104f906cc190f125e6b87ab1fe213878dbdc1", "author": {"user": {"login": "mtdowling", "name": "Michael Dowling"}}, "url": "https://github.com/awslabs/smithy/commit/51c104f906cc190f125e6b87ab1fe213878dbdc1", "committedDate": "2020-03-27T17:22:21Z", "message": "Adds security to individual operations\n\nWe previously weren't adding security to individual operations if the\noperation differend from the security of the operation differed from the\nservice because of an applied authorizer trait.\n\nThis is equivalent to 56dd4c0"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1bf71d4989b34c057fab99dade69bc4008671f5a", "author": {"user": {"login": "mtdowling", "name": "Michael Dowling"}}, "url": "https://github.com/awslabs/smithy/commit/1bf71d4989b34c057fab99dade69bc4008671f5a", "committedDate": "2020-03-27T02:59:38Z", "message": "Adds security to individual operations\n\nWe previously weren't adding security to individual operations if the\noperation differend from the security of the operation differed from the\nservice because of an applied authorizer trait.\n\nThis is equivalent to f434db76a841c062bea1d96985d159c8f7b0f2ed"}, "afterCommit": {"oid": "51c104f906cc190f125e6b87ab1fe213878dbdc1", "author": {"user": {"login": "mtdowling", "name": "Michael Dowling"}}, "url": "https://github.com/awslabs/smithy/commit/51c104f906cc190f125e6b87ab1fe213878dbdc1", "committedDate": "2020-03-27T17:22:21Z", "message": "Adds security to individual operations\n\nWe previously weren't adding security to individual operations if the\noperation differend from the security of the operation differed from the\nservice because of an applied authorizer trait.\n\nThis is equivalent to 56dd4c0"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgzMDYwMTg5", "url": "https://github.com/awslabs/smithy/pull/331#pullrequestreview-383060189", "createdAt": "2020-03-27T17:25:03Z", "commit": {"oid": "51c104f906cc190f125e6b87ab1fe213878dbdc1"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2347, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}