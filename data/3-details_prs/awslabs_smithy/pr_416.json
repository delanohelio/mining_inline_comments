{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDEyNzEwMDM1", "number": 416, "title": "Add prioritized least recently added ShapeId cache", "bodyText": "Issue #, if available:\nDescription of changes:\nBy submitting this pull request, I confirm that my contribution is made under the terms of the Apache 2.0 license.", "createdAt": "2020-05-04T02:27:54Z", "url": "https://github.com/awslabs/smithy/pull/416", "merged": true, "mergeCommit": {"oid": "67a64572b790e0214877a9cb19008310d60a20e0"}, "closed": true, "closedAt": "2020-05-04T17:21:15Z", "author": {"login": "mtdowling"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcd2CMEgH2gAyNDEyNzEwMDM1OmRmOGZiMTM0MmQ4YjgyNTI3NjE5ZGNjMDg3OWVkYzVlOWM3M2I1MDA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABceCnkBAFqTQwNTE3OTMyNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "df8fb1342d8b82527619dcc0879edc5e9c73b500", "author": {"user": {"login": "mtdowling", "name": "Michael Dowling"}}, "url": "https://github.com/awslabs/smithy/commit/df8fb1342d8b82527619dcc0879edc5e9c73b500", "committedDate": "2020-05-04T02:27:09Z", "message": "Add prioritized least recently added ShapeId cache"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA1MTM4Mjg1", "url": "https://github.com/awslabs/smithy/pull/416#pullrequestreview-405138285", "createdAt": "2020-05-04T16:14:57Z", "commit": {"oid": "df8fb1342d8b82527619dcc0879edc5e9c73b500"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQxNjoxNDo1N1rOGQHnRA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQxNjoxNDo1N1rOGQHnRA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTU1NTE0MA==", "bodyText": "I think the fromParts functions should route through this cache as well. It's used in LoaderVisitor  for prelude loading.", "url": "https://github.com/awslabs/smithy/pull/416#discussion_r419555140", "createdAt": "2020-05-04T16:14:57Z", "author": {"login": "kstich"}, "path": "smithy-model/src/main/java/software/amazon/smithy/model/shapes/ShapeId.java", "diffHunk": "@@ -59,32 +67,12 @@ private ShapeId(String namespace, String name, String member) {\n     /**\n      * Creates an absolute shape ID from the given string.\n      *\n-     * @param absoluteShapeId Shape ID to parse.\n+     * @param id Shape ID to parse.\n      * @return The parsed ID.\n      * @throws ShapeIdSyntaxException when the ID is malformed.\n      */\n-    public static ShapeId from(String absoluteShapeId) {\n-        int namespacePosition = absoluteShapeId.indexOf('#');\n-        if (namespacePosition <= 0 || namespacePosition == absoluteShapeId.length() - 1) {\n-            throw new ShapeIdSyntaxException(\"Invalid shape ID: \" + absoluteShapeId);\n-        }\n-\n-        String namespace = absoluteShapeId.substring(0, namespacePosition);\n-        String name;\n-        String memberName = null;\n-\n-        int memberPosition = absoluteShapeId.indexOf('$');\n-        if (memberPosition == -1) {\n-            name = absoluteShapeId.substring(namespacePosition + 1);\n-        } else if (memberPosition < namespacePosition) {\n-            throw new ShapeIdSyntaxException(\"Invalid shape ID: \" + absoluteShapeId);\n-        } else {\n-            name = absoluteShapeId.substring(namespacePosition + 1, memberPosition);\n-            memberName = absoluteShapeId.substring(memberPosition + 1);\n-        }\n-\n-        validateParts(absoluteShapeId, namespace, name, memberName);\n-        return new ShapeId(absoluteShapeId, namespace, name, memberName);\n+    public static ShapeId from(String id) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "df8fb1342d8b82527619dcc0879edc5e9c73b500"}, "originalPosition": 60}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7a76c05e13cc14843a22f61ab8ea16a4f4c65e63", "author": {"user": {"login": "mtdowling", "name": "Michael Dowling"}}, "url": "https://github.com/awslabs/smithy/commit/7a76c05e13cc14843a22f61ab8ea16a4f4c65e63", "committedDate": "2020-05-04T17:04:08Z", "message": "Add ShapeId#withNamespace"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA1MTc5MzI0", "url": "https://github.com/awslabs/smithy/pull/416#pullrequestreview-405179324", "createdAt": "2020-05-04T17:06:50Z", "commit": {"oid": "7a76c05e13cc14843a22f61ab8ea16a4f4c65e63"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2284, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}