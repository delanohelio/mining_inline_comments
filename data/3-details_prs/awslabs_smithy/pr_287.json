{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc4NzUxMzk1", "number": 287, "title": "[0.10] Clean up LoaderVisitor and IDL loading", "bodyText": "Ensures that JSON IDL models are loaded before IDL models to reduce forward reference lookups when loading IDL models.\n\n\nMove IDL specific loading logic to IDL\nThis commit moves all IDL-specific model loading logic into the IDL loader and out of the LoaderVisitor. This cleans up the LoaderVisitor and also fixes a bug in how the apply statement wasn't properly resolving the targeted shape ID (it always assumed that the target was in the current namespace).\n\n\nIssue #, if available:\nDescription of changes:\nBy submitting this pull request, I confirm that my contribution is made under the terms of the Apache 2.0 license.", "createdAt": "2020-02-23T21:11:46Z", "url": "https://github.com/awslabs/smithy/pull/287", "merged": true, "mergeCommit": {"oid": "c68e81041a7d28d262af217e278cb34e3e2171aa"}, "closed": true, "closedAt": "2020-02-24T21:44:00Z", "author": {"login": "mtdowling"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcHjgmLAFqTM2MzY2MTQxOA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcHknpDAH2gAyMzc4NzUxMzk1OjFlMWU0ZmFiNjJlZjcwMmZhMzkxNDY4MjcyYWMwM2JmOGI0N2IzMWU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYzNjYxNDE4", "url": "https://github.com/awslabs/smithy/pull/287#pullrequestreview-363661418", "createdAt": "2020-02-24T19:58:52Z", "commit": {"oid": "cd89c4495124c68bf3afc64b055a58a986f176ba"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNFQxOTo1ODo1MlrOFtt7wg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNFQxOTo1ODo1MlrOFtt7wg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzQ4MjgxOA==", "bodyText": "s/ot/to", "url": "https://github.com/awslabs/smithy/pull/287#discussion_r383482818", "createdAt": "2020-02-24T19:58:52Z", "author": {"login": "kstich"}, "path": "smithy-model/src/main/java/software/amazon/smithy/model/loader/ModelAssembler.java", "diffHunk": "@@ -81,7 +82,33 @@\n \n     private TraitFactory traitFactory;\n     private ValidatorFactory validatorFactory;\n-    private final Map<String, Supplier<InputStream>> inputStreamModels = new HashMap<>();\n+\n+    /**\n+     * A map of files ot parse and load into the Model.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cd89c4495124c68bf3afc64b055a58a986f176ba"}, "originalPosition": 15}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "cd89c4495124c68bf3afc64b055a58a986f176ba", "author": {"user": {"login": "mtdowling", "name": "Michael Dowling"}}, "url": "https://github.com/awslabs/smithy/commit/cd89c4495124c68bf3afc64b055a58a986f176ba", "committedDate": "2020-02-24T03:38:44Z", "message": "Move IDL specific loading logic to IDL\n\nThis commit moves all IDL-specific model loading logic into the IDL\nloader and out of the LoaderVisitor. This cleans up the LoaderVisitor\nand also fixes a bug in how the `apply` statement wasn't properly\nresolving the targeted shape ID (it always assumed that the target was\nin the current namespace)."}, "afterCommit": {"oid": "1e1e4fab62ef702fa391468272ac03bf8b47b31e", "author": {"user": {"login": "mtdowling", "name": "Michael Dowling"}}, "url": "https://github.com/awslabs/smithy/commit/1e1e4fab62ef702fa391468272ac03bf8b47b31e", "committedDate": "2020-02-24T21:43:26Z", "message": "Move IDL specific loading logic to IDL\n\nThis commit moves all IDL-specific model loading logic into the IDL\nloader and out of the LoaderVisitor. This cleans up the LoaderVisitor\nand also fixes a bug in how the `apply` statement wasn't properly\nresolving the targeted shape ID (it always assumed that the target was\nin the current namespace)."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a3f30cd3546536769facee1b572e636727258e67", "author": {"user": {"login": "mtdowling", "name": "Michael Dowling"}}, "url": "https://github.com/awslabs/smithy/commit/a3f30cd3546536769facee1b572e636727258e67", "committedDate": "2020-02-24T21:42:50Z", "message": "Reduce forward reference lookups\n\nThis commit ensures that JSON IDL models are loaded before IDL models to\nreduce forward reference lookups when loading IDL models."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYzNzIyNTE5", "url": "https://github.com/awslabs/smithy/pull/287#pullrequestreview-363722519", "createdAt": "2020-02-24T21:43:23Z", "commit": {"oid": "1e1e4fab62ef702fa391468272ac03bf8b47b31e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1e1e4fab62ef702fa391468272ac03bf8b47b31e", "author": {"user": {"login": "mtdowling", "name": "Michael Dowling"}}, "url": "https://github.com/awslabs/smithy/commit/1e1e4fab62ef702fa391468272ac03bf8b47b31e", "committedDate": "2020-02-24T21:43:26Z", "message": "Move IDL specific loading logic to IDL\n\nThis commit moves all IDL-specific model loading logic into the IDL\nloader and out of the LoaderVisitor. This cleans up the LoaderVisitor\nand also fixes a bug in how the `apply` statement wasn't properly\nresolving the targeted shape ID (it always assumed that the target was\nin the current namespace)."}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2324, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}