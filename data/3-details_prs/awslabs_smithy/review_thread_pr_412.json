{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDEyNTE1MDY3", "number": 412, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQxNzozNjozM1rOD5F6Vw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQxNzozNjozM1rOD5F6Vw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYxMTkyMjc5OnYy", "diffSide": "LEFT", "path": "smithy-model/src/main/java/software/amazon/smithy/model/Model.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQxNzozNjozNFrOGQK0xQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQxNzozNjozNFrOGQK0xQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTYwNzc0OQ==", "bodyText": "The public API migrations in this file need a changelog entry: getTraitDefinitions and getTraitShapes.", "url": "https://github.com/awslabs/smithy/pull/412#discussion_r419607749", "createdAt": "2020-05-04T17:36:34Z", "author": {"login": "kstich"}, "path": "smithy-model/src/main/java/software/amazon/smithy/model/Model.java", "diffHunk": "@@ -141,46 +133,66 @@ public static ModelAssembler assembler(ClassLoader classLoader) {\n     }\n \n     /**\n-     * Returns are trait shapes in the model as a map of {@code Shape}\n-     * objects to their {@link TraitDefinition} traits.\n+     * Gets the trait definition of a specific trait shape ID.\n+     *\n+     * @param traitId ID of the shape to get the trait definition of.\n+     * @return Returns the optionally found trait definition.\n+     */\n+    public Optional<TraitDefinition> getTraitDefinition(ToShapeId traitId) {\n+        return getShape(traitId.toShapeId()).flatMap(shape -> shape.getTrait(TraitDefinition.class));\n+    }\n+\n+    /**\n+     * Gets a set of shapes in the model marked with a specific trait.\n      *\n-     * @return Returns all trait definitions in the model.\n+     * @param trait Trait shape ID to look for on shapes.\n+     * @return Returns the immutable set of matching shapes.\n      */\n-    public Map<Shape, TraitDefinition> getTraitDefinitions() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ccbbb6fd2d1230aaf9d43cebe95b49b43ed25106"}, "originalPosition": 99}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3795, "cost": 1, "resetAt": "2021-11-12T11:18:39Z"}}}