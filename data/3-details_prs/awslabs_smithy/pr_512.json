{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU4MDc0Nzkw", "number": 512, "title": "Don't raise validation erros from renaming", "bodyText": "None of the other transformers raise validation errors when\nthey produce a model in an invalid state, so the rename transformer\nshouldn't either. With this change a tool could attempt to resolve\nany issue before the model is actually used.\nBy submitting this pull request, I confirm that my contribution is made under the terms of the Apache 2.0 license.", "createdAt": "2020-07-28T21:43:37Z", "url": "https://github.com/awslabs/smithy/pull/512", "merged": true, "mergeCommit": {"oid": "a79b5bef4c37194366afbda5d1ab2a028499be69"}, "closed": true, "closedAt": "2020-07-29T17:10:19Z", "author": {"login": "JordonPhillips"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc5kkZPAFqTQ1NzIxNDEzMw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABc5uJuKgFqTQ1NzcyMDM4MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU3MjE0MTMz", "url": "https://github.com/awslabs/smithy/pull/512#pullrequestreview-457214133", "createdAt": "2020-07-29T05:56:01Z", "commit": {"oid": "a2243c94b67ecaa1ba73f86dbbf37d3e2f57a104"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwNTo1NjowMlrOG4pnQw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwNTo1NjowMlrOG4pnQw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjA1NTIzNQ==", "bodyText": "If we're doing this, can you also disable validation in the model assembler?", "url": "https://github.com/awslabs/smithy/pull/512#discussion_r462055235", "createdAt": "2020-07-29T05:56:02Z", "author": {"login": "mtdowling"}, "path": "smithy-model/src/main/java/software/amazon/smithy/model/transform/RenameShapes.java", "diffHunk": "@@ -69,9 +70,11 @@ Model transform(ModelTransformer transformer, Model model) {\n         // Use visitor to traverse node and rebuild model.\n         Node newModel = node.accept(new RenameShapeVisitor(toRename, renamed));\n \n-        return assembler.addDocumentNode(newModel)\n-                .assemble()\n-                .unwrap();\n+        ValidatedResult<Model> result = assembler.addDocumentNode(newModel).assemble();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a2243c94b67ecaa1ba73f86dbbf37d3e2f57a104"}, "originalPosition": 15}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4a95e76b1f3be6768026bb4741507efde82512e5", "author": {"user": {"login": "JordonPhillips", "name": "Jordon Phillips"}}, "url": "https://github.com/awslabs/smithy/commit/4a95e76b1f3be6768026bb4741507efde82512e5", "committedDate": "2020-07-29T16:54:50Z", "message": "Don't raise validation erros from renaming\n\nNone of the other transformers raise validation errors when\nthey produce a model in an invalid state, so the rename transformer\nshouldn't either. With this change a tool could attempt to resolve\nany issue before the model is actually used."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "476b1230a50fa6492eec5666fb4d8ace081a282c", "author": {"user": {"login": "JordonPhillips", "name": "Jordon Phillips"}}, "url": "https://github.com/awslabs/smithy/commit/476b1230a50fa6492eec5666fb4d8ace081a282c", "committedDate": "2020-07-29T17:00:26Z", "message": "Don't perform assembler validation in renamer\n\nThis disables validation in the default model assembler for the\nrename transformer."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a2243c94b67ecaa1ba73f86dbbf37d3e2f57a104", "author": {"user": {"login": "JordonPhillips", "name": "Jordon Phillips"}}, "url": "https://github.com/awslabs/smithy/commit/a2243c94b67ecaa1ba73f86dbbf37d3e2f57a104", "committedDate": "2020-07-28T21:40:44Z", "message": "Don't raise validation erros from renaming\n\nNone of the other transformers raise validation errors when\nthey produce a model in an invalid state, so the rename transformer\nshouldn't either. With this change a tool could attempt to resolve\nany issue before the model is actually used."}, "afterCommit": {"oid": "476b1230a50fa6492eec5666fb4d8ace081a282c", "author": {"user": {"login": "JordonPhillips", "name": "Jordon Phillips"}}, "url": "https://github.com/awslabs/smithy/commit/476b1230a50fa6492eec5666fb4d8ace081a282c", "committedDate": "2020-07-29T17:00:26Z", "message": "Don't perform assembler validation in renamer\n\nThis disables validation in the default model assembler for the\nrename transformer."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU3NzIwMzgw", "url": "https://github.com/awslabs/smithy/pull/512#pullrequestreview-457720380", "createdAt": "2020-07-29T17:06:01Z", "commit": {"oid": "476b1230a50fa6492eec5666fb4d8ace081a282c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2218, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}