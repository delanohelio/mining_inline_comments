{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk2NjEyOTY3", "number": 339, "title": "Add Cognito User Pools documentation to OpenAPI guide", "bodyText": "Adds documentation for aws.auth#cognitoUserPools to the OpenAPI conversion guide.\nCloses #8\nBy submitting this pull request, I confirm that my contribution is made under the terms of the Apache 2.0 license.", "createdAt": "2020-03-31T21:26:10Z", "url": "https://github.com/awslabs/smithy/pull/339", "merged": true, "mergeCommit": {"oid": "e6a3d0f83799723cd281daaa74b3b7df6f659f28"}, "closed": true, "closedAt": "2020-04-01T23:36:58Z", "author": {"login": "srchase"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcTJ5XjgH2gAyMzk2NjEyOTY3OjkyYWM3NTYwOWQxY2RlOWUzYWFkYmFjZTQ4ZGM0OWZhMTUwODIwODk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcTgabGAFqTM4NjAxOTk2MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "92ac75609d1cde9e3aadbace48dc49fa15082089", "author": {"user": {"login": "srchase", "name": "Chase Coalwell"}}, "url": "https://github.com/awslabs/smithy/commit/92ac75609d1cde9e3aadbace48dc49fa15082089", "committedDate": "2020-03-31T21:22:27Z", "message": "Add Cognito docs to OpenAPI guide"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg1MTg1NTEy", "url": "https://github.com/awslabs/smithy/pull/339#pullrequestreview-385185512", "createdAt": "2020-04-01T00:05:42Z", "commit": {"oid": "92ac75609d1cde9e3aadbace48dc49fa15082089"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQwMDowNTo0M1rOF-sbZw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQwMDowODoxN1rOF-seMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTI4Mzk0Mw==", "bodyText": "Why is this indented?", "url": "https://github.com/awslabs/smithy/pull/339#discussion_r401283943", "createdAt": "2020-04-01T00:05:43Z", "author": {"login": "mtdowling"}, "path": "docs/source/guides/converting-to-openapi.rst", "diffHunk": "@@ -510,10 +510,31 @@ uses the ``Fn::Sub`` variable syntax (``*`` means any value):\n     OpenAPI configuration property to ``true``.\n \n \n-Amazon Cognito user pools\n+Amazon Cognito User Pools\n -------------------------\n \n-TODO\n+Smithy adds Cognito User Pool based authentication to the OpenAPI conversion when the\n+``aws.auth#cognitoUserPools`` trait is added to a service shape.  When this trait is present, Smithy\n+will add an a ``securitySchemes`` components entry:\n+\n+    .. code-block:: json", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "92ac75609d1cde9e3aadbace48dc49fa15082089"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTI4NDQyNA==", "bodyText": "Messed up indentation, and looks like it's missing a closing \"}\"", "url": "https://github.com/awslabs/smithy/pull/339#discussion_r401284424", "createdAt": "2020-04-01T00:07:24Z", "author": {"login": "mtdowling"}, "path": "docs/source/guides/converting-to-openapi.rst", "diffHunk": "@@ -510,10 +510,31 @@ uses the ``Fn::Sub`` variable syntax (``*`` means any value):\n     OpenAPI configuration property to ``true``.\n \n \n-Amazon Cognito user pools\n+Amazon Cognito User Pools\n -------------------------\n \n-TODO\n+Smithy adds Cognito User Pool based authentication to the OpenAPI conversion when the\n+``aws.auth#cognitoUserPools`` trait is added to a service shape.  When this trait is present, Smithy\n+will add an a ``securitySchemes`` components entry:\n+\n+    .. code-block:: json\n+\n+        {\n+            \"aws.auth#cognitoUserPools\": {\n+                \"type\": \"apiKey\",\n+                \"description\": \"Amazon Cognito User Pools authentication\",\n+                \"name\": \"Authorization\",\n+                \"in\": \"header\",\n+                \"x-amazon-apigateway-authtype\": \"cognito_user_pools\",\n+                \"x-amazon-apigateway-authorizer\": {\n+                    \"type\": \"cognito_user_pools\",\n+                    \"providerARNs\": [\n+                        \"arn:aws:cognito-idp:us-east-1:123:userpool/123\"\n+                ]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "92ac75609d1cde9e3aadbace48dc49fa15082089"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTI4NDUyOA==", "bodyText": "\"an a\" -> \"a\"", "url": "https://github.com/awslabs/smithy/pull/339#discussion_r401284528", "createdAt": "2020-04-01T00:07:47Z", "author": {"login": "mtdowling"}, "path": "docs/source/guides/converting-to-openapi.rst", "diffHunk": "@@ -510,10 +510,31 @@ uses the ``Fn::Sub`` variable syntax (``*`` means any value):\n     OpenAPI configuration property to ``true``.\n \n \n-Amazon Cognito user pools\n+Amazon Cognito User Pools\n -------------------------\n \n-TODO\n+Smithy adds Cognito User Pool based authentication to the OpenAPI conversion when the\n+``aws.auth#cognitoUserPools`` trait is added to a service shape.  When this trait is present, Smithy\n+will add an a ``securitySchemes`` components entry:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "92ac75609d1cde9e3aadbace48dc49fa15082089"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTI4NDYxMw==", "bodyText": "recommend breaking up lines longer than 80 chars", "url": "https://github.com/awslabs/smithy/pull/339#discussion_r401284613", "createdAt": "2020-04-01T00:08:04Z", "author": {"login": "mtdowling"}, "path": "docs/source/guides/converting-to-openapi.rst", "diffHunk": "@@ -510,10 +510,31 @@ uses the ``Fn::Sub`` variable syntax (``*`` means any value):\n     OpenAPI configuration property to ``true``.\n \n \n-Amazon Cognito user pools\n+Amazon Cognito User Pools\n -------------------------\n \n-TODO\n+Smithy adds Cognito User Pool based authentication to the OpenAPI conversion when the\n+``aws.auth#cognitoUserPools`` trait is added to a service shape.  When this trait is present, Smithy", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "92ac75609d1cde9e3aadbace48dc49fa15082089"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTI4NDY1Nw==", "bodyText": "\"conversion\" -> \"model\"", "url": "https://github.com/awslabs/smithy/pull/339#discussion_r401284657", "createdAt": "2020-04-01T00:08:17Z", "author": {"login": "mtdowling"}, "path": "docs/source/guides/converting-to-openapi.rst", "diffHunk": "@@ -510,10 +510,31 @@ uses the ``Fn::Sub`` variable syntax (``*`` means any value):\n     OpenAPI configuration property to ``true``.\n \n \n-Amazon Cognito user pools\n+Amazon Cognito User Pools\n -------------------------\n \n-TODO\n+Smithy adds Cognito User Pool based authentication to the OpenAPI conversion when the", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "92ac75609d1cde9e3aadbace48dc49fa15082089"}, "originalPosition": 9}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ded782679b53e78a619925c2e906f8140ede5fc7", "author": {"user": {"login": "srchase", "name": "Chase Coalwell"}}, "url": "https://github.com/awslabs/smithy/commit/ded782679b53e78a619925c2e906f8140ede5fc7", "committedDate": "2020-04-01T16:18:39Z", "message": "Fix formatting, wording"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg2MDE2OTE3", "url": "https://github.com/awslabs/smithy/pull/339#pullrequestreview-386016917", "createdAt": "2020-04-01T23:27:42Z", "commit": {"oid": "ded782679b53e78a619925c2e906f8140ede5fc7"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQyMzoyNzo0MlrOF_WLHA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQyMzoyNzo0MlrOF_WLHA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTk2NzkwMA==", "bodyText": "Can you link to the actual trait using :ref:", "url": "https://github.com/awslabs/smithy/pull/339#discussion_r401967900", "createdAt": "2020-04-01T23:27:42Z", "author": {"login": "mtdowling"}, "path": "docs/source/guides/converting-to-openapi.rst", "diffHunk": "@@ -510,10 +510,33 @@ uses the ``Fn::Sub`` variable syntax (``*`` means any value):\n     OpenAPI configuration property to ``true``.\n \n \n-Amazon Cognito user pools\n+Amazon Cognito User Pools\n -------------------------\n \n-TODO\n+Smithy adds Cognito User Pool based authentication to the OpenAPI model when\n+the ``aws.auth#cognitoUserPools`` trait is added to a service shape. When this", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ded782679b53e78a619925c2e906f8140ede5fc7"}, "originalPosition": 10}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "878d1e36666df0007f20502eca763a178bdf5731", "author": {"user": {"login": "srchase", "name": "Chase Coalwell"}}, "url": "https://github.com/awslabs/smithy/commit/878d1e36666df0007f20502eca763a178bdf5731", "committedDate": "2020-04-01T23:32:57Z", "message": "Add trait ref"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg2MDE5OTYw", "url": "https://github.com/awslabs/smithy/pull/339#pullrequestreview-386019960", "createdAt": "2020-04-01T23:36:28Z", "commit": {"oid": "878d1e36666df0007f20502eca763a178bdf5731"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2353, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}