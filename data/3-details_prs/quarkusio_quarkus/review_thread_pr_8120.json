{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkzMTkzMzE2", "number": 8120, "reviewThreads": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNFQxOTowMDo0MFrODq7f5A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNVQxMzo0MDo1OVrODrN6IA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ2MzQxNjA0OnYy", "diffSide": "RIGHT", "path": "extensions/oidc/runtime/src/main/java/io/quarkus/oidc/runtime/OidcTenantConfig.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNFQxOTowMDo0MFrOF6-44A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNFQxOTowMDo0MFrOF6-44A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzM5MjA5Ng==", "bodyText": "Please drop type for now, we can add later if someone will prefer non-HTTP", "url": "https://github.com/quarkusio/quarkus/pull/8120#discussion_r397392096", "createdAt": "2020-03-24T19:00:40Z", "author": {"login": "sberyozkin"}, "path": "extensions/oidc/runtime/src/main/java/io/quarkus/oidc/runtime/OidcTenantConfig.java", "diffHunk": "@@ -467,6 +483,59 @@ public void setPrincipalClaim(String principalClaim) {\n         }\n     }\n \n+    @ConfigGroup\n+    public static class Proxy {\n+\n+        /**\n+         * The host (name or IP address) of the Proxy.<br/>\n+         * Note: If OIDC adapter needs to use a Proxy to talk with OIDC server (Provider),\n+         * then at least both \"host\" and \"port\" items must be configured to enable the usage of a Proxy.\n+         */\n+        @ConfigItem\n+        public Optional<String> host = Optional.empty();\n+\n+        /**\n+         * The port number of the Proxy.\n+         */\n+        @ConfigItem\n+        public Optional<Integer> port = Optional.empty();\n+\n+        /**\n+         * The username, if Proxy needs authentication.\n+         */\n+        @ConfigItem\n+        public Optional<String> username = Optional.empty();\n+\n+        /**\n+         * The password, if Proxy needs authentication.\n+         */\n+        @ConfigItem\n+        public Optional<String> password = Optional.empty();\n+\n+        /**\n+         * The proxy type. Default value is \"HTTP\".<br/>\n+         * Allowed values (as defined in {@link io.vertx.core.net.ProxyType}) are: \"HTTP\", \"SOCKS4\", and \"SOCKS5\".\n+         */\n+        @ConfigItem(defaultValue = \"HTTP\")\n+        public Optional<String> type = Optional.empty();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4d76e6003ad8f492de395a8568628048b58431eb"}, "originalPosition": 75}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ2MzQzNDc4OnYy", "diffSide": "RIGHT", "path": "extensions/oidc/runtime/src/main/java/io/quarkus/oidc/runtime/OidcTenantConfig.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNFQxOTowNjoxN1rOF6_FEQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNFQxOTo1NTozNlrOF7AvqQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzM5NTIxNw==", "bodyText": "Please move this to the internal OidcRecorder helper, we don't really put Vertx dependencies in OidcTenantConfig; instead please add getters/setters (as is done elsewhere), setters would help to TenantConfigResolver multi-tenancy implementations which create OidcTenantConfig :-)", "url": "https://github.com/quarkusio/quarkus/pull/8120#discussion_r397395217", "createdAt": "2020-03-24T19:06:17Z", "author": {"login": "sberyozkin"}, "path": "extensions/oidc/runtime/src/main/java/io/quarkus/oidc/runtime/OidcTenantConfig.java", "diffHunk": "@@ -467,6 +483,59 @@ public void setPrincipalClaim(String principalClaim) {\n         }\n     }\n \n+    @ConfigGroup\n+    public static class Proxy {\n+\n+        /**\n+         * The host (name or IP address) of the Proxy.<br/>\n+         * Note: If OIDC adapter needs to use a Proxy to talk with OIDC server (Provider),\n+         * then at least both \"host\" and \"port\" items must be configured to enable the usage of a Proxy.\n+         */\n+        @ConfigItem\n+        public Optional<String> host = Optional.empty();\n+\n+        /**\n+         * The port number of the Proxy.\n+         */\n+        @ConfigItem\n+        public Optional<Integer> port = Optional.empty();\n+\n+        /**\n+         * The username, if Proxy needs authentication.\n+         */\n+        @ConfigItem\n+        public Optional<String> username = Optional.empty();\n+\n+        /**\n+         * The password, if Proxy needs authentication.\n+         */\n+        @ConfigItem\n+        public Optional<String> password = Optional.empty();\n+\n+        /**\n+         * The proxy type. Default value is \"HTTP\".<br/>\n+         * Allowed values (as defined in {@link io.vertx.core.net.ProxyType}) are: \"HTTP\", \"SOCKS4\", and \"SOCKS5\".\n+         */\n+        @ConfigItem(defaultValue = \"HTTP\")\n+        public Optional<String> type = Optional.empty();\n+\n+        /**\n+         * Get this proxy config as {@link ProxyOptions}\n+         * \n+         * @return a ProxyOptions objects built based on the included config items\n+         */\n+        ProxyOptions asProxyOptions() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4d76e6003ad8f492de395a8568628048b58431eb"}, "originalPosition": 82}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzQyMjUwNQ==", "bodyText": "You are right, indeed. \ud83d\udc4d", "url": "https://github.com/quarkusio/quarkus/pull/8120#discussion_r397422505", "createdAt": "2020-03-24T19:55:36Z", "author": {"login": "dxps"}, "path": "extensions/oidc/runtime/src/main/java/io/quarkus/oidc/runtime/OidcTenantConfig.java", "diffHunk": "@@ -467,6 +483,59 @@ public void setPrincipalClaim(String principalClaim) {\n         }\n     }\n \n+    @ConfigGroup\n+    public static class Proxy {\n+\n+        /**\n+         * The host (name or IP address) of the Proxy.<br/>\n+         * Note: If OIDC adapter needs to use a Proxy to talk with OIDC server (Provider),\n+         * then at least both \"host\" and \"port\" items must be configured to enable the usage of a Proxy.\n+         */\n+        @ConfigItem\n+        public Optional<String> host = Optional.empty();\n+\n+        /**\n+         * The port number of the Proxy.\n+         */\n+        @ConfigItem\n+        public Optional<Integer> port = Optional.empty();\n+\n+        /**\n+         * The username, if Proxy needs authentication.\n+         */\n+        @ConfigItem\n+        public Optional<String> username = Optional.empty();\n+\n+        /**\n+         * The password, if Proxy needs authentication.\n+         */\n+        @ConfigItem\n+        public Optional<String> password = Optional.empty();\n+\n+        /**\n+         * The proxy type. Default value is \"HTTP\".<br/>\n+         * Allowed values (as defined in {@link io.vertx.core.net.ProxyType}) are: \"HTTP\", \"SOCKS4\", and \"SOCKS5\".\n+         */\n+        @ConfigItem(defaultValue = \"HTTP\")\n+        public Optional<String> type = Optional.empty();\n+\n+        /**\n+         * Get this proxy config as {@link ProxyOptions}\n+         * \n+         * @return a ProxyOptions objects built based on the included config items\n+         */\n+        ProxyOptions asProxyOptions() {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzM5NTIxNw=="}, "originalCommit": {"oid": "4d76e6003ad8f492de395a8568628048b58431eb"}, "originalPosition": 82}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ2MzQ1MzczOnYy", "diffSide": "RIGHT", "path": "extensions/oidc/runtime/src/main/java/io/quarkus/oidc/runtime/OidcRecorder.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNFQxOToxMTo0N1rOF6_ROg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNFQxOTo1NzowOFrOF7Ay6g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzM5ODMzMA==", "bodyText": "Yes, it would help to have optional configuration groups :-). But we can simplify a bit and ignore everything unless proxy.host is set, and only check the port inside of that condition\n        if (proxy.host.isPresent()) {\n           if (!proxy.port.isPresent()) {\n               throw new ConfigurationException(\"Both 'proxy.host' and 'proxy.port' must be configured to enable the proxy usage.\");\n        }\n        options.setProxyOptions(proxy.asProxyOptions());\n   } \n\nHow does it look :-) ?", "url": "https://github.com/quarkusio/quarkus/pull/8120#discussion_r397398330", "createdAt": "2020-03-24T19:11:47Z", "author": {"login": "sberyozkin"}, "path": "extensions/oidc/runtime/src/main/java/io/quarkus/oidc/runtime/OidcRecorder.java", "diffHunk": "@@ -132,6 +132,15 @@ private TenantConfigContext createTenantContext(Vertx vertx, OidcTenantConfig oi\n             options.setClientSecretParameterName(null);\n         }\n \n+        // Proxy config\n+        OidcTenantConfig.Proxy proxy = oidcConfig.getProxy();\n+        if (proxy.host.isPresent() && proxy.port.isPresent()) {\n+            options.setProxyOptions(proxy.asProxyOptions());\n+        } else if (proxy.host.isPresent() || proxy.port.isPresent()) {\n+            throw new ConfigurationException(\n+                    \"Both 'proxy.host' and 'proxy.port' must be configured to enable the proxy usage.\");\n+        }\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4d76e6003ad8f492de395a8568628048b58431eb"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzQyMzMzOA==", "bodyText": "Oh, yeah. True also! And it looks more compact and nice. \ud83d\ude0a", "url": "https://github.com/quarkusio/quarkus/pull/8120#discussion_r397423338", "createdAt": "2020-03-24T19:57:08Z", "author": {"login": "dxps"}, "path": "extensions/oidc/runtime/src/main/java/io/quarkus/oidc/runtime/OidcRecorder.java", "diffHunk": "@@ -132,6 +132,15 @@ private TenantConfigContext createTenantContext(Vertx vertx, OidcTenantConfig oi\n             options.setClientSecretParameterName(null);\n         }\n \n+        // Proxy config\n+        OidcTenantConfig.Proxy proxy = oidcConfig.getProxy();\n+        if (proxy.host.isPresent() && proxy.port.isPresent()) {\n+            options.setProxyOptions(proxy.asProxyOptions());\n+        } else if (proxy.host.isPresent() || proxy.port.isPresent()) {\n+            throw new ConfigurationException(\n+                    \"Both 'proxy.host' and 'proxy.port' must be configured to enable the proxy usage.\");\n+        }\n+", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzM5ODMzMA=="}, "originalCommit": {"oid": "4d76e6003ad8f492de395a8568628048b58431eb"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ2NDA5NzMzOnYy", "diffSide": "RIGHT", "path": "extensions/oidc/runtime/src/main/java/io/quarkus/oidc/runtime/OidcRecorder.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNFQyMjoyODozOVrOF7FfPg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNVQwOTowMDoyN1rOF7RcYQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzUwMDIyMg==", "bodyText": "This also requires { and } per the checkstyle rules AFAIK.", "url": "https://github.com/quarkusio/quarkus/pull/8120#discussion_r397500222", "createdAt": "2020-03-24T22:28:39Z", "author": {"login": "sberyozkin"}, "path": "extensions/oidc/runtime/src/main/java/io/quarkus/oidc/runtime/OidcRecorder.java", "diffHunk": "@@ -132,6 +134,14 @@ private TenantConfigContext createTenantContext(Vertx vertx, OidcTenantConfig oi\n             options.setClientSecretParameterName(null);\n         }\n \n+        OidcTenantConfig.Proxy proxyConfig = oidcConfig.getProxy();\n+        if (proxyConfig.host.isPresent()) {\n+            if (!proxyConfig.port.isPresent())", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c7e81cc2ef4e28b81d620d8f2cddc65e622fbfb9"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzY5NjA5Nw==", "bodyText": "Yeah, I have it. Probably it existed before formatting was run. Now it exists.", "url": "https://github.com/quarkusio/quarkus/pull/8120#discussion_r397696097", "createdAt": "2020-03-25T09:00:27Z", "author": {"login": "dxps"}, "path": "extensions/oidc/runtime/src/main/java/io/quarkus/oidc/runtime/OidcRecorder.java", "diffHunk": "@@ -132,6 +134,14 @@ private TenantConfigContext createTenantContext(Vertx vertx, OidcTenantConfig oi\n             options.setClientSecretParameterName(null);\n         }\n \n+        OidcTenantConfig.Proxy proxyConfig = oidcConfig.getProxy();\n+        if (proxyConfig.host.isPresent()) {\n+            if (!proxyConfig.port.isPresent())", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzUwMDIyMg=="}, "originalCommit": {"oid": "c7e81cc2ef4e28b81d620d8f2cddc65e622fbfb9"}, "originalPosition": 15}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ2NDY3MzA5OnYy", "diffSide": "RIGHT", "path": "extensions/oidc/runtime/src/main/java/io/quarkus/oidc/runtime/OidcTenantConfig.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNVQwMzoxNjo1OVrOF7Kygw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNVQwODo1NzozMFrOF7RVMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzU4NzA3NQ==", "bodyText": "Use OptionalInt instead", "url": "https://github.com/quarkusio/quarkus/pull/8120#discussion_r397587075", "createdAt": "2020-03-25T03:16:59Z", "author": {"login": "gastaldi"}, "path": "extensions/oidc/runtime/src/main/java/io/quarkus/oidc/runtime/OidcTenantConfig.java", "diffHunk": "@@ -467,6 +480,37 @@ public void setPrincipalClaim(String principalClaim) {\n         }\n     }\n \n+    @ConfigGroup\n+    public static class Proxy {\n+\n+        /**\n+         * The host (name or IP address) of the Proxy.<br/>\n+         * Note: If OIDC adapter needs to use a Proxy to talk with OIDC server (Provider),\n+         * then at least both \"host\" and \"port\" items must be configured to enable the usage of a Proxy.\n+         */\n+        @ConfigItem\n+        public Optional<String> host = Optional.empty();\n+\n+        /**\n+         * The port number of the Proxy.\n+         */\n+        @ConfigItem\n+        public Optional<Integer> port = Optional.empty();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c7e81cc2ef4e28b81d620d8f2cddc65e622fbfb9"}, "originalPosition": 46}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzY5NDI1OQ==", "bodyText": "Sure, done it. Thanks.", "url": "https://github.com/quarkusio/quarkus/pull/8120#discussion_r397694259", "createdAt": "2020-03-25T08:57:30Z", "author": {"login": "dxps"}, "path": "extensions/oidc/runtime/src/main/java/io/quarkus/oidc/runtime/OidcTenantConfig.java", "diffHunk": "@@ -467,6 +480,37 @@ public void setPrincipalClaim(String principalClaim) {\n         }\n     }\n \n+    @ConfigGroup\n+    public static class Proxy {\n+\n+        /**\n+         * The host (name or IP address) of the Proxy.<br/>\n+         * Note: If OIDC adapter needs to use a Proxy to talk with OIDC server (Provider),\n+         * then at least both \"host\" and \"port\" items must be configured to enable the usage of a Proxy.\n+         */\n+        @ConfigItem\n+        public Optional<String> host = Optional.empty();\n+\n+        /**\n+         * The port number of the Proxy.\n+         */\n+        @ConfigItem\n+        public Optional<Integer> port = Optional.empty();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzU4NzA3NQ=="}, "originalCommit": {"oid": "c7e81cc2ef4e28b81d620d8f2cddc65e622fbfb9"}, "originalPosition": 46}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ2NjM2MDM0OnYy", "diffSide": "RIGHT", "path": "extensions/oidc/runtime/src/main/java/io/quarkus/oidc/runtime/OidcTenantConfig.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNVQxMzoyNDo0OFrOF7az2Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNVQxMzozMjoxMFrOF7bIkw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzg0OTU2MQ==", "bodyText": "You can set the defaultValue of 80 here instead", "url": "https://github.com/quarkusio/quarkus/pull/8120#discussion_r397849561", "createdAt": "2020-03-25T13:24:48Z", "author": {"login": "gastaldi"}, "path": "extensions/oidc/runtime/src/main/java/io/quarkus/oidc/runtime/OidcTenantConfig.java", "diffHunk": "@@ -467,6 +477,37 @@ public void setPrincipalClaim(String principalClaim) {\n         }\n     }\n \n+    @ConfigGroup\n+    public static class Proxy {\n+\n+        /**\n+         * The host (name or IP address) of the Proxy.<br/>\n+         * Note: If OIDC adapter needs to use a Proxy to talk with OIDC server (Provider),\n+         * then at least both \"host\" and \"port\" items must be configured to enable the usage of a Proxy.\n+         */\n+        @ConfigItem\n+        public Optional<String> host = Optional.empty();\n+\n+        /**\n+         * The port number of the Proxy.\n+         */\n+        @ConfigItem", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "23b75d0ffd7a776e819f87abf6609faf093bf0df"}, "originalPosition": 57}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzg1NDg2Nw==", "bodyText": "\ud83d\udc4d Updates submitted.", "url": "https://github.com/quarkusio/quarkus/pull/8120#discussion_r397854867", "createdAt": "2020-03-25T13:32:10Z", "author": {"login": "dxps"}, "path": "extensions/oidc/runtime/src/main/java/io/quarkus/oidc/runtime/OidcTenantConfig.java", "diffHunk": "@@ -467,6 +477,37 @@ public void setPrincipalClaim(String principalClaim) {\n         }\n     }\n \n+    @ConfigGroup\n+    public static class Proxy {\n+\n+        /**\n+         * The host (name or IP address) of the Proxy.<br/>\n+         * Note: If OIDC adapter needs to use a Proxy to talk with OIDC server (Provider),\n+         * then at least both \"host\" and \"port\" items must be configured to enable the usage of a Proxy.\n+         */\n+        @ConfigItem\n+        public Optional<String> host = Optional.empty();\n+\n+        /**\n+         * The port number of the Proxy.\n+         */\n+        @ConfigItem", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzg0OTU2MQ=="}, "originalCommit": {"oid": "23b75d0ffd7a776e819f87abf6609faf093bf0df"}, "originalPosition": 57}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ2NjQwMDk0OnYy", "diffSide": "RIGHT", "path": "extensions/oidc/runtime/src/main/java/io/quarkus/oidc/runtime/OidcTenantConfig.java", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNVQxMzozMzo1OFrOF7bNlw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNVQxMzo1MzoxN1rOF7cE9g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzg1NjE1MQ==", "bodyText": "Not being picky here, but you can also use OptionalInt.of(80) for cases where config injection is not available \ud83d\ude09", "url": "https://github.com/quarkusio/quarkus/pull/8120#discussion_r397856151", "createdAt": "2020-03-25T13:33:58Z", "author": {"login": "gastaldi"}, "path": "extensions/oidc/runtime/src/main/java/io/quarkus/oidc/runtime/OidcTenantConfig.java", "diffHunk": "@@ -467,6 +477,37 @@ public void setPrincipalClaim(String principalClaim) {\n         }\n     }\n \n+    @ConfigGroup\n+    public static class Proxy {\n+\n+        /**\n+         * The host (name or IP address) of the Proxy.<br/>\n+         * Note: If OIDC adapter needs to use a Proxy to talk with OIDC server (Provider),\n+         * then at least both \"host\" and \"port\" items must be configured to enable the usage of a Proxy.\n+         */\n+        @ConfigItem\n+        public Optional<String> host = Optional.empty();\n+\n+        /**\n+         * The port number of the Proxy.\n+         */\n+        @ConfigItem(defaultValue = \"80\")\n+        public OptionalInt port = OptionalInt.empty();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1cc1309418280077e2309927ef742f098f64c9cd"}, "originalPosition": 58}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzg1NzA4Mw==", "bodyText": "Or maybe replace the OptionalInt with an int, since we're assuming a default value now", "url": "https://github.com/quarkusio/quarkus/pull/8120#discussion_r397857083", "createdAt": "2020-03-25T13:35:18Z", "author": {"login": "gastaldi"}, "path": "extensions/oidc/runtime/src/main/java/io/quarkus/oidc/runtime/OidcTenantConfig.java", "diffHunk": "@@ -467,6 +477,37 @@ public void setPrincipalClaim(String principalClaim) {\n         }\n     }\n \n+    @ConfigGroup\n+    public static class Proxy {\n+\n+        /**\n+         * The host (name or IP address) of the Proxy.<br/>\n+         * Note: If OIDC adapter needs to use a Proxy to talk with OIDC server (Provider),\n+         * then at least both \"host\" and \"port\" items must be configured to enable the usage of a Proxy.\n+         */\n+        @ConfigItem\n+        public Optional<String> host = Optional.empty();\n+\n+        /**\n+         * The port number of the Proxy.\n+         */\n+        @ConfigItem(defaultValue = \"80\")\n+        public OptionalInt port = OptionalInt.empty();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzg1NjE1MQ=="}, "originalCommit": {"oid": "1cc1309418280077e2309927ef742f098f64c9cd"}, "originalPosition": 58}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzg1ODc5OQ==", "bodyText": "No, it's fine. \ud83d\ude0a You're right.", "url": "https://github.com/quarkusio/quarkus/pull/8120#discussion_r397858799", "createdAt": "2020-03-25T13:37:51Z", "author": {"login": "dxps"}, "path": "extensions/oidc/runtime/src/main/java/io/quarkus/oidc/runtime/OidcTenantConfig.java", "diffHunk": "@@ -467,6 +477,37 @@ public void setPrincipalClaim(String principalClaim) {\n         }\n     }\n \n+    @ConfigGroup\n+    public static class Proxy {\n+\n+        /**\n+         * The host (name or IP address) of the Proxy.<br/>\n+         * Note: If OIDC adapter needs to use a Proxy to talk with OIDC server (Provider),\n+         * then at least both \"host\" and \"port\" items must be configured to enable the usage of a Proxy.\n+         */\n+        @ConfigItem\n+        public Optional<String> host = Optional.empty();\n+\n+        /**\n+         * The port number of the Proxy.\n+         */\n+        @ConfigItem(defaultValue = \"80\")\n+        public OptionalInt port = OptionalInt.empty();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzg1NjE1MQ=="}, "originalCommit": {"oid": "1cc1309418280077e2309927ef742f098f64c9cd"}, "originalPosition": 58}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzg3MDMyNg==", "bodyText": "Can we clarify it here on the conversation below, please?", "url": "https://github.com/quarkusio/quarkus/pull/8120#discussion_r397870326", "createdAt": "2020-03-25T13:53:17Z", "author": {"login": "dxps"}, "path": "extensions/oidc/runtime/src/main/java/io/quarkus/oidc/runtime/OidcTenantConfig.java", "diffHunk": "@@ -467,6 +477,37 @@ public void setPrincipalClaim(String principalClaim) {\n         }\n     }\n \n+    @ConfigGroup\n+    public static class Proxy {\n+\n+        /**\n+         * The host (name or IP address) of the Proxy.<br/>\n+         * Note: If OIDC adapter needs to use a Proxy to talk with OIDC server (Provider),\n+         * then at least both \"host\" and \"port\" items must be configured to enable the usage of a Proxy.\n+         */\n+        @ConfigItem\n+        public Optional<String> host = Optional.empty();\n+\n+        /**\n+         * The port number of the Proxy.\n+         */\n+        @ConfigItem(defaultValue = \"80\")\n+        public OptionalInt port = OptionalInt.empty();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzg1NjE1MQ=="}, "originalCommit": {"oid": "1cc1309418280077e2309927ef742f098f64c9cd"}, "originalPosition": 58}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ2NjQxMDE1OnYy", "diffSide": "RIGHT", "path": "extensions/oidc/runtime/src/main/java/io/quarkus/oidc/runtime/OidcTenantConfig.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNVQxMzozNjowNFrOF7bTLg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNVQxMzo0MDoyMVrOF7bfPA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzg1NzU4Mg==", "bodyText": "port is no longer required now as it assumes 80 as the default value", "url": "https://github.com/quarkusio/quarkus/pull/8120#discussion_r397857582", "createdAt": "2020-03-25T13:36:04Z", "author": {"login": "gastaldi"}, "path": "extensions/oidc/runtime/src/main/java/io/quarkus/oidc/runtime/OidcTenantConfig.java", "diffHunk": "@@ -467,6 +477,37 @@ public void setPrincipalClaim(String principalClaim) {\n         }\n     }\n \n+    @ConfigGroup\n+    public static class Proxy {\n+\n+        /**\n+         * The host (name or IP address) of the Proxy.<br/>\n+         * Note: If OIDC adapter needs to use a Proxy to talk with OIDC server (Provider),\n+         * then at least both \"host\" and \"port\" items must be configured to enable the usage of a Proxy.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1cc1309418280077e2309927ef742f098f64c9cd"}, "originalPosition": 49}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzg2MDY2OA==", "bodyText": "You're right! Again! \ud83d\ude0a  Sorry, forgot about it.\nI was in a hurry to make sure this small scope is covered.", "url": "https://github.com/quarkusio/quarkus/pull/8120#discussion_r397860668", "createdAt": "2020-03-25T13:40:21Z", "author": {"login": "dxps"}, "path": "extensions/oidc/runtime/src/main/java/io/quarkus/oidc/runtime/OidcTenantConfig.java", "diffHunk": "@@ -467,6 +477,37 @@ public void setPrincipalClaim(String principalClaim) {\n         }\n     }\n \n+    @ConfigGroup\n+    public static class Proxy {\n+\n+        /**\n+         * The host (name or IP address) of the Proxy.<br/>\n+         * Note: If OIDC adapter needs to use a Proxy to talk with OIDC server (Provider),\n+         * then at least both \"host\" and \"port\" items must be configured to enable the usage of a Proxy.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzg1NzU4Mg=="}, "originalCommit": {"oid": "1cc1309418280077e2309927ef742f098f64c9cd"}, "originalPosition": 49}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ2NjQyNTMwOnYy", "diffSide": "RIGHT", "path": "extensions/oidc/runtime/src/main/java/io/quarkus/oidc/runtime/OidcTenantConfig.java", "isResolved": true, "comments": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNVQxMzozOTozMFrOF7bcmw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNVQxMzo1ODowMVrOF7cTdw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzg1OTk5NQ==", "bodyText": "Ah sorry, I didn't mean to remove the defaultValue from @configitem. I was just suggesting to make it non-injection-environments friendly :)", "url": "https://github.com/quarkusio/quarkus/pull/8120#discussion_r397859995", "createdAt": "2020-03-25T13:39:30Z", "author": {"login": "gastaldi"}, "path": "extensions/oidc/runtime/src/main/java/io/quarkus/oidc/runtime/OidcTenantConfig.java", "diffHunk": "@@ -467,6 +477,37 @@ public void setPrincipalClaim(String principalClaim) {\n         }\n     }\n \n+    @ConfigGroup\n+    public static class Proxy {\n+\n+        /**\n+         * The host (name or IP address) of the Proxy.<br/>\n+         * Note: If OIDC adapter needs to use a Proxy to talk with OIDC server (Provider),\n+         * then at least both \"host\" and \"port\" items must be configured to enable the usage of a Proxy.\n+         */\n+        @ConfigItem\n+        public Optional<String> host = Optional.empty();\n+\n+        /**\n+         * The port number of the Proxy.\n+         */\n+        @ConfigItem\n+        public OptionalInt port = OptionalInt.of(80);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a32122c7a095e132bfd8bd69dd86597a588dd891"}, "originalPosition": 58}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzg2MjQwMg==", "bodyText": "Np, but you lost me. Can you provide the concrete expectiation, please?\nSorry that I keep coming with non standard things in the code.\nBut eventually, after this small journey I will definitely want to contribute later to this wonderful project.", "url": "https://github.com/quarkusio/quarkus/pull/8120#discussion_r397862402", "createdAt": "2020-03-25T13:42:45Z", "author": {"login": "dxps"}, "path": "extensions/oidc/runtime/src/main/java/io/quarkus/oidc/runtime/OidcTenantConfig.java", "diffHunk": "@@ -467,6 +477,37 @@ public void setPrincipalClaim(String principalClaim) {\n         }\n     }\n \n+    @ConfigGroup\n+    public static class Proxy {\n+\n+        /**\n+         * The host (name or IP address) of the Proxy.<br/>\n+         * Note: If OIDC adapter needs to use a Proxy to talk with OIDC server (Provider),\n+         * then at least both \"host\" and \"port\" items must be configured to enable the usage of a Proxy.\n+         */\n+        @ConfigItem\n+        public Optional<String> host = Optional.empty();\n+\n+        /**\n+         * The port number of the Proxy.\n+         */\n+        @ConfigItem\n+        public OptionalInt port = OptionalInt.of(80);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzg1OTk5NQ=="}, "originalCommit": {"oid": "a32122c7a095e132bfd8bd69dd86597a588dd891"}, "originalPosition": 58}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzg2NjQyNg==", "bodyText": "No problem. I mean something like:\n@ConfigItem(defaultValue=\"80\")\npublic int port = 80;", "url": "https://github.com/quarkusio/quarkus/pull/8120#discussion_r397866426", "createdAt": "2020-03-25T13:48:09Z", "author": {"login": "gastaldi"}, "path": "extensions/oidc/runtime/src/main/java/io/quarkus/oidc/runtime/OidcTenantConfig.java", "diffHunk": "@@ -467,6 +477,37 @@ public void setPrincipalClaim(String principalClaim) {\n         }\n     }\n \n+    @ConfigGroup\n+    public static class Proxy {\n+\n+        /**\n+         * The host (name or IP address) of the Proxy.<br/>\n+         * Note: If OIDC adapter needs to use a Proxy to talk with OIDC server (Provider),\n+         * then at least both \"host\" and \"port\" items must be configured to enable the usage of a Proxy.\n+         */\n+        @ConfigItem\n+        public Optional<String> host = Optional.empty();\n+\n+        /**\n+         * The port number of the Proxy.\n+         */\n+        @ConfigItem\n+        public OptionalInt port = OptionalInt.of(80);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzg1OTk5NQ=="}, "originalCommit": {"oid": "a32122c7a095e132bfd8bd69dd86597a588dd891"}, "originalPosition": 58}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzg2ODMzNQ==", "bodyText": "So, would this work?\n@ConfigItem\npublic int port = 80;\nI'm a bit lost now ... Please, a last help here.", "url": "https://github.com/quarkusio/quarkus/pull/8120#discussion_r397868335", "createdAt": "2020-03-25T13:50:39Z", "author": {"login": "dxps"}, "path": "extensions/oidc/runtime/src/main/java/io/quarkus/oidc/runtime/OidcTenantConfig.java", "diffHunk": "@@ -467,6 +477,37 @@ public void setPrincipalClaim(String principalClaim) {\n         }\n     }\n \n+    @ConfigGroup\n+    public static class Proxy {\n+\n+        /**\n+         * The host (name or IP address) of the Proxy.<br/>\n+         * Note: If OIDC adapter needs to use a Proxy to talk with OIDC server (Provider),\n+         * then at least both \"host\" and \"port\" items must be configured to enable the usage of a Proxy.\n+         */\n+        @ConfigItem\n+        public Optional<String> host = Optional.empty();\n+\n+        /**\n+         * The port number of the Proxy.\n+         */\n+        @ConfigItem\n+        public OptionalInt port = OptionalInt.of(80);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzg1OTk5NQ=="}, "originalCommit": {"oid": "a32122c7a095e132bfd8bd69dd86597a588dd891"}, "originalPosition": 58}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzg2OTU5Mg==", "bodyText": "Yes, it should work, but you need to add the defaultValue attribute in @ConfigItem AFAIK, as I showed in #8120 (comment)", "url": "https://github.com/quarkusio/quarkus/pull/8120#discussion_r397869592", "createdAt": "2020-03-25T13:52:18Z", "author": {"login": "gastaldi"}, "path": "extensions/oidc/runtime/src/main/java/io/quarkus/oidc/runtime/OidcTenantConfig.java", "diffHunk": "@@ -467,6 +477,37 @@ public void setPrincipalClaim(String principalClaim) {\n         }\n     }\n \n+    @ConfigGroup\n+    public static class Proxy {\n+\n+        /**\n+         * The host (name or IP address) of the Proxy.<br/>\n+         * Note: If OIDC adapter needs to use a Proxy to talk with OIDC server (Provider),\n+         * then at least both \"host\" and \"port\" items must be configured to enable the usage of a Proxy.\n+         */\n+        @ConfigItem\n+        public Optional<String> host = Optional.empty();\n+\n+        /**\n+         * The port number of the Proxy.\n+         */\n+        @ConfigItem\n+        public OptionalInt port = OptionalInt.of(80);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzg1OTk5NQ=="}, "originalCommit": {"oid": "a32122c7a095e132bfd8bd69dd86597a588dd891"}, "originalPosition": 58}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzg3MDM3OQ==", "bodyText": "@ConfigItem(defaultValue=\"80\")\npublic int port;\n\n? - we do it for booleans this way", "url": "https://github.com/quarkusio/quarkus/pull/8120#discussion_r397870379", "createdAt": "2020-03-25T13:53:21Z", "author": {"login": "sberyozkin"}, "path": "extensions/oidc/runtime/src/main/java/io/quarkus/oidc/runtime/OidcTenantConfig.java", "diffHunk": "@@ -467,6 +477,37 @@ public void setPrincipalClaim(String principalClaim) {\n         }\n     }\n \n+    @ConfigGroup\n+    public static class Proxy {\n+\n+        /**\n+         * The host (name or IP address) of the Proxy.<br/>\n+         * Note: If OIDC adapter needs to use a Proxy to talk with OIDC server (Provider),\n+         * then at least both \"host\" and \"port\" items must be configured to enable the usage of a Proxy.\n+         */\n+        @ConfigItem\n+        public Optional<String> host = Optional.empty();\n+\n+        /**\n+         * The port number of the Proxy.\n+         */\n+        @ConfigItem\n+        public OptionalInt port = OptionalInt.of(80);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzg1OTk5NQ=="}, "originalCommit": {"oid": "a32122c7a095e132bfd8bd69dd86597a588dd891"}, "originalPosition": 58}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzg3NDAzOQ==", "bodyText": "Sorry @gastaldi, @DEVisions, it should probably be\n@ConfigItem(defaultValue=\"80\")\npublic int port = 80;\n\nas suggested by George if we want to make it non-injection env friendly (for TenantConfigResolver, etc)", "url": "https://github.com/quarkusio/quarkus/pull/8120#discussion_r397874039", "createdAt": "2020-03-25T13:58:01Z", "author": {"login": "sberyozkin"}, "path": "extensions/oidc/runtime/src/main/java/io/quarkus/oidc/runtime/OidcTenantConfig.java", "diffHunk": "@@ -467,6 +477,37 @@ public void setPrincipalClaim(String principalClaim) {\n         }\n     }\n \n+    @ConfigGroup\n+    public static class Proxy {\n+\n+        /**\n+         * The host (name or IP address) of the Proxy.<br/>\n+         * Note: If OIDC adapter needs to use a Proxy to talk with OIDC server (Provider),\n+         * then at least both \"host\" and \"port\" items must be configured to enable the usage of a Proxy.\n+         */\n+        @ConfigItem\n+        public Optional<String> host = Optional.empty();\n+\n+        /**\n+         * The port number of the Proxy.\n+         */\n+        @ConfigItem\n+        public OptionalInt port = OptionalInt.of(80);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzg1OTk5NQ=="}, "originalCommit": {"oid": "a32122c7a095e132bfd8bd69dd86597a588dd891"}, "originalPosition": 58}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ2NjQzMjMyOnYy", "diffSide": "RIGHT", "path": "extensions/oidc/runtime/src/main/java/io/quarkus/oidc/runtime/OidcTenantConfig.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNVQxMzo0MDo1OVrOF7bhDg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNVQxMzo0ODo0NFrOF7b3Ww==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzg2MTEzNA==", "bodyText": "Also we don't use star imports. Can you double-check if your IDE is using the Quarkus formatter?", "url": "https://github.com/quarkusio/quarkus/pull/8120#discussion_r397861134", "createdAt": "2020-03-25T13:40:59Z", "author": {"login": "gastaldi"}, "path": "extensions/oidc/runtime/src/main/java/io/quarkus/oidc/runtime/OidcTenantConfig.java", "diffHunk": "@@ -1,10 +1,7 @@\n package io.quarkus.oidc.runtime;\n \n import java.time.Duration;\n-import java.util.Arrays;\n-import java.util.List;\n-import java.util.Map;\n-import java.util.Optional;\n+import java.util.*;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "73406e1040c8e25008c24e1cedd1cd6f2d336619"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzg2Njg0Mw==", "bodyText": "Indeed. It was an IDE issue.", "url": "https://github.com/quarkusio/quarkus/pull/8120#discussion_r397866843", "createdAt": "2020-03-25T13:48:44Z", "author": {"login": "dxps"}, "path": "extensions/oidc/runtime/src/main/java/io/quarkus/oidc/runtime/OidcTenantConfig.java", "diffHunk": "@@ -1,10 +1,7 @@\n package io.quarkus.oidc.runtime;\n \n import java.time.Duration;\n-import java.util.Arrays;\n-import java.util.List;\n-import java.util.Map;\n-import java.util.Optional;\n+import java.util.*;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzg2MTEzNA=="}, "originalCommit": {"oid": "73406e1040c8e25008c24e1cedd1cd6f2d336619"}, "originalPosition": 8}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4613, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}