{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTMwNjEyOTcw", "number": 13610, "title": "Fix lambda no arg error", "bodyText": "resolves #13595", "createdAt": "2020-12-01T22:25:17Z", "url": "https://github.com/quarkusio/quarkus/pull/13610", "merged": true, "mergeCommit": {"oid": "06e7f6248786c3c8868c818b55d4792c441f3e8f"}, "closed": true, "closedAt": "2021-03-30T12:49:24Z", "author": {"login": "matejvasek"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdiBuNHAFqTU0MjM1MTY4MQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABeIMuXMgFqTYyNDIxNDc1Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQyMzUxNjgx", "url": "https://github.com/quarkusio/quarkus/pull/13610#pullrequestreview-542351681", "createdAt": "2020-12-01T22:31:02Z", "commit": {"oid": "400b77441c2c7f899ee17375a77c54b7195dbbef"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMVQyMjozMTowMlrOH9CdOg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMVQyMjozMTowMlrOH9CdOg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzc2NTQzNA==", "bodyText": "Maybe we could add overload with timeout?", "url": "https://github.com/quarkusio/quarkus/pull/13610#discussion_r533765434", "createdAt": "2020-12-01T22:31:02Z", "author": {"login": "matejvasek"}, "path": "integration-tests/funqy-amazon-lambda/src/test/java/io/quarkus/funqy/test/NoArgFunTest.java", "diffHunk": "@@ -0,0 +1,39 @@\n+package io.quarkus.funqy.test;\n+\n+import static org.junit.jupiter.api.Assertions.fail;\n+\n+import java.util.Timer;\n+import java.util.TimerTask;\n+\n+import org.junit.jupiter.api.Test;\n+import org.junit.jupiter.api.extension.ExtendWith;\n+\n+import io.quarkus.amazon.lambda.test.LambdaClient;\n+import io.quarkus.test.junit.QuarkusTest;\n+\n+@QuarkusTest\n+@ExtendWith(UseNoArgFunExtension.class)\n+public class NoArgFunTest {\n+\n+    @Test\n+    public void testNoArgFun() {\n+        Thread mainTestThread = Thread.currentThread();\n+        Timer timer = new Timer(true);\n+        timer.schedule(new TimerTask() {\n+            @Override\n+            public void run() {\n+                mainTestThread.interrupt();\n+            }\n+        }, 10_000);\n+\n+        try {\n+            LambdaClient.invoke(String.class, null);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "400b77441c2c7f899ee17375a77c54b7195dbbef"}, "originalPosition": 30}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQyNjg5NzMy", "url": "https://github.com/quarkusio/quarkus/pull/13610#pullrequestreview-542689732", "createdAt": "2020-12-02T10:20:42Z", "commit": {"oid": "400b77441c2c7f899ee17375a77c54b7195dbbef"}, "state": "DISMISSED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQxMDoyMDo0MlrOH9UBig==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQxMDoyMDo0MlrOH9UBig==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDA1MzI1OA==", "bodyText": "Please use curly braces.", "url": "https://github.com/quarkusio/quarkus/pull/13610#discussion_r534053258", "createdAt": "2020-12-02T10:20:42Z", "author": {"login": "gsmet"}, "path": "extensions/amazon-lambda/common-runtime/src/main/java/io/quarkus/amazon/lambda/runtime/AbstractLambdaPollLoop.java", "diffHunk": "@@ -74,8 +74,10 @@ public void run() {\n                                     }\n                                 } else {\n                                     Object input = null;\n-                                    if (running.get() && getInputReader() != null) {\n-                                        input = getInputReader().readValue(requestConnection.getInputStream());\n+                                    if (running.get()) {\n+                                        ObjectReader inputReader = getInputReader();\n+                                        if (inputReader != null)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "400b77441c2c7f899ee17375a77c54b7195dbbef"}, "originalPosition": 8}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d7b9188c34041ff3384e382130fc23e13ee67f61", "author": {"user": {"login": "matejvasek", "name": "Matej Vasek"}}, "url": "https://github.com/quarkusio/quarkus/commit/d7b9188c34041ff3384e382130fc23e13ee67f61", "committedDate": "2020-12-02T17:48:39Z", "message": "async lambda invoke for test-framework\n\nSigned-off-by: Matej Vasek <mvasek@redhat.com>"}, "afterCommit": {"oid": "cabf8d91e2e8bc120d6370712d99a31dde25693b", "author": {"user": {"login": "matejvasek", "name": "Matej Vasek"}}, "url": "https://github.com/quarkusio/quarkus/commit/cabf8d91e2e8bc120d6370712d99a31dde25693b", "committedDate": "2020-12-02T19:34:02Z", "message": "Fix lambda no arg error\n\nSigned-off-by: Matej Vasek <mvasek@redhat.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "cabf8d91e2e8bc120d6370712d99a31dde25693b", "author": {"user": {"login": "matejvasek", "name": "Matej Vasek"}}, "url": "https://github.com/quarkusio/quarkus/commit/cabf8d91e2e8bc120d6370712d99a31dde25693b", "committedDate": "2020-12-02T19:34:02Z", "message": "Fix lambda no arg error\n\nSigned-off-by: Matej Vasek <mvasek@redhat.com>"}, "afterCommit": {"oid": "09e645f56a320dc04f2b1019103199ca571cd6db", "author": {"user": {"login": "matejvasek", "name": "Matej Vasek"}}, "url": "https://github.com/quarkusio/quarkus/commit/09e645f56a320dc04f2b1019103199ca571cd6db", "committedDate": "2020-12-02T19:49:19Z", "message": "Fix lambda no arg error\n\nSigned-off-by: Matej Vasek <mvasek@redhat.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c90bd8c11d8c2b8d1b7388099902d15b02a9cddf", "author": {"user": {"login": "matejvasek", "name": "Matej Vasek"}}, "url": "https://github.com/quarkusio/quarkus/commit/c90bd8c11d8c2b8d1b7388099902d15b02a9cddf", "committedDate": "2021-03-09T17:16:39Z", "message": "Fix lambda no arg error\n\nSigned-off-by: Matej Vasek <mvasek@redhat.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "09e645f56a320dc04f2b1019103199ca571cd6db", "author": {"user": {"login": "matejvasek", "name": "Matej Vasek"}}, "url": "https://github.com/quarkusio/quarkus/commit/09e645f56a320dc04f2b1019103199ca571cd6db", "committedDate": "2020-12-02T19:49:19Z", "message": "Fix lambda no arg error\n\nSigned-off-by: Matej Vasek <mvasek@redhat.com>"}, "afterCommit": {"oid": "c90bd8c11d8c2b8d1b7388099902d15b02a9cddf", "author": {"user": {"login": "matejvasek", "name": "Matej Vasek"}}, "url": "https://github.com/quarkusio/quarkus/commit/c90bd8c11d8c2b8d1b7388099902d15b02a9cddf", "committedDate": "2021-03-09T17:16:39Z", "message": "Fix lambda no arg error\n\nSigned-off-by: Matej Vasek <mvasek@redhat.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjI0MjE0NzUz", "url": "https://github.com/quarkusio/quarkus/pull/13610#pullrequestreview-624214753", "createdAt": "2021-03-30T12:49:17Z", "commit": {"oid": "c90bd8c11d8c2b8d1b7388099902d15b02a9cddf"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1187, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}