{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDEyNDU1NTcy", "number": 9026, "title": "Get rid of volatile configuration fields for Scheduler", "bodyText": "", "createdAt": "2020-05-02T13:59:00Z", "url": "https://github.com/quarkusio/quarkus/pull/9026", "merged": true, "mergeCommit": {"oid": "bddbd9d95f5a715b94e4e51c58582704cdd763f1"}, "closed": true, "closedAt": "2020-05-05T11:22:32Z", "author": {"login": "geoand"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcdWvjIABqjMyOTU5OTg0MzE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABceSNQjgFqTQwNTY5MzMyOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b20592c402e7e65ece345ae324de228b39c50fd4", "author": {"user": {"login": "geoand", "name": "Georgios Andrianakis"}}, "url": "https://github.com/quarkusio/quarkus/commit/b20592c402e7e65ece345ae324de228b39c50fd4", "committedDate": "2020-05-02T13:58:42Z", "message": "Get rid of volatile configuration fields for Scheduler"}, "afterCommit": {"oid": "8ed1191a333e457b8b5b338d9ec427d36e4415a1", "author": {"user": {"login": "geoand", "name": "Georgios Andrianakis"}}, "url": "https://github.com/quarkusio/quarkus/commit/8ed1191a333e457b8b5b338d9ec427d36e4415a1", "committedDate": "2020-05-02T13:59:37Z", "message": "Get rid of volatile configuration fields for Scheduler"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8ed1191a333e457b8b5b338d9ec427d36e4415a1", "author": {"user": {"login": "geoand", "name": "Georgios Andrianakis"}}, "url": "https://github.com/quarkusio/quarkus/commit/8ed1191a333e457b8b5b338d9ec427d36e4415a1", "committedDate": "2020-05-02T13:59:37Z", "message": "Get rid of volatile configuration fields for Scheduler"}, "afterCommit": {"oid": "c91407f42d10888c50762e296d870a6ab6f35d8c", "author": {"user": {"login": "geoand", "name": "Georgios Andrianakis"}}, "url": "https://github.com/quarkusio/quarkus/commit/c91407f42d10888c50762e296d870a6ab6f35d8c", "committedDate": "2020-05-02T14:08:39Z", "message": "Get rid of volatile configuration fields for Scheduler"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c91407f42d10888c50762e296d870a6ab6f35d8c", "author": {"user": {"login": "geoand", "name": "Georgios Andrianakis"}}, "url": "https://github.com/quarkusio/quarkus/commit/c91407f42d10888c50762e296d870a6ab6f35d8c", "committedDate": "2020-05-02T14:08:39Z", "message": "Get rid of volatile configuration fields for Scheduler"}, "afterCommit": {"oid": "b98ea413286fa247ace36aa56bbfa49671903f74", "author": {"user": {"login": "geoand", "name": "Georgios Andrianakis"}}, "url": "https://github.com/quarkusio/quarkus/commit/b98ea413286fa247ace36aa56bbfa49671903f74", "committedDate": "2020-05-02T15:33:58Z", "message": "Get rid of volatile configuration fields for Scheduler"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b98ea413286fa247ace36aa56bbfa49671903f74", "author": {"user": {"login": "geoand", "name": "Georgios Andrianakis"}}, "url": "https://github.com/quarkusio/quarkus/commit/b98ea413286fa247ace36aa56bbfa49671903f74", "committedDate": "2020-05-02T15:33:58Z", "message": "Get rid of volatile configuration fields for Scheduler"}, "afterCommit": {"oid": "f706c14054b7802e019e26a7e89b2e2cecdcc545", "author": {"user": {"login": "geoand", "name": "Georgios Andrianakis"}}, "url": "https://github.com/quarkusio/quarkus/commit/f706c14054b7802e019e26a7e89b2e2cecdcc545", "committedDate": "2020-05-02T21:53:56Z", "message": "Get rid of volatile configuration fields for Scheduler"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f706c14054b7802e019e26a7e89b2e2cecdcc545", "author": {"user": {"login": "geoand", "name": "Georgios Andrianakis"}}, "url": "https://github.com/quarkusio/quarkus/commit/f706c14054b7802e019e26a7e89b2e2cecdcc545", "committedDate": "2020-05-02T21:53:56Z", "message": "Get rid of volatile configuration fields for Scheduler"}, "afterCommit": {"oid": "bb58035bfb3184c60c04875586bb5425ca837cd1", "author": {"user": {"login": "geoand", "name": "Georgios Andrianakis"}}, "url": "https://github.com/quarkusio/quarkus/commit/bb58035bfb3184c60c04875586bb5425ca837cd1", "committedDate": "2020-05-03T08:27:47Z", "message": "Get rid of volatile configuration fields for Scheduler"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA0NjE5NTYw", "url": "https://github.com/quarkusio/quarkus/pull/9026#pullrequestreview-404619560", "createdAt": "2020-05-03T13:37:44Z", "commit": {"oid": "bb58035bfb3184c60c04875586bb5425ca837cd1"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wM1QxMzozNzo0NFrOGPsI_w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wM1QxMzozNzo0NFrOGPsI_w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTEwNTAyMw==", "bodyText": "Can be moved to where the initialisation occurs? https://github.com/quarkusio/quarkus/pull/9026/files#diff-f3233ae68279acfe2869eaffaeb10682R76", "url": "https://github.com/quarkusio/quarkus/pull/9026#discussion_r419105023", "createdAt": "2020-05-03T13:37:44Z", "author": {"login": "machi1990"}, "path": "extensions/quartz/runtime/src/main/java/io/quarkus/quartz/runtime/QuartzScheduler.java", "diffHunk": "@@ -68,13 +67,13 @@\n     }\n \n     public QuartzScheduler(SchedulerContext context, QuartzSupport quartzSupport, Config config) {\n+        Map<String, ScheduledInvoker> invokers;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bb58035bfb3184c60c04875586bb5425ca837cd1"}, "originalPosition": 12}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA0NjE5NjQx", "url": "https://github.com/quarkusio/quarkus/pull/9026#pullrequestreview-404619641", "createdAt": "2020-05-03T13:38:42Z", "commit": {"oid": "bb58035bfb3184c60c04875586bb5425ca837cd1"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wM1QxMzozODo0MlrOGPsJaQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wM1QxMzozODo0MlrOGPsJaQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTEwNTEyOQ==", "bodyText": "Ah did not know we have this. Thanks :)", "url": "https://github.com/quarkusio/quarkus/pull/9026#discussion_r419105129", "createdAt": "2020-05-03T13:38:42Z", "author": {"login": "machi1990"}, "path": "extensions/quartz/deployment/src/main/java/io/quarkus/quartz/deployment/QuartzProcessor.java", "diffHunk": "@@ -168,13 +170,22 @@ private String guessDriver(Optional<JdbcDataSourceBuildItem> jdbcDataSource) {\n     }\n \n     @BuildStep\n-    @Record(RUNTIME_INIT)\n-    public void build(QuartzRuntimeConfig runtimeConfig, QuartzBuildTimeConfig buildTimeConfig, QuartzRecorder recorder,\n-            BeanContainerBuildItem beanContainer,\n-            BuildProducer<ServiceStartBuildItem> serviceStart, QuartzJDBCDriverDialectBuildItem driverDialect,\n-            List<JdbcDataSourceSchemaReadyBuildItem> schemaReadyBuildItem) {\n-        recorder.initialize(runtimeConfig, buildTimeConfig, beanContainer.getValue(), driverDialect.getDriver());\n+    public void start(BuildProducer<ServiceStartBuildItem> serviceStart,\n+            @SuppressWarnings(\"unused\") List<JdbcDataSourceSchemaReadyBuildItem> schemaReadyBuildItem) {\n         // Make sure that StartupEvent is fired after the init\n         serviceStart.produce(new ServiceStartBuildItem(\"quartz\"));\n     }\n+\n+    @BuildStep\n+    @Record(RUNTIME_INIT)\n+    public void quartzSupportBean(QuartzRuntimeConfig runtimeConfig, QuartzBuildTimeConfig buildTimeConfig,\n+            QuartzRecorder recorder,\n+            BuildProducer<SyntheticBeanBuildItem> syntheticBeanBuildItemBuildProducer,\n+            QuartzJDBCDriverDialectBuildItem driverDialect) {\n+\n+        syntheticBeanBuildItemBuildProducer.produce(SyntheticBeanBuildItem.configure(QuartzSupport.class)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bb58035bfb3184c60c04875586bb5425ca837cd1"}, "originalPosition": 50}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA0NjE5Njk0", "url": "https://github.com/quarkusio/quarkus/pull/9026#pullrequestreview-404619694", "createdAt": "2020-05-03T13:39:09Z", "commit": {"oid": "bb58035bfb3184c60c04875586bb5425ca837cd1"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3eb5ec215873da743979f0f615d2d35905d1eeb0", "author": {"user": {"login": "geoand", "name": "Georgios Andrianakis"}}, "url": "https://github.com/quarkusio/quarkus/commit/3eb5ec215873da743979f0f615d2d35905d1eeb0", "committedDate": "2020-05-03T13:45:32Z", "message": "Get rid of volatile configuration fields for Scheduler"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "bb58035bfb3184c60c04875586bb5425ca837cd1", "author": {"user": {"login": "geoand", "name": "Georgios Andrianakis"}}, "url": "https://github.com/quarkusio/quarkus/commit/bb58035bfb3184c60c04875586bb5425ca837cd1", "committedDate": "2020-05-03T08:27:47Z", "message": "Get rid of volatile configuration fields for Scheduler"}, "afterCommit": {"oid": "3eb5ec215873da743979f0f615d2d35905d1eeb0", "author": {"user": {"login": "geoand", "name": "Georgios Andrianakis"}}, "url": "https://github.com/quarkusio/quarkus/commit/3eb5ec215873da743979f0f615d2d35905d1eeb0", "committedDate": "2020-05-03T13:45:32Z", "message": "Get rid of volatile configuration fields for Scheduler"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA1NjkzMzI5", "url": "https://github.com/quarkusio/quarkus/pull/9026#pullrequestreview-405693329", "createdAt": "2020-05-05T11:16:36Z", "commit": {"oid": "3eb5ec215873da743979f0f615d2d35905d1eeb0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4429, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}