{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc4NjEyMDE2", "number": 7361, "title": "Document how to protect routes in Quarkus", "bodyText": "Fix #7240\nThis adds a short section to the Keycloak tutorial about optionally protecting routes with the Quarkus application.properties file. It mostly just links to other excellent Quarkus tutorials.", "createdAt": "2020-02-22T17:26:19Z", "url": "https://github.com/quarkusio/quarkus/pull/7361", "merged": true, "mergeCommit": {"oid": "dd53dd79e6e746e73122a1ffc5091c76245f76ca"}, "closed": true, "closedAt": "2020-02-28T10:18:02Z", "author": {"login": "stefnotch"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcG41p5gFqTM2MzA0NDEzMw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcIrSTPgH2gAyMzc4NjEyMDE2OjlhM2E4NjA5Mjk0OWMxMzcxODM4NzZhNDlmOTExYTY5NTg1NTc3OWU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYzMDQ0MTMz", "url": "https://github.com/quarkusio/quarkus/pull/7361#pullrequestreview-363044133", "createdAt": "2020-02-22T18:42:19Z", "commit": {"oid": "91b79c32d1f8c6b1dc69043dab23667a2df6edaf"}, "state": "DISMISSED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMlQxODo0MjoyMFrOFtMWbg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMlQxODo0MjoyMFrOFtMWbg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjkzMjU5MA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            To configure the protected routes using the `application.properties file`, check the link:security-openid-connect-web-authentication[Protecting Web Applications Using OpenID Connect] tutorial. For more details, check the link:security[Security Guide].\n          \n          \n            \n            To configure the protected routes using the `application.properties` file, check the link:security-openid-connect-web-authentication[Protecting Web Applications Using OpenID Connect] guide. For more details, check the link:security[Security guide].", "url": "https://github.com/quarkusio/quarkus/pull/7361#discussion_r382932590", "createdAt": "2020-02-22T18:42:20Z", "author": {"login": "gsmet"}, "path": "docs/src/main/asciidoc/security-keycloak-authorization.adoc", "diffHunk": "@@ -169,6 +169,12 @@ quarkus.keycloak.policy-enforcer.enable=true\n \n NOTE: By default, applications using the `quarkus-oidc` extension are marked as a `service` type application (see `quarkus.oidc.application-type`). This extension currently supports only such `service` type applications.\n \n+=== Configuring protected routes\n+\n+In the default configuration, Keycloak is responsible for managing the roles and deciding who can access which routes. \n+\n+To configure the protected routes using the `application.properties file`, check the link:security-openid-connect-web-authentication[Protecting Web Applications Using OpenID Connect] tutorial. For more details, check the link:security[Security Guide].", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "91b79c32d1f8c6b1dc69043dab23667a2df6edaf"}, "originalPosition": 8}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYzMTA0NzA0", "url": "https://github.com/quarkusio/quarkus/pull/7361#pullrequestreview-363104704", "createdAt": "2020-02-23T15:56:43Z", "commit": {"oid": "2938e0ee2d3d92f3e18d327f61ff56c558e72b03"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yM1QxNTo1Njo0M1rOFtRcxw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yM1QxNTo1Njo0M1rOFtRcxw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzAxNjEzNQ==", "bodyText": "Hi, FYI, quarkus-keycloak-authorization is not activated for the web-app applications which is what this section refers to. Can you please clarify what do you mean when you say the protected routes ?", "url": "https://github.com/quarkusio/quarkus/pull/7361#discussion_r383016135", "createdAt": "2020-02-23T15:56:43Z", "author": {"login": "sberyozkin"}, "path": "docs/src/main/asciidoc/security-keycloak-authorization.adoc", "diffHunk": "@@ -169,6 +169,12 @@ quarkus.keycloak.policy-enforcer.enable=true\n \n NOTE: By default, applications using the `quarkus-oidc` extension are marked as a `service` type application (see `quarkus.oidc.application-type`). This extension currently supports only such `service` type applications.\n \n+=== Configuring protected routes\n+\n+In the default configuration, Keycloak is responsible for managing the roles and deciding who can access which routes. \n+\n+To configure the protected routes using the `application.properties` file, check the link:security-openid-connect-web-authentication[Protecting Web Applications Using OpenID Connect] guide. For more details, check the link:security[Security guide].\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2938e0ee2d3d92f3e18d327f61ff56c558e72b03"}, "originalPosition": 9}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYzMTIwMTAz", "url": "https://github.com/quarkusio/quarkus/pull/7361#pullrequestreview-363120103", "createdAt": "2020-02-23T20:29:40Z", "commit": {"oid": "e0688f83e059799a383b0a7c2024490f1380d5c3"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY1ODcwNDU1", "url": "https://github.com/quarkusio/quarkus/pull/7361#pullrequestreview-365870455", "createdAt": "2020-02-27T17:49:26Z", "commit": {"oid": "e0688f83e059799a383b0a7c2024490f1380d5c3"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yN1QxNzo0OToyNlrOFvbFSw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yN1QxNzo0OToyNlrOFvbFSw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTI3MTExNQ==", "bodyText": "Hi @stefnotch I've had another look at this doc snippet, sorry, it is just a few lines, but I have one more proposal on how to change it. At the moment it feels it is out of context as it is placed in a section where the quickstart steps are described, showing how to protect the routes using this extension. Another minor bit is that this extension is also configured in application.properties :-)\nIMHO it will read better if you add a single line pointing to the alternative approach at the very end of the introduction section at the top of the document:\nTo configure the protected routes using the `@RolesAllowed` annotation or Quarkus HTTP security policies, check the link:security-openid-connect[Using OpenID Connect Adapter to Protect JAX-RS Applications] guide and the link:security#authorization-of-web-endpoints-using-configuration[Security guide].\n\nThis way the quickstart solution section will be just about this quickstart.\nThanks", "url": "https://github.com/quarkusio/quarkus/pull/7361#discussion_r385271115", "createdAt": "2020-02-27T17:49:26Z", "author": {"login": "sberyozkin"}, "path": "docs/src/main/asciidoc/security-keycloak-authorization.adoc", "diffHunk": "@@ -169,6 +169,12 @@ quarkus.keycloak.policy-enforcer.enable=true\n \n NOTE: By default, applications using the `quarkus-oidc` extension are marked as a `service` type application (see `quarkus.oidc.application-type`). This extension currently supports only such `service` type applications.\n \n+=== Configuring protected routes", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e0688f83e059799a383b0a7c2024490f1380d5c3"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9a3a86092949c137183876a49f911a695855779e", "author": {"user": {"login": "stefnotch", "name": null}}, "url": "https://github.com/quarkusio/quarkus/commit/9a3a86092949c137183876a49f911a695855779e", "committedDate": "2020-02-28T08:03:23Z", "message": "Document how to protect routes in Quarkus\n\nFix #7240\nUpdate docs/src/main/asciidoc/security-keycloak-authorization.adoc\n\nCo-Authored-By: Guillaume Smet <guillaume.smet@gmail.com>\naa\n\n\nSTuff"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4189, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}