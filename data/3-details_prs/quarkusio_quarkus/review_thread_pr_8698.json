{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA2MDUyODg0", "number": 8698, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQxMzoxNzo1NlrODzuNzw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQxODozOToyNFrOD0YPgw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU1NTYxMTY3OnYy", "diffSide": "RIGHT", "path": "extensions/hibernate-validator/deployment/src/test/java/io/quarkus/hibernate/validator/test/FailFastTest.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQxMzoxNzo1NlrOGIT-cg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQxMTozNjowMFrOGJBAgg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTM2OTA3NA==", "bodyText": "nitpick: Maybe we could use new StringAsset(...) since application-fail-fast.properties contain only one configuration property?  Same for the other added props files.", "url": "https://github.com/quarkusio/quarkus/pull/8698#discussion_r411369074", "createdAt": "2020-04-20T13:17:56Z", "author": {"login": "machi1990"}, "path": "extensions/hibernate-validator/deployment/src/test/java/io/quarkus/hibernate/validator/test/FailFastTest.java", "diffHunk": "@@ -0,0 +1,64 @@\n+package io.quarkus.hibernate.validator.test;\n+\n+import static org.assertj.core.api.Assertions.assertThat;\n+\n+import java.util.HashSet;\n+import java.util.Set;\n+\n+import javax.inject.Inject;\n+import javax.validation.ConstraintViolation;\n+import javax.validation.Valid;\n+import javax.validation.Validator;\n+import javax.validation.constraints.Email;\n+import javax.validation.constraints.Max;\n+import javax.validation.constraints.Min;\n+import javax.validation.constraints.NotNull;\n+import javax.validation.constraints.Pattern;\n+\n+import org.jboss.shrinkwrap.api.ShrinkWrap;\n+import org.jboss.shrinkwrap.api.spec.JavaArchive;\n+import org.junit.jupiter.api.Test;\n+import org.junit.jupiter.api.extension.RegisterExtension;\n+\n+import io.quarkus.test.QuarkusUnitTest;\n+\n+public class FailFastTest {\n+\n+    @RegisterExtension\n+    static final QuarkusUnitTest test = new QuarkusUnitTest().setArchiveProducer(() -> ShrinkWrap\n+            .create(JavaArchive.class)\n+            .addClasses(A.class, B.class)\n+            .addAsResource(\"application-fail-fast.properties\", \"application.properties\"));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a76bd875c715282cb4728d28b262dd9c09cf10f4"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjEwNjg4Mg==", "bodyText": "Right. I force-pushed an update.", "url": "https://github.com/quarkusio/quarkus/pull/8698#discussion_r412106882", "createdAt": "2020-04-21T11:36:00Z", "author": {"login": "gsmet"}, "path": "extensions/hibernate-validator/deployment/src/test/java/io/quarkus/hibernate/validator/test/FailFastTest.java", "diffHunk": "@@ -0,0 +1,64 @@\n+package io.quarkus.hibernate.validator.test;\n+\n+import static org.assertj.core.api.Assertions.assertThat;\n+\n+import java.util.HashSet;\n+import java.util.Set;\n+\n+import javax.inject.Inject;\n+import javax.validation.ConstraintViolation;\n+import javax.validation.Valid;\n+import javax.validation.Validator;\n+import javax.validation.constraints.Email;\n+import javax.validation.constraints.Max;\n+import javax.validation.constraints.Min;\n+import javax.validation.constraints.NotNull;\n+import javax.validation.constraints.Pattern;\n+\n+import org.jboss.shrinkwrap.api.ShrinkWrap;\n+import org.jboss.shrinkwrap.api.spec.JavaArchive;\n+import org.junit.jupiter.api.Test;\n+import org.junit.jupiter.api.extension.RegisterExtension;\n+\n+import io.quarkus.test.QuarkusUnitTest;\n+\n+public class FailFastTest {\n+\n+    @RegisterExtension\n+    static final QuarkusUnitTest test = new QuarkusUnitTest().setArchiveProducer(() -> ShrinkWrap\n+            .create(JavaArchive.class)\n+            .addClasses(A.class, B.class)\n+            .addAsResource(\"application-fail-fast.properties\", \"application.properties\"));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTM2OTA3NA=="}, "originalCommit": {"oid": "a76bd875c715282cb4728d28b262dd9c09cf10f4"}, "originalPosition": 31}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU2MjQ4MDAwOnYy", "diffSide": "RIGHT", "path": "extensions/hibernate-validator/deployment/src/main/java/io/quarkus/hibernate/validator/deployment/HibernateValidatorProcessor.java", "isResolved": false, "comments": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQxODozNToyMlrOGJSvIg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQyMToxMTowM1rOGJYp3w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjM5NzM0Ng==", "bodyText": "Oh man... I don't like this pattern at all, it should be disallowed really :). But there is no way I'm going to hold up the PR on a personal opinion :)", "url": "https://github.com/quarkusio/quarkus/pull/8698#discussion_r412397346", "createdAt": "2020-04-21T18:35:22Z", "author": {"login": "geoand"}, "path": "extensions/hibernate-validator/deployment/src/main/java/io/quarkus/hibernate/validator/deployment/HibernateValidatorProcessor.java", "diffHunk": "@@ -90,6 +91,8 @@\n \n     private LocalesBuildTimeConfig localesBuildTimeConfig;\n \n+    private HibernateValidatorBuildTimeConfig hibernateValidatorBuildTimeConfig;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "53558ab004edf6a7958ddde20ec1ec95e9120981"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjQwMjcyMw==", "bodyText": "Well, what do you suggest? Because it's how we always did things.\nNote that I cannot use a producer because I want the ValidatorFactory to be produced at static init and there's no way to force that right now.", "url": "https://github.com/quarkusio/quarkus/pull/8698#discussion_r412402723", "createdAt": "2020-04-21T18:43:21Z", "author": {"login": "gsmet"}, "path": "extensions/hibernate-validator/deployment/src/main/java/io/quarkus/hibernate/validator/deployment/HibernateValidatorProcessor.java", "diffHunk": "@@ -90,6 +91,8 @@\n \n     private LocalesBuildTimeConfig localesBuildTimeConfig;\n \n+    private HibernateValidatorBuildTimeConfig hibernateValidatorBuildTimeConfig;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjM5NzM0Ng=="}, "originalCommit": {"oid": "53558ab004edf6a7958ddde20ec1ec95e9120981"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjQwNTAyMg==", "bodyText": "I meant that ideally these arguments should be method arguments of the build step, not fields, which is just weird.\nBut it's not a problem obviously \ud83d\ude09", "url": "https://github.com/quarkusio/quarkus/pull/8698#discussion_r412405022", "createdAt": "2020-04-21T18:46:53Z", "author": {"login": "geoand"}, "path": "extensions/hibernate-validator/deployment/src/main/java/io/quarkus/hibernate/validator/deployment/HibernateValidatorProcessor.java", "diffHunk": "@@ -90,6 +91,8 @@\n \n     private LocalesBuildTimeConfig localesBuildTimeConfig;\n \n+    private HibernateValidatorBuildTimeConfig hibernateValidatorBuildTimeConfig;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjM5NzM0Ng=="}, "originalCommit": {"oid": "53558ab004edf6a7958ddde20ec1ec95e9120981"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjQwNTgwNw==", "bodyText": "An alternative could be to make hibernateValidatorBuildTimeConfig  as method parameter. Where it is used only.", "url": "https://github.com/quarkusio/quarkus/pull/8698#discussion_r412405807", "createdAt": "2020-04-21T18:48:09Z", "author": {"login": "machi1990"}, "path": "extensions/hibernate-validator/deployment/src/main/java/io/quarkus/hibernate/validator/deployment/HibernateValidatorProcessor.java", "diffHunk": "@@ -90,6 +91,8 @@\n \n     private LocalesBuildTimeConfig localesBuildTimeConfig;\n \n+    private HibernateValidatorBuildTimeConfig hibernateValidatorBuildTimeConfig;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjM5NzM0Ng=="}, "originalCommit": {"oid": "53558ab004edf6a7958ddde20ec1ec95e9120981"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjQwNjk0Nw==", "bodyText": "Ah yes, well, I chose consistency but sure I can change it.", "url": "https://github.com/quarkusio/quarkus/pull/8698#discussion_r412406947", "createdAt": "2020-04-21T18:49:51Z", "author": {"login": "gsmet"}, "path": "extensions/hibernate-validator/deployment/src/main/java/io/quarkus/hibernate/validator/deployment/HibernateValidatorProcessor.java", "diffHunk": "@@ -90,6 +91,8 @@\n \n     private LocalesBuildTimeConfig localesBuildTimeConfig;\n \n+    private HibernateValidatorBuildTimeConfig hibernateValidatorBuildTimeConfig;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjM5NzM0Ng=="}, "originalCommit": {"oid": "53558ab004edf6a7958ddde20ec1ec95e9120981"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjQwODU3NQ==", "bodyText": "No need to change it now. Some other time, but it on a Christmas list \ud83d\ude09", "url": "https://github.com/quarkusio/quarkus/pull/8698#discussion_r412408575", "createdAt": "2020-04-21T18:52:11Z", "author": {"login": "geoand"}, "path": "extensions/hibernate-validator/deployment/src/main/java/io/quarkus/hibernate/validator/deployment/HibernateValidatorProcessor.java", "diffHunk": "@@ -90,6 +91,8 @@\n \n     private LocalesBuildTimeConfig localesBuildTimeConfig;\n \n+    private HibernateValidatorBuildTimeConfig hibernateValidatorBuildTimeConfig;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjM5NzM0Ng=="}, "originalCommit": {"oid": "53558ab004edf6a7958ddde20ec1ec95e9120981"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjQ5NDMwMw==", "bodyText": "Done.", "url": "https://github.com/quarkusio/quarkus/pull/8698#discussion_r412494303", "createdAt": "2020-04-21T21:11:03Z", "author": {"login": "gsmet"}, "path": "extensions/hibernate-validator/deployment/src/main/java/io/quarkus/hibernate/validator/deployment/HibernateValidatorProcessor.java", "diffHunk": "@@ -90,6 +91,8 @@\n \n     private LocalesBuildTimeConfig localesBuildTimeConfig;\n \n+    private HibernateValidatorBuildTimeConfig hibernateValidatorBuildTimeConfig;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjM5NzM0Ng=="}, "originalCommit": {"oid": "53558ab004edf6a7958ddde20ec1ec95e9120981"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU2MjQ5NzMxOnYy", "diffSide": "RIGHT", "path": "extensions/hibernate-validator/runtime/src/main/java/io/quarkus/hibernate/validator/runtime/HibernateValidatorBuildTimeConfig.java", "isResolved": false, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQxODozOToyNFrOGJS5bQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQxODo0NzoyNFrOGJTOVA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjM5OTk4MQ==", "bodyText": "I don't know what this does, but I absolutely trust that you do", "url": "https://github.com/quarkusio/quarkus/pull/8698#discussion_r412399981", "createdAt": "2020-04-21T18:39:24Z", "author": {"login": "geoand"}, "path": "extensions/hibernate-validator/runtime/src/main/java/io/quarkus/hibernate/validator/runtime/HibernateValidatorBuildTimeConfig.java", "diffHunk": "@@ -0,0 +1,75 @@\n+package io.quarkus.hibernate.validator.runtime;\n+\n+import io.quarkus.runtime.annotations.ConfigDocSection;\n+import io.quarkus.runtime.annotations.ConfigGroup;\n+import io.quarkus.runtime.annotations.ConfigItem;\n+import io.quarkus.runtime.annotations.ConfigPhase;\n+import io.quarkus.runtime.annotations.ConfigRoot;\n+\n+@ConfigRoot(phase = ConfigPhase.BUILD_AND_RUN_TIME_FIXED)\n+public class HibernateValidatorBuildTimeConfig {\n+\n+    /**\n+     * Enable the fail fast mode. When fail fast is enabled the validation\n+     * will stop on the first constraint violation detected.\n+     */\n+    @ConfigItem(defaultValue = \"false\")\n+    public boolean failFast;\n+\n+    /**\n+     * Method validation.\n+     */\n+    @ConfigDocSection", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "53558ab004edf6a7958ddde20ec1ec95e9120981"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjQwMjk3NA==", "bodyText": "It adds a nice section in the doc table :).", "url": "https://github.com/quarkusio/quarkus/pull/8698#discussion_r412402974", "createdAt": "2020-04-21T18:43:44Z", "author": {"login": "gsmet"}, "path": "extensions/hibernate-validator/runtime/src/main/java/io/quarkus/hibernate/validator/runtime/HibernateValidatorBuildTimeConfig.java", "diffHunk": "@@ -0,0 +1,75 @@\n+package io.quarkus.hibernate.validator.runtime;\n+\n+import io.quarkus.runtime.annotations.ConfigDocSection;\n+import io.quarkus.runtime.annotations.ConfigGroup;\n+import io.quarkus.runtime.annotations.ConfigItem;\n+import io.quarkus.runtime.annotations.ConfigPhase;\n+import io.quarkus.runtime.annotations.ConfigRoot;\n+\n+@ConfigRoot(phase = ConfigPhase.BUILD_AND_RUN_TIME_FIXED)\n+public class HibernateValidatorBuildTimeConfig {\n+\n+    /**\n+     * Enable the fail fast mode. When fail fast is enabled the validation\n+     * will stop on the first constraint violation detected.\n+     */\n+    @ConfigItem(defaultValue = \"false\")\n+    public boolean failFast;\n+\n+    /**\n+     * Method validation.\n+     */\n+    @ConfigDocSection", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjM5OTk4MQ=="}, "originalCommit": {"oid": "53558ab004edf6a7958ddde20ec1ec95e9120981"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjQwMzk2Nw==", "bodyText": "It creates an asciidoc section like this one https://quarkus.io/guides/datasource#quarkus-datasource_quarkus.datasource.named-data-sources whose code is https://github.com/quarkusio/quarkus/blob/master/extensions/agroal/runtime/src/main/java/io/quarkus/agroal/runtime/DataSourcesJdbcRuntimeConfig.java#L22", "url": "https://github.com/quarkusio/quarkus/pull/8698#discussion_r412403967", "createdAt": "2020-04-21T18:45:18Z", "author": {"login": "machi1990"}, "path": "extensions/hibernate-validator/runtime/src/main/java/io/quarkus/hibernate/validator/runtime/HibernateValidatorBuildTimeConfig.java", "diffHunk": "@@ -0,0 +1,75 @@\n+package io.quarkus.hibernate.validator.runtime;\n+\n+import io.quarkus.runtime.annotations.ConfigDocSection;\n+import io.quarkus.runtime.annotations.ConfigGroup;\n+import io.quarkus.runtime.annotations.ConfigItem;\n+import io.quarkus.runtime.annotations.ConfigPhase;\n+import io.quarkus.runtime.annotations.ConfigRoot;\n+\n+@ConfigRoot(phase = ConfigPhase.BUILD_AND_RUN_TIME_FIXED)\n+public class HibernateValidatorBuildTimeConfig {\n+\n+    /**\n+     * Enable the fail fast mode. When fail fast is enabled the validation\n+     * will stop on the first constraint violation detected.\n+     */\n+    @ConfigItem(defaultValue = \"false\")\n+    public boolean failFast;\n+\n+    /**\n+     * Method validation.\n+     */\n+    @ConfigDocSection", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjM5OTk4MQ=="}, "originalCommit": {"oid": "53558ab004edf6a7958ddde20ec1ec95e9120981"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjQwNDk5Mg==", "bodyText": "Of course @gsmet beats me to it ;-)", "url": "https://github.com/quarkusio/quarkus/pull/8698#discussion_r412404992", "createdAt": "2020-04-21T18:46:50Z", "author": {"login": "machi1990"}, "path": "extensions/hibernate-validator/runtime/src/main/java/io/quarkus/hibernate/validator/runtime/HibernateValidatorBuildTimeConfig.java", "diffHunk": "@@ -0,0 +1,75 @@\n+package io.quarkus.hibernate.validator.runtime;\n+\n+import io.quarkus.runtime.annotations.ConfigDocSection;\n+import io.quarkus.runtime.annotations.ConfigGroup;\n+import io.quarkus.runtime.annotations.ConfigItem;\n+import io.quarkus.runtime.annotations.ConfigPhase;\n+import io.quarkus.runtime.annotations.ConfigRoot;\n+\n+@ConfigRoot(phase = ConfigPhase.BUILD_AND_RUN_TIME_FIXED)\n+public class HibernateValidatorBuildTimeConfig {\n+\n+    /**\n+     * Enable the fail fast mode. When fail fast is enabled the validation\n+     * will stop on the first constraint violation detected.\n+     */\n+    @ConfigItem(defaultValue = \"false\")\n+    public boolean failFast;\n+\n+    /**\n+     * Method validation.\n+     */\n+    @ConfigDocSection", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjM5OTk4MQ=="}, "originalCommit": {"oid": "53558ab004edf6a7958ddde20ec1ec95e9120981"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjQwNTMzMg==", "bodyText": "More than I wanted to know \ud83d\ude43", "url": "https://github.com/quarkusio/quarkus/pull/8698#discussion_r412405332", "createdAt": "2020-04-21T18:47:24Z", "author": {"login": "geoand"}, "path": "extensions/hibernate-validator/runtime/src/main/java/io/quarkus/hibernate/validator/runtime/HibernateValidatorBuildTimeConfig.java", "diffHunk": "@@ -0,0 +1,75 @@\n+package io.quarkus.hibernate.validator.runtime;\n+\n+import io.quarkus.runtime.annotations.ConfigDocSection;\n+import io.quarkus.runtime.annotations.ConfigGroup;\n+import io.quarkus.runtime.annotations.ConfigItem;\n+import io.quarkus.runtime.annotations.ConfigPhase;\n+import io.quarkus.runtime.annotations.ConfigRoot;\n+\n+@ConfigRoot(phase = ConfigPhase.BUILD_AND_RUN_TIME_FIXED)\n+public class HibernateValidatorBuildTimeConfig {\n+\n+    /**\n+     * Enable the fail fast mode. When fail fast is enabled the validation\n+     * will stop on the first constraint violation detected.\n+     */\n+    @ConfigItem(defaultValue = \"false\")\n+    public boolean failFast;\n+\n+    /**\n+     * Method validation.\n+     */\n+    @ConfigDocSection", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjM5OTk4MQ=="}, "originalCommit": {"oid": "53558ab004edf6a7958ddde20ec1ec95e9120981"}, "originalPosition": 22}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3389, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}