{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA4MzMzNDQx", "number": 8808, "title": "Cache the Java compiler objects", "bodyText": "This seems to give around 100ms restart speed boost", "createdAt": "2020-04-24T05:10:12Z", "url": "https://github.com/quarkusio/quarkus/pull/8808", "merged": true, "mergeCommit": {"oid": "938c7f811c1c94a89e857a6bbf4f24363244314b"}, "closed": true, "closedAt": "2020-04-24T16:42:20Z", "author": {"login": "stuartwdouglas"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcaq3A8gFqTM5OTY1NDQ4Nw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABca0Q7aAFqTQwMDEwNTgwMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk5NjU0NDg3", "url": "https://github.com/quarkusio/quarkus/pull/8808#pullrequestreview-399654487", "createdAt": "2020-04-24T05:44:13Z", "commit": {"oid": "e3eaca20b3767e5a5afa22ea9fe7acebf964a12c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQwNTo0NDoxM1rOGLHa-w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQwNTo0NDoxM1rOGLHa-w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDMwOTExNQ==", "bodyText": "Does fileManager.close() need to be called before this?", "url": "https://github.com/quarkusio/quarkus/pull/8808#discussion_r414309115", "createdAt": "2020-04-24T05:44:13Z", "author": {"login": "geoand"}, "path": "core/deployment/src/main/java/io/quarkus/deployment/dev/JavaCompilationProvider.java", "diffHunk": "@@ -64,6 +74,14 @@ public void compile(Set<File> filesToCompile, Context context) {\n                 System.out.format(\"%s, line %d in %s\", diagnostic.getMessage(null), diagnostic.getLineNumber(),\n                         diagnostic.getSource() == null ? \"[unknown source]\" : diagnostic.getSource().getName());\n             }\n+            if (!fileManagerDiagnostics.getDiagnostics().isEmpty()) {\n+                for (Diagnostic<? extends JavaFileObject> diagnostic : fileManagerDiagnostics.getDiagnostics()) {\n+                    System.out.format(\"%s, line %d in %s\", diagnostic.getMessage(null), diagnostic.getLineNumber(),\n+                            diagnostic.getSource() == null ? \"[unknown source]\" : diagnostic.getSource().getName());\n+                }\n+                fileManagerDiagnostics = null;\n+                fileManager = null;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e3eaca20b3767e5a5afa22ea9fe7acebf964a12c"}, "originalPosition": 46}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e3eaca20b3767e5a5afa22ea9fe7acebf964a12c", "author": {"user": {"login": "stuartwdouglas", "name": "Stuart Douglas"}}, "url": "https://github.com/quarkusio/quarkus/commit/e3eaca20b3767e5a5afa22ea9fe7acebf964a12c", "committedDate": "2020-04-24T05:09:23Z", "message": "Cache the Java compiler objects\n\nThis seems to give around 100ms restart speed boost"}, "afterCommit": {"oid": "7dcf8c6f332eed4f6daeb200ca6e1740cd8dfcbb", "author": {"user": {"login": "stuartwdouglas", "name": "Stuart Douglas"}}, "url": "https://github.com/quarkusio/quarkus/commit/7dcf8c6f332eed4f6daeb200ca6e1740cd8dfcbb", "committedDate": "2020-04-24T07:05:56Z", "message": "Cache the Java compiler objects\n\nThis seems to give around 100ms restart speed boost"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk5NjkyMjI0", "url": "https://github.com/quarkusio/quarkus/pull/8808#pullrequestreview-399692224", "createdAt": "2020-04-24T07:10:25Z", "commit": {"oid": "7dcf8c6f332eed4f6daeb200ca6e1740cd8dfcbb"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk5NjkzMzY4", "url": "https://github.com/quarkusio/quarkus/pull/8808#pullrequestreview-399693368", "createdAt": "2020-04-24T07:12:31Z", "commit": {"oid": "7dcf8c6f332eed4f6daeb200ca6e1740cd8dfcbb"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQwNzoxMjozMlrOGLJydw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQwNzoxMjozMlrOGLJydw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDM0Nzg5NQ==", "bodyText": "Maybe we could add default close method on this interface?\nSaying that because kogito's implementation (cc @evacchi) would break otherwise.", "url": "https://github.com/quarkusio/quarkus/pull/8808#discussion_r414347895", "createdAt": "2020-04-24T07:12:32Z", "author": {"login": "geoand"}, "path": "core/deployment/src/main/java/io/quarkus/deployment/dev/CompilationProvider.java", "diffHunk": "@@ -9,7 +10,7 @@\n import java.util.List;\n import java.util.Set;\n \n-public interface CompilationProvider {\n+public interface CompilationProvider extends Closeable {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7dcf8c6f332eed4f6daeb200ca6e1740cd8dfcbb"}, "originalPosition": 12}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7dcf8c6f332eed4f6daeb200ca6e1740cd8dfcbb", "author": {"user": {"login": "stuartwdouglas", "name": "Stuart Douglas"}}, "url": "https://github.com/quarkusio/quarkus/commit/7dcf8c6f332eed4f6daeb200ca6e1740cd8dfcbb", "committedDate": "2020-04-24T07:05:56Z", "message": "Cache the Java compiler objects\n\nThis seems to give around 100ms restart speed boost"}, "afterCommit": {"oid": "8ffee4ecbce2a2a3ba8b62df8168d163d84e13e1", "author": {"user": {"login": "stuartwdouglas", "name": "Stuart Douglas"}}, "url": "https://github.com/quarkusio/quarkus/commit/8ffee4ecbce2a2a3ba8b62df8168d163d84e13e1", "committedDate": "2020-04-24T08:10:31Z", "message": "Cache the Java compiler objects\n\nThis seems to give around 100ms restart speed boost"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk5NzMyMjUy", "url": "https://github.com/quarkusio/quarkus/pull/8808#pullrequestreview-399732252", "createdAt": "2020-04-24T08:13:06Z", "commit": {"oid": "8ffee4ecbce2a2a3ba8b62df8168d163d84e13e1"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQwODoxMzowN1rOGLL81g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQwODoxMzowN1rOGLL81g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDM4MzMxOA==", "bodyText": "This won't work :).", "url": "https://github.com/quarkusio/quarkus/pull/8808#discussion_r414383318", "createdAt": "2020-04-24T08:13:07Z", "author": {"login": "gsmet"}, "path": "core/deployment/src/main/java/io/quarkus/deployment/recording/BytecodeRecorderImpl.java", "diffHunk": "@@ -81,7 +81,7 @@\n  * - Any arbitrary object via the {@link #registerSubstitution(Class, Class, Class)} mechanism\n  * - arrays, lists and maps of the above\n  */\n-public class BytecodeRecorderImpl implements RecorderContext {\n+public class BytecodeRecorderImpl implements RecorderContext {proxy-cache", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8ffee4ecbce2a2a3ba8b62df8168d163d84e13e1"}, "originalPosition": 5}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8ffee4ecbce2a2a3ba8b62df8168d163d84e13e1", "author": {"user": {"login": "stuartwdouglas", "name": "Stuart Douglas"}}, "url": "https://github.com/quarkusio/quarkus/commit/8ffee4ecbce2a2a3ba8b62df8168d163d84e13e1", "committedDate": "2020-04-24T08:10:31Z", "message": "Cache the Java compiler objects\n\nThis seems to give around 100ms restart speed boost"}, "afterCommit": {"oid": "960f0457c4a13c5efd0701e2acfe9775690335da", "author": {"user": {"login": "stuartwdouglas", "name": "Stuart Douglas"}}, "url": "https://github.com/quarkusio/quarkus/commit/960f0457c4a13c5efd0701e2acfe9775690335da", "committedDate": "2020-04-24T08:57:37Z", "message": "Cache the Java compiler objects\n\nThis seems to give around 100ms restart speed boost"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "175665d862b98b13c8e33a85c9fbbc352952b12e", "author": {"user": {"login": "stuartwdouglas", "name": "Stuart Douglas"}}, "url": "https://github.com/quarkusio/quarkus/commit/175665d862b98b13c8e33a85c9fbbc352952b12e", "committedDate": "2020-04-24T11:14:55Z", "message": "Cache the Java compiler objects\n\nThis seems to give around 100ms restart speed boost"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "960f0457c4a13c5efd0701e2acfe9775690335da", "author": {"user": {"login": "stuartwdouglas", "name": "Stuart Douglas"}}, "url": "https://github.com/quarkusio/quarkus/commit/960f0457c4a13c5efd0701e2acfe9775690335da", "committedDate": "2020-04-24T08:57:37Z", "message": "Cache the Java compiler objects\n\nThis seems to give around 100ms restart speed boost"}, "afterCommit": {"oid": "175665d862b98b13c8e33a85c9fbbc352952b12e", "author": {"user": {"login": "stuartwdouglas", "name": "Stuart Douglas"}}, "url": "https://github.com/quarkusio/quarkus/commit/175665d862b98b13c8e33a85c9fbbc352952b12e", "committedDate": "2020-04-24T11:14:55Z", "message": "Cache the Java compiler objects\n\nThis seems to give around 100ms restart speed boost"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAwMDYwMTUz", "url": "https://github.com/quarkusio/quarkus/pull/8808#pullrequestreview-400060153", "createdAt": "2020-04-24T15:41:19Z", "commit": {"oid": "175665d862b98b13c8e33a85c9fbbc352952b12e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAwMTA1ODAw", "url": "https://github.com/quarkusio/quarkus/pull/8808#pullrequestreview-400105800", "createdAt": "2020-04-24T16:41:40Z", "commit": {"oid": "175665d862b98b13c8e33a85c9fbbc352952b12e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4504, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}