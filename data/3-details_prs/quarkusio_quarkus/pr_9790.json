{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI3ODQwNjM5", "number": 9790, "title": "Add native args configuration in quarkusBuild task", "bodyText": "This introduce a way to set native argument to the quarkusBuild task.\n@aloubyansky could you have a look? I wanted to add some native test but the CI fails with native-image not installed error. As you said, we maybe should take care of this in an other branch?\nclose #8958", "createdAt": "2020-06-04T13:28:49Z", "url": "https://github.com/quarkusio/quarkus/pull/9790", "merged": true, "mergeCommit": {"oid": "446f0cca5d942defa2650f1faab5a3cade730b62"}, "closed": true, "closedAt": "2020-06-05T06:32:06Z", "author": {"login": "glefloch"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcn-WFhAFqTQyNDQ2NjM5OQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcoBF1kABqjM0MDc4NTI1MTY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI0NDY2Mzk5", "url": "https://github.com/quarkusio/quarkus/pull/9790#pullrequestreview-424466399", "createdAt": "2020-06-04T13:47:22Z", "commit": {"oid": "754ac984dbc7bf10bb7bdfd562c2aa03af3e8bc1"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNFQxMzo0NzoyMlrOGfGvXg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNFQxMzo0NzoyMlrOGfGvXg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTI2OTQ3MA==", "bodyText": "Just to clarify, is the purpose of this test to make sure the nativeArgs can be parsed and are a valid config?", "url": "https://github.com/quarkusio/quarkus/pull/9790#discussion_r435269470", "createdAt": "2020-06-04T13:47:22Z", "author": {"login": "aloubyansky"}, "path": "devtools/gradle/src/functionalTest/java/io/quarkus/gradle/BasicJavaNativeBuildTest.java", "diffHunk": "@@ -0,0 +1,29 @@\n+package io.quarkus.gradle;\n+\n+import org.gradle.testkit.runner.BuildResult;\n+import org.gradle.testkit.runner.GradleRunner;\n+import org.gradle.testkit.runner.TaskOutcome;\n+import org.junit.jupiter.api.Test;\n+\n+import java.io.File;\n+\n+import static org.assertj.core.api.Assertions.assertThat;\n+\n+public class BasicJavaNativeBuildTest extends QuarkusGradleTestBase  {\n+\n+    @Test\n+    public void shouldIgnoreNativeArgs() throws Exception{\n+        final File projectDir = getProjectDir(\"basic-java-native-module\");\n+\n+        BuildResult build = GradleRunner.create()\n+                .forwardOutput()\n+                .withPluginClasspath()\n+                .withArguments(arguments(\"clean\", \"quarkusBuild\"))\n+                .withProjectDir(projectDir)\n+                .build();\n+\n+        assertThat(build.task(\":quarkusBuild\").getOutcome()).isEqualTo(TaskOutcome.SUCCESS);\n+        assertThat(projectDir.toPath().resolve(\"build\").resolve(\"foo-1.0.0-SNAPSHOT-runner.jar\")).exists();\n+        assertThat(projectDir.toPath().resolve(\"build\").resolve(\"foo-1.0.0-SNAPSHOT-runner\")).doesNotExist();\n+    }\n+}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "754ac984dbc7bf10bb7bdfd562c2aa03af3e8bc1"}, "originalPosition": 29}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI0NDkzNDU3", "url": "https://github.com/quarkusio/quarkus/pull/9790#pullrequestreview-424493457", "createdAt": "2020-06-04T14:14:08Z", "commit": {"oid": "754ac984dbc7bf10bb7bdfd562c2aa03af3e8bc1"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "baf502db819aa9e11676373a227437fea19d2c71", "author": {"user": {"login": "glefloch", "name": "Guillaume Le Floch"}}, "url": "https://github.com/quarkusio/quarkus/commit/baf502db819aa9e11676373a227437fea19d2c71", "committedDate": "2020-06-04T16:58:06Z", "message": "Add native args configuration in quarkusBuild task"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "754ac984dbc7bf10bb7bdfd562c2aa03af3e8bc1", "author": {"user": {"login": "glefloch", "name": "Guillaume Le Floch"}}, "url": "https://github.com/quarkusio/quarkus/commit/754ac984dbc7bf10bb7bdfd562c2aa03af3e8bc1", "committedDate": "2020-06-04T11:47:40Z", "message": "Add native args configuration in quarkusBuild task"}, "afterCommit": {"oid": "baf502db819aa9e11676373a227437fea19d2c71", "author": {"user": {"login": "glefloch", "name": "Guillaume Le Floch"}}, "url": "https://github.com/quarkusio/quarkus/commit/baf502db819aa9e11676373a227437fea19d2c71", "committedDate": "2020-06-04T16:58:06Z", "message": "Add native args configuration in quarkusBuild task"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4453, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}