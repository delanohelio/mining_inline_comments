{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzczNzc1MzE0", "number": 7147, "title": "MongoDB with Panache multi-update", "bodyText": "Fixes 5924\n@FroMage @viniciusfcf this is the implementation of Panache multi-update for MongoDB.\nI took a slightly different aproach as for MongoDB, an udpate is not a single query but two: a filter (the query part) and an update document. So the method signature is not the same as with Hibernate (but parameters and PanacheQL works for both parts).\nI just regret that we didn't call these methods updateAll in the first time as it seems more logical for me (and reading the JavaDoc ...), but it's too late to change this for Hibernate with Panache so better keep them this way also in MongoDB with Panache.", "createdAt": "2020-02-11T17:04:49Z", "url": "https://github.com/quarkusio/quarkus/pull/7147", "merged": true, "mergeCommit": {"oid": "0b6c93bb10882ce675dff447a197eea640c47b8b"}, "closed": true, "closedAt": "2020-03-31T12:06:21Z", "author": {"login": "loicmathieu"}, "timelineItems": {"totalCount": 22, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcERKumgBqjMwMzkxMTIyMjg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcTB8C4AFqTM4NDY2NTI5OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "cebc25b38feaa4995c417a27d167ad11421b1ee2", "author": {"user": {"login": "loicmathieu", "name": "Lo\u00efc Mathieu"}}, "url": "https://github.com/quarkusio/quarkus/commit/cebc25b38feaa4995c417a27d167ad11421b1ee2", "committedDate": "2020-02-11T16:02:48Z", "message": "MongoDB with Panache multi-update\n\nFixes 5924"}, "afterCommit": {"oid": "80742a767581acb3e6ff587ba9c46a72c7657a39", "author": {"user": {"login": "loicmathieu", "name": "Lo\u00efc Mathieu"}}, "url": "https://github.com/quarkusio/quarkus/commit/80742a767581acb3e6ff587ba9c46a72c7657a39", "committedDate": "2020-02-14T15:21:14Z", "message": "MongoDB with Panache multi-update\n\nFixes 5924"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "80742a767581acb3e6ff587ba9c46a72c7657a39", "author": {"user": {"login": "loicmathieu", "name": "Lo\u00efc Mathieu"}}, "url": "https://github.com/quarkusio/quarkus/commit/80742a767581acb3e6ff587ba9c46a72c7657a39", "committedDate": "2020-02-14T15:21:14Z", "message": "MongoDB with Panache multi-update\n\nFixes 5924"}, "afterCommit": {"oid": "8f417431dc04295e267ea2e5b6bad29005e7b216", "author": {"user": {"login": "loicmathieu", "name": "Lo\u00efc Mathieu"}}, "url": "https://github.com/quarkusio/quarkus/commit/8f417431dc04295e267ea2e5b6bad29005e7b216", "committedDate": "2020-02-17T10:06:06Z", "message": "MongoDB with Panache multi-update\n\nFixes 5924"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8f417431dc04295e267ea2e5b6bad29005e7b216", "author": {"user": {"login": "loicmathieu", "name": "Lo\u00efc Mathieu"}}, "url": "https://github.com/quarkusio/quarkus/commit/8f417431dc04295e267ea2e5b6bad29005e7b216", "committedDate": "2020-02-17T10:06:06Z", "message": "MongoDB with Panache multi-update\n\nFixes 5924"}, "afterCommit": {"oid": "809ad9b6c37fa93ca2a0a35394670fcbc54c6137", "author": {"user": {"login": "loicmathieu", "name": "Lo\u00efc Mathieu"}}, "url": "https://github.com/quarkusio/quarkus/commit/809ad9b6c37fa93ca2a0a35394670fcbc54c6137", "committedDate": "2020-02-26T16:46:22Z", "message": "MongoDB with Panache multi-update\n\nFixes 5924"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "809ad9b6c37fa93ca2a0a35394670fcbc54c6137", "author": {"user": {"login": "loicmathieu", "name": "Lo\u00efc Mathieu"}}, "url": "https://github.com/quarkusio/quarkus/commit/809ad9b6c37fa93ca2a0a35394670fcbc54c6137", "committedDate": "2020-02-26T16:46:22Z", "message": "MongoDB with Panache multi-update\n\nFixes 5924"}, "afterCommit": {"oid": "5f725128b8f9aaee6ed15c511d7f1e36dd823e4c", "author": {"user": {"login": "loicmathieu", "name": "Lo\u00efc Mathieu"}}, "url": "https://github.com/quarkusio/quarkus/commit/5f725128b8f9aaee6ed15c511d7f1e36dd823e4c", "committedDate": "2020-02-27T09:48:50Z", "message": "MongoDB with Panache multi-update\n\nFixes 5924"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcwMTkwMTA0", "url": "https://github.com/quarkusio/quarkus/pull/7147#pullrequestreview-370190104", "createdAt": "2020-03-06T09:36:32Z", "commit": {"oid": "5f725128b8f9aaee6ed15c511d7f1e36dd823e4c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNlQwOTozNjozMlrOFyydQg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNlQwOTozNjozMlrOFyydQg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODc5OTgxMA==", "bodyText": "This looks like you mixed up the query/update part, no? It's not updating all living persons, but all persons with a Moral name (does that even compile?) to make them Alive, no?\nThat kinda proves the API is confusing, no? It's not clear to me if the query or update should be first.", "url": "https://github.com/quarkusio/quarkus/pull/7147#discussion_r388799810", "createdAt": "2020-03-06T09:36:32Z", "author": {"login": "FroMage"}, "path": "docs/src/main/asciidoc/mongodb-panache.adoc", "diffHunk": "@@ -378,6 +381,9 @@ personRepository.delete(\"status\", Status.Alive);\n \n // delete all persons\n personRepository.deleteAll();\n+\n+// update all living persons", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5f725128b8f9aaee6ed15c511d7f1e36dd823e4c"}, "originalPosition": 15}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5f725128b8f9aaee6ed15c511d7f1e36dd823e4c", "author": {"user": {"login": "loicmathieu", "name": "Lo\u00efc Mathieu"}}, "url": "https://github.com/quarkusio/quarkus/commit/5f725128b8f9aaee6ed15c511d7f1e36dd823e4c", "committedDate": "2020-02-27T09:48:50Z", "message": "MongoDB with Panache multi-update\n\nFixes 5924"}, "afterCommit": {"oid": "4605eb6a87468b713de8bad6c1bf2064db3941f5", "author": {"user": {"login": "loicmathieu", "name": "Lo\u00efc Mathieu"}}, "url": "https://github.com/quarkusio/quarkus/commit/4605eb6a87468b713de8bad6c1bf2064db3941f5", "committedDate": "2020-03-09T11:34:08Z", "message": "MongoDB with Panache multi-update\n\nFixes 5924"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcxMTgyMTQx", "url": "https://github.com/quarkusio/quarkus/pull/7147#pullrequestreview-371182141", "createdAt": "2020-03-09T13:29:02Z", "commit": {"oid": "4605eb6a87468b713de8bad6c1bf2064db3941f5"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQxMzoyOTowMlrOFznNFA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQxMzozMDozNFrOFznTqA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTY2NDAyMA==", "bodyText": "The comment here (and above) are still wrong: this does not update all living persons. It sets all persons named \"Mortal\" to living.", "url": "https://github.com/quarkusio/quarkus/pull/7147#discussion_r389664020", "createdAt": "2020-03-09T13:29:02Z", "author": {"login": "FroMage"}, "path": "docs/src/main/asciidoc/mongodb-panache.adoc", "diffHunk": "@@ -378,6 +381,9 @@ personRepository.delete(\"status\", Status.Alive);\n \n // delete all persons\n personRepository.deleteAll();\n+\n+// update all living persons", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODc5OTgxMA=="}, "originalCommit": {"oid": "5f725128b8f9aaee6ed15c511d7f1e36dd823e4c"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTY2NDg1Nw==", "bodyText": "I'm not sure what the mandatory here means. It should be removed.", "url": "https://github.com/quarkusio/quarkus/pull/7147#discussion_r389664857", "createdAt": "2020-03-09T13:29:48Z", "author": {"login": "FroMage"}, "path": "extensions/panache/mongodb-panache/runtime/src/main/java/io/quarkus/mongodb/panache/PanacheMongoEntityBase.java", "diffHunk": "@@ -864,6 +864,49 @@ public static void persistOrUpdate(Object firstEntity, Object... entities) {\n         MongoOperations.persistOrUpdate(firstEntity, entities);\n     }\n \n+    /**\n+     * Update all entities of this type matching the given query, with mandatory indexed parameters.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4605eb6a87468b713de8bad6c1bf2064db3941f5"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTY2NTcwNA==", "bodyText": "Below (for repository) it's optional\u2026", "url": "https://github.com/quarkusio/quarkus/pull/7147#discussion_r389665704", "createdAt": "2020-03-09T13:30:34Z", "author": {"login": "FroMage"}, "path": "extensions/panache/mongodb-panache/runtime/src/main/java/io/quarkus/mongodb/panache/PanacheMongoEntityBase.java", "diffHunk": "@@ -864,6 +864,49 @@ public static void persistOrUpdate(Object firstEntity, Object... entities) {\n         MongoOperations.persistOrUpdate(firstEntity, entities);\n     }\n \n+    /**\n+     * Update all entities of this type matching the given query, with mandatory indexed parameters.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTY2NDg1Nw=="}, "originalCommit": {"oid": "4605eb6a87468b713de8bad6c1bf2064db3941f5"}, "originalPosition": 5}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4605eb6a87468b713de8bad6c1bf2064db3941f5", "author": {"user": {"login": "loicmathieu", "name": "Lo\u00efc Mathieu"}}, "url": "https://github.com/quarkusio/quarkus/commit/4605eb6a87468b713de8bad6c1bf2064db3941f5", "committedDate": "2020-03-09T11:34:08Z", "message": "MongoDB with Panache multi-update\n\nFixes 5924"}, "afterCommit": {"oid": "fbd38da2a026840a59b3033756adce2856c09e1d", "author": {"user": {"login": "loicmathieu", "name": "Lo\u00efc Mathieu"}}, "url": "https://github.com/quarkusio/quarkus/commit/fbd38da2a026840a59b3033756adce2856c09e1d", "committedDate": "2020-03-09T14:32:04Z", "message": "Fix Hibernate with Panache update documentation"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "fbd38da2a026840a59b3033756adce2856c09e1d", "author": {"user": {"login": "loicmathieu", "name": "Lo\u00efc Mathieu"}}, "url": "https://github.com/quarkusio/quarkus/commit/fbd38da2a026840a59b3033756adce2856c09e1d", "committedDate": "2020-03-09T14:32:04Z", "message": "Fix Hibernate with Panache update documentation"}, "afterCommit": {"oid": "3bf8c101f77e3621e99f11b990d62c22ad03599d", "author": {"user": {"login": "loicmathieu", "name": "Lo\u00efc Mathieu"}}, "url": "https://github.com/quarkusio/quarkus/commit/3bf8c101f77e3621e99f11b990d62c22ad03599d", "committedDate": "2020-03-13T11:07:09Z", "message": "fix: multi-update"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3bf8c101f77e3621e99f11b990d62c22ad03599d", "author": {"user": {"login": "loicmathieu", "name": "Lo\u00efc Mathieu"}}, "url": "https://github.com/quarkusio/quarkus/commit/3bf8c101f77e3621e99f11b990d62c22ad03599d", "committedDate": "2020-03-13T11:07:09Z", "message": "fix: multi-update"}, "afterCommit": {"oid": "3cceb4a1f6086adbcc432a91703039fead7144ca", "author": {"user": {"login": "loicmathieu", "name": "Lo\u00efc Mathieu"}}, "url": "https://github.com/quarkusio/quarkus/commit/3cceb4a1f6086adbcc432a91703039fead7144ca", "committedDate": "2020-03-13T11:09:21Z", "message": "fix: multi-update"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3cceb4a1f6086adbcc432a91703039fead7144ca", "author": {"user": {"login": "loicmathieu", "name": "Lo\u00efc Mathieu"}}, "url": "https://github.com/quarkusio/quarkus/commit/3cceb4a1f6086adbcc432a91703039fead7144ca", "committedDate": "2020-03-13T11:09:21Z", "message": "fix: multi-update"}, "afterCommit": {"oid": "f61f683d365bb3452df423f61c3899a028985825", "author": {"user": {"login": "loicmathieu", "name": "Lo\u00efc Mathieu"}}, "url": "https://github.com/quarkusio/quarkus/commit/f61f683d365bb3452df423f61c3899a028985825", "committedDate": "2020-03-13T11:11:08Z", "message": "fix: multi-update"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f61f683d365bb3452df423f61c3899a028985825", "author": {"user": {"login": "loicmathieu", "name": "Lo\u00efc Mathieu"}}, "url": "https://github.com/quarkusio/quarkus/commit/f61f683d365bb3452df423f61c3899a028985825", "committedDate": "2020-03-13T11:11:08Z", "message": "fix: multi-update"}, "afterCommit": {"oid": "defef83511bfe25bb5e14f6687a3838350bc1b0e", "author": {"user": {"login": "loicmathieu", "name": "Lo\u00efc Mathieu"}}, "url": "https://github.com/quarkusio/quarkus/commit/defef83511bfe25bb5e14f6687a3838350bc1b0e", "committedDate": "2020-03-13T11:15:24Z", "message": "fix: multi-update"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "defef83511bfe25bb5e14f6687a3838350bc1b0e", "author": {"user": {"login": "loicmathieu", "name": "Lo\u00efc Mathieu"}}, "url": "https://github.com/quarkusio/quarkus/commit/defef83511bfe25bb5e14f6687a3838350bc1b0e", "committedDate": "2020-03-13T11:15:24Z", "message": "fix: multi-update"}, "afterCommit": {"oid": "35b1b1b5de14d6526076b987306066091031adfa", "author": {"user": {"login": "loicmathieu", "name": "Lo\u00efc Mathieu"}}, "url": "https://github.com/quarkusio/quarkus/commit/35b1b1b5de14d6526076b987306066091031adfa", "committedDate": "2020-03-13T11:22:56Z", "message": "fix: multi-update"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "35b1b1b5de14d6526076b987306066091031adfa", "author": {"user": {"login": "loicmathieu", "name": "Lo\u00efc Mathieu"}}, "url": "https://github.com/quarkusio/quarkus/commit/35b1b1b5de14d6526076b987306066091031adfa", "committedDate": "2020-03-13T11:22:56Z", "message": "fix: multi-update"}, "afterCommit": {"oid": "2588a29c19edeb7a658bdbfdbb9d565c8f3e326d", "author": {"user": {"login": "loicmathieu", "name": "Lo\u00efc Mathieu"}}, "url": "https://github.com/quarkusio/quarkus/commit/2588a29c19edeb7a658bdbfdbb9d565c8f3e326d", "committedDate": "2020-03-23T11:46:58Z", "message": "Fix Hibernate with Panache update documentation"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2588a29c19edeb7a658bdbfdbb9d565c8f3e326d", "author": {"user": {"login": "loicmathieu", "name": "Lo\u00efc Mathieu"}}, "url": "https://github.com/quarkusio/quarkus/commit/2588a29c19edeb7a658bdbfdbb9d565c8f3e326d", "committedDate": "2020-03-23T11:46:58Z", "message": "Fix Hibernate with Panache update documentation"}, "afterCommit": {"oid": "ac38f3d025eaeec68519b86c1f3c949eab19058c", "author": {"user": {"login": "loicmathieu", "name": "Lo\u00efc Mathieu"}}, "url": "https://github.com/quarkusio/quarkus/commit/ac38f3d025eaeec68519b86c1f3c949eab19058c", "committedDate": "2020-03-30T11:08:22Z", "message": "Fix Hibernate with Panache update documentation"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgzNzk1ODU5", "url": "https://github.com/quarkusio/quarkus/pull/7147#pullrequestreview-383795859", "createdAt": "2020-03-30T12:18:55Z", "commit": {"oid": "ac38f3d025eaeec68519b86c1f3c949eab19058c"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMFQxMjoxODo1NVrOF9m9sA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMFQxMjoyNjo0N1rOF9nQQA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDE0NTg0MA==", "bodyText": "This is not what it does. It updates all living persons to change their name to Mortal. As a result, the mongodb equivalent example should probably be changed to reflect that.", "url": "https://github.com/quarkusio/quarkus/pull/7147#discussion_r400145840", "createdAt": "2020-03-30T12:18:55Z", "author": {"login": "FroMage"}, "path": "docs/src/main/asciidoc/hibernate-orm-panache.adoc", "diffHunk": "@@ -385,8 +385,8 @@ personRepository.deleteAll();\n // delete by id\n boolean deleted = personRepository.deleteById(personId);\n \n-// update all living persons\n-personRepository.update(\"name = 'Moral' where status = ?1\", Status.Alive);\n+// set all persons named \"Mortal\" to living.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ac38f3d025eaeec68519b86c1f3c949eab19058c"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDE0NjkxNw==", "bodyText": "It's not really a document here, is it?", "url": "https://github.com/quarkusio/quarkus/pull/7147#discussion_r400146917", "createdAt": "2020-03-30T12:20:37Z", "author": {"login": "FroMage"}, "path": "extensions/panache/mongodb-panache/runtime/src/main/java/io/quarkus/mongodb/panache/PanacheMongoEntityBase.java", "diffHunk": "@@ -875,6 +875,55 @@ public static void persistOrUpdate(Object firstEntity, Object... entities) {\n         MongoOperations.persistOrUpdate(firstEntity, entities);\n     }\n \n+    /**\n+     * Update all entities of this type by the given update document, with optional indexed parameters.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ac38f3d025eaeec68519b86c1f3c949eab19058c"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDE0NzEyNw==", "bodyText": "This talks about a query.", "url": "https://github.com/quarkusio/quarkus/pull/7147#discussion_r400147127", "createdAt": "2020-03-30T12:21:00Z", "author": {"login": "FroMage"}, "path": "extensions/panache/mongodb-panache/runtime/src/main/java/io/quarkus/mongodb/panache/PanacheMongoEntityBase.java", "diffHunk": "@@ -875,6 +875,55 @@ public static void persistOrUpdate(Object firstEntity, Object... entities) {\n         MongoOperations.persistOrUpdate(firstEntity, entities);\n     }\n \n+    /**\n+     * Update all entities of this type by the given update document, with optional indexed parameters.\n+     * The returned {@link PanacheUpdate} object will allow to restrict on which document the update should be applied.\n+     *\n+     * @param update the update document, if it didn't contain <code>$set</code> we add it.\n+     *        It can also be expressed as a {@link io.quarkus.mongodb.panache query string}.\n+     * @param params optional sequence of indexed parameters\n+     * @return a new {@link PanacheUpdate} instance for the given update query\n+     * @see #update(String, Map)\n+     * @see #update(String, Parameters)\n+     */\n+    @GenerateBridge\n+    public static PanacheUpdate update(String update, Object... params) {\n+        throw MongoOperations.implementationInjectionMissing();\n+    }\n+\n+    /**\n+     * Update all entities of this type matching the given query, with named parameters.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ac38f3d025eaeec68519b86c1f3c949eab19058c"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDE1MDU5Mg==", "bodyText": "Also, I read the whole PR and I'm not sure what syntax is allowed in the update param besides the mongo native query. It says this is a query string, but it's not, is it?\nCan I do foo = :name, bar = :lastname or gee = 2?", "url": "https://github.com/quarkusio/quarkus/pull/7147#discussion_r400150592", "createdAt": "2020-03-30T12:26:47Z", "author": {"login": "FroMage"}, "path": "extensions/panache/mongodb-panache/runtime/src/main/java/io/quarkus/mongodb/panache/PanacheMongoEntityBase.java", "diffHunk": "@@ -875,6 +875,55 @@ public static void persistOrUpdate(Object firstEntity, Object... entities) {\n         MongoOperations.persistOrUpdate(firstEntity, entities);\n     }\n \n+    /**\n+     * Update all entities of this type by the given update document, with optional indexed parameters.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDE0NjkxNw=="}, "originalCommit": {"oid": "ac38f3d025eaeec68519b86c1f3c949eab19058c"}, "originalPosition": 14}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ac38f3d025eaeec68519b86c1f3c949eab19058c", "author": {"user": {"login": "loicmathieu", "name": "Lo\u00efc Mathieu"}}, "url": "https://github.com/quarkusio/quarkus/commit/ac38f3d025eaeec68519b86c1f3c949eab19058c", "committedDate": "2020-03-30T11:08:22Z", "message": "Fix Hibernate with Panache update documentation"}, "afterCommit": {"oid": "2b45b9075bb72362171b515d8eef867ee929cd45", "author": {"user": {"login": "loicmathieu", "name": "Lo\u00efc Mathieu"}}, "url": "https://github.com/quarkusio/quarkus/commit/2b45b9075bb72362171b515d8eef867ee929cd45", "committedDate": "2020-03-31T07:47:53Z", "message": "Fix Hibernate with Panache update documentation"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg0NTU4MjE0", "url": "https://github.com/quarkusio/quarkus/pull/7147#pullrequestreview-384558214", "createdAt": "2020-03-31T09:30:56Z", "commit": {"oid": "2b45b9075bb72362171b515d8eef867ee929cd45"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMVQwOTozMDo1NlrOF-NHsQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMVQwOTozMDo1NlrOF-NHsQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDc3MDk5Mw==", "bodyText": "If it works with , instead of and as the separator I'd prefer we document that and leave the and syntax undocumented, because the and makes it look like a query rather than a set of update commands.", "url": "https://github.com/quarkusio/quarkus/pull/7147#discussion_r400770993", "createdAt": "2020-03-31T09:30:56Z", "author": {"login": "FroMage"}, "path": "docs/src/main/asciidoc/mongodb-panache.adoc", "diffHunk": "@@ -511,6 +517,17 @@ The MongoDB POJO codec doesn't support `ZonedDateTime` and `OffsetDateTime` so y\n \n MongoDB with Panache also supports extended MongoDB queries by providing a `Document` query, this is supported by the find/list/stream/count/delete methods.\n \n+MongoDB with Panache offers operations to update multiple documents based on an update document and a query :\n+`Person.update(\"foo = ?1 and bar = ?2\", fooName, barName).where(\"name = ?1\", name)`.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2b45b9075bb72362171b515d8eef867ee929cd45"}, "originalPosition": 34}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "85c207405a36a1d1b9b7ed4e69dda08c254b3912", "author": {"user": {"login": "loicmathieu", "name": "Lo\u00efc Mathieu"}}, "url": "https://github.com/quarkusio/quarkus/commit/85c207405a36a1d1b9b7ed4e69dda08c254b3912", "committedDate": "2020-03-31T10:05:49Z", "message": "MongoDB with Panache multi-update\n\nFixes #5924"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ce3d644fe84ec045e867b5df88bc61411cdad16a", "author": {"user": {"login": "loicmathieu", "name": "Lo\u00efc Mathieu"}}, "url": "https://github.com/quarkusio/quarkus/commit/ce3d644fe84ec045e867b5df88bc61411cdad16a", "committedDate": "2020-03-31T10:05:49Z", "message": "Fix Hibernate with Panache update documentation"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2b45b9075bb72362171b515d8eef867ee929cd45", "author": {"user": {"login": "loicmathieu", "name": "Lo\u00efc Mathieu"}}, "url": "https://github.com/quarkusio/quarkus/commit/2b45b9075bb72362171b515d8eef867ee929cd45", "committedDate": "2020-03-31T07:47:53Z", "message": "Fix Hibernate with Panache update documentation"}, "afterCommit": {"oid": "ce3d644fe84ec045e867b5df88bc61411cdad16a", "author": {"user": {"login": "loicmathieu", "name": "Lo\u00efc Mathieu"}}, "url": "https://github.com/quarkusio/quarkus/commit/ce3d644fe84ec045e867b5df88bc61411cdad16a", "committedDate": "2020-03-31T10:05:49Z", "message": "Fix Hibernate with Panache update documentation"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg0NjY1Mjk5", "url": "https://github.com/quarkusio/quarkus/pull/7147#pullrequestreview-384665299", "createdAt": "2020-03-31T12:06:08Z", "commit": {"oid": "ce3d644fe84ec045e867b5df88bc61411cdad16a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4917, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}