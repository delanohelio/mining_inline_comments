{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQwMzkyMDQz", "number": 13903, "title": "Fix overflow handling in RESTEasy Reactive", "bodyText": "This is last fix needed for #13852\nFixes: #13852", "createdAt": "2020-12-15T16:43:40Z", "url": "https://github.com/quarkusio/quarkus/pull/13903", "merged": true, "mergeCommit": {"oid": "72f21f9154cc2c9d0ad64eb56bc77a15fbd17218"}, "closed": true, "closedAt": "2020-12-16T09:56:34Z", "author": {"login": "geoand"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdmdNuqABqjQxMTU1OTE5ODU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdmpW56gFqTU1MzQwMTg5Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "47d4602ed602d39c0d1af7b6c1405b9352f9974e", "author": {"user": {"login": "geoand", "name": "Georgios Andrianakis"}}, "url": "https://github.com/quarkusio/quarkus/commit/47d4602ed602d39c0d1af7b6c1405b9352f9974e", "committedDate": "2020-12-15T16:41:55Z", "message": "Fix overflow handling in RESTEasy Reactive\n\nThis is last fix needed for #13852"}, "afterCommit": {"oid": "aeab968c0f69926e44290c332bf5323a8f9ed3fc", "author": {"user": {"login": "geoand", "name": "Georgios Andrianakis"}}, "url": "https://github.com/quarkusio/quarkus/commit/aeab968c0f69926e44290c332bf5323a8f9ed3fc", "committedDate": "2020-12-15T16:48:28Z", "message": "Fix overflow handling in RESTEasy Reactive\n\nThis is last fix needed for #13852"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUyOTcwNzg5", "url": "https://github.com/quarkusio/quarkus/pull/13903#pullrequestreview-552970789", "createdAt": "2020-12-15T22:10:21Z", "commit": {"oid": "aeab968c0f69926e44290c332bf5323a8f9ed3fc"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNVQyMjoxMDoyMlrOIGiPxw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNVQyMjoxMDoyMlrOIGiPxw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzcyMzQ2Mw==", "bodyText": "This double write does not look correct, although I don't think the code path will actually be used at the moment as for now we only allocate direct buffers.", "url": "https://github.com/quarkusio/quarkus/pull/13903#discussion_r543723463", "createdAt": "2020-12-15T22:10:22Z", "author": {"login": "stuartwdouglas"}, "path": "independent-projects/resteasy-reactive/server/vertx/src/main/java/org/jboss/resteasy/reactive/server/vertx/ResteasyReactiveOutputStream.java", "diffHunk": "@@ -87,8 +87,12 @@ public void write(ByteBuf data, boolean last) throws IOException {\n                     if (overflow == null) {\n                         overflow = new ByteArrayOutputStream();\n                     }\n-                    overflow.write(data.array(), data.arrayOffset() + data.readerIndex(),\n-                            data.arrayOffset() + data.writerIndex());\n+                    if (data.hasArray()) {\n+                        overflow.write(data.array());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "aeab968c0f69926e44290c332bf5323a8f9ed3fc"}, "originalPosition": 7}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fb320b8b237b36229855ceed733e198c92312408", "author": {"user": {"login": "geoand", "name": "Georgios Andrianakis"}}, "url": "https://github.com/quarkusio/quarkus/commit/fb320b8b237b36229855ceed733e198c92312408", "committedDate": "2020-12-16T06:37:48Z", "message": "Fix overflow handling in RESTEasy Reactive\n\nThis is last fix needed for #13852"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "aeab968c0f69926e44290c332bf5323a8f9ed3fc", "author": {"user": {"login": "geoand", "name": "Georgios Andrianakis"}}, "url": "https://github.com/quarkusio/quarkus/commit/aeab968c0f69926e44290c332bf5323a8f9ed3fc", "committedDate": "2020-12-15T16:48:28Z", "message": "Fix overflow handling in RESTEasy Reactive\n\nThis is last fix needed for #13852"}, "afterCommit": {"oid": "fb320b8b237b36229855ceed733e198c92312408", "author": {"user": {"login": "geoand", "name": "Georgios Andrianakis"}}, "url": "https://github.com/quarkusio/quarkus/commit/fb320b8b237b36229855ceed733e198c92312408", "committedDate": "2020-12-16T06:37:48Z", "message": "Fix overflow handling in RESTEasy Reactive\n\nThis is last fix needed for #13852"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUzNDAxODkz", "url": "https://github.com/quarkusio/quarkus/pull/13903#pullrequestreview-553401893", "createdAt": "2020-12-16T06:57:29Z", "commit": {"oid": "fb320b8b237b36229855ceed733e198c92312408"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4339, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}