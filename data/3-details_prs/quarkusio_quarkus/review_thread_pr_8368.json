{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk3ODAyMjM4", "number": 8368, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMlQyMTo1MjozMVrODuIeQg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMlQyMTo1MjozMVrODuIeQg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ5Njk5OTA2OnYy", "diffSide": "RIGHT", "path": "extensions/liquibase/deployment/src/main/java/io/quarkus/liquibase/LiquibaseProcessor.java", "isResolved": false, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMlQyMTo1MjozMVrOF_90QA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wM1QxMTo1MzowMVrOGASL7g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjYxNzQwOA==", "bodyText": "I think I would make it true for all services.", "url": "https://github.com/quarkusio/quarkus/pull/8368#discussion_r402617408", "createdAt": "2020-04-02T21:52:31Z", "author": {"login": "gsmet"}, "path": "extensions/liquibase/deployment/src/main/java/io/quarkus/liquibase/LiquibaseProcessor.java", "diffHunk": "@@ -187,11 +188,11 @@ ServiceStartBuildItem configureRuntimeProperties(LiquibaseRecorder recorder,\n     private void addService(BuildProducer<ReflectiveClassBuildItem> reflective,\n             BuildProducer<GeneratedResourceBuildItem> generatedResourceProducer,\n             BuildProducer<NativeImageResourceBuildItem> resourceProducer,\n-            Class<?> className) {\n+            Class<?> className, boolean methods) {\n \n         Class<?>[] impl = ServiceLocator.getInstance().findClasses(className);\n         if (impl != null && impl.length > 0) {\n-            reflective.produce(new ReflectiveClassBuildItem(true, false, false, impl));\n+            reflective.produce(new ReflectiveClassBuildItem(true, methods, false, impl));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "da25e966d1dcb11455a464338573e220c63d1e71"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjYyMTExNA==", "bodyText": "It was my first solution, but I'm getting errors for some classes at native compile time.\nI'll try again and create two class lists.\nDoes it make big different for the native image (compile time) if we register all the classes?", "url": "https://github.com/quarkusio/quarkus/pull/8368#discussion_r402621114", "createdAt": "2020-04-02T22:00:55Z", "author": {"login": "andrejpetras"}, "path": "extensions/liquibase/deployment/src/main/java/io/quarkus/liquibase/LiquibaseProcessor.java", "diffHunk": "@@ -187,11 +188,11 @@ ServiceStartBuildItem configureRuntimeProperties(LiquibaseRecorder recorder,\n     private void addService(BuildProducer<ReflectiveClassBuildItem> reflective,\n             BuildProducer<GeneratedResourceBuildItem> generatedResourceProducer,\n             BuildProducer<NativeImageResourceBuildItem> resourceProducer,\n-            Class<?> className) {\n+            Class<?> className, boolean methods) {\n \n         Class<?>[] impl = ServiceLocator.getInstance().findClasses(className);\n         if (impl != null && impl.length > 0) {\n-            reflective.produce(new ReflectiveClassBuildItem(true, false, false, impl));\n+            reflective.produce(new ReflectiveClassBuildItem(true, methods, false, impl));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjYxNzQwOA=="}, "originalCommit": {"oid": "da25e966d1dcb11455a464338573e220c63d1e71"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjYzMzI3OA==", "bodyText": "Done, only the LicenseService class needs to be methods=false", "url": "https://github.com/quarkusio/quarkus/pull/8368#discussion_r402633278", "createdAt": "2020-04-02T22:30:19Z", "author": {"login": "andrejpetras"}, "path": "extensions/liquibase/deployment/src/main/java/io/quarkus/liquibase/LiquibaseProcessor.java", "diffHunk": "@@ -187,11 +188,11 @@ ServiceStartBuildItem configureRuntimeProperties(LiquibaseRecorder recorder,\n     private void addService(BuildProducer<ReflectiveClassBuildItem> reflective,\n             BuildProducer<GeneratedResourceBuildItem> generatedResourceProducer,\n             BuildProducer<NativeImageResourceBuildItem> resourceProducer,\n-            Class<?> className) {\n+            Class<?> className, boolean methods) {\n \n         Class<?>[] impl = ServiceLocator.getInstance().findClasses(className);\n         if (impl != null && impl.length > 0) {\n-            reflective.produce(new ReflectiveClassBuildItem(true, false, false, impl));\n+            reflective.produce(new ReflectiveClassBuildItem(true, methods, false, impl));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjYxNzQwOA=="}, "originalCommit": {"oid": "da25e966d1dcb11455a464338573e220c63d1e71"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjk1MTE1MA==", "bodyText": "So doing that might include more methods than strictly needed in the native image but I think it's safer.\nAs for the LicenseService it's probably related to the substitutions you had to make there so looks OK to me.", "url": "https://github.com/quarkusio/quarkus/pull/8368#discussion_r402951150", "createdAt": "2020-04-03T11:53:01Z", "author": {"login": "gsmet"}, "path": "extensions/liquibase/deployment/src/main/java/io/quarkus/liquibase/LiquibaseProcessor.java", "diffHunk": "@@ -187,11 +188,11 @@ ServiceStartBuildItem configureRuntimeProperties(LiquibaseRecorder recorder,\n     private void addService(BuildProducer<ReflectiveClassBuildItem> reflective,\n             BuildProducer<GeneratedResourceBuildItem> generatedResourceProducer,\n             BuildProducer<NativeImageResourceBuildItem> resourceProducer,\n-            Class<?> className) {\n+            Class<?> className, boolean methods) {\n \n         Class<?>[] impl = ServiceLocator.getInstance().findClasses(className);\n         if (impl != null && impl.length > 0) {\n-            reflective.produce(new ReflectiveClassBuildItem(true, false, false, impl));\n+            reflective.produce(new ReflectiveClassBuildItem(true, methods, false, impl));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjYxNzQwOA=="}, "originalCommit": {"oid": "da25e966d1dcb11455a464338573e220c63d1e71"}, "originalPosition": 25}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3624, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}