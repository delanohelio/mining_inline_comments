{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA5ODM0NTgx", "number": 8898, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOFQxMzoxNDozOVrOD3ME0w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOFQxMzoxNDozOVrOD3ME0w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU5MTk2MTE1OnYy", "diffSide": "RIGHT", "path": "independent-projects/arc/processor/src/main/java/io/quarkus/arc/processor/Beans.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOFQxMzoxNDozOVrOGNTYzw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOFQxNDozOTo1NVrOGNXcaQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjYwMjMxOQ==", "bodyText": "At this point priority1 and priority2 may not be null. So I'd either remove the checks or throw an ISE or something like that.", "url": "https://github.com/quarkusio/quarkus/pull/8898#discussion_r416602319", "createdAt": "2020-04-28T13:14:39Z", "author": {"login": "mkouba"}, "path": "independent-projects/arc/processor/src/main/java/io/quarkus/arc/processor/Beans.java", "diffHunk": "@@ -558,10 +558,24 @@ private static Integer getAlternativePriority(BeanInfo bean) {\n \n     private static int compareAlternativeBeans(BeanInfo bean1, BeanInfo bean2) {\n         // The highest priority wins\n-        Integer priority2 = bean2.getDeclaringBean() != null ? bean2.getDeclaringBean().getAlternativePriority()\n-                : bean2.getAlternativePriority();\n-        Integer priority1 = bean1.getDeclaringBean() != null ? bean1.getDeclaringBean().getAlternativePriority()\n-                : bean1.getAlternativePriority();\n+        Integer priority1, priority2;\n+\n+        priority2 = bean2.getAlternativePriority();\n+        if (priority2 == null) {\n+            priority2 = bean2.getDeclaringBean().getAlternativePriority();\n+        }\n+\n+        priority1 = bean1.getAlternativePriority();\n+        if (priority1 == null) {\n+            priority1 = bean1.getDeclaringBean().getAlternativePriority();\n+        }\n+\n+        if (priority2 == null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "185c6e2279e1c91bd1bae5bedbd4da2c7e3ee5e1"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjY2MDg4Mw==", "bodyText": "I can change to ISE. Paranoid as getting here in the first place was unexpected. ;)", "url": "https://github.com/quarkusio/quarkus/pull/8898#discussion_r416660883", "createdAt": "2020-04-28T14:30:05Z", "author": {"login": "ebullient"}, "path": "independent-projects/arc/processor/src/main/java/io/quarkus/arc/processor/Beans.java", "diffHunk": "@@ -558,10 +558,24 @@ private static Integer getAlternativePriority(BeanInfo bean) {\n \n     private static int compareAlternativeBeans(BeanInfo bean1, BeanInfo bean2) {\n         // The highest priority wins\n-        Integer priority2 = bean2.getDeclaringBean() != null ? bean2.getDeclaringBean().getAlternativePriority()\n-                : bean2.getAlternativePriority();\n-        Integer priority1 = bean1.getDeclaringBean() != null ? bean1.getDeclaringBean().getAlternativePriority()\n-                : bean1.getAlternativePriority();\n+        Integer priority1, priority2;\n+\n+        priority2 = bean2.getAlternativePriority();\n+        if (priority2 == null) {\n+            priority2 = bean2.getDeclaringBean().getAlternativePriority();\n+        }\n+\n+        priority1 = bean1.getAlternativePriority();\n+        if (priority1 == null) {\n+            priority1 = bean1.getDeclaringBean().getAlternativePriority();\n+        }\n+\n+        if (priority2 == null) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjYwMjMxOQ=="}, "originalCommit": {"oid": "185c6e2279e1c91bd1bae5bedbd4da2c7e3ee5e1"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjY2ODc3Nw==", "bodyText": "ISE sounds good, +1", "url": "https://github.com/quarkusio/quarkus/pull/8898#discussion_r416668777", "createdAt": "2020-04-28T14:39:55Z", "author": {"login": "manovotn"}, "path": "independent-projects/arc/processor/src/main/java/io/quarkus/arc/processor/Beans.java", "diffHunk": "@@ -558,10 +558,24 @@ private static Integer getAlternativePriority(BeanInfo bean) {\n \n     private static int compareAlternativeBeans(BeanInfo bean1, BeanInfo bean2) {\n         // The highest priority wins\n-        Integer priority2 = bean2.getDeclaringBean() != null ? bean2.getDeclaringBean().getAlternativePriority()\n-                : bean2.getAlternativePriority();\n-        Integer priority1 = bean1.getDeclaringBean() != null ? bean1.getDeclaringBean().getAlternativePriority()\n-                : bean1.getAlternativePriority();\n+        Integer priority1, priority2;\n+\n+        priority2 = bean2.getAlternativePriority();\n+        if (priority2 == null) {\n+            priority2 = bean2.getDeclaringBean().getAlternativePriority();\n+        }\n+\n+        priority1 = bean1.getAlternativePriority();\n+        if (priority1 == null) {\n+            priority1 = bean1.getDeclaringBean().getAlternativePriority();\n+        }\n+\n+        if (priority2 == null) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjYwMjMxOQ=="}, "originalCommit": {"oid": "185c6e2279e1c91bd1bae5bedbd4da2c7e3ee5e1"}, "originalPosition": 20}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3304, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}