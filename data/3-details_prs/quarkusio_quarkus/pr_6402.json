{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzU5MjUxMzgx", "number": 6402, "title": "add configuration option to include full MDC in logging-gelf extension", "bodyText": "Hi Quarkus Team\nI've been playing with the latest release 1.1.0.Final and the new logging-gelf extension is a great addition. I used to rely on the full featured logback-logstash-encoder with Payara on my application before I migrated it to quarkus, and in the process I had to roll back my logging strategy to the old logging way, i.e. writing to a log file with a special format and grok this file with filebeat and logstash...\nWith Payara, adding a new field in JSON log entries used to be just adding a new MDC field in Java code and have automagically propagated to ELK for each request logs in the current thread. Now it means also changing the log file format and changing the grok pattern which is quite cumbersome. This was one of the only few downside of switching to quarkus... And now it's over ! :)\nWell... Almost over, as with this new logging-gelf extension we lack the ability to propagate all fields from the MDC. I've been digging in the extension code and I figured that the feature exists in the underlying logstash-gelf extension. So this PR adds the ability to enable this feature via a new configuration property. I have created a small showcase project to easily test this with a local logstash instance.\nAny feedback appreciated! :)\nCheers", "createdAt": "2020-01-04T22:07:43Z", "url": "https://github.com/quarkusio/quarkus/pull/6402", "merged": true, "mergeCommit": {"oid": "c96e5bb15b8fb4073b90838e78b71e41e621568a"}, "closed": true, "closedAt": "2020-01-05T15:51:13Z", "author": {"login": "devauxbr"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb3VOtNAFqTMzODM5MjkwNQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABb3Wmy5gFqTMzODM5NzIxNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM4MzkyOTA1", "url": "https://github.com/quarkusio/quarkus/pull/6402#pullrequestreview-338392905", "createdAt": "2020-01-05T10:44:25Z", "commit": {"oid": "66605069f1396e8b97df69a020af7a1e7134f773"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNVQxMDo0NDoyNVrOFaQ51w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNVQxMDo0NDoyNVrOFaQ51w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzA4NDI0Nw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                 * Whether to include all fields from the {@link org.slf4j.MDC}\n          \n          \n            \n                 * Whether to include all fields from the MDC.\n          \n      \n    \n    \n  \n\nWe don't want a reference to the SLF4J API as we don't use it (we use JBoss Logging).", "url": "https://github.com/quarkusio/quarkus/pull/6402#discussion_r363084247", "createdAt": "2020-01-05T10:44:25Z", "author": {"login": "gsmet"}, "path": "extensions/logging-gelf/runtime/src/main/java/io/quarkus/logging/gelf/GelfConfig.java", "diffHunk": "@@ -93,4 +93,9 @@\n     @ConfigDocSection\n     public Map<String, AdditionalFieldConfig> additionalField;\n \n+    /**\n+     * Whether to include all fields from the {@link org.slf4j.MDC}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "66605069f1396e8b97df69a020af7a1e7134f773"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dbbc51d53bdd4234fedce1e5c4f15c2a61c16173", "author": {"user": {"login": "devauxbr", "name": "Bruno Devaux"}}, "url": "https://github.com/quarkusio/quarkus/commit/dbbc51d53bdd4234fedce1e5c4f15c2a61c16173", "committedDate": "2020-01-05T12:10:17Z", "message": "add the ability to include full MDC in logging-gelf extension configuration"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "66605069f1396e8b97df69a020af7a1e7134f773", "author": {"user": {"login": "devauxbr", "name": "Bruno Devaux"}}, "url": "https://github.com/quarkusio/quarkus/commit/66605069f1396e8b97df69a020af7a1e7134f773", "committedDate": "2020-01-04T22:09:12Z", "message": "Merge branch 'master' into feature/gelf-include-full-mdc"}, "afterCommit": {"oid": "dbbc51d53bdd4234fedce1e5c4f15c2a61c16173", "author": {"user": {"login": "devauxbr", "name": "Bruno Devaux"}}, "url": "https://github.com/quarkusio/quarkus/commit/dbbc51d53bdd4234fedce1e5c4f15c2a61c16173", "committedDate": "2020-01-05T12:10:17Z", "message": "add the ability to include full MDC in logging-gelf extension configuration"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM4Mzk3MjE0", "url": "https://github.com/quarkusio/quarkus/pull/6402#pullrequestreview-338397214", "createdAt": "2020-01-05T12:21:03Z", "commit": {"oid": "dbbc51d53bdd4234fedce1e5c4f15c2a61c16173"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 295, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}