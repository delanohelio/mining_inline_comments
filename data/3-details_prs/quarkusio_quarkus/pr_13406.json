{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI0Nzk5MTU1", "number": 13406, "title": "Terminate gRPC channels and handle gRPC client invocations on the IO Thread when needed", "bodyText": "Several gRPC related fixes:\n\ngRPC Client emissions should be on the event loop if the subscription is executed on the event loop\nTerminate managed channels on shutdown\nDocument the usage of @Blocking in gRPC service implementation\n\nFix #13404\nFix #13357", "createdAt": "2020-11-20T16:02:05Z", "url": "https://github.com/quarkusio/quarkus/pull/13406", "merged": true, "mergeCommit": {"oid": "0112d3b38961b2dd9d43b1ab46ea587b44809c12"}, "closed": true, "closedAt": "2020-11-23T08:15:43Z", "author": {"login": "cescoffier"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdeawriAFqTUzNTYzMTIxNA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdfQTbDgFqTUzNjIyOTQyNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM1NjMxMjE0", "url": "https://github.com/quarkusio/quarkus/pull/13406#pullrequestreview-535631214", "createdAt": "2020-11-20T17:25:40Z", "commit": {"oid": "9542003d0c6f6777ee5de657a012d3290750e109"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQxNzoyNTo0MFrOH3ZOWw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQxNzoyNTo0MFrOH3ZOWw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzg0NzAwMw==", "bodyText": "Hi @cescoffier, just noticed that you have a typo here. It says \"bock\" instead of \"block\"", "url": "https://github.com/quarkusio/quarkus/pull/13406#discussion_r527847003", "createdAt": "2020-11-20T17:25:40Z", "author": {"login": "gustf"}, "path": "docs/src/main/asciidoc/grpc-service-implementation.adoc", "diffHunk": "@@ -83,6 +83,21 @@ public class ReactiveHelloService extends MutinyGreeterGrpc.GreeterImplBase {\n }\n ----\n \n+== Blocking service implementation\n+\n+By default, all the methods from a gRPC service run on the event loop.\n+As a consequence, you must **not** block.\n+If your service logic must bock, annotate the method with `io.smallrye.common.annotation.Blocking`:\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9542003d0c6f6777ee5de657a012d3290750e109"}, "originalPosition": 9}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9542003d0c6f6777ee5de657a012d3290750e109", "author": {"user": {"login": "cescoffier", "name": "Clement Escoffier"}}, "url": "https://github.com/quarkusio/quarkus/commit/9542003d0c6f6777ee5de657a012d3290750e109", "committedDate": "2020-11-20T16:00:19Z", "message": "Document the usage of @Blocking in gRPC service implementation"}, "afterCommit": {"oid": "814c85a32f715d23ccb7404b591f3032f5d95c47", "author": {"user": {"login": "cescoffier", "name": "Clement Escoffier"}}, "url": "https://github.com/quarkusio/quarkus/commit/814c85a32f715d23ccb7404b591f3032f5d95c47", "committedDate": "2020-11-20T17:56:47Z", "message": "Document the usage of @Blocking in gRPC service implementation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a1ef7a24541f6b581fd29521c92b024b1016346e", "author": {"user": {"login": "cescoffier", "name": "Clement Escoffier"}}, "url": "https://github.com/quarkusio/quarkus/commit/a1ef7a24541f6b581fd29521c92b024b1016346e", "committedDate": "2020-11-22T17:55:47Z", "message": "gRPC Client emissions should be on the event loop if the subscription is executed on the event loop"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9545a73fbbef3c8751d95c49bbf10260941f07a6", "author": {"user": {"login": "cescoffier", "name": "Clement Escoffier"}}, "url": "https://github.com/quarkusio/quarkus/commit/9545a73fbbef3c8751d95c49bbf10260941f07a6", "committedDate": "2020-11-22T17:55:47Z", "message": "Terminate managed channels on shutdown"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3f5e8061c2a2de22a6934c8d8abc8352f21e2214", "author": {"user": {"login": "cescoffier", "name": "Clement Escoffier"}}, "url": "https://github.com/quarkusio/quarkus/commit/3f5e8061c2a2de22a6934c8d8abc8352f21e2214", "committedDate": "2020-11-22T17:55:47Z", "message": "Document the usage of @Blocking in gRPC service implementation"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "814c85a32f715d23ccb7404b591f3032f5d95c47", "author": {"user": {"login": "cescoffier", "name": "Clement Escoffier"}}, "url": "https://github.com/quarkusio/quarkus/commit/814c85a32f715d23ccb7404b591f3032f5d95c47", "committedDate": "2020-11-20T17:56:47Z", "message": "Document the usage of @Blocking in gRPC service implementation"}, "afterCommit": {"oid": "3f5e8061c2a2de22a6934c8d8abc8352f21e2214", "author": {"user": {"login": "cescoffier", "name": "Clement Escoffier"}}, "url": "https://github.com/quarkusio/quarkus/commit/3f5e8061c2a2de22a6934c8d8abc8352f21e2214", "committedDate": "2020-11-22T17:55:47Z", "message": "Document the usage of @Blocking in gRPC service implementation"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM2MjI5NDI2", "url": "https://github.com/quarkusio/quarkus/pull/13406#pullrequestreview-536229426", "createdAt": "2020-11-23T07:48:35Z", "commit": {"oid": "3f5e8061c2a2de22a6934c8d8abc8352f21e2214"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1443, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}