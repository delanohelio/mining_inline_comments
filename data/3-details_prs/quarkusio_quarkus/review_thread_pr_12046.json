{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg1MDI0MDc4", "number": 12046, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMi0xMVQyMTo0NzoxNFrOFZlk0w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMi0xMVQyMTo0OTowMFrOFZlnmA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzYyMzc0MzU1OnYy", "diffSide": "RIGHT", "path": "devtools/gradle/src/main/java/io/quarkus/gradle/builder/QuarkusModelBuilder.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMi0xMVQyMTo0NzoxNFrOIkOBIw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMi0xMlQxMDozMjoxN1rOIke-8Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3NDg0OTMxNQ==", "bodyText": "Couldn't this be replaced with project.getGradle().includedBuild(name)?", "url": "https://github.com/quarkusio/quarkus/pull/12046#discussion_r574849315", "createdAt": "2021-02-11T21:47:14Z", "author": {"login": "aloubyansky"}, "path": "devtools/gradle/src/main/java/io/quarkus/gradle/builder/QuarkusModelBuilder.java", "diffHunk": "@@ -331,9 +337,14 @@ private void collectDependencies(ResolvedConfiguration configuration,\n             final DependencyImpl dep = initDependency(a);\n             if (LaunchMode.DEVELOPMENT.equals(mode) &&\n                     a.getId().getComponentIdentifier() instanceof ProjectComponentIdentifier) {\n-                Project projectDep = project.getRootProject()\n-                        .findProject(((ProjectComponentIdentifier) a.getId().getComponentIdentifier()).getProjectPath());\n-                addDevModePaths(dep, a, projectDep);\n+                Optional<IncludedBuild> includedBuild = includedBuild(project, a.getName());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4ae2ed90731e57f4a8b02c6a0e6b0285bd036029"}, "originalPosition": 65}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3NTEyNzI4MQ==", "bodyText": "yes, I just wrapped that in a try/catch because project.getGradle().includedBuild(name) throws an exception if the project is not an included build.", "url": "https://github.com/quarkusio/quarkus/pull/12046#discussion_r575127281", "createdAt": "2021-02-12T10:32:17Z", "author": {"login": "glefloch"}, "path": "devtools/gradle/src/main/java/io/quarkus/gradle/builder/QuarkusModelBuilder.java", "diffHunk": "@@ -331,9 +337,14 @@ private void collectDependencies(ResolvedConfiguration configuration,\n             final DependencyImpl dep = initDependency(a);\n             if (LaunchMode.DEVELOPMENT.equals(mode) &&\n                     a.getId().getComponentIdentifier() instanceof ProjectComponentIdentifier) {\n-                Project projectDep = project.getRootProject()\n-                        .findProject(((ProjectComponentIdentifier) a.getId().getComponentIdentifier()).getProjectPath());\n-                addDevModePaths(dep, a, projectDep);\n+                Optional<IncludedBuild> includedBuild = includedBuild(project, a.getName());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3NDg0OTMxNQ=="}, "originalCommit": {"oid": "4ae2ed90731e57f4a8b02c6a0e6b0285bd036029"}, "originalPosition": 65}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzYyMzc1MDY0OnYy", "diffSide": "RIGHT", "path": "devtools/gradle/src/main/java/io/quarkus/gradle/builder/QuarkusModelBuilder.java", "isResolved": false, "comments": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMi0xMVQyMTo0OTowMFrOIkOFOg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMi0xNlQxNToyNDoyN1rOImLrHg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3NDg1MDM2Mg==", "bodyText": "Just curious, have you tried to measure how long this method takes to execute? Is it seconds?", "url": "https://github.com/quarkusio/quarkus/pull/12046#discussion_r574850362", "createdAt": "2021-02-11T21:49:00Z", "author": {"login": "aloubyansky"}, "path": "devtools/gradle/src/main/java/io/quarkus/gradle/builder/QuarkusModelBuilder.java", "diffHunk": "@@ -402,6 +413,25 @@ private void addDevModePaths(final DependencyImpl dep, ResolvedArtifact a, Proje\n         }\n     }\n \n+    private void addSubstitutedProject(final DependencyImpl dep, File projectFile, LaunchMode mode) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4ae2ed90731e57f4a8b02c6a0e6b0285bd036029"}, "originalPosition": 80}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3NTEyNzYyMg==", "bodyText": "I just ran some really basics benchmarks, it takes 2 to 4 seconds..", "url": "https://github.com/quarkusio/quarkus/pull/12046#discussion_r575127622", "createdAt": "2021-02-12T10:32:50Z", "author": {"login": "glefloch"}, "path": "devtools/gradle/src/main/java/io/quarkus/gradle/builder/QuarkusModelBuilder.java", "diffHunk": "@@ -402,6 +413,25 @@ private void addDevModePaths(final DependencyImpl dep, ResolvedArtifact a, Proje\n         }\n     }\n \n+    private void addSubstitutedProject(final DependencyImpl dep, File projectFile, LaunchMode mode) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3NDg1MDM2Mg=="}, "originalCommit": {"oid": "4ae2ed90731e57f4a8b02c6a0e6b0285bd036029"}, "originalPosition": 80}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3NTUwOTA3Mw==", "bodyText": "Sorry, do you mind not using Optional in this case? Making includeBuild return boolean will make it look simpler and perform better.", "url": "https://github.com/quarkusio/quarkus/pull/12046#discussion_r575509073", "createdAt": "2021-02-12T20:43:37Z", "author": {"login": "aloubyansky"}, "path": "devtools/gradle/src/main/java/io/quarkus/gradle/builder/QuarkusModelBuilder.java", "diffHunk": "@@ -402,6 +413,25 @@ private void addDevModePaths(final DependencyImpl dep, ResolvedArtifact a, Proje\n         }\n     }\n \n+    private void addSubstitutedProject(final DependencyImpl dep, File projectFile, LaunchMode mode) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3NDg1MDM2Mg=="}, "originalCommit": {"oid": "4ae2ed90731e57f4a8b02c6a0e6b0285bd036029"}, "originalPosition": 80}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3NTUyMjY3NA==", "bodyText": "Oh yes for sure. I'm trying to understand why the test fails in ci and passes on my machine. I will remove the optional once everything is ok.", "url": "https://github.com/quarkusio/quarkus/pull/12046#discussion_r575522674", "createdAt": "2021-02-12T21:13:55Z", "author": {"login": "glefloch"}, "path": "devtools/gradle/src/main/java/io/quarkus/gradle/builder/QuarkusModelBuilder.java", "diffHunk": "@@ -402,6 +413,25 @@ private void addDevModePaths(final DependencyImpl dep, ResolvedArtifact a, Proje\n         }\n     }\n \n+    private void addSubstitutedProject(final DependencyImpl dep, File projectFile, LaunchMode mode) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3NDg1MDM2Mg=="}, "originalCommit": {"oid": "4ae2ed90731e57f4a8b02c6a0e6b0285bd036029"}, "originalPosition": 80}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3Njg2NjQ2Nw==", "bodyText": "I just ran some really basics benchmarks, it takes 2 to 4 seconds..\n\nJust to clarify, was it a restart/reload that was taking 2 to 4 seconds in dev mode?", "url": "https://github.com/quarkusio/quarkus/pull/12046#discussion_r576866467", "createdAt": "2021-02-16T14:31:47Z", "author": {"login": "aloubyansky"}, "path": "devtools/gradle/src/main/java/io/quarkus/gradle/builder/QuarkusModelBuilder.java", "diffHunk": "@@ -402,6 +413,25 @@ private void addDevModePaths(final DependencyImpl dep, ResolvedArtifact a, Proje\n         }\n     }\n \n+    private void addSubstitutedProject(final DependencyImpl dep, File projectFile, LaunchMode mode) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3NDg1MDM2Mg=="}, "originalCommit": {"oid": "4ae2ed90731e57f4a8b02c6a0e6b0285bd036029"}, "originalPosition": 80}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3Njg3MzY3MA==", "bodyText": "It's for the first quarkusDev start. Reload is not impacted, and thanks to daemons/caches, next restart are not really impacted.", "url": "https://github.com/quarkusio/quarkus/pull/12046#discussion_r576873670", "createdAt": "2021-02-16T14:41:07Z", "author": {"login": "glefloch"}, "path": "devtools/gradle/src/main/java/io/quarkus/gradle/builder/QuarkusModelBuilder.java", "diffHunk": "@@ -402,6 +413,25 @@ private void addDevModePaths(final DependencyImpl dep, ResolvedArtifact a, Proje\n         }\n     }\n \n+    private void addSubstitutedProject(final DependencyImpl dep, File projectFile, LaunchMode mode) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3NDg1MDM2Mg=="}, "originalCommit": {"oid": "4ae2ed90731e57f4a8b02c6a0e6b0285bd036029"}, "originalPosition": 80}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3NjkwODA2Mg==", "bodyText": "Right, that's good. Thanks!", "url": "https://github.com/quarkusio/quarkus/pull/12046#discussion_r576908062", "createdAt": "2021-02-16T15:24:27Z", "author": {"login": "aloubyansky"}, "path": "devtools/gradle/src/main/java/io/quarkus/gradle/builder/QuarkusModelBuilder.java", "diffHunk": "@@ -402,6 +413,25 @@ private void addDevModePaths(final DependencyImpl dep, ResolvedArtifact a, Proje\n         }\n     }\n \n+    private void addSubstitutedProject(final DependencyImpl dep, File projectFile, LaunchMode mode) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3NDg1MDM2Mg=="}, "originalCommit": {"oid": "4ae2ed90731e57f4a8b02c6a0e6b0285bd036029"}, "originalPosition": 80}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 248, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}