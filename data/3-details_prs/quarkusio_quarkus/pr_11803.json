{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc3NjI0ODQ2", "number": 11803, "title": "Add some logging to codestarts", "bodyText": "Fixes #11084\n\nRemove codestarts shared-data overrides from example codestarts\nAdd logs to codestarts\n\nThere are a lot of modified files because of package renaming, the PR in itself is not that big.", "createdAt": "2020-09-02T07:17:08Z", "url": "https://github.com/quarkusio/quarkus/pull/11803", "merged": true, "mergeCommit": {"oid": "970d997f51bea7ae408c7a7495cb86a3aab50945"}, "closed": true, "closedAt": "2020-09-03T04:58:51Z", "author": {"login": "ia3andy"}, "timelineItems": {"totalCount": 20, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdE2yOgABqjM3MTgyNTQ1MjU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdE9XBKgBqjM3MjAyOTgyMjc=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a066ca1cda8ed1c0f54fdd14b05e79cc42d6df49", "author": {"user": {"login": "ia3andy", "name": "Andy Damevin"}}, "url": "https://github.com/quarkusio/quarkus/commit/a066ca1cda8ed1c0f54fdd14b05e79cc42d6df49", "committedDate": "2020-09-02T07:15:36Z", "message": "Add logs to codestarts"}, "afterCommit": {"oid": "a0e1f25a4da4be89abd1f11e3c1063005a8e119c", "author": {"user": {"login": "ia3andy", "name": "Andy Damevin"}}, "url": "https://github.com/quarkusio/quarkus/commit/a0e1f25a4da4be89abd1f11e3c1063005a8e119c", "committedDate": "2020-09-02T07:22:31Z", "message": "Add logs to codestarts"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a0e1f25a4da4be89abd1f11e3c1063005a8e119c", "author": {"user": {"login": "ia3andy", "name": "Andy Damevin"}}, "url": "https://github.com/quarkusio/quarkus/commit/a0e1f25a4da4be89abd1f11e3c1063005a8e119c", "committedDate": "2020-09-02T07:22:31Z", "message": "Add logs to codestarts"}, "afterCommit": {"oid": "5bec52d75b9bff38482858b2944dd57712359492", "author": {"user": {"login": "ia3andy", "name": "Andy Damevin"}}, "url": "https://github.com/quarkusio/quarkus/commit/5bec52d75b9bff38482858b2944dd57712359492", "committedDate": "2020-09-02T07:24:28Z", "message": "Add logs to codestarts"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5bec52d75b9bff38482858b2944dd57712359492", "author": {"user": {"login": "ia3andy", "name": "Andy Damevin"}}, "url": "https://github.com/quarkusio/quarkus/commit/5bec52d75b9bff38482858b2944dd57712359492", "committedDate": "2020-09-02T07:24:28Z", "message": "Add logs to codestarts"}, "afterCommit": {"oid": "be699520cea71dbdc7c947fed42edbabc1a0b55c", "author": {"user": {"login": "ia3andy", "name": "Andy Damevin"}}, "url": "https://github.com/quarkusio/quarkus/commit/be699520cea71dbdc7c947fed42edbabc1a0b55c", "committedDate": "2020-09-02T07:42:03Z", "message": "Remove codestarts shared-data overrides from example codestarts\n\nAdd logs to codestarts"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "be699520cea71dbdc7c947fed42edbabc1a0b55c", "author": {"user": {"login": "ia3andy", "name": "Andy Damevin"}}, "url": "https://github.com/quarkusio/quarkus/commit/be699520cea71dbdc7c947fed42edbabc1a0b55c", "committedDate": "2020-09-02T07:42:03Z", "message": "Remove codestarts shared-data overrides from example codestarts\n\nAdd logs to codestarts"}, "afterCommit": {"oid": "fc5ef31463e35a30883acff38669e1607fb2fb52", "author": {"user": {"login": "ia3andy", "name": "Andy Damevin"}}, "url": "https://github.com/quarkusio/quarkus/commit/fc5ef31463e35a30883acff38669e1607fb2fb52", "committedDate": "2020-09-02T09:56:39Z", "message": "Remove codestarts shared-data overrides from example codestarts\n\nAdd logs to codestarts"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "fc5ef31463e35a30883acff38669e1607fb2fb52", "author": {"user": {"login": "ia3andy", "name": "Andy Damevin"}}, "url": "https://github.com/quarkusio/quarkus/commit/fc5ef31463e35a30883acff38669e1607fb2fb52", "committedDate": "2020-09-02T09:56:39Z", "message": "Remove codestarts shared-data overrides from example codestarts\n\nAdd logs to codestarts"}, "afterCommit": {"oid": "0e2c8c9dd8c00a52dd5293d70ac3261f7a56556f", "author": {"user": {"login": "ia3andy", "name": "Andy Damevin"}}, "url": "https://github.com/quarkusio/quarkus/commit/0e2c8c9dd8c00a52dd5293d70ac3261f7a56556f", "committedDate": "2020-09-02T12:17:07Z", "message": "Remove codestarts shared-data overrides from example codestarts\n\nAdd logs to codestarts"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0e2c8c9dd8c00a52dd5293d70ac3261f7a56556f", "author": {"user": {"login": "ia3andy", "name": "Andy Damevin"}}, "url": "https://github.com/quarkusio/quarkus/commit/0e2c8c9dd8c00a52dd5293d70ac3261f7a56556f", "committedDate": "2020-09-02T12:17:07Z", "message": "Remove codestarts shared-data overrides from example codestarts\n\nAdd logs to codestarts"}, "afterCommit": {"oid": "f39cbe9fd72c61eed656401d21d41122070abd06", "author": {"user": {"login": "ia3andy", "name": "Andy Damevin"}}, "url": "https://github.com/quarkusio/quarkus/commit/f39cbe9fd72c61eed656401d21d41122070abd06", "committedDate": "2020-09-02T12:32:29Z", "message": "Remove codestarts shared-data overrides from example codestarts\n\nAdd logs to codestarts"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgwNzc0ODg1", "url": "https://github.com/quarkusio/quarkus/pull/11803#pullrequestreview-480774885", "createdAt": "2020-09-02T12:38:16Z", "commit": {"oid": "f39cbe9fd72c61eed656401d21d41122070abd06"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQxMjozODoxNlrOHLtDSA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQxMjozODoxNlrOHLtDSA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjAzNDUwNA==", "bodyText": "If message-writer belongs to a different module, it must have its own namespace", "url": "https://github.com/quarkusio/quarkus/pull/11803#discussion_r482034504", "createdAt": "2020-09-02T12:38:16Z", "author": {"login": "gastaldi"}, "path": "independent-projects/tools/message-writer/src/main/java/io/quarkus/devtools/DefaultMessageWriter.java", "diffHunk": "@@ -0,0 +1,57 @@\n+package io.quarkus.devtools;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f39cbe9fd72c61eed656401d21d41122070abd06"}, "originalPosition": 1}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f39cbe9fd72c61eed656401d21d41122070abd06", "author": {"user": {"login": "ia3andy", "name": "Andy Damevin"}}, "url": "https://github.com/quarkusio/quarkus/commit/f39cbe9fd72c61eed656401d21d41122070abd06", "committedDate": "2020-09-02T12:32:29Z", "message": "Remove codestarts shared-data overrides from example codestarts\n\nAdd logs to codestarts"}, "afterCommit": {"oid": "e1c409de0b1d0a7635e32334a35dd14c37ea2a1c", "author": {"user": {"login": "ia3andy", "name": "Andy Damevin"}}, "url": "https://github.com/quarkusio/quarkus/commit/e1c409de0b1d0a7635e32334a35dd14c37ea2a1c", "committedDate": "2020-09-02T12:57:24Z", "message": "Remove codestarts shared-data overrides from example codestarts\n\nAdd logs to codestarts"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgwNzk5ODky", "url": "https://github.com/quarkusio/quarkus/pull/11803#pullrequestreview-480799892", "createdAt": "2020-09-02T13:07:34Z", "commit": {"oid": "e1c409de0b1d0a7635e32334a35dd14c37ea2a1c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQxMzowNzozNFrOHLuPUA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQxMzowNzozNFrOHLuPUA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjA1Mzk2OA==", "bodyText": "I don't think the name should matter in the comparison here.", "url": "https://github.com/quarkusio/quarkus/pull/11803#discussion_r482053968", "createdAt": "2020-09-02T13:07:34Z", "author": {"login": "gastaldi"}, "path": "independent-projects/tools/codestarts/src/main/java/io/quarkus/devtools/codestarts/Codestart.java", "diffHunk": "@@ -10,6 +11,11 @@\n     private final CodestartSpec spec;\n     private final Set<String> implementedLanguages;\n \n+    static final Comparator<Codestart> PROCESSING_ORDER = Comparator.comparingInt(Codestart::getTypeOrder)\n+            .thenComparing(Codestart::getName);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e1c409de0b1d0a7635e32334a35dd14c37ea2a1c"}, "originalPosition": 12}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e1c409de0b1d0a7635e32334a35dd14c37ea2a1c", "author": {"user": {"login": "ia3andy", "name": "Andy Damevin"}}, "url": "https://github.com/quarkusio/quarkus/commit/e1c409de0b1d0a7635e32334a35dd14c37ea2a1c", "committedDate": "2020-09-02T12:57:24Z", "message": "Remove codestarts shared-data overrides from example codestarts\n\nAdd logs to codestarts"}, "afterCommit": {"oid": "6c2f87ec619c7752f1ed40cf65d67ea68124f050", "author": {"user": {"login": "ia3andy", "name": "Andy Damevin"}}, "url": "https://github.com/quarkusio/quarkus/commit/6c2f87ec619c7752f1ed40cf65d67ea68124f050", "committedDate": "2020-09-02T13:08:32Z", "message": "Remove codestarts shared-data overrides from example codestarts\n\nAdd logs to codestarts"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgwODAxMzIy", "url": "https://github.com/quarkusio/quarkus/pull/11803#pullrequestreview-480801322", "createdAt": "2020-09-02T13:09:11Z", "commit": {"oid": "e1c409de0b1d0a7635e32334a35dd14c37ea2a1c"}, "state": "DISMISSED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQxMzoxMDoxOVrOHLuWQw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQxMzoxMDoxOVrOHLuWQw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjA1NTc0Nw==", "bodyText": "Minor comment: It would be nice to display the project name in bold", "url": "https://github.com/quarkusio/quarkus/pull/11803#discussion_r482055747", "createdAt": "2020-09-02T13:10:19Z", "author": {"login": "gastaldi"}, "path": "independent-projects/tools/devtools-common/src/main/java/io/quarkus/devtools/commands/handlers/CreateProjectCommandHandler.java", "diffHunk": "@@ -85,13 +84,20 @@ public QuarkusCommandOutcome execute(QuarkusCommandInvocation invocation) throws\n                         .noDockerfiles(invocation.getValue(NO_DOCKERFILES, false))\n                         .addData(platformData)\n                         .addData(LegacySupport.convertFromLegacy(invocation.getValues()))\n+                        .messageWriter(invocation.log())\n                         .build();\n-                invocation.log().info(\n-                        \"Generating Quarkus Codestart Project with data: \" + input.getCodestartInput().getData().toString());\n+                invocation.log().info(\"-----------\");\n+                invocation.log().info(\"selected extensions: \\n\"\n+                        + extensionsToAdd.stream().map(e -> \"- \" + e.getGroupId() + \":\" + e.getArtifactId() + \"\\n\")\n+                                .collect(Collectors.joining()));\n                 final CodestartProject codestartProject = prepareProject(input);\n-                invocation.log().info(\"Codestarts: \" + codestartProject.getCodestarts().stream().map(Codestart::getSpec)\n-                        .map(CodestartSpec::getName).collect(Collectors.joining(\", \")));\n                 Codestarts.generateProject(codestartProject, invocation.getQuarkusProject().getProjectDirPath());\n+                invocation.log()\n+                        .info(\"\\n-----------\\n\" + MessageIcons.NOOP_ICON + \" \"\n+                                + codestartProject.getRequiredCodestart(CodestartType.PROJECT).getName()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6c2f87ec619c7752f1ed40cf65d67ea68124f050"}, "originalPosition": 45}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6c2f87ec619c7752f1ed40cf65d67ea68124f050", "author": {"user": {"login": "ia3andy", "name": "Andy Damevin"}}, "url": "https://github.com/quarkusio/quarkus/commit/6c2f87ec619c7752f1ed40cf65d67ea68124f050", "committedDate": "2020-09-02T13:08:32Z", "message": "Remove codestarts shared-data overrides from example codestarts\n\nAdd logs to codestarts"}, "afterCommit": {"oid": "ff4f96e2c3ae5299e8abe498a3e6b8e2ae9e9f48", "author": {"user": {"login": "ia3andy", "name": "Andy Damevin"}}, "url": "https://github.com/quarkusio/quarkus/commit/ff4f96e2c3ae5299e8abe498a3e6b8e2ae9e9f48", "committedDate": "2020-09-02T13:26:24Z", "message": "Remove codestarts shared-data overrides from example codestarts\n\nAdd logs to codestarts"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ff4f96e2c3ae5299e8abe498a3e6b8e2ae9e9f48", "author": {"user": {"login": "ia3andy", "name": "Andy Damevin"}}, "url": "https://github.com/quarkusio/quarkus/commit/ff4f96e2c3ae5299e8abe498a3e6b8e2ae9e9f48", "committedDate": "2020-09-02T13:26:24Z", "message": "Remove codestarts shared-data overrides from example codestarts\n\nAdd logs to codestarts"}, "afterCommit": {"oid": "927291550b3d2f2314ea8cfcbe12b02979bce82c", "author": {"user": {"login": "ia3andy", "name": "Andy Damevin"}}, "url": "https://github.com/quarkusio/quarkus/commit/927291550b3d2f2314ea8cfcbe12b02979bce82c", "committedDate": "2020-09-02T13:30:47Z", "message": "Remove codestarts shared-data overrides from example codestarts\n\nAdd logs to codestarts"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgwODQxNjg4", "url": "https://github.com/quarkusio/quarkus/pull/11803#pullrequestreview-480841688", "createdAt": "2020-09-02T13:52:24Z", "commit": {"oid": "927291550b3d2f2314ea8cfcbe12b02979bce82c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQxMzo1MjoyNVrOHLwLug==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQxMzo1MjoyNVrOHLwLug==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjA4NTgxOA==", "bodyText": "People used have debug(format, args) to avoid unnecessary string concatenation in case debug wasn't enabled.", "url": "https://github.com/quarkusio/quarkus/pull/11803#discussion_r482085818", "createdAt": "2020-09-02T13:52:25Z", "author": {"login": "aloubyansky"}, "path": "independent-projects/tools/codestarts/src/main/java/io/quarkus/devtools/codestarts/CodestartProcessor.java", "diffHunk": "@@ -63,10 +69,12 @@ void addBuiltinData() {\n     }\n \n     void processCodestartDir(final Path sourceDirectory, final Map<String, Object> finalData) {\n+        log.debug(() -> \"processing dir: \" + sourceDirectory.toString());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "927291550b3d2f2314ea8cfcbe12b02979bce82c"}, "originalPosition": 55}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgwODUzMzM3", "url": "https://github.com/quarkusio/quarkus/pull/11803#pullrequestreview-480853337", "createdAt": "2020-09-02T14:03:45Z", "commit": {"oid": "927291550b3d2f2314ea8cfcbe12b02979bce82c"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "927291550b3d2f2314ea8cfcbe12b02979bce82c", "author": {"user": {"login": "ia3andy", "name": "Andy Damevin"}}, "url": "https://github.com/quarkusio/quarkus/commit/927291550b3d2f2314ea8cfcbe12b02979bce82c", "committedDate": "2020-09-02T13:30:47Z", "message": "Remove codestarts shared-data overrides from example codestarts\n\nAdd logs to codestarts"}, "afterCommit": {"oid": "3d5d8d9aa1831299c4d0ec36a9407dd46eea3f90", "author": {"user": {"login": "ia3andy", "name": "Andy Damevin"}}, "url": "https://github.com/quarkusio/quarkus/commit/3d5d8d9aa1831299c4d0ec36a9407dd46eea3f90", "committedDate": "2020-09-02T14:51:52Z", "message": "Remove codestarts shared-data overrides from example codestarts\n\nAdd logs to codestarts"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgwOTA1MTI2", "url": "https://github.com/quarkusio/quarkus/pull/11803#pullrequestreview-480905126", "createdAt": "2020-09-02T14:54:16Z", "commit": {"oid": "3d5d8d9aa1831299c4d0ec36a9407dd46eea3f90"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3d5d8d9aa1831299c4d0ec36a9407dd46eea3f90", "author": {"user": {"login": "ia3andy", "name": "Andy Damevin"}}, "url": "https://github.com/quarkusio/quarkus/commit/3d5d8d9aa1831299c4d0ec36a9407dd46eea3f90", "committedDate": "2020-09-02T14:51:52Z", "message": "Remove codestarts shared-data overrides from example codestarts\n\nAdd logs to codestarts"}, "afterCommit": {"oid": "778c2725382607cb43c70f48be92dd6d710ac650", "author": {"user": {"login": "ia3andy", "name": "Andy Damevin"}}, "url": "https://github.com/quarkusio/quarkus/commit/778c2725382607cb43c70f48be92dd6d710ac650", "committedDate": "2020-09-02T14:55:31Z", "message": "Remove codestarts shared-data overrides from example codestarts\n\nAdd logs to codestarts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a2dbb530f533616d78de19b7022c7cb836328f43", "author": {"user": {"login": "ia3andy", "name": "Andy Damevin"}}, "url": "https://github.com/quarkusio/quarkus/commit/a2dbb530f533616d78de19b7022c7cb836328f43", "committedDate": "2020-09-02T15:02:05Z", "message": "Remove codestarts shared-data overrides from example codestarts\n\nAdd logs to codestarts"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "778c2725382607cb43c70f48be92dd6d710ac650", "author": {"user": {"login": "ia3andy", "name": "Andy Damevin"}}, "url": "https://github.com/quarkusio/quarkus/commit/778c2725382607cb43c70f48be92dd6d710ac650", "committedDate": "2020-09-02T14:55:31Z", "message": "Remove codestarts shared-data overrides from example codestarts\n\nAdd logs to codestarts"}, "afterCommit": {"oid": "a2dbb530f533616d78de19b7022c7cb836328f43", "author": {"user": {"login": "ia3andy", "name": "Andy Damevin"}}, "url": "https://github.com/quarkusio/quarkus/commit/a2dbb530f533616d78de19b7022c7cb836328f43", "committedDate": "2020-09-02T15:02:05Z", "message": "Remove codestarts shared-data overrides from example codestarts\n\nAdd logs to codestarts"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 666, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}