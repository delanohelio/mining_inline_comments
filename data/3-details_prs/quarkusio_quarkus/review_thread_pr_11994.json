{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDgyMzU0ODcw", "number": 11994, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOFQyMjo1OToxMFrOEhcWwQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOFQyMjo1OToxMFrOEhcWwQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAzNTAzMDQxOnYy", "diffSide": "LEFT", "path": "independent-projects/arc/processor/src/main/java/io/quarkus/arc/processor/BeanDeployment.java", "isResolved": false, "comments": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOFQyMjo1OToxMFrOHOwvdQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOVQxMTowNzoyOVrOHPCPIQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTI0MDY5Mw==", "bodyText": "continue here would result in an infinite loop,  as aClass will never be updated.", "url": "https://github.com/quarkusio/quarkus/pull/11994#discussion_r485240693", "createdAt": "2020-09-08T22:59:10Z", "author": {"login": "stuartwdouglas"}, "path": "independent-projects/arc/processor/src/main/java/io/quarkus/arc/processor/BeanDeployment.java", "diffHunk": "@@ -720,20 +720,21 @@ static ScopeInfo getValidScope(Collection<ScopeInfo> stereotypeScopes, Annotatio\n             Set<MethodInfo> methods = new HashSet<>();\n             while (aClass != null) {\n                 if (!scannedClasses.add(aClass)) {\n-                    continue;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fd623711b9ace0c582c774056394e464cf443fd6"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTI0MjMyNA==", "bodyText": "Actually this would always return true, as scannedClasses has the wrong scope.", "url": "https://github.com/quarkusio/quarkus/pull/11994#discussion_r485242324", "createdAt": "2020-09-08T23:04:24Z", "author": {"login": "stuartwdouglas"}, "path": "independent-projects/arc/processor/src/main/java/io/quarkus/arc/processor/BeanDeployment.java", "diffHunk": "@@ -720,20 +720,21 @@ static ScopeInfo getValidScope(Collection<ScopeInfo> stereotypeScopes, Annotatio\n             Set<MethodInfo> methods = new HashSet<>();\n             while (aClass != null) {\n                 if (!scannedClasses.add(aClass)) {\n-                    continue;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTI0MDY5Mw=="}, "originalCommit": {"oid": "fd623711b9ace0c582c774056394e464cf443fd6"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTM4NDEyMA==", "bodyText": "continue here would result in an infinite loop, as aClass will never be updated.\n\nYou can't have a class multiple times in the hierarchy, or?\n\nActually this would always return true, as scannedClasses has the wrong scope.\n\nI don't think so. We need to use a new set for each bean class.\n@michalszynkiewicz could you review this PR? Git blame tells me that you're the author of the original code...", "url": "https://github.com/quarkusio/quarkus/pull/11994#discussion_r485384120", "createdAt": "2020-09-09T07:04:38Z", "author": {"login": "mkouba"}, "path": "independent-projects/arc/processor/src/main/java/io/quarkus/arc/processor/BeanDeployment.java", "diffHunk": "@@ -720,20 +720,21 @@ static ScopeInfo getValidScope(Collection<ScopeInfo> stereotypeScopes, Annotatio\n             Set<MethodInfo> methods = new HashSet<>();\n             while (aClass != null) {\n                 if (!scannedClasses.add(aClass)) {\n-                    continue;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTI0MDY5Mw=="}, "originalCommit": {"oid": "fd623711b9ace0c582c774056394e464cf443fd6"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTM4NjMzNQ==", "bodyText": "I have just removed the scannedClasses set, you can't never have a double up in the hierarchy when you are just looking at superclasses. If there had been a double up with the existing code you would get an infinite loop.", "url": "https://github.com/quarkusio/quarkus/pull/11994#discussion_r485386335", "createdAt": "2020-09-09T07:09:30Z", "author": {"login": "stuartwdouglas"}, "path": "independent-projects/arc/processor/src/main/java/io/quarkus/arc/processor/BeanDeployment.java", "diffHunk": "@@ -720,20 +720,21 @@ static ScopeInfo getValidScope(Collection<ScopeInfo> stereotypeScopes, Annotatio\n             Set<MethodInfo> methods = new HashSet<>();\n             while (aClass != null) {\n                 if (!scannedClasses.add(aClass)) {\n-                    continue;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTI0MDY5Mw=="}, "originalCommit": {"oid": "fd623711b9ace0c582c774056394e464cf443fd6"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTM4NzY1Mg==", "bodyText": "While you're at it, could you also remove it here: https://github.com/quarkusio/quarkus/blob/master/independent-projects/arc/processor/src/main/java/io/quarkus/arc/processor/InterceptorInfo.java#L61\nThanks :-)", "url": "https://github.com/quarkusio/quarkus/pull/11994#discussion_r485387652", "createdAt": "2020-09-09T07:12:18Z", "author": {"login": "mkouba"}, "path": "independent-projects/arc/processor/src/main/java/io/quarkus/arc/processor/BeanDeployment.java", "diffHunk": "@@ -720,20 +720,21 @@ static ScopeInfo getValidScope(Collection<ScopeInfo> stereotypeScopes, Annotatio\n             Set<MethodInfo> methods = new HashSet<>();\n             while (aClass != null) {\n                 if (!scannedClasses.add(aClass)) {\n-                    continue;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTI0MDY5Mw=="}, "originalCommit": {"oid": "fd623711b9ace0c582c774056394e464cf443fd6"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTUyNzMyOQ==", "bodyText": "Nevermind, I'll update the interceptor info in a different PR...", "url": "https://github.com/quarkusio/quarkus/pull/11994#discussion_r485527329", "createdAt": "2020-09-09T11:07:29Z", "author": {"login": "mkouba"}, "path": "independent-projects/arc/processor/src/main/java/io/quarkus/arc/processor/BeanDeployment.java", "diffHunk": "@@ -720,20 +720,21 @@ static ScopeInfo getValidScope(Collection<ScopeInfo> stereotypeScopes, Annotatio\n             Set<MethodInfo> methods = new HashSet<>();\n             while (aClass != null) {\n                 if (!scannedClasses.add(aClass)) {\n-                    continue;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTI0MDY5Mw=="}, "originalCommit": {"oid": "fd623711b9ace0c582c774056394e464cf443fd6"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 392, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}