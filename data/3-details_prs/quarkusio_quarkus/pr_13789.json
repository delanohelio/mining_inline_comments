{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM1MzgyMjE3", "number": 13789, "title": "Make it possible for integration tests to observe Classloading events", "bodyText": "This introduces a ClassLoaderListener interface, which is applied on all but our production ClassLoaders, and then modifies our test helpers to easily allow registering a listeners.\nThen, I introduce an implementation of such a listener which I use to verify certain classes are not being loaded, and the same for some resources.\nCouple tests added to verify optimisations of the Hibernate ORM bootstrap process.", "createdAt": "2020-12-09T18:33:56Z", "url": "https://github.com/quarkusio/quarkus/pull/13789", "merged": true, "mergeCommit": {"oid": "189e21e6b8e93fde415c0057e4537632285fc718"}, "closed": true, "closedAt": "2020-12-11T18:25:37Z", "author": {"login": "Sanne"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdkvBjygFqTU0ODk1MDM4MA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdlG5UKABqjQxMDAwODkzMTc=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ4OTUwMzgw", "url": "https://github.com/quarkusio/quarkus/pull/13789#pullrequestreview-548950380", "createdAt": "2020-12-10T08:25:45Z", "commit": {"oid": "181ee50f0d0b33925df6f7a6d4b534ef6a2e7d88"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ5MjIyNTUy", "url": "https://github.com/quarkusio/quarkus/pull/13789#pullrequestreview-549222552", "createdAt": "2020-12-10T14:00:13Z", "commit": {"oid": "181ee50f0d0b33925df6f7a6d4b534ef6a2e7d88"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQxNDowMDoxM1rOIDKoNg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQxNDowMDoxM1rOIDKoNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDE5MDc3NA==", "bodyText": "I think an enhanced for-loop would be better here for performance purposes?", "url": "https://github.com/quarkusio/quarkus/pull/13789#discussion_r540190774", "createdAt": "2020-12-10T14:00:13Z", "author": {"login": "gastaldi"}, "path": "independent-projects/bootstrap/core/src/main/java/io/quarkus/bootstrap/classloading/QuarkusClassLoader.java", "diffHunk": "@@ -362,11 +365,13 @@ public InputStream getResourceAsStream(String unsanitisedName) {\n \n     @Override\n     public Class<?> loadClass(String name) throws ClassNotFoundException {\n+        classLoaderEventListeners.forEach(l -> l.loadClass(name, this.name));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "181ee50f0d0b33925df6f7a6d4b534ef6a2e7d88"}, "originalPosition": 69}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d7ee30885de571cd6d5896595c70ecb226547752", "author": {"user": {"login": "Sanne", "name": "Sanne Grinovero"}}, "url": "https://github.com/quarkusio/quarkus/commit/d7ee30885de571cd6d5896595c70ecb226547752", "committedDate": "2020-12-11T12:09:18Z", "message": "Make it possible for integration tests to observe Classloading events"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "de6fa4d99fd3cb1bd6fd696bfd493a5ec7889953", "author": {"user": {"login": "Sanne", "name": "Sanne Grinovero"}}, "url": "https://github.com/quarkusio/quarkus/commit/de6fa4d99fd3cb1bd6fd696bfd493a5ec7889953", "committedDate": "2020-12-11T12:12:46Z", "message": "Replace the for-each with a traditional for loop in QuarkusClassLoader"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "181ee50f0d0b33925df6f7a6d4b534ef6a2e7d88", "author": {"user": {"login": "Sanne", "name": "Sanne Grinovero"}}, "url": "https://github.com/quarkusio/quarkus/commit/181ee50f0d0b33925df6f7a6d4b534ef6a2e7d88", "committedDate": "2020-12-09T18:29:43Z", "message": "Make it possible for integration tests to observe Classloading events"}, "afterCommit": {"oid": "de6fa4d99fd3cb1bd6fd696bfd493a5ec7889953", "author": {"user": {"login": "Sanne", "name": "Sanne Grinovero"}}, "url": "https://github.com/quarkusio/quarkus/commit/de6fa4d99fd3cb1bd6fd696bfd493a5ec7889953", "committedDate": "2020-12-11T12:12:46Z", "message": "Replace the for-each with a traditional for loop in QuarkusClassLoader"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1275, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}