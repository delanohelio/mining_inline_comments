{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg1MDI0MDc4", "number": 12046, "title": "Handle gradle included-builds in quarkusDev task", "bodyText": "Right now, included build were ignored while creating the quarkus model.\nThis branch add support for included build by:\n\nLooking for included build\nBuilding the quarkus model of those projects\nAdding the model and its dependencies to the current model.\n\nWhen looking for included builds, the gradle API only gives us the project name and the project directory. That's why I use the Quarkus model to collect included build infos.\nclose #11902", "createdAt": "2020-09-11T12:34:29Z", "url": "https://github.com/quarkusio/quarkus/pull/12046", "merged": true, "mergeCommit": {"oid": "5c7a3cc2b71c73fdee4886d1936cb27ff95395be"}, "closed": true, "closedAt": "2021-02-17T08:52:07Z", "author": {"login": "glefloch"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdJYjf9gBqjM3NzIxMzAyNzY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABd6txohgFqTU5MTMzNTUxMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "863a085616f176eaf723c78e1769baebbfe69969", "author": {"user": {"login": "glefloch", "name": "Guillaume Le Floch"}}, "url": "https://github.com/quarkusio/quarkus/commit/863a085616f176eaf723c78e1769baebbfe69969", "committedDate": "2020-09-11T12:24:02Z", "message": "handle gradle included builds"}, "afterCommit": {"oid": "298070ae63d97163ed4c80ae336465834c68500d", "author": {"user": {"login": "glefloch", "name": "Guillaume Le Floch"}}, "url": "https://github.com/quarkusio/quarkus/commit/298070ae63d97163ed4c80ae336465834c68500d", "committedDate": "2020-09-16T08:57:53Z", "message": "handle gradle included builds"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "298070ae63d97163ed4c80ae336465834c68500d", "author": {"user": {"login": "glefloch", "name": "Guillaume Le Floch"}}, "url": "https://github.com/quarkusio/quarkus/commit/298070ae63d97163ed4c80ae336465834c68500d", "committedDate": "2020-09-16T08:57:53Z", "message": "handle gradle included builds"}, "afterCommit": {"oid": "c98fbaa6392212b199b8bac912d072022a621bb2", "author": {"user": {"login": "glefloch", "name": "Guillaume Le Floch"}}, "url": "https://github.com/quarkusio/quarkus/commit/c98fbaa6392212b199b8bac912d072022a621bb2", "committedDate": "2020-09-16T12:00:10Z", "message": "handle gradle included builds"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d2b7623c47efeff2fa5a402e7d10178f8ee76bba", "author": {"user": {"login": "glefloch", "name": "Guillaume Le Floch"}}, "url": "https://github.com/quarkusio/quarkus/commit/d2b7623c47efeff2fa5a402e7d10178f8ee76bba", "committedDate": "2020-09-16T20:26:39Z", "message": "add some debug for failed tests"}, "afterCommit": {"oid": "ebea2112712144f60d66e98b822035b48a4efd4a", "author": {"user": {"login": "glefloch", "name": "Guillaume Le Floch"}}, "url": "https://github.com/quarkusio/quarkus/commit/ebea2112712144f60d66e98b822035b48a4efd4a", "committedDate": "2020-09-23T13:42:14Z", "message": "add some debug for failed tests"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5ac8fd39982f7cc89561d9bd99a7bf98e61b7ac4", "author": {"user": {"login": "glefloch", "name": "Guillaume Le Floch"}}, "url": "https://github.com/quarkusio/quarkus/commit/5ac8fd39982f7cc89561d9bd99a7bf98e61b7ac4", "committedDate": "2020-09-25T09:09:18Z", "message": "test"}, "afterCommit": {"oid": "1292f8dcf7b0bc12f8be6792ebe941712039361b", "author": {"user": {"login": "glefloch", "name": "Guillaume Le Floch"}}, "url": "https://github.com/quarkusio/quarkus/commit/1292f8dcf7b0bc12f8be6792ebe941712039361b", "committedDate": "2020-11-12T11:12:01Z", "message": "handle gradle included builds"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1292f8dcf7b0bc12f8be6792ebe941712039361b", "author": {"user": {"login": "glefloch", "name": "Guillaume Le Floch"}}, "url": "https://github.com/quarkusio/quarkus/commit/1292f8dcf7b0bc12f8be6792ebe941712039361b", "committedDate": "2020-11-12T11:12:01Z", "message": "handle gradle included builds"}, "afterCommit": {"oid": "4ae2ed90731e57f4a8b02c6a0e6b0285bd036029", "author": {"user": {"login": "glefloch", "name": "Guillaume Le Floch"}}, "url": "https://github.com/quarkusio/quarkus/commit/4ae2ed90731e57f4a8b02c6a0e6b0285bd036029", "committedDate": "2021-02-11T21:09:37Z", "message": "handle gradle included builds"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTg5MDE0MjI0", "url": "https://github.com/quarkusio/quarkus/pull/12046#pullrequestreview-589014224", "createdAt": "2021-02-11T21:47:14Z", "commit": {"oid": "4ae2ed90731e57f4a8b02c6a0e6b0285bd036029"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMi0xMVQyMTo0NzoxNFrOIkOBIw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMi0xMVQyMTo0NzoxNFrOIkOBIw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3NDg0OTMxNQ==", "bodyText": "Couldn't this be replaced with project.getGradle().includedBuild(name)?", "url": "https://github.com/quarkusio/quarkus/pull/12046#discussion_r574849315", "createdAt": "2021-02-11T21:47:14Z", "author": {"login": "aloubyansky"}, "path": "devtools/gradle/src/main/java/io/quarkus/gradle/builder/QuarkusModelBuilder.java", "diffHunk": "@@ -331,9 +337,14 @@ private void collectDependencies(ResolvedConfiguration configuration,\n             final DependencyImpl dep = initDependency(a);\n             if (LaunchMode.DEVELOPMENT.equals(mode) &&\n                     a.getId().getComponentIdentifier() instanceof ProjectComponentIdentifier) {\n-                Project projectDep = project.getRootProject()\n-                        .findProject(((ProjectComponentIdentifier) a.getId().getComponentIdentifier()).getProjectPath());\n-                addDevModePaths(dep, a, projectDep);\n+                Optional<IncludedBuild> includedBuild = includedBuild(project, a.getName());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4ae2ed90731e57f4a8b02c6a0e6b0285bd036029"}, "originalPosition": 65}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTg5MDE1NDcz", "url": "https://github.com/quarkusio/quarkus/pull/12046#pullrequestreview-589015473", "createdAt": "2021-02-11T21:49:00Z", "commit": {"oid": "4ae2ed90731e57f4a8b02c6a0e6b0285bd036029"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMi0xMVQyMTo0OTowMFrOIkOFOg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMi0xMVQyMTo0OTowMFrOIkOFOg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3NDg1MDM2Mg==", "bodyText": "Just curious, have you tried to measure how long this method takes to execute? Is it seconds?", "url": "https://github.com/quarkusio/quarkus/pull/12046#discussion_r574850362", "createdAt": "2021-02-11T21:49:00Z", "author": {"login": "aloubyansky"}, "path": "devtools/gradle/src/main/java/io/quarkus/gradle/builder/QuarkusModelBuilder.java", "diffHunk": "@@ -402,6 +413,25 @@ private void addDevModePaths(final DependencyImpl dep, ResolvedArtifact a, Proje\n         }\n     }\n \n+    private void addSubstitutedProject(final DependencyImpl dep, File projectFile, LaunchMode mode) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4ae2ed90731e57f4a8b02c6a0e6b0285bd036029"}, "originalPosition": 80}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4ae2ed90731e57f4a8b02c6a0e6b0285bd036029", "author": {"user": {"login": "glefloch", "name": "Guillaume Le Floch"}}, "url": "https://github.com/quarkusio/quarkus/commit/4ae2ed90731e57f4a8b02c6a0e6b0285bd036029", "committedDate": "2021-02-11T21:09:37Z", "message": "handle gradle included builds"}, "afterCommit": {"oid": "d06042e06e18e6472d4fa2e11af551756f36639a", "author": {"user": {"login": "glefloch", "name": "Guillaume Le Floch"}}, "url": "https://github.com/quarkusio/quarkus/commit/d06042e06e18e6472d4fa2e11af551756f36639a", "committedDate": "2021-02-12T10:31:06Z", "message": "handle gradle included builds"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4f224826f20ff1307baacb7865d1c756a23efc0a", "author": {"user": {"login": "glefloch", "name": "Guillaume Le Floch"}}, "url": "https://github.com/quarkusio/quarkus/commit/4f224826f20ff1307baacb7865d1c756a23efc0a", "committedDate": "2021-02-16T12:47:46Z", "message": "handle gradle included builds"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d06042e06e18e6472d4fa2e11af551756f36639a", "author": {"user": {"login": "glefloch", "name": "Guillaume Le Floch"}}, "url": "https://github.com/quarkusio/quarkus/commit/d06042e06e18e6472d4fa2e11af551756f36639a", "committedDate": "2021-02-12T10:31:06Z", "message": "handle gradle included builds"}, "afterCommit": {"oid": "4f224826f20ff1307baacb7865d1c756a23efc0a", "author": {"user": {"login": "glefloch", "name": "Guillaume Le Floch"}}, "url": "https://github.com/quarkusio/quarkus/commit/4f224826f20ff1307baacb7865d1c756a23efc0a", "committedDate": "2021-02-16T12:47:46Z", "message": "handle gradle included builds"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTkxMzM1NTEy", "url": "https://github.com/quarkusio/quarkus/pull/12046#pullrequestreview-591335512", "createdAt": "2021-02-16T15:24:47Z", "commit": {"oid": "4f224826f20ff1307baacb7865d1c756a23efc0a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 456, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}