{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU0OTc4MTk1", "number": 10896, "title": "Register PropertyCodecProvider automatically", "bodyText": "Fixes #10528", "createdAt": "2020-07-22T08:56:54Z", "url": "https://github.com/quarkusio/quarkus/pull/10896", "merged": true, "mergeCommit": {"oid": "88d90ab898a79ca876fa1a5fd4307f94201e1077"}, "closed": true, "closedAt": "2020-10-08T12:15:54Z", "author": {"login": "loicmathieu"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc6TjdYgBqjM2MDgzMzU4MjE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdQctWbABqjM4NTQwMDc3NTY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "533f2775404db3d8ae045ca8c61ec2d4a1414131", "author": {"user": {"login": "loicmathieu", "name": "Lo\u00efc Mathieu"}}, "url": "https://github.com/quarkusio/quarkus/commit/533f2775404db3d8ae045ca8c61ec2d4a1414131", "committedDate": "2020-07-15T14:28:36Z", "message": "Register PropertyCodecProvider automatically\n\nFixes #10528"}, "afterCommit": {"oid": "a3d23cb6513d26b0a678b67a2444de6629663804", "author": {"user": {"login": "loicmathieu", "name": "Lo\u00efc Mathieu"}}, "url": "https://github.com/quarkusio/quarkus/commit/a3d23cb6513d26b0a678b67a2444de6629663804", "committedDate": "2020-07-31T12:07:35Z", "message": "Register PropertyCodecProvider automatically\n\nFixes #10528"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a3d23cb6513d26b0a678b67a2444de6629663804", "author": {"user": {"login": "loicmathieu", "name": "Lo\u00efc Mathieu"}}, "url": "https://github.com/quarkusio/quarkus/commit/a3d23cb6513d26b0a678b67a2444de6629663804", "committedDate": "2020-07-31T12:07:35Z", "message": "Register PropertyCodecProvider automatically\n\nFixes #10528"}, "afterCommit": {"oid": "25e2428653dfe3c572a6747d4172ca560e9d48a6", "author": {"user": {"login": "loicmathieu", "name": "Lo\u00efc Mathieu"}}, "url": "https://github.com/quarkusio/quarkus/commit/25e2428653dfe3c572a6747d4172ca560e9d48a6", "committedDate": "2020-08-12T12:44:12Z", "message": "Register PropertyCodecProvider automatically\n\nFixes #10528"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDczMTk1NDA2", "url": "https://github.com/quarkusio/quarkus/pull/10896#pullrequestreview-473195406", "createdAt": "2020-08-24T07:49:20Z", "commit": {"oid": "25e2428653dfe3c572a6747d4172ca560e9d48a6"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "25e2428653dfe3c572a6747d4172ca560e9d48a6", "author": {"user": {"login": "loicmathieu", "name": "Lo\u00efc Mathieu"}}, "url": "https://github.com/quarkusio/quarkus/commit/25e2428653dfe3c572a6747d4172ca560e9d48a6", "committedDate": "2020-08-12T12:44:12Z", "message": "Register PropertyCodecProvider automatically\n\nFixes #10528"}, "afterCommit": {"oid": "f204fce2c2f42979e70f9540403ff7e49fd9a5dc", "author": {"user": {"login": "loicmathieu", "name": "Lo\u00efc Mathieu"}}, "url": "https://github.com/quarkusio/quarkus/commit/f204fce2c2f42979e70f9540403ff7e49fd9a5dc", "committedDate": "2020-09-14T09:21:57Z", "message": "Register PropertyCodecProvider automatically\n\nFixes #10528"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg3Njc5OTUy", "url": "https://github.com/quarkusio/quarkus/pull/10896#pullrequestreview-487679952", "createdAt": "2020-09-14T11:58:13Z", "commit": {"oid": "f204fce2c2f42979e70f9540403ff7e49fd9a5dc"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQxMTo1ODoxM1rOHRQVoA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQxMTo1ODoxM1rOHRQVoA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Nzg1NTUyMA==", "bodyText": "Does this class get used anywhere?", "url": "https://github.com/quarkusio/quarkus/pull/10896#discussion_r487855520", "createdAt": "2020-09-14T11:58:13Z", "author": {"login": "geoand"}, "path": "integration-tests/mongodb-client/src/main/java/io/quarkus/it/mongodb/pojo/OptionalPropertyCodecProvider.java", "diffHunk": "@@ -0,0 +1,61 @@\n+package io.quarkus.it.mongodb.pojo;\n+\n+import java.util.Optional;\n+\n+import org.bson.BsonReader;\n+import org.bson.BsonWriter;\n+import org.bson.codecs.Codec;\n+import org.bson.codecs.DecoderContext;\n+import org.bson.codecs.EncoderContext;\n+import org.bson.codecs.pojo.PropertyCodecProvider;\n+import org.bson.codecs.pojo.PropertyCodecRegistry;\n+import org.bson.codecs.pojo.TypeWithTypeParameters;\n+\n+/**\n+ * This PropertyCodecProvider register a codec provider for the Optional type.\n+ * This allows the POJO Codec to handle it as it's a generic type.\n+ * See: http://mongodb.github.io/mongo-java-driver/3.12/bson/pojos/#generics-support\n+ */\n+public class OptionalPropertyCodecProvider implements PropertyCodecProvider {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f204fce2c2f42979e70f9540403ff7e49fd9a5dc"}, "originalPosition": 19}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg3NjkzMTA3", "url": "https://github.com/quarkusio/quarkus/pull/10896#pullrequestreview-487693107", "createdAt": "2020-09-14T12:17:13Z", "commit": {"oid": "f204fce2c2f42979e70f9540403ff7e49fd9a5dc"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQxMjoxNzoxNFrOHRQ-Bg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQxMjoxNzoxNFrOHRQ-Bg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Nzg2NTg2Mg==", "bodyText": "Why can't we do it automatically in the extension? I'm not sure I understand what the problem is?", "url": "https://github.com/quarkusio/quarkus/pull/10896#discussion_r487865862", "createdAt": "2020-09-14T12:17:14Z", "author": {"login": "gsmet"}, "path": "docs/src/main/asciidoc/mongodb.adoc", "diffHunk": "@@ -573,6 +573,11 @@ a discriminator field inside the document. It can be useful when working with ab\n \n Quarkus will automatically register all the classes annotated with `@BsonDiscriminator` with the POJO codec.\n \n+The POJO Codec have enhanced generic support via `PropertyCodecProvider`,\n+Quarkus will automatically register any `PropertyCodecProvider` with the POJO Codec.\n+If you deploy your application as a native executable, be aware that reflection may not work properly with generic types, so you may need to register it manually for reflection,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f204fce2c2f42979e70f9540403ff7e49fd9a5dc"}, "originalPosition": 6}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f204fce2c2f42979e70f9540403ff7e49fd9a5dc", "author": {"user": {"login": "loicmathieu", "name": "Lo\u00efc Mathieu"}}, "url": "https://github.com/quarkusio/quarkus/commit/f204fce2c2f42979e70f9540403ff7e49fd9a5dc", "committedDate": "2020-09-14T09:21:57Z", "message": "Register PropertyCodecProvider automatically\n\nFixes #10528"}, "afterCommit": {"oid": "74524307dc561218481d159fc5e27531ebcc34c4", "author": {"user": {"login": "loicmathieu", "name": "Lo\u00efc Mathieu"}}, "url": "https://github.com/quarkusio/quarkus/commit/74524307dc561218481d159fc5e27531ebcc34c4", "committedDate": "2020-10-08T07:43:04Z", "message": "Register PropertyCodecProvider automatically\n\nFixes #10528"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA0NTA4NDk5", "url": "https://github.com/quarkusio/quarkus/pull/10896#pullrequestreview-504508499", "createdAt": "2020-10-08T07:44:39Z", "commit": {"oid": "74524307dc561218481d159fc5e27531ebcc34c4"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "60ca95f6f24c58dd5fd3d4c779fed2c213761a78", "author": {"user": {"login": "loicmathieu", "name": "Lo\u00efc Mathieu"}}, "url": "https://github.com/quarkusio/quarkus/commit/60ca95f6f24c58dd5fd3d4c779fed2c213761a78", "committedDate": "2020-10-08T07:46:40Z", "message": "Register PropertyCodecProvider automaticallly"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "74524307dc561218481d159fc5e27531ebcc34c4", "author": {"user": {"login": "loicmathieu", "name": "Lo\u00efc Mathieu"}}, "url": "https://github.com/quarkusio/quarkus/commit/74524307dc561218481d159fc5e27531ebcc34c4", "committedDate": "2020-10-08T07:43:04Z", "message": "Register PropertyCodecProvider automatically\n\nFixes #10528"}, "afterCommit": {"oid": "60ca95f6f24c58dd5fd3d4c779fed2c213761a78", "author": {"user": {"login": "loicmathieu", "name": "Lo\u00efc Mathieu"}}, "url": "https://github.com/quarkusio/quarkus/commit/60ca95f6f24c58dd5fd3d4c779fed2c213761a78", "committedDate": "2020-10-08T07:46:40Z", "message": "Register PropertyCodecProvider automaticallly"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1092, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}