{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDYzNDE5MDcy", "number": 11232, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNVQxNTowNjo0OVrOEVdHMQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNVQyMDo0NDoxNFrOEVkggg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkwOTMyNTI5OnYy", "diffSide": "LEFT", "path": "devtools/gradle/src/main/java/io/quarkus/gradle/builder/QuarkusModelBuilder.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNVQxNTowNjo0OVrOG8N-Gw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNVQxNTowNjo0OVrOG8N-Gw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTc5NjYzNQ==", "bodyText": "This static field is in fact a critical issue because an instance of this class will be shared between builds (and probably also projects).", "url": "https://github.com/quarkusio/quarkus/pull/11232#discussion_r465796635", "createdAt": "2020-08-05T15:06:49Z", "author": {"login": "aloubyansky"}, "path": "devtools/gradle/src/main/java/io/quarkus/gradle/builder/QuarkusModelBuilder.java", "diffHunk": "@@ -48,17 +46,27 @@\n import io.quarkus.gradle.tasks.QuarkusGradleUtils;\n import io.quarkus.runtime.LaunchMode;\n \n-public class QuarkusModelBuilder implements ParameterizedToolingModelBuilder {\n+public class QuarkusModelBuilder implements ParameterizedToolingModelBuilder<ModelParameter> {\n \n-    private static final List<String> scannedConfigurations = new LinkedList();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8fa0e79f7addf0cabd26be556ccac7f5b0eeb8ca"}, "originalPosition": 16}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkwOTU1MjY1OnYy", "diffSide": "RIGHT", "path": "devtools/gradle/src/main/java/io/quarkus/gradle/builder/QuarkusModelBuilder.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNVQxNTo1OTo0MVrOG8QN5w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNVQxNjowOTo0NlrOG8QnEQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTgzMzQ0Nw==", "bodyText": "It's not exactly doing the same thing so asking: is the order the same as before when we added things to the list below?\nThe order is different but considering the operations are different, maybe it's the same (or is of no importance).\nJust wanted to be sure.", "url": "https://github.com/quarkusio/quarkus/pull/11232#discussion_r465833447", "createdAt": "2020-08-05T15:59:41Z", "author": {"login": "gsmet"}, "path": "devtools/gradle/src/main/java/io/quarkus/gradle/builder/QuarkusModelBuilder.java", "diffHunk": "@@ -48,17 +46,27 @@\n import io.quarkus.gradle.tasks.QuarkusGradleUtils;\n import io.quarkus.runtime.LaunchMode;\n \n-public class QuarkusModelBuilder implements ParameterizedToolingModelBuilder {\n+public class QuarkusModelBuilder implements ParameterizedToolingModelBuilder<ModelParameter> {\n \n-    private static final List<String> scannedConfigurations = new LinkedList();\n+    private static Configuration classpathConfig(Project project, LaunchMode mode) {\n+        if (LaunchMode.TEST.equals(mode)) {\n+            return project.getConfigurations().getByName(JavaPlugin.TEST_RUNTIME_CLASSPATH_CONFIGURATION_NAME);\n+        }\n+        if (LaunchMode.DEVELOPMENT.equals(mode)) {\n+            return project.getConfigurations().create(\"quarkusDevMode\").extendsFrom(\n+                    project.getConfigurations().getByName(JavaPlugin.COMPILE_CLASSPATH_CONFIGURATION_NAME),\n+                    project.getConfigurations().getByName(JavaPlugin.RUNTIME_CLASSPATH_CONFIGURATION_NAME));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ead334854b4d16845b6550d4cf1476885b669699"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTgzOTg4OQ==", "bodyText": "The order doesn't matter. We are after a combined set of those.", "url": "https://github.com/quarkusio/quarkus/pull/11232#discussion_r465839889", "createdAt": "2020-08-05T16:09:46Z", "author": {"login": "aloubyansky"}, "path": "devtools/gradle/src/main/java/io/quarkus/gradle/builder/QuarkusModelBuilder.java", "diffHunk": "@@ -48,17 +46,27 @@\n import io.quarkus.gradle.tasks.QuarkusGradleUtils;\n import io.quarkus.runtime.LaunchMode;\n \n-public class QuarkusModelBuilder implements ParameterizedToolingModelBuilder {\n+public class QuarkusModelBuilder implements ParameterizedToolingModelBuilder<ModelParameter> {\n \n-    private static final List<String> scannedConfigurations = new LinkedList();\n+    private static Configuration classpathConfig(Project project, LaunchMode mode) {\n+        if (LaunchMode.TEST.equals(mode)) {\n+            return project.getConfigurations().getByName(JavaPlugin.TEST_RUNTIME_CLASSPATH_CONFIGURATION_NAME);\n+        }\n+        if (LaunchMode.DEVELOPMENT.equals(mode)) {\n+            return project.getConfigurations().create(\"quarkusDevMode\").extendsFrom(\n+                    project.getConfigurations().getByName(JavaPlugin.COMPILE_CLASSPATH_CONFIGURATION_NAME),\n+                    project.getConfigurations().getByName(JavaPlugin.RUNTIME_CLASSPATH_CONFIGURATION_NAME));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTgzMzQ0Nw=="}, "originalCommit": {"oid": "ead334854b4d16845b6550d4cf1476885b669699"}, "originalPosition": 24}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkxMDUzNjk4OnYy", "diffSide": "RIGHT", "path": "integration-tests/gradle/build.gradle", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNVQyMDo0NDoxNFrOG8Z7kA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNVQyMDo0OTo1NFrOG8aGyA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTk5MjU5Mg==", "bodyText": "Is this dependency needed here?", "url": "https://github.com/quarkusio/quarkus/pull/11232#discussion_r465992592", "createdAt": "2020-08-05T20:44:14Z", "author": {"login": "glefloch"}, "path": "integration-tests/gradle/build.gradle", "diffHunk": "@@ -34,6 +34,7 @@ dependencies {\n     testImplementation 'org.assertj:assertj-core:3.16.1'\n     testImplementation 'org.junit.jupiter:junit-jupiter:5.6.2'\n     testImplementation 'org.awaitility:awaitility:4.0.3'\n+    testImplementation \"org.projectlombok:lombok:${lombokVersion}\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6724068f455afff5b550d5280d2ca3fa60fd3b38"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTk5NTQ2NA==", "bodyText": "The only reason I added it here was to pre-download it. But it's not needed. I'll probably remove it. Figuring out why the CI fails. Perhaps another maven local repo path related issue.", "url": "https://github.com/quarkusio/quarkus/pull/11232#discussion_r465995464", "createdAt": "2020-08-05T20:49:54Z", "author": {"login": "aloubyansky"}, "path": "integration-tests/gradle/build.gradle", "diffHunk": "@@ -34,6 +34,7 @@ dependencies {\n     testImplementation 'org.assertj:assertj-core:3.16.1'\n     testImplementation 'org.junit.jupiter:junit-jupiter:5.6.2'\n     testImplementation 'org.awaitility:awaitility:4.0.3'\n+    testImplementation \"org.projectlombok:lombok:${lombokVersion}\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTk5MjU5Mg=="}, "originalCommit": {"oid": "6724068f455afff5b550d5280d2ca3fa60fd3b38"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 682, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}