{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDEzMjg0ODEy", "number": 9071, "title": "Don't throw an error if container is stopped", "bodyText": "This can happen on shutdown, and can prevent\nrective messaging shutting down correctly,\ncausing tests to fail.", "createdAt": "2020-05-05T03:17:37Z", "url": "https://github.com/quarkusio/quarkus/pull/9071", "merged": true, "mergeCommit": {"oid": "446be08cd3e07aea733252a55a0d2f5e685dde7f"}, "closed": true, "closedAt": "2020-05-07T06:30:51Z", "author": {"login": "stuartwdouglas"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABceLX8RgFqTQwNTQ3MTg2OA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABce0MRugBqjMzMTEwMDc4ODI=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA1NDcxODY4", "url": "https://github.com/quarkusio/quarkus/pull/9071#pullrequestreview-405471868", "createdAt": "2020-05-05T03:18:55Z", "commit": {"oid": "026ccf4ffcb4822e93758d370be74d724dd0be3b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNVQwMzoxODo1NVrOGQZLfQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNVQwMzoxODo1NVrOGQZLfQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTg0Mjk0MQ==", "bodyText": "Most changes are from removing lambdas, the real change is removing the exception and just making it a noop.", "url": "https://github.com/quarkusio/quarkus/pull/9071#discussion_r419842941", "createdAt": "2020-05-05T03:18:55Z", "author": {"login": "stuartwdouglas"}, "path": "extensions/arc/runtime/src/main/java/io/quarkus/arc/runtime/context/ArcContextProvider.java", "diffHunk": "@@ -28,46 +28,62 @@ public ThreadContextSnapshot currentContext(Map<String, String> map) {\n \n         // capture the state, null indicates no active context while capturing snapshot\n         InjectableContext.ContextState state = isContextActiveOnThisThread(arc) ? arc.requestContext().getState() : null;\n-        return () -> {\n-            // can be called later on, we should retrieve the container again\n-            ArcContainer arcContainer = Arc.container();\n-            if (arcContainer == null || !arcContainer.isRunning()) {\n-                throw new IllegalStateException(\"Arc context propagation was attempted but the container is not running.\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "026ccf4ffcb4822e93758d370be74d724dd0be3b"}, "originalPosition": 8}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA1NjA1NDE1", "url": "https://github.com/quarkusio/quarkus/pull/9071#pullrequestreview-405605415", "createdAt": "2020-05-05T08:57:20Z", "commit": {"oid": "026ccf4ffcb4822e93758d370be74d724dd0be3b"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "026ccf4ffcb4822e93758d370be74d724dd0be3b", "author": {"user": {"login": "stuartwdouglas", "name": "Stuart Douglas"}}, "url": "https://github.com/quarkusio/quarkus/commit/026ccf4ffcb4822e93758d370be74d724dd0be3b", "committedDate": "2020-05-05T03:14:07Z", "message": "Don't throw an error if container is stopped\n\nThis can happen on shutdown, and can prevent\nrective messaging shutting down correctly,\ncausing tests to fail."}, "afterCommit": {"oid": "1ec126f30cbd37e14a9c60c26d4176d8cc37e0ee", "author": {"user": {"login": "stuartwdouglas", "name": "Stuart Douglas"}}, "url": "https://github.com/quarkusio/quarkus/commit/1ec126f30cbd37e14a9c60c26d4176d8cc37e0ee", "committedDate": "2020-05-06T04:28:42Z", "message": "Don't throw an error if container is stopped\n\nThis can happen on shutdown, and can prevent\nrective messaging shutting down correctly,\ncausing tests to fail."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA2NDIxNzg1", "url": "https://github.com/quarkusio/quarkus/pull/9071#pullrequestreview-406421785", "createdAt": "2020-05-06T08:57:49Z", "commit": {"oid": "1ec126f30cbd37e14a9c60c26d4176d8cc37e0ee"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4d7ebf59432c9f22c1f6f35f9957c6bda8bb6132", "author": {"user": {"login": "stuartwdouglas", "name": "Stuart Douglas"}}, "url": "https://github.com/quarkusio/quarkus/commit/4d7ebf59432c9f22c1f6f35f9957c6bda8bb6132", "committedDate": "2020-05-07T02:51:53Z", "message": "Don't throw an error if container is stopped\n\nThis can happen on shutdown, and can prevent\nrective messaging shutting down correctly,\ncausing tests to fail."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1ec126f30cbd37e14a9c60c26d4176d8cc37e0ee", "author": {"user": {"login": "stuartwdouglas", "name": "Stuart Douglas"}}, "url": "https://github.com/quarkusio/quarkus/commit/1ec126f30cbd37e14a9c60c26d4176d8cc37e0ee", "committedDate": "2020-05-06T04:28:42Z", "message": "Don't throw an error if container is stopped\n\nThis can happen on shutdown, and can prevent\nrective messaging shutting down correctly,\ncausing tests to fail."}, "afterCommit": {"oid": "4d7ebf59432c9f22c1f6f35f9957c6bda8bb6132", "author": {"user": {"login": "stuartwdouglas", "name": "Stuart Douglas"}}, "url": "https://github.com/quarkusio/quarkus/commit/4d7ebf59432c9f22c1f6f35f9957c6bda8bb6132", "committedDate": "2020-05-07T02:51:53Z", "message": "Don't throw an error if container is stopped\n\nThis can happen on shutdown, and can prevent\nrective messaging shutting down correctly,\ncausing tests to fail."}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3495, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}