{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTIxNTY0MTg3", "number": 13308, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQxMjozMzo1MVrOE5dmig==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQxMzowNjozMFrOE6jrMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI4Njg5MjkwOnYy", "diffSide": "RIGHT", "path": "extensions/grpc/runtime/src/main/java/io/quarkus/grpc/runtime/supports/Channels.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQxMjozMzo1MVrOHz8G9A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQxMjozNzozNVrOHz8W_g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDIyNDI0NA==", "bodyText": "Wondering if you can't use UncheckedIOException here?", "url": "https://github.com/quarkusio/quarkus/pull/13308#discussion_r524224244", "createdAt": "2020-11-16T12:33:51Z", "author": {"login": "cescoffier"}, "path": "extensions/grpc/runtime/src/main/java/io/quarkus/grpc/runtime/supports/Channels.java", "diffHunk": "@@ -54,11 +57,20 @@ public static Channel createChannel(String name) throws SSLException {\n             Path keyPath = config.ssl.key.orElse(null);\n             SslContextBuilder sslContextBuilder = GrpcSslContexts.forClient();\n             if (trustStorePath != null) {\n-                sslContextBuilder.trustManager(trustStorePath.toFile());\n+                try (InputStream stream = streamFor(trustStorePath, \"trust store\")) {\n+                    sslContextBuilder.trustManager(stream);\n+                } catch (IOException e) {\n+                    throw new IllegalStateException(\"Configuring gRPC client trust store failed\", e);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a83f208628854e061b90a199ceae19db7d72a0ea"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDIyODM1MA==", "bodyText": "\ud83d\udc4d it says more than IllegalStateException", "url": "https://github.com/quarkusio/quarkus/pull/13308#discussion_r524228350", "createdAt": "2020-11-16T12:37:35Z", "author": {"login": "michalszynkiewicz"}, "path": "extensions/grpc/runtime/src/main/java/io/quarkus/grpc/runtime/supports/Channels.java", "diffHunk": "@@ -54,11 +57,20 @@ public static Channel createChannel(String name) throws SSLException {\n             Path keyPath = config.ssl.key.orElse(null);\n             SslContextBuilder sslContextBuilder = GrpcSslContexts.forClient();\n             if (trustStorePath != null) {\n-                sslContextBuilder.trustManager(trustStorePath.toFile());\n+                try (InputStream stream = streamFor(trustStorePath, \"trust store\")) {\n+                    sslContextBuilder.trustManager(stream);\n+                } catch (IOException e) {\n+                    throw new IllegalStateException(\"Configuring gRPC client trust store failed\", e);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDIyNDI0NA=="}, "originalCommit": {"oid": "a83f208628854e061b90a199ceae19db7d72a0ea"}, "originalPosition": 18}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI5ODM3MzYzOnYy", "diffSide": "RIGHT", "path": "extensions/grpc/deployment/src/main/java/io/quarkus/grpc/deployment/ResourceRegistrationUtils.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQxMzowNjozMFrOH1s0lg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQxMTo0ODowMFrOH49OEQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjA3MDkzNA==", "bodyText": "Wondering if this should be part of quarkus \"core\".\n@stuartwdouglas @gsmet WDYT? This is not gRPC specific.", "url": "https://github.com/quarkusio/quarkus/pull/13308#discussion_r526070934", "createdAt": "2020-11-18T13:06:30Z", "author": {"login": "cescoffier"}, "path": "extensions/grpc/deployment/src/main/java/io/quarkus/grpc/deployment/ResourceRegistrationUtils.java", "diffHunk": "@@ -0,0 +1,38 @@\n+package io.quarkus.grpc.deployment;\n+\n+import java.util.regex.Pattern;\n+\n+import org.eclipse.microprofile.config.Config;\n+\n+import io.quarkus.deployment.annotations.BuildProducer;\n+import io.quarkus.deployment.builditem.nativeimage.NativeImageResourceBuildItem;\n+\n+class ResourceRegistrationUtils {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "09c09a6feb5518e74ef7de6f99c30d0f0632143f"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTQ4NTMyOQ==", "bodyText": "I'm not sure tbh.\nregisterResourcesForProperties looks quite weird and I wouldn't want to make it a common pattern.\nregisterResourceForProperty I'm a bit unsure of what it does exactly. I fail to see why we would do this check here and not at an higher level (and probably throw an error because the file is not available?).", "url": "https://github.com/quarkusio/quarkus/pull/13308#discussion_r529485329", "createdAt": "2020-11-24T11:48:00Z", "author": {"login": "gsmet"}, "path": "extensions/grpc/deployment/src/main/java/io/quarkus/grpc/deployment/ResourceRegistrationUtils.java", "diffHunk": "@@ -0,0 +1,38 @@\n+package io.quarkus.grpc.deployment;\n+\n+import java.util.regex.Pattern;\n+\n+import org.eclipse.microprofile.config.Config;\n+\n+import io.quarkus.deployment.annotations.BuildProducer;\n+import io.quarkus.deployment.builditem.nativeimage.NativeImageResourceBuildItem;\n+\n+class ResourceRegistrationUtils {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjA3MDkzNA=="}, "originalCommit": {"oid": "09c09a6feb5518e74ef7de6f99c30d0f0632143f"}, "originalPosition": 10}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3921, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}