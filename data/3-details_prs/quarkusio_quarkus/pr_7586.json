{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgzOTcyODQz", "number": 7586, "title": "Upgrade to RESTEasy 4.5 to support async IO", "bodyText": "Remove second vertx instance\nMicroprofile REST client 1.4\n\nFixes #5593", "createdAt": "2020-03-04T23:33:31Z", "url": "https://github.com/quarkusio/quarkus/pull/7586", "merged": true, "mergeCommit": {"oid": "7f470abd0b03290f4480dbe35a5be6de527ab12c"}, "closed": true, "closedAt": "2020-03-05T09:27:22Z", "author": {"login": "stuartwdouglas"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcKgN0jgFqTM2OTIxNzczOA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcKkIR2gBqjMwOTk2NTM4NzU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY5MjE3NzM4", "url": "https://github.com/quarkusio/quarkus/pull/7586#pullrequestreview-369217738", "createdAt": "2020-03-05T00:17:22Z", "commit": {"oid": "b68ec9ea69bda712f0c5e44ae996bea86b7799c5"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQwMDoxNzoyM1rOFyCUuQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQwMDoxNzoyM1rOFyCUuQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODAxMTE5Mw==", "bodyText": "Can't asyncFlush happen before asyncWrite in this snippet? Wondering if it's better to read:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    CompletionStage<Void> a = entityStream.asyncWrite(jsonArray.toBuffer().getBytes());\n          \n          \n            \n                    CompletionStage<Void> b = entityStream.asyncFlush();\n          \n          \n            \n                    return a.thenCompose(v -> b);\n          \n          \n            \n                    return entityStream.asyncWrite(jsonArray.toBuffer().getBytes())\n          \n          \n            \n                                   .thenCompose(v -> entityStream.asyncFlush());", "url": "https://github.com/quarkusio/quarkus/pull/7586#discussion_r388011193", "createdAt": "2020-03-05T00:17:23Z", "author": {"login": "gastaldi"}, "path": "extensions/resteasy/runtime/src/main/java/io/quarkus/resteasy/runtime/vertx/JsonArrayWriter.java", "diffHunk": "@@ -35,4 +38,14 @@ public void writeTo(JsonArray jsonArray, Class<?> type, Type genericType, Annota\n         entityStream.flush();\n         entityStream.close();\n     }\n+\n+    @Override\n+    public CompletionStage<Void> asyncWriteTo(JsonArray jsonArray, Class<?> type, Type genericType, Annotation[] annotations,\n+            MediaType mediaType,\n+            MultivaluedMap<String, Object> httpHeaders,\n+            AsyncOutputStream entityStream) {\n+        CompletionStage<Void> a = entityStream.asyncWrite(jsonArray.toBuffer().getBytes());\n+        CompletionStage<Void> b = entityStream.asyncFlush();\n+        return a.thenCompose(v -> b);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b68ec9ea69bda712f0c5e44ae996bea86b7799c5"}, "originalPosition": 44}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY5MjIwMDAz", "url": "https://github.com/quarkusio/quarkus/pull/7586#pullrequestreview-369220003", "createdAt": "2020-03-05T00:23:51Z", "commit": {"oid": "b68ec9ea69bda712f0c5e44ae996bea86b7799c5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "160a2398ae6e64f8cb5f19f7aeaeb96237fea239", "author": {"user": {"login": "FroMage", "name": "St\u00e9phane \u00c9pardaud"}}, "url": "https://github.com/quarkusio/quarkus/commit/160a2398ae6e64f8cb5f19f7aeaeb96237fea239", "committedDate": "2020-03-05T04:43:22Z", "message": "Upgrade to RESTEasy 4.5 to support async IO\n\n- Remove second vertx instance\n- Microprofile REST client 1.4\n\nFixes #5593"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b68ec9ea69bda712f0c5e44ae996bea86b7799c5", "author": {"user": {"login": "FroMage", "name": "St\u00e9phane \u00c9pardaud"}}, "url": "https://github.com/quarkusio/quarkus/commit/b68ec9ea69bda712f0c5e44ae996bea86b7799c5", "committedDate": "2020-03-04T23:31:46Z", "message": "Upgrade to RESTEasy 4.5 to support async IO\n\n- Remove second vertx instance\n- Microprofile REST client 1.4\n\nFixes #5593"}, "afterCommit": {"oid": "160a2398ae6e64f8cb5f19f7aeaeb96237fea239", "author": {"user": {"login": "FroMage", "name": "St\u00e9phane \u00c9pardaud"}}, "url": "https://github.com/quarkusio/quarkus/commit/160a2398ae6e64f8cb5f19f7aeaeb96237fea239", "committedDate": "2020-03-05T04:43:22Z", "message": "Upgrade to RESTEasy 4.5 to support async IO\n\n- Remove second vertx instance\n- Microprofile REST client 1.4\n\nFixes #5593"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3920, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}