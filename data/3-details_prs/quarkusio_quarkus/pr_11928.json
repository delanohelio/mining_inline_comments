{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDgxMDExNzc3", "number": 11928, "title": "Allow transformed classes to be dumped", "bodyText": "Fixes #11857", "createdAt": "2020-09-07T03:30:49Z", "url": "https://github.com/quarkusio/quarkus/pull/11928", "merged": true, "mergeCommit": {"oid": "fd275a08563b619b096fbe869dda7928a57c5ac7"}, "closed": true, "closedAt": "2020-09-07T07:43:03Z", "author": {"login": "stuartwdouglas"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdGadPVgH2gAyNDgxMDExNzc3OjdlMDVjMWFjYzQ3NTJlZGU0YzdlYzE4ZWM2ZDRlYzMyNTEwNmQzMDA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdGeEfJAFqTQ4MzMyMzIxNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "7e05c1acc4752ede4c7ec18ec6d4ec325106d300", "author": {"user": {"login": "stuartwdouglas", "name": "Stuart Douglas"}}, "url": "https://github.com/quarkusio/quarkus/commit/7e05c1acc4752ede4c7ec18ec6d4ec325106d300", "committedDate": "2020-09-07T03:30:15Z", "message": "Allow transformed classes to be dumped\n\nFixes #11857"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgzMzAwMzYx", "url": "https://github.com/quarkusio/quarkus/pull/11928#pullrequestreview-483300361", "createdAt": "2020-09-07T07:22:48Z", "commit": {"oid": "7e05c1acc4752ede4c7ec18ec6d4ec325106d300"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wN1QwNzoyMjo0OVrOHNzE9Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wN1QwNzoyMjo0OVrOHNzE9Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDIzMDM4OQ==", "bodyText": "I always forget - does this scheme of using / character as a file path seperator in the File constructor work fine on Windows, for file operations on that File instance?", "url": "https://github.com/quarkusio/quarkus/pull/11928#discussion_r484230389", "createdAt": "2020-09-07T07:22:49Z", "author": {"login": "jaikiran"}, "path": "core/deployment/src/main/java/io/quarkus/deployment/steps/ClassTransformingBuildStep.java", "diffHunk": "@@ -104,7 +107,22 @@ TransformedClassesBuildItem handleClassTransformation(List<BytecodeTransformerBu\n                                     visitor = i.apply(className, visitor);\n                                 }\n                                 cr.accept(visitor, 0);\n-                                return new TransformedClassesBuildItem.TransformedClass(className, writer.toByteArray(),\n+                                byte[] data = writer.toByteArray();\n+                                if (BootstrapDebug.DEBUG_TRANSFORMED_CLASSES_DIR != null) {\n+                                    File debugPath = new File(BootstrapDebug.DEBUG_TRANSFORMED_CLASSES_DIR);\n+                                    if (!debugPath.exists()) {\n+                                        debugPath.mkdir();\n+                                    }\n+                                    File classFile = new File(debugPath, className.replace(\".\", \"/\") + \".class\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7e05c1acc4752ede4c7ec18ec6d4ec325106d300"}, "originalPosition": 27}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgzMzIzMjE1", "url": "https://github.com/quarkusio/quarkus/pull/11928#pullrequestreview-483323215", "createdAt": "2020-09-07T07:42:50Z", "commit": {"oid": "7e05c1acc4752ede4c7ec18ec6d4ec325106d300"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 560, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}