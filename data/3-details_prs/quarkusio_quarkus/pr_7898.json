{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg5NTg0NTU2", "number": 7898, "title": "Support for access log in Vert.x HTTP", "bodyText": "Fixes #5556", "createdAt": "2020-03-17T02:22:23Z", "url": "https://github.com/quarkusio/quarkus/pull/7898", "merged": true, "mergeCommit": {"oid": "328e5d0841ae4f44277e52357323d3d239946705"}, "closed": true, "closedAt": "2020-04-14T19:22:41Z", "author": {"login": "stuartwdouglas"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcOa1ILgBqjMxMzU3NzM2ODg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcU1eRWABqjMyMDM0MTc2Mzg=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "301eac6d97caf74080c643efbd5ba80d5246e47e", "author": {"user": {"login": "stuartwdouglas", "name": "Stuart Douglas"}}, "url": "https://github.com/quarkusio/quarkus/commit/301eac6d97caf74080c643efbd5ba80d5246e47e", "committedDate": "2020-03-17T02:22:04Z", "message": "Support for access log in Vert.x HTTP\n\nFixes #5556"}, "afterCommit": {"oid": "e8bcafc03f8b7c8919878a98ee2af12cc80964d9", "author": {"user": {"login": "stuartwdouglas", "name": "Stuart Douglas"}}, "url": "https://github.com/quarkusio/quarkus/commit/e8bcafc03f8b7c8919878a98ee2af12cc80964d9", "committedDate": "2020-03-17T04:16:05Z", "message": "Support for access log in Vert.x HTTP\n\nFixes #5556"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e8bcafc03f8b7c8919878a98ee2af12cc80964d9", "author": {"user": {"login": "stuartwdouglas", "name": "Stuart Douglas"}}, "url": "https://github.com/quarkusio/quarkus/commit/e8bcafc03f8b7c8919878a98ee2af12cc80964d9", "committedDate": "2020-03-17T04:16:05Z", "message": "Support for access log in Vert.x HTTP\n\nFixes #5556"}, "afterCommit": {"oid": "d46578e04ca93e46ae99ce2c1316edec7d6a5756", "author": {"user": {"login": "stuartwdouglas", "name": "Stuart Douglas"}}, "url": "https://github.com/quarkusio/quarkus/commit/d46578e04ca93e46ae99ce2c1316edec7d6a5756", "committedDate": "2020-03-17T05:45:06Z", "message": "Support for access log in Vert.x HTTP\n\nFixes #5556"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc1ODA3NjE0", "url": "https://github.com/quarkusio/quarkus/pull/7898#pullrequestreview-375807614", "createdAt": "2020-03-17T08:01:32Z", "commit": {"oid": "d46578e04ca93e46ae99ce2c1316edec7d6a5756"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xN1QwODowMTozMlrOF3RSJw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xN1QwODowMTozMlrOF3RSJw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzQ5OTE3NQ==", "bodyText": "Can we use DateTimeFormatter.ofPattern instead?", "url": "https://github.com/quarkusio/quarkus/pull/7898#discussion_r393499175", "createdAt": "2020-03-17T08:01:32Z", "author": {"login": "gastaldi"}, "path": "extensions/vertx-http/runtime/src/main/java/io/quarkus/vertx/http/runtime/attribute/DateTimeAttribute.java", "diffHunk": "@@ -0,0 +1,115 @@\n+/*\n+ * JBoss, Home of Professional Open Source.\n+ * Copyright 2014 Red Hat, Inc., and individual contributors\n+ * as indicated by the @author tags.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing, software\n+ *  distributed under the License is distributed on an \"AS IS\" BASIS,\n+ *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ *  See the License for the specific language governing permissions and\n+ *  limitations under the License.\n+ */\n+\n+package io.quarkus.vertx.http.runtime.attribute;\n+\n+import java.text.SimpleDateFormat;\n+import java.util.Date;\n+import java.util.Locale;\n+import java.util.TimeZone;\n+\n+import io.vertx.ext.web.RoutingContext;\n+\n+/**\n+ * The current time\n+ *\n+ * @author Stuart Douglas\n+ */\n+public class DateTimeAttribute implements ExchangeAttribute {\n+\n+    private static final String COMMON_LOG_PATTERN = \"[dd/MMM/yyyy:HH:mm:ss Z]\";\n+\n+    private static final ThreadLocal<SimpleDateFormat> COMMON_LOG_PATTERN_FORMAT = new ThreadLocal<SimpleDateFormat>() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d46578e04ca93e46ae99ce2c1316edec7d6a5756"}, "originalPosition": 37}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d46578e04ca93e46ae99ce2c1316edec7d6a5756", "author": {"user": {"login": "stuartwdouglas", "name": "Stuart Douglas"}}, "url": "https://github.com/quarkusio/quarkus/commit/d46578e04ca93e46ae99ce2c1316edec7d6a5756", "committedDate": "2020-03-17T05:45:06Z", "message": "Support for access log in Vert.x HTTP\n\nFixes #5556"}, "afterCommit": {"oid": "a7d72294bd4b814f2cf99269bb709a28a813a5aa", "author": {"user": {"login": "stuartwdouglas", "name": "Stuart Douglas"}}, "url": "https://github.com/quarkusio/quarkus/commit/a7d72294bd4b814f2cf99269bb709a28a813a5aa", "committedDate": "2020-03-18T00:04:27Z", "message": "Support for access log in Vert.x HTTP\n\nFixes #5556"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgwMzk1ODU3", "url": "https://github.com/quarkusio/quarkus/pull/7898#pullrequestreview-380395857", "createdAt": "2020-03-24T14:59:53Z", "commit": {"oid": "a7d72294bd4b814f2cf99269bb709a28a813a5aa"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNFQxNDo1OTo1M1rOF60Z4Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNFQxNTowMjowOVrOF60g4g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzIyMDMyMQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                 * The access log file name\n          \n          \n            \n                 * The access log file name (set this to log access to a file).\n          \n          \n            \n                 *\n          \n          \n            \n                 * When empty, the standard log mechanism is used to output access logs.\n          \n      \n    \n    \n  \n\nI would find it clearer with this \u2b06\ufe0f", "url": "https://github.com/quarkusio/quarkus/pull/7898#discussion_r397220321", "createdAt": "2020-03-24T14:59:53Z", "author": {"login": "ia3andy"}, "path": "extensions/vertx-http/runtime/src/main/java/io/quarkus/vertx/http/runtime/AccessLogConfig.java", "diffHunk": "@@ -0,0 +1,64 @@\n+package io.quarkus.vertx.http.runtime;\n+\n+import java.util.Optional;\n+\n+import io.quarkus.runtime.annotations.ConfigGroup;\n+import io.quarkus.runtime.annotations.ConfigItem;\n+\n+@ConfigGroup\n+public class AccessLogConfig {\n+\n+    /**\n+     * If access logging is enabled\n+     */\n+    @ConfigItem(defaultValue = \"false\")\n+    public boolean enabled;\n+\n+    /**\n+     * The access log pattern:\n+     *\n+     * If this is the string 'common' or 'combined' then this will use one of the specified named formats:\n+     *\n+     * common: %h %l %u %t \"%r\" %s %b\n+     * combined: %h %l %u %t \"%r\" %s %b \"%{i,Referer}\" \"%{i,User-Agent}\"\n+     *\n+     * Otherwise consult the Quarkus documentation for the full list of variables that can be used.\n+     *\n+     */\n+    @ConfigItem(defaultValue = \"common\")\n+    public String pattern;\n+\n+    /**\n+     * The access log file name", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a7d72294bd4b814f2cf99269bb709a28a813a5aa"}, "originalPosition": 32}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzIyMjExNA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                 * The log directory to use if the base file name is set.\n          \n          \n            \n                 * The log directory to use when logging access to a file.", "url": "https://github.com/quarkusio/quarkus/pull/7898#discussion_r397222114", "createdAt": "2020-03-24T15:02:09Z", "author": {"login": "ia3andy"}, "path": "extensions/vertx-http/runtime/src/main/java/io/quarkus/vertx/http/runtime/AccessLogConfig.java", "diffHunk": "@@ -0,0 +1,64 @@\n+package io.quarkus.vertx.http.runtime;\n+\n+import java.util.Optional;\n+\n+import io.quarkus.runtime.annotations.ConfigGroup;\n+import io.quarkus.runtime.annotations.ConfigItem;\n+\n+@ConfigGroup\n+public class AccessLogConfig {\n+\n+    /**\n+     * If access logging is enabled\n+     */\n+    @ConfigItem(defaultValue = \"false\")\n+    public boolean enabled;\n+\n+    /**\n+     * The access log pattern:\n+     *\n+     * If this is the string 'common' or 'combined' then this will use one of the specified named formats:\n+     *\n+     * common: %h %l %u %t \"%r\" %s %b\n+     * combined: %h %l %u %t \"%r\" %s %b \"%{i,Referer}\" \"%{i,User-Agent}\"\n+     *\n+     * Otherwise consult the Quarkus documentation for the full list of variables that can be used.\n+     *\n+     */\n+    @ConfigItem(defaultValue = \"common\")\n+    public String pattern;\n+\n+    /**\n+     * The access log file name\n+     */\n+    @ConfigItem\n+    public Optional<String> baseFileName;\n+\n+    /**\n+     * The log directory to use if the base file name is set.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a7d72294bd4b814f2cf99269bb709a28a813a5aa"}, "originalPosition": 38}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a7d72294bd4b814f2cf99269bb709a28a813a5aa", "author": {"user": {"login": "stuartwdouglas", "name": "Stuart Douglas"}}, "url": "https://github.com/quarkusio/quarkus/commit/a7d72294bd4b814f2cf99269bb709a28a813a5aa", "committedDate": "2020-03-18T00:04:27Z", "message": "Support for access log in Vert.x HTTP\n\nFixes #5556"}, "afterCommit": {"oid": "d4328e648645de18178a121bd7b87cdef067837c", "author": {"user": {"login": "stuartwdouglas", "name": "Stuart Douglas"}}, "url": "https://github.com/quarkusio/quarkus/commit/d4328e648645de18178a121bd7b87cdef067837c", "committedDate": "2020-03-25T00:13:32Z", "message": "Support for access log in Vert.x HTTP\n\nFixes #5556"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7b9c1332e6a6df97fa56b9a3f63aee9c8d8a83a4", "author": {"user": {"login": "stuartwdouglas", "name": "Stuart Douglas"}}, "url": "https://github.com/quarkusio/quarkus/commit/7b9c1332e6a6df97fa56b9a3f63aee9c8d8a83a4", "committedDate": "2020-04-06T02:42:14Z", "message": "Support for access log in Vert.x HTTP\n\nFixes #5556"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d4328e648645de18178a121bd7b87cdef067837c", "author": {"user": {"login": "stuartwdouglas", "name": "Stuart Douglas"}}, "url": "https://github.com/quarkusio/quarkus/commit/d4328e648645de18178a121bd7b87cdef067837c", "committedDate": "2020-03-25T00:13:32Z", "message": "Support for access log in Vert.x HTTP\n\nFixes #5556"}, "afterCommit": {"oid": "7b9c1332e6a6df97fa56b9a3f63aee9c8d8a83a4", "author": {"user": {"login": "stuartwdouglas", "name": "Stuart Douglas"}}, "url": "https://github.com/quarkusio/quarkus/commit/7b9c1332e6a6df97fa56b9a3f63aee9c8d8a83a4", "committedDate": "2020-04-06T02:42:14Z", "message": "Support for access log in Vert.x HTTP\n\nFixes #5556"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3680, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}