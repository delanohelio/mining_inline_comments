{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkxNzA1Nzk5", "number": 12288, "title": "Kubernetes hostAliases property", "bodyText": "Add the possibility to generate hostAliases properties in Kubernetes deployment\nSigned-off-by: Vincent Sourtin sourin-v@bridgestone-bae.com", "createdAt": "2020-09-23T11:24:48Z", "url": "https://github.com/quarkusio/quarkus/pull/12288", "merged": true, "mergeCommit": {"oid": "b360d7c1a11b3782a0d59b7cef79dc646ab22967"}, "closed": true, "closedAt": "2020-09-24T13:17:25Z", "author": {"login": "Vinche59"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdLx-STgFqTQ5NDk5MTA1NQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdL9lewgFqTQ5NTM3NTA2MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk0OTkxMDU1", "url": "https://github.com/quarkusio/quarkus/pull/12288#pullrequestreview-494991055", "createdAt": "2020-09-23T19:41:55Z", "commit": {"oid": "9f4ee8fcebbd60d8c3f2834a19562f6b13ecf7f2"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QxOTo0MTo1NVrOHW-Oug==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QxOTo0Mjo0NlrOHW-Qgg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mzg1MDI5OA==", "bodyText": "Is there a link to the Kubernetes documentation where one could see more info?", "url": "https://github.com/quarkusio/quarkus/pull/12288#discussion_r493850298", "createdAt": "2020-09-23T19:41:55Z", "author": {"login": "geoand"}, "path": "docs/src/main/asciidoc/deploying-to-kubernetes.adoc", "diffHunk": "@@ -441,6 +441,42 @@ quarkus.kubernetes.readiness-probe.initial-delay=20s\n quarkus.kubernetes.readiness-probe.period=45s\n ----\n \n+=== Add hostAliases\n+To add entries to a Pod's `/etc/hosts` file, just apply the following configuration:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9f4ee8fcebbd60d8c3f2834a19562f6b13ecf7f2"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mzg1MDc1NA==", "bodyText": "If this is going to contain multiple values, why not make it a List?", "url": "https://github.com/quarkusio/quarkus/pull/12288#discussion_r493850754", "createdAt": "2020-09-23T19:42:46Z", "author": {"login": "geoand"}, "path": "extensions/kubernetes/vanilla/deployment/src/main/java/io/quarkus/kubernetes/deployment/HostAliasConfig.java", "diffHunk": "@@ -0,0 +1,28 @@\n+\n+package io.quarkus.kubernetes.deployment;\n+\n+import java.util.Optional;\n+\n+import io.quarkus.runtime.annotations.ConfigGroup;\n+import io.quarkus.runtime.annotations.ConfigItem;\n+\n+@ConfigGroup\n+public class HostAliasConfig {\n+\n+    /**\n+     * The ip address\n+     *\n+     * @return The ip.\n+     */\n+    @ConfigItem\n+    Optional<String> ip;\n+\n+    /**\n+     * The hostnames (comma separated) to resolve to the ip\n+     *\n+     * @return The path.\n+     */\n+    @ConfigItem\n+    Optional<String> hostnames;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9f4ee8fcebbd60d8c3f2834a19562f6b13ecf7f2"}, "originalPosition": 26}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk1MjEzMDYx", "url": "https://github.com/quarkusio/quarkus/pull/12288#pullrequestreview-495213061", "createdAt": "2020-09-24T04:36:03Z", "commit": {"oid": "7363b22baa33408fede9f6d715ab00a4546716e3"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNFQwNDozNjowM1rOHXJZrQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNFQwNDozODo0N1rOHXJb_w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDAzMzMyNQ==", "bodyText": "Small nitpick: you don't need to mention comma separated anymore", "url": "https://github.com/quarkusio/quarkus/pull/12288#discussion_r494033325", "createdAt": "2020-09-24T04:36:03Z", "author": {"login": "geoand"}, "path": "extensions/kubernetes/vanilla/deployment/src/main/java/io/quarkus/kubernetes/deployment/HostAliasConfig.java", "diffHunk": "@@ -0,0 +1,28 @@\n+\n+package io.quarkus.kubernetes.deployment;\n+\n+import java.util.List;\n+import java.util.Optional;\n+\n+import io.quarkus.runtime.annotations.ConfigGroup;\n+import io.quarkus.runtime.annotations.ConfigItem;\n+\n+@ConfigGroup\n+public class HostAliasConfig {\n+\n+    /**\n+     * The ip address\n+     *\n+     * @return The ip.\n+     */\n+    @ConfigItem\n+    Optional<String> ip;\n+\n+    /**\n+     * The hostnames (comma separated) to resolve to the ip", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7363b22baa33408fede9f6d715ab00a4546716e3"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDAzMzYwMw==", "bodyText": "This doesn't apply anymore.", "url": "https://github.com/quarkusio/quarkus/pull/12288#discussion_r494033603", "createdAt": "2020-09-24T04:37:19Z", "author": {"login": "geoand"}, "path": "docs/src/main/asciidoc/deploying-to-kubernetes.adoc", "diffHunk": "@@ -441,6 +441,42 @@ quarkus.kubernetes.readiness-probe.initial-delay=20s\n quarkus.kubernetes.readiness-probe.period=45s\n ----\n \n+=== Add hostAliases\n+To add entries to a Pod's `/etc/hosts` file (more information can be found in https://kubernetes.io/docs/concepts/services-networking/add-entries-to-pod-etc-hosts-with-host-aliases/[Kubernetes documentation]), just apply the following configuration:\n+\n+[source]\n+----\n+quarkus.kubernetes.host-aliases.\"10.0.0.0\".hostnames=foo.com\n+----\n+\n+This would generate the following section in the deployment descriptor:\n+\n+[source,yaml]\n+----\n+hostAliases:\n+- hostnames:\n+  - foo.com\n+  ip: 10.0.0.0\n+----\n+\n+To define multiple hostnames for the same ip address, just provide a list of hostnames separated by a comma (`,`):", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7363b22baa33408fede9f6d715ab00a4546716e3"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDAzMzkxOQ==", "bodyText": "This is misleading, no?\nIt doesn't show the quarkus or the kubernetes group.\nFurthermore, I am pretty sure it's host-aliases, right?", "url": "https://github.com/quarkusio/quarkus/pull/12288#discussion_r494033919", "createdAt": "2020-09-24T04:38:47Z", "author": {"login": "geoand"}, "path": "docs/src/main/asciidoc/deploying-to-kubernetes.adoc", "diffHunk": "@@ -441,6 +441,42 @@ quarkus.kubernetes.readiness-probe.initial-delay=20s\n quarkus.kubernetes.readiness-probe.period=45s\n ----\n \n+=== Add hostAliases\n+To add entries to a Pod's `/etc/hosts` file (more information can be found in https://kubernetes.io/docs/concepts/services-networking/add-entries-to-pod-etc-hosts-with-host-aliases/[Kubernetes documentation]), just apply the following configuration:\n+\n+[source]\n+----\n+quarkus.kubernetes.host-aliases.\"10.0.0.0\".hostnames=foo.com\n+----\n+\n+This would generate the following section in the deployment descriptor:\n+\n+[source,yaml]\n+----\n+hostAliases:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7363b22baa33408fede9f6d715ab00a4546716e3"}, "originalPosition": 16}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk1MzA4NjQ3", "url": "https://github.com/quarkusio/quarkus/pull/12288#pullrequestreview-495308647", "createdAt": "2020-09-24T07:54:41Z", "commit": {"oid": "7363b22baa33408fede9f6d715ab00a4546716e3"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cfb65fde0694748fde230667c6cb091ad23526c6", "author": {"user": {"login": "Vinche59", "name": "Vincent Sourin"}}, "url": "https://github.com/quarkusio/quarkus/commit/cfb65fde0694748fde230667c6cb091ad23526c6", "committedDate": "2020-09-24T09:12:50Z", "message": "Kubernetes hostAliases property\n\nAdd the possibility to generate hostAliases properties in Kubernetes deployment\n\nSigned-off-by: Vincent Sourtin <sourin-v@bridgestone-bae.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk1Mzc1MDYx", "url": "https://github.com/quarkusio/quarkus/pull/12288#pullrequestreview-495375061", "createdAt": "2020-09-24T09:15:33Z", "commit": {"oid": "cfb65fde0694748fde230667c6cb091ad23526c6"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 404, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}