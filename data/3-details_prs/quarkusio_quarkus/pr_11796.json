{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc3MzIxMTYy", "number": 11796, "title": "Define a deterministic ordering for ConfigMap and Secret ConfigSources", "bodyText": "", "createdAt": "2020-09-01T20:38:23Z", "url": "https://github.com/quarkusio/quarkus/pull/11796", "merged": true, "mergeCommit": {"oid": "0f4f679fbd7148ae86ea5857395ea71a314c0acf"}, "closed": true, "closedAt": "2020-09-02T10:25:56Z", "author": {"login": "geoand"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdE3BgCgFqTQ4MDU1OTk3Mw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdE3kr_gFqTQ4MDU4ODQ0Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgwNTU5OTcz", "url": "https://github.com/quarkusio/quarkus/pull/11796#pullrequestreview-480559973", "createdAt": "2020-09-02T07:39:21Z", "commit": {"oid": "2a89cf0545a0a014261db8805a5491df859bb8ca"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQwNzozOToyMVrOHLhKNQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQwNzozOToyMVrOHLhKNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTgzOTY2OQ==", "bodyText": "Haha, I was thinking about this too :-) I think you're right here.", "url": "https://github.com/quarkusio/quarkus/pull/11796#discussion_r481839669", "createdAt": "2020-09-02T07:39:21Z", "author": {"login": "Ladicek"}, "path": "extensions/kubernetes-config/runtime/src/main/java/io/quarkus/kubernetes/client/runtime/AbstractKubernetesConfigSourceUtil.java", "diffHunk": "@@ -79,6 +81,17 @@ abstract ConfigSource createPropertiesConfigSource(String kubernetesConfigSource\n         return result;\n     }\n \n+    private int getOrdinal(int ordinalOffset) {\n+        final OrdinalData ordinalData = ordinalData();\n+        /*\n+         * We don't want a large list of sources to cause an \"overflow\" into an Ordinal of another ConfigSource\n+         * so we just let the last ones all use the max ordinal\n+         * this is not fool proof, but it's very unlikely that an application will need to define\n+         * a list with 10+ sources...", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2a89cf0545a0a014261db8805a5491df859bb8ca"}, "originalPosition": 67}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgwNTYwNDc2", "url": "https://github.com/quarkusio/quarkus/pull/11796#pullrequestreview-480560476", "createdAt": "2020-09-02T07:40:09Z", "commit": {"oid": "2a89cf0545a0a014261db8805a5491df859bb8ca"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQwNzo0MDowOVrOHLhMtw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQwNzo0MDowOVrOHLhMtw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTg0MDMxMQ==", "bodyText": "last -> list", "url": "https://github.com/quarkusio/quarkus/pull/11796#discussion_r481840311", "createdAt": "2020-09-02T07:40:09Z", "author": {"login": "Ladicek"}, "path": "extensions/kubernetes-config/runtime/src/main/java/io/quarkus/kubernetes/client/runtime/KubernetesConfigSourceConfig.java", "diffHunk": "@@ -23,14 +23,20 @@\n     public boolean failOnMissingConfig;\n \n     /**\n-     * ConfigMaps to look for in the namespace that the Kubernetes Client has been configured for\n+     * ConfigMaps to look for in the namespace that the Kubernetes Client has been configured for.\n+     * ConfigMaps defined later in this last have a higher priority that ConfigMaps defined earlier", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2a89cf0545a0a014261db8805a5491df859bb8ca"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgwNTYwNTIx", "url": "https://github.com/quarkusio/quarkus/pull/11796#pullrequestreview-480560521", "createdAt": "2020-09-02T07:40:12Z", "commit": {"oid": "2a89cf0545a0a014261db8805a5491df859bb8ca"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQwNzo0MDoxMlrOHLhM6g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQwNzo0MDoxMlrOHLhM6g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTg0MDM2Mg==", "bodyText": "last -> list", "url": "https://github.com/quarkusio/quarkus/pull/11796#discussion_r481840362", "createdAt": "2020-09-02T07:40:12Z", "author": {"login": "Ladicek"}, "path": "extensions/kubernetes-config/runtime/src/main/java/io/quarkus/kubernetes/client/runtime/KubernetesConfigSourceConfig.java", "diffHunk": "@@ -23,14 +23,20 @@\n     public boolean failOnMissingConfig;\n \n     /**\n-     * ConfigMaps to look for in the namespace that the Kubernetes Client has been configured for\n+     * ConfigMaps to look for in the namespace that the Kubernetes Client has been configured for.\n+     * ConfigMaps defined later in this last have a higher priority that ConfigMaps defined earlier\n+     * in this list.\n+     * Furthermore any Secrets defined in {@code secrets}, will have higher priorities than all ConfigMaps.\n      */\n     @ConfigItem\n     public Optional<List<String>> configMaps;\n \n     /**\n      * Secrets to look for in the namespace that the Kubernetes Client has been configured for.\n      * If you use this, you probably want to enable {@code quarkus.kubernetes-config.secrets.enabled}.\n+     * Secrets defined later in this last have a higher priority that ConfigMaps defined earlier", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2a89cf0545a0a014261db8805a5491df859bb8ca"}, "originalPosition": 16}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgwNTYxMjk1", "url": "https://github.com/quarkusio/quarkus/pull/11796#pullrequestreview-480561295", "createdAt": "2020-09-02T07:41:18Z", "commit": {"oid": "2a89cf0545a0a014261db8805a5491df859bb8ca"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQwNzo0MToxOVrOHLhQqw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQwNzo0MToxOVrOHLhQqw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTg0MTMyMw==", "bodyText": "I'd make this an enum, but that's just me.", "url": "https://github.com/quarkusio/quarkus/pull/11796#discussion_r481841323", "createdAt": "2020-09-02T07:41:19Z", "author": {"login": "Ladicek"}, "path": "extensions/kubernetes-config/runtime/src/main/java/io/quarkus/kubernetes/client/runtime/OrdinalData.java", "diffHunk": "@@ -0,0 +1,30 @@\n+package io.quarkus.kubernetes.client.runtime;\n+\n+final class OrdinalData {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2a89cf0545a0a014261db8805a5491df859bb8ca"}, "originalPosition": 3}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2be637fbb5a9d92e97f36292a3d4d708de114a32", "author": {"user": {"login": "geoand", "name": "Georgios Andrianakis"}}, "url": "https://github.com/quarkusio/quarkus/commit/2be637fbb5a9d92e97f36292a3d4d708de114a32", "committedDate": "2020-09-02T08:08:08Z", "message": "Define a deterministic ordering for ConfigMap and Secret ConfigSources"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2a89cf0545a0a014261db8805a5491df859bb8ca", "author": {"user": {"login": "geoand", "name": "Georgios Andrianakis"}}, "url": "https://github.com/quarkusio/quarkus/commit/2a89cf0545a0a014261db8805a5491df859bb8ca", "committedDate": "2020-09-01T20:35:45Z", "message": "Define a deterministic ordering for ConfigMap and Secret ConfigSources"}, "afterCommit": {"oid": "2be637fbb5a9d92e97f36292a3d4d708de114a32", "author": {"user": {"login": "geoand", "name": "Georgios Andrianakis"}}, "url": "https://github.com/quarkusio/quarkus/commit/2be637fbb5a9d92e97f36292a3d4d708de114a32", "committedDate": "2020-09-02T08:08:08Z", "message": "Define a deterministic ordering for ConfigMap and Secret ConfigSources"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgwNTg4NDQ2", "url": "https://github.com/quarkusio/quarkus/pull/11796#pullrequestreview-480588446", "createdAt": "2020-09-02T08:17:47Z", "commit": {"oid": "2be637fbb5a9d92e97f36292a3d4d708de114a32"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 660, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}