{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA2ODE2MzEw", "number": 12827, "title": "Add OpenTracing support for Kafka", "bodyText": "This PR adds two distinct features:\n\nRegister for reflection all Kafka consumer/producer interceptor so they can be used in native\nIntegrate Kafka OpenTracing contributor interceptors inside Quarkus (doc, bom, register for reflection)\n\nSee the Zulip thread for reference: https://quarkusio.zulipchat.com/#narrow/stream/187038-dev/topic/OpenTracing.20Kafka.20intereptors", "createdAt": "2020-10-20T13:46:45Z", "url": "https://github.com/quarkusio/quarkus/pull/12827", "merged": true, "mergeCommit": {"oid": "af09abbd7d387c913047ec8dde8ea3ee83d10060"}, "closed": true, "closedAt": "2020-10-21T00:35:30Z", "author": {"login": "loicmathieu"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdUGpGzgH2gAyNTA2ODE2MzEwOjFhNjgyM2I2ZmZlYzBjOGY0MzJjNzdlN2U3OTVhNTg5NzYxMTE1ZmU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdUbun8gFqTUxMjk0Mjc1MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "1a6823b6ffec0c8f432c77e7e795a589761115fe", "author": {"user": {"login": "loicmathieu", "name": "Lo\u00efc Mathieu"}}, "url": "https://github.com/quarkusio/quarkus/commit/1a6823b6ffec0c8f432c77e7e795a589761115fe", "committedDate": "2020-10-19T16:20:03Z", "message": "Register for reflection Consumer and Producer interceptors"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEyNzM1MTg4", "url": "https://github.com/quarkusio/quarkus/pull/12827#pullrequestreview-512735188", "createdAt": "2020-10-20T13:50:55Z", "commit": {"oid": "3068153149692ffc2247ceea14d174b2b84e07f0"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQxMzo1MDo1NVrOHk9sWg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQxMzo1MDo1NVrOHk9sWg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODUyMTU2Mg==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            The https://github.com/opentracing-contrib/java-kafka-client[Kakfa instrumentation] will add a span for each message sent to or received from a Kafka topic, to enable it, add the following dependency to your pom.xml:\n          \n          \n            \n            The https://github.com/opentracing-contrib/java-kafka-client[Kafka instrumentation] will add a span for each message sent to or received from a Kafka topic. To enable it, add the following dependency to your pom.xml:", "url": "https://github.com/quarkusio/quarkus/pull/12827#discussion_r508521562", "createdAt": "2020-10-20T13:50:55Z", "author": {"login": "Ladicek"}, "path": "docs/src/main/asciidoc/opentracing.adoc", "diffHunk": "@@ -196,6 +196,38 @@ quarkus.datasource.jdbc.driver=io.opentracing.contrib.jdbc.TracingDriver\n quarkus.hibernate-orm.dialect=org.hibernate.dialect.PostgreSQLDialect\n ----\n \n+\n+=== Kafka\n+\n+The https://github.com/opentracing-contrib/java-kafka-client[Kakfa instrumentation] will add a span for each message sent to or received from a Kafka topic, to enable it, add the following dependency to your pom.xml:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3068153149692ffc2247ceea14d174b2b84e07f0"}, "originalPosition": 7}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEyNzU4MjQ3", "url": "https://github.com/quarkusio/quarkus/pull/12827#pullrequestreview-512758247", "createdAt": "2020-10-20T14:08:34Z", "commit": {"oid": "3068153149692ffc2247ceea14d174b2b84e07f0"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQxNDowODozNFrOHk-zcA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQxNDowODozNFrOHk-zcA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODUzOTc2MA==", "bodyText": "Maybe mentioned that interceptors are comma-separated (if I'm not mistaken)", "url": "https://github.com/quarkusio/quarkus/pull/12827#discussion_r508539760", "createdAt": "2020-10-20T14:08:34Z", "author": {"login": "cescoffier"}, "path": "docs/src/main/asciidoc/opentracing.adoc", "diffHunk": "@@ -196,6 +196,38 @@ quarkus.datasource.jdbc.driver=io.opentracing.contrib.jdbc.TracingDriver\n quarkus.hibernate-orm.dialect=org.hibernate.dialect.PostgreSQLDialect\n ----\n \n+\n+=== Kafka\n+\n+The https://github.com/opentracing-contrib/java-kafka-client[Kakfa instrumentation] will add a span for each message sent to or received from a Kafka topic, to enable it, add the following dependency to your pom.xml:\n+\n+[source, xml]\n+----\n+<dependency>\n+    <groupId>io.opentracing.contrib</groupId>\n+    <artifactId>opentracing-kafka-client</artifactId>\n+    <version>${opentracing-kafka.version}</version>\n+</dependency>\n+----\n+\n+It contains OpenTracing interceptors that must be registered on Kafka producers and consumers.\n+\n+If you followed the link:kafka[Kafka guide], the interceptors can be added on the `generated-price` and the `prices` channels as follows:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3068153149692ffc2247ceea14d174b2b84e07f0"}, "originalPosition": 20}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c01d13e7d736ac183cb1a36a997c5212b516148d", "author": {"user": {"login": "loicmathieu", "name": "Lo\u00efc Mathieu"}}, "url": "https://github.com/quarkusio/quarkus/commit/c01d13e7d736ac183cb1a36a997c5212b516148d", "committedDate": "2020-10-20T14:48:36Z", "message": "Add Opentracing Contrib Kafka"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "965b76b5521921ff2b310574ea72881f11654da6", "author": {"user": {"login": "loicmathieu", "name": "Lo\u00efc Mathieu"}}, "url": "https://github.com/quarkusio/quarkus/commit/965b76b5521921ff2b310574ea72881f11654da6", "committedDate": "2020-10-20T14:45:05Z", "message": "Apply suggestions from code review\n\nCo-authored-by: Ladislav Thon <ladicek@gmail.com>"}, "afterCommit": {"oid": "c01d13e7d736ac183cb1a36a997c5212b516148d", "author": {"user": {"login": "loicmathieu", "name": "Lo\u00efc Mathieu"}}, "url": "https://github.com/quarkusio/quarkus/commit/c01d13e7d736ac183cb1a36a997c5212b516148d", "committedDate": "2020-10-20T14:48:36Z", "message": "Add Opentracing Contrib Kafka"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEyOTQyNzUw", "url": "https://github.com/quarkusio/quarkus/pull/12827#pullrequestreview-512942750", "createdAt": "2020-10-20T16:54:05Z", "commit": {"oid": "c01d13e7d736ac183cb1a36a997c5212b516148d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1668, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}