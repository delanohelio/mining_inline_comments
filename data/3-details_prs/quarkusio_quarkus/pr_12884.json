{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA4MzU4MjI4", "number": 12884, "title": "feat: Introduce 3.x and 4.x style of openshift manifests.", "bodyText": "This pull request introduces quarkus.openshift.flavor which supports values: v3 and v4 (default).\nBased on the specified value:\n3.x\n\nWe add the label app which is needed by the openshift console.\nWe remove optional from secrets and configmaps.", "createdAt": "2020-10-22T15:00:28Z", "url": "https://github.com/quarkusio/quarkus/pull/12884", "merged": true, "mergeCommit": {"oid": "f02d346a9af5ab63dd6564e3539b49c486ad12ef"}, "closed": true, "closedAt": "2020-10-28T02:04:41Z", "author": {"login": "iocanel"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdVDW3SAFqTUxNDgyOTkxNQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdWaWAKAFqTUxNzE0NzA1MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE0ODI5OTE1", "url": "https://github.com/quarkusio/quarkus/pull/12884#pullrequestreview-514829915", "createdAt": "2020-10-22T15:04:20Z", "commit": {"oid": "60afd069f24216b88e44e141a87d9b7db612eb40"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQxNTowNDoyMFrOHmmYaQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQxNTowNDoyMFrOHmmYaQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDIzNjc3Nw==", "bodyText": "Can we have a corresponding v4 test?", "url": "https://github.com/quarkusio/quarkus/pull/12884#discussion_r510236777", "createdAt": "2020-10-22T15:04:20Z", "author": {"login": "geoand"}, "path": "integration-tests/kubernetes/quarkus-standard-way/src/test/java/io/quarkus/it/kubernetes/OpenshiftV3Test.java", "diffHunk": "@@ -0,0 +1,76 @@\n+package io.quarkus.it.kubernetes;\n+\n+import static org.assertj.core.api.Assertions.assertThat;\n+import static org.assertj.core.api.Assertions.entry;\n+\n+import java.io.IOException;\n+import java.nio.file.Path;\n+import java.util.Collection;\n+import java.util.List;\n+import java.util.Map;\n+\n+import org.assertj.core.api.AbstractObjectAssert;\n+import org.jboss.shrinkwrap.api.ShrinkWrap;\n+import org.jboss.shrinkwrap.api.spec.JavaArchive;\n+import org.junit.jupiter.api.Test;\n+import org.junit.jupiter.api.extension.RegisterExtension;\n+\n+import io.fabric8.kubernetes.api.model.HasMetadata;\n+import io.fabric8.kubernetes.api.model.Service;\n+import io.quarkus.test.ProdBuildResults;\n+import io.quarkus.test.ProdModeTestResults;\n+import io.quarkus.test.QuarkusProdModeTest;\n+\n+public class OpenshiftV3Test {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "60afd069f24216b88e44e141a87d9b7db612eb40"}, "originalPosition": 24}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "60afd069f24216b88e44e141a87d9b7db612eb40", "author": {"user": {"login": "iocanel", "name": "Ioannis Canellos"}}, "url": "https://github.com/quarkusio/quarkus/commit/60afd069f24216b88e44e141a87d9b7db612eb40", "committedDate": "2020-10-22T14:57:16Z", "message": "feat: Introdcue 3.x and 4.x style of openshift manifests."}, "afterCommit": {"oid": "8662de0c79d1c33491f895b352aa220cca94282f", "author": {"user": {"login": "iocanel", "name": "Ioannis Canellos"}}, "url": "https://github.com/quarkusio/quarkus/commit/8662de0c79d1c33491f895b352aa220cca94282f", "committedDate": "2020-10-22T15:46:21Z", "message": "feat: Introdcue 3.x and 4.x style of openshift manifests."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE1NjIxNDY4", "url": "https://github.com/quarkusio/quarkus/pull/12884#pullrequestreview-515621468", "createdAt": "2020-10-23T12:31:41Z", "commit": {"oid": "8662de0c79d1c33491f895b352aa220cca94282f"}, "state": "DISMISSED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QxMjozMTo0MlrOHnL07Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QxMjozMTo0MlrOHnL07Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDg1MDI4NQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                 * The openshift flavor / version to use.\n          \n          \n            \n                 * Older versions of Openshift have minor diferrences in the labels and fields they support.\n          \n          \n            \n                 * This option allows users to have their manifests automatically aligned to they openshift 'flavor' they use.\n          \n          \n            \n                 * The OpenShift flavor / version to use.\n          \n          \n            \n                 * Older versions of OpenShift have minor differences in the labels and fields they support.\n          \n          \n            \n                 * This option allows users to have their manifests automatically aligned to the OpenShift 'flavor' they use.", "url": "https://github.com/quarkusio/quarkus/pull/12884#discussion_r510850285", "createdAt": "2020-10-23T12:31:42Z", "author": {"login": "gsmet"}, "path": "extensions/kubernetes/vanilla/deployment/src/main/java/io/quarkus/kubernetes/deployment/OpenshiftConfig.java", "diffHunk": "@@ -14,6 +14,19 @@\n @ConfigRoot\n public class OpenshiftConfig implements PlatformConfiguration {\n \n+    public static enum OpenshiftFlavor {\n+        v3,\n+        v4;\n+    }\n+\n+    /**\n+     * The openshift flavor / version to use.\n+     * Older versions of Openshift have minor diferrences in the labels and fields they support.\n+     * This option allows users to have their manifests automatically aligned to they openshift 'flavor' they use.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8662de0c79d1c33491f895b352aa220cca94282f"}, "originalPosition": 12}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8662de0c79d1c33491f895b352aa220cca94282f", "author": {"user": {"login": "iocanel", "name": "Ioannis Canellos"}}, "url": "https://github.com/quarkusio/quarkus/commit/8662de0c79d1c33491f895b352aa220cca94282f", "committedDate": "2020-10-22T15:46:21Z", "message": "feat: Introdcue 3.x and 4.x style of openshift manifests."}, "afterCommit": {"oid": "300fd2e671d3b9affec75d8f96e595f747b99032", "author": {"user": {"login": "iocanel", "name": "Ioannis Canellos"}}, "url": "https://github.com/quarkusio/quarkus/commit/300fd2e671d3b9affec75d8f96e595f747b99032", "committedDate": "2020-10-26T10:28:47Z", "message": "feat: Introdcue 3.x and 4.x style of openshift manifests."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "300fd2e671d3b9affec75d8f96e595f747b99032", "author": {"user": {"login": "iocanel", "name": "Ioannis Canellos"}}, "url": "https://github.com/quarkusio/quarkus/commit/300fd2e671d3b9affec75d8f96e595f747b99032", "committedDate": "2020-10-26T10:28:47Z", "message": "feat: Introdcue 3.x and 4.x style of openshift manifests."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE3MTQ3MDUx", "url": "https://github.com/quarkusio/quarkus/pull/12884#pullrequestreview-517147051", "createdAt": "2020-10-26T20:25:08Z", "commit": {"oid": "300fd2e671d3b9affec75d8f96e595f747b99032"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1703, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}