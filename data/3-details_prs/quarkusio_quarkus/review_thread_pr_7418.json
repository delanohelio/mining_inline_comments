{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc5NjQ1ODQ2", "number": 7418, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNVQyMzoxMzoyMFrODi4vZg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNVQyMzoxMzoyMFrODi4vZg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM3OTA3ODE0OnYy", "diffSide": "RIGHT", "path": "extensions/oidc/runtime/src/main/java/io/quarkus/oidc/runtime/CodeAuthenticationMechanism.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNVQyMzoxMzoyMFrOFuYu5g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNlQwOTo0Mzo0NFrOFukjIg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDE4NDAzOA==", "bodyText": "This should be DEBUG if it is something a user can trigger with a malformed request. In general you don't want to log anything that a user can trigger higher than DEBUG, as it opens you up to DOS attacks because logging is very expensive.", "url": "https://github.com/quarkusio/quarkus/pull/7418#discussion_r384184038", "createdAt": "2020-02-25T23:13:20Z", "author": {"login": "stuartwdouglas"}, "path": "extensions/oidc/runtime/src/main/java/io/quarkus/oidc/runtime/CodeAuthenticationMechanism.java", "diffHunk": "@@ -182,16 +188,19 @@ private static QuarkusSecurityIdentity augmentIdentity(SecurityIdentity security\n \n         configContext.auth.authenticate(params, userAsyncResult -> {\n             if (userAsyncResult.failed()) {\n-                cf.completeExceptionally(new AuthenticationFailedException());\n+                if (userAsyncResult.cause() != null) {\n+                    LOG.warnf(\"Exception during the code to token exchange: %s\", userAsyncResult.cause().getMessage());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7d1dba601c920770a02c30c5cf7d0d7902209cde"}, "originalPosition": 44}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDM3NzYzNA==", "bodyText": "@stuartwdouglas done", "url": "https://github.com/quarkusio/quarkus/pull/7418#discussion_r384377634", "createdAt": "2020-02-26T09:43:44Z", "author": {"login": "sberyozkin"}, "path": "extensions/oidc/runtime/src/main/java/io/quarkus/oidc/runtime/CodeAuthenticationMechanism.java", "diffHunk": "@@ -182,16 +188,19 @@ private static QuarkusSecurityIdentity augmentIdentity(SecurityIdentity security\n \n         configContext.auth.authenticate(params, userAsyncResult -> {\n             if (userAsyncResult.failed()) {\n-                cf.completeExceptionally(new AuthenticationFailedException());\n+                if (userAsyncResult.cause() != null) {\n+                    LOG.warnf(\"Exception during the code to token exchange: %s\", userAsyncResult.cause().getMessage());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDE4NDAzOA=="}, "originalCommit": {"oid": "7d1dba601c920770a02c30c5cf7d0d7902209cde"}, "originalPosition": 44}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4976, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}