{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk2NTQ2NDk3", "number": 12464, "title": "Update liquibase to 4.1.1", "bodyText": "Update liquibase to 4.1.0\n\nadd new liquibase HubService\nadd xsd for 4.1.0\nSubstitute liquibase StringUtil method randomIdentifer which use SecureRandom", "createdAt": "2020-10-01T21:06:06Z", "url": "https://github.com/quarkusio/quarkus/pull/12464", "merged": true, "mergeCommit": {"oid": "5d9ab2fd6463199c4601df853db4935360c01caf"}, "closed": true, "closedAt": "2020-10-19T16:44:26Z", "author": {"login": "andrejpetras"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdOi0zEgFqTUwMDk5OTMzOQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdUG6zngFqTUxMTk1NDM1OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAwOTk5MzM5", "url": "https://github.com/quarkusio/quarkus/pull/12464#pullrequestreview-500999339", "createdAt": "2020-10-02T09:46:37Z", "commit": {"oid": "90cba41efd978140168cbdc2df07f4f38c2f9f55"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQwOTo0NjozN1rOHbnn7g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQwOTo0NjozN1rOHbnn7g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODcyMjc5OA==", "bodyText": "I wonder if we could use NewInstance instead of Reset and get rid of the method substitution.", "url": "https://github.com/quarkusio/quarkus/pull/12464#discussion_r498722798", "createdAt": "2020-10-02T09:46:37Z", "author": {"login": "gsmet"}, "path": "extensions/liquibase/runtime/src/main/java/io/quarkus/liquibase/runtime/graal/SubstituteStringUtil.java", "diffHunk": "@@ -13,4 +14,14 @@\n     @RecomputeFieldValue(kind = RecomputeFieldValue.Kind.Reset)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "90cba41efd978140168cbdc2df07f4f38c2f9f55"}, "originalPosition": 9}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "90cba41efd978140168cbdc2df07f4f38c2f9f55", "author": {"user": {"login": "andrejpetras", "name": "Andrej Petras"}}, "url": "https://github.com/quarkusio/quarkus/commit/90cba41efd978140168cbdc2df07f4f38c2f9f55", "committedDate": "2020-10-01T21:01:53Z", "message": "Update liquibase to 4.1.0"}, "afterCommit": {"oid": "3199cf581aecd3ddc858ffa49ab03fede40858bc", "author": {"user": {"login": "andrejpetras", "name": "Andrej Petras"}}, "url": "https://github.com/quarkusio/quarkus/commit/3199cf581aecd3ddc858ffa49ab03fede40858bc", "committedDate": "2020-10-14T18:10:05Z", "message": "Update liquibase to 4.1.0"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5766520e26746941295a7e569952dceafb77e771", "author": {"user": {"login": "andrejpetras", "name": "Andrej Petras"}}, "url": "https://github.com/quarkusio/quarkus/commit/5766520e26746941295a7e569952dceafb77e771", "committedDate": "2020-10-19T12:22:21Z", "message": "Update liquibase to 4.1.1"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bb6d9b0d76b60841ab6ed8c0f5f6f862a2a73723", "author": {"user": {"login": "gsmet", "name": "Guillaume Smet"}}, "url": "https://github.com/quarkusio/quarkus/commit/bb6d9b0d76b60841ab6ed8c0f5f6f862a2a73723", "committedDate": "2020-10-19T12:22:21Z", "message": "Fix Liquibase deployment package"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3199cf581aecd3ddc858ffa49ab03fede40858bc", "author": {"user": {"login": "andrejpetras", "name": "Andrej Petras"}}, "url": "https://github.com/quarkusio/quarkus/commit/3199cf581aecd3ddc858ffa49ab03fede40858bc", "committedDate": "2020-10-14T18:10:05Z", "message": "Update liquibase to 4.1.0"}, "afterCommit": {"oid": "bb8de48048ef36e1428d5c66b386bca3ea75856c", "author": {"user": {"login": "gsmet", "name": "Guillaume Smet"}}, "url": "https://github.com/quarkusio/quarkus/commit/bb8de48048ef36e1428d5c66b386bca3ea75856c", "committedDate": "2020-10-19T12:22:21Z", "message": "Use @FieldAccessors to access liquibase.util.StringUtil#rnd"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTExODA2MDkw", "url": "https://github.com/quarkusio/quarkus/pull/12464#pullrequestreview-511806090", "createdAt": "2020-10-19T14:11:36Z", "commit": {"oid": "bb8de48048ef36e1428d5c66b386bca3ea75856c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQxNDoxMTozNlrOHkQhLw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQxNDoxMTozNlrOHkQhLw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzc4MTQyMw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            synchronized (SubstituteStringUtil.class) {\n          \n          \n            \n                            synchronized (SecureRandomAccessors.class) {", "url": "https://github.com/quarkusio/quarkus/pull/12464#discussion_r507781423", "createdAt": "2020-10-19T14:11:36Z", "author": {"login": "gastaldi"}, "path": "extensions/liquibase/runtime/src/main/java/io/quarkus/liquibase/runtime/graal/SubstituteStringUtil.java", "diffHunk": "@@ -3,14 +3,35 @@\n import java.security.SecureRandom;\n \n import com.oracle.svm.core.annotate.Alias;\n-import com.oracle.svm.core.annotate.RecomputeFieldValue;\n+import com.oracle.svm.core.annotate.InjectAccessors;\n import com.oracle.svm.core.annotate.TargetClass;\n \n @TargetClass(className = \"liquibase.util.StringUtil\")\n final class SubstituteStringUtil {\n \n     @Alias\n-    @RecomputeFieldValue(kind = RecomputeFieldValue.Kind.Reset)\n+    @InjectAccessors(SecureRandomAccessors.class)\n     private static SecureRandom rnd;\n \n+    public static final class SecureRandomAccessors {\n+\n+        private static volatile SecureRandom volatileRandom;\n+\n+        public static SecureRandom get() {\n+            SecureRandom localVolatileRandom = volatileRandom;\n+            if (localVolatileRandom == null) {\n+                synchronized (SubstituteStringUtil.class) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bb8de48048ef36e1428d5c66b386bca3ea75856c"}, "originalPosition": 23}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTExODE1Njgy", "url": "https://github.com/quarkusio/quarkus/pull/12464#pullrequestreview-511815682", "createdAt": "2020-10-19T14:20:43Z", "commit": {"oid": "bb8de48048ef36e1428d5c66b386bca3ea75856c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "35d6a26c9aade4ea6994e7c38571ed23b9a7bbc3", "author": {"user": {"login": "gsmet", "name": "Guillaume Smet"}}, "url": "https://github.com/quarkusio/quarkus/commit/35d6a26c9aade4ea6994e7c38571ed23b9a7bbc3", "committedDate": "2020-10-19T16:35:31Z", "message": "Use @FieldAccessors to access liquibase.util.StringUtil#rnd"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "bb8de48048ef36e1428d5c66b386bca3ea75856c", "author": {"user": {"login": "gsmet", "name": "Guillaume Smet"}}, "url": "https://github.com/quarkusio/quarkus/commit/bb8de48048ef36e1428d5c66b386bca3ea75856c", "committedDate": "2020-10-19T12:22:21Z", "message": "Use @FieldAccessors to access liquibase.util.StringUtil#rnd"}, "afterCommit": {"oid": "35d6a26c9aade4ea6994e7c38571ed23b9a7bbc3", "author": {"user": {"login": "gsmet", "name": "Guillaume Smet"}}, "url": "https://github.com/quarkusio/quarkus/commit/35d6a26c9aade4ea6994e7c38571ed23b9a7bbc3", "committedDate": "2020-10-19T16:35:31Z", "message": "Use @FieldAccessors to access liquibase.util.StringUtil#rnd"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTExOTU0MzU4", "url": "https://github.com/quarkusio/quarkus/pull/12464#pullrequestreview-511954358", "createdAt": "2020-10-19T16:39:24Z", "commit": {"oid": "35d6a26c9aade4ea6994e7c38571ed23b9a7bbc3"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1836, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}