{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDYzNDg1MDE2", "number": 11235, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNVQxODowNDozM1rOEVhUlw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxMDo0NzoyMVrOEVxt2A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkxMDAxNDk1OnYy", "diffSide": "RIGHT", "path": "devtools/platform-descriptor-json/src/main/resources/bundled-codestarts/buildtool/gradle/codestart.yml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNVQxODowNDozM1rOG8UzGA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNVQxODoxMjowN1rOG8VCjQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTkwODUwNA==", "bodyText": "Quarkus use Gradle 6.5.1", "url": "https://github.com/quarkusio/quarkus/pull/11235#discussion_r465908504", "createdAt": "2020-08-05T18:04:33Z", "author": {"login": "gastaldi"}, "path": "devtools/platform-descriptor-json/src/main/resources/bundled-codestarts/buildtool/gradle/codestart.yml", "diffHunk": "@@ -1,12 +1,16 @@\n name: gradle\n type: buildtool\n+output-strategy:\n+  \"gradlew\": \"executable\"\n+  \"gradlew.bat\": \"executable\"\n language:\n   base:\n     data:\n       quarkus:\n         plugin:\n           id: io.quarkus\n       version:\n+        gradle: 6.4.1", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fcd7c31363f5cbbbf62684c1809aca54d6f27d16"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTkxMjQ2MQ==", "bodyText": "Good ctach!!! Fixed :)", "url": "https://github.com/quarkusio/quarkus/pull/11235#discussion_r465912461", "createdAt": "2020-08-05T18:12:07Z", "author": {"login": "ia3andy"}, "path": "devtools/platform-descriptor-json/src/main/resources/bundled-codestarts/buildtool/gradle/codestart.yml", "diffHunk": "@@ -1,12 +1,16 @@\n name: gradle\n type: buildtool\n+output-strategy:\n+  \"gradlew\": \"executable\"\n+  \"gradlew.bat\": \"executable\"\n language:\n   base:\n     data:\n       quarkus:\n         plugin:\n           id: io.quarkus\n       version:\n+        gradle: 6.4.1", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTkwODUwNA=="}, "originalCommit": {"oid": "fcd7c31363f5cbbbf62684c1809aca54d6f27d16"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkxMTU3MTYwOnYy", "diffSide": "RIGHT", "path": "devtools/platform-descriptor-json/src/main/resources/bundled-codestarts/buildtool/maven/base/pom.tpl.qute.xml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQwNTowODoyMlrOG8jezA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQwNTowODoyMlrOG8jezA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjE0OTA2OA==", "bodyText": "why are we doing two different naming strategies here ?\nit should be maven-compiler.plugin.version to match what we do everywhere else (except code.quarkus for some reason :)", "url": "https://github.com/quarkusio/quarkus/pull/11235#discussion_r466149068", "createdAt": "2020-08-06T05:08:22Z", "author": {"login": "maxandersen"}, "path": "devtools/platform-descriptor-json/src/main/resources/bundled-codestarts/buildtool/maven/base/pom.tpl.qute.xml", "diffHunk": "@@ -16,8 +16,8 @@\n         <quarkus.platform.artifact-id>{quarkus.platform.artifact-id}</quarkus.platform.artifact-id>\n         <quarkus.platform.version>{quarkus.platform.version}</quarkus.platform.version>\n         <quarkus-plugin.version>{quarkus.plugin.version}</quarkus-plugin.version>\n-        <compiler-plugin.version>{maven.version.maven-compiler-plugin}</compiler-plugin.version>\n-        <surefire-plugin.version>{maven.version.maven-surefire-plugin}</surefire-plugin.version>\n+        <compiler-plugin.version>{version.maven-compiler-plugin}</compiler-plugin.version>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "41dbc98be35ee13658eb323961582ed06ad3ae75"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkxMTU3NTQzOnYy", "diffSide": "RIGHT", "path": "devtools/platform-descriptor-json/src/main/resources/bundled-codestarts/buildtool/maven/codestart.yml", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQwNToxMDoxN1rOG8jg3w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQwNjo1NTo0NFrOG8lqeQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjE0OTU5OQ==", "bodyText": "that explains the different naming strategy - okey; but then shouldn't the quarkus plugin version be here too ?", "url": "https://github.com/quarkusio/quarkus/pull/11235#discussion_r466149599", "createdAt": "2020-08-06T05:10:17Z", "author": {"login": "maxandersen"}, "path": "devtools/platform-descriptor-json/src/main/resources/bundled-codestarts/buildtool/maven/codestart.yml", "diffHunk": "@@ -2,16 +2,19 @@\n name: maven\n type: buildtool\n fallback: true\n+output-strategy:\n+  \"mvnw\": \"executable\"\n+  \"mvnw.cmd\": \"executable\"\n language:\n   base:\n     data:\n-      maven:\n-        version:\n-          kotlin: 1.3.72\n-          scala: 2.12.8\n-          scala-maven-plugin: 4.1.1\n-          maven-compiler-plugin: 3.8.1\n-          maven-surefire-plugin: 2.22.1\n+      version:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "41dbc98be35ee13658eb323961582ed06ad3ae75"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjE3NjcyMA==", "bodyText": "@maxandersen the reason behind having version.name is that using yaml defining multiple name.version isn't really elegant:\nname1:\n  version: 1.0\nname2:\n  version: 3.0\n...\nThe difference is that here we only define versions, for quarkus or platform we also define artifact-id and group-id.\nMaybe the name.version even if less elegant would make it more consistant?", "url": "https://github.com/quarkusio/quarkus/pull/11235#discussion_r466176720", "createdAt": "2020-08-06T06:36:47Z", "author": {"login": "ia3andy"}, "path": "devtools/platform-descriptor-json/src/main/resources/bundled-codestarts/buildtool/maven/codestart.yml", "diffHunk": "@@ -2,16 +2,19 @@\n name: maven\n type: buildtool\n fallback: true\n+output-strategy:\n+  \"mvnw\": \"executable\"\n+  \"mvnw.cmd\": \"executable\"\n language:\n   base:\n     data:\n-      maven:\n-        version:\n-          kotlin: 1.3.72\n-          scala: 2.12.8\n-          scala-maven-plugin: 4.1.1\n-          maven-compiler-plugin: 3.8.1\n-          maven-surefire-plugin: 2.22.1\n+      version:", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjE0OTU5OQ=="}, "originalCommit": {"oid": "41dbc98be35ee13658eb323961582ed06ad3ae75"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjE4NDgyNQ==", "bodyText": "Ok I made the change in a new commit", "url": "https://github.com/quarkusio/quarkus/pull/11235#discussion_r466184825", "createdAt": "2020-08-06T06:55:44Z", "author": {"login": "ia3andy"}, "path": "devtools/platform-descriptor-json/src/main/resources/bundled-codestarts/buildtool/maven/codestart.yml", "diffHunk": "@@ -2,16 +2,19 @@\n name: maven\n type: buildtool\n fallback: true\n+output-strategy:\n+  \"mvnw\": \"executable\"\n+  \"mvnw.cmd\": \"executable\"\n language:\n   base:\n     data:\n-      maven:\n-        version:\n-          kotlin: 1.3.72\n-          scala: 2.12.8\n-          scala-maven-plugin: 4.1.1\n-          maven-compiler-plugin: 3.8.1\n-          maven-surefire-plugin: 2.22.1\n+      version:", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjE0OTU5OQ=="}, "originalCommit": {"oid": "41dbc98be35ee13658eb323961582ed06ad3ae75"}, "originalPosition": 17}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkxMjcwMTA0OnYy", "diffSide": "RIGHT", "path": "integration-tests/devtools/src/test/java/io/quarkus/devtools/codestarts/CodestartProjectTestRunner.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxMDo0NzoyMVrOG8uWfQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxMDo0NzoyMVrOG8uWfQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjMyNzE2NQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                throw new IllegalStateException(\"No wrapper linked ot that buildtool: \" + buildtool);\n          \n          \n            \n                                throw new IllegalStateException(\"No wrapper linked to buildtool: \" + buildtool);", "url": "https://github.com/quarkusio/quarkus/pull/11235#discussion_r466327165", "createdAt": "2020-08-06T10:47:21Z", "author": {"login": "maxandersen"}, "path": "integration-tests/devtools/src/test/java/io/quarkus/devtools/codestarts/CodestartProjectTestRunner.java", "diffHunk": "@@ -0,0 +1,74 @@\n+package io.quarkus.devtools.codestarts;\n+\n+import java.io.IOException;\n+import java.io.UncheckedIOException;\n+import java.nio.file.Path;\n+import java.util.Arrays;\n+import java.util.LinkedList;\n+import java.util.List;\n+import java.util.Locale;\n+import java.util.concurrent.TimeUnit;\n+\n+import io.quarkus.deployment.util.ProcessUtil;\n+\n+public final class CodestartProjectTestRunner {\n+\n+    enum Wrapper {\n+        GRADLE(\"gradlew\", \"gradlew.bat\", new String[] { \"--no-daemon\", \"build\" }),\n+        MAVEN(\"mvnw\", \"mvnw.cmd\", new String[] { \"package\" });\n+\n+        private final String execUnix;\n+        private final String execWindows;\n+        private final String[] cmdArgs;\n+\n+        Wrapper(String execUnix, String execWindows, String[] cmdArgs) {\n+            this.execUnix = execUnix;\n+            this.execWindows = execWindows;\n+            this.cmdArgs = cmdArgs;\n+        }\n+\n+        public String getExec() {\n+            return System.getProperty(\"os.name\").toLowerCase(Locale.ENGLISH).contains(\"windows\") ? execWindows : execUnix;\n+        }\n+\n+        public String[] getCmdArgs() {\n+            return cmdArgs;\n+        }\n+\n+        public static Wrapper fromBuildtool(String buildtool) {\n+            switch (buildtool) {\n+                case \"maven\":\n+                    return MAVEN;\n+                case \"gradle\":\n+                    return GRADLE;\n+                default:\n+                    throw new IllegalStateException(\"No wrapper linked ot that buildtool: \" + buildtool);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "275a30ab7bf7499e3097c621282471da9fcc0e10"}, "originalPosition": 45}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 685, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}