{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgzNTEyMzQ5", "number": 7560, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNFQxMjozNDoxNVrODlBr-g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNFQxMjozNDoxNVrODlBr-g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQwMTUxNTQ2OnYy", "diffSide": "RIGHT", "path": "independent-projects/qute/core/src/main/java/io/quarkus/qute/LoopSectionHelper.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNFQxMjozNDoxNVrOFxrfZQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNFQxMzowMzozNFrOFxsZUQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzYzNzA5Mw==", "bodyText": "No biggie but maybe the null check could be the first statement to check in this if-else chain", "url": "https://github.com/quarkusio/quarkus/pull/7560#discussion_r387637093", "createdAt": "2020-03-04T12:34:15Z", "author": {"login": "gastaldi"}, "path": "independent-projects/qute/core/src/main/java/io/quarkus/qute/LoopSectionHelper.java", "diffHunk": "@@ -40,12 +41,16 @@\n             Iterator<?> iterator;\n             if (it instanceof Iterable) {\n                 iterator = ((Iterable<?>) it).iterator();\n+            } else if (it instanceof Iterator) {\n+                iterator = (Iterator<?>) it;\n             } else if (it instanceof Map) {\n                 iterator = ((Map<?, ?>) it).entrySet().iterator();\n             } else if (it instanceof Stream) {\n                 iterator = ((Stream<?>) it).sequential().iterator();\n             } else if (it instanceof Integer) {\n                 iterator = IntStream.rangeClosed(1, (Integer) it).iterator();\n+            } else if (it != null && it.getClass().isArray()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8ed3f86aebb49d7bdada180100710f41f1df6044"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzY1MDUwMQ==", "bodyText": "Well, instanceof handles null values so I don't think it would help in any way...  also the IllegalStateException should be the same for null and types that are not considered iterable. WDYT?", "url": "https://github.com/quarkusio/quarkus/pull/7560#discussion_r387650501", "createdAt": "2020-03-04T13:00:48Z", "author": {"login": "mkouba"}, "path": "independent-projects/qute/core/src/main/java/io/quarkus/qute/LoopSectionHelper.java", "diffHunk": "@@ -40,12 +41,16 @@\n             Iterator<?> iterator;\n             if (it instanceof Iterable) {\n                 iterator = ((Iterable<?>) it).iterator();\n+            } else if (it instanceof Iterator) {\n+                iterator = (Iterator<?>) it;\n             } else if (it instanceof Map) {\n                 iterator = ((Map<?, ?>) it).entrySet().iterator();\n             } else if (it instanceof Stream) {\n                 iterator = ((Stream<?>) it).sequential().iterator();\n             } else if (it instanceof Integer) {\n                 iterator = IntStream.rangeClosed(1, (Integer) it).iterator();\n+            } else if (it != null && it.getClass().isArray()) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzYzNzA5Mw=="}, "originalCommit": {"oid": "8ed3f86aebb49d7bdada180100710f41f1df6044"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzY1MTkyMQ==", "bodyText": "Hm, I can try to improve the readability a little bit..", "url": "https://github.com/quarkusio/quarkus/pull/7560#discussion_r387651921", "createdAt": "2020-03-04T13:03:34Z", "author": {"login": "mkouba"}, "path": "independent-projects/qute/core/src/main/java/io/quarkus/qute/LoopSectionHelper.java", "diffHunk": "@@ -40,12 +41,16 @@\n             Iterator<?> iterator;\n             if (it instanceof Iterable) {\n                 iterator = ((Iterable<?>) it).iterator();\n+            } else if (it instanceof Iterator) {\n+                iterator = (Iterator<?>) it;\n             } else if (it instanceof Map) {\n                 iterator = ((Map<?, ?>) it).entrySet().iterator();\n             } else if (it instanceof Stream) {\n                 iterator = ((Stream<?>) it).sequential().iterator();\n             } else if (it instanceof Integer) {\n                 iterator = IntStream.rangeClosed(1, (Integer) it).iterator();\n+            } else if (it != null && it.getClass().isArray()) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzYzNzA5Mw=="}, "originalCommit": {"oid": "8ed3f86aebb49d7bdada180100710f41f1df6044"}, "originalPosition": 20}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4887, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}