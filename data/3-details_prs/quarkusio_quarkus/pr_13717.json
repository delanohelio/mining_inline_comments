{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTMyODI3NTEw", "number": 13717, "title": "DevMojo invokes other goals only if those are actually configured", "bodyText": "Includes a fix to DevMojoIT.testCommandMode* when ANSI escape sequences are logged.\nCame up here: #13671 (comment)", "createdAt": "2020-12-04T22:35:06Z", "url": "https://github.com/quarkusio/quarkus/pull/13717", "merged": true, "mergeCommit": {"oid": "79ae8446b81540dce83d37d1c8dbab34c0004359"}, "closed": true, "closedAt": "2020-12-05T07:45:25Z", "author": {"login": "famod"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdi_mr0AFqTU0NTM0Mzk0Mw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdi_0XygBqjQwNzQ3ODU3OTI=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ1MzQzOTQz", "url": "https://github.com/quarkusio/quarkus/pull/13717#pullrequestreview-545343943", "createdAt": "2020-12-04T22:36:56Z", "commit": {"oid": "3926790f039f420dfc9fcb94bedb38ed77f4868b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQyMjozNjo1NlrOH_kxDA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQyMjozNjo1NlrOH_kxDA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjQyNDcxNg==", "bodyText": "Not ideal, but I did not find a better way to check whether the generate-code is actually invoked (without adding gRPC).\nI could also add the inverse case and check that the message is logged, but then again there are already so many test projects and DevMojoIT already takes > 10 mins. \ud83e\udd37\u200d\u2642\ufe0f", "url": "https://github.com/quarkusio/quarkus/pull/13717#discussion_r536424716", "createdAt": "2020-12-04T22:36:56Z", "author": {"login": "famod"}, "path": "integration-tests/maven/src/test/java/io/quarkus/maven/it/DevMojoIT.java", "diffHunk": "@@ -905,4 +904,16 @@ public void testThatDependencyInParentIsEvaluated() throws IOException, MavenInv\n         testDir = initProject(\"projects/multimodule-parent-dep\");\n         runAndCheck();\n     }\n+\n+    @Test\n+    public void testThatGenerateCodeGoalIsNotTriggeredIfNotConfigured() throws IOException, MavenInvocationException {\n+        testDir = initProject(\"projects/classic-no-generate\");\n+        // the skip parameter triggers a log statement by the generate goal,\n+        // otherwise there would be no way to tell from the logfile that the goal was invoked\n+        runAndCheck(false, \"-Dquarkus.generate-code.skip=true\");\n+\n+        assertThat(running.log()).doesNotContain(\"Skipping Quarkus code generation\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3926790f039f420dfc9fcb94bedb38ed77f4868b"}, "originalPosition": 66}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ1MzQ4MDYy", "url": "https://github.com/quarkusio/quarkus/pull/13717#pullrequestreview-545348062", "createdAt": "2020-12-04T22:47:03Z", "commit": {"oid": "3926790f039f420dfc9fcb94bedb38ed77f4868b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9aa58d43fdc3b569a59e5503206cd30b1431d43f", "author": {"user": {"login": "famod", "name": "Falko Modler"}}, "url": "https://github.com/quarkusio/quarkus/commit/9aa58d43fdc3b569a59e5503206cd30b1431d43f", "committedDate": "2020-12-04T22:51:48Z", "message": "DevMojo invokes other goals only if those are actually configured\n\nIncludes a fix to DevMojoIT.testCommandMode* when ANSI escape sequences are logged."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3926790f039f420dfc9fcb94bedb38ed77f4868b", "author": {"user": {"login": "famod", "name": "Falko Modler"}}, "url": "https://github.com/quarkusio/quarkus/commit/3926790f039f420dfc9fcb94bedb38ed77f4868b", "committedDate": "2020-12-04T22:32:22Z", "message": "DevMojo invokes other goals only if those are actually configured\n\nIncludes a fix to DevMojoIT.testCommandMode* when ANSI escape sequences are logged."}, "afterCommit": {"oid": "9aa58d43fdc3b569a59e5503206cd30b1431d43f", "author": {"user": {"login": "famod", "name": "Falko Modler"}}, "url": "https://github.com/quarkusio/quarkus/commit/9aa58d43fdc3b569a59e5503206cd30b1431d43f", "committedDate": "2020-12-04T22:51:48Z", "message": "DevMojo invokes other goals only if those are actually configured\n\nIncludes a fix to DevMojoIT.testCommandMode* when ANSI escape sequences are logged."}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1247, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}