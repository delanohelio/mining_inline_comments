{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY5MzM5ODEw", "number": 11437, "title": "Support Flyway ignoreMissingMigrations config", "bodyText": "Fixes #11421", "createdAt": "2020-08-18T09:48:53Z", "url": "https://github.com/quarkusio/quarkus/pull/11437", "merged": true, "mergeCommit": {"oid": "b6838c11be5c7eb7902b09fb1055ffdeedd362b6"}, "closed": true, "closedAt": "2020-08-18T17:14:14Z", "author": {"login": "knutwannheden"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdAEGHSAFqTQ2OTE3NjkwNQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdAGWP5AFqTQ2OTQxNTEyNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY5MTc2OTA1", "url": "https://github.com/quarkusio/quarkus/pull/11437#pullrequestreview-469176905", "createdAt": "2020-08-18T10:02:21Z", "commit": {"oid": "6b4973deaa5eb2bdbe32acd841e23758a11b4f6d"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOFQxMDowMjoyMVrOHCMeLg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOFQxMDowMzowNFrOHCMfsA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjA2MzUzNA==", "bodyText": "There is something wrong here.", "url": "https://github.com/quarkusio/quarkus/pull/11437#discussion_r472063534", "createdAt": "2020-08-18T10:02:21Z", "author": {"login": "gsmet"}, "path": "extensions/flyway/runtime/src/test/java/io/quarkus/flyway/runtime/FlywayCreatorTest.java", "diffHunk": "@@ -169,7 +169,7 @@ void testValidateOnMigrate() {\n \n     @Test\n     @DisplayName(\"outOfOrder is correctly set\")\n-    void testOutOfOrder() {\n+    void testIgnoreMissing() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6b4973deaa5eb2bdbe32acd841e23758a11b4f6d"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjA2MzcwNw==", "bodyText": "And then here. The test names are inconsistent.", "url": "https://github.com/quarkusio/quarkus/pull/11437#discussion_r472063707", "createdAt": "2020-08-18T10:02:39Z", "author": {"login": "gsmet"}, "path": "extensions/flyway/runtime/src/test/java/io/quarkus/flyway/runtime/FlywayCreatorTest.java", "diffHunk": "@@ -179,6 +179,18 @@ void testOutOfOrder() {\n         assertTrue(createdFlywayConfig().isOutOfOrder());\n     }\n \n+    @Test\n+    @DisplayName(\"ignoreMissingMigrations is correctly set\")\n+    void testOutOfOrder() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6b4973deaa5eb2bdbe32acd841e23758a11b4f6d"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjA2MzkyMA==", "bodyText": "Very minor but could you put step and will fail on the same line?", "url": "https://github.com/quarkusio/quarkus/pull/11437#discussion_r472063920", "createdAt": "2020-08-18T10:03:04Z", "author": {"login": "gsmet"}, "path": "extensions/flyway/runtime/src/main/java/io/quarkus/flyway/runtime/FlywayDataSourceRuntimeConfig.java", "diffHunk": "@@ -108,6 +108,15 @@ public static final FlywayDataSourceRuntimeConfig defaultConfig() {\n     @ConfigItem\n     public boolean outOfOrder;\n \n+    /**\n+     * Ignore missing migrations when reading the history table. When set to true any migration present in the history table but\n+     * absent in the configured locations will be ignored (and logged as a warning), when false (the default) the validation\n+     * step\n+     * will fail.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6b4973deaa5eb2bdbe32acd841e23758a11b4f6d"}, "originalPosition": 8}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "114f7a366b9e9b31f93848a821752fc8189dc0b6", "author": {"user": {"login": "knutwannheden", "name": "Knut Wannheden"}}, "url": "https://github.com/quarkusio/quarkus/commit/114f7a366b9e9b31f93848a821752fc8189dc0b6", "committedDate": "2020-08-18T12:21:07Z", "message": "Support Flyway ignoreMissingMigrations config\n\nFixes #11421"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e4cad401658120a688ae5f0963ac33f5900d32e3", "author": {"user": {"login": "knutwannheden", "name": "Knut Wannheden"}}, "url": "https://github.com/quarkusio/quarkus/commit/e4cad401658120a688ae5f0963ac33f5900d32e3", "committedDate": "2020-08-18T11:12:13Z", "message": "Minor cleanups"}, "afterCommit": {"oid": "114f7a366b9e9b31f93848a821752fc8189dc0b6", "author": {"user": {"login": "knutwannheden", "name": "Knut Wannheden"}}, "url": "https://github.com/quarkusio/quarkus/commit/114f7a366b9e9b31f93848a821752fc8189dc0b6", "committedDate": "2020-08-18T12:21:07Z", "message": "Support Flyway ignoreMissingMigrations config\n\nFixes #11421"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY5NDE1MTI1", "url": "https://github.com/quarkusio/quarkus/pull/11437#pullrequestreview-469415125", "createdAt": "2020-08-18T12:40:58Z", "commit": {"oid": "114f7a366b9e9b31f93848a821752fc8189dc0b6"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 803, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}