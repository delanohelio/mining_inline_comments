{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTAwMTE5NzEy", "number": 12610, "title": "Externalize gradle/maven wrapper command from codestart template", "bodyText": "This branch aims to externalize the build tool command used in the generated github action workflow.\n@ia3andy I added a field build-cmd which could be used by all command such as:\ncmd:\n      dev: ${buildtool.cmd.build-cmd} compile quarkus:dev\n      package: ${buildtool.cmd.build-cmd} package\n\nBut I don't know if this is the goal.\nalso, I don't how to test if my code is correct, could you give me pointers to validate it ? thanks :)\nclose #12438", "createdAt": "2020-10-08T18:52:50Z", "url": "https://github.com/quarkusio/quarkus/pull/12610", "merged": true, "mergeCommit": {"oid": "c7713bed779fe9a5a2dd2810e82c58b7ce8f8935"}, "closed": true, "closedAt": "2020-10-15T07:36:09Z", "author": {"login": "glefloch"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdREzDgABqjM4NjI0MzY3Nzg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdSg0LzAFqTUwODU4MzkwNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "649d7585ac914b963085a173914e1c92131a3c09", "author": {"user": {"login": "glefloch", "name": "Guillaume Le Floch"}}, "url": "https://github.com/quarkusio/quarkus/commit/649d7585ac914b963085a173914e1c92131a3c09", "committedDate": "2020-10-08T18:47:24Z", "message": "Externaliza gradle/maven command"}, "afterCommit": {"oid": "cb5fa666695413a8345c5f46a8a23b9bb9514e9e", "author": {"user": {"login": "glefloch", "name": "Guillaume Le Floch"}}, "url": "https://github.com/quarkusio/quarkus/commit/cb5fa666695413a8345c5f46a8a23b9bb9514e9e", "committedDate": "2020-10-10T06:28:57Z", "message": "Externaliza gradle/maven command"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "cb5fa666695413a8345c5f46a8a23b9bb9514e9e", "author": {"user": {"login": "glefloch", "name": "Guillaume Le Floch"}}, "url": "https://github.com/quarkusio/quarkus/commit/cb5fa666695413a8345c5f46a8a23b9bb9514e9e", "committedDate": "2020-10-10T06:28:57Z", "message": "Externaliza gradle/maven command"}, "afterCommit": {"oid": "4cf3a7f1096786ebf395e1f3d44803c73ae9574d", "author": {"user": {"login": "glefloch", "name": "Guillaume Le Floch"}}, "url": "https://github.com/quarkusio/quarkus/commit/4cf3a7f1096786ebf395e1f3d44803c73ae9574d", "committedDate": "2020-10-12T15:29:43Z", "message": "Externaliza gradle/maven command"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA3MjYwMDE0", "url": "https://github.com/quarkusio/quarkus/pull/12610#pullrequestreview-507260014", "createdAt": "2020-10-13T09:48:36Z", "commit": {"oid": "4cf3a7f1096786ebf395e1f3d44803c73ae9574d"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QwOTo0ODozNlrOHgelKQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QwOTo1Mjo1N1rOHgevug==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzgxNzUxMw==", "bodyText": "you can remove data tool", "url": "https://github.com/quarkusio/quarkus/pull/12610#discussion_r503817513", "createdAt": "2020-10-13T09:48:36Z", "author": {"login": "ia3andy"}, "path": "devtools/platform-descriptor-json/src/main/resources/codestarts/quarkus/core/buildtool/gradle/codestart.yml", "diffHunk": "@@ -13,6 +13,8 @@ language:\n         gradle-plugin:\n           id: io.quarkus\n       buildtool:\n+        tool: gradle", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4cf3a7f1096786ebf395e1f3d44803c73ae9574d"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzgxNzc1Ng==", "bodyText": "you can also remove data wrapper", "url": "https://github.com/quarkusio/quarkus/pull/12610#discussion_r503817756", "createdAt": "2020-10-13T09:48:58Z", "author": {"login": "ia3andy"}, "path": "devtools/platform-descriptor-json/src/main/resources/codestarts/quarkus/core/buildtool/gradle/codestart.yml", "diffHunk": "@@ -13,6 +13,8 @@ language:\n         gradle-plugin:\n           id: io.quarkus\n       buildtool:\n+        tool: gradle\n+        wrapper: false", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4cf3a7f1096786ebf395e1f3d44803c73ae9574d"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzgxNzgzMQ==", "bodyText": "same", "url": "https://github.com/quarkusio/quarkus/pull/12610#discussion_r503817831", "createdAt": "2020-10-13T09:49:07Z", "author": {"login": "ia3andy"}, "path": "devtools/platform-descriptor-json/src/main/resources/codestarts/quarkus/core/buildtool/maven/codestart.yml", "diffHunk": "@@ -19,6 +19,8 @@ language:\n         version: 2.22.1\n     shared-data:\n       buildtool:\n+        tool: maven\n+        wrapper: false", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4cf3a7f1096786ebf395e1f3d44803c73ae9574d"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzgxODQ0NA==", "bodyText": "{#if buildtool.build-ci-cmd == 'gradle'}\n...", "url": "https://github.com/quarkusio/quarkus/pull/12610#discussion_r503818444", "createdAt": "2020-10-13T09:50:02Z", "author": {"login": "ia3andy"}, "path": "devtools/platform-descriptor-json/src/main/resources/codestarts/quarkus/core/tooling/github-action/base/.github/workflows/ci.tpl.qute.yml", "diffHunk": "@@ -18,4 +18,10 @@ jobs:\n         with:\n           java-version: {java.version}\n       - name: Build\n-        run: {buildtool.cmd.build-ci}\n\\ No newline at end of file\n+        {#if buildtool.tool == 'gradle' && !buildtool.wrapper}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4cf3a7f1096786ebf395e1f3d44803c73ae9574d"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzgxODUxMg==", "bodyText": "remove", "url": "https://github.com/quarkusio/quarkus/pull/12610#discussion_r503818512", "createdAt": "2020-10-13T09:50:10Z", "author": {"login": "ia3andy"}, "path": "devtools/platform-descriptor-json/src/main/resources/codestarts/quarkus/core/tooling/gradle-wrapper/codestart.yml", "diffHunk": "@@ -7,10 +7,13 @@ language:\n         version: 6.5.1\n     shared-data:\n       buildtool:\n+        tool: gradle\n+        wrapper: true", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4cf3a7f1096786ebf395e1f3d44803c73ae9574d"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzgxODU3Mg==", "bodyText": "remove", "url": "https://github.com/quarkusio/quarkus/pull/12610#discussion_r503818572", "createdAt": "2020-10-13T09:50:17Z", "author": {"login": "ia3andy"}, "path": "devtools/platform-descriptor-json/src/main/resources/codestarts/quarkus/core/tooling/maven-wrapper/codestart.yml", "diffHunk": "@@ -8,10 +8,13 @@ language:\n         wrapper-version: 0.5.6\n     shared-data:\n       buildtool:\n+        tool: maven\n+        wrapper: true", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4cf3a7f1096786ebf395e1f3d44803c73ae9574d"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzgxOTI3MA==", "bodyText": "I think those tests would fit better in QuarkusCodestartGenerationTest, QuarkusCodestartRunIT is there to run the generated codestarts..", "url": "https://github.com/quarkusio/quarkus/pull/12610#discussion_r503819270", "createdAt": "2020-10-13T09:51:22Z", "author": {"login": "ia3andy"}, "path": "integration-tests/devtools/src/test/java/io/quarkus/devtools/codestarts/QuarkusCodestartRunIT.java", "diffHunk": "@@ -93,6 +94,49 @@ public void generateAzureFunctionsHttpExampleProjectRun() throws Exception {\n                 Collections.emptyMap());\n     }\n \n+    @Test\n+    public void generateGradleWrapperGithubAction() throws Exception {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4cf3a7f1096786ebf395e1f3d44803c73ae9574d"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzgyMDIxOA==", "bodyText": "You need to also add build-ci-cmd and build-ci-args to the devtools/platform-descriptor-json/src/main/resources/codestarts/quarkus/core/buildtool/gradle-kotlin-dsl/codestart.yml codestart", "url": "https://github.com/quarkusio/quarkus/pull/12610#discussion_r503820218", "createdAt": "2020-10-13T09:52:57Z", "author": {"login": "ia3andy"}, "path": "devtools/platform-descriptor-json/src/main/resources/codestarts/quarkus/core/buildtool/gradle/codestart.yml", "diffHunk": "@@ -22,7 +24,8 @@ language:\n           package-uberjar: gradle quarkusBuild --uber-jar\n           package-native: gradle build -Dquarkus.package.type=native\n           package-native-container: gradle build -Dquarkus.package.type=native -Dquarkus.native.container-build=true\n-          build-ci: gradle build\n+          build-ci-cmd: gradle", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4cf3a7f1096786ebf395e1f3d44803c73ae9574d"}, "originalPosition": 14}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4cf3a7f1096786ebf395e1f3d44803c73ae9574d", "author": {"user": {"login": "glefloch", "name": "Guillaume Le Floch"}}, "url": "https://github.com/quarkusio/quarkus/commit/4cf3a7f1096786ebf395e1f3d44803c73ae9574d", "committedDate": "2020-10-12T15:29:43Z", "message": "Externaliza gradle/maven command"}, "afterCommit": {"oid": "647a3e0e2bbf3bc4bdf34122c937a0b254ff7ecf", "author": {"user": {"login": "glefloch", "name": "Guillaume Le Floch"}}, "url": "https://github.com/quarkusio/quarkus/commit/647a3e0e2bbf3bc4bdf34122c937a0b254ff7ecf", "committedDate": "2020-10-13T19:36:47Z", "message": "Externaliza gradle/maven command"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA4MTAzMzMy", "url": "https://github.com/quarkusio/quarkus/pull/12610#pullrequestreview-508103332", "createdAt": "2020-10-14T08:19:14Z", "commit": {"oid": "647a3e0e2bbf3bc4bdf34122c937a0b254ff7ecf"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQwODoxOToxNFrOHhHl3A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQwODoxOToxNFrOHhHl3A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDQ4OTQzNg==", "bodyText": "@glefloch why keeping args for this one only?", "url": "https://github.com/quarkusio/quarkus/pull/12610#discussion_r504489436", "createdAt": "2020-10-14T08:19:14Z", "author": {"login": "ia3andy"}, "path": "devtools/platform-descriptor-json/src/main/resources/codestarts/quarkus/core/buildtool/gradle-kotlin-dsl/codestart.yml", "diffHunk": "@@ -14,15 +14,16 @@ language:\n           id: io.quarkus\n       buildtool:\n         build-dir: build\n+        cli: gradle\n         guide: https://quarkus.io/guides/gradle-tooling\n         guide-native: https://quarkus.io/guides/gradle-tooling#building-a-native-executable\n         cmd:\n-          dev: gradle quarkusDev\n-          package: gradle quarkusBuild\n-          package-uberjar: gradle quarkusBuild --uber-jar\n-          package-native: gradle build -Dquarkus.package.type=native\n-          package-native-container: gradle build -Dquarkus.package.type=native -Dquarkus.native.container-build=true\n-          build-ci: gradle build\n+          dev: quarkusDev\n+          package: quarkusBuild\n+          package-uberjar: quarkusBuild --uber-jar\n+          package-native: build -Dquarkus.package.type=native\n+          package-native-container: build -Dquarkus.package.type=native -Dquarkus.native.container-build=true\n+          build-ci-args: build", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "647a3e0e2bbf3bc4bdf34122c937a0b254ff7ecf"}, "originalPosition": 19}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA4MTA0Nzgz", "url": "https://github.com/quarkusio/quarkus/pull/12610#pullrequestreview-508104783", "createdAt": "2020-10-14T08:21:05Z", "commit": {"oid": "647a3e0e2bbf3bc4bdf34122c937a0b254ff7ecf"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "647a3e0e2bbf3bc4bdf34122c937a0b254ff7ecf", "author": {"user": {"login": "glefloch", "name": "Guillaume Le Floch"}}, "url": "https://github.com/quarkusio/quarkus/commit/647a3e0e2bbf3bc4bdf34122c937a0b254ff7ecf", "committedDate": "2020-10-13T19:36:47Z", "message": "Externaliza gradle/maven command"}, "afterCommit": {"oid": "97663c6112c56cbba6db7127bf83caba74b0e746", "author": {"user": {"login": "glefloch", "name": "Guillaume Le Floch"}}, "url": "https://github.com/quarkusio/quarkus/commit/97663c6112c56cbba6db7127bf83caba74b0e746", "committedDate": "2020-10-14T08:33:39Z", "message": "Externaliza gradle/maven command"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "97663c6112c56cbba6db7127bf83caba74b0e746", "author": {"user": {"login": "glefloch", "name": "Guillaume Le Floch"}}, "url": "https://github.com/quarkusio/quarkus/commit/97663c6112c56cbba6db7127bf83caba74b0e746", "committedDate": "2020-10-14T08:33:39Z", "message": "Externaliza gradle/maven command"}, "afterCommit": {"oid": "de44915394bc0ee2db23769a5a668cb77958fb7e", "author": {"user": {"login": "glefloch", "name": "Guillaume Le Floch"}}, "url": "https://github.com/quarkusio/quarkus/commit/de44915394bc0ee2db23769a5a668cb77958fb7e", "committedDate": "2020-10-14T09:59:31Z", "message": "Externaliza gradle/maven command"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a917d81c5fd6f4aeb58052045a90b0e214eebc10", "author": {"user": {"login": "glefloch", "name": "Guillaume Le Floch"}}, "url": "https://github.com/quarkusio/quarkus/commit/a917d81c5fd6f4aeb58052045a90b0e214eebc10", "committedDate": "2020-10-14T16:50:37Z", "message": "Externaliza gradle/maven command"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "de44915394bc0ee2db23769a5a668cb77958fb7e", "author": {"user": {"login": "glefloch", "name": "Guillaume Le Floch"}}, "url": "https://github.com/quarkusio/quarkus/commit/de44915394bc0ee2db23769a5a668cb77958fb7e", "committedDate": "2020-10-14T09:59:31Z", "message": "Externaliza gradle/maven command"}, "afterCommit": {"oid": "a917d81c5fd6f4aeb58052045a90b0e214eebc10", "author": {"user": {"login": "glefloch", "name": "Guillaume Le Floch"}}, "url": "https://github.com/quarkusio/quarkus/commit/a917d81c5fd6f4aeb58052045a90b0e214eebc10", "committedDate": "2020-10-14T16:50:37Z", "message": "Externaliza gradle/maven command"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA4NTgzOTA2", "url": "https://github.com/quarkusio/quarkus/pull/12610#pullrequestreview-508583906", "createdAt": "2020-10-14T17:41:50Z", "commit": {"oid": "a917d81c5fd6f4aeb58052045a90b0e214eebc10"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1741, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}