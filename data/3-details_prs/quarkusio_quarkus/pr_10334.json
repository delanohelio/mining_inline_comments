{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQxMzM1NzIx", "number": 10334, "title": "Make Elytron Security extensions config overridable at runtime", "bodyText": "Fixes #10259\nAlso allow anonymous bind for the LDAP extension.", "createdAt": "2020-06-29T11:23:51Z", "url": "https://github.com/quarkusio/quarkus/pull/10334", "merged": true, "mergeCommit": {"oid": "ce2e424d4c517c8c15eefda3028d86f9cf110bda"}, "closed": true, "closedAt": "2020-06-30T08:04:59Z", "author": {"login": "gsmet"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcv9wuQgH2gAyNDQxMzM1NzIxOmI0MGE2YjY2M2MwY2Q1M2IxODFiYmU4Mzg3NDdjODRkMWU4YWMzMDA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcwIsRvgFqTQzOTU0MjQxMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "b40a6b663c0cd53b181bbe838747c84d1e8ac300", "author": {"user": {"login": "gsmet", "name": "Guillaume Smet"}}, "url": "https://github.com/quarkusio/quarkus/commit/b40a6b663c0cd53b181bbe838747c84d1e8ac300", "committedDate": "2020-06-29T09:37:57Z", "message": "Separate build time and runtime configuration for Elytron Security OAuth2"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c1f25f64a88e0c64596da8f479609e1b68b7a2f5", "author": {"user": {"login": "gsmet", "name": "Guillaume Smet"}}, "url": "https://github.com/quarkusio/quarkus/commit/c1f25f64a88e0c64596da8f479609e1b68b7a2f5", "committedDate": "2020-06-29T09:37:57Z", "message": "Separate build time and runtime configuration for Elytron Security JDBC"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3ffed5ff3fb4aaaaeb7e0999259691e67ecf2468", "author": {"user": {"login": "gsmet", "name": "Guillaume Smet"}}, "url": "https://github.com/quarkusio/quarkus/commit/3ffed5ff3fb4aaaaeb7e0999259691e67ecf2468", "committedDate": "2020-06-29T09:37:57Z", "message": "Separate build time and runtime configuration for Elytron Security LDAP"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7b5790c9204da0566edeefa9d26ff1b2f2238bf2", "author": {"user": {"login": "gsmet", "name": "Guillaume Smet"}}, "url": "https://github.com/quarkusio/quarkus/commit/7b5790c9204da0566edeefa9d26ff1b2f2238bf2", "committedDate": "2020-06-29T09:44:15Z", "message": "Allow anonymous bind for Elytron Security LDAP"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM5MDQzMzYz", "url": "https://github.com/quarkusio/quarkus/pull/10334#pullrequestreview-439043363", "createdAt": "2020-06-29T11:26:10Z", "commit": {"oid": "7b5790c9204da0566edeefa9d26ff1b2f2238bf2"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOVQxMToyNjoxMFrOGqMaog==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOVQxMToyNjoxMFrOGqMaog==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Njg5NjgwMg==", "bodyText": "Perhaps also make this a build step parameter?", "url": "https://github.com/quarkusio/quarkus/pull/10334#discussion_r446896802", "createdAt": "2020-06-29T11:26:10Z", "author": {"login": "geoand"}, "path": "extensions/elytron-security-jdbc/deployment/src/main/java/io/quarkus/elytron/security/jdbc/deployment/ElytronSecurityJdbcProcessor.java", "diffHunk": "@@ -17,13 +17,12 @@\n import io.quarkus.elytron.security.deployment.ElytronPasswordMarkerBuildItem;\n import io.quarkus.elytron.security.deployment.SecurityRealmBuildItem;\n import io.quarkus.elytron.security.jdbc.JdbcRecorder;\n-import io.quarkus.elytron.security.jdbc.JdbcSecurityRealmConfig;\n+import io.quarkus.elytron.security.jdbc.JdbcSecurityRealmBuildTimeConfig;\n+import io.quarkus.elytron.security.jdbc.JdbcSecurityRealmRuntimeConfig;\n import io.quarkus.runtime.RuntimeValue;\n \n class ElytronSecurityJdbcProcessor {\n \n-    JdbcSecurityRealmConfig jdbc;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7b5790c9204da0566edeefa9d26ff1b2f2238bf2"}, "originalPosition": 11}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM5MTQxMDkx", "url": "https://github.com/quarkusio/quarkus/pull/10334#pullrequestreview-439141091", "createdAt": "2020-06-29T13:26:51Z", "commit": {"oid": "7b5790c9204da0566edeefa9d26ff1b2f2238bf2"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOVQxMzoyNjo1MVrOGqQ4dg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOVQxMzoyNjo1MVrOGqQ4dg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Njk2OTk3NA==", "bodyText": "I'm not 100% sure about the implications of allowing the anonymous LDAP binds OOB. I've looked around, for example, https://www.acunetix.com/vulnerabilities/web/ldap-anonymous-binds/. I guess it should be OK in some cases, but may be we should have a boolean allow-anonymous-bind (false by default) ? This will let the empty principal/password be accepted only if the user has explicitly requested it by having allow-anonymous-bind=true ? Without it, with Optional we don't know if it is a user mistake or an intentional decision...", "url": "https://github.com/quarkusio/quarkus/pull/10334#discussion_r446969974", "createdAt": "2020-06-29T13:26:51Z", "author": {"login": "sberyozkin"}, "path": "extensions/elytron-security-ldap/runtime/src/main/java/io/quarkus/elytron/security/ldap/LdapRecorder.java", "diffHunk": "@@ -47,8 +47,8 @@\n     private ExceptionSupplier<DirContext, NamingException> createDirContextSupplier(DirContextConfig dirContext) {\n         DirContextFactory dirContextFactory = new QuarkusDirContextFactory(\n                 dirContext.url,\n-                dirContext.principal,\n-                dirContext.password);\n+                dirContext.principal.orElse(null),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7b5790c9204da0566edeefa9d26ff1b2f2238bf2"}, "originalPosition": 43}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM5NTQyNDEx", "url": "https://github.com/quarkusio/quarkus/pull/10334#pullrequestreview-439542411", "createdAt": "2020-06-29T22:22:03Z", "commit": {"oid": "7b5790c9204da0566edeefa9d26ff1b2f2238bf2"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4184, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}