{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk1MDA2MTM4", "number": 8227, "title": "Propagate context inside quarkus-cache async computations", "bodyText": "Fixes #8166", "createdAt": "2020-03-27T23:15:58Z", "url": "https://github.com/quarkusio/quarkus/pull/8227", "merged": true, "mergeCommit": {"oid": "fac9276bc17fdfe0f4aa2c6840a5c6f061716721"}, "closed": true, "closedAt": "2020-04-24T12:49:09Z", "author": {"login": "gwenneg"}, "timelineItems": {"totalCount": 19, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcR5ZDggFqTM4MzI1MjUwNg==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcathznABqjMyNjg0Njc5Mzk=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgzMjUyNTA2", "url": "https://github.com/quarkusio/quarkus/pull/8227#pullrequestreview-383252506", "createdAt": "2020-03-27T23:34:44Z", "commit": {"oid": "e91426dc3b17662878276689bffd43cef9d1e5e6"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yN1QyMzozNDo0NVrOF9EnoA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yN1QyMzozNDo0NVrOF9EnoA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTU4MzEzNg==", "bodyText": "We need to manually propagate the context using the Quarkus ManagedExecutor to fix #8166 and this executor is initialized in generated bytecode executed at ExecutionTime.RUNTIME_INIT. That's why I moved the caches intialization from STATIC_INIT to RUNTIME_INIT here.", "url": "https://github.com/quarkusio/quarkus/pull/8227#discussion_r399583136", "createdAt": "2020-03-27T23:34:45Z", "author": {"login": "gwenneg"}, "path": "extensions/cache/deployment/src/main/java/io/quarkus/cache/deployment/CacheProcessor.java", "diffHunk": "@@ -74,9 +75,9 @@ ValidationErrorBuildItem validateBeanDeployment(ValidationPhaseBuildItem validat\n     }\n \n     @BuildStep\n-    @Record(STATIC_INIT)\n+    @Record(RUNTIME_INIT)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e91426dc3b17662878276689bffd43cef9d1e5e6"}, "originalPosition": 22}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e91426dc3b17662878276689bffd43cef9d1e5e6", "author": {"user": {"login": "gwenneg", "name": "Gwenneg Lepage"}}, "url": "https://github.com/quarkusio/quarkus/commit/e91426dc3b17662878276689bffd43cef9d1e5e6", "committedDate": "2020-03-27T23:12:48Z", "message": "Propagate context inside quarkus-cache async computations"}, "afterCommit": {"oid": "19770d7b13f9eb59f5c28fcffcde4ceb03475867", "author": {"user": {"login": "gwenneg", "name": "Gwenneg Lepage"}}, "url": "https://github.com/quarkusio/quarkus/commit/19770d7b13f9eb59f5c28fcffcde4ceb03475867", "committedDate": "2020-03-28T00:38:16Z", "message": "Propagate context inside quarkus-cache async computations"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "19770d7b13f9eb59f5c28fcffcde4ceb03475867", "author": {"user": {"login": "gwenneg", "name": "Gwenneg Lepage"}}, "url": "https://github.com/quarkusio/quarkus/commit/19770d7b13f9eb59f5c28fcffcde4ceb03475867", "committedDate": "2020-03-28T00:38:16Z", "message": "Propagate context inside quarkus-cache async computations"}, "afterCommit": {"oid": "8ca1ccedc08ee33eb3a3c817c60190d759af991e", "author": {"user": {"login": "gwenneg", "name": "Gwenneg Lepage"}}, "url": "https://github.com/quarkusio/quarkus/commit/8ca1ccedc08ee33eb3a3c817c60190d759af991e", "committedDate": "2020-03-28T23:45:17Z", "message": "Propagate context inside quarkus-cache async computations"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8ca1ccedc08ee33eb3a3c817c60190d759af991e", "author": {"user": {"login": "gwenneg", "name": "Gwenneg Lepage"}}, "url": "https://github.com/quarkusio/quarkus/commit/8ca1ccedc08ee33eb3a3c817c60190d759af991e", "committedDate": "2020-03-28T23:45:17Z", "message": "Propagate context inside quarkus-cache async computations"}, "afterCommit": {"oid": "fdec537c840a37499e5663247379fc4d0c06a7c7", "author": {"user": {"login": "gwenneg", "name": "Gwenneg Lepage"}}, "url": "https://github.com/quarkusio/quarkus/commit/fdec537c840a37499e5663247379fc4d0c06a7c7", "committedDate": "2020-03-29T06:14:35Z", "message": "Propagate context inside quarkus-cache async computations"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "fdec537c840a37499e5663247379fc4d0c06a7c7", "author": {"user": {"login": "gwenneg", "name": "Gwenneg Lepage"}}, "url": "https://github.com/quarkusio/quarkus/commit/fdec537c840a37499e5663247379fc4d0c06a7c7", "committedDate": "2020-03-29T06:14:35Z", "message": "Propagate context inside quarkus-cache async computations"}, "afterCommit": {"oid": "8d2e3a5497cc95699ccd51ad26f656538acf630e", "author": {"user": {"login": "gwenneg", "name": "Gwenneg Lepage"}}, "url": "https://github.com/quarkusio/quarkus/commit/8d2e3a5497cc95699ccd51ad26f656538acf630e", "committedDate": "2020-03-29T06:15:30Z", "message": "Propagate context inside quarkus-cache async computations"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg0MDE4Njgy", "url": "https://github.com/quarkusio/quarkus/pull/8227#pullrequestreview-384018682", "createdAt": "2020-03-30T16:18:48Z", "commit": {"oid": "8d2e3a5497cc95699ccd51ad26f656538acf630e"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMFQxNjoxODo0OFrOF9xppQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMFQxNjoyODoyOFrOF9yD0w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDMyMDkzMw==", "bodyText": "Can we keep the Arc dependency if it's needed by this extension?\nRelying on transitive dependencies is not a good idea if your extension uses directly ArC.", "url": "https://github.com/quarkusio/quarkus/pull/8227#discussion_r400320933", "createdAt": "2020-03-30T16:18:48Z", "author": {"login": "gsmet"}, "path": "extensions/cache/deployment/pom.xml", "diffHunk": "@@ -21,7 +21,7 @@\n         </dependency>\n         <dependency>\n             <groupId>io.quarkus</groupId>\n-            <artifactId>quarkus-arc-deployment</artifactId>\n+            <artifactId>quarkus-smallrye-context-propagation-deployment</artifactId>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8d2e3a5497cc95699ccd51ad26f656538acf630e"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDMyMTQ4MA==", "bodyText": "Same here.", "url": "https://github.com/quarkusio/quarkus/pull/8227#discussion_r400321480", "createdAt": "2020-03-30T16:19:36Z", "author": {"login": "gsmet"}, "path": "extensions/cache/runtime/pom.xml", "diffHunk": "@@ -18,7 +18,7 @@\n     <dependencies>\n         <dependency>\n             <groupId>io.quarkus</groupId>\n-            <artifactId>quarkus-arc</artifactId>\n+            <artifactId>quarkus-smallrye-context-propagation</artifactId>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8d2e3a5497cc95699ccd51ad26f656538acf630e"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDMyNDM1OQ==", "bodyText": "Can't you use the BeanContainer since you pass it?", "url": "https://github.com/quarkusio/quarkus/pull/8227#discussion_r400324359", "createdAt": "2020-03-30T16:23:39Z", "author": {"login": "gsmet"}, "path": "extensions/cache/runtime/src/main/java/io/quarkus/cache/runtime/caffeine/CaffeineCacheBuildRecorder.java", "diffHunk": "@@ -19,14 +21,15 @@ public void buildCaches(BeanContainer beanContainer, Set<CaffeineCacheInfo> cach\n         // The number of caches is known at build time so we can use fixed initialCapacity and loadFactor for the caches map.\n         Map<String, CaffeineCache> caches = new HashMap<>(cacheInfos.size() + 1, 1.0F);\n \n+        ManagedExecutor managedExecutor = Arc.container().instance(ManagedExecutor.class).get();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8d2e3a5497cc95699ccd51ad26f656538acf630e"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDMyNjU3OQ==", "bodyText": "Since it doesn't pass the ManagedExecutor, I would have named it ManagedExecutorInitialized.", "url": "https://github.com/quarkusio/quarkus/pull/8227#discussion_r400326579", "createdAt": "2020-03-30T16:26:55Z", "author": {"login": "gsmet"}, "path": "extensions/smallrye-context-propagation/deployment/src/main/java/io/quarkus/smallrye/context/deployment/ManagedExecutorBuildItem.java", "diffHunk": "@@ -0,0 +1,12 @@\n+package io.quarkus.smallrye.context.deployment;\n+\n+import io.quarkus.builder.item.SimpleBuildItem;\n+\n+/**\n+ * This build item can be injected in an extension {@link io.quarkus.deployment.annotations.BuildStep BuildStep} to make sure\n+ * the Quarkus {@link org.eclipse.microprofile.context.ManagedExecutor ManagedExecutor} instance is available for injection\n+ * during bytecode recording. The executor can only be used from generated bytecode executed at\n+ * {@link io.quarkus.deployment.annotations.ExecutionTime#RUNTIME_INIT ExecutionTime.RUNTIME_INIT}.\n+ */\n+public final class ManagedExecutorBuildItem extends SimpleBuildItem {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8d2e3a5497cc95699ccd51ad26f656538acf630e"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDMyNzYzNQ==", "bodyText": "If we initialize the caches at runtime, it opens the gate for making the cache configuration partly runtime? At least the size of the caches?", "url": "https://github.com/quarkusio/quarkus/pull/8227#discussion_r400327635", "createdAt": "2020-03-30T16:28:28Z", "author": {"login": "gsmet"}, "path": "extensions/cache/deployment/src/main/java/io/quarkus/cache/deployment/CacheProcessor.java", "diffHunk": "@@ -74,9 +75,9 @@ ValidationErrorBuildItem validateBeanDeployment(ValidationPhaseBuildItem validat\n     }\n \n     @BuildStep\n-    @Record(STATIC_INIT)\n+    @Record(RUNTIME_INIT)\n     void recordCachesBuild(CombinedIndexBuildItem combinedIndex, BeanContainerBuildItem beanContainer, CacheConfig config,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8d2e3a5497cc95699ccd51ad26f656538acf630e"}, "originalPosition": 23}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8d2e3a5497cc95699ccd51ad26f656538acf630e", "author": {"user": {"login": "gwenneg", "name": "Gwenneg Lepage"}}, "url": "https://github.com/quarkusio/quarkus/commit/8d2e3a5497cc95699ccd51ad26f656538acf630e", "committedDate": "2020-03-29T06:15:30Z", "message": "Propagate context inside quarkus-cache async computations"}, "afterCommit": {"oid": "92fe28c8e3805720cfbc9e85be5efe5fa01dacf4", "author": {"user": {"login": "gwenneg", "name": "Gwenneg Lepage"}}, "url": "https://github.com/quarkusio/quarkus/commit/92fe28c8e3805720cfbc9e85be5efe5fa01dacf4", "committedDate": "2020-03-30T20:20:17Z", "message": "Propagate context inside quarkus-cache async computations"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "92fe28c8e3805720cfbc9e85be5efe5fa01dacf4", "author": {"user": {"login": "gwenneg", "name": "Gwenneg Lepage"}}, "url": "https://github.com/quarkusio/quarkus/commit/92fe28c8e3805720cfbc9e85be5efe5fa01dacf4", "committedDate": "2020-03-30T20:20:17Z", "message": "Propagate context inside quarkus-cache async computations"}, "afterCommit": {"oid": "b445da9b7b0405151e18a4fef454e4be14f416a4", "author": {"user": {"login": "gwenneg", "name": "Gwenneg Lepage"}}, "url": "https://github.com/quarkusio/quarkus/commit/b445da9b7b0405151e18a4fef454e4be14f416a4", "committedDate": "2020-03-31T11:15:08Z", "message": "Propagate context inside quarkus-cache async computations"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b445da9b7b0405151e18a4fef454e4be14f416a4", "author": {"user": {"login": "gwenneg", "name": "Gwenneg Lepage"}}, "url": "https://github.com/quarkusio/quarkus/commit/b445da9b7b0405151e18a4fef454e4be14f416a4", "committedDate": "2020-03-31T11:15:08Z", "message": "Propagate context inside quarkus-cache async computations"}, "afterCommit": {"oid": "4f6b9a8d7a480c2571e03953f134b2a585a4eb27", "author": {"user": {"login": "gwenneg", "name": "Gwenneg Lepage"}}, "url": "https://github.com/quarkusio/quarkus/commit/4f6b9a8d7a480c2571e03953f134b2a585a4eb27", "committedDate": "2020-03-31T11:32:06Z", "message": "Propagate context inside quarkus-cache async computations"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4f6b9a8d7a480c2571e03953f134b2a585a4eb27", "author": {"user": {"login": "gwenneg", "name": "Gwenneg Lepage"}}, "url": "https://github.com/quarkusio/quarkus/commit/4f6b9a8d7a480c2571e03953f134b2a585a4eb27", "committedDate": "2020-03-31T11:32:06Z", "message": "Propagate context inside quarkus-cache async computations"}, "afterCommit": {"oid": "34c45fac7c4aa1e7b38d5d9ee37aa6d0adf4eb64", "author": {"user": {"login": "gwenneg", "name": "Gwenneg Lepage"}}, "url": "https://github.com/quarkusio/quarkus/commit/34c45fac7c4aa1e7b38d5d9ee37aa6d0adf4eb64", "committedDate": "2020-03-31T19:30:00Z", "message": "Propagate context inside quarkus-cache async computations"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "34c45fac7c4aa1e7b38d5d9ee37aa6d0adf4eb64", "author": {"user": {"login": "gwenneg", "name": "Gwenneg Lepage"}}, "url": "https://github.com/quarkusio/quarkus/commit/34c45fac7c4aa1e7b38d5d9ee37aa6d0adf4eb64", "committedDate": "2020-03-31T19:30:00Z", "message": "Propagate context inside quarkus-cache async computations"}, "afterCommit": {"oid": "c4c15909052704af6310c8ea914164506b82900e", "author": {"user": {"login": "gwenneg", "name": "Gwenneg Lepage"}}, "url": "https://github.com/quarkusio/quarkus/commit/c4c15909052704af6310c8ea914164506b82900e", "committedDate": "2020-03-31T19:32:33Z", "message": "Propagate context inside quarkus-cache async computations"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c4c15909052704af6310c8ea914164506b82900e", "author": {"user": {"login": "gwenneg", "name": "Gwenneg Lepage"}}, "url": "https://github.com/quarkusio/quarkus/commit/c4c15909052704af6310c8ea914164506b82900e", "committedDate": "2020-03-31T19:32:33Z", "message": "Propagate context inside quarkus-cache async computations"}, "afterCommit": {"oid": "146c52a2bcff9e44a3b9662ebc0097ed818ebd5c", "author": {"user": {"login": "gwenneg", "name": "Gwenneg Lepage"}}, "url": "https://github.com/quarkusio/quarkus/commit/146c52a2bcff9e44a3b9662ebc0097ed818ebd5c", "committedDate": "2020-04-01T21:04:47Z", "message": "Propagate context inside quarkus-cache async computations"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "146c52a2bcff9e44a3b9662ebc0097ed818ebd5c", "author": {"user": {"login": "gwenneg", "name": "Gwenneg Lepage"}}, "url": "https://github.com/quarkusio/quarkus/commit/146c52a2bcff9e44a3b9662ebc0097ed818ebd5c", "committedDate": "2020-04-01T21:04:47Z", "message": "Propagate context inside quarkus-cache async computations"}, "afterCommit": {"oid": "4d543b451aaa8c0e6f242556ebb8e662d4ee5e46", "author": {"user": {"login": "gwenneg", "name": "Gwenneg Lepage"}}, "url": "https://github.com/quarkusio/quarkus/commit/4d543b451aaa8c0e6f242556ebb8e662d4ee5e46", "committedDate": "2020-04-01T21:11:15Z", "message": "Propagate context inside quarkus-cache async computations"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4d543b451aaa8c0e6f242556ebb8e662d4ee5e46", "author": {"user": {"login": "gwenneg", "name": "Gwenneg Lepage"}}, "url": "https://github.com/quarkusio/quarkus/commit/4d543b451aaa8c0e6f242556ebb8e662d4ee5e46", "committedDate": "2020-04-01T21:11:15Z", "message": "Propagate context inside quarkus-cache async computations"}, "afterCommit": {"oid": "51916a1ed91e5b4b987f7eaa38878c3b0f0b44c0", "author": {"user": {"login": "gwenneg", "name": "Gwenneg Lepage"}}, "url": "https://github.com/quarkusio/quarkus/commit/51916a1ed91e5b4b987f7eaa38878c3b0f0b44c0", "committedDate": "2020-04-01T21:23:08Z", "message": "Propagate context inside quarkus-cache async computations"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkzMTU0OTcy", "url": "https://github.com/quarkusio/quarkus/pull/8227#pullrequestreview-393154972", "createdAt": "2020-04-14T17:43:23Z", "commit": {"oid": "51916a1ed91e5b4b987f7eaa38878c3b0f0b44c0"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNFQxNzo0MzoyM1rOGFZ36A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNFQxNzo0MzoyM1rOGFZ36A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODMxOTk3Ng==", "bodyText": "I wonder if this should be in a SPI module rather than in core. But we can move it later.", "url": "https://github.com/quarkusio/quarkus/pull/8227#discussion_r408319976", "createdAt": "2020-04-14T17:43:23Z", "author": {"login": "gsmet"}, "path": "core/deployment/src/main/java/io/quarkus/deployment/builditem/ManagedExecutorInitializedBuildItem.java", "diffHunk": "@@ -0,0 +1,42 @@\n+package io.quarkus.deployment.builditem;\n+\n+import io.quarkus.builder.item.SimpleBuildItem;\n+\n+/**\n+ * <p>\n+ * This build item can be injected in an extension {@link io.quarkus.deployment.annotations.BuildStep BuildStep} to make sure\n+ * the Quarkus {@link org.eclipse.microprofile.context.ManagedExecutor ManagedExecutor} instance is available for injection\n+ * during bytecode recording. The executor can only be used from generated bytecode executed at\n+ * {@link io.quarkus.deployment.annotations.ExecutionTime#RUNTIME_INIT ExecutionTime.RUNTIME_INIT}.\n+ * </p>\n+ * <p>\n+ * This build item will only be produced if the quarkus-smallrye-context-propagation extension is part of the project\n+ * dependencies. Therefore, it must be injected as an {@link java.util.Optional Optional} build item.\n+ * </p>\n+ * <p>\n+ * Example code:\n+ * \n+ * <pre>\n+ * public class MyProcessor {\n+ *     {@literal @}BuildStep\n+ *     {@literal @}Record(ExecutionTime.RUNTIME_INIT)\n+ *     void buildStep({@code Optional<ManagedExecutorInitializedBuildItem>} managedExecutorInitialized,\n+ *             BeanContainerBuildItem beanContainer, MyRecorder myRecorder) {\n+ *         myRecorder.record(managedExecutorInitialized.isPresent(), beanContainer.value());\n+ *     }\n+ * }\n+ * \n+ * {@literal @}Recorder\n+ * public class MyRecorder {\n+ *    public void record(boolean managedExecutorInitialized, BeanContainer beanContainer) {\n+ *        if (managedExecutorInitialized) {\n+ *            ManagedExecutor managedExecutor = beanContainer.instance(ManagedExecutor.class);\n+ *            // Use it...\n+ *        }\n+ *    }\n+ * }\n+ * </pre>\n+ * </p>\n+ */\n+public final class ManagedExecutorInitializedBuildItem extends SimpleBuildItem {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "51916a1ed91e5b4b987f7eaa38878c3b0f0b44c0"}, "originalPosition": 41}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkzMTU2Mzcz", "url": "https://github.com/quarkusio/quarkus/pull/8227#pullrequestreview-393156373", "createdAt": "2020-04-14T17:45:17Z", "commit": {"oid": "51916a1ed91e5b4b987f7eaa38878c3b0f0b44c0"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNFQxNzo0NToxN1rOGFZ8kw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNFQxNzo0NToxN1rOGFZ8kw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODMyMTE3MQ==", "bodyText": "@FroMage @stuartwdouglas what's your opinion on having a dependency on that one here? It's a bit related to what you are currently doing with the other PR.", "url": "https://github.com/quarkusio/quarkus/pull/8227#discussion_r408321171", "createdAt": "2020-04-14T17:45:17Z", "author": {"login": "gsmet"}, "path": "extensions/cache/runtime/pom.xml", "diffHunk": "@@ -24,6 +24,10 @@\n             <groupId>io.quarkus</groupId>\n             <artifactId>quarkus-caffeine</artifactId>\n         </dependency>\n+        <dependency>\n+            <groupId>org.eclipse.microprofile.context-propagation</groupId>\n+            <artifactId>microprofile-context-propagation-api</artifactId>\n+        </dependency>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "51916a1ed91e5b4b987f7eaa38878c3b0f0b44c0"}, "originalPosition": 7}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk5NzU5MDQ2", "url": "https://github.com/quarkusio/quarkus/pull/8227#pullrequestreview-399759046", "createdAt": "2020-04-24T08:50:14Z", "commit": {"oid": "51916a1ed91e5b4b987f7eaa38878c3b0f0b44c0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f639a91a388c4dc525f407e804c53023f34c3679", "author": {"user": {"login": "gwenneg", "name": "Gwenneg Lepage"}}, "url": "https://github.com/quarkusio/quarkus/commit/f639a91a388c4dc525f407e804c53023f34c3679", "committedDate": "2020-04-24T08:50:35Z", "message": "Propagate context inside quarkus-cache async computations"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "51916a1ed91e5b4b987f7eaa38878c3b0f0b44c0", "author": {"user": {"login": "gwenneg", "name": "Gwenneg Lepage"}}, "url": "https://github.com/quarkusio/quarkus/commit/51916a1ed91e5b4b987f7eaa38878c3b0f0b44c0", "committedDate": "2020-04-01T21:23:08Z", "message": "Propagate context inside quarkus-cache async computations"}, "afterCommit": {"oid": "f639a91a388c4dc525f407e804c53023f34c3679", "author": {"user": {"login": "gwenneg", "name": "Gwenneg Lepage"}}, "url": "https://github.com/quarkusio/quarkus/commit/f639a91a388c4dc525f407e804c53023f34c3679", "committedDate": "2020-04-24T08:50:35Z", "message": "Propagate context inside quarkus-cache async computations"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4784, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}