{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ0NzE0MjM1", "number": 10494, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQxMTozMDo0NFrOELpcng==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQxNjozODozMFrOELw0kA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgwNjQ4ODYyOnYy", "diffSide": "RIGHT", "path": "integration-tests/gradle/src/test/resources/uber-jar-for-multi-module-project/application/src/main/resources/META-INF/resources/index.html", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQxMTozMDo0NFrOGtTg1g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQxMTozMjo1MFrOGtTkaQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDE1ODgwNg==", "bodyText": "You can remove this file as it's not needed", "url": "https://github.com/quarkusio/quarkus/pull/10494#discussion_r450158806", "createdAt": "2020-07-06T11:30:44Z", "author": {"login": "geoand"}, "path": "integration-tests/gradle/src/test/resources/uber-jar-for-multi-module-project/application/src/main/resources/META-INF/resources/index.html", "diffHunk": "@@ -0,0 +1,155 @@\n+<!DOCTYPE html>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2bde50d3904bef689bae608fd4958bb2fb14fa56"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDE1OTcyMQ==", "bodyText": "Okk", "url": "https://github.com/quarkusio/quarkus/pull/10494#discussion_r450159721", "createdAt": "2020-07-06T11:32:50Z", "author": {"login": "Garima829"}, "path": "integration-tests/gradle/src/test/resources/uber-jar-for-multi-module-project/application/src/main/resources/META-INF/resources/index.html", "diffHunk": "@@ -0,0 +1,155 @@\n+<!DOCTYPE html>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDE1ODgwNg=="}, "originalCommit": {"oid": "2bde50d3904bef689bae608fd4958bb2fb14fa56"}, "originalPosition": 1}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgwNjQ5OTAzOnYy", "diffSide": "RIGHT", "path": "integration-tests/gradle/src/test/java/io/quarkus/gradle/MultiModuleUberJarTest.java", "isResolved": true, "comments": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQxMTozNDoxNlrOGtTm3w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQxMjoxNTozOVrOGtUyvA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDE2MDM1MQ==", "bodyText": "If this is the actual response, then something is wrong...\n    @GET\n    @Produces(MediaType.TEXT_PLAIN)\n    public String hello() {\n        return \"hello \" + common.getName();\n    }\n\nso the response should be hello common", "url": "https://github.com/quarkusio/quarkus/pull/10494#discussion_r450160351", "createdAt": "2020-07-06T11:34:16Z", "author": {"login": "geoand"}, "path": "integration-tests/gradle/src/test/java/io/quarkus/gradle/MultiModuleUberJarTest.java", "diffHunk": "@@ -0,0 +1,65 @@\n+package io.quarkus.gradle;\n+\n+import org.junit.jupiter.api.Test;\n+import org.apache.commons.io.FileUtils;\n+import static org.awaitility.Awaitility.await;\n+import static io.quarkus.gradle.LaunchUtils.launch;\n+\n+import java.io.File;\n+import java.nio.file.Path;\n+import java.util.concurrent.Future;\n+import java.util.concurrent.TimeUnit;\n+\n+import io.quarkus.test.devmode.util.DevModeTestUtils;\n+import org.awaitility.core.ConditionTimeoutException;\n+import static org.assertj.core.api.Assertions.assertThat;\n+import static io.quarkus.gradle.LaunchUtils.dumpFileContentOnFailure;\n+\n+public class MultiModuleUberJarTest extends QuarkusGradleWrapperTestBase {\n+    private static Future<?> jarRun;\n+\n+    @Test\n+    public void testUberJarForMultiModule() throws Exception {\n+\n+        final File projectDir = getProjectDir(\"uber-jar-for-multi-module-project\");\n+        runGradleWrapper(projectDir, \":application:quarkusBuild\");\n+\n+        final Path applicationJar = projectDir.toPath().resolve(\"application\").resolve(\"build\");\n+        assertThat(applicationJar).exists();\n+        Path jar =applicationJar.resolve(\"application-unspecified-runner.jar\");\n+        assertThat(jar).exists();\n+\n+        File output = new File(projectDir, \"application/build/output.log\");\n+        output.createNewFile();\n+        Process process = launch(jar, output);\n+        try {\n+            // Wait until server up\n+            dumpFileContentOnFailure(() -> {\n+                await()\n+                        .pollDelay(1, TimeUnit.SECONDS)\n+                        .atMost(1, TimeUnit.MINUTES).until(() -> DevModeTestUtils.getHttpResponse(\"/hello\", 200));\n+                return null;\n+            }, output, ConditionTimeoutException.class);\n+\n+            String logs = FileUtils.readFileToString(output, \"UTF-8\");\n+\n+            assertThatOutputWorksCorrectly(logs);\n+\n+            // test that the http response is correct \n+            assertThat(DevModeTestUtils.getHttpResponse(\"/hello\", () -> {\n+                return jarRun == null ? null : jarRun.isDone() ? \"jar run mode has terminated\" : null;\n+            }).equals(\"hello\"));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2bde50d3904bef689bae608fd4958bb2fb14fa56"}, "originalPosition": 51}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDE2MTE0Mg==", "bodyText": "Oh the response was hello common only on localhost/8080 , I'll check this again", "url": "https://github.com/quarkusio/quarkus/pull/10494#discussion_r450161142", "createdAt": "2020-07-06T11:35:54Z", "author": {"login": "Garima829"}, "path": "integration-tests/gradle/src/test/java/io/quarkus/gradle/MultiModuleUberJarTest.java", "diffHunk": "@@ -0,0 +1,65 @@\n+package io.quarkus.gradle;\n+\n+import org.junit.jupiter.api.Test;\n+import org.apache.commons.io.FileUtils;\n+import static org.awaitility.Awaitility.await;\n+import static io.quarkus.gradle.LaunchUtils.launch;\n+\n+import java.io.File;\n+import java.nio.file.Path;\n+import java.util.concurrent.Future;\n+import java.util.concurrent.TimeUnit;\n+\n+import io.quarkus.test.devmode.util.DevModeTestUtils;\n+import org.awaitility.core.ConditionTimeoutException;\n+import static org.assertj.core.api.Assertions.assertThat;\n+import static io.quarkus.gradle.LaunchUtils.dumpFileContentOnFailure;\n+\n+public class MultiModuleUberJarTest extends QuarkusGradleWrapperTestBase {\n+    private static Future<?> jarRun;\n+\n+    @Test\n+    public void testUberJarForMultiModule() throws Exception {\n+\n+        final File projectDir = getProjectDir(\"uber-jar-for-multi-module-project\");\n+        runGradleWrapper(projectDir, \":application:quarkusBuild\");\n+\n+        final Path applicationJar = projectDir.toPath().resolve(\"application\").resolve(\"build\");\n+        assertThat(applicationJar).exists();\n+        Path jar =applicationJar.resolve(\"application-unspecified-runner.jar\");\n+        assertThat(jar).exists();\n+\n+        File output = new File(projectDir, \"application/build/output.log\");\n+        output.createNewFile();\n+        Process process = launch(jar, output);\n+        try {\n+            // Wait until server up\n+            dumpFileContentOnFailure(() -> {\n+                await()\n+                        .pollDelay(1, TimeUnit.SECONDS)\n+                        .atMost(1, TimeUnit.MINUTES).until(() -> DevModeTestUtils.getHttpResponse(\"/hello\", 200));\n+                return null;\n+            }, output, ConditionTimeoutException.class);\n+\n+            String logs = FileUtils.readFileToString(output, \"UTF-8\");\n+\n+            assertThatOutputWorksCorrectly(logs);\n+\n+            // test that the http response is correct \n+            assertThat(DevModeTestUtils.getHttpResponse(\"/hello\", () -> {\n+                return jarRun == null ? null : jarRun.isDone() ? \"jar run mode has terminated\" : null;\n+            }).equals(\"hello\"));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDE2MDM1MQ=="}, "originalCommit": {"oid": "2bde50d3904bef689bae608fd4958bb2fb14fa56"}, "originalPosition": 51}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDE2NzMxNA==", "bodyText": "Did you now run the test and make sure it passes?", "url": "https://github.com/quarkusio/quarkus/pull/10494#discussion_r450167314", "createdAt": "2020-07-06T11:49:21Z", "author": {"login": "geoand"}, "path": "integration-tests/gradle/src/test/java/io/quarkus/gradle/MultiModuleUberJarTest.java", "diffHunk": "@@ -0,0 +1,65 @@\n+package io.quarkus.gradle;\n+\n+import org.junit.jupiter.api.Test;\n+import org.apache.commons.io.FileUtils;\n+import static org.awaitility.Awaitility.await;\n+import static io.quarkus.gradle.LaunchUtils.launch;\n+\n+import java.io.File;\n+import java.nio.file.Path;\n+import java.util.concurrent.Future;\n+import java.util.concurrent.TimeUnit;\n+\n+import io.quarkus.test.devmode.util.DevModeTestUtils;\n+import org.awaitility.core.ConditionTimeoutException;\n+import static org.assertj.core.api.Assertions.assertThat;\n+import static io.quarkus.gradle.LaunchUtils.dumpFileContentOnFailure;\n+\n+public class MultiModuleUberJarTest extends QuarkusGradleWrapperTestBase {\n+    private static Future<?> jarRun;\n+\n+    @Test\n+    public void testUberJarForMultiModule() throws Exception {\n+\n+        final File projectDir = getProjectDir(\"uber-jar-for-multi-module-project\");\n+        runGradleWrapper(projectDir, \":application:quarkusBuild\");\n+\n+        final Path applicationJar = projectDir.toPath().resolve(\"application\").resolve(\"build\");\n+        assertThat(applicationJar).exists();\n+        Path jar =applicationJar.resolve(\"application-unspecified-runner.jar\");\n+        assertThat(jar).exists();\n+\n+        File output = new File(projectDir, \"application/build/output.log\");\n+        output.createNewFile();\n+        Process process = launch(jar, output);\n+        try {\n+            // Wait until server up\n+            dumpFileContentOnFailure(() -> {\n+                await()\n+                        .pollDelay(1, TimeUnit.SECONDS)\n+                        .atMost(1, TimeUnit.MINUTES).until(() -> DevModeTestUtils.getHttpResponse(\"/hello\", 200));\n+                return null;\n+            }, output, ConditionTimeoutException.class);\n+\n+            String logs = FileUtils.readFileToString(output, \"UTF-8\");\n+\n+            assertThatOutputWorksCorrectly(logs);\n+\n+            // test that the http response is correct \n+            assertThat(DevModeTestUtils.getHttpResponse(\"/hello\", () -> {\n+                return jarRun == null ? null : jarRun.isDone() ? \"jar run mode has terminated\" : null;\n+            }).equals(\"hello\"));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDE2MDM1MQ=="}, "originalCommit": {"oid": "2bde50d3904bef689bae608fd4958bb2fb14fa56"}, "originalPosition": 51}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDE2ODg1OQ==", "bodyText": "Yes I did, and weird thing is I checked this earlier too, and it was passing then as well, even though the response on http://0.0.0.0:8080/hello was hello common both the times", "url": "https://github.com/quarkusio/quarkus/pull/10494#discussion_r450168859", "createdAt": "2020-07-06T11:52:34Z", "author": {"login": "Garima829"}, "path": "integration-tests/gradle/src/test/java/io/quarkus/gradle/MultiModuleUberJarTest.java", "diffHunk": "@@ -0,0 +1,65 @@\n+package io.quarkus.gradle;\n+\n+import org.junit.jupiter.api.Test;\n+import org.apache.commons.io.FileUtils;\n+import static org.awaitility.Awaitility.await;\n+import static io.quarkus.gradle.LaunchUtils.launch;\n+\n+import java.io.File;\n+import java.nio.file.Path;\n+import java.util.concurrent.Future;\n+import java.util.concurrent.TimeUnit;\n+\n+import io.quarkus.test.devmode.util.DevModeTestUtils;\n+import org.awaitility.core.ConditionTimeoutException;\n+import static org.assertj.core.api.Assertions.assertThat;\n+import static io.quarkus.gradle.LaunchUtils.dumpFileContentOnFailure;\n+\n+public class MultiModuleUberJarTest extends QuarkusGradleWrapperTestBase {\n+    private static Future<?> jarRun;\n+\n+    @Test\n+    public void testUberJarForMultiModule() throws Exception {\n+\n+        final File projectDir = getProjectDir(\"uber-jar-for-multi-module-project\");\n+        runGradleWrapper(projectDir, \":application:quarkusBuild\");\n+\n+        final Path applicationJar = projectDir.toPath().resolve(\"application\").resolve(\"build\");\n+        assertThat(applicationJar).exists();\n+        Path jar =applicationJar.resolve(\"application-unspecified-runner.jar\");\n+        assertThat(jar).exists();\n+\n+        File output = new File(projectDir, \"application/build/output.log\");\n+        output.createNewFile();\n+        Process process = launch(jar, output);\n+        try {\n+            // Wait until server up\n+            dumpFileContentOnFailure(() -> {\n+                await()\n+                        .pollDelay(1, TimeUnit.SECONDS)\n+                        .atMost(1, TimeUnit.MINUTES).until(() -> DevModeTestUtils.getHttpResponse(\"/hello\", 200));\n+                return null;\n+            }, output, ConditionTimeoutException.class);\n+\n+            String logs = FileUtils.readFileToString(output, \"UTF-8\");\n+\n+            assertThatOutputWorksCorrectly(logs);\n+\n+            // test that the http response is correct \n+            assertThat(DevModeTestUtils.getHttpResponse(\"/hello\", () -> {\n+                return jarRun == null ? null : jarRun.isDone() ? \"jar run mode has terminated\" : null;\n+            }).equals(\"hello\"));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDE2MDM1MQ=="}, "originalCommit": {"oid": "2bde50d3904bef689bae608fd4958bb2fb14fa56"}, "originalPosition": 51}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDE3NTQ2NA==", "bodyText": "OK, I'll run it later on and make sure everything is OK", "url": "https://github.com/quarkusio/quarkus/pull/10494#discussion_r450175464", "createdAt": "2020-07-06T12:06:57Z", "author": {"login": "geoand"}, "path": "integration-tests/gradle/src/test/java/io/quarkus/gradle/MultiModuleUberJarTest.java", "diffHunk": "@@ -0,0 +1,65 @@\n+package io.quarkus.gradle;\n+\n+import org.junit.jupiter.api.Test;\n+import org.apache.commons.io.FileUtils;\n+import static org.awaitility.Awaitility.await;\n+import static io.quarkus.gradle.LaunchUtils.launch;\n+\n+import java.io.File;\n+import java.nio.file.Path;\n+import java.util.concurrent.Future;\n+import java.util.concurrent.TimeUnit;\n+\n+import io.quarkus.test.devmode.util.DevModeTestUtils;\n+import org.awaitility.core.ConditionTimeoutException;\n+import static org.assertj.core.api.Assertions.assertThat;\n+import static io.quarkus.gradle.LaunchUtils.dumpFileContentOnFailure;\n+\n+public class MultiModuleUberJarTest extends QuarkusGradleWrapperTestBase {\n+    private static Future<?> jarRun;\n+\n+    @Test\n+    public void testUberJarForMultiModule() throws Exception {\n+\n+        final File projectDir = getProjectDir(\"uber-jar-for-multi-module-project\");\n+        runGradleWrapper(projectDir, \":application:quarkusBuild\");\n+\n+        final Path applicationJar = projectDir.toPath().resolve(\"application\").resolve(\"build\");\n+        assertThat(applicationJar).exists();\n+        Path jar =applicationJar.resolve(\"application-unspecified-runner.jar\");\n+        assertThat(jar).exists();\n+\n+        File output = new File(projectDir, \"application/build/output.log\");\n+        output.createNewFile();\n+        Process process = launch(jar, output);\n+        try {\n+            // Wait until server up\n+            dumpFileContentOnFailure(() -> {\n+                await()\n+                        .pollDelay(1, TimeUnit.SECONDS)\n+                        .atMost(1, TimeUnit.MINUTES).until(() -> DevModeTestUtils.getHttpResponse(\"/hello\", 200));\n+                return null;\n+            }, output, ConditionTimeoutException.class);\n+\n+            String logs = FileUtils.readFileToString(output, \"UTF-8\");\n+\n+            assertThatOutputWorksCorrectly(logs);\n+\n+            // test that the http response is correct \n+            assertThat(DevModeTestUtils.getHttpResponse(\"/hello\", () -> {\n+                return jarRun == null ? null : jarRun.isDone() ? \"jar run mode has terminated\" : null;\n+            }).equals(\"hello\"));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDE2MDM1MQ=="}, "originalCommit": {"oid": "2bde50d3904bef689bae608fd4958bb2fb14fa56"}, "originalPosition": 51}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDE3NzU0NA==", "bodyText": "Should I mark it ready for review ?", "url": "https://github.com/quarkusio/quarkus/pull/10494#discussion_r450177544", "createdAt": "2020-07-06T12:11:26Z", "author": {"login": "Garima829"}, "path": "integration-tests/gradle/src/test/java/io/quarkus/gradle/MultiModuleUberJarTest.java", "diffHunk": "@@ -0,0 +1,65 @@\n+package io.quarkus.gradle;\n+\n+import org.junit.jupiter.api.Test;\n+import org.apache.commons.io.FileUtils;\n+import static org.awaitility.Awaitility.await;\n+import static io.quarkus.gradle.LaunchUtils.launch;\n+\n+import java.io.File;\n+import java.nio.file.Path;\n+import java.util.concurrent.Future;\n+import java.util.concurrent.TimeUnit;\n+\n+import io.quarkus.test.devmode.util.DevModeTestUtils;\n+import org.awaitility.core.ConditionTimeoutException;\n+import static org.assertj.core.api.Assertions.assertThat;\n+import static io.quarkus.gradle.LaunchUtils.dumpFileContentOnFailure;\n+\n+public class MultiModuleUberJarTest extends QuarkusGradleWrapperTestBase {\n+    private static Future<?> jarRun;\n+\n+    @Test\n+    public void testUberJarForMultiModule() throws Exception {\n+\n+        final File projectDir = getProjectDir(\"uber-jar-for-multi-module-project\");\n+        runGradleWrapper(projectDir, \":application:quarkusBuild\");\n+\n+        final Path applicationJar = projectDir.toPath().resolve(\"application\").resolve(\"build\");\n+        assertThat(applicationJar).exists();\n+        Path jar =applicationJar.resolve(\"application-unspecified-runner.jar\");\n+        assertThat(jar).exists();\n+\n+        File output = new File(projectDir, \"application/build/output.log\");\n+        output.createNewFile();\n+        Process process = launch(jar, output);\n+        try {\n+            // Wait until server up\n+            dumpFileContentOnFailure(() -> {\n+                await()\n+                        .pollDelay(1, TimeUnit.SECONDS)\n+                        .atMost(1, TimeUnit.MINUTES).until(() -> DevModeTestUtils.getHttpResponse(\"/hello\", 200));\n+                return null;\n+            }, output, ConditionTimeoutException.class);\n+\n+            String logs = FileUtils.readFileToString(output, \"UTF-8\");\n+\n+            assertThatOutputWorksCorrectly(logs);\n+\n+            // test that the http response is correct \n+            assertThat(DevModeTestUtils.getHttpResponse(\"/hello\", () -> {\n+                return jarRun == null ? null : jarRun.isDone() ? \"jar run mode has terminated\" : null;\n+            }).equals(\"hello\"));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDE2MDM1MQ=="}, "originalCommit": {"oid": "2bde50d3904bef689bae608fd4958bb2fb14fa56"}, "originalPosition": 51}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDE3OTc3Mg==", "bodyText": "Sure", "url": "https://github.com/quarkusio/quarkus/pull/10494#discussion_r450179772", "createdAt": "2020-07-06T12:15:39Z", "author": {"login": "geoand"}, "path": "integration-tests/gradle/src/test/java/io/quarkus/gradle/MultiModuleUberJarTest.java", "diffHunk": "@@ -0,0 +1,65 @@\n+package io.quarkus.gradle;\n+\n+import org.junit.jupiter.api.Test;\n+import org.apache.commons.io.FileUtils;\n+import static org.awaitility.Awaitility.await;\n+import static io.quarkus.gradle.LaunchUtils.launch;\n+\n+import java.io.File;\n+import java.nio.file.Path;\n+import java.util.concurrent.Future;\n+import java.util.concurrent.TimeUnit;\n+\n+import io.quarkus.test.devmode.util.DevModeTestUtils;\n+import org.awaitility.core.ConditionTimeoutException;\n+import static org.assertj.core.api.Assertions.assertThat;\n+import static io.quarkus.gradle.LaunchUtils.dumpFileContentOnFailure;\n+\n+public class MultiModuleUberJarTest extends QuarkusGradleWrapperTestBase {\n+    private static Future<?> jarRun;\n+\n+    @Test\n+    public void testUberJarForMultiModule() throws Exception {\n+\n+        final File projectDir = getProjectDir(\"uber-jar-for-multi-module-project\");\n+        runGradleWrapper(projectDir, \":application:quarkusBuild\");\n+\n+        final Path applicationJar = projectDir.toPath().resolve(\"application\").resolve(\"build\");\n+        assertThat(applicationJar).exists();\n+        Path jar =applicationJar.resolve(\"application-unspecified-runner.jar\");\n+        assertThat(jar).exists();\n+\n+        File output = new File(projectDir, \"application/build/output.log\");\n+        output.createNewFile();\n+        Process process = launch(jar, output);\n+        try {\n+            // Wait until server up\n+            dumpFileContentOnFailure(() -> {\n+                await()\n+                        .pollDelay(1, TimeUnit.SECONDS)\n+                        .atMost(1, TimeUnit.MINUTES).until(() -> DevModeTestUtils.getHttpResponse(\"/hello\", 200));\n+                return null;\n+            }, output, ConditionTimeoutException.class);\n+\n+            String logs = FileUtils.readFileToString(output, \"UTF-8\");\n+\n+            assertThatOutputWorksCorrectly(logs);\n+\n+            // test that the http response is correct \n+            assertThat(DevModeTestUtils.getHttpResponse(\"/hello\", () -> {\n+                return jarRun == null ? null : jarRun.isDone() ? \"jar run mode has terminated\" : null;\n+            }).equals(\"hello\"));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDE2MDM1MQ=="}, "originalCommit": {"oid": "2bde50d3904bef689bae608fd4958bb2fb14fa56"}, "originalPosition": 51}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgwNzY0ODIyOnYy", "diffSide": "RIGHT", "path": "integration-tests/gradle/src/test/java/io/quarkus/gradle/MultiModuleUberJarTest.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQxNjoyNTo1NVrOGtefmQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQxNjozNzo1NFrOGte8DQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDMzODcxMw==", "bodyText": "This seems like it's not used", "url": "https://github.com/quarkusio/quarkus/pull/10494#discussion_r450338713", "createdAt": "2020-07-06T16:25:55Z", "author": {"login": "geoand"}, "path": "integration-tests/gradle/src/test/java/io/quarkus/gradle/MultiModuleUberJarTest.java", "diffHunk": "@@ -0,0 +1,64 @@\n+package io.quarkus.gradle;\n+\n+import static io.quarkus.gradle.LaunchUtils.dumpFileContentOnFailure;\n+import static io.quarkus.gradle.LaunchUtils.launch;\n+import static org.assertj.core.api.Assertions.assertThat;\n+import static org.awaitility.Awaitility.await;\n+\n+import java.io.File;\n+import java.nio.file.Path;\n+import java.util.concurrent.Future;\n+import java.util.concurrent.TimeUnit;\n+\n+import org.apache.commons.io.FileUtils;\n+import org.awaitility.core.ConditionTimeoutException;\n+import org.junit.jupiter.api.Test;\n+\n+import io.quarkus.test.devmode.util.DevModeTestUtils;\n+\n+public class MultiModuleUberJarTest extends QuarkusGradleWrapperTestBase {\n+    private static Future<?> jarRun;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ab08cc722f113932942d5a0eebccc7d101e78787"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDM0NTk5Nw==", "bodyText": "Nevermind, my mistake", "url": "https://github.com/quarkusio/quarkus/pull/10494#discussion_r450345997", "createdAt": "2020-07-06T16:37:54Z", "author": {"login": "geoand"}, "path": "integration-tests/gradle/src/test/java/io/quarkus/gradle/MultiModuleUberJarTest.java", "diffHunk": "@@ -0,0 +1,64 @@\n+package io.quarkus.gradle;\n+\n+import static io.quarkus.gradle.LaunchUtils.dumpFileContentOnFailure;\n+import static io.quarkus.gradle.LaunchUtils.launch;\n+import static org.assertj.core.api.Assertions.assertThat;\n+import static org.awaitility.Awaitility.await;\n+\n+import java.io.File;\n+import java.nio.file.Path;\n+import java.util.concurrent.Future;\n+import java.util.concurrent.TimeUnit;\n+\n+import org.apache.commons.io.FileUtils;\n+import org.awaitility.core.ConditionTimeoutException;\n+import org.junit.jupiter.api.Test;\n+\n+import io.quarkus.test.devmode.util.DevModeTestUtils;\n+\n+public class MultiModuleUberJarTest extends QuarkusGradleWrapperTestBase {\n+    private static Future<?> jarRun;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDMzODcxMw=="}, "originalCommit": {"oid": "ab08cc722f113932942d5a0eebccc7d101e78787"}, "originalPosition": 20}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgwNzY5NjgwOnYy", "diffSide": "RIGHT", "path": "integration-tests/gradle/src/test/java/io/quarkus/gradle/MultiModuleUberJarTest.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQxNjozODozMFrOGte9XQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQxNzowNTowNlrOGtf6IA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDM0NjMzMw==", "bodyText": "No need to have a variable for this", "url": "https://github.com/quarkusio/quarkus/pull/10494#discussion_r450346333", "createdAt": "2020-07-06T16:38:30Z", "author": {"login": "geoand"}, "path": "integration-tests/gradle/src/test/java/io/quarkus/gradle/MultiModuleUberJarTest.java", "diffHunk": "@@ -0,0 +1,64 @@\n+package io.quarkus.gradle;\n+\n+import static io.quarkus.gradle.LaunchUtils.dumpFileContentOnFailure;\n+import static io.quarkus.gradle.LaunchUtils.launch;\n+import static org.assertj.core.api.Assertions.assertThat;\n+import static org.awaitility.Awaitility.await;\n+\n+import java.io.File;\n+import java.nio.file.Path;\n+import java.util.concurrent.Future;\n+import java.util.concurrent.TimeUnit;\n+\n+import org.apache.commons.io.FileUtils;\n+import org.awaitility.core.ConditionTimeoutException;\n+import org.junit.jupiter.api.Test;\n+\n+import io.quarkus.test.devmode.util.DevModeTestUtils;\n+\n+public class MultiModuleUberJarTest extends QuarkusGradleWrapperTestBase {\n+    private static Future<?> jarRun;\n+\n+    @Test\n+    public void testUberJarForMultiModule() throws Exception {\n+\n+        final File projectDir = getProjectDir(\"uber-jar-for-multi-module-project\");\n+        runGradleWrapper(projectDir, \":application:quarkusBuild\");\n+\n+        final Path applicationJar = projectDir.toPath().resolve(\"application\").resolve(\"build\");\n+        assertThat(applicationJar).exists();\n+        Path jar = applicationJar.resolve(\"application-unspecified-runner.jar\");\n+        assertThat(jar).exists();\n+\n+        File output = new File(projectDir, \"application/build/output.log\");\n+        output.createNewFile();\n+        Process process = launch(jar, output);\n+        try {\n+            // Wait until server up\n+            dumpFileContentOnFailure(() -> {\n+                await()\n+                        .pollDelay(1, TimeUnit.SECONDS)\n+                        .atMost(1, TimeUnit.MINUTES).until(() -> DevModeTestUtils.getHttpResponse(\"/hello\", 200));\n+                return null;\n+            }, output, ConditionTimeoutException.class);\n+\n+            String logs = FileUtils.readFileToString(output, \"UTF-8\");\n+\n+            assertThatOutputWorksCorrectly(logs);\n+\n+            // test that the http response is correct\n+            assertThat(DevModeTestUtils.getHttpResponse(\"/hello\", () -> {\n+                return jarRun == null ? null : jarRun.isDone() ? \"jar run mode has terminated\" : null;\n+            }).equals(\"hello common\"));\n+        } finally {\n+            process.destroy();\n+        }\n+    }\n+\n+    private void assertThatOutputWorksCorrectly(String logs) {\n+        assertThat(logs.isEmpty()).isFalse();\n+        String infoLogLevel = \"INFO\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ab08cc722f113932942d5a0eebccc7d101e78787"}, "originalPosition": 60}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDM2MTg4OA==", "bodyText": "Okayy", "url": "https://github.com/quarkusio/quarkus/pull/10494#discussion_r450361888", "createdAt": "2020-07-06T17:05:06Z", "author": {"login": "Garima829"}, "path": "integration-tests/gradle/src/test/java/io/quarkus/gradle/MultiModuleUberJarTest.java", "diffHunk": "@@ -0,0 +1,64 @@\n+package io.quarkus.gradle;\n+\n+import static io.quarkus.gradle.LaunchUtils.dumpFileContentOnFailure;\n+import static io.quarkus.gradle.LaunchUtils.launch;\n+import static org.assertj.core.api.Assertions.assertThat;\n+import static org.awaitility.Awaitility.await;\n+\n+import java.io.File;\n+import java.nio.file.Path;\n+import java.util.concurrent.Future;\n+import java.util.concurrent.TimeUnit;\n+\n+import org.apache.commons.io.FileUtils;\n+import org.awaitility.core.ConditionTimeoutException;\n+import org.junit.jupiter.api.Test;\n+\n+import io.quarkus.test.devmode.util.DevModeTestUtils;\n+\n+public class MultiModuleUberJarTest extends QuarkusGradleWrapperTestBase {\n+    private static Future<?> jarRun;\n+\n+    @Test\n+    public void testUberJarForMultiModule() throws Exception {\n+\n+        final File projectDir = getProjectDir(\"uber-jar-for-multi-module-project\");\n+        runGradleWrapper(projectDir, \":application:quarkusBuild\");\n+\n+        final Path applicationJar = projectDir.toPath().resolve(\"application\").resolve(\"build\");\n+        assertThat(applicationJar).exists();\n+        Path jar = applicationJar.resolve(\"application-unspecified-runner.jar\");\n+        assertThat(jar).exists();\n+\n+        File output = new File(projectDir, \"application/build/output.log\");\n+        output.createNewFile();\n+        Process process = launch(jar, output);\n+        try {\n+            // Wait until server up\n+            dumpFileContentOnFailure(() -> {\n+                await()\n+                        .pollDelay(1, TimeUnit.SECONDS)\n+                        .atMost(1, TimeUnit.MINUTES).until(() -> DevModeTestUtils.getHttpResponse(\"/hello\", 200));\n+                return null;\n+            }, output, ConditionTimeoutException.class);\n+\n+            String logs = FileUtils.readFileToString(output, \"UTF-8\");\n+\n+            assertThatOutputWorksCorrectly(logs);\n+\n+            // test that the http response is correct\n+            assertThat(DevModeTestUtils.getHttpResponse(\"/hello\", () -> {\n+                return jarRun == null ? null : jarRun.isDone() ? \"jar run mode has terminated\" : null;\n+            }).equals(\"hello common\"));\n+        } finally {\n+            process.destroy();\n+        }\n+    }\n+\n+    private void assertThatOutputWorksCorrectly(String logs) {\n+        assertThat(logs.isEmpty()).isFalse();\n+        String infoLogLevel = \"INFO\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDM0NjMzMw=="}, "originalCommit": {"oid": "ab08cc722f113932942d5a0eebccc7d101e78787"}, "originalPosition": 60}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2567, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}