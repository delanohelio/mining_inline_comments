{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgzNjY4OTMz", "number": 7575, "title": "Document the fact that Panache stream methods should be closed", "bodyText": "Fixes #7492\n@Sanne I added a note on the Hibernate with Panache guide about the usage of the stream() method (it uses ResultSet.stream()), can you validate that it's correct ? As some people asking questionq about it I think it's a good addition to the existing guide.", "createdAt": "2020-03-04T16:02:25Z", "url": "https://github.com/quarkusio/quarkus/pull/7575", "merged": true, "mergeCommit": {"oid": "1ffbf620489c4500453ea47738511c31f3d81fb0"}, "closed": true, "closedAt": "2020-03-05T10:08:52Z", "author": {"login": "loicmathieu"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcKaseTAFqTM2ODk5MjMxNQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcKorN-AFqTM2OTQ0MDEwNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY4OTkyMzE1", "url": "https://github.com/quarkusio/quarkus/pull/7575#pullrequestreview-368992315", "createdAt": "2020-03-04T17:50:38Z", "commit": {"oid": "4a587648915507ff2cce8c2a6315b22c129efd4d"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNFQxNzo1MDozOFrOFx3ZHA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNFQxNzo1MToxOFrOFx3aig==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzgzMjA5Mg==", "bodyText": "Better use a try with resources IMHO.", "url": "https://github.com/quarkusio/quarkus/pull/7575#discussion_r387832092", "createdAt": "2020-03-04T17:50:38Z", "author": {"login": "gsmet"}, "path": "docs/src/main/asciidoc/hibernate-orm-panache.adoc", "diffHunk": "@@ -209,9 +209,12 @@ List<String> namesButEmmanuels = persons\n     .map(p -> p.name.toLowerCase() )\n     .filter( n -> ! \"emmanuel\".equals(n) )\n     .collect(Collectors.toList());\n+persons.close(); // close the stream to release I/O resources", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4a587648915507ff2cce8c2a6315b22c129efd4d"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzgzMjQ1OA==", "bodyText": "Can you add backticks around the two ResultSet occurrences?", "url": "https://github.com/quarkusio/quarkus/pull/7575#discussion_r387832458", "createdAt": "2020-03-04T17:51:18Z", "author": {"login": "gsmet"}, "path": "docs/src/main/asciidoc/hibernate-orm-panache.adoc", "diffHunk": "@@ -209,9 +209,12 @@ List<String> namesButEmmanuels = persons\n     .map(p -> p.name.toLowerCase() )\n     .filter( n -> ! \"emmanuel\".equals(n) )\n     .collect(Collectors.toList());\n+persons.close(); // close the stream to release I/O resources\n ----\n \n-NOTE: The `stream` methods require a transaction to work.\n+NOTE: The `stream` methods require a transaction to work. +\n+As they perform I/O operations, they should be closed via the `close()` method or via a try-with-resource to close the underlying ResultSet.\n+If not, you will see warnings from Agroal that will close the underlying ResultSet for you.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4a587648915507ff2cce8c2a6315b22c129efd4d"}, "originalPosition": 10}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4a587648915507ff2cce8c2a6315b22c129efd4d", "author": {"user": {"login": "loicmathieu", "name": "Lo\u00efc Mathieu"}}, "url": "https://github.com/quarkusio/quarkus/commit/4a587648915507ff2cce8c2a6315b22c129efd4d", "committedDate": "2020-03-04T14:13:11Z", "message": "Document the fact that Panache stream methods should be closed\n\nFixes #7492"}, "afterCommit": {"oid": "f4aef28a513d60e8824082b99f1cbe8d37af06c3", "author": {"user": {"login": "loicmathieu", "name": "Lo\u00efc Mathieu"}}, "url": "https://github.com/quarkusio/quarkus/commit/f4aef28a513d60e8824082b99f1cbe8d37af06c3", "committedDate": "2020-03-05T08:44:41Z", "message": "Document the fact that Panache stream methods should be closed\n\nFixes #7492"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9be90e12bab9acdc40cb3ccff52a6fa27eaa38eb", "author": {"user": {"login": "loicmathieu", "name": "Lo\u00efc Mathieu"}}, "url": "https://github.com/quarkusio/quarkus/commit/9be90e12bab9acdc40cb3ccff52a6fa27eaa38eb", "committedDate": "2020-03-05T10:08:20Z", "message": "Document the fact that Panache stream methods should be closed\n\nFixes #7492"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f4aef28a513d60e8824082b99f1cbe8d37af06c3", "author": {"user": {"login": "loicmathieu", "name": "Lo\u00efc Mathieu"}}, "url": "https://github.com/quarkusio/quarkus/commit/f4aef28a513d60e8824082b99f1cbe8d37af06c3", "committedDate": "2020-03-05T08:44:41Z", "message": "Document the fact that Panache stream methods should be closed\n\nFixes #7492"}, "afterCommit": {"oid": "9be90e12bab9acdc40cb3ccff52a6fa27eaa38eb", "author": {"user": {"login": "loicmathieu", "name": "Lo\u00efc Mathieu"}}, "url": "https://github.com/quarkusio/quarkus/commit/9be90e12bab9acdc40cb3ccff52a6fa27eaa38eb", "committedDate": "2020-03-05T10:08:20Z", "message": "Document the fact that Panache stream methods should be closed\n\nFixes #7492"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY5NDQwMTA1", "url": "https://github.com/quarkusio/quarkus/pull/7575#pullrequestreview-369440105", "createdAt": "2020-03-05T10:08:44Z", "commit": {"oid": "9be90e12bab9acdc40cb3ccff52a6fa27eaa38eb"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3910, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}