{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ4MzQ3MDY1", "number": 10692, "title": "Support Spring Data JPA's isPersistable", "bodyText": "Resolves: #10231", "createdAt": "2020-07-13T15:59:31Z", "url": "https://github.com/quarkusio/quarkus/pull/10692", "merged": true, "mergeCommit": {"oid": "22064584f6aad99e30c31475493f607215994400"}, "closed": true, "closedAt": "2020-07-18T13:49:12Z", "author": {"login": "geoand"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc0j9fRgFqTQ0NzQwNjQ1MA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABc2IvdIAFqTQ1MTA1ODIzOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ3NDA2NDUw", "url": "https://github.com/quarkusio/quarkus/pull/10692#pullrequestreview-447406450", "createdAt": "2020-07-13T16:23:58Z", "commit": {"oid": "4b9d487382b793d8fae85b60a7aa95306439c84c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QxNjoyMzo1OFrOGwwFWg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QxNjoyMzo1OFrOGwwFWg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mzc3MjYzNA==", "bodyText": "Iteration is more efficient than recursion \ud83d\ude09", "url": "https://github.com/quarkusio/quarkus/pull/10692#discussion_r453772634", "createdAt": "2020-07-13T16:23:58Z", "author": {"login": "gastaldi"}, "path": "extensions/spring-data-jpa/deployment/src/main/java/io/quarkus/spring/data/deployment/generate/StockMethodsAdder.java", "diffHunk": "@@ -187,6 +199,24 @@ private void generateSave(ClassCreator classCreator, FieldDescriptor entityClass\n         }\n     }\n \n+    private boolean isPersistable(DotName entityDotName) {\n+        ClassInfo classInfo = index.getClassByName(entityDotName);\n+        if (classInfo == null) {\n+            throw new IllegalStateException(\"Entity \" + entityDotName + \" was not part of the Quarkus index\");\n+        }\n+\n+        if (classInfo.interfaceNames().contains(DotNames.SPRING_DATA_PERSISTABLE)) {\n+            return true;\n+        }\n+\n+        DotName superDotName = classInfo.superName();\n+        if (superDotName.equals(DotNames.OBJECT)) {\n+            return false;\n+        }\n+\n+        return isPersistable(superDotName);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4b9d487382b793d8fae85b60a7aa95306439c84c"}, "originalPosition": 147}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4b9d487382b793d8fae85b60a7aa95306439c84c", "author": {"user": {"login": "geoand", "name": "Georgios Andrianakis"}}, "url": "https://github.com/quarkusio/quarkus/commit/4b9d487382b793d8fae85b60a7aa95306439c84c", "committedDate": "2020-07-13T15:59:15Z", "message": "Support Spring Data JPA's isPersistable\n\nFixes: #10231"}, "afterCommit": {"oid": "9cb7675393bc532d04bb93b3d5dd785c8e9b3579", "author": {"user": {"login": "geoand", "name": "Georgios Andrianakis"}}, "url": "https://github.com/quarkusio/quarkus/commit/9cb7675393bc532d04bb93b3d5dd785c8e9b3579", "committedDate": "2020-07-13T20:38:20Z", "message": "Support Spring Data JPA's isPersistable\n\nFixes: #10231"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9cb7675393bc532d04bb93b3d5dd785c8e9b3579", "author": {"user": {"login": "geoand", "name": "Georgios Andrianakis"}}, "url": "https://github.com/quarkusio/quarkus/commit/9cb7675393bc532d04bb93b3d5dd785c8e9b3579", "committedDate": "2020-07-13T20:38:20Z", "message": "Support Spring Data JPA's isPersistable\n\nFixes: #10231"}, "afterCommit": {"oid": "5f1c53b40ff8123e7dcf15aaa44e4bfac5c49f1a", "author": {"user": {"login": "geoand", "name": "Georgios Andrianakis"}}, "url": "https://github.com/quarkusio/quarkus/commit/5f1c53b40ff8123e7dcf15aaa44e4bfac5c49f1a", "committedDate": "2020-07-13T21:10:10Z", "message": "Support Spring Data JPA's isPersistable\n\nFixes: #10231"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6059d011bf105efbfc23bfa19bf5203036808f64", "author": {"user": {"login": "geoand", "name": "Georgios Andrianakis"}}, "url": "https://github.com/quarkusio/quarkus/commit/6059d011bf105efbfc23bfa19bf5203036808f64", "committedDate": "2020-07-14T06:27:12Z", "message": "Support Spring Data JPA's isPersistable\n\nFixes: #10231"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5f1c53b40ff8123e7dcf15aaa44e4bfac5c49f1a", "author": {"user": {"login": "geoand", "name": "Georgios Andrianakis"}}, "url": "https://github.com/quarkusio/quarkus/commit/5f1c53b40ff8123e7dcf15aaa44e4bfac5c49f1a", "committedDate": "2020-07-13T21:10:10Z", "message": "Support Spring Data JPA's isPersistable\n\nFixes: #10231"}, "afterCommit": {"oid": "6059d011bf105efbfc23bfa19bf5203036808f64", "author": {"user": {"login": "geoand", "name": "Georgios Andrianakis"}}, "url": "https://github.com/quarkusio/quarkus/commit/6059d011bf105efbfc23bfa19bf5203036808f64", "committedDate": "2020-07-14T06:27:12Z", "message": "Support Spring Data JPA's isPersistable\n\nFixes: #10231"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUxMDU4MjM5", "url": "https://github.com/quarkusio/quarkus/pull/10692#pullrequestreview-451058239", "createdAt": "2020-07-18T13:49:04Z", "commit": {"oid": "6059d011bf105efbfc23bfa19bf5203036808f64"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3546, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}