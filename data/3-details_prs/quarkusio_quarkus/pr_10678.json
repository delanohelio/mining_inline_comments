{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ4MjE5NTk0", "number": 10678, "title": "Add and remove extension from single module project", "bodyText": "made test to add and remove extension in single module project", "createdAt": "2020-07-13T12:20:02Z", "url": "https://github.com/quarkusio/quarkus/pull/10678", "merged": true, "mergeCommit": {"oid": "1c54cd8ec3cd3960f230f4f6efe05e16eb76e5d2"}, "closed": true, "closedAt": "2020-07-14T13:12:26Z", "author": {"login": "Garima829"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc0grd3gFqTQ0NzIwNzc5Mw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABc0iY6wAFqTQ0NzMwOTE1NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ3MjA3Nzkz", "url": "https://github.com/quarkusio/quarkus/pull/10678#pullrequestreview-447207793", "createdAt": "2020-07-13T12:34:34Z", "commit": {"oid": "33f631a432e7c95bd28755dff254cee52ef0dd83"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QxMjozNDozNFrOGwmjCg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QxMjozNDozNFrOGwmjCg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzYxNjM5NA==", "bodyText": "You can use Files.readAllBytes instead", "url": "https://github.com/quarkusio/quarkus/pull/10678#discussion_r453616394", "createdAt": "2020-07-13T12:34:34Z", "author": {"login": "gastaldi"}, "path": "integration-tests/gradle/src/test/java/io/quarkus/gradle/AddExtensionToSingleModuleProjectTest.java", "diffHunk": "@@ -0,0 +1,46 @@\n+package io.quarkus.gradle;\n+\n+import static org.assertj.core.api.Assertions.assertThat;\n+\n+import java.io.BufferedReader;\n+import java.io.File;\n+import java.io.IOException;\n+import java.io.StringWriter;\n+import java.net.URISyntaxException;\n+import java.nio.file.Files;\n+import java.nio.file.Path;\n+\n+import org.junit.jupiter.api.Test;\n+\n+public class AddExtensionToSingleModuleProjectTest extends QuarkusGradleWrapperTestBase {\n+\n+    private static final int DEFAULT_BUFFER_SIZE = 1024 * 4;\n+\n+    @Test\n+    public void testAddAndRemoveExtension() throws IOException, URISyntaxException, InterruptedException {\n+\n+        final File projectDir = getProjectDir(\"add-remove-extension-single-module\");\n+\n+        runGradleWrapper(projectDir, \":addExtension\", \"--extensions=hibernate-orm\");\n+\n+        final Path Build = projectDir.toPath().resolve(\"build.gradle\");\n+        assertThat(Build).exists();\n+        assertThat(readFile(Build)).contains(\"implementation 'io.quarkus:quarkus-hibernate-orm'\");\n+\n+        runGradleWrapper(projectDir, \":removeExtension\", \"--extensions=hibernate-orm\");\n+        assertThat(readFile(Build)).doesNotContain(\"implementation 'io.quarkus:quarkus-hibernate-orm'\");\n+\n+    }\n+\n+    private static String readFile(Path file) throws IOException {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "33f631a432e7c95bd28755dff254cee52ef0dd83"}, "originalPosition": 35}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "33f631a432e7c95bd28755dff254cee52ef0dd83", "author": {"user": null}, "url": "https://github.com/quarkusio/quarkus/commit/33f631a432e7c95bd28755dff254cee52ef0dd83", "committedDate": "2020-07-13T12:17:29Z", "message": "Add and remove extension from single module project"}, "afterCommit": {"oid": "3ebdda4db70835b1a1655c2d19da4eb1aa75b842", "author": {"user": null}, "url": "https://github.com/quarkusio/quarkus/commit/3ebdda4db70835b1a1655c2d19da4eb1aa75b842", "committedDate": "2020-07-13T13:46:05Z", "message": "Add and remove extension from single module project"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ3MjcwOTY2", "url": "https://github.com/quarkusio/quarkus/pull/10678#pullrequestreview-447270966", "createdAt": "2020-07-13T13:52:09Z", "commit": {"oid": "3ebdda4db70835b1a1655c2d19da4eb1aa75b842"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QxMzo1MjowOVrOGwpiHA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QxMzo1MjowOVrOGwpiHA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzY2NTMwOA==", "bodyText": "Files.readString is JDK11+. Unfortunately, the code including tests must (still) be JDK8 compatible.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    assertThat(Files.readString(Build)).contains(\"implementation 'io.quarkus:quarkus-hibernate-orm'\");\n          \n          \n            \n                    assertThat(new String(Files.readAllBytes(Build))).contains(\"implementation 'io.quarkus:quarkus-hibernate-orm'\");", "url": "https://github.com/quarkusio/quarkus/pull/10678#discussion_r453665308", "createdAt": "2020-07-13T13:52:09Z", "author": {"login": "gastaldi"}, "path": "integration-tests/gradle/src/test/java/io/quarkus/gradle/AddExtensionToSingleModuleProjectTest.java", "diffHunk": "@@ -0,0 +1,48 @@\n+package io.quarkus.gradle;\n+\n+import static org.assertj.core.api.Assertions.assertThat;\n+\n+import java.io.File;\n+import java.io.IOException;\n+import java.net.URISyntaxException;\n+import java.nio.file.Files;\n+import java.nio.file.Path;\n+\n+import org.junit.jupiter.api.Test;\n+\n+public class AddExtensionToSingleModuleProjectTest extends QuarkusGradleWrapperTestBase {\n+\n+    @Test\n+    public void testAddAndRemoveExtension() throws IOException, URISyntaxException, InterruptedException {\n+\n+        final File projectDir = getProjectDir(\"add-remove-extension-single-module\");\n+\n+        runGradleWrapper(projectDir, \":addExtension\", \"--extensions=hibernate-orm\");\n+\n+        final Path Build = projectDir.toPath().resolve(\"build.gradle\");\n+        assertThat(Build).exists();\n+        assertThat(Files.readString(Build)).contains(\"implementation 'io.quarkus:quarkus-hibernate-orm'\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3ebdda4db70835b1a1655c2d19da4eb1aa75b842"}, "originalPosition": 24}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7c44acd0423fc3adcae1854f565b7f8377950790", "author": {"user": null}, "url": "https://github.com/quarkusio/quarkus/commit/7c44acd0423fc3adcae1854f565b7f8377950790", "committedDate": "2020-07-13T14:24:43Z", "message": "Add and remove extension from single module project"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3ebdda4db70835b1a1655c2d19da4eb1aa75b842", "author": {"user": null}, "url": "https://github.com/quarkusio/quarkus/commit/3ebdda4db70835b1a1655c2d19da4eb1aa75b842", "committedDate": "2020-07-13T13:46:05Z", "message": "Add and remove extension from single module project"}, "afterCommit": {"oid": "7c44acd0423fc3adcae1854f565b7f8377950790", "author": {"user": null}, "url": "https://github.com/quarkusio/quarkus/commit/7c44acd0423fc3adcae1854f565b7f8377950790", "committedDate": "2020-07-13T14:24:43Z", "message": "Add and remove extension from single module project"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ3MzA5MTU0", "url": "https://github.com/quarkusio/quarkus/pull/10678#pullrequestreview-447309154", "createdAt": "2020-07-13T14:34:08Z", "commit": {"oid": "7c44acd0423fc3adcae1854f565b7f8377950790"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3538, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}