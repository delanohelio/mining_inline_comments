{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM5MDM2NTc4", "number": 13863, "reviewThreads": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQxMToxNToyOVrOFE7mlg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMi0xMFQwOToxODowNVrOFYzJYw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQwNzE1MTU4OnYy", "diffSide": "RIGHT", "path": "docs/src/main/asciidoc/mongodb.adoc", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQxMToxNToyOVrOIFLqQA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMi0wOVQxODozNToyMFrOIilaYA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjMwNDgzMg==", "bodyText": "You also need to add the opentracing mongo client.\nTo avoid duplicating configuration, better add a link to the related section on the OpenTracing guide", "url": "https://github.com/quarkusio/quarkus/pull/13863#discussion_r542304832", "createdAt": "2020-12-14T11:15:29Z", "author": {"login": "loicmathieu"}, "path": "docs/src/main/asciidoc/mongodb.adoc", "diffHunk": "@@ -596,6 +596,12 @@ This behavior must first be enabled by setting the `quarkus.mongodb.metrics.enab\n So when you access the `/q/metrics` endpoint of your application you will have information about the connection pool status.\n When using link:microprofile-metrics[SmallRye Metrics], connection pool metrics will be available under the `vendor` scope.\n \n+== Tracing\n+\n+If you are using the `quarkus-smallrye-opentracing` extension, `quarkus-mongodb-client` can register traces about the commands executed.\n+This behavior must first be enabled by setting the `quarkus.mongodb.tracing.enabled` property to `true` in your `application.properties`.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "03a721763a90cc3401198631f4c299a504be5a05"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MzEzNTQ1Ng==", "bodyText": "Added the info about the requirement and the link to the OpenTracing guide specific section.", "url": "https://github.com/quarkusio/quarkus/pull/13863#discussion_r573135456", "createdAt": "2021-02-09T18:35:20Z", "author": {"login": "juazugas"}, "path": "docs/src/main/asciidoc/mongodb.adoc", "diffHunk": "@@ -596,6 +596,12 @@ This behavior must first be enabled by setting the `quarkus.mongodb.metrics.enab\n So when you access the `/q/metrics` endpoint of your application you will have information about the connection pool status.\n When using link:microprofile-metrics[SmallRye Metrics], connection pool metrics will be available under the `vendor` scope.\n \n+== Tracing\n+\n+If you are using the `quarkus-smallrye-opentracing` extension, `quarkus-mongodb-client` can register traces about the commands executed.\n+This behavior must first be enabled by setting the `quarkus.mongodb.tracing.enabled` property to `true` in your `application.properties`.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjMwNDgzMg=="}, "originalCommit": {"oid": "03a721763a90cc3401198631f4c299a504be5a05"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQwNzE3MDU2OnYy", "diffSide": "RIGHT", "path": "extensions/mongodb-client/deployment/src/main/java/io/quarkus/mongodb/deployment/MongoClientProcessor.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQxMToyMDowNFrOIFL1HQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMi0wOVQxODozNTo1NFrOIilcKw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjMwNzYxMw==", "bodyText": "Don't index it if you don't want to include it automatically later !", "url": "https://github.com/quarkusio/quarkus/pull/13863#discussion_r542307613", "createdAt": "2020-12-14T11:20:04Z", "author": {"login": "loicmathieu"}, "path": "extensions/mongodb-client/deployment/src/main/java/io/quarkus/mongodb/deployment/MongoClientProcessor.java", "diffHunk": "@@ -66,6 +72,20 @@\n     private static final DotName MONGO_CLIENT = DotName.createSimple(MongoClient.class.getName());\n     private static final DotName REACTIVE_MONGO_CLIENT = DotName.createSimple(ReactiveMongoClient.class.getName());\n \n+    static class MongoClientTracingEnabled implements BooleanSupplier {\n+        MongoClientBuildTimeConfig mConfig;\n+\n+        @Override\n+        public boolean getAsBoolean() {\n+            return mConfig.tracingEnabled;\n+        }\n+    }\n+\n+    @BuildStep(onlyIf = MongoClientTracingEnabled.class)\n+    IndexDependencyBuildItem addMongoTracingDependencies() {\n+        return new IndexDependencyBuildItem(\"io.opentracing.contrib\", \"opentracing-mongo-common\");\n+    }\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "03a721763a90cc3401198631f4c299a504be5a05"}, "originalPosition": 51}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MzEzNTkxNQ==", "bodyText": "Removed", "url": "https://github.com/quarkusio/quarkus/pull/13863#discussion_r573135915", "createdAt": "2021-02-09T18:35:54Z", "author": {"login": "juazugas"}, "path": "extensions/mongodb-client/deployment/src/main/java/io/quarkus/mongodb/deployment/MongoClientProcessor.java", "diffHunk": "@@ -66,6 +72,20 @@\n     private static final DotName MONGO_CLIENT = DotName.createSimple(MongoClient.class.getName());\n     private static final DotName REACTIVE_MONGO_CLIENT = DotName.createSimple(ReactiveMongoClient.class.getName());\n \n+    static class MongoClientTracingEnabled implements BooleanSupplier {\n+        MongoClientBuildTimeConfig mConfig;\n+\n+        @Override\n+        public boolean getAsBoolean() {\n+            return mConfig.tracingEnabled;\n+        }\n+    }\n+\n+    @BuildStep(onlyIf = MongoClientTracingEnabled.class)\n+    IndexDependencyBuildItem addMongoTracingDependencies() {\n+        return new IndexDependencyBuildItem(\"io.opentracing.contrib\", \"opentracing-mongo-common\");\n+    }\n+", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjMwNzYxMw=="}, "originalCommit": {"oid": "03a721763a90cc3401198631f4c299a504be5a05"}, "originalPosition": 51}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQwNzE3NTI1OnYy", "diffSide": "RIGHT", "path": "extensions/mongodb-client/deployment/src/main/java/io/quarkus/mongodb/deployment/MongoClientProcessor.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQxMToyMTowNVrOIFL3pA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMi0wOVQxODo1MDowN1rOIimDsw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjMwODI2MA==", "bodyText": "You should index your MongoTracingCommandListener if tracing is enabled and the capability is present in a dedicated step. By this you will not have to remove the TracingCommandListene and add your own", "url": "https://github.com/quarkusio/quarkus/pull/13863#discussion_r542308260", "createdAt": "2020-12-14T11:21:05Z", "author": {"login": "loicmathieu"}, "path": "extensions/mongodb-client/deployment/src/main/java/io/quarkus/mongodb/deployment/MongoClientProcessor.java", "diffHunk": "@@ -93,10 +113,20 @@ BsonDiscriminatorBuildItem collectBsonDiscriminators(CombinedIndexBuildItem inde\n     }\n \n     @BuildStep\n-    CommandListenerBuildItem collectCommandListeners(CombinedIndexBuildItem indexBuildItem) {\n+    CommandListenerBuildItem collectCommandListeners(CombinedIndexBuildItem indexBuildItem, Capabilities capabilities,\n+            MongoClientBuildTimeConfig buildTimeConfig) {\n+        Predicate<String> isTracingCommandListenerPredicate = name -> name\n+                .equalsIgnoreCase(\"io.opentracing.contrib.mongo.common.TracingCommandListener\");\n         Collection<ClassInfo> commandListenerClasses = indexBuildItem.getIndex()\n                 .getAllKnownImplementors(DotName.createSimple(CommandListener.class.getName()));\n-        List<String> names = commandListenerClasses.stream().map(ci -> ci.name().toString()).collect(Collectors.toList());\n+        List<String> names = commandListenerClasses.stream()\n+                .map(ci -> ci.name().toString())\n+                // filter the TracingCommandListener to avoid the non-default constructor class.\n+                .filter(isTracingCommandListenerPredicate.negate())\n+                .collect(Collectors.toList());\n+        if (buildTimeConfig.tracingEnabled && capabilities.isPresent(Capability.OPENTRACING)) {\n+            names.add(MongoTracingCommandListener.class.getName());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "03a721763a90cc3401198631f4c299a504be5a05"}, "originalPosition": 73}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MzE0NjAzNQ==", "bodyText": "After removing the indexing, the filtering was no more necessary.\nBut I was not able (didn't know how) to extract the indexing of the MongoTracingCommandListener in a separate BuildStep. I did it but I got a cycle detection error when including the Jackson extension (between the capabilities and the combined index due to the JacksonProcessor.register). So finally I decide to keep the manually adding part but if the dedicated step is required I will need some hints about how to do it.", "url": "https://github.com/quarkusio/quarkus/pull/13863#discussion_r573146035", "createdAt": "2021-02-09T18:50:07Z", "author": {"login": "juazugas"}, "path": "extensions/mongodb-client/deployment/src/main/java/io/quarkus/mongodb/deployment/MongoClientProcessor.java", "diffHunk": "@@ -93,10 +113,20 @@ BsonDiscriminatorBuildItem collectBsonDiscriminators(CombinedIndexBuildItem inde\n     }\n \n     @BuildStep\n-    CommandListenerBuildItem collectCommandListeners(CombinedIndexBuildItem indexBuildItem) {\n+    CommandListenerBuildItem collectCommandListeners(CombinedIndexBuildItem indexBuildItem, Capabilities capabilities,\n+            MongoClientBuildTimeConfig buildTimeConfig) {\n+        Predicate<String> isTracingCommandListenerPredicate = name -> name\n+                .equalsIgnoreCase(\"io.opentracing.contrib.mongo.common.TracingCommandListener\");\n         Collection<ClassInfo> commandListenerClasses = indexBuildItem.getIndex()\n                 .getAllKnownImplementors(DotName.createSimple(CommandListener.class.getName()));\n-        List<String> names = commandListenerClasses.stream().map(ci -> ci.name().toString()).collect(Collectors.toList());\n+        List<String> names = commandListenerClasses.stream()\n+                .map(ci -> ci.name().toString())\n+                // filter the TracingCommandListener to avoid the non-default constructor class.\n+                .filter(isTracingCommandListenerPredicate.negate())\n+                .collect(Collectors.toList());\n+        if (buildTimeConfig.tracingEnabled && capabilities.isPresent(Capability.OPENTRACING)) {\n+            names.add(MongoTracingCommandListener.class.getName());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjMwODI2MA=="}, "originalCommit": {"oid": "03a721763a90cc3401198631f4c299a504be5a05"}, "originalPosition": 73}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQwNzE4NTI5OnYy", "diffSide": "RIGHT", "path": "extensions/mongodb-client/runtime/src/main/java/io/quarkus/mongodb/tracing/MongoTracingCommandListener.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQxMToyMzoyNlrOIFL9Ow==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQxMToyMzoyNlrOIFL9Ow==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjMwOTY5MQ==", "bodyText": "If this is the only reason why we cannot directly use the TracingCommandListener maybe open an issue upstream (and propose a PR) to avoid maintaining this MongoTracingCommandListener that only build the TracingCommandListener with the GlobalTracer.\nYou can keep this class while waiting for the fix upstream as a workaround", "url": "https://github.com/quarkusio/quarkus/pull/13863#discussion_r542309691", "createdAt": "2020-12-14T11:23:26Z", "author": {"login": "loicmathieu"}, "path": "extensions/mongodb-client/runtime/src/main/java/io/quarkus/mongodb/tracing/MongoTracingCommandListener.java", "diffHunk": "@@ -0,0 +1,46 @@\n+package io.quarkus.mongodb.tracing;\n+\n+import com.mongodb.event.CommandFailedEvent;\n+import com.mongodb.event.CommandListener;\n+import com.mongodb.event.CommandStartedEvent;\n+import com.mongodb.event.CommandSucceededEvent;\n+\n+import io.opentracing.contrib.mongo.common.TracingCommandListener;\n+import io.opentracing.util.GlobalTracer;\n+import io.vertx.core.logging.Logger;\n+import io.vertx.core.logging.LoggerFactory;\n+\n+/**\n+ * Command Listener for Mongo client delegated to {@link TracingCommandListener}.\n+ * \n+ */\n+public class MongoTracingCommandListener implements CommandListener {\n+\n+    private static final Logger LOGGER = LoggerFactory.getLogger(MongoTracingCommandListener.class);\n+\n+    private TracingCommandListener delegate;\n+\n+    public MongoTracingCommandListener() {\n+        this.delegate = new TracingCommandListener.Builder(GlobalTracer.get()).build();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "03a721763a90cc3401198631f4c299a504be5a05"}, "originalPosition": 24}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzYxNTQzNDcxOnYy", "diffSide": "RIGHT", "path": "docs/src/main/asciidoc/mongodb.adoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMi0xMFQwOTowNzowNlrOIi_I2g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMi0xMFQwOTowNzowNlrOIi_I2g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MzU1Njk1NA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            This behavior must be enabled by setting the `quarkus.mongodb.tracing.enabled` property to `true` in your `application.properties` and adding the dependency `io.opentracing.contrib:opentracing-mongo-common` to your pom.xml (for more info read the link:opentracing#mongodb-client[MongoDB client])\n          \n          \n            \n            This behavior must be enabled by setting the `quarkus.mongodb.tracing.enabled` property to `true` in your `application.properties` and adding the dependency `io.opentracing.contrib:opentracing-mongo-common` to your pom.xml (for more info read the link:opentracing#mongodb-client[OpenTracing - MongoDB client] section)", "url": "https://github.com/quarkusio/quarkus/pull/13863#discussion_r573556954", "createdAt": "2021-02-10T09:07:06Z", "author": {"login": "loicmathieu"}, "path": "docs/src/main/asciidoc/mongodb.adoc", "diffHunk": "@@ -596,6 +596,12 @@ This behavior must first be enabled by setting the `quarkus.mongodb.metrics.enab\n So when you access the `/q/metrics` endpoint of your application you will have information about the connection pool status.\n When using link:microprofile-metrics[SmallRye Metrics], connection pool metrics will be available under the `vendor` scope.\n \n+== Tracing\n+\n+If you are using the `quarkus-smallrye-opentracing` extension, `quarkus-mongodb-client` can register traces about the commands executed.\n+This behavior must be enabled by setting the `quarkus.mongodb.tracing.enabled` property to `true` in your `application.properties` and adding the dependency `io.opentracing.contrib:opentracing-mongo-common` to your pom.xml (for more info read the link:opentracing#mongodb-client[MongoDB client])", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "754517b0b7c45253568bf732739b05b94fa74410"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzYxNTQzNjkwOnYy", "diffSide": "RIGHT", "path": "docs/src/main/asciidoc/mongodb.adoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMi0xMFQwOTowNzozOVrOIi_KKg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMi0xMFQwOTowNzozOVrOIi_KKg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MzU1NzI5MA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Read the link:opentracing[OpenTracing] guide, to configure and how to use the jaeger tracer.\n          \n          \n            \n            Read the link:opentracing[OpenTracing] guide, for how to configure OpenTracing and use the Jaeger tracer.", "url": "https://github.com/quarkusio/quarkus/pull/13863#discussion_r573557290", "createdAt": "2021-02-10T09:07:39Z", "author": {"login": "loicmathieu"}, "path": "docs/src/main/asciidoc/mongodb.adoc", "diffHunk": "@@ -596,6 +596,12 @@ This behavior must first be enabled by setting the `quarkus.mongodb.metrics.enab\n So when you access the `/q/metrics` endpoint of your application you will have information about the connection pool status.\n When using link:microprofile-metrics[SmallRye Metrics], connection pool metrics will be available under the `vendor` scope.\n \n+== Tracing\n+\n+If you are using the `quarkus-smallrye-opentracing` extension, `quarkus-mongodb-client` can register traces about the commands executed.\n+This behavior must be enabled by setting the `quarkus.mongodb.tracing.enabled` property to `true` in your `application.properties` and adding the dependency `io.opentracing.contrib:opentracing-mongo-common` to your pom.xml (for more info read the link:opentracing#mongodb-client[MongoDB client])\n+\n+Read the link:opentracing[OpenTracing] guide, to configure and how to use the jaeger tracer.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "754517b0b7c45253568bf732739b05b94fa74410"}, "originalPosition": 9}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzYxNTQ3NTM0OnYy", "diffSide": "RIGHT", "path": "extensions/mongodb-client/deployment/src/main/java/io/quarkus/mongodb/deployment/MongoClientProcessor.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMi0xMFQwOToxNjo1MVrOIi_hqw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMi0xMFQwOToxNjo1MVrOIi_hqw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MzU2MzMwNw==", "bodyText": "Can you use a String here to avoid loading the class inside the deployment module ?", "url": "https://github.com/quarkusio/quarkus/pull/13863#discussion_r573563307", "createdAt": "2021-02-10T09:16:51Z", "author": {"login": "loicmathieu"}, "path": "extensions/mongodb-client/deployment/src/main/java/io/quarkus/mongodb/deployment/MongoClientProcessor.java", "diffHunk": "@@ -93,10 +106,16 @@ BsonDiscriminatorBuildItem collectBsonDiscriminators(CombinedIndexBuildItem inde\n     }\n \n     @BuildStep\n-    CommandListenerBuildItem collectCommandListeners(CombinedIndexBuildItem indexBuildItem) {\n+    CommandListenerBuildItem collectCommandListeners(CombinedIndexBuildItem indexBuildItem,\n+            MongoClientBuildTimeConfig buildTimeConfig, Capabilities capabilities) {\n         Collection<ClassInfo> commandListenerClasses = indexBuildItem.getIndex()\n                 .getAllKnownImplementors(DotName.createSimple(CommandListener.class.getName()));\n-        List<String> names = commandListenerClasses.stream().map(ci -> ci.name().toString()).collect(Collectors.toList());\n+        List<String> names = commandListenerClasses.stream()\n+                .map(ci -> ci.name().toString())\n+                .collect(Collectors.toList());\n+        if (buildTimeConfig.tracingEnabled && capabilities.isPresent(Capability.OPENTRACING)) {\n+            names.add(MongoTracingCommandListener.class.getName());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "754517b0b7c45253568bf732739b05b94fa74410"}, "originalPosition": 55}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzYxNTQ4MTMxOnYy", "diffSide": "RIGHT", "path": "extensions/mongodb-client/deployment/src/main/java/io/quarkus/mongodb/deployment/MongoClientProcessor.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMi0xMFQwOToxODowNlrOIi_lKA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMi0xMFQxODo1MjozNVrOIjZh3g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MzU2NDIwMA==", "bodyText": "I don't see this being used anywhere ?", "url": "https://github.com/quarkusio/quarkus/pull/13863#discussion_r573564200", "createdAt": "2021-02-10T09:18:06Z", "author": {"login": "loicmathieu"}, "path": "extensions/mongodb-client/deployment/src/main/java/io/quarkus/mongodb/deployment/MongoClientProcessor.java", "diffHunk": "@@ -66,6 +70,15 @@\n     private static final DotName MONGO_CLIENT = DotName.createSimple(MongoClient.class.getName());\n     private static final DotName REACTIVE_MONGO_CLIENT = DotName.createSimple(ReactiveMongoClient.class.getName());\n \n+    static class MongoClientTracingEnabled implements BooleanSupplier {\n+        MongoClientBuildTimeConfig mConfig;\n+\n+        @Override\n+        public boolean getAsBoolean() {\n+            return mConfig.tracingEnabled;\n+        }\n+    }\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "754517b0b7c45253568bf732739b05b94fa74410"}, "originalPosition": 37}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3Mzk4OTM0Mg==", "bodyText": "No, it is not. Remove it in the new push. Left the class in case we wanted the build step. But it makes no sense to keep it. Thanks", "url": "https://github.com/quarkusio/quarkus/pull/13863#discussion_r573989342", "createdAt": "2021-02-10T18:52:35Z", "author": {"login": "juazugas"}, "path": "extensions/mongodb-client/deployment/src/main/java/io/quarkus/mongodb/deployment/MongoClientProcessor.java", "diffHunk": "@@ -66,6 +70,15 @@\n     private static final DotName MONGO_CLIENT = DotName.createSimple(MongoClient.class.getName());\n     private static final DotName REACTIVE_MONGO_CLIENT = DotName.createSimple(ReactiveMongoClient.class.getName());\n \n+    static class MongoClientTracingEnabled implements BooleanSupplier {\n+        MongoClientBuildTimeConfig mConfig;\n+\n+        @Override\n+        public boolean getAsBoolean() {\n+            return mConfig.tracingEnabled;\n+        }\n+    }\n+", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MzU2NDIwMA=="}, "originalCommit": {"oid": "754517b0b7c45253568bf732739b05b94fa74410"}, "originalPosition": 37}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4526, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}