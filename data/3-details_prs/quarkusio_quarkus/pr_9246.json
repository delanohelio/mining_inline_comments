{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE3MDkzODgx", "number": 9246, "title": "Explicitly set the io.netty.machineId system property to prevent potential slowdown during Netty channel initialization", "bodyText": "Fixes #8822\nAs noted in the linked issue, this should prevent potential slowdown when the DefaultChannelId is initialized. With this system property being set, the DefaultChannelId implementation will now bypass the potentially expensive \"best\" MAC address determination.\nThis commit also changes the WARN message to be a bit more accurate about what it is complaining about. The previous message wasn't accurate since the slowdown didn't necessarily have to do with the localhost lookup.", "createdAt": "2020-05-13T03:35:05Z", "url": "https://github.com/quarkusio/quarkus/pull/9246", "merged": true, "mergeCommit": {"oid": "72a6ff10cfe7b6fe7f8a6a68e0979f39f1b8288a"}, "closed": true, "closedAt": "2020-05-14T04:04:02Z", "author": {"login": "jaikiran"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcgwgUQAFqTQxMDU2NjgyMg==", "endCursor": "Y3Vyc29yOnYyOpPPAAABchFaPNAFqTQxMTQ1MDEwNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEwNTY2ODIy", "url": "https://github.com/quarkusio/quarkus/pull/9246#pullrequestreview-410566822", "createdAt": "2020-05-13T03:42:24Z", "commit": {"oid": "333889db40bb4cccc4a82b921f3e8b8b61067a60"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QwMzo0MjoyNFrOGUgZSQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QwMzo0MjoyNFrOGUgZSQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDE1NTQ2NQ==", "bodyText": "I don't know if this is any clearer, as the average user will have no idea what this is about.\nWith this system property this should no longer be an issue so maybe we should just remove this message?", "url": "https://github.com/quarkusio/quarkus/pull/9246#discussion_r424155465", "createdAt": "2020-05-13T03:42:24Z", "author": {"login": "stuartwdouglas"}, "path": "extensions/netty/runtime/src/main/java/io/quarkus/netty/runtime/NettyRecorder.java", "diffHunk": "@@ -16,17 +16,17 @@\n \n     public void eagerlyInitChannelId() {\n         //this class is slow to init and can block the IO thread and cause a warning\n-        //we init it from a throway thread to stop this\n+        //we init it from a throwaway thread to stop this\n         //we do it from another thread so as not to affect start time\n         new Thread(new Runnable() {\n             @Override\n             public void run() {\n                 long start = System.currentTimeMillis();\n                 DefaultChannelId.newInstance();\n                 if (System.currentTimeMillis() - start > 1000) {\n-                    log.warn(\n-                            \"Localhost lookup took more than one second, you need to add a /etc/hosts entry to improve Quarkus startup time. \"\n-                                    + \"On Windows the path is C:\\\\Windows\\\\System32\\\\Drivers\\\\etc\\\\hosts. See https://thoeni.io/post/macos-sierra-java/ for macOS details.\");\n+                    log.warn(\"Netty DefaultChannelId initialization (with io.netty.machineId\" +", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "333889db40bb4cccc4a82b921f3e8b8b61067a60"}, "originalPosition": 16}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9299d8206cfff3235b57efc1f978033a755a84a9", "author": {"user": {"login": "jaikiran", "name": "Jaikiran"}}, "url": "https://github.com/quarkusio/quarkus/commit/9299d8206cfff3235b57efc1f978033a755a84a9", "committedDate": "2020-05-13T03:54:30Z", "message": "issue#8822 Explicitly set the io.netty.machineId system property to prevent potential slowdown during the io.netty.channel.DefaultChannelId initialization"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "333889db40bb4cccc4a82b921f3e8b8b61067a60", "author": {"user": {"login": "jaikiran", "name": "Jaikiran"}}, "url": "https://github.com/quarkusio/quarkus/commit/333889db40bb4cccc4a82b921f3e8b8b61067a60", "committedDate": "2020-05-13T03:31:32Z", "message": "issue#8822 Explicitly set the io.netty.machineId system property to prevent potential slowdown during the io.netty.channel.DefaultChannelId initialization"}, "afterCommit": {"oid": "9299d8206cfff3235b57efc1f978033a755a84a9", "author": {"user": {"login": "jaikiran", "name": "Jaikiran"}}, "url": "https://github.com/quarkusio/quarkus/commit/9299d8206cfff3235b57efc1f978033a755a84a9", "committedDate": "2020-05-13T03:54:30Z", "message": "issue#8822 Explicitly set the io.netty.machineId system property to prevent potential slowdown during the io.netty.channel.DefaultChannelId initialization"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDExNDUwMTA3", "url": "https://github.com/quarkusio/quarkus/pull/9246#pullrequestreview-411450107", "createdAt": "2020-05-14T04:03:46Z", "commit": {"oid": "9299d8206cfff3235b57efc1f978033a755a84a9"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3423, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}