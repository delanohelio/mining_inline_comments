{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE3MzY1MTc4", "number": 9268, "reviewThreads": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QxMzozODoyM1rOD8EemA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QxMzo0OTo1NFrOD8EzkA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0MzE0NTIwOnYy", "diffSide": "RIGHT", "path": "extensions/panache/mongodb-panache/runtime/src/main/java/io/quarkus/mongodb/panache/binder/CommonQueryBinder.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QxMzozODoyM1rOGUyBlw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QxNDo1NToyMVrOGU1pcA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDQ0NDMxMQ==", "bodyText": "Wildcard imports are prohibited", "url": "https://github.com/quarkusio/quarkus/pull/9268#discussion_r424444311", "createdAt": "2020-05-13T13:38:23Z", "author": {"login": "loicmathieu"}, "path": "extensions/panache/mongodb-panache/runtime/src/main/java/io/quarkus/mongodb/panache/binder/CommonQueryBinder.java", "diffHunk": "@@ -6,8 +6,7 @@\n import java.time.LocalDateTime;\n import java.time.ZoneOffset;\n import java.time.format.DateTimeFormatter;\n-import java.util.Date;\n-import java.util.TimeZone;\n+import java.util.*;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "474b83f59228af2a416db0b0ba29eb0f61a8abc0"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDUwMzIwMQ==", "bodyText": "Done.", "url": "https://github.com/quarkusio/quarkus/pull/9268#discussion_r424503201", "createdAt": "2020-05-13T14:54:50Z", "author": {"login": "diogocarleto"}, "path": "extensions/panache/mongodb-panache/runtime/src/main/java/io/quarkus/mongodb/panache/binder/CommonQueryBinder.java", "diffHunk": "@@ -6,8 +6,7 @@\n import java.time.LocalDateTime;\n import java.time.ZoneOffset;\n import java.time.format.DateTimeFormatter;\n-import java.util.Date;\n-import java.util.TimeZone;\n+import java.util.*;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDQ0NDMxMQ=="}, "originalCommit": {"oid": "474b83f59228af2a416db0b0ba29eb0f61a8abc0"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDUwMzY2NA==", "bodyText": "I don't know why IntelliJ adds replace this for all the package, I'll check later.", "url": "https://github.com/quarkusio/quarkus/pull/9268#discussion_r424503664", "createdAt": "2020-05-13T14:55:21Z", "author": {"login": "diogocarleto"}, "path": "extensions/panache/mongodb-panache/runtime/src/main/java/io/quarkus/mongodb/panache/binder/CommonQueryBinder.java", "diffHunk": "@@ -6,8 +6,7 @@\n import java.time.LocalDateTime;\n import java.time.ZoneOffset;\n import java.time.format.DateTimeFormatter;\n-import java.util.Date;\n-import java.util.TimeZone;\n+import java.util.*;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDQ0NDMxMQ=="}, "originalCommit": {"oid": "474b83f59228af2a416db0b0ba29eb0f61a8abc0"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0MzE3MjI5OnYy", "diffSide": "RIGHT", "path": "extensions/panache/mongodb-panache/runtime/src/main/java/io/quarkus/mongodb/panache/binder/CommonQueryBinder.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QxMzo0NDoyMFrOGUyTHg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QxNToxMToyOFrOGU2aDA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDQ0ODc5OA==", "bodyText": "You can use an iterator or turn you collection into an array to avoid creating a new ArrayList from the collection.\nAnd you can use a StringJoiner to avoid dealing with leading , ...", "url": "https://github.com/quarkusio/quarkus/pull/9268#discussion_r424448798", "createdAt": "2020-05-13T13:44:20Z", "author": {"login": "loicmathieu"}, "path": "extensions/panache/mongodb-panache/runtime/src/main/java/io/quarkus/mongodb/panache/binder/CommonQueryBinder.java", "diffHunk": "@@ -55,4 +57,27 @@ static String escape(Object value) {\n         }\n         return \"'\" + value.toString().replace(\"\\\\\", \"\\\\\\\\\").replace(\"'\", \"\\\\'\") + \"'\";\n     }\n+\n+    /**\n+     * Method used to apply in $in operators\n+     */\n+    private static String arrayValue(Object value) {\n+        StringBuilder arrayValue = new StringBuilder();\n+        List valueList = valueToList(value);\n+        for (int i = 0; i < valueList.size(); i++) {\n+            arrayValue.append(escape(valueList.get(i)));\n+            if (i + 1 < valueList.size()) {\n+                arrayValue.append(\", \");\n+            }\n+        }\n+        return arrayValue.toString();\n+    }\n+\n+    private static List valueToList(Object value) {\n+        if (value.getClass().isArray()) {\n+            return Arrays.asList((Object[]) value);\n+        }\n+\n+        return new ArrayList<>((Collection) value);\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "474b83f59228af2a416db0b0ba29eb0f61a8abc0"}, "originalPosition": 46}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDUwMzc2MA==", "bodyText": "Done.", "url": "https://github.com/quarkusio/quarkus/pull/9268#discussion_r424503760", "createdAt": "2020-05-13T14:55:28Z", "author": {"login": "diogocarleto"}, "path": "extensions/panache/mongodb-panache/runtime/src/main/java/io/quarkus/mongodb/panache/binder/CommonQueryBinder.java", "diffHunk": "@@ -55,4 +57,27 @@ static String escape(Object value) {\n         }\n         return \"'\" + value.toString().replace(\"\\\\\", \"\\\\\\\\\").replace(\"'\", \"\\\\'\") + \"'\";\n     }\n+\n+    /**\n+     * Method used to apply in $in operators\n+     */\n+    private static String arrayValue(Object value) {\n+        StringBuilder arrayValue = new StringBuilder();\n+        List valueList = valueToList(value);\n+        for (int i = 0; i < valueList.size(); i++) {\n+            arrayValue.append(escape(valueList.get(i)));\n+            if (i + 1 < valueList.size()) {\n+                arrayValue.append(\", \");\n+            }\n+        }\n+        return arrayValue.toString();\n+    }\n+\n+    private static List valueToList(Object value) {\n+        if (value.getClass().isArray()) {\n+            return Arrays.asList((Object[]) value);\n+        }\n+\n+        return new ArrayList<>((Collection) value);\n+    }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDQ0ODc5OA=="}, "originalCommit": {"oid": "474b83f59228af2a416db0b0ba29eb0f61a8abc0"}, "originalPosition": 46}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDUxNjEwOA==", "bodyText": "Thanks, it's nicer ;)", "url": "https://github.com/quarkusio/quarkus/pull/9268#discussion_r424516108", "createdAt": "2020-05-13T15:11:28Z", "author": {"login": "loicmathieu"}, "path": "extensions/panache/mongodb-panache/runtime/src/main/java/io/quarkus/mongodb/panache/binder/CommonQueryBinder.java", "diffHunk": "@@ -55,4 +57,27 @@ static String escape(Object value) {\n         }\n         return \"'\" + value.toString().replace(\"\\\\\", \"\\\\\\\\\").replace(\"'\", \"\\\\'\") + \"'\";\n     }\n+\n+    /**\n+     * Method used to apply in $in operators\n+     */\n+    private static String arrayValue(Object value) {\n+        StringBuilder arrayValue = new StringBuilder();\n+        List valueList = valueToList(value);\n+        for (int i = 0; i < valueList.size(); i++) {\n+            arrayValue.append(escape(valueList.get(i)));\n+            if (i + 1 < valueList.size()) {\n+                arrayValue.append(\", \");\n+            }\n+        }\n+        return arrayValue.toString();\n+    }\n+\n+    private static List valueToList(Object value) {\n+        if (value.getClass().isArray()) {\n+            return Arrays.asList((Object[]) value);\n+        }\n+\n+        return new ArrayList<>((Collection) value);\n+    }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDQ0ODc5OA=="}, "originalCommit": {"oid": "474b83f59228af2a416db0b0ba29eb0f61a8abc0"}, "originalPosition": 46}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0MzE4NTMxOnYy", "diffSide": "RIGHT", "path": "extensions/panache/mongodb-panache/runtime/src/main/java/io/quarkus/mongodb/panache/binder/MongoParserVisitor.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QxMzo0NzowM1rOGUybVA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QxNDo1NTozNFrOGU1qHg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDQ1MDkwMA==", "bodyText": "All operators are escaped with single quotes.\nI know this is not mandatory but I prefere to keep it this way", "url": "https://github.com/quarkusio/quarkus/pull/9268#discussion_r424450900", "createdAt": "2020-05-13T13:47:03Z", "author": {"login": "loicmathieu"}, "path": "extensions/panache/mongodb-panache/runtime/src/main/java/io/quarkus/mongodb/panache/binder/MongoParserVisitor.java", "diffHunk": "@@ -100,4 +100,13 @@ public String visitPathExpression(HqlParser.PathExpressionContext ctx) {\n         // this is the name of the field, we apply replacement and escape with '\n         return \"'\" + replacementMap.getOrDefault(ctx.getText(), ctx.getText()) + \"'\";\n     }\n+\n+    @Override\n+    public String visitInPredicate(HqlParser.InPredicateContext ctx) {\n+        StringBuilder sb = new StringBuilder(ctx.expression().accept(this))\n+                .append(\":{$in:[\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "474b83f59228af2a416db0b0ba29eb0f61a8abc0"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDUwMzgzOA==", "bodyText": "Done.", "url": "https://github.com/quarkusio/quarkus/pull/9268#discussion_r424503838", "createdAt": "2020-05-13T14:55:34Z", "author": {"login": "diogocarleto"}, "path": "extensions/panache/mongodb-panache/runtime/src/main/java/io/quarkus/mongodb/panache/binder/MongoParserVisitor.java", "diffHunk": "@@ -100,4 +100,13 @@ public String visitPathExpression(HqlParser.PathExpressionContext ctx) {\n         // this is the name of the field, we apply replacement and escape with '\n         return \"'\" + replacementMap.getOrDefault(ctx.getText(), ctx.getText()) + \"'\";\n     }\n+\n+    @Override\n+    public String visitInPredicate(HqlParser.InPredicateContext ctx) {\n+        StringBuilder sb = new StringBuilder(ctx.expression().accept(this))\n+                .append(\":{$in:[\")", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDQ1MDkwMA=="}, "originalCommit": {"oid": "474b83f59228af2a416db0b0ba29eb0f61a8abc0"}, "originalPosition": 8}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0MzE5MjMzOnYy", "diffSide": "RIGHT", "path": "extensions/panache/mongodb-panache/runtime/src/test/java/io/quarkus/mongodb/panache/runtime/MongoOperationsTest.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QxMzo0ODozMVrOGUyf0g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QxNDo1NTozOVrOGU1qUA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDQ1MjA1MA==", "bodyText": "Can you escape field with single quotes as in the other examples ?\nAnd do the same in the other test methods", "url": "https://github.com/quarkusio/quarkus/pull/9268#discussion_r424452050", "createdAt": "2020-05-13T13:48:31Z", "author": {"login": "loicmathieu"}, "path": "extensions/panache/mongodb-panache/runtime/src/test/java/io/quarkus/mongodb/panache/runtime/MongoOperationsTest.java", "diffHunk": "@@ -97,6 +94,24 @@ public void testBindNativeFilterByIndex() {\n \n         query = MongoOperations.bindFilter(Object.class, \"{'field': ?1, 'isOk': ?2}\", new Object[] { \"a value\", true });\n         assertEquals(\"{'field': 'a value', 'isOk': true}\", query);\n+\n+        //queries related to $in operator\n+        List<Object> list = Arrays.asList(\"f1\", \"f2\");\n+        query = MongoOperations.bindFilter(DemoObj.class, \"{ field: { $in: [?1] } }\", new Object[] { list });\n+        assertEquals(\"{ field: { $in: ['f1', 'f2'] } }\", query);\n+\n+        query = MongoOperations.bindFilter(DemoObj.class, \"{ field: { $in: [?1] }, isOk: ?2 }\", new Object[] { list, true });\n+        assertEquals(\"{ field: { $in: ['f1', 'f2'] }, isOk: true }\", query);\n+\n+        query = MongoOperations.bindFilter(DemoObj.class,\n+                \"{ field: { $in: [?1] }, $or: [ {'property': ?2}, {'property': ?3} ] }\",\n+                new Object[] { list, \"jpg\", \"gif\" });\n+        assertEquals(\"{ field: { $in: ['f1', 'f2'] }, $or: [ {'property': 'jpg'}, {'property': 'gif'} ] }\", query);\n+\n+        query = MongoOperations.bindFilter(DemoObj.class,\n+                \"{ field: { $in: [?1] }, isOk: ?2, $or: [ {'property': ?3}, {'property': ?4} ] }\",\n+                new Object[] { list, true, \"jpg\", \"gif\" });\n+        assertEquals(\"{ field: { $in: ['f1', 'f2'] }, isOk: true, $or: [ {'property': 'jpg'}, {'property': 'gif'} ] }\", query);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "474b83f59228af2a416db0b0ba29eb0f61a8abc0"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDUwMzg4OA==", "bodyText": "Done.", "url": "https://github.com/quarkusio/quarkus/pull/9268#discussion_r424503888", "createdAt": "2020-05-13T14:55:39Z", "author": {"login": "diogocarleto"}, "path": "extensions/panache/mongodb-panache/runtime/src/test/java/io/quarkus/mongodb/panache/runtime/MongoOperationsTest.java", "diffHunk": "@@ -97,6 +94,24 @@ public void testBindNativeFilterByIndex() {\n \n         query = MongoOperations.bindFilter(Object.class, \"{'field': ?1, 'isOk': ?2}\", new Object[] { \"a value\", true });\n         assertEquals(\"{'field': 'a value', 'isOk': true}\", query);\n+\n+        //queries related to $in operator\n+        List<Object> list = Arrays.asList(\"f1\", \"f2\");\n+        query = MongoOperations.bindFilter(DemoObj.class, \"{ field: { $in: [?1] } }\", new Object[] { list });\n+        assertEquals(\"{ field: { $in: ['f1', 'f2'] } }\", query);\n+\n+        query = MongoOperations.bindFilter(DemoObj.class, \"{ field: { $in: [?1] }, isOk: ?2 }\", new Object[] { list, true });\n+        assertEquals(\"{ field: { $in: ['f1', 'f2'] }, isOk: true }\", query);\n+\n+        query = MongoOperations.bindFilter(DemoObj.class,\n+                \"{ field: { $in: [?1] }, $or: [ {'property': ?2}, {'property': ?3} ] }\",\n+                new Object[] { list, \"jpg\", \"gif\" });\n+        assertEquals(\"{ field: { $in: ['f1', 'f2'] }, $or: [ {'property': 'jpg'}, {'property': 'gif'} ] }\", query);\n+\n+        query = MongoOperations.bindFilter(DemoObj.class,\n+                \"{ field: { $in: [?1] }, isOk: ?2, $or: [ {'property': ?3}, {'property': ?4} ] }\",\n+                new Object[] { list, true, \"jpg\", \"gif\" });\n+        assertEquals(\"{ field: { $in: ['f1', 'f2'] }, isOk: true, $or: [ {'property': 'jpg'}, {'property': 'gif'} ] }\", query);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDQ1MjA1MA=="}, "originalCommit": {"oid": "474b83f59228af2a416db0b0ba29eb0f61a8abc0"}, "originalPosition": 33}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0MzE5NTY2OnYy", "diffSide": "RIGHT", "path": "extensions/panache/mongodb-panache/runtime/src/test/java/io/quarkus/mongodb/panache/runtime/MongoOperationsTest.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QxMzo0OToyMVrOGUyh9g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QxNDo1NTo1OFrOGU1rVg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDQ1MjU5OA==", "bodyText": "Don't commit commented code.\nRemove it or uncomment it.", "url": "https://github.com/quarkusio/quarkus/pull/9268#discussion_r424452598", "createdAt": "2020-05-13T13:49:21Z", "author": {"login": "loicmathieu"}, "path": "extensions/panache/mongodb-panache/runtime/src/test/java/io/quarkus/mongodb/panache/runtime/MongoOperationsTest.java", "diffHunk": "@@ -273,4 +352,43 @@ public void testBindUpdate() {\n                 Parameters.with(\"field\", \"a value\").map());\n         assertEquals(\"{'$set':{'field':'a value'}}\", update);\n     }\n+\n+    //    @Test\n+    //    public void testBuildNativeQueryWithInOperator() {\n+    //        List<Object> list = Arrays.asList(\"id1\", \"id2\");\n+    //        String query = MongoOperations.bindFilter(DemoObj.class, \"{ id: { $in: [?1] } }\", new Object[]{list});\n+    //        assertEquals(\"{ id: { $in: ['id1', 'id2'] } }\", query);\n+    //    }\n+    //\n+    //    @Test\n+    //    public void testBuildNativeWithInPlusAndOperators() {\n+    //        List<Object> list = Arrays.asList(\"id1\", \"id2\");\n+    //        String query = MongoOperations.bindQuery(DemoObj.class, \"{ id: { $in: [?1] }, isOk: ?2 }\", new Object[]{list, true});\n+    //        assertEquals(\"{ id: { $in: ['id1', 'id2'] }, isOk: true }\", query);\n+    //    }\n+    //\n+    //    @Test\n+    //    public void testBuildNativeWithInPlusOrOperators() {\n+    //        List<Object> list = Arrays.asList(\"id1\", \"id2\");\n+    //        String query = MongoOperations.bindQuery(DemoObj.class,\n+    //                \"{ id: { $in: [?1] }, $or: [ {'property': ?2}, {'property': ?3} ] }\",\n+    //                new Object[]{list, \"jpg\", \"gif\"});\n+    //        assertEquals(\"{ id: { $in: ['id1', 'id2'] }, $or: [ {'property': 'jpg'}, {'property': 'gif'} ] }\", query);\n+    //    }\n+    //\n+    //    @Test\n+    //    public void testBuildNativeWithInPlusAndPlusOrOperators() {\n+    //        List<Object> list = Arrays.asList(\"id1\", \"id2\");\n+    //        String query = MongoOperations.bindQuery(DemoObj.class,\n+    //                \"{ _id: { $in: [?1] }, isOk: ?2, $or: [ {'property': ?3}, {'property': ?4} ] }\",\n+    //                new Object[]{list, true, \"jpg\", \"gif\"});\n+    //        assertEquals(\"{ _id: { $in: ['id1', 'id2'] }, isOk: true, $or: [ {'property': 'jpg'}, {'property': 'gif'} ] }\", query);\n+    //    }\n+    //\n+    //    @Test\n+    //    public void testBuildQueryWithInOperator() {\n+    //        List<Object> list = Arrays.asList(\"id1\", \"id2\");\n+    //        String query = MongoOperations.bindQuery(DemoObj.class, \"id in ?1\", new Object[]{list});\n+    //        assertEquals(\"{ id: { $in: ['id1', 'id2'] } }\", query);\n+    //    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "474b83f59228af2a416db0b0ba29eb0f61a8abc0"}, "originalPosition": 164}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDUwNDE1MA==", "bodyText": "Sorry man, I hate comments in the code also.", "url": "https://github.com/quarkusio/quarkus/pull/9268#discussion_r424504150", "createdAt": "2020-05-13T14:55:58Z", "author": {"login": "diogocarleto"}, "path": "extensions/panache/mongodb-panache/runtime/src/test/java/io/quarkus/mongodb/panache/runtime/MongoOperationsTest.java", "diffHunk": "@@ -273,4 +352,43 @@ public void testBindUpdate() {\n                 Parameters.with(\"field\", \"a value\").map());\n         assertEquals(\"{'$set':{'field':'a value'}}\", update);\n     }\n+\n+    //    @Test\n+    //    public void testBuildNativeQueryWithInOperator() {\n+    //        List<Object> list = Arrays.asList(\"id1\", \"id2\");\n+    //        String query = MongoOperations.bindFilter(DemoObj.class, \"{ id: { $in: [?1] } }\", new Object[]{list});\n+    //        assertEquals(\"{ id: { $in: ['id1', 'id2'] } }\", query);\n+    //    }\n+    //\n+    //    @Test\n+    //    public void testBuildNativeWithInPlusAndOperators() {\n+    //        List<Object> list = Arrays.asList(\"id1\", \"id2\");\n+    //        String query = MongoOperations.bindQuery(DemoObj.class, \"{ id: { $in: [?1] }, isOk: ?2 }\", new Object[]{list, true});\n+    //        assertEquals(\"{ id: { $in: ['id1', 'id2'] }, isOk: true }\", query);\n+    //    }\n+    //\n+    //    @Test\n+    //    public void testBuildNativeWithInPlusOrOperators() {\n+    //        List<Object> list = Arrays.asList(\"id1\", \"id2\");\n+    //        String query = MongoOperations.bindQuery(DemoObj.class,\n+    //                \"{ id: { $in: [?1] }, $or: [ {'property': ?2}, {'property': ?3} ] }\",\n+    //                new Object[]{list, \"jpg\", \"gif\"});\n+    //        assertEquals(\"{ id: { $in: ['id1', 'id2'] }, $or: [ {'property': 'jpg'}, {'property': 'gif'} ] }\", query);\n+    //    }\n+    //\n+    //    @Test\n+    //    public void testBuildNativeWithInPlusAndPlusOrOperators() {\n+    //        List<Object> list = Arrays.asList(\"id1\", \"id2\");\n+    //        String query = MongoOperations.bindQuery(DemoObj.class,\n+    //                \"{ _id: { $in: [?1] }, isOk: ?2, $or: [ {'property': ?3}, {'property': ?4} ] }\",\n+    //                new Object[]{list, true, \"jpg\", \"gif\"});\n+    //        assertEquals(\"{ _id: { $in: ['id1', 'id2'] }, isOk: true, $or: [ {'property': 'jpg'}, {'property': 'gif'} ] }\", query);\n+    //    }\n+    //\n+    //    @Test\n+    //    public void testBuildQueryWithInOperator() {\n+    //        List<Object> list = Arrays.asList(\"id1\", \"id2\");\n+    //        String query = MongoOperations.bindQuery(DemoObj.class, \"id in ?1\", new Object[]{list});\n+    //        assertEquals(\"{ id: { $in: ['id1', 'id2'] } }\", query);\n+    //    }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDQ1MjU5OA=="}, "originalCommit": {"oid": "474b83f59228af2a416db0b0ba29eb0f61a8abc0"}, "originalPosition": 164}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0MzE5ODg4OnYy", "diffSide": "RIGHT", "path": "extensions/panache/mongodb-panache/runtime/src/test/java/io/quarkus/mongodb/panache/runtime/MongoOperationsTest.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QxMzo0OTo1NFrOGUyj8g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QxNDo1NjowN1rOGU1rwQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDQ1MzEwNg==", "bodyText": "Wildcard imports are prohibited", "url": "https://github.com/quarkusio/quarkus/pull/9268#discussion_r424453106", "createdAt": "2020-05-13T13:49:54Z", "author": {"login": "loicmathieu"}, "path": "extensions/panache/mongodb-panache/runtime/src/test/java/io/quarkus/mongodb/panache/runtime/MongoOperationsTest.java", "diffHunk": "@@ -6,10 +6,7 @@\n import java.time.LocalDateTime;\n import java.time.ZoneId;\n import java.time.ZoneOffset;\n-import java.util.Collections;\n-import java.util.Date;\n-import java.util.HashMap;\n-import java.util.Map;\n+import java.util.*;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "474b83f59228af2a416db0b0ba29eb0f61a8abc0"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDUwNDI1Nw==", "bodyText": "done.", "url": "https://github.com/quarkusio/quarkus/pull/9268#discussion_r424504257", "createdAt": "2020-05-13T14:56:07Z", "author": {"login": "diogocarleto"}, "path": "extensions/panache/mongodb-panache/runtime/src/test/java/io/quarkus/mongodb/panache/runtime/MongoOperationsTest.java", "diffHunk": "@@ -6,10 +6,7 @@\n import java.time.LocalDateTime;\n import java.time.ZoneId;\n import java.time.ZoneOffset;\n-import java.util.Collections;\n-import java.util.Date;\n-import java.util.HashMap;\n-import java.util.Map;\n+import java.util.*;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDQ1MzEwNg=="}, "originalCommit": {"oid": "474b83f59228af2a416db0b0ba29eb0f61a8abc0"}, "originalPosition": 8}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3201, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}