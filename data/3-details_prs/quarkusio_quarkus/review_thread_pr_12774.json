{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA1NTQyMzA5", "number": 12774, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOFQyMDoyNDo1MlrOEu_-tA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOFQyMDoyNDo1MlrOEu_-tA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE3NzE4MTk2OnYy", "diffSide": "LEFT", "path": "extensions/kubernetes/vanilla/deployment/pom.xml", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOFQyMDoyNDo1MlrOHjtliQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOFQyMDo0NDo0MVrOHjttgw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzIwOTA5Nw==", "bodyText": "Can you explain this change?\n\nI don't get it why it's needed (is this simply left over by mistake?)\nIf this is not left over by mistake, I am pretty sure things will break", "url": "https://github.com/quarkusio/quarkus/pull/12774#discussion_r507209097", "createdAt": "2020-10-18T20:24:52Z", "author": {"login": "geoand"}, "path": "extensions/kubernetes/vanilla/deployment/pom.xml", "diffHunk": "@@ -29,10 +29,6 @@\n             <groupId>io.quarkus</groupId>\n             <artifactId>quarkus-kubernetes-client-deployment-internal</artifactId>\n         </dependency>\n-        <dependency>\n-            <groupId>io.quarkus</groupId>\n-            <artifactId>quarkus-smallrye-metrics-spi</artifactId>\n-        </dependency>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "278e2dd28c1ed3add37574116893c562bab7eb7a"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzIxMDY1OQ==", "bodyText": "I think that when I went through and made metrics changes in 1.7 (to remove direct usage of the old metrics SPI in favor of the new Metrics capability checks in core), I forgot to remove this.", "url": "https://github.com/quarkusio/quarkus/pull/12774#discussion_r507210659", "createdAt": "2020-10-18T20:39:25Z", "author": {"login": "ebullient"}, "path": "extensions/kubernetes/vanilla/deployment/pom.xml", "diffHunk": "@@ -29,10 +29,6 @@\n             <groupId>io.quarkus</groupId>\n             <artifactId>quarkus-kubernetes-client-deployment-internal</artifactId>\n         </dependency>\n-        <dependency>\n-            <groupId>io.quarkus</groupId>\n-            <artifactId>quarkus-smallrye-metrics-spi</artifactId>\n-        </dependency>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzIwOTA5Nw=="}, "originalCommit": {"oid": "278e2dd28c1ed3add37574116893c562bab7eb7a"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzIxMDgyOQ==", "bodyText": "OK, let's see if CI passes", "url": "https://github.com/quarkusio/quarkus/pull/12774#discussion_r507210829", "createdAt": "2020-10-18T20:41:11Z", "author": {"login": "geoand"}, "path": "extensions/kubernetes/vanilla/deployment/pom.xml", "diffHunk": "@@ -29,10 +29,6 @@\n             <groupId>io.quarkus</groupId>\n             <artifactId>quarkus-kubernetes-client-deployment-internal</artifactId>\n         </dependency>\n-        <dependency>\n-            <groupId>io.quarkus</groupId>\n-            <artifactId>quarkus-smallrye-metrics-spi</artifactId>\n-        </dependency>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzIwOTA5Nw=="}, "originalCommit": {"oid": "278e2dd28c1ed3add37574116893c562bab7eb7a"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzIxMTEzOQ==", "bodyText": "Switch to new API:\nhttps://github.com/quarkusio/quarkus/blob/master/extensions/kubernetes/vanilla/deployment/src/main/java/io/quarkus/kubernetes/deployment/VanillaKubernetesProcessor.java#L103\nto retrieve metrics path:\n\n  \n    \n      quarkus/extensions/kubernetes/vanilla/deployment/src/main/java/io/quarkus/kubernetes/deployment/KubernetesCommonHelper.java\n    \n    \n         Line 296\n      in\n      cbe8d21\n    \n    \n    \n    \n\n        \n          \n           metricsConfiguration.ifPresent(m -> { \n        \n    \n  \n\n\nThat was all the SPI was used for originally (retrieving the metrics path)... and that moved to the MetricsCapabilityBuildItem instead..", "url": "https://github.com/quarkusio/quarkus/pull/12774#discussion_r507211139", "createdAt": "2020-10-18T20:44:41Z", "author": {"login": "ebullient"}, "path": "extensions/kubernetes/vanilla/deployment/pom.xml", "diffHunk": "@@ -29,10 +29,6 @@\n             <groupId>io.quarkus</groupId>\n             <artifactId>quarkus-kubernetes-client-deployment-internal</artifactId>\n         </dependency>\n-        <dependency>\n-            <groupId>io.quarkus</groupId>\n-            <artifactId>quarkus-smallrye-metrics-spi</artifactId>\n-        </dependency>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzIwOTA5Nw=="}, "originalCommit": {"oid": "278e2dd28c1ed3add37574116893c562bab7eb7a"}, "originalPosition": 7}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4146, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}