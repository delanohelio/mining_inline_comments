{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc0MjgwMjY0", "number": 7159, "title": "Fix MongoDB date format issue", "bodyText": "Fixes #6566\nThis fix the issue with Instant and LocalDateTime in query parameters.\nAll dates are now handled in UTC correctly, so it fixes issue with Date parameters not in UTC.\nZoneDateTime nor OffsetDateTime are supported as they are not supported by the MongoDB codec, advise is to convert them to a LocalDateTime or an Instant prior to use them. They can be easily accepted as query parameter but I'm not sure it worth it as we cannot use them as an entity field.\n@gsmet date handling is tricky, so I need careful review on this one :)", "createdAt": "2020-02-12T12:26:47Z", "url": "https://github.com/quarkusio/quarkus/pull/7159", "merged": true, "mergeCommit": {"oid": "923efbfd611f2761b1d9080ef411d18c38e646d9"}, "closed": true, "closedAt": "2020-02-13T16:29:05Z", "author": {"login": "loicmathieu"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcDn1oeAFqTM1NzUzMjQwMg==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcD9hGUgFqTM1ODM2MzU2OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU3NTMyNDAy", "url": "https://github.com/quarkusio/quarkus/pull/7159#pullrequestreview-357532402", "createdAt": "2020-02-12T15:12:44Z", "commit": {"oid": "ee221c169e3d7c6528c7b5dad995c7dbe679be0d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMlQxNToxMjo0NFrOFoybIA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMlQxNToxMjo0NFrOFoybIA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODMxMzUwNA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            The MongoDB POJO codec didn't support `ZonedDateTime` nor `OffsetDateTime` so you should convert them prior usage.\n          \n          \n            \n            The MongoDB POJO codec doesn't support `ZonedDateTime` nor `OffsetDateTime` so you should convert them prior usage.", "url": "https://github.com/quarkusio/quarkus/pull/7159#discussion_r378313504", "createdAt": "2020-02-12T15:12:44Z", "author": {"login": "gastaldi"}, "path": "docs/src/main/asciidoc/mongodb-panache.adoc", "diffHunk": "@@ -323,7 +323,9 @@ Here are some query examples:\n - `lastname like ?1` will be mapped to `{'lastname': {'$regex': ?1}}`. Be careful that this will be link:https://docs.mongodb.com/manual/reference/operator/query/regex/#op._S_regex[MongoDB regex] support and not SQL like pattern.\n - `lastname is not null` will be mapped to `{'lastname':{'$exists': true}}`\n \n-We also handle some basic date type transformations: all fields of type `Date`, `LocalDate` or `LocalDateTime` will be mapped to the link:https://docs.mongodb.com/manual/reference/bson-types/#document-bson-type-date[BSON Date] using the `ISODate` type (UTC datetime).\n+We also handle some basic date type transformations: all fields of type `Date`, `LocalDate`, `LocalDateTime` or `Instant` will be mapped to the\n+link:https://docs.mongodb.com/manual/reference/bson-types/#document-bson-type-date[BSON Date] using the `ISODate` type (UTC datetime).\n+The MongoDB POJO codec didn't support `ZonedDateTime` nor `OffsetDateTime` so you should convert them prior usage.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ee221c169e3d7c6528c7b5dad995c7dbe679be0d"}, "originalPosition": 7}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7c6139e4d1fa69051fee23ddaa35ec257dc23a80", "author": {"user": {"login": "loicmathieu", "name": "Lo\u00efc Mathieu"}}, "url": "https://github.com/quarkusio/quarkus/commit/7c6139e4d1fa69051fee23ddaa35ec257dc23a80", "committedDate": "2020-02-12T15:34:23Z", "message": "Update docs/src/main/asciidoc/mongodb-panache.adoc\n\nCo-Authored-By: George Gastaldi <gegastaldi@gmail.com>"}, "afterCommit": {"oid": "1bd1b492a60152e7ffa4acd8f61ce87bc2764507", "author": {"user": {"login": "loicmathieu", "name": "Lo\u00efc Mathieu"}}, "url": "https://github.com/quarkusio/quarkus/commit/1bd1b492a60152e7ffa4acd8f61ce87bc2764507", "committedDate": "2020-02-12T15:39:52Z", "message": "Fix MongoDB date format issue\n\nFixes 6566"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU3NTU4MjIz", "url": "https://github.com/quarkusio/quarkus/pull/7159#pullrequestreview-357558223", "createdAt": "2020-02-12T15:41:54Z", "commit": {"oid": "7c6139e4d1fa69051fee23ddaa35ec257dc23a80"}, "state": "DISMISSED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMlQxNTo0MTo1NFrOFozpCA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMlQxNTo0MTo1NFrOFozpCA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODMzMzQ0OA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            The MongoDB POJO codec doesn't support `ZonedDateTime` nor `OffsetDateTime` so you should convert them prior usage.\n          \n          \n            \n            The MongoDB POJO codec doesn't support `ZonedDateTime` and `OffsetDateTime` so you should convert them prior usage.", "url": "https://github.com/quarkusio/quarkus/pull/7159#discussion_r378333448", "createdAt": "2020-02-12T15:41:54Z", "author": {"login": "gsmet"}, "path": "docs/src/main/asciidoc/mongodb-panache.adoc", "diffHunk": "@@ -323,7 +323,9 @@ Here are some query examples:\n - `lastname like ?1` will be mapped to `{'lastname': {'$regex': ?1}}`. Be careful that this will be link:https://docs.mongodb.com/manual/reference/operator/query/regex/#op._S_regex[MongoDB regex] support and not SQL like pattern.\n - `lastname is not null` will be mapped to `{'lastname':{'$exists': true}}`\n \n-We also handle some basic date type transformations: all fields of type `Date`, `LocalDate` or `LocalDateTime` will be mapped to the link:https://docs.mongodb.com/manual/reference/bson-types/#document-bson-type-date[BSON Date] using the `ISODate` type (UTC datetime).\n+We also handle some basic date type transformations: all fields of type `Date`, `LocalDate`, `LocalDateTime` or `Instant` will be mapped to the\n+link:https://docs.mongodb.com/manual/reference/bson-types/#document-bson-type-date[BSON Date] using the `ISODate` type (UTC datetime).\n+The MongoDB POJO codec doesn't support `ZonedDateTime` nor `OffsetDateTime` so you should convert them prior usage.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7c6139e4d1fa69051fee23ddaa35ec257dc23a80"}, "originalPosition": 7}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8b3d76af5e8f056334cc6ca39b78b90eedd8136a", "author": {"user": {"login": "loicmathieu", "name": "Lo\u00efc Mathieu"}}, "url": "https://github.com/quarkusio/quarkus/commit/8b3d76af5e8f056334cc6ca39b78b90eedd8136a", "committedDate": "2020-02-12T16:02:25Z", "message": "Fix MongoDB date format issue\n\nFixes 6566"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e04497b496e95994a1eb556264ea0343e07064ca", "author": {"user": {"login": "loicmathieu", "name": "Lo\u00efc Mathieu"}}, "url": "https://github.com/quarkusio/quarkus/commit/e04497b496e95994a1eb556264ea0343e07064ca", "committedDate": "2020-02-12T16:01:55Z", "message": "Update docs/src/main/asciidoc/mongodb-panache.adoc\n\nCo-Authored-By: Guillaume Smet <guillaume.smet@gmail.com>"}, "afterCommit": {"oid": "8b3d76af5e8f056334cc6ca39b78b90eedd8136a", "author": {"user": {"login": "loicmathieu", "name": "Lo\u00efc Mathieu"}}, "url": "https://github.com/quarkusio/quarkus/commit/8b3d76af5e8f056334cc6ca39b78b90eedd8136a", "committedDate": "2020-02-12T16:02:25Z", "message": "Fix MongoDB date format issue\n\nFixes 6566"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU4MzYzNTY5", "url": "https://github.com/quarkusio/quarkus/pull/7159#pullrequestreview-358363569", "createdAt": "2020-02-13T16:28:13Z", "commit": {"oid": "8b3d76af5e8f056334cc6ca39b78b90eedd8136a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4925, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}