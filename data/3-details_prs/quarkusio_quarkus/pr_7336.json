{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc4MzYwMzY3", "number": 7336, "title": "Avoid annoying Warning logs when Sentry is disabled", "bodyText": "Those warning logs are not supposed to be visible when Sentry is disabled:\n2020-02-21 17:13:08,062 WARN  [io.sen.dsn.Dsn] (executor-thread-1) *** Couldn't find a suitable DSN, Sentry operations will do nothing! See documentation: https://docs.sentry.io/clients/java/ ***\n2020-02-21 17:13:08,072 WARN  [io.sen.DefaultSentryClientFactory] (executor-thread-1) No 'stacktrace.app.packages' was configured, this option is highly recommended as it affects stacktrace grouping and display on Sentry. See documentation: https://docs.sentry.io/cl", "createdAt": "2020-02-21T16:15:53Z", "url": "https://github.com/quarkusio/quarkus/pull/7336", "merged": true, "mergeCommit": {"oid": "58268aed8a3e01ef5b024d8ec556293048df1eac"}, "closed": true, "closedAt": "2020-02-27T14:05:01Z", "author": {"login": "ia3andy"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcGidMKgFqTM2Mjc2MTU4Nw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcIb263AFqTM2NTcwNTM5OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYyNzYxNTg3", "url": "https://github.com/quarkusio/quarkus/pull/7336#pullrequestreview-362761587", "createdAt": "2020-02-21T16:38:16Z", "commit": {"oid": "7d2ed70e24517ad081d27b7eac232e81b6b2d2ce"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMVQxNjozODoxN1rOFs9MoQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMVQxNjozODoxN1rOFs9MoQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjY4NDMyMQ==", "bodyText": "Looks a bit like dark magic to me :).", "url": "https://github.com/quarkusio/quarkus/pull/7336#discussion_r382684321", "createdAt": "2020-02-21T16:38:17Z", "author": {"login": "gsmet"}, "path": "extensions/logging-sentry/runtime/src/main/java/io/quarkus/logging/sentry/SentryHandlerValueFactory.java", "diffHunk": "@@ -11,14 +11,20 @@\n import io.sentry.Sentry;\n import io.sentry.SentryOptions;\n import io.sentry.config.Lookup;\n+import io.sentry.dsn.Dsn;\n import io.sentry.jul.SentryHandler;\n \n @Recorder\n public class SentryHandlerValueFactory {\n     private static final Logger LOG = Logger.getLogger(SentryConfigProvider.class);\n \n     public RuntimeValue<Optional<Handler>> create(final SentryConfig config) {\n+        final SentryConfigProvider provider = new SentryConfigProvider(config);\n+        final Lookup lookup = new Lookup(provider, provider);\n+\n         if (!config.enable) {\n+            // Disable Sentry\n+            Sentry.init(SentryOptions.from(lookup, Dsn.DEFAULT_DSN));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7d2ed70e24517ad081d27b7eac232e81b6b2d2ce"}, "originalPosition": 17}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "486eb8ebd4ddc6d1261421b695b497dd61fa3f94", "author": {"user": {"login": "ia3andy", "name": "Andy Damevin"}}, "url": "https://github.com/quarkusio/quarkus/commit/486eb8ebd4ddc6d1261421b695b497dd61fa3f94", "committedDate": "2020-02-27T09:18:45Z", "message": "Avoid annoying Warning log when Sentry is disabled\n\nThose log are not supposed to be visible when Sentry is disabled:\n```\n2020-02-21 17:13:08,062 WARN  [io.sen.dsn.Dsn] (executor-thread-1) *** Couldn't find a suitable DSN, Sentry operations will do nothing! See documentation: https://docs.sentry.io/clients/java/ ***\n2020-02-21 17:13:08,072 WARN  [io.sen.DefaultSentryClientFactory] (executor-thread-1) No 'stacktrace.app.packages' was configured, this option is highly recommended as it affects stacktrace grouping and display on Sentry. See documentation: https://docs.sentry.io/cl\n```"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "57f88d190662585dc5345648f42404711f14774e", "author": {"user": {"login": "ia3andy", "name": "Andy Damevin"}}, "url": "https://github.com/quarkusio/quarkus/commit/57f88d190662585dc5345648f42404711f14774e", "committedDate": "2020-02-27T09:18:45Z", "message": "Update Sentry version to 1.7.30"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7d2ed70e24517ad081d27b7eac232e81b6b2d2ce", "author": {"user": {"login": "ia3andy", "name": "Andy Damevin"}}, "url": "https://github.com/quarkusio/quarkus/commit/7d2ed70e24517ad081d27b7eac232e81b6b2d2ce", "committedDate": "2020-02-21T16:14:38Z", "message": "Update Sentry version to 1.7.30"}, "afterCommit": {"oid": "57f88d190662585dc5345648f42404711f14774e", "author": {"user": {"login": "ia3andy", "name": "Andy Damevin"}}, "url": "https://github.com/quarkusio/quarkus/commit/57f88d190662585dc5345648f42404711f14774e", "committedDate": "2020-02-27T09:18:45Z", "message": "Update Sentry version to 1.7.30"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY1NzA1Mzk5", "url": "https://github.com/quarkusio/quarkus/pull/7336#pullrequestreview-365705399", "createdAt": "2020-02-27T14:04:54Z", "commit": {"oid": "57f88d190662585dc5345648f42404711f14774e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4168, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}