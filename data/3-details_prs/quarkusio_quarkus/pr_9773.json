{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI3Njc1MDM0", "number": 9773, "title": "Make REST Client work whether or not SSL is enabled or not in native", "bodyText": "This is done in order to enable the use of Apache HTTP Client in all\ncases where the REST Client is used.\nThis enables us to drop the fallback to URLConnection which is rather limited\nFixes: #9342\nRequires: resteasy/resteasy#2431\nPR is a draft because without the RESTEasy fix this doesn't make sense. (after talking with @gsmet it became clear to me that the fix in RESTEasy is not necessary)", "createdAt": "2020-06-04T08:32:32Z", "url": "https://github.com/quarkusio/quarkus/pull/9773", "merged": true, "mergeCommit": {"oid": "d05d415d9e3924706de8a9f3f18be1a56a7c3fb8"}, "closed": true, "closedAt": "2020-06-10T10:02:14Z", "author": {"login": "geoand"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcn7JFZgFqTQyNDI5MTM1Nw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcpowQGgBqjM0MjYxMzc4NTY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI0MjkxMzU3", "url": "https://github.com/quarkusio/quarkus/pull/9773#pullrequestreview-424291357", "createdAt": "2020-06-04T10:03:27Z", "commit": {"oid": "8fdb04149af38233826c595b21577de6e3ee9ddc"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNFQxMDowMzoyN1rOGe-wgw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNFQxMDowMzoyN1rOGe-wgw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTEzODY5MQ==", "bodyText": "What does ImageInfo.inImageRuntimeCode() return if it's running on OpenJDK?", "url": "https://github.com/quarkusio/quarkus/pull/9773#discussion_r435138691", "createdAt": "2020-06-04T10:03:27Z", "author": {"login": "kenfinnigan"}, "path": "extensions/rest-client/runtime/src/main/java/io/quarkus/restclient/runtime/RestClientBase.java", "diffHunk": "@@ -77,6 +80,12 @@ private void configureSsl(RestClientBuilder builder) {\n         if (maybeHostnameVerifier.isPresent()) {\n             registerHostnameVerifier(maybeHostnameVerifier.get(), builder);\n         }\n+\n+        // we need to push a disabled SSL context when SSL has been disabled\n+        // because otherwise Apache HTTP Client will try to initialize one and will fail\n+        if (ImageInfo.inImageRuntimeCode() && !SslContextConfiguration.isSslNativeEnabled()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8fdb04149af38233826c595b21577de6e3ee9ddc"}, "originalPosition": 20}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI0MzE5ODQz", "url": "https://github.com/quarkusio/quarkus/pull/9773#pullrequestreview-424319843", "createdAt": "2020-06-04T10:44:37Z", "commit": {"oid": "8fdb04149af38233826c595b21577de6e3ee9ddc"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8fdb04149af38233826c595b21577de6e3ee9ddc", "author": {"user": {"login": "geoand", "name": "Georgios Andrianakis"}}, "url": "https://github.com/quarkusio/quarkus/commit/8fdb04149af38233826c595b21577de6e3ee9ddc", "committedDate": "2020-06-04T08:28:40Z", "message": "Make REST Client work whether or not SSL is enabled or not in native\n\nThis is done in order to enable the use of Apache HTTP Client in all\ncases where the REST Client is used.\nThis enables us to drop the fallback to URLConnection which is rather limited\n\nFixes: #9342"}, "afterCommit": {"oid": "8293c6bb6062cda2fbc532ea68d9dd4d4b20491b", "author": {"user": {"login": "geoand", "name": "Georgios Andrianakis"}}, "url": "https://github.com/quarkusio/quarkus/commit/8293c6bb6062cda2fbc532ea68d9dd4d4b20491b", "committedDate": "2020-06-04T10:55:02Z", "message": "Make REST Client work whether or not SSL is enabled or not in native\n\nThis is done in order to enable the use of Apache HTTP Client in all\ncases where the REST Client is used.\nThis enables us to drop the fallback to URLConnection which is rather limited\n\nFixes: #9342"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8293c6bb6062cda2fbc532ea68d9dd4d4b20491b", "author": {"user": {"login": "geoand", "name": "Georgios Andrianakis"}}, "url": "https://github.com/quarkusio/quarkus/commit/8293c6bb6062cda2fbc532ea68d9dd4d4b20491b", "committedDate": "2020-06-04T10:55:02Z", "message": "Make REST Client work whether or not SSL is enabled or not in native\n\nThis is done in order to enable the use of Apache HTTP Client in all\ncases where the REST Client is used.\nThis enables us to drop the fallback to URLConnection which is rather limited\n\nFixes: #9342"}, "afterCommit": {"oid": "d82c9089c069500f66fb5ccaf9225696a3bbc4ff", "author": {"user": {"login": "geoand", "name": "Georgios Andrianakis"}}, "url": "https://github.com/quarkusio/quarkus/commit/d82c9089c069500f66fb5ccaf9225696a3bbc4ff", "committedDate": "2020-06-09T15:13:17Z", "message": "Make REST Client work whether or not SSL is enabled or not in native\n\nThis is done in order to enable the use of Apache HTTP Client in all\ncases where the REST Client is used.\nThis enables us to drop the fallback to URLConnection which is rather limited\n\nFixes: #9342"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b406f7ac160389fdcf19ef95225afbdea7a48441", "author": {"user": {"login": "geoand", "name": "Georgios Andrianakis"}}, "url": "https://github.com/quarkusio/quarkus/commit/b406f7ac160389fdcf19ef95225afbdea7a48441", "committedDate": "2020-06-09T17:45:33Z", "message": "Make REST Client work whether or not SSL is enabled or not in native\n\nThis is done in order to enable the use of Apache HTTP Client in all\ncases where the REST Client is used.\nThis enables us to drop the fallback to URLConnection which is rather limited\n\nFixes: #9342"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d82c9089c069500f66fb5ccaf9225696a3bbc4ff", "author": {"user": {"login": "geoand", "name": "Georgios Andrianakis"}}, "url": "https://github.com/quarkusio/quarkus/commit/d82c9089c069500f66fb5ccaf9225696a3bbc4ff", "committedDate": "2020-06-09T15:13:17Z", "message": "Make REST Client work whether or not SSL is enabled or not in native\n\nThis is done in order to enable the use of Apache HTTP Client in all\ncases where the REST Client is used.\nThis enables us to drop the fallback to URLConnection which is rather limited\n\nFixes: #9342"}, "afterCommit": {"oid": "b406f7ac160389fdcf19ef95225afbdea7a48441", "author": {"user": {"login": "geoand", "name": "Georgios Andrianakis"}}, "url": "https://github.com/quarkusio/quarkus/commit/b406f7ac160389fdcf19ef95225afbdea7a48441", "committedDate": "2020-06-09T17:45:33Z", "message": "Make REST Client work whether or not SSL is enabled or not in native\n\nThis is done in order to enable the use of Apache HTTP Client in all\ncases where the REST Client is used.\nThis enables us to drop the fallback to URLConnection which is rather limited\n\nFixes: #9342"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4436, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}