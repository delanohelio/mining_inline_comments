{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE1Nzc4NTk4", "number": 9198, "title": "Introduce Maven ListExtensionsIT", "bodyText": "This is a follow-up to #9169. testListExtensionsWithManagedDependencyWithoutScope fails as expected when reverting #9169.\ncc @geoand\nBtw, the stream and process handling seems a bit scattered but I didn't refactor anything.", "createdAt": "2020-05-10T20:47:36Z", "url": "https://github.com/quarkusio/quarkus/pull/9198", "merged": true, "mergeCommit": {"oid": "6a3bbe108e52ae9951d9023c3ba34cc68e5d30eb"}, "closed": true, "closedAt": "2020-05-11T12:43:31Z", "author": {"login": "famod"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcgCwlQAFqTQwODc4NzI3OA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcgLlekgFqTQwODk3Mzc0MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA4Nzg3Mjc4", "url": "https://github.com/quarkusio/quarkus/pull/9198#pullrequestreview-408787278", "createdAt": "2020-05-10T22:24:32Z", "commit": {"oid": "f35a156579e5189ff8d140962c1c02cbb5514ff4"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMFQyMjoyNDozMlrOGTIGxQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMFQyMjoyNDozMlrOGTIGxQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjcwODkzMw==", "bodyText": "We don't use star imports. Make sure to use the Quarkus code format rules in https://github.com/quarkusio/quarkus/tree/master/independent-projects/ide-config/src/main/resources", "url": "https://github.com/quarkusio/quarkus/pull/9198#discussion_r422708933", "createdAt": "2020-05-10T22:24:32Z", "author": {"login": "gastaldi"}, "path": "integration-tests/maven/src/test/java/io/quarkus/maven/it/ListExtensionsIT.java", "diffHunk": "@@ -0,0 +1,74 @@\n+package io.quarkus.maven.it;\n+\n+import static org.assertj.core.api.Assertions.assertThat;\n+\n+import java.io.*;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f35a156579e5189ff8d140962c1c02cbb5514ff4"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA4Nzg3Mzc2", "url": "https://github.com/quarkusio/quarkus/pull/9198#pullrequestreview-408787376", "createdAt": "2020-05-10T22:26:12Z", "commit": {"oid": "f35a156579e5189ff8d140962c1c02cbb5514ff4"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMFQyMjoyNjoxMlrOGTIHdQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMFQyMjoyNjoxMlrOGTIHdQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjcwOTEwOQ==", "bodyText": "Better to use Collections.singletonMap instead", "url": "https://github.com/quarkusio/quarkus/pull/9198#discussion_r422709109", "createdAt": "2020-05-10T22:26:12Z", "author": {"login": "gastaldi"}, "path": "integration-tests/maven/src/test/java/io/quarkus/maven/it/ListExtensionsIT.java", "diffHunk": "@@ -0,0 +1,74 @@\n+package io.quarkus.maven.it;\n+\n+import static org.assertj.core.api.Assertions.assertThat;\n+\n+import java.io.*;\n+import java.nio.file.Files;\n+import java.util.Collections;\n+import java.util.List;\n+\n+import org.apache.commons.io.output.TeeOutputStream;\n+import org.apache.maven.shared.invoker.*;\n+import org.junit.jupiter.api.Test;\n+\n+import com.google.common.collect.ImmutableMap;\n+\n+@DisableForNative\n+class ListExtensionsIT extends QuarkusPlatformAwareMojoTestBase {\n+\n+    private static final String VERTX_ARTIFACT_ID = \"quarkus-vertx\";\n+    private static final String PROJECT_SOURCE_DIR = \"projects/classic\";\n+    private File testDir;\n+    private Invoker invoker;\n+\n+    @Test\n+    void testListExtensions() throws MavenInvocationException, IOException {\n+        testDir = initProject(PROJECT_SOURCE_DIR, \"projects/testListExtensions\");\n+        invoker = initInvoker(testDir);\n+\n+        List<String> outputLogLines = listExtensions();\n+\n+        assertThat(outputLogLines).anyMatch(line -> line.contains(VERTX_ARTIFACT_ID));\n+    }\n+\n+    @Test\n+    void testListExtensionsWithManagedDependencyWithoutScope() throws MavenInvocationException, IOException {\n+        testDir = initProject(PROJECT_SOURCE_DIR, \"projects/testListExtensionsWithManagedDependencyWithoutScope\");\n+        invoker = initInvoker(testDir);\n+        // Edit the pom.xml.\n+        File source = new File(testDir, \"pom.xml\");\n+        filter(source, ImmutableMap.of(\"<!-- insert managed dependencies here -->\",\n+                \"      <dependency>\\n\" +", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f35a156579e5189ff8d140962c1c02cbb5514ff4"}, "originalPosition": 41}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA4OTY2ODY5", "url": "https://github.com/quarkusio/quarkus/pull/9198#pullrequestreview-408966869", "createdAt": "2020-05-11T08:31:46Z", "commit": {"oid": "7869786a2b945376fe51806d109e5c25177cf950"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQwODozMTo0NlrOGTSHfQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQwODozMTo0NlrOGTSHfQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjg3Mjk1Nw==", "bodyText": "Seems like this got left over :)", "url": "https://github.com/quarkusio/quarkus/pull/9198#discussion_r422872957", "createdAt": "2020-05-11T08:31:46Z", "author": {"login": "geoand"}, "path": "integration-tests/maven/src/test/java/io/quarkus/maven/it/ListExtensionsIT.java", "diffHunk": "@@ -0,0 +1,75 @@\n+package io.quarkus.maven.it;\n+\n+import static org.assertj.core.api.Assertions.assertThat;\n+\n+import java.io.File;\n+import java.io.FileOutputStream;\n+import java.io.IOException;\n+import java.io.PrintStream;\n+import java.nio.file.Files;\n+import java.util.Collections;\n+import java.util.List;\n+\n+import org.apache.commons.io.output.TeeOutputStream;\n+import org.apache.maven.shared.invoker.*;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7869786a2b945376fe51806d109e5c25177cf950"}, "originalPosition": 14}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fba5f80fd778e39506f66573be29daa1a4c03dca", "author": {"user": {"login": "famod", "name": "Falko Modler"}}, "url": "https://github.com/quarkusio/quarkus/commit/fba5f80fd778e39506f66573be29daa1a4c03dca", "committedDate": "2020-05-11T08:36:10Z", "message": "Introduce Maven ListExtensionsIT\n\nIncluding small refactorings as requested in PR."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA4OTczNzQw", "url": "https://github.com/quarkusio/quarkus/pull/9198#pullrequestreview-408973740", "createdAt": "2020-05-11T08:41:33Z", "commit": {"oid": "fba5f80fd778e39506f66573be29daa1a4c03dca"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3402, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}