{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc4NDUzMTA3", "number": 7347, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMlQxMDo1Mjo0MVrODiE-hA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMlQxMDo1MzoxMFrODiE-pg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM3MDU5NzE2OnYy", "diffSide": "RIGHT", "path": "extensions/kubernetes/deployment/src/main/java/io/quarkus/kubernetes/deployment/KubernetesDeployer.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMlQxMDo1Mjo0MVrOFtKoAA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMlQxMTozNzo0NlrOFtKxMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjkwNDMyMA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                \"A Kubernetes deployment was requested but no extension was found to build a container image. Consider adding one of following extensions: \\\"quarkus-container-image-jib\\\", \\\"quarkus-container-image-docker\\\" or \\\"quarkus-container-image-s2i\\\",\");\n          \n          \n            \n                                \"A Kubernetes deployment was requested but no extension was found to build a container image. Consider adding one of following extensions: \\\"quarkus-container-image-jib\\\", \\\"quarkus-container-image-docker\\\" or \\\"quarkus-container-image-s2i\\\".\");", "url": "https://github.com/quarkusio/quarkus/pull/7347#discussion_r382904320", "createdAt": "2020-02-22T10:52:41Z", "author": {"login": "gsmet"}, "path": "extensions/kubernetes/deployment/src/main/java/io/quarkus/kubernetes/deployment/KubernetesDeployer.java", "diffHunk": "@@ -48,7 +48,7 @@ public void deploy(KubernetesClientBuildItem kubernetesClient,\n \n         if (!containerImage.isPresent()) {\n             LOG.warn(\n-                    \"A Kubernetes deployment was requested by no extension was found to build a container image. Consider adding one of following extensions: \\\"quarkus-container-image-jib\\\", \\\"quarkus-container-image-docker\\\" or \\\"quarkus-container-image-s2i\\\",\");\n+                    \"A Kubernetes deployment was requested but no extension was found to build a container image. Consider adding one of following extensions: \\\"quarkus-container-image-jib\\\", \\\"quarkus-container-image-docker\\\" or \\\"quarkus-container-image-s2i\\\",\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "831ada8d71044d6d7037c1356d6905c0d0fcbbf8"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjkwNjY0NQ==", "bodyText": "This was already changed in one of the commits", "url": "https://github.com/quarkusio/quarkus/pull/7347#discussion_r382906645", "createdAt": "2020-02-22T11:36:56Z", "author": {"login": "geoand"}, "path": "extensions/kubernetes/deployment/src/main/java/io/quarkus/kubernetes/deployment/KubernetesDeployer.java", "diffHunk": "@@ -48,7 +48,7 @@ public void deploy(KubernetesClientBuildItem kubernetesClient,\n \n         if (!containerImage.isPresent()) {\n             LOG.warn(\n-                    \"A Kubernetes deployment was requested by no extension was found to build a container image. Consider adding one of following extensions: \\\"quarkus-container-image-jib\\\", \\\"quarkus-container-image-docker\\\" or \\\"quarkus-container-image-s2i\\\",\");\n+                    \"A Kubernetes deployment was requested but no extension was found to build a container image. Consider adding one of following extensions: \\\"quarkus-container-image-jib\\\", \\\"quarkus-container-image-docker\\\" or \\\"quarkus-container-image-s2i\\\",\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjkwNDMyMA=="}, "originalCommit": {"oid": "831ada8d71044d6d7037c1356d6905c0d0fcbbf8"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjkwNjY3NQ==", "bodyText": "Oh sorry, I just saw what you meant.", "url": "https://github.com/quarkusio/quarkus/pull/7347#discussion_r382906675", "createdAt": "2020-02-22T11:37:46Z", "author": {"login": "geoand"}, "path": "extensions/kubernetes/deployment/src/main/java/io/quarkus/kubernetes/deployment/KubernetesDeployer.java", "diffHunk": "@@ -48,7 +48,7 @@ public void deploy(KubernetesClientBuildItem kubernetesClient,\n \n         if (!containerImage.isPresent()) {\n             LOG.warn(\n-                    \"A Kubernetes deployment was requested by no extension was found to build a container image. Consider adding one of following extensions: \\\"quarkus-container-image-jib\\\", \\\"quarkus-container-image-docker\\\" or \\\"quarkus-container-image-s2i\\\",\");\n+                    \"A Kubernetes deployment was requested but no extension was found to build a container image. Consider adding one of following extensions: \\\"quarkus-container-image-jib\\\", \\\"quarkus-container-image-docker\\\" or \\\"quarkus-container-image-s2i\\\",\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjkwNDMyMA=="}, "originalCommit": {"oid": "831ada8d71044d6d7037c1356d6905c0d0fcbbf8"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM3MDU5NzUwOnYy", "diffSide": "RIGHT", "path": "extensions/kubernetes/deployment/src/main/java/io/quarkus/kubernetes/deployment/KubernetesDeployerPrerequisite.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMlQxMDo1MzoxMFrOFtKoKA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMlQxMDo1MzoxMFrOFtKoKA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjkwNDM2MA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                        \" if the cluster is using the local docker daemon.\");\n          \n          \n            \n                                        \" if the cluster is using the local Docker daemon.\");", "url": "https://github.com/quarkusio/quarkus/pull/7347#discussion_r382904360", "createdAt": "2020-02-22T10:53:10Z", "author": {"login": "gsmet"}, "path": "extensions/kubernetes/deployment/src/main/java/io/quarkus/kubernetes/deployment/KubernetesDeployerPrerequisite.java", "diffHunk": "@@ -21,6 +26,13 @@ public void prepare(ContainerImageInfoBuildItem containerImage) {\n         buildRequestProducer.produce(new ContainerImageBuildRequestBuildItem());\n         if (containerImage.getRegistry().isPresent()) {\n             pushRequestProducer.produce(new ContainerImagePushRequestBuildItem());\n+        } else {\n+            LOGGER.warn(\n+                    \"A Kubernetes deployment was requested, but the container image to be built will not be pushed to any registry\"\n+                            +\n+                            \" because \\\"quarkus.container-image.registry\\\" has not been set. The Kubernetes deployment will only work properly\"\n+                            +\n+                            \" if the cluster is using the local docker daemon.\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "831ada8d71044d6d7037c1356d6905c0d0fcbbf8"}, "originalPosition": 29}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 146, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}