{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE1NjgyNTAy", "number": 9193, "title": "Allow the use of boolean, int and long in custom Spring Data JPA methods", "bodyText": "Fixes: #9192", "createdAt": "2020-05-10T07:39:38Z", "url": "https://github.com/quarkusio/quarkus/pull/9193", "merged": true, "mergeCommit": {"oid": "574bdfb887547a7967e7f896903ec1181ea51b6a"}, "closed": true, "closedAt": "2020-05-11T14:17:21Z", "author": {"login": "geoand"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcf2D-agH2gAyNDE1NjgyNTAyOmZiOTJjNDAwZGY1NTk3NjJlMDk5ZTk5NTM2ZDgzNjhiM2ZhNzlhN2M=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcgQYsrgFqTQwOTIxNTI2MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "fb92c400df559762e099e99536d8368b3fa79a7c", "author": {"user": {"login": "geoand", "name": "Georgios Andrianakis"}}, "url": "https://github.com/quarkusio/quarkus/commit/fb92c400df559762e099e99536d8368b3fa79a7c", "committedDate": "2020-05-10T07:36:57Z", "message": "Allow the use of boolean, int and long in custom Spring Data JPA methods\n\nFixes: #9192"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA5MTM4MDM2", "url": "https://github.com/quarkusio/quarkus/pull/9193#pullrequestreview-409138036", "createdAt": "2020-05-11T12:47:15Z", "commit": {"oid": "fb92c400df559762e099e99536d8368b3fa79a7c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQxMjo0NzoxNVrOGTas4A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQxMjo0NzoxNVrOGTas4A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzAxMzYwMA==", "bodyText": "Shouldn't we consider all the primitive types here while we are at it?", "url": "https://github.com/quarkusio/quarkus/pull/9193#discussion_r423013600", "createdAt": "2020-05-11T12:47:15Z", "author": {"login": "gsmet"}, "path": "extensions/spring-data-jpa/deployment/src/main/java/io/quarkus/spring/data/deployment/generate/AbstractMethodsAdder.java", "diffHunk": "@@ -203,10 +203,21 @@ protected void generateFindQueryResultHandling(MethodCreator methodCreator, Resu\n \n             methodCreator.returnValue(sliceResult);\n \n+        } else if (isIntLongOrBoolean(returnType)) {\n+            ResultHandle singleResult = methodCreator.invokeInterfaceMethod(\n+                    MethodDescriptor.ofMethod(PanacheQuery.class, \"singleResult\", Object.class),\n+                    panacheQuery);\n+            methodCreator.returnValue(singleResult);\n         } else {\n             throw new IllegalArgumentException(\n                     \"Return type of method \" + methodName + \" of Repository \" + repositoryClassInfo\n                             + \" does not match find query type\");\n         }\n     }\n+\n+    protected boolean isIntLongOrBoolean(DotName dotName) {\n+        return DotNames.BOOLEAN.equals(dotName) || DotNames.PRIMITIVE_BOOLEAN.equals(dotName)\n+                || DotNames.INTEGER.equals(dotName) || DotNames.PRIMITIVE_INTEGER.equals(dotName)\n+                || DotNames.LONG.equals(dotName) || DotNames.PRIMITIVE_LONG.equals(dotName);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fb92c400df559762e099e99536d8368b3fa79a7c"}, "originalPosition": 19}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA5MjE1MjYw", "url": "https://github.com/quarkusio/quarkus/pull/9193#pullrequestreview-409215260", "createdAt": "2020-05-11T14:17:07Z", "commit": {"oid": "fb92c400df559762e099e99536d8368b3fa79a7c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3393, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}