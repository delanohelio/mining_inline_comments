{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTIxNTY0MTg3", "number": 13308, "title": "Support specifying TLS keys from classpath for gRPC clients", "bodyText": "fixes #13305", "createdAt": "2020-11-16T10:22:42Z", "url": "https://github.com/quarkusio/quarkus/pull/13308", "merged": true, "mergeCommit": {"oid": "c0ac24735ebf4ec4030d820733cdfc151a167a76"}, "closed": true, "closedAt": "2020-12-02T08:01:39Z", "author": {"login": "michalszynkiewicz"}, "timelineItems": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABddEM-hAFqTUzMTI3ODc5NA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdiJ4a_AFqTU0MjU3NjgzOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMxMjc4Nzk0", "url": "https://github.com/quarkusio/quarkus/pull/13308#pullrequestreview-531278794", "createdAt": "2020-11-16T12:33:51Z", "commit": {"oid": "a83f208628854e061b90a199ceae19db7d72a0ea"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQxMjozMzo1MVrOHz8G9A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQxMjozMzo1MVrOHz8G9A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDIyNDI0NA==", "bodyText": "Wondering if you can't use UncheckedIOException here?", "url": "https://github.com/quarkusio/quarkus/pull/13308#discussion_r524224244", "createdAt": "2020-11-16T12:33:51Z", "author": {"login": "cescoffier"}, "path": "extensions/grpc/runtime/src/main/java/io/quarkus/grpc/runtime/supports/Channels.java", "diffHunk": "@@ -54,11 +57,20 @@ public static Channel createChannel(String name) throws SSLException {\n             Path keyPath = config.ssl.key.orElse(null);\n             SslContextBuilder sslContextBuilder = GrpcSslContexts.forClient();\n             if (trustStorePath != null) {\n-                sslContextBuilder.trustManager(trustStorePath.toFile());\n+                try (InputStream stream = streamFor(trustStorePath, \"trust store\")) {\n+                    sslContextBuilder.trustManager(stream);\n+                } catch (IOException e) {\n+                    throw new IllegalStateException(\"Configuring gRPC client trust store failed\", e);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a83f208628854e061b90a199ceae19db7d72a0ea"}, "originalPosition": 18}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a83f208628854e061b90a199ceae19db7d72a0ea", "author": {"user": {"login": "michalszynkiewicz", "name": "Micha\u0142 Szynkiewicz"}}, "url": "https://github.com/quarkusio/quarkus/commit/a83f208628854e061b90a199ceae19db7d72a0ea", "committedDate": "2020-11-16T10:21:56Z", "message": "Support specifying TLS keys from classpath for gRPC clients\n\nfixes #13305"}, "afterCommit": {"oid": "05ed7396d4253c0383282fcff912fa3832318553", "author": {"user": {"login": "michalszynkiewicz", "name": "Micha\u0142 Szynkiewicz"}}, "url": "https://github.com/quarkusio/quarkus/commit/05ed7396d4253c0383282fcff912fa3832318553", "committedDate": "2020-11-16T20:03:26Z", "message": "Support specifying TLS keys from classpath for gRPC clients\n\nfixes #13305"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "05ed7396d4253c0383282fcff912fa3832318553", "author": {"user": {"login": "michalszynkiewicz", "name": "Micha\u0142 Szynkiewicz"}}, "url": "https://github.com/quarkusio/quarkus/commit/05ed7396d4253c0383282fcff912fa3832318553", "committedDate": "2020-11-16T20:03:26Z", "message": "Support specifying TLS keys from classpath for gRPC clients\n\nfixes #13305"}, "afterCommit": {"oid": "a88d0820855b89aa0716a836fdd800c954d575c7", "author": {"user": {"login": "michalszynkiewicz", "name": "Micha\u0142 Szynkiewicz"}}, "url": "https://github.com/quarkusio/quarkus/commit/a88d0820855b89aa0716a836fdd800c954d575c7", "committedDate": "2020-11-17T08:05:47Z", "message": "Support specifying TLS keys from classpath for gRPC clients\n\nfixes #13305"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a88d0820855b89aa0716a836fdd800c954d575c7", "author": {"user": {"login": "michalszynkiewicz", "name": "Micha\u0142 Szynkiewicz"}}, "url": "https://github.com/quarkusio/quarkus/commit/a88d0820855b89aa0716a836fdd800c954d575c7", "committedDate": "2020-11-17T08:05:47Z", "message": "Support specifying TLS keys from classpath for gRPC clients\n\nfixes #13305"}, "afterCommit": {"oid": "6c66bfff876fddb21ba4d815da7dbf3d1de1ef95", "author": {"user": {"login": "michalszynkiewicz", "name": "Micha\u0142 Szynkiewicz"}}, "url": "https://github.com/quarkusio/quarkus/commit/6c66bfff876fddb21ba4d815da7dbf3d1de1ef95", "committedDate": "2020-11-17T09:35:37Z", "message": "Support specifying TLS keys from classpath for gRPC clients\n\nfixes #13305"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6c66bfff876fddb21ba4d815da7dbf3d1de1ef95", "author": {"user": {"login": "michalszynkiewicz", "name": "Micha\u0142 Szynkiewicz"}}, "url": "https://github.com/quarkusio/quarkus/commit/6c66bfff876fddb21ba4d815da7dbf3d1de1ef95", "committedDate": "2020-11-17T09:35:37Z", "message": "Support specifying TLS keys from classpath for gRPC clients\n\nfixes #13305"}, "afterCommit": {"oid": "971b8bd3cb494ea787ca8bd7616f24bad141222e", "author": {"user": {"login": "michalszynkiewicz", "name": "Micha\u0142 Szynkiewicz"}}, "url": "https://github.com/quarkusio/quarkus/commit/971b8bd3cb494ea787ca8bd7616f24bad141222e", "committedDate": "2020-11-17T09:43:28Z", "message": "Support specifying TLS keys from classpath for gRPC clients\n\nfixes #13305"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "971b8bd3cb494ea787ca8bd7616f24bad141222e", "author": {"user": {"login": "michalszynkiewicz", "name": "Micha\u0142 Szynkiewicz"}}, "url": "https://github.com/quarkusio/quarkus/commit/971b8bd3cb494ea787ca8bd7616f24bad141222e", "committedDate": "2020-11-17T09:43:28Z", "message": "Support specifying TLS keys from classpath for gRPC clients\n\nfixes #13305"}, "afterCommit": {"oid": "09c09a6feb5518e74ef7de6f99c30d0f0632143f", "author": {"user": {"login": "michalszynkiewicz", "name": "Micha\u0142 Szynkiewicz"}}, "url": "https://github.com/quarkusio/quarkus/commit/09c09a6feb5518e74ef7de6f99c30d0f0632143f", "committedDate": "2020-11-18T07:56:12Z", "message": "Support specifying TLS keys from classpath for gRPC clients\n\nfixes #13305"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMzNDI0NjUz", "url": "https://github.com/quarkusio/quarkus/pull/13308#pullrequestreview-533424653", "createdAt": "2020-11-18T13:06:29Z", "commit": {"oid": "09c09a6feb5518e74ef7de6f99c30d0f0632143f"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQxMzowNjozMFrOH1s0lg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQxMzowNjozMFrOH1s0lg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjA3MDkzNA==", "bodyText": "Wondering if this should be part of quarkus \"core\".\n@stuartwdouglas @gsmet WDYT? This is not gRPC specific.", "url": "https://github.com/quarkusio/quarkus/pull/13308#discussion_r526070934", "createdAt": "2020-11-18T13:06:30Z", "author": {"login": "cescoffier"}, "path": "extensions/grpc/deployment/src/main/java/io/quarkus/grpc/deployment/ResourceRegistrationUtils.java", "diffHunk": "@@ -0,0 +1,38 @@\n+package io.quarkus.grpc.deployment;\n+\n+import java.util.regex.Pattern;\n+\n+import org.eclipse.microprofile.config.Config;\n+\n+import io.quarkus.deployment.annotations.BuildProducer;\n+import io.quarkus.deployment.builditem.nativeimage.NativeImageResourceBuildItem;\n+\n+class ResourceRegistrationUtils {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "09c09a6feb5518e74ef7de6f99c30d0f0632143f"}, "originalPosition": 10}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "09c09a6feb5518e74ef7de6f99c30d0f0632143f", "author": {"user": {"login": "michalszynkiewicz", "name": "Micha\u0142 Szynkiewicz"}}, "url": "https://github.com/quarkusio/quarkus/commit/09c09a6feb5518e74ef7de6f99c30d0f0632143f", "committedDate": "2020-11-18T07:56:12Z", "message": "Support specifying TLS keys from classpath for gRPC clients\n\nfixes #13305"}, "afterCommit": {"oid": "3e368517a33fefcd21b0ff7416ad17f5c13b5bef", "author": {"user": {"login": "michalszynkiewicz", "name": "Micha\u0142 Szynkiewicz"}}, "url": "https://github.com/quarkusio/quarkus/commit/3e368517a33fefcd21b0ff7416ad17f5c13b5bef", "committedDate": "2020-11-20T07:56:31Z", "message": "Support specifying TLS keys from classpath for gRPC clients\n\nfixes #13305"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3e368517a33fefcd21b0ff7416ad17f5c13b5bef", "author": {"user": {"login": "michalszynkiewicz", "name": "Micha\u0142 Szynkiewicz"}}, "url": "https://github.com/quarkusio/quarkus/commit/3e368517a33fefcd21b0ff7416ad17f5c13b5bef", "committedDate": "2020-11-20T07:56:31Z", "message": "Support specifying TLS keys from classpath for gRPC clients\n\nfixes #13305"}, "afterCommit": {"oid": "60b7ec6a637f36188e70a2c3b4f06afecb5dd0d4", "author": {"user": {"login": "michalszynkiewicz", "name": "Micha\u0142 Szynkiewicz"}}, "url": "https://github.com/quarkusio/quarkus/commit/60b7ec6a637f36188e70a2c3b4f06afecb5dd0d4", "committedDate": "2020-11-23T10:12:02Z", "message": "Support specifying TLS keys from classpath for gRPC clients\n\nfixes #13305"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "60b7ec6a637f36188e70a2c3b4f06afecb5dd0d4", "author": {"user": {"login": "michalszynkiewicz", "name": "Micha\u0142 Szynkiewicz"}}, "url": "https://github.com/quarkusio/quarkus/commit/60b7ec6a637f36188e70a2c3b4f06afecb5dd0d4", "committedDate": "2020-11-23T10:12:02Z", "message": "Support specifying TLS keys from classpath for gRPC clients\n\nfixes #13305"}, "afterCommit": {"oid": "0223b5f927d145799a5b7f8d112761b09ca4de42", "author": {"user": {"login": "michalszynkiewicz", "name": "Micha\u0142 Szynkiewicz"}}, "url": "https://github.com/quarkusio/quarkus/commit/0223b5f927d145799a5b7f8d112761b09ca4de42", "committedDate": "2020-11-25T14:29:17Z", "message": "Support specifying TLS keys from classpath for gRPC clients\n\nfixes #13305"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e97460ced3c19a3026d7492310df51c0d133b05b", "author": {"user": {"login": "michalszynkiewicz", "name": "Micha\u0142 Szynkiewicz"}}, "url": "https://github.com/quarkusio/quarkus/commit/e97460ced3c19a3026d7492310df51c0d133b05b", "committedDate": "2020-11-30T22:02:08Z", "message": "Support specifying TLS keys from classpath for gRPC clients\n\nfixes #13305"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0223b5f927d145799a5b7f8d112761b09ca4de42", "author": {"user": {"login": "michalszynkiewicz", "name": "Micha\u0142 Szynkiewicz"}}, "url": "https://github.com/quarkusio/quarkus/commit/0223b5f927d145799a5b7f8d112761b09ca4de42", "committedDate": "2020-11-25T14:29:17Z", "message": "Support specifying TLS keys from classpath for gRPC clients\n\nfixes #13305"}, "afterCommit": {"oid": "e97460ced3c19a3026d7492310df51c0d133b05b", "author": {"user": {"login": "michalszynkiewicz", "name": "Micha\u0142 Szynkiewicz"}}, "url": "https://github.com/quarkusio/quarkus/commit/e97460ced3c19a3026d7492310df51c0d133b05b", "committedDate": "2020-11-30T22:02:08Z", "message": "Support specifying TLS keys from classpath for gRPC clients\n\nfixes #13305"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQyNTc2ODM5", "url": "https://github.com/quarkusio/quarkus/pull/13308#pullrequestreview-542576839", "createdAt": "2020-12-02T08:01:26Z", "commit": {"oid": "e97460ced3c19a3026d7492310df51c0d133b05b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1388, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}