{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI4Njg0OTU1", "number": 13524, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yN1QxNzowMToxOVrOE-DuQA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yN1QxNzowMToxOVrOE-DuQA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMzNTA4MTYwOnYy", "diffSide": "RIGHT", "path": "extensions/arc/deployment/src/main/java/io/quarkus/arc/deployment/configproperties/ClassConfigPropertiesUtil.java", "isResolved": false, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yN1QxNzowMToxOVrOH7Ebng==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yN1QxNzozNDowN1rOH7FFkw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTcwMDYzOA==", "bodyText": "Hmmm, and we are sure that nothing that ConfigPropertyBuildItemCandidate triggers will ever be needed by primitives?", "url": "https://github.com/quarkusio/quarkus/pull/13524#discussion_r531700638", "createdAt": "2020-11-27T17:01:19Z", "author": {"login": "gsmet"}, "path": "extensions/arc/deployment/src/main/java/io/quarkus/arc/deployment/configproperties/ClassConfigPropertiesUtil.java", "diffHunk": "@@ -420,8 +420,10 @@ private static void populateTypicalProperty(MethodCreator methodCreator, ResultH\n             createWriteValue(methodCreator, configObject, field, setter, useFieldAccess, setterValue);\n \n         }\n-        configPropertyBuildItemCandidates\n-                .add(new ConfigPropertyBuildItemCandidate(field.name(), fullConfigName, fieldType));\n+        if (field.type().kind() != Type.Kind.PRIMITIVE) { // the JVM assigns primitive types a default even though it doesn't show up in the bytecode\n+            configPropertyBuildItemCandidates\n+                    .add(new ConfigPropertyBuildItemCandidate(field.name(), fullConfigName, fieldType));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "12e8fcc9b4df3adb9aa7d08a285e415bdb5e064c"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTcwMjI2Nw==", "bodyText": "Yup, that list is only used in turn to populate ConfigPropertyBuildItem (which are the user properties that are required when booting the application).\nThe getPropertyType field of ConfigPropertyBuildItem is only in order to register for reflection which if of course is not needed for primitives.\nSo there is absolutely no reason that these primites should ever end up in the candidates list.", "url": "https://github.com/quarkusio/quarkus/pull/13524#discussion_r531702267", "createdAt": "2020-11-27T17:05:43Z", "author": {"login": "geoand"}, "path": "extensions/arc/deployment/src/main/java/io/quarkus/arc/deployment/configproperties/ClassConfigPropertiesUtil.java", "diffHunk": "@@ -420,8 +420,10 @@ private static void populateTypicalProperty(MethodCreator methodCreator, ResultH\n             createWriteValue(methodCreator, configObject, field, setter, useFieldAccess, setterValue);\n \n         }\n-        configPropertyBuildItemCandidates\n-                .add(new ConfigPropertyBuildItemCandidate(field.name(), fullConfigName, fieldType));\n+        if (field.type().kind() != Type.Kind.PRIMITIVE) { // the JVM assigns primitive types a default even though it doesn't show up in the bytecode\n+            configPropertyBuildItemCandidates\n+                    .add(new ConfigPropertyBuildItemCandidate(field.name(), fullConfigName, fieldType));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTcwMDYzOA=="}, "originalCommit": {"oid": "12e8fcc9b4df3adb9aa7d08a285e415bdb5e064c"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTcxMDkzNQ==", "bodyText": "OK, thanks for the quick turnaround.", "url": "https://github.com/quarkusio/quarkus/pull/13524#discussion_r531710935", "createdAt": "2020-11-27T17:32:39Z", "author": {"login": "gsmet"}, "path": "extensions/arc/deployment/src/main/java/io/quarkus/arc/deployment/configproperties/ClassConfigPropertiesUtil.java", "diffHunk": "@@ -420,8 +420,10 @@ private static void populateTypicalProperty(MethodCreator methodCreator, ResultH\n             createWriteValue(methodCreator, configObject, field, setter, useFieldAccess, setterValue);\n \n         }\n-        configPropertyBuildItemCandidates\n-                .add(new ConfigPropertyBuildItemCandidate(field.name(), fullConfigName, fieldType));\n+        if (field.type().kind() != Type.Kind.PRIMITIVE) { // the JVM assigns primitive types a default even though it doesn't show up in the bytecode\n+            configPropertyBuildItemCandidates\n+                    .add(new ConfigPropertyBuildItemCandidate(field.name(), fullConfigName, fieldType));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTcwMDYzOA=="}, "originalCommit": {"oid": "12e8fcc9b4df3adb9aa7d08a285e415bdb5e064c"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTcxMTM3OQ==", "bodyText": "You are welcome!", "url": "https://github.com/quarkusio/quarkus/pull/13524#discussion_r531711379", "createdAt": "2020-11-27T17:34:07Z", "author": {"login": "geoand"}, "path": "extensions/arc/deployment/src/main/java/io/quarkus/arc/deployment/configproperties/ClassConfigPropertiesUtil.java", "diffHunk": "@@ -420,8 +420,10 @@ private static void populateTypicalProperty(MethodCreator methodCreator, ResultH\n             createWriteValue(methodCreator, configObject, field, setter, useFieldAccess, setterValue);\n \n         }\n-        configPropertyBuildItemCandidates\n-                .add(new ConfigPropertyBuildItemCandidate(field.name(), fullConfigName, fieldType));\n+        if (field.type().kind() != Type.Kind.PRIMITIVE) { // the JVM assigns primitive types a default even though it doesn't show up in the bytecode\n+            configPropertyBuildItemCandidates\n+                    .add(new ConfigPropertyBuildItemCandidate(field.name(), fullConfigName, fieldType));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTcwMDYzOA=="}, "originalCommit": {"oid": "12e8fcc9b4df3adb9aa7d08a285e415bdb5e064c"}, "originalPosition": 8}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3860, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}