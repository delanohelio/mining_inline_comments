{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU0NTg0MTE5", "number": 10887, "title": "Add Vault System Backend Engine Policy and Kubernetes Auth method provisioning services", "bodyText": "This provides provisioning services to create and configure:\n\nvault policies\nkubernetes auth method\nkubernetes auth role\n\nthis may be used by clients that provision vault programmatically.\nin my company we have developed a java program that is deploying a kubernetes application into the cluster, including the vault objects, such as the app kubernetes auth role and policy.\nI have implemented all methods on https://www.vaultproject.io/api-docs/auth/kubernetes and https://www.vaultproject.io/api-docs/system/policy for the sake of completeness.", "createdAt": "2020-07-21T15:32:43Z", "url": "https://github.com/quarkusio/quarkus/pull/10887", "merged": true, "mergeCommit": {"oid": "6993e3dd25fb50a71336a98314ec2d449b01064a"}, "closed": true, "closedAt": "2020-07-23T17:41:38Z", "author": {"login": "vsevel"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc3MrlZgFqTQ1MjgyMzkwMA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABc3zDzpAFqTQ1NDM1NzY0NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUyODIzOTAw", "url": "https://github.com/quarkusio/quarkus/pull/10887#pullrequestreview-452823900", "createdAt": "2020-07-21T20:58:23Z", "commit": {"oid": "b1837c05b59b0c0946bab3e2b581e58f46ce08d3"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b1837c05b59b0c0946bab3e2b581e58f46ce08d3", "author": {"user": {"login": "vsevel", "name": "Vincent Sevel"}}, "url": "https://github.com/quarkusio/quarkus/commit/b1837c05b59b0c0946bab3e2b581e58f46ce08d3", "committedDate": "2020-07-21T15:15:29Z", "message": "Add Vault System Backend Engine Policy and Kubernetes Auth method provisioning services"}, "afterCommit": {"oid": "41b1249acab1a1af10cf995889ae4c07cfb62ea6", "author": {"user": {"login": "vsevel", "name": "Vincent Sevel"}}, "url": "https://github.com/quarkusio/quarkus/commit/41b1249acab1a1af10cf995889ae4c07cfb62ea6", "committedDate": "2020-07-22T09:44:15Z", "message": "Add Vault System Backend Engine Policy and Kubernetes Auth method provisioning services"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUzMTY3MDI2", "url": "https://github.com/quarkusio/quarkus/pull/10887#pullrequestreview-453167026", "createdAt": "2020-07-22T09:53:06Z", "commit": {"oid": "41b1249acab1a1af10cf995889ae4c07cfb62ea6"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUzODM0Njcx", "url": "https://github.com/quarkusio/quarkus/pull/10887#pullrequestreview-453834671", "createdAt": "2020-07-23T04:52:46Z", "commit": {"oid": "41b1249acab1a1af10cf995889ae4c07cfb62ea6"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QwNDo1Mjo0NlrOG18Kzw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QwNDo1Mjo0NlrOG18Kzw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTIxMzUxOQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n             * This services provides programmatic access to the Kubernetes auth method.\n          \n          \n            \n             * This service provides programmatic access to the Kubernetes auth method.", "url": "https://github.com/quarkusio/quarkus/pull/10887#discussion_r459213519", "createdAt": "2020-07-23T04:52:46Z", "author": {"login": "gastaldi"}, "path": "extensions/vault/runtime/src/main/java/io/quarkus/vault/VaultKubernetesAuthService.java", "diffHunk": "@@ -0,0 +1,58 @@\n+package io.quarkus.vault;\n+\n+import java.util.List;\n+\n+import io.quarkus.vault.auth.VaultKubernetesAuthConfig;\n+import io.quarkus.vault.auth.VaultKubernetesAuthRole;\n+\n+/**\n+ * This services provides programmatic access to the Kubernetes auth method.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "41b1249acab1a1af10cf995889ae4c07cfb62ea6"}, "originalPosition": 9}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "41b1249acab1a1af10cf995889ae4c07cfb62ea6", "author": {"user": {"login": "vsevel", "name": "Vincent Sevel"}}, "url": "https://github.com/quarkusio/quarkus/commit/41b1249acab1a1af10cf995889ae4c07cfb62ea6", "committedDate": "2020-07-22T09:44:15Z", "message": "Add Vault System Backend Engine Policy and Kubernetes Auth method provisioning services"}, "afterCommit": {"oid": "514a2c44d151ea6a9bfde2bb16fca2a9edec98e3", "author": {"user": {"login": "vsevel", "name": "Vincent Sevel"}}, "url": "https://github.com/quarkusio/quarkus/commit/514a2c44d151ea6a9bfde2bb16fca2a9edec98e3", "committedDate": "2020-07-23T05:25:19Z", "message": "Add Vault System Backend Engine Policy and Kubernetes Auth method provisioning services"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUzOTc0NTg5", "url": "https://github.com/quarkusio/quarkus/pull/10887#pullrequestreview-453974589", "createdAt": "2020-07-23T09:37:08Z", "commit": {"oid": "514a2c44d151ea6a9bfde2bb16fca2a9edec98e3"}, "state": "DISMISSED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QwOTozNzowOFrOG2DL3A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QwOTozNzowOFrOG2DL3A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTMyODQ3Ng==", "bodyText": "Are they endpoints or CDI beans?\nI think we should be clearer about how a user can make use of them.", "url": "https://github.com/quarkusio/quarkus/pull/10887#discussion_r459328476", "createdAt": "2020-07-23T09:37:08Z", "author": {"login": "gsmet"}, "path": "docs/src/main/asciidoc/vault.adoc", "diffHunk": "@@ -443,6 +443,33 @@ The last relevant property is `quarkus.vault.tls.skip-verify`, which allows to c\n but without checking the certificate authenticity. This may be convenient in development, but is strongly\n discouraged in production as it is not more secure than talking to Vault in plain HTTP.\n \n+== Vault Provisioning\n+\n+Beside the typical client use cases, the Quarkus extension can be used to provision Vault as well, \n+for instance as part of a CD pipeline. Specific endpoints support this scenario:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "514a2c44d151ea6a9bfde2bb16fca2a9edec98e3"}, "originalPosition": 7}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7d7ff2535e0f1c5ce2f42680b36999ee53828235", "author": {"user": {"login": "vsevel", "name": "Vincent Sevel"}}, "url": "https://github.com/quarkusio/quarkus/commit/7d7ff2535e0f1c5ce2f42680b36999ee53828235", "committedDate": "2020-07-23T11:18:32Z", "message": "Add Vault System Backend Engine Policy and Kubernetes Auth method provisioning services"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "514a2c44d151ea6a9bfde2bb16fca2a9edec98e3", "author": {"user": {"login": "vsevel", "name": "Vincent Sevel"}}, "url": "https://github.com/quarkusio/quarkus/commit/514a2c44d151ea6a9bfde2bb16fca2a9edec98e3", "committedDate": "2020-07-23T05:25:19Z", "message": "Add Vault System Backend Engine Policy and Kubernetes Auth method provisioning services"}, "afterCommit": {"oid": "7d7ff2535e0f1c5ce2f42680b36999ee53828235", "author": {"user": {"login": "vsevel", "name": "Vincent Sevel"}}, "url": "https://github.com/quarkusio/quarkus/commit/7d7ff2535e0f1c5ce2f42680b36999ee53828235", "committedDate": "2020-07-23T11:18:32Z", "message": "Add Vault System Backend Engine Policy and Kubernetes Auth method provisioning services"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU0MzU3NjQ0", "url": "https://github.com/quarkusio/quarkus/pull/10887#pullrequestreview-454357644", "createdAt": "2020-07-23T17:41:14Z", "commit": {"oid": "7d7ff2535e0f1c5ce2f42680b36999ee53828235"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1088, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}