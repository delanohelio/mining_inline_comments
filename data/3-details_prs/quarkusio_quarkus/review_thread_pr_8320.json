{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk2Nzg0OTk5", "number": 8320, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQxMjoxMToyNlrODtgN-g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQxMjoxMToyNlrODtgN-g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ5MDQwMzc4OnYy", "diffSide": "RIGHT", "path": "integration-tests/jpa-mariadb/pom.xml", "isResolved": true, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQxMjoxMToyNlrOF-9rmQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQxMjoyMjozMlrOF--D1A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTU2NjYxNw==", "bodyText": "So we assume that mysqladmin will need to be installed to run this test?", "url": "https://github.com/quarkusio/quarkus/pull/8320#discussion_r401566617", "createdAt": "2020-04-01T12:11:26Z", "author": {"login": "geoand"}, "path": "integration-tests/jpa-mariadb/pom.xml", "diffHunk": "@@ -198,15 +195,10 @@\n                                         <!-- Speed things up a bit by not actually flushing writes to disk -->\n                                         <tmpfs>/var/lib/mysql</tmpfs>\n                                         <wait>\n-                                            <!-- good docs found at: http://dmp.fabric8.io/#build-healthcheck -->\n-                                            <tcp>\n-                                                <mode>direct</mode>\n-                                                <ports>\n-                                                    <port>3306</port>\n-                                                </ports>\n-                                            </tcp>\n-                                            <!-- Unfortunately booting MariaDB is slow, needs to set a generous timeout: -->\n-                                            <time>40000</time>\n+                                            <time>20000</time>\n+                                            <exec>\n+                                                <postStart>mysqladmin ping -h localhost -u hibernate_orm_test -phibernate_orm_test</postStart>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "809c960564bb43b42d70aa9bdf01adc1ecbc262d"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTU2NzM3MQ==", "bodyText": "jpa-mariadb uses the same approach as jpa-mysql\nhttps://github.com/quarkusio/quarkus/blob/master/integration-tests/jpa-mysql/pom.xml#L201", "url": "https://github.com/quarkusio/quarkus/pull/8320#discussion_r401567371", "createdAt": "2020-04-01T12:12:57Z", "author": {"login": "rsvoboda"}, "path": "integration-tests/jpa-mariadb/pom.xml", "diffHunk": "@@ -198,15 +195,10 @@\n                                         <!-- Speed things up a bit by not actually flushing writes to disk -->\n                                         <tmpfs>/var/lib/mysql</tmpfs>\n                                         <wait>\n-                                            <!-- good docs found at: http://dmp.fabric8.io/#build-healthcheck -->\n-                                            <tcp>\n-                                                <mode>direct</mode>\n-                                                <ports>\n-                                                    <port>3306</port>\n-                                                </ports>\n-                                            </tcp>\n-                                            <!-- Unfortunately booting MariaDB is slow, needs to set a generous timeout: -->\n-                                            <time>40000</time>\n+                                            <time>20000</time>\n+                                            <exec>\n+                                                <postStart>mysqladmin ping -h localhost -u hibernate_orm_test -phibernate_orm_test</postStart>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTU2NjYxNw=="}, "originalCommit": {"oid": "809c960564bb43b42d70aa9bdf01adc1ecbc262d"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTU2NzQ0OQ==", "bodyText": "I see we already do that for jpa-mysql, so I guess it's OK :)", "url": "https://github.com/quarkusio/quarkus/pull/8320#discussion_r401567449", "createdAt": "2020-04-01T12:13:06Z", "author": {"login": "geoand"}, "path": "integration-tests/jpa-mariadb/pom.xml", "diffHunk": "@@ -198,15 +195,10 @@\n                                         <!-- Speed things up a bit by not actually flushing writes to disk -->\n                                         <tmpfs>/var/lib/mysql</tmpfs>\n                                         <wait>\n-                                            <!-- good docs found at: http://dmp.fabric8.io/#build-healthcheck -->\n-                                            <tcp>\n-                                                <mode>direct</mode>\n-                                                <ports>\n-                                                    <port>3306</port>\n-                                                </ports>\n-                                            </tcp>\n-                                            <!-- Unfortunately booting MariaDB is slow, needs to set a generous timeout: -->\n-                                            <time>40000</time>\n+                                            <time>20000</time>\n+                                            <exec>\n+                                                <postStart>mysqladmin ping -h localhost -u hibernate_orm_test -phibernate_orm_test</postStart>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTU2NjYxNw=="}, "originalCommit": {"oid": "809c960564bb43b42d70aa9bdf01adc1ecbc262d"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTU3MTYxOQ==", "bodyText": "I don't have mysqladmin on my path and it works for me.\nexec command runs inside the container.\nlooking at https://dmp.fabric8.io/#start-wait", "url": "https://github.com/quarkusio/quarkus/pull/8320#discussion_r401571619", "createdAt": "2020-04-01T12:20:31Z", "author": {"login": "rsvoboda"}, "path": "integration-tests/jpa-mariadb/pom.xml", "diffHunk": "@@ -198,15 +195,10 @@\n                                         <!-- Speed things up a bit by not actually flushing writes to disk -->\n                                         <tmpfs>/var/lib/mysql</tmpfs>\n                                         <wait>\n-                                            <!-- good docs found at: http://dmp.fabric8.io/#build-healthcheck -->\n-                                            <tcp>\n-                                                <mode>direct</mode>\n-                                                <ports>\n-                                                    <port>3306</port>\n-                                                </ports>\n-                                            </tcp>\n-                                            <!-- Unfortunately booting MariaDB is slow, needs to set a generous timeout: -->\n-                                            <time>40000</time>\n+                                            <time>20000</time>\n+                                            <exec>\n+                                                <postStart>mysqladmin ping -h localhost -u hibernate_orm_test -phibernate_orm_test</postStart>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTU2NjYxNw=="}, "originalCommit": {"oid": "809c960564bb43b42d70aa9bdf01adc1ecbc262d"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTU3MjgyMA==", "bodyText": "Oh, that's cool. Thanks for checking that out!", "url": "https://github.com/quarkusio/quarkus/pull/8320#discussion_r401572820", "createdAt": "2020-04-01T12:22:32Z", "author": {"login": "geoand"}, "path": "integration-tests/jpa-mariadb/pom.xml", "diffHunk": "@@ -198,15 +195,10 @@\n                                         <!-- Speed things up a bit by not actually flushing writes to disk -->\n                                         <tmpfs>/var/lib/mysql</tmpfs>\n                                         <wait>\n-                                            <!-- good docs found at: http://dmp.fabric8.io/#build-healthcheck -->\n-                                            <tcp>\n-                                                <mode>direct</mode>\n-                                                <ports>\n-                                                    <port>3306</port>\n-                                                </ports>\n-                                            </tcp>\n-                                            <!-- Unfortunately booting MariaDB is slow, needs to set a generous timeout: -->\n-                                            <time>40000</time>\n+                                            <time>20000</time>\n+                                            <exec>\n+                                                <postStart>mysqladmin ping -h localhost -u hibernate_orm_test -phibernate_orm_test</postStart>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTU2NjYxNw=="}, "originalCommit": {"oid": "809c960564bb43b42d70aa9bdf01adc1ecbc262d"}, "originalPosition": 25}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3571, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}