{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE3NzkwNDU2", "number": 13189, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wOVQxNDozNTowMFrOE2y0ZQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wOVQxNTowNjozMVrOE2zvwg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI1ODkxMTczOnYy", "diffSide": "RIGHT", "path": "integration-tests/funqy-google-cloud-functions/src/main/resources/application.properties", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wOVQxNDozNTowMFrOHvxp1Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wOVQxNDozNzoxM1rOHvxwXg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTg1ODY0NQ==", "bodyText": "Is this change normal?", "url": "https://github.com/quarkusio/quarkus/pull/13189#discussion_r519858645", "createdAt": "2020-11-09T14:35:00Z", "author": {"login": "gsmet"}, "path": "integration-tests/funqy-google-cloud-functions/src/main/resources/application.properties", "diffHunk": "@@ -1,4 +1,2 @@\n-quarkus.funqy.export=helloHttpWorld\n-#quarkus.funqy.export=helloHttpWorldAsync\n+quarkus.funqy.export=helloGCSWorld", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "935aa6508160696c258408d2321410562ec9c067"}, "originalPosition": 3}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTg2MDMxOA==", "bodyText": "This is a small cleanup.\nThe test has two functions in it, and 4 has been listed inside the application.properties.", "url": "https://github.com/quarkusio/quarkus/pull/13189#discussion_r519860318", "createdAt": "2020-11-09T14:37:13Z", "author": {"login": "loicmathieu"}, "path": "integration-tests/funqy-google-cloud-functions/src/main/resources/application.properties", "diffHunk": "@@ -1,4 +1,2 @@\n-quarkus.funqy.export=helloHttpWorld\n-#quarkus.funqy.export=helloHttpWorldAsync\n+quarkus.funqy.export=helloGCSWorld", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTg1ODY0NQ=="}, "originalCommit": {"oid": "935aa6508160696c258408d2321410562ec9c067"}, "originalPosition": 3}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI1ODkxMzQxOnYy", "diffSide": "RIGHT", "path": "extensions/funqy/funqy-google-cloud-functions/deployment/src/main/java/io/quarkus/funqy/gcp/functions/deployment/bindings/FunqyCloudFunctionsBuildStep.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wOVQxNDozNToxOVrOHvxqzA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wOVQxNDozNToxOVrOHvxqzA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTg1ODg5Mg==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                public void markObjectMapper(BuildProducer<UnremovableBeanBuildItem> unremovable) {\n          \n          \n            \n                public void markObjectMapperUnremovable(BuildProducer<UnremovableBeanBuildItem> unremovable) {\n          \n      \n    \n    \n  \n\n?", "url": "https://github.com/quarkusio/quarkus/pull/13189#discussion_r519858892", "createdAt": "2020-11-09T14:35:19Z", "author": {"login": "gsmet"}, "path": "extensions/funqy/funqy-google-cloud-functions/deployment/src/main/java/io/quarkus/funqy/gcp/functions/deployment/bindings/FunqyCloudFunctionsBuildStep.java", "diffHunk": "@@ -47,4 +52,12 @@ public void init(List<FunctionBuildItem> functions,\n     public void choose(FunqyConfig config, FunqyCloudFunctionsBindingRecorder recorder) {\n         recorder.chooseInvoker(config);\n     }\n+\n+    @BuildStep\n+    public void markObjectMapper(BuildProducer<UnremovableBeanBuildItem> unremovable) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "935aa6508160696c258408d2321410562ec9c067"}, "originalPosition": 35}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI1OTA2MzcwOnYy", "diffSide": "RIGHT", "path": "extensions/funqy/funqy-google-cloud-functions/deployment/src/main/java/io/quarkus/funqy/gcp/functions/deployment/bindings/FunqyCloudFunctionsBuildStep.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wOVQxNTowNjozMVrOHvzHCw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wOVQxNTo0NzowOVrOHv0_Gw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTg4MjUwNw==", "bodyText": "BTW, not mandatory, but I think that just making the ObjectMapper unremovable would be sufficient. The producer will follow.", "url": "https://github.com/quarkusio/quarkus/pull/13189#discussion_r519882507", "createdAt": "2020-11-09T15:06:31Z", "author": {"login": "gsmet"}, "path": "extensions/funqy/funqy-google-cloud-functions/deployment/src/main/java/io/quarkus/funqy/gcp/functions/deployment/bindings/FunqyCloudFunctionsBuildStep.java", "diffHunk": "@@ -47,4 +52,12 @@ public void init(List<FunctionBuildItem> functions,\n     public void choose(FunqyConfig config, FunqyCloudFunctionsBindingRecorder recorder) {\n         recorder.chooseInvoker(config);\n     }\n+\n+    @BuildStep\n+    public void markObjectMapperUnremovable(BuildProducer<UnremovableBeanBuildItem> unremovable) {\n+        unremovable.produce(new UnremovableBeanBuildItem(\n+                new UnremovableBeanBuildItem.BeanClassNameExclusion(ObjectMapper.class.getName())));\n+        unremovable.produce(new UnremovableBeanBuildItem(\n+                new UnremovableBeanBuildItem.BeanClassNameExclusion(ObjectMapperProducer.class.getName())));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0436803b35189e7857e5b9e86ee4d19f25f7affb"}, "originalPosition": 39}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTkwMTIxMA==", "bodyText": "Just tested it and it didn't work if I remove the ObjectMapperProducer unremovable built item.", "url": "https://github.com/quarkusio/quarkus/pull/13189#discussion_r519901210", "createdAt": "2020-11-09T15:31:19Z", "author": {"login": "loicmathieu"}, "path": "extensions/funqy/funqy-google-cloud-functions/deployment/src/main/java/io/quarkus/funqy/gcp/functions/deployment/bindings/FunqyCloudFunctionsBuildStep.java", "diffHunk": "@@ -47,4 +52,12 @@ public void init(List<FunctionBuildItem> functions,\n     public void choose(FunqyConfig config, FunqyCloudFunctionsBindingRecorder recorder) {\n         recorder.chooseInvoker(config);\n     }\n+\n+    @BuildStep\n+    public void markObjectMapperUnremovable(BuildProducer<UnremovableBeanBuildItem> unremovable) {\n+        unremovable.produce(new UnremovableBeanBuildItem(\n+                new UnremovableBeanBuildItem.BeanClassNameExclusion(ObjectMapper.class.getName())));\n+        unremovable.produce(new UnremovableBeanBuildItem(\n+                new UnremovableBeanBuildItem.BeanClassNameExclusion(ObjectMapperProducer.class.getName())));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTg4MjUwNw=="}, "originalCommit": {"oid": "0436803b35189e7857e5b9e86ee4d19f25f7affb"}, "originalPosition": 39}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTkxMzI0Mw==", "bodyText": "Hmmm, that's weird. But let's keep it that way.", "url": "https://github.com/quarkusio/quarkus/pull/13189#discussion_r519913243", "createdAt": "2020-11-09T15:47:09Z", "author": {"login": "gsmet"}, "path": "extensions/funqy/funqy-google-cloud-functions/deployment/src/main/java/io/quarkus/funqy/gcp/functions/deployment/bindings/FunqyCloudFunctionsBuildStep.java", "diffHunk": "@@ -47,4 +52,12 @@ public void init(List<FunctionBuildItem> functions,\n     public void choose(FunqyConfig config, FunqyCloudFunctionsBindingRecorder recorder) {\n         recorder.chooseInvoker(config);\n     }\n+\n+    @BuildStep\n+    public void markObjectMapperUnremovable(BuildProducer<UnremovableBeanBuildItem> unremovable) {\n+        unremovable.produce(new UnremovableBeanBuildItem(\n+                new UnremovableBeanBuildItem.BeanClassNameExclusion(ObjectMapper.class.getName())));\n+        unremovable.produce(new UnremovableBeanBuildItem(\n+                new UnremovableBeanBuildItem.BeanClassNameExclusion(ObjectMapperProducer.class.getName())));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTg4MjUwNw=="}, "originalCommit": {"oid": "0436803b35189e7857e5b9e86ee4d19f25f7affb"}, "originalPosition": 39}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4035, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}