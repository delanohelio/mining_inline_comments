{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY0NDc2MDI2", "number": 11277, "title": "Add revapi as option during build", "bodyText": "This is related to #10453 but just includes the minimal setup to run revapi (no modules gets it enabled; that will be future PR's)\nInitial setup of revapi to get API change reports.\nStill ways to go in tuning it; but would like to have it included in master\nnow to make coming PR's simpler to apply/manage.\nThis adds a profile to run api check - it is not currently activated by default\nbut should be in the future when we have the defaults tuned in to not generate\nunwarranted noise.\nAlso revapi.skip is default true, meaning even when the profile is active no api check\nwill be done on a module unless it defines revapi.skip=true in its properties.\nThus for now to even have it run you need enable the api-check profile and the property.\ni.e. mvn -Papi-check -Drevapi.skip=false\nIf you want to run it for everything (ignoring revapi.skip do the following::\nmvn -Papi-check -Drevapi.skip=false -DskipTests verify\nIf you want to see it detect changes in dependencies that quarkus exposes/uses add -Drevapi.checkdeps=true\nWhen run you should get a target/revapi-results/ in every module that are included in the check.\nThat folder will have a .json and .adoc file capturing detected API changes/issues.\nIf you want to tweak the format of the .adoc file you can change that in revapi/**/*.ftl\nand do a mvn install to have changes picked up.", "createdAt": "2020-08-07T08:41:25Z", "url": "https://github.com/quarkusio/quarkus/pull/11277", "merged": true, "mergeCommit": {"oid": "2bed8df6d64c93b72e6bf6628a2c344852dadaea"}, "closed": true, "closedAt": "2020-08-13T11:47:27Z", "author": {"login": "maxandersen"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc9d0CggFqTQ2NDAzNDUzMw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABc-bzHFgFqTQ2NjU1MjU0MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY0MDM0NTMz", "url": "https://github.com/quarkusio/quarkus/pull/11277#pullrequestreview-464034533", "createdAt": "2020-08-10T08:19:07Z", "commit": {"oid": "dc650d3a3a89a8e01a04a886611912e4a2b49fa5"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMFQwODoxOTowN1rOG-FR4w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMFQwODoxOTowN1rOG-FR4w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Nzc1MTM5NQ==", "bodyText": "I don't understand this change.", "url": "https://github.com/quarkusio/quarkus/pull/11277#discussion_r467751395", "createdAt": "2020-08-10T08:19:07Z", "author": {"login": "gsmet"}, "path": "build-parent/pom.xml", "diffHunk": "@@ -523,9 +548,7 @@\n             <id>format</id>\n             <activation>\n                 <activeByDefault>true</activeByDefault>\n-                <property>\n-                    <name>!no-format</name>\n-                </property>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dc650d3a3a89a8e01a04a886611912e4a2b49fa5"}, "originalPosition": 45}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "dc650d3a3a89a8e01a04a886611912e4a2b49fa5", "author": {"user": {"login": "maxandersen", "name": "Max Rydahl Andersen"}}, "url": "https://github.com/quarkusio/quarkus/commit/dc650d3a3a89a8e01a04a886611912e4a2b49fa5", "committedDate": "2020-08-07T08:40:53Z", "message": "Add revapi as option during build\n\nInitial setup of revapi to get API change reports.\nStill ways to go in tuning it; but would like to have it included in master\nnow to make coming PR's simpler to apply/manage.\n\nThis adds a profile to run api check - it is not currently activated by default\nbut should be in the future when we have the defaults tuned in to not generate\nunwarranted noise.\n\nAlso `revapi.skip` is default true, meaning even when the profile is active no api check\nwill be done on a module unless it defines `revapi.skip=true` in its properties.\n\nThus for now to even have it run you need enable the api-check profile *and* the property.\ni.e. `mvn -Papi-check -Drevapi.skip=false`\n\nIf you want to run it for everything (ignoring revapi.skip do the following::\n`mvn -Papi-check -Drevapi.skip=false -DskipTests verify`\n\nIf you want to see it detect changes in dependencies that quarkus exposes/uses add `-Drevapi.checkdeps=true`\n\nWhen run you should get a `target/revapi-results/` in every module that are included in the check.\n\nThat folder will have a `.json` and `.adoc` file capturing detected API changes/issues.\n\nIf you want to tweak the format of the `.adoc` file you can change that in revapi/**/*.ftl\nand do a `mvn install` to have changes picked up."}, "afterCommit": {"oid": "62380f045ddc02f343553f661e9ecff12074e860", "author": {"user": {"login": "maxandersen", "name": "Max Rydahl Andersen"}}, "url": "https://github.com/quarkusio/quarkus/commit/62380f045ddc02f343553f661e9ecff12074e860", "committedDate": "2020-08-11T10:42:35Z", "message": "Add revapi as option during build\n\nInitial setup of revapi to get API change reports.\nStill ways to go in tuning it; but would like to have it included in master\nnow to make coming PR's simpler to apply/manage.\n\nThis adds a profile to run api check - it is not currently activated by default\nbut should be in the future when we have the defaults tuned in to not generate\nunwarranted noise.\n\nAlso `revapi.skip` is default true, meaning even when the profile is active no api check\nwill be done on a module unless it defines `revapi.skip=true` in its properties.\n\nThus for now to even have it run you need enable the api-check profile *and* the property.\ni.e. `mvn -Papi-check -Drevapi.skip=false`\n\nIf you want to run it for everything (ignoring revapi.skip do the following::\n`mvn -Papi-check -Drevapi.skip=false -DskipTests verify`\n\nIf you want to see it detect changes in dependencies that quarkus exposes/uses add `-Drevapi.checkdeps=true`\n\nWhen run you should get a `target/revapi-results/` in every module that are included in the check.\n\nThat folder will have a `.json` and `.adoc` file capturing detected API changes/issues.\n\nIf you want to tweak the format of the `.adoc` file you can change that in revapi/**/*.ftl\nand do a `mvn install` to have changes picked up."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0165f0db9267011fcca1d986f9728943c39ae572", "author": {"user": {"login": "maxandersen", "name": "Max Rydahl Andersen"}}, "url": "https://github.com/quarkusio/quarkus/commit/0165f0db9267011fcca1d986f9728943c39ae572", "committedDate": "2020-08-13T08:30:44Z", "message": "Add revapi as option during build\n\nInitial setup of revapi to get API change reports.\nStill ways to go in tuning it; but would like to have it included in master\nnow to make coming PR's simpler to apply/manage.\n\nThis adds a profile to run api check - it is not currently activated by default\nbut should be in the future when we have the defaults tuned in to not generate\nunwarranted noise.\n\nAlso `revapi.skip` is default true, meaning even when the profile is active no api check\nwill be done on a module unless it defines `revapi.skip=true` in its properties.\n\nThus for now to even have it run you need enable the api-check profile *and* the property.\ni.e. `mvn -Papi-check -Drevapi.skip=false`\n\nIf you want to run it for everything (ignoring revapi.skip do the following::\n`mvn -Papi-check -Drevapi.skip=false -DskipTests verify`\n\nIf you want to see it detect changes in dependencies that quarkus exposes/uses add `-Drevapi.checkdeps=true`\n\nWhen run you should get a `target/revapi-results/` in every module that are included in the check.\n\nThat folder will have a `.json` and `.adoc` file capturing detected API changes/issues.\n\nIf you want to tweak the format of the `.adoc` file you can change that in revapi/**/*.ftl\nand do a `mvn install` to have changes picked up."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "62380f045ddc02f343553f661e9ecff12074e860", "author": {"user": {"login": "maxandersen", "name": "Max Rydahl Andersen"}}, "url": "https://github.com/quarkusio/quarkus/commit/62380f045ddc02f343553f661e9ecff12074e860", "committedDate": "2020-08-11T10:42:35Z", "message": "Add revapi as option during build\n\nInitial setup of revapi to get API change reports.\nStill ways to go in tuning it; but would like to have it included in master\nnow to make coming PR's simpler to apply/manage.\n\nThis adds a profile to run api check - it is not currently activated by default\nbut should be in the future when we have the defaults tuned in to not generate\nunwarranted noise.\n\nAlso `revapi.skip` is default true, meaning even when the profile is active no api check\nwill be done on a module unless it defines `revapi.skip=true` in its properties.\n\nThus for now to even have it run you need enable the api-check profile *and* the property.\ni.e. `mvn -Papi-check -Drevapi.skip=false`\n\nIf you want to run it for everything (ignoring revapi.skip do the following::\n`mvn -Papi-check -Drevapi.skip=false -DskipTests verify`\n\nIf you want to see it detect changes in dependencies that quarkus exposes/uses add `-Drevapi.checkdeps=true`\n\nWhen run you should get a `target/revapi-results/` in every module that are included in the check.\n\nThat folder will have a `.json` and `.adoc` file capturing detected API changes/issues.\n\nIf you want to tweak the format of the `.adoc` file you can change that in revapi/**/*.ftl\nand do a `mvn install` to have changes picked up."}, "afterCommit": {"oid": "0165f0db9267011fcca1d986f9728943c39ae572", "author": {"user": {"login": "maxandersen", "name": "Max Rydahl Andersen"}}, "url": "https://github.com/quarkusio/quarkus/commit/0165f0db9267011fcca1d986f9728943c39ae572", "committedDate": "2020-08-13T08:30:44Z", "message": "Add revapi as option during build\n\nInitial setup of revapi to get API change reports.\nStill ways to go in tuning it; but would like to have it included in master\nnow to make coming PR's simpler to apply/manage.\n\nThis adds a profile to run api check - it is not currently activated by default\nbut should be in the future when we have the defaults tuned in to not generate\nunwarranted noise.\n\nAlso `revapi.skip` is default true, meaning even when the profile is active no api check\nwill be done on a module unless it defines `revapi.skip=true` in its properties.\n\nThus for now to even have it run you need enable the api-check profile *and* the property.\ni.e. `mvn -Papi-check -Drevapi.skip=false`\n\nIf you want to run it for everything (ignoring revapi.skip do the following::\n`mvn -Papi-check -Drevapi.skip=false -DskipTests verify`\n\nIf you want to see it detect changes in dependencies that quarkus exposes/uses add `-Drevapi.checkdeps=true`\n\nWhen run you should get a `target/revapi-results/` in every module that are included in the check.\n\nThat folder will have a `.json` and `.adoc` file capturing detected API changes/issues.\n\nIf you want to tweak the format of the `.adoc` file you can change that in revapi/**/*.ftl\nand do a `mvn install` to have changes picked up."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY2NTUyNTQw", "url": "https://github.com/quarkusio/quarkus/pull/11277#pullrequestreview-466552540", "createdAt": "2020-08-13T08:32:40Z", "commit": {"oid": "0165f0db9267011fcca1d986f9728943c39ae572"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 938, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}