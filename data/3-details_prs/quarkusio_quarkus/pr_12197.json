{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg5NDM5NDIx", "number": 12197, "title": "Re-introduce removed configuration in Redis extension to support minimum backward compatibility", "bodyText": "/cc @geoand @gsmet", "createdAt": "2020-09-18T17:08:57Z", "url": "https://github.com/quarkusio/quarkus/pull/12197", "merged": true, "mergeCommit": {"oid": "92c7fc65c9606cf765f595fb659f532920eff53b"}, "closed": true, "closedAt": "2020-09-19T06:36:24Z", "author": {"login": "machi1990"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdKIsCQgH2gAyNDg5NDM5NDIxOmNjOWYyNDAyN2FlNGQ2NjAxNTM1OWU5NzgwNzlhODM2OTc1NDllNWI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdKUT5rgFqTQ5MTk3NTk1OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "cc9f24027ae4d66015359e978079a83697549e5b", "author": {"user": {"login": "machi1990", "name": "Manyanda Chitimbo"}}, "url": "https://github.com/quarkusio/quarkus/commit/cc9f24027ae4d66015359e978079a83697549e5b", "committedDate": "2020-09-18T17:03:49Z", "message": "chore(redis): reduce container wait time to 5s since 20s was probably too high"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkxNjQ4NzE3", "url": "https://github.com/quarkusio/quarkus/pull/12197#pullrequestreview-491648717", "createdAt": "2020-09-18T17:20:01Z", "commit": {"oid": "8343b383e34f7b1ba47f2f1de3aab764f260cff8"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOFQxNzoyMDowMlrOHUVmlA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOFQxNzoyMDowMlrOHUVmlA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTA4NzUwOA==", "bodyText": "Could you also add the @deprecated Javadoc one?", "url": "https://github.com/quarkusio/quarkus/pull/12197#discussion_r491087508", "createdAt": "2020-09-18T17:20:02Z", "author": {"login": "gsmet"}, "path": "extensions/redis-client/runtime/src/main/java/io/quarkus/redis/client/runtime/RedisConfig.java", "diffHunk": "@@ -54,6 +55,36 @@\n \n     @ConfigGroup\n     public static class RedisConfiguration {\n+        /**\n+         * The redis password\n+         * <p>\n+         * It should be removed in the 1.10 release.\n+         * Follows up https://github.com/quarkusio/quarkus/pull/11908#issuecomment-694794724", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8343b383e34f7b1ba47f2f1de3aab764f260cff8"}, "originalPosition": 16}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkxNjQ5MjM4", "url": "https://github.com/quarkusio/quarkus/pull/12197#pullrequestreview-491649238", "createdAt": "2020-09-18T17:20:51Z", "commit": {"oid": "8343b383e34f7b1ba47f2f1de3aab764f260cff8"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOFQxNzoyMDo1MVrOHUVoNA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOFQxNzoyMDo1MVrOHUVoNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTA4NzkyNA==", "bodyText": "I /think/ I would throw an error here if any of the deprecated Optional bits are defined.", "url": "https://github.com/quarkusio/quarkus/pull/12197#discussion_r491087924", "createdAt": "2020-09-18T17:20:51Z", "author": {"login": "gsmet"}, "path": "extensions/redis-client/runtime/src/main/java/io/quarkus/redis/client/runtime/RedisClientUtil.java", "diffHunk": "@@ -60,4 +62,59 @@ public static boolean isDefault(String clientName) {\n     public static RedisConfiguration getConfiguration(RedisConfig config, String name) {\n         return isDefault(name) ? config.defaultClient : config.additionalRedisClients.get(name);\n     }\n+\n+    /**\n+     * This method was only added to support minimal backward compatibility.\n+     * <p>\n+     * It should be removed in the 1.10 release.\n+     * Follows up https://github.com/quarkusio/quarkus/pull/11908#issuecomment-694794724\n+     */\n+    private static String buildConnectionString(RedisConfiguration config, URI host, String clientName) {\n+        final String address = host.toString();\n+        if (address.contains(\"://\")) {\n+            return address;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8343b383e34f7b1ba47f2f1de3aab764f260cff8"}, "originalPosition": 45}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8343b383e34f7b1ba47f2f1de3aab764f260cff8", "author": {"user": {"login": "machi1990", "name": "Manyanda Chitimbo"}}, "url": "https://github.com/quarkusio/quarkus/commit/8343b383e34f7b1ba47f2f1de3aab764f260cff8", "committedDate": "2020-09-18T17:04:55Z", "message": "fix(redis): re-introduce \"ssl\", \"database\" and \"password\" configuration for backward compatibility\n\nFollows up https://github.com/quarkusio/quarkus/pull/11908#issuecomment-694794724"}, "afterCommit": {"oid": "c2de271aada2f0235539cf5658c4f1e459643313", "author": {"user": {"login": "machi1990", "name": "Manyanda Chitimbo"}}, "url": "https://github.com/quarkusio/quarkus/commit/c2de271aada2f0235539cf5658c4f1e459643313", "committedDate": "2020-09-18T17:24:18Z", "message": "fix(redis): re-introduce \"ssl\", \"database\" and \"password\" configuration for backward compatibility\n\nFollows up https://github.com/quarkusio/quarkus/pull/11908#issuecomment-694794724"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fc3f648a99ba53354e1c166117daacc0d36cc66a", "author": {"user": {"login": "machi1990", "name": "Manyanda Chitimbo"}}, "url": "https://github.com/quarkusio/quarkus/commit/fc3f648a99ba53354e1c166117daacc0d36cc66a", "committedDate": "2020-09-18T17:35:33Z", "message": "fix(redis): re-introduce \"ssl\", \"database\" and \"password\" configuration for backward compatibility\n\nFollows up https://github.com/quarkusio/quarkus/pull/11908#issuecomment-694794724"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c2de271aada2f0235539cf5658c4f1e459643313", "author": {"user": {"login": "machi1990", "name": "Manyanda Chitimbo"}}, "url": "https://github.com/quarkusio/quarkus/commit/c2de271aada2f0235539cf5658c4f1e459643313", "committedDate": "2020-09-18T17:24:18Z", "message": "fix(redis): re-introduce \"ssl\", \"database\" and \"password\" configuration for backward compatibility\n\nFollows up https://github.com/quarkusio/quarkus/pull/11908#issuecomment-694794724"}, "afterCommit": {"oid": "fc3f648a99ba53354e1c166117daacc0d36cc66a", "author": {"user": {"login": "machi1990", "name": "Manyanda Chitimbo"}}, "url": "https://github.com/quarkusio/quarkus/commit/fc3f648a99ba53354e1c166117daacc0d36cc66a", "committedDate": "2020-09-18T17:35:33Z", "message": "fix(redis): re-introduce \"ssl\", \"database\" and \"password\" configuration for backward compatibility\n\nFollows up https://github.com/quarkusio/quarkus/pull/11908#issuecomment-694794724"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkxNzk2MDg0", "url": "https://github.com/quarkusio/quarkus/pull/12197#pullrequestreview-491796084", "createdAt": "2020-09-18T21:41:06Z", "commit": {"oid": "fc3f648a99ba53354e1c166117daacc0d36cc66a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkxOTc1OTU5", "url": "https://github.com/quarkusio/quarkus/pull/12197#pullrequestreview-491975959", "createdAt": "2020-09-19T06:36:19Z", "commit": {"oid": "fc3f648a99ba53354e1c166117daacc0d36cc66a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 366, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}