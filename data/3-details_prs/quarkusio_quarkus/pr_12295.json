{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkxODQxODk2", "number": 12295, "title": "Make OIDC CodeAuthenticationMechanism work with the proactive-auth disabled", "bodyText": "Fixes #12090", "createdAt": "2020-09-23T14:55:45Z", "url": "https://github.com/quarkusio/quarkus/pull/12295", "merged": true, "mergeCommit": {"oid": "59ee89629ec40b82fe0c06fba3a6dc9d7cf7dc35"}, "closed": true, "closedAt": "2020-10-02T09:20:40Z", "author": {"login": "sberyozkin"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdLt8RnABqjM3OTg1OTkyMzE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdOdyZSAFqTUwMDg0NzY5MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f5071d96fd44153131a6a9acebc04bc26b385fa2", "author": {"user": {"login": "sberyozkin", "name": null}}, "url": "https://github.com/quarkusio/quarkus/commit/f5071d96fd44153131a6a9acebc04bc26b385fa2", "committedDate": "2020-09-23T14:52:45Z", "message": "Make OIDC CodeAuthenticationMechanism work with the preactive-auth disabled"}, "afterCommit": {"oid": "85835a80bb531bfef06098e6d2e37fde20a997cc", "author": {"user": {"login": "sberyozkin", "name": null}}, "url": "https://github.com/quarkusio/quarkus/commit/85835a80bb531bfef06098e6d2e37fde20a997cc", "committedDate": "2020-09-23T15:01:45Z", "message": "Make OIDC CodeAuthenticationMechanism work with the proactive-auth disabled"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "85835a80bb531bfef06098e6d2e37fde20a997cc", "author": {"user": {"login": "sberyozkin", "name": null}}, "url": "https://github.com/quarkusio/quarkus/commit/85835a80bb531bfef06098e6d2e37fde20a997cc", "committedDate": "2020-09-23T15:01:45Z", "message": "Make OIDC CodeAuthenticationMechanism work with the proactive-auth disabled"}, "afterCommit": {"oid": "a8e511130513cc27afbe5b4d776461701b516c9b", "author": {"user": {"login": "sberyozkin", "name": null}}, "url": "https://github.com/quarkusio/quarkus/commit/a8e511130513cc27afbe5b4d776461701b516c9b", "committedDate": "2020-09-24T16:21:48Z", "message": "Make OIDC CodeAuthenticationMechanism work with the proactive-auth disabled"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a8e511130513cc27afbe5b4d776461701b516c9b", "author": {"user": {"login": "sberyozkin", "name": null}}, "url": "https://github.com/quarkusio/quarkus/commit/a8e511130513cc27afbe5b4d776461701b516c9b", "committedDate": "2020-09-24T16:21:48Z", "message": "Make OIDC CodeAuthenticationMechanism work with the proactive-auth disabled"}, "afterCommit": {"oid": "214c36db507e60ccd30284dd9842ce62f6777675", "author": {"user": {"login": "sberyozkin", "name": null}}, "url": "https://github.com/quarkusio/quarkus/commit/214c36db507e60ccd30284dd9842ce62f6777675", "committedDate": "2020-09-28T15:58:06Z", "message": "Make OIDC CodeAuthenticationMechanism work with the proactive-auth disabled"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk4MDM1MDQz", "url": "https://github.com/quarkusio/quarkus/pull/12295#pullrequestreview-498035043", "createdAt": "2020-09-29T03:14:56Z", "commit": {"oid": "214c36db507e60ccd30284dd9842ce62f6777675"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQwMzoxNDo1NlrOHZXAPA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQwMzoxNDo1NlrOHZXAPA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjM1MzM0MA==", "bodyText": "This feels fragile, as there is no guarantee which exceptions will be first.\nIf you want to prioritise security exceptions I think you need to scan the list first to look for security exceptions that need special handling.", "url": "https://github.com/quarkusio/quarkus/pull/12295#discussion_r496353340", "createdAt": "2020-09-29T03:14:56Z", "author": {"login": "stuartwdouglas"}, "path": "extensions/resteasy/runtime/src/main/java/io/quarkus/resteasy/runtime/CompositeExceptionMapper.java", "diffHunk": "@@ -0,0 +1,32 @@\n+package io.quarkus.resteasy.runtime;\n+\n+import javax.ws.rs.InternalServerErrorException;\n+import javax.ws.rs.core.Context;\n+import javax.ws.rs.core.Response;\n+import javax.ws.rs.ext.ExceptionMapper;\n+import javax.ws.rs.ext.Provider;\n+import javax.ws.rs.ext.Providers;\n+\n+import io.smallrye.mutiny.CompositeException;\n+\n+@Provider\n+public class CompositeExceptionMapper implements ExceptionMapper<CompositeException> {\n+\n+    @Context\n+    Providers p;\n+\n+    @SuppressWarnings(\"unchecked\")\n+    @Override\n+    public Response toResponse(CompositeException ex) {\n+        Throwable t = ex.getCauses().get(0);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "214c36db507e60ccd30284dd9842ce62f6777675"}, "originalPosition": 21}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "214c36db507e60ccd30284dd9842ce62f6777675", "author": {"user": {"login": "sberyozkin", "name": null}}, "url": "https://github.com/quarkusio/quarkus/commit/214c36db507e60ccd30284dd9842ce62f6777675", "committedDate": "2020-09-28T15:58:06Z", "message": "Make OIDC CodeAuthenticationMechanism work with the proactive-auth disabled"}, "afterCommit": {"oid": "5b5c7f429280c7953b7345e44b3993ab3fdb6d43", "author": {"user": {"login": "sberyozkin", "name": null}}, "url": "https://github.com/quarkusio/quarkus/commit/5b5c7f429280c7953b7345e44b3993ab3fdb6d43", "committedDate": "2020-09-29T12:03:42Z", "message": "Make OIDC CodeAuthenticationMechanism work with the proactive-auth disabled"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8ed1276c34aa5d1c6a27849c898f6cebf9707444", "author": {"user": {"login": "sberyozkin", "name": null}}, "url": "https://github.com/quarkusio/quarkus/commit/8ed1276c34aa5d1c6a27849c898f6cebf9707444", "committedDate": "2020-10-01T16:50:33Z", "message": "Make OIDC CodeAuthenticationMechanism work with the proactive-auth disabled"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5b5c7f429280c7953b7345e44b3993ab3fdb6d43", "author": {"user": {"login": "sberyozkin", "name": null}}, "url": "https://github.com/quarkusio/quarkus/commit/5b5c7f429280c7953b7345e44b3993ab3fdb6d43", "committedDate": "2020-09-29T12:03:42Z", "message": "Make OIDC CodeAuthenticationMechanism work with the proactive-auth disabled"}, "afterCommit": {"oid": "8ed1276c34aa5d1c6a27849c898f6cebf9707444", "author": {"user": {"login": "sberyozkin", "name": null}}, "url": "https://github.com/quarkusio/quarkus/commit/8ed1276c34aa5d1c6a27849c898f6cebf9707444", "committedDate": "2020-10-01T16:50:33Z", "message": "Make OIDC CodeAuthenticationMechanism work with the proactive-auth disabled"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAwODQ3Njkx", "url": "https://github.com/quarkusio/quarkus/pull/12295#pullrequestreview-500847691", "createdAt": "2020-10-02T03:54:28Z", "commit": {"oid": "8ed1276c34aa5d1c6a27849c898f6cebf9707444"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 410, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}