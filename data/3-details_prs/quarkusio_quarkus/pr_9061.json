{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDEzMDg5NTYw", "number": 9061, "title": "Support Spring Controllers throwing ResponseStatusException", "bodyText": "Fixes: #9055\nDepends on: quarkusio/quarkus-spring-api#13", "createdAt": "2020-05-04T17:42:08Z", "url": "https://github.com/quarkusio/quarkus/pull/9061", "merged": true, "mergeCommit": {"oid": "8650fef2699b597b096a7d1f48c0367d35cc616a"}, "closed": true, "closedAt": "2020-05-06T09:24:05Z", "author": {"login": "geoand"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABceD4tYABqjMzMDExNzk5ODY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcelMg7AFqTQwNjQ0MDcxMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9d4c10b6e01287d43f68f4caad27dfa6dbaff051", "author": {"user": {"login": "geoand", "name": "Georgios Andrianakis"}}, "url": "https://github.com/quarkusio/quarkus/commit/9d4c10b6e01287d43f68f4caad27dfa6dbaff051", "committedDate": "2020-05-04T17:41:16Z", "message": "Support Spring Controllers throwing ResponseStatusException\n\nFixes: #9055"}, "afterCommit": {"oid": "7f7b4facd5e0b0a7b98dd57325b86283323c7f15", "author": {"user": {"login": "geoand", "name": "Georgios Andrianakis"}}, "url": "https://github.com/quarkusio/quarkus/commit/7f7b4facd5e0b0a7b98dd57325b86283323c7f15", "committedDate": "2020-05-04T18:35:19Z", "message": "Support Spring Controllers throwing ResponseStatusException\n\nFixes: #9055"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA1MjQ1MDcy", "url": "https://github.com/quarkusio/quarkus/pull/9061#pullrequestreview-405245072", "createdAt": "2020-05-04T18:36:35Z", "commit": {"oid": "9d4c10b6e01287d43f68f4caad27dfa6dbaff051"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQxODozNzowMVrOGQNE0Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQxODozNzowMVrOGQNE0Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTY0NDYyNQ==", "bodyText": "Does Spring always send text/plain? I would expect it to be clever than that.", "url": "https://github.com/quarkusio/quarkus/pull/9061#discussion_r419644625", "createdAt": "2020-05-04T18:37:01Z", "author": {"login": "gsmet"}, "path": "extensions/spring-web/runtime/src/main/java/io/quarkus/spring/web/runtime/ResponseStatusExceptionMapper.java", "diffHunk": "@@ -0,0 +1,32 @@\n+package io.quarkus.spring.web.runtime;\n+\n+import java.util.List;\n+import java.util.Map;\n+\n+import javax.ws.rs.core.MediaType;\n+import javax.ws.rs.core.Response;\n+import javax.ws.rs.ext.ExceptionMapper;\n+\n+import org.jboss.resteasy.specimpl.ResponseBuilderImpl;\n+import org.springframework.http.HttpHeaders;\n+import org.springframework.web.server.ResponseStatusException;\n+\n+public class ResponseStatusExceptionMapper implements ExceptionMapper<ResponseStatusException> {\n+\n+    @Override\n+    public Response toResponse(ResponseStatusException exception) {\n+        Response.ResponseBuilder responseBuilder = new ResponseBuilderImpl().status(exception.getStatus().value());\n+        addHeaders(responseBuilder, exception.getResponseHeaders());\n+        return responseBuilder.entity(exception.getMessage())\n+                .type(MediaType.TEXT_PLAIN).build();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7f7b4facd5e0b0a7b98dd57325b86283323c7f15"}, "originalPosition": 21}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7f7b4facd5e0b0a7b98dd57325b86283323c7f15", "author": {"user": {"login": "geoand", "name": "Georgios Andrianakis"}}, "url": "https://github.com/quarkusio/quarkus/commit/7f7b4facd5e0b0a7b98dd57325b86283323c7f15", "committedDate": "2020-05-04T18:35:19Z", "message": "Support Spring Controllers throwing ResponseStatusException\n\nFixes: #9055"}, "afterCommit": {"oid": "bd2c5bd2139a0d9986dc64286fb487209f42f842", "author": {"user": {"login": "geoand", "name": "Georgios Andrianakis"}}, "url": "https://github.com/quarkusio/quarkus/commit/bd2c5bd2139a0d9986dc64286fb487209f42f842", "committedDate": "2020-05-04T18:37:12Z", "message": "Support Spring Controllers throwing ResponseStatusException\n\nFixes: #9055"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aae3bf1deff84d6761ea666e7ee64d6125e274e3", "author": {"user": {"login": "geoand", "name": "Georgios Andrianakis"}}, "url": "https://github.com/quarkusio/quarkus/commit/aae3bf1deff84d6761ea666e7ee64d6125e274e3", "committedDate": "2020-05-05T06:02:07Z", "message": "Bump Spring Web API version"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ed94b770bb1623ddb5dd6ba20ebcbf91d1b1c6ae", "author": {"user": {"login": "geoand", "name": "Georgios Andrianakis"}}, "url": "https://github.com/quarkusio/quarkus/commit/ed94b770bb1623ddb5dd6ba20ebcbf91d1b1c6ae", "committedDate": "2020-05-05T06:02:07Z", "message": "Support Spring Controllers throwing ResponseStatusException\n\nFixes: #9055"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "bd2c5bd2139a0d9986dc64286fb487209f42f842", "author": {"user": {"login": "geoand", "name": "Georgios Andrianakis"}}, "url": "https://github.com/quarkusio/quarkus/commit/bd2c5bd2139a0d9986dc64286fb487209f42f842", "committedDate": "2020-05-04T18:37:12Z", "message": "Support Spring Controllers throwing ResponseStatusException\n\nFixes: #9055"}, "afterCommit": {"oid": "ed94b770bb1623ddb5dd6ba20ebcbf91d1b1c6ae", "author": {"user": {"login": "geoand", "name": "Georgios Andrianakis"}}, "url": "https://github.com/quarkusio/quarkus/commit/ed94b770bb1623ddb5dd6ba20ebcbf91d1b1c6ae", "committedDate": "2020-05-05T06:02:07Z", "message": "Support Spring Controllers throwing ResponseStatusException\n\nFixes: #9055"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA2NDQwNzEw", "url": "https://github.com/quarkusio/quarkus/pull/9061#pullrequestreview-406440710", "createdAt": "2020-05-06T09:23:58Z", "commit": {"oid": "ed94b770bb1623ddb5dd6ba20ebcbf91d1b1c6ae"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3492, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}