{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIwMDIxMzU4", "number": 9452, "title": "Clarify documentation on multi-module projects", "bodyText": "And also external dependencies.", "createdAt": "2020-05-19T10:19:55Z", "url": "https://github.com/quarkusio/quarkus/pull/9452", "merged": true, "mergeCommit": {"oid": "b1a75e8588b7226546613eae1d4f9926c46b5bd7"}, "closed": true, "closedAt": "2020-05-19T14:08:36Z", "author": {"login": "loicmathieu"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABciyDl2gFqTQxNDMxNDM3Mg==", "endCursor": "Y3Vyc29yOnYyOpPPAAABci08TJABqjMzNTE5ODU4Mzc=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE0MzE0Mzcy", "url": "https://github.com/quarkusio/quarkus/pull/9452#pullrequestreview-414314372", "createdAt": "2020-05-19T10:32:56Z", "commit": {"oid": "8ebf8b19bf7aa6b910c2539daa2406bcf31b589c"}, "state": "COMMENTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQxMDozMjo1NlrOGXaLYQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQxMDozODozN1rOGXaWzA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzE5OTMyOQ==", "bodyText": "I am not sure that's accurate. Maven/gradle indexing plugins are configured by users in their projects if they choose to do that. We are indexing certain dependencies at build time (unless the index is already available).", "url": "https://github.com/quarkusio/quarkus/pull/9452#discussion_r427199329", "createdAt": "2020-05-19T10:32:56Z", "author": {"login": "aloubyansky"}, "path": "docs/src/main/asciidoc/getting-started.adoc", "diffHunk": "@@ -425,6 +425,21 @@ URL testUrl;\n The test port can be controlled via the `quarkus.http.test-port` config property. Quarkus also creates a system\n property called `test.url` that is set to the base test URL for situations where you cannot use injection.\n \n+== Working with multi-module project or external modules\n+\n+Quarkus uses Jandex to create, at build time, an index of all classes eligible to CDI bean discovery.\n+Without it, none of the Quarkus extensions will work.\n+\n+This index is created by default on your project thanks to our Maven or Gradle plugin.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8ebf8b19bf7aa6b910c2539daa2406bcf31b589c"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzIwMDYzMQ==", "bodyText": "Or META-INF/beans.xml.", "url": "https://github.com/quarkusio/quarkus/pull/9452#discussion_r427200631", "createdAt": "2020-05-19T10:35:27Z", "author": {"login": "aloubyansky"}, "path": "docs/src/main/asciidoc/getting-started.adoc", "diffHunk": "@@ -425,6 +425,21 @@ URL testUrl;\n The test port can be controlled via the `quarkus.http.test-port` config property. Quarkus also creates a system\n property called `test.url` that is set to the base test URL for situations where you cannot use injection.\n \n+== Working with multi-module project or external modules\n+\n+Quarkus uses Jandex to create, at build time, an index of all classes eligible to CDI bean discovery.\n+Without it, none of the Quarkus extensions will work.\n+\n+This index is created by default on your project thanks to our Maven or Gradle plugin.\n+\n+If your project is a multi-module project, be sure to read the Working with multi-module projects section on our\n+link:maven-tooling#multi-module-maven[Maven] or link:gradle-tooling#multi-module-maven[Gradle] guides.\n+\n+If you plan to use external modules (for example, an external library for all your domain objects),\n+you will need to setup the creation of the index for those modules via the Jandex plugin (if you can modify them)\n+or via the `quarkus.index-dependency` inside your `application.properties`.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8ebf8b19bf7aa6b910c2539daa2406bcf31b589c"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzIwMTE2NA==", "bodyText": "Or use META-INF/beans.xml", "url": "https://github.com/quarkusio/quarkus/pull/9452#discussion_r427201164", "createdAt": "2020-05-19T10:36:27Z", "author": {"login": "aloubyansky"}, "path": "docs/src/main/asciidoc/gradle-tooling.adoc", "diffHunk": "@@ -359,6 +359,16 @@ When building an Uber-Jar you can specify entries that you want to exclude from\n \n The entries are relative to the root of the generated Uber-Jar. You can specify multiple entries by adding extra `--ignored-entry` arguments.\n \n+[[multi-module-gradle]]\n+=== Working with multi-module projects\n+\n+If your project is a multi-module project, each module that didn't use the Quarkus Gradle plugin needs a way to generate a Jandex index to enable CDI bean discovery.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8ebf8b19bf7aa6b910c2539daa2406bcf31b589c"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzIwMjI1Mg==", "bodyText": "Are we generating and persisting Jandex index file? There could be projects configured with quarkus-maven-plugin that are also dependencies of another Quarkus app.", "url": "https://github.com/quarkusio/quarkus/pull/9452#discussion_r427202252", "createdAt": "2020-05-19T10:38:37Z", "author": {"login": "aloubyansky"}, "path": "docs/src/main/asciidoc/maven-tooling.adoc", "diffHunk": "@@ -470,6 +470,36 @@ Uber-Jar creation by default excludes link:https://docs.oracle.com/javase/tutori\n \n Uber-Jar's final name is configurable via a Maven's build settings `finalName` option.\n \n+[[multi-module-maven]]\n+=== Working with multi-module projects\n+\n+If your project is a multi-module project, each module that didn't use the Quarkus Maven plugin needs a way to generate a Jandex index to enable CDI bean discovery.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8ebf8b19bf7aa6b910c2539daa2406bcf31b589c"}, "originalPosition": 7}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE0MzE3NzUx", "url": "https://github.com/quarkusio/quarkus/pull/9452#pullrequestreview-414317751", "createdAt": "2020-05-19T10:37:48Z", "commit": {"oid": "8ebf8b19bf7aa6b910c2539daa2406bcf31b589c"}, "state": "COMMENTED", "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQxMDozNzo0OVrOGXaVMw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQxMDo1MjoyNlrOGXazew==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzIwMTg0Mw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Quarkus uses Jandex to create, at build time, an index of all classes eligible to CDI bean discovery.\n          \n          \n            \n            Without it, none of the Quarkus extensions will work.\n          \n          \n            \n            Quarkus heavily utilizes Jandex at build time, to discover various classes or annotations. One immediately recongizable of this, is CDI bean discovery.\n          \n          \n            \n            As a result, most of the Quarkus extensions will work not work properly if this build time discovery isn't properly setup.", "url": "https://github.com/quarkusio/quarkus/pull/9452#discussion_r427201843", "createdAt": "2020-05-19T10:37:49Z", "author": {"login": "geoand"}, "path": "docs/src/main/asciidoc/getting-started.adoc", "diffHunk": "@@ -425,6 +425,21 @@ URL testUrl;\n The test port can be controlled via the `quarkus.http.test-port` config property. Quarkus also creates a system\n property called `test.url` that is set to the base test URL for situations where you cannot use injection.\n \n+== Working with multi-module project or external modules\n+\n+Quarkus uses Jandex to create, at build time, an index of all classes eligible to CDI bean discovery.\n+Without it, none of the Quarkus extensions will work.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8ebf8b19bf7aa6b910c2539daa2406bcf31b589c"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzIwMTk5Ng==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            This index is created by default on your project thanks to our Maven or Gradle plugin.\n          \n          \n            \n            This index is created by default on the project on which Quarkus is configured for, thanks to our Maven and Gradle plugins.", "url": "https://github.com/quarkusio/quarkus/pull/9452#discussion_r427201996", "createdAt": "2020-05-19T10:38:06Z", "author": {"login": "geoand"}, "path": "docs/src/main/asciidoc/getting-started.adoc", "diffHunk": "@@ -425,6 +425,21 @@ URL testUrl;\n The test port can be controlled via the `quarkus.http.test-port` config property. Quarkus also creates a system\n property called `test.url` that is set to the base test URL for situations where you cannot use injection.\n \n+== Working with multi-module project or external modules\n+\n+Quarkus uses Jandex to create, at build time, an index of all classes eligible to CDI bean discovery.\n+Without it, none of the Quarkus extensions will work.\n+\n+This index is created by default on your project thanks to our Maven or Gradle plugin.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8ebf8b19bf7aa6b910c2539daa2406bcf31b589c"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzIwMzI1NQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            If your project is a multi-module project, be sure to read the Working with multi-module projects section on our\n          \n          \n            \n            However, when working with a multi-module project, be sure to read the `Working with multi-module projects` section of the", "url": "https://github.com/quarkusio/quarkus/pull/9452#discussion_r427203255", "createdAt": "2020-05-19T10:40:37Z", "author": {"login": "geoand"}, "path": "docs/src/main/asciidoc/getting-started.adoc", "diffHunk": "@@ -425,6 +425,21 @@ URL testUrl;\n The test port can be controlled via the `quarkus.http.test-port` config property. Quarkus also creates a system\n property called `test.url` that is set to the base test URL for situations where you cannot use injection.\n \n+== Working with multi-module project or external modules\n+\n+Quarkus uses Jandex to create, at build time, an index of all classes eligible to CDI bean discovery.\n+Without it, none of the Quarkus extensions will work.\n+\n+This index is created by default on your project thanks to our Maven or Gradle plugin.\n+\n+If your project is a multi-module project, be sure to read the Working with multi-module projects section on our", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8ebf8b19bf7aa6b910c2539daa2406bcf31b589c"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzIwNjYxMw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            you will need to setup the creation of the index for those modules via the Jandex plugin (if you can modify them)\n          \n          \n            \n            you will need to make these modules known to the indexing process either by adding the Jandex plugin (if you can modify them)", "url": "https://github.com/quarkusio/quarkus/pull/9452#discussion_r427206613", "createdAt": "2020-05-19T10:47:09Z", "author": {"login": "geoand"}, "path": "docs/src/main/asciidoc/getting-started.adoc", "diffHunk": "@@ -425,6 +425,21 @@ URL testUrl;\n The test port can be controlled via the `quarkus.http.test-port` config property. Quarkus also creates a system\n property called `test.url` that is set to the base test URL for situations where you cannot use injection.\n \n+== Working with multi-module project or external modules\n+\n+Quarkus uses Jandex to create, at build time, an index of all classes eligible to CDI bean discovery.\n+Without it, none of the Quarkus extensions will work.\n+\n+This index is created by default on your project thanks to our Maven or Gradle plugin.\n+\n+If your project is a multi-module project, be sure to read the Working with multi-module projects section on our\n+link:maven-tooling#multi-module-maven[Maven] or link:gradle-tooling#multi-module-maven[Gradle] guides.\n+\n+If you plan to use external modules (for example, an external library for all your domain objects),\n+you will need to setup the creation of the index for those modules via the Jandex plugin (if you can modify them)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8ebf8b19bf7aa6b910c2539daa2406bcf31b589c"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzIwOTU5NQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            or via the `quarkus.index-dependency` inside your `application.properties`.\n          \n          \n            \n            or via the `quarkus.index-dependency` property inside your `application.properties` (useful in cases where you can't modify the module).", "url": "https://github.com/quarkusio/quarkus/pull/9452#discussion_r427209595", "createdAt": "2020-05-19T10:52:26Z", "author": {"login": "geoand"}, "path": "docs/src/main/asciidoc/getting-started.adoc", "diffHunk": "@@ -425,6 +425,21 @@ URL testUrl;\n The test port can be controlled via the `quarkus.http.test-port` config property. Quarkus also creates a system\n property called `test.url` that is set to the base test URL for situations where you cannot use injection.\n \n+== Working with multi-module project or external modules\n+\n+Quarkus uses Jandex to create, at build time, an index of all classes eligible to CDI bean discovery.\n+Without it, none of the Quarkus extensions will work.\n+\n+This index is created by default on your project thanks to our Maven or Gradle plugin.\n+\n+If your project is a multi-module project, be sure to read the Working with multi-module projects section on our\n+link:maven-tooling#multi-module-maven[Maven] or link:gradle-tooling#multi-module-maven[Gradle] guides.\n+\n+If you plan to use external modules (for example, an external library for all your domain objects),\n+you will need to setup the creation of the index for those modules via the Jandex plugin (if you can modify them)\n+or via the `quarkus.index-dependency` inside your `application.properties`.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8ebf8b19bf7aa6b910c2539daa2406bcf31b589c"}, "originalPosition": 16}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "414c216c1d45f2b764c82cefe09ff4c5e2d82470", "author": {"user": {"login": "loicmathieu", "name": "Lo\u00efc Mathieu"}}, "url": "https://github.com/quarkusio/quarkus/commit/414c216c1d45f2b764c82cefe09ff4c5e2d82470", "committedDate": "2020-05-19T12:52:21Z", "message": "WIP Apply suggestions from code review\n\nCo-authored-by: Georgios Andrianakis <geoand@gmail.com>"}, "afterCommit": {"oid": "9a3fad6509be49971444ad3fcf96aff5031ade6c", "author": {"user": {"login": "loicmathieu", "name": "Lo\u00efc Mathieu"}}, "url": "https://github.com/quarkusio/quarkus/commit/9a3fad6509be49971444ad3fcf96aff5031ade6c", "committedDate": "2020-05-19T12:53:22Z", "message": "Clarify documentation on multi-module projects\n\nAnd also external dependencies"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE0NDM2NjE2", "url": "https://github.com/quarkusio/quarkus/pull/9452#pullrequestreview-414436616", "createdAt": "2020-05-19T13:20:08Z", "commit": {"oid": "9a3fad6509be49971444ad3fcf96aff5031ade6c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE0NDQ1MjUy", "url": "https://github.com/quarkusio/quarkus/pull/9452#pullrequestreview-414445252", "createdAt": "2020-05-19T13:29:12Z", "commit": {"oid": "9a3fad6509be49971444ad3fcf96aff5031ade6c"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQxMzoyOToxMlrOGXgdNQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQxMzoyOToyNFrOGXgdzw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzMwMjE5Nw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Quarkus heavily utilizes Jandex at build time, to discover various classes or annotations. One immediately recongizable of this, is CDI bean discovery.\n          \n          \n            \n            Quarkus heavily utilizes https://github.com/wildfly/jandex[Jandex] at build time, to discover various classes or annotations. One immediately recongizable application of this, is CDI bean discovery.", "url": "https://github.com/quarkusio/quarkus/pull/9452#discussion_r427302197", "createdAt": "2020-05-19T13:29:12Z", "author": {"login": "geoand"}, "path": "docs/src/main/asciidoc/getting-started.adoc", "diffHunk": "@@ -425,6 +425,21 @@ URL testUrl;\n The test port can be controlled via the `quarkus.http.test-port` config property. Quarkus also creates a system\n property called `test.url` that is set to the base test URL for situations where you cannot use injection.\n \n+== Working with multi-module project or external modules\n+\n+Quarkus heavily utilizes Jandex at build time, to discover various classes or annotations. One immediately recongizable of this, is CDI bean discovery.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9a3fad6509be49971444ad3fcf96aff5031ade6c"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzMwMjM1MQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            As a result, most of the Quarkus extensions will work not work properly if this build time discovery isn't properly setup.\n          \n          \n            \n            As a result, most of the Quarkus extensions will not work properly if this build time discovery isn't properly setup.", "url": "https://github.com/quarkusio/quarkus/pull/9452#discussion_r427302351", "createdAt": "2020-05-19T13:29:24Z", "author": {"login": "geoand"}, "path": "docs/src/main/asciidoc/getting-started.adoc", "diffHunk": "@@ -425,6 +425,21 @@ URL testUrl;\n The test port can be controlled via the `quarkus.http.test-port` config property. Quarkus also creates a system\n property called `test.url` that is set to the base test URL for situations where you cannot use injection.\n \n+== Working with multi-module project or external modules\n+\n+Quarkus heavily utilizes Jandex at build time, to discover various classes or annotations. One immediately recongizable of this, is CDI bean discovery.\n+As a result, most of the Quarkus extensions will work not work properly if this build time discovery isn't properly setup.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9a3fad6509be49971444ad3fcf96aff5031ade6c"}, "originalPosition": 7}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "91edfb38e67b9953bb3a2130b4ea62859717a312", "author": {"user": {"login": "loicmathieu", "name": "Lo\u00efc Mathieu"}}, "url": "https://github.com/quarkusio/quarkus/commit/91edfb38e67b9953bb3a2130b4ea62859717a312", "committedDate": "2020-05-19T13:41:40Z", "message": "Apply suggestions from code review\n\nCo-authored-by: Georgios Andrianakis <geoand@gmail.com>"}, "afterCommit": {"oid": "a3ceee7eeb15e7af89acb326144ed95672d38370", "author": {"user": {"login": "loicmathieu", "name": "Lo\u00efc Mathieu"}}, "url": "https://github.com/quarkusio/quarkus/commit/a3ceee7eeb15e7af89acb326144ed95672d38370", "committedDate": "2020-05-19T13:42:16Z", "message": "Clarify documentation on multi-module projects\n\nAnd also external dependencies"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE0NDYwNzc4", "url": "https://github.com/quarkusio/quarkus/pull/9452#pullrequestreview-414460778", "createdAt": "2020-05-19T13:45:20Z", "commit": {"oid": "a3ceee7eeb15e7af89acb326144ed95672d38370"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "424193890cabed58a81275568ba68c349cae1ec1", "author": {"user": {"login": "loicmathieu", "name": "Lo\u00efc Mathieu"}}, "url": "https://github.com/quarkusio/quarkus/commit/424193890cabed58a81275568ba68c349cae1ec1", "committedDate": "2020-05-19T13:49:28Z", "message": "Clarify documentation on multi-module projects\n\nAnd also external dependencies"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a3ceee7eeb15e7af89acb326144ed95672d38370", "author": {"user": {"login": "loicmathieu", "name": "Lo\u00efc Mathieu"}}, "url": "https://github.com/quarkusio/quarkus/commit/a3ceee7eeb15e7af89acb326144ed95672d38370", "committedDate": "2020-05-19T13:42:16Z", "message": "Clarify documentation on multi-module projects\n\nAnd also external dependencies"}, "afterCommit": {"oid": "424193890cabed58a81275568ba68c349cae1ec1", "author": {"user": {"login": "loicmathieu", "name": "Lo\u00efc Mathieu"}}, "url": "https://github.com/quarkusio/quarkus/commit/424193890cabed58a81275568ba68c349cae1ec1", "committedDate": "2020-05-19T13:49:28Z", "message": "Clarify documentation on multi-module projects\n\nAnd also external dependencies"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3317, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}