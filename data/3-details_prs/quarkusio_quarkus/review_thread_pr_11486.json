{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDcwNjM4OTQ5", "number": 11486, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMFQwMzo1MTo0MVrOEaSuWg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMFQwMzo1MTo0MVrOEaSuWg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk2MDA1MjEwOnYy", "diffSide": "RIGHT", "path": "test-framework/security/src/main/java/io/quarkus/test/security/QuarkusSecurityTestExtension.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMFQwMzo1MTo0MVrOHDohHQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMFQwMzo1MjozMlrOHDoh0g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzU3MTYxMw==", "bodyText": "Is this while loop missing an assignment to testSecurity? In other words, should that testSecurity = original.getAnnotation(TestSecurity.class) be moved into the while loop?", "url": "https://github.com/quarkusio/quarkus/pull/11486#discussion_r473571613", "createdAt": "2020-08-20T03:51:41Z", "author": {"login": "jaikiran"}, "path": "test-framework/security/src/main/java/io/quarkus/test/security/QuarkusSecurityTestExtension.java", "diffHunk": "@@ -37,7 +36,10 @@ public void beforeEach(QuarkusTestMethodContext context) {\n                     }).toArray(Class<?>[]::new));\n             TestSecurity testSecurity = method.getAnnotation(TestSecurity.class);\n             if (testSecurity == null) {\n-                testSecurity = test.getAnnotation(TestSecurity.class);\n+                testSecurity = original.getAnnotation(TestSecurity.class);\n+                while (testSecurity == null && original != Object.class) {\n+                    original = original.getSuperclass();\n+                }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "12c9c28cf4cb2d59106c8d66ea31a7653c748f60"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzU3MTc5NA==", "bodyText": "Ah, oops. It still fixes it in this specific case as it is checking the original, however this was supposed to make it work for superclasses as well.", "url": "https://github.com/quarkusio/quarkus/pull/11486#discussion_r473571794", "createdAt": "2020-08-20T03:52:32Z", "author": {"login": "stuartwdouglas"}, "path": "test-framework/security/src/main/java/io/quarkus/test/security/QuarkusSecurityTestExtension.java", "diffHunk": "@@ -37,7 +36,10 @@ public void beforeEach(QuarkusTestMethodContext context) {\n                     }).toArray(Class<?>[]::new));\n             TestSecurity testSecurity = method.getAnnotation(TestSecurity.class);\n             if (testSecurity == null) {\n-                testSecurity = test.getAnnotation(TestSecurity.class);\n+                testSecurity = original.getAnnotation(TestSecurity.class);\n+                while (testSecurity == null && original != Object.class) {\n+                    original = original.getSuperclass();\n+                }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzU3MTYxMw=="}, "originalCommit": {"oid": "12c9c28cf4cb2d59106c8d66ea31a7653c748f60"}, "originalPosition": 16}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 613, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}