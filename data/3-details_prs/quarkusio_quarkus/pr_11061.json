{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU4NDQ5NDk0", "number": 11061, "title": "Documentation for building native executables with Mandrel", "bodyText": "Closes #11032\n@zakkak @jerboaa @Karm can you have a read through the changes?", "createdAt": "2020-07-29T13:44:07Z", "url": "https://github.com/quarkusio/quarkus/pull/11061", "merged": true, "mergeCommit": {"oid": "2a8526af6a85ea21eb4b00de43e8a02b7a8aa626"}, "closed": true, "closedAt": "2020-08-20T09:20:44Z", "author": {"login": "galderz"}, "timelineItems": {"totalCount": 19, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc5rasBAFqTQ1NzU0NTQxOQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdAsrdwAFqTQ3MTQxMzcwNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU3NTQ1NDE5", "url": "https://github.com/quarkusio/quarkus/pull/11061#pullrequestreview-457545419", "createdAt": "2020-07-29T13:54:49Z", "commit": {"oid": "e1b9878ddf1911fa4becded6515af9b9083ac35a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQxMzo1NDo1MFrOG45luw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQxMzo1NDo1MFrOG45luw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjMxNjk4Nw==", "bodyText": "There are actually 3 distributions. GraalVM CE, GraalVM EE, and Mandrel.", "url": "https://github.com/quarkusio/quarkus/pull/11061#discussion_r462316987", "createdAt": "2020-07-29T13:54:50Z", "author": {"login": "zakkak"}, "path": "docs/src/main/asciidoc/building-native-image.adoc", "diffHunk": "@@ -14,7 +14,50 @@ This guide covers:\n \n This guide takes as input the application developed in the link:getting-started[Getting Started Guide].\n \n-== Prerequisites\n+== GraalVM\n+\n+Building a native executable requires using a distribution of GraalVM.\n+There are two distributions: Oracle GraalVM and Mandrel.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e1b9878ddf1911fa4becded6515af9b9083ac35a"}, "originalPosition": 8}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU3NTQ4NzEw", "url": "https://github.com/quarkusio/quarkus/pull/11061#pullrequestreview-457548710", "createdAt": "2020-07-29T13:58:13Z", "commit": {"oid": "e1b9878ddf1911fa4becded6515af9b9083ac35a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQxMzo1ODoxNFrOG45v9w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQxMzo1ODoxNFrOG45v9w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjMxOTYwNw==", "bodyText": "Maybe highlight that the user should consult the mandrel-related tip?", "url": "https://github.com/quarkusio/quarkus/pull/11061#discussion_r462319607", "createdAt": "2020-07-29T13:58:14Z", "author": {"login": "zakkak"}, "path": "docs/src/main/asciidoc/building-native-image.adoc", "diffHunk": "@@ -14,7 +14,50 @@ This guide covers:\n \n This guide takes as input the application developed in the link:getting-started[Getting Started Guide].\n \n-== Prerequisites\n+== GraalVM\n+\n+Building a native executable requires using a distribution of GraalVM.\n+There are two distributions: Oracle GraalVM and Mandrel.\n+The differences between the two distributions are as follows:\n+\n+* Mandrel is a downstream distribution of the Oracle GraalVM community edition.\n+Mandrel's main goal is to provide a way to build native executables specifically designed to support Quarkus.\n+\n+* Mandrel releases are built from a code base derived from the upstream Oracle GraalVM code base,\n+with only minor changes but some significant exclusions.\n+They support the same capabilities to build native executables as Oracle GraalVM,\n+with no significant changes to functionality.\n+Notably, they do not include support for polyglot programming.\n+\n+* Mandrel is built slightly differently to GraalVM, using the standard OpenJDK project.\n+This means that it does not profit from a few small enhancements that Oracle have added to the version of OpenJDK used to build their own GraalVM downloads.\n+\n+* Mandrel is only available for projects that can be compiled with Java 11.\n+If you are using Java 8,\n+you should consider using Oracle GraalVM instead.\n+\n+* Mandrel is currently only recommended for containerized environments.\n+If you are building native executables for macOS or Windows,\n+you should consider using Oracle GraalVM instead.\n+Building for bare metal Linux is possible,\n+with details available in the https://github.com/graalvm/mandrel/blob/master/README-Mandrel.md[Mandrel README]\n+and https://github.com/graalvm/mandrel/releases[Mandrel releases].\n+\n+The prerequisites vary slightly depending on whether you are using Oracle GraalVM or Mandrel.\n+\n+== Prerequisites for Mandrel\n+\n+To complete this guide using Mandrel, you need:\n+\n+* less than 15 minutes\n+* an IDE\n+* JDK 11 installed with `JAVA_HOME` configured appropriately\n+* A working container runtime (Docker, podman)\n+* The code of the application developed in the link:getting-started[Getting Started Guide].\n+\n+Skip to the <<#container-runtime,this section>> to continue with the guide for Mandrel.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e1b9878ddf1911fa4becded6515af9b9083ac35a"}, "originalPosition": 46}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU3NjY3NjU2", "url": "https://github.com/quarkusio/quarkus/pull/11061#pullrequestreview-457667656", "createdAt": "2020-07-29T16:00:57Z", "commit": {"oid": "e1b9878ddf1911fa4becded6515af9b9083ac35a"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQxNjowMDo1N1rOG4_X0Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQxNjowMjo1N1rOG4_dWQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjQxMTcyOQ==", "bodyText": "I don't think we want that hardcoded here. It should be in the build-parent with the GraalVM version.", "url": "https://github.com/quarkusio/quarkus/pull/11061#discussion_r462411729", "createdAt": "2020-07-29T16:00:57Z", "author": {"login": "gsmet"}, "path": "docs/src/main/asciidoc/building-native-image.adoc", "diffHunk": "@@ -327,6 +370,14 @@ You can also select the container runtime to use with:\n ./mvnw package -Pnative -Dquarkus.native.container-runtime=podman\n ----\n \n+[TIP]\n+====\n+Building with Mandrel requires a custom builder image parameter to be passed additionally:\n+[source,shell]\n+----\n+./mvnw package -Pnative -Dquarkus.native.container-build=true -Dquarkus.native.builder-image=quay.io/quarkus/ubi-quarkus-mandrel:20.1.0.1.Alpha2-java11", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e1b9878ddf1911fa4becded6515af9b9083ac35a"}, "originalPosition": 61}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjQxMjU2MQ==", "bodyText": "I read all these points and I only see drawbacks for Mandrel: it has less features, doesn't have some enhancements and doesn't support Java 8. It's a bit of a hard sell :).", "url": "https://github.com/quarkusio/quarkus/pull/11061#discussion_r462412561", "createdAt": "2020-07-29T16:02:04Z", "author": {"login": "gsmet"}, "path": "docs/src/main/asciidoc/building-native-image.adoc", "diffHunk": "@@ -14,7 +14,50 @@ This guide covers:\n \n This guide takes as input the application developed in the link:getting-started[Getting Started Guide].\n \n-== Prerequisites\n+== GraalVM\n+\n+Building a native executable requires using a distribution of GraalVM.\n+There are two distributions: Oracle GraalVM and Mandrel.\n+The differences between the two distributions are as follows:\n+\n+* Mandrel is a downstream distribution of the Oracle GraalVM community edition.\n+Mandrel's main goal is to provide a way to build native executables specifically designed to support Quarkus.\n+\n+* Mandrel releases are built from a code base derived from the upstream Oracle GraalVM code base,\n+with only minor changes but some significant exclusions.\n+They support the same capabilities to build native executables as Oracle GraalVM,\n+with no significant changes to functionality.\n+Notably, they do not include support for polyglot programming.\n+\n+* Mandrel is built slightly differently to GraalVM, using the standard OpenJDK project.\n+This means that it does not profit from a few small enhancements that Oracle have added to the version of OpenJDK used to build their own GraalVM downloads.\n+\n+* Mandrel is only available for projects that can be compiled with Java 11.\n+If you are using Java 8,\n+you should consider using Oracle GraalVM instead.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e1b9878ddf1911fa4becded6515af9b9083ac35a"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjQxMzE0NQ==", "bodyText": "You haven't closed your TIP.", "url": "https://github.com/quarkusio/quarkus/pull/11061#discussion_r462413145", "createdAt": "2020-07-29T16:02:57Z", "author": {"login": "gsmet"}, "path": "docs/src/main/asciidoc/building-native-image.adoc", "diffHunk": "@@ -327,6 +370,14 @@ You can also select the container runtime to use with:\n ./mvnw package -Pnative -Dquarkus.native.container-runtime=podman\n ----\n \n+[TIP]\n+====\n+Building with Mandrel requires a custom builder image parameter to be passed additionally:\n+[source,shell]\n+----\n+./mvnw package -Pnative -Dquarkus.native.container-build=true -Dquarkus.native.builder-image=quay.io/quarkus/ubi-quarkus-mandrel:20.1.0.1.Alpha2-java11\n+----\n+Check https://quay.io/repository/quarkus/ubi-quarkus-mandrel?tab=tags[here] to find out about available tags.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e1b9878ddf1911fa4becded6515af9b9083ac35a"}, "originalPosition": 63}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU4MTI5ODI3", "url": "https://github.com/quarkusio/quarkus/pull/11061#pullrequestreview-458129827", "createdAt": "2020-07-30T06:55:35Z", "commit": {"oid": "e1b9878ddf1911fa4becded6515af9b9083ac35a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQwNjo1NTozNlrOG5V2aQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQwNjo1NTozNlrOG5V2aQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Mjc4MDAwOQ==", "bodyText": "Hello @galderz, is this sentence implying that the native-image generation needs to happen within a container or is this saying that the built native image needs to be run within a container?\nEither way, I'm curious about the requirement of a containerized environment. In the context of Mandrel, is there some specific advantages that containerized environments provide? Are these advantages the same as probably Graal VM too provides in containerized environment?", "url": "https://github.com/quarkusio/quarkus/pull/11061#discussion_r462780009", "createdAt": "2020-07-30T06:55:36Z", "author": {"login": "jaikiran"}, "path": "docs/src/main/asciidoc/building-native-image.adoc", "diffHunk": "@@ -14,7 +14,50 @@ This guide covers:\n \n This guide takes as input the application developed in the link:getting-started[Getting Started Guide].\n \n-== Prerequisites\n+== GraalVM\n+\n+Building a native executable requires using a distribution of GraalVM.\n+There are two distributions: Oracle GraalVM and Mandrel.\n+The differences between the two distributions are as follows:\n+\n+* Mandrel is a downstream distribution of the Oracle GraalVM community edition.\n+Mandrel's main goal is to provide a way to build native executables specifically designed to support Quarkus.\n+\n+* Mandrel releases are built from a code base derived from the upstream Oracle GraalVM code base,\n+with only minor changes but some significant exclusions.\n+They support the same capabilities to build native executables as Oracle GraalVM,\n+with no significant changes to functionality.\n+Notably, they do not include support for polyglot programming.\n+\n+* Mandrel is built slightly differently to GraalVM, using the standard OpenJDK project.\n+This means that it does not profit from a few small enhancements that Oracle have added to the version of OpenJDK used to build their own GraalVM downloads.\n+\n+* Mandrel is only available for projects that can be compiled with Java 11.\n+If you are using Java 8,\n+you should consider using Oracle GraalVM instead.\n+\n+* Mandrel is currently only recommended for containerized environments.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e1b9878ddf1911fa4becded6515af9b9083ac35a"}, "originalPosition": 27}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e1b9878ddf1911fa4becded6515af9b9083ac35a", "author": {"user": {"login": "galderz", "name": "Galder Zamarre\u00f1o"}}, "url": "https://github.com/quarkusio/quarkus/commit/e1b9878ddf1911fa4becded6515af9b9083ac35a", "committedDate": "2020-07-29T13:40:47Z", "message": "Documentation for building native executables with Mandrel #11032"}, "afterCommit": {"oid": "c2e138a315896d5afd79ee96c9db44fd06f89a48", "author": {"user": {"login": "galderz", "name": "Galder Zamarre\u00f1o"}}, "url": "https://github.com/quarkusio/quarkus/commit/c2e138a315896d5afd79ee96c9db44fd06f89a48", "committedDate": "2020-08-06T13:59:56Z", "message": "Documentation for building native executables with Mandrel #11032"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYyNTg4Njc5", "url": "https://github.com/quarkusio/quarkus/pull/11061#pullrequestreview-462588679", "createdAt": "2020-08-06T14:43:58Z", "commit": {"oid": "c2e138a315896d5afd79ee96c9db44fd06f89a48"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxNDo0Mzo1OVrOG82wqg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxNDo0Mzo1OVrOG82wqg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjQ2NDkzOA==", "bodyText": "I think this should be\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Skip to the <<#container-runtime,this section>> to continue with the guide for Mandrel,\n          \n          \n            \n            Skip to <<#container-runtime,this section>> to continue with the guide for Mandrel,", "url": "https://github.com/quarkusio/quarkus/pull/11061#discussion_r466464938", "createdAt": "2020-08-06T14:43:59Z", "author": {"login": "zakkak"}, "path": "docs/src/main/asciidoc/building-native-image.adoc", "diffHunk": "@@ -14,7 +14,54 @@ This guide covers:\n \n This guide takes as input the application developed in the link:getting-started[Getting Started Guide].\n \n-== Prerequisites\n+== GraalVM\n+\n+Building a native executable requires using a distribution of GraalVM.\n+There are three distributions:\n+Oracle GraalVM Community Edition (CE), Oracle GraalVM Enterprise Edition (EE) and Mandrel.\n+The differences between the Oracle and Mandrel distributions are as follows:\n+\n+* Mandrel is a downstream distribution of the Oracle GraalVM CE.\n+Mandrel's main goal is to provide a way to build native executables specifically designed to support Quarkus.\n+\n+* Mandrel releases are built from a code base derived from the upstream Oracle GraalVM CE code base,\n+with only minor changes but some significant exclusions.\n+They support the same capabilities to build native executables as Oracle GraalVM CE,\n+with no significant changes to functionality.\n+Notably, they do not include support for polyglot programming.\n+\n+* Mandrel is built slightly differently to Oracle GraalVM CE, using the standard OpenJDK project.\n+This means that it does not profit from a few small enhancements that Oracle have added to the version of OpenJDK used to build their own GraalVM downloads.\n+\n+* Mandrel is only available for projects that can be compiled with Java 11.\n+If you are using Java 8,\n+you should consider using Oracle GraalVM instead.\n+\n+* Mandrel is currently only recommended for building native executables that target Linux containerized environments.\n+This means that Mandrel users should use containers to build their native executables.\n+If you are building native executables for macOS or Windows target platforms,\n+you should consider using Oracle GraalVM instead,\n+because Mandrel does not currently target these platforms.\n+Building native executables directly on bare metal Linux is possible,\n+with details available in the https://github.com/graalvm/mandrel/blob/master/README-Mandrel.md[Mandrel README]\n+and https://github.com/graalvm/mandrel/releases[Mandrel releases].\n+\n+The prerequisites vary slightly depending on whether you are using Oracle GraalVM CE/EE or Mandrel.\n+\n+== Prerequisites for Mandrel\n+\n+To complete this guide using Mandrel, you need:\n+\n+* less than 15 minutes\n+* an IDE\n+* JDK 11 installed with `JAVA_HOME` configured appropriately\n+* A working container runtime (Docker, podman)\n+* The code of the application developed in the link:getting-started[Getting Started Guide].\n+\n+Skip to the <<#container-runtime,this section>> to continue with the guide for Mandrel,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c2e138a315896d5afd79ee96c9db44fd06f89a48"}, "originalPosition": 49}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c2e138a315896d5afd79ee96c9db44fd06f89a48", "author": {"user": {"login": "galderz", "name": "Galder Zamarre\u00f1o"}}, "url": "https://github.com/quarkusio/quarkus/commit/c2e138a315896d5afd79ee96c9db44fd06f89a48", "committedDate": "2020-08-06T13:59:56Z", "message": "Documentation for building native executables with Mandrel #11032"}, "afterCommit": {"oid": "f20a7d3b45893148a9d298871f8f6541d18e4de1", "author": {"user": {"login": "galderz", "name": "Galder Zamarre\u00f1o"}}, "url": "https://github.com/quarkusio/quarkus/commit/f20a7d3b45893148a9d298871f8f6541d18e4de1", "committedDate": "2020-08-06T15:57:04Z", "message": "Documentation for building native executables with Mandrel #11032"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f20a7d3b45893148a9d298871f8f6541d18e4de1", "author": {"user": {"login": "galderz", "name": "Galder Zamarre\u00f1o"}}, "url": "https://github.com/quarkusio/quarkus/commit/f20a7d3b45893148a9d298871f8f6541d18e4de1", "committedDate": "2020-08-06T15:57:04Z", "message": "Documentation for building native executables with Mandrel #11032"}, "afterCommit": {"oid": "6521624a1b41a2e2bf5c89c562ab85e4a9f833f3", "author": {"user": {"login": "galderz", "name": "Galder Zamarre\u00f1o"}}, "url": "https://github.com/quarkusio/quarkus/commit/6521624a1b41a2e2bf5c89c562ab85e4a9f833f3", "committedDate": "2020-08-06T15:58:18Z", "message": "Documentation for building native executables with Mandrel #11032"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYzMTYxNzkw", "url": "https://github.com/quarkusio/quarkus/pull/11061#pullrequestreview-463161790", "createdAt": "2020-08-07T09:16:27Z", "commit": {"oid": "6521624a1b41a2e2bf5c89c562ab85e4a9f833f3"}, "state": "COMMENTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wN1QwOToxNjoyN1rOG9SuBg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wN1QwOToyNjozOFrOG9TCXA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjkyMzAxNA==", "bodyText": "Is this intentional? Wouldn't this expression, ${mandrel.version-for-documentation}-java11, evaluate to 20.1.0.1.Alpha2-java11-java11?", "url": "https://github.com/quarkusio/quarkus/pull/11061#discussion_r466923014", "createdAt": "2020-08-07T09:16:27Z", "author": {"login": "jerboaa"}, "path": "docs/pom.xml", "diffHunk": "@@ -108,6 +108,8 @@\n                         <surefire-version>${version.surefire.plugin}</surefire-version>\n                         <graalvm-version>${graal-sdk.version-for-documentation}</graalvm-version>\n                         <graalvm-flavor>${graal-sdk.version-for-documentation}-java11</graalvm-flavor>\n+                        <mandrel-version>${mandrel.version-for-documentation}</mandrel-version>\n+                        <mandrel-flavor>${mandrel.version-for-documentation}-java11</mandrel-flavor>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6521624a1b41a2e2bf5c89c562ab85e4a9f833f3"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjkyNDYxNg==", "bodyText": "Suggestion: \".... omitted because upstream OpenJDK does not manage them and, thus, cannot vouch for them.\" It's not only Red Hat who's working on 11u OpenJDK upstream.", "url": "https://github.com/quarkusio/quarkus/pull/11061#discussion_r466924616", "createdAt": "2020-08-07T09:19:42Z", "author": {"login": "jerboaa"}, "path": "docs/src/main/asciidoc/building-native-image.adoc", "diffHunk": "@@ -14,7 +14,61 @@ This guide covers:\n \n This guide takes as input the application developed in the link:getting-started[Getting Started Guide].\n \n-== Prerequisites\n+== GraalVM\n+\n+Building a native executable requires using a distribution of GraalVM.\n+There are three distributions:\n+Oracle GraalVM Community Edition (CE), Oracle GraalVM Enterprise Edition (EE) and Mandrel.\n+The differences between the Oracle and Mandrel distributions are as follows:\n+\n+* Mandrel is a downstream distribution of the Oracle GraalVM CE.\n+Mandrel's main goal is to provide a way to build native executables specifically designed to support Quarkus.\n+\n+* Mandrel releases are built from a code base derived from the upstream Oracle GraalVM CE code base,\n+with only minor changes but some significant exclusions that are not necessary for Quarkus native apps.\n+They support the same capabilities to build native executables as Oracle GraalVM CE,\n+with no significant changes to functionality.\n+Notably, they do not include support for polyglot programming.\n+The reason for these exclusions is to provide a better level of support for the majority of Quarkus users.\n+These exclusions also mean Mandrel offers a considerable reduction in its distribution size\n+when compared with Oracle GraalVM CE/EE.\n+\n+* Mandrel is built slightly differently to Oracle GraalVM CE, using the standard OpenJDK project.\n+This means that it does not profit from a few small enhancements that Oracle have added to the version of OpenJDK used to build their own GraalVM downloads.\n+This enhancements are omitted because the Red Hat OpenJDK team does not manage them, and cannot vouch for.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6521624a1b41a2e2bf5c89c562ab85e4a9f833f3"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjkyNzUxMg==", "bodyText": "This seems misleading. The Mandrel release comes with OpenJDK 11 bundled. So it doesn't need OpenJDK 11 just Mandrel, unless somebody wants to build it from source, which I don't think this guide is about. Am I missing something?", "url": "https://github.com/quarkusio/quarkus/pull/11061#discussion_r466927512", "createdAt": "2020-08-07T09:25:10Z", "author": {"login": "jerboaa"}, "path": "docs/src/main/asciidoc/building-native-image.adoc", "diffHunk": "@@ -14,7 +14,61 @@ This guide covers:\n \n This guide takes as input the application developed in the link:getting-started[Getting Started Guide].\n \n-== Prerequisites\n+== GraalVM\n+\n+Building a native executable requires using a distribution of GraalVM.\n+There are three distributions:\n+Oracle GraalVM Community Edition (CE), Oracle GraalVM Enterprise Edition (EE) and Mandrel.\n+The differences between the Oracle and Mandrel distributions are as follows:\n+\n+* Mandrel is a downstream distribution of the Oracle GraalVM CE.\n+Mandrel's main goal is to provide a way to build native executables specifically designed to support Quarkus.\n+\n+* Mandrel releases are built from a code base derived from the upstream Oracle GraalVM CE code base,\n+with only minor changes but some significant exclusions that are not necessary for Quarkus native apps.\n+They support the same capabilities to build native executables as Oracle GraalVM CE,\n+with no significant changes to functionality.\n+Notably, they do not include support for polyglot programming.\n+The reason for these exclusions is to provide a better level of support for the majority of Quarkus users.\n+These exclusions also mean Mandrel offers a considerable reduction in its distribution size\n+when compared with Oracle GraalVM CE/EE.\n+\n+* Mandrel is built slightly differently to Oracle GraalVM CE, using the standard OpenJDK project.\n+This means that it does not profit from a few small enhancements that Oracle have added to the version of OpenJDK used to build their own GraalVM downloads.\n+This enhancements are omitted because the Red Hat OpenJDK team does not manage them, and cannot vouch for.\n+This is particularly important when it comes to comformance and security.\n+\n+* Mandrel is only available for projects that can be compiled with Java 11.\n+If you are using Java 8,\n+you should consider using Oracle GraalVM instead.\n+The reason for not using Java 8 is because it's a legacy release,\n+which most Quarkus users are unlikely to need.\n+\n+* Mandrel is currently only recommended for building native executables that target Linux containerized environments.\n+This means that Mandrel users should use containers to build their native executables.\n+If you are building native executables for macOS or Windows target platforms,\n+you should consider using Oracle GraalVM instead,\n+because Mandrel does not currently target these platforms.\n+Building native executables directly on bare metal Linux is possible,\n+with details available in the https://github.com/graalvm/mandrel/blob/master/README-Mandrel.md[Mandrel README]\n+and https://github.com/graalvm/mandrel/releases[Mandrel releases].\n+\n+The prerequisites vary slightly depending on whether you are using Oracle GraalVM CE/EE or Mandrel.\n+\n+== Prerequisites for Mandrel\n+\n+To complete this guide using Mandrel, you need:\n+\n+* less than 15 minutes\n+* an IDE\n+* JDK 11 installed with `JAVA_HOME` configured appropriately", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6521624a1b41a2e2bf5c89c562ab85e4a9f833f3"}, "originalPosition": 52}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjkyODIyMA==", "bodyText": "I wonder if this should be JAVA_HOME or GRAAL_VM_HOME. I'm thinking the latter pointing to the mandrel install, no?", "url": "https://github.com/quarkusio/quarkus/pull/11061#discussion_r466928220", "createdAt": "2020-08-07T09:26:38Z", "author": {"login": "jerboaa"}, "path": "docs/src/main/asciidoc/building-native-image.adoc", "diffHunk": "@@ -14,7 +14,61 @@ This guide covers:\n \n This guide takes as input the application developed in the link:getting-started[Getting Started Guide].\n \n-== Prerequisites\n+== GraalVM\n+\n+Building a native executable requires using a distribution of GraalVM.\n+There are three distributions:\n+Oracle GraalVM Community Edition (CE), Oracle GraalVM Enterprise Edition (EE) and Mandrel.\n+The differences between the Oracle and Mandrel distributions are as follows:\n+\n+* Mandrel is a downstream distribution of the Oracle GraalVM CE.\n+Mandrel's main goal is to provide a way to build native executables specifically designed to support Quarkus.\n+\n+* Mandrel releases are built from a code base derived from the upstream Oracle GraalVM CE code base,\n+with only minor changes but some significant exclusions that are not necessary for Quarkus native apps.\n+They support the same capabilities to build native executables as Oracle GraalVM CE,\n+with no significant changes to functionality.\n+Notably, they do not include support for polyglot programming.\n+The reason for these exclusions is to provide a better level of support for the majority of Quarkus users.\n+These exclusions also mean Mandrel offers a considerable reduction in its distribution size\n+when compared with Oracle GraalVM CE/EE.\n+\n+* Mandrel is built slightly differently to Oracle GraalVM CE, using the standard OpenJDK project.\n+This means that it does not profit from a few small enhancements that Oracle have added to the version of OpenJDK used to build their own GraalVM downloads.\n+This enhancements are omitted because the Red Hat OpenJDK team does not manage them, and cannot vouch for.\n+This is particularly important when it comes to comformance and security.\n+\n+* Mandrel is only available for projects that can be compiled with Java 11.\n+If you are using Java 8,\n+you should consider using Oracle GraalVM instead.\n+The reason for not using Java 8 is because it's a legacy release,\n+which most Quarkus users are unlikely to need.\n+\n+* Mandrel is currently only recommended for building native executables that target Linux containerized environments.\n+This means that Mandrel users should use containers to build their native executables.\n+If you are building native executables for macOS or Windows target platforms,\n+you should consider using Oracle GraalVM instead,\n+because Mandrel does not currently target these platforms.\n+Building native executables directly on bare metal Linux is possible,\n+with details available in the https://github.com/graalvm/mandrel/blob/master/README-Mandrel.md[Mandrel README]\n+and https://github.com/graalvm/mandrel/releases[Mandrel releases].\n+\n+The prerequisites vary slightly depending on whether you are using Oracle GraalVM CE/EE or Mandrel.\n+\n+== Prerequisites for Mandrel\n+\n+To complete this guide using Mandrel, you need:\n+\n+* less than 15 minutes\n+* an IDE\n+* JDK 11 installed with `JAVA_HOME` configured appropriately", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjkyNzUxMg=="}, "originalCommit": {"oid": "6521624a1b41a2e2bf5c89c562ab85e4a9f833f3"}, "originalPosition": 52}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYyNjU3MDM3", "url": "https://github.com/quarkusio/quarkus/pull/11061#pullrequestreview-462657037", "createdAt": "2020-08-06T15:58:59Z", "commit": {"oid": "f20a7d3b45893148a9d298871f8f6541d18e4de1"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxNTo1OToyMlrOG85_ZQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxNTo1OToyMlrOG85_ZQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjUxNzg2MQ==", "bodyText": "Shouldn't this be:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    <mandrel.version-for-documentation>20.1.0.1.Alpha2-java11</mandrel.version-for-documentation>\n          \n          \n            \n                    <mandrel.version-for-documentation>20.1.0.1.Alpha2</mandrel.version-for-documentation>\n          \n      \n    \n    \n  \n\n?", "url": "https://github.com/quarkusio/quarkus/pull/11061#discussion_r466517861", "createdAt": "2020-08-06T15:59:22Z", "author": {"login": "zakkak"}, "path": "build-parent/pom.xml", "diffHunk": "@@ -34,6 +34,7 @@\n         <!-- The Graal version we suggest using in documentation - as that's\n            what we work with by self downloading it: -->\n         <graal-sdk.version-for-documentation>20.1.0</graal-sdk.version-for-documentation>\n+        <mandrel.version-for-documentation>20.1.0.1.Alpha2-java11</mandrel.version-for-documentation>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6521624a1b41a2e2bf5c89c562ab85e4a9f833f3"}, "originalPosition": 4}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6521624a1b41a2e2bf5c89c562ab85e4a9f833f3", "author": {"user": {"login": "galderz", "name": "Galder Zamarre\u00f1o"}}, "url": "https://github.com/quarkusio/quarkus/commit/6521624a1b41a2e2bf5c89c562ab85e4a9f833f3", "committedDate": "2020-08-06T15:58:18Z", "message": "Documentation for building native executables with Mandrel #11032"}, "afterCommit": {"oid": "05d43a1f97088c6fdc3cae10c9e2cdbc5d87d705", "author": {"user": {"login": "galderz", "name": "Galder Zamarre\u00f1o"}}, "url": "https://github.com/quarkusio/quarkus/commit/05d43a1f97088c6fdc3cae10c9e2cdbc5d87d705", "committedDate": "2020-08-07T11:42:21Z", "message": "Documentation for building native executables with Mandrel #11032"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "05d43a1f97088c6fdc3cae10c9e2cdbc5d87d705", "author": {"user": {"login": "galderz", "name": "Galder Zamarre\u00f1o"}}, "url": "https://github.com/quarkusio/quarkus/commit/05d43a1f97088c6fdc3cae10c9e2cdbc5d87d705", "committedDate": "2020-08-07T11:42:21Z", "message": "Documentation for building native executables with Mandrel #11032"}, "afterCommit": {"oid": "15efb62f27aedb2f3ebf8eb74752081bb66d83cc", "author": {"user": {"login": "galderz", "name": "Galder Zamarre\u00f1o"}}, "url": "https://github.com/quarkusio/quarkus/commit/15efb62f27aedb2f3ebf8eb74752081bb66d83cc", "committedDate": "2020-08-07T11:44:37Z", "message": "Documentation for building native executables with Mandrel #11032"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYzMjQ5ODkx", "url": "https://github.com/quarkusio/quarkus/pull/11061#pullrequestreview-463249891", "createdAt": "2020-08-07T11:51:30Z", "commit": {"oid": "15efb62f27aedb2f3ebf8eb74752081bb66d83cc"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYzMjYyMDYw", "url": "https://github.com/quarkusio/quarkus/pull/11061#pullrequestreview-463262060", "createdAt": "2020-08-07T12:11:48Z", "commit": {"oid": "15efb62f27aedb2f3ebf8eb74752081bb66d83cc"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "15efb62f27aedb2f3ebf8eb74752081bb66d83cc", "author": {"user": {"login": "galderz", "name": "Galder Zamarre\u00f1o"}}, "url": "https://github.com/quarkusio/quarkus/commit/15efb62f27aedb2f3ebf8eb74752081bb66d83cc", "committedDate": "2020-08-07T11:44:37Z", "message": "Documentation for building native executables with Mandrel #11032"}, "afterCommit": {"oid": "62e3da516a40412d4d92cc70f2d5944f4c6b40f8", "author": {"user": {"login": "galderz", "name": "Galder Zamarre\u00f1o"}}, "url": "https://github.com/quarkusio/quarkus/commit/62e3da516a40412d4d92cc70f2d5944f4c6b40f8", "committedDate": "2020-08-17T10:03:15Z", "message": "Documentation for native executable debugging #11032"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6a7325c00f87ef7dfb251d98efc86e08e17d5d85", "author": {"user": {"login": "galderz", "name": "Galder Zamarre\u00f1o"}}, "url": "https://github.com/quarkusio/quarkus/commit/6a7325c00f87ef7dfb251d98efc86e08e17d5d85", "committedDate": "2020-08-18T13:22:17Z", "message": "Documentation for building native executables with Mandrel #11032"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "343daa80e49ab38a1b30b7ad103b4f391bc5db70", "author": {"user": {"login": "galderz", "name": "Galder Zamarre\u00f1o"}}, "url": "https://github.com/quarkusio/quarkus/commit/343daa80e49ab38a1b30b7ad103b4f391bc5db70", "committedDate": "2020-08-18T13:22:25Z", "message": "Documentation for native executable debugging #11032"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "62e3da516a40412d4d92cc70f2d5944f4c6b40f8", "author": {"user": {"login": "galderz", "name": "Galder Zamarre\u00f1o"}}, "url": "https://github.com/quarkusio/quarkus/commit/62e3da516a40412d4d92cc70f2d5944f4c6b40f8", "committedDate": "2020-08-17T10:03:15Z", "message": "Documentation for native executable debugging #11032"}, "afterCommit": {"oid": "343daa80e49ab38a1b30b7ad103b4f391bc5db70", "author": {"user": {"login": "galderz", "name": "Galder Zamarre\u00f1o"}}, "url": "https://github.com/quarkusio/quarkus/commit/343daa80e49ab38a1b30b7ad103b4f391bc5db70", "committedDate": "2020-08-18T13:22:25Z", "message": "Documentation for native executable debugging #11032"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcxNDEzNzA0", "url": "https://github.com/quarkusio/quarkus/pull/11061#pullrequestreview-471413704", "createdAt": "2020-08-20T09:20:32Z", "commit": {"oid": "343daa80e49ab38a1b30b7ad103b4f391bc5db70"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1014, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}