{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY0MTAzMjIx", "number": 11259, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxNTozNTo1OVrOEV4cQg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQyMTowODozNFrOEV_lJw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkxMzgwMjkwOnYy", "diffSide": "RIGHT", "path": "devtools/maven/src/main/java/io/quarkus/maven/CreateUtils.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxNTozNTo1OVrOG85ACA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxNTo1ODowOVrOG8575g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjUwMTY0MA==", "bodyText": "Use .equals() instead of ==", "url": "https://github.com/quarkusio/quarkus/pull/11259#discussion_r466501640", "createdAt": "2020-08-06T15:35:59Z", "author": {"login": "gastaldi"}, "path": "devtools/maven/src/main/java/io/quarkus/maven/CreateUtils.java", "diffHunk": "@@ -81,6 +82,14 @@ static QuarkusPlatformDescriptor resolvePlatformDescriptor(final String bomGroup\n             version = resolvePluginInfo(CreateUtils.class).getVersion();\n         }\n \n+        if((bomGroupId==null && bomArtifactId==null && bomVersion==null) || bomArtifactId==\"quarkus-universe-bom\"){", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8b4579c57f044aeb5adf88706209070d2ffd899d"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjUwMjkzNg==", "bodyText": "Also it would be nice to invert the comparison, to make sure that a NPE isn't accidentally thrown:\n\"quarkus-universe-bom\".equals(bomArtifactId)", "url": "https://github.com/quarkusio/quarkus/pull/11259#discussion_r466502936", "createdAt": "2020-08-06T15:37:45Z", "author": {"login": "gastaldi"}, "path": "devtools/maven/src/main/java/io/quarkus/maven/CreateUtils.java", "diffHunk": "@@ -81,6 +82,14 @@ static QuarkusPlatformDescriptor resolvePlatformDescriptor(final String bomGroup\n             version = resolvePluginInfo(CreateUtils.class).getVersion();\n         }\n \n+        if((bomGroupId==null && bomArtifactId==null && bomVersion==null) || bomArtifactId==\"quarkus-universe-bom\"){", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjUwMTY0MA=="}, "originalCommit": {"oid": "8b4579c57f044aeb5adf88706209070d2ffd899d"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjUxNjk2Ng==", "bodyText": "okk", "url": "https://github.com/quarkusio/quarkus/pull/11259#discussion_r466516966", "createdAt": "2020-08-06T15:58:09Z", "author": {"login": "Garima829"}, "path": "devtools/maven/src/main/java/io/quarkus/maven/CreateUtils.java", "diffHunk": "@@ -81,6 +82,14 @@ static QuarkusPlatformDescriptor resolvePlatformDescriptor(final String bomGroup\n             version = resolvePluginInfo(CreateUtils.class).getVersion();\n         }\n \n+        if((bomGroupId==null && bomArtifactId==null && bomVersion==null) || bomArtifactId==\"quarkus-universe-bom\"){", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjUwMTY0MA=="}, "originalCommit": {"oid": "8b4579c57f044aeb5adf88706209070d2ffd899d"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkxMzgxNDM5OnYy", "diffSide": "RIGHT", "path": "devtools/maven/src/main/java/io/quarkus/maven/CreateUtils.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxNTozODozNFrOG85HTQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxNTo0MDoxMVrOG85MGA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjUwMzUwMQ==", "bodyText": "It should be -SNAPSHOT", "url": "https://github.com/quarkusio/quarkus/pull/11259#discussion_r466503501", "createdAt": "2020-08-06T15:38:34Z", "author": {"login": "gastaldi"}, "path": "devtools/maven/src/main/java/io/quarkus/maven/CreateUtils.java", "diffHunk": "@@ -81,6 +82,14 @@ static QuarkusPlatformDescriptor resolvePlatformDescriptor(final String bomGroup\n             version = resolvePluginInfo(CreateUtils.class).getVersion();\n         }\n \n+        if((bomGroupId==null && bomArtifactId==null && bomVersion==null) || bomArtifactId==\"quarkus-universe-bom\"){\n+            String baseVersion = resolvePluginInfo(CreateUtils.class).getVersion();\n+            DefaultArtifactVersion pluginVersion= new DefaultArtifactVersion(baseVersion);\n+            int majorVer=pluginVersion.getMajorVersion();\n+            int minorVer=pluginVersion.getMinorVersion();\n+            version = \"[\" + majorVer + \".\" + minorVer + \"-snapshot, \" + majorVer + \".\" + (minorVer + 1) + \")\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8b4579c57f044aeb5adf88706209070d2ffd899d"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjUwNDcyOA==", "bodyText": "-snapshot is ok, i suggested that actually", "url": "https://github.com/quarkusio/quarkus/pull/11259#discussion_r466504728", "createdAt": "2020-08-06T15:40:11Z", "author": {"login": "aloubyansky"}, "path": "devtools/maven/src/main/java/io/quarkus/maven/CreateUtils.java", "diffHunk": "@@ -81,6 +82,14 @@ static QuarkusPlatformDescriptor resolvePlatformDescriptor(final String bomGroup\n             version = resolvePluginInfo(CreateUtils.class).getVersion();\n         }\n \n+        if((bomGroupId==null && bomArtifactId==null && bomVersion==null) || bomArtifactId==\"quarkus-universe-bom\"){\n+            String baseVersion = resolvePluginInfo(CreateUtils.class).getVersion();\n+            DefaultArtifactVersion pluginVersion= new DefaultArtifactVersion(baseVersion);\n+            int majorVer=pluginVersion.getMajorVersion();\n+            int minorVer=pluginVersion.getMinorVersion();\n+            version = \"[\" + majorVer + \".\" + minorVer + \"-snapshot, \" + majorVer + \".\" + (minorVer + 1) + \")\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjUwMzUwMQ=="}, "originalCommit": {"oid": "8b4579c57f044aeb5adf88706209070d2ffd899d"}, "originalPosition": 17}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkxNDk3MjU1OnYy", "diffSide": "RIGHT", "path": "devtools/maven/src/main/java/io/quarkus/maven/CreateUtils.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQyMTowODozNFrOG9EVqQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wN1QwNTozMzo1NlrOG9NC_A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjY4NzQwMQ==", "bodyText": "Looks good. Now, given that the outer if is checking the version for null, we can be sure that the version will be null inside its block. So you don't have to be checking it again in the nested ifs.", "url": "https://github.com/quarkusio/quarkus/pull/11259#discussion_r466687401", "createdAt": "2020-08-06T21:08:34Z", "author": {"login": "aloubyansky"}, "path": "devtools/maven/src/main/java/io/quarkus/maven/CreateUtils.java", "diffHunk": "@@ -76,9 +77,18 @@ static QuarkusPlatformDescriptor resolvePlatformDescriptor(final String bomGroup\n         String artifactId = StringUtils.defaultIfBlank(bomArtifactId, null);\n         String version = StringUtils.defaultIfBlank(bomVersion, null);\n \n-        if (CreateUtils.QUARKUS_CORE_BOM_ARTIFACT_ID.equals(artifactId)\n-                && version == null) {\n-            version = resolvePluginInfo(CreateUtils.class).getVersion();\n+        if (version == null) {\n+            if (CreateUtils.QUARKUS_CORE_BOM_ARTIFACT_ID.equals(artifactId)) {\n+                version = resolvePluginInfo(CreateUtils.class).getVersion();\n+            } else if ((groupId == null && artifactId == null && version == null)\n+                    || (\"quarkus-universe-bom\".equals(artifactId) && version == null)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b8561f6bf44d3965b33b0aad3154012e86c099e8"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjgzMDA3Ng==", "bodyText": "Oh yes I am sorry IDK how I skipped those", "url": "https://github.com/quarkusio/quarkus/pull/11259#discussion_r466830076", "createdAt": "2020-08-07T05:33:56Z", "author": {"login": "Garima829"}, "path": "devtools/maven/src/main/java/io/quarkus/maven/CreateUtils.java", "diffHunk": "@@ -76,9 +77,18 @@ static QuarkusPlatformDescriptor resolvePlatformDescriptor(final String bomGroup\n         String artifactId = StringUtils.defaultIfBlank(bomArtifactId, null);\n         String version = StringUtils.defaultIfBlank(bomVersion, null);\n \n-        if (CreateUtils.QUARKUS_CORE_BOM_ARTIFACT_ID.equals(artifactId)\n-                && version == null) {\n-            version = resolvePluginInfo(CreateUtils.class).getVersion();\n+        if (version == null) {\n+            if (CreateUtils.QUARKUS_CORE_BOM_ARTIFACT_ID.equals(artifactId)) {\n+                version = resolvePluginInfo(CreateUtils.class).getVersion();\n+            } else if ((groupId == null && artifactId == null && version == null)\n+                    || (\"quarkus-universe-bom\".equals(artifactId) && version == null)) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjY4NzQwMQ=="}, "originalCommit": {"oid": "b8561f6bf44d3965b33b0aad3154012e86c099e8"}, "originalPosition": 19}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 705, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}