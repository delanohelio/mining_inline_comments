{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTIxMTkxNTMx", "number": 13300, "title": "Fix secret-config-kv-prefix-path property", "bodyText": "This changes property quarkus.vault.secret-config-kv-path.singer=multi/singer1,multi/singer2 into quarkus.vault.secret-config-kv-prefix.singer.paths=multi/singer1,multi/singer2 (configuration breaking change)\nThe original approach (reusing the same name for the prefixed properties and non prefixed properties) seemed to work, but only because the re-parsing of configuration done in the VaultConfigSource was doing the right thing.\nFixes #13276", "createdAt": "2020-11-15T12:57:29Z", "url": "https://github.com/quarkusio/quarkus/pull/13300", "merged": true, "mergeCommit": {"oid": "c181471c9fc3185ea3c66a745e699ceb4965b1d7"}, "closed": true, "closedAt": "2020-11-26T10:47:33Z", "author": {"login": "vsevel"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdcznKdgBqjM5OTc2MTA1ODc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdgDV_mgBqjQwMzk1MzY2NjY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1d977789263f2c2055e4c63b9244853b2839ad96", "author": {"user": {"login": "vsevel", "name": "Vincent Sevel"}}, "url": "https://github.com/quarkusio/quarkus/commit/1d977789263f2c2055e4c63b9244853b2839ad96", "committedDate": "2020-11-15T12:51:55Z", "message": "Fix secret-config-kv-prefix-path property"}, "afterCommit": {"oid": "1eca99cfcb40d131be7ace1872635990cfe734f5", "author": {"user": {"login": "vsevel", "name": "Vincent Sevel"}}, "url": "https://github.com/quarkusio/quarkus/commit/1eca99cfcb40d131be7ace1872635990cfe734f5", "committedDate": "2020-11-15T16:42:48Z", "message": "Fix secret-config-kv-prefix-path property"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMyODg4MDQz", "url": "https://github.com/quarkusio/quarkus/pull/13300#pullrequestreview-532888043", "createdAt": "2020-11-17T23:08:29Z", "commit": {"oid": "1eca99cfcb40d131be7ace1872635990cfe734f5"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xN1QyMzowODoyOVrOH1PNJg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xN1QyMzowODoyOVrOH1PNJg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTU4NTcwMg==", "bodyText": "Hi Vincent @vsevel\nCan you please remind what was the difference between\nquarkus.vault.secret-config-kv-path=multi/default1,multi/default2\n\nand\nquarkus.vault.secret-config-kv-path.singer=multi/singer1,multi/singer2\n\n?\nPlease also update the docs", "url": "https://github.com/quarkusio/quarkus/pull/13300#discussion_r525585702", "createdAt": "2020-11-17T23:08:29Z", "author": {"login": "sberyozkin"}, "path": "integration-tests/vault/src/test/resources/application-vault-multi-path.properties", "diffHunk": "@@ -2,7 +2,7 @@ quarkus.vault.url=https://localhost:8200\n quarkus.vault.authentication.userpass.username=bob\n quarkus.vault.authentication.userpass.password=sinclair\n quarkus.vault.secret-config-kv-path=multi/default1,multi/default2\n-quarkus.vault.secret-config-kv-path.singer=multi/singer1,multi/singer2\n+quarkus.vault.secret-config-kv-prefix.singer.paths=multi/singer1,multi/singer2", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1eca99cfcb40d131be7ace1872635990cfe734f5"}, "originalPosition": 5}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "cd98df9d1aad6827e4a3001df531a6540337a384", "author": {"user": {"login": "machi1990", "name": "Manyanda Chitimbo"}}, "url": "https://github.com/quarkusio/quarkus/commit/cd98df9d1aad6827e4a3001df531a6540337a384", "committedDate": "2020-11-23T17:11:51Z", "message": "refactor(vault): review KV store paths configuration\n\nupdate the configuration to address the issue described in\nhttps://github.com/quarkusio/quarkus/pull/13300#discussion_r526427226"}, "afterCommit": {"oid": "c2607a73cdba63403a8f61e48277dbffd1898096", "author": {"user": {"login": "machi1990", "name": "Manyanda Chitimbo"}}, "url": "https://github.com/quarkusio/quarkus/commit/c2607a73cdba63403a8f61e48277dbffd1898096", "committedDate": "2020-11-23T19:32:35Z", "message": "refactor(vault): review KV store paths configuration\n\nupdate the configuration to address the issue described in\nhttps://github.com/quarkusio/quarkus/pull/13300#discussion_r526427226"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM4MDAzOTc0", "url": "https://github.com/quarkusio/quarkus/pull/13300#pullrequestreview-538003974", "createdAt": "2020-11-24T22:02:19Z", "commit": {"oid": "cec6dd2e95d2d97cd06910573892d6d07a76103f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQyMjowMjoyMFrOH5XbEA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQyMjowMjoyMFrOH5XbEA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTkxNDY0MA==", "bodyText": "This class is no longer used, right? We can remove this or and keep https://github.com/quarkusio/quarkus/pull/13300/files#diff-ccdd86f7203916d7b0e179ba75491f1b532fe12f8c747f676b28ef0a05950420R263 with proper renaming or vice versa.", "url": "https://github.com/quarkusio/quarkus/pull/13300#discussion_r529914640", "createdAt": "2020-11-24T22:02:20Z", "author": {"login": "machi1990"}, "path": "extensions/vault/runtime/src/main/java/io/quarkus/vault/runtime/config/VaultSecretConfigKvPrefixPathsConfig.java", "diffHunk": "@@ -0,0 +1,46 @@\n+package io.quarkus.vault.runtime.config;\n+\n+import java.util.List;\n+\n+import io.quarkus.runtime.annotations.ConfigGroup;\n+import io.quarkus.runtime.annotations.ConfigItem;\n+\n+@ConfigGroup\n+public class VaultSecretConfigKvPrefixPathsConfig {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cec6dd2e95d2d97cd06910573892d6d07a76103f"}, "originalPosition": 9}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ba4bc63dbc574add23020537cacfc029d2a9f4e7", "author": {"user": {"login": "vsevel", "name": "Vincent Sevel"}}, "url": "https://github.com/quarkusio/quarkus/commit/ba4bc63dbc574add23020537cacfc029d2a9f4e7", "committedDate": "2020-11-25T09:00:41Z", "message": "Fix secret-config-kv-prefix-path property"}, "afterCommit": {"oid": "f522f4e7ffccabdd1c67e72bbabc94abe82c0da7", "author": {"user": {"login": "vsevel", "name": "Vincent Sevel"}}, "url": "https://github.com/quarkusio/quarkus/commit/f522f4e7ffccabdd1c67e72bbabc94abe82c0da7", "committedDate": "2020-11-25T09:02:02Z", "message": "Fix secret-config-kv-prefix-path property #13300"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f522f4e7ffccabdd1c67e72bbabc94abe82c0da7", "author": {"user": {"login": "vsevel", "name": "Vincent Sevel"}}, "url": "https://github.com/quarkusio/quarkus/commit/f522f4e7ffccabdd1c67e72bbabc94abe82c0da7", "committedDate": "2020-11-25T09:02:02Z", "message": "Fix secret-config-kv-prefix-path property #13300"}, "afterCommit": {"oid": "c2b4cf7b965aabe1b72860060add9b848eda6577", "author": {"user": {"login": "vsevel", "name": "Vincent Sevel"}}, "url": "https://github.com/quarkusio/quarkus/commit/c2b4cf7b965aabe1b72860060add9b848eda6577", "committedDate": "2020-11-25T09:02:35Z", "message": "Fix secret-config-kv-prefix-path property #13300"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM4MzM4MDQx", "url": "https://github.com/quarkusio/quarkus/pull/13300#pullrequestreview-538338041", "createdAt": "2020-11-25T10:08:12Z", "commit": {"oid": "c2b4cf7b965aabe1b72860060add9b848eda6577"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM4MzUyMzg4", "url": "https://github.com/quarkusio/quarkus/pull/13300#pullrequestreview-538352388", "createdAt": "2020-11-25T10:25:22Z", "commit": {"oid": "c2b4cf7b965aabe1b72860060add9b848eda6577"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c2b4cf7b965aabe1b72860060add9b848eda6577", "author": {"user": {"login": "vsevel", "name": "Vincent Sevel"}}, "url": "https://github.com/quarkusio/quarkus/commit/c2b4cf7b965aabe1b72860060add9b848eda6577", "committedDate": "2020-11-25T09:02:35Z", "message": "Fix secret-config-kv-prefix-path property #13300"}, "afterCommit": {"oid": "06109248122d102e4fe2d17bf9d223f7106a0d98", "author": {"user": {"login": "vsevel", "name": "Vincent Sevel"}}, "url": "https://github.com/quarkusio/quarkus/commit/06109248122d102e4fe2d17bf9d223f7106a0d98", "committedDate": "2020-11-25T12:17:10Z", "message": "Fix secret-config-kv-prefix-path property #13300"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "30f62a133944ae8cf28a93dc02f4366aec875b0f", "author": {"user": {"login": "vsevel", "name": "Vincent Sevel"}}, "url": "https://github.com/quarkusio/quarkus/commit/30f62a133944ae8cf28a93dc02f4366aec875b0f", "committedDate": "2020-11-25T19:16:17Z", "message": "Fix secret-config-kv-prefix-path property #13300"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "06109248122d102e4fe2d17bf9d223f7106a0d98", "author": {"user": {"login": "vsevel", "name": "Vincent Sevel"}}, "url": "https://github.com/quarkusio/quarkus/commit/06109248122d102e4fe2d17bf9d223f7106a0d98", "committedDate": "2020-11-25T12:17:10Z", "message": "Fix secret-config-kv-prefix-path property #13300"}, "afterCommit": {"oid": "30f62a133944ae8cf28a93dc02f4366aec875b0f", "author": {"user": {"login": "vsevel", "name": "Vincent Sevel"}}, "url": "https://github.com/quarkusio/quarkus/commit/30f62a133944ae8cf28a93dc02f4366aec875b0f", "committedDate": "2020-11-25T19:16:17Z", "message": "Fix secret-config-kv-prefix-path property #13300"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1382, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}