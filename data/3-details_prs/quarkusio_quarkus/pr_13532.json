{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI4ODE1ODg0", "number": 13532, "title": "Fix SimpleScheduler pause functionality", "bodyText": "Fix #13512\nAdd return in SimpleScheduler::checkTriggers method if !running.", "createdAt": "2020-11-27T23:58:03Z", "url": "https://github.com/quarkusio/quarkus/pull/13532", "merged": true, "mergeCommit": {"oid": "47e80c520dab5789ba4c82d8c2de9fb45377af60"}, "closed": true, "closedAt": "2020-11-28T19:22:02Z", "author": {"login": "sultansoy"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdg2gunAFqTU0MDM0NzU0Mg==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdg8Y32gFqTU0MDM3NjM3Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQwMzQ3NTQy", "url": "https://github.com/quarkusio/quarkus/pull/13532#pullrequestreview-540347542", "createdAt": "2020-11-28T06:53:26Z", "commit": {"oid": "04842681f5f46f3ef4be84921838a2a10bf22ecf"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d59d9c2ac3a3578f7aec5e53e16ba5a3bc91ae71", "author": {"user": {"login": "RustamSultansoy", "name": "Rustam Sultansoy"}}, "url": "https://github.com/quarkusio/quarkus/commit/d59d9c2ac3a3578f7aec5e53e16ba5a3bc91ae71", "committedDate": "2020-11-28T10:04:11Z", "message": "Unit test for SimpleScheduler::pause functionality\nPause and check isRunning returns false and scheduler doesn't trigger CountDownLatch::countDown"}, "afterCommit": {"oid": "45c8c1e5602ac068f50976ef63d092921daaf2fc", "author": {"user": {"login": "RustamSultansoy", "name": "Rustam Sultansoy"}}, "url": "https://github.com/quarkusio/quarkus/commit/45c8c1e5602ac068f50976ef63d092921daaf2fc", "committedDate": "2020-11-28T10:22:33Z", "message": "Unit test for SimpleScheduler::pause functionality\nPause and check isRunning returns false and scheduler doesn't trigger CountDownLatch::countDown"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "45c8c1e5602ac068f50976ef63d092921daaf2fc", "author": {"user": {"login": "RustamSultansoy", "name": "Rustam Sultansoy"}}, "url": "https://github.com/quarkusio/quarkus/commit/45c8c1e5602ac068f50976ef63d092921daaf2fc", "committedDate": "2020-11-28T10:22:33Z", "message": "Unit test for SimpleScheduler::pause functionality\nPause and check isRunning returns false and scheduler doesn't trigger CountDownLatch::countDown"}, "afterCommit": {"oid": "cbcf73792806e7f71ce6628aefd2071357dcf617", "author": {"user": {"login": "RustamSultansoy", "name": "Rustam Sultansoy"}}, "url": "https://github.com/quarkusio/quarkus/commit/cbcf73792806e7f71ce6628aefd2071357dcf617", "committedDate": "2020-11-28T10:36:35Z", "message": "Unit test for SimpleScheduler::pause functionality\nPause and check isRunning returns false and scheduler doesn't trigger CountDownLatch::countDown"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQwMzcwNDE4", "url": "https://github.com/quarkusio/quarkus/pull/13532#pullrequestreview-540370418", "createdAt": "2020-11-28T11:51:08Z", "commit": {"oid": "63ed5da3adc095ee5d12c8b1b1383f5d67096e60"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQwMzc1NDg4", "url": "https://github.com/quarkusio/quarkus/pull/13532#pullrequestreview-540375488", "createdAt": "2020-11-28T13:27:23Z", "commit": {"oid": "63ed5da3adc095ee5d12c8b1b1383f5d67096e60"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yOFQxMzoyNzoyM1rOH7ZKOQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yOFQxMzoyNzoyM1rOH7ZKOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjA0MDI0OQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                .addClasses(DisabledSchedulerTest.Jobs.class)\n          \n          \n            \n                                .addClasses(PausedSchedulerTest.Jobs.class)\n          \n      \n    \n    \n  \n\nThank you for adding a test. I think we added a wrong job class. It should be PausedSchedulerTest #Jobs.  Can you have a look at this, once it is done please squash the commits into one commit as suggested by @gsmet and this will be good for merging.", "url": "https://github.com/quarkusio/quarkus/pull/13532#discussion_r532040249", "createdAt": "2020-11-28T13:27:23Z", "author": {"login": "machi1990"}, "path": "extensions/scheduler/deployment/src/test/java/io/quarkus/scheduler/test/PausedSchedulerTest.java", "diffHunk": "@@ -0,0 +1,48 @@\n+package io.quarkus.scheduler.test;\n+\n+import static org.junit.jupiter.api.Assertions.assertFalse;\n+\n+import java.util.concurrent.CountDownLatch;\n+import java.util.concurrent.TimeUnit;\n+\n+import javax.inject.Inject;\n+\n+import org.jboss.shrinkwrap.api.ShrinkWrap;\n+import org.jboss.shrinkwrap.api.asset.StringAsset;\n+import org.jboss.shrinkwrap.api.spec.JavaArchive;\n+import org.junit.jupiter.api.Test;\n+import org.junit.jupiter.api.extension.RegisterExtension;\n+\n+import io.quarkus.scheduler.Scheduled;\n+import io.quarkus.scheduler.Scheduler;\n+import io.quarkus.test.QuarkusUnitTest;\n+\n+public class PausedSchedulerTest {\n+\n+    @RegisterExtension\n+    static final QuarkusUnitTest test = new QuarkusUnitTest()\n+            .setArchiveProducer(() -> ShrinkWrap.create(JavaArchive.class)\n+                    .addClasses(DisabledSchedulerTest.Jobs.class)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "63ed5da3adc095ee5d12c8b1b1383f5d67096e60"}, "originalPosition": 25}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5bbc400a2adf835ca8fdcc533077683a684f546e", "author": {"user": {"login": "sultansoy", "name": "Rustam Sultansoy"}}, "url": "https://github.com/quarkusio/quarkus/commit/5bbc400a2adf835ca8fdcc533077683a684f546e", "committedDate": "2020-11-28T13:28:13Z", "message": "Fix SimpleScheduler pause functionality.\nAdd return in SimpleScheduler::checkTriggers method if !running.\n\nUnit test for SimpleScheduler::pause functionality\nPause and check isRunning returns false and scheduler doesn't trigger CountDownLatch::countDown"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "63ed5da3adc095ee5d12c8b1b1383f5d67096e60", "author": {"user": {"login": "RustamSultansoy", "name": "Rustam Sultansoy"}}, "url": "https://github.com/quarkusio/quarkus/commit/63ed5da3adc095ee5d12c8b1b1383f5d67096e60", "committedDate": "2020-11-28T10:44:47Z", "message": "Unit test for SimpleScheduler::pause functionality\nPause and check isRunning returns false and scheduler doesn't trigger CountDownLatch::countDown"}, "afterCommit": {"oid": "5bbc400a2adf835ca8fdcc533077683a684f546e", "author": {"user": {"login": "sultansoy", "name": "Rustam Sultansoy"}}, "url": "https://github.com/quarkusio/quarkus/commit/5bbc400a2adf835ca8fdcc533077683a684f546e", "committedDate": "2020-11-28T13:28:13Z", "message": "Fix SimpleScheduler pause functionality.\nAdd return in SimpleScheduler::checkTriggers method if !running.\n\nUnit test for SimpleScheduler::pause functionality\nPause and check isRunning returns false and scheduler doesn't trigger CountDownLatch::countDown"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQwMzc1NjE1", "url": "https://github.com/quarkusio/quarkus/pull/13532#pullrequestreview-540375615", "createdAt": "2020-11-28T13:29:52Z", "commit": {"oid": "5bbc400a2adf835ca8fdcc533077683a684f546e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQwMzc2Mzc3", "url": "https://github.com/quarkusio/quarkus/pull/13532#pullrequestreview-540376377", "createdAt": "2020-11-28T13:44:17Z", "commit": {"oid": "5bbc400a2adf835ca8fdcc533077683a684f546e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1325, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}