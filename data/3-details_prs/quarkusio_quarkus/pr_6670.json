{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY1MDk5MjY5", "number": 6670, "title": "Add configuration for vert.x with native transport #6669", "bodyText": "Description in issue #6669", "createdAt": "2020-01-21T05:16:58Z", "url": "https://github.com/quarkusio/quarkus/pull/6670", "merged": true, "mergeCommit": {"oid": "d07fd1eee9842b110f445aaabca8a5ea1a8560ff"}, "closed": true, "closedAt": "2020-02-27T15:06:22Z", "author": {"login": "pcasaes"}, "timelineItems": {"totalCount": 29, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb8eSeZgFqTM0NTc1OTUxMA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcIcu_ugFqTM2NTc0MjYyMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ1NzU5NTEw", "url": "https://github.com/quarkusio/quarkus/pull/6670#pullrequestreview-345759510", "createdAt": "2020-01-21T10:07:43Z", "commit": {"oid": "b632d327f1204dabbb74b9cca0118e46e8bbee5e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMVQxMDowNzo0M1rOFf0euA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMVQxMDowNzo0M1rOFf0euA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODkxMDAwOA==", "bodyText": "Maybe leave these dependencies to be manually added in the project if the property is set? Not sure it makes sense to include the OSX and Linux dependencies in quarkus-netty", "url": "https://github.com/quarkusio/quarkus/pull/6670#discussion_r368910008", "createdAt": "2020-01-21T10:07:43Z", "author": {"login": "gastaldi"}, "path": "extensions/netty/runtime/pom.xml", "diffHunk": "@@ -39,6 +39,17 @@\n             <groupId>com.oracle.substratevm</groupId>\n             <artifactId>svm</artifactId>\n         </dependency>\n+\n+        <dependency>\n+            <groupId>io.netty</groupId>\n+            <artifactId>netty-transport-native-epoll</artifactId>\n+            <classifier>linux-x86_64</classifier>\n+        </dependency>\n+        <dependency>\n+            <groupId>io.netty</groupId>\n+            <artifactId>netty-transport-native-kqueue</artifactId>\n+            <classifier>osx-x86_64</classifier>\n+        </dependency>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b632d327f1204dabbb74b9cca0118e46e8bbee5e"}, "originalPosition": 14}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ1OTI0NTM1", "url": "https://github.com/quarkusio/quarkus/pull/6670#pullrequestreview-345924535", "createdAt": "2020-01-21T14:37:26Z", "commit": {"oid": "3972b8a8366c1f4dd312630aa97b6fb4a8dfa47a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMVQxNDozNzoyNlrOFf8PeA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMVQxNDozNzoyNlrOFf8PeA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTAzNzE3Ng==", "bodyText": "The native transport dependencies are optional. You'll have to add them in manually to your project but the version will be taken care for you.", "url": "https://github.com/quarkusio/quarkus/pull/6670#discussion_r369037176", "createdAt": "2020-01-21T14:37:26Z", "author": {"login": "pcasaes"}, "path": "extensions/netty/runtime/pom.xml", "diffHunk": "@@ -39,6 +39,19 @@\n             <groupId>com.oracle.substratevm</groupId>\n             <artifactId>svm</artifactId>\n         </dependency>\n+\n+        <dependency>\n+            <groupId>io.netty</groupId>\n+            <artifactId>netty-transport-native-epoll</artifactId>\n+            <classifier>linux-x86_64</classifier>\n+            <optional>true</optional>\n+        </dependency>\n+        <dependency>\n+            <groupId>io.netty</groupId>\n+            <artifactId>netty-transport-native-kqueue</artifactId>\n+            <classifier>osx-x86_64</classifier>\n+            <optional>true</optional>\n+        </dependency>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3972b8a8366c1f4dd312630aa97b6fb4a8dfa47a"}, "originalPosition": 16}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ1OTI3ODU0", "url": "https://github.com/quarkusio/quarkus/pull/6670#pullrequestreview-345927854", "createdAt": "2020-01-21T14:41:37Z", "commit": {"oid": "3972b8a8366c1f4dd312630aa97b6fb4a8dfa47a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMVQxNDo0MTozN1rOFf8Zlg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMVQxNDo0MTozN1rOFf8Zlg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTAzOTc2Ng==", "bodyText": "How to know when to include one or both? Aren't these dependencies OS specific?", "url": "https://github.com/quarkusio/quarkus/pull/6670#discussion_r369039766", "createdAt": "2020-01-21T14:41:37Z", "author": {"login": "gastaldi"}, "path": "docs/src/main/asciidoc/vertx.adoc", "diffHunk": "@@ -47,6 +47,44 @@ Otherwise, you can manually add this to the dependencies section of your `pom.xm\n </dependency>\n ----\n \n+== Native Transport\n+\n+Vert.x is capable of using https://netty.io/wiki/native-transports.html[Netty's native transports] which offers\n+performance improvements on certain platforms. To enable them you must include one or both of the following dependencies:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3972b8a8366c1f4dd312630aa97b6fb4a8dfa47a"}, "originalPosition": 7}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ1OTY4MTMz", "url": "https://github.com/quarkusio/quarkus/pull/6670#pullrequestreview-345968133", "createdAt": "2020-01-21T15:31:07Z", "commit": {"oid": "6a67bb06d9d4fcd301c9c22f8ca37bf32cc89438"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMVQxNTozMTowOFrOFf-Rqw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMVQxNTozMTowOFrOFf-Rqw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTA3MDUwNw==", "bodyText": "No need to initialize as the default value is false anyway", "url": "https://github.com/quarkusio/quarkus/pull/6670#discussion_r369070507", "createdAt": "2020-01-21T15:31:08Z", "author": {"login": "gastaldi"}, "path": "extensions/vertx-core/runtime/src/test/java/io/quarkus/vertx/core/runtime/VertxCoreProducerTest.java", "diffHunk": "@@ -61,6 +61,7 @@ public void shouldNotFailWithDefaultConfig() {\n         configuration.workerPoolSize = 10;\n         configuration.warningExceptionTime = Duration.ofSeconds(1);\n         configuration.internalBlockingPoolSize = 5;\n+        configuration.preferNativeTransport = false;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6a67bb06d9d4fcd301c9c22f8ca37bf32cc89438"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ2MDUzNTU5", "url": "https://github.com/quarkusio/quarkus/pull/6670#pullrequestreview-346053559", "createdAt": "2020-01-21T17:20:50Z", "commit": {"oid": "a49454e4c73f886c313d24574471c0f19e8d068b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMVQxNzoyMDo1MFrOFgCSUw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMVQxNzoyMDo1MFrOFgCSUw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTEzNjIxMQ==", "bodyText": "No need to initialize here too, I suppose? :)", "url": "https://github.com/quarkusio/quarkus/pull/6670#discussion_r369136211", "createdAt": "2020-01-21T17:20:50Z", "author": {"login": "gastaldi"}, "path": "extensions/vertx-core/runtime/src/test/java/io/quarkus/vertx/core/runtime/VertxCoreProducerTest.java", "diffHunk": "@@ -100,6 +100,7 @@ private VertxConfiguration createDefaultConfiguration() {\n         vc.maxWorkerExecuteTime = Optional.of(Duration.ofSeconds(1));\n         vc.internalBlockingPoolSize = 20;\n         vc.useAsyncDNS = false;\n+        vc.preferNativeTransport = false;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a49454e4c73f886c313d24574471c0f19e8d068b"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ2MDk1MTM2", "url": "https://github.com/quarkusio/quarkus/pull/6670#pullrequestreview-346095136", "createdAt": "2020-01-21T18:27:13Z", "commit": {"oid": "a49454e4c73f886c313d24574471c0f19e8d068b"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6e5421532ca9515a0ce9979a35a5b829b51dac35", "author": {"user": {"login": "Ladicek", "name": "Ladislav Thon"}}, "url": "https://github.com/quarkusio/quarkus/commit/6e5421532ca9515a0ce9979a35a5b829b51dac35", "committedDate": "2020-01-21T19:00:33Z", "message": "doc: improve the Kubernetes extension docs slightly"}, "afterCommit": {"oid": "a49454e4c73f886c313d24574471c0f19e8d068b", "author": {"user": {"login": "pcasaes", "name": "Paulo Casaes"}}, "url": "https://github.com/quarkusio/quarkus/commit/a49454e4c73f886c313d24574471c0f19e8d068b", "committedDate": "2020-01-21T16:40:03Z", "message": "Remove redundant code"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a49454e4c73f886c313d24574471c0f19e8d068b", "author": {"user": {"login": "pcasaes", "name": "Paulo Casaes"}}, "url": "https://github.com/quarkusio/quarkus/commit/a49454e4c73f886c313d24574471c0f19e8d068b", "committedDate": "2020-01-21T16:40:03Z", "message": "Remove redundant code"}, "afterCommit": {"oid": "3bd1d9c4f5ab0cbbbba786a7c80ca89b9525b964", "author": {"user": {"login": "pcasaes", "name": "Paulo Casaes"}}, "url": "https://github.com/quarkusio/quarkus/commit/3bd1d9c4f5ab0cbbbba786a7c80ca89b9525b964", "committedDate": "2020-01-21T19:03:39Z", "message": "Remove redundant code"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "78193663ca124f55b82508600eedab0696b040d1", "author": {"user": {"login": "pcasaes", "name": "Paulo Casaes"}}, "url": "https://github.com/quarkusio/quarkus/commit/78193663ca124f55b82508600eedab0696b040d1", "committedDate": "2020-01-21T22:08:32Z", "message": "Add Vertx initialization log"}, "afterCommit": {"oid": "2e4b97ddd9e72b727cbd45450614d24a830c0d9d", "author": {"user": {"login": "pcasaes", "name": "Paulo Casaes"}}, "url": "https://github.com/quarkusio/quarkus/commit/2e4b97ddd9e72b727cbd45450614d24a830c0d9d", "committedDate": "2020-01-22T13:46:08Z", "message": "Add Vertx initialization log"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2e4b97ddd9e72b727cbd45450614d24a830c0d9d", "author": {"user": {"login": "pcasaes", "name": "Paulo Casaes"}}, "url": "https://github.com/quarkusio/quarkus/commit/2e4b97ddd9e72b727cbd45450614d24a830c0d9d", "committedDate": "2020-01-22T13:46:08Z", "message": "Add Vertx initialization log"}, "afterCommit": {"oid": "5a3db14f7e49fd7aa7118069b012ed27bf15da51", "author": {"user": {"login": "pcasaes", "name": "Paulo Casaes"}}, "url": "https://github.com/quarkusio/quarkus/commit/5a3db14f7e49fd7aa7118069b012ed27bf15da51", "committedDate": "2020-01-22T17:07:08Z", "message": "Add Vertx initialization log"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5a3db14f7e49fd7aa7118069b012ed27bf15da51", "author": {"user": {"login": "pcasaes", "name": "Paulo Casaes"}}, "url": "https://github.com/quarkusio/quarkus/commit/5a3db14f7e49fd7aa7118069b012ed27bf15da51", "committedDate": "2020-01-22T17:07:08Z", "message": "Add Vertx initialization log"}, "afterCommit": {"oid": "5d85cc71f02b26230c51674b3e35dc864bc79ec6", "author": {"user": {"login": "pcasaes", "name": "Paulo Casaes"}}, "url": "https://github.com/quarkusio/quarkus/commit/5d85cc71f02b26230c51674b3e35dc864bc79ec6", "committedDate": "2020-01-22T22:26:48Z", "message": "Add http configuration for domain sockets"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ2OTQ5NzY3", "url": "https://github.com/quarkusio/quarkus/pull/6670#pullrequestreview-346949767", "createdAt": "2020-01-22T22:29:51Z", "commit": {"oid": "5d85cc71f02b26230c51674b3e35dc864bc79ec6"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMlQyMjoyOTo1MVrOFgtRyw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMlQyMjoyOTo1MVrOFgtRyw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTg0MDU4Nw==", "bodyText": "These variables are redundant since their values are in httpOptions and httpsOptions.", "url": "https://github.com/quarkusio/quarkus/pull/6670#discussion_r369840587", "createdAt": "2020-01-22T22:29:51Z", "author": {"login": "pcasaes"}, "path": "extensions/vertx-http/runtime/src/main/java/io/quarkus/vertx/http/runtime/VertxHttpRecorder.java", "diffHunk": "@@ -541,39 +592,85 @@ public void addRoute(RuntimeValue<Router> router, Function<Router, Route> route,\n \n     private static class WebDeploymentVerticle extends AbstractVerticle {\n \n-        private final int port;\n-        private final int httpsPort;\n-        private final String host;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5d85cc71f02b26230c51674b3e35dc864bc79ec6"}, "originalPosition": 133}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5d85cc71f02b26230c51674b3e35dc864bc79ec6", "author": {"user": {"login": "pcasaes", "name": "Paulo Casaes"}}, "url": "https://github.com/quarkusio/quarkus/commit/5d85cc71f02b26230c51674b3e35dc864bc79ec6", "committedDate": "2020-01-22T22:26:48Z", "message": "Add http configuration for domain sockets"}, "afterCommit": {"oid": "d609bf2c7c019674dae5d37957d9f2e1b59d84bf", "author": {"user": {"login": "pcasaes", "name": "Paulo Casaes"}}, "url": "https://github.com/quarkusio/quarkus/commit/d609bf2c7c019674dae5d37957d9f2e1b59d84bf", "committedDate": "2020-01-23T13:07:26Z", "message": "Add http configuration for domain sockets"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d609bf2c7c019674dae5d37957d9f2e1b59d84bf", "author": {"user": {"login": "pcasaes", "name": "Paulo Casaes"}}, "url": "https://github.com/quarkusio/quarkus/commit/d609bf2c7c019674dae5d37957d9f2e1b59d84bf", "committedDate": "2020-01-23T13:07:26Z", "message": "Add http configuration for domain sockets"}, "afterCommit": {"oid": "2daa17be2900226b3f71fce50f543b3693048bc2", "author": {"user": {"login": "pcasaes", "name": "Paulo Casaes"}}, "url": "https://github.com/quarkusio/quarkus/commit/2daa17be2900226b3f71fce50f543b3693048bc2", "committedDate": "2020-01-23T15:46:39Z", "message": "Add http configuration for domain sockets"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2daa17be2900226b3f71fce50f543b3693048bc2", "author": {"user": {"login": "pcasaes", "name": "Paulo Casaes"}}, "url": "https://github.com/quarkusio/quarkus/commit/2daa17be2900226b3f71fce50f543b3693048bc2", "committedDate": "2020-01-23T15:46:39Z", "message": "Add http configuration for domain sockets"}, "afterCommit": {"oid": "e24d81afc7b9e3acf5c27fe7e95dfa5e51c11177", "author": {"user": {"login": "pcasaes", "name": "Paulo Casaes"}}, "url": "https://github.com/quarkusio/quarkus/commit/e24d81afc7b9e3acf5c27fe7e95dfa5e51c11177", "committedDate": "2020-01-23T17:36:50Z", "message": "Add http configuration for domain sockets"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ3Njk2ODIw", "url": "https://github.com/quarkusio/quarkus/pull/6670#pullrequestreview-347696820", "createdAt": "2020-01-24T00:34:48Z", "commit": {"oid": "e24d81afc7b9e3acf5c27fe7e95dfa5e51c11177"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yNFQwMDozNDo0OFrOFhRA_A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yNFQwMDozNDo0OFrOFhRA_A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDQyNjEwOA==", "bodyText": "Why have you changed the default to false? I thought the usual default value here would be true?", "url": "https://github.com/quarkusio/quarkus/pull/6670#discussion_r370426108", "createdAt": "2020-01-24T00:34:48Z", "author": {"login": "stuartwdouglas"}, "path": "extensions/vertx-http/runtime/src/main/java/io/quarkus/vertx/http/runtime/HttpConfiguration.java", "diffHunk": "@@ -96,6 +96,36 @@\n     @ConfigItem(name = \"auth.session.encryption-key\")\n     public Optional<String> encryptionKey;\n \n+    /**\n+     * Enable socket reuse port\n+     */\n+    @ConfigItem(defaultValue = \"false\", name = \"so-reuse-port\")\n+    public boolean soReusePort;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e24d81afc7b9e3acf5c27fe7e95dfa5e51c11177"}, "originalPosition": 17}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e24d81afc7b9e3acf5c27fe7e95dfa5e51c11177", "author": {"user": {"login": "pcasaes", "name": "Paulo Casaes"}}, "url": "https://github.com/quarkusio/quarkus/commit/e24d81afc7b9e3acf5c27fe7e95dfa5e51c11177", "committedDate": "2020-01-23T17:36:50Z", "message": "Add http configuration for domain sockets"}, "afterCommit": {"oid": "8934bf44e7b1287f52b53db2fb34c6894140df67", "author": {"user": {"login": "pcasaes", "name": "Paulo Casaes"}}, "url": "https://github.com/quarkusio/quarkus/commit/8934bf44e7b1287f52b53db2fb34c6894140df67", "committedDate": "2020-01-24T00:54:53Z", "message": "Document http configuration for linux/macos socket options"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ3ODU1NTQy", "url": "https://github.com/quarkusio/quarkus/pull/6670#pullrequestreview-347855542", "createdAt": "2020-01-24T10:11:36Z", "commit": {"oid": "8934bf44e7b1287f52b53db2fb34c6894140df67"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8934bf44e7b1287f52b53db2fb34c6894140df67", "author": {"user": {"login": "pcasaes", "name": "Paulo Casaes"}}, "url": "https://github.com/quarkusio/quarkus/commit/8934bf44e7b1287f52b53db2fb34c6894140df67", "committedDate": "2020-01-24T00:54:53Z", "message": "Document http configuration for linux/macos socket options"}, "afterCommit": {"oid": "b6677d349aad152c530ce8b6ac734db6469a0b56", "author": {"user": {"login": "pcasaes", "name": "Paulo Casaes"}}, "url": "https://github.com/quarkusio/quarkus/commit/b6677d349aad152c530ce8b6ac734db6469a0b56", "committedDate": "2020-01-24T15:37:19Z", "message": "Add configuration for vert.x with native transport #6669\n\nMake Netty's native transport dependencies optional\nImprove Netty's native transport documentation\nAdd Vertx initialization log\nAdd http configuration for domain sockets\nDocument http configuration for linux/macos socket options"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ4NDU5Njc3", "url": "https://github.com/quarkusio/quarkus/pull/6670#pullrequestreview-348459677", "createdAt": "2020-01-27T06:35:29Z", "commit": {"oid": "b6677d349aad152c530ce8b6ac734db6469a0b56"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yN1QwNjozNToyOVrOFh46-g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yN1QwNjozOTozNlrOFh4-Cg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTA3OTkzMA==", "bodyText": "Why switching this property as optional? It has a default value, so the optional will never be empty.", "url": "https://github.com/quarkusio/quarkus/pull/6670#discussion_r371079930", "createdAt": "2020-01-27T06:35:29Z", "author": {"login": "cescoffier"}, "path": "extensions/vertx-http/runtime/src/main/java/io/quarkus/vertx/http/runtime/HttpConfiguration.java", "diffHunk": "@@ -35,7 +35,7 @@\n      * The HTTP host\n      */\n     @ConfigItem(defaultValue = \"0.0.0.0\")\n-    public String host;\n+    public Optional<String> host;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b6677d349aad152c530ce8b6ac734db6469a0b56"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTA4MDA1Mg==", "bodyText": "Any reason to set the name? The name you use are the default ones.", "url": "https://github.com/quarkusio/quarkus/pull/6670#discussion_r371080052", "createdAt": "2020-01-27T06:36:13Z", "author": {"login": "cescoffier"}, "path": "extensions/vertx-http/runtime/src/main/java/io/quarkus/vertx/http/runtime/HttpConfiguration.java", "diffHunk": "@@ -96,6 +96,36 @@\n     @ConfigItem(name = \"auth.session.encryption-key\")\n     public Optional<String> encryptionKey;\n \n+    /**\n+     * Enable socket reuse port (linux/macOs native transport only)\n+     */\n+    @ConfigItem(defaultValue = \"false\", name = \"so-reuse-port\")\n+    public boolean soReusePort;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b6677d349aad152c530ce8b6ac734db6469a0b56"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTA4MDI1NQ==", "bodyText": "no need for get if you remove the optional.", "url": "https://github.com/quarkusio/quarkus/pull/6670#discussion_r371080255", "createdAt": "2020-01-27T06:37:14Z", "author": {"login": "cescoffier"}, "path": "extensions/vertx-http/runtime/src/main/java/io/quarkus/vertx/http/runtime/VertxHttpRecorder.java", "diffHunk": "@@ -420,9 +447,13 @@ private static HttpServerOptions createSslOptions(HttpConfiguration httpConfigur\n             }\n         }\n         serverOptions.setSsl(true);\n-        serverOptions.setHost(httpConfiguration.host);\n+        serverOptions.setHost(httpConfiguration.host.get());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b6677d349aad152c530ce8b6ac734db6469a0b56"}, "originalPosition": 82}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTA4MDMwNA==", "bodyText": "cannot be false, it has a default value.", "url": "https://github.com/quarkusio/quarkus/pull/6670#discussion_r371080304", "createdAt": "2020-01-27T06:37:29Z", "author": {"login": "cescoffier"}, "path": "extensions/vertx-http/runtime/src/main/java/io/quarkus/vertx/http/runtime/VertxHttpRecorder.java", "diffHunk": "@@ -345,6 +368,10 @@ public void handle(AsyncResult<Void> event) {\n      */\n     private static HttpServerOptions createSslOptions(HttpConfiguration httpConfiguration, LaunchMode launchMode)\n             throws IOException {\n+        if (!httpConfiguration.host.isPresent()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b6677d349aad152c530ce8b6ac734db6469a0b56"}, "originalPosition": 70}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTA4MDQ4OQ==", "bodyText": "cannot be false. It has a default value.\nIn addition, the caller need to be aware of the possibility to get null.", "url": "https://github.com/quarkusio/quarkus/pull/6670#discussion_r371080489", "createdAt": "2020-01-27T06:38:14Z", "author": {"login": "cescoffier"}, "path": "extensions/vertx-http/runtime/src/main/java/io/quarkus/vertx/http/runtime/VertxHttpRecorder.java", "diffHunk": "@@ -497,13 +528,33 @@ private static String findKeystoreFileType(Path storePath) {\n \n     private static HttpServerOptions createHttpServerOptions(HttpConfiguration httpConfiguration,\n             LaunchMode launchMode, String websocketSubProtocols) {\n+        if (!httpConfiguration.host.isPresent()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b6677d349aad152c530ce8b6ac734db6469a0b56"}, "originalPosition": 96}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTA4MDUzNQ==", "bodyText": "no need for get if you remove the optional.", "url": "https://github.com/quarkusio/quarkus/pull/6670#discussion_r371080535", "createdAt": "2020-01-27T06:38:28Z", "author": {"login": "cescoffier"}, "path": "extensions/vertx-http/runtime/src/main/java/io/quarkus/vertx/http/runtime/VertxHttpRecorder.java", "diffHunk": "@@ -497,13 +528,33 @@ private static String findKeystoreFileType(Path storePath) {\n \n     private static HttpServerOptions createHttpServerOptions(HttpConfiguration httpConfiguration,\n             LaunchMode launchMode, String websocketSubProtocols) {\n+        if (!httpConfiguration.host.isPresent()) {\n+            return null;\n+        }\n         // TODO other config properties\n         HttpServerOptions options = new HttpServerOptions();\n-        options.setHost(httpConfiguration.host);\n+        options.setHost(httpConfiguration.host.get());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b6677d349aad152c530ce8b6ac734db6469a0b56"}, "originalPosition": 102}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTA4MDcxNA==", "bodyText": "It has a null-check, so it's ok, but it can still never be false.", "url": "https://github.com/quarkusio/quarkus/pull/6670#discussion_r371080714", "createdAt": "2020-01-27T06:39:36Z", "author": {"login": "cescoffier"}, "path": "extensions/vertx-http/runtime/src/main/java/io/quarkus/vertx/http/runtime/VertxHttpRecorder.java", "diffHunk": "@@ -497,13 +528,33 @@ private static String findKeystoreFileType(Path storePath) {\n \n     private static HttpServerOptions createHttpServerOptions(HttpConfiguration httpConfiguration,\n             LaunchMode launchMode, String websocketSubProtocols) {\n+        if (!httpConfiguration.host.isPresent()) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTA4MDQ4OQ=="}, "originalCommit": {"oid": "b6677d349aad152c530ce8b6ac734db6469a0b56"}, "originalPosition": 96}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b6677d349aad152c530ce8b6ac734db6469a0b56", "author": {"user": {"login": "pcasaes", "name": "Paulo Casaes"}}, "url": "https://github.com/quarkusio/quarkus/commit/b6677d349aad152c530ce8b6ac734db6469a0b56", "committedDate": "2020-01-24T15:37:19Z", "message": "Add configuration for vert.x with native transport #6669\n\nMake Netty's native transport dependencies optional\nImprove Netty's native transport documentation\nAdd Vertx initialization log\nAdd http configuration for domain sockets\nDocument http configuration for linux/macos socket options"}, "afterCommit": {"oid": "16a32d2556ab6a21d76c44bdfc347a2d1a56dab5", "author": {"user": {"login": "pcasaes", "name": "Paulo Casaes"}}, "url": "https://github.com/quarkusio/quarkus/commit/16a32d2556ab6a21d76c44bdfc347a2d1a56dab5", "committedDate": "2020-01-28T15:46:38Z", "message": "Add configuration for vert.x with native transport #6669\n\nMake Netty's native transport dependencies optional\nImprove Netty's native transport documentation\nAdd Vertx initialization log\nAdd http configuration for domain sockets\nDocument http configuration for linux/macos socket options"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8c1ba54bce048ff5d698263fe90f8ea25b61b80d", "author": {"user": {"login": "pcasaes", "name": "Paulo Casaes"}}, "url": "https://github.com/quarkusio/quarkus/commit/8c1ba54bce048ff5d698263fe90f8ea25b61b80d", "committedDate": "2020-01-28T16:10:34Z", "message": "Remove already default explicit config names"}, "afterCommit": {"oid": "7380dc6ae3a7125a02d78fb160e8dacecd3f32bb", "author": {"user": {"login": "pcasaes", "name": "Paulo Casaes"}}, "url": "https://github.com/quarkusio/quarkus/commit/7380dc6ae3a7125a02d78fb160e8dacecd3f32bb", "committedDate": "2020-01-28T21:30:17Z", "message": "Add explicit conf to enable/disable host or domain socket listener"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7380dc6ae3a7125a02d78fb160e8dacecd3f32bb", "author": {"user": {"login": "pcasaes", "name": "Paulo Casaes"}}, "url": "https://github.com/quarkusio/quarkus/commit/7380dc6ae3a7125a02d78fb160e8dacecd3f32bb", "committedDate": "2020-01-28T21:30:17Z", "message": "Add explicit conf to enable/disable host or domain socket listener"}, "afterCommit": {"oid": "2e56c6921de74ee707958f7f75b3a471df177b06", "author": {"user": {"login": "pcasaes", "name": "Paulo Casaes"}}, "url": "https://github.com/quarkusio/quarkus/commit/2e56c6921de74ee707958f7f75b3a471df177b06", "committedDate": "2020-02-06T04:16:17Z", "message": "Add explicit conf to enable/disable host or domain socket listener"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2e56c6921de74ee707958f7f75b3a471df177b06", "author": {"user": {"login": "pcasaes", "name": "Paulo Casaes"}}, "url": "https://github.com/quarkusio/quarkus/commit/2e56c6921de74ee707958f7f75b3a471df177b06", "committedDate": "2020-02-06T04:16:17Z", "message": "Add explicit conf to enable/disable host or domain socket listener"}, "afterCommit": {"oid": "35e28e2d2f53f1f84a84fbd4d17a9eedf2711e52", "author": {"user": {"login": "pcasaes", "name": "Paulo Casaes"}}, "url": "https://github.com/quarkusio/quarkus/commit/35e28e2d2f53f1f84a84fbd4d17a9eedf2711e52", "committedDate": "2020-02-21T22:15:59Z", "message": "Add explicit conf to enable/disable host or domain socket listener"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "67fef61b4f4445ed5c40fbbfc723f80ce5524f7c", "author": {"user": {"login": "pcasaes", "name": "Paulo Casaes"}}, "url": "https://github.com/quarkusio/quarkus/commit/67fef61b4f4445ed5c40fbbfc723f80ce5524f7c", "committedDate": "2020-02-21T23:26:07Z", "message": "Add configuration for vert.x with native transport #6669\n\nMake Netty's native transport dependencies optional\nImprove Netty's native transport documentation\nAdd Vertx initialization log\nAdd http configuration for domain sockets\nDocument http configuration for linux/macos socket options"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b6ee5273bad7458b80370d767f7c179fedd53b29", "author": {"user": {"login": "pcasaes", "name": "Paulo Casaes"}}, "url": "https://github.com/quarkusio/quarkus/commit/b6ee5273bad7458b80370d767f7c179fedd53b29", "committedDate": "2020-02-21T23:26:16Z", "message": "Remove already default explicit config names"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bdb1e7c9c61feced2f227614c9b6d4bf38a2275c", "author": {"user": {"login": "pcasaes", "name": "Paulo Casaes"}}, "url": "https://github.com/quarkusio/quarkus/commit/bdb1e7c9c61feced2f227614c9b6d4bf38a2275c", "committedDate": "2020-02-21T23:26:16Z", "message": "Add explicit conf to enable/disable host or domain socket listener"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "35e28e2d2f53f1f84a84fbd4d17a9eedf2711e52", "author": {"user": {"login": "pcasaes", "name": "Paulo Casaes"}}, "url": "https://github.com/quarkusio/quarkus/commit/35e28e2d2f53f1f84a84fbd4d17a9eedf2711e52", "committedDate": "2020-02-21T22:15:59Z", "message": "Add explicit conf to enable/disable host or domain socket listener"}, "afterCommit": {"oid": "bdb1e7c9c61feced2f227614c9b6d4bf38a2275c", "author": {"user": {"login": "pcasaes", "name": "Paulo Casaes"}}, "url": "https://github.com/quarkusio/quarkus/commit/bdb1e7c9c61feced2f227614c9b6d4bf38a2275c", "committedDate": "2020-02-21T23:26:16Z", "message": "Add explicit conf to enable/disable host or domain socket listener"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY1NzQyNjIw", "url": "https://github.com/quarkusio/quarkus/pull/6670#pullrequestreview-365742620", "createdAt": "2020-02-27T15:06:09Z", "commit": {"oid": "bdb1e7c9c61feced2f227614c9b6d4bf38a2275c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 246, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}