{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTEzNzA3MTc0", "number": 13053, "title": "Hibernate ORM 5.4.23 and Hibernate Reactive 1.0.0.Alpha11", "bodyText": "This is what we'll need to upgrade Hibernate ORM to version 5.4.23.Final.\n[no longer a Draft: necessary dependencies should be in Maven Central now]\nChangelog: - https://hibernate.atlassian.net/projects/HHH/versions/31887/tab/release-report-all-issues\nFixes #11975", "createdAt": "2020-11-01T22:51:28Z", "url": "https://github.com/quarkusio/quarkus/pull/13053", "merged": true, "mergeCommit": {"oid": "765bded7f1018bbb73f8ceb2fa0cab08ddb38dff"}, "closed": true, "closedAt": "2020-11-02T22:06:29Z", "author": {"login": "Sanne"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdYhvLcgBqjM5NDcyODg2ODE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdYqhczAFqTUyMTk2NjQ4Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c3da39045341496e8f70107c7c705dcab9c3ea7a", "author": {"user": {"login": "Sanne", "name": "Sanne Grinovero"}}, "url": "https://github.com/quarkusio/quarkus/commit/c3da39045341496e8f70107c7c705dcab9c3ea7a", "committedDate": "2020-11-01T22:49:44Z", "message": "Upgrade to Hibernate ORM 5.4.23.Final"}, "afterCommit": {"oid": "247df9cc01edc4618cc395a200eb75cdde3fc323", "author": {"user": {"login": "Sanne", "name": "Sanne Grinovero"}}, "url": "https://github.com/quarkusio/quarkus/commit/247df9cc01edc4618cc395a200eb75cdde3fc323", "committedDate": "2020-11-02T10:09:36Z", "message": "Upgrade to Hibernate Reactive 1.0.0.Alpha11"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "247df9cc01edc4618cc395a200eb75cdde3fc323", "author": {"user": {"login": "Sanne", "name": "Sanne Grinovero"}}, "url": "https://github.com/quarkusio/quarkus/commit/247df9cc01edc4618cc395a200eb75cdde3fc323", "committedDate": "2020-11-02T10:09:36Z", "message": "Upgrade to Hibernate Reactive 1.0.0.Alpha11"}, "afterCommit": {"oid": "e810bf0f5fd5b2d9bc070be9d01ac49841df1e5a", "author": {"user": {"login": "Sanne", "name": "Sanne Grinovero"}}, "url": "https://github.com/quarkusio/quarkus/commit/e810bf0f5fd5b2d9bc070be9d01ac49841df1e5a", "committedDate": "2020-11-02T14:52:07Z", "message": "Upgrade to Hibernate Reactive 1.0.0.Alpha11"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIxODY1MjIy", "url": "https://github.com/quarkusio/quarkus/pull/13053#pullrequestreview-521865222", "createdAt": "2020-11-02T17:51:19Z", "commit": {"oid": "f6075e2df4220bd6496c9d3d26baa8256581d72c"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wMlQxNzo1MToxOVrOHsPgWg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wMlQxNzo1ODozOVrOHsPxGw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjE1MzQzNA==", "bodyText": "We should maybe rename the method to popRecordedState or something similar? So that consumers know what they are doing?", "url": "https://github.com/quarkusio/quarkus/pull/13053#discussion_r516153434", "createdAt": "2020-11-02T17:51:19Z", "author": {"login": "gsmet"}, "path": "extensions/hibernate-orm/runtime/src/main/java/io/quarkus/hibernate/orm/runtime/PersistenceUnitsHolder.java", "diffHunk": "@@ -54,7 +54,7 @@ public static RecordedState getRecordedState(String persistenceUnitName) {\n         if (persistenceUnitName == null) {\n             key = NO_NAME_TOKEN;\n         }\n-        return persistenceUnits.recordedStates.get(key);\n+        return persistenceUnits.recordedStates.remove(key);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f6075e2df4220bd6496c9d3d26baa8256581d72c"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjE1NzcyMw==", "bodyText": "I'm not sure these will be included in the native image? Given it's a runtime class, I suppose it can be called at runtime?\nFor JAXB, I had to add this: https://github.com/quarkusio/quarkus/blob/master/extensions/jaxb/deployment/src/main/java/io/quarkus/jaxb/deployment/JaxbProcessor.java#L152 .\nI don't know if you're having this new method for a similar purpose.", "url": "https://github.com/quarkusio/quarkus/pull/13053#discussion_r516157723", "createdAt": "2020-11-02T17:58:39Z", "author": {"login": "gsmet"}, "path": "extensions/hibernate-orm/runtime/src/main/java/io/quarkus/hibernate/orm/runtime/service/FlatClassLoaderService.java", "diffHunk": "@@ -98,6 +98,20 @@ public InputStream locateResourceStream(String name) {\n         throw new AssertionFailure(\"Not implemented! generateProxy(InvocationHandler handler, Class... interfaces)\");\n     }\n \n+    @Override\n+    public Package packageForNameOrNull(String packageName) {\n+        try {\n+            Class<?> aClass = Class.forName(packageName + \".package-info\", false, getClassLoader());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d7aa8967e26b90b3acf68b744120e59da6bce0bd"}, "originalPosition": 7}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "eedf3007de8580ff1af784f90e40cf4e57eb16f7", "author": {"user": {"login": "Sanne", "name": "Sanne Grinovero"}}, "url": "https://github.com/quarkusio/quarkus/commit/eedf3007de8580ff1af784f90e40cf4e57eb16f7", "committedDate": "2020-11-02T18:38:37Z", "message": "Release references to PU metadata after it was booted"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b5c5dbdd0a7dfc2fe12ae6ee960f4fc8f802fbac", "author": {"user": {"login": "Sanne", "name": "Sanne Grinovero"}}, "url": "https://github.com/quarkusio/quarkus/commit/b5c5dbdd0a7dfc2fe12ae6ee960f4fc8f802fbac", "committedDate": "2020-11-02T18:38:37Z", "message": "Use the correct ASM API version constant: the one from the ASM version used by Gizmo"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8cb5780b18e1abb2b27c2b382b7d5b215880be1d", "author": {"user": {"login": "Sanne", "name": "Sanne Grinovero"}}, "url": "https://github.com/quarkusio/quarkus/commit/8cb5780b18e1abb2b27c2b382b7d5b215880be1d", "committedDate": "2020-11-02T18:38:37Z", "message": "Release the Hibernate ORM metadata caches before recording its state"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c167010684b562649f41a3262148c6af3bb8a5d5", "author": {"user": {"login": "Sanne", "name": "Sanne Grinovero"}}, "url": "https://github.com/quarkusio/quarkus/commit/c167010684b562649f41a3262148c6af3bb8a5d5", "committedDate": "2020-11-02T18:38:37Z", "message": "Upgrade to Hibernate ORM 5.4.23.Final"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2527225632bd5bb547320e48348a90e93ec93136", "author": {"user": {"login": "Sanne", "name": "Sanne Grinovero"}}, "url": "https://github.com/quarkusio/quarkus/commit/2527225632bd5bb547320e48348a90e93ec93136", "committedDate": "2020-11-02T18:38:37Z", "message": "Upgrade to Hibernate Reactive 1.0.0.Alpha11"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e810bf0f5fd5b2d9bc070be9d01ac49841df1e5a", "author": {"user": {"login": "Sanne", "name": "Sanne Grinovero"}}, "url": "https://github.com/quarkusio/quarkus/commit/e810bf0f5fd5b2d9bc070be9d01ac49841df1e5a", "committedDate": "2020-11-02T14:52:07Z", "message": "Upgrade to Hibernate Reactive 1.0.0.Alpha11"}, "afterCommit": {"oid": "2527225632bd5bb547320e48348a90e93ec93136", "author": {"user": {"login": "Sanne", "name": "Sanne Grinovero"}}, "url": "https://github.com/quarkusio/quarkus/commit/2527225632bd5bb547320e48348a90e93ec93136", "committedDate": "2020-11-02T18:38:37Z", "message": "Upgrade to Hibernate Reactive 1.0.0.Alpha11"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIxOTY2NDg2", "url": "https://github.com/quarkusio/quarkus/pull/13053#pullrequestreview-521966486", "createdAt": "2020-11-02T20:23:58Z", "commit": {"oid": "2527225632bd5bb547320e48348a90e93ec93136"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1602, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}