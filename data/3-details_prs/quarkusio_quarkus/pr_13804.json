{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM1ODg4MDk5", "number": 13804, "title": "Add a note on MongoDB Panache doc about query on same field", "bodyText": "Relates to #12086 that we keep open to maybe fix it some day.", "createdAt": "2020-12-10T12:04:57Z", "url": "https://github.com/quarkusio/quarkus/pull/13804", "merged": true, "mergeCommit": {"oid": "02975f384e423e39060f2d6669382a43513ce527"}, "closed": true, "closedAt": "2021-02-04T17:55:38Z", "author": {"login": "loicmathieu"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdoULosgFqTU1NjMwOTQ3OA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABd24vPrAFqTU4MzY2NDU4MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU2MzA5NDc4", "url": "https://github.com/quarkusio/quarkus/pull/13804#pullrequestreview-556309478", "createdAt": "2020-12-21T11:22:43Z", "commit": {"oid": "5a1a7d0cba01a37da68408059e0d4c35ebc6e319"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMVQxMToyMjo0M1rOIJU_0w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMVQxMToyNDo0OVrOIJVDSw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjY1MjExNQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            using multiple times the same field on a query is not allowed using PanacheQL as is it would generate an invalid JSON\n          \n          \n            \n            using the same field multiple times in a query is not allowed using PanacheQL as it would generate an invalid JSON", "url": "https://github.com/quarkusio/quarkus/pull/13804#discussion_r546652115", "createdAt": "2020-12-21T11:22:43Z", "author": {"login": "gsmet"}, "path": "docs/src/main/asciidoc/mongodb-panache.adoc", "diffHunk": "@@ -513,6 +513,10 @@ Here are some query examples:\n - `lastname is not null` will be mapped to `{'lastname':{'$exists': true}}`\n - `status in ?1` will be mapped to `{'status':{$in: [?1]}}`\n \n+WARNING: MongoDB queries must be valid JSON documents,\n+using multiple times the same field on a query is not allowed using PanacheQL as is it would generate an invalid JSON", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5a1a7d0cba01a37da68408059e0d4c35ebc6e319"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjY1MjcwMQ==", "bodyText": "Can we avoid referencing an issue? Better put an example in the doc of what's not valid.\nBtw, I think it's a pretty annoying limitation given it can be a very common use case.", "url": "https://github.com/quarkusio/quarkus/pull/13804#discussion_r546652701", "createdAt": "2020-12-21T11:24:05Z", "author": {"login": "gsmet"}, "path": "docs/src/main/asciidoc/mongodb-panache.adoc", "diffHunk": "@@ -513,6 +513,10 @@ Here are some query examples:\n - `lastname is not null` will be mapped to `{'lastname':{'$exists': true}}`\n - `status in ?1` will be mapped to `{'status':{$in: [?1]}}`\n \n+WARNING: MongoDB queries must be valid JSON documents,\n+using multiple times the same field on a query is not allowed using PanacheQL as is it would generate an invalid JSON\n+(see link:https://github.com/quarkusio/quarkus/issues/12086[this issue on github]).", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5a1a7d0cba01a37da68408059e0d4c35ebc6e319"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjY1Mjg0MQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n             * using multiple times the same field on a query is not allowed using PanacheQL as is it would generate an invalid JSON\n          \n          \n            \n             * using the same field multiple times in a query is not allowed using PanacheQL as it would generate an invalid JSON", "url": "https://github.com/quarkusio/quarkus/pull/13804#discussion_r546652841", "createdAt": "2020-12-21T11:24:28Z", "author": {"login": "gsmet"}, "path": "extensions/panache/mongodb-panache/runtime/src/main/java/io/quarkus/mongodb/panache/package-info.java", "diffHunk": "@@ -85,6 +85,11 @@\n  * </ul>\n  * </p>\n  * <p>\n+ * <b>WARNING</b>: MongoDB queries must be valid JSON documents,\n+ * using multiple times the same field on a query is not allowed using PanacheQL as is it would generate an invalid JSON", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5a1a7d0cba01a37da68408059e0d4c35ebc6e319"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjY1MzAwMw==", "bodyText": "Same comment here.", "url": "https://github.com/quarkusio/quarkus/pull/13804#discussion_r546653003", "createdAt": "2020-12-21T11:24:49Z", "author": {"login": "gsmet"}, "path": "extensions/panache/mongodb-panache/runtime/src/main/java/io/quarkus/mongodb/panache/package-info.java", "diffHunk": "@@ -85,6 +85,11 @@\n  * </ul>\n  * </p>\n  * <p>\n+ * <b>WARNING</b>: MongoDB queries must be valid JSON documents,\n+ * using multiple times the same field on a query is not allowed using PanacheQL as is it would generate an invalid JSON\n+ * (see this issue on github: https://github.com/quarkusio/quarkus/issues/12086).", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5a1a7d0cba01a37da68408059e0d4c35ebc6e319"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "983192b8cc4574905812dac29a285609e93d3c3a", "author": {"user": {"login": "loicmathieu", "name": "Lo\u00efc Mathieu"}}, "url": "https://github.com/quarkusio/quarkus/commit/983192b8cc4574905812dac29a285609e93d3c3a", "committedDate": "2020-12-21T11:31:55Z", "message": "Add a note on MongoDB Panache doc about query on same field"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "42cd1baff8f4637dc132f39eeae558051eaf5e9d", "author": {"user": {"login": "loicmathieu", "name": "Lo\u00efc Mathieu"}}, "url": "https://github.com/quarkusio/quarkus/commit/42cd1baff8f4637dc132f39eeae558051eaf5e9d", "committedDate": "2020-12-21T11:30:21Z", "message": "WIP Apply suggestions from code review\n\nCo-authored-by: Guillaume Smet <guillaume.smet@gmail.com>"}, "afterCommit": {"oid": "983192b8cc4574905812dac29a285609e93d3c3a", "author": {"user": {"login": "loicmathieu", "name": "Lo\u00efc Mathieu"}}, "url": "https://github.com/quarkusio/quarkus/commit/983192b8cc4574905812dac29a285609e93d3c3a", "committedDate": "2020-12-21T11:31:55Z", "message": "Add a note on MongoDB Panache doc about query on same field"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTgzNjY0NTgx", "url": "https://github.com/quarkusio/quarkus/pull/13804#pullrequestreview-583664581", "createdAt": "2021-02-04T17:55:26Z", "commit": {"oid": "983192b8cc4574905812dac29a285609e93d3c3a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4274, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}