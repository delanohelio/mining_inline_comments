{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYyMTcxODk0", "number": 6528, "title": "Use UBI instead of Alpine for JVM container in the generated project", "bodyText": "Several issues have been reported with the Alpine based parent (Kafka issues, musl vs. Glibc...).\nThis pull request replaces the Alpine parent used in the Dockerfile.jvm by UBI (minimal).\nThe native variant of the Dockerfile already uses UBI.\nIt uses the same script as before to run the java program (run-java.sh).\nThe main difference is that the new one does not provide Agent Bond.", "createdAt": "2020-01-13T15:17:51Z", "url": "https://github.com/quarkusio/quarkus/pull/6528", "merged": true, "mergeCommit": {"oid": "95cc766d1acbfb03ebd147b45e8a1180495635bf"}, "closed": true, "closedAt": "2020-01-14T17:18:06Z", "author": {"login": "cescoffier"}, "timelineItems": {"totalCount": 16, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb5-Bp4AFqTM0MTkyMjM5OQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABb6UP1aAFqTM0MjcwMjQ3Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQxOTIyMzk5", "url": "https://github.com/quarkusio/quarkus/pull/6528#pullrequestreview-341922399", "createdAt": "2020-01-13T15:24:31Z", "commit": {"oid": "b56c33c13df6ba644072d5413f7c1083ae1655ce"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xM1QxNToyNDozMVrOFc6ghQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xM1QxNToyNDozMVrOFc6ghQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTg2MzA0NQ==", "bodyText": "No FROM ?", "url": "https://github.com/quarkusio/quarkus/pull/6528#discussion_r365863045", "createdAt": "2020-01-13T15:24:31Z", "author": {"login": "gastaldi"}, "path": "devtools/platform-descriptor-json/src/main/resources/templates/dockerfile-jvm.ftl", "diffHunk": "@@ -14,21 +14,28 @@\n # docker run -i --rm -p 8080:8080 quarkus/${project_artifactId}-jvm\n #\n ###\n-FROM fabric8/java-alpine-openjdk8-jre:1.6.5", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b56c33c13df6ba644072d5413f7c1083ae1655ce"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQxOTMwNDky", "url": "https://github.com/quarkusio/quarkus/pull/6528#pullrequestreview-341930492", "createdAt": "2020-01-13T15:35:21Z", "commit": {"oid": "b56c33c13df6ba644072d5413f7c1083ae1655ce"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xM1QxNTozNToyMVrOFc637Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xM1QxNTozNToyMVrOFc637Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTg2OTAzNw==", "bodyText": "Looks like you defined two entrypoints? (see https://github.com/quarkusio/quarkus/pull/6528/files#diff-9e12667a22b8cd0de271bd24a18b11d6R41)", "url": "https://github.com/quarkusio/quarkus/pull/6528#discussion_r365869037", "createdAt": "2020-01-13T15:35:21Z", "author": {"login": "gastaldi"}, "path": "devtools/platform-descriptor-json/src/main/resources/templates/dockerfile-jvm.ftl", "diffHunk": "@@ -14,21 +14,28 @@\n # docker run -i --rm -p 8080:8080 quarkus/${project_artifactId}-jvm\n #\n ###\n-FROM fabric8/java-alpine-openjdk8-jre:1.6.5\n-ENV JAVA_OPTIONS=\"-Dquarkus.http.host=0.0.0.0 -Djava.util.logging.manager=org.jboss.logmanager.LogManager\"\n-ENV AB_ENABLED=jmx_exporter\n+ARG JAVA_PACKAGE=java-1.8.0-openjdk-headless\n+ARG RUN_JAVA_VERSION=1.3.5\n+\n+# Install java and the run-java script\n+# Also set up permissions for user `1001`\n+RUN microdnf install ${JAVA_PACKAGE} \\\n+    && microdnf clean all \\\n+    && mkdir /deployments \\\n+    && chown -R 1001 /deployments \\\n+    && chmod -R \"g+rwX\" /deployments \\\n+    && chown -R 1001:root /deployments \\\n+    && curl http://repo1.maven.org/maven2/io/fabric8/run-java-sh/${RUN_JAVA_VERSION}/run-java-sh-${RUN_JAVA_VERSION}-sh.sh > /deployments/run-java.sh \\\n+    && chmod 755 /deployments/run-java.sh \\\n+    && echo \"securerandom.source=file:/dev/urandom\" >> /etc/alternatives/jre/lib/security/java.security\n \n-# Be prepared for running in OpenShift too\n-RUN adduser -G root --no-create-home --disabled-password 1001 \\\n-  && chown -R 1001 /deployments \\\n-  && chmod -R \"g+rwX\" /deployments \\\n-  && chown -R 1001:root /deployments\n+ENV JAVA_OPTIONS=\"-Dquarkus.http.host=0.0.0.0 -Djava.util.logging.manager=org.jboss.logmanager.LogManager\"\n \n COPY ${build_dir}/lib/* /deployments/lib/\n COPY ${build_dir}/*-runner.jar /deployments/app.jar\n-EXPOSE 8080\n+ENTRYPOINT [ \"/deployments/run-java.sh\" ]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b56c33c13df6ba644072d5413f7c1083ae1655ce"}, "originalPosition": 32}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQxOTI3Mjk3", "url": "https://github.com/quarkusio/quarkus/pull/6528#pullrequestreview-341927297", "createdAt": "2020-01-13T15:31:04Z", "commit": {"oid": "b56c33c13df6ba644072d5413f7c1083ae1655ce"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xM1QxNTozMTowNVrOFc6u1A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xM1QxNTozNToyMlrOFc63-g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTg2NjcwOA==", "bodyText": "You have 2 entry points?", "url": "https://github.com/quarkusio/quarkus/pull/6528#discussion_r365866708", "createdAt": "2020-01-13T15:31:05Z", "author": {"login": "gsmet"}, "path": "devtools/platform-descriptor-json/src/main/resources/templates/dockerfile-jvm.ftl", "diffHunk": "@@ -14,21 +14,28 @@\n # docker run -i --rm -p 8080:8080 quarkus/${project_artifactId}-jvm\n #\n ###\n-FROM fabric8/java-alpine-openjdk8-jre:1.6.5\n-ENV JAVA_OPTIONS=\"-Dquarkus.http.host=0.0.0.0 -Djava.util.logging.manager=org.jboss.logmanager.LogManager\"\n-ENV AB_ENABLED=jmx_exporter\n+ARG JAVA_PACKAGE=java-1.8.0-openjdk-headless\n+ARG RUN_JAVA_VERSION=1.3.5\n+\n+# Install java and the run-java script\n+# Also set up permissions for user `1001`\n+RUN microdnf install ${JAVA_PACKAGE} \\\n+    && microdnf clean all \\\n+    && mkdir /deployments \\\n+    && chown -R 1001 /deployments \\\n+    && chmod -R \"g+rwX\" /deployments \\\n+    && chown -R 1001:root /deployments \\\n+    && curl http://repo1.maven.org/maven2/io/fabric8/run-java-sh/${RUN_JAVA_VERSION}/run-java-sh-${RUN_JAVA_VERSION}-sh.sh > /deployments/run-java.sh \\\n+    && chmod 755 /deployments/run-java.sh \\\n+    && echo \"securerandom.source=file:/dev/urandom\" >> /etc/alternatives/jre/lib/security/java.security\n \n-# Be prepared for running in OpenShift too\n-RUN adduser -G root --no-create-home --disabled-password 1001 \\\n-  && chown -R 1001 /deployments \\\n-  && chmod -R \"g+rwX\" /deployments \\\n-  && chown -R 1001:root /deployments\n+ENV JAVA_OPTIONS=\"-Dquarkus.http.host=0.0.0.0 -Djava.util.logging.manager=org.jboss.logmanager.LogManager\"\n \n COPY ${build_dir}/lib/* /deployments/lib/\n COPY ${build_dir}/*-runner.jar /deployments/app.jar\n-EXPOSE 8080\n+ENTRYPOINT [ \"/deployments/run-java.sh\" ]\n \n-# run with user 1001\n+EXPOSE 8080\n USER 1001\n \n ENTRYPOINT [ \"/deployments/run-java.sh\" ]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b56c33c13df6ba644072d5413f7c1083ae1655ce"}, "originalPosition": 38}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTg2NzAxNA==", "bodyText": "you don't need any recursion as this directory was just created, no?", "url": "https://github.com/quarkusio/quarkus/pull/6528#discussion_r365867014", "createdAt": "2020-01-13T15:31:39Z", "author": {"login": "gsmet"}, "path": "devtools/platform-descriptor-json/src/main/resources/templates/dockerfile-jvm.ftl", "diffHunk": "@@ -14,21 +14,28 @@\n # docker run -i --rm -p 8080:8080 quarkus/${project_artifactId}-jvm\n #\n ###\n-FROM fabric8/java-alpine-openjdk8-jre:1.6.5\n-ENV JAVA_OPTIONS=\"-Dquarkus.http.host=0.0.0.0 -Djava.util.logging.manager=org.jboss.logmanager.LogManager\"\n-ENV AB_ENABLED=jmx_exporter\n+ARG JAVA_PACKAGE=java-1.8.0-openjdk-headless\n+ARG RUN_JAVA_VERSION=1.3.5\n+\n+# Install java and the run-java script\n+# Also set up permissions for user `1001`\n+RUN microdnf install ${JAVA_PACKAGE} \\\n+    && microdnf clean all \\\n+    && mkdir /deployments \\\n+    && chown -R 1001 /deployments \\\n+    && chmod -R \"g+rwX\" /deployments \\\n+    && chown -R 1001:root /deployments \\", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b56c33c13df6ba644072d5413f7c1083ae1655ce"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTg2ODQ4MQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                && curl http://repo1.maven.org/maven2/io/fabric8/run-java-sh/${RUN_JAVA_VERSION}/run-java-sh-${RUN_JAVA_VERSION}-sh.sh > /deployments/run-java.sh \\\n          \n          \n            \n                && curl https://repo1.maven.org/maven2/io/fabric8/run-java-sh/${RUN_JAVA_VERSION}/run-java-sh-${RUN_JAVA_VERSION}-sh.sh -o /deployments/run-java.sh \\", "url": "https://github.com/quarkusio/quarkus/pull/6528#discussion_r365868481", "createdAt": "2020-01-13T15:34:16Z", "author": {"login": "gsmet"}, "path": "devtools/platform-descriptor-json/src/main/resources/templates/dockerfile-jvm.ftl", "diffHunk": "@@ -14,21 +14,28 @@\n # docker run -i --rm -p 8080:8080 quarkus/${project_artifactId}-jvm\n #\n ###\n-FROM fabric8/java-alpine-openjdk8-jre:1.6.5\n-ENV JAVA_OPTIONS=\"-Dquarkus.http.host=0.0.0.0 -Djava.util.logging.manager=org.jboss.logmanager.LogManager\"\n-ENV AB_ENABLED=jmx_exporter\n+ARG JAVA_PACKAGE=java-1.8.0-openjdk-headless\n+ARG RUN_JAVA_VERSION=1.3.5\n+\n+# Install java and the run-java script\n+# Also set up permissions for user `1001`\n+RUN microdnf install ${JAVA_PACKAGE} \\\n+    && microdnf clean all \\\n+    && mkdir /deployments \\\n+    && chown -R 1001 /deployments \\\n+    && chmod -R \"g+rwX\" /deployments \\\n+    && chown -R 1001:root /deployments \\\n+    && curl http://repo1.maven.org/maven2/io/fabric8/run-java-sh/${RUN_JAVA_VERSION}/run-java-sh-${RUN_JAVA_VERSION}-sh.sh > /deployments/run-java.sh \\", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b56c33c13df6ba644072d5413f7c1083ae1655ce"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTg2OTA1MA==", "bodyText": "I think it should be chown with the right owner and then only made 750. Or maybe it should even not be made writable.", "url": "https://github.com/quarkusio/quarkus/pull/6528#discussion_r365869050", "createdAt": "2020-01-13T15:35:22Z", "author": {"login": "gsmet"}, "path": "devtools/platform-descriptor-json/src/main/resources/templates/dockerfile-jvm.ftl", "diffHunk": "@@ -14,21 +14,28 @@\n # docker run -i --rm -p 8080:8080 quarkus/${project_artifactId}-jvm\n #\n ###\n-FROM fabric8/java-alpine-openjdk8-jre:1.6.5\n-ENV JAVA_OPTIONS=\"-Dquarkus.http.host=0.0.0.0 -Djava.util.logging.manager=org.jboss.logmanager.LogManager\"\n-ENV AB_ENABLED=jmx_exporter\n+ARG JAVA_PACKAGE=java-1.8.0-openjdk-headless\n+ARG RUN_JAVA_VERSION=1.3.5\n+\n+# Install java and the run-java script\n+# Also set up permissions for user `1001`\n+RUN microdnf install ${JAVA_PACKAGE} \\\n+    && microdnf clean all \\\n+    && mkdir /deployments \\\n+    && chown -R 1001 /deployments \\\n+    && chmod -R \"g+rwX\" /deployments \\\n+    && chown -R 1001:root /deployments \\\n+    && curl http://repo1.maven.org/maven2/io/fabric8/run-java-sh/${RUN_JAVA_VERSION}/run-java-sh-${RUN_JAVA_VERSION}-sh.sh > /deployments/run-java.sh \\\n+    && chmod 755 /deployments/run-java.sh \\", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b56c33c13df6ba644072d5413f7c1083ae1655ce"}, "originalPosition": 19}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQxOTMxNzIz", "url": "https://github.com/quarkusio/quarkus/pull/6528#pullrequestreview-341931723", "createdAt": "2020-01-13T15:36:58Z", "commit": {"oid": "b56c33c13df6ba644072d5413f7c1083ae1655ce"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b56c33c13df6ba644072d5413f7c1083ae1655ce", "author": {"user": {"login": "cescoffier", "name": "Clement Escoffier"}}, "url": "https://github.com/quarkusio/quarkus/commit/b56c33c13df6ba644072d5413f7c1083ae1655ce", "committedDate": "2020-01-13T15:10:17Z", "message": "Use UBI in the JVM variant of the Dockerfile"}, "afterCommit": {"oid": "08bed3da9c85fc197c1bdb8cf2ca0e347db35aab", "author": {"user": {"login": "cescoffier", "name": "Clement Escoffier"}}, "url": "https://github.com/quarkusio/quarkus/commit/08bed3da9c85fc197c1bdb8cf2ca0e347db35aab", "committedDate": "2020-01-13T15:44:37Z", "message": "Use UBI in the JVM variant of the Dockerfile"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "08bed3da9c85fc197c1bdb8cf2ca0e347db35aab", "author": {"user": {"login": "cescoffier", "name": "Clement Escoffier"}}, "url": "https://github.com/quarkusio/quarkus/commit/08bed3da9c85fc197c1bdb8cf2ca0e347db35aab", "committedDate": "2020-01-13T15:44:37Z", "message": "Use UBI in the JVM variant of the Dockerfile"}, "afterCommit": {"oid": "738439b75f8d2ea411c6ddd53bb0ce01f2486eda", "author": {"user": {"login": "cescoffier", "name": "Clement Escoffier"}}, "url": "https://github.com/quarkusio/quarkus/commit/738439b75f8d2ea411c6ddd53bb0ce01f2486eda", "committedDate": "2020-01-13T15:47:24Z", "message": "Use UBI in the JVM variant of the Dockerfile"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQxOTQ5Mjkz", "url": "https://github.com/quarkusio/quarkus/pull/6528#pullrequestreview-341949293", "createdAt": "2020-01-13T15:59:49Z", "commit": {"oid": "d9fd417792f0225b9bb08ecd084c14a8ae38f7c6"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xM1QxNTo1OTo0OVrOFc7ulw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xM1QxNTo1OTo0OVrOFc7ulw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTg4MzAzMQ==", "bodyText": "Shouldn't 550 work i.e. just executable and not modifiable by anyone? That would make the file immutable.", "url": "https://github.com/quarkusio/quarkus/pull/6528#discussion_r365883031", "createdAt": "2020-01-13T15:59:49Z", "author": {"login": "gsmet"}, "path": "devtools/platform-descriptor-json/src/main/resources/templates/dockerfile-jvm.ftl", "diffHunk": "@@ -14,21 +14,30 @@\n # docker run -i --rm -p 8080:8080 quarkus/${project_artifactId}-jvm\n #\n ###\n-FROM fabric8/java-alpine-openjdk8-jre:1.6.5\n-ENV JAVA_OPTIONS=\"-Dquarkus.http.host=0.0.0.0 -Djava.util.logging.manager=org.jboss.logmanager.LogManager\"\n-ENV AB_ENABLED=jmx_exporter\n+FROM registry.access.redhat.com/ubi8/ubi-minimal:8.1\n+\n+ARG JAVA_PACKAGE=java-1.8.0-openjdk-headless\n+ARG RUN_JAVA_VERSION=1.3.5\n+\n+# Install java and the run-java script\n+# Also set up permissions for user `1001`\n+RUN microdnf install ${JAVA_PACKAGE} \\\n+    && microdnf clean all \\\n+    && mkdir /deployments \\\n+    && chown 1001 /deployments \\\n+    && chmod \"g+rwX\" /deployments \\\n+    && chown 1001:root /deployments \\\n+    && curl https://repo1.maven.org/maven2/io/fabric8/run-java-sh/${RUN_JAVA_VERSION}/run-java-sh-${RUN_JAVA_VERSION}-sh.sh -o /deployments/run-java.sh \\\n+    && chown 1001 /deployments/run-java.sh \\\n+    && chmod 740 /deployments/run-java.sh \\", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d9fd417792f0225b9bb08ecd084c14a8ae38f7c6"}, "originalPosition": 22}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d9fd417792f0225b9bb08ecd084c14a8ae38f7c6", "author": {"user": {"login": "cescoffier", "name": "Clement Escoffier"}}, "url": "https://github.com/quarkusio/quarkus/commit/d9fd417792f0225b9bb08ecd084c14a8ae38f7c6", "committedDate": "2020-01-13T15:55:58Z", "message": "add the missing FROM ubi 8.1"}, "afterCommit": {"oid": "d4c3a6a13ce20948cf04ebc538ed0415905bfe24", "author": {"user": {"login": "cescoffier", "name": "Clement Escoffier"}}, "url": "https://github.com/quarkusio/quarkus/commit/d4c3a6a13ce20948cf04ebc538ed0415905bfe24", "committedDate": "2020-01-13T17:05:29Z", "message": "Use UBI in the JVM variant of the Dockerfile"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d4c3a6a13ce20948cf04ebc538ed0415905bfe24", "author": {"user": {"login": "cescoffier", "name": "Clement Escoffier"}}, "url": "https://github.com/quarkusio/quarkus/commit/d4c3a6a13ce20948cf04ebc538ed0415905bfe24", "committedDate": "2020-01-13T17:05:29Z", "message": "Use UBI in the JVM variant of the Dockerfile"}, "afterCommit": {"oid": "0148f9181c9fd00ca356271e29eb2423b627c80e", "author": {"user": {"login": "cescoffier", "name": "Clement Escoffier"}}, "url": "https://github.com/quarkusio/quarkus/commit/0148f9181c9fd00ca356271e29eb2423b627c80e", "committedDate": "2020-01-13T17:07:14Z", "message": "Use UBI in the JVM variant of the Dockerfile"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQyMDM0OTAx", "url": "https://github.com/quarkusio/quarkus/pull/6528#pullrequestreview-342034901", "createdAt": "2020-01-13T18:06:35Z", "commit": {"oid": "0148f9181c9fd00ca356271e29eb2423b627c80e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xM1QxODowNjozNlrOFc_twQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xM1QxODowNjozNlrOFc_twQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTk0ODM1Mw==", "bodyText": "In https://access.redhat.com/containers/?tab=images#/registry.access.redhat.com/ubi8/ubi-minimal the recommended URL is registry.redhat.io/ubi8/ubi-minimal instead of registry.access.redhat.com", "url": "https://github.com/quarkusio/quarkus/pull/6528#discussion_r365948353", "createdAt": "2020-01-13T18:06:36Z", "author": {"login": "gastaldi"}, "path": "devtools/platform-descriptor-json/src/main/resources/templates/dockerfile-jvm.ftl", "diffHunk": "@@ -14,21 +14,30 @@\n # docker run -i --rm -p 8080:8080 quarkus/${project_artifactId}-jvm\n #\n ###\n-FROM fabric8/java-alpine-openjdk8-jre:1.6.5\n-ENV JAVA_OPTIONS=\"-Dquarkus.http.host=0.0.0.0 -Djava.util.logging.manager=org.jboss.logmanager.LogManager\"\n-ENV AB_ENABLED=jmx_exporter\n+FROM registry.access.redhat.com/ubi8/ubi-minimal:8.1", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0148f9181c9fd00ca356271e29eb2423b627c80e"}, "originalPosition": 7}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c3942653922e8af27f0d17ec422d357ba2af3a07", "author": {"user": {"login": "cescoffier", "name": "Clement Escoffier"}}, "url": "https://github.com/quarkusio/quarkus/commit/c3942653922e8af27f0d17ec422d357ba2af3a07", "committedDate": "2020-01-14T06:59:53Z", "message": "Remove non-used Docker files"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d37fc6746530fc815c7a0a6afd20eaa3e530b122", "author": {"user": {"login": "cescoffier", "name": "Clement Escoffier"}}, "url": "https://github.com/quarkusio/quarkus/commit/d37fc6746530fc815c7a0a6afd20eaa3e530b122", "committedDate": "2020-01-14T06:59:53Z", "message": "Use UBI in the JVM variant of the Dockerfile\n\nI added a note (as a comment) about -XshowSettings:vm. So the user can enable it easily and check the amount of heap used by the application."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "09066e1e95274a3b73bb7036ccd76f7b6ce48ac2", "author": {"user": {"login": "cescoffier", "name": "Clement Escoffier"}}, "url": "https://github.com/quarkusio/quarkus/commit/09066e1e95274a3b73bb7036ccd76f7b6ce48ac2", "committedDate": "2020-01-14T07:01:05Z", "message": "Explicitly set the UBI version to 8.1 in the Dockerfile used for the native executable."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "03685d3179ce76465cf69d248905cd4992d6a92c", "author": {"user": {"login": "cescoffier", "name": "Clement Escoffier"}}, "url": "https://github.com/quarkusio/quarkus/commit/03685d3179ce76465cf69d248905cd4992d6a92c", "committedDate": "2020-01-13T20:02:00Z", "message": "Explicitly set the ubi version"}, "afterCommit": {"oid": "09066e1e95274a3b73bb7036ccd76f7b6ce48ac2", "author": {"user": {"login": "cescoffier", "name": "Clement Escoffier"}}, "url": "https://github.com/quarkusio/quarkus/commit/09066e1e95274a3b73bb7036ccd76f7b6ce48ac2", "committedDate": "2020-01-14T07:01:05Z", "message": "Explicitly set the UBI version to 8.1 in the Dockerfile used for the native executable."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQyNTI0Nzgy", "url": "https://github.com/quarkusio/quarkus/pull/6528#pullrequestreview-342524782", "createdAt": "2020-01-14T13:20:52Z", "commit": {"oid": "09066e1e95274a3b73bb7036ccd76f7b6ce48ac2"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQyNzAyNDc2", "url": "https://github.com/quarkusio/quarkus/pull/6528#pullrequestreview-342702476", "createdAt": "2020-01-14T17:17:56Z", "commit": {"oid": "09066e1e95274a3b73bb7036ccd76f7b6ce48ac2"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 181, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}