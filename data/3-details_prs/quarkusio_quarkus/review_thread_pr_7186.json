{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc0ODkzNTE2", "number": 7186, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxNDoyMTo1M1rODfkD9Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxNDozMzo0NVrODfkXBg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NDIzMjg1OnYy", "diffSide": "RIGHT", "path": "extensions/jaeger/runtime/pom.xml", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxNDoyMTo1M1rOFpVlIA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxNDoyMTo1M1rOFpVlIA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODg4OTUwNA==", "bodyText": "before someone asks, this is needed because microprofile-metrics-api is now a provided dependency of SR Metrics so it's not brought in transitively", "url": "https://github.com/quarkusio/quarkus/pull/7186#discussion_r378889504", "createdAt": "2020-02-13T14:21:53Z", "author": {"login": "jmartisk"}, "path": "extensions/jaeger/runtime/pom.xml", "diffHunk": "@@ -34,6 +34,10 @@\n             <groupId>io.smallrye</groupId>\n             <artifactId>smallrye-metrics</artifactId>\n         </dependency>\n+        <dependency>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0cef6ab7e81354dc5ac54fafc9e433e9ee42ca3c"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NDI4MTY2OnYy", "diffSide": "RIGHT", "path": "extensions/resteasy-server-common/deployment/src/main/java/io/quarkus/resteasy/server/common/deployment/ResteasyServerCommonProcessor.java", "isResolved": false, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxNDozMzo0NVrOFpWC0A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxNToxMTozOVrOFpXhtA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODg5NzEwNA==", "bodyText": "Shouldn't this code be in the smallrye-metrics extension?", "url": "https://github.com/quarkusio/quarkus/pull/7186#discussion_r378897104", "createdAt": "2020-02-13T14:33:45Z", "author": {"login": "gastaldi"}, "path": "extensions/resteasy-server-common/deployment/src/main/java/io/quarkus/resteasy/server/common/deployment/ResteasyServerCommonProcessor.java", "diffHunk": "@@ -412,6 +424,33 @@ void beanDefiningAnnotations(BuildProducer<BeanDefiningAnnotationBuildItem> bean\n                         BuiltinScope.SINGLETON.getName()));\n     }\n \n+    @BuildStep\n+    void enableMetrics(ResteasyConfig buildConfig,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0cef6ab7e81354dc5ac54fafc9e433e9ee42ca3c"}, "originalPosition": 50}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODkwMjkwOA==", "bodyText": "All other extensions that enable metrics do it in their own processor.\nThis extension has all the needed dependencies for it, Metrics extension doesn't. And it sounds odd, if it is at all possible, that Metrics extension would inject configuration of a different extension.", "url": "https://github.com/quarkusio/quarkus/pull/7186#discussion_r378902908", "createdAt": "2020-02-13T14:42:57Z", "author": {"login": "jmartisk"}, "path": "extensions/resteasy-server-common/deployment/src/main/java/io/quarkus/resteasy/server/common/deployment/ResteasyServerCommonProcessor.java", "diffHunk": "@@ -412,6 +424,33 @@ void beanDefiningAnnotations(BuildProducer<BeanDefiningAnnotationBuildItem> bean\n                         BuiltinScope.SINGLETON.getName()));\n     }\n \n+    @BuildStep\n+    void enableMetrics(ResteasyConfig buildConfig,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODg5NzEwNA=="}, "originalCommit": {"oid": "0cef6ab7e81354dc5ac54fafc9e433e9ee42ca3c"}, "originalPosition": 50}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODkwNjA2NA==", "bodyText": "I thought that those classes would be available since you added quarkus-resteasy as an optional dependency in extensions/smallrye-metrics/runtime/pom.xml, but I'll let someone more experienced review that ;)", "url": "https://github.com/quarkusio/quarkus/pull/7186#discussion_r378906064", "createdAt": "2020-02-13T14:47:47Z", "author": {"login": "gastaldi"}, "path": "extensions/resteasy-server-common/deployment/src/main/java/io/quarkus/resteasy/server/common/deployment/ResteasyServerCommonProcessor.java", "diffHunk": "@@ -412,6 +424,33 @@ void beanDefiningAnnotations(BuildProducer<BeanDefiningAnnotationBuildItem> bean\n                         BuiltinScope.SINGLETON.getName()));\n     }\n \n+    @BuildStep\n+    void enableMetrics(ResteasyConfig buildConfig,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODg5NzEwNA=="}, "originalCommit": {"oid": "0cef6ab7e81354dc5ac54fafc9e433e9ee42ca3c"}, "originalPosition": 50}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODkyMTM5Ng==", "bodyText": "That's just the runtime artifact and it's because QuarkusJaxRsMetricsFilter uses JAX-RS api to compile", "url": "https://github.com/quarkusio/quarkus/pull/7186#discussion_r378921396", "createdAt": "2020-02-13T15:11:39Z", "author": {"login": "jmartisk"}, "path": "extensions/resteasy-server-common/deployment/src/main/java/io/quarkus/resteasy/server/common/deployment/ResteasyServerCommonProcessor.java", "diffHunk": "@@ -412,6 +424,33 @@ void beanDefiningAnnotations(BuildProducer<BeanDefiningAnnotationBuildItem> bean\n                         BuiltinScope.SINGLETON.getName()));\n     }\n \n+    @BuildStep\n+    void enableMetrics(ResteasyConfig buildConfig,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODg5NzEwNA=="}, "originalCommit": {"oid": "0cef6ab7e81354dc5ac54fafc9e433e9ee42ca3c"}, "originalPosition": 50}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1008, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}