{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTMyNDM3MDAx", "number": 13696, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQxNzo1MDoyNlrOFA6Oiw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QxMjo0OTozOVrOFBw2AQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM2NDk4MzE1OnYy", "diffSide": "RIGHT", "path": "extensions/hibernate-search-orm-elasticsearch/deployment/pom.xml", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQxNzo1MDoyNlrOH_bexA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQxODoxMDowOVrOH_cNeQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjI3MjU4MA==", "bodyText": "Is this intended?", "url": "https://github.com/quarkusio/quarkus/pull/13696#discussion_r536272580", "createdAt": "2020-12-04T17:50:26Z", "author": {"login": "gastaldi"}, "path": "extensions/hibernate-search-orm-elasticsearch/deployment/pom.xml", "diffHunk": "@@ -52,6 +67,118 @@\n                     </annotationProcessorPaths>\n                 </configuration>\n             </plugin>\n+            <plugin>\n+                <artifactId>maven-surefire-plugin</artifactId>\n+                <configuration>\n+                    <skip>true</skip>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b7dd16edc6ca4e30ed51fc583118985292882cc1"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjI4NDUzNw==", "bodyText": "Yes, they need Elasticsearch so they are run if -Dtest-containers", "url": "https://github.com/quarkusio/quarkus/pull/13696#discussion_r536284537", "createdAt": "2020-12-04T18:10:09Z", "author": {"login": "gsmet"}, "path": "extensions/hibernate-search-orm-elasticsearch/deployment/pom.xml", "diffHunk": "@@ -52,6 +67,118 @@\n                     </annotationProcessorPaths>\n                 </configuration>\n             </plugin>\n+            <plugin>\n+                <artifactId>maven-surefire-plugin</artifactId>\n+                <configuration>\n+                    <skip>true</skip>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjI3MjU4MA=="}, "originalCommit": {"oid": "b7dd16edc6ca4e30ed51fc583118985292882cc1"}, "originalPosition": 29}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM2NTA2MDM5OnYy", "diffSide": "RIGHT", "path": "extensions/hibernate-search-orm-elasticsearch/deployment/src/test/resources/application.properties", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQxODowOTozOFrOH_cMUg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QwNzoyODowN1rOIAZMdg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjI4NDI0Mg==", "bodyText": "Don't you expect the configuration to be potentially different depending on the PU?\nDoesn't need to be part of this PR, just asking.", "url": "https://github.com/quarkusio/quarkus/pull/13696#discussion_r536284242", "createdAt": "2020-12-04T18:09:38Z", "author": {"login": "gsmet"}, "path": "extensions/hibernate-search-orm-elasticsearch/deployment/src/test/resources/application.properties", "diffHunk": "@@ -0,0 +1,11 @@\n+quarkus.datasource.db-kind=h2\n+quarkus.datasource.jdbc.url=jdbc:h2:mem:default;DB_CLOSE_DELAY=-1\n+\n+quarkus.hibernate-orm.dialect=org.hibernate.dialect.H2Dialect\n+quarkus.hibernate-orm.database.generation=drop-and-create\n+\n+quarkus.hibernate-search-orm.elasticsearch.version=7\n+quarkus.hibernate-search-orm.elasticsearch.hosts=${elasticsearch.hosts:localhost:9200}\n+quarkus.hibernate-search-orm.elasticsearch.protocol=${elasticsearch.protocol:http}\n+quarkus.hibernate-search-orm.schema-management.strategy=drop-and-create-and-drop\n+quarkus.hibernate-search-orm.automatic-indexing.synchronization.strategy=sync", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b7dd16edc6ca4e30ed51fc583118985292882cc1"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzI4MzcwMg==", "bodyText": "Right now you can make do by defining one backend per PU, but some settings (like this one) will have to be the same on all PUs, which is not great.\nSo yes, we'd need additional changes to fully support multiple PUs. In another PR :)", "url": "https://github.com/quarkusio/quarkus/pull/13696#discussion_r537283702", "createdAt": "2020-12-07T07:28:07Z", "author": {"login": "yrodiere"}, "path": "extensions/hibernate-search-orm-elasticsearch/deployment/src/test/resources/application.properties", "diffHunk": "@@ -0,0 +1,11 @@\n+quarkus.datasource.db-kind=h2\n+quarkus.datasource.jdbc.url=jdbc:h2:mem:default;DB_CLOSE_DELAY=-1\n+\n+quarkus.hibernate-orm.dialect=org.hibernate.dialect.H2Dialect\n+quarkus.hibernate-orm.database.generation=drop-and-create\n+\n+quarkus.hibernate-search-orm.elasticsearch.version=7\n+quarkus.hibernate-search-orm.elasticsearch.hosts=${elasticsearch.hosts:localhost:9200}\n+quarkus.hibernate-search-orm.elasticsearch.protocol=${elasticsearch.protocol:http}\n+quarkus.hibernate-search-orm.schema-management.strategy=drop-and-create-and-drop\n+quarkus.hibernate-search-orm.automatic-indexing.synchronization.strategy=sync", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjI4NDI0Mg=="}, "originalCommit": {"oid": "b7dd16edc6ca4e30ed51fc583118985292882cc1"}, "originalPosition": 11}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM3MzkxOTI1OnYy", "diffSide": "LEFT", "path": "docs/src/main/asciidoc/hibernate-search-orm-elasticsearch.adoc", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QxMjo0Njo1OFrOIAlIiw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QxMjo0Njo1OFrOIAlIiw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzQ3OTMwNw==", "bodyText": "\ud83d\udcaf", "url": "https://github.com/quarkusio/quarkus/pull/13696#discussion_r537479307", "createdAt": "2020-12-07T12:46:58Z", "author": {"login": "Sanne"}, "path": "docs/src/main/asciidoc/hibernate-search-orm-elasticsearch.adoc", "diffHunk": "@@ -14,12 +14,6 @@ We will also explore how you can can query your Elasticsearch cluster using the\n \n include::./status-include.adoc[]\n \n-[WARNING]\n-====\n-This extension is based on a beta version of Hibernate Search.\n-While APIs are quite stable and the code is of production quality and thoroughly tested, some features are still missing, performance might not be optimal and some APIs or configuration properties might change as the extension matures.\n-====\n-", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "abf99e75035bdbf430246206a36779323343cbc7"}, "originalPosition": 9}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM3MzkzMTUzOnYy", "diffSide": "RIGHT", "path": "docs/src/main/asciidoc/hibernate-search-orm-elasticsearch.adoc", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QxMjo0OTozOVrOIAlPgg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QxMzoxNDoyNlrOIAmLfw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzQ4MTA5MA==", "bodyText": "Not a blocker, but I'd prefer such a note to be fully expressed with an example.", "url": "https://github.com/quarkusio/quarkus/pull/13696#discussion_r537481090", "createdAt": "2020-12-07T12:49:39Z", "author": {"login": "Sanne"}, "path": "docs/src/main/asciidoc/hibernate-search-orm-elasticsearch.adoc", "diffHunk": "@@ -481,16 +475,26 @@ It is definitely too aggressive for person names but it is perfect for the book\n \n == Adding full text capabilities to our REST service\n \n-In our existing `LibraryResource`, we just need to inject the following methods (and add a few ``import``s):\n+In our existing `LibraryResource`, we just need to inject the `SearchSession`:\n+\n+[source,java]\n+----\n+    @Inject\n+    SearchSession searchSession; // <1>\n+----\n+<1> Inject a Hibernate Search session, which relies on the `EntityManager` under the hood.\n+Applications with multiple persistence units can use a CDI qualifier to select the right one:\n+either `@Named` or `@io.quarkus.hibernate.orm.PersistenceUnit`.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "abf99e75035bdbf430246206a36779323343cbc7"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzQ5NjQ0Nw==", "bodyText": "Ok, I'll add an example in the next PR that adds first-class support for multiple PUs.", "url": "https://github.com/quarkusio/quarkus/pull/13696#discussion_r537496447", "createdAt": "2020-12-07T13:14:26Z", "author": {"login": "yrodiere"}, "path": "docs/src/main/asciidoc/hibernate-search-orm-elasticsearch.adoc", "diffHunk": "@@ -481,16 +475,26 @@ It is definitely too aggressive for person names but it is perfect for the book\n \n == Adding full text capabilities to our REST service\n \n-In our existing `LibraryResource`, we just need to inject the following methods (and add a few ``import``s):\n+In our existing `LibraryResource`, we just need to inject the `SearchSession`:\n+\n+[source,java]\n+----\n+    @Inject\n+    SearchSession searchSession; // <1>\n+----\n+<1> Inject a Hibernate Search session, which relies on the `EntityManager` under the hood.\n+Applications with multiple persistence units can use a CDI qualifier to select the right one:\n+either `@Named` or `@io.quarkus.hibernate.orm.PersistenceUnit`.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzQ4MTA5MA=="}, "originalCommit": {"oid": "abf99e75035bdbf430246206a36779323343cbc7"}, "originalPosition": 27}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3783, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}