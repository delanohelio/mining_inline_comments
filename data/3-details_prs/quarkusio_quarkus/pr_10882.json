{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU0MzU2OTUx", "number": 10882, "title": "Enabling dev mode for jandex plugin", "bodyText": "Making dev mode work with jandex plugin", "createdAt": "2020-07-21T10:21:42Z", "url": "https://github.com/quarkusio/quarkus/pull/10882", "merged": true, "mergeCommit": {"oid": "b89762ad91b2991259d61883c7b266ab351f2a38"}, "closed": true, "closedAt": "2020-07-28T20:55:31Z", "author": {"login": "Garima829"}, "timelineItems": {"totalCount": 15, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc3qc8wgFqTQ1Mzg5NzI0MA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABc5c1StgFqTQ1NzAwNTAzNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUzODk3MjQw", "url": "https://github.com/quarkusio/quarkus/pull/10882#pullrequestreview-453897240", "createdAt": "2020-07-23T07:39:33Z", "commit": {"oid": "72f56a3cae1e8650e9ba13939a26e26bf8732e24"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QwNzozOTozM1rOG1_aAg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QwNzozOTozM1rOG1_aAg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTI2NjU2Mg==", "bodyText": "Can you remove this file please? It's not needed", "url": "https://github.com/quarkusio/quarkus/pull/10882#discussion_r459266562", "createdAt": "2020-07-23T07:39:33Z", "author": {"login": "geoand"}, "path": "integration-tests/gradle/src/test/resources/jandex-basic-multi-module-project/application/src/main/resources/META-INF/resources/index.html", "diffHunk": "@@ -0,0 +1,155 @@\n+<!DOCTYPE html>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "72f56a3cae1e8650e9ba13939a26e26bf8732e24"}, "originalPosition": 1}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUzODk3NTM5", "url": "https://github.com/quarkusio/quarkus/pull/10882#pullrequestreview-453897539", "createdAt": "2020-07-23T07:40:04Z", "commit": {"oid": "72f56a3cae1e8650e9ba13939a26e26bf8732e24"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QwNzo0MDowNFrOG1_a6w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QwNzo0MDowNFrOG1_a6w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTI2Njc5NQ==", "bodyText": "I assume this comment can go away :)", "url": "https://github.com/quarkusio/quarkus/pull/10882#discussion_r459266795", "createdAt": "2020-07-23T07:40:04Z", "author": {"login": "geoand"}, "path": "integration-tests/gradle/src/test/resources/jandex-basic-multi-module-project/settings.gradle", "diffHunk": "@@ -0,0 +1,18 @@\n+pluginManagement {\n+    repositories {\n+        jcenter()\n+        mavenLocal()\n+        mavenCentral()\n+        gradlePluginPortal()\n+    }\n+    //noinspection GroovyAssignabilityCheck", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "72f56a3cae1e8650e9ba13939a26e26bf8732e24"}, "originalPosition": 8}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUzODk3OTk2", "url": "https://github.com/quarkusio/quarkus/pull/10882#pullrequestreview-453897996", "createdAt": "2020-07-23T07:40:53Z", "commit": {"oid": "72f56a3cae1e8650e9ba13939a26e26bf8732e24"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QwNzo0MDo1M1rOG1_cdQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QwNzo0MDo1M1rOG1_cdQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTI2NzE4OQ==", "bodyText": "I assume this change along with the one AppModelGradleResolver have been vetted by @aloubyansky ?", "url": "https://github.com/quarkusio/quarkus/pull/10882#discussion_r459267189", "createdAt": "2020-07-23T07:40:53Z", "author": {"login": "geoand"}, "path": "core/deployment/src/main/java/io/quarkus/deployment/index/ApplicationArchiveBuildStep.java", "diffHunk": "@@ -247,18 +247,6 @@ private static boolean containsMarker(Path dir, Set<String> applicationArchiveFi\n     }\n \n     private static Index handleFilePath(Path path) throws IOException {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "72f56a3cae1e8650e9ba13939a26e26bf8732e24"}, "originalPosition": 3}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "72f56a3cae1e8650e9ba13939a26e26bf8732e24", "author": {"user": null}, "url": "https://github.com/quarkusio/quarkus/commit/72f56a3cae1e8650e9ba13939a26e26bf8732e24", "committedDate": "2020-07-21T10:14:50Z", "message": "Enabling dev mode for jandex plugin"}, "afterCommit": {"oid": "8ae405c1539c27a0e794dfeb9a9a595a21153ef2", "author": {"user": null}, "url": "https://github.com/quarkusio/quarkus/commit/8ae405c1539c27a0e794dfeb9a9a595a21153ef2", "committedDate": "2020-07-23T09:33:34Z", "message": "Enabling dev mode for jandex plugin"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU0MDI0NzY1", "url": "https://github.com/quarkusio/quarkus/pull/10882#pullrequestreview-454024765", "createdAt": "2020-07-23T10:57:34Z", "commit": {"oid": "8ae405c1539c27a0e794dfeb9a9a595a21153ef2"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QxMDo1NzozNFrOG2Fnfg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QxMDo1NzozNFrOG2Fnfg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTM2ODMxOA==", "bodyText": "\"jandex\" should not be replacing \"processResources\" here. There should be an additional if block for \"jandex\".", "url": "https://github.com/quarkusio/quarkus/pull/10882#discussion_r459368318", "createdAt": "2020-07-23T10:57:34Z", "author": {"login": "aloubyansky"}, "path": "devtools/gradle/src/main/java/io/quarkus/gradle/QuarkusPlugin.java", "diffHunk": "@@ -249,7 +249,7 @@ private void setupQuarkusBuildTaskDeps(Project project, Project dep, Set<String>\n \n         final Task quarkusDev = project.getTasks().findByName(QUARKUS_DEV_TASK_NAME);\n         if (quarkusDev != null) {\n-            final Task resourcesTask = dep.getTasks().findByName(JavaPlugin.PROCESS_RESOURCES_TASK_NAME);\n+            final Task resourcesTask = dep.getTasks().findByName(\"jandex\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8ae405c1539c27a0e794dfeb9a9a595a21153ef2"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU0MDI1OTU1", "url": "https://github.com/quarkusio/quarkus/pull/10882#pullrequestreview-454025955", "createdAt": "2020-07-23T10:59:34Z", "commit": {"oid": "8ae405c1539c27a0e794dfeb9a9a595a21153ef2"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QxMDo1OTozNVrOG2FrJQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QxMDo1OTozNVrOG2FrJQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTM2OTI1Mw==", "bodyText": "The last two lines should be removed from this file. These versions will be injected as part of the test setup. We can't be mentioning any version in here otherwise the release process (changing the versions) will fail.", "url": "https://github.com/quarkusio/quarkus/pull/10882#discussion_r459369253", "createdAt": "2020-07-23T10:59:35Z", "author": {"login": "aloubyansky"}, "path": "integration-tests/gradle/src/test/resources/jandex-basic-multi-module-project/gradle.properties", "diffHunk": "@@ -0,0 +1,4 @@\n+quarkusPlatformArtifactId=quarkus-bom\n+quarkusPlatformGroupId=io.quarkus\n+quarkusPlatformVersion=999-SNAPSHOT\n+quarkusPluginVersion=999-SNAPSHOT", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8ae405c1539c27a0e794dfeb9a9a595a21153ef2"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU0MDI3MjU0", "url": "https://github.com/quarkusio/quarkus/pull/10882#pullrequestreview-454027254", "createdAt": "2020-07-23T11:01:52Z", "commit": {"oid": "8ae405c1539c27a0e794dfeb9a9a595a21153ef2"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8ae405c1539c27a0e794dfeb9a9a595a21153ef2", "author": {"user": null}, "url": "https://github.com/quarkusio/quarkus/commit/8ae405c1539c27a0e794dfeb9a9a595a21153ef2", "committedDate": "2020-07-23T09:33:34Z", "message": "Enabling dev mode for jandex plugin"}, "afterCommit": {"oid": "e99396eb1e45e40d7ed6530611f11dd817e66301", "author": {"user": null}, "url": "https://github.com/quarkusio/quarkus/commit/e99396eb1e45e40d7ed6530611f11dd817e66301", "committedDate": "2020-07-23T18:23:55Z", "message": "Enabling dev mode for Jandex plugin"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU0NDgyMzMw", "url": "https://github.com/quarkusio/quarkus/pull/10882#pullrequestreview-454482330", "createdAt": "2020-07-23T20:45:38Z", "commit": {"oid": "e99396eb1e45e40d7ed6530611f11dd817e66301"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU0NjI0Nzk0", "url": "https://github.com/quarkusio/quarkus/pull/10882#pullrequestreview-454624794", "createdAt": "2020-07-24T04:09:08Z", "commit": {"oid": "e99396eb1e45e40d7ed6530611f11dd817e66301"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU0OTQxMTY0", "url": "https://github.com/quarkusio/quarkus/pull/10882#pullrequestreview-454941164", "createdAt": "2020-07-24T14:38:17Z", "commit": {"oid": "e99396eb1e45e40d7ed6530611f11dd817e66301"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNFQxNDozODoxN1rOG2x7HA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNFQxNDozODoxN1rOG2x7HA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDA5NDIzNg==", "bodyText": "This one is checking the content of the index.html. Which you can remove given that you removed the index.xml.", "url": "https://github.com/quarkusio/quarkus/pull/10882#discussion_r460094236", "createdAt": "2020-07-24T14:38:17Z", "author": {"login": "aloubyansky"}, "path": "integration-tests/gradle/src/test/java/io/quarkus/gradle/devmode/JandexMultiModuleProjectDevModeTest.java", "diffHunk": "@@ -0,0 +1,34 @@\n+package io.quarkus.gradle.devmode;\n+\n+import static org.assertj.core.api.Assertions.assertThat;\n+\n+import com.google.common.collect.ImmutableMap;\n+\n+public class JandexMultiModuleProjectDevModeTest extends QuarkusDevGradleTestBase {\n+\n+    @Override\n+    protected String projectDirectoryName() {\n+        return \"jandex-basic-multi-module-project\";\n+    }\n+\n+    @Override\n+    protected String[] buildArguments() {\n+        return new String[] { \"clean\", \":application:quarkusDev\", \"-s\" };\n+    }\n+\n+    protected void testDevMode() throws Exception {\n+\n+        assertThat(getHttpResponse())\n+                .contains(\"ready\")\n+                .contains(\"my-quarkus-project\")\n+                .contains(\"org.acme.quarkus.sample\")\n+                .contains(\"1.0-SNAPSHOT\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e99396eb1e45e40d7ed6530611f11dd817e66301"}, "originalPosition": 25}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU1MDM3NzU2", "url": "https://github.com/quarkusio/quarkus/pull/10882#pullrequestreview-455037756", "createdAt": "2020-07-24T16:49:02Z", "commit": {"oid": "e99396eb1e45e40d7ed6530611f11dd817e66301"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNFQxNjo0OTowMlrOG22l8w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNFQxNjo0OTowMlrOG22l8w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDE3MDczOQ==", "bodyText": "This change should now move to https://github.com/quarkusio/quarkus/blob/master/devtools/gradle/src/main/java/io/quarkus/gradle/builder/QuarkusModelBuilder.java#L285", "url": "https://github.com/quarkusio/quarkus/pull/10882#discussion_r460170739", "createdAt": "2020-07-24T16:49:02Z", "author": {"login": "aloubyansky"}, "path": "devtools/gradle/src/main/java/io/quarkus/gradle/AppModelGradleResolver.java", "diffHunk": "@@ -273,6 +273,13 @@ private void collectDependencies(Configuration config, AppModel.Builder appBuild\n                             paths.add(resourcesDir.toPath());\n                         }\n                     }\n+\n+                    for (File outputDir : depProject.getTasks().findByName(JavaPlugin.PROCESS_RESOURCES_TASK_NAME)\n+                            .getOutputs().getFiles()) {\n+                        if (outputDir.exists()) {\n+                            paths.add(outputDir.toPath());\n+                        }\n+                    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e99396eb1e45e40d7ed6530611f11dd817e66301"}, "originalPosition": 10}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6d13e1c1f442cb5a1a04a59d09c932f2f5bc3e93", "author": {"user": null}, "url": "https://github.com/quarkusio/quarkus/commit/6d13e1c1f442cb5a1a04a59d09c932f2f5bc3e93", "committedDate": "2020-07-25T09:01:54Z", "message": "Enabling dev mode for Jandex plugin, rebased PR"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e99396eb1e45e40d7ed6530611f11dd817e66301", "author": {"user": null}, "url": "https://github.com/quarkusio/quarkus/commit/e99396eb1e45e40d7ed6530611f11dd817e66301", "committedDate": "2020-07-23T18:23:55Z", "message": "Enabling dev mode for Jandex plugin"}, "afterCommit": {"oid": "6d13e1c1f442cb5a1a04a59d09c932f2f5bc3e93", "author": {"user": null}, "url": "https://github.com/quarkusio/quarkus/commit/6d13e1c1f442cb5a1a04a59d09c932f2f5bc3e93", "committedDate": "2020-07-25T09:01:54Z", "message": "Enabling dev mode for Jandex plugin, rebased PR"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU3MDA1MDM3", "url": "https://github.com/quarkusio/quarkus/pull/10882#pullrequestreview-457005037", "createdAt": "2020-07-28T20:55:19Z", "commit": {"oid": "6d13e1c1f442cb5a1a04a59d09c932f2f5bc3e93"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1084, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}