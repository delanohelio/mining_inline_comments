{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkzMTkzMzE2", "number": 8120, "title": "Add quarkus.oidc.proxy config", "bodyText": "One addition to oidc extension: ability to use a proxy for talking with OIDC provider.\nThe following configuration items were added and can be used for this purpose:\n\nquarkus.oidc.proxy.host\nquarkus.oidc.proxy.port\nquarkus.oidc.proxy.username\nquarkus.oidc.proxy.password\nquarkus.oidc.proxy.type (update: ignored for now)\n\nThis refers to issue 8088.\nWaiting for Quarkus team review and feedback.\nThanks.", "createdAt": "2020-03-24T18:44:00Z", "url": "https://github.com/quarkusio/quarkus/pull/8120", "merged": true, "mergeCommit": {"oid": "19e0122a9519fcb9e98a31fc95476bcc7613a1d4"}, "closed": true, "closedAt": "2020-03-25T17:37:15Z", "author": {"login": "dxps"}, "timelineItems": {"totalCount": 20, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcQ3rD6gFqTM4MDYxMTg1MQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcRJ0cCgBqjMxNjQ2NzMxMjk=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgwNjExODUx", "url": "https://github.com/quarkusio/quarkus/pull/8120#pullrequestreview-380611851", "createdAt": "2020-03-24T19:00:40Z", "commit": {"oid": "4d76e6003ad8f492de395a8568628048b58431eb"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNFQxOTowMDo0MFrOF6-44A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNFQxOTowMDo0MFrOF6-44A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzM5MjA5Ng==", "bodyText": "Please drop type for now, we can add later if someone will prefer non-HTTP", "url": "https://github.com/quarkusio/quarkus/pull/8120#discussion_r397392096", "createdAt": "2020-03-24T19:00:40Z", "author": {"login": "sberyozkin"}, "path": "extensions/oidc/runtime/src/main/java/io/quarkus/oidc/runtime/OidcTenantConfig.java", "diffHunk": "@@ -467,6 +483,59 @@ public void setPrincipalClaim(String principalClaim) {\n         }\n     }\n \n+    @ConfigGroup\n+    public static class Proxy {\n+\n+        /**\n+         * The host (name or IP address) of the Proxy.<br/>\n+         * Note: If OIDC adapter needs to use a Proxy to talk with OIDC server (Provider),\n+         * then at least both \"host\" and \"port\" items must be configured to enable the usage of a Proxy.\n+         */\n+        @ConfigItem\n+        public Optional<String> host = Optional.empty();\n+\n+        /**\n+         * The port number of the Proxy.\n+         */\n+        @ConfigItem\n+        public Optional<Integer> port = Optional.empty();\n+\n+        /**\n+         * The username, if Proxy needs authentication.\n+         */\n+        @ConfigItem\n+        public Optional<String> username = Optional.empty();\n+\n+        /**\n+         * The password, if Proxy needs authentication.\n+         */\n+        @ConfigItem\n+        public Optional<String> password = Optional.empty();\n+\n+        /**\n+         * The proxy type. Default value is \"HTTP\".<br/>\n+         * Allowed values (as defined in {@link io.vertx.core.net.ProxyType}) are: \"HTTP\", \"SOCKS4\", and \"SOCKS5\".\n+         */\n+        @ConfigItem(defaultValue = \"HTTP\")\n+        public Optional<String> type = Optional.empty();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4d76e6003ad8f492de395a8568628048b58431eb"}, "originalPosition": 75}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgwNjE1ODY1", "url": "https://github.com/quarkusio/quarkus/pull/8120#pullrequestreview-380615865", "createdAt": "2020-03-24T19:06:17Z", "commit": {"oid": "4d76e6003ad8f492de395a8568628048b58431eb"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNFQxOTowNjoxN1rOF6_FEQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNFQxOTowNjoxN1rOF6_FEQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzM5NTIxNw==", "bodyText": "Please move this to the internal OidcRecorder helper, we don't really put Vertx dependencies in OidcTenantConfig; instead please add getters/setters (as is done elsewhere), setters would help to TenantConfigResolver multi-tenancy implementations which create OidcTenantConfig :-)", "url": "https://github.com/quarkusio/quarkus/pull/8120#discussion_r397395217", "createdAt": "2020-03-24T19:06:17Z", "author": {"login": "sberyozkin"}, "path": "extensions/oidc/runtime/src/main/java/io/quarkus/oidc/runtime/OidcTenantConfig.java", "diffHunk": "@@ -467,6 +483,59 @@ public void setPrincipalClaim(String principalClaim) {\n         }\n     }\n \n+    @ConfigGroup\n+    public static class Proxy {\n+\n+        /**\n+         * The host (name or IP address) of the Proxy.<br/>\n+         * Note: If OIDC adapter needs to use a Proxy to talk with OIDC server (Provider),\n+         * then at least both \"host\" and \"port\" items must be configured to enable the usage of a Proxy.\n+         */\n+        @ConfigItem\n+        public Optional<String> host = Optional.empty();\n+\n+        /**\n+         * The port number of the Proxy.\n+         */\n+        @ConfigItem\n+        public Optional<Integer> port = Optional.empty();\n+\n+        /**\n+         * The username, if Proxy needs authentication.\n+         */\n+        @ConfigItem\n+        public Optional<String> username = Optional.empty();\n+\n+        /**\n+         * The password, if Proxy needs authentication.\n+         */\n+        @ConfigItem\n+        public Optional<String> password = Optional.empty();\n+\n+        /**\n+         * The proxy type. Default value is \"HTTP\".<br/>\n+         * Allowed values (as defined in {@link io.vertx.core.net.ProxyType}) are: \"HTTP\", \"SOCKS4\", and \"SOCKS5\".\n+         */\n+        @ConfigItem(defaultValue = \"HTTP\")\n+        public Optional<String> type = Optional.empty();\n+\n+        /**\n+         * Get this proxy config as {@link ProxyOptions}\n+         * \n+         * @return a ProxyOptions objects built based on the included config items\n+         */\n+        ProxyOptions asProxyOptions() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4d76e6003ad8f492de395a8568628048b58431eb"}, "originalPosition": 82}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgwNjE5Nzc1", "url": "https://github.com/quarkusio/quarkus/pull/8120#pullrequestreview-380619775", "createdAt": "2020-03-24T19:11:47Z", "commit": {"oid": "4d76e6003ad8f492de395a8568628048b58431eb"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNFQxOToxMTo0N1rOF6_ROg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNFQxOToxMTo0N1rOF6_ROg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzM5ODMzMA==", "bodyText": "Yes, it would help to have optional configuration groups :-). But we can simplify a bit and ignore everything unless proxy.host is set, and only check the port inside of that condition\n        if (proxy.host.isPresent()) {\n           if (!proxy.port.isPresent()) {\n               throw new ConfigurationException(\"Both 'proxy.host' and 'proxy.port' must be configured to enable the proxy usage.\");\n        }\n        options.setProxyOptions(proxy.asProxyOptions());\n   } \n\nHow does it look :-) ?", "url": "https://github.com/quarkusio/quarkus/pull/8120#discussion_r397398330", "createdAt": "2020-03-24T19:11:47Z", "author": {"login": "sberyozkin"}, "path": "extensions/oidc/runtime/src/main/java/io/quarkus/oidc/runtime/OidcRecorder.java", "diffHunk": "@@ -132,6 +132,15 @@ private TenantConfigContext createTenantContext(Vertx vertx, OidcTenantConfig oi\n             options.setClientSecretParameterName(null);\n         }\n \n+        // Proxy config\n+        OidcTenantConfig.Proxy proxy = oidcConfig.getProxy();\n+        if (proxy.host.isPresent() && proxy.port.isPresent()) {\n+            options.setProxyOptions(proxy.asProxyOptions());\n+        } else if (proxy.host.isPresent() || proxy.port.isPresent()) {\n+            throw new ConfigurationException(\n+                    \"Both 'proxy.host' and 'proxy.port' must be configured to enable the proxy usage.\");\n+        }\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4d76e6003ad8f492de395a8568628048b58431eb"}, "originalPosition": 12}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgwNzQyMjcx", "url": "https://github.com/quarkusio/quarkus/pull/8120#pullrequestreview-380742271", "createdAt": "2020-03-24T22:28:39Z", "commit": {"oid": "c7e81cc2ef4e28b81d620d8f2cddc65e622fbfb9"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNFQyMjoyODozOVrOF7FfPg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNFQyMjoyODozOVrOF7FfPg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzUwMDIyMg==", "bodyText": "This also requires { and } per the checkstyle rules AFAIK.", "url": "https://github.com/quarkusio/quarkus/pull/8120#discussion_r397500222", "createdAt": "2020-03-24T22:28:39Z", "author": {"login": "sberyozkin"}, "path": "extensions/oidc/runtime/src/main/java/io/quarkus/oidc/runtime/OidcRecorder.java", "diffHunk": "@@ -132,6 +134,14 @@ private TenantConfigContext createTenantContext(Vertx vertx, OidcTenantConfig oi\n             options.setClientSecretParameterName(null);\n         }\n \n+        OidcTenantConfig.Proxy proxyConfig = oidcConfig.getProxy();\n+        if (proxyConfig.host.isPresent()) {\n+            if (!proxyConfig.port.isPresent())", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c7e81cc2ef4e28b81d620d8f2cddc65e622fbfb9"}, "originalPosition": 15}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgwODM0Nzgx", "url": "https://github.com/quarkusio/quarkus/pull/8120#pullrequestreview-380834781", "createdAt": "2020-03-25T03:16:59Z", "commit": {"oid": "c7e81cc2ef4e28b81d620d8f2cddc65e622fbfb9"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNVQwMzoxNjo1OVrOF7Kygw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNVQwMzoxNjo1OVrOF7Kygw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzU4NzA3NQ==", "bodyText": "Use OptionalInt instead", "url": "https://github.com/quarkusio/quarkus/pull/8120#discussion_r397587075", "createdAt": "2020-03-25T03:16:59Z", "author": {"login": "gastaldi"}, "path": "extensions/oidc/runtime/src/main/java/io/quarkus/oidc/runtime/OidcTenantConfig.java", "diffHunk": "@@ -467,6 +480,37 @@ public void setPrincipalClaim(String principalClaim) {\n         }\n     }\n \n+    @ConfigGroup\n+    public static class Proxy {\n+\n+        /**\n+         * The host (name or IP address) of the Proxy.<br/>\n+         * Note: If OIDC adapter needs to use a Proxy to talk with OIDC server (Provider),\n+         * then at least both \"host\" and \"port\" items must be configured to enable the usage of a Proxy.\n+         */\n+        @ConfigItem\n+        public Optional<String> host = Optional.empty();\n+\n+        /**\n+         * The port number of the Proxy.\n+         */\n+        @ConfigItem\n+        public Optional<Integer> port = Optional.empty();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c7e81cc2ef4e28b81d620d8f2cddc65e622fbfb9"}, "originalPosition": 46}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7bd30ed9416dad8f83e0274c64ba3e11e7963dda", "author": {"user": {"login": "dxps", "name": "Marius Ileana"}}, "url": "https://github.com/quarkusio/quarkus/commit/7bd30ed9416dad8f83e0274c64ba3e11e7963dda", "committedDate": "2020-03-25T12:07:54Z", "message": "Merge branch '8088-oidc-proxy' of https://github.com/devisions/quarkus into 8088-oidc-proxy"}, "afterCommit": {"oid": "5b0ee2c57315f1f28704fd6ee59a8d240348e478", "author": {"user": {"login": "dxps", "name": "Marius Ileana"}}, "url": "https://github.com/quarkusio/quarkus/commit/5b0ee2c57315f1f28704fd6ee59a8d240348e478", "committedDate": "2020-03-25T12:12:27Z", "message": "commits for OIDC proxy (issue 8088)"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5b0ee2c57315f1f28704fd6ee59a8d240348e478", "author": {"user": {"login": "dxps", "name": "Marius Ileana"}}, "url": "https://github.com/quarkusio/quarkus/commit/5b0ee2c57315f1f28704fd6ee59a8d240348e478", "committedDate": "2020-03-25T12:12:27Z", "message": "commits for OIDC proxy (issue 8088)"}, "afterCommit": {"oid": "fb8f3ef28e201af106b3521078bd8d8b0c0e88dc", "author": {"user": {"login": "dxps", "name": "Marius Ileana"}}, "url": "https://github.com/quarkusio/quarkus/commit/fb8f3ef28e201af106b3521078bd8d8b0c0e88dc", "committedDate": "2020-03-25T12:26:21Z", "message": "OIDC adapter proxy options"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "fb8f3ef28e201af106b3521078bd8d8b0c0e88dc", "author": {"user": {"login": "dxps", "name": "Marius Ileana"}}, "url": "https://github.com/quarkusio/quarkus/commit/fb8f3ef28e201af106b3521078bd8d8b0c0e88dc", "committedDate": "2020-03-25T12:26:21Z", "message": "OIDC adapter proxy options"}, "afterCommit": {"oid": "23b75d0ffd7a776e819f87abf6609faf093bf0df", "author": {"user": {"login": "dxps", "name": "Marius Ileana"}}, "url": "https://github.com/quarkusio/quarkus/commit/23b75d0ffd7a776e819f87abf6609faf093bf0df", "committedDate": "2020-03-25T13:23:31Z", "message": "OIDC adapter using proxy"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgxMTQxNzky", "url": "https://github.com/quarkusio/quarkus/pull/8120#pullrequestreview-381141792", "createdAt": "2020-03-25T13:24:48Z", "commit": {"oid": "23b75d0ffd7a776e819f87abf6609faf093bf0df"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNVQxMzoyNDo0OFrOF7az2Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNVQxMzoyNDo0OFrOF7az2Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzg0OTU2MQ==", "bodyText": "You can set the defaultValue of 80 here instead", "url": "https://github.com/quarkusio/quarkus/pull/8120#discussion_r397849561", "createdAt": "2020-03-25T13:24:48Z", "author": {"login": "gastaldi"}, "path": "extensions/oidc/runtime/src/main/java/io/quarkus/oidc/runtime/OidcTenantConfig.java", "diffHunk": "@@ -467,6 +477,37 @@ public void setPrincipalClaim(String principalClaim) {\n         }\n     }\n \n+    @ConfigGroup\n+    public static class Proxy {\n+\n+        /**\n+         * The host (name or IP address) of the Proxy.<br/>\n+         * Note: If OIDC adapter needs to use a Proxy to talk with OIDC server (Provider),\n+         * then at least both \"host\" and \"port\" items must be configured to enable the usage of a Proxy.\n+         */\n+        @ConfigItem\n+        public Optional<String> host = Optional.empty();\n+\n+        /**\n+         * The port number of the Proxy.\n+         */\n+        @ConfigItem", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "23b75d0ffd7a776e819f87abf6609faf093bf0df"}, "originalPosition": 57}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "23b75d0ffd7a776e819f87abf6609faf093bf0df", "author": {"user": {"login": "dxps", "name": "Marius Ileana"}}, "url": "https://github.com/quarkusio/quarkus/commit/23b75d0ffd7a776e819f87abf6609faf093bf0df", "committedDate": "2020-03-25T13:23:31Z", "message": "OIDC adapter using proxy"}, "afterCommit": {"oid": "1cc1309418280077e2309927ef742f098f64c9cd", "author": {"user": {"login": "dxps", "name": "Marius Ileana"}}, "url": "https://github.com/quarkusio/quarkus/commit/1cc1309418280077e2309927ef742f098f64c9cd", "committedDate": "2020-03-25T13:30:57Z", "message": "OIDC adapter using proxy"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgxMTQ5NzYy", "url": "https://github.com/quarkusio/quarkus/pull/8120#pullrequestreview-381149762", "createdAt": "2020-03-25T13:33:58Z", "commit": {"oid": "1cc1309418280077e2309927ef742f098f64c9cd"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNVQxMzozMzo1OFrOF7bNlw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNVQxMzozMzo1OFrOF7bNlw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzg1NjE1MQ==", "bodyText": "Not being picky here, but you can also use OptionalInt.of(80) for cases where config injection is not available \ud83d\ude09", "url": "https://github.com/quarkusio/quarkus/pull/8120#discussion_r397856151", "createdAt": "2020-03-25T13:33:58Z", "author": {"login": "gastaldi"}, "path": "extensions/oidc/runtime/src/main/java/io/quarkus/oidc/runtime/OidcTenantConfig.java", "diffHunk": "@@ -467,6 +477,37 @@ public void setPrincipalClaim(String principalClaim) {\n         }\n     }\n \n+    @ConfigGroup\n+    public static class Proxy {\n+\n+        /**\n+         * The host (name or IP address) of the Proxy.<br/>\n+         * Note: If OIDC adapter needs to use a Proxy to talk with OIDC server (Provider),\n+         * then at least both \"host\" and \"port\" items must be configured to enable the usage of a Proxy.\n+         */\n+        @ConfigItem\n+        public Optional<String> host = Optional.empty();\n+\n+        /**\n+         * The port number of the Proxy.\n+         */\n+        @ConfigItem(defaultValue = \"80\")\n+        public OptionalInt port = OptionalInt.empty();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1cc1309418280077e2309927ef742f098f64c9cd"}, "originalPosition": 58}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgxMTUxNTk4", "url": "https://github.com/quarkusio/quarkus/pull/8120#pullrequestreview-381151598", "createdAt": "2020-03-25T13:36:04Z", "commit": {"oid": "1cc1309418280077e2309927ef742f098f64c9cd"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNVQxMzozNjowNFrOF7bTLg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNVQxMzozNjowNFrOF7bTLg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzg1NzU4Mg==", "bodyText": "port is no longer required now as it assumes 80 as the default value", "url": "https://github.com/quarkusio/quarkus/pull/8120#discussion_r397857582", "createdAt": "2020-03-25T13:36:04Z", "author": {"login": "gastaldi"}, "path": "extensions/oidc/runtime/src/main/java/io/quarkus/oidc/runtime/OidcTenantConfig.java", "diffHunk": "@@ -467,6 +477,37 @@ public void setPrincipalClaim(String principalClaim) {\n         }\n     }\n \n+    @ConfigGroup\n+    public static class Proxy {\n+\n+        /**\n+         * The host (name or IP address) of the Proxy.<br/>\n+         * Note: If OIDC adapter needs to use a Proxy to talk with OIDC server (Provider),\n+         * then at least both \"host\" and \"port\" items must be configured to enable the usage of a Proxy.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1cc1309418280077e2309927ef742f098f64c9cd"}, "originalPosition": 49}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1cc1309418280077e2309927ef742f098f64c9cd", "author": {"user": {"login": "dxps", "name": "Marius Ileana"}}, "url": "https://github.com/quarkusio/quarkus/commit/1cc1309418280077e2309927ef742f098f64c9cd", "committedDate": "2020-03-25T13:30:57Z", "message": "OIDC adapter using proxy"}, "afterCommit": {"oid": "a32122c7a095e132bfd8bd69dd86597a588dd891", "author": {"user": {"login": "dxps", "name": "Marius Ileana"}}, "url": "https://github.com/quarkusio/quarkus/commit/a32122c7a095e132bfd8bd69dd86597a588dd891", "committedDate": "2020-03-25T13:37:15Z", "message": "OIDC adapter using proxy"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgxMTU0NjA1", "url": "https://github.com/quarkusio/quarkus/pull/8120#pullrequestreview-381154605", "createdAt": "2020-03-25T13:39:30Z", "commit": {"oid": "a32122c7a095e132bfd8bd69dd86597a588dd891"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNVQxMzozOTozMFrOF7bcmw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNVQxMzozOTozMFrOF7bcmw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzg1OTk5NQ==", "bodyText": "Ah sorry, I didn't mean to remove the defaultValue from @configitem. I was just suggesting to make it non-injection-environments friendly :)", "url": "https://github.com/quarkusio/quarkus/pull/8120#discussion_r397859995", "createdAt": "2020-03-25T13:39:30Z", "author": {"login": "gastaldi"}, "path": "extensions/oidc/runtime/src/main/java/io/quarkus/oidc/runtime/OidcTenantConfig.java", "diffHunk": "@@ -467,6 +477,37 @@ public void setPrincipalClaim(String principalClaim) {\n         }\n     }\n \n+    @ConfigGroup\n+    public static class Proxy {\n+\n+        /**\n+         * The host (name or IP address) of the Proxy.<br/>\n+         * Note: If OIDC adapter needs to use a Proxy to talk with OIDC server (Provider),\n+         * then at least both \"host\" and \"port\" items must be configured to enable the usage of a Proxy.\n+         */\n+        @ConfigItem\n+        public Optional<String> host = Optional.empty();\n+\n+        /**\n+         * The port number of the Proxy.\n+         */\n+        @ConfigItem\n+        public OptionalInt port = OptionalInt.of(80);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a32122c7a095e132bfd8bd69dd86597a588dd891"}, "originalPosition": 58}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a32122c7a095e132bfd8bd69dd86597a588dd891", "author": {"user": {"login": "dxps", "name": "Marius Ileana"}}, "url": "https://github.com/quarkusio/quarkus/commit/a32122c7a095e132bfd8bd69dd86597a588dd891", "committedDate": "2020-03-25T13:37:15Z", "message": "OIDC adapter using proxy"}, "afterCommit": {"oid": "73406e1040c8e25008c24e1cedd1cd6f2d336619", "author": {"user": {"login": "dxps", "name": "Marius Ileana"}}, "url": "https://github.com/quarkusio/quarkus/commit/73406e1040c8e25008c24e1cedd1cd6f2d336619", "committedDate": "2020-03-25T13:39:43Z", "message": "OIDC adapter using proxy"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgxMTU1OTMw", "url": "https://github.com/quarkusio/quarkus/pull/8120#pullrequestreview-381155930", "createdAt": "2020-03-25T13:40:59Z", "commit": {"oid": "73406e1040c8e25008c24e1cedd1cd6f2d336619"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNVQxMzo0MDo1OVrOF7bhDg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNVQxMzo0MDo1OVrOF7bhDg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzg2MTEzNA==", "bodyText": "Also we don't use star imports. Can you double-check if your IDE is using the Quarkus formatter?", "url": "https://github.com/quarkusio/quarkus/pull/8120#discussion_r397861134", "createdAt": "2020-03-25T13:40:59Z", "author": {"login": "gastaldi"}, "path": "extensions/oidc/runtime/src/main/java/io/quarkus/oidc/runtime/OidcTenantConfig.java", "diffHunk": "@@ -1,10 +1,7 @@\n package io.quarkus.oidc.runtime;\n \n import java.time.Duration;\n-import java.util.Arrays;\n-import java.util.List;\n-import java.util.Map;\n-import java.util.Optional;\n+import java.util.*;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "73406e1040c8e25008c24e1cedd1cd6f2d336619"}, "originalPosition": 8}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "73406e1040c8e25008c24e1cedd1cd6f2d336619", "author": {"user": {"login": "dxps", "name": "Marius Ileana"}}, "url": "https://github.com/quarkusio/quarkus/commit/73406e1040c8e25008c24e1cedd1cd6f2d336619", "committedDate": "2020-03-25T13:39:43Z", "message": "OIDC adapter using proxy"}, "afterCommit": {"oid": "500aa21911928c684d2e4df41a61e6b1a1fdd393", "author": {"user": {"login": "dxps", "name": "Marius Ileana"}}, "url": "https://github.com/quarkusio/quarkus/commit/500aa21911928c684d2e4df41a61e6b1a1fdd393", "committedDate": "2020-03-25T14:01:13Z", "message": "OIDC adapter using proxy"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgxMTc2Mzg0", "url": "https://github.com/quarkusio/quarkus/pull/8120#pullrequestreview-381176384", "createdAt": "2020-03-25T14:02:52Z", "commit": {"oid": "500aa21911928c684d2e4df41a61e6b1a1fdd393"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ae20df87944196661a716acd620675d41d45cfe3", "author": {"user": {"login": "dxps", "name": "Marius Ileana"}}, "url": "https://github.com/quarkusio/quarkus/commit/ae20df87944196661a716acd620675d41d45cfe3", "committedDate": "2020-03-25T16:09:00Z", "message": "OIDC adapter using proxy"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "500aa21911928c684d2e4df41a61e6b1a1fdd393", "author": {"user": {"login": "dxps", "name": "Marius Ileana"}}, "url": "https://github.com/quarkusio/quarkus/commit/500aa21911928c684d2e4df41a61e6b1a1fdd393", "committedDate": "2020-03-25T14:01:13Z", "message": "OIDC adapter using proxy"}, "afterCommit": {"oid": "ae20df87944196661a716acd620675d41d45cfe3", "author": {"user": {"login": "dxps", "name": "Marius Ileana"}}, "url": "https://github.com/quarkusio/quarkus/commit/ae20df87944196661a716acd620675d41d45cfe3", "committedDate": "2020-03-25T16:09:00Z", "message": "OIDC adapter using proxy"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3608, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}