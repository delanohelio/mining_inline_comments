{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ0NDkxNjQ5", "number": 10487, "title": "Add ability to disable security on a per test basis", "bodyText": "Also allows for a user to be configured to run the tests\nunder.", "createdAt": "2020-07-06T01:22:38Z", "url": "https://github.com/quarkusio/quarkus/pull/10487", "merged": true, "mergeCommit": {"oid": "683d783ff54cda517cd3f03c653bf6e1081e7e1c"}, "closed": true, "closedAt": "2020-07-06T08:53:53Z", "author": {"login": "stuartwdouglas"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcyJoCDAFqTQ0Mjc2ODgyMA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcyKDJZgFqTQ0Mjc3NTkxMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQyNzY4ODIw", "url": "https://github.com/quarkusio/quarkus/pull/10487#pullrequestreview-442768820", "createdAt": "2020-07-06T04:35:10Z", "commit": {"oid": "e9d1bf44ad662ffe47b0b4c7ff0e5017b821fa5f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQwNDozNToxMFrOGtIi1g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQwNDozNToxMFrOGtIi1g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTk3OTA5NA==", "bodyText": "Shouldn't this be false?", "url": "https://github.com/quarkusio/quarkus/pull/10487#discussion_r449979094", "createdAt": "2020-07-06T04:35:10Z", "author": {"login": "geoand"}, "path": "test-framework/security/src/main/java/io/quarkus/test/security/QuarkusSecurityTestExtension.java", "diffHunk": "@@ -0,0 +1,61 @@\n+package io.quarkus.test.security;\n+\n+import java.lang.reflect.Method;\n+import java.util.Arrays;\n+import java.util.HashSet;\n+\n+import javax.enterprise.inject.spi.CDI;\n+\n+import io.quarkus.security.runtime.QuarkusPrincipal;\n+import io.quarkus.security.runtime.QuarkusSecurityIdentity;\n+import io.quarkus.test.junit.callback.QuarkusTestAfterEachCallback;\n+import io.quarkus.test.junit.callback.QuarkusTestBeforeEachCallback;\n+import io.quarkus.test.junit.callback.QuarkusTestMethodContext;\n+\n+public class QuarkusSecurityTestExtension implements QuarkusTestBeforeEachCallback, QuarkusTestAfterEachCallback {\n+\n+    @Override\n+    public void afterEach(QuarkusTestMethodContext context) {\n+        CDI.current().select(TestAuthController.class).get().setEnabled(true);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e9d1bf44ad662ffe47b0b4c7ff0e5017b821fa5f"}, "originalPosition": 19}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQyNzcwNDEx", "url": "https://github.com/quarkusio/quarkus/pull/10487#pullrequestreview-442770411", "createdAt": "2020-07-06T04:42:00Z", "commit": {"oid": "e9d1bf44ad662ffe47b0b4c7ff0e5017b821fa5f"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQyNzcwNTQ1", "url": "https://github.com/quarkusio/quarkus/pull/10487#pullrequestreview-442770545", "createdAt": "2020-07-06T04:42:34Z", "commit": {"oid": "e9d1bf44ad662ffe47b0b4c7ff0e5017b821fa5f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQwNDo0MjozNFrOGtIo1Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQwNDo0MjozNFrOGtIo1Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTk4MDYyOQ==", "bodyText": "I am not sold on the name, but I don't have any better alternatives to offer :(", "url": "https://github.com/quarkusio/quarkus/pull/10487#discussion_r449980629", "createdAt": "2020-07-06T04:42:34Z", "author": {"login": "geoand"}, "path": "test-framework/security/src/main/java/io/quarkus/test/security/TestSecurity.java", "diffHunk": "@@ -0,0 +1,27 @@\n+package io.quarkus.test.security;\n+\n+import java.lang.annotation.ElementType;\n+import java.lang.annotation.Retention;\n+import java.lang.annotation.RetentionPolicy;\n+import java.lang.annotation.Target;\n+\n+@Retention(RetentionPolicy.RUNTIME)\n+@Target({ ElementType.TYPE, ElementType.METHOD })\n+public @interface TestSecurity {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e9d1bf44ad662ffe47b0b4c7ff0e5017b821fa5f"}, "originalPosition": 10}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fa6cede0b8fc295e040b766831c066130be04054", "author": {"user": {"login": "stuartwdouglas", "name": "Stuart Douglas"}}, "url": "https://github.com/quarkusio/quarkus/commit/fa6cede0b8fc295e040b766831c066130be04054", "committedDate": "2020-07-06T04:47:45Z", "message": "Add ability to disable security on a per test basis\n\nAlso allows for a user to be configured to run the tests\nunder."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e9d1bf44ad662ffe47b0b4c7ff0e5017b821fa5f", "author": {"user": {"login": "stuartwdouglas", "name": "Stuart Douglas"}}, "url": "https://github.com/quarkusio/quarkus/commit/e9d1bf44ad662ffe47b0b4c7ff0e5017b821fa5f", "committedDate": "2020-07-06T01:21:34Z", "message": "Add ability to disable security on a per test basis\n\nAlso allows for a user to be configured to run the tests\nunder."}, "afterCommit": {"oid": "fa6cede0b8fc295e040b766831c066130be04054", "author": {"user": {"login": "stuartwdouglas", "name": "Stuart Douglas"}}, "url": "https://github.com/quarkusio/quarkus/commit/fa6cede0b8fc295e040b766831c066130be04054", "committedDate": "2020-07-06T04:47:45Z", "message": "Add ability to disable security on a per test basis\n\nAlso allows for a user to be configured to run the tests\nunder."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQyNzc1OTEx", "url": "https://github.com/quarkusio/quarkus/pull/10487#pullrequestreview-442775911", "createdAt": "2020-07-06T05:04:47Z", "commit": {"oid": "fa6cede0b8fc295e040b766831c066130be04054"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3637, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}