{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQwOTMyNDA5", "number": 10321, "title": "Add a section about the redirection to the OIDC web-app docs", "bodyText": "This update follows the discussion on the forum, some clarification about the way quarkus-oidc handles the redirection will help the users. CC @emmanuelbernard", "createdAt": "2020-06-27T16:23:43Z", "url": "https://github.com/quarkusio/quarkus/pull/10321", "merged": true, "mergeCommit": {"oid": "ebaae4475820e842a04a72a6103f5d9db6e3665b"}, "closed": true, "closedAt": "2020-06-30T08:02:51Z", "author": {"login": "sberyozkin"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcvtvDrgFqTQzODc4NzQxMQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcwQ_sfABqjM0OTY0MzI1NTc=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM4Nzg3NDEx", "url": "https://github.com/quarkusio/quarkus/pull/10321#pullrequestreview-438787411", "createdAt": "2020-06-28T14:53:41Z", "commit": {"oid": "5ae927b4be31506ce4ad4846a1990aca4b435799"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOFQxNDo1Mzo0MlrOGp9__w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOFQxNDo1NjoyOFrOGp-BTw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjY2MDYwNw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            When the user is redirected to the OpenID Connect Provider to authenticate, the redirect URL includes a `redirect_uri` query parameter which indicates to the Provider where the user has to be redirected to once the authentication has been complete.\n          \n          \n            \n            When the user is redirected to the OpenID Connect Provider to authenticate, the redirect URL includes a `redirect_uri` query parameter which indicates to the Provider where the user has to be redirected to once the authentication has been completed.", "url": "https://github.com/quarkusio/quarkus/pull/10321#discussion_r446660607", "createdAt": "2020-06-28T14:53:42Z", "author": {"login": "gastaldi"}, "path": "docs/src/main/asciidoc/security-openid-connect-web-authentication.adoc", "diffHunk": "@@ -174,6 +174,17 @@ In order to authenticate to the application you should type the following creden\n \n After clicking the `Login` button you should be redirected back to the application.\n \n+== Redirection\n+\n+When the user is redirected to the OpenID Connect Provider to authenticate, the redirect URL includes a `redirect_uri` query parameter which indicates to the Provider where the user has to be redirected to once the authentication has been complete.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5ae927b4be31506ce4ad4846a1990aca4b435799"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjY2MDY5NQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Quarkus will set this parameter to the current request URL by default. For example, if the user is trying to access a Quarkus service endpoint at `http://localhost:8080/service/1` then the `redirect_uri` parameter will be set to `http://localhost:8080/service/1`. Similarly, if the request URL is `http://localhost:8080/service/2` then the the `redirect_uri` parameter will be set to `http://localhost:8080/service/2`, etc.\n          \n          \n            \n            Quarkus will set this parameter to the current request URL by default. For example, if the user is trying to access a Quarkus service endpoint at `http://localhost:8080/service/1` then the `redirect_uri` parameter will be set to `http://localhost:8080/service/1`. Similarly, if the request URL is `http://localhost:8080/service/2` then the `redirect_uri` parameter will be set to `http://localhost:8080/service/2`, etc.", "url": "https://github.com/quarkusio/quarkus/pull/10321#discussion_r446660695", "createdAt": "2020-06-28T14:54:29Z", "author": {"login": "gastaldi"}, "path": "docs/src/main/asciidoc/security-openid-connect-web-authentication.adoc", "diffHunk": "@@ -174,6 +174,17 @@ In order to authenticate to the application you should type the following creden\n \n After clicking the `Login` button you should be redirected back to the application.\n \n+== Redirection\n+\n+When the user is redirected to the OpenID Connect Provider to authenticate, the redirect URL includes a `redirect_uri` query parameter which indicates to the Provider where the user has to be redirected to once the authentication has been complete.\n+\n+Quarkus will set this parameter to the current request URL by default. For example, if the user is trying to access a Quarkus service endpoint at `http://localhost:8080/service/1` then the `redirect_uri` parameter will be set to `http://localhost:8080/service/1`. Similarly, if the request URL is `http://localhost:8080/service/2` then the the `redirect_uri` parameter will be set to `http://localhost:8080/service/2`, etc.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5ae927b4be31506ce4ad4846a1990aca4b435799"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjY2MDgwMw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            OpenID Connect Providers may be configured to require that the `redirect_uri` parameter has the same value such as `http://localhost:8080/service/callback` for all the redirect URLs.\n          \n          \n            \n            OpenID Connect Providers may be configured to require the `redirect_uri` parameter to have the same value (eg. `http://localhost:8080/service/callback`) for all the redirect URLs.", "url": "https://github.com/quarkusio/quarkus/pull/10321#discussion_r446660803", "createdAt": "2020-06-28T14:55:13Z", "author": {"login": "gastaldi"}, "path": "docs/src/main/asciidoc/security-openid-connect-web-authentication.adoc", "diffHunk": "@@ -174,6 +174,17 @@ In order to authenticate to the application you should type the following creden\n \n After clicking the `Login` button you should be redirected back to the application.\n \n+== Redirection\n+\n+When the user is redirected to the OpenID Connect Provider to authenticate, the redirect URL includes a `redirect_uri` query parameter which indicates to the Provider where the user has to be redirected to once the authentication has been complete.\n+\n+Quarkus will set this parameter to the current request URL by default. For example, if the user is trying to access a Quarkus service endpoint at `http://localhost:8080/service/1` then the `redirect_uri` parameter will be set to `http://localhost:8080/service/1`. Similarly, if the request URL is `http://localhost:8080/service/2` then the the `redirect_uri` parameter will be set to `http://localhost:8080/service/2`, etc.\n+\n+OpenID Connect Providers may be configured to require that the `redirect_uri` parameter has the same value such as `http://localhost:8080/service/callback` for all the redirect URLs.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5ae927b4be31506ce4ad4846a1990aca4b435799"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjY2MDk0Mw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            In such cases a `quarkus.oidc.authentication.redirect-path` property has to be set, for example, `quarkus.oidc.authentication.redirect-path=/service/callback`, and Quarkus will set the `redirect_uri` parameter an absolute URL such as `http://localhost:8080/service/callback` which will be the same irrespectively of the current request URL.\n          \n          \n            \n            In such cases a `quarkus.oidc.authentication.redirect-path` property has to be set, for example, `quarkus.oidc.authentication.redirect-path=/service/callback`, and Quarkus will set the `redirect_uri` parameter to an absolute URL such as `http://localhost:8080/service/callback` which will be the same regardless of the current request URL.", "url": "https://github.com/quarkusio/quarkus/pull/10321#discussion_r446660943", "createdAt": "2020-06-28T14:56:28Z", "author": {"login": "gastaldi"}, "path": "docs/src/main/asciidoc/security-openid-connect-web-authentication.adoc", "diffHunk": "@@ -174,6 +174,17 @@ In order to authenticate to the application you should type the following creden\n \n After clicking the `Login` button you should be redirected back to the application.\n \n+== Redirection\n+\n+When the user is redirected to the OpenID Connect Provider to authenticate, the redirect URL includes a `redirect_uri` query parameter which indicates to the Provider where the user has to be redirected to once the authentication has been complete.\n+\n+Quarkus will set this parameter to the current request URL by default. For example, if the user is trying to access a Quarkus service endpoint at `http://localhost:8080/service/1` then the `redirect_uri` parameter will be set to `http://localhost:8080/service/1`. Similarly, if the request URL is `http://localhost:8080/service/2` then the the `redirect_uri` parameter will be set to `http://localhost:8080/service/2`, etc.\n+\n+OpenID Connect Providers may be configured to require that the `redirect_uri` parameter has the same value such as `http://localhost:8080/service/callback` for all the redirect URLs.\n+In such cases a `quarkus.oidc.authentication.redirect-path` property has to be set, for example, `quarkus.oidc.authentication.redirect-path=/service/callback`, and Quarkus will set the `redirect_uri` parameter an absolute URL such as `http://localhost:8080/service/callback` which will be the same irrespectively of the current request URL.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5ae927b4be31506ce4ad4846a1990aca4b435799"}, "originalPosition": 11}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM5MTAxNzQ1", "url": "https://github.com/quarkusio/quarkus/pull/10321#pullrequestreview-439101745", "createdAt": "2020-06-29T12:41:51Z", "commit": {"oid": "f494e6bd868758a3d17df709764f77d43b24e23a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "39911b492d1300b04b7814f7f617a2f22ba09ced", "author": {"user": {"login": "sberyozkin", "name": null}}, "url": "https://github.com/quarkusio/quarkus/commit/39911b492d1300b04b7814f7f617a2f22ba09ced", "committedDate": "2020-06-30T08:02:21Z", "message": "Add a section about the redirection to the OIDC web-app docs"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f494e6bd868758a3d17df709764f77d43b24e23a", "author": {"user": {"login": "sberyozkin", "name": null}}, "url": "https://github.com/quarkusio/quarkus/commit/f494e6bd868758a3d17df709764f77d43b24e23a", "committedDate": "2020-06-28T20:29:38Z", "message": "Update docs/src/main/asciidoc/security-openid-connect-web-authentication.adoc\n\nCo-authored-by: George Gastaldi <gegastaldi@gmail.com>"}, "afterCommit": {"oid": "39911b492d1300b04b7814f7f617a2f22ba09ced", "author": {"user": {"login": "sberyozkin", "name": null}}, "url": "https://github.com/quarkusio/quarkus/commit/39911b492d1300b04b7814f7f617a2f22ba09ced", "committedDate": "2020-06-30T08:02:21Z", "message": "Add a section about the redirection to the OIDC web-app docs"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4168, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}