{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDcwNjM4OTQ5", "number": 11486, "title": "QuarkusSecurityTestExtension fails to read class annotation", "bodyText": "Fixes #11465", "createdAt": "2020-08-20T03:47:15Z", "url": "https://github.com/quarkusio/quarkus/pull/11486", "merged": true, "mergeCommit": {"oid": "271e0319a864debb42acb735fb0a7914c8b1d8e3"}, "closed": true, "closedAt": "2020-08-20T08:54:55Z", "author": {"login": "stuartwdouglas"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdAn-ZMgFqTQ3MTEzNTE1OQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdAoC3VAFqTQ3MTE0MzQ3Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcxMTM1MTU5", "url": "https://github.com/quarkusio/quarkus/pull/11486#pullrequestreview-471135159", "createdAt": "2020-08-20T03:51:41Z", "commit": {"oid": "12c9c28cf4cb2d59106c8d66ea31a7653c748f60"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMFQwMzo1MTo0MVrOHDohHQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMFQwMzo1MTo0MVrOHDohHQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzU3MTYxMw==", "bodyText": "Is this while loop missing an assignment to testSecurity? In other words, should that testSecurity = original.getAnnotation(TestSecurity.class) be moved into the while loop?", "url": "https://github.com/quarkusio/quarkus/pull/11486#discussion_r473571613", "createdAt": "2020-08-20T03:51:41Z", "author": {"login": "jaikiran"}, "path": "test-framework/security/src/main/java/io/quarkus/test/security/QuarkusSecurityTestExtension.java", "diffHunk": "@@ -37,7 +36,10 @@ public void beforeEach(QuarkusTestMethodContext context) {\n                     }).toArray(Class<?>[]::new));\n             TestSecurity testSecurity = method.getAnnotation(TestSecurity.class);\n             if (testSecurity == null) {\n-                testSecurity = test.getAnnotation(TestSecurity.class);\n+                testSecurity = original.getAnnotation(TestSecurity.class);\n+                while (testSecurity == null && original != Object.class) {\n+                    original = original.getSuperclass();\n+                }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "12c9c28cf4cb2d59106c8d66ea31a7653c748f60"}, "originalPosition": 16}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7047e95ed9327a1edce5a7e02d35da1ad0cf9465", "author": {"user": {"login": "stuartwdouglas", "name": "Stuart Douglas"}}, "url": "https://github.com/quarkusio/quarkus/commit/7047e95ed9327a1edce5a7e02d35da1ad0cf9465", "committedDate": "2020-08-20T03:53:51Z", "message": "QuarkusSecurityTestExtension fails to read class annotation\n\nFixes #11465"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "12c9c28cf4cb2d59106c8d66ea31a7653c748f60", "author": {"user": {"login": "stuartwdouglas", "name": "Stuart Douglas"}}, "url": "https://github.com/quarkusio/quarkus/commit/12c9c28cf4cb2d59106c8d66ea31a7653c748f60", "committedDate": "2020-08-20T03:43:41Z", "message": "QuarkusSecurityTestExtension fails to read class annotation\n\nFixes #11465"}, "afterCommit": {"oid": "7047e95ed9327a1edce5a7e02d35da1ad0cf9465", "author": {"user": {"login": "stuartwdouglas", "name": "Stuart Douglas"}}, "url": "https://github.com/quarkusio/quarkus/commit/7047e95ed9327a1edce5a7e02d35da1ad0cf9465", "committedDate": "2020-08-20T03:53:51Z", "message": "QuarkusSecurityTestExtension fails to read class annotation\n\nFixes #11465"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcxMTQzNDc2", "url": "https://github.com/quarkusio/quarkus/pull/11486#pullrequestreview-471143476", "createdAt": "2020-08-20T03:56:34Z", "commit": {"oid": "7047e95ed9327a1edce5a7e02d35da1ad0cf9465"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 839, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}