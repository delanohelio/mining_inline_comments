{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkwNzk1MTk4", "number": 12251, "title": "Forward protoc log to console for gradle project", "bodyText": "This branch make sure protoc output are redirected to console when running a gradle build.\nThis reuse the same ProcessUtil class used to forward native-image log to console.\nclose #11552", "createdAt": "2020-09-22T09:04:33Z", "url": "https://github.com/quarkusio/quarkus/pull/12251", "merged": true, "mergeCommit": {"oid": "6a5593270eef3314e5286fe5a53af973ae621f59"}, "closed": true, "closedAt": "2020-10-02T15:57:05Z", "author": {"login": "glefloch"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdLULn8AH2gAyNDkwNzk1MTk4OjBjYzExMDIxYWVkNTRjMzA4OTVhNTkxZGE2NWFjYzE4OGUzOGU0NTg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdMjhtAgFqTQ5Njk0MzEzOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "0cc11021aed54c30895a591da65acc188e38e458", "author": {"user": {"login": "glefloch", "name": "Guillaume Le Floch"}}, "url": "https://github.com/quarkusio/quarkus/commit/0cc11021aed54c30895a591da65acc188e38e458", "committedDate": "2020-09-22T09:01:12Z", "message": "print protoc log to console for gradle project"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk0NjgyNTg2", "url": "https://github.com/quarkusio/quarkus/pull/12251#pullrequestreview-494682586", "createdAt": "2020-09-23T13:51:08Z", "commit": {"oid": "0cc11021aed54c30895a591da65acc188e38e458"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QxMzo1MTowOFrOHWvg_g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QxMzo1MTowOFrOHWvg_g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzYwOTIxNA==", "bodyText": "Does this initAndRun get called only for Gradle build? In which case this change looks good. The reason why the ProcessUtil has been conditionally used is to avoid streaming the STDOUT and STDERR when Maven tool is being used and instead just rely on inheriting IO. So as long as this gets called only for Gradle, the change looks fine to me.", "url": "https://github.com/quarkusio/quarkus/pull/12251#discussion_r493609214", "createdAt": "2020-09-23T13:51:08Z", "author": {"login": "jaikiran"}, "path": "core/deployment/src/main/java/io/quarkus/deployment/CodeGenerator.java", "diffHunk": "@@ -26,6 +26,7 @@ public static void initAndRun(ClassLoader classLoader,\n             AppModel appModel) throws CodeGenException {\n         List<CodeGenData> generators = init(classLoader, sourceParentDirs, generatedSourcesDir, buildDir, sourceRegistrar);\n         for (CodeGenData generator : generators) {\n+            generator.setRedirectIO(true);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0cc11021aed54c30895a591da65acc188e38e458"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk1MTAwNDcz", "url": "https://github.com/quarkusio/quarkus/pull/12251#pullrequestreview-495100473", "createdAt": "2020-09-23T22:48:53Z", "commit": {"oid": "0cc11021aed54c30895a591da65acc188e38e458"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QyMjo0ODo1M1rOHXDjGw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QyMjo0ODo1M1rOHXDjGw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzkzNzQzNQ==", "bodyText": "why redirectIO and not inheritIO ?", "url": "https://github.com/quarkusio/quarkus/pull/12251#discussion_r493937435", "createdAt": "2020-09-23T22:48:53Z", "author": {"login": "michalszynkiewicz"}, "path": "core/deployment/src/main/java/io/quarkus/deployment/CodeGenContext.java", "diffHunk": "@@ -9,12 +9,14 @@\n     private final Path outDir;\n     private final Path workDir;\n     private final Path inputDir;\n+    private final boolean redirectIO;\n \n-    public CodeGenContext(AppModel model, Path outDir, Path workDir, Path inputDir) {\n+    public CodeGenContext(AppModel model, Path outDir, Path workDir, Path inputDir, boolean redirectIO) {\n         this.model = model;\n         this.outDir = outDir;\n         this.workDir = workDir;\n         this.inputDir = inputDir;\n+        this.redirectIO = redirectIO;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0cc11021aed54c30895a591da65acc188e38e458"}, "originalPosition": 12}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk2OTQzMTM4", "url": "https://github.com/quarkusio/quarkus/pull/12251#pullrequestreview-496943138", "createdAt": "2020-09-26T05:27:49Z", "commit": {"oid": "0cc11021aed54c30895a591da65acc188e38e458"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 394, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}