{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDcyODg2ODgx", "number": 11590, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNVQwNjoyNzowN1rOEb64_w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNVQwNjoyNzowN1rOEb64_w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk3NzExODcxOnYy", "diffSide": "RIGHT", "path": "extensions/container-image/container-image-jib/deployment/src/main/java/io/quarkus/container/image/jib/deployment/JibConfig.java", "isResolved": false, "comments": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNVQwNjoyNzowN1rOHGJSzQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNVQxMzowNTozNlrOHGXJDA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjIwNTc3Mw==", "bodyText": "How about we make it Optional<List<Integer>> ports in order and drop the default value in to keep the same default behavior as before?", "url": "https://github.com/quarkusio/quarkus/pull/11590#discussion_r476205773", "createdAt": "2020-08-25T06:27:07Z", "author": {"login": "geoand"}, "path": "extensions/container-image/container-image-jib/deployment/src/main/java/io/quarkus/container/image/jib/deployment/JibConfig.java", "diffHunk": "@@ -98,4 +98,10 @@\n      */\n     @ConfigItem\n     public Optional<String> baseRegistryPassword;\n+\n+    /**\n+     * The ports to expose\n+     */\n+    @ConfigItem(defaultValue = \"8080\")\n+    public List<Integer> ports;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "290e49f7a9964965c45b74b4c9f5aeb69c42f15c"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjQxODI4Mw==", "bodyText": "What is the current behaviour? The dockerfiles by default expose 8080 but it does not look like jib exposes anything?", "url": "https://github.com/quarkusio/quarkus/pull/11590#discussion_r476418283", "createdAt": "2020-08-25T12:43:58Z", "author": {"login": "stuartwdouglas"}, "path": "extensions/container-image/container-image-jib/deployment/src/main/java/io/quarkus/container/image/jib/deployment/JibConfig.java", "diffHunk": "@@ -98,4 +98,10 @@\n      */\n     @ConfigItem\n     public Optional<String> baseRegistryPassword;\n+\n+    /**\n+     * The ports to expose\n+     */\n+    @ConfigItem(defaultValue = \"8080\")\n+    public List<Integer> ports;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjIwNTc3Mw=="}, "originalCommit": {"oid": "290e49f7a9964965c45b74b4c9f5aeb69c42f15c"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjQxOTE0NA==", "bodyText": "Yes exactly, currently jib doesn't export anything.", "url": "https://github.com/quarkusio/quarkus/pull/11590#discussion_r476419144", "createdAt": "2020-08-25T12:45:19Z", "author": {"login": "geoand"}, "path": "extensions/container-image/container-image-jib/deployment/src/main/java/io/quarkus/container/image/jib/deployment/JibConfig.java", "diffHunk": "@@ -98,4 +98,10 @@\n      */\n     @ConfigItem\n     public Optional<String> baseRegistryPassword;\n+\n+    /**\n+     * The ports to expose\n+     */\n+    @ConfigItem(defaultValue = \"8080\")\n+    public List<Integer> ports;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjIwNTc3Mw=="}, "originalCommit": {"oid": "290e49f7a9964965c45b74b4c9f5aeb69c42f15c"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjQyMzQ4OQ==", "bodyText": "So can you actually use it for a HTTP based app?", "url": "https://github.com/quarkusio/quarkus/pull/11590#discussion_r476423489", "createdAt": "2020-08-25T12:52:40Z", "author": {"login": "stuartwdouglas"}, "path": "extensions/container-image/container-image-jib/deployment/src/main/java/io/quarkus/container/image/jib/deployment/JibConfig.java", "diffHunk": "@@ -98,4 +98,10 @@\n      */\n     @ConfigItem\n     public Optional<String> baseRegistryPassword;\n+\n+    /**\n+     * The ports to expose\n+     */\n+    @ConfigItem(defaultValue = \"8080\")\n+    public List<Integer> ports;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjIwNTc3Mw=="}, "originalCommit": {"oid": "290e49f7a9964965c45b74b4c9f5aeb69c42f15c"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjQyNDE5MQ==", "bodyText": "Yeah, because at runtime you can do -p 8080:8080 (personally I always do this anyway)", "url": "https://github.com/quarkusio/quarkus/pull/11590#discussion_r476424191", "createdAt": "2020-08-25T12:53:46Z", "author": {"login": "geoand"}, "path": "extensions/container-image/container-image-jib/deployment/src/main/java/io/quarkus/container/image/jib/deployment/JibConfig.java", "diffHunk": "@@ -98,4 +98,10 @@\n      */\n     @ConfigItem\n     public Optional<String> baseRegistryPassword;\n+\n+    /**\n+     * The ports to expose\n+     */\n+    @ConfigItem(defaultValue = \"8080\")\n+    public List<Integer> ports;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjIwNTc3Mw=="}, "originalCommit": {"oid": "290e49f7a9964965c45b74b4c9f5aeb69c42f15c"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjQzMDY5Mw==", "bodyText": "Ah, I also always do this as well. I assumed you needed both. What about kube? The vague complaint I got was that the lack of a port was causing problems.\nEither way even though it is not 100% backwards compatible I think that making the docker and jib builds equivalent is probably worth the minor compat concern.", "url": "https://github.com/quarkusio/quarkus/pull/11590#discussion_r476430693", "createdAt": "2020-08-25T13:02:32Z", "author": {"login": "stuartwdouglas"}, "path": "extensions/container-image/container-image-jib/deployment/src/main/java/io/quarkus/container/image/jib/deployment/JibConfig.java", "diffHunk": "@@ -98,4 +98,10 @@\n      */\n     @ConfigItem\n     public Optional<String> baseRegistryPassword;\n+\n+    /**\n+     * The ports to expose\n+     */\n+    @ConfigItem(defaultValue = \"8080\")\n+    public List<Integer> ports;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjIwNTc3Mw=="}, "originalCommit": {"oid": "290e49f7a9964965c45b74b4c9f5aeb69c42f15c"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjQzMjAyMg==", "bodyText": "It should be perfectly fine in Kube (I've run it multiple times).\nBut I guess it's better to have docker and jib be equivalent than keep backward compatibility.", "url": "https://github.com/quarkusio/quarkus/pull/11590#discussion_r476432022", "createdAt": "2020-08-25T13:04:39Z", "author": {"login": "geoand"}, "path": "extensions/container-image/container-image-jib/deployment/src/main/java/io/quarkus/container/image/jib/deployment/JibConfig.java", "diffHunk": "@@ -98,4 +98,10 @@\n      */\n     @ConfigItem\n     public Optional<String> baseRegistryPassword;\n+\n+    /**\n+     * The ports to expose\n+     */\n+    @ConfigItem(defaultValue = \"8080\")\n+    public List<Integer> ports;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjIwNTc3Mw=="}, "originalCommit": {"oid": "290e49f7a9964965c45b74b4c9f5aeb69c42f15c"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjQzMjY1Mg==", "bodyText": "We can probably expose this port automatically (without requiring a user to specify it), but let's leave that for later if anyone ask for it", "url": "https://github.com/quarkusio/quarkus/pull/11590#discussion_r476432652", "createdAt": "2020-08-25T13:05:36Z", "author": {"login": "geoand"}, "path": "extensions/container-image/container-image-jib/deployment/src/main/java/io/quarkus/container/image/jib/deployment/JibConfig.java", "diffHunk": "@@ -98,4 +98,10 @@\n      */\n     @ConfigItem\n     public Optional<String> baseRegistryPassword;\n+\n+    /**\n+     * The ports to expose\n+     */\n+    @ConfigItem(defaultValue = \"8080\")\n+    public List<Integer> ports;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjIwNTc3Mw=="}, "originalCommit": {"oid": "290e49f7a9964965c45b74b4c9f5aeb69c42f15c"}, "originalPosition": 9}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 505, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}