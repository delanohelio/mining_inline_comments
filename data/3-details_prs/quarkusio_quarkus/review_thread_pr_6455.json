{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYwMzE0NzE4", "number": 6455, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOFQwNzo1MDozNVrODWddjg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOFQxNTozMToxM1rODWlDkg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI0ODc3OTY2OnYy", "diffSide": "RIGHT", "path": "devtools/gradle/src/main/java/io/quarkus/gradle/tasks/QuarkusDev.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOFQwNzo1MDozNVrOFbO2kw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOFQxMjoxOTozNVrOFbVPHQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDA5OTIxOQ==", "bodyText": "Should this one be debug instead of info?", "url": "https://github.com/quarkusio/quarkus/pull/6455#discussion_r364099219", "createdAt": "2020-01-08T07:50:35Z", "author": {"login": "gsmet"}, "path": "devtools/gradle/src/main/java/io/quarkus/gradle/tasks/QuarkusDev.java", "diffHunk": "@@ -242,7 +242,11 @@ public void startDev() {\n                         e);\n             }\n             for (AppDependency appDep : appModel.getAllDependencies()) {\n-                addToClassPaths(classPathManifest, context, appDep.getArtifact().getPath().toFile());\n+                if (!appDep.getArtifact().isSubModule()) {\n+                    addToClassPaths(classPathManifest, context, appDep.getArtifact().getPath().toFile());\n+                } else {\n+                    getLogger().info(\"Ignoring {} as it is a project dependency\", appDep);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e4a1dc32a1aaf8791fa521b192c638dac35208ad"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDA5OTYyNw==", "bodyText": "It could be.. but the logging of the added dependencies in addToClasspaths is info so I thought it made sense to be on same level", "url": "https://github.com/quarkusio/quarkus/pull/6455#discussion_r364099627", "createdAt": "2020-01-08T07:51:56Z", "author": {"login": "tobad357"}, "path": "devtools/gradle/src/main/java/io/quarkus/gradle/tasks/QuarkusDev.java", "diffHunk": "@@ -242,7 +242,11 @@ public void startDev() {\n                         e);\n             }\n             for (AppDependency appDep : appModel.getAllDependencies()) {\n-                addToClassPaths(classPathManifest, context, appDep.getArtifact().getPath().toFile());\n+                if (!appDep.getArtifact().isSubModule()) {\n+                    addToClassPaths(classPathManifest, context, appDep.getArtifact().getPath().toFile());\n+                } else {\n+                    getLogger().info(\"Ignoring {} as it is a project dependency\", appDep);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDA5OTIxOQ=="}, "originalCommit": {"oid": "e4a1dc32a1aaf8791fa521b192c638dac35208ad"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDIwMzgwNQ==", "bodyText": "+1 to be debug", "url": "https://github.com/quarkusio/quarkus/pull/6455#discussion_r364203805", "createdAt": "2020-01-08T12:19:35Z", "author": {"login": "gastaldi"}, "path": "devtools/gradle/src/main/java/io/quarkus/gradle/tasks/QuarkusDev.java", "diffHunk": "@@ -242,7 +242,11 @@ public void startDev() {\n                         e);\n             }\n             for (AppDependency appDep : appModel.getAllDependencies()) {\n-                addToClassPaths(classPathManifest, context, appDep.getArtifact().getPath().toFile());\n+                if (!appDep.getArtifact().isSubModule()) {\n+                    addToClassPaths(classPathManifest, context, appDep.getArtifact().getPath().toFile());\n+                } else {\n+                    getLogger().info(\"Ignoring {} as it is a project dependency\", appDep);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDA5OTIxOQ=="}, "originalCommit": {"oid": "e4a1dc32a1aaf8791fa521b192c638dac35208ad"}, "originalPosition": 8}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI0OTUwODk4OnYy", "diffSide": "RIGHT", "path": "devtools/gradle/src/main/java/io/quarkus/gradle/AppModelGradleResolver.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOFQxMjo0MjoyNVrOFbVuCQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOFQxMjo0MzoyM1rOFbVvXA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDIxMTcyMQ==", "bodyText": "You can also replace this snippet with appArtifact.setSubModule(id instanceof ProjectComponentIdentifier) \ud83d\ude09", "url": "https://github.com/quarkusio/quarkus/pull/6455#discussion_r364211721", "createdAt": "2020-01-08T12:42:25Z", "author": {"login": "gastaldi"}, "path": "devtools/gradle/src/main/java/io/quarkus/gradle/AppModelGradleResolver.java", "diffHunk": "@@ -192,6 +194,10 @@ private ModuleIdentifier getModuleId(ResolvedArtifact a) {\n     private AppDependency toAppDependency(ResolvedArtifact a) {\n         final String[] split = a.getModuleVersion().toString().split(\":\");\n         final AppArtifact appArtifact = new AppArtifact(split[0], split[1], split[2]);\n+        final ComponentIdentifier id = a.getId().getComponentIdentifier();\n+        if (id instanceof ProjectComponentIdentifier) {\n+            appArtifact.setSubModule(true);\n+        }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6e0b4a10664be507c6513348d0f029d06b375dbe"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDIxMjA2MA==", "bodyText": "Or simply appArtifact.setSubModule(a.getId().getComponentIdentifier() instanceof ProjectComponentIdentifier);", "url": "https://github.com/quarkusio/quarkus/pull/6455#discussion_r364212060", "createdAt": "2020-01-08T12:43:23Z", "author": {"login": "gastaldi"}, "path": "devtools/gradle/src/main/java/io/quarkus/gradle/AppModelGradleResolver.java", "diffHunk": "@@ -192,6 +194,10 @@ private ModuleIdentifier getModuleId(ResolvedArtifact a) {\n     private AppDependency toAppDependency(ResolvedArtifact a) {\n         final String[] split = a.getModuleVersion().toString().split(\":\");\n         final AppArtifact appArtifact = new AppArtifact(split[0], split[1], split[2]);\n+        final ComponentIdentifier id = a.getId().getComponentIdentifier();\n+        if (id instanceof ProjectComponentIdentifier) {\n+            appArtifact.setSubModule(true);\n+        }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDIxMTcyMQ=="}, "originalCommit": {"oid": "6e0b4a10664be507c6513348d0f029d06b375dbe"}, "originalPosition": 16}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI0OTUxODU2OnYy", "diffSide": "RIGHT", "path": "devtools/gradle/src/main/java/io/quarkus/gradle/AppModelGradleResolver.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOFQxMjo0NjozN1rOFbVz2Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOFQxMjo1MzowNFrOFbV81A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDIxMzIwOQ==", "bodyText": "I think this import is unused now?", "url": "https://github.com/quarkusio/quarkus/pull/6455#discussion_r364213209", "createdAt": "2020-01-08T12:46:37Z", "author": {"login": "gastaldi"}, "path": "devtools/gradle/src/main/java/io/quarkus/gradle/AppModelGradleResolver.java", "diffHunk": "@@ -23,6 +23,8 @@\n import org.gradle.api.artifacts.ModuleVersionIdentifier;\n import org.gradle.api.artifacts.ResolvedArtifact;\n import org.gradle.api.artifacts.ResolvedConfiguration;\n+import org.gradle.api.artifacts.component.ComponentIdentifier;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "be74264edf9f15108dcce8b84658b9317e83ff48"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDIxNTUwOA==", "bodyText": "Sorted", "url": "https://github.com/quarkusio/quarkus/pull/6455#discussion_r364215508", "createdAt": "2020-01-08T12:53:04Z", "author": {"login": "tobad357"}, "path": "devtools/gradle/src/main/java/io/quarkus/gradle/AppModelGradleResolver.java", "diffHunk": "@@ -23,6 +23,8 @@\n import org.gradle.api.artifacts.ModuleVersionIdentifier;\n import org.gradle.api.artifacts.ResolvedArtifact;\n import org.gradle.api.artifacts.ResolvedConfiguration;\n+import org.gradle.api.artifacts.component.ComponentIdentifier;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDIxMzIwOQ=="}, "originalCommit": {"oid": "be74264edf9f15108dcce8b84658b9317e83ff48"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI1MDAyMzg2OnYy", "diffSide": "RIGHT", "path": "independent-projects/bootstrap/core/src/main/java/io/quarkus/bootstrap/model/AppArtifact.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOFQxNTozMToxM1rOFbakag==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOFQxNTozMToxM1rOFbakag==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDI5MTE3OA==", "bodyText": "Please remove this leftover.", "url": "https://github.com/quarkusio/quarkus/pull/6455#discussion_r364291178", "createdAt": "2020-01-08T15:31:13Z", "author": {"login": "aloubyansky"}, "path": "independent-projects/bootstrap/core/src/main/java/io/quarkus/bootstrap/model/AppArtifact.java", "diffHunk": "@@ -11,6 +11,8 @@\n \n     protected Path path;\n \n+    protected boolean subModule;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0918b8efd5ef3b9106e5141e07952517c2f7fcb5"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1318, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}