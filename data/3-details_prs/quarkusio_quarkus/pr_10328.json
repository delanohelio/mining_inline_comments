{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQxMTAyNzQ5", "number": 10328, "title": "Devmode: introduce quarkus.live-reload.watched-resources", "bodyText": "Resolves #10234\nThis is WIP because there are some things left to clarify and to implement:\n\nTest is missing. I'd extend DevMojoIT. Is this ok?\nNot sure about the devmode ConfigRoot as there is also LiveReloadConfig (which seems like a workaround judging from its JavaDoc)\nadditional-watched-resources could be shortened to extra-watched-resources or ...? In case more \"watched\" aspects should be configurable in the future (e.g. #10298?) then maybe watched.additional-resources or similar would be better.\nJavaDoc for the new item is missing\nNot sure about the ConfigPhase.\n\nPS: I remove the duplicate toAbsolutePath() from Paths.get(\".env\").toAbsolutePath().toAbsolutePath().toString().", "createdAt": "2020-06-28T19:27:48Z", "url": "https://github.com/quarkusio/quarkus/pull/10328", "merged": true, "mergeCommit": {"oid": "2722f5e7ee55c4528a9f4dd22669fb99145b6171"}, "closed": true, "closedAt": "2020-07-10T14:14:28Z", "author": {"login": "famod"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcwAQGdAFqTQzOTA5MjI4Ng==", "endCursor": "Y3Vyc29yOnYyOpPPAAABczkTf7AFqTQ0NjQzNjE3MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM5MDkyMjg2", "url": "https://github.com/quarkusio/quarkus/pull/10328#pullrequestreview-439092286", "createdAt": "2020-06-29T12:29:49Z", "commit": {"oid": "e4c4ee97c727e1163c6c3eeb8c046200267ca0fc"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOVQxMjoyOTo0OVrOGqOmRw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOVQxMjoyOTo0OVrOGqOmRw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjkzMjU1MQ==", "bodyText": "For me the idea is to extend io.quarkus.deployment.LiveReloadConfig and move the top class comment on top of the existing properties.\nI would include your property first to have something clean.", "url": "https://github.com/quarkusio/quarkus/pull/10328#discussion_r446932551", "createdAt": "2020-06-29T12:29:49Z", "author": {"login": "gsmet"}, "path": "core/deployment/src/main/java/io/quarkus/deployment/dev/DevModeConfig.java", "diffHunk": "@@ -0,0 +1,17 @@\n+package io.quarkus.deployment.dev;\n+\n+import java.util.List;\n+import java.util.Optional;\n+\n+import io.quarkus.runtime.annotations.ConfigItem;\n+import io.quarkus.runtime.annotations.ConfigRoot;\n+\n+@ConfigRoot(name = \"devmode\")\n+public class DevModeConfig {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e4c4ee97c727e1163c6c3eeb8c046200267ca0fc"}, "originalPosition": 10}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM5NjI4Nzc2", "url": "https://github.com/quarkusio/quarkus/pull/10328#pullrequestreview-439628776", "createdAt": "2020-06-30T02:37:55Z", "commit": {"oid": "6a68735c86974a5a5283728cbc3315cbd43d2120"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQwMjozNzo1NVrOGqpfRA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQwMjozNzo1NVrOGqpfRA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzM3MzEyNA==", "bodyText": "More of a curiosity than a review comment - For types like List does it add value to wrap it add around a Optional? If no config values are provided for the property, then the config management framework can perhaps just create an empty list?", "url": "https://github.com/quarkusio/quarkus/pull/10328#discussion_r447373124", "createdAt": "2020-06-30T02:37:55Z", "author": {"login": "jaikiran"}, "path": "core/runtime/src/main/java/io/quarkus/runtime/LiveReloadConfig.java", "diffHunk": "@@ -1,20 +1,21 @@\n package io.quarkus.runtime;\n \n+import java.util.List;\n import java.util.Optional;\n \n import io.quarkus.runtime.annotations.ConfigItem;\n import io.quarkus.runtime.annotations.ConfigPhase;\n import io.quarkus.runtime.annotations.ConfigRoot;\n \n-/**\n- * This is used currently only to suppress warnings about unknown properties\n- * when the user supplies something like: -Dquarkus.live-reload.password=secret\n- *\n- * TODO refactor code to actually use these values\n- */\n @ConfigRoot(phase = ConfigPhase.BUILD_AND_RUN_TIME_FIXED)\n public class LiveReloadConfig {\n \n+    /**\n+     * The names of additional resources to watch for changes, triggering a reload on change.\n+     */\n+    @ConfigItem\n+    public Optional<List<String>> additionalWatchedResources;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6a68735c86974a5a5283728cbc3315cbd43d2120"}, "originalPosition": 23}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQwNTQ3ODY3", "url": "https://github.com/quarkusio/quarkus/pull/10328#pullrequestreview-440547867", "createdAt": "2020-07-01T05:03:58Z", "commit": {"oid": "be5859a8aa3df249f1f0431c49ae7a9c43f810d8"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQxNTQzNzI4", "url": "https://github.com/quarkusio/quarkus/pull/10328#pullrequestreview-441543728", "createdAt": "2020-07-02T10:17:30Z", "commit": {"oid": "be5859a8aa3df249f1f0431c49ae7a9c43f810d8"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a9e32575dd9a798623ff6b5a839b485a424e2c68", "author": {"user": {"login": "famod", "name": "Falko Modler"}}, "url": "https://github.com/quarkusio/quarkus/commit/a9e32575dd9a798623ff6b5a839b485a424e2c68", "committedDate": "2020-07-08T16:09:54Z", "message": "Devmode: introduce live-reload.watched-resources"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ2NDM2MTcx", "url": "https://github.com/quarkusio/quarkus/pull/10328#pullrequestreview-446436171", "createdAt": "2020-07-10T14:14:06Z", "commit": {"oid": "a9e32575dd9a798623ff6b5a839b485a424e2c68"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4176, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}