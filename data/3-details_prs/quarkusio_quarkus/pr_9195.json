{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE1NzMzMTY1", "number": 9195, "title": "Added a new property to support more algorithms", "bodyText": "Resolves #9122\nAdded a new property quarkus.security.users.embedded.algorithm to use algorithms other than MD5. This will be ignored if quarkus.security.users.embedded.plain-text is set to true.\nSupported values are(same as wildfly):\n\nALGORITHM_DIGEST_MD5  (Default)\nALGORITHM_DIGEST_SHA\nALGORITHM_DIGEST_SHA_256\nALGORITHM_DIGEST_SHA_384\nALGORITHM_DIGEST_SHA_512\nALGORITHM_DIGEST_SHA_512_256", "createdAt": "2020-05-10T15:01:14Z", "url": "https://github.com/quarkusio/quarkus/pull/9195", "merged": true, "mergeCommit": {"oid": "8c5df66bd0370b4ff5c4352922e514eac64fda6f"}, "closed": true, "closedAt": "2020-10-22T09:57:44Z", "author": {"login": "lower-case"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcgMuoNgFqTQwOTAzMTc3MA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdUpsspgFqTUxMzQ2NjI0Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA5MDMxNzcw", "url": "https://github.com/quarkusio/quarkus/pull/9195#pullrequestreview-409031770", "createdAt": "2020-05-11T10:01:27Z", "commit": {"oid": "53b1a11c77a377f5e087b5cb2f665a56049fbe7f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQxMDowMToyN1rOGTVbkg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQxMDowMToyN1rOGTVbkg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjkyNzI1MA==", "bodyText": "I'd consider throwing the exception instead, if the user expects some super secure algorithm then we can't really default to something else IMHO.", "url": "https://github.com/quarkusio/quarkus/pull/9195#discussion_r422927250", "createdAt": "2020-05-11T10:01:27Z", "author": {"login": "sberyozkin"}, "path": "extensions/elytron-security-properties-file/runtime/src/main/java/io/quarkus/elytron/security/runtime/ElytronPropertiesFileRecorder.java", "diffHunk": "@@ -210,4 +211,24 @@ public void run() {\n         SecurityRealm realm = new SimpleMapBackedSecurityRealm(NameRewriter.IDENTITY_REWRITER, providers);\n         return new RuntimeValue<>(realm);\n     }\n+\n+    private static String getAlgorithm(String algorithm) {\n+        switch (algorithm) {\n+            case \"ALGORITHM_DIGEST_MD5\":\n+                return DigestPassword.ALGORITHM_DIGEST_MD5;\n+            case \"ALGORITHM_DIGEST_SHA\":\n+                return DigestPassword.ALGORITHM_DIGEST_SHA;\n+            case \"ALGORITHM_DIGEST_SHA_256\":\n+                return DigestPassword.ALGORITHM_DIGEST_SHA_256;\n+            case \"ALGORITHM_DIGEST_SHA_384\":\n+                return DigestPassword.ALGORITHM_DIGEST_SHA_384;\n+            case \"ALGORITHM_DIGEST_SHA_512\":\n+                return DigestPassword.ALGORITHM_DIGEST_SHA_512;\n+            case \"ALGORITHM_DIGEST_SHA_512_256\":\n+                return DigestPassword.ALGORITHM_DIGEST_SHA_512_256;\n+            default:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "53b1a11c77a377f5e087b5cb2f665a56049fbe7f"}, "originalPosition": 30}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "53b1a11c77a377f5e087b5cb2f665a56049fbe7f", "author": {"user": {"login": "lower-case", "name": "Lovekesh Garg"}}, "url": "https://github.com/quarkusio/quarkus/commit/53b1a11c77a377f5e087b5cb2f665a56049fbe7f", "committedDate": "2020-05-10T14:53:55Z", "message": "Added a new property to support more algorithms"}, "afterCommit": {"oid": "73e1e34454903ad1c5bc182a49bd01649c216457", "author": {"user": {"login": "lower-case", "name": "Lovekesh Garg"}}, "url": "https://github.com/quarkusio/quarkus/commit/73e1e34454903ad1c5bc182a49bd01649c216457", "committedDate": "2020-05-11T18:35:41Z", "message": "Added a new property to support more algorithms"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "73e1e34454903ad1c5bc182a49bd01649c216457", "author": {"user": {"login": "lower-case", "name": "Lovekesh Garg"}}, "url": "https://github.com/quarkusio/quarkus/commit/73e1e34454903ad1c5bc182a49bd01649c216457", "committedDate": "2020-05-11T18:35:41Z", "message": "Added a new property to support more algorithms"}, "afterCommit": {"oid": "7246629123e7f5e6d3e44dd5240495d24073b2ef", "author": {"user": {"login": "lower-case", "name": "Lovekesh Garg"}}, "url": "https://github.com/quarkusio/quarkus/commit/7246629123e7f5e6d3e44dd5240495d24073b2ef", "committedDate": "2020-05-15T03:09:46Z", "message": "Added a new property to support more algorithms"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7246629123e7f5e6d3e44dd5240495d24073b2ef", "author": {"user": {"login": "lower-case", "name": "Lovekesh Garg"}}, "url": "https://github.com/quarkusio/quarkus/commit/7246629123e7f5e6d3e44dd5240495d24073b2ef", "committedDate": "2020-05-15T03:09:46Z", "message": "Added a new property to support more algorithms"}, "afterCommit": {"oid": "fe73cb9ea82feaa4fb1cefc37fa024b08c73cc4b", "author": {"user": {"login": "lower-case", "name": "Lovekesh Garg"}}, "url": "https://github.com/quarkusio/quarkus/commit/fe73cb9ea82feaa4fb1cefc37fa024b08c73cc4b", "committedDate": "2020-05-15T03:13:23Z", "message": "Added a new property to support more algorithms"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEyNTExNjQz", "url": "https://github.com/quarkusio/quarkus/pull/9195#pullrequestreview-412511643", "createdAt": "2020-05-15T09:59:58Z", "commit": {"oid": "fe73cb9ea82feaa4fb1cefc37fa024b08c73cc4b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNVQwOTo1OTo1OFrOGV-dzQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNVQwOTo1OTo1OFrOGV-dzQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTY5NjcxNw==", "bodyText": "The point of having an enum is to enforce that the random value is not entered, returning the invalid value here again makes the use of enum in this case redundant.", "url": "https://github.com/quarkusio/quarkus/pull/9195#discussion_r425696717", "createdAt": "2020-05-15T09:59:58Z", "author": {"login": "sberyozkin"}, "path": "extensions/elytron-security-properties-file/runtime/src/main/java/io/quarkus/elytron/security/runtime/Algorithm.java", "diffHunk": "@@ -0,0 +1,30 @@\n+package io.quarkus.elytron.security.runtime;\n+\n+import org.wildfly.security.password.interfaces.DigestPassword;\n+\n+/**\n+ * Enum to map UserInput Algorithm Values to wildfly Algorithm\n+ * Ex: ALGORITHM_DIGEST_MD5 -> digest-md5\n+ */\n+public enum Algorithm {\n+    ALGORITHM_DIGEST_MD5(DigestPassword.ALGORITHM_DIGEST_MD5),\n+    ALGORITHM_DIGEST_SHA(DigestPassword.ALGORITHM_DIGEST_SHA),\n+    ALGORITHM_DIGEST_SHA_256(DigestPassword.ALGORITHM_DIGEST_SHA_256),\n+    ALGORITHM_DIGEST_SHA_384(DigestPassword.ALGORITHM_DIGEST_SHA_384),\n+    ALGORITHM_DIGEST_SHA_512(DigestPassword.ALGORITHM_DIGEST_SHA_512),\n+    ALGORITHM_DIGEST_SHA_512_256(DigestPassword.ALGORITHM_DIGEST_SHA_512_256);\n+\n+    private final String algorithm;\n+\n+    Algorithm(String algorithm) {\n+        this.algorithm = algorithm;\n+    }\n+\n+    public static String getValue(String name) {\n+        try {\n+            return Algorithm.valueOf(name).algorithm;\n+        } catch (IllegalArgumentException e) {\n+            return name;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fe73cb9ea82feaa4fb1cefc37fa024b08c73cc4b"}, "originalPosition": 27}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEyNTExOTg4", "url": "https://github.com/quarkusio/quarkus/pull/9195#pullrequestreview-412511988", "createdAt": "2020-05-15T10:00:26Z", "commit": {"oid": "fe73cb9ea82feaa4fb1cefc37fa024b08c73cc4b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNVQxMDowMDoyNlrOGV-euQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNVQxMDowMDoyNlrOGV-euQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTY5Njk1Mw==", "bodyText": "This should be of the new enum type", "url": "https://github.com/quarkusio/quarkus/pull/9195#discussion_r425696953", "createdAt": "2020-05-15T10:00:26Z", "author": {"login": "sberyozkin"}, "path": "extensions/elytron-security-properties-file/runtime/src/main/java/io/quarkus/elytron/security/runtime/MPRealmConfig.java", "diffHunk": "@@ -24,6 +26,13 @@\n      */\n     @ConfigItem\n     public boolean plainText;\n+\n+    /**\n+     * Determine which algorithm to use, defaults to digest-md5. This property is ignored if @plainText is true\n+     */\n+    @ConfigItem(defaultValue = ALGORITHM_DIGEST_MD5)\n+    public String algorithm;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fe73cb9ea82feaa4fb1cefc37fa024b08c73cc4b"}, "originalPosition": 17}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "26ba735dae6709d92aba0e896391be2dc8aad701", "author": {"user": {"login": "lower-case", "name": "Lovekesh Garg"}}, "url": "https://github.com/quarkusio/quarkus/commit/26ba735dae6709d92aba0e896391be2dc8aad701", "committedDate": "2020-10-12T12:12:34Z", "message": "Added a new property to support more algorithms"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "fe73cb9ea82feaa4fb1cefc37fa024b08c73cc4b", "author": {"user": {"login": "lower-case", "name": "Lovekesh Garg"}}, "url": "https://github.com/quarkusio/quarkus/commit/fe73cb9ea82feaa4fb1cefc37fa024b08c73cc4b", "committedDate": "2020-05-15T03:13:23Z", "message": "Added a new property to support more algorithms"}, "afterCommit": {"oid": "26ba735dae6709d92aba0e896391be2dc8aad701", "author": {"user": {"login": "lower-case", "name": "Lovekesh Garg"}}, "url": "https://github.com/quarkusio/quarkus/commit/26ba735dae6709d92aba0e896391be2dc8aad701", "committedDate": "2020-10-12T12:12:34Z", "message": "Added a new property to support more algorithms"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEzNDY2MjQ2", "url": "https://github.com/quarkusio/quarkus/pull/9195#pullrequestreview-513466246", "createdAt": "2020-10-21T09:10:39Z", "commit": {"oid": "26ba735dae6709d92aba0e896391be2dc8aad701"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3396, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}