{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI4MTM4MjU4", "number": 13493, "title": "Qute: TemplateInstance - add createUni(), remove deprecated publisher()", "bodyText": "also mention Mutiny in the docs\nresolves #11026", "createdAt": "2020-11-26T15:14:22Z", "url": "https://github.com/quarkusio/quarkus/pull/13493", "merged": true, "mergeCommit": {"oid": "08da2f459e817f29b00cfadbc0d6772ee72f6909"}, "closed": true, "closedAt": "2020-11-27T15:43:10Z", "author": {"login": "mkouba"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdgU2P5ABqjQwNDMwODMyNTg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdgm1AVAFqTUzOTk0ODg4Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3acd3396a9453b14401d27a337e5e6a8178cb4ae", "author": {"user": {"login": "mkouba", "name": "Martin Kouba"}}, "url": "https://github.com/quarkusio/quarkus/commit/3acd3396a9453b14401d27a337e5e6a8178cb4ae", "committedDate": "2020-11-26T15:12:58Z", "message": "Qute: TemplateInstance - add createUni(), remove deprecated publisher()\n\n- also mention Mutiny in the docs\n- resolves #11026"}, "afterCommit": {"oid": "9412502309e341f9fcb7e3481d34ff99fbb4ff1f", "author": {"user": {"login": "mkouba", "name": "Martin Kouba"}}, "url": "https://github.com/quarkusio/quarkus/commit/9412502309e341f9fcb7e3481d34ff99fbb4ff1f", "committedDate": "2020-11-26T15:40:00Z", "message": "Qute: TemplateInstance - add createUni(), remove deprecated publisher()\n\n- also mention Mutiny in the docs\n- resolves #11026"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9412502309e341f9fcb7e3481d34ff99fbb4ff1f", "author": {"user": {"login": "mkouba", "name": "Martin Kouba"}}, "url": "https://github.com/quarkusio/quarkus/commit/9412502309e341f9fcb7e3481d34ff99fbb4ff1f", "committedDate": "2020-11-26T15:40:00Z", "message": "Qute: TemplateInstance - add createUni(), remove deprecated publisher()\n\n- also mention Mutiny in the docs\n- resolves #11026"}, "afterCommit": {"oid": "c03316f1807b314e03ca420ee392a1531c641ba0", "author": {"user": {"login": "mkouba", "name": "Martin Kouba"}}, "url": "https://github.com/quarkusio/quarkus/commit/c03316f1807b314e03ca420ee392a1531c641ba0", "committedDate": "2020-11-26T15:56:08Z", "message": "Qute: TemplateInstance - add createUni(), remove deprecated publisher()\n\n- also mention Mutiny in the docs\n- resolves #11026"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM5NDM0Nzg4", "url": "https://github.com/quarkusio/quarkus/pull/13493#pullrequestreview-539434788", "createdAt": "2020-11-26T16:06:39Z", "commit": {"oid": "c03316f1807b314e03ca420ee392a1531c641ba0"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQxNjowNjozOVrOH6hNiA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQxNjowNzo0OVrOH6hPvQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTEyMzU5Mg==", "bodyText": "What about asUni? and asMulti?", "url": "https://github.com/quarkusio/quarkus/pull/13493#discussion_r531123592", "createdAt": "2020-11-26T16:06:39Z", "author": {"login": "cescoffier"}, "path": "docs/src/main/asciidoc/qute-reference.adoc", "diffHunk": "@@ -862,6 +863,50 @@ We can include the tag like this:\n <1> `item` is resolved to an iteration element and can be referenced using the `it` key in the tag template.\n <2> Tag content injected using the `nested-content` key in the tag template.\n \n+=== Rendering Output\n+\n+`TemplateInstance` provides several ways to trigger the rendering and consume the result.\n+The most straightforward approach is represented by `TemplateInstance.render()`.\n+This method triggers a synchronous rendering, i.e. the current thread is blocked until the rendering is finished, and returns the output.\n+By contrast, `TemplateInstance.renderAsync()` returns a `CompletionStage<String>` which is completed when the rendering is finished.\n+\n+.`TemplateInstance.renderAsync()` Example\n+[source,java]\n+----\n+template.data(foo).renderAsync().whenComplete((result, failure) -> { <1>\n+   if (failure == null) {\n+      // consume the output...\n+   } else {\n+      // process failure...\n+   }\n+};\n+----\n+<1> Register a callback that is executed once the rendering is finished. \n+\n+There are also two methods that return https://smallrye.io/smallrye-mutiny/[Mutiny] types.\n+`TemplateInstance.createUni()` returns a new `Uni<String>` object.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c03316f1807b314e03ca420ee392a1531c641ba0"}, "originalPosition": 37}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTEyNDE1Nw==", "bodyText": "When not just Uni.createFrom().completionStage(() -> renderAsync()) ?", "url": "https://github.com/quarkusio/quarkus/pull/13493#discussion_r531124157", "createdAt": "2020-11-26T16:07:49Z", "author": {"login": "cescoffier"}, "path": "independent-projects/qute/core/src/main/java/io/quarkus/qute/TemplateImpl.java", "diffHunk": "@@ -79,6 +80,17 @@ public String render() {\n                     }));\n         }\n \n+        @Override\n+        public Uni<String> createUni() {\n+            return Uni.createFrom().emitter(emitter -> renderAsync().whenComplete((r, f) -> {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c03316f1807b314e03ca420ee392a1531c641ba0"}, "originalPosition": 14}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0edf964f709f961894cda175c44b18286eeb31ad", "author": {"user": {"login": "mkouba", "name": "Martin Kouba"}}, "url": "https://github.com/quarkusio/quarkus/commit/0edf964f709f961894cda175c44b18286eeb31ad", "committedDate": "2020-11-27T07:18:30Z", "message": "Qute: TemplateInstance - add createUni(), remove deprecated publisher()\n\n- also mention Mutiny in the docs\n- resolves #11026"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c03316f1807b314e03ca420ee392a1531c641ba0", "author": {"user": {"login": "mkouba", "name": "Martin Kouba"}}, "url": "https://github.com/quarkusio/quarkus/commit/c03316f1807b314e03ca420ee392a1531c641ba0", "committedDate": "2020-11-26T15:56:08Z", "message": "Qute: TemplateInstance - add createUni(), remove deprecated publisher()\n\n- also mention Mutiny in the docs\n- resolves #11026"}, "afterCommit": {"oid": "0edf964f709f961894cda175c44b18286eeb31ad", "author": {"user": {"login": "mkouba", "name": "Martin Kouba"}}, "url": "https://github.com/quarkusio/quarkus/commit/0edf964f709f961894cda175c44b18286eeb31ad", "committedDate": "2020-11-27T07:18:30Z", "message": "Qute: TemplateInstance - add createUni(), remove deprecated publisher()\n\n- also mention Mutiny in the docs\n- resolves #11026"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM5OTQ4ODg2", "url": "https://github.com/quarkusio/quarkus/pull/13493#pullrequestreview-539948886", "createdAt": "2020-11-27T12:37:06Z", "commit": {"oid": "0edf964f709f961894cda175c44b18286eeb31ad"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1305, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}