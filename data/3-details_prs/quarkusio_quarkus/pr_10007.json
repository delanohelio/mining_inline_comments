{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM0NDI1OTY1", "number": 10007, "title": "Make it possible to mark beans as unremovable via MP config.", "bodyText": "Fixes #9941\nSince we already have UnremovableBeanBuildItem concept that builds custom Predicate<BeanInfo> exclusion formulas, I thought we could just add new config and register it in a similar way. The downside is that we cannot really reuse ArcProcessor#initClassPredicates() because that needs to produce Predicate<ClassInfo>.\nBut maybe I am just missing a way to simplify that? I don't mind implementing it differently, this just seemed as the easiest way to me :-)\nAlso, do we need to mind producers and synthetic beans? Because in such case a package/class based expression in config won't do the trick. Or we would need to state that class based expression applies also to any declared producers inside that class. @loicmathieu @mkouba WDYT?", "createdAt": "2020-06-15T09:58:00Z", "url": "https://github.com/quarkusio/quarkus/pull/10007", "merged": true, "mergeCommit": {"oid": "eea5103d9f22fba19c210f23cf10dd59d912972f"}, "closed": true, "closedAt": "2020-06-16T12:03:38Z", "author": {"login": "manovotn"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcreP65AFqTQzMDUyMTkwNw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcrwmkoABqjM0NDc3MzQ0OTQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMwNTIxOTA3", "url": "https://github.com/quarkusio/quarkus/pull/10007#pullrequestreview-430521907", "createdAt": "2020-06-15T10:36:52Z", "commit": {"oid": "2f22cc6bfe9b7dca151221b6414e67f4e63ecdeb"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQxMDozNjo1M1rOGjsoaQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQxMDozNjo1M1rOGjsoaQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDA4NDU4NQ==", "bodyText": "This is not only the simple name but also the fully qualified one. Maybe drop 'simple' ?", "url": "https://github.com/quarkusio/quarkus/pull/10007#discussion_r440084585", "createdAt": "2020-06-15T10:36:53Z", "author": {"login": "loicmathieu"}, "path": "docs/src/main/asciidoc/cdi-reference.adoc", "diffHunk": "@@ -391,6 +391,24 @@ This optimization applies to all forms of bean declarations: bean class, produce\n Users can instruct the container to not remove any of their specific beans (even if they satisfy all the rules specified above) by annotating them with `io.quarkus.arc.Unremovable`.\n This annotation can be placed on the types, producer methods, and producer fields.\n \n+Since this is not always possible, there is an option to achieve the same via `application.properties`.\n+The `quarkus.arc.unremovable-types` property accepts a list of string values that are used to match beans based on their simple name or package.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2f22cc6bfe9b7dca151221b6414e67f4e63ecdeb"}, "originalPosition": 5}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2f22cc6bfe9b7dca151221b6414e67f4e63ecdeb", "author": {"user": {"login": "manovotn", "name": "Matej Novotny"}}, "url": "https://github.com/quarkusio/quarkus/commit/2f22cc6bfe9b7dca151221b6414e67f4e63ecdeb", "committedDate": "2020-06-15T09:41:37Z", "message": "Make it possible to mark beans as unremovable via MP config."}, "afterCommit": {"oid": "87afa861ee49ab32fc087ee38eef75da9f81c7df", "author": {"user": {"login": "manovotn", "name": "Matej Novotny"}}, "url": "https://github.com/quarkusio/quarkus/commit/87afa861ee49ab32fc087ee38eef75da9f81c7df", "committedDate": "2020-06-15T11:59:36Z", "message": "Make it possible to mark beans as unremovable via MP config."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMwNjAzMjUy", "url": "https://github.com/quarkusio/quarkus/pull/10007#pullrequestreview-430603252", "createdAt": "2020-06-15T12:40:03Z", "commit": {"oid": "87afa861ee49ab32fc087ee38eef75da9f81c7df"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "538f0a90ca4be08208d5ed734dba3fd1d814a0fe", "author": {"user": {"login": "manovotn", "name": "Matej Novotny"}}, "url": "https://github.com/quarkusio/quarkus/commit/538f0a90ca4be08208d5ed734dba3fd1d814a0fe", "committedDate": "2020-06-16T08:01:56Z", "message": "Make it possible to mark beans as unremovable via MP config."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "87afa861ee49ab32fc087ee38eef75da9f81c7df", "author": {"user": {"login": "manovotn", "name": "Matej Novotny"}}, "url": "https://github.com/quarkusio/quarkus/commit/87afa861ee49ab32fc087ee38eef75da9f81c7df", "committedDate": "2020-06-15T11:59:36Z", "message": "Make it possible to mark beans as unremovable via MP config."}, "afterCommit": {"oid": "538f0a90ca4be08208d5ed734dba3fd1d814a0fe", "author": {"user": {"login": "manovotn", "name": "Matej Novotny"}}, "url": "https://github.com/quarkusio/quarkus/commit/538f0a90ca4be08208d5ed734dba3fd1d814a0fe", "committedDate": "2020-06-16T08:01:56Z", "message": "Make it possible to mark beans as unremovable via MP config."}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4369, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}