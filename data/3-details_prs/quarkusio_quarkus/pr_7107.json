{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzcyODgzMjQ1", "number": 7107, "title": "Stop dealing with the SunEC library during the native image generation", "bodyText": "Fixes #6939", "createdAt": "2020-02-09T22:44:32Z", "url": "https://github.com/quarkusio/quarkus/pull/7107", "merged": true, "mergeCommit": {"oid": "b370794e9c5cef2f94648ecf8d4efc344be2ab9c"}, "closed": true, "closedAt": "2020-02-11T09:08:02Z", "author": {"login": "gwenneg"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcCwjwpAFqTM1NTY0MDMxNw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcDOBRfgFqTM1NjQ5NjEwMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU1NjQwMzE3", "url": "https://github.com/quarkusio/quarkus/pull/7107#pullrequestreview-355640317", "createdAt": "2020-02-09T22:48:25Z", "commit": {"oid": "56b3b035f88d48919f850387b82bed283954be8d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wOVQyMjo0ODoyNVrOFnXdaw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wOVQyMjo0ODoyNVrOFnXdaw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjgyMzE0Nw==", "bodyText": "@gsmet Do we want to keep this line? I'd answer no but I'm not sure if it was added for the SunEC lib or some other reason.", "url": "https://github.com/quarkusio/quarkus/pull/7107#discussion_r376823147", "createdAt": "2020-02-09T22:48:25Z", "author": {"login": "gwenneg"}, "path": "core/deployment/src/main/java/io/quarkus/deployment/steps/NativeImageConfigBuildStep.java", "diffHunk": "@@ -91,33 +84,14 @@ void build(SslContextConfigurationRecorder sslContextConfigurationRecorder,\n \n             if (graalVmHome != null) {\n                 Path graalVmLibDirectory = Paths.get(graalVmHome, \"jre\", \"lib\");\n-                Path linuxLibDirectory = graalVmLibDirectory.resolve(\"amd64\");\n-                Path linuxPath = linuxLibDirectory.resolve(LIB_SUN_EC);\n \n                 // We add . as it might be useful in a containerized world\n                 javaLibraryPathAdditionalPath.produce(new JavaLibraryPathAdditionalPathBuildItem(\".\"));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "56b3b035f88d48919f850387b82bed283954be8d"}, "originalPosition": 48}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU1NjQwMzcw", "url": "https://github.com/quarkusio/quarkus/pull/7107#pullrequestreview-355640370", "createdAt": "2020-02-09T22:49:13Z", "commit": {"oid": "56b3b035f88d48919f850387b82bed283954be8d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wOVQyMjo0OToxM1rOFnXdtg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wOVQyMjo0OToxM1rOFnXdtg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjgyMzIyMg==", "bodyText": "I suppose we want to keep this around. I'll need it to be confirmed.", "url": "https://github.com/quarkusio/quarkus/pull/7107#discussion_r376823222", "createdAt": "2020-02-09T22:49:13Z", "author": {"login": "gwenneg"}, "path": "core/deployment/src/main/java/io/quarkus/deployment/steps/NativeImageConfigBuildStep.java", "diffHunk": "@@ -91,33 +84,14 @@ void build(SslContextConfigurationRecorder sslContextConfigurationRecorder,\n \n             if (graalVmHome != null) {\n                 Path graalVmLibDirectory = Paths.get(graalVmHome, \"jre\", \"lib\");\n-                Path linuxLibDirectory = graalVmLibDirectory.resolve(\"amd64\");\n-                Path linuxPath = linuxLibDirectory.resolve(LIB_SUN_EC);\n \n                 // We add . as it might be useful in a containerized world\n                 javaLibraryPathAdditionalPath.produce(new JavaLibraryPathAdditionalPathBuildItem(\".\"));\n-                if (Files.exists(linuxPath)) {\n-                    // On Linux, the SunEC library is in jre/lib/amd64/\n-                    // This is useful for testing or if you have a similar environment in production\n-                    javaLibraryPathAdditionalPath\n-                            .produce(new JavaLibraryPathAdditionalPathBuildItem(linuxLibDirectory.toString()));\n-                } else {\n-                    // On MacOS, the SunEC library is directly in jre/lib/\n-                    // This is useful for testing or if you have a similar environment in production\n-                    javaLibraryPathAdditionalPath\n-                            .produce(new JavaLibraryPathAdditionalPathBuildItem(graalVmLibDirectory.toString()));\n-                }\n \n                 // This is useful for testing but the user will have to override it.\n                 sslTrustStoreSystemProperty.produce(\n                         new SslTrustStoreSystemPropertyBuildItem(\n                                 graalVmLibDirectory.resolve(Paths.get(\"security\", \"cacerts\")).toString()));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "56b3b035f88d48919f850387b82bed283954be8d"}, "originalPosition": 64}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "56b3b035f88d48919f850387b82bed283954be8d", "author": {"user": {"login": "gwenneg", "name": "Gwenneg Lepage"}}, "url": "https://github.com/quarkusio/quarkus/commit/56b3b035f88d48919f850387b82bed283954be8d", "committedDate": "2020-02-09T22:37:22Z", "message": "Stop dealing with the SunEC library during the native image generation"}, "afterCommit": {"oid": "569fcc9187bbc069c87e68609f4803a14fc3de33", "author": {"user": {"login": "gwenneg", "name": "Gwenneg Lepage"}}, "url": "https://github.com/quarkusio/quarkus/commit/569fcc9187bbc069c87e68609f4803a14fc3de33", "committedDate": "2020-02-09T22:52:17Z", "message": "Stop dealing with the SunEC library during the native image generation"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU1ODYwNDk1", "url": "https://github.com/quarkusio/quarkus/pull/7107#pullrequestreview-355860495", "createdAt": "2020-02-10T11:20:33Z", "commit": {"oid": "569fcc9187bbc069c87e68609f4803a14fc3de33"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMFQxMToyMDozM1rOFnie5Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMFQxMToyMDo0M1rOFnifJg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzAwMzc0OQ==", "bodyText": "Yes.", "url": "https://github.com/quarkusio/quarkus/pull/7107#discussion_r377003749", "createdAt": "2020-02-10T11:20:33Z", "author": {"login": "gsmet"}, "path": "core/deployment/src/main/java/io/quarkus/deployment/steps/NativeImageConfigBuildStep.java", "diffHunk": "@@ -91,33 +84,14 @@ void build(SslContextConfigurationRecorder sslContextConfigurationRecorder,\n \n             if (graalVmHome != null) {\n                 Path graalVmLibDirectory = Paths.get(graalVmHome, \"jre\", \"lib\");\n-                Path linuxLibDirectory = graalVmLibDirectory.resolve(\"amd64\");\n-                Path linuxPath = linuxLibDirectory.resolve(LIB_SUN_EC);\n \n                 // We add . as it might be useful in a containerized world\n                 javaLibraryPathAdditionalPath.produce(new JavaLibraryPathAdditionalPathBuildItem(\".\"));\n-                if (Files.exists(linuxPath)) {\n-                    // On Linux, the SunEC library is in jre/lib/amd64/\n-                    // This is useful for testing or if you have a similar environment in production\n-                    javaLibraryPathAdditionalPath\n-                            .produce(new JavaLibraryPathAdditionalPathBuildItem(linuxLibDirectory.toString()));\n-                } else {\n-                    // On MacOS, the SunEC library is directly in jre/lib/\n-                    // This is useful for testing or if you have a similar environment in production\n-                    javaLibraryPathAdditionalPath\n-                            .produce(new JavaLibraryPathAdditionalPathBuildItem(graalVmLibDirectory.toString()));\n-                }\n \n                 // This is useful for testing but the user will have to override it.\n                 sslTrustStoreSystemProperty.produce(\n                         new SslTrustStoreSystemPropertyBuildItem(\n                                 graalVmLibDirectory.resolve(Paths.get(\"security\", \"cacerts\")).toString()));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjgyMzIyMg=="}, "originalCommit": {"oid": "56b3b035f88d48919f850387b82bed283954be8d"}, "originalPosition": 64}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzAwMzgxNA==", "bodyText": "I think we can remove it.", "url": "https://github.com/quarkusio/quarkus/pull/7107#discussion_r377003814", "createdAt": "2020-02-10T11:20:43Z", "author": {"login": "gsmet"}, "path": "core/deployment/src/main/java/io/quarkus/deployment/steps/NativeImageConfigBuildStep.java", "diffHunk": "@@ -91,33 +84,14 @@ void build(SslContextConfigurationRecorder sslContextConfigurationRecorder,\n \n             if (graalVmHome != null) {\n                 Path graalVmLibDirectory = Paths.get(graalVmHome, \"jre\", \"lib\");\n-                Path linuxLibDirectory = graalVmLibDirectory.resolve(\"amd64\");\n-                Path linuxPath = linuxLibDirectory.resolve(LIB_SUN_EC);\n \n                 // We add . as it might be useful in a containerized world\n                 javaLibraryPathAdditionalPath.produce(new JavaLibraryPathAdditionalPathBuildItem(\".\"));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjgyMzE0Nw=="}, "originalCommit": {"oid": "56b3b035f88d48919f850387b82bed283954be8d"}, "originalPosition": 48}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "569fcc9187bbc069c87e68609f4803a14fc3de33", "author": {"user": {"login": "gwenneg", "name": "Gwenneg Lepage"}}, "url": "https://github.com/quarkusio/quarkus/commit/569fcc9187bbc069c87e68609f4803a14fc3de33", "committedDate": "2020-02-09T22:52:17Z", "message": "Stop dealing with the SunEC library during the native image generation"}, "afterCommit": {"oid": "3a86ab243fb2cd9453e63e3b02d0317014c94fbe", "author": {"user": {"login": "gwenneg", "name": "Gwenneg Lepage"}}, "url": "https://github.com/quarkusio/quarkus/commit/3a86ab243fb2cd9453e63e3b02d0317014c94fbe", "committedDate": "2020-02-10T11:54:27Z", "message": "Stop dealing with the SunEC library during the native image generation"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3a86ab243fb2cd9453e63e3b02d0317014c94fbe", "author": {"user": {"login": "gwenneg", "name": "Gwenneg Lepage"}}, "url": "https://github.com/quarkusio/quarkus/commit/3a86ab243fb2cd9453e63e3b02d0317014c94fbe", "committedDate": "2020-02-10T11:54:27Z", "message": "Stop dealing with the SunEC library during the native image generation"}, "afterCommit": {"oid": "cef60d025aea37e17e6127985a762359e5779ff6", "author": {"user": {"login": "gwenneg", "name": "Gwenneg Lepage"}}, "url": "https://github.com/quarkusio/quarkus/commit/cef60d025aea37e17e6127985a762359e5779ff6", "committedDate": "2020-02-10T12:20:26Z", "message": "Stop dealing with the SunEC library during the native image generation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1bfaeed30e8f139e4c8a0584b89dfefa48e15fdd", "author": {"user": {"login": "gwenneg", "name": "Gwenneg Lepage"}}, "url": "https://github.com/quarkusio/quarkus/commit/1bfaeed30e8f139e4c8a0584b89dfefa48e15fdd", "committedDate": "2020-02-10T12:25:24Z", "message": "Stop dealing with the SunEC library during the native image generation"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "cef60d025aea37e17e6127985a762359e5779ff6", "author": {"user": {"login": "gwenneg", "name": "Gwenneg Lepage"}}, "url": "https://github.com/quarkusio/quarkus/commit/cef60d025aea37e17e6127985a762359e5779ff6", "committedDate": "2020-02-10T12:20:26Z", "message": "Stop dealing with the SunEC library during the native image generation"}, "afterCommit": {"oid": "1bfaeed30e8f139e4c8a0584b89dfefa48e15fdd", "author": {"user": {"login": "gwenneg", "name": "Gwenneg Lepage"}}, "url": "https://github.com/quarkusio/quarkus/commit/1bfaeed30e8f139e4c8a0584b89dfefa48e15fdd", "committedDate": "2020-02-10T12:25:24Z", "message": "Stop dealing with the SunEC library during the native image generation"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU2NDk2MTAy", "url": "https://github.com/quarkusio/quarkus/pull/7107#pullrequestreview-356496102", "createdAt": "2020-02-11T09:07:55Z", "commit": {"oid": "1bfaeed30e8f139e4c8a0584b89dfefa48e15fdd"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4875, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}