{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY4MzE2OTA1", "number": 6841, "title": "Fix issue getting config from fork join pool", "bodyText": "", "createdAt": "2020-01-29T00:32:22Z", "url": "https://github.com/quarkusio/quarkus/pull/6841", "merged": true, "mergeCommit": {"oid": "4e0e1b26e0074ff15d322783bd9673d9cee994ff"}, "closed": true, "closedAt": "2020-02-11T09:06:24Z", "author": {"login": "stuartwdouglas"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb-8ao1ABqjI5ODc5NjIwNDI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcDN_yxAFqTM1NjQ5NTIxMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "132c73e7dfc6aa4fd0c0ee303b444f0f182ec4ce", "author": {"user": {"login": "stuartwdouglas", "name": "Stuart Douglas"}}, "url": "https://github.com/quarkusio/quarkus/commit/132c73e7dfc6aa4fd0c0ee303b444f0f182ec4ce", "committedDate": "2020-01-29T00:31:34Z", "message": "Fix issue getting config from fork join pool"}, "afterCommit": {"oid": "f804d5ca85298cd7847587a18f5b381515072742", "author": {"user": {"login": "stuartwdouglas", "name": "Stuart Douglas"}}, "url": "https://github.com/quarkusio/quarkus/commit/f804d5ca85298cd7847587a18f5b381515072742", "committedDate": "2020-01-29T02:20:43Z", "message": "Fix issue getting config from fork join pool"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f804d5ca85298cd7847587a18f5b381515072742", "author": {"user": {"login": "stuartwdouglas", "name": "Stuart Douglas"}}, "url": "https://github.com/quarkusio/quarkus/commit/f804d5ca85298cd7847587a18f5b381515072742", "committedDate": "2020-01-29T02:20:43Z", "message": "Fix issue getting config from fork join pool"}, "afterCommit": {"oid": "56c1e11d5651dcdc3d6cd2084f300bd66215ab48", "author": {"user": {"login": "stuartwdouglas", "name": "Stuart Douglas"}}, "url": "https://github.com/quarkusio/quarkus/commit/56c1e11d5651dcdc3d6cd2084f300bd66215ab48", "committedDate": "2020-01-29T05:19:16Z", "message": "Fix issue getting config from fork join pool"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ5OTI2NjI4", "url": "https://github.com/quarkusio/quarkus/pull/6841#pullrequestreview-349926628", "createdAt": "2020-01-29T08:21:26Z", "commit": {"oid": "56c1e11d5651dcdc3d6cd2084f300bd66215ab48"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOVQwODoyMToyN1rOFi_3Eg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOVQwODoyMToyN1rOFi_3Eg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjI0MjE5NA==", "bodyText": "I wonder if we should be catching the ISE here", "url": "https://github.com/quarkusio/quarkus/pull/6841#discussion_r372242194", "createdAt": "2020-01-29T08:21:27Z", "author": {"login": "geoand"}, "path": "core/runtime/src/main/java/io/quarkus/runtime/configuration/QuarkusConfigFactory.java", "diffHunk": "@@ -34,6 +36,17 @@ public SmallRyeConfig getConfigFor(final SmallRyeConfigProviderResolver configPr\n     }\n \n     public static void setConfig(SmallRyeConfig config) {\n+        //This is a hack, but there is not a great deal that can be done about it\n+        //it is possible that when running in test/dev mode some code will be run with the system TCCL\n+        //e.g. when using the fork join pool\n+        //if this happens any use of config will fail, as the system class loader will resolve the\n+        //wrong instance of the config classes\n+        if (QuarkusConfigFactory.config != null) {\n+            ConfigProviderResolver.instance().releaseConfig(QuarkusConfigFactory.config);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "56c1e11d5651dcdc3d6cd2084f300bd66215ab48"}, "originalPosition": 18}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "56c1e11d5651dcdc3d6cd2084f300bd66215ab48", "author": {"user": {"login": "stuartwdouglas", "name": "Stuart Douglas"}}, "url": "https://github.com/quarkusio/quarkus/commit/56c1e11d5651dcdc3d6cd2084f300bd66215ab48", "committedDate": "2020-01-29T05:19:16Z", "message": "Fix issue getting config from fork join pool"}, "afterCommit": {"oid": "42f4b20b347cc55f9f4717d5cd870f7a0018ff11", "author": {"user": {"login": "stuartwdouglas", "name": "Stuart Douglas"}}, "url": "https://github.com/quarkusio/quarkus/commit/42f4b20b347cc55f9f4717d5cd870f7a0018ff11", "committedDate": "2020-02-10T05:47:42Z", "message": "Fix issue getting config from fork join pool"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b5cbc2b0c66ab608cf76d6e5ac6d4e571f895096", "author": {"user": {"login": "stuartwdouglas", "name": "Stuart Douglas"}}, "url": "https://github.com/quarkusio/quarkus/commit/b5cbc2b0c66ab608cf76d6e5ac6d4e571f895096", "committedDate": "2020-02-11T02:44:42Z", "message": "Shutdown all resources on close"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b2bfc3bf3779423e207a1524e07154df2f421e78", "author": {"user": {"login": "stuartwdouglas", "name": "Stuart Douglas"}}, "url": "https://github.com/quarkusio/quarkus/commit/b2bfc3bf3779423e207a1524e07154df2f421e78", "committedDate": "2020-02-11T02:51:32Z", "message": "Fix issue getting config from fork join pool"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "42f4b20b347cc55f9f4717d5cd870f7a0018ff11", "author": {"user": {"login": "stuartwdouglas", "name": "Stuart Douglas"}}, "url": "https://github.com/quarkusio/quarkus/commit/42f4b20b347cc55f9f4717d5cd870f7a0018ff11", "committedDate": "2020-02-10T05:47:42Z", "message": "Fix issue getting config from fork join pool"}, "afterCommit": {"oid": "b2bfc3bf3779423e207a1524e07154df2f421e78", "author": {"user": {"login": "stuartwdouglas", "name": "Stuart Douglas"}}, "url": "https://github.com/quarkusio/quarkus/commit/b2bfc3bf3779423e207a1524e07154df2f421e78", "committedDate": "2020-02-11T02:51:32Z", "message": "Fix issue getting config from fork join pool"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU2NDk1MjEw", "url": "https://github.com/quarkusio/quarkus/pull/6841#pullrequestreview-356495210", "createdAt": "2020-02-11T09:06:18Z", "commit": {"oid": "b2bfc3bf3779423e207a1524e07154df2f421e78"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 175, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}