{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDczODA0MTIw", "number": 11638, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQxMTowMzo0N1rOEchh6Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QwOTowNDoyNFrOEf5T6g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk4MzQ0OTM3OnYy", "diffSide": "RIGHT", "path": "extensions/smallrye-openapi-common/deployment/src/main/java/io/quarkus/smallrye/openapi/common/deployment/SmallRyeOpenApiConfig.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQxMTowMzo0N1rOHHG-WA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQxMToxMjo1N1rOHHHQZg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzIxNjM0NA==", "bodyText": "I would prefer if we used Directory rather than Dir.", "url": "https://github.com/quarkusio/quarkus/pull/11638#discussion_r477216344", "createdAt": "2020-08-26T11:03:47Z", "author": {"login": "gsmet"}, "path": "extensions/smallrye-openapi-common/deployment/src/main/java/io/quarkus/smallrye/openapi/common/deployment/SmallRyeOpenApiConfig.java", "diffHunk": "@@ -10,4 +13,11 @@\n      */\n     @ConfigItem(defaultValue = \"/openapi\")\n     public String path;\n+\n+    /**\n+     * If set, the generated OpenAPI schema documents will be stored here on build.\n+     * Both openapi.json and openapi.yaml will be stored here if this is set.\n+     */\n+    @ConfigItem\n+    public Optional<Path> storeSchemaDir;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6b87acff64d63f6259983e786241ebf2fa9d59b6"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzIyMDk2Ng==", "bodyText": "Cool. Changed to Directory", "url": "https://github.com/quarkusio/quarkus/pull/11638#discussion_r477220966", "createdAt": "2020-08-26T11:12:57Z", "author": {"login": "phillip-kruger"}, "path": "extensions/smallrye-openapi-common/deployment/src/main/java/io/quarkus/smallrye/openapi/common/deployment/SmallRyeOpenApiConfig.java", "diffHunk": "@@ -10,4 +13,11 @@\n      */\n     @ConfigItem(defaultValue = \"/openapi\")\n     public String path;\n+\n+    /**\n+     * If set, the generated OpenAPI schema documents will be stored here on build.\n+     * Both openapi.json and openapi.yaml will be stored here if this is set.\n+     */\n+    @ConfigItem\n+    public Optional<Path> storeSchemaDir;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzIxNjM0NA=="}, "originalCommit": {"oid": "6b87acff64d63f6259983e786241ebf2fa9d59b6"}, "originalPosition": 19}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAxODgwMjk4OnYy", "diffSide": "RIGHT", "path": "extensions/smallrye-openapi/deployment/src/main/java/io/quarkus/smallrye/openapi/deployment/SmallRyeOpenApiProcessor.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QwOTowNDoyNFrOHMdNQA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QwOToxNzoxN1rOHMdvXQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjgyMzQ4OA==", "bodyText": "When specifying a relative path this appears to be relative to the working directory of where the build is running. I would instead have expected it to be relative to the Maven project's basedir. See issue #11846.", "url": "https://github.com/quarkusio/quarkus/pull/11638#discussion_r482823488", "createdAt": "2020-09-03T09:04:24Z", "author": {"login": "knutwannheden"}, "path": "extensions/smallrye-openapi/deployment/src/main/java/io/quarkus/smallrye/openapi/deployment/SmallRyeOpenApiProcessor.java", "diffHunk": "@@ -331,6 +341,21 @@ LogCleanupFilterBuildItem logCleanup() {\n                 \"OpenAPI document initialized:\");\n     }\n \n+    private void storeGeneratedSchema(byte[] schemaDocument, Format format) throws IOException {\n+        Path directory = openApiConfig.storeSchemaDirectory.get();\n+        if (!Files.exists(directory)) {\n+            Files.createDirectories(directory);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "14cf55edd2ddff72b837184a7a1eca45082abc73"}, "originalPosition": 73}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjgzMjIyMQ==", "bodyText": "I'll changes this. Thanks :)", "url": "https://github.com/quarkusio/quarkus/pull/11638#discussion_r482832221", "createdAt": "2020-09-03T09:17:17Z", "author": {"login": "phillip-kruger"}, "path": "extensions/smallrye-openapi/deployment/src/main/java/io/quarkus/smallrye/openapi/deployment/SmallRyeOpenApiProcessor.java", "diffHunk": "@@ -331,6 +341,21 @@ LogCleanupFilterBuildItem logCleanup() {\n                 \"OpenAPI document initialized:\");\n     }\n \n+    private void storeGeneratedSchema(byte[] schemaDocument, Format format) throws IOException {\n+        Path directory = openApiConfig.storeSchemaDirectory.get();\n+        if (!Files.exists(directory)) {\n+            Files.createDirectories(directory);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjgyMzQ4OA=="}, "originalCommit": {"oid": "14cf55edd2ddff72b837184a7a1eca45082abc73"}, "originalPosition": 73}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 529, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}