{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA4NTE5MTI2", "number": 8823, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQxMjo0NjozMFrOD1wdTw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQxMjo0NjozMFrOD1wdTw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU3Njk1MDU1OnYy", "diffSide": "RIGHT", "path": "extensions/container-image/deployment/src/main/java/io/quarkus/container/image/deployment/ContainerImageConfig.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQxMjo0NjozMFrOGLWBCw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQxMjo1MDozNVrOGLWKog==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDU0ODIzNQ==", "bodyText": "I'm not sure why we lowercase only in this case? I mean it will fail if the group has some uppercase character, won't it?", "url": "https://github.com/quarkusio/quarkus/pull/8823#discussion_r414548235", "createdAt": "2020-04-24T12:46:30Z", "author": {"login": "gsmet"}, "path": "extensions/container-image/deployment/src/main/java/io/quarkus/container/image/deployment/ContainerImageConfig.java", "diffHunk": "@@ -61,4 +61,20 @@\n      */\n     @ConfigItem\n     public boolean push;\n+\n+    /**\n+     * Since user.name which is default value can be uppercase and uppercase values are not allowed\n+     * in the repository part of image references, we need to make the username lowercase.\n+     *\n+     * We purposely don't change the value of an explicitly set group.\n+     */\n+    public Optional<String> getEffectiveGroup() {\n+        if (group.isPresent()) {\n+            String originalGroup = group.get();\n+            if (originalGroup.equals(System.getProperty(\"user.name\"))) {\n+                return Optional.of(originalGroup.toLowerCase());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e80b3a7766b64712f9388a11f4bdfb8706515ee4"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDU1MDY5MA==", "bodyText": "My idea is that it's better to fail if the user explicitly sets a group that is invalid (the error message is very explicit and actionable). I am thinking that if we start changing user supplied configuration it could be a very slippery slope...\nIf however the user did not set anything and the username was used implicitly, then only in that implicit case should we intervene.", "url": "https://github.com/quarkusio/quarkus/pull/8823#discussion_r414550690", "createdAt": "2020-04-24T12:50:35Z", "author": {"login": "geoand"}, "path": "extensions/container-image/deployment/src/main/java/io/quarkus/container/image/deployment/ContainerImageConfig.java", "diffHunk": "@@ -61,4 +61,20 @@\n      */\n     @ConfigItem\n     public boolean push;\n+\n+    /**\n+     * Since user.name which is default value can be uppercase and uppercase values are not allowed\n+     * in the repository part of image references, we need to make the username lowercase.\n+     *\n+     * We purposely don't change the value of an explicitly set group.\n+     */\n+    public Optional<String> getEffectiveGroup() {\n+        if (group.isPresent()) {\n+            String originalGroup = group.get();\n+            if (originalGroup.equals(System.getProperty(\"user.name\"))) {\n+                return Optional.of(originalGroup.toLowerCase());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDU0ODIzNQ=="}, "originalCommit": {"oid": "e80b3a7766b64712f9388a11f4bdfb8706515ee4"}, "originalPosition": 15}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3451, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}