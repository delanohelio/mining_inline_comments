{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQyMDQ0MTY4", "number": 10372, "reviewThreads": {"totalCount": 39, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQxMzo1Nzo1NFrOEKHDLA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQxNToyNDo1MVrOETTmfQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc5MDM2NzE2OnYy", "diffSide": "RIGHT", "path": "independent-projects/tools/platform-descriptor-resolver-json/src/main/java/io/quarkus/platform/descriptor/resolver/json/QuarkusJsonPlatformDescriptorResolver.java", "isResolved": true, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQxMzo1Nzo1NFrOGq9rBA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMVQwNTozODoxNVrOGrXcGA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzcwMzgxMg==", "bodyText": "@aloubyansky \u2b06\ufe0f this is my dirty hack until we find a nicer solution", "url": "https://github.com/quarkusio/quarkus/pull/10372#discussion_r447703812", "createdAt": "2020-06-30T13:57:54Z", "author": {"login": "ia3andy"}, "path": "independent-projects/tools/platform-descriptor-resolver-json/src/main/java/io/quarkus/platform/descriptor/resolver/json/QuarkusJsonPlatformDescriptorResolver.java", "diffHunk": "@@ -451,10 +451,11 @@ private QuarkusPlatformDescriptor loadPlatformDescriptor(ArtifactResolver mvn, f\n         // check whether the quarkus-platform-descriptor-json used in the platform is already on the classpath\n         final String pomPropsPath = \"META-INF/maven/\" + ToolsConstants.IO_QUARKUS + \"/\" + QUARKUS_PLATFORM_DESCRIPTOR_JSON\n                 + \"/pom.properties\";\n-        final InputStream is = getCpResourceAsStream(pomPropsPath);\n-        if (is != null) {\n+        final URL url = Thread.currentThread().getContextClassLoader().getResource(pomPropsPath);\n+        // FIXME ia3andy temporary hack to work with jars\n+        if (url != null && !url.toString().startsWith(\"jar:\")) {\n             final Properties props = new Properties();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0dd36fa6b934ecf76ce28416f17029d073ce90ae"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Nzk3NDg5Ng==", "bodyText": "Why do you care where it is coming from?", "url": "https://github.com/quarkusio/quarkus/pull/10372#discussion_r447974896", "createdAt": "2020-06-30T20:58:21Z", "author": {"login": "aloubyansky"}, "path": "independent-projects/tools/platform-descriptor-resolver-json/src/main/java/io/quarkus/platform/descriptor/resolver/json/QuarkusJsonPlatformDescriptorResolver.java", "diffHunk": "@@ -451,10 +451,11 @@ private QuarkusPlatformDescriptor loadPlatformDescriptor(ArtifactResolver mvn, f\n         // check whether the quarkus-platform-descriptor-json used in the platform is already on the classpath\n         final String pomPropsPath = \"META-INF/maven/\" + ToolsConstants.IO_QUARKUS + \"/\" + QUARKUS_PLATFORM_DESCRIPTOR_JSON\n                 + \"/pom.properties\";\n-        final InputStream is = getCpResourceAsStream(pomPropsPath);\n-        if (is != null) {\n+        final URL url = Thread.currentThread().getContextClassLoader().getResource(pomPropsPath);\n+        // FIXME ia3andy temporary hack to work with jars\n+        if (url != null && !url.toString().startsWith(\"jar:\")) {\n             final Properties props = new Properties();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzcwMzgxMg=="}, "originalCommit": {"oid": "0dd36fa6b934ecf76ce28416f17029d073ce90ae"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODExNjQwMA==", "bodyText": "@aloubyansky TBH, I was just trying to make it work to continue coding the codestarts.\nBefore, it was using a ClassPathResourceLoader as soon as it was able to resolve the properties (as a stream), but this loader doesn't work with jars when getting Path.\nMaybe we should just improve the ClassPathResourceLoader to make it a little smarter and support jars? Is this what you meant when pointing me to ClassPathUtils?", "url": "https://github.com/quarkusio/quarkus/pull/10372#discussion_r448116400", "createdAt": "2020-07-01T05:01:46Z", "author": {"login": "ia3andy"}, "path": "independent-projects/tools/platform-descriptor-resolver-json/src/main/java/io/quarkus/platform/descriptor/resolver/json/QuarkusJsonPlatformDescriptorResolver.java", "diffHunk": "@@ -451,10 +451,11 @@ private QuarkusPlatformDescriptor loadPlatformDescriptor(ArtifactResolver mvn, f\n         // check whether the quarkus-platform-descriptor-json used in the platform is already on the classpath\n         final String pomPropsPath = \"META-INF/maven/\" + ToolsConstants.IO_QUARKUS + \"/\" + QUARKUS_PLATFORM_DESCRIPTOR_JSON\n                 + \"/pom.properties\";\n-        final InputStream is = getCpResourceAsStream(pomPropsPath);\n-        if (is != null) {\n+        final URL url = Thread.currentThread().getContextClassLoader().getResource(pomPropsPath);\n+        // FIXME ia3andy temporary hack to work with jars\n+        if (url != null && !url.toString().startsWith(\"jar:\")) {\n             final Properties props = new Properties();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzcwMzgxMg=="}, "originalCommit": {"oid": "0dd36fa6b934ecf76ce28416f17029d073ce90ae"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODExODk2NQ==", "bodyText": "I don't understand what this change is about, tbh. It will load the props whether they are in a JAR or a dir.", "url": "https://github.com/quarkusio/quarkus/pull/10372#discussion_r448118965", "createdAt": "2020-07-01T05:12:06Z", "author": {"login": "aloubyansky"}, "path": "independent-projects/tools/platform-descriptor-resolver-json/src/main/java/io/quarkus/platform/descriptor/resolver/json/QuarkusJsonPlatformDescriptorResolver.java", "diffHunk": "@@ -451,10 +451,11 @@ private QuarkusPlatformDescriptor loadPlatformDescriptor(ArtifactResolver mvn, f\n         // check whether the quarkus-platform-descriptor-json used in the platform is already on the classpath\n         final String pomPropsPath = \"META-INF/maven/\" + ToolsConstants.IO_QUARKUS + \"/\" + QUARKUS_PLATFORM_DESCRIPTOR_JSON\n                 + \"/pom.properties\";\n-        final InputStream is = getCpResourceAsStream(pomPropsPath);\n-        if (is != null) {\n+        final URL url = Thread.currentThread().getContextClassLoader().getResource(pomPropsPath);\n+        // FIXME ia3andy temporary hack to work with jars\n+        if (url != null && !url.toString().startsWith(\"jar:\")) {\n             final Properties props = new Properties();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzcwMzgxMg=="}, "originalCommit": {"oid": "0dd36fa6b934ecf76ce28416f17029d073ce90ae"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODEyNTk3Ng==", "bodyText": "@aloubyansky look bellow, when the properties is read successfully, it sets the classloader and, it then uses the ClassPathResourceLoader, only when the classloader is null that it will use the ZipResourceLoader.\nWe can just ignore my change here, this is just a temporary hack (it was failing without it).", "url": "https://github.com/quarkusio/quarkus/pull/10372#discussion_r448125976", "createdAt": "2020-07-01T05:38:15Z", "author": {"login": "ia3andy"}, "path": "independent-projects/tools/platform-descriptor-resolver-json/src/main/java/io/quarkus/platform/descriptor/resolver/json/QuarkusJsonPlatformDescriptorResolver.java", "diffHunk": "@@ -451,10 +451,11 @@ private QuarkusPlatformDescriptor loadPlatformDescriptor(ArtifactResolver mvn, f\n         // check whether the quarkus-platform-descriptor-json used in the platform is already on the classpath\n         final String pomPropsPath = \"META-INF/maven/\" + ToolsConstants.IO_QUARKUS + \"/\" + QUARKUS_PLATFORM_DESCRIPTOR_JSON\n                 + \"/pom.properties\";\n-        final InputStream is = getCpResourceAsStream(pomPropsPath);\n-        if (is != null) {\n+        final URL url = Thread.currentThread().getContextClassLoader().getResource(pomPropsPath);\n+        // FIXME ia3andy temporary hack to work with jars\n+        if (url != null && !url.toString().startsWith(\"jar:\")) {\n             final Properties props = new Properties();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzcwMzgxMg=="}, "originalCommit": {"oid": "0dd36fa6b934ecf76ce28416f17029d073ce90ae"}, "originalPosition": 9}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc5MDM2ODc0OnYy", "diffSide": "RIGHT", "path": "devtools/maven/src/main/java/io/quarkus/maven/CreateProjectMojo.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQxMzo1ODoxMlrOGq9r_A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQxNDowMToyOVrOGq92Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzcwNDA2MA==", "bodyText": "What's the difference between them? I thought codestarts were example code?", "url": "https://github.com/quarkusio/quarkus/pull/10372#discussion_r447704060", "createdAt": "2020-06-30T13:58:12Z", "author": {"login": "gastaldi"}, "path": "devtools/maven/src/main/java/io/quarkus/maven/CreateProjectMojo.java", "diffHunk": "@@ -74,6 +74,12 @@\n     @Parameter(property = \"projectVersion\")\n     private String projectVersion;\n \n+    @Parameter(property = \"codestartsEnabled\")\n+    private Boolean codestartsEnabled;\n+\n+    @Parameter(property = \"withExampleCode\")\n+    private Boolean withExampleCode;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0dd36fa6b934ecf76ce28416f17029d073ce90ae"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzcwNjY3NQ==", "bodyText": "@gastaldi one is temporary, codestartsEnabled  is a hack to activate the codestarts codegen until this replace the existing one once and for all.\nwithExampleCode is letting you decide if you want example code or not, example if you want reasteasy, but an empty project (without the ExampleResource)..", "url": "https://github.com/quarkusio/quarkus/pull/10372#discussion_r447706675", "createdAt": "2020-06-30T14:01:29Z", "author": {"login": "ia3andy"}, "path": "devtools/maven/src/main/java/io/quarkus/maven/CreateProjectMojo.java", "diffHunk": "@@ -74,6 +74,12 @@\n     @Parameter(property = \"projectVersion\")\n     private String projectVersion;\n \n+    @Parameter(property = \"codestartsEnabled\")\n+    private Boolean codestartsEnabled;\n+\n+    @Parameter(property = \"withExampleCode\")\n+    private Boolean withExampleCode;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzcwNDA2MA=="}, "originalCommit": {"oid": "0dd36fa6b934ecf76ce28416f17029d073ce90ae"}, "originalPosition": 8}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc5MDM3MzQ3OnYy", "diffSide": "RIGHT", "path": "independent-projects/tools/devtools-common/src/main/java/io/quarkus/devtools/project/codegen/buildtool/GradleGenerator.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQxMzo1OTowN1rOGq9u9g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQxMzo1OTowN1rOGq9u9g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzcwNDgyMg==", "bodyText": "I am not sure why I renamed it, I will rename it back to the original name later", "url": "https://github.com/quarkusio/quarkus/pull/10372#discussion_r447704822", "createdAt": "2020-06-30T13:59:07Z", "author": {"login": "ia3andy"}, "path": "independent-projects/tools/devtools-common/src/main/java/io/quarkus/devtools/project/codegen/buildtool/GradleGenerator.java", "diffHunk": "@@ -20,7 +20,7 @@\n import java.util.concurrent.atomic.AtomicReference;\n import java.util.function.Consumer;\n \n-public final class GradleBuildFilesCreator {\n+public final class GradleGenerator {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0dd36fa6b934ecf76ce28416f17029d073ce90ae"}, "originalPosition": 11}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc5MDM5NzEwOnYy", "diffSide": "RIGHT", "path": "independent-projects/tools/devtools-common/src/main/java/io/quarkus/platform/descriptor/loader/json/ClassPathResourceLoader.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQxNDowNDowMlrOGq99nA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQxNDowNToyNFrOGq-BuQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzcwODU3Mg==", "bodyText": "url may be null", "url": "https://github.com/quarkusio/quarkus/pull/10372#discussion_r447708572", "createdAt": "2020-06-30T14:04:02Z", "author": {"login": "gastaldi"}, "path": "independent-projects/tools/devtools-common/src/main/java/io/quarkus/platform/descriptor/loader/json/ClassPathResourceLoader.java", "diffHunk": "@@ -16,6 +19,13 @@ public ClassPathResourceLoader(ClassLoader cl) {\n         this.cl = cl;\n     }\n \n+    @Override\n+    public <T> T loadResourcePath(String name, ResourcePathConsumer<T> consumer) throws IOException {\n+        final URL url = cl.getResource(name);\n+        final File file = ResourceLoaders.getResourceFile(url, name);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0dd36fa6b934ecf76ce28416f17029d073ce90ae"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzcwOTYyNQ==", "bodyText": "Ah, ResourceLoaders.getResourceFile throws an exception if that happens, nvm", "url": "https://github.com/quarkusio/quarkus/pull/10372#discussion_r447709625", "createdAt": "2020-06-30T14:05:24Z", "author": {"login": "gastaldi"}, "path": "independent-projects/tools/devtools-common/src/main/java/io/quarkus/platform/descriptor/loader/json/ClassPathResourceLoader.java", "diffHunk": "@@ -16,6 +19,13 @@ public ClassPathResourceLoader(ClassLoader cl) {\n         this.cl = cl;\n     }\n \n+    @Override\n+    public <T> T loadResourcePath(String name, ResourcePathConsumer<T> consumer) throws IOException {\n+        final URL url = cl.getResource(name);\n+        final File file = ResourceLoaders.getResourceFile(url, name);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzcwODU3Mg=="}, "originalCommit": {"oid": "0dd36fa6b934ecf76ce28416f17029d073ce90ae"}, "originalPosition": 19}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc5MDM5ODM0OnYy", "diffSide": "RIGHT", "path": "independent-projects/tools/devtools-common/src/main/java/io/quarkus/platform/descriptor/loader/json/DirectoryResourceLoader.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQxNDowNDoyMFrOGq9-dw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMVQwNDo0NToyMVrOGrWm_Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzcwODc5MQ==", "bodyText": "This is strange. name should never be null or empty IMHO", "url": "https://github.com/quarkusio/quarkus/pull/10372#discussion_r447708791", "createdAt": "2020-06-30T14:04:20Z", "author": {"login": "gastaldi"}, "path": "independent-projects/tools/devtools-common/src/main/java/io/quarkus/platform/descriptor/loader/json/DirectoryResourceLoader.java", "diffHunk": "@@ -18,16 +17,16 @@ public DirectoryResourceLoader(Path dir) {\n     }\n \n     @Override\n-    public <T> T loadResource(String name, ResourceInputStreamConsumer<T> consumer) throws IOException {\n-        Path resource = dir.resolve(name);\n-        if (!Files.exists(resource)) {\n-            throw new IOException(\"Failed to locate \" + resource);\n+    public <T> T loadResourcePath(String name, ResourcePathConsumer<T> consumer) throws IOException {\n+        Path path;\n+        if (name == null || name.isEmpty()) {\n+            path = dir;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0dd36fa6b934ecf76ce28416f17029d073ce90ae"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODExMjM4MQ==", "bodyText": "I think I did that to be able to load the root directory (for file listing). I don't really remember why I added it, and since the codestart directory is never the root, we should be fine removing it..", "url": "https://github.com/quarkusio/quarkus/pull/10372#discussion_r448112381", "createdAt": "2020-07-01T04:45:21Z", "author": {"login": "ia3andy"}, "path": "independent-projects/tools/devtools-common/src/main/java/io/quarkus/platform/descriptor/loader/json/DirectoryResourceLoader.java", "diffHunk": "@@ -18,16 +17,16 @@ public DirectoryResourceLoader(Path dir) {\n     }\n \n     @Override\n-    public <T> T loadResource(String name, ResourceInputStreamConsumer<T> consumer) throws IOException {\n-        Path resource = dir.resolve(name);\n-        if (!Files.exists(resource)) {\n-            throw new IOException(\"Failed to locate \" + resource);\n+    public <T> T loadResourcePath(String name, ResourcePathConsumer<T> consumer) throws IOException {\n+        Path path;\n+        if (name == null || name.isEmpty()) {\n+            path = dir;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzcwODc5MQ=="}, "originalCommit": {"oid": "0dd36fa6b934ecf76ce28416f17029d073ce90ae"}, "originalPosition": 21}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc5MDQ4MzE0OnYy", "diffSide": "RIGHT", "path": "independent-projects/tools/devtools-common/src/main/java/io/quarkus/devtools/project/codegen/codestarts/CodestartProcessor.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQxNDoyMTo0OVrOGq-zBA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQxNDoyMTo0OVrOGq-zBA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzcyMjI0NA==", "bodyText": "This part is pretty \"raw\" for now and could be improved later for sure", "url": "https://github.com/quarkusio/quarkus/pull/10372#discussion_r447722244", "createdAt": "2020-06-30T14:21:49Z", "author": {"login": "ia3andy"}, "path": "independent-projects/tools/devtools-common/src/main/java/io/quarkus/devtools/project/codegen/codestarts/CodestartProcessor.java", "diffHunk": "@@ -0,0 +1,148 @@\n+package io.quarkus.devtools.project.codegen.codestarts;\n+\n+import static io.quarkus.devtools.project.codegen.codestarts.Codestart.BASE_LANGUAGE;\n+\n+import io.fabric8.maven.Maven;\n+import io.fabric8.maven.merge.SmartModelMerger;\n+import io.quarkus.platform.descriptor.QuarkusPlatformDescriptor;\n+import java.io.IOException;\n+import java.io.StringReader;\n+import java.io.UncheckedIOException;\n+import java.nio.file.Files;\n+import java.nio.file.Path;\n+import java.nio.file.StandardOpenOption;\n+import java.util.Map;\n+import java.util.stream.Stream;\n+import org.apache.maven.model.Model;\n+\n+final class CodestartProcessor {\n+\n+    private CodestartProcessor() {\n+    }\n+\n+    static void processCodestart(final QuarkusPlatformDescriptor descriptor, final Codestart codestart,\n+            final String languageName, final Path targetDirectory, final Map<String, Object> data) {\n+        try {\n+            descriptor.loadResourcePath(codestart.getResourceName(), p -> {\n+                resolveDirectoriesToProcessAsStream(p, languageName)\n+                        .forEach(dirPath -> processCodestartDir(languageName, dirPath, targetDirectory,\n+                                CodestartData.mergeData(codestart, languageName, data)));\n+                return null;\n+            });\n+        } catch (IOException e) {\n+            throw new UncheckedIOException(e);\n+        }\n+\n+    }\n+\n+    static Stream<Path> resolveDirectoriesToProcessAsStream(final Path sourceDirectory, final String languageName)\n+            throws IOException {\n+        if (!Files.isDirectory(sourceDirectory)) {\n+            throw new IllegalStateException(\"Codestart sourceDirectory is not a directory: \" + sourceDirectory);\n+        }\n+        return Stream.of(BASE_LANGUAGE, languageName)\n+                .map(sourceDirectory::resolve)\n+                .filter(Files::isDirectory);\n+    }\n+\n+    static void processCodestartDir(final String languageName,\n+            final Path sourceDirectory,\n+            final Path targetProjectDirectory,\n+            final Map<String, Object> data) {\n+        try {\n+            Files.walk(sourceDirectory)\n+                    .filter(path -> !path.equals(sourceDirectory))\n+                    .forEach(path -> {\n+                        try {\n+                            final Path relativePath = sourceDirectory.relativize(path);\n+                            if (Files.isDirectory(path)) {\n+                                return;\n+                            } else {\n+                                final String fileName = relativePath.getFileName().toString();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0dd36fa6b934ecf76ce28416f17029d073ce90ae"}, "originalPosition": 61}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc5MjEwMjQyOnYy", "diffSide": "RIGHT", "path": "integration-tests/devtools/src/test/java/io/quarkus/devtools/project/codegen/codestarts/CodestartProjectTest.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQyMTowMjozMFrOGrOWRQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMVQwNTowNDozM1rOGrW5Gg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Nzk3NzAyOQ==", "bodyText": "Is the test actually resolving the 1.5.2.Final platform descriptor?", "url": "https://github.com/quarkusio/quarkus/pull/10372#discussion_r447977029", "createdAt": "2020-06-30T21:02:30Z", "author": {"login": "aloubyansky"}, "path": "integration-tests/devtools/src/test/java/io/quarkus/devtools/project/codegen/codestarts/CodestartProjectTest.java", "diffHunk": "@@ -0,0 +1,124 @@\n+package io.quarkus.devtools.project.codegen.codestarts;\n+\n+import static org.assertj.core.api.Assertions.assertThat;\n+\n+import java.io.IOException;\n+import java.nio.file.Path;\n+import java.nio.file.Paths;\n+import java.util.Arrays;\n+import java.util.Collection;\n+import java.util.Collections;\n+import java.util.HashMap;\n+import java.util.List;\n+import java.util.Map;\n+\n+import org.junit.jupiter.api.BeforeAll;\n+import org.junit.jupiter.api.Test;\n+\n+import io.quarkus.bootstrap.model.AppArtifactKey;\n+import io.quarkus.devtools.PlatformAwareTestBase;\n+import io.quarkus.devtools.ProjectTestUtil;\n+\n+class CodestartProjectTest extends PlatformAwareTestBase {\n+\n+    private static final Path projectPath = Paths.get(\"target/codestarts-test\");\n+\n+    @BeforeAll\n+    static void setUp() throws IOException {\n+        ProjectTestUtil.delete(projectPath.toFile());\n+    }\n+\n+    private Map<String, Object> getTestInputData() {\n+        return getTestInputData(null);\n+    }\n+\n+    private Map<String, Object> getTestInputData(final Map<String, Object> override) {\n+        final HashMap<String, Object> data = new HashMap<>();\n+        data.put(\"project.version\", \"1.0.0-codestart\");\n+        data.put(\"quarkus.platform.group-id\", getPlatformDescriptor().getBomGroupId());\n+        data.put(\"quarkus.platform.artifact-id\", getPlatformDescriptor().getBomArtifactId());\n+        data.put(\"quarkus.platform.version\", \"1.5.2.Final\");\n+        data.put(\"quarkus.plugin.group-id\", \"io.quarkus\");\n+        data.put(\"quarkus.plugin.artifact-id\", \"quarkus-maven-plugin\");\n+        data.put(\"quarkus.plugin.version\", \"1.5.2.Final\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0dd36fa6b934ecf76ce28416f17029d073ce90ae"}, "originalPosition": 43}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODExNzAxOA==", "bodyText": "@aloubyansky nop, it's just using those as data in the buildfile. The codestarts code is not resolving anything, it just gets an already resolved platformDescriptor as input.", "url": "https://github.com/quarkusio/quarkus/pull/10372#discussion_r448117018", "createdAt": "2020-07-01T05:04:33Z", "author": {"login": "ia3andy"}, "path": "integration-tests/devtools/src/test/java/io/quarkus/devtools/project/codegen/codestarts/CodestartProjectTest.java", "diffHunk": "@@ -0,0 +1,124 @@\n+package io.quarkus.devtools.project.codegen.codestarts;\n+\n+import static org.assertj.core.api.Assertions.assertThat;\n+\n+import java.io.IOException;\n+import java.nio.file.Path;\n+import java.nio.file.Paths;\n+import java.util.Arrays;\n+import java.util.Collection;\n+import java.util.Collections;\n+import java.util.HashMap;\n+import java.util.List;\n+import java.util.Map;\n+\n+import org.junit.jupiter.api.BeforeAll;\n+import org.junit.jupiter.api.Test;\n+\n+import io.quarkus.bootstrap.model.AppArtifactKey;\n+import io.quarkus.devtools.PlatformAwareTestBase;\n+import io.quarkus.devtools.ProjectTestUtil;\n+\n+class CodestartProjectTest extends PlatformAwareTestBase {\n+\n+    private static final Path projectPath = Paths.get(\"target/codestarts-test\");\n+\n+    @BeforeAll\n+    static void setUp() throws IOException {\n+        ProjectTestUtil.delete(projectPath.toFile());\n+    }\n+\n+    private Map<String, Object> getTestInputData() {\n+        return getTestInputData(null);\n+    }\n+\n+    private Map<String, Object> getTestInputData(final Map<String, Object> override) {\n+        final HashMap<String, Object> data = new HashMap<>();\n+        data.put(\"project.version\", \"1.0.0-codestart\");\n+        data.put(\"quarkus.platform.group-id\", getPlatformDescriptor().getBomGroupId());\n+        data.put(\"quarkus.platform.artifact-id\", getPlatformDescriptor().getBomArtifactId());\n+        data.put(\"quarkus.platform.version\", \"1.5.2.Final\");\n+        data.put(\"quarkus.plugin.group-id\", \"io.quarkus\");\n+        data.put(\"quarkus.plugin.artifact-id\", \"quarkus-maven-plugin\");\n+        data.put(\"quarkus.plugin.version\", \"1.5.2.Final\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Nzk3NzAyOQ=="}, "originalCommit": {"oid": "0dd36fa6b934ecf76ce28416f17029d073ce90ae"}, "originalPosition": 43}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg4NTAwNDc2OnYy", "diffSide": "RIGHT", "path": "devtools/platform-descriptor-json/src/main/resources/bundled-codestarts/buildtool/gradle/kotlin/build.tpl.qute.gradle", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwNzo0Njo1MlrOG4snzQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQxNTozMDozOFrOG4-Dlg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjEwNDUyNQ==", "bodyText": "targeted java version should be a parameter imo (like pass \"javaTarget\" in as major version number and then each template adds what they need for it). (same for all templates below)", "url": "https://github.com/quarkusio/quarkus/pull/10372#discussion_r462104525", "createdAt": "2020-07-29T07:46:52Z", "author": {"login": "maxandersen"}, "path": "devtools/platform-descriptor-json/src/main/resources/bundled-codestarts/buildtool/gradle/kotlin/build.tpl.qute.gradle", "diffHunk": "@@ -0,0 +1,32 @@\n+{#include build-layout}\n+{#plugins}\n+plugins {\n+    id 'org.jetbrains.kotlin.jvm' version \"{version.kotlin}\"\n+    id \"org.jetbrains.kotlin.plugin.allopen\" version \"{version.kotlin}\"\n+    id '{quarkus.plugin.id}'\n+}\n+{/plugins}\n+{/include}\n+\n+quarkus {\n+    setOutputDirectory(\"$projectDir/build/classes/kotlin/main\")\n+}\n+\n+quarkusDev {\n+    setSourceDir(\"$projectDir/src/main/kotlin\")\n+}\n+\n+allOpen {\n+    annotation(\"javax.ws.rs.Path\")\n+    annotation(\"javax.enterprise.context.ApplicationScoped\")\n+    annotation(\"io.quarkus.test.junit.QuarkusTest\")\n+}\n+\n+compileKotlin {\n+    kotlinOptions.jvmTarget = JavaVersion.VERSION_1_8", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "88efcc09a2a93208fb603565c5030273727f20cc"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjM5MDE2Ng==", "bodyText": "Probably, as well as all the other versions in the templates. That's for the future.", "url": "https://github.com/quarkusio/quarkus/pull/10372#discussion_r462390166", "createdAt": "2020-07-29T15:30:38Z", "author": {"login": "aloubyansky"}, "path": "devtools/platform-descriptor-json/src/main/resources/bundled-codestarts/buildtool/gradle/kotlin/build.tpl.qute.gradle", "diffHunk": "@@ -0,0 +1,32 @@\n+{#include build-layout}\n+{#plugins}\n+plugins {\n+    id 'org.jetbrains.kotlin.jvm' version \"{version.kotlin}\"\n+    id \"org.jetbrains.kotlin.plugin.allopen\" version \"{version.kotlin}\"\n+    id '{quarkus.plugin.id}'\n+}\n+{/plugins}\n+{/include}\n+\n+quarkus {\n+    setOutputDirectory(\"$projectDir/build/classes/kotlin/main\")\n+}\n+\n+quarkusDev {\n+    setSourceDir(\"$projectDir/src/main/kotlin\")\n+}\n+\n+allOpen {\n+    annotation(\"javax.ws.rs.Path\")\n+    annotation(\"javax.enterprise.context.ApplicationScoped\")\n+    annotation(\"io.quarkus.test.junit.QuarkusTest\")\n+}\n+\n+compileKotlin {\n+    kotlinOptions.jvmTarget = JavaVersion.VERSION_1_8", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjEwNDUyNQ=="}, "originalCommit": {"oid": "88efcc09a2a93208fb603565c5030273727f20cc"}, "originalPosition": 26}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg4NTAxMjk0OnYy", "diffSide": "RIGHT", "path": "devtools/platform-descriptor-json/src/main/resources/bundled-codestarts/buildtool/maven/base/pom.tpl.qute.xml", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwNzo0OToxNFrOG4ssmw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQxMDoyOTo1OFrOG5dZNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjEwNTc1NQ==", "bodyText": "should this not be defined in base test-depends meta rather than in the template ?", "url": "https://github.com/quarkusio/quarkus/pull/10372#discussion_r462105755", "createdAt": "2020-07-29T07:49:14Z", "author": {"login": "maxandersen"}, "path": "devtools/platform-descriptor-json/src/main/resources/bundled-codestarts/buildtool/maven/base/pom.tpl.qute.xml", "diffHunk": "@@ -12,52 +12,62 @@\n         <maven.compiler.target>1.8</maven.compiler.target>\n         <maven.compiler.parameters>true</maven.compiler.parameters>\n \n-        <quarkus.platform.artifact-id>${bom_artifactId}</quarkus.platform.artifact-id>\n-        <quarkus.platform.group-id>${bom_groupId}</quarkus.platform.group-id>\n-        <quarkus.platform.version>${bom_version}</quarkus.platform.version>\n-        <quarkus-plugin.version>${plugin_version}</quarkus-plugin.version>\n-        <compiler-plugin.version>${compiler_plugin_version}</compiler-plugin.version>\n-        <surefire-plugin.version>${surefire_plugin_version}</surefire-plugin.version>\n+        <quarkus.platform.group-id>{quarkus.platform.group-id}</quarkus.platform.group-id>\n+        <quarkus.platform.artifact-id>{quarkus.platform.artifact-id}</quarkus.platform.artifact-id>\n+        <quarkus.platform.version>{quarkus.platform.version}</quarkus.platform.version>\n+        <quarkus-plugin.version>{quarkus.plugin.version}</quarkus-plugin.version>\n+        <compiler-plugin.version>{maven.version.maven-compiler-plugin}</compiler-plugin.version>\n+        <surefire-plugin.version>{maven.version.maven-surefire-plugin}</surefire-plugin.version>\n     </properties>\n-    ${maven_repositories}${maven_plugin_repositories}\n+\n     <dependencyManagement>\n         <dependencies>\n             <dependency>\n-                <groupId>${quarkus.platform.group-id}</groupId>\n-                <artifactId>${quarkus.platform.artifact-id}</artifactId>\n-                <version>${quarkus.platform.version}</version>\n+                <groupId>$\\{quarkus.platform.group-id}</groupId>\n+                <artifactId>$\\{quarkus.platform.artifact-id}</artifactId>\n+                <version>$\\{quarkus.platform.version}</version>\n                 <type>pom</type>\n                 <scope>import</scope>\n             </dependency>\n         </dependencies>\n     </dependencyManagement>\n \n     <dependencies>\n+        {#each dependencies}\n         <dependency>\n-            <groupId>io.quarkus</groupId>\n-            <artifactId>quarkus-resteasy</artifactId>\n+            <groupId>{it.groupId}</groupId>\n+            <artifactId>{it.artifactId}</artifactId>\n+            {#if it.version}\n+            <version>{it.version}</version>\n+            {/if}\n         </dependency>\n+        {/each}\n \n         <!-- Test dependencies -->\n         <dependency>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "88efcc09a2a93208fb603565c5030273727f20cc"}, "originalPosition": 61}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjExMTAxOA==", "bodyText": "What do you mean? This is the base..", "url": "https://github.com/quarkusio/quarkus/pull/10372#discussion_r462111018", "createdAt": "2020-07-29T07:58:30Z", "author": {"login": "ia3andy"}, "path": "devtools/platform-descriptor-json/src/main/resources/bundled-codestarts/buildtool/maven/base/pom.tpl.qute.xml", "diffHunk": "@@ -12,52 +12,62 @@\n         <maven.compiler.target>1.8</maven.compiler.target>\n         <maven.compiler.parameters>true</maven.compiler.parameters>\n \n-        <quarkus.platform.artifact-id>${bom_artifactId}</quarkus.platform.artifact-id>\n-        <quarkus.platform.group-id>${bom_groupId}</quarkus.platform.group-id>\n-        <quarkus.platform.version>${bom_version}</quarkus.platform.version>\n-        <quarkus-plugin.version>${plugin_version}</quarkus-plugin.version>\n-        <compiler-plugin.version>${compiler_plugin_version}</compiler-plugin.version>\n-        <surefire-plugin.version>${surefire_plugin_version}</surefire-plugin.version>\n+        <quarkus.platform.group-id>{quarkus.platform.group-id}</quarkus.platform.group-id>\n+        <quarkus.platform.artifact-id>{quarkus.platform.artifact-id}</quarkus.platform.artifact-id>\n+        <quarkus.platform.version>{quarkus.platform.version}</quarkus.platform.version>\n+        <quarkus-plugin.version>{quarkus.plugin.version}</quarkus-plugin.version>\n+        <compiler-plugin.version>{maven.version.maven-compiler-plugin}</compiler-plugin.version>\n+        <surefire-plugin.version>{maven.version.maven-surefire-plugin}</surefire-plugin.version>\n     </properties>\n-    ${maven_repositories}${maven_plugin_repositories}\n+\n     <dependencyManagement>\n         <dependencies>\n             <dependency>\n-                <groupId>${quarkus.platform.group-id}</groupId>\n-                <artifactId>${quarkus.platform.artifact-id}</artifactId>\n-                <version>${quarkus.platform.version}</version>\n+                <groupId>$\\{quarkus.platform.group-id}</groupId>\n+                <artifactId>$\\{quarkus.platform.artifact-id}</artifactId>\n+                <version>$\\{quarkus.platform.version}</version>\n                 <type>pom</type>\n                 <scope>import</scope>\n             </dependency>\n         </dependencies>\n     </dependencyManagement>\n \n     <dependencies>\n+        {#each dependencies}\n         <dependency>\n-            <groupId>io.quarkus</groupId>\n-            <artifactId>quarkus-resteasy</artifactId>\n+            <groupId>{it.groupId}</groupId>\n+            <artifactId>{it.artifactId}</artifactId>\n+            {#if it.version}\n+            <version>{it.version}</version>\n+            {/if}\n         </dependency>\n+        {/each}\n \n         <!-- Test dependencies -->\n         <dependency>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjEwNTc1NQ=="}, "originalCommit": {"oid": "88efcc09a2a93208fb603565c5030273727f20cc"}, "originalPosition": 61}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjkwMzYwNw==", "bodyText": "i mean as part of what gets fed into dependencies data.", "url": "https://github.com/quarkusio/quarkus/pull/10372#discussion_r462903607", "createdAt": "2020-07-30T10:29:58Z", "author": {"login": "maxandersen"}, "path": "devtools/platform-descriptor-json/src/main/resources/bundled-codestarts/buildtool/maven/base/pom.tpl.qute.xml", "diffHunk": "@@ -12,52 +12,62 @@\n         <maven.compiler.target>1.8</maven.compiler.target>\n         <maven.compiler.parameters>true</maven.compiler.parameters>\n \n-        <quarkus.platform.artifact-id>${bom_artifactId}</quarkus.platform.artifact-id>\n-        <quarkus.platform.group-id>${bom_groupId}</quarkus.platform.group-id>\n-        <quarkus.platform.version>${bom_version}</quarkus.platform.version>\n-        <quarkus-plugin.version>${plugin_version}</quarkus-plugin.version>\n-        <compiler-plugin.version>${compiler_plugin_version}</compiler-plugin.version>\n-        <surefire-plugin.version>${surefire_plugin_version}</surefire-plugin.version>\n+        <quarkus.platform.group-id>{quarkus.platform.group-id}</quarkus.platform.group-id>\n+        <quarkus.platform.artifact-id>{quarkus.platform.artifact-id}</quarkus.platform.artifact-id>\n+        <quarkus.platform.version>{quarkus.platform.version}</quarkus.platform.version>\n+        <quarkus-plugin.version>{quarkus.plugin.version}</quarkus-plugin.version>\n+        <compiler-plugin.version>{maven.version.maven-compiler-plugin}</compiler-plugin.version>\n+        <surefire-plugin.version>{maven.version.maven-surefire-plugin}</surefire-plugin.version>\n     </properties>\n-    ${maven_repositories}${maven_plugin_repositories}\n+\n     <dependencyManagement>\n         <dependencies>\n             <dependency>\n-                <groupId>${quarkus.platform.group-id}</groupId>\n-                <artifactId>${quarkus.platform.artifact-id}</artifactId>\n-                <version>${quarkus.platform.version}</version>\n+                <groupId>$\\{quarkus.platform.group-id}</groupId>\n+                <artifactId>$\\{quarkus.platform.artifact-id}</artifactId>\n+                <version>$\\{quarkus.platform.version}</version>\n                 <type>pom</type>\n                 <scope>import</scope>\n             </dependency>\n         </dependencies>\n     </dependencyManagement>\n \n     <dependencies>\n+        {#each dependencies}\n         <dependency>\n-            <groupId>io.quarkus</groupId>\n-            <artifactId>quarkus-resteasy</artifactId>\n+            <groupId>{it.groupId}</groupId>\n+            <artifactId>{it.artifactId}</artifactId>\n+            {#if it.version}\n+            <version>{it.version}</version>\n+            {/if}\n         </dependency>\n+        {/each}\n \n         <!-- Test dependencies -->\n         <dependency>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjEwNTc1NQ=="}, "originalCommit": {"oid": "88efcc09a2a93208fb603565c5030273727f20cc"}, "originalPosition": 61}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg4NTA0NjQ3OnYy", "diffSide": "RIGHT", "path": "devtools/platform-descriptor-json/src/main/resources/bundled-codestarts/example/commandmode-example/codestart.yml", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwNzo1ODoyNFrOG4tA8Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwNzo1ODoyNFrOG4tA8Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjExMDk2MQ==", "bodyText": "funny :)", "url": "https://github.com/quarkusio/quarkus/pull/10372#discussion_r462110961", "createdAt": "2020-07-29T07:58:24Z", "author": {"login": "maxandersen"}, "path": "devtools/platform-descriptor-json/src/main/resources/bundled-codestarts/example/commandmode-example/codestart.yml", "diffHunk": "@@ -0,0 +1,14 @@\n+---\n+name: commandmode-example\n+ref: commandmode\n+type: example\n+fallback: true\n+missing-languages:\n+  - kotlin\n+  - scala\n+language:\n+  base:\n+    data:\n+      greeting:\n+        message: \"hello\"\n+        default-name: \"commando\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "88efcc09a2a93208fb603565c5030273727f20cc"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg4NTA5NDAxOnYy", "diffSide": "RIGHT", "path": "devtools/platform-descriptor-json/src/main/resources/codestarts/optaplanner-example/java/src/main/java/org/acme/optaplanner/bootstrap/DemoDataGenerator.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwODoxMTo0NVrOG4teNQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwODoxNToyMlrOG4tnBw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjExODQ1Mw==", "bodyText": "shouldn't this file and whole optaplanner example be pushed into optaplanner extension rather than in the bunlded/platform level  descriptors ?", "url": "https://github.com/quarkusio/quarkus/pull/10372#discussion_r462118453", "createdAt": "2020-07-29T08:11:45Z", "author": {"login": "maxandersen"}, "path": "devtools/platform-descriptor-json/src/main/resources/codestarts/optaplanner-example/java/src/main/java/org/acme/optaplanner/bootstrap/DemoDataGenerator.java", "diffHunk": "@@ -0,0 +1,194 @@\n+package org.acme.optaplanner.bootstrap;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "88efcc09a2a93208fb603565c5030273727f20cc"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjEyMDcxMQ==", "bodyText": "Of course, same for Qute and RestEasy but \"During phase 1 (and until the api is more stable), all the codestarts are embeded in quarkus (and not yet part of extensions)\".\nI chose to implement this extension because I knew it was a bit complex therefore good to catch problems..", "url": "https://github.com/quarkusio/quarkus/pull/10372#discussion_r462120711", "createdAt": "2020-07-29T08:15:22Z", "author": {"login": "ia3andy"}, "path": "devtools/platform-descriptor-json/src/main/resources/codestarts/optaplanner-example/java/src/main/java/org/acme/optaplanner/bootstrap/DemoDataGenerator.java", "diffHunk": "@@ -0,0 +1,194 @@\n+package org.acme.optaplanner.bootstrap;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjExODQ1Mw=="}, "originalCommit": {"oid": "88efcc09a2a93208fb603565c5030273727f20cc"}, "originalPosition": 1}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg4NTE1NTk3OnYy", "diffSide": "RIGHT", "path": "independent-projects/tools/codestarts/codestarts.adoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwODoyNzoyMVrOG4uD9g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwODoyNzoyMVrOG4uD9g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjEyODExOA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Quarkus extensions are able to provide one or more well defined codestarts which will contain the necessary resources and code examples required to get started using it.\n          \n          \n            \n            A Quarkus extension are able to provide one or more well defined codestarts which will contain the necessary resources and code examples required to get started using that particular extension.", "url": "https://github.com/quarkusio/quarkus/pull/10372#discussion_r462128118", "createdAt": "2020-07-29T08:27:21Z", "author": {"login": "maxandersen"}, "path": "independent-projects/tools/codestarts/codestarts.adoc", "diffHunk": "@@ -0,0 +1,220 @@\n+= Quarkus - Codestarts\n+\n+This guide explains how to create and configure a Quarkus Codestart for an extension.\n+\n+== Description\n+\n+\"Codestarts\" is the name we gave to our Quarkus quickstart code generation system. \n+Codestarts provide a personalized Quarkus getting started experience and really show the Quarkus breadth.\n+Quarkus extensions are able to provide one or more well defined codestarts which will contain the necessary resources and code examples required to get started using it.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "88efcc09a2a93208fb603565c5030273727f20cc"}, "originalPosition": 9}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg4NTE2MDMwOnYy", "diffSide": "RIGHT", "path": "independent-projects/tools/codestarts/codestarts.adoc", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwODoyODoyMVrOG4uGiw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwOToyNzoyMlrOG4wRkw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjEyODc3OQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            There are two kinds of codestarts contributing to the generation of a project, the kind where we want to have only one for a project (called Base) and the rest (called Extra).\n          \n          \n            \n            There are two kinds of codestarts contributing to the generation of a project, the kind where we want to have only one for the base project (called Base) and the rest (called Extra).\n          \n      \n    \n    \n  \n\naren't they actually called 'base' and 'extra' no capitalization?", "url": "https://github.com/quarkusio/quarkus/pull/10372#discussion_r462128779", "createdAt": "2020-07-29T08:28:21Z", "author": {"login": "maxandersen"}, "path": "independent-projects/tools/codestarts/codestarts.adoc", "diffHunk": "@@ -0,0 +1,220 @@\n+= Quarkus - Codestarts\n+\n+This guide explains how to create and configure a Quarkus Codestart for an extension.\n+\n+== Description\n+\n+\"Codestarts\" is the name we gave to our Quarkus quickstart code generation system. \n+Codestarts provide a personalized Quarkus getting started experience and really show the Quarkus breadth.\n+Quarkus extensions are able to provide one or more well defined codestarts which will contain the necessary resources and code examples required to get started using it.\n+\n+== How it works\n+\n+There are two kinds of codestarts contributing to the generation of a project, the kind where we want to have only one for a project (called Base) and the rest (called Extra).", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "88efcc09a2a93208fb603565c5030273727f20cc"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjE2NDM3MQ==", "bodyText": "yes I'll update", "url": "https://github.com/quarkusio/quarkus/pull/10372#discussion_r462164371", "createdAt": "2020-07-29T09:27:22Z", "author": {"login": "ia3andy"}, "path": "independent-projects/tools/codestarts/codestarts.adoc", "diffHunk": "@@ -0,0 +1,220 @@\n+= Quarkus - Codestarts\n+\n+This guide explains how to create and configure a Quarkus Codestart for an extension.\n+\n+== Description\n+\n+\"Codestarts\" is the name we gave to our Quarkus quickstart code generation system. \n+Codestarts provide a personalized Quarkus getting started experience and really show the Quarkus breadth.\n+Quarkus extensions are able to provide one or more well defined codestarts which will contain the necessary resources and code examples required to get started using it.\n+\n+== How it works\n+\n+There are two kinds of codestarts contributing to the generation of a project, the kind where we want to have only one for a project (called Base) and the rest (called Extra).", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjEyODc3OQ=="}, "originalCommit": {"oid": "88efcc09a2a93208fb603565c5030273727f20cc"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg4NTE2MjY4OnYy", "diffSide": "RIGHT", "path": "independent-projects/tools/codestarts/codestarts.adoc", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwODoyODo1OFrOG4uIGQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwOTozNToyNlrOG4wkrA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjEyOTE3Nw==", "bodyText": "add example name?", "url": "https://github.com/quarkusio/quarkus/pull/10372#discussion_r462129177", "createdAt": "2020-07-29T08:28:58Z", "author": {"login": "maxandersen"}, "path": "independent-projects/tools/codestarts/codestarts.adoc", "diffHunk": "@@ -0,0 +1,220 @@\n+= Quarkus - Codestarts\n+\n+This guide explains how to create and configure a Quarkus Codestart for an extension.\n+\n+== Description\n+\n+\"Codestarts\" is the name we gave to our Quarkus quickstart code generation system. \n+Codestarts provide a personalized Quarkus getting started experience and really show the Quarkus breadth.\n+Quarkus extensions are able to provide one or more well defined codestarts which will contain the necessary resources and code examples required to get started using it.\n+\n+== How it works\n+\n+There are two kinds of codestarts contributing to the generation of a project, the kind where we want to have only one for a project (called Base) and the rest (called Extra).\n+\n+Base:\n+\n+* project: The project skeleton (e.g. a Quarkus project)\n+* buildtool: The build tool (e.g. Maven, Gradle, Gradle with Kotlin DSL)\n+* language: The coding language (e.g. Java, Kotlin, Scala)\n+* config: The config type (e.g. yaml, properties)\n+\n+Extra:\n+* tooling: Anything that can be added to improve the project (e.g. dockerfiles)\n+* example: Any Quarkus extension can provide example code. The user can decide to activate it or not.\n+\n+Each codestart consists of:\n+\n+. A specific directory", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "88efcc09a2a93208fb603565c5030273727f20cc"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjEyOTMyNw==", "bodyText": "do you mean unique name here ?", "url": "https://github.com/quarkusio/quarkus/pull/10372#discussion_r462129327", "createdAt": "2020-07-29T08:29:12Z", "author": {"login": "maxandersen"}, "path": "independent-projects/tools/codestarts/codestarts.adoc", "diffHunk": "@@ -0,0 +1,220 @@\n+= Quarkus - Codestarts\n+\n+This guide explains how to create and configure a Quarkus Codestart for an extension.\n+\n+== Description\n+\n+\"Codestarts\" is the name we gave to our Quarkus quickstart code generation system. \n+Codestarts provide a personalized Quarkus getting started experience and really show the Quarkus breadth.\n+Quarkus extensions are able to provide one or more well defined codestarts which will contain the necessary resources and code examples required to get started using it.\n+\n+== How it works\n+\n+There are two kinds of codestarts contributing to the generation of a project, the kind where we want to have only one for a project (called Base) and the rest (called Extra).\n+\n+Base:\n+\n+* project: The project skeleton (e.g. a Quarkus project)\n+* buildtool: The build tool (e.g. Maven, Gradle, Gradle with Kotlin DSL)\n+* language: The coding language (e.g. Java, Kotlin, Scala)\n+* config: The config type (e.g. yaml, properties)\n+\n+Extra:\n+* tooling: Anything that can be added to improve the project (e.g. dockerfiles)\n+* example: Any Quarkus extension can provide example code. The user can decide to activate it or not.\n+\n+Each codestart consists of:\n+\n+. A specific directory", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjEyOTE3Nw=="}, "originalCommit": {"oid": "88efcc09a2a93208fb603565c5030273727f20cc"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjE2MzgwMw==", "bodyText": "yes", "url": "https://github.com/quarkusio/quarkus/pull/10372#discussion_r462163803", "createdAt": "2020-07-29T09:26:23Z", "author": {"login": "ia3andy"}, "path": "independent-projects/tools/codestarts/codestarts.adoc", "diffHunk": "@@ -0,0 +1,220 @@\n+= Quarkus - Codestarts\n+\n+This guide explains how to create and configure a Quarkus Codestart for an extension.\n+\n+== Description\n+\n+\"Codestarts\" is the name we gave to our Quarkus quickstart code generation system. \n+Codestarts provide a personalized Quarkus getting started experience and really show the Quarkus breadth.\n+Quarkus extensions are able to provide one or more well defined codestarts which will contain the necessary resources and code examples required to get started using it.\n+\n+== How it works\n+\n+There are two kinds of codestarts contributing to the generation of a project, the kind where we want to have only one for a project (called Base) and the rest (called Extra).\n+\n+Base:\n+\n+* project: The project skeleton (e.g. a Quarkus project)\n+* buildtool: The build tool (e.g. Maven, Gradle, Gradle with Kotlin DSL)\n+* language: The coding language (e.g. Java, Kotlin, Scala)\n+* config: The config type (e.g. yaml, properties)\n+\n+Extra:\n+* tooling: Anything that can be added to improve the project (e.g. dockerfiles)\n+* example: Any Quarkus extension can provide example code. The user can decide to activate it or not.\n+\n+Each codestart consists of:\n+\n+. A specific directory", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjEyOTE3Nw=="}, "originalCommit": {"oid": "88efcc09a2a93208fb603565c5030273727f20cc"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjE2OTI2MA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            . A specific directory\n          \n          \n            \n            . A codestart unique name, ie `my-codestart`\n          \n          \n            \n            . A directory for the codestart files, ie `my-codestart/`", "url": "https://github.com/quarkusio/quarkus/pull/10372#discussion_r462169260", "createdAt": "2020-07-29T09:35:26Z", "author": {"login": "ia3andy"}, "path": "independent-projects/tools/codestarts/codestarts.adoc", "diffHunk": "@@ -0,0 +1,220 @@\n+= Quarkus - Codestarts\n+\n+This guide explains how to create and configure a Quarkus Codestart for an extension.\n+\n+== Description\n+\n+\"Codestarts\" is the name we gave to our Quarkus quickstart code generation system. \n+Codestarts provide a personalized Quarkus getting started experience and really show the Quarkus breadth.\n+Quarkus extensions are able to provide one or more well defined codestarts which will contain the necessary resources and code examples required to get started using it.\n+\n+== How it works\n+\n+There are two kinds of codestarts contributing to the generation of a project, the kind where we want to have only one for a project (called Base) and the rest (called Extra).\n+\n+Base:\n+\n+* project: The project skeleton (e.g. a Quarkus project)\n+* buildtool: The build tool (e.g. Maven, Gradle, Gradle with Kotlin DSL)\n+* language: The coding language (e.g. Java, Kotlin, Scala)\n+* config: The config type (e.g. yaml, properties)\n+\n+Extra:\n+* tooling: Anything that can be added to improve the project (e.g. dockerfiles)\n+* example: Any Quarkus extension can provide example code. The user can decide to activate it or not.\n+\n+Each codestart consists of:\n+\n+. A specific directory", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjEyOTE3Nw=="}, "originalCommit": {"oid": "88efcc09a2a93208fb603565c5030273727f20cc"}, "originalPosition": 28}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg4NTE2NTkwOnYy", "diffSide": "RIGHT", "path": "independent-projects/tools/codestarts/codestarts.adoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwODoyOTozN1rOG4uJ3g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwODoyOTozN1rOG4uJ3g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjEyOTYzMA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            . Optionally some templates which follow a structure and naming conventions\n          \n          \n            \n            . Optionally some templates which following a common structure and naming conventions", "url": "https://github.com/quarkusio/quarkus/pull/10372#discussion_r462129630", "createdAt": "2020-07-29T08:29:37Z", "author": {"login": "maxandersen"}, "path": "independent-projects/tools/codestarts/codestarts.adoc", "diffHunk": "@@ -0,0 +1,220 @@\n+= Quarkus - Codestarts\n+\n+This guide explains how to create and configure a Quarkus Codestart for an extension.\n+\n+== Description\n+\n+\"Codestarts\" is the name we gave to our Quarkus quickstart code generation system. \n+Codestarts provide a personalized Quarkus getting started experience and really show the Quarkus breadth.\n+Quarkus extensions are able to provide one or more well defined codestarts which will contain the necessary resources and code examples required to get started using it.\n+\n+== How it works\n+\n+There are two kinds of codestarts contributing to the generation of a project, the kind where we want to have only one for a project (called Base) and the rest (called Extra).\n+\n+Base:\n+\n+* project: The project skeleton (e.g. a Quarkus project)\n+* buildtool: The build tool (e.g. Maven, Gradle, Gradle with Kotlin DSL)\n+* language: The coding language (e.g. Java, Kotlin, Scala)\n+* config: The config type (e.g. yaml, properties)\n+\n+Extra:\n+* tooling: Anything that can be added to improve the project (e.g. dockerfiles)\n+* example: Any Quarkus extension can provide example code. The user can decide to activate it or not.\n+\n+Each codestart consists of:\n+\n+. A specific directory\n+. A `codestart.yml` file\n+. Optionally some templates which follow a structure and naming conventions", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "88efcc09a2a93208fb603565c5030273727f20cc"}, "originalPosition": 30}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg4NTE2NzQyOnYy", "diffSide": "RIGHT", "path": "independent-projects/tools/codestarts/codestarts.adoc", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwODoyOTo1OFrOG4uKwQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwODoyOTo1OFrOG4uKwQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjEyOTg1Nw==", "bodyText": "which input ?", "url": "https://github.com/quarkusio/quarkus/pull/10372#discussion_r462129857", "createdAt": "2020-07-29T08:29:58Z", "author": {"login": "maxandersen"}, "path": "independent-projects/tools/codestarts/codestarts.adoc", "diffHunk": "@@ -0,0 +1,220 @@\n+= Quarkus - Codestarts\n+\n+This guide explains how to create and configure a Quarkus Codestart for an extension.\n+\n+== Description\n+\n+\"Codestarts\" is the name we gave to our Quarkus quickstart code generation system. \n+Codestarts provide a personalized Quarkus getting started experience and really show the Quarkus breadth.\n+Quarkus extensions are able to provide one or more well defined codestarts which will contain the necessary resources and code examples required to get started using it.\n+\n+== How it works\n+\n+There are two kinds of codestarts contributing to the generation of a project, the kind where we want to have only one for a project (called Base) and the rest (called Extra).\n+\n+Base:\n+\n+* project: The project skeleton (e.g. a Quarkus project)\n+* buildtool: The build tool (e.g. Maven, Gradle, Gradle with Kotlin DSL)\n+* language: The coding language (e.g. Java, Kotlin, Scala)\n+* config: The config type (e.g. yaml, properties)\n+\n+Extra:\n+* tooling: Anything that can be added to improve the project (e.g. dockerfiles)\n+* example: Any Quarkus extension can provide example code. The user can decide to activate it or not.\n+\n+Each codestart consists of:\n+\n+. A specific directory\n+. A `codestart.yml` file\n+. Optionally some templates which follow a structure and naming conventions\n+\n+*NOTE* The `codestart.yml` file and the directory structure follow the same principle, it can optionally contain a base and/or some language overrides.\n+\n+=== Project generation\n+\n+When generating a Quarkus project:\n+\n+. Codestarts to use are resolved depending on the input", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "88efcc09a2a93208fb603565c5030273727f20cc"}, "originalPosition": 38}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg4NTE3MDMyOnYy", "diffSide": "RIGHT", "path": "independent-projects/tools/codestarts/codestarts.adoc", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwODozMDozMlrOG4uMUg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwOToyOTozN1rOG4wXYw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjEzMDI1OA==", "bodyText": "\"shared data from its codestarts.yml\" ?", "url": "https://github.com/quarkusio/quarkus/pull/10372#discussion_r462130258", "createdAt": "2020-07-29T08:30:32Z", "author": {"login": "maxandersen"}, "path": "independent-projects/tools/codestarts/codestarts.adoc", "diffHunk": "@@ -0,0 +1,220 @@\n+= Quarkus - Codestarts\n+\n+This guide explains how to create and configure a Quarkus Codestart for an extension.\n+\n+== Description\n+\n+\"Codestarts\" is the name we gave to our Quarkus quickstart code generation system. \n+Codestarts provide a personalized Quarkus getting started experience and really show the Quarkus breadth.\n+Quarkus extensions are able to provide one or more well defined codestarts which will contain the necessary resources and code examples required to get started using it.\n+\n+== How it works\n+\n+There are two kinds of codestarts contributing to the generation of a project, the kind where we want to have only one for a project (called Base) and the rest (called Extra).\n+\n+Base:\n+\n+* project: The project skeleton (e.g. a Quarkus project)\n+* buildtool: The build tool (e.g. Maven, Gradle, Gradle with Kotlin DSL)\n+* language: The coding language (e.g. Java, Kotlin, Scala)\n+* config: The config type (e.g. yaml, properties)\n+\n+Extra:\n+* tooling: Anything that can be added to improve the project (e.g. dockerfiles)\n+* example: Any Quarkus extension can provide example code. The user can decide to activate it or not.\n+\n+Each codestart consists of:\n+\n+. A specific directory\n+. A `codestart.yml` file\n+. Optionally some templates which follow a structure and naming conventions\n+\n+*NOTE* The `codestart.yml` file and the directory structure follow the same principle, it can optionally contain a base and/or some language overrides.\n+\n+=== Project generation\n+\n+When generating a Quarkus project:\n+\n+. Codestarts to use are resolved depending on the input\n+. The Codestarts' shared data is processed to make it available for all codestarts", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "88efcc09a2a93208fb603565c5030273727f20cc"}, "originalPosition": 39}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjE2NTg1OQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            . The Codestarts' shared data is processed to make it available for all codestarts\n          \n          \n            \n            . The Codestarts' `shared-data` (defined in the different codestart.yml) is merge together and made available to all codestarts", "url": "https://github.com/quarkusio/quarkus/pull/10372#discussion_r462165859", "createdAt": "2020-07-29T09:29:37Z", "author": {"login": "ia3andy"}, "path": "independent-projects/tools/codestarts/codestarts.adoc", "diffHunk": "@@ -0,0 +1,220 @@\n+= Quarkus - Codestarts\n+\n+This guide explains how to create and configure a Quarkus Codestart for an extension.\n+\n+== Description\n+\n+\"Codestarts\" is the name we gave to our Quarkus quickstart code generation system. \n+Codestarts provide a personalized Quarkus getting started experience and really show the Quarkus breadth.\n+Quarkus extensions are able to provide one or more well defined codestarts which will contain the necessary resources and code examples required to get started using it.\n+\n+== How it works\n+\n+There are two kinds of codestarts contributing to the generation of a project, the kind where we want to have only one for a project (called Base) and the rest (called Extra).\n+\n+Base:\n+\n+* project: The project skeleton (e.g. a Quarkus project)\n+* buildtool: The build tool (e.g. Maven, Gradle, Gradle with Kotlin DSL)\n+* language: The coding language (e.g. Java, Kotlin, Scala)\n+* config: The config type (e.g. yaml, properties)\n+\n+Extra:\n+* tooling: Anything that can be added to improve the project (e.g. dockerfiles)\n+* example: Any Quarkus extension can provide example code. The user can decide to activate it or not.\n+\n+Each codestart consists of:\n+\n+. A specific directory\n+. A `codestart.yml` file\n+. Optionally some templates which follow a structure and naming conventions\n+\n+*NOTE* The `codestart.yml` file and the directory structure follow the same principle, it can optionally contain a base and/or some language overrides.\n+\n+=== Project generation\n+\n+When generating a Quarkus project:\n+\n+. Codestarts to use are resolved depending on the input\n+. The Codestarts' shared data is processed to make it available for all codestarts", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjEzMDI1OA=="}, "originalCommit": {"oid": "88efcc09a2a93208fb603565c5030273727f20cc"}, "originalPosition": 39}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg4NTE3MzU0OnYy", "diffSide": "RIGHT", "path": "independent-projects/tools/codestarts/codestarts.adoc", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwODozMToxNlrOG4uOJw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwOTozNjozNFrOG4wm7w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjEzMDcyNw==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            ** The files are processed differently based on a naming convention.\n          \n          \n            \n            ** The files are processed based on a naming convention, i.e <give example>.", "url": "https://github.com/quarkusio/quarkus/pull/10372#discussion_r462130727", "createdAt": "2020-07-29T08:31:16Z", "author": {"login": "maxandersen"}, "path": "independent-projects/tools/codestarts/codestarts.adoc", "diffHunk": "@@ -0,0 +1,220 @@\n+= Quarkus - Codestarts\n+\n+This guide explains how to create and configure a Quarkus Codestart for an extension.\n+\n+== Description\n+\n+\"Codestarts\" is the name we gave to our Quarkus quickstart code generation system. \n+Codestarts provide a personalized Quarkus getting started experience and really show the Quarkus breadth.\n+Quarkus extensions are able to provide one or more well defined codestarts which will contain the necessary resources and code examples required to get started using it.\n+\n+== How it works\n+\n+There are two kinds of codestarts contributing to the generation of a project, the kind where we want to have only one for a project (called Base) and the rest (called Extra).\n+\n+Base:\n+\n+* project: The project skeleton (e.g. a Quarkus project)\n+* buildtool: The build tool (e.g. Maven, Gradle, Gradle with Kotlin DSL)\n+* language: The coding language (e.g. Java, Kotlin, Scala)\n+* config: The config type (e.g. yaml, properties)\n+\n+Extra:\n+* tooling: Anything that can be added to improve the project (e.g. dockerfiles)\n+* example: Any Quarkus extension can provide example code. The user can decide to activate it or not.\n+\n+Each codestart consists of:\n+\n+. A specific directory\n+. A `codestart.yml` file\n+. Optionally some templates which follow a structure and naming conventions\n+\n+*NOTE* The `codestart.yml` file and the directory structure follow the same principle, it can optionally contain a base and/or some language overrides.\n+\n+=== Project generation\n+\n+When generating a Quarkus project:\n+\n+. Codestarts to use are resolved depending on the input\n+. The Codestarts' shared data is processed to make it available for all codestarts\n+. The relevant files are processed:\n+** Only the files that are related to the selected language are processed\n+** The files are processed differently based on a naming convention.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "88efcc09a2a93208fb603565c5030273727f20cc"}, "originalPosition": 42}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjE2OTgzOQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            ** The files are processed differently based on a naming convention.\n          \n          \n            \n            ** The files are processed differently based on a naming convention, ie `MyClass.tpl.qute.java`.", "url": "https://github.com/quarkusio/quarkus/pull/10372#discussion_r462169839", "createdAt": "2020-07-29T09:36:34Z", "author": {"login": "ia3andy"}, "path": "independent-projects/tools/codestarts/codestarts.adoc", "diffHunk": "@@ -0,0 +1,220 @@\n+= Quarkus - Codestarts\n+\n+This guide explains how to create and configure a Quarkus Codestart for an extension.\n+\n+== Description\n+\n+\"Codestarts\" is the name we gave to our Quarkus quickstart code generation system. \n+Codestarts provide a personalized Quarkus getting started experience and really show the Quarkus breadth.\n+Quarkus extensions are able to provide one or more well defined codestarts which will contain the necessary resources and code examples required to get started using it.\n+\n+== How it works\n+\n+There are two kinds of codestarts contributing to the generation of a project, the kind where we want to have only one for a project (called Base) and the rest (called Extra).\n+\n+Base:\n+\n+* project: The project skeleton (e.g. a Quarkus project)\n+* buildtool: The build tool (e.g. Maven, Gradle, Gradle with Kotlin DSL)\n+* language: The coding language (e.g. Java, Kotlin, Scala)\n+* config: The config type (e.g. yaml, properties)\n+\n+Extra:\n+* tooling: Anything that can be added to improve the project (e.g. dockerfiles)\n+* example: Any Quarkus extension can provide example code. The user can decide to activate it or not.\n+\n+Each codestart consists of:\n+\n+. A specific directory\n+. A `codestart.yml` file\n+. Optionally some templates which follow a structure and naming conventions\n+\n+*NOTE* The `codestart.yml` file and the directory structure follow the same principle, it can optionally contain a base and/or some language overrides.\n+\n+=== Project generation\n+\n+When generating a Quarkus project:\n+\n+. Codestarts to use are resolved depending on the input\n+. The Codestarts' shared data is processed to make it available for all codestarts\n+. The relevant files are processed:\n+** Only the files that are related to the selected language are processed\n+** The files are processed differently based on a naming convention.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjEzMDcyNw=="}, "originalCommit": {"oid": "88efcc09a2a93208fb603565c5030273727f20cc"}, "originalPosition": 42}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg4NTE3NTk4OnYy", "diffSide": "RIGHT", "path": "independent-projects/tools/codestarts/codestarts.adoc", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwODozMTo0MVrOG4uPfA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwOTozNzozOFrOG4wpQg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjEzMTA2OA==", "bodyText": "make it an actual list?", "url": "https://github.com/quarkusio/quarkus/pull/10372#discussion_r462131068", "createdAt": "2020-07-29T08:31:41Z", "author": {"login": "maxandersen"}, "path": "independent-projects/tools/codestarts/codestarts.adoc", "diffHunk": "@@ -0,0 +1,220 @@\n+= Quarkus - Codestarts\n+\n+This guide explains how to create and configure a Quarkus Codestart for an extension.\n+\n+== Description\n+\n+\"Codestarts\" is the name we gave to our Quarkus quickstart code generation system. \n+Codestarts provide a personalized Quarkus getting started experience and really show the Quarkus breadth.\n+Quarkus extensions are able to provide one or more well defined codestarts which will contain the necessary resources and code examples required to get started using it.\n+\n+== How it works\n+\n+There are two kinds of codestarts contributing to the generation of a project, the kind where we want to have only one for a project (called Base) and the rest (called Extra).\n+\n+Base:\n+\n+* project: The project skeleton (e.g. a Quarkus project)\n+* buildtool: The build tool (e.g. Maven, Gradle, Gradle with Kotlin DSL)\n+* language: The coding language (e.g. Java, Kotlin, Scala)\n+* config: The config type (e.g. yaml, properties)\n+\n+Extra:\n+* tooling: Anything that can be added to improve the project (e.g. dockerfiles)\n+* example: Any Quarkus extension can provide example code. The user can decide to activate it or not.\n+\n+Each codestart consists of:\n+\n+. A specific directory\n+. A `codestart.yml` file\n+. Optionally some templates which follow a structure and naming conventions\n+\n+*NOTE* The `codestart.yml` file and the directory structure follow the same principle, it can optionally contain a base and/or some language overrides.\n+\n+=== Project generation\n+\n+When generating a Quarkus project:\n+\n+. Codestarts to use are resolved depending on the input\n+. The Codestarts' shared data is processed to make it available for all codestarts\n+. The relevant files are processed:\n+** Only the files that are related to the selected language are processed\n+** The files are processed differently based on a naming convention.\n+** The data is used to render Qute templates\n+** We always process in this order: language, project, buildtool, config, custom, other.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "88efcc09a2a93208fb603565c5030273727f20cc"}, "originalPosition": 44}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjE3MDQzNA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            ** We always process in this order: language, project, buildtool, config, custom, other.\n          \n          \n            \n            ** We always process in this order: \n          \n          \n            \n            \n          \n          \n            \n            . language\n          \n          \n            \n            . project\n          \n          \n            \n            . buildtool\n          \n          \n            \n            . config\n          \n          \n            \n            . tooling\n          \n          \n            \n            . example", "url": "https://github.com/quarkusio/quarkus/pull/10372#discussion_r462170434", "createdAt": "2020-07-29T09:37:38Z", "author": {"login": "ia3andy"}, "path": "independent-projects/tools/codestarts/codestarts.adoc", "diffHunk": "@@ -0,0 +1,220 @@\n+= Quarkus - Codestarts\n+\n+This guide explains how to create and configure a Quarkus Codestart for an extension.\n+\n+== Description\n+\n+\"Codestarts\" is the name we gave to our Quarkus quickstart code generation system. \n+Codestarts provide a personalized Quarkus getting started experience and really show the Quarkus breadth.\n+Quarkus extensions are able to provide one or more well defined codestarts which will contain the necessary resources and code examples required to get started using it.\n+\n+== How it works\n+\n+There are two kinds of codestarts contributing to the generation of a project, the kind where we want to have only one for a project (called Base) and the rest (called Extra).\n+\n+Base:\n+\n+* project: The project skeleton (e.g. a Quarkus project)\n+* buildtool: The build tool (e.g. Maven, Gradle, Gradle with Kotlin DSL)\n+* language: The coding language (e.g. Java, Kotlin, Scala)\n+* config: The config type (e.g. yaml, properties)\n+\n+Extra:\n+* tooling: Anything that can be added to improve the project (e.g. dockerfiles)\n+* example: Any Quarkus extension can provide example code. The user can decide to activate it or not.\n+\n+Each codestart consists of:\n+\n+. A specific directory\n+. A `codestart.yml` file\n+. Optionally some templates which follow a structure and naming conventions\n+\n+*NOTE* The `codestart.yml` file and the directory structure follow the same principle, it can optionally contain a base and/or some language overrides.\n+\n+=== Project generation\n+\n+When generating a Quarkus project:\n+\n+. Codestarts to use are resolved depending on the input\n+. The Codestarts' shared data is processed to make it available for all codestarts\n+. The relevant files are processed:\n+** Only the files that are related to the selected language are processed\n+** The files are processed differently based on a naming convention.\n+** The data is used to render Qute templates\n+** We always process in this order: language, project, buildtool, config, custom, other.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjEzMTA2OA=="}, "originalCommit": {"oid": "88efcc09a2a93208fb603565c5030273727f20cc"}, "originalPosition": 44}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg4NTE5MTk4OnYy", "diffSide": "RIGHT", "path": "independent-projects/tools/codestarts/codestarts.adoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwODozNTo0MFrOG4uZJA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwODozNTo0MFrOG4uZJA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjEzMzU0MA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            === Files Naming Convention\n          \n          \n            \n            === Naming Convention for files", "url": "https://github.com/quarkusio/quarkus/pull/10372#discussion_r462133540", "createdAt": "2020-07-29T08:35:40Z", "author": {"login": "maxandersen"}, "path": "independent-projects/tools/codestarts/codestarts.adoc", "diffHunk": "@@ -0,0 +1,220 @@\n+= Quarkus - Codestarts\n+\n+This guide explains how to create and configure a Quarkus Codestart for an extension.\n+\n+== Description\n+\n+\"Codestarts\" is the name we gave to our Quarkus quickstart code generation system. \n+Codestarts provide a personalized Quarkus getting started experience and really show the Quarkus breadth.\n+Quarkus extensions are able to provide one or more well defined codestarts which will contain the necessary resources and code examples required to get started using it.\n+\n+== How it works\n+\n+There are two kinds of codestarts contributing to the generation of a project, the kind where we want to have only one for a project (called Base) and the rest (called Extra).\n+\n+Base:\n+\n+* project: The project skeleton (e.g. a Quarkus project)\n+* buildtool: The build tool (e.g. Maven, Gradle, Gradle with Kotlin DSL)\n+* language: The coding language (e.g. Java, Kotlin, Scala)\n+* config: The config type (e.g. yaml, properties)\n+\n+Extra:\n+* tooling: Anything that can be added to improve the project (e.g. dockerfiles)\n+* example: Any Quarkus extension can provide example code. The user can decide to activate it or not.\n+\n+Each codestart consists of:\n+\n+. A specific directory\n+. A `codestart.yml` file\n+. Optionally some templates which follow a structure and naming conventions\n+\n+*NOTE* The `codestart.yml` file and the directory structure follow the same principle, it can optionally contain a base and/or some language overrides.\n+\n+=== Project generation\n+\n+When generating a Quarkus project:\n+\n+. Codestarts to use are resolved depending on the input\n+. The Codestarts' shared data is processed to make it available for all codestarts\n+. The relevant files are processed:\n+** Only the files that are related to the selected language are processed\n+** The files are processed differently based on a naming convention.\n+** The data is used to render Qute templates\n+** We always process in this order: language, project, buildtool, config, custom, other.\n+\n+The data used to generate a specific codestart is a merge of:\n+\n+. The data of the codestart to generate\n+. All codestarts \"shared\" data\n+. The user input\n+. Some specific post processing (e.g. adding dependencies)\n+\n+*NOTE* The data (shared or not) can also be specific to a language.\n+\n+=== Directory Structure\n+\n+*NOTE* `codestart.yml` is the only required file.\n+\n+* `codestart.yml` must be at the root of the codestart\n+* `./base` contains all the files that will be processed\n+* `./[languageName]` contains all the files that will be processed if the specified language has been selected (overriding base)\n+\n+=== codestart.yml\n+\n+codestart.yml:\n+[source,yaml]\n+----\n+name: the unique name - REQUIRED\n+ref: the reference name (not unique) to use for extension matching (else the name is used)\n+type: the type [example (default), project, buildtool, language, config] or any custom type\n+fallback: flag to indicate that it should be selected as fallback when no codestart has been selected with type - Only for base types\n+preselected: flag to indicate that it should be pre-selected - Only for extra types.\n+spec:\n+  [base or language name]: the specification (base, java, ...)\n+    data: a map of data to use only for this codestart\n+    shared-data: a map of data to use accross all codestarts\n+    dependencies: a list of dependencies to add when this is selected\n+    test-dependencies: a list of test dependencies to add when this is selected\n+----\n+\n+=== Files Naming Convention", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "88efcc09a2a93208fb603565c5030273727f20cc"}, "originalPosition": 81}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg4NTE5MzUxOnYy", "diffSide": "RIGHT", "path": "independent-projects/tools/codestarts/codestarts.adoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwODozNjowNFrOG4uaGA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwODozNjowNFrOG4uaGA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjEzMzc4NA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            * containing `.tpl.qute` will be processed with Qute (`.tpl.qute` will be removed from the output file name).\n          \n          \n            \n            * `.tpl.qute` will be processed with Qute (`.tpl.qute` will be removed from the output file name).", "url": "https://github.com/quarkusio/quarkus/pull/10372#discussion_r462133784", "createdAt": "2020-07-29T08:36:04Z", "author": {"login": "maxandersen"}, "path": "independent-projects/tools/codestarts/codestarts.adoc", "diffHunk": "@@ -0,0 +1,220 @@\n+= Quarkus - Codestarts\n+\n+This guide explains how to create and configure a Quarkus Codestart for an extension.\n+\n+== Description\n+\n+\"Codestarts\" is the name we gave to our Quarkus quickstart code generation system. \n+Codestarts provide a personalized Quarkus getting started experience and really show the Quarkus breadth.\n+Quarkus extensions are able to provide one or more well defined codestarts which will contain the necessary resources and code examples required to get started using it.\n+\n+== How it works\n+\n+There are two kinds of codestarts contributing to the generation of a project, the kind where we want to have only one for a project (called Base) and the rest (called Extra).\n+\n+Base:\n+\n+* project: The project skeleton (e.g. a Quarkus project)\n+* buildtool: The build tool (e.g. Maven, Gradle, Gradle with Kotlin DSL)\n+* language: The coding language (e.g. Java, Kotlin, Scala)\n+* config: The config type (e.g. yaml, properties)\n+\n+Extra:\n+* tooling: Anything that can be added to improve the project (e.g. dockerfiles)\n+* example: Any Quarkus extension can provide example code. The user can decide to activate it or not.\n+\n+Each codestart consists of:\n+\n+. A specific directory\n+. A `codestart.yml` file\n+. Optionally some templates which follow a structure and naming conventions\n+\n+*NOTE* The `codestart.yml` file and the directory structure follow the same principle, it can optionally contain a base and/or some language overrides.\n+\n+=== Project generation\n+\n+When generating a Quarkus project:\n+\n+. Codestarts to use are resolved depending on the input\n+. The Codestarts' shared data is processed to make it available for all codestarts\n+. The relevant files are processed:\n+** Only the files that are related to the selected language are processed\n+** The files are processed differently based on a naming convention.\n+** The data is used to render Qute templates\n+** We always process in this order: language, project, buildtool, config, custom, other.\n+\n+The data used to generate a specific codestart is a merge of:\n+\n+. The data of the codestart to generate\n+. All codestarts \"shared\" data\n+. The user input\n+. Some specific post processing (e.g. adding dependencies)\n+\n+*NOTE* The data (shared or not) can also be specific to a language.\n+\n+=== Directory Structure\n+\n+*NOTE* `codestart.yml` is the only required file.\n+\n+* `codestart.yml` must be at the root of the codestart\n+* `./base` contains all the files that will be processed\n+* `./[languageName]` contains all the files that will be processed if the specified language has been selected (overriding base)\n+\n+=== codestart.yml\n+\n+codestart.yml:\n+[source,yaml]\n+----\n+name: the unique name - REQUIRED\n+ref: the reference name (not unique) to use for extension matching (else the name is used)\n+type: the type [example (default), project, buildtool, language, config] or any custom type\n+fallback: flag to indicate that it should be selected as fallback when no codestart has been selected with type - Only for base types\n+preselected: flag to indicate that it should be pre-selected - Only for extra types.\n+spec:\n+  [base or language name]: the specification (base, java, ...)\n+    data: a map of data to use only for this codestart\n+    shared-data: a map of data to use accross all codestarts\n+    dependencies: a list of dependencies to add when this is selected\n+    test-dependencies: a list of test dependencies to add when this is selected\n+----\n+\n+=== Files Naming Convention\n+\n+* containing `.tpl.qute` will be processed with Qute (`.tpl.qute` will be removed from the output file name).", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "88efcc09a2a93208fb603565c5030273727f20cc"}, "originalPosition": 83}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg4NTE5NjM0OnYy", "diffSide": "RIGHT", "path": "independent-projects/tools/codestarts/codestarts.adoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwODozNjo1MlrOG4ub0g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwODozNjo1MlrOG4ub0g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjEzNDIyNg==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            * containing `.include.qute` is used as a Qute template for inclusion (only available locally to the codestart).\n          \n          \n            \n            * `.include.qute` is used as a Qute template for inclusion (only available to the codestart, not listed in the generated project ).", "url": "https://github.com/quarkusio/quarkus/pull/10372#discussion_r462134226", "createdAt": "2020-07-29T08:36:52Z", "author": {"login": "maxandersen"}, "path": "independent-projects/tools/codestarts/codestarts.adoc", "diffHunk": "@@ -0,0 +1,220 @@\n+= Quarkus - Codestarts\n+\n+This guide explains how to create and configure a Quarkus Codestart for an extension.\n+\n+== Description\n+\n+\"Codestarts\" is the name we gave to our Quarkus quickstart code generation system. \n+Codestarts provide a personalized Quarkus getting started experience and really show the Quarkus breadth.\n+Quarkus extensions are able to provide one or more well defined codestarts which will contain the necessary resources and code examples required to get started using it.\n+\n+== How it works\n+\n+There are two kinds of codestarts contributing to the generation of a project, the kind where we want to have only one for a project (called Base) and the rest (called Extra).\n+\n+Base:\n+\n+* project: The project skeleton (e.g. a Quarkus project)\n+* buildtool: The build tool (e.g. Maven, Gradle, Gradle with Kotlin DSL)\n+* language: The coding language (e.g. Java, Kotlin, Scala)\n+* config: The config type (e.g. yaml, properties)\n+\n+Extra:\n+* tooling: Anything that can be added to improve the project (e.g. dockerfiles)\n+* example: Any Quarkus extension can provide example code. The user can decide to activate it or not.\n+\n+Each codestart consists of:\n+\n+. A specific directory\n+. A `codestart.yml` file\n+. Optionally some templates which follow a structure and naming conventions\n+\n+*NOTE* The `codestart.yml` file and the directory structure follow the same principle, it can optionally contain a base and/or some language overrides.\n+\n+=== Project generation\n+\n+When generating a Quarkus project:\n+\n+. Codestarts to use are resolved depending on the input\n+. The Codestarts' shared data is processed to make it available for all codestarts\n+. The relevant files are processed:\n+** Only the files that are related to the selected language are processed\n+** The files are processed differently based on a naming convention.\n+** The data is used to render Qute templates\n+** We always process in this order: language, project, buildtool, config, custom, other.\n+\n+The data used to generate a specific codestart is a merge of:\n+\n+. The data of the codestart to generate\n+. All codestarts \"shared\" data\n+. The user input\n+. Some specific post processing (e.g. adding dependencies)\n+\n+*NOTE* The data (shared or not) can also be specific to a language.\n+\n+=== Directory Structure\n+\n+*NOTE* `codestart.yml` is the only required file.\n+\n+* `codestart.yml` must be at the root of the codestart\n+* `./base` contains all the files that will be processed\n+* `./[languageName]` contains all the files that will be processed if the specified language has been selected (overriding base)\n+\n+=== codestart.yml\n+\n+codestart.yml:\n+[source,yaml]\n+----\n+name: the unique name - REQUIRED\n+ref: the reference name (not unique) to use for extension matching (else the name is used)\n+type: the type [example (default), project, buildtool, language, config] or any custom type\n+fallback: flag to indicate that it should be selected as fallback when no codestart has been selected with type - Only for base types\n+preselected: flag to indicate that it should be pre-selected - Only for extra types.\n+spec:\n+  [base or language name]: the specification (base, java, ...)\n+    data: a map of data to use only for this codestart\n+    shared-data: a map of data to use accross all codestarts\n+    dependencies: a list of dependencies to add when this is selected\n+    test-dependencies: a list of test dependencies to add when this is selected\n+----\n+\n+=== Files Naming Convention\n+\n+* containing `.tpl.qute` will be processed with Qute (`.tpl.qute` will be removed from the output file name).\n+* containing `.include.qute` is used as a Qute template for inclusion (only available locally to the codestart).", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "88efcc09a2a93208fb603565c5030273727f20cc"}, "originalPosition": 84}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg4NTIxNDQ0OnYy", "diffSide": "RIGHT", "path": "independent-projects/tools/codestarts/codestarts.adoc", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwODo0MjowNFrOG4unDg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQxNDoyNzoxNlrOG47HUQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjEzNzEwMg==", "bodyText": "forbidden..why ?", "url": "https://github.com/quarkusio/quarkus/pull/10372#discussion_r462137102", "createdAt": "2020-07-29T08:42:04Z", "author": {"login": "maxandersen"}, "path": "independent-projects/tools/codestarts/codestarts.adoc", "diffHunk": "@@ -0,0 +1,220 @@\n+= Quarkus - Codestarts\n+\n+This guide explains how to create and configure a Quarkus Codestart for an extension.\n+\n+== Description\n+\n+\"Codestarts\" is the name we gave to our Quarkus quickstart code generation system. \n+Codestarts provide a personalized Quarkus getting started experience and really show the Quarkus breadth.\n+Quarkus extensions are able to provide one or more well defined codestarts which will contain the necessary resources and code examples required to get started using it.\n+\n+== How it works\n+\n+There are two kinds of codestarts contributing to the generation of a project, the kind where we want to have only one for a project (called Base) and the rest (called Extra).\n+\n+Base:\n+\n+* project: The project skeleton (e.g. a Quarkus project)\n+* buildtool: The build tool (e.g. Maven, Gradle, Gradle with Kotlin DSL)\n+* language: The coding language (e.g. Java, Kotlin, Scala)\n+* config: The config type (e.g. yaml, properties)\n+\n+Extra:\n+* tooling: Anything that can be added to improve the project (e.g. dockerfiles)\n+* example: Any Quarkus extension can provide example code. The user can decide to activate it or not.\n+\n+Each codestart consists of:\n+\n+. A specific directory\n+. A `codestart.yml` file\n+. Optionally some templates which follow a structure and naming conventions\n+\n+*NOTE* The `codestart.yml` file and the directory structure follow the same principle, it can optionally contain a base and/or some language overrides.\n+\n+=== Project generation\n+\n+When generating a Quarkus project:\n+\n+. Codestarts to use are resolved depending on the input\n+. The Codestarts' shared data is processed to make it available for all codestarts\n+. The relevant files are processed:\n+** Only the files that are related to the selected language are processed\n+** The files are processed differently based on a naming convention.\n+** The data is used to render Qute templates\n+** We always process in this order: language, project, buildtool, config, custom, other.\n+\n+The data used to generate a specific codestart is a merge of:\n+\n+. The data of the codestart to generate\n+. All codestarts \"shared\" data\n+. The user input\n+. Some specific post processing (e.g. adding dependencies)\n+\n+*NOTE* The data (shared or not) can also be specific to a language.\n+\n+=== Directory Structure\n+\n+*NOTE* `codestart.yml` is the only required file.\n+\n+* `codestart.yml` must be at the root of the codestart\n+* `./base` contains all the files that will be processed\n+* `./[languageName]` contains all the files that will be processed if the specified language has been selected (overriding base)\n+\n+=== codestart.yml\n+\n+codestart.yml:\n+[source,yaml]\n+----\n+name: the unique name - REQUIRED\n+ref: the reference name (not unique) to use for extension matching (else the name is used)\n+type: the type [example (default), project, buildtool, language, config] or any custom type\n+fallback: flag to indicate that it should be selected as fallback when no codestart has been selected with type - Only for base types\n+preselected: flag to indicate that it should be pre-selected - Only for extra types.\n+spec:\n+  [base or language name]: the specification (base, java, ...)\n+    data: a map of data to use only for this codestart\n+    shared-data: a map of data to use accross all codestarts\n+    dependencies: a list of dependencies to add when this is selected\n+    test-dependencies: a list of test dependencies to add when this is selected\n+----\n+\n+=== Files Naming Convention\n+\n+* containing `.tpl.qute` will be processed with Qute (`.tpl.qute` will be removed from the output file name).\n+* containing `.include.qute` is used as a Qute template for inclusion (only available locally to the codestart).\n+\n+  Example: When using `{#include [name]}` in a template, it will look for `[name].include.qute` in the language dir, then in the base dir or the codestart.\n+\n+* an output strategy can be defined for specific files, it defines some specific logic on how to deal with those files.\n+\n+ Example: in the Quarkus project `codestart.yml`:\n+[source,yaml]\n+----\n+output-strategy:\n+  \"pom.xml\": smart-pom-merge # smartly merge pom.xml contents together\n+  \"README.md\": append # they are appended together\n+  \"readme.md\": forbidden # it will fail if found in any codestart\n+  \"README.adoc\": forbidden", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "88efcc09a2a93208fb603565c5030273727f20cc"}, "originalPosition": 97}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjE3MTc4OQ==", "bodyText": "I don't think we can have multiple README types merged together, we need to choose one or the other at project level, no?", "url": "https://github.com/quarkusio/quarkus/pull/10372#discussion_r462171789", "createdAt": "2020-07-29T09:39:52Z", "author": {"login": "ia3andy"}, "path": "independent-projects/tools/codestarts/codestarts.adoc", "diffHunk": "@@ -0,0 +1,220 @@\n+= Quarkus - Codestarts\n+\n+This guide explains how to create and configure a Quarkus Codestart for an extension.\n+\n+== Description\n+\n+\"Codestarts\" is the name we gave to our Quarkus quickstart code generation system. \n+Codestarts provide a personalized Quarkus getting started experience and really show the Quarkus breadth.\n+Quarkus extensions are able to provide one or more well defined codestarts which will contain the necessary resources and code examples required to get started using it.\n+\n+== How it works\n+\n+There are two kinds of codestarts contributing to the generation of a project, the kind where we want to have only one for a project (called Base) and the rest (called Extra).\n+\n+Base:\n+\n+* project: The project skeleton (e.g. a Quarkus project)\n+* buildtool: The build tool (e.g. Maven, Gradle, Gradle with Kotlin DSL)\n+* language: The coding language (e.g. Java, Kotlin, Scala)\n+* config: The config type (e.g. yaml, properties)\n+\n+Extra:\n+* tooling: Anything that can be added to improve the project (e.g. dockerfiles)\n+* example: Any Quarkus extension can provide example code. The user can decide to activate it or not.\n+\n+Each codestart consists of:\n+\n+. A specific directory\n+. A `codestart.yml` file\n+. Optionally some templates which follow a structure and naming conventions\n+\n+*NOTE* The `codestart.yml` file and the directory structure follow the same principle, it can optionally contain a base and/or some language overrides.\n+\n+=== Project generation\n+\n+When generating a Quarkus project:\n+\n+. Codestarts to use are resolved depending on the input\n+. The Codestarts' shared data is processed to make it available for all codestarts\n+. The relevant files are processed:\n+** Only the files that are related to the selected language are processed\n+** The files are processed differently based on a naming convention.\n+** The data is used to render Qute templates\n+** We always process in this order: language, project, buildtool, config, custom, other.\n+\n+The data used to generate a specific codestart is a merge of:\n+\n+. The data of the codestart to generate\n+. All codestarts \"shared\" data\n+. The user input\n+. Some specific post processing (e.g. adding dependencies)\n+\n+*NOTE* The data (shared or not) can also be specific to a language.\n+\n+=== Directory Structure\n+\n+*NOTE* `codestart.yml` is the only required file.\n+\n+* `codestart.yml` must be at the root of the codestart\n+* `./base` contains all the files that will be processed\n+* `./[languageName]` contains all the files that will be processed if the specified language has been selected (overriding base)\n+\n+=== codestart.yml\n+\n+codestart.yml:\n+[source,yaml]\n+----\n+name: the unique name - REQUIRED\n+ref: the reference name (not unique) to use for extension matching (else the name is used)\n+type: the type [example (default), project, buildtool, language, config] or any custom type\n+fallback: flag to indicate that it should be selected as fallback when no codestart has been selected with type - Only for base types\n+preselected: flag to indicate that it should be pre-selected - Only for extra types.\n+spec:\n+  [base or language name]: the specification (base, java, ...)\n+    data: a map of data to use only for this codestart\n+    shared-data: a map of data to use accross all codestarts\n+    dependencies: a list of dependencies to add when this is selected\n+    test-dependencies: a list of test dependencies to add when this is selected\n+----\n+\n+=== Files Naming Convention\n+\n+* containing `.tpl.qute` will be processed with Qute (`.tpl.qute` will be removed from the output file name).\n+* containing `.include.qute` is used as a Qute template for inclusion (only available locally to the codestart).\n+\n+  Example: When using `{#include [name]}` in a template, it will look for `[name].include.qute` in the language dir, then in the base dir or the codestart.\n+\n+* an output strategy can be defined for specific files, it defines some specific logic on how to deal with those files.\n+\n+ Example: in the Quarkus project `codestart.yml`:\n+[source,yaml]\n+----\n+output-strategy:\n+  \"pom.xml\": smart-pom-merge # smartly merge pom.xml contents together\n+  \"README.md\": append # they are appended together\n+  \"readme.md\": forbidden # it will fail if found in any codestart\n+  \"README.adoc\": forbidden", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjEzNzEwMg=="}, "originalCommit": {"oid": "88efcc09a2a93208fb603565c5030273727f20cc"}, "originalPosition": 97}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjM0MTk2OQ==", "bodyText": "I guess :)", "url": "https://github.com/quarkusio/quarkus/pull/10372#discussion_r462341969", "createdAt": "2020-07-29T14:27:16Z", "author": {"login": "maxandersen"}, "path": "independent-projects/tools/codestarts/codestarts.adoc", "diffHunk": "@@ -0,0 +1,220 @@\n+= Quarkus - Codestarts\n+\n+This guide explains how to create and configure a Quarkus Codestart for an extension.\n+\n+== Description\n+\n+\"Codestarts\" is the name we gave to our Quarkus quickstart code generation system. \n+Codestarts provide a personalized Quarkus getting started experience and really show the Quarkus breadth.\n+Quarkus extensions are able to provide one or more well defined codestarts which will contain the necessary resources and code examples required to get started using it.\n+\n+== How it works\n+\n+There are two kinds of codestarts contributing to the generation of a project, the kind where we want to have only one for a project (called Base) and the rest (called Extra).\n+\n+Base:\n+\n+* project: The project skeleton (e.g. a Quarkus project)\n+* buildtool: The build tool (e.g. Maven, Gradle, Gradle with Kotlin DSL)\n+* language: The coding language (e.g. Java, Kotlin, Scala)\n+* config: The config type (e.g. yaml, properties)\n+\n+Extra:\n+* tooling: Anything that can be added to improve the project (e.g. dockerfiles)\n+* example: Any Quarkus extension can provide example code. The user can decide to activate it or not.\n+\n+Each codestart consists of:\n+\n+. A specific directory\n+. A `codestart.yml` file\n+. Optionally some templates which follow a structure and naming conventions\n+\n+*NOTE* The `codestart.yml` file and the directory structure follow the same principle, it can optionally contain a base and/or some language overrides.\n+\n+=== Project generation\n+\n+When generating a Quarkus project:\n+\n+. Codestarts to use are resolved depending on the input\n+. The Codestarts' shared data is processed to make it available for all codestarts\n+. The relevant files are processed:\n+** Only the files that are related to the selected language are processed\n+** The files are processed differently based on a naming convention.\n+** The data is used to render Qute templates\n+** We always process in this order: language, project, buildtool, config, custom, other.\n+\n+The data used to generate a specific codestart is a merge of:\n+\n+. The data of the codestart to generate\n+. All codestarts \"shared\" data\n+. The user input\n+. Some specific post processing (e.g. adding dependencies)\n+\n+*NOTE* The data (shared or not) can also be specific to a language.\n+\n+=== Directory Structure\n+\n+*NOTE* `codestart.yml` is the only required file.\n+\n+* `codestart.yml` must be at the root of the codestart\n+* `./base` contains all the files that will be processed\n+* `./[languageName]` contains all the files that will be processed if the specified language has been selected (overriding base)\n+\n+=== codestart.yml\n+\n+codestart.yml:\n+[source,yaml]\n+----\n+name: the unique name - REQUIRED\n+ref: the reference name (not unique) to use for extension matching (else the name is used)\n+type: the type [example (default), project, buildtool, language, config] or any custom type\n+fallback: flag to indicate that it should be selected as fallback when no codestart has been selected with type - Only for base types\n+preselected: flag to indicate that it should be pre-selected - Only for extra types.\n+spec:\n+  [base or language name]: the specification (base, java, ...)\n+    data: a map of data to use only for this codestart\n+    shared-data: a map of data to use accross all codestarts\n+    dependencies: a list of dependencies to add when this is selected\n+    test-dependencies: a list of test dependencies to add when this is selected\n+----\n+\n+=== Files Naming Convention\n+\n+* containing `.tpl.qute` will be processed with Qute (`.tpl.qute` will be removed from the output file name).\n+* containing `.include.qute` is used as a Qute template for inclusion (only available locally to the codestart).\n+\n+  Example: When using `{#include [name]}` in a template, it will look for `[name].include.qute` in the language dir, then in the base dir or the codestart.\n+\n+* an output strategy can be defined for specific files, it defines some specific logic on how to deal with those files.\n+\n+ Example: in the Quarkus project `codestart.yml`:\n+[source,yaml]\n+----\n+output-strategy:\n+  \"pom.xml\": smart-pom-merge # smartly merge pom.xml contents together\n+  \"README.md\": append # they are appended together\n+  \"readme.md\": forbidden # it will fail if found in any codestart\n+  \"README.adoc\": forbidden", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjEzNzEwMg=="}, "originalCommit": {"oid": "88efcc09a2a93208fb603565c5030273727f20cc"}, "originalPosition": 97}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg4NTIxODI1OnYy", "diffSide": "RIGHT", "path": "independent-projects/tools/codestarts/codestarts.adoc", "isResolved": true, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwODo0MzoxN1rOG4upgA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQwNzoyMjowNFrOG5XB7g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjEzNzcyOA==", "bodyText": "we should somewhere list the default name/data codestart properties/data will be fed in.", "url": "https://github.com/quarkusio/quarkus/pull/10372#discussion_r462137728", "createdAt": "2020-07-29T08:43:17Z", "author": {"login": "maxandersen"}, "path": "independent-projects/tools/codestarts/codestarts.adoc", "diffHunk": "@@ -0,0 +1,220 @@\n+= Quarkus - Codestarts\n+\n+This guide explains how to create and configure a Quarkus Codestart for an extension.\n+\n+== Description\n+\n+\"Codestarts\" is the name we gave to our Quarkus quickstart code generation system. \n+Codestarts provide a personalized Quarkus getting started experience and really show the Quarkus breadth.\n+Quarkus extensions are able to provide one or more well defined codestarts which will contain the necessary resources and code examples required to get started using it.\n+\n+== How it works\n+\n+There are two kinds of codestarts contributing to the generation of a project, the kind where we want to have only one for a project (called Base) and the rest (called Extra).\n+\n+Base:\n+\n+* project: The project skeleton (e.g. a Quarkus project)\n+* buildtool: The build tool (e.g. Maven, Gradle, Gradle with Kotlin DSL)\n+* language: The coding language (e.g. Java, Kotlin, Scala)\n+* config: The config type (e.g. yaml, properties)\n+\n+Extra:\n+* tooling: Anything that can be added to improve the project (e.g. dockerfiles)\n+* example: Any Quarkus extension can provide example code. The user can decide to activate it or not.\n+\n+Each codestart consists of:\n+\n+. A specific directory\n+. A `codestart.yml` file\n+. Optionally some templates which follow a structure and naming conventions\n+\n+*NOTE* The `codestart.yml` file and the directory structure follow the same principle, it can optionally contain a base and/or some language overrides.\n+\n+=== Project generation\n+\n+When generating a Quarkus project:\n+\n+. Codestarts to use are resolved depending on the input\n+. The Codestarts' shared data is processed to make it available for all codestarts\n+. The relevant files are processed:\n+** Only the files that are related to the selected language are processed\n+** The files are processed differently based on a naming convention.\n+** The data is used to render Qute templates\n+** We always process in this order: language, project, buildtool, config, custom, other.\n+\n+The data used to generate a specific codestart is a merge of:\n+\n+. The data of the codestart to generate\n+. All codestarts \"shared\" data\n+. The user input\n+. Some specific post processing (e.g. adding dependencies)\n+\n+*NOTE* The data (shared or not) can also be specific to a language.\n+\n+=== Directory Structure\n+\n+*NOTE* `codestart.yml` is the only required file.\n+\n+* `codestart.yml` must be at the root of the codestart\n+* `./base` contains all the files that will be processed\n+* `./[languageName]` contains all the files that will be processed if the specified language has been selected (overriding base)\n+\n+=== codestart.yml\n+\n+codestart.yml:\n+[source,yaml]\n+----\n+name: the unique name - REQUIRED\n+ref: the reference name (not unique) to use for extension matching (else the name is used)\n+type: the type [example (default), project, buildtool, language, config] or any custom type\n+fallback: flag to indicate that it should be selected as fallback when no codestart has been selected with type - Only for base types\n+preselected: flag to indicate that it should be pre-selected - Only for extra types.\n+spec:\n+  [base or language name]: the specification (base, java, ...)\n+    data: a map of data to use only for this codestart\n+    shared-data: a map of data to use accross all codestarts", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "88efcc09a2a93208fb603565c5030273727f20cc"}, "originalPosition": 76}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjE3MjczNA==", "bodyText": "I am preparing a command to display merged shared-data for a given CodestartInput.", "url": "https://github.com/quarkusio/quarkus/pull/10372#discussion_r462172734", "createdAt": "2020-07-29T09:41:28Z", "author": {"login": "ia3andy"}, "path": "independent-projects/tools/codestarts/codestarts.adoc", "diffHunk": "@@ -0,0 +1,220 @@\n+= Quarkus - Codestarts\n+\n+This guide explains how to create and configure a Quarkus Codestart for an extension.\n+\n+== Description\n+\n+\"Codestarts\" is the name we gave to our Quarkus quickstart code generation system. \n+Codestarts provide a personalized Quarkus getting started experience and really show the Quarkus breadth.\n+Quarkus extensions are able to provide one or more well defined codestarts which will contain the necessary resources and code examples required to get started using it.\n+\n+== How it works\n+\n+There are two kinds of codestarts contributing to the generation of a project, the kind where we want to have only one for a project (called Base) and the rest (called Extra).\n+\n+Base:\n+\n+* project: The project skeleton (e.g. a Quarkus project)\n+* buildtool: The build tool (e.g. Maven, Gradle, Gradle with Kotlin DSL)\n+* language: The coding language (e.g. Java, Kotlin, Scala)\n+* config: The config type (e.g. yaml, properties)\n+\n+Extra:\n+* tooling: Anything that can be added to improve the project (e.g. dockerfiles)\n+* example: Any Quarkus extension can provide example code. The user can decide to activate it or not.\n+\n+Each codestart consists of:\n+\n+. A specific directory\n+. A `codestart.yml` file\n+. Optionally some templates which follow a structure and naming conventions\n+\n+*NOTE* The `codestart.yml` file and the directory structure follow the same principle, it can optionally contain a base and/or some language overrides.\n+\n+=== Project generation\n+\n+When generating a Quarkus project:\n+\n+. Codestarts to use are resolved depending on the input\n+. The Codestarts' shared data is processed to make it available for all codestarts\n+. The relevant files are processed:\n+** Only the files that are related to the selected language are processed\n+** The files are processed differently based on a naming convention.\n+** The data is used to render Qute templates\n+** We always process in this order: language, project, buildtool, config, custom, other.\n+\n+The data used to generate a specific codestart is a merge of:\n+\n+. The data of the codestart to generate\n+. All codestarts \"shared\" data\n+. The user input\n+. Some specific post processing (e.g. adding dependencies)\n+\n+*NOTE* The data (shared or not) can also be specific to a language.\n+\n+=== Directory Structure\n+\n+*NOTE* `codestart.yml` is the only required file.\n+\n+* `codestart.yml` must be at the root of the codestart\n+* `./base` contains all the files that will be processed\n+* `./[languageName]` contains all the files that will be processed if the specified language has been selected (overriding base)\n+\n+=== codestart.yml\n+\n+codestart.yml:\n+[source,yaml]\n+----\n+name: the unique name - REQUIRED\n+ref: the reference name (not unique) to use for extension matching (else the name is used)\n+type: the type [example (default), project, buildtool, language, config] or any custom type\n+fallback: flag to indicate that it should be selected as fallback when no codestart has been selected with type - Only for base types\n+preselected: flag to indicate that it should be pre-selected - Only for extra types.\n+spec:\n+  [base or language name]: the specification (base, java, ...)\n+    data: a map of data to use only for this codestart\n+    shared-data: a map of data to use accross all codestarts", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjEzNzcyOA=="}, "originalCommit": {"oid": "88efcc09a2a93208fb603565c5030273727f20cc"}, "originalPosition": 76}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjM0MjYxMQ==", "bodyText": "aren't there some that are always the same ?", "url": "https://github.com/quarkusio/quarkus/pull/10372#discussion_r462342611", "createdAt": "2020-07-29T14:28:02Z", "author": {"login": "maxandersen"}, "path": "independent-projects/tools/codestarts/codestarts.adoc", "diffHunk": "@@ -0,0 +1,220 @@\n+= Quarkus - Codestarts\n+\n+This guide explains how to create and configure a Quarkus Codestart for an extension.\n+\n+== Description\n+\n+\"Codestarts\" is the name we gave to our Quarkus quickstart code generation system. \n+Codestarts provide a personalized Quarkus getting started experience and really show the Quarkus breadth.\n+Quarkus extensions are able to provide one or more well defined codestarts which will contain the necessary resources and code examples required to get started using it.\n+\n+== How it works\n+\n+There are two kinds of codestarts contributing to the generation of a project, the kind where we want to have only one for a project (called Base) and the rest (called Extra).\n+\n+Base:\n+\n+* project: The project skeleton (e.g. a Quarkus project)\n+* buildtool: The build tool (e.g. Maven, Gradle, Gradle with Kotlin DSL)\n+* language: The coding language (e.g. Java, Kotlin, Scala)\n+* config: The config type (e.g. yaml, properties)\n+\n+Extra:\n+* tooling: Anything that can be added to improve the project (e.g. dockerfiles)\n+* example: Any Quarkus extension can provide example code. The user can decide to activate it or not.\n+\n+Each codestart consists of:\n+\n+. A specific directory\n+. A `codestart.yml` file\n+. Optionally some templates which follow a structure and naming conventions\n+\n+*NOTE* The `codestart.yml` file and the directory structure follow the same principle, it can optionally contain a base and/or some language overrides.\n+\n+=== Project generation\n+\n+When generating a Quarkus project:\n+\n+. Codestarts to use are resolved depending on the input\n+. The Codestarts' shared data is processed to make it available for all codestarts\n+. The relevant files are processed:\n+** Only the files that are related to the selected language are processed\n+** The files are processed differently based on a naming convention.\n+** The data is used to render Qute templates\n+** We always process in this order: language, project, buildtool, config, custom, other.\n+\n+The data used to generate a specific codestart is a merge of:\n+\n+. The data of the codestart to generate\n+. All codestarts \"shared\" data\n+. The user input\n+. Some specific post processing (e.g. adding dependencies)\n+\n+*NOTE* The data (shared or not) can also be specific to a language.\n+\n+=== Directory Structure\n+\n+*NOTE* `codestart.yml` is the only required file.\n+\n+* `codestart.yml` must be at the root of the codestart\n+* `./base` contains all the files that will be processed\n+* `./[languageName]` contains all the files that will be processed if the specified language has been selected (overriding base)\n+\n+=== codestart.yml\n+\n+codestart.yml:\n+[source,yaml]\n+----\n+name: the unique name - REQUIRED\n+ref: the reference name (not unique) to use for extension matching (else the name is used)\n+type: the type [example (default), project, buildtool, language, config] or any custom type\n+fallback: flag to indicate that it should be selected as fallback when no codestart has been selected with type - Only for base types\n+preselected: flag to indicate that it should be pre-selected - Only for extra types.\n+spec:\n+  [base or language name]: the specification (base, java, ...)\n+    data: a map of data to use only for this codestart\n+    shared-data: a map of data to use accross all codestarts", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjEzNzcyOA=="}, "originalCommit": {"oid": "88efcc09a2a93208fb603565c5030273727f20cc"}, "originalPosition": 76}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjM3MTMwMA==", "bodyText": "yes you have: https://github.com/ia3andy/quarkus/blob/codestarts-v0/independent-projects/tools/codestarts/src/main/java/io/quarkus/devtools/codestarts/CodestartData.java#L19\nand also some auto-generated ones:\nhttps://github.com/ia3andy/quarkus/blob/codestarts-v0/independent-projects/tools/codestarts/src/main/java/io/quarkus/devtools/codestarts/CodestartData.java#L90\ncodestart-project.<basetype>.name (ex: codestart-project.buildtool.name)", "url": "https://github.com/quarkusio/quarkus/pull/10372#discussion_r462371300", "createdAt": "2020-07-29T15:05:13Z", "author": {"login": "ia3andy"}, "path": "independent-projects/tools/codestarts/codestarts.adoc", "diffHunk": "@@ -0,0 +1,220 @@\n+= Quarkus - Codestarts\n+\n+This guide explains how to create and configure a Quarkus Codestart for an extension.\n+\n+== Description\n+\n+\"Codestarts\" is the name we gave to our Quarkus quickstart code generation system. \n+Codestarts provide a personalized Quarkus getting started experience and really show the Quarkus breadth.\n+Quarkus extensions are able to provide one or more well defined codestarts which will contain the necessary resources and code examples required to get started using it.\n+\n+== How it works\n+\n+There are two kinds of codestarts contributing to the generation of a project, the kind where we want to have only one for a project (called Base) and the rest (called Extra).\n+\n+Base:\n+\n+* project: The project skeleton (e.g. a Quarkus project)\n+* buildtool: The build tool (e.g. Maven, Gradle, Gradle with Kotlin DSL)\n+* language: The coding language (e.g. Java, Kotlin, Scala)\n+* config: The config type (e.g. yaml, properties)\n+\n+Extra:\n+* tooling: Anything that can be added to improve the project (e.g. dockerfiles)\n+* example: Any Quarkus extension can provide example code. The user can decide to activate it or not.\n+\n+Each codestart consists of:\n+\n+. A specific directory\n+. A `codestart.yml` file\n+. Optionally some templates which follow a structure and naming conventions\n+\n+*NOTE* The `codestart.yml` file and the directory structure follow the same principle, it can optionally contain a base and/or some language overrides.\n+\n+=== Project generation\n+\n+When generating a Quarkus project:\n+\n+. Codestarts to use are resolved depending on the input\n+. The Codestarts' shared data is processed to make it available for all codestarts\n+. The relevant files are processed:\n+** Only the files that are related to the selected language are processed\n+** The files are processed differently based on a naming convention.\n+** The data is used to render Qute templates\n+** We always process in this order: language, project, buildtool, config, custom, other.\n+\n+The data used to generate a specific codestart is a merge of:\n+\n+. The data of the codestart to generate\n+. All codestarts \"shared\" data\n+. The user input\n+. Some specific post processing (e.g. adding dependencies)\n+\n+*NOTE* The data (shared or not) can also be specific to a language.\n+\n+=== Directory Structure\n+\n+*NOTE* `codestart.yml` is the only required file.\n+\n+* `codestart.yml` must be at the root of the codestart\n+* `./base` contains all the files that will be processed\n+* `./[languageName]` contains all the files that will be processed if the specified language has been selected (overriding base)\n+\n+=== codestart.yml\n+\n+codestart.yml:\n+[source,yaml]\n+----\n+name: the unique name - REQUIRED\n+ref: the reference name (not unique) to use for extension matching (else the name is used)\n+type: the type [example (default), project, buildtool, language, config] or any custom type\n+fallback: flag to indicate that it should be selected as fallback when no codestart has been selected with type - Only for base types\n+preselected: flag to indicate that it should be pre-selected - Only for extra types.\n+spec:\n+  [base or language name]: the specification (base, java, ...)\n+    data: a map of data to use only for this codestart\n+    shared-data: a map of data to use accross all codestarts", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjEzNzcyOA=="}, "originalCommit": {"oid": "88efcc09a2a93208fb603565c5030273727f20cc"}, "originalPosition": 76}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Mjc5OTM0Mg==", "bodyText": "#11085", "url": "https://github.com/quarkusio/quarkus/pull/10372#discussion_r462799342", "createdAt": "2020-07-30T07:22:04Z", "author": {"login": "ia3andy"}, "path": "independent-projects/tools/codestarts/codestarts.adoc", "diffHunk": "@@ -0,0 +1,220 @@\n+= Quarkus - Codestarts\n+\n+This guide explains how to create and configure a Quarkus Codestart for an extension.\n+\n+== Description\n+\n+\"Codestarts\" is the name we gave to our Quarkus quickstart code generation system. \n+Codestarts provide a personalized Quarkus getting started experience and really show the Quarkus breadth.\n+Quarkus extensions are able to provide one or more well defined codestarts which will contain the necessary resources and code examples required to get started using it.\n+\n+== How it works\n+\n+There are two kinds of codestarts contributing to the generation of a project, the kind where we want to have only one for a project (called Base) and the rest (called Extra).\n+\n+Base:\n+\n+* project: The project skeleton (e.g. a Quarkus project)\n+* buildtool: The build tool (e.g. Maven, Gradle, Gradle with Kotlin DSL)\n+* language: The coding language (e.g. Java, Kotlin, Scala)\n+* config: The config type (e.g. yaml, properties)\n+\n+Extra:\n+* tooling: Anything that can be added to improve the project (e.g. dockerfiles)\n+* example: Any Quarkus extension can provide example code. The user can decide to activate it or not.\n+\n+Each codestart consists of:\n+\n+. A specific directory\n+. A `codestart.yml` file\n+. Optionally some templates which follow a structure and naming conventions\n+\n+*NOTE* The `codestart.yml` file and the directory structure follow the same principle, it can optionally contain a base and/or some language overrides.\n+\n+=== Project generation\n+\n+When generating a Quarkus project:\n+\n+. Codestarts to use are resolved depending on the input\n+. The Codestarts' shared data is processed to make it available for all codestarts\n+. The relevant files are processed:\n+** Only the files that are related to the selected language are processed\n+** The files are processed differently based on a naming convention.\n+** The data is used to render Qute templates\n+** We always process in this order: language, project, buildtool, config, custom, other.\n+\n+The data used to generate a specific codestart is a merge of:\n+\n+. The data of the codestart to generate\n+. All codestarts \"shared\" data\n+. The user input\n+. Some specific post processing (e.g. adding dependencies)\n+\n+*NOTE* The data (shared or not) can also be specific to a language.\n+\n+=== Directory Structure\n+\n+*NOTE* `codestart.yml` is the only required file.\n+\n+* `codestart.yml` must be at the root of the codestart\n+* `./base` contains all the files that will be processed\n+* `./[languageName]` contains all the files that will be processed if the specified language has been selected (overriding base)\n+\n+=== codestart.yml\n+\n+codestart.yml:\n+[source,yaml]\n+----\n+name: the unique name - REQUIRED\n+ref: the reference name (not unique) to use for extension matching (else the name is used)\n+type: the type [example (default), project, buildtool, language, config] or any custom type\n+fallback: flag to indicate that it should be selected as fallback when no codestart has been selected with type - Only for base types\n+preselected: flag to indicate that it should be pre-selected - Only for extra types.\n+spec:\n+  [base or language name]: the specification (base, java, ...)\n+    data: a map of data to use only for this codestart\n+    shared-data: a map of data to use accross all codestarts", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjEzNzcyOA=="}, "originalCommit": {"oid": "88efcc09a2a93208fb603565c5030273727f20cc"}, "originalPosition": 76}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg4NTIyNTQ4OnYy", "diffSide": "RIGHT", "path": "independent-projects/tools/codestarts/codestarts.adoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwODo0NToxNlrOG4ut-w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwODo0NToxNlrOG4ut-w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjEzODg3NQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            *NOTE* Just add `.tpl.qute` if you want it to be rendered with qute and use some data\n          \n          \n            \n            *NOTE* Just add `.tpl.qute` if you want it to be rendered with qute and use some data and simple logic", "url": "https://github.com/quarkusio/quarkus/pull/10372#discussion_r462138875", "createdAt": "2020-07-29T08:45:16Z", "author": {"login": "maxandersen"}, "path": "independent-projects/tools/codestarts/codestarts.adoc", "diffHunk": "@@ -0,0 +1,220 @@\n+= Quarkus - Codestarts\n+\n+This guide explains how to create and configure a Quarkus Codestart for an extension.\n+\n+== Description\n+\n+\"Codestarts\" is the name we gave to our Quarkus quickstart code generation system. \n+Codestarts provide a personalized Quarkus getting started experience and really show the Quarkus breadth.\n+Quarkus extensions are able to provide one or more well defined codestarts which will contain the necessary resources and code examples required to get started using it.\n+\n+== How it works\n+\n+There are two kinds of codestarts contributing to the generation of a project, the kind where we want to have only one for a project (called Base) and the rest (called Extra).\n+\n+Base:\n+\n+* project: The project skeleton (e.g. a Quarkus project)\n+* buildtool: The build tool (e.g. Maven, Gradle, Gradle with Kotlin DSL)\n+* language: The coding language (e.g. Java, Kotlin, Scala)\n+* config: The config type (e.g. yaml, properties)\n+\n+Extra:\n+* tooling: Anything that can be added to improve the project (e.g. dockerfiles)\n+* example: Any Quarkus extension can provide example code. The user can decide to activate it or not.\n+\n+Each codestart consists of:\n+\n+. A specific directory\n+. A `codestart.yml` file\n+. Optionally some templates which follow a structure and naming conventions\n+\n+*NOTE* The `codestart.yml` file and the directory structure follow the same principle, it can optionally contain a base and/or some language overrides.\n+\n+=== Project generation\n+\n+When generating a Quarkus project:\n+\n+. Codestarts to use are resolved depending on the input\n+. The Codestarts' shared data is processed to make it available for all codestarts\n+. The relevant files are processed:\n+** Only the files that are related to the selected language are processed\n+** The files are processed differently based on a naming convention.\n+** The data is used to render Qute templates\n+** We always process in this order: language, project, buildtool, config, custom, other.\n+\n+The data used to generate a specific codestart is a merge of:\n+\n+. The data of the codestart to generate\n+. All codestarts \"shared\" data\n+. The user input\n+. Some specific post processing (e.g. adding dependencies)\n+\n+*NOTE* The data (shared or not) can also be specific to a language.\n+\n+=== Directory Structure\n+\n+*NOTE* `codestart.yml` is the only required file.\n+\n+* `codestart.yml` must be at the root of the codestart\n+* `./base` contains all the files that will be processed\n+* `./[languageName]` contains all the files that will be processed if the specified language has been selected (overriding base)\n+\n+=== codestart.yml\n+\n+codestart.yml:\n+[source,yaml]\n+----\n+name: the unique name - REQUIRED\n+ref: the reference name (not unique) to use for extension matching (else the name is used)\n+type: the type [example (default), project, buildtool, language, config] or any custom type\n+fallback: flag to indicate that it should be selected as fallback when no codestart has been selected with type - Only for base types\n+preselected: flag to indicate that it should be pre-selected - Only for extra types.\n+spec:\n+  [base or language name]: the specification (base, java, ...)\n+    data: a map of data to use only for this codestart\n+    shared-data: a map of data to use accross all codestarts\n+    dependencies: a list of dependencies to add when this is selected\n+    test-dependencies: a list of test dependencies to add when this is selected\n+----\n+\n+=== Files Naming Convention\n+\n+* containing `.tpl.qute` will be processed with Qute (`.tpl.qute` will be removed from the output file name).\n+* containing `.include.qute` is used as a Qute template for inclusion (only available locally to the codestart).\n+\n+  Example: When using `{#include [name]}` in a template, it will look for `[name].include.qute` in the language dir, then in the base dir or the codestart.\n+\n+* an output strategy can be defined for specific files, it defines some specific logic on how to deal with those files.\n+\n+ Example: in the Quarkus project `codestart.yml`:\n+[source,yaml]\n+----\n+output-strategy:\n+  \"pom.xml\": smart-pom-merge # smartly merge pom.xml contents together\n+  \"README.md\": append # they are appended together\n+  \"readme.md\": forbidden # it will fail if found in any codestart\n+  \"README.adoc\": forbidden\n+  \"readme.adoc\": forbidden\n+  \".gitignore\": append\n+  \"src/main/resources/application.yml\": smart-config-merge # smartly merge config together and automatically converted to the selected config type (yaml or properties)\n+  \"src/main/resources/application.yaml\": forbidden # should use yml instead\n+  \"src/main/resources/application.properties\": forbidden # should use yml instead\n+  \"*\": fail-on-duplicate # it will fail if a duplicate is found for all other files\n+----\n+\n+* other files are just copied as is.\n+\n+\n+=== Writing Example Code for an Extension\n+\n+Let's imagine we are writing the example codestart for my \"foo\" extension. As we discussed before, the base of the project is already provided so we can focus on the example code.\n+\n+1. Create your `codestart.yml`:\n+\n+codestart.yml:\n+[source,yaml]\n+----\n+---\n+name: foo-example\n+ref: foo\n+type: example\n+missing-languages:\n+  - kotlin\n+  - scala\n+spec:\n+  base:\n+    data:\n+      # Some data for my templates which gives could be overridden by the user input\n+      some:\n+        data:\n+          here: bar\n+          there: foo\n+    dependencies:\n+      # the dependencies needed for my codestart (note that the extension dependency is auto-added if missing)\n+      - io.quarkus:quarkus-foo\n+      - io.quarkus:quarkus-resteasy\n+      # ... you can also provide a version (when it's not part of the platform bom)\n+      - group:artifact:version\n+    test-dependencies:\n+      # test dependencies\n+      - io.rest-assured:rest-assured\n+----\n+\n+*NOTE* You don't need to add `pom.xml` or `build.gradle`, it is going to be auto generated. It will include the dependencies provided in the `codestart.yml`.\n+\n+2. Add you example code in java, kotlin or scala\n+\n+* java/src/main/java/org/acme/foo/Foo.java:\n+[source,java]\n+----\n+package org.acme.foo\n+\n+import javax.ws.rs.GET\n+import javax.ws.rs.Path\n+import javax.ws.rs.Produces\n+import javax.ws.rs.core.MediaType\n+\n+@Path(\"foo\")\n+class ExampleResource {\n+\n+    @GET\n+    @Produces(MediaType.TEXT_PLAIN)\n+    fun hello() = \"Hello foo\"\n+}\n+----\n+\n+* kotlin/src/main/kotlin/org/acme/foo/Foo.kt\n+* scala/src/main/scala/org/acme/foo/Foo.kt\n+\n+*NOTE* Just add `.tpl.qute` if you want it to be rendered with qute and use some data", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "88efcc09a2a93208fb603565c5030273727f20cc"}, "originalPosition": 170}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg4NTIyODY5OnYy", "diffSide": "RIGHT", "path": "independent-projects/tools/codestarts/codestarts.adoc", "isResolved": true, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwODo0NjowNVrOG4uv-Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQwNzoxOToyMFrOG5W8fA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjEzOTM4NQ==", "bodyText": "what happens if two extensions list the same key ? warning, error, nothing ?", "url": "https://github.com/quarkusio/quarkus/pull/10372#discussion_r462139385", "createdAt": "2020-07-29T08:46:05Z", "author": {"login": "maxandersen"}, "path": "independent-projects/tools/codestarts/codestarts.adoc", "diffHunk": "@@ -0,0 +1,220 @@\n+= Quarkus - Codestarts\n+\n+This guide explains how to create and configure a Quarkus Codestart for an extension.\n+\n+== Description\n+\n+\"Codestarts\" is the name we gave to our Quarkus quickstart code generation system. \n+Codestarts provide a personalized Quarkus getting started experience and really show the Quarkus breadth.\n+Quarkus extensions are able to provide one or more well defined codestarts which will contain the necessary resources and code examples required to get started using it.\n+\n+== How it works\n+\n+There are two kinds of codestarts contributing to the generation of a project, the kind where we want to have only one for a project (called Base) and the rest (called Extra).\n+\n+Base:\n+\n+* project: The project skeleton (e.g. a Quarkus project)\n+* buildtool: The build tool (e.g. Maven, Gradle, Gradle with Kotlin DSL)\n+* language: The coding language (e.g. Java, Kotlin, Scala)\n+* config: The config type (e.g. yaml, properties)\n+\n+Extra:\n+* tooling: Anything that can be added to improve the project (e.g. dockerfiles)\n+* example: Any Quarkus extension can provide example code. The user can decide to activate it or not.\n+\n+Each codestart consists of:\n+\n+. A specific directory\n+. A `codestart.yml` file\n+. Optionally some templates which follow a structure and naming conventions\n+\n+*NOTE* The `codestart.yml` file and the directory structure follow the same principle, it can optionally contain a base and/or some language overrides.\n+\n+=== Project generation\n+\n+When generating a Quarkus project:\n+\n+. Codestarts to use are resolved depending on the input\n+. The Codestarts' shared data is processed to make it available for all codestarts\n+. The relevant files are processed:\n+** Only the files that are related to the selected language are processed\n+** The files are processed differently based on a naming convention.\n+** The data is used to render Qute templates\n+** We always process in this order: language, project, buildtool, config, custom, other.\n+\n+The data used to generate a specific codestart is a merge of:\n+\n+. The data of the codestart to generate\n+. All codestarts \"shared\" data\n+. The user input\n+. Some specific post processing (e.g. adding dependencies)\n+\n+*NOTE* The data (shared or not) can also be specific to a language.\n+\n+=== Directory Structure\n+\n+*NOTE* `codestart.yml` is the only required file.\n+\n+* `codestart.yml` must be at the root of the codestart\n+* `./base` contains all the files that will be processed\n+* `./[languageName]` contains all the files that will be processed if the specified language has been selected (overriding base)\n+\n+=== codestart.yml\n+\n+codestart.yml:\n+[source,yaml]\n+----\n+name: the unique name - REQUIRED\n+ref: the reference name (not unique) to use for extension matching (else the name is used)\n+type: the type [example (default), project, buildtool, language, config] or any custom type\n+fallback: flag to indicate that it should be selected as fallback when no codestart has been selected with type - Only for base types\n+preselected: flag to indicate that it should be pre-selected - Only for extra types.\n+spec:\n+  [base or language name]: the specification (base, java, ...)\n+    data: a map of data to use only for this codestart\n+    shared-data: a map of data to use accross all codestarts\n+    dependencies: a list of dependencies to add when this is selected\n+    test-dependencies: a list of test dependencies to add when this is selected\n+----\n+\n+=== Files Naming Convention\n+\n+* containing `.tpl.qute` will be processed with Qute (`.tpl.qute` will be removed from the output file name).\n+* containing `.include.qute` is used as a Qute template for inclusion (only available locally to the codestart).\n+\n+  Example: When using `{#include [name]}` in a template, it will look for `[name].include.qute` in the language dir, then in the base dir or the codestart.\n+\n+* an output strategy can be defined for specific files, it defines some specific logic on how to deal with those files.\n+\n+ Example: in the Quarkus project `codestart.yml`:\n+[source,yaml]\n+----\n+output-strategy:\n+  \"pom.xml\": smart-pom-merge # smartly merge pom.xml contents together\n+  \"README.md\": append # they are appended together\n+  \"readme.md\": forbidden # it will fail if found in any codestart\n+  \"README.adoc\": forbidden\n+  \"readme.adoc\": forbidden\n+  \".gitignore\": append\n+  \"src/main/resources/application.yml\": smart-config-merge # smartly merge config together and automatically converted to the selected config type (yaml or properties)\n+  \"src/main/resources/application.yaml\": forbidden # should use yml instead\n+  \"src/main/resources/application.properties\": forbidden # should use yml instead\n+  \"*\": fail-on-duplicate # it will fail if a duplicate is found for all other files\n+----\n+\n+* other files are just copied as is.\n+\n+\n+=== Writing Example Code for an Extension\n+\n+Let's imagine we are writing the example codestart for my \"foo\" extension. As we discussed before, the base of the project is already provided so we can focus on the example code.\n+\n+1. Create your `codestart.yml`:\n+\n+codestart.yml:\n+[source,yaml]\n+----\n+---\n+name: foo-example\n+ref: foo\n+type: example\n+missing-languages:\n+  - kotlin\n+  - scala\n+spec:\n+  base:\n+    data:\n+      # Some data for my templates which gives could be overridden by the user input\n+      some:\n+        data:\n+          here: bar\n+          there: foo\n+    dependencies:\n+      # the dependencies needed for my codestart (note that the extension dependency is auto-added if missing)\n+      - io.quarkus:quarkus-foo\n+      - io.quarkus:quarkus-resteasy\n+      # ... you can also provide a version (when it's not part of the platform bom)\n+      - group:artifact:version\n+    test-dependencies:\n+      # test dependencies\n+      - io.rest-assured:rest-assured\n+----\n+\n+*NOTE* You don't need to add `pom.xml` or `build.gradle`, it is going to be auto generated. It will include the dependencies provided in the `codestart.yml`.\n+\n+2. Add you example code in java, kotlin or scala\n+\n+* java/src/main/java/org/acme/foo/Foo.java:\n+[source,java]\n+----\n+package org.acme.foo\n+\n+import javax.ws.rs.GET\n+import javax.ws.rs.Path\n+import javax.ws.rs.Produces\n+import javax.ws.rs.core.MediaType\n+\n+@Path(\"foo\")\n+class ExampleResource {\n+\n+    @GET\n+    @Produces(MediaType.TEXT_PLAIN)\n+    fun hello() = \"Hello foo\"\n+}\n+----\n+\n+* kotlin/src/main/kotlin/org/acme/foo/Foo.kt\n+* scala/src/main/scala/org/acme/foo/Foo.kt\n+\n+*NOTE* Just add `.tpl.qute` if you want it to be rendered with qute and use some data\n+\n+*NOTE* Most of the time you won't need it for code, but you can use a `base` directory to add files to process for all languages.\n+\n+\n+2. Add some configuration (if needed)\n+\n+The `base/src/main/resources/application.yml` file is going to be merged with the other codestarts config and automatically converted to the selected config type (yaml or properties).", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "88efcc09a2a93208fb603565c5030273727f20cc"}, "originalPosition": 177}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjE3NDY2NQ==", "bodyText": "For now, it's silently overridden depending on extension ordering which is close to rely on gravity :) I guess we should fail?", "url": "https://github.com/quarkusio/quarkus/pull/10372#discussion_r462174665", "createdAt": "2020-07-29T09:44:52Z", "author": {"login": "ia3andy"}, "path": "independent-projects/tools/codestarts/codestarts.adoc", "diffHunk": "@@ -0,0 +1,220 @@\n+= Quarkus - Codestarts\n+\n+This guide explains how to create and configure a Quarkus Codestart for an extension.\n+\n+== Description\n+\n+\"Codestarts\" is the name we gave to our Quarkus quickstart code generation system. \n+Codestarts provide a personalized Quarkus getting started experience and really show the Quarkus breadth.\n+Quarkus extensions are able to provide one or more well defined codestarts which will contain the necessary resources and code examples required to get started using it.\n+\n+== How it works\n+\n+There are two kinds of codestarts contributing to the generation of a project, the kind where we want to have only one for a project (called Base) and the rest (called Extra).\n+\n+Base:\n+\n+* project: The project skeleton (e.g. a Quarkus project)\n+* buildtool: The build tool (e.g. Maven, Gradle, Gradle with Kotlin DSL)\n+* language: The coding language (e.g. Java, Kotlin, Scala)\n+* config: The config type (e.g. yaml, properties)\n+\n+Extra:\n+* tooling: Anything that can be added to improve the project (e.g. dockerfiles)\n+* example: Any Quarkus extension can provide example code. The user can decide to activate it or not.\n+\n+Each codestart consists of:\n+\n+. A specific directory\n+. A `codestart.yml` file\n+. Optionally some templates which follow a structure and naming conventions\n+\n+*NOTE* The `codestart.yml` file and the directory structure follow the same principle, it can optionally contain a base and/or some language overrides.\n+\n+=== Project generation\n+\n+When generating a Quarkus project:\n+\n+. Codestarts to use are resolved depending on the input\n+. The Codestarts' shared data is processed to make it available for all codestarts\n+. The relevant files are processed:\n+** Only the files that are related to the selected language are processed\n+** The files are processed differently based on a naming convention.\n+** The data is used to render Qute templates\n+** We always process in this order: language, project, buildtool, config, custom, other.\n+\n+The data used to generate a specific codestart is a merge of:\n+\n+. The data of the codestart to generate\n+. All codestarts \"shared\" data\n+. The user input\n+. Some specific post processing (e.g. adding dependencies)\n+\n+*NOTE* The data (shared or not) can also be specific to a language.\n+\n+=== Directory Structure\n+\n+*NOTE* `codestart.yml` is the only required file.\n+\n+* `codestart.yml` must be at the root of the codestart\n+* `./base` contains all the files that will be processed\n+* `./[languageName]` contains all the files that will be processed if the specified language has been selected (overriding base)\n+\n+=== codestart.yml\n+\n+codestart.yml:\n+[source,yaml]\n+----\n+name: the unique name - REQUIRED\n+ref: the reference name (not unique) to use for extension matching (else the name is used)\n+type: the type [example (default), project, buildtool, language, config] or any custom type\n+fallback: flag to indicate that it should be selected as fallback when no codestart has been selected with type - Only for base types\n+preselected: flag to indicate that it should be pre-selected - Only for extra types.\n+spec:\n+  [base or language name]: the specification (base, java, ...)\n+    data: a map of data to use only for this codestart\n+    shared-data: a map of data to use accross all codestarts\n+    dependencies: a list of dependencies to add when this is selected\n+    test-dependencies: a list of test dependencies to add when this is selected\n+----\n+\n+=== Files Naming Convention\n+\n+* containing `.tpl.qute` will be processed with Qute (`.tpl.qute` will be removed from the output file name).\n+* containing `.include.qute` is used as a Qute template for inclusion (only available locally to the codestart).\n+\n+  Example: When using `{#include [name]}` in a template, it will look for `[name].include.qute` in the language dir, then in the base dir or the codestart.\n+\n+* an output strategy can be defined for specific files, it defines some specific logic on how to deal with those files.\n+\n+ Example: in the Quarkus project `codestart.yml`:\n+[source,yaml]\n+----\n+output-strategy:\n+  \"pom.xml\": smart-pom-merge # smartly merge pom.xml contents together\n+  \"README.md\": append # they are appended together\n+  \"readme.md\": forbidden # it will fail if found in any codestart\n+  \"README.adoc\": forbidden\n+  \"readme.adoc\": forbidden\n+  \".gitignore\": append\n+  \"src/main/resources/application.yml\": smart-config-merge # smartly merge config together and automatically converted to the selected config type (yaml or properties)\n+  \"src/main/resources/application.yaml\": forbidden # should use yml instead\n+  \"src/main/resources/application.properties\": forbidden # should use yml instead\n+  \"*\": fail-on-duplicate # it will fail if a duplicate is found for all other files\n+----\n+\n+* other files are just copied as is.\n+\n+\n+=== Writing Example Code for an Extension\n+\n+Let's imagine we are writing the example codestart for my \"foo\" extension. As we discussed before, the base of the project is already provided so we can focus on the example code.\n+\n+1. Create your `codestart.yml`:\n+\n+codestart.yml:\n+[source,yaml]\n+----\n+---\n+name: foo-example\n+ref: foo\n+type: example\n+missing-languages:\n+  - kotlin\n+  - scala\n+spec:\n+  base:\n+    data:\n+      # Some data for my templates which gives could be overridden by the user input\n+      some:\n+        data:\n+          here: bar\n+          there: foo\n+    dependencies:\n+      # the dependencies needed for my codestart (note that the extension dependency is auto-added if missing)\n+      - io.quarkus:quarkus-foo\n+      - io.quarkus:quarkus-resteasy\n+      # ... you can also provide a version (when it's not part of the platform bom)\n+      - group:artifact:version\n+    test-dependencies:\n+      # test dependencies\n+      - io.rest-assured:rest-assured\n+----\n+\n+*NOTE* You don't need to add `pom.xml` or `build.gradle`, it is going to be auto generated. It will include the dependencies provided in the `codestart.yml`.\n+\n+2. Add you example code in java, kotlin or scala\n+\n+* java/src/main/java/org/acme/foo/Foo.java:\n+[source,java]\n+----\n+package org.acme.foo\n+\n+import javax.ws.rs.GET\n+import javax.ws.rs.Path\n+import javax.ws.rs.Produces\n+import javax.ws.rs.core.MediaType\n+\n+@Path(\"foo\")\n+class ExampleResource {\n+\n+    @GET\n+    @Produces(MediaType.TEXT_PLAIN)\n+    fun hello() = \"Hello foo\"\n+}\n+----\n+\n+* kotlin/src/main/kotlin/org/acme/foo/Foo.kt\n+* scala/src/main/scala/org/acme/foo/Foo.kt\n+\n+*NOTE* Just add `.tpl.qute` if you want it to be rendered with qute and use some data\n+\n+*NOTE* Most of the time you won't need it for code, but you can use a `base` directory to add files to process for all languages.\n+\n+\n+2. Add some configuration (if needed)\n+\n+The `base/src/main/resources/application.yml` file is going to be merged with the other codestarts config and automatically converted to the selected config type (yaml or properties).", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjEzOTM4NQ=="}, "originalCommit": {"oid": "88efcc09a2a93208fb603565c5030273727f20cc"}, "originalPosition": 177}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjM0MzE4NA==", "bodyText": "warning just to not make it so a rogue extension blocks everything.", "url": "https://github.com/quarkusio/quarkus/pull/10372#discussion_r462343184", "createdAt": "2020-07-29T14:28:47Z", "author": {"login": "maxandersen"}, "path": "independent-projects/tools/codestarts/codestarts.adoc", "diffHunk": "@@ -0,0 +1,220 @@\n+= Quarkus - Codestarts\n+\n+This guide explains how to create and configure a Quarkus Codestart for an extension.\n+\n+== Description\n+\n+\"Codestarts\" is the name we gave to our Quarkus quickstart code generation system. \n+Codestarts provide a personalized Quarkus getting started experience and really show the Quarkus breadth.\n+Quarkus extensions are able to provide one or more well defined codestarts which will contain the necessary resources and code examples required to get started using it.\n+\n+== How it works\n+\n+There are two kinds of codestarts contributing to the generation of a project, the kind where we want to have only one for a project (called Base) and the rest (called Extra).\n+\n+Base:\n+\n+* project: The project skeleton (e.g. a Quarkus project)\n+* buildtool: The build tool (e.g. Maven, Gradle, Gradle with Kotlin DSL)\n+* language: The coding language (e.g. Java, Kotlin, Scala)\n+* config: The config type (e.g. yaml, properties)\n+\n+Extra:\n+* tooling: Anything that can be added to improve the project (e.g. dockerfiles)\n+* example: Any Quarkus extension can provide example code. The user can decide to activate it or not.\n+\n+Each codestart consists of:\n+\n+. A specific directory\n+. A `codestart.yml` file\n+. Optionally some templates which follow a structure and naming conventions\n+\n+*NOTE* The `codestart.yml` file and the directory structure follow the same principle, it can optionally contain a base and/or some language overrides.\n+\n+=== Project generation\n+\n+When generating a Quarkus project:\n+\n+. Codestarts to use are resolved depending on the input\n+. The Codestarts' shared data is processed to make it available for all codestarts\n+. The relevant files are processed:\n+** Only the files that are related to the selected language are processed\n+** The files are processed differently based on a naming convention.\n+** The data is used to render Qute templates\n+** We always process in this order: language, project, buildtool, config, custom, other.\n+\n+The data used to generate a specific codestart is a merge of:\n+\n+. The data of the codestart to generate\n+. All codestarts \"shared\" data\n+. The user input\n+. Some specific post processing (e.g. adding dependencies)\n+\n+*NOTE* The data (shared or not) can also be specific to a language.\n+\n+=== Directory Structure\n+\n+*NOTE* `codestart.yml` is the only required file.\n+\n+* `codestart.yml` must be at the root of the codestart\n+* `./base` contains all the files that will be processed\n+* `./[languageName]` contains all the files that will be processed if the specified language has been selected (overriding base)\n+\n+=== codestart.yml\n+\n+codestart.yml:\n+[source,yaml]\n+----\n+name: the unique name - REQUIRED\n+ref: the reference name (not unique) to use for extension matching (else the name is used)\n+type: the type [example (default), project, buildtool, language, config] or any custom type\n+fallback: flag to indicate that it should be selected as fallback when no codestart has been selected with type - Only for base types\n+preselected: flag to indicate that it should be pre-selected - Only for extra types.\n+spec:\n+  [base or language name]: the specification (base, java, ...)\n+    data: a map of data to use only for this codestart\n+    shared-data: a map of data to use accross all codestarts\n+    dependencies: a list of dependencies to add when this is selected\n+    test-dependencies: a list of test dependencies to add when this is selected\n+----\n+\n+=== Files Naming Convention\n+\n+* containing `.tpl.qute` will be processed with Qute (`.tpl.qute` will be removed from the output file name).\n+* containing `.include.qute` is used as a Qute template for inclusion (only available locally to the codestart).\n+\n+  Example: When using `{#include [name]}` in a template, it will look for `[name].include.qute` in the language dir, then in the base dir or the codestart.\n+\n+* an output strategy can be defined for specific files, it defines some specific logic on how to deal with those files.\n+\n+ Example: in the Quarkus project `codestart.yml`:\n+[source,yaml]\n+----\n+output-strategy:\n+  \"pom.xml\": smart-pom-merge # smartly merge pom.xml contents together\n+  \"README.md\": append # they are appended together\n+  \"readme.md\": forbidden # it will fail if found in any codestart\n+  \"README.adoc\": forbidden\n+  \"readme.adoc\": forbidden\n+  \".gitignore\": append\n+  \"src/main/resources/application.yml\": smart-config-merge # smartly merge config together and automatically converted to the selected config type (yaml or properties)\n+  \"src/main/resources/application.yaml\": forbidden # should use yml instead\n+  \"src/main/resources/application.properties\": forbidden # should use yml instead\n+  \"*\": fail-on-duplicate # it will fail if a duplicate is found for all other files\n+----\n+\n+* other files are just copied as is.\n+\n+\n+=== Writing Example Code for an Extension\n+\n+Let's imagine we are writing the example codestart for my \"foo\" extension. As we discussed before, the base of the project is already provided so we can focus on the example code.\n+\n+1. Create your `codestart.yml`:\n+\n+codestart.yml:\n+[source,yaml]\n+----\n+---\n+name: foo-example\n+ref: foo\n+type: example\n+missing-languages:\n+  - kotlin\n+  - scala\n+spec:\n+  base:\n+    data:\n+      # Some data for my templates which gives could be overridden by the user input\n+      some:\n+        data:\n+          here: bar\n+          there: foo\n+    dependencies:\n+      # the dependencies needed for my codestart (note that the extension dependency is auto-added if missing)\n+      - io.quarkus:quarkus-foo\n+      - io.quarkus:quarkus-resteasy\n+      # ... you can also provide a version (when it's not part of the platform bom)\n+      - group:artifact:version\n+    test-dependencies:\n+      # test dependencies\n+      - io.rest-assured:rest-assured\n+----\n+\n+*NOTE* You don't need to add `pom.xml` or `build.gradle`, it is going to be auto generated. It will include the dependencies provided in the `codestart.yml`.\n+\n+2. Add you example code in java, kotlin or scala\n+\n+* java/src/main/java/org/acme/foo/Foo.java:\n+[source,java]\n+----\n+package org.acme.foo\n+\n+import javax.ws.rs.GET\n+import javax.ws.rs.Path\n+import javax.ws.rs.Produces\n+import javax.ws.rs.core.MediaType\n+\n+@Path(\"foo\")\n+class ExampleResource {\n+\n+    @GET\n+    @Produces(MediaType.TEXT_PLAIN)\n+    fun hello() = \"Hello foo\"\n+}\n+----\n+\n+* kotlin/src/main/kotlin/org/acme/foo/Foo.kt\n+* scala/src/main/scala/org/acme/foo/Foo.kt\n+\n+*NOTE* Just add `.tpl.qute` if you want it to be rendered with qute and use some data\n+\n+*NOTE* Most of the time you won't need it for code, but you can use a `base` directory to add files to process for all languages.\n+\n+\n+2. Add some configuration (if needed)\n+\n+The `base/src/main/resources/application.yml` file is going to be merged with the other codestarts config and automatically converted to the selected config type (yaml or properties).", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjEzOTM4NQ=="}, "originalCommit": {"oid": "88efcc09a2a93208fb603565c5030273727f20cc"}, "originalPosition": 177}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Mjc5NTU2Nw==", "bodyText": "I'll do that in another PR", "url": "https://github.com/quarkusio/quarkus/pull/10372#discussion_r462795567", "createdAt": "2020-07-30T07:14:35Z", "author": {"login": "ia3andy"}, "path": "independent-projects/tools/codestarts/codestarts.adoc", "diffHunk": "@@ -0,0 +1,220 @@\n+= Quarkus - Codestarts\n+\n+This guide explains how to create and configure a Quarkus Codestart for an extension.\n+\n+== Description\n+\n+\"Codestarts\" is the name we gave to our Quarkus quickstart code generation system. \n+Codestarts provide a personalized Quarkus getting started experience and really show the Quarkus breadth.\n+Quarkus extensions are able to provide one or more well defined codestarts which will contain the necessary resources and code examples required to get started using it.\n+\n+== How it works\n+\n+There are two kinds of codestarts contributing to the generation of a project, the kind where we want to have only one for a project (called Base) and the rest (called Extra).\n+\n+Base:\n+\n+* project: The project skeleton (e.g. a Quarkus project)\n+* buildtool: The build tool (e.g. Maven, Gradle, Gradle with Kotlin DSL)\n+* language: The coding language (e.g. Java, Kotlin, Scala)\n+* config: The config type (e.g. yaml, properties)\n+\n+Extra:\n+* tooling: Anything that can be added to improve the project (e.g. dockerfiles)\n+* example: Any Quarkus extension can provide example code. The user can decide to activate it or not.\n+\n+Each codestart consists of:\n+\n+. A specific directory\n+. A `codestart.yml` file\n+. Optionally some templates which follow a structure and naming conventions\n+\n+*NOTE* The `codestart.yml` file and the directory structure follow the same principle, it can optionally contain a base and/or some language overrides.\n+\n+=== Project generation\n+\n+When generating a Quarkus project:\n+\n+. Codestarts to use are resolved depending on the input\n+. The Codestarts' shared data is processed to make it available for all codestarts\n+. The relevant files are processed:\n+** Only the files that are related to the selected language are processed\n+** The files are processed differently based on a naming convention.\n+** The data is used to render Qute templates\n+** We always process in this order: language, project, buildtool, config, custom, other.\n+\n+The data used to generate a specific codestart is a merge of:\n+\n+. The data of the codestart to generate\n+. All codestarts \"shared\" data\n+. The user input\n+. Some specific post processing (e.g. adding dependencies)\n+\n+*NOTE* The data (shared or not) can also be specific to a language.\n+\n+=== Directory Structure\n+\n+*NOTE* `codestart.yml` is the only required file.\n+\n+* `codestart.yml` must be at the root of the codestart\n+* `./base` contains all the files that will be processed\n+* `./[languageName]` contains all the files that will be processed if the specified language has been selected (overriding base)\n+\n+=== codestart.yml\n+\n+codestart.yml:\n+[source,yaml]\n+----\n+name: the unique name - REQUIRED\n+ref: the reference name (not unique) to use for extension matching (else the name is used)\n+type: the type [example (default), project, buildtool, language, config] or any custom type\n+fallback: flag to indicate that it should be selected as fallback when no codestart has been selected with type - Only for base types\n+preselected: flag to indicate that it should be pre-selected - Only for extra types.\n+spec:\n+  [base or language name]: the specification (base, java, ...)\n+    data: a map of data to use only for this codestart\n+    shared-data: a map of data to use accross all codestarts\n+    dependencies: a list of dependencies to add when this is selected\n+    test-dependencies: a list of test dependencies to add when this is selected\n+----\n+\n+=== Files Naming Convention\n+\n+* containing `.tpl.qute` will be processed with Qute (`.tpl.qute` will be removed from the output file name).\n+* containing `.include.qute` is used as a Qute template for inclusion (only available locally to the codestart).\n+\n+  Example: When using `{#include [name]}` in a template, it will look for `[name].include.qute` in the language dir, then in the base dir or the codestart.\n+\n+* an output strategy can be defined for specific files, it defines some specific logic on how to deal with those files.\n+\n+ Example: in the Quarkus project `codestart.yml`:\n+[source,yaml]\n+----\n+output-strategy:\n+  \"pom.xml\": smart-pom-merge # smartly merge pom.xml contents together\n+  \"README.md\": append # they are appended together\n+  \"readme.md\": forbidden # it will fail if found in any codestart\n+  \"README.adoc\": forbidden\n+  \"readme.adoc\": forbidden\n+  \".gitignore\": append\n+  \"src/main/resources/application.yml\": smart-config-merge # smartly merge config together and automatically converted to the selected config type (yaml or properties)\n+  \"src/main/resources/application.yaml\": forbidden # should use yml instead\n+  \"src/main/resources/application.properties\": forbidden # should use yml instead\n+  \"*\": fail-on-duplicate # it will fail if a duplicate is found for all other files\n+----\n+\n+* other files are just copied as is.\n+\n+\n+=== Writing Example Code for an Extension\n+\n+Let's imagine we are writing the example codestart for my \"foo\" extension. As we discussed before, the base of the project is already provided so we can focus on the example code.\n+\n+1. Create your `codestart.yml`:\n+\n+codestart.yml:\n+[source,yaml]\n+----\n+---\n+name: foo-example\n+ref: foo\n+type: example\n+missing-languages:\n+  - kotlin\n+  - scala\n+spec:\n+  base:\n+    data:\n+      # Some data for my templates which gives could be overridden by the user input\n+      some:\n+        data:\n+          here: bar\n+          there: foo\n+    dependencies:\n+      # the dependencies needed for my codestart (note that the extension dependency is auto-added if missing)\n+      - io.quarkus:quarkus-foo\n+      - io.quarkus:quarkus-resteasy\n+      # ... you can also provide a version (when it's not part of the platform bom)\n+      - group:artifact:version\n+    test-dependencies:\n+      # test dependencies\n+      - io.rest-assured:rest-assured\n+----\n+\n+*NOTE* You don't need to add `pom.xml` or `build.gradle`, it is going to be auto generated. It will include the dependencies provided in the `codestart.yml`.\n+\n+2. Add you example code in java, kotlin or scala\n+\n+* java/src/main/java/org/acme/foo/Foo.java:\n+[source,java]\n+----\n+package org.acme.foo\n+\n+import javax.ws.rs.GET\n+import javax.ws.rs.Path\n+import javax.ws.rs.Produces\n+import javax.ws.rs.core.MediaType\n+\n+@Path(\"foo\")\n+class ExampleResource {\n+\n+    @GET\n+    @Produces(MediaType.TEXT_PLAIN)\n+    fun hello() = \"Hello foo\"\n+}\n+----\n+\n+* kotlin/src/main/kotlin/org/acme/foo/Foo.kt\n+* scala/src/main/scala/org/acme/foo/Foo.kt\n+\n+*NOTE* Just add `.tpl.qute` if you want it to be rendered with qute and use some data\n+\n+*NOTE* Most of the time you won't need it for code, but you can use a `base` directory to add files to process for all languages.\n+\n+\n+2. Add some configuration (if needed)\n+\n+The `base/src/main/resources/application.yml` file is going to be merged with the other codestarts config and automatically converted to the selected config type (yaml or properties).", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjEzOTM4NQ=="}, "originalCommit": {"oid": "88efcc09a2a93208fb603565c5030273727f20cc"}, "originalPosition": 177}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Mjc5Nzk0OA==", "bodyText": "#11083", "url": "https://github.com/quarkusio/quarkus/pull/10372#discussion_r462797948", "createdAt": "2020-07-30T07:19:20Z", "author": {"login": "ia3andy"}, "path": "independent-projects/tools/codestarts/codestarts.adoc", "diffHunk": "@@ -0,0 +1,220 @@\n+= Quarkus - Codestarts\n+\n+This guide explains how to create and configure a Quarkus Codestart for an extension.\n+\n+== Description\n+\n+\"Codestarts\" is the name we gave to our Quarkus quickstart code generation system. \n+Codestarts provide a personalized Quarkus getting started experience and really show the Quarkus breadth.\n+Quarkus extensions are able to provide one or more well defined codestarts which will contain the necessary resources and code examples required to get started using it.\n+\n+== How it works\n+\n+There are two kinds of codestarts contributing to the generation of a project, the kind where we want to have only one for a project (called Base) and the rest (called Extra).\n+\n+Base:\n+\n+* project: The project skeleton (e.g. a Quarkus project)\n+* buildtool: The build tool (e.g. Maven, Gradle, Gradle with Kotlin DSL)\n+* language: The coding language (e.g. Java, Kotlin, Scala)\n+* config: The config type (e.g. yaml, properties)\n+\n+Extra:\n+* tooling: Anything that can be added to improve the project (e.g. dockerfiles)\n+* example: Any Quarkus extension can provide example code. The user can decide to activate it or not.\n+\n+Each codestart consists of:\n+\n+. A specific directory\n+. A `codestart.yml` file\n+. Optionally some templates which follow a structure and naming conventions\n+\n+*NOTE* The `codestart.yml` file and the directory structure follow the same principle, it can optionally contain a base and/or some language overrides.\n+\n+=== Project generation\n+\n+When generating a Quarkus project:\n+\n+. Codestarts to use are resolved depending on the input\n+. The Codestarts' shared data is processed to make it available for all codestarts\n+. The relevant files are processed:\n+** Only the files that are related to the selected language are processed\n+** The files are processed differently based on a naming convention.\n+** The data is used to render Qute templates\n+** We always process in this order: language, project, buildtool, config, custom, other.\n+\n+The data used to generate a specific codestart is a merge of:\n+\n+. The data of the codestart to generate\n+. All codestarts \"shared\" data\n+. The user input\n+. Some specific post processing (e.g. adding dependencies)\n+\n+*NOTE* The data (shared or not) can also be specific to a language.\n+\n+=== Directory Structure\n+\n+*NOTE* `codestart.yml` is the only required file.\n+\n+* `codestart.yml` must be at the root of the codestart\n+* `./base` contains all the files that will be processed\n+* `./[languageName]` contains all the files that will be processed if the specified language has been selected (overriding base)\n+\n+=== codestart.yml\n+\n+codestart.yml:\n+[source,yaml]\n+----\n+name: the unique name - REQUIRED\n+ref: the reference name (not unique) to use for extension matching (else the name is used)\n+type: the type [example (default), project, buildtool, language, config] or any custom type\n+fallback: flag to indicate that it should be selected as fallback when no codestart has been selected with type - Only for base types\n+preselected: flag to indicate that it should be pre-selected - Only for extra types.\n+spec:\n+  [base or language name]: the specification (base, java, ...)\n+    data: a map of data to use only for this codestart\n+    shared-data: a map of data to use accross all codestarts\n+    dependencies: a list of dependencies to add when this is selected\n+    test-dependencies: a list of test dependencies to add when this is selected\n+----\n+\n+=== Files Naming Convention\n+\n+* containing `.tpl.qute` will be processed with Qute (`.tpl.qute` will be removed from the output file name).\n+* containing `.include.qute` is used as a Qute template for inclusion (only available locally to the codestart).\n+\n+  Example: When using `{#include [name]}` in a template, it will look for `[name].include.qute` in the language dir, then in the base dir or the codestart.\n+\n+* an output strategy can be defined for specific files, it defines some specific logic on how to deal with those files.\n+\n+ Example: in the Quarkus project `codestart.yml`:\n+[source,yaml]\n+----\n+output-strategy:\n+  \"pom.xml\": smart-pom-merge # smartly merge pom.xml contents together\n+  \"README.md\": append # they are appended together\n+  \"readme.md\": forbidden # it will fail if found in any codestart\n+  \"README.adoc\": forbidden\n+  \"readme.adoc\": forbidden\n+  \".gitignore\": append\n+  \"src/main/resources/application.yml\": smart-config-merge # smartly merge config together and automatically converted to the selected config type (yaml or properties)\n+  \"src/main/resources/application.yaml\": forbidden # should use yml instead\n+  \"src/main/resources/application.properties\": forbidden # should use yml instead\n+  \"*\": fail-on-duplicate # it will fail if a duplicate is found for all other files\n+----\n+\n+* other files are just copied as is.\n+\n+\n+=== Writing Example Code for an Extension\n+\n+Let's imagine we are writing the example codestart for my \"foo\" extension. As we discussed before, the base of the project is already provided so we can focus on the example code.\n+\n+1. Create your `codestart.yml`:\n+\n+codestart.yml:\n+[source,yaml]\n+----\n+---\n+name: foo-example\n+ref: foo\n+type: example\n+missing-languages:\n+  - kotlin\n+  - scala\n+spec:\n+  base:\n+    data:\n+      # Some data for my templates which gives could be overridden by the user input\n+      some:\n+        data:\n+          here: bar\n+          there: foo\n+    dependencies:\n+      # the dependencies needed for my codestart (note that the extension dependency is auto-added if missing)\n+      - io.quarkus:quarkus-foo\n+      - io.quarkus:quarkus-resteasy\n+      # ... you can also provide a version (when it's not part of the platform bom)\n+      - group:artifact:version\n+    test-dependencies:\n+      # test dependencies\n+      - io.rest-assured:rest-assured\n+----\n+\n+*NOTE* You don't need to add `pom.xml` or `build.gradle`, it is going to be auto generated. It will include the dependencies provided in the `codestart.yml`.\n+\n+2. Add you example code in java, kotlin or scala\n+\n+* java/src/main/java/org/acme/foo/Foo.java:\n+[source,java]\n+----\n+package org.acme.foo\n+\n+import javax.ws.rs.GET\n+import javax.ws.rs.Path\n+import javax.ws.rs.Produces\n+import javax.ws.rs.core.MediaType\n+\n+@Path(\"foo\")\n+class ExampleResource {\n+\n+    @GET\n+    @Produces(MediaType.TEXT_PLAIN)\n+    fun hello() = \"Hello foo\"\n+}\n+----\n+\n+* kotlin/src/main/kotlin/org/acme/foo/Foo.kt\n+* scala/src/main/scala/org/acme/foo/Foo.kt\n+\n+*NOTE* Just add `.tpl.qute` if you want it to be rendered with qute and use some data\n+\n+*NOTE* Most of the time you won't need it for code, but you can use a `base` directory to add files to process for all languages.\n+\n+\n+2. Add some configuration (if needed)\n+\n+The `base/src/main/resources/application.yml` file is going to be merged with the other codestarts config and automatically converted to the selected config type (yaml or properties).", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjEzOTM4NQ=="}, "originalCommit": {"oid": "88efcc09a2a93208fb603565c5030273727f20cc"}, "originalPosition": 177}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg4NTIzMTY0OnYy", "diffSide": "RIGHT", "path": "independent-projects/tools/codestarts/codestarts.adoc", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwODo0Njo0OVrOG4uxwg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQxNDoyOTowNVrOG47NAw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjEzOTg0Mg==", "bodyText": "move this up as the first - repeat it at the end :)", "url": "https://github.com/quarkusio/quarkus/pull/10372#discussion_r462139842", "createdAt": "2020-07-29T08:46:49Z", "author": {"login": "maxandersen"}, "path": "independent-projects/tools/codestarts/codestarts.adoc", "diffHunk": "@@ -0,0 +1,220 @@\n+= Quarkus - Codestarts\n+\n+This guide explains how to create and configure a Quarkus Codestart for an extension.\n+\n+== Description\n+\n+\"Codestarts\" is the name we gave to our Quarkus quickstart code generation system. \n+Codestarts provide a personalized Quarkus getting started experience and really show the Quarkus breadth.\n+Quarkus extensions are able to provide one or more well defined codestarts which will contain the necessary resources and code examples required to get started using it.\n+\n+== How it works\n+\n+There are two kinds of codestarts contributing to the generation of a project, the kind where we want to have only one for a project (called Base) and the rest (called Extra).\n+\n+Base:\n+\n+* project: The project skeleton (e.g. a Quarkus project)\n+* buildtool: The build tool (e.g. Maven, Gradle, Gradle with Kotlin DSL)\n+* language: The coding language (e.g. Java, Kotlin, Scala)\n+* config: The config type (e.g. yaml, properties)\n+\n+Extra:\n+* tooling: Anything that can be added to improve the project (e.g. dockerfiles)\n+* example: Any Quarkus extension can provide example code. The user can decide to activate it or not.\n+\n+Each codestart consists of:\n+\n+. A specific directory\n+. A `codestart.yml` file\n+. Optionally some templates which follow a structure and naming conventions\n+\n+*NOTE* The `codestart.yml` file and the directory structure follow the same principle, it can optionally contain a base and/or some language overrides.\n+\n+=== Project generation\n+\n+When generating a Quarkus project:\n+\n+. Codestarts to use are resolved depending on the input\n+. The Codestarts' shared data is processed to make it available for all codestarts\n+. The relevant files are processed:\n+** Only the files that are related to the selected language are processed\n+** The files are processed differently based on a naming convention.\n+** The data is used to render Qute templates\n+** We always process in this order: language, project, buildtool, config, custom, other.\n+\n+The data used to generate a specific codestart is a merge of:\n+\n+. The data of the codestart to generate\n+. All codestarts \"shared\" data\n+. The user input\n+. Some specific post processing (e.g. adding dependencies)\n+\n+*NOTE* The data (shared or not) can also be specific to a language.\n+\n+=== Directory Structure\n+\n+*NOTE* `codestart.yml` is the only required file.\n+\n+* `codestart.yml` must be at the root of the codestart\n+* `./base` contains all the files that will be processed\n+* `./[languageName]` contains all the files that will be processed if the specified language has been selected (overriding base)\n+\n+=== codestart.yml\n+\n+codestart.yml:\n+[source,yaml]\n+----\n+name: the unique name - REQUIRED\n+ref: the reference name (not unique) to use for extension matching (else the name is used)\n+type: the type [example (default), project, buildtool, language, config] or any custom type\n+fallback: flag to indicate that it should be selected as fallback when no codestart has been selected with type - Only for base types\n+preselected: flag to indicate that it should be pre-selected - Only for extra types.\n+spec:\n+  [base or language name]: the specification (base, java, ...)\n+    data: a map of data to use only for this codestart\n+    shared-data: a map of data to use accross all codestarts\n+    dependencies: a list of dependencies to add when this is selected\n+    test-dependencies: a list of test dependencies to add when this is selected\n+----\n+\n+=== Files Naming Convention\n+\n+* containing `.tpl.qute` will be processed with Qute (`.tpl.qute` will be removed from the output file name).\n+* containing `.include.qute` is used as a Qute template for inclusion (only available locally to the codestart).\n+\n+  Example: When using `{#include [name]}` in a template, it will look for `[name].include.qute` in the language dir, then in the base dir or the codestart.\n+\n+* an output strategy can be defined for specific files, it defines some specific logic on how to deal with those files.\n+\n+ Example: in the Quarkus project `codestart.yml`:\n+[source,yaml]\n+----\n+output-strategy:\n+  \"pom.xml\": smart-pom-merge # smartly merge pom.xml contents together\n+  \"README.md\": append # they are appended together\n+  \"readme.md\": forbidden # it will fail if found in any codestart\n+  \"README.adoc\": forbidden\n+  \"readme.adoc\": forbidden\n+  \".gitignore\": append\n+  \"src/main/resources/application.yml\": smart-config-merge # smartly merge config together and automatically converted to the selected config type (yaml or properties)\n+  \"src/main/resources/application.yaml\": forbidden # should use yml instead\n+  \"src/main/resources/application.properties\": forbidden # should use yml instead\n+  \"*\": fail-on-duplicate # it will fail if a duplicate is found for all other files\n+----\n+\n+* other files are just copied as is.\n+\n+\n+=== Writing Example Code for an Extension\n+\n+Let's imagine we are writing the example codestart for my \"foo\" extension. As we discussed before, the base of the project is already provided so we can focus on the example code.\n+\n+1. Create your `codestart.yml`:\n+\n+codestart.yml:\n+[source,yaml]\n+----\n+---\n+name: foo-example\n+ref: foo\n+type: example\n+missing-languages:\n+  - kotlin\n+  - scala\n+spec:\n+  base:\n+    data:\n+      # Some data for my templates which gives could be overridden by the user input\n+      some:\n+        data:\n+          here: bar\n+          there: foo\n+    dependencies:\n+      # the dependencies needed for my codestart (note that the extension dependency is auto-added if missing)\n+      - io.quarkus:quarkus-foo\n+      - io.quarkus:quarkus-resteasy\n+      # ... you can also provide a version (when it's not part of the platform bom)\n+      - group:artifact:version\n+    test-dependencies:\n+      # test dependencies\n+      - io.rest-assured:rest-assured\n+----\n+\n+*NOTE* You don't need to add `pom.xml` or `build.gradle`, it is going to be auto generated. It will include the dependencies provided in the `codestart.yml`.\n+\n+2. Add you example code in java, kotlin or scala\n+\n+* java/src/main/java/org/acme/foo/Foo.java:\n+[source,java]\n+----\n+package org.acme.foo\n+\n+import javax.ws.rs.GET\n+import javax.ws.rs.Path\n+import javax.ws.rs.Produces\n+import javax.ws.rs.core.MediaType\n+\n+@Path(\"foo\")\n+class ExampleResource {\n+\n+    @GET\n+    @Produces(MediaType.TEXT_PLAIN)\n+    fun hello() = \"Hello foo\"\n+}\n+----\n+\n+* kotlin/src/main/kotlin/org/acme/foo/Foo.kt\n+* scala/src/main/scala/org/acme/foo/Foo.kt\n+\n+*NOTE* Just add `.tpl.qute` if you want it to be rendered with qute and use some data\n+\n+*NOTE* Most of the time you won't need it for code, but you can use a `base` directory to add files to process for all languages.\n+\n+\n+2. Add some configuration (if needed)\n+\n+The `base/src/main/resources/application.yml` file is going to be merged with the other codestarts config and automatically converted to the selected config type (yaml or properties).\n+\n+Note: if it's specific to a language, you can put the config in each languages folders\n+\n+* base/src/main/resources/application.yml (using quarkus yaml config convention):\n+[source,yaml]\n+----\n+quarkus:\n+  http:\n+    port: 8081\n+----\n+\n+3. Create a readme section (if needed)\n+\n+This will be appended to all different selected examples.\n+\n+* base/README.md\n+[source,markdown]\n+----\n+# FOO Example\n+\n+The Foo Example shows...\n+----\n+\n+=== Tips for writing extension example code\n+\n+- You don't need to care about buildtool, dockerfiles, ...\n+- Use the package `org.acme.[unique-name]` for your sources.\n+- Use the path `/unique-name/...` for your REST paths\n+- Write tests for your examples\n+- Examples in different codestarts must be independent, only the config and the build file are merged.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "88efcc09a2a93208fb603565c5030273727f20cc"}, "originalPosition": 207}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjE5NTczMA==", "bodyText": "Sure I'll make it red also", "url": "https://github.com/quarkusio/quarkus/pull/10372#discussion_r462195730", "createdAt": "2020-07-29T10:22:36Z", "author": {"login": "ia3andy"}, "path": "independent-projects/tools/codestarts/codestarts.adoc", "diffHunk": "@@ -0,0 +1,220 @@\n+= Quarkus - Codestarts\n+\n+This guide explains how to create and configure a Quarkus Codestart for an extension.\n+\n+== Description\n+\n+\"Codestarts\" is the name we gave to our Quarkus quickstart code generation system. \n+Codestarts provide a personalized Quarkus getting started experience and really show the Quarkus breadth.\n+Quarkus extensions are able to provide one or more well defined codestarts which will contain the necessary resources and code examples required to get started using it.\n+\n+== How it works\n+\n+There are two kinds of codestarts contributing to the generation of a project, the kind where we want to have only one for a project (called Base) and the rest (called Extra).\n+\n+Base:\n+\n+* project: The project skeleton (e.g. a Quarkus project)\n+* buildtool: The build tool (e.g. Maven, Gradle, Gradle with Kotlin DSL)\n+* language: The coding language (e.g. Java, Kotlin, Scala)\n+* config: The config type (e.g. yaml, properties)\n+\n+Extra:\n+* tooling: Anything that can be added to improve the project (e.g. dockerfiles)\n+* example: Any Quarkus extension can provide example code. The user can decide to activate it or not.\n+\n+Each codestart consists of:\n+\n+. A specific directory\n+. A `codestart.yml` file\n+. Optionally some templates which follow a structure and naming conventions\n+\n+*NOTE* The `codestart.yml` file and the directory structure follow the same principle, it can optionally contain a base and/or some language overrides.\n+\n+=== Project generation\n+\n+When generating a Quarkus project:\n+\n+. Codestarts to use are resolved depending on the input\n+. The Codestarts' shared data is processed to make it available for all codestarts\n+. The relevant files are processed:\n+** Only the files that are related to the selected language are processed\n+** The files are processed differently based on a naming convention.\n+** The data is used to render Qute templates\n+** We always process in this order: language, project, buildtool, config, custom, other.\n+\n+The data used to generate a specific codestart is a merge of:\n+\n+. The data of the codestart to generate\n+. All codestarts \"shared\" data\n+. The user input\n+. Some specific post processing (e.g. adding dependencies)\n+\n+*NOTE* The data (shared or not) can also be specific to a language.\n+\n+=== Directory Structure\n+\n+*NOTE* `codestart.yml` is the only required file.\n+\n+* `codestart.yml` must be at the root of the codestart\n+* `./base` contains all the files that will be processed\n+* `./[languageName]` contains all the files that will be processed if the specified language has been selected (overriding base)\n+\n+=== codestart.yml\n+\n+codestart.yml:\n+[source,yaml]\n+----\n+name: the unique name - REQUIRED\n+ref: the reference name (not unique) to use for extension matching (else the name is used)\n+type: the type [example (default), project, buildtool, language, config] or any custom type\n+fallback: flag to indicate that it should be selected as fallback when no codestart has been selected with type - Only for base types\n+preselected: flag to indicate that it should be pre-selected - Only for extra types.\n+spec:\n+  [base or language name]: the specification (base, java, ...)\n+    data: a map of data to use only for this codestart\n+    shared-data: a map of data to use accross all codestarts\n+    dependencies: a list of dependencies to add when this is selected\n+    test-dependencies: a list of test dependencies to add when this is selected\n+----\n+\n+=== Files Naming Convention\n+\n+* containing `.tpl.qute` will be processed with Qute (`.tpl.qute` will be removed from the output file name).\n+* containing `.include.qute` is used as a Qute template for inclusion (only available locally to the codestart).\n+\n+  Example: When using `{#include [name]}` in a template, it will look for `[name].include.qute` in the language dir, then in the base dir or the codestart.\n+\n+* an output strategy can be defined for specific files, it defines some specific logic on how to deal with those files.\n+\n+ Example: in the Quarkus project `codestart.yml`:\n+[source,yaml]\n+----\n+output-strategy:\n+  \"pom.xml\": smart-pom-merge # smartly merge pom.xml contents together\n+  \"README.md\": append # they are appended together\n+  \"readme.md\": forbidden # it will fail if found in any codestart\n+  \"README.adoc\": forbidden\n+  \"readme.adoc\": forbidden\n+  \".gitignore\": append\n+  \"src/main/resources/application.yml\": smart-config-merge # smartly merge config together and automatically converted to the selected config type (yaml or properties)\n+  \"src/main/resources/application.yaml\": forbidden # should use yml instead\n+  \"src/main/resources/application.properties\": forbidden # should use yml instead\n+  \"*\": fail-on-duplicate # it will fail if a duplicate is found for all other files\n+----\n+\n+* other files are just copied as is.\n+\n+\n+=== Writing Example Code for an Extension\n+\n+Let's imagine we are writing the example codestart for my \"foo\" extension. As we discussed before, the base of the project is already provided so we can focus on the example code.\n+\n+1. Create your `codestart.yml`:\n+\n+codestart.yml:\n+[source,yaml]\n+----\n+---\n+name: foo-example\n+ref: foo\n+type: example\n+missing-languages:\n+  - kotlin\n+  - scala\n+spec:\n+  base:\n+    data:\n+      # Some data for my templates which gives could be overridden by the user input\n+      some:\n+        data:\n+          here: bar\n+          there: foo\n+    dependencies:\n+      # the dependencies needed for my codestart (note that the extension dependency is auto-added if missing)\n+      - io.quarkus:quarkus-foo\n+      - io.quarkus:quarkus-resteasy\n+      # ... you can also provide a version (when it's not part of the platform bom)\n+      - group:artifact:version\n+    test-dependencies:\n+      # test dependencies\n+      - io.rest-assured:rest-assured\n+----\n+\n+*NOTE* You don't need to add `pom.xml` or `build.gradle`, it is going to be auto generated. It will include the dependencies provided in the `codestart.yml`.\n+\n+2. Add you example code in java, kotlin or scala\n+\n+* java/src/main/java/org/acme/foo/Foo.java:\n+[source,java]\n+----\n+package org.acme.foo\n+\n+import javax.ws.rs.GET\n+import javax.ws.rs.Path\n+import javax.ws.rs.Produces\n+import javax.ws.rs.core.MediaType\n+\n+@Path(\"foo\")\n+class ExampleResource {\n+\n+    @GET\n+    @Produces(MediaType.TEXT_PLAIN)\n+    fun hello() = \"Hello foo\"\n+}\n+----\n+\n+* kotlin/src/main/kotlin/org/acme/foo/Foo.kt\n+* scala/src/main/scala/org/acme/foo/Foo.kt\n+\n+*NOTE* Just add `.tpl.qute` if you want it to be rendered with qute and use some data\n+\n+*NOTE* Most of the time you won't need it for code, but you can use a `base` directory to add files to process for all languages.\n+\n+\n+2. Add some configuration (if needed)\n+\n+The `base/src/main/resources/application.yml` file is going to be merged with the other codestarts config and automatically converted to the selected config type (yaml or properties).\n+\n+Note: if it's specific to a language, you can put the config in each languages folders\n+\n+* base/src/main/resources/application.yml (using quarkus yaml config convention):\n+[source,yaml]\n+----\n+quarkus:\n+  http:\n+    port: 8081\n+----\n+\n+3. Create a readme section (if needed)\n+\n+This will be appended to all different selected examples.\n+\n+* base/README.md\n+[source,markdown]\n+----\n+# FOO Example\n+\n+The Foo Example shows...\n+----\n+\n+=== Tips for writing extension example code\n+\n+- You don't need to care about buildtool, dockerfiles, ...\n+- Use the package `org.acme.[unique-name]` for your sources.\n+- Use the path `/unique-name/...` for your REST paths\n+- Write tests for your examples\n+- Examples in different codestarts must be independent, only the config and the build file are merged.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjEzOTg0Mg=="}, "originalCommit": {"oid": "88efcc09a2a93208fb603565c5030273727f20cc"}, "originalPosition": 207}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjM0MzQyNw==", "bodyText": "add a blink tag :) (j/k)", "url": "https://github.com/quarkusio/quarkus/pull/10372#discussion_r462343427", "createdAt": "2020-07-29T14:29:05Z", "author": {"login": "maxandersen"}, "path": "independent-projects/tools/codestarts/codestarts.adoc", "diffHunk": "@@ -0,0 +1,220 @@\n+= Quarkus - Codestarts\n+\n+This guide explains how to create and configure a Quarkus Codestart for an extension.\n+\n+== Description\n+\n+\"Codestarts\" is the name we gave to our Quarkus quickstart code generation system. \n+Codestarts provide a personalized Quarkus getting started experience and really show the Quarkus breadth.\n+Quarkus extensions are able to provide one or more well defined codestarts which will contain the necessary resources and code examples required to get started using it.\n+\n+== How it works\n+\n+There are two kinds of codestarts contributing to the generation of a project, the kind where we want to have only one for a project (called Base) and the rest (called Extra).\n+\n+Base:\n+\n+* project: The project skeleton (e.g. a Quarkus project)\n+* buildtool: The build tool (e.g. Maven, Gradle, Gradle with Kotlin DSL)\n+* language: The coding language (e.g. Java, Kotlin, Scala)\n+* config: The config type (e.g. yaml, properties)\n+\n+Extra:\n+* tooling: Anything that can be added to improve the project (e.g. dockerfiles)\n+* example: Any Quarkus extension can provide example code. The user can decide to activate it or not.\n+\n+Each codestart consists of:\n+\n+. A specific directory\n+. A `codestart.yml` file\n+. Optionally some templates which follow a structure and naming conventions\n+\n+*NOTE* The `codestart.yml` file and the directory structure follow the same principle, it can optionally contain a base and/or some language overrides.\n+\n+=== Project generation\n+\n+When generating a Quarkus project:\n+\n+. Codestarts to use are resolved depending on the input\n+. The Codestarts' shared data is processed to make it available for all codestarts\n+. The relevant files are processed:\n+** Only the files that are related to the selected language are processed\n+** The files are processed differently based on a naming convention.\n+** The data is used to render Qute templates\n+** We always process in this order: language, project, buildtool, config, custom, other.\n+\n+The data used to generate a specific codestart is a merge of:\n+\n+. The data of the codestart to generate\n+. All codestarts \"shared\" data\n+. The user input\n+. Some specific post processing (e.g. adding dependencies)\n+\n+*NOTE* The data (shared or not) can also be specific to a language.\n+\n+=== Directory Structure\n+\n+*NOTE* `codestart.yml` is the only required file.\n+\n+* `codestart.yml` must be at the root of the codestart\n+* `./base` contains all the files that will be processed\n+* `./[languageName]` contains all the files that will be processed if the specified language has been selected (overriding base)\n+\n+=== codestart.yml\n+\n+codestart.yml:\n+[source,yaml]\n+----\n+name: the unique name - REQUIRED\n+ref: the reference name (not unique) to use for extension matching (else the name is used)\n+type: the type [example (default), project, buildtool, language, config] or any custom type\n+fallback: flag to indicate that it should be selected as fallback when no codestart has been selected with type - Only for base types\n+preselected: flag to indicate that it should be pre-selected - Only for extra types.\n+spec:\n+  [base or language name]: the specification (base, java, ...)\n+    data: a map of data to use only for this codestart\n+    shared-data: a map of data to use accross all codestarts\n+    dependencies: a list of dependencies to add when this is selected\n+    test-dependencies: a list of test dependencies to add when this is selected\n+----\n+\n+=== Files Naming Convention\n+\n+* containing `.tpl.qute` will be processed with Qute (`.tpl.qute` will be removed from the output file name).\n+* containing `.include.qute` is used as a Qute template for inclusion (only available locally to the codestart).\n+\n+  Example: When using `{#include [name]}` in a template, it will look for `[name].include.qute` in the language dir, then in the base dir or the codestart.\n+\n+* an output strategy can be defined for specific files, it defines some specific logic on how to deal with those files.\n+\n+ Example: in the Quarkus project `codestart.yml`:\n+[source,yaml]\n+----\n+output-strategy:\n+  \"pom.xml\": smart-pom-merge # smartly merge pom.xml contents together\n+  \"README.md\": append # they are appended together\n+  \"readme.md\": forbidden # it will fail if found in any codestart\n+  \"README.adoc\": forbidden\n+  \"readme.adoc\": forbidden\n+  \".gitignore\": append\n+  \"src/main/resources/application.yml\": smart-config-merge # smartly merge config together and automatically converted to the selected config type (yaml or properties)\n+  \"src/main/resources/application.yaml\": forbidden # should use yml instead\n+  \"src/main/resources/application.properties\": forbidden # should use yml instead\n+  \"*\": fail-on-duplicate # it will fail if a duplicate is found for all other files\n+----\n+\n+* other files are just copied as is.\n+\n+\n+=== Writing Example Code for an Extension\n+\n+Let's imagine we are writing the example codestart for my \"foo\" extension. As we discussed before, the base of the project is already provided so we can focus on the example code.\n+\n+1. Create your `codestart.yml`:\n+\n+codestart.yml:\n+[source,yaml]\n+----\n+---\n+name: foo-example\n+ref: foo\n+type: example\n+missing-languages:\n+  - kotlin\n+  - scala\n+spec:\n+  base:\n+    data:\n+      # Some data for my templates which gives could be overridden by the user input\n+      some:\n+        data:\n+          here: bar\n+          there: foo\n+    dependencies:\n+      # the dependencies needed for my codestart (note that the extension dependency is auto-added if missing)\n+      - io.quarkus:quarkus-foo\n+      - io.quarkus:quarkus-resteasy\n+      # ... you can also provide a version (when it's not part of the platform bom)\n+      - group:artifact:version\n+    test-dependencies:\n+      # test dependencies\n+      - io.rest-assured:rest-assured\n+----\n+\n+*NOTE* You don't need to add `pom.xml` or `build.gradle`, it is going to be auto generated. It will include the dependencies provided in the `codestart.yml`.\n+\n+2. Add you example code in java, kotlin or scala\n+\n+* java/src/main/java/org/acme/foo/Foo.java:\n+[source,java]\n+----\n+package org.acme.foo\n+\n+import javax.ws.rs.GET\n+import javax.ws.rs.Path\n+import javax.ws.rs.Produces\n+import javax.ws.rs.core.MediaType\n+\n+@Path(\"foo\")\n+class ExampleResource {\n+\n+    @GET\n+    @Produces(MediaType.TEXT_PLAIN)\n+    fun hello() = \"Hello foo\"\n+}\n+----\n+\n+* kotlin/src/main/kotlin/org/acme/foo/Foo.kt\n+* scala/src/main/scala/org/acme/foo/Foo.kt\n+\n+*NOTE* Just add `.tpl.qute` if you want it to be rendered with qute and use some data\n+\n+*NOTE* Most of the time you won't need it for code, but you can use a `base` directory to add files to process for all languages.\n+\n+\n+2. Add some configuration (if needed)\n+\n+The `base/src/main/resources/application.yml` file is going to be merged with the other codestarts config and automatically converted to the selected config type (yaml or properties).\n+\n+Note: if it's specific to a language, you can put the config in each languages folders\n+\n+* base/src/main/resources/application.yml (using quarkus yaml config convention):\n+[source,yaml]\n+----\n+quarkus:\n+  http:\n+    port: 8081\n+----\n+\n+3. Create a readme section (if needed)\n+\n+This will be appended to all different selected examples.\n+\n+* base/README.md\n+[source,markdown]\n+----\n+# FOO Example\n+\n+The Foo Example shows...\n+----\n+\n+=== Tips for writing extension example code\n+\n+- You don't need to care about buildtool, dockerfiles, ...\n+- Use the package `org.acme.[unique-name]` for your sources.\n+- Use the path `/unique-name/...` for your REST paths\n+- Write tests for your examples\n+- Examples in different codestarts must be independent, only the config and the build file are merged.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjEzOTg0Mg=="}, "originalCommit": {"oid": "88efcc09a2a93208fb603565c5030273727f20cc"}, "originalPosition": 207}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg4NTIzNjI1OnYy", "diffSide": "RIGHT", "path": "independent-projects/tools/codestarts/codestarts.adoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwODo0ODowNFrOG4u0wA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwODo0ODowNFrOG4u0wA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjE0MDYwOA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            - You don't need to care about buildtool, dockerfiles, ...\n          \n          \n            \n            - Your example must/should be independent from buildtool and dockerfiles\n          \n      \n    \n    \n  \n\nif there is more then list them specifically; ... is too fuzzy", "url": "https://github.com/quarkusio/quarkus/pull/10372#discussion_r462140608", "createdAt": "2020-07-29T08:48:04Z", "author": {"login": "maxandersen"}, "path": "independent-projects/tools/codestarts/codestarts.adoc", "diffHunk": "@@ -0,0 +1,220 @@\n+= Quarkus - Codestarts\n+\n+This guide explains how to create and configure a Quarkus Codestart for an extension.\n+\n+== Description\n+\n+\"Codestarts\" is the name we gave to our Quarkus quickstart code generation system. \n+Codestarts provide a personalized Quarkus getting started experience and really show the Quarkus breadth.\n+Quarkus extensions are able to provide one or more well defined codestarts which will contain the necessary resources and code examples required to get started using it.\n+\n+== How it works\n+\n+There are two kinds of codestarts contributing to the generation of a project, the kind where we want to have only one for a project (called Base) and the rest (called Extra).\n+\n+Base:\n+\n+* project: The project skeleton (e.g. a Quarkus project)\n+* buildtool: The build tool (e.g. Maven, Gradle, Gradle with Kotlin DSL)\n+* language: The coding language (e.g. Java, Kotlin, Scala)\n+* config: The config type (e.g. yaml, properties)\n+\n+Extra:\n+* tooling: Anything that can be added to improve the project (e.g. dockerfiles)\n+* example: Any Quarkus extension can provide example code. The user can decide to activate it or not.\n+\n+Each codestart consists of:\n+\n+. A specific directory\n+. A `codestart.yml` file\n+. Optionally some templates which follow a structure and naming conventions\n+\n+*NOTE* The `codestart.yml` file and the directory structure follow the same principle, it can optionally contain a base and/or some language overrides.\n+\n+=== Project generation\n+\n+When generating a Quarkus project:\n+\n+. Codestarts to use are resolved depending on the input\n+. The Codestarts' shared data is processed to make it available for all codestarts\n+. The relevant files are processed:\n+** Only the files that are related to the selected language are processed\n+** The files are processed differently based on a naming convention.\n+** The data is used to render Qute templates\n+** We always process in this order: language, project, buildtool, config, custom, other.\n+\n+The data used to generate a specific codestart is a merge of:\n+\n+. The data of the codestart to generate\n+. All codestarts \"shared\" data\n+. The user input\n+. Some specific post processing (e.g. adding dependencies)\n+\n+*NOTE* The data (shared or not) can also be specific to a language.\n+\n+=== Directory Structure\n+\n+*NOTE* `codestart.yml` is the only required file.\n+\n+* `codestart.yml` must be at the root of the codestart\n+* `./base` contains all the files that will be processed\n+* `./[languageName]` contains all the files that will be processed if the specified language has been selected (overriding base)\n+\n+=== codestart.yml\n+\n+codestart.yml:\n+[source,yaml]\n+----\n+name: the unique name - REQUIRED\n+ref: the reference name (not unique) to use for extension matching (else the name is used)\n+type: the type [example (default), project, buildtool, language, config] or any custom type\n+fallback: flag to indicate that it should be selected as fallback when no codestart has been selected with type - Only for base types\n+preselected: flag to indicate that it should be pre-selected - Only for extra types.\n+spec:\n+  [base or language name]: the specification (base, java, ...)\n+    data: a map of data to use only for this codestart\n+    shared-data: a map of data to use accross all codestarts\n+    dependencies: a list of dependencies to add when this is selected\n+    test-dependencies: a list of test dependencies to add when this is selected\n+----\n+\n+=== Files Naming Convention\n+\n+* containing `.tpl.qute` will be processed with Qute (`.tpl.qute` will be removed from the output file name).\n+* containing `.include.qute` is used as a Qute template for inclusion (only available locally to the codestart).\n+\n+  Example: When using `{#include [name]}` in a template, it will look for `[name].include.qute` in the language dir, then in the base dir or the codestart.\n+\n+* an output strategy can be defined for specific files, it defines some specific logic on how to deal with those files.\n+\n+ Example: in the Quarkus project `codestart.yml`:\n+[source,yaml]\n+----\n+output-strategy:\n+  \"pom.xml\": smart-pom-merge # smartly merge pom.xml contents together\n+  \"README.md\": append # they are appended together\n+  \"readme.md\": forbidden # it will fail if found in any codestart\n+  \"README.adoc\": forbidden\n+  \"readme.adoc\": forbidden\n+  \".gitignore\": append\n+  \"src/main/resources/application.yml\": smart-config-merge # smartly merge config together and automatically converted to the selected config type (yaml or properties)\n+  \"src/main/resources/application.yaml\": forbidden # should use yml instead\n+  \"src/main/resources/application.properties\": forbidden # should use yml instead\n+  \"*\": fail-on-duplicate # it will fail if a duplicate is found for all other files\n+----\n+\n+* other files are just copied as is.\n+\n+\n+=== Writing Example Code for an Extension\n+\n+Let's imagine we are writing the example codestart for my \"foo\" extension. As we discussed before, the base of the project is already provided so we can focus on the example code.\n+\n+1. Create your `codestart.yml`:\n+\n+codestart.yml:\n+[source,yaml]\n+----\n+---\n+name: foo-example\n+ref: foo\n+type: example\n+missing-languages:\n+  - kotlin\n+  - scala\n+spec:\n+  base:\n+    data:\n+      # Some data for my templates which gives could be overridden by the user input\n+      some:\n+        data:\n+          here: bar\n+          there: foo\n+    dependencies:\n+      # the dependencies needed for my codestart (note that the extension dependency is auto-added if missing)\n+      - io.quarkus:quarkus-foo\n+      - io.quarkus:quarkus-resteasy\n+      # ... you can also provide a version (when it's not part of the platform bom)\n+      - group:artifact:version\n+    test-dependencies:\n+      # test dependencies\n+      - io.rest-assured:rest-assured\n+----\n+\n+*NOTE* You don't need to add `pom.xml` or `build.gradle`, it is going to be auto generated. It will include the dependencies provided in the `codestart.yml`.\n+\n+2. Add you example code in java, kotlin or scala\n+\n+* java/src/main/java/org/acme/foo/Foo.java:\n+[source,java]\n+----\n+package org.acme.foo\n+\n+import javax.ws.rs.GET\n+import javax.ws.rs.Path\n+import javax.ws.rs.Produces\n+import javax.ws.rs.core.MediaType\n+\n+@Path(\"foo\")\n+class ExampleResource {\n+\n+    @GET\n+    @Produces(MediaType.TEXT_PLAIN)\n+    fun hello() = \"Hello foo\"\n+}\n+----\n+\n+* kotlin/src/main/kotlin/org/acme/foo/Foo.kt\n+* scala/src/main/scala/org/acme/foo/Foo.kt\n+\n+*NOTE* Just add `.tpl.qute` if you want it to be rendered with qute and use some data\n+\n+*NOTE* Most of the time you won't need it for code, but you can use a `base` directory to add files to process for all languages.\n+\n+\n+2. Add some configuration (if needed)\n+\n+The `base/src/main/resources/application.yml` file is going to be merged with the other codestarts config and automatically converted to the selected config type (yaml or properties).\n+\n+Note: if it's specific to a language, you can put the config in each languages folders\n+\n+* base/src/main/resources/application.yml (using quarkus yaml config convention):\n+[source,yaml]\n+----\n+quarkus:\n+  http:\n+    port: 8081\n+----\n+\n+3. Create a readme section (if needed)\n+\n+This will be appended to all different selected examples.\n+\n+* base/README.md\n+[source,markdown]\n+----\n+# FOO Example\n+\n+The Foo Example shows...\n+----\n+\n+=== Tips for writing extension example code\n+\n+- You don't need to care about buildtool, dockerfiles, ...", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "88efcc09a2a93208fb603565c5030273727f20cc"}, "originalPosition": 203}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg4NTI1NzI0OnYy", "diffSide": "RIGHT", "path": "independent-projects/tools/codestarts/src/main/java/io/quarkus/devtools/codestarts/CodestartLoader.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwODo1Mzo1MFrOG4vCUw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQxNDoyODo1MVrOG47MRA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjE0NDA4Mw==", "bodyText": "what happens if example has both yaml and yml ? :)", "url": "https://github.com/quarkusio/quarkus/pull/10372#discussion_r462144083", "createdAt": "2020-07-29T08:53:50Z", "author": {"login": "maxandersen"}, "path": "independent-projects/tools/codestarts/src/main/java/io/quarkus/devtools/codestarts/CodestartLoader.java", "diffHunk": "@@ -0,0 +1,69 @@\n+package io.quarkus.devtools.codestarts;\n+\n+import com.fasterxml.jackson.databind.DeserializationFeature;\n+import com.fasterxml.jackson.databind.MapperFeature;\n+import com.fasterxml.jackson.databind.ObjectMapper;\n+import com.fasterxml.jackson.dataformat.yaml.YAMLFactory;\n+import java.io.IOException;\n+import java.nio.file.Files;\n+import java.nio.file.Path;\n+import java.util.Collection;\n+import java.util.List;\n+import java.util.stream.Collectors;\n+import java.util.stream.Stream;\n+import org.apache.commons.io.FilenameUtils;\n+\n+final class CodestartLoader {\n+    private static final ObjectMapper YAML_MAPPER = new ObjectMapper(new YAMLFactory())\n+            .enable(DeserializationFeature.READ_ENUMS_USING_TO_STRING)\n+            .enable(MapperFeature.ACCEPT_CASE_INSENSITIVE_ENUMS);\n+\n+    private static final String CODESTARTS_DIR_BUNDLED = \"bundled-codestarts\";\n+    private static final String CODESTARTS_DIR_FROM_EXTENSIONS = \"codestarts\";\n+\n+    private CodestartLoader() {\n+    }\n+\n+    public static List<Codestart> loadAllCodestarts(CodestartInput input) throws IOException {\n+        return Stream.concat(loadBundledCodestarts(input).stream(),\n+                loadCodestartsFromExtensions(input).stream()).collect(Collectors.toList());\n+    }\n+\n+    public static Collection<Codestart> loadBundledCodestarts(CodestartInput input) throws IOException {\n+        return loadCodestarts(input.getResourceLoader(), CODESTARTS_DIR_BUNDLED);\n+    }\n+\n+    public static Collection<Codestart> loadCodestartsFromExtensions(CodestartInput input)\n+            throws IOException {\n+        // TODO resolve codestarts which live inside extensions. Using a directory is just a temporary workaround.\n+        return loadCodestarts(input.getResourceLoader(), CODESTARTS_DIR_FROM_EXTENSIONS);\n+    }\n+\n+    // Visible for testing\n+    static Collection<Codestart> loadCodestarts(final CodestartResourceLoader resourceLoader, final String directoryName)\n+            throws IOException {\n+        return resourceLoader.loadResourceAsPath(directoryName,\n+                path -> Files.walk(path)\n+                        .filter(p -> p.getFileName().toString().matches(\"codestart\\\\.ya?ml$\"))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "88efcc09a2a93208fb603565c5030273727f20cc"}, "originalPosition": 47}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjM0MzIzNg==", "bodyText": "I will remove the support for yaml", "url": "https://github.com/quarkusio/quarkus/pull/10372#discussion_r462343236", "createdAt": "2020-07-29T14:28:51Z", "author": {"login": "ia3andy"}, "path": "independent-projects/tools/codestarts/src/main/java/io/quarkus/devtools/codestarts/CodestartLoader.java", "diffHunk": "@@ -0,0 +1,69 @@\n+package io.quarkus.devtools.codestarts;\n+\n+import com.fasterxml.jackson.databind.DeserializationFeature;\n+import com.fasterxml.jackson.databind.MapperFeature;\n+import com.fasterxml.jackson.databind.ObjectMapper;\n+import com.fasterxml.jackson.dataformat.yaml.YAMLFactory;\n+import java.io.IOException;\n+import java.nio.file.Files;\n+import java.nio.file.Path;\n+import java.util.Collection;\n+import java.util.List;\n+import java.util.stream.Collectors;\n+import java.util.stream.Stream;\n+import org.apache.commons.io.FilenameUtils;\n+\n+final class CodestartLoader {\n+    private static final ObjectMapper YAML_MAPPER = new ObjectMapper(new YAMLFactory())\n+            .enable(DeserializationFeature.READ_ENUMS_USING_TO_STRING)\n+            .enable(MapperFeature.ACCEPT_CASE_INSENSITIVE_ENUMS);\n+\n+    private static final String CODESTARTS_DIR_BUNDLED = \"bundled-codestarts\";\n+    private static final String CODESTARTS_DIR_FROM_EXTENSIONS = \"codestarts\";\n+\n+    private CodestartLoader() {\n+    }\n+\n+    public static List<Codestart> loadAllCodestarts(CodestartInput input) throws IOException {\n+        return Stream.concat(loadBundledCodestarts(input).stream(),\n+                loadCodestartsFromExtensions(input).stream()).collect(Collectors.toList());\n+    }\n+\n+    public static Collection<Codestart> loadBundledCodestarts(CodestartInput input) throws IOException {\n+        return loadCodestarts(input.getResourceLoader(), CODESTARTS_DIR_BUNDLED);\n+    }\n+\n+    public static Collection<Codestart> loadCodestartsFromExtensions(CodestartInput input)\n+            throws IOException {\n+        // TODO resolve codestarts which live inside extensions. Using a directory is just a temporary workaround.\n+        return loadCodestarts(input.getResourceLoader(), CODESTARTS_DIR_FROM_EXTENSIONS);\n+    }\n+\n+    // Visible for testing\n+    static Collection<Codestart> loadCodestarts(final CodestartResourceLoader resourceLoader, final String directoryName)\n+            throws IOException {\n+        return resourceLoader.loadResourceAsPath(directoryName,\n+                path -> Files.walk(path)\n+                        .filter(p -> p.getFileName().toString().matches(\"codestart\\\\.ya?ml$\"))", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjE0NDA4Mw=="}, "originalCommit": {"oid": "88efcc09a2a93208fb603565c5030273727f20cc"}, "originalPosition": 47}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg4NTI3Njk3OnYy", "diffSide": "RIGHT", "path": "independent-projects/tools/codestarts/src/main/java/io/quarkus/devtools/codestarts/CodestartProcessor.java", "isResolved": true, "comments": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwODo1ODoyNlrOG4vOHg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQwNzoxOTowNFrOG5W7_A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjE0NzEwMg==", "bodyText": "that todo seems important to fix?", "url": "https://github.com/quarkusio/quarkus/pull/10372#discussion_r462147102", "createdAt": "2020-07-29T08:58:26Z", "author": {"login": "maxandersen"}, "path": "independent-projects/tools/codestarts/src/main/java/io/quarkus/devtools/codestarts/CodestartProcessor.java", "diffHunk": "@@ -0,0 +1,159 @@\n+package io.quarkus.devtools.codestarts;\n+\n+import static io.quarkus.devtools.codestarts.Codestart.BASE_LANGUAGE;\n+\n+import io.quarkus.devtools.codestarts.reader.CodestartFile;\n+import io.quarkus.devtools.codestarts.reader.CodestartFileReader;\n+import io.quarkus.devtools.codestarts.strategy.CodestartFileStrategy;\n+import io.quarkus.devtools.codestarts.strategy.CodestartFileStrategyHandler;\n+import java.io.IOException;\n+import java.io.UncheckedIOException;\n+import java.nio.file.Files;\n+import java.nio.file.Path;\n+import java.nio.file.Paths;\n+import java.nio.file.StandardCopyOption;\n+import java.util.ArrayList;\n+import java.util.Collection;\n+import java.util.LinkedHashMap;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.Optional;\n+import java.util.stream.Collectors;\n+import java.util.stream.Stream;\n+\n+final class CodestartProcessor {\n+\n+    private final CodestartResourceLoader resourceLoader;\n+    private final String languageName;\n+    private final Path targetDirectory;\n+    private final List<CodestartFileStrategy> strategies;\n+    private final Map<String, Object> data;\n+    private final Map<String, List<CodestartFile>> files = new LinkedHashMap<>();\n+\n+    CodestartProcessor(final CodestartResourceLoader resourceLoader,\n+            final String languageName,\n+            final Path targetDirectory,\n+            List<CodestartFileStrategy> strategies,\n+            final Map<String, Object> data) {\n+        this.resourceLoader = resourceLoader;\n+        this.languageName = languageName;\n+        this.targetDirectory = targetDirectory;\n+        this.strategies = strategies;\n+        this.data = data;\n+    }\n+\n+    void process(final Codestart codestart) throws IOException {\n+        resourceLoader.loadResourceAsPath(codestart.getResourceDir(), p -> {\n+            final Path baseDir = p.resolve(BASE_LANGUAGE);\n+            final Path languageDir = p.resolve(languageName);\n+            if (!codestart.getSpec().getMissingLanguages().isEmpty()\n+                    && codestart.getSpec().getMissingLanguages().contains(languageName)) {\n+                // TODO print a warning to inform that this codestart miss this language", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "88efcc09a2a93208fb603565c5030273727f20cc"}, "originalPosition": 51}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjE3NjEwNQ==", "bodyText": "yes, I am not sure yet how I will deal with those. Recently we found out that tooling could prefer a Result more than some \"random\" printed messages.", "url": "https://github.com/quarkusio/quarkus/pull/10372#discussion_r462176105", "createdAt": "2020-07-29T09:47:21Z", "author": {"login": "ia3andy"}, "path": "independent-projects/tools/codestarts/src/main/java/io/quarkus/devtools/codestarts/CodestartProcessor.java", "diffHunk": "@@ -0,0 +1,159 @@\n+package io.quarkus.devtools.codestarts;\n+\n+import static io.quarkus.devtools.codestarts.Codestart.BASE_LANGUAGE;\n+\n+import io.quarkus.devtools.codestarts.reader.CodestartFile;\n+import io.quarkus.devtools.codestarts.reader.CodestartFileReader;\n+import io.quarkus.devtools.codestarts.strategy.CodestartFileStrategy;\n+import io.quarkus.devtools.codestarts.strategy.CodestartFileStrategyHandler;\n+import java.io.IOException;\n+import java.io.UncheckedIOException;\n+import java.nio.file.Files;\n+import java.nio.file.Path;\n+import java.nio.file.Paths;\n+import java.nio.file.StandardCopyOption;\n+import java.util.ArrayList;\n+import java.util.Collection;\n+import java.util.LinkedHashMap;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.Optional;\n+import java.util.stream.Collectors;\n+import java.util.stream.Stream;\n+\n+final class CodestartProcessor {\n+\n+    private final CodestartResourceLoader resourceLoader;\n+    private final String languageName;\n+    private final Path targetDirectory;\n+    private final List<CodestartFileStrategy> strategies;\n+    private final Map<String, Object> data;\n+    private final Map<String, List<CodestartFile>> files = new LinkedHashMap<>();\n+\n+    CodestartProcessor(final CodestartResourceLoader resourceLoader,\n+            final String languageName,\n+            final Path targetDirectory,\n+            List<CodestartFileStrategy> strategies,\n+            final Map<String, Object> data) {\n+        this.resourceLoader = resourceLoader;\n+        this.languageName = languageName;\n+        this.targetDirectory = targetDirectory;\n+        this.strategies = strategies;\n+        this.data = data;\n+    }\n+\n+    void process(final Codestart codestart) throws IOException {\n+        resourceLoader.loadResourceAsPath(codestart.getResourceDir(), p -> {\n+            final Path baseDir = p.resolve(BASE_LANGUAGE);\n+            final Path languageDir = p.resolve(languageName);\n+            if (!codestart.getSpec().getMissingLanguages().isEmpty()\n+                    && codestart.getSpec().getMissingLanguages().contains(languageName)) {\n+                // TODO print a warning to inform that this codestart miss this language", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjE0NzEwMg=="}, "originalCommit": {"oid": "88efcc09a2a93208fb603565c5030273727f20cc"}, "originalPosition": 51}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjM0NDA1NA==", "bodyText": "not sure I follow what you mean it prefer a Result ?", "url": "https://github.com/quarkusio/quarkus/pull/10372#discussion_r462344054", "createdAt": "2020-07-29T14:29:52Z", "author": {"login": "maxandersen"}, "path": "independent-projects/tools/codestarts/src/main/java/io/quarkus/devtools/codestarts/CodestartProcessor.java", "diffHunk": "@@ -0,0 +1,159 @@\n+package io.quarkus.devtools.codestarts;\n+\n+import static io.quarkus.devtools.codestarts.Codestart.BASE_LANGUAGE;\n+\n+import io.quarkus.devtools.codestarts.reader.CodestartFile;\n+import io.quarkus.devtools.codestarts.reader.CodestartFileReader;\n+import io.quarkus.devtools.codestarts.strategy.CodestartFileStrategy;\n+import io.quarkus.devtools.codestarts.strategy.CodestartFileStrategyHandler;\n+import java.io.IOException;\n+import java.io.UncheckedIOException;\n+import java.nio.file.Files;\n+import java.nio.file.Path;\n+import java.nio.file.Paths;\n+import java.nio.file.StandardCopyOption;\n+import java.util.ArrayList;\n+import java.util.Collection;\n+import java.util.LinkedHashMap;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.Optional;\n+import java.util.stream.Collectors;\n+import java.util.stream.Stream;\n+\n+final class CodestartProcessor {\n+\n+    private final CodestartResourceLoader resourceLoader;\n+    private final String languageName;\n+    private final Path targetDirectory;\n+    private final List<CodestartFileStrategy> strategies;\n+    private final Map<String, Object> data;\n+    private final Map<String, List<CodestartFile>> files = new LinkedHashMap<>();\n+\n+    CodestartProcessor(final CodestartResourceLoader resourceLoader,\n+            final String languageName,\n+            final Path targetDirectory,\n+            List<CodestartFileStrategy> strategies,\n+            final Map<String, Object> data) {\n+        this.resourceLoader = resourceLoader;\n+        this.languageName = languageName;\n+        this.targetDirectory = targetDirectory;\n+        this.strategies = strategies;\n+        this.data = data;\n+    }\n+\n+    void process(final Codestart codestart) throws IOException {\n+        resourceLoader.loadResourceAsPath(codestart.getResourceDir(), p -> {\n+            final Path baseDir = p.resolve(BASE_LANGUAGE);\n+            final Path languageDir = p.resolve(languageName);\n+            if (!codestart.getSpec().getMissingLanguages().isEmpty()\n+                    && codestart.getSpec().getMissingLanguages().contains(languageName)) {\n+                // TODO print a warning to inform that this codestart miss this language", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjE0NzEwMg=="}, "originalCommit": {"oid": "88efcc09a2a93208fb603565c5030273727f20cc"}, "originalPosition": 51}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjM0NzQ5Mg==", "bodyText": "Well, when implementing the raw CLI, we discussed with @stalep that it was hard to produce an interactive experience because the common tooling was producing logs, but the consumer, didn't know about it beside the fact that it failed.", "url": "https://github.com/quarkusio/quarkus/pull/10372#discussion_r462347492", "createdAt": "2020-07-29T14:34:03Z", "author": {"login": "ia3andy"}, "path": "independent-projects/tools/codestarts/src/main/java/io/quarkus/devtools/codestarts/CodestartProcessor.java", "diffHunk": "@@ -0,0 +1,159 @@\n+package io.quarkus.devtools.codestarts;\n+\n+import static io.quarkus.devtools.codestarts.Codestart.BASE_LANGUAGE;\n+\n+import io.quarkus.devtools.codestarts.reader.CodestartFile;\n+import io.quarkus.devtools.codestarts.reader.CodestartFileReader;\n+import io.quarkus.devtools.codestarts.strategy.CodestartFileStrategy;\n+import io.quarkus.devtools.codestarts.strategy.CodestartFileStrategyHandler;\n+import java.io.IOException;\n+import java.io.UncheckedIOException;\n+import java.nio.file.Files;\n+import java.nio.file.Path;\n+import java.nio.file.Paths;\n+import java.nio.file.StandardCopyOption;\n+import java.util.ArrayList;\n+import java.util.Collection;\n+import java.util.LinkedHashMap;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.Optional;\n+import java.util.stream.Collectors;\n+import java.util.stream.Stream;\n+\n+final class CodestartProcessor {\n+\n+    private final CodestartResourceLoader resourceLoader;\n+    private final String languageName;\n+    private final Path targetDirectory;\n+    private final List<CodestartFileStrategy> strategies;\n+    private final Map<String, Object> data;\n+    private final Map<String, List<CodestartFile>> files = new LinkedHashMap<>();\n+\n+    CodestartProcessor(final CodestartResourceLoader resourceLoader,\n+            final String languageName,\n+            final Path targetDirectory,\n+            List<CodestartFileStrategy> strategies,\n+            final Map<String, Object> data) {\n+        this.resourceLoader = resourceLoader;\n+        this.languageName = languageName;\n+        this.targetDirectory = targetDirectory;\n+        this.strategies = strategies;\n+        this.data = data;\n+    }\n+\n+    void process(final Codestart codestart) throws IOException {\n+        resourceLoader.loadResourceAsPath(codestart.getResourceDir(), p -> {\n+            final Path baseDir = p.resolve(BASE_LANGUAGE);\n+            final Path languageDir = p.resolve(languageName);\n+            if (!codestart.getSpec().getMissingLanguages().isEmpty()\n+                    && codestart.getSpec().getMissingLanguages().contains(languageName)) {\n+                // TODO print a warning to inform that this codestart miss this language", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjE0NzEwMg=="}, "originalCommit": {"oid": "88efcc09a2a93208fb603565c5030273727f20cc"}, "originalPosition": 51}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Mjc5NTI1NA==", "bodyText": "I'll do that in another PR", "url": "https://github.com/quarkusio/quarkus/pull/10372#discussion_r462795254", "createdAt": "2020-07-30T07:14:12Z", "author": {"login": "ia3andy"}, "path": "independent-projects/tools/codestarts/src/main/java/io/quarkus/devtools/codestarts/CodestartProcessor.java", "diffHunk": "@@ -0,0 +1,159 @@\n+package io.quarkus.devtools.codestarts;\n+\n+import static io.quarkus.devtools.codestarts.Codestart.BASE_LANGUAGE;\n+\n+import io.quarkus.devtools.codestarts.reader.CodestartFile;\n+import io.quarkus.devtools.codestarts.reader.CodestartFileReader;\n+import io.quarkus.devtools.codestarts.strategy.CodestartFileStrategy;\n+import io.quarkus.devtools.codestarts.strategy.CodestartFileStrategyHandler;\n+import java.io.IOException;\n+import java.io.UncheckedIOException;\n+import java.nio.file.Files;\n+import java.nio.file.Path;\n+import java.nio.file.Paths;\n+import java.nio.file.StandardCopyOption;\n+import java.util.ArrayList;\n+import java.util.Collection;\n+import java.util.LinkedHashMap;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.Optional;\n+import java.util.stream.Collectors;\n+import java.util.stream.Stream;\n+\n+final class CodestartProcessor {\n+\n+    private final CodestartResourceLoader resourceLoader;\n+    private final String languageName;\n+    private final Path targetDirectory;\n+    private final List<CodestartFileStrategy> strategies;\n+    private final Map<String, Object> data;\n+    private final Map<String, List<CodestartFile>> files = new LinkedHashMap<>();\n+\n+    CodestartProcessor(final CodestartResourceLoader resourceLoader,\n+            final String languageName,\n+            final Path targetDirectory,\n+            List<CodestartFileStrategy> strategies,\n+            final Map<String, Object> data) {\n+        this.resourceLoader = resourceLoader;\n+        this.languageName = languageName;\n+        this.targetDirectory = targetDirectory;\n+        this.strategies = strategies;\n+        this.data = data;\n+    }\n+\n+    void process(final Codestart codestart) throws IOException {\n+        resourceLoader.loadResourceAsPath(codestart.getResourceDir(), p -> {\n+            final Path baseDir = p.resolve(BASE_LANGUAGE);\n+            final Path languageDir = p.resolve(languageName);\n+            if (!codestart.getSpec().getMissingLanguages().isEmpty()\n+                    && codestart.getSpec().getMissingLanguages().contains(languageName)) {\n+                // TODO print a warning to inform that this codestart miss this language", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjE0NzEwMg=="}, "originalCommit": {"oid": "88efcc09a2a93208fb603565c5030273727f20cc"}, "originalPosition": 51}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Mjc5NzgyMA==", "bodyText": "#11084", "url": "https://github.com/quarkusio/quarkus/pull/10372#discussion_r462797820", "createdAt": "2020-07-30T07:19:04Z", "author": {"login": "ia3andy"}, "path": "independent-projects/tools/codestarts/src/main/java/io/quarkus/devtools/codestarts/CodestartProcessor.java", "diffHunk": "@@ -0,0 +1,159 @@\n+package io.quarkus.devtools.codestarts;\n+\n+import static io.quarkus.devtools.codestarts.Codestart.BASE_LANGUAGE;\n+\n+import io.quarkus.devtools.codestarts.reader.CodestartFile;\n+import io.quarkus.devtools.codestarts.reader.CodestartFileReader;\n+import io.quarkus.devtools.codestarts.strategy.CodestartFileStrategy;\n+import io.quarkus.devtools.codestarts.strategy.CodestartFileStrategyHandler;\n+import java.io.IOException;\n+import java.io.UncheckedIOException;\n+import java.nio.file.Files;\n+import java.nio.file.Path;\n+import java.nio.file.Paths;\n+import java.nio.file.StandardCopyOption;\n+import java.util.ArrayList;\n+import java.util.Collection;\n+import java.util.LinkedHashMap;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.Optional;\n+import java.util.stream.Collectors;\n+import java.util.stream.Stream;\n+\n+final class CodestartProcessor {\n+\n+    private final CodestartResourceLoader resourceLoader;\n+    private final String languageName;\n+    private final Path targetDirectory;\n+    private final List<CodestartFileStrategy> strategies;\n+    private final Map<String, Object> data;\n+    private final Map<String, List<CodestartFile>> files = new LinkedHashMap<>();\n+\n+    CodestartProcessor(final CodestartResourceLoader resourceLoader,\n+            final String languageName,\n+            final Path targetDirectory,\n+            List<CodestartFileStrategy> strategies,\n+            final Map<String, Object> data) {\n+        this.resourceLoader = resourceLoader;\n+        this.languageName = languageName;\n+        this.targetDirectory = targetDirectory;\n+        this.strategies = strategies;\n+        this.data = data;\n+    }\n+\n+    void process(final Codestart codestart) throws IOException {\n+        resourceLoader.loadResourceAsPath(codestart.getResourceDir(), p -> {\n+            final Path baseDir = p.resolve(BASE_LANGUAGE);\n+            final Path languageDir = p.resolve(languageName);\n+            if (!codestart.getSpec().getMissingLanguages().isEmpty()\n+                    && codestart.getSpec().getMissingLanguages().contains(languageName)) {\n+                // TODO print a warning to inform that this codestart miss this language", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjE0NzEwMg=="}, "originalCommit": {"oid": "88efcc09a2a93208fb603565c5030273727f20cc"}, "originalPosition": 51}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg4NTMyNTQ4OnYy", "diffSide": "RIGHT", "path": "independent-projects/tools/codestarts/src/main/java/io/quarkus/devtools/codestarts/CodestartProcessor.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwOToxMToxMVrOG4vsLw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwOTo0NzozN1rOG4w_9w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjE1NDc5OQ==", "bodyText": "this code feels like should at least have some debug logging to help to trace/debug issues.", "url": "https://github.com/quarkusio/quarkus/pull/10372#discussion_r462154799", "createdAt": "2020-07-29T09:11:11Z", "author": {"login": "maxandersen"}, "path": "independent-projects/tools/codestarts/src/main/java/io/quarkus/devtools/codestarts/CodestartProcessor.java", "diffHunk": "@@ -0,0 +1,159 @@\n+package io.quarkus.devtools.codestarts;\n+\n+import static io.quarkus.devtools.codestarts.Codestart.BASE_LANGUAGE;\n+\n+import io.quarkus.devtools.codestarts.reader.CodestartFile;\n+import io.quarkus.devtools.codestarts.reader.CodestartFileReader;\n+import io.quarkus.devtools.codestarts.strategy.CodestartFileStrategy;\n+import io.quarkus.devtools.codestarts.strategy.CodestartFileStrategyHandler;\n+import java.io.IOException;\n+import java.io.UncheckedIOException;\n+import java.nio.file.Files;\n+import java.nio.file.Path;\n+import java.nio.file.Paths;\n+import java.nio.file.StandardCopyOption;\n+import java.util.ArrayList;\n+import java.util.Collection;\n+import java.util.LinkedHashMap;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.Optional;\n+import java.util.stream.Collectors;\n+import java.util.stream.Stream;\n+\n+final class CodestartProcessor {\n+\n+    private final CodestartResourceLoader resourceLoader;\n+    private final String languageName;\n+    private final Path targetDirectory;\n+    private final List<CodestartFileStrategy> strategies;\n+    private final Map<String, Object> data;\n+    private final Map<String, List<CodestartFile>> files = new LinkedHashMap<>();\n+\n+    CodestartProcessor(final CodestartResourceLoader resourceLoader,\n+            final String languageName,\n+            final Path targetDirectory,\n+            List<CodestartFileStrategy> strategies,\n+            final Map<String, Object> data) {\n+        this.resourceLoader = resourceLoader;\n+        this.languageName = languageName;\n+        this.targetDirectory = targetDirectory;\n+        this.strategies = strategies;\n+        this.data = data;\n+    }\n+\n+    void process(final Codestart codestart) throws IOException {\n+        resourceLoader.loadResourceAsPath(codestart.getResourceDir(), p -> {\n+            final Path baseDir = p.resolve(BASE_LANGUAGE);\n+            final Path languageDir = p.resolve(languageName);\n+            if (!codestart.getSpec().getMissingLanguages().isEmpty()\n+                    && codestart.getSpec().getMissingLanguages().contains(languageName)) {\n+                // TODO print a warning to inform that this codestart miss this language\n+                return null; // We ignore that codestart as it doesn't implement the specified language\n+            }\n+            Stream.of(baseDir, languageDir)\n+                    .filter(Files::isDirectory)\n+                    .forEach(dirPath -> processCodestartDir(dirPath,\n+                            CodestartData.buildCodestartData(codestart, languageName, data)));\n+            return null;\n+        });\n+    }\n+\n+    void processCodestartDir(final Path sourceDirectory, final Map<String, Object> finalData) {\n+        try {\n+            final Collection<Path> sources = Files.walk(sourceDirectory)\n+                    .filter(path -> !path.equals(sourceDirectory))\n+                    .collect(Collectors.toList());\n+            for (Path sourcePath : sources) {\n+                final Path relativeSourcePath = sourceDirectory.relativize(sourcePath);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "88efcc09a2a93208fb603565c5030273727f20cc"}, "originalPosition": 68}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjE3NjI0Nw==", "bodyText": "yeah that makes sense, I'll add some", "url": "https://github.com/quarkusio/quarkus/pull/10372#discussion_r462176247", "createdAt": "2020-07-29T09:47:37Z", "author": {"login": "ia3andy"}, "path": "independent-projects/tools/codestarts/src/main/java/io/quarkus/devtools/codestarts/CodestartProcessor.java", "diffHunk": "@@ -0,0 +1,159 @@\n+package io.quarkus.devtools.codestarts;\n+\n+import static io.quarkus.devtools.codestarts.Codestart.BASE_LANGUAGE;\n+\n+import io.quarkus.devtools.codestarts.reader.CodestartFile;\n+import io.quarkus.devtools.codestarts.reader.CodestartFileReader;\n+import io.quarkus.devtools.codestarts.strategy.CodestartFileStrategy;\n+import io.quarkus.devtools.codestarts.strategy.CodestartFileStrategyHandler;\n+import java.io.IOException;\n+import java.io.UncheckedIOException;\n+import java.nio.file.Files;\n+import java.nio.file.Path;\n+import java.nio.file.Paths;\n+import java.nio.file.StandardCopyOption;\n+import java.util.ArrayList;\n+import java.util.Collection;\n+import java.util.LinkedHashMap;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.Optional;\n+import java.util.stream.Collectors;\n+import java.util.stream.Stream;\n+\n+final class CodestartProcessor {\n+\n+    private final CodestartResourceLoader resourceLoader;\n+    private final String languageName;\n+    private final Path targetDirectory;\n+    private final List<CodestartFileStrategy> strategies;\n+    private final Map<String, Object> data;\n+    private final Map<String, List<CodestartFile>> files = new LinkedHashMap<>();\n+\n+    CodestartProcessor(final CodestartResourceLoader resourceLoader,\n+            final String languageName,\n+            final Path targetDirectory,\n+            List<CodestartFileStrategy> strategies,\n+            final Map<String, Object> data) {\n+        this.resourceLoader = resourceLoader;\n+        this.languageName = languageName;\n+        this.targetDirectory = targetDirectory;\n+        this.strategies = strategies;\n+        this.data = data;\n+    }\n+\n+    void process(final Codestart codestart) throws IOException {\n+        resourceLoader.loadResourceAsPath(codestart.getResourceDir(), p -> {\n+            final Path baseDir = p.resolve(BASE_LANGUAGE);\n+            final Path languageDir = p.resolve(languageName);\n+            if (!codestart.getSpec().getMissingLanguages().isEmpty()\n+                    && codestart.getSpec().getMissingLanguages().contains(languageName)) {\n+                // TODO print a warning to inform that this codestart miss this language\n+                return null; // We ignore that codestart as it doesn't implement the specified language\n+            }\n+            Stream.of(baseDir, languageDir)\n+                    .filter(Files::isDirectory)\n+                    .forEach(dirPath -> processCodestartDir(dirPath,\n+                            CodestartData.buildCodestartData(codestart, languageName, data)));\n+            return null;\n+        });\n+    }\n+\n+    void processCodestartDir(final Path sourceDirectory, final Map<String, Object> finalData) {\n+        try {\n+            final Collection<Path> sources = Files.walk(sourceDirectory)\n+                    .filter(path -> !path.equals(sourceDirectory))\n+                    .collect(Collectors.toList());\n+            for (Path sourcePath : sources) {\n+                final Path relativeSourcePath = sourceDirectory.relativize(sourcePath);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjE1NDc5OQ=="}, "originalCommit": {"oid": "88efcc09a2a93208fb603565c5030273727f20cc"}, "originalPosition": 68}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg4NTMyNzg4OnYy", "diffSide": "RIGHT", "path": "independent-projects/tools/codestarts/src/main/java/io/quarkus/devtools/codestarts/CodestartProcessor.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwOToxMTo1MVrOG4vtog==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwOTo0ODowNlrOG4xA7A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjE1NTE3MA==", "bodyText": "add/move this try/catch inside the for loop so you can give some context to this exception (like which path is failing on)", "url": "https://github.com/quarkusio/quarkus/pull/10372#discussion_r462155170", "createdAt": "2020-07-29T09:11:51Z", "author": {"login": "maxandersen"}, "path": "independent-projects/tools/codestarts/src/main/java/io/quarkus/devtools/codestarts/CodestartProcessor.java", "diffHunk": "@@ -0,0 +1,159 @@\n+package io.quarkus.devtools.codestarts;\n+\n+import static io.quarkus.devtools.codestarts.Codestart.BASE_LANGUAGE;\n+\n+import io.quarkus.devtools.codestarts.reader.CodestartFile;\n+import io.quarkus.devtools.codestarts.reader.CodestartFileReader;\n+import io.quarkus.devtools.codestarts.strategy.CodestartFileStrategy;\n+import io.quarkus.devtools.codestarts.strategy.CodestartFileStrategyHandler;\n+import java.io.IOException;\n+import java.io.UncheckedIOException;\n+import java.nio.file.Files;\n+import java.nio.file.Path;\n+import java.nio.file.Paths;\n+import java.nio.file.StandardCopyOption;\n+import java.util.ArrayList;\n+import java.util.Collection;\n+import java.util.LinkedHashMap;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.Optional;\n+import java.util.stream.Collectors;\n+import java.util.stream.Stream;\n+\n+final class CodestartProcessor {\n+\n+    private final CodestartResourceLoader resourceLoader;\n+    private final String languageName;\n+    private final Path targetDirectory;\n+    private final List<CodestartFileStrategy> strategies;\n+    private final Map<String, Object> data;\n+    private final Map<String, List<CodestartFile>> files = new LinkedHashMap<>();\n+\n+    CodestartProcessor(final CodestartResourceLoader resourceLoader,\n+            final String languageName,\n+            final Path targetDirectory,\n+            List<CodestartFileStrategy> strategies,\n+            final Map<String, Object> data) {\n+        this.resourceLoader = resourceLoader;\n+        this.languageName = languageName;\n+        this.targetDirectory = targetDirectory;\n+        this.strategies = strategies;\n+        this.data = data;\n+    }\n+\n+    void process(final Codestart codestart) throws IOException {\n+        resourceLoader.loadResourceAsPath(codestart.getResourceDir(), p -> {\n+            final Path baseDir = p.resolve(BASE_LANGUAGE);\n+            final Path languageDir = p.resolve(languageName);\n+            if (!codestart.getSpec().getMissingLanguages().isEmpty()\n+                    && codestart.getSpec().getMissingLanguages().contains(languageName)) {\n+                // TODO print a warning to inform that this codestart miss this language\n+                return null; // We ignore that codestart as it doesn't implement the specified language\n+            }\n+            Stream.of(baseDir, languageDir)\n+                    .filter(Files::isDirectory)\n+                    .forEach(dirPath -> processCodestartDir(dirPath,\n+                            CodestartData.buildCodestartData(codestart, languageName, data)));\n+            return null;\n+        });\n+    }\n+\n+    void processCodestartDir(final Path sourceDirectory, final Map<String, Object> finalData) {\n+        try {\n+            final Collection<Path> sources = Files.walk(sourceDirectory)\n+                    .filter(path -> !path.equals(sourceDirectory))\n+                    .collect(Collectors.toList());\n+            for (Path sourcePath : sources) {\n+                final Path relativeSourcePath = sourceDirectory.relativize(sourcePath);\n+                if (!Files.isDirectory(sourcePath)) {\n+                    final String sourceFileName = sourcePath.getFileName().toString();\n+\n+                    // Read files to process\n+                    final Optional<CodestartFileReader> possibleReader = CodestartFileReader.ALL.stream()\n+                            .filter(r -> r.matches(sourceFileName))\n+                            .findFirst();\n+                    final CodestartFileReader reader = possibleReader.orElse(CodestartFileReader.DEFAULT);\n+\n+                    final String targetFileName = reader.cleanFileName(sourceFileName);\n+                    final Path relativeTargetPath = relativeSourcePath.getNameCount() > 1\n+                            ? relativeSourcePath.getParent().resolve(targetFileName)\n+                            : Paths.get(targetFileName);\n+\n+                    final boolean hasConflictStrategyHandler = getStrategy(relativeTargetPath.toString()).isPresent();\n+\n+                    if (!possibleReader.isPresent() && !hasConflictStrategyHandler) {\n+                        // Copy static files\n+                        // TODO support static files from codestart.yml\n+                        final Path targetPath = targetDirectory.resolve(relativeTargetPath.toString());\n+                        processStaticFile(sourcePath, targetPath);\n+                    }\n+\n+                    final Optional<String> content = reader.read(sourcePath,\n+                            languageName, finalData);\n+                    if (content.isPresent()) {\n+                        final String key = relativeTargetPath.toString();\n+                        this.files.putIfAbsent(key, new ArrayList<>());\n+                        this.files.get(key).add(new CodestartFile(relativeSourcePath.toString(), content.get()));\n+                    }\n+                }\n+            }\n+        } catch (IOException e) {\n+            throw new UncheckedIOException(e);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "88efcc09a2a93208fb603565c5030273727f20cc"}, "originalPosition": 102}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjE3NjQ5Mg==", "bodyText": "good catch.. very smart!", "url": "https://github.com/quarkusio/quarkus/pull/10372#discussion_r462176492", "createdAt": "2020-07-29T09:48:06Z", "author": {"login": "ia3andy"}, "path": "independent-projects/tools/codestarts/src/main/java/io/quarkus/devtools/codestarts/CodestartProcessor.java", "diffHunk": "@@ -0,0 +1,159 @@\n+package io.quarkus.devtools.codestarts;\n+\n+import static io.quarkus.devtools.codestarts.Codestart.BASE_LANGUAGE;\n+\n+import io.quarkus.devtools.codestarts.reader.CodestartFile;\n+import io.quarkus.devtools.codestarts.reader.CodestartFileReader;\n+import io.quarkus.devtools.codestarts.strategy.CodestartFileStrategy;\n+import io.quarkus.devtools.codestarts.strategy.CodestartFileStrategyHandler;\n+import java.io.IOException;\n+import java.io.UncheckedIOException;\n+import java.nio.file.Files;\n+import java.nio.file.Path;\n+import java.nio.file.Paths;\n+import java.nio.file.StandardCopyOption;\n+import java.util.ArrayList;\n+import java.util.Collection;\n+import java.util.LinkedHashMap;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.Optional;\n+import java.util.stream.Collectors;\n+import java.util.stream.Stream;\n+\n+final class CodestartProcessor {\n+\n+    private final CodestartResourceLoader resourceLoader;\n+    private final String languageName;\n+    private final Path targetDirectory;\n+    private final List<CodestartFileStrategy> strategies;\n+    private final Map<String, Object> data;\n+    private final Map<String, List<CodestartFile>> files = new LinkedHashMap<>();\n+\n+    CodestartProcessor(final CodestartResourceLoader resourceLoader,\n+            final String languageName,\n+            final Path targetDirectory,\n+            List<CodestartFileStrategy> strategies,\n+            final Map<String, Object> data) {\n+        this.resourceLoader = resourceLoader;\n+        this.languageName = languageName;\n+        this.targetDirectory = targetDirectory;\n+        this.strategies = strategies;\n+        this.data = data;\n+    }\n+\n+    void process(final Codestart codestart) throws IOException {\n+        resourceLoader.loadResourceAsPath(codestart.getResourceDir(), p -> {\n+            final Path baseDir = p.resolve(BASE_LANGUAGE);\n+            final Path languageDir = p.resolve(languageName);\n+            if (!codestart.getSpec().getMissingLanguages().isEmpty()\n+                    && codestart.getSpec().getMissingLanguages().contains(languageName)) {\n+                // TODO print a warning to inform that this codestart miss this language\n+                return null; // We ignore that codestart as it doesn't implement the specified language\n+            }\n+            Stream.of(baseDir, languageDir)\n+                    .filter(Files::isDirectory)\n+                    .forEach(dirPath -> processCodestartDir(dirPath,\n+                            CodestartData.buildCodestartData(codestart, languageName, data)));\n+            return null;\n+        });\n+    }\n+\n+    void processCodestartDir(final Path sourceDirectory, final Map<String, Object> finalData) {\n+        try {\n+            final Collection<Path> sources = Files.walk(sourceDirectory)\n+                    .filter(path -> !path.equals(sourceDirectory))\n+                    .collect(Collectors.toList());\n+            for (Path sourcePath : sources) {\n+                final Path relativeSourcePath = sourceDirectory.relativize(sourcePath);\n+                if (!Files.isDirectory(sourcePath)) {\n+                    final String sourceFileName = sourcePath.getFileName().toString();\n+\n+                    // Read files to process\n+                    final Optional<CodestartFileReader> possibleReader = CodestartFileReader.ALL.stream()\n+                            .filter(r -> r.matches(sourceFileName))\n+                            .findFirst();\n+                    final CodestartFileReader reader = possibleReader.orElse(CodestartFileReader.DEFAULT);\n+\n+                    final String targetFileName = reader.cleanFileName(sourceFileName);\n+                    final Path relativeTargetPath = relativeSourcePath.getNameCount() > 1\n+                            ? relativeSourcePath.getParent().resolve(targetFileName)\n+                            : Paths.get(targetFileName);\n+\n+                    final boolean hasConflictStrategyHandler = getStrategy(relativeTargetPath.toString()).isPresent();\n+\n+                    if (!possibleReader.isPresent() && !hasConflictStrategyHandler) {\n+                        // Copy static files\n+                        // TODO support static files from codestart.yml\n+                        final Path targetPath = targetDirectory.resolve(relativeTargetPath.toString());\n+                        processStaticFile(sourcePath, targetPath);\n+                    }\n+\n+                    final Optional<String> content = reader.read(sourcePath,\n+                            languageName, finalData);\n+                    if (content.isPresent()) {\n+                        final String key = relativeTargetPath.toString();\n+                        this.files.putIfAbsent(key, new ArrayList<>());\n+                        this.files.get(key).add(new CodestartFile(relativeSourcePath.toString(), content.get()));\n+                    }\n+                }\n+            }\n+        } catch (IOException e) {\n+            throw new UncheckedIOException(e);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjE1NTE3MA=="}, "originalCommit": {"oid": "88efcc09a2a93208fb603565c5030273727f20cc"}, "originalPosition": 102}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg4NTMzMzIwOnYy", "diffSide": "RIGHT", "path": "independent-projects/tools/codestarts/src/main/java/io/quarkus/devtools/codestarts/CodestartProcessor.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwOToxMzoyMlrOG4vxEQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwOToxMzoyMlrOG4vxEQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjE1NjA0OQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            throw new CodestartDefinitionException(\"ConflictStrategyHandler not found named '\" + entry.getValue()\n          \n          \n            \n                                    + \"' used for with filter '\" + entry.getKey() + \"'\");\n          \n          \n            \n                            throw new CodestartDefinitionException(\"ConflictStrategyHandler named '\" + entry.getValue()\n          \n          \n            \n                                    + \"' not found. Used with filter '\" + entry.getKey() + \"'\");", "url": "https://github.com/quarkusio/quarkus/pull/10372#discussion_r462156049", "createdAt": "2020-07-29T09:13:22Z", "author": {"login": "maxandersen"}, "path": "independent-projects/tools/codestarts/src/main/java/io/quarkus/devtools/codestarts/CodestartProcessor.java", "diffHunk": "@@ -0,0 +1,159 @@\n+package io.quarkus.devtools.codestarts;\n+\n+import static io.quarkus.devtools.codestarts.Codestart.BASE_LANGUAGE;\n+\n+import io.quarkus.devtools.codestarts.reader.CodestartFile;\n+import io.quarkus.devtools.codestarts.reader.CodestartFileReader;\n+import io.quarkus.devtools.codestarts.strategy.CodestartFileStrategy;\n+import io.quarkus.devtools.codestarts.strategy.CodestartFileStrategyHandler;\n+import java.io.IOException;\n+import java.io.UncheckedIOException;\n+import java.nio.file.Files;\n+import java.nio.file.Path;\n+import java.nio.file.Paths;\n+import java.nio.file.StandardCopyOption;\n+import java.util.ArrayList;\n+import java.util.Collection;\n+import java.util.LinkedHashMap;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.Optional;\n+import java.util.stream.Collectors;\n+import java.util.stream.Stream;\n+\n+final class CodestartProcessor {\n+\n+    private final CodestartResourceLoader resourceLoader;\n+    private final String languageName;\n+    private final Path targetDirectory;\n+    private final List<CodestartFileStrategy> strategies;\n+    private final Map<String, Object> data;\n+    private final Map<String, List<CodestartFile>> files = new LinkedHashMap<>();\n+\n+    CodestartProcessor(final CodestartResourceLoader resourceLoader,\n+            final String languageName,\n+            final Path targetDirectory,\n+            List<CodestartFileStrategy> strategies,\n+            final Map<String, Object> data) {\n+        this.resourceLoader = resourceLoader;\n+        this.languageName = languageName;\n+        this.targetDirectory = targetDirectory;\n+        this.strategies = strategies;\n+        this.data = data;\n+    }\n+\n+    void process(final Codestart codestart) throws IOException {\n+        resourceLoader.loadResourceAsPath(codestart.getResourceDir(), p -> {\n+            final Path baseDir = p.resolve(BASE_LANGUAGE);\n+            final Path languageDir = p.resolve(languageName);\n+            if (!codestart.getSpec().getMissingLanguages().isEmpty()\n+                    && codestart.getSpec().getMissingLanguages().contains(languageName)) {\n+                // TODO print a warning to inform that this codestart miss this language\n+                return null; // We ignore that codestart as it doesn't implement the specified language\n+            }\n+            Stream.of(baseDir, languageDir)\n+                    .filter(Files::isDirectory)\n+                    .forEach(dirPath -> processCodestartDir(dirPath,\n+                            CodestartData.buildCodestartData(codestart, languageName, data)));\n+            return null;\n+        });\n+    }\n+\n+    void processCodestartDir(final Path sourceDirectory, final Map<String, Object> finalData) {\n+        try {\n+            final Collection<Path> sources = Files.walk(sourceDirectory)\n+                    .filter(path -> !path.equals(sourceDirectory))\n+                    .collect(Collectors.toList());\n+            for (Path sourcePath : sources) {\n+                final Path relativeSourcePath = sourceDirectory.relativize(sourcePath);\n+                if (!Files.isDirectory(sourcePath)) {\n+                    final String sourceFileName = sourcePath.getFileName().toString();\n+\n+                    // Read files to process\n+                    final Optional<CodestartFileReader> possibleReader = CodestartFileReader.ALL.stream()\n+                            .filter(r -> r.matches(sourceFileName))\n+                            .findFirst();\n+                    final CodestartFileReader reader = possibleReader.orElse(CodestartFileReader.DEFAULT);\n+\n+                    final String targetFileName = reader.cleanFileName(sourceFileName);\n+                    final Path relativeTargetPath = relativeSourcePath.getNameCount() > 1\n+                            ? relativeSourcePath.getParent().resolve(targetFileName)\n+                            : Paths.get(targetFileName);\n+\n+                    final boolean hasConflictStrategyHandler = getStrategy(relativeTargetPath.toString()).isPresent();\n+\n+                    if (!possibleReader.isPresent() && !hasConflictStrategyHandler) {\n+                        // Copy static files\n+                        // TODO support static files from codestart.yml\n+                        final Path targetPath = targetDirectory.resolve(relativeTargetPath.toString());\n+                        processStaticFile(sourcePath, targetPath);\n+                    }\n+\n+                    final Optional<String> content = reader.read(sourcePath,\n+                            languageName, finalData);\n+                    if (content.isPresent()) {\n+                        final String key = relativeTargetPath.toString();\n+                        this.files.putIfAbsent(key, new ArrayList<>());\n+                        this.files.get(key).add(new CodestartFile(relativeSourcePath.toString(), content.get()));\n+                    }\n+                }\n+            }\n+        } catch (IOException e) {\n+            throw new UncheckedIOException(e);\n+        }\n+    }\n+\n+    private static void processStaticFile(Path path, Path targetPath) throws IOException {\n+        Files.createDirectories(targetPath.getParent());\n+        Files.copy(path, targetPath, StandardCopyOption.REPLACE_EXISTING);\n+    }\n+\n+    void checkTargetDir() throws IOException {\n+        if (!Files.exists(targetDirectory)) {\n+            boolean mkdirStatus = targetDirectory.toFile().mkdirs();\n+            if (!mkdirStatus) {\n+                throw new IOException(\"Failed to create the project directory: \" + targetDirectory);\n+            }\n+            return;\n+        }\n+        if (!Files.isDirectory(targetDirectory)) {\n+            throw new IOException(\"Project path needs to point to a directory: \" + targetDirectory);\n+        }\n+        final String[] files = targetDirectory.toFile().list();\n+        if (files != null && files.length > 0) {\n+            throw new IOException(\"You can't create a project when the directory is not empty: \" + targetDirectory);\n+        }\n+    }\n+\n+    public void writeFiles() throws IOException {\n+        for (Map.Entry<String, List<CodestartFile>> e : files.entrySet()) {\n+            final String relativePath = e.getKey();\n+            Files.createDirectories(targetDirectory.resolve(relativePath).getParent());\n+            getStrategy(relativePath).orElse(CodestartFileStrategyHandler.FAIL_ON_DUPLICATE)\n+                    .process(targetDirectory, relativePath, e.getValue(), data);\n+        }\n+    }\n+\n+    private Optional<CodestartFileStrategyHandler> getStrategy(final String key) {\n+        for (CodestartFileStrategy codestartFileStrategy : strategies) {\n+            if (codestartFileStrategy.test(key)) {\n+                return Optional.of(codestartFileStrategy.getHandler());\n+            }\n+        }\n+        return Optional.empty();\n+    }\n+\n+    static List<CodestartFileStrategy> buildStrategies(Map<String, String> spec) {\n+        final List<CodestartFileStrategy> codestartFileStrategyHandlers = new ArrayList<>(spec.size());\n+\n+        for (Map.Entry<String, String> entry : spec.entrySet()) {\n+            final CodestartFileStrategyHandler handler = CodestartFileStrategyHandler.BY_NAME.get(entry.getValue());\n+            if (handler == null) {\n+                throw new CodestartDefinitionException(\"ConflictStrategyHandler not found named '\" + entry.getValue()\n+                        + \"' used for with filter '\" + entry.getKey() + \"'\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "88efcc09a2a93208fb603565c5030273727f20cc"}, "originalPosition": 153}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg4NTMzNzQ1OnYy", "diffSide": "RIGHT", "path": "independent-projects/tools/codestarts/src/main/java/io/quarkus/devtools/codestarts/CodestartSpec.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwOToxNDoyNlrOG4vzqw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwOTo1MDo0OVrOG4xHSg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjE1NjcxNQ==", "bodyText": "when that fails - will users get some context of which codestart spec that is failing ?", "url": "https://github.com/quarkusio/quarkus/pull/10372#discussion_r462156715", "createdAt": "2020-07-29T09:14:26Z", "author": {"login": "maxandersen"}, "path": "independent-projects/tools/codestarts/src/main/java/io/quarkus/devtools/codestarts/CodestartSpec.java", "diffHunk": "@@ -0,0 +1,172 @@\n+package io.quarkus.devtools.codestarts;\n+\n+import static java.util.Objects.requireNonNull;\n+\n+import com.fasterxml.jackson.annotation.JsonCreator;\n+import com.fasterxml.jackson.annotation.JsonProperty;\n+import java.util.Collections;\n+import java.util.HashMap;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.Optional;\n+\n+public final class CodestartSpec {\n+\n+    enum Type {\n+        PROJECT(true),\n+        LANGUAGE(true),\n+        BUILDTOOL(true),\n+        CONFIG(true),\n+        EXAMPLE(false),\n+        TOOLING(false);\n+\n+        private final boolean base;\n+\n+        Type(boolean base) {\n+            this.base = base;\n+        }\n+\n+        public boolean isBase() {\n+            return base;\n+        }\n+    }\n+\n+    private final String name;\n+    private final boolean isPreselected;\n+    private final String ref;\n+    private final Type type;\n+    private final boolean isFallback;\n+    private final List<String> missingLanguages;\n+    private final Map<String, String> outputStrategy;\n+    private final Map<String, LanguageSpec> languagesSpec;\n+\n+    @JsonCreator\n+    public CodestartSpec(@JsonProperty(value = \"name\", required = true) String name,\n+            @JsonProperty(value = \"ref\") String ref,\n+            @JsonProperty(value = \"type\") Type type,\n+            @JsonProperty(\"fallback\") boolean isFallback,\n+            @JsonProperty(\"preselected\") boolean isPreselected,\n+            @JsonProperty(value = \"missing-languages\") List<String> missingLanguages,\n+            @JsonProperty(\"output-strategy\") Map<String, String> outputStrategy,\n+            @JsonProperty(\"language\") Map<String, LanguageSpec> languagesSpec) {\n+        this.name = requireNonNull(name, \"name is required\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "88efcc09a2a93208fb603565c5030273727f20cc"}, "originalPosition": 52}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjE3ODEyMg==", "bodyText": "I will make sure of that", "url": "https://github.com/quarkusio/quarkus/pull/10372#discussion_r462178122", "createdAt": "2020-07-29T09:50:49Z", "author": {"login": "ia3andy"}, "path": "independent-projects/tools/codestarts/src/main/java/io/quarkus/devtools/codestarts/CodestartSpec.java", "diffHunk": "@@ -0,0 +1,172 @@\n+package io.quarkus.devtools.codestarts;\n+\n+import static java.util.Objects.requireNonNull;\n+\n+import com.fasterxml.jackson.annotation.JsonCreator;\n+import com.fasterxml.jackson.annotation.JsonProperty;\n+import java.util.Collections;\n+import java.util.HashMap;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.Optional;\n+\n+public final class CodestartSpec {\n+\n+    enum Type {\n+        PROJECT(true),\n+        LANGUAGE(true),\n+        BUILDTOOL(true),\n+        CONFIG(true),\n+        EXAMPLE(false),\n+        TOOLING(false);\n+\n+        private final boolean base;\n+\n+        Type(boolean base) {\n+            this.base = base;\n+        }\n+\n+        public boolean isBase() {\n+            return base;\n+        }\n+    }\n+\n+    private final String name;\n+    private final boolean isPreselected;\n+    private final String ref;\n+    private final Type type;\n+    private final boolean isFallback;\n+    private final List<String> missingLanguages;\n+    private final Map<String, String> outputStrategy;\n+    private final Map<String, LanguageSpec> languagesSpec;\n+\n+    @JsonCreator\n+    public CodestartSpec(@JsonProperty(value = \"name\", required = true) String name,\n+            @JsonProperty(value = \"ref\") String ref,\n+            @JsonProperty(value = \"type\") Type type,\n+            @JsonProperty(\"fallback\") boolean isFallback,\n+            @JsonProperty(\"preselected\") boolean isPreselected,\n+            @JsonProperty(value = \"missing-languages\") List<String> missingLanguages,\n+            @JsonProperty(\"output-strategy\") Map<String, String> outputStrategy,\n+            @JsonProperty(\"language\") Map<String, LanguageSpec> languagesSpec) {\n+        this.name = requireNonNull(name, \"name is required\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjE1NjcxNQ=="}, "originalCommit": {"oid": "88efcc09a2a93208fb603565c5030273727f20cc"}, "originalPosition": 52}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg4NTM0ODg0OnYy", "diffSide": "RIGHT", "path": "independent-projects/tools/codestarts/src/main/java/io/quarkus/devtools/codestarts/reader/QuteCodestartFileReader.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwOToxNzoxNFrOG4v6VQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQwNzoxMzo1NVrOG5WxBQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjE1ODQyMQ==", "bodyText": "why do you consider that random ?", "url": "https://github.com/quarkusio/quarkus/pull/10372#discussion_r462158421", "createdAt": "2020-07-29T09:17:14Z", "author": {"login": "maxandersen"}, "path": "independent-projects/tools/codestarts/src/main/java/io/quarkus/devtools/codestarts/reader/QuteCodestartFileReader.java", "diffHunk": "@@ -0,0 +1,110 @@\n+package io.quarkus.devtools.codestarts.reader;\n+\n+import io.quarkus.devtools.codestarts.CodestartException;\n+import io.quarkus.qute.Engine;\n+import io.quarkus.qute.Expression;\n+import io.quarkus.qute.ResultMapper;\n+import io.quarkus.qute.Results;\n+import io.quarkus.qute.TemplateException;\n+import io.quarkus.qute.TemplateLocator;\n+import io.quarkus.qute.TemplateNode;\n+import io.quarkus.qute.Variant;\n+import java.io.IOException;\n+import java.io.Reader;\n+import java.nio.charset.StandardCharsets;\n+import java.nio.file.Files;\n+import java.nio.file.Path;\n+import java.util.Map;\n+import java.util.Optional;\n+\n+final class QuteCodestartFileReader implements CodestartFileReader {\n+\n+    private static final String FLAG = \".tpl.qute\";\n+    public static final String INCLUDE_QUTE_FLAG = \".include.qute\";\n+\n+    @Override\n+    public boolean matches(String fileName) {\n+        return fileName.contains(FLAG) || fileName.contains(INCLUDE_QUTE_FLAG);\n+    }\n+\n+    @Override\n+    public String cleanFileName(String fileName) {\n+        return fileName.replace(FLAG, \"\");\n+    }\n+\n+    public Optional<String> read(Path sourcePath, String languageName, Map<String, Object> data) throws IOException {\n+        if (sourcePath.getFileName().toString().contains(INCLUDE_QUTE_FLAG)) {\n+            return Optional.empty();\n+        }\n+        return Optional.of(readQuteFile(sourcePath, languageName, data));\n+    }\n+\n+    public static Engine newEngine() {\n+        return Engine.builder().addDefaults()\n+                .addResultMapper(new MissingValueMapper())\n+                .build();\n+    }\n+\n+    public static String readQuteFile(Path path, String languageName, Map<String, Object> data) throws IOException {\n+        final String content = new String(Files.readAllBytes(path), StandardCharsets.UTF_8);\n+        final Engine engine = Engine.builder().addDefaults()\n+                .addResultMapper(new MissingValueMapper())\n+                .removeStandaloneLines(true)\n+                .addLocator(id -> findIncludeTemplate(path, languageName, id).map(IncludeTemplateLocation::new))\n+                .build();\n+        try {\n+            return engine.parse(content).render(data);\n+        } catch (TemplateException e) {\n+            throw new IOException(\"Error while rendering template: \" + path.toString(), e);\n+        }\n+    }\n+\n+    private static Optional<Path> findIncludeTemplate(Path path, String languageName, String name) {\n+        // FIXME looking at the parent dir is a bit random\n+        final Path codestartPath = path.getParent().getParent();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "88efcc09a2a93208fb603565c5030273727f20cc"}, "originalPosition": 64}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjE3OTE0NQ==", "bodyText": "because, the calling template may be in a sub-directory making this fail, I need to pass the codestart directory to make it consistant.", "url": "https://github.com/quarkusio/quarkus/pull/10372#discussion_r462179145", "createdAt": "2020-07-29T09:52:23Z", "author": {"login": "ia3andy"}, "path": "independent-projects/tools/codestarts/src/main/java/io/quarkus/devtools/codestarts/reader/QuteCodestartFileReader.java", "diffHunk": "@@ -0,0 +1,110 @@\n+package io.quarkus.devtools.codestarts.reader;\n+\n+import io.quarkus.devtools.codestarts.CodestartException;\n+import io.quarkus.qute.Engine;\n+import io.quarkus.qute.Expression;\n+import io.quarkus.qute.ResultMapper;\n+import io.quarkus.qute.Results;\n+import io.quarkus.qute.TemplateException;\n+import io.quarkus.qute.TemplateLocator;\n+import io.quarkus.qute.TemplateNode;\n+import io.quarkus.qute.Variant;\n+import java.io.IOException;\n+import java.io.Reader;\n+import java.nio.charset.StandardCharsets;\n+import java.nio.file.Files;\n+import java.nio.file.Path;\n+import java.util.Map;\n+import java.util.Optional;\n+\n+final class QuteCodestartFileReader implements CodestartFileReader {\n+\n+    private static final String FLAG = \".tpl.qute\";\n+    public static final String INCLUDE_QUTE_FLAG = \".include.qute\";\n+\n+    @Override\n+    public boolean matches(String fileName) {\n+        return fileName.contains(FLAG) || fileName.contains(INCLUDE_QUTE_FLAG);\n+    }\n+\n+    @Override\n+    public String cleanFileName(String fileName) {\n+        return fileName.replace(FLAG, \"\");\n+    }\n+\n+    public Optional<String> read(Path sourcePath, String languageName, Map<String, Object> data) throws IOException {\n+        if (sourcePath.getFileName().toString().contains(INCLUDE_QUTE_FLAG)) {\n+            return Optional.empty();\n+        }\n+        return Optional.of(readQuteFile(sourcePath, languageName, data));\n+    }\n+\n+    public static Engine newEngine() {\n+        return Engine.builder().addDefaults()\n+                .addResultMapper(new MissingValueMapper())\n+                .build();\n+    }\n+\n+    public static String readQuteFile(Path path, String languageName, Map<String, Object> data) throws IOException {\n+        final String content = new String(Files.readAllBytes(path), StandardCharsets.UTF_8);\n+        final Engine engine = Engine.builder().addDefaults()\n+                .addResultMapper(new MissingValueMapper())\n+                .removeStandaloneLines(true)\n+                .addLocator(id -> findIncludeTemplate(path, languageName, id).map(IncludeTemplateLocation::new))\n+                .build();\n+        try {\n+            return engine.parse(content).render(data);\n+        } catch (TemplateException e) {\n+            throw new IOException(\"Error while rendering template: \" + path.toString(), e);\n+        }\n+    }\n+\n+    private static Optional<Path> findIncludeTemplate(Path path, String languageName, String name) {\n+        // FIXME looking at the parent dir is a bit random\n+        final Path codestartPath = path.getParent().getParent();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjE1ODQyMQ=="}, "originalCommit": {"oid": "88efcc09a2a93208fb603565c5030273727f20cc"}, "originalPosition": 64}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Mjc5NTAxMw==", "bodyText": "This is now fixed", "url": "https://github.com/quarkusio/quarkus/pull/10372#discussion_r462795013", "createdAt": "2020-07-30T07:13:55Z", "author": {"login": "ia3andy"}, "path": "independent-projects/tools/codestarts/src/main/java/io/quarkus/devtools/codestarts/reader/QuteCodestartFileReader.java", "diffHunk": "@@ -0,0 +1,110 @@\n+package io.quarkus.devtools.codestarts.reader;\n+\n+import io.quarkus.devtools.codestarts.CodestartException;\n+import io.quarkus.qute.Engine;\n+import io.quarkus.qute.Expression;\n+import io.quarkus.qute.ResultMapper;\n+import io.quarkus.qute.Results;\n+import io.quarkus.qute.TemplateException;\n+import io.quarkus.qute.TemplateLocator;\n+import io.quarkus.qute.TemplateNode;\n+import io.quarkus.qute.Variant;\n+import java.io.IOException;\n+import java.io.Reader;\n+import java.nio.charset.StandardCharsets;\n+import java.nio.file.Files;\n+import java.nio.file.Path;\n+import java.util.Map;\n+import java.util.Optional;\n+\n+final class QuteCodestartFileReader implements CodestartFileReader {\n+\n+    private static final String FLAG = \".tpl.qute\";\n+    public static final String INCLUDE_QUTE_FLAG = \".include.qute\";\n+\n+    @Override\n+    public boolean matches(String fileName) {\n+        return fileName.contains(FLAG) || fileName.contains(INCLUDE_QUTE_FLAG);\n+    }\n+\n+    @Override\n+    public String cleanFileName(String fileName) {\n+        return fileName.replace(FLAG, \"\");\n+    }\n+\n+    public Optional<String> read(Path sourcePath, String languageName, Map<String, Object> data) throws IOException {\n+        if (sourcePath.getFileName().toString().contains(INCLUDE_QUTE_FLAG)) {\n+            return Optional.empty();\n+        }\n+        return Optional.of(readQuteFile(sourcePath, languageName, data));\n+    }\n+\n+    public static Engine newEngine() {\n+        return Engine.builder().addDefaults()\n+                .addResultMapper(new MissingValueMapper())\n+                .build();\n+    }\n+\n+    public static String readQuteFile(Path path, String languageName, Map<String, Object> data) throws IOException {\n+        final String content = new String(Files.readAllBytes(path), StandardCharsets.UTF_8);\n+        final Engine engine = Engine.builder().addDefaults()\n+                .addResultMapper(new MissingValueMapper())\n+                .removeStandaloneLines(true)\n+                .addLocator(id -> findIncludeTemplate(path, languageName, id).map(IncludeTemplateLocation::new))\n+                .build();\n+        try {\n+            return engine.parse(content).render(data);\n+        } catch (TemplateException e) {\n+            throw new IOException(\"Error while rendering template: \" + path.toString(), e);\n+        }\n+    }\n+\n+    private static Optional<Path> findIncludeTemplate(Path path, String languageName, String name) {\n+        // FIXME looking at the parent dir is a bit random\n+        final Path codestartPath = path.getParent().getParent();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjE1ODQyMQ=="}, "originalCommit": {"oid": "88efcc09a2a93208fb603565c5030273727f20cc"}, "originalPosition": 64}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg4NTM1MzA0OnYy", "diffSide": "RIGHT", "path": "independent-projects/tools/codestarts/src/main/java/io/quarkus/devtools/codestarts/strategy/CodestartFileStrategy.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwOToxODoyM1rOG4v9Dw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwOTo1NToyOVrOG4xSmQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjE1OTExOQ==", "bodyText": "what is this used for ?", "url": "https://github.com/quarkusio/quarkus/pull/10372#discussion_r462159119", "createdAt": "2020-07-29T09:18:23Z", "author": {"login": "maxandersen"}, "path": "independent-projects/tools/codestarts/src/main/java/io/quarkus/devtools/codestarts/strategy/CodestartFileStrategy.java", "diffHunk": "@@ -0,0 +1,31 @@\n+package io.quarkus.devtools.codestarts.strategy;\n+\n+import java.util.Objects;\n+import java.util.function.Predicate;\n+\n+public class CodestartFileStrategy implements Predicate<String> {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "88efcc09a2a93208fb603565c5030273727f20cc"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjE4MTAxNw==", "bodyText": "the strategy defined in the codestart.yml is transformed to a list of CodestartFileStrategy, then we use it to test processed files and find the matching handler.", "url": "https://github.com/quarkusio/quarkus/pull/10372#discussion_r462181017", "createdAt": "2020-07-29T09:55:29Z", "author": {"login": "ia3andy"}, "path": "independent-projects/tools/codestarts/src/main/java/io/quarkus/devtools/codestarts/strategy/CodestartFileStrategy.java", "diffHunk": "@@ -0,0 +1,31 @@\n+package io.quarkus.devtools.codestarts.strategy;\n+\n+import java.util.Objects;\n+import java.util.function.Predicate;\n+\n+public class CodestartFileStrategy implements Predicate<String> {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjE1OTExOQ=="}, "originalCommit": {"oid": "88efcc09a2a93208fb603565c5030273727f20cc"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg4NTM2MTY2OnYy", "diffSide": "RIGHT", "path": "independent-projects/tools/codestarts/src/main/java/io/quarkus/devtools/codestarts/strategy/SmartPomMergeCodestartFileStrategyHandler.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwOToyMDozOFrOG4wCLw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQxMDoxNzoxOVrOG4yB-A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjE2MDQzMQ==", "bodyText": "do we have a usecase for this strategy ? I'm sure there is one i just can't figure one out atm ;)", "url": "https://github.com/quarkusio/quarkus/pull/10372#discussion_r462160431", "createdAt": "2020-07-29T09:20:38Z", "author": {"login": "maxandersen"}, "path": "independent-projects/tools/codestarts/src/main/java/io/quarkus/devtools/codestarts/strategy/SmartPomMergeCodestartFileStrategyHandler.java", "diffHunk": "@@ -0,0 +1,35 @@\n+package io.quarkus.devtools.codestarts.strategy;\n+\n+import io.fabric8.maven.Maven;\n+import io.fabric8.maven.merge.SmartModelMerger;\n+import io.quarkus.devtools.codestarts.reader.CodestartFile;\n+import java.io.IOException;\n+import java.io.StringReader;\n+import java.nio.file.Path;\n+import java.util.List;\n+import java.util.ListIterator;\n+import java.util.Map;\n+import org.apache.maven.model.Model;\n+\n+final class SmartPomMergeCodestartFileStrategyHandler implements CodestartFileStrategyHandler {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "88efcc09a2a93208fb603565c5030273727f20cc"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjE5MzE0NA==", "bodyText": "Yes, thanks to this we could have a Red Hat tooling codestart adding <repositories> for example.", "url": "https://github.com/quarkusio/quarkus/pull/10372#discussion_r462193144", "createdAt": "2020-07-29T10:17:19Z", "author": {"login": "ia3andy"}, "path": "independent-projects/tools/codestarts/src/main/java/io/quarkus/devtools/codestarts/strategy/SmartPomMergeCodestartFileStrategyHandler.java", "diffHunk": "@@ -0,0 +1,35 @@\n+package io.quarkus.devtools.codestarts.strategy;\n+\n+import io.fabric8.maven.Maven;\n+import io.fabric8.maven.merge.SmartModelMerger;\n+import io.quarkus.devtools.codestarts.reader.CodestartFile;\n+import java.io.IOException;\n+import java.io.StringReader;\n+import java.nio.file.Path;\n+import java.util.List;\n+import java.util.ListIterator;\n+import java.util.Map;\n+import org.apache.maven.model.Model;\n+\n+final class SmartPomMergeCodestartFileStrategyHandler implements CodestartFileStrategyHandler {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjE2MDQzMQ=="}, "originalCommit": {"oid": "88efcc09a2a93208fb603565c5030273727f20cc"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg4NTM2ODk3OnYy", "diffSide": "RIGHT", "path": "independent-projects/tools/devtools-common/src/test/resources/dir/some-file.template", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwOToyMjozN1rOG4wGug==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQxMDoxNTo1N1rOG4x_fw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjE2MTU5NA==", "bodyText": "i need to know - what is that generated from ? :)", "url": "https://github.com/quarkusio/quarkus/pull/10372#discussion_r462161594", "createdAt": "2020-07-29T09:22:37Z", "author": {"login": "maxandersen"}, "path": "independent-projects/tools/devtools-common/src/test/resources/dir/some-file.template", "diffHunk": "@@ -0,0 +1,3 @@\n+Humble smack Shirelings tears baby usurper mouthful. Embrace fresh burned oil Wargs regurgitation unheard-of. Brandybucks puppet vines boats familiar prizewinners tunnel leaving riverbank welcome threw 60? Durin's certain washing crawled children? Pouf Dwarvish elected fruity writing. Laughing reserves hinges Barad-dur either troublemakers saw pleased thereof set weren't penny. Hear my voice. Come back to the light. Slight keyhole strong Shirkers 3434 promised?", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "88efcc09a2a93208fb603565c5030273727f20cc"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjE5MjUxMQ==", "bodyText": "This is a Lorem Ipsum but inspired from GoT if I remember right :)", "url": "https://github.com/quarkusio/quarkus/pull/10372#discussion_r462192511", "createdAt": "2020-07-29T10:15:57Z", "author": {"login": "ia3andy"}, "path": "independent-projects/tools/devtools-common/src/test/resources/dir/some-file.template", "diffHunk": "@@ -0,0 +1,3 @@\n+Humble smack Shirelings tears baby usurper mouthful. Embrace fresh burned oil Wargs regurgitation unheard-of. Brandybucks puppet vines boats familiar prizewinners tunnel leaving riverbank welcome threw 60? Durin's certain washing crawled children? Pouf Dwarvish elected fruity writing. Laughing reserves hinges Barad-dur either troublemakers saw pleased thereof set weren't penny. Hear my voice. Come back to the light. Slight keyhole strong Shirkers 3434 promised?", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjE2MTU5NA=="}, "originalCommit": {"oid": "88efcc09a2a93208fb603565c5030273727f20cc"}, "originalPosition": 1}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg4Njc5NTQ5OnYy", "diffSide": "RIGHT", "path": "devtools/platform-descriptor-json/src/main/resources/bundled-codestarts/buildtool/gradle/base/..gitignore", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQxNToyNDo1MVrOG49y7A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQxNTozNDo1M1rOG4-PJw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjM4NTkwMA==", "bodyText": "Is it called ..gitignore? With two dots at the beginning?", "url": "https://github.com/quarkusio/quarkus/pull/10372#discussion_r462385900", "createdAt": "2020-07-29T15:24:51Z", "author": {"login": "aloubyansky"}, "path": "devtools/platform-descriptor-json/src/main/resources/bundled-codestarts/buildtool/gradle/base/..gitignore", "diffHunk": "@@ -0,0 +1,3 @@\n+# Gradle", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a56451d4e39cd064fab627639001bbb4dad3a013"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjM5MzEyNw==", "bodyText": "haha good catch :) I wasn't sure someone would notice. Without this hack, the .gitignore is interpreted by git and also even worst excluded from the jar. This is only required if it's a static file, no need for it when it uses qute: .gitignore.tpl.qute:\nhttps://github.com/ia3andy/quarkus/blob/codestarts-v0/independent-projects/tools/codestarts/src/main/java/io/quarkus/devtools/codestarts/reader/CodestartFileReader.java#L36", "url": "https://github.com/quarkusio/quarkus/pull/10372#discussion_r462393127", "createdAt": "2020-07-29T15:34:53Z", "author": {"login": "ia3andy"}, "path": "devtools/platform-descriptor-json/src/main/resources/bundled-codestarts/buildtool/gradle/base/..gitignore", "diffHunk": "@@ -0,0 +1,3 @@\n+# Gradle", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjM4NTkwMA=="}, "originalCommit": {"oid": "a56451d4e39cd064fab627639001bbb4dad3a013"}, "originalPosition": 1}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2741, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}