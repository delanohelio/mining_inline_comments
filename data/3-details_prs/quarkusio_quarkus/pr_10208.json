{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM4OTg5NzI3", "number": 10208, "title": "Fix issue with primitive id types in Spring Data JPA", "bodyText": "This mainly comes up code in Kotlin where kotlin.Long is converted\nto primitive long.\nRelates to: https://groups.google.com/forum/?utm_medium=email&utm_source=footer#!msg/quarkus-dev/Qfmx6ftUdgo/HPYrbQkhCgAJ", "createdAt": "2020-06-24T06:23:05Z", "url": "https://github.com/quarkusio/quarkus/pull/10208", "merged": true, "mergeCommit": {"oid": "070844543f4e0dfc8a4bcd504181bd6f2d609331"}, "closed": true, "closedAt": "2020-06-24T11:38:12Z", "author": {"login": "geoand"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcuT-H5gH2gAyNDM4OTg5NzI3OjNlNGM1OWNmMWY1YTMzMDdhNmJlNDNkZjlmZjljODgwYTNlN2Y4Mzk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcuYe7TAFqTQzNjU2NDI2OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "3e4c59cf1f5a3307a6be43df9ff9c880a3e7f839", "author": {"user": {"login": "geoand", "name": "Georgios Andrianakis"}}, "url": "https://github.com/quarkusio/quarkus/commit/3e4c59cf1f5a3307a6be43df9ff9c880a3e7f839", "committedDate": "2020-06-24T06:22:39Z", "message": "Fix issue with primitive types in Spring Data JPA\n\nThis mainly comes up in Kotlin where kotlin.Long is converted\nto primitive long"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM2NDczOTkz", "url": "https://github.com/quarkusio/quarkus/pull/10208#pullrequestreview-436473993", "createdAt": "2020-06-24T09:22:45Z", "commit": {"oid": "3e4c59cf1f5a3307a6be43df9ff9c880a3e7f839"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNFQwOToyMjo0NVrOGoKIhQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNFQwOToyMjo0NVrOGoKIhQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDc2MjI0NQ==", "bodyText": "Why this cast?", "url": "https://github.com/quarkusio/quarkus/pull/10208#discussion_r444762245", "createdAt": "2020-06-24T09:22:45Z", "author": {"login": "gsmet"}, "path": "extensions/spring-data-jpa/deployment/src/main/java/io/quarkus/spring/data/deployment/generate/StockMethodsAdder.java", "diffHunk": "@@ -134,6 +134,13 @@ private void generateSave(ClassCreator classCreator, FieldDescriptor entityClass\n                     BytecodeCreator idValueUnset;\n                     BytecodeCreator idValueSet;\n                     if (idType instanceof PrimitiveType) {\n+                        if (!idType.name().equals(DotNames.PRIMITIVE_LONG)\n+                                && !idType.name().equals(DotNames.PRIMITIVE_INTEGER)) {\n+                            throw new IllegalArgumentException(\"Id type of '\" + entityDotName + \"' is invalid.\");\n+                        }\n+                        if (idType.name().equals(DotNames.PRIMITIVE_LONG)) {\n+                            idValue = save.checkCast(idValue, int.class);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3e4c59cf1f5a3307a6be43df9ff9c880a3e7f839"}, "originalPosition": 9}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM2NTY0MjY4", "url": "https://github.com/quarkusio/quarkus/pull/10208#pullrequestreview-436564268", "createdAt": "2020-06-24T11:38:06Z", "commit": {"oid": "3e4c59cf1f5a3307a6be43df9ff9c880a3e7f839"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4298, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}