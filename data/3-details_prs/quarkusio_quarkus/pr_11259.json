{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY0MTAzMjIx", "number": 11259, "title": "Fixing version range to support backward compatibility", "bodyText": "", "createdAt": "2020-08-06T15:33:14Z", "url": "https://github.com/quarkusio/quarkus/pull/11259", "merged": true, "mergeCommit": {"oid": "79f4779b908f32a70ac5888ec6681d0597ac6243"}, "closed": true, "closedAt": "2020-08-07T11:10:23Z", "author": {"login": "Garima829"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc8RqOrgFqTQ2MjYzNjk5NQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABc8iHsjgFqTQ2MzIxNTkyNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYyNjM2OTk1", "url": "https://github.com/quarkusio/quarkus/pull/11259#pullrequestreview-462636995", "createdAt": "2020-08-06T15:35:59Z", "commit": {"oid": "8b4579c57f044aeb5adf88706209070d2ffd899d"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxNTozNTo1OVrOG85ACA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxNTozNTo1OVrOG85ACA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjUwMTY0MA==", "bodyText": "Use .equals() instead of ==", "url": "https://github.com/quarkusio/quarkus/pull/11259#discussion_r466501640", "createdAt": "2020-08-06T15:35:59Z", "author": {"login": "gastaldi"}, "path": "devtools/maven/src/main/java/io/quarkus/maven/CreateUtils.java", "diffHunk": "@@ -81,6 +82,14 @@ static QuarkusPlatformDescriptor resolvePlatformDescriptor(final String bomGroup\n             version = resolvePluginInfo(CreateUtils.class).getVersion();\n         }\n \n+        if((bomGroupId==null && bomArtifactId==null && bomVersion==null) || bomArtifactId==\"quarkus-universe-bom\"){", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8b4579c57f044aeb5adf88706209070d2ffd899d"}, "originalPosition": 12}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYyNjM5Mzc4", "url": "https://github.com/quarkusio/quarkus/pull/11259#pullrequestreview-462639378", "createdAt": "2020-08-06T15:38:33Z", "commit": {"oid": "8b4579c57f044aeb5adf88706209070d2ffd899d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxNTozODozNFrOG85HTQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxNTozODozNFrOG85HTQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjUwMzUwMQ==", "bodyText": "It should be -SNAPSHOT", "url": "https://github.com/quarkusio/quarkus/pull/11259#discussion_r466503501", "createdAt": "2020-08-06T15:38:34Z", "author": {"login": "gastaldi"}, "path": "devtools/maven/src/main/java/io/quarkus/maven/CreateUtils.java", "diffHunk": "@@ -81,6 +82,14 @@ static QuarkusPlatformDescriptor resolvePlatformDescriptor(final String bomGroup\n             version = resolvePluginInfo(CreateUtils.class).getVersion();\n         }\n \n+        if((bomGroupId==null && bomArtifactId==null && bomVersion==null) || bomArtifactId==\"quarkus-universe-bom\"){\n+            String baseVersion = resolvePluginInfo(CreateUtils.class).getVersion();\n+            DefaultArtifactVersion pluginVersion= new DefaultArtifactVersion(baseVersion);\n+            int majorVer=pluginVersion.getMajorVersion();\n+            int minorVer=pluginVersion.getMinorVersion();\n+            version = \"[\" + majorVer + \".\" + minorVer + \"-snapshot, \" + majorVer + \".\" + (minorVer + 1) + \")\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8b4579c57f044aeb5adf88706209070d2ffd899d"}, "originalPosition": 17}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8b4579c57f044aeb5adf88706209070d2ffd899d", "author": {"user": null}, "url": "https://github.com/quarkusio/quarkus/commit/8b4579c57f044aeb5adf88706209070d2ffd899d", "committedDate": "2020-08-06T12:31:55Z", "message": "Include offline mode too"}, "afterCommit": {"oid": "b8561f6bf44d3965b33b0aad3154012e86c099e8", "author": {"user": null}, "url": "https://github.com/quarkusio/quarkus/commit/b8561f6bf44d3965b33b0aad3154012e86c099e8", "committedDate": "2020-08-06T17:07:57Z", "message": "Modified if condition"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYyODc4MjQ4", "url": "https://github.com/quarkusio/quarkus/pull/11259#pullrequestreview-462878248", "createdAt": "2020-08-06T21:08:34Z", "commit": {"oid": "b8561f6bf44d3965b33b0aad3154012e86c099e8"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQyMTowODozNFrOG9EVqQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQyMTowODozNFrOG9EVqQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjY4NzQwMQ==", "bodyText": "Looks good. Now, given that the outer if is checking the version for null, we can be sure that the version will be null inside its block. So you don't have to be checking it again in the nested ifs.", "url": "https://github.com/quarkusio/quarkus/pull/11259#discussion_r466687401", "createdAt": "2020-08-06T21:08:34Z", "author": {"login": "aloubyansky"}, "path": "devtools/maven/src/main/java/io/quarkus/maven/CreateUtils.java", "diffHunk": "@@ -76,9 +77,18 @@ static QuarkusPlatformDescriptor resolvePlatformDescriptor(final String bomGroup\n         String artifactId = StringUtils.defaultIfBlank(bomArtifactId, null);\n         String version = StringUtils.defaultIfBlank(bomVersion, null);\n \n-        if (CreateUtils.QUARKUS_CORE_BOM_ARTIFACT_ID.equals(artifactId)\n-                && version == null) {\n-            version = resolvePluginInfo(CreateUtils.class).getVersion();\n+        if (version == null) {\n+            if (CreateUtils.QUARKUS_CORE_BOM_ARTIFACT_ID.equals(artifactId)) {\n+                version = resolvePluginInfo(CreateUtils.class).getVersion();\n+            } else if ((groupId == null && artifactId == null && version == null)\n+                    || (\"quarkus-universe-bom\".equals(artifactId) && version == null)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b8561f6bf44d3965b33b0aad3154012e86c099e8"}, "originalPosition": 19}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "267b64e3984554af7d5e5d234e8ecc95292e6793", "author": {"user": null}, "url": "https://github.com/quarkusio/quarkus/commit/267b64e3984554af7d5e5d234e8ecc95292e6793", "committedDate": "2020-08-07T06:04:47Z", "message": "Removed extra version checks"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b8561f6bf44d3965b33b0aad3154012e86c099e8", "author": {"user": null}, "url": "https://github.com/quarkusio/quarkus/commit/b8561f6bf44d3965b33b0aad3154012e86c099e8", "committedDate": "2020-08-06T17:07:57Z", "message": "Modified if condition"}, "afterCommit": {"oid": "267b64e3984554af7d5e5d234e8ecc95292e6793", "author": {"user": null}, "url": "https://github.com/quarkusio/quarkus/commit/267b64e3984554af7d5e5d234e8ecc95292e6793", "committedDate": "2020-08-07T06:04:47Z", "message": "Removed extra version checks"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYzMjE0Njc5", "url": "https://github.com/quarkusio/quarkus/pull/11259#pullrequestreview-463214679", "createdAt": "2020-08-07T10:44:17Z", "commit": {"oid": "267b64e3984554af7d5e5d234e8ecc95292e6793"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYzMjE1OTI2", "url": "https://github.com/quarkusio/quarkus/pull/11259#pullrequestreview-463215926", "createdAt": "2020-08-07T10:46:43Z", "commit": {"oid": "267b64e3984554af7d5e5d234e8ecc95292e6793"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 933, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}