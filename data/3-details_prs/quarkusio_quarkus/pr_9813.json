{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI4MjQ3NDkz", "number": 9813, "title": "Fast jar performance improvements", "bodyText": "", "createdAt": "2020-06-05T06:22:30Z", "url": "https://github.com/quarkusio/quarkus/pull/9813", "merged": true, "mergeCommit": {"oid": "b89fabe16ce26437865fd34eca495e4a2be199f6"}, "closed": true, "closedAt": "2020-06-11T05:30:55Z", "author": {"login": "stuartwdouglas"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcoNQT1AFqTQyNTA0NjQ5Ng==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcqHSnNAFqTQyODU5OTUxOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI1MDQ2NDk2", "url": "https://github.com/quarkusio/quarkus/pull/9813#pullrequestreview-425046496", "createdAt": "2020-06-05T07:09:37Z", "commit": {"oid": "15ba22151378a124e797ab8fbef7e1ee3cf97a81"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNVQwNzowOTozN1rOGfi0lQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNVQwNzowOTozN1rOGfi0lQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTcyOTU1Nw==", "bodyText": "How weird...", "url": "https://github.com/quarkusio/quarkus/pull/9813#discussion_r435729557", "createdAt": "2020-06-05T07:09:37Z", "author": {"login": "geoand"}, "path": "independent-projects/bootstrap/runner/src/main/java/io/quarkus/bootstrap/runner/SerializedApplication.java", "diffHunk": "@@ -152,6 +168,24 @@ private static void writeJar(DataOutputStream out, Path jar) throws IOException\n         }\n     }\n \n+    private static void collectPackages(Path jar, Set<String> dirs) throws IOException {\n+        try (JarFile zip = new JarFile(jar.toFile())) {\n+            Enumeration<? extends ZipEntry> entries = zip.entries();\n+            while (entries.hasMoreElements()) {\n+                ZipEntry entry = entries.nextElement();\n+                if (!entry.isDirectory()) {\n+                    //some jars don't have correct directory entries\n+                    //so we look at the file paths instead\n+                    //looking at you h2", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "15ba22151378a124e797ab8fbef7e1ee3cf97a81"}, "originalPosition": 60}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "15ba22151378a124e797ab8fbef7e1ee3cf97a81", "author": {"user": {"login": "stuartwdouglas", "name": "Stuart Douglas"}}, "url": "https://github.com/quarkusio/quarkus/commit/15ba22151378a124e797ab8fbef7e1ee3cf97a81", "committedDate": "2020-06-05T06:18:41Z", "message": "Fast jar performmance improvements"}, "afterCommit": {"oid": "cecaab2025cc1216916c9529f3c2e05e6aa22a90", "author": {"user": {"login": "stuartwdouglas", "name": "Stuart Douglas"}}, "url": "https://github.com/quarkusio/quarkus/commit/cecaab2025cc1216916c9529f3c2e05e6aa22a90", "committedDate": "2020-06-09T01:26:22Z", "message": "Fast jar performmance improvements"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "cecaab2025cc1216916c9529f3c2e05e6aa22a90", "author": {"user": {"login": "stuartwdouglas", "name": "Stuart Douglas"}}, "url": "https://github.com/quarkusio/quarkus/commit/cecaab2025cc1216916c9529f3c2e05e6aa22a90", "committedDate": "2020-06-09T01:26:22Z", "message": "Fast jar performmance improvements"}, "afterCommit": {"oid": "5229b95e79f15360b38432b60b8073ea1b67a784", "author": {"user": {"login": "stuartwdouglas", "name": "Stuart Douglas"}}, "url": "https://github.com/quarkusio/quarkus/commit/5229b95e79f15360b38432b60b8073ea1b67a784", "committedDate": "2020-06-09T05:43:20Z", "message": "Fast jar performmance improvements"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5229b95e79f15360b38432b60b8073ea1b67a784", "author": {"user": {"login": "stuartwdouglas", "name": "Stuart Douglas"}}, "url": "https://github.com/quarkusio/quarkus/commit/5229b95e79f15360b38432b60b8073ea1b67a784", "committedDate": "2020-06-09T05:43:20Z", "message": "Fast jar performmance improvements"}, "afterCommit": {"oid": "d579c23c68e9bd9b56752cf05f0f3551267b5e8f", "author": {"user": {"login": "stuartwdouglas", "name": "Stuart Douglas"}}, "url": "https://github.com/quarkusio/quarkus/commit/d579c23c68e9bd9b56752cf05f0f3551267b5e8f", "committedDate": "2020-06-10T01:52:52Z", "message": "Fast jar performmance improvements"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "61ab24825a669352f3527a2ad8844aa76eb8f7b0", "author": {"user": {"login": "stuartwdouglas", "name": "Stuart Douglas"}}, "url": "https://github.com/quarkusio/quarkus/commit/61ab24825a669352f3527a2ad8844aa76eb8f7b0", "committedDate": "2020-06-10T02:13:40Z", "message": "Fast jar performmance improvements"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d579c23c68e9bd9b56752cf05f0f3551267b5e8f", "author": {"user": {"login": "stuartwdouglas", "name": "Stuart Douglas"}}, "url": "https://github.com/quarkusio/quarkus/commit/d579c23c68e9bd9b56752cf05f0f3551267b5e8f", "committedDate": "2020-06-10T01:52:52Z", "message": "Fast jar performmance improvements"}, "afterCommit": {"oid": "61ab24825a669352f3527a2ad8844aa76eb8f7b0", "author": {"user": {"login": "stuartwdouglas", "name": "Stuart Douglas"}}, "url": "https://github.com/quarkusio/quarkus/commit/61ab24825a669352f3527a2ad8844aa76eb8f7b0", "committedDate": "2020-06-10T02:13:40Z", "message": "Fast jar performmance improvements"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI4NTk5NTE5", "url": "https://github.com/quarkusio/quarkus/pull/9813#pullrequestreview-428599519", "createdAt": "2020-06-11T05:20:34Z", "commit": {"oid": "61ab24825a669352f3527a2ad8844aa76eb8f7b0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3147, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}