{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ2MDk4MDU0", "number": 10556, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOFQwOTo0MToxM1rOEMaWjQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOFQwOTo0OToxMlrOEMah1w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgxNDUwMTI1OnYy", "diffSide": "LEFT", "path": "independent-projects/bootstrap/maven-resolver/src/test/java/io/quarkus/bootstrap/workspace/test/LocalWorkspaceDiscoveryTest.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOFQwOTo0MToxM1rOGugRQQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOFQwOTo0NjoyNFrOGugcow==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTQxNjM4NQ==", "bodyText": "Can you please explain the rationale around the removal of these assertions?", "url": "https://github.com/quarkusio/quarkus/pull/10556#discussion_r451416385", "createdAt": "2020-07-08T09:41:13Z", "author": {"login": "geoand"}, "path": "independent-projects/bootstrap/maven-resolver/src/test/java/io/quarkus/bootstrap/workspace/test/LocalWorkspaceDiscoveryTest.java", "diffHunk": "@@ -128,8 +127,6 @@ public void loadIndependentProjectInTheWorkspaceTree() throws Exception {\n         final Map<AppArtifactKey, LocalProject> projects = project.getWorkspace().getProjects();\n         assertEquals(6, projects.size());\n         assertTrue(projects.containsKey(new AppArtifactKey(MvnProjectBuilder.DEFAULT_GROUP_ID, \"independent\")));\n-\n-        assertLocalDeps(project, \"root-module-not-direct-child\", \"root-no-parent-module\", \"root-module-with-parent\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8b4873a078690ef85650d500c6ed6dba7f05750d"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTQxODY4Nw==", "bodyText": "I removed LocalProject.getSelfWithLocalDeps() method because it did not return a complete set of dependencies and was only used in DevMojo.", "url": "https://github.com/quarkusio/quarkus/pull/10556#discussion_r451418687", "createdAt": "2020-07-08T09:45:18Z", "author": {"login": "aloubyansky"}, "path": "independent-projects/bootstrap/maven-resolver/src/test/java/io/quarkus/bootstrap/workspace/test/LocalWorkspaceDiscoveryTest.java", "diffHunk": "@@ -128,8 +127,6 @@ public void loadIndependentProjectInTheWorkspaceTree() throws Exception {\n         final Map<AppArtifactKey, LocalProject> projects = project.getWorkspace().getProjects();\n         assertEquals(6, projects.size());\n         assertTrue(projects.containsKey(new AppArtifactKey(MvnProjectBuilder.DEFAULT_GROUP_ID, \"independent\")));\n-\n-        assertLocalDeps(project, \"root-module-not-direct-child\", \"root-no-parent-module\", \"root-module-with-parent\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTQxNjM4NQ=="}, "originalCommit": {"oid": "8b4873a078690ef85650d500c6ed6dba7f05750d"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTQxOTI5OQ==", "bodyText": "Gotcha, thanks", "url": "https://github.com/quarkusio/quarkus/pull/10556#discussion_r451419299", "createdAt": "2020-07-08T09:46:24Z", "author": {"login": "geoand"}, "path": "independent-projects/bootstrap/maven-resolver/src/test/java/io/quarkus/bootstrap/workspace/test/LocalWorkspaceDiscoveryTest.java", "diffHunk": "@@ -128,8 +127,6 @@ public void loadIndependentProjectInTheWorkspaceTree() throws Exception {\n         final Map<AppArtifactKey, LocalProject> projects = project.getWorkspace().getProjects();\n         assertEquals(6, projects.size());\n         assertTrue(projects.containsKey(new AppArtifactKey(MvnProjectBuilder.DEFAULT_GROUP_ID, \"independent\")));\n-\n-        assertLocalDeps(project, \"root-module-not-direct-child\", \"root-no-parent-module\", \"root-module-with-parent\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTQxNjM4NQ=="}, "originalCommit": {"oid": "8b4873a078690ef85650d500c6ed6dba7f05750d"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgxNDUzMDE1OnYy", "diffSide": "RIGHT", "path": "integration-tests/maven/src/test/java/io/quarkus/maven/it/DevMojoIT.java", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOFQwOTo0OToxMlrOGugjHg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOFQxMDoyMjo1M1rOGuhqlw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTQyMDk1OA==", "bodyText": "Should we also be asserting the response of /hello-0?", "url": "https://github.com/quarkusio/quarkus/pull/10556#discussion_r451420958", "createdAt": "2020-07-08T09:49:12Z", "author": {"login": "geoand"}, "path": "integration-tests/maven/src/test/java/io/quarkus/maven/it/DevMojoIT.java", "diffHunk": "@@ -814,4 +814,10 @@ public void testResourcesFromClasspath() throws MavenInvocationException, IOExce\n         // test that we don't get multiple instances of a resource when loading from the ClassLoader\n         assertThat(DevModeTestUtils.getHttpResponse(\"/cp/resourcesCount\")).isEqualTo(\"1\");\n     }\n+\n+    @Test\n+    public void testThatDependencyInParentIsEvaluated() throws IOException, MavenInvocationException {\n+        testDir = initProject(\"projects/multimodule-parent-dep\");\n+        runAndCheck();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8b4873a078690ef85650d500c6ed6dba7f05750d"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTQyODEzOA==", "bodyText": "We could. I don't see anything special about it though. @famod wdyt?", "url": "https://github.com/quarkusio/quarkus/pull/10556#discussion_r451428138", "createdAt": "2020-07-08T10:01:55Z", "author": {"login": "aloubyansky"}, "path": "integration-tests/maven/src/test/java/io/quarkus/maven/it/DevMojoIT.java", "diffHunk": "@@ -814,4 +814,10 @@ public void testResourcesFromClasspath() throws MavenInvocationException, IOExce\n         // test that we don't get multiple instances of a resource when loading from the ClassLoader\n         assertThat(DevModeTestUtils.getHttpResponse(\"/cp/resourcesCount\")).isEqualTo(\"1\");\n     }\n+\n+    @Test\n+    public void testThatDependencyInParentIsEvaluated() throws IOException, MavenInvocationException {\n+        testDir = initProject(\"projects/multimodule-parent-dep\");\n+        runAndCheck();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTQyMDk1OA=="}, "originalCommit": {"oid": "8b4873a078690ef85650d500c6ed6dba7f05750d"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTQzODg4Mg==", "bodyText": "It was special before this fix. After this fix both paths should behave the same.\nI don't think /hello-0 would ever break individually in the future (/hello would then break as well, I suppose).\nLong story short: I 'd leave it this way.", "url": "https://github.com/quarkusio/quarkus/pull/10556#discussion_r451438882", "createdAt": "2020-07-08T10:22:15Z", "author": {"login": "famod"}, "path": "integration-tests/maven/src/test/java/io/quarkus/maven/it/DevMojoIT.java", "diffHunk": "@@ -814,4 +814,10 @@ public void testResourcesFromClasspath() throws MavenInvocationException, IOExce\n         // test that we don't get multiple instances of a resource when loading from the ClassLoader\n         assertThat(DevModeTestUtils.getHttpResponse(\"/cp/resourcesCount\")).isEqualTo(\"1\");\n     }\n+\n+    @Test\n+    public void testThatDependencyInParentIsEvaluated() throws IOException, MavenInvocationException {\n+        testDir = initProject(\"projects/multimodule-parent-dep\");\n+        runAndCheck();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTQyMDk1OA=="}, "originalCommit": {"oid": "8b4873a078690ef85650d500c6ed6dba7f05750d"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTQzOTI1NQ==", "bodyText": "OK, thanks", "url": "https://github.com/quarkusio/quarkus/pull/10556#discussion_r451439255", "createdAt": "2020-07-08T10:22:53Z", "author": {"login": "geoand"}, "path": "integration-tests/maven/src/test/java/io/quarkus/maven/it/DevMojoIT.java", "diffHunk": "@@ -814,4 +814,10 @@ public void testResourcesFromClasspath() throws MavenInvocationException, IOExce\n         // test that we don't get multiple instances of a resource when loading from the ClassLoader\n         assertThat(DevModeTestUtils.getHttpResponse(\"/cp/resourcesCount\")).isEqualTo(\"1\");\n     }\n+\n+    @Test\n+    public void testThatDependencyInParentIsEvaluated() throws IOException, MavenInvocationException {\n+        testDir = initProject(\"projects/multimodule-parent-dep\");\n+        runAndCheck();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTQyMDk1OA=="}, "originalCommit": {"oid": "8b4873a078690ef85650d500c6ed6dba7f05750d"}, "originalPosition": 8}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2610, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}