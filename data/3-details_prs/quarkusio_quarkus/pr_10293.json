{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQwNDI3ODU5", "number": 10293, "title": "Gcp HTTP functions improvements", "bodyText": "Small enhancement to the Google Cloud Functions HTTP bindings:\n\nAdd a test (on the RESTEasy layer, not using the Function invoker)\nSet the extension as exeprimental (as the other ones)\nPackaging improvements", "createdAt": "2020-06-26T07:29:25Z", "url": "https://github.com/quarkusio/quarkus/pull/10293", "merged": true, "mergeCommit": {"oid": "28108527fc5d67d3740534e5e72bd446232cd502"}, "closed": true, "closedAt": "2020-06-28T16:40:47Z", "author": {"login": "loicmathieu"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcvBGu_gFqTQzODIwMjEwNg==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcvD5kTgFqTQzODMzMDM5OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM4MjAyMTA2", "url": "https://github.com/quarkusio/quarkus/pull/10293#pullrequestreview-438202106", "createdAt": "2020-06-26T10:56:37Z", "commit": {"oid": "5da0f92149e16cf289e005b4d99452436e98e1d6"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNlQxMDo1NjozN1rOGpcoxA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNlQxMDo1NzowNVrOGpcphA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjExMzk4OA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            The result of the previous command is a single JAR file inside the `target/deployment` repository that contains classes and dependencies of the project.\n          \n          \n            \n            The result of the previous command is a single JAR file inside the `target/deployment` directory that contains the classes and the dependencies of the project.", "url": "https://github.com/quarkusio/quarkus/pull/10293#discussion_r446113988", "createdAt": "2020-06-26T10:56:37Z", "author": {"login": "gsmet"}, "path": "docs/src/main/asciidoc/gcp-functions-http.adoc", "diffHunk": "@@ -140,33 +142,18 @@ public class GreetingRoutes {\n \n == Build and Deploy to Google Cloud\n \n-To build your application, you first need to define a packaging of type `uber-jar` via your `application.properties`.\n-\n-[source]\n-----\n-quarkus.package.uber-jar=true\n-----\n+NOTE: Quarkus forces a packaging of type `uber-jar` for your function as Google Cloud Function deployment requires a single JAR.\n \n Package your application using the standard `mvn clean package` command.\n-The result of the previous command is a single JAR file inside the `target` repository that contains classes and dependencies of the project.\n-\n-To deploy your JAR to Google Cloud, you need to pass a directory with only this JAR inside it, to the `gcloud` utility.\n-\n-So first, create a `deployment` directory and copy the generated artifact inside it.\n-\n-[source]\n-----\n-mkdir deployment\n-cp target/google-cloud-functions-http-1.0-SNAPSHOT-runner.jar deployment/\n-----\n+The result of the previous command is a single JAR file inside the `target/deployment` repository that contains classes and dependencies of the project.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5da0f92149e16cf289e005b4d99452436e98e1d6"}, "originalPosition": 42}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjExNDE4MA==", "bodyText": "just to be sure, it's normal it's a \\ and not a /?", "url": "https://github.com/quarkusio/quarkus/pull/10293#discussion_r446114180", "createdAt": "2020-06-26T10:57:05Z", "author": {"login": "gsmet"}, "path": "docs/src/main/asciidoc/gcp-functions-http.adoc", "diffHunk": "@@ -140,33 +142,18 @@ public class GreetingRoutes {\n \n == Build and Deploy to Google Cloud\n \n-To build your application, you first need to define a packaging of type `uber-jar` via your `application.properties`.\n-\n-[source]\n-----\n-quarkus.package.uber-jar=true\n-----\n+NOTE: Quarkus forces a packaging of type `uber-jar` for your function as Google Cloud Function deployment requires a single JAR.\n \n Package your application using the standard `mvn clean package` command.\n-The result of the previous command is a single JAR file inside the `target` repository that contains classes and dependencies of the project.\n-\n-To deploy your JAR to Google Cloud, you need to pass a directory with only this JAR inside it, to the `gcloud` utility.\n-\n-So first, create a `deployment` directory and copy the generated artifact inside it.\n-\n-[source]\n-----\n-mkdir deployment\n-cp target/google-cloud-functions-http-1.0-SNAPSHOT-runner.jar deployment/\n-----\n+The result of the previous command is a single JAR file inside the `target/deployment` repository that contains classes and dependencies of the project.\n \n Then you will be able to use `gcloud` to deploy your function to Google Cloud.\n \n [source]\n ----\n gcloud beta functions deploy quarkus-example-http \\\n   --entry-point=io.quarkus.gcp.functions.http.QuarkusHttpFunction \\\n-  --runtime=java11 --trigger-http --source=deployment\n+  --runtime=java11 --trigger-http --source=target\\deployment", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5da0f92149e16cf289e005b4d99452436e98e1d6"}, "originalPosition": 51}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b14c11fbdb05c6964a697990e846b33c55378cc4", "author": {"user": {"login": "loicmathieu", "name": "Lo\u00efc Mathieu"}}, "url": "https://github.com/quarkusio/quarkus/commit/b14c11fbdb05c6964a697990e846b33c55378cc4", "committedDate": "2020-06-26T12:47:33Z", "message": "Set the extension experimental"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d7452a0689e3b933ec022e289257e277b5ba0b8e", "author": {"user": {"login": "loicmathieu", "name": "Lo\u00efc Mathieu"}}, "url": "https://github.com/quarkusio/quarkus/commit/d7452a0689e3b933ec022e289257e277b5ba0b8e", "committedDate": "2020-06-26T12:47:33Z", "message": "Add a test\n\nIt uses Quarkus Vert.x instead of a function invoker so it is not testing the Functon infrastructure."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "66a349a79e1921c8a18b69a45f35258bf3c84f5b", "author": {"user": {"login": "loicmathieu", "name": "Lo\u00efc Mathieu"}}, "url": "https://github.com/quarkusio/quarkus/commit/66a349a79e1921c8a18b69a45f35258bf3c84f5b", "committedDate": "2020-06-26T12:48:21Z", "message": "Packaging improvement"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "45e2115b06d26464f273b9f9a920fe530440ab33", "author": {"user": {"login": "loicmathieu", "name": "Lo\u00efc Mathieu"}}, "url": "https://github.com/quarkusio/quarkus/commit/45e2115b06d26464f273b9f9a920fe530440ab33", "committedDate": "2020-06-26T11:39:45Z", "message": "WIP Apply suggestions from code review\n\nCo-authored-by: Guillaume Smet <guillaume.smet@gmail.com>"}, "afterCommit": {"oid": "66a349a79e1921c8a18b69a45f35258bf3c84f5b", "author": {"user": {"login": "loicmathieu", "name": "Lo\u00efc Mathieu"}}, "url": "https://github.com/quarkusio/quarkus/commit/66a349a79e1921c8a18b69a45f35258bf3c84f5b", "committedDate": "2020-06-26T12:48:21Z", "message": "Packaging improvement"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM4MzMwMzk5", "url": "https://github.com/quarkusio/quarkus/pull/10293#pullrequestreview-438330399", "createdAt": "2020-06-26T14:13:07Z", "commit": {"oid": "66a349a79e1921c8a18b69a45f35258bf3c84f5b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3728, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}