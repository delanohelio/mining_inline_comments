{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc5MTM2NTYw", "number": 11873, "title": "Fix Kotlin integration in the Gradle plugin", "bodyText": "Fixes #11867", "createdAt": "2020-09-04T00:38:24Z", "url": "https://github.com/quarkusio/quarkus/pull/11873", "merged": true, "mergeCommit": {"oid": "9f62d0dab8a538ba4634ebd032b59c99e53d52dc"}, "closed": true, "closedAt": "2020-09-04T16:03:25Z", "author": {"login": "gastaldi"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdFaPNWABqjM3MjczMzU5MDQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdFlQOcABqjM3Mjk3NzcwNzI=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "78011d100b469f9a5179e0edde3b82f088dd7c89", "author": {"user": {"login": "gastaldi", "name": "George Gastaldi"}}, "url": "https://github.com/quarkusio/quarkus/commit/78011d100b469f9a5179e0edde3b82f088dd7c89", "committedDate": "2020-09-04T00:38:00Z", "message": "Fix Kotlin integration in the Gradle plugin\n\nFixes #11867"}, "afterCommit": {"oid": "ed5fe0ca548667f48fb468c7eb3c6f77b74be796", "author": {"user": {"login": "gastaldi", "name": "George Gastaldi"}}, "url": "https://github.com/quarkusio/quarkus/commit/ed5fe0ca548667f48fb468c7eb3c6f77b74be796", "committedDate": "2020-09-04T00:40:51Z", "message": "Fix Kotlin integration in the Gradle plugin\n\nFixes #11867"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ed5fe0ca548667f48fb468c7eb3c6f77b74be796", "author": {"user": {"login": "gastaldi", "name": "George Gastaldi"}}, "url": "https://github.com/quarkusio/quarkus/commit/ed5fe0ca548667f48fb468c7eb3c6f77b74be796", "committedDate": "2020-09-04T00:40:51Z", "message": "Fix Kotlin integration in the Gradle plugin\n\nFixes #11867"}, "afterCommit": {"oid": "56bca8707f4883a004217216d5f8f859a3e6f4be", "author": {"user": {"login": "gastaldi", "name": "George Gastaldi"}}, "url": "https://github.com/quarkusio/quarkus/commit/56bca8707f4883a004217216d5f8f859a3e6f4be", "committedDate": "2020-09-04T00:44:05Z", "message": "Fix Kotlin integration in the Gradle plugin\n\nFixes #11867"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgyMzk4MTY1", "url": "https://github.com/quarkusio/quarkus/pull/11873#pullrequestreview-482398165", "createdAt": "2020-09-04T06:45:43Z", "commit": {"oid": "56bca8707f4883a004217216d5f8f859a3e6f4be"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNFQwNjo0NTo0M1rOHNBoKQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNFQwNjo0NTo0M1rOHNBoKQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzQyMDIwMQ==", "bodyText": "maybe we should do the same in the kotlin plugin block but I don't know if can add the kotlin.jvm plugin as a project dependency to get the type of compileKoltin task.", "url": "https://github.com/quarkusio/quarkus/pull/11873#discussion_r483420201", "createdAt": "2020-09-04T06:45:43Z", "author": {"login": "glefloch"}, "path": "devtools/gradle/src/main/java/io/quarkus/gradle/QuarkusPlugin.java", "diffHunk": "@@ -139,13 +139,9 @@ public void execute(Task test) {\n                     compileJavaTask.dependsOn(quarkusGenerateCode);\n                     quarkusGenerateCode.setSourceRegistrar(compileJavaTask::source);\n \n-                    Task compileKotlinTask = tasks.findByName(\"compileKotlin\");\n-                    // TODO: proper support of kotlin\n-                    if (compileKotlinTask == null) {\n-                        JavaCompile compileTestJavaTask = (JavaCompile) tasks.getByName(JavaPlugin.COMPILE_TEST_JAVA_TASK_NAME);\n-                        compileTestJavaTask.dependsOn(quarkusGenerateCodeTests);\n-                        quarkusGenerateCodeTests.setSourceRegistrar(compileTestJavaTask::source);\n-                    }\n+                    JavaCompile compileTestJavaTask = (JavaCompile) tasks.getByName(JavaPlugin.COMPILE_TEST_JAVA_TASK_NAME);\n+                    compileTestJavaTask.dependsOn(quarkusGenerateCodeTests);\n+                    quarkusGenerateCodeTests.setSourceRegistrar(compileTestJavaTask::source);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "56bca8707f4883a004217216d5f8f859a3e6f4be"}, "originalPosition": 13}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgyNDE4ODY4", "url": "https://github.com/quarkusio/quarkus/pull/11873#pullrequestreview-482418868", "createdAt": "2020-09-04T07:24:20Z", "commit": {"oid": "56bca8707f4883a004217216d5f8f859a3e6f4be"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8a47f6077f35c19a452aafe935342e19af6e55b0", "author": {"user": {"login": "gastaldi", "name": "George Gastaldi"}}, "url": "https://github.com/quarkusio/quarkus/commit/8a47f6077f35c19a452aafe935342e19af6e55b0", "committedDate": "2020-09-04T13:25:12Z", "message": "Fix Kotlin integration in the Gradle plugin\n\nAdded integration test\n\nFixes #11867"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "56bca8707f4883a004217216d5f8f859a3e6f4be", "author": {"user": {"login": "gastaldi", "name": "George Gastaldi"}}, "url": "https://github.com/quarkusio/quarkus/commit/56bca8707f4883a004217216d5f8f859a3e6f4be", "committedDate": "2020-09-04T00:44:05Z", "message": "Fix Kotlin integration in the Gradle plugin\n\nFixes #11867"}, "afterCommit": {"oid": "8a47f6077f35c19a452aafe935342e19af6e55b0", "author": {"user": {"login": "gastaldi", "name": "George Gastaldi"}}, "url": "https://github.com/quarkusio/quarkus/commit/8a47f6077f35c19a452aafe935342e19af6e55b0", "committedDate": "2020-09-04T13:25:12Z", "message": "Fix Kotlin integration in the Gradle plugin\n\nAdded integration test\n\nFixes #11867"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 696, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}