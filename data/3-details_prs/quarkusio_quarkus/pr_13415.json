{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI1MTU5MTQ5", "number": 13415, "title": "CI: Don't run 'Deploy Snapshots' or 'Release Test Build' in forks", "bodyText": "I'm frequently getting error mails from GH that \"Deploy Snapshots\" or \"Release Test Build\" has failed in my fork due to 401 errors (\"Bad credentials\").\nI don't think those jobs should run at all in forks (no?) and this PR tries to disable them.", "createdAt": "2020-11-21T17:17:57Z", "url": "https://github.com/quarkusio/quarkus/pull/13415", "merged": true, "mergeCommit": {"oid": "9d2ea3a6bfb62c28c3b61f21a15fe56058a4be45"}, "closed": true, "closedAt": "2020-11-22T18:16:01Z", "author": {"login": "famod"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdfCNvDAFqTUzNjA3MjE4Mw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdfErKPgFqTUzNjEwMDEwMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM2MDcyMTgz", "url": "https://github.com/quarkusio/quarkus/pull/13415#pullrequestreview-536072183", "createdAt": "2020-11-22T15:23:37Z", "commit": {"oid": "702b871a15e92b248e3249cf1422c56c1358cd5d"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMlQxNToyMzozOFrOH338_w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMlQxNToyMzozOFrOH338_w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODM1MDQ2Mw==", "bodyText": "Are you sure it will work at this level? I don't see it documented at the top level here: https://docs.github.com/en/free-pro-team@latest/actions/reference/workflow-syntax-for-github-actions\nAs far as I can see in the doc, it needs to be: jobs.<job_id>.if", "url": "https://github.com/quarkusio/quarkus/pull/13415#discussion_r528350463", "createdAt": "2020-11-22T15:23:38Z", "author": {"login": "gsmet"}, "path": ".github/workflows/deploy-snapshots.yml", "diffHunk": "@@ -3,7 +3,7 @@ name: Quarkus Deploy Snapshots\n on:\n   schedule:\n     - cron: '0 2 * * *'\n-\n+if: ${{ github.repository == 'quarkusio/quarkus' }}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "702b871a15e92b248e3249cf1422c56c1358cd5d"}, "originalPosition": 5}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "702b871a15e92b248e3249cf1422c56c1358cd5d", "author": {"user": {"login": "famod", "name": "Falko Modler"}}, "url": "https://github.com/quarkusio/quarkus/commit/702b871a15e92b248e3249cf1422c56c1358cd5d", "committedDate": "2020-11-21T17:13:41Z", "message": "CI: Don't run 'Deploy Snapshots' or 'Release Test Build' in forks"}, "afterCommit": {"oid": "613a8d0b9fa682e03298a4ccb8707e5e41d1e093", "author": {"user": {"login": "famod", "name": "Falko Modler"}}, "url": "https://github.com/quarkusio/quarkus/commit/613a8d0b9fa682e03298a4ccb8707e5e41d1e093", "committedDate": "2020-11-22T18:10:20Z", "message": "CI: Don't run 'Deploy Snapshots' or 'Release Test Build' in forks"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9baa21eb55c2b36caf0446f36fc1cf4a0e8dd08f", "author": {"user": {"login": "famod", "name": "Falko Modler"}}, "url": "https://github.com/quarkusio/quarkus/commit/9baa21eb55c2b36caf0446f36fc1cf4a0e8dd08f", "committedDate": "2020-11-22T18:11:30Z", "message": "CI: Don't run 'Deploy Snapshots' or 'Release Test Build' in forks"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "613a8d0b9fa682e03298a4ccb8707e5e41d1e093", "author": {"user": {"login": "famod", "name": "Falko Modler"}}, "url": "https://github.com/quarkusio/quarkus/commit/613a8d0b9fa682e03298a4ccb8707e5e41d1e093", "committedDate": "2020-11-22T18:10:20Z", "message": "CI: Don't run 'Deploy Snapshots' or 'Release Test Build' in forks"}, "afterCommit": {"oid": "9baa21eb55c2b36caf0446f36fc1cf4a0e8dd08f", "author": {"user": {"login": "famod", "name": "Falko Modler"}}, "url": "https://github.com/quarkusio/quarkus/commit/9baa21eb55c2b36caf0446f36fc1cf4a0e8dd08f", "committedDate": "2020-11-22T18:11:30Z", "message": "CI: Don't run 'Deploy Snapshots' or 'Release Test Build' in forks"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM2MTAwMTAx", "url": "https://github.com/quarkusio/quarkus/pull/13415#pullrequestreview-536100101", "createdAt": "2020-11-22T18:15:39Z", "commit": {"oid": "9baa21eb55c2b36caf0446f36fc1cf4a0e8dd08f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1460, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}