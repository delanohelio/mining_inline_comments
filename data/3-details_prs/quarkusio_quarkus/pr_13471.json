{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI3NTQxNDg2", "number": 13471, "title": "Qute: implement strategies if a property is not found in an expression", "bodyText": "resolves #12933", "createdAt": "2020-11-25T15:53:08Z", "url": "https://github.com/quarkusio/quarkus/pull/13471", "merged": true, "mergeCommit": {"oid": "4f17da34b56b87f740b927884aa385bac3333df5"}, "closed": true, "closedAt": "2020-11-30T19:38:40Z", "author": {"login": "mkouba"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdgAatRgH2gAyNTI3NTQxNDg2OmI0ZjJkOTVkNDBjOWNiNjY2ODVjZjdmODM4NDNlZGQ3N2JkYWM5Mzc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdgSfmSgFqTUzOTI5MDY3Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "b4f2d95d40c9cb66685cf7f83843edd77bdac937", "author": {"user": {"login": "mkouba", "name": "Martin Kouba"}}, "url": "https://github.com/quarkusio/quarkus/commit/b4f2d95d40c9cb66685cf7f83843edd77bdac937", "committedDate": "2020-11-25T15:51:59Z", "message": "Qute: implement strategies if a property is not found in an expression\n\n- resolves #12933"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM5MjM4NjAy", "url": "https://github.com/quarkusio/quarkus/pull/13471#pullrequestreview-539238602", "createdAt": "2020-11-26T11:39:32Z", "commit": {"oid": "b4f2d95d40c9cb66685cf7f83843edd77bdac937"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQxMTozOTozMlrOH6XyEQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQxMTo0MDowOFrOH6XzLA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDk2OTEwNQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            builder.addResultMapper(new PropertyNotFoundOutputExpression());\n          \n          \n            \n                            builder.addResultMapper(new PropertyNotFoundOutputOriginal());", "url": "https://github.com/quarkusio/quarkus/pull/13471#discussion_r530969105", "createdAt": "2020-11-26T11:39:32Z", "author": {"login": "gastaldi"}, "path": "extensions/qute/runtime/src/main/java/io/quarkus/qute/runtime/EngineProducer.java", "diffHunk": "@@ -76,14 +76,30 @@ public EngineProducer(QuteContext context, Event<EngineBuilder> builderReady, Ev\n         builder.addValueResolver(ValueResolvers.logicalAndResolver());\n         builder.addValueResolver(ValueResolvers.logicalOrResolver());\n \n+        // If needed use a specific result mapper for the selected strategy  \n+        switch (runtimeConfig.propertyNotFoundStrategy) {\n+            case THROW_EXCEPTION:\n+                builder.addResultMapper(new PropertyNotFoundThrowException());\n+                break;\n+            case NOOP:\n+                builder.addResultMapper(new PropertyNotFoundNoop());\n+                break;\n+            case OUTPUT_ORIGINAL:\n+                builder.addResultMapper(new PropertyNotFoundOutputExpression());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b4f2d95d40c9cb66685cf7f83843edd77bdac937"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDk2OTM4OA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            class PropertyNotFoundOutputExpression implements ResultMapper {\n          \n          \n            \n            class PropertyNotFoundOutputOriginal implements ResultMapper {", "url": "https://github.com/quarkusio/quarkus/pull/13471#discussion_r530969388", "createdAt": "2020-11-26T11:40:08Z", "author": {"login": "gastaldi"}, "path": "extensions/qute/runtime/src/main/java/io/quarkus/qute/runtime/PropertyNotFoundOutputExpression.java", "diffHunk": "@@ -0,0 +1,25 @@\n+package io.quarkus.qute.runtime;\n+\n+import io.quarkus.qute.Expression;\n+import io.quarkus.qute.ResultMapper;\n+import io.quarkus.qute.Results.Result;\n+import io.quarkus.qute.TemplateNode.Origin;\n+\n+class PropertyNotFoundOutputExpression implements ResultMapper {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b4f2d95d40c9cb66685cf7f83843edd77bdac937"}, "originalPosition": 8}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "be44922458a0eaa8ae4d90771300fda12be2a8a2", "author": {"user": {"login": "mkouba", "name": "Martin Kouba"}}, "url": "https://github.com/quarkusio/quarkus/commit/be44922458a0eaa8ae4d90771300fda12be2a8a2", "committedDate": "2020-11-26T11:50:31Z", "message": "Apply suggestions from code review\n\nCo-authored-by: George Gastaldi <gegastaldi@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM5MjkwNjcy", "url": "https://github.com/quarkusio/quarkus/pull/13471#pullrequestreview-539290672", "createdAt": "2020-11-26T12:55:37Z", "commit": {"oid": "be44922458a0eaa8ae4d90771300fda12be2a8a2"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1294, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}