{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzcxMzA3NDk5", "number": 7002, "title": "Gradle test app model", "bodyText": "This PR fixes a couple of issues in our Gradle plugin.\n\n\nTo pass the resolved application dependencies to Quarkus test extension we serialize the AppModel resolve in QuarkusTestConfig to the test classes directory. The issue is that the file may get removed before the tests are executed as \"stale content\". This issue is currently fixed by saving the serialized AppModel in a temporary directory outside of the project directory tree.\n\n\nWhen AppModel is resolved by the Gradle AppModel resolver only the application compile configuration is taken into account. When running tests however, the test dependencies are missing from the model. This is fixed by making the Gradle AppModel resolver aware of the launch mode the AppModel is intended to be used for.", "createdAt": "2020-02-05T10:55:29Z", "url": "https://github.com/quarkusio/quarkus/pull/7002", "merged": true, "mergeCommit": {"oid": "848134c1a6abc16eaf6e4f4c0e58a4e2b165c94e"}, "closed": true, "closedAt": "2020-02-05T13:54:00Z", "author": {"login": "aloubyansky"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcBUFn5gFqTM1MzYyOTYwOQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcBWg4bAFqTM1MzczMDA1Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUzNjI5NjA5", "url": "https://github.com/quarkusio/quarkus/pull/7002#pullrequestreview-353629609", "createdAt": "2020-02-05T11:00:23Z", "commit": {"oid": "c998775d69525d51b5707b8bc6d86ac40086c8d4"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNVQxMTowMDoyM1rOFlzw3Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNVQxMTowMDoyM1rOFlzw3Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTE4OTcyNQ==", "bodyText": "I wouldn't make it quarkus. prefixed as we might have some warning coming. Better use quarkus-internal. that we already use a few times in the code.", "url": "https://github.com/quarkusio/quarkus/pull/7002#discussion_r375189725", "createdAt": "2020-02-05T11:00:23Z", "author": {"login": "gsmet"}, "path": "independent-projects/bootstrap/core/src/main/java/io/quarkus/bootstrap/BootstrapConstants.java", "diffHunk": "@@ -6,12 +6,12 @@\n  */\n public interface BootstrapConstants {\n \n-    String SERIALIZED_APP_MODEL = \"serialized-app-model.data\";\n+    String SERIALIZED_APP_MODEL = \"quarkus.serialized-app-model.path\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c998775d69525d51b5707b8bc6d86ac40086c8d4"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5f14689194b2523b7f85a32c1fbb1365e14c89d9", "author": {"user": null}, "url": "https://github.com/quarkusio/quarkus/commit/5f14689194b2523b7f85a32c1fbb1365e14c89d9", "committedDate": "2020-02-05T11:10:42Z", "message": "Gradle plugin: move serialized app model out of the test classes dir to avoid it being removed as 'stale content' before the tests are executed"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e83e6ab9801199962efceecf7b1d1a199ebc858a", "author": {"user": null}, "url": "https://github.com/quarkusio/quarkus/commit/e83e6ab9801199962efceecf7b1d1a199ebc858a", "committedDate": "2020-02-05T11:10:43Z", "message": "Gradle plugin: include the test dependencies into the resolved application model when launching in test mode"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a3b8731b834328ae1143a971d23436144ef12839", "author": {"user": null}, "url": "https://github.com/quarkusio/quarkus/commit/a3b8731b834328ae1143a971d23436144ef12839", "committedDate": "2020-02-05T10:46:59Z", "message": "Gradle plugin: include the test dependencies into the resolved application model when launching in test mode"}, "afterCommit": {"oid": "e83e6ab9801199962efceecf7b1d1a199ebc858a", "author": {"user": null}, "url": "https://github.com/quarkusio/quarkus/commit/e83e6ab9801199962efceecf7b1d1a199ebc858a", "committedDate": "2020-02-05T11:10:43Z", "message": "Gradle plugin: include the test dependencies into the resolved application model when launching in test mode"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUzNzMwMDU3", "url": "https://github.com/quarkusio/quarkus/pull/7002#pullrequestreview-353730057", "createdAt": "2020-02-05T13:53:50Z", "commit": {"oid": "e83e6ab9801199962efceecf7b1d1a199ebc858a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 74, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}