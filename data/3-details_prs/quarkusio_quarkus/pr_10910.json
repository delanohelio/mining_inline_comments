{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU1MjA1ODAy", "number": 10910, "title": "Enforce jar packaging by default in BuildMojo", "bodyText": "Fixes #10807", "createdAt": "2020-07-22T15:51:53Z", "url": "https://github.com/quarkusio/quarkus/pull/10910", "merged": true, "mergeCommit": {"oid": "4d45a662bf6a527316f7a8fbe6507b45d7634a1e"}, "closed": true, "closedAt": "2020-07-23T16:18:30Z", "author": {"login": "aloubyansky"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc3g9tegBqjM1Nzc0NjY3OTM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc3x3UIgFqTQ1NDI5NDMzNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "bb437fb39b58112325df17c36d41f1d9e10225b5", "author": {"user": {"login": "aloubyansky", "name": "Alexey Loubyansky"}}, "url": "https://github.com/quarkusio/quarkus/commit/bb437fb39b58112325df17c36d41f1d9e10225b5", "committedDate": "2020-07-22T15:51:00Z", "message": "Enforce jar packaging by default in BuildMojo"}, "afterCommit": {"oid": "801c949ffee2dd28bed218f70f577473f2a1cbe7", "author": {"user": {"login": "aloubyansky", "name": "Alexey Loubyansky"}}, "url": "https://github.com/quarkusio/quarkus/commit/801c949ffee2dd28bed218f70f577473f2a1cbe7", "committedDate": "2020-07-22T20:36:08Z", "message": "Enforce jar packaging by default in BuildMojo"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "801c949ffee2dd28bed218f70f577473f2a1cbe7", "author": {"user": {"login": "aloubyansky", "name": "Alexey Loubyansky"}}, "url": "https://github.com/quarkusio/quarkus/commit/801c949ffee2dd28bed218f70f577473f2a1cbe7", "committedDate": "2020-07-22T20:36:08Z", "message": "Enforce jar packaging by default in BuildMojo"}, "afterCommit": {"oid": "b3c2c8c371651f54775363643f28747e23ef8e82", "author": {"user": {"login": "aloubyansky", "name": "Alexey Loubyansky"}}, "url": "https://github.com/quarkusio/quarkus/commit/b3c2c8c371651f54775363643f28747e23ef8e82", "committedDate": "2020-07-22T20:38:14Z", "message": "Enforce jar packaging by default in BuildMojo"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUzNzg2NzYz", "url": "https://github.com/quarkusio/quarkus/pull/10910#pullrequestreview-453786763", "createdAt": "2020-07-23T01:24:12Z", "commit": {"oid": "b3c2c8c371651f54775363643f28747e23ef8e82"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QwMToyNDoxMlrOG15hNA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QwMToyNDoxMlrOG15hNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTE3MDEwMA==", "bodyText": "Do we support building the project as a WAR?", "url": "https://github.com/quarkusio/quarkus/pull/10910#discussion_r459170100", "createdAt": "2020-07-23T01:24:12Z", "author": {"login": "gastaldi"}, "path": "devtools/maven/src/main/java/io/quarkus/maven/BuildMojo.java", "diffHunk": "@@ -129,20 +129,28 @@\n     @Parameter(defaultValue = \"false\", property = \"quarkus.build.skip\")\n     private boolean skip = false;\n \n+    @Parameter(defaultValue = \"true\", property = \"enforce.jar-extension\")\n+    private boolean enforceJarExtension = true;\n+\n     public BuildMojo() {\n         MojoLogger.logSupplier = this::getLog;\n     }\n \n     @Override\n     public void execute() throws MojoExecutionException {\n \n+        if (skip) {\n+            getLog().info(\"Skipping Quarkus build\");\n+            return;\n+        }\n         if (project.getPackaging().equals(\"pom\")) {\n             getLog().info(\"Type of the artifact is POM, skipping build goal\");\n             return;\n         }\n-        if (skip) {\n-            getLog().info(\"Skipping Quarkus build\");\n-            return;\n+        if (enforceJarExtension && !project.getArtifact().getArtifactHandler().getExtension().equals(\"jar\")) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b3c2c8c371651f54775363643f28747e23ef8e82"}, "originalPosition": 25}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "df925cf17621a27392065d54ddd10a77569d2f65", "author": {"user": {"login": "aloubyansky", "name": "Alexey Loubyansky"}}, "url": "https://github.com/quarkusio/quarkus/commit/df925cf17621a27392065d54ddd10a77569d2f65", "committedDate": "2020-07-23T10:21:15Z", "message": "Enforce jar packaging by default in BuildMojo"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b3c2c8c371651f54775363643f28747e23ef8e82", "author": {"user": {"login": "aloubyansky", "name": "Alexey Loubyansky"}}, "url": "https://github.com/quarkusio/quarkus/commit/b3c2c8c371651f54775363643f28747e23ef8e82", "committedDate": "2020-07-22T20:38:14Z", "message": "Enforce jar packaging by default in BuildMojo"}, "afterCommit": {"oid": "df925cf17621a27392065d54ddd10a77569d2f65", "author": {"user": {"login": "aloubyansky", "name": "Alexey Loubyansky"}}, "url": "https://github.com/quarkusio/quarkus/commit/df925cf17621a27392065d54ddd10a77569d2f65", "committedDate": "2020-07-23T10:21:15Z", "message": "Enforce jar packaging by default in BuildMojo"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU0Mjk0MzM1", "url": "https://github.com/quarkusio/quarkus/pull/10910#pullrequestreview-454294335", "createdAt": "2020-07-23T16:17:41Z", "commit": {"oid": "df925cf17621a27392065d54ddd10a77569d2f65"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1095, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}