{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA1OTI4Mjgz", "number": 12791, "title": "Feat/doc and test traced", "bodyText": "Add @Traced to the documentation. It exists in the quickstart so it's worth mentioning it inside the guide.\nUpdate the main integration test to use @Traced in another bean as the REST endpoint is traced by default and it reflect the typical usage of @Traced.", "createdAt": "2020-10-19T12:26:21Z", "url": "https://github.com/quarkusio/quarkus/pull/12791", "merged": true, "mergeCommit": {"oid": "6f4e3b39f7adeafd6ec89e81973c3351ec1ccfad"}, "closed": true, "closedAt": "2020-10-19T16:46:05Z", "author": {"login": "loicmathieu"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdUFg5tgFqTUxMTg2MTA5Mg==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdUFzaSAFqTUxMTg4MTM0OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTExODYxMDky", "url": "https://github.com/quarkusio/quarkus/pull/12791#pullrequestreview-511861092", "createdAt": "2020-10-19T15:01:10Z", "commit": {"oid": "c13cfb15fea4731c019fc5f2543658e2d3782e82"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQxNTowMToxMFrOHkTLNw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQxNTowMToxMFrOHkTLNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzgyNDk1MQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            NOTE: this is the best way to add OpenTracing capability to reactive messaging based application by adding the `Traced` annotation to all incoming methods.\n          \n          \n            \n            NOTE: the best way to add OpenTracing capability to reactive messaging based applications is by adding the `Traced` annotation to all incoming methods.", "url": "https://github.com/quarkusio/quarkus/pull/12791#discussion_r507824951", "createdAt": "2020-10-19T15:01:10Z", "author": {"login": "gastaldi"}, "path": "docs/src/main/asciidoc/opentracing.adoc", "diffHunk": "@@ -165,6 +165,33 @@ Then visit the http://localhost:16686[Jaeger UI] to see the tracing information.\n \n Hit `CTRL+C` to stop the application.\n \n+== Tracing additional methods\n+\n+REST endpoints are automatically traced.\n+If you need to trace additional methods, you can use the `org.eclipse.microprofile.opentracing.Traced` annotation at class or method level.\n+\n+This can be useful to trace incoming requests from non-REST calls (like request coming from a message) or to create spans inside a trace.\n+\n+Here is an example of a `FrancophoneService` which methods are traced.\n+\n+[code, java]\n+----\n+import javax.enterprise.context.ApplicationScoped;\n+\n+import org.eclipse.microprofile.opentracing.Traced;\n+\n+@Traced\n+@ApplicationScoped\n+public class FrancophoneService {\n+\n+    public String bonjour() {\n+        return \"bonjour\";\n+    }\n+}\n+----\n+\n+NOTE: this is the best way to add OpenTracing capability to reactive messaging based application by adding the `Traced` annotation to all incoming methods.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c13cfb15fea4731c019fc5f2543658e2d3782e82"}, "originalPosition": 29}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "769df03e3e94d6e171608a04a819ff68ae7580c1", "author": {"user": {"login": "loicmathieu", "name": "Lo\u00efc Mathieu"}}, "url": "https://github.com/quarkusio/quarkus/commit/769df03e3e94d6e171608a04a819ff68ae7580c1", "committedDate": "2020-10-19T15:20:46Z", "message": "Add @Traced to the OpenTracing documentation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8e10ec0c8ba9cb5be8438560e82f8960d7e0e708", "author": {"user": {"login": "loicmathieu", "name": "Lo\u00efc Mathieu"}}, "url": "https://github.com/quarkusio/quarkus/commit/8e10ec0c8ba9cb5be8438560e82f8960d7e0e708", "committedDate": "2020-10-19T15:20:46Z", "message": "Move @Traced usage to a service as the REST endpoint is already traced"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "21fec3bd6b991399ae82ec727ef6bd4ecddc5094", "author": {"user": {"login": "loicmathieu", "name": "Lo\u00efc Mathieu"}}, "url": "https://github.com/quarkusio/quarkus/commit/21fec3bd6b991399ae82ec727ef6bd4ecddc5094", "committedDate": "2020-10-19T15:20:00Z", "message": "Apply suggestions from code review\n\nCo-authored-by: George Gastaldi <gegastaldi@gmail.com>"}, "afterCommit": {"oid": "8e10ec0c8ba9cb5be8438560e82f8960d7e0e708", "author": {"user": {"login": "loicmathieu", "name": "Lo\u00efc Mathieu"}}, "url": "https://github.com/quarkusio/quarkus/commit/8e10ec0c8ba9cb5be8438560e82f8960d7e0e708", "committedDate": "2020-10-19T15:20:46Z", "message": "Move @Traced usage to a service as the REST endpoint is already traced"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTExODgxMzQ5", "url": "https://github.com/quarkusio/quarkus/pull/12791#pullrequestreview-511881349", "createdAt": "2020-10-19T15:21:24Z", "commit": {"oid": "21fec3bd6b991399ae82ec727ef6bd4ecddc5094"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1650, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}