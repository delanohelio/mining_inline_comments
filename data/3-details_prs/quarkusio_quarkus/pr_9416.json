{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE5NTQ2MjE4", "number": 9416, "title": "Devmode: filter out modules that aren't application compile or runtime dependencies", "bodyText": "Alternative to #9409\nFixes #9352", "createdAt": "2020-05-18T14:39:33Z", "url": "https://github.com/quarkusio/quarkus/pull/9416", "merged": true, "mergeCommit": {"oid": "21a70d850469f01415925658d7ad3d07c8442983"}, "closed": true, "closedAt": "2020-05-20T09:35:03Z", "author": {"login": "aloubyansky"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcipm8SgFqTQxNDAyODMyOQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcjFvlgAFqTQxNTE1OTI0NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE0MDI4MzI5", "url": "https://github.com/quarkusio/quarkus/pull/9416#pullrequestreview-414028329", "createdAt": "2020-05-19T00:48:08Z", "commit": {"oid": "596a418aa0448751654fd0a2cd7bea41bea2419b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQwMDo0ODowOFrOGXMDcQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQwMDo0ODowOFrOGXMDcQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjk2NzkyMQ==", "bodyText": "Are classifiers relevant here?", "url": "https://github.com/quarkusio/quarkus/pull/9416#discussion_r426967921", "createdAt": "2020-05-19T00:48:08Z", "author": {"login": "stuartwdouglas"}, "path": "devtools/maven/src/main/java/io/quarkus/maven/DevMojo.java", "diffHunk": "@@ -832,11 +832,16 @@ public void stop() throws InterruptedException {\n         for (LocalProject project : localProject.getSelfWithLocalDeps()) {\n             inProject.add(project.getKey());\n             if (project.getClassesDir() != null &&\n-            //if this project also contains Quarkus extensions we do no want to include these in the discovery\n-            //a bit of an edge case, but if you try and include a sample project with your extension you will\n-            //run into problems without this\n-                    (Files.exists(project.getClassesDir().resolve(\"META-INF/quarkus-extension.properties\")) ||\n-                            Files.exists(project.getClassesDir().resolve(\"META-INF/quarkus-build-steps.list\")))) {\n+                    (\n+                    // if it is not found among project.getArtifacts() it shouldn't be included (e.g. a local test dependency)\n+                    localProject != project", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "596a418aa0448751654fd0a2cd7bea41bea2419b"}, "originalPosition": 11}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "596a418aa0448751654fd0a2cd7bea41bea2419b", "author": {"user": {"login": "aloubyansky", "name": "Alexey Loubyansky"}}, "url": "https://github.com/quarkusio/quarkus/commit/596a418aa0448751654fd0a2cd7bea41bea2419b", "committedDate": "2020-05-18T14:36:03Z", "message": "Devmode: filter out modules that aren't application's compile or runtime dependencies"}, "afterCommit": {"oid": "ec41e7aeb90e2f06de692a44020432013a3a1bee", "author": {"user": {"login": "aloubyansky", "name": "Alexey Loubyansky"}}, "url": "https://github.com/quarkusio/quarkus/commit/ec41e7aeb90e2f06de692a44020432013a3a1bee", "committedDate": "2020-05-19T08:04:13Z", "message": "Devmode: filter out modules that aren't application's compile or runtime dependencies"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ec41e7aeb90e2f06de692a44020432013a3a1bee", "author": {"user": {"login": "aloubyansky", "name": "Alexey Loubyansky"}}, "url": "https://github.com/quarkusio/quarkus/commit/ec41e7aeb90e2f06de692a44020432013a3a1bee", "committedDate": "2020-05-19T08:04:13Z", "message": "Devmode: filter out modules that aren't application's compile or runtime dependencies"}, "afterCommit": {"oid": "47c8157bb80375cfbdde29a353a4ad25bead8d10", "author": {"user": {"login": "aloubyansky", "name": "Alexey Loubyansky"}}, "url": "https://github.com/quarkusio/quarkus/commit/47c8157bb80375cfbdde29a353a4ad25bead8d10", "committedDate": "2020-05-19T11:58:48Z", "message": "Devmode: filter out modules that aren't application's compile or runtime dependencies"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "47c8157bb80375cfbdde29a353a4ad25bead8d10", "author": {"user": {"login": "aloubyansky", "name": "Alexey Loubyansky"}}, "url": "https://github.com/quarkusio/quarkus/commit/47c8157bb80375cfbdde29a353a4ad25bead8d10", "committedDate": "2020-05-19T11:58:48Z", "message": "Devmode: filter out modules that aren't application's compile or runtime dependencies"}, "afterCommit": {"oid": "78805b9d1129efb40eb418596b937b6ce3817671", "author": {"user": {"login": "aloubyansky", "name": "Alexey Loubyansky"}}, "url": "https://github.com/quarkusio/quarkus/commit/78805b9d1129efb40eb418596b937b6ce3817671", "committedDate": "2020-05-19T12:49:40Z", "message": "Devmode: filter out modules that aren't application's compile or runtime dependencies"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "78805b9d1129efb40eb418596b937b6ce3817671", "author": {"user": {"login": "aloubyansky", "name": "Alexey Loubyansky"}}, "url": "https://github.com/quarkusio/quarkus/commit/78805b9d1129efb40eb418596b937b6ce3817671", "committedDate": "2020-05-19T12:49:40Z", "message": "Devmode: filter out modules that aren't application's compile or runtime dependencies"}, "afterCommit": {"oid": "a7a00654822bd66fbac6d90f3c1ec301142c35c1", "author": {"user": {"login": "aloubyansky", "name": "Alexey Loubyansky"}}, "url": "https://github.com/quarkusio/quarkus/commit/a7a00654822bd66fbac6d90f3c1ec301142c35c1", "committedDate": "2020-05-19T17:17:21Z", "message": "Devmode: filter out modules that aren't application's compile or runtime dependencies"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE0OTM2MDY0", "url": "https://github.com/quarkusio/quarkus/pull/9416#pullrequestreview-414936064", "createdAt": "2020-05-20T01:42:21Z", "commit": {"oid": "a7a00654822bd66fbac6d90f3c1ec301142c35c1"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQwMTo0MjoyMVrOGX4Zvw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQwMTo0MjoyMVrOGX4Zvw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzY5NDUyNw==", "bodyText": "Do we really need this? I think we likely have a heap of these in the tests that are not actually used.", "url": "https://github.com/quarkusio/quarkus/pull/9416#discussion_r427694527", "createdAt": "2020-05-20T01:42:21Z", "author": {"login": "stuartwdouglas"}, "path": "integration-tests/maven/src/test/resources/projects/test-module-dependency/app/src/main/resources/META-INF/resources/index.html", "diffHunk": "@@ -0,0 +1,152 @@\n+<!DOCTYPE html>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a7a00654822bd66fbac6d90f3c1ec301142c35c1"}, "originalPosition": 1}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f043971c7dac8b98c244d9a028693229844f78c0", "author": {"user": {"login": "aloubyansky", "name": "Alexey Loubyansky"}}, "url": "https://github.com/quarkusio/quarkus/commit/f043971c7dac8b98c244d9a028693229844f78c0", "committedDate": "2020-05-20T07:02:16Z", "message": "Devmode: filter out modules that aren't application's compile or runtime dependencies"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a7a00654822bd66fbac6d90f3c1ec301142c35c1", "author": {"user": {"login": "aloubyansky", "name": "Alexey Loubyansky"}}, "url": "https://github.com/quarkusio/quarkus/commit/a7a00654822bd66fbac6d90f3c1ec301142c35c1", "committedDate": "2020-05-19T17:17:21Z", "message": "Devmode: filter out modules that aren't application's compile or runtime dependencies"}, "afterCommit": {"oid": "f043971c7dac8b98c244d9a028693229844f78c0", "author": {"user": {"login": "aloubyansky", "name": "Alexey Loubyansky"}}, "url": "https://github.com/quarkusio/quarkus/commit/f043971c7dac8b98c244d9a028693229844f78c0", "committedDate": "2020-05-20T07:02:16Z", "message": "Devmode: filter out modules that aren't application's compile or runtime dependencies"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE1MTU5MjQ0", "url": "https://github.com/quarkusio/quarkus/pull/9416#pullrequestreview-415159244", "createdAt": "2020-05-20T09:34:56Z", "commit": {"oid": "f043971c7dac8b98c244d9a028693229844f78c0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3301, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}