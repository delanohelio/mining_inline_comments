{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI2NjM0Njkz", "number": 9728, "title": "feature: reading namespaced ConfigMaps", "bodyText": "Related to #8376", "createdAt": "2020-06-02T14:46:49Z", "url": "https://github.com/quarkusio/quarkus/pull/9728", "merged": true, "mergeCommit": {"oid": "53de0f6bf98e1f094bf643a31f6318f40946dbd8"}, "closed": true, "closedAt": "2020-07-07T12:14:54Z", "author": {"login": "aureamunoz"}, "timelineItems": {"totalCount": 25, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcnWCsdgFqTQyMjc1NzQ2Nw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcyiuO7ABqjM1MTk2MDA0NjM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIyNzU3NDY3", "url": "https://github.com/quarkusio/quarkus/pull/9728#pullrequestreview-422757467", "createdAt": "2020-06-02T14:49:58Z", "commit": {"oid": "4d10a62eeb59f81252761f45bba0ab3f23f4c626"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMlQxNDo0OTo1OVrOGd1X3w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMlQxNDo0OTo1OVrOGd1X3w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzkzNjM1MQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                 * Namespace to look for in\n          \n          \n            \n                 * Namespace to look for config maps", "url": "https://github.com/quarkusio/quarkus/pull/9728#discussion_r433936351", "createdAt": "2020-06-02T14:49:59Z", "author": {"login": "machi1990"}, "path": "extensions/kubernetes-config/runtime/src/main/java/io/quarkus/kubernetes/client/runtime/KubernetesConfigSourceConfig.java", "diffHunk": "@@ -28,4 +28,10 @@\n     @ConfigItem\n     public Optional<List<String>> configMaps;\n \n+    /**\n+     * Namespace to look for in", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4d10a62eeb59f81252761f45bba0ab3f23f4c626"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIyODg4MDgx", "url": "https://github.com/quarkusio/quarkus/pull/9728#pullrequestreview-422888081", "createdAt": "2020-06-02T17:11:44Z", "commit": {"oid": "4d10a62eeb59f81252761f45bba0ab3f23f4c626"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMlQxNzoxMTo0NVrOGd7piw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMlQxNzoxMTo0OVrOGd7prQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDAzOTE3OQ==", "bodyText": "This needs to be Optional", "url": "https://github.com/quarkusio/quarkus/pull/9728#discussion_r434039179", "createdAt": "2020-06-02T17:11:45Z", "author": {"login": "geoand"}, "path": "extensions/kubernetes-config/runtime/src/main/java/io/quarkus/kubernetes/client/runtime/KubernetesConfigSourceConfig.java", "diffHunk": "@@ -28,4 +28,10 @@\n     @ConfigItem\n     public Optional<List<String>> configMaps;\n \n+    /**\n+     * Namespace to look for in\n+     */\n+    @ConfigItem\n+    public String namespace;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4d10a62eeb59f81252761f45bba0ab3f23f4c626"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDAzOTIxMw==", "bodyText": "We probably don't want to do this, we would ideally just check if the Optional namespace property is set and act on way or the other", "url": "https://github.com/quarkusio/quarkus/pull/9728#discussion_r434039213", "createdAt": "2020-06-02T17:11:49Z", "author": {"login": "geoand"}, "path": "extensions/kubernetes-config/runtime/src/main/java/io/quarkus/kubernetes/client/runtime/KubernetesConfigSourceProvider.java", "diffHunk": "@@ -49,12 +49,25 @@ public KubernetesConfigSourceProvider(KubernetesConfigSourceConfig config, Kuber\n                 if (log.isDebugEnabled()) {\n                     log.debug(\"Attempting to read ConfigMap \" + configMapName);\n                 }\n-                ConfigMap configMap = client.configMaps().withName(configMapName).get();\n+                ConfigMap configMap = client.configMaps().inNamespace(config.namespace).withName(configMapName).get();\n                 if (configMap == null) {\n-                    logMissingOrFail(configMapName, client.getNamespace(), \"ConfigMap\", config.failOnMissingConfig);\n+                    log.debug(\"ConfigMap \" + configMapName + \" does not exist in configured namespace \" + config.namespace\n+                            + \". Trying to read it from the current workspace \" + client.getNamespace());\n+                    configMap = client.configMaps().withName(configMapName).get();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4d10a62eeb59f81252761f45bba0ab3f23f4c626"}, "originalPosition": 10}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4d10a62eeb59f81252761f45bba0ab3f23f4c626", "author": {"user": {"login": "aureamunoz", "name": "Aurea Mu\u00f1oz Hern\u00e1ndez"}}, "url": "https://github.com/quarkusio/quarkus/commit/4d10a62eeb59f81252761f45bba0ab3f23f4c626", "committedDate": "2020-06-02T14:23:49Z", "message": "feature: reading namespaced ConfigMaps"}, "afterCommit": {"oid": "0ed026ef5c277ccb3795fab1efcf6a6ddbdd09a4", "author": {"user": {"login": "aureamunoz", "name": "Aurea Mu\u00f1oz Hern\u00e1ndez"}}, "url": "https://github.com/quarkusio/quarkus/commit/0ed026ef5c277ccb3795fab1efcf6a6ddbdd09a4", "committedDate": "2020-06-23T07:45:00Z", "message": "code review and tests"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0ed026ef5c277ccb3795fab1efcf6a6ddbdd09a4", "author": {"user": {"login": "aureamunoz", "name": "Aurea Mu\u00f1oz Hern\u00e1ndez"}}, "url": "https://github.com/quarkusio/quarkus/commit/0ed026ef5c277ccb3795fab1efcf6a6ddbdd09a4", "committedDate": "2020-06-23T07:45:00Z", "message": "code review and tests"}, "afterCommit": {"oid": "2daa9b0e43fe621e57e8bd9e257028fa695ced95", "author": {"user": {"login": "aureamunoz", "name": "Aurea Mu\u00f1oz Hern\u00e1ndez"}}, "url": "https://github.com/quarkusio/quarkus/commit/2daa9b0e43fe621e57e8bd9e257028fa695ced95", "committedDate": "2020-06-25T09:24:56Z", "message": "format"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2d7026dce342bb9aff40356c3da223a06d379cb6", "author": {"user": {"login": "aureamunoz", "name": "Aurea Mu\u00f1oz Hern\u00e1ndez"}}, "url": "https://github.com/quarkusio/quarkus/commit/2d7026dce342bb9aff40356c3da223a06d379cb6", "committedDate": "2020-06-25T13:08:10Z", "message": "wip"}, "afterCommit": {"oid": "f7362006f04964c522f6aab952003334de8d7158", "author": {"user": {"login": "aureamunoz", "name": "Aurea Mu\u00f1oz Hern\u00e1ndez"}}, "url": "https://github.com/quarkusio/quarkus/commit/f7362006f04964c522f6aab952003334de8d7158", "committedDate": "2020-06-26T13:13:49Z", "message": "feature: reading namespaced ConfigMaps"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM4MzA2MzYw", "url": "https://github.com/quarkusio/quarkus/pull/9728#pullrequestreview-438306360", "createdAt": "2020-06-26T13:43:04Z", "commit": {"oid": "f7362006f04964c522f6aab952003334de8d7158"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNlQxMzo0MzowNFrOGphZyQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNlQxMzo0MzowNFrOGphZyQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjE5MjA3Mw==", "bodyText": "Minor nitpick: I don't think you need to specify default values here", "url": "https://github.com/quarkusio/quarkus/pull/9728#discussion_r446192073", "createdAt": "2020-06-26T13:43:04Z", "author": {"login": "geoand"}, "path": "extensions/kubernetes-config/runtime/src/main/java/io/quarkus/kubernetes/client/runtime/KubernetesConfigSourceProvider.java", "diffHunk": "@@ -49,9 +49,17 @@ public KubernetesConfigSourceProvider(KubernetesConfigSourceConfig config, Kuber\n                 if (log.isDebugEnabled()) {\n                     log.debug(\"Attempting to read ConfigMap \" + configMapName);\n                 }\n-                ConfigMap configMap = client.configMaps().withName(configMapName).get();\n+                ConfigMap configMap = null;\n+                String namespace = \"\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f7362006f04964c522f6aab952003334de8d7158"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM4MzA2OTgx", "url": "https://github.com/quarkusio/quarkus/pull/9728#pullrequestreview-438306981", "createdAt": "2020-06-26T13:43:53Z", "commit": {"oid": "f7362006f04964c522f6aab952003334de8d7158"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNlQxMzo0Mzo1M1rOGphbkA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNlQxMzo0Mzo1M1rOGphbkA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjE5MjUyOA==", "bodyText": "I assume you want to remove this?", "url": "https://github.com/quarkusio/quarkus/pull/9728#discussion_r446192528", "createdAt": "2020-06-26T13:43:53Z", "author": {"login": "geoand"}, "path": "extensions/kubernetes-config/runtime/src/test/java/io/quarkus/kubernetes/client/runtime/KubernetesConfigSourceProviderTest.java", "diffHunk": "@@ -0,0 +1,167 @@\n+package io.quarkus.kubernetes.client.runtime;\n+\n+import static org.assertj.core.api.Assertions.assertThat;\n+import static org.assertj.core.api.Assertions.fail;\n+import static org.mockito.Mockito.mock;\n+import static org.mockito.Mockito.when;\n+\n+import java.util.List;\n+import java.util.Optional;\n+\n+import org.assertj.core.util.Lists;\n+import org.eclipse.microprofile.config.spi.ConfigSource;\n+import org.junit.jupiter.api.Test;\n+import org.mockito.Mockito;\n+\n+import io.fabric8.kubernetes.api.model.ConfigMap;\n+import io.fabric8.kubernetes.api.model.ConfigMapBuilder;\n+import io.fabric8.kubernetes.api.model.ConfigMapList;\n+import io.fabric8.kubernetes.api.model.DoneableConfigMap;\n+import io.fabric8.kubernetes.client.Config;\n+import io.fabric8.kubernetes.client.KubernetesClient;\n+import io.fabric8.kubernetes.client.dsl.MixedOperation;\n+import io.fabric8.kubernetes.client.dsl.NonNamespaceOperation;\n+import io.fabric8.kubernetes.client.dsl.Resource;\n+\n+public class KubernetesConfigSourceProviderTest {\n+\n+    @Test\n+    public void testEmptyConfigSources() {\n+        KubernetesConfigSourceConfig config = defaultConfig();\n+        KubernetesClient kubernetesClient = Mockito.mock(KubernetesClient.class);\n+        KubernetesConfigSourceProvider kcsp = new KubernetesConfigSourceProvider(config, kubernetesClient);\n+        Iterable<ConfigSource> configSources = kcsp.getConfigSources(null);\n+        assertThat(configSources).isEmpty();\n+    }\n+\n+    @Test\n+    public void testRetrieveNamespacedConfigSources() {\n+        KubernetesConfigSourceConfig config = defaultConfig();\n+        config.namespace = Optional.of(\"demo\");\n+        List<String> configMaps = Lists.list(\"cm1\");\n+        config.configMaps = Optional.of(configMaps);\n+\n+        ConfigMap configMap = configMapBuilder(\"cm1\")\n+                .addToData(\"some.key\", \"someValue\").addToData(\"some.other\", \"someOtherValue\").build();\n+\n+        KubernetesClient kubernetesClient = Mockito.mock(KubernetesClient.class);\n+        stubNamespacedConfigMap(kubernetesClient, configMap, \"cm1\");\n+\n+        KubernetesConfigSourceProvider kcsp = new KubernetesConfigSourceProvider(config, kubernetesClient);\n+        Iterable<ConfigSource> configSources = kcsp.getConfigSources(null);\n+        assertThat(configSources).isNotEmpty();\n+        ConfigSource next = configSources.iterator().next();\n+        //        assertThat(next.getName()).isEqualTo(\"cm1\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f7362006f04964c522f6aab952003334de8d7158"}, "originalPosition": 54}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM4MzA3OTQ1", "url": "https://github.com/quarkusio/quarkus/pull/9728#pullrequestreview-438307945", "createdAt": "2020-06-26T13:45:05Z", "commit": {"oid": "f7362006f04964c522f6aab952003334de8d7158"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNlQxMzo0NTowNVrOGphedg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNlQxMzo0NTowNVrOGphedg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjE5MzI3MA==", "bodyText": "I am not sure I like the idea of having our main integration test use the less likely use case", "url": "https://github.com/quarkusio/quarkus/pull/9728#discussion_r446193270", "createdAt": "2020-06-26T13:45:05Z", "author": {"login": "geoand"}, "path": "integration-tests/kubernetes-client/src/main/resources/application.properties", "diffHunk": "@@ -1,3 +1,4 @@\n quarkus.kubernetes-config.enabled=true\n quarkus.kubernetes-config.config-maps=cmap1,cmap2\n quarkus.kubernetes-config.secrets=s1\n+quarkus.kubernetes-config.namespace=test", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f7362006f04964c522f6aab952003334de8d7158"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM4MzA4NDkz", "url": "https://github.com/quarkusio/quarkus/pull/9728#pullrequestreview-438308493", "createdAt": "2020-06-26T13:45:47Z", "commit": {"oid": "f7362006f04964c522f6aab952003334de8d7158"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNlQxMzo0NTo0OFrOGphgJQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNlQxMzo0NTo0OFrOGphgJQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjE5MzcwMQ==", "bodyText": "I don't think the assertions belong here, consider moving them to a decicated class please", "url": "https://github.com/quarkusio/quarkus/pull/9728#discussion_r446193701", "createdAt": "2020-06-26T13:45:48Z", "author": {"login": "geoand"}, "path": "integration-tests/kubernetes-client/src/test/java/io/quarkus/it/kubernetes/client/CustomKubernetesMockServerTestResource.java", "diffHunk": "@@ -22,6 +26,24 @@ public void configureMockServer(KubernetesMockServer mockServer) {\n                 .andReturn(200, configMapBuilder(\"cmap2\")\n                         .addToData(\"application.yaml\", \"some:\\n  prop4: val4\").build())\n                 .once();\n+\n+        mockServer.expect().get().withPath(\"/api/v1/namespaces/demo/configmaps/cmap3\")\n+                .andReturn(200, configMapBuilder(\"cmap3\")\n+                        .addToData(\"dummy\", \"dummyFromDemo\")\n+                        .addToData(\"some.prop1\", \"val1FromDemo\")\n+                        .addToData(\"some.prop2\", \"val2FromDemo\")\n+                        .addToData(\"some.prop5\", \"val5FromDemo\")\n+                        .addToData(\"application.properties\", \"some.prop3=val3FromDemo\")\n+                        .addToData(\"application.yaml\", \"some:\\n  prop4: val4FromDemo\").build())\n+                .once();\n+    }\n+\n+    public static void assertProperty(String propertyName, String expectedValue) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f7362006f04964c522f6aab952003334de8d7158"}, "originalPosition": 33}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM4MzA5MDYy", "url": "https://github.com/quarkusio/quarkus/pull/9728#pullrequestreview-438309062", "createdAt": "2020-06-26T13:46:34Z", "commit": {"oid": "f7362006f04964c522f6aab952003334de8d7158"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNlQxMzo0NjozNFrOGphhwg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNlQxMzo0NjozNFrOGphhwg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjE5NDExNA==", "bodyText": "We probably don't want this", "url": "https://github.com/quarkusio/quarkus/pull/9728#discussion_r446194114", "createdAt": "2020-06-26T13:46:34Z", "author": {"login": "geoand"}, "path": "test-framework/kubernetes-client/src/main/java/io/quarkus/test/kubernetes/client/KubernetesMockServerTestResource.java", "diffHunk": "@@ -23,6 +23,8 @@\n \n         mockServer = new KubernetesMockServer(useHttps());\n         mockServer.init();\n+        System.out.println(\"[INFO] Kubernetes Mock server started; server status: \" + mockServer.getHostName() + \":\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f7362006f04964c522f6aab952003334de8d7158"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM4MzEwMDg5", "url": "https://github.com/quarkusio/quarkus/pull/9728#pullrequestreview-438310089", "createdAt": "2020-06-26T13:47:55Z", "commit": {"oid": "f7362006f04964c522f6aab952003334de8d7158"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNlQxMzo0Nzo1NlrOGphkrA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNlQxMzo0Nzo1NlrOGphkrA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjE5NDg2MA==", "bodyText": "I am generally not super happy about having every configMap use the same namespace, but when I was writing the initial version of the extension I couldn't come up with an easy enough to use configuration that would cater both no namespace and different namespace configMaps, so I guess we can live with this.", "url": "https://github.com/quarkusio/quarkus/pull/9728#discussion_r446194860", "createdAt": "2020-06-26T13:47:56Z", "author": {"login": "geoand"}, "path": "extensions/kubernetes-config/runtime/src/main/java/io/quarkus/kubernetes/client/runtime/KubernetesConfigSourceConfig.java", "diffHunk": "@@ -28,4 +28,10 @@\n     @ConfigItem\n     public Optional<List<String>> configMaps;\n \n+    /**\n+     * Namespace to look for config maps\n+     */\n+    @ConfigItem\n+    public Optional<String> namespace;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f7362006f04964c522f6aab952003334de8d7158"}, "originalPosition": 8}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f7362006f04964c522f6aab952003334de8d7158", "author": {"user": {"login": "aureamunoz", "name": "Aurea Mu\u00f1oz Hern\u00e1ndez"}}, "url": "https://github.com/quarkusio/quarkus/commit/f7362006f04964c522f6aab952003334de8d7158", "committedDate": "2020-06-26T13:13:49Z", "message": "feature: reading namespaced ConfigMaps"}, "afterCommit": {"oid": "cbfa0ccc42ad8e3c351b327023e74f3e0bbc2101", "author": {"user": {"login": "aureamunoz", "name": "Aurea Mu\u00f1oz Hern\u00e1ndez"}}, "url": "https://github.com/quarkusio/quarkus/commit/cbfa0ccc42ad8e3c351b327023e74f3e0bbc2101", "committedDate": "2020-06-26T14:33:52Z", "message": "feature: reading namespaced ConfigMaps"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM4OTkyNjE0", "url": "https://github.com/quarkusio/quarkus/pull/9728#pullrequestreview-438992614", "createdAt": "2020-06-29T08:33:12Z", "commit": {"oid": "cbfa0ccc42ad8e3c351b327023e74f3e0bbc2101"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOVQwODozMzoxMlrOGqKKjw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOVQwODozMzoxMlrOGqKKjw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Njg1OTkxOQ==", "bodyText": "We should add more documentation on how this behaves", "url": "https://github.com/quarkusio/quarkus/pull/9728#discussion_r446859919", "createdAt": "2020-06-29T08:33:12Z", "author": {"login": "geoand"}, "path": "extensions/kubernetes-config/runtime/src/main/java/io/quarkus/kubernetes/client/runtime/KubernetesConfigSourceConfig.java", "diffHunk": "@@ -28,4 +28,10 @@\n     @ConfigItem\n     public Optional<List<String>> configMaps;\n \n+    /**\n+     * Namespace to look for config maps", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cbfa0ccc42ad8e3c351b327023e74f3e0bbc2101"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM5MDAyMDQ2", "url": "https://github.com/quarkusio/quarkus/pull/9728#pullrequestreview-439002046", "createdAt": "2020-06-29T08:46:06Z", "commit": {"oid": "cbfa0ccc42ad8e3c351b327023e74f3e0bbc2101"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "cbfa0ccc42ad8e3c351b327023e74f3e0bbc2101", "author": {"user": {"login": "aureamunoz", "name": "Aurea Mu\u00f1oz Hern\u00e1ndez"}}, "url": "https://github.com/quarkusio/quarkus/commit/cbfa0ccc42ad8e3c351b327023e74f3e0bbc2101", "committedDate": "2020-06-26T14:33:52Z", "message": "feature: reading namespaced ConfigMaps"}, "afterCommit": {"oid": "9933872cdd15baa4d72c6bbfc9d68e6d946b7841", "author": {"user": {"login": "aureamunoz", "name": "Aurea Mu\u00f1oz Hern\u00e1ndez"}}, "url": "https://github.com/quarkusio/quarkus/commit/9933872cdd15baa4d72c6bbfc9d68e6d946b7841", "committedDate": "2020-06-29T12:58:40Z", "message": "feature: reading namespaced ConfigMaps"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM5MTI4MjA0", "url": "https://github.com/quarkusio/quarkus/pull/9728#pullrequestreview-439128204", "createdAt": "2020-06-29T13:12:56Z", "commit": {"oid": "9933872cdd15baa4d72c6bbfc9d68e6d946b7841"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOVQxMzoxMjo1NlrOGqQR2w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOVQxMzoxMjo1NlrOGqQR2w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Njk2MDA5MQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                 * Namespace to look for config maps. Quarkus will return the configMaps in the namespace indicated by this property if they\n          \n          \n            \n                 * exists, build will fail otherwise.\n          \n          \n            \n                 * Namespace to look for config maps. If this is not specified, then the namespace configured in the kubectl config context is used. If the value is specified and the namespace doesn't exist, the application will fail to start.", "url": "https://github.com/quarkusio/quarkus/pull/9728#discussion_r446960091", "createdAt": "2020-06-29T13:12:56Z", "author": {"login": "geoand"}, "path": "extensions/kubernetes-config/runtime/src/main/java/io/quarkus/kubernetes/client/runtime/KubernetesConfigSourceConfig.java", "diffHunk": "@@ -28,4 +28,11 @@\n     @ConfigItem\n     public Optional<List<String>> configMaps;\n \n+    /**\n+     * Namespace to look for config maps. Quarkus will return the configMaps in the namespace indicated by this property if they\n+     * exists, build will fail otherwise.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9933872cdd15baa4d72c6bbfc9d68e6d946b7841"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM5MTI5MTMw", "url": "https://github.com/quarkusio/quarkus/pull/9728#pullrequestreview-439129130", "createdAt": "2020-06-29T13:13:56Z", "commit": {"oid": "9933872cdd15baa4d72c6bbfc9d68e6d946b7841"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOVQxMzoxMzo1NlrOGqQUnQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOVQxMzoxMzo1NlrOGqQUnQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Njk2MDc5Nw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            To configure which ConfigMaps (from the namespace that the application runs in, or the explicitly configured namespace via `quarkus.kubernetes-client.namespace`), you can set the `quarkus.kubernetes-config.config-maps` property (in any of the usual Quarkus ways). If you want to access and read the configMaps from others namespaces you can set the\n          \n          \n            \n            To configure which ConfigMaps (from the namespace that the application runs in, or the explicitly configured namespace via `quarkus.kubernetes-client.namespace`), you can set the `quarkus.kubernetes-config.config-maps` property (in any of the usual Quarkus ways). If access to ConfigMaps from a specific namespace you can set the", "url": "https://github.com/quarkusio/quarkus/pull/9728#discussion_r446960797", "createdAt": "2020-06-29T13:13:56Z", "author": {"login": "geoand"}, "path": "docs/src/main/asciidoc/kubernetes-config.adoc", "diffHunk": "@@ -40,8 +40,8 @@ The extension understands the following types of ConfigMaps as input sources:\n * ConfigMaps that contain literal data (see https://kubernetes.io/docs/tasks/configure-pod-container/configure-pod-configmap/#create-configmaps-from-literal-values[this] for an example on how to create one)\n * ConfigMaps created from files named, `application.properties`, `application.yaml` or `application.yml` (see https://kubernetes.io/docs/tasks/configure-pod-container/configure-pod-configmap/#create-configmaps-from-files[this] for an example on how to create one).\n \n-To configure which ConfigMaps (from the namespace that the application runs in, or the explicitly configured namespace via `quarkus.kubernetes-client.namespace`), you can set the `quarkus.kubernetes-config.config-maps` property (in any of the usual Quarkus ways).\n-Keep in mind however that you will also have to explicitly enable the retrieval of ConfigMaps by setting `quarkus.kubernetes-config.enabled=true` (the default is `false` in order to make it easy to test the application locally).\n+To configure which ConfigMaps (from the namespace that the application runs in, or the explicitly configured namespace via `quarkus.kubernetes-client.namespace`), you can set the `quarkus.kubernetes-config.config-maps` property (in any of the usual Quarkus ways). If you want to access and read the configMaps from others namespaces you can set the", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9933872cdd15baa4d72c6bbfc9d68e6d946b7841"}, "originalPosition": 6}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9933872cdd15baa4d72c6bbfc9d68e6d946b7841", "author": {"user": {"login": "aureamunoz", "name": "Aurea Mu\u00f1oz Hern\u00e1ndez"}}, "url": "https://github.com/quarkusio/quarkus/commit/9933872cdd15baa4d72c6bbfc9d68e6d946b7841", "committedDate": "2020-06-29T12:58:40Z", "message": "feature: reading namespaced ConfigMaps"}, "afterCommit": {"oid": "64e56b0bf0b9e3d7460f9f6f260acd3c5370ca52", "author": {"user": {"login": "aureamunoz", "name": "Aurea Mu\u00f1oz Hern\u00e1ndez"}}, "url": "https://github.com/quarkusio/quarkus/commit/64e56b0bf0b9e3d7460f9f6f260acd3c5370ca52", "committedDate": "2020-06-29T13:38:55Z", "message": "feature: reading namespaced ConfigMaps"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM5MTU1NzU0", "url": "https://github.com/quarkusio/quarkus/pull/9728#pullrequestreview-439155754", "createdAt": "2020-06-29T13:42:38Z", "commit": {"oid": "64e56b0bf0b9e3d7460f9f6f260acd3c5370ca52"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "64e56b0bf0b9e3d7460f9f6f260acd3c5370ca52", "author": {"user": {"login": "aureamunoz", "name": "Aurea Mu\u00f1oz Hern\u00e1ndez"}}, "url": "https://github.com/quarkusio/quarkus/commit/64e56b0bf0b9e3d7460f9f6f260acd3c5370ca52", "committedDate": "2020-06-29T13:38:55Z", "message": "feature: reading namespaced ConfigMaps"}, "afterCommit": {"oid": "37ca807c59951dc20ffd01608b4ca062b35c8eed", "author": {"user": {"login": "aureamunoz", "name": "Aurea Mu\u00f1oz Hern\u00e1ndez"}}, "url": "https://github.com/quarkusio/quarkus/commit/37ca807c59951dc20ffd01608b4ca062b35c8eed", "committedDate": "2020-06-29T20:47:33Z", "message": "feature: reading namespaced ConfigMaps"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "37ca807c59951dc20ffd01608b4ca062b35c8eed", "author": {"user": {"login": "aureamunoz", "name": "Aurea Mu\u00f1oz Hern\u00e1ndez"}}, "url": "https://github.com/quarkusio/quarkus/commit/37ca807c59951dc20ffd01608b4ca062b35c8eed", "committedDate": "2020-06-29T20:47:33Z", "message": "feature: reading namespaced ConfigMaps"}, "afterCommit": {"oid": "8616e89c3011418d2c3d4ccfec3866f5e6163d80", "author": {"user": {"login": "aureamunoz", "name": "Aurea Mu\u00f1oz Hern\u00e1ndez"}}, "url": "https://github.com/quarkusio/quarkus/commit/8616e89c3011418d2c3d4ccfec3866f5e6163d80", "committedDate": "2020-07-01T16:23:53Z", "message": "feature: reading namespaced ConfigMaps"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8616e89c3011418d2c3d4ccfec3866f5e6163d80", "author": {"user": {"login": "aureamunoz", "name": "Aurea Mu\u00f1oz Hern\u00e1ndez"}}, "url": "https://github.com/quarkusio/quarkus/commit/8616e89c3011418d2c3d4ccfec3866f5e6163d80", "committedDate": "2020-07-01T16:23:53Z", "message": "feature: reading namespaced ConfigMaps"}, "afterCommit": {"oid": "a728dfad0f563c3ce0d4fca93a5505b7db66763f", "author": {"user": {"login": "aureamunoz", "name": "Aurea Mu\u00f1oz Hern\u00e1ndez"}}, "url": "https://github.com/quarkusio/quarkus/commit/a728dfad0f563c3ce0d4fca93a5505b7db66763f", "committedDate": "2020-07-03T12:37:20Z", "message": "feature: reading namespaced ConfigMaps"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a728dfad0f563c3ce0d4fca93a5505b7db66763f", "author": {"user": {"login": "aureamunoz", "name": "Aurea Mu\u00f1oz Hern\u00e1ndez"}}, "url": "https://github.com/quarkusio/quarkus/commit/a728dfad0f563c3ce0d4fca93a5505b7db66763f", "committedDate": "2020-07-03T12:37:20Z", "message": "feature: reading namespaced ConfigMaps"}, "afterCommit": {"oid": "34da5443f2d839eaf51fd20887d2427e07f29f1d", "author": {"user": {"login": "aureamunoz", "name": "Aurea Mu\u00f1oz Hern\u00e1ndez"}}, "url": "https://github.com/quarkusio/quarkus/commit/34da5443f2d839eaf51fd20887d2427e07f29f1d", "committedDate": "2020-07-06T07:46:24Z", "message": "feature: reading namespaced ConfigMaps"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1c89c51f6626fed09d594ea69289da13736d613b", "author": {"user": {"login": "aureamunoz", "name": "Aurea Mu\u00f1oz Hern\u00e1ndez"}}, "url": "https://github.com/quarkusio/quarkus/commit/1c89c51f6626fed09d594ea69289da13736d613b", "committedDate": "2020-07-07T09:49:25Z", "message": "feature: reading namespaced ConfigMaps"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "34da5443f2d839eaf51fd20887d2427e07f29f1d", "author": {"user": {"login": "aureamunoz", "name": "Aurea Mu\u00f1oz Hern\u00e1ndez"}}, "url": "https://github.com/quarkusio/quarkus/commit/34da5443f2d839eaf51fd20887d2427e07f29f1d", "committedDate": "2020-07-06T07:46:24Z", "message": "feature: reading namespaced ConfigMaps"}, "afterCommit": {"oid": "1c89c51f6626fed09d594ea69289da13736d613b", "author": {"user": {"login": "aureamunoz", "name": "Aurea Mu\u00f1oz Hern\u00e1ndez"}}, "url": "https://github.com/quarkusio/quarkus/commit/1c89c51f6626fed09d594ea69289da13736d613b", "committedDate": "2020-07-07T09:49:25Z", "message": "feature: reading namespaced ConfigMaps"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4409, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}