{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc4MDgzMTE5", "number": 11828, "title": "Re-enable MutinyTest", "bodyText": "Fixes #11687\nMoved JAX-RS ClientBuilder service file for native to RESTClientProcessor\nUse existing ResteasyProviderFactory to register client providers with if it exists, and don't replace the provider directly", "createdAt": "2020-09-02T18:46:25Z", "url": "https://github.com/quarkusio/quarkus/pull/11828", "merged": true, "mergeCommit": {"oid": "f916017047e4b1ada2d386fd9d8c0e80af43bfa4"}, "closed": true, "closedAt": "2020-09-04T15:40:53Z", "author": {"login": "kenfinnigan"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdFApEhgFqTQ4MTE3Mjk4MQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdFlodOAFqTQ4MjY3NDA4MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgxMTcyOTgx", "url": "https://github.com/quarkusio/quarkus/pull/11828#pullrequestreview-481172981", "createdAt": "2020-09-02T18:51:03Z", "commit": {"oid": "892f0a8e95cec637e73fa2a80ebb354e27a0c019"}, "state": "DISMISSED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQxODo1MTowM1rOHL9cvw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQxODo1MTowM1rOHL9cvw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjMwMzE2Nw==", "bodyText": "Does the execution order play a role here? @jaikiran reported that sometimes the server one was initialized first and sometimes the client one.\nI think we should have a build item ensuring that the order of operations is fully determined.", "url": "https://github.com/quarkusio/quarkus/pull/11828#discussion_r482303167", "createdAt": "2020-09-02T18:51:03Z", "author": {"login": "gsmet"}, "path": "extensions/rest-client/runtime/src/main/java/io/quarkus/restclient/runtime/RestClientRecorder.java", "diffHunk": "@@ -59,25 +59,36 @@ public InjectorFactory getInjectorFactory() {\n             }\n         };\n \n-        if (useBuiltIn) {\n-            RegisterBuiltin.register(clientProviderFactory);\n-            registerProviders(clientProviderFactory, contributedProviders, false);\n+        registerProviders(clientProviderFactory, useBuiltIn, providersToRegister, contributedProviders);\n+\n+        if (ResteasyProviderFactory.peekInstance() != null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "892f0a8e95cec637e73fa2a80ebb354e27a0c019"}, "originalPosition": 9}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgxNTIyMzkw", "url": "https://github.com/quarkusio/quarkus/pull/11828#pullrequestreview-481522390", "createdAt": "2020-09-03T06:19:11Z", "commit": {"oid": "892f0a8e95cec637e73fa2a80ebb354e27a0c019"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgxNTIzMjgz", "url": "https://github.com/quarkusio/quarkus/pull/11828#pullrequestreview-481523283", "createdAt": "2020-09-03T06:21:05Z", "commit": {"oid": "892f0a8e95cec637e73fa2a80ebb354e27a0c019"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QwNjoyMTowNVrOHMXe4A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QwNjoyMTowNVrOHMXe4A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjcyOTY5Ng==", "bodyText": "Yes, we need to be sure it fixes the random ordering.", "url": "https://github.com/quarkusio/quarkus/pull/11828#discussion_r482729696", "createdAt": "2020-09-03T06:21:05Z", "author": {"login": "cescoffier"}, "path": "extensions/rest-client/runtime/src/main/java/io/quarkus/restclient/runtime/RestClientRecorder.java", "diffHunk": "@@ -59,25 +59,36 @@ public InjectorFactory getInjectorFactory() {\n             }\n         };\n \n-        if (useBuiltIn) {\n-            RegisterBuiltin.register(clientProviderFactory);\n-            registerProviders(clientProviderFactory, contributedProviders, false);\n+        registerProviders(clientProviderFactory, useBuiltIn, providersToRegister, contributedProviders);\n+\n+        if (ResteasyProviderFactory.peekInstance() != null) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjMwMzE2Nw=="}, "originalCommit": {"oid": "892f0a8e95cec637e73fa2a80ebb354e27a0c019"}, "originalPosition": 9}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgxODAyNTEw", "url": "https://github.com/quarkusio/quarkus/pull/11828#pullrequestreview-481802510", "createdAt": "2020-09-03T12:47:46Z", "commit": {"oid": "892f0a8e95cec637e73fa2a80ebb354e27a0c019"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgyMzcyMTQ0", "url": "https://github.com/quarkusio/quarkus/pull/11828#pullrequestreview-482372144", "createdAt": "2020-09-04T05:42:27Z", "commit": {"oid": "892f0a8e95cec637e73fa2a80ebb354e27a0c019"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5e77962160728b07e7628130e3af886c143bd64f", "author": {"user": {"login": "kenfinnigan", "name": "Ken Finnigan"}}, "url": "https://github.com/quarkusio/quarkus/commit/5e77962160728b07e7628130e3af886c143bd64f", "committedDate": "2020-09-04T13:13:21Z", "message": "Re-enable MutinyTest\n - Fixes #11687\n - Moved JAX-RS ClientBuilder service file for native to RESTClientProcessor\n - Use existing ResteasyProviderFactory to register client providers with if it exists, and don't replace the provider directly"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "389aea5fe0d35af3a0ddae8f4bffe520c41bb7d9", "author": {"user": {"login": "kenfinnigan", "name": "Ken Finnigan"}}, "url": "https://github.com/quarkusio/quarkus/commit/389aea5fe0d35af3a0ddae8f4bffe520c41bb7d9", "committedDate": "2020-09-04T13:15:26Z", "message": "Re-enable Mongodb Reactive with Panache test"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "892f0a8e95cec637e73fa2a80ebb354e27a0c019", "author": {"user": {"login": "kenfinnigan", "name": "Ken Finnigan"}}, "url": "https://github.com/quarkusio/quarkus/commit/892f0a8e95cec637e73fa2a80ebb354e27a0c019", "committedDate": "2020-09-02T18:44:10Z", "message": "Re-enable MutinyTest\n - Fixes #11687\n - Moved JAX-RS ClientBuilder service file for native to RESTClientProcessor\n - Use existing ResteasyProviderFactory to register client providers with if it exists, and don't replace the provider directly"}, "afterCommit": {"oid": "389aea5fe0d35af3a0ddae8f4bffe520c41bb7d9", "author": {"user": {"login": "kenfinnigan", "name": "Ken Finnigan"}}, "url": "https://github.com/quarkusio/quarkus/commit/389aea5fe0d35af3a0ddae8f4bffe520c41bb7d9", "committedDate": "2020-09-04T13:15:26Z", "message": "Re-enable Mongodb Reactive with Panache test"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgyNjc0MDgw", "url": "https://github.com/quarkusio/quarkus/pull/11828#pullrequestreview-482674080", "createdAt": "2020-09-04T13:57:32Z", "commit": {"oid": "389aea5fe0d35af3a0ddae8f4bffe520c41bb7d9"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNFQxMzo1NzozMlrOHNOk6A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNFQxMzo1NzozMlrOHNOk6A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzYzMjM2MA==", "bodyText": "There's also NativeMongodbPanacheResourceIT in integration-tests/mongodb-panache which has been disabled for this same reason. That one needs to be re-enabled too, either in this PR or as a separate one.", "url": "https://github.com/quarkusio/quarkus/pull/11828#discussion_r483632360", "createdAt": "2020-09-04T13:57:32Z", "author": {"login": "jaikiran"}, "path": "integration-tests/mongodb-panache/src/test/java/io/quarkus/it/mongodb/panache/reactive/ReactiveMongodbPanacheResourceTest.java", "diffHunk": "@@ -43,7 +42,6 @@\n \n @QuarkusTest\n @QuarkusTestResource(MongoTestResource.class)\n-@Disabled(\"See https://github.com/quarkusio/quarkus/issues/11711\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "389aea5fe0d35af3a0ddae8f4bffe520c41bb7d9"}, "originalPosition": 12}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 680, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}