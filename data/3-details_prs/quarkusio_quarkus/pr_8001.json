{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkxMjQ5MjQ3", "number": 8001, "title": "Replace ApplicationIndexBuildItem with CombinedIndexBuildItem where it makes sense", "bodyText": ".. and search for resources in all the application archives instead of only in the root one\nI am not sure whether it all makes sense. I'm doing some refactoring and these changes did help.", "createdAt": "2020-03-19T21:35:56Z", "url": "https://github.com/quarkusio/quarkus/pull/8001", "merged": true, "mergeCommit": {"oid": "d67747f70a38deaedd33d9d759ee1d87209b6b11"}, "closed": true, "closedAt": "2020-03-26T18:17:56Z", "author": {"login": "aloubyansky"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcPeLuHAFqTM3ODM3OTkzOQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcRgQiMgFqTM4MjI4NjcyOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc4Mzc5OTM5", "url": "https://github.com/quarkusio/quarkus/pull/8001#pullrequestreview-378379939", "createdAt": "2020-03-20T10:44:54Z", "commit": {"oid": "c889a720e14f4343234b314ed9ef2f30ede54733"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMFQxMDo0NDo1NFrOF5O4Ng==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMFQxMDo0NDo1NFrOF5O4Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTU1NjkxOA==", "bodyText": "@geoand do you remember the reason why class-based @ConfigProperties requied the ApplicationIndexBuildItem? I think it's safe to use the CombinedIndexBuildItem here...", "url": "https://github.com/quarkusio/quarkus/pull/8001#discussion_r395556918", "createdAt": "2020-03-20T10:44:54Z", "author": {"login": "mkouba"}, "path": "extensions/arc/deployment/src/main/java/io/quarkus/arc/deployment/configproperties/ConfigPropertiesBuildStep.java", "diffHunk": "@@ -89,7 +87,7 @@ void setup(CombinedIndexBuildItem combinedIndex,\n                 boolean needsValidation = ClassConfigPropertiesUtil.addProducerMethodForClassConfigProperties(\n                         deploymentClassLoader.getClassLoader(), classInfo, producerClassCreator,\n                         configPropertiesMetadata.getPrefix(), configPropertiesMetadata.getNamingStrategy(),\n-                        applicationIndex.getIndex(), configProperties);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c889a720e14f4343234b314ed9ef2f30ede54733"}, "originalPosition": 20}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc4Mzg0NDQw", "url": "https://github.com/quarkusio/quarkus/pull/8001#pullrequestreview-378384440", "createdAt": "2020-03-20T10:52:29Z", "commit": {"oid": "c889a720e14f4343234b314ed9ef2f30ede54733"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMFQxMDo1MjoyOVrOF5PGDw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMFQxMDo1MjoyOVrOF5PGDw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTU2MDQ2Mw==", "bodyText": "@FroMage modelClasses are built from the CombinedIndexBuildItem so it should be safe to use it here as well, or?", "url": "https://github.com/quarkusio/quarkus/pull/8001#discussion_r395560463", "createdAt": "2020-03-20T10:52:29Z", "author": {"login": "mkouba"}, "path": "extensions/panache/hibernate-orm-panache/deployment/src/main/java/io/quarkus/hibernate/orm/panache/deployment/PanacheResourceProcessor.java", "diffHunk": "@@ -109,7 +107,7 @@ void build(CombinedIndexBuildItem index,\n         MetamodelInfo<EntityModel<EntityField>> modelInfo = modelEnhancer.getModelInfo();\n         if (modelInfo.hasEntities()) {\n             PanacheFieldAccessEnhancer panacheFieldAccessEnhancer = new PanacheFieldAccessEnhancer(modelInfo);\n-            for (ClassInfo classInfo : applicationIndex.getIndex().getKnownClasses()) {\n+            for (ClassInfo classInfo : index.getIndex().getKnownClasses()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c889a720e14f4343234b314ed9ef2f30ede54733"}, "originalPosition": 21}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c889a720e14f4343234b314ed9ef2f30ede54733", "author": {"user": {"login": "aloubyansky", "name": "Alexey Loubyansky"}}, "url": "https://github.com/quarkusio/quarkus/commit/c889a720e14f4343234b314ed9ef2f30ede54733", "committedDate": "2020-03-19T21:26:41Z", "message": "Replace ApplicationIndexBuildItem with CombinedIndexBuildItem and search for resources in all the application archives instead of only in the root where it makes sense"}, "afterCommit": {"oid": "d60adec0454990de4ab3e18397cfc48f87e570d6", "author": {"user": {"login": "aloubyansky", "name": "Alexey Loubyansky"}}, "url": "https://github.com/quarkusio/quarkus/commit/d60adec0454990de4ab3e18397cfc48f87e570d6", "committedDate": "2020-03-24T10:37:15Z", "message": "Replace ApplicationIndexBuildItem with CombinedIndexBuildItem and search for resources in all the application archives instead of only in the root where it makes sense"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "403bf6c960eb9e4fc2fb84a93f735dd95f950c21", "author": {"user": {"login": "aloubyansky", "name": "Alexey Loubyansky"}}, "url": "https://github.com/quarkusio/quarkus/commit/403bf6c960eb9e4fc2fb84a93f735dd95f950c21", "committedDate": "2020-03-24T12:52:16Z", "message": "Replace ApplicationIndexBuildItem with CombinedIndexBuildItem and search for resources in all the application archives instead of only in the root where it makes sense"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d60adec0454990de4ab3e18397cfc48f87e570d6", "author": {"user": {"login": "aloubyansky", "name": "Alexey Loubyansky"}}, "url": "https://github.com/quarkusio/quarkus/commit/d60adec0454990de4ab3e18397cfc48f87e570d6", "committedDate": "2020-03-24T10:37:15Z", "message": "Replace ApplicationIndexBuildItem with CombinedIndexBuildItem and search for resources in all the application archives instead of only in the root where it makes sense"}, "afterCommit": {"oid": "403bf6c960eb9e4fc2fb84a93f735dd95f950c21", "author": {"user": {"login": "aloubyansky", "name": "Alexey Loubyansky"}}, "url": "https://github.com/quarkusio/quarkus/commit/403bf6c960eb9e4fc2fb84a93f735dd95f950c21", "committedDate": "2020-03-24T12:52:16Z", "message": "Replace ApplicationIndexBuildItem with CombinedIndexBuildItem and search for resources in all the application archives instead of only in the root where it makes sense"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgyMjg2NzI4", "url": "https://github.com/quarkusio/quarkus/pull/8001#pullrequestreview-382286728", "createdAt": "2020-03-26T18:17:49Z", "commit": {"oid": "403bf6c960eb9e4fc2fb84a93f735dd95f950c21"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3751, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}