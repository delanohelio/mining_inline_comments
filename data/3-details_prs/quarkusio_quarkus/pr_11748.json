{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc2Mjg2ODMx", "number": 11748, "title": "When using Secrets, config functionality should be auto enabled", "bodyText": "is related to #11258", "createdAt": "2020-08-31T13:07:50Z", "url": "https://github.com/quarkusio/quarkus/pull/11748", "merged": true, "mergeCommit": {"oid": "126cd5577bdf2f95118967af5c31823104c41917"}, "closed": true, "closedAt": "2020-09-02T05:57:37Z", "author": {"login": "ketoketo"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdEoWsDgBqjM3MTUyNTk4NzU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdE1kRPgFqTQ4MDUwMzkwNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5c46c063d55ae78e06e6696b0aece11ae52dd357", "author": {"user": {"login": "ketoketo", "name": null}}, "url": "https://github.com/quarkusio/quarkus/commit/5c46c063d55ae78e06e6696b0aece11ae52dd357", "committedDate": "2020-09-01T13:03:38Z", "message": "Merge branch 'fix-secrets-enabled-option' of https://github.com/ketoketo/quarkus into fix-secrets-enabled-option"}, "afterCommit": {"oid": "9bad2c9b09d5f5aad27f8162143b1124d556dbc3", "author": {"user": {"login": "gsmet", "name": "Guillaume Smet"}}, "url": "https://github.com/quarkusio/quarkus/commit/9bad2c9b09d5f5aad27f8162143b1124d556dbc3", "committedDate": "2020-08-21T12:00:48Z", "message": "Merge pull request #11482 from vietk/bugfix/jaxrs-support-openapi-annotation\n\nFix for Constructor injection when using OpenApi annotations in JAX-Rs resource"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc5ODU0MDMz", "url": "https://github.com/quarkusio/quarkus/pull/11748#pullrequestreview-479854033", "createdAt": "2020-09-01T15:19:08Z", "commit": {"oid": "ad4a2c0a06f3c488c194118cfd54529233e63dbe"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQxNToxOTowOFrOHK7nvA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQxNToxOTowOFrOHK7nvA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTIyNDYzNg==", "bodyText": "enabling secrets, then config maps are enabled\n\nI believe I've modified the configMap to not load the configMap if quarkus.kubernetes-config.enabled=false. What do you think?", "url": "https://github.com/quarkusio/quarkus/pull/11748#discussion_r481224636", "createdAt": "2020-09-01T15:19:08Z", "author": {"login": "ketoketo"}, "path": "extensions/kubernetes-config/runtime/src/main/java/io/quarkus/kubernetes/client/runtime/KubernetesConfigSourceProvider.java", "diffHunk": "@@ -38,10 +41,10 @@ public KubernetesConfigSourceProvider(KubernetesConfigSourceConfig config, Kuber\n         }\n \n         List<ConfigSource> result = new ArrayList<>();\n-        if (config.configMaps.isPresent()) {\n+        if (config.enabled && config.configMaps.isPresent()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ad4a2c0a06f3c488c194118cfd54529233e63dbe"}, "originalPosition": 23}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgwMDY5NzQ0", "url": "https://github.com/quarkusio/quarkus/pull/11748#pullrequestreview-480069744", "createdAt": "2020-09-01T19:55:44Z", "commit": {"oid": "ad4a2c0a06f3c488c194118cfd54529233e63dbe"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQxOTo1NTo0NVrOHLGBCA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQxOTo1NTo0NVrOHLGBCA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTM5NDk1Mg==", "bodyText": "Minor nitpick: Please avoid using start imports", "url": "https://github.com/quarkusio/quarkus/pull/11748#discussion_r481394952", "createdAt": "2020-09-01T19:55:45Z", "author": {"login": "geoand"}, "path": "extensions/kubernetes-config/runtime/src/test/java/io/quarkus/kubernetes/client/runtime/KubernetesConfigSourceProviderTest.java", "diffHunk": "@@ -13,10 +14,7 @@\n import org.junit.jupiter.api.Test;\n import org.mockito.Mockito;\n \n-import io.fabric8.kubernetes.api.model.ConfigMap;\n-import io.fabric8.kubernetes.api.model.ConfigMapBuilder;\n-import io.fabric8.kubernetes.api.model.ConfigMapList;\n-import io.fabric8.kubernetes.api.model.DoneableConfigMap;\n+import io.fabric8.kubernetes.api.model.*;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ad4a2c0a06f3c488c194118cfd54529233e63dbe"}, "originalPosition": 16}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f350ec7480132fdd0d497d6c2fe43f53ed1ec707", "author": {"user": {"login": "ketoketo", "name": null}}, "url": "https://github.com/quarkusio/quarkus/commit/f350ec7480132fdd0d497d6c2fe43f53ed1ec707", "committedDate": "2020-09-01T22:51:08Z", "message": "Fix to read secrets when secrets.enabled is true\n\nfix integration test\n\nfix log\n\nfix import"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ad4a2c0a06f3c488c194118cfd54529233e63dbe", "author": {"user": {"login": "ketoketo", "name": null}}, "url": "https://github.com/quarkusio/quarkus/commit/ad4a2c0a06f3c488c194118cfd54529233e63dbe", "committedDate": "2020-09-01T14:38:25Z", "message": "Fix to read secrets when secrets.enabled is true\n\nfix integration test\n\nfix log"}, "afterCommit": {"oid": "f350ec7480132fdd0d497d6c2fe43f53ed1ec707", "author": {"user": {"login": "ketoketo", "name": null}}, "url": "https://github.com/quarkusio/quarkus/commit/f350ec7480132fdd0d497d6c2fe43f53ed1ec707", "committedDate": "2020-09-01T22:51:08Z", "message": "Fix to read secrets when secrets.enabled is true\n\nfix integration test\n\nfix log\n\nfix import"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgwNTAzOTA1", "url": "https://github.com/quarkusio/quarkus/pull/11748#pullrequestreview-480503905", "createdAt": "2020-09-02T05:57:31Z", "commit": {"oid": "f350ec7480132fdd0d497d6c2fe43f53ed1ec707"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 645, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}