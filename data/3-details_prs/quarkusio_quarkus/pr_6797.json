{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY3MjE5ODgy", "number": 6797, "title": "Efficient caching for multi stage build", "bodyText": "", "createdAt": "2020-01-26T13:53:05Z", "url": "https://github.com/quarkusio/quarkus/pull/6797", "merged": true, "mergeCommit": {"oid": "1c7707976c31080cfe780323633932f6ee053dc7"}, "closed": true, "closedAt": "2020-04-23T15:00:23Z", "author": {"login": "crumohr"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb-L3pLAFqTM0ODM5NDkzNw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcaeNjSAFqTM5OTE4NzgyNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ4Mzk0OTM3", "url": "https://github.com/quarkusio/quarkus/pull/6797#pullrequestreview-348394937", "createdAt": "2020-01-26T17:47:34Z", "commit": {"oid": "6549da67a5835d672580f48fd82a0e29701b590d"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yNlQxNzo0NzozNFrOFh1HOg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yNlQxNzo0Nzo0MlrOFh1HQw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTAxNzUzMA==", "bodyText": "Why this change? I don't see how it's related to the other part", "url": "https://github.com/quarkusio/quarkus/pull/6797#discussion_r371017530", "createdAt": "2020-01-26T17:47:34Z", "author": {"login": "geoand"}, "path": "docs/src/main/asciidoc/building-native-image.adoc", "diffHunk": "@@ -348,12 +348,13 @@ In this guide we will use the first stage to generate the native executable usin\n ----\n ## Stage 1 : build with maven builder image with native capabilities\n FROM quay.io/quarkus/centos-quarkus-maven:{graalvm-version} AS build\n-COPY src /usr/src/app/src\n-COPY pom.xml /usr/src/app\n+COPY pom.xml /project/usr/src/app/\n+RUN mvn -f /project/usr/src/app/pom.xml -B de.qaware.maven:go-offline-maven-plugin:1.2.4:resolve-dependencies\n+COPY src /project/usr/src/app/src\n USER root\n-RUN chown -R quarkus /usr/src/app\n+RUN chown -R quarkus /project/usr/src/app", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6549da67a5835d672580f48fd82a0e29701b590d"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTAxNzUzOQ==", "bodyText": "Same here", "url": "https://github.com/quarkusio/quarkus/pull/6797#discussion_r371017539", "createdAt": "2020-01-26T17:47:42Z", "author": {"login": "geoand"}, "path": "docs/src/main/asciidoc/building-native-image.adoc", "diffHunk": "@@ -348,12 +348,13 @@ In this guide we will use the first stage to generate the native executable usin\n ----\n ## Stage 1 : build with maven builder image with native capabilities\n FROM quay.io/quarkus/centos-quarkus-maven:{graalvm-version} AS build\n-COPY src /usr/src/app/src\n-COPY pom.xml /usr/src/app\n+COPY pom.xml /project/usr/src/app/\n+RUN mvn -f /project/usr/src/app/pom.xml -B de.qaware.maven:go-offline-maven-plugin:1.2.4:resolve-dependencies\n+COPY src /project/usr/src/app/src\n USER root\n-RUN chown -R quarkus /usr/src/app\n+RUN chown -R quarkus /project/usr/src/app\n USER quarkus\n-RUN mvn -f /usr/src/app/pom.xml -Pnative clean package\n+RUN mvn -f /project/usr/src/app/pom.xml -Pnative clean package", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6549da67a5835d672580f48fd82a0e29701b590d"}, "originalPosition": 14}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcxOTE5NTUy", "url": "https://github.com/quarkusio/quarkus/pull/6797#pullrequestreview-371919552", "createdAt": "2020-03-10T12:49:28Z", "commit": {"oid": "9f9cb709a52533bb80af551f332b4967e19c0674"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d1a6c69b20300d1a10d30d9938b6a18a12bacc95", "author": {"user": {"login": "crumohr", "name": "crumohr"}}, "url": "https://github.com/quarkusio/quarkus/commit/d1a6c69b20300d1a10d30d9938b6a18a12bacc95", "committedDate": "2020-04-23T10:05:44Z", "message": "Efficient caching for multi stage build"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk5MTg3ODI0", "url": "https://github.com/quarkusio/quarkus/pull/6797#pullrequestreview-399187824", "createdAt": "2020-04-23T15:00:04Z", "commit": {"oid": "d1a6c69b20300d1a10d30d9938b6a18a12bacc95"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 157, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}