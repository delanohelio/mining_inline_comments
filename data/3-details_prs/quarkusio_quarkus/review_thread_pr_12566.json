{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk4ODg0NjI0", "number": 12566, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QwOToyMTozN1rOErFxmw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOFQwNjozMDowMVrOErdxPg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEzNjE4ODQzOnYy", "diffSide": "RIGHT", "path": "extensions/resteasy-jsonb/runtime/src/main/java/io/quarkus/resteasy/jsonb/QuarkusJSONBSerializer.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QwOToyMTozN1rOHdqW3Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QwOToyMTozN1rOHdqW3Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDg2NDczMw==", "bodyText": "Should be called QuarkusJsonbSerializer for consistency with other classes.", "url": "https://github.com/quarkusio/quarkus/pull/12566#discussion_r500864733", "createdAt": "2020-10-07T09:21:37Z", "author": {"login": "gsmet"}, "path": "extensions/resteasy-jsonb/runtime/src/main/java/io/quarkus/resteasy/jsonb/QuarkusJSONBSerializer.java", "diffHunk": "@@ -0,0 +1,77 @@\n+package io.quarkus.resteasy.jsonb;\n+\n+import java.io.File;\n+import java.io.IOException;\n+import java.io.InputStream;\n+import java.io.OutputStream;\n+import java.io.Reader;\n+import java.lang.annotation.Annotation;\n+import java.lang.reflect.Type;\n+import java.util.Arrays;\n+import java.util.HashSet;\n+import java.util.Set;\n+import java.util.concurrent.CompletionStage;\n+\n+import javax.activation.DataSource;\n+import javax.annotation.Priority;\n+import javax.ws.rs.Consumes;\n+import javax.ws.rs.Priorities;\n+import javax.ws.rs.Produces;\n+import javax.ws.rs.WebApplicationException;\n+import javax.ws.rs.core.HttpHeaders;\n+import javax.ws.rs.core.MediaType;\n+import javax.ws.rs.core.MultivaluedMap;\n+import javax.ws.rs.core.StreamingOutput;\n+import javax.ws.rs.ext.Provider;\n+\n+import org.jboss.resteasy.plugins.providers.FileRange;\n+import org.jboss.resteasy.plugins.providers.jsonb.JsonBindingProvider;\n+import org.jboss.resteasy.spi.AsyncOutputStream;\n+import org.jboss.resteasy.spi.AsyncStreamingOutput;\n+\n+/**\n+ * provider that can produce JSON by default, removing the need for @Produces and @Consumes everywhere\n+ */\n+@Provider\n+@Produces(MediaType.WILDCARD)\n+@Consumes(MediaType.WILDCARD)\n+@Priority(Priorities.USER - 200)\n+public class QuarkusJSONBSerializer extends JsonBindingProvider {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c5c997659f366062f27a5e785466be00b0b3f76b"}, "originalPosition": 39}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEzNjE4OTM1OnYy", "diffSide": "RIGHT", "path": "extensions/resteasy-jsonb/runtime/src/main/java/io/quarkus/resteasy/jsonb/QuarkusJSONBSerializer.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QwOToyMTo1MlrOHdqXcg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMlQxNDo0NDowMVrOHgBujA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDg2NDg4Mg==", "bodyText": "It's not API so it should be in the runtime package.", "url": "https://github.com/quarkusio/quarkus/pull/12566#discussion_r500864882", "createdAt": "2020-10-07T09:21:52Z", "author": {"login": "gsmet"}, "path": "extensions/resteasy-jsonb/runtime/src/main/java/io/quarkus/resteasy/jsonb/QuarkusJSONBSerializer.java", "diffHunk": "@@ -0,0 +1,77 @@\n+package io.quarkus.resteasy.jsonb;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c5c997659f366062f27a5e785466be00b0b3f76b"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzM0NDc4MA==", "bodyText": "And same for the Jackson one.", "url": "https://github.com/quarkusio/quarkus/pull/12566#discussion_r503344780", "createdAt": "2020-10-12T14:44:01Z", "author": {"login": "gsmet"}, "path": "extensions/resteasy-jsonb/runtime/src/main/java/io/quarkus/resteasy/jsonb/QuarkusJSONBSerializer.java", "diffHunk": "@@ -0,0 +1,77 @@\n+package io.quarkus.resteasy.jsonb;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDg2NDg4Mg=="}, "originalCommit": {"oid": "c5c997659f366062f27a5e785466be00b0b3f76b"}, "originalPosition": 1}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE0MDExOTY2OnYy", "diffSide": "RIGHT", "path": "docs/src/main/asciidoc/rest-json.adoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOFQwNjozMDowMVrOHePuEw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOFQwNjozMDowMVrOHePuEw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTQ3Njg4Mw==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            If you don't want JSON my default you can set `quarkus.resteasy-json.default-json=false` and the default will change back to `application/octet-stream`. If you set this\n          \n          \n            \n            If you don't want JSON by default you can set `quarkus.resteasy-json.default-json=false` and the default will change back to `application/octet-stream`. If you set this", "url": "https://github.com/quarkusio/quarkus/pull/12566#discussion_r501476883", "createdAt": "2020-10-08T06:30:01Z", "author": {"login": "Ladicek"}, "path": "docs/src/main/asciidoc/rest-json.adoc", "diffHunk": "@@ -172,9 +167,13 @@ depending on the extension you chose when initializing the project.\n \n [NOTE]\n ====\n-While RESTEasy supports auto-negotiation, when using Quarkus, it is very important to define the `@Produces` and `@Consumes` annotations.\n-They are analyzed at build time and Quarkus restricts the number of JAX-RS providers included in the native executable to the minimum required by the application.\n-It allows to reduce the size of the native executable.\n+When JSON extension is installed such as `quarkus-resteasy-jsonb` Quarkus will use this by default for most return values, unless the media type is explicitly set via\n+and `@Produces` or `@Consumes` annotation (there are some exceptions for well known types, such as `String` and `File`, which default to `text/plain` and `application/octet-stream`\n+respectively).\n+\n+If you don't want JSON my default you can set `quarkus.resteasy-json.default-json=false` and the default will change back to `application/octet-stream`. If you set this", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "18456a9c07cab100c643118b04c42fd8c0e71501"}, "originalPosition": 29}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4380, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}