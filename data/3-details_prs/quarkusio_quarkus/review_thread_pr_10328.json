{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQxMTAyNzQ5", "number": 10328, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOVQxMjoyOTo0OVrOEJoqZg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQwMjozNzo1NVrOEJ6DuA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc4NTM4ODU0OnYy", "diffSide": "RIGHT", "path": "core/deployment/src/main/java/io/quarkus/deployment/dev/DevModeConfig.java", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOVQxMjoyOTo0OVrOGqOmRw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOVQyMDo0MjoxMVrOGqhcsg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjkzMjU1MQ==", "bodyText": "For me the idea is to extend io.quarkus.deployment.LiveReloadConfig and move the top class comment on top of the existing properties.\nI would include your property first to have something clean.", "url": "https://github.com/quarkusio/quarkus/pull/10328#discussion_r446932551", "createdAt": "2020-06-29T12:29:49Z", "author": {"login": "gsmet"}, "path": "core/deployment/src/main/java/io/quarkus/deployment/dev/DevModeConfig.java", "diffHunk": "@@ -0,0 +1,17 @@\n+package io.quarkus.deployment.dev;\n+\n+import java.util.List;\n+import java.util.Optional;\n+\n+import io.quarkus.runtime.annotations.ConfigItem;\n+import io.quarkus.runtime.annotations.ConfigRoot;\n+\n+@ConfigRoot(name = \"devmode\")\n+public class DevModeConfig {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e4c4ee97c727e1163c6c3eeb8c046200267ca0fc"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Njk3NjM2Ng==", "bodyText": "I would include your property first to have something clean.\n\nYou mean leave it additional-watched-resources?", "url": "https://github.com/quarkusio/quarkus/pull/10328#discussion_r446976366", "createdAt": "2020-06-29T13:36:11Z", "author": {"login": "famod"}, "path": "core/deployment/src/main/java/io/quarkus/deployment/dev/DevModeConfig.java", "diffHunk": "@@ -0,0 +1,17 @@\n+package io.quarkus.deployment.dev;\n+\n+import java.util.List;\n+import java.util.Optional;\n+\n+import io.quarkus.runtime.annotations.ConfigItem;\n+import io.quarkus.runtime.annotations.ConfigRoot;\n+\n+@ConfigRoot(name = \"devmode\")\n+public class DevModeConfig {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjkzMjU1MQ=="}, "originalCommit": {"oid": "e4c4ee97c727e1163c6c3eeb8c046200267ca0fc"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzIyMTM1OA==", "bodyText": "Yes, the property name is OK IMO. I was just saying you should put yours before the dummy ones we already have in io.quarkus.deployment.LiveReloadConfig.", "url": "https://github.com/quarkusio/quarkus/pull/10328#discussion_r447221358", "createdAt": "2020-06-29T20:04:24Z", "author": {"login": "gsmet"}, "path": "core/deployment/src/main/java/io/quarkus/deployment/dev/DevModeConfig.java", "diffHunk": "@@ -0,0 +1,17 @@\n+package io.quarkus.deployment.dev;\n+\n+import java.util.List;\n+import java.util.Optional;\n+\n+import io.quarkus.runtime.annotations.ConfigItem;\n+import io.quarkus.runtime.annotations.ConfigRoot;\n+\n+@ConfigRoot(name = \"devmode\")\n+public class DevModeConfig {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjkzMjU1MQ=="}, "originalCommit": {"oid": "e4c4ee97c727e1163c6c3eeb8c046200267ca0fc"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzI0MTM5NA==", "bodyText": "Done.", "url": "https://github.com/quarkusio/quarkus/pull/10328#discussion_r447241394", "createdAt": "2020-06-29T20:42:11Z", "author": {"login": "famod"}, "path": "core/deployment/src/main/java/io/quarkus/deployment/dev/DevModeConfig.java", "diffHunk": "@@ -0,0 +1,17 @@\n+package io.quarkus.deployment.dev;\n+\n+import java.util.List;\n+import java.util.Optional;\n+\n+import io.quarkus.runtime.annotations.ConfigItem;\n+import io.quarkus.runtime.annotations.ConfigRoot;\n+\n+@ConfigRoot(name = \"devmode\")\n+public class DevModeConfig {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjkzMjU1MQ=="}, "originalCommit": {"oid": "e4c4ee97c727e1163c6c3eeb8c046200267ca0fc"}, "originalPosition": 10}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc4ODIzODY0OnYy", "diffSide": "RIGHT", "path": "core/runtime/src/main/java/io/quarkus/runtime/LiveReloadConfig.java", "isResolved": false, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQwMjozNzo1NVrOGqpfRA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMVQwNTowOTo1MVrOGrW-FA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzM3MzEyNA==", "bodyText": "More of a curiosity than a review comment - For types like List does it add value to wrap it add around a Optional? If no config values are provided for the property, then the config management framework can perhaps just create an empty list?", "url": "https://github.com/quarkusio/quarkus/pull/10328#discussion_r447373124", "createdAt": "2020-06-30T02:37:55Z", "author": {"login": "jaikiran"}, "path": "core/runtime/src/main/java/io/quarkus/runtime/LiveReloadConfig.java", "diffHunk": "@@ -1,20 +1,21 @@\n package io.quarkus.runtime;\n \n+import java.util.List;\n import java.util.Optional;\n \n import io.quarkus.runtime.annotations.ConfigItem;\n import io.quarkus.runtime.annotations.ConfigPhase;\n import io.quarkus.runtime.annotations.ConfigRoot;\n \n-/**\n- * This is used currently only to suppress warnings about unknown properties\n- * when the user supplies something like: -Dquarkus.live-reload.password=secret\n- *\n- * TODO refactor code to actually use these values\n- */\n @ConfigRoot(phase = ConfigPhase.BUILD_AND_RUN_TIME_FIXED)\n public class LiveReloadConfig {\n \n+    /**\n+     * The names of additional resources to watch for changes, triggering a reload on change.\n+     */\n+    @ConfigItem\n+    public Optional<List<String>> additionalWatchedResources;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6a68735c86974a5a5283728cbc3315cbd43d2120"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzY0NDc4OQ==", "bodyText": "Ah ah, you want to talk to @dmlloyd about that :).\nIf you want to allow the empty list, you need an Optional.", "url": "https://github.com/quarkusio/quarkus/pull/10328#discussion_r447644789", "createdAt": "2020-06-30T12:31:05Z", "author": {"login": "gsmet"}, "path": "core/runtime/src/main/java/io/quarkus/runtime/LiveReloadConfig.java", "diffHunk": "@@ -1,20 +1,21 @@\n package io.quarkus.runtime;\n \n+import java.util.List;\n import java.util.Optional;\n \n import io.quarkus.runtime.annotations.ConfigItem;\n import io.quarkus.runtime.annotations.ConfigPhase;\n import io.quarkus.runtime.annotations.ConfigRoot;\n \n-/**\n- * This is used currently only to suppress warnings about unknown properties\n- * when the user supplies something like: -Dquarkus.live-reload.password=secret\n- *\n- * TODO refactor code to actually use these values\n- */\n @ConfigRoot(phase = ConfigPhase.BUILD_AND_RUN_TIME_FIXED)\n public class LiveReloadConfig {\n \n+    /**\n+     * The names of additional resources to watch for changes, triggering a reload on change.\n+     */\n+    @ConfigItem\n+    public Optional<List<String>> additionalWatchedResources;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzM3MzEyNA=="}, "originalCommit": {"oid": "6a68735c86974a5a5283728cbc3315cbd43d2120"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODExNTEzNg==", "bodyText": "I don't remember the exact reason (although David certainly does and perhaps @ia3andy to whom David had explained it recently), but what Guillaume says is spot on.", "url": "https://github.com/quarkusio/quarkus/pull/10328#discussion_r448115136", "createdAt": "2020-07-01T04:56:30Z", "author": {"login": "geoand"}, "path": "core/runtime/src/main/java/io/quarkus/runtime/LiveReloadConfig.java", "diffHunk": "@@ -1,20 +1,21 @@\n package io.quarkus.runtime;\n \n+import java.util.List;\n import java.util.Optional;\n \n import io.quarkus.runtime.annotations.ConfigItem;\n import io.quarkus.runtime.annotations.ConfigPhase;\n import io.quarkus.runtime.annotations.ConfigRoot;\n \n-/**\n- * This is used currently only to suppress warnings about unknown properties\n- * when the user supplies something like: -Dquarkus.live-reload.password=secret\n- *\n- * TODO refactor code to actually use these values\n- */\n @ConfigRoot(phase = ConfigPhase.BUILD_AND_RUN_TIME_FIXED)\n public class LiveReloadConfig {\n \n+    /**\n+     * The names of additional resources to watch for changes, triggering a reload on change.\n+     */\n+    @ConfigItem\n+    public Optional<List<String>> additionalWatchedResources;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzM3MzEyNA=="}, "originalCommit": {"oid": "6a68735c86974a5a5283728cbc3315cbd43d2120"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODExODI5Mg==", "bodyText": "@dmlloyd will confirm but from what I remember, it was to be consistant for all different types, it's not Optional if not specified as an Optional whatever the type. and you can always decide to convert the empty optional to an empty list when consuming it.\nI have a task in my todos to document that a bit better, but it's always sliding, I need to get to it \ud83d\ude05, aw and I created an issue:\n#8306", "url": "https://github.com/quarkusio/quarkus/pull/10328#discussion_r448118292", "createdAt": "2020-07-01T05:09:51Z", "author": {"login": "ia3andy"}, "path": "core/runtime/src/main/java/io/quarkus/runtime/LiveReloadConfig.java", "diffHunk": "@@ -1,20 +1,21 @@\n package io.quarkus.runtime;\n \n+import java.util.List;\n import java.util.Optional;\n \n import io.quarkus.runtime.annotations.ConfigItem;\n import io.quarkus.runtime.annotations.ConfigPhase;\n import io.quarkus.runtime.annotations.ConfigRoot;\n \n-/**\n- * This is used currently only to suppress warnings about unknown properties\n- * when the user supplies something like: -Dquarkus.live-reload.password=secret\n- *\n- * TODO refactor code to actually use these values\n- */\n @ConfigRoot(phase = ConfigPhase.BUILD_AND_RUN_TIME_FIXED)\n public class LiveReloadConfig {\n \n+    /**\n+     * The names of additional resources to watch for changes, triggering a reload on change.\n+     */\n+    @ConfigItem\n+    public Optional<List<String>> additionalWatchedResources;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzM3MzEyNA=="}, "originalCommit": {"oid": "6a68735c86974a5a5283728cbc3315cbd43d2120"}, "originalPosition": 23}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2688, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}