{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA2MDQyNzc2", "number": 12797, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQxNDo1NDozNFrOEvW5kA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQxNToxMDowNlrOEvXXAw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE4MDkzNzEyOnYy", "diffSide": "RIGHT", "path": "docs/src/main/asciidoc/grpc-getting-started.adoc", "isResolved": true, "comments": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQxNDo1NDozNFrOHkS2Jw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQwNzo0MDoxOFrOHkuuxw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzgxOTU1OQ==", "bodyText": "Is there a reason for not having quarkus.generate-code.grpc.scan-for-imports as true by default ? Would it hurt the performance ?", "url": "https://github.com/quarkusio/quarkus/pull/12797#discussion_r507819559", "createdAt": "2020-10-19T14:54:34Z", "author": {"login": "gaetancollaud"}, "path": "docs/src/main/asciidoc/grpc-getting-started.adoc", "diffHunk": "@@ -51,6 +51,17 @@ If you wish to generate code from different `proto` files for tests, also add th\n \n With this configuration, you can put your service and message definitions in the `src/main/proto` directory.\n `quarkus-maven-plugin` will generate Java files from your `proto` files.\n+\n+Please note that by default only the proto files in the `src/main/proto` and `src/test/proto` will be compiled and available as protobuf imports.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "02819f3d3276877543236e6f3ef16c0618c491f3"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzgyMjQ1NQ==", "bodyText": "that's what I'm afraid. But let's see what others think", "url": "https://github.com/quarkusio/quarkus/pull/12797#discussion_r507822455", "createdAt": "2020-10-19T14:58:11Z", "author": {"login": "michalszynkiewicz"}, "path": "docs/src/main/asciidoc/grpc-getting-started.adoc", "diffHunk": "@@ -51,6 +51,17 @@ If you wish to generate code from different `proto` files for tests, also add th\n \n With this configuration, you can put your service and message definitions in the `src/main/proto` directory.\n `quarkus-maven-plugin` will generate Java files from your `proto` files.\n+\n+Please note that by default only the proto files in the `src/main/proto` and `src/test/proto` will be compiled and available as protobuf imports.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzgxOTU1OQ=="}, "originalCommit": {"oid": "02819f3d3276877543236e6f3ef16c0618c491f3"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzgyMjkwMw==", "bodyText": "Adding the proto files as imports doesn't seem to cost much, I'm afraid that scanning all the dependencies can cost a bit", "url": "https://github.com/quarkusio/quarkus/pull/12797#discussion_r507822903", "createdAt": "2020-10-19T14:58:44Z", "author": {"login": "michalszynkiewicz"}, "path": "docs/src/main/asciidoc/grpc-getting-started.adoc", "diffHunk": "@@ -51,6 +51,17 @@ If you wish to generate code from different `proto` files for tests, also add th\n \n With this configuration, you can put your service and message definitions in the `src/main/proto` directory.\n `quarkus-maven-plugin` will generate Java files from your `proto` files.\n+\n+Please note that by default only the proto files in the `src/main/proto` and `src/test/proto` will be compiled and available as protobuf imports.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzgxOTU1OQ=="}, "originalCommit": {"oid": "02819f3d3276877543236e6f3ef16c0618c491f3"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzg2OTc4OQ==", "bodyText": "Yeah, not sure jandex has anything for resources.\nWe may try to recognize well-known dependencies.", "url": "https://github.com/quarkusio/quarkus/pull/12797#discussion_r507869789", "createdAt": "2020-10-19T15:59:43Z", "author": {"login": "cescoffier"}, "path": "docs/src/main/asciidoc/grpc-getting-started.adoc", "diffHunk": "@@ -51,6 +51,17 @@ If you wish to generate code from different `proto` files for tests, also add th\n \n With this configuration, you can put your service and message definitions in the `src/main/proto` directory.\n `quarkus-maven-plugin` will generate Java files from your `proto` files.\n+\n+Please note that by default only the proto files in the `src/main/proto` and `src/test/proto` will be compiled and available as protobuf imports.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzgxOTU1OQ=="}, "originalCommit": {"oid": "02819f3d3276877543236e6f3ef16c0618c491f3"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzk4Nzg3MQ==", "bodyText": "I was actually thinking of giving users three options:\n\nnone for the current behavior\nall for scanning all dependencies\na comma separated list of groupId:artifactId to scan\n\nWith default of com.google.protobuf:protobuf-java, WDYT?", "url": "https://github.com/quarkusio/quarkus/pull/12797#discussion_r507987871", "createdAt": "2020-10-19T18:52:25Z", "author": {"login": "michalszynkiewicz"}, "path": "docs/src/main/asciidoc/grpc-getting-started.adoc", "diffHunk": "@@ -51,6 +51,17 @@ If you wish to generate code from different `proto` files for tests, also add th\n \n With this configuration, you can put your service and message definitions in the `src/main/proto` directory.\n `quarkus-maven-plugin` will generate Java files from your `proto` files.\n+\n+Please note that by default only the proto files in the `src/main/proto` and `src/test/proto` will be compiled and available as protobuf imports.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzgxOTU1OQ=="}, "originalCommit": {"oid": "02819f3d3276877543236e6f3ef16c0618c491f3"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzk4ODU1NA==", "bodyText": "the heavy lifting is done because I can pass the propetry through, I'll update the PR with ^", "url": "https://github.com/quarkusio/quarkus/pull/12797#discussion_r507988554", "createdAt": "2020-10-19T18:53:33Z", "author": {"login": "michalszynkiewicz"}, "path": "docs/src/main/asciidoc/grpc-getting-started.adoc", "diffHunk": "@@ -51,6 +51,17 @@ If you wish to generate code from different `proto` files for tests, also add th\n \n With this configuration, you can put your service and message definitions in the `src/main/proto` directory.\n `quarkus-maven-plugin` will generate Java files from your `proto` files.\n+\n+Please note that by default only the proto files in the `src/main/proto` and `src/test/proto` will be compiled and available as protobuf imports.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzgxOTU1OQ=="}, "originalCommit": {"oid": "02819f3d3276877543236e6f3ef16c0618c491f3"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODIzMzQyOQ==", "bodyText": "Yes, that's what I meant. If com.google.protobuf:protobuf-java is there, or any well-known dependency containing protobuf files we should pick them (exception if configured otherwise such as a comma-separated list).", "url": "https://github.com/quarkusio/quarkus/pull/12797#discussion_r508233429", "createdAt": "2020-10-20T06:14:00Z", "author": {"login": "cescoffier"}, "path": "docs/src/main/asciidoc/grpc-getting-started.adoc", "diffHunk": "@@ -51,6 +51,17 @@ If you wish to generate code from different `proto` files for tests, also add th\n \n With this configuration, you can put your service and message definitions in the `src/main/proto` directory.\n `quarkus-maven-plugin` will generate Java files from your `proto` files.\n+\n+Please note that by default only the proto files in the `src/main/proto` and `src/test/proto` will be compiled and available as protobuf imports.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzgxOTU1OQ=="}, "originalCommit": {"oid": "02819f3d3276877543236e6f3ef16c0618c491f3"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODI3NjQyMw==", "bodyText": "done", "url": "https://github.com/quarkusio/quarkus/pull/12797#discussion_r508276423", "createdAt": "2020-10-20T07:40:18Z", "author": {"login": "michalszynkiewicz"}, "path": "docs/src/main/asciidoc/grpc-getting-started.adoc", "diffHunk": "@@ -51,6 +51,17 @@ If you wish to generate code from different `proto` files for tests, also add th\n \n With this configuration, you can put your service and message definitions in the `src/main/proto` directory.\n `quarkus-maven-plugin` will generate Java files from your `proto` files.\n+\n+Please note that by default only the proto files in the `src/main/proto` and `src/test/proto` will be compiled and available as protobuf imports.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzgxOTU1OQ=="}, "originalCommit": {"oid": "02819f3d3276877543236e6f3ef16c0618c491f3"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE4MTAxMjUxOnYy", "diffSide": "RIGHT", "path": "devtools/gradle/src/main/java/io/quarkus/gradle/tasks/QuarkusGenerateCode.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQxNToxMDowNlrOHkTlIw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQwNzo0MDowNlrOHkuuVw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzgzMTU4Nw==", "bodyText": "Looks like we could re-use realProperties instead of re-building them again?", "url": "https://github.com/quarkusio/quarkus/pull/12797#discussion_r507831587", "createdAt": "2020-10-19T15:10:06Z", "author": {"login": "aloubyansky"}, "path": "devtools/gradle/src/main/java/io/quarkus/gradle/tasks/QuarkusGenerateCode.java", "diffHunk": "@@ -89,7 +89,8 @@ public void prepareQuarkus() {\n                         paths.iterator().next(),\n                         buildDir,\n                         sourceRegistrar,\n-                        appCreationContext.getAppModel());\n+                        appCreationContext.getAppModel(),\n+                        getBuildSystemProperties(extension().getAppArtifact()));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "02819f3d3276877543236e6f3ef16c0618c491f3"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzg2OTkwNQ==", "bodyText": "+1", "url": "https://github.com/quarkusio/quarkus/pull/12797#discussion_r507869905", "createdAt": "2020-10-19T15:59:52Z", "author": {"login": "cescoffier"}, "path": "devtools/gradle/src/main/java/io/quarkus/gradle/tasks/QuarkusGenerateCode.java", "diffHunk": "@@ -89,7 +89,8 @@ public void prepareQuarkus() {\n                         paths.iterator().next(),\n                         buildDir,\n                         sourceRegistrar,\n-                        appCreationContext.getAppModel());\n+                        appCreationContext.getAppModel(),\n+                        getBuildSystemProperties(extension().getAppArtifact()));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzgzMTU4Nw=="}, "originalCommit": {"oid": "02819f3d3276877543236e6f3ef16c0618c491f3"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODI3NjMxMQ==", "bodyText": "done", "url": "https://github.com/quarkusio/quarkus/pull/12797#discussion_r508276311", "createdAt": "2020-10-20T07:40:06Z", "author": {"login": "michalszynkiewicz"}, "path": "devtools/gradle/src/main/java/io/quarkus/gradle/tasks/QuarkusGenerateCode.java", "diffHunk": "@@ -89,7 +89,8 @@ public void prepareQuarkus() {\n                         paths.iterator().next(),\n                         buildDir,\n                         sourceRegistrar,\n-                        appCreationContext.getAppModel());\n+                        appCreationContext.getAppModel(),\n+                        getBuildSystemProperties(extension().getAppArtifact()));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzgzMTU4Nw=="}, "originalCommit": {"oid": "02819f3d3276877543236e6f3ef16c0618c491f3"}, "originalPosition": 6}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4180, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}