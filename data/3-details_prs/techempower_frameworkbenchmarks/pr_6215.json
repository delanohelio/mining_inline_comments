{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQxNTA1NjM4", "number": 6215, "title": "http-jl performance updates", "bodyText": "Use JSON3 instead of JSON\nRun server with multiple processes and threads\nBetter reproducibility with Project.toml\nRename README to match standards", "createdAt": "2020-12-16T23:44:35Z", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/pull/6215", "merged": true, "mergeCommit": {"oid": "bdd0955a89d3960dbdf6a3a09a0637b8410c547f"}, "closed": true, "closedAt": "2020-12-23T16:33:20Z", "author": {"login": "mcmcgrath13"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdm3ic7AH2gAyNTQxNTA1NjM4OjUzODZlNGFiYTA0MjNiOGU2NjhhMzI4ZTI3MmQ3MmFhNDY1N2Q5YzM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdnNlO9gH2gAyNTQxNTA1NjM4OjgzYTZlMzFlN2FiNTNiMWYxMTcxNmRjMjNlNzU2NmIwYWJmNDE1OTg=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "5386e4aba0423b8e668a328e272d72aa4657d9c3", "author": {"user": {"login": "mcmcgrath13", "name": "Mary McGrath"}}, "url": "https://github.com/TechEmpower/FrameworkBenchmarks/commit/5386e4aba0423b8e668a328e272d72aa4657d9c3", "committedDate": "2020-12-16T23:28:46Z", "message": "fix: use project.toml, make multi-threaded and multi-core"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "828a3d233f3714951bce9728a30b007595d21b96", "author": {"user": {"login": "mcmcgrath13", "name": "Mary McGrath"}}, "url": "https://github.com/TechEmpower/FrameworkBenchmarks/commit/828a3d233f3714951bce9728a30b007595d21b96", "committedDate": "2020-12-16T23:44:18Z", "message": "fix: rename README => README.md"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "91d03ff21037c99ad01cc27a178c8adc8930b466", "author": {"user": {"login": "mcmcgrath13", "name": "Mary McGrath"}}, "url": "https://github.com/TechEmpower/FrameworkBenchmarks/commit/91d03ff21037c99ad01cc27a178c8adc8930b466", "committedDate": "2020-12-16T23:57:46Z", "message": "style: delete commented out code"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU0MTk5NDE5", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/pull/6215#pullrequestreview-554199419", "createdAt": "2020-12-17T00:48:08Z", "commit": {"oid": "91d03ff21037c99ad01cc27a178c8adc8930b466"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xN1QwMDo0ODowOFrOIHfk0g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xN1QwMDo0ODowOFrOIHfk0g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDcyODI3NA==", "bodyText": "Maybe include a [compat] section here?\nSo can use ]up to update manifest while respecting semver", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/pull/6215#discussion_r544728274", "createdAt": "2020-12-17T00:48:08Z", "author": {"login": "oxinabox"}, "path": "frameworks/Julia/Http.jl/Project.toml", "diffHunk": "@@ -0,0 +1,3 @@\n+[deps]\n+HTTP = \"cd3eb016-35fb-5094-929b-558a96fad6f3\"\n+JSON3 = \"0f8b85d8-7281-11e9-16c2-39a750bddbf1\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "91d03ff21037c99ad01cc27a178c8adc8930b466"}, "originalPosition": 3}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a041bd9724d3521aaa58705d7d5e5765953e27a1", "author": {"user": {"login": "mcmcgrath13", "name": "Mary McGrath"}}, "url": "https://github.com/TechEmpower/FrameworkBenchmarks/commit/a041bd9724d3521aaa58705d7d5e5765953e27a1", "committedDate": "2020-12-17T01:52:11Z", "message": "build: add compat to project.toml, bump julia version"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e294694b2196e1d653d2f741233f00e158890a94", "author": {"user": {"login": "mcmcgrath13", "name": "Mary McGrath"}}, "url": "https://github.com/TechEmpower/FrameworkBenchmarks/commit/e294694b2196e1d653d2f741233f00e158890a94", "committedDate": "2020-12-17T01:55:40Z", "message": "fix: revert to correct code"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "21aa61ea0ce7fd24c78701fe36c0cc8f8b4855ee", "author": {"user": {"login": "mcmcgrath13", "name": "Mary McGrath"}}, "url": "https://github.com/TechEmpower/FrameworkBenchmarks/commit/21aa61ea0ce7fd24c78701fe36c0cc8f8b4855ee", "committedDate": "2020-12-17T02:00:03Z", "message": "docs: update package reference"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU0OTYyNjg5", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/pull/6215#pullrequestreview-554962689", "createdAt": "2020-12-17T20:28:16Z", "commit": {"oid": "21aa61ea0ce7fd24c78701fe36c0cc8f8b4855ee"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xN1QyMDoyODoxNlrOIIHiqw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xN1QyMDoyODoxNlrOIIHiqw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTM4MzA4Mw==", "bodyText": "Does this make a difference in this benchmark, btw?", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/pull/6215#discussion_r545383083", "createdAt": "2020-12-17T20:28:16Z", "author": {"login": "cmcaine"}, "path": "frameworks/Julia/Http.jl/run.sh", "diffHunk": "@@ -1,6 +1,7 @@\n #!/bin/sh\n \n for i in $(seq 0 $(($(nproc --all)-1))); do\n-\tjulia server.jl\n+\tjulia --threads auto server.jl &", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "21aa61ea0ce7fd24c78701fe36c0cc8f8b4855ee"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU1MDYzNDg4", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/pull/6215#pullrequestreview-555063488", "createdAt": "2020-12-17T23:15:13Z", "commit": {"oid": "21aa61ea0ce7fd24c78701fe36c0cc8f8b4855ee"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xN1QyMzoxNToxM1rOIIMqcw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xN1QyMzoxNToxM1rOIIMqcw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTQ2Njk5NQ==", "bodyText": "FWIW, I think this is all you need to make this multithreaded:\nThreads.@threads for _ in 1:Threads.nthreads()\n    HTTP.listen(\"0.0.0.0\", 8080, reuseaddr=true) do http\n        # blah\n    end\nend", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/pull/6215#discussion_r545466995", "createdAt": "2020-12-17T23:15:13Z", "author": {"login": "cmcaine"}, "path": "frameworks/Julia/Http.jl/server.jl", "diffHunk": "@@ -1,7 +1,13 @@\n+using Pkg\n+\n+Pkg.activate(@__DIR__)\n+\n using HTTP\n-using JSON\n+import JSON3\n using Dates\n+using Sockets\n \n+@info \"starting listener\"\n HTTP.listen(\"0.0.0.0\", 8080, reuseaddr=true) do http", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "21aa61ea0ce7fd24c78701fe36c0cc8f8b4855ee"}, "originalPosition": 12}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU1MDY0MDgz", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/pull/6215#pullrequestreview-555064083", "createdAt": "2020-12-17T23:16:39Z", "commit": {"oid": "21aa61ea0ce7fd24c78701fe36c0cc8f8b4855ee"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xN1QyMzoxNjozOVrOIIMskw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xN1QyMzoxNjozOVrOIIMskw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTQ2NzUzOQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            using Sockets\n          \n      \n    \n    \n  \n\nThis import is unused. Maybe you intended to use the @ip_str macro below?", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/pull/6215#discussion_r545467539", "createdAt": "2020-12-17T23:16:39Z", "author": {"login": "cmcaine"}, "path": "frameworks/Julia/Http.jl/server.jl", "diffHunk": "@@ -1,7 +1,13 @@\n+using Pkg\n+\n+Pkg.activate(@__DIR__)\n+\n using HTTP\n-using JSON\n+import JSON3\n using Dates\n+using Sockets", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "21aa61ea0ce7fd24c78701fe36c0cc8f8b4855ee"}, "originalPosition": 9}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "83a6e31e7ab53b1f11716dc23e7566b0abf41598", "author": {"user": {"login": "mcmcgrath13", "name": "Mary McGrath"}}, "url": "https://github.com/TechEmpower/FrameworkBenchmarks/commit/83a6e31e7ab53b1f11716dc23e7566b0abf41598", "committedDate": "2020-12-18T01:09:43Z", "message": "Update frameworks/Julia/Http.jl/server.jl\n\nCo-authored-by: Colin Caine <cmcaine@gmail.com>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3925, "cost": 1, "resetAt": "2021-11-02T12:20:56Z"}}}