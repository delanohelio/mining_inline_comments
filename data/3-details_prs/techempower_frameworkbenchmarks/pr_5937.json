{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY5NjE4NDk1", "number": 5937, "title": "Update index-micro.php", "bodyText": "Add root entry point and modify $url source for handler.", "createdAt": "2020-08-18T16:49:08Z", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/pull/5937", "merged": true, "mergeCommit": {"oid": "8a0e06b1a3dad44a5f4e176cb4d1e2bd29a43878"}, "closed": true, "closedAt": "2020-09-10T19:51:04Z", "author": {"login": "diplopito"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdAJ4w9gH2gAyNDY5NjE4NDk1OjRhN2FjNTczM2VkODEzNzRlMDE5MjNiNmU3ODc4Yzg0Yjg4NGYyNDY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdARRWFAFqTQ2OTk4MzAwOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "4a7ac5733ed81374e01923b6e7878c84b884f246", "author": {"user": {"login": "diplopito", "name": null}}, "url": "https://github.com/TechEmpower/FrameworkBenchmarks/commit/4a7ac5733ed81374e01923b6e7878c84b884f246", "committedDate": "2020-08-18T16:48:23Z", "message": "Update index-micro.php\n\nAdd root entry point and modify `$url` source for handler."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY5NjcxNzQx", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/pull/5937#pullrequestreview-469671741", "createdAt": "2020-08-18T17:27:02Z", "commit": {"oid": "4a7ac5733ed81374e01923b6e7878c84b884f246"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOFQxNzoyNzowMlrOHCetRw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOFQxNzoyOToxMlrOHCeyOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjM2MjMxMQ==", "bodyText": "here must return:\nheader(\"Content-Type: text/plain; charset=UTF-8\");\necho \"Hello, World!\";\n\nAnd add the test in benchmark_config.json\nhttps://github.com/TechEmpower/FrameworkBenchmarks/blob/master/frameworks/PHP/phalcon/benchmark_config.json#L49\n\"plaintext_url\": \"/plaintext\",\nNow need to be /palintext the url for that test.", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/pull/5937#discussion_r472362311", "createdAt": "2020-08-18T17:27:02Z", "author": {"login": "joanhey"}, "path": "frameworks/PHP/phalcon/public/index-micro.php", "diffHunk": "@@ -39,6 +39,11 @@\n \n         return $view;\n     };\n+    \n+    $app->map('/', function() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4a7ac5733ed81374e01923b6e7878c84b884f246"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjM2MzU3Nw==", "bodyText": "Normally with a realistic approach, It's better to use the Request Class from the framework for that.\nBut it's a micro and perhaps by pass it. I don't know if use it inside for another things.", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/pull/5937#discussion_r472363577", "createdAt": "2020-08-18T17:29:12Z", "author": {"login": "joanhey"}, "path": "frameworks/PHP/phalcon/public/index-micro.php", "diffHunk": "@@ -96,8 +101,9 @@\n         ));\n \n     });\n-    $request = new Phalcon\\Http\\Request();\n-    $app->handle($request->getURI());\n+    \n+    $url = $_REQUEST['_url'] ?? '/';", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4a7ac5733ed81374e01923b6e7878c84b884f246"}, "originalPosition": 19}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3bed1bc841dc3a8922adf295f0f8ec54b56c5cfb", "author": {"user": {"login": "diplopito", "name": null}}, "url": "https://github.com/TechEmpower/FrameworkBenchmarks/commit/3bed1bc841dc3a8922adf295f0f8ec54b56c5cfb", "committedDate": "2020-08-18T18:24:35Z", "message": "Update index-micro.php\n\nModify response and text after comment."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0b558eaecbd227e27d420bd564a87249fa7b7339", "author": {"user": {"login": "diplopito", "name": null}}, "url": "https://github.com/TechEmpower/FrameworkBenchmarks/commit/0b558eaecbd227e27d420bd564a87249fa7b7339", "committedDate": "2020-08-18T18:27:24Z", "message": "Update index-micro.php\n\nModify entrypoint for `/plaintext`"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a47640e2e68e956247f3d7bce2c61455546211e2", "author": {"user": {"login": "diplopito", "name": null}}, "url": "https://github.com/TechEmpower/FrameworkBenchmarks/commit/a47640e2e68e956247f3d7bce2c61455546211e2", "committedDate": "2020-08-18T18:39:08Z", "message": "Update index-micro.php\n\nUpdate connection settings"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "17df5bb3f535a95a718377af568e3d6c9735a80e", "author": {"user": {"login": "diplopito", "name": null}}, "url": "https://github.com/TechEmpower/FrameworkBenchmarks/commit/17df5bb3f535a95a718377af568e3d6c9735a80e", "committedDate": "2020-08-18T18:48:56Z", "message": "Update index-micro.php\n\nAdd PDO options to connection settings"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY5NzM0ODI5", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/pull/5937#pullrequestreview-469734829", "createdAt": "2020-08-18T18:53:09Z", "commit": {"oid": "17df5bb3f535a95a718377af568e3d6c9735a80e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOFQxODo1MzowOVrOHChrbA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOFQxODo1MzowOVrOHChrbA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjQxMDk4OA==", "bodyText": "Perhaps now will work the persistent db connection.\nBut the manual have a bug if it's working now.", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/pull/5937#discussion_r472410988", "createdAt": "2020-08-18T18:53:09Z", "author": {"login": "joanhey"}, "path": "frameworks/PHP/phalcon/public/index-micro.php", "diffHunk": "@@ -9,11 +9,13 @@\n \n         return new \\Phalcon\\Db\\Adapter\\Pdo\\Mysql(array(\n             'host'       => 'tfb-database',\n-            'dbname'       =>  'hello_world',\n-            'charset'    =>  'utf8',\n+            'dbname'     =>  'hello_world',\n             'username'   => 'benchmarkdbuser',\n             'password'   => 'benchmarkdbpass',\n-            'persistent' => true\n+            'options'    => [", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "17df5bb3f535a95a718377af568e3d6c9735a80e"}, "originalPosition": 10}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY5OTgzMDA5", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/pull/5937#pullrequestreview-469983009", "createdAt": "2020-08-19T01:17:12Z", "commit": {"oid": "17df5bb3f535a95a718377af568e3d6c9735a80e"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOVQwMToxNzoxMlrOHCr84g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOVQwMToyMDo0NFrOHCsAsw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjU3OTI5OA==", "bodyText": "$app->handle($_SERVER['REQUEST_URI']);\nseems simpler", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/pull/5937#discussion_r472579298", "createdAt": "2020-08-19T01:17:12Z", "author": {"login": "jcheron"}, "path": "frameworks/PHP/phalcon/public/index-micro.php", "diffHunk": "@@ -96,8 +105,9 @@\n         ));\n \n     });\n-    $request = new Phalcon\\Http\\Request();\n-    $app->handle($request->getURI());\n+    \n+    $url = $_REQUEST['_url'] ?? '/';\n+    $app->handle($url);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "17df5bb3f535a95a718377af568e3d6c9735a80e"}, "originalPosition": 37}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjU4MDI3NQ==", "bodyText": "The charset can be defined directly\n'charset'=>'utf8'", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/pull/5937#discussion_r472580275", "createdAt": "2020-08-19T01:20:44Z", "author": {"login": "jcheron"}, "path": "frameworks/PHP/phalcon/public/index-micro.php", "diffHunk": "@@ -8,10 +8,14 @@\n     $app['db'] = function() {\n \n         return new \\Phalcon\\Db\\Adapter\\Pdo\\Mysql(array(\n-            'dsn'       => 'host=tfb-database;dbname=hello_world;charset=utf8',\n+            'host'       => 'tfb-database',\n+            'dbname'     =>  'hello_world',\n             'username'   => 'benchmarkdbuser',\n             'password'   => 'benchmarkdbpass',\n-            'persistent' => true\n+            'options'    => [", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "17df5bb3f535a95a718377af568e3d6c9735a80e"}, "originalPosition": 10}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3851, "cost": 1, "resetAt": "2021-11-02T12:20:56Z"}}}