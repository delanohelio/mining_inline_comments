{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzU5MTc1Njg5", "number": 5366, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNlQxNzo0MzoxMlrODWCe9A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNlQxNzo0MzoxMlrODWCe9A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI0NDM1OTU2OnYy", "diffSide": "RIGHT", "path": "frameworks/C++/drogon/drogon_benchmark/views/fortune.csp", "isResolved": true, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNlQxNzo0MzoxMlrOFakT_A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wN1QwMjowODo1M1rOFauQeg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzQwMjIzNg==", "bodyText": "@an-tao Can you clarify what this addition does? Is it reserving space? (We want to make sure there's no prior knowledge of the size of the fortunes array)\nEdit: Someone in-house has pointed out to me it's probably this http://www.cplusplus.com/reference/string/string/reserve/ and about the size of the total fortunes string. Please remove when you have a chance :)\n(Also, if you've seen other frameworks using this you can point them out. Want to make sure everyone is on the same page!)", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/pull/5366#discussion_r363402236", "createdAt": "2020-01-06T17:43:12Z", "author": {"login": "nbrady-techempower"}, "path": "frameworks/C++/drogon/drogon_benchmark/views/fortune.csp", "diffHunk": "@@ -4,6 +4,7 @@ using namespace drogon_model::hello_world;\n %>\n <%c++\n auto &rows=@@.get<std::vector<Fortune>>(\"rows\");\n+$$.reserve(1300);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a9f2ff6f71bf2fa977fc728ccbe365164dbd5b78"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzU2MDA1OQ==", "bodyText": "Thanks for clearifying this, I've removed it.\nHow if I calculate the size of array like follows?\nsize_t size=0;\nfor(auto &row : rows)\n{\n     size += row.getValueOfMessage().length();\n}\n$$.reserve(800 + size);", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/pull/5366#discussion_r363560059", "createdAt": "2020-01-07T01:42:13Z", "author": {"login": "an-tao"}, "path": "frameworks/C++/drogon/drogon_benchmark/views/fortune.csp", "diffHunk": "@@ -4,6 +4,7 @@ using namespace drogon_model::hello_world;\n %>\n <%c++\n auto &rows=@@.get<std::vector<Fortune>>(\"rows\");\n+$$.reserve(1300);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzQwMjIzNg=="}, "originalCommit": {"oid": "a9f2ff6f71bf2fa977fc728ccbe365164dbd5b78"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzU2MjE4OQ==", "bodyText": "That looks fine to me though I don\u2019t understand what the 800 is for?", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/pull/5366#discussion_r363562189", "createdAt": "2020-01-07T01:52:55Z", "author": {"login": "nbrady-techempower"}, "path": "frameworks/C++/drogon/drogon_benchmark/views/fortune.csp", "diffHunk": "@@ -4,6 +4,7 @@ using namespace drogon_model::hello_world;\n %>\n <%c++\n auto &rows=@@.get<std::vector<Fortune>>(\"rows\");\n+$$.reserve(1300);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzQwMjIzNg=="}, "originalCommit": {"oid": "a9f2ff6f71bf2fa977fc728ccbe365164dbd5b78"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzU2MjE5Ng==", "bodyText": "That looks fine to me though I don\u2019t understand what the 800 is for?", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/pull/5366#discussion_r363562196", "createdAt": "2020-01-07T01:52:56Z", "author": {"login": "nbrady-techempower"}, "path": "frameworks/C++/drogon/drogon_benchmark/views/fortune.csp", "diffHunk": "@@ -4,6 +4,7 @@ using namespace drogon_model::hello_world;\n %>\n <%c++\n auto &rows=@@.get<std::vector<Fortune>>(\"rows\");\n+$$.reserve(1300);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzQwMjIzNg=="}, "originalCommit": {"oid": "a9f2ff6f71bf2fa977fc728ccbe365164dbd5b78"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzU2NTE3OA==", "bodyText": "I didn't calculate it carefully, it represents the size of the fixed part of this page, but I don't plan to change it this way now, I think these actually have little effect on the result :) You could merge it now, thanks!", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/pull/5366#discussion_r363565178", "createdAt": "2020-01-07T02:08:53Z", "author": {"login": "an-tao"}, "path": "frameworks/C++/drogon/drogon_benchmark/views/fortune.csp", "diffHunk": "@@ -4,6 +4,7 @@ using namespace drogon_model::hello_world;\n %>\n <%c++\n auto &rows=@@.get<std::vector<Fortune>>(\"rows\");\n+$$.reserve(1300);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzQwMjIzNg=="}, "originalCommit": {"oid": "a9f2ff6f71bf2fa977fc728ccbe365164dbd5b78"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2714, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}