{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA1NDQ1NDI0", "number": 5613, "title": "actix: update json benchmarks", "bodyText": "use simd-json for json serialization", "createdAt": "2020-04-18T05:01:25Z", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/pull/5613", "merged": true, "mergeCommit": {"oid": "0673f953cc868525a74599a2b651dd962eb33910"}, "closed": true, "closedAt": "2020-04-19T03:31:16Z", "author": {"login": "fafhrd91"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcYuocCAH2gAyNDA1NDQ1NDI0OmQ5MjViNjIyOThiNTNlYThlNmZmZjYyZmMxOTNhNWJiOTYxZGQzODU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcY6sbQgH2gAyNDA1NDQ1NDI0OmQ0NmQ0ZTc0MjM4NGIwOWFjMjliMDUyYzUxYTRhOTVhMGExY2M4NGU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "d925b62298b53ea8e6fff62fc193a5bb961dd385", "author": {"user": {"login": "fafhrd91", "name": "Nikolay Kim"}}, "url": "https://github.com/TechEmpower/FrameworkBenchmarks/commit/d925b62298b53ea8e6fff62fc193a5bb961dd385", "committedDate": "2020-04-18T05:00:04Z", "message": "actix: use simd-json for json serialization"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk1OTI3NjE3", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/pull/5613#pullrequestreview-395927617", "createdAt": "2020-04-18T16:16:39Z", "commit": {"oid": "d925b62298b53ea8e6fff62fc193a5bb961dd385"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xOFQxNjoxNjozOVrOGHsNiQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xOFQxNjoxNjozOVrOGHsNiQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDcxNzU3Nw==", "bodyText": "it would be better to use simd-json-derive::Serialize and message.json_write it is 2-3x faster then serde::Serialize.\nsimd_json::to_writer is a compatibility method that implements the slower serde-trait for drop-in replacement w/o code changes. Given it's a benchmark code changes are OK I think especially if it's about 2 lines :D.\nThat said the simd-json-derive::Serialize is still young and only exists as a git dependency, not as a crate yet.", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/pull/5613#discussion_r410717577", "createdAt": "2020-04-18T16:16:39Z", "author": {"login": "Licenser"}, "path": "frameworks/Rust/actix/src/main.rs", "diffHunk": "@@ -20,7 +20,7 @@ async fn json() -> HttpResponse {\n         message: \"Hello, World!\",\n     };\n     let mut body = BytesMut::with_capacity(SIZE);\n-    serde_json::to_writer(Writer(&mut body), &message).unwrap();\n+    simd_json::to_writer(Writer(&mut body), &message).unwrap();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d925b62298b53ea8e6fff62fc193a5bb961dd385"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2c501b7121ba61a5c89a4adaa15b4a4108b8d82f", "author": {"user": {"login": "fafhrd91", "name": "Nikolay Kim"}}, "url": "https://github.com/TechEmpower/FrameworkBenchmarks/commit/2c501b7121ba61a5c89a4adaa15b4a4108b8d82f", "committedDate": "2020-04-18T16:31:05Z", "message": "use simd-json Serialize trait"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk1OTQxODM2", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/pull/5613#pullrequestreview-395941836", "createdAt": "2020-04-18T19:01:45Z", "commit": {"oid": "2c501b7121ba61a5c89a4adaa15b4a4108b8d82f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xOFQxOTowMTo0NlrOGHtaUg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xOFQxOTowMTo0NlrOGHtaUg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDczNzIzNA==", "bodyText": "This should work with the crate :) it's compatible with the derive\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            simd-json = { git = \"https://github.com/simd-lite/simd-json.git\" }\n          \n          \n            \n            simd-json = \"0.3\"", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/pull/5613#discussion_r410737234", "createdAt": "2020-04-18T19:01:46Z", "author": {"login": "Licenser"}, "path": "frameworks/Rust/actix/Cargo.toml", "diffHunk": "@@ -44,6 +44,8 @@ bytes = \"0.5.3\"\n num_cpus = \"1.0\"\n futures = \"0.3.1\"\n http = \"0.2\"\n+simd-json = { git = \"https://github.com/simd-lite/simd-json.git\" }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2c501b7121ba61a5c89a4adaa15b4a4108b8d82f"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d46d4e742384b09ac29b052c51a4a95a0a1cc84e", "author": {"user": {"login": "fafhrd91", "name": "Nikolay Kim"}}, "url": "https://github.com/TechEmpower/FrameworkBenchmarks/commit/d46d4e742384b09ac29b052c51a4a95a0a1cc84e", "committedDate": "2020-04-18T19:03:17Z", "message": "use crates version"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3883, "cost": 1, "resetAt": "2021-11-02T12:20:56Z"}}}