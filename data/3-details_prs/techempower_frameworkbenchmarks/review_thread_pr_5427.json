{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY2Mzk3MTgz", "number": 5427, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yM1QxNjowMjoyMFrODaOW7g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yM1QxNjowMjoyMFrODaOW7g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI4ODI0ODE0OnYy", "diffSide": "RIGHT", "path": "frameworks/C++/lithium/lithium.cc", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yM1QxNjowMjoyMFrOFhDqpg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yM1QxNjowMjoyMFrOFhDqpg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDIwNzM5OA==", "bodyText": "Looks like I missed this before\n1 + rand() % 9999 -> 1 to 9999\nCould you update to 1 + rand() % 10000", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/pull/5427#discussion_r370207398", "createdAt": "2020-01-23T16:02:20Z", "author": {"login": "nbrady-techempower"}, "path": "frameworks/C++/lithium/lithium.cc", "diffHunk": "@@ -89,49 +100,51 @@ int main(int argc, char* argv[]) {\n   };\n \n   my_api.get(\"/updates\") = [&](http_request& request, http_response& response) {\n+    set_max_sql_connections_per_thread(2);\n     std::string N_str = request.get_parameters(s::N = std::optional<std::string>()).N.value_or(\"1\");\n     int N = atoi(N_str.c_str());\n     N = std::max(1, std::min(N, 500));\n+    std::vector<decltype(random_numbers.all_fields())> numbers(N);\n \n-     \n-    auto c = random_numbers.connect(request.yield);\n-    auto& raw_c = c.backend_connection();\n+    {     \n+      auto c = random_numbers.connect(request.yield);\n+      auto& raw_c = c.backend_connection();\n \n-    std::vector<decltype(random_numbers.all_fields())> numbers(N);\n-    \n+      \n #if TFB_MYSQL\n-    raw_c(\"START TRANSACTION\");\n+      raw_c(\"START TRANSACTION\");\n #endif\n-    for (int i = 0; i < N; i++)\n-    {\n-      numbers[i] = c.find_one(s::id = 1 + rand() % 9999).value();\n-      numbers[i].randomNumber = 1 + rand() % 9999;\n-    }\n+      for (int i = 0; i < N; i++)\n+      {\n+        numbers[i] = c.find_one(s::id = 1 + rand() % 9999).value();\n+        numbers[i].randomNumber = 1 + rand() % 9999;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f933b528aff2c0bf0ea05404b9dd2b3271b262e6"}, "originalPosition": 61}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2740, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}