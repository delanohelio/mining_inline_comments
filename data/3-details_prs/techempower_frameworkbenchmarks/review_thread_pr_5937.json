{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY5NjE4NDk1", "number": 5937, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOFQxNzoyNzowMlrOEZlQdA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOVQwMToyMDo0NFrOEZtvEA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk1MjYwMjc2OnYy", "diffSide": "RIGHT", "path": "frameworks/PHP/phalcon/public/index-micro.php", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOFQxNzoyNzowMlrOHCetRw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOFQxODozODo0M1rOHChNNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjM2MjMxMQ==", "bodyText": "here must return:\nheader(\"Content-Type: text/plain; charset=UTF-8\");\necho \"Hello, World!\";\n\nAnd add the test in benchmark_config.json\nhttps://github.com/TechEmpower/FrameworkBenchmarks/blob/master/frameworks/PHP/phalcon/benchmark_config.json#L49\n\"plaintext_url\": \"/plaintext\",\nNow need to be /palintext the url for that test.", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/pull/5937#discussion_r472362311", "createdAt": "2020-08-18T17:27:02Z", "author": {"login": "joanhey"}, "path": "frameworks/PHP/phalcon/public/index-micro.php", "diffHunk": "@@ -39,6 +39,11 @@\n \n         return $view;\n     };\n+    \n+    $app->map('/', function() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4a7ac5733ed81374e01923b6e7878c84b884f246"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjQwMzI1Mw==", "bodyText": "Add the line:\n\"plaintext_url\": \"/plaintext\",\nin\nhttps://github.com/TechEmpower/FrameworkBenchmarks/blob/master/frameworks/PHP/phalcon/benchmark_config.json#L49", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/pull/5937#discussion_r472403253", "createdAt": "2020-08-18T18:38:43Z", "author": {"login": "joanhey"}, "path": "frameworks/PHP/phalcon/public/index-micro.php", "diffHunk": "@@ -39,6 +39,11 @@\n \n         return $view;\n     };\n+    \n+    $app->map('/', function() {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjM2MjMxMQ=="}, "originalCommit": {"oid": "4a7ac5733ed81374e01923b6e7878c84b884f246"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk1MjYxMDgzOnYy", "diffSide": "RIGHT", "path": "frameworks/PHP/phalcon/public/index-micro.php", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOFQxNzoyOToxMlrOHCeyOQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOFQxODo0Mjo1OVrOHChVlQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjM2MzU3Nw==", "bodyText": "Normally with a realistic approach, It's better to use the Request Class from the framework for that.\nBut it's a micro and perhaps by pass it. I don't know if use it inside for another things.", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/pull/5937#discussion_r472363577", "createdAt": "2020-08-18T17:29:12Z", "author": {"login": "joanhey"}, "path": "frameworks/PHP/phalcon/public/index-micro.php", "diffHunk": "@@ -96,8 +101,9 @@\n         ));\n \n     });\n-    $request = new Phalcon\\Http\\Request();\n-    $app->handle($request->getURI());\n+    \n+    $url = $_REQUEST['_url'] ?? '/';", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4a7ac5733ed81374e01923b6e7878c84b884f246"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjM5OTQ2Ng==", "bodyText": "Phalcon\\Http\\Request() works fine, it's only this particular case calling the handler; it's not been used anywhere else on the test, but if it would, it shouldn't be a problem.", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/pull/5937#discussion_r472399466", "createdAt": "2020-08-18T18:31:17Z", "author": {"login": "diplopito"}, "path": "frameworks/PHP/phalcon/public/index-micro.php", "diffHunk": "@@ -96,8 +101,9 @@\n         ));\n \n     });\n-    $request = new Phalcon\\Http\\Request();\n-    $app->handle($request->getURI());\n+    \n+    $url = $_REQUEST['_url'] ?? '/';", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjM2MzU3Nw=="}, "originalCommit": {"oid": "4a7ac5733ed81374e01923b6e7878c84b884f246"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjQwNTM5Nw==", "bodyText": "Normally all frameworks in this bench use a realistic approach, and try to avoid an striped version.", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/pull/5937#discussion_r472405397", "createdAt": "2020-08-18T18:42:59Z", "author": {"login": "joanhey"}, "path": "frameworks/PHP/phalcon/public/index-micro.php", "diffHunk": "@@ -96,8 +101,9 @@\n         ));\n \n     });\n-    $request = new Phalcon\\Http\\Request();\n-    $app->handle($request->getURI());\n+    \n+    $url = $_REQUEST['_url'] ?? '/';", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjM2MzU3Nw=="}, "originalCommit": {"oid": "4a7ac5733ed81374e01923b6e7878c84b884f246"}, "originalPosition": 19}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk1MjkwNDUyOnYy", "diffSide": "RIGHT", "path": "frameworks/PHP/phalcon/public/index-micro.php", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOFQxODo1MzowOVrOHChrbA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOFQxODo1NDo1OVrOHChvOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjQxMDk4OA==", "bodyText": "Perhaps now will work the persistent db connection.\nBut the manual have a bug if it's working now.", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/pull/5937#discussion_r472410988", "createdAt": "2020-08-18T18:53:09Z", "author": {"login": "joanhey"}, "path": "frameworks/PHP/phalcon/public/index-micro.php", "diffHunk": "@@ -9,11 +9,13 @@\n \n         return new \\Phalcon\\Db\\Adapter\\Pdo\\Mysql(array(\n             'host'       => 'tfb-database',\n-            'dbname'       =>  'hello_world',\n-            'charset'    =>  'utf8',\n+            'dbname'     =>  'hello_world',\n             'username'   => 'benchmarkdbuser',\n             'password'   => 'benchmarkdbpass',\n-            'persistent' => true\n+            'options'    => [", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "17df5bb3f535a95a718377af568e3d6c9735a80e"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjQxMTk2MA==", "bodyText": "Could be, docs are still being updated for v4.", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/pull/5937#discussion_r472411960", "createdAt": "2020-08-18T18:54:59Z", "author": {"login": "diplopito"}, "path": "frameworks/PHP/phalcon/public/index-micro.php", "diffHunk": "@@ -9,11 +9,13 @@\n \n         return new \\Phalcon\\Db\\Adapter\\Pdo\\Mysql(array(\n             'host'       => 'tfb-database',\n-            'dbname'       =>  'hello_world',\n-            'charset'    =>  'utf8',\n+            'dbname'     =>  'hello_world',\n             'username'   => 'benchmarkdbuser',\n             'password'   => 'benchmarkdbpass',\n-            'persistent' => true\n+            'options'    => [", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjQxMDk4OA=="}, "originalCommit": {"oid": "17df5bb3f535a95a718377af568e3d6c9735a80e"}, "originalPosition": 10}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk1Mzk4NTM3OnYy", "diffSide": "RIGHT", "path": "frameworks/PHP/phalcon/public/index-micro.php", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOVQwMToxNzoxMlrOHCr84g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOVQxMzowMzo0M1rOHDGXdw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjU3OTI5OA==", "bodyText": "$app->handle($_SERVER['REQUEST_URI']);\nseems simpler", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/pull/5937#discussion_r472579298", "createdAt": "2020-08-19T01:17:12Z", "author": {"login": "jcheron"}, "path": "frameworks/PHP/phalcon/public/index-micro.php", "diffHunk": "@@ -96,8 +105,9 @@\n         ));\n \n     });\n-    $request = new Phalcon\\Http\\Request();\n-    $app->handle($request->getURI());\n+    \n+    $url = $_REQUEST['_url'] ?? '/';\n+    $app->handle($url);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "17df5bb3f535a95a718377af568e3d6c9735a80e"}, "originalPosition": 37}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzAxMjA4Nw==", "bodyText": "It is, except that it only works when the app is running from root; from a subdirectory, the suggested change has to be made (which works for both, but trivial for the tests).", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/pull/5937#discussion_r473012087", "createdAt": "2020-08-19T13:03:43Z", "author": {"login": "diplopito"}, "path": "frameworks/PHP/phalcon/public/index-micro.php", "diffHunk": "@@ -96,8 +105,9 @@\n         ));\n \n     });\n-    $request = new Phalcon\\Http\\Request();\n-    $app->handle($request->getURI());\n+    \n+    $url = $_REQUEST['_url'] ?? '/';\n+    $app->handle($url);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjU3OTI5OA=="}, "originalCommit": {"oid": "17df5bb3f535a95a718377af568e3d6c9735a80e"}, "originalPosition": 37}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk1Mzk5MTg0OnYy", "diffSide": "RIGHT", "path": "frameworks/PHP/phalcon/public/index-micro.php", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOVQwMToyMDo0NFrOHCsAsw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOVQwMToyMDo0NFrOHCsAsw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjU4MDI3NQ==", "bodyText": "The charset can be defined directly\n'charset'=>'utf8'", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/pull/5937#discussion_r472580275", "createdAt": "2020-08-19T01:20:44Z", "author": {"login": "jcheron"}, "path": "frameworks/PHP/phalcon/public/index-micro.php", "diffHunk": "@@ -8,10 +8,14 @@\n     $app['db'] = function() {\n \n         return new \\Phalcon\\Db\\Adapter\\Pdo\\Mysql(array(\n-            'dsn'       => 'host=tfb-database;dbname=hello_world;charset=utf8',\n+            'host'       => 'tfb-database',\n+            'dbname'     =>  'hello_world',\n             'username'   => 'benchmarkdbuser',\n             'password'   => 'benchmarkdbpass',\n-            'persistent' => true\n+            'options'    => [", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "17df5bb3f535a95a718377af568e3d6c9735a80e"}, "originalPosition": 10}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2599, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}