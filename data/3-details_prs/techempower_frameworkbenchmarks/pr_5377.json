{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYwMjE3ODc4", "number": 5377, "title": "Lithium: Update framework and some fixes.", "bodyText": "", "createdAt": "2020-01-07T23:29:04Z", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/pull/5377", "merged": true, "mergeCommit": {"oid": "1e9ad34e5a42c89e4a94f69af6e826c5e14145c3"}, "closed": true, "closedAt": "2020-01-08T19:41:49Z", "author": {"login": "matt-42"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb4Jl04gH2gAyMzYwMjE3ODc4OjJjZWQxODQ4OTA1NTJlNmQ3OWIxOGVkYmVmNjY1NGJiNWE4Y2EwZDQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb4aDP1AH2gAyMzYwMjE3ODc4OjE4YzVhZjQzNDlhZjJkZTlmYWUyNzI1NzFlMGQ4OTFkZTZkNDY0NmE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "2ced184890552e6d79b18edbef6654bb5a8ca0d4", "author": {"user": {"login": "matt-42", "name": "Matthieu Garrigues"}}, "url": "https://github.com/TechEmpower/FrameworkBenchmarks/commit/2ced184890552e6d79b18edbef6654bb5a8ca0d4", "committedDate": "2020-01-07T23:45:09Z", "message": "Lithium: Update framework and some fixes."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "89d7ad6b2d63dc83b109eb0fa4fc795c7c9a1c86", "author": {"user": {"login": "matt-42", "name": "Matthieu Garrigues"}}, "url": "https://github.com/TechEmpower/FrameworkBenchmarks/commit/89d7ad6b2d63dc83b109eb0fa4fc795c7c9a1c86", "committedDate": "2020-01-07T23:52:02Z", "message": "Lithium: Fix postgres syntax error."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c65ebafd6ac6eeb5e19d9536a0df0cef6f7a9d0e", "author": {"user": {"login": "matt-42", "name": "Matthieu Garrigues"}}, "url": "https://github.com/TechEmpower/FrameworkBenchmarks/commit/c65ebafd6ac6eeb5e19d9536a0df0cef6f7a9d0e", "committedDate": "2020-01-07T23:53:37Z", "message": "Lithium: Fix postgres syntax error."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f1bc7158d565c324a3eb016d9f9a33251dfd3125", "author": {"user": {"login": "matt-42", "name": "Matthieu Garrigues"}}, "url": "https://github.com/TechEmpower/FrameworkBenchmarks/commit/f1bc7158d565c324a3eb016d9f9a33251dfd3125", "committedDate": "2020-01-07T23:55:20Z", "message": "Lithium: Update Transaction only for mysql."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQwMDEwMDE2", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/pull/5377#pullrequestreview-340010016", "createdAt": "2020-01-08T17:04:44Z", "commit": {"oid": "f1bc7158d565c324a3eb016d9f9a33251dfd3125"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOFQxNzowNDo0NFrOFbdnnw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOFQxNzowNDo0NFrOFbdnnw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDM0MTE1MQ==", "bodyText": "@matt-42 Can you remove this and pick one implementation? We verify the results at N == 20 meaning your implementation in the else block would not be verified.", "url": "https://github.com/TechEmpower/FrameworkBenchmarks/pull/5377#discussion_r364341151", "createdAt": "2020-01-08T17:04:44Z", "author": {"login": "nbrady-techempower"}, "path": "frameworks/C++/lithium/lithium.cc", "diffHunk": "@@ -111,16 +113,31 @@ int main(int argc, char* argv[]) {\n #if TFB_MYSQL\n     for (int i = 0; i < N; i++)\n       c.update(numbers[i]);\n+    raw_c(\"COMMIT\");\n #elif TFB_PGSQL\n-    std::ostringstream ss;\n-    ss << \"UPDATE World SET randomNumber=tmp.randomNumber FROM (VALUES \";\n-    for (int i = 0; i < N; i++)\n-      ss << \"(\" << numbers[i].id << \", \" << numbers[i].randomNumber << \") \"<< (i == N-1 ? \"\": \",\");\n-    ss << \") AS tmp(id, randomNumber) WHERE tmp.id = World.id\";\n-    raw_c(ss.str());\n+\n+    if (N == 20)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f1bc7158d565c324a3eb016d9f9a33251dfd3125"}, "originalPosition": 23}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "18c5af4349af2de9fae272571e0d891de6d4646a", "author": {"user": {"login": "matt-42", "name": "Matthieu Garrigues"}}, "url": "https://github.com/TechEmpower/FrameworkBenchmarks/commit/18c5af4349af2de9fae272571e0d891de6d4646a", "committedDate": "2020-01-08T18:55:46Z", "message": "Lithium: Remove special case for N == 20."}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3900, "cost": 1, "resetAt": "2021-11-02T12:20:56Z"}}}