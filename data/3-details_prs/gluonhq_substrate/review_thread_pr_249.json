{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYwMDg2MzE3", "number": 249, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wN1QxNzoyMTozM1rODWUJbg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wN1QxNzoyNjoyMlrODWUO3g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI0NzI1MzU4OnYy", "diffSide": "RIGHT", "path": "src/main/java/com/gluonhq/substrate/target/AndroidTargetConfiguration.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wN1QxNzoyMTozM1rOFbALJw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wN1QxNzoyMTozM1rOFbALJw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mzg1ODcyNw==", "bodyText": "Use Files.exists(buildToolsPath) instead", "url": "https://github.com/gluonhq/substrate/pull/249#discussion_r363858727", "createdAt": "2020-01-07T17:21:33Z", "author": {"login": "jperedadnr"}, "path": "src/main/java/com/gluonhq/substrate/target/AndroidTargetConfiguration.java", "diffHunk": "@@ -360,4 +362,20 @@ private void createDevelopKeystore() throws IOException, InterruptedException {\n \n         System.err.println(\"done creating ks\");\n     }\n+    \n+    private String findLatestBuildTool(Path sdkPath) throws IOException {\n+        Path buildToolsPath = sdkPath.resolve(\"build-tools\");\n+        if (buildToolsPath.toFile().exists()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dbfde29f54d2164f8b2f3ef2df984a5bf9c0dbc9"}, "originalPosition": 44}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI0NzI1OTM1OnYy", "diffSide": "RIGHT", "path": "src/main/java/com/gluonhq/substrate/target/AndroidTargetConfiguration.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wN1QxNzoyMzozMlrOFbAOrA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOFQxMzo1MTo0MFrOFbXeDg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mzg1OTYyOA==", "bodyText": "Objects.requireNonNull(sdkPath) and Files.exists(sdkPath)?", "url": "https://github.com/gluonhq/substrate/pull/249#discussion_r363859628", "createdAt": "2020-01-07T17:23:32Z", "author": {"login": "jperedadnr"}, "path": "src/main/java/com/gluonhq/substrate/target/AndroidTargetConfiguration.java", "diffHunk": "@@ -360,4 +362,20 @@ private void createDevelopKeystore() throws IOException, InterruptedException {\n \n         System.err.println(\"done creating ks\");\n     }\n+    \n+    private String findLatestBuildTool(Path sdkPath) throws IOException {\n+        Path buildToolsPath = sdkPath.resolve(\"build-tools\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dbfde29f54d2164f8b2f3ef2df984a5bf9c0dbc9"}, "originalPosition": 43}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDI0MDM5OA==", "bodyText": "Adding a check for Files.exists(buildToolsPath) makes Files.exists(sdkPath) redundant.", "url": "https://github.com/gluonhq/substrate/pull/249#discussion_r364240398", "createdAt": "2020-01-08T13:51:40Z", "author": {"login": "abhinayagarwal"}, "path": "src/main/java/com/gluonhq/substrate/target/AndroidTargetConfiguration.java", "diffHunk": "@@ -360,4 +362,20 @@ private void createDevelopKeystore() throws IOException, InterruptedException {\n \n         System.err.println(\"done creating ks\");\n     }\n+    \n+    private String findLatestBuildTool(Path sdkPath) throws IOException {\n+        Path buildToolsPath = sdkPath.resolve(\"build-tools\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mzg1OTYyOA=="}, "originalCommit": {"oid": "dbfde29f54d2164f8b2f3ef2df984a5bf9c0dbc9"}, "originalPosition": 43}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI0NzI2NzUwOnYy", "diffSide": "RIGHT", "path": "src/main/java/com/gluonhq/substrate/target/AndroidTargetConfiguration.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wN1QxNzoyNjoyMlrOFbATxQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wN1QxNzoyNjoyMlrOFbATxQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mzg2MDkzMw==", "bodyText": "maybe you simplify it to something like return Files.walk().filter().map().max(...).map(toString).orElseThrow(IOException)?", "url": "https://github.com/gluonhq/substrate/pull/249#discussion_r363860933", "createdAt": "2020-01-07T17:26:22Z", "author": {"login": "jperedadnr"}, "path": "src/main/java/com/gluonhq/substrate/target/AndroidTargetConfiguration.java", "diffHunk": "@@ -360,4 +362,20 @@ private void createDevelopKeystore() throws IOException, InterruptedException {\n \n         System.err.println(\"done creating ks\");\n     }\n+    \n+    private String findLatestBuildTool(Path sdkPath) throws IOException {\n+        Path buildToolsPath = sdkPath.resolve(\"build-tools\");\n+        if (buildToolsPath.toFile().exists()) {\n+            Optional<Version> latest = Files.walk(buildToolsPath, 1)\n+                    .filter(file -> Files.isDirectory(file) && !file.equals(buildToolsPath))\n+                    .map(file -> new Version(file.getFileName().toString()))\n+                    .max(Version::compareTo);\n+            if (latest.isPresent()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dbfde29f54d2164f8b2f3ef2df984a5bf9c0dbc9"}, "originalPosition": 49}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3023, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}