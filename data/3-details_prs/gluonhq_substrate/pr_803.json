{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk3MDcxMzgw", "number": 803, "title": "Scan jars for possible Android dependencies", "bodyText": "Fixes #780\nThis PR adds a way to inject dependencies in the Android_Project/app/build.gradle file, by scanning jars in the classpath.\nThis allows Attach and other third party libraries to include transitive dependencies and not only the classes in the jar/aar files.", "createdAt": "2020-10-02T18:35:24Z", "url": "https://github.com/gluonhq/substrate/pull/803", "merged": true, "mergeCommit": {"oid": "c6212cc810612ca7b884c751135035723ad9132e"}, "closed": true, "closedAt": "2020-10-06T07:45:46Z", "author": {"login": "jperedadnr"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdOqPJeAH2gAyNDk3MDcxMzgwOmQxYzRiNjUyOTdjNDI3NTNkZGRmZDIxMTRlY2EwMTljN2MwNzU5MTQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdPzZ21AFqTUwMjY2MTkzMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "d1c4b65297c42753dddfd2114eca019c7c075914", "author": {"user": null}, "url": "https://github.com/gluonhq/substrate/commit/d1c4b65297c42753dddfd2114eca019c7c075914", "committedDate": "2020-10-02T18:24:44Z", "message": "Scan jars for possible Android dependencies"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAxOTU4Mjc4", "url": "https://github.com/gluonhq/substrate/pull/803#pullrequestreview-501958278", "createdAt": "2020-10-05T11:24:44Z", "commit": {"oid": "d1c4b65297c42753dddfd2114eca019c7c075914"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQxMToyNDo0NVrOHcYsGA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQxMToyNDo0NVrOHcYsGA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTUyNjY4MA==", "bodyText": "This should probably go to an Android specific class", "url": "https://github.com/gluonhq/substrate/pull/803#discussion_r499526680", "createdAt": "2020-10-05T11:24:45Z", "author": {"login": "johanvos"}, "path": "src/main/java/com/gluonhq/substrate/config/ConfigResolver.java", "diffHunk": "@@ -194,6 +195,21 @@ public ConfigResolver(String classpath) throws IOException, InterruptedException\n                 line -> true));\n     }\n \n+    /**\n+     * Walks through the jars in the classpath,\n+     * and looks for META-INF/substrate/config/android-dependencies.txt file.\n+     *\n+     * @return a list of dependencies lines that should be added to the build.gradle file\n+     * @throws IOException Exception while reading the file.\n+     */\n+    public Set<String> getAndroidDependencies() throws IOException {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d1c4b65297c42753dddfd2114eca019c7c075914"}, "originalPosition": 19}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAxOTU5MDg2", "url": "https://github.com/gluonhq/substrate/pull/803#pullrequestreview-501959086", "createdAt": "2020-10-05T11:25:56Z", "commit": {"oid": "d1c4b65297c42753dddfd2114eca019c7c075914"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQxMToyNTo1N1rOHcYupA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQxMToyNTo1N1rOHcYupA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTUyNzMzMg==", "bodyText": "Probably better to add a 2-args scanJars method instead of passing null", "url": "https://github.com/gluonhq/substrate/pull/803#discussion_r499527332", "createdAt": "2020-10-05T11:25:57Z", "author": {"login": "johanvos"}, "path": "src/main/java/com/gluonhq/substrate/config/ConfigResolver.java", "diffHunk": "@@ -194,6 +195,21 @@ public ConfigResolver(String classpath) throws IOException, InterruptedException\n                 line -> true));\n     }\n \n+    /**\n+     * Walks through the jars in the classpath,\n+     * and looks for META-INF/substrate/config/android-dependencies.txt file.\n+     *\n+     * @return a list of dependencies lines that should be added to the build.gradle file\n+     * @throws IOException Exception while reading the file.\n+     */\n+    public Set<String> getAndroidDependencies() throws IOException {\n+        Logger.logDebug(\"Scanning for android dependencies files\");\n+        return Set.copyOf(scanJars(USER_ANDROID_DEPENDENCIES_FILE,\n+                null,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d1c4b65297c42753dddfd2114eca019c7c075914"}, "originalPosition": 22}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e450a2485b6ba7a29f8ac31d2034566f8516f06a", "author": {"user": null}, "url": "https://github.com/gluonhq/substrate/commit/e450a2485b6ba7a29f8ac31d2034566f8516f06a", "committedDate": "2020-10-05T11:29:31Z", "message": "Merge branch 'master' of https://github.com/gluonhq/substrate into 780-aar"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2cfcca029fa3cb010d3b502da1d95955d279b4ed", "author": {"user": null}, "url": "https://github.com/gluonhq/substrate/commit/2cfcca029fa3cb010d3b502da1d95955d279b4ed", "committedDate": "2020-10-05T11:48:30Z", "message": "Create AndroidResolver"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAyMDAxNTcy", "url": "https://github.com/gluonhq/substrate/pull/803#pullrequestreview-502001572", "createdAt": "2020-10-05T12:25:56Z", "commit": {"oid": "2cfcca029fa3cb010d3b502da1d95955d279b4ed"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0fcb0e7e5b64a08d31dc5bf63322183eaa5584c0", "author": {"user": null}, "url": "https://github.com/gluonhq/substrate/commit/0fcb0e7e5b64a08d31dc5bf63322183eaa5584c0", "committedDate": "2020-10-05T14:32:34Z", "message": "Fix path"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAyNjYxOTMz", "url": "https://github.com/gluonhq/substrate/pull/803#pullrequestreview-502661933", "createdAt": "2020-10-06T07:39:30Z", "commit": {"oid": "0fcb0e7e5b64a08d31dc5bf63322183eaa5584c0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2004, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}