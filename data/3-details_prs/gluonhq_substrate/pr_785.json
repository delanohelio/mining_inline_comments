{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkwMTkzNDMy", "number": 785, "title": "Update ios-deploy formula and use local patch", "bodyText": "Fixes #781 by using the latest formula for ios-deploy, that allows installing from iOS-deploy master repo, and only requires a patch to the formula, to fix the issue of lack of logging when running mvn -Pios client:run.", "createdAt": "2020-09-21T10:25:24Z", "url": "https://github.com/gluonhq/substrate/pull/785", "merged": true, "mergeCommit": {"oid": "847026e175efa6ce3d5d68c7d285da59af6aad53"}, "closed": true, "closedAt": "2020-09-25T12:34:09Z", "author": {"login": "jperedadnr"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdLAKJSgH2gAyNDkwMTkzNDMyOmYyOGU3OGQ1Nzc5YTQ3NWRjYWU5YmI2ZjM4MDRkMWYyYjI3MmMwZWI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdMTtyUAFqTQ5NjMyMDE0NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "f28e78d5779a475dcae9bb6f3804d1f2b272c0eb", "author": {"user": null}, "url": "https://github.com/gluonhq/substrate/commit/f28e78d5779a475dcae9bb6f3804d1f2b272c0eb", "committedDate": "2020-09-21T09:41:29Z", "message": "Bump required iOS-deploy version to 1.11+"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f352cce40dbef959d0fc501fe423f2ca52b657df", "author": {"user": null}, "url": "https://github.com/gluonhq/substrate/commit/f352cce40dbef959d0fc501fe423f2ca52b657df", "committedDate": "2020-09-21T09:47:02Z", "message": "Add patch file that fixes iOS-deploy log issue"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "914e131088400620f6229d0898c1e6e4ef025d66", "author": {"user": null}, "url": "https://github.com/gluonhq/substrate/commit/914e131088400620f6229d0898c1e6e4ef025d66", "committedDate": "2020-09-21T10:21:25Z", "message": "Update iOS-deploy formula, to use head from master, and apply a patch"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3cbb22d23f570ba984a7ef8549cac0ef830cb8c2", "author": {"user": null}, "url": "https://github.com/gluonhq/substrate/commit/3cbb22d23f570ba984a7ef8549cac0ef830cb8c2", "committedDate": "2020-09-21T10:22:20Z", "message": "Extract patch and update formula file with correct location"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkyNDY4OTk4", "url": "https://github.com/gluonhq/substrate/pull/785#pullrequestreview-492468998", "createdAt": "2020-09-21T10:38:09Z", "commit": {"oid": "3cbb22d23f570ba984a7ef8549cac0ef830cb8c2"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQxMDozODowOVrOHVJ4tg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQxMDozODowOVrOHVJ4tg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTk0NDExOA==", "bodyText": "What should developers do when they see this?", "url": "https://github.com/gluonhq/substrate/pull/785#discussion_r491944118", "createdAt": "2020-09-21T10:38:09Z", "author": {"login": "johanvos"}, "path": "src/main/java/com/gluonhq/substrate/util/ios/Deploy.java", "diffHunk": "@@ -104,9 +104,10 @@ private void checkPrerequisites() throws IOException, InterruptedException {\n                 checkPrerequisites();\n             }\n         } else {\n-            // Check for ios-deploy version installed (it should be 1.10+)\n+            // Check for ios-deploy version installed (it should be 1.11+)\n             String version = ProcessRunner.runProcessForSingleOutput(\"ios-deploy version\",\"ios-deploy\", \"-V\");\n-            if (version != null && !version.isEmpty() && (version.startsWith(\"1.8\") || version.startsWith(\"1.9\"))) {\n+            if (version != null && !version.isEmpty() &&\n+                    (version.startsWith(\"1.8\") || version.startsWith(\"1.9\") || version.startsWith(\"1.10\"))) {\n                 Logger.logDebug(\"ios-deploy version (\" + version + \") is outdated\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3cbb22d23f570ba984a7ef8549cac0ef830cb8c2"}, "originalPosition": 10}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkyNDY5NzAy", "url": "https://github.com/gluonhq/substrate/pull/785#pullrequestreview-492469702", "createdAt": "2020-09-21T10:39:19Z", "commit": {"oid": "3cbb22d23f570ba984a7ef8549cac0ef830cb8c2"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQxMDozOToxOVrOHVJ60g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQxMDozOToxOVrOHVJ60g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTk0NDY1OA==", "bodyText": "is this valid syntax?", "url": "https://github.com/gluonhq/substrate/pull/785#discussion_r491944658", "createdAt": "2020-09-21T10:39:19Z", "author": {"login": "johanvos"}, "path": "src/main/resources/thirdparty/ios-deploy/lldbpatch.diff", "diffHunk": "@@ -0,0 +1,13 @@\n+diff --git a/src/scripts/lldb.py b/src/scripts/lldb.py\n+index 89feffb..9b3382a 100644\n+--- a/src/scripts/lldb.py\n++++ b/src/scripts/lldb.py\n+@@ -103,7 +103,7 @@ def autoexit_command(debugger, command, result, internal_dict):\n+     printBacktraceTime = time.time() + detectDeadlockTimeout if detectDeadlockTimeout > 0 else None", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3cbb22d23f570ba984a7ef8549cac0ef830cb8c2"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "54bdbb258738cc92dc470f618e259c4dc744a4b7", "author": {"user": null}, "url": "https://github.com/gluonhq/substrate/commit/54bdbb258738cc92dc470f618e259c4dc744a4b7", "committedDate": "2020-09-22T11:04:40Z", "message": "Update log message when iOS-deploy is reinstalled"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk2MzIwMTQ0", "url": "https://github.com/gluonhq/substrate/pull/785#pullrequestreview-496320144", "createdAt": "2020-09-25T11:02:32Z", "commit": {"oid": "54bdbb258738cc92dc470f618e259c4dc744a4b7"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1999, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}