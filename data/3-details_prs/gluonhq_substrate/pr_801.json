{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk0OTI1Mjg5", "number": 801, "title": "Add error message if Xcode 12 is used", "bodyText": "Fixes #800", "createdAt": "2020-09-29T15:34:16Z", "url": "https://github.com/gluonhq/substrate/pull/801", "merged": true, "mergeCommit": {"oid": "30925630a189991a0da00c2f286326c932d19b29"}, "closed": true, "closedAt": "2020-10-05T12:24:43Z", "author": {"login": "jperedadnr"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdNp-0_gH2gAyNDk0OTI1Mjg5Ojg2NTI0MTc4OWE4ZjliYTAxODM4NzA0MTY1MzFhZGZhM2RhZDdiODA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdPi3kXAFqTUwMTk5OTc5Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "865241789a8f9ba0183870416531adfa3dad7b80", "author": {"user": null}, "url": "https://github.com/gluonhq/substrate/commit/865241789a8f9ba0183870416531adfa3dad7b80", "committedDate": "2020-09-29T15:32:59Z", "message": "Add error message if Xcode 12 is used"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAxOTU1NDAy", "url": "https://github.com/gluonhq/substrate/pull/801#pullrequestreview-501955402", "createdAt": "2020-10-05T11:20:33Z", "commit": {"oid": "865241789a8f9ba0183870416531adfa3dad7b80"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAxOTU2MzE4", "url": "https://github.com/gluonhq/substrate/pull/801#pullrequestreview-501956318", "createdAt": "2020-10-05T11:21:55Z", "commit": {"oid": "865241789a8f9ba0183870416531adfa3dad7b80"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQxMToyMTo1NVrOHcYmXQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQxMToyMTo1NVrOHcYmXQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTUyNTIxMw==", "bodyText": "11+ also includes version 12. I would remove the + suffixes in the message.", "url": "https://github.com/gluonhq/substrate/pull/801#discussion_r499525213", "createdAt": "2020-10-05T11:21:55Z", "author": {"login": "tiainen"}, "path": "src/main/java/com/gluonhq/substrate/model/InternalProjectConfiguration.java", "diffHunk": "@@ -480,6 +481,21 @@ public void canRunLLVM(Triplet triplet) throws IOException, InterruptedException\n                         \"$GRAALVM_HOME/bin/gu install llvm-toolchain\");\n             }\n         }\n+\n+        // TODO: Remove when GraalVM has support for Xcode 12\n+        if (new Triplet(Constants.Profile.IOS).equals(triplet)) {\n+            Path gluonversion = graalPath.resolve(\"gluonversion.txt\");\n+            if (!Files.exists(gluonversion) ||\n+                    !Files.readAllLines(gluonversion).contains(\"graalvm-ce-java11-20.2.0.hotfix-xcode12\")) {\n+                XcodeUtils xcodeUtils = new XcodeUtils(XcodeUtils.SDKS.IPHONEOS);\n+                if (xcodeUtils.getDTXcode().startsWith(\"12\")) {\n+                    throw new IOException(\"\\n\\n\\nYour current GraalVM build can't build for iOS with Xcode 12+.\\n\\n\" +", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "865241789a8f9ba0183870416531adfa3dad7b80"}, "originalPosition": 20}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ec28bafe2a84340cb5645ebdc7941f6039967bda", "author": {"user": null}, "url": "https://github.com/gluonhq/substrate/commit/ec28bafe2a84340cb5645ebdc7941f6039967bda", "committedDate": "2020-10-05T11:26:20Z", "message": "Remove suffix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "74b2a5d0d72bce4052fcb92e10c6b03e56611b1b", "author": {"user": null}, "url": "https://github.com/gluonhq/substrate/commit/74b2a5d0d72bce4052fcb92e10c6b03e56611b1b", "committedDate": "2020-10-05T11:49:23Z", "message": "Remove suffix"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAxOTk5Nzk2", "url": "https://github.com/gluonhq/substrate/pull/801#pullrequestreview-501999796", "createdAt": "2020-10-05T12:23:34Z", "commit": {"oid": "74b2a5d0d72bce4052fcb92e10c6b03e56611b1b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2001, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}