{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYyMDQyNzMy", "number": 264, "title": "Use -H:ResourceConfigurationFiles", "bodyText": "Use a single -H:ResourceConfigurationFiles option to include classpath resources that should be included in the native image instead of passing multiple -H:IncludeResources options.", "createdAt": "2020-01-13T10:32:38Z", "url": "https://github.com/gluonhq/substrate/pull/264", "merged": true, "mergeCommit": {"oid": "1fd6851c8a146da53055e68e8573322ce558b141"}, "closed": true, "closedAt": "2020-01-13T12:00:35Z", "author": {"login": "tiainen"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb550D-AH2gAyMzYyMDQyNzMyOjQ5NWUzZTdlZjNjOTcyMWMzOGU0MzFkZmY2NTY3NjE4MDcxOThjYWE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb57Gw8AFqTM0MTc5NjA1Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "495e3e7ef3c9721c38e431dff656761807198caa", "author": {"user": {"login": "tiainen", "name": "Joeri Sykora"}}, "url": "https://github.com/gluonhq/substrate/commit/495e3e7ef3c9721c38e431dff656761807198caa", "committedDate": "2020-01-13T10:30:04Z", "message": "use single -H:ResourceConfigurationFiles instead of multiple -H:IncludeResources"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQxNzk0ODM2", "url": "https://github.com/gluonhq/substrate/pull/264#pullrequestreview-341794836", "createdAt": "2020-01-13T11:57:57Z", "commit": {"oid": "495e3e7ef3c9721c38e431dff656761807198caa"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQxNzk2MDUz", "url": "https://github.com/gluonhq/substrate/pull/264#pullrequestreview-341796053", "createdAt": "2020-01-13T12:00:23Z", "commit": {"oid": "495e3e7ef3c9721c38e431dff656761807198caa"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xM1QxMjowMDoyNFrOFc0r7g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xM1QxMjowMDoyNFrOFc0r7g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTc2NzY2Mg==", "bodyText": "Maybe we could create a file with the default resources instead of writing it every time? Only adding the user list will be required.", "url": "https://github.com/gluonhq/substrate/pull/264#discussion_r365767662", "createdAt": "2020-01-13T12:00:24Z", "author": {"login": "jperedadnr"}, "path": "src/main/java/com/gluonhq/substrate/target/AbstractTargetConfiguration.java", "diffHunk": "@@ -536,6 +520,41 @@ private Path createJNIConfig(String suffix) throws IOException {\n         return jniPath;\n     }\n \n+    private Path createResourceConfig(String suffix) throws IOException {\n+        Path gvmPath = paths.getGvmPath();\n+        Path resourcePath = gvmPath.resolve(\n+                Strings.substitute(Constants.RESOURCE_ARCH_FILE, Map.of(\"archOs\", suffix)));\n+        Files.deleteIfExists(resourcePath);\n+        try (BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(new FileOutputStream(resourcePath.toFile())))) {\n+            bw.write(\"{\\n\");\n+            bw.write(\"  \\\"resources\\\": [\\n\");\n+            boolean patternHasBeenWritten = false;\n+            for (String extension : RESOURCES_BY_EXTENSION) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "495e3e7ef3c9721c38e431dff656761807198caa"}, "originalPosition": 69}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2185, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}