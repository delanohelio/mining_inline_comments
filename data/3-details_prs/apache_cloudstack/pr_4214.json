{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDUwODAzNDA1", "number": 4214, "title": "Bug fixes for primate", "bodyText": "Description\nAdding the following fixes so primate can work without issues :\n\nAdding pagination for listNetworkAclLists\nAdding pagination for listRoles\nReturning mshost uuid rather than msid in list hosts response\nAllowing listVirtualMachinesMetrics to respect hostid\nFixing return all details in template response\n\n\n\n\n\n\nTypes of changes\n\n\n Breaking change (fix or feature that would cause existing functionality to change)\n New feature (non-breaking change which adds functionality)\n Bug fix (non-breaking change which fixes an issue)\n Enhancement (improves an existing feature and functionality)\n Cleanup (Code refactoring and cleanup, that may add test cases)\n\nHow Has This Been Tested?\n(localhost) \ud83d\udc31 > list networkacllists vpcid=0dc4efc7-82f4-48c1-ae2f-74bf9127ea40 page=3 pagesize=2\n{\n  \"count\": 24,\n  \"networkacllist\": [\n    {\n      \"description\": \"test17\",\n      \"fordisplay\": true,\n      \"id\": \"3c99bcce-8e04-443b-9015-997a35606502\",\n      \"name\": \"test17\",\n      \"vpcid\": \"0dc4efc7-82f4-48c1-ae2f-74bf9127ea40\"\n    },\n    {\n      \"description\": \"test16\",\n      \"fordisplay\": true,\n      \"id\": \"f7e30024-08c9-42c5-81c0-ec4534c5893d\",\n      \"name\": \"test16\",\n      \"vpcid\": \"0dc4efc7-82f4-48c1-ae2f-74bf9127ea40\"\n    }\n  ]\n}\n\n(localhost) \ud83d\udc31 > list roles page=2 pagesize=2\n{\n  \"count\": 4,\n  \"role\": [\n    {\n      \"description\": \"Default domain admin role\",\n      \"id\": \"d3150067-c7ed-11ea-9284-50eb71576f75\",\n      \"name\": \"Domain Admin\",\n      \"type\": \"DomainAdmin\"\n    },\n    {\n      \"description\": \"Default user role\",\n      \"id\": \"d315213f-c7ed-11ea-9284-50eb71576f75\",\n      \"name\": \"User\",\n      \"type\": \"User\"\n    }\n  ]\n}\n\n(localhost) \ud83d\udc31 > list virtualmachinesmetrics hostid=0fe40d0c-8663-4a70-9aba-492dbd8a7fa0 \n(localhost) \ud83d\udc31 > list virtualmachinesmetrics hostid=6fcf97a5-6ec5-4e36-8e26-5f36cb3b0e0e \n{\n  \"count\": 1,\n  \"virtualmachine\": [\n    {\n..............\n\n(localhost) \ud83d\udc31 > list hosts\n{\n  \"count\": 5,\n  \"host\": [\n    {\n.................\n      \"managementserverid\": \"49bbaf18-b823-4328-9aac-bb4c8a7b860a\",\n.................", "createdAt": "2020-07-17T05:47:28Z", "url": "https://github.com/apache/cloudstack/pull/4214", "merged": true, "mergeCommit": {"oid": "eec56025c83715a204d31cf81978c35064eb7cad"}, "closed": true, "closedAt": "2020-07-29T06:56:39Z", "author": {"login": "davidjumani"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc1tPBKAH2gAyNDUwODAzNDA1Ojg1OTRiZjA3MzQ5NjgzMjg3NTI3OGJlY2I3NjVlZTRkNTZlOTFlMTg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc5CTsOgFqTQ1NTgwOTUxMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "8594bf073496832875278becb765ee4d56e91e18", "author": {"user": {"login": "davidjumani", "name": null}}, "url": "https://github.com/apache/cloudstack/commit/8594bf073496832875278becb765ee4d56e91e18", "committedDate": "2020-07-17T05:46:12Z", "message": "Adding pagination for listNetworkAclLists"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6b67bca445e94bdd04d7b1351508c2fb217a2428", "author": {"user": {"login": "davidjumani", "name": null}}, "url": "https://github.com/apache/cloudstack/commit/6b67bca445e94bdd04d7b1351508c2fb217a2428", "committedDate": "2020-07-17T06:32:34Z", "message": "Returning mshost uuid rather than msid in list hosts response"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ca9dceba81ddc892d41705f49205fe6cef0307eb", "author": {"user": {"login": "davidjumani", "name": null}}, "url": "https://github.com/apache/cloudstack/commit/ca9dceba81ddc892d41705f49205fe6cef0307eb", "committedDate": "2020-07-17T08:08:04Z", "message": "Adding pagination for listRoles"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "402467a0b6ffda245e90dd9de5dc337ff15751b9", "author": {"user": {"login": "davidjumani", "name": null}}, "url": "https://github.com/apache/cloudstack/commit/402467a0b6ffda245e90dd9de5dc337ff15751b9", "committedDate": "2020-07-17T08:34:09Z", "message": "Allowing listVirtualMachinesMetrics to respect hostid"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUwNDg3MjA3", "url": "https://github.com/apache/cloudstack/pull/4214#pullrequestreview-450487207", "createdAt": "2020-07-17T08:53:46Z", "commit": {"oid": "402467a0b6ffda245e90dd9de5dc337ff15751b9"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QwODo1Mzo0N1rOGzLDLQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QwODo1Mzo0N1rOGzLDLQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjMxMTU5Nw==", "bodyText": "@rhtyd Is there a better way to do this? If not, can entirely remove ListVmsCmdByAdmin since it's no longer used", "url": "https://github.com/apache/cloudstack/pull/4214#discussion_r456311597", "createdAt": "2020-07-17T08:53:47Z", "author": {"login": "davidjumani"}, "path": "server/src/main/java/com/cloud/api/query/QueryManagerImpl.java", "diffHunk": "@@ -1064,9 +1062,8 @@\n             sc.setParameters(\"keyPairName\", keyPairName);\n         }\n \n-        if (cmd instanceof ListVMsCmdByAdmin) {\n-            ListVMsCmdByAdmin aCmd = (ListVMsCmdByAdmin)cmd;\n-            if (aCmd.getPodId() != null) {\n+        if (_accountMgr.isRootAdmin(caller.getId())) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "402467a0b6ffda245e90dd9de5dc337ff15751b9"}, "originalPosition": 31}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "03d71f02b4c4962c2b1b90a16b3c0ea10897897f", "author": {"user": {"login": "davidjumani", "name": null}}, "url": "https://github.com/apache/cloudstack/commit/03d71f02b4c4962c2b1b90a16b3c0ea10897897f", "committedDate": "2020-07-18T07:13:06Z", "message": "Cleanup"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a21d8ef46cbbe89ed0de03dc43ab0a0614d86d82", "author": {"user": {"login": "davidjumani", "name": null}}, "url": "https://github.com/apache/cloudstack/commit/a21d8ef46cbbe89ed0de03dc43ab0a0614d86d82", "committedDate": "2020-07-17T13:19:20Z", "message": "Cleanup"}, "afterCommit": {"oid": "03d71f02b4c4962c2b1b90a16b3c0ea10897897f", "author": {"user": {"login": "davidjumani", "name": null}}, "url": "https://github.com/apache/cloudstack/commit/03d71f02b4c4962c2b1b90a16b3c0ea10897897f", "committedDate": "2020-07-18T07:13:06Z", "message": "Cleanup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8d1afa79fb5aecd0b41cedc654690de0f6e234bb", "author": {"user": {"login": "davidjumani", "name": null}}, "url": "https://github.com/apache/cloudstack/commit/8d1afa79fb5aecd0b41cedc654690de0f6e234bb", "committedDate": "2020-07-21T14:31:44Z", "message": "Fixing return all details in template response"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU1NTk2MzYz", "url": "https://github.com/apache/cloudstack/pull/4214#pullrequestreview-455596363", "createdAt": "2020-07-27T08:55:18Z", "commit": {"oid": "8d1afa79fb5aecd0b41cedc654690de0f6e234bb"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU1ODA5NTEw", "url": "https://github.com/apache/cloudstack/pull/4214#pullrequestreview-455809510", "createdAt": "2020-07-27T14:01:05Z", "commit": {"oid": "8d1afa79fb5aecd0b41cedc654690de0f6e234bb"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3954, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}