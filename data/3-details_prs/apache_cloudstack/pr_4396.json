{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTAxNDA0NzAz", "number": 4396, "title": "Show network name in exception message", "bodyText": "Description\n\nDisplay network name in exception message instead of network object\n\n\n\n\n\nTypes of changes\n\n\n Breaking change (fix or feature that would cause existing functionality to change)\n New feature (non-breaking change which adds functionality)\n Bug fix (non-breaking change which fixes an issue)\n Enhancement (improves an existing feature and functionality)\n Cleanup (Code refactoring and cleanup, that may add test cases)\n\nScreenshots (if appropriate):\nHow Has This Been Tested?", "createdAt": "2020-10-12T08:13:31Z", "url": "https://github.com/apache/cloudstack/pull/4396", "merged": true, "mergeCommit": {"oid": "fd49efa9c129041039b085f1cd1f21deb0e4a076"}, "closed": true, "closedAt": "2021-02-19T08:34:39Z", "author": {"login": "ravening"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdRzY9TAFqTUwNjU4NjcxOQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABd7lsqJAH2gAyNTAxNDA0NzAzOmNjNTgzNjk3MTBjZWM0OTY1NDRlMTFiZmExMDc0YjRkOGYwMmM5OWI=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA2NTg2NzE5", "url": "https://github.com/apache/cloudstack/pull/4396#pullrequestreview-506586719", "createdAt": "2020-10-12T12:46:21Z", "commit": {"oid": "30b35e298985c26e99f754532324bb25f717959f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMlQxMjo0NjoyMlrOHf9O8A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMlQxMjo0NjoyMlrOHf9O8A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzI3MTE1Mg==", "bodyText": "this might yield an NPE hiding the original problem, no?", "url": "https://github.com/apache/cloudstack/pull/4396#discussion_r503271152", "createdAt": "2020-10-12T12:46:22Z", "author": {"login": "DaanHoogland"}, "path": "server/src/main/java/com/cloud/vm/UserVmManagerImpl.java", "diffHunk": "@@ -3821,7 +3821,7 @@ private void checkIfHostNameUniqueInNtwkDomain(String hostName, List<? extends N\n                 // * verify that there are no duplicates\n                 if (hostNames.contains(hostName)) {\n                     throw new InvalidParameterValueException(\"The vm with hostName \" + hostName + \" already exists in the network domain: \" + ntwkDomain.getKey() + \"; network=\"\n-                            + _networkModel.getNetwork(ntwkId));\n+                            + _networkModel.getNetwork(ntwkId).getName());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "30b35e298985c26e99f754532324bb25f717959f"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA2NjE1OTc2", "url": "https://github.com/apache/cloudstack/pull/4396#pullrequestreview-506615976", "createdAt": "2020-10-12T13:24:28Z", "commit": {"oid": "30b35e298985c26e99f754532324bb25f717959f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMlQxMzoyNDoyOFrOHf-mwQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMlQxMzoyNDoyOFrOHf-mwQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzI5MzYzMw==", "bodyText": "I see no problem in adding an if checking for a non-null name. However, a network can only be created with a name.\nIf the network is a non-null Object then I don't see how the name would be null. Unless manual queries have been executed on DB (messing with networks) or there are some bugs on the network removal/update process.", "url": "https://github.com/apache/cloudstack/pull/4396#discussion_r503293633", "createdAt": "2020-10-12T13:24:28Z", "author": {"login": "GabrielBrascher"}, "path": "server/src/main/java/com/cloud/vm/UserVmManagerImpl.java", "diffHunk": "@@ -3821,7 +3821,7 @@ private void checkIfHostNameUniqueInNtwkDomain(String hostName, List<? extends N\n                 // * verify that there are no duplicates\n                 if (hostNames.contains(hostName)) {\n                     throw new InvalidParameterValueException(\"The vm with hostName \" + hostName + \" already exists in the network domain: \" + ntwkDomain.getKey() + \"; network=\"\n-                            + _networkModel.getNetwork(ntwkId));\n+                            + _networkModel.getNetwork(ntwkId).getName());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzI3MTE1Mg=="}, "originalCommit": {"oid": "30b35e298985c26e99f754532324bb25f717959f"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA4MTg2ODkx", "url": "https://github.com/apache/cloudstack/pull/4396#pullrequestreview-508186891", "createdAt": "2020-10-14T09:59:47Z", "commit": {"oid": "30b35e298985c26e99f754532324bb25f717959f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQwOTo1OTo0N1rOHhLiVw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQwOTo1OTo0N1rOHhLiVw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDU1NDA3MQ==", "bodyText": "How about fixing/extending the toString of the returned network object (the VO?)", "url": "https://github.com/apache/cloudstack/pull/4396#discussion_r504554071", "createdAt": "2020-10-14T09:59:47Z", "author": {"login": "rhtyd"}, "path": "server/src/main/java/com/cloud/vm/UserVmManagerImpl.java", "diffHunk": "@@ -3821,7 +3821,7 @@ private void checkIfHostNameUniqueInNtwkDomain(String hostName, List<? extends N\n                 // * verify that there are no duplicates\n                 if (hostNames.contains(hostName)) {\n                     throw new InvalidParameterValueException(\"The vm with hostName \" + hostName + \" already exists in the network domain: \" + ntwkDomain.getKey() + \"; network=\"\n-                            + _networkModel.getNetwork(ntwkId));\n+                            + _networkModel.getNetwork(ntwkId).getName());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "30b35e298985c26e99f754532324bb25f717959f"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEwNDkwODc4", "url": "https://github.com/apache/cloudstack/pull/4396#pullrequestreview-510490878", "createdAt": "2020-10-16T13:51:39Z", "commit": {"oid": "30b35e298985c26e99f754532324bb25f717959f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEwNTA0MTkz", "url": "https://github.com/apache/cloudstack/pull/4396#pullrequestreview-510504193", "createdAt": "2020-10-16T14:06:17Z", "commit": {"oid": "30b35e298985c26e99f754532324bb25f717959f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEwNjI3ODQ4", "url": "https://github.com/apache/cloudstack/pull/4396#pullrequestreview-510627848", "createdAt": "2020-10-16T16:31:56Z", "commit": {"oid": "30b35e298985c26e99f754532324bb25f717959f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c24693c90a082ba719e51d0db9b347fa3b4fdd9d", "author": {"user": {"login": "ravening", "name": "Rakesh"}}, "url": "https://github.com/apache/cloudstack/commit/c24693c90a082ba719e51d0db9b347fa3b4fdd9d", "committedDate": "2020-10-28T11:52:51Z", "message": "Show network name in exception message"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "30b35e298985c26e99f754532324bb25f717959f", "author": {"user": {"login": "ravening", "name": "Rakesh"}}, "url": "https://github.com/apache/cloudstack/commit/30b35e298985c26e99f754532324bb25f717959f", "committedDate": "2020-10-12T08:12:29Z", "message": "Show network name in exception message"}, "afterCommit": {"oid": "c24693c90a082ba719e51d0db9b347fa3b4fdd9d", "author": {"user": {"login": "ravening", "name": "Rakesh"}}, "url": "https://github.com/apache/cloudstack/commit/c24693c90a082ba719e51d0db9b347fa3b4fdd9d", "committedDate": "2020-10-28T11:52:51Z", "message": "Show network name in exception message"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cc58369710cec496544e11bfa1074b4d8f02c99b", "author": {"user": {"login": "rhtyd", "name": "Rohit Yadav"}}, "url": "https://github.com/apache/cloudstack/commit/cc58369710cec496544e11bfa1074b4d8f02c99b", "committedDate": "2021-02-19T08:34:02Z", "message": "Update server/src/main/java/com/cloud/vm/UserVmManagerImpl.java\n\nCo-authored-by: dahn <daan.hoogland@gmail.com>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4681, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}