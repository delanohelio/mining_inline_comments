{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY4NTU3MDE1", "number": 3851, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQxODozMToyNlrODcBDAA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQxODozMToyNlrODcBDAA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMwNzAzODcyOnYy", "diffSide": "RIGHT", "path": "server/src/main/java/com/cloud/network/router/CommandSetupHelper.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQxODozMToyNlrOFj1Yng==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQxOTo1MDozMVrOFj30_Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzExOTEzNA==", "bodyText": "@ustcweizhou what do you think of adding also the network name? Sometimes it annoys me to see a lot of IDs on the log and then go after a few selects to understand what is really going on.\nHaving the network ID and name would be great for debugging :-)", "url": "https://github.com/apache/cloudstack/pull/3851#discussion_r373119134", "createdAt": "2020-01-30T18:31:26Z", "author": {"login": "GabrielBrascher"}, "path": "server/src/main/java/com/cloud/network/router/CommandSetupHelper.java", "diffHunk": "@@ -1101,4 +1105,14 @@ protected String getGuestDhcpRange(final NicProfile guestNic, final Network gues\n         }\n         return dhcpRange;\n     }\n+\n+    private TrafficType getNetworkTrafficType(Network network) {\n+        final VpcGatewayVO gateway = _vpcGatewayDao.getVpcGatewayByNetworkId(network.getId());\n+        if (gateway != null) {\n+            s_logger.debug(\"network \" + network.getId() + \" is a vpc private gateway, set traffic type to Public\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a7c9c5212b6e42557d88cc18f755267c55a6c699"}, "originalPosition": 54}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzE1OTE2NQ==", "bodyText": "@GabrielBrascher added a new commit per your comment.", "url": "https://github.com/apache/cloudstack/pull/3851#discussion_r373159165", "createdAt": "2020-01-30T19:50:31Z", "author": {"login": "weizhouapache"}, "path": "server/src/main/java/com/cloud/network/router/CommandSetupHelper.java", "diffHunk": "@@ -1101,4 +1105,14 @@ protected String getGuestDhcpRange(final NicProfile guestNic, final Network gues\n         }\n         return dhcpRange;\n     }\n+\n+    private TrafficType getNetworkTrafficType(Network network) {\n+        final VpcGatewayVO gateway = _vpcGatewayDao.getVpcGatewayByNetworkId(network.getId());\n+        if (gateway != null) {\n+            s_logger.debug(\"network \" + network.getId() + \" is a vpc private gateway, set traffic type to Public\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzExOTEzNA=="}, "originalCommit": {"oid": "a7c9c5212b6e42557d88cc18f755267c55a6c699"}, "originalPosition": 54}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4016, "cost": 1, "resetAt": "2021-11-12T11:18:39Z"}}}