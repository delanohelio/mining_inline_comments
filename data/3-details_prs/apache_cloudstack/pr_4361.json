{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk1ODM1MDU3", "number": 4361, "title": "Add vpcid in usage network response", "bodyText": "Description\n\nCurrently vpcid is not displayed in listUsageRecords response.\nAdd the vpcid so that we can see to which vpc, the network belongs\nlist usagerecords startdate=2020-01-01 enddate=2020-08-01\n{\n      \"account\": \"admin\",\n      \"accountid\": \"40ec-c28e-11ea-9a43-06103377\",\n      \"description\": \"Bytes received by network null (324e0-ca0f-4762-9850-de5f5c411) using router r-7-VM (ef9-00d7-43e8-8819-9f23226)\",\n      \"domain\": \"ROOT\",\n      \"domainid\": \"04c6-c28e-11ea-9a43-0613377\",\n      \"enddate\": \"2020-07-27'T'23:59:59+00:00\",\n      \"rawusage\": \"77776\",\n      \"startdate\": \"2020-07-27'T'00:00:00+00:00\",\n      \"tags\": [],\n      \"type\": \"DomainRouter\",\n      \"usage\": \"77776 bytes received\",\n      \"usageid\": \"ef96c-00d7-43e8-8819-9f236226\",\n      \"usagetype\": 5,\n      \"vpcid\": \"d187a-69a3-4153-88ac-3c7c2de31\", >>>>>>>>>>>>>>>>>>>>>\n      \"zoneid\": \"8ad-7db1-4a1a-9030-db0e62\"\n    },\n\n\n\n\n\n\nTypes of changes\n\n\n Breaking change (fix or feature that would cause existing functionality to change)\n New feature (non-breaking change which adds functionality)\n Bug fix (non-breaking change which fixes an issue)\n Enhancement (improves an existing feature and functionality)\n Cleanup (Code refactoring and cleanup, that may add test cases)", "createdAt": "2020-09-30T23:02:56Z", "url": "https://github.com/apache/cloudstack/pull/4361", "merged": true, "mergeCommit": {"oid": "beb1edcdbca7204bfa08a09f5f07e12b55b5369c"}, "closed": true, "closedAt": "2020-11-23T08:32:26Z", "author": {"login": "ravening"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdONE7-AFqTUwMDExNjcyOA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABddVSweAFqTUzMjEyMzI2MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAwMTE2NzI4", "url": "https://github.com/apache/cloudstack/pull/4361#pullrequestreview-500116728", "createdAt": "2020-10-01T08:26:20Z", "commit": {"oid": "6176f51491efdd2587c12907a117c53b0271a1a2"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMVQwODoyNjoyMFrOHa_xYw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMVQwODoyNjoyMFrOHa_xYw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODA2OTg1OQ==", "bodyText": "Could this have side effects? You may need to check, or instead add a new method that finds VPC by ID including removed?", "url": "https://github.com/apache/cloudstack/pull/4361#discussion_r498069859", "createdAt": "2020-10-01T08:26:20Z", "author": {"login": "rhtyd"}, "path": "server/src/main/java/com/cloud/api/ApiDBUtils.java", "diffHunk": "@@ -1568,7 +1568,7 @@ public static GuestOSCategoryVO findGuestOsCategoryById(long catId) {\n     }\n \n     public static VpcVO findVpcById(long vpcId) {\n-        return s_vpcDao.findById(vpcId);\n+        return s_vpcDao.findByIdIncludingRemoved(vpcId);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6176f51491efdd2587c12907a117c53b0271a1a2"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA4MTkzODAz", "url": "https://github.com/apache/cloudstack/pull/4361#pullrequestreview-508193803", "createdAt": "2020-10-14T10:08:45Z", "commit": {"oid": "6176f51491efdd2587c12907a117c53b0271a1a2"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "baba68e3a2916a9afe5cf256e17c47c208f3d505", "author": {"user": {"login": "ravening", "name": "Rakesh"}}, "url": "https://github.com/apache/cloudstack/commit/baba68e3a2916a9afe5cf256e17c47c208f3d505", "committedDate": "2020-10-28T11:54:37Z", "message": "Add vpcid in usage network response\n\nCurrently vpcid is displayed in listUsageNetworks response.\nAdd the vpcid so that we can see to which vpc, the network belongs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7fd177aae40bd91a3ed38c6966bc55e8a139846c", "author": {"user": {"login": "ravening", "name": "Rakesh"}}, "url": "https://github.com/apache/cloudstack/commit/7fd177aae40bd91a3ed38c6966bc55e8a139846c", "committedDate": "2020-10-28T12:02:29Z", "message": "use new function to get removed"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6176f51491efdd2587c12907a117c53b0271a1a2", "author": {"user": {"login": "ravening", "name": "Rakesh"}}, "url": "https://github.com/apache/cloudstack/commit/6176f51491efdd2587c12907a117c53b0271a1a2", "committedDate": "2020-09-30T14:25:39Z", "message": "Add vpcid in usage network response\n\nCurrently vpcid is displayed in listUsageNetworks response.\nAdd the vpcid so that we can see to which vpc, the network belongs"}, "afterCommit": {"oid": "7fd177aae40bd91a3ed38c6966bc55e8a139846c", "author": {"user": {"login": "ravening", "name": "Rakesh"}}, "url": "https://github.com/apache/cloudstack/commit/7fd177aae40bd91a3ed38c6966bc55e8a139846c", "committedDate": "2020-10-28T12:02:29Z", "message": "use new function to get removed"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMyMTIzMjYx", "url": "https://github.com/apache/cloudstack/pull/4361#pullrequestreview-532123261", "createdAt": "2020-11-17T08:29:32Z", "commit": {"oid": "7fd177aae40bd91a3ed38c6966bc55e8a139846c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4921, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}