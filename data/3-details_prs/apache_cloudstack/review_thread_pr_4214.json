{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDUwODAzNDA1", "number": 4214, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QwODo1Mzo0N1rOEPdDiw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QwODo1Mzo0N1rOEPdDiw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg0NjQwMTM5OnYy", "diffSide": "RIGHT", "path": "server/src/main/java/com/cloud/api/query/QueryManagerImpl.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QwODo1Mzo0N1rOGzLDLQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yN1QwODo1NTowMFrOG3ZkNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjMxMTU5Nw==", "bodyText": "@rhtyd Is there a better way to do this? If not, can entirely remove ListVmsCmdByAdmin since it's no longer used", "url": "https://github.com/apache/cloudstack/pull/4214#discussion_r456311597", "createdAt": "2020-07-17T08:53:47Z", "author": {"login": "davidjumani"}, "path": "server/src/main/java/com/cloud/api/query/QueryManagerImpl.java", "diffHunk": "@@ -1064,9 +1062,8 @@\n             sc.setParameters(\"keyPairName\", keyPairName);\n         }\n \n-        if (cmd instanceof ListVMsCmdByAdmin) {\n-            ListVMsCmdByAdmin aCmd = (ListVMsCmdByAdmin)cmd;\n-            if (aCmd.getPodId() != null) {\n+        if (_accountMgr.isRootAdmin(caller.getId())) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "402467a0b6ffda245e90dd9de5dc337ff15751b9"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDc0MzczNA==", "bodyText": "this LGTM", "url": "https://github.com/apache/cloudstack/pull/4214#discussion_r460743734", "createdAt": "2020-07-27T08:55:00Z", "author": {"login": "rhtyd"}, "path": "server/src/main/java/com/cloud/api/query/QueryManagerImpl.java", "diffHunk": "@@ -1064,9 +1062,8 @@\n             sc.setParameters(\"keyPairName\", keyPairName);\n         }\n \n-        if (cmd instanceof ListVMsCmdByAdmin) {\n-            ListVMsCmdByAdmin aCmd = (ListVMsCmdByAdmin)cmd;\n-            if (aCmd.getPodId() != null) {\n+        if (_accountMgr.isRootAdmin(caller.getId())) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjMxMTU5Nw=="}, "originalCommit": {"oid": "402467a0b6ffda245e90dd9de5dc337ff15751b9"}, "originalPosition": 31}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3750, "cost": 1, "resetAt": "2021-11-12T11:18:39Z"}}}