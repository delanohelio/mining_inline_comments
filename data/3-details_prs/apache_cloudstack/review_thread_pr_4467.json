{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE5Nzc1OTYw", "number": 4467, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMlQxMDo1Nzo1OVrOE4G6jw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMlQxMDo1Nzo1OVrOE4G6jw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI3MjY5MDA3OnYy", "diffSide": "RIGHT", "path": "server/src/main/java/com/cloud/network/router/VpcVirtualNetworkApplianceManagerImpl.java", "isResolved": false, "comments": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMlQxMDo1Nzo1OVrOHx1cpA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xM1QxMjo1MTo1NFrOHytKTw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjAxNzk1Ng==", "bodyText": "method name is not clear, Either define & use separate methods (for \"updating nic device id\" and \"getting nic with device id\"), or change the name appropriately.", "url": "https://github.com/apache/cloudstack/pull/4467#discussion_r522017956", "createdAt": "2020-11-12T10:57:59Z", "author": {"login": "sureshanaparti"}, "path": "server/src/main/java/com/cloud/network/router/VpcVirtualNetworkApplianceManagerImpl.java", "diffHunk": "@@ -834,4 +837,11 @@ public boolean postStateTransitionEvent(final StateMachine2.Transition<State, Vi\n         // once from VpcVirtualNetworkApplianceManagerImpl and once from VirtualNetworkApplianceManagerImpl itself\n         return true;\n     }\n+\n+    private Nic getNicWithUpdatedDeviceId(final long nicId, int deviceId) {\n+        NicVO nic = _nicDao.findById(nicId);\n+        nic.setDeviceId(deviceId);\n+        _nicDao.update(nic.getId(), nic);\n+        return nic;\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "522f4ebac2bc14e17cdf4a62dd2af47a8457361c"}, "originalPosition": 38}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjA1MzY0OA==", "bodyText": "getNicAndUpdtaeDeviceId() might have been more accurate but this is clearly stating what it does on the tin (to me) , Can you be more explicit about what you want @sureshanaparti ?", "url": "https://github.com/apache/cloudstack/pull/4467#discussion_r522053648", "createdAt": "2020-11-12T12:00:03Z", "author": {"login": "DaanHoogland"}, "path": "server/src/main/java/com/cloud/network/router/VpcVirtualNetworkApplianceManagerImpl.java", "diffHunk": "@@ -834,4 +837,11 @@ public boolean postStateTransitionEvent(final StateMachine2.Transition<State, Vi\n         // once from VpcVirtualNetworkApplianceManagerImpl and once from VirtualNetworkApplianceManagerImpl itself\n         return true;\n     }\n+\n+    private Nic getNicWithUpdatedDeviceId(final long nicId, int deviceId) {\n+        NicVO nic = _nicDao.findById(nicId);\n+        nic.setDeviceId(deviceId);\n+        _nicDao.update(nic.getId(), nic);\n+        return nic;\n+    }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjAxNzk1Ng=="}, "originalCommit": {"oid": "522f4ebac2bc14e17cdf4a62dd2af47a8457361c"}, "originalPosition": 38}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjY2NTYzOA==", "bodyText": "getNicAndUpdtaeDeviceId() might have been more accurate but this is clearly stating what it does on the tin (to me) , Can you be more explicit about what you want @sureshanaparti ?\n\nsimply \"updateNicWithDeviceId()\" returning nic would be ok.", "url": "https://github.com/apache/cloudstack/pull/4467#discussion_r522665638", "createdAt": "2020-11-13T05:34:55Z", "author": {"login": "sureshanaparti"}, "path": "server/src/main/java/com/cloud/network/router/VpcVirtualNetworkApplianceManagerImpl.java", "diffHunk": "@@ -834,4 +837,11 @@ public boolean postStateTransitionEvent(final StateMachine2.Transition<State, Vi\n         // once from VpcVirtualNetworkApplianceManagerImpl and once from VirtualNetworkApplianceManagerImpl itself\n         return true;\n     }\n+\n+    private Nic getNicWithUpdatedDeviceId(final long nicId, int deviceId) {\n+        NicVO nic = _nicDao.findById(nicId);\n+        nic.setDeviceId(deviceId);\n+        _nicDao.update(nic.getId(), nic);\n+        return nic;\n+    }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjAxNzk1Ng=="}, "originalCommit": {"oid": "522f4ebac2bc14e17cdf4a62dd2af47a8457361c"}, "originalPosition": 38}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjczMzAzMg==", "bodyText": "@sureshanaparti updateNicWithDeviceId() looks good to me. @DaanHoogland what's your opinion ?", "url": "https://github.com/apache/cloudstack/pull/4467#discussion_r522733032", "createdAt": "2020-11-13T07:34:20Z", "author": {"login": "weizhouapache"}, "path": "server/src/main/java/com/cloud/network/router/VpcVirtualNetworkApplianceManagerImpl.java", "diffHunk": "@@ -834,4 +837,11 @@ public boolean postStateTransitionEvent(final StateMachine2.Transition<State, Vi\n         // once from VpcVirtualNetworkApplianceManagerImpl and once from VirtualNetworkApplianceManagerImpl itself\n         return true;\n     }\n+\n+    private Nic getNicWithUpdatedDeviceId(final long nicId, int deviceId) {\n+        NicVO nic = _nicDao.findById(nicId);\n+        nic.setDeviceId(deviceId);\n+        _nicDao.update(nic.getId(), nic);\n+        return nic;\n+    }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjAxNzk1Ng=="}, "originalCommit": {"oid": "522f4ebac2bc14e17cdf4a62dd2af47a8457361c"}, "originalPosition": 38}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjc2MzcxMA==", "bodyText": "yes, fine. the only problem i have is with my own spelling; getNicAndUpdtaeDeviceId() misses a 'k' ;)", "url": "https://github.com/apache/cloudstack/pull/4467#discussion_r522763710", "createdAt": "2020-11-13T08:02:47Z", "author": {"login": "DaanHoogland"}, "path": "server/src/main/java/com/cloud/network/router/VpcVirtualNetworkApplianceManagerImpl.java", "diffHunk": "@@ -834,4 +837,11 @@ public boolean postStateTransitionEvent(final StateMachine2.Transition<State, Vi\n         // once from VpcVirtualNetworkApplianceManagerImpl and once from VirtualNetworkApplianceManagerImpl itself\n         return true;\n     }\n+\n+    private Nic getNicWithUpdatedDeviceId(final long nicId, int deviceId) {\n+        NicVO nic = _nicDao.findById(nicId);\n+        nic.setDeviceId(deviceId);\n+        _nicDao.update(nic.getId(), nic);\n+        return nic;\n+    }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjAxNzk1Ng=="}, "originalCommit": {"oid": "522f4ebac2bc14e17cdf4a62dd2af47a8457361c"}, "originalPosition": 38}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjkzMDc2Nw==", "bodyText": "@sureshanaparti @DaanHoogland thanks guys. code is changed.", "url": "https://github.com/apache/cloudstack/pull/4467#discussion_r522930767", "createdAt": "2020-11-13T12:51:54Z", "author": {"login": "weizhouapache"}, "path": "server/src/main/java/com/cloud/network/router/VpcVirtualNetworkApplianceManagerImpl.java", "diffHunk": "@@ -834,4 +837,11 @@ public boolean postStateTransitionEvent(final StateMachine2.Transition<State, Vi\n         // once from VpcVirtualNetworkApplianceManagerImpl and once from VirtualNetworkApplianceManagerImpl itself\n         return true;\n     }\n+\n+    private Nic getNicWithUpdatedDeviceId(final long nicId, int deviceId) {\n+        NicVO nic = _nicDao.findById(nicId);\n+        nic.setDeviceId(deviceId);\n+        _nicDao.update(nic.getId(), nic);\n+        return nic;\n+    }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjAxNzk1Ng=="}, "originalCommit": {"oid": "522f4ebac2bc14e17cdf4a62dd2af47a8457361c"}, "originalPosition": 38}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4130, "cost": 1, "resetAt": "2021-11-12T11:18:39Z"}}}