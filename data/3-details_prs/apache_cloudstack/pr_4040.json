{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA2NjExMDMz", "number": 4040, "title": "[KVM] Enable PVLAN support on L2 networks", "bodyText": "Description\n\nThis is an extention of #3732 for kvm.\nThis is restricted to ovs > 2.9.2\nSince Xen uses ovs 2.6, pvlan is unsupported.\nThis also fixes issues of vms on the same pvlan unable to communicate if they're on the same host\n\n\n\n\n\nTypes of changes\n\n\n Breaking change (fix or feature that would cause existing functionality to change)\n New feature (non-breaking change which adds functionality)\n Bug fix (non-breaking change which fixes an issue)\n Enhancement (improves an existing feature and functionality)\n Cleanup (Code refactoring and cleanup, that may add test cases)\n\nHow Has This Been Tested?\n\nCreate L2 network selecting a VLAN ID and secondary VLAN ID as well as the PVLAN type. The connectivity is as expected", "createdAt": "2020-04-21T11:23:59Z", "url": "https://github.com/apache/cloudstack/pull/4040", "merged": true, "mergeCommit": {"oid": "3872bf1ff94659fb234a7dd938ccdf6254fad3e7"}, "closed": true, "closedAt": "2020-08-20T10:16:34Z", "author": {"login": "davidjumani"}, "timelineItems": {"totalCount": 23, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcZywGlgBqjMyNTU5NzI3NTY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdAdnaiAH2gAyNDA2NjExMDMzOjhjNDE4NTNjMjU3OTlmZjFiMmY1ZThiOTRiN2M2ZTdmMTU4ZmU0Yjk=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "99a9682fe4d91473dceddfe101e52b30ef5eeda7", "author": {"user": {"login": "davidjumani", "name": null}}, "url": "https://github.com/apache/cloudstack/commit/99a9682fe4d91473dceddfe101e52b30ef5eeda7", "committedDate": "2020-04-21T11:22:31Z", "message": "Adding l2 pvlan support for vms on kvm and xen"}, "afterCommit": {"oid": "e908b90affe5a5f1d5cbf4cbe96913362a48b5f0", "author": {"user": {"login": "davidjumani", "name": null}}, "url": "https://github.com/apache/cloudstack/commit/e908b90affe5a5f1d5cbf4cbe96913362a48b5f0", "committedDate": "2020-04-21T12:21:34Z", "message": "Adding l2 pvlan support for vms on kvm and xen"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e908b90affe5a5f1d5cbf4cbe96913362a48b5f0", "author": {"user": {"login": "davidjumani", "name": null}}, "url": "https://github.com/apache/cloudstack/commit/e908b90affe5a5f1d5cbf4cbe96913362a48b5f0", "committedDate": "2020-04-21T12:21:34Z", "message": "Adding l2 pvlan support for vms on kvm and xen"}, "afterCommit": {"oid": "bae74f8152f1f3bb5e0cc64596afdd9634f1a53d", "author": {"user": {"login": "davidjumani", "name": null}}, "url": "https://github.com/apache/cloudstack/commit/bae74f8152f1f3bb5e0cc64596afdd9634f1a53d", "committedDate": "2020-04-21T14:31:30Z", "message": "Adding l2 pvlan support for vms on kvm and xen"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "bae74f8152f1f3bb5e0cc64596afdd9634f1a53d", "author": {"user": {"login": "davidjumani", "name": null}}, "url": "https://github.com/apache/cloudstack/commit/bae74f8152f1f3bb5e0cc64596afdd9634f1a53d", "committedDate": "2020-04-21T14:31:30Z", "message": "Adding l2 pvlan support for vms on kvm and xen"}, "afterCommit": {"oid": "9251cf5718e4726cfc1a75823380f077cce9083b", "author": {"user": {"login": "davidjumani", "name": null}}, "url": "https://github.com/apache/cloudstack/commit/9251cf5718e4726cfc1a75823380f077cce9083b", "committedDate": "2020-04-23T08:48:41Z", "message": "Adding l2 pvlan support for vms on kvm and xen"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9251cf5718e4726cfc1a75823380f077cce9083b", "author": {"user": {"login": "davidjumani", "name": null}}, "url": "https://github.com/apache/cloudstack/commit/9251cf5718e4726cfc1a75823380f077cce9083b", "committedDate": "2020-04-23T08:48:41Z", "message": "Adding l2 pvlan support for vms on kvm and xen"}, "afterCommit": {"oid": "c14dbf654dca43804f553604a773d9477c4509fb", "author": {"user": {"login": "davidjumani", "name": null}}, "url": "https://github.com/apache/cloudstack/commit/c14dbf654dca43804f553604a773d9477c4509fb", "committedDate": "2020-04-24T11:19:33Z", "message": "Adding l2 pvlan for kvm"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAyNDMwNTc2", "url": "https://github.com/apache/cloudstack/pull/4040#pullrequestreview-402430576", "createdAt": "2020-04-29T07:44:18Z", "commit": {"oid": "e163c775a125951f4318c2c765dcbcc5ba2c307d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQwNzo0NDoxOFrOGNzTAg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQwNzo0NDoxOFrOGNzTAg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzEyNTEyMg==", "bodyText": "no pokemon catch-um-all", "url": "https://github.com/apache/cloudstack/pull/4040#discussion_r417125122", "createdAt": "2020-04-29T07:44:18Z", "author": {"login": "DaanHoogland"}, "path": "plugins/hypervisors/kvm/src/main/java/com/cloud/hypervisor/kvm/resource/wrapper/LibvirtPvlanSetupCommandWrapper.java", "diffHunk": "@@ -66,41 +58,29 @@ public Answer execute(final PvlanSetupCommand command, final LibvirtComputingRes\n                 final String ovsPvlanDhcpHostPath = libvirtComputingResource.getOvsPvlanDhcpHostPath();\n                 final Script script = new Script(ovsPvlanDhcpHostPath, timeout, s_logger);\n \n-                if (add) {\n-                    final LibvirtUtilitiesHelper libvirtUtilitiesHelper = libvirtComputingResource.getLibvirtUtilitiesHelper();\n-                    final Connect conn = libvirtUtilitiesHelper.getConnectionByVmName(dhcpName);\n-\n-                    final List<InterfaceDef> ifaces = libvirtComputingResource.getInterfaces(conn, dhcpName);\n-                    final InterfaceDef guestNic = ifaces.get(0);\n-                    script.add(opr, \"-b\", guestBridgeName, \"-p\", primaryPvlan, \"-i\", isolatedPvlan, \"-n\", dhcpName, \"-d\", dhcpIp, \"-m\", dhcpMac, \"-I\",\n-                            guestNic.getDevName());\n-                } else {\n-                    script.add(opr, \"-b\", guestBridgeName, \"-p\", primaryPvlan, \"-i\", isolatedPvlan, \"-n\", dhcpName, \"-d\", dhcpIp, \"-m\", dhcpMac);\n-                }\n-\n+                script.add(opr, pvlanType, \"-b\", guestBridgeName, \"-p\", primaryPvlan, \"-s\", isolatedPvlan, \"-m\", dhcpMac, \"-d\", dhcpIp);\n                 result = script.execute();\n \n                 if (result != null) {\n                     s_logger.warn(\"Failed to program pvlan for dhcp server with mac \" + dhcpMac);\n-                    return new Answer(command, false, result);\n                 } else {\n                     s_logger.info(\"Programmed pvlan for dhcp server with mac \" + dhcpMac);\n                 }\n-            } else if (command.getType() == PvlanSetupCommand.Type.VM) {\n-                final String ovsPvlanVmPath = libvirtComputingResource.getOvsPvlanVmPath();\n-\n-                final Script script = new Script(ovsPvlanVmPath, timeout, s_logger);\n-                script.add(opr, pvlanType, \"-b\", guestBridgeName, \"-p\", primaryPvlan, \"-s\", isolatedPvlan, \"-v\", vmMac);\n-                result = script.execute();\n+            }\n \n-                if (result != null) {\n-                    s_logger.warn(\"Failed to program pvlan for vm with mac \" + vmMac);\n-                    return new Answer(command, false, result);\n-                } else {\n-                    s_logger.info(\"Programmed pvlan for vm with mac \" + vmMac);\n-                }\n+            // We run this even for DHCP servers since they're all vms after all\n+            final String ovsPvlanVmPath = libvirtComputingResource.getOvsPvlanVmPath();\n+            final Script script = new Script(ovsPvlanVmPath, timeout, s_logger);\n+            script.add(opr, pvlanType, \"-b\", guestBridgeName, \"-p\", primaryPvlan, \"-s\", isolatedPvlan, \"-m\", vmMac);\n+            result = script.execute();\n+\n+            if (result != null) {\n+                s_logger.warn(\"Failed to program pvlan for vm with mac \" + vmMac);\n+                return new Answer(command, false, result);\n+            } else {\n+                s_logger.info(\"Programmed pvlan for vm with mac \" + vmMac);\n             }\n-        } catch (final LibvirtException e) {\n+        } catch (final Exception e) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e163c775a125951f4318c2c765dcbcc5ba2c307d"}, "originalPosition": 87}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e163c775a125951f4318c2c765dcbcc5ba2c307d", "author": {"user": {"login": "davidjumani", "name": null}}, "url": "https://github.com/apache/cloudstack/commit/e163c775a125951f4318c2c765dcbcc5ba2c307d", "committedDate": "2020-04-29T07:06:33Z", "message": "Fixing shared network pvlan"}, "afterCommit": {"oid": "ee3d29472a19ca3ba2ade83381ae04c1a0530994", "author": {"user": {"login": "davidjumani", "name": null}}, "url": "https://github.com/apache/cloudstack/commit/ee3d29472a19ca3ba2ade83381ae04c1a0530994", "committedDate": "2020-04-30T12:58:48Z", "message": "Fixing shared network pvlan"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ee3d29472a19ca3ba2ade83381ae04c1a0530994", "author": {"user": {"login": "davidjumani", "name": null}}, "url": "https://github.com/apache/cloudstack/commit/ee3d29472a19ca3ba2ade83381ae04c1a0530994", "committedDate": "2020-04-30T12:58:48Z", "message": "Fixing shared network pvlan"}, "afterCommit": {"oid": "d5660f5f9f294ab3b400e0b2c15e57d2ae69dc99", "author": {"user": {"login": "davidjumani", "name": null}}, "url": "https://github.com/apache/cloudstack/commit/d5660f5f9f294ab3b400e0b2c15e57d2ae69dc99", "committedDate": "2020-05-04T09:03:11Z", "message": "Fixing shared network pvlan"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d5660f5f9f294ab3b400e0b2c15e57d2ae69dc99", "author": {"user": {"login": "davidjumani", "name": null}}, "url": "https://github.com/apache/cloudstack/commit/d5660f5f9f294ab3b400e0b2c15e57d2ae69dc99", "committedDate": "2020-05-04T09:03:11Z", "message": "Fixing shared network pvlan"}, "afterCommit": {"oid": "3ebb7439751d1089cf7ad3f33cb404ca8bb4c85e", "author": {"user": {"login": "davidjumani", "name": null}}, "url": "https://github.com/apache/cloudstack/commit/3ebb7439751d1089cf7ad3f33cb404ca8bb4c85e", "committedDate": "2020-05-04T10:33:04Z", "message": "Fixing shared network pvlan"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3ebb7439751d1089cf7ad3f33cb404ca8bb4c85e", "author": {"user": {"login": "davidjumani", "name": null}}, "url": "https://github.com/apache/cloudstack/commit/3ebb7439751d1089cf7ad3f33cb404ca8bb4c85e", "committedDate": "2020-05-04T10:33:04Z", "message": "Fixing shared network pvlan"}, "afterCommit": {"oid": "83ac17250c78f5dcfeb7d2af4a26b6fd0e079164", "author": {"user": {"login": "davidjumani", "name": null}}, "url": "https://github.com/apache/cloudstack/commit/83ac17250c78f5dcfeb7d2af4a26b6fd0e079164", "committedDate": "2020-05-04T10:35:58Z", "message": "Fixing shared network pvlan"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA1NzU5NDYz", "url": "https://github.com/apache/cloudstack/pull/4040#pullrequestreview-405759463", "createdAt": "2020-05-05T12:56:41Z", "commit": {"oid": "83ac17250c78f5dcfeb7d2af4a26b6fd0e079164"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNVQxMjo1Njo0MVrOGQoEMg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNVQxMjo1ODoyOFrOGQoIjA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDA4NjgzNA==", "bodyText": "why is this test no longer sensible?", "url": "https://github.com/apache/cloudstack/pull/4040#discussion_r420086834", "createdAt": "2020-05-05T12:56:41Z", "author": {"login": "DaanHoogland"}, "path": "plugins/hypervisors/kvm/src/test/java/com/cloud/hypervisor/kvm/resource/LibvirtComputingResourceTest.java", "diffHunk": "@@ -4403,68 +4381,23 @@ public void testPvlanSetupCommandVm() {\n         assertFalse(answer.getResult());\n     }\n \n-    @SuppressWarnings(\"unchecked\")\n-    @Test\n-    public void testPvlanSetupCommandDhcpException() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "83ac17250c78f5dcfeb7d2af4a26b6fd0e079164"}, "originalPosition": 64}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDA4NzUzMg==", "bodyText": "or `echo \"$0 $@ \" >>/tmp/pvlan' ?", "url": "https://github.com/apache/cloudstack/pull/4040#discussion_r420087532", "createdAt": "2020-05-05T12:57:50Z", "author": {"login": "DaanHoogland"}, "path": "scripts/vm/network/ovs-pvlan-kvm-dhcp-host.sh", "diffHunk": "@@ -0,0 +1,139 @@\n+#!/bin/bash\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+# \n+#   http://www.apache.org/licenses/LICENSE-2.0\n+# \n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+\n+#!/bin/bash\n+\n+# We're trying to do the impossible here by allowing pvlan on kvm / xen. As only God can do the impossible, and we've got too much ego to\n+# admit that we can't, we're just hacking our way around it.\n+# We're pretty much crafting two vlan headers, one with the primary vlan and the other with the secondary and with a few fancy rules\n+# it managed to work. But take note that the'res no checking over here for secondary vlan overlap. That has to be handled while\n+# creating the pvlan!!\n+\n+exec 2>&1\n+\n+usage() {\n+  printf \"Usage: %s: (-A|-D) (-P/I/C) -b <bridge/switch> -p <primary vlan> -s <secondary vlan> -m <VM MAC> -d <DHCP IP> -h \\n\" $(basename $0) >&2\n+  exit 2\n+}\n+\n+echo \"/usr/share/cloudstack-common/scripts/vm/network/ovs-pvlan-kvm-dhcp-host.sh $@ \" >> /tmp/pvlan", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "83ac17250c78f5dcfeb7d2af4a26b6fd0e079164"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDA4Nzk0OA==", "bodyText": "$0 $@?", "url": "https://github.com/apache/cloudstack/pull/4040#discussion_r420087948", "createdAt": "2020-05-05T12:58:28Z", "author": {"login": "DaanHoogland"}, "path": "scripts/vm/network/ovs-pvlan-kvm-vm.sh", "diffHunk": "@@ -0,0 +1,279 @@\n+#!/bin/bash\n+# Licensed to the Apache Software Foundation (ASF) under one\n+# or more contributor license agreements.  See the NOTICE file\n+# distributed with this work for additional information\n+# regarding copyright ownership.  The ASF licenses this file\n+# to you under the Apache License, Version 2.0 (the\n+# \"License\"); you may not use this file except in compliance\n+# with the License.  You may obtain a copy of the License at\n+# \n+#   http://www.apache.org/licenses/LICENSE-2.0\n+# \n+# Unless required by applicable law or agreed to in writing,\n+# software distributed under the License is distributed on an\n+# \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+# KIND, either express or implied.  See the License for the\n+# specific language governing permissions and limitations\n+# under the License.\n+\n+#!/bin/bash\n+\n+# We're trying to do the impossible here by allowing pvlan on kvm / xen. As only God can do the impossible, and we've got too much ego to\n+# admit that we can't, we're just hacking our way around it.\n+# We're pretty much crafting two vlan headers, one with the primary vlan and the other with the secondary and with a few fancy rules\n+# it managed to work. But take note that the'res no checking over here for secondary vlan overlap. That has to be handled while\n+# creating the pvlan!!\n+\n+exec 2>&1\n+\n+usage() {\n+  printf \"Usage: %s: (-A|-D) (-P/I/C) -b <bridge/switch> -p <primary vlan> -s <secondary vlan> -m <VM MAC> -h \\n\" $(basename $0) >&2\n+  exit 2\n+}\n+\n+echo \"/usr/share/cloudstack-common/scripts/vm/network/ovs-pvlan-kvm-vm.sh $@ \" >> /tmp/pvlan", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "83ac17250c78f5dcfeb7d2af4a26b6fd0e079164"}, "originalPosition": 34}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "83ac17250c78f5dcfeb7d2af4a26b6fd0e079164", "author": {"user": {"login": "davidjumani", "name": null}}, "url": "https://github.com/apache/cloudstack/commit/83ac17250c78f5dcfeb7d2af4a26b6fd0e079164", "committedDate": "2020-05-04T10:35:58Z", "message": "Fixing shared network pvlan"}, "afterCommit": {"oid": "076d2d71afe405e5274bde8489e82a7e07ce0a04", "author": {"user": {"login": "davidjumani", "name": null}}, "url": "https://github.com/apache/cloudstack/commit/076d2d71afe405e5274bde8489e82a7e07ce0a04", "committedDate": "2020-05-05T13:05:49Z", "message": "Fixing shared network pvlan"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA1NzcyNDMx", "url": "https://github.com/apache/cloudstack/pull/4040#pullrequestreview-405772431", "createdAt": "2020-05-05T13:12:22Z", "commit": {"oid": "076d2d71afe405e5274bde8489e82a7e07ce0a04"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "67bfefa41712861368830e7ddff199f80041c160", "author": {"user": {"login": "davidjumani", "name": null}}, "url": "https://github.com/apache/cloudstack/commit/67bfefa41712861368830e7ddff199f80041c160", "committedDate": "2020-05-27T10:57:00Z", "message": "Fixing smoke tests to run only if kvm and ovs"}, "afterCommit": {"oid": "23d2f48f418ae79c729c0130984a2d332f8a71e2", "author": {"user": {"login": "davidjumani", "name": null}}, "url": "https://github.com/apache/cloudstack/commit/23d2f48f418ae79c729c0130984a2d332f8a71e2", "committedDate": "2020-05-27T10:58:18Z", "message": "Fixing smoke tests to run only if kvm and ovs"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQxNDk0MTU3", "url": "https://github.com/apache/cloudstack/pull/4040#pullrequestreview-441494157", "createdAt": "2020-07-02T09:10:53Z", "commit": {"oid": "c00262af8b10b1956072f2722a734be272bc48d2"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fcda7d15db2e2eae97474a42c20ef66ad61b7b66", "author": {"user": {"login": "davidjumani", "name": null}}, "url": "https://github.com/apache/cloudstack/commit/fcda7d15db2e2eae97474a42c20ef66ad61b7b66", "committedDate": "2020-08-17T08:36:02Z", "message": "Adding l2 pvlan for kvm"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "506645b072cd3dbe0268c0a2b647278593920b6c", "author": {"user": {"login": "davidjumani", "name": null}}, "url": "https://github.com/apache/cloudstack/commit/506645b072cd3dbe0268c0a2b647278593920b6c", "committedDate": "2020-08-17T08:36:06Z", "message": "Fixing shared network pvlan"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "910d9f7f991bf9e202c4fac3f3aab6547e02ec47", "author": {"user": {"login": "davidjumani", "name": null}}, "url": "https://github.com/apache/cloudstack/commit/910d9f7f991bf9e202c4fac3f3aab6547e02ec47", "committedDate": "2020-08-17T08:36:12Z", "message": "Fixing smoke tests to run only if kvm and ovs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2cc200d07f9451f07e46e1d70fd2ca3a9981d2f0", "author": {"user": {"login": "davidjumani", "name": null}}, "url": "https://github.com/apache/cloudstack/commit/2cc200d07f9451f07e46e1d70fd2ca3a9981d2f0", "committedDate": "2020-08-17T08:36:41Z", "message": "Fixing vlan allowed to be created with existing pvlan id"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d7cec39f7bf5f94add322b956a741fad814c7661", "author": {"user": {"login": "davidjumani", "name": null}}, "url": "https://github.com/apache/cloudstack/commit/d7cec39f7bf5f94add322b956a741fad814c7661", "committedDate": "2020-08-17T08:21:00Z", "message": "Merge branch 'l2-pvlan-kvm-xen' of https://github.com/shapeblue/cloudstack into l2-pvlan-kvm-xen"}, "afterCommit": {"oid": "2cc200d07f9451f07e46e1d70fd2ca3a9981d2f0", "author": {"user": {"login": "davidjumani", "name": null}}, "url": "https://github.com/apache/cloudstack/commit/2cc200d07f9451f07e46e1d70fd2ca3a9981d2f0", "committedDate": "2020-08-17T08:36:41Z", "message": "Fixing vlan allowed to be created with existing pvlan id"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bb5086beedad9e32a503c83bbde243b9445a3bc2", "author": {"user": {"login": "davidjumani", "name": null}}, "url": "https://github.com/apache/cloudstack/commit/bb5086beedad9e32a503c83bbde243b9445a3bc2", "committedDate": "2020-08-17T08:41:09Z", "message": "Adding pvlan rules when nic added or removed"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5c022f1ff2a8c0bb88068c8b65ff9a7adbdf7687", "author": {"user": {"login": "davidjumani", "name": null}}, "url": "https://github.com/apache/cloudstack/commit/5c022f1ff2a8c0bb88068c8b65ff9a7adbdf7687", "committedDate": "2020-08-17T08:42:53Z", "message": "Handle null"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2c6144884d0ea06d608013384df5b9603aad1ef2", "author": {"user": {"login": "davidjumani", "name": null}}, "url": "https://github.com/apache/cloudstack/commit/2c6144884d0ea06d608013384df5b9603aad1ef2", "committedDate": "2020-08-17T13:00:25Z", "message": "Migrating pvlan ovs rules for L2"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8c41853c25799ff1b2f5e8b94b7c6e7f158fe4b9", "author": {"user": {"login": "davidjumani", "name": null}}, "url": "https://github.com/apache/cloudstack/commit/8c41853c25799ff1b2f5e8b94b7c6e7f158fe4b9", "committedDate": "2020-08-19T15:47:32Z", "message": "Cleanup rules migration"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4228, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}