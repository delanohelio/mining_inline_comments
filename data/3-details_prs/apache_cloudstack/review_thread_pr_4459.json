{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE4OTk1Mzgy", "number": 4459, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQwNzo0MzozNFrOE6b13A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQxMjowMzoyOVrOE6iP5g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI5NzA5MDIwOnYy", "diffSide": "RIGHT", "path": "scripts/util/create-kubernetes-binaries-iso.sh", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQwNzo0MzozNFrOH1gn0A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQxMTo1MzozOVrOH1qPqA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTg3MTA1Ng==", "bodyText": "printf has only one specifier in the format and two arguments. What is intended here?", "url": "https://github.com/apache/cloudstack/pull/4459#discussion_r525871056", "createdAt": "2020-11-18T07:43:34Z", "author": {"login": "DaanHoogland"}, "path": "scripts/util/create-kubernetes-binaries-iso.sh", "diffHunk": "@@ -87,6 +91,14 @@ if [ $? -ne 0 ]; then\n fi\n mkdir -p \"${working_dir}/docker\"\n output=`${k8s_dir}/kubeadm config images list --kubernetes-version=${RELEASE}`\n+\n+# Don't forget about the yaml images !\n+for i in ${network_conf_file} ${dashboard_conf_file}\n+do\n+  images=`grep \"image:\" $i | cut -d ':' -f2- | tr -d ' ' | tr -d \"'\"`\n+  output=`printf \"%s\\n\" ${output} ${images}`", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bf3c782cf979ae9d8b2df3c0ed144846792e5dff"}, "originalPosition": 47}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTk5NDE2OA==", "bodyText": "It's a simpler way of doing printf \"%s\\n%s\\n\" ${output} ${images} :D", "url": "https://github.com/apache/cloudstack/pull/4459#discussion_r525994168", "createdAt": "2020-11-18T10:55:40Z", "author": {"login": "davidjumani"}, "path": "scripts/util/create-kubernetes-binaries-iso.sh", "diffHunk": "@@ -87,6 +91,14 @@ if [ $? -ne 0 ]; then\n fi\n mkdir -p \"${working_dir}/docker\"\n output=`${k8s_dir}/kubeadm config images list --kubernetes-version=${RELEASE}`\n+\n+# Don't forget about the yaml images !\n+for i in ${network_conf_file} ${dashboard_conf_file}\n+do\n+  images=`grep \"image:\" $i | cut -d ':' -f2- | tr -d ' ' | tr -d \"'\"`\n+  output=`printf \"%s\\n\" ${output} ${images}`", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTg3MTA1Ng=="}, "originalCommit": {"oid": "bf3c782cf979ae9d8b2df3c0ed144846792e5dff"}, "originalPosition": 47}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjAyODcxMg==", "bodyText": "ok, never encountered that before, tnx", "url": "https://github.com/apache/cloudstack/pull/4459#discussion_r526028712", "createdAt": "2020-11-18T11:53:39Z", "author": {"login": "DaanHoogland"}, "path": "scripts/util/create-kubernetes-binaries-iso.sh", "diffHunk": "@@ -87,6 +91,14 @@ if [ $? -ne 0 ]; then\n fi\n mkdir -p \"${working_dir}/docker\"\n output=`${k8s_dir}/kubeadm config images list --kubernetes-version=${RELEASE}`\n+\n+# Don't forget about the yaml images !\n+for i in ${network_conf_file} ${dashboard_conf_file}\n+do\n+  images=`grep \"image:\" $i | cut -d ':' -f2- | tr -d ' ' | tr -d \"'\"`\n+  output=`printf \"%s\\n\" ${output} ${images}`", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTg3MTA1Ng=="}, "originalCommit": {"oid": "bf3c782cf979ae9d8b2df3c0ed144846792e5dff"}, "originalPosition": 47}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI5ODEzOTkwOnYy", "diffSide": "RIGHT", "path": "scripts/util/create-kubernetes-binaries-iso.sh", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQxMjowMzoyOVrOH1qluQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQxMjowMzoyOVrOH1qluQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjAzNDM2MQ==", "bodyText": "\ud83c\uddf9\ud83c\uddf7 red flag ;) but fine by me. we allow this script to exit and leave garbage behind. in view of the function of this script fine. (a comment or so would be appropriate, i think)", "url": "https://github.com/apache/cloudstack/pull/4459#discussion_r526034361", "createdAt": "2020-11-18T12:03:29Z", "author": {"login": "DaanHoogland"}, "path": "scripts/util/create-kubernetes-binaries-iso.sh", "diffHunk": "@@ -16,9 +16,11 @@\n # specific language governing permissions and limitations\n # under the License.\n \n+set -e", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "efb11c9c0c30104a0eef34bd0c1706ca63cfb1c1"}, "originalPosition": 10}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4118, "cost": 1, "resetAt": "2021-11-12T11:18:39Z"}}}