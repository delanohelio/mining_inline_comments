{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE2NjkyNTU0", "number": 4452, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNlQxNTowNjozN1rOE2H03w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNlQxNTowODowOFrOE2H3OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI1MTg2NzgzOnYy", "diffSide": "LEFT", "path": "server/src/main/java/com/cloud/api/query/QueryManagerImpl.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNlQxNTowNjozN1rOHuxrIQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNlQxNTowNjozN1rOHuxrIQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODgxMDQwMQ==", "bodyText": "\ud83d\udc4d", "url": "https://github.com/apache/cloudstack/pull/4452#discussion_r518810401", "createdAt": "2020-11-06T15:06:37Z", "author": {"login": "DaanHoogland"}, "path": "server/src/main/java/com/cloud/api/query/QueryManagerImpl.java", "diffHunk": "@@ -3434,11 +3434,6 @@ else if (!template.isPublicTemplate() && caller.getType() != Account.ACCOUNT_TYP\n                 domain = _domainDao.findById(Domain.ROOT_DOMAIN);\n             }\n \n-            // List<HypervisorType> hypers = null;\n-            // if (!isIso) {\n-            // hypers = _resourceMgr.listAvailHypervisorInZone(null, null);\n-            // }\n-", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "388f32f6bb1015c8a1c532cbfcee3b9dd47b5c62"}, "originalPosition": 8}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI1MTg3Mzg0OnYy", "diffSide": "LEFT", "path": "server/src/main/java/com/cloud/api/query/QueryManagerImpl.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNlQxNTowODowOFrOHuxu9g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNlQxNToyNzoxMFrOHuyirg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODgxMTM4Mg==", "bodyText": "can you make it a method and put the call ...", "url": "https://github.com/apache/cloudstack/pull/4452#discussion_r518811382", "createdAt": "2020-11-06T15:08:08Z", "author": {"login": "DaanHoogland"}, "path": "server/src/main/java/com/cloud/api/query/QueryManagerImpl.java", "diffHunk": "@@ -3486,17 +3481,6 @@ else if (!template.isPublicTemplate() && caller.getType() != Account.ACCOUNT_TYP\n                 }\n             }\n \n-            if (!isIso) {\n-                // add hypervisor criteria for template case\n-                if (hypers != null && !hypers.isEmpty()) {\n-                    String[] relatedHypers = new String[hypers.size()];\n-                    for (int i = 0; i < hypers.size(); i++) {\n-                        relatedHypers[i] = hypers.get(i).toString();\n-                    }\n-                    sc.addAnd(\"hypervisorType\", SearchCriteria.Op.IN, relatedHypers);\n-                }\n-            }\n-", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "388f32f6bb1015c8a1c532cbfcee3b9dd47b5c62"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODgyNDYyMg==", "bodyText": "@DaanHoogland  done", "url": "https://github.com/apache/cloudstack/pull/4452#discussion_r518824622", "createdAt": "2020-11-06T15:27:10Z", "author": {"login": "ravening"}, "path": "server/src/main/java/com/cloud/api/query/QueryManagerImpl.java", "diffHunk": "@@ -3486,17 +3481,6 @@ else if (!template.isPublicTemplate() && caller.getType() != Account.ACCOUNT_TYP\n                 }\n             }\n \n-            if (!isIso) {\n-                // add hypervisor criteria for template case\n-                if (hypers != null && !hypers.isEmpty()) {\n-                    String[] relatedHypers = new String[hypers.size()];\n-                    for (int i = 0; i < hypers.size(); i++) {\n-                        relatedHypers[i] = hypers.get(i).toString();\n-                    }\n-                    sc.addAnd(\"hypervisorType\", SearchCriteria.Op.IN, relatedHypers);\n-                }\n-            }\n-", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODgxMTM4Mg=="}, "originalCommit": {"oid": "388f32f6bb1015c8a1c532cbfcee3b9dd47b5c62"}, "originalPosition": 26}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4115, "cost": 1, "resetAt": "2021-11-12T11:18:39Z"}}}