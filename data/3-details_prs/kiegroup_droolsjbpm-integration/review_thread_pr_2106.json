{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIzNDA1ODcx", "number": 2106, "reviewThreads": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QwNzoxNzowOVrOD_9sYw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0zMVQyMjo1Mzo0OVrOEBNrVw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY4Mzk3NjY3OnYy", "diffSide": "RIGHT", "path": "kie-server-parent/kie-server-services/kie-server-services-common/src/main/java/org/kie/server/services/impl/marshal/MarshallerHelper.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QwNzoxNzowOVrOGa8XLA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QwNzoxNzowOVrOGa8XLA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDkwNTEzMg==", "bodyText": "reuse and set this in to the that class\n\n  \n    \n      droolsjbpm-integration/kie-server-parent/kie-server-api/src/main/java/org/kie/server/api/marshalling/MarshallingFormat.java\n    \n    \n         Line 60\n      in\n      56c0abc\n    \n    \n    \n    \n\n        \n          \n           public static boolean isStrictType(String type) {", "url": "https://github.com/kiegroup/droolsjbpm-integration/pull/2106#discussion_r430905132", "createdAt": "2020-05-27T07:17:09Z", "author": {"login": "elguardian"}, "path": "kie-server-parent/kie-server-services/kie-server-services-common/src/main/java/org/kie/server/services/impl/marshal/MarshallerHelper.java", "diffHunk": "@@ -84,9 +83,23 @@ public String marshal(String marshallingFormat, Object entity) {\n         \tserverMarshallers.put(format, marshaller);\n         }\n \n-        return marshaller.marshall(entity, Collections.singletonMap(MARSHALLER_PARAMETER_STRICT, isStrictType(marshallingFormat)));\n+        return marshaller.marshall(entity, buildParameters(marshallingFormat));\n+    }\n+    \n+    \n+    private  Map<String,Object> buildParameters(String contentType)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d62de631cc7b9aabe79fe5da129fb4d56601dabd"}, "originalPosition": 42}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY4Mzk3ODIwOnYy", "diffSide": "RIGHT", "path": "kie-server-parent/kie-server-services/kie-server-services-common/src/test/java/org/kie/server/services/impl/marshal/MarshallerHelperTest.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QwNzoxNzo0MlrOGa8YMA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QwNzoxNzo0MlrOGa8YMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDkwNTM5Mg==", "bodyText": "do some extra calls to check the reset of the thead local variable is working.", "url": "https://github.com/kiegroup/droolsjbpm-integration/pull/2106#discussion_r430905392", "createdAt": "2020-05-27T07:17:42Z", "author": {"login": "elguardian"}, "path": "kie-server-parent/kie-server-services/kie-server-services-common/src/test/java/org/kie/server/services/impl/marshal/MarshallerHelperTest.java", "diffHunk": "@@ -218,6 +217,25 @@ public void testJsonUnmarshallProcessInstanceQueryFilterSpec() {\n \t\tassertThat(expectedPiQfs, new ReflectionEquals(unmarshalledPiQfs));\n \t}\n \t\n+\t\n+\t@Test\n+    public void testJsonUnmarshallNull() throws JSONException {   \n+\t    KieServerRegistry kieServerRegistryMock = Mockito.mock(KieServerRegistry.class);\n+        Set<Class<?>> extraClasses = new HashSet<>();\n+        extraClasses.add(QueryFilterSpec.class);\n+        Mockito.when(kieServerRegistryMock.getExtraClasses()).thenReturn(extraClasses);\n+        JSONAssert.assertEquals(\"{\\\"order-by\\\" : null, \\\"order-asc\\\" : false, \\\"query-params\\\" : null, \\\"result-column-mapping\\\" : null}\", new MarshallerHelper(kieServerRegistryMock).marshal(\"application/json\", new QueryFilterSpecBuilder().get()), false);   ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d62de631cc7b9aabe79fe5da129fb4d56601dabd"}, "originalPosition": 43}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY5Mjc2Njg0OnYy", "diffSide": "RIGHT", "path": "kie-server-parent/kie-server-tests/kie-server-integ-tests-common/src/main/java/org/kie/server/integrationtests/shared/basetests/RestJmsSharedBaseIntegrationTest.java", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOVQwODoyNzozMFrOGcTiEw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOVQxNjoxMDoyOVrOGcjKwA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjMzMzMzMQ==", "bodyText": "This will make this very slow at integration test level (veeeeeeeeery slow).  and you are testing the full logic of marshalling not really checking whether those fields are being retrieved or not.\nYou need to check directly against the kie-server and see the string response whether thoses fields are returned o not.", "url": "https://github.com/kiegroup/droolsjbpm-integration/pull/2106#discussion_r432333331", "createdAt": "2020-05-29T08:27:30Z", "author": {"login": "elguardian"}, "path": "kie-server-parent/kie-server-tests/kie-server-integ-tests-common/src/main/java/org/kie/server/integrationtests/shared/basetests/RestJmsSharedBaseIntegrationTest.java", "diffHunk": "@@ -47,16 +50,14 @@\n     @Parameterized.Parameters(name = \"{index}: {0} {1}\")\n     public static Collection<Object[]> data() {\n         KieServicesConfiguration restConfiguration = createKieServicesRestConfiguration();\n-\n         Collection<Object[]> parameterData = new ArrayList<Object[]>(Arrays.asList(new Object[][]\n                         {\n                                 {MarshallingFormat.JAXB, restConfiguration},\n-                                {MarshallingFormat.JSON, restConfiguration},\n+                                {MarshallingFormat.JSON,  createKieServicesRestConfiguration(Collections.singletonMap(KieServerConstants.KIE_CONTENT_TYPE_HEADER, \"application/json; fields=not_null\"))},", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "aac5c12ba41ccc12532de3463cb379812cec8539"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjM2MDEzOA==", "bodyText": "That nulls are not returned when not null are specified is already tested in Unit test. The purpose of modifiying integration test is to test that the entity is still created when null parameters are skipped.", "url": "https://github.com/kiegroup/droolsjbpm-integration/pull/2106#discussion_r432360138", "createdAt": "2020-05-29T09:17:21Z", "author": {"login": "fjtirado"}, "path": "kie-server-parent/kie-server-tests/kie-server-integ-tests-common/src/main/java/org/kie/server/integrationtests/shared/basetests/RestJmsSharedBaseIntegrationTest.java", "diffHunk": "@@ -47,16 +50,14 @@\n     @Parameterized.Parameters(name = \"{index}: {0} {1}\")\n     public static Collection<Object[]> data() {\n         KieServicesConfiguration restConfiguration = createKieServicesRestConfiguration();\n-\n         Collection<Object[]> parameterData = new ArrayList<Object[]>(Arrays.asList(new Object[][]\n                         {\n                                 {MarshallingFormat.JAXB, restConfiguration},\n-                                {MarshallingFormat.JSON, restConfiguration},\n+                                {MarshallingFormat.JSON,  createKieServicesRestConfiguration(Collections.singletonMap(KieServerConstants.KIE_CONTENT_TYPE_HEADER, \"application/json; fields=not_null\"))},", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjMzMzMzMQ=="}, "originalCommit": {"oid": "aac5c12ba41ccc12532de3463cb379812cec8539"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjQwMDQ5NQ==", "bodyText": "I think that we should keep the default settings in here.\nTesting of skipped null fields could be done in some specific integration test only, for example something like  https://github.com/kiegroup/droolsjbpm-integration/blob/master/kie-server-parent/kie-server-tests/kie-server-integ-tests-jbpm/src/test/java/org/kie/server/integrationtests/jbpm/rest/ProcessServiceRestOnlyIntegrationTest.java", "url": "https://github.com/kiegroup/droolsjbpm-integration/pull/2106#discussion_r432400495", "createdAt": "2020-05-29T10:37:42Z", "author": {"login": "sutaakar"}, "path": "kie-server-parent/kie-server-tests/kie-server-integ-tests-common/src/main/java/org/kie/server/integrationtests/shared/basetests/RestJmsSharedBaseIntegrationTest.java", "diffHunk": "@@ -47,16 +50,14 @@\n     @Parameterized.Parameters(name = \"{index}: {0} {1}\")\n     public static Collection<Object[]> data() {\n         KieServicesConfiguration restConfiguration = createKieServicesRestConfiguration();\n-\n         Collection<Object[]> parameterData = new ArrayList<Object[]>(Arrays.asList(new Object[][]\n                         {\n                                 {MarshallingFormat.JAXB, restConfiguration},\n-                                {MarshallingFormat.JSON, restConfiguration},\n+                                {MarshallingFormat.JSON,  createKieServicesRestConfiguration(Collections.singletonMap(KieServerConstants.KIE_CONTENT_TYPE_HEADER, \"application/json; fields=not_null\"))},", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjMzMzMzMQ=="}, "originalCommit": {"oid": "aac5c12ba41ccc12532de3463cb379812cec8539"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjU4OTUwNA==", "bodyText": "Added new test class under specified directory. Thanks for the advice", "url": "https://github.com/kiegroup/droolsjbpm-integration/pull/2106#discussion_r432589504", "createdAt": "2020-05-29T16:10:29Z", "author": {"login": "fjtirado"}, "path": "kie-server-parent/kie-server-tests/kie-server-integ-tests-common/src/main/java/org/kie/server/integrationtests/shared/basetests/RestJmsSharedBaseIntegrationTest.java", "diffHunk": "@@ -47,16 +50,14 @@\n     @Parameterized.Parameters(name = \"{index}: {0} {1}\")\n     public static Collection<Object[]> data() {\n         KieServicesConfiguration restConfiguration = createKieServicesRestConfiguration();\n-\n         Collection<Object[]> parameterData = new ArrayList<Object[]>(Arrays.asList(new Object[][]\n                         {\n                                 {MarshallingFormat.JAXB, restConfiguration},\n-                                {MarshallingFormat.JSON, restConfiguration},\n+                                {MarshallingFormat.JSON,  createKieServicesRestConfiguration(Collections.singletonMap(KieServerConstants.KIE_CONTENT_TYPE_HEADER, \"application/json; fields=not_null\"))},", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjMzMzMzMQ=="}, "originalCommit": {"oid": "aac5c12ba41ccc12532de3463cb379812cec8539"}, "originalPosition": 27}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY5Mjc2OTQ4OnYy", "diffSide": "RIGHT", "path": "kie-server-parent/kie-server-api/src/main/java/org/kie/server/api/marshalling/MarshallingFormat.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOVQwODoyODoxOFrOGcTjwA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOVQwOTozNTo1NVrOGcVxbg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjMzMzc2MA==", "bodyText": "@gmunozfe how was your trick to make the split(\",\") more robust ? split(\"\\s*,\\s*) ?", "url": "https://github.com/kiegroup/droolsjbpm-integration/pull/2106#discussion_r432333760", "createdAt": "2020-05-29T08:28:18Z", "author": {"login": "elguardian"}, "path": "kie-server-parent/kie-server-api/src/main/java/org/kie/server/api/marshalling/MarshallingFormat.java", "diffHunk": "@@ -57,19 +58,24 @@ public static MarshallingFormat fromId(int id) {\n         }\n     }\n \n+    \n     public static boolean isStrictType(String type) {\n+        String strictParam  = (String)buildParameters(type).get(Marshaller.MARSHALLER_PARAMETER_STRICT);\n+        return strictParam != null && Boolean.parseBoolean(strictParam);\n+    }\n+    \n+    public static Map<String,Object> buildParameters(String contentType)\n+    {\n         int idx;\n-        if ((idx = type.indexOf(';')) < 0 || (idx + 1) == type.length()) {\n-            return false;\n-        }\n-        // we map parameter=1, pararmeter=2,.... into a map\n-        Map<String, String> parameters = Arrays.asList(type.substring(idx + 1).split(\",\"))\n-                                               .stream()\n-                                               .filter(e -> e.split(\"=\").length > 1) // remove bad parameters\n-                                               .map(e -> e.split(\"=\"))\n-                                               .collect(Collectors.toMap(e -> ((String[]) e)[0].trim(), e -> ((String[]) e)[1]));\n-        return Boolean.parseBoolean(parameters.get(Marshaller.MARSHALLER_PARAMETER_STRICT));\n+        return ((idx = contentType.indexOf(';')) < 0 || (idx + 1) == contentType.length()) \n+                ? Collections.emptyMap() \n+                : Arrays.stream(contentType.substring(idx + 1).split(\",\")).", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "aac5c12ba41ccc12532de3463cb379812cec8539"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjM2MDU2OA==", "bodyText": ", and ;  are not a valid character in content type, this proposed changed will not make the code more robust, but unnecesary slower", "url": "https://github.com/kiegroup/droolsjbpm-integration/pull/2106#discussion_r432360568", "createdAt": "2020-05-29T09:18:09Z", "author": {"login": "fjtirado"}, "path": "kie-server-parent/kie-server-api/src/main/java/org/kie/server/api/marshalling/MarshallingFormat.java", "diffHunk": "@@ -57,19 +58,24 @@ public static MarshallingFormat fromId(int id) {\n         }\n     }\n \n+    \n     public static boolean isStrictType(String type) {\n+        String strictParam  = (String)buildParameters(type).get(Marshaller.MARSHALLER_PARAMETER_STRICT);\n+        return strictParam != null && Boolean.parseBoolean(strictParam);\n+    }\n+    \n+    public static Map<String,Object> buildParameters(String contentType)\n+    {\n         int idx;\n-        if ((idx = type.indexOf(';')) < 0 || (idx + 1) == type.length()) {\n-            return false;\n-        }\n-        // we map parameter=1, pararmeter=2,.... into a map\n-        Map<String, String> parameters = Arrays.asList(type.substring(idx + 1).split(\",\"))\n-                                               .stream()\n-                                               .filter(e -> e.split(\"=\").length > 1) // remove bad parameters\n-                                               .map(e -> e.split(\"=\"))\n-                                               .collect(Collectors.toMap(e -> ((String[]) e)[0].trim(), e -> ((String[]) e)[1]));\n-        return Boolean.parseBoolean(parameters.get(Marshaller.MARSHALLER_PARAMETER_STRICT));\n+        return ((idx = contentType.indexOf(';')) < 0 || (idx + 1) == contentType.length()) \n+                ? Collections.emptyMap() \n+                : Arrays.stream(contentType.substring(idx + 1).split(\",\")).", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjMzMzc2MA=="}, "originalCommit": {"oid": "aac5c12ba41ccc12532de3463cb379812cec8539"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjM3MDAzMA==", "bodyText": "trim().split(\"\\\\s*,\\\\s*\")\ntrim() method removes leading and trailing spaces in the input string, and the regex itself handles the extra spaces around delimiter.", "url": "https://github.com/kiegroup/droolsjbpm-integration/pull/2106#discussion_r432370030", "createdAt": "2020-05-29T09:35:55Z", "author": {"login": "gmunozfe"}, "path": "kie-server-parent/kie-server-api/src/main/java/org/kie/server/api/marshalling/MarshallingFormat.java", "diffHunk": "@@ -57,19 +58,24 @@ public static MarshallingFormat fromId(int id) {\n         }\n     }\n \n+    \n     public static boolean isStrictType(String type) {\n+        String strictParam  = (String)buildParameters(type).get(Marshaller.MARSHALLER_PARAMETER_STRICT);\n+        return strictParam != null && Boolean.parseBoolean(strictParam);\n+    }\n+    \n+    public static Map<String,Object> buildParameters(String contentType)\n+    {\n         int idx;\n-        if ((idx = type.indexOf(';')) < 0 || (idx + 1) == type.length()) {\n-            return false;\n-        }\n-        // we map parameter=1, pararmeter=2,.... into a map\n-        Map<String, String> parameters = Arrays.asList(type.substring(idx + 1).split(\",\"))\n-                                               .stream()\n-                                               .filter(e -> e.split(\"=\").length > 1) // remove bad parameters\n-                                               .map(e -> e.split(\"=\"))\n-                                               .collect(Collectors.toMap(e -> ((String[]) e)[0].trim(), e -> ((String[]) e)[1]));\n-        return Boolean.parseBoolean(parameters.get(Marshaller.MARSHALLER_PARAMETER_STRICT));\n+        return ((idx = contentType.indexOf(';')) < 0 || (idx + 1) == contentType.length()) \n+                ? Collections.emptyMap() \n+                : Arrays.stream(contentType.substring(idx + 1).split(\",\")).", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjMzMzc2MA=="}, "originalCommit": {"oid": "aac5c12ba41ccc12532de3463cb379812cec8539"}, "originalPosition": 33}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY5Mjc3NDkzOnYy", "diffSide": "RIGHT", "path": "kie-server-parent/kie-server-api/src/main/java/org/kie/server/api/marshalling/json/JSONMarshaller.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOVQwODoyOTo1OVrOGcTnPQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOVQxMToxODozNlrOGcYueA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjMzNDY1Mw==", "bodyText": "this is nitpicking.... what about calling the parameter filter : none | not_null or something of the sort. wdyt ?", "url": "https://github.com/kiegroup/droolsjbpm-integration/pull/2106#discussion_r432334653", "createdAt": "2020-05-29T08:29:59Z", "author": {"login": "elguardian"}, "path": "kie-server-parent/kie-server-api/src/main/java/org/kie/server/api/marshalling/json/JSONMarshaller.java", "diffHunk": "@@ -93,6 +94,8 @@\n     private static final Logger logger = LoggerFactory.getLogger(MarshallerFactory.class);\n \n     private static final boolean STRICT_ID_FORMAT = Boolean.parseBoolean(System.getProperty(KieServerConstants.KIE_SERVER_STRICT_ID_FORMAT, \"false\"));\n+    private static final String FIELDS = \"fields\";\n+    private static final String NOT_NULL = \"not_null\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "aac5c12ba41ccc12532de3463cb379812cec8539"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjM2MTM3OQ==", "bodyText": "you mean none being equivalent to returning everything?", "url": "https://github.com/kiegroup/droolsjbpm-integration/pull/2106#discussion_r432361379", "createdAt": "2020-05-29T09:19:54Z", "author": {"login": "fjtirado"}, "path": "kie-server-parent/kie-server-api/src/main/java/org/kie/server/api/marshalling/json/JSONMarshaller.java", "diffHunk": "@@ -93,6 +94,8 @@\n     private static final Logger logger = LoggerFactory.getLogger(MarshallerFactory.class);\n \n     private static final boolean STRICT_ID_FORMAT = Boolean.parseBoolean(System.getProperty(KieServerConstants.KIE_SERVER_STRICT_ID_FORMAT, \"false\"));\n+    private static final String FIELDS = \"fields\";\n+    private static final String NOT_NULL = \"not_null\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjMzNDY1Mw=="}, "originalCommit": {"oid": "aac5c12ba41ccc12532de3463cb379812cec8539"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjQxODQyNA==", "bodyText": "NA", "url": "https://github.com/kiegroup/droolsjbpm-integration/pull/2106#discussion_r432418424", "createdAt": "2020-05-29T11:18:36Z", "author": {"login": "fjtirado"}, "path": "kie-server-parent/kie-server-api/src/main/java/org/kie/server/api/marshalling/json/JSONMarshaller.java", "diffHunk": "@@ -93,6 +94,8 @@\n     private static final Logger logger = LoggerFactory.getLogger(MarshallerFactory.class);\n \n     private static final boolean STRICT_ID_FORMAT = Boolean.parseBoolean(System.getProperty(KieServerConstants.KIE_SERVER_STRICT_ID_FORMAT, \"false\"));\n+    private static final String FIELDS = \"fields\";\n+    private static final String NOT_NULL = \"not_null\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjMzNDY1Mw=="}, "originalCommit": {"oid": "aac5c12ba41ccc12532de3463cb379812cec8539"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY5NzA4MTE5OnYy", "diffSide": "RIGHT", "path": "kie-server-parent/kie-server-api/src/main/java/org/kie/server/api/marshalling/json/JSONMarshaller.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0zMVQyMjo1Mzo0OVrOGc7x5w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMVQwODowNjo0NVrOGdCJvg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjk5Mjc0Mw==", "bodyText": "This casting to boolean is failing when receiving a String parameter (true) due to changes for invoking buildParameters instead of isStrictType .\nFailing test is IdentifierJbpmRestIntegrationTest.testBasicJbpmRequest\nIf always receives a String, it should be:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            jsonContext.get().setWrap((boolean) parameters.get(MARSHALLER_PARAMETER_STRICT));\n          \n          \n            \n                            jsonContext.get().setWrap(Boolean.parseBoolean((string) parameters.get(MARSHALLER_PARAMETER_STRICT)));", "url": "https://github.com/kiegroup/droolsjbpm-integration/pull/2106#discussion_r432992743", "createdAt": "2020-05-31T22:53:49Z", "author": {"login": "gmunozfe"}, "path": "kie-server-parent/kie-server-api/src/main/java/org/kie/server/api/marshalling/json/JSONMarshaller.java", "diffHunk": "@@ -306,6 +323,10 @@ public String marshall(Object input, Map<String, Object> parameters) {\n             if (parameters.containsKey(MARSHALLER_PARAMETER_STRICT)) {\n                 jsonContext.get().setWrap((boolean) parameters.get(MARSHALLER_PARAMETER_STRICT));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c521f3afb7974fb84e0f975c647835d274ba4d79"}, "originalPosition": 77}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzA5NzE1MA==", "bodyText": "Done", "url": "https://github.com/kiegroup/droolsjbpm-integration/pull/2106#discussion_r433097150", "createdAt": "2020-06-01T08:06:45Z", "author": {"login": "fjtirado"}, "path": "kie-server-parent/kie-server-api/src/main/java/org/kie/server/api/marshalling/json/JSONMarshaller.java", "diffHunk": "@@ -306,6 +323,10 @@ public String marshall(Object input, Map<String, Object> parameters) {\n             if (parameters.containsKey(MARSHALLER_PARAMETER_STRICT)) {\n                 jsonContext.get().setWrap((boolean) parameters.get(MARSHALLER_PARAMETER_STRICT));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjk5Mjc0Mw=="}, "originalCommit": {"oid": "c521f3afb7974fb84e0f975c647835d274ba4d79"}, "originalPosition": 77}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2171, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}