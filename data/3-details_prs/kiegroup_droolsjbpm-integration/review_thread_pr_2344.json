{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQyNTE3ODE5", "number": 2344, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wN1QxOToxMjozM1rOFMQZ9g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wOFQxMzoyNToyMFrOFMhGqg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ4Mzk2MDIyOnYy", "diffSide": "RIGHT", "path": "kie-server-parent/kie-server-controller/kie-server-controller-impl/src/main/java/org/kie/server/controller/impl/service/SpecManagementServiceImpl.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wN1QxOToxMjozM1rOIP4sfg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wOFQxMzoxNzoxN1rOIQRrVw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MzUyODQ0Ng==", "bodyText": "Can containerSpec or getID() return a null value?", "url": "https://github.com/kiegroup/droolsjbpm-integration/pull/2344#discussion_r553528446", "createdAt": "2021-01-07T19:12:33Z", "author": {"login": "adrielparedes"}, "path": "kie-server-parent/kie-server-controller/kie-server-controller-impl/src/main/java/org/kie/server/controller/impl/service/SpecManagementServiceImpl.java", "diffHunk": "@@ -58,6 +58,10 @@ public synchronized void saveContainerSpec(String serverTemplateId,\n             throw new KieServerControllerIllegalArgumentException(\"No server template found for id \" + serverTemplateId);\n         }\n \n+        if (containerSpec.getId().isEmpty()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "de82dd669e4276c249cabdad834c260125231341"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MzkzNzc1MQ==", "bodyText": "yes, its possible. Changes done.", "url": "https://github.com/kiegroup/droolsjbpm-integration/pull/2344#discussion_r553937751", "createdAt": "2021-01-08T13:17:17Z", "author": {"login": "abhijithumbe"}, "path": "kie-server-parent/kie-server-controller/kie-server-controller-impl/src/main/java/org/kie/server/controller/impl/service/SpecManagementServiceImpl.java", "diffHunk": "@@ -58,6 +58,10 @@ public synchronized void saveContainerSpec(String serverTemplateId,\n             throw new KieServerControllerIllegalArgumentException(\"No server template found for id \" + serverTemplateId);\n         }\n \n+        if (containerSpec.getId().isEmpty()) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MzUyODQ0Ng=="}, "originalCommit": {"oid": "de82dd669e4276c249cabdad834c260125231341"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ4Mzk2Mjc4OnYy", "diffSide": "RIGHT", "path": "kie-server-parent/kie-server-controller/kie-server-controller-impl/src/main/java/org/kie/server/controller/impl/service/SpecManagementServiceImpl.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wN1QxOToxMzoyNlrOIP4uBw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wN1QxOToxMzoyNlrOIP4uBw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MzUyODgzOQ==", "bodyText": "Can containerSpec or getID() return a null value?", "url": "https://github.com/kiegroup/droolsjbpm-integration/pull/2344#discussion_r553528839", "createdAt": "2021-01-07T19:13:26Z", "author": {"login": "adrielparedes"}, "path": "kie-server-parent/kie-server-controller/kie-server-controller-impl/src/main/java/org/kie/server/controller/impl/service/SpecManagementServiceImpl.java", "diffHunk": "@@ -94,6 +98,12 @@ public synchronized void updateContainerSpec(String serverTemplateId, String con\n             throw new KieServerControllerIllegalArgumentException(\"No server template found for id \" + serverTemplateId);\n         }\n \n+\n+        if (containerSpec.getId().isEmpty()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "de82dd669e4276c249cabdad834c260125231341"}, "originalPosition": 16}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ4NjY5NjEwOnYy", "diffSide": "RIGHT", "path": "kie-server-parent/kie-server-controller/kie-server-controller-impl/src/main/java/org/kie/server/controller/impl/service/SpecManagementServiceImpl.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wOFQxMzoyNToyMFrOIQR6kA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wOFQxNDozNjoxMVrOIQULkQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1Mzk0MTY0OA==", "bodyText": "In this case if getId() is null it will throw a NPE, you should check if containerSpec.getId()==null before checking getId().isEmpty(). Same in code below. To check what I'm saying add a small test just for null values and you will see that behavior", "url": "https://github.com/kiegroup/droolsjbpm-integration/pull/2344#discussion_r553941648", "createdAt": "2021-01-08T13:25:20Z", "author": {"login": "adrielparedes"}, "path": "kie-server-parent/kie-server-controller/kie-server-controller-impl/src/main/java/org/kie/server/controller/impl/service/SpecManagementServiceImpl.java", "diffHunk": "@@ -58,6 +58,10 @@ public synchronized void saveContainerSpec(String serverTemplateId,\n             throw new KieServerControllerIllegalArgumentException(\"No server template found for id \" + serverTemplateId);\n         }\n \n+        if (containerSpec.getId().isEmpty() || containerSpec.getId()==null ) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "40e25a2498df802aa2f0273db106d154102ebcd5"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1Mzk3ODc2OQ==", "bodyText": "Yes, agreed null check should come first.", "url": "https://github.com/kiegroup/droolsjbpm-integration/pull/2344#discussion_r553978769", "createdAt": "2021-01-08T14:36:11Z", "author": {"login": "abhijithumbe"}, "path": "kie-server-parent/kie-server-controller/kie-server-controller-impl/src/main/java/org/kie/server/controller/impl/service/SpecManagementServiceImpl.java", "diffHunk": "@@ -58,6 +58,10 @@ public synchronized void saveContainerSpec(String serverTemplateId,\n             throw new KieServerControllerIllegalArgumentException(\"No server template found for id \" + serverTemplateId);\n         }\n \n+        if (containerSpec.getId().isEmpty() || containerSpec.getId()==null ) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1Mzk0MTY0OA=="}, "originalCommit": {"oid": "40e25a2498df802aa2f0273db106d154102ebcd5"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1899, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}