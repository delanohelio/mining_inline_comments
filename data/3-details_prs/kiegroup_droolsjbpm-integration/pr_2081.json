{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE1MTQzMzEz", "number": 2081, "title": "[BAPL-1526] adding task variables and attributes to process search", "bodyText": "", "createdAt": "2020-05-08T09:34:22Z", "url": "https://github.com/kiegroup/droolsjbpm-integration/pull/2081", "merged": true, "mergeCommit": {"oid": "5892ce888903a8507bc1bafe7c9f1bdb52e0f7a6"}, "closed": true, "closedAt": "2020-05-18T06:01:18Z", "author": {"login": "elguardian"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcfOjhIABqjMzMTYzMDA2NzM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABchexmtgFqTQxMjQ5NjE5OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "50da1cf9600f8ef3a9e7db1cf56ce8f30ff5384f", "author": {"user": null}, "url": "https://github.com/kiegroup/droolsjbpm-integration/commit/50da1cf9600f8ef3a9e7db1cf56ce8f30ff5384f", "committedDate": "2020-05-08T09:10:26Z", "message": "[BAPL-1526] adding task variables and attributes to process search"}, "afterCommit": {"oid": "ebfc0b413851278bb02846bbb7b54a86a8de1655", "author": {"user": null}, "url": "https://github.com/kiegroup/droolsjbpm-integration/commit/ebfc0b413851278bb02846bbb7b54a86a8de1655", "committedDate": "2020-05-08T09:35:00Z", "message": "[BAPL-1526] adding task variables and attributes to process search"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ebfc0b413851278bb02846bbb7b54a86a8de1655", "author": {"user": null}, "url": "https://github.com/kiegroup/droolsjbpm-integration/commit/ebfc0b413851278bb02846bbb7b54a86a8de1655", "committedDate": "2020-05-08T09:35:00Z", "message": "[BAPL-1526] adding task variables and attributes to process search"}, "afterCommit": {"oid": "d1a56da85a8cbde559a828a3cf79100291344736", "author": {"user": null}, "url": "https://github.com/kiegroup/droolsjbpm-integration/commit/d1a56da85a8cbde559a828a3cf79100291344736", "committedDate": "2020-05-12T07:39:34Z", "message": "[BAPL-1526] adding task variables and attributes to process search"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d1a56da85a8cbde559a828a3cf79100291344736", "author": {"user": null}, "url": "https://github.com/kiegroup/droolsjbpm-integration/commit/d1a56da85a8cbde559a828a3cf79100291344736", "committedDate": "2020-05-12T07:39:34Z", "message": "[BAPL-1526] adding task variables and attributes to process search"}, "afterCommit": {"oid": "e62014510d979150da85f9ef5b9b9bc2412a605a", "author": {"user": null}, "url": "https://github.com/kiegroup/droolsjbpm-integration/commit/e62014510d979150da85f9ef5b9b9bc2412a605a", "committedDate": "2020-05-13T09:23:26Z", "message": "[BPAL-1526] Search for tasks / process instances / cases by multiple constraints"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e62014510d979150da85f9ef5b9b9bc2412a605a", "author": {"user": null}, "url": "https://github.com/kiegroup/droolsjbpm-integration/commit/e62014510d979150da85f9ef5b9b9bc2412a605a", "committedDate": "2020-05-13T09:23:26Z", "message": "[BPAL-1526] Search for tasks / process instances / cases by multiple constraints"}, "afterCommit": {"oid": "47c76e5891529e99f6b5fb0642f775e86f4ec919", "author": {"user": null}, "url": "https://github.com/kiegroup/droolsjbpm-integration/commit/47c76e5891529e99f6b5fb0642f775e86f4ec919", "committedDate": "2020-05-14T09:12:39Z", "message": "[BPAL-1526] Search for tasks / process instances / cases by multiple constraints"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6fdbebdf26f984e800702cc339af148be6eef449", "author": {"user": null}, "url": "https://github.com/kiegroup/droolsjbpm-integration/commit/6fdbebdf26f984e800702cc339af148be6eef449", "committedDate": "2020-05-14T15:06:11Z", "message": "[BPAL-1526] Search for tasks / process instances / cases by multiple constraints"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "47c76e5891529e99f6b5fb0642f775e86f4ec919", "author": {"user": null}, "url": "https://github.com/kiegroup/droolsjbpm-integration/commit/47c76e5891529e99f6b5fb0642f775e86f4ec919", "committedDate": "2020-05-14T09:12:39Z", "message": "[BPAL-1526] Search for tasks / process instances / cases by multiple constraints"}, "afterCommit": {"oid": "6fdbebdf26f984e800702cc339af148be6eef449", "author": {"user": null}, "url": "https://github.com/kiegroup/droolsjbpm-integration/commit/6fdbebdf26f984e800702cc339af148be6eef449", "committedDate": "2020-05-14T15:06:11Z", "message": "[BPAL-1526] Search for tasks / process instances / cases by multiple constraints"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEyMjA1NDg4", "url": "https://github.com/kiegroup/droolsjbpm-integration/pull/2081#pullrequestreview-412205488", "createdAt": "2020-05-14T21:40:56Z", "commit": {"oid": "6fdbebdf26f984e800702cc339af148be6eef449"}, "state": "COMMENTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQyMTo0MDo1NlrOGVvOpQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQyMTo1NjoxNFrOGVvoXA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTQ0NzA3Nw==", "bodyText": "It would be helpful to add status also to toString method", "url": "https://github.com/kiegroup/droolsjbpm-integration/pull/2081#discussion_r425447077", "createdAt": "2020-05-14T21:40:56Z", "author": {"login": "gmunozfe"}, "path": "kie-server-parent/kie-server-api/src/main/java/org/kie/server/api/model/cases/CaseUserTaskWithVariables.java", "diffHunk": "@@ -150,11 +153,20 @@ public void setProcessInstanceId(Long processInstanceId) {\n         this.processInstanceId = processInstanceId;\n     }\n \n+    public String getStatus() {\n+        return status;\n+    }\n+\n+    public void setStatus(String status) {\n+        this.status = status;\n+    }\n+\n     @Override\n     public String toString() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6fdbebdf26f984e800702cc339af148be6eef449"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTQ0NzE3MA==", "bodyText": "Same here", "url": "https://github.com/kiegroup/droolsjbpm-integration/pull/2081#discussion_r425447170", "createdAt": "2020-05-14T21:41:10Z", "author": {"login": "gmunozfe"}, "path": "kie-server-parent/kie-server-api/src/main/java/org/kie/server/api/model/instance/ProcessInstanceUserTaskWithVariables.java", "diffHunk": "@@ -127,6 +130,14 @@ public void setProcessVariables(Map<String, Object> processVariables) {\n         this.processVariables = processVariables;\n     }\n \n+    public void setStatus(String status) {\n+        this.status = status;\n+    }\n+\n+    public String getStatus() {\n+        return status;\n+    }\n+\n     @Override\n     public String toString() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6fdbebdf26f984e800702cc339af148be6eef449"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTQ1MjA3NQ==", "bodyText": "Created and Suspended are considered as ActiveTasks?\nhttps://github.com/kiegroup/jbpm/blob/master/jbpm-services/jbpm-kie-services/src/main/java/org/jbpm/kie/services/impl/RuntimeDataServiceImpl.java#L486-L495", "url": "https://github.com/kiegroup/droolsjbpm-integration/pull/2081#discussion_r425452075", "createdAt": "2020-05-14T21:52:29Z", "author": {"login": "gmunozfe"}, "path": "kie-server-parent/kie-server-api/src/main/java/org/kie/server/api/util/QueryParamFactory.java", "diffHunk": "@@ -91,6 +95,21 @@ public static QueryParam not(QueryParam param) {\n         return new QueryParam(null, \"NOT\", Collections.singletonList(param));\n     }\n \n+    /** \n+     * only for search process / task by variables\n+     */\n+    public static QueryParam type(String column, Comparable<?> type) {\n+        return new QueryParam(column, \"TYPE\", Arrays.asList(type));\n+    }\n+\n+    public static QueryParam onlyActiveTasks() {\n+        return in(\"TASK_STATUS\", \"Created\", \"Ready\", \"Reserved\", \"InProgress\", \"Suspended\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6fdbebdf26f984e800702cc339af148be6eef449"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTQ1MzY2MA==", "bodyText": "Same question here: from the rest of statuses Completed, Failed, Error, Exited, Obsolete, not sure if only should apply Completed.", "url": "https://github.com/kiegroup/droolsjbpm-integration/pull/2081#discussion_r425453660", "createdAt": "2020-05-14T21:56:14Z", "author": {"login": "gmunozfe"}, "path": "kie-server-parent/kie-server-api/src/main/java/org/kie/server/api/util/QueryParamFactory.java", "diffHunk": "@@ -91,6 +95,21 @@ public static QueryParam not(QueryParam param) {\n         return new QueryParam(null, \"NOT\", Collections.singletonList(param));\n     }\n \n+    /** \n+     * only for search process / task by variables\n+     */\n+    public static QueryParam type(String column, Comparable<?> type) {\n+        return new QueryParam(column, \"TYPE\", Arrays.asList(type));\n+    }\n+\n+    public static QueryParam onlyActiveTasks() {\n+        return in(\"TASK_STATUS\", \"Created\", \"Ready\", \"Reserved\", \"InProgress\", \"Suspended\");\n+    }\n+\n+    public static QueryParam onlyCompletedTasks() {\n+        return notIn(\"TASK_STATUS\", \"Created\", \"Ready\", \"Reserved\", \"InProgress\", \"Suspended\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6fdbebdf26f984e800702cc339af148be6eef449"}, "originalPosition": 27}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEyNDk2MTk4", "url": "https://github.com/kiegroup/droolsjbpm-integration/pull/2081#pullrequestreview-412496198", "createdAt": "2020-05-15T09:36:56Z", "commit": {"oid": "6fdbebdf26f984e800702cc339af148be6eef449"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1407, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}