{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDczODU4ODA5", "number": 2209, "title": "Improve assertions for RuntimeDataServiceIntegrationTest.testQueryPro\u2026", "bodyText": "\u2026cessesByVariables()\nThank you for submitting this pull request\nJIRA: (please edit the JIRA link if it exists)\nlink\nreferenced Pull Requests: (please edit the URLs of referenced pullrequests if they exist)\n\npaste the link(s) from GitHub here\nlink 2\nlink 3 etc.\n\nHow to retest a PR or trigger a specific build:\n\n* a pull request please add comment: Jenkins retest this\n \n* a full downstream build please add comment: Jenkins run fdb\n  \n* a compile downstream build please  add comment: Jenkins run cdb\n\n* a full production downstream build please add comment: Jenkins execute product fdb\n\n* an upstream build please add comment: Jenkins run upstream", "createdAt": "2020-08-26T12:02:41Z", "url": "https://github.com/kiegroup/droolsjbpm-integration/pull/2209", "merged": true, "mergeCommit": {"oid": "f63d1de6ee6af9903645725d2cd4f7cc51cb8246"}, "closed": true, "closedAt": "2020-08-27T07:17:48Z", "author": {"login": "sutaakar"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdCre_TgFqTQ3NTQ2NTk5Ng==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdCso22AFqTQ3NTU0Mzg5MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc1NDY1OTk2", "url": "https://github.com/kiegroup/droolsjbpm-integration/pull/2209#pullrequestreview-475465996", "createdAt": "2020-08-26T13:04:51Z", "commit": {"oid": "819ed4ce4a168c2365187b7970552cc029f674c8"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc1NDMwMDMz", "url": "https://github.com/kiegroup/droolsjbpm-integration/pull/2209#pullrequestreview-475430033", "createdAt": "2020-08-26T12:19:20Z", "commit": {"oid": "819ed4ce4a168c2365187b7970552cc029f674c8"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQxMjoxOToyMFrOHHJYXQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQxMjoyMDo1MlrOHHJb9g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzI1NTc3Mw==", "bodyText": "can be replaced with method reference.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    Assertions.assertThat(listProcesses).extracting(p -> p.getContainerId()).containsOnly(CONTAINER_ID);\n          \n          \n            \n                    Assertions.assertThat(listProcesses).extracting(ProcessInstanceCustomVars::getContainerId).containsOnly(CONTAINER_ID);", "url": "https://github.com/kiegroup/droolsjbpm-integration/pull/2209#discussion_r477255773", "createdAt": "2020-08-26T12:19:20Z", "author": {"login": "afalhambra"}, "path": "kie-server-parent/kie-server-tests/kie-server-integ-tests-jbpm/src/test/java/org/kie/server/integrationtests/jbpm/RuntimeDataServiceIntegrationTest.java", "diffHunk": "@@ -1857,21 +1857,17 @@ public void testQueryProcessesByVariables() throws Exception {\n \n \n         List<TaskSummary> tasks = taskClient.findTasksByStatusByProcessInstanceId(processInstanceId, null, 0, 10);\n-        assertNotNull(tasks);\n-        assertEquals(1, tasks.size());\n+        Assertions.assertThat(tasks).hasSize(1);\n \n         SearchQueryFilterSpec spec = new SearchQueryFilterSpec();\n         spec.setAttributesQueryParams(list(equalsTo(PROCESS_ATTR_DEPLOYMENT_ID, CONTAINER_ID)));\n         List<ProcessInstanceCustomVars> listProcesses = queryClient.queryProcessesByVariables(spec, 0, 2);\n-        assertNotNull(listProcesses);\n-        listProcesses.stream().forEach(e -> assertEquals(CONTAINER_ID, e.getContainerId()));\n+        Assertions.assertThat(listProcesses).extracting(p -> p.getContainerId()).containsOnly(CONTAINER_ID);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "819ed4ce4a168c2365187b7970552cc029f674c8"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzI1NjY5NA==", "bodyText": "can be replaced with method reference.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    Assertions.assertThat(listTasks).hasSize(1).extracting(p -> p.getProcessDefinitionId()).containsOnly(PROCESS_ID_USERTASK);\n          \n          \n            \n                    Assertions.assertThat(listTasks).hasSize(1).extracting(ProcessInstanceUserTaskWithVariables::getProcessDefinitionId).containsOnly(PROCESS_ID_USERTASK);", "url": "https://github.com/kiegroup/droolsjbpm-integration/pull/2209#discussion_r477256694", "createdAt": "2020-08-26T12:20:52Z", "author": {"login": "afalhambra"}, "path": "kie-server-parent/kie-server-tests/kie-server-integ-tests-jbpm/src/test/java/org/kie/server/integrationtests/jbpm/RuntimeDataServiceIntegrationTest.java", "diffHunk": "@@ -1857,21 +1857,17 @@ public void testQueryProcessesByVariables() throws Exception {\n \n \n         List<TaskSummary> tasks = taskClient.findTasksByStatusByProcessInstanceId(processInstanceId, null, 0, 10);\n-        assertNotNull(tasks);\n-        assertEquals(1, tasks.size());\n+        Assertions.assertThat(tasks).hasSize(1);\n \n         SearchQueryFilterSpec spec = new SearchQueryFilterSpec();\n         spec.setAttributesQueryParams(list(equalsTo(PROCESS_ATTR_DEPLOYMENT_ID, CONTAINER_ID)));\n         List<ProcessInstanceCustomVars> listProcesses = queryClient.queryProcessesByVariables(spec, 0, 2);\n-        assertNotNull(listProcesses);\n-        listProcesses.stream().forEach(e -> assertEquals(CONTAINER_ID, e.getContainerId()));\n+        Assertions.assertThat(listProcesses).extracting(p -> p.getContainerId()).containsOnly(CONTAINER_ID);\n \n         spec = new SearchQueryFilterSpec();\n         spec.setAttributesQueryParams(list(onlyActiveTasks(), equalsTo(PROCESS_ATTR_DEFINITION_ID, PROCESS_ID_USERTASK)));\n         List<ProcessInstanceUserTaskWithVariables> listTasks = queryClient.queryUserTaskByVariables(spec, 0, 2);\n-        assertNotNull(listTasks);\n-        assertEquals(1, listTasks.size());\n-        listTasks.stream().forEach(e -> assertEquals(PROCESS_ID_USERTASK, e.getProcessDefinitionId()));\n+        Assertions.assertThat(listTasks).hasSize(1).extracting(p -> p.getProcessDefinitionId()).containsOnly(PROCESS_ID_USERTASK);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "819ed4ce4a168c2365187b7970552cc029f674c8"}, "originalPosition": 21}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "38197c59eebff7b6eec71174e9b1ca76c4c1feb3", "author": {"user": {"login": "sutaakar", "name": "Karel Suta"}}, "url": "https://github.com/kiegroup/droolsjbpm-integration/commit/38197c59eebff7b6eec71174e9b1ca76c4c1feb3", "committedDate": "2020-08-26T13:59:55Z", "message": "Improve assertions for RuntimeDataServiceIntegrationTest.testQueryProcessesByVariables()"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "819ed4ce4a168c2365187b7970552cc029f674c8", "author": {"user": {"login": "sutaakar", "name": "Karel Suta"}}, "url": "https://github.com/kiegroup/droolsjbpm-integration/commit/819ed4ce4a168c2365187b7970552cc029f674c8", "committedDate": "2020-08-26T11:59:57Z", "message": "Improve assertions for RuntimeDataServiceIntegrationTest.testQueryProcessesByVariables()"}, "afterCommit": {"oid": "38197c59eebff7b6eec71174e9b1ca76c4c1feb3", "author": {"user": {"login": "sutaakar", "name": "Karel Suta"}}, "url": "https://github.com/kiegroup/droolsjbpm-integration/commit/38197c59eebff7b6eec71174e9b1ca76c4c1feb3", "committedDate": "2020-08-26T13:59:55Z", "message": "Improve assertions for RuntimeDataServiceIntegrationTest.testQueryProcessesByVariables()"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc1NTQzODkx", "url": "https://github.com/kiegroup/droolsjbpm-integration/pull/2209#pullrequestreview-475543891", "createdAt": "2020-08-26T14:25:32Z", "commit": {"oid": "38197c59eebff7b6eec71174e9b1ca76c4c1feb3"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1339, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}