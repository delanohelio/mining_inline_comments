{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM3MTU0MTcy", "number": 2136, "title": "[JBPM-9195] Case traceability from a Task Instance", "bodyText": "Depends on jbpm:1689 and kiegroup/droolsjbpm-knowledge#447\ncorrelationKey and processType has been added to TaskInstance and\nTaskSummary", "createdAt": "2020-06-19T15:09:57Z", "url": "https://github.com/kiegroup/droolsjbpm-integration/pull/2136", "merged": true, "mergeCommit": {"oid": "5f39bc26158ed919cfbe7b70ef5be3e30c8e803e"}, "closed": true, "closedAt": "2020-07-16T07:08:51Z", "author": {"login": "fjtirado"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcuCPoegFqTQzNTYxNzE3Mw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABc05zyfAFqTQ0ODMzMjc4Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM1NjE3MTcz", "url": "https://github.com/kiegroup/droolsjbpm-integration/pull/2136#pullrequestreview-435617173", "createdAt": "2020-06-23T09:43:29Z", "commit": {"oid": "b08e540ea3bc27614662cee35a363f3273d80747"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QwOTo0MzoyOVrOGnhmCg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QwOTo0MzoyOVrOGnhmCg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDA5ODA1OA==", "bodyText": "what about correlation key ?", "url": "https://github.com/kiegroup/droolsjbpm-integration/pull/2136#discussion_r444098058", "createdAt": "2020-06-23T09:43:29Z", "author": {"login": "elguardian"}, "path": "kie-server-parent/kie-server-tests/kie-server-integ-tests-all/src/test/java/org/kie/server/integrationtests/jbpm/cases/CaseSLAComplianceIntegrationTest.java", "diffHunk": "@@ -89,6 +90,7 @@ public void testStartCaseWithSLAEscalation() throws Exception{\n         TaskSummary johnTask = johnTasks.get(0);\n         assertThat(johnTasks).hasSize(1);\n         assertThat(johnTask.getName()).isEqualTo(\"Hello1\");\n+        assertThat(johnTask.getProcessType()).isEqualTo(WorkflowProcess.CASE_TYPE);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b08e540ea3bc27614662cee35a363f3273d80747"}, "originalPosition": 28}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM1NjIyOTYy", "url": "https://github.com/kiegroup/droolsjbpm-integration/pull/2136#pullrequestreview-435622962", "createdAt": "2020-06-23T09:51:02Z", "commit": {"oid": "b08e540ea3bc27614662cee35a363f3273d80747"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QwOTo1MTowMlrOGnh3Ww==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QwOTo1MTowMlrOGnh3Ww==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDEwMjQ5MQ==", "bodyText": "promote to api.", "url": "https://github.com/kiegroup/droolsjbpm-integration/pull/2136#discussion_r444102491", "createdAt": "2020-06-23T09:51:02Z", "author": {"login": "elguardian"}, "path": "kie-server-parent/kie-server-services/kie-server-services-jbpm/src/main/java/org/kie/server/services/jbpm/ConvertUtils.java", "diffHunk": "@@ -513,9 +516,15 @@ public static TaskSummaryList convertToTaskSummaryList(Collection<TaskSummary> t\n                 .processInstanceId(taskSummary.getProcessInstanceId())\n                 .status(taskSummary.getStatusId())\n                 .skipable(taskSummary.isSkipable())\n-                .subject(taskSummary.getSubject())\n-                .build();\n-        return task;\n+                .subject(taskSummary.getSubject());\n+         // alternative to that instanceof is to use default interface methods in task summary, but this requires java8 >\n+         // in all implementors\n+         if (taskSummary instanceof TaskSummaryImpl)   \n+         {\n+             builder.correlationKey(((TaskSummaryImpl)taskSummary).getCorrelationKey());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b08e540ea3bc27614662cee35a363f3273d80747"}, "originalPosition": 38}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM1NjI0MzM1", "url": "https://github.com/kiegroup/droolsjbpm-integration/pull/2136#pullrequestreview-435624335", "createdAt": "2020-06-23T09:52:48Z", "commit": {"oid": "b08e540ea3bc27614662cee35a363f3273d80747"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b08e540ea3bc27614662cee35a363f3273d80747", "author": {"user": {"login": "fjtirado", "name": "Francisco Javier Tirado Sarti"}}, "url": "https://github.com/kiegroup/droolsjbpm-integration/commit/b08e540ea3bc27614662cee35a363f3273d80747", "committedDate": "2020-06-19T15:09:31Z", "message": "[JBPM-9195] Case traceability from a Task Instance\n\ncorrelationKey and processType has been added to TaskInstance and\nTaskSummary"}, "afterCommit": {"oid": "4b0724022542a521d93e10bfa7f2d12de7d839e3", "author": {"user": {"login": "fjtirado", "name": "Francisco Javier Tirado Sarti"}}, "url": "https://github.com/kiegroup/droolsjbpm-integration/commit/4b0724022542a521d93e10bfa7f2d12de7d839e3", "committedDate": "2020-06-23T18:42:30Z", "message": "[JBPM-9195] Case traceability from a Task Instance\n\ncorrelationKey and processType has been added to TaskInstance and\nTaskSummary"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4b0724022542a521d93e10bfa7f2d12de7d839e3", "author": {"user": {"login": "fjtirado", "name": "Francisco Javier Tirado Sarti"}}, "url": "https://github.com/kiegroup/droolsjbpm-integration/commit/4b0724022542a521d93e10bfa7f2d12de7d839e3", "committedDate": "2020-06-23T18:42:30Z", "message": "[JBPM-9195] Case traceability from a Task Instance\n\ncorrelationKey and processType has been added to TaskInstance and\nTaskSummary"}, "afterCommit": {"oid": "c9bf272d552789a24bc89496baf43bc005e5b0ff", "author": {"user": {"login": "fjtirado", "name": "Francisco Javier Tirado Sarti"}}, "url": "https://github.com/kiegroup/droolsjbpm-integration/commit/c9bf272d552789a24bc89496baf43bc005e5b0ff", "committedDate": "2020-06-24T09:03:29Z", "message": "[JBPM-9195] Case traceability from a Task Instance\n\ncorrelationKey and processType has been added to TaskInstance and\nTaskSummary"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c9bf272d552789a24bc89496baf43bc005e5b0ff", "author": {"user": {"login": "fjtirado", "name": "Francisco Javier Tirado Sarti"}}, "url": "https://github.com/kiegroup/droolsjbpm-integration/commit/c9bf272d552789a24bc89496baf43bc005e5b0ff", "committedDate": "2020-06-24T09:03:29Z", "message": "[JBPM-9195] Case traceability from a Task Instance\n\ncorrelationKey and processType has been added to TaskInstance and\nTaskSummary"}, "afterCommit": {"oid": "0f3b15dec65d9eb28709ab2c81ca0f024284acb4", "author": {"user": {"login": "fjtirado", "name": "Francisco Javier Tirado Sarti"}}, "url": "https://github.com/kiegroup/droolsjbpm-integration/commit/0f3b15dec65d9eb28709ab2c81ca0f024284acb4", "committedDate": "2020-06-24T09:25:54Z", "message": "[JBPM-9195] Case traceability from a Task Instance\n\ncorrelationKey and processType has been added to TaskInstance and\nTaskSummary"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0f3b15dec65d9eb28709ab2c81ca0f024284acb4", "author": {"user": {"login": "fjtirado", "name": "Francisco Javier Tirado Sarti"}}, "url": "https://github.com/kiegroup/droolsjbpm-integration/commit/0f3b15dec65d9eb28709ab2c81ca0f024284acb4", "committedDate": "2020-06-24T09:25:54Z", "message": "[JBPM-9195] Case traceability from a Task Instance\n\ncorrelationKey and processType has been added to TaskInstance and\nTaskSummary"}, "afterCommit": {"oid": "f7f065f4fcc95cb8505ae83629b7d9a0f2bb1b04", "author": {"user": {"login": "fjtirado", "name": "Francisco Javier Tirado Sarti"}}, "url": "https://github.com/kiegroup/droolsjbpm-integration/commit/f7f065f4fcc95cb8505ae83629b7d9a0f2bb1b04", "committedDate": "2020-06-24T14:45:07Z", "message": "[JBPM-9195] Case traceability from a Task Instance\n\ncorrelationKey and processType has been added to TaskInstance and\nTaskSummary"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "04f020b76948124d826f59409504b5b9bff5b4f8", "author": {"user": {"login": "fjtirado", "name": "Francisco Javier Tirado Sarti"}}, "url": "https://github.com/kiegroup/droolsjbpm-integration/commit/04f020b76948124d826f59409504b5b9bff5b4f8", "committedDate": "2020-07-07T11:47:46Z", "message": "[JBPM-9195] Case traceability from a Task Instance\n\ncorrelationKey and processType has been added to TaskInstance and\nTaskSummary"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f7f065f4fcc95cb8505ae83629b7d9a0f2bb1b04", "author": {"user": {"login": "fjtirado", "name": "Francisco Javier Tirado Sarti"}}, "url": "https://github.com/kiegroup/droolsjbpm-integration/commit/f7f065f4fcc95cb8505ae83629b7d9a0f2bb1b04", "committedDate": "2020-06-24T14:45:07Z", "message": "[JBPM-9195] Case traceability from a Task Instance\n\ncorrelationKey and processType has been added to TaskInstance and\nTaskSummary"}, "afterCommit": {"oid": "04f020b76948124d826f59409504b5b9bff5b4f8", "author": {"user": {"login": "fjtirado", "name": "Francisco Javier Tirado Sarti"}}, "url": "https://github.com/kiegroup/droolsjbpm-integration/commit/04f020b76948124d826f59409504b5b9bff5b4f8", "committedDate": "2020-07-07T11:47:46Z", "message": "[JBPM-9195] Case traceability from a Task Instance\n\ncorrelationKey and processType has been added to TaskInstance and\nTaskSummary"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ4MzMyNzgz", "url": "https://github.com/kiegroup/droolsjbpm-integration/pull/2136#pullrequestreview-448332783", "createdAt": "2020-07-14T17:51:18Z", "commit": {"oid": "04f020b76948124d826f59409504b5b9bff5b4f8"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1271, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}