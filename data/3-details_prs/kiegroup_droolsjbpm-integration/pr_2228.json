{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDgxOTU0ODYy", "number": 2228, "title": "[JBPM-9321] Some form options can't be rendered in API response / DocumentCollection", "bodyText": "Jira https://issues.redhat.com/browse/JBPM-9321", "createdAt": "2020-09-08T10:46:56Z", "url": "https://github.com/kiegroup/droolsjbpm-integration/pull/2228", "merged": true, "mergeCommit": {"oid": "1b783201d41a50e03f8851ddfd194006de5c3bd4"}, "closed": true, "closedAt": "2020-09-16T06:35:30Z", "author": {"login": "elguardian"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdG5okggBqjM3NDE2NTczMDA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdJD3gnAFqTQ4ODQzNTg4OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "12500d581d9d1d93665dccc2e8ab6e0d5eccd16b", "author": {"user": null}, "url": "https://github.com/kiegroup/droolsjbpm-integration/commit/12500d581d9d1d93665dccc2e8ab6e0d5eccd16b", "committedDate": "2020-09-08T10:39:37Z", "message": "[JBPM-9321] Some form options can't be rendered in API response\n\nAdd DocumentCollection input"}, "afterCommit": {"oid": "85030fa786bdc5775b1bd91bf0921f14c95c8d6d", "author": {"user": null}, "url": "https://github.com/kiegroup/droolsjbpm-integration/commit/85030fa786bdc5775b1bd91bf0921f14c95c8d6d", "committedDate": "2020-09-08T15:49:28Z", "message": "[JBPM-9321] Some form options can't be rendered in API response\n\nAdd DocumentCollection input"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg0NzQ2OTY2", "url": "https://github.com/kiegroup/droolsjbpm-integration/pull/2228#pullrequestreview-484746966", "createdAt": "2020-09-09T07:50:26Z", "commit": {"oid": "85030fa786bdc5775b1bd91bf0921f14c95c8d6d"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOVQwNzo1MDoyN1rOHO7AKw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMFQwNzo0NTowNlrOHPnNWA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTQwODgxMQ==", "bodyText": "This code is duplicated, please remove\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    } else if (type.contains(\"Integer\") || type.contains(\"Double\") || type.contains(\"Float\")) {\n          \n          \n            \n                        return \"Number(\";\n          \n          \n            \n                    } else if (type.contains(\"Boolean\")) {\n          \n          \n            \n                        return \"Boolean(\";", "url": "https://github.com/kiegroup/droolsjbpm-integration/pull/2228#discussion_r485408811", "createdAt": "2020-09-09T07:50:27Z", "author": {"login": "afalhambra"}, "path": "kie-server-parent/kie-server-services/kie-server-services-jbpm-ui/src/main/java/org/kie/server/services/jbpm/ui/form/render/AbstractFormRenderer.java", "diffHunk": "@@ -597,12 +644,19 @@ protected void appendFieldJSON(StringBuilder jsonTemplate, String type, String n\n     }\n \n     protected String getFieldType(String type) {\n+\n         if (type.contains(\"Integer\") || type.contains(\"Double\") || type.contains(\"Float\")) {\n             return \"Number(\";\n         } else if (type.contains(\"Boolean\")) {\n             return \"Boolean(\";\n         } else if (type.contains(\"Date\")) {\n             return \"Object(\";\n+        } else if (type.contains(\"Integer\") || type.contains(\"Double\") || type.contains(\"Float\")) {\n+            return \"Number(\";\n+        } else if (type.contains(\"Boolean\")) {\n+            return \"Boolean(\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "85030fa786bdc5775b1bd91bf0921f14c95c8d6d"}, "originalPosition": 142}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTQxMDQzNQ==", "bodyText": "type.contains(\"Date\") is already covered in a previous else-if statement, no needed here.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    } else if (type.contains(\"Document\") || type.contains(\"documentCollection\") || type.contains(\"Date\")) {\n          \n          \n            \n                    } else if (type.contains(\"Document\") || type.contains(\"documentCollection\")) {", "url": "https://github.com/kiegroup/droolsjbpm-integration/pull/2228#discussion_r485410435", "createdAt": "2020-09-09T07:53:01Z", "author": {"login": "afalhambra"}, "path": "kie-server-parent/kie-server-services/kie-server-services-jbpm-ui/src/main/java/org/kie/server/services/jbpm/ui/form/render/AbstractFormRenderer.java", "diffHunk": "@@ -597,12 +644,19 @@ protected void appendFieldJSON(StringBuilder jsonTemplate, String type, String n\n     }\n \n     protected String getFieldType(String type) {\n+\n         if (type.contains(\"Integer\") || type.contains(\"Double\") || type.contains(\"Float\")) {\n             return \"Number(\";\n         } else if (type.contains(\"Boolean\")) {\n             return \"Boolean(\";\n         } else if (type.contains(\"Date\")) {\n             return \"Object(\";\n+        } else if (type.contains(\"Integer\") || type.contains(\"Double\") || type.contains(\"Float\")) {\n+            return \"Number(\";\n+        } else if (type.contains(\"Boolean\")) {\n+            return \"Boolean(\";\n+        } else if (type.contains(\"Document\") || type.contains(\"documentCollection\") || type.contains(\"Date\")) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "85030fa786bdc5775b1bd91bf0921f14c95c8d6d"}, "originalPosition": 143}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTQxNDUzNQ==", "bodyText": "static final members should be named all uppercase, with components separated by underscore \"_\" characters\nArrays.asList(\"documentCollection\"); can be replace with singletonList\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                public static final List<String> fieldsExclusionTransformation = Arrays.asList(\"documentCollection\");\n          \n          \n            \n                public static final List<String> FIELDS_EXCLUSION_TRANSFORMATION = Collections.singletonList(\"documentCollection\");", "url": "https://github.com/kiegroup/droolsjbpm-integration/pull/2228#discussion_r485414535", "createdAt": "2020-09-09T07:59:53Z", "author": {"login": "afalhambra"}, "path": "kie-server-parent/kie-server-services/kie-server-services-jbpm-ui/src/main/java/org/kie/server/services/jbpm/ui/form/render/AbstractFormRenderer.java", "diffHunk": "@@ -61,6 +67,7 @@\n     public static final String PROCESS_LAYOUT_TEMPLATE = \"process-layout\";\n     public static final String TASK_LAYOUT_TEMPLATE = \"task-layout\";\n     public static final String TABLE_LAYOUT_TEMPLATE = \"table\";\n+    public static final List<String> fieldsExclusionTransformation = Arrays.asList(\"documentCollection\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "85030fa786bdc5775b1bd91bf0921f14c95c8d6d"}, "originalPosition": 39}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTQzMDYzOQ==", "bodyText": "typo\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                            DocumentCollection<Document> docColletion = (DocumentCollection<Document>) value;\n          \n          \n            \n                                            DocumentCollection<Document> docCollection = (DocumentCollection<Document>) value;", "url": "https://github.com/kiegroup/droolsjbpm-integration/pull/2228#discussion_r485430639", "createdAt": "2020-09-09T08:26:36Z", "author": {"login": "afalhambra"}, "path": "kie-server-parent/kie-server-services/kie-server-services-jbpm-ui/src/main/java/org/kie/server/services/jbpm/ui/form/render/AbstractFormRenderer.java", "diffHunk": "@@ -379,14 +405,35 @@ protected void processFormLayout(FormInstance topLevelForm,\n                                 value = outputs.get(field.getBinding());\n                             }\n                             \n-                            item.setValue(value);\n+                            if(!fieldsExclusionTransformation.contains(fieldType)) {\n+                                item.setValue(value.toString());\n+                            } else {\n+                                DocumentCollection<Document> docColletion = (DocumentCollection<Document>) value;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "85030fa786bdc5775b1bd91bf0921f14c95c8d6d"}, "originalPosition": 97}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTUyNDU2OQ==", "bodyText": "this could throw a ClassCastException when there is no binding defined or there is no actual document attached to the form (attached documents can be empty).\n\n  \n    \n      droolsjbpm-integration/kie-server-parent/kie-server-services/kie-server-services-jbpm-ui/src/main/java/org/kie/server/services/jbpm/ui/form/render/AbstractFormRenderer.java\n    \n    \n        Lines 401 to 406\n      in\n      85030fa\n    \n    \n    \n    \n\n        \n          \n           if (inputs.get(field.getBinding()) != null) { \n        \n\n        \n          \n               value = inputs.get(field.getBinding()); \n        \n\n        \n          \n           } \n        \n\n        \n          \n           if (outputs.get(field.getBinding()) != null) { \n        \n\n        \n          \n               value = outputs.get(field.getBinding()); \n        \n\n        \n          \n           }", "url": "https://github.com/kiegroup/droolsjbpm-integration/pull/2228#discussion_r485524569", "createdAt": "2020-09-09T11:02:12Z", "author": {"login": "afalhambra"}, "path": "kie-server-parent/kie-server-services/kie-server-services-jbpm-ui/src/main/java/org/kie/server/services/jbpm/ui/form/render/AbstractFormRenderer.java", "diffHunk": "@@ -379,14 +405,35 @@ protected void processFormLayout(FormInstance topLevelForm,\n                                 value = outputs.get(field.getBinding());\n                             }\n                             \n-                            item.setValue(value);\n+                            if(!fieldsExclusionTransformation.contains(fieldType)) {\n+                                item.setValue(value.toString());\n+                            } else {\n+                                DocumentCollection<Document> docColletion = (DocumentCollection<Document>) value;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "85030fa786bdc5775b1bd91bf0921f14c95c8d6d"}, "originalPosition": 97}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjA5OTg1MQ==", "bodyText": "item.getValue().equals(\"{}\") may throw a NPE\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                        if ((\"file\".equals(fieldType) || \"documentCollection\".equals(fieldType)) && !item.getValue().equals(\"{}\")) {\n          \n          \n            \n                                        if ((\"file\".equals(fieldType) || \"documentCollection\".equals(fieldType)) && !\"\".equals(item.getValue())) {", "url": "https://github.com/kiegroup/droolsjbpm-integration/pull/2228#discussion_r486099851", "createdAt": "2020-09-10T06:40:44Z", "author": {"login": "afalhambra"}, "path": "kie-server-parent/kie-server-services/kie-server-services-jbpm-ui/src/main/java/org/kie/server/services/jbpm/ui/form/render/AbstractFormRenderer.java", "diffHunk": "@@ -379,14 +405,35 @@ protected void processFormLayout(FormInstance topLevelForm,\n                                 value = outputs.get(field.getBinding());\n                             }\n                             \n-                            item.setValue(value);\n+                            if(!fieldsExclusionTransformation.contains(fieldType)) {\n+                                item.setValue(value.toString());\n+                            } else {\n+                                DocumentCollection<Document> docColletion = (DocumentCollection<Document>) value;\n+                                docColletion.getDocuments().stream()\n+                                                           .map(e -> (DocumentImpl) e)\n+                                                           .forEach(DocumentImpl::load);\n+\n+                                List<DocumentItem> items = docColletion.getDocuments()\n+                                                               .stream()\n+                                                               .map(e -> new DocumentItem(e.getName(), Base64.getEncoder().encodeToString(e.getContent())))\n+                                                               .collect(Collectors.toList());\n+                                item.setValue(items);\n+                            }\n+                            \n+\n+\n                             item.setReadOnly(field.isReadOnly());\n                             item.setRequired(field.isRequired());\n-                            \n+\n                             // generate column content                    \n                             Map<String, Object> parameters = new HashMap<>();\n                             parameters.put(\"item\", item);\n-                            parameters.put(\"documentPath\", getDocumentPath()); // used to generate link for documents\n+                            if ((\"file\".equals(fieldType) || \"documentCollection\".equals(fieldType)) && !item.getValue().equals(\"{}\")) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "85030fa786bdc5775b1bd91bf0921f14c95c8d6d"}, "originalPosition": 119}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjExMDY2MQ==", "bodyText": "Worth checking not null\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                \t<#if item.value?size gt 0>\n          \n          \n            \n                \t<#if item.value?? && item.value?size gt 0>", "url": "https://github.com/kiegroup/droolsjbpm-integration/pull/2228#discussion_r486110661", "createdAt": "2020-09-10T07:03:20Z", "author": {"login": "afalhambra"}, "path": "kie-server-parent/kie-server-services/kie-server-services-jbpm-ui/src/main/resources/form-templates-providers/bootstrap/input-form-group-template.html", "diffHunk": "@@ -70,6 +70,47 @@\n \t</#if>\n     <input id=\"${item.id}\" data-slider-id='${item.id}Slider' data-slider-value=\"${item.value}\" name=\"${item.name}\" data-slider-min=\"${item.min}\" data-slider-max=\"${item.max}\" data-slider-step=\"${item.step}\" type=\"text\" class=\"form-control\" value=\"${item.value}\" ${(item.required)?string('required', '')} data-slider-tooltip=\"hide\" data-slider-handle=\"triangle\" style=\"width: 100%;\"/>    \n </div>\n+<#elseif item.type == \"documentCollection\">\n+<div>\n+\t<label for=\"${item.id}\">${item.label}</label> \n+    <div id=\"${item.id}\" data-field=\"documentCollection\">\n+    \t<#if item.value?size gt 0>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "85030fa786bdc5775b1bd91bf0921f14c95c8d6d"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjExMDk1Nw==", "bodyText": "worth checking not null\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                \t<#if item.value?size gt 0>\n          \n          \n            \n                \t<#if item.value?? && item.value?size gt 0>", "url": "https://github.com/kiegroup/droolsjbpm-integration/pull/2228#discussion_r486110957", "createdAt": "2020-09-10T07:03:55Z", "author": {"login": "afalhambra"}, "path": "kie-server-parent/kie-server-services/kie-server-services-jbpm-ui/src/main/resources/form-templates-providers/patternfly/input-form-group-template.html", "diffHunk": "@@ -62,6 +61,82 @@\n \t</#if>\n     <input id=\"${item.id}\" name=\"${item.name}\" type=\"date\" class=\"form-control\" value=\"${item.value}\" ${(item.required)?string('required', '')} pattern=\"${item.pattern}\"/>    \n </div>\n+<#elseif item.type == \"multipleInput\">\n+<div class=\"form-group\" data-i18n-prefix=\"DefaultFormGroupViewImpl.\">\n+    <label class=\"control-label\" data-i18n-prefix=\"FieldLabelViewImpl.\" data-field=\"fieldLabel\" for=\"\"><span data-field=\"labelText\">MultipleInput</span></label>\n+    <div data-field=\"fieldContainer\"><div data-field=\"container\" data-i18n-prefix=\"MultipleInputViewImpl.\"><div data-i18n-prefix=\"MultipleInputComponentViewImpl.\">\n+    <div class=\"toolbar-pf kie-wb-common-forms-lov-input-toolbar\" data-field=\"toolbar\" style=\"display: none;\">\n+        <form class=\"toolbar-pf-actions\">\n+            <div class=\"pull-right\" role=\"toolbar\">\n+                <div class=\"form-group\">\n+                    <button type=\"button\" class=\"btn btn-primary\" data-field=\"addButton\" title=\"Add new\"><span class=\"glyphicon glyphicon-plus\"></span></button>\n+                    <button type=\"button\" class=\"btn btn-danger\" data-field=\"removeButton\" title=\"Remove selected items\" disabled=\"\"><span class=\"glyphicon glyphicon-minus\"></span></button>\n+                </div>\n+                <div class=\"form-group\">\n+                    <button type=\"button\" class=\"btn btn-default\" data-field=\"promoteButton\" title=\"Move up selected items\" disabled=\"\"><span class=\"glyphicon glyphicon-arrow-up\"></span></button>\n+                    <button type=\"button\" class=\"btn btn-default\" data-field=\"degradeButton\" title=\"Move down selected items\" disabled=\"\"><span class=\"glyphicon glyphicon-arrow-down\"></span></button>\n+                </div>\n+            </div>\n+        </form>\n+    </div>\n+    <div class=\"row\" data-field=\"errorContainer\" style=\"display: none;\">\n+        <div class=\"col-md-12\">\n+            <div class=\"alert alert-danger alert-dismissable\">\n+                <button type=\"button\" class=\"close\" data-field=\"hideErrorButton\">\n+                    <span class=\"pficon pficon-close\"></span>\n+                </button>\n+                <span class=\"pficon pficon-error-circle-o\"></span>\n+                <div data-field=\"errorMessage\"></div>\n+            </div>\n+        </div>\n+    </div>\n+    <div class=\"row\">\n+        <div class=\"col-md-12\" data-field=\"table\"><div class=\"GHA-YCMDCOB\"><table cellspacing=\"0\" cellpadding=\"0\" style=\"width: 100%;\"><tbody><tr><td align=\"left\" width=\"33%\" style=\"vertical-align: top;\"><div class=\"GHA-YCMDDOB\" style=\"width: 100%;\"></div></td><td align=\"left\" width=\"33%\" style=\"vertical-align: top;\"><div class=\"GHA-YCMDBOB\" style=\"width: 100%;\"></div></td><td align=\"right\" width=\"33%\" style=\"vertical-align: top;\"><table cellspacing=\"0\" cellpadding=\"0\"><tbody><tr><td align=\"left\" style=\"vertical-align: top;\"><div class=\"GHA-YCMDFOB\" style=\"width: 100%;\"></div></td><td align=\"left\" style=\"vertical-align: top;\"><button type=\"button\" class=\"btn btn-default GHA-YCMDH4\" data-toggle=\"button\" title=\"Mostrar/esconder columnas\" aria-hidden=\"true\" style=\"display: none;\"><i class=\"fa fa-list-ul\"></i> </button></td></tr></tbody></table></td></tr></tbody></table><div><div __gwtcellbasedwidgetimpldispatchingfocus=\"true\" __gwtcellbasedwidgetimpldispatchingblur=\"true\" class=\"table GHA-YCMDM4 GHA-YCMDJ4\" style=\"position: relative; overflow: hidden; height: 180px;\"><div style=\"position: absolute; left: 0px; width: 100%; top: 0px; min-width: 20px; min-height: 20px; overflow: hidden;\"><div style=\"visibility: hidden; position: absolute; height: 100%; width: 100%; overflow: scroll; z-index: -1;\"><div style=\"height: 127px; width: 315px;\"></div></div><div style=\"visibility: hidden; position: absolute; height: 100%; width: 100%; overflow: scroll; z-index: -1;\"><div style=\"width: 200%; height: 200%;\"></div></div><div><table cellspacing=\"0\" class=\"table-hover table-striped table-bordered GHA-YCMDL4 table\" style=\"table-layout: fixed; width: 100%; margin-bottom: 0px;\"><colgroup><col style=\"width: 35px;\"><col></colgroup><thead><tr __gwt_header_row=\"0\"><th colspan=\"1\" class=\"gwtb3-d gwtb3-d\" __gwt_column=\"column-gwt-uid-325\" __gwt_header=\"header-gwt-uid-326\"></th><th colspan=\"1\" class=\"gwtb3-d gwtb3-d\" __gwt_column=\"column-gwt-uid-327\" __gwt_header=\"header-gwt-uid-328\">Value</th></tr></thead></table></div></div><div style=\"position: absolute; left: 0px; width: 100%; bottom: 0px; min-width: 20px; min-height: 20px; overflow: hidden; display: none;\"><div style=\"visibility: hidden; position: absolute; height: 100%; width: 100%; overflow: scroll; z-index: -1;\"><div style=\"height: 100px; width: 100px;\"></div></div><div style=\"visibility: hidden; position: absolute; height: 100%; width: 100%; overflow: scroll; z-index: -1;\"><div style=\"width: 200%; height: 200%;\"></div></div></div><div style=\"position: absolute; left: 0px; width: 100%; overflow: hidden; top: 27px; height: 153px;\"><div class=\"GHA-YCMDHI\" style=\"position: relative; overflow: hidden; height: 100%;\"><div aria-hidden=\"true\" style=\"position: absolute; z-index: -32767; top: -20ex; width: 10em; height: 10ex; visibility: hidden;\">&nbsp;</div><div style=\"position: absolute; overflow: hidden; left: 0px; top: 0px; right: -15px; bottom: -15px;\"><div style=\"position: absolute; zoom: 1; overflow: scroll; left: 0px; top: 0px; right: 0px; bottom: 0px;\"><div class=\"GHA-YCMDCB\" style=\"position: relative; zoom: 1; min-width: 20px; min-height: 20px; display: block;\"><div style=\"visibility: hidden; position: absolute; height: 100%; width: 100%; overflow: scroll; z-index: -1;\"><div style=\"height: 126px; width: 315px;\"></div></div><div style=\"visibility: hidden; position: absolute; height: 100%; width: 100%; overflow: scroll; z-index: -1;\"><div style=\"width: 200%; height: 200%;\"></div></div><table align=\"center\" class=\"table\" style=\"\"><colgroup><col></colgroup><tbody><tr><td><span class=\"label label-default\">No Items</span></td></tr></tbody></table></div></div></div><div style=\"position: absolute; overflow: hidden; right: 0px; bottom: 0px; width: 0px; height: 0px;\"><div class=\"GHA-YCMDII\" style=\"position: absolute; left: 0px; top: 0px; right: 0px; bottom: 0px;\"></div></div><div style=\"position: absolute; overflow: hidden; left: 0px; top: 0px; right: 0px; bottom: 0px; display: none;\"><div class=\"GHA-YCMDCPB GHA-YCMDCB\" style=\"height: 15px; position: absolute; left: 0px; top: 0px; right: 0px; bottom: 0px;\"><div class=\"GHA-YCMDBPB GHA-YCMDJI\"> <div class=\"GHA-YCMDAPB\"></div> </div></div></div><div style=\"position: absolute; overflow: hidden; top: 0px; right: 0px; bottom: 0px; width: 15px; display: none;\"><div class=\"GHA-YCMDOI GHA-YCMDCB\" style=\"width: 15px; position: absolute; left: 0px; top: 0px; right: 0px; bottom: 0px;\"><div class=\"GHA-YCMDNI GHA-YCMDLI\"> <div style=\"height: 26px;\"></div> </div></div></div></div></div></div></div><table cellspacing=\"0\" cellpadding=\"0\" style=\"width: 100%;\"><tbody><tr><td align=\"left\" width=\"50%\" style=\"vertical-align: middle;\"><select class=\"form-control\" aria-hidden=\"true\" style=\"width: 100px; display: none;\"><option value=\"5\">5 Objetos</option><option value=\"10\">10 Objetos</option><option value=\"15\">15 Objetos</option><option value=\"20\">20 Objetos</option></select></td><td align=\"right\" width=\"50%\" style=\"vertical-align: top;\"><table cellspacing=\"0\" cellpadding=\"0\" class=\"pagination pagination-right pull-right GHA-YCMDEOB\"><tbody><tr><td align=\"left\" class=\"GHA-YCMDF4\" style=\"vertical-align: middle;\"><button type=\"button\" class=\"btn btn-default disabled\" disabled=\"\"><i class=\"fa fa-angle-double-left\"></i> </button></td><td align=\"left\" class=\"GHA-YCMDF4\" style=\"vertical-align: middle;\"><button type=\"button\" class=\"btn btn-default disabled\" disabled=\"\"><i class=\"fa fa-angle-left\"></i> </button></td><td align=\"left\" class=\"GHA-YCMDG4\" style=\"vertical-align: middle;\"><div class=\"gwt-HTML\">0 de 0</div></td><td align=\"left\" class=\"GHA-YCMDF4\" style=\"vertical-align: middle;\"><button type=\"button\" class=\"btn btn-default disabled\" disabled=\"\"><i class=\"fa fa-angle-right\"></i> </button></td><td align=\"left\" class=\"GHA-YCMDF4\" style=\"vertical-align: middle;\"><button type=\"button\" class=\"btn btn-default disabled\" disabled=\"\" aria-hidden=\"true\" style=\"display: none;\"><i class=\"fa fa-fast-forward\"></i> </button></td><td align=\"left\" class=\"GHA-YCMDF4\" style=\"vertical-align: middle;\"><button type=\"button\" class=\"btn btn-default disabled\" disabled=\"\" aria-hidden=\"true\" style=\"display: none;\"><i class=\"fa fa-angle-double-right\"></i> </button></td></tr></tbody></table></td></tr></tbody></table></div></div>\n+    </div>\n+</div></div></div>\n+    <div data-field=\"helpBlock\" class=\"help-block\"></div>\n+</div>\n+<#elseif item.type == \"documentCollection\">\n+<div>\n+\t<label for=\"${item.id}\">${item.label}</label> \n+    <div id=\"${item.id}\" data-field=\"documentCollection\">\n+    \t<#if item.value?size gt 0>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "85030fa786bdc5775b1bd91bf0921f14c95c8d6d"}, "originalPosition": 48}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjEyNzA0MA==", "bodyText": "Should be browse upload\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\t                    <a data-field=\"dragFilesAnchor\" data-i18n-key=\"dragFilesAnchor\">browser to download</a>\n          \n          \n            \n            \t\t                    <a data-field=\"dragFilesAnchor\" data-i18n-key=\"dragFilesAnchor\">browse to upload</a>", "url": "https://github.com/kiegroup/droolsjbpm-integration/pull/2228#discussion_r486127040", "createdAt": "2020-09-10T07:34:25Z", "author": {"login": "afalhambra"}, "path": "kie-server-parent/kie-server-services/kie-server-services-jbpm-ui/src/main/resources/form-templates-providers/bootstrap/input-form-group-template.html", "diffHunk": "@@ -70,6 +70,47 @@\n \t</#if>\n     <input id=\"${item.id}\" data-slider-id='${item.id}Slider' data-slider-value=\"${item.value}\" name=\"${item.name}\" data-slider-min=\"${item.min}\" data-slider-max=\"${item.max}\" data-slider-step=\"${item.step}\" type=\"text\" class=\"form-control\" value=\"${item.value}\" ${(item.required)?string('required', '')} data-slider-tooltip=\"hide\" data-slider-handle=\"triangle\" style=\"width: 100%;\"/>    \n </div>\n+<#elseif item.type == \"documentCollection\">\n+<div>\n+\t<label for=\"${item.id}\">${item.label}</label> \n+    <div id=\"${item.id}\" data-field=\"documentCollection\">\n+    \t<#if item.value?size gt 0>\n+    \t    <#assign documents=item.value>\n+\t\t\t<#list documents as file>\n+\t\t\t<div class=\"document\"> \n+\t\t\t\t<span data-field=\"state\"></span>\n+\t\t\t\t<span class=\"kie-wb-common-forms-docs-upload-content vertical-\">\n+\t\t\t\t        <a data-field=\"document\" target=\"_blank\" data-name=\"${file.name}\" data-bytes=\"${file.content}\">${file.name}</a>\n+\t\t\t\t</span>\n+\t\t\t\t<span data-field=\"actions\" class=\"kie-wb-common-forms-docs-upload-content\"><span aria-hidden=\"true\" class=\"close\">\u00d7</span></span>\n+\t\t\t</div>\n+\t\t\t</#list>\n+\t\t    <div class=\"kie-wb-common-forms-docs-upload\" data-field=\"dropRegion\" >\n+\t\t\t<div class=\"kie-wb-common-forms-docs-upload-dropHere\"  data-field=\"dropHere\">\n+\t            <div class=\"kie-wb-common-forms-docs-upload-dropHere-content\">\n+\t                <h3 data-i18n-key=\"dropFilesHere\">Drop files here</h3>\n+\t            </div>\n+\t        </div>\n+\t        </div>\n+\t\t<#else>\n+\t\t    <div class=\"kie-wb-common-forms-docs-upload\" data-field=\"dropRegion\" >\n+\t        \t<div class=\"kie-wb-common-forms-docs-upload-empty\" data-field=\"emptyState\">\n+\t            \t<div class=\"kie-wb-common-forms-docs-upload-empty-content\"  data-field=\"dragHere\" >\n+\t\t                <h3>\n+\t\t                    <span data-i18n-key=\"dragFilesText\">Drag files here or</span>\n+\t\t                    <a data-field=\"dragFilesAnchor\" data-i18n-key=\"dragFilesAnchor\">browser to download</a>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "85030fa786bdc5775b1bd91bf0921f14c95c8d6d"}, "originalPosition": 32}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjEzMjQ5Mw==", "bodyText": "There is no javascript functionality linked to any onClick event to browse and upload files from your computer - only drag&drop works", "url": "https://github.com/kiegroup/droolsjbpm-integration/pull/2228#discussion_r486132493", "createdAt": "2020-09-10T07:44:14Z", "author": {"login": "afalhambra"}, "path": "kie-server-parent/kie-server-services/kie-server-services-jbpm-ui/src/main/resources/form-templates-providers/bootstrap/input-form-group-template.html", "diffHunk": "@@ -70,6 +70,47 @@\n \t</#if>\n     <input id=\"${item.id}\" data-slider-id='${item.id}Slider' data-slider-value=\"${item.value}\" name=\"${item.name}\" data-slider-min=\"${item.min}\" data-slider-max=\"${item.max}\" data-slider-step=\"${item.step}\" type=\"text\" class=\"form-control\" value=\"${item.value}\" ${(item.required)?string('required', '')} data-slider-tooltip=\"hide\" data-slider-handle=\"triangle\" style=\"width: 100%;\"/>    \n </div>\n+<#elseif item.type == \"documentCollection\">\n+<div>\n+\t<label for=\"${item.id}\">${item.label}</label> \n+    <div id=\"${item.id}\" data-field=\"documentCollection\">\n+    \t<#if item.value?size gt 0>\n+    \t    <#assign documents=item.value>\n+\t\t\t<#list documents as file>\n+\t\t\t<div class=\"document\"> \n+\t\t\t\t<span data-field=\"state\"></span>\n+\t\t\t\t<span class=\"kie-wb-common-forms-docs-upload-content vertical-\">\n+\t\t\t\t        <a data-field=\"document\" target=\"_blank\" data-name=\"${file.name}\" data-bytes=\"${file.content}\">${file.name}</a>\n+\t\t\t\t</span>\n+\t\t\t\t<span data-field=\"actions\" class=\"kie-wb-common-forms-docs-upload-content\"><span aria-hidden=\"true\" class=\"close\">\u00d7</span></span>\n+\t\t\t</div>\n+\t\t\t</#list>\n+\t\t    <div class=\"kie-wb-common-forms-docs-upload\" data-field=\"dropRegion\" >\n+\t\t\t<div class=\"kie-wb-common-forms-docs-upload-dropHere\"  data-field=\"dropHere\">\n+\t            <div class=\"kie-wb-common-forms-docs-upload-dropHere-content\">\n+\t                <h3 data-i18n-key=\"dropFilesHere\">Drop files here</h3>\n+\t            </div>\n+\t        </div>\n+\t        </div>\n+\t\t<#else>\n+\t\t    <div class=\"kie-wb-common-forms-docs-upload\" data-field=\"dropRegion\" >\n+\t        \t<div class=\"kie-wb-common-forms-docs-upload-empty\" data-field=\"emptyState\">\n+\t            \t<div class=\"kie-wb-common-forms-docs-upload-empty-content\"  data-field=\"dragHere\" >\n+\t\t                <h3>\n+\t\t                    <span data-i18n-key=\"dragFilesText\">Drag files here or</span>\n+\t\t                    <a data-field=\"dragFilesAnchor\" data-i18n-key=\"dragFilesAnchor\">browser to download</a>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "85030fa786bdc5775b1bd91bf0921f14c95c8d6d"}, "originalPosition": 32}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjEzMjc4Mg==", "bodyText": "There is no javascript functionality linked to any onClick event to browse and upload files from your computer - only drag&drop works", "url": "https://github.com/kiegroup/droolsjbpm-integration/pull/2228#discussion_r486132782", "createdAt": "2020-09-10T07:44:43Z", "author": {"login": "afalhambra"}, "path": "kie-server-parent/kie-server-services/kie-server-services-jbpm-ui/src/main/resources/form-templates-providers/patternfly/input-form-group-template.html", "diffHunk": "@@ -62,6 +61,82 @@\n \t</#if>\n     <input id=\"${item.id}\" name=\"${item.name}\" type=\"date\" class=\"form-control\" value=\"${item.value}\" ${(item.required)?string('required', '')} pattern=\"${item.pattern}\"/>    \n </div>\n+<#elseif item.type == \"multipleInput\">\n+<div class=\"form-group\" data-i18n-prefix=\"DefaultFormGroupViewImpl.\">\n+    <label class=\"control-label\" data-i18n-prefix=\"FieldLabelViewImpl.\" data-field=\"fieldLabel\" for=\"\"><span data-field=\"labelText\">MultipleInput</span></label>\n+    <div data-field=\"fieldContainer\"><div data-field=\"container\" data-i18n-prefix=\"MultipleInputViewImpl.\"><div data-i18n-prefix=\"MultipleInputComponentViewImpl.\">\n+    <div class=\"toolbar-pf kie-wb-common-forms-lov-input-toolbar\" data-field=\"toolbar\" style=\"display: none;\">\n+        <form class=\"toolbar-pf-actions\">\n+            <div class=\"pull-right\" role=\"toolbar\">\n+                <div class=\"form-group\">\n+                    <button type=\"button\" class=\"btn btn-primary\" data-field=\"addButton\" title=\"Add new\"><span class=\"glyphicon glyphicon-plus\"></span></button>\n+                    <button type=\"button\" class=\"btn btn-danger\" data-field=\"removeButton\" title=\"Remove selected items\" disabled=\"\"><span class=\"glyphicon glyphicon-minus\"></span></button>\n+                </div>\n+                <div class=\"form-group\">\n+                    <button type=\"button\" class=\"btn btn-default\" data-field=\"promoteButton\" title=\"Move up selected items\" disabled=\"\"><span class=\"glyphicon glyphicon-arrow-up\"></span></button>\n+                    <button type=\"button\" class=\"btn btn-default\" data-field=\"degradeButton\" title=\"Move down selected items\" disabled=\"\"><span class=\"glyphicon glyphicon-arrow-down\"></span></button>\n+                </div>\n+            </div>\n+        </form>\n+    </div>\n+    <div class=\"row\" data-field=\"errorContainer\" style=\"display: none;\">\n+        <div class=\"col-md-12\">\n+            <div class=\"alert alert-danger alert-dismissable\">\n+                <button type=\"button\" class=\"close\" data-field=\"hideErrorButton\">\n+                    <span class=\"pficon pficon-close\"></span>\n+                </button>\n+                <span class=\"pficon pficon-error-circle-o\"></span>\n+                <div data-field=\"errorMessage\"></div>\n+            </div>\n+        </div>\n+    </div>\n+    <div class=\"row\">\n+        <div class=\"col-md-12\" data-field=\"table\"><div class=\"GHA-YCMDCOB\"><table cellspacing=\"0\" cellpadding=\"0\" style=\"width: 100%;\"><tbody><tr><td align=\"left\" width=\"33%\" style=\"vertical-align: top;\"><div class=\"GHA-YCMDDOB\" style=\"width: 100%;\"></div></td><td align=\"left\" width=\"33%\" style=\"vertical-align: top;\"><div class=\"GHA-YCMDBOB\" style=\"width: 100%;\"></div></td><td align=\"right\" width=\"33%\" style=\"vertical-align: top;\"><table cellspacing=\"0\" cellpadding=\"0\"><tbody><tr><td align=\"left\" style=\"vertical-align: top;\"><div class=\"GHA-YCMDFOB\" style=\"width: 100%;\"></div></td><td align=\"left\" style=\"vertical-align: top;\"><button type=\"button\" class=\"btn btn-default GHA-YCMDH4\" data-toggle=\"button\" title=\"Mostrar/esconder columnas\" aria-hidden=\"true\" style=\"display: none;\"><i class=\"fa fa-list-ul\"></i> </button></td></tr></tbody></table></td></tr></tbody></table><div><div __gwtcellbasedwidgetimpldispatchingfocus=\"true\" __gwtcellbasedwidgetimpldispatchingblur=\"true\" class=\"table GHA-YCMDM4 GHA-YCMDJ4\" style=\"position: relative; overflow: hidden; height: 180px;\"><div style=\"position: absolute; left: 0px; width: 100%; top: 0px; min-width: 20px; min-height: 20px; overflow: hidden;\"><div style=\"visibility: hidden; position: absolute; height: 100%; width: 100%; overflow: scroll; z-index: -1;\"><div style=\"height: 127px; width: 315px;\"></div></div><div style=\"visibility: hidden; position: absolute; height: 100%; width: 100%; overflow: scroll; z-index: -1;\"><div style=\"width: 200%; height: 200%;\"></div></div><div><table cellspacing=\"0\" class=\"table-hover table-striped table-bordered GHA-YCMDL4 table\" style=\"table-layout: fixed; width: 100%; margin-bottom: 0px;\"><colgroup><col style=\"width: 35px;\"><col></colgroup><thead><tr __gwt_header_row=\"0\"><th colspan=\"1\" class=\"gwtb3-d gwtb3-d\" __gwt_column=\"column-gwt-uid-325\" __gwt_header=\"header-gwt-uid-326\"></th><th colspan=\"1\" class=\"gwtb3-d gwtb3-d\" __gwt_column=\"column-gwt-uid-327\" __gwt_header=\"header-gwt-uid-328\">Value</th></tr></thead></table></div></div><div style=\"position: absolute; left: 0px; width: 100%; bottom: 0px; min-width: 20px; min-height: 20px; overflow: hidden; display: none;\"><div style=\"visibility: hidden; position: absolute; height: 100%; width: 100%; overflow: scroll; z-index: -1;\"><div style=\"height: 100px; width: 100px;\"></div></div><div style=\"visibility: hidden; position: absolute; height: 100%; width: 100%; overflow: scroll; z-index: -1;\"><div style=\"width: 200%; height: 200%;\"></div></div></div><div style=\"position: absolute; left: 0px; width: 100%; overflow: hidden; top: 27px; height: 153px;\"><div class=\"GHA-YCMDHI\" style=\"position: relative; overflow: hidden; height: 100%;\"><div aria-hidden=\"true\" style=\"position: absolute; z-index: -32767; top: -20ex; width: 10em; height: 10ex; visibility: hidden;\">&nbsp;</div><div style=\"position: absolute; overflow: hidden; left: 0px; top: 0px; right: -15px; bottom: -15px;\"><div style=\"position: absolute; zoom: 1; overflow: scroll; left: 0px; top: 0px; right: 0px; bottom: 0px;\"><div class=\"GHA-YCMDCB\" style=\"position: relative; zoom: 1; min-width: 20px; min-height: 20px; display: block;\"><div style=\"visibility: hidden; position: absolute; height: 100%; width: 100%; overflow: scroll; z-index: -1;\"><div style=\"height: 126px; width: 315px;\"></div></div><div style=\"visibility: hidden; position: absolute; height: 100%; width: 100%; overflow: scroll; z-index: -1;\"><div style=\"width: 200%; height: 200%;\"></div></div><table align=\"center\" class=\"table\" style=\"\"><colgroup><col></colgroup><tbody><tr><td><span class=\"label label-default\">No Items</span></td></tr></tbody></table></div></div></div><div style=\"position: absolute; overflow: hidden; right: 0px; bottom: 0px; width: 0px; height: 0px;\"><div class=\"GHA-YCMDII\" style=\"position: absolute; left: 0px; top: 0px; right: 0px; bottom: 0px;\"></div></div><div style=\"position: absolute; overflow: hidden; left: 0px; top: 0px; right: 0px; bottom: 0px; display: none;\"><div class=\"GHA-YCMDCPB GHA-YCMDCB\" style=\"height: 15px; position: absolute; left: 0px; top: 0px; right: 0px; bottom: 0px;\"><div class=\"GHA-YCMDBPB GHA-YCMDJI\"> <div class=\"GHA-YCMDAPB\"></div> </div></div></div><div style=\"position: absolute; overflow: hidden; top: 0px; right: 0px; bottom: 0px; width: 15px; display: none;\"><div class=\"GHA-YCMDOI GHA-YCMDCB\" style=\"width: 15px; position: absolute; left: 0px; top: 0px; right: 0px; bottom: 0px;\"><div class=\"GHA-YCMDNI GHA-YCMDLI\"> <div style=\"height: 26px;\"></div> </div></div></div></div></div></div></div><table cellspacing=\"0\" cellpadding=\"0\" style=\"width: 100%;\"><tbody><tr><td align=\"left\" width=\"50%\" style=\"vertical-align: middle;\"><select class=\"form-control\" aria-hidden=\"true\" style=\"width: 100px; display: none;\"><option value=\"5\">5 Objetos</option><option value=\"10\">10 Objetos</option><option value=\"15\">15 Objetos</option><option value=\"20\">20 Objetos</option></select></td><td align=\"right\" width=\"50%\" style=\"vertical-align: top;\"><table cellspacing=\"0\" cellpadding=\"0\" class=\"pagination pagination-right pull-right GHA-YCMDEOB\"><tbody><tr><td align=\"left\" class=\"GHA-YCMDF4\" style=\"vertical-align: middle;\"><button type=\"button\" class=\"btn btn-default disabled\" disabled=\"\"><i class=\"fa fa-angle-double-left\"></i> </button></td><td align=\"left\" class=\"GHA-YCMDF4\" style=\"vertical-align: middle;\"><button type=\"button\" class=\"btn btn-default disabled\" disabled=\"\"><i class=\"fa fa-angle-left\"></i> </button></td><td align=\"left\" class=\"GHA-YCMDG4\" style=\"vertical-align: middle;\"><div class=\"gwt-HTML\">0 de 0</div></td><td align=\"left\" class=\"GHA-YCMDF4\" style=\"vertical-align: middle;\"><button type=\"button\" class=\"btn btn-default disabled\" disabled=\"\"><i class=\"fa fa-angle-right\"></i> </button></td><td align=\"left\" class=\"GHA-YCMDF4\" style=\"vertical-align: middle;\"><button type=\"button\" class=\"btn btn-default disabled\" disabled=\"\" aria-hidden=\"true\" style=\"display: none;\"><i class=\"fa fa-fast-forward\"></i> </button></td><td align=\"left\" class=\"GHA-YCMDF4\" style=\"vertical-align: middle;\"><button type=\"button\" class=\"btn btn-default disabled\" disabled=\"\" aria-hidden=\"true\" style=\"display: none;\"><i class=\"fa fa-angle-double-right\"></i> </button></td></tr></tbody></table></td></tr></tbody></table></div></div>\n+    </div>\n+</div></div></div>\n+    <div data-field=\"helpBlock\" class=\"help-block\"></div>\n+</div>\n+<#elseif item.type == \"documentCollection\">\n+<div>\n+\t<label for=\"${item.id}\">${item.label}</label> \n+    <div id=\"${item.id}\" data-field=\"documentCollection\">\n+    \t<#if item.value?size gt 0>\n+    \t    <#assign documents=item.value>\n+\t\t\t<#list documents as file>\n+\t\t\t<div class=\"document\"> \n+\t\t\t\t<span data-field=\"state\"></span>\n+\t\t\t\t<span class=\"kie-wb-common-forms-docs-upload-content vertical-\">\n+\t\t\t\t        <a data-field=\"document\" target=\"_blank\" data-name=\"${file.name}\" data-bytes=\"${file.content}\">${file.name}</a>\n+\t\t\t\t</span>\n+\t\t\t\t<span data-field=\"actions\" class=\"kie-wb-common-forms-docs-upload-content\"><span aria-hidden=\"true\" class=\"close\">\u00d7</span></span>\n+\t\t\t</div>\n+\t\t\t</#list>\n+\t\t    <div class=\"kie-wb-common-forms-docs-upload\" data-field=\"dropRegion\" >\n+\t\t\t<div class=\"kie-wb-common-forms-docs-upload-dropHere\"  data-field=\"dropHere\">\n+\t            <div class=\"kie-wb-common-forms-docs-upload-dropHere-content\">\n+\t                <h3 data-i18n-key=\"dropFilesHere\">Drop files here</h3>\n+\t            </div>\n+\t        </div>\n+\t        </div>\n+\t\t<#else>\n+\t\t    <div class=\"kie-wb-common-forms-docs-upload\" data-field=\"dropRegion\" >\n+\t        \t<div class=\"kie-wb-common-forms-docs-upload-empty\" data-field=\"emptyState\">\n+\t            \t<div class=\"kie-wb-common-forms-docs-upload-empty-content\"  data-field=\"dragHere\" >\n+\t\t                <h3>\n+\t\t                    <span data-i18n-key=\"dragFilesText\">Drag files here or</span>\n+\t\t                    <a data-field=\"dragFilesAnchor\" data-i18n-key=\"dragFilesAnchor\">browser to download</a>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "85030fa786bdc5775b1bd91bf0921f14c95c8d6d"}, "originalPosition": 72}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjEzMzA4MA==", "bodyText": "Should be browse to upload\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\t                    <a data-field=\"dragFilesAnchor\" data-i18n-key=\"dragFilesAnchor\">browser to download</a>\n          \n          \n            \n            \t\t                    <a data-field=\"dragFilesAnchor\" data-i18n-key=\"dragFilesAnchor\">browse to upload</a>", "url": "https://github.com/kiegroup/droolsjbpm-integration/pull/2228#discussion_r486133080", "createdAt": "2020-09-10T07:45:06Z", "author": {"login": "afalhambra"}, "path": "kie-server-parent/kie-server-services/kie-server-services-jbpm-ui/src/main/resources/form-templates-providers/patternfly/input-form-group-template.html", "diffHunk": "@@ -62,6 +61,82 @@\n \t</#if>\n     <input id=\"${item.id}\" name=\"${item.name}\" type=\"date\" class=\"form-control\" value=\"${item.value}\" ${(item.required)?string('required', '')} pattern=\"${item.pattern}\"/>    \n </div>\n+<#elseif item.type == \"multipleInput\">\n+<div class=\"form-group\" data-i18n-prefix=\"DefaultFormGroupViewImpl.\">\n+    <label class=\"control-label\" data-i18n-prefix=\"FieldLabelViewImpl.\" data-field=\"fieldLabel\" for=\"\"><span data-field=\"labelText\">MultipleInput</span></label>\n+    <div data-field=\"fieldContainer\"><div data-field=\"container\" data-i18n-prefix=\"MultipleInputViewImpl.\"><div data-i18n-prefix=\"MultipleInputComponentViewImpl.\">\n+    <div class=\"toolbar-pf kie-wb-common-forms-lov-input-toolbar\" data-field=\"toolbar\" style=\"display: none;\">\n+        <form class=\"toolbar-pf-actions\">\n+            <div class=\"pull-right\" role=\"toolbar\">\n+                <div class=\"form-group\">\n+                    <button type=\"button\" class=\"btn btn-primary\" data-field=\"addButton\" title=\"Add new\"><span class=\"glyphicon glyphicon-plus\"></span></button>\n+                    <button type=\"button\" class=\"btn btn-danger\" data-field=\"removeButton\" title=\"Remove selected items\" disabled=\"\"><span class=\"glyphicon glyphicon-minus\"></span></button>\n+                </div>\n+                <div class=\"form-group\">\n+                    <button type=\"button\" class=\"btn btn-default\" data-field=\"promoteButton\" title=\"Move up selected items\" disabled=\"\"><span class=\"glyphicon glyphicon-arrow-up\"></span></button>\n+                    <button type=\"button\" class=\"btn btn-default\" data-field=\"degradeButton\" title=\"Move down selected items\" disabled=\"\"><span class=\"glyphicon glyphicon-arrow-down\"></span></button>\n+                </div>\n+            </div>\n+        </form>\n+    </div>\n+    <div class=\"row\" data-field=\"errorContainer\" style=\"display: none;\">\n+        <div class=\"col-md-12\">\n+            <div class=\"alert alert-danger alert-dismissable\">\n+                <button type=\"button\" class=\"close\" data-field=\"hideErrorButton\">\n+                    <span class=\"pficon pficon-close\"></span>\n+                </button>\n+                <span class=\"pficon pficon-error-circle-o\"></span>\n+                <div data-field=\"errorMessage\"></div>\n+            </div>\n+        </div>\n+    </div>\n+    <div class=\"row\">\n+        <div class=\"col-md-12\" data-field=\"table\"><div class=\"GHA-YCMDCOB\"><table cellspacing=\"0\" cellpadding=\"0\" style=\"width: 100%;\"><tbody><tr><td align=\"left\" width=\"33%\" style=\"vertical-align: top;\"><div class=\"GHA-YCMDDOB\" style=\"width: 100%;\"></div></td><td align=\"left\" width=\"33%\" style=\"vertical-align: top;\"><div class=\"GHA-YCMDBOB\" style=\"width: 100%;\"></div></td><td align=\"right\" width=\"33%\" style=\"vertical-align: top;\"><table cellspacing=\"0\" cellpadding=\"0\"><tbody><tr><td align=\"left\" style=\"vertical-align: top;\"><div class=\"GHA-YCMDFOB\" style=\"width: 100%;\"></div></td><td align=\"left\" style=\"vertical-align: top;\"><button type=\"button\" class=\"btn btn-default GHA-YCMDH4\" data-toggle=\"button\" title=\"Mostrar/esconder columnas\" aria-hidden=\"true\" style=\"display: none;\"><i class=\"fa fa-list-ul\"></i> </button></td></tr></tbody></table></td></tr></tbody></table><div><div __gwtcellbasedwidgetimpldispatchingfocus=\"true\" __gwtcellbasedwidgetimpldispatchingblur=\"true\" class=\"table GHA-YCMDM4 GHA-YCMDJ4\" style=\"position: relative; overflow: hidden; height: 180px;\"><div style=\"position: absolute; left: 0px; width: 100%; top: 0px; min-width: 20px; min-height: 20px; overflow: hidden;\"><div style=\"visibility: hidden; position: absolute; height: 100%; width: 100%; overflow: scroll; z-index: -1;\"><div style=\"height: 127px; width: 315px;\"></div></div><div style=\"visibility: hidden; position: absolute; height: 100%; width: 100%; overflow: scroll; z-index: -1;\"><div style=\"width: 200%; height: 200%;\"></div></div><div><table cellspacing=\"0\" class=\"table-hover table-striped table-bordered GHA-YCMDL4 table\" style=\"table-layout: fixed; width: 100%; margin-bottom: 0px;\"><colgroup><col style=\"width: 35px;\"><col></colgroup><thead><tr __gwt_header_row=\"0\"><th colspan=\"1\" class=\"gwtb3-d gwtb3-d\" __gwt_column=\"column-gwt-uid-325\" __gwt_header=\"header-gwt-uid-326\"></th><th colspan=\"1\" class=\"gwtb3-d gwtb3-d\" __gwt_column=\"column-gwt-uid-327\" __gwt_header=\"header-gwt-uid-328\">Value</th></tr></thead></table></div></div><div style=\"position: absolute; left: 0px; width: 100%; bottom: 0px; min-width: 20px; min-height: 20px; overflow: hidden; display: none;\"><div style=\"visibility: hidden; position: absolute; height: 100%; width: 100%; overflow: scroll; z-index: -1;\"><div style=\"height: 100px; width: 100px;\"></div></div><div style=\"visibility: hidden; position: absolute; height: 100%; width: 100%; overflow: scroll; z-index: -1;\"><div style=\"width: 200%; height: 200%;\"></div></div></div><div style=\"position: absolute; left: 0px; width: 100%; overflow: hidden; top: 27px; height: 153px;\"><div class=\"GHA-YCMDHI\" style=\"position: relative; overflow: hidden; height: 100%;\"><div aria-hidden=\"true\" style=\"position: absolute; z-index: -32767; top: -20ex; width: 10em; height: 10ex; visibility: hidden;\">&nbsp;</div><div style=\"position: absolute; overflow: hidden; left: 0px; top: 0px; right: -15px; bottom: -15px;\"><div style=\"position: absolute; zoom: 1; overflow: scroll; left: 0px; top: 0px; right: 0px; bottom: 0px;\"><div class=\"GHA-YCMDCB\" style=\"position: relative; zoom: 1; min-width: 20px; min-height: 20px; display: block;\"><div style=\"visibility: hidden; position: absolute; height: 100%; width: 100%; overflow: scroll; z-index: -1;\"><div style=\"height: 126px; width: 315px;\"></div></div><div style=\"visibility: hidden; position: absolute; height: 100%; width: 100%; overflow: scroll; z-index: -1;\"><div style=\"width: 200%; height: 200%;\"></div></div><table align=\"center\" class=\"table\" style=\"\"><colgroup><col></colgroup><tbody><tr><td><span class=\"label label-default\">No Items</span></td></tr></tbody></table></div></div></div><div style=\"position: absolute; overflow: hidden; right: 0px; bottom: 0px; width: 0px; height: 0px;\"><div class=\"GHA-YCMDII\" style=\"position: absolute; left: 0px; top: 0px; right: 0px; bottom: 0px;\"></div></div><div style=\"position: absolute; overflow: hidden; left: 0px; top: 0px; right: 0px; bottom: 0px; display: none;\"><div class=\"GHA-YCMDCPB GHA-YCMDCB\" style=\"height: 15px; position: absolute; left: 0px; top: 0px; right: 0px; bottom: 0px;\"><div class=\"GHA-YCMDBPB GHA-YCMDJI\"> <div class=\"GHA-YCMDAPB\"></div> </div></div></div><div style=\"position: absolute; overflow: hidden; top: 0px; right: 0px; bottom: 0px; width: 15px; display: none;\"><div class=\"GHA-YCMDOI GHA-YCMDCB\" style=\"width: 15px; position: absolute; left: 0px; top: 0px; right: 0px; bottom: 0px;\"><div class=\"GHA-YCMDNI GHA-YCMDLI\"> <div style=\"height: 26px;\"></div> </div></div></div></div></div></div></div><table cellspacing=\"0\" cellpadding=\"0\" style=\"width: 100%;\"><tbody><tr><td align=\"left\" width=\"50%\" style=\"vertical-align: middle;\"><select class=\"form-control\" aria-hidden=\"true\" style=\"width: 100px; display: none;\"><option value=\"5\">5 Objetos</option><option value=\"10\">10 Objetos</option><option value=\"15\">15 Objetos</option><option value=\"20\">20 Objetos</option></select></td><td align=\"right\" width=\"50%\" style=\"vertical-align: top;\"><table cellspacing=\"0\" cellpadding=\"0\" class=\"pagination pagination-right pull-right GHA-YCMDEOB\"><tbody><tr><td align=\"left\" class=\"GHA-YCMDF4\" style=\"vertical-align: middle;\"><button type=\"button\" class=\"btn btn-default disabled\" disabled=\"\"><i class=\"fa fa-angle-double-left\"></i> </button></td><td align=\"left\" class=\"GHA-YCMDF4\" style=\"vertical-align: middle;\"><button type=\"button\" class=\"btn btn-default disabled\" disabled=\"\"><i class=\"fa fa-angle-left\"></i> </button></td><td align=\"left\" class=\"GHA-YCMDG4\" style=\"vertical-align: middle;\"><div class=\"gwt-HTML\">0 de 0</div></td><td align=\"left\" class=\"GHA-YCMDF4\" style=\"vertical-align: middle;\"><button type=\"button\" class=\"btn btn-default disabled\" disabled=\"\"><i class=\"fa fa-angle-right\"></i> </button></td><td align=\"left\" class=\"GHA-YCMDF4\" style=\"vertical-align: middle;\"><button type=\"button\" class=\"btn btn-default disabled\" disabled=\"\" aria-hidden=\"true\" style=\"display: none;\"><i class=\"fa fa-fast-forward\"></i> </button></td><td align=\"left\" class=\"GHA-YCMDF4\" style=\"vertical-align: middle;\"><button type=\"button\" class=\"btn btn-default disabled\" disabled=\"\" aria-hidden=\"true\" style=\"display: none;\"><i class=\"fa fa-angle-double-right\"></i> </button></td></tr></tbody></table></td></tr></tbody></table></div></div>\n+    </div>\n+</div></div></div>\n+    <div data-field=\"helpBlock\" class=\"help-block\"></div>\n+</div>\n+<#elseif item.type == \"documentCollection\">\n+<div>\n+\t<label for=\"${item.id}\">${item.label}</label> \n+    <div id=\"${item.id}\" data-field=\"documentCollection\">\n+    \t<#if item.value?size gt 0>\n+    \t    <#assign documents=item.value>\n+\t\t\t<#list documents as file>\n+\t\t\t<div class=\"document\"> \n+\t\t\t\t<span data-field=\"state\"></span>\n+\t\t\t\t<span class=\"kie-wb-common-forms-docs-upload-content vertical-\">\n+\t\t\t\t        <a data-field=\"document\" target=\"_blank\" data-name=\"${file.name}\" data-bytes=\"${file.content}\">${file.name}</a>\n+\t\t\t\t</span>\n+\t\t\t\t<span data-field=\"actions\" class=\"kie-wb-common-forms-docs-upload-content\"><span aria-hidden=\"true\" class=\"close\">\u00d7</span></span>\n+\t\t\t</div>\n+\t\t\t</#list>\n+\t\t    <div class=\"kie-wb-common-forms-docs-upload\" data-field=\"dropRegion\" >\n+\t\t\t<div class=\"kie-wb-common-forms-docs-upload-dropHere\"  data-field=\"dropHere\">\n+\t            <div class=\"kie-wb-common-forms-docs-upload-dropHere-content\">\n+\t                <h3 data-i18n-key=\"dropFilesHere\">Drop files here</h3>\n+\t            </div>\n+\t        </div>\n+\t        </div>\n+\t\t<#else>\n+\t\t    <div class=\"kie-wb-common-forms-docs-upload\" data-field=\"dropRegion\" >\n+\t        \t<div class=\"kie-wb-common-forms-docs-upload-empty\" data-field=\"emptyState\">\n+\t            \t<div class=\"kie-wb-common-forms-docs-upload-empty-content\"  data-field=\"dragHere\" >\n+\t\t                <h3>\n+\t\t                    <span data-i18n-key=\"dragFilesText\">Drag files here or</span>\n+\t\t                    <a data-field=\"dragFilesAnchor\" data-i18n-key=\"dragFilesAnchor\">browser to download</a>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "85030fa786bdc5775b1bd91bf0921f14c95c8d6d"}, "originalPosition": 72}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "484a98e66724105d3f2190c0f0d95440938818d4", "author": {"user": null}, "url": "https://github.com/kiegroup/droolsjbpm-integration/commit/484a98e66724105d3f2190c0f0d95440938818d4", "committedDate": "2020-09-14T09:40:22Z", "message": "[JBPM-9321] Some form options can't be rendered in API response\n\nAdd DocumentCollection input"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "85030fa786bdc5775b1bd91bf0921f14c95c8d6d", "author": {"user": null}, "url": "https://github.com/kiegroup/droolsjbpm-integration/commit/85030fa786bdc5775b1bd91bf0921f14c95c8d6d", "committedDate": "2020-09-08T15:49:28Z", "message": "[JBPM-9321] Some form options can't be rendered in API response\n\nAdd DocumentCollection input"}, "afterCommit": {"oid": "484a98e66724105d3f2190c0f0d95440938818d4", "author": {"user": null}, "url": "https://github.com/kiegroup/droolsjbpm-integration/commit/484a98e66724105d3f2190c0f0d95440938818d4", "committedDate": "2020-09-14T09:40:22Z", "message": "[JBPM-9321] Some form options can't be rendered in API response\n\nAdd DocumentCollection input"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg4NDM1ODg4", "url": "https://github.com/kiegroup/droolsjbpm-integration/pull/2228#pullrequestreview-488435888", "createdAt": "2020-09-15T08:15:31Z", "commit": {"oid": "484a98e66724105d3f2190c0f0d95440938818d4"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQwODoxNTozMlrOHR2JDQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQwODo0Mzo0N1rOHR3QFg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODQ3NDg5Mw==", "bodyText": "Any updates on this?", "url": "https://github.com/kiegroup/droolsjbpm-integration/pull/2228#discussion_r488474893", "createdAt": "2020-09-15T08:15:32Z", "author": {"login": "afalhambra"}, "path": "kie-server-parent/kie-server-services/kie-server-services-jbpm-ui/src/main/java/org/kie/server/services/jbpm/ui/form/render/AbstractFormRenderer.java", "diffHunk": "@@ -379,14 +405,35 @@ protected void processFormLayout(FormInstance topLevelForm,\n                                 value = outputs.get(field.getBinding());\n                             }\n                             \n-                            item.setValue(value);\n+                            if(!fieldsExclusionTransformation.contains(fieldType)) {\n+                                item.setValue(value.toString());\n+                            } else {\n+                                DocumentCollection<Document> docColletion = (DocumentCollection<Document>) value;\n+                                docColletion.getDocuments().stream()\n+                                                           .map(e -> (DocumentImpl) e)\n+                                                           .forEach(DocumentImpl::load);\n+\n+                                List<DocumentItem> items = docColletion.getDocuments()\n+                                                               .stream()\n+                                                               .map(e -> new DocumentItem(e.getName(), Base64.getEncoder().encodeToString(e.getContent())))\n+                                                               .collect(Collectors.toList());\n+                                item.setValue(items);\n+                            }\n+                            \n+\n+\n                             item.setReadOnly(field.isReadOnly());\n                             item.setRequired(field.isRequired());\n-                            \n+\n                             // generate column content                    \n                             Map<String, Object> parameters = new HashMap<>();\n                             parameters.put(\"item\", item);\n-                            parameters.put(\"documentPath\", getDocumentPath()); // used to generate link for documents\n+                            if ((\"file\".equals(fieldType) || \"documentCollection\".equals(fieldType)) && !item.getValue().equals(\"{}\")) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjA5OTg1MQ=="}, "originalCommit": {"oid": "85030fa786bdc5775b1bd91bf0921f14c95c8d6d"}, "originalPosition": 119}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODQ3NTI4MA==", "bodyText": "sorry, can't see the change yet?", "url": "https://github.com/kiegroup/droolsjbpm-integration/pull/2228#discussion_r488475280", "createdAt": "2020-09-15T08:16:07Z", "author": {"login": "afalhambra"}, "path": "kie-server-parent/kie-server-services/kie-server-services-jbpm-ui/src/main/java/org/kie/server/services/jbpm/ui/form/render/AbstractFormRenderer.java", "diffHunk": "@@ -597,12 +644,19 @@ protected void appendFieldJSON(StringBuilder jsonTemplate, String type, String n\n     }\n \n     protected String getFieldType(String type) {\n+\n         if (type.contains(\"Integer\") || type.contains(\"Double\") || type.contains(\"Float\")) {\n             return \"Number(\";\n         } else if (type.contains(\"Boolean\")) {\n             return \"Boolean(\";\n         } else if (type.contains(\"Date\")) {\n             return \"Object(\";\n+        } else if (type.contains(\"Integer\") || type.contains(\"Double\") || type.contains(\"Float\")) {\n+            return \"Number(\";\n+        } else if (type.contains(\"Boolean\")) {\n+            return \"Boolean(\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTQwODgxMQ=="}, "originalCommit": {"oid": "85030fa786bdc5775b1bd91bf0921f14c95c8d6d"}, "originalPosition": 142}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODQ3NTQ0MA==", "bodyText": "Same here, can't see the change yet", "url": "https://github.com/kiegroup/droolsjbpm-integration/pull/2228#discussion_r488475440", "createdAt": "2020-09-15T08:16:24Z", "author": {"login": "afalhambra"}, "path": "kie-server-parent/kie-server-services/kie-server-services-jbpm-ui/src/main/java/org/kie/server/services/jbpm/ui/form/render/AbstractFormRenderer.java", "diffHunk": "@@ -597,12 +644,19 @@ protected void appendFieldJSON(StringBuilder jsonTemplate, String type, String n\n     }\n \n     protected String getFieldType(String type) {\n+\n         if (type.contains(\"Integer\") || type.contains(\"Double\") || type.contains(\"Float\")) {\n             return \"Number(\";\n         } else if (type.contains(\"Boolean\")) {\n             return \"Boolean(\";\n         } else if (type.contains(\"Date\")) {\n             return \"Object(\";\n+        } else if (type.contains(\"Integer\") || type.contains(\"Double\") || type.contains(\"Float\")) {\n+            return \"Number(\";\n+        } else if (type.contains(\"Boolean\")) {\n+            return \"Boolean(\";\n+        } else if (type.contains(\"Document\") || type.contains(\"documentCollection\") || type.contains(\"Date\")) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTQxMDQzNQ=="}, "originalCommit": {"oid": "85030fa786bdc5775b1bd91bf0921f14c95c8d6d"}, "originalPosition": 143}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODQ5Mjc4MQ==", "bodyText": "It should match with what it is designed in BC - I mean, form is allowing to upload files not only by drag&drop but also using a file browse through an upload button.", "url": "https://github.com/kiegroup/droolsjbpm-integration/pull/2228#discussion_r488492781", "createdAt": "2020-09-15T08:43:19Z", "author": {"login": "afalhambra"}, "path": "kie-server-parent/kie-server-services/kie-server-services-jbpm-ui/src/main/resources/form-templates-providers/patternfly/input-form-group-template.html", "diffHunk": "@@ -62,6 +61,81 @@\n \t</#if>\n     <input id=\"${item.id}\" name=\"${item.name}\" type=\"date\" class=\"form-control\" value=\"${item.value}\" ${(item.required)?string('required', '')} pattern=\"${item.pattern}\"/>    \n </div>\n+<#elseif item.type == \"multipleInput\">\n+<div class=\"form-group\" data-i18n-prefix=\"DefaultFormGroupViewImpl.\">\n+    <label class=\"control-label\" data-i18n-prefix=\"FieldLabelViewImpl.\" data-field=\"fieldLabel\" for=\"\"><span data-field=\"labelText\">MultipleInput</span></label>\n+    <div data-field=\"fieldContainer\"><div data-field=\"container\" data-i18n-prefix=\"MultipleInputViewImpl.\"><div data-i18n-prefix=\"MultipleInputComponentViewImpl.\">\n+    <div class=\"toolbar-pf kie-wb-common-forms-lov-input-toolbar\" data-field=\"toolbar\" style=\"display: none;\">\n+        <form class=\"toolbar-pf-actions\">\n+            <div class=\"pull-right\" role=\"toolbar\">\n+                <div class=\"form-group\">\n+                    <button type=\"button\" class=\"btn btn-primary\" data-field=\"addButton\" title=\"Add new\"><span class=\"glyphicon glyphicon-plus\"></span></button>\n+                    <button type=\"button\" class=\"btn btn-danger\" data-field=\"removeButton\" title=\"Remove selected items\" disabled=\"\"><span class=\"glyphicon glyphicon-minus\"></span></button>\n+                </div>\n+                <div class=\"form-group\">\n+                    <button type=\"button\" class=\"btn btn-default\" data-field=\"promoteButton\" title=\"Move up selected items\" disabled=\"\"><span class=\"glyphicon glyphicon-arrow-up\"></span></button>\n+                    <button type=\"button\" class=\"btn btn-default\" data-field=\"degradeButton\" title=\"Move down selected items\" disabled=\"\"><span class=\"glyphicon glyphicon-arrow-down\"></span></button>\n+                </div>\n+            </div>\n+        </form>\n+    </div>\n+    <div class=\"row\" data-field=\"errorContainer\" style=\"display: none;\">\n+        <div class=\"col-md-12\">\n+            <div class=\"alert alert-danger alert-dismissable\">\n+                <button type=\"button\" class=\"close\" data-field=\"hideErrorButton\">\n+                    <span class=\"pficon pficon-close\"></span>\n+                </button>\n+                <span class=\"pficon pficon-error-circle-o\"></span>\n+                <div data-field=\"errorMessage\"></div>\n+            </div>\n+        </div>\n+    </div>\n+    <div class=\"row\">\n+        <div class=\"col-md-12\" data-field=\"table\"><div class=\"GHA-YCMDCOB\"><table cellspacing=\"0\" cellpadding=\"0\" style=\"width: 100%;\"><tbody><tr><td align=\"left\" width=\"33%\" style=\"vertical-align: top;\"><div class=\"GHA-YCMDDOB\" style=\"width: 100%;\"></div></td><td align=\"left\" width=\"33%\" style=\"vertical-align: top;\"><div class=\"GHA-YCMDBOB\" style=\"width: 100%;\"></div></td><td align=\"right\" width=\"33%\" style=\"vertical-align: top;\"><table cellspacing=\"0\" cellpadding=\"0\"><tbody><tr><td align=\"left\" style=\"vertical-align: top;\"><div class=\"GHA-YCMDFOB\" style=\"width: 100%;\"></div></td><td align=\"left\" style=\"vertical-align: top;\"><button type=\"button\" class=\"btn btn-default GHA-YCMDH4\" data-toggle=\"button\" title=\"Mostrar/esconder columnas\" aria-hidden=\"true\" style=\"display: none;\"><i class=\"fa fa-list-ul\"></i> </button></td></tr></tbody></table></td></tr></tbody></table><div><div __gwtcellbasedwidgetimpldispatchingfocus=\"true\" __gwtcellbasedwidgetimpldispatchingblur=\"true\" class=\"table GHA-YCMDM4 GHA-YCMDJ4\" style=\"position: relative; overflow: hidden; height: 180px;\"><div style=\"position: absolute; left: 0px; width: 100%; top: 0px; min-width: 20px; min-height: 20px; overflow: hidden;\"><div style=\"visibility: hidden; position: absolute; height: 100%; width: 100%; overflow: scroll; z-index: -1;\"><div style=\"height: 127px; width: 315px;\"></div></div><div style=\"visibility: hidden; position: absolute; height: 100%; width: 100%; overflow: scroll; z-index: -1;\"><div style=\"width: 200%; height: 200%;\"></div></div><div><table cellspacing=\"0\" class=\"table-hover table-striped table-bordered GHA-YCMDL4 table\" style=\"table-layout: fixed; width: 100%; margin-bottom: 0px;\"><colgroup><col style=\"width: 35px;\"><col></colgroup><thead><tr __gwt_header_row=\"0\"><th colspan=\"1\" class=\"gwtb3-d gwtb3-d\" __gwt_column=\"column-gwt-uid-325\" __gwt_header=\"header-gwt-uid-326\"></th><th colspan=\"1\" class=\"gwtb3-d gwtb3-d\" __gwt_column=\"column-gwt-uid-327\" __gwt_header=\"header-gwt-uid-328\">Value</th></tr></thead></table></div></div><div style=\"position: absolute; left: 0px; width: 100%; bottom: 0px; min-width: 20px; min-height: 20px; overflow: hidden; display: none;\"><div style=\"visibility: hidden; position: absolute; height: 100%; width: 100%; overflow: scroll; z-index: -1;\"><div style=\"height: 100px; width: 100px;\"></div></div><div style=\"visibility: hidden; position: absolute; height: 100%; width: 100%; overflow: scroll; z-index: -1;\"><div style=\"width: 200%; height: 200%;\"></div></div></div><div style=\"position: absolute; left: 0px; width: 100%; overflow: hidden; top: 27px; height: 153px;\"><div class=\"GHA-YCMDHI\" style=\"position: relative; overflow: hidden; height: 100%;\"><div aria-hidden=\"true\" style=\"position: absolute; z-index: -32767; top: -20ex; width: 10em; height: 10ex; visibility: hidden;\">&nbsp;</div><div style=\"position: absolute; overflow: hidden; left: 0px; top: 0px; right: -15px; bottom: -15px;\"><div style=\"position: absolute; zoom: 1; overflow: scroll; left: 0px; top: 0px; right: 0px; bottom: 0px;\"><div class=\"GHA-YCMDCB\" style=\"position: relative; zoom: 1; min-width: 20px; min-height: 20px; display: block;\"><div style=\"visibility: hidden; position: absolute; height: 100%; width: 100%; overflow: scroll; z-index: -1;\"><div style=\"height: 126px; width: 315px;\"></div></div><div style=\"visibility: hidden; position: absolute; height: 100%; width: 100%; overflow: scroll; z-index: -1;\"><div style=\"width: 200%; height: 200%;\"></div></div><table align=\"center\" class=\"table\" style=\"\"><colgroup><col></colgroup><tbody><tr><td><span class=\"label label-default\">No Items</span></td></tr></tbody></table></div></div></div><div style=\"position: absolute; overflow: hidden; right: 0px; bottom: 0px; width: 0px; height: 0px;\"><div class=\"GHA-YCMDII\" style=\"position: absolute; left: 0px; top: 0px; right: 0px; bottom: 0px;\"></div></div><div style=\"position: absolute; overflow: hidden; left: 0px; top: 0px; right: 0px; bottom: 0px; display: none;\"><div class=\"GHA-YCMDCPB GHA-YCMDCB\" style=\"height: 15px; position: absolute; left: 0px; top: 0px; right: 0px; bottom: 0px;\"><div class=\"GHA-YCMDBPB GHA-YCMDJI\"> <div class=\"GHA-YCMDAPB\"></div> </div></div></div><div style=\"position: absolute; overflow: hidden; top: 0px; right: 0px; bottom: 0px; width: 15px; display: none;\"><div class=\"GHA-YCMDOI GHA-YCMDCB\" style=\"width: 15px; position: absolute; left: 0px; top: 0px; right: 0px; bottom: 0px;\"><div class=\"GHA-YCMDNI GHA-YCMDLI\"> <div style=\"height: 26px;\"></div> </div></div></div></div></div></div></div><table cellspacing=\"0\" cellpadding=\"0\" style=\"width: 100%;\"><tbody><tr><td align=\"left\" width=\"50%\" style=\"vertical-align: middle;\"><select class=\"form-control\" aria-hidden=\"true\" style=\"width: 100px; display: none;\"><option value=\"5\">5 Objetos</option><option value=\"10\">10 Objetos</option><option value=\"15\">15 Objetos</option><option value=\"20\">20 Objetos</option></select></td><td align=\"right\" width=\"50%\" style=\"vertical-align: top;\"><table cellspacing=\"0\" cellpadding=\"0\" class=\"pagination pagination-right pull-right GHA-YCMDEOB\"><tbody><tr><td align=\"left\" class=\"GHA-YCMDF4\" style=\"vertical-align: middle;\"><button type=\"button\" class=\"btn btn-default disabled\" disabled=\"\"><i class=\"fa fa-angle-double-left\"></i> </button></td><td align=\"left\" class=\"GHA-YCMDF4\" style=\"vertical-align: middle;\"><button type=\"button\" class=\"btn btn-default disabled\" disabled=\"\"><i class=\"fa fa-angle-left\"></i> </button></td><td align=\"left\" class=\"GHA-YCMDG4\" style=\"vertical-align: middle;\"><div class=\"gwt-HTML\">0 de 0</div></td><td align=\"left\" class=\"GHA-YCMDF4\" style=\"vertical-align: middle;\"><button type=\"button\" class=\"btn btn-default disabled\" disabled=\"\"><i class=\"fa fa-angle-right\"></i> </button></td><td align=\"left\" class=\"GHA-YCMDF4\" style=\"vertical-align: middle;\"><button type=\"button\" class=\"btn btn-default disabled\" disabled=\"\" aria-hidden=\"true\" style=\"display: none;\"><i class=\"fa fa-fast-forward\"></i> </button></td><td align=\"left\" class=\"GHA-YCMDF4\" style=\"vertical-align: middle;\"><button type=\"button\" class=\"btn btn-default disabled\" disabled=\"\" aria-hidden=\"true\" style=\"display: none;\"><i class=\"fa fa-angle-double-right\"></i> </button></td></tr></tbody></table></td></tr></tbody></table></div></div>\n+    </div>\n+</div></div></div>\n+    <div data-field=\"helpBlock\" class=\"help-block\"></div>\n+</div>\n+<#elseif item.type == \"documentCollection\">\n+<div>\n+\t<label for=\"${item.id}\">${item.label}</label> \n+    <div id=\"${item.id}\" data-field=\"documentCollection\">\n+    \t<#if item.value?size gt 0>\n+    \t    <#assign documents=item.value>\n+\t\t\t<#list documents as file>\n+\t\t\t<div class=\"document\"> \n+\t\t\t\t<span data-field=\"state\"></span>\n+\t\t\t\t<span class=\"kie-wb-common-forms-docs-upload-content vertical-\">\n+\t\t\t\t        <a data-field=\"document\" target=\"_blank\" data-name=\"${file.name}\" data-bytes=\"${file.content}\">${file.name}</a>\n+\t\t\t\t</span>\n+\t\t\t\t<span data-field=\"actions\" class=\"kie-wb-common-forms-docs-upload-content\"><span aria-hidden=\"true\" class=\"close\">\u00d7</span></span>\n+\t\t\t</div>\n+\t\t\t</#list>\n+\t\t    <div class=\"kie-wb-common-forms-docs-upload\" data-field=\"dropRegion\" >\n+\t\t\t<div class=\"kie-wb-common-forms-docs-upload-dropHere\"  data-field=\"dropHere\">\n+\t            <div class=\"kie-wb-common-forms-docs-upload-dropHere-content\">\n+\t                <h3 data-i18n-key=\"dropFilesHere\">Drop files here</h3>\n+\t            </div>\n+\t        </div>\n+\t        </div>\n+\t\t<#else>\n+\t\t    <div class=\"kie-wb-common-forms-docs-upload\" data-field=\"dropRegion\" >\n+\t        \t<div class=\"kie-wb-common-forms-docs-upload-empty\" data-field=\"emptyState\">\n+\t            \t<div class=\"kie-wb-common-forms-docs-upload-empty-content\"  data-field=\"dragHere\" >\n+\t\t                <h3>\n+\t\t                    <span data-i18n-key=\"dragFilesText\">Drag files here to upload</span>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "484a98e66724105d3f2190c0f0d95440938818d4"}, "originalPosition": 71}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODQ5MzA3OA==", "bodyText": "It should match with what it is designed in BC - I mean, form is allowing to upload files not only by drag&drop but also using a file browse through an upload button.", "url": "https://github.com/kiegroup/droolsjbpm-integration/pull/2228#discussion_r488493078", "createdAt": "2020-09-15T08:43:47Z", "author": {"login": "afalhambra"}, "path": "kie-server-parent/kie-server-services/kie-server-services-jbpm-ui/src/main/resources/form-templates-providers/bootstrap/input-form-group-template.html", "diffHunk": "@@ -70,6 +70,46 @@\n \t</#if>\n     <input id=\"${item.id}\" data-slider-id='${item.id}Slider' data-slider-value=\"${item.value}\" name=\"${item.name}\" data-slider-min=\"${item.min}\" data-slider-max=\"${item.max}\" data-slider-step=\"${item.step}\" type=\"text\" class=\"form-control\" value=\"${item.value}\" ${(item.required)?string('required', '')} data-slider-tooltip=\"hide\" data-slider-handle=\"triangle\" style=\"width: 100%;\"/>    \n </div>\n+<#elseif item.type == \"documentCollection\">\n+<div>\n+\t<label for=\"${item.id}\">${item.label}</label> \n+    <div id=\"${item.id}\" data-field=\"documentCollection\">\n+    \t<#if item.value?size gt 0>\n+    \t    <#assign documents=item.value>\n+\t\t\t<#list documents as file>\n+\t\t\t<div class=\"document\"> \n+\t\t\t\t<span data-field=\"state\"></span>\n+\t\t\t\t<span class=\"kie-wb-common-forms-docs-upload-content vertical-\">\n+\t\t\t\t        <a data-field=\"document\" target=\"_blank\" data-name=\"${file.name}\" data-bytes=\"${file.content}\">${file.name}</a>\n+\t\t\t\t</span>\n+\t\t\t\t<span data-field=\"actions\" class=\"kie-wb-common-forms-docs-upload-content\"><span aria-hidden=\"true\" class=\"close\">\u00d7</span></span>\n+\t\t\t</div>\n+\t\t\t</#list>\n+\t\t    <div class=\"kie-wb-common-forms-docs-upload\" data-field=\"dropRegion\" >\n+\t\t\t<div class=\"kie-wb-common-forms-docs-upload-dropHere\"  data-field=\"dropHere\">\n+\t            <div class=\"kie-wb-common-forms-docs-upload-dropHere-content\">\n+\t                <h3 data-i18n-key=\"dropFilesHere\">Drop files here</h3>\n+\t            </div>\n+\t        </div>\n+\t        </div>\n+\t\t<#else>\n+\t\t    <div class=\"kie-wb-common-forms-docs-upload\" data-field=\"dropRegion\" >\n+\t        \t<div class=\"kie-wb-common-forms-docs-upload-empty\" data-field=\"emptyState\">\n+\t            \t<div class=\"kie-wb-common-forms-docs-upload-empty-content\"  data-field=\"dragHere\" >\n+\t\t                <h3>\n+\t\t                    <span data-i18n-key=\"dragFilesText\">Drag files here to upload</span>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "484a98e66724105d3f2190c0f0d95440938818d4"}, "originalPosition": 31}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1160, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}