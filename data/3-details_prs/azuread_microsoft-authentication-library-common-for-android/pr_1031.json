{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg1NjA5NTY0", "number": 1031, "title": "Breaking out AsymmetricKey, AsymmetricKeyFactory", "bodyText": "Extends work from:\n#1026\nChanges in this PR:\n\nAdds AsymmetricKeyFactory and AsymmetricKey interfaces with default implementations using AndroidKeystore as the underlying secure store", "createdAt": "2020-09-12T00:50:26Z", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031", "merged": true, "mergeCommit": {"oid": "073cea77e94b50c56ab9b5343b997b7ccb87536e"}, "closed": true, "closedAt": "2020-09-22T00:22:07Z", "author": {"login": "iambmelt"}, "timelineItems": {"totalCount": 71, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdFu-2GAH2gAyNDg1NjA5NTY0OjljZWZmNDZlNzFjNGNlM2ZjOWU4MjQwNzk4YzM3ZTA3ZWVkYWRkMWM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdLMuksAFqTQ5MzA2MzAyOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "9ceff46e71c4ce3fc9e8240798c37e07eedadd1c", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/9ceff46e71c4ce3fc9e8240798c37e07eedadd1c", "committedDate": "2020-09-05T00:51:08Z", "message": "Add support for exporting X.509 public key as ASN.1"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "423c2b3431555c40229d6e9c29ab4b6f1a7eb3ce", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/423c2b3431555c40229d6e9c29ab4b6f1a7eb3ce", "committedDate": "2020-09-05T00:56:39Z", "message": "Update javadoc for code changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0e6f2a32826a8536fc36e7f14b58aedc69c49961", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/0e6f2a32826a8536fc36e7f14b58aedc69c49961", "committedDate": "2020-09-05T01:20:57Z", "message": "Renaming format enums"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "600e07cbd03d9ee6982250a005f464aded22a454", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/600e07cbd03d9ee6982250a005f464aded22a454", "committedDate": "2020-09-08T22:20:20Z", "message": "Implement support for getAsymmetricKeyCreationDate()"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ae7ec8f1a0cccc638512c4946caeb7e6af11d960", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/ae7ec8f1a0cccc638512c4946caeb7e6af11d960", "committedDate": "2020-09-08T22:22:18Z", "message": "Remove unused code"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e0c052f84d2b8261d2b6d216039a5252b4e93108", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/e0c052f84d2b8261d2b6d216039a5252b4e93108", "committedDate": "2020-09-08T22:24:50Z", "message": "Merge branch 'dev' into iambmelt/oneauth-pop-extensions-1"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8d10b1561f3ea65a6f3a3e6dc8f5da638c9ba86f", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/8d10b1561f3ea65a6f3a3e6dc8f5da638c9ba86f", "committedDate": "2020-09-08T22:39:24Z", "message": "Use switch not if/else"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e78cf6b7b6a14598b1e39a107815a6aa62d7fc92", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/e78cf6b7b6a14598b1e39a107815a6aa62d7fc92", "committedDate": "2020-09-08T22:42:26Z", "message": "Error msg + logging improvement"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "818b11f8b87ffecc6e184eee8415acd877ecfc5f", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/818b11f8b87ffecc6e184eee8415acd877ecfc5f", "committedDate": "2020-09-08T23:21:22Z", "message": "Add unit tests for new methods"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7b21d1045de1feebb8686df19dc5a7557b1fd16c", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/7b21d1045de1feebb8686df19dc5a7557b1fd16c", "committedDate": "2020-09-09T00:44:08Z", "message": "Add support for signing (SHA256+RSA), adds relevant unit test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "26b358b9b7821dd25bc1937d3ab34b7d189d89be", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/26b358b9b7821dd25bc1937d3ab34b7d189d89be", "committedDate": "2020-09-09T00:58:18Z", "message": "Minor code cleanup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2b3fd3fd50079a703f99ceec7830b0aa602816e2", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/2b3fd3fd50079a703f99ceec7830b0aa602816e2", "committedDate": "2020-09-10T02:03:42Z", "message": "Use default encoding/decoding"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f01d4d0cb1f8497b08fd75d5d0aff346a3f6886a", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/f01d4d0cb1f8497b08fd75d5d0aff346a3f6886a", "committedDate": "2020-09-10T20:55:49Z", "message": "Add jwk export format support + tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8491a08b7f47015985e7aa429a21136b9122989a", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/8491a08b7f47015985e7aa429a21136b9122989a", "committedDate": "2020-09-10T20:59:13Z", "message": "Merge branch 'dev' into iambmelt/oneauth-pop-extensions-1"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b39b87a82690fac2528ad8990973016a1c453516", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/b39b87a82690fac2528ad8990973016a1c453516", "committedDate": "2020-09-10T21:04:56Z", "message": "Log msg private vis"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e099e46a4933667293680a3e12d8bbb08788789e", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/e099e46a4933667293680a3e12d8bbb08788789e", "committedDate": "2020-09-10T21:08:05Z", "message": "Update common/src/main/java/com/microsoft/identity/common/internal/platform/DevicePopManager.java\n\nCo-authored-by: AdamBJohnsonx <63813613+AdamBJohnsonx@users.noreply.github.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "65c2d016ec8eb6d6317ec731adb0d042a33ddeb4", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/65c2d016ec8eb6d6317ec731adb0d042a33ddeb4", "committedDate": "2020-09-10T21:12:47Z", "message": "Javadoc signing/verification API algs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f65f1596212fe20b71e69ae9a0adef47f045e0a3", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/f65f1596212fe20b71e69ae9a0adef47f045e0a3", "committedDate": "2020-09-10T21:20:22Z", "message": "Adding javadoc for public key export formats"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8ffb1b78e4d5a297cb78e0790b0d7083d9532667", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/8ffb1b78e4d5a297cb78e0790b0d7083d9532667", "committedDate": "2020-09-10T21:21:32Z", "message": "Clean up stray newline"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c113f14d669829b12886b717dc301d05d1a64425", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/c113f14d669829b12886b717dc301d05d1a64425", "committedDate": "2020-09-10T21:22:23Z", "message": "Removing resolved TODO"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bda5f733b49c782e667af7c1cc5dc97135b14380", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/bda5f733b49c782e667af7c1cc5dc97135b14380", "committedDate": "2020-09-10T21:26:37Z", "message": "Adding nullability annots"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e5b83a8164005426b0552488cbe194b3c283f05b", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/e5b83a8164005426b0552488cbe194b3c283f05b", "committedDate": "2020-09-10T22:35:07Z", "message": "WIP signing tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c0312398104ed6597b0ac5cfeaf1aa111a9a056e", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/c0312398104ed6597b0ac5cfeaf1aa111a9a056e", "committedDate": "2020-09-10T22:45:28Z", "message": "Code cleanup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "af0ca035a02c8d8dff1acf345dbcd1cf586bb204", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/af0ca035a02c8d8dff1acf345dbcd1cf586bb204", "committedDate": "2020-09-10T22:47:10Z", "message": "Tweaking javadoc"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "12d7a01f595789c8926c4b009f4b173bb07322ef", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/12d7a01f595789c8926c4b009f4b173bb07322ef", "committedDate": "2020-09-10T23:14:46Z", "message": "Update changelog for PoP enhancements"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7ced5f88bbd529cbfeffff2e38361fd6ae0d2273", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/7ced5f88bbd529cbfeffff2e38361fd6ae0d2273", "committedDate": "2020-09-12T00:46:45Z", "message": "WIP"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c42d376fa2a2b10484a6973ca1ceacb021a1e0ef", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/c42d376fa2a2b10484a6973ca1ceacb021a1e0ef", "committedDate": "2020-09-12T01:21:34Z", "message": "Adds basic impl -- needs error handling, logging, and some cleanup"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg3MTkxMTE3", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031#pullrequestreview-487191117", "createdAt": "2020-09-12T01:26:00Z", "commit": {"oid": "c42d376fa2a2b10484a6973ca1ceacb021a1e0ef"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMlQwMToyNjowMFrOHQxfYg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMlQwMToyNjowMFrOHQxfYg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzM1MDExNA==", "bodyText": "Javadoc", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031#discussion_r487350114", "createdAt": "2020-09-12T01:26:00Z", "author": {"login": "iambmelt"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/platform/AndroidKeystoreAsymmetricKey.java", "diffHunk": "@@ -0,0 +1,72 @@\n+//  Copyright (c) Microsoft Corporation.\n+//  All rights reserved.\n+//\n+//  This code is licensed under the MIT License.\n+//\n+//  Permission is hereby granted, free of charge, to any person obtaining a copy\n+//  of this software and associated documentation files(the \"Software\"), to deal\n+//  in the Software without restriction, including without limitation the rights\n+//  to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n+//  copies of the Software, and to permit persons to whom the Software is\n+//  furnished to do so, subject to the following conditions :\n+//\n+//  The above copyright notice and this permission notice shall be included in\n+//  all copies or substantial portions of the Software.\n+//\n+//  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+//  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+//  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+//  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+//  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+//  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+//  THE SOFTWARE.\n+package com.microsoft.identity.common.internal.platform;\n+\n+import android.content.Context;\n+import android.os.Build;\n+\n+import androidx.annotation.NonNull;\n+import androidx.annotation.RequiresApi;\n+\n+import com.microsoft.identity.common.exception.ClientException;\n+\n+import java.util.Date;\n+\n+public class AndroidKeystoreAsymmetricKey implements AsymmetricKey {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c42d376fa2a2b10484a6973ca1ceacb021a1e0ef"}, "originalPosition": 35}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg3MTkxMTMy", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031#pullrequestreview-487191132", "createdAt": "2020-09-12T01:26:10Z", "commit": {"oid": "c42d376fa2a2b10484a6973ca1ceacb021a1e0ef"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMlQwMToyNjoxMFrOHQxfcg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMlQwMToyNjoxMFrOHQxfcg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzM1MDEzMA==", "bodyText": "Javadoc", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031#discussion_r487350130", "createdAt": "2020-09-12T01:26:10Z", "author": {"login": "iambmelt"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/platform/AndroidKeystoreAsymmetricKey.java", "diffHunk": "@@ -0,0 +1,72 @@\n+//  Copyright (c) Microsoft Corporation.\n+//  All rights reserved.\n+//\n+//  This code is licensed under the MIT License.\n+//\n+//  Permission is hereby granted, free of charge, to any person obtaining a copy\n+//  of this software and associated documentation files(the \"Software\"), to deal\n+//  in the Software without restriction, including without limitation the rights\n+//  to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n+//  copies of the Software, and to permit persons to whom the Software is\n+//  furnished to do so, subject to the following conditions :\n+//\n+//  The above copyright notice and this permission notice shall be included in\n+//  all copies or substantial portions of the Software.\n+//\n+//  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+//  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+//  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+//  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+//  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+//  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+//  THE SOFTWARE.\n+package com.microsoft.identity.common.internal.platform;\n+\n+import android.content.Context;\n+import android.os.Build;\n+\n+import androidx.annotation.NonNull;\n+import androidx.annotation.RequiresApi;\n+\n+import com.microsoft.identity.common.exception.ClientException;\n+\n+import java.util.Date;\n+\n+public class AndroidKeystoreAsymmetricKey implements AsymmetricKey {\n+\n+    private final IDevicePopManager mDevicePopManager;\n+\n+    AndroidKeystoreAsymmetricKey(@NonNull final Context context,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c42d376fa2a2b10484a6973ca1ceacb021a1e0ef"}, "originalPosition": 39}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg3MTkxMTQ3", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031#pullrequestreview-487191147", "createdAt": "2020-09-12T01:26:21Z", "commit": {"oid": "c42d376fa2a2b10484a6973ca1ceacb021a1e0ef"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMlQwMToyNjoyMVrOHQxfgA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMlQwMToyNjoyMVrOHQxfgA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzM1MDE0NA==", "bodyText": "Javadoc", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031#discussion_r487350144", "createdAt": "2020-09-12T01:26:21Z", "author": {"login": "iambmelt"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/platform/AndroidKeystoreAsymmetricKeyFactory.java", "diffHunk": "@@ -0,0 +1,88 @@\n+//  Copyright (c) Microsoft Corporation.\n+//  All rights reserved.\n+//\n+//  This code is licensed under the MIT License.\n+//\n+//  Permission is hereby granted, free of charge, to any person obtaining a copy\n+//  of this software and associated documentation files(the \"Software\"), to deal\n+//  in the Software without restriction, including without limitation the rights\n+//  to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n+//  copies of the Software, and to permit persons to whom the Software is\n+//  furnished to do so, subject to the following conditions :\n+//\n+//  The above copyright notice and this permission notice shall be included in\n+//  all copies or substantial portions of the Software.\n+//\n+//  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+//  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+//  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+//  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+//  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+//  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+//  THE SOFTWARE.\n+package com.microsoft.identity.common.internal.platform;\n+\n+import android.content.Context;\n+\n+import androidx.annotation.NonNull;\n+\n+import com.microsoft.identity.common.exception.ClientException;\n+\n+import java.io.IOException;\n+import java.security.KeyStoreException;\n+import java.security.NoSuchAlgorithmException;\n+import java.security.cert.CertificateException;\n+\n+public class AndroidKeystoreAsymmetricKeyFactory implements AsymmetricKeyFactory {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c42d376fa2a2b10484a6973ca1ceacb021a1e0ef"}, "originalPosition": 36}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg3MTkxMTU1", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031#pullrequestreview-487191155", "createdAt": "2020-09-12T01:26:27Z", "commit": {"oid": "c42d376fa2a2b10484a6973ca1ceacb021a1e0ef"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMlQwMToyNjoyN1rOHQxfiA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMlQwMToyNjoyN1rOHQxfiA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzM1MDE1Mg==", "bodyText": "Javadoc", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031#discussion_r487350152", "createdAt": "2020-09-12T01:26:27Z", "author": {"login": "iambmelt"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/platform/AndroidKeystoreAsymmetricKeyFactory.java", "diffHunk": "@@ -0,0 +1,88 @@\n+//  Copyright (c) Microsoft Corporation.\n+//  All rights reserved.\n+//\n+//  This code is licensed under the MIT License.\n+//\n+//  Permission is hereby granted, free of charge, to any person obtaining a copy\n+//  of this software and associated documentation files(the \"Software\"), to deal\n+//  in the Software without restriction, including without limitation the rights\n+//  to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n+//  copies of the Software, and to permit persons to whom the Software is\n+//  furnished to do so, subject to the following conditions :\n+//\n+//  The above copyright notice and this permission notice shall be included in\n+//  all copies or substantial portions of the Software.\n+//\n+//  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+//  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+//  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+//  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+//  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+//  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+//  THE SOFTWARE.\n+package com.microsoft.identity.common.internal.platform;\n+\n+import android.content.Context;\n+\n+import androidx.annotation.NonNull;\n+\n+import com.microsoft.identity.common.exception.ClientException;\n+\n+import java.io.IOException;\n+import java.security.KeyStoreException;\n+import java.security.NoSuchAlgorithmException;\n+import java.security.cert.CertificateException;\n+\n+public class AndroidKeystoreAsymmetricKeyFactory implements AsymmetricKeyFactory {\n+\n+    private final Context mContext;\n+\n+    public AndroidKeystoreAsymmetricKeyFactory(@NonNull final Context context) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c42d376fa2a2b10484a6973ca1ceacb021a1e0ef"}, "originalPosition": 40}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg3MTkxMTc1", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031#pullrequestreview-487191175", "createdAt": "2020-09-12T01:26:41Z", "commit": {"oid": "c42d376fa2a2b10484a6973ca1ceacb021a1e0ef"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMlQwMToyNjo0MVrOHQxfmA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMlQwMToyNjo0MVrOHQxfmA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzM1MDE2OA==", "bodyText": "Catch, wrap, rethrow", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031#discussion_r487350168", "createdAt": "2020-09-12T01:26:41Z", "author": {"login": "iambmelt"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/platform/AndroidKeystoreAsymmetricKeyFactory.java", "diffHunk": "@@ -0,0 +1,88 @@\n+//  Copyright (c) Microsoft Corporation.\n+//  All rights reserved.\n+//\n+//  This code is licensed under the MIT License.\n+//\n+//  Permission is hereby granted, free of charge, to any person obtaining a copy\n+//  of this software and associated documentation files(the \"Software\"), to deal\n+//  in the Software without restriction, including without limitation the rights\n+//  to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n+//  copies of the Software, and to permit persons to whom the Software is\n+//  furnished to do so, subject to the following conditions :\n+//\n+//  The above copyright notice and this permission notice shall be included in\n+//  all copies or substantial portions of the Software.\n+//\n+//  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+//  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+//  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+//  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+//  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+//  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+//  THE SOFTWARE.\n+package com.microsoft.identity.common.internal.platform;\n+\n+import android.content.Context;\n+\n+import androidx.annotation.NonNull;\n+\n+import com.microsoft.identity.common.exception.ClientException;\n+\n+import java.io.IOException;\n+import java.security.KeyStoreException;\n+import java.security.NoSuchAlgorithmException;\n+import java.security.cert.CertificateException;\n+\n+public class AndroidKeystoreAsymmetricKeyFactory implements AsymmetricKeyFactory {\n+\n+    private final Context mContext;\n+\n+    public AndroidKeystoreAsymmetricKeyFactory(@NonNull final Context context) {\n+        mContext = context;\n+    }\n+\n+    @Override\n+    public AsymmetricKey generateAsymmetricKey(@NonNull final String alias) throws ClientException {\n+        try {\n+            return new AndroidKeystoreAsymmetricKey(\n+                    mContext,\n+                    new DevicePopManager(alias)\n+            );\n+        } catch (KeyStoreException e) {\n+            e.printStackTrace();\n+        } catch (CertificateException e) {\n+            e.printStackTrace();\n+        } catch (NoSuchAlgorithmException e) {\n+            e.printStackTrace();\n+        } catch (IOException e) {\n+            e.printStackTrace();\n+        }\n+\n+        // TODO catch, wrap, and rethrow Exception", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c42d376fa2a2b10484a6973ca1ceacb021a1e0ef"}, "originalPosition": 61}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg3MTkxMTg0", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031#pullrequestreview-487191184", "createdAt": "2020-09-12T01:26:46Z", "commit": {"oid": "c42d376fa2a2b10484a6973ca1ceacb021a1e0ef"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMlQwMToyNjo0NlrOHQxfqQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMlQwMToyNjo0NlrOHQxfqQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzM1MDE4NQ==", "bodyText": "Catch, wrap, rethrow", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031#discussion_r487350185", "createdAt": "2020-09-12T01:26:46Z", "author": {"login": "iambmelt"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/platform/AndroidKeystoreAsymmetricKeyFactory.java", "diffHunk": "@@ -0,0 +1,88 @@\n+//  Copyright (c) Microsoft Corporation.\n+//  All rights reserved.\n+//\n+//  This code is licensed under the MIT License.\n+//\n+//  Permission is hereby granted, free of charge, to any person obtaining a copy\n+//  of this software and associated documentation files(the \"Software\"), to deal\n+//  in the Software without restriction, including without limitation the rights\n+//  to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n+//  copies of the Software, and to permit persons to whom the Software is\n+//  furnished to do so, subject to the following conditions :\n+//\n+//  The above copyright notice and this permission notice shall be included in\n+//  all copies or substantial portions of the Software.\n+//\n+//  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+//  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+//  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+//  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+//  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+//  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+//  THE SOFTWARE.\n+package com.microsoft.identity.common.internal.platform;\n+\n+import android.content.Context;\n+\n+import androidx.annotation.NonNull;\n+\n+import com.microsoft.identity.common.exception.ClientException;\n+\n+import java.io.IOException;\n+import java.security.KeyStoreException;\n+import java.security.NoSuchAlgorithmException;\n+import java.security.cert.CertificateException;\n+\n+public class AndroidKeystoreAsymmetricKeyFactory implements AsymmetricKeyFactory {\n+\n+    private final Context mContext;\n+\n+    public AndroidKeystoreAsymmetricKeyFactory(@NonNull final Context context) {\n+        mContext = context;\n+    }\n+\n+    @Override\n+    public AsymmetricKey generateAsymmetricKey(@NonNull final String alias) throws ClientException {\n+        try {\n+            return new AndroidKeystoreAsymmetricKey(\n+                    mContext,\n+                    new DevicePopManager(alias)\n+            );\n+        } catch (KeyStoreException e) {\n+            e.printStackTrace();\n+        } catch (CertificateException e) {\n+            e.printStackTrace();\n+        } catch (NoSuchAlgorithmException e) {\n+            e.printStackTrace();\n+        } catch (IOException e) {\n+            e.printStackTrace();\n+        }\n+\n+        // TODO catch, wrap, and rethrow Exception\n+        return null;\n+    }\n+\n+    @Override\n+    public AsymmetricKey loadAsymmetricKey(String alias) throws ClientException {\n+        // We can just call generate.... same thing... it will be created if it doesn't exist.\n+        return generateAsymmetricKey(alias);\n+    }\n+\n+    @Override\n+    public boolean clearAsymmetricKey(String alias) {\n+        try {\n+            return new DevicePopManager(alias).clearAsymmetricKey();\n+        } catch (KeyStoreException e) {\n+            e.printStackTrace();\n+        } catch (CertificateException e) {\n+            e.printStackTrace();\n+        } catch (NoSuchAlgorithmException e) {\n+            e.printStackTrace();\n+        } catch (IOException e) {\n+            e.printStackTrace();\n+        }\n+\n+        // TODO catch, wrap, and rethrow Exception", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c42d376fa2a2b10484a6973ca1ceacb021a1e0ef"}, "originalPosition": 85}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg3MTkxMjA1", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031#pullrequestreview-487191205", "createdAt": "2020-09-12T01:27:00Z", "commit": {"oid": "c42d376fa2a2b10484a6973ca1ceacb021a1e0ef"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMlQwMToyNzowMVrOHQxfvQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMlQwMToyNzowMVrOHQxfvQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzM1MDIwNQ==", "bodyText": "Javadoc", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031#discussion_r487350205", "createdAt": "2020-09-12T01:27:01Z", "author": {"login": "iambmelt"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/platform/AsymmetricKeyFactory.java", "diffHunk": "@@ -0,0 +1,35 @@\n+//  Copyright (c) Microsoft Corporation.\n+//  All rights reserved.\n+//\n+//  This code is licensed under the MIT License.\n+//\n+//  Permission is hereby granted, free of charge, to any person obtaining a copy\n+//  of this software and associated documentation files(the \"Software\"), to deal\n+//  in the Software without restriction, including without limitation the rights\n+//  to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n+//  copies of the Software, and to permit persons to whom the Software is\n+//  furnished to do so, subject to the following conditions :\n+//\n+//  The above copyright notice and this permission notice shall be included in\n+//  all copies or substantial portions of the Software.\n+//\n+//  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+//  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+//  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+//  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+//  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+//  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+//  THE SOFTWARE.\n+package com.microsoft.identity.common.internal.platform;\n+\n+import com.microsoft.identity.common.exception.ClientException;\n+\n+public interface AsymmetricKeyFactory {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c42d376fa2a2b10484a6973ca1ceacb021a1e0ef"}, "originalPosition": 27}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg3MTkxMjc4", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031#pullrequestreview-487191278", "createdAt": "2020-09-12T01:27:47Z", "commit": {"oid": "c42d376fa2a2b10484a6973ca1ceacb021a1e0ef"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMlQwMToyNzo0N1rOHQxgBA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMlQwMToyNzo0N1rOHQxgBA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzM1MDI3Ng==", "bodyText": "Add tests", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031#discussion_r487350276", "createdAt": "2020-09-12T01:27:47Z", "author": {"login": "iambmelt"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/platform/AndroidKeystoreAsymmetricKey.java", "diffHunk": "@@ -0,0 +1,72 @@\n+//  Copyright (c) Microsoft Corporation.\n+//  All rights reserved.\n+//\n+//  This code is licensed under the MIT License.\n+//\n+//  Permission is hereby granted, free of charge, to any person obtaining a copy\n+//  of this software and associated documentation files(the \"Software\"), to deal\n+//  in the Software without restriction, including without limitation the rights\n+//  to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n+//  copies of the Software, and to permit persons to whom the Software is\n+//  furnished to do so, subject to the following conditions :\n+//\n+//  The above copyright notice and this permission notice shall be included in\n+//  all copies or substantial portions of the Software.\n+//\n+//  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+//  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+//  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+//  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+//  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+//  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+//  THE SOFTWARE.\n+package com.microsoft.identity.common.internal.platform;\n+\n+import android.content.Context;\n+import android.os.Build;\n+\n+import androidx.annotation.NonNull;\n+import androidx.annotation.RequiresApi;\n+\n+import com.microsoft.identity.common.exception.ClientException;\n+\n+import java.util.Date;\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c42d376fa2a2b10484a6973ca1ceacb021a1e0ef"}, "originalPosition": 34}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg3MTkxMjg3", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031#pullrequestreview-487191287", "createdAt": "2020-09-12T01:27:54Z", "commit": {"oid": "c42d376fa2a2b10484a6973ca1ceacb021a1e0ef"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMlQwMToyNzo1NFrOHQxgGA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMlQwMToyNzo1NFrOHQxgGA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzM1MDI5Ng==", "bodyText": "Add tests", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031#discussion_r487350296", "createdAt": "2020-09-12T01:27:54Z", "author": {"login": "iambmelt"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/platform/AndroidKeystoreAsymmetricKeyFactory.java", "diffHunk": "@@ -0,0 +1,88 @@\n+//  Copyright (c) Microsoft Corporation.\n+//  All rights reserved.\n+//\n+//  This code is licensed under the MIT License.\n+//\n+//  Permission is hereby granted, free of charge, to any person obtaining a copy\n+//  of this software and associated documentation files(the \"Software\"), to deal\n+//  in the Software without restriction, including without limitation the rights\n+//  to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n+//  copies of the Software, and to permit persons to whom the Software is\n+//  furnished to do so, subject to the following conditions :\n+//\n+//  The above copyright notice and this permission notice shall be included in\n+//  all copies or substantial portions of the Software.\n+//\n+//  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+//  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+//  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+//  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+//  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+//  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+//  THE SOFTWARE.\n+package com.microsoft.identity.common.internal.platform;\n+\n+import android.content.Context;\n+\n+import androidx.annotation.NonNull;\n+\n+import com.microsoft.identity.common.exception.ClientException;\n+\n+import java.io.IOException;\n+import java.security.KeyStoreException;\n+import java.security.NoSuchAlgorithmException;\n+import java.security.cert.CertificateException;\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c42d376fa2a2b10484a6973ca1ceacb021a1e0ef"}, "originalPosition": 35}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "570e5a2b9a958c4c21d9088c614f85777cb7015a", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/570e5a2b9a958c4c21d9088c614f85777cb7015a", "committedDate": "2020-09-15T18:25:32Z", "message": "Merge branch 'dev' into iambmelt/oneauth-pop-extensions-2"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b77c21f5e217ba22c119b1643068360b5c5c0194", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/b77c21f5e217ba22c119b1643068360b5c5c0194", "committedDate": "2020-09-15T20:00:17Z", "message": "Add javadoc to AndroidKeystoreAsymmetricKey"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f5ef47f52c56874f523ab7470c0370fcb7048483", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/f5ef47f52c56874f523ab7470c0370fcb7048483", "committedDate": "2020-09-15T20:05:07Z", "message": "Adds javadoc to AndroidKeystoreAsymmetricKeyFactory"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1e684ccb20dcaa4b92bbc467e5f85d4b713813db", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/1e684ccb20dcaa4b92bbc467e5f85d4b713813db", "committedDate": "2020-09-15T20:12:57Z", "message": "Javadoc AsymmetricKeyFactory interface"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "26541d58960cfa06edd20666cf0fff9d4ae8ab0f", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/26541d58960cfa06edd20666cf0fff9d4ae8ab0f", "committedDate": "2020-09-15T20:33:50Z", "message": "Error handling"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d6f2df112101339a3e73e2e38ebd8a1485bbcff7", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/d6f2df112101339a3e73e2e38ebd8a1485bbcff7", "committedDate": "2020-09-16T00:08:16Z", "message": "Merge branch 'dev' into iambmelt/oneauth-pop-extensions-2"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c4573844faf0b98b367c86e0204f2b2669254256", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/c4573844faf0b98b367c86e0204f2b2669254256", "committedDate": "2020-09-16T00:16:32Z", "message": "Fix merge"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "491e354e4e7a8b8c47f40de931e2e2a7599fd6d9", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/491e354e4e7a8b8c47f40de931e2e2a7599fd6d9", "committedDate": "2020-09-18T00:37:13Z", "message": "WIP - Adding tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8d716fda151836c3fcee577d80bc904ca98f9eee", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/8d716fda151836c3fcee577d80bc904ca98f9eee", "committedDate": "2020-09-19T01:25:52Z", "message": "Adds tests for AsymmetricKey + AsymmetricKeyFactory"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "27da4f194529287c5a6c8c315654153ab7f20018", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/27da4f194529287c5a6c8c315654153ab7f20018", "committedDate": "2020-09-19T01:33:31Z", "message": "(Experimental) Increase CI timeout by 10 mins"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkxODU1NzUy", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031#pullrequestreview-491855752", "createdAt": "2020-09-19T02:52:04Z", "commit": {"oid": "27da4f194529287c5a6c8c315654153ab7f20018"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOVQwMjo1MjowNFrOHUgICA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOVQwMjo1MjowNFrOHUgICA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTI1OTkxMg==", "bodyText": "Add a negative test case", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031#discussion_r491259912", "createdAt": "2020-09-19T02:52:04Z", "author": {"login": "iambmelt"}, "path": "common/src/androidTest/java/com/microsoft/identity/common/internal/platform/AsymmetricKeyTests.java", "diffHunk": "@@ -0,0 +1,108 @@\n+//  Copyright (c) Microsoft Corporation.\n+//  All rights reserved.\n+//\n+//  This code is licensed under the MIT License.\n+//\n+//  Permission is hereby granted, free of charge, to any person obtaining a copy\n+//  of this software and associated documentation files(the \"Software\"), to deal\n+//  in the Software without restriction, including without limitation the rights\n+//  to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n+//  copies of the Software, and to permit persons to whom the Software is\n+//  furnished to do so, subject to the following conditions :\n+//\n+//  The above copyright notice and this permission notice shall be included in\n+//  all copies or substantial portions of the Software.\n+//\n+//  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+//  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+//  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+//  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+//  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+//  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+//  THE SOFTWARE.\n+package com.microsoft.identity.common.internal.platform;\n+\n+import android.content.Context;\n+\n+import androidx.test.InstrumentationRegistry;\n+import androidx.test.ext.junit.runners.AndroidJUnit4;\n+\n+import com.google.gson.JsonElement;\n+import com.google.gson.JsonObject;\n+import com.google.gson.JsonParser;\n+import com.microsoft.identity.common.exception.ClientException;\n+\n+import org.junit.After;\n+import org.junit.Assert;\n+import org.junit.Before;\n+import org.junit.Test;\n+import org.junit.runner.RunWith;\n+\n+@RunWith(AndroidJUnit4.class)\n+public class AsymmetricKeyTests {\n+\n+    private static final String testKeyName = \"testkey_alias\";\n+\n+    private AsymmetricKeyFactory mKeyFactory;\n+    private AsymmetricKey mAsymmetricKey;\n+\n+    @Before\n+    public void setUp() throws ClientException {\n+        final Context context = InstrumentationRegistry.getTargetContext();\n+        mKeyFactory = new AndroidKeystoreAsymmetricKeyFactory(context);\n+        mAsymmetricKey = mKeyFactory.generateAsymmetricKey(testKeyName);\n+    }\n+\n+    @After\n+    public void tearDown() throws ClientException {\n+        mKeyFactory.clearAsymmetricKey(testKeyName);\n+    }\n+\n+    @Test\n+    public void testHasCreatedOn() throws ClientException {\n+        Assert.assertNotNull(mAsymmetricKey.getCreatedOn());\n+    }\n+\n+    @Test\n+    public void testHasThumbprint() throws ClientException {\n+        Assert.assertNotNull(mAsymmetricKey.getThumbprint());\n+    }\n+\n+    @Test\n+    public void testHasPublicKey() throws ClientException {\n+        final String publicKey = mAsymmetricKey.getPublicKey();\n+\n+        Assert.assertNotNull(publicKey);\n+\n+        // Convert it to JSON, parse to verify fields\n+        final JsonElement jwkElement = new JsonParser().parse(publicKey);\n+\n+        // Convert to JsonObject to extract claims\n+        final JsonObject jwkObj = jwkElement.getAsJsonObject();\n+\n+        // We should expect the following claims...\n+        // 'kty' - Key Type - Identifies the cryptographic alg used with this key (ex: RSA, EC)\n+        // 'e' - Public Exponent - The exponent used on signed/encoded data to decode the orig value\n+        // 'n' - Modulus - The product of two prime numbers used to generate the key pair\n+        final JsonElement kty = jwkObj.get(\"kty\");\n+        Assert.assertNotNull(kty);\n+        Assert.assertFalse(kty.getAsString().isEmpty());\n+\n+        final JsonElement e = jwkObj.get(\"e\");\n+        Assert.assertNotNull(e);\n+        Assert.assertFalse(e.getAsString().isEmpty());\n+\n+        final JsonElement n = jwkObj.get(\"n\");\n+        Assert.assertNotNull(n);\n+        Assert.assertFalse(n.getAsString().isEmpty());\n+    }\n+\n+    @Test\n+    public void testCanSignAndVerify() throws ClientException {\n+        final String validationText = \"The quick brown fox jumped over the lazy dog.\";\n+        final String signature = mAsymmetricKey.sign(validationText);\n+        Assert.assertNotNull(signature);\n+        Assert.assertTrue(mAsymmetricKey.verify(validationText, signature));\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "27da4f194529287c5a6c8c315654153ab7f20018"}, "originalPosition": 106}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkxODU1Nzcz", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031#pullrequestreview-491855773", "createdAt": "2020-09-19T02:52:23Z", "commit": {"oid": "27da4f194529287c5a6c8c315654153ab7f20018"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOVQwMjo1MjoyM1rOHUgIJw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOVQwMjo1MjoyM1rOHUgIJw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTI1OTk0Mw==", "bodyText": "javadoc", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031#discussion_r491259943", "createdAt": "2020-09-19T02:52:23Z", "author": {"login": "iambmelt"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/platform/AndroidKeystoreAsymmetricKey.java", "diffHunk": "@@ -0,0 +1,100 @@\n+//  Copyright (c) Microsoft Corporation.\n+//  All rights reserved.\n+//\n+//  This code is licensed under the MIT License.\n+//\n+//  Permission is hereby granted, free of charge, to any person obtaining a copy\n+//  of this software and associated documentation files(the \"Software\"), to deal\n+//  in the Software without restriction, including without limitation the rights\n+//  to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n+//  copies of the Software, and to permit persons to whom the Software is\n+//  furnished to do so, subject to the following conditions :\n+//\n+//  The above copyright notice and this permission notice shall be included in\n+//  all copies or substantial portions of the Software.\n+//\n+//  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+//  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+//  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+//  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+//  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+//  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+//  THE SOFTWARE.\n+package com.microsoft.identity.common.internal.platform;\n+\n+import android.content.Context;\n+import android.os.Build;\n+\n+import androidx.annotation.NonNull;\n+import androidx.annotation.RequiresApi;\n+\n+import com.microsoft.identity.common.exception.ClientException;\n+\n+import java.util.Date;\n+\n+/**\n+ * Represents an asymmetric key, backed by the Android Keystore.\n+ */\n+public class AndroidKeystoreAsymmetricKey implements AsymmetricKey {\n+\n+    private final IDevicePopManager mDevicePopManager;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "27da4f194529287c5a6c8c315654153ab7f20018"}, "originalPosition": 40}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkxODU1ODM3", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031#pullrequestreview-491855837", "createdAt": "2020-09-19T02:53:19Z", "commit": {"oid": "27da4f194529287c5a6c8c315654153ab7f20018"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOVQwMjo1MzoyMFrOHUgIhA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOVQwMjo1MzoyMFrOHUgIhA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTI2MDAzNg==", "bodyText": "Explain (in javadoc) that this object is a representation of a singleton", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031#discussion_r491260036", "createdAt": "2020-09-19T02:53:20Z", "author": {"login": "iambmelt"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/platform/AsymmetricKey.java", "diffHunk": "@@ -0,0 +1,86 @@\n+//  Copyright (c) Microsoft Corporation.\n+//  All rights reserved.\n+//\n+//  This code is licensed under the MIT License.\n+//\n+//  Permission is hereby granted, free of charge, to any person obtaining a copy\n+//  of this software and associated documentation files(the \"Software\"), to deal\n+//  in the Software without restriction, including without limitation the rights\n+//  to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n+//  copies of the Software, and to permit persons to whom the Software is\n+//  furnished to do so, subject to the following conditions :\n+//\n+//  The above copyright notice and this permission notice shall be included in\n+//  all copies or substantial portions of the Software.\n+//\n+//  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+//  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+//  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+//  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+//  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+//  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+//  THE SOFTWARE.\n+package com.microsoft.identity.common.internal.platform;\n+\n+import com.microsoft.identity.common.exception.ClientException;\n+\n+import java.util.Date;\n+\n+/**\n+ * Represents an RSA asymmetric key.\n+ */\n+public interface AsymmetricKey {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "27da4f194529287c5a6c8c315654153ab7f20018"}, "originalPosition": 32}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkxODU2MTUx", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031#pullrequestreview-491856151", "createdAt": "2020-09-19T02:58:40Z", "commit": {"oid": "27da4f194529287c5a6c8c315654153ab7f20018"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOVQwMjo1ODo0MVrOHUgKig==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOVQwMjo1ODo0MVrOHUgKig==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTI2MDU1NA==", "bodyText": "Javadoc SHA256", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031#discussion_r491260554", "createdAt": "2020-09-19T02:58:41Z", "author": {"login": "iambmelt"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/platform/AsymmetricKey.java", "diffHunk": "@@ -0,0 +1,86 @@\n+//  Copyright (c) Microsoft Corporation.\n+//  All rights reserved.\n+//\n+//  This code is licensed under the MIT License.\n+//\n+//  Permission is hereby granted, free of charge, to any person obtaining a copy\n+//  of this software and associated documentation files(the \"Software\"), to deal\n+//  in the Software without restriction, including without limitation the rights\n+//  to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n+//  copies of the Software, and to permit persons to whom the Software is\n+//  furnished to do so, subject to the following conditions :\n+//\n+//  The above copyright notice and this permission notice shall be included in\n+//  all copies or substantial portions of the Software.\n+//\n+//  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+//  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+//  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+//  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+//  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+//  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+//  THE SOFTWARE.\n+package com.microsoft.identity.common.internal.platform;\n+\n+import com.microsoft.identity.common.exception.ClientException;\n+\n+import java.util.Date;\n+\n+/**\n+ * Represents an RSA asymmetric key.\n+ */\n+public interface AsymmetricKey {\n+\n+    /**\n+     * Gets the alias which refers to this key at its originating keystore.\n+     *\n+     * @return The alias of this key.\n+     */\n+    String getAlias();\n+\n+    /**\n+     * Returns the creation date of the asymmetric key entry backing this instance.\n+     *\n+     * @return The asymmetric key creation date.\n+     * @throws ClientException If no asymmetric key exists.\n+     */\n+    Date getCreatedOn() throws ClientException;\n+\n+    /**\n+     * Gets the thumbprint of the current KeyPair.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "27da4f194529287c5a6c8c315654153ab7f20018"}, "originalPosition": 50}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkxODU2MjA1", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031#pullrequestreview-491856205", "createdAt": "2020-09-19T02:59:38Z", "commit": {"oid": "27da4f194529287c5a6c8c315654153ab7f20018"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOVQwMjo1OTozOFrOHUgK6Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOVQwMjo1OTozOFrOHUgK6Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTI2MDY0OQ==", "bodyText": "Javadoc RSA256 sig", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031#discussion_r491260649", "createdAt": "2020-09-19T02:59:38Z", "author": {"login": "iambmelt"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/platform/AsymmetricKey.java", "diffHunk": "@@ -0,0 +1,86 @@\n+//  Copyright (c) Microsoft Corporation.\n+//  All rights reserved.\n+//\n+//  This code is licensed under the MIT License.\n+//\n+//  Permission is hereby granted, free of charge, to any person obtaining a copy\n+//  of this software and associated documentation files(the \"Software\"), to deal\n+//  in the Software without restriction, including without limitation the rights\n+//  to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n+//  copies of the Software, and to permit persons to whom the Software is\n+//  furnished to do so, subject to the following conditions :\n+//\n+//  The above copyright notice and this permission notice shall be included in\n+//  all copies or substantial portions of the Software.\n+//\n+//  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+//  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+//  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+//  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+//  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+//  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+//  THE SOFTWARE.\n+package com.microsoft.identity.common.internal.platform;\n+\n+import com.microsoft.identity.common.exception.ClientException;\n+\n+import java.util.Date;\n+\n+/**\n+ * Represents an RSA asymmetric key.\n+ */\n+public interface AsymmetricKey {\n+\n+    /**\n+     * Gets the alias which refers to this key at its originating keystore.\n+     *\n+     * @return The alias of this key.\n+     */\n+    String getAlias();\n+\n+    /**\n+     * Returns the creation date of the asymmetric key entry backing this instance.\n+     *\n+     * @return The asymmetric key creation date.\n+     * @throws ClientException If no asymmetric key exists.\n+     */\n+    Date getCreatedOn() throws ClientException;\n+\n+    /**\n+     * Gets the thumbprint of the current KeyPair.\n+     *\n+     * @return The thumbprint.\n+     */\n+    String getThumbprint() throws ClientException;\n+\n+    /**\n+     * Gets an RFC-7517 compliant public key as a minified JWK.\n+     * <p>\n+     * Sample value:\n+     * <pre>\n+     * {\n+     * \t\"kty\": \"RSA\",\n+     * \t\"e\": \"AQAB\",\n+     * \t\"n\": \"tMqJ7Oxh3PdLaiEc28w....HwES9Q\"\n+     * }\n+     * </pre>\n+     */\n+    String getPublicKey() throws ClientException;\n+\n+    /**\n+     * Signs an arbitrary piece of String data.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "27da4f194529287c5a6c8c315654153ab7f20018"}, "originalPosition": 71}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkxODU2MjIz", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031#pullrequestreview-491856223", "createdAt": "2020-09-19T02:59:52Z", "commit": {"oid": "27da4f194529287c5a6c8c315654153ab7f20018"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOVQwMjo1OTo1MlrOHUgLAA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOVQwMjo1OTo1MlrOHUgLAA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTI2MDY3Mg==", "bodyText": "Javadoc RSA256", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031#discussion_r491260672", "createdAt": "2020-09-19T02:59:52Z", "author": {"login": "iambmelt"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/platform/AsymmetricKey.java", "diffHunk": "@@ -0,0 +1,86 @@\n+//  Copyright (c) Microsoft Corporation.\n+//  All rights reserved.\n+//\n+//  This code is licensed under the MIT License.\n+//\n+//  Permission is hereby granted, free of charge, to any person obtaining a copy\n+//  of this software and associated documentation files(the \"Software\"), to deal\n+//  in the Software without restriction, including without limitation the rights\n+//  to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n+//  copies of the Software, and to permit persons to whom the Software is\n+//  furnished to do so, subject to the following conditions :\n+//\n+//  The above copyright notice and this permission notice shall be included in\n+//  all copies or substantial portions of the Software.\n+//\n+//  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+//  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+//  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+//  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+//  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+//  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+//  THE SOFTWARE.\n+package com.microsoft.identity.common.internal.platform;\n+\n+import com.microsoft.identity.common.exception.ClientException;\n+\n+import java.util.Date;\n+\n+/**\n+ * Represents an RSA asymmetric key.\n+ */\n+public interface AsymmetricKey {\n+\n+    /**\n+     * Gets the alias which refers to this key at its originating keystore.\n+     *\n+     * @return The alias of this key.\n+     */\n+    String getAlias();\n+\n+    /**\n+     * Returns the creation date of the asymmetric key entry backing this instance.\n+     *\n+     * @return The asymmetric key creation date.\n+     * @throws ClientException If no asymmetric key exists.\n+     */\n+    Date getCreatedOn() throws ClientException;\n+\n+    /**\n+     * Gets the thumbprint of the current KeyPair.\n+     *\n+     * @return The thumbprint.\n+     */\n+    String getThumbprint() throws ClientException;\n+\n+    /**\n+     * Gets an RFC-7517 compliant public key as a minified JWK.\n+     * <p>\n+     * Sample value:\n+     * <pre>\n+     * {\n+     * \t\"kty\": \"RSA\",\n+     * \t\"e\": \"AQAB\",\n+     * \t\"n\": \"tMqJ7Oxh3PdLaiEc28w....HwES9Q\"\n+     * }\n+     * </pre>\n+     */\n+    String getPublicKey() throws ClientException;\n+\n+    /**\n+     * Signs an arbitrary piece of String data.\n+     *\n+     * @return The input data, signed by our private key.\n+     */\n+    String sign(String data) throws ClientException;\n+\n+    /**\n+     * Verifies a signature previously made by this private key.\n+     *\n+     * @param plainText    The input to verify.\n+     * @param signatureStr The signature against which the plainText should be evaluated.\n+     * @return True if the input was signed by our private key. False otherwise.\n+     */\n+    boolean verify(String plainText, String signatureStr);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "27da4f194529287c5a6c8c315654153ab7f20018"}, "originalPosition": 84}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkxODU2MzU5", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031#pullrequestreview-491856359", "createdAt": "2020-09-19T03:02:31Z", "commit": {"oid": "27da4f194529287c5a6c8c315654153ab7f20018"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOVQwMzowMjozMVrOHUgL7w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOVQwMzowMjozMVrOHUgL7w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTI2MDkxMQ==", "bodyText": "Javadoc basic expectations:\n\n2048 bit keys (secure & widely compatible on Android devices)\nMaybe hardware backed (depending on OS ver, TPM/HSM chipset)\nAPI 18+ assumed, API 23+ is best security", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031#discussion_r491260911", "createdAt": "2020-09-19T03:02:31Z", "author": {"login": "iambmelt"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/platform/AsymmetricKeyFactory.java", "diffHunk": "@@ -0,0 +1,59 @@\n+//  Copyright (c) Microsoft Corporation.\n+//  All rights reserved.\n+//\n+//  This code is licensed under the MIT License.\n+//\n+//  Permission is hereby granted, free of charge, to any person obtaining a copy\n+//  of this software and associated documentation files(the \"Software\"), to deal\n+//  in the Software without restriction, including without limitation the rights\n+//  to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n+//  copies of the Software, and to permit persons to whom the Software is\n+//  furnished to do so, subject to the following conditions :\n+//\n+//  The above copyright notice and this permission notice shall be included in\n+//  all copies or substantial portions of the Software.\n+//\n+//  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+//  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+//  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+//  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+//  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+//  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+//  THE SOFTWARE.\n+package com.microsoft.identity.common.internal.platform;\n+\n+import com.microsoft.identity.common.exception.ClientException;\n+\n+/**\n+ * Interface defining a factory for asymmetric keys.\n+ */\n+public interface AsymmetricKeyFactory {\n+\n+    /**\n+     * Generates a new {@link AsymmetricKey}, retrievable by the provided alias.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "27da4f194529287c5a6c8c315654153ab7f20018"}, "originalPosition": 33}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d095fe0c91de6487adb46f7f402bb1d9c9718666", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/d095fe0c91de6487adb46f7f402bb1d9c9718666", "committedDate": "2020-09-21T17:09:57Z", "message": "Merge branch 'dev' into iambmelt/oneauth-pop-extensions-2"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "56916f3c05654108bb195b1d80143589fbbf5fef", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/56916f3c05654108bb195b1d80143589fbbf5fef", "committedDate": "2020-09-21T18:56:34Z", "message": "Adds negative test (signature)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dd35b24ddbb8e097a04d52c752b65f6feaa6d75f", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/dd35b24ddbb8e097a04d52c752b65f6feaa6d75f", "committedDate": "2020-09-21T20:40:27Z", "message": "Additional javadoc of fields"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "221859a363bd775365e8451f0c9a2d710651a1b9", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/221859a363bd775365e8451f0c9a2d710651a1b9", "committedDate": "2020-09-21T20:42:14Z", "message": "Javadoc improvements; cover singleton behavior, TPM/HSM backing"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "472b99c3db29733a20e6becaa4a1bedf6a787043", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/472b99c3db29733a20e6becaa4a1bedf6a787043", "committedDate": "2020-09-21T20:44:34Z", "message": "Javadoc'ing algs for signing, verification"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0556f65a1fb7d137b5214aee9d6d8c3da49c46cb", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/0556f65a1fb7d137b5214aee9d6d8c3da49c46cb", "committedDate": "2020-09-21T20:50:57Z", "message": "Improve javadoc on AsymmetricKeyFactory"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c66f1aa2aae374ec6128c31ca91a059c9ae88025", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/c66f1aa2aae374ec6128c31ca91a059c9ae88025", "committedDate": "2020-09-21T21:03:18Z", "message": "Update changelog for new feature"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkzMDAxMzIx", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031#pullrequestreview-493001321", "createdAt": "2020-09-21T21:42:38Z", "commit": {"oid": "c66f1aa2aae374ec6128c31ca91a059c9ae88025"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQyMTo0MjozOFrOHVjcAQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQyMTo0MjozOFrOHVjcAQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjM2Mjc1Mw==", "bodyText": "Maybe add a test that two calls to generate with the same alias result in the same key?", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031#discussion_r492362753", "createdAt": "2020-09-21T21:42:38Z", "author": {"login": "AdamBJohnsonx"}, "path": "common/src/androidTest/java/com/microsoft/identity/common/internal/platform/AsymmetricKeyFactoryTests.java", "diffHunk": "@@ -0,0 +1,129 @@\n+//  Copyright (c) Microsoft Corporation.\n+//  All rights reserved.\n+//\n+//  This code is licensed under the MIT License.\n+//\n+//  Permission is hereby granted, free of charge, to any person obtaining a copy\n+//  of this software and associated documentation files(the \"Software\"), to deal\n+//  in the Software without restriction, including without limitation the rights\n+//  to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n+//  copies of the Software, and to permit persons to whom the Software is\n+//  furnished to do so, subject to the following conditions :\n+//\n+//  The above copyright notice and this permission notice shall be included in\n+//  all copies or substantial portions of the Software.\n+//\n+//  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+//  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+//  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+//  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+//  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+//  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+//  THE SOFTWARE.\n+package com.microsoft.identity.common.internal.platform;\n+\n+import android.content.Context;\n+\n+import androidx.test.InstrumentationRegistry;\n+import androidx.test.ext.junit.runners.AndroidJUnit4;\n+\n+import com.microsoft.identity.common.exception.ClientException;\n+\n+import org.junit.Assert;\n+import org.junit.Before;\n+import org.junit.Test;\n+import org.junit.runner.RunWith;\n+\n+@RunWith(AndroidJUnit4.class)\n+public class AsymmetricKeyFactoryTests {\n+\n+    private static final String SAMPLE_KEY_1 = \"sample_key_1\";\n+    private static final String SAMPLE_KEY_2 = \"sample_key_2\";\n+\n+    private AsymmetricKeyFactory mKeyFactory;\n+\n+    @Before\n+    public void setUp() {\n+        final Context context = InstrumentationRegistry.getTargetContext();\n+        mKeyFactory = new AndroidKeystoreAsymmetricKeyFactory(context);\n+    }\n+\n+    @Test\n+    public void testCanGenerateAsymmetricKey() throws ClientException {\n+        final AsymmetricKey asymmetricKey = mKeyFactory.generateAsymmetricKey(SAMPLE_KEY_1);\n+        Assert.assertNotNull(asymmetricKey);\n+        Assert.assertNotNull(asymmetricKey.getThumbprint());\n+    }\n+\n+    @Test\n+    public void testCanGenerateMultipleKeys() throws ClientException {\n+        final AsymmetricKey asymmetricKey1 = mKeyFactory.generateAsymmetricKey(SAMPLE_KEY_1);\n+        final AsymmetricKey asymmetricKey2 = mKeyFactory.generateAsymmetricKey(SAMPLE_KEY_2);\n+\n+        Assert.assertNotNull(asymmetricKey1);\n+        Assert.assertNotNull(asymmetricKey1.getThumbprint());\n+\n+        Assert.assertNotNull(asymmetricKey1);\n+        Assert.assertNotNull(asymmetricKey1.getThumbprint());\n+\n+        // Assert they're not the same\n+        Assert.assertNotEquals(\n+                asymmetricKey1.getThumbprint(),\n+                asymmetricKey2.getThumbprint()\n+        );\n+    }\n+\n+    @Test\n+    public void testClearingOneKeyPreservesAnother() throws ClientException {\n+        final AsymmetricKey asymmetricKey1 = mKeyFactory.generateAsymmetricKey(SAMPLE_KEY_1);\n+        final AsymmetricKey asymmetricKey2 = mKeyFactory.generateAsymmetricKey(SAMPLE_KEY_2);\n+\n+        final String key1Thumbprint = asymmetricKey1.getThumbprint();\n+\n+        // Clear our second key\n+        mKeyFactory.clearAsymmetricKey(SAMPLE_KEY_2);\n+\n+        // Reload our first key\n+        final AsymmetricKey reloadedFirstKey = mKeyFactory.loadAsymmetricKey(SAMPLE_KEY_1);\n+\n+        // Reload the first key - assert that signature hasn't changed\n+        Assert.assertEquals(\n+                key1Thumbprint,\n+                reloadedFirstKey.getThumbprint()\n+        );\n+\n+        // Assert the alias is the same\n+        Assert.assertEquals(\n+                asymmetricKey1.getAlias(),\n+                reloadedFirstKey.getAlias()\n+        );\n+    }\n+\n+    @Test\n+    public void testCanGenerateKeyWhenLoadCalledBeforeGeneration() throws ClientException {\n+        final AsymmetricKey key1 = mKeyFactory.loadAsymmetricKey(SAMPLE_KEY_1);\n+        Assert.assertEquals(SAMPLE_KEY_1, key1.getAlias());\n+    }\n+\n+    @Test\n+    public void testCanClearAsymmetricKey() throws ClientException {\n+        // Generate a key\n+        final AsymmetricKey asymmetricKey1 = mKeyFactory.generateAsymmetricKey(SAMPLE_KEY_1);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c66f1aa2aae374ec6128c31ca91a059c9ae88025"}, "originalPosition": 111}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkzMDAzNDUy", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031#pullrequestreview-493003452", "createdAt": "2020-09-21T21:46:38Z", "commit": {"oid": "c66f1aa2aae374ec6128c31ca91a059c9ae88025"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQyMTo0NjozOFrOHVjisg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQyMTo0NjozOFrOHVjisg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjM2NDQ2Ng==", "bodyText": "If this is coupled to RSA, I'd incorporate that into the implementing class name.", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031#discussion_r492364466", "createdAt": "2020-09-21T21:46:38Z", "author": {"login": "AdamBJohnsonx"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/platform/AndroidKeystoreAsymmetricKey.java", "diffHunk": "@@ -0,0 +1,107 @@\n+//  Copyright (c) Microsoft Corporation.\n+//  All rights reserved.\n+//\n+//  This code is licensed under the MIT License.\n+//\n+//  Permission is hereby granted, free of charge, to any person obtaining a copy\n+//  of this software and associated documentation files(the \"Software\"), to deal\n+//  in the Software without restriction, including without limitation the rights\n+//  to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n+//  copies of the Software, and to permit persons to whom the Software is\n+//  furnished to do so, subject to the following conditions :\n+//\n+//  The above copyright notice and this permission notice shall be included in\n+//  all copies or substantial portions of the Software.\n+//\n+//  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+//  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+//  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+//  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+//  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+//  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+//  THE SOFTWARE.\n+package com.microsoft.identity.common.internal.platform;\n+\n+import android.content.Context;\n+import android.os.Build;\n+\n+import androidx.annotation.NonNull;\n+import androidx.annotation.RequiresApi;\n+\n+import com.microsoft.identity.common.exception.ClientException;\n+\n+import java.util.Date;\n+\n+/**\n+ * Represents an asymmetric key, backed by the Android Keystore.\n+ */\n+public class AndroidKeystoreAsymmetricKey implements AsymmetricKey {\n+\n+    /**\n+     * The {@link IDevicePopManager} to which we will delegate most cryptographic actions.\n+     */\n+    private final IDevicePopManager mDevicePopManager;\n+\n+    /**\n+     * The alias is name of this keypair in the underlying keystore.\n+     */\n+    private final String mAlias;\n+\n+    /**\n+     * Constructs a new {@link AndroidKeystoreAsymmetricKey} instance.\n+     *\n+     * @param context    The application Context.\n+     * @param popManager The underlying {@link IDevicePopManager} to which we'll delegate.\n+     * @throws ClientException If asymmetric key generation fails.\n+     */\n+    AndroidKeystoreAsymmetricKey(@NonNull final Context context,\n+                                 @NonNull final IDevicePopManager popManager,\n+                                 @NonNull final String alias)\n+            throws ClientException {\n+        mDevicePopManager = popManager;\n+        mAlias = alias;\n+\n+        if (!mDevicePopManager.asymmetricKeyExists()) {\n+            mDevicePopManager.generateAsymmetricKey(context);\n+        }\n+    }\n+\n+    @Override\n+    public String getAlias() {\n+        return mAlias;\n+    }\n+\n+    @Override\n+    public Date getCreatedOn() throws ClientException {\n+        return mDevicePopManager.getAsymmetricKeyCreationDate();\n+    }\n+\n+    @Override\n+    public String getThumbprint() throws ClientException {\n+        return mDevicePopManager.getAsymmetricKeyThumbprint();\n+    }\n+\n+    @Override\n+    public String getPublicKey() throws ClientException {\n+        return mDevicePopManager.getPublicKey(IDevicePopManager.PublicKeyFormat.JWK);\n+    }\n+\n+    @RequiresApi(api = Build.VERSION_CODES.JELLY_BEAN_MR2)\n+    @Override\n+    public String sign(@NonNull final String data) throws ClientException {\n+        return mDevicePopManager.sign(\n+                DevicePopManager.SigningAlgorithm.SHA_256_WITH_RSA,\n+                data\n+        );\n+    }\n+\n+    @RequiresApi(api = Build.VERSION_CODES.JELLY_BEAN_MR2)\n+    @Override\n+    public boolean verify(@NonNull final String plainText, @NonNull final String signatureStr) {\n+        return mDevicePopManager.verify(\n+                DevicePopManager.SigningAlgorithm.SHA_256_WITH_RSA,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c66f1aa2aae374ec6128c31ca91a059c9ae88025"}, "originalPosition": 102}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkzMDAzODMz", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031#pullrequestreview-493003833", "createdAt": "2020-09-21T21:47:21Z", "commit": {"oid": "c66f1aa2aae374ec6128c31ca91a059c9ae88025"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQyMTo0NzoyMVrOHVjj_A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQyMTo0NzoyMVrOHVjj_A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjM2NDc5Ng==", "bodyText": "This should be able to verify any signature string, if it is understandable by the implementation of the interface, right?", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031#discussion_r492364796", "createdAt": "2020-09-21T21:47:21Z", "author": {"login": "AdamBJohnsonx"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/platform/AsymmetricKey.java", "diffHunk": "@@ -0,0 +1,88 @@\n+//  Copyright (c) Microsoft Corporation.\n+//  All rights reserved.\n+//\n+//  This code is licensed under the MIT License.\n+//\n+//  Permission is hereby granted, free of charge, to any person obtaining a copy\n+//  of this software and associated documentation files(the \"Software\"), to deal\n+//  in the Software without restriction, including without limitation the rights\n+//  to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n+//  copies of the Software, and to permit persons to whom the Software is\n+//  furnished to do so, subject to the following conditions :\n+//\n+//  The above copyright notice and this permission notice shall be included in\n+//  all copies or substantial portions of the Software.\n+//\n+//  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+//  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+//  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+//  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+//  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+//  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+//  THE SOFTWARE.\n+package com.microsoft.identity.common.internal.platform;\n+\n+import com.microsoft.identity.common.exception.ClientException;\n+\n+import java.util.Date;\n+\n+/**\n+ * Represents an RSA asymmetric key. This object represents a single keypair instance inside of an\n+ * underlying keystore which may or may not be hardware backed depending on OS version, key size,\n+ * and TPM/HSM chipset.\n+ */\n+public interface AsymmetricKey {\n+\n+    /**\n+     * Gets the alias which refers to this key at its originating keystore.\n+     *\n+     * @return The alias of this key.\n+     */\n+    String getAlias();\n+\n+    /**\n+     * Returns the creation date of the asymmetric key entry backing this instance.\n+     *\n+     * @return The asymmetric key creation date.\n+     * @throws ClientException If no asymmetric key exists.\n+     */\n+    Date getCreatedOn() throws ClientException;\n+\n+    /**\n+     * Gets the thumbprint of the current KeyPair. Format is SHA256.\n+     *\n+     * @return The thumbprint.\n+     */\n+    String getThumbprint() throws ClientException;\n+\n+    /**\n+     * Gets an RFC-7517 compliant public key as a minified JWK.\n+     * <p>\n+     * Sample value:\n+     * <pre>\n+     * {\n+     * \t\"kty\": \"RSA\",\n+     * \t\"e\": \"AQAB\",\n+     * \t\"n\": \"tMqJ7Oxh3PdLaiEc28w....HwES9Q\"\n+     * }\n+     * </pre>\n+     */\n+    String getPublicKey() throws ClientException;\n+\n+    /**\n+     * Signs an arbitrary piece of String data. Algorithm is RSA256.\n+     *\n+     * @return The input data, signed by our private key.\n+     */\n+    String sign(String data) throws ClientException;\n+\n+    /**\n+     * Verifies a signature previously made by this private key. Algorithm is RSA256.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c66f1aa2aae374ec6128c31ca91a059c9ae88025"}, "originalPosition": 80}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkzMDA0NjIz", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031#pullrequestreview-493004623", "createdAt": "2020-09-21T21:48:57Z", "commit": {"oid": "c66f1aa2aae374ec6128c31ca91a059c9ae88025"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQyMTo0ODo1N1rOHVjmdQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQyMTo0ODo1N1rOHVjmdQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjM2NTQyOQ==", "bodyText": "If this must be an RSA key, I'd expect it to be in the name.  But I think that this interface can support any asymmetric key algorithm.  If so, we should weaken the documentation appropriately.", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031#discussion_r492365429", "createdAt": "2020-09-21T21:48:57Z", "author": {"login": "AdamBJohnsonx"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/platform/AsymmetricKey.java", "diffHunk": "@@ -0,0 +1,88 @@\n+//  Copyright (c) Microsoft Corporation.\n+//  All rights reserved.\n+//\n+//  This code is licensed under the MIT License.\n+//\n+//  Permission is hereby granted, free of charge, to any person obtaining a copy\n+//  of this software and associated documentation files(the \"Software\"), to deal\n+//  in the Software without restriction, including without limitation the rights\n+//  to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n+//  copies of the Software, and to permit persons to whom the Software is\n+//  furnished to do so, subject to the following conditions :\n+//\n+//  The above copyright notice and this permission notice shall be included in\n+//  all copies or substantial portions of the Software.\n+//\n+//  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+//  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+//  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+//  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+//  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+//  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+//  THE SOFTWARE.\n+package com.microsoft.identity.common.internal.platform;\n+\n+import com.microsoft.identity.common.exception.ClientException;\n+\n+import java.util.Date;\n+\n+/**\n+ * Represents an RSA asymmetric key. This object represents a single keypair instance inside of an", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c66f1aa2aae374ec6128c31ca91a059c9ae88025"}, "originalPosition": 30}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e76345c5d7f2884fa2eae6884186ef30606d13e7", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/e76345c5d7f2884fa2eae6884186ef30606d13e7", "committedDate": "2020-09-21T21:54:12Z", "message": "Class rename to make RSA coupling explicit"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "32e3fc7df261f5b9660f42e683b476e0bb38dff5", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/32e3fc7df261f5b9660f42e683b476e0bb38dff5", "committedDate": "2020-09-21T22:03:41Z", "message": "Pulling members up to non-RSA superinterface"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fad1b26e0d47079f151f8e981a8d997bbb1f5413", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/fad1b26e0d47079f151f8e981a8d997bbb1f5413", "committedDate": "2020-09-21T22:08:45Z", "message": "Cleanup extra whitespace"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9b4f14fe9a7abeb839e9d60d098ced3b56ae6a50", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/9b4f14fe9a7abeb839e9d60d098ced3b56ae6a50", "committedDate": "2020-09-21T22:09:45Z", "message": "Add newline"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "477a0592f132697fe089a128787d7bb7f12d189f", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/477a0592f132697fe089a128787d7bb7f12d189f", "committedDate": "2020-09-21T22:14:13Z", "message": "Assert that two 'generate' calls for the same alias result in the same\nunderlying key material"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "043c0e5445629de0b1c848251c534daf56b2f7f7", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/043c0e5445629de0b1c848251c534daf56b2f7f7", "committedDate": "2020-09-21T22:15:56Z", "message": "Synchronize factory calls"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkzMDYzMDI4", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031#pullrequestreview-493063028", "createdAt": "2020-09-22T00:20:08Z", "commit": {"oid": "043c0e5445629de0b1c848251c534daf56b2f7f7"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1570, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}