{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQzMTI3OTY1", "number": 952, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQwMToxMDoyM1rOEKtdiQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQyMjowNjowMlrOELEO7w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc5NjY2MDU3OnYy", "diffSide": "RIGHT", "path": "testutils/src/main/java/com/microsoft/identity/internal/testutils/labutils/LabUserHelper.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQwMToxMDoyM1rOGr6G2Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQwMToxMDoyM1rOGr6G2Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODY5Mzk3Nw==", "bodyText": "Would probably be better to accept each of these as method parameters instead of hard coding here", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/952#discussion_r448693977", "createdAt": "2020-07-02T01:10:23Z", "author": {"login": "shahzaibj"}, "path": "testutils/src/main/java/com/microsoft/identity/internal/testutils/labutils/LabUserHelper.java", "diffHunk": "@@ -175,6 +192,16 @@ public static Credential getCredentials(LabUserQuery query) {\n         return credential;\n     }\n \n+    public static AppInfo getAppInfo() {\n+        LabAuthenticationHelper.getInstance().setupApiClientWithAccessToken();\n+        AppApi api = new AppApi();\n+        try {\n+            return api.getAppByParam(\"cloud\", \"azurecloud\", \"azureadmultipleorgs\", \"yes\", \"yes\").get(0);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "450c39b5c8a5eeb4f19afc19272756d164b17d42"}, "originalPosition": 43}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc5OTg1NzYzOnYy", "diffSide": "RIGHT", "path": "testutils/src/main/java/com/microsoft/identity/internal/testutils/labutils/LabUserHelper.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQxODozOTo1OFrOGsZMKg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQxODo1ODo1NlrOGsZucw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTIwMzI0Mg==", "bodyText": "Why duplicate all of these as enums? Are the String constants in LabConstants.java not sufficient?", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/952#discussion_r449203242", "createdAt": "2020-07-02T18:39:58Z", "author": {"login": "shahzaibj"}, "path": "testutils/src/main/java/com/microsoft/identity/internal/testutils/labutils/LabUserHelper.java", "diffHunk": "@@ -71,6 +71,82 @@\n         return configInfos;\n     }\n \n+    public enum UserType {\n+        CLOUD(LabConstants.UserType.CLOUD),\n+        B2C(LabConstants.UserType.B2C),\n+        FEDERATED(LabConstants.UserType.FEDERATED),\n+        GUEST(LabConstants.UserType.GUEST),\n+        MSA(LabConstants.UserType.MSA),\n+        ON_PREM(LabConstants.UserType.ON_PREM)\n+        ;\n+        String constant;\n+        UserType(String constant) {\n+            this.constant = constant;\n+        }\n+        String getValue() {\n+            return constant;\n+        }\n+\n+    }\n+\n+    public enum SignInAudience {\n+        AZURE_AD_AND_PERSONAL_MICROSOFT_ACCOUNT(LabConstants.SignInAudience.AZURE_AD_AND_PERSONAL_MICROSOFT_ACCOUNT),\n+        AZURE_AD_MULTIPLE_ORGS(LabConstants.SignInAudience.AZURE_AD_MULTIPLE_ORGS),\n+        AZURE_AD_MY_ORG(LabConstants.SignInAudience.AZURE_AD_MY_ORG),\n+        ;\n+        String constant;\n+        SignInAudience(String constant) {\n+            this.constant = constant;\n+        }\n+        String getValue() {\n+            return constant;\n+        }\n+\n+    }\n+\n+    public enum AzureEnvironment {\n+        AZURE_B2C_CLOUD(LabConstants.AzureEnvironment.AZURE_B2C_CLOUD),\n+        AZURE_CHINA_CLOUD(LabConstants.AzureEnvironment.AZURE_CHINA_CLOUD),\n+        AZURE_CLOUD(LabConstants.AzureEnvironment.AZURE_CLOUD),\n+        AZURE_GERMANY_CLOUD(LabConstants.AzureEnvironment.AZURE_GERMANY_CLOUD),\n+        AZURE_PPE(LabConstants.AzureEnvironment.AZURE_PPE),\n+        AZURE_US_GOVERNMENT(LabConstants.AzureEnvironment.AZURE_US_GOVERNMENT)\n+        ;\n+        String constant;\n+        AzureEnvironment(String constant) {\n+            this.constant = constant;\n+        }\n+        String getValue() {\n+            return constant;\n+        }\n+    }\n+\n+    public enum IsAdminConsented {\n+        YES(LabConstants.IsAdminConsented.YES),\n+        NO(LabConstants.IsAdminConsented.NO)\n+        ;\n+        String constant;\n+        IsAdminConsented(String constant) {\n+            this.constant = constant;\n+        }\n+        String getValue() {\n+            return constant;\n+        }\n+    }\n+\n+    public enum PublicClient {\n+        YES(LabConstants.PublicClient.YES),\n+        NO(LabConstants.PublicClient.NO)\n+        ;\n+        String constant;\n+        PublicClient(String constant) {\n+            this.constant = constant;\n+        }\n+        String getValue() {\n+            return constant;\n+        }\n+    }\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fb256e0ffef028452e7d33146a2e0e38f1562f03"}, "originalPosition": 79}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTIwNzg2OQ==", "bodyText": "I'm going to say no, they're not.  Because nothing stops you from putting the wrong string, or nay, any string into the method arguments nothing saves you from transposing the arguments or provides a path from the method to what the potential values are unless you happen to know that there's a class called LabConstants.", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/952#discussion_r449207869", "createdAt": "2020-07-02T18:49:59Z", "author": {"login": "AdamBJohnsonx"}, "path": "testutils/src/main/java/com/microsoft/identity/internal/testutils/labutils/LabUserHelper.java", "diffHunk": "@@ -71,6 +71,82 @@\n         return configInfos;\n     }\n \n+    public enum UserType {\n+        CLOUD(LabConstants.UserType.CLOUD),\n+        B2C(LabConstants.UserType.B2C),\n+        FEDERATED(LabConstants.UserType.FEDERATED),\n+        GUEST(LabConstants.UserType.GUEST),\n+        MSA(LabConstants.UserType.MSA),\n+        ON_PREM(LabConstants.UserType.ON_PREM)\n+        ;\n+        String constant;\n+        UserType(String constant) {\n+            this.constant = constant;\n+        }\n+        String getValue() {\n+            return constant;\n+        }\n+\n+    }\n+\n+    public enum SignInAudience {\n+        AZURE_AD_AND_PERSONAL_MICROSOFT_ACCOUNT(LabConstants.SignInAudience.AZURE_AD_AND_PERSONAL_MICROSOFT_ACCOUNT),\n+        AZURE_AD_MULTIPLE_ORGS(LabConstants.SignInAudience.AZURE_AD_MULTIPLE_ORGS),\n+        AZURE_AD_MY_ORG(LabConstants.SignInAudience.AZURE_AD_MY_ORG),\n+        ;\n+        String constant;\n+        SignInAudience(String constant) {\n+            this.constant = constant;\n+        }\n+        String getValue() {\n+            return constant;\n+        }\n+\n+    }\n+\n+    public enum AzureEnvironment {\n+        AZURE_B2C_CLOUD(LabConstants.AzureEnvironment.AZURE_B2C_CLOUD),\n+        AZURE_CHINA_CLOUD(LabConstants.AzureEnvironment.AZURE_CHINA_CLOUD),\n+        AZURE_CLOUD(LabConstants.AzureEnvironment.AZURE_CLOUD),\n+        AZURE_GERMANY_CLOUD(LabConstants.AzureEnvironment.AZURE_GERMANY_CLOUD),\n+        AZURE_PPE(LabConstants.AzureEnvironment.AZURE_PPE),\n+        AZURE_US_GOVERNMENT(LabConstants.AzureEnvironment.AZURE_US_GOVERNMENT)\n+        ;\n+        String constant;\n+        AzureEnvironment(String constant) {\n+            this.constant = constant;\n+        }\n+        String getValue() {\n+            return constant;\n+        }\n+    }\n+\n+    public enum IsAdminConsented {\n+        YES(LabConstants.IsAdminConsented.YES),\n+        NO(LabConstants.IsAdminConsented.NO)\n+        ;\n+        String constant;\n+        IsAdminConsented(String constant) {\n+            this.constant = constant;\n+        }\n+        String getValue() {\n+            return constant;\n+        }\n+    }\n+\n+    public enum PublicClient {\n+        YES(LabConstants.PublicClient.YES),\n+        NO(LabConstants.PublicClient.NO)\n+        ;\n+        String constant;\n+        PublicClient(String constant) {\n+            this.constant = constant;\n+        }\n+        String getValue() {\n+            return constant;\n+        }\n+    }\n+", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTIwMzI0Mg=="}, "originalCommit": {"oid": "fb256e0ffef028452e7d33146a2e0e38f1562f03"}, "originalPosition": 79}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTIxMjAxOQ==", "bodyText": "Makes sense", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/952#discussion_r449212019", "createdAt": "2020-07-02T18:58:56Z", "author": {"login": "shahzaibj"}, "path": "testutils/src/main/java/com/microsoft/identity/internal/testutils/labutils/LabUserHelper.java", "diffHunk": "@@ -71,6 +71,82 @@\n         return configInfos;\n     }\n \n+    public enum UserType {\n+        CLOUD(LabConstants.UserType.CLOUD),\n+        B2C(LabConstants.UserType.B2C),\n+        FEDERATED(LabConstants.UserType.FEDERATED),\n+        GUEST(LabConstants.UserType.GUEST),\n+        MSA(LabConstants.UserType.MSA),\n+        ON_PREM(LabConstants.UserType.ON_PREM)\n+        ;\n+        String constant;\n+        UserType(String constant) {\n+            this.constant = constant;\n+        }\n+        String getValue() {\n+            return constant;\n+        }\n+\n+    }\n+\n+    public enum SignInAudience {\n+        AZURE_AD_AND_PERSONAL_MICROSOFT_ACCOUNT(LabConstants.SignInAudience.AZURE_AD_AND_PERSONAL_MICROSOFT_ACCOUNT),\n+        AZURE_AD_MULTIPLE_ORGS(LabConstants.SignInAudience.AZURE_AD_MULTIPLE_ORGS),\n+        AZURE_AD_MY_ORG(LabConstants.SignInAudience.AZURE_AD_MY_ORG),\n+        ;\n+        String constant;\n+        SignInAudience(String constant) {\n+            this.constant = constant;\n+        }\n+        String getValue() {\n+            return constant;\n+        }\n+\n+    }\n+\n+    public enum AzureEnvironment {\n+        AZURE_B2C_CLOUD(LabConstants.AzureEnvironment.AZURE_B2C_CLOUD),\n+        AZURE_CHINA_CLOUD(LabConstants.AzureEnvironment.AZURE_CHINA_CLOUD),\n+        AZURE_CLOUD(LabConstants.AzureEnvironment.AZURE_CLOUD),\n+        AZURE_GERMANY_CLOUD(LabConstants.AzureEnvironment.AZURE_GERMANY_CLOUD),\n+        AZURE_PPE(LabConstants.AzureEnvironment.AZURE_PPE),\n+        AZURE_US_GOVERNMENT(LabConstants.AzureEnvironment.AZURE_US_GOVERNMENT)\n+        ;\n+        String constant;\n+        AzureEnvironment(String constant) {\n+            this.constant = constant;\n+        }\n+        String getValue() {\n+            return constant;\n+        }\n+    }\n+\n+    public enum IsAdminConsented {\n+        YES(LabConstants.IsAdminConsented.YES),\n+        NO(LabConstants.IsAdminConsented.NO)\n+        ;\n+        String constant;\n+        IsAdminConsented(String constant) {\n+            this.constant = constant;\n+        }\n+        String getValue() {\n+            return constant;\n+        }\n+    }\n+\n+    public enum PublicClient {\n+        YES(LabConstants.PublicClient.YES),\n+        NO(LabConstants.PublicClient.NO)\n+        ;\n+        String constant;\n+        PublicClient(String constant) {\n+            this.constant = constant;\n+        }\n+        String getValue() {\n+            return constant;\n+        }\n+    }\n+", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTIwMzI0Mg=="}, "originalCommit": {"oid": "fb256e0ffef028452e7d33146a2e0e38f1562f03"}, "originalPosition": 79}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc5OTg2MDY2OnYy", "diffSide": "RIGHT", "path": "testutils/src/main/java/com/microsoft/identity/internal/testutils/labutils/LabUserHelper.java", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQxODo0MDo1N1rOGsZOAQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQxOTowMDozM1rOGsZxeg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTIwMzcxMw==", "bodyText": "Do we really need this method? Is the one below not sufficient?", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/952#discussion_r449203713", "createdAt": "2020-07-02T18:40:57Z", "author": {"login": "shahzaibj"}, "path": "testutils/src/main/java/com/microsoft/identity/internal/testutils/labutils/LabUserHelper.java", "diffHunk": "@@ -193,10 +269,17 @@ public static Credential getCredentials(LabUserQuery query) {\n     }\n \n     public static AppInfo getAppInfo() {\n+            return getAppInfo(UserType.CLOUD, AzureEnvironment.AZURE_CLOUD, SignInAudience.AZURE_AD_MULTIPLE_ORGS,\n+                    IsAdminConsented.YES, PublicClient.YES);\n+   }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fb256e0ffef028452e7d33146a2e0e38f1562f03"}, "originalPosition": 89}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTIxMTM2OA==", "bodyText": "This is just convenience, since these are supposed to be the \"default\" values according to the swagger document.  I could theoretically just send a to Api/App and get these, and that's what I should probably change this to do.", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/952#discussion_r449211368", "createdAt": "2020-07-02T18:57:32Z", "author": {"login": "AdamBJohnsonx"}, "path": "testutils/src/main/java/com/microsoft/identity/internal/testutils/labutils/LabUserHelper.java", "diffHunk": "@@ -193,10 +269,17 @@ public static Credential getCredentials(LabUserQuery query) {\n     }\n \n     public static AppInfo getAppInfo() {\n+            return getAppInfo(UserType.CLOUD, AzureEnvironment.AZURE_CLOUD, SignInAudience.AZURE_AD_MULTIPLE_ORGS,\n+                    IsAdminConsented.YES, PublicClient.YES);\n+   }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTIwMzcxMw=="}, "originalCommit": {"oid": "fb256e0ffef028452e7d33146a2e0e38f1562f03"}, "originalPosition": 89}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTIxMjI5MQ==", "bodyText": "Okay I would suggest renaming the method then to something like getDefaultAppInfo", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/952#discussion_r449212291", "createdAt": "2020-07-02T18:59:28Z", "author": {"login": "shahzaibj"}, "path": "testutils/src/main/java/com/microsoft/identity/internal/testutils/labutils/LabUserHelper.java", "diffHunk": "@@ -193,10 +269,17 @@ public static Credential getCredentials(LabUserQuery query) {\n     }\n \n     public static AppInfo getAppInfo() {\n+            return getAppInfo(UserType.CLOUD, AzureEnvironment.AZURE_CLOUD, SignInAudience.AZURE_AD_MULTIPLE_ORGS,\n+                    IsAdminConsented.YES, PublicClient.YES);\n+   }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTIwMzcxMw=="}, "originalCommit": {"oid": "fb256e0ffef028452e7d33146a2e0e38f1562f03"}, "originalPosition": 89}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTIxMjc5NA==", "bodyText": "Yeah, it's interesting the mismatch between what the service does and what the AppApi class allows.", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/952#discussion_r449212794", "createdAt": "2020-07-02T19:00:33Z", "author": {"login": "AdamBJohnsonx"}, "path": "testutils/src/main/java/com/microsoft/identity/internal/testutils/labutils/LabUserHelper.java", "diffHunk": "@@ -193,10 +269,17 @@ public static Credential getCredentials(LabUserQuery query) {\n     }\n \n     public static AppInfo getAppInfo() {\n+            return getAppInfo(UserType.CLOUD, AzureEnvironment.AZURE_CLOUD, SignInAudience.AZURE_AD_MULTIPLE_ORGS,\n+                    IsAdminConsented.YES, PublicClient.YES);\n+   }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTIwMzcxMw=="}, "originalCommit": {"oid": "fb256e0ffef028452e7d33146a2e0e38f1562f03"}, "originalPosition": 89}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgwMDM5MTUxOnYy", "diffSide": "RIGHT", "path": "testutils/src/main/java/com/microsoft/identity/internal/testutils/labutils/LabUserHelper.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQyMjowNjowMlrOGseRUg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQyMjoxMTowN1rOGseW7w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTI4NjQ4Mg==", "bodyText": "Synced offline...let's make sure if this Consumer is needed...if not, then let's remove it", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/952#discussion_r449286482", "createdAt": "2020-07-02T22:06:02Z", "author": {"login": "shahzaibj"}, "path": "testutils/src/main/java/com/microsoft/identity/internal/testutils/labutils/LabUserHelper.java", "diffHunk": "@@ -146,6 +226,19 @@ public static String loadTempUser(final String userType) {\n         return tempUser.getUpn();\n     }\n \n+    public static TempUser loadTempUserForTest(final String userType, Consumer<TempUser> consumer) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "404e4dec253ee432b76a3b3503909a11afabe938"}, "originalPosition": 102}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTI4NzkxOQ==", "bodyText": "If I'm returning the reference, I don't need it.", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/952#discussion_r449287919", "createdAt": "2020-07-02T22:11:07Z", "author": {"login": "AdamBJohnsonx"}, "path": "testutils/src/main/java/com/microsoft/identity/internal/testutils/labutils/LabUserHelper.java", "diffHunk": "@@ -146,6 +226,19 @@ public static String loadTempUser(final String userType) {\n         return tempUser.getUpn();\n     }\n \n+    public static TempUser loadTempUserForTest(final String userType, Consumer<TempUser> consumer) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTI4NjQ4Mg=="}, "originalCommit": {"oid": "404e4dec253ee432b76a3b3503909a11afabe938"}, "originalPosition": 102}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2409, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}