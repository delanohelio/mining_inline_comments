{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTMyODc0NzYx", "number": 1149, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxOTozOTo0NFrOFCj7nw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxOTo0MjoyN1rOFCkAMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM4MjMwMTc1OnYy", "diffSide": "RIGHT", "path": "common/src/main/java/com/microsoft/identity/common/internal/providers/oauth2/WebViewAuthorizationFragment.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxOTozOTo0NFrOIBy5Ug==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxOTo0NjoyMVrOIBzJWg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODc1MzM2Mg==", "bodyText": "We lost a null check here.  Did we need it?", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1149#discussion_r538753362", "createdAt": "2020-12-08T19:39:44Z", "author": {"login": "AdamBJohnsonx"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/providers/oauth2/WebViewAuthorizationFragment.java", "diffHunk": "@@ -171,18 +169,14 @@ public void run() {\n     @Override\n     public boolean onBackPressed() {\n         Logger.info(TAG, \"Back button is pressed\");\n-        if (null != mWebView && mWebView.canGoBack()) {\n-            // User should be able to click back button to cancel. Counting blank page as well.\n-            final int BACK_PRESSED_STEPS = -2;\n-            if (!mWebView.canGoBackOrForward(BACK_PRESSED_STEPS)) {\n-                cancelAuthorization(true);\n-            } else {\n-                mWebView.goBack();\n-            }\n-            return true;\n+\n+        if (mWebView.canGoBack()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "75788c812f7c3b658dd57ad823051a2d34fa52c9"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODc1NzQ2Ng==", "bodyText": "Nope, not sure why this was here to begin with. The view will be created as part of the Fragment's start-up lifecycle", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1149#discussion_r538757466", "createdAt": "2020-12-08T19:46:21Z", "author": {"login": "iambmelt"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/providers/oauth2/WebViewAuthorizationFragment.java", "diffHunk": "@@ -171,18 +169,14 @@ public void run() {\n     @Override\n     public boolean onBackPressed() {\n         Logger.info(TAG, \"Back button is pressed\");\n-        if (null != mWebView && mWebView.canGoBack()) {\n-            // User should be able to click back button to cancel. Counting blank page as well.\n-            final int BACK_PRESSED_STEPS = -2;\n-            if (!mWebView.canGoBackOrForward(BACK_PRESSED_STEPS)) {\n-                cancelAuthorization(true);\n-            } else {\n-                mWebView.goBack();\n-            }\n-            return true;\n+\n+        if (mWebView.canGoBack()) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODc1MzM2Mg=="}, "originalCommit": {"oid": "75788c812f7c3b658dd57ad823051a2d34fa52c9"}, "originalPosition": 23}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM4MjMxMzQ0OnYy", "diffSide": "RIGHT", "path": "common/src/main/java/com/microsoft/identity/common/internal/providers/oauth2/WebViewAuthorizationFragment.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxOTo0MjoyN1rOIBzAFQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxOTo1NTowMlrOIBzegw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODc1NTA5Mw==", "bodyText": "This used to return true iff we had a WebView and it could go back, false otherwise.  Do we need to?", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1149#discussion_r538755093", "createdAt": "2020-12-08T19:42:27Z", "author": {"login": "AdamBJohnsonx"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/providers/oauth2/WebViewAuthorizationFragment.java", "diffHunk": "@@ -171,18 +169,14 @@ public void run() {\n     @Override\n     public boolean onBackPressed() {\n         Logger.info(TAG, \"Back button is pressed\");\n-        if (null != mWebView && mWebView.canGoBack()) {\n-            // User should be able to click back button to cancel. Counting blank page as well.\n-            final int BACK_PRESSED_STEPS = -2;\n-            if (!mWebView.canGoBackOrForward(BACK_PRESSED_STEPS)) {\n-                cancelAuthorization(true);\n-            } else {\n-                mWebView.goBack();\n-            }\n-            return true;\n+\n+        if (mWebView.canGoBack()) {\n+            mWebView.goBack();\n+        } else {\n+            cancelAuthorization(true);\n         }\n \n-        return false;\n+        return true;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "75788c812f7c3b658dd57ad823051a2d34fa52c9"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODc2Mjg4Mw==", "bodyText": "Nope, unclear to me why this was ever written this way -- false should be used by this Fragment to signal \"I did not handle this event\" but, if it's on-screen, there is always something for this Fragment to do: either goBack() or self-cancel. Irrespective of which happens we should return true, signaling we handled the onBackPressed() event ourselves", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1149#discussion_r538762883", "createdAt": "2020-12-08T19:55:02Z", "author": {"login": "iambmelt"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/providers/oauth2/WebViewAuthorizationFragment.java", "diffHunk": "@@ -171,18 +169,14 @@ public void run() {\n     @Override\n     public boolean onBackPressed() {\n         Logger.info(TAG, \"Back button is pressed\");\n-        if (null != mWebView && mWebView.canGoBack()) {\n-            // User should be able to click back button to cancel. Counting blank page as well.\n-            final int BACK_PRESSED_STEPS = -2;\n-            if (!mWebView.canGoBackOrForward(BACK_PRESSED_STEPS)) {\n-                cancelAuthorization(true);\n-            } else {\n-                mWebView.goBack();\n-            }\n-            return true;\n+\n+        if (mWebView.canGoBack()) {\n+            mWebView.goBack();\n+        } else {\n+            cancelAuthorization(true);\n         }\n \n-        return false;\n+        return true;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODc1NTA5Mw=="}, "originalCommit": {"oid": "75788c812f7c3b658dd57ad823051a2d34fa52c9"}, "originalPosition": 30}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2118, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}