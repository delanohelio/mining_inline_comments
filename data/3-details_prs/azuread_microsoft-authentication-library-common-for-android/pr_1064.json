{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk1NjY4NTYz", "number": 1064, "title": "Expose expiresIn in MSAL Device Code flow callback", "bodyText": "MSTeams would like to display the 'time until expires' on their device.\nrelated PR: AzureAD/microsoft-authentication-library-for-android#1169", "createdAt": "2020-09-30T17:32:48Z", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1064", "merged": true, "mergeCommit": {"oid": "f48a5b52106f2f26458c17eaa28f87889e7b0401"}, "closed": true, "closedAt": "2020-10-09T19:24:39Z", "author": {"login": "rpdome"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdOEElQABqjM4MjY2MTIzODM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdQ7RitgBqjM4NjE1MDg5NjA=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b82e4d6ff19c2f455c7d43d58640b6c288add04c", "author": {"user": {"login": "rpdome", "name": "Dome Pongmongkol"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/b82e4d6ff19c2f455c7d43d58640b6c288add04c", "committedDate": "2020-09-30T18:28:55Z", "message": "Address comment"}, "afterCommit": {"oid": "f7b43bea10592eebe37d5e9fe60e593c8856c492", "author": {"user": {"login": "rpdome", "name": "Dome Pongmongkol"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/f7b43bea10592eebe37d5e9fe60e593c8856c492", "committedDate": "2020-09-30T21:56:41Z", "message": "Address comment"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAwNjQ3OTc4", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1064#pullrequestreview-500647978", "createdAt": "2020-10-01T19:19:51Z", "commit": {"oid": "f7b43bea10592eebe37d5e9fe60e593c8856c492"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMVQxOToxOTo1MVrOHbX0Zw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMVQxOToxOTo1MVrOHbX0Zw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODQ2Mzg0Nw==", "bodyText": "Could use TimeUnit.SECONDS.toMillis() here instead of multiplying by 1000", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1064#discussion_r498463847", "createdAt": "2020-10-01T19:19:51Z", "author": {"login": "shahzaibj"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/commands/DeviceCodeFlowCommand.java", "diffHunk": "@@ -73,13 +75,23 @@ public AcquireTokenResult execute() throws Exception {\n         final MicrosoftStsAuthorizationResponse authorizationResponse =\n                 (MicrosoftStsAuthorizationResponse) authorizationResult.getAuthorizationResponse();\n \n+        final Date expiredDate = new Date();\n+        try {\n+            long expiredInInMilliseconds = 1000 * Long.parseLong(authorizationResponse.getExpiresIn());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f7b43bea10592eebe37d5e9fe60e593c8856c492"}, "originalPosition": 15}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAwNjQ4NjE4", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1064#pullrequestreview-500648618", "createdAt": "2020-10-01T19:20:45Z", "commit": {"oid": "f7b43bea10592eebe37d5e9fe60e593c8856c492"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMVQxOToyMDo0NVrOHbX2LQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMVQxOToyMDo0NVrOHbX2LQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODQ2NDMwMQ==", "bodyText": "javadoc does not seem to capture parameters....can we update that?", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1064#discussion_r498464301", "createdAt": "2020-10-01T19:20:45Z", "author": {"login": "shahzaibj"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/commands/DeviceCodeFlowCommandCallback.java", "diffHunk": "@@ -24,11 +24,16 @@\n \n import androidx.annotation.NonNull;\n \n+import java.util.Date;\n+\n /**\n  * Extension of the CommandCallback class to allow Device Code Flow to display the user_code,\n  * verification_uri, and message midway through the protocol. This is done through the\n  * getUserCode() method shown below\n  */\n public interface DeviceCodeFlowCommandCallback<T, U> extends CommandCallback<T, U> {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f7b43bea10592eebe37d5e9fe60e593c8856c492"}, "originalPosition": 11}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAwNjY2Njgz", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1064#pullrequestreview-500666683", "createdAt": "2020-10-01T19:47:20Z", "commit": {"oid": "f7b43bea10592eebe37d5e9fe60e593c8856c492"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAyNDc1NjU5", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1064#pullrequestreview-502475659", "createdAt": "2020-10-05T22:55:29Z", "commit": {"oid": "f7b43bea10592eebe37d5e9fe60e593c8856c492"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9ed96cc80b9d661d5cd5507af2779121d2247532", "author": {"user": {"login": "rpdome", "name": "Dome Pongmongkol"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/9ed96cc80b9d661d5cd5507af2779121d2247532", "committedDate": "2020-10-09T18:37:49Z", "message": "Address comments"}, "afterCommit": {"oid": "9319f2f5f09ce70d8fa27a30aa1029ada6074b0e", "author": {"user": {"login": "rpdome", "name": "Dome Pongmongkol"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/9319f2f5f09ce70d8fa27a30aa1029ada6074b0e", "committedDate": "2020-10-09T18:48:53Z", "message": "Expose expiresIn in MSAL DCF callback"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ff4eb1b75ed4d35c2b705e7853085edd7d7dac37", "author": {"user": {"login": "rpdome", "name": "Dome Pongmongkol"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/ff4eb1b75ed4d35c2b705e7853085edd7d7dac37", "committedDate": "2020-10-09T19:23:28Z", "message": "Expose expiresIn in MSAL DCF callback"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9319f2f5f09ce70d8fa27a30aa1029ada6074b0e", "author": {"user": {"login": "rpdome", "name": "Dome Pongmongkol"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/9319f2f5f09ce70d8fa27a30aa1029ada6074b0e", "committedDate": "2020-10-09T18:48:53Z", "message": "Expose expiresIn in MSAL DCF callback"}, "afterCommit": {"oid": "ff4eb1b75ed4d35c2b705e7853085edd7d7dac37", "author": {"user": {"login": "rpdome", "name": "Dome Pongmongkol"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/ff4eb1b75ed4d35c2b705e7853085edd7d7dac37", "committedDate": "2020-10-09T19:23:28Z", "message": "Expose expiresIn in MSAL DCF callback"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1603, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}