{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM1MzU3MjIw", "number": 937, "title": "Log additional information when attempting to redirect.", "bodyText": "The redirect uri, when invalid, will fail to load.  We should log some of that value.", "createdAt": "2020-06-16T17:15:28Z", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/937", "merged": true, "mergeCommit": {"oid": "160936278bfe345e8a79546bf5e87de7192f112d"}, "closed": true, "closedAt": "2020-06-16T20:50:41Z", "author": {"login": "AdamBJohnsonx"}, "timelineItems": {"totalCount": 18, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcr4ZjMgH2gAyNDM1MzU3MjIwOmFiZGE0NTNlZDZjMWI3MDZiNDM2YmExOTdjYWEwZjFiOWVmODU2MzA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcr7JPVgH2gAyNDM1MzU3MjIwOmNiYmE5ZDNmZDcxYTU5ZTYwN2JmYzNjMTZhYjE0ZDQ0MDQyNjcxYzM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "abda453ed6c1b706b436ba197caa0f1b9ef85630", "author": {"user": {"login": "AdamBJohnsonx", "name": null}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/abda453ed6c1b706b436ba197caa0f1b9ef85630", "committedDate": "2020-06-16T17:07:25Z", "message": "Log additional information when attempting to redirect.\n\nThe redirect uri, when invalid, will fail to load.  We should log some of that value."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMxODI1MTA3", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/937#pullrequestreview-431825107", "createdAt": "2020-06-16T19:26:36Z", "commit": {"oid": "abda453ed6c1b706b436ba197caa0f1b9ef85630"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQxOToyNjozNlrOGkqBZQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQxOToyNjozNlrOGkqBZQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTA5MDQwNQ==", "bodyText": "nit: final", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/937#discussion_r441090405", "createdAt": "2020-06-16T19:26:36Z", "author": {"login": "shahzaibj"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/ui/webview/AzureActiveDirectoryWebViewClient.java", "diffHunk": "@@ -326,6 +339,7 @@ public void run() {\n     }\n \n     private boolean processInvalidUrl(@NonNull final WebView view, @NonNull final String url) {\n+        String lowerCaseUrl = url.toLowerCase(Locale.US);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "abda453ed6c1b706b436ba197caa0f1b9ef85630"}, "originalPosition": 24}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMxODI1NTI0", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/937#pullrequestreview-431825524", "createdAt": "2020-06-16T19:27:14Z", "commit": {"oid": "abda453ed6c1b706b436ba197caa0f1b9ef85630"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQxOToyNzoxNFrOGkqCsw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQxOToyNzoxNFrOGkqCsw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTA5MDczOQ==", "bodyText": "nit: final", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/937#discussion_r441090739", "createdAt": "2020-06-16T19:27:14Z", "author": {"login": "shahzaibj"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/ui/webview/AzureActiveDirectoryWebViewClient.java", "diffHunk": "@@ -337,28 +351,32 @@ private boolean processInvalidUrl(@NonNull final WebView view, @NonNull final St\n             return true;\n         }\n \n-        if (url.toLowerCase(Locale.US).equals(\"about:blank\")) {\n+        if (\"about:blank\".equals(lowerCaseUrl)) {\n             Logger.verbose(TAG, \"It is an blank page request\");\n             return true;\n         }\n \n-        if (!url.toLowerCase(Locale.US).startsWith(AuthenticationConstants.Broker.REDIRECT_SSL_PREFIX)) {\n-            String redactedUrl = \"redacted\";\n-            try {\n-                redactedUrl = StringExtensions.removeQueryParameterFromUrl(url);\n-            } catch (final URISyntaxException e) {\n-                // Best effort.\n-            }\n+        if (!lowerCaseUrl.startsWith(AuthenticationConstants.Broker.REDIRECT_SSL_PREFIX)) {\n+            String redactedUrl = removeQueryParameters(url);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "abda453ed6c1b706b436ba197caa0f1b9ef85630"}, "originalPosition": 46}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMxODI4ODc4", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/937#pullrequestreview-431828878", "createdAt": "2020-06-16T19:32:13Z", "commit": {"oid": "abda453ed6c1b706b436ba197caa0f1b9ef85630"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQxOTozMjoxNFrOGkqM5A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQxOTozMjoxNFrOGkqM5A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTA5MzM0OA==", "bodyText": "Let's replace code with auth code", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/937#discussion_r441093348", "createdAt": "2020-06-16T19:32:14Z", "author": {"login": "shahzaibj"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/ui/webview/OAuth2WebViewClient.java", "diffHunk": "@@ -185,10 +185,11 @@ private void checkStartUrl(final String url) {\n             Logger.info(TAG, \"onPageStarted: Non-hierarchical loading uri.\");\n             Logger.infoPII(TAG, \"start url: \" + url);\n         } else if (StringUtil.isEmpty(uri.getQueryParameter(AuthenticationConstants.OAuth2.CODE))) {\n-            Logger.infoPII(TAG, \"Host: \" + uri.getHost() + \" Path: \" + uri.getPath());\n+            Logger.info(TAG, \"onPageStarted: URI has no code query parameter.\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "abda453ed6c1b706b436ba197caa0f1b9ef85630"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMxODI5MzQw", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/937#pullrequestreview-431829340", "createdAt": "2020-06-16T19:32:56Z", "commit": {"oid": "abda453ed6c1b706b436ba197caa0f1b9ef85630"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQxOTozMjo1NlrOGkqOVw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQxOTozMjo1NlrOGkqOVw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTA5MzcxOQ==", "bodyText": "can be final", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/937#discussion_r441093719", "createdAt": "2020-06-16T19:32:56Z", "author": {"login": "shahzaibj"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/ui/webview/AzureActiveDirectoryWebViewClient.java", "diffHunk": "@@ -337,28 +351,32 @@ private boolean processInvalidUrl(@NonNull final WebView view, @NonNull final St\n             return true;\n         }\n \n-        if (url.toLowerCase(Locale.US).equals(\"about:blank\")) {\n+        if (\"about:blank\".equals(lowerCaseUrl)) {\n             Logger.verbose(TAG, \"It is an blank page request\");\n             return true;\n         }\n \n-        if (!url.toLowerCase(Locale.US).startsWith(AuthenticationConstants.Broker.REDIRECT_SSL_PREFIX)) {\n-            String redactedUrl = \"redacted\";\n-            try {\n-                redactedUrl = StringExtensions.removeQueryParameterFromUrl(url);\n-            } catch (final URISyntaxException e) {\n-                // Best effort.\n-            }\n+        if (!lowerCaseUrl.startsWith(AuthenticationConstants.Broker.REDIRECT_SSL_PREFIX)) {\n+            String redactedUrl = removeQueryParameters(url);\n \n             Logger.error(TAG, \"The webView was redirected to an unsafe URL: \" + redactedUrl, null);\n             returnError(ErrorStrings.WEBVIEW_REDIRECTURL_NOT_SSL_PROTECTED, \"The webView was redirected to an unsafe URL.\");\n             view.stopLoading();\n             return true;\n         }\n-\n+        Logger.infoPII(TAG,\"We are declining to override loading and redirect to invalid URL: '\"\n+                + removeQueryParameters(url) + \"' the user's url pattern is '\" + mRedirectUrl + \"'\");\n         return false;\n     }\n \n+    private String removeQueryParameters(@NonNull String url) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "abda453ed6c1b706b436ba197caa0f1b9ef85630"}, "originalPosition": 59}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "69aa41ff8f39ee85419b84ff73d9c0ae7e051e24", "author": {"user": {"login": "AdamBJohnsonx", "name": null}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/69aa41ff8f39ee85419b84ff73d9c0ae7e051e24", "committedDate": "2020-06-16T19:32:57Z", "message": "Log additional information when attempting to redirect.\n\nThe redirect uri, when invalid, will fail to load.  We should log some of that value."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMxODI5MzU2", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/937#pullrequestreview-431829356", "createdAt": "2020-06-16T19:32:58Z", "commit": {"oid": "abda453ed6c1b706b436ba197caa0f1b9ef85630"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQxOTozMjo1OFrOGkqOXw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQxOTozMjo1OFrOGkqOXw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTA5MzcyNw==", "bodyText": "we can log an error message here about the exception, in the rarest case we hit this", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/937#discussion_r441093727", "createdAt": "2020-06-16T19:32:58Z", "author": {"login": "kreedula"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/ui/webview/AzureActiveDirectoryWebViewClient.java", "diffHunk": "@@ -337,28 +351,32 @@ private boolean processInvalidUrl(@NonNull final WebView view, @NonNull final St\n             return true;\n         }\n \n-        if (url.toLowerCase(Locale.US).equals(\"about:blank\")) {\n+        if (\"about:blank\".equals(lowerCaseUrl)) {\n             Logger.verbose(TAG, \"It is an blank page request\");\n             return true;\n         }\n \n-        if (!url.toLowerCase(Locale.US).startsWith(AuthenticationConstants.Broker.REDIRECT_SSL_PREFIX)) {\n-            String redactedUrl = \"redacted\";\n-            try {\n-                redactedUrl = StringExtensions.removeQueryParameterFromUrl(url);\n-            } catch (final URISyntaxException e) {\n-                // Best effort.\n-            }\n+        if (!lowerCaseUrl.startsWith(AuthenticationConstants.Broker.REDIRECT_SSL_PREFIX)) {\n+            String redactedUrl = removeQueryParameters(url);\n \n             Logger.error(TAG, \"The webView was redirected to an unsafe URL: \" + redactedUrl, null);\n             returnError(ErrorStrings.WEBVIEW_REDIRECTURL_NOT_SSL_PROTECTED, \"The webView was redirected to an unsafe URL.\");\n             view.stopLoading();\n             return true;\n         }\n-\n+        Logger.infoPII(TAG,\"We are declining to override loading and redirect to invalid URL: '\"\n+                + removeQueryParameters(url) + \"' the user's url pattern is '\" + mRedirectUrl + \"'\");\n         return false;\n     }\n \n+    private String removeQueryParameters(@NonNull String url) {\n+        try {\n+            return StringExtensions.removeQueryParameterFromUrl(url);\n+        } catch (final URISyntaxException e) {\n+            return \"redacted\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "abda453ed6c1b706b436ba197caa0f1b9ef85630"}, "originalPosition": 63}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMxODMwMTQ3", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/937#pullrequestreview-431830147", "createdAt": "2020-06-16T19:34:13Z", "commit": {"oid": "abda453ed6c1b706b436ba197caa0f1b9ef85630"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQxOTozNDoxM1rOGkqQzg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQxOTozNDoxM1rOGkqQzg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTA5NDM1MA==", "bodyText": "The method name can be a bit confusing since if we hit the catch block then we are not returning a URL with query parameters removed instead we are returning a pre-defined String", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/937#discussion_r441094350", "createdAt": "2020-06-16T19:34:13Z", "author": {"login": "shahzaibj"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/ui/webview/AzureActiveDirectoryWebViewClient.java", "diffHunk": "@@ -337,28 +351,32 @@ private boolean processInvalidUrl(@NonNull final WebView view, @NonNull final St\n             return true;\n         }\n \n-        if (url.toLowerCase(Locale.US).equals(\"about:blank\")) {\n+        if (\"about:blank\".equals(lowerCaseUrl)) {\n             Logger.verbose(TAG, \"It is an blank page request\");\n             return true;\n         }\n \n-        if (!url.toLowerCase(Locale.US).startsWith(AuthenticationConstants.Broker.REDIRECT_SSL_PREFIX)) {\n-            String redactedUrl = \"redacted\";\n-            try {\n-                redactedUrl = StringExtensions.removeQueryParameterFromUrl(url);\n-            } catch (final URISyntaxException e) {\n-                // Best effort.\n-            }\n+        if (!lowerCaseUrl.startsWith(AuthenticationConstants.Broker.REDIRECT_SSL_PREFIX)) {\n+            String redactedUrl = removeQueryParameters(url);\n \n             Logger.error(TAG, \"The webView was redirected to an unsafe URL: \" + redactedUrl, null);\n             returnError(ErrorStrings.WEBVIEW_REDIRECTURL_NOT_SSL_PROTECTED, \"The webView was redirected to an unsafe URL.\");\n             view.stopLoading();\n             return true;\n         }\n-\n+        Logger.infoPII(TAG,\"We are declining to override loading and redirect to invalid URL: '\"\n+                + removeQueryParameters(url) + \"' the user's url pattern is '\" + mRedirectUrl + \"'\");\n         return false;\n     }\n \n+    private String removeQueryParameters(@NonNull String url) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "abda453ed6c1b706b436ba197caa0f1b9ef85630"}, "originalPosition": 59}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMxODMwNzQ5", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/937#pullrequestreview-431830749", "createdAt": "2020-06-16T19:35:07Z", "commit": {"oid": "abda453ed6c1b706b436ba197caa0f1b9ef85630"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQxOTozNTowOFrOGkqSmg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQxOTozNTowOFrOGkqSmg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTA5NDgxMA==", "bodyText": "Should we log the actual url here? I mean the one with the query parameters still there", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/937#discussion_r441094810", "createdAt": "2020-06-16T19:35:08Z", "author": {"login": "shahzaibj"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/ui/webview/AzureActiveDirectoryWebViewClient.java", "diffHunk": "@@ -337,28 +351,32 @@ private boolean processInvalidUrl(@NonNull final WebView view, @NonNull final St\n             return true;\n         }\n \n-        if (url.toLowerCase(Locale.US).equals(\"about:blank\")) {\n+        if (\"about:blank\".equals(lowerCaseUrl)) {\n             Logger.verbose(TAG, \"It is an blank page request\");\n             return true;\n         }\n \n-        if (!url.toLowerCase(Locale.US).startsWith(AuthenticationConstants.Broker.REDIRECT_SSL_PREFIX)) {\n-            String redactedUrl = \"redacted\";\n-            try {\n-                redactedUrl = StringExtensions.removeQueryParameterFromUrl(url);\n-            } catch (final URISyntaxException e) {\n-                // Best effort.\n-            }\n+        if (!lowerCaseUrl.startsWith(AuthenticationConstants.Broker.REDIRECT_SSL_PREFIX)) {\n+            String redactedUrl = removeQueryParameters(url);\n \n             Logger.error(TAG, \"The webView was redirected to an unsafe URL: \" + redactedUrl, null);\n             returnError(ErrorStrings.WEBVIEW_REDIRECTURL_NOT_SSL_PROTECTED, \"The webView was redirected to an unsafe URL.\");\n             view.stopLoading();\n             return true;\n         }\n-\n+        Logger.infoPII(TAG,\"We are declining to override loading and redirect to invalid URL: '\"\n+                + removeQueryParameters(url) + \"' the user's url pattern is '\" + mRedirectUrl + \"'\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "abda453ed6c1b706b436ba197caa0f1b9ef85630"}, "originalPosition": 55}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7021c206a23fd946fa2718d2f1e0417375aac721", "author": {"user": {"login": "AdamBJohnsonx", "name": null}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/7021c206a23fd946fa2718d2f1e0417375aac721", "committedDate": "2020-06-16T19:58:32Z", "message": "Log additional information when attempting to redirect.\n\nThe redirect uri, when invalid, will fail to load.  We should log some of that value."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMxODQ5ODQz", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/937#pullrequestreview-431849843", "createdAt": "2020-06-16T20:03:33Z", "commit": {"oid": "7021c206a23fd946fa2718d2f1e0417375aac721"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMxODUwOTE4", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/937#pullrequestreview-431850918", "createdAt": "2020-06-16T20:05:14Z", "commit": {"oid": "7021c206a23fd946fa2718d2f1e0417375aac721"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQyMDowNToxNFrOGkrPPg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQyMDowNToxNFrOGkrPPg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTExMDMzNA==", "bodyText": "Let's add a new line at the end of this file", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/937#discussion_r441110334", "createdAt": "2020-06-16T20:05:14Z", "author": {"login": "shahzaibj"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/ui/webview/OAuth2WebViewClient.java", "diffHunk": "@@ -185,10 +185,14 @@ private void checkStartUrl(final String url) {\n             Logger.info(TAG, \"onPageStarted: Non-hierarchical loading uri.\");\n             Logger.infoPII(TAG, \"start url: \" + url);\n         } else if (StringUtil.isEmpty(uri.getQueryParameter(AuthenticationConstants.OAuth2.CODE))) {\n-            Logger.infoPII(TAG, \"Host: \" + uri.getHost() + \" Path: \" + uri.getPath());\n+            Logger.info(TAG, \"onPageStarted: URI has no auth code ('\"\n+                    + AuthenticationConstants.OAuth2.CODE + \"') query parameter.\");\n+            Logger.infoPII(TAG, \"Scheme:\" + uri.getScheme() + \" Host: \" + uri.getHost()\n+                    + \" Path: \" + uri.getPath());\n         } else {\n             Logger.info(TAG, \"Auth code is returned for the loading url.\");\n-            Logger.infoPII(TAG, \"Host: \" + uri.getHost() + \" Path: \" + uri.getPath());\n+            Logger.infoPII(TAG, \"Scheme:\" + uri.getScheme() + \" Host: \" + uri.getHost()\n+                    + \" Path: \" + uri.getPath());\n         }\n     }\n }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7021c206a23fd946fa2718d2f1e0417375aac721"}, "originalPosition": 16}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMxODUxMTc3", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/937#pullrequestreview-431851177", "createdAt": "2020-06-16T20:05:38Z", "commit": {"oid": "7021c206a23fd946fa2718d2f1e0417375aac721"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQyMDowNTozOVrOGkrP-Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQyMDowNTozOVrOGkrP-Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTExMDUyMQ==", "bodyText": "Let's run formatter on this file", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/937#discussion_r441110521", "createdAt": "2020-06-16T20:05:39Z", "author": {"login": "shahzaibj"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/ui/webview/AzureActiveDirectoryWebViewClient.java", "diffHunk": "@@ -118,6 +118,19 @@ public boolean shouldOverrideUrlLoading(final WebView view, final WebResourceReq\n         return handleUrl(view, requestUrl.toString());\n     }\n \n+    /**\n+     * Interpret and take action on a redirect url.\n+     * This function will return true in every case save 1.  That is, when the URL is none of:\n+     * <ul><li>A urn containing an authorization challenge (starts with \"urn:http-auth:PKeyAuth\")</li>\n+     * <li>A url that starts with the same prefix as the tenant's redirect url</li>\n+     * <li>An explicit request to open the browser (starts with \"browser://\")</li>\n+     * <li>A request to install the auth broker (starts with \"msauth://\")</li>\n+     * <li>It is a request that has the intent of starting the broker and the url starts with \"browser://\"</li>\n+     * <li>It <strong>does not</strong> begin with \"https://\".</li></ul>\n+     * @param view The WebView that is initiating the callback.\n+     * @param url  The string representation of the url.\n+     * @return false if we will not take action on the url.\n+     */", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7021c206a23fd946fa2718d2f1e0417375aac721"}, "originalPosition": 16}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMxODUxMzc1", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/937#pullrequestreview-431851375", "createdAt": "2020-06-16T20:05:58Z", "commit": {"oid": "7021c206a23fd946fa2718d2f1e0417375aac721"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e254e5eb571a48b7354be815d5f47c2460190629", "author": {"user": {"login": "AdamBJohnsonx", "name": null}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/e254e5eb571a48b7354be815d5f47c2460190629", "committedDate": "2020-06-16T20:10:29Z", "message": "Formatting changes."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e3e32e9b8e0b9d3940f253062086dd3976b36710", "author": {"user": {"login": "AdamBJohnsonx", "name": null}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/e3e32e9b8e0b9d3940f253062086dd3976b36710", "committedDate": "2020-06-16T20:15:20Z", "message": "Undo changes to misc.xml."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMxODU4OTA2", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/937#pullrequestreview-431858906", "createdAt": "2020-06-16T20:17:38Z", "commit": {"oid": "e3e32e9b8e0b9d3940f253062086dd3976b36710"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cbba9d3fd71a59e607bfc3c16ab14d44042671c3", "author": {"user": {"login": "AdamBJohnsonx", "name": null}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/cbba9d3fd71a59e607bfc3c16ab14d44042671c3", "committedDate": "2020-06-16T20:19:19Z", "message": "Merge branch 'dev' into icm190584567"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1664, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}