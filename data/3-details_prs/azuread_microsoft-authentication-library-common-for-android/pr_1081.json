{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTAwNDMwNzIy", "number": 1081, "title": "add Coverage Report tasks for Common", "bodyText": "This Pull Request is related to ITEM - https://identitydivision.visualstudio.com/Engineering/_workitems/edit/1152996\nThis PR adds the tasks which generates tasks for all buildFlavour combination to generate Coverage Report.\nTo generate the Coverage report:\nRun the task\nThen run -> ./gradlew debugCommonBothTestCoverageReport (where debug(or release) is Flavour, and Both(or Android or unit) is Test Type)\nReports will be available in report folder", "createdAt": "2020-10-09T08:23:41Z", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1081", "merged": true, "mergeCommit": {"oid": "7b09eb6a17284dd637bc8078d1c1796248f4457a"}, "closed": true, "closedAt": "2020-11-24T07:52:59Z", "author": {"login": "ayushmeghwani"}, "timelineItems": {"totalCount": 16, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdQxyaRAH2gAyNTAwNDMwNzIyOjI0N2UyMjE5MTJkYmNiOTI3OWQxYzQ4MjVhNmIwYTZjOGEwMjEyMzE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdehzk9AFqTUzNTg2ODgxMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "247e221912dbcb9279d1c4825a6b0a6c8a021231", "author": {"user": {"login": "ayushmeghwani", "name": "Ayush Meghwani"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/247e221912dbcb9279d1c4825a6b0a6c8a021231", "committedDate": "2020-10-09T08:20:26Z", "message": "add Coverage Report tasks for Common"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA3MTAzMjkx", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1081#pullrequestreview-507103291", "createdAt": "2020-10-13T06:27:25Z", "commit": {"oid": "247e221912dbcb9279d1c4825a6b0a6c8a021231"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QwNjoyNzoyNlrOHgXHzw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QwNjoyNzoyNlrOHgXHzw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzY5NTMxMQ==", "bodyText": "Instead of having a nested loop here for build types and flavors, it would be better to just loop over the build variants -- that way you don't have nested loop and also don't need a placeholder empty string for flavors.", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1081#discussion_r503695311", "createdAt": "2020-10-13T06:27:26Z", "author": {"login": "shahzaibj"}, "path": "common/build.gradle", "diffHunk": "@@ -156,6 +167,54 @@ task sourcesJar(type: Jar) {\n     destinationDir = reporting.file(\"$project.buildDir/outputs/jar/\")\n }\n \n+task createCommonCoverageReportTask() {\n+    group = \"Common Reporting\"\n+    description = \"Generate Coverage Report tasks for every build Flavour\"\n+\n+    def buildTypes = android.buildTypes.collect { type ->\n+        type.name\n+    }\n+    def productFlavors = android.productFlavors.collect { flavor ->\n+        flavor.name\n+    }\n+    // When no product flavors defined, use empty string\n+    if (!productFlavors) productFlavors.add('')\n+    productFlavors.each { productFlavorName ->\n+        buildTypes.each { buildTypeName ->", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "247e221912dbcb9279d1c4825a6b0a6c8a021231"}, "originalPosition": 51}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA3MTAzNjEz", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1081#pullrequestreview-507103613", "createdAt": "2020-10-13T06:28:04Z", "commit": {"oid": "247e221912dbcb9279d1c4825a6b0a6c8a021231"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QwNjoyODowNFrOHgXIww==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QwNjoyODowNFrOHgXIww==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzY5NTU1NQ==", "bodyText": "see my comment, sourceName can then just be the variant name", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1081#discussion_r503695555", "createdAt": "2020-10-13T06:28:04Z", "author": {"login": "shahzaibj"}, "path": "common/build.gradle", "diffHunk": "@@ -156,6 +167,54 @@ task sourcesJar(type: Jar) {\n     destinationDir = reporting.file(\"$project.buildDir/outputs/jar/\")\n }\n \n+task createCommonCoverageReportTask() {\n+    group = \"Common Reporting\"\n+    description = \"Generate Coverage Report tasks for every build Flavour\"\n+\n+    def buildTypes = android.buildTypes.collect { type ->\n+        type.name\n+    }\n+    def productFlavors = android.productFlavors.collect { flavor ->\n+        flavor.name\n+    }\n+    // When no product flavors defined, use empty string\n+    if (!productFlavors) productFlavors.add('')\n+    productFlavors.each { productFlavorName ->\n+        buildTypes.each { buildTypeName ->\n+            def sourceName\n+            if (!productFlavorName) {\n+                sourceName = \"${buildTypeName}\"\n+            } else {\n+                sourceName = \"${productFlavorName}${buildTypeName.capitalize()}\"\n+            }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "247e221912dbcb9279d1c4825a6b0a6c8a021231"}, "originalPosition": 57}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0ad036d88cde30daa8e6c440b9d16f283f3d0b07", "author": {"user": {"login": "ayushmeghwani", "name": "Ayush Meghwani"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/0ad036d88cde30daa8e6c440b9d16f283f3d0b07", "committedDate": "2020-10-13T18:27:23Z", "message": "add buildVariants to loop over"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0e66d9e93c66f4de5bead898ea6cca044d4d4b29", "author": {"user": {"login": "ayushmeghwani", "name": "Ayush Meghwani"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/0e66d9e93c66f4de5bead898ea6cca044d4d4b29", "committedDate": "2020-10-19T17:23:05Z", "message": "Merge branch 'dev' of https://github.com/AzureAD/microsoft-authentication-library-common-for-android into aymeghwa-CodeCoverage"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "22dd2262fcacb9884f82eed86c3cf83e842e2f4f", "author": {"user": {"login": "ayushmeghwani", "name": "Ayush Meghwani"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/22dd2262fcacb9884f82eed86c3cf83e842e2f4f", "committedDate": "2020-10-20T20:53:48Z", "message": "Merge branch 'dev' of https://github.com/AzureAD/microsoft-authentication-library-common-for-android into aymeghwa-CodeCoverage"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "05ae3ff427bd1336f606021c72315658514e23bc", "author": {"user": {"login": "ayushmeghwani", "name": "Ayush Meghwani"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/05ae3ff427bd1336f606021c72315658514e23bc", "committedDate": "2020-10-21T07:53:53Z", "message": "Merge branch 'dev' of https://github.com/AzureAD/microsoft-authentication-library-common-for-android into aymeghwa-CodeCoverage"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cfe7c13347b16a2f8a223615685d6324f4d0f138", "author": {"user": {"login": "ayushmeghwani", "name": "Ayush Meghwani"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/cfe7c13347b16a2f8a223615685d6324f4d0f138", "committedDate": "2020-10-27T10:59:54Z", "message": "Merge branch 'dev' of https://github.com/AzureAD/microsoft-authentication-library-common-for-android into aymeghwa-CodeCoverage"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9bbec18cae0aaf104734b571709056f74eb2dd6e", "author": {"user": {"login": "ayushmeghwani", "name": "Ayush Meghwani"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/9bbec18cae0aaf104734b571709056f74eb2dd6e", "committedDate": "2020-10-29T11:28:21Z", "message": "Merge branch 'dev' of https://github.com/AzureAD/microsoft-authentication-library-common-for-android into aymeghwa-CodeCoverage"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cdb7f930741fb78fb9073223eb013118d415c7c8", "author": {"user": {"login": "ayushmeghwani", "name": "Ayush Meghwani"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/cdb7f930741fb78fb9073223eb013118d415c7c8", "committedDate": "2020-11-06T10:39:06Z", "message": "Merge branch 'dev' of https://github.com/AzureAD/microsoft-authentication-library-common-for-android into aymeghwa-CodeCoverage"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6148cb7b3adaf5223037560a98fa4e929c7794d0", "author": {"user": {"login": "ayushmeghwani", "name": "Ayush Meghwani"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/6148cb7b3adaf5223037560a98fa4e929c7794d0", "committedDate": "2020-11-11T11:27:29Z", "message": "Merge branch 'dev' of https://github.com/AzureAD/microsoft-authentication-library-common-for-android into aymeghwa-CodeCoverage"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "09e9269e1bcbfe12b8f06c279a21da6918b72fae", "author": {"user": {"login": "ayushmeghwani", "name": "Ayush Meghwani"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/09e9269e1bcbfe12b8f06c279a21da6918b72fae", "committedDate": "2020-11-17T16:15:55Z", "message": "Merge branch 'dev' of https://github.com/AzureAD/microsoft-authentication-library-common-for-android into aymeghwa-CodeCoverage"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3e10ee32749bd4e258d41b011addb772ef1c1662", "author": {"user": {"login": "ayushmeghwani", "name": "Ayush Meghwani"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/3e10ee32749bd4e258d41b011addb772ef1c1662", "committedDate": "2020-11-19T07:14:32Z", "message": "add general task for all test type"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c3c5de7d644e350268e5336a4a42480a56e935d4", "author": {"user": {"login": "shahzaibj", "name": "Shahzaib"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/c3c5de7d644e350268e5336a4a42480a56e935d4", "committedDate": "2020-11-21T01:31:29Z", "message": "Merge branch 'dev' into aymeghwa-CodeCoverage"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f487df69d8fc4737015b3d632f8241afaee108a2", "author": {"user": {"login": "shahzaibj", "name": "Shahzaib"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/f487df69d8fc4737015b3d632f8241afaee108a2", "committedDate": "2020-11-21T01:36:22Z", "message": "Merge branch 'dev' into aymeghwa-CodeCoverage"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM1ODY4ODEy", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1081#pullrequestreview-535868812", "createdAt": "2020-11-21T01:38:10Z", "commit": {"oid": "f487df69d8fc4737015b3d632f8241afaee108a2"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1375, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}