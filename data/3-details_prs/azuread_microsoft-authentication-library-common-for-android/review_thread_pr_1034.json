{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg2OTI4NTM2", "number": 1034, "reviewThreads": {"totalCount": 33, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQyMzowMDowNlrOEjWySQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQxODo1ODoyMFrOEvdg3g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA1NTA4OTM3OnYy", "diffSide": "RIGHT", "path": "common/src/main/java/com/microsoft/identity/common/internal/request/SdkType.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQyMzowMDowNlrOHRqg6g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQxODozMTo1NlrOHSOy3Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODI4NDM5NA==", "bodyText": "Move this to Authentication Constants", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r488284394", "createdAt": "2020-09-14T23:00:06Z", "author": {"login": "kreedula"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/request/SdkType.java", "diffHunk": "@@ -27,5 +27,19 @@\n  */\n public enum SdkType {\n     ADAL,\n-    MSAL\n+    MSAL,\n+    MSALCPP;\n+\n+    private final String PRODUCT_NAME_MSAL = \"MSAL.Android\";\n+\n+    private final String PRODUCT_NAME_MSAL_CPP = \"MSAL.xplat.Android\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f3dde5379d7e5b9ecdbbefdff641debf506ebbaa"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODg3ODgxMw==", "bodyText": "45fba56", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r488878813", "createdAt": "2020-09-15T18:31:56Z", "author": {"login": "tanmaymanolkar1"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/request/SdkType.java", "diffHunk": "@@ -27,5 +27,19 @@\n  */\n public enum SdkType {\n     ADAL,\n-    MSAL\n+    MSAL,\n+    MSALCPP;\n+\n+    private final String PRODUCT_NAME_MSAL = \"MSAL.Android\";\n+\n+    private final String PRODUCT_NAME_MSAL_CPP = \"MSAL.xplat.Android\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODI4NDM5NA=="}, "originalCommit": {"oid": "f3dde5379d7e5b9ecdbbefdff641debf506ebbaa"}, "originalPosition": 10}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA2NDUyOTI1OnYy", "diffSide": "RIGHT", "path": "common/src/main/java/com/microsoft/identity/common/internal/broker/BrokerRequest.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNlQyMjowMzo1OFrOHTFzMA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNVQwNjoyMDoyNlrOHX2ayg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTc4MDAxNg==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    final static String CLIENT_SDKTYPE = \"client_sdktype\";\n          \n          \n            \n                    final static String CLIENT_SDK_TYPE = \"client_sdk_type\";", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r489780016", "createdAt": "2020-09-16T22:03:58Z", "author": {"login": "shahzaibj"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/broker/BrokerRequest.java", "diffHunk": "@@ -53,6 +54,7 @@\n         final static String CLIENT_APP_NAME = \"client_app_name\";\n         final static String CLIENT_APP_VERSION = \"client_app_version\";\n         final static String CLIENT_VERSION = \"client_version\";\n+        final static String CLIENT_SDKTYPE = \"client_sdktype\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1ea47df09466297a1c30de9a0654d31d5dc14043"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDc3MDg5MA==", "bodyText": "798ca9f", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r494770890", "createdAt": "2020-09-25T06:20:26Z", "author": {"login": "tanmaymanolkar1"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/broker/BrokerRequest.java", "diffHunk": "@@ -53,6 +54,7 @@\n         final static String CLIENT_APP_NAME = \"client_app_name\";\n         final static String CLIENT_APP_VERSION = \"client_app_version\";\n         final static String CLIENT_VERSION = \"client_version\";\n+        final static String CLIENT_SDKTYPE = \"client_sdktype\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTc4MDAxNg=="}, "originalCommit": {"oid": "1ea47df09466297a1c30de9a0654d31d5dc14043"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA2NDUzMjYzOnYy", "diffSide": "RIGHT", "path": "common/src/main/java/com/microsoft/identity/common/internal/broker/BrokerRequest.java", "isResolved": true, "comments": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNlQyMjowNToyMFrOHTF1QA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNlQyMzoxNTo0OVrOHTHSsw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTc4MDU0NA==", "bodyText": "Do we actually need to send this to the Broker? IIRC, MSAL / ADAL we don't need to send it based on the current design around adapters. Perhaps it is need for CPP?", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r489780544", "createdAt": "2020-09-16T22:05:20Z", "author": {"login": "shahzaibj"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/broker/BrokerRequest.java", "diffHunk": "@@ -53,6 +54,7 @@\n         final static String CLIENT_APP_NAME = \"client_app_name\";\n         final static String CLIENT_APP_VERSION = \"client_app_version\";\n         final static String CLIENT_VERSION = \"client_version\";\n+        final static String CLIENT_SDKTYPE = \"client_sdktype\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1ea47df09466297a1c30de9a0654d31d5dc14043"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTc4MTk3MA==", "bodyText": "Yes it is need for CPP.", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r489781970", "createdAt": "2020-09-16T22:09:06Z", "author": {"login": "tanmaymanolkar1"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/broker/BrokerRequest.java", "diffHunk": "@@ -53,6 +54,7 @@\n         final static String CLIENT_APP_NAME = \"client_app_name\";\n         final static String CLIENT_APP_VERSION = \"client_app_version\";\n         final static String CLIENT_VERSION = \"client_version\";\n+        final static String CLIENT_SDKTYPE = \"client_sdktype\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTc4MDU0NA=="}, "originalCommit": {"oid": "1ea47df09466297a1c30de9a0654d31d5dc14043"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTc4MjM5Mw==", "bodyText": "It wasn't sent initially because Android.MSAL value was being hardcoded on the receiving end.", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r489782393", "createdAt": "2020-09-16T22:10:07Z", "author": {"login": "tanmaymanolkar1"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/broker/BrokerRequest.java", "diffHunk": "@@ -53,6 +54,7 @@\n         final static String CLIENT_APP_NAME = \"client_app_name\";\n         final static String CLIENT_APP_VERSION = \"client_app_version\";\n         final static String CLIENT_VERSION = \"client_version\";\n+        final static String CLIENT_SDKTYPE = \"client_sdktype\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTc4MDU0NA=="}, "originalCommit": {"oid": "1ea47df09466297a1c30de9a0654d31d5dc14043"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTc4MjYyNw==", "bodyText": "Can you share CPP model for sending/unpacking broker request? Are they not using (custom) adapters?", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r489782627", "createdAt": "2020-09-16T22:10:47Z", "author": {"login": "shahzaibj"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/broker/BrokerRequest.java", "diffHunk": "@@ -53,6 +54,7 @@\n         final static String CLIENT_APP_NAME = \"client_app_name\";\n         final static String CLIENT_APP_VERSION = \"client_app_version\";\n         final static String CLIENT_VERSION = \"client_version\";\n+        final static String CLIENT_SDKTYPE = \"client_sdktype\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTc4MDU0NA=="}, "originalCommit": {"oid": "1ea47df09466297a1c30de9a0654d31d5dc14043"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTc5NzQ1Ng==", "bodyText": "@shahzaibj  CPP will need to set SdkType as MSALCPP here and version too. Tanmay should make the changes there after this.\nbroker request will send this to broker (it will be MSAL or MSALCPP based on the library)", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r489797456", "createdAt": "2020-09-16T22:53:46Z", "author": {"login": "kreedula"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/broker/BrokerRequest.java", "diffHunk": "@@ -53,6 +54,7 @@\n         final static String CLIENT_APP_NAME = \"client_app_name\";\n         final static String CLIENT_APP_VERSION = \"client_app_version\";\n         final static String CLIENT_VERSION = \"client_version\";\n+        final static String CLIENT_SDKTYPE = \"client_sdktype\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTc4MDU0NA=="}, "originalCommit": {"oid": "1ea47df09466297a1c30de9a0654d31d5dc14043"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTgwMTc3OA==", "bodyText": "@kreedula I'm looking for the code where Broker will unpack the BrokerRequest that was sent to it via MSALCPP.\nIn broker, we currently have the IBrokerRequestAdapter, and we have implementations of it for ADAL/MSAL, but I don't see one for MSALCPP. Which adapter does MSALCPP use?", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r489801778", "createdAt": "2020-09-16T23:07:38Z", "author": {"login": "shahzaibj"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/broker/BrokerRequest.java", "diffHunk": "@@ -53,6 +54,7 @@\n         final static String CLIENT_APP_NAME = \"client_app_name\";\n         final static String CLIENT_APP_VERSION = \"client_app_version\";\n         final static String CLIENT_VERSION = \"client_version\";\n+        final static String CLIENT_SDKTYPE = \"client_sdktype\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTc4MDU0NA=="}, "originalCommit": {"oid": "1ea47df09466297a1c30de9a0654d31d5dc14043"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTgwNDQ2Nw==", "bodyText": "it's the same format , i.e. common sends the request to broker . MSAL CPP just uses BrokerMSALController\" to call acquireTokenoracquireTokenSilent`", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r489804467", "createdAt": "2020-09-16T23:15:49Z", "author": {"login": "kreedula"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/broker/BrokerRequest.java", "diffHunk": "@@ -53,6 +54,7 @@\n         final static String CLIENT_APP_NAME = \"client_app_name\";\n         final static String CLIENT_APP_VERSION = \"client_app_version\";\n         final static String CLIENT_VERSION = \"client_version\";\n+        final static String CLIENT_SDKTYPE = \"client_sdktype\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTc4MDU0NA=="}, "originalCommit": {"oid": "1ea47df09466297a1c30de9a0654d31d5dc14043"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA2NDUzNzc3OnYy", "diffSide": "RIGHT", "path": "common/src/main/java/com/microsoft/identity/common/internal/logging/DiagnosticContext.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNlQyMjowNzoyNVrOHTF4eQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNlQyMjo0NzoxM1rOHTGvUQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTc4MTM2OQ==", "bodyText": "What's being attached to DiagnosticContext here? As far as I can see nothing.....and I think this method could easily stay inside Device.java. Is there a specific reason for moving it here?", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r489781369", "createdAt": "2020-09-16T22:07:25Z", "author": {"login": "shahzaibj"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/logging/DiagnosticContext.java", "diffHunk": "@@ -85,4 +94,30 @@ private static boolean hasThreadId() {\n     public static void clear() {\n         REQUEST_CONTEXT_THREAD_LOCAL.remove();\n     }\n+\n+    /**\n+     * Function previously resided in Device.java, contains Constants\n+     * Attaching the constants to Diagnostic Context, for the purpose of having them in one place.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1ea47df09466297a1c30de9a0654d31d5dc14043"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTc4NTMyMw==", "bodyText": "There could be some more code optimizations done, and having all the constants in a single place would help. It would be then easier to have these constants accessible from a single place. Hence setting it up for the later use. @kreedula anything I missed?", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r489785323", "createdAt": "2020-09-16T22:18:39Z", "author": {"login": "tanmaymanolkar1"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/logging/DiagnosticContext.java", "diffHunk": "@@ -85,4 +94,30 @@ private static boolean hasThreadId() {\n     public static void clear() {\n         REQUEST_CONTEXT_THREAD_LOCAL.remove();\n     }\n+\n+    /**\n+     * Function previously resided in Device.java, contains Constants\n+     * Attaching the constants to Diagnostic Context, for the purpose of having them in one place.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTc4MTM2OQ=="}, "originalCommit": {"oid": "1ea47df09466297a1c30de9a0654d31d5dc14043"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTc5NTQwOQ==", "bodyText": "Well I would like to keep all of it in Device.java and use it in DiagonisticContext to put all the parameters inside this. And later , you get the map from DiagnosticContext.", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r489795409", "createdAt": "2020-09-16T22:47:13Z", "author": {"login": "kreedula"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/logging/DiagnosticContext.java", "diffHunk": "@@ -85,4 +94,30 @@ private static boolean hasThreadId() {\n     public static void clear() {\n         REQUEST_CONTEXT_THREAD_LOCAL.remove();\n     }\n+\n+    /**\n+     * Function previously resided in Device.java, contains Constants\n+     * Attaching the constants to Diagnostic Context, for the purpose of having them in one place.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTc4MTM2OQ=="}, "originalCommit": {"oid": "1ea47df09466297a1c30de9a0654d31d5dc14043"}, "originalPosition": 23}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA2NDU0MDE1OnYy", "diffSide": "RIGHT", "path": "common/src/main/java/com/microsoft/identity/common/internal/request/SdkType.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNlQyMjowODoyOVrOHTF5-g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNVQwNjoyMjoxMlrOHX2dGg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTc4MTc1NA==", "bodyText": "Add new line at end of file", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r489781754", "createdAt": "2020-09-16T22:08:29Z", "author": {"login": "shahzaibj"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/request/SdkType.java", "diffHunk": "@@ -22,10 +22,24 @@\n // THE SOFTWARE.\n package com.microsoft.identity.common.internal.request;\n \n+import com.microsoft.identity.common.adal.internal.AuthenticationConstants;\n+\n /**\n  * Enum to indicate if the request came from an app hosting Adal or Msal Sdk\n  */\n public enum SdkType {\n     ADAL,\n-    MSAL\n+    MSAL,\n+    MSALCPP;\n+\n+\n+\n+    public String getProductName() {\n+        if ((SdkType.ADAL == this) || (SdkType.MSAL == this)) {\n+            return AuthenticationConstants.SdkPlatformFields.PRODUCT_NAME_MSAL;\n+        } else {\n+            return AuthenticationConstants.SdkPlatformFields.PRODUCT_NAME_MSAL_CPP;\n+        }\n+\n+    }\n }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1ea47df09466297a1c30de9a0654d31d5dc14043"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDc3MTQ4Mg==", "bodyText": "798ca9f", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r494771482", "createdAt": "2020-09-25T06:22:12Z", "author": {"login": "tanmaymanolkar1"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/request/SdkType.java", "diffHunk": "@@ -22,10 +22,24 @@\n // THE SOFTWARE.\n package com.microsoft.identity.common.internal.request;\n \n+import com.microsoft.identity.common.adal.internal.AuthenticationConstants;\n+\n /**\n  * Enum to indicate if the request came from an app hosting Adal or Msal Sdk\n  */\n public enum SdkType {\n     ADAL,\n-    MSAL\n+    MSAL,\n+    MSALCPP;\n+\n+\n+\n+    public String getProductName() {\n+        if ((SdkType.ADAL == this) || (SdkType.MSAL == this)) {\n+            return AuthenticationConstants.SdkPlatformFields.PRODUCT_NAME_MSAL;\n+        } else {\n+            return AuthenticationConstants.SdkPlatformFields.PRODUCT_NAME_MSAL_CPP;\n+        }\n+\n+    }\n }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTc4MTc1NA=="}, "originalCommit": {"oid": "1ea47df09466297a1c30de9a0654d31d5dc14043"}, "originalPosition": 25}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA2NDYzMzcxOnYy", "diffSide": "RIGHT", "path": "common/src/main/java/com/microsoft/identity/common/internal/providers/oauth2/OAuth2Strategy.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNlQyMjo0OTowMVrOHTGxZQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNlQyMjo0OTowMVrOHTGxZQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTc5NTk0MQ==", "bodyText": "headers.put(AuthenticationConstants.SdkPlatformFields.PRODUCT, DiagnosticContext.getRequestContext().get(AuthenticationConstants.SdkPlatformFields.PRODUCT));\nheaders.put(AuthenticationConstants.SdkPlatformFields.VERSION,DiagnosticContext.getRequestContext().get(AuthenticationConstants.SdkPlatformFields.VERSION));\nthese can be part of DiagnosticContext.getPlatformIdParameters() as well right , why adding it seperately", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r489795941", "createdAt": "2020-09-16T22:49:01Z", "author": {"login": "kreedula"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/providers/oauth2/OAuth2Strategy.java", "diffHunk": "@@ -182,11 +182,13 @@ protected HttpResponse performTokenRequest(final GenericTokenRequest request) th\n         if (request instanceof MicrosoftTokenRequest &&\n                 !TextUtils.isEmpty(((MicrosoftTokenRequest) request).getBrokerVersion())) {\n             headers.put(\n-                    Device.PlatformIdParameters.BROKER_VERSION,\n+                    AuthenticationConstants.PlatformIdParameters.BROKER_VERSION,\n                     ((MicrosoftTokenRequest) request).getBrokerVersion()\n             );\n         }\n-        headers.putAll(Device.getPlatformIdParameters());\n+        headers.putAll(DiagnosticContext.getPlatformIdParameters());\n+        headers.put(AuthenticationConstants.SdkPlatformFields.PRODUCT, DiagnosticContext.getRequestContext().get(AuthenticationConstants.SdkPlatformFields.PRODUCT));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1ea47df09466297a1c30de9a0654d31d5dc14043"}, "originalPosition": 11}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA2NDYzNDQzOnYy", "diffSide": "RIGHT", "path": "common/src/main/java/com/microsoft/identity/common/internal/providers/microsoft/microsoftsts/MicrosoftStsOAuth2Strategy.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNlQyMjo0OToyMVrOHTGx0g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNlQyMjo0OToyMVrOHTGx0g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTc5NjA1MA==", "bodyText": "same comment as below", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r489796050", "createdAt": "2020-09-16T22:49:21Z", "author": {"login": "kreedula"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/providers/microsoft/microsoftsts/MicrosoftStsOAuth2Strategy.java", "diffHunk": "@@ -468,7 +464,9 @@ private HttpResponse performPKeyAuthRequest(\n         final String requestBody = ObjectMapper.serializeObjectToFormUrlEncoded(request);\n         final Map<String, String> headers = new TreeMap<>();\n         headers.put(\"client-request-id\", DiagnosticContext.getRequestContext().get(DiagnosticContext.CORRELATION_ID));\n-        headers.putAll(Device.getPlatformIdParameters());\n+        headers.putAll(DiagnosticContext.getPlatformIdParameters());\n+        headers.put(AuthenticationConstants.SdkPlatformFields.PRODUCT, DiagnosticContext.getRequestContext().get(AuthenticationConstants.SdkPlatformFields.PRODUCT));\n+        headers.put(AuthenticationConstants.SdkPlatformFields.VERSION,DiagnosticContext.getRequestContext().get(AuthenticationConstants.SdkPlatformFields.VERSION));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1ea47df09466297a1c30de9a0654d31d5dc14043"}, "originalPosition": 32}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEwNzU2MTgzOnYy", "diffSide": "RIGHT", "path": "common/src/main/java/com/microsoft/identity/common/internal/request/SdkType.java", "isResolved": true, "comments": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQwNDo1NDo1NVrOHZZw6Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOFQwMDo1Mzo0MVrOHeKbdQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjM5ODU2OQ==", "bodyText": "you can actually put this in the enum itself, since each of them is a class underneath.  Give the whole thing either an abstract method or a method returning whatever we're agreeing on for \"I don't know what this is that's calling me\" and then override it as appropriate for each of the values in your enumeration, and you'll be done, with no crazy branches.", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r496398569", "createdAt": "2020-09-29T04:54:55Z", "author": {"login": "AdamBJohnsonx"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/request/SdkType.java", "diffHunk": "@@ -22,10 +22,24 @@\n // THE SOFTWARE.\n package com.microsoft.identity.common.internal.request;\n \n+import com.microsoft.identity.common.adal.internal.AuthenticationConstants;\n+\n /**\n  * Enum to indicate if the request came from an app hosting Adal or Msal Sdk\n  */\n public enum SdkType {\n     ADAL,\n-    MSAL\n-}\n\\ No newline at end of file\n+    MSAL,\n+    MSALCPP;\n+\n+\n+\n+    public String getProductName() {\n+        if ((SdkType.ADAL == this) || (SdkType.MSAL == this)) {\n+            return AuthenticationConstants.SdkPlatformFields.PRODUCT_NAME_MSAL;\n+        } else {\n+            return AuthenticationConstants.SdkPlatformFields.PRODUCT_NAME_MSAL_CPP;\n+        }\n+\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "77ef07157bf5e5b62df64f1e6d3e4736dad2cf83"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA5ODYzNw==", "bodyText": "Same comment mentioned applies here as well, since we are hardcoding the values in every request, there isnt a way where we could encounter any funny values, and hence only the values used in the enum would be considered for getProductName.", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r499098637", "createdAt": "2020-10-03T00:41:12Z", "author": {"login": "tanmaymanolkar1"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/request/SdkType.java", "diffHunk": "@@ -22,10 +22,24 @@\n // THE SOFTWARE.\n package com.microsoft.identity.common.internal.request;\n \n+import com.microsoft.identity.common.adal.internal.AuthenticationConstants;\n+\n /**\n  * Enum to indicate if the request came from an app hosting Adal or Msal Sdk\n  */\n public enum SdkType {\n     ADAL,\n-    MSAL\n-}\n\\ No newline at end of file\n+    MSAL,\n+    MSALCPP;\n+\n+\n+\n+    public String getProductName() {\n+        if ((SdkType.ADAL == this) || (SdkType.MSAL == this)) {\n+            return AuthenticationConstants.SdkPlatformFields.PRODUCT_NAME_MSAL;\n+        } else {\n+            return AuthenticationConstants.SdkPlatformFields.PRODUCT_NAME_MSAL_CPP;\n+        }\n+\n+    }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjM5ODU2OQ=="}, "originalCommit": {"oid": "77ef07157bf5e5b62df64f1e6d3e4736dad2cf83"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDQ3NTE5MA==", "bodyText": "This enumeration looks like it exists on the interface between broker and MSAL - is that correct?", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r500475190", "createdAt": "2020-10-06T17:31:53Z", "author": {"login": "AdamBJohnsonx"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/request/SdkType.java", "diffHunk": "@@ -22,10 +22,24 @@\n // THE SOFTWARE.\n package com.microsoft.identity.common.internal.request;\n \n+import com.microsoft.identity.common.adal.internal.AuthenticationConstants;\n+\n /**\n  * Enum to indicate if the request came from an app hosting Adal or Msal Sdk\n  */\n public enum SdkType {\n     ADAL,\n-    MSAL\n-}\n\\ No newline at end of file\n+    MSAL,\n+    MSALCPP;\n+\n+\n+\n+    public String getProductName() {\n+        if ((SdkType.ADAL == this) || (SdkType.MSAL == this)) {\n+            return AuthenticationConstants.SdkPlatformFields.PRODUCT_NAME_MSAL;\n+        } else {\n+            return AuthenticationConstants.SdkPlatformFields.PRODUCT_NAME_MSAL_CPP;\n+        }\n+\n+    }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjM5ODU2OQ=="}, "originalCommit": {"oid": "77ef07157bf5e5b62df64f1e6d3e4736dad2cf83"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDQ4MzExOA==", "bodyText": "This means that at some point this exists as a series of bytes in IPC.  You do not know what is going to land on the other side, since it can be newer or older than what you expect.  We're going to decouple this layer in the broker to allow for us to pivot the serialization mechanisms more smoothly, but this means that there will be cases where you will not be able to put the SDKType into a bucket with which you are familiar. What will you do in that case?", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r500483118", "createdAt": "2020-10-06T17:45:28Z", "author": {"login": "AdamBJohnsonx"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/request/SdkType.java", "diffHunk": "@@ -22,10 +22,24 @@\n // THE SOFTWARE.\n package com.microsoft.identity.common.internal.request;\n \n+import com.microsoft.identity.common.adal.internal.AuthenticationConstants;\n+\n /**\n  * Enum to indicate if the request came from an app hosting Adal or Msal Sdk\n  */\n public enum SdkType {\n     ADAL,\n-    MSAL\n-}\n\\ No newline at end of file\n+    MSAL,\n+    MSALCPP;\n+\n+\n+\n+    public String getProductName() {\n+        if ((SdkType.ADAL == this) || (SdkType.MSAL == this)) {\n+            return AuthenticationConstants.SdkPlatformFields.PRODUCT_NAME_MSAL;\n+        } else {\n+            return AuthenticationConstants.SdkPlatformFields.PRODUCT_NAME_MSAL_CPP;\n+        }\n+\n+    }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjM5ODU2OQ=="}, "originalCommit": {"oid": "77ef07157bf5e5b62df64f1e6d3e4736dad2cf83"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDY2ODI1Ng==", "bodyText": "@AdamBJohnsonx In this case, this wont be a blocker since, for the mentioned cases :\n\n\nnew MSAL - old broker : the old broker wont have the sdktype and even if the new MSAL sends the new sdktype (msal.cpp) the broker will neglect it and use the hardcoded value of sdktype (msal)\n\n\nold msal - new broker : since old msal wont be sending the sdktype, the new broker has a default value of selecting msal as sdktype.\n\n\nold msal - old broker : working fine\n\n\nnew msal - new broker : working fine\n\n\nI am going to be testing these e2e scenarios just to make sure, we see the flow we are expecting to see, I would post the results here.", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r500668256", "createdAt": "2020-10-07T00:23:39Z", "author": {"login": "tanmaymanolkar1"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/request/SdkType.java", "diffHunk": "@@ -22,10 +22,24 @@\n // THE SOFTWARE.\n package com.microsoft.identity.common.internal.request;\n \n+import com.microsoft.identity.common.adal.internal.AuthenticationConstants;\n+\n /**\n  * Enum to indicate if the request came from an app hosting Adal or Msal Sdk\n  */\n public enum SdkType {\n     ADAL,\n-    MSAL\n-}\n\\ No newline at end of file\n+    MSAL,\n+    MSALCPP;\n+\n+\n+\n+    public String getProductName() {\n+        if ((SdkType.ADAL == this) || (SdkType.MSAL == this)) {\n+            return AuthenticationConstants.SdkPlatformFields.PRODUCT_NAME_MSAL;\n+        } else {\n+            return AuthenticationConstants.SdkPlatformFields.PRODUCT_NAME_MSAL_CPP;\n+        }\n+\n+    }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjM5ODU2OQ=="}, "originalCommit": {"oid": "77ef07157bf5e5b62df64f1e6d3e4736dad2cf83"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTE1Mjc4NQ==", "bodyText": "Why is it OK if the old broker cannot accurately report the sdk type?", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r501152785", "createdAt": "2020-10-07T16:34:06Z", "author": {"login": "AdamBJohnsonx"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/request/SdkType.java", "diffHunk": "@@ -22,10 +22,24 @@\n // THE SOFTWARE.\n package com.microsoft.identity.common.internal.request;\n \n+import com.microsoft.identity.common.adal.internal.AuthenticationConstants;\n+\n /**\n  * Enum to indicate if the request came from an app hosting Adal or Msal Sdk\n  */\n public enum SdkType {\n     ADAL,\n-    MSAL\n-}\n\\ No newline at end of file\n+    MSAL,\n+    MSALCPP;\n+\n+\n+\n+    public String getProductName() {\n+        if ((SdkType.ADAL == this) || (SdkType.MSAL == this)) {\n+            return AuthenticationConstants.SdkPlatformFields.PRODUCT_NAME_MSAL;\n+        } else {\n+            return AuthenticationConstants.SdkPlatformFields.PRODUCT_NAME_MSAL_CPP;\n+        }\n+\n+    }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjM5ODU2OQ=="}, "originalCommit": {"oid": "77ef07157bf5e5b62df64f1e6d3e4736dad2cf83"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTE4NTgxNA==", "bodyText": "Since the old broker is already deployed and is in production(the current implementation) is using the common which uses the hardcoded value? I mean to say, this added new functionality wont break the functionality of the broker versions already in the market today not having this change.", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r501185814", "createdAt": "2020-10-07T17:26:39Z", "author": {"login": "tanmaymanolkar1"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/request/SdkType.java", "diffHunk": "@@ -22,10 +22,24 @@\n // THE SOFTWARE.\n package com.microsoft.identity.common.internal.request;\n \n+import com.microsoft.identity.common.adal.internal.AuthenticationConstants;\n+\n /**\n  * Enum to indicate if the request came from an app hosting Adal or Msal Sdk\n  */\n public enum SdkType {\n     ADAL,\n-    MSAL\n-}\n\\ No newline at end of file\n+    MSAL,\n+    MSALCPP;\n+\n+\n+\n+    public String getProductName() {\n+        if ((SdkType.ADAL == this) || (SdkType.MSAL == this)) {\n+            return AuthenticationConstants.SdkPlatformFields.PRODUCT_NAME_MSAL;\n+        } else {\n+            return AuthenticationConstants.SdkPlatformFields.PRODUCT_NAME_MSAL_CPP;\n+        }\n+\n+    }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjM5ODU2OQ=="}, "originalCommit": {"oid": "77ef07157bf5e5b62df64f1e6d3e4736dad2cf83"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTM5MDE5Nw==", "bodyText": "Let's just make sure that having the divergence won't crash the broker in the event of an either-way-mismatch, and you're good to go after that.  We'll take on making this forwards-compatible for the next SDK addition later, and revisit any parameter that's similarly dangerous.", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r501390197", "createdAt": "2020-10-08T00:53:41Z", "author": {"login": "AdamBJohnsonx"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/request/SdkType.java", "diffHunk": "@@ -22,10 +22,24 @@\n // THE SOFTWARE.\n package com.microsoft.identity.common.internal.request;\n \n+import com.microsoft.identity.common.adal.internal.AuthenticationConstants;\n+\n /**\n  * Enum to indicate if the request came from an app hosting Adal or Msal Sdk\n  */\n public enum SdkType {\n     ADAL,\n-    MSAL\n-}\n\\ No newline at end of file\n+    MSAL,\n+    MSALCPP;\n+\n+\n+\n+    public String getProductName() {\n+        if ((SdkType.ADAL == this) || (SdkType.MSAL == this)) {\n+            return AuthenticationConstants.SdkPlatformFields.PRODUCT_NAME_MSAL;\n+        } else {\n+            return AuthenticationConstants.SdkPlatformFields.PRODUCT_NAME_MSAL_CPP;\n+        }\n+\n+    }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjM5ODU2OQ=="}, "originalCommit": {"oid": "77ef07157bf5e5b62df64f1e6d3e4736dad2cf83"}, "originalPosition": 26}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEwNzU2Mzk3OnYy", "diffSide": "RIGHT", "path": "common/src/main/java/com/microsoft/identity/common/internal/providers/oauth2/OAuth2Strategy.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQwNDo1NToyMFrOHZZyOA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wM1QwMDo0NjoyM1rOHb-m6g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjM5ODkwNA==", "bodyText": "space after comma?", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r496398904", "createdAt": "2020-09-29T04:55:20Z", "author": {"login": "AdamBJohnsonx"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/providers/oauth2/OAuth2Strategy.java", "diffHunk": "@@ -198,6 +198,8 @@ protected HttpResponse performTokenRequest(final GenericTokenRequest request) th\n             );\n         }\n         headers.putAll(Device.getPlatformIdParameters());\n+        headers.put(AuthenticationConstants.SdkPlatformFields.PRODUCT, DiagnosticContext.getRequestContext().get(AuthenticationConstants.SdkPlatformFields.PRODUCT));\n+        headers.put(AuthenticationConstants.SdkPlatformFields.VERSION,DiagnosticContext.getRequestContext().get(AuthenticationConstants.SdkPlatformFields.VERSION));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "77ef07157bf5e5b62df64f1e6d3e4736dad2cf83"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA5OTM3MA==", "bodyText": "26cfa7e", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r499099370", "createdAt": "2020-10-03T00:46:23Z", "author": {"login": "tanmaymanolkar1"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/providers/oauth2/OAuth2Strategy.java", "diffHunk": "@@ -198,6 +198,8 @@ protected HttpResponse performTokenRequest(final GenericTokenRequest request) th\n             );\n         }\n         headers.putAll(Device.getPlatformIdParameters());\n+        headers.put(AuthenticationConstants.SdkPlatformFields.PRODUCT, DiagnosticContext.getRequestContext().get(AuthenticationConstants.SdkPlatformFields.PRODUCT));\n+        headers.put(AuthenticationConstants.SdkPlatformFields.VERSION,DiagnosticContext.getRequestContext().get(AuthenticationConstants.SdkPlatformFields.VERSION));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjM5ODkwNA=="}, "originalCommit": {"oid": "77ef07157bf5e5b62df64f1e6d3e4736dad2cf83"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEwNzU2NDYyOnYy", "diffSide": "RIGHT", "path": "common/src/main/java/com/microsoft/identity/common/internal/providers/microsoft/microsoftsts/MicrosoftStsOAuth2Strategy.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQwNDo1NTozMFrOHZZyoA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wM1QwMDo0NjozOFrOHb-nCw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjM5OTAwOA==", "bodyText": "space after comma?", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r496399008", "createdAt": "2020-09-29T04:55:30Z", "author": {"login": "AdamBJohnsonx"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/providers/microsoft/microsoftsts/MicrosoftStsOAuth2Strategy.java", "diffHunk": "@@ -469,6 +465,8 @@ private HttpResponse performPKeyAuthRequest(\n         final Map<String, String> headers = new TreeMap<>();\n         headers.put(\"client-request-id\", DiagnosticContext.getRequestContext().get(DiagnosticContext.CORRELATION_ID));\n         headers.putAll(Device.getPlatformIdParameters());\n+        headers.put(AuthenticationConstants.SdkPlatformFields.PRODUCT, DiagnosticContext.getRequestContext().get(AuthenticationConstants.SdkPlatformFields.PRODUCT));\n+        headers.put(AuthenticationConstants.SdkPlatformFields.VERSION,DiagnosticContext.getRequestContext().get(AuthenticationConstants.SdkPlatformFields.VERSION));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "77ef07157bf5e5b62df64f1e6d3e4736dad2cf83"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA5OTQwMw==", "bodyText": "26cfa7e", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r499099403", "createdAt": "2020-10-03T00:46:38Z", "author": {"login": "tanmaymanolkar1"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/providers/microsoft/microsoftsts/MicrosoftStsOAuth2Strategy.java", "diffHunk": "@@ -469,6 +465,8 @@ private HttpResponse performPKeyAuthRequest(\n         final Map<String, String> headers = new TreeMap<>();\n         headers.put(\"client-request-id\", DiagnosticContext.getRequestContext().get(DiagnosticContext.CORRELATION_ID));\n         headers.putAll(Device.getPlatformIdParameters());\n+        headers.put(AuthenticationConstants.SdkPlatformFields.PRODUCT, DiagnosticContext.getRequestContext().get(AuthenticationConstants.SdkPlatformFields.PRODUCT));\n+        headers.put(AuthenticationConstants.SdkPlatformFields.VERSION,DiagnosticContext.getRequestContext().get(AuthenticationConstants.SdkPlatformFields.VERSION));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjM5OTAwOA=="}, "originalCommit": {"oid": "77ef07157bf5e5b62df64f1e6d3e4736dad2cf83"}, "originalPosition": 30}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEwNzU2NzM5OnYy", "diffSide": "RIGHT", "path": "common/src/main/java/com/microsoft/identity/common/internal/controllers/CommandDispatcher.java", "isResolved": true, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQwNDo1NjoxMFrOHZZ0gw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOFQxODozNjo1NlrOHerk5A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjM5OTQ5MQ==", "bodyText": "factor out a local command.getParameters()?", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r496399491", "createdAt": "2020-09-29T04:56:10Z", "author": {"login": "AdamBJohnsonx"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/controllers/CommandDispatcher.java", "diffHunk": "@@ -426,7 +427,9 @@ public static void beginInteractive(final InteractiveTokenCommand command) {\n                 @Override\n                 public void run() {\n                     final String correlationId = initializeDiagnosticContext(\n-                            command.getParameters().getCorrelationId()\n+                            command.getParameters().getCorrelationId(),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "77ef07157bf5e5b62df64f1e6d3e4736dad2cf83"}, "originalPosition": 35}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDY2MjkxMg==", "bodyText": "Is it alright if I resolve this @AdamBJohnsonx , since we had a discussion about the thread local context?", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r500662912", "createdAt": "2020-10-07T00:05:08Z", "author": {"login": "tanmaymanolkar1"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/controllers/CommandDispatcher.java", "diffHunk": "@@ -426,7 +427,9 @@ public static void beginInteractive(final InteractiveTokenCommand command) {\n                 @Override\n                 public void run() {\n                     final String correlationId = initializeDiagnosticContext(\n-                            command.getParameters().getCorrelationId()\n+                            command.getParameters().getCorrelationId(),", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjM5OTQ5MQ=="}, "originalCommit": {"oid": "77ef07157bf5e5b62df64f1e6d3e4736dad2cf83"}, "originalPosition": 35}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTE1MjM1NQ==", "bodyText": "I don't see that they're related?", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r501152355", "createdAt": "2020-10-07T16:33:27Z", "author": {"login": "AdamBJohnsonx"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/controllers/CommandDispatcher.java", "diffHunk": "@@ -426,7 +427,9 @@ public static void beginInteractive(final InteractiveTokenCommand command) {\n                 @Override\n                 public void run() {\n                     final String correlationId = initializeDiagnosticContext(\n-                            command.getParameters().getCorrelationId()\n+                            command.getParameters().getCorrelationId(),", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjM5OTQ5MQ=="}, "originalCommit": {"oid": "77ef07157bf5e5b62df64f1e6d3e4736dad2cf83"}, "originalPosition": 35}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTM4NDU0OA==", "bodyText": "Oh my bad @AdamBJohnsonx ! I misconstrued the comment, I will factor out the command.getParameters()", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r501384548", "createdAt": "2020-10-08T00:32:07Z", "author": {"login": "tanmaymanolkar1"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/controllers/CommandDispatcher.java", "diffHunk": "@@ -426,7 +427,9 @@ public static void beginInteractive(final InteractiveTokenCommand command) {\n                 @Override\n                 public void run() {\n                     final String correlationId = initializeDiagnosticContext(\n-                            command.getParameters().getCorrelationId()\n+                            command.getParameters().getCorrelationId(),", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjM5OTQ5MQ=="}, "originalCommit": {"oid": "77ef07157bf5e5b62df64f1e6d3e4736dad2cf83"}, "originalPosition": 35}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTkzMzI4NA==", "bodyText": "71971f7", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r501933284", "createdAt": "2020-10-08T18:36:56Z", "author": {"login": "tanmaymanolkar1"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/controllers/CommandDispatcher.java", "diffHunk": "@@ -426,7 +427,9 @@ public static void beginInteractive(final InteractiveTokenCommand command) {\n                 @Override\n                 public void run() {\n                     final String correlationId = initializeDiagnosticContext(\n-                            command.getParameters().getCorrelationId()\n+                            command.getParameters().getCorrelationId(),", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjM5OTQ5MQ=="}, "originalCommit": {"oid": "77ef07157bf5e5b62df64f1e6d3e4736dad2cf83"}, "originalPosition": 35}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEwNzU3Mjc2OnYy", "diffSide": "RIGHT", "path": "common/src/main/java/com/microsoft/identity/common/internal/commands/parameters/BrokerSilentTokenCommandParameters.java", "isResolved": false, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQwNDo1NzoyN1rOHZZ4Tg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQwMDoxODoxOFrOHcx6YA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjQwMDQ2Mg==", "bodyText": "could I make a plug here for adding an UNKNOWN value here.  But if we're going to fail things because they don't know the magic string, then we could at least log what the heck they sent us.", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r496400462", "createdAt": "2020-09-29T04:57:27Z", "author": {"login": "AdamBJohnsonx"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/commands/parameters/BrokerSilentTokenCommandParameters.java", "diffHunk": "@@ -89,7 +89,7 @@ public void validate() throws ArgumentException {\n                     \"mCallerPackageName\", \"Caller package name is not set\"\n             );\n         }\n-        if (SdkType.MSAL == getSdkType() &&\n+        if ((SdkType.MSAL == getSdkType() || SdkType.MSALCPP == getSdkType()) &&", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "77ef07157bf5e5b62df64f1e6d3e4736dad2cf83"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA5MjA4MA==", "bodyText": "The sdktype is hardcoded in the logic when creating the requests, so technically we should only encounter one of these values.", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r499092080", "createdAt": "2020-10-02T23:52:57Z", "author": {"login": "tanmaymanolkar1"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/commands/parameters/BrokerSilentTokenCommandParameters.java", "diffHunk": "@@ -89,7 +89,7 @@ public void validate() throws ArgumentException {\n                     \"mCallerPackageName\", \"Caller package name is not set\"\n             );\n         }\n-        if (SdkType.MSAL == getSdkType() &&\n+        if ((SdkType.MSAL == getSdkType() || SdkType.MSALCPP == getSdkType()) &&", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjQwMDQ2Mg=="}, "originalCommit": {"oid": "77ef07157bf5e5b62df64f1e6d3e4736dad2cf83"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA5ODgwNQ==", "bodyText": "Sure.  Now.  But that might not be true forever.", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r499098805", "createdAt": "2020-10-03T00:42:33Z", "author": {"login": "AdamBJohnsonx"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/commands/parameters/BrokerSilentTokenCommandParameters.java", "diffHunk": "@@ -89,7 +89,7 @@ public void validate() throws ArgumentException {\n                     \"mCallerPackageName\", \"Caller package name is not set\"\n             );\n         }\n-        if (SdkType.MSAL == getSdkType() &&\n+        if ((SdkType.MSAL == getSdkType() || SdkType.MSALCPP == getSdkType()) &&", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjQwMDQ2Mg=="}, "originalCommit": {"oid": "77ef07157bf5e5b62df64f1e6d3e4736dad2cf83"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTkzOTkzNg==", "bodyText": "For now, this is an enum so I don't expect it to be anything other than the values currently declared in the SdkType.java. @AdamBJohnsonx not clear to me how this could be an unknow value....are you anticipating something specific?", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r499939936", "createdAt": "2020-10-06T00:18:18Z", "author": {"login": "shahzaibj"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/commands/parameters/BrokerSilentTokenCommandParameters.java", "diffHunk": "@@ -89,7 +89,7 @@ public void validate() throws ArgumentException {\n                     \"mCallerPackageName\", \"Caller package name is not set\"\n             );\n         }\n-        if (SdkType.MSAL == getSdkType() &&\n+        if ((SdkType.MSAL == getSdkType() || SdkType.MSALCPP == getSdkType()) &&", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjQwMDQ2Mg=="}, "originalCommit": {"oid": "77ef07157bf5e5b62df64f1e6d3e4736dad2cf83"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEyNDQ2MTcwOnYy", "diffSide": "RIGHT", "path": "common/src/main/java/com/microsoft/identity/common/internal/controllers/CommandDispatcher.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQyMzoyNTozM1rOHb93mQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wM1QwMDo0NDo0MVrOHb-lug==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA4NzI1Nw==", "bodyText": "Can we clear the diagnostic context at the end of execution state?", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r499087257", "createdAt": "2020-10-02T23:25:33Z", "author": {"login": "AdamBJohnsonx"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/controllers/CommandDispatcher.java", "diffHunk": "@@ -606,6 +609,8 @@ public static String initializeDiagnosticContext(@Nullable final String requestC\n         final com.microsoft.identity.common.internal.logging.RequestContext rc =\n                 new com.microsoft.identity.common.internal.logging.RequestContext();\n         rc.put(DiagnosticContext.CORRELATION_ID, correlationId);\n+        rc.put(AuthenticationConstants.SdkPlatformFields.PRODUCT, sdkType);\n+        rc.put(AuthenticationConstants.SdkPlatformFields.VERSION, sdkVersion);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bdedb49a296db9f46e9dc73f7e0ffb41ce52caca"}, "originalPosition": 42}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA5OTA2Ng==", "bodyText": "26cfa7e", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r499099066", "createdAt": "2020-10-03T00:44:41Z", "author": {"login": "tanmaymanolkar1"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/controllers/CommandDispatcher.java", "diffHunk": "@@ -606,6 +609,8 @@ public static String initializeDiagnosticContext(@Nullable final String requestC\n         final com.microsoft.identity.common.internal.logging.RequestContext rc =\n                 new com.microsoft.identity.common.internal.logging.RequestContext();\n         rc.put(DiagnosticContext.CORRELATION_ID, correlationId);\n+        rc.put(AuthenticationConstants.SdkPlatformFields.PRODUCT, sdkType);\n+        rc.put(AuthenticationConstants.SdkPlatformFields.VERSION, sdkVersion);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA4NzI1Nw=="}, "originalCommit": {"oid": "bdedb49a296db9f46e9dc73f7e0ffb41ce52caca"}, "originalPosition": 42}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEzMzYwMDA1OnYy", "diffSide": "RIGHT", "path": "common/src/main/java/com/microsoft/identity/common/adal/internal/AuthenticationConstants.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQxNzoxODozMVrOHdSECQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQxNzoxODozMVrOHdSECQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDQ2NjY5Nw==", "bodyText": "needs javadoc", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r500466697", "createdAt": "2020-10-06T17:18:31Z", "author": {"login": "shahzaibj"}, "path": "common/src/main/java/com/microsoft/identity/common/adal/internal/AuthenticationConstants.java", "diffHunk": "@@ -1567,4 +1567,24 @@\n \n         public static final String USER_SIGNED_OUT_FROM_SHARED_DEVICE = \"user_signed_out_from_shared_device\";\n     }\n+\n+    public static final class SdkPlatformFields {\n+        /**\n+         * The String representing the sdk platform.\n+         */\n+        public static final String PRODUCT = \"x-client-SKU\";\n+\n+        /**\n+         * The String representing the sdk version.\n+         */\n+        public static final String VERSION = \"x-client-Ver\";\n+\n+        /**\n+         * The Strings representing SdkType\n+         */\n+        public static final String PRODUCT_NAME_MSAL = \"MSAL.Android\";\n+\n+        public static final String PRODUCT_NAME_MSAL_CPP = \"MSAL.xplat.Android\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e691df293c1295281ab6ee6c9758a557b18a0e07"}, "originalPosition": 21}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEzMzYwMTU1OnYy", "diffSide": "RIGHT", "path": "common/src/main/java/com/microsoft/identity/common/adal/internal/AuthenticationConstants.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQxNzoxODo1MVrOHdSE5A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQxNzoxODo1MVrOHdSE5A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDQ2NjkxNg==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                     * The Strings representing SdkType\n          \n          \n            \n                     * The String representing the MSAL SdkType.", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r500466916", "createdAt": "2020-10-06T17:18:51Z", "author": {"login": "shahzaibj"}, "path": "common/src/main/java/com/microsoft/identity/common/adal/internal/AuthenticationConstants.java", "diffHunk": "@@ -1567,4 +1567,24 @@\n \n         public static final String USER_SIGNED_OUT_FROM_SHARED_DEVICE = \"user_signed_out_from_shared_device\";\n     }\n+\n+    public static final class SdkPlatformFields {\n+        /**\n+         * The String representing the sdk platform.\n+         */\n+        public static final String PRODUCT = \"x-client-SKU\";\n+\n+        /**\n+         * The String representing the sdk version.\n+         */\n+        public static final String VERSION = \"x-client-Ver\";\n+\n+        /**\n+         * The Strings representing SdkType", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e691df293c1295281ab6ee6c9758a557b18a0e07"}, "originalPosition": 17}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEzMzYwMzI5OnYy", "diffSide": "RIGHT", "path": "common/src/main/java/com/microsoft/identity/common/internal/broker/BrokerRequest.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQxNzoxOToxNlrOHdSF_A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQxNzoxOToxNlrOHdSF_A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDQ2NzE5Ng==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                 * Sdk Type\n          \n          \n            \n                 * Sdk Type.", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r500467196", "createdAt": "2020-10-06T17:19:16Z", "author": {"login": "shahzaibj"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/broker/BrokerRequest.java", "diffHunk": "@@ -168,6 +170,13 @@\n     @SerializedName(SerializedNames.CLIENT_VERSION)\n     private String mMsalVersion;\n \n+    /**\n+     * Sdk Type", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e691df293c1295281ab6ee6c9758a557b18a0e07"}, "originalPosition": 21}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEzMzYwNzU1OnYy", "diffSide": "RIGHT", "path": "common/src/main/java/com/microsoft/identity/common/internal/commands/parameters/BrokerSilentTokenCommandParameters.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQxNzoyMDoyNlrOHdSItg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQxNzoyMDoyNlrOHdSItg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDQ2Nzg5NA==", "bodyText": "I believe this javadoc needs to be updated......and actually probably needs to be a comment instead of javadoc", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r500467894", "createdAt": "2020-10-06T17:20:26Z", "author": {"login": "shahzaibj"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/commands/parameters/BrokerSilentTokenCommandParameters.java", "diffHunk": "@@ -89,7 +89,11 @@ public void validate() throws ArgumentException {\n                     \"mCallerPackageName\", \"Caller package name is not set\"\n             );\n         }\n-        if (SdkType.MSAL == getSdkType() &&\n+        /**\n+         * The check for SdkType.MSALCPP is added to ensure\n+         * the uniformity of logic with SdkType.MSAL\n+         */", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e691df293c1295281ab6ee6c9758a557b18a0e07"}, "originalPosition": 8}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEzMzYyNjA5OnYy", "diffSide": "RIGHT", "path": "common/src/main/java/com/microsoft/identity/common/internal/request/SdkType.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQxNzoyNToyNFrOHdSUmg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQxNzoyNToyNFrOHdSUmg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDQ3MDkzOA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    if ((this == SdkType.MSAL) || (this == SdkType.MSALCPP)) {\n          \n          \n            \n                        return true;\n          \n          \n            \n                    }\n          \n          \n            \n                    return false;\n          \n          \n            \n                    return (this == SdkType.MSAL) || (this == SdkType.MSALCPP);", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r500470938", "createdAt": "2020-10-06T17:25:24Z", "author": {"login": "shahzaibj"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/request/SdkType.java", "diffHunk": "@@ -22,10 +22,30 @@\n // THE SOFTWARE.\n package com.microsoft.identity.common.internal.request;\n \n+import com.microsoft.identity.common.adal.internal.AuthenticationConstants;\n+\n /**\n  * Enum to indicate if the request came from an app hosting Adal or Msal Sdk\n  */\n public enum SdkType {\n     ADAL,\n-    MSAL\n-}\n\\ No newline at end of file\n+    MSAL,\n+    MSALCPP;\n+\n+\n+    public String getProductName() {\n+        if ((SdkType.ADAL == this) || (SdkType.MSAL == this)) {\n+            return AuthenticationConstants.SdkPlatformFields.PRODUCT_NAME_MSAL;\n+        } else {\n+            return AuthenticationConstants.SdkPlatformFields.PRODUCT_NAME_MSAL_CPP;\n+        }\n+\n+    }\n+\n+    public boolean isCapableOfMSA() {\n+        if ((this == SdkType.MSAL) || (this == SdkType.MSALCPP)) {\n+            return true;\n+        }\n+        return false;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e691df293c1295281ab6ee6c9758a557b18a0e07"}, "originalPosition": 31}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEzNDIyMTMwOnYy", "diffSide": "RIGHT", "path": "common/src/main/java/com/microsoft/identity/common/internal/broker/BrokerRequest.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQyMDowNjo1M1rOHdYCXQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQyMDowNjo1M1rOHdYCXQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDU2NDU3Mw==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                     * Sdk Type\n          \n          \n            \n                     * Sdk Type.", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r500564573", "createdAt": "2020-10-06T20:06:53Z", "author": {"login": "shahzaibj"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/broker/BrokerRequest.java", "diffHunk": "@@ -468,6 +484,16 @@ public boolean isPowerOptCheckEnabled(){\n             return this;\n         }\n \n+        /**\n+         * Sdk Type", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0690b2edaf6ac5954eb83dead6abee06b4f3ef7b"}, "originalPosition": 73}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEzNDIyMzExOnYy", "diffSide": "RIGHT", "path": "common/src/main/java/com/microsoft/identity/common/internal/commands/parameters/BrokerSilentTokenCommandParameters.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQyMDowNzozMFrOHdYDhw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQyMDowNzozMFrOHdYDhw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDU2NDg3MQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    // isCapableOfMSA() to ensure there is uniformity of logic with SdkType.MSALCPP and SdkType.MSAL\n          \n          \n            \n                    // Check if SDK is capable of MSA to ensure there is uniformity of logic with SdkType.MSALCPP and SdkType.MSAL", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r500564871", "createdAt": "2020-10-06T20:07:30Z", "author": {"login": "shahzaibj"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/commands/parameters/BrokerSilentTokenCommandParameters.java", "diffHunk": "@@ -89,7 +89,9 @@ public void validate() throws ArgumentException {\n                     \"mCallerPackageName\", \"Caller package name is not set\"\n             );\n         }\n-        if (SdkType.MSAL == getSdkType() &&\n+\n+        // isCapableOfMSA() to ensure there is uniformity of logic with SdkType.MSALCPP and SdkType.MSAL", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0690b2edaf6ac5954eb83dead6abee06b4f3ef7b"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEzNDIyNTQwOnYy", "diffSide": "RIGHT", "path": "common/src/main/java/com/microsoft/identity/common/internal/request/SdkType.java", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQyMDowODoxMVrOHdYE_Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQyMDoyNDoxN1rOHdYmaw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDU2NTI0NQ==", "bodyText": "Needs a better javadoc", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r500565245", "createdAt": "2020-10-06T20:08:11Z", "author": {"login": "shahzaibj"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/request/SdkType.java", "diffHunk": "@@ -22,10 +22,31 @@\n // THE SOFTWARE.\n package com.microsoft.identity.common.internal.request;\n \n+import com.microsoft.identity.common.adal.internal.AuthenticationConstants;\n+\n /**\n  * Enum to indicate if the request came from an app hosting Adal or Msal Sdk\n  */\n public enum SdkType {\n     ADAL,\n-    MSAL\n-}\n\\ No newline at end of file\n+    MSAL,\n+    MSALCPP;\n+\n+\n+    public String getProductName() {\n+        if ((SdkType.ADAL == this) || (SdkType.MSAL == this)) {\n+            return AuthenticationConstants.SdkPlatformFields.PRODUCT_NAME_MSAL;\n+        } else {\n+            return AuthenticationConstants.SdkPlatformFields.PRODUCT_NAME_MSAL_CPP;\n+        }\n+\n+    }\n+\n+    /**\n+     * The check for SdkType.MSALCPP is added to ensure\n+     * the uniformity of logic with SdkType.MSAL", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0690b2edaf6ac5954eb83dead6abee06b4f3ef7b"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDU2NjkwNQ==", "bodyText": "Something along the lines of Determines if the Sdk supports Microsoft Personal Accounts.", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r500566905", "createdAt": "2020-10-06T20:11:15Z", "author": {"login": "shahzaibj"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/request/SdkType.java", "diffHunk": "@@ -22,10 +22,31 @@\n // THE SOFTWARE.\n package com.microsoft.identity.common.internal.request;\n \n+import com.microsoft.identity.common.adal.internal.AuthenticationConstants;\n+\n /**\n  * Enum to indicate if the request came from an app hosting Adal or Msal Sdk\n  */\n public enum SdkType {\n     ADAL,\n-    MSAL\n-}\n\\ No newline at end of file\n+    MSAL,\n+    MSALCPP;\n+\n+\n+    public String getProductName() {\n+        if ((SdkType.ADAL == this) || (SdkType.MSAL == this)) {\n+            return AuthenticationConstants.SdkPlatformFields.PRODUCT_NAME_MSAL;\n+        } else {\n+            return AuthenticationConstants.SdkPlatformFields.PRODUCT_NAME_MSAL_CPP;\n+        }\n+\n+    }\n+\n+    /**\n+     * The check for SdkType.MSALCPP is added to ensure\n+     * the uniformity of logic with SdkType.MSAL", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDU2NTI0NQ=="}, "originalCommit": {"oid": "0690b2edaf6ac5954eb83dead6abee06b4f3ef7b"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDU2ODQ4Mg==", "bodyText": "any specific suggestions for the change?\nHow about something on lines of needed check to ensure the request is for a MSA account.", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r500568482", "createdAt": "2020-10-06T20:14:06Z", "author": {"login": "tanmaymanolkar1"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/request/SdkType.java", "diffHunk": "@@ -22,10 +22,31 @@\n // THE SOFTWARE.\n package com.microsoft.identity.common.internal.request;\n \n+import com.microsoft.identity.common.adal.internal.AuthenticationConstants;\n+\n /**\n  * Enum to indicate if the request came from an app hosting Adal or Msal Sdk\n  */\n public enum SdkType {\n     ADAL,\n-    MSAL\n-}\n\\ No newline at end of file\n+    MSAL,\n+    MSALCPP;\n+\n+\n+    public String getProductName() {\n+        if ((SdkType.ADAL == this) || (SdkType.MSAL == this)) {\n+            return AuthenticationConstants.SdkPlatformFields.PRODUCT_NAME_MSAL;\n+        } else {\n+            return AuthenticationConstants.SdkPlatformFields.PRODUCT_NAME_MSAL_CPP;\n+        }\n+\n+    }\n+\n+    /**\n+     * The check for SdkType.MSALCPP is added to ensure\n+     * the uniformity of logic with SdkType.MSAL", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDU2NTI0NQ=="}, "originalCommit": {"oid": "0690b2edaf6ac5954eb83dead6abee06b4f3ef7b"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDU3MzgwMw==", "bodyText": "addressed", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r500573803", "createdAt": "2020-10-06T20:24:17Z", "author": {"login": "tanmaymanolkar1"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/request/SdkType.java", "diffHunk": "@@ -22,10 +22,31 @@\n // THE SOFTWARE.\n package com.microsoft.identity.common.internal.request;\n \n+import com.microsoft.identity.common.adal.internal.AuthenticationConstants;\n+\n /**\n  * Enum to indicate if the request came from an app hosting Adal or Msal Sdk\n  */\n public enum SdkType {\n     ADAL,\n-    MSAL\n-}\n\\ No newline at end of file\n+    MSAL,\n+    MSALCPP;\n+\n+\n+    public String getProductName() {\n+        if ((SdkType.ADAL == this) || (SdkType.MSAL == this)) {\n+            return AuthenticationConstants.SdkPlatformFields.PRODUCT_NAME_MSAL;\n+        } else {\n+            return AuthenticationConstants.SdkPlatformFields.PRODUCT_NAME_MSAL_CPP;\n+        }\n+\n+    }\n+\n+    /**\n+     * The check for SdkType.MSALCPP is added to ensure\n+     * the uniformity of logic with SdkType.MSAL", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDU2NTI0NQ=="}, "originalCommit": {"oid": "0690b2edaf6ac5954eb83dead6abee06b4f3ef7b"}, "originalPosition": 29}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE0NzM4MzYzOnYy", "diffSide": "LEFT", "path": "common/src/main/java/com/microsoft/identity/common/internal/commands/parameters/CommandParameters.java", "isResolved": true, "comments": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQxODozNDozNlrOHfUs7w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQxODo1MTowN1rOHkdEnw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjYwNzA4Nw==", "bodyText": "Do you need to get rid of this annotation?", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r502607087", "createdAt": "2020-10-09T18:34:36Z", "author": {"login": "AdamBJohnsonx"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/commands/parameters/CommandParameters.java", "diffHunk": "@@ -60,9 +60,8 @@\n     @Expose()\n     private String requiredBrokerProtocolVersion;\n \n-    @Builder.Default\n     @Expose()\n-    private SdkType sdkType = SdkType.MSAL;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "32a93406742ec8a5e4bed582f75cd4de8889e032"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjYyMjU3Mg==", "bodyText": "yes because this was preventing picking up the value when I checked using the delombok'd code.", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r502622572", "createdAt": "2020-10-09T19:07:27Z", "author": {"login": "tanmaymanolkar1"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/commands/parameters/CommandParameters.java", "diffHunk": "@@ -60,9 +60,8 @@\n     @Expose()\n     private String requiredBrokerProtocolVersion;\n \n-    @Builder.Default\n     @Expose()\n-    private SdkType sdkType = SdkType.MSAL;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjYwNzA4Nw=="}, "originalCommit": {"oid": "32a93406742ec8a5e4bed582f75cd4de8889e032"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjYyMzQwOA==", "bodyText": "Do we know why it wasn't being picked up? because you said earlier that when null was passed then the default was working as expected and setting it to MSAL -- so in what cases does it not work? and why?", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r502623408", "createdAt": "2020-10-09T19:09:18Z", "author": {"login": "shahzaibj"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/commands/parameters/CommandParameters.java", "diffHunk": "@@ -60,9 +60,8 @@\n     @Expose()\n     private String requiredBrokerProtocolVersion;\n \n-    @Builder.Default\n     @Expose()\n-    private SdkType sdkType = SdkType.MSAL;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjYwNzA4Nw=="}, "originalCommit": {"oid": "32a93406742ec8a5e4bed582f75cd4de8889e032"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjcyMTk0Mg==", "bodyText": "I meant that if the field is not sent over the wire, we have nothing to compare against null on the receiving end. The annotation as well wasn't a good addition, it was a part of an experimentation which I was trying out, and missed out on actually servicing it.", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r502721942", "createdAt": "2020-10-10T00:34:26Z", "author": {"login": "tanmaymanolkar1"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/commands/parameters/CommandParameters.java", "diffHunk": "@@ -60,9 +60,8 @@\n     @Expose()\n     private String requiredBrokerProtocolVersion;\n \n-    @Builder.Default\n     @Expose()\n-    private SdkType sdkType = SdkType.MSAL;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjYwNzA4Nw=="}, "originalCommit": {"oid": "32a93406742ec8a5e4bed582f75cd4de8889e032"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjczNTMyNw==", "bodyText": "But if there is nothing, isn't there the initial value of null for all java objects? I mean the default should be kicking in whether you pass null to the builder or pass nothing", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r502735327", "createdAt": "2020-10-10T02:34:24Z", "author": {"login": "shahzaibj"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/commands/parameters/CommandParameters.java", "diffHunk": "@@ -60,9 +60,8 @@\n     @Expose()\n     private String requiredBrokerProtocolVersion;\n \n-    @Builder.Default\n     @Expose()\n-    private SdkType sdkType = SdkType.MSAL;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjYwNzA4Nw=="}, "originalCommit": {"oid": "32a93406742ec8a5e4bed582f75cd4de8889e032"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDIwNTEzMw==", "bodyText": "Is this coming through Parcelable?", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r504205133", "createdAt": "2020-10-13T19:31:36Z", "author": {"login": "AdamBJohnsonx"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/commands/parameters/CommandParameters.java", "diffHunk": "@@ -60,9 +60,8 @@\n     @Expose()\n     private String requiredBrokerProtocolVersion;\n \n-    @Builder.Default\n     @Expose()\n-    private SdkType sdkType = SdkType.MSAL;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjYwNzA4Nw=="}, "originalCommit": {"oid": "32a93406742ec8a5e4bed582f75cd4de8889e032"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzk4NDc5NQ==", "bodyText": "The Builder.Default is broken according to Some, and seems like people are recommending against using it. This might explain the builder not picking up the value passed.\nprojectlombok/lombok#1347", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r507984795", "createdAt": "2020-10-19T18:47:11Z", "author": {"login": "tanmaymanolkar1"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/commands/parameters/CommandParameters.java", "diffHunk": "@@ -60,9 +60,8 @@\n     @Expose()\n     private String requiredBrokerProtocolVersion;\n \n-    @Builder.Default\n     @Expose()\n-    private SdkType sdkType = SdkType.MSAL;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjYwNzA4Nw=="}, "originalCommit": {"oid": "32a93406742ec8a5e4bed582f75cd4de8889e032"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzk4NzEwMw==", "bodyText": "@AdamBJohnsonx  I dont think its coming through parcelable.", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r507987103", "createdAt": "2020-10-19T18:51:07Z", "author": {"login": "tanmaymanolkar1"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/commands/parameters/CommandParameters.java", "diffHunk": "@@ -60,9 +60,8 @@\n     @Expose()\n     private String requiredBrokerProtocolVersion;\n \n-    @Builder.Default\n     @Expose()\n-    private SdkType sdkType = SdkType.MSAL;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjYwNzA4Nw=="}, "originalCommit": {"oid": "32a93406742ec8a5e4bed582f75cd4de8889e032"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE0NzQ4OTUzOnYy", "diffSide": "RIGHT", "path": "common/src/main/java/com/microsoft/identity/common/internal/request/SdkType.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQxOTowOTo1M1rOHfVtzw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMFQwMDowOTowMlrOHfbfmA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjYyMzY5NQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                 * Determines if the Sdk supports Microsoft Personal Accounts\n          \n          \n            \n                 * Determines if the Sdk supports Microsoft Personal Accounts.", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r502623695", "createdAt": "2020-10-09T19:09:53Z", "author": {"login": "shahzaibj"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/request/SdkType.java", "diffHunk": "@@ -22,10 +22,30 @@\n // THE SOFTWARE.\n package com.microsoft.identity.common.internal.request;\n \n+import com.microsoft.identity.common.adal.internal.AuthenticationConstants;\n+\n /**\n  * Enum to indicate if the request came from an app hosting Adal or Msal Sdk\n  */\n public enum SdkType {\n     ADAL,\n-    MSAL\n-}\n\\ No newline at end of file\n+    MSAL,\n+    MSALCPP;\n+\n+\n+    public String getProductName() {\n+        if ((SdkType.ADAL == this) || (SdkType.MSAL == this)) {\n+            return AuthenticationConstants.SdkPlatformFields.PRODUCT_NAME_MSAL;\n+        } else {\n+            return AuthenticationConstants.SdkPlatformFields.PRODUCT_NAME_MSAL_CPP;\n+        }\n+\n+    }\n+\n+    /**\n+     * Determines if the Sdk supports Microsoft Personal Accounts", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "32a93406742ec8a5e4bed582f75cd4de8889e032"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjYyMzgzMA==", "bodyText": "Also need javadoc for return type here", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r502623830", "createdAt": "2020-10-09T19:10:10Z", "author": {"login": "shahzaibj"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/request/SdkType.java", "diffHunk": "@@ -22,10 +22,30 @@\n // THE SOFTWARE.\n package com.microsoft.identity.common.internal.request;\n \n+import com.microsoft.identity.common.adal.internal.AuthenticationConstants;\n+\n /**\n  * Enum to indicate if the request came from an app hosting Adal or Msal Sdk\n  */\n public enum SdkType {\n     ADAL,\n-    MSAL\n-}\n\\ No newline at end of file\n+    MSAL,\n+    MSALCPP;\n+\n+\n+    public String getProductName() {\n+        if ((SdkType.ADAL == this) || (SdkType.MSAL == this)) {\n+            return AuthenticationConstants.SdkPlatformFields.PRODUCT_NAME_MSAL;\n+        } else {\n+            return AuthenticationConstants.SdkPlatformFields.PRODUCT_NAME_MSAL_CPP;\n+        }\n+\n+    }\n+\n+    /**\n+     * Determines if the Sdk supports Microsoft Personal Accounts", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjYyMzY5NQ=="}, "originalCommit": {"oid": "32a93406742ec8a5e4bed582f75cd4de8889e032"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjcxODM2MA==", "bodyText": "9b05ccd", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r502718360", "createdAt": "2020-10-10T00:09:02Z", "author": {"login": "tanmaymanolkar1"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/request/SdkType.java", "diffHunk": "@@ -22,10 +22,30 @@\n // THE SOFTWARE.\n package com.microsoft.identity.common.internal.request;\n \n+import com.microsoft.identity.common.adal.internal.AuthenticationConstants;\n+\n /**\n  * Enum to indicate if the request came from an app hosting Adal or Msal Sdk\n  */\n public enum SdkType {\n     ADAL,\n-    MSAL\n-}\n\\ No newline at end of file\n+    MSAL,\n+    MSALCPP;\n+\n+\n+    public String getProductName() {\n+        if ((SdkType.ADAL == this) || (SdkType.MSAL == this)) {\n+            return AuthenticationConstants.SdkPlatformFields.PRODUCT_NAME_MSAL;\n+        } else {\n+            return AuthenticationConstants.SdkPlatformFields.PRODUCT_NAME_MSAL_CPP;\n+        }\n+\n+    }\n+\n+    /**\n+     * Determines if the Sdk supports Microsoft Personal Accounts", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjYyMzY5NQ=="}, "originalCommit": {"oid": "32a93406742ec8a5e4bed582f75cd4de8889e032"}, "originalPosition": 28}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE0NzQ5MDc0OnYy", "diffSide": "RIGHT", "path": "common/src/main/java/com/microsoft/identity/common/internal/request/SdkType.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQxOToxMDoxOVrOHfVunA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDowNjozMVrOHfXLdw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjYyMzkwMA==", "bodyText": "Javadoc", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r502623900", "createdAt": "2020-10-09T19:10:19Z", "author": {"login": "shahzaibj"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/request/SdkType.java", "diffHunk": "@@ -22,10 +22,30 @@\n // THE SOFTWARE.\n package com.microsoft.identity.common.internal.request;\n \n+import com.microsoft.identity.common.adal.internal.AuthenticationConstants;\n+\n /**\n  * Enum to indicate if the request came from an app hosting Adal or Msal Sdk\n  */\n public enum SdkType {\n     ADAL,\n-    MSAL\n-}\n\\ No newline at end of file\n+    MSAL,\n+    MSALCPP;\n+\n+\n+    public String getProductName() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "32a93406742ec8a5e4bed582f75cd4de8889e032"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY0NzY3MQ==", "bodyText": "170586b", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r502647671", "createdAt": "2020-10-09T20:06:31Z", "author": {"login": "tanmaymanolkar1"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/request/SdkType.java", "diffHunk": "@@ -22,10 +22,30 @@\n // THE SOFTWARE.\n package com.microsoft.identity.common.internal.request;\n \n+import com.microsoft.identity.common.adal.internal.AuthenticationConstants;\n+\n /**\n  * Enum to indicate if the request came from an app hosting Adal or Msal Sdk\n  */\n public enum SdkType {\n     ADAL,\n-    MSAL\n-}\n\\ No newline at end of file\n+    MSAL,\n+    MSALCPP;\n+\n+\n+    public String getProductName() {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjYyMzkwMA=="}, "originalCommit": {"oid": "32a93406742ec8a5e4bed582f75cd4de8889e032"}, "originalPosition": 18}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE0NzQ5NjM0OnYy", "diffSide": "RIGHT", "path": "common/src/main/java/com/microsoft/identity/common/adal/internal/AuthenticationConstants.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQxOToxMjoyMlrOHfVx_w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDowNjoyNVrOHfXLWA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjYyNDc2Nw==", "bodyText": "Some javadoc for this public class would be good", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r502624767", "createdAt": "2020-10-09T19:12:22Z", "author": {"login": "shahzaibj"}, "path": "common/src/main/java/com/microsoft/identity/common/adal/internal/AuthenticationConstants.java", "diffHunk": "@@ -1567,4 +1567,27 @@\n \n         public static final String USER_SIGNED_OUT_FROM_SHARED_DEVICE = \"user_signed_out_from_shared_device\";\n     }\n+\n+    public static final class SdkPlatformFields {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "32a93406742ec8a5e4bed582f75cd4de8889e032"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY0NzY0MA==", "bodyText": "170586b", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r502647640", "createdAt": "2020-10-09T20:06:25Z", "author": {"login": "tanmaymanolkar1"}, "path": "common/src/main/java/com/microsoft/identity/common/adal/internal/AuthenticationConstants.java", "diffHunk": "@@ -1567,4 +1567,27 @@\n \n         public static final String USER_SIGNED_OUT_FROM_SHARED_DEVICE = \"user_signed_out_from_shared_device\";\n     }\n+\n+    public static final class SdkPlatformFields {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjYyNDc2Nw=="}, "originalCommit": {"oid": "32a93406742ec8a5e4bed582f75cd4de8889e032"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE0ODExMzE1OnYy", "diffSide": "RIGHT", "path": "common/src/main/java/com/microsoft/identity/common/internal/controllers/CommandDispatcher.java", "isResolved": true, "comments": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMFQwMDoxMDozOFrOHfbgtg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMFQwMjozNjo1OVrOHfci-Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjcxODY0Ng==", "bodyText": "Are there any other cases where this could happen (besides the test)? and should we pick a better default value for such scenarios?", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r502718646", "createdAt": "2020-10-10T00:10:38Z", "author": {"login": "shahzaibj"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/controllers/CommandDispatcher.java", "diffHunk": "@@ -165,7 +165,7 @@ public static void submitSilent(@SuppressWarnings(WarningType.rawtype_warning) @\n                 public void run() {\n                     try {\n                         final CommandParameters commandParameters = command.getParameters();\n-                        final String correlationId = initializeDiagnosticContext(commandParameters.getCorrelationId(), commandParameters.getSdkType().getProductName(), commandParameters.getSdkVersion());\n+                        final String correlationId = initializeDiagnosticContext(commandParameters.getCorrelationId(), commandParameters.getSdkType() == null ? \"\" : commandParameters.getSdkType().getProductName(), commandParameters.getSdkVersion());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9b05ccd63b46b2e99747543afec6a72bf9fcbcc9"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjcxOTExNg==", "bodyText": "Realistically, we should accept any String that a client sends us and choose to sanitize it accordingly.  If that means accepting anything of a given pattern and converting everything else to UNKNOWN and pushing the transmitted value over telemetry as unknownClientSpecifier = , that's perfect.", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r502719116", "createdAt": "2020-10-10T00:13:23Z", "author": {"login": "AdamBJohnsonx"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/controllers/CommandDispatcher.java", "diffHunk": "@@ -165,7 +165,7 @@ public static void submitSilent(@SuppressWarnings(WarningType.rawtype_warning) @\n                 public void run() {\n                     try {\n                         final CommandParameters commandParameters = command.getParameters();\n-                        final String correlationId = initializeDiagnosticContext(commandParameters.getCorrelationId(), commandParameters.getSdkType().getProductName(), commandParameters.getSdkVersion());\n+                        final String correlationId = initializeDiagnosticContext(commandParameters.getCorrelationId(), commandParameters.getSdkType() == null ? \"\" : commandParameters.getSdkType().getProductName(), commandParameters.getSdkVersion());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjcxODY0Ng=="}, "originalCommit": {"oid": "9b05ccd63b46b2e99747543afec6a72bf9fcbcc9"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjcxOTE3Nw==", "bodyText": "No, there wouldn't be any such scenarios, since these values are coded when the requests are being spawned. These exist only in the test case. and with this implementation the test cases are also taken care of and are executed successfully.", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r502719177", "createdAt": "2020-10-10T00:13:50Z", "author": {"login": "tanmaymanolkar1"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/controllers/CommandDispatcher.java", "diffHunk": "@@ -165,7 +165,7 @@ public static void submitSilent(@SuppressWarnings(WarningType.rawtype_warning) @\n                 public void run() {\n                     try {\n                         final CommandParameters commandParameters = command.getParameters();\n-                        final String correlationId = initializeDiagnosticContext(commandParameters.getCorrelationId(), commandParameters.getSdkType().getProductName(), commandParameters.getSdkVersion());\n+                        final String correlationId = initializeDiagnosticContext(commandParameters.getCorrelationId(), commandParameters.getSdkType() == null ? \"\" : commandParameters.getSdkType().getProductName(), commandParameters.getSdkVersion());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjcxODY0Ng=="}, "originalCommit": {"oid": "9b05ccd63b46b2e99747543afec6a72bf9fcbcc9"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjcxOTMxMQ==", "bodyText": "There is also an additional null check for this field on the broker side, when rebuilding the CommandParameters from the BrokerRequest.", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r502719311", "createdAt": "2020-10-10T00:14:47Z", "author": {"login": "tanmaymanolkar1"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/controllers/CommandDispatcher.java", "diffHunk": "@@ -165,7 +165,7 @@ public static void submitSilent(@SuppressWarnings(WarningType.rawtype_warning) @\n                 public void run() {\n                     try {\n                         final CommandParameters commandParameters = command.getParameters();\n-                        final String correlationId = initializeDiagnosticContext(commandParameters.getCorrelationId(), commandParameters.getSdkType().getProductName(), commandParameters.getSdkVersion());\n+                        final String correlationId = initializeDiagnosticContext(commandParameters.getCorrelationId(), commandParameters.getSdkType() == null ? \"\" : commandParameters.getSdkType().getProductName(), commandParameters.getSdkVersion());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjcxODY0Ng=="}, "originalCommit": {"oid": "9b05ccd63b46b2e99747543afec6a72bf9fcbcc9"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjcyMDMwMg==", "bodyText": "I've made a bug to remove type-sharing from this interface, since it's just a problem waiting to happen.", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r502720302", "createdAt": "2020-10-10T00:21:29Z", "author": {"login": "AdamBJohnsonx"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/controllers/CommandDispatcher.java", "diffHunk": "@@ -165,7 +165,7 @@ public static void submitSilent(@SuppressWarnings(WarningType.rawtype_warning) @\n                 public void run() {\n                     try {\n                         final CommandParameters commandParameters = command.getParameters();\n-                        final String correlationId = initializeDiagnosticContext(commandParameters.getCorrelationId(), commandParameters.getSdkType().getProductName(), commandParameters.getSdkVersion());\n+                        final String correlationId = initializeDiagnosticContext(commandParameters.getCorrelationId(), commandParameters.getSdkType() == null ? \"\" : commandParameters.getSdkType().getProductName(), commandParameters.getSdkVersion());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjcxODY0Ng=="}, "originalCommit": {"oid": "9b05ccd63b46b2e99747543afec6a72bf9fcbcc9"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjcyMTEwNw==", "bodyText": "@AdamBJohnsonx yes I agree, since this field is not exposed to user input, hence it is safeguarded by that. And like you suggested there is a refactor task needed with certain fields involved in interaction over wire and once things settle down we can club in this change as well", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r502721107", "createdAt": "2020-10-10T00:27:38Z", "author": {"login": "tanmaymanolkar1"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/controllers/CommandDispatcher.java", "diffHunk": "@@ -165,7 +165,7 @@ public static void submitSilent(@SuppressWarnings(WarningType.rawtype_warning) @\n                 public void run() {\n                     try {\n                         final CommandParameters commandParameters = command.getParameters();\n-                        final String correlationId = initializeDiagnosticContext(commandParameters.getCorrelationId(), commandParameters.getSdkType().getProductName(), commandParameters.getSdkVersion());\n+                        final String correlationId = initializeDiagnosticContext(commandParameters.getCorrelationId(), commandParameters.getSdkType() == null ? \"\" : commandParameters.getSdkType().getProductName(), commandParameters.getSdkVersion());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjcxODY0Ng=="}, "originalCommit": {"oid": "9b05ccd63b46b2e99747543afec6a72bf9fcbcc9"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjcyNjYzNQ==", "bodyText": "@tanmaymanolkar1 - don't be so trusting. You could get anything over that interface and it shouldn't crash you.", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r502726635", "createdAt": "2020-10-10T01:15:11Z", "author": {"login": "AdamBJohnsonx"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/controllers/CommandDispatcher.java", "diffHunk": "@@ -165,7 +165,7 @@ public static void submitSilent(@SuppressWarnings(WarningType.rawtype_warning) @\n                 public void run() {\n                     try {\n                         final CommandParameters commandParameters = command.getParameters();\n-                        final String correlationId = initializeDiagnosticContext(commandParameters.getCorrelationId(), commandParameters.getSdkType().getProductName(), commandParameters.getSdkVersion());\n+                        final String correlationId = initializeDiagnosticContext(commandParameters.getCorrelationId(), commandParameters.getSdkType() == null ? \"\" : commandParameters.getSdkType().getProductName(), commandParameters.getSdkVersion());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjcxODY0Ng=="}, "originalCommit": {"oid": "9b05ccd63b46b2e99747543afec6a72bf9fcbcc9"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjczNTYwOQ==", "bodyText": "@tanmaymanolkar1 I think you can create a constant for unknown and use that here....I don't personally like the empty string", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r502735609", "createdAt": "2020-10-10T02:36:59Z", "author": {"login": "shahzaibj"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/controllers/CommandDispatcher.java", "diffHunk": "@@ -165,7 +165,7 @@ public static void submitSilent(@SuppressWarnings(WarningType.rawtype_warning) @\n                 public void run() {\n                     try {\n                         final CommandParameters commandParameters = command.getParameters();\n-                        final String correlationId = initializeDiagnosticContext(commandParameters.getCorrelationId(), commandParameters.getSdkType().getProductName(), commandParameters.getSdkVersion());\n+                        final String correlationId = initializeDiagnosticContext(commandParameters.getCorrelationId(), commandParameters.getSdkType() == null ? \"\" : commandParameters.getSdkType().getProductName(), commandParameters.getSdkVersion());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjcxODY0Ng=="}, "originalCommit": {"oid": "9b05ccd63b46b2e99747543afec6a72bf9fcbcc9"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE0ODI0NDAwOnYy", "diffSide": "RIGHT", "path": "common/src/main/java/com/microsoft/identity/common/internal/controllers/CommandDispatcher.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMFQwMjozNzo0N1rOHfcjPQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMlQxODoxNDoyMlrOHgIuRw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjczNTY3Nw==", "bodyText": "Did we mean to do this or not? If not, then let's remove the comment.", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r502735677", "createdAt": "2020-10-10T02:37:47Z", "author": {"login": "shahzaibj"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/controllers/CommandDispatcher.java", "diffHunk": "@@ -216,6 +219,7 @@ public void run() {\n                             }\n                             finalFuture.setCleanedUp();\n                         }\n+                        //DiagnosticContext.clear();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9b05ccd63b46b2e99747543afec6a72bf9fcbcc9"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzQ1OTM5OQ==", "bodyText": "38b8d70", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r503459399", "createdAt": "2020-10-12T18:14:22Z", "author": {"login": "tanmaymanolkar1"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/controllers/CommandDispatcher.java", "diffHunk": "@@ -216,6 +219,7 @@ public void run() {\n                             }\n                             finalFuture.setCleanedUp();\n                         }\n+                        //DiagnosticContext.clear();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjczNTY3Nw=="}, "originalCommit": {"oid": "9b05ccd63b46b2e99747543afec6a72bf9fcbcc9"}, "originalPosition": 33}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE0ODI0NDIwOnYy", "diffSide": "RIGHT", "path": "common/src/main/java/com/microsoft/identity/common/internal/controllers/CommandDispatcher.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMFQwMjozODowNVrOHfcjVg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMlQxODoxNDoyOFrOHgIubw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjczNTcwMg==", "bodyText": "Same comment as above about empty string", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r502735702", "createdAt": "2020-10-10T02:38:05Z", "author": {"login": "shahzaibj"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/controllers/CommandDispatcher.java", "diffHunk": "@@ -426,48 +430,55 @@ public static void beginInteractive(final InteractiveTokenCommand command) {\n             sInteractiveExecutor.execute(new Runnable() {\n                 @Override\n                 public void run() {\n-                    final String correlationId = initializeDiagnosticContext(\n-                            command.getParameters().getCorrelationId()\n-                    );\n-\n-                    // set correlation id on parameters as it may not already be set\n-                    command.getParameters().setCorrelationId(correlationId);\n+                    try {\n+                        final CommandParameters commandParameters = command.getParameters();\n+                        final String correlationId = initializeDiagnosticContext(\n+                                commandParameters.getCorrelationId(),\n+                                commandParameters.getSdkType() == null ? \"\" : commandParameters.getSdkType().getProductName(),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9b05ccd63b46b2e99747543afec6a72bf9fcbcc9"}, "originalPosition": 51}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzQ1OTQzOQ==", "bodyText": "38b8d70", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r503459439", "createdAt": "2020-10-12T18:14:28Z", "author": {"login": "tanmaymanolkar1"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/controllers/CommandDispatcher.java", "diffHunk": "@@ -426,48 +430,55 @@ public static void beginInteractive(final InteractiveTokenCommand command) {\n             sInteractiveExecutor.execute(new Runnable() {\n                 @Override\n                 public void run() {\n-                    final String correlationId = initializeDiagnosticContext(\n-                            command.getParameters().getCorrelationId()\n-                    );\n-\n-                    // set correlation id on parameters as it may not already be set\n-                    command.getParameters().setCorrelationId(correlationId);\n+                    try {\n+                        final CommandParameters commandParameters = command.getParameters();\n+                        final String correlationId = initializeDiagnosticContext(\n+                                commandParameters.getCorrelationId(),\n+                                commandParameters.getSdkType() == null ? \"\" : commandParameters.getSdkType().getProductName(),", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjczNTcwMg=="}, "originalCommit": {"oid": "9b05ccd63b46b2e99747543afec6a72bf9fcbcc9"}, "originalPosition": 51}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE0ODI0NDk1OnYy", "diffSide": "RIGHT", "path": "common/src/main/java/com/microsoft/identity/common/internal/request/SdkType.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMFQwMjozOToyNVrOHfcjvg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMlQxODoxNDozN1rOHgIutw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjczNTgwNg==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                MSALCPP;\n          \n          \n            \n                MSAL_CPP;\n          \n      \n    \n    \n  \n\nI think that may be more readable", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r502735806", "createdAt": "2020-10-10T02:39:25Z", "author": {"login": "shahzaibj"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/request/SdkType.java", "diffHunk": "@@ -22,10 +22,34 @@\n // THE SOFTWARE.\n package com.microsoft.identity.common.internal.request;\n \n+import com.microsoft.identity.common.adal.internal.AuthenticationConstants;\n+\n /**\n  * Enum to indicate if the request came from an app hosting Adal or Msal Sdk\n  */\n public enum SdkType {\n     ADAL,\n-    MSAL\n-}\n\\ No newline at end of file\n+    MSAL,\n+    MSALCPP;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9b05ccd63b46b2e99747543afec6a72bf9fcbcc9"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzQ1OTUxMQ==", "bodyText": "38b8d70", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r503459511", "createdAt": "2020-10-12T18:14:37Z", "author": {"login": "tanmaymanolkar1"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/request/SdkType.java", "diffHunk": "@@ -22,10 +22,34 @@\n // THE SOFTWARE.\n package com.microsoft.identity.common.internal.request;\n \n+import com.microsoft.identity.common.adal.internal.AuthenticationConstants;\n+\n /**\n  * Enum to indicate if the request came from an app hosting Adal or Msal Sdk\n  */\n public enum SdkType {\n     ADAL,\n-    MSAL\n-}\n\\ No newline at end of file\n+    MSAL,\n+    MSALCPP;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjczNTgwNg=="}, "originalCommit": {"oid": "9b05ccd63b46b2e99747543afec6a72bf9fcbcc9"}, "originalPosition": 15}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE0ODI0NTEzOnYy", "diffSide": "RIGHT", "path": "common/src/main/java/com/microsoft/identity/common/internal/request/SdkType.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMFQwMjozOTo0MlrOHfcj0w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMlQxODoxNDo0MlrOHgIu2A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjczNTgyNw==", "bodyText": "Functions in java are called as methods", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r502735827", "createdAt": "2020-10-10T02:39:42Z", "author": {"login": "shahzaibj"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/request/SdkType.java", "diffHunk": "@@ -22,10 +22,34 @@\n // THE SOFTWARE.\n package com.microsoft.identity.common.internal.request;\n \n+import com.microsoft.identity.common.adal.internal.AuthenticationConstants;\n+\n /**\n  * Enum to indicate if the request came from an app hosting Adal or Msal Sdk\n  */\n public enum SdkType {\n     ADAL,\n-    MSAL\n-}\n\\ No newline at end of file\n+    MSAL,\n+    MSALCPP;\n+\n+    /**\n+     * Function for mapping the SdkType to appropriate String", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9b05ccd63b46b2e99747543afec6a72bf9fcbcc9"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzQ1OTU0NA==", "bodyText": "38b8d70", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r503459544", "createdAt": "2020-10-12T18:14:42Z", "author": {"login": "tanmaymanolkar1"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/request/SdkType.java", "diffHunk": "@@ -22,10 +22,34 @@\n // THE SOFTWARE.\n package com.microsoft.identity.common.internal.request;\n \n+import com.microsoft.identity.common.adal.internal.AuthenticationConstants;\n+\n /**\n  * Enum to indicate if the request came from an app hosting Adal or Msal Sdk\n  */\n public enum SdkType {\n     ADAL,\n-    MSAL\n-}\n\\ No newline at end of file\n+    MSAL,\n+    MSALCPP;\n+\n+    /**\n+     * Function for mapping the SdkType to appropriate String", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjczNTgyNw=="}, "originalCommit": {"oid": "9b05ccd63b46b2e99747543afec6a72bf9fcbcc9"}, "originalPosition": 18}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE0ODI0NjA1OnYy", "diffSide": "RIGHT", "path": "common/src/main/java/com/microsoft/identity/common/internal/request/SdkType.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMFQwMjo0MDo1OVrOHfckQQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMlQxODoxNDo0OFrOHgIvBw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjczNTkzNw==", "bodyText": "needs formatting", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r502735937", "createdAt": "2020-10-10T02:40:59Z", "author": {"login": "shahzaibj"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/request/SdkType.java", "diffHunk": "@@ -22,10 +22,34 @@\n // THE SOFTWARE.\n package com.microsoft.identity.common.internal.request;\n \n+import com.microsoft.identity.common.adal.internal.AuthenticationConstants;\n+\n /**\n  * Enum to indicate if the request came from an app hosting Adal or Msal Sdk\n  */\n public enum SdkType {\n     ADAL,\n-    MSAL\n-}\n\\ No newline at end of file\n+    MSAL,\n+    MSALCPP;\n+\n+    /**\n+     * Function for mapping the SdkType to appropriate String\n+     * for the purpose of sending it to the telemetry.\n+     */\n+    public String getProductName() {\n+        if ((SdkType.ADAL == this) || (SdkType.MSAL == this)) {\n+            return AuthenticationConstants.SdkPlatformFields.PRODUCT_NAME_MSAL;\n+        } else {\n+            return AuthenticationConstants.SdkPlatformFields.PRODUCT_NAME_MSAL_CPP;\n+        }\n+\n+    }\n+\n+    /**\n+     * Determines if the Sdk supports Microsoft Personal Accounts.\n+     * @return True if Sdk supports Microsoft Personal Accounts, false otherwise.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9b05ccd63b46b2e99747543afec6a72bf9fcbcc9"}, "originalPosition": 32}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzQ1OTU5MQ==", "bodyText": "38b8d70", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r503459591", "createdAt": "2020-10-12T18:14:48Z", "author": {"login": "tanmaymanolkar1"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/request/SdkType.java", "diffHunk": "@@ -22,10 +22,34 @@\n // THE SOFTWARE.\n package com.microsoft.identity.common.internal.request;\n \n+import com.microsoft.identity.common.adal.internal.AuthenticationConstants;\n+\n /**\n  * Enum to indicate if the request came from an app hosting Adal or Msal Sdk\n  */\n public enum SdkType {\n     ADAL,\n-    MSAL\n-}\n\\ No newline at end of file\n+    MSAL,\n+    MSALCPP;\n+\n+    /**\n+     * Function for mapping the SdkType to appropriate String\n+     * for the purpose of sending it to the telemetry.\n+     */\n+    public String getProductName() {\n+        if ((SdkType.ADAL == this) || (SdkType.MSAL == this)) {\n+            return AuthenticationConstants.SdkPlatformFields.PRODUCT_NAME_MSAL;\n+        } else {\n+            return AuthenticationConstants.SdkPlatformFields.PRODUCT_NAME_MSAL_CPP;\n+        }\n+\n+    }\n+\n+    /**\n+     * Determines if the Sdk supports Microsoft Personal Accounts.\n+     * @return True if Sdk supports Microsoft Personal Accounts, false otherwise.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjczNTkzNw=="}, "originalCommit": {"oid": "9b05ccd63b46b2e99747543afec6a72bf9fcbcc9"}, "originalPosition": 32}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE4MjAyMDI4OnYy", "diffSide": "RIGHT", "path": "common/src/main/java/com/microsoft/identity/common/internal/request/SdkType.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQxODo1ODoxMFrOHkdWEw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQxOTozOTozMFrOHkeytg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzk5MTU3MQ==", "bodyText": "Aren't we using default of unknown in this case?", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r507991571", "createdAt": "2020-10-19T18:58:10Z", "author": {"login": "shahzaibj"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/request/SdkType.java", "diffHunk": "@@ -22,10 +22,39 @@\n // THE SOFTWARE.\n package com.microsoft.identity.common.internal.request;\n \n+import com.microsoft.identity.common.adal.internal.AuthenticationConstants;\n+\n /**\n  * Enum to indicate if the request came from an app hosting Adal or Msal Sdk\n  */\n public enum SdkType {\n     ADAL,\n-    MSAL\n-}\n\\ No newline at end of file\n+    MSAL,\n+    MSAL_CPP,\n+    UNKNOWN;\n+\n+    /**\n+     * Method for mapping the SdkType to appropriate String\n+     * for the purpose of sending it to the telemetry.\n+     */\n+    public String getProductName() {\n+        if ((SdkType.ADAL == this) || (SdkType.MSAL == this)) {\n+            return AuthenticationConstants.SdkPlatformFields.PRODUCT_NAME_MSAL;\n+        } else if ((SdkType.MSAL_CPP == this)) {\n+            return AuthenticationConstants.SdkPlatformFields.PRODUCT_NAME_MSAL_CPP;\n+        } else {\n+            // value is intended for test-cases, eg. CommandDispatcherTest.java.\n+            return \"\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "38b8d704207fb078d883d644a73e0835fa8ded39"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODAxNTI4Ng==", "bodyText": "yes, we are using it in CommandDispatcher.java for submitSilent and beginInteractive methods. this field is primarily used to adhere to already written test-cases.", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r508015286", "createdAt": "2020-10-19T19:39:30Z", "author": {"login": "tanmaymanolkar1"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/request/SdkType.java", "diffHunk": "@@ -22,10 +22,39 @@\n // THE SOFTWARE.\n package com.microsoft.identity.common.internal.request;\n \n+import com.microsoft.identity.common.adal.internal.AuthenticationConstants;\n+\n /**\n  * Enum to indicate if the request came from an app hosting Adal or Msal Sdk\n  */\n public enum SdkType {\n     ADAL,\n-    MSAL\n-}\n\\ No newline at end of file\n+    MSAL,\n+    MSAL_CPP,\n+    UNKNOWN;\n+\n+    /**\n+     * Method for mapping the SdkType to appropriate String\n+     * for the purpose of sending it to the telemetry.\n+     */\n+    public String getProductName() {\n+        if ((SdkType.ADAL == this) || (SdkType.MSAL == this)) {\n+            return AuthenticationConstants.SdkPlatformFields.PRODUCT_NAME_MSAL;\n+        } else if ((SdkType.MSAL_CPP == this)) {\n+            return AuthenticationConstants.SdkPlatformFields.PRODUCT_NAME_MSAL_CPP;\n+        } else {\n+            // value is intended for test-cases, eg. CommandDispatcherTest.java.\n+            return \"\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzk5MTU3MQ=="}, "originalCommit": {"oid": "38b8d704207fb078d883d644a73e0835fa8ded39"}, "originalPosition": 29}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE4MjAyMDc4OnYy", "diffSide": "RIGHT", "path": "common/src/main/java/com/microsoft/identity/common/internal/request/SdkType.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQxODo1ODoyMFrOHkdWYQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQxOTozOTo1OFrOHke0ZA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzk5MTY0OQ==", "bodyText": "return not documented", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r507991649", "createdAt": "2020-10-19T18:58:20Z", "author": {"login": "shahzaibj"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/request/SdkType.java", "diffHunk": "@@ -22,10 +22,39 @@\n // THE SOFTWARE.\n package com.microsoft.identity.common.internal.request;\n \n+import com.microsoft.identity.common.adal.internal.AuthenticationConstants;\n+\n /**\n  * Enum to indicate if the request came from an app hosting Adal or Msal Sdk\n  */\n public enum SdkType {\n     ADAL,\n-    MSAL\n-}\n\\ No newline at end of file\n+    MSAL,\n+    MSAL_CPP,\n+    UNKNOWN;\n+\n+    /**\n+     * Method for mapping the SdkType to appropriate String\n+     * for the purpose of sending it to the telemetry.\n+     */", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "38b8d704207fb078d883d644a73e0835fa8ded39"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODAxNTcxNg==", "bodyText": "c361c63", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r508015716", "createdAt": "2020-10-19T19:39:58Z", "author": {"login": "tanmaymanolkar1"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/request/SdkType.java", "diffHunk": "@@ -22,10 +22,39 @@\n // THE SOFTWARE.\n package com.microsoft.identity.common.internal.request;\n \n+import com.microsoft.identity.common.adal.internal.AuthenticationConstants;\n+\n /**\n  * Enum to indicate if the request came from an app hosting Adal or Msal Sdk\n  */\n public enum SdkType {\n     ADAL,\n-    MSAL\n-}\n\\ No newline at end of file\n+    MSAL,\n+    MSAL_CPP,\n+    UNKNOWN;\n+\n+    /**\n+     * Method for mapping the SdkType to appropriate String\n+     * for the purpose of sending it to the telemetry.\n+     */", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzk5MTY0OQ=="}, "originalCommit": {"oid": "38b8d704207fb078d883d644a73e0835fa8ded39"}, "originalPosition": 21}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2271, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}