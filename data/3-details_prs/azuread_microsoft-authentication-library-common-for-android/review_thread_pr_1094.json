{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA5NzE1MDIy", "number": 1094, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xM1QyMjowNToxNFrOE42hWw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xM1QyMjowNToxNFrOE42hWw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI4MDQ4OTg3OnYy", "diffSide": "RIGHT", "path": "uiautomationutilities/src/main/java/com/microsoft/identity/client/ui/automation/broker/AbstractTestBroker.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xM1QyMjowNToxNFrOHzBKHw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xM1QyMjowNToxNFrOHzBKHw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzI1ODM5OQ==", "bodyText": "This is just refactor....just relocating this code here from another class where it was previously located.", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1094#discussion_r523258399", "createdAt": "2020-11-13T22:05:14Z", "author": {"login": "shahzaibj"}, "path": "uiautomationutilities/src/main/java/com/microsoft/identity/client/ui/automation/broker/AbstractTestBroker.java", "diffHunk": "@@ -53,6 +55,25 @@\n  */\n public abstract class AbstractTestBroker extends App implements ITestBroker {\n \n+    private final static String TAG = AbstractTestBroker.class.getSimpleName();\n+\n+    @Override\n+    public void uninstall() {\n+        super.uninstall();\n+\n+        if (isInstalled()) {\n+            // The broker app will still be installed on the device if it is enabled\n+            // as a device admin. In this case, we need to disable the admin and then\n+            // uninstall.\n+            Log.w(TAG, \"Unable to uninstall broker \" + getAppName() + \" from device...\" +\n+                    \"the broker is potentially enabled as an active device admin.\");\n+            Log.i(TAG, \"Disabling admin for \" + getAppName());\n+            TestContext.getTestContext().getTestDevice().getSettings().disableAdmin(getAdminName());\n+            Log.i(TAG, \"Reattempting uninstall for \" + getAppName());\n+            super.uninstall();\n+        }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e421b5a40decd8d119d52e7410fd9ee1f22adda6"}, "originalPosition": 36}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2042, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}