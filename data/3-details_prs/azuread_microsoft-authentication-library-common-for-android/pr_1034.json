{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg2OTI4NTM2", "number": 1034, "title": "Adding Enum of MSALCPP in SdkType", "bodyText": "Adding Enum of MSALCPP in SdkType, to help defferentiate between MSAL and MSALCPP.\nAnother aspect is to remove the dependency on Device.java, for the purpose of using dynamic x-client-SKU and x-client-Ver Values, which are to be passed around from CommandParameter and BrokerRequest.\nThese values are then fed into the command Dispatcher, since the values are per thread (i.e request).\nIt makes accessing these values easier form obscure locations (Device.java absence), and saves on a lot of code changes.\nAssociated changes AzureAD/ad-accounts-for-android#1380\nFollow up Action Item :\n\nMigrating the Application Name and Version to DiagnosticContext for uniformity.", "createdAt": "2020-09-14T22:40:34Z", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034", "merged": true, "mergeCommit": {"oid": "4fe161b87b7d98bdd7a4f5bcc604cf839979c6dd"}, "closed": true, "closedAt": "2020-10-19T20:08:05Z", "author": {"login": "tanmaymanolkar1"}, "timelineItems": {"totalCount": 69, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdI7GRqgH2gAyNDg2OTI4NTM2OmYzZGRlNTM3OWQ3ZTViOWVjZGJiZWZkZmY2NDFkZWJmNTA2ZWJiYWE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdUJdsbAH2gAyNDg2OTI4NTM2OmMzNjFjNjM1Y2RiZDg1MzM0M2EwZWQxOGNjMGI0MjZkOWM1MDgwMzc=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "f3dde5379d7e5b9ecdbbefdff641debf506ebbaa", "author": {"user": {"login": "tanmaymanolkar1", "name": null}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/f3dde5379d7e5b9ecdbbefdff641debf506ebbaa", "committedDate": "2020-09-14T22:39:53Z", "message": "Adding Enum of MSALCPP in SdkType\n\nAdding Enum of MSALCPP in SdkType, to help defferentiate between MSAL and MSALCPP.\n\nAnother aspect is to remove teh dependency on Device.java, for teh purpose of using dynamic x-client-SKU and x-client-Ver Values, which are to be passed around from CommandParameter and BrokerRequest"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg4MjEyMDI4", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#pullrequestreview-488212028", "createdAt": "2020-09-14T23:00:06Z", "commit": {"oid": "f3dde5379d7e5b9ecdbbefdff641debf506ebbaa"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQyMzowMDowNlrOHRqg6g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQyMzowMDowNlrOHRqg6g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODI4NDM5NA==", "bodyText": "Move this to Authentication Constants", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r488284394", "createdAt": "2020-09-14T23:00:06Z", "author": {"login": "kreedula"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/request/SdkType.java", "diffHunk": "@@ -27,5 +27,19 @@\n  */\n public enum SdkType {\n     ADAL,\n-    MSAL\n+    MSAL,\n+    MSALCPP;\n+\n+    private final String PRODUCT_NAME_MSAL = \"MSAL.Android\";\n+\n+    private final String PRODUCT_NAME_MSAL_CPP = \"MSAL.xplat.Android\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f3dde5379d7e5b9ecdbbefdff641debf506ebbaa"}, "originalPosition": 10}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "45fba567fbf3c42c2a50bb4229b00b969db134b4", "author": {"user": {"login": "tanmaymanolkar1", "name": null}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/45fba567fbf3c42c2a50bb4229b00b969db134b4", "committedDate": "2020-09-15T00:16:01Z", "message": "updating the location of constants"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d7bc007a81c32056b501cb8b9e5c9a99c223c630", "author": {"user": {"login": "tanmaymanolkar1", "name": null}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/d7bc007a81c32056b501cb8b9e5c9a99c223c630", "committedDate": "2020-09-15T00:48:45Z", "message": "Update BaseController.java to fix the bug addressing chossing ADAL sdktype"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1ea47df09466297a1c30de9a0654d31d5dc14043", "author": {"user": {"login": "tanmaymanolkar1", "name": null}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/1ea47df09466297a1c30de9a0654d31d5dc14043", "committedDate": "2020-09-16T21:58:58Z", "message": "Added metadata to Diagnostic Context and replacing Device.java call locations"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkwMDUxODMw", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#pullrequestreview-490051830", "createdAt": "2020-09-16T22:03:58Z", "commit": {"oid": "1ea47df09466297a1c30de9a0654d31d5dc14043"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNlQyMjowMzo1OFrOHTFzMA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNlQyMjowMzo1OFrOHTFzMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTc4MDAxNg==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    final static String CLIENT_SDKTYPE = \"client_sdktype\";\n          \n          \n            \n                    final static String CLIENT_SDK_TYPE = \"client_sdk_type\";", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r489780016", "createdAt": "2020-09-16T22:03:58Z", "author": {"login": "shahzaibj"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/broker/BrokerRequest.java", "diffHunk": "@@ -53,6 +54,7 @@\n         final static String CLIENT_APP_NAME = \"client_app_name\";\n         final static String CLIENT_APP_VERSION = \"client_app_version\";\n         final static String CLIENT_VERSION = \"client_version\";\n+        final static String CLIENT_SDKTYPE = \"client_sdktype\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1ea47df09466297a1c30de9a0654d31d5dc14043"}, "originalPosition": 12}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkwMDUyNDU3", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#pullrequestreview-490052457", "createdAt": "2020-09-16T22:05:20Z", "commit": {"oid": "1ea47df09466297a1c30de9a0654d31d5dc14043"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNlQyMjowNToyMFrOHTF1QA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNlQyMjowNToyMFrOHTF1QA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTc4MDU0NA==", "bodyText": "Do we actually need to send this to the Broker? IIRC, MSAL / ADAL we don't need to send it based on the current design around adapters. Perhaps it is need for CPP?", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r489780544", "createdAt": "2020-09-16T22:05:20Z", "author": {"login": "shahzaibj"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/broker/BrokerRequest.java", "diffHunk": "@@ -53,6 +54,7 @@\n         final static String CLIENT_APP_NAME = \"client_app_name\";\n         final static String CLIENT_APP_VERSION = \"client_app_version\";\n         final static String CLIENT_VERSION = \"client_version\";\n+        final static String CLIENT_SDKTYPE = \"client_sdktype\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1ea47df09466297a1c30de9a0654d31d5dc14043"}, "originalPosition": 12}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkwMDUzNDQ4", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#pullrequestreview-490053448", "createdAt": "2020-09-16T22:07:25Z", "commit": {"oid": "1ea47df09466297a1c30de9a0654d31d5dc14043"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNlQyMjowNzoyNVrOHTF4eQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNlQyMjowNzoyNVrOHTF4eQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTc4MTM2OQ==", "bodyText": "What's being attached to DiagnosticContext here? As far as I can see nothing.....and I think this method could easily stay inside Device.java. Is there a specific reason for moving it here?", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r489781369", "createdAt": "2020-09-16T22:07:25Z", "author": {"login": "shahzaibj"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/logging/DiagnosticContext.java", "diffHunk": "@@ -85,4 +94,30 @@ private static boolean hasThreadId() {\n     public static void clear() {\n         REQUEST_CONTEXT_THREAD_LOCAL.remove();\n     }\n+\n+    /**\n+     * Function previously resided in Device.java, contains Constants\n+     * Attaching the constants to Diagnostic Context, for the purpose of having them in one place.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1ea47df09466297a1c30de9a0654d31d5dc14043"}, "originalPosition": 23}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkwMDUzOTI1", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#pullrequestreview-490053925", "createdAt": "2020-09-16T22:08:29Z", "commit": {"oid": "1ea47df09466297a1c30de9a0654d31d5dc14043"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNlQyMjowODoyOVrOHTF5-g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNlQyMjowODoyOVrOHTF5-g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTc4MTc1NA==", "bodyText": "Add new line at end of file", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r489781754", "createdAt": "2020-09-16T22:08:29Z", "author": {"login": "shahzaibj"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/request/SdkType.java", "diffHunk": "@@ -22,10 +22,24 @@\n // THE SOFTWARE.\n package com.microsoft.identity.common.internal.request;\n \n+import com.microsoft.identity.common.adal.internal.AuthenticationConstants;\n+\n /**\n  * Enum to indicate if the request came from an app hosting Adal or Msal Sdk\n  */\n public enum SdkType {\n     ADAL,\n-    MSAL\n+    MSAL,\n+    MSALCPP;\n+\n+\n+\n+    public String getProductName() {\n+        if ((SdkType.ADAL == this) || (SdkType.MSAL == this)) {\n+            return AuthenticationConstants.SdkPlatformFields.PRODUCT_NAME_MSAL;\n+        } else {\n+            return AuthenticationConstants.SdkPlatformFields.PRODUCT_NAME_MSAL_CPP;\n+        }\n+\n+    }\n }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1ea47df09466297a1c30de9a0654d31d5dc14043"}, "originalPosition": 25}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3e90fb46a9f42762e4b37ea69ec5ef3c6d8ac6d0", "author": {"user": {"login": "tanmaymanolkar1", "name": null}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/3e90fb46a9f42762e4b37ea69ec5ef3c6d8ac6d0", "committedDate": "2020-09-16T22:26:53Z", "message": "Merge branch 'dev' into tamanolk/adding-new-enum-type-of-MSALCPP"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkwMDcwNjAy", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#pullrequestreview-490070602", "createdAt": "2020-09-16T22:49:01Z", "commit": {"oid": "1ea47df09466297a1c30de9a0654d31d5dc14043"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNlQyMjo0OTowMVrOHTGxZQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNlQyMjo0OTowMVrOHTGxZQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTc5NTk0MQ==", "bodyText": "headers.put(AuthenticationConstants.SdkPlatformFields.PRODUCT, DiagnosticContext.getRequestContext().get(AuthenticationConstants.SdkPlatformFields.PRODUCT));\nheaders.put(AuthenticationConstants.SdkPlatformFields.VERSION,DiagnosticContext.getRequestContext().get(AuthenticationConstants.SdkPlatformFields.VERSION));\nthese can be part of DiagnosticContext.getPlatformIdParameters() as well right , why adding it seperately", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r489795941", "createdAt": "2020-09-16T22:49:01Z", "author": {"login": "kreedula"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/providers/oauth2/OAuth2Strategy.java", "diffHunk": "@@ -182,11 +182,13 @@ protected HttpResponse performTokenRequest(final GenericTokenRequest request) th\n         if (request instanceof MicrosoftTokenRequest &&\n                 !TextUtils.isEmpty(((MicrosoftTokenRequest) request).getBrokerVersion())) {\n             headers.put(\n-                    Device.PlatformIdParameters.BROKER_VERSION,\n+                    AuthenticationConstants.PlatformIdParameters.BROKER_VERSION,\n                     ((MicrosoftTokenRequest) request).getBrokerVersion()\n             );\n         }\n-        headers.putAll(Device.getPlatformIdParameters());\n+        headers.putAll(DiagnosticContext.getPlatformIdParameters());\n+        headers.put(AuthenticationConstants.SdkPlatformFields.PRODUCT, DiagnosticContext.getRequestContext().get(AuthenticationConstants.SdkPlatformFields.PRODUCT));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1ea47df09466297a1c30de9a0654d31d5dc14043"}, "originalPosition": 11}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkwMDcwNzQx", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#pullrequestreview-490070741", "createdAt": "2020-09-16T22:49:20Z", "commit": {"oid": "1ea47df09466297a1c30de9a0654d31d5dc14043"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNlQyMjo0OToyMVrOHTGx0g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNlQyMjo0OToyMVrOHTGx0g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTc5NjA1MA==", "bodyText": "same comment as below", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r489796050", "createdAt": "2020-09-16T22:49:21Z", "author": {"login": "kreedula"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/providers/microsoft/microsoftsts/MicrosoftStsOAuth2Strategy.java", "diffHunk": "@@ -468,7 +464,9 @@ private HttpResponse performPKeyAuthRequest(\n         final String requestBody = ObjectMapper.serializeObjectToFormUrlEncoded(request);\n         final Map<String, String> headers = new TreeMap<>();\n         headers.put(\"client-request-id\", DiagnosticContext.getRequestContext().get(DiagnosticContext.CORRELATION_ID));\n-        headers.putAll(Device.getPlatformIdParameters());\n+        headers.putAll(DiagnosticContext.getPlatformIdParameters());\n+        headers.put(AuthenticationConstants.SdkPlatformFields.PRODUCT, DiagnosticContext.getRequestContext().get(AuthenticationConstants.SdkPlatformFields.PRODUCT));\n+        headers.put(AuthenticationConstants.SdkPlatformFields.VERSION,DiagnosticContext.getRequestContext().get(AuthenticationConstants.SdkPlatformFields.VERSION));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1ea47df09466297a1c30de9a0654d31d5dc14043"}, "originalPosition": 32}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ccc740b9f38b51d5be20fa2759bb91cb43df855a", "author": {"user": {"login": "tanmaymanolkar1", "name": null}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/ccc740b9f38b51d5be20fa2759bb91cb43df855a", "committedDate": "2020-09-25T06:16:11Z", "message": "Merge branch 'dev' into tamanolk/adding-new-enum-type-of-MSALCPP"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "798ca9f7d8e3a969707905150533c290ff12eb97", "author": {"user": {"login": "tanmaymanolkar1", "name": null}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/798ca9f7d8e3a969707905150533c290ff12eb97", "committedDate": "2020-09-25T06:17:40Z", "message": "Undone device.java and updated with mentioned changes"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "798ca9f7d8e3a969707905150533c290ff12eb97", "author": {"user": {"login": "tanmaymanolkar1", "name": null}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/798ca9f7d8e3a969707905150533c290ff12eb97", "committedDate": "2020-09-25T06:17:40Z", "message": "Undone device.java and updated with mentioned changes"}, "afterCommit": {"oid": "c42255e20357b9faecf68962af2ddebfe43e2ab1", "author": {"user": {"login": "tanmaymanolkar1", "name": null}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/c42255e20357b9faecf68962af2ddebfe43e2ab1", "committedDate": "2020-09-29T01:07:50Z", "message": "Undone device.java and updated with mentioned changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "670ebe717b98ccdfdcd42551e0e567b871cea762", "author": {"user": {"login": "tanmaymanolkar1", "name": null}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/670ebe717b98ccdfdcd42551e0e567b871cea762", "committedDate": "2020-10-01T19:19:21Z", "message": "Adding Enum of MSALCPP in SdkType\n\nAdding Enum of MSALCPP in SdkType, to help defferentiate between MSAL and MSALCPP.\n\nAnother aspect is to remove teh dependency on Device.java, for teh purpose of using dynamic x-client-SKU and x-client-Ver Values, which are to be passed around from CommandParameter and BrokerRequest"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "335c130751dab63b1400e5620b12dbc2a5ab1d01", "author": {"user": {"login": "tanmaymanolkar1", "name": null}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/335c130751dab63b1400e5620b12dbc2a5ab1d01", "committedDate": "2020-10-01T19:19:21Z", "message": "updating the location of constants"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "10251fde275d76c91506c61ea2ca721c5f2486b0", "author": {"user": {"login": "tanmaymanolkar1", "name": null}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/10251fde275d76c91506c61ea2ca721c5f2486b0", "committedDate": "2020-10-01T19:19:21Z", "message": "Update BaseController.java to fix the bug addressing chossing ADAL sdktype"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6df0c88e26681dde4c13acc02ea78fb8202aaaf5", "author": {"user": {"login": "tanmaymanolkar1", "name": null}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/6df0c88e26681dde4c13acc02ea78fb8202aaaf5", "committedDate": "2020-10-01T19:27:43Z", "message": "Added metadata to Diagnostic Context and replacing Device.java call locations"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "55eca58b39298fe9e971d2f189da8a4fd22df413", "author": {"user": {"login": "tanmaymanolkar1", "name": null}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/55eca58b39298fe9e971d2f189da8a4fd22df413", "committedDate": "2020-10-01T19:27:49Z", "message": "Undone device.java and updated with mentioned changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4d1946ad0683feb36c1959a804b883222919ee5e", "author": {"user": {"login": "tanmaymanolkar1", "name": null}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/4d1946ad0683feb36c1959a804b883222919ee5e", "committedDate": "2020-10-01T19:27:49Z", "message": "Fixing git conflicts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fa9137d083b3edb33bf32b26e4e11606a5ff773b", "author": {"user": {"login": "tanmaymanolkar1", "name": null}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/fa9137d083b3edb33bf32b26e4e11606a5ff773b", "committedDate": "2020-10-01T19:27:49Z", "message": "adding a new line at EOF"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "77ef07157bf5e5b62df64f1e6d3e4736dad2cf83", "author": {"user": {"login": "tanmaymanolkar1", "name": null}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/77ef07157bf5e5b62df64f1e6d3e4736dad2cf83", "committedDate": "2020-09-29T01:29:28Z", "message": "adding a new line at EOF"}, "afterCommit": {"oid": "fa9137d083b3edb33bf32b26e4e11606a5ff773b", "author": {"user": {"login": "tanmaymanolkar1", "name": null}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/fa9137d083b3edb33bf32b26e4e11606a5ff773b", "committedDate": "2020-10-01T19:27:49Z", "message": "adding a new line at EOF"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "be7e733abef844cf748587e829b998ff7de5a316", "author": {"user": {"login": "tanmaymanolkar1", "name": null}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/be7e733abef844cf748587e829b998ff7de5a316", "committedDate": "2020-10-01T19:44:56Z", "message": "Updating AuthenticationConstants.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "16bf052bb4bff67c98af8344cd10733af0d30f3b", "author": {"user": {"login": "tanmaymanolkar1", "name": null}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/16bf052bb4bff67c98af8344cd10733af0d30f3b", "committedDate": "2020-10-01T21:46:52Z", "message": "Merge branch 'dev' into tamanolk/adding-new-enum-type-of-MSALCPP"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bdedb49a296db9f46e9dc73f7e0ffb41ce52caca", "author": {"user": {"login": "tanmaymanolkar1", "name": null}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/bdedb49a296db9f46e9dc73f7e0ffb41ce52caca", "committedDate": "2020-10-01T23:31:22Z", "message": "Updating the branch and teh submodule"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk4MDk0NzE4", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#pullrequestreview-498094718", "createdAt": "2020-09-29T04:54:54Z", "commit": {"oid": "77ef07157bf5e5b62df64f1e6d3e4736dad2cf83"}, "state": "COMMENTED", "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQwNDo1NDo1NVrOHZZw6Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQwNDo1NzoyN1rOHZZ4Tg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjM5ODU2OQ==", "bodyText": "you can actually put this in the enum itself, since each of them is a class underneath.  Give the whole thing either an abstract method or a method returning whatever we're agreeing on for \"I don't know what this is that's calling me\" and then override it as appropriate for each of the values in your enumeration, and you'll be done, with no crazy branches.", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r496398569", "createdAt": "2020-09-29T04:54:55Z", "author": {"login": "AdamBJohnsonx"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/request/SdkType.java", "diffHunk": "@@ -22,10 +22,24 @@\n // THE SOFTWARE.\n package com.microsoft.identity.common.internal.request;\n \n+import com.microsoft.identity.common.adal.internal.AuthenticationConstants;\n+\n /**\n  * Enum to indicate if the request came from an app hosting Adal or Msal Sdk\n  */\n public enum SdkType {\n     ADAL,\n-    MSAL\n-}\n\\ No newline at end of file\n+    MSAL,\n+    MSALCPP;\n+\n+\n+\n+    public String getProductName() {\n+        if ((SdkType.ADAL == this) || (SdkType.MSAL == this)) {\n+            return AuthenticationConstants.SdkPlatformFields.PRODUCT_NAME_MSAL;\n+        } else {\n+            return AuthenticationConstants.SdkPlatformFields.PRODUCT_NAME_MSAL_CPP;\n+        }\n+\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "77ef07157bf5e5b62df64f1e6d3e4736dad2cf83"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjM5ODkwNA==", "bodyText": "space after comma?", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r496398904", "createdAt": "2020-09-29T04:55:20Z", "author": {"login": "AdamBJohnsonx"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/providers/oauth2/OAuth2Strategy.java", "diffHunk": "@@ -198,6 +198,8 @@ protected HttpResponse performTokenRequest(final GenericTokenRequest request) th\n             );\n         }\n         headers.putAll(Device.getPlatformIdParameters());\n+        headers.put(AuthenticationConstants.SdkPlatformFields.PRODUCT, DiagnosticContext.getRequestContext().get(AuthenticationConstants.SdkPlatformFields.PRODUCT));\n+        headers.put(AuthenticationConstants.SdkPlatformFields.VERSION,DiagnosticContext.getRequestContext().get(AuthenticationConstants.SdkPlatformFields.VERSION));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "77ef07157bf5e5b62df64f1e6d3e4736dad2cf83"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjM5OTAwOA==", "bodyText": "space after comma?", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r496399008", "createdAt": "2020-09-29T04:55:30Z", "author": {"login": "AdamBJohnsonx"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/providers/microsoft/microsoftsts/MicrosoftStsOAuth2Strategy.java", "diffHunk": "@@ -469,6 +465,8 @@ private HttpResponse performPKeyAuthRequest(\n         final Map<String, String> headers = new TreeMap<>();\n         headers.put(\"client-request-id\", DiagnosticContext.getRequestContext().get(DiagnosticContext.CORRELATION_ID));\n         headers.putAll(Device.getPlatformIdParameters());\n+        headers.put(AuthenticationConstants.SdkPlatformFields.PRODUCT, DiagnosticContext.getRequestContext().get(AuthenticationConstants.SdkPlatformFields.PRODUCT));\n+        headers.put(AuthenticationConstants.SdkPlatformFields.VERSION,DiagnosticContext.getRequestContext().get(AuthenticationConstants.SdkPlatformFields.VERSION));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "77ef07157bf5e5b62df64f1e6d3e4736dad2cf83"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjM5OTQ5MQ==", "bodyText": "factor out a local command.getParameters()?", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r496399491", "createdAt": "2020-09-29T04:56:10Z", "author": {"login": "AdamBJohnsonx"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/controllers/CommandDispatcher.java", "diffHunk": "@@ -426,7 +427,9 @@ public static void beginInteractive(final InteractiveTokenCommand command) {\n                 @Override\n                 public void run() {\n                     final String correlationId = initializeDiagnosticContext(\n-                            command.getParameters().getCorrelationId()\n+                            command.getParameters().getCorrelationId(),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "77ef07157bf5e5b62df64f1e6d3e4736dad2cf83"}, "originalPosition": 35}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjQwMDQ2Mg==", "bodyText": "could I make a plug here for adding an UNKNOWN value here.  But if we're going to fail things because they don't know the magic string, then we could at least log what the heck they sent us.", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r496400462", "createdAt": "2020-09-29T04:57:27Z", "author": {"login": "AdamBJohnsonx"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/commands/parameters/BrokerSilentTokenCommandParameters.java", "diffHunk": "@@ -89,7 +89,7 @@ public void validate() throws ArgumentException {\n                     \"mCallerPackageName\", \"Caller package name is not set\"\n             );\n         }\n-        if (SdkType.MSAL == getSdkType() &&\n+        if ((SdkType.MSAL == getSdkType() || SdkType.MSALCPP == getSdkType()) &&", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "77ef07157bf5e5b62df64f1e6d3e4736dad2cf83"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAxNDkzMzk4", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#pullrequestreview-501493398", "createdAt": "2020-10-02T23:25:33Z", "commit": {"oid": "bdedb49a296db9f46e9dc73f7e0ffb41ce52caca"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQyMzoyNTozM1rOHb93mQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQyMzoyNTozM1rOHb93mQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA4NzI1Nw==", "bodyText": "Can we clear the diagnostic context at the end of execution state?", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r499087257", "createdAt": "2020-10-02T23:25:33Z", "author": {"login": "AdamBJohnsonx"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/controllers/CommandDispatcher.java", "diffHunk": "@@ -606,6 +609,8 @@ public static String initializeDiagnosticContext(@Nullable final String requestC\n         final com.microsoft.identity.common.internal.logging.RequestContext rc =\n                 new com.microsoft.identity.common.internal.logging.RequestContext();\n         rc.put(DiagnosticContext.CORRELATION_ID, correlationId);\n+        rc.put(AuthenticationConstants.SdkPlatformFields.PRODUCT, sdkType);\n+        rc.put(AuthenticationConstants.SdkPlatformFields.VERSION, sdkVersion);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bdedb49a296db9f46e9dc73f7e0ffb41ce52caca"}, "originalPosition": 42}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "26cfa7eb0a274713270351aede7d18c256f05eef", "author": {"user": {"login": "tanmaymanolkar1", "name": null}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/26cfa7eb0a274713270351aede7d18c256f05eef", "committedDate": "2020-10-03T00:43:29Z", "message": "addressing the comments and making changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e691df293c1295281ab6ee6c9758a557b18a0e07", "author": {"user": {"login": "tanmaymanolkar1", "name": null}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/e691df293c1295281ab6ee6c9758a557b18a0e07", "committedDate": "2020-10-06T01:05:24Z", "message": "Added a function for sdktype condition check"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAzMTkxMjcw", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#pullrequestreview-503191270", "createdAt": "2020-10-06T17:18:31Z", "commit": {"oid": "e691df293c1295281ab6ee6c9758a557b18a0e07"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQxNzoxODozMVrOHdSECQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQxNzoxODozMVrOHdSECQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDQ2NjY5Nw==", "bodyText": "needs javadoc", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r500466697", "createdAt": "2020-10-06T17:18:31Z", "author": {"login": "shahzaibj"}, "path": "common/src/main/java/com/microsoft/identity/common/adal/internal/AuthenticationConstants.java", "diffHunk": "@@ -1567,4 +1567,24 @@\n \n         public static final String USER_SIGNED_OUT_FROM_SHARED_DEVICE = \"user_signed_out_from_shared_device\";\n     }\n+\n+    public static final class SdkPlatformFields {\n+        /**\n+         * The String representing the sdk platform.\n+         */\n+        public static final String PRODUCT = \"x-client-SKU\";\n+\n+        /**\n+         * The String representing the sdk version.\n+         */\n+        public static final String VERSION = \"x-client-Ver\";\n+\n+        /**\n+         * The Strings representing SdkType\n+         */\n+        public static final String PRODUCT_NAME_MSAL = \"MSAL.Android\";\n+\n+        public static final String PRODUCT_NAME_MSAL_CPP = \"MSAL.xplat.Android\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e691df293c1295281ab6ee6c9758a557b18a0e07"}, "originalPosition": 21}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAzMTkxNTIz", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#pullrequestreview-503191523", "createdAt": "2020-10-06T17:18:50Z", "commit": {"oid": "e691df293c1295281ab6ee6c9758a557b18a0e07"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQxNzoxODo1MVrOHdSE5A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQxNzoxODo1MVrOHdSE5A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDQ2NjkxNg==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                     * The Strings representing SdkType\n          \n          \n            \n                     * The String representing the MSAL SdkType.", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r500466916", "createdAt": "2020-10-06T17:18:51Z", "author": {"login": "shahzaibj"}, "path": "common/src/main/java/com/microsoft/identity/common/adal/internal/AuthenticationConstants.java", "diffHunk": "@@ -1567,4 +1567,24 @@\n \n         public static final String USER_SIGNED_OUT_FROM_SHARED_DEVICE = \"user_signed_out_from_shared_device\";\n     }\n+\n+    public static final class SdkPlatformFields {\n+        /**\n+         * The String representing the sdk platform.\n+         */\n+        public static final String PRODUCT = \"x-client-SKU\";\n+\n+        /**\n+         * The String representing the sdk version.\n+         */\n+        public static final String VERSION = \"x-client-Ver\";\n+\n+        /**\n+         * The Strings representing SdkType", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e691df293c1295281ab6ee6c9758a557b18a0e07"}, "originalPosition": 17}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAzMTkxODY1", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#pullrequestreview-503191865", "createdAt": "2020-10-06T17:19:16Z", "commit": {"oid": "e691df293c1295281ab6ee6c9758a557b18a0e07"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQxNzoxOToxNlrOHdSF_A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQxNzoxOToxNlrOHdSF_A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDQ2NzE5Ng==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                 * Sdk Type\n          \n          \n            \n                 * Sdk Type.", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r500467196", "createdAt": "2020-10-06T17:19:16Z", "author": {"login": "shahzaibj"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/broker/BrokerRequest.java", "diffHunk": "@@ -168,6 +170,13 @@\n     @SerializedName(SerializedNames.CLIENT_VERSION)\n     private String mMsalVersion;\n \n+    /**\n+     * Sdk Type", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e691df293c1295281ab6ee6c9758a557b18a0e07"}, "originalPosition": 21}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAzMTkyNzQ2", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#pullrequestreview-503192746", "createdAt": "2020-10-06T17:20:26Z", "commit": {"oid": "e691df293c1295281ab6ee6c9758a557b18a0e07"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQxNzoyMDoyNlrOHdSItg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQxNzoyMDoyNlrOHdSItg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDQ2Nzg5NA==", "bodyText": "I believe this javadoc needs to be updated......and actually probably needs to be a comment instead of javadoc", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r500467894", "createdAt": "2020-10-06T17:20:26Z", "author": {"login": "shahzaibj"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/commands/parameters/BrokerSilentTokenCommandParameters.java", "diffHunk": "@@ -89,7 +89,11 @@ public void validate() throws ArgumentException {\n                     \"mCallerPackageName\", \"Caller package name is not set\"\n             );\n         }\n-        if (SdkType.MSAL == getSdkType() &&\n+        /**\n+         * The check for SdkType.MSALCPP is added to ensure\n+         * the uniformity of logic with SdkType.MSAL\n+         */", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e691df293c1295281ab6ee6c9758a557b18a0e07"}, "originalPosition": 8}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAzMTk2Nzk0", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#pullrequestreview-503196794", "createdAt": "2020-10-06T17:25:24Z", "commit": {"oid": "e691df293c1295281ab6ee6c9758a557b18a0e07"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQxNzoyNToyNFrOHdSUmg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQxNzoyNToyNFrOHdSUmg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDQ3MDkzOA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    if ((this == SdkType.MSAL) || (this == SdkType.MSALCPP)) {\n          \n          \n            \n                        return true;\n          \n          \n            \n                    }\n          \n          \n            \n                    return false;\n          \n          \n            \n                    return (this == SdkType.MSAL) || (this == SdkType.MSALCPP);", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r500470938", "createdAt": "2020-10-06T17:25:24Z", "author": {"login": "shahzaibj"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/request/SdkType.java", "diffHunk": "@@ -22,10 +22,30 @@\n // THE SOFTWARE.\n package com.microsoft.identity.common.internal.request;\n \n+import com.microsoft.identity.common.adal.internal.AuthenticationConstants;\n+\n /**\n  * Enum to indicate if the request came from an app hosting Adal or Msal Sdk\n  */\n public enum SdkType {\n     ADAL,\n-    MSAL\n-}\n\\ No newline at end of file\n+    MSAL,\n+    MSALCPP;\n+\n+\n+    public String getProductName() {\n+        if ((SdkType.ADAL == this) || (SdkType.MSAL == this)) {\n+            return AuthenticationConstants.SdkPlatformFields.PRODUCT_NAME_MSAL;\n+        } else {\n+            return AuthenticationConstants.SdkPlatformFields.PRODUCT_NAME_MSAL_CPP;\n+        }\n+\n+    }\n+\n+    public boolean isCapableOfMSA() {\n+        if ((this == SdkType.MSAL) || (this == SdkType.MSALCPP)) {\n+            return true;\n+        }\n+        return false;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e691df293c1295281ab6ee6c9758a557b18a0e07"}, "originalPosition": 31}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAzMTk5MDk2", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#pullrequestreview-503199096", "createdAt": "2020-10-06T17:28:06Z", "commit": {"oid": "e691df293c1295281ab6ee6c9758a557b18a0e07"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "807a8d36d68e13a8c22239d1b62b1995c7f1d0e6", "author": {"user": {"login": "tanmaymanolkar1", "name": null}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/807a8d36d68e13a8c22239d1b62b1995c7f1d0e6", "committedDate": "2020-10-06T19:08:38Z", "message": "resolving comments and updating javadocs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0690b2edaf6ac5954eb83dead6abee06b4f3ef7b", "author": {"user": {"login": "tanmaymanolkar1", "name": null}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/0690b2edaf6ac5954eb83dead6abee06b4f3ef7b", "committedDate": "2020-10-06T19:08:53Z", "message": "Merge branch 'dev' into tamanolk/adding-new-enum-type-of-MSALCPP"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAzMzE3OTY2", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#pullrequestreview-503317966", "createdAt": "2020-10-06T20:06:53Z", "commit": {"oid": "0690b2edaf6ac5954eb83dead6abee06b4f3ef7b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQyMDowNjo1M1rOHdYCXQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQyMDowNjo1M1rOHdYCXQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDU2NDU3Mw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                     * Sdk Type\n          \n          \n            \n                     * Sdk Type.", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r500564573", "createdAt": "2020-10-06T20:06:53Z", "author": {"login": "shahzaibj"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/broker/BrokerRequest.java", "diffHunk": "@@ -468,6 +484,16 @@ public boolean isPowerOptCheckEnabled(){\n             return this;\n         }\n \n+        /**\n+         * Sdk Type", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0690b2edaf6ac5954eb83dead6abee06b4f3ef7b"}, "originalPosition": 73}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAzMzE4NDAz", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#pullrequestreview-503318403", "createdAt": "2020-10-06T20:07:30Z", "commit": {"oid": "0690b2edaf6ac5954eb83dead6abee06b4f3ef7b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQyMDowNzozMFrOHdYDhw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQyMDowNzozMFrOHdYDhw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDU2NDg3MQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    // isCapableOfMSA() to ensure there is uniformity of logic with SdkType.MSALCPP and SdkType.MSAL\n          \n          \n            \n                    // Check if SDK is capable of MSA to ensure there is uniformity of logic with SdkType.MSALCPP and SdkType.MSAL", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r500564871", "createdAt": "2020-10-06T20:07:30Z", "author": {"login": "shahzaibj"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/commands/parameters/BrokerSilentTokenCommandParameters.java", "diffHunk": "@@ -89,7 +89,9 @@ public void validate() throws ArgumentException {\n                     \"mCallerPackageName\", \"Caller package name is not set\"\n             );\n         }\n-        if (SdkType.MSAL == getSdkType() &&\n+\n+        // isCapableOfMSA() to ensure there is uniformity of logic with SdkType.MSALCPP and SdkType.MSAL", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0690b2edaf6ac5954eb83dead6abee06b4f3ef7b"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAzMzE4ODc5", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#pullrequestreview-503318879", "createdAt": "2020-10-06T20:08:11Z", "commit": {"oid": "0690b2edaf6ac5954eb83dead6abee06b4f3ef7b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQyMDowODoxMVrOHdYE_Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQyMDowODoxMVrOHdYE_Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDU2NTI0NQ==", "bodyText": "Needs a better javadoc", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r500565245", "createdAt": "2020-10-06T20:08:11Z", "author": {"login": "shahzaibj"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/request/SdkType.java", "diffHunk": "@@ -22,10 +22,31 @@\n // THE SOFTWARE.\n package com.microsoft.identity.common.internal.request;\n \n+import com.microsoft.identity.common.adal.internal.AuthenticationConstants;\n+\n /**\n  * Enum to indicate if the request came from an app hosting Adal or Msal Sdk\n  */\n public enum SdkType {\n     ADAL,\n-    MSAL\n-}\n\\ No newline at end of file\n+    MSAL,\n+    MSALCPP;\n+\n+\n+    public String getProductName() {\n+        if ((SdkType.ADAL == this) || (SdkType.MSAL == this)) {\n+            return AuthenticationConstants.SdkPlatformFields.PRODUCT_NAME_MSAL;\n+        } else {\n+            return AuthenticationConstants.SdkPlatformFields.PRODUCT_NAME_MSAL_CPP;\n+        }\n+\n+    }\n+\n+    /**\n+     * The check for SdkType.MSALCPP is added to ensure\n+     * the uniformity of logic with SdkType.MSAL", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0690b2edaf6ac5954eb83dead6abee06b4f3ef7b"}, "originalPosition": 29}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3ba4ae518c3603f10d8f8d08390c1fd4b041f2de", "author": {"user": {"login": "tanmaymanolkar1", "name": null}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/3ba4ae518c3603f10d8f8d08390c1fd4b041f2de", "committedDate": "2020-10-06T20:21:15Z", "message": "Addressing comments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "29bd5dce68b4ce9071b278caa5a96a89d85013fc", "author": {"user": {"login": "tanmaymanolkar1", "name": null}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/29bd5dce68b4ce9071b278caa5a96a89d85013fc", "committedDate": "2020-10-06T23:51:15Z", "message": "Merge branch 'dev' into tamanolk/adding-new-enum-type-of-MSALCPP"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "02f680150240786615f9e57e294a760c3e6307ee", "author": {"user": {"login": "tanmaymanolkar1", "name": null}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/02f680150240786615f9e57e294a760c3e6307ee", "committedDate": "2020-10-07T22:42:19Z", "message": "Merge branch 'dev' into tamanolk/adding-new-enum-type-of-MSALCPP"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e36b822168f1b04f11a04095d9397c8f62d0b8a6", "author": {"user": {"login": "tanmaymanolkar1", "name": null}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/e36b822168f1b04f11a04095d9397c8f62d0b8a6", "committedDate": "2020-10-08T18:14:09Z", "message": "Merge branch 'dev' into tamanolk/adding-new-enum-type-of-MSALCPP"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "71971f7aba6ef749710983fa8508b9ebb864d48a", "author": {"user": {"login": "tanmaymanolkar1", "name": null}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/71971f7aba6ef749710983fa8508b9ebb864d48a", "committedDate": "2020-10-08T18:35:39Z", "message": "Update CommandDispatcher.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dc9cfacf88e651ef49160d5cd7186d65c46eb4d7", "author": {"user": {"login": "tanmaymanolkar1", "name": null}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/dc9cfacf88e651ef49160d5cd7186d65c46eb4d7", "committedDate": "2020-10-09T18:07:41Z", "message": "Merge branch 'dev' into tamanolk/adding-new-enum-type-of-MSALCPP"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "32a93406742ec8a5e4bed582f75cd4de8889e032", "author": {"user": {"login": "tanmaymanolkar1", "name": null}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/32a93406742ec8a5e4bed582f75cd4de8889e032", "committedDate": "2020-10-09T18:09:02Z", "message": "Updates to cover teh case of old MSAL and new Broker"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA1OTA2MDEy", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#pullrequestreview-505906012", "createdAt": "2020-10-09T18:34:35Z", "commit": {"oid": "32a93406742ec8a5e4bed582f75cd4de8889e032"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQxODozNDozNlrOHfUs7w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQxODozNDozNlrOHfUs7w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjYwNzA4Nw==", "bodyText": "Do you need to get rid of this annotation?", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r502607087", "createdAt": "2020-10-09T18:34:36Z", "author": {"login": "AdamBJohnsonx"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/commands/parameters/CommandParameters.java", "diffHunk": "@@ -60,9 +60,8 @@\n     @Expose()\n     private String requiredBrokerProtocolVersion;\n \n-    @Builder.Default\n     @Expose()\n-    private SdkType sdkType = SdkType.MSAL;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "32a93406742ec8a5e4bed582f75cd4de8889e032"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA1OTI3MzYy", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#pullrequestreview-505927362", "createdAt": "2020-10-09T19:09:53Z", "commit": {"oid": "32a93406742ec8a5e4bed582f75cd4de8889e032"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQxOTowOTo1M1rOHfVtzw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQxOTowOTo1M1rOHfVtzw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjYyMzY5NQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                 * Determines if the Sdk supports Microsoft Personal Accounts\n          \n          \n            \n                 * Determines if the Sdk supports Microsoft Personal Accounts.", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r502623695", "createdAt": "2020-10-09T19:09:53Z", "author": {"login": "shahzaibj"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/request/SdkType.java", "diffHunk": "@@ -22,10 +22,30 @@\n // THE SOFTWARE.\n package com.microsoft.identity.common.internal.request;\n \n+import com.microsoft.identity.common.adal.internal.AuthenticationConstants;\n+\n /**\n  * Enum to indicate if the request came from an app hosting Adal or Msal Sdk\n  */\n public enum SdkType {\n     ADAL,\n-    MSAL\n-}\n\\ No newline at end of file\n+    MSAL,\n+    MSALCPP;\n+\n+\n+    public String getProductName() {\n+        if ((SdkType.ADAL == this) || (SdkType.MSAL == this)) {\n+            return AuthenticationConstants.SdkPlatformFields.PRODUCT_NAME_MSAL;\n+        } else {\n+            return AuthenticationConstants.SdkPlatformFields.PRODUCT_NAME_MSAL_CPP;\n+        }\n+\n+    }\n+\n+    /**\n+     * Determines if the Sdk supports Microsoft Personal Accounts", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "32a93406742ec8a5e4bed582f75cd4de8889e032"}, "originalPosition": 28}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA1OTI3NjM0", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#pullrequestreview-505927634", "createdAt": "2020-10-09T19:10:18Z", "commit": {"oid": "32a93406742ec8a5e4bed582f75cd4de8889e032"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQxOToxMDoxOVrOHfVunA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQxOToxMDoxOVrOHfVunA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjYyMzkwMA==", "bodyText": "Javadoc", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r502623900", "createdAt": "2020-10-09T19:10:19Z", "author": {"login": "shahzaibj"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/request/SdkType.java", "diffHunk": "@@ -22,10 +22,30 @@\n // THE SOFTWARE.\n package com.microsoft.identity.common.internal.request;\n \n+import com.microsoft.identity.common.adal.internal.AuthenticationConstants;\n+\n /**\n  * Enum to indicate if the request came from an app hosting Adal or Msal Sdk\n  */\n public enum SdkType {\n     ADAL,\n-    MSAL\n-}\n\\ No newline at end of file\n+    MSAL,\n+    MSALCPP;\n+\n+\n+    public String getProductName() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "32a93406742ec8a5e4bed582f75cd4de8889e032"}, "originalPosition": 18}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA1OTI4Nzg0", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#pullrequestreview-505928784", "createdAt": "2020-10-09T19:12:22Z", "commit": {"oid": "32a93406742ec8a5e4bed582f75cd4de8889e032"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQxOToxMjoyMlrOHfVx_w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQxOToxMjoyMlrOHfVx_w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjYyNDc2Nw==", "bodyText": "Some javadoc for this public class would be good", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r502624767", "createdAt": "2020-10-09T19:12:22Z", "author": {"login": "shahzaibj"}, "path": "common/src/main/java/com/microsoft/identity/common/adal/internal/AuthenticationConstants.java", "diffHunk": "@@ -1567,4 +1567,27 @@\n \n         public static final String USER_SIGNED_OUT_FROM_SHARED_DEVICE = \"user_signed_out_from_shared_device\";\n     }\n+\n+    public static final class SdkPlatformFields {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "32a93406742ec8a5e4bed582f75cd4de8889e032"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4b98a718b0424f63196b82762caa7aecd44914d0", "author": {"user": {"login": "tanmaymanolkar1", "name": null}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/4b98a718b0424f63196b82762caa7aecd44914d0", "committedDate": "2020-10-09T19:47:25Z", "message": "Merge branch 'dev' into tamanolk/adding-new-enum-type-of-MSALCPP"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "170586b9a106a1bdbe3d038b2d59e9ec96a10510", "author": {"user": {"login": "tanmaymanolkar1", "name": null}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/170586b9a106a1bdbe3d038b2d59e9ec96a10510", "committedDate": "2020-10-09T20:02:57Z", "message": "Updates for Javadocs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9861111a9e6e7abcecf3cf23bc8a6f6180cb45ac", "author": {"user": {"login": "tanmaymanolkar1", "name": null}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/9861111a9e6e7abcecf3cf23bc8a6f6180cb45ac", "committedDate": "2020-10-09T20:05:20Z", "message": "Update javadocs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9b05ccd63b46b2e99747543afec6a72bf9fcbcc9", "author": {"user": {"login": "tanmaymanolkar1", "name": null}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/9b05ccd63b46b2e99747543afec6a72bf9fcbcc9", "committedDate": "2020-10-10T00:08:17Z", "message": "Updates for making sure the CI test case doesnt fail\n\nThe CI test case constructs a CommandParameter object with null values for every field. hence commandParameters.getSdkType().getProductName() was breaking the CI build."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA2MDQzNjM4", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#pullrequestreview-506043638", "createdAt": "2020-10-10T00:10:38Z", "commit": {"oid": "9b05ccd63b46b2e99747543afec6a72bf9fcbcc9"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMFQwMDoxMDozOFrOHfbgtg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMFQwMDoxMDozOFrOHfbgtg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjcxODY0Ng==", "bodyText": "Are there any other cases where this could happen (besides the test)? and should we pick a better default value for such scenarios?", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r502718646", "createdAt": "2020-10-10T00:10:38Z", "author": {"login": "shahzaibj"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/controllers/CommandDispatcher.java", "diffHunk": "@@ -165,7 +165,7 @@ public static void submitSilent(@SuppressWarnings(WarningType.rawtype_warning) @\n                 public void run() {\n                     try {\n                         final CommandParameters commandParameters = command.getParameters();\n-                        final String correlationId = initializeDiagnosticContext(commandParameters.getCorrelationId(), commandParameters.getSdkType().getProductName(), commandParameters.getSdkVersion());\n+                        final String correlationId = initializeDiagnosticContext(commandParameters.getCorrelationId(), commandParameters.getSdkType() == null ? \"\" : commandParameters.getSdkType().getProductName(), commandParameters.getSdkVersion());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9b05ccd63b46b2e99747543afec6a72bf9fcbcc9"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA2MDUwODIy", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#pullrequestreview-506050822", "createdAt": "2020-10-10T01:13:55Z", "commit": {"oid": "9b05ccd63b46b2e99747543afec6a72bf9fcbcc9"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA2MDU4Mzk3", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#pullrequestreview-506058397", "createdAt": "2020-10-10T02:37:47Z", "commit": {"oid": "9b05ccd63b46b2e99747543afec6a72bf9fcbcc9"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMFQwMjozNzo0N1rOHfcjPQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMFQwMjozNzo0N1rOHfcjPQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjczNTY3Nw==", "bodyText": "Did we mean to do this or not? If not, then let's remove the comment.", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r502735677", "createdAt": "2020-10-10T02:37:47Z", "author": {"login": "shahzaibj"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/controllers/CommandDispatcher.java", "diffHunk": "@@ -216,6 +219,7 @@ public void run() {\n                             }\n                             finalFuture.setCleanedUp();\n                         }\n+                        //DiagnosticContext.clear();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9b05ccd63b46b2e99747543afec6a72bf9fcbcc9"}, "originalPosition": 33}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA2MDU4NDE0", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#pullrequestreview-506058414", "createdAt": "2020-10-10T02:38:05Z", "commit": {"oid": "9b05ccd63b46b2e99747543afec6a72bf9fcbcc9"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMFQwMjozODowNVrOHfcjVg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMFQwMjozODowNVrOHfcjVg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjczNTcwMg==", "bodyText": "Same comment as above about empty string", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r502735702", "createdAt": "2020-10-10T02:38:05Z", "author": {"login": "shahzaibj"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/controllers/CommandDispatcher.java", "diffHunk": "@@ -426,48 +430,55 @@ public static void beginInteractive(final InteractiveTokenCommand command) {\n             sInteractiveExecutor.execute(new Runnable() {\n                 @Override\n                 public void run() {\n-                    final String correlationId = initializeDiagnosticContext(\n-                            command.getParameters().getCorrelationId()\n-                    );\n-\n-                    // set correlation id on parameters as it may not already be set\n-                    command.getParameters().setCorrelationId(correlationId);\n+                    try {\n+                        final CommandParameters commandParameters = command.getParameters();\n+                        final String correlationId = initializeDiagnosticContext(\n+                                commandParameters.getCorrelationId(),\n+                                commandParameters.getSdkType() == null ? \"\" : commandParameters.getSdkType().getProductName(),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9b05ccd63b46b2e99747543afec6a72bf9fcbcc9"}, "originalPosition": 51}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA2MDU4NTA4", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#pullrequestreview-506058508", "createdAt": "2020-10-10T02:39:25Z", "commit": {"oid": "9b05ccd63b46b2e99747543afec6a72bf9fcbcc9"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMFQwMjozOToyNVrOHfcjvg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMFQwMjozOToyNVrOHfcjvg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjczNTgwNg==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                MSALCPP;\n          \n          \n            \n                MSAL_CPP;\n          \n      \n    \n    \n  \n\nI think that may be more readable", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r502735806", "createdAt": "2020-10-10T02:39:25Z", "author": {"login": "shahzaibj"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/request/SdkType.java", "diffHunk": "@@ -22,10 +22,34 @@\n // THE SOFTWARE.\n package com.microsoft.identity.common.internal.request;\n \n+import com.microsoft.identity.common.adal.internal.AuthenticationConstants;\n+\n /**\n  * Enum to indicate if the request came from an app hosting Adal or Msal Sdk\n  */\n public enum SdkType {\n     ADAL,\n-    MSAL\n-}\n\\ No newline at end of file\n+    MSAL,\n+    MSALCPP;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9b05ccd63b46b2e99747543afec6a72bf9fcbcc9"}, "originalPosition": 15}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA2MDU4NTIw", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#pullrequestreview-506058520", "createdAt": "2020-10-10T02:39:42Z", "commit": {"oid": "9b05ccd63b46b2e99747543afec6a72bf9fcbcc9"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMFQwMjozOTo0MlrOHfcj0w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMFQwMjozOTo0MlrOHfcj0w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjczNTgyNw==", "bodyText": "Functions in java are called as methods", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r502735827", "createdAt": "2020-10-10T02:39:42Z", "author": {"login": "shahzaibj"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/request/SdkType.java", "diffHunk": "@@ -22,10 +22,34 @@\n // THE SOFTWARE.\n package com.microsoft.identity.common.internal.request;\n \n+import com.microsoft.identity.common.adal.internal.AuthenticationConstants;\n+\n /**\n  * Enum to indicate if the request came from an app hosting Adal or Msal Sdk\n  */\n public enum SdkType {\n     ADAL,\n-    MSAL\n-}\n\\ No newline at end of file\n+    MSAL,\n+    MSALCPP;\n+\n+    /**\n+     * Function for mapping the SdkType to appropriate String", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9b05ccd63b46b2e99747543afec6a72bf9fcbcc9"}, "originalPosition": 18}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA2MDU4NTk0", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#pullrequestreview-506058594", "createdAt": "2020-10-10T02:40:59Z", "commit": {"oid": "9b05ccd63b46b2e99747543afec6a72bf9fcbcc9"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMFQwMjo0MDo1OVrOHfckQQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMFQwMjo0MDo1OVrOHfckQQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjczNTkzNw==", "bodyText": "needs formatting", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r502735937", "createdAt": "2020-10-10T02:40:59Z", "author": {"login": "shahzaibj"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/request/SdkType.java", "diffHunk": "@@ -22,10 +22,34 @@\n // THE SOFTWARE.\n package com.microsoft.identity.common.internal.request;\n \n+import com.microsoft.identity.common.adal.internal.AuthenticationConstants;\n+\n /**\n  * Enum to indicate if the request came from an app hosting Adal or Msal Sdk\n  */\n public enum SdkType {\n     ADAL,\n-    MSAL\n-}\n\\ No newline at end of file\n+    MSAL,\n+    MSALCPP;\n+\n+    /**\n+     * Function for mapping the SdkType to appropriate String\n+     * for the purpose of sending it to the telemetry.\n+     */\n+    public String getProductName() {\n+        if ((SdkType.ADAL == this) || (SdkType.MSAL == this)) {\n+            return AuthenticationConstants.SdkPlatformFields.PRODUCT_NAME_MSAL;\n+        } else {\n+            return AuthenticationConstants.SdkPlatformFields.PRODUCT_NAME_MSAL_CPP;\n+        }\n+\n+    }\n+\n+    /**\n+     * Determines if the Sdk supports Microsoft Personal Accounts.\n+     * @return True if Sdk supports Microsoft Personal Accounts, false otherwise.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9b05ccd63b46b2e99747543afec6a72bf9fcbcc9"}, "originalPosition": 32}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA2MDU4NzAy", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#pullrequestreview-506058702", "createdAt": "2020-10-10T02:42:42Z", "commit": {"oid": "9b05ccd63b46b2e99747543afec6a72bf9fcbcc9"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "38b8d704207fb078d883d644a73e0835fa8ded39", "author": {"user": {"login": "tanmaymanolkar1", "name": null}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/38b8d704207fb078d883d644a73e0835fa8ded39", "committedDate": "2020-10-12T18:10:17Z", "message": "Added an SdkType of UNKNOWN to map the empty string"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEyMDY5NzEx", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#pullrequestreview-512069711", "createdAt": "2020-10-19T18:58:10Z", "commit": {"oid": "38b8d704207fb078d883d644a73e0835fa8ded39"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQxODo1ODoxMFrOHkdWEw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQxODo1ODoxMFrOHkdWEw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzk5MTU3MQ==", "bodyText": "Aren't we using default of unknown in this case?", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r507991571", "createdAt": "2020-10-19T18:58:10Z", "author": {"login": "shahzaibj"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/request/SdkType.java", "diffHunk": "@@ -22,10 +22,39 @@\n // THE SOFTWARE.\n package com.microsoft.identity.common.internal.request;\n \n+import com.microsoft.identity.common.adal.internal.AuthenticationConstants;\n+\n /**\n  * Enum to indicate if the request came from an app hosting Adal or Msal Sdk\n  */\n public enum SdkType {\n     ADAL,\n-    MSAL\n-}\n\\ No newline at end of file\n+    MSAL,\n+    MSAL_CPP,\n+    UNKNOWN;\n+\n+    /**\n+     * Method for mapping the SdkType to appropriate String\n+     * for the purpose of sending it to the telemetry.\n+     */\n+    public String getProductName() {\n+        if ((SdkType.ADAL == this) || (SdkType.MSAL == this)) {\n+            return AuthenticationConstants.SdkPlatformFields.PRODUCT_NAME_MSAL;\n+        } else if ((SdkType.MSAL_CPP == this)) {\n+            return AuthenticationConstants.SdkPlatformFields.PRODUCT_NAME_MSAL_CPP;\n+        } else {\n+            // value is intended for test-cases, eg. CommandDispatcherTest.java.\n+            return \"\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "38b8d704207fb078d883d644a73e0835fa8ded39"}, "originalPosition": 29}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEyMDY5ODEz", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#pullrequestreview-512069813", "createdAt": "2020-10-19T18:58:19Z", "commit": {"oid": "38b8d704207fb078d883d644a73e0835fa8ded39"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQxODo1ODoyMFrOHkdWYQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQxODo1ODoyMFrOHkdWYQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzk5MTY0OQ==", "bodyText": "return not documented", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#discussion_r507991649", "createdAt": "2020-10-19T18:58:20Z", "author": {"login": "shahzaibj"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/request/SdkType.java", "diffHunk": "@@ -22,10 +22,39 @@\n // THE SOFTWARE.\n package com.microsoft.identity.common.internal.request;\n \n+import com.microsoft.identity.common.adal.internal.AuthenticationConstants;\n+\n /**\n  * Enum to indicate if the request came from an app hosting Adal or Msal Sdk\n  */\n public enum SdkType {\n     ADAL,\n-    MSAL\n-}\n\\ No newline at end of file\n+    MSAL,\n+    MSAL_CPP,\n+    UNKNOWN;\n+\n+    /**\n+     * Method for mapping the SdkType to appropriate String\n+     * for the purpose of sending it to the telemetry.\n+     */", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "38b8d704207fb078d883d644a73e0835fa8ded39"}, "originalPosition": 21}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEyMDY5OTkx", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1034#pullrequestreview-512069991", "createdAt": "2020-10-19T18:58:35Z", "commit": {"oid": "38b8d704207fb078d883d644a73e0835fa8ded39"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c361c635cdbd853343a0ed18cc0b426d9c508037", "author": {"user": {"login": "tanmaymanolkar1", "name": null}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/c361c635cdbd853343a0ed18cc0b426d9c508037", "committedDate": "2020-10-19T19:37:18Z", "message": "Update SdkType.java"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1574, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}