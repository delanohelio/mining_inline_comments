{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg1NjA5NTY0", "number": 1031, "reviewThreads": {"totalCount": 20, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMlQwMToyNjowMFrOEiuyDg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQyMTo0ODo1N1rOEl2dcg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA0ODUzNTE4OnYy", "diffSide": "RIGHT", "path": "common/src/main/java/com/microsoft/identity/common/internal/platform/AndroidKeystoreAsymmetricKey.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMlQwMToyNjowMFrOHQxfYg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQyMDowMTozMVrOHSSgLw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzM1MDExNA==", "bodyText": "Javadoc", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031#discussion_r487350114", "createdAt": "2020-09-12T01:26:00Z", "author": {"login": "iambmelt"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/platform/AndroidKeystoreAsymmetricKey.java", "diffHunk": "@@ -0,0 +1,72 @@\n+//  Copyright (c) Microsoft Corporation.\n+//  All rights reserved.\n+//\n+//  This code is licensed under the MIT License.\n+//\n+//  Permission is hereby granted, free of charge, to any person obtaining a copy\n+//  of this software and associated documentation files(the \"Software\"), to deal\n+//  in the Software without restriction, including without limitation the rights\n+//  to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n+//  copies of the Software, and to permit persons to whom the Software is\n+//  furnished to do so, subject to the following conditions :\n+//\n+//  The above copyright notice and this permission notice shall be included in\n+//  all copies or substantial portions of the Software.\n+//\n+//  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+//  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+//  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+//  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+//  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+//  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+//  THE SOFTWARE.\n+package com.microsoft.identity.common.internal.platform;\n+\n+import android.content.Context;\n+import android.os.Build;\n+\n+import androidx.annotation.NonNull;\n+import androidx.annotation.RequiresApi;\n+\n+import com.microsoft.identity.common.exception.ClientException;\n+\n+import java.util.Date;\n+\n+public class AndroidKeystoreAsymmetricKey implements AsymmetricKey {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c42d376fa2a2b10484a6973ca1ceacb021a1e0ef"}, "originalPosition": 35}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODkzOTU2Nw==", "bodyText": "b77c21f", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031#discussion_r488939567", "createdAt": "2020-09-15T20:01:31Z", "author": {"login": "iambmelt"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/platform/AndroidKeystoreAsymmetricKey.java", "diffHunk": "@@ -0,0 +1,72 @@\n+//  Copyright (c) Microsoft Corporation.\n+//  All rights reserved.\n+//\n+//  This code is licensed under the MIT License.\n+//\n+//  Permission is hereby granted, free of charge, to any person obtaining a copy\n+//  of this software and associated documentation files(the \"Software\"), to deal\n+//  in the Software without restriction, including without limitation the rights\n+//  to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n+//  copies of the Software, and to permit persons to whom the Software is\n+//  furnished to do so, subject to the following conditions :\n+//\n+//  The above copyright notice and this permission notice shall be included in\n+//  all copies or substantial portions of the Software.\n+//\n+//  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+//  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+//  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+//  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+//  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+//  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+//  THE SOFTWARE.\n+package com.microsoft.identity.common.internal.platform;\n+\n+import android.content.Context;\n+import android.os.Build;\n+\n+import androidx.annotation.NonNull;\n+import androidx.annotation.RequiresApi;\n+\n+import com.microsoft.identity.common.exception.ClientException;\n+\n+import java.util.Date;\n+\n+public class AndroidKeystoreAsymmetricKey implements AsymmetricKey {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzM1MDExNA=="}, "originalCommit": {"oid": "c42d376fa2a2b10484a6973ca1ceacb021a1e0ef"}, "originalPosition": 35}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA0ODUzNTI3OnYy", "diffSide": "RIGHT", "path": "common/src/main/java/com/microsoft/identity/common/internal/platform/AndroidKeystoreAsymmetricKey.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMlQwMToyNjoxMFrOHQxfcg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQyMDowMTozN1rOHSSgYQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzM1MDEzMA==", "bodyText": "Javadoc", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031#discussion_r487350130", "createdAt": "2020-09-12T01:26:10Z", "author": {"login": "iambmelt"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/platform/AndroidKeystoreAsymmetricKey.java", "diffHunk": "@@ -0,0 +1,72 @@\n+//  Copyright (c) Microsoft Corporation.\n+//  All rights reserved.\n+//\n+//  This code is licensed under the MIT License.\n+//\n+//  Permission is hereby granted, free of charge, to any person obtaining a copy\n+//  of this software and associated documentation files(the \"Software\"), to deal\n+//  in the Software without restriction, including without limitation the rights\n+//  to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n+//  copies of the Software, and to permit persons to whom the Software is\n+//  furnished to do so, subject to the following conditions :\n+//\n+//  The above copyright notice and this permission notice shall be included in\n+//  all copies or substantial portions of the Software.\n+//\n+//  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+//  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+//  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+//  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+//  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+//  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+//  THE SOFTWARE.\n+package com.microsoft.identity.common.internal.platform;\n+\n+import android.content.Context;\n+import android.os.Build;\n+\n+import androidx.annotation.NonNull;\n+import androidx.annotation.RequiresApi;\n+\n+import com.microsoft.identity.common.exception.ClientException;\n+\n+import java.util.Date;\n+\n+public class AndroidKeystoreAsymmetricKey implements AsymmetricKey {\n+\n+    private final IDevicePopManager mDevicePopManager;\n+\n+    AndroidKeystoreAsymmetricKey(@NonNull final Context context,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c42d376fa2a2b10484a6973ca1ceacb021a1e0ef"}, "originalPosition": 39}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODkzOTYxNw==", "bodyText": "b77c21f", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031#discussion_r488939617", "createdAt": "2020-09-15T20:01:37Z", "author": {"login": "iambmelt"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/platform/AndroidKeystoreAsymmetricKey.java", "diffHunk": "@@ -0,0 +1,72 @@\n+//  Copyright (c) Microsoft Corporation.\n+//  All rights reserved.\n+//\n+//  This code is licensed under the MIT License.\n+//\n+//  Permission is hereby granted, free of charge, to any person obtaining a copy\n+//  of this software and associated documentation files(the \"Software\"), to deal\n+//  in the Software without restriction, including without limitation the rights\n+//  to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n+//  copies of the Software, and to permit persons to whom the Software is\n+//  furnished to do so, subject to the following conditions :\n+//\n+//  The above copyright notice and this permission notice shall be included in\n+//  all copies or substantial portions of the Software.\n+//\n+//  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+//  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+//  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+//  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+//  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+//  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+//  THE SOFTWARE.\n+package com.microsoft.identity.common.internal.platform;\n+\n+import android.content.Context;\n+import android.os.Build;\n+\n+import androidx.annotation.NonNull;\n+import androidx.annotation.RequiresApi;\n+\n+import com.microsoft.identity.common.exception.ClientException;\n+\n+import java.util.Date;\n+\n+public class AndroidKeystoreAsymmetricKey implements AsymmetricKey {\n+\n+    private final IDevicePopManager mDevicePopManager;\n+\n+    AndroidKeystoreAsymmetricKey(@NonNull final Context context,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzM1MDEzMA=="}, "originalCommit": {"oid": "c42d376fa2a2b10484a6973ca1ceacb021a1e0ef"}, "originalPosition": 39}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA0ODUzNTM3OnYy", "diffSide": "RIGHT", "path": "common/src/main/java/com/microsoft/identity/common/internal/platform/AndroidKeystoreAsymmetricKeyFactory.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMlQwMToyNjoyMVrOHQxfgA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQyMDowNTo1OFrOHSSo5g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzM1MDE0NA==", "bodyText": "Javadoc", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031#discussion_r487350144", "createdAt": "2020-09-12T01:26:21Z", "author": {"login": "iambmelt"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/platform/AndroidKeystoreAsymmetricKeyFactory.java", "diffHunk": "@@ -0,0 +1,88 @@\n+//  Copyright (c) Microsoft Corporation.\n+//  All rights reserved.\n+//\n+//  This code is licensed under the MIT License.\n+//\n+//  Permission is hereby granted, free of charge, to any person obtaining a copy\n+//  of this software and associated documentation files(the \"Software\"), to deal\n+//  in the Software without restriction, including without limitation the rights\n+//  to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n+//  copies of the Software, and to permit persons to whom the Software is\n+//  furnished to do so, subject to the following conditions :\n+//\n+//  The above copyright notice and this permission notice shall be included in\n+//  all copies or substantial portions of the Software.\n+//\n+//  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+//  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+//  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+//  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+//  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+//  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+//  THE SOFTWARE.\n+package com.microsoft.identity.common.internal.platform;\n+\n+import android.content.Context;\n+\n+import androidx.annotation.NonNull;\n+\n+import com.microsoft.identity.common.exception.ClientException;\n+\n+import java.io.IOException;\n+import java.security.KeyStoreException;\n+import java.security.NoSuchAlgorithmException;\n+import java.security.cert.CertificateException;\n+\n+public class AndroidKeystoreAsymmetricKeyFactory implements AsymmetricKeyFactory {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c42d376fa2a2b10484a6973ca1ceacb021a1e0ef"}, "originalPosition": 36}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODk0MTc5OA==", "bodyText": "f5ef47f", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031#discussion_r488941798", "createdAt": "2020-09-15T20:05:58Z", "author": {"login": "iambmelt"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/platform/AndroidKeystoreAsymmetricKeyFactory.java", "diffHunk": "@@ -0,0 +1,88 @@\n+//  Copyright (c) Microsoft Corporation.\n+//  All rights reserved.\n+//\n+//  This code is licensed under the MIT License.\n+//\n+//  Permission is hereby granted, free of charge, to any person obtaining a copy\n+//  of this software and associated documentation files(the \"Software\"), to deal\n+//  in the Software without restriction, including without limitation the rights\n+//  to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n+//  copies of the Software, and to permit persons to whom the Software is\n+//  furnished to do so, subject to the following conditions :\n+//\n+//  The above copyright notice and this permission notice shall be included in\n+//  all copies or substantial portions of the Software.\n+//\n+//  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+//  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+//  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+//  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+//  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+//  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+//  THE SOFTWARE.\n+package com.microsoft.identity.common.internal.platform;\n+\n+import android.content.Context;\n+\n+import androidx.annotation.NonNull;\n+\n+import com.microsoft.identity.common.exception.ClientException;\n+\n+import java.io.IOException;\n+import java.security.KeyStoreException;\n+import java.security.NoSuchAlgorithmException;\n+import java.security.cert.CertificateException;\n+\n+public class AndroidKeystoreAsymmetricKeyFactory implements AsymmetricKeyFactory {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzM1MDE0NA=="}, "originalCommit": {"oid": "c42d376fa2a2b10484a6973ca1ceacb021a1e0ef"}, "originalPosition": 36}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA0ODUzNTQ0OnYy", "diffSide": "RIGHT", "path": "common/src/main/java/com/microsoft/identity/common/internal/platform/AndroidKeystoreAsymmetricKeyFactory.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMlQwMToyNjoyN1rOHQxfiA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQyMDowNjowNVrOHSSpFA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzM1MDE1Mg==", "bodyText": "Javadoc", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031#discussion_r487350152", "createdAt": "2020-09-12T01:26:27Z", "author": {"login": "iambmelt"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/platform/AndroidKeystoreAsymmetricKeyFactory.java", "diffHunk": "@@ -0,0 +1,88 @@\n+//  Copyright (c) Microsoft Corporation.\n+//  All rights reserved.\n+//\n+//  This code is licensed under the MIT License.\n+//\n+//  Permission is hereby granted, free of charge, to any person obtaining a copy\n+//  of this software and associated documentation files(the \"Software\"), to deal\n+//  in the Software without restriction, including without limitation the rights\n+//  to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n+//  copies of the Software, and to permit persons to whom the Software is\n+//  furnished to do so, subject to the following conditions :\n+//\n+//  The above copyright notice and this permission notice shall be included in\n+//  all copies or substantial portions of the Software.\n+//\n+//  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+//  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+//  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+//  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+//  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+//  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+//  THE SOFTWARE.\n+package com.microsoft.identity.common.internal.platform;\n+\n+import android.content.Context;\n+\n+import androidx.annotation.NonNull;\n+\n+import com.microsoft.identity.common.exception.ClientException;\n+\n+import java.io.IOException;\n+import java.security.KeyStoreException;\n+import java.security.NoSuchAlgorithmException;\n+import java.security.cert.CertificateException;\n+\n+public class AndroidKeystoreAsymmetricKeyFactory implements AsymmetricKeyFactory {\n+\n+    private final Context mContext;\n+\n+    public AndroidKeystoreAsymmetricKeyFactory(@NonNull final Context context) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c42d376fa2a2b10484a6973ca1ceacb021a1e0ef"}, "originalPosition": 40}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODk0MTg0NA==", "bodyText": "f5ef47f", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031#discussion_r488941844", "createdAt": "2020-09-15T20:06:05Z", "author": {"login": "iambmelt"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/platform/AndroidKeystoreAsymmetricKeyFactory.java", "diffHunk": "@@ -0,0 +1,88 @@\n+//  Copyright (c) Microsoft Corporation.\n+//  All rights reserved.\n+//\n+//  This code is licensed under the MIT License.\n+//\n+//  Permission is hereby granted, free of charge, to any person obtaining a copy\n+//  of this software and associated documentation files(the \"Software\"), to deal\n+//  in the Software without restriction, including without limitation the rights\n+//  to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n+//  copies of the Software, and to permit persons to whom the Software is\n+//  furnished to do so, subject to the following conditions :\n+//\n+//  The above copyright notice and this permission notice shall be included in\n+//  all copies or substantial portions of the Software.\n+//\n+//  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+//  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+//  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+//  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+//  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+//  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+//  THE SOFTWARE.\n+package com.microsoft.identity.common.internal.platform;\n+\n+import android.content.Context;\n+\n+import androidx.annotation.NonNull;\n+\n+import com.microsoft.identity.common.exception.ClientException;\n+\n+import java.io.IOException;\n+import java.security.KeyStoreException;\n+import java.security.NoSuchAlgorithmException;\n+import java.security.cert.CertificateException;\n+\n+public class AndroidKeystoreAsymmetricKeyFactory implements AsymmetricKeyFactory {\n+\n+    private final Context mContext;\n+\n+    public AndroidKeystoreAsymmetricKeyFactory(@NonNull final Context context) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzM1MDE1Mg=="}, "originalCommit": {"oid": "c42d376fa2a2b10484a6973ca1ceacb021a1e0ef"}, "originalPosition": 40}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA0ODUzNTU0OnYy", "diffSide": "RIGHT", "path": "common/src/main/java/com/microsoft/identity/common/internal/platform/AndroidKeystoreAsymmetricKeyFactory.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMlQwMToyNjo0MVrOHQxfmA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQyMDozNTozOFrOHSTlfg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzM1MDE2OA==", "bodyText": "Catch, wrap, rethrow", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031#discussion_r487350168", "createdAt": "2020-09-12T01:26:41Z", "author": {"login": "iambmelt"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/platform/AndroidKeystoreAsymmetricKeyFactory.java", "diffHunk": "@@ -0,0 +1,88 @@\n+//  Copyright (c) Microsoft Corporation.\n+//  All rights reserved.\n+//\n+//  This code is licensed under the MIT License.\n+//\n+//  Permission is hereby granted, free of charge, to any person obtaining a copy\n+//  of this software and associated documentation files(the \"Software\"), to deal\n+//  in the Software without restriction, including without limitation the rights\n+//  to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n+//  copies of the Software, and to permit persons to whom the Software is\n+//  furnished to do so, subject to the following conditions :\n+//\n+//  The above copyright notice and this permission notice shall be included in\n+//  all copies or substantial portions of the Software.\n+//\n+//  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+//  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+//  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+//  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+//  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+//  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+//  THE SOFTWARE.\n+package com.microsoft.identity.common.internal.platform;\n+\n+import android.content.Context;\n+\n+import androidx.annotation.NonNull;\n+\n+import com.microsoft.identity.common.exception.ClientException;\n+\n+import java.io.IOException;\n+import java.security.KeyStoreException;\n+import java.security.NoSuchAlgorithmException;\n+import java.security.cert.CertificateException;\n+\n+public class AndroidKeystoreAsymmetricKeyFactory implements AsymmetricKeyFactory {\n+\n+    private final Context mContext;\n+\n+    public AndroidKeystoreAsymmetricKeyFactory(@NonNull final Context context) {\n+        mContext = context;\n+    }\n+\n+    @Override\n+    public AsymmetricKey generateAsymmetricKey(@NonNull final String alias) throws ClientException {\n+        try {\n+            return new AndroidKeystoreAsymmetricKey(\n+                    mContext,\n+                    new DevicePopManager(alias)\n+            );\n+        } catch (KeyStoreException e) {\n+            e.printStackTrace();\n+        } catch (CertificateException e) {\n+            e.printStackTrace();\n+        } catch (NoSuchAlgorithmException e) {\n+            e.printStackTrace();\n+        } catch (IOException e) {\n+            e.printStackTrace();\n+        }\n+\n+        // TODO catch, wrap, and rethrow Exception", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c42d376fa2a2b10484a6973ca1ceacb021a1e0ef"}, "originalPosition": 61}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODk1NzMxMA==", "bodyText": "26541d5", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031#discussion_r488957310", "createdAt": "2020-09-15T20:35:38Z", "author": {"login": "iambmelt"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/platform/AndroidKeystoreAsymmetricKeyFactory.java", "diffHunk": "@@ -0,0 +1,88 @@\n+//  Copyright (c) Microsoft Corporation.\n+//  All rights reserved.\n+//\n+//  This code is licensed under the MIT License.\n+//\n+//  Permission is hereby granted, free of charge, to any person obtaining a copy\n+//  of this software and associated documentation files(the \"Software\"), to deal\n+//  in the Software without restriction, including without limitation the rights\n+//  to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n+//  copies of the Software, and to permit persons to whom the Software is\n+//  furnished to do so, subject to the following conditions :\n+//\n+//  The above copyright notice and this permission notice shall be included in\n+//  all copies or substantial portions of the Software.\n+//\n+//  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+//  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+//  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+//  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+//  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+//  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+//  THE SOFTWARE.\n+package com.microsoft.identity.common.internal.platform;\n+\n+import android.content.Context;\n+\n+import androidx.annotation.NonNull;\n+\n+import com.microsoft.identity.common.exception.ClientException;\n+\n+import java.io.IOException;\n+import java.security.KeyStoreException;\n+import java.security.NoSuchAlgorithmException;\n+import java.security.cert.CertificateException;\n+\n+public class AndroidKeystoreAsymmetricKeyFactory implements AsymmetricKeyFactory {\n+\n+    private final Context mContext;\n+\n+    public AndroidKeystoreAsymmetricKeyFactory(@NonNull final Context context) {\n+        mContext = context;\n+    }\n+\n+    @Override\n+    public AsymmetricKey generateAsymmetricKey(@NonNull final String alias) throws ClientException {\n+        try {\n+            return new AndroidKeystoreAsymmetricKey(\n+                    mContext,\n+                    new DevicePopManager(alias)\n+            );\n+        } catch (KeyStoreException e) {\n+            e.printStackTrace();\n+        } catch (CertificateException e) {\n+            e.printStackTrace();\n+        } catch (NoSuchAlgorithmException e) {\n+            e.printStackTrace();\n+        } catch (IOException e) {\n+            e.printStackTrace();\n+        }\n+\n+        // TODO catch, wrap, and rethrow Exception", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzM1MDE2OA=="}, "originalCommit": {"oid": "c42d376fa2a2b10484a6973ca1ceacb021a1e0ef"}, "originalPosition": 61}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA0ODUzNTY3OnYy", "diffSide": "RIGHT", "path": "common/src/main/java/com/microsoft/identity/common/internal/platform/AndroidKeystoreAsymmetricKeyFactory.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMlQwMToyNjo0NlrOHQxfqQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQyMDozNTozNFrOHSTlXw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzM1MDE4NQ==", "bodyText": "Catch, wrap, rethrow", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031#discussion_r487350185", "createdAt": "2020-09-12T01:26:46Z", "author": {"login": "iambmelt"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/platform/AndroidKeystoreAsymmetricKeyFactory.java", "diffHunk": "@@ -0,0 +1,88 @@\n+//  Copyright (c) Microsoft Corporation.\n+//  All rights reserved.\n+//\n+//  This code is licensed under the MIT License.\n+//\n+//  Permission is hereby granted, free of charge, to any person obtaining a copy\n+//  of this software and associated documentation files(the \"Software\"), to deal\n+//  in the Software without restriction, including without limitation the rights\n+//  to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n+//  copies of the Software, and to permit persons to whom the Software is\n+//  furnished to do so, subject to the following conditions :\n+//\n+//  The above copyright notice and this permission notice shall be included in\n+//  all copies or substantial portions of the Software.\n+//\n+//  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+//  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+//  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+//  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+//  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+//  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+//  THE SOFTWARE.\n+package com.microsoft.identity.common.internal.platform;\n+\n+import android.content.Context;\n+\n+import androidx.annotation.NonNull;\n+\n+import com.microsoft.identity.common.exception.ClientException;\n+\n+import java.io.IOException;\n+import java.security.KeyStoreException;\n+import java.security.NoSuchAlgorithmException;\n+import java.security.cert.CertificateException;\n+\n+public class AndroidKeystoreAsymmetricKeyFactory implements AsymmetricKeyFactory {\n+\n+    private final Context mContext;\n+\n+    public AndroidKeystoreAsymmetricKeyFactory(@NonNull final Context context) {\n+        mContext = context;\n+    }\n+\n+    @Override\n+    public AsymmetricKey generateAsymmetricKey(@NonNull final String alias) throws ClientException {\n+        try {\n+            return new AndroidKeystoreAsymmetricKey(\n+                    mContext,\n+                    new DevicePopManager(alias)\n+            );\n+        } catch (KeyStoreException e) {\n+            e.printStackTrace();\n+        } catch (CertificateException e) {\n+            e.printStackTrace();\n+        } catch (NoSuchAlgorithmException e) {\n+            e.printStackTrace();\n+        } catch (IOException e) {\n+            e.printStackTrace();\n+        }\n+\n+        // TODO catch, wrap, and rethrow Exception\n+        return null;\n+    }\n+\n+    @Override\n+    public AsymmetricKey loadAsymmetricKey(String alias) throws ClientException {\n+        // We can just call generate.... same thing... it will be created if it doesn't exist.\n+        return generateAsymmetricKey(alias);\n+    }\n+\n+    @Override\n+    public boolean clearAsymmetricKey(String alias) {\n+        try {\n+            return new DevicePopManager(alias).clearAsymmetricKey();\n+        } catch (KeyStoreException e) {\n+            e.printStackTrace();\n+        } catch (CertificateException e) {\n+            e.printStackTrace();\n+        } catch (NoSuchAlgorithmException e) {\n+            e.printStackTrace();\n+        } catch (IOException e) {\n+            e.printStackTrace();\n+        }\n+\n+        // TODO catch, wrap, and rethrow Exception", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c42d376fa2a2b10484a6973ca1ceacb021a1e0ef"}, "originalPosition": 85}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODk1NzI3OQ==", "bodyText": "26541d5", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031#discussion_r488957279", "createdAt": "2020-09-15T20:35:34Z", "author": {"login": "iambmelt"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/platform/AndroidKeystoreAsymmetricKeyFactory.java", "diffHunk": "@@ -0,0 +1,88 @@\n+//  Copyright (c) Microsoft Corporation.\n+//  All rights reserved.\n+//\n+//  This code is licensed under the MIT License.\n+//\n+//  Permission is hereby granted, free of charge, to any person obtaining a copy\n+//  of this software and associated documentation files(the \"Software\"), to deal\n+//  in the Software without restriction, including without limitation the rights\n+//  to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n+//  copies of the Software, and to permit persons to whom the Software is\n+//  furnished to do so, subject to the following conditions :\n+//\n+//  The above copyright notice and this permission notice shall be included in\n+//  all copies or substantial portions of the Software.\n+//\n+//  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+//  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+//  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+//  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+//  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+//  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+//  THE SOFTWARE.\n+package com.microsoft.identity.common.internal.platform;\n+\n+import android.content.Context;\n+\n+import androidx.annotation.NonNull;\n+\n+import com.microsoft.identity.common.exception.ClientException;\n+\n+import java.io.IOException;\n+import java.security.KeyStoreException;\n+import java.security.NoSuchAlgorithmException;\n+import java.security.cert.CertificateException;\n+\n+public class AndroidKeystoreAsymmetricKeyFactory implements AsymmetricKeyFactory {\n+\n+    private final Context mContext;\n+\n+    public AndroidKeystoreAsymmetricKeyFactory(@NonNull final Context context) {\n+        mContext = context;\n+    }\n+\n+    @Override\n+    public AsymmetricKey generateAsymmetricKey(@NonNull final String alias) throws ClientException {\n+        try {\n+            return new AndroidKeystoreAsymmetricKey(\n+                    mContext,\n+                    new DevicePopManager(alias)\n+            );\n+        } catch (KeyStoreException e) {\n+            e.printStackTrace();\n+        } catch (CertificateException e) {\n+            e.printStackTrace();\n+        } catch (NoSuchAlgorithmException e) {\n+            e.printStackTrace();\n+        } catch (IOException e) {\n+            e.printStackTrace();\n+        }\n+\n+        // TODO catch, wrap, and rethrow Exception\n+        return null;\n+    }\n+\n+    @Override\n+    public AsymmetricKey loadAsymmetricKey(String alias) throws ClientException {\n+        // We can just call generate.... same thing... it will be created if it doesn't exist.\n+        return generateAsymmetricKey(alias);\n+    }\n+\n+    @Override\n+    public boolean clearAsymmetricKey(String alias) {\n+        try {\n+            return new DevicePopManager(alias).clearAsymmetricKey();\n+        } catch (KeyStoreException e) {\n+            e.printStackTrace();\n+        } catch (CertificateException e) {\n+            e.printStackTrace();\n+        } catch (NoSuchAlgorithmException e) {\n+            e.printStackTrace();\n+        } catch (IOException e) {\n+            e.printStackTrace();\n+        }\n+\n+        // TODO catch, wrap, and rethrow Exception", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzM1MDE4NQ=="}, "originalCommit": {"oid": "c42d376fa2a2b10484a6973ca1ceacb021a1e0ef"}, "originalPosition": 85}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA0ODUzNTgyOnYy", "diffSide": "RIGHT", "path": "common/src/main/java/com/microsoft/identity/common/internal/platform/AsymmetricKeyFactory.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMlQwMToyNzowMVrOHQxfvQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQyMDoxMzozN1rOHSS4AA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzM1MDIwNQ==", "bodyText": "Javadoc", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031#discussion_r487350205", "createdAt": "2020-09-12T01:27:01Z", "author": {"login": "iambmelt"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/platform/AsymmetricKeyFactory.java", "diffHunk": "@@ -0,0 +1,35 @@\n+//  Copyright (c) Microsoft Corporation.\n+//  All rights reserved.\n+//\n+//  This code is licensed under the MIT License.\n+//\n+//  Permission is hereby granted, free of charge, to any person obtaining a copy\n+//  of this software and associated documentation files(the \"Software\"), to deal\n+//  in the Software without restriction, including without limitation the rights\n+//  to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n+//  copies of the Software, and to permit persons to whom the Software is\n+//  furnished to do so, subject to the following conditions :\n+//\n+//  The above copyright notice and this permission notice shall be included in\n+//  all copies or substantial portions of the Software.\n+//\n+//  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+//  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+//  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+//  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+//  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+//  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+//  THE SOFTWARE.\n+package com.microsoft.identity.common.internal.platform;\n+\n+import com.microsoft.identity.common.exception.ClientException;\n+\n+public interface AsymmetricKeyFactory {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c42d376fa2a2b10484a6973ca1ceacb021a1e0ef"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODk0NTY2NA==", "bodyText": "1e684cc", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031#discussion_r488945664", "createdAt": "2020-09-15T20:13:37Z", "author": {"login": "iambmelt"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/platform/AsymmetricKeyFactory.java", "diffHunk": "@@ -0,0 +1,35 @@\n+//  Copyright (c) Microsoft Corporation.\n+//  All rights reserved.\n+//\n+//  This code is licensed under the MIT License.\n+//\n+//  Permission is hereby granted, free of charge, to any person obtaining a copy\n+//  of this software and associated documentation files(the \"Software\"), to deal\n+//  in the Software without restriction, including without limitation the rights\n+//  to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n+//  copies of the Software, and to permit persons to whom the Software is\n+//  furnished to do so, subject to the following conditions :\n+//\n+//  The above copyright notice and this permission notice shall be included in\n+//  all copies or substantial portions of the Software.\n+//\n+//  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+//  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+//  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+//  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+//  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+//  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+//  THE SOFTWARE.\n+package com.microsoft.identity.common.internal.platform;\n+\n+import com.microsoft.identity.common.exception.ClientException;\n+\n+public interface AsymmetricKeyFactory {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzM1MDIwNQ=="}, "originalCommit": {"oid": "c42d376fa2a2b10484a6973ca1ceacb021a1e0ef"}, "originalPosition": 27}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA0ODUzNjQzOnYy", "diffSide": "RIGHT", "path": "common/src/main/java/com/microsoft/identity/common/internal/platform/AndroidKeystoreAsymmetricKey.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMlQwMToyNzo0N1rOHQxgBA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOVQwMToyNzowNlrOHUfoLw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzM1MDI3Ng==", "bodyText": "Add tests", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031#discussion_r487350276", "createdAt": "2020-09-12T01:27:47Z", "author": {"login": "iambmelt"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/platform/AndroidKeystoreAsymmetricKey.java", "diffHunk": "@@ -0,0 +1,72 @@\n+//  Copyright (c) Microsoft Corporation.\n+//  All rights reserved.\n+//\n+//  This code is licensed under the MIT License.\n+//\n+//  Permission is hereby granted, free of charge, to any person obtaining a copy\n+//  of this software and associated documentation files(the \"Software\"), to deal\n+//  in the Software without restriction, including without limitation the rights\n+//  to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n+//  copies of the Software, and to permit persons to whom the Software is\n+//  furnished to do so, subject to the following conditions :\n+//\n+//  The above copyright notice and this permission notice shall be included in\n+//  all copies or substantial portions of the Software.\n+//\n+//  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+//  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+//  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+//  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+//  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+//  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+//  THE SOFTWARE.\n+package com.microsoft.identity.common.internal.platform;\n+\n+import android.content.Context;\n+import android.os.Build;\n+\n+import androidx.annotation.NonNull;\n+import androidx.annotation.RequiresApi;\n+\n+import com.microsoft.identity.common.exception.ClientException;\n+\n+import java.util.Date;\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c42d376fa2a2b10484a6973ca1ceacb021a1e0ef"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTI1MTc1OQ==", "bodyText": "8d716fd", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031#discussion_r491251759", "createdAt": "2020-09-19T01:27:06Z", "author": {"login": "iambmelt"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/platform/AndroidKeystoreAsymmetricKey.java", "diffHunk": "@@ -0,0 +1,72 @@\n+//  Copyright (c) Microsoft Corporation.\n+//  All rights reserved.\n+//\n+//  This code is licensed under the MIT License.\n+//\n+//  Permission is hereby granted, free of charge, to any person obtaining a copy\n+//  of this software and associated documentation files(the \"Software\"), to deal\n+//  in the Software without restriction, including without limitation the rights\n+//  to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n+//  copies of the Software, and to permit persons to whom the Software is\n+//  furnished to do so, subject to the following conditions :\n+//\n+//  The above copyright notice and this permission notice shall be included in\n+//  all copies or substantial portions of the Software.\n+//\n+//  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+//  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+//  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+//  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+//  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+//  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+//  THE SOFTWARE.\n+package com.microsoft.identity.common.internal.platform;\n+\n+import android.content.Context;\n+import android.os.Build;\n+\n+import androidx.annotation.NonNull;\n+import androidx.annotation.RequiresApi;\n+\n+import com.microsoft.identity.common.exception.ClientException;\n+\n+import java.util.Date;\n+", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzM1MDI3Ng=="}, "originalCommit": {"oid": "c42d376fa2a2b10484a6973ca1ceacb021a1e0ef"}, "originalPosition": 34}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA0ODUzNjU5OnYy", "diffSide": "RIGHT", "path": "common/src/main/java/com/microsoft/identity/common/internal/platform/AndroidKeystoreAsymmetricKeyFactory.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMlQwMToyNzo1NFrOHQxgGA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOVQwMToyNzoxMVrOHUfoNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzM1MDI5Ng==", "bodyText": "Add tests", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031#discussion_r487350296", "createdAt": "2020-09-12T01:27:54Z", "author": {"login": "iambmelt"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/platform/AndroidKeystoreAsymmetricKeyFactory.java", "diffHunk": "@@ -0,0 +1,88 @@\n+//  Copyright (c) Microsoft Corporation.\n+//  All rights reserved.\n+//\n+//  This code is licensed under the MIT License.\n+//\n+//  Permission is hereby granted, free of charge, to any person obtaining a copy\n+//  of this software and associated documentation files(the \"Software\"), to deal\n+//  in the Software without restriction, including without limitation the rights\n+//  to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n+//  copies of the Software, and to permit persons to whom the Software is\n+//  furnished to do so, subject to the following conditions :\n+//\n+//  The above copyright notice and this permission notice shall be included in\n+//  all copies or substantial portions of the Software.\n+//\n+//  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+//  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+//  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+//  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+//  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+//  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+//  THE SOFTWARE.\n+package com.microsoft.identity.common.internal.platform;\n+\n+import android.content.Context;\n+\n+import androidx.annotation.NonNull;\n+\n+import com.microsoft.identity.common.exception.ClientException;\n+\n+import java.io.IOException;\n+import java.security.KeyStoreException;\n+import java.security.NoSuchAlgorithmException;\n+import java.security.cert.CertificateException;\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c42d376fa2a2b10484a6973ca1ceacb021a1e0ef"}, "originalPosition": 35}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTI1MTc2Nw==", "bodyText": "8d716fd", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031#discussion_r491251767", "createdAt": "2020-09-19T01:27:11Z", "author": {"login": "iambmelt"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/platform/AndroidKeystoreAsymmetricKeyFactory.java", "diffHunk": "@@ -0,0 +1,88 @@\n+//  Copyright (c) Microsoft Corporation.\n+//  All rights reserved.\n+//\n+//  This code is licensed under the MIT License.\n+//\n+//  Permission is hereby granted, free of charge, to any person obtaining a copy\n+//  of this software and associated documentation files(the \"Software\"), to deal\n+//  in the Software without restriction, including without limitation the rights\n+//  to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n+//  copies of the Software, and to permit persons to whom the Software is\n+//  furnished to do so, subject to the following conditions :\n+//\n+//  The above copyright notice and this permission notice shall be included in\n+//  all copies or substantial portions of the Software.\n+//\n+//  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+//  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+//  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+//  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+//  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+//  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+//  THE SOFTWARE.\n+package com.microsoft.identity.common.internal.platform;\n+\n+import android.content.Context;\n+\n+import androidx.annotation.NonNull;\n+\n+import com.microsoft.identity.common.exception.ClientException;\n+\n+import java.io.IOException;\n+import java.security.KeyStoreException;\n+import java.security.NoSuchAlgorithmException;\n+import java.security.cert.CertificateException;\n+", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzM1MDI5Ng=="}, "originalCommit": {"oid": "c42d376fa2a2b10484a6973ca1ceacb021a1e0ef"}, "originalPosition": 35}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA3NDAzMzcyOnYy", "diffSide": "RIGHT", "path": "common/src/androidTest/java/com/microsoft/identity/common/internal/platform/AsymmetricKeyTests.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOVQwMjo1MjowNFrOHUgICA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQxODo1ODowNVrOHVeVLQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTI1OTkxMg==", "bodyText": "Add a negative test case", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031#discussion_r491259912", "createdAt": "2020-09-19T02:52:04Z", "author": {"login": "iambmelt"}, "path": "common/src/androidTest/java/com/microsoft/identity/common/internal/platform/AsymmetricKeyTests.java", "diffHunk": "@@ -0,0 +1,108 @@\n+//  Copyright (c) Microsoft Corporation.\n+//  All rights reserved.\n+//\n+//  This code is licensed under the MIT License.\n+//\n+//  Permission is hereby granted, free of charge, to any person obtaining a copy\n+//  of this software and associated documentation files(the \"Software\"), to deal\n+//  in the Software without restriction, including without limitation the rights\n+//  to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n+//  copies of the Software, and to permit persons to whom the Software is\n+//  furnished to do so, subject to the following conditions :\n+//\n+//  The above copyright notice and this permission notice shall be included in\n+//  all copies or substantial portions of the Software.\n+//\n+//  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+//  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+//  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+//  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+//  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+//  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+//  THE SOFTWARE.\n+package com.microsoft.identity.common.internal.platform;\n+\n+import android.content.Context;\n+\n+import androidx.test.InstrumentationRegistry;\n+import androidx.test.ext.junit.runners.AndroidJUnit4;\n+\n+import com.google.gson.JsonElement;\n+import com.google.gson.JsonObject;\n+import com.google.gson.JsonParser;\n+import com.microsoft.identity.common.exception.ClientException;\n+\n+import org.junit.After;\n+import org.junit.Assert;\n+import org.junit.Before;\n+import org.junit.Test;\n+import org.junit.runner.RunWith;\n+\n+@RunWith(AndroidJUnit4.class)\n+public class AsymmetricKeyTests {\n+\n+    private static final String testKeyName = \"testkey_alias\";\n+\n+    private AsymmetricKeyFactory mKeyFactory;\n+    private AsymmetricKey mAsymmetricKey;\n+\n+    @Before\n+    public void setUp() throws ClientException {\n+        final Context context = InstrumentationRegistry.getTargetContext();\n+        mKeyFactory = new AndroidKeystoreAsymmetricKeyFactory(context);\n+        mAsymmetricKey = mKeyFactory.generateAsymmetricKey(testKeyName);\n+    }\n+\n+    @After\n+    public void tearDown() throws ClientException {\n+        mKeyFactory.clearAsymmetricKey(testKeyName);\n+    }\n+\n+    @Test\n+    public void testHasCreatedOn() throws ClientException {\n+        Assert.assertNotNull(mAsymmetricKey.getCreatedOn());\n+    }\n+\n+    @Test\n+    public void testHasThumbprint() throws ClientException {\n+        Assert.assertNotNull(mAsymmetricKey.getThumbprint());\n+    }\n+\n+    @Test\n+    public void testHasPublicKey() throws ClientException {\n+        final String publicKey = mAsymmetricKey.getPublicKey();\n+\n+        Assert.assertNotNull(publicKey);\n+\n+        // Convert it to JSON, parse to verify fields\n+        final JsonElement jwkElement = new JsonParser().parse(publicKey);\n+\n+        // Convert to JsonObject to extract claims\n+        final JsonObject jwkObj = jwkElement.getAsJsonObject();\n+\n+        // We should expect the following claims...\n+        // 'kty' - Key Type - Identifies the cryptographic alg used with this key (ex: RSA, EC)\n+        // 'e' - Public Exponent - The exponent used on signed/encoded data to decode the orig value\n+        // 'n' - Modulus - The product of two prime numbers used to generate the key pair\n+        final JsonElement kty = jwkObj.get(\"kty\");\n+        Assert.assertNotNull(kty);\n+        Assert.assertFalse(kty.getAsString().isEmpty());\n+\n+        final JsonElement e = jwkObj.get(\"e\");\n+        Assert.assertNotNull(e);\n+        Assert.assertFalse(e.getAsString().isEmpty());\n+\n+        final JsonElement n = jwkObj.get(\"n\");\n+        Assert.assertNotNull(n);\n+        Assert.assertFalse(n.getAsString().isEmpty());\n+    }\n+\n+    @Test\n+    public void testCanSignAndVerify() throws ClientException {\n+        final String validationText = \"The quick brown fox jumped over the lazy dog.\";\n+        final String signature = mAsymmetricKey.sign(validationText);\n+        Assert.assertNotNull(signature);\n+        Assert.assertTrue(mAsymmetricKey.verify(validationText, signature));\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "27da4f194529287c5a6c8c315654153ab7f20018"}, "originalPosition": 106}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjI3OTA4NQ==", "bodyText": "56916f3", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031#discussion_r492279085", "createdAt": "2020-09-21T18:58:05Z", "author": {"login": "iambmelt"}, "path": "common/src/androidTest/java/com/microsoft/identity/common/internal/platform/AsymmetricKeyTests.java", "diffHunk": "@@ -0,0 +1,108 @@\n+//  Copyright (c) Microsoft Corporation.\n+//  All rights reserved.\n+//\n+//  This code is licensed under the MIT License.\n+//\n+//  Permission is hereby granted, free of charge, to any person obtaining a copy\n+//  of this software and associated documentation files(the \"Software\"), to deal\n+//  in the Software without restriction, including without limitation the rights\n+//  to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n+//  copies of the Software, and to permit persons to whom the Software is\n+//  furnished to do so, subject to the following conditions :\n+//\n+//  The above copyright notice and this permission notice shall be included in\n+//  all copies or substantial portions of the Software.\n+//\n+//  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+//  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+//  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+//  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+//  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+//  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+//  THE SOFTWARE.\n+package com.microsoft.identity.common.internal.platform;\n+\n+import android.content.Context;\n+\n+import androidx.test.InstrumentationRegistry;\n+import androidx.test.ext.junit.runners.AndroidJUnit4;\n+\n+import com.google.gson.JsonElement;\n+import com.google.gson.JsonObject;\n+import com.google.gson.JsonParser;\n+import com.microsoft.identity.common.exception.ClientException;\n+\n+import org.junit.After;\n+import org.junit.Assert;\n+import org.junit.Before;\n+import org.junit.Test;\n+import org.junit.runner.RunWith;\n+\n+@RunWith(AndroidJUnit4.class)\n+public class AsymmetricKeyTests {\n+\n+    private static final String testKeyName = \"testkey_alias\";\n+\n+    private AsymmetricKeyFactory mKeyFactory;\n+    private AsymmetricKey mAsymmetricKey;\n+\n+    @Before\n+    public void setUp() throws ClientException {\n+        final Context context = InstrumentationRegistry.getTargetContext();\n+        mKeyFactory = new AndroidKeystoreAsymmetricKeyFactory(context);\n+        mAsymmetricKey = mKeyFactory.generateAsymmetricKey(testKeyName);\n+    }\n+\n+    @After\n+    public void tearDown() throws ClientException {\n+        mKeyFactory.clearAsymmetricKey(testKeyName);\n+    }\n+\n+    @Test\n+    public void testHasCreatedOn() throws ClientException {\n+        Assert.assertNotNull(mAsymmetricKey.getCreatedOn());\n+    }\n+\n+    @Test\n+    public void testHasThumbprint() throws ClientException {\n+        Assert.assertNotNull(mAsymmetricKey.getThumbprint());\n+    }\n+\n+    @Test\n+    public void testHasPublicKey() throws ClientException {\n+        final String publicKey = mAsymmetricKey.getPublicKey();\n+\n+        Assert.assertNotNull(publicKey);\n+\n+        // Convert it to JSON, parse to verify fields\n+        final JsonElement jwkElement = new JsonParser().parse(publicKey);\n+\n+        // Convert to JsonObject to extract claims\n+        final JsonObject jwkObj = jwkElement.getAsJsonObject();\n+\n+        // We should expect the following claims...\n+        // 'kty' - Key Type - Identifies the cryptographic alg used with this key (ex: RSA, EC)\n+        // 'e' - Public Exponent - The exponent used on signed/encoded data to decode the orig value\n+        // 'n' - Modulus - The product of two prime numbers used to generate the key pair\n+        final JsonElement kty = jwkObj.get(\"kty\");\n+        Assert.assertNotNull(kty);\n+        Assert.assertFalse(kty.getAsString().isEmpty());\n+\n+        final JsonElement e = jwkObj.get(\"e\");\n+        Assert.assertNotNull(e);\n+        Assert.assertFalse(e.getAsString().isEmpty());\n+\n+        final JsonElement n = jwkObj.get(\"n\");\n+        Assert.assertNotNull(n);\n+        Assert.assertFalse(n.getAsString().isEmpty());\n+    }\n+\n+    @Test\n+    public void testCanSignAndVerify() throws ClientException {\n+        final String validationText = \"The quick brown fox jumped over the lazy dog.\";\n+        final String signature = mAsymmetricKey.sign(validationText);\n+        Assert.assertNotNull(signature);\n+        Assert.assertTrue(mAsymmetricKey.verify(validationText, signature));\n+    }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTI1OTkxMg=="}, "originalCommit": {"oid": "27da4f194529287c5a6c8c315654153ab7f20018"}, "originalPosition": 106}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA3NDAzMzk3OnYy", "diffSide": "RIGHT", "path": "common/src/main/java/com/microsoft/identity/common/internal/platform/AndroidKeystoreAsymmetricKey.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOVQwMjo1MjoyM1rOHUgIJw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQyMDo0MDo1NVrOHVho4A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTI1OTk0Mw==", "bodyText": "javadoc", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031#discussion_r491259943", "createdAt": "2020-09-19T02:52:23Z", "author": {"login": "iambmelt"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/platform/AndroidKeystoreAsymmetricKey.java", "diffHunk": "@@ -0,0 +1,100 @@\n+//  Copyright (c) Microsoft Corporation.\n+//  All rights reserved.\n+//\n+//  This code is licensed under the MIT License.\n+//\n+//  Permission is hereby granted, free of charge, to any person obtaining a copy\n+//  of this software and associated documentation files(the \"Software\"), to deal\n+//  in the Software without restriction, including without limitation the rights\n+//  to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n+//  copies of the Software, and to permit persons to whom the Software is\n+//  furnished to do so, subject to the following conditions :\n+//\n+//  The above copyright notice and this permission notice shall be included in\n+//  all copies or substantial portions of the Software.\n+//\n+//  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+//  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+//  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+//  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+//  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+//  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+//  THE SOFTWARE.\n+package com.microsoft.identity.common.internal.platform;\n+\n+import android.content.Context;\n+import android.os.Build;\n+\n+import androidx.annotation.NonNull;\n+import androidx.annotation.RequiresApi;\n+\n+import com.microsoft.identity.common.exception.ClientException;\n+\n+import java.util.Date;\n+\n+/**\n+ * Represents an asymmetric key, backed by the Android Keystore.\n+ */\n+public class AndroidKeystoreAsymmetricKey implements AsymmetricKey {\n+\n+    private final IDevicePopManager mDevicePopManager;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "27da4f194529287c5a6c8c315654153ab7f20018"}, "originalPosition": 40}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjMzMzI4MA==", "bodyText": "dd35b24", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031#discussion_r492333280", "createdAt": "2020-09-21T20:40:55Z", "author": {"login": "iambmelt"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/platform/AndroidKeystoreAsymmetricKey.java", "diffHunk": "@@ -0,0 +1,100 @@\n+//  Copyright (c) Microsoft Corporation.\n+//  All rights reserved.\n+//\n+//  This code is licensed under the MIT License.\n+//\n+//  Permission is hereby granted, free of charge, to any person obtaining a copy\n+//  of this software and associated documentation files(the \"Software\"), to deal\n+//  in the Software without restriction, including without limitation the rights\n+//  to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n+//  copies of the Software, and to permit persons to whom the Software is\n+//  furnished to do so, subject to the following conditions :\n+//\n+//  The above copyright notice and this permission notice shall be included in\n+//  all copies or substantial portions of the Software.\n+//\n+//  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+//  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+//  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+//  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+//  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+//  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+//  THE SOFTWARE.\n+package com.microsoft.identity.common.internal.platform;\n+\n+import android.content.Context;\n+import android.os.Build;\n+\n+import androidx.annotation.NonNull;\n+import androidx.annotation.RequiresApi;\n+\n+import com.microsoft.identity.common.exception.ClientException;\n+\n+import java.util.Date;\n+\n+/**\n+ * Represents an asymmetric key, backed by the Android Keystore.\n+ */\n+public class AndroidKeystoreAsymmetricKey implements AsymmetricKey {\n+\n+    private final IDevicePopManager mDevicePopManager;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTI1OTk0Mw=="}, "originalCommit": {"oid": "27da4f194529287c5a6c8c315654153ab7f20018"}, "originalPosition": 40}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA3NDAzNDgwOnYy", "diffSide": "RIGHT", "path": "common/src/main/java/com/microsoft/identity/common/internal/platform/AsymmetricKey.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOVQwMjo1MzoyMFrOHUgIhA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQyMDo0Mjo1NVrOHVhs8g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTI2MDAzNg==", "bodyText": "Explain (in javadoc) that this object is a representation of a singleton", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031#discussion_r491260036", "createdAt": "2020-09-19T02:53:20Z", "author": {"login": "iambmelt"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/platform/AsymmetricKey.java", "diffHunk": "@@ -0,0 +1,86 @@\n+//  Copyright (c) Microsoft Corporation.\n+//  All rights reserved.\n+//\n+//  This code is licensed under the MIT License.\n+//\n+//  Permission is hereby granted, free of charge, to any person obtaining a copy\n+//  of this software and associated documentation files(the \"Software\"), to deal\n+//  in the Software without restriction, including without limitation the rights\n+//  to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n+//  copies of the Software, and to permit persons to whom the Software is\n+//  furnished to do so, subject to the following conditions :\n+//\n+//  The above copyright notice and this permission notice shall be included in\n+//  all copies or substantial portions of the Software.\n+//\n+//  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+//  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+//  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+//  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+//  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+//  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+//  THE SOFTWARE.\n+package com.microsoft.identity.common.internal.platform;\n+\n+import com.microsoft.identity.common.exception.ClientException;\n+\n+import java.util.Date;\n+\n+/**\n+ * Represents an RSA asymmetric key.\n+ */\n+public interface AsymmetricKey {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "27da4f194529287c5a6c8c315654153ab7f20018"}, "originalPosition": 32}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTI2MDA3Ng==", "bodyText": "that may or may not be hardware backed", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031#discussion_r491260076", "createdAt": "2020-09-19T02:53:40Z", "author": {"login": "iambmelt"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/platform/AsymmetricKey.java", "diffHunk": "@@ -0,0 +1,86 @@\n+//  Copyright (c) Microsoft Corporation.\n+//  All rights reserved.\n+//\n+//  This code is licensed under the MIT License.\n+//\n+//  Permission is hereby granted, free of charge, to any person obtaining a copy\n+//  of this software and associated documentation files(the \"Software\"), to deal\n+//  in the Software without restriction, including without limitation the rights\n+//  to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n+//  copies of the Software, and to permit persons to whom the Software is\n+//  furnished to do so, subject to the following conditions :\n+//\n+//  The above copyright notice and this permission notice shall be included in\n+//  all copies or substantial portions of the Software.\n+//\n+//  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+//  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+//  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+//  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+//  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+//  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+//  THE SOFTWARE.\n+package com.microsoft.identity.common.internal.platform;\n+\n+import com.microsoft.identity.common.exception.ClientException;\n+\n+import java.util.Date;\n+\n+/**\n+ * Represents an RSA asymmetric key.\n+ */\n+public interface AsymmetricKey {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTI2MDAzNg=="}, "originalCommit": {"oid": "27da4f194529287c5a6c8c315654153ab7f20018"}, "originalPosition": 32}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjMzNDMyMg==", "bodyText": "221859a", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031#discussion_r492334322", "createdAt": "2020-09-21T20:42:55Z", "author": {"login": "iambmelt"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/platform/AsymmetricKey.java", "diffHunk": "@@ -0,0 +1,86 @@\n+//  Copyright (c) Microsoft Corporation.\n+//  All rights reserved.\n+//\n+//  This code is licensed under the MIT License.\n+//\n+//  Permission is hereby granted, free of charge, to any person obtaining a copy\n+//  of this software and associated documentation files(the \"Software\"), to deal\n+//  in the Software without restriction, including without limitation the rights\n+//  to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n+//  copies of the Software, and to permit persons to whom the Software is\n+//  furnished to do so, subject to the following conditions :\n+//\n+//  The above copyright notice and this permission notice shall be included in\n+//  all copies or substantial portions of the Software.\n+//\n+//  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+//  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+//  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+//  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+//  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+//  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+//  THE SOFTWARE.\n+package com.microsoft.identity.common.internal.platform;\n+\n+import com.microsoft.identity.common.exception.ClientException;\n+\n+import java.util.Date;\n+\n+/**\n+ * Represents an RSA asymmetric key.\n+ */\n+public interface AsymmetricKey {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTI2MDAzNg=="}, "originalCommit": {"oid": "27da4f194529287c5a6c8c315654153ab7f20018"}, "originalPosition": 32}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA3NDAzODgzOnYy", "diffSide": "RIGHT", "path": "common/src/main/java/com/microsoft/identity/common/internal/platform/AsymmetricKey.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOVQwMjo1ODo0MVrOHUgKig==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQyMDo0NToyNlrOHVhyMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTI2MDU1NA==", "bodyText": "Javadoc SHA256", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031#discussion_r491260554", "createdAt": "2020-09-19T02:58:41Z", "author": {"login": "iambmelt"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/platform/AsymmetricKey.java", "diffHunk": "@@ -0,0 +1,86 @@\n+//  Copyright (c) Microsoft Corporation.\n+//  All rights reserved.\n+//\n+//  This code is licensed under the MIT License.\n+//\n+//  Permission is hereby granted, free of charge, to any person obtaining a copy\n+//  of this software and associated documentation files(the \"Software\"), to deal\n+//  in the Software without restriction, including without limitation the rights\n+//  to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n+//  copies of the Software, and to permit persons to whom the Software is\n+//  furnished to do so, subject to the following conditions :\n+//\n+//  The above copyright notice and this permission notice shall be included in\n+//  all copies or substantial portions of the Software.\n+//\n+//  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+//  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+//  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+//  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+//  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+//  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+//  THE SOFTWARE.\n+package com.microsoft.identity.common.internal.platform;\n+\n+import com.microsoft.identity.common.exception.ClientException;\n+\n+import java.util.Date;\n+\n+/**\n+ * Represents an RSA asymmetric key.\n+ */\n+public interface AsymmetricKey {\n+\n+    /**\n+     * Gets the alias which refers to this key at its originating keystore.\n+     *\n+     * @return The alias of this key.\n+     */\n+    String getAlias();\n+\n+    /**\n+     * Returns the creation date of the asymmetric key entry backing this instance.\n+     *\n+     * @return The asymmetric key creation date.\n+     * @throws ClientException If no asymmetric key exists.\n+     */\n+    Date getCreatedOn() throws ClientException;\n+\n+    /**\n+     * Gets the thumbprint of the current KeyPair.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "27da4f194529287c5a6c8c315654153ab7f20018"}, "originalPosition": 50}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTI2MDU5OQ==", "bodyText": "(This is interface-level understanding with OneAuth)", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031#discussion_r491260599", "createdAt": "2020-09-19T02:59:05Z", "author": {"login": "iambmelt"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/platform/AsymmetricKey.java", "diffHunk": "@@ -0,0 +1,86 @@\n+//  Copyright (c) Microsoft Corporation.\n+//  All rights reserved.\n+//\n+//  This code is licensed under the MIT License.\n+//\n+//  Permission is hereby granted, free of charge, to any person obtaining a copy\n+//  of this software and associated documentation files(the \"Software\"), to deal\n+//  in the Software without restriction, including without limitation the rights\n+//  to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n+//  copies of the Software, and to permit persons to whom the Software is\n+//  furnished to do so, subject to the following conditions :\n+//\n+//  The above copyright notice and this permission notice shall be included in\n+//  all copies or substantial portions of the Software.\n+//\n+//  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+//  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+//  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+//  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+//  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+//  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+//  THE SOFTWARE.\n+package com.microsoft.identity.common.internal.platform;\n+\n+import com.microsoft.identity.common.exception.ClientException;\n+\n+import java.util.Date;\n+\n+/**\n+ * Represents an RSA asymmetric key.\n+ */\n+public interface AsymmetricKey {\n+\n+    /**\n+     * Gets the alias which refers to this key at its originating keystore.\n+     *\n+     * @return The alias of this key.\n+     */\n+    String getAlias();\n+\n+    /**\n+     * Returns the creation date of the asymmetric key entry backing this instance.\n+     *\n+     * @return The asymmetric key creation date.\n+     * @throws ClientException If no asymmetric key exists.\n+     */\n+    Date getCreatedOn() throws ClientException;\n+\n+    /**\n+     * Gets the thumbprint of the current KeyPair.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTI2MDU1NA=="}, "originalCommit": {"oid": "27da4f194529287c5a6c8c315654153ab7f20018"}, "originalPosition": 50}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjMzNTY2Ng==", "bodyText": "472b99c", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031#discussion_r492335666", "createdAt": "2020-09-21T20:45:26Z", "author": {"login": "iambmelt"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/platform/AsymmetricKey.java", "diffHunk": "@@ -0,0 +1,86 @@\n+//  Copyright (c) Microsoft Corporation.\n+//  All rights reserved.\n+//\n+//  This code is licensed under the MIT License.\n+//\n+//  Permission is hereby granted, free of charge, to any person obtaining a copy\n+//  of this software and associated documentation files(the \"Software\"), to deal\n+//  in the Software without restriction, including without limitation the rights\n+//  to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n+//  copies of the Software, and to permit persons to whom the Software is\n+//  furnished to do so, subject to the following conditions :\n+//\n+//  The above copyright notice and this permission notice shall be included in\n+//  all copies or substantial portions of the Software.\n+//\n+//  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+//  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+//  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+//  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+//  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+//  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+//  THE SOFTWARE.\n+package com.microsoft.identity.common.internal.platform;\n+\n+import com.microsoft.identity.common.exception.ClientException;\n+\n+import java.util.Date;\n+\n+/**\n+ * Represents an RSA asymmetric key.\n+ */\n+public interface AsymmetricKey {\n+\n+    /**\n+     * Gets the alias which refers to this key at its originating keystore.\n+     *\n+     * @return The alias of this key.\n+     */\n+    String getAlias();\n+\n+    /**\n+     * Returns the creation date of the asymmetric key entry backing this instance.\n+     *\n+     * @return The asymmetric key creation date.\n+     * @throws ClientException If no asymmetric key exists.\n+     */\n+    Date getCreatedOn() throws ClientException;\n+\n+    /**\n+     * Gets the thumbprint of the current KeyPair.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTI2MDU1NA=="}, "originalCommit": {"oid": "27da4f194529287c5a6c8c315654153ab7f20018"}, "originalPosition": 50}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA3NDAzOTYyOnYy", "diffSide": "RIGHT", "path": "common/src/main/java/com/microsoft/identity/common/internal/platform/AsymmetricKey.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOVQwMjo1OTozOFrOHUgK6Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQyMDo0NTozM1rOHVhyaA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTI2MDY0OQ==", "bodyText": "Javadoc RSA256 sig", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031#discussion_r491260649", "createdAt": "2020-09-19T02:59:38Z", "author": {"login": "iambmelt"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/platform/AsymmetricKey.java", "diffHunk": "@@ -0,0 +1,86 @@\n+//  Copyright (c) Microsoft Corporation.\n+//  All rights reserved.\n+//\n+//  This code is licensed under the MIT License.\n+//\n+//  Permission is hereby granted, free of charge, to any person obtaining a copy\n+//  of this software and associated documentation files(the \"Software\"), to deal\n+//  in the Software without restriction, including without limitation the rights\n+//  to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n+//  copies of the Software, and to permit persons to whom the Software is\n+//  furnished to do so, subject to the following conditions :\n+//\n+//  The above copyright notice and this permission notice shall be included in\n+//  all copies or substantial portions of the Software.\n+//\n+//  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+//  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+//  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+//  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+//  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+//  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+//  THE SOFTWARE.\n+package com.microsoft.identity.common.internal.platform;\n+\n+import com.microsoft.identity.common.exception.ClientException;\n+\n+import java.util.Date;\n+\n+/**\n+ * Represents an RSA asymmetric key.\n+ */\n+public interface AsymmetricKey {\n+\n+    /**\n+     * Gets the alias which refers to this key at its originating keystore.\n+     *\n+     * @return The alias of this key.\n+     */\n+    String getAlias();\n+\n+    /**\n+     * Returns the creation date of the asymmetric key entry backing this instance.\n+     *\n+     * @return The asymmetric key creation date.\n+     * @throws ClientException If no asymmetric key exists.\n+     */\n+    Date getCreatedOn() throws ClientException;\n+\n+    /**\n+     * Gets the thumbprint of the current KeyPair.\n+     *\n+     * @return The thumbprint.\n+     */\n+    String getThumbprint() throws ClientException;\n+\n+    /**\n+     * Gets an RFC-7517 compliant public key as a minified JWK.\n+     * <p>\n+     * Sample value:\n+     * <pre>\n+     * {\n+     * \t\"kty\": \"RSA\",\n+     * \t\"e\": \"AQAB\",\n+     * \t\"n\": \"tMqJ7Oxh3PdLaiEc28w....HwES9Q\"\n+     * }\n+     * </pre>\n+     */\n+    String getPublicKey() throws ClientException;\n+\n+    /**\n+     * Signs an arbitrary piece of String data.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "27da4f194529287c5a6c8c315654153ab7f20018"}, "originalPosition": 71}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjMzNTcyMA==", "bodyText": "472b99c", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031#discussion_r492335720", "createdAt": "2020-09-21T20:45:33Z", "author": {"login": "iambmelt"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/platform/AsymmetricKey.java", "diffHunk": "@@ -0,0 +1,86 @@\n+//  Copyright (c) Microsoft Corporation.\n+//  All rights reserved.\n+//\n+//  This code is licensed under the MIT License.\n+//\n+//  Permission is hereby granted, free of charge, to any person obtaining a copy\n+//  of this software and associated documentation files(the \"Software\"), to deal\n+//  in the Software without restriction, including without limitation the rights\n+//  to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n+//  copies of the Software, and to permit persons to whom the Software is\n+//  furnished to do so, subject to the following conditions :\n+//\n+//  The above copyright notice and this permission notice shall be included in\n+//  all copies or substantial portions of the Software.\n+//\n+//  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+//  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+//  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+//  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+//  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+//  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+//  THE SOFTWARE.\n+package com.microsoft.identity.common.internal.platform;\n+\n+import com.microsoft.identity.common.exception.ClientException;\n+\n+import java.util.Date;\n+\n+/**\n+ * Represents an RSA asymmetric key.\n+ */\n+public interface AsymmetricKey {\n+\n+    /**\n+     * Gets the alias which refers to this key at its originating keystore.\n+     *\n+     * @return The alias of this key.\n+     */\n+    String getAlias();\n+\n+    /**\n+     * Returns the creation date of the asymmetric key entry backing this instance.\n+     *\n+     * @return The asymmetric key creation date.\n+     * @throws ClientException If no asymmetric key exists.\n+     */\n+    Date getCreatedOn() throws ClientException;\n+\n+    /**\n+     * Gets the thumbprint of the current KeyPair.\n+     *\n+     * @return The thumbprint.\n+     */\n+    String getThumbprint() throws ClientException;\n+\n+    /**\n+     * Gets an RFC-7517 compliant public key as a minified JWK.\n+     * <p>\n+     * Sample value:\n+     * <pre>\n+     * {\n+     * \t\"kty\": \"RSA\",\n+     * \t\"e\": \"AQAB\",\n+     * \t\"n\": \"tMqJ7Oxh3PdLaiEc28w....HwES9Q\"\n+     * }\n+     * </pre>\n+     */\n+    String getPublicKey() throws ClientException;\n+\n+    /**\n+     * Signs an arbitrary piece of String data.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTI2MDY0OQ=="}, "originalCommit": {"oid": "27da4f194529287c5a6c8c315654153ab7f20018"}, "originalPosition": 71}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA3NDAzOTgzOnYy", "diffSide": "RIGHT", "path": "common/src/main/java/com/microsoft/identity/common/internal/platform/AsymmetricKey.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOVQwMjo1OTo1MlrOHUgLAA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQyMDo0NTozOFrOHVhylw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTI2MDY3Mg==", "bodyText": "Javadoc RSA256", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031#discussion_r491260672", "createdAt": "2020-09-19T02:59:52Z", "author": {"login": "iambmelt"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/platform/AsymmetricKey.java", "diffHunk": "@@ -0,0 +1,86 @@\n+//  Copyright (c) Microsoft Corporation.\n+//  All rights reserved.\n+//\n+//  This code is licensed under the MIT License.\n+//\n+//  Permission is hereby granted, free of charge, to any person obtaining a copy\n+//  of this software and associated documentation files(the \"Software\"), to deal\n+//  in the Software without restriction, including without limitation the rights\n+//  to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n+//  copies of the Software, and to permit persons to whom the Software is\n+//  furnished to do so, subject to the following conditions :\n+//\n+//  The above copyright notice and this permission notice shall be included in\n+//  all copies or substantial portions of the Software.\n+//\n+//  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+//  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+//  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+//  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+//  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+//  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+//  THE SOFTWARE.\n+package com.microsoft.identity.common.internal.platform;\n+\n+import com.microsoft.identity.common.exception.ClientException;\n+\n+import java.util.Date;\n+\n+/**\n+ * Represents an RSA asymmetric key.\n+ */\n+public interface AsymmetricKey {\n+\n+    /**\n+     * Gets the alias which refers to this key at its originating keystore.\n+     *\n+     * @return The alias of this key.\n+     */\n+    String getAlias();\n+\n+    /**\n+     * Returns the creation date of the asymmetric key entry backing this instance.\n+     *\n+     * @return The asymmetric key creation date.\n+     * @throws ClientException If no asymmetric key exists.\n+     */\n+    Date getCreatedOn() throws ClientException;\n+\n+    /**\n+     * Gets the thumbprint of the current KeyPair.\n+     *\n+     * @return The thumbprint.\n+     */\n+    String getThumbprint() throws ClientException;\n+\n+    /**\n+     * Gets an RFC-7517 compliant public key as a minified JWK.\n+     * <p>\n+     * Sample value:\n+     * <pre>\n+     * {\n+     * \t\"kty\": \"RSA\",\n+     * \t\"e\": \"AQAB\",\n+     * \t\"n\": \"tMqJ7Oxh3PdLaiEc28w....HwES9Q\"\n+     * }\n+     * </pre>\n+     */\n+    String getPublicKey() throws ClientException;\n+\n+    /**\n+     * Signs an arbitrary piece of String data.\n+     *\n+     * @return The input data, signed by our private key.\n+     */\n+    String sign(String data) throws ClientException;\n+\n+    /**\n+     * Verifies a signature previously made by this private key.\n+     *\n+     * @param plainText    The input to verify.\n+     * @param signatureStr The signature against which the plainText should be evaluated.\n+     * @return True if the input was signed by our private key. False otherwise.\n+     */\n+    boolean verify(String plainText, String signatureStr);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "27da4f194529287c5a6c8c315654153ab7f20018"}, "originalPosition": 84}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjMzNTc2Nw==", "bodyText": "472b99c", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031#discussion_r492335767", "createdAt": "2020-09-21T20:45:38Z", "author": {"login": "iambmelt"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/platform/AsymmetricKey.java", "diffHunk": "@@ -0,0 +1,86 @@\n+//  Copyright (c) Microsoft Corporation.\n+//  All rights reserved.\n+//\n+//  This code is licensed under the MIT License.\n+//\n+//  Permission is hereby granted, free of charge, to any person obtaining a copy\n+//  of this software and associated documentation files(the \"Software\"), to deal\n+//  in the Software without restriction, including without limitation the rights\n+//  to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n+//  copies of the Software, and to permit persons to whom the Software is\n+//  furnished to do so, subject to the following conditions :\n+//\n+//  The above copyright notice and this permission notice shall be included in\n+//  all copies or substantial portions of the Software.\n+//\n+//  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+//  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+//  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+//  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+//  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+//  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+//  THE SOFTWARE.\n+package com.microsoft.identity.common.internal.platform;\n+\n+import com.microsoft.identity.common.exception.ClientException;\n+\n+import java.util.Date;\n+\n+/**\n+ * Represents an RSA asymmetric key.\n+ */\n+public interface AsymmetricKey {\n+\n+    /**\n+     * Gets the alias which refers to this key at its originating keystore.\n+     *\n+     * @return The alias of this key.\n+     */\n+    String getAlias();\n+\n+    /**\n+     * Returns the creation date of the asymmetric key entry backing this instance.\n+     *\n+     * @return The asymmetric key creation date.\n+     * @throws ClientException If no asymmetric key exists.\n+     */\n+    Date getCreatedOn() throws ClientException;\n+\n+    /**\n+     * Gets the thumbprint of the current KeyPair.\n+     *\n+     * @return The thumbprint.\n+     */\n+    String getThumbprint() throws ClientException;\n+\n+    /**\n+     * Gets an RFC-7517 compliant public key as a minified JWK.\n+     * <p>\n+     * Sample value:\n+     * <pre>\n+     * {\n+     * \t\"kty\": \"RSA\",\n+     * \t\"e\": \"AQAB\",\n+     * \t\"n\": \"tMqJ7Oxh3PdLaiEc28w....HwES9Q\"\n+     * }\n+     * </pre>\n+     */\n+    String getPublicKey() throws ClientException;\n+\n+    /**\n+     * Signs an arbitrary piece of String data.\n+     *\n+     * @return The input data, signed by our private key.\n+     */\n+    String sign(String data) throws ClientException;\n+\n+    /**\n+     * Verifies a signature previously made by this private key.\n+     *\n+     * @param plainText    The input to verify.\n+     * @param signatureStr The signature against which the plainText should be evaluated.\n+     * @return True if the input was signed by our private key. False otherwise.\n+     */\n+    boolean verify(String plainText, String signatureStr);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTI2MDY3Mg=="}, "originalCommit": {"oid": "27da4f194529287c5a6c8c315654153ab7f20018"}, "originalPosition": 84}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA3NDA0MTkyOnYy", "diffSide": "RIGHT", "path": "common/src/main/java/com/microsoft/identity/common/internal/platform/AsymmetricKeyFactory.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOVQwMzowMjozMVrOHUgL7w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQyMDo1Mjo0OVrOHViAlg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTI2MDkxMQ==", "bodyText": "Javadoc basic expectations:\n\n2048 bit keys (secure & widely compatible on Android devices)\nMaybe hardware backed (depending on OS ver, TPM/HSM chipset)\nAPI 18+ assumed, API 23+ is best security", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031#discussion_r491260911", "createdAt": "2020-09-19T03:02:31Z", "author": {"login": "iambmelt"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/platform/AsymmetricKeyFactory.java", "diffHunk": "@@ -0,0 +1,59 @@\n+//  Copyright (c) Microsoft Corporation.\n+//  All rights reserved.\n+//\n+//  This code is licensed under the MIT License.\n+//\n+//  Permission is hereby granted, free of charge, to any person obtaining a copy\n+//  of this software and associated documentation files(the \"Software\"), to deal\n+//  in the Software without restriction, including without limitation the rights\n+//  to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n+//  copies of the Software, and to permit persons to whom the Software is\n+//  furnished to do so, subject to the following conditions :\n+//\n+//  The above copyright notice and this permission notice shall be included in\n+//  all copies or substantial portions of the Software.\n+//\n+//  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+//  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+//  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+//  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+//  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+//  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+//  THE SOFTWARE.\n+package com.microsoft.identity.common.internal.platform;\n+\n+import com.microsoft.identity.common.exception.ClientException;\n+\n+/**\n+ * Interface defining a factory for asymmetric keys.\n+ */\n+public interface AsymmetricKeyFactory {\n+\n+    /**\n+     * Generates a new {@link AsymmetricKey}, retrievable by the provided alias.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "27da4f194529287c5a6c8c315654153ab7f20018"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjMzOTM1MA==", "bodyText": "0556f65", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031#discussion_r492339350", "createdAt": "2020-09-21T20:52:49Z", "author": {"login": "iambmelt"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/platform/AsymmetricKeyFactory.java", "diffHunk": "@@ -0,0 +1,59 @@\n+//  Copyright (c) Microsoft Corporation.\n+//  All rights reserved.\n+//\n+//  This code is licensed under the MIT License.\n+//\n+//  Permission is hereby granted, free of charge, to any person obtaining a copy\n+//  of this software and associated documentation files(the \"Software\"), to deal\n+//  in the Software without restriction, including without limitation the rights\n+//  to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n+//  copies of the Software, and to permit persons to whom the Software is\n+//  furnished to do so, subject to the following conditions :\n+//\n+//  The above copyright notice and this permission notice shall be included in\n+//  all copies or substantial portions of the Software.\n+//\n+//  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+//  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+//  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+//  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+//  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+//  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+//  THE SOFTWARE.\n+package com.microsoft.identity.common.internal.platform;\n+\n+import com.microsoft.identity.common.exception.ClientException;\n+\n+/**\n+ * Interface defining a factory for asymmetric keys.\n+ */\n+public interface AsymmetricKeyFactory {\n+\n+    /**\n+     * Generates a new {@link AsymmetricKey}, retrievable by the provided alias.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTI2MDkxMQ=="}, "originalCommit": {"oid": "27da4f194529287c5a6c8c315654153ab7f20018"}, "originalPosition": 33}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA4MTIzMjg1OnYy", "diffSide": "RIGHT", "path": "common/src/androidTest/java/com/microsoft/identity/common/internal/platform/AsymmetricKeyFactoryTests.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQyMTo0MjozOFrOHVjcAQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQyMjoxNjozNlrOHVkUMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjM2Mjc1Mw==", "bodyText": "Maybe add a test that two calls to generate with the same alias result in the same key?", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031#discussion_r492362753", "createdAt": "2020-09-21T21:42:38Z", "author": {"login": "AdamBJohnsonx"}, "path": "common/src/androidTest/java/com/microsoft/identity/common/internal/platform/AsymmetricKeyFactoryTests.java", "diffHunk": "@@ -0,0 +1,129 @@\n+//  Copyright (c) Microsoft Corporation.\n+//  All rights reserved.\n+//\n+//  This code is licensed under the MIT License.\n+//\n+//  Permission is hereby granted, free of charge, to any person obtaining a copy\n+//  of this software and associated documentation files(the \"Software\"), to deal\n+//  in the Software without restriction, including without limitation the rights\n+//  to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n+//  copies of the Software, and to permit persons to whom the Software is\n+//  furnished to do so, subject to the following conditions :\n+//\n+//  The above copyright notice and this permission notice shall be included in\n+//  all copies or substantial portions of the Software.\n+//\n+//  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+//  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+//  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+//  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+//  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+//  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+//  THE SOFTWARE.\n+package com.microsoft.identity.common.internal.platform;\n+\n+import android.content.Context;\n+\n+import androidx.test.InstrumentationRegistry;\n+import androidx.test.ext.junit.runners.AndroidJUnit4;\n+\n+import com.microsoft.identity.common.exception.ClientException;\n+\n+import org.junit.Assert;\n+import org.junit.Before;\n+import org.junit.Test;\n+import org.junit.runner.RunWith;\n+\n+@RunWith(AndroidJUnit4.class)\n+public class AsymmetricKeyFactoryTests {\n+\n+    private static final String SAMPLE_KEY_1 = \"sample_key_1\";\n+    private static final String SAMPLE_KEY_2 = \"sample_key_2\";\n+\n+    private AsymmetricKeyFactory mKeyFactory;\n+\n+    @Before\n+    public void setUp() {\n+        final Context context = InstrumentationRegistry.getTargetContext();\n+        mKeyFactory = new AndroidKeystoreAsymmetricKeyFactory(context);\n+    }\n+\n+    @Test\n+    public void testCanGenerateAsymmetricKey() throws ClientException {\n+        final AsymmetricKey asymmetricKey = mKeyFactory.generateAsymmetricKey(SAMPLE_KEY_1);\n+        Assert.assertNotNull(asymmetricKey);\n+        Assert.assertNotNull(asymmetricKey.getThumbprint());\n+    }\n+\n+    @Test\n+    public void testCanGenerateMultipleKeys() throws ClientException {\n+        final AsymmetricKey asymmetricKey1 = mKeyFactory.generateAsymmetricKey(SAMPLE_KEY_1);\n+        final AsymmetricKey asymmetricKey2 = mKeyFactory.generateAsymmetricKey(SAMPLE_KEY_2);\n+\n+        Assert.assertNotNull(asymmetricKey1);\n+        Assert.assertNotNull(asymmetricKey1.getThumbprint());\n+\n+        Assert.assertNotNull(asymmetricKey1);\n+        Assert.assertNotNull(asymmetricKey1.getThumbprint());\n+\n+        // Assert they're not the same\n+        Assert.assertNotEquals(\n+                asymmetricKey1.getThumbprint(),\n+                asymmetricKey2.getThumbprint()\n+        );\n+    }\n+\n+    @Test\n+    public void testClearingOneKeyPreservesAnother() throws ClientException {\n+        final AsymmetricKey asymmetricKey1 = mKeyFactory.generateAsymmetricKey(SAMPLE_KEY_1);\n+        final AsymmetricKey asymmetricKey2 = mKeyFactory.generateAsymmetricKey(SAMPLE_KEY_2);\n+\n+        final String key1Thumbprint = asymmetricKey1.getThumbprint();\n+\n+        // Clear our second key\n+        mKeyFactory.clearAsymmetricKey(SAMPLE_KEY_2);\n+\n+        // Reload our first key\n+        final AsymmetricKey reloadedFirstKey = mKeyFactory.loadAsymmetricKey(SAMPLE_KEY_1);\n+\n+        // Reload the first key - assert that signature hasn't changed\n+        Assert.assertEquals(\n+                key1Thumbprint,\n+                reloadedFirstKey.getThumbprint()\n+        );\n+\n+        // Assert the alias is the same\n+        Assert.assertEquals(\n+                asymmetricKey1.getAlias(),\n+                reloadedFirstKey.getAlias()\n+        );\n+    }\n+\n+    @Test\n+    public void testCanGenerateKeyWhenLoadCalledBeforeGeneration() throws ClientException {\n+        final AsymmetricKey key1 = mKeyFactory.loadAsymmetricKey(SAMPLE_KEY_1);\n+        Assert.assertEquals(SAMPLE_KEY_1, key1.getAlias());\n+    }\n+\n+    @Test\n+    public void testCanClearAsymmetricKey() throws ClientException {\n+        // Generate a key\n+        final AsymmetricKey asymmetricKey1 = mKeyFactory.generateAsymmetricKey(SAMPLE_KEY_1);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c66f1aa2aae374ec6128c31ca91a059c9ae88025"}, "originalPosition": 111}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjM2Mzc1MA==", "bodyText": "ACK", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031#discussion_r492363750", "createdAt": "2020-09-21T21:45:00Z", "author": {"login": "iambmelt"}, "path": "common/src/androidTest/java/com/microsoft/identity/common/internal/platform/AsymmetricKeyFactoryTests.java", "diffHunk": "@@ -0,0 +1,129 @@\n+//  Copyright (c) Microsoft Corporation.\n+//  All rights reserved.\n+//\n+//  This code is licensed under the MIT License.\n+//\n+//  Permission is hereby granted, free of charge, to any person obtaining a copy\n+//  of this software and associated documentation files(the \"Software\"), to deal\n+//  in the Software without restriction, including without limitation the rights\n+//  to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n+//  copies of the Software, and to permit persons to whom the Software is\n+//  furnished to do so, subject to the following conditions :\n+//\n+//  The above copyright notice and this permission notice shall be included in\n+//  all copies or substantial portions of the Software.\n+//\n+//  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+//  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+//  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+//  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+//  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+//  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+//  THE SOFTWARE.\n+package com.microsoft.identity.common.internal.platform;\n+\n+import android.content.Context;\n+\n+import androidx.test.InstrumentationRegistry;\n+import androidx.test.ext.junit.runners.AndroidJUnit4;\n+\n+import com.microsoft.identity.common.exception.ClientException;\n+\n+import org.junit.Assert;\n+import org.junit.Before;\n+import org.junit.Test;\n+import org.junit.runner.RunWith;\n+\n+@RunWith(AndroidJUnit4.class)\n+public class AsymmetricKeyFactoryTests {\n+\n+    private static final String SAMPLE_KEY_1 = \"sample_key_1\";\n+    private static final String SAMPLE_KEY_2 = \"sample_key_2\";\n+\n+    private AsymmetricKeyFactory mKeyFactory;\n+\n+    @Before\n+    public void setUp() {\n+        final Context context = InstrumentationRegistry.getTargetContext();\n+        mKeyFactory = new AndroidKeystoreAsymmetricKeyFactory(context);\n+    }\n+\n+    @Test\n+    public void testCanGenerateAsymmetricKey() throws ClientException {\n+        final AsymmetricKey asymmetricKey = mKeyFactory.generateAsymmetricKey(SAMPLE_KEY_1);\n+        Assert.assertNotNull(asymmetricKey);\n+        Assert.assertNotNull(asymmetricKey.getThumbprint());\n+    }\n+\n+    @Test\n+    public void testCanGenerateMultipleKeys() throws ClientException {\n+        final AsymmetricKey asymmetricKey1 = mKeyFactory.generateAsymmetricKey(SAMPLE_KEY_1);\n+        final AsymmetricKey asymmetricKey2 = mKeyFactory.generateAsymmetricKey(SAMPLE_KEY_2);\n+\n+        Assert.assertNotNull(asymmetricKey1);\n+        Assert.assertNotNull(asymmetricKey1.getThumbprint());\n+\n+        Assert.assertNotNull(asymmetricKey1);\n+        Assert.assertNotNull(asymmetricKey1.getThumbprint());\n+\n+        // Assert they're not the same\n+        Assert.assertNotEquals(\n+                asymmetricKey1.getThumbprint(),\n+                asymmetricKey2.getThumbprint()\n+        );\n+    }\n+\n+    @Test\n+    public void testClearingOneKeyPreservesAnother() throws ClientException {\n+        final AsymmetricKey asymmetricKey1 = mKeyFactory.generateAsymmetricKey(SAMPLE_KEY_1);\n+        final AsymmetricKey asymmetricKey2 = mKeyFactory.generateAsymmetricKey(SAMPLE_KEY_2);\n+\n+        final String key1Thumbprint = asymmetricKey1.getThumbprint();\n+\n+        // Clear our second key\n+        mKeyFactory.clearAsymmetricKey(SAMPLE_KEY_2);\n+\n+        // Reload our first key\n+        final AsymmetricKey reloadedFirstKey = mKeyFactory.loadAsymmetricKey(SAMPLE_KEY_1);\n+\n+        // Reload the first key - assert that signature hasn't changed\n+        Assert.assertEquals(\n+                key1Thumbprint,\n+                reloadedFirstKey.getThumbprint()\n+        );\n+\n+        // Assert the alias is the same\n+        Assert.assertEquals(\n+                asymmetricKey1.getAlias(),\n+                reloadedFirstKey.getAlias()\n+        );\n+    }\n+\n+    @Test\n+    public void testCanGenerateKeyWhenLoadCalledBeforeGeneration() throws ClientException {\n+        final AsymmetricKey key1 = mKeyFactory.loadAsymmetricKey(SAMPLE_KEY_1);\n+        Assert.assertEquals(SAMPLE_KEY_1, key1.getAlias());\n+    }\n+\n+    @Test\n+    public void testCanClearAsymmetricKey() throws ClientException {\n+        // Generate a key\n+        final AsymmetricKey asymmetricKey1 = mKeyFactory.generateAsymmetricKey(SAMPLE_KEY_1);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjM2Mjc1Mw=="}, "originalCommit": {"oid": "c66f1aa2aae374ec6128c31ca91a059c9ae88025"}, "originalPosition": 111}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjM3NzEzOQ==", "bodyText": "477a059", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031#discussion_r492377139", "createdAt": "2020-09-21T22:16:36Z", "author": {"login": "iambmelt"}, "path": "common/src/androidTest/java/com/microsoft/identity/common/internal/platform/AsymmetricKeyFactoryTests.java", "diffHunk": "@@ -0,0 +1,129 @@\n+//  Copyright (c) Microsoft Corporation.\n+//  All rights reserved.\n+//\n+//  This code is licensed under the MIT License.\n+//\n+//  Permission is hereby granted, free of charge, to any person obtaining a copy\n+//  of this software and associated documentation files(the \"Software\"), to deal\n+//  in the Software without restriction, including without limitation the rights\n+//  to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n+//  copies of the Software, and to permit persons to whom the Software is\n+//  furnished to do so, subject to the following conditions :\n+//\n+//  The above copyright notice and this permission notice shall be included in\n+//  all copies or substantial portions of the Software.\n+//\n+//  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+//  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+//  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+//  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+//  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+//  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+//  THE SOFTWARE.\n+package com.microsoft.identity.common.internal.platform;\n+\n+import android.content.Context;\n+\n+import androidx.test.InstrumentationRegistry;\n+import androidx.test.ext.junit.runners.AndroidJUnit4;\n+\n+import com.microsoft.identity.common.exception.ClientException;\n+\n+import org.junit.Assert;\n+import org.junit.Before;\n+import org.junit.Test;\n+import org.junit.runner.RunWith;\n+\n+@RunWith(AndroidJUnit4.class)\n+public class AsymmetricKeyFactoryTests {\n+\n+    private static final String SAMPLE_KEY_1 = \"sample_key_1\";\n+    private static final String SAMPLE_KEY_2 = \"sample_key_2\";\n+\n+    private AsymmetricKeyFactory mKeyFactory;\n+\n+    @Before\n+    public void setUp() {\n+        final Context context = InstrumentationRegistry.getTargetContext();\n+        mKeyFactory = new AndroidKeystoreAsymmetricKeyFactory(context);\n+    }\n+\n+    @Test\n+    public void testCanGenerateAsymmetricKey() throws ClientException {\n+        final AsymmetricKey asymmetricKey = mKeyFactory.generateAsymmetricKey(SAMPLE_KEY_1);\n+        Assert.assertNotNull(asymmetricKey);\n+        Assert.assertNotNull(asymmetricKey.getThumbprint());\n+    }\n+\n+    @Test\n+    public void testCanGenerateMultipleKeys() throws ClientException {\n+        final AsymmetricKey asymmetricKey1 = mKeyFactory.generateAsymmetricKey(SAMPLE_KEY_1);\n+        final AsymmetricKey asymmetricKey2 = mKeyFactory.generateAsymmetricKey(SAMPLE_KEY_2);\n+\n+        Assert.assertNotNull(asymmetricKey1);\n+        Assert.assertNotNull(asymmetricKey1.getThumbprint());\n+\n+        Assert.assertNotNull(asymmetricKey1);\n+        Assert.assertNotNull(asymmetricKey1.getThumbprint());\n+\n+        // Assert they're not the same\n+        Assert.assertNotEquals(\n+                asymmetricKey1.getThumbprint(),\n+                asymmetricKey2.getThumbprint()\n+        );\n+    }\n+\n+    @Test\n+    public void testClearingOneKeyPreservesAnother() throws ClientException {\n+        final AsymmetricKey asymmetricKey1 = mKeyFactory.generateAsymmetricKey(SAMPLE_KEY_1);\n+        final AsymmetricKey asymmetricKey2 = mKeyFactory.generateAsymmetricKey(SAMPLE_KEY_2);\n+\n+        final String key1Thumbprint = asymmetricKey1.getThumbprint();\n+\n+        // Clear our second key\n+        mKeyFactory.clearAsymmetricKey(SAMPLE_KEY_2);\n+\n+        // Reload our first key\n+        final AsymmetricKey reloadedFirstKey = mKeyFactory.loadAsymmetricKey(SAMPLE_KEY_1);\n+\n+        // Reload the first key - assert that signature hasn't changed\n+        Assert.assertEquals(\n+                key1Thumbprint,\n+                reloadedFirstKey.getThumbprint()\n+        );\n+\n+        // Assert the alias is the same\n+        Assert.assertEquals(\n+                asymmetricKey1.getAlias(),\n+                reloadedFirstKey.getAlias()\n+        );\n+    }\n+\n+    @Test\n+    public void testCanGenerateKeyWhenLoadCalledBeforeGeneration() throws ClientException {\n+        final AsymmetricKey key1 = mKeyFactory.loadAsymmetricKey(SAMPLE_KEY_1);\n+        Assert.assertEquals(SAMPLE_KEY_1, key1.getAlias());\n+    }\n+\n+    @Test\n+    public void testCanClearAsymmetricKey() throws ClientException {\n+        // Generate a key\n+        final AsymmetricKey asymmetricKey1 = mKeyFactory.generateAsymmetricKey(SAMPLE_KEY_1);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjM2Mjc1Mw=="}, "originalCommit": {"oid": "c66f1aa2aae374ec6128c31ca91a059c9ae88025"}, "originalPosition": 111}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA4MTI0MzkxOnYy", "diffSide": "RIGHT", "path": "common/src/main/java/com/microsoft/identity/common/internal/platform/AndroidKeystoreAsymmetricKey.java", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQyMTo0NjozOFrOHVjisg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQyMjowNDo1OFrOHVkAZQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjM2NDQ2Ng==", "bodyText": "If this is coupled to RSA, I'd incorporate that into the implementing class name.", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031#discussion_r492364466", "createdAt": "2020-09-21T21:46:38Z", "author": {"login": "AdamBJohnsonx"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/platform/AndroidKeystoreAsymmetricKey.java", "diffHunk": "@@ -0,0 +1,107 @@\n+//  Copyright (c) Microsoft Corporation.\n+//  All rights reserved.\n+//\n+//  This code is licensed under the MIT License.\n+//\n+//  Permission is hereby granted, free of charge, to any person obtaining a copy\n+//  of this software and associated documentation files(the \"Software\"), to deal\n+//  in the Software without restriction, including without limitation the rights\n+//  to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n+//  copies of the Software, and to permit persons to whom the Software is\n+//  furnished to do so, subject to the following conditions :\n+//\n+//  The above copyright notice and this permission notice shall be included in\n+//  all copies or substantial portions of the Software.\n+//\n+//  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+//  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+//  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+//  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+//  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+//  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+//  THE SOFTWARE.\n+package com.microsoft.identity.common.internal.platform;\n+\n+import android.content.Context;\n+import android.os.Build;\n+\n+import androidx.annotation.NonNull;\n+import androidx.annotation.RequiresApi;\n+\n+import com.microsoft.identity.common.exception.ClientException;\n+\n+import java.util.Date;\n+\n+/**\n+ * Represents an asymmetric key, backed by the Android Keystore.\n+ */\n+public class AndroidKeystoreAsymmetricKey implements AsymmetricKey {\n+\n+    /**\n+     * The {@link IDevicePopManager} to which we will delegate most cryptographic actions.\n+     */\n+    private final IDevicePopManager mDevicePopManager;\n+\n+    /**\n+     * The alias is name of this keypair in the underlying keystore.\n+     */\n+    private final String mAlias;\n+\n+    /**\n+     * Constructs a new {@link AndroidKeystoreAsymmetricKey} instance.\n+     *\n+     * @param context    The application Context.\n+     * @param popManager The underlying {@link IDevicePopManager} to which we'll delegate.\n+     * @throws ClientException If asymmetric key generation fails.\n+     */\n+    AndroidKeystoreAsymmetricKey(@NonNull final Context context,\n+                                 @NonNull final IDevicePopManager popManager,\n+                                 @NonNull final String alias)\n+            throws ClientException {\n+        mDevicePopManager = popManager;\n+        mAlias = alias;\n+\n+        if (!mDevicePopManager.asymmetricKeyExists()) {\n+            mDevicePopManager.generateAsymmetricKey(context);\n+        }\n+    }\n+\n+    @Override\n+    public String getAlias() {\n+        return mAlias;\n+    }\n+\n+    @Override\n+    public Date getCreatedOn() throws ClientException {\n+        return mDevicePopManager.getAsymmetricKeyCreationDate();\n+    }\n+\n+    @Override\n+    public String getThumbprint() throws ClientException {\n+        return mDevicePopManager.getAsymmetricKeyThumbprint();\n+    }\n+\n+    @Override\n+    public String getPublicKey() throws ClientException {\n+        return mDevicePopManager.getPublicKey(IDevicePopManager.PublicKeyFormat.JWK);\n+    }\n+\n+    @RequiresApi(api = Build.VERSION_CODES.JELLY_BEAN_MR2)\n+    @Override\n+    public String sign(@NonNull final String data) throws ClientException {\n+        return mDevicePopManager.sign(\n+                DevicePopManager.SigningAlgorithm.SHA_256_WITH_RSA,\n+                data\n+        );\n+    }\n+\n+    @RequiresApi(api = Build.VERSION_CODES.JELLY_BEAN_MR2)\n+    @Override\n+    public boolean verify(@NonNull final String plainText, @NonNull final String signatureStr) {\n+        return mDevicePopManager.verify(\n+                DevicePopManager.SigningAlgorithm.SHA_256_WITH_RSA,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c66f1aa2aae374ec6128c31ca91a059c9ae88025"}, "originalPosition": 102}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjM2NjE3OQ==", "bodyText": "ACK -- will be part of the name", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031#discussion_r492366179", "createdAt": "2020-09-21T21:50:46Z", "author": {"login": "iambmelt"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/platform/AndroidKeystoreAsymmetricKey.java", "diffHunk": "@@ -0,0 +1,107 @@\n+//  Copyright (c) Microsoft Corporation.\n+//  All rights reserved.\n+//\n+//  This code is licensed under the MIT License.\n+//\n+//  Permission is hereby granted, free of charge, to any person obtaining a copy\n+//  of this software and associated documentation files(the \"Software\"), to deal\n+//  in the Software without restriction, including without limitation the rights\n+//  to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n+//  copies of the Software, and to permit persons to whom the Software is\n+//  furnished to do so, subject to the following conditions :\n+//\n+//  The above copyright notice and this permission notice shall be included in\n+//  all copies or substantial portions of the Software.\n+//\n+//  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+//  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+//  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+//  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+//  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+//  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+//  THE SOFTWARE.\n+package com.microsoft.identity.common.internal.platform;\n+\n+import android.content.Context;\n+import android.os.Build;\n+\n+import androidx.annotation.NonNull;\n+import androidx.annotation.RequiresApi;\n+\n+import com.microsoft.identity.common.exception.ClientException;\n+\n+import java.util.Date;\n+\n+/**\n+ * Represents an asymmetric key, backed by the Android Keystore.\n+ */\n+public class AndroidKeystoreAsymmetricKey implements AsymmetricKey {\n+\n+    /**\n+     * The {@link IDevicePopManager} to which we will delegate most cryptographic actions.\n+     */\n+    private final IDevicePopManager mDevicePopManager;\n+\n+    /**\n+     * The alias is name of this keypair in the underlying keystore.\n+     */\n+    private final String mAlias;\n+\n+    /**\n+     * Constructs a new {@link AndroidKeystoreAsymmetricKey} instance.\n+     *\n+     * @param context    The application Context.\n+     * @param popManager The underlying {@link IDevicePopManager} to which we'll delegate.\n+     * @throws ClientException If asymmetric key generation fails.\n+     */\n+    AndroidKeystoreAsymmetricKey(@NonNull final Context context,\n+                                 @NonNull final IDevicePopManager popManager,\n+                                 @NonNull final String alias)\n+            throws ClientException {\n+        mDevicePopManager = popManager;\n+        mAlias = alias;\n+\n+        if (!mDevicePopManager.asymmetricKeyExists()) {\n+            mDevicePopManager.generateAsymmetricKey(context);\n+        }\n+    }\n+\n+    @Override\n+    public String getAlias() {\n+        return mAlias;\n+    }\n+\n+    @Override\n+    public Date getCreatedOn() throws ClientException {\n+        return mDevicePopManager.getAsymmetricKeyCreationDate();\n+    }\n+\n+    @Override\n+    public String getThumbprint() throws ClientException {\n+        return mDevicePopManager.getAsymmetricKeyThumbprint();\n+    }\n+\n+    @Override\n+    public String getPublicKey() throws ClientException {\n+        return mDevicePopManager.getPublicKey(IDevicePopManager.PublicKeyFormat.JWK);\n+    }\n+\n+    @RequiresApi(api = Build.VERSION_CODES.JELLY_BEAN_MR2)\n+    @Override\n+    public String sign(@NonNull final String data) throws ClientException {\n+        return mDevicePopManager.sign(\n+                DevicePopManager.SigningAlgorithm.SHA_256_WITH_RSA,\n+                data\n+        );\n+    }\n+\n+    @RequiresApi(api = Build.VERSION_CODES.JELLY_BEAN_MR2)\n+    @Override\n+    public boolean verify(@NonNull final String plainText, @NonNull final String signatureStr) {\n+        return mDevicePopManager.verify(\n+                DevicePopManager.SigningAlgorithm.SHA_256_WITH_RSA,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjM2NDQ2Ng=="}, "originalCommit": {"oid": "c66f1aa2aae374ec6128c31ca91a059c9ae88025"}, "originalPosition": 102}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjM2NzE2MQ==", "bodyText": "If we do, I'd go ahead and make it a subinterface, keeping the superinterface generic w.r.t. algorithm.  I'd hate to add too much friction to an eventual move away from RSA.", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031#discussion_r492367161", "createdAt": "2020-09-21T21:53:16Z", "author": {"login": "AdamBJohnsonx"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/platform/AndroidKeystoreAsymmetricKey.java", "diffHunk": "@@ -0,0 +1,107 @@\n+//  Copyright (c) Microsoft Corporation.\n+//  All rights reserved.\n+//\n+//  This code is licensed under the MIT License.\n+//\n+//  Permission is hereby granted, free of charge, to any person obtaining a copy\n+//  of this software and associated documentation files(the \"Software\"), to deal\n+//  in the Software without restriction, including without limitation the rights\n+//  to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n+//  copies of the Software, and to permit persons to whom the Software is\n+//  furnished to do so, subject to the following conditions :\n+//\n+//  The above copyright notice and this permission notice shall be included in\n+//  all copies or substantial portions of the Software.\n+//\n+//  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+//  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+//  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+//  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+//  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+//  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+//  THE SOFTWARE.\n+package com.microsoft.identity.common.internal.platform;\n+\n+import android.content.Context;\n+import android.os.Build;\n+\n+import androidx.annotation.NonNull;\n+import androidx.annotation.RequiresApi;\n+\n+import com.microsoft.identity.common.exception.ClientException;\n+\n+import java.util.Date;\n+\n+/**\n+ * Represents an asymmetric key, backed by the Android Keystore.\n+ */\n+public class AndroidKeystoreAsymmetricKey implements AsymmetricKey {\n+\n+    /**\n+     * The {@link IDevicePopManager} to which we will delegate most cryptographic actions.\n+     */\n+    private final IDevicePopManager mDevicePopManager;\n+\n+    /**\n+     * The alias is name of this keypair in the underlying keystore.\n+     */\n+    private final String mAlias;\n+\n+    /**\n+     * Constructs a new {@link AndroidKeystoreAsymmetricKey} instance.\n+     *\n+     * @param context    The application Context.\n+     * @param popManager The underlying {@link IDevicePopManager} to which we'll delegate.\n+     * @throws ClientException If asymmetric key generation fails.\n+     */\n+    AndroidKeystoreAsymmetricKey(@NonNull final Context context,\n+                                 @NonNull final IDevicePopManager popManager,\n+                                 @NonNull final String alias)\n+            throws ClientException {\n+        mDevicePopManager = popManager;\n+        mAlias = alias;\n+\n+        if (!mDevicePopManager.asymmetricKeyExists()) {\n+            mDevicePopManager.generateAsymmetricKey(context);\n+        }\n+    }\n+\n+    @Override\n+    public String getAlias() {\n+        return mAlias;\n+    }\n+\n+    @Override\n+    public Date getCreatedOn() throws ClientException {\n+        return mDevicePopManager.getAsymmetricKeyCreationDate();\n+    }\n+\n+    @Override\n+    public String getThumbprint() throws ClientException {\n+        return mDevicePopManager.getAsymmetricKeyThumbprint();\n+    }\n+\n+    @Override\n+    public String getPublicKey() throws ClientException {\n+        return mDevicePopManager.getPublicKey(IDevicePopManager.PublicKeyFormat.JWK);\n+    }\n+\n+    @RequiresApi(api = Build.VERSION_CODES.JELLY_BEAN_MR2)\n+    @Override\n+    public String sign(@NonNull final String data) throws ClientException {\n+        return mDevicePopManager.sign(\n+                DevicePopManager.SigningAlgorithm.SHA_256_WITH_RSA,\n+                data\n+        );\n+    }\n+\n+    @RequiresApi(api = Build.VERSION_CODES.JELLY_BEAN_MR2)\n+    @Override\n+    public boolean verify(@NonNull final String plainText, @NonNull final String signatureStr) {\n+        return mDevicePopManager.verify(\n+                DevicePopManager.SigningAlgorithm.SHA_256_WITH_RSA,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjM2NDQ2Ng=="}, "originalCommit": {"oid": "c66f1aa2aae374ec6128c31ca91a059c9ae88025"}, "originalPosition": 102}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjM3MjA2OQ==", "bodyText": "Pulled up in 32e3fc7", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031#discussion_r492372069", "createdAt": "2020-09-21T22:04:58Z", "author": {"login": "iambmelt"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/platform/AndroidKeystoreAsymmetricKey.java", "diffHunk": "@@ -0,0 +1,107 @@\n+//  Copyright (c) Microsoft Corporation.\n+//  All rights reserved.\n+//\n+//  This code is licensed under the MIT License.\n+//\n+//  Permission is hereby granted, free of charge, to any person obtaining a copy\n+//  of this software and associated documentation files(the \"Software\"), to deal\n+//  in the Software without restriction, including without limitation the rights\n+//  to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n+//  copies of the Software, and to permit persons to whom the Software is\n+//  furnished to do so, subject to the following conditions :\n+//\n+//  The above copyright notice and this permission notice shall be included in\n+//  all copies or substantial portions of the Software.\n+//\n+//  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+//  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+//  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+//  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+//  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+//  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+//  THE SOFTWARE.\n+package com.microsoft.identity.common.internal.platform;\n+\n+import android.content.Context;\n+import android.os.Build;\n+\n+import androidx.annotation.NonNull;\n+import androidx.annotation.RequiresApi;\n+\n+import com.microsoft.identity.common.exception.ClientException;\n+\n+import java.util.Date;\n+\n+/**\n+ * Represents an asymmetric key, backed by the Android Keystore.\n+ */\n+public class AndroidKeystoreAsymmetricKey implements AsymmetricKey {\n+\n+    /**\n+     * The {@link IDevicePopManager} to which we will delegate most cryptographic actions.\n+     */\n+    private final IDevicePopManager mDevicePopManager;\n+\n+    /**\n+     * The alias is name of this keypair in the underlying keystore.\n+     */\n+    private final String mAlias;\n+\n+    /**\n+     * Constructs a new {@link AndroidKeystoreAsymmetricKey} instance.\n+     *\n+     * @param context    The application Context.\n+     * @param popManager The underlying {@link IDevicePopManager} to which we'll delegate.\n+     * @throws ClientException If asymmetric key generation fails.\n+     */\n+    AndroidKeystoreAsymmetricKey(@NonNull final Context context,\n+                                 @NonNull final IDevicePopManager popManager,\n+                                 @NonNull final String alias)\n+            throws ClientException {\n+        mDevicePopManager = popManager;\n+        mAlias = alias;\n+\n+        if (!mDevicePopManager.asymmetricKeyExists()) {\n+            mDevicePopManager.generateAsymmetricKey(context);\n+        }\n+    }\n+\n+    @Override\n+    public String getAlias() {\n+        return mAlias;\n+    }\n+\n+    @Override\n+    public Date getCreatedOn() throws ClientException {\n+        return mDevicePopManager.getAsymmetricKeyCreationDate();\n+    }\n+\n+    @Override\n+    public String getThumbprint() throws ClientException {\n+        return mDevicePopManager.getAsymmetricKeyThumbprint();\n+    }\n+\n+    @Override\n+    public String getPublicKey() throws ClientException {\n+        return mDevicePopManager.getPublicKey(IDevicePopManager.PublicKeyFormat.JWK);\n+    }\n+\n+    @RequiresApi(api = Build.VERSION_CODES.JELLY_BEAN_MR2)\n+    @Override\n+    public String sign(@NonNull final String data) throws ClientException {\n+        return mDevicePopManager.sign(\n+                DevicePopManager.SigningAlgorithm.SHA_256_WITH_RSA,\n+                data\n+        );\n+    }\n+\n+    @RequiresApi(api = Build.VERSION_CODES.JELLY_BEAN_MR2)\n+    @Override\n+    public boolean verify(@NonNull final String plainText, @NonNull final String signatureStr) {\n+        return mDevicePopManager.verify(\n+                DevicePopManager.SigningAlgorithm.SHA_256_WITH_RSA,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjM2NDQ2Ng=="}, "originalCommit": {"oid": "c66f1aa2aae374ec6128c31ca91a059c9ae88025"}, "originalPosition": 102}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA4MTI0NjIxOnYy", "diffSide": "RIGHT", "path": "common/src/main/java/com/microsoft/identity/common/internal/platform/AsymmetricKey.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQyMTo0NzoyMVrOHVjj_A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQyMjowNjo1MlrOHVkDqA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjM2NDc5Ng==", "bodyText": "This should be able to verify any signature string, if it is understandable by the implementation of the interface, right?", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031#discussion_r492364796", "createdAt": "2020-09-21T21:47:21Z", "author": {"login": "AdamBJohnsonx"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/platform/AsymmetricKey.java", "diffHunk": "@@ -0,0 +1,88 @@\n+//  Copyright (c) Microsoft Corporation.\n+//  All rights reserved.\n+//\n+//  This code is licensed under the MIT License.\n+//\n+//  Permission is hereby granted, free of charge, to any person obtaining a copy\n+//  of this software and associated documentation files(the \"Software\"), to deal\n+//  in the Software without restriction, including without limitation the rights\n+//  to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n+//  copies of the Software, and to permit persons to whom the Software is\n+//  furnished to do so, subject to the following conditions :\n+//\n+//  The above copyright notice and this permission notice shall be included in\n+//  all copies or substantial portions of the Software.\n+//\n+//  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+//  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+//  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+//  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+//  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+//  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+//  THE SOFTWARE.\n+package com.microsoft.identity.common.internal.platform;\n+\n+import com.microsoft.identity.common.exception.ClientException;\n+\n+import java.util.Date;\n+\n+/**\n+ * Represents an RSA asymmetric key. This object represents a single keypair instance inside of an\n+ * underlying keystore which may or may not be hardware backed depending on OS version, key size,\n+ * and TPM/HSM chipset.\n+ */\n+public interface AsymmetricKey {\n+\n+    /**\n+     * Gets the alias which refers to this key at its originating keystore.\n+     *\n+     * @return The alias of this key.\n+     */\n+    String getAlias();\n+\n+    /**\n+     * Returns the creation date of the asymmetric key entry backing this instance.\n+     *\n+     * @return The asymmetric key creation date.\n+     * @throws ClientException If no asymmetric key exists.\n+     */\n+    Date getCreatedOn() throws ClientException;\n+\n+    /**\n+     * Gets the thumbprint of the current KeyPair. Format is SHA256.\n+     *\n+     * @return The thumbprint.\n+     */\n+    String getThumbprint() throws ClientException;\n+\n+    /**\n+     * Gets an RFC-7517 compliant public key as a minified JWK.\n+     * <p>\n+     * Sample value:\n+     * <pre>\n+     * {\n+     * \t\"kty\": \"RSA\",\n+     * \t\"e\": \"AQAB\",\n+     * \t\"n\": \"tMqJ7Oxh3PdLaiEc28w....HwES9Q\"\n+     * }\n+     * </pre>\n+     */\n+    String getPublicKey() throws ClientException;\n+\n+    /**\n+     * Signs an arbitrary piece of String data. Algorithm is RSA256.\n+     *\n+     * @return The input data, signed by our private key.\n+     */\n+    String sign(String data) throws ClientException;\n+\n+    /**\n+     * Verifies a signature previously made by this private key. Algorithm is RSA256.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c66f1aa2aae374ec6128c31ca91a059c9ae88025"}, "originalPosition": 80}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjM2NTExNg==", "bodyText": "These classes will be used by OneAuth: API is understood to be RSA/256 based", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031#discussion_r492365116", "createdAt": "2020-09-21T21:48:10Z", "author": {"login": "iambmelt"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/platform/AsymmetricKey.java", "diffHunk": "@@ -0,0 +1,88 @@\n+//  Copyright (c) Microsoft Corporation.\n+//  All rights reserved.\n+//\n+//  This code is licensed under the MIT License.\n+//\n+//  Permission is hereby granted, free of charge, to any person obtaining a copy\n+//  of this software and associated documentation files(the \"Software\"), to deal\n+//  in the Software without restriction, including without limitation the rights\n+//  to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n+//  copies of the Software, and to permit persons to whom the Software is\n+//  furnished to do so, subject to the following conditions :\n+//\n+//  The above copyright notice and this permission notice shall be included in\n+//  all copies or substantial portions of the Software.\n+//\n+//  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+//  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+//  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+//  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+//  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+//  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+//  THE SOFTWARE.\n+package com.microsoft.identity.common.internal.platform;\n+\n+import com.microsoft.identity.common.exception.ClientException;\n+\n+import java.util.Date;\n+\n+/**\n+ * Represents an RSA asymmetric key. This object represents a single keypair instance inside of an\n+ * underlying keystore which may or may not be hardware backed depending on OS version, key size,\n+ * and TPM/HSM chipset.\n+ */\n+public interface AsymmetricKey {\n+\n+    /**\n+     * Gets the alias which refers to this key at its originating keystore.\n+     *\n+     * @return The alias of this key.\n+     */\n+    String getAlias();\n+\n+    /**\n+     * Returns the creation date of the asymmetric key entry backing this instance.\n+     *\n+     * @return The asymmetric key creation date.\n+     * @throws ClientException If no asymmetric key exists.\n+     */\n+    Date getCreatedOn() throws ClientException;\n+\n+    /**\n+     * Gets the thumbprint of the current KeyPair. Format is SHA256.\n+     *\n+     * @return The thumbprint.\n+     */\n+    String getThumbprint() throws ClientException;\n+\n+    /**\n+     * Gets an RFC-7517 compliant public key as a minified JWK.\n+     * <p>\n+     * Sample value:\n+     * <pre>\n+     * {\n+     * \t\"kty\": \"RSA\",\n+     * \t\"e\": \"AQAB\",\n+     * \t\"n\": \"tMqJ7Oxh3PdLaiEc28w....HwES9Q\"\n+     * }\n+     * </pre>\n+     */\n+    String getPublicKey() throws ClientException;\n+\n+    /**\n+     * Signs an arbitrary piece of String data. Algorithm is RSA256.\n+     *\n+     * @return The input data, signed by our private key.\n+     */\n+    String sign(String data) throws ClientException;\n+\n+    /**\n+     * Verifies a signature previously made by this private key. Algorithm is RSA256.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjM2NDc5Ng=="}, "originalCommit": {"oid": "c66f1aa2aae374ec6128c31ca91a059c9ae88025"}, "originalPosition": 80}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjM3MjkwNA==", "bodyText": "Clarified via naming, added super interface\ne76345c, 32e3fc7", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031#discussion_r492372904", "createdAt": "2020-09-21T22:06:52Z", "author": {"login": "iambmelt"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/platform/AsymmetricKey.java", "diffHunk": "@@ -0,0 +1,88 @@\n+//  Copyright (c) Microsoft Corporation.\n+//  All rights reserved.\n+//\n+//  This code is licensed under the MIT License.\n+//\n+//  Permission is hereby granted, free of charge, to any person obtaining a copy\n+//  of this software and associated documentation files(the \"Software\"), to deal\n+//  in the Software without restriction, including without limitation the rights\n+//  to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n+//  copies of the Software, and to permit persons to whom the Software is\n+//  furnished to do so, subject to the following conditions :\n+//\n+//  The above copyright notice and this permission notice shall be included in\n+//  all copies or substantial portions of the Software.\n+//\n+//  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+//  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+//  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+//  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+//  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+//  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+//  THE SOFTWARE.\n+package com.microsoft.identity.common.internal.platform;\n+\n+import com.microsoft.identity.common.exception.ClientException;\n+\n+import java.util.Date;\n+\n+/**\n+ * Represents an RSA asymmetric key. This object represents a single keypair instance inside of an\n+ * underlying keystore which may or may not be hardware backed depending on OS version, key size,\n+ * and TPM/HSM chipset.\n+ */\n+public interface AsymmetricKey {\n+\n+    /**\n+     * Gets the alias which refers to this key at its originating keystore.\n+     *\n+     * @return The alias of this key.\n+     */\n+    String getAlias();\n+\n+    /**\n+     * Returns the creation date of the asymmetric key entry backing this instance.\n+     *\n+     * @return The asymmetric key creation date.\n+     * @throws ClientException If no asymmetric key exists.\n+     */\n+    Date getCreatedOn() throws ClientException;\n+\n+    /**\n+     * Gets the thumbprint of the current KeyPair. Format is SHA256.\n+     *\n+     * @return The thumbprint.\n+     */\n+    String getThumbprint() throws ClientException;\n+\n+    /**\n+     * Gets an RFC-7517 compliant public key as a minified JWK.\n+     * <p>\n+     * Sample value:\n+     * <pre>\n+     * {\n+     * \t\"kty\": \"RSA\",\n+     * \t\"e\": \"AQAB\",\n+     * \t\"n\": \"tMqJ7Oxh3PdLaiEc28w....HwES9Q\"\n+     * }\n+     * </pre>\n+     */\n+    String getPublicKey() throws ClientException;\n+\n+    /**\n+     * Signs an arbitrary piece of String data. Algorithm is RSA256.\n+     *\n+     * @return The input data, signed by our private key.\n+     */\n+    String sign(String data) throws ClientException;\n+\n+    /**\n+     * Verifies a signature previously made by this private key. Algorithm is RSA256.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjM2NDc5Ng=="}, "originalCommit": {"oid": "c66f1aa2aae374ec6128c31ca91a059c9ae88025"}, "originalPosition": 80}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA4MTI1MDQyOnYy", "diffSide": "RIGHT", "path": "common/src/main/java/com/microsoft/identity/common/internal/platform/AsymmetricKey.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQyMTo0ODo1N1rOHVjmdQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQyMjowNjozMVrOHVkDCg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjM2NTQyOQ==", "bodyText": "If this must be an RSA key, I'd expect it to be in the name.  But I think that this interface can support any asymmetric key algorithm.  If so, we should weaken the documentation appropriately.", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031#discussion_r492365429", "createdAt": "2020-09-21T21:48:57Z", "author": {"login": "AdamBJohnsonx"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/platform/AsymmetricKey.java", "diffHunk": "@@ -0,0 +1,88 @@\n+//  Copyright (c) Microsoft Corporation.\n+//  All rights reserved.\n+//\n+//  This code is licensed under the MIT License.\n+//\n+//  Permission is hereby granted, free of charge, to any person obtaining a copy\n+//  of this software and associated documentation files(the \"Software\"), to deal\n+//  in the Software without restriction, including without limitation the rights\n+//  to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n+//  copies of the Software, and to permit persons to whom the Software is\n+//  furnished to do so, subject to the following conditions :\n+//\n+//  The above copyright notice and this permission notice shall be included in\n+//  all copies or substantial portions of the Software.\n+//\n+//  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+//  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+//  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+//  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+//  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+//  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+//  THE SOFTWARE.\n+package com.microsoft.identity.common.internal.platform;\n+\n+import com.microsoft.identity.common.exception.ClientException;\n+\n+import java.util.Date;\n+\n+/**\n+ * Represents an RSA asymmetric key. This object represents a single keypair instance inside of an", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c66f1aa2aae374ec6128c31ca91a059c9ae88025"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjM2NjAwOA==", "bodyText": "Sure, will incorporate into the name. Some of this won't be visible once its pulled thru OneAuth (they will wrap in their own class), but that's not terribly important for our naming quality", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031#discussion_r492366008", "createdAt": "2020-09-21T21:50:26Z", "author": {"login": "iambmelt"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/platform/AsymmetricKey.java", "diffHunk": "@@ -0,0 +1,88 @@\n+//  Copyright (c) Microsoft Corporation.\n+//  All rights reserved.\n+//\n+//  This code is licensed under the MIT License.\n+//\n+//  Permission is hereby granted, free of charge, to any person obtaining a copy\n+//  of this software and associated documentation files(the \"Software\"), to deal\n+//  in the Software without restriction, including without limitation the rights\n+//  to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n+//  copies of the Software, and to permit persons to whom the Software is\n+//  furnished to do so, subject to the following conditions :\n+//\n+//  The above copyright notice and this permission notice shall be included in\n+//  all copies or substantial portions of the Software.\n+//\n+//  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+//  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+//  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+//  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+//  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+//  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+//  THE SOFTWARE.\n+package com.microsoft.identity.common.internal.platform;\n+\n+import com.microsoft.identity.common.exception.ClientException;\n+\n+import java.util.Date;\n+\n+/**\n+ * Represents an RSA asymmetric key. This object represents a single keypair instance inside of an", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjM2NTQyOQ=="}, "originalCommit": {"oid": "c66f1aa2aae374ec6128c31ca91a059c9ae88025"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjM3Mjc0Ng==", "bodyText": "e76345c, 32e3fc7", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/1031#discussion_r492372746", "createdAt": "2020-09-21T22:06:31Z", "author": {"login": "iambmelt"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/platform/AsymmetricKey.java", "diffHunk": "@@ -0,0 +1,88 @@\n+//  Copyright (c) Microsoft Corporation.\n+//  All rights reserved.\n+//\n+//  This code is licensed under the MIT License.\n+//\n+//  Permission is hereby granted, free of charge, to any person obtaining a copy\n+//  of this software and associated documentation files(the \"Software\"), to deal\n+//  in the Software without restriction, including without limitation the rights\n+//  to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n+//  copies of the Software, and to permit persons to whom the Software is\n+//  furnished to do so, subject to the following conditions :\n+//\n+//  The above copyright notice and this permission notice shall be included in\n+//  all copies or substantial portions of the Software.\n+//\n+//  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+//  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+//  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+//  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+//  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+//  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+//  THE SOFTWARE.\n+package com.microsoft.identity.common.internal.platform;\n+\n+import com.microsoft.identity.common.exception.ClientException;\n+\n+import java.util.Date;\n+\n+/**\n+ * Represents an RSA asymmetric key. This object represents a single keypair instance inside of an", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjM2NTQyOQ=="}, "originalCommit": {"oid": "c66f1aa2aae374ec6128c31ca91a059c9ae88025"}, "originalPosition": 30}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2263, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}