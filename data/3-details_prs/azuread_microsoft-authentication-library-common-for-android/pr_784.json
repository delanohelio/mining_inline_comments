{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY0MzU5NjM0", "number": 784, "title": "Extract Browser/WebView specific codes from lifecycle code", "bodyText": "the goal is to make the base class (AuthorizationFragment) to be able to focus on basic operations, like receiving and returning values from/to its caller or any related class.", "createdAt": "2020-01-17T23:37:28Z", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/784", "merged": true, "mergeCommit": {"oid": "19d47a3202df0e34481f3efe8133e04ff4fd7b6b"}, "closed": true, "closedAt": "2020-01-23T01:32:01Z", "author": {"login": "rpdome"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb7XDAvAH2gAyMzY0MzU5NjM0OjhlMzRlY2Q5ZjljZTVmZmQyMTUwMzE1YmEzYWUxZTdmYWYwZTViYjQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb8_w2tAH2gAyMzY0MzU5NjM0Ojk2NmUwY2NlZTk5Y2ZhM2M0NjVkNWVhOGQ1OTA1ZjNlYzBjMWJlNGU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "8e34ecd9f9ce5ffd2150315ba3ae1e7faf0e5bb4", "author": {"user": {"login": "rpdome", "name": "Dome Pongmongkol"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/8e34ecd9f9ce5ffd2150315ba3ae1e7faf0e5bb4", "committedDate": "2020-01-17T23:07:34Z", "message": "Extract Browser/WebView specific codes from lifecycle code"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9b8e6a0b7f4332c4b302e96215f04e2c603e8dd6", "author": {"user": {"login": "rpdome", "name": "Dome Pongmongkol"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/9b8e6a0b7f4332c4b302e96215f04e2c603e8dd6", "committedDate": "2020-01-17T23:23:12Z", "message": "Update comments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "94a76da41dce27be5bbcc39f41cadcfe0642d7cd", "author": {"user": {"login": "rpdome", "name": "Dome Pongmongkol"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/94a76da41dce27be5bbcc39f41cadcfe0642d7cd", "committedDate": "2020-01-17T23:34:42Z", "message": "Remove unused header"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2ac43263164b60ba716b3df2b403e05e79100998", "author": {"user": {"login": "rpdome", "name": "Dome Pongmongkol"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/2ac43263164b60ba716b3df2b403e05e79100998", "committedDate": "2020-01-18T01:46:58Z", "message": "Rename + centralize auth intent params"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ2OTc1OTk3", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/784#pullrequestreview-346975997", "createdAt": "2020-01-22T23:29:26Z", "commit": {"oid": "2ac43263164b60ba716b3df2b403e05e79100998"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMlQyMzoyOToyN1rOFgumig==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMlQyMzoyOToyN1rOFgumig==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTg2MjI4Mg==", "bodyText": "nit : this comment can be removed i guess", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/784#discussion_r369862282", "createdAt": "2020-01-22T23:29:27Z", "author": {"login": "kreedula"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/providers/oauth2/WebViewAuthorizationFragment.java", "diffHunk": "@@ -0,0 +1,193 @@\n+package com.microsoft.identity.common.internal.providers.oauth2;\n+\n+import android.annotation.SuppressLint;\n+import android.content.Intent;\n+import android.os.Bundle;\n+import android.view.LayoutInflater;\n+import android.view.MotionEvent;\n+import android.view.View;\n+import android.view.ViewGroup;\n+import android.webkit.WebSettings;\n+import android.webkit.WebView;\n+\n+import androidx.annotation.NonNull;\n+import androidx.annotation.Nullable;\n+import androidx.annotation.VisibleForTesting;\n+\n+import com.microsoft.identity.common.R;\n+import com.microsoft.identity.common.adal.internal.AuthenticationConstants;\n+import com.microsoft.identity.common.internal.logging.Logger;\n+import com.microsoft.identity.common.internal.ui.webview.AzureActiveDirectoryWebViewClient;\n+import com.microsoft.identity.common.internal.ui.webview.WebViewUtil;\n+import com.microsoft.identity.common.internal.ui.webview.challengehandlers.IAuthorizationCompletionCallback;\n+\n+import java.util.HashMap;\n+\n+import static com.microsoft.identity.common.adal.internal.AuthenticationConstants.AuthorizationIntentKey.AUTH_INTENT;\n+import static com.microsoft.identity.common.adal.internal.AuthenticationConstants.AuthorizationIntentKey.REDIRECT_URI;\n+import static com.microsoft.identity.common.adal.internal.AuthenticationConstants.AuthorizationIntentKey.REQUEST_URL;\n+import static com.microsoft.identity.common.adal.internal.AuthenticationConstants.AuthorizationIntentKey.REQUEST_HEADERS;\n+\n+/**\n+ * Authorization fragment with embedded webview.\n+ * */\n+public class WebViewAuthorizationFragment extends AuthorizationFragment {\n+\n+    private static final String TAG = WebViewAuthorizationFragment.class.getSimpleName();\n+\n+    @VisibleForTesting\n+    private static final String PKEYAUTH_STATUS = \"pkeyAuthStatus\";\n+\n+    private WebView mWebView;\n+\n+    private Intent mAuthIntent;\n+\n+    private boolean mPkeyAuthStatus = false; //NOPMD //TODO Will finish the implementation in Phase 1 (broker is ready).", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2ac43263164b60ba716b3df2b403e05e79100998"}, "originalPosition": 45}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ2OTc2MTM4", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/784#pullrequestreview-346976138", "createdAt": "2020-01-22T23:29:49Z", "commit": {"oid": "2ac43263164b60ba716b3df2b403e05e79100998"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "041c50ff167ae9844c3608b15a5a340e578d8879", "author": {"user": {"login": "rpdome", "name": "Dome Pongmongkol"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/041c50ff167ae9844c3608b15a5a340e578d8879", "committedDate": "2020-01-22T23:51:00Z", "message": "Merge branch 'dev' into rapong/refactorAuthFragment"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "24f543282c992009453f87364ee0cd6de297da67", "author": {"user": {"login": "rpdome", "name": "Dome Pongmongkol"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/24f543282c992009453f87364ee0cd6de297da67", "committedDate": "2020-01-23T00:27:50Z", "message": "Use LocalBroadcastManager instead of a public static function (#787)\n\n* Use LocalBroadcastManager instead of a public static function\r\n\r\n* REQUEST_CANCELLED_BY_USER is now part of CANCEL_INTERACTIVE_REQUEST\r\n\r\n* Update test cases"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b479ba2eb34c3b96a2dfe27579bcfab0f1136543", "author": {"user": {"login": "rpdome", "name": "Dome Pongmongkol"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/b479ba2eb34c3b96a2dfe27579bcfab0f1136543", "committedDate": "2020-01-23T00:33:30Z", "message": "Address comment"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "966e0ccee99cfa3c465d5ea8d5905f3ec0c1be4e", "author": {"user": {"login": "rpdome", "name": "Dome Pongmongkol"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/966e0ccee99cfa3c465d5ea8d5905f3ec0c1be4e", "committedDate": "2020-01-23T01:07:46Z", "message": "Merge branch 'dev' into rapong/refactorAuthFragment"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1714, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}