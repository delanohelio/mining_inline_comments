{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ2NDMwNzg3", "number": 957, "title": "Closes #956 - Catches JsonSyntaxException while performing ADAL -> MSAL migration", "bodyText": "Closes #956", "createdAt": "2020-07-08T19:08:02Z", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/957", "merged": true, "mergeCommit": {"oid": "a3476951ada747beec8ce4daa5cb320389dd0233"}, "closed": true, "closedAt": "2020-07-08T22:09:09Z", "author": {"login": "iambmelt"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcy_SmjAH2gAyNDQ2NDMwNzg3OjM4NTdhNDBiYTE4YzA5ZDU4OTE0ZTNhYzU5NjM4NGY0NWRhNWE4MTY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABczBkhagFqTQ0NTE1MTQzNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "3857a40ba18c09d58914e3ac596384f45da5a816", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/3857a40ba18c09d58914e3ac596384f45da5a816", "committedDate": "2020-07-08T19:06:38Z", "message": "Closes #956"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7ad92ac9b6279811ca9e37851070a63b4fac06c4", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/7ad92ac9b6279811ca9e37851070a63b4fac06c4", "committedDate": "2020-07-08T20:15:45Z", "message": "Adding unit test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ec8a54a076c94806cc2d2dda551534f1e899aaa5", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/ec8a54a076c94806cc2d2dda551534f1e899aaa5", "committedDate": "2020-07-08T20:47:32Z", "message": "Making tests more extensible"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5730a5fde968cb1c612fb3e4633c81c30808559a", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/5730a5fde968cb1c612fb3e4633c81c30808559a", "committedDate": "2020-07-08T20:48:26Z", "message": "Minor formatting"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cd911750bd6cad70ae7632aae78b88c6abc53533", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/cd911750bd6cad70ae7632aae78b88c6abc53533", "committedDate": "2020-07-08T20:57:34Z", "message": "Cleaning up annots"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ1MTI1NzU5", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/957#pullrequestreview-445125759", "createdAt": "2020-07-08T21:01:18Z", "commit": {"oid": "cd911750bd6cad70ae7632aae78b88c6abc53533"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOFQyMTowMToxOFrOGu5FHQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOFQyMTowMToxOFrOGu5FHQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTgyMjg3Nw==", "bodyText": "You know I love parameterized tests, but the question I would ask is that with only 2 permutations here is it clearer to just have the two methods?", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/957#discussion_r451822877", "createdAt": "2020-07-08T21:01:18Z", "author": {"login": "AdamBJohnsonx"}, "path": "common/src/androidTest/java/com/microsoft/identity/common/internal/migration/AdalMigrationAdapterDeserializationTest.java", "diffHunk": "@@ -0,0 +1,139 @@\n+//  Copyright (c) Microsoft Corporation.\n+//  All rights reserved.\n+//\n+//  This code is licensed under the MIT License.\n+//\n+//  Permission is hereby granted, free of charge, to any person obtaining a copy\n+//  of this software and associated documentation files(the \"Software\"), to deal\n+//  in the Software without restriction, including without limitation the rights\n+//  to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n+//  copies of the Software, and to permit persons to whom the Software is\n+//  furnished to do so, subject to the following conditions :\n+//\n+//  The above copyright notice and this permission notice shall be included in\n+//  all copies or substantial portions of the Software.\n+//\n+//  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+//  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+//  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+//  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+//  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+//  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+//  THE SOFTWARE.\n+package com.microsoft.identity.common.internal.migration;\n+\n+import android.content.Context;\n+\n+import androidx.annotation.NonNull;\n+import androidx.test.platform.app.InstrumentationRegistry;\n+\n+import com.google.gson.Gson;\n+import com.microsoft.identity.common.internal.cache.ADALTokenCacheItem;\n+\n+import org.junit.After;\n+import org.junit.Before;\n+import org.junit.Test;\n+import org.junit.runner.RunWith;\n+import org.junit.runners.Parameterized;\n+\n+import java.util.Arrays;\n+import java.util.HashMap;\n+import java.util.Map;\n+\n+import static org.junit.Assert.assertEquals;\n+\n+@RunWith(Parameterized.class)\n+public class AdalMigrationAdapterDeserializationTest {\n+\n+    private static final String AUTHORITY = \"https://login.microsoftonline.com/common\";\n+    private static final String CLIENT_ID = \"a_client_id\";\n+    private static final String TENANT_ID = \"a_tenant_id\";\n+    public static final String CACHE_KEY = \"a_cache_key\";\n+\n+    private interface DeserializationValidator {\n+        void onDeserializationFinished(Map<String, ADALTokenCacheItem> result);\n+    }\n+\n+    private AdalMigrationAdapter mMigrationAdapter;\n+\n+    private Map<String, String> mDeserializationInput;\n+    private DeserializationValidator mValidator;\n+\n+    @Parameterized.Parameters\n+    public static Iterable<Object[]> testParams() {\n+        return Arrays.asList(\n+                new Object[]{\n+                        getAdalCacheItemInput(),\n+                        getDeserializationValidator()\n+                },\n+                new Object[]{\n+                        getMalformedCacheItemInput(),\n+                        getDeserializationValidator()\n+                }\n+        );\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cd911750bd6cad70ae7632aae78b88c6abc53533"}, "originalPosition": 74}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ1MTI4Nzk5", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/957#pullrequestreview-445128799", "createdAt": "2020-07-08T21:06:10Z", "commit": {"oid": "cd911750bd6cad70ae7632aae78b88c6abc53533"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ1MTMyNDM3", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/957#pullrequestreview-445132437", "createdAt": "2020-07-08T21:11:56Z", "commit": {"oid": "cd911750bd6cad70ae7632aae78b88c6abc53533"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOFQyMToxMTo1NlrOGu5ZgQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOFQyMToxMTo1NlrOGu5ZgQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTgyODA5Nw==", "bodyText": "Does it need to be an instrumented test? Wouldn't a JVM test be more efficient?", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/957#discussion_r451828097", "createdAt": "2020-07-08T21:11:56Z", "author": {"login": "shahzaibj"}, "path": "common/src/androidTest/java/com/microsoft/identity/common/internal/migration/AdalMigrationAdapterDeserializationTest.java", "diffHunk": "@@ -0,0 +1,139 @@\n+//  Copyright (c) Microsoft Corporation.\n+//  All rights reserved.\n+//\n+//  This code is licensed under the MIT License.\n+//\n+//  Permission is hereby granted, free of charge, to any person obtaining a copy\n+//  of this software and associated documentation files(the \"Software\"), to deal\n+//  in the Software without restriction, including without limitation the rights\n+//  to use, copy, modify, merge, publish, distribute, sublicense, and / or sell\n+//  copies of the Software, and to permit persons to whom the Software is\n+//  furnished to do so, subject to the following conditions :\n+//\n+//  The above copyright notice and this permission notice shall be included in\n+//  all copies or substantial portions of the Software.\n+//\n+//  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n+//  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n+//  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n+//  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n+//  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n+//  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n+//  THE SOFTWARE.\n+package com.microsoft.identity.common.internal.migration;\n+\n+import android.content.Context;\n+\n+import androidx.annotation.NonNull;\n+import androidx.test.platform.app.InstrumentationRegistry;\n+\n+import com.google.gson.Gson;\n+import com.microsoft.identity.common.internal.cache.ADALTokenCacheItem;\n+\n+import org.junit.After;\n+import org.junit.Before;\n+import org.junit.Test;\n+import org.junit.runner.RunWith;\n+import org.junit.runners.Parameterized;\n+\n+import java.util.Arrays;\n+import java.util.HashMap;\n+import java.util.Map;\n+\n+import static org.junit.Assert.assertEquals;\n+\n+@RunWith(Parameterized.class)\n+public class AdalMigrationAdapterDeserializationTest {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cd911750bd6cad70ae7632aae78b88c6abc53533"}, "originalPosition": 46}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "81f02b1f98dd4f78c46c65940bd42826ad2f607f", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/81f02b1f98dd4f78c46c65940bd42826ad2f607f", "committedDate": "2020-07-08T21:15:48Z", "message": "Naming tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e143f6dbbdd0787210be518e3bfdda4180635ae6", "author": {"user": {"login": "iambmelt", "name": "Brian Melton-Grace"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/e143f6dbbdd0787210be518e3bfdda4180635ae6", "committedDate": "2020-07-08T21:43:13Z", "message": "Making a robotest"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ1MTUxNDM3", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/957#pullrequestreview-445151437", "createdAt": "2020-07-08T21:46:01Z", "commit": {"oid": "e143f6dbbdd0787210be518e3bfdda4180635ae6"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1688, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}