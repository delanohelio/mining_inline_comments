{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMxOTc1NjYx", "number": 925, "title": "Add correlation id to local authentication result", "bodyText": "See MSAL pr: AzureAD/microsoft-authentication-library-for-android#1063 for context", "createdAt": "2020-06-09T18:02:53Z", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/925", "merged": true, "mergeCommit": {"oid": "9a129af01c3b9869a5defd4d04a204607cb3f448"}, "closed": true, "closedAt": "2020-06-15T17:46:55Z", "author": {"login": "shahzaibj"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcpo8PrgH2gAyNDMxOTc1NjYxOmZmYzk3YzQyNTYyZTJlMjNiYmJiYzBkZTM3Y2VkOGQ2NWFjNjBhN2M=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcqYdy3AH2gAyNDMxOTc1NjYxOmQzZDhjZDQ3OGE2NGQ5NTA2ZTBkOWZkYjFlZDM0NThiNjcyMzNjMjM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "ffc97c42562e2e23bbbbc0de37ced8d65ac60a7c", "author": {"user": {"login": "shahzaibj", "name": "Shahzaib"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/ffc97c42562e2e23bbbbc0de37ced8d65ac60a7c", "committedDate": "2020-06-09T17:58:59Z", "message": "Add correlation id to local authentication result"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI3NTM3MDI5", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/925#pullrequestreview-427537029", "createdAt": "2020-06-09T20:53:39Z", "commit": {"oid": "ffc97c42562e2e23bbbbc0de37ced8d65ac60a7c"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQyMDo1MzozOVrOGhb9HA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQyMDo1NDoxNFrOGhb-5A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzcxNDIwNA==", "bodyText": "should this become a method?", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/925#discussion_r437714204", "createdAt": "2020-06-09T20:53:39Z", "author": {"login": "AdamBJohnsonx"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/controllers/CommandDispatcher.java", "diffHunk": "@@ -341,6 +350,14 @@ public void onReceive(Context context, Intent intent) {\n                     sCommand = null;\n                     localBroadcastManager.unregisterReceiver(resultReceiver);\n \n+                    // set correlation id on Local Authentication Result\n+                    if (commandResult.getResult() != null &&\n+                            commandResult.getResult() instanceof LocalAuthenticationResult) {\n+                        final LocalAuthenticationResult localAuthenticationResult =\n+                                (LocalAuthenticationResult) commandResult.getResult();\n+                        localAuthenticationResult.setCorrelationId(correlationId);\n+                    }\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ffc97c42562e2e23bbbbc0de37ced8d65ac60a7c"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzcxNDY2MA==", "bodyText": "nit: @OverRide?", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/925#discussion_r437714660", "createdAt": "2020-06-09T20:54:14Z", "author": {"login": "AdamBJohnsonx"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/result/LocalAuthenticationResult.java", "diffHunk": "@@ -209,4 +210,14 @@ public AccessTokenRecord getAccessTokenRecord() {\n     public boolean isServicedFromCache() {\n         return mServicedFromCache;\n     }\n+\n+    public void setCorrelationId(@NonNull final String correlationId) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ffc97c42562e2e23bbbbc0de37ced8d65ac60a7c"}, "originalPosition": 13}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "21e14b3679de09f10658a2f08142f1ca41182627", "author": {"user": {"login": "shahzaibj", "name": "Shahzaib"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/21e14b3679de09f10658a2f08142f1ca41182627", "committedDate": "2020-06-09T22:23:36Z", "message": "Add separate method for setting correlation id on local auth result"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI3NTg5Mjcz", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/925#pullrequestreview-427589273", "createdAt": "2020-06-09T22:28:50Z", "commit": {"oid": "21e14b3679de09f10658a2f08142f1ca41182627"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0b618addbf0bc530c086df5d4cc03693973f470b", "author": {"user": {"login": "shahzaibj", "name": "Shahzaib"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/0b618addbf0bc530c086df5d4cc03693973f470b", "committedDate": "2020-06-09T22:30:26Z", "message": "Add new line at end of LocalAuthenticationResult.java"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI3NjM3NjU4", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/925#pullrequestreview-427637658", "createdAt": "2020-06-10T00:42:59Z", "commit": {"oid": "0b618addbf0bc530c086df5d4cc03693973f470b"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQwMDo0Mjo1OVrOGhhEzQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQwMDo0Mjo1OVrOGhhEzQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzc5ODA5Mw==", "bodyText": "I think it would be a good idea to comment on why we have the check for localAuthenticationResult.  I'm assuming for the broker scenarios, but adding the comment will help future readers.", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/925#discussion_r437798093", "createdAt": "2020-06-10T00:42:59Z", "author": {"login": "shoatman"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/controllers/CommandDispatcher.java", "diffHunk": "@@ -495,4 +502,15 @@ public static int getCachedResultCount() {\n         return sCommandResultCache.getSize();\n     }\n \n+    private static void setCorrelationIdOnResult(@NonNull final CommandResult commandResult,\n+                                                 @NonNull final String correlationId) {\n+        // set correlation id on Local Authentication Result\n+        if (commandResult.getResult() != null &&", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0b618addbf0bc530c086df5d4cc03693973f470b"}, "originalPosition": 35}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d3d8cd478a64d9506e0d9fdb1ed3458b67233c23", "author": {"user": {"login": "shahzaibj", "name": "Shahzaib"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/d3d8cd478a64d9506e0d9fdb1ed3458b67233c23", "committedDate": "2020-06-12T01:21:10Z", "message": "Merge branch 'dev' into shahzaibj/correlation-id"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1651, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}