{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMxOTc1NjYx", "number": 925, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQyMDo1MzozOVrOEEDU5w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQwMDo0Mjo1OVrOEEGkMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcyNjg0MjYzOnYy", "diffSide": "RIGHT", "path": "common/src/main/java/com/microsoft/identity/common/internal/controllers/CommandDispatcher.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQyMDo1MzozOVrOGhb9HA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQyMjoyNDoxNlrOGhef8w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzcxNDIwNA==", "bodyText": "should this become a method?", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/925#discussion_r437714204", "createdAt": "2020-06-09T20:53:39Z", "author": {"login": "AdamBJohnsonx"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/controllers/CommandDispatcher.java", "diffHunk": "@@ -341,6 +350,14 @@ public void onReceive(Context context, Intent intent) {\n                     sCommand = null;\n                     localBroadcastManager.unregisterReceiver(resultReceiver);\n \n+                    // set correlation id on Local Authentication Result\n+                    if (commandResult.getResult() != null &&\n+                            commandResult.getResult() instanceof LocalAuthenticationResult) {\n+                        final LocalAuthenticationResult localAuthenticationResult =\n+                                (LocalAuthenticationResult) commandResult.getResult();\n+                        localAuthenticationResult.setCorrelationId(correlationId);\n+                    }\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ffc97c42562e2e23bbbbc0de37ced8d65ac60a7c"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzc1NTg5MQ==", "bodyText": "@AdamBJohnsonx Addressed here: 21e14b3", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/925#discussion_r437755891", "createdAt": "2020-06-09T22:24:16Z", "author": {"login": "shahzaibj"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/controllers/CommandDispatcher.java", "diffHunk": "@@ -341,6 +350,14 @@ public void onReceive(Context context, Intent intent) {\n                     sCommand = null;\n                     localBroadcastManager.unregisterReceiver(resultReceiver);\n \n+                    // set correlation id on Local Authentication Result\n+                    if (commandResult.getResult() != null &&\n+                            commandResult.getResult() instanceof LocalAuthenticationResult) {\n+                        final LocalAuthenticationResult localAuthenticationResult =\n+                                (LocalAuthenticationResult) commandResult.getResult();\n+                        localAuthenticationResult.setCorrelationId(correlationId);\n+                    }\n+", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzcxNDIwNA=="}, "originalCommit": {"oid": "ffc97c42562e2e23bbbbc0de37ced8d65ac60a7c"}, "originalPosition": 34}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcyNjg0NTQ1OnYy", "diffSide": "RIGHT", "path": "common/src/main/java/com/microsoft/identity/common/internal/result/LocalAuthenticationResult.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQyMDo1NDoxNFrOGhb-5A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQyMTozMToxMlrOGhdLoQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzcxNDY2MA==", "bodyText": "nit: @OverRide?", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/925#discussion_r437714660", "createdAt": "2020-06-09T20:54:14Z", "author": {"login": "AdamBJohnsonx"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/result/LocalAuthenticationResult.java", "diffHunk": "@@ -209,4 +210,14 @@ public AccessTokenRecord getAccessTokenRecord() {\n     public boolean isServicedFromCache() {\n         return mServicedFromCache;\n     }\n+\n+    public void setCorrelationId(@NonNull final String correlationId) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ffc97c42562e2e23bbbbc0de37ced8d65ac60a7c"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzcyNTM0OA==", "bodyText": "The setter is not declared on the interface and instead declared directly here. So override isn't needed", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/925#discussion_r437725348", "createdAt": "2020-06-09T21:11:51Z", "author": {"login": "shahzaibj"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/result/LocalAuthenticationResult.java", "diffHunk": "@@ -209,4 +210,14 @@ public AccessTokenRecord getAccessTokenRecord() {\n     public boolean isServicedFromCache() {\n         return mServicedFromCache;\n     }\n+\n+    public void setCorrelationId(@NonNull final String correlationId) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzcxNDY2MA=="}, "originalCommit": {"oid": "ffc97c42562e2e23bbbbc0de37ced8d65ac60a7c"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzczNDMwNQ==", "bodyText": "Oops.  You're right.  It says set, not get.  You could @Setter that then if you wanted to.", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/925#discussion_r437734305", "createdAt": "2020-06-09T21:31:12Z", "author": {"login": "AdamBJohnsonx"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/result/LocalAuthenticationResult.java", "diffHunk": "@@ -209,4 +210,14 @@ public AccessTokenRecord getAccessTokenRecord() {\n     public boolean isServicedFromCache() {\n         return mServicedFromCache;\n     }\n+\n+    public void setCorrelationId(@NonNull final String correlationId) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzcxNDY2MA=="}, "originalCommit": {"oid": "ffc97c42562e2e23bbbbc0de37ced8d65ac60a7c"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcyNzM3MzMwOnYy", "diffSide": "RIGHT", "path": "common/src/main/java/com/microsoft/identity/common/internal/controllers/CommandDispatcher.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQwMDo0Mjo1OVrOGhhEzQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQwMDo1MToxMFrOGhhNHg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzc5ODA5Mw==", "bodyText": "I think it would be a good idea to comment on why we have the check for localAuthenticationResult.  I'm assuming for the broker scenarios, but adding the comment will help future readers.", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/925#discussion_r437798093", "createdAt": "2020-06-10T00:42:59Z", "author": {"login": "shoatman"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/controllers/CommandDispatcher.java", "diffHunk": "@@ -495,4 +502,15 @@ public static int getCachedResultCount() {\n         return sCommandResultCache.getSize();\n     }\n \n+    private static void setCorrelationIdOnResult(@NonNull final CommandResult commandResult,\n+                                                 @NonNull final String correlationId) {\n+        // set correlation id on Local Authentication Result\n+        if (commandResult.getResult() != null &&", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0b618addbf0bc530c086df5d4cc03693973f470b"}, "originalPosition": 35}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzc5ODg0Mw==", "bodyText": "Sure, I'll add that - the check is there because CommandResult is a generic object and can contain the result of other commands such as GetAccount command or GetDeviceCommand and those results are not instances of LocalAuthenticationResult and don't contain a property for correlation id.", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/925#discussion_r437798843", "createdAt": "2020-06-10T00:45:50Z", "author": {"login": "shahzaibj"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/controllers/CommandDispatcher.java", "diffHunk": "@@ -495,4 +502,15 @@ public static int getCachedResultCount() {\n         return sCommandResultCache.getSize();\n     }\n \n+    private static void setCorrelationIdOnResult(@NonNull final CommandResult commandResult,\n+                                                 @NonNull final String correlationId) {\n+        // set correlation id on Local Authentication Result\n+        if (commandResult.getResult() != null &&", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzc5ODA5Mw=="}, "originalCommit": {"oid": "0b618addbf0bc530c086df5d4cc03693973f470b"}, "originalPosition": 35}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzgwMDIyMg==", "bodyText": "I think it's the local prefix that confuses me here.  So perhaps the comment isn't required...", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/925#discussion_r437800222", "createdAt": "2020-06-10T00:51:10Z", "author": {"login": "shoatman"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/controllers/CommandDispatcher.java", "diffHunk": "@@ -495,4 +502,15 @@ public static int getCachedResultCount() {\n         return sCommandResultCache.getSize();\n     }\n \n+    private static void setCorrelationIdOnResult(@NonNull final CommandResult commandResult,\n+                                                 @NonNull final String correlationId) {\n+        // set correlation id on Local Authentication Result\n+        if (commandResult.getResult() != null &&", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzc5ODA5Mw=="}, "originalCommit": {"oid": "0b618addbf0bc530c086df5d4cc03693973f470b"}, "originalPosition": 35}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2379, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}