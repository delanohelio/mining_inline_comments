{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY4Nzg4NjQ0", "number": 795, "title": "Add spinner on first page load", "bodyText": "", "createdAt": "2020-01-29T22:02:39Z", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/795", "merged": true, "mergeCommit": {"oid": "c86a7fdd03e43fd1e7cf90eb8872606f40966834"}, "closed": true, "closedAt": "2020-01-30T18:42:20Z", "author": {"login": "rpdome"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb_NTawAH2gAyMzY4Nzg4NjQ0OjhjNmNjOGU3YTIxZjEwYzA1ZjRjMmNlYjczNWE5MWIyMjY4YzQ3OGQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb_dtFdgFqTM1MDk5Mjg1OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "8c6cc8e7a21f10c05f4c2ceb735a91b2268c478d", "author": {"user": {"login": "rpdome", "name": "Dome Pongmongkol"}}, "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/commit/8c6cc8e7a21f10c05f4c2ceb735a91b2268c478d", "committedDate": "2020-01-29T22:02:08Z", "message": "Add spinner on first page load"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUwNDcyNTEy", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/795#pullrequestreview-350472512", "createdAt": "2020-01-29T22:33:19Z", "commit": {"oid": "8c6cc8e7a21f10c05f4c2ceb735a91b2268c478d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOVQyMjozMzoxOVrOFjZ4BQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOVQyMjozMzoxOVrOFjZ4BQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjY2ODQyMQ==", "bodyText": "As a thought, what if this callback also listened for onPageStarted() so that the WebView determines both when to show and dismiss the spinner? Currently there's a bit of action-at-a-distance where onStart() shows and the callback hides.", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/795#discussion_r372668421", "createdAt": "2020-01-29T22:33:19Z", "author": {"login": "iambmelt"}, "path": "common/src/main/java/com/microsoft/identity/common/internal/providers/oauth2/WebViewAuthorizationFragment.java", "diffHunk": "@@ -80,10 +84,18 @@ void extractState(final Bundle state){\n     @Override\n     public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n         final View view = inflater.inflate(R.layout.common_activity_authentication, container, false);\n+        mProgressBar = view.findViewById(R.id.common_auth_webview_progressbar);\n \n         AzureActiveDirectoryWebViewClient webViewClient = new AzureActiveDirectoryWebViewClient(\n                 getActivity(),\n-                new AuthorizationCompletionCallback(), mRedirectUri);\n+                new AuthorizationCompletionCallback(),\n+                new OnPageLoadedCallback() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8c6cc8e7a21f10c05f4c2ceb735a91b2268c478d"}, "originalPosition": 35}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUwNDc4Nzk5", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/795#pullrequestreview-350478799", "createdAt": "2020-01-29T22:46:30Z", "commit": {"oid": "8c6cc8e7a21f10c05f4c2ceb735a91b2268c478d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUwOTkyODU4", "url": "https://github.com/AzureAD/microsoft-authentication-library-common-for-android/pull/795#pullrequestreview-350992858", "createdAt": "2020-01-30T17:08:40Z", "commit": {"oid": "8c6cc8e7a21f10c05f4c2ceb735a91b2268c478d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1725, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}