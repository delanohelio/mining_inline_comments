{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg0ODgxMzM0", "number": 928, "reviewThreads": {"totalCount": 18, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMVQwOTo1MTo0OFrOEieWFw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xN1QxMDowNjo0NFrOEkdplA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA0NTg0MjE1OnYy", "diffSide": "RIGHT", "path": "docs/modules/plugins/pages/plugin-rest-api.adoc", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMVQwOTo1MTo0OFrOHQX3Qw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMVQwOTo1MTo0OFrOHQX3Qw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjkzMDI0Mw==", "bodyText": "the step doesn't really check anything", "url": "https://github.com/vividus-framework/vividus/pull/928#discussion_r486930243", "createdAt": "2020-09-11T09:51:48Z", "author": {"login": "valfirst"}, "path": "docs/modules/plugins/pages/plugin-rest-api.adoc", "diffHunk": "@@ -88,6 +88,37 @@ When I wait for presence of element by `$.data.testData` with `PT5S` polling int\n |When I issue a HTTP GET request for a resource with the URL '${requestUrl}'|\n ----\n \n+=== Adding headers to HTTP request\n+\n+==== *_Info_*\n+\n+Checks that header `name` and `value` have been added to request", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "060714758a74985e274c37b0b712b4f89988c11e"}, "originalPosition": 8}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA0NTg0NDU1OnYy", "diffSide": "RIGHT", "path": "docs/modules/plugins/pages/plugin-rest-api.adoc", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMVQwOTo1MjowOVrOHQX4zg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMVQwOTo1MjowOVrOHQX4zg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjkzMDYzOA==", "bodyText": "possibility", "url": "https://github.com/vividus-framework/vividus/pull/928#discussion_r486930638", "createdAt": "2020-09-11T09:52:09Z", "author": {"login": "valfirst"}, "path": "docs/modules/plugins/pages/plugin-rest-api.adoc", "diffHunk": "@@ -88,6 +88,37 @@ When I wait for presence of element by `$.data.testData` with `PT5S` polling int\n |When I issue a HTTP GET request for a resource with the URL '${requestUrl}'|\n ----\n \n+=== Adding headers to HTTP request\n+\n+==== *_Info_*\n+\n+Checks that header `name` and `value` have been added to request\n+\n+==== *_Wording_*\n+\n+[source,gherkin]\n+----\n+When I add request header with name `$name` and value `$value`\n+----\n+\n+==== *_Parameters_*\n+\n+.  `name` - header name\n+.  `value` - header value\n+\n+==== *_Usage_*\n+\n+.Sample.story\n+[source,gherkin]\n+----\n+Scenario: Verify possobility to add request header with name and value", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "060714758a74985e274c37b0b712b4f89988c11e"}, "originalPosition": 27}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA0NTg0ODE4OnYy", "diffSide": "RIGHT", "path": "docs/modules/plugins/pages/plugin-rest-api.adoc", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMVQwOTo1Mjo0OFrOHQX7Pg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQwOToyMDoxMlrOHRLJQw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjkzMTI2Mg==", "bodyText": "it's better to use HTTP GET here", "url": "https://github.com/vividus-framework/vividus/pull/928#discussion_r486931262", "createdAt": "2020-09-11T09:52:48Z", "author": {"login": "valfirst"}, "path": "docs/modules/plugins/pages/plugin-rest-api.adoc", "diffHunk": "@@ -88,6 +88,37 @@ When I wait for presence of element by `$.data.testData` with `PT5S` polling int\n |When I issue a HTTP GET request for a resource with the URL '${requestUrl}'|\n ----\n \n+=== Adding headers to HTTP request\n+\n+==== *_Info_*\n+\n+Checks that header `name` and `value` have been added to request\n+\n+==== *_Wording_*\n+\n+[source,gherkin]\n+----\n+When I add request header with name `$name` and value `$value`\n+----\n+\n+==== *_Parameters_*\n+\n+.  `name` - header name\n+.  `value` - header value\n+\n+==== *_Usage_*\n+\n+.Sample.story\n+[source,gherkin]\n+----\n+Scenario: Verify possobility to add request header with name and value\n+When I add request headers:\n+|name  |value |\n+|name  |value |\n+When I send HTTP POST to the relative URL '/post'", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "060714758a74985e274c37b0b712b4f89988c11e"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Nzc3MDQzNQ==", "bodyText": "@TatianaTochko \u261d\ufe0f", "url": "https://github.com/vividus-framework/vividus/pull/928#discussion_r487770435", "createdAt": "2020-09-14T09:20:12Z", "author": {"login": "valfirst"}, "path": "docs/modules/plugins/pages/plugin-rest-api.adoc", "diffHunk": "@@ -88,6 +88,37 @@ When I wait for presence of element by `$.data.testData` with `PT5S` polling int\n |When I issue a HTTP GET request for a resource with the URL '${requestUrl}'|\n ----\n \n+=== Adding headers to HTTP request\n+\n+==== *_Info_*\n+\n+Checks that header `name` and `value` have been added to request\n+\n+==== *_Wording_*\n+\n+[source,gherkin]\n+----\n+When I add request header with name `$name` and value `$value`\n+----\n+\n+==== *_Parameters_*\n+\n+.  `name` - header name\n+.  `value` - header value\n+\n+==== *_Usage_*\n+\n+.Sample.story\n+[source,gherkin]\n+----\n+Scenario: Verify possobility to add request header with name and value\n+When I add request headers:\n+|name  |value |\n+|name  |value |\n+When I send HTTP POST to the relative URL '/post'", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjkzMTI2Mg=="}, "originalCommit": {"oid": "060714758a74985e274c37b0b712b4f89988c11e"}, "originalPosition": 31}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA0NTg1MDQ2OnYy", "diffSide": "RIGHT", "path": "docs/modules/plugins/pages/plugin-rest-api.adoc", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMVQwOTo1MzoxNVrOHQX8uA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQwOToyMDo0OFrOHRLKkw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjkzMTY0MA==", "bodyText": "keep the same case", "url": "https://github.com/vividus-framework/vividus/pull/928#discussion_r486931640", "createdAt": "2020-09-11T09:53:15Z", "author": {"login": "valfirst"}, "path": "docs/modules/plugins/pages/plugin-rest-api.adoc", "diffHunk": "@@ -88,6 +88,37 @@ When I wait for presence of element by `$.data.testData` with `PT5S` polling int\n |When I issue a HTTP GET request for a resource with the URL '${requestUrl}'|\n ----\n \n+=== Adding headers to HTTP request\n+\n+==== *_Info_*\n+\n+Checks that header `name` and `value` have been added to request\n+\n+==== *_Wording_*\n+\n+[source,gherkin]\n+----\n+When I add request header with name `$name` and value `$value`\n+----\n+\n+==== *_Parameters_*\n+\n+.  `name` - header name\n+.  `value` - header value\n+\n+==== *_Usage_*\n+\n+.Sample.story\n+[source,gherkin]\n+----\n+Scenario: Verify possobility to add request header with name and value\n+When I add request headers:\n+|name  |value |\n+|name  |value |\n+When I send HTTP POST to the relative URL '/post'\n+Then a JSON element by the JSON path '$.headers.Name' is equal to '\"Value\"'", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "060714758a74985e274c37b0b712b4f89988c11e"}, "originalPosition": 32}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Nzc3MDc3MQ==", "bodyText": "@TatianaTochko \u261d\ufe0f", "url": "https://github.com/vividus-framework/vividus/pull/928#discussion_r487770771", "createdAt": "2020-09-14T09:20:48Z", "author": {"login": "valfirst"}, "path": "docs/modules/plugins/pages/plugin-rest-api.adoc", "diffHunk": "@@ -88,6 +88,37 @@ When I wait for presence of element by `$.data.testData` with `PT5S` polling int\n |When I issue a HTTP GET request for a resource with the URL '${requestUrl}'|\n ----\n \n+=== Adding headers to HTTP request\n+\n+==== *_Info_*\n+\n+Checks that header `name` and `value` have been added to request\n+\n+==== *_Wording_*\n+\n+[source,gherkin]\n+----\n+When I add request header with name `$name` and value `$value`\n+----\n+\n+==== *_Parameters_*\n+\n+.  `name` - header name\n+.  `value` - header value\n+\n+==== *_Usage_*\n+\n+.Sample.story\n+[source,gherkin]\n+----\n+Scenario: Verify possobility to add request header with name and value\n+When I add request headers:\n+|name  |value |\n+|name  |value |\n+When I send HTTP POST to the relative URL '/post'\n+Then a JSON element by the JSON path '$.headers.Name' is equal to '\"Value\"'", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjkzMTY0MA=="}, "originalCommit": {"oid": "060714758a74985e274c37b0b712b4f89988c11e"}, "originalPosition": 32}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA0NTg1NjI0OnYy", "diffSide": "RIGHT", "path": "vividus-plugin-rest-api/src/main/java/org/vividus/bdd/steps/api/HttpRequestSteps.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMVQwOTo1NDoxN1rOHQYAqw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMVQwOTo1NDoxN1rOHQYAqw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjkzMjY1MQ==", "bodyText": "duplicated code, please, avoid copy-paste-s", "url": "https://github.com/vividus-framework/vividus/pull/928#discussion_r486932651", "createdAt": "2020-09-11T09:54:17Z", "author": {"login": "valfirst"}, "path": "vividus-plugin-rest-api/src/main/java/org/vividus/bdd/steps/api/HttpRequestSteps.java", "diffHunk": "@@ -116,6 +116,20 @@ public void setUpRequestHeaders(ExamplesTable headers)\n         httpTestContext.putRequestHeaders(requestHeaders);\n     }\n \n+    /**\n+     * Add request headers\n+     * @param headers ExamplesTable representing list of headers with columns \"name\" and \"value\" specifying HTTP header\n+     * names and values respectively\n+     */\n+    @When(\"I add request headers:$headers\")\n+    public void addRequestHeaders(ExamplesTable headers)\n+    {\n+        List<Header> requestHeaders = headers.getRowsAsParameters(true).stream()\n+                .map(row -> new BasicHeader(row.valueAs(NAME, String.class), row.valueAs(VALUE, String.class)))\n+                .collect(toList());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "060714758a74985e274c37b0b712b4f89988c11e"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA0NTk0MzE3OnYy", "diffSide": "RIGHT", "path": "vividus-plugin-rest-api/src/main/java/org/vividus/http/HttpTestContext.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMVQxMDoxMDoxNVrOHQY7JQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMVQxMDoxMDoxNVrOHQY7JQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Njk0NzYyMQ==", "bodyText": "please add unit tests", "url": "https://github.com/vividus-framework/vividus/pull/928#discussion_r486947621", "createdAt": "2020-09-11T10:10:15Z", "author": {"login": "valfirst"}, "path": "vividus-plugin-rest-api/src/main/java/org/vividus/http/HttpTestContext.java", "diffHunk": "@@ -48,6 +48,11 @@ public void putRequestHeaders(List<Header> requestHeaders)\n         getData().requestHeaders = requestHeaders;\n     }\n \n+    public void addRequestHeaders(List<Header> requestHeaders)\n+    {\n+        getData().requestHeaders.addAll(requestHeaders);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "060714758a74985e274c37b0b712b4f89988c11e"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA0NTk0NjAwOnYy", "diffSide": "RIGHT", "path": "vividus-tests/src/main/resources/story/integration/RestApiStepsTests.story", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMVQxMDoxMToxMVrOHQY85w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMVQxMDoxMToxMVrOHQY85w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Njk0ODA3MQ==", "bodyText": "please format in a table-like view", "url": "https://github.com/vividus-framework/vividus/pull/928#discussion_r486948071", "createdAt": "2020-09-11T10:11:11Z", "author": {"login": "valfirst"}, "path": "vividus-tests/src/main/resources/story/integration/RestApiStepsTests.story", "diffHunk": "@@ -36,3 +36,17 @@ Scenario: Verify step \"Then the connection is secured using $securityProtocol pr\n Given request body: ${request-body}\n When I send HTTP DELETE to the relative URL '/delete'\n Then the connection is secured using TLSv1.2 protocol\n+\n+Scenario: Verify step \"I add request headers:$headers\"\n+Given request body: ${request-body}\n+When I set request headers:\n+|name        |value           |\n+|Content-Type|application/json|\n+Then `${responseCode}` is equal to `200`\n+When I add request headers:\n+|name          |value         |", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "060714758a74985e274c37b0b712b4f89988c11e"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA1MTUzNjk5OnYy", "diffSide": "RIGHT", "path": ".gitignore", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQwODoyNzozOVrOHRJLWw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQwODoyNzozOVrOHRJLWw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzczODIwMw==", "bodyText": "invalid change", "url": "https://github.com/vividus-framework/vividus/pull/928#discussion_r487738203", "createdAt": "2020-09-14T08:27:39Z", "author": {"login": "valfirst"}, "path": ".gitignore", "diffHunk": "@@ -14,3 +14,6 @@\n #Build Dirs#\n output/\n .out/**\n+*.properties\n+*.jar\n+*.properties", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c9764ee6cf85f5b682a0de6eef3e382e29b72e58"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA1MTUzOTcxOnYy", "diffSide": "RIGHT", "path": "vividus-plugin-rest-api/src/main/java/org/vividus/bdd/steps/api/HttpRequestSteps.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQwODoyODoxN1rOHRJM7Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQwODoyODoxN1rOHRJM7Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzczODYwNQ==", "bodyText": "it's better to keep such methods before setters", "url": "https://github.com/vividus-framework/vividus/pull/928#discussion_r487738605", "createdAt": "2020-09-14T08:28:17Z", "author": {"login": "valfirst"}, "path": "vividus-plugin-rest-api/src/main/java/org/vividus/bdd/steps/api/HttpRequestSteps.java", "diffHunk": "@@ -255,4 +265,11 @@ public void setApiEndpoint(String apiEndpoint)\n     {\n         this.apiEndpoint = apiEndpoint;\n     }\n+\n+    private List<Header> getRequestHeaders(ExamplesTable headers)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c9764ee6cf85f5b682a0de6eef3e382e29b72e58"}, "originalPosition": 31}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA1MzE2MjA4OnYy", "diffSide": "RIGHT", "path": "docs/modules/plugins/pages/plugin-rest-api.adoc", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQxNDo0MDozN1rOHRYSHA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xN1QxNToxOTowMVrOHTnxXQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Nzk4NTY5Mg==", "bodyText": "please include some link to docs about req headers", "url": "https://github.com/vividus-framework/vividus/pull/928#discussion_r487985692", "createdAt": "2020-09-14T14:40:37Z", "author": {"login": "uarlouski"}, "path": "docs/modules/plugins/pages/plugin-rest-api.adoc", "diffHunk": "@@ -88,6 +88,37 @@ When I wait for presence of element by `$.data.testData` with `PT5S` polling int\n |When I issue a HTTP GET request for a resource with the URL '${requestUrl}'|\n ----\n \n+=== Adding headers to HTTP request\n+\n+==== *_Info_*\n+\n+Adds request headers to request", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "eb5dd27edbfd891229bc11a8d5cb89510c764050"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDMzNjYwNQ==", "bodyText": "too many request words in one sentence, please, make it concise", "url": "https://github.com/vividus-framework/vividus/pull/928#discussion_r490336605", "createdAt": "2020-09-17T15:19:01Z", "author": {"login": "valfirst"}, "path": "docs/modules/plugins/pages/plugin-rest-api.adoc", "diffHunk": "@@ -88,6 +88,37 @@ When I wait for presence of element by `$.data.testData` with `PT5S` polling int\n |When I issue a HTTP GET request for a resource with the URL '${requestUrl}'|\n ----\n \n+=== Adding headers to HTTP request\n+\n+==== *_Info_*\n+\n+Adds request headers to request", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Nzk4NTY5Mg=="}, "originalCommit": {"oid": "eb5dd27edbfd891229bc11a8d5cb89510c764050"}, "originalPosition": 8}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA1MzE4MjQwOnYy", "diffSide": "RIGHT", "path": "vividus-plugin-rest-api/src/main/java/org/vividus/bdd/steps/api/HttpRequestSteps.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQxNDo0NDo0MlrOHRYeXw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQxNDo0NDo0MlrOHRYeXw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Nzk4ODgzMQ==", "bodyText": "maybe create function like\nvoid performWithHeaders(ExamplesTable headers, Consumer<List<Header>> headersConsumer) \n\nto inline setUpRequestHeaders and addRequestHeaders methods bodies", "url": "https://github.com/vividus-framework/vividus/pull/928#discussion_r487988831", "createdAt": "2020-09-14T14:44:42Z", "author": {"login": "uarlouski"}, "path": "vividus-plugin-rest-api/src/main/java/org/vividus/bdd/steps/api/HttpRequestSteps.java", "diffHunk": "@@ -110,12 +110,22 @@ public void putMultipartRequest(ExamplesTable requestParts)\n     @When(\"I set request headers:$headers\")\n     public void setUpRequestHeaders(ExamplesTable headers)\n     {\n-        List<Header> requestHeaders = headers.getRowsAsParameters(true).stream()\n-                .map(row -> new BasicHeader(row.valueAs(NAME, String.class), row.valueAs(VALUE, String.class)))\n-                .collect(toList());\n+        List<Header> requestHeaders = getRequestHeaders(headers);\n         httpTestContext.putRequestHeaders(requestHeaders);\n     }\n \n+    /**\n+     * Add request headers\n+     * @param headers ExamplesTable representing list of headers with columns \"name\" and \"value\" specifying HTTP header\n+     * names and values respectively\n+     */\n+    @When(\"I add request headers:$headers\")\n+    public void addRequestHeaders(ExamplesTable headers)\n+    {\n+        List<Header> requestHeaders = getRequestHeaders(headers);\n+        httpTestContext.addRequestHeaders(requestHeaders);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "eb5dd27edbfd891229bc11a8d5cb89510c764050"}, "originalPosition": 20}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA1MzE4ODgxOnYy", "diffSide": "RIGHT", "path": "docs/modules/plugins/pages/plugin-rest-api.adoc", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQxNDo0NjowMFrOHRYiFA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQxNDo0NjowMFrOHRYiFA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Nzk4OTc4MA==", "bodyText": "please use some real header, imho example story will look better by doing this", "url": "https://github.com/vividus-framework/vividus/pull/928#discussion_r487989780", "createdAt": "2020-09-14T14:46:00Z", "author": {"login": "uarlouski"}, "path": "docs/modules/plugins/pages/plugin-rest-api.adoc", "diffHunk": "@@ -88,6 +88,37 @@ When I wait for presence of element by `$.data.testData` with `PT5S` polling int\n |When I issue a HTTP GET request for a resource with the URL '${requestUrl}'|\n ----\n \n+=== Adding headers to HTTP request\n+\n+==== *_Info_*\n+\n+Adds request headers to request\n+\n+==== *_Wording_*\n+\n+[source,gherkin]\n+----\n+When I add request header with name `$name` and value `$value`\n+----\n+\n+==== *_Parameters_*\n+\n+.  `name` - header name\n+.  `value` - header value\n+\n+==== *_Usage_*\n+\n+.Sample.story\n+[source,gherkin]\n+----\n+Scenario: Verify possibility to add request header with name Name and value Value\n+When I add request headers:\n+|name  |value |\n+|Name  |Value |", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "eb5dd27edbfd891229bc11a8d5cb89510c764050"}, "originalPosition": 30}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA1NjE1MDg3OnYy", "diffSide": "RIGHT", "path": "vividus-plugin-rest-api/src/main/java/org/vividus/bdd/steps/api/HttpRequestSteps.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQwNzoyMjozMVrOHR0M6g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQwNzoyMjo0MFrOHR0NQA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODQ0MzExNA==", "bodyText": "Let's use the Header converter?", "url": "https://github.com/vividus-framework/vividus/pull/928#discussion_r488443114", "createdAt": "2020-09-15T07:22:31Z", "author": {"login": "ikalinin1"}, "path": "vividus-plugin-rest-api/src/main/java/org/vividus/bdd/steps/api/HttpRequestSteps.java", "diffHunk": "@@ -110,12 +110,22 @@ public void putMultipartRequest(ExamplesTable requestParts)\n     @When(\"I set request headers:$headers\")\n     public void setUpRequestHeaders(ExamplesTable headers)\n     {\n-        List<Header> requestHeaders = headers.getRowsAsParameters(true).stream()\n-                .map(row -> new BasicHeader(row.valueAs(NAME, String.class), row.valueAs(VALUE, String.class)))\n-                .collect(toList());\n+        List<Header> requestHeaders = getRequestHeaders(headers);\n         httpTestContext.putRequestHeaders(requestHeaders);\n     }\n \n+    /**\n+     * Add request headers\n+     * @param headers ExamplesTable representing list of headers with columns \"name\" and \"value\" specifying HTTP header\n+     * names and values respectively\n+     */\n+    @When(\"I add request headers:$headers\")\n+    public void addRequestHeaders(ExamplesTable headers)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "eb5dd27edbfd891229bc11a8d5cb89510c764050"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODQ0MzIwMA==", "bodyText": "cc @valfirst", "url": "https://github.com/vividus-framework/vividus/pull/928#discussion_r488443200", "createdAt": "2020-09-15T07:22:40Z", "author": {"login": "ikalinin1"}, "path": "vividus-plugin-rest-api/src/main/java/org/vividus/bdd/steps/api/HttpRequestSteps.java", "diffHunk": "@@ -110,12 +110,22 @@ public void putMultipartRequest(ExamplesTable requestParts)\n     @When(\"I set request headers:$headers\")\n     public void setUpRequestHeaders(ExamplesTable headers)\n     {\n-        List<Header> requestHeaders = headers.getRowsAsParameters(true).stream()\n-                .map(row -> new BasicHeader(row.valueAs(NAME, String.class), row.valueAs(VALUE, String.class)))\n-                .collect(toList());\n+        List<Header> requestHeaders = getRequestHeaders(headers);\n         httpTestContext.putRequestHeaders(requestHeaders);\n     }\n \n+    /**\n+     * Add request headers\n+     * @param headers ExamplesTable representing list of headers with columns \"name\" and \"value\" specifying HTTP header\n+     * names and values respectively\n+     */\n+    @When(\"I add request headers:$headers\")\n+    public void addRequestHeaders(ExamplesTable headers)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODQ0MzExNA=="}, "originalCommit": {"oid": "eb5dd27edbfd891229bc11a8d5cb89510c764050"}, "originalPosition": 17}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA2NjQwMDE0OnYy", "diffSide": "RIGHT", "path": "vividus-plugin-rest-api/src/main/java/org/vividus/bdd/steps/api/HttpRequestSteps.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xN1QwODo1Mjo1OVrOHTYIaQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xN1QwODo1Mjo1OVrOHTYIaQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDA4MDM2MQ==", "bodyText": "it can be inlined", "url": "https://github.com/vividus-framework/vividus/pull/928#discussion_r490080361", "createdAt": "2020-09-17T08:52:59Z", "author": {"login": "valfirst"}, "path": "vividus-plugin-rest-api/src/main/java/org/vividus/bdd/steps/api/HttpRequestSteps.java", "diffHunk": "@@ -233,6 +242,19 @@ public void waitForResponseCode(int responseCode, Duration duration, int retryTi\n         );\n     }\n \n+    public void performWithHeaders(ExamplesTable headers, Consumer<List<Header>> headersConsumer)\n+    {\n+        List<Header> requestHeaders = getRequestHeaders(headers);\n+        headersConsumer.accept(requestHeaders);\n+    }\n+\n+    private List<Header> getRequestHeaders(ExamplesTable headers)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ab9cfcad02e63a6cfc95187beb352930c9279e54"}, "originalPosition": 41}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA2NjQwMDc2OnYy", "diffSide": "RIGHT", "path": "vividus-plugin-rest-api/src/main/java/org/vividus/bdd/steps/api/HttpRequestSteps.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xN1QwODo1MzowOFrOHTYI0Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xN1QwODo1MzowOFrOHTYI0Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDA4MDQ2NQ==", "bodyText": "it shouldn't be public", "url": "https://github.com/vividus-framework/vividus/pull/928#discussion_r490080465", "createdAt": "2020-09-17T08:53:08Z", "author": {"login": "valfirst"}, "path": "vividus-plugin-rest-api/src/main/java/org/vividus/bdd/steps/api/HttpRequestSteps.java", "diffHunk": "@@ -233,6 +242,19 @@ public void waitForResponseCode(int responseCode, Duration duration, int retryTi\n         );\n     }\n \n+    public void performWithHeaders(ExamplesTable headers, Consumer<List<Header>> headersConsumer)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ab9cfcad02e63a6cfc95187beb352930c9279e54"}, "originalPosition": 35}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA2NjY5NzkxOnYy", "diffSide": "RIGHT", "path": "docs/modules/plugins/pages/plugin-rest-api.adoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xN1QxMDowNjoxMFrOHTa8Jw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xN1QxMDowNjoxMFrOHTa8Jw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDEyNjM3NQ==", "bodyText": ".  `\n\nduplicate whitespace", "url": "https://github.com/vividus-framework/vividus/pull/928#discussion_r490126375", "createdAt": "2020-09-17T10:06:10Z", "author": {"login": "valfirst"}, "path": "docs/modules/plugins/pages/plugin-rest-api.adoc", "diffHunk": "@@ -88,6 +88,37 @@ When I wait for presence of element by `$.data.testData` with `PT5S` polling int\n |When I issue a HTTP GET request for a resource with the URL '${requestUrl}'|\n ----\n \n+=== Adding headers to HTTP request\n+\n+==== *_Info_*\n+\n+Adds request headers to request\n+\n+==== *_Wording_*\n+\n+[source,gherkin]\n+----\n+When I add request header with name `$name` and value `$value`\n+----\n+\n+==== *_Parameters_*\n+\n+.  `name` - header name\n+.  `value` - header value", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fd81207dc0f25d7a326e8cd7178b5a49179c0ce4"}, "originalPosition": 20}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA2NjY5ODEyOnYy", "diffSide": "RIGHT", "path": "docs/modules/plugins/pages/plugin-rest-api.adoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xN1QxMDowNjoxM1rOHTa8Qg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xN1QxMDowNjoxM1rOHTa8Qg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDEyNjQwMg==", "bodyText": ".  `\n\nduplicate whitespace", "url": "https://github.com/vividus-framework/vividus/pull/928#discussion_r490126402", "createdAt": "2020-09-17T10:06:13Z", "author": {"login": "valfirst"}, "path": "docs/modules/plugins/pages/plugin-rest-api.adoc", "diffHunk": "@@ -88,6 +88,37 @@ When I wait for presence of element by `$.data.testData` with `PT5S` polling int\n |When I issue a HTTP GET request for a resource with the URL '${requestUrl}'|\n ----\n \n+=== Adding headers to HTTP request\n+\n+==== *_Info_*\n+\n+Adds request headers to request\n+\n+==== *_Wording_*\n+\n+[source,gherkin]\n+----\n+When I add request header with name `$name` and value `$value`\n+----\n+\n+==== *_Parameters_*\n+\n+.  `name` - header name", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fd81207dc0f25d7a326e8cd7178b5a49179c0ce4"}, "originalPosition": 19}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA2NjY5OTcyOnYy", "diffSide": "RIGHT", "path": "vividus-http-client/src/main/java/org/vividus/http/exception/HttpRequestBuildException.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xN1QxMDowNjo0NFrOHTa9Sw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xN1QxMDowNzozNFrOHTa_Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDEyNjY2Nw==", "bodyText": "it's not related to the current PR", "url": "https://github.com/vividus-framework/vividus/pull/928#discussion_r490126667", "createdAt": "2020-09-17T10:06:44Z", "author": {"login": "valfirst"}, "path": "vividus-http-client/src/main/java/org/vividus/http/exception/HttpRequestBuildException.java", "diffHunk": "@@ -16,7 +16,9 @@\n \n package org.vividus.http.exception;\n \n-public class HttpRequestBuildException extends Exception\n+import java.io.IOException;\n+\n+public class HttpRequestBuildException extends IOException", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fd81207dc0f25d7a326e8cd7178b5a49179c0ce4"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDEyNzE1NA==", "bodyText": "a lot of noisy changes coming from another PRs/commits", "url": "https://github.com/vividus-framework/vividus/pull/928#discussion_r490127154", "createdAt": "2020-09-17T10:07:34Z", "author": {"login": "valfirst"}, "path": "vividus-http-client/src/main/java/org/vividus/http/exception/HttpRequestBuildException.java", "diffHunk": "@@ -16,7 +16,9 @@\n \n package org.vividus.http.exception;\n \n-public class HttpRequestBuildException extends Exception\n+import java.io.IOException;\n+\n+public class HttpRequestBuildException extends IOException", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDEyNjY2Nw=="}, "originalCommit": {"oid": "fd81207dc0f25d7a326e8cd7178b5a49179c0ce4"}, "originalPosition": 7}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 101, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}