{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkxODEzNTE2", "number": 965, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QxNDoxNTo0MFrOEmn5fg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QxNjowMDowNlrOEmq-SA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA4OTM1MDM4OnYy", "diffSide": "RIGHT", "path": "docs/modules/integrations/pages/xray-exporter.adoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QxNDoxNTo0MFrOHWwtgw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QxNDoxNTo0MFrOHWwtgw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzYyODgwMw==", "bodyText": "assignee should follow after project-key  since they belong to a common area", "url": "https://github.com/vividus-framework/vividus/pull/965#discussion_r493628803", "createdAt": "2020-09-23T14:15:40Z", "author": {"login": "valfirst"}, "path": "docs/modules/integrations/pages/xray-exporter.adoc", "diffHunk": "@@ -34,6 +34,10 @@ Please make sure that the `bdd.configuration.formats` property includes JSON val\n |false\n |Statuses of test cases allowed to update\n \n+|`xray-exporter.assignee`", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b406dc31dbe63ac3e018a141bd611818f45ed29f"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA4OTM1MjIyOnYy", "diffSide": "RIGHT", "path": "docs/modules/integrations/pages/xray-exporter.adoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QxNDoxNjowMFrOHWwurQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QxNDoxNjowMFrOHWwurQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzYyOTEwMQ==", "bodyText": "Username of Jira user that ...?", "url": "https://github.com/vividus-framework/vividus/pull/965#discussion_r493629101", "createdAt": "2020-09-23T14:16:00Z", "author": {"login": "valfirst"}, "path": "docs/modules/integrations/pages/xray-exporter.adoc", "diffHunk": "@@ -34,6 +34,10 @@ Please make sure that the `bdd.configuration.formats` property includes JSON val\n |false\n |Statuses of test cases allowed to update\n \n+|`xray-exporter.assignee`\n+|false\n+|Jira username that will be used as assignee for newly created test cases", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b406dc31dbe63ac3e018a141bd611818f45ed29f"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA4OTM2MTI3OnYy", "diffSide": "RIGHT", "path": "vividus-to-xray-exporter/src/main/java/org/vividus/xray/databind/ManualTestCaseSerializer.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QxNDoxNzo1NFrOHWw0mg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QxNDo1ODo1NFrOHWy2GQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzYzMDYxOA==", "bodyText": "shouldn't you put this check on the particular field? this change is not safe since it could introduce bugs when mandatory fields are missed", "url": "https://github.com/vividus-framework/vividus/pull/965#discussion_r493630618", "createdAt": "2020-09-23T14:17:54Z", "author": {"login": "valfirst"}, "path": "vividus-to-xray-exporter/src/main/java/org/vividus/xray/databind/ManualTestCaseSerializer.java", "diffHunk": "@@ -105,8 +107,11 @@ private static void writeJsonArray(JsonGenerator generator, String startField, C\n     private static void writeObjectWithField(JsonGenerator generator, String objectKey, String fieldName,\n             String fieldValue) throws IOException\n     {\n-        generator.writeObjectFieldStart(objectKey);\n-        generator.writeStringField(fieldName, fieldValue);\n-        generator.writeEndObject();\n+        if (fieldValue != null)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b406dc31dbe63ac3e018a141bd611818f45ed29f"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzY2Mzc2OQ==", "bodyText": "fixed, but at some point it looks like double check because we already have jira that will fail if mandatory fields are missed", "url": "https://github.com/vividus-framework/vividus/pull/965#discussion_r493663769", "createdAt": "2020-09-23T14:58:54Z", "author": {"login": "uarlouski"}, "path": "vividus-to-xray-exporter/src/main/java/org/vividus/xray/databind/ManualTestCaseSerializer.java", "diffHunk": "@@ -105,8 +107,11 @@ private static void writeJsonArray(JsonGenerator generator, String startField, C\n     private static void writeObjectWithField(JsonGenerator generator, String objectKey, String fieldName,\n             String fieldValue) throws IOException\n     {\n-        generator.writeObjectFieldStart(objectKey);\n-        generator.writeStringField(fieldName, fieldValue);\n-        generator.writeEndObject();\n+        if (fieldValue != null)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzYzMDYxOA=="}, "originalCommit": {"oid": "b406dc31dbe63ac3e018a141bd611818f45ed29f"}, "originalPosition": 16}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA4OTM2NTM3OnYy", "diffSide": "RIGHT", "path": "vividus-to-xray-exporter/src/test/java/org/vividus/xray/databind/ManualTestCaseSerializerTests.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QxNDoxODo1MFrOHWw3Kg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QxNDoyODoxOFrOHWxVTA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzYzMTI3NA==", "bodyText": "should it be username or user email?", "url": "https://github.com/vividus-framework/vividus/pull/965#discussion_r493631274", "createdAt": "2020-09-23T14:18:50Z", "author": {"login": "valfirst"}, "path": "vividus-to-xray-exporter/src/test/java/org/vividus/xray/databind/ManualTestCaseSerializerTests.java", "diffHunk": "@@ -56,6 +56,7 @@ void init()\n     void shouldSerializeManualTest() throws IOException\n     {\n         ManualTestCase test = createBaseTest();\n+        test.setAssignee(\"support@vividus.dev\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b406dc31dbe63ac3e018a141bd611818f45ed29f"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzYzODk4OA==", "bodyText": "username, removed email part to make it more clear", "url": "https://github.com/vividus-framework/vividus/pull/965#discussion_r493638988", "createdAt": "2020-09-23T14:28:18Z", "author": {"login": "uarlouski"}, "path": "vividus-to-xray-exporter/src/test/java/org/vividus/xray/databind/ManualTestCaseSerializerTests.java", "diffHunk": "@@ -56,6 +56,7 @@ void init()\n     void shouldSerializeManualTest() throws IOException\n     {\n         ManualTestCase test = createBaseTest();\n+        test.setAssignee(\"support@vividus.dev\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzYzMTI3NA=="}, "originalCommit": {"oid": "b406dc31dbe63ac3e018a141bd611818f45ed29f"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA4OTg1NDE2OnYy", "diffSide": "RIGHT", "path": "vividus-to-xray-exporter/src/main/java/org/vividus/xray/databind/ManualTestCaseSerializer.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QxNjowMDowNlrOHW1pRA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QxODozNjo0MFrOHW7jHw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzcwOTYzNg==", "bodyText": "KISS?:\nString assignee = manualTest.getAssignee();\nif (assignee != null)\n{\n    writeObjectWithField(generator, \"assignee\", NAME, manualTest.getAssignee());\n}", "url": "https://github.com/vividus-framework/vividus/pull/965#discussion_r493709636", "createdAt": "2020-09-23T16:00:06Z", "author": {"login": "valfirst"}, "path": "vividus-to-xray-exporter/src/main/java/org/vividus/xray/databind/ManualTestCaseSerializer.java", "diffHunk": "@@ -47,6 +47,8 @@ public void serialize(ManualTestCase manualTest, JsonGenerator generator, Serial\n \n         writeObjectWithField(generator, \"project\", \"key\", manualTest.getProjectKey());\n \n+        writeObjectWithField(generator, \"assignee\", NAME, manualTest.getAssignee(), true);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "df9420d70cf388820dba1db46b142fc917f7f142"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzgwNjM2Nw==", "bodyText": "fixed, but I thinks sometimes it makes sense to sacrifice KISS in favor of more concise code", "url": "https://github.com/vividus-framework/vividus/pull/965#discussion_r493806367", "createdAt": "2020-09-23T18:36:40Z", "author": {"login": "uarlouski"}, "path": "vividus-to-xray-exporter/src/main/java/org/vividus/xray/databind/ManualTestCaseSerializer.java", "diffHunk": "@@ -47,6 +47,8 @@ public void serialize(ManualTestCase manualTest, JsonGenerator generator, Serial\n \n         writeObjectWithField(generator, \"project\", \"key\", manualTest.getProjectKey());\n \n+        writeObjectWithField(generator, \"assignee\", NAME, manualTest.getAssignee(), true);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzcwOTYzNg=="}, "originalCommit": {"oid": "df9420d70cf388820dba1db46b142fc917f7f142"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 140, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}