{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc2MTI5NDcz", "number": 871, "title": "[plugin-web-app] Decouple element actions from validations to avoid circular dependencies", "bodyText": "", "createdAt": "2020-08-31T07:51:02Z", "url": "https://github.com/vividus-framework/vividus/pull/871", "merged": true, "mergeCommit": {"oid": "9ba8c08ab28a3df2a8e58c424b0091dbe83f91d8"}, "closed": true, "closedAt": "2020-08-31T09:54:47Z", "author": {"login": "uarlouski"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdEODrKgBqjM3MDg2OTUzODg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdEPg-2AFqTQ3ODQ2MjI4OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "cea8441ceefed4f2af9df6e01697df502a83f21b", "author": {"user": {"login": "uarlouski", "name": "Uladzislau Arlouski"}}, "url": "https://github.com/vividus-framework/vividus/commit/cea8441ceefed4f2af9df6e01697df502a83f21b", "committedDate": "2020-08-31T07:50:18Z", "message": "[plugin-web-app] Decouple element actions from validations to avoid circular dependencies"}, "afterCommit": {"oid": "bbc0f750f3dc7893ccba5b3a1c6e2bb8eb981f3b", "author": {"user": {"login": "uarlouski", "name": "Uladzislau Arlouski"}}, "url": "https://github.com/vividus-framework/vividus/commit/bbc0f750f3dc7893ccba5b3a1c6e2bb8eb981f3b", "committedDate": "2020-08-31T07:55:28Z", "message": "[plugin-web-app] Decouple element actions from validations to avoid circular dependencies"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "bbc0f750f3dc7893ccba5b3a1c6e2bb8eb981f3b", "author": {"user": {"login": "uarlouski", "name": "Uladzislau Arlouski"}}, "url": "https://github.com/vividus-framework/vividus/commit/bbc0f750f3dc7893ccba5b3a1c6e2bb8eb981f3b", "committedDate": "2020-08-31T07:55:28Z", "message": "[plugin-web-app] Decouple element actions from validations to avoid circular dependencies"}, "afterCommit": {"oid": "cdf05e7f5f74175e417c9bacb8c63952eb4b5525", "author": {"user": {"login": "uarlouski", "name": "Uladzislau Arlouski"}}, "url": "https://github.com/vividus-framework/vividus/commit/cdf05e7f5f74175e417c9bacb8c63952eb4b5525", "committedDate": "2020-08-31T08:29:01Z", "message": "[plugin-web-app] Decouple element actions from validations to avoid circular dependencies"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "cdf05e7f5f74175e417c9bacb8c63952eb4b5525", "author": {"user": {"login": "uarlouski", "name": "Uladzislau Arlouski"}}, "url": "https://github.com/vividus-framework/vividus/commit/cdf05e7f5f74175e417c9bacb8c63952eb4b5525", "committedDate": "2020-08-31T08:29:01Z", "message": "[plugin-web-app] Decouple element actions from validations to avoid circular dependencies"}, "afterCommit": {"oid": "7c484c1bc7f025fd6d52167235906e740dd41db1", "author": {"user": {"login": "uarlouski", "name": "Uladzislau Arlouski"}}, "url": "https://github.com/vividus-framework/vividus/commit/7c484c1bc7f025fd6d52167235906e740dd41db1", "committedDate": "2020-08-31T08:41:47Z", "message": "[plugin-web-app] Decouple element actions from validations to avoid circular dependencies"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7c484c1bc7f025fd6d52167235906e740dd41db1", "author": {"user": {"login": "uarlouski", "name": "Uladzislau Arlouski"}}, "url": "https://github.com/vividus-framework/vividus/commit/7c484c1bc7f025fd6d52167235906e740dd41db1", "committedDate": "2020-08-31T08:41:47Z", "message": "[plugin-web-app] Decouple element actions from validations to avoid circular dependencies"}, "afterCommit": {"oid": "606e94924dbef15a7d4263d4d276480cf37a5bc0", "author": {"user": {"login": "uarlouski", "name": "Uladzislau Arlouski"}}, "url": "https://github.com/vividus-framework/vividus/commit/606e94924dbef15a7d4263d4d276480cf37a5bc0", "committedDate": "2020-08-31T08:47:29Z", "message": "[plugin-web-app] Decouple element actions from validations to avoid circular dependencies"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc4NDM3NDM2", "url": "https://github.com/vividus-framework/vividus/pull/871#pullrequestreview-478437436", "createdAt": "2020-08-31T08:58:22Z", "commit": {"oid": "606e94924dbef15a7d4263d4d276480cf37a5bc0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc4NDQ3MzMz", "url": "https://github.com/vividus-framework/vividus/pull/871#pullrequestreview-478447333", "createdAt": "2020-08-31T09:13:47Z", "commit": {"oid": "606e94924dbef15a7d4263d4d276480cf37a5bc0"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQwOToxMzo0N1rOHJw4fg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQwOToxMzo0N1rOHJw4fg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDAwMDEyNg==", "bodyText": ":O", "url": "https://github.com/vividus-framework/vividus/pull/871#discussion_r480000126", "createdAt": "2020-08-31T09:13:47Z", "author": {"login": "ikalinin1"}, "path": "vividus-plugin-web-app/src/main/java/org/vividus/bdd/steps/ui/web/FieldSteps.java", "diffHunk": "@@ -16,25 +16,51 @@\n \n package org.vividus.bdd.steps.ui.web;\n \n-import javax.inject.Inject;\n+import java.util.Map;\n \n import org.jbehave.core.annotations.Then;\n import org.jbehave.core.annotations.When;\n+import org.openqa.selenium.StaleElementReferenceException;\n import org.openqa.selenium.WebElement;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n import org.vividus.bdd.monitor.TakeScreenshotOnFailure;\n import org.vividus.bdd.steps.ui.web.validation.IBaseValidations;\n+import org.vividus.selenium.WebDriverType;\n+import org.vividus.selenium.manager.IWebDriverManager;\n+import org.vividus.softassert.ISoftAssert;\n import org.vividus.ui.web.action.IFieldActions;\n-import org.vividus.ui.web.action.WebElementActions;\n+import org.vividus.ui.web.action.IJavascriptActions;\n+import org.vividus.ui.web.action.IWebElementActions;\n import org.vividus.ui.web.action.search.SearchAttributes;\n+import org.vividus.ui.web.util.FormatUtil;\n \n @TakeScreenshotOnFailure\n public class FieldSteps\n {\n+    private static final Logger LOGGER = LoggerFactory.getLogger(FieldSteps.class);\n+\n     private static final String A_FIELD_WITH_NAME = \"A field with attributes%1$s\";\n+    private static final int TEXT_TYPING_ATTEMPTS_LIMIT = 5;\n+\n+    private final IBaseValidations baseValidations;\n+    private final IWebElementActions webElementActions;\n+    private final IFieldActions fieldActions;\n+    private final ISoftAssert softAssert;\n+    private final IJavascriptActions javascriptActions;\n+    private final IWebDriverManager webDriverManager;\n \n-    @Inject private IBaseValidations baseValidations;\n-    @Inject private WebElementActions webElementActions;\n-    @Inject private IFieldActions fieldActions;\n+    public FieldSteps(IBaseValidations baseValidations, IWebElementActions webElementActions,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "606e94924dbef15a7d4263d4d276480cf37a5bc0"}, "originalPosition": 43}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "843f812ae405eeb6e30b24b0a0fd5d6e1eeb8624", "author": {"user": {"login": "uarlouski", "name": "Uladzislau Arlouski"}}, "url": "https://github.com/vividus-framework/vividus/commit/843f812ae405eeb6e30b24b0a0fd5d6e1eeb8624", "committedDate": "2020-08-31T09:34:52Z", "message": "[plugin-web-app] Decouple element actions from validations to avoid circular dependencies"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "606e94924dbef15a7d4263d4d276480cf37a5bc0", "author": {"user": {"login": "uarlouski", "name": "Uladzislau Arlouski"}}, "url": "https://github.com/vividus-framework/vividus/commit/606e94924dbef15a7d4263d4d276480cf37a5bc0", "committedDate": "2020-08-31T08:47:29Z", "message": "[plugin-web-app] Decouple element actions from validations to avoid circular dependencies"}, "afterCommit": {"oid": "843f812ae405eeb6e30b24b0a0fd5d6e1eeb8624", "author": {"user": {"login": "uarlouski", "name": "Uladzislau Arlouski"}}, "url": "https://github.com/vividus-framework/vividus/commit/843f812ae405eeb6e30b24b0a0fd5d6e1eeb8624", "committedDate": "2020-08-31T09:34:52Z", "message": "[plugin-web-app] Decouple element actions from validations to avoid circular dependencies"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc4NDYyMjg5", "url": "https://github.com/vividus-framework/vividus/pull/871#pullrequestreview-478462289", "createdAt": "2020-08-31T09:37:32Z", "commit": {"oid": "843f812ae405eeb6e30b24b0a0fd5d6e1eeb8624"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 75, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}