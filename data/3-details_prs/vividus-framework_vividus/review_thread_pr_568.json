{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE2ODg1MTQz", "number": 568, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQxODo1MToxOVrOD7yCow==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNFQxMzo0NjoxM1rOD_MvqQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0MDEyNDUxOnYy", "diffSide": "RIGHT", "path": "vividus-plugin-web-app/src/main/java/org/vividus/bdd/steps/ui/web/WaitSteps.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQxODo1MToxOVrOGUUZlg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQxODo1MToxOVrOGUUZlg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzk1ODkzNA==", "bodyText": "@When(\"I wait `$duration` with `$pollingDuration` polling until element located `$locator` disappears\")", "url": "https://github.com/vividus-framework/vividus/pull/568#discussion_r423958934", "createdAt": "2020-05-12T18:51:19Z", "author": {"login": "valfirst"}, "path": "vividus-plugin-web-app/src/main/java/org/vividus/bdd/steps/ui/web/WaitSteps.java", "diffHunk": "@@ -103,6 +103,35 @@ public boolean waitDurationWithPollingDurationTillElementAppears(Duration durati\n                 expectedSearchActionsConditions.visibilityOfAllElementsLocatedBy(locator)).isWaitPassed();\n     }\n \n+    /**\n+     * Waits <b>duration</b> with <b>pollingDuration</b> until <b>an element</b> by the specified <b>locator</b>\n+     * disappearance in the specified search context\n+     * <p>\n+     * Actions performed at this step:\n+     * </p>\n+     * <ul>\n+     * <li><i>Finds</i> an element by the specified <b>locator</b> within search context\n+     * <li><i>Waits</i> <b>duration</b> with <b>pollingDuration</b> until this element becomes not visible\n+     * </ul>\n+     * <br>Example:<br>\n+     * <code>When I wait 'PT30S' with 'PT10S' polling until an element located by By.id(text) disappears</code>\n+     * - wait until all elements with id=text for 30 seconds, polling every 10 seconds\n+     *\n+     * @param duration        Total waiting time for an element becomes not visible according to\n+     *                        <a href=\"https://en.wikipedia.org/wiki/ISO_8601\">ISO 8601</a> standard\n+     * @param pollingDuration Defines the timeout between attempts according to\n+     *                        <a href=\"https://en.wikipedia.org/wiki/ISO_8601\">ISO 8601</a> standard\n+     * @param locator         Locator to search for elements\n+     * @return True if element disappears, otherwise false\n+     */\n+    @When(\"I wait '$duration' with '$pollingDuration' polling until an element located by $locator disappears\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "682b14e507bea0277cb54c24d3043f62862e995e"}, "originalPosition": 25}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0MDE1NzAxOnYy", "diffSide": "RIGHT", "path": "vividus-tests/src/main/resources/story/integration/WaitStepsTests.story", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQxOTowMDoyN1rOGUUuxg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQxOTowMDoyN1rOGUUuxg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzk2NDM1OA==", "bodyText": "would you mind adding the page to https://github.com/vividus-framework/vividus-test-site?", "url": "https://github.com/vividus-framework/vividus/pull/568#discussion_r423964358", "createdAt": "2020-05-12T19:00:27Z", "author": {"login": "valfirst"}, "path": "vividus-tests/src/main/resources/story/integration/WaitStepsTests.story", "diffHunk": "@@ -11,3 +11,12 @@ Then number of elements found by `${paragraph-locator}` is equal to `1`\n When I click on a button with the name 'Hide'\n When I wait until element located `${paragraph-locator}` disappears\n Then number of elements found by `${paragraph-locator}` is equal to `0`\n+\n+Scenario: Step verification I wait '$duration' with '$pollingDuration' polling until an element located by $locator disappears\n+Given I am on a page with the URL 'https://www.w3schools.com/jQuery/tryit.asp?filename=tryjquery_hide_slow'", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "682b14e507bea0277cb54c24d3043f62862e995e"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0MDIyNTE4OnYy", "diffSide": "RIGHT", "path": "vividus-plugin-web-app/src/main/java/org/vividus/bdd/steps/ui/web/WaitSteps.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQxOToyMDoyMVrOGUValw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQxOToyMDoyMVrOGUValw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzk3NTU3NQ==", "bodyText": "What do you think about making this step generic like\nWhen I wait `$duration` with `$pollingDuration` polling until element located `$locator` becomes $state\n\nthis would reduce \"duplicate\" code base and make those steps as composites", "url": "https://github.com/vividus-framework/vividus/pull/568#discussion_r423975575", "createdAt": "2020-05-12T19:20:21Z", "author": {"login": "uarlouski"}, "path": "vividus-plugin-web-app/src/main/java/org/vividus/bdd/steps/ui/web/WaitSteps.java", "diffHunk": "@@ -103,6 +103,35 @@ public boolean waitDurationWithPollingDurationTillElementAppears(Duration durati\n                 expectedSearchActionsConditions.visibilityOfAllElementsLocatedBy(locator)).isWaitPassed();\n     }\n \n+    /**\n+     * Waits <b>duration</b> with <b>pollingDuration</b> until <b>an element</b> by the specified <b>locator</b>\n+     * disappearance in the specified search context\n+     * <p>\n+     * Actions performed at this step:\n+     * </p>\n+     * <ul>\n+     * <li><i>Finds</i> an element by the specified <b>locator</b> within search context\n+     * <li><i>Waits</i> <b>duration</b> with <b>pollingDuration</b> until this element becomes not visible\n+     * </ul>\n+     * <br>Example:<br>\n+     * <code>When I wait 'PT30S' with 'PT10S' polling until an element located by By.id(text) disappears</code>\n+     * - wait until all elements with id=text for 30 seconds, polling every 10 seconds\n+     *\n+     * @param duration        Total waiting time for an element becomes not visible according to\n+     *                        <a href=\"https://en.wikipedia.org/wiki/ISO_8601\">ISO 8601</a> standard\n+     * @param pollingDuration Defines the timeout between attempts according to\n+     *                        <a href=\"https://en.wikipedia.org/wiki/ISO_8601\">ISO 8601</a> standard\n+     * @param locator         Locator to search for elements\n+     * @return True if element disappears, otherwise false\n+     */\n+    @When(\"I wait '$duration' with '$pollingDuration' polling until an element located by $locator disappears\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "682b14e507bea0277cb54c24d3043f62862e995e"}, "originalPosition": 25}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY3NTk1Njg5OnYy", "diffSide": "RIGHT", "path": "vividus-plugin-web-app/src/main/java/org/vividus/bdd/steps/ui/web/WaitSteps.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNFQxMzo0NjoxM1rOGZvDGw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNFQxMzo0NjoxM1rOGZvDGw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTYzODQyNw==", "bodyText": "#568 (comment):\n@When(\"I wait `$duration` with `$pollingDuration` polling until element located `$locator` becomes $state\")\n\nplease pay attention to ` not '", "url": "https://github.com/vividus-framework/vividus/pull/568#discussion_r429638427", "createdAt": "2020-05-24T13:46:13Z", "author": {"login": "valfirst"}, "path": "vividus-plugin-web-app/src/main/java/org/vividus/bdd/steps/ui/web/WaitSteps.java", "diffHunk": "@@ -84,25 +84,33 @@ public boolean waitTillElementWithTextAppearsPageRefresh(String text, Duration t\n \n     /**\n      * Waits <b>duration</b> with <b>pollingDuration</b> until <b>an element</b> by the specified <b>locator</b>\n-     * appears in the specified search context\n+     * becomes a <b>state</b> in the specified search context\n      * <p>\n      * Actions performed at this step:\n      * </p>\n      * <ul>\n      * <li><i>Finds</i> an element by the specified <b>locator</b> within search context\n-     * <li><i>Waits</i> <b>duration</b> with <b>pollingDuration</b> until this element becomes visible\n+     * <li><i>Waits</i> <b>duration</b> with <b>pollingDuration</b> until this element becomes <b>state</b>\n      * </ul>\n-     * @param duration Total waiting time for an element becomes visible\n-     * @param pollingDuration Defines the timeout between attempts\n-     * @param locator Locator to search for elements\n-     * @return True if element appears, otherwise false\n+     * <br>Example:<br>\n+     * <code>When I wait 'PT30S' with 'PT10S' polling until element located `By.id(text)` becomes NOT_VISIBLE</code>\n+     * - wait until all elements with id=text becomes not visible for 30 seconds, polling every 10 seconds\n+     *\n+     * @param duration        Total waiting time according to\n+     *                        <a href=\"https://en.wikipedia.org/wiki/ISO_8601\">ISO 8601</a> standard\n+     * @param pollingDuration Defines the timeout between attempts according to\n+     *                        <a href=\"https://en.wikipedia.org/wiki/ISO_8601\">ISO 8601</a> standard\n+     * @param locator         Locator to search for elements\n+     * @param state           State value of the element\n+     * (<i>Possible values:</i> <b>ENABLED, DISABLED, SELECTED, NOT_SELECTED, VISIBLE, NOT_VISIBLE</b>)\n+     * @return True if element becomes a <b>state</b>, otherwise false\n      */\n-    @When(\"I wait '$duration' with '$pollingDuration' polling until an element located by $locator appears\")\n-    public boolean waitDurationWithPollingDurationTillElementAppears(Duration duration, Duration pollingDuration,\n-            SearchAttributes locator)\n+    @When(\"I wait '$duration' with '$pollingDuration' polling until element located `$locator` becomes $state\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "12fe4c355e214f38ce29eb31cf83a329c1d49e1f"}, "originalPosition": 34}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 319, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}