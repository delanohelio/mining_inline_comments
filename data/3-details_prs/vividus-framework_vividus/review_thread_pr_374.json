{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg0MzE4Mzg5", "number": 374, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxNToyNjoxMlrODld4FA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNlQxMzo1NTowNVrODlzdKw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQwNjEzMzk2OnYy", "diffSide": "RIGHT", "path": "vividus-bdd-engine/src/main/java/org/vividus/bdd/steps/ComparisonRule.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxNToyNjoxMlrOFyYA7Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxNTo0MTo0N1rOFyYpvQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODM2NjU3Mw==", "bodyText": "return name().toLowerCase().replace('_', ' ');\n?", "url": "https://github.com/vividus-framework/vividus/pull/374#discussion_r388366573", "createdAt": "2020-03-05T15:26:12Z", "author": {"login": "valfirst"}, "path": "vividus-bdd-engine/src/main/java/org/vividus/bdd/steps/ComparisonRule.java", "diffHunk": "@@ -94,6 +96,12 @@ public static ComparisonRule parse(String sign)\n                 .findFirst();\n     }\n \n+    @Override\n+    public String toString()\n+    {\n+        return asString;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c2fdb2a46a8c789fdbb43c3f691c9f88ca06819c"}, "originalPosition": 75}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODM3NzAyMQ==", "bodyText": "I considered an extra code execution for each toString() method call, when values already defined, as an overhead", "url": "https://github.com/vividus-framework/vividus/pull/374#discussion_r388377021", "createdAt": "2020-03-05T15:41:47Z", "author": {"login": "ikalinin1"}, "path": "vividus-bdd-engine/src/main/java/org/vividus/bdd/steps/ComparisonRule.java", "diffHunk": "@@ -94,6 +96,12 @@ public static ComparisonRule parse(String sign)\n                 .findFirst();\n     }\n \n+    @Override\n+    public String toString()\n+    {\n+        return asString;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODM2NjU3Mw=="}, "originalCommit": {"oid": "c2fdb2a46a8c789fdbb43c3f691c9f88ca06819c"}, "originalPosition": 75}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQwNjE1MDE0OnYy", "diffSide": "RIGHT", "path": "vividus-plugin-html/src/main/java/org/vividus/bdd/steps/html/HtmlSteps.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxNTozMDoxNlrOFyYLYg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxNTo0NjowM1rOFyY1GA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODM2OTI1MA==", "bodyText": "do you really need to add comparisonRule and number to assertion description? it could be excessive since similar piece of information is added by Matcher", "url": "https://github.com/vividus-framework/vividus/pull/374#discussion_r388369250", "createdAt": "2020-03-05T15:30:16Z", "author": {"login": "valfirst"}, "path": "vividus-plugin-html/src/main/java/org/vividus/bdd/steps/html/HtmlSteps.java", "diffHunk": "@@ -56,6 +48,36 @@\n         return Optional.empty();\n     }\n \n+    /**\n+     * Checks if HTML contains elements according to rule by CSS selector\n+     * @param cssSelector CSS selector\n+     * @param html HTML to check\n+     * @param comparisonRule The rule to compare values\n+     * <br>(<i>Possible values:</i>\n+     * <br> less than (&lt;),\n+     * <br> less than or equal to (&lt;=),\n+     * <br> greater than(&gt;)\n+     * <br> greater than or equal to(&gt;=),\n+     * <br> equal to(=))\n+     * @param number Number of elements\n+     * @see <a href=\"https://www.w3schools.com/cssref/css_selectors.asp\"><i>CSS Selector Reference</i></a>\n+     * @see <a href=\"https://jsoup.org/apidocs/org/jsoup/select/Selector.html\"><i>Jsoup Selector API</i></a>\n+     * @return true if elements quantity corresponds to rule, false otherwise\n+     */\n+    @Then(\"number of elements found by CSS selector `$cssSelector` in HTML `$html` is $comparisonRule `$quantity`\")\n+    public boolean doesElementByCssSelectorExist(String cssSelector, String html, ComparisonRule comparisonRule,\n+            int number)\n+    {\n+        Elements elements = findElements(html, cssSelector);\n+        return softAssert.assertThat(String.format(\"Number of elements found by CSS selector '%s' is %s %d\",\n+                cssSelector, comparisonRule, number), elements.size(), comparisonRule.getComparisonRule(number));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "172a4313820799a25d538d7be9ad4545093083c0"}, "originalPosition": 55}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODM3OTkyOA==", "bodyText": "I think we should pick one solution. BaseValidation uses this approach.\nIf we will rely on matcher, the PR is obsolete, but we should refactor basevalidations' code", "url": "https://github.com/vividus-framework/vividus/pull/374#discussion_r388379928", "createdAt": "2020-03-05T15:46:03Z", "author": {"login": "ikalinin1"}, "path": "vividus-plugin-html/src/main/java/org/vividus/bdd/steps/html/HtmlSteps.java", "diffHunk": "@@ -56,6 +48,36 @@\n         return Optional.empty();\n     }\n \n+    /**\n+     * Checks if HTML contains elements according to rule by CSS selector\n+     * @param cssSelector CSS selector\n+     * @param html HTML to check\n+     * @param comparisonRule The rule to compare values\n+     * <br>(<i>Possible values:</i>\n+     * <br> less than (&lt;),\n+     * <br> less than or equal to (&lt;=),\n+     * <br> greater than(&gt;)\n+     * <br> greater than or equal to(&gt;=),\n+     * <br> equal to(=))\n+     * @param number Number of elements\n+     * @see <a href=\"https://www.w3schools.com/cssref/css_selectors.asp\"><i>CSS Selector Reference</i></a>\n+     * @see <a href=\"https://jsoup.org/apidocs/org/jsoup/select/Selector.html\"><i>Jsoup Selector API</i></a>\n+     * @return true if elements quantity corresponds to rule, false otherwise\n+     */\n+    @Then(\"number of elements found by CSS selector `$cssSelector` in HTML `$html` is $comparisonRule `$quantity`\")\n+    public boolean doesElementByCssSelectorExist(String cssSelector, String html, ComparisonRule comparisonRule,\n+            int number)\n+    {\n+        Elements elements = findElements(html, cssSelector);\n+        return softAssert.assertThat(String.format(\"Number of elements found by CSS selector '%s' is %s %d\",\n+                cssSelector, comparisonRule, number), elements.size(), comparisonRule.getComparisonRule(number));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODM2OTI1MA=="}, "originalCommit": {"oid": "172a4313820799a25d538d7be9ad4545093083c0"}, "originalPosition": 55}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQwOTY2OTU1OnYy", "diffSide": "RIGHT", "path": "vividus-bdd-engine/src/main/java/org/vividus/bdd/steps/ComparisonRule.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNlQxMzo1NTowNVrOFy5d8A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNlQxMzo1NTowNVrOFy5d8A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODkxNDY3Mg==", "bodyText": "since JDK 11 is still our baseline, .replaceAll(\"_\", \" \") -> .replace('_', ' ')", "url": "https://github.com/vividus-framework/vividus/pull/374#discussion_r388914672", "createdAt": "2020-03-06T13:55:05Z", "author": {"login": "valfirst"}, "path": "vividus-bdd-engine/src/main/java/org/vividus/bdd/steps/ComparisonRule.java", "diffHunk": "@@ -94,6 +94,11 @@ public static ComparisonRule parse(String sign)\n                 .findFirst();\n     }\n \n+    public String toString()\n+    {\n+        return super.toString().replaceAll(\"_\", \" \").toLowerCase();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "de8b39afb8f06152e1b68054c217d47d70b853d1"}, "originalPosition": 6}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 457, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}