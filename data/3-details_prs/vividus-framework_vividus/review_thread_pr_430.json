{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkzMjU5MTQz", "number": 430, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNVQwNTo1Mzo1MFrODrEp1w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNVQxMjo0ODoyOVrODrMlvA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ2NDkxNjA3OnYy", "diffSide": "RIGHT", "path": "vividus-plugin-web-app-to-rest-api/src/main/java/org/vividus/bdd/steps/integration/ResourceCheckSteps.java", "isResolved": true, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNVQwNTo1Mzo1MFrOF7M-Ug==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNVQxMjoxMzoyMlrOF7YPSw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzYyMjg2Ng==", "bodyText": "shouldn't we adjust resource checking logic depending on an element being checked? for examples 'a' element is allowed to be without href attr whereas 'img' isn't\nhttps://www.w3.org/TR/html52/semantics-embedded-content.html#the-img-element\nhttps://www.w3.org/TR/html52/textlevel-semantics.html#the-a-element", "url": "https://github.com/vividus-framework/vividus/pull/430#discussion_r397622866", "createdAt": "2020-03-25T05:53:50Z", "author": {"login": "uarlouski"}, "path": "vividus-plugin-web-app-to-rest-api/src/main/java/org/vividus/bdd/steps/integration/ResourceCheckSteps.java", "diffHunk": "@@ -119,24 +119,38 @@ private ResourceValidation validate(ResourceValidation r)\n         return HtmlUtils.getElements(html, cssSelector).parallelStream();\n     }\n \n+    private boolean isSourceAttributeEmpty(Element element)\n+    {\n+        boolean isSourceAttributeEmpty = getElementSourceAttribute(element).isEmpty();\n+        if (isSourceAttributeEmpty)\n+        {\n+            softAssert.recordFailedAssertion(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7a50c3b65291960924c91c346cb8715e760417a3"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzYzNzcxNw==", "bodyText": "I suppose it doesn't matter, the only one restriction is: an element must have src or href", "url": "https://github.com/vividus-framework/vividus/pull/430#discussion_r397637717", "createdAt": "2020-03-25T06:46:38Z", "author": {"login": "Ulyana-Yeryksonava"}, "path": "vividus-plugin-web-app-to-rest-api/src/main/java/org/vividus/bdd/steps/integration/ResourceCheckSteps.java", "diffHunk": "@@ -119,24 +119,38 @@ private ResourceValidation validate(ResourceValidation r)\n         return HtmlUtils.getElements(html, cssSelector).parallelStream();\n     }\n \n+    private boolean isSourceAttributeEmpty(Element element)\n+    {\n+        boolean isSourceAttributeEmpty = getElementSourceAttribute(element).isEmpty();\n+        if (isSourceAttributeEmpty)\n+        {\n+            softAssert.recordFailedAssertion(", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzYyMjg2Ng=="}, "originalCommit": {"oid": "7a50c3b65291960924c91c346cb8715e760417a3"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzY1NDUyMA==", "bodyText": "I meant why should we fail during resource checking of links if it's not prohibited by spec to have a tag without href?", "url": "https://github.com/vividus-framework/vividus/pull/430#discussion_r397654520", "createdAt": "2020-03-25T07:35:47Z", "author": {"login": "uarlouski"}, "path": "vividus-plugin-web-app-to-rest-api/src/main/java/org/vividus/bdd/steps/integration/ResourceCheckSteps.java", "diffHunk": "@@ -119,24 +119,38 @@ private ResourceValidation validate(ResourceValidation r)\n         return HtmlUtils.getElements(html, cssSelector).parallelStream();\n     }\n \n+    private boolean isSourceAttributeEmpty(Element element)\n+    {\n+        boolean isSourceAttributeEmpty = getElementSourceAttribute(element).isEmpty();\n+        if (isSourceAttributeEmpty)\n+        {\n+            softAssert.recordFailedAssertion(", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzYyMjg2Ng=="}, "originalCommit": {"oid": "7a50c3b65291960924c91c346cb8715e760417a3"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzY1NjUyMQ==", "bodyText": "it causes StringIndexOutOfBoundsException otherwise", "url": "https://github.com/vividus-framework/vividus/pull/430#discussion_r397656521", "createdAt": "2020-03-25T07:40:50Z", "author": {"login": "Ulyana-Yeryksonava"}, "path": "vividus-plugin-web-app-to-rest-api/src/main/java/org/vividus/bdd/steps/integration/ResourceCheckSteps.java", "diffHunk": "@@ -119,24 +119,38 @@ private ResourceValidation validate(ResourceValidation r)\n         return HtmlUtils.getElements(html, cssSelector).parallelStream();\n     }\n \n+    private boolean isSourceAttributeEmpty(Element element)\n+    {\n+        boolean isSourceAttributeEmpty = getElementSourceAttribute(element).isEmpty();\n+        if (isSourceAttributeEmpty)\n+        {\n+            softAssert.recordFailedAssertion(", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzYyMjg2Ng=="}, "originalCommit": {"oid": "7a50c3b65291960924c91c346cb8715e760417a3"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzgwNzQzNQ==", "bodyText": "thanks for updating the docs :)", "url": "https://github.com/vividus-framework/vividus/pull/430#discussion_r397807435", "createdAt": "2020-03-25T12:13:22Z", "author": {"login": "uarlouski"}, "path": "vividus-plugin-web-app-to-rest-api/src/main/java/org/vividus/bdd/steps/integration/ResourceCheckSteps.java", "diffHunk": "@@ -119,24 +119,38 @@ private ResourceValidation validate(ResourceValidation r)\n         return HtmlUtils.getElements(html, cssSelector).parallelStream();\n     }\n \n+    private boolean isSourceAttributeEmpty(Element element)\n+    {\n+        boolean isSourceAttributeEmpty = getElementSourceAttribute(element).isEmpty();\n+        if (isSourceAttributeEmpty)\n+        {\n+            softAssert.recordFailedAssertion(", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzYyMjg2Ng=="}, "originalCommit": {"oid": "7a50c3b65291960924c91c346cb8715e760417a3"}, "originalPosition": 9}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ2NDkxNjU5OnYy", "diffSide": "RIGHT", "path": "vividus-plugin-web-app-to-rest-api/src/main/java/org/vividus/bdd/steps/integration/ResourceCheckSteps.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNVQwNTo1NDowMVrOF7M-lg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNVQwNzozMzowNVrOF7O1zQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzYyMjkzNA==", "bodyText": "isSourceAttributeEmpty -> sourceAttributeEmpty", "url": "https://github.com/vividus-framework/vividus/pull/430#discussion_r397622934", "createdAt": "2020-03-25T05:54:01Z", "author": {"login": "uarlouski"}, "path": "vividus-plugin-web-app-to-rest-api/src/main/java/org/vividus/bdd/steps/integration/ResourceCheckSteps.java", "diffHunk": "@@ -119,24 +119,38 @@ private ResourceValidation validate(ResourceValidation r)\n         return HtmlUtils.getElements(html, cssSelector).parallelStream();\n     }\n \n+    private boolean isSourceAttributeEmpty(Element element)\n+    {\n+        boolean isSourceAttributeEmpty = getElementSourceAttribute(element).isEmpty();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7a50c3b65291960924c91c346cb8715e760417a3"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzYzODQ3Nw==", "bodyText": "why do you think so? https://rules.sonarsource.com/java/tag/convention/RSPEC-2047", "url": "https://github.com/vividus-framework/vividus/pull/430#discussion_r397638477", "createdAt": "2020-03-25T06:49:00Z", "author": {"login": "Ulyana-Yeryksonava"}, "path": "vividus-plugin-web-app-to-rest-api/src/main/java/org/vividus/bdd/steps/integration/ResourceCheckSteps.java", "diffHunk": "@@ -119,24 +119,38 @@ private ResourceValidation validate(ResourceValidation r)\n         return HtmlUtils.getElements(html, cssSelector).parallelStream();\n     }\n \n+    private boolean isSourceAttributeEmpty(Element element)\n+    {\n+        boolean isSourceAttributeEmpty = getElementSourceAttribute(element).isEmpty();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzYyMjkzNA=="}, "originalCommit": {"oid": "7a50c3b65291960924c91c346cb8715e760417a3"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzY1MzQ1Mw==", "bodyText": "My comment is related to local var, not to method name", "url": "https://github.com/vividus-framework/vividus/pull/430#discussion_r397653453", "createdAt": "2020-03-25T07:33:05Z", "author": {"login": "uarlouski"}, "path": "vividus-plugin-web-app-to-rest-api/src/main/java/org/vividus/bdd/steps/integration/ResourceCheckSteps.java", "diffHunk": "@@ -119,24 +119,38 @@ private ResourceValidation validate(ResourceValidation r)\n         return HtmlUtils.getElements(html, cssSelector).parallelStream();\n     }\n \n+    private boolean isSourceAttributeEmpty(Element element)\n+    {\n+        boolean isSourceAttributeEmpty = getElementSourceAttribute(element).isEmpty();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzYyMjkzNA=="}, "originalCommit": {"oid": "7a50c3b65291960924c91c346cb8715e760417a3"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ2NTUwNjIwOnYy", "diffSide": "RIGHT", "path": "vividus-plugin-web-app-to-rest-api/src/main/java/org/vividus/bdd/steps/integration/ResourceCheckSteps.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNVQwOTozMDo1OVrOF7Sj2g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNVQwOTozMDo1OVrOF7Sj2g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzcxNDM5NA==", "bodyText": "private Stream<ResourceValidation> createResourceValidations(Stream<Element> elements,\n        Function<Pair<URI, String>, ResourceValidation> resourceValidationFactory)\n{\n    return elements.map(e ->\n        Pair.of(getElementAttribute(e, \"href\").orElseGet(() -> e.attr(\"src\")).trim(), getSelector(e)))\n                   .filter(p -> !p.getKey().isEmpty() || softAssert.recordFailedAssertion(\n                    \"Element by selector \" + p.getValue() + \" doesn't contain href/src attributes\"))\n                   .map(p -> Pair.of(createUri(p.getKey()), p.getValue()))\n                   .map(resourceValidationFactory)\n                   .peek(rv ->\n                   {\n                       if (!Optional.ofNullable(rv.getUri().getScheme()).map(ALLOWED_SCHEMES::contains).orElse(false)\n                               || excludeHrefsPattern.matcher(rv.toString()).matches())\n                       {\n                           rv.setCheckStatus(CheckStatus.FILTERED);\n                       }\n                   });\n}", "url": "https://github.com/vividus-framework/vividus/pull/430#discussion_r397714394", "createdAt": "2020-03-25T09:30:59Z", "author": {"login": "valfirst"}, "path": "vividus-plugin-web-app-to-rest-api/src/main/java/org/vividus/bdd/steps/integration/ResourceCheckSteps.java", "diffHunk": "@@ -119,24 +119,38 @@ private ResourceValidation validate(ResourceValidation r)\n         return HtmlUtils.getElements(html, cssSelector).parallelStream();\n     }\n \n+    private boolean isSourceAttributeEmpty(Element element)\n+    {\n+        boolean isSourceAttributeEmpty = getElementSourceAttribute(element).isEmpty();\n+        if (isSourceAttributeEmpty)\n+        {\n+            softAssert.recordFailedAssertion(\n+                    \"Element by selector \" + getSelector(element) + \" doesn't contain href/src attributes\");\n+        }\n+        return isSourceAttributeEmpty;\n+    }\n+\n+    private String getElementSourceAttribute(Element element)\n+    {\n+        return getElementAttribute(element, \"href\").orElseGet(() -> element.attr(\"src\")).trim();\n+    }\n+\n     private Stream<ResourceValidation> createResourceValidations(Stream<Element> elements,\n             Function<Pair<URI, String>, ResourceValidation> resourceValidationFactory)\n     {\n-        return elements.map(e ->\n-            Pair.of(createUri(getElementAttribute(e, \"href\").orElseGet(() -> e.attr(\"src\")).trim()), getSelector(e)))\n-                       .map(resourceValidationFactory)\n-                       .map(rv -> {\n-                           URI toCheck = rv.getUri();\n-                           boolean validatable = Optional.ofNullable(toCheck.getScheme())\n-                                                         .map(s -> ALLOWED_SCHEMES.contains(s))\n-                                                         .orElse(false)\n-                                                         && !excludeHrefsPattern.matcher(rv.toString()).matches();\n-                           if (!validatable)\n-                           {\n-                               rv.setCheckStatus(CheckStatus.FILTERED);\n-                           }\n-                           return rv;\n-                       });\n+        return elements.filter(e -> !isSourceAttributeEmpty(e))\n+                .map(e -> Pair.of(createUri(getElementSourceAttribute(e)), getSelector(e)))\n+                .map(resourceValidationFactory).map(rv ->\n+                {\n+                    URI toCheck = rv.getUri();\n+                    boolean validatable = Optional.ofNullable(toCheck.getScheme()).map(s -> ALLOWED_SCHEMES.contains(s))\n+                            .orElse(false) && !excludeHrefsPattern.matcher(rv.toString()).matches();\n+                    if (!validatable)\n+                    {\n+                        rv.setCheckStatus(CheckStatus.FILTERED);\n+                    }\n+                    return rv;\n+                });", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7a50c3b65291960924c91c346cb8715e760417a3"}, "originalPosition": 50}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ2NjE3NTIxOnYy", "diffSide": "RIGHT", "path": "vividus-plugin-web-app-to-rest-api/src/main/java/org/vividus/bdd/steps/integration/ResourceCheckSteps.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNVQxMjozNjo0OVrOF7ZA3w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNVQxMjozNjo0OVrOF7ZA3w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzgyMDEyNw==", "bodyText": "please format it properly (you can use my comment unchanged), for example, take a look at peek operation it's really hard to find it first of all, and it's hard to track the sequence of actions", "url": "https://github.com/vividus-framework/vividus/pull/430#discussion_r397820127", "createdAt": "2020-03-25T12:36:49Z", "author": {"login": "valfirst"}, "path": "vividus-plugin-web-app-to-rest-api/src/main/java/org/vividus/bdd/steps/integration/ResourceCheckSteps.java", "diffHunk": "@@ -122,21 +123,18 @@ private ResourceValidation validate(ResourceValidation r)\n     private Stream<ResourceValidation> createResourceValidations(Stream<Element> elements,\n             Function<Pair<URI, String>, ResourceValidation> resourceValidationFactory)\n     {\n-        return elements.map(e ->\n-            Pair.of(createUri(getElementAttribute(e, \"href\").orElseGet(() -> e.attr(\"src\")).trim()), getSelector(e)))\n-                       .map(resourceValidationFactory)\n-                       .map(rv -> {\n-                           URI toCheck = rv.getUri();\n-                           boolean validatable = Optional.ofNullable(toCheck.getScheme())\n-                                                         .map(s -> ALLOWED_SCHEMES.contains(s))\n-                                                         .orElse(false)\n-                                                         && !excludeHrefsPattern.matcher(rv.toString()).matches();\n-                           if (!validatable)\n-                           {\n-                               rv.setCheckStatus(CheckStatus.FILTERED);\n-                           }\n-                           return rv;\n-                       });\n+        return elements\n+                .map(e -> Pair.of(getElementAttribute(e, \"href\").orElseGet(() -> e.attr(\"src\")).trim(), getSelector(e)))\n+                .filter(p -> !p.getKey().isEmpty() || softAssert.recordFailedAssertion(\n+                        \"Element by selector \" + p.getValue() + \" doesn't contain href/src attributes\"))\n+                .map(p -> Pair.of(createUri(p.getKey()), p.getValue())).map(resourceValidationFactory).peek(rv ->\n+                {\n+                    if (!Optional.ofNullable(rv.getUri().getScheme()).map(ALLOWED_SCHEMES::contains).orElse(false)\n+                            || excludeHrefsPattern.matcher(rv.toString()).matches())\n+                    {\n+                        rv.setCheckStatus(CheckStatus.FILTERED);\n+                    }\n+                });", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "688136f61dd1e82170d6c843f7c85c2572d00f97"}, "originalPosition": 38}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ2NjIxNjI4OnYy", "diffSide": "RIGHT", "path": "vividus-plugin-web-app-to-rest-api/src/main/java/org/vividus/bdd/steps/integration/ResourceCheckSteps.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNVQxMjo0ODoyOVrOF7Zabw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNVQxMzoyODowNlrOF7a9TQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzgyNjY3MQ==", "bodyText": "Move into separte method\nprivate boolean notEmpty(Pair<String, String>)\n{\n    return  !p.getKey().isEmpty() || softAssert.recordFailedAssertion(\"Element by selector \" + p.getValue() + \" doesn't contain href/src attributes\");\n}\n// and use it like:\n.filter(this::notEmpty)", "url": "https://github.com/vividus-framework/vividus/pull/430#discussion_r397826671", "createdAt": "2020-03-25T12:48:29Z", "author": {"login": "ikalinin1"}, "path": "vividus-plugin-web-app-to-rest-api/src/main/java/org/vividus/bdd/steps/integration/ResourceCheckSteps.java", "diffHunk": "@@ -122,21 +123,18 @@ private ResourceValidation validate(ResourceValidation r)\n     private Stream<ResourceValidation> createResourceValidations(Stream<Element> elements,\n             Function<Pair<URI, String>, ResourceValidation> resourceValidationFactory)\n     {\n-        return elements.map(e ->\n-            Pair.of(createUri(getElementAttribute(e, \"href\").orElseGet(() -> e.attr(\"src\")).trim()), getSelector(e)))\n-                       .map(resourceValidationFactory)\n-                       .map(rv -> {\n-                           URI toCheck = rv.getUri();\n-                           boolean validatable = Optional.ofNullable(toCheck.getScheme())\n-                                                         .map(s -> ALLOWED_SCHEMES.contains(s))\n-                                                         .orElse(false)\n-                                                         && !excludeHrefsPattern.matcher(rv.toString()).matches();\n-                           if (!validatable)\n-                           {\n-                               rv.setCheckStatus(CheckStatus.FILTERED);\n-                           }\n-                           return rv;\n-                       });\n+        return elements\n+                .map(e -> Pair.of(getElementAttribute(e, \"href\").orElseGet(() -> e.attr(\"src\")).trim(), getSelector(e)))\n+                .filter(p -> !p.getKey().isEmpty() || softAssert.recordFailedAssertion(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "688136f61dd1e82170d6c843f7c85c2572d00f97"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzg1MTk4MQ==", "bodyText": "I would not move it, because logic is tightly coupled ('src', 'href' references)", "url": "https://github.com/vividus-framework/vividus/pull/430#discussion_r397851981", "createdAt": "2020-03-25T13:28:06Z", "author": {"login": "valfirst"}, "path": "vividus-plugin-web-app-to-rest-api/src/main/java/org/vividus/bdd/steps/integration/ResourceCheckSteps.java", "diffHunk": "@@ -122,21 +123,18 @@ private ResourceValidation validate(ResourceValidation r)\n     private Stream<ResourceValidation> createResourceValidations(Stream<Element> elements,\n             Function<Pair<URI, String>, ResourceValidation> resourceValidationFactory)\n     {\n-        return elements.map(e ->\n-            Pair.of(createUri(getElementAttribute(e, \"href\").orElseGet(() -> e.attr(\"src\")).trim()), getSelector(e)))\n-                       .map(resourceValidationFactory)\n-                       .map(rv -> {\n-                           URI toCheck = rv.getUri();\n-                           boolean validatable = Optional.ofNullable(toCheck.getScheme())\n-                                                         .map(s -> ALLOWED_SCHEMES.contains(s))\n-                                                         .orElse(false)\n-                                                         && !excludeHrefsPattern.matcher(rv.toString()).matches();\n-                           if (!validatable)\n-                           {\n-                               rv.setCheckStatus(CheckStatus.FILTERED);\n-                           }\n-                           return rv;\n-                       });\n+        return elements\n+                .map(e -> Pair.of(getElementAttribute(e, \"href\").orElseGet(() -> e.attr(\"src\")).trim(), getSelector(e)))\n+                .filter(p -> !p.getKey().isEmpty() || softAssert.recordFailedAssertion(", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzgyNjY3MQ=="}, "originalCommit": {"oid": "688136f61dd1e82170d6c843f7c85c2572d00f97"}, "originalPosition": 29}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 378, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}