{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDgyNTgxMjE2", "number": 911, "title": "[plugin-mobile-app] Add tap step", "bodyText": "", "createdAt": "2020-09-09T07:07:53Z", "url": "https://github.com/vividus-framework/vividus/pull/911", "merged": true, "mergeCommit": {"oid": "69f62ef42d3c1d61f0083acda9d9197115ac9be8"}, "closed": true, "closedAt": "2020-09-11T08:56:09Z", "author": {"login": "uarlouski"}, "timelineItems": {"totalCount": 28, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdHHTwOgBqjM3NDQ0MTMyODA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdHw_S4gFqTQ4NjU3MTkwMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "54ad5fdf8257f8a210ba61948a438dd5c29187f8", "author": {"user": {"login": "uarlouski", "name": "Uladzislau Arlouski"}}, "url": "https://github.com/vividus-framework/vividus/commit/54ad5fdf8257f8a210ba61948a438dd5c29187f8", "committedDate": "2020-09-09T07:01:46Z", "message": "tap"}, "afterCommit": {"oid": "f8ae8ec7aa9abdc4fbffec5c5cc14c70e8479491", "author": {"user": {"login": "uarlouski", "name": "Uladzislau Arlouski"}}, "url": "https://github.com/vividus-framework/vividus/commit/f8ae8ec7aa9abdc4fbffec5c5cc14c70e8479491", "committedDate": "2020-09-09T07:45:23Z", "message": "[plugin-mobile-app] Add tap step"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg0NzcyNDIy", "url": "https://github.com/vividus-framework/vividus/pull/911#pullrequestreview-484772422", "createdAt": "2020-09-09T08:23:20Z", "commit": {"oid": "f8ae8ec7aa9abdc4fbffec5c5cc14c70e8479491"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOVQwODoyMzoyMFrOHO8NgA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOVQwODozMTowMlrOHO8g1w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTQyODYwOA==", "bodyText": "I think it requires explanation for end-users what tap duration is", "url": "https://github.com/vividus-framework/vividus/pull/911#discussion_r485428608", "createdAt": "2020-09-09T08:23:20Z", "author": {"login": "valfirst"}, "path": "docs/modules/plugins/pages/plugin-mobile-app.adoc", "diffHunk": "@@ -158,4 +163,31 @@ Given I start mobile application with capabilities:\n |appium:options.clearSystemFiles|false|\n ----\n \n+=== Tap on element\n+\n+==== *_Info_*\n+\n+Taps on element located by locator with specified duration\n+\n+==== *_Wording_*\n+\n+[source,gherkin]\n+----\n+When I tap on element located by `$locator` with duration `$duration`\n+----\n+\n+==== *_Parameters_*\n+\n+. `$locator` - <<_locator>>\n+. `$duration` - tap duration in https://en.wikipedia.org/wiki/ISO_8601#Durations[ISO 8601 format]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f8ae8ec7aa9abdc4fbffec5c5cc14c70e8479491"}, "originalPosition": 43}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTQyODc4MA==", "bodyText": "Taps on the element located by the locator with the specified duration", "url": "https://github.com/vividus-framework/vividus/pull/911#discussion_r485428780", "createdAt": "2020-09-09T08:23:37Z", "author": {"login": "valfirst"}, "path": "docs/modules/plugins/pages/plugin-mobile-app.adoc", "diffHunk": "@@ -158,4 +163,31 @@ Given I start mobile application with capabilities:\n |appium:options.clearSystemFiles|false|\n ----\n \n+=== Tap on element\n+\n+==== *_Info_*\n+\n+Taps on element located by locator with specified duration", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f8ae8ec7aa9abdc4fbffec5c5cc14c70e8479491"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTQyODg5NA==", "bodyText": "invalid example", "url": "https://github.com/vividus-framework/vividus/pull/911#discussion_r485428894", "createdAt": "2020-09-09T08:23:49Z", "author": {"login": "valfirst"}, "path": "docs/modules/plugins/pages/plugin-mobile-app.adoc", "diffHunk": "@@ -158,4 +163,31 @@ Given I start mobile application with capabilities:\n |appium:options.clearSystemFiles|false|\n ----\n \n+=== Tap on element\n+\n+==== *_Info_*\n+\n+Taps on element located by locator with specified duration\n+\n+==== *_Wording_*\n+\n+[source,gherkin]\n+----\n+When I tap on element located by `$locator` with duration `$duration`\n+----\n+\n+==== *_Parameters_*\n+\n+. `$locator` - <<_locator>>\n+. `$duration` - tap duration in https://en.wikipedia.org/wiki/ISO_8601#Durations[ISO 8601 format]\n+\n+==== *_Usage_*\n+\n+.Sample.story\n+[source,gherkin]\n+----\n+Scenario: Start mobile application\n+Given I start mobile application", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f8ae8ec7aa9abdc4fbffec5c5cc14c70e8479491"}, "originalPosition": 51}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTQzMTI5Ng==", "bodyText": "MobileAppElementSteps -> ActionSteps ?", "url": "https://github.com/vividus-framework/vividus/pull/911#discussion_r485431296", "createdAt": "2020-09-09T08:27:37Z", "author": {"login": "valfirst"}, "path": "vividus-plugin-mobile-app/src/main/java/org/vividus/bdd/mobileapp/steps/MobileAppElementSteps.java", "diffHunk": "@@ -0,0 +1,49 @@\n+/*\n+ * Copyright 2019-2020 the original author or authors.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     https://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.vividus.bdd.mobileapp.steps;\n+\n+import java.time.Duration;\n+\n+import org.jbehave.core.annotations.When;\n+import org.openqa.selenium.WebElement;\n+import org.vividus.bdd.mobileapp.action.TapActions;\n+import org.vividus.bdd.steps.ui.validation.IBaseValidations;\n+import org.vividus.ui.action.search.Locator;\n+\n+public class MobileAppElementSteps", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f8ae8ec7aa9abdc4fbffec5c5cc14c70e8479491"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTQzMTQ1MQ==", "bodyText": "logically actions should go first", "url": "https://github.com/vividus-framework/vividus/pull/911#discussion_r485431451", "createdAt": "2020-09-09T08:27:51Z", "author": {"login": "valfirst"}, "path": "vividus-plugin-mobile-app/src/main/java/org/vividus/bdd/mobileapp/steps/MobileAppElementSteps.java", "diffHunk": "@@ -0,0 +1,49 @@\n+/*\n+ * Copyright 2019-2020 the original author or authors.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     https://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.vividus.bdd.mobileapp.steps;\n+\n+import java.time.Duration;\n+\n+import org.jbehave.core.annotations.When;\n+import org.openqa.selenium.WebElement;\n+import org.vividus.bdd.mobileapp.action.TapActions;\n+import org.vividus.bdd.steps.ui.validation.IBaseValidations;\n+import org.vividus.ui.action.search.Locator;\n+\n+public class MobileAppElementSteps\n+{\n+    private final IBaseValidations baseValidations;\n+    private final TapActions tapActions;\n+\n+    public MobileAppElementSteps(IBaseValidations baseValidations, TapActions tapActions)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f8ae8ec7aa9abdc4fbffec5c5cc14c70e8479491"}, "originalPosition": 32}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTQzMTcwNg==", "bodyText": "to locate element -> to find an element", "url": "https://github.com/vividus-framework/vividus/pull/911#discussion_r485431706", "createdAt": "2020-09-09T08:28:13Z", "author": {"login": "valfirst"}, "path": "vividus-plugin-mobile-app/src/main/java/org/vividus/bdd/mobileapp/steps/MobileAppElementSteps.java", "diffHunk": "@@ -0,0 +1,49 @@\n+/*\n+ * Copyright 2019-2020 the original author or authors.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     https://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.vividus.bdd.mobileapp.steps;\n+\n+import java.time.Duration;\n+\n+import org.jbehave.core.annotations.When;\n+import org.openqa.selenium.WebElement;\n+import org.vividus.bdd.mobileapp.action.TapActions;\n+import org.vividus.bdd.steps.ui.validation.IBaseValidations;\n+import org.vividus.ui.action.search.Locator;\n+\n+public class MobileAppElementSteps\n+{\n+    private final IBaseValidations baseValidations;\n+    private final TapActions tapActions;\n+\n+    public MobileAppElementSteps(IBaseValidations baseValidations, TapActions tapActions)\n+    {\n+        this.baseValidations = baseValidations;\n+        this.tapActions = tapActions;\n+    }\n+\n+    /**\n+     * Taps on <b>element</b> located by <b>locator</b> with specified <b>duration</b>\n+     * @param locator locator to locate element", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f8ae8ec7aa9abdc4fbffec5c5cc14c70e8479491"}, "originalPosition": 40}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTQzMjA3Mw==", "bodyText": "rework to avoid duplication", "url": "https://github.com/vividus-framework/vividus/pull/911#discussion_r485432073", "createdAt": "2020-09-09T08:28:44Z", "author": {"login": "valfirst"}, "path": "vividus-plugin-mobile-app/src/main/java/org/vividus/bdd/mobileapp/steps/MobileAppElementSteps.java", "diffHunk": "@@ -0,0 +1,49 @@\n+/*\n+ * Copyright 2019-2020 the original author or authors.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     https://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.vividus.bdd.mobileapp.steps;\n+\n+import java.time.Duration;\n+\n+import org.jbehave.core.annotations.When;\n+import org.openqa.selenium.WebElement;\n+import org.vividus.bdd.mobileapp.action.TapActions;\n+import org.vividus.bdd.steps.ui.validation.IBaseValidations;\n+import org.vividus.ui.action.search.Locator;\n+\n+public class MobileAppElementSteps\n+{\n+    private final IBaseValidations baseValidations;\n+    private final TapActions tapActions;\n+\n+    public MobileAppElementSteps(IBaseValidations baseValidations, TapActions tapActions)\n+    {\n+        this.baseValidations = baseValidations;\n+        this.tapActions = tapActions;\n+    }\n+\n+    /**\n+     * Taps on <b>element</b> located by <b>locator</b> with specified <b>duration</b>\n+     * @param locator locator to locate element\n+     * @param duration in format <a href=\"https://en.wikipedia.org/wiki/ISO_8601\">Duration Format</a>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f8ae8ec7aa9abdc4fbffec5c5cc14c70e8479491"}, "originalPosition": 41}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTQzMjY0Nw==", "bodyText": "use validation API which doesn't rely on descriptive soft assert", "url": "https://github.com/vividus-framework/vividus/pull/911#discussion_r485432647", "createdAt": "2020-09-09T08:29:38Z", "author": {"login": "valfirst"}, "path": "vividus-plugin-mobile-app/src/main/java/org/vividus/bdd/mobileapp/steps/MobileAppElementSteps.java", "diffHunk": "@@ -0,0 +1,49 @@\n+/*\n+ * Copyright 2019-2020 the original author or authors.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     https://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.vividus.bdd.mobileapp.steps;\n+\n+import java.time.Duration;\n+\n+import org.jbehave.core.annotations.When;\n+import org.openqa.selenium.WebElement;\n+import org.vividus.bdd.mobileapp.action.TapActions;\n+import org.vividus.bdd.steps.ui.validation.IBaseValidations;\n+import org.vividus.ui.action.search.Locator;\n+\n+public class MobileAppElementSteps\n+{\n+    private final IBaseValidations baseValidations;\n+    private final TapActions tapActions;\n+\n+    public MobileAppElementSteps(IBaseValidations baseValidations, TapActions tapActions)\n+    {\n+        this.baseValidations = baseValidations;\n+        this.tapActions = tapActions;\n+    }\n+\n+    /**\n+     * Taps on <b>element</b> located by <b>locator</b> with specified <b>duration</b>\n+     * @param locator locator to locate element\n+     * @param duration in format <a href=\"https://en.wikipedia.org/wiki/ISO_8601\">Duration Format</a>\n+     */\n+    @When(\"I tap on element located by `$locator` with duration `$duration`\")\n+    public void tapByLocator(Locator locator, Duration duration)\n+    {\n+        WebElement element = baseValidations.assertIfElementExists(\"Element to tap\", locator);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f8ae8ec7aa9abdc4fbffec5c5cc14c70e8479491"}, "originalPosition": 46}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTQzMzA2NQ==", "bodyText": "it should go as a separate commit/PR", "url": "https://github.com/vividus-framework/vividus/pull/911#discussion_r485433065", "createdAt": "2020-09-09T08:30:13Z", "author": {"login": "valfirst"}, "path": "vividus-plugin-mobile-app/src/main/java/org/vividus/ui/mobile/action/search/AppiumHow.java", "diffHunk": "@@ -28,6 +30,14 @@ public By buildBy(String value)\n         {\n             return How.XPATH.buildBy(value);\n         }\n+    },\n+    ACCESSIBILITY_ID", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f8ae8ec7aa9abdc4fbffec5c5cc14c70e8479491"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTQzMzU1OQ==", "bodyText": "org.vividus.mobileapp.action.TapActions", "url": "https://github.com/vividus-framework/vividus/pull/911#discussion_r485433559", "createdAt": "2020-09-09T08:31:02Z", "author": {"login": "valfirst"}, "path": "vividus-plugin-mobile-app/src/main/java/org/vividus/bdd/mobileapp/action/TapActions.java", "diffHunk": "@@ -0,0 +1,52 @@\n+/*\n+ * Copyright 2019-2020 the original author or authors.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     https://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.vividus.bdd.mobileapp.action;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f8ae8ec7aa9abdc4fbffec5c5cc14c70e8479491"}, "originalPosition": 17}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f8ae8ec7aa9abdc4fbffec5c5cc14c70e8479491", "author": {"user": {"login": "uarlouski", "name": "Uladzislau Arlouski"}}, "url": "https://github.com/vividus-framework/vividus/commit/f8ae8ec7aa9abdc4fbffec5c5cc14c70e8479491", "committedDate": "2020-09-09T07:45:23Z", "message": "[plugin-mobile-app] Add tap step"}, "afterCommit": {"oid": "49476b565a4aebe26bb1ee3d5553898938fe1f83", "author": {"user": {"login": "uarlouski", "name": "Uladzislau Arlouski"}}, "url": "https://github.com/vividus-framework/vividus/commit/49476b565a4aebe26bb1ee3d5553898938fe1f83", "committedDate": "2020-09-10T08:03:32Z", "message": "[plugin-mobile-app] Add tap step"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "49476b565a4aebe26bb1ee3d5553898938fe1f83", "author": {"user": {"login": "uarlouski", "name": "Uladzislau Arlouski"}}, "url": "https://github.com/vividus-framework/vividus/commit/49476b565a4aebe26bb1ee3d5553898938fe1f83", "committedDate": "2020-09-10T08:03:32Z", "message": "[plugin-mobile-app] Add tap step"}, "afterCommit": {"oid": "151c1589c82d0b536cff552581ebe0603df56671", "author": {"user": {"login": "uarlouski", "name": "Uladzislau Arlouski"}}, "url": "https://github.com/vividus-framework/vividus/commit/151c1589c82d0b536cff552581ebe0603df56671", "committedDate": "2020-09-10T08:08:58Z", "message": "[plugin-mobile-app] Add tap step"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg1NzA4OTEz", "url": "https://github.com/vividus-framework/vividus/pull/911#pullrequestreview-485708913", "createdAt": "2020-09-10T08:37:50Z", "commit": {"oid": "151c1589c82d0b536cff552581ebe0603df56671"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMFQwODozNzo1MFrOHPpLEA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMFQwODo0MDozOVrOHPpSiw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjE2NTI2NA==", "bodyText": "businessDescription -> description", "url": "https://github.com/vividus-framework/vividus/pull/911#discussion_r486165264", "createdAt": "2020-09-10T08:37:50Z", "author": {"login": "valfirst"}, "path": "vividus-extension-selenium/src/main/java/org/vividus/bdd/steps/ui/validation/BaseValidations.java", "diffHunk": "@@ -90,6 +90,19 @@ else if (softAssert.assertThat(businessDescription, systemDescription, elements,\n         return null;\n     }\n \n+    private WebElement assertElementExists(String businessDescription, List<WebElement> elements)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "151c1589c82d0b536cff552581ebe0603df56671"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjE2NTYyOQ==", "bodyText": "how does the failed assertion look like?", "url": "https://github.com/vividus-framework/vividus/pull/911#discussion_r486165629", "createdAt": "2020-09-10T08:38:16Z", "author": {"login": "valfirst"}, "path": "vividus-extension-selenium/src/main/java/org/vividus/bdd/steps/ui/validation/BaseValidations.java", "diffHunk": "@@ -90,6 +90,19 @@ else if (softAssert.assertThat(businessDescription, systemDescription, elements,\n         return null;\n     }\n \n+    private WebElement assertElementExists(String businessDescription, List<WebElement> elements)\n+    {\n+        if (elements.size() > 1)\n+        {\n+            assertElementNumber(businessDescription, elements, elementNumber(Matchers.comparesEqualTo(1)));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "151c1589c82d0b536cff552581ebe0603df56671"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjE2NTg0NA==", "bodyText": "how does the failed assertion look like?", "url": "https://github.com/vividus-framework/vividus/pull/911#discussion_r486165844", "createdAt": "2020-09-10T08:38:34Z", "author": {"login": "valfirst"}, "path": "vividus-extension-selenium/src/main/java/org/vividus/bdd/steps/ui/validation/BaseValidations.java", "diffHunk": "@@ -90,6 +90,19 @@ else if (softAssert.assertThat(businessDescription, systemDescription, elements,\n         return null;\n     }\n \n+    private WebElement assertElementExists(String businessDescription, List<WebElement> elements)\n+    {\n+        if (elements.size() > 1)\n+        {\n+            assertElementNumber(businessDescription, elements, elementNumber(Matchers.comparesEqualTo(1)));\n+        }\n+        else if (softAssert.assertThat(businessDescription, elements, ExistsMatcher.exists()))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "151c1589c82d0b536cff552581ebe0603df56671"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjE2NjA0Ng==", "bodyText": "what about using Optional?", "url": "https://github.com/vividus-framework/vividus/pull/911#discussion_r486166046", "createdAt": "2020-09-10T08:38:54Z", "author": {"login": "valfirst"}, "path": "vividus-extension-selenium/src/main/java/org/vividus/bdd/steps/ui/validation/BaseValidations.java", "diffHunk": "@@ -90,6 +90,19 @@ else if (softAssert.assertThat(businessDescription, systemDescription, elements,\n         return null;\n     }\n \n+    private WebElement assertElementExists(String businessDescription, List<WebElement> elements)\n+    {\n+        if (elements.size() > 1)\n+        {\n+            assertElementNumber(businessDescription, elements, elementNumber(Matchers.comparesEqualTo(1)));\n+        }\n+        else if (softAssert.assertThat(businessDescription, elements, ExistsMatcher.exists()))\n+        {\n+            return elements.get(0);\n+        }\n+        return null;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "151c1589c82d0b536cff552581ebe0603df56671"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjE2NjMxMg==", "bodyText": "businessDescription -> description", "url": "https://github.com/vividus-framework/vividus/pull/911#discussion_r486166312", "createdAt": "2020-09-10T08:39:21Z", "author": {"login": "valfirst"}, "path": "vividus-extension-selenium/src/main/java/org/vividus/bdd/steps/ui/validation/BaseValidations.java", "diffHunk": "@@ -113,6 +126,13 @@ private boolean assertElementNumber(String businessDescription, String systemDes\n             () -> softAssert.assertThat(businessDescription, systemDescription, elements, matcher));\n     }\n \n+    private boolean assertElementNumber(String businessDescription, List<WebElement> elements,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "151c1589c82d0b536cff552581ebe0603df56671"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjE2NzE3OQ==", "bodyText": "please mark it as @Deprecated, also do not forget to add javadoc", "url": "https://github.com/vividus-framework/vividus/pull/911#discussion_r486167179", "createdAt": "2020-09-10T08:40:39Z", "author": {"login": "valfirst"}, "path": "vividus-extension-selenium/src/main/java/org/vividus/bdd/steps/ui/validation/IBaseValidations.java", "diffHunk": "@@ -50,6 +50,8 @@ boolean assertLeastElementNumber(String businessDescription, String systemDescri\n \n     WebElement assertIfElementExists(String businessDescription, Locator locator);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "151c1589c82d0b536cff552581ebe0603df56671"}, "originalPosition": 2}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg1NzYwNDE0", "url": "https://github.com/vividus-framework/vividus/pull/911#pullrequestreview-485760414", "createdAt": "2020-09-10T09:40:46Z", "commit": {"oid": "151c1589c82d0b536cff552581ebe0603df56671"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMFQwOTo0MDo0N1rOHPrltw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMFQwOTo0MDo0N1rOHPrltw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjIwNDg1NQ==", "bodyText": "The element to tap?", "url": "https://github.com/vividus-framework/vividus/pull/911#discussion_r486204855", "createdAt": "2020-09-10T09:40:47Z", "author": {"login": "valfirst"}, "path": "vividus-plugin-mobile-app/src/main/java/org/vividus/bdd/mobileapp/steps/ActionSteps.java", "diffHunk": "@@ -0,0 +1,50 @@\n+/*\n+ * Copyright 2019-2020 the original author or authors.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     https://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.vividus.bdd.mobileapp.steps;\n+\n+import java.time.Duration;\n+\n+import org.jbehave.core.annotations.When;\n+import org.openqa.selenium.WebElement;\n+import org.vividus.bdd.steps.ui.validation.IBaseValidations;\n+import org.vividus.mobileapp.action.TapActions;\n+import org.vividus.ui.action.search.Locator;\n+\n+public class ActionSteps\n+{\n+    private final TapActions tapActions;\n+    private final IBaseValidations baseValidations;\n+\n+    public ActionSteps(TapActions tapActions, IBaseValidations baseValidations)\n+    {\n+        this.tapActions = tapActions;\n+        this.baseValidations = baseValidations;\n+    }\n+\n+    /**\n+     * Taps on <b>element</b> located by <b>locator</b> with specified <b>duration</b>\n+     * @param locator locator to find an element\n+     * @param duration between an element is pressed and released in\n+     * <a href=\"https://en.wikipedia.org/wiki/ISO_8601\">ISO_8601</a> format\n+     */\n+    @When(\"I tap on element located by `$locator` with duration `$duration`\")\n+    public void tapByLocator(Locator locator, Duration duration)\n+    {\n+        WebElement element = baseValidations.assertElementExists(\"Element to tap\", locator);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "151c1589c82d0b536cff552581ebe0603df56671"}, "originalPosition": 47}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "151c1589c82d0b536cff552581ebe0603df56671", "author": {"user": {"login": "uarlouski", "name": "Uladzislau Arlouski"}}, "url": "https://github.com/vividus-framework/vividus/commit/151c1589c82d0b536cff552581ebe0603df56671", "committedDate": "2020-09-10T08:08:58Z", "message": "[plugin-mobile-app] Add tap step"}, "afterCommit": {"oid": "5c1324664c5e9c46ada1228498b08a717c14a088", "author": {"user": {"login": "uarlouski", "name": "Uladzislau Arlouski"}}, "url": "https://github.com/vividus-framework/vividus/commit/5c1324664c5e9c46ada1228498b08a717c14a088", "committedDate": "2020-09-10T09:53:47Z", "message": "[plugin-mobile-app] Add tap step"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5c1324664c5e9c46ada1228498b08a717c14a088", "author": {"user": {"login": "uarlouski", "name": "Uladzislau Arlouski"}}, "url": "https://github.com/vividus-framework/vividus/commit/5c1324664c5e9c46ada1228498b08a717c14a088", "committedDate": "2020-09-10T09:53:47Z", "message": "[plugin-mobile-app] Add tap step"}, "afterCommit": {"oid": "f682d484d31784ac16ea626fea60be800610a2cb", "author": {"user": {"login": "uarlouski", "name": "Uladzislau Arlouski"}}, "url": "https://github.com/vividus-framework/vividus/commit/f682d484d31784ac16ea626fea60be800610a2cb", "committedDate": "2020-09-10T09:57:43Z", "message": "[plugin-mobile-app] Add tap step"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg1Nzg3MzY0", "url": "https://github.com/vividus-framework/vividus/pull/911#pullrequestreview-485787364", "createdAt": "2020-09-10T10:17:11Z", "commit": {"oid": "f682d484d31784ac16ea626fea60be800610a2cb"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMFQxMDoxNzoxMVrOHPs49A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMFQxMDoyNDo0MlrOHPtJTw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjIyNjE2NA==", "bodyText": "Won't it be confusing: having the tap step with duration only?", "url": "https://github.com/vividus-framework/vividus/pull/911#discussion_r486226164", "createdAt": "2020-09-10T10:17:11Z", "author": {"login": "ikalinin1"}, "path": "vividus-plugin-mobile-app/src/main/java/org/vividus/bdd/mobileapp/steps/ActionSteps.java", "diffHunk": "@@ -0,0 +1,48 @@\n+/*\n+ * Copyright 2019-2020 the original author or authors.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     https://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.vividus.bdd.mobileapp.steps;\n+\n+import java.time.Duration;\n+\n+import org.jbehave.core.annotations.When;\n+import org.vividus.bdd.steps.ui.validation.IBaseValidations;\n+import org.vividus.mobileapp.action.TapActions;\n+import org.vividus.ui.action.search.Locator;\n+\n+public class ActionSteps\n+{\n+    private final TapActions tapActions;\n+    private final IBaseValidations baseValidations;\n+\n+    public ActionSteps(TapActions tapActions, IBaseValidations baseValidations)\n+    {\n+        this.tapActions = tapActions;\n+        this.baseValidations = baseValidations;\n+    }\n+\n+    /**\n+     * Taps on <b>element</b> located by <b>locator</b> with specified <b>duration</b>\n+     * @param locator locator to find an element\n+     * @param duration between an element is pressed and released in\n+     * <a href=\"https://en.wikipedia.org/wiki/ISO_8601\">ISO_8601</a> format\n+     */\n+    @When(\"I tap on element located by `$locator` with duration `$duration`\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f682d484d31784ac16ea626fea60be800610a2cb"}, "originalPosition": 43}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjIyNzY1MQ==", "bodyText": "The questions I got are:\n\nwhat duration will fit my app?\nIs it 0?\nis it something else?\nHow to choose?\nIf it 0 why I should even care?", "url": "https://github.com/vividus-framework/vividus/pull/911#discussion_r486227651", "createdAt": "2020-09-10T10:19:49Z", "author": {"login": "ikalinin1"}, "path": "vividus-plugin-mobile-app/src/main/java/org/vividus/bdd/mobileapp/steps/ActionSteps.java", "diffHunk": "@@ -0,0 +1,48 @@\n+/*\n+ * Copyright 2019-2020 the original author or authors.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     https://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.vividus.bdd.mobileapp.steps;\n+\n+import java.time.Duration;\n+\n+import org.jbehave.core.annotations.When;\n+import org.vividus.bdd.steps.ui.validation.IBaseValidations;\n+import org.vividus.mobileapp.action.TapActions;\n+import org.vividus.ui.action.search.Locator;\n+\n+public class ActionSteps\n+{\n+    private final TapActions tapActions;\n+    private final IBaseValidations baseValidations;\n+\n+    public ActionSteps(TapActions tapActions, IBaseValidations baseValidations)\n+    {\n+        this.tapActions = tapActions;\n+        this.baseValidations = baseValidations;\n+    }\n+\n+    /**\n+     * Taps on <b>element</b> located by <b>locator</b> with specified <b>duration</b>\n+     * @param locator locator to find an element\n+     * @param duration between an element is pressed and released in\n+     * <a href=\"https://en.wikipedia.org/wiki/ISO_8601\">ISO_8601</a> format\n+     */\n+    @When(\"I tap on element located by `$locator` with duration `$duration`\")", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjIyNjE2NA=="}, "originalCommit": {"oid": "f682d484d31784ac16ea626fea60be800610a2cb"}, "originalPosition": 43}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjIyODQ5OQ==", "bodyText": "Since the tap will be called only if the element exists why the tap performs a nullability check?", "url": "https://github.com/vividus-framework/vividus/pull/911#discussion_r486228499", "createdAt": "2020-09-10T10:21:11Z", "author": {"login": "ikalinin1"}, "path": "vividus-plugin-mobile-app/src/main/java/org/vividus/bdd/mobileapp/steps/ActionSteps.java", "diffHunk": "@@ -0,0 +1,48 @@\n+/*\n+ * Copyright 2019-2020 the original author or authors.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     https://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.vividus.bdd.mobileapp.steps;\n+\n+import java.time.Duration;\n+\n+import org.jbehave.core.annotations.When;\n+import org.vividus.bdd.steps.ui.validation.IBaseValidations;\n+import org.vividus.mobileapp.action.TapActions;\n+import org.vividus.ui.action.search.Locator;\n+\n+public class ActionSteps\n+{\n+    private final TapActions tapActions;\n+    private final IBaseValidations baseValidations;\n+\n+    public ActionSteps(TapActions tapActions, IBaseValidations baseValidations)\n+    {\n+        this.tapActions = tapActions;\n+        this.baseValidations = baseValidations;\n+    }\n+\n+    /**\n+     * Taps on <b>element</b> located by <b>locator</b> with specified <b>duration</b>\n+     * @param locator locator to find an element\n+     * @param duration between an element is pressed and released in\n+     * <a href=\"https://en.wikipedia.org/wiki/ISO_8601\">ISO_8601</a> format\n+     */\n+    @When(\"I tap on element located by `$locator` with duration `$duration`\")\n+    public void tapByLocator(Locator locator, Duration duration)\n+    {\n+        baseValidations.assertElementExists(\"The element to tap\", locator).ifPresent(e -> tapActions.tap(e, duration));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f682d484d31784ac16ea626fea60be800610a2cb"}, "originalPosition": 46}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjIzMDM1MQ==", "bodyText": "located by -> located", "url": "https://github.com/vividus-framework/vividus/pull/911#discussion_r486230351", "createdAt": "2020-09-10T10:24:42Z", "author": {"login": "ikalinin1"}, "path": "vividus-plugin-mobile-app/src/main/java/org/vividus/bdd/mobileapp/steps/ActionSteps.java", "diffHunk": "@@ -0,0 +1,48 @@\n+/*\n+ * Copyright 2019-2020 the original author or authors.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     https://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.vividus.bdd.mobileapp.steps;\n+\n+import java.time.Duration;\n+\n+import org.jbehave.core.annotations.When;\n+import org.vividus.bdd.steps.ui.validation.IBaseValidations;\n+import org.vividus.mobileapp.action.TapActions;\n+import org.vividus.ui.action.search.Locator;\n+\n+public class ActionSteps\n+{\n+    private final TapActions tapActions;\n+    private final IBaseValidations baseValidations;\n+\n+    public ActionSteps(TapActions tapActions, IBaseValidations baseValidations)\n+    {\n+        this.tapActions = tapActions;\n+        this.baseValidations = baseValidations;\n+    }\n+\n+    /**\n+     * Taps on <b>element</b> located by <b>locator</b> with specified <b>duration</b>\n+     * @param locator locator to find an element\n+     * @param duration between an element is pressed and released in\n+     * <a href=\"https://en.wikipedia.org/wiki/ISO_8601\">ISO_8601</a> format\n+     */\n+    @When(\"I tap on element located by `$locator` with duration `$duration`\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f682d484d31784ac16ea626fea60be800610a2cb"}, "originalPosition": 43}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f682d484d31784ac16ea626fea60be800610a2cb", "author": {"user": {"login": "uarlouski", "name": "Uladzislau Arlouski"}}, "url": "https://github.com/vividus-framework/vividus/commit/f682d484d31784ac16ea626fea60be800610a2cb", "committedDate": "2020-09-10T09:57:43Z", "message": "[plugin-mobile-app] Add tap step"}, "afterCommit": {"oid": "ccf48e917a852885f0986ef61a36afdecae6fcf7", "author": {"user": {"login": "uarlouski", "name": "Uladzislau Arlouski"}}, "url": "https://github.com/vividus-framework/vividus/commit/ccf48e917a852885f0986ef61a36afdecae6fcf7", "committedDate": "2020-09-10T11:40:39Z", "message": "[plugin-mobile-app] Add tap step"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg2MDAxOTM1", "url": "https://github.com/vividus-framework/vividus/pull/911#pullrequestreview-486001935", "createdAt": "2020-09-10T14:34:44Z", "commit": {"oid": "ccf48e917a852885f0986ef61a36afdecae6fcf7"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMFQxNDozNDo0NFrOHP3JIg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMFQxNDozNDo0NFrOHP3JIg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjM5NDE0Ng==", "bodyText": "I think now this abstraction doesn't make sense", "url": "https://github.com/vividus-framework/vividus/pull/911#discussion_r486394146", "createdAt": "2020-09-10T14:34:44Z", "author": {"login": "valfirst"}, "path": "vividus-extension-selenium/src/main/java/org/vividus/bdd/steps/ui/validation/BaseValidations.java", "diffHunk": "@@ -126,6 +121,42 @@ public WebElement assertIfElementExists(String businessDescription, Locator loca\n         return assertIfElementExists(businessDescription, uiContext.getSearchContext(), locator);\n     }\n \n+    @Override\n+    public Optional<WebElement> assertElementExists(String description, Locator locator)\n+    {\n+        List<WebElement> elements = searchActions.findElements(uiContext.getSearchContext(), locator);\n+        WebElement element = assertElementExists(elements, () ->\n+        {\n+            String assertionFormat = \"The number of elements found by the locator %s is %d, but expected 1\";\n+            softAssert.recordFailedAssertion(String.format(assertionFormat, locator, elements.size()));\n+        }, () -> doesElementExist(description, locator, elements));\n+        return Optional.ofNullable(element);\n+    }\n+\n+    private boolean doesElementExist(String description, Locator locator, List<WebElement> elements)\n+    {\n+        String assertionFormat = \"%s %s found by the locator %s\";\n+        boolean passed = elements.size() == 1;\n+        String condition = passed ? \"is\" : \"is not\";\n+        String assertionMessage = String.format(assertionFormat, description, condition, locator);\n+        return passed ? softAssert.recordPassedAssertion(assertionMessage)\n+                : softAssert.recordFailedAssertion(assertionMessage);\n+    }\n+\n+    public WebElement assertElementExists(List<WebElement> elements, Runnable onMoreThanOneElement,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ccf48e917a852885f0986ef61a36afdecae6fcf7"}, "originalPosition": 53}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ccf48e917a852885f0986ef61a36afdecae6fcf7", "author": {"user": {"login": "uarlouski", "name": "Uladzislau Arlouski"}}, "url": "https://github.com/vividus-framework/vividus/commit/ccf48e917a852885f0986ef61a36afdecae6fcf7", "committedDate": "2020-09-10T11:40:39Z", "message": "[plugin-mobile-app] Add tap step"}, "afterCommit": {"oid": "3c64bfea8db529d7d98dccb0c4822195d1bd1db5", "author": {"user": {"login": "uarlouski", "name": "Uladzislau Arlouski"}}, "url": "https://github.com/vividus-framework/vividus/commit/3c64bfea8db529d7d98dccb0c4822195d1bd1db5", "committedDate": "2020-09-10T15:24:32Z", "message": "[plugin-mobile-app] Add tap step"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3c64bfea8db529d7d98dccb0c4822195d1bd1db5", "author": {"user": {"login": "uarlouski", "name": "Uladzislau Arlouski"}}, "url": "https://github.com/vividus-framework/vividus/commit/3c64bfea8db529d7d98dccb0c4822195d1bd1db5", "committedDate": "2020-09-10T15:24:32Z", "message": "[plugin-mobile-app] Add tap step"}, "afterCommit": {"oid": "a93d303a8f3aef7a104cf4cd9779f6fb88a56e54", "author": {"user": {"login": "uarlouski", "name": "Uladzislau Arlouski"}}, "url": "https://github.com/vividus-framework/vividus/commit/a93d303a8f3aef7a104cf4cd9779f6fb88a56e54", "committedDate": "2020-09-10T15:30:53Z", "message": "[plugin-mobile-app] Add tap step"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a93d303a8f3aef7a104cf4cd9779f6fb88a56e54", "author": {"user": {"login": "uarlouski", "name": "Uladzislau Arlouski"}}, "url": "https://github.com/vividus-framework/vividus/commit/a93d303a8f3aef7a104cf4cd9779f6fb88a56e54", "committedDate": "2020-09-10T15:30:53Z", "message": "[plugin-mobile-app] Add tap step"}, "afterCommit": {"oid": "7a08386a3ab7ae6b7aa2f0f0ccca1523166c835c", "author": {"user": {"login": "uarlouski", "name": "Uladzislau Arlouski"}}, "url": "https://github.com/vividus-framework/vividus/commit/7a08386a3ab7ae6b7aa2f0f0ccca1523166c835c", "committedDate": "2020-09-10T15:35:02Z", "message": "[plugin-mobile-app] Add tap step"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg2MDY0NDg0", "url": "https://github.com/vividus-framework/vividus/pull/911#pullrequestreview-486064484", "createdAt": "2020-09-10T15:37:10Z", "commit": {"oid": "7a08386a3ab7ae6b7aa2f0f0ccca1523166c835c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMFQxNTozNzoxMFrOHP6Bew==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMFQxNTozNzoxMFrOHP6Bew==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjQ0MTMzOQ==", "bodyText": "in this implementation DURATION.ZERO used as a flag.\nCan we use .tap(element(WebDriverUtil.unwrap(element, RemoteWebElement.class))); instead?", "url": "https://github.com/vividus-framework/vividus/pull/911#discussion_r486441339", "createdAt": "2020-09-10T15:37:10Z", "author": {"login": "ikalinin1"}, "path": "vividus-plugin-mobile-app/src/main/java/org/vividus/bdd/mobileapp/steps/ActionSteps.java", "diffHunk": "@@ -0,0 +1,60 @@\n+/*\n+ * Copyright 2019-2020 the original author or authors.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     https://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.vividus.bdd.mobileapp.steps;\n+\n+import java.time.Duration;\n+\n+import org.jbehave.core.annotations.When;\n+import org.vividus.bdd.steps.ui.validation.IBaseValidations;\n+import org.vividus.mobileapp.action.TapActions;\n+import org.vividus.ui.action.search.Locator;\n+\n+public class ActionSteps\n+{\n+    private final TapActions tapActions;\n+    private final IBaseValidations baseValidations;\n+\n+    public ActionSteps(TapActions tapActions, IBaseValidations baseValidations)\n+    {\n+        this.tapActions = tapActions;\n+        this.baseValidations = baseValidations;\n+    }\n+\n+    /**\n+     * Taps on <b>element</b> located by <b>locator</b> with specified <b>duration</b>\n+     * The tap involves the following actions: press => wait => release\n+     * @param locator locator to find an element\n+     * @param duration between an element is pressed and released in\n+     * <a href=\"https://en.wikipedia.org/wiki/ISO_8601\">ISO_8601</a> format\n+     */\n+    @When(\"I tap on element located `$locator` with duration `$duration`\")\n+    public void tapByLocatorWithDuration(Locator locator, Duration duration)\n+    {\n+        baseValidations.assertElementExists(\"The element to tap\", locator).ifPresent(e -> tapActions.tap(e, duration));\n+    }\n+\n+    /**\n+     * Taps on <b>element</b> located by <b>locator</b>\n+     * The tap involves the following actions: press => release\n+     * @param locator locator to find an element\n+     */\n+    @When(\"I tap on element located `$locator`\")\n+    public void tapByLocator(Locator locator)\n+    {\n+        tapByLocatorWithDuration(locator, Duration.ZERO);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7a08386a3ab7ae6b7aa2f0f0ccca1523166c835c"}, "originalPosition": 58}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7a08386a3ab7ae6b7aa2f0f0ccca1523166c835c", "author": {"user": {"login": "uarlouski", "name": "Uladzislau Arlouski"}}, "url": "https://github.com/vividus-framework/vividus/commit/7a08386a3ab7ae6b7aa2f0f0ccca1523166c835c", "committedDate": "2020-09-10T15:35:02Z", "message": "[plugin-mobile-app] Add tap step"}, "afterCommit": {"oid": "1fb04a46faa9d7d947380803a5f0572a897b232d", "author": {"user": {"login": "uarlouski", "name": "Uladzislau Arlouski"}}, "url": "https://github.com/vividus-framework/vividus/commit/1fb04a46faa9d7d947380803a5f0572a897b232d", "committedDate": "2020-09-10T15:47:05Z", "message": "[plugin-mobile-app] Add tap step"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1fb04a46faa9d7d947380803a5f0572a897b232d", "author": {"user": {"login": "uarlouski", "name": "Uladzislau Arlouski"}}, "url": "https://github.com/vividus-framework/vividus/commit/1fb04a46faa9d7d947380803a5f0572a897b232d", "committedDate": "2020-09-10T15:47:05Z", "message": "[plugin-mobile-app] Add tap step"}, "afterCommit": {"oid": "10ba5ee24fa362a7e437689901d1220fedb90958", "author": {"user": {"login": "uarlouski", "name": "Uladzislau Arlouski"}}, "url": "https://github.com/vividus-framework/vividus/commit/10ba5ee24fa362a7e437689901d1220fedb90958", "committedDate": "2020-09-10T15:57:18Z", "message": "[plugin-mobile-app] Add tap step"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg2MTA1MzE5", "url": "https://github.com/vividus-framework/vividus/pull/911#pullrequestreview-486105319", "createdAt": "2020-09-10T16:21:30Z", "commit": {"oid": "10ba5ee24fa362a7e437689901d1220fedb90958"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMFQxNjoyMTozMVrOHP77pA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMFQxNjozMDo1OVrOHP8Tkg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjQ3MjYxMg==", "bodyText": "The atomic actions performed are:\n* press on the element\n* wait for the duration\n* release", "url": "https://github.com/vividus-framework/vividus/pull/911#discussion_r486472612", "createdAt": "2020-09-10T16:21:31Z", "author": {"login": "valfirst"}, "path": "docs/modules/plugins/pages/plugin-mobile-app.adoc", "diffHunk": "@@ -185,4 +185,68 @@ Given I start mobile application with capabilities:\n |appium:options.clearSystemFiles|false|\n ----\n \n+=== Tap on element with duration\n+\n+==== *_Info_*\n+\n+Taps on the element located by the locator with the specified duration.\n+\n+The tap involves the following actions:\n+\n+. pressed\n+. wait\n+. release", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "10ba5ee24fa362a7e437689901d1220fedb90958"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjQ3NDU0NQ==", "bodyText": "The atomic actions performed are:\n* press on the element\n* release", "url": "https://github.com/vividus-framework/vividus/pull/911#discussion_r486474545", "createdAt": "2020-09-10T16:24:31Z", "author": {"login": "valfirst"}, "path": "docs/modules/plugins/pages/plugin-mobile-app.adoc", "diffHunk": "@@ -185,4 +185,68 @@ Given I start mobile application with capabilities:\n |appium:options.clearSystemFiles|false|\n ----\n \n+=== Tap on element with duration\n+\n+==== *_Info_*\n+\n+Taps on the element located by the locator with the specified duration.\n+\n+The tap involves the following actions:\n+\n+. pressed\n+. wait\n+. release\n+\n+==== *_Wording_*\n+\n+[source,gherkin]\n+----\n+When I tap on element located `$locator` with duration `$duration`\n+----\n+\n+==== *_Parameters_*\n+\n+. `$locator` - <<_locator>>\n+. `$duration` - duration between an element is pressed and released in {iso-date-format-link} format\n+\n+==== *_Usage_*\n+\n+.Sample.story\n+[source,gherkin]\n+----\n+Scenario: Tap on element with duration\n+When I tap on element located `accessibilityId(menu-toggler)` with duration `PT0.5S`\n+----\n+\n+=== Tap on element\n+\n+==== *_Info_*\n+\n+Taps on the element located by the locator.\n+\n+The tap involves the following actions:\n+\n+. pressed\n+. release", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "10ba5ee24fa362a7e437689901d1220fedb90958"}, "originalPosition": 46}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjQ3NTc2Mg==", "bodyText": "doesOnlyOneElementExist", "url": "https://github.com/vividus-framework/vividus/pull/911#discussion_r486475762", "createdAt": "2020-09-10T16:26:17Z", "author": {"login": "valfirst"}, "path": "vividus-extension-selenium/src/main/java/org/vividus/bdd/steps/ui/validation/BaseValidations.java", "diffHunk": "@@ -126,6 +126,32 @@ public WebElement assertIfElementExists(String businessDescription, Locator loca\n         return assertIfElementExists(businessDescription, uiContext.getSearchContext(), locator);\n     }\n \n+    @Override\n+    public Optional<WebElement> assertElementExists(String description, Locator locator)\n+    {\n+        List<WebElement> elements = searchActions.findElements(uiContext.getSearchContext(), locator);\n+        if (elements.size() > 1)\n+        {\n+            String assertionFormat = \"The number of elements found by the locator %s is %d, but expected 1\";\n+            softAssert.recordFailedAssertion(String.format(assertionFormat, locator, elements.size()));\n+        }\n+        else if (doesElementExist(description, locator, elements))\n+        {\n+            return Optional.of(elements.get(0));\n+        }\n+        return Optional.empty();\n+    }\n+\n+    private boolean doesElementExist(String description, Locator locator, List<WebElement> elements)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "10ba5ee24fa362a7e437689901d1220fedb90958"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjQ3NzM5Mw==", "bodyText": "I recommend to use StringBuilder", "url": "https://github.com/vividus-framework/vividus/pull/911#discussion_r486477393", "createdAt": "2020-09-10T16:28:50Z", "author": {"login": "valfirst"}, "path": "vividus-extension-selenium/src/main/java/org/vividus/bdd/steps/ui/validation/BaseValidations.java", "diffHunk": "@@ -126,6 +126,32 @@ public WebElement assertIfElementExists(String businessDescription, Locator loca\n         return assertIfElementExists(businessDescription, uiContext.getSearchContext(), locator);\n     }\n \n+    @Override\n+    public Optional<WebElement> assertElementExists(String description, Locator locator)\n+    {\n+        List<WebElement> elements = searchActions.findElements(uiContext.getSearchContext(), locator);\n+        if (elements.size() > 1)\n+        {\n+            String assertionFormat = \"The number of elements found by the locator %s is %d, but expected 1\";\n+            softAssert.recordFailedAssertion(String.format(assertionFormat, locator, elements.size()));\n+        }\n+        else if (doesElementExist(description, locator, elements))\n+        {\n+            return Optional.of(elements.get(0));\n+        }\n+        return Optional.empty();\n+    }\n+\n+    private boolean doesElementExist(String description, Locator locator, List<WebElement> elements)\n+    {\n+        String assertionFormat = \"%s %s found by the locator %s\";\n+        boolean passed = elements.size() == 1;\n+        String condition = passed ? \"is\" : \"is not\";\n+        String assertionMessage = String.format(assertionFormat, description, condition, locator);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "10ba5ee24fa362a7e437689901d1220fedb90958"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjQ3ODczOA==", "bodyText": "if some users want to tap with zero duration (I have no idea why, but taking into account appium it could be anything), then we shouldn't modify the action", "url": "https://github.com/vividus-framework/vividus/pull/911#discussion_r486478738", "createdAt": "2020-09-10T16:30:59Z", "author": {"login": "valfirst"}, "path": "vividus-plugin-mobile-app/src/main/java/org/vividus/bdd/mobileapp/steps/ActionSteps.java", "diffHunk": "@@ -0,0 +1,60 @@\n+/*\n+ * Copyright 2019-2020 the original author or authors.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     https://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.vividus.bdd.mobileapp.steps;\n+\n+import java.time.Duration;\n+\n+import org.jbehave.core.annotations.When;\n+import org.vividus.bdd.steps.ui.validation.IBaseValidations;\n+import org.vividus.mobileapp.action.TapActions;\n+import org.vividus.ui.action.search.Locator;\n+\n+public class ActionSteps\n+{\n+    private final TapActions tapActions;\n+    private final IBaseValidations baseValidations;\n+\n+    public ActionSteps(TapActions tapActions, IBaseValidations baseValidations)\n+    {\n+        this.tapActions = tapActions;\n+        this.baseValidations = baseValidations;\n+    }\n+\n+    /**\n+     * Taps on <b>element</b> located by <b>locator</b> with specified <b>duration</b>\n+     * The tap involves the following actions: press => wait => release\n+     * @param locator locator to find an element\n+     * @param duration between an element is pressed and released in\n+     * <a href=\"https://en.wikipedia.org/wiki/ISO_8601\">ISO_8601</a> format\n+     */\n+    @When(\"I tap on element located `$locator` with duration `$duration`\")\n+    public void tapByLocatorWithDuration(Locator locator, Duration duration)\n+    {\n+        baseValidations.assertElementExists(\"The element to tap\", locator).ifPresent(e -> tapActions.tap(e, duration));\n+    }\n+\n+    /**\n+     * Taps on <b>element</b> located by <b>locator</b>\n+     * The tap involves the following actions: press => release\n+     * @param locator locator to find an element\n+     */\n+    @When(\"I tap on element located `$locator`\")\n+    public void tapByLocator(Locator locator)\n+    {\n+        tapByLocatorWithDuration(locator, Duration.ZERO);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjQ0MTMzOQ=="}, "originalCommit": {"oid": "7a08386a3ab7ae6b7aa2f0f0ccca1523166c835c"}, "originalPosition": 58}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "10ba5ee24fa362a7e437689901d1220fedb90958", "author": {"user": {"login": "uarlouski", "name": "Uladzislau Arlouski"}}, "url": "https://github.com/vividus-framework/vividus/commit/10ba5ee24fa362a7e437689901d1220fedb90958", "committedDate": "2020-09-10T15:57:18Z", "message": "[plugin-mobile-app] Add tap step"}, "afterCommit": {"oid": "812678920537e229f14839bfce4174ce238a9845", "author": {"user": {"login": "uarlouski", "name": "Uladzislau Arlouski"}}, "url": "https://github.com/vividus-framework/vividus/commit/812678920537e229f14839bfce4174ce238a9845", "committedDate": "2020-09-10T18:42:48Z", "message": "[plugin-mobile-app] Add tap step"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "812678920537e229f14839bfce4174ce238a9845", "author": {"user": {"login": "uarlouski", "name": "Uladzislau Arlouski"}}, "url": "https://github.com/vividus-framework/vividus/commit/812678920537e229f14839bfce4174ce238a9845", "committedDate": "2020-09-10T18:42:48Z", "message": "[plugin-mobile-app] Add tap step"}, "afterCommit": {"oid": "e4937bcf90142634003f437821354286321c9d69", "author": {"user": {"login": "uarlouski", "name": "Uladzislau Arlouski"}}, "url": "https://github.com/vividus-framework/vividus/commit/e4937bcf90142634003f437821354286321c9d69", "committedDate": "2020-09-10T18:46:56Z", "message": "[plugin-mobile-app] Add tap step"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg2MjQzMjg0", "url": "https://github.com/vividus-framework/vividus/pull/911#pullrequestreview-486243284", "createdAt": "2020-09-10T19:23:38Z", "commit": {"oid": "e4937bcf90142634003f437821354286321c9d69"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMFQxOToyMzozOFrOHQCliA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMFQxOToyMzozOFrOHQCliA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjU4MTY0MA==", "bodyText": "boolean passed = elements.size() == 1;\nStringBuilder assertionMessageBuilder = new StringBuilder(description).append(\" is \");\nif (!passed)\n{\n    assertionMessageBuilder.append(\"not \");\n}\nassertionMessageBuilder.append(\"found by the locator \").append(locator);\nString assertionMessage = assertionMessageBuilder.toString();\nreturn passed ? softAssert.recordPassedAssertion(assertionMessage)\n        : softAssert.recordFailedAssertion(assertionMessage);", "url": "https://github.com/vividus-framework/vividus/pull/911#discussion_r486581640", "createdAt": "2020-09-10T19:23:38Z", "author": {"login": "valfirst"}, "path": "vividus-extension-selenium/src/main/java/org/vividus/bdd/steps/ui/validation/BaseValidations.java", "diffHunk": "@@ -126,6 +126,31 @@ public WebElement assertIfElementExists(String businessDescription, Locator loca\n         return assertIfElementExists(businessDescription, uiContext.getSearchContext(), locator);\n     }\n \n+    @Override\n+    public Optional<WebElement> assertElementExists(String description, Locator locator)\n+    {\n+        List<WebElement> elements = searchActions.findElements(uiContext.getSearchContext(), locator);\n+        if (elements.size() > 1)\n+        {\n+            String assertionFormat = \"The number of elements found by the locator %s is %d, but expected 1\";\n+            softAssert.recordFailedAssertion(String.format(assertionFormat, locator, elements.size()));\n+        }\n+        else if (doesOnlyOneElementExist(description, locator, elements))\n+        {\n+            return Optional.of(elements.get(0));\n+        }\n+        return Optional.empty();\n+    }\n+\n+    private boolean doesOnlyOneElementExist(String description, Locator locator, List<WebElement> elements)\n+    {\n+        boolean passed = elements.size() == 1;\n+        String condition = passed ? \" is\" : \" is not\";\n+        String assertionMessage = description + condition + \" found by the locator \" + locator;\n+        return passed ? softAssert.recordPassedAssertion(assertionMessage)\n+                : softAssert.recordFailedAssertion(assertionMessage);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e4937bcf90142634003f437821354286321c9d69"}, "originalPosition": 26}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e4937bcf90142634003f437821354286321c9d69", "author": {"user": {"login": "uarlouski", "name": "Uladzislau Arlouski"}}, "url": "https://github.com/vividus-framework/vividus/commit/e4937bcf90142634003f437821354286321c9d69", "committedDate": "2020-09-10T18:46:56Z", "message": "[plugin-mobile-app] Add tap step"}, "afterCommit": {"oid": "2f0eb730f5a36c0770f20d11524efc988dd7000b", "author": {"user": {"login": "uarlouski", "name": "Uladzislau Arlouski"}}, "url": "https://github.com/vividus-framework/vividus/commit/2f0eb730f5a36c0770f20d11524efc988dd7000b", "committedDate": "2020-09-10T20:39:04Z", "message": "[plugin-mobile-app] Add tap step"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg2NTIzMDU2", "url": "https://github.com/vividus-framework/vividus/pull/911#pullrequestreview-486523056", "createdAt": "2020-09-11T07:01:44Z", "commit": {"oid": "2f0eb730f5a36c0770f20d11524efc988dd7000b"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMVQwNzowMTo0NFrOHQQzLg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMVQwNzowMTo0NFrOHQQzLg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjgxNDUxMA==", "bodyText": "findElementToTap", "url": "https://github.com/vividus-framework/vividus/pull/911#discussion_r486814510", "createdAt": "2020-09-11T07:01:44Z", "author": {"login": "valfirst"}, "path": "vividus-plugin-mobile-app/src/main/java/org/vividus/bdd/mobileapp/steps/ActionSteps.java", "diffHunk": "@@ -0,0 +1,78 @@\n+/*\n+ * Copyright 2019-2020 the original author or authors.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     https://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.vividus.bdd.mobileapp.steps;\n+\n+import java.time.Duration;\n+import java.util.Optional;\n+\n+import org.jbehave.core.annotations.When;\n+import org.openqa.selenium.WebElement;\n+import org.vividus.bdd.steps.ui.validation.IBaseValidations;\n+import org.vividus.mobileapp.action.TapActions;\n+import org.vividus.ui.action.search.Locator;\n+\n+public class ActionSteps\n+{\n+    private final TapActions tapActions;\n+    private final IBaseValidations baseValidations;\n+\n+    public ActionSteps(TapActions tapActions, IBaseValidations baseValidations)\n+    {\n+        this.tapActions = tapActions;\n+        this.baseValidations = baseValidations;\n+    }\n+\n+    /**\n+     * Taps on <b>element</b> located by <b>locator</b> with specified <b>duration</b>\n+     * <br>\n+     * The atomic actions performed are:\n+     * <ol>\n+     * <li>press on the element</li>\n+     * <li>wait for the duration</li>\n+     * <li>release</li>\n+     * </ol>\n+     * @param locator locator to find an element\n+     * @param duration between an element is pressed and released in\n+     * <a href=\"https://en.wikipedia.org/wiki/ISO_8601\">ISO_8601</a> format\n+     */\n+    @When(\"I tap on element located `$locator` with duration `$duration`\")\n+    public void tapByLocatorWithDuration(Locator locator, Duration duration)\n+    {\n+        findElement(locator).ifPresent(e -> tapActions.tap(e, duration));\n+    }\n+\n+    /**\n+     * Taps on <b>element</b> located by <b>locator</b>\n+     * <br>\n+     * The atomic actions performed are:\n+     * <ol>\n+     * <li>press on the element</li>\n+     * <li>release</li>\n+     * </ol>\n+     * @param locator locator to find an element\n+     */\n+    @When(\"I tap on element located `$locator`\")\n+    public void tapByLocator(Locator locator)\n+    {\n+        findElement(locator).ifPresent(tapActions::tap);\n+    }\n+\n+    private Optional<WebElement> findElement(Locator locator)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2f0eb730f5a36c0770f20d11524efc988dd7000b"}, "originalPosition": 74}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2f0eb730f5a36c0770f20d11524efc988dd7000b", "author": {"user": {"login": "uarlouski", "name": "Uladzislau Arlouski"}}, "url": "https://github.com/vividus-framework/vividus/commit/2f0eb730f5a36c0770f20d11524efc988dd7000b", "committedDate": "2020-09-10T20:39:04Z", "message": "[plugin-mobile-app] Add tap step"}, "afterCommit": {"oid": "9b8d87651847eebabb2d07c05f67975f503eb272", "author": {"user": {"login": "uarlouski", "name": "Uladzislau Arlouski"}}, "url": "https://github.com/vividus-framework/vividus/commit/9b8d87651847eebabb2d07c05f67975f503eb272", "committedDate": "2020-09-11T07:13:17Z", "message": "[plugin-mobile-app] Add tap step"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "767ea887bd1ebf72dc12b2e4039d2d2089d4df91", "author": {"user": {"login": "uarlouski", "name": "Uladzislau Arlouski"}}, "url": "https://github.com/vividus-framework/vividus/commit/767ea887bd1ebf72dc12b2e4039d2d2089d4df91", "committedDate": "2020-09-11T08:14:58Z", "message": "[plugin-mobile-app] Add tap step"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9b8d87651847eebabb2d07c05f67975f503eb272", "author": {"user": {"login": "uarlouski", "name": "Uladzislau Arlouski"}}, "url": "https://github.com/vividus-framework/vividus/commit/9b8d87651847eebabb2d07c05f67975f503eb272", "committedDate": "2020-09-11T07:13:17Z", "message": "[plugin-mobile-app] Add tap step"}, "afterCommit": {"oid": "767ea887bd1ebf72dc12b2e4039d2d2089d4df91", "author": {"user": {"login": "uarlouski", "name": "Uladzislau Arlouski"}}, "url": "https://github.com/vividus-framework/vividus/commit/767ea887bd1ebf72dc12b2e4039d2d2089d4df91", "committedDate": "2020-09-11T08:14:58Z", "message": "[plugin-mobile-app] Add tap step"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg2NTcxNzE3", "url": "https://github.com/vividus-framework/vividus/pull/911#pullrequestreview-486571717", "createdAt": "2020-09-11T08:19:01Z", "commit": {"oid": "767ea887bd1ebf72dc12b2e4039d2d2089d4df91"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg2NTcxOTAx", "url": "https://github.com/vividus-framework/vividus/pull/911#pullrequestreview-486571901", "createdAt": "2020-09-11T08:19:17Z", "commit": {"oid": "767ea887bd1ebf72dc12b2e4039d2d2089d4df91"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4905, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}