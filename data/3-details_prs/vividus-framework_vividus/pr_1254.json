{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQyNDUzMjE2", "number": 1254, "title": "[bdd-engine] Fix variables resolution for the values with preceding `}`", "bodyText": "Fixes #1252", "createdAt": "2020-12-18T10:28:17Z", "url": "https://github.com/vividus-framework/vividus/pull/1254", "merged": true, "mergeCommit": {"oid": "c011059c8f7ec45e8ab64fdd8cb9c2ceec3fe91d"}, "closed": true, "closedAt": "2020-12-21T11:17:09Z", "author": {"login": "ikalinin1"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdnYOBRgBqjQxMjk4MDMyNjM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdoT7HFAFqTU1NjMwMDkwNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "73ac6fe85cd0442f4ef30b7c711e8a313eb66df4", "author": {"user": {"login": "ikalinin1", "name": "Ivan Kalinin"}}, "url": "https://github.com/vividus-framework/vividus/commit/73ac6fe85cd0442f4ef30b7c711e8a313eb66df4", "committedDate": "2020-12-18T10:28:00Z", "message": "[bdd-engine] Fix variables resolution for the values with preceding `}`"}, "afterCommit": {"oid": "d96e1228d8dd0c9c2a2609c50f2f74dc8a137d72", "author": {"user": {"login": "ikalinin1", "name": "Ivan Kalinin"}}, "url": "https://github.com/vividus-framework/vividus/commit/d96e1228d8dd0c9c2a2609c50f2f74dc8a137d72", "committedDate": "2020-12-18T13:15:07Z", "message": "[bdd-engine] Fix variables resolution for the values with preceding `}`"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU1NTExMTU1", "url": "https://github.com/vividus-framework/vividus/pull/1254#pullrequestreview-555511155", "createdAt": "2020-12-18T14:06:56Z", "commit": {"oid": "d96e1228d8dd0c9c2a2609c50f2f74dc8a137d72"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xOFQxNDowNjo1NlrOIIkKMQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xOFQxNDowNjo1NlrOIIkKMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTg1MTk1Mw==", "bodyText": "why is lenient required now?", "url": "https://github.com/vividus-framework/vividus/pull/1254#discussion_r545851953", "createdAt": "2020-12-18T14:06:56Z", "author": {"login": "valfirst"}, "path": "vividus-bdd-engine/src/test/java/org/vividus/bdd/steps/VariableResolverTests.java", "diffHunk": "@@ -61,11 +61,13 @@ private Object convert(String value)\n             \" ${var:default},                       var:default,     value, value\",\n             \" ${var:},                              var:,            value, value\",\n             \" '{\\\"ids\\\": [\\\"${var}\\\", \\\"12-ce\\\"]}', var,             value, '{\\\"ids\\\": [\\\"value\\\", \\\"12-ce\\\"]}'\",\n-            \" ${var${varPartName}},                 varPartName,     value, ${varvalue}\"\n+            \" ${var${varPartName}},                 varPartName,     value, ${varvalue}\",\n+            \" '#{exp(\\\\}{BNS_TRX_ID=, A, ${var})}', var,             value, '#{exp(\\\\}{BNS_TRX_ID=, A, value)}'\",\n+            \" [JAVA_HOME=].*[^${PATH}].*,           var,             value, [JAVA_HOME=].*[^${PATH}].*\"\n     })\n     void shouldResolveVariables(String valueToResolve, String variableKey, String variableValue, String expected)\n     {\n-        when(bddVariableContext.getVariable(variableKey)).thenReturn(variableValue);\n+        lenient().when(bddVariableContext.getVariable(variableKey)).thenReturn(variableValue);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d96e1228d8dd0c9c2a2609c50f2f74dc8a137d72"}, "originalPosition": 12}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ea49af2be50528554e716c7ed29eb1e6371a837f", "author": {"user": {"login": "ikalinin1", "name": "Ivan Kalinin"}}, "url": "https://github.com/vividus-framework/vividus/commit/ea49af2be50528554e716c7ed29eb1e6371a837f", "committedDate": "2020-12-21T09:55:11Z", "message": "[bdd-engine] Fix variables resolution for the values with preceding `}`"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d96e1228d8dd0c9c2a2609c50f2f74dc8a137d72", "author": {"user": {"login": "ikalinin1", "name": "Ivan Kalinin"}}, "url": "https://github.com/vividus-framework/vividus/commit/d96e1228d8dd0c9c2a2609c50f2f74dc8a137d72", "committedDate": "2020-12-18T13:15:07Z", "message": "[bdd-engine] Fix variables resolution for the values with preceding `}`"}, "afterCommit": {"oid": "ea49af2be50528554e716c7ed29eb1e6371a837f", "author": {"user": {"login": "ikalinin1", "name": "Ivan Kalinin"}}, "url": "https://github.com/vividus-framework/vividus/commit/ea49af2be50528554e716c7ed29eb1e6371a837f", "committedDate": "2020-12-21T09:55:11Z", "message": "[bdd-engine] Fix variables resolution for the values with preceding `}`"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU2MjY3MTc2", "url": "https://github.com/vividus-framework/vividus/pull/1254#pullrequestreview-556267176", "createdAt": "2020-12-21T10:09:59Z", "commit": {"oid": "ea49af2be50528554e716c7ed29eb1e6371a837f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU2MzAwOTA1", "url": "https://github.com/vividus-framework/vividus/pull/1254#pullrequestreview-556300905", "createdAt": "2020-12-21T11:06:58Z", "commit": {"oid": "ea49af2be50528554e716c7ed29eb1e6371a837f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4692, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}