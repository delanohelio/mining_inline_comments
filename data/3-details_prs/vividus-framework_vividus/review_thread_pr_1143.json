{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTIxNTEyODIw", "number": 1143, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQwODo1NDo1MlrOE5U0Bg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQxMToxNzoxNlrOE5anDA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI4NTQ1Mjg2OnYy", "diffSide": "RIGHT", "path": "vividus-plugin-mobile-app/src/main/java/org/vividus/mobileapp/action/KeyboardActions.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQwODo1NDo1MlrOHztc8Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQwODo1NDo1MlrOHztc8Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzk4NDExMw==", "bodyText": "private void performWithHideKeyboard(WebElement element, Consumer<WebElement> action)", "url": "https://github.com/vividus-framework/vividus/pull/1143#discussion_r523984113", "createdAt": "2020-11-16T08:54:52Z", "author": {"login": "valfirst"}, "path": "vividus-plugin-mobile-app/src/main/java/org/vividus/mobileapp/action/KeyboardActions.java", "diffHunk": "@@ -79,16 +81,27 @@ public void typeText(WebElement element, String text)\n      */\n     public void clearText(WebElement element)\n     {\n-        performWithHideKeyboard(element::clear);\n+        performWithHideKeyboard(element::clear, element::getTagName);\n     }\n \n-    private void performWithHideKeyboard(Runnable runnable)\n+    private void performWithHideKeyboard(Runnable runnable, Supplier<String> tagSupplier)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fae810fa48e21446516966d47a9e8339c4687b2c"}, "originalPosition": 27}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI4NTY5MzkyOnYy", "diffSide": "RIGHT", "path": "vividus-plugin-mobile-app/src/main/java/org/vividus/mobileapp/action/KeyboardActions.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQwOTozMDo1M1rOHzv5Mw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQwOTozMjoxNVrOHzv-0g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDAyNDExNQ==", "bodyText": "shouldn't it be stated somewhere in the docs also?", "url": "https://github.com/vividus-framework/vividus/pull/1143#discussion_r524024115", "createdAt": "2020-11-16T09:30:53Z", "author": {"login": "ikalinin1"}, "path": "vividus-plugin-mobile-app/src/main/java/org/vividus/mobileapp/action/KeyboardActions.java", "diffHunk": "@@ -79,16 +81,27 @@ public void typeText(WebElement element, String text)\n      */\n     public void clearText(WebElement element)\n     {\n-        performWithHideKeyboard(element::clear);\n+        performWithHideKeyboard(element, WebElement::clear);\n     }\n \n-    private void performWithHideKeyboard(Runnable runnable)\n+    private void performWithHideKeyboard(WebElement webElement, Consumer<WebElement> performOnElement)\n     {\n-        runnable.run();\n+        performOnElement.accept(webElement);\n \n         // https://github.com/appium/WebDriverAgent/blob/master/WebDriverAgentLib/Commands/FBCustomCommands.m#L107\n         if (genericWebDriverManager.isIOSNativeApp() && realDevice)\n         {\n+            String tagName = webElement.getTagName();\n+            /**\n+             * Tap on 'Return' doesn't close the keyboard for XCUIElementTypeTextView element, the only way to close the", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "95c0f748ace38898e9e5437cb1a1aa0090f8c527"}, "originalPosition": 37}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDAyNTU1NA==", "bodyText": "Also, I propose to describe the strategy to the work with such fields in the documentation", "url": "https://github.com/vividus-framework/vividus/pull/1143#discussion_r524025554", "createdAt": "2020-11-16T09:32:15Z", "author": {"login": "ikalinin1"}, "path": "vividus-plugin-mobile-app/src/main/java/org/vividus/mobileapp/action/KeyboardActions.java", "diffHunk": "@@ -79,16 +81,27 @@ public void typeText(WebElement element, String text)\n      */\n     public void clearText(WebElement element)\n     {\n-        performWithHideKeyboard(element::clear);\n+        performWithHideKeyboard(element, WebElement::clear);\n     }\n \n-    private void performWithHideKeyboard(Runnable runnable)\n+    private void performWithHideKeyboard(WebElement webElement, Consumer<WebElement> performOnElement)\n     {\n-        runnable.run();\n+        performOnElement.accept(webElement);\n \n         // https://github.com/appium/WebDriverAgent/blob/master/WebDriverAgentLib/Commands/FBCustomCommands.m#L107\n         if (genericWebDriverManager.isIOSNativeApp() && realDevice)\n         {\n+            String tagName = webElement.getTagName();\n+            /**\n+             * Tap on 'Return' doesn't close the keyboard for XCUIElementTypeTextView element, the only way to close the", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDAyNDExNQ=="}, "originalCommit": {"oid": "95c0f748ace38898e9e5437cb1a1aa0090f8c527"}, "originalPosition": 37}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI4NjQwMjY4OnYy", "diffSide": "RIGHT", "path": "docs/modules/plugins/pages/plugin-mobile-app.adoc", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQxMToxNzoxNlrOHz3GmQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQxMToxNzo1OVrOHz3Jnw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDE0MjIzMw==", "bodyText": "For `iOS` platform the hide keyboard action works only for `XCUIElementTypeTextField` elements and skipped for `XCUIElementTypeTextView` elements, in case of `XCUIElementTypeTextView` element tap outside the text view to close the keyboard.", "url": "https://github.com/vividus-framework/vividus/pull/1143#discussion_r524142233", "createdAt": "2020-11-16T11:17:16Z", "author": {"login": "valfirst"}, "path": "docs/modules/plugins/pages/plugin-mobile-app.adoc", "diffHunk": "@@ -326,6 +326,9 @@ The atomic actions performed are:\n * type text into the element\n * hide keyboard\n \n+[WARNING]\n+For `iOS` platform the hide keyboard action works only for XCUIElementTypeTextField element and skipped for XCUIElementTypeTextView element, in case of XCUIElementTypeTextView element use tap step to tap outside the text view.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9c4eaf0b61bf619ca5111b789a1ee11136f6b8c8"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDE0MzAwNw==", "bodyText": "Also should there be reference that this is applicable only for real devices?", "url": "https://github.com/vividus-framework/vividus/pull/1143#discussion_r524143007", "createdAt": "2020-11-16T11:17:59Z", "author": {"login": "valfirst"}, "path": "docs/modules/plugins/pages/plugin-mobile-app.adoc", "diffHunk": "@@ -326,6 +326,9 @@ The atomic actions performed are:\n * type text into the element\n * hide keyboard\n \n+[WARNING]\n+For `iOS` platform the hide keyboard action works only for XCUIElementTypeTextField element and skipped for XCUIElementTypeTextView element, in case of XCUIElementTypeTextView element use tap step to tap outside the text view.\n+", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDE0MjIzMw=="}, "originalCommit": {"oid": "9c4eaf0b61bf619ca5111b789a1ee11136f6b8c8"}, "originalPosition": 6}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4939, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}