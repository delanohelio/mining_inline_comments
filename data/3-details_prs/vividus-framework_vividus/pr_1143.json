{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTIxNTEyODIw", "number": 1143, "title": "[plugin-mobile-app] Do not try to hide keyboard for XCUIElementTypeTextView element", "bodyText": "", "createdAt": "2020-11-16T08:52:55Z", "url": "https://github.com/vividus-framework/vividus/pull/1143", "merged": true, "mergeCommit": {"oid": "411ad50b2111d326ff8f502964a142cae366e15a"}, "closed": true, "closedAt": "2020-11-16T12:33:15Z", "author": {"login": "uarlouski"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABddBEP1gFqTUzMTEyMDE0MQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABddEK8ogFqTUzMTI3NzkwOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMxMTIwMTQx", "url": "https://github.com/vividus-framework/vividus/pull/1143#pullrequestreview-531120141", "createdAt": "2020-11-16T08:54:52Z", "commit": {"oid": "fae810fa48e21446516966d47a9e8339c4687b2c"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQwODo1NDo1MlrOHztc8Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQwODo1NDo1MlrOHztc8Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMzk4NDExMw==", "bodyText": "private void performWithHideKeyboard(WebElement element, Consumer<WebElement> action)", "url": "https://github.com/vividus-framework/vividus/pull/1143#discussion_r523984113", "createdAt": "2020-11-16T08:54:52Z", "author": {"login": "valfirst"}, "path": "vividus-plugin-mobile-app/src/main/java/org/vividus/mobileapp/action/KeyboardActions.java", "diffHunk": "@@ -79,16 +81,27 @@ public void typeText(WebElement element, String text)\n      */\n     public void clearText(WebElement element)\n     {\n-        performWithHideKeyboard(element::clear);\n+        performWithHideKeyboard(element::clear, element::getTagName);\n     }\n \n-    private void performWithHideKeyboard(Runnable runnable)\n+    private void performWithHideKeyboard(Runnable runnable, Supplier<String> tagSupplier)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fae810fa48e21446516966d47a9e8339c4687b2c"}, "originalPosition": 27}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "fae810fa48e21446516966d47a9e8339c4687b2c", "author": {"user": {"login": "uarlouski", "name": "Uladzislau Arlouski"}}, "url": "https://github.com/vividus-framework/vividus/commit/fae810fa48e21446516966d47a9e8339c4687b2c", "committedDate": "2020-11-16T08:52:24Z", "message": "[plugin-mobile-app] Do not try to hide keyboard for XCUIElementTypeTextView element"}, "afterCommit": {"oid": "95c0f748ace38898e9e5437cb1a1aa0090f8c527", "author": {"user": {"login": "uarlouski", "name": "Uladzislau Arlouski"}}, "url": "https://github.com/vividus-framework/vividus/commit/95c0f748ace38898e9e5437cb1a1aa0090f8c527", "committedDate": "2020-11-16T09:02:24Z", "message": "[plugin-mobile-app] Do not try to hide keyboard for XCUIElementTypeTextView element"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMxMTQ0NTAw", "url": "https://github.com/vividus-framework/vividus/pull/1143#pullrequestreview-531144500", "createdAt": "2020-11-16T09:27:01Z", "commit": {"oid": "95c0f748ace38898e9e5437cb1a1aa0090f8c527"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMxMTQ3NTQ4", "url": "https://github.com/vividus-framework/vividus/pull/1143#pullrequestreview-531147548", "createdAt": "2020-11-16T09:30:53Z", "commit": {"oid": "95c0f748ace38898e9e5437cb1a1aa0090f8c527"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQwOTozMDo1M1rOHzv5Mw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQwOTozMDo1M1rOHzv5Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDAyNDExNQ==", "bodyText": "shouldn't it be stated somewhere in the docs also?", "url": "https://github.com/vividus-framework/vividus/pull/1143#discussion_r524024115", "createdAt": "2020-11-16T09:30:53Z", "author": {"login": "ikalinin1"}, "path": "vividus-plugin-mobile-app/src/main/java/org/vividus/mobileapp/action/KeyboardActions.java", "diffHunk": "@@ -79,16 +81,27 @@ public void typeText(WebElement element, String text)\n      */\n     public void clearText(WebElement element)\n     {\n-        performWithHideKeyboard(element::clear);\n+        performWithHideKeyboard(element, WebElement::clear);\n     }\n \n-    private void performWithHideKeyboard(Runnable runnable)\n+    private void performWithHideKeyboard(WebElement webElement, Consumer<WebElement> performOnElement)\n     {\n-        runnable.run();\n+        performOnElement.accept(webElement);\n \n         // https://github.com/appium/WebDriverAgent/blob/master/WebDriverAgentLib/Commands/FBCustomCommands.m#L107\n         if (genericWebDriverManager.isIOSNativeApp() && realDevice)\n         {\n+            String tagName = webElement.getTagName();\n+            /**\n+             * Tap on 'Return' doesn't close the keyboard for XCUIElementTypeTextView element, the only way to close the", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "95c0f748ace38898e9e5437cb1a1aa0090f8c527"}, "originalPosition": 37}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "95c0f748ace38898e9e5437cb1a1aa0090f8c527", "author": {"user": {"login": "uarlouski", "name": "Uladzislau Arlouski"}}, "url": "https://github.com/vividus-framework/vividus/commit/95c0f748ace38898e9e5437cb1a1aa0090f8c527", "committedDate": "2020-11-16T09:02:24Z", "message": "[plugin-mobile-app] Do not try to hide keyboard for XCUIElementTypeTextView element"}, "afterCommit": {"oid": "9c4eaf0b61bf619ca5111b789a1ee11136f6b8c8", "author": {"user": {"login": "uarlouski", "name": "Uladzislau Arlouski"}}, "url": "https://github.com/vividus-framework/vividus/commit/9c4eaf0b61bf619ca5111b789a1ee11136f6b8c8", "committedDate": "2020-11-16T10:38:41Z", "message": "[plugin-mobile-app] Do not try to hide keyboard for XCUIElementTypeTextView element"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMxMjI4Mjg2", "url": "https://github.com/vividus-framework/vividus/pull/1143#pullrequestreview-531228286", "createdAt": "2020-11-16T11:17:16Z", "commit": {"oid": "9c4eaf0b61bf619ca5111b789a1ee11136f6b8c8"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQxMToxNzoxNlrOHz3GmQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQxMToxNzo1OVrOHz3Jnw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDE0MjIzMw==", "bodyText": "For `iOS` platform the hide keyboard action works only for `XCUIElementTypeTextField` elements and skipped for `XCUIElementTypeTextView` elements, in case of `XCUIElementTypeTextView` element tap outside the text view to close the keyboard.", "url": "https://github.com/vividus-framework/vividus/pull/1143#discussion_r524142233", "createdAt": "2020-11-16T11:17:16Z", "author": {"login": "valfirst"}, "path": "docs/modules/plugins/pages/plugin-mobile-app.adoc", "diffHunk": "@@ -326,6 +326,9 @@ The atomic actions performed are:\n * type text into the element\n * hide keyboard\n \n+[WARNING]\n+For `iOS` platform the hide keyboard action works only for XCUIElementTypeTextField element and skipped for XCUIElementTypeTextView element, in case of XCUIElementTypeTextView element use tap step to tap outside the text view.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9c4eaf0b61bf619ca5111b789a1ee11136f6b8c8"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDE0MzAwNw==", "bodyText": "Also should there be reference that this is applicable only for real devices?", "url": "https://github.com/vividus-framework/vividus/pull/1143#discussion_r524143007", "createdAt": "2020-11-16T11:17:59Z", "author": {"login": "valfirst"}, "path": "docs/modules/plugins/pages/plugin-mobile-app.adoc", "diffHunk": "@@ -326,6 +326,9 @@ The atomic actions performed are:\n * type text into the element\n * hide keyboard\n \n+[WARNING]\n+For `iOS` platform the hide keyboard action works only for XCUIElementTypeTextField element and skipped for XCUIElementTypeTextView element, in case of XCUIElementTypeTextView element use tap step to tap outside the text view.\n+", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDE0MjIzMw=="}, "originalCommit": {"oid": "9c4eaf0b61bf619ca5111b789a1ee11136f6b8c8"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "66dba81430fa0966b00d950150ca5fab53b82baf", "author": {"user": {"login": "uarlouski", "name": "Uladzislau Arlouski"}}, "url": "https://github.com/vividus-framework/vividus/commit/66dba81430fa0966b00d950150ca5fab53b82baf", "committedDate": "2020-11-16T11:30:59Z", "message": "[plugin-mobile-app] Do not try to hide keyboard for XCUIElementTypeTextView element"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9c4eaf0b61bf619ca5111b789a1ee11136f6b8c8", "author": {"user": {"login": "uarlouski", "name": "Uladzislau Arlouski"}}, "url": "https://github.com/vividus-framework/vividus/commit/9c4eaf0b61bf619ca5111b789a1ee11136f6b8c8", "committedDate": "2020-11-16T10:38:41Z", "message": "[plugin-mobile-app] Do not try to hide keyboard for XCUIElementTypeTextView element"}, "afterCommit": {"oid": "66dba81430fa0966b00d950150ca5fab53b82baf", "author": {"user": {"login": "uarlouski", "name": "Uladzislau Arlouski"}}, "url": "https://github.com/vividus-framework/vividus/commit/66dba81430fa0966b00d950150ca5fab53b82baf", "committedDate": "2020-11-16T11:30:59Z", "message": "[plugin-mobile-app] Do not try to hide keyboard for XCUIElementTypeTextView element"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMxMjQxNDk5", "url": "https://github.com/vividus-framework/vividus/pull/1143#pullrequestreview-531241499", "createdAt": "2020-11-16T11:37:20Z", "commit": {"oid": "66dba81430fa0966b00d950150ca5fab53b82baf"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMxMjc3OTA5", "url": "https://github.com/vividus-framework/vividus/pull/1143#pullrequestreview-531277909", "createdAt": "2020-11-16T12:32:37Z", "commit": {"oid": "66dba81430fa0966b00d950150ca5fab53b82baf"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4723, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}