{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE2ODg1MTQz", "number": 568, "title": "Add step 'When I wait 'duration' with 'pollingDuration' polling until\u2026", "bodyText": "\u2026 element located $locator becomes $state'\nCloses #527", "createdAt": "2020-05-12T18:06:20Z", "url": "https://github.com/vividus-framework/vividus/pull/568", "merged": true, "mergeCommit": {"oid": "e450eb90df6e924a1e0ef0e00bec4be7e1cb4335"}, "closed": true, "closedAt": "2020-05-26T11:31:35Z", "author": {"login": "Yauhenda"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcgocvLgBqjMzMjg3NDcwNzE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABclAmo2gFqTQxODA4OTc2MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c6baf27992457aa75cd01e946868f6bd9c6d86fc", "author": {"user": {"login": "Yauhenda", "name": "Yauhen Dashkevich"}}, "url": "https://github.com/vividus-framework/vividus/commit/c6baf27992457aa75cd01e946868f6bd9c6d86fc", "committedDate": "2020-05-12T18:04:26Z", "message": "Add step 'When I wait 'duration' with 'pollingDuration' polling until an element located by locator disappears'"}, "afterCommit": {"oid": "682b14e507bea0277cb54c24d3043f62862e995e", "author": {"user": {"login": "Yauhenda", "name": "Yauhen Dashkevich"}}, "url": "https://github.com/vividus-framework/vividus/commit/682b14e507bea0277cb54c24d3043f62862e995e", "committedDate": "2020-05-12T18:18:55Z", "message": "Add step 'When I wait 'duration' with 'pollingDuration' polling until an element located by locator disappears'"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEwMzI5Mjcz", "url": "https://github.com/vividus-framework/vividus/pull/568#pullrequestreview-410329273", "createdAt": "2020-05-12T18:51:19Z", "commit": {"oid": "682b14e507bea0277cb54c24d3043f62862e995e"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQxODo1MToxOVrOGUUZlg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQxOTowMDoyN1rOGUUuxg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzk1ODkzNA==", "bodyText": "@When(\"I wait `$duration` with `$pollingDuration` polling until element located `$locator` disappears\")", "url": "https://github.com/vividus-framework/vividus/pull/568#discussion_r423958934", "createdAt": "2020-05-12T18:51:19Z", "author": {"login": "valfirst"}, "path": "vividus-plugin-web-app/src/main/java/org/vividus/bdd/steps/ui/web/WaitSteps.java", "diffHunk": "@@ -103,6 +103,35 @@ public boolean waitDurationWithPollingDurationTillElementAppears(Duration durati\n                 expectedSearchActionsConditions.visibilityOfAllElementsLocatedBy(locator)).isWaitPassed();\n     }\n \n+    /**\n+     * Waits <b>duration</b> with <b>pollingDuration</b> until <b>an element</b> by the specified <b>locator</b>\n+     * disappearance in the specified search context\n+     * <p>\n+     * Actions performed at this step:\n+     * </p>\n+     * <ul>\n+     * <li><i>Finds</i> an element by the specified <b>locator</b> within search context\n+     * <li><i>Waits</i> <b>duration</b> with <b>pollingDuration</b> until this element becomes not visible\n+     * </ul>\n+     * <br>Example:<br>\n+     * <code>When I wait 'PT30S' with 'PT10S' polling until an element located by By.id(text) disappears</code>\n+     * - wait until all elements with id=text for 30 seconds, polling every 10 seconds\n+     *\n+     * @param duration        Total waiting time for an element becomes not visible according to\n+     *                        <a href=\"https://en.wikipedia.org/wiki/ISO_8601\">ISO 8601</a> standard\n+     * @param pollingDuration Defines the timeout between attempts according to\n+     *                        <a href=\"https://en.wikipedia.org/wiki/ISO_8601\">ISO 8601</a> standard\n+     * @param locator         Locator to search for elements\n+     * @return True if element disappears, otherwise false\n+     */\n+    @When(\"I wait '$duration' with '$pollingDuration' polling until an element located by $locator disappears\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "682b14e507bea0277cb54c24d3043f62862e995e"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzk2NDM1OA==", "bodyText": "would you mind adding the page to https://github.com/vividus-framework/vividus-test-site?", "url": "https://github.com/vividus-framework/vividus/pull/568#discussion_r423964358", "createdAt": "2020-05-12T19:00:27Z", "author": {"login": "valfirst"}, "path": "vividus-tests/src/main/resources/story/integration/WaitStepsTests.story", "diffHunk": "@@ -11,3 +11,12 @@ Then number of elements found by `${paragraph-locator}` is equal to `1`\n When I click on a button with the name 'Hide'\n When I wait until element located `${paragraph-locator}` disappears\n Then number of elements found by `${paragraph-locator}` is equal to `0`\n+\n+Scenario: Step verification I wait '$duration' with '$pollingDuration' polling until an element located by $locator disappears\n+Given I am on a page with the URL 'https://www.w3schools.com/jQuery/tryit.asp?filename=tryjquery_hide_slow'", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "682b14e507bea0277cb54c24d3043f62862e995e"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEwMzUwMTU0", "url": "https://github.com/vividus-framework/vividus/pull/568#pullrequestreview-410350154", "createdAt": "2020-05-12T19:20:21Z", "commit": {"oid": "682b14e507bea0277cb54c24d3043f62862e995e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQxOToyMDoyMVrOGUValw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQxOToyMDoyMVrOGUValw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzk3NTU3NQ==", "bodyText": "What do you think about making this step generic like\nWhen I wait `$duration` with `$pollingDuration` polling until element located `$locator` becomes $state\n\nthis would reduce \"duplicate\" code base and make those steps as composites", "url": "https://github.com/vividus-framework/vividus/pull/568#discussion_r423975575", "createdAt": "2020-05-12T19:20:21Z", "author": {"login": "uarlouski"}, "path": "vividus-plugin-web-app/src/main/java/org/vividus/bdd/steps/ui/web/WaitSteps.java", "diffHunk": "@@ -103,6 +103,35 @@ public boolean waitDurationWithPollingDurationTillElementAppears(Duration durati\n                 expectedSearchActionsConditions.visibilityOfAllElementsLocatedBy(locator)).isWaitPassed();\n     }\n \n+    /**\n+     * Waits <b>duration</b> with <b>pollingDuration</b> until <b>an element</b> by the specified <b>locator</b>\n+     * disappearance in the specified search context\n+     * <p>\n+     * Actions performed at this step:\n+     * </p>\n+     * <ul>\n+     * <li><i>Finds</i> an element by the specified <b>locator</b> within search context\n+     * <li><i>Waits</i> <b>duration</b> with <b>pollingDuration</b> until this element becomes not visible\n+     * </ul>\n+     * <br>Example:<br>\n+     * <code>When I wait 'PT30S' with 'PT10S' polling until an element located by By.id(text) disappears</code>\n+     * - wait until all elements with id=text for 30 seconds, polling every 10 seconds\n+     *\n+     * @param duration        Total waiting time for an element becomes not visible according to\n+     *                        <a href=\"https://en.wikipedia.org/wiki/ISO_8601\">ISO 8601</a> standard\n+     * @param pollingDuration Defines the timeout between attempts according to\n+     *                        <a href=\"https://en.wikipedia.org/wiki/ISO_8601\">ISO 8601</a> standard\n+     * @param locator         Locator to search for elements\n+     * @return True if element disappears, otherwise false\n+     */\n+    @When(\"I wait '$duration' with '$pollingDuration' polling until an element located by $locator disappears\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "682b14e507bea0277cb54c24d3043f62862e995e"}, "originalPosition": 25}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "682b14e507bea0277cb54c24d3043f62862e995e", "author": {"user": {"login": "Yauhenda", "name": "Yauhen Dashkevich"}}, "url": "https://github.com/vividus-framework/vividus/commit/682b14e507bea0277cb54c24d3043f62862e995e", "committedDate": "2020-05-12T18:18:55Z", "message": "Add step 'When I wait 'duration' with 'pollingDuration' polling until an element located by locator disappears'"}, "afterCommit": {"oid": "12fe4c355e214f38ce29eb31cf83a329c1d49e1f", "author": {"user": {"login": "Yauhenda", "name": "Yauhen Dashkevich"}}, "url": "https://github.com/vividus-framework/vividus/commit/12fe4c355e214f38ce29eb31cf83a329c1d49e1f", "committedDate": "2020-05-23T22:57:35Z", "message": "Move step 'When I wait '' with '' polling until an element located by  appears' to composite"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE3MzYwMjIy", "url": "https://github.com/vividus-framework/vividus/pull/568#pullrequestreview-417360222", "createdAt": "2020-05-24T13:46:13Z", "commit": {"oid": "12fe4c355e214f38ce29eb31cf83a329c1d49e1f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNFQxMzo0NjoxM1rOGZvDGw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNFQxMzo0NjoxM1rOGZvDGw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTYzODQyNw==", "bodyText": "#568 (comment):\n@When(\"I wait `$duration` with `$pollingDuration` polling until element located `$locator` becomes $state\")\n\nplease pay attention to ` not '", "url": "https://github.com/vividus-framework/vividus/pull/568#discussion_r429638427", "createdAt": "2020-05-24T13:46:13Z", "author": {"login": "valfirst"}, "path": "vividus-plugin-web-app/src/main/java/org/vividus/bdd/steps/ui/web/WaitSteps.java", "diffHunk": "@@ -84,25 +84,33 @@ public boolean waitTillElementWithTextAppearsPageRefresh(String text, Duration t\n \n     /**\n      * Waits <b>duration</b> with <b>pollingDuration</b> until <b>an element</b> by the specified <b>locator</b>\n-     * appears in the specified search context\n+     * becomes a <b>state</b> in the specified search context\n      * <p>\n      * Actions performed at this step:\n      * </p>\n      * <ul>\n      * <li><i>Finds</i> an element by the specified <b>locator</b> within search context\n-     * <li><i>Waits</i> <b>duration</b> with <b>pollingDuration</b> until this element becomes visible\n+     * <li><i>Waits</i> <b>duration</b> with <b>pollingDuration</b> until this element becomes <b>state</b>\n      * </ul>\n-     * @param duration Total waiting time for an element becomes visible\n-     * @param pollingDuration Defines the timeout between attempts\n-     * @param locator Locator to search for elements\n-     * @return True if element appears, otherwise false\n+     * <br>Example:<br>\n+     * <code>When I wait 'PT30S' with 'PT10S' polling until element located `By.id(text)` becomes NOT_VISIBLE</code>\n+     * - wait until all elements with id=text becomes not visible for 30 seconds, polling every 10 seconds\n+     *\n+     * @param duration        Total waiting time according to\n+     *                        <a href=\"https://en.wikipedia.org/wiki/ISO_8601\">ISO 8601</a> standard\n+     * @param pollingDuration Defines the timeout between attempts according to\n+     *                        <a href=\"https://en.wikipedia.org/wiki/ISO_8601\">ISO 8601</a> standard\n+     * @param locator         Locator to search for elements\n+     * @param state           State value of the element\n+     * (<i>Possible values:</i> <b>ENABLED, DISABLED, SELECTED, NOT_SELECTED, VISIBLE, NOT_VISIBLE</b>)\n+     * @return True if element becomes a <b>state</b>, otherwise false\n      */\n-    @When(\"I wait '$duration' with '$pollingDuration' polling until an element located by $locator appears\")\n-    public boolean waitDurationWithPollingDurationTillElementAppears(Duration duration, Duration pollingDuration,\n-            SearchAttributes locator)\n+    @When(\"I wait '$duration' with '$pollingDuration' polling until element located `$locator` becomes $state\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "12fe4c355e214f38ce29eb31cf83a329c1d49e1f"}, "originalPosition": 34}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "added72328ab700ceb423e7d7d86ff7efb587989", "author": {"user": {"login": "Yauhenda", "name": "Yauhen Dashkevich"}}, "url": "https://github.com/vividus-framework/vividus/commit/added72328ab700ceb423e7d7d86ff7efb587989", "committedDate": "2020-05-26T07:25:34Z", "message": "Add step 'When I wait '$duration' with '$pollingDuration' polling until element located `$locator` becomes $state'"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "12fe4c355e214f38ce29eb31cf83a329c1d49e1f", "author": {"user": {"login": "Yauhenda", "name": "Yauhen Dashkevich"}}, "url": "https://github.com/vividus-framework/vividus/commit/12fe4c355e214f38ce29eb31cf83a329c1d49e1f", "committedDate": "2020-05-23T22:57:35Z", "message": "Move step 'When I wait '' with '' polling until an element located by  appears' to composite"}, "afterCommit": {"oid": "d3100e2574748619e0f351de9e9fcf85d200dc0b", "author": {"user": {"login": "Yauhenda", "name": "Yauhen Dashkevich"}}, "url": "https://github.com/vividus-framework/vividus/commit/d3100e2574748619e0f351de9e9fcf85d200dc0b", "committedDate": "2020-05-26T07:27:53Z", "message": "Move step 'When I wait '' with '' polling until an element located by  appears' to composite"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d3100e2574748619e0f351de9e9fcf85d200dc0b", "author": {"user": {"login": "Yauhenda", "name": "Yauhen Dashkevich"}}, "url": "https://github.com/vividus-framework/vividus/commit/d3100e2574748619e0f351de9e9fcf85d200dc0b", "committedDate": "2020-05-26T07:27:53Z", "message": "Move step 'When I wait '' with '' polling until an element located by  appears' to composite"}, "afterCommit": {"oid": "8b41e058722544d1f413c701f1410ae7547372a2", "author": {"user": {"login": "Yauhenda", "name": "Yauhen Dashkevich"}}, "url": "https://github.com/vividus-framework/vividus/commit/8b41e058722544d1f413c701f1410ae7547372a2", "committedDate": "2020-05-26T07:33:31Z", "message": "Move step 'When I wait '' with '' polling until an element located by  appears' to composite"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b3a7908cbac6b847233cb54684501d540c532b9d", "author": {"user": {"login": "Yauhenda", "name": "Yauhen Dashkevich"}}, "url": "https://github.com/vividus-framework/vividus/commit/b3a7908cbac6b847233cb54684501d540c532b9d", "committedDate": "2020-05-26T07:34:05Z", "message": "Move step 'When I wait 'duration' with 'duration' polling until an element located by locator appears' to composite"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8b41e058722544d1f413c701f1410ae7547372a2", "author": {"user": {"login": "Yauhenda", "name": "Yauhen Dashkevich"}}, "url": "https://github.com/vividus-framework/vividus/commit/8b41e058722544d1f413c701f1410ae7547372a2", "committedDate": "2020-05-26T07:33:31Z", "message": "Move step 'When I wait '' with '' polling until an element located by  appears' to composite"}, "afterCommit": {"oid": "b3a7908cbac6b847233cb54684501d540c532b9d", "author": {"user": {"login": "Yauhenda", "name": "Yauhen Dashkevich"}}, "url": "https://github.com/vividus-framework/vividus/commit/b3a7908cbac6b847233cb54684501d540c532b9d", "committedDate": "2020-05-26T07:34:05Z", "message": "Move step 'When I wait 'duration' with 'duration' polling until an element located by locator appears' to composite"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE4MDg5NzYw", "url": "https://github.com/vividus-framework/vividus/pull/568#pullrequestreview-418089760", "createdAt": "2020-05-26T08:43:29Z", "commit": {"oid": "b3a7908cbac6b847233cb54684501d540c532b9d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 194, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}