{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc4NTE2OTk0", "number": 887, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QxNDowNTowNlrOEgAbZQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QxNDoxMjo0MVrOEgAoqw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAxOTk2OTAxOnYy", "diffSide": "RIGHT", "path": "vividus-bdd-engine/src/test/java/org/vividus/bdd/transformer/ExtendedTableTransformerTests.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QxNDowNTowNlrOHMoOdw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QxNDowNTowNlrOHMoOdw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzAwNDAyMw==", "bodyText": "it seems it's not used", "url": "https://github.com/vividus-framework/vividus/pull/887#discussion_r483004023", "createdAt": "2020-09-03T14:05:06Z", "author": {"login": "valfirst"}, "path": "vividus-bdd-engine/src/test/java/org/vividus/bdd/transformer/ExtendedTableTransformerTests.java", "diffHunk": "@@ -0,0 +1,88 @@\n+/*\n+ * Copyright 2019-2020 the original author or authors.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     https://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.vividus.bdd.transformer;\n+\n+import static java.util.Map.entry;\n+import static org.junit.jupiter.api.Assertions.assertEquals;\n+import static org.junit.jupiter.api.Assertions.assertThrows;\n+import static org.mockito.Mockito.spy;\n+\n+import java.util.Map;\n+import java.util.Properties;\n+import java.util.function.Function;\n+\n+import org.jbehave.core.model.ExamplesTable.TableProperties;\n+import org.junit.jupiter.api.Test;\n+import org.junit.jupiter.api.extension.ExtendWith;\n+import org.mockito.junit.jupiter.MockitoExtension;\n+\n+@ExtendWith(MockitoExtension.class)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8d70a87ac81d68501d200feff706b0b35b18a1b5"}, "originalPosition": 33}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAxOTk3MjczOnYy", "diffSide": "RIGHT", "path": "vividus-bdd-engine/src/test/java/org/vividus/bdd/transformer/ExtendedTableTransformerTests.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QxNDowNTo0OVrOHMoQnQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QxNDowNTo0OVrOHMoQnQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzAwNDU3Mw==", "bodyText": "java.util.function.Function#identity", "url": "https://github.com/vividus-framework/vividus/pull/887#discussion_r483004573", "createdAt": "2020-09-03T14:05:49Z", "author": {"login": "valfirst"}, "path": "vividus-bdd-engine/src/test/java/org/vividus/bdd/transformer/ExtendedTableTransformerTests.java", "diffHunk": "@@ -0,0 +1,88 @@\n+/*\n+ * Copyright 2019-2020 the original author or authors.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     https://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.vividus.bdd.transformer;\n+\n+import static java.util.Map.entry;\n+import static org.junit.jupiter.api.Assertions.assertEquals;\n+import static org.junit.jupiter.api.Assertions.assertThrows;\n+import static org.mockito.Mockito.spy;\n+\n+import java.util.Map;\n+import java.util.Properties;\n+import java.util.function.Function;\n+\n+import org.jbehave.core.model.ExamplesTable.TableProperties;\n+import org.junit.jupiter.api.Test;\n+import org.junit.jupiter.api.extension.ExtendWith;\n+import org.mockito.junit.jupiter.MockitoExtension;\n+\n+@ExtendWith(MockitoExtension.class)\n+class ExtendedTableTransformerTests\n+{\n+    private static final String VALUE_1 = \"value-1\";\n+    private static final String VALUE_2 = \"value-2\";\n+    private static final String KEY_1 = \"key-1\";\n+    private static final String KEY_2 = \"key-2\";\n+\n+    private static Function<String, String> func = key -> { return key; };", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8d70a87ac81d68501d200feff706b0b35b18a1b5"}, "originalPosition": 41}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAxOTk3MzU3OnYy", "diffSide": "RIGHT", "path": "vividus-bdd-engine/src/test/java/org/vividus/bdd/transformer/ExtendedTableTransformerTests.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QxNDowNjowMVrOHMoRMA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QxNDowNjowMVrOHMoRMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzAwNDcyMA==", "bodyText": "why do you need spy?", "url": "https://github.com/vividus-framework/vividus/pull/887#discussion_r483004720", "createdAt": "2020-09-03T14:06:01Z", "author": {"login": "valfirst"}, "path": "vividus-bdd-engine/src/test/java/org/vividus/bdd/transformer/ExtendedTableTransformerTests.java", "diffHunk": "@@ -0,0 +1,88 @@\n+/*\n+ * Copyright 2019-2020 the original author or authors.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     https://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.vividus.bdd.transformer;\n+\n+import static java.util.Map.entry;\n+import static org.junit.jupiter.api.Assertions.assertEquals;\n+import static org.junit.jupiter.api.Assertions.assertThrows;\n+import static org.mockito.Mockito.spy;\n+\n+import java.util.Map;\n+import java.util.Properties;\n+import java.util.function.Function;\n+\n+import org.jbehave.core.model.ExamplesTable.TableProperties;\n+import org.junit.jupiter.api.Test;\n+import org.junit.jupiter.api.extension.ExtendWith;\n+import org.mockito.junit.jupiter.MockitoExtension;\n+\n+@ExtendWith(MockitoExtension.class)\n+class ExtendedTableTransformerTests\n+{\n+    private static final String VALUE_1 = \"value-1\";\n+    private static final String VALUE_2 = \"value-2\";\n+    private static final String KEY_1 = \"key-1\";\n+    private static final String KEY_2 = \"key-2\";\n+\n+    private static Function<String, String> func = key -> { return key; };\n+    private final ExtendedTableTransformer transformer = spy(ExtendedTableTransformer.class);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8d70a87ac81d68501d200feff706b0b35b18a1b5"}, "originalPosition": 42}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAyMDAwMTM1OnYy", "diffSide": "RIGHT", "path": "vividus-bdd-engine/src/test/java/org/vividus/bdd/transformer/ExtendedTableTransformerTests.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QxNDoxMjoxNFrOHMoiYg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QxNDoxMjoxNFrOHMoiYg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzAwOTEyMg==", "bodyText": "does it make sense to use org.junit.jupiter.params.ParameterizedTest? it looks like, you can combine this test and the previous one", "url": "https://github.com/vividus-framework/vividus/pull/887#discussion_r483009122", "createdAt": "2020-09-03T14:12:14Z", "author": {"login": "valfirst"}, "path": "vividus-bdd-engine/src/test/java/org/vividus/bdd/transformer/ExtendedTableTransformerTests.java", "diffHunk": "@@ -0,0 +1,88 @@\n+/*\n+ * Copyright 2019-2020 the original author or authors.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     https://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.vividus.bdd.transformer;\n+\n+import static java.util.Map.entry;\n+import static org.junit.jupiter.api.Assertions.assertEquals;\n+import static org.junit.jupiter.api.Assertions.assertThrows;\n+import static org.mockito.Mockito.spy;\n+\n+import java.util.Map;\n+import java.util.Properties;\n+import java.util.function.Function;\n+\n+import org.jbehave.core.model.ExamplesTable.TableProperties;\n+import org.junit.jupiter.api.Test;\n+import org.junit.jupiter.api.extension.ExtendWith;\n+import org.mockito.junit.jupiter.MockitoExtension;\n+\n+@ExtendWith(MockitoExtension.class)\n+class ExtendedTableTransformerTests\n+{\n+    private static final String VALUE_1 = \"value-1\";\n+    private static final String VALUE_2 = \"value-2\";\n+    private static final String KEY_1 = \"key-1\";\n+    private static final String KEY_2 = \"key-2\";\n+\n+    private static Function<String, String> func = key -> { return key; };\n+    private final ExtendedTableTransformer transformer = spy(ExtendedTableTransformer.class);\n+\n+    @Test\n+    void testProcessCompetingMandatoryNotNullProperties()\n+    {\n+        Map<String, String> values = Map.of(KEY_1, VALUE_1, KEY_2, VALUE_2);\n+        IllegalArgumentException exception = assertThrows(IllegalArgumentException.class, () ->\n+                transformer.processCompetingMandatoryProperties(createProperties(values),\n+                    entry(KEY_1, func), entry(KEY_2, func)));\n+        assertEquals(\"Only one ExamplesTable property must be set, but found both 'key-1' and 'key-2'\",\n+                     exception.getMessage());\n+    }\n+\n+    @Test\n+    void testProcessCompetingMandatoryNullProperties()\n+    {\n+        Map<String, String> values = Map.of(\"1\", VALUE_1, \"2\", VALUE_2);\n+        IllegalArgumentException exception =\n+               assertThrows(IllegalArgumentException.class, () ->\n+                     transformer.processCompetingMandatoryProperties(createProperties(values),\n+                                 entry(KEY_1, func), entry(KEY_2, func)));\n+        assertEquals(\"One of ExamplesTable properties must be set: either 'key-1' or 'key-2'\", exception.getMessage());\n+    }\n+\n+    @Test\n+    void testProcessCompetingMandatoryFirstNullProperties()\n+    {\n+        Map<String, String> values = Map.of(\"key\", VALUE_1, KEY_2, VALUE_2);\n+        assertEquals(VALUE_2, transformer.processCompetingMandatoryProperties(createProperties(values),\n+                entry(KEY_1, func), entry(KEY_2, func)).toString());\n+    }\n+\n+    @Test\n+    void testProcessCompetingMandatorySecondNullProperties()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8d70a87ac81d68501d200feff706b0b35b18a1b5"}, "originalPosition": 75}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAyMDAwMjk5OnYy", "diffSide": "RIGHT", "path": "vividus-bdd-engine/src/test/java/org/vividus/bdd/transformer/ExtendedTableTransformerTests.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QxNDoxMjo0MVrOHMojgw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QxNDoxMjo0MVrOHMojgw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzAwOTQxMQ==", "bodyText": "does it make sense to use org.junit.jupiter.params.ParameterizedTest? it looks like, you can combine this test and the previous one", "url": "https://github.com/vividus-framework/vividus/pull/887#discussion_r483009411", "createdAt": "2020-09-03T14:12:41Z", "author": {"login": "valfirst"}, "path": "vividus-bdd-engine/src/test/java/org/vividus/bdd/transformer/ExtendedTableTransformerTests.java", "diffHunk": "@@ -0,0 +1,88 @@\n+/*\n+ * Copyright 2019-2020 the original author or authors.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     https://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.vividus.bdd.transformer;\n+\n+import static java.util.Map.entry;\n+import static org.junit.jupiter.api.Assertions.assertEquals;\n+import static org.junit.jupiter.api.Assertions.assertThrows;\n+import static org.mockito.Mockito.spy;\n+\n+import java.util.Map;\n+import java.util.Properties;\n+import java.util.function.Function;\n+\n+import org.jbehave.core.model.ExamplesTable.TableProperties;\n+import org.junit.jupiter.api.Test;\n+import org.junit.jupiter.api.extension.ExtendWith;\n+import org.mockito.junit.jupiter.MockitoExtension;\n+\n+@ExtendWith(MockitoExtension.class)\n+class ExtendedTableTransformerTests\n+{\n+    private static final String VALUE_1 = \"value-1\";\n+    private static final String VALUE_2 = \"value-2\";\n+    private static final String KEY_1 = \"key-1\";\n+    private static final String KEY_2 = \"key-2\";\n+\n+    private static Function<String, String> func = key -> { return key; };\n+    private final ExtendedTableTransformer transformer = spy(ExtendedTableTransformer.class);\n+\n+    @Test\n+    void testProcessCompetingMandatoryNotNullProperties()\n+    {\n+        Map<String, String> values = Map.of(KEY_1, VALUE_1, KEY_2, VALUE_2);\n+        IllegalArgumentException exception = assertThrows(IllegalArgumentException.class, () ->\n+                transformer.processCompetingMandatoryProperties(createProperties(values),\n+                    entry(KEY_1, func), entry(KEY_2, func)));\n+        assertEquals(\"Only one ExamplesTable property must be set, but found both 'key-1' and 'key-2'\",\n+                     exception.getMessage());\n+    }\n+\n+    @Test\n+    void testProcessCompetingMandatoryNullProperties()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8d70a87ac81d68501d200feff706b0b35b18a1b5"}, "originalPosition": 56}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 238, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}