{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDUxMDcyNjg0", "number": 751, "reviewThreads": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQwNjoyOTo1MlrOEP_T0g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQwNzoyNzoyMVrOEQf42Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg1MjAxMzYyOnYy", "diffSide": "RIGHT", "path": "vividus-tests/src/main/resources/story/integration/HttpCookieManagerTest.story", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQwNjoyOTo1MlrOGz60ZA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQwNjoyOTo1MlrOGz60ZA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzA5NDI0NA==", "bodyText": "@epic vividus-plugin-web-app", "url": "https://github.com/vividus-framework/vividus/pull/751#discussion_r457094244", "createdAt": "2020-07-20T06:29:52Z", "author": {"login": "valfirst"}, "path": "vividus-tests/src/main/resources/story/integration/HttpCookieManagerTest.story", "diffHunk": "@@ -0,0 +1,19 @@\n+Description: Integration tests for CookieManager functionality\n+\n+Meta:\n+    @epic vividus-plugin-rest-api", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b27c6314af50c29a43f000838a4629636991d276"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg1MjAxNjE4OnYy", "diffSide": "RIGHT", "path": "vividus-tests/src/main/resources/story/integration/HttpCookieManagerTest.story", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQwNjozMDoyNlrOGz61xQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQwNjozMDoyNlrOGz61xQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzA5NDU5Nw==", "bodyText": "Description: Integration tests for cookie management in web application", "url": "https://github.com/vividus-framework/vividus/pull/751#discussion_r457094597", "createdAt": "2020-07-20T06:30:26Z", "author": {"login": "valfirst"}, "path": "vividus-tests/src/main/resources/story/integration/HttpCookieManagerTest.story", "diffHunk": "@@ -0,0 +1,19 @@\n+Description: Integration tests for CookieManager functionality", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b27c6314af50c29a43f000838a4629636991d276"}, "originalPosition": 1}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg1MjAxODY2OnYy", "diffSide": "RIGHT", "path": "vividus-tests/src/main/resources/story/integration/HttpCookieManagerTest.story", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQwNjozMToxMlrOGz63Wg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQwNjozMToxMlrOGz63Wg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzA5NTAwMg==", "bodyText": "Rename story: HttpCookieManagerTest.story -> WebCookieSteps.story", "url": "https://github.com/vividus-framework/vividus/pull/751#discussion_r457095002", "createdAt": "2020-07-20T06:31:12Z", "author": {"login": "valfirst"}, "path": "vividus-tests/src/main/resources/story/integration/HttpCookieManagerTest.story", "diffHunk": "@@ -0,0 +1,19 @@\n+Description: Integration tests for CookieManager functionality", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b27c6314af50c29a43f000838a4629636991d276"}, "originalPosition": 1}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg1MjAyNDEwOnYy", "diffSide": "RIGHT", "path": "vividus-tests/src/main/resources/story/integration/HttpCookieManagerTest.story", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQwNjozMjozMFrOGz66Lw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQwNjozMjozMFrOGz66Lw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzA5NTcyNw==", "bodyText": "I believe it should be enough to set only one cookie", "url": "https://github.com/vividus-framework/vividus/pull/751#discussion_r457095727", "createdAt": "2020-07-20T06:32:30Z", "author": {"login": "valfirst"}, "path": "vividus-tests/src/main/resources/story/integration/HttpCookieManagerTest.story", "diffHunk": "@@ -0,0 +1,19 @@\n+Description: Integration tests for CookieManager functionality\n+\n+Meta:\n+    @epic vividus-plugin-rest-api\n+\n+Scenario: Verify step: \"I set all cookies for current domain:$parameters\"\n+Given I am on the main application page\n+When I set all cookies for current domain:\n+|cookieName |cookieValue |path|\n+|cookieName1|cookieValue1|/   |\n+|cookieName2|cookieValue2|/   |\n+Then a cookie with the name 'cookieName1' is set\n+Then a cookie with the name 'cookieName2' is set", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b27c6314af50c29a43f000838a4629636991d276"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg1MjAyNjU4OnYy", "diffSide": "RIGHT", "path": "vividus-tests/src/main/resources/story/integration/HttpCookieManagerTest.story", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQwNjozMzowNlrOGz67bw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQwNjozMzowNlrOGz67bw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzA5NjA0Nw==", "bodyText": "This scenario depends on the previous one, please make them atomic", "url": "https://github.com/vividus-framework/vividus/pull/751#discussion_r457096047", "createdAt": "2020-07-20T06:33:06Z", "author": {"login": "valfirst"}, "path": "vividus-tests/src/main/resources/story/integration/HttpCookieManagerTest.story", "diffHunk": "@@ -0,0 +1,19 @@\n+Description: Integration tests for CookieManager functionality\n+\n+Meta:\n+    @epic vividus-plugin-rest-api\n+\n+Scenario: Verify step: \"I set all cookies for current domain:$parameters\"\n+Given I am on the main application page\n+When I set all cookies for current domain:\n+|cookieName |cookieValue |path|\n+|cookieName1|cookieValue1|/   |\n+|cookieName2|cookieValue2|/   |\n+Then a cookie with the name 'cookieName1' is set\n+Then a cookie with the name 'cookieName2' is set\n+\n+Scenario: Verify step: \"I remove a cookie with the name '$cookieName' from the current domain\"\n+When I remove a cookie with the name 'cookieName1' from the current domain\n+When I remove a cookie with the name 'cookieName2' from the current domain", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b27c6314af50c29a43f000838a4629636991d276"}, "originalPosition": 17}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg1MjAyODY2OnYy", "diffSide": "RIGHT", "path": "vividus-tests/src/main/resources/story/integration/HttpCookieManagerTest.story", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQwNjozMzo0NVrOGz68pw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQwNjozMzo0NVrOGz68pw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzA5NjM1OQ==", "bodyText": "...Verify step: \"When I...", "url": "https://github.com/vividus-framework/vividus/pull/751#discussion_r457096359", "createdAt": "2020-07-20T06:33:45Z", "author": {"login": "valfirst"}, "path": "vividus-tests/src/main/resources/story/integration/HttpCookieManagerTest.story", "diffHunk": "@@ -0,0 +1,19 @@\n+Description: Integration tests for CookieManager functionality\n+\n+Meta:\n+    @epic vividus-plugin-rest-api\n+\n+Scenario: Verify step: \"I set all cookies for current domain:$parameters\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b27c6314af50c29a43f000838a4629636991d276"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg1MjAyOTExOnYy", "diffSide": "RIGHT", "path": "vividus-tests/src/main/resources/story/integration/HttpCookieManagerTest.story", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQwNjozMzo1NVrOGz686w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQwNjozMzo1NVrOGz686w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzA5NjQyNw==", "bodyText": "...Verify step: \"When I...", "url": "https://github.com/vividus-framework/vividus/pull/751#discussion_r457096427", "createdAt": "2020-07-20T06:33:55Z", "author": {"login": "valfirst"}, "path": "vividus-tests/src/main/resources/story/integration/HttpCookieManagerTest.story", "diffHunk": "@@ -0,0 +1,19 @@\n+Description: Integration tests for CookieManager functionality\n+\n+Meta:\n+    @epic vividus-plugin-rest-api\n+\n+Scenario: Verify step: \"I set all cookies for current domain:$parameters\"\n+Given I am on the main application page\n+When I set all cookies for current domain:\n+|cookieName |cookieValue |path|\n+|cookieName1|cookieValue1|/   |\n+|cookieName2|cookieValue2|/   |\n+Then a cookie with the name 'cookieName1' is set\n+Then a cookie with the name 'cookieName2' is set\n+\n+Scenario: Verify step: \"I remove a cookie with the name '$cookieName' from the current domain\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b27c6314af50c29a43f000838a4629636991d276"}, "originalPosition": 15}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg1Mjc5MjUyOnYy", "diffSide": "RIGHT", "path": "vividus-plugin-web-app/src/main/java/org/vividus/ui/web/action/CookieManager.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQwOToxMjozOFrOG0Bo-A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQwOToxMjozOFrOG0Bo-A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzIwNjAwOA==", "bodyText": "logger.atInfo\njust cookie without toStr", "url": "https://github.com/vividus-framework/vividus/pull/751#discussion_r457206008", "createdAt": "2020-07-20T09:12:38Z", "author": {"login": "uarlouski"}, "path": "vividus-plugin-web-app/src/main/java/org/vividus/ui/web/action/CookieManager.java", "diffHunk": "@@ -65,43 +59,24 @@ public void addCookie(String cookieName, String cookieValue, String path, URI ur\n \n     private void executeAddCookieScript(String cookieName, String cookieValue, String path, String domain)\n     {\n-        String cookie = String.format(JS_COOKIE_FORMAT, cookieName, cookieValue, path, domain);\n-        LOGGER.debug(\"Adding cookie: {}\", cookie);\n-        javascriptActions.executeScript(cookie);\n+        Cookie cookie = new Cookie.Builder(cookieName, cookieValue)\n+                .domain(\".\" + domain)\n+                .path(path)\n+                .build();\n+        LOGGER.info(\"Adding cookie: {}\", cookie.toString());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5897c5ca7dc4123eedd91fa44908e0d3a4723957"}, "originalPosition": 31}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg1MjgwMTk2OnYy", "diffSide": "RIGHT", "path": "vividus-tests/src/main/resources/story/integration/WebCookieSteps.story", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQwOToxNDoyNlrOG0BuMg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQwOToxNDoyNlrOG0BuMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzIwNzM0Ng==", "bodyText": "please use values different than parameter names", "url": "https://github.com/vividus-framework/vividus/pull/751#discussion_r457207346", "createdAt": "2020-07-20T09:14:26Z", "author": {"login": "uarlouski"}, "path": "vividus-tests/src/main/resources/story/integration/WebCookieSteps.story", "diffHunk": "@@ -0,0 +1,19 @@\n+Description: Integration tests for cookie management in web application\n+\n+Meta:\n+    @epic vividus-plugin-web-app\n+\n+Scenario: Verify step: \"When I set all cookies for current domain:$parameters\"\n+Given I am on the main application page\n+When I set all cookies for current domain:\n+|cookieName |cookieValue |path|\n+|cookieName1|cookieValue1|/   |\n+Then a cookie with the name 'cookieName1' is set\n+\n+Scenario: Verify step: \"When I remove a cookie with the name '$cookieName' from the current domain\"\n+Given I am on the main application page\n+When I set all cookies for current domain:\n+|cookieName |cookieValue |path|\n+|cookieName |cookieValue |/   |", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5897c5ca7dc4123eedd91fa44908e0d3a4723957"}, "originalPosition": 17}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg1NzM1MTI5OnYy", "diffSide": "LEFT", "path": "vividus-plugin-web-app/src/main/java/org/vividus/bdd/steps/ui/web/CookieSteps.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQwNzoyNzoyMVrOG0rf-w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQwNzoyNzoyMVrOG0rf-w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzg5MTgzNQ==", "bodyText": "Why it is nor required?\nIf it still not, step description should be updated", "url": "https://github.com/vividus-framework/vividus/pull/751#discussion_r457891835", "createdAt": "2020-07-21T07:27:21Z", "author": {"login": "ikalinin1"}, "path": "vividus-plugin-web-app/src/main/java/org/vividus/bdd/steps/ui/web/CookieSteps.java", "diffHunk": "@@ -194,7 +194,6 @@ public void setAllCookies(ExamplesTable parameters)\n         {\n             cookieManager.addCookie(row.get(\"cookieName\"), row.get(\"cookieValue\"), row.get(\"path\"), currentUrl);\n         });\n-        navigateActions.refresh();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "db8d991f42489a13efd22e6016c4b2751ead9e48"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 284, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}