{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE2MDUyOTUx", "number": 561, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQxMjoxNjoxMFrOD7NtdQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQwNzoyNTo0OFrOD7hg_A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYzNDE3MjA1OnYy", "diffSide": "RIGHT", "path": "vividus-plugin-web-app/src/main/java/ru/yandex/qatools/ashot/shooting/DebuggingViewportPastingDecorator.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQxMjoxNjoxMFrOGTZrEQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQxODoxMjo1N1rOGTnuAA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjk5Njc1Mw==", "bodyText": "IE doesn't support this API and only the latest version (24.03.2020) of Safari supports it: https://caniuse.com/#search=scrollTo", "url": "https://github.com/vividus-framework/vividus/pull/561#discussion_r422996753", "createdAt": "2020-05-11T12:16:10Z", "author": {"login": "valfirst"}, "path": "vividus-plugin-web-app/src/main/java/ru/yandex/qatools/ashot/shooting/DebuggingViewportPastingDecorator.java", "diffHunk": "@@ -39,6 +39,8 @@\n  */\n // CHECKSTYLE:OFF\n public class DebuggingViewportPastingDecorator extends ShootingDecorator {\n+    private static final String SCROLL_Y = \n+            \".scrollTo({\\\"top\\\":arguments[0], \\\"left\\\": 0, \\\"behavior\\\":\\\"instant\\\"}); return [];\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "906850c2ed4eae95736e650ab3f2f99b07821705"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzA4NjUxMg==", "bodyText": "Do you agree to use it for the browsers supporting the API?", "url": "https://github.com/vividus-framework/vividus/pull/561#discussion_r423086512", "createdAt": "2020-05-11T14:36:31Z", "author": {"login": "ikalinin1"}, "path": "vividus-plugin-web-app/src/main/java/ru/yandex/qatools/ashot/shooting/DebuggingViewportPastingDecorator.java", "diffHunk": "@@ -39,6 +39,8 @@\n  */\n // CHECKSTYLE:OFF\n public class DebuggingViewportPastingDecorator extends ShootingDecorator {\n+    private static final String SCROLL_Y = \n+            \".scrollTo({\\\"top\\\":arguments[0], \\\"left\\\": 0, \\\"behavior\\\":\\\"instant\\\"}); return [];\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjk5Njc1Mw=="}, "originalCommit": {"oid": "906850c2ed4eae95736e650ab3f2f99b07821705"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzIyNjg4MA==", "bodyText": "yes, sounds reasonable", "url": "https://github.com/vividus-framework/vividus/pull/561#discussion_r423226880", "createdAt": "2020-05-11T18:12:57Z", "author": {"login": "valfirst"}, "path": "vividus-plugin-web-app/src/main/java/ru/yandex/qatools/ashot/shooting/DebuggingViewportPastingDecorator.java", "diffHunk": "@@ -39,6 +39,8 @@\n  */\n // CHECKSTYLE:OFF\n public class DebuggingViewportPastingDecorator extends ShootingDecorator {\n+    private static final String SCROLL_Y = \n+            \".scrollTo({\\\"top\\\":arguments[0], \\\"left\\\": 0, \\\"behavior\\\":\\\"instant\\\"}); return [];\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjk5Njc1Mw=="}, "originalCommit": {"oid": "906850c2ed4eae95736e650ab3f2f99b07821705"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYzNzQxNjkyOnYy", "diffSide": "RIGHT", "path": "vividus-plugin-web-app/src/main/java/ru/yandex/qatools/ashot/shooting/DebuggingViewportPastingDecorator.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQwNzoyNTo0OFrOGT5d7Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQwNzoyNTo0OFrOGT5d7Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzUxNzY3Nw==", "bodyText": "what about moving this part to constructor and converting getTarget() to a constructor parameter?", "url": "https://github.com/vividus-framework/vividus/pull/561#discussion_r423517677", "createdAt": "2020-05-12T07:25:48Z", "author": {"login": "valfirst"}, "path": "vividus-plugin-web-app/src/main/java/ru/yandex/qatools/ashot/shooting/DebuggingViewportPastingDecorator.java", "diffHunk": "@@ -39,11 +39,27 @@\n  */\n // CHECKSTYLE:OFF\n public class DebuggingViewportPastingDecorator extends ShootingDecorator {\n+    private static final String SCROLL_Y_TEMPLATE =\n+              \"if ('scrollBehavior' in document.documentElement.style) {\"\n+            + \"    %1$s.scrollTo({\"\n+            + \"        \\\"top\\\": arguments[0],\"\n+            + \"        \\\"left\\\": 0,\"\n+            + \"        \\\"behavior\\\": \\\"instant\\\"\"\n+            + \"    });\"\n+            + \"} else {\"\n+            + \"    %1$s.scrollTo(0, arguments[0]);\"\n+            + \"}\"\n+            + \"return [];\";\n     private static final long serialVersionUID = 4173686031614281540L;\n     private static final String CURRENT_SCROLL = \"current_scroll_\";\n     protected int scrollTimeout = 0;\n     private Coords shootingArea;\n     private transient ScreenshotDebugger screenshotDebugger;\n+    protected final String scrollYScript;\n+\n+    {\n+        scrollYScript = String.format(SCROLL_Y_TEMPLATE, getTarget());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5427ef34c55693c41fcb2b3e64aced7fd053d01b"}, "originalPosition": 23}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 306, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}