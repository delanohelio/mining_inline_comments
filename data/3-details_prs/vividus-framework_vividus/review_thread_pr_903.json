{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDgxNDk2MDk0", "number": 903, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOFQwNjozNToyNFrOEhGduw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOVQxMzoyNDowNlrOEhq74Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAzMTQ0Mzc5OnYy", "diffSide": "RIGHT", "path": "vividus-plugin-web-app/src/main/resources/properties/profile/web/profile.properties", "isResolved": true, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOFQwNjozNToyNFrOHOOoFg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOFQwNzo1NzowNVrOHORMMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDY4MTc1MA==", "bodyText": "Looks confusing to me. It is a driver's scope, not the application. Could it be driver-life-scope", "url": "https://github.com/vividus-framework/vividus/pull/903#discussion_r484681750", "createdAt": "2020-09-08T06:35:24Z", "author": {"login": "ikalinin1"}, "path": "vividus-plugin-web-app/src/main/resources/properties/profile/web/profile.properties", "diffHunk": "@@ -42,6 +42,7 @@ web-application.tablet-resolution-width-threshold=1024\n web-application.phone-resolution-width-threshold=640\n web-application.environment-type=test\n web-application.authentication-mode=URL\n+web-application.life-scope=story", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0f4252e0c033255cd28f4428e0574f819e705d07"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDY4Njg1OA==", "bodyText": "driver will be not clear for end-users, also I thought about browser-life-scope, but in this case we'll loose naming consistency", "url": "https://github.com/vividus-framework/vividus/pull/903#discussion_r484686858", "createdAt": "2020-09-08T06:47:18Z", "author": {"login": "valfirst"}, "path": "vividus-plugin-web-app/src/main/resources/properties/profile/web/profile.properties", "diffHunk": "@@ -42,6 +42,7 @@ web-application.tablet-resolution-width-threshold=1024\n web-application.phone-resolution-width-threshold=640\n web-application.environment-type=test\n web-application.authentication-mode=URL\n+web-application.life-scope=story", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDY4MTc1MA=="}, "originalCommit": {"oid": "0f4252e0c033255cd28f4428e0574f819e705d07"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDY4OTA5Ng==", "bodyText": "In the current naming, it looks like the user controls an application. When he controls session", "url": "https://github.com/vividus-framework/vividus/pull/903#discussion_r484689096", "createdAt": "2020-09-08T06:52:19Z", "author": {"login": "ikalinin1"}, "path": "vividus-plugin-web-app/src/main/resources/properties/profile/web/profile.properties", "diffHunk": "@@ -42,6 +42,7 @@ web-application.tablet-resolution-width-threshold=1024\n web-application.phone-resolution-width-threshold=640\n web-application.environment-type=test\n web-application.authentication-mode=URL\n+web-application.life-scope=story", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDY4MTc1MA=="}, "originalCommit": {"oid": "0f4252e0c033255cd28f4428e0574f819e705d07"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDcyMDk3OA==", "bodyText": "web-application.session-scope\nmobile-application.session-scope\n?", "url": "https://github.com/vividus-framework/vividus/pull/903#discussion_r484720978", "createdAt": "2020-09-08T07:52:12Z", "author": {"login": "valfirst"}, "path": "vividus-plugin-web-app/src/main/resources/properties/profile/web/profile.properties", "diffHunk": "@@ -42,6 +42,7 @@ web-application.tablet-resolution-width-threshold=1024\n web-application.phone-resolution-width-threshold=640\n web-application.environment-type=test\n web-application.authentication-mode=URL\n+web-application.life-scope=story", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDY4MTc1MA=="}, "originalCommit": {"oid": "0f4252e0c033255cd28f4428e0574f819e705d07"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDcyMzc2MA==", "bodyText": "Looks good to me. Maybe it will be better to roll out voting :)", "url": "https://github.com/vividus-framework/vividus/pull/903#discussion_r484723760", "createdAt": "2020-09-08T07:57:05Z", "author": {"login": "ikalinin1"}, "path": "vividus-plugin-web-app/src/main/resources/properties/profile/web/profile.properties", "diffHunk": "@@ -42,6 +42,7 @@ web-application.tablet-resolution-width-threshold=1024\n web-application.phone-resolution-width-threshold=640\n web-application.environment-type=test\n web-application.authentication-mode=URL\n+web-application.life-scope=story", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDY4MTc1MA=="}, "originalCommit": {"oid": "0f4252e0c033255cd28f4428e0574f819e705d07"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAzMTQ0NzYxOnYy", "diffSide": "RIGHT", "path": "vividus-extension-selenium/src/main/java/org/vividus/bdd/steps/WebDriverSetupSteps.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOFQwNjozNjo0N1rOHOOqZg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOFQwNjozNjo0N1rOHOOqZg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDY4MjM0Mg==", "bodyText": "I propose to throw an exception in case of null, because it's not clear what's the actual behavior user expecting", "url": "https://github.com/vividus-framework/vividus/pull/903#discussion_r484682342", "createdAt": "2020-09-08T06:36:47Z", "author": {"login": "ikalinin1"}, "path": "vividus-extension-selenium/src/main/java/org/vividus/bdd/steps/WebDriverSetupSteps.java", "diffHunk": "@@ -52,8 +54,25 @@ public void beforeStory()\n         processMeta(bddRunContext.getRunningStory().getStory().getMeta());\n     }\n \n+    @AfterScenario(uponType = ScenarioType.ANY)\n+    public void afterScenario()\n+    {\n+        if (webDriverLifeScope == WebDriverLifeScope.SCENARIO)\n+        {\n+            stopWebDriver();\n+        }\n+    }\n+\n     @AfterStory\n     public void afterStory()\n+    {\n+        if (webDriverLifeScope == WebDriverLifeScope.STORY || webDriverLifeScope == null)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0f4252e0c033255cd28f4428e0574f819e705d07"}, "originalPosition": 43}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAzNzQxMjYzOnYy", "diffSide": "RIGHT", "path": "vividus-extension-selenium/src/main/java/org/vividus/bdd/steps/WebDriverSetupSteps.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOVQxMzoyMjozOVrOHPHEqw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOVQxMzoyOToyNVrOHPHX9A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTYwNjU3MQ==", "bodyText": "Hmm what should I do if I get this error and I'm not aware what the \"Application session scope\" is? :)", "url": "https://github.com/vividus-framework/vividus/pull/903#discussion_r485606571", "createdAt": "2020-09-09T13:22:39Z", "author": {"login": "uarlouski"}, "path": "vividus-extension-selenium/src/main/java/org/vividus/bdd/steps/WebDriverSetupSteps.java", "diffHunk": "@@ -26,15 +29,18 @@\n import org.vividus.selenium.IWebDriverProvider;\n import org.vividus.selenium.manager.IWebDriverManagerContext;\n \n-public class VividusWebDriverSetupSteps\n+public class WebDriverSetupSteps\n {\n+    private final WebDriverSessionScope webDriverSessionScope;\n     private final IWebDriverProvider webDriverProvider;\n     private final IWebDriverManagerContext webDriverManagerContext;\n     private final IBddRunContext bddRunContext;\n \n-    public VividusWebDriverSetupSteps(IWebDriverProvider webDriverProvider,\n+    public WebDriverSetupSteps(WebDriverSessionScope webDriverSessionScope, IWebDriverProvider webDriverProvider,\n             IWebDriverManagerContext webDriverManagerContext, IBddRunContext bddRunContext)\n     {\n+        isTrue(webDriverSessionScope != null, \"Application session scope is not set\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e2fe790a7250c2431899ff332ef72c851bc7ee4a"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTYxMTUwOA==", "bodyText": "RTFM :)", "url": "https://github.com/vividus-framework/vividus/pull/903#discussion_r485611508", "createdAt": "2020-09-09T13:29:25Z", "author": {"login": "ikalinin1"}, "path": "vividus-extension-selenium/src/main/java/org/vividus/bdd/steps/WebDriverSetupSteps.java", "diffHunk": "@@ -26,15 +29,18 @@\n import org.vividus.selenium.IWebDriverProvider;\n import org.vividus.selenium.manager.IWebDriverManagerContext;\n \n-public class VividusWebDriverSetupSteps\n+public class WebDriverSetupSteps\n {\n+    private final WebDriverSessionScope webDriverSessionScope;\n     private final IWebDriverProvider webDriverProvider;\n     private final IWebDriverManagerContext webDriverManagerContext;\n     private final IBddRunContext bddRunContext;\n \n-    public VividusWebDriverSetupSteps(IWebDriverProvider webDriverProvider,\n+    public WebDriverSetupSteps(WebDriverSessionScope webDriverSessionScope, IWebDriverProvider webDriverProvider,\n             IWebDriverManagerContext webDriverManagerContext, IBddRunContext bddRunContext)\n     {\n+        isTrue(webDriverSessionScope != null, \"Application session scope is not set\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTYwNjU3MQ=="}, "originalCommit": {"oid": "e2fe790a7250c2431899ff332ef72c851bc7ee4a"}, "originalPosition": 26}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAzNzQxOTIxOnYy", "diffSide": "RIGHT", "path": "docs/modules/plugins/partials/selenium-properties.adoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOVQxMzoyNDowNlrOHPHI3A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOVQxMzoyNDowNlrOHPHI3A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTYwNzY0NA==", "bodyText": "life-scope -> session-scope and in previous doc", "url": "https://github.com/vividus-framework/vividus/pull/903#discussion_r485607644", "createdAt": "2020-09-09T13:24:06Z", "author": {"login": "uarlouski"}, "path": "docs/modules/plugins/partials/selenium-properties.adoc", "diffHunk": "@@ -0,0 +1,12 @@\n+|`{life-scope-property-base}.life-scope`", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e2fe790a7250c2431899ff332ef72c851bc7ee4a"}, "originalPosition": 1}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 253, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}