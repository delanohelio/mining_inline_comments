{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg0MzE4Mzg5", "number": 374, "title": "Return human-readable description by ComparisonRule.toString()", "bodyText": "Closes #373", "createdAt": "2020-03-05T14:47:42Z", "url": "https://github.com/vividus-framework/vividus/pull/374", "merged": true, "mergeCommit": {"oid": "9eca396065e39bd7294a404d4c8c6dcbc3f03b70"}, "closed": true, "closedAt": "2020-03-06T14:31:03Z", "author": {"login": "ikalinin1"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcKtA7aABqjMxMDE2MTcxNjc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcLA9dpgFqTM3MDM1ODg5MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6ad1d24fdcd8ba885b18e7f922d3ac100b819904", "author": {"user": {"login": "ikalinin1", "name": "Ivan Kalinin"}}, "url": "https://github.com/vividus-framework/vividus/commit/6ad1d24fdcd8ba885b18e7f922d3ac100b819904", "committedDate": "2020-03-05T14:46:14Z", "message": "Refactor Comparison rule conversion"}, "afterCommit": {"oid": "c2fdb2a46a8c789fdbb43c3f691c9f88ca06819c", "author": {"user": {"login": "ikalinin1", "name": "Ivan Kalinin"}}, "url": "https://github.com/vividus-framework/vividus/commit/c2fdb2a46a8c789fdbb43c3f691c9f88ca06819c", "committedDate": "2020-03-05T15:11:51Z", "message": "Refactor Comparison rule conversion"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY5NjY0MjU2", "url": "https://github.com/vividus-framework/vividus/pull/374#pullrequestreview-369664256", "createdAt": "2020-03-05T15:26:11Z", "commit": {"oid": "c2fdb2a46a8c789fdbb43c3f691c9f88ca06819c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxNToyNjoxMlrOFyYA7Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxNToyNjoxMlrOFyYA7Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODM2NjU3Mw==", "bodyText": "return name().toLowerCase().replace('_', ' ');\n?", "url": "https://github.com/vividus-framework/vividus/pull/374#discussion_r388366573", "createdAt": "2020-03-05T15:26:12Z", "author": {"login": "valfirst"}, "path": "vividus-bdd-engine/src/main/java/org/vividus/bdd/steps/ComparisonRule.java", "diffHunk": "@@ -94,6 +96,12 @@ public static ComparisonRule parse(String sign)\n                 .findFirst();\n     }\n \n+    @Override\n+    public String toString()\n+    {\n+        return asString;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c2fdb2a46a8c789fdbb43c3f691c9f88ca06819c"}, "originalPosition": 75}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c2fdb2a46a8c789fdbb43c3f691c9f88ca06819c", "author": {"user": {"login": "ikalinin1", "name": "Ivan Kalinin"}}, "url": "https://github.com/vividus-framework/vividus/commit/c2fdb2a46a8c789fdbb43c3f691c9f88ca06819c", "committedDate": "2020-03-05T15:11:51Z", "message": "Refactor Comparison rule conversion"}, "afterCommit": {"oid": "172a4313820799a25d538d7be9ad4545093083c0", "author": {"user": {"login": "ikalinin1", "name": "Ivan Kalinin"}}, "url": "https://github.com/vividus-framework/vividus/commit/172a4313820799a25d538d7be9ad4545093083c0", "committedDate": "2020-03-05T15:26:14Z", "message": "Refactor Comparison rule conversion"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY5NjY1OTY5", "url": "https://github.com/vividus-framework/vividus/pull/374#pullrequestreview-369665969", "createdAt": "2020-03-05T15:28:07Z", "commit": {"oid": "2a57335126e9d074acb0d9bb9480c5d0d318c1e3"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxNTozMDoxNlrOFyYLYg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxNTozMDoxNlrOFyYLYg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODM2OTI1MA==", "bodyText": "do you really need to add comparisonRule and number to assertion description? it could be excessive since similar piece of information is added by Matcher", "url": "https://github.com/vividus-framework/vividus/pull/374#discussion_r388369250", "createdAt": "2020-03-05T15:30:16Z", "author": {"login": "valfirst"}, "path": "vividus-plugin-html/src/main/java/org/vividus/bdd/steps/html/HtmlSteps.java", "diffHunk": "@@ -56,6 +48,36 @@\n         return Optional.empty();\n     }\n \n+    /**\n+     * Checks if HTML contains elements according to rule by CSS selector\n+     * @param cssSelector CSS selector\n+     * @param html HTML to check\n+     * @param comparisonRule The rule to compare values\n+     * <br>(<i>Possible values:</i>\n+     * <br> less than (&lt;),\n+     * <br> less than or equal to (&lt;=),\n+     * <br> greater than(&gt;)\n+     * <br> greater than or equal to(&gt;=),\n+     * <br> equal to(=))\n+     * @param number Number of elements\n+     * @see <a href=\"https://www.w3schools.com/cssref/css_selectors.asp\"><i>CSS Selector Reference</i></a>\n+     * @see <a href=\"https://jsoup.org/apidocs/org/jsoup/select/Selector.html\"><i>Jsoup Selector API</i></a>\n+     * @return true if elements quantity corresponds to rule, false otherwise\n+     */\n+    @Then(\"number of elements found by CSS selector `$cssSelector` in HTML `$html` is $comparisonRule `$quantity`\")\n+    public boolean doesElementByCssSelectorExist(String cssSelector, String html, ComparisonRule comparisonRule,\n+            int number)\n+    {\n+        Elements elements = findElements(html, cssSelector);\n+        return softAssert.assertThat(String.format(\"Number of elements found by CSS selector '%s' is %s %d\",\n+                cssSelector, comparisonRule, number), elements.size(), comparisonRule.getComparisonRule(number));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "172a4313820799a25d538d7be9ad4545093083c0"}, "originalPosition": 55}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "172a4313820799a25d538d7be9ad4545093083c0", "author": {"user": {"login": "ikalinin1", "name": "Ivan Kalinin"}}, "url": "https://github.com/vividus-framework/vividus/commit/172a4313820799a25d538d7be9ad4545093083c0", "committedDate": "2020-03-05T15:26:14Z", "message": "Refactor Comparison rule conversion"}, "afterCommit": {"oid": "de8b39afb8f06152e1b68054c217d47d70b853d1", "author": {"user": {"login": "ikalinin1", "name": "Ivan Kalinin"}}, "url": "https://github.com/vividus-framework/vividus/commit/de8b39afb8f06152e1b68054c217d47d70b853d1", "committedDate": "2020-03-06T13:25:53Z", "message": "Refactor Comparison rule conversion"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcwMzM2OTg5", "url": "https://github.com/vividus-framework/vividus/pull/374#pullrequestreview-370336989", "createdAt": "2020-03-06T13:55:05Z", "commit": {"oid": "de8b39afb8f06152e1b68054c217d47d70b853d1"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNlQxMzo1NTowNVrOFy5d8A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNlQxMzo1NTowNVrOFy5d8A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODkxNDY3Mg==", "bodyText": "since JDK 11 is still our baseline, .replaceAll(\"_\", \" \") -> .replace('_', ' ')", "url": "https://github.com/vividus-framework/vividus/pull/374#discussion_r388914672", "createdAt": "2020-03-06T13:55:05Z", "author": {"login": "valfirst"}, "path": "vividus-bdd-engine/src/main/java/org/vividus/bdd/steps/ComparisonRule.java", "diffHunk": "@@ -94,6 +94,11 @@ public static ComparisonRule parse(String sign)\n                 .findFirst();\n     }\n \n+    public String toString()\n+    {\n+        return super.toString().replaceAll(\"_\", \" \").toLowerCase();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "de8b39afb8f06152e1b68054c217d47d70b853d1"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bea9a34f61c60bc0731a8f39ab3e8d7f4e7af56b", "author": {"user": {"login": "ikalinin1", "name": "Ivan Kalinin"}}, "url": "https://github.com/vividus-framework/vividus/commit/bea9a34f61c60bc0731a8f39ab3e8d7f4e7af56b", "committedDate": "2020-03-06T13:58:36Z", "message": "Refactor Comparison rule conversion"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "de8b39afb8f06152e1b68054c217d47d70b853d1", "author": {"user": {"login": "ikalinin1", "name": "Ivan Kalinin"}}, "url": "https://github.com/vividus-framework/vividus/commit/de8b39afb8f06152e1b68054c217d47d70b853d1", "committedDate": "2020-03-06T13:25:53Z", "message": "Refactor Comparison rule conversion"}, "afterCommit": {"oid": "bea9a34f61c60bc0731a8f39ab3e8d7f4e7af56b", "author": {"user": {"login": "ikalinin1", "name": "Ivan Kalinin"}}, "url": "https://github.com/vividus-framework/vividus/commit/bea9a34f61c60bc0731a8f39ab3e8d7f4e7af56b", "committedDate": "2020-03-06T13:58:36Z", "message": "Refactor Comparison rule conversion"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcwMzU4ODkx", "url": "https://github.com/vividus-framework/vividus/pull/374#pullrequestreview-370358891", "createdAt": "2020-03-06T14:26:23Z", "commit": {"oid": "bea9a34f61c60bc0731a8f39ab3e8d7f4e7af56b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 360, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}