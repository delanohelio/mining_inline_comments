{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQ1OTk1OTcz", "number": 1277, "reviewThreads": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOFQwODo0NzowMlrOFJeIXA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOFQxNToxODozNVrOFJjU0Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ1NDc1MTY0OnYy", "diffSide": "RIGHT", "path": "docs/modules/plugins/pages/plugin-sauce-labs.adoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOFQwODo0NzowMlrOIL0eRw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOFQwODo0NzowMlrOIL0eRw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTI2NDk2Nw==", "bodyText": "it's possible to get App Server by region: https://github.com/saucelabs/saucerest-java/blob/master/src/main/java/com/saucelabs/saucerest/DataCenter.java (but it's not released yet)", "url": "https://github.com/vividus-framework/vividus/pull/1277#discussion_r549264967", "createdAt": "2020-12-28T08:47:02Z", "author": {"login": "valfirst"}, "path": "docs/modules/plugins/pages/plugin-sauce-labs.adoc", "diffHunk": "@@ -69,6 +69,11 @@ a|URL\n |\n |Sauce Labs REST endpoint (it must match to the selected data center)\n \n+|[subs=+quotes]`*saucelabs.app-url*`\n+a|URL\n+|\n+|Sauce Labs App Server URL, e.g. `https://app.eu-central-1.saucelabs.com` (it must match to the selected data center)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "83ce19648a040f1b4653c9ef571a006088e67b1c"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ1NDc1NDA4OnYy", "diffSide": "RIGHT", "path": "vividus-extension-selenium/src/main/java/org/vividus/ui/util/AbstractSessionLinkPublisher.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOFQwODo0ODoxOFrOIL0fnA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOFQwODo1NjozOFrOIL0ptg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTI2NTMwOA==", "bodyText": "it's not util, it's for reporting", "url": "https://github.com/vividus-framework/vividus/pull/1277#discussion_r549265308", "createdAt": "2020-12-28T08:48:18Z", "author": {"login": "valfirst"}, "path": "vividus-extension-selenium/src/main/java/org/vividus/ui/util/AbstractSessionLinkPublisher.java", "diffHunk": "@@ -14,46 +14,44 @@\n  * limitations under the License.\n  */\n \n-package org.vividus.bdd.browserstack.steps;\n+package org.vividus.ui.util;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "83ce19648a040f1b4653c9ef571a006088e67b1c"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTI2Nzg5NA==", "bodyText": "ops, miss click :)", "url": "https://github.com/vividus-framework/vividus/pull/1277#discussion_r549267894", "createdAt": "2020-12-28T08:56:38Z", "author": {"login": "uarlouski"}, "path": "vividus-extension-selenium/src/main/java/org/vividus/ui/util/AbstractSessionLinkPublisher.java", "diffHunk": "@@ -14,46 +14,44 @@\n  * limitations under the License.\n  */\n \n-package org.vividus.bdd.browserstack.steps;\n+package org.vividus.ui.util;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTI2NTMwOA=="}, "originalCommit": {"oid": "83ce19648a040f1b4653c9ef571a006088e67b1c"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ1NDc1NDQ2OnYy", "diffSide": "RIGHT", "path": "vividus-extension-selenium/src/main/java/org/vividus/ui/util/AbstractSessionLinkPublisher.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOFQwODo0ODoyOVrOIL0f1A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOFQwODo0ODoyOVrOIL0f1A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTI2NTM2NA==", "bodyText": "getTestCloudName", "url": "https://github.com/vividus-framework/vividus/pull/1277#discussion_r549265364", "createdAt": "2020-12-28T08:48:29Z", "author": {"login": "valfirst"}, "path": "vividus-extension-selenium/src/main/java/org/vividus/ui/util/AbstractSessionLinkPublisher.java", "diffHunk": "@@ -14,46 +14,44 @@\n  * limitations under the License.\n  */\n \n-package org.vividus.bdd.browserstack.steps;\n+package org.vividus.ui.util;\n+\n+import static java.lang.String.format;\n \n import java.util.Optional;\n \n-import com.browserstack.automate.model.Session;\n import com.google.common.eventbus.EventBus;\n import com.google.common.eventbus.Subscribe;\n \n import org.jbehave.core.annotations.AfterScenario;\n import org.jbehave.core.annotations.BeforeScenario;\n import org.jbehave.core.annotations.ScenarioType;\n import org.openqa.selenium.remote.RemoteWebDriver;\n-import org.slf4j.Logger;\n-import org.slf4j.LoggerFactory;\n-import org.vividus.browserstack.BrowserStackAutomateClient;\n import org.vividus.reporter.event.LinkPublishEvent;\n import org.vividus.selenium.IWebDriverProvider;\n import org.vividus.selenium.event.WebDriverQuitEvent;\n import org.vividus.testcontext.TestContext;\n \n-public class BrowserStackSteps\n+public abstract class AbstractSessionLinkPublisher\n {\n-    private static final Logger LOGGER = LoggerFactory.getLogger(BrowserStackSteps.class);\n-\n     private static final Object KEY = SessionLinkPublishState.class;\n \n     private final IWebDriverProvider webDriverProvider;\n     private final EventBus eventBus;\n-    private final BrowserStackAutomateClient appAutomateClient;\n     private final TestContext testContext;\n \n-    public BrowserStackSteps(IWebDriverProvider webDriverProvider, EventBus eventBus,\n-            BrowserStackAutomateClient appAutomateClient, TestContext testContext)\n+    public AbstractSessionLinkPublisher(IWebDriverProvider webDriverProvider, EventBus eventBus,\n+            TestContext testContext)\n     {\n         this.webDriverProvider = webDriverProvider;\n         this.eventBus = eventBus;\n-        this.appAutomateClient = appAutomateClient;\n         this.testContext = testContext;\n     }\n \n+    protected abstract String getProviderName();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "83ce19648a040f1b4653c9ef571a006088e67b1c"}, "originalPosition": 50}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ1NDc1NTU1OnYy", "diffSide": "RIGHT", "path": "vividus-extension-selenium/src/main/java/org/vividus/ui/util/AbstractSessionLinkPublisher.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOFQwODo0ODo1NVrOIL0gcw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOFQwODo0ODo1NVrOIL0gcw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTI2NTUyMw==", "bodyText": "getSessionUrl ?", "url": "https://github.com/vividus-framework/vividus/pull/1277#discussion_r549265523", "createdAt": "2020-12-28T08:48:55Z", "author": {"login": "valfirst"}, "path": "vividus-extension-selenium/src/main/java/org/vividus/ui/util/AbstractSessionLinkPublisher.java", "diffHunk": "@@ -14,46 +14,44 @@\n  * limitations under the License.\n  */\n \n-package org.vividus.bdd.browserstack.steps;\n+package org.vividus.ui.util;\n+\n+import static java.lang.String.format;\n \n import java.util.Optional;\n \n-import com.browserstack.automate.model.Session;\n import com.google.common.eventbus.EventBus;\n import com.google.common.eventbus.Subscribe;\n \n import org.jbehave.core.annotations.AfterScenario;\n import org.jbehave.core.annotations.BeforeScenario;\n import org.jbehave.core.annotations.ScenarioType;\n import org.openqa.selenium.remote.RemoteWebDriver;\n-import org.slf4j.Logger;\n-import org.slf4j.LoggerFactory;\n-import org.vividus.browserstack.BrowserStackAutomateClient;\n import org.vividus.reporter.event.LinkPublishEvent;\n import org.vividus.selenium.IWebDriverProvider;\n import org.vividus.selenium.event.WebDriverQuitEvent;\n import org.vividus.testcontext.TestContext;\n \n-public class BrowserStackSteps\n+public abstract class AbstractSessionLinkPublisher\n {\n-    private static final Logger LOGGER = LoggerFactory.getLogger(BrowserStackSteps.class);\n-\n     private static final Object KEY = SessionLinkPublishState.class;\n \n     private final IWebDriverProvider webDriverProvider;\n     private final EventBus eventBus;\n-    private final BrowserStackAutomateClient appAutomateClient;\n     private final TestContext testContext;\n \n-    public BrowserStackSteps(IWebDriverProvider webDriverProvider, EventBus eventBus,\n-            BrowserStackAutomateClient appAutomateClient, TestContext testContext)\n+    public AbstractSessionLinkPublisher(IWebDriverProvider webDriverProvider, EventBus eventBus,\n+            TestContext testContext)\n     {\n         this.webDriverProvider = webDriverProvider;\n         this.eventBus = eventBus;\n-        this.appAutomateClient = appAutomateClient;\n         this.testContext = testContext;\n     }\n \n+    protected abstract String getProviderName();\n+\n+    protected abstract Optional<String> getTestExecutionUrl(String sessionId);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "83ce19648a040f1b4653c9ef571a006088e67b1c"}, "originalPosition": 52}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ1NDkwOTE5OnYy", "diffSide": "RIGHT", "path": "vividus-extension-selenium/src/main/java/org/vividus/ui/session/AbstractSessionLinkPublisher.java", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOFQwOTo1NzoxOFrOIL10Og==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOFQxMTo0ODozNlrOIL30AA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTI4Njk3MA==", "bodyText": "org.vividus.ui.reporter", "url": "https://github.com/vividus-framework/vividus/pull/1277#discussion_r549286970", "createdAt": "2020-12-28T09:57:18Z", "author": {"login": "valfirst"}, "path": "vividus-extension-selenium/src/main/java/org/vividus/ui/session/AbstractSessionLinkPublisher.java", "diffHunk": "@@ -14,46 +14,44 @@\n  * limitations under the License.\n  */\n \n-package org.vividus.bdd.browserstack.steps;\n+package org.vividus.ui.session;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7a33b02d00fd0e4e2af9e2e50077c1dba45c77f4"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTI5NDEwNg==", "bodyText": "reporter makes me thinking about report module and asking question why reporter thing does in selenium extension, but when we name the package session we like make a reference to selenium session which is suitable for the extension-selenium module", "url": "https://github.com/vividus-framework/vividus/pull/1277#discussion_r549294106", "createdAt": "2020-12-28T10:20:26Z", "author": {"login": "uarlouski"}, "path": "vividus-extension-selenium/src/main/java/org/vividus/ui/session/AbstractSessionLinkPublisher.java", "diffHunk": "@@ -14,46 +14,44 @@\n  * limitations under the License.\n  */\n \n-package org.vividus.bdd.browserstack.steps;\n+package org.vividus.ui.session;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTI4Njk3MA=="}, "originalCommit": {"oid": "7a33b02d00fd0e4e2af9e2e50077c1dba45c77f4"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTMxNTc2Nw==", "bodyText": "no, the goal of this class is to provide the data for the report, as for session - we don't manage sessions, the session is just a data\n\nwhy reporter thing does in selenium extension\n\nbecause it's a test automation solution, which includes reporting, logging and etc. and each module can report, log and etc.", "url": "https://github.com/vividus-framework/vividus/pull/1277#discussion_r549315767", "createdAt": "2020-12-28T11:34:21Z", "author": {"login": "valfirst"}, "path": "vividus-extension-selenium/src/main/java/org/vividus/ui/session/AbstractSessionLinkPublisher.java", "diffHunk": "@@ -14,46 +14,44 @@\n  * limitations under the License.\n  */\n \n-package org.vividus.bdd.browserstack.steps;\n+package org.vividus.ui.session;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTI4Njk3MA=="}, "originalCommit": {"oid": "7a33b02d00fd0e4e2af9e2e50077c1dba45c77f4"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTMxOTY4MA==", "bodyText": "I didn't mean managing sessions, but what we do here is providing link to remote selenium session and this can be used not only for reporting", "url": "https://github.com/vividus-framework/vividus/pull/1277#discussion_r549319680", "createdAt": "2020-12-28T11:48:36Z", "author": {"login": "uarlouski"}, "path": "vividus-extension-selenium/src/main/java/org/vividus/ui/session/AbstractSessionLinkPublisher.java", "diffHunk": "@@ -14,46 +14,44 @@\n  * limitations under the License.\n  */\n \n-package org.vividus.bdd.browserstack.steps;\n+package org.vividus.ui.session;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTI4Njk3MA=="}, "originalCommit": {"oid": "7a33b02d00fd0e4e2af9e2e50077c1dba45c77f4"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ1NDkxMzUwOnYy", "diffSide": "RIGHT", "path": "vividus-extension-selenium/src/main/java/org/vividus/ui/session/AbstractSessionLinkPublisher.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOFQwOTo1ODo1OVrOIL12hw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOFQwOTo1ODo1OVrOIL12hw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTI4NzU1OQ==", "bodyText": "you can replace getTestCloudName() with constructor parameter and generate this string once", "url": "https://github.com/vividus-framework/vividus/pull/1277#discussion_r549287559", "createdAt": "2020-12-28T09:58:59Z", "author": {"login": "valfirst"}, "path": "vividus-extension-selenium/src/main/java/org/vividus/ui/session/AbstractSessionLinkPublisher.java", "diffHunk": "@@ -87,25 +85,8 @@ private SessionLinkPublishState getPublishState()\n \n     private void publishSessionLink(String sessionId)\n     {\n-        getSessionLink(sessionId)\n-                .ifPresent(link -> eventBus.post(new LinkPublishEvent(\"BrowserStack Session URL\", link)));\n-    }\n-\n-    @SuppressWarnings(\"IllegalCatchExtended\")\n-    private Optional<String> getSessionLink(String sessionId)\n-    {\n-        try\n-        {\n-            Session session = appAutomateClient.getSession(sessionId);\n-            return Optional.of(session.getPublicUrl());\n-        }\n-        catch (Exception exception)\n-        {\n-            LOGGER.atError().addArgument(sessionId)\n-                            .setCause(exception)\n-                            .log(\"Unable to get an URL for BrowserStack session with the ID {}\");\n-            return Optional.empty();\n-        }\n+        getSessionUrl(sessionId).ifPresent(\n+            link -> eventBus.post(new LinkPublishEvent(format(\"%s Session URL\", getTestCloudName()), link)));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7a33b02d00fd0e4e2af9e2e50077c1dba45c77f4"}, "originalPosition": 81}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ1NDkzNTM5OnYy", "diffSide": "RIGHT", "path": "vividus-plugin-saucelabs/src/main/resources/spring.xml", "isResolved": true, "comments": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOFQxMDowOToxOVrOIL2CbA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOFQxMTo1NzoxOFrOIL39Kg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTI5MDYwNA==", "bodyText": "create RelaxedEnumPropertyEditor instead", "url": "https://github.com/vividus-framework/vividus/pull/1277#discussion_r549290604", "createdAt": "2020-12-28T10:09:19Z", "author": {"login": "valfirst"}, "path": "vividus-plugin-saucelabs/src/main/resources/spring.xml", "diffHunk": "@@ -25,11 +28,19 @@\n         </property>\n     </bean>\n \n+    <bean id=\"sauceLabsLinkPublisher\" class=\"org.vividus.saucelabs.SauceLabsSessionLinkPublisher\">\n+        <!-- Workaround for: https://github.com/saucelabs/saucerest-java/pull/127 -->\n+        <constructor-arg index=\"0\" value=\"#{'${saucelabs.data-center}'.toUpperCase()}\" />", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7a33b02d00fd0e4e2af9e2e50077c1dba45c77f4"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTI5MjE2MA==", "bodyText": "but there is a change to get null if saucelabs.data-center is empty, isn't it better here to fail at context startup?", "url": "https://github.com/vividus-framework/vividus/pull/1277#discussion_r549292160", "createdAt": "2020-12-28T10:14:19Z", "author": {"login": "uarlouski"}, "path": "vividus-plugin-saucelabs/src/main/resources/spring.xml", "diffHunk": "@@ -25,11 +28,19 @@\n         </property>\n     </bean>\n \n+    <bean id=\"sauceLabsLinkPublisher\" class=\"org.vividus.saucelabs.SauceLabsSessionLinkPublisher\">\n+        <!-- Workaround for: https://github.com/saucelabs/saucerest-java/pull/127 -->\n+        <constructor-arg index=\"0\" value=\"#{'${saucelabs.data-center}'.toUpperCase()}\" />", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTI5MDYwNA=="}, "originalCommit": {"oid": "7a33b02d00fd0e4e2af9e2e50077c1dba45c77f4"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTMxNjIxOA==", "bodyText": "please elaborate", "url": "https://github.com/vividus-framework/vividus/pull/1277#discussion_r549316218", "createdAt": "2020-12-28T11:36:02Z", "author": {"login": "valfirst"}, "path": "vividus-plugin-saucelabs/src/main/resources/spring.xml", "diffHunk": "@@ -25,11 +28,19 @@\n         </property>\n     </bean>\n \n+    <bean id=\"sauceLabsLinkPublisher\" class=\"org.vividus.saucelabs.SauceLabsSessionLinkPublisher\">\n+        <!-- Workaround for: https://github.com/saucelabs/saucerest-java/pull/127 -->\n+        <constructor-arg index=\"0\" value=\"#{'${saucelabs.data-center}'.toUpperCase()}\" />", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTI5MDYwNA=="}, "originalCommit": {"oid": "7a33b02d00fd0e4e2af9e2e50077c1dba45c77f4"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTMxODA5MQ==", "bodyText": "RelaxedEnumPropertyEditor interprets empty string as null", "url": "https://github.com/vividus-framework/vividus/pull/1277#discussion_r549318091", "createdAt": "2020-12-28T11:42:51Z", "author": {"login": "uarlouski"}, "path": "vividus-plugin-saucelabs/src/main/resources/spring.xml", "diffHunk": "@@ -25,11 +28,19 @@\n         </property>\n     </bean>\n \n+    <bean id=\"sauceLabsLinkPublisher\" class=\"org.vividus.saucelabs.SauceLabsSessionLinkPublisher\">\n+        <!-- Workaround for: https://github.com/saucelabs/saucerest-java/pull/127 -->\n+        <constructor-arg index=\"0\" value=\"#{'${saucelabs.data-center}'.toUpperCase()}\" />", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTI5MDYwNA=="}, "originalCommit": {"oid": "7a33b02d00fd0e4e2af9e2e50077c1dba45c77f4"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTMyMDU4NA==", "bodyText": "okay, it turned out that we convert all empty values to nulls", "url": "https://github.com/vividus-framework/vividus/pull/1277#discussion_r549320584", "createdAt": "2020-12-28T11:52:04Z", "author": {"login": "uarlouski"}, "path": "vividus-plugin-saucelabs/src/main/resources/spring.xml", "diffHunk": "@@ -25,11 +28,19 @@\n         </property>\n     </bean>\n \n+    <bean id=\"sauceLabsLinkPublisher\" class=\"org.vividus.saucelabs.SauceLabsSessionLinkPublisher\">\n+        <!-- Workaround for: https://github.com/saucelabs/saucerest-java/pull/127 -->\n+        <constructor-arg index=\"0\" value=\"#{'${saucelabs.data-center}'.toUpperCase()}\" />", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTI5MDYwNA=="}, "originalCommit": {"oid": "7a33b02d00fd0e4e2af9e2e50077c1dba45c77f4"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTMyMjAyNg==", "bodyText": "with current code Spring will also convert an empty value to null", "url": "https://github.com/vividus-framework/vividus/pull/1277#discussion_r549322026", "createdAt": "2020-12-28T11:57:18Z", "author": {"login": "valfirst"}, "path": "vividus-plugin-saucelabs/src/main/resources/spring.xml", "diffHunk": "@@ -25,11 +28,19 @@\n         </property>\n     </bean>\n \n+    <bean id=\"sauceLabsLinkPublisher\" class=\"org.vividus.saucelabs.SauceLabsSessionLinkPublisher\">\n+        <!-- Workaround for: https://github.com/saucelabs/saucerest-java/pull/127 -->\n+        <constructor-arg index=\"0\" value=\"#{'${saucelabs.data-center}'.toUpperCase()}\" />", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTI5MDYwNA=="}, "originalCommit": {"oid": "7a33b02d00fd0e4e2af9e2e50077c1dba45c77f4"}, "originalPosition": 18}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ1NTYwMjczOnYy", "diffSide": "RIGHT", "path": "vividus-extension-selenium/src/main/java/org/vividus/ui/report/AbstractSessionLinkPublisher.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOFQxNToxODozNVrOIL7vmA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOFQxNToxODozNVrOIL7vmA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTM4NDA4OA==", "bodyText": "linkName", "url": "https://github.com/vividus-framework/vividus/pull/1277#discussion_r549384088", "createdAt": "2020-12-28T15:18:35Z", "author": {"login": "valfirst"}, "path": "vividus-extension-selenium/src/main/java/org/vividus/ui/report/AbstractSessionLinkPublisher.java", "diffHunk": "@@ -14,46 +14,45 @@\n  * limitations under the License.\n  */\n \n-package org.vividus.bdd.browserstack.steps;\n+package org.vividus.ui.report;\n+\n+import static java.lang.String.format;\n \n import java.util.Optional;\n \n-import com.browserstack.automate.model.Session;\n import com.google.common.eventbus.EventBus;\n import com.google.common.eventbus.Subscribe;\n \n import org.jbehave.core.annotations.AfterScenario;\n import org.jbehave.core.annotations.BeforeScenario;\n import org.jbehave.core.annotations.ScenarioType;\n import org.openqa.selenium.remote.RemoteWebDriver;\n-import org.slf4j.Logger;\n-import org.slf4j.LoggerFactory;\n-import org.vividus.browserstack.BrowserStackAutomateClient;\n import org.vividus.reporter.event.LinkPublishEvent;\n import org.vividus.selenium.IWebDriverProvider;\n import org.vividus.selenium.event.WebDriverQuitEvent;\n import org.vividus.testcontext.TestContext;\n \n-public class BrowserStackSteps\n+public abstract class AbstractSessionLinkPublisher\n {\n-    private static final Logger LOGGER = LoggerFactory.getLogger(BrowserStackSteps.class);\n-\n     private static final Object KEY = SessionLinkPublishState.class;\n \n+    private final String sessionLink;\n+\n     private final IWebDriverProvider webDriverProvider;\n     private final EventBus eventBus;\n-    private final BrowserStackAutomateClient appAutomateClient;\n     private final TestContext testContext;\n \n-    public BrowserStackSteps(IWebDriverProvider webDriverProvider, EventBus eventBus,\n-            BrowserStackAutomateClient appAutomateClient, TestContext testContext)\n+    protected AbstractSessionLinkPublisher(String testCloudName, IWebDriverProvider webDriverProvider,\n+            EventBus eventBus, TestContext testContext)\n     {\n+        this.sessionLink = format(\"%s Session URL\", testCloudName);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e873c153a8d13221e08fdadb00ae66788d4c7b95"}, "originalPosition": 46}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4926, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}