{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkwMzk5OTAx", "number": 402, "title": "Leave original columns order after work FILTERING transformer", "bodyText": "", "createdAt": "2020-03-18T12:14:22Z", "url": "https://github.com/vividus-framework/vividus/pull/402", "merged": true, "mergeCommit": {"oid": "8f8b9183689d2f5b2a3c0a6667444e5c61af0a46"}, "closed": true, "closedAt": "2020-03-19T13:12:27Z", "author": {"login": "abudevich"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcO2mYUgFqTM3NjgyMjAyNA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcPLXFbgFqTM3NzY4NjI0Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc2ODIyMDI0", "url": "https://github.com/vividus-framework/vividus/pull/402#pullrequestreview-376822024", "createdAt": "2020-03-18T12:37:48Z", "commit": {"oid": "d0b8d3350105d3e5e82fa6941c68d432f0dbf859"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOFQxMjozNzo0OFrOF4DCGQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOFQxMjozNzo0OFrOF4DCGQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDMxNDI2NQ==", "bodyText": "I think, we should keep the same column order as it was before filtering, what about using LinkedHashSet ?", "url": "https://github.com/vividus-framework/vividus/pull/402#discussion_r394314265", "createdAt": "2020-03-18T12:37:48Z", "author": {"login": "valfirst"}, "path": "vividus-bdd-engine/src/main/java/org/vividus/bdd/transformer/FilteringTableTransformer.java", "diffHunk": "@@ -65,7 +66,7 @@ public String transform(String tableAsString, ExamplesTableProperties properties\n                 ? headerValues.size() : Math.min(headerValues.size(), Integer.parseInt(byMaxColumns));\n         List<String> filteredColumnsNames = byColumnNames == null ? headerValues.subList(0, columnsLimit)\n                 : Arrays.stream(StringUtils.split(byColumnNames, ';')).map(String::trim).collect(Collectors.toList());\n-        Set<String> filteredHeaders = new HashSet<>(filteredColumnsNames);\n+        Set<String> filteredHeaders = new TreeSet<>(filteredColumnsNames);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d0b8d3350105d3e5e82fa6941c68d432f0dbf859"}, "originalPosition": 13}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d0b8d3350105d3e5e82fa6941c68d432f0dbf859", "author": {"user": {"login": "abudevich", "name": null}}, "url": "https://github.com/vividus-framework/vividus/commit/d0b8d3350105d3e5e82fa6941c68d432f0dbf859", "committedDate": "2020-03-18T12:13:35Z", "message": "Sort header and data during work FILTERING transformer"}, "afterCommit": {"oid": "d45c52d6bcf2cdbf66051da281d2c674637d355d", "author": {"user": {"login": "abudevich", "name": null}}, "url": "https://github.com/vividus-framework/vividus/commit/d45c52d6bcf2cdbf66051da281d2c674637d355d", "committedDate": "2020-03-19T11:54:06Z", "message": "Leave original columns order after work FILTERING transformer"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc3NjY3Mzk2", "url": "https://github.com/vividus-framework/vividus/pull/402#pullrequestreview-377667396", "createdAt": "2020-03-19T12:22:03Z", "commit": {"oid": "d45c52d6bcf2cdbf66051da281d2c674637d355d"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOVQxMjoyMjowM1rOF4r__A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOVQxMjoyMjowM1rOF4r__A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDk4NTQ2OA==", "bodyText": "List<String> filteredColumns = new ArrayList<>(headerValues); - copy is required to avoid changes in the original input", "url": "https://github.com/vividus-framework/vividus/pull/402#discussion_r394985468", "createdAt": "2020-03-19T12:22:03Z", "author": {"login": "valfirst"}, "path": "vividus-bdd-engine/src/main/java/org/vividus/bdd/transformer/FilteringTableTransformer.java", "diffHunk": "@@ -98,6 +85,24 @@ public String transform(String tableAsString, ExamplesTableProperties properties\n                 .orElseGet(examplesTable::getRows);\n     }\n \n+    private List<String> getFilteredHeaders(String byMaxColumns, String byColumnNames, List<String> headerValues)\n+    {\n+        int columnsLimit = byMaxColumns == null\n+                ? headerValues.size() : Math.min(headerValues.size(), Integer.parseInt(byMaxColumns));\n+        List<String> filteredColumns = headerValues;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d45c52d6bcf2cdbf66051da281d2c674637d355d"}, "originalPosition": 61}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8a81aec345f109837e78bc743b661a0ca5f13aec", "author": {"user": {"login": "abudevich", "name": null}}, "url": "https://github.com/vividus-framework/vividus/commit/8a81aec345f109837e78bc743b661a0ca5f13aec", "committedDate": "2020-03-19T12:47:41Z", "message": "Leave original columns order after work FILTERING transformer"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d45c52d6bcf2cdbf66051da281d2c674637d355d", "author": {"user": {"login": "abudevich", "name": null}}, "url": "https://github.com/vividus-framework/vividus/commit/d45c52d6bcf2cdbf66051da281d2c674637d355d", "committedDate": "2020-03-19T11:54:06Z", "message": "Leave original columns order after work FILTERING transformer"}, "afterCommit": {"oid": "8a81aec345f109837e78bc743b661a0ca5f13aec", "author": {"user": {"login": "abudevich", "name": null}}, "url": "https://github.com/vividus-framework/vividus/commit/8a81aec345f109837e78bc743b661a0ca5f13aec", "committedDate": "2020-03-19T12:47:41Z", "message": "Leave original columns order after work FILTERING transformer"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc3Njg2MjQ2", "url": "https://github.com/vividus-framework/vividus/pull/402#pullrequestreview-377686246", "createdAt": "2020-03-19T12:49:07Z", "commit": {"oid": "8a81aec345f109837e78bc743b661a0ca5f13aec"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 378, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}