{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkyOTY2ODE1", "number": 425, "title": "Add upload locator step", "bodyText": "", "createdAt": "2020-03-24T12:40:24Z", "url": "https://github.com/vividus-framework/vividus/pull/425", "merged": true, "mergeCommit": {"oid": "c02a16ffc62f47dec40754d7e6e6d4beb617890e"}, "closed": true, "closedAt": "2020-03-31T11:00:25Z", "author": {"login": "ivan-lednev"}, "timelineItems": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcQylKfgFqTM4MDI4NjY4NQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcTA4ODgFqTM4NDYxNjU3OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgwMjg2Njg1", "url": "https://github.com/vividus-framework/vividus/pull/425#pullrequestreview-380286685", "createdAt": "2020-03-24T13:04:43Z", "commit": {"oid": "9b5da35534d8d9334b14ae24571667bf44345696"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNFQxMzowNDo0M1rOF6vOWg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNFQxMzowNDo0M1rOF6vOWg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzEzNTQ1MA==", "bodyText": "does it make sense to refactor the existing one into composite?", "url": "https://github.com/vividus-framework/vividus/pull/425#discussion_r397135450", "createdAt": "2020-03-24T13:04:43Z", "author": {"login": "ikalinin1"}, "path": "vividus-plugin-web-app/src/main/java/org/vividus/bdd/steps/ui/web/ElementSteps.java", "diffHunk": "@@ -68,21 +68,39 @@\n     private ResourceLoader resourceLoader;\n \n     /**\n-     * This steps is uploading the file with the given relative path\n-     * <p>A <b>relative path</b> - starts from some given working directory,\n+     * This step uploads a file with the given relative path\n+     * <p>A <b>relative path</b> starts from some given working directory,\n      * avoiding the need to provide the full absolute path\n      * (i.e. <i>'about.jpeg'</i> is in the root directory\n      * or <i>'/story/uploadfiles/about.png'</i>)</p>\n-     * @param attributeType A type of the element's attribute\n-     * @param attributeValue A value of the element's attribute\n-\n+     * @param attributeType The type of the element's attribute\n+     * @param attributeValue The value of the element's attribute\n      * @param filePath relative path to the file to be uploaded\n      * @see <a href=\"https://en.wikipedia.org/wiki/Path_(computing)#Absolute_and_relative_paths\"> <i>Absolute and\n      * relative paths</i></a>\n      * @throws IOException If an input or output exception occurred\n      */\n     @When(\"I select an element with the '$attributeType'='$attributeValue' and upload the file '$filePath'\")\n     public void uploadFile(String attributeType, String attributeValue, String filePath) throws IOException\n+    {\n+        uploadFile(new SearchAttributes(ActionAttributeType.XPATH,\n+                LocatorUtil.getXPathByAttribute(attributeType, attributeValue)), filePath);\n+    }\n+\n+    /**\n+     * This step uploads a file with the given relative path\n+     * <p>A <b>relative path</b> starts from some given working directory,\n+     * avoiding the need to provide the full absolute path\n+     * (i.e. <i>'about.jpeg'</i> is in the root directory\n+     * or <i>'/story/uploadfiles/about.png'</i>)</p>\n+     * @param locator The locator for the upload element\n+     * @param filePath relative path to the file to be uploaded\n+     * @see <a href=\"https://en.wikipedia.org/wiki/Path_(computing)#Absolute_and_relative_paths\"> <i>Absolute and\n+     * relative paths</i></a>\n+     * @throws IOException If an input or output exception occurred\n+     */\n+    @When(\"I select an element '$locator' and upload the file '$filePath'\")\n+    public void uploadFile(SearchAttributes locator, String filePath) throws IOException", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9b5da35534d8d9334b14ae24571667bf44345696"}, "originalPosition": 41}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgwMjg3Mjg4", "url": "https://github.com/vividus-framework/vividus/pull/425#pullrequestreview-380287288", "createdAt": "2020-03-24T13:05:23Z", "commit": {"oid": "9b5da35534d8d9334b14ae24571667bf44345696"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNFQxMzowNToyM1rOF6vP-w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNFQxMzowNToyM1rOF6vP-w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzEzNTg2Nw==", "bodyText": "Add integration tests?", "url": "https://github.com/vividus-framework/vividus/pull/425#discussion_r397135867", "createdAt": "2020-03-24T13:05:23Z", "author": {"login": "ikalinin1"}, "path": "vividus-plugin-web-app/src/main/java/org/vividus/bdd/steps/ui/web/ElementSteps.java", "diffHunk": "@@ -68,21 +68,39 @@\n     private ResourceLoader resourceLoader;\n \n     /**\n-     * This steps is uploading the file with the given relative path\n-     * <p>A <b>relative path</b> - starts from some given working directory,\n+     * This step uploads a file with the given relative path\n+     * <p>A <b>relative path</b> starts from some given working directory,\n      * avoiding the need to provide the full absolute path\n      * (i.e. <i>'about.jpeg'</i> is in the root directory\n      * or <i>'/story/uploadfiles/about.png'</i>)</p>\n-     * @param attributeType A type of the element's attribute\n-     * @param attributeValue A value of the element's attribute\n-\n+     * @param attributeType The type of the element's attribute\n+     * @param attributeValue The value of the element's attribute\n      * @param filePath relative path to the file to be uploaded\n      * @see <a href=\"https://en.wikipedia.org/wiki/Path_(computing)#Absolute_and_relative_paths\"> <i>Absolute and\n      * relative paths</i></a>\n      * @throws IOException If an input or output exception occurred\n      */\n     @When(\"I select an element with the '$attributeType'='$attributeValue' and upload the file '$filePath'\")\n     public void uploadFile(String attributeType, String attributeValue, String filePath) throws IOException\n+    {\n+        uploadFile(new SearchAttributes(ActionAttributeType.XPATH,\n+                LocatorUtil.getXPathByAttribute(attributeType, attributeValue)), filePath);\n+    }\n+\n+    /**\n+     * This step uploads a file with the given relative path\n+     * <p>A <b>relative path</b> starts from some given working directory,\n+     * avoiding the need to provide the full absolute path\n+     * (i.e. <i>'about.jpeg'</i> is in the root directory\n+     * or <i>'/story/uploadfiles/about.png'</i>)</p>\n+     * @param locator The locator for the upload element\n+     * @param filePath relative path to the file to be uploaded\n+     * @see <a href=\"https://en.wikipedia.org/wiki/Path_(computing)#Absolute_and_relative_paths\"> <i>Absolute and\n+     * relative paths</i></a>\n+     * @throws IOException If an input or output exception occurred\n+     */\n+    @When(\"I select an element '$locator' and upload the file '$filePath'\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9b5da35534d8d9334b14ae24571667bf44345696"}, "originalPosition": 40}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9b5da35534d8d9334b14ae24571667bf44345696", "author": {"user": {"login": "ivan-lednev", "name": "Ivan Lednev"}}, "url": "https://github.com/vividus-framework/vividus/commit/9b5da35534d8d9334b14ae24571667bf44345696", "committedDate": "2020-03-24T12:37:31Z", "message": "[plugin-web-app] Tidy up javadoc"}, "afterCommit": {"oid": "c1bf74b63f6efcab46c1f216790cb9353f43c52f", "author": {"user": {"login": "ivan-lednev", "name": "Ivan Lednev"}}, "url": "https://github.com/vividus-framework/vividus/commit/c1bf74b63f6efcab46c1f216790cb9353f43c52f", "committedDate": "2020-03-24T14:47:35Z", "message": "[plugin-web-app] Tidy up javadoc"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c1bf74b63f6efcab46c1f216790cb9353f43c52f", "author": {"user": {"login": "ivan-lednev", "name": "Ivan Lednev"}}, "url": "https://github.com/vividus-framework/vividus/commit/c1bf74b63f6efcab46c1f216790cb9353f43c52f", "committedDate": "2020-03-24T14:47:35Z", "message": "[plugin-web-app] Tidy up javadoc"}, "afterCommit": {"oid": "61ad56313284975ad75e4d225fa98304a4b44198", "author": {"user": null}, "url": "https://github.com/vividus-framework/vividus/commit/61ad56313284975ad75e4d225fa98304a4b44198", "committedDate": "2020-03-30T09:36:15Z", "message": "[plugin-web-app] Move upload by attribute step to composites"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "61ad56313284975ad75e4d225fa98304a4b44198", "author": {"user": null}, "url": "https://github.com/vividus-framework/vividus/commit/61ad56313284975ad75e4d225fa98304a4b44198", "committedDate": "2020-03-30T09:36:15Z", "message": "[plugin-web-app] Move upload by attribute step to composites"}, "afterCommit": {"oid": "eee26d1bc203b6011d300375a2d2a612f6101c37", "author": {"user": {"login": "ivan-lednev", "name": "Ivan Lednev"}}, "url": "https://github.com/vividus-framework/vividus/commit/eee26d1bc203b6011d300375a2d2a612f6101c37", "committedDate": "2020-03-30T09:38:00Z", "message": "[plugin-web-app] Add step for uploading by locator"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "eee26d1bc203b6011d300375a2d2a612f6101c37", "author": {"user": {"login": "ivan-lednev", "name": "Ivan Lednev"}}, "url": "https://github.com/vividus-framework/vividus/commit/eee26d1bc203b6011d300375a2d2a612f6101c37", "committedDate": "2020-03-30T09:38:00Z", "message": "[plugin-web-app] Add step for uploading by locator"}, "afterCommit": {"oid": "31c67e2bf6bc0c97bc85ab177dbf08414f7583d0", "author": {"user": {"login": "ivan-lednev", "name": "Ivan Lednev"}}, "url": "https://github.com/vividus-framework/vividus/commit/31c67e2bf6bc0c97bc85ab177dbf08414f7583d0", "committedDate": "2020-03-30T10:16:02Z", "message": "[plugin-web-app] Add step for uploading by locator"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "31c67e2bf6bc0c97bc85ab177dbf08414f7583d0", "author": {"user": {"login": "ivan-lednev", "name": "Ivan Lednev"}}, "url": "https://github.com/vividus-framework/vividus/commit/31c67e2bf6bc0c97bc85ab177dbf08414f7583d0", "committedDate": "2020-03-30T10:16:02Z", "message": "[plugin-web-app] Add step for uploading by locator"}, "afterCommit": {"oid": "8afe9efcdc9a754caac7a26688793f631c6f92e4", "author": {"user": {"login": "ivan-lednev", "name": "Ivan Lednev"}}, "url": "https://github.com/vividus-framework/vividus/commit/8afe9efcdc9a754caac7a26688793f631c6f92e4", "committedDate": "2020-03-30T11:58:02Z", "message": "[plugin-web-app] Add step for uploading by locator"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgzODUwMTAx", "url": "https://github.com/vividus-framework/vividus/pull/425#pullrequestreview-383850101", "createdAt": "2020-03-30T13:25:57Z", "commit": {"oid": "8afe9efcdc9a754caac7a26688793f631c6f92e4"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMFQxMzoyNTo1N1rOF9pkHw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMFQxMzoyNTo1N1rOF9pkHw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDE4ODQ0Nw==", "bodyText": "@When(\"I select element located `$locator` and upload file `$filePath`\")", "url": "https://github.com/vividus-framework/vividus/pull/425#discussion_r400188447", "createdAt": "2020-03-30T13:25:57Z", "author": {"login": "valfirst"}, "path": "vividus-plugin-web-app/src/main/java/org/vividus/bdd/steps/ui/web/ElementSteps.java", "diffHunk": "@@ -68,21 +68,19 @@\n     private ResourceLoader resourceLoader;\n \n     /**\n-     * This steps is uploading the file with the given relative path\n-     * <p>A <b>relative path</b> - starts from some given working directory,\n+     * This step uploads a file with the given relative path\n+     * <p>A <b>relative path</b> starts from some given working directory,\n      * avoiding the need to provide the full absolute path\n      * (i.e. <i>'about.jpeg'</i> is in the root directory\n      * or <i>'/story/uploadfiles/about.png'</i>)</p>\n-     * @param attributeType A type of the element's attribute\n-     * @param attributeValue A value of the element's attribute\n-\n+     * @param locator The locator for the upload element\n      * @param filePath relative path to the file to be uploaded\n      * @see <a href=\"https://en.wikipedia.org/wiki/Path_(computing)#Absolute_and_relative_paths\"> <i>Absolute and\n      * relative paths</i></a>\n      * @throws IOException If an input or output exception occurred\n      */\n-    @When(\"I select an element with the '$attributeType'='$attributeValue' and upload the file '$filePath'\")\n-    public void uploadFile(String attributeType, String attributeValue, String filePath) throws IOException\n+    @When(\"I select an element '$locator' and upload the file '$filePath'\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8afe9efcdc9a754caac7a26688793f631c6f92e4"}, "originalPosition": 22}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8afe9efcdc9a754caac7a26688793f631c6f92e4", "author": {"user": {"login": "ivan-lednev", "name": "Ivan Lednev"}}, "url": "https://github.com/vividus-framework/vividus/commit/8afe9efcdc9a754caac7a26688793f631c6f92e4", "committedDate": "2020-03-30T11:58:02Z", "message": "[plugin-web-app] Add step for uploading by locator"}, "afterCommit": {"oid": "1fc66d264b6ce0ed72badf6af87430fe2a9b6027", "author": {"user": {"login": "ivan-lednev", "name": "Ivan Lednev"}}, "url": "https://github.com/vividus-framework/vividus/commit/1fc66d264b6ce0ed72badf6af87430fe2a9b6027", "committedDate": "2020-03-31T08:03:38Z", "message": "[plugin-web-app] Add step for uploading by locator"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg0NTM5ODQx", "url": "https://github.com/vividus-framework/vividus/pull/425#pullrequestreview-384539841", "createdAt": "2020-03-31T09:07:24Z", "commit": {"oid": "1fc66d264b6ce0ed72badf6af87430fe2a9b6027"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7441cc0dccb6c164146582aaff510ea8a3d15612", "author": {"user": {"login": "ivan-lednev", "name": "Ivan Lednev"}}, "url": "https://github.com/vividus-framework/vividus/commit/7441cc0dccb6c164146582aaff510ea8a3d15612", "committedDate": "2020-03-31T09:42:57Z", "message": "[plugin-web-app] Add step for uploading by locator"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1fc66d264b6ce0ed72badf6af87430fe2a9b6027", "author": {"user": {"login": "ivan-lednev", "name": "Ivan Lednev"}}, "url": "https://github.com/vividus-framework/vividus/commit/1fc66d264b6ce0ed72badf6af87430fe2a9b6027", "committedDate": "2020-03-31T08:03:38Z", "message": "[plugin-web-app] Add step for uploading by locator"}, "afterCommit": {"oid": "7441cc0dccb6c164146582aaff510ea8a3d15612", "author": {"user": {"login": "ivan-lednev", "name": "Ivan Lednev"}}, "url": "https://github.com/vividus-framework/vividus/commit/7441cc0dccb6c164146582aaff510ea8a3d15612", "committedDate": "2020-03-31T09:42:57Z", "message": "[plugin-web-app] Add step for uploading by locator"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg0NjE2NTc4", "url": "https://github.com/vividus-framework/vividus/pull/425#pullrequestreview-384616578", "createdAt": "2020-03-31T10:52:03Z", "commit": {"oid": "7441cc0dccb6c164146582aaff510ea8a3d15612"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 256, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}