{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkyOTY2ODE1", "number": 425, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNFQxMzowNDo0M1rODqyBbg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMFQxMzoyNTo1N1rODsq8EA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ2MTg2MzUwOnYy", "diffSide": "RIGHT", "path": "vividus-plugin-web-app/src/main/java/org/vividus/bdd/steps/ui/web/ElementSteps.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNFQxMzowNDo0M1rOF6vOWg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNFQxMzowNDo0M1rOF6vOWg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzEzNTQ1MA==", "bodyText": "does it make sense to refactor the existing one into composite?", "url": "https://github.com/vividus-framework/vividus/pull/425#discussion_r397135450", "createdAt": "2020-03-24T13:04:43Z", "author": {"login": "ikalinin1"}, "path": "vividus-plugin-web-app/src/main/java/org/vividus/bdd/steps/ui/web/ElementSteps.java", "diffHunk": "@@ -68,21 +68,39 @@\n     private ResourceLoader resourceLoader;\n \n     /**\n-     * This steps is uploading the file with the given relative path\n-     * <p>A <b>relative path</b> - starts from some given working directory,\n+     * This step uploads a file with the given relative path\n+     * <p>A <b>relative path</b> starts from some given working directory,\n      * avoiding the need to provide the full absolute path\n      * (i.e. <i>'about.jpeg'</i> is in the root directory\n      * or <i>'/story/uploadfiles/about.png'</i>)</p>\n-     * @param attributeType A type of the element's attribute\n-     * @param attributeValue A value of the element's attribute\n-\n+     * @param attributeType The type of the element's attribute\n+     * @param attributeValue The value of the element's attribute\n      * @param filePath relative path to the file to be uploaded\n      * @see <a href=\"https://en.wikipedia.org/wiki/Path_(computing)#Absolute_and_relative_paths\"> <i>Absolute and\n      * relative paths</i></a>\n      * @throws IOException If an input or output exception occurred\n      */\n     @When(\"I select an element with the '$attributeType'='$attributeValue' and upload the file '$filePath'\")\n     public void uploadFile(String attributeType, String attributeValue, String filePath) throws IOException\n+    {\n+        uploadFile(new SearchAttributes(ActionAttributeType.XPATH,\n+                LocatorUtil.getXPathByAttribute(attributeType, attributeValue)), filePath);\n+    }\n+\n+    /**\n+     * This step uploads a file with the given relative path\n+     * <p>A <b>relative path</b> starts from some given working directory,\n+     * avoiding the need to provide the full absolute path\n+     * (i.e. <i>'about.jpeg'</i> is in the root directory\n+     * or <i>'/story/uploadfiles/about.png'</i>)</p>\n+     * @param locator The locator for the upload element\n+     * @param filePath relative path to the file to be uploaded\n+     * @see <a href=\"https://en.wikipedia.org/wiki/Path_(computing)#Absolute_and_relative_paths\"> <i>Absolute and\n+     * relative paths</i></a>\n+     * @throws IOException If an input or output exception occurred\n+     */\n+    @When(\"I select an element '$locator' and upload the file '$filePath'\")\n+    public void uploadFile(SearchAttributes locator, String filePath) throws IOException", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9b5da35534d8d9334b14ae24571667bf44345696"}, "originalPosition": 41}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ2MTg2NTcxOnYy", "diffSide": "RIGHT", "path": "vividus-plugin-web-app/src/main/java/org/vividus/bdd/steps/ui/web/ElementSteps.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNFQxMzowNToyM1rOF6vP-w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNFQxMzowNToyM1rOF6vP-w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzEzNTg2Nw==", "bodyText": "Add integration tests?", "url": "https://github.com/vividus-framework/vividus/pull/425#discussion_r397135867", "createdAt": "2020-03-24T13:05:23Z", "author": {"login": "ikalinin1"}, "path": "vividus-plugin-web-app/src/main/java/org/vividus/bdd/steps/ui/web/ElementSteps.java", "diffHunk": "@@ -68,21 +68,39 @@\n     private ResourceLoader resourceLoader;\n \n     /**\n-     * This steps is uploading the file with the given relative path\n-     * <p>A <b>relative path</b> - starts from some given working directory,\n+     * This step uploads a file with the given relative path\n+     * <p>A <b>relative path</b> starts from some given working directory,\n      * avoiding the need to provide the full absolute path\n      * (i.e. <i>'about.jpeg'</i> is in the root directory\n      * or <i>'/story/uploadfiles/about.png'</i>)</p>\n-     * @param attributeType A type of the element's attribute\n-     * @param attributeValue A value of the element's attribute\n-\n+     * @param attributeType The type of the element's attribute\n+     * @param attributeValue The value of the element's attribute\n      * @param filePath relative path to the file to be uploaded\n      * @see <a href=\"https://en.wikipedia.org/wiki/Path_(computing)#Absolute_and_relative_paths\"> <i>Absolute and\n      * relative paths</i></a>\n      * @throws IOException If an input or output exception occurred\n      */\n     @When(\"I select an element with the '$attributeType'='$attributeValue' and upload the file '$filePath'\")\n     public void uploadFile(String attributeType, String attributeValue, String filePath) throws IOException\n+    {\n+        uploadFile(new SearchAttributes(ActionAttributeType.XPATH,\n+                LocatorUtil.getXPathByAttribute(attributeType, attributeValue)), filePath);\n+    }\n+\n+    /**\n+     * This step uploads a file with the given relative path\n+     * <p>A <b>relative path</b> starts from some given working directory,\n+     * avoiding the need to provide the full absolute path\n+     * (i.e. <i>'about.jpeg'</i> is in the root directory\n+     * or <i>'/story/uploadfiles/about.png'</i>)</p>\n+     * @param locator The locator for the upload element\n+     * @param filePath relative path to the file to be uploaded\n+     * @see <a href=\"https://en.wikipedia.org/wiki/Path_(computing)#Absolute_and_relative_paths\"> <i>Absolute and\n+     * relative paths</i></a>\n+     * @throws IOException If an input or output exception occurred\n+     */\n+    @When(\"I select an element '$locator' and upload the file '$filePath'\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9b5da35534d8d9334b14ae24571667bf44345696"}, "originalPosition": 40}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ4MTY3NDQwOnYy", "diffSide": "RIGHT", "path": "vividus-plugin-web-app/src/main/java/org/vividus/bdd/steps/ui/web/ElementSteps.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMFQxMzoyNTo1N1rOF9pkHw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMFQxMzoyNTo1N1rOF9pkHw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDE4ODQ0Nw==", "bodyText": "@When(\"I select element located `$locator` and upload file `$filePath`\")", "url": "https://github.com/vividus-framework/vividus/pull/425#discussion_r400188447", "createdAt": "2020-03-30T13:25:57Z", "author": {"login": "valfirst"}, "path": "vividus-plugin-web-app/src/main/java/org/vividus/bdd/steps/ui/web/ElementSteps.java", "diffHunk": "@@ -68,21 +68,19 @@\n     private ResourceLoader resourceLoader;\n \n     /**\n-     * This steps is uploading the file with the given relative path\n-     * <p>A <b>relative path</b> - starts from some given working directory,\n+     * This step uploads a file with the given relative path\n+     * <p>A <b>relative path</b> starts from some given working directory,\n      * avoiding the need to provide the full absolute path\n      * (i.e. <i>'about.jpeg'</i> is in the root directory\n      * or <i>'/story/uploadfiles/about.png'</i>)</p>\n-     * @param attributeType A type of the element's attribute\n-     * @param attributeValue A value of the element's attribute\n-\n+     * @param locator The locator for the upload element\n      * @param filePath relative path to the file to be uploaded\n      * @see <a href=\"https://en.wikipedia.org/wiki/Path_(computing)#Absolute_and_relative_paths\"> <i>Absolute and\n      * relative paths</i></a>\n      * @throws IOException If an input or output exception occurred\n      */\n-    @When(\"I select an element with the '$attributeType'='$attributeValue' and upload the file '$filePath'\")\n-    public void uploadFile(String attributeType, String attributeValue, String filePath) throws IOException\n+    @When(\"I select an element '$locator' and upload the file '$filePath'\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8afe9efcdc9a754caac7a26688793f631c6f92e4"}, "originalPosition": 22}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 375, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}