{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDYyMTI5Mjg2", "number": 796, "title": "[vividus-plugin-db] hash method is independent of key set order", "bodyText": "Fixes #769", "createdAt": "2020-08-03T11:46:18Z", "url": "https://github.com/vividus-framework/vividus/pull/796", "merged": true, "mergeCommit": {"oid": "6db7ac2939f49460f967bbb6d600a68dbec5e363"}, "closed": true, "closedAt": "2020-08-18T12:59:31Z", "author": {"login": "VitaliLebedzeu"}, "timelineItems": {"totalCount": 16, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc7TjkwAFqTQ2MDExMDg4MA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdAGl26gFqTQ2OTQyODQ0Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYwMTEwODgw", "url": "https://github.com/vividus-framework/vividus/pull/796#pullrequestreview-460110880", "createdAt": "2020-08-03T15:13:26Z", "commit": {"oid": "78607ad93ed7a0af6a2f41093aa4f29596aa0047"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QxNToxMzoyNlrOG69iFA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QxNToxMzo0M1rOG69ivw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDQ3ODc0MA==", "bodyText": "what is root cause of the issue?", "url": "https://github.com/vividus-framework/vividus/pull/796#discussion_r464478740", "createdAt": "2020-08-03T15:13:26Z", "author": {"login": "valfirst"}, "path": "vividus-plugin-db/src/main/java/org/vividus/bdd/steps/db/DatabaseSteps.java", "diffHunk": "@@ -418,6 +418,7 @@ private HashCode hash(Set<String> keys, Map<String, Object> map)\n                            .stream()\n                            .map(map::get)\n                            .filter(Objects::nonNull)\n+                           .sorted()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "78607ad93ed7a0af6a2f41093aa4f29596aa0047"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDQ3ODkxMQ==", "bodyText": "please fix checkstyle violations", "url": "https://github.com/vividus-framework/vividus/pull/796#discussion_r464478911", "createdAt": "2020-08-03T15:13:43Z", "author": {"login": "valfirst"}, "path": "vividus-plugin-db/src/test/java/org/vividus/bdd/steps/db/DatabaseStepsTests.java", "diffHunk": "@@ -373,13 +373,21 @@ void shouldThrowTimeoutExceptionIfQueryTakesTooMuchTime()\n         verifyNoInteractions(attachmentPublisher, softAssert);\n     }\n \n-    @Test\n-    void shouldCompareDataVsExamplesTableAndNotPostReportIfDataEqual()\n+    static Stream<Arguments> equalDataProvider() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "78607ad93ed7a0af6a2f41093aa4f29596aa0047"}, "originalPosition": 6}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "78607ad93ed7a0af6a2f41093aa4f29596aa0047", "author": {"user": {"login": "VitaliLebedzeu", "name": "Vitali Lebedzeu"}}, "url": "https://github.com/vividus-framework/vividus/commit/78607ad93ed7a0af6a2f41093aa4f29596aa0047", "committedDate": "2020-08-03T11:45:14Z", "message": "[vividus-plugin-db] hash method is independent of key set order"}, "afterCommit": {"oid": "c3c935f7d3db42fc99c772bf2ce48bcc0b97fee8", "author": {"user": {"login": "VitaliLebedzeu", "name": "Vitali Lebedzeu"}}, "url": "https://github.com/vividus-framework/vividus/commit/c3c935f7d3db42fc99c772bf2ce48bcc0b97fee8", "committedDate": "2020-08-04T07:50:48Z", "message": "[vividus-plugin-db] hash method is independent of key set order"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYwNTc4MTM3", "url": "https://github.com/vividus-framework/vividus/pull/796#pullrequestreview-460578137", "createdAt": "2020-08-04T07:53:37Z", "commit": {"oid": "c3c935f7d3db42fc99c772bf2ce48bcc0b97fee8"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYwNTc5MDU4", "url": "https://github.com/vividus-framework/vividus/pull/796#pullrequestreview-460579058", "createdAt": "2020-08-04T07:54:55Z", "commit": {"oid": "c3c935f7d3db42fc99c772bf2ce48bcc0b97fee8"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQwNzo1NDo1NVrOG7VSDQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQwNzo1NDo1NVrOG7VSDQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDg2Nzg1Mw==", "bodyText": "Could you please clarify what's unordered? Columns within a row and rows within a result set?", "url": "https://github.com/vividus-framework/vividus/pull/796#discussion_r464867853", "createdAt": "2020-08-04T07:54:55Z", "author": {"login": "ikalinin1"}, "path": "vividus-plugin-db/src/main/java/org/vividus/bdd/steps/db/DatabaseSteps.java", "diffHunk": "@@ -249,7 +249,8 @@ public void compareData(String sourceSqlQuery, String sourceDbKey, String target\n     }\n \n     /**\n-     * Step waits until data received from SQL request is equal to data from examples table for some duration.\n+     * Step waits until data received from SQL request is equal to data from examples table in any order", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c3c935f7d3db42fc99c772bf2ce48bcc0b97fee8"}, "originalPosition": 5}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c3c935f7d3db42fc99c772bf2ce48bcc0b97fee8", "author": {"user": {"login": "VitaliLebedzeu", "name": "Vitali Lebedzeu"}}, "url": "https://github.com/vividus-framework/vividus/commit/c3c935f7d3db42fc99c772bf2ce48bcc0b97fee8", "committedDate": "2020-08-04T07:50:48Z", "message": "[vividus-plugin-db] hash method is independent of key set order"}, "afterCommit": {"oid": "c67025b2e957172a56668948a9a047e52cd26b1f", "author": {"user": {"login": "VitaliLebedzeu", "name": "Vitali Lebedzeu"}}, "url": "https://github.com/vividus-framework/vividus/commit/c67025b2e957172a56668948a9a047e52cd26b1f", "committedDate": "2020-08-04T09:13:33Z", "message": "[vividus-plugin-db] hash method is independent of key set order"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYxNDU3MTM5", "url": "https://github.com/vividus-framework/vividus/pull/796#pullrequestreview-461457139", "createdAt": "2020-08-05T08:38:43Z", "commit": {"oid": "c67025b2e957172a56668948a9a047e52cd26b1f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNVQwODozODo0M1rOG7_9ng==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNVQwODozODo0M1rOG7_9ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTU2NzEzNA==", "bodyText": "When is missing?", "url": "https://github.com/vividus-framework/vividus/pull/796#discussion_r465567134", "createdAt": "2020-08-05T08:38:43Z", "author": {"login": "ikalinin1"}, "path": "vividus-tests/src/main/resources/story/system/DatabaseStepsTests.story", "diffHunk": "@@ -24,3 +24,13 @@ Then `${result}` matching rows using `id` from `vividus` is equal to data from:\n |1 |Valery                   |\n |2 |Vlad                     |\n |3 |Ivan                     |\n+\n+Scenario: Verify step: 'I wait for '$duration' duration retrying $retryTimes times while data from `$sqlQuery` executed against `$dbKey` is equal to data from:$table\"'", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c67025b2e957172a56668948a9a047e52cd26b1f"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYxNDU3MjMz", "url": "https://github.com/vividus-framework/vividus/pull/796#pullrequestreview-461457233", "createdAt": "2020-08-05T08:38:51Z", "commit": {"oid": "c67025b2e957172a56668948a9a047e52cd26b1f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c67025b2e957172a56668948a9a047e52cd26b1f", "author": {"user": {"login": "VitaliLebedzeu", "name": "Vitali Lebedzeu"}}, "url": "https://github.com/vividus-framework/vividus/commit/c67025b2e957172a56668948a9a047e52cd26b1f", "committedDate": "2020-08-04T09:13:33Z", "message": "[vividus-plugin-db] hash method is independent of key set order"}, "afterCommit": {"oid": "0b9110cbae17d09430151b0235082121627164f6", "author": {"user": {"login": "VitaliLebedzeu", "name": "Vitali Lebedzeu"}}, "url": "https://github.com/vividus-framework/vividus/commit/0b9110cbae17d09430151b0235082121627164f6", "committedDate": "2020-08-05T08:54:53Z", "message": "[vividus-plugin-db] hash method is independent of key set order"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYxMDc2ODgw", "url": "https://github.com/vividus-framework/vividus/pull/796#pullrequestreview-461076880", "createdAt": "2020-08-04T18:47:13Z", "commit": {"oid": "c67025b2e957172a56668948a9a047e52cd26b1f"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQxODo0NzoxM1rOG7tB0w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQxODo0NzoxM1rOG7tB0w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTI1NjkxNQ==", "bodyText": "I think it should be rephrased to make it clear", "url": "https://github.com/vividus-framework/vividus/pull/796#discussion_r465256915", "createdAt": "2020-08-04T18:47:13Z", "author": {"login": "valfirst"}, "path": "vividus-plugin-db/src/main/java/org/vividus/bdd/steps/db/DatabaseSteps.java", "diffHunk": "@@ -249,7 +249,8 @@ public void compareData(String sourceSqlQuery, String sourceDbKey, String target\n     }\n \n     /**\n-     * Step waits until data received from SQL request is equal to data from examples table for some duration.\n+     * Step waits until data received from SQL request is equal to data from examples table with any order columns\n+     * within a row for some duration (each received data element CONTAINS in examples table).", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c67025b2e957172a56668948a9a047e52cd26b1f"}, "originalPosition": 6}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0b9110cbae17d09430151b0235082121627164f6", "author": {"user": {"login": "VitaliLebedzeu", "name": "Vitali Lebedzeu"}}, "url": "https://github.com/vividus-framework/vividus/commit/0b9110cbae17d09430151b0235082121627164f6", "committedDate": "2020-08-05T08:54:53Z", "message": "[vividus-plugin-db] hash method is independent of key set order"}, "afterCommit": {"oid": "31a89ceb3f7513e1cc4cf89984de28f33c56d0af", "author": {"user": {"login": "VitaliLebedzeu", "name": "Vitali Lebedzeu"}}, "url": "https://github.com/vividus-framework/vividus/commit/31a89ceb3f7513e1cc4cf89984de28f33c56d0af", "committedDate": "2020-08-18T09:43:48Z", "message": "[vividus-plugin-db] hash method is independent of key set order"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY5MTc1ODY1", "url": "https://github.com/vividus-framework/vividus/pull/796#pullrequestreview-469175865", "createdAt": "2020-08-18T10:00:56Z", "commit": {"oid": "31a89ceb3f7513e1cc4cf89984de28f33c56d0af"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "31a89ceb3f7513e1cc4cf89984de28f33c56d0af", "author": {"user": {"login": "VitaliLebedzeu", "name": "Vitali Lebedzeu"}}, "url": "https://github.com/vividus-framework/vividus/commit/31a89ceb3f7513e1cc4cf89984de28f33c56d0af", "committedDate": "2020-08-18T09:43:48Z", "message": "[vividus-plugin-db] hash method is independent of key set order"}, "afterCommit": {"oid": "2c9fadd5a0e6de030e1e59e882b0418abef8dea5", "author": {"user": {"login": "VitaliLebedzeu", "name": "Vitali Lebedzeu"}}, "url": "https://github.com/vividus-framework/vividus/commit/2c9fadd5a0e6de030e1e59e882b0418abef8dea5", "committedDate": "2020-08-18T10:13:41Z", "message": "[vividus-plugin-db] hash method is independent of key set order"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY5MzU5MDU2", "url": "https://github.com/vividus-framework/vividus/pull/796#pullrequestreview-469359056", "createdAt": "2020-08-18T12:10:41Z", "commit": {"oid": "2c9fadd5a0e6de030e1e59e882b0418abef8dea5"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7ac2c3123c3d7f76afaff31a6a6eccbd64657b64", "author": {"user": {"login": "VitaliLebedzeu", "name": "Vitali Lebedzeu"}}, "url": "https://github.com/vividus-framework/vividus/commit/7ac2c3123c3d7f76afaff31a6a6eccbd64657b64", "committedDate": "2020-08-18T12:26:11Z", "message": "[vividus-plugin-db] hash method is independent of key set order"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2c9fadd5a0e6de030e1e59e882b0418abef8dea5", "author": {"user": {"login": "VitaliLebedzeu", "name": "Vitali Lebedzeu"}}, "url": "https://github.com/vividus-framework/vividus/commit/2c9fadd5a0e6de030e1e59e882b0418abef8dea5", "committedDate": "2020-08-18T10:13:41Z", "message": "[vividus-plugin-db] hash method is independent of key set order"}, "afterCommit": {"oid": "7ac2c3123c3d7f76afaff31a6a6eccbd64657b64", "author": {"user": {"login": "VitaliLebedzeu", "name": "Vitali Lebedzeu"}}, "url": "https://github.com/vividus-framework/vividus/commit/7ac2c3123c3d7f76afaff31a6a6eccbd64657b64", "committedDate": "2020-08-18T12:26:11Z", "message": "[vividus-plugin-db] hash method is independent of key set order"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY5NDI4NDQ3", "url": "https://github.com/vividus-framework/vividus/pull/796#pullrequestreview-469428447", "createdAt": "2020-08-18T12:58:01Z", "commit": {"oid": "7ac2c3123c3d7f76afaff31a6a6eccbd64657b64"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 161, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}