{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE3NjcwMjg5", "number": 1111, "title": "[plugin-mobile-app] Add configuration of appium session settings", "bodyText": "", "createdAt": "2020-11-09T10:49:47Z", "url": "https://github.com/vividus-framework/vividus/pull/1111", "merged": true, "mergeCommit": {"oid": "ec3abb8e9742c15c1ed499128cc5a85c86a50a94"}, "closed": true, "closedAt": "2020-11-09T14:12:01Z", "author": {"login": "uarlouski"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdayoLIABqjM5NzMxNDA4NTI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABda0z6fAFqTUyNjI1ODA0Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "50bc87ec29b4befd5183b39801c6b478b82ef0e8", "author": {"user": {"login": "uarlouski", "name": "Uladzislau Arlouski"}}, "url": "https://github.com/vividus-framework/vividus/commit/50bc87ec29b4befd5183b39801c6b478b82ef0e8", "committedDate": "2020-11-09T10:48:29Z", "message": "[plugin-mobile-app] Add configuration of appium session settings"}, "afterCommit": {"oid": "a6b37a2576538b16fae1d253cc09defdcad66f2e", "author": {"user": {"login": "uarlouski", "name": "Uladzislau Arlouski"}}, "url": "https://github.com/vividus-framework/vividus/commit/a6b37a2576538b16fae1d253cc09defdcad66f2e", "committedDate": "2020-11-09T10:58:03Z", "message": "[plugin-mobile-app] Add configuration of appium session settings"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI2MTM4MDkx", "url": "https://github.com/vividus-framework/vividus/pull/1111#pullrequestreview-526138091", "createdAt": "2020-11-09T10:57:21Z", "commit": {"oid": "50bc87ec29b4befd5183b39801c6b478b82ef0e8"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wOVQxMDo1NzoyMVrOHvpPZg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wOVQxMTowMDo0MlrOHvpW8g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTcyMDgwNg==", "bodyText": "NamedEntry ?", "url": "https://github.com/vividus-framework/vividus/pull/1111#discussion_r519720806", "createdAt": "2020-11-09T10:57:21Z", "author": {"login": "valfirst"}, "path": "vividus-plugin-mobile-app/src/main/java/org/vividus/bdd/mobileapp/model/Entry.java", "diffHunk": "@@ -19,7 +19,7 @@\n import org.jbehave.core.annotations.AsParameters;\n \n @AsParameters\n-public class DesiredCapability\n+public class Entry", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "50bc87ec29b4befd5183b39801c6b478b82ef0e8"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTcyMjM5MA==", "bodyText": "there is no much sense to create a new class, I believe a new step can be put to ApplicationSteps", "url": "https://github.com/vividus-framework/vividus/pull/1111#discussion_r519722390", "createdAt": "2020-11-09T11:00:06Z", "author": {"login": "valfirst"}, "path": "vividus-plugin-mobile-app/src/main/java/org/vividus/bdd/mobileapp/steps/SessionSteps.java", "diffHunk": "@@ -0,0 +1,64 @@\n+/*\n+ * Copyright 2019-2020 the original author or authors.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     https://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.vividus.bdd.mobileapp.steps;\n+\n+import static io.appium.java_client.CommandExecutionHelper.execute;\n+import static io.appium.java_client.MobileCommand.prepareArguments;\n+import static org.vividus.selenium.type.CapabilitiesValueTypeAdjuster.adjustType;\n+\n+import java.util.AbstractMap;\n+import java.util.List;\n+\n+import org.apache.commons.lang3.math.NumberUtils;\n+import org.jbehave.core.annotations.When;\n+import org.vividus.bdd.mobileapp.model.Entry;\n+import org.vividus.selenium.IWebDriverProvider;\n+\n+import io.appium.java_client.ExecutesMethod;\n+\n+public class SessionSteps", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a6b37a2576538b16fae1d253cc09defdcad66f2e"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTcyMjczOA==", "bodyText": "java.util.Map#entry", "url": "https://github.com/vividus-framework/vividus/pull/1111#discussion_r519722738", "createdAt": "2020-11-09T11:00:42Z", "author": {"login": "valfirst"}, "path": "vividus-plugin-mobile-app/src/main/java/org/vividus/bdd/mobileapp/steps/SessionSteps.java", "diffHunk": "@@ -0,0 +1,64 @@\n+/*\n+ * Copyright 2019-2020 the original author or authors.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     https://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.vividus.bdd.mobileapp.steps;\n+\n+import static io.appium.java_client.CommandExecutionHelper.execute;\n+import static io.appium.java_client.MobileCommand.prepareArguments;\n+import static org.vividus.selenium.type.CapabilitiesValueTypeAdjuster.adjustType;\n+\n+import java.util.AbstractMap;\n+import java.util.List;\n+\n+import org.apache.commons.lang3.math.NumberUtils;\n+import org.jbehave.core.annotations.When;\n+import org.vividus.bdd.mobileapp.model.Entry;\n+import org.vividus.selenium.IWebDriverProvider;\n+\n+import io.appium.java_client.ExecutesMethod;\n+\n+public class SessionSteps\n+{\n+    private final IWebDriverProvider webDriverProvider;\n+\n+    public SessionSteps(IWebDriverProvider webDriverProvider)\n+    {\n+        this.webDriverProvider = webDriverProvider;\n+    }\n+\n+    /**\n+     * Change the behavior of the Appium session\n+     * @param settings Appium session settings\n+     * <br><a href=\"https://appium.io/docs/en/advanced-concepts/settings/#settings\">Settings</a> example:\n+     * <code>\n+     * <br>|name                  |value|\n+     * <br>|ignoreUnimportantViews|true |\n+     * <br>|snapshotMaxDepth      |100  |\n+     * </code>\n+     */\n+    @When(\"I change Appium session settings:$settings\")\n+    public void changeAppiumSettings(List<Entry> settings)\n+    {\n+        ExecutesMethod executesMethod = webDriverProvider.getUnwrapped(ExecutesMethod.class);\n+        settings.forEach(setting ->\n+        {\n+            String settingValue = setting.getValue();\n+            Object value = NumberUtils.isDigits(settingValue) ? Long.valueOf(settingValue) : adjustType(settingValue);\n+            execute(executesMethod, new AbstractMap.SimpleEntry<>(\"setSettings\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a6b37a2576538b16fae1d253cc09defdcad66f2e"}, "originalPosition": 60}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI2MTg2NTg1", "url": "https://github.com/vividus-framework/vividus/pull/1111#pullrequestreview-526186585", "createdAt": "2020-11-09T12:05:27Z", "commit": {"oid": "a6b37a2576538b16fae1d253cc09defdcad66f2e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wOVQxMjowNToyOFrOHvrjXw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wOVQxMjowNToyOFrOHvrjXw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTc1ODY4Nw==", "bodyText": "https?", "url": "https://github.com/vividus-framework/vividus/pull/1111#discussion_r519758687", "createdAt": "2020-11-09T12:05:28Z", "author": {"login": "ikalinin1"}, "path": "docs/modules/plugins/pages/plugin-mobile-app.adoc", "diffHunk": "@@ -445,3 +445,34 @@ When I activate application with bundle identifier `com.apple.mobilesafari`\n ----\n \n include::partial$generic-ui-steps.adoc[]\n+\n+\n+=== Change session settings\n+\n+==== *_Info_*\n+\n+Changes the behavior of the Appium session\n+\n+==== *_Wording_*\n+\n+[source,gherkin]\n+----\n+When I change Appium session settings:$settings\n+----\n+\n+==== *_Parameters_*\n+\n+. `$settings` - http://appium.io/docs/en/advanced-concepts/settings/#settings[Settings]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a6b37a2576538b16fae1d253cc09defdcad66f2e"}, "originalPosition": 21}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI2MTkwNTUw", "url": "https://github.com/vividus-framework/vividus/pull/1111#pullrequestreview-526190550", "createdAt": "2020-11-09T12:11:19Z", "commit": {"oid": "a6b37a2576538b16fae1d253cc09defdcad66f2e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wOVQxMjoxMToyMFrOHvrvRQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wOVQxMjoxMToyMFrOHvrvRQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTc2MTczMw==", "bodyText": "is there a possibility for a bulk settings update?", "url": "https://github.com/vividus-framework/vividus/pull/1111#discussion_r519761733", "createdAt": "2020-11-09T12:11:20Z", "author": {"login": "ikalinin1"}, "path": "vividus-plugin-mobile-app/src/main/java/org/vividus/bdd/mobileapp/steps/SessionSteps.java", "diffHunk": "@@ -0,0 +1,64 @@\n+/*\n+ * Copyright 2019-2020 the original author or authors.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     https://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.vividus.bdd.mobileapp.steps;\n+\n+import static io.appium.java_client.CommandExecutionHelper.execute;\n+import static io.appium.java_client.MobileCommand.prepareArguments;\n+import static org.vividus.selenium.type.CapabilitiesValueTypeAdjuster.adjustType;\n+\n+import java.util.AbstractMap;\n+import java.util.List;\n+\n+import org.apache.commons.lang3.math.NumberUtils;\n+import org.jbehave.core.annotations.When;\n+import org.vividus.bdd.mobileapp.model.Entry;\n+import org.vividus.selenium.IWebDriverProvider;\n+\n+import io.appium.java_client.ExecutesMethod;\n+\n+public class SessionSteps\n+{\n+    private final IWebDriverProvider webDriverProvider;\n+\n+    public SessionSteps(IWebDriverProvider webDriverProvider)\n+    {\n+        this.webDriverProvider = webDriverProvider;\n+    }\n+\n+    /**\n+     * Change the behavior of the Appium session\n+     * @param settings Appium session settings\n+     * <br><a href=\"https://appium.io/docs/en/advanced-concepts/settings/#settings\">Settings</a> example:\n+     * <code>\n+     * <br>|name                  |value|\n+     * <br>|ignoreUnimportantViews|true |\n+     * <br>|snapshotMaxDepth      |100  |\n+     * </code>\n+     */\n+    @When(\"I change Appium session settings:$settings\")\n+    public void changeAppiumSettings(List<Entry> settings)\n+    {\n+        ExecutesMethod executesMethod = webDriverProvider.getUnwrapped(ExecutesMethod.class);\n+        settings.forEach(setting ->", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a6b37a2576538b16fae1d253cc09defdcad66f2e"}, "originalPosition": 56}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a6b37a2576538b16fae1d253cc09defdcad66f2e", "author": {"user": {"login": "uarlouski", "name": "Uladzislau Arlouski"}}, "url": "https://github.com/vividus-framework/vividus/commit/a6b37a2576538b16fae1d253cc09defdcad66f2e", "committedDate": "2020-11-09T10:58:03Z", "message": "[plugin-mobile-app] Add configuration of appium session settings"}, "afterCommit": {"oid": "28e6e4b598e42772314b8b7c34e9516dcb56a0dd", "author": {"user": {"login": "uarlouski", "name": "Uladzislau Arlouski"}}, "url": "https://github.com/vividus-framework/vividus/commit/28e6e4b598e42772314b8b7c34e9516dcb56a0dd", "committedDate": "2020-11-09T12:21:37Z", "message": "[plugin-mobile-app] Add configuration of appium session settings"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI2MjAyMjMy", "url": "https://github.com/vividus-framework/vividus/pull/1111#pullrequestreview-526202232", "createdAt": "2020-11-09T12:28:37Z", "commit": {"oid": "28e6e4b598e42772314b8b7c34e9516dcb56a0dd"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI2MjA4NjQ4", "url": "https://github.com/vividus-framework/vividus/pull/1111#pullrequestreview-526208648", "createdAt": "2020-11-09T12:37:54Z", "commit": {"oid": "28e6e4b598e42772314b8b7c34e9516dcb56a0dd"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f8a3c8a6c1484a30502dc3570d1330ab7fe3325f", "author": {"user": {"login": "uarlouski", "name": "Uladzislau Arlouski"}}, "url": "https://github.com/vividus-framework/vividus/commit/f8a3c8a6c1484a30502dc3570d1330ab7fe3325f", "committedDate": "2020-11-09T13:11:39Z", "message": "[plugin-mobile-app] Add configuration of appium session settings"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "28e6e4b598e42772314b8b7c34e9516dcb56a0dd", "author": {"user": {"login": "uarlouski", "name": "Uladzislau Arlouski"}}, "url": "https://github.com/vividus-framework/vividus/commit/28e6e4b598e42772314b8b7c34e9516dcb56a0dd", "committedDate": "2020-11-09T12:21:37Z", "message": "[plugin-mobile-app] Add configuration of appium session settings"}, "afterCommit": {"oid": "f8a3c8a6c1484a30502dc3570d1330ab7fe3325f", "author": {"user": {"login": "uarlouski", "name": "Uladzislau Arlouski"}}, "url": "https://github.com/vividus-framework/vividus/commit/f8a3c8a6c1484a30502dc3570d1330ab7fe3325f", "committedDate": "2020-11-09T13:11:39Z", "message": "[plugin-mobile-app] Add configuration of appium session settings"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI2MjU4MDQ2", "url": "https://github.com/vividus-framework/vividus/pull/1111#pullrequestreview-526258046", "createdAt": "2020-11-09T13:31:02Z", "commit": {"oid": "f8a3c8a6c1484a30502dc3570d1330ab7fe3325f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4876, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}