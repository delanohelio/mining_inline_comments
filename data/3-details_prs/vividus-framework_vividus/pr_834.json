{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDcwMTE0ODM3", "number": 834, "title": "Verify elements in state existence", "bodyText": "Filter based approach looks unclear when one will try to achieve this. Also, reporting looks much explaining with a separate step.\nFilter:\n\nStep:", "createdAt": "2020-08-19T11:54:35Z", "url": "https://github.com/vividus-framework/vividus/pull/834", "merged": true, "mergeCommit": {"oid": "f87e4b955164d0c0be5b42aef03c0eb80c0daca1"}, "closed": true, "closedAt": "2020-08-23T14:06:06Z", "author": {"login": "ikalinin1"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdAaz9LgBqjM2NzA1NDc3NDk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdBuj0bgFqTQ3MzAxNDM0NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "199a23b20a70e90dfcd21b9d343cf6b30289ad15", "author": {"user": {"login": "ikalinin1", "name": "Ivan Kalinin"}}, "url": "https://github.com/vividus-framework/vividus/commit/199a23b20a70e90dfcd21b9d343cf6b30289ad15", "committedDate": "2020-08-19T11:54:09Z", "message": "[plugin-web-app] Add step to verify elements in state existence"}, "afterCommit": {"oid": "5ea5df685ef6c75d39397134d5b8c755eb6c3ae9", "author": {"user": {"login": "ikalinin1", "name": "Ivan Kalinin"}}, "url": "https://github.com/vividus-framework/vividus/commit/5ea5df685ef6c75d39397134d5b8c755eb6c3ae9", "committedDate": "2020-08-19T12:28:44Z", "message": "[plugin-web-app] Add step to verify elements in state existence"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcwNDQwNjg1", "url": "https://github.com/vividus-framework/vividus/pull/834#pullrequestreview-470440685", "createdAt": "2020-08-19T13:11:21Z", "commit": {"oid": "5ea5df685ef6c75d39397134d5b8c755eb6c3ae9"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcwNDQ4Mjky", "url": "https://github.com/vividus-framework/vividus/pull/834#pullrequestreview-470448292", "createdAt": "2020-08-19T13:19:17Z", "commit": {"oid": "5ea5df685ef6c75d39397134d5b8c755eb6c3ae9"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOVQxMzoxOToxN1rOHDHA1Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOVQxMzoxOToxN1rOHDHA1Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzAyMjY3Nw==", "bodyText": "Use case:\nThen number of visible elements found by `...` is equal to `3`\n\nThere are 4 elements by locator, and only 3 of them are visible, what will the step result be? I assume failure", "url": "https://github.com/vividus-framework/vividus/pull/834#discussion_r473022677", "createdAt": "2020-08-19T13:19:17Z", "author": {"login": "valfirst"}, "path": "vividus-plugin-web-app/src/main/java/org/vividus/bdd/steps/ui/web/ElementSteps.java", "diffHunk": "@@ -315,6 +317,25 @@ public void clickOnAllElements(SearchAttributes locator)\n                 .forEach(e -> mouseActions.click(e));\n     }\n \n+    /**\n+     * Verifies elements' located by locator state.\n+     * Where state one of: ENABLED/DISABLED, SELECTED/NOT_SELECTED, VISIBLE/NOT_VISIBLE\n+     * @param state Desired state of an element\n+     * @param locator Locator to locate element\n+     * @param comparisonRule The rule to compare values\n+     * (<i>Possible values:<b> LESS_THAN, LESS_THAN_OR_EQUAL_TO, GREATER_THAN, GREATER_THAN_OR_EQUAL_TO,\n+     * EQUAL_TO</b></i>)\n+     * @param quantity Desired amount of elements\n+     */\n+    @Then(\"number of $state elements found by `$locator` is $comparisonRule `$quantity`\")\n+    public void doesElementsNumberInStateExists(State state, SearchAttributes locator, ComparisonRule comparisonRule,\n+            int quantity)\n+    {\n+        String description = \"Element is \" + state;\n+        thePageContainsQuantityElements(locator, comparisonRule, quantity)\n+                .forEach(e -> baseValidations.assertElementState(description, state, e));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5ea5df685ef6c75d39397134d5b8c755eb6c3ae9"}, "originalPosition": 45}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5ea5df685ef6c75d39397134d5b8c755eb6c3ae9", "author": {"user": {"login": "ikalinin1", "name": "Ivan Kalinin"}}, "url": "https://github.com/vividus-framework/vividus/commit/5ea5df685ef6c75d39397134d5b8c755eb6c3ae9", "committedDate": "2020-08-19T12:28:44Z", "message": "[plugin-web-app] Add step to verify elements in state existence"}, "afterCommit": {"oid": "18064896498bd58b17251a1fee570aaa5132c6b5", "author": {"user": {"login": "ikalinin1", "name": "Ivan Kalinin"}}, "url": "https://github.com/vividus-framework/vividus/commit/18064896498bd58b17251a1fee570aaa5132c6b5", "committedDate": "2020-08-21T13:45:02Z", "message": "[plugin-web-app] Add step to verify elements in state existence"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c5a6c9625da81908e06d3c7b24a46eb61a5f1b6c", "author": {"user": {"login": "ikalinin1", "name": "Ivan Kalinin"}}, "url": "https://github.com/vividus-framework/vividus/commit/c5a6c9625da81908e06d3c7b24a46eb61a5f1b6c", "committedDate": "2020-08-21T13:52:07Z", "message": "[plugin-web-app] Add step to verify elements in state existence"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "18064896498bd58b17251a1fee570aaa5132c6b5", "author": {"user": {"login": "ikalinin1", "name": "Ivan Kalinin"}}, "url": "https://github.com/vividus-framework/vividus/commit/18064896498bd58b17251a1fee570aaa5132c6b5", "committedDate": "2020-08-21T13:45:02Z", "message": "[plugin-web-app] Add step to verify elements in state existence"}, "afterCommit": {"oid": "c5a6c9625da81908e06d3c7b24a46eb61a5f1b6c", "author": {"user": {"login": "ikalinin1", "name": "Ivan Kalinin"}}, "url": "https://github.com/vividus-framework/vividus/commit/c5a6c9625da81908e06d3c7b24a46eb61a5f1b6c", "committedDate": "2020-08-21T13:52:07Z", "message": "[plugin-web-app] Add step to verify elements in state existence"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcyNTY5Mjg0", "url": "https://github.com/vividus-framework/vividus/pull/834#pullrequestreview-472569284", "createdAt": "2020-08-21T15:04:44Z", "commit": {"oid": "c5a6c9625da81908e06d3c7b24a46eb61a5f1b6c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMVQxNTowNDo0NFrOHEw1BQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMVQxNTowNDo0NFrOHEw1BQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDc1NjM1Nw==", "bodyText": "redundant article before optional :)", "url": "https://github.com/vividus-framework/vividus/pull/834#discussion_r474756357", "createdAt": "2020-08-21T15:04:44Z", "author": {"login": "uarlouski"}, "path": "docs/modules/parameters/pages/locator.adoc", "diffHunk": "@@ -0,0 +1,190 @@\n+= Comparison rule\n+\n+== Description\n+\n+Describes elements locator. Should match regular expression: `(?:By\\\\.)?([a-zA-Z]+)\\\\((.+?)\\\\):?([a-zA-Z]*)?`\n+\n+== Syntax\n+\n+----\n+By.<locatorType>(<locatorValue>):<visibility>->filter.<filterType>(<filterValue>)\n+----\n+\n+[IMPORTANT]\n+\n+By. prefix is an optional.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c5a6c9625da81908e06d3c7b24a46eb61a5f1b6c"}, "originalPosition": 15}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcyNTcwNDU4", "url": "https://github.com/vividus-framework/vividus/pull/834#pullrequestreview-472570458", "createdAt": "2020-08-21T15:06:16Z", "commit": {"oid": "c5a6c9625da81908e06d3c7b24a46eb61a5f1b6c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDczMDE0MzQ1", "url": "https://github.com/vividus-framework/vividus/pull/834#pullrequestreview-473014345", "createdAt": "2020-08-23T14:05:55Z", "commit": {"oid": "c5a6c9625da81908e06d3c7b24a46eb61a5f1b6c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 48, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}