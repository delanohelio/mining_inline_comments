{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM2NzkzNDQw", "number": 716, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQxODoxMjowMVrOFEGu-g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQxODoxNDoyOVrOFEGydQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM5ODQ4OTU0OnYy", "diffSide": "RIGHT", "path": "google-cloud-spanner/src/main/java/com/google/cloud/spanner/Options.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQxODoxMjowMVrOIEEO1Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQyMDowNjowN1rOIEKI9A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTEzNDU0OQ==", "bodyText": "Can we add test for this?", "url": "https://github.com/googleapis/java-spanner/pull/716#discussion_r541134549", "createdAt": "2020-12-11T18:12:01Z", "author": {"login": "mayurkale22"}, "path": "google-cloud-spanner/src/main/java/com/google/cloud/spanner/Options.java", "diffHunk": "@@ -287,6 +294,26 @@ static Options fromQueryOptions(QueryOption... options) {\n     return readOptions;\n   }\n \n+  static Options fromUpdateOptions(UpdateOption... options) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b56892d50637a545456fe4217557ecbb9fd56a50"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTIzMTM0OA==", "bodyText": "I've added a couple of (placeholder) tests for it. As this implementation does not contain any actual UpdateOption yet, the test case cannot check very much.", "url": "https://github.com/googleapis/java-spanner/pull/716#discussion_r541231348", "createdAt": "2020-12-11T20:06:07Z", "author": {"login": "olavloite"}, "path": "google-cloud-spanner/src/main/java/com/google/cloud/spanner/Options.java", "diffHunk": "@@ -287,6 +294,26 @@ static Options fromQueryOptions(QueryOption... options) {\n     return readOptions;\n   }\n \n+  static Options fromUpdateOptions(UpdateOption... options) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTEzNDU0OQ=="}, "originalCommit": {"oid": "b56892d50637a545456fe4217557ecbb9fd56a50"}, "originalPosition": 24}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM5ODQ5MDE4OnYy", "diffSide": "RIGHT", "path": "google-cloud-spanner/src/main/java/com/google/cloud/spanner/Options.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQxODoxMjoxM1rOIEEPOg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQyMDowNjoyMVrOIEKJsQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTEzNDY1MA==", "bodyText": "Same here.", "url": "https://github.com/googleapis/java-spanner/pull/716#discussion_r541134650", "createdAt": "2020-12-11T18:12:13Z", "author": {"login": "mayurkale22"}, "path": "google-cloud-spanner/src/main/java/com/google/cloud/spanner/Options.java", "diffHunk": "@@ -287,6 +294,26 @@ static Options fromQueryOptions(QueryOption... options) {\n     return readOptions;\n   }\n \n+  static Options fromUpdateOptions(UpdateOption... options) {\n+    Options updateOptions = new Options();\n+    for (UpdateOption option : options) {\n+      if (option instanceof InternalOption) {\n+        ((InternalOption) option).appendToOptions(updateOptions);\n+      }\n+    }\n+    return updateOptions;\n+  }\n+\n+  static Options fromTransactionOptions(TransactionOption... options) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b56892d50637a545456fe4217557ecbb9fd56a50"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTIzMTUzNw==", "bodyText": "Done.", "url": "https://github.com/googleapis/java-spanner/pull/716#discussion_r541231537", "createdAt": "2020-12-11T20:06:21Z", "author": {"login": "olavloite"}, "path": "google-cloud-spanner/src/main/java/com/google/cloud/spanner/Options.java", "diffHunk": "@@ -287,6 +294,26 @@ static Options fromQueryOptions(QueryOption... options) {\n     return readOptions;\n   }\n \n+  static Options fromUpdateOptions(UpdateOption... options) {\n+    Options updateOptions = new Options();\n+    for (UpdateOption option : options) {\n+      if (option instanceof InternalOption) {\n+        ((InternalOption) option).appendToOptions(updateOptions);\n+      }\n+    }\n+    return updateOptions;\n+  }\n+\n+  static Options fromTransactionOptions(TransactionOption... options) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTEzNDY1MA=="}, "originalCommit": {"oid": "b56892d50637a545456fe4217557ecbb9fd56a50"}, "originalPosition": 34}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM5ODQ5ODQ1OnYy", "diffSide": "RIGHT", "path": "google-cloud-spanner/src/main/java/com/google/cloud/spanner/SessionImpl.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQxODoxNDoyOVrOIEEUJg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQyMDowOToyNVrOIEKVJg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTEzNTkxMA==", "bodyText": "Can this be just TransactionOption instead of Options?", "url": "https://github.com/googleapis/java-spanner/pull/716#discussion_r541135910", "createdAt": "2020-12-11T18:14:29Z", "author": {"login": "mayurkale22"}, "path": "google-cloud-spanner/src/main/java/com/google/cloud/spanner/SessionImpl.java", "diffHunk": "@@ -340,10 +343,11 @@ public void run() {\n     return res;\n   }\n \n-  TransactionContextImpl newTransaction() {\n+  TransactionContextImpl newTransaction(Options options) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b56892d50637a545456fe4217557ecbb9fd56a50"}, "originalPosition": 129}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTIzMzY2Nw==", "bodyText": "That would be possible (assuming you mean TransactionOption...), but I would prefer to keep this as the Options object. This makes it a required argument, making it less likely to be missed by accident as it will cause a compile error if you don't supply an Options object. If we change it to TransactionOption... it would not cause a compile time error if we forget to pass in the options somewhere.", "url": "https://github.com/googleapis/java-spanner/pull/716#discussion_r541233667", "createdAt": "2020-12-11T20:08:39Z", "author": {"login": "olavloite"}, "path": "google-cloud-spanner/src/main/java/com/google/cloud/spanner/SessionImpl.java", "diffHunk": "@@ -340,10 +343,11 @@ public void run() {\n     return res;\n   }\n \n-  TransactionContextImpl newTransaction() {\n+  TransactionContextImpl newTransaction(Options options) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTEzNTkxMA=="}, "originalCommit": {"oid": "b56892d50637a545456fe4217557ecbb9fd56a50"}, "originalPosition": 129}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTIzNDQ3MA==", "bodyText": "Hmm, makes sense.", "url": "https://github.com/googleapis/java-spanner/pull/716#discussion_r541234470", "createdAt": "2020-12-11T20:09:25Z", "author": {"login": "mayurkale22"}, "path": "google-cloud-spanner/src/main/java/com/google/cloud/spanner/SessionImpl.java", "diffHunk": "@@ -340,10 +343,11 @@ public void run() {\n     return res;\n   }\n \n-  TransactionContextImpl newTransaction() {\n+  TransactionContextImpl newTransaction(Options options) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTEzNTkxMA=="}, "originalCommit": {"oid": "b56892d50637a545456fe4217557ecbb9fd56a50"}, "originalPosition": 129}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3275, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}