{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ4MjIzNTk5", "number": 347, "title": "test: rename integration test", "bodyText": "Rename the SessionPoolIntegrationTest to IT... so it is actually picked up by the configuration that executes the integration tests.", "createdAt": "2020-07-13T12:28:05Z", "url": "https://github.com/googleapis/java-spanner/pull/347", "merged": true, "mergeCommit": {"oid": "cea51ad92bc7bca6f58b1e40a8dfc8fd8c81de5d"}, "closed": true, "closedAt": "2020-07-17T02:55:09Z", "author": {"login": "olavloite"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc0gkflAH2gAyNDQ4MjIzNTk5OmZiNDI3NTQwNThmOTM4MzdhNzUwYzJhMjA1OWM3NTUxOGNkZThkNDE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc1nwkcgFqTQ1MDI3OTg5MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "fb42754058f93837a750c2a2059c75518cde8d41", "author": {"user": {"login": "olavloite", "name": "Knut Olav L\u00f8ite"}}, "url": "https://github.com/googleapis/java-spanner/commit/fb42754058f93837a750c2a2059c75518cde8d41", "committedDate": "2020-07-13T12:26:58Z", "message": "test: rename integration test\n\nRename the SessionPoolIntegrationTest to IT... so it is actually picked up\nby the configuration that executes the integration tests."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ3Njg3NTIy", "url": "https://github.com/googleapis/java-spanner/pull/347#pullrequestreview-447687522", "createdAt": "2020-07-13T23:42:16Z", "commit": {"oid": "fb42754058f93837a750c2a2059c75518cde8d41"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QyMzo0MjoxNlrOGw-p2g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QyMzo0NTo1OVrOGw-uYg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDAxMTM1NA==", "bodyText": "nit: move session2 declaration into the try with resources block", "url": "https://github.com/googleapis/java-spanner/pull/347#discussion_r454011354", "createdAt": "2020-07-13T23:42:16Z", "author": {"login": "thiagotnunes"}, "path": "google-cloud-spanner/src/test/java/com/google/cloud/spanner/ITSessionPoolIntegrationTest.java", "diffHunk": "@@ -97,28 +98,28 @@ public ScheduledExecutorService get() {\n \n   @Test\n   public void sessionCreation() {\n-    try (Session session = pool.getReadSession()) {\n-      assertThat(session).isNotNull();\n+    try (PooledSessionFuture session = pool.getReadSession()) {\n+      assertThat(session.get()).isNotNull();\n     }\n \n-    try (Session session = pool.getReadSession()) {\n-      assertThat(session).isNotNull();\n-      Session session2 = pool.getReadSession();\n-      assertThat(session2).isNotNull();\n+    try (PooledSessionFuture session = pool.getReadSession()) {\n+      assertThat(session.get()).isNotNull();\n+      PooledSessionFuture session2 = pool.getReadSession();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fb42754058f93837a750c2a2059c75518cde8d41"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDAxMjUxNA==", "bodyText": "WDYT about adding timeouts to the get calls for the futures (in order not to block indefinitely)?", "url": "https://github.com/googleapis/java-spanner/pull/347#discussion_r454012514", "createdAt": "2020-07-13T23:45:59Z", "author": {"login": "thiagotnunes"}, "path": "google-cloud-spanner/src/test/java/com/google/cloud/spanner/ITSessionPoolIntegrationTest.java", "diffHunk": "@@ -97,28 +98,28 @@ public ScheduledExecutorService get() {\n \n   @Test\n   public void sessionCreation() {\n-    try (Session session = pool.getReadSession()) {\n-      assertThat(session).isNotNull();\n+    try (PooledSessionFuture session = pool.getReadSession()) {\n+      assertThat(session.get()).isNotNull();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fb42754058f93837a750c2a2059c75518cde8d41"}, "originalPosition": 24}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "042cc2d94e2eb0a4f0faed9a4124358649499ac6", "author": {"user": {"login": "olavloite", "name": "Knut Olav L\u00f8ite"}}, "url": "https://github.com/googleapis/java-spanner/commit/042cc2d94e2eb0a4f0faed9a4124358649499ac6", "committedDate": "2020-07-16T13:17:29Z", "message": "cleanup: move declaration to try-with-resources block"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUwMjc5ODkw", "url": "https://github.com/googleapis/java-spanner/pull/347#pullrequestreview-450279890", "createdAt": "2020-07-16T23:23:25Z", "commit": {"oid": "042cc2d94e2eb0a4f0faed9a4124358649499ac6"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 801, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}