{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY4NTM2NTAw", "number": 385, "reviewThreads": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QwMjozNDo0NlrOEY3yZg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QwODowNzozNlrOEY8NEg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk0NTE1MzAyOnYy", "diffSide": "RIGHT", "path": "google-cloud-spanner/src/main/java/com/google/cloud/spanner/SpannerOptions.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QwMjozNDo0NlrOHBX7lA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QwMjozNDo0NlrOHBX7lA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTIwMjcwOA==", "bodyText": "Used to set the optimizer statistics package through an environment variable, such as:\nexport SPANNER_OPTIMIZER_STATISTICS_PACKAGE=\"custom-package\"", "url": "https://github.com/googleapis/java-spanner/pull/385#discussion_r471202708", "createdAt": "2020-08-17T02:34:46Z", "author": {"login": "thiagotnunes"}, "path": "google-cloud-spanner/src/main/java/com/google/cloud/spanner/SpannerOptions.java", "diffHunk": "@@ -266,13 +273,21 @@ private SpannerOptions(Builder builder) {\n   private static class SpannerEnvironmentImpl implements SpannerEnvironment {\n     private static final SpannerEnvironmentImpl INSTANCE = new SpannerEnvironmentImpl();\n     private static final String SPANNER_OPTIMIZER_VERSION_ENV_VAR = \"SPANNER_OPTIMIZER_VERSION\";\n+    private static final String SPANNER_OPTIMIZER_STATISTICS_PACKAGE_ENV_VAR =\n+        \"SPANNER_OPTIMIZER_STATISTICS_PACKAGE\";\n \n     private SpannerEnvironmentImpl() {}\n \n     @Override\n     public String getOptimizerVersion() {\n       return MoreObjects.firstNonNull(System.getenv(SPANNER_OPTIMIZER_VERSION_ENV_VAR), \"\");\n     }\n+\n+    @Override", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b165e3c79ad7ee1945a7b06e1923f4b3b469a2c0"}, "originalPosition": 28}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk0NTE1NjIyOnYy", "diffSide": "RIGHT", "path": "google-cloud-spanner/src/main/java/com/google/cloud/spanner/connection/Connection.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QwMjozNjo1N1rOHBX9dw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QwMjozNjo1N1rOHBX9dw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTIwMzE5MQ==", "bodyText": "Used to set the optimizer statistics package through a statement, such as:\nSET OPTIMIZER_STATISTICS_PACKAGE = 'custom-package';", "url": "https://github.com/googleapis/java-spanner/pull/385#discussion_r471203191", "createdAt": "2020-08-17T02:36:57Z", "author": {"login": "thiagotnunes"}, "path": "google-cloud-spanner/src/main/java/com/google/cloud/spanner/connection/Connection.java", "diffHunk": "@@ -412,6 +417,25 @@\n    */\n   String getOptimizerVersion();\n \n+  /**\n+   * Sets the query optimizer statistics package\n+   *\n+   * @param optimizerStatisticsPackage The query optimizer statistics package to use. Must be a\n+   *     string composed of letters, numbers, dashes and underscores or an empty string. The empty\n+   *     string will instruct the connection to use the optimizer statistics package that is defined\n+   *     the environment variable <code>SPANNER_OPTIMIZER_STATISTICS_PACKAGE</code>. If no value is\n+   *     specified in the environment variable, the client level query optimizer is used. If none is\n+   *     set, the default query optimizer of Cloud Spanner is used.\n+   */\n+  void setOptimizerStatisticsPackage(String optimizerStatisticsPackage);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b165e3c79ad7ee1945a7b06e1923f4b3b469a2c0"}, "originalPosition": 26}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk0NTE1ODQxOnYy", "diffSide": "RIGHT", "path": "google-cloud-spanner/src/main/java/com/google/cloud/spanner/connection/Connection.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QwMjozODo0MVrOHBX-xA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QwMjozODo0MVrOHBX-xA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTIwMzUyNA==", "bodyText": "Used to get the optimizer statistics package through a statement, such as:\nSHOW VARIABLE OPTIMIZER_STATISTICS_PACKAGE;", "url": "https://github.com/googleapis/java-spanner/pull/385#discussion_r471203524", "createdAt": "2020-08-17T02:38:41Z", "author": {"login": "thiagotnunes"}, "path": "google-cloud-spanner/src/main/java/com/google/cloud/spanner/connection/Connection.java", "diffHunk": "@@ -412,6 +417,25 @@\n    */\n   String getOptimizerVersion();\n \n+  /**\n+   * Sets the query optimizer statistics package\n+   *\n+   * @param optimizerStatisticsPackage The query optimizer statistics package to use. Must be a\n+   *     string composed of letters, numbers, dashes and underscores or an empty string. The empty\n+   *     string will instruct the connection to use the optimizer statistics package that is defined\n+   *     the environment variable <code>SPANNER_OPTIMIZER_STATISTICS_PACKAGE</code>. If no value is\n+   *     specified in the environment variable, the client level query optimizer is used. If none is\n+   *     set, the default query optimizer of Cloud Spanner is used.\n+   */\n+  void setOptimizerStatisticsPackage(String optimizerStatisticsPackage);\n+\n+  /**\n+   * Gets the current query optimizer statistics package of this connection.\n+   *\n+   * @return The query optimizer statistics package that is currently used by this connection.\n+   */\n+  String getOptimizerStatisticsPackage();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b165e3c79ad7ee1945a7b06e1923f4b3b469a2c0"}, "originalPosition": 33}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk0NTE2MjI4OnYy", "diffSide": "RIGHT", "path": "google-cloud-spanner/src/main/java/com/google/cloud/spanner/connection/ConnectionStatementExecutor.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QwMjo0MTowNFrOHBYA8w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QwMjo0MTowNFrOHBYA8w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTIwNDA4Mw==", "bodyText": "Used to parse a client side statement to set the optimizer statistics package.", "url": "https://github.com/googleapis/java-spanner/pull/385#discussion_r471204083", "createdAt": "2020-08-17T02:41:04Z", "author": {"login": "thiagotnunes"}, "path": "google-cloud-spanner/src/main/java/com/google/cloud/spanner/connection/ConnectionStatementExecutor.java", "diffHunk": "@@ -64,6 +64,10 @@\n \n   StatementResult statementShowOptimizerVersion();\n \n+  StatementResult statementSetOptimizerStatisticsPackage(String optimizerStatisticsPackage);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b165e3c79ad7ee1945a7b06e1923f4b3b469a2c0"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk0NTE2MzYxOnYy", "diffSide": "RIGHT", "path": "google-cloud-spanner/src/main/resources/com/google/cloud/spanner/connection/ClientSideStatements.json", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QwMjo0MTo1MFrOHBYBpQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QwMjo0MTo1MFrOHBYBpQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTIwNDI2MQ==", "bodyText": "Check if this regex is the correct one for the optimizer statistics package.", "url": "https://github.com/googleapis/java-spanner/pull/385#discussion_r471204261", "createdAt": "2020-08-17T02:41:50Z", "author": {"login": "thiagotnunes"}, "path": "google-cloud-spanner/src/main/resources/com/google/cloud/spanner/connection/ClientSideStatements.json", "diffHunk": "@@ -263,6 +271,20 @@\n \t    \"allowedValues\": \"'((\\\\d{1,20})|(LATEST)|())'\",\n \t    \"converterName\": \"ClientSideStatementValueConverters$StringValueConverter\"\n \t  }\n+\t},\n+\t{\n+\t\t\"name\": \"SET OPTIMIZER_STATISTICS_PACKAGE = '<package>'|''\",\n+\t\t\"executorName\": \"ClientSideStatementSetExecutor\",\n+\t\t\"resultType\": \"NO_RESULT\",\n+\t\t\"regex\": \"(?is)\\\\A\\\\s*set\\\\s+optimizer_statistics_package\\\\s*(?:=)\\\\s*(.*)\\\\z\",\n+\t\t\"method\": \"statementSetOptimizerStatisticsPackage\",\n+\t\t\"exampleStatements\": [\"set optimizer_statistics_package='auto_20191128_14_47_22UTC'\", \"set optimizer_statistics_package=''\"],\n+\t\t\"setStatement\": {\n+\t\t\t\"propertyName\": \"OPTIMIZER_STATISTICS_PACKAGE\",\n+\t\t\t\"separator\": \"=\",\n+\t\t\t\"allowedValues\": \"'(([A-Za-z0-9\\\\-\\\\_]+)|())'\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b165e3c79ad7ee1945a7b06e1923f4b3b469a2c0"}, "originalPosition": 30}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk0NTE2NjU5OnYy", "diffSide": "RIGHT", "path": "google-cloud-spanner/src/main/java/com/google/cloud/spanner/connection/ConnectionStatementExecutor.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QwMjo0NDowMFrOHBYDZg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QwMjo0NDowMFrOHBYDZg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTIwNDcxMA==", "bodyText": "Used to parse a client side statement to get the optimizer statistics package.", "url": "https://github.com/googleapis/java-spanner/pull/385#discussion_r471204710", "createdAt": "2020-08-17T02:44:00Z", "author": {"login": "thiagotnunes"}, "path": "google-cloud-spanner/src/main/java/com/google/cloud/spanner/connection/ConnectionStatementExecutor.java", "diffHunk": "@@ -64,6 +64,10 @@\n \n   StatementResult statementShowOptimizerVersion();\n \n+  StatementResult statementSetOptimizerStatisticsPackage(String optimizerStatisticsPackage);\n+\n+  StatementResult statementShowOptimizerStatisticsPackage();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b165e3c79ad7ee1945a7b06e1923f4b3b469a2c0"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk0NTE2Nzg0OnYy", "diffSide": "RIGHT", "path": "google-cloud-spanner/src/main/resources/com/google/cloud/spanner/connection/ClientSideStatements.json", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QwMjo0NDo1M1rOHBYEHg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QwMjo0NDo1M1rOHBYEHg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTIwNDg5NA==", "bodyText": "Defines how to parse the show statement for the optimizer statistics package.", "url": "https://github.com/googleapis/java-spanner/pull/385#discussion_r471204894", "createdAt": "2020-08-17T02:44:53Z", "author": {"login": "thiagotnunes"}, "path": "google-cloud-spanner/src/main/resources/com/google/cloud/spanner/connection/ClientSideStatements.json", "diffHunk": "@@ -76,6 +76,14 @@\n \t  \"method\": \"statementShowOptimizerVersion\",\n \t  \"exampleStatements\": [\"show variable optimizer_version\"]\n \t},\n+\t{", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b165e3c79ad7ee1945a7b06e1923f4b3b469a2c0"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk0NTE2ODUxOnYy", "diffSide": "RIGHT", "path": "google-cloud-spanner/src/main/resources/com/google/cloud/spanner/connection/ClientSideStatements.json", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QwMjo0NTowNFrOHBYEbw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QwMjo0NTowNFrOHBYEbw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTIwNDk3NQ==", "bodyText": "Defines how to parse the set statement for the optimizer statistics package.", "url": "https://github.com/googleapis/java-spanner/pull/385#discussion_r471204975", "createdAt": "2020-08-17T02:45:04Z", "author": {"login": "thiagotnunes"}, "path": "google-cloud-spanner/src/main/resources/com/google/cloud/spanner/connection/ClientSideStatements.json", "diffHunk": "@@ -263,6 +271,20 @@\n \t    \"allowedValues\": \"'((\\\\d{1,20})|(LATEST)|())'\",\n \t    \"converterName\": \"ClientSideStatementValueConverters$StringValueConverter\"\n \t  }\n+\t},\n+\t{\n+\t\t\"name\": \"SET OPTIMIZER_STATISTICS_PACKAGE = '<package>'|''\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b165e3c79ad7ee1945a7b06e1923f4b3b469a2c0"}, "originalPosition": 21}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk0NTc1MDIwOnYy", "diffSide": "RIGHT", "path": "google-cloud-spanner/src/main/java/com/google/cloud/spanner/connection/Connection.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QwNzoyODoyNVrOHBdXTA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QwODoyMTozOVrOHBfAcg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTI5MTcyNA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n             *       SET OPTIMIZER_STATISTICS_PACKAGE='&lt;package&gt;'\n          \n          \n            \n             *       SET OPTIMIZER_STATISTICS_PACKAGE='&lt;package&gt;' | ''", "url": "https://github.com/googleapis/java-spanner/pull/385#discussion_r471291724", "createdAt": "2020-08-17T07:28:25Z", "author": {"login": "olavloite"}, "path": "google-cloud-spanner/src/main/java/com/google/cloud/spanner/connection/Connection.java", "diffHunk": "@@ -88,6 +88,11 @@\n  *   <li><code>\n  *       SET OPTIMIZER_VERSION='&lt;version&gt;' | 'LATEST'\n  *       </code>: Sets the value of <code>OPTIMIZER_VERSION</code> for this connection.\n+ *   <li><code>SHOW OPTIMIZER_STATISTICS_PACKAGE</code>: Returns the current value of <code>\n+ *       OPTIMIZER_STATISTICS_PACKAGE</code> of this connection as a {@link ResultSet}\n+ *   <li><code>\n+ *       SET OPTIMIZER_STATISTICS_PACKAGE='&lt;package&gt;'", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b165e3c79ad7ee1945a7b06e1923f4b3b469a2c0"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTMxODY0Mg==", "bodyText": "Fixed in 88c2033.", "url": "https://github.com/googleapis/java-spanner/pull/385#discussion_r471318642", "createdAt": "2020-08-17T08:21:39Z", "author": {"login": "thiagotnunes"}, "path": "google-cloud-spanner/src/main/java/com/google/cloud/spanner/connection/Connection.java", "diffHunk": "@@ -88,6 +88,11 @@\n  *   <li><code>\n  *       SET OPTIMIZER_VERSION='&lt;version&gt;' | 'LATEST'\n  *       </code>: Sets the value of <code>OPTIMIZER_VERSION</code> for this connection.\n+ *   <li><code>SHOW OPTIMIZER_STATISTICS_PACKAGE</code>: Returns the current value of <code>\n+ *       OPTIMIZER_STATISTICS_PACKAGE</code> of this connection as a {@link ResultSet}\n+ *   <li><code>\n+ *       SET OPTIMIZER_STATISTICS_PACKAGE='&lt;package&gt;'", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTI5MTcyNA=="}, "originalCommit": {"oid": "b165e3c79ad7ee1945a7b06e1923f4b3b469a2c0"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk0NTg3MzAxOnYy", "diffSide": "RIGHT", "path": "google-cloud-spanner/src/test/resources/com/google/cloud/spanner/connection/ITSqlScriptTest_TestQueryOptions.sql", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QwODowNjoyNlrOHBegKQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOFQwNjoyNDo1MFrOHCFAiQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTMxMDM3Nw==", "bodyText": "Should we add test statements for invalid values for optimizer package as well?", "url": "https://github.com/googleapis/java-spanner/pull/385#discussion_r471310377", "createdAt": "2020-08-17T08:06:26Z", "author": {"login": "olavloite"}, "path": "google-cloud-spanner/src/test/resources/com/google/cloud/spanner/connection/ITSqlScriptTest_TestQueryOptions.sql", "diffHunk": "@@ -43,7 +46,21 @@ SET OPTIMIZER_VERSION = '';\n @EXPECT RESULT_SET 'OPTIMIZER_VERSION',''\n SHOW VARIABLE OPTIMIZER_VERSION;\n \n+-- Optimizer statistics package\n+@EXPECT NO_RESULT\n+SET OPTIMIZER_STATISTICS_PACKAGE = 'custom-package_withNumbers-1234';\n+\n+@EXPECT RESULT_SET 'OPTIMIZER_STATISTICS_PACKAGE','custom-package_withNumbers-1234'\n+SHOW VARIABLE OPTIMIZER_STATISTICS_PACKAGE;\n+\n+@EXPECT NO_RESULT\n+SET OPTIMIZER_STATISTICS_PACKAGE = '';\n+\n+@EXPECT RESULT_SET 'OPTIMIZER_STATISTICS_PACKAGE',''\n+SHOW VARIABLE OPTIMIZER_STATISTICS_PACKAGE;\n+\n -- Try to set invalid values.\n+-- Optimizer version\n @EXPECT EXCEPTION INVALID_ARGUMENT 'INVALID_ARGUMENT: Unknown value for OPTIMIZER_VERSION: 'None''\n SET OPTIMIZER_VERSION = 'None';\n ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b165e3c79ad7ee1945a7b06e1923f4b3b469a2c0"}, "originalPosition": 36}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTMxNTk1NA==", "bodyText": "That is a good point. Currently, I have not found any invalid scenarios, so I am asking on the design documentation if the regex I have set is the correct one. Once I have confirmation I will add the tests.", "url": "https://github.com/googleapis/java-spanner/pull/385#discussion_r471315954", "createdAt": "2020-08-17T08:16:42Z", "author": {"login": "thiagotnunes"}, "path": "google-cloud-spanner/src/test/resources/com/google/cloud/spanner/connection/ITSqlScriptTest_TestQueryOptions.sql", "diffHunk": "@@ -43,7 +46,21 @@ SET OPTIMIZER_VERSION = '';\n @EXPECT RESULT_SET 'OPTIMIZER_VERSION',''\n SHOW VARIABLE OPTIMIZER_VERSION;\n \n+-- Optimizer statistics package\n+@EXPECT NO_RESULT\n+SET OPTIMIZER_STATISTICS_PACKAGE = 'custom-package_withNumbers-1234';\n+\n+@EXPECT RESULT_SET 'OPTIMIZER_STATISTICS_PACKAGE','custom-package_withNumbers-1234'\n+SHOW VARIABLE OPTIMIZER_STATISTICS_PACKAGE;\n+\n+@EXPECT NO_RESULT\n+SET OPTIMIZER_STATISTICS_PACKAGE = '';\n+\n+@EXPECT RESULT_SET 'OPTIMIZER_STATISTICS_PACKAGE',''\n+SHOW VARIABLE OPTIMIZER_STATISTICS_PACKAGE;\n+\n -- Try to set invalid values.\n+-- Optimizer version\n @EXPECT EXCEPTION INVALID_ARGUMENT 'INVALID_ARGUMENT: Unknown value for OPTIMIZER_VERSION: 'None''\n SET OPTIMIZER_VERSION = 'None';\n ", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTMxMDM3Nw=="}, "originalCommit": {"oid": "b165e3c79ad7ee1945a7b06e1923f4b3b469a2c0"}, "originalPosition": 36}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTk0MTI1Nw==", "bodyText": "Fixed in e2d6b2c.", "url": "https://github.com/googleapis/java-spanner/pull/385#discussion_r471941257", "createdAt": "2020-08-18T06:24:50Z", "author": {"login": "thiagotnunes"}, "path": "google-cloud-spanner/src/test/resources/com/google/cloud/spanner/connection/ITSqlScriptTest_TestQueryOptions.sql", "diffHunk": "@@ -43,7 +46,21 @@ SET OPTIMIZER_VERSION = '';\n @EXPECT RESULT_SET 'OPTIMIZER_VERSION',''\n SHOW VARIABLE OPTIMIZER_VERSION;\n \n+-- Optimizer statistics package\n+@EXPECT NO_RESULT\n+SET OPTIMIZER_STATISTICS_PACKAGE = 'custom-package_withNumbers-1234';\n+\n+@EXPECT RESULT_SET 'OPTIMIZER_STATISTICS_PACKAGE','custom-package_withNumbers-1234'\n+SHOW VARIABLE OPTIMIZER_STATISTICS_PACKAGE;\n+\n+@EXPECT NO_RESULT\n+SET OPTIMIZER_STATISTICS_PACKAGE = '';\n+\n+@EXPECT RESULT_SET 'OPTIMIZER_STATISTICS_PACKAGE',''\n+SHOW VARIABLE OPTIMIZER_STATISTICS_PACKAGE;\n+\n -- Try to set invalid values.\n+-- Optimizer version\n @EXPECT EXCEPTION INVALID_ARGUMENT 'INVALID_ARGUMENT: Unknown value for OPTIMIZER_VERSION: 'None''\n SET OPTIMIZER_VERSION = 'None';\n ", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTMxMDM3Nw=="}, "originalCommit": {"oid": "b165e3c79ad7ee1945a7b06e1923f4b3b469a2c0"}, "originalPosition": 36}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk0NTg3NjY2OnYy", "diffSide": "RIGHT", "path": "proto-google-cloud-spanner-v1/src/main/java/com/google/spanner/v1/ExecuteSqlRequest.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QwODowNzozNlrOHBeiUQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QwODoxNzowOFrOHBe23w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTMxMDkyOQ==", "bodyText": "I assume that the changes to this file will be removed later, as this is part of the generated code.", "url": "https://github.com/googleapis/java-spanner/pull/385#discussion_r471310929", "createdAt": "2020-08-17T08:07:36Z", "author": {"login": "olavloite"}, "path": "proto-google-cloud-spanner-v1/src/main/java/com/google/spanner/v1/ExecuteSqlRequest.java", "diffHunk": "@@ -402,6 +402,9 @@ private QueryMode(int value) {\n      * SPANNER_SYS.SUPPORTED_OPTIMIZER_VERSIONS. Executing a SQL statement\n      * with an invalid optimizer version will fail with a syntax error\n      * (`INVALID_ARGUMENT`) status.\n+     * See", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b165e3c79ad7ee1945a7b06e1923f4b3b469a2c0"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTMxNjE5MQ==", "bodyText": "Yes, I added them here, so that the build would pass.", "url": "https://github.com/googleapis/java-spanner/pull/385#discussion_r471316191", "createdAt": "2020-08-17T08:17:08Z", "author": {"login": "thiagotnunes"}, "path": "proto-google-cloud-spanner-v1/src/main/java/com/google/spanner/v1/ExecuteSqlRequest.java", "diffHunk": "@@ -402,6 +402,9 @@ private QueryMode(int value) {\n      * SPANNER_SYS.SUPPORTED_OPTIMIZER_VERSIONS. Executing a SQL statement\n      * with an invalid optimizer version will fail with a syntax error\n      * (`INVALID_ARGUMENT`) status.\n+     * See", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTMxMDkyOQ=="}, "originalCommit": {"oid": "b165e3c79ad7ee1945a7b06e1923f4b3b469a2c0"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3165, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}