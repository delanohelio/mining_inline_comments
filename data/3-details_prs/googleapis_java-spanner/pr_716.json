{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM2NzkzNDQw", "number": 716, "title": "feat: introduce TransactionOptions and UpdateOptions", "bodyText": "Adds TransactionOptions and UpdateOptions for read/write transactions and statements. These can be used in the future to specify options to affect how transactions and statements will be executed.\nThese changes can be used as the basis for #676 and #576 to ensure both changes use the same approach, and to prevent enormous merge conflicts.", "createdAt": "2020-12-11T10:40:32Z", "url": "https://github.com/googleapis/java-spanner/pull/716", "merged": true, "mergeCommit": {"oid": "5c96fab6d1c19518d52d0a7f0d634f0526066f03"}, "closed": true, "closedAt": "2020-12-15T07:20:31Z", "author": {"login": "olavloite"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdlFf5gAH2gAyNTM2NzkzNDQwOmI1Njg5MmQ1MDYzN2E1NDU0NTZmZTQyMTc1NTdlY2JiOWZkNTZhNTA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdl5ToiAFqTU1MDk3MTA5OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "b56892d50637a545456fe4217557ecbb9fd56a50", "author": {"user": {"login": "olavloite", "name": "Knut Olav L\u00f8ite"}}, "url": "https://github.com/googleapis/java-spanner/commit/b56892d50637a545456fe4217557ecbb9fd56a50", "committedDate": "2020-12-11T10:36:48Z", "message": "feat: introduce TransactionOptions and UpdateOptions\n\nAdds TransactionOptions and UpdateOptions for read/write transactions and statements.\nThese can be used in the future to specify options to affect how transactions and\nstatements will be executed."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUwNDA0MDMy", "url": "https://github.com/googleapis/java-spanner/pull/716#pullrequestreview-550404032", "createdAt": "2020-12-11T18:12:01Z", "commit": {"oid": "b56892d50637a545456fe4217557ecbb9fd56a50"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQxODoxMjowMVrOIEEO1Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQxODoxNDoyOVrOIEEUJg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTEzNDU0OQ==", "bodyText": "Can we add test for this?", "url": "https://github.com/googleapis/java-spanner/pull/716#discussion_r541134549", "createdAt": "2020-12-11T18:12:01Z", "author": {"login": "mayurkale22"}, "path": "google-cloud-spanner/src/main/java/com/google/cloud/spanner/Options.java", "diffHunk": "@@ -287,6 +294,26 @@ static Options fromQueryOptions(QueryOption... options) {\n     return readOptions;\n   }\n \n+  static Options fromUpdateOptions(UpdateOption... options) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b56892d50637a545456fe4217557ecbb9fd56a50"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTEzNDY1MA==", "bodyText": "Same here.", "url": "https://github.com/googleapis/java-spanner/pull/716#discussion_r541134650", "createdAt": "2020-12-11T18:12:13Z", "author": {"login": "mayurkale22"}, "path": "google-cloud-spanner/src/main/java/com/google/cloud/spanner/Options.java", "diffHunk": "@@ -287,6 +294,26 @@ static Options fromQueryOptions(QueryOption... options) {\n     return readOptions;\n   }\n \n+  static Options fromUpdateOptions(UpdateOption... options) {\n+    Options updateOptions = new Options();\n+    for (UpdateOption option : options) {\n+      if (option instanceof InternalOption) {\n+        ((InternalOption) option).appendToOptions(updateOptions);\n+      }\n+    }\n+    return updateOptions;\n+  }\n+\n+  static Options fromTransactionOptions(TransactionOption... options) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b56892d50637a545456fe4217557ecbb9fd56a50"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTEzNTkxMA==", "bodyText": "Can this be just TransactionOption instead of Options?", "url": "https://github.com/googleapis/java-spanner/pull/716#discussion_r541135910", "createdAt": "2020-12-11T18:14:29Z", "author": {"login": "mayurkale22"}, "path": "google-cloud-spanner/src/main/java/com/google/cloud/spanner/SessionImpl.java", "diffHunk": "@@ -340,10 +343,11 @@ public void run() {\n     return res;\n   }\n \n-  TransactionContextImpl newTransaction() {\n+  TransactionContextImpl newTransaction(Options options) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b56892d50637a545456fe4217557ecbb9fd56a50"}, "originalPosition": 129}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ae2cf93393f4f254c973b27149bcf5353214b7df", "author": {"user": {"login": "olavloite", "name": "Knut Olav L\u00f8ite"}}, "url": "https://github.com/googleapis/java-spanner/commit/ae2cf93393f4f254c973b27149bcf5353214b7df", "committedDate": "2020-12-11T20:05:03Z", "message": "test: add options tests"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUwNTQzMjk1", "url": "https://github.com/googleapis/java-spanner/pull/716#pullrequestreview-550543295", "createdAt": "2020-12-11T20:09:55Z", "commit": {"oid": "ae2cf93393f4f254c973b27149bcf5353214b7df"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUwOTcxMDk5", "url": "https://github.com/googleapis/java-spanner/pull/716#pullrequestreview-550971099", "createdAt": "2020-12-13T22:58:28Z", "commit": {"oid": "ae2cf93393f4f254c973b27149bcf5353214b7df"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 939, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}