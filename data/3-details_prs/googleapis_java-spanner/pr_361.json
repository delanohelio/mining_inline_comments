{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU0MDA3NDg4", "number": 361, "title": "refactor: removes double loop of pdml transaction", "bodyText": "Refactors the PDML transaction class to have a single loop for resumes / retries.\nI tried to simplify as much as possible on the retry logic we were doing on the transaction.\n<rant>\nUnfortunately with Java 7 it is hard to improve this logic by not using exceptions for that without having to write lots of code. I could not also come up with a good immutable approach that would have better readability.\n</rant>", "createdAt": "2020-07-21T01:29:43Z", "url": "https://github.com/googleapis/java-spanner/pull/361", "merged": true, "mergeCommit": {"oid": "87f4f132bf461d441796a31e863453a073bc2189"}, "closed": true, "closedAt": "2020-07-23T01:43:14Z", "author": {"login": "thiagotnunes"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc2-02bAH2gAyNDU0MDA3NDg4OmE0ZGYxZjk2ZjEyZmE3ZDk0M2NjZjdhYmM3ZDI5MDg3YTRjNTJlZGE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc3lDG-AFqTQ1Mzc4NDQwMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "a4df1f96f12fa7d943ccf7abc7d29087a4c52eda", "author": {"user": {"login": "thiagotnunes", "name": "Thiago Nunes"}}, "url": "https://github.com/googleapis/java-spanner/commit/a4df1f96f12fa7d943ccf7abc7d29087a4c52eda", "committedDate": "2020-07-21T04:49:50Z", "message": "refactor: removes double loop of pdml transaction\n\nRefactors the PDML transaction class to have a single loop for resumes /\nretries."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUyOTk3ODUy", "url": "https://github.com/googleapis/java-spanner/pull/361#pullrequestreview-452997852", "createdAt": "2020-07-22T05:09:27Z", "commit": {"oid": "a4df1f96f12fa7d943ccf7abc7d29087a4c52eda"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUzNzg0NDAz", "url": "https://github.com/googleapis/java-spanner/pull/361#pullrequestreview-453784403", "createdAt": "2020-07-23T01:13:48Z", "commit": {"oid": "a4df1f96f12fa7d943ccf7abc7d29087a4c52eda"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QwMToxMzo0OFrOG15XsA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QwMToxMzo0OFrOG15XsA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTE2NzY2NA==", "bodyText": "nit: 2020", "url": "https://github.com/googleapis/java-spanner/pull/361#discussion_r459167664", "createdAt": "2020-07-23T01:13:48Z", "author": {"login": "skuruppu"}, "path": "google-cloud-spanner/src/main/java/com/google/cloud/spanner/PartitionedDmlTransaction.java", "diffHunk": "@@ -0,0 +1,196 @@\n+/*\n+ * Copyright 2019 Google LLC", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a4df1f96f12fa7d943ccf7abc7d29087a4c52eda"}, "originalPosition": 2}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 808, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}