{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIwODgzMDEw", "number": 232, "title": "fix: PDML retry settings were not applied for aborted tx", "bodyText": "The PartitionedDML retry settings were only applied for the RPC, and not for the generic retryer that would retry the PDML transaction if it was aborted by Spanner. This could cause long-running PDML transactions to fail with an Aborted exception.\nFixes #199", "createdAt": "2020-05-20T16:51:20Z", "url": "https://github.com/googleapis/java-spanner/pull/232", "merged": true, "mergeCommit": {"oid": "308a465c768ba6e641c95d8c6efd214637266f50"}, "closed": true, "closedAt": "2020-05-20T23:38:54Z", "author": {"login": "olavloite"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcjL9NvgH2gAyNDIwODgzMDEwOjNiZmJmNWM2ZjUzYTc2Zjc4MzQxYWU5MzNlYmFhN2Y2OGFhNGU5YzE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABczSEuGAFqTQ0NTgwMzc2Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "3bfbf5c6f53a76f78341ae933ebaa7f68aa4e9c1", "author": {"user": {"login": "olavloite", "name": "Knut Olav L\u00f8ite"}}, "url": "https://github.com/googleapis/java-spanner/commit/3bfbf5c6f53a76f78341ae933ebaa7f68aa4e9c1", "committedDate": "2020-05-20T16:49:15Z", "message": "fix: PDML retry settings were not applied for aborted tx\n\nThe PartitionedDML retry settings were only applied for the RPC, and not\nfor the generic retryer that would retry the PDML transaction if it was\naborted by Spanner. This could cause long-running PDML transactions to\nfail with an Aborted exception.\n\nFixes #199"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1db2ad84343595574dd2f8a47075ff5ea0ccda66", "author": {"user": {"login": "olavloite", "name": "Knut Olav L\u00f8ite"}}, "url": "https://github.com/googleapis/java-spanner/commit/1db2ad84343595574dd2f8a47075ff5ea0ccda66", "committedDate": "2020-05-20T17:30:43Z", "message": "fix: add ignored diff to clirr"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE1Nzg2MTA0", "url": "https://github.com/googleapis/java-spanner/pull/232#pullrequestreview-415786104", "createdAt": "2020-05-20T23:38:45Z", "commit": {"oid": "1db2ad84343595574dd2f8a47075ff5ea0ccda66"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ1ODAzNzYy", "url": "https://github.com/googleapis/java-spanner/pull/232#pullrequestreview-445803762", "createdAt": "2020-07-09T16:59:40Z", "commit": {"oid": "1db2ad84343595574dd2f8a47075ff5ea0ccda66"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOVQxNjo1OTo0MFrOGvZ7ug==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOVQxNjo1OTo0MFrOGvZ7ug==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjM2MTE0Ng==", "bodyText": "Did you really intend to set the keepalive time to be over a day? This is a value of 120,000 seconds.", "url": "https://github.com/googleapis/java-spanner/pull/232#discussion_r452361146", "createdAt": "2020-07-09T16:59:40Z", "author": {"login": "ejona86"}, "path": "google-cloud-spanner/src/main/java/com/google/cloud/spanner/spi/v1/GapicSpannerRpc.java", "diffHunk": "@@ -300,7 +302,7 @@ public GapicSpannerRpc(final SpannerOptions options) {\n \n                 // Set a keepalive time of 120 seconds to help long running\n                 // commit GRPC calls succeed\n-                .setKeepAliveTime(Duration.ofSeconds(GRPC_KEEPALIVE_SECONDS))\n+                .setKeepAliveTime(Duration.ofSeconds(GRPC_KEEPALIVE_SECONDS * 1000))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1db2ad84343595574dd2f8a47075ff5ea0ccda66"}, "originalPosition": 21}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 844, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}