{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAzNTU2MjYw", "number": 153, "title": "fix: fix flaky test and remove warnings", "bodyText": "The test should check for at most baseThreadCount instead of equality, as it is possible that the thread pool shuts down one or more of its threads temporarily.\nFixes #146", "createdAt": "2020-04-15T05:52:49Z", "url": "https://github.com/googleapis/java-spanner/pull/153", "merged": true, "mergeCommit": {"oid": "d534e350346b0c9ab8057ede36bc3aac473c0b06"}, "closed": true, "closedAt": "2020-04-16T12:14:25Z", "author": {"login": "olavloite"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcXxjuzgH2gAyNDAzNTU2MjYwOmIyN2E2YTBmOTJjMzkyNTI0NjkyZDgyNDBiZTE3ODY4NzMzZjRhOTA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcYJ0CdgFqTM5NDQ4NTU3OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "b27a6a0f92c392524692d8240be17868733f4a90", "author": {"user": {"login": "olavloite", "name": "Knut Olav L\u00f8ite"}}, "url": "https://github.com/googleapis/java-spanner/commit/b27a6a0f92c392524692d8240be17868733f4a90", "committedDate": "2020-04-15T05:50:43Z", "message": "fix: fix flaky test and remove warnings\n\nThe test should check for at most baseThreadCount instead of equality,\nas it is possible that the thread pool shuts down one or more of its\nthreads temporarily.\n\nFixes #146"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk0NDg0OTI0", "url": "https://github.com/googleapis/java-spanner/pull/153#pullrequestreview-394484924", "createdAt": "2020-04-16T10:05:25Z", "commit": {"oid": "b27a6a0f92c392524692d8240be17868733f4a90"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNlQxMDowNToyNlrOGGeEkA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNlQxMDowNToyNlrOGGeEkA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTQzNzMyOA==", "bodyText": "Why here shouldn't be isAtMost?\nSame for the following two isEqualTo.", "url": "https://github.com/googleapis/java-spanner/pull/153#discussion_r409437328", "createdAt": "2020-04-16T10:05:26Z", "author": {"login": "hengfengli"}, "path": "google-cloud-spanner/src/test/java/com/google/cloud/spanner/it/ITSpannerOptionsTest.java", "diffHunk": "@@ -106,29 +101,26 @@ public void testCloseAllThreadsWhenClosingSpanner() throws InterruptedException\n       }\n       // Check the number of threads after the query. Doing a request should initialize a thread\n       // pool for the underlying SpannerClient.\n-      assertThat(\n-          getNumberOfThreadsWithName(SPANNER_THREAD_NAME),\n-          is(equalTo(DEFAULT_NUM_CHANNELS * NUM_THREADS_PER_CHANNEL + baseThreadCount)));\n+      assertThat(getNumberOfThreadsWithName(SPANNER_THREAD_NAME))\n+          .isEqualTo(DEFAULT_NUM_CHANNELS * NUM_THREADS_PER_CHANNEL + baseThreadCount);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b27a6a0f92c392524692d8240be17868733f4a90"}, "originalPosition": 47}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk0NDg1NTc5", "url": "https://github.com/googleapis/java-spanner/pull/153#pullrequestreview-394485579", "createdAt": "2020-04-16T10:06:15Z", "commit": {"oid": "b27a6a0f92c392524692d8240be17868733f4a90"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 896, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}