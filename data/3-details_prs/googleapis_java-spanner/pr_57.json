{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzcwNzU3OTA1", "number": 57, "title": "fix: use resource type to identify type of error", "bodyText": "Use the returned resource type instead of the error message to determine the type of error.", "createdAt": "2020-02-04T10:27:52Z", "url": "https://github.com/googleapis/java-spanner/pull/57", "merged": true, "mergeCommit": {"oid": "89c3e77b99b303576c83b2313fc54d8c0e075e18"}, "closed": true, "closedAt": "2020-02-05T12:06:58Z", "author": {"login": "olavloite"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcA-8iPgH2gAyMzcwNzU3OTA1OjVlNzI4MWZkNDYyMzM3MjU0ZDUyYmM3NjI0MDEzMzBiM2JjZjc0Y2I=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcBS6J0gFqTM1MzU3ODg5MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "5e7281fd462337254d52bc762401330b3bcf74cb", "author": {"user": {"login": "olavloite", "name": "Knut Olav L\u00f8ite"}}, "url": "https://github.com/googleapis/java-spanner/commit/5e7281fd462337254d52bc762401330b3bcf74cb", "committedDate": "2020-02-04T10:26:19Z", "message": "fix: use resource type to identify type of error"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "242526bd680c6ad5031d7389aeb50f202d8b4c83", "author": {"user": {"login": "olavloite", "name": "Knut Olav L\u00f8ite"}}, "url": "https://github.com/googleapis/java-spanner/commit/242526bd680c6ad5031d7389aeb50f202d8b4c83", "committedDate": "2020-02-04T17:00:54Z", "message": "fix: add test for DatabaseNotFoundException"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUzMjY2NDE5", "url": "https://github.com/googleapis/java-spanner/pull/57#pullrequestreview-353266419", "createdAt": "2020-02-04T20:08:13Z", "commit": {"oid": "242526bd680c6ad5031d7389aeb50f202d8b4c83"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQyMDowODoxM1rOFlhzfQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQyMDowODoxM1rOFlhzfQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDg5NTQ4NQ==", "bodyText": "what about Instance Not Found ?", "url": "https://github.com/googleapis/java-spanner/pull/57#discussion_r374895485", "createdAt": "2020-02-04T20:08:13Z", "author": {"login": "snehashah16"}, "path": "google-cloud-spanner/src/main/java/com/google/cloud/spanner/SpannerExceptionFactory.java", "diffHunk": "@@ -183,10 +193,13 @@ private static SpannerException newSpannerExceptionPreformatted(\n       case ABORTED:\n         return new AbortedException(token, message, cause);\n       case NOT_FOUND:\n-        if (message != null && message.contains(\"Session not found\")) {\n-          return new SessionNotFoundException(token, message, cause);\n-        } else if (message != null && DATABASE_NOT_FOUND_MSG_PATTERN.matcher(message).matches()) {\n-          return new DatabaseNotFoundException(token, message, cause);\n+        ResourceInfo resourceInfo = extractResourceInfo(cause);\n+        if (resourceInfo != null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "242526bd680c6ad5031d7389aeb50f202d8b4c83"}, "originalPosition": 61}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUzMzY4NDgz", "url": "https://github.com/googleapis/java-spanner/pull/57#pullrequestreview-353368483", "createdAt": "2020-02-04T23:10:20Z", "commit": {"oid": "242526bd680c6ad5031d7389aeb50f202d8b4c83"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUzNTc4ODkw", "url": "https://github.com/googleapis/java-spanner/pull/57#pullrequestreview-353578890", "createdAt": "2020-02-05T09:41:49Z", "commit": {"oid": "242526bd680c6ad5031d7389aeb50f202d8b4c83"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 856, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}