{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDgzMDQ2MzM3", "number": 778, "title": "fix(redis): fix parsing parameters from uri", "bodyText": "Fixes parsing of password when using redis clusters, previously this included the basic authentication separator :  as part of the password.\nFixes parsing of database when using redis node pools, previously the default database 0 was always returned.\nMoves these functions into RedisClientConnectionProperties so that they can be shared between redis types.", "createdAt": "2020-09-09T18:37:49Z", "url": "https://github.com/spinnaker/kork/pull/778", "merged": true, "mergeCommit": {"oid": "73e2a515ee31a42a7a4fe820102348990619e342"}, "closed": true, "closedAt": "2020-09-17T00:33:30Z", "author": {"login": "bluestealth"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdHTrSbgBqjM3NDgwMjk0Mzc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdJl6Z1AFqTQ5MDE0MzYxOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c7489f37e87763784e17ce74dae1a5292696eb25", "author": {"user": {"login": "bluestealth", "name": "Michael Dempsey"}}, "url": "https://github.com/spinnaker/kork/commit/c7489f37e87763784e17ce74dae1a5292696eb25", "committedDate": "2020-09-09T18:33:04Z", "message": "refactor(redis): move connection uri functions into common object"}, "afterCommit": {"oid": "d048129e65413c58158737aabde4d2b1b4c3b71a", "author": {"user": {"login": "bluestealth", "name": "Michael Dempsey"}}, "url": "https://github.com/spinnaker/kork/commit/d048129e65413c58158737aabde4d2b1b4c3b71a", "committedDate": "2020-09-09T22:09:47Z", "message": "refactor(redis): move connection uri functions into common object"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg1NTA3NDE3", "url": "https://github.com/spinnaker/kork/pull/778#pullrequestreview-485507417", "createdAt": "2020-09-10T01:36:38Z", "commit": {"oid": "d048129e65413c58158737aabde4d2b1b4c3b71a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMFQwMTozNjozOFrOHPfxnw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMFQwMTozNjozOFrOHPfxnw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjAxMTI5NQ==", "bodyText": "could you add some unit tests around this class", "url": "https://github.com/spinnaker/kork/pull/778#discussion_r486011295", "createdAt": "2020-09-10T01:36:38Z", "author": {"login": "cfieber"}, "path": "kork-jedis/src/main/java/com/netflix/spinnaker/kork/jedis/RedisClientConnectionProperties.java", "diffHunk": "@@ -0,0 +1,55 @@\n+/*\n+ * Copyright 2020 Netflix, Inc.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *    http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package com.netflix.spinnaker.kork.jedis;\n+\n+import java.net.URI;\n+import redis.clients.jedis.Protocol;\n+\n+public class RedisClientConnectionProperties {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d048129e65413c58158737aabde4d2b1b4c3b71a"}, "originalPosition": 21}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d048129e65413c58158737aabde4d2b1b4c3b71a", "author": {"user": {"login": "bluestealth", "name": "Michael Dempsey"}}, "url": "https://github.com/spinnaker/kork/commit/d048129e65413c58158737aabde4d2b1b4c3b71a", "committedDate": "2020-09-09T22:09:47Z", "message": "refactor(redis): move connection uri functions into common object"}, "afterCommit": {"oid": "71d0a0546b3652a90eaca7ab8a68423ca422ed8d", "author": {"user": {"login": "bluestealth", "name": "Michael Dempsey"}}, "url": "https://github.com/spinnaker/kork/commit/71d0a0546b3652a90eaca7ab8a68423ca422ed8d", "committedDate": "2020-09-10T03:52:30Z", "message": "add unit tests for RedisClientConnectionProperties"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0481c2fed9cba67e996e5b6de019ca2f3060b1e6", "author": {"user": {"login": "bluestealth", "name": "Michael Dempsey"}}, "url": "https://github.com/spinnaker/kork/commit/0481c2fed9cba67e996e5b6de019ca2f3060b1e6", "committedDate": "2020-09-15T00:28:16Z", "message": "fix(redis): fix off-by-one error in parsing redis cluster password"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "497881f6d4e5f44d4864cf4c1e4654935dae6312", "author": {"user": {"login": "bluestealth", "name": "Michael Dempsey"}}, "url": "https://github.com/spinnaker/kork/commit/497881f6d4e5f44d4864cf4c1e4654935dae6312", "committedDate": "2020-09-15T00:28:34Z", "message": "fix(redis): parse actual database from uri path"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "eca3dc82bb37b066d0a482dbe18decbc0ed09652", "author": {"user": {"login": "bluestealth", "name": "Michael Dempsey"}}, "url": "https://github.com/spinnaker/kork/commit/eca3dc82bb37b066d0a482dbe18decbc0ed09652", "committedDate": "2020-09-15T00:28:35Z", "message": "refactor(redis): move connection uri functions into common object"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8534077067c86b1f484d666deff60e0b67154d2b", "author": {"user": {"login": "bluestealth", "name": "Michael Dempsey"}}, "url": "https://github.com/spinnaker/kork/commit/8534077067c86b1f484d666deff60e0b67154d2b", "committedDate": "2020-09-15T00:28:36Z", "message": "add unit tests for RedisClientConnectionProperties"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "71d0a0546b3652a90eaca7ab8a68423ca422ed8d", "author": {"user": {"login": "bluestealth", "name": "Michael Dempsey"}}, "url": "https://github.com/spinnaker/kork/commit/71d0a0546b3652a90eaca7ab8a68423ca422ed8d", "committedDate": "2020-09-10T03:52:30Z", "message": "add unit tests for RedisClientConnectionProperties"}, "afterCommit": {"oid": "8534077067c86b1f484d666deff60e0b67154d2b", "author": {"user": {"login": "bluestealth", "name": "Michael Dempsey"}}, "url": "https://github.com/spinnaker/kork/commit/8534077067c86b1f484d666deff60e0b67154d2b", "committedDate": "2020-09-15T00:28:36Z", "message": "add unit tests for RedisClientConnectionProperties"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkwMTQzNjE5", "url": "https://github.com/spinnaker/kork/pull/778#pullrequestreview-490143619", "createdAt": "2020-09-17T00:32:50Z", "commit": {"oid": "8534077067c86b1f484d666deff60e0b67154d2b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1486, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}