{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYwNjY4NzY3", "number": 461, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOFQyMjoyNzo0MVrODWsA1A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNFQxNzozODo1OVrODX7qmg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI1MTE2MzcyOnYy", "diffSide": "RIGHT", "path": "kork-secrets/src/main/java/com/netflix/spinnaker/kork/secrets/engines/AbstractStorageSecretEngine.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOFQyMjoyNzo0MVrOFblxYg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOFQyMjozNDo0NVrOFbl7WQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDQ3NDcyMg==", "bodyText": "Small nit - If all you're doing in getYamlParser() is returning a new Yaml() why not just make this line new Yaml().load(...) and eliminate the extra method?", "url": "https://github.com/spinnaker/kork/pull/461#discussion_r364474722", "createdAt": "2020-01-08T22:27:41Z", "author": {"login": "ethanfrogers"}, "path": "kork-secrets/src/main/java/com/netflix/spinnaker/kork/secrets/engines/AbstractStorageSecretEngine.java", "diffHunk": "@@ -110,7 +114,7 @@ protected abstract InputStream downloadRemoteFile(EncryptedSecret encryptedSecre\n   }\n \n   protected void parseAsYaml(String fileURI, InputStream inputStream) {\n-    Map<String, Object> parsed = yamlParser.load(inputStream);\n+    Map<String, Object> parsed = getYamlParser().load(inputStream);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a94402f0efe07b20abec21866f115dad9bf4baa3"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDQ3Njc3Ng==", "bodyText": "Since the original yamlParser was a protected variable, I wanted to preserve that for possible child classes and created a protected method, but just creating a new Yaml instance in place also works.", "url": "https://github.com/spinnaker/kork/pull/461#discussion_r364476776", "createdAt": "2020-01-08T22:33:24Z", "author": {"login": "german-muzquiz"}, "path": "kork-secrets/src/main/java/com/netflix/spinnaker/kork/secrets/engines/AbstractStorageSecretEngine.java", "diffHunk": "@@ -110,7 +114,7 @@ protected abstract InputStream downloadRemoteFile(EncryptedSecret encryptedSecre\n   }\n \n   protected void parseAsYaml(String fileURI, InputStream inputStream) {\n-    Map<String, Object> parsed = yamlParser.load(inputStream);\n+    Map<String, Object> parsed = getYamlParser().load(inputStream);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDQ3NDcyMg=="}, "originalCommit": {"oid": "a94402f0efe07b20abec21866f115dad9bf4baa3"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDQ3NzI3Mw==", "bodyText": "Either way is fine. Just curious!", "url": "https://github.com/spinnaker/kork/pull/461#discussion_r364477273", "createdAt": "2020-01-08T22:34:45Z", "author": {"login": "ethanfrogers"}, "path": "kork-secrets/src/main/java/com/netflix/spinnaker/kork/secrets/engines/AbstractStorageSecretEngine.java", "diffHunk": "@@ -110,7 +114,7 @@ protected abstract InputStream downloadRemoteFile(EncryptedSecret encryptedSecre\n   }\n \n   protected void parseAsYaml(String fileURI, InputStream inputStream) {\n-    Map<String, Object> parsed = yamlParser.load(inputStream);\n+    Map<String, Object> parsed = getYamlParser().load(inputStream);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDQ3NDcyMg=="}, "originalCommit": {"oid": "a94402f0efe07b20abec21866f115dad9bf4baa3"}, "originalPosition": 27}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI2NDIxNDAyOnYy", "diffSide": "RIGHT", "path": "kork-secrets/src/main/java/com/netflix/spinnaker/kork/secrets/engines/AbstractStorageSecretEngine.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNFQxNzozODo1OVrOFdgDLg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNFQyMTozNjoxOVrOFdmkJQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjQ3ODEyNg==", "bodyText": "Can you mark it @Deprecated and use new Yaml() below?", "url": "https://github.com/spinnaker/kork/pull/461#discussion_r366478126", "createdAt": "2020-01-14T17:38:59Z", "author": {"login": "ncknt"}, "path": "kork-secrets/src/main/java/com/netflix/spinnaker/kork/secrets/engines/AbstractStorageSecretEngine.java", "diffHunk": "@@ -92,6 +90,12 @@ public EncryptedSecret encrypt(String secretToEncrypt) throws UnsupportedOperati\n     throw new UnsupportedOperationException(\"This operation is not supported\");\n   }\n \n+  protected Yaml getYamlParser() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0f123bb5e06c56fcf208b41e032dd7fb47f9d7c8"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjU4MjM5OQ==", "bodyText": "Was thinking of deprecating this method, not just the field and use new Yaml() below. The method is useless now.", "url": "https://github.com/spinnaker/kork/pull/461#discussion_r366582399", "createdAt": "2020-01-14T21:30:45Z", "author": {"login": "ncknt"}, "path": "kork-secrets/src/main/java/com/netflix/spinnaker/kork/secrets/engines/AbstractStorageSecretEngine.java", "diffHunk": "@@ -92,6 +90,12 @@ public EncryptedSecret encrypt(String secretToEncrypt) throws UnsupportedOperati\n     throw new UnsupportedOperationException(\"This operation is not supported\");\n   }\n \n+  protected Yaml getYamlParser() {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjQ3ODEyNg=="}, "originalCommit": {"oid": "0f123bb5e06c56fcf208b41e032dd7fb47f9d7c8"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjU4NDg2OQ==", "bodyText": "The method is new in this PR, I created it instead of using new Yaml() inline because I saw that the variable was protected, and wanted to keep the ability for subclasses to get an instance of the yaml parser.\nI'll remove it since it just created more confusion.", "url": "https://github.com/spinnaker/kork/pull/461#discussion_r366584869", "createdAt": "2020-01-14T21:36:19Z", "author": {"login": "german-muzquiz"}, "path": "kork-secrets/src/main/java/com/netflix/spinnaker/kork/secrets/engines/AbstractStorageSecretEngine.java", "diffHunk": "@@ -92,6 +90,12 @@ public EncryptedSecret encrypt(String secretToEncrypt) throws UnsupportedOperati\n     throw new UnsupportedOperationException(\"This operation is not supported\");\n   }\n \n+  protected Yaml getYamlParser() {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjQ3ODEyNg=="}, "originalCommit": {"oid": "0f123bb5e06c56fcf208b41e032dd7fb47f9d7c8"}, "originalPosition": 13}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3655, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}