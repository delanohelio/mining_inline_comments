{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE4ODMwMzYx", "number": 653, "title": "refactor(security): refactor AuthenticatedRequest to support generic UserDetails", "bodyText": "deprecates User and updates interactions to support UserDetails instead of User.\nadds support for encoding allowedAccounts as granted authorities", "createdAt": "2020-05-15T21:33:04Z", "url": "https://github.com/spinnaker/kork/pull/653", "merged": true, "mergeCommit": {"oid": "079e1820f20d33c26f824e5c07b02adb3d686910"}, "closed": true, "closedAt": "2020-05-15T23:22:18Z", "author": {"login": "cfieber"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABchoT6SAH2gAyNDE4ODMwMzYxOjU3MjQ3NGMwZTVjZDExMzRkNTg5ZWRjYzRmOWY1NTgyOGYyZGMxNTE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABchqX-bgH2gAyNDE4ODMwMzYxOmU0ZTI1OWRlNzQ0Y2RiYmVjMjA0Y2ZhYTY5MDQyOTFiMjEyNWE3OWY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "572474c0e5cd1134d589edcc4f9f55828f2dc151", "author": {"user": {"login": "cfieber", "name": "Cameron Fieber"}}, "url": "https://github.com/spinnaker/kork/commit/572474c0e5cd1134d589edcc4f9f55828f2dc151", "committedDate": "2020-05-15T20:43:32Z", "message": "refactor(security): refactor AuthenticatedRequest to support generic UserDetails\n\ndeprecates User and updates interactions to support UserDetails instead of User.\nadds support for encoding allowedAccounts as granted authorities"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4c0e65865700d5de1c356f957ccfe7f2054b8343", "author": {"user": {"login": "cfieber", "name": "Cameron Fieber"}}, "url": "https://github.com/spinnaker/kork/commit/4c0e65865700d5de1c356f957ccfe7f2054b8343", "committedDate": "2020-05-15T20:43:32Z", "message": "feat(auth): introduce extension point for customizing AuthenticatedRequest identity opinions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "af7ebfcdceee65281a66f715e52d8cf0b13fd7f1", "author": {"user": {"login": "cfieber", "name": "Cameron Fieber"}}, "url": "https://github.com/spinnaker/kork/commit/af7ebfcdceee65281a66f715e52d8cf0b13fd7f1", "committedDate": "2020-05-15T21:32:49Z", "message": "feat(auth): adds runAs to AuthenticatedRequest\n\ndeprecates propagate with principal in favor of runAs which just takes the username\nand allowed accounts to use (callers no longer have to construct a specific User object\nto run as a specific user)."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEzMDEwOTQx", "url": "https://github.com/spinnaker/kork/pull/653#pullrequestreview-413010941", "createdAt": "2020-05-15T23:02:49Z", "commit": {"oid": "af7ebfcdceee65281a66f715e52d8cf0b13fd7f1"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNVQyMzowMjo0OVrOGWV-ew==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNVQyMzowMjo0OVrOGWV-ew==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjA4MTkxNQ==", "bodyText": "how did this get past the spotless cop? \ud83d\udc6e\u200d\u2642\ufe0f", "url": "https://github.com/spinnaker/kork/pull/653#discussion_r426081915", "createdAt": "2020-05-15T23:02:49Z", "author": {"login": "dreynaud"}, "path": "kork-security/src/main/java/com/netflix/spinnaker/security/AuthenticatedRequest.java", "diffHunk": "@@ -20,19 +20,98 @@\n \n import com.google.common.base.Preconditions;\n import com.netflix.spinnaker.kork.common.Header;\n-import java.util.HashMap;\n-import java.util.Map;\n-import java.util.Optional;\n-import java.util.UUID;\n+import java.util.*;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "af7ebfcdceee65281a66f715e52d8cf0b13fd7f1"}, "originalPosition": 8}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEzMDExNzU0", "url": "https://github.com/spinnaker/kork/pull/653#pullrequestreview-413011754", "createdAt": "2020-05-15T23:05:47Z", "commit": {"oid": "af7ebfcdceee65281a66f715e52d8cf0b13fd7f1"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e4e259de744cdbbec204cfaa6904291b2125a79f", "author": {"user": {"login": "cfieber", "name": "Cameron Fieber"}}, "url": "https://github.com/spinnaker/kork/commit/e4e259de744cdbbec204cfaa6904291b2125a79f", "committedDate": "2020-05-15T23:07:47Z", "message": "chore(imports): import specific not *"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1527, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}