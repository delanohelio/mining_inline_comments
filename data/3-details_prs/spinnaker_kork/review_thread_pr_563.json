{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkxMTQxMTUx", "number": 563, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOVQxNzo1MzoxNVrODpnbjg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQxODowMzoxN1rOEFJXiw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ0OTY0MjM4OnYy", "diffSide": "RIGHT", "path": "spinnaker-dependencies/spinnaker-dependencies.gradle", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOVQxNzo1MzoxNVrOF45-DQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNVQxOTowNjoxNVrOF7qM1A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTIxNDM0OQ==", "bodyText": "This is unnecessary: The AWS SDK BOM is included just 2 lines up.", "url": "https://github.com/spinnaker/kork/pull/563#discussion_r395214349", "createdAt": "2020-03-19T17:53:15Z", "author": {"login": "robzienert"}, "path": "spinnaker-dependencies/spinnaker-dependencies.gradle", "diffHunk": "@@ -58,6 +58,7 @@ dependencies {\n   api(platform(\"org.springframework.boot:spring-boot-dependencies:${versions.springBoot}\"))\n   api(platform(\"com.amazonaws:aws-java-sdk-bom:${versions.aws}\"))\n   api(platform(\"org.springframework.cloud:spring-cloud-dependencies:${versions.springCloud}\"))\n+  api(platform(\"com.amazonaws:aws-java-sdk-s3:${versions.aws}\"))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d0c966b56a09169a174c36cd7ad3a36e46fa901c"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODEwMTcxNg==", "bodyText": "done", "url": "https://github.com/spinnaker/kork/pull/563#discussion_r398101716", "createdAt": "2020-03-25T19:06:15Z", "author": {"login": "titirigaiulian"}, "path": "spinnaker-dependencies/spinnaker-dependencies.gradle", "diffHunk": "@@ -58,6 +58,7 @@ dependencies {\n   api(platform(\"org.springframework.boot:spring-boot-dependencies:${versions.springBoot}\"))\n   api(platform(\"com.amazonaws:aws-java-sdk-bom:${versions.aws}\"))\n   api(platform(\"org.springframework.cloud:spring-cloud-dependencies:${versions.springCloud}\"))\n+  api(platform(\"com.amazonaws:aws-java-sdk-s3:${versions.aws}\"))", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTIxNDM0OQ=="}, "originalCommit": {"oid": "d0c966b56a09169a174c36cd7ad3a36e46fa901c"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ0OTY0Mjg1OnYy", "diffSide": "RIGHT", "path": "spinnaker-dependencies/spinnaker-dependencies.gradle", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOVQxNzo1MzoyM1rOF45-XA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNVQxOTowNjozNVrOF7qNpA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTIxNDQyOA==", "bodyText": "Why?", "url": "https://github.com/spinnaker/kork/pull/563#discussion_r395214428", "createdAt": "2020-03-19T17:53:23Z", "author": {"login": "robzienert"}, "path": "spinnaker-dependencies/spinnaker-dependencies.gradle", "diffHunk": "@@ -123,7 +124,7 @@ dependencies {\n     api(\"commons-io:commons-io:2.5\")\n     api(\"de.danielbechler:java-object-diff:0.95\")\n     api(\"de.huxhorn.sulky:de.huxhorn.sulky.ulid:8.2.0\")\n-    api(\"dev.minutest:minutest:1.11.0\")\n+    api(\"dev.minutest:minutest:1.10.0\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d0c966b56a09169a174c36cd7ad3a36e46fa901c"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODEwMTkyNA==", "bodyText": "Rebase leftover. Done", "url": "https://github.com/spinnaker/kork/pull/563#discussion_r398101924", "createdAt": "2020-03-25T19:06:35Z", "author": {"login": "titirigaiulian"}, "path": "spinnaker-dependencies/spinnaker-dependencies.gradle", "diffHunk": "@@ -123,7 +124,7 @@ dependencies {\n     api(\"commons-io:commons-io:2.5\")\n     api(\"de.danielbechler:java-object-diff:0.95\")\n     api(\"de.huxhorn.sulky:de.huxhorn.sulky.ulid:8.2.0\")\n-    api(\"dev.minutest:minutest:1.11.0\")\n+    api(\"dev.minutest:minutest:1.10.0\")", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTIxNDQyOA=="}, "originalCommit": {"oid": "d0c966b56a09169a174c36cd7ad3a36e46fa901c"}, "originalPosition": 22}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ1MjQ0NjQ1OnYy", "diffSide": "RIGHT", "path": "kork-config/src/main/java/com/netflix/spinnaker/kork/configserver/autoconfig/SpringCloudAwsConfiguration.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMFQxNDoxMjozMVrOF5VVag==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNVQxOTowNjowNVrOF7qMcg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTY2MjY5OA==", "bodyText": "Is this needed? I believe if we skip this line, the default credential is used either way.", "url": "https://github.com/spinnaker/kork/pull/563#discussion_r395662698", "createdAt": "2020-03-20T14:12:31Z", "author": {"login": "costimuraru"}, "path": "kork-config/src/main/java/com/netflix/spinnaker/kork/configserver/autoconfig/SpringCloudAwsConfiguration.java", "diffHunk": "@@ -0,0 +1,23 @@\n+package com.netflix.spinnaker.kork.configserver.autoconfig;\n+\n+import com.amazonaws.auth.DefaultAWSCredentialsProviderChain;\n+import com.amazonaws.services.s3.AmazonS3Client;\n+import com.amazonaws.services.s3.AmazonS3ClientBuilder;\n+import org.springframework.cloud.config.server.environment.AwsS3EnvironmentProperties;\n+import org.springframework.context.annotation.Bean;\n+import org.springframework.context.annotation.Configuration;\n+import org.springframework.context.annotation.Profile;\n+\n+@Profile(\"awss3\")\n+@Configuration\n+class SpringCloudAwsConfiguration {\n+\n+  @Bean\n+  public static AmazonS3Client amazonS3(AwsS3EnvironmentProperties s3EnvironmentProperties) {\n+    return (AmazonS3Client)\n+        AmazonS3ClientBuilder.standard()\n+            .withRegion(s3EnvironmentProperties.getRegion())\n+            .withCredentials(new DefaultAWSCredentialsProviderChain())", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bceb72794a019811f0c2c8b4bf50b75c95aaac33"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODEwMTYxOA==", "bodyText": "done", "url": "https://github.com/spinnaker/kork/pull/563#discussion_r398101618", "createdAt": "2020-03-25T19:06:05Z", "author": {"login": "titirigaiulian"}, "path": "kork-config/src/main/java/com/netflix/spinnaker/kork/configserver/autoconfig/SpringCloudAwsConfiguration.java", "diffHunk": "@@ -0,0 +1,23 @@\n+package com.netflix.spinnaker.kork.configserver.autoconfig;\n+\n+import com.amazonaws.auth.DefaultAWSCredentialsProviderChain;\n+import com.amazonaws.services.s3.AmazonS3Client;\n+import com.amazonaws.services.s3.AmazonS3ClientBuilder;\n+import org.springframework.cloud.config.server.environment.AwsS3EnvironmentProperties;\n+import org.springframework.context.annotation.Bean;\n+import org.springframework.context.annotation.Configuration;\n+import org.springframework.context.annotation.Profile;\n+\n+@Profile(\"awss3\")\n+@Configuration\n+class SpringCloudAwsConfiguration {\n+\n+  @Bean\n+  public static AmazonS3Client amazonS3(AwsS3EnvironmentProperties s3EnvironmentProperties) {\n+    return (AmazonS3Client)\n+        AmazonS3ClientBuilder.standard()\n+            .withRegion(s3EnvironmentProperties.getRegion())\n+            .withCredentials(new DefaultAWSCredentialsProviderChain())", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTY2MjY5OA=="}, "originalCommit": {"oid": "bceb72794a019811f0c2c8b4bf50b75c95aaac33"}, "originalPosition": 20}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjczODMxODE5OnYy", "diffSide": "RIGHT", "path": "kork-config/kork-config.gradle", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQxODowMzoxN1rOGjNGnA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQxODowMzoxN1rOGjNGnA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTU2ODAyOA==", "bodyText": "I believe these should be implementation not api", "url": "https://github.com/spinnaker/kork/pull/563#discussion_r439568028", "createdAt": "2020-06-12T18:03:17Z", "author": {"login": "cfieber"}, "path": "kork-config/kork-config.gradle", "diffHunk": "@@ -11,6 +11,8 @@ dependencies {\n \n   api \"org.springframework.cloud:spring-cloud-context\"\n   api \"org.springframework.cloud:spring-cloud-config-server\"\n+  api \"org.springframework.cloud:spring-cloud-aws-context\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a792e0b62e6a084a39fada0a833b6375f44f0314"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3624, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}