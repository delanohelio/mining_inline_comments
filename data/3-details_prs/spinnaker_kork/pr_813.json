{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA5MTc2NDM4", "number": 813, "title": "feat(api): Move ExpressionFunctionProvider to API", "bodyText": "Migrated from Kotlin -> Java. Same exact functionaliity. New package, though, so this PR will break built-in integrations in Orca and... Echo, requiring a small adjustment.", "createdAt": "2020-10-23T19:34:08Z", "url": "https://github.com/spinnaker/kork/pull/813", "merged": true, "mergeCommit": {"oid": "6d465ad350a8f83d96824d888e1661f0651dd9e1"}, "closed": true, "closedAt": "2020-10-29T21:06:07Z", "author": {"login": "robzienert"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdVcTQOgFqTUxNTk3OTU0NA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdXYpBGgH2gAyNTA5MTc2NDM4OjM3MDM2MDMyYjIxNTU0ODAyMzA3YzQ3NTMxYzRhM2Y0MDNmMWI1NWE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE1OTc5NTQ0", "url": "https://github.com/spinnaker/kork/pull/813#pullrequestreview-515979544", "createdAt": "2020-10-23T20:08:01Z", "commit": {"oid": "f67c17814c6f5d6c2b09e0264433ff1fdb8da477"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE3MjAyNzM3", "url": "https://github.com/spinnaker/kork/pull/813#pullrequestreview-517202737", "createdAt": "2020-10-26T21:51:06Z", "commit": {"oid": "f67c17814c6f5d6c2b09e0264433ff1fdb8da477"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQyMTo1MTowNlrOHojwKA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQyMTo1MTowNlrOHojwKA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjI5MDg1Ng==", "bodyText": "not necessary by any means but do you think it would be worthwhile to leave this here as a deprecated noop interface extending the new ExpressionFunctionProvider in -api?", "url": "https://github.com/spinnaker/kork/pull/813#discussion_r512290856", "createdAt": "2020-10-26T21:51:06Z", "author": {"login": "cfieber"}, "path": "kork-expressions/src/main/kotlin/com/netflix/spinnaker/kork/expressions/ExpressionFunctionProvider.kt", "diffHunk": "@@ -1,151 +0,0 @@\n-/*\n- * Copyright 2019 Netflix, Inc.\n- *\n- * Licensed under the Apache License, Version 2.0 (the \"License\");\n- * you may not use this file except in compliance with the License.\n- * You may obtain a copy of the License at\n- *\n- *   http://www.apache.org/licenses/LICENSE-2.0\n- *\n- * Unless required by applicable law or agreed to in writing, software\n- * distributed under the License is distributed on an \"AS IS\" BASIS,\n- * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n- * See the License for the specific language governing permissions and\n- * limitations under the License.\n- */\n-package com.netflix.spinnaker.kork.expressions\n-\n-import org.pf4j.ExtensionPoint\n-\n-/**\n- * Provides a contract for adding new function definitions for SpEL evaluation.\n- *\n- * The SpEL expression evaluator expects the the function implementations are\n- * included in the same concrete class as the [ExpressionFunctionProvider], with\n- * method names matching those defined in the [functions] definitions.\n- *\n- * ```\n- *  class HelloFunctionProvider : ExpressionFunctionProvider {\n- *    override fun getNamespace(): String? = \"netflix\"\n- *    override fun getFunctions(): Functions =\n- *      Functions(\n- *        \"hello\",\n- *        FunctionParameter(\n- *          Execution::class.java,\n- *          \"execution\",\n- *          \"The pipeline execution object that this function is being invoked on\"\n- *        )\n- *      )\n- *\n- *    @JvmStatic\n- *    fun hello(execution: Execution): String =\n- *      \"Hello, ${execution.id}\"\n- *  }\n- * ```\n- *\n- * The above function provider could then be called in a SpEL expression:\n- *\n- * ```\n- * ${netflix.hello()}\n- * ```\n- */\n-interface ExpressionFunctionProvider : ExtensionPoint {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f67c17814c6f5d6c2b09e0264433ff1fdb8da477"}, "originalPosition": 52}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f67c17814c6f5d6c2b09e0264433ff1fdb8da477", "author": {"user": {"login": "robzienert", "name": "Rob Zienert"}}, "url": "https://github.com/spinnaker/kork/commit/f67c17814c6f5d6c2b09e0264433ff1fdb8da477", "committedDate": "2020-10-23T19:14:07Z", "message": "feat(api): Move ExpressionFunctionProvider to API"}, "afterCommit": {"oid": "39b720e58168bf0e34b3dd6b3950154c108755ca", "author": {"user": {"login": "robzienert", "name": "Rob Zienert"}}, "url": "https://github.com/spinnaker/kork/commit/39b720e58168bf0e34b3dd6b3950154c108755ca", "committedDate": "2020-10-28T16:22:12Z", "message": "feat(api): Move ExpressionFunctionProvider to API"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ba52a722b703adbb9436c0aa0dcbafd86f9a2470", "author": {"user": {"login": "robzienert", "name": "Rob Zienert"}}, "url": "https://github.com/spinnaker/kork/commit/ba52a722b703adbb9436c0aa0dcbafd86f9a2470", "committedDate": "2020-10-29T20:53:53Z", "message": "feat(api): Move ExpressionFunctionProvider to API"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "39b720e58168bf0e34b3dd6b3950154c108755ca", "author": {"user": {"login": "robzienert", "name": "Rob Zienert"}}, "url": "https://github.com/spinnaker/kork/commit/39b720e58168bf0e34b3dd6b3950154c108755ca", "committedDate": "2020-10-28T16:22:12Z", "message": "feat(api): Move ExpressionFunctionProvider to API"}, "afterCommit": {"oid": "ba52a722b703adbb9436c0aa0dcbafd86f9a2470", "author": {"user": {"login": "robzienert", "name": "Rob Zienert"}}, "url": "https://github.com/spinnaker/kork/commit/ba52a722b703adbb9436c0aa0dcbafd86f9a2470", "committedDate": "2020-10-29T20:53:53Z", "message": "feat(api): Move ExpressionFunctionProvider to API"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "37036032b21554802307c47531c4a3f403f1b55a", "author": {"user": {"login": "mergify[bot]", "name": null}}, "url": "https://github.com/spinnaker/kork/commit/37036032b21554802307c47531c4a3f403f1b55a", "committedDate": "2020-10-29T21:00:01Z", "message": "Merge branch 'master' into expression-helpers-api"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1424, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}