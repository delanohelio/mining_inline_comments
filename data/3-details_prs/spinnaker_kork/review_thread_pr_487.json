{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY2NjQ0ODY4", "number": 487, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yNFQwMjozMzozNlrODaXyog==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yNFQxODo0MzozMFrODak4EA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI4OTc5MzYyOnYy", "diffSide": "LEFT", "path": "kork-plugins/src/main/kotlin/com/netflix/spinnaker/kork/plugins/update/PluginUpdateService.kt", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yNFQwMjozMzozNlrOFhSlPA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yNFQwMjozMzozNlrOFhSlPA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDQ1MTc3Mg==", "bodyText": "Minor -- Going to switch Gate's DeckPluginCache over to using the SpinnakerUpdateManager downloadPluginRelease since it has a dependency on UpdateManager already, and then we can remove PluginUpdateService as a dependency in DeckPluginCache.", "url": "https://github.com/spinnaker/kork/pull/487#discussion_r370451772", "createdAt": "2020-01-24T02:33:36Z", "author": {"login": "jonsie"}, "path": "kork-plugins/src/main/kotlin/com/netflix/spinnaker/kork/plugins/update/PluginUpdateService.kt", "diffHunk": "@@ -58,13 +57,6 @@ class PluginUpdateService(\n     installNewPlugins()\n   }\n \n-  /**\n-   * This is used in Gate to download Deck plugin artifacts - do not remove and must remain public.\n-   */\n-  fun download(pluginId: String, version: String): Path {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f543366c392cafde3a435419d84848bae4bd4990"}, "originalPosition": 27}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI5MTkyOTQ2OnYy", "diffSide": "RIGHT", "path": "kork-plugins/src/main/kotlin/com/netflix/spinnaker/kork/plugins/update/PluginUpdateService.kt", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yNFQxODo0MDo0OFrOFhmxpg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yNFQxODo0MjoyNVrOFhm0pQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDc4MjYzMA==", "bodyText": "What does this marker do? I've never seen that before.", "url": "https://github.com/spinnaker/kork/pull/487#discussion_r370782630", "createdAt": "2020-01-24T18:40:48Z", "author": {"login": "robzienert"}, "path": "kork-plugins/src/main/kotlin/com/netflix/spinnaker/kork/plugins/update/PluginUpdateService.kt", "diffHunk": "@@ -74,10 +66,12 @@ class PluginUpdateService(\n     val updates = updateManager.updates\n     log.debug(\"Found {} plugin updates\", updates.size)\n \n-    updates.forEach { plugin ->\n+    updates.forEach updates@{ plugin ->", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "af26069174a1a52be3df8cee50e295a786be0770"}, "originalPosition": 39}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDc4Mjc1Mg==", "bodyText": "(Seen it on return statements, but not this)", "url": "https://github.com/spinnaker/kork/pull/487#discussion_r370782752", "createdAt": "2020-01-24T18:41:04Z", "author": {"login": "robzienert"}, "path": "kork-plugins/src/main/kotlin/com/netflix/spinnaker/kork/plugins/update/PluginUpdateService.kt", "diffHunk": "@@ -74,10 +66,12 @@ class PluginUpdateService(\n     val updates = updateManager.updates\n     log.debug(\"Found {} plugin updates\", updates.size)\n \n-    updates.forEach { plugin ->\n+    updates.forEach updates@{ plugin ->", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDc4MjYzMA=="}, "originalCommit": {"oid": "af26069174a1a52be3df8cee50e295a786be0770"}, "originalPosition": 39}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDc4MzM5Nw==", "bodyText": "Ohh... you name scopes and return from that in Kotlin. Yeah, nice.", "url": "https://github.com/spinnaker/kork/pull/487#discussion_r370783397", "createdAt": "2020-01-24T18:42:25Z", "author": {"login": "robzienert"}, "path": "kork-plugins/src/main/kotlin/com/netflix/spinnaker/kork/plugins/update/PluginUpdateService.kt", "diffHunk": "@@ -74,10 +66,12 @@ class PluginUpdateService(\n     val updates = updateManager.updates\n     log.debug(\"Found {} plugin updates\", updates.size)\n \n-    updates.forEach { plugin ->\n+    updates.forEach updates@{ plugin ->", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDc4MjYzMA=="}, "originalCommit": {"oid": "af26069174a1a52be3df8cee50e295a786be0770"}, "originalPosition": 39}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI5MTkzNzQ0OnYy", "diffSide": "RIGHT", "path": "kork-plugins/src/main/kotlin/com/netflix/spinnaker/kork/plugins/update/front50/Front50Service.kt", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yNFQxODo0MzozMFrOFhm2bA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yNFQxODo0Mzo1N1rOFhm3Ww==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDc4Mzg1Mg==", "bodyText": "We don't use this endpoint anymore, do we? Why not just remove it?", "url": "https://github.com/spinnaker/kork/pull/487#discussion_r370783852", "createdAt": "2020-01-24T18:43:30Z", "author": {"login": "robzienert"}, "path": "kork-plugins/src/main/kotlin/com/netflix/spinnaker/kork/plugins/update/front50/Front50Service.kt", "diffHunk": "@@ -33,5 +33,8 @@ interface Front50Service {\n   fun getById(@Path(\"id\") id: String): Call<SpinnakerPluginInfo>\n \n   @GET(\"/pluginInfo\")\n-  fun list(@Query(\"service\") service: String): Call<Collection<SpinnakerPluginInfo>>\n+  fun listByService(@Query(\"service\") service: String): Call<Collection<SpinnakerPluginInfo>>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "af26069174a1a52be3df8cee50e295a786be0770"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDc4NDA5MQ==", "bodyText": "Will do.", "url": "https://github.com/spinnaker/kork/pull/487#discussion_r370784091", "createdAt": "2020-01-24T18:43:57Z", "author": {"login": "jonsie"}, "path": "kork-plugins/src/main/kotlin/com/netflix/spinnaker/kork/plugins/update/front50/Front50Service.kt", "diffHunk": "@@ -33,5 +33,8 @@ interface Front50Service {\n   fun getById(@Path(\"id\") id: String): Call<SpinnakerPluginInfo>\n \n   @GET(\"/pluginInfo\")\n-  fun list(@Query(\"service\") service: String): Call<Collection<SpinnakerPluginInfo>>\n+  fun listByService(@Query(\"service\") service: String): Call<Collection<SpinnakerPluginInfo>>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDc4Mzg1Mg=="}, "originalCommit": {"oid": "af26069174a1a52be3df8cee50e295a786be0770"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3680, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}