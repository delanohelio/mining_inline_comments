{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ3MzE2MjI0", "number": 716, "title": "feat(sql): Add PostgreSQL test container utils", "bodyText": "This adds new SQL testcontainers functionality for Postgres.\nThe no-args versions of initDatabase() and initPreviousDatabase() as marked as deprecated, since they don't seem to be in use.", "createdAt": "2020-07-10T08:55:23Z", "url": "https://github.com/spinnaker/kork/pull/716", "merged": true, "mergeCommit": {"oid": "1bddd9d5b1c80377096be9f4e606147e6ecb18f3"}, "closed": true, "closedAt": "2020-07-14T03:35:22Z", "author": {"login": "jcavanagh"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABczfxK3gBqjM1MzMwMTE3Mzg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc0tgojgH2gAyNDQ3MzE2MjI0OjlhYjFkYTZhZWNhZmZlOTZhZGU3MzEwYmFmYzIzM2NjMDk3Y2VmYjU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4b739d1db74bafa1afbcd91ca29aca12d7584c89", "author": {"user": {"login": "jcavanagh", "name": null}}, "url": "https://github.com/spinnaker/kork/commit/4b739d1db74bafa1afbcd91ca29aca12d7584c89", "committedDate": "2020-06-29T17:56:50Z", "message": "feat(sql): Add PostgreSQL test container utils"}, "afterCommit": {"oid": "be189b59102f9fb02111f46c111ca645d7c76365", "author": {"user": {"login": "jcavanagh", "name": null}}, "url": "https://github.com/spinnaker/kork/commit/be189b59102f9fb02111f46c111ca645d7c76365", "committedDate": "2020-07-10T08:56:16Z", "message": "feat(sql): Add PostgreSQL test container utils"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ2NjA0NjUy", "url": "https://github.com/spinnaker/kork/pull/716#pullrequestreview-446604652", "createdAt": "2020-07-10T18:18:42Z", "commit": {"oid": "be189b59102f9fb02111f46c111ca645d7c76365"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMFQxODoxODo0MlrOGwA-aw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMFQxODoxODo0MlrOGwA-aw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzAwMDgxMQ==", "bodyText": "When adding @Deprecated annotations, we require javadoc about the deprecation as well, since the annotation on its own isn't very useful.", "url": "https://github.com/spinnaker/kork/pull/716#discussion_r453000811", "createdAt": "2020-07-10T18:18:42Z", "author": {"login": "robzienert"}, "path": "kork-sql-test/src/main/java/com/netflix/spinnaker/kork/sql/test/SqlTestUtil.java", "diffHunk": "@@ -44,16 +44,22 @@\n import org.jooq.impl.DataSourceConnectionProvider;\n import org.jooq.impl.DefaultConfiguration;\n import org.jooq.impl.DefaultDSLContext;\n+import org.testcontainers.containers.JdbcDatabaseContainer;\n import org.testcontainers.containers.MySQLContainer;\n+import org.testcontainers.containers.PostgreSQLContainer;\n \n public class SqlTestUtil {\n \n   public static String tcJdbcUrl = \"jdbc:tc:mysql:5.7.22://somehostname:someport/somedb\";\n \n+  public static String tcPgJdbcUrl = \"jdbc:tc:postgres:10.13:///test\";\n+\n+  @Deprecated", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "be189b59102f9fb02111f46c111ca645d7c76365"}, "originalPosition": 14}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e28bd323bce425ce6e344319c42cca96449bda80", "author": {"user": {"login": "jcavanagh", "name": null}}, "url": "https://github.com/spinnaker/kork/commit/e28bd323bce425ce6e344319c42cca96449bda80", "committedDate": "2020-07-14T00:36:54Z", "message": "feat(sql): Add PostgreSQL test container utils"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "be189b59102f9fb02111f46c111ca645d7c76365", "author": {"user": {"login": "jcavanagh", "name": null}}, "url": "https://github.com/spinnaker/kork/commit/be189b59102f9fb02111f46c111ca645d7c76365", "committedDate": "2020-07-10T08:56:16Z", "message": "feat(sql): Add PostgreSQL test container utils"}, "afterCommit": {"oid": "e28bd323bce425ce6e344319c42cca96449bda80", "author": {"user": {"login": "jcavanagh", "name": null}}, "url": "https://github.com/spinnaker/kork/commit/e28bd323bce425ce6e344319c42cca96449bda80", "committedDate": "2020-07-14T00:36:54Z", "message": "feat(sql): Add PostgreSQL test container utils"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ3NzIwOTA0", "url": "https://github.com/spinnaker/kork/pull/716#pullrequestreview-447720904", "createdAt": "2020-07-14T01:24:50Z", "commit": {"oid": "e28bd323bce425ce6e344319c42cca96449bda80"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9ab1da6aecaffe96ade7310bafc233cc097cefb5", "author": {"user": {"login": "ajordens", "name": "Adam Jordens"}}, "url": "https://github.com/spinnaker/kork/commit/9ab1da6aecaffe96ade7310bafc233cc097cefb5", "committedDate": "2020-07-14T03:31:31Z", "message": "Merge branch 'master' into pg-compat-upstream"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1441, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}