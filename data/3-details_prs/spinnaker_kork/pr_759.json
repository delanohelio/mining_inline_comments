{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDcyOTU1OTU3", "number": 759, "title": "feat(plugins): Support for remote extension definitions and resolving remote extension configuration type for remote plugins/extensions", "bodyText": "Required for: spinnaker/orca#3875\nAs I was implementing the remote extension/plugin in Orca I realized it would be very useful to be able to declare a bean that defines the remote extension so we can resolve the remote extension configuration type (and anything else that may need to be resolved in the future).", "createdAt": "2020-08-25T05:50:02Z", "url": "https://github.com/spinnaker/kork/pull/759", "merged": true, "mergeCommit": {"oid": "213a715055585e5115b86d0a50f922f5b32ff916"}, "closed": true, "closedAt": "2020-08-28T23:13:09Z", "author": {"login": "jonsie"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdCQqHbAH2gAyNDcyOTU1OTU3OmU1ZjZiMDA1MTkxMWQ3ZTMwY2M1NjY1N2M2MGJjMzNjYWIwYzA3MzA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdDdP3VgH2gAyNDcyOTU1OTU3OjIwZmFmMWMyN2ZkODlmYTkyNjIzMjQyYTdjOWI0OTZlY2FjOGYwYmE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "e5f6b0051911d7e30cc56657c60bc33cab0c0730", "author": {"user": {"login": "jonsie", "name": "Chris Smalley"}}, "url": "https://github.com/spinnaker/kork/commit/e5f6b0051911d7e30cc56657c60bc33cab0c0730", "committedDate": "2020-08-25T05:49:34Z", "message": "feat(plugins): Support for remote extension definitions and resolving remote extension configuration type for remote plugins/extensions"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc0MTU1MDI2", "url": "https://github.com/spinnaker/kork/pull/759#pullrequestreview-474155026", "createdAt": "2020-08-25T05:55:41Z", "commit": {"oid": "e5f6b0051911d7e30cc56657c60bc33cab0c0730"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNVQwNTo1NTo0MVrOHGIn_Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNVQwNTo1NTo0MVrOHGIn_Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjE5NDgxMw==", "bodyText": "This works, but I feel like there may be a better way.", "url": "https://github.com/spinnaker/kork/pull/759#discussion_r476194813", "createdAt": "2020-08-25T05:55:41Z", "author": {"login": "jonsie"}, "path": "kork-plugins/src/main/kotlin/com/netflix/spinnaker/kork/plugins/remote/extension/RemoteExtension.kt", "diffHunk": "@@ -46,11 +45,16 @@ class RemoteExtension(\n    * Configuration necessary for the extension point - typically specifying something to configure\n    * prior to the remote extension invocation.\n    */\n-  val config: Map<String, Any>,\n+  val config: RemoteExtensionConfigType,\n \n   private val transport: RemoteExtensionTransport\n ) {\n \n+  @Suppress(\"UNCHECKED_CAST\")\n+  fun <T: RemoteExtensionConfigType> getTypedConfig(): T {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e5f6b0051911d7e30cc56657c60bc33cab0c0730"}, "originalPosition": 26}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc0NzQzMDQx", "url": "https://github.com/spinnaker/kork/pull/759#pullrequestreview-474743041", "createdAt": "2020-08-25T18:25:13Z", "commit": {"oid": "e5f6b0051911d7e30cc56657c60bc33cab0c0730"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNVQxODoyNToxM1rOHGkfzw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNVQxODoyNzoxN1rOHGkkUw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjY1MTQ3MQ==", "bodyText": "nit: Looks like we can clean this import up.", "url": "https://github.com/spinnaker/kork/pull/759#discussion_r476651471", "createdAt": "2020-08-25T18:25:13Z", "author": {"login": "robzienert"}, "path": "kork-plugins/src/main/kotlin/com/netflix/spinnaker/kork/plugins/remote/RemotePlugin.kt", "diffHunk": "@@ -18,6 +18,7 @@\n package com.netflix.spinnaker.kork.plugins.remote\n \n import com.netflix.spinnaker.kork.annotations.Beta\n+import com.netflix.spinnaker.kork.plugins.remote.extension.RemoteExtension", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e5f6b0051911d7e30cc56657c60bc33cab0c0730"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjY1MjYyNw==", "bodyText": "If the service is implementing this, would it not be a RemoteExtensionPointDefinition?", "url": "https://github.com/spinnaker/kork/pull/759#discussion_r476652627", "createdAt": "2020-08-25T18:27:17Z", "author": {"login": "robzienert"}, "path": "kork-plugins/src/main/kotlin/com/netflix/spinnaker/kork/plugins/remote/extension/RemoteExtensionDefinition.kt", "diffHunk": "@@ -0,0 +1,18 @@\n+package com.netflix.spinnaker.kork.plugins.remote.extension\n+\n+/**\n+ * Define properties of the remote extension. Spinnaker services must implement this and provide it\n+ * as a Spring bean in order for remote plugin extensions to be resolved from the configuration.\n+ */\n+interface RemoteExtensionDefinition {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e5f6b0051911d7e30cc56657c60bc33cab0c0730"}, "originalPosition": 7}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "efbc41d8e1a659eae3340eeae44f2cdf56b33d52", "author": {"user": {"login": "jonsie", "name": "Chris Smalley"}}, "url": "https://github.com/spinnaker/kork/commit/efbc41d8e1a659eae3340eeae44f2cdf56b33d52", "committedDate": "2020-08-27T02:33:30Z", "message": "Merge branch 'master' into remote-extension-definitions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9d8845c95795c399233a19dd6d45790c03bf7d1b", "author": {"user": {"login": "jonsie", "name": "Chris Smalley"}}, "url": "https://github.com/spinnaker/kork/commit/9d8845c95795c399233a19dd6d45790c03bf7d1b", "committedDate": "2020-08-28T19:09:28Z", "message": "Merge branch 'master' into remote-extension-definitions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1c478c64d695840a6e0acd9df69591d471c02181", "author": {"user": {"login": "jonsie", "name": "Chris Smalley"}}, "url": "https://github.com/spinnaker/kork/commit/1c478c64d695840a6e0acd9df69591d471c02181", "committedDate": "2020-08-28T19:57:18Z", "message": "fix(plugins): Better naming -> RemoteExtensionPointDefinition"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc4MDY0MzM0", "url": "https://github.com/spinnaker/kork/pull/759#pullrequestreview-478064334", "createdAt": "2020-08-28T22:59:16Z", "commit": {"oid": "1c478c64d695840a6e0acd9df69591d471c02181"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "20faf1c27fd89fa92623242a7c9b496ecac8f0ba", "author": {"user": {"login": "jonsie", "name": "Chris Smalley"}}, "url": "https://github.com/spinnaker/kork/commit/20faf1c27fd89fa92623242a7c9b496ecac8f0ba", "committedDate": "2020-08-28T23:03:35Z", "message": "fix(plugins): A few more docs"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1470, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}