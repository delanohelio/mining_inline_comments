{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY3MzYyMzYw", "number": 4402, "title": "Fix for #4005: Use `File Identifier` in metadata tab of the full metadata view", "bodyText": "Fix for #4005\nThis PR changes the use of the 'internal id' to into the 'file identifier'", "createdAt": "2020-01-27T08:09:38Z", "url": "https://github.com/geonetwork/core-geonetwork/pull/4402", "merged": true, "mergeCommit": {"oid": "71f1a9eac39a8dd4bce5c701a03a1322082c92f7"}, "closed": true, "closedAt": "2020-01-28T12:48:37Z", "author": {"login": "MichelGabriel"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb-YJl9AH2gAyMzY3MzYyMzYwOjQyOWM4NzQxMjViZGJiOTY1M2JmZmI4NTQ1ZjRiZTZlY2FmOWJmNDg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb-wyMTAFqTM0OTM0NzAzMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "429c874125bdbb9653bffb8545f4be6ecaf9bf48", "author": {"user": {"login": "MichelGabriel", "name": "Michel Gabri\u00ebl"}}, "url": "https://github.com/geonetwork/core-geonetwork/commit/429c874125bdbb9653bffb8545f4be6ecaf9bf48", "committedDate": "2020-01-27T08:06:26Z", "message": "Use `File Identifier` in metadata tab of the full metadata view"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ5MTg5MjM3", "url": "https://github.com/geonetwork/core-geonetwork/pull/4402#pullrequestreview-349189237", "createdAt": "2020-01-28T08:16:51Z", "commit": {"oid": "429c874125bdbb9653bffb8545f4be6ecaf9bf48"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOFQwODoxNjo1MlrOFicJow==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOFQwODoxNjo1MlrOFicJow==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTY1NzEyMw==", "bodyText": "You can probably simply do $metadataUuid see https://github.com/geonetwork/core-geonetwork/blob/master/web/src/main/webapp/WEB-INF/data/data/formatter/xslt/render-variables.xsl#L61\nand remove the variable.", "url": "https://github.com/geonetwork/core-geonetwork/pull/4402#discussion_r371657123", "createdAt": "2020-01-28T08:16:52Z", "author": {"login": "fxprunayre"}, "path": "schemas/iso19139/src/main/plugin/iso19139/formatter/xsl-view/view.xsl", "diffHunk": "@@ -596,14 +596,17 @@\n   <xsl:template mode=\"render-field\"\n                 match=\"gmd:fileIdentifier\"\n                 priority=\"100\">\n+    <xsl:variable name=\"fileIdentifier\">\n+      <xsl:apply-templates mode=\"render-value\" select=\"*\"/>\n+    </xsl:variable>\n     <dl>\n       <dt>\n         <xsl:value-of select=\"tr:nodeLabel(tr:create($schema), name(), null)\"/>\n       </dt>\n       <dd>\n         <xsl:apply-templates mode=\"render-value\" select=\"*\"/>\n         <xsl:apply-templates mode=\"render-value\" select=\"@*\"/>\n-        <a class=\"btn btn-default\" href=\"{$nodeUrl}api/records/{$metadataId}/formatters/xml\">\n+        <a class=\"btn btn-default\" href=\"{$nodeUrl}api/records/{$fileIdentifier}/formatters/xml\">", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "429c874125bdbb9653bffb8545f4be6ecaf9bf48"}, "originalPosition": 15}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c8a65330cc3e22cde263a82fd5a9f33150fedccf", "author": {"user": {"login": "MichelGabriel", "name": "Michel Gabri\u00ebl"}}, "url": "https://github.com/geonetwork/core-geonetwork/commit/c8a65330cc3e22cde263a82fd5a9f33150fedccf", "committedDate": "2020-01-28T12:47:28Z", "message": "Use an existing variable in stead of creating a new one"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ5MzQ3MDMz", "url": "https://github.com/geonetwork/core-geonetwork/pull/4402#pullrequestreview-349347033", "createdAt": "2020-01-28T12:48:30Z", "commit": {"oid": "c8a65330cc3e22cde263a82fd5a9f33150fedccf"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1690, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}