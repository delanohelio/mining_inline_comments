{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM1NTgyNTgw", "number": 4776, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOFQxNDoyMTozOFrOEGxegg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOFQxNDoyMTozOFrOEGxegg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc1NTM3NTM4OnYy", "diffSide": "RIGHT", "path": "web/src/main/webapp/WEB-INF/classes/setup/sql/migrate/v3110/migrate-mysql.sql", "isResolved": false, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOFQxNDoyMTozOFrOGlxqCw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOFQxNzo0MzoyN1rOGl5xIA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjI2NDA3NQ==", "bodyText": "Syntax should be updated to:\nDROP INDEX idx_metadatafiledownloads_metadataid ON MetadataFileDownloads;\nDROP INDEX idx_metadatafileuploads_metadataid ON MetadataFileUploads;\nDROP INDEX idx_operationallowed_metadataid ON OperationAllowed;", "url": "https://github.com/geonetwork/core-geonetwork/pull/4776#discussion_r442264075", "createdAt": "2020-06-18T14:21:38Z", "author": {"login": "josegar74"}, "path": "web/src/main/webapp/WEB-INF/classes/setup/sql/migrate/v3110/migrate-mysql.sql", "diffHunk": "@@ -0,0 +1,3 @@\n+DROP INDEX idx_metadatafiledownloads_metadataid;\n+DROP INDEX idx_metadatafileuploads_metadataid;\n+DROP INDEX idx_operationallowed_metadataid;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "93ab45664c70cc903badd209d0eaa034de5b22c9"}, "originalPosition": 3}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjI3ODg2NQ==", "bodyText": "I was also confuse about the migration mechanism I though both migrate-default.sql and migrate-XXXX.sql were executed for for db XXXX\nmigrate-default.sql is executed, unless specific db file is available. So we can add the drop indexes to the migrate-default.sql and create 2 files for mysql (specific syntax) and Oracle (no drop of indexes)\nThanks @juanluisrp for pointing it.", "url": "https://github.com/geonetwork/core-geonetwork/pull/4776#discussion_r442278865", "createdAt": "2020-06-18T14:40:05Z", "author": {"login": "josegar74"}, "path": "web/src/main/webapp/WEB-INF/classes/setup/sql/migrate/v3110/migrate-mysql.sql", "diffHunk": "@@ -0,0 +1,3 @@\n+DROP INDEX idx_metadatafiledownloads_metadataid;\n+DROP INDEX idx_metadatafileuploads_metadataid;\n+DROP INDEX idx_operationallowed_metadataid;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjI2NDA3NQ=="}, "originalCommit": {"oid": "93ab45664c70cc903badd209d0eaa034de5b22c9"}, "originalPosition": 3}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjI5MzQ4Ng==", "bodyText": "@josegar74  Ok, that sounds great - I'll do that.", "url": "https://github.com/geonetwork/core-geonetwork/pull/4776#discussion_r442293486", "createdAt": "2020-06-18T14:59:38Z", "author": {"login": "davidblasby"}, "path": "web/src/main/webapp/WEB-INF/classes/setup/sql/migrate/v3110/migrate-mysql.sql", "diffHunk": "@@ -0,0 +1,3 @@\n+DROP INDEX idx_metadatafiledownloads_metadataid;\n+DROP INDEX idx_metadatafileuploads_metadataid;\n+DROP INDEX idx_operationallowed_metadataid;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjI2NDA3NQ=="}, "originalCommit": {"oid": "93ab45664c70cc903badd209d0eaa034de5b22c9"}, "originalPosition": 3}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjM5Njk2MA==", "bodyText": "@josegar74 - fixed", "url": "https://github.com/geonetwork/core-geonetwork/pull/4776#discussion_r442396960", "createdAt": "2020-06-18T17:43:27Z", "author": {"login": "davidblasby"}, "path": "web/src/main/webapp/WEB-INF/classes/setup/sql/migrate/v3110/migrate-mysql.sql", "diffHunk": "@@ -0,0 +1,3 @@\n+DROP INDEX idx_metadatafiledownloads_metadataid;\n+DROP INDEX idx_metadatafileuploads_metadataid;\n+DROP INDEX idx_operationallowed_metadataid;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjI2NDA3NQ=="}, "originalCommit": {"oid": "93ab45664c70cc903badd209d0eaa034de5b22c9"}, "originalPosition": 3}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4117, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}