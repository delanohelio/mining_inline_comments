{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI4MDkyNzQ0", "number": 5219, "title": "Fix bug related to canceling working copy removes approved resource (#5214)", "bodyText": "Fixes issue #5214\nstore.delResources was not passing the correct approved flag.\nAlso fixed issue related to creating a working copy. It was not copying the resources correctly to the new metadata record. Wrong approved flag was being passed.", "createdAt": "2020-11-26T13:55:37Z", "url": "https://github.com/geonetwork/core-geonetwork/pull/5219", "merged": true, "mergeCommit": {"oid": "839387ed66b0afc2f8d921b18fbb42bbb4ca16f4"}, "closed": true, "closedAt": "2020-12-01T07:49:36Z", "author": {"login": "ianwallen"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdgTU_SAH2gAyNTI4MDkyNzQ0OjVmYzA4OTBlZWJlYzBmMzczYjk4OTMyZTQzNmJhYjE4ODg0OTkzZmY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdhmpjdgFqTU0MDk4ODIyNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "5fc0890eebec0f373b98932e436bab18884993ff", "author": {"user": {"login": "ianwallen", "name": "Ian"}}, "url": "https://github.com/geonetwork/core-geonetwork/commit/5fc0890eebec0f373b98932e436bab18884993ff", "committedDate": "2020-11-26T13:53:56Z", "message": "Fix bug related to canceling working copy removes approved resource (#5214)\nstore.delResources was not passing the correct approved flag.\nAlso fixed issue related to creating a working copy. It was not copying the resources correctly to the new metadata record. Wrong approved flag was being passed."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQwNjYzMTIy", "url": "https://github.com/geonetwork/core-geonetwork/pull/5219#pullrequestreview-540663122", "createdAt": "2020-11-30T07:53:35Z", "commit": {"oid": "5fc0890eebec0f373b98932e436bab18884993ff"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0zMFQwNzo1MzozNVrOH7vMqQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0zMFQwNzo1MzozNVrOH7vMqQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjQwMTMyMQ==", "bodyText": "I would add some additional documentation explaining the usage of these parameters.\nSeem oldApproved is always call with the value true, are there any cases where can be relevant to use the value false, if not maybe it can be removed and use only newApproved.", "url": "https://github.com/geonetwork/core-geonetwork/pull/5219#discussion_r532401321", "createdAt": "2020-11-30T07:53:35Z", "author": {"login": "josegar74"}, "path": "core/src/main/java/org/fao/geonet/api/records/attachments/StoreUtils.java", "diffHunk": "@@ -40,18 +40,20 @@\n      * @param context\n      * @param oldMetadataId               The source metadata ID\n      * @param newMetadataId               The destination metadata ID\n+     * @param oldApproved                 Old approved flag to use for the source.\n+     * @param newApproved                 New approved flag to use on the destination.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5fc0890eebec0f373b98932e436bab18884993ff"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "003a632516efb2c1b40ff0a81fc9cc4b2d039592", "author": {"user": {"login": "ianwallen", "name": "Ian"}}, "url": "https://github.com/geonetwork/core-geonetwork/commit/003a632516efb2c1b40ff0a81fc9cc4b2d039592", "committedDate": "2020-11-30T11:55:34Z", "message": "Removed oldApproved as it is always true.\nUpdated javadocs for newApproved"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQwOTg4MjI0", "url": "https://github.com/geonetwork/core-geonetwork/pull/5219#pullrequestreview-540988224", "createdAt": "2020-11-30T14:58:31Z", "commit": {"oid": "003a632516efb2c1b40ff0a81fc9cc4b2d039592"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1704, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}