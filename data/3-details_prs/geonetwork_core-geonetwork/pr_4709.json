{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIyOTI0NjYz", "number": 4709, "title": "add proxy for UrlChecker and change UserAgent", "bodyText": "cf. #4304\nA) It now configures a proxy (including hostname filtering)\nB) the user agent was changed to \"GeoNetwork Link Checker\". (cf #4677)", "createdAt": "2020-05-25T23:35:05Z", "url": "https://github.com/geonetwork/core-geonetwork/pull/4709", "merged": true, "mergeCommit": {"oid": "a9b35ed84687aa48d869209a2bb3666ea2650865"}, "closed": true, "closedAt": "2020-06-01T07:15:05Z", "author": {"login": "davidblasby"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABck4tkogH2gAyNDIyOTI0NjYzOjJlMDY3Y2JhOGJiZDk4YWNiMTBjZjYxN2NhOWM4YTU5OTJkZmRjODg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcm60blAFqTQyMTYzNDU5MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "2e067cba8bbd98acb10cf617ca9c8a5992dfdc88", "author": {"user": null}, "url": "https://github.com/geonetwork/core-geonetwork/commit/2e067cba8bbd98acb10cf617ca9c8a5992dfdc88", "committedDate": "2020-05-25T23:31:49Z", "message": "add proxy for UrlChecker and change UserAgent"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE4MDU1MDc5", "url": "https://github.com/geonetwork/core-geonetwork/pull/4709#pullrequestreview-418055079", "createdAt": "2020-05-26T07:56:22Z", "commit": {"oid": "2e067cba8bbd98acb10cf617ca9c8a5992dfdc88"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQwNzo1NjoyMlrOGaSx0A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQwNzo1NjoyMlrOGaSx0A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDIyMzgyNA==", "bodyText": "Maybe we should add a global useragent in config.properties so user can customize it if needed ?", "url": "https://github.com/geonetwork/core-geonetwork/pull/4709#discussion_r430223824", "createdAt": "2020-05-26T07:56:22Z", "author": {"login": "fxprunayre"}, "path": "core/src/main/java/org/fao/geonet/kernel/url/UrlChecker.java", "diffHunk": "@@ -51,11 +59,13 @@ public Void apply(@Nullable HttpClientBuilder originalConfig) {\n                     .setSocketTimeout(10000);\n             RequestConfig requestConfig = config.build();\n             originalConfig.setDefaultRequestConfig(requestConfig);\n-            originalConfig.setUserAgent(\"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Ubuntu Chromium/73.0.3683.86 Chrome/73.0.3683.86 Safari/537.36\");\n+            originalConfig.setUserAgent(\"GeoNetwork Link Checker\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e067cba8bbd98acb10cf617ca9c8a5992dfdc88"}, "originalPosition": 33}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "762f192f51394f808dd901949e364ce4628967ec", "author": {"user": null}, "url": "https://github.com/geonetwork/core-geonetwork/commit/762f192f51394f808dd901949e364ce4628967ec", "committedDate": "2020-05-26T18:36:33Z", "message": "add user agent config (via properties), fix test case, handle non-head requests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b469dcbd8dfa9b49aa24cd6c3870683556b02a18", "author": {"user": null}, "url": "https://github.com/geonetwork/core-geonetwork/commit/b469dcbd8dfa9b49aa24cd6c3870683556b02a18", "committedDate": "2020-05-26T20:06:38Z", "message": "add null test (for test cases)"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIxNjM0NTkx", "url": "https://github.com/geonetwork/core-geonetwork/pull/4709#pullrequestreview-421634591", "createdAt": "2020-06-01T07:06:58Z", "commit": {"oid": "b469dcbd8dfa9b49aa24cd6c3870683556b02a18"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1649, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}