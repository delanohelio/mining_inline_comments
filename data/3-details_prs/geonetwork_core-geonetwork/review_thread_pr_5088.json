{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTAzOTA1NDIw", "number": 5088, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQxMDoxNjo1NlrOEt7O5g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQxMDoxNjo1NlrOEt7O5g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE2NTkxODQ2OnYy", "diffSide": "RIGHT", "path": "schemas/iso19139/src/main/plugin/iso19139/formatter/jsonld/iso19139-to-jsonld.xsl", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQxMDoxNjo1NlrOHiA3Sg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQxMDo1OTo0NFrOHiCVGg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTQyNzc4Ng==", "bodyText": "The code should be checking if there are gmd:contact elements or not to add the ,. To test:\n<xsl:if test=\"(position() != last()) or (count(//gmd:contact) > 0)\">,</xsl:if>", "url": "https://github.com/geonetwork/core-geonetwork/pull/5088#discussion_r505427786", "createdAt": "2020-10-15T10:16:56Z", "author": {"login": "josegar74"}, "path": "schemas/iso19139/src/main/plugin/iso19139/formatter/jsonld/iso19139-to-jsonld.xsl", "diffHunk": "@@ -202,7 +202,7 @@\n     <xsl:if test=\"position() != last()\">,</xsl:if>\n     </xsl:for-each>],\n     \"provider\" : [<xsl:for-each select=\"gmd:identificationInfo/*/gmd:pointOfContact/*[gmd:role/gmd:CI_RoleCode/@codeListValue='resourceProvider' or gmd:role/gmd:CI_RoleCode/@codeListValue='custodian']\">\n-    <xsl:apply-templates mode=\"doContact\" select=\".\"/>\n+    <xsl:apply-templates mode=\"doContact\" select=\".\"/>,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "993564b1c7ace9bef4f94cc81611437dd50e6d7a"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTQ1MTgwMg==", "bodyText": "Reverted the change, apologies for the confusion as gmd:contact is mandatory, so the change proposed was not required.", "url": "https://github.com/geonetwork/core-geonetwork/pull/5088#discussion_r505451802", "createdAt": "2020-10-15T10:59:44Z", "author": {"login": "josegar74"}, "path": "schemas/iso19139/src/main/plugin/iso19139/formatter/jsonld/iso19139-to-jsonld.xsl", "diffHunk": "@@ -202,7 +202,7 @@\n     <xsl:if test=\"position() != last()\">,</xsl:if>\n     </xsl:for-each>],\n     \"provider\" : [<xsl:for-each select=\"gmd:identificationInfo/*/gmd:pointOfContact/*[gmd:role/gmd:CI_RoleCode/@codeListValue='resourceProvider' or gmd:role/gmd:CI_RoleCode/@codeListValue='custodian']\">\n-    <xsl:apply-templates mode=\"doContact\" select=\".\"/>\n+    <xsl:apply-templates mode=\"doContact\" select=\".\"/>,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTQyNzc4Ng=="}, "originalCommit": {"oid": "993564b1c7ace9bef4f94cc81611437dd50e6d7a"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4262, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}