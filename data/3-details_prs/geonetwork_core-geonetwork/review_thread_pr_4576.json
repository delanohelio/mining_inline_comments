{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk4MDkyMjU1", "number": 4576, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wM1QxMDo0MzowOVrODuUu-g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wM1QxMDo0NDo0OFrODuUxaA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ5OTAwNzk0OnYy", "diffSide": "RIGHT", "path": "web-ui/src/main/resources/catalog/components/timezoneselector/partials/timezoneselector.html", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wM1QxMDo0MzowOVrOGAQJWQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wM1QxMDo1NDo0N1rOGAQgRQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjkxNzcyMQ==", "bodyText": "Not used right ?", "url": "https://github.com/geonetwork/core-geonetwork/pull/4576#discussion_r402917721", "createdAt": "2020-04-03T10:43:09Z", "author": {"login": "fxprunayre"}, "path": "web-ui/src/main/resources/catalog/components/timezoneselector/partials/timezoneselector.html", "diffHunk": "@@ -0,0 +1,10 @@\n+<!DOCTYPE html>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d7f122fc9e7605700c6ddd97d491fc7e547759aa"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjkyMzU4OQ==", "bodyText": "You are right. Let me remove the file.", "url": "https://github.com/geonetwork/core-geonetwork/pull/4576#discussion_r402923589", "createdAt": "2020-04-03T10:54:47Z", "author": {"login": "juanluisrp"}, "path": "web-ui/src/main/resources/catalog/components/timezoneselector/partials/timezoneselector.html", "diffHunk": "@@ -0,0 +1,10 @@\n+<!DOCTYPE html>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjkxNzcyMQ=="}, "originalCommit": {"oid": "d7f122fc9e7605700c6ddd97d491fc7e547759aa"}, "originalPosition": 1}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ5OTAxNDE2OnYy", "diffSide": "RIGHT", "path": "core/src/main/java/org/fao/geonet/kernel/setting/Settings.java", "isResolved": false, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wM1QxMDo0NDo0OFrOGAQM6Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wM1QxMTozNjo1MFrOGARvrQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjkxODYzMw==", "bodyText": "Why not setting a global timezone? This could be a start of fixing #1970. We also have other cron tasks that are not harvester and may also be affected by that change?", "url": "https://github.com/geonetwork/core-geonetwork/pull/4576#discussion_r402918633", "createdAt": "2020-04-03T10:44:48Z", "author": {"login": "fxprunayre"}, "path": "core/src/main/java/org/fao/geonet/kernel/setting/Settings.java", "diffHunk": "@@ -112,6 +112,7 @@\n     public static final String SYSTEM_HARVESTING_MAIL_TEMPLATE_WARNING = \"system/harvesting/mail/templateWarning\";\n     public static final String SYSTEM_HARVESTING_MAIL_TEMPLATE_ERROR = \"system/harvesting/mail/templateError\";\n     public static final String SYSTEM_HARVESTING_MAIL_TEMPLATE = \"system/harvesting/mail/template\";\n+    public static final String SYSTEM_HARVESTING_TIMEZONE = \"system/harvesting/timeZone\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d7f122fc9e7605700c6ddd97d491fc7e547759aa"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjkyMzExMg==", "bodyText": "QuartzSchedulerUtils.getTrigger(..., TimeZone tz) is only used in AbstractParams.getTrigger() function, so no other jobs are affected apart of the harvesters.", "url": "https://github.com/geonetwork/core-geonetwork/pull/4576#discussion_r402923112", "createdAt": "2020-04-03T10:53:51Z", "author": {"login": "juanluisrp"}, "path": "core/src/main/java/org/fao/geonet/kernel/setting/Settings.java", "diffHunk": "@@ -112,6 +112,7 @@\n     public static final String SYSTEM_HARVESTING_MAIL_TEMPLATE_WARNING = \"system/harvesting/mail/templateWarning\";\n     public static final String SYSTEM_HARVESTING_MAIL_TEMPLATE_ERROR = \"system/harvesting/mail/templateError\";\n     public static final String SYSTEM_HARVESTING_MAIL_TEMPLATE = \"system/harvesting/mail/template\";\n+    public static final String SYSTEM_HARVESTING_TIMEZONE = \"system/harvesting/timeZone\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjkxODYzMw=="}, "originalCommit": {"oid": "d7f122fc9e7605700c6ddd97d491fc7e547759aa"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjkyNzkyMg==", "bodyText": "Why not setting a global timezone? This could be a start of fixing #1970\n\nIt would be a bit confusing if we set as a global timezone and we don't fix all the issues described in #1970 yet, wouldn't it?", "url": "https://github.com/geonetwork/core-geonetwork/pull/4576#discussion_r402927922", "createdAt": "2020-04-03T11:02:49Z", "author": {"login": "juanluisrp"}, "path": "core/src/main/java/org/fao/geonet/kernel/setting/Settings.java", "diffHunk": "@@ -112,6 +112,7 @@\n     public static final String SYSTEM_HARVESTING_MAIL_TEMPLATE_WARNING = \"system/harvesting/mail/templateWarning\";\n     public static final String SYSTEM_HARVESTING_MAIL_TEMPLATE_ERROR = \"system/harvesting/mail/templateError\";\n     public static final String SYSTEM_HARVESTING_MAIL_TEMPLATE = \"system/harvesting/mail/template\";\n+    public static final String SYSTEM_HARVESTING_TIMEZONE = \"system/harvesting/timeZone\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjkxODYzMw=="}, "originalCommit": {"oid": "d7f122fc9e7605700c6ddd97d491fc7e547759aa"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjkyOTMwNg==", "bodyText": "It could be a good start (and if we don't have resources to do more than the harvesting) let's add in the settings help text that the timezone only applies to harvester schedule for now ?", "url": "https://github.com/geonetwork/core-geonetwork/pull/4576#discussion_r402929306", "createdAt": "2020-04-03T11:05:23Z", "author": {"login": "fxprunayre"}, "path": "core/src/main/java/org/fao/geonet/kernel/setting/Settings.java", "diffHunk": "@@ -112,6 +112,7 @@\n     public static final String SYSTEM_HARVESTING_MAIL_TEMPLATE_WARNING = \"system/harvesting/mail/templateWarning\";\n     public static final String SYSTEM_HARVESTING_MAIL_TEMPLATE_ERROR = \"system/harvesting/mail/templateError\";\n     public static final String SYSTEM_HARVESTING_MAIL_TEMPLATE = \"system/harvesting/mail/template\";\n+    public static final String SYSTEM_HARVESTING_TIMEZONE = \"system/harvesting/timeZone\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjkxODYzMw=="}, "originalCommit": {"oid": "d7f122fc9e7605700c6ddd97d491fc7e547759aa"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjk0MzkxNw==", "bodyText": "+1 to use a global timezone setting\ni wonder if it makes sense if specific users would like to set the timezone specific to their local situation (for global portals)\nhaving it as a global setting first would allow us to specify it for specific users later?\nconsidering that use case, it would make sense to introduce a database setting for it and not an xml setting.", "url": "https://github.com/geonetwork/core-geonetwork/pull/4576#discussion_r402943917", "createdAt": "2020-04-03T11:36:50Z", "author": {"login": "pvgenuchten"}, "path": "core/src/main/java/org/fao/geonet/kernel/setting/Settings.java", "diffHunk": "@@ -112,6 +112,7 @@\n     public static final String SYSTEM_HARVESTING_MAIL_TEMPLATE_WARNING = \"system/harvesting/mail/templateWarning\";\n     public static final String SYSTEM_HARVESTING_MAIL_TEMPLATE_ERROR = \"system/harvesting/mail/templateError\";\n     public static final String SYSTEM_HARVESTING_MAIL_TEMPLATE = \"system/harvesting/mail/template\";\n+    public static final String SYSTEM_HARVESTING_TIMEZONE = \"system/harvesting/timeZone\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjkxODYzMw=="}, "originalCommit": {"oid": "d7f122fc9e7605700c6ddd97d491fc7e547759aa"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4207, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}