{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY1MjI0NTY1", "number": 4381, "title": "Search / Improve the search active filters display", "bodyText": "This PR is a follow-up of #4361.\nThe SearchFilterTags directive is reworked:\n\nsimpler logic by removing the special cases for geometry and boolean filters which were not used (if I'm not mistaken)\nno more HTTP request to the thesaurus endpoint; the dimension object is used to read the keyword labels\nprivateVar and thesaurusKey attributes are not used anymore\nsupport for nested keywords (e.g. GEMET)\nbutton for clearing all filters at once (same as resetting the search)\nfilters are shown on the side above the facets panel, instead of above the search results\n\nThe active filters are not actually shown as \"tags\" anymore, but I kept the directive name to avoid breaking too many things in custom projects.\n\n\n\nAlso it still works in editor board and batch edit.", "createdAt": "2020-01-21T10:21:24Z", "url": "https://github.com/geonetwork/core-geonetwork/pull/4381", "merged": true, "mergeCommit": {"oid": "44c5a1fb449524f0061e33e14f32f19a2dd8cf9a"}, "closed": true, "closedAt": "2020-01-27T08:48:38Z", "author": {"login": "jahow"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb8PA84AH2gAyMzY1MjI0NTY1Ojk1NTUxZDI3NDVjMTlhMThiMDc5MDllNzk4NzRmYzVhODVhMzYwOWI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcB9afYgFqTM1NTA4Nzc0Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "95551d2745c19a18b07909e79874fc5a85a3609b", "author": {"user": {"login": "jahow", "name": "Olivier Guyot"}}, "url": "https://github.com/geonetwork/core-geonetwork/commit/95551d2745c19a18b07909e79874fc5a85a3609b", "committedDate": "2020-01-20T16:20:00Z", "message": "Search filter tags / rework & simplify\n\nThe dimension object is used to avoid HTTP requests for the keywords,\nand the general logic is simplified.\n\nAlso filters are now shown inside the same block and the filter label\nis shown as well."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6677137cf2475e9232e7773369af3b95d6daa9a4", "author": {"user": {"login": "jahow", "name": "Olivier Guyot"}}, "url": "https://github.com/geonetwork/core-geonetwork/commit/6677137cf2475e9232e7773369af3b95d6daa9a4", "committedDate": "2020-01-20T16:54:31Z", "message": "Search filter tags / put container on the side with facets"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fc62fcb65f45bcf011c847ea4c4fd399152dd9a0", "author": {"user": {"login": "jahow", "name": "Olivier Guyot"}}, "url": "https://github.com/geonetwork/core-geonetwork/commit/fc62fcb65f45bcf011c847ea4c4fd399152dd9a0", "committedDate": "2020-01-20T17:11:51Z", "message": "Search filter tags / better behaviour in batch edit\n\n'Editable' does not appear in the active filters, and clearing the filters\nrestores the correct state."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5ae91727247ef23b71a09f6758eb09a013ff84cb", "author": {"user": {"login": "jahow", "name": "Olivier Guyot"}}, "url": "https://github.com/geonetwork/core-geonetwork/commit/5ae91727247ef23b71a09f6758eb09a013ff84cb", "committedDate": "2020-01-21T10:09:16Z", "message": "Search filter tags / correctly translate categories & wrap text instead of ellipsis"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "829709440dde6e9661fc2d51eab276fb3eb871cb", "author": {"user": {"login": "jahow", "name": "Olivier Guyot"}}, "url": "https://github.com/geonetwork/core-geonetwork/commit/829709440dde6e9661fc2d51eab276fb3eb871cb", "committedDate": "2020-01-21T10:21:55Z", "message": "Search filter tags / add generic translation for geometry filter"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d06deea663bf6f3fdd44dfe804e8551b9c04eecd", "author": {"user": {"login": "jahow", "name": "Olivier Guyot"}}, "url": "https://github.com/geonetwork/core-geonetwork/commit/d06deea663bf6f3fdd44dfe804e8551b9c04eecd", "committedDate": "2020-01-21T10:32:23Z", "message": "Search filter tags / store facet filters in cache for when dimensions are not available"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d62c91466a961d4940f25f72ab127a71c194cfd2", "author": {"user": {"login": "cmangeat", "name": null}}, "url": "https://github.com/geonetwork/core-geonetwork/commit/d62c91466a961d4940f25f72ab127a71c194cfd2", "committedDate": "2020-01-24T12:56:28Z", "message": "Search filter tags / minor rewrite & clarify code"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cb555e873fbe6d8673766b6304216ad9b3940f95", "author": {"user": {"login": "jahow", "name": "Olivier Guyot"}}, "url": "https://github.com/geonetwork/core-geonetwork/commit/cb555e873fbe6d8673766b6304216ad9b3940f95", "committedDate": "2020-01-24T12:56:49Z", "message": "Search filter tags / put panel below basket & user searches"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ3OTM2NjQ3", "url": "https://github.com/geonetwork/core-geonetwork/pull/4381#pullrequestreview-347936647", "createdAt": "2020-01-24T12:59:08Z", "commit": {"oid": "cb555e873fbe6d8673766b6304216ad9b3940f95"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU1MDg3NzQy", "url": "https://github.com/geonetwork/core-geonetwork/pull/4381#pullrequestreview-355087742", "createdAt": "2020-02-07T11:13:09Z", "commit": {"oid": "cb555e873fbe6d8673766b6304216ad9b3940f95"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wN1QxMToxMzowOVrOFm55NA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wN1QxMToxMzowOVrOFm55NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjMzODc0MA==", "bodyText": "It looks like this breaks stuff in editor file store", "url": "https://github.com/geonetwork/core-geonetwork/pull/4381#discussion_r376338740", "createdAt": "2020-02-07T11:13:09Z", "author": {"login": "fxprunayre"}, "path": "web-ui/src/main/resources/catalog/components/search/searchfiltertag/SearchFilterTagsDirective.js", "diffHunk": "@@ -3,463 +3,206 @@\n \n   goog.require('gn_thesaurus_service');\n \n-  var module = angular.module('search_filter_tags_directive',\n-      ['gn_thesaurus_service', 'pascalprecht.translate']);\n-  module.filter('decodeURIComponent', function() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cb555e873fbe6d8673766b6304216ad9b3940f95"}, "originalPosition": 6}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1684, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}