{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQxMTM3MTA1", "number": 5267, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xOFQwNjo0OToxMFrOFHCoIg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xOFQwNjo1MzozNFrOFHCsYw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQyOTI3Mzk0OnYy", "diffSide": "RIGHT", "path": "schemas/iso19110/src/main/plugin/iso19110/formatter/xsl-view/view.xsl", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xOFQwNjo0OToxMFrOIIVILg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xOFQwOToxNDoyMlrOIIadCw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTYwNTY3OA==", "bodyText": "Here you match the text and 2 lines above you match gfc:code/*/text(), is this normal ? Also if expecting gfc:code, maybe the match of the template should be gfc:code/gmx:Anchor ?", "url": "https://github.com/geonetwork/core-geonetwork/pull/5267#discussion_r545605678", "createdAt": "2020-12-18T06:49:10Z", "author": {"login": "fxprunayre"}, "path": "schemas/iso19110/src/main/plugin/iso19110/formatter/xsl-view/view.xsl", "diffHunk": "@@ -305,6 +306,16 @@\n     <xsl:value-of select=\".\"/>\n   </xsl:template>\n \n+  <xsl:template mode=\"render-value\" match=\"gmx:Anchor\">\n+    <xsl:choose>\n+      <xsl:when test=\"starts-with(./@xlink:href,'http')\">\n+        <a href=\"{./@xlink:href}\"><xsl:value-of select=\"gfc:code/*/text()\"/></a>\n+      </xsl:when> \n+      <xsl:otherwise><xsl:value-of select=\"./text()\"/></xsl:otherwise>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "27a996e57546d8d3b334d4a5d0f1ccb8d69810ce"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTY5MjkzOQ==", "bodyText": "good catch, this is not going to work like this", "url": "https://github.com/geonetwork/core-geonetwork/pull/5267#discussion_r545692939", "createdAt": "2020-12-18T09:14:22Z", "author": {"login": "pvgenuchten"}, "path": "schemas/iso19110/src/main/plugin/iso19110/formatter/xsl-view/view.xsl", "diffHunk": "@@ -305,6 +306,16 @@\n     <xsl:value-of select=\".\"/>\n   </xsl:template>\n \n+  <xsl:template mode=\"render-value\" match=\"gmx:Anchor\">\n+    <xsl:choose>\n+      <xsl:when test=\"starts-with(./@xlink:href,'http')\">\n+        <a href=\"{./@xlink:href}\"><xsl:value-of select=\"gfc:code/*/text()\"/></a>\n+      </xsl:when> \n+      <xsl:otherwise><xsl:value-of select=\"./text()\"/></xsl:otherwise>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTYwNTY3OA=="}, "originalCommit": {"oid": "27a996e57546d8d3b334d4a5d0f1ccb8d69810ce"}, "originalPosition": 17}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQyOTI4Mjc1OnYy", "diffSide": "RIGHT", "path": "schemas/iso19110/src/main/plugin/iso19110/loc/eng/labels.xml", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xOFQwNjo1MjoyOVrOIIVM1Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMy0yM1QxMjo0NToxNVrOI7woWg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTYwNjg2OQ==", "bodyText": "Not sure this is necessary (except for gfc namepace), 19110 is supposed to delegate labels to ISO19139 for its namespaces eg. https://github.com/geonetwork/core-geonetwork/blob/master/schemas/iso19110/src/main/plugin/iso19110/layout/layout.xsl#L78-L83", "url": "https://github.com/geonetwork/core-geonetwork/pull/5267#discussion_r545606869", "createdAt": "2020-12-18T06:52:29Z", "author": {"login": "fxprunayre"}, "path": "schemas/iso19110/src/main/plugin/iso19110/loc/eng/labels.xml", "diffHunk": "@@ -261,22 +264,102 @@\n     <label>Scope</label>\n     <description>Scope definition</description>\n   </element>\n-  <element name=\"gmx:versionNumber\">\n-    <label>Version</label>\n-    <description>Catalogue version</description>\n-  </element>\n-  <element name=\"gmx:versionDate\">\n-    <label>Date</label>\n-    <description>Catalogue date</description>\n-  </element>\n-  <element name=\"gmx:fieldOfApplication\">\n-    <label>Field of application</label>\n-    <description>Field of application</description>\n+\n+  <element name=\"gmx:subCatalogue\">\n+    <label>Sub catalogue</label>\n+    <btnLabel>Add sub catalogue</btnLabel>\n+    <description>Describes a sub catalogue</description>\n   </element>\n+\n   <element name=\"gco:nilReason\">\n     <label>Nil reason</label>\n-    <description/>\n-    <help/>\n-    <condition/>\n   </element>\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "27a996e57546d8d3b334d4a5d0f1ccb8d69810ce"}, "originalPosition": 78}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTYwNjk3NA==", "bodyText": "Indent is wrong - 2 spaces needed", "url": "https://github.com/geonetwork/core-geonetwork/pull/5267#discussion_r545606974", "createdAt": "2020-12-18T06:52:49Z", "author": {"login": "fxprunayre"}, "path": "schemas/iso19110/src/main/plugin/iso19110/loc/eng/labels.xml", "diffHunk": "@@ -261,22 +264,102 @@\n     <label>Scope</label>\n     <description>Scope definition</description>\n   </element>\n-  <element name=\"gmx:versionNumber\">\n-    <label>Version</label>\n-    <description>Catalogue version</description>\n-  </element>\n-  <element name=\"gmx:versionDate\">\n-    <label>Date</label>\n-    <description>Catalogue date</description>\n-  </element>\n-  <element name=\"gmx:fieldOfApplication\">\n-    <label>Field of application</label>\n-    <description>Field of application</description>\n+\n+  <element name=\"gmx:subCatalogue\">\n+    <label>Sub catalogue</label>\n+    <btnLabel>Add sub catalogue</btnLabel>\n+    <description>Describes a sub catalogue</description>\n   </element>\n+\n   <element name=\"gco:nilReason\">\n     <label>Nil reason</label>\n-    <description/>\n-    <help/>\n-    <condition/>\n   </element>\n+", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTYwNjg2OQ=="}, "originalCommit": {"oid": "27a996e57546d8d3b334d4a5d0f1ccb8d69810ce"}, "originalPosition": 78}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTY5NDAyNQ==", "bodyText": "mmm, i got warnings in log about missing translations, so maybe we have to look at the delegation?", "url": "https://github.com/geonetwork/core-geonetwork/pull/5267#discussion_r545694025", "createdAt": "2020-12-18T09:15:29Z", "author": {"login": "pvgenuchten"}, "path": "schemas/iso19110/src/main/plugin/iso19110/loc/eng/labels.xml", "diffHunk": "@@ -261,22 +264,102 @@\n     <label>Scope</label>\n     <description>Scope definition</description>\n   </element>\n-  <element name=\"gmx:versionNumber\">\n-    <label>Version</label>\n-    <description>Catalogue version</description>\n-  </element>\n-  <element name=\"gmx:versionDate\">\n-    <label>Date</label>\n-    <description>Catalogue date</description>\n-  </element>\n-  <element name=\"gmx:fieldOfApplication\">\n-    <label>Field of application</label>\n-    <description>Field of application</description>\n+\n+  <element name=\"gmx:subCatalogue\">\n+    <label>Sub catalogue</label>\n+    <btnLabel>Add sub catalogue</btnLabel>\n+    <description>Describes a sub catalogue</description>\n   </element>\n+\n   <element name=\"gco:nilReason\">\n     <label>Nil reason</label>\n-    <description/>\n-    <help/>\n-    <condition/>\n   </element>\n+", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTYwNjg2OQ=="}, "originalCommit": {"oid": "27a996e57546d8d3b334d4a5d0f1ccb8d69810ce"}, "originalPosition": 78}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU5OTUzMzY1OA==", "bodyText": "The warnings still happen, but translations are indeed delegated to iso19139", "url": "https://github.com/geonetwork/core-geonetwork/pull/5267#discussion_r599533658", "createdAt": "2021-03-23T12:45:15Z", "author": {"login": "pvgenuchten"}, "path": "schemas/iso19110/src/main/plugin/iso19110/loc/eng/labels.xml", "diffHunk": "@@ -261,22 +264,102 @@\n     <label>Scope</label>\n     <description>Scope definition</description>\n   </element>\n-  <element name=\"gmx:versionNumber\">\n-    <label>Version</label>\n-    <description>Catalogue version</description>\n-  </element>\n-  <element name=\"gmx:versionDate\">\n-    <label>Date</label>\n-    <description>Catalogue date</description>\n-  </element>\n-  <element name=\"gmx:fieldOfApplication\">\n-    <label>Field of application</label>\n-    <description>Field of application</description>\n+\n+  <element name=\"gmx:subCatalogue\">\n+    <label>Sub catalogue</label>\n+    <btnLabel>Add sub catalogue</btnLabel>\n+    <description>Describes a sub catalogue</description>\n   </element>\n+\n   <element name=\"gco:nilReason\">\n     <label>Nil reason</label>\n-    <description/>\n-    <help/>\n-    <condition/>\n   </element>\n+", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTYwNjg2OQ=="}, "originalCommit": {"oid": "27a996e57546d8d3b334d4a5d0f1ccb8d69810ce"}, "originalPosition": 78}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQyOTI4NDgzOnYy", "diffSide": "RIGHT", "path": "schemas/iso19110/src/main/plugin/iso19110/present/metadata-view.xsl", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xOFQwNjo1MzozNFrOIIVOEg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xOFQwOToxOTo1M1rOIIaxYA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTYwNzE4Ng==", "bodyText": "I don't think those file in present/*.xsl are used anywhere in GeoNetwork 3?", "url": "https://github.com/geonetwork/core-geonetwork/pull/5267#discussion_r545607186", "createdAt": "2020-12-18T06:53:34Z", "author": {"login": "fxprunayre"}, "path": "schemas/iso19110/src/main/plugin/iso19110/present/metadata-view.xsl", "diffHunk": "@@ -189,7 +191,12 @@\n               </th>\n               <td>\n                 <xsl:value-of select=\"gfc:memberName/gco:LocalName\"/>\n-\n+                <xsl:choose>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "27a996e57546d8d3b334d4a5d0f1ccb8d69810ce"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTY5NDgzNA==", "bodyText": "thanx, i was wondering about it, should we remove it?", "url": "https://github.com/geonetwork/core-geonetwork/pull/5267#discussion_r545694834", "createdAt": "2020-12-18T09:16:16Z", "author": {"login": "pvgenuchten"}, "path": "schemas/iso19110/src/main/plugin/iso19110/present/metadata-view.xsl", "diffHunk": "@@ -189,7 +191,12 @@\n               </th>\n               <td>\n                 <xsl:value-of select=\"gfc:memberName/gco:LocalName\"/>\n-\n+                <xsl:choose>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTYwNzE4Ng=="}, "originalCommit": {"oid": "27a996e57546d8d3b334d4a5d0f1ccb8d69810ce"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTY5ODE0NA==", "bodyText": "Those old stuffs have been removed in 4.0.x", "url": "https://github.com/geonetwork/core-geonetwork/pull/5267#discussion_r545698144", "createdAt": "2020-12-18T09:19:53Z", "author": {"login": "fxprunayre"}, "path": "schemas/iso19110/src/main/plugin/iso19110/present/metadata-view.xsl", "diffHunk": "@@ -189,7 +191,12 @@\n               </th>\n               <td>\n                 <xsl:value-of select=\"gfc:memberName/gco:LocalName\"/>\n-\n+                <xsl:choose>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTYwNzE4Ng=="}, "originalCommit": {"oid": "27a996e57546d8d3b334d4a5d0f1ccb8d69810ce"}, "originalPosition": 16}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4246, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}