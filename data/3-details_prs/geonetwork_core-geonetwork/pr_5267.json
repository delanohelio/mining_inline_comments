{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQxMTM3MTA1", "number": 5267, "title": "Improvements fc editor", "bodyText": "adds some missing translations\nhides generic titles (carierofcharacteristics) and displays more specific (fc_featureattribute)\nmakes anchors clickable links in formatter\nadds definition field when adding listvalue\ni tried to use data-gn-anchor-switcher on gfc:code, but it seems not able to store anchors", "createdAt": "2020-12-16T12:38:59Z", "url": "https://github.com/geonetwork/core-geonetwork/pull/5267", "merged": true, "mergeCommit": {"oid": "ab651bcb08a8effb1c1d1b90805a8ff38127ce86"}, "closed": true, "closedAt": "2021-04-13T11:32:46Z", "author": {"login": "pvgenuchten"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdnScAnAFqTU1NTIwNjg4OQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABeMsA5egFqTYzNDQ3OTA3OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU1MjA2ODg5", "url": "https://github.com/geonetwork/core-geonetwork/pull/5267#pullrequestreview-555206889", "createdAt": "2020-12-18T06:49:10Z", "commit": {"oid": "27a996e57546d8d3b334d4a5d0f1ccb8d69810ce"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xOFQwNjo0OToxMFrOIIVILg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xOFQwNjo0OToxMFrOIIVILg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTYwNTY3OA==", "bodyText": "Here you match the text and 2 lines above you match gfc:code/*/text(), is this normal ? Also if expecting gfc:code, maybe the match of the template should be gfc:code/gmx:Anchor ?", "url": "https://github.com/geonetwork/core-geonetwork/pull/5267#discussion_r545605678", "createdAt": "2020-12-18T06:49:10Z", "author": {"login": "fxprunayre"}, "path": "schemas/iso19110/src/main/plugin/iso19110/formatter/xsl-view/view.xsl", "diffHunk": "@@ -305,6 +306,16 @@\n     <xsl:value-of select=\".\"/>\n   </xsl:template>\n \n+  <xsl:template mode=\"render-value\" match=\"gmx:Anchor\">\n+    <xsl:choose>\n+      <xsl:when test=\"starts-with(./@xlink:href,'http')\">\n+        <a href=\"{./@xlink:href}\"><xsl:value-of select=\"gfc:code/*/text()\"/></a>\n+      </xsl:when> \n+      <xsl:otherwise><xsl:value-of select=\"./text()\"/></xsl:otherwise>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "27a996e57546d8d3b334d4a5d0f1ccb8d69810ce"}, "originalPosition": 17}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU1MjA4MjAw", "url": "https://github.com/geonetwork/core-geonetwork/pull/5267#pullrequestreview-555208200", "createdAt": "2020-12-18T06:52:29Z", "commit": {"oid": "27a996e57546d8d3b334d4a5d0f1ccb8d69810ce"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xOFQwNjo1MjoyOVrOIIVM1Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xOFQwNjo1MjoyOVrOIIVM1Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTYwNjg2OQ==", "bodyText": "Not sure this is necessary (except for gfc namepace), 19110 is supposed to delegate labels to ISO19139 for its namespaces eg. https://github.com/geonetwork/core-geonetwork/blob/master/schemas/iso19110/src/main/plugin/iso19110/layout/layout.xsl#L78-L83", "url": "https://github.com/geonetwork/core-geonetwork/pull/5267#discussion_r545606869", "createdAt": "2020-12-18T06:52:29Z", "author": {"login": "fxprunayre"}, "path": "schemas/iso19110/src/main/plugin/iso19110/loc/eng/labels.xml", "diffHunk": "@@ -261,22 +264,102 @@\n     <label>Scope</label>\n     <description>Scope definition</description>\n   </element>\n-  <element name=\"gmx:versionNumber\">\n-    <label>Version</label>\n-    <description>Catalogue version</description>\n-  </element>\n-  <element name=\"gmx:versionDate\">\n-    <label>Date</label>\n-    <description>Catalogue date</description>\n-  </element>\n-  <element name=\"gmx:fieldOfApplication\">\n-    <label>Field of application</label>\n-    <description>Field of application</description>\n+\n+  <element name=\"gmx:subCatalogue\">\n+    <label>Sub catalogue</label>\n+    <btnLabel>Add sub catalogue</btnLabel>\n+    <description>Describes a sub catalogue</description>\n   </element>\n+\n   <element name=\"gco:nilReason\">\n     <label>Nil reason</label>\n-    <description/>\n-    <help/>\n-    <condition/>\n   </element>\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "27a996e57546d8d3b334d4a5d0f1ccb8d69810ce"}, "originalPosition": 78}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU1MjA4NTcz", "url": "https://github.com/geonetwork/core-geonetwork/pull/5267#pullrequestreview-555208573", "createdAt": "2020-12-18T06:53:34Z", "commit": {"oid": "27a996e57546d8d3b334d4a5d0f1ccb8d69810ce"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xOFQwNjo1MzozNFrOIIVOEg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xOFQwNjo1MzozNFrOIIVOEg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTYwNzE4Ng==", "bodyText": "I don't think those file in present/*.xsl are used anywhere in GeoNetwork 3?", "url": "https://github.com/geonetwork/core-geonetwork/pull/5267#discussion_r545607186", "createdAt": "2020-12-18T06:53:34Z", "author": {"login": "fxprunayre"}, "path": "schemas/iso19110/src/main/plugin/iso19110/present/metadata-view.xsl", "diffHunk": "@@ -189,7 +191,12 @@\n               </th>\n               <td>\n                 <xsl:value-of select=\"gfc:memberName/gco:LocalName\"/>\n-\n+                <xsl:choose>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "27a996e57546d8d3b334d4a5d0f1ccb8d69810ce"}, "originalPosition": 16}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "34f1526665e476e2b4c3c65d9e79da1949ee7158", "author": {"user": {"login": "pvgenuchten", "name": "paul van genuchten"}}, "url": "https://github.com/geonetwork/core-geonetwork/commit/34f1526665e476e2b4c3c65d9e79da1949ee7158", "committedDate": "2021-03-23T12:25:38Z", "message": "improvements on labels and basic editor iso19110"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "022ddc091bb033f4d7fe674f1e7ebe51c21f9929", "author": {"user": {"login": "pvgenuchten", "name": "paul van genuchten"}}, "url": "https://github.com/geonetwork/core-geonetwork/commit/022ddc091bb033f4d7fe674f1e7ebe51c21f9929", "committedDate": "2021-03-23T12:25:38Z", "message": "remove messages"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "27ba901db5c842d4916c0a6211e805eab6864628", "author": {"user": {"login": "pvgenuchten", "name": "paul van genuchten"}}, "url": "https://github.com/geonetwork/core-geonetwork/commit/27ba901db5c842d4916c0a6211e805eab6864628", "committedDate": "2020-12-18T12:37:00Z", "message": "delegate gmd/gco translations to iso19139\nfix typo in anchor-text"}, "afterCommit": {"oid": "0743af3242e7d36269fc030bf4de17bfee14d5f2", "author": {"user": {"login": "pvgenuchten", "name": "paul van genuchten"}}, "url": "https://github.com/geonetwork/core-geonetwork/commit/0743af3242e7d36269fc030bf4de17bfee14d5f2", "committedDate": "2021-03-23T12:25:38Z", "message": "delegate gmd/gco translations to iso19139\nfix typo in anchor-text"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "644f93e37bc128b3b8f837d407ec991577317f53", "author": {"user": {"login": "pvgenuchten", "name": "paul van genuchten"}}, "url": "https://github.com/geonetwork/core-geonetwork/commit/644f93e37bc128b3b8f837d407ec991577317f53", "committedDate": "2021-03-23T12:43:54Z", "message": "delegate gmd/gco translations to iso19139\nfix typo in anchor-text"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0743af3242e7d36269fc030bf4de17bfee14d5f2", "author": {"user": {"login": "pvgenuchten", "name": "paul van genuchten"}}, "url": "https://github.com/geonetwork/core-geonetwork/commit/0743af3242e7d36269fc030bf4de17bfee14d5f2", "committedDate": "2021-03-23T12:25:38Z", "message": "delegate gmd/gco translations to iso19139\nfix typo in anchor-text"}, "afterCommit": {"oid": "644f93e37bc128b3b8f837d407ec991577317f53", "author": {"user": {"login": "pvgenuchten", "name": "paul van genuchten"}}, "url": "https://github.com/geonetwork/core-geonetwork/commit/644f93e37bc128b3b8f837d407ec991577317f53", "committedDate": "2021-03-23T12:43:54Z", "message": "delegate gmd/gco translations to iso19139\nfix typo in anchor-text"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjM0NDc5MDc5", "url": "https://github.com/geonetwork/core-geonetwork/pull/5267#pullrequestreview-634479079", "createdAt": "2021-04-13T11:32:17Z", "commit": {"oid": "644f93e37bc128b3b8f837d407ec991577317f53"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1728, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}