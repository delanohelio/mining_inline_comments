{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTAzOTA1NDIw", "number": 5088, "title": "missing comma in array in json-ld", "bodyText": "this typo breaks json-ld output", "createdAt": "2020-10-15T07:55:17Z", "url": "https://github.com/geonetwork/core-geonetwork/pull/5088", "merged": true, "mergeCommit": {"oid": "6a6c48a1d401976186e7b7e990fef08d79b663b6"}, "closed": true, "closedAt": "2020-10-15T11:00:43Z", "author": {"login": "pvgenuchten"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdStAUggH2gAyNTAzOTA1NDIwOjk5MzU2NGIxYzdhY2U5YmVmNGY5NGNjODE2MTE0MzdkZDUwZTZkN2E=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdSvqgHAFqTUwOTI1ODM3OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "993564b1c7ace9bef4f94cc81611437dd50e6d7a", "author": {"user": {"login": "pvgenuchten", "name": "paul van genuchten"}}, "url": "https://github.com/geonetwork/core-geonetwork/commit/993564b1c7ace9bef4f94cc81611437dd50e6d7a", "committedDate": "2020-10-15T07:53:57Z", "message": "missing comma in array"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA5MjI3NzM3", "url": "https://github.com/geonetwork/core-geonetwork/pull/5088#pullrequestreview-509227737", "createdAt": "2020-10-15T10:16:56Z", "commit": {"oid": "993564b1c7ace9bef4f94cc81611437dd50e6d7a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQxMDoxNjo1NlrOHiA3Sg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQxMDoxNjo1NlrOHiA3Sg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTQyNzc4Ng==", "bodyText": "The code should be checking if there are gmd:contact elements or not to add the ,. To test:\n<xsl:if test=\"(position() != last()) or (count(//gmd:contact) > 0)\">,</xsl:if>", "url": "https://github.com/geonetwork/core-geonetwork/pull/5088#discussion_r505427786", "createdAt": "2020-10-15T10:16:56Z", "author": {"login": "josegar74"}, "path": "schemas/iso19139/src/main/plugin/iso19139/formatter/jsonld/iso19139-to-jsonld.xsl", "diffHunk": "@@ -202,7 +202,7 @@\n     <xsl:if test=\"position() != last()\">,</xsl:if>\n     </xsl:for-each>],\n     \"provider\" : [<xsl:for-each select=\"gmd:identificationInfo/*/gmd:pointOfContact/*[gmd:role/gmd:CI_RoleCode/@codeListValue='resourceProvider' or gmd:role/gmd:CI_RoleCode/@codeListValue='custodian']\">\n-    <xsl:apply-templates mode=\"doContact\" select=\".\"/>\n+    <xsl:apply-templates mode=\"doContact\" select=\".\"/>,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "993564b1c7ace9bef4f94cc81611437dd50e6d7a"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7adbcd834ecaa204916bddeff50a99d0db7dedf9", "author": {"user": {"login": "pvgenuchten", "name": "paul van genuchten"}}, "url": "https://github.com/geonetwork/core-geonetwork/commit/7adbcd834ecaa204916bddeff50a99d0db7dedf9", "committedDate": "2020-10-15T10:25:19Z", "message": "only comma if contacts exist"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e72db93f081ba64691392914b5ecb610327ede33", "author": {"user": {"login": "josegar74", "name": "Jose Garc\u00eda"}}, "url": "https://github.com/geonetwork/core-geonetwork/commit/e72db93f081ba64691392914b5ecb610327ede33", "committedDate": "2020-10-15T10:58:43Z", "message": "Not required the check of gmd:contact to add the comma as it's a mandatory element"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA5MjU4Mzc4", "url": "https://github.com/geonetwork/core-geonetwork/pull/5088#pullrequestreview-509258378", "createdAt": "2020-10-15T10:59:50Z", "commit": {"oid": "e72db93f081ba64691392914b5ecb610327ede33"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1757, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}