{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI2NjY2ODIy", "number": 5207, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNlQwODoxNTozNVrOFGD75w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNlQwODoxNTozNVrOFGD75w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQxOTAwMjYzOnYy", "diffSide": "RIGHT", "path": "core/src/main/java/org/fao/geonet/kernel/security/keycloak/keycloakPreAuthActionsLoginFilter.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNlQwODoxNTozNVrOIG47-Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNlQwODoxNTozNVrOIG47-Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDA5NTIyNQ==", "bodyText": "I would add a comment explaining a bit the checks done, for example about the AdapterConstants values checks and in case that makes sense wrap them in a function.", "url": "https://github.com/geonetwork/core-geonetwork/pull/5207#discussion_r544095225", "createdAt": "2020-12-16T08:15:35Z", "author": {"login": "josegar74"}, "path": "core/src/main/java/org/fao/geonet/kernel/security/keycloak/keycloakPreAuthActionsLoginFilter.java", "diffHunk": "@@ -58,12 +59,24 @@ public void doFilter(ServletRequest request, ServletResponse response, FilterCha\n         HttpServletResponse servletResponse = (HttpServletResponse) response;\n \n         if (servletRequest.getPathInfo() != null &&\n-                !(servletRequest.getContextPath() + KeycloakUtil.getSigninPath()).equals(servletRequest.getRequestURI())  &&\n-                !(servletRequest.getPathInfo()).equals(\"/k_logout\")  &&\n-                !isAuthenticated() ) {\n+            !KeycloakAuthenticationProcessingFilter.DEFAULT_REQUEST_MATCHER.matches(servletRequest) &&", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "647bac25c936525dba4856065e59a43a41bb28d5"}, "originalPosition": 22}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4224, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}