{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY5MDczNTEz", "number": 4938, "title": "LDAP changes for AD and other configurations", "bodyText": "I noticed there were some differences between (Active Directory) AD and the test LDAP that is used in the test cases.\na) I gave more options for full-name CNs for membership searching\nb) I am ignoring PartialResultException\nThese occur when you search from the very top of the AD LDAP.\nIts, basically, a link that says \"go get results from over here.\"\nIn almost all cases, you don't need to follow these (but it will throw an exception).\nFixed bug - LDAP sets passwords as '' (empty string).  Oracle interprets '' as NULL.  This causes a constraint error since password cannot be null.  I've replaced '' with a random password.", "createdAt": "2020-08-17T21:20:24Z", "url": "https://github.com/geonetwork/core-geonetwork/pull/4938", "merged": true, "mergeCommit": {"oid": "88d4f43883d4673b4cf4d473f7054d1290f5d28a"}, "closed": true, "closedAt": "2020-08-19T08:10:13Z", "author": {"login": "davidblasby"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc_5IMbgH2gAyNDY5MDczNTEzOmIyMjE0ZmIxOGJlZmFiMGYyNGM0NDg0MzVkNGNlNWJkZjQ3ZDQ1MjA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdAKR9RAFqTQ2OTY2MzQ3NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "b2214fb18befab0f24c448435d4ce5bdf47d4520", "author": {"user": null}, "url": "https://github.com/geonetwork/core-geonetwork/commit/b2214fb18befab0f24c448435d4ce5bdf47d4520", "committedDate": "2020-08-17T21:16:51Z", "message": "LDAP changes for AD and other configurations"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a1bfc1d6f021aa99342024601f548b18cbe6c6d1", "author": {"user": null}, "url": "https://github.com/geonetwork/core-geonetwork/commit/a1bfc1d6f021aa99342024601f548b18cbe6c6d1", "committedDate": "2020-08-18T02:23:44Z", "message": "don't use '' as password - oracle treats this as null"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY5MTc0MzA3", "url": "https://github.com/geonetwork/core-geonetwork/pull/4938#pullrequestreview-469174307", "createdAt": "2020-08-18T09:58:55Z", "commit": {"oid": "a1bfc1d6f021aa99342024601f548b18cbe6c6d1"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY5MTk0NzA4", "url": "https://github.com/geonetwork/core-geonetwork/pull/4938#pullrequestreview-469194708", "createdAt": "2020-08-18T10:29:03Z", "commit": {"oid": "a1bfc1d6f021aa99342024601f548b18cbe6c6d1"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOFQxMDoyOTowNFrOHCNVQQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOFQxMDoyOTowNFrOHCNVQQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjA3NzYzMw==", "bodyText": "The Oracle comment is a little misleading.  Are you setting the random password because Oracle does not allow null?  If so then maybe set the password to the word 'null' and the Oracle comment would make more sense.\nAlso if the password is supposed to be null and it is being set to a random value, there is no way to know if this is a real password or a null password in case this information would be required later.  i.e. if null password then don't pass credentials.", "url": "https://github.com/geonetwork/core-geonetwork/pull/4938#discussion_r472077633", "createdAt": "2020-08-18T10:29:04Z", "author": {"login": "ianwallen"}, "path": "core/src/main/java/org/fao/geonet/kernel/security/ldap/LDAPUtils.java", "diffHunk": "@@ -120,6 +120,7 @@ protected User getUser(LDAPUser user, boolean importPrivilegesFromLdap,\n             toSave = user.getUser();\n         }\n         toSave.getSecurity().setAuthType(LDAPConstants.LDAP_FLAG);\n+        toSave.getSecurity().setPassword(User.getRandomPassword()); //Oracle doesn't allow a password as '' (interpreted as null)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a1bfc1d6f021aa99342024601f548b18cbe6c6d1"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4ebbc395ad46d368f4beb67aa5fea40efebe7200", "author": {"user": null}, "url": "https://github.com/geonetwork/core-geonetwork/commit/4ebbc395ad46d368f4beb67aa5fea40efebe7200", "committedDate": "2020-08-18T16:34:43Z", "message": "change password to 'NULL'"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY5NjYzNDc1", "url": "https://github.com/geonetwork/core-geonetwork/pull/4938#pullrequestreview-469663475", "createdAt": "2020-08-18T17:15:54Z", "commit": {"oid": "4ebbc395ad46d368f4beb67aa5fea40efebe7200"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1785, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}