{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTMyOTg2ODU3", "number": 3791, "title": "Enable double-click to play sector", "bodyText": "I have frequently double-clicked on a sector expecting to go to it immediately, only to realize I have to then click the \"Go\" button on the bottom of the screen.\nThis PR makes clicking on a sector that is already selected invoke the same action as the \"Go/Resume/Launch\" button. It is a QoL change that makes it easier to rapidly switch between sectors, without having to first click on a sector then move the mouse to the \"Go\" button. It changes very little code; the bulk of the changes was just moving the contents of a lambda function outside into its own function.\nI originally intended to make it work only via double-click, but 2 separate clicks also work.", "createdAt": "2020-12-05T09:10:59Z", "url": "https://github.com/Anuken/Mindustry/pull/3791", "merged": true, "mergeCommit": {"oid": "e636ceb317b09c2a9a954b808cf5989142dab0aa"}, "closed": true, "closedAt": "2020-12-06T16:47:54Z", "author": {"login": "joshuaptfan"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdjIgJIAH2gAyNTMyOTg2ODU3OjZlY2VjZWEwMDRhMmI4NDU5ZDkyYjA4OWU2NzhiODJmMGRjNjBiMDc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdjjBcFAH2gAyNTMyOTg2ODU3OjcwY2M2ZDA3YjA5ZTdmMzEzOGY2MWExNWJlMjNlYmQyNjI5YzI4ZWM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "6ececea004a2b8459d92b089e678b82f0dc60b07", "author": {"user": {"login": "joshuaptfan", "name": "Joshua Fan"}}, "url": "https://github.com/Anuken/Mindustry/commit/6ececea004a2b8459d92b089e678b82f0dc60b07", "committedDate": "2020-12-05T08:58:56Z", "message": "Enable double-click to play sector"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ1NjYzMTU3", "url": "https://github.com/Anuken/Mindustry/pull/3791#pullrequestreview-545663157", "createdAt": "2020-12-06T01:45:59Z", "commit": {"oid": "6ececea004a2b8459d92b089e678b82f0dc60b07"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNlQwMTo0NTo1OVrOIADtBQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNlQwMTo0NTo1OVrOIADtBQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjkzMTU4OQ==", "bodyText": "This should check for a double-tap. If I click a sector once, then click it once again later, it should not send me there.", "url": "https://github.com/Anuken/Mindustry/pull/3791#discussion_r536931589", "createdAt": "2020-12-06T01:45:59Z", "author": {"login": "Anuken"}, "path": "core/src/mindustry/ui/dialogs/PlanetDialog.java", "diffHunk": "@@ -412,6 +412,10 @@ void setup(){\n                     public void tap(InputEvent event, float x, float y, int count, KeyCode button){\n                         if(showing()) return;\n \n+                        if(selected == hovered){", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6ececea004a2b8459d92b089e678b82f0dc60b07"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "58c1718d01e438aab503837d12d110954edc9696", "author": {"user": {"login": "joshuaptfan", "name": "Joshua Fan"}}, "url": "https://github.com/Anuken/Mindustry/commit/58c1718d01e438aab503837d12d110954edc9696", "committedDate": "2020-12-06T06:07:09Z", "message": "Detect double-tap"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dd6ae80817279e890fc0dbe933ef01ef58fef059", "author": {"user": {"login": "joshuaptfan", "name": "Joshua Fan"}}, "url": "https://github.com/Anuken/Mindustry/commit/dd6ae80817279e890fc0dbe933ef01ef58fef059", "committedDate": "2020-12-06T06:56:34Z", "message": "Merge remote-tracking branch 'origin/master'"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ1NzExMDk5", "url": "https://github.com/Anuken/Mindustry/pull/3791#pullrequestreview-545711099", "createdAt": "2020-12-06T14:28:40Z", "commit": {"oid": "58c1718d01e438aab503837d12d110954edc9696"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNlQxNDoyODo0MFrOIAK7Tg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNlQxNDoyODo0MFrOIAK7Tg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzA0OTkzNA==", "bodyText": "int count already stored the amount of taps done, you shouldn't need to do your own calculations.", "url": "https://github.com/Anuken/Mindustry/pull/3791#discussion_r537049934", "createdAt": "2020-12-06T14:28:40Z", "author": {"login": "Anuken"}, "path": "core/src/mindustry/ui/dialogs/PlanetDialog.java", "diffHunk": "@@ -405,19 +405,22 @@ void setup(){\n \n         stack(\n         new Element(){\n+            long tapMillis;\n+\n             {\n                 //add listener to the background rect, so it doesn't get unnecessary touch input\n                 addListener(new ElementGestureListener(){\n                     @Override\n                     public void tap(InputEvent event, float x, float y, int count, KeyCode button){\n                         if(showing()) return;\n \n-                        if(selected == hovered){\n+                        if(selected == hovered && Time.timeSinceMillis(tapMillis) < 500){", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "58c1718d01e438aab503837d12d110954edc9696"}, "originalPosition": 14}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "70cc6d07b09e7f3138f61a15be23ebd2629c28ec", "author": {"user": {"login": "joshuaptfan", "name": "Joshua Fan"}}, "url": "https://github.com/Anuken/Mindustry/commit/70cc6d07b09e7f3138f61a15be23ebd2629c28ec", "committedDate": "2020-12-06T15:52:50Z", "message": "Detect double-tap using count"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2292, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}