{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkxMDcwMjg4", "number": 2660, "reviewThreads": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxNjo1MjowN1rOEmLXBg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxNjo1MzoxM1rOEmLYrg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA4NDY3NDYyOnYy", "diffSide": "RIGHT", "path": "server/src/mindustry/server/ServerControl.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxNjo1MjowN1rOHWDjQQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxNzowNjo1NlrOHWEHvQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjg4ODg5Nw==", "bodyText": "It's true by default, why add it here in the first place?", "url": "https://github.com/Anuken/Mindustry/pull/2660#discussion_r492888897", "createdAt": "2020-09-22T16:52:07Z", "author": {"login": "Anuken"}, "path": "server/src/mindustry/server/ServerControl.java", "diffHunk": "@@ -61,7 +61,7 @@ public ServerControl(String[] args){\n             \"bans\", \"\",\n             \"admins\", \"\",\n             \"shufflemode\", \"custom\",\n-            \"globalrules\", \"{reactorExplosions: false}\"\n+            \"globalrules\", \"{reactorExplosions: false}\" //schematicAllowed: true} //is not working", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3a3367b510c0fe6ec0c858bd76138b8951b010ae"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjg5ODIzNw==", "bodyText": "I removed the comment but I couldn't find a way to add an extra argument.", "url": "https://github.com/Anuken/Mindustry/pull/2660#discussion_r492898237", "createdAt": "2020-09-22T17:06:56Z", "author": {"login": "J-VdS"}, "path": "server/src/mindustry/server/ServerControl.java", "diffHunk": "@@ -61,7 +61,7 @@ public ServerControl(String[] args){\n             \"bans\", \"\",\n             \"admins\", \"\",\n             \"shufflemode\", \"custom\",\n-            \"globalrules\", \"{reactorExplosions: false}\"\n+            \"globalrules\", \"{reactorExplosions: false}\" //schematicAllowed: true} //is not working", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjg4ODg5Nw=="}, "originalCommit": {"oid": "3a3367b510c0fe6ec0c858bd76138b8951b010ae"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA4NDY3NTM1OnYy", "diffSide": "RIGHT", "path": "core/src/mindustry/input/MobileInput.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxNjo1MjoxOFrOHWDjsw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxNzowNTozMlrOHWEEWw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjg4OTAxMQ==", "bodyText": "Why?", "url": "https://github.com/Anuken/Mindustry/pull/2660#discussion_r492889011", "createdAt": "2020-09-22T16:52:18Z", "author": {"login": "Anuken"}, "path": "core/src/mindustry/input/MobileInput.java", "diffHunk": "@@ -488,7 +488,7 @@ public boolean touchUp(int screenX, int screenY, int pointer, KeyCode button){\n             selectRequests.clear();\n             lastSchematic = schematics.create(lineStartX, lineStartY, lastLineX, lastLineY);\n             useSchematic(lastSchematic);\n-            if(selectRequests.isEmpty()){\n+            if (selectRequests.isEmpty()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3a3367b510c0fe6ec0c858bd76138b8951b010ae"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjg5NzM3MQ==", "bodyText": "idk, I didn't touch that file", "url": "https://github.com/Anuken/Mindustry/pull/2660#discussion_r492897371", "createdAt": "2020-09-22T17:05:32Z", "author": {"login": "J-VdS"}, "path": "core/src/mindustry/input/MobileInput.java", "diffHunk": "@@ -488,7 +488,7 @@ public boolean touchUp(int screenX, int screenY, int pointer, KeyCode button){\n             selectRequests.clear();\n             lastSchematic = schematics.create(lineStartX, lineStartY, lastLineX, lastLineY);\n             useSchematic(lastSchematic);\n-            if(selectRequests.isEmpty()){\n+            if (selectRequests.isEmpty()) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjg4OTAxMQ=="}, "originalCommit": {"oid": "3a3367b510c0fe6ec0c858bd76138b8951b010ae"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA4NDY3NTc1OnYy", "diffSide": "RIGHT", "path": "core/src/mindustry/input/DesktopInput.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxNjo1MjoyNFrOHWDj9g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxNzowMDo0OVrOHWD5Hw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjg4OTA3OA==", "bodyText": "Why?", "url": "https://github.com/Anuken/Mindustry/pull/2660#discussion_r492889078", "createdAt": "2020-09-22T16:52:24Z", "author": {"login": "Anuken"}, "path": "core/src/mindustry/input/DesktopInput.java", "diffHunk": "@@ -344,7 +344,7 @@ public void buildPlacementUI(Table table){\n \n         table.button(Icon.paste, Styles.clearPartiali, () -> {\n             ui.schematics.show();\n-        }).tooltip(\"@schematics\");\n+        }).tooltip(\"Schematics\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3a3367b510c0fe6ec0c858bd76138b8951b010ae"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjg5NDQ5NQ==", "bodyText": "typo", "url": "https://github.com/Anuken/Mindustry/pull/2660#discussion_r492894495", "createdAt": "2020-09-22T17:00:49Z", "author": {"login": "J-VdS"}, "path": "core/src/mindustry/input/DesktopInput.java", "diffHunk": "@@ -344,7 +344,7 @@ public void buildPlacementUI(Table table){\n \n         table.button(Icon.paste, Styles.clearPartiali, () -> {\n             ui.schematics.show();\n-        }).tooltip(\"@schematics\");\n+        }).tooltip(\"Schematics\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjg4OTA3OA=="}, "originalCommit": {"oid": "3a3367b510c0fe6ec0c858bd76138b8951b010ae"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA4NDY3NjA1OnYy", "diffSide": "RIGHT", "path": "core/src/mindustry/input/DesktopInput.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxNjo1MjoyOFrOHWDkIw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxNjo1MjoyOFrOHWDkIw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjg4OTEyMw==", "bodyText": "Why?", "url": "https://github.com/Anuken/Mindustry/pull/2660#discussion_r492889123", "createdAt": "2020-09-22T16:52:28Z", "author": {"login": "Anuken"}, "path": "core/src/mindustry/input/DesktopInput.java", "diffHunk": "@@ -416,7 +416,7 @@ void pollInput(){\n         if(Core.input.keyRelease(Binding.schematic_select) && !Core.scene.hasKeyboard()){\n             lastSchematic = schematics.create(schemX, schemY, rawCursorX, rawCursorY);\n             useSchematic(lastSchematic);\n-            if(selectRequests.isEmpty()){\n+            if (selectRequests.isEmpty()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3a3367b510c0fe6ec0c858bd76138b8951b010ae"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA4NDY3NjgzOnYy", "diffSide": "RIGHT", "path": "core/assets/bundles/bundle.properties", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxNjo1Mjo0MFrOHWDkqQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxNjo1Mjo0MFrOHWDkqQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjg4OTI1Nw==", "bodyText": "Extra random indent", "url": "https://github.com/Anuken/Mindustry/pull/2660#discussion_r492889257", "createdAt": "2020-09-22T16:52:40Z", "author": {"login": "Anuken"}, "path": "core/assets/bundles/bundle.properties", "diffHunk": "@@ -830,6 +832,7 @@ rules.lighting = Lighting\n rules.ambientlight = Ambient Light\n rules.solarpowermultiplier = Solar Power Multiplier\n \n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3a3367b510c0fe6ec0c858bd76138b8951b010ae"}, "originalPosition": 20}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA4NDY3NzczOnYy", "diffSide": "RIGHT", "path": "core/assets/bundles/bundle.properties", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxNjo1Mjo1MlrOHWDlKQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxNjo1Mjo1MlrOHWDlKQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjg4OTM4NQ==", "bodyText": "\"A\" should be capitalized", "url": "https://github.com/Anuken/Mindustry/pull/2660#discussion_r492889385", "createdAt": "2020-09-22T16:52:52Z", "author": {"login": "Anuken"}, "path": "core/assets/bundles/bundle.properties", "diffHunk": "@@ -803,6 +804,7 @@ mode.custom = Custom Rules\n \n rules.infiniteresources = Infinite Resources\n rules.reactorexplosions = Reactor Explosions\n+rules.schematic = Schematics allowed", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3a3367b510c0fe6ec0c858bd76138b8951b010ae"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA4NDY3ODg2OnYy", "diffSide": "RIGHT", "path": "core/src/mindustry/ui/dialogs/SchematicsDialog.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxNjo1MzoxM1rOHWDl8g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxNjo1MzoxM1rOHWDl8g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjg4OTU4Ng==", "bodyText": "random space", "url": "https://github.com/Anuken/Mindustry/pull/2660#discussion_r492889586", "createdAt": "2020-09-22T16:53:13Z", "author": {"login": "Anuken"}, "path": "core/src/mindustry/ui/dialogs/SchematicsDialog.java", "diffHunk": "@@ -64,8 +65,12 @@ void setup(){\n \n             t.update(() -> {\n                 if(Core.input.keyTap(Binding.chat) && Core.scene.getKeyboardFocus() == searchField && firstSchematic != null){\n-                    control.input.useSchematic(firstSchematic);\n-                    hide();\n+                    if(!Vars.state.rules.schematicAllowed){\n+                        ui.showInfo(\"@schematic.disabled\");\n+                    }else {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3a3367b510c0fe6ec0c858bd76138b8951b010ae"}, "originalPosition": 16}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4508, "cost": 1, "resetAt": "2021-11-12T09:44:50Z"}}}