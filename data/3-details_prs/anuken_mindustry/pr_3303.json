{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE3NDExMzY0", "number": 3303, "title": "Unit Weapon Stats", "bodyText": "Welp 6.0 is gonna be released soon so I doubt this will be merged but I'll create a PR anyway...\nThis PR does what the title says.\nHere's what a unit with multiple weapons looks like:\n\nHere's what a unit with weapons but no sprites for them looks like:\n\nStats for unit with no weapons remain unchanged.\nSummarization of changes:\n\nUpdated bundles to support weapon stat UI\nAmmoListValue now supports healing and sapping bullets\nAdded a check in AmmoListValue from displaying sapBulletTypes with pierce\nAdded part in generators that generates weapon stat UI sprites\n\nDon't know if this compiles, will update if it does not.", "createdAt": "2020-11-09T01:24:51Z", "url": "https://github.com/Anuken/Mindustry/pull/3303", "merged": true, "mergeCommit": {"oid": "e0b4eb7f8f6a9b62f14ea657b63c3f182f2cc4f3"}, "closed": true, "closedAt": "2020-11-13T19:43:16Z", "author": {"login": "genNAowl"}, "timelineItems": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdaVxKJAH2gAyNTE3NDExMzY0OmY5OTU0ZWE0Yzc2ZGZiOWU5N2NiMzFjYTU1ZDg1N2ZkYTI3Y2ZkNWU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdb1R1FAH2gAyNTE3NDExMzY0OjYzNmZmZmM3NTBmOGY0MDg5MWUyNTcxMWU4ZTcwM2M2MDEwMDUxZTc=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "f9954ea4c76dfb9e97cb31ca55d857fda27cfd5e", "author": {"user": {"login": "mnrsU", "name": "_m_nr_sU"}}, "url": "https://github.com/Anuken/Mindustry/commit/f9954ea4c76dfb9e97cb31ca55d857fda27cfd5e", "committedDate": "2020-11-08T01:20:58Z", "message": "initial implementation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1555e77348939401fdc5030d1b89b20d30dbac01", "author": {"user": {"login": "mnrsU", "name": "_m_nr_sU"}}, "url": "https://github.com/Anuken/Mindustry/commit/1555e77348939401fdc5030d1b89b20d30dbac01", "committedDate": "2020-11-08T01:21:03Z", "message": "Create WeaponListValue.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b448b90999069d53d3155c95e75c199649ff238e", "author": {"user": {"login": "mnrsU", "name": "_m_nr_sU"}}, "url": "https://github.com/Anuken/Mindustry/commit/b448b90999069d53d3155c95e75c199649ff238e", "committedDate": "2020-11-08T01:21:16Z", "message": "bundles"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d133709423ffba2681ae0d656ad6e8fbf8120685", "author": {"user": {"login": "mnrsU", "name": "_m_nr_sU"}}, "url": "https://github.com/Anuken/Mindustry/commit/d133709423ffba2681ae0d656ad6e8fbf8120685", "committedDate": "2020-11-08T02:31:47Z", "message": "update sprites"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "82348d4fff1a75fcbf53b8017d17ac39be90cfd2", "author": {"user": {"login": "mnrsU", "name": "_m_nr_sU"}}, "url": "https://github.com/Anuken/Mindustry/commit/82348d4fff1a75fcbf53b8017d17ac39be90cfd2", "committedDate": "2020-11-08T22:35:06Z", "message": "update sprite generation + update bullet stats"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "490beb242aff00f003d378dd0cca0b0421a2ac63", "author": {"user": {"login": "mnrsU", "name": "_m_nr_sU"}}, "url": "https://github.com/Anuken/Mindustry/commit/490beb242aff00f003d378dd0cca0b0421a2ac63", "committedDate": "2020-11-08T23:21:27Z", "message": "Merge remote-tracking branch 'upstream/master' into unit-stats"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e9c00d8a9f92b8162e2d389633200f69e3e11d4d", "author": {"user": {"login": "mnrsU", "name": "_m_nr_sU"}}, "url": "https://github.com/Anuken/Mindustry/commit/e9c00d8a9f92b8162e2d389633200f69e3e11d4d", "committedDate": "2020-11-09T01:23:05Z", "message": "remove unused imports"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3a27e6e94e24923fc5888471bca0184ed99c8a64", "author": {"user": {"login": "mnrsU", "name": "_m_nr_sU"}}, "url": "https://github.com/Anuken/Mindustry/commit/3a27e6e94e24923fc5888471bca0184ed99c8a64", "committedDate": "2020-11-10T05:52:42Z", "message": "Merge remote-tracking branch 'upstream/master' into unit-stats"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4d3c6879b53b1cb90dfabfc012ed65ff4cc89187", "author": {"user": {"login": "mnrsU", "name": "_m_nr_sU"}}, "url": "https://github.com/Anuken/Mindustry/commit/4d3c6879b53b1cb90dfabfc012ed65ff4cc89187", "committedDate": "2020-11-11T21:27:03Z", "message": "Fix many things"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "14ee997a76e8b4c4e2f0970d0030352d0809c000", "author": {"user": {"login": "mnrsU", "name": "_m_nr_sU"}}, "url": "https://github.com/Anuken/Mindustry/commit/14ee997a76e8b4c4e2f0970d0030352d0809c000", "committedDate": "2020-11-12T00:49:29Z", "message": "Merge remote-tracking branch 'upstream/master' into unit-stats"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "21a8a39344994c87fcf289321658f69f41def1ff", "author": {"user": {"login": "genNAowl", "name": null}}, "url": "https://github.com/Anuken/Mindustry/commit/21a8a39344994c87fcf289321658f69f41def1ff", "committedDate": "2020-11-12T00:50:37Z", "message": "Merge branch 'master' into unit-stats"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI5MTUwODM3", "url": "https://github.com/Anuken/Mindustry/pull/3303#pullrequestreview-529150837", "createdAt": "2020-11-12T14:39:31Z", "commit": {"oid": "21a8a39344994c87fcf289321658f69f41def1ff"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMlQxNDozOTozMVrOHx90ag==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMlQxNDozOTozMVrOHx90ag==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjE1NTExNA==", "bodyText": "Use .scaling(Scaling.fit) for weapon images.", "url": "https://github.com/Anuken/Mindustry/pull/3303#discussion_r522155114", "createdAt": "2020-11-12T14:39:31Z", "author": {"login": "Anuken"}, "path": "core/src/mindustry/world/meta/values/WeaponListValue.java", "diffHunk": "@@ -0,0 +1,57 @@\n+package mindustry.world.meta.values;\n+\n+import arc.*;\n+import arc.util.*;\n+import arc.scene.ui.layout.*;\n+import arc.struct.*;\n+import mindustry.gen.*;\n+import mindustry.type.*;\n+import mindustry.ui.*;\n+import mindustry.world.meta.*;\n+\n+import static mindustry.Vars.*;\n+\n+public class WeaponListValue implements StatValue{\n+    private final Seq<Weapon> weapons;\n+    private final UnitType unit;\n+\n+    public WeaponListValue(UnitType unit, Seq<Weapon> weapons){\n+        this.weapons = weapons;\n+        this.unit = unit;\n+    }\n+\n+    @Override\n+    public void display(Table table){\n+        table.row();\n+        for(int i = 0;i < weapons.size;i ++){\n+            Weapon weapon = weapons.get(i);\n+\n+            if(weapon.flipSprite){\n+                //fliped weapons are not given stats\n+                continue;\n+            }\n+\n+            if(weapon.outlineRegion.found()){\n+                table.image(weapon.outlineRegion).size(10 * 8).right().top();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "21a8a39344994c87fcf289321658f69f41def1ff"}, "originalPosition": 35}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "636fffc750f8f40891e25711e8e703c6010051e7", "author": {"user": {"login": "mnrsU", "name": "_m_nr_sU"}}, "url": "https://github.com/Anuken/Mindustry/commit/636fffc750f8f40891e25711e8e703c6010051e7", "committedDate": "2020-11-12T16:37:38Z", "message": "scaling(Scaling.fit)\n\nUntested"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2413, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}