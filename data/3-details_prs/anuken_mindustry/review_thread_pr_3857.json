{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM0MTQwODI0", "number": 3857, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0yMFQyMTo0NzowOVrOFRGD9w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0yMFQyMTo0NzowOVrOFRGD9w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzUzNDY5NDMxOnYy", "diffSide": "RIGHT", "path": "core/src/mindustry/input/DesktopInput.java", "isResolved": true, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0yMFQyMTo0NzowOVrOIXUwwA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0yMVQwMjowODo1MlrOIXdvOw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MTMyODMyMA==", "bodyText": "You should probably initialize this table with t.color.a = 0 so it starts out hidden.", "url": "https://github.com/Anuken/Mindustry/pull/3857#discussion_r561328320", "createdAt": "2021-01-20T21:47:09Z", "author": {"login": "Anuken"}, "path": "core/src/mindustry/input/DesktopInput.java", "diffHunk": "@@ -68,14 +68,28 @@ public void buildUI(Group group){\n             t.touchable(() -> t.color.a < 0.1f ? Touchable.disabled : Touchable.childrenOnly);\n             t.table(Styles.black6, b -> {\n                 b.defaults().left();\n-                b.label(() -> Core.bundle.format(!isBuilding ?  \"resumebuilding\" : \"pausebuilding\", Core.keybinds.get(Binding.pause_building).key.toString())).style(Styles.outlineLabel);\n+                b.label(() -> Core.bundle.format(isBuilding ? \"pausebuilding\" : \"resumebuilding\", Core.keybinds.get(Binding.pause_building).key.toString())).style(Styles.outlineLabel);\n                 b.row();\n                 b.label(() -> Core.bundle.format(\"cancelbuilding\", Core.keybinds.get(Binding.clear_building).key.toString())).style(Styles.outlineLabel);\n                 b.row();\n                 b.label(() -> Core.bundle.format(\"selectschematic\", Core.keybinds.get(Binding.schematic_select).key.toString())).style(Styles.outlineLabel);\n             }).margin(10f);\n         });\n \n+        //build enable hint\n+        group.fill(t -> {\n+            t.bottom();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ab7947ac5407d035069939ec41efe3787c83e0ad"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MTMzOTA4Nw==", "bodyText": "Then shouldn't that also be applied to the other building hint table above?", "url": "https://github.com/Anuken/Mindustry/pull/3857#discussion_r561339087", "createdAt": "2021-01-20T22:07:51Z", "author": {"login": "joshuaptfan"}, "path": "core/src/mindustry/input/DesktopInput.java", "diffHunk": "@@ -68,14 +68,28 @@ public void buildUI(Group group){\n             t.touchable(() -> t.color.a < 0.1f ? Touchable.disabled : Touchable.childrenOnly);\n             t.table(Styles.black6, b -> {\n                 b.defaults().left();\n-                b.label(() -> Core.bundle.format(!isBuilding ?  \"resumebuilding\" : \"pausebuilding\", Core.keybinds.get(Binding.pause_building).key.toString())).style(Styles.outlineLabel);\n+                b.label(() -> Core.bundle.format(isBuilding ? \"pausebuilding\" : \"resumebuilding\", Core.keybinds.get(Binding.pause_building).key.toString())).style(Styles.outlineLabel);\n                 b.row();\n                 b.label(() -> Core.bundle.format(\"cancelbuilding\", Core.keybinds.get(Binding.clear_building).key.toString())).style(Styles.outlineLabel);\n                 b.row();\n                 b.label(() -> Core.bundle.format(\"selectschematic\", Core.keybinds.get(Binding.schematic_select).key.toString())).style(Styles.outlineLabel);\n             }).margin(10f);\n         });\n \n+        //build enable hint\n+        group.fill(t -> {\n+            t.bottom();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MTMyODMyMA=="}, "originalCommit": {"oid": "ab7947ac5407d035069939ec41efe3787c83e0ad"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MTM5NDM4MQ==", "bodyText": "The difference is that this one starts out visible, while the other hints box does not.", "url": "https://github.com/Anuken/Mindustry/pull/3857#discussion_r561394381", "createdAt": "2021-01-20T23:52:04Z", "author": {"login": "Anuken"}, "path": "core/src/mindustry/input/DesktopInput.java", "diffHunk": "@@ -68,14 +68,28 @@ public void buildUI(Group group){\n             t.touchable(() -> t.color.a < 0.1f ? Touchable.disabled : Touchable.childrenOnly);\n             t.table(Styles.black6, b -> {\n                 b.defaults().left();\n-                b.label(() -> Core.bundle.format(!isBuilding ?  \"resumebuilding\" : \"pausebuilding\", Core.keybinds.get(Binding.pause_building).key.toString())).style(Styles.outlineLabel);\n+                b.label(() -> Core.bundle.format(isBuilding ? \"pausebuilding\" : \"resumebuilding\", Core.keybinds.get(Binding.pause_building).key.toString())).style(Styles.outlineLabel);\n                 b.row();\n                 b.label(() -> Core.bundle.format(\"cancelbuilding\", Core.keybinds.get(Binding.clear_building).key.toString())).style(Styles.outlineLabel);\n                 b.row();\n                 b.label(() -> Core.bundle.format(\"selectschematic\", Core.keybinds.get(Binding.schematic_select).key.toString())).style(Styles.outlineLabel);\n             }).margin(10f);\n         });\n \n+        //build enable hint\n+        group.fill(t -> {\n+            t.bottom();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MTMyODMyMA=="}, "originalCommit": {"oid": "ab7947ac5407d035069939ec41efe3787c83e0ad"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MTQ2MTE0NQ==", "bodyText": "Testing without t.color.a = 0, that line doesn't seem to be necessary. Tested these scenarios:\n\nStarting fresh custom game with auto-pause off: build enable hint not visible as expected, appears when pressing E.\nResuming saved game with building disabled: build enable hint visible as expected, disappears when pressing E.\nResuming saved game with building enabled: build enable hint not visible as expected, appears when pressing E.\nChanging auto-pause setting during game: some anomalous behavior, like having to press E twice to get hint to appear.\n\nisBuilding starts out true, which means the build enable hint is invisible at the start of the game.", "url": "https://github.com/Anuken/Mindustry/pull/3857#discussion_r561461145", "createdAt": "2021-01-21T01:47:44Z", "author": {"login": "joshuaptfan"}, "path": "core/src/mindustry/input/DesktopInput.java", "diffHunk": "@@ -68,14 +68,28 @@ public void buildUI(Group group){\n             t.touchable(() -> t.color.a < 0.1f ? Touchable.disabled : Touchable.childrenOnly);\n             t.table(Styles.black6, b -> {\n                 b.defaults().left();\n-                b.label(() -> Core.bundle.format(!isBuilding ?  \"resumebuilding\" : \"pausebuilding\", Core.keybinds.get(Binding.pause_building).key.toString())).style(Styles.outlineLabel);\n+                b.label(() -> Core.bundle.format(isBuilding ? \"pausebuilding\" : \"resumebuilding\", Core.keybinds.get(Binding.pause_building).key.toString())).style(Styles.outlineLabel);\n                 b.row();\n                 b.label(() -> Core.bundle.format(\"cancelbuilding\", Core.keybinds.get(Binding.clear_building).key.toString())).style(Styles.outlineLabel);\n                 b.row();\n                 b.label(() -> Core.bundle.format(\"selectschematic\", Core.keybinds.get(Binding.schematic_select).key.toString())).style(Styles.outlineLabel);\n             }).margin(10f);\n         });\n \n+        //build enable hint\n+        group.fill(t -> {\n+            t.bottom();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MTMyODMyMA=="}, "originalCommit": {"oid": "ab7947ac5407d035069939ec41efe3787c83e0ad"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MTQ3NTM4Nw==", "bodyText": "Fixed inconsistencies by replacing !buildWasAutoPaused with !Core.settings.getBool(\"buildautopause\"). Now the build enable hint always reflects the state of isBuilding accurately, when auto-pause is disabled.", "url": "https://github.com/Anuken/Mindustry/pull/3857#discussion_r561475387", "createdAt": "2021-01-21T02:08:52Z", "author": {"login": "joshuaptfan"}, "path": "core/src/mindustry/input/DesktopInput.java", "diffHunk": "@@ -68,14 +68,28 @@ public void buildUI(Group group){\n             t.touchable(() -> t.color.a < 0.1f ? Touchable.disabled : Touchable.childrenOnly);\n             t.table(Styles.black6, b -> {\n                 b.defaults().left();\n-                b.label(() -> Core.bundle.format(!isBuilding ?  \"resumebuilding\" : \"pausebuilding\", Core.keybinds.get(Binding.pause_building).key.toString())).style(Styles.outlineLabel);\n+                b.label(() -> Core.bundle.format(isBuilding ? \"pausebuilding\" : \"resumebuilding\", Core.keybinds.get(Binding.pause_building).key.toString())).style(Styles.outlineLabel);\n                 b.row();\n                 b.label(() -> Core.bundle.format(\"cancelbuilding\", Core.keybinds.get(Binding.clear_building).key.toString())).style(Styles.outlineLabel);\n                 b.row();\n                 b.label(() -> Core.bundle.format(\"selectschematic\", Core.keybinds.get(Binding.schematic_select).key.toString())).style(Styles.outlineLabel);\n             }).margin(10f);\n         });\n \n+        //build enable hint\n+        group.fill(t -> {\n+            t.bottom();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MTMyODMyMA=="}, "originalCommit": {"oid": "ab7947ac5407d035069939ec41efe3787c83e0ad"}, "originalPosition": 15}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4579, "cost": 1, "resetAt": "2021-11-12T09:44:50Z"}}}