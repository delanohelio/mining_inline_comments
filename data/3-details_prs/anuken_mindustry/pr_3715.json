{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTMwOTQwNTM2", "number": 3715, "title": "Keep items inside reconstructor when construction booped", "bodyText": "its a pretty common occurrence that the reconstructor is deconstructed partially for a split second to clear out the unit currently stuck in there, the only problem is that it also gets rid of any items still remaining in there.\nthis pull does two things:\n\nreturns you all the items if you complete the partially deconstructed reconstructor again (must be the same block)\ntags all deconstructing blocks with what they were so they can be restored if they have custom overwrote logic\n\nduring testing i found that you can place a larger reconstructor over a smaller one (and that does not transfer any compatible items), but i am leaving that outside the scope of this pull request (+ who even does that?)", "createdAt": "2020-12-02T11:11:44Z", "url": "https://github.com/Anuken/Mindustry/pull/3715", "merged": true, "mergeCommit": {"oid": "c26a9bd123cb2d450f916e0d1beb67a810f79f2b"}, "closed": true, "closedAt": "2020-12-02T15:05:52Z", "author": {"login": "Quezler"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdiMdI-gH2gAyNTMwOTQwNTM2OjBkZDk1ZTczNmRiZjkwMzJkNDQ5YTBiZjczMjA5ZDNjYTIzMDE5M2Q=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdiP1kigFqTU0MjkxOTk5Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "0dd95e736dbf9032d449a0bf73209d3ca230193d", "author": {"user": {"login": "Quezler", "name": "Patrick 'Quezler' Mounier"}}, "url": "https://github.com/Anuken/Mindustry/commit/0dd95e736dbf9032d449a0bf73209d3ca230193d", "committedDate": "2020-12-02T11:01:21Z", "message": "Add items back to reconstructor if it overwrote itself"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "382e27e1e4f9ef5d545e790e8b00c2b10551fcd9", "author": {"user": {"login": "Quezler", "name": "Patrick 'Quezler' Mounier"}}, "url": "https://github.com/Anuken/Mindustry/commit/382e27e1e4f9ef5d545e790e8b00c2b10551fcd9", "committedDate": "2020-12-02T11:02:49Z", "message": "Populate prevBuild when deconstructting"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQyOTE5OTkz", "url": "https://github.com/Anuken/Mindustry/pull/3715#pullrequestreview-542919993", "createdAt": "2020-12-02T14:57:44Z", "commit": {"oid": "382e27e1e4f9ef5d545e790e8b00c2b10551fcd9"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQxNDo1Nzo0NFrOH9e-Pw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQxNDo1Nzo0NFrOH9e-Pw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDIzMjYzOQ==", "bodyText": "Can be empty.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        if(builds.first().block == block){\n          \n          \n            \n                        if(builds.any() && builds.first().block == block){", "url": "https://github.com/Anuken/Mindustry/pull/3715#discussion_r534232639", "createdAt": "2020-12-02T14:57:44Z", "author": {"login": "Anuken"}, "path": "core/src/mindustry/world/blocks/units/Reconstructor.java", "diffHunk": "@@ -114,6 +114,13 @@ public int getMaximumAccepted(Item item){\n             return capacities[item.id];\n         }\n \n+        @Override\n+        public void overwrote(Seq<Building> builds){\n+            if(builds.first().block == block){", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "382e27e1e4f9ef5d545e790e8b00c2b10551fcd9"}, "originalPosition": 6}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2385, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}