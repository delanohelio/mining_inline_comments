{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkxMDcwMjg4", "number": 2660, "title": "Server disable schematic option (fix #2382)", "bodyText": "removed copyAllowed\ncreate a popup when trying to build a schematic\nadd map rule", "createdAt": "2020-09-22T16:49:50Z", "url": "https://github.com/Anuken/Mindustry/pull/2660", "merged": true, "mergeCommit": {"oid": "75ebaab3a38b5b10eb31900979946ca1f4675a0a"}, "closed": true, "closedAt": "2020-09-24T02:01:07Z", "author": {"login": "J-VdS"}, "timelineItems": {"totalCount": 23, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc7obezAH2gAyNDkxMDcwMjg4OjMzN2Q1YjA1MzEzZmVmMWY4MTE4NDk4YWZkMDZkOTJmMGE1NjI4MGE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdLteuAgH2gAyNDkxMDcwMjg4OmQwYzZmMzI3NGIyNGNlNjIyMmM4OWJkYzBiOWEyODIzNjUwODZiYTA=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "337d5b05313fef1f8118498afd06d92f0a56280a", "author": {"user": {"login": "J-VdS", "name": null}}, "url": "https://github.com/Anuken/Mindustry/commit/337d5b05313fef1f8118498afd06d92f0a56280a", "committedDate": "2020-08-04T15:33:50Z", "message": "Merge pull request #1 from Anuken/master\n\n$ update"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fe18222c6c5a6b60531d60b4ad73724b6851375d", "author": {"user": null}, "url": "https://github.com/Anuken/Mindustry/commit/fe18222c6c5a6b60531d60b4ad73724b6851375d", "committedDate": "2020-08-19T14:11:00Z", "message": "block schematics"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a95296eccced7ddf85020ab35f378c6d280a302e", "author": {"user": {"login": "J-VdS", "name": null}}, "url": "https://github.com/Anuken/Mindustry/commit/a95296eccced7ddf85020ab35f378c6d280a302e", "committedDate": "2020-08-19T14:13:15Z", "message": "Merge pull request #3 from Anuken/master\n\nmerge 2"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4334a3c24bb1642c34ecb44825eafd75c070ce2d", "author": {"user": null}, "url": "https://github.com/Anuken/Mindustry/commit/4334a3c24bb1642c34ecb44825eafd75c070ce2d", "committedDate": "2020-08-19T14:14:48Z", "message": "Merge branch 'master' into schematic"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4938aac7317381e64e670e774a744b6f7bd738d5", "author": {"user": null}, "url": "https://github.com/Anuken/Mindustry/commit/4938aac7317381e64e670e774a744b6f7bd738d5", "committedDate": "2020-08-19T17:10:25Z", "message": "schematic server setting"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3753e8f54a9cde43375408abc68cbcc0f2fa007d", "author": {"user": null}, "url": "https://github.com/Anuken/Mindustry/commit/3753e8f54a9cde43375408abc68cbcc0f2fa007d", "committedDate": "2020-08-19T18:29:03Z", "message": "global rule not working"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0d425456befd4a7e907201d804db0bbac8e7b20e", "author": {"user": null}, "url": "https://github.com/Anuken/Mindustry/commit/0d425456befd4a7e907201d804db0bbac8e7b20e", "committedDate": "2020-08-20T18:46:04Z", "message": "allow copies"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a418d7e59f6a80580b18c8db03f8a9aa8ec23258", "author": {"user": null}, "url": "https://github.com/Anuken/Mindustry/commit/a418d7e59f6a80580b18c8db03f8a9aa8ec23258", "committedDate": "2020-08-20T21:34:24Z", "message": "fix mobile copysetting"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fee15caf7aa42f112eebe4c465885b6c37fd51a5", "author": {"user": {"login": "J-VdS", "name": null}}, "url": "https://github.com/Anuken/Mindustry/commit/fee15caf7aa42f112eebe4c465885b6c37fd51a5", "committedDate": "2020-08-28T11:38:46Z", "message": "Merge branch 'master' into schematic"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "51065b57c4da0fcbeae006c8b0a22a82de39146d", "author": {"user": null}, "url": "https://github.com/Anuken/Mindustry/commit/51065b57c4da0fcbeae006c8b0a22a82de39146d", "committedDate": "2020-09-22T16:40:04Z", "message": "info popup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f4003fd463bf5822f26e1bb4b70ed186ed1dd5ac", "author": {"user": null}, "url": "https://github.com/Anuken/Mindustry/commit/f4003fd463bf5822f26e1bb4b70ed186ed1dd5ac", "committedDate": "2020-09-22T16:41:24Z", "message": "merge"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "393ca67291d69ed80223fbec40378641f50361f0", "author": {"user": null}, "url": "https://github.com/Anuken/Mindustry/commit/393ca67291d69ed80223fbec40378641f50361f0", "committedDate": "2020-09-22T16:42:59Z", "message": "cleanup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3a3367b510c0fe6ec0c858bd76138b8951b010ae", "author": {"user": null}, "url": "https://github.com/Anuken/Mindustry/commit/3a3367b510c0fe6ec0c858bd76138b8951b010ae", "committedDate": "2020-09-22T16:46:28Z", "message": "prepush2"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkzNjYyNzMz", "url": "https://github.com/Anuken/Mindustry/pull/2660#pullrequestreview-493662733", "createdAt": "2020-09-22T16:52:06Z", "commit": {"oid": "3a3367b510c0fe6ec0c858bd76138b8951b010ae"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxNjo1MjowN1rOHWDjQQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxNjo1MzoxM1rOHWDl8g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjg4ODg5Nw==", "bodyText": "It's true by default, why add it here in the first place?", "url": "https://github.com/Anuken/Mindustry/pull/2660#discussion_r492888897", "createdAt": "2020-09-22T16:52:07Z", "author": {"login": "Anuken"}, "path": "server/src/mindustry/server/ServerControl.java", "diffHunk": "@@ -61,7 +61,7 @@ public ServerControl(String[] args){\n             \"bans\", \"\",\n             \"admins\", \"\",\n             \"shufflemode\", \"custom\",\n-            \"globalrules\", \"{reactorExplosions: false}\"\n+            \"globalrules\", \"{reactorExplosions: false}\" //schematicAllowed: true} //is not working", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3a3367b510c0fe6ec0c858bd76138b8951b010ae"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjg4OTAxMQ==", "bodyText": "Why?", "url": "https://github.com/Anuken/Mindustry/pull/2660#discussion_r492889011", "createdAt": "2020-09-22T16:52:18Z", "author": {"login": "Anuken"}, "path": "core/src/mindustry/input/MobileInput.java", "diffHunk": "@@ -488,7 +488,7 @@ public boolean touchUp(int screenX, int screenY, int pointer, KeyCode button){\n             selectRequests.clear();\n             lastSchematic = schematics.create(lineStartX, lineStartY, lastLineX, lastLineY);\n             useSchematic(lastSchematic);\n-            if(selectRequests.isEmpty()){\n+            if (selectRequests.isEmpty()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3a3367b510c0fe6ec0c858bd76138b8951b010ae"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjg4OTA3OA==", "bodyText": "Why?", "url": "https://github.com/Anuken/Mindustry/pull/2660#discussion_r492889078", "createdAt": "2020-09-22T16:52:24Z", "author": {"login": "Anuken"}, "path": "core/src/mindustry/input/DesktopInput.java", "diffHunk": "@@ -344,7 +344,7 @@ public void buildPlacementUI(Table table){\n \n         table.button(Icon.paste, Styles.clearPartiali, () -> {\n             ui.schematics.show();\n-        }).tooltip(\"@schematics\");\n+        }).tooltip(\"Schematics\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3a3367b510c0fe6ec0c858bd76138b8951b010ae"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjg4OTEyMw==", "bodyText": "Why?", "url": "https://github.com/Anuken/Mindustry/pull/2660#discussion_r492889123", "createdAt": "2020-09-22T16:52:28Z", "author": {"login": "Anuken"}, "path": "core/src/mindustry/input/DesktopInput.java", "diffHunk": "@@ -416,7 +416,7 @@ void pollInput(){\n         if(Core.input.keyRelease(Binding.schematic_select) && !Core.scene.hasKeyboard()){\n             lastSchematic = schematics.create(schemX, schemY, rawCursorX, rawCursorY);\n             useSchematic(lastSchematic);\n-            if(selectRequests.isEmpty()){\n+            if (selectRequests.isEmpty()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3a3367b510c0fe6ec0c858bd76138b8951b010ae"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjg4OTI1Nw==", "bodyText": "Extra random indent", "url": "https://github.com/Anuken/Mindustry/pull/2660#discussion_r492889257", "createdAt": "2020-09-22T16:52:40Z", "author": {"login": "Anuken"}, "path": "core/assets/bundles/bundle.properties", "diffHunk": "@@ -830,6 +832,7 @@ rules.lighting = Lighting\n rules.ambientlight = Ambient Light\n rules.solarpowermultiplier = Solar Power Multiplier\n \n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3a3367b510c0fe6ec0c858bd76138b8951b010ae"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjg4OTM4NQ==", "bodyText": "\"A\" should be capitalized", "url": "https://github.com/Anuken/Mindustry/pull/2660#discussion_r492889385", "createdAt": "2020-09-22T16:52:52Z", "author": {"login": "Anuken"}, "path": "core/assets/bundles/bundle.properties", "diffHunk": "@@ -803,6 +804,7 @@ mode.custom = Custom Rules\n \n rules.infiniteresources = Infinite Resources\n rules.reactorexplosions = Reactor Explosions\n+rules.schematic = Schematics allowed", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3a3367b510c0fe6ec0c858bd76138b8951b010ae"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mjg4OTU4Ng==", "bodyText": "random space", "url": "https://github.com/Anuken/Mindustry/pull/2660#discussion_r492889586", "createdAt": "2020-09-22T16:53:13Z", "author": {"login": "Anuken"}, "path": "core/src/mindustry/ui/dialogs/SchematicsDialog.java", "diffHunk": "@@ -64,8 +65,12 @@ void setup(){\n \n             t.update(() -> {\n                 if(Core.input.keyTap(Binding.chat) && Core.scene.getKeyboardFocus() == searchField && firstSchematic != null){\n-                    control.input.useSchematic(firstSchematic);\n-                    hide();\n+                    if(!Vars.state.rules.schematicAllowed){\n+                        ui.showInfo(\"@schematic.disabled\");\n+                    }else {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3a3367b510c0fe6ec0c858bd76138b8951b010ae"}, "originalPosition": 16}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "89ea055a24a7b37c9306e7558de327026aaafd00", "author": {"user": {"login": "J-VdS", "name": null}}, "url": "https://github.com/Anuken/Mindustry/commit/89ea055a24a7b37c9306e7558de327026aaafd00", "committedDate": "2020-09-22T16:58:47Z", "message": "comment change"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4608697d0d16191ab685adce34398eb3a68c8fc0", "author": {"user": {"login": "J-VdS", "name": null}}, "url": "https://github.com/Anuken/Mindustry/commit/4608697d0d16191ab685adce34398eb3a68c8fc0", "committedDate": "2020-09-22T16:59:35Z", "message": "capitals"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ba4612ed96c3c8c4c95ee6ccf86a2187405ce222", "author": {"user": {"login": "J-VdS", "name": null}}, "url": "https://github.com/Anuken/Mindustry/commit/ba4612ed96c3c8c4c95ee6ccf86a2187405ce222", "committedDate": "2020-09-22T17:00:25Z", "message": "indent"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a0913c67dff1c36a05dba1ab3aec77f1dbeea5f3", "author": {"user": {"login": "J-VdS", "name": null}}, "url": "https://github.com/Anuken/Mindustry/commit/a0913c67dff1c36a05dba1ab3aec77f1dbeea5f3", "committedDate": "2020-09-22T17:01:51Z", "message": "Update DesktopInput.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "890dfdeb063d6e8b49c07184f64ff82698e0783b", "author": {"user": {"login": "J-VdS", "name": null}}, "url": "https://github.com/Anuken/Mindustry/commit/890dfdeb063d6e8b49c07184f64ff82698e0783b", "committedDate": "2020-09-22T17:03:27Z", "message": "weird intellij"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "428c396968eee57cb0b7b7ad903b40f0ad331cf5", "author": {"user": {"login": "J-VdS", "name": null}}, "url": "https://github.com/Anuken/Mindustry/commit/428c396968eee57cb0b7b7ad903b40f0ad331cf5", "committedDate": "2020-09-22T17:04:05Z", "message": "Update SchematicsDialog.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "28cd08bdd17e361780c5e69e40fd9d0dbdbc9ae9", "author": {"user": {"login": "J-VdS", "name": null}}, "url": "https://github.com/Anuken/Mindustry/commit/28cd08bdd17e361780c5e69e40fd9d0dbdbc9ae9", "committedDate": "2020-09-22T17:04:42Z", "message": "idk"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1e10817708b2422e6bbda09d413e75ded736a619", "author": {"user": null}, "url": "https://github.com/Anuken/Mindustry/commit/1e10817708b2422e6bbda09d413e75ded736a619", "committedDate": "2020-09-23T14:26:48Z", "message": "revert file"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d0c6f3274b24ce6222c89bdc0b9a282365086ba0", "author": {"user": {"login": "J-VdS", "name": null}}, "url": "https://github.com/Anuken/Mindustry/commit/d0c6f3274b24ce6222c89bdc0b9a282365086ba0", "committedDate": "2020-09-23T14:29:41Z", "message": "Merge branch 'master' into schematic"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2553, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}