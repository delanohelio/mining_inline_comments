{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQ2NDA0MjYw", "number": 4163, "title": "Display unit cap modifier for core blocks", "bodyText": "core shard set to negative just for the screenshot*\n\n\nnot sure if a new category like \"special\" is needed, housing it under general for now\nthere is probably a shortcut for < 0 ? '-' : '+' somewhere that i haven't found yet\nmaybe a slight bundle change is needed, not sure if the current value reflects it", "createdAt": "2020-12-29T09:26:49Z", "url": "https://github.com/Anuken/Mindustry/pull/4163", "merged": true, "mergeCommit": {"oid": "e83cfe6cabf0198c562395ae846896d1a8d71d10"}, "closed": true, "closedAt": "2021-01-11T19:30:58Z", "author": {"login": "Quezler"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdq3P1sAH2gAyNTQ2NDA0MjYwOmRmODFlZTMyOWM0OTdkZDI1NWM4MDBmMWUxMjBhM2RjOWI1YTJlYzM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdq_K8xAH2gAyNTQ2NDA0MjYwOmY0NTliNDNkNGUxM2I0NjMwNmUxMzQyODE0YzI5MjllMGJkMjdjMTc=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "df81ee329c497dd255c800f1e120a3dc9b5a2ec3", "author": {"user": {"login": "Quezler", "name": "Patrick 'Quezler' Mounier"}}, "url": "https://github.com/Anuken/Mindustry/commit/df81ee329c497dd255c800f1e120a3dc9b5a2ec3", "committedDate": "2020-12-29T09:24:08Z", "message": "Display unit cap modifier for core blocks"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f346ffe4301e0010243d67a5741117402d0bd94f", "author": {"user": {"login": "Quezler", "name": "Patrick 'Quezler' Mounier"}}, "url": "https://github.com/Anuken/Mindustry/commit/f346ffe4301e0010243d67a5741117402d0bd94f", "committedDate": "2020-12-29T09:27:23Z", "message": "Move maxUnits stat from crafting to general"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU5NTg3NzQ1", "url": "https://github.com/Anuken/Mindustry/pull/4163#pullrequestreview-559587745", "createdAt": "2020-12-29T15:41:33Z", "commit": {"oid": "f346ffe4301e0010243d67a5741117402d0bd94f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOVQxNTo0MTozM1rOIMSH4A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOVQxNTo0MTozM1rOIMSH4A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTc1MDc1Mg==", "bodyText": "This is a very simple case, you shouldn't need to use Strings.format here. Just concatenate.\nI don't think the space between + num is necessary.", "url": "https://github.com/Anuken/Mindustry/pull/4163#discussion_r549750752", "createdAt": "2020-12-29T15:41:33Z", "author": {"login": "Anuken"}, "path": "core/src/mindustry/world/Block.java", "diffHunk": "@@ -375,6 +375,8 @@ public void setBars(){\n         if(hasItems && configurable){\n             bars.add(\"items\", entity -> new Bar(() -> Core.bundle.format(\"bar.items\", entity.items.total()), () -> Pal.items, () -> (float)entity.items.total() / itemCapacity));\n         }\n+        \n+        if(flags.contains(BlockFlag.unitModifier)) stats.add(Stat.maxUnits, Strings.format(\"@ @\", unitCapModifier < 0 ? '-' : '+', Math.abs(unitCapModifier)));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f346ffe4301e0010243d67a5741117402d0bd94f"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f459b43d4e13b46306e1342814c2929e0bd27c17", "author": {"user": {"login": "Quezler", "name": "Patrick 'Quezler' Mounier"}}, "url": "https://github.com/Anuken/Mindustry/commit/f459b43d4e13b46306e1342814c2929e0bd27c17", "committedDate": "2020-12-29T18:38:02Z", "message": "Omit string formatting"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2228, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}