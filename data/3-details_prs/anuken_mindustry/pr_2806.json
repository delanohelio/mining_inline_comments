{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk3MTkzMzE2", "number": 2806, "title": "Incendiary Bullets Make Fires When Hitting Tiles", "bodyText": "...But not when despawning", "createdAt": "2020-10-03T01:19:03Z", "url": "https://github.com/Anuken/Mindustry/pull/2806", "merged": true, "mergeCommit": {"oid": "93e21c6bf9e672823909745b15248e5bb75993ce"}, "closed": true, "closedAt": "2020-10-05T20:35:14Z", "author": {"login": "genNAowl"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc7DfEiAH2gAyNDk3MTkzMzE2OmQyYmMyYjA3YTliZDkwYTY5MGM0MDA4ODU1OTc2ODg0YmI4OWVmYjM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdOy0yOgH2gAyNDk3MTkzMzE2OjYwZDUwNDgxNDA2ZTNhMmQxZjIwM2I4ZGM3YTY3MzdkZmIwY2EzMmY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "d2bc2b07a9bd90a690c4008855976884bb89efb3", "author": {"user": {"login": "mnrsU", "name": "_m_nr_sU"}}, "url": "https://github.com/Anuken/Mindustry/commit/d2bc2b07a9bd90a690c4008855976884bb89efb3", "committedDate": "2020-08-02T20:31:16Z", "message": "the statud effect burning affects tiles"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e17ad7a4292cd86d80caaa64617121c12c841e56", "author": {"user": {"login": "mnrsU", "name": "_m_nr_sU"}}, "url": "https://github.com/Anuken/Mindustry/commit/e17ad7a4292cd86d80caaa64617121c12c841e56", "committedDate": "2020-10-03T00:47:11Z", "message": "Merge remote-tracking branch 'upstream/master' into burning-affects-tiles"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "88639fffc5f5b1cadaf5367f25c2086e9c1138d3", "author": {"user": {"login": "mnrsU", "name": "_m_nr_sU"}}, "url": "https://github.com/Anuken/Mindustry/commit/88639fffc5f5b1cadaf5367f25c2086e9c1138d3", "committedDate": "2020-10-03T01:17:51Z", "message": "fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "39e956c934261d8d2ec6a0aa015807c9fe9c3fb4", "author": {"user": {"login": "mnrsU", "name": "_m_nr_sU"}}, "url": "https://github.com/Anuken/Mindustry/commit/39e956c934261d8d2ec6a0aa015807c9fe9c3fb4", "committedDate": "2020-10-03T01:26:17Z", "message": "Update BulletType.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5aa0ce97b82aeac34cd01dd41331e8ebb9e278b4", "author": {"user": {"login": "mnrsU", "name": "_m_nr_sU"}}, "url": "https://github.com/Anuken/Mindustry/commit/5aa0ce97b82aeac34cd01dd41331e8ebb9e278b4", "committedDate": "2020-10-03T01:27:33Z", "message": "fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ca70b9c705fc9fd32fa0d3e7ef5ec30b5fe8947d", "author": {"user": {"login": "mnrsU", "name": "_m_nr_sU"}}, "url": "https://github.com/Anuken/Mindustry/commit/ca70b9c705fc9fd32fa0d3e7ef5ec30b5fe8947d", "committedDate": "2020-10-03T01:28:36Z", "message": "fix\n\n(again)"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAxNTExMzE3", "url": "https://github.com/Anuken/Mindustry/pull/2806#pullrequestreview-501511317", "createdAt": "2020-10-03T01:44:35Z", "commit": {"oid": "ca70b9c705fc9fd32fa0d3e7ef5ec30b5fe8947d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wM1QwMTo0NDozNVrOHb-7tg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wM1QwMTo0NDozNVrOHb-7tg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTEwNDY5NA==", "bodyText": "This should create exactly one Fire; createIncend may create multiple in a range, and that's not desirable here, especially considering damage can be 0 but splash damage can be >0.", "url": "https://github.com/Anuken/Mindustry/pull/2806#discussion_r499104694", "createdAt": "2020-10-03T01:44:35Z", "author": {"login": "Anuken"}, "path": "core/src/mindustry/entities/bullet/BulletType.java", "diffHunk": "@@ -144,6 +144,9 @@ public boolean collides(Bullet bullet, Building tile){\n     }\n \n     public void hitTile(Bullet b, Building tile, float initialHealth){\n+        if(status == StatusEffects.burning) {\n+            Damage.createIncend(b.x, b.y, damage / 10f, (int)damage / 10);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ca70b9c705fc9fd32fa0d3e7ef5ec30b5fe8947d"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "74c0d0d0fdbc2947171004047e39050b296658fa", "author": {"user": {"login": "mnrsU", "name": "_m_nr_sU"}}, "url": "https://github.com/Anuken/Mindustry/commit/74c0d0d0fdbc2947171004047e39050b296658fa", "committedDate": "2020-10-03T02:33:11Z", "message": "Update BulletType.java"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAxNTE1MDg0", "url": "https://github.com/Anuken/Mindustry/pull/2806#pullrequestreview-501515084", "createdAt": "2020-10-03T02:46:17Z", "commit": {"oid": "74c0d0d0fdbc2947171004047e39050b296658fa"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wM1QwMjo0NjoxN1rOHb_MbA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wM1QwMjo0NjoxN1rOHb_MbA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTEwODk3Mg==", "bodyText": "this can't be null, because other isn't null: use other.tile", "url": "https://github.com/Anuken/Mindustry/pull/2806#discussion_r499108972", "createdAt": "2020-10-03T02:46:17Z", "author": {"login": "Anuken"}, "path": "core/src/mindustry/entities/bullet/BulletType.java", "diffHunk": "@@ -192,7 +195,10 @@ public void hit(Bullet b, float x, float y){\n \n             if(status == StatusEffects.burning) {\n                 indexer.eachBlock(null, x, y, splashDamageRadius, other -> other.team != b.team, other -> {\n-                    Damage.createIncend(x, y, damage / 10f, (int)damage / 10);\n+                    Tile tile = world.tileWorld(other.x, other.y);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "74c0d0d0fdbc2947171004047e39050b296658fa"}, "originalPosition": 17}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e53a1d04725c56ab5d3cbe9402431c8d87562bcb", "author": {"user": {"login": "mnrsU", "name": "_m_nr_sU"}}, "url": "https://github.com/Anuken/Mindustry/commit/e53a1d04725c56ab5d3cbe9402431c8d87562bcb", "committedDate": "2020-10-03T02:47:47Z", "message": "Update BulletType.java"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAxNTE1Nzc5", "url": "https://github.com/Anuken/Mindustry/pull/2806#pullrequestreview-501515779", "createdAt": "2020-10-03T03:00:04Z", "commit": {"oid": "e53a1d04725c56ab5d3cbe9402431c8d87562bcb"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wM1QwMzowMDowNFrOHb_Pwg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wM1QwMzowMDowNFrOHb_Pwg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTEwOTgyNg==", "bodyText": "...same here, tile can't be null, so use tile.tile", "url": "https://github.com/Anuken/Mindustry/pull/2806#discussion_r499109826", "createdAt": "2020-10-03T03:00:04Z", "author": {"login": "Anuken"}, "path": "core/src/mindustry/entities/bullet/BulletType.java", "diffHunk": "@@ -144,6 +144,12 @@ public boolean collides(Bullet bullet, Building tile){\n     }\n \n     public void hitTile(Bullet b, Building tile, float initialHealth){\n+        if(status == StatusEffects.burning) {\n+            Tile buildTile = world.tileWorld(tile.x, tile.y);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e53a1d04725c56ab5d3cbe9402431c8d87562bcb"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "60d50481406e3a2d1f203b8dc7a6737dfb0ca32f", "author": {"user": {"login": "mnrsU", "name": "_m_nr_sU"}}, "url": "https://github.com/Anuken/Mindustry/commit/60d50481406e3a2d1f203b8dc7a6737dfb0ca32f", "committedDate": "2020-10-03T04:25:05Z", "message": "Update BulletType.java"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2585, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}