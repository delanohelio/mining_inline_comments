{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQ1Njc1NjIz", "number": 4127, "title": "Block (un)loader major improvements", "bodyText": "(help save me I'm a vault and I'm stuck)\n\nAdds max block size because ^ this is just downright silly\nMade it do pattern matching instead of casting over and over(my IDE did not error this out, so hopefully it works)\nMake it take consValid() into account(it does require power but completely ignores it)\n\n(Side note: I wanted to make max block size automatic and also at the PayloadAcceptor class, but it might jam the unit recon lines so I decided not to touch that)", "createdAt": "2020-12-26T09:32:03Z", "url": "https://github.com/Anuken/Mindustry/pull/4127", "merged": true, "mergeCommit": {"oid": "8d186493238dfba25137d8398c8eef2c51849ef0"}, "closed": true, "closedAt": "2020-12-27T03:10:38Z", "author": {"login": "sk7725"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdp5SefAH2gAyNTQ1Njc1NjIzOmQwNmI2ZTVhY2ExYTMzZDAwZWFlODFiYWQ3MTJkOWJkMzVlMTQzMmY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdqHI57gH2gAyNTQ1Njc1NjIzOjk5NTNlY2U2Y2Y4MjQ4MzIyM2NhOTNhNzViN2RlOWQzYzk3MzRhY2E=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "d06b6e5aca1a33d00eae81bad712d9bd35e1432f", "author": {"user": {"login": "sk7725", "name": "Sunny Kim"}}, "url": "https://github.com/Anuken/Mindustry/commit/d06b6e5aca1a33d00eae81bad712d9bd35e1432f", "committedDate": "2020-12-26T09:12:54Z", "message": "make it consider consVaild"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0403a94726333eae48044ac585d1394fde099121", "author": {"user": {"login": "sk7725", "name": "Sunny Kim"}}, "url": "https://github.com/Anuken/Mindustry/commit/0403a94726333eae48044ac585d1394fde099121", "committedDate": "2020-12-26T09:13:54Z", "message": "make this too"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d6446aebabeb28b3b7c26ce644657658eac4400c", "author": {"user": {"login": "sk7725", "name": "Sunny Kim"}}, "url": "https://github.com/Anuken/Mindustry/commit/d6446aebabeb28b3b7c26ce644657658eac4400c", "committedDate": "2020-12-26T09:27:01Z", "message": "pattern style and max block size"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU4ODc4MDA0", "url": "https://github.com/Anuken/Mindustry/pull/4127#pullrequestreview-558878004", "createdAt": "2020-12-26T14:50:31Z", "commit": {"oid": "d6446aebabeb28b3b7c26ce644657658eac4400c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNlQxNDo1MDozMVrOILkVkA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNlQxNDo1MDozMVrOILkVkA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTAwMDU5Mg==", "bodyText": "Instead of checking for consValid(), you should take efficiency into account. 50% power should mean 50% unload speed.", "url": "https://github.com/Anuken/Mindustry/pull/4127#discussion_r549000592", "createdAt": "2020-12-26T14:50:31Z", "author": {"login": "Anuken"}, "path": "core/src/mindustry/world/blocks/experimental/BlockLoader.java", "diffHunk": "@@ -99,7 +100,7 @@ public void updateTile(){\n \n                 //load up items\n                 if(payload.block().hasItems && items.any()){\n-                    if(timer(timerLoad, loadTime)){\n+                    if(consValid() && timer(timerLoad, loadTime)){", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d6446aebabeb28b3b7c26ce644657658eac4400c"}, "originalPosition": 24}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "25322870f78f4ec3f9f10006e28260a3a05d8818", "author": {"user": {"login": "sk7725", "name": "Sunny Kim"}}, "url": "https://github.com/Anuken/Mindustry/commit/25322870f78f4ec3f9f10006e28260a3a05d8818", "committedDate": "2020-12-26T16:34:29Z", "message": "Is there a better way to do this?"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c4a6bf07466a49552196febe0f809b572b3f548d", "author": {"user": {"login": "sk7725", "name": "Sunny Kim"}}, "url": "https://github.com/Anuken/Mindustry/commit/c4a6bf07466a49552196febe0f809b572b3f548d", "committedDate": "2020-12-26T16:34:48Z", "message": "Update BlockUnloader.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cda016fedecaba8172549a0680383cb2dc539262", "author": {"user": {"login": "sk7725", "name": "Sunny Kim"}}, "url": "https://github.com/Anuken/Mindustry/commit/cda016fedecaba8172549a0680383cb2dc539262", "committedDate": "2020-12-26T16:37:47Z", "message": "do not the /0"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dde6aca9fcb98a15b2be855912033c617cf2eade", "author": {"user": {"login": "sk7725", "name": "Sunny Kim"}}, "url": "https://github.com/Anuken/Mindustry/commit/dde6aca9fcb98a15b2be855912033c617cf2eade", "committedDate": "2020-12-26T16:38:34Z", "message": "prevent /0"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU4ODgyNDIy", "url": "https://github.com/Anuken/Mindustry/pull/4127#pullrequestreview-558882422", "createdAt": "2020-12-26T16:49:17Z", "commit": {"oid": "dde6aca9fcb98a15b2be855912033c617cf2eade"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNlQxNjo0OToxN1rOILk7Ng==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNlQxNjo0OToxN1rOILk7Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTAxMDIzMA==", "bodyText": "consValid() check seems redundant when you're already checking for efficiency.", "url": "https://github.com/Anuken/Mindustry/pull/4127#discussion_r549010230", "createdAt": "2020-12-26T16:49:17Z", "author": {"login": "Anuken"}, "path": "core/src/mindustry/world/blocks/experimental/BlockLoader.java", "diffHunk": "@@ -99,7 +100,7 @@ public void updateTile(){\n \n                 //load up items\n                 if(payload.block().hasItems && items.any()){\n-                    if(timer(timerLoad, loadTime)){\n+                    if(consValid() && efficiency() > 0.01f && timer(timerLoad, loadTime / efficiency())){", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dde6aca9fcb98a15b2be855912033c617cf2eade"}, "originalPosition": 24}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "da6fcc0e58b859141b3a2a098907870462dfdfaa", "author": {"user": {"login": "sk7725", "name": "Sunny Kim"}}, "url": "https://github.com/Anuken/Mindustry/commit/da6fcc0e58b859141b3a2a098907870462dfdfaa", "committedDate": "2020-12-27T00:22:48Z", "message": "test 1"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9953ece6cf82483223ca93a75b7de9d3c9734aca", "author": {"user": {"login": "sk7725", "name": "Sunny Kim"}}, "url": "https://github.com/Anuken/Mindustry/commit/9953ece6cf82483223ca93a75b7de9d3c9734aca", "committedDate": "2020-12-27T01:21:07Z", "message": "yup it works for enabled"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2215, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}