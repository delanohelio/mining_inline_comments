{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTAwNDI4NTU4", "number": 2882, "title": "Prevent plated conduits from leaking", "bodyText": "implements the popular \ud83d\ude80 suggestion from Anuken/Mindustry-Suggestions#717\n\nthis prevents plated conduits from leaking at all due to the cap texture region forming a visible seal:\n\nthis also removes the leak resistance property from conduits because its a technical nightmare that has bugged me forever:\n\na resistance of exactly 100 would stop leaking, while it was actually a valid value.\nit was not really intuitive, 1.5f would mean leak half, and 10f close to but not exactly a tenth?\nhttps://github.com/topics/mindustry-mod?q=leakResistance no mod with this topic appears to use the property.\nhttps://github.com/topics/mindustry-mods?q=leakResistance no mod with this topic appears to use the property.\n\nso this commit reverts that addition made in #999 and just puts the conduit leak rate back at what it was before.\npersonally i think this is the best solution for the problem, because even though it did leak less you would still not want to leave it unconnected for long or all the pressure would still drain rapidly over time the longer the pipe was, so now you can actually lay a purple pipe while it is already filling with fluids but without wasting any of it vs a blue pipe, i feel like this would be a good improvement to make the 3rd tier stand out more from the 2nd tier, and the votes on the suggestion seem to agree \ud83d\ude03\n\n(re)named it leaks instead of leak since it sounded a bit better, but i'll leave a clickable code suggestion for anuke :)", "createdAt": "2020-10-09T08:19:21Z", "url": "https://github.com/Anuken/Mindustry/pull/2882", "merged": true, "mergeCommit": {"oid": "ecd152a1147513b65012f75c38b7f91211252423"}, "closed": true, "closedAt": "2020-10-09T13:57:47Z", "author": {"login": "Quezler"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdQxm92AH2gAyNTAwNDI4NTU4OjE2NzJjNzBjOTkwNDZiMDU2YmMzNzc2ZjI1NTUyZDA3ZDFhNWI2MDI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdQxydMgFqTUwNTQ1OTgzMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "1672c70c99046b056bc3776f25552d07d1a5b602", "author": {"user": {"login": "Quezler", "name": "Patrick 'Quezler' Mounier"}}, "url": "https://github.com/Anuken/Mindustry/commit/1672c70c99046b056bc3776f25552d07d1a5b602", "committedDate": "2020-10-09T08:07:56Z", "message": "Update BuildingComp.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f3473e78b4e6a44a404daeb1b2a8c77444c5321a", "author": {"user": {"login": "Quezler", "name": "Patrick 'Quezler' Mounier"}}, "url": "https://github.com/Anuken/Mindustry/commit/f3473e78b4e6a44a404daeb1b2a8c77444c5321a", "committedDate": "2020-10-09T08:10:34Z", "message": "Update Conduit.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ae9093bfd68b3409f48f4602957c8a07beb2df1d", "author": {"user": {"login": "Quezler", "name": "Patrick 'Quezler' Mounier"}}, "url": "https://github.com/Anuken/Mindustry/commit/ae9093bfd68b3409f48f4602957c8a07beb2df1d", "committedDate": "2020-10-09T08:10:50Z", "message": "Update ArmoredConduit.java"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA1NDU5ODMy", "url": "https://github.com/Anuken/Mindustry/pull/2882#pullrequestreview-505459832", "createdAt": "2020-10-09T08:19:41Z", "commit": {"oid": "ae9093bfd68b3409f48f4602957c8a07beb2df1d"}, "state": "COMMENTED", "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQwODoxOTo0MVrOHe_3jw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQwODoyMDoyM1rOHe_5Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjI2NTc0Mw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                public float moveLiquidForward(boolean leaks, Liquid liquid){\n          \n          \n            \n                public float moveLiquidForward(boolean leak, Liquid liquid){", "url": "https://github.com/Anuken/Mindustry/pull/2882#discussion_r502265743", "createdAt": "2020-10-09T08:19:41Z", "author": {"login": "Quezler"}, "path": "core/src/mindustry/entities/comp/BuildingComp.java", "diffHunk": "@@ -507,15 +507,15 @@ public void transferLiquid(Building next, float amount, Liquid liquid){\n         }\n     }\n \n-    public float moveLiquidForward(float leakResistance, Liquid liquid){\n+    public float moveLiquidForward(boolean leaks, Liquid liquid){", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ae9093bfd68b3409f48f4602957c8a07beb2df1d"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjI2NTg2MA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    }else if(leaks && !next.block().solid && !next.block().hasLiquids){\n          \n          \n            \n                    }else if(leak && !next.block().solid && !next.block().hasLiquids){", "url": "https://github.com/Anuken/Mindustry/pull/2882#discussion_r502265860", "createdAt": "2020-10-09T08:19:53Z", "author": {"login": "Quezler"}, "path": "core/src/mindustry/entities/comp/BuildingComp.java", "diffHunk": "@@ -507,15 +507,15 @@ public void transferLiquid(Building next, float amount, Liquid liquid){\n         }\n     }\n \n-    public float moveLiquidForward(float leakResistance, Liquid liquid){\n+    public float moveLiquidForward(boolean leaks, Liquid liquid){\n         Tile next = tile.getNearby(rotation);\n \n         if(next == null) return 0;\n \n         if(next.build != null){\n             return moveLiquid(next.build, liquid);\n-        }else if(leakResistance != 100f && !next.block().solid && !next.block().hasLiquids){\n-            float leakAmount = liquids.get(liquid) / leakResistance;\n+        }else if(leaks && !next.block().solid && !next.block().hasLiquids){", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ae9093bfd68b3409f48f4602957c8a07beb2df1d"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjI2NTk3OA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    leaks = false;\n          \n          \n            \n                    leak = false;", "url": "https://github.com/Anuken/Mindustry/pull/2882#discussion_r502265978", "createdAt": "2020-10-09T08:20:04Z", "author": {"login": "Quezler"}, "path": "core/src/mindustry/world/blocks/liquid/ArmoredConduit.java", "diffHunk": "@@ -11,7 +11,7 @@\n \n     public ArmoredConduit(String name){\n         super(name);\n-        leakResistance = 10f;\n+        leaks = false;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ae9093bfd68b3409f48f4602957c8a07beb2df1d"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjI2NjA4NQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                public boolean leaks = true;\n          \n          \n            \n                public boolean leak = true;", "url": "https://github.com/Anuken/Mindustry/pull/2882#discussion_r502266085", "createdAt": "2020-10-09T08:20:14Z", "author": {"login": "Quezler"}, "path": "core/src/mindustry/world/blocks/liquid/Conduit.java", "diffHunk": "@@ -27,7 +27,7 @@\n     public @Load(value = \"@-top-#\", length = 5) TextureRegion[] topRegions;\n     public @Load(value = \"@-bottom-#\", length = 5, fallback = \"conduit-bottom-#\") TextureRegion[] botRegions;\n \n-    public float leakResistance = 1.5f;\n+    public boolean leaks = true;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ae9093bfd68b3409f48f4602957c8a07beb2df1d"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjI2NjE2Ng==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            moveLiquidForward(leaks, liquids.current());\n          \n          \n            \n                            moveLiquidForward(leak, liquids.current());", "url": "https://github.com/Anuken/Mindustry/pull/2882#discussion_r502266166", "createdAt": "2020-10-09T08:20:23Z", "author": {"login": "Quezler"}, "path": "core/src/mindustry/world/blocks/liquid/Conduit.java", "diffHunk": "@@ -131,7 +131,7 @@ public void updateTile(){\n             smoothLiquid = Mathf.lerpDelta(smoothLiquid, liquids.currentAmount() / liquidCapacity, 0.05f);\n \n             if(liquids.total() > 0.001f && timer(timerFlow, 1)){\n-                moveLiquidForward(leakResistance, liquids.current());\n+                moveLiquidForward(leaks, liquids.current());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ae9093bfd68b3409f48f4602957c8a07beb2df1d"}, "originalPosition": 14}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2497, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}