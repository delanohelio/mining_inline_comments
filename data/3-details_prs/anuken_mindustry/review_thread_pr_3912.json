{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM2MTgyNDI3", "number": 3912, "reviewThreads": {"totalCount": 15, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQxOToxNjo0NlrOFDpBAQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQxMToyMDozOFrOFE7u-w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM5MzYyMDQ5OnYy", "diffSide": "RIGHT", "path": "core/src/mindustry/input/InputHandler.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQxOToxNjo0NlrOIDZR_w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQxOToxNjo0NlrOIDZR_w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDQzMDg0Nw==", "bodyText": "these don't seem to be used anywhere other than the if right below it`:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            Tile start = world.tile(startX, startY);\n          \n          \n            \n                            Tile end = world.tile(endX, endY);\n          \n          \n            \n                            if(start.block() instanceof Conveyor && end.block() instanceof Conveyor){\n          \n          \n            \n                                points = Placement.upgradeConveyorLine(startX, startY, endX, endY);\n          \n          \n            \n                            }else{\n          \n          \n            \n                                points = Placement.pathfindLine(true, startX, startY, endX, endY);\n          \n          \n            \n                            }\n          \n          \n            \n                            if(world.tile(startX, startY).block() instanceof Conveyor && world.tile(endX, endY).block() instanceof Conveyor){\n          \n          \n            \n                                points = Placement.upgradeConveyorLine(startX, startY, endX, endY);\n          \n          \n            \n                            }else{\n          \n          \n            \n                                points = Placement.pathfindLine(true, startX, startY, endX, endY);\n          \n          \n            \n                            }", "url": "https://github.com/Anuken/Mindustry/pull/3912#discussion_r540430847", "createdAt": "2020-12-10T19:16:46Z", "author": {"login": "Quezler"}, "path": "core/src/mindustry/input/InputHandler.java", "diffHunk": "@@ -1161,7 +1162,17 @@ void iterateLine(int startX, int startY, int endX, int endY, Cons<PlaceLine> con\n         }\n \n         if(diagonal){\n-            points = Placement.pathfindLine(block != null && block.conveyorPlacement, startX, startY, endX, endY);\n+            if(block != null && block instanceof Conveyor){\n+                Tile start = world.tile(startX, startY);\n+                Tile end = world.tile(endX, endY);\n+                if(start.block() instanceof Conveyor && end.block() instanceof Conveyor){\n+                    points = Placement.upgradeConveyorLine(startX, startY, endX, endY);\n+                }else{\n+                    points = Placement.pathfindLine(true, startX, startY, endX, endY);\n+                }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4f8338d9f3e97f27f4774f59dec2ff6fa335406e"}, "originalPosition": 20}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQwMjA5MDk2OnYy", "diffSide": "RIGHT", "path": "core/src/mindustry/input/Placement.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMlQxNjozMzoyOFrOIEj8tQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMlQxNjo0NDo1MlrOIEkSCw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTY1NDE5Nw==", "bodyText": "These two functions are nearly the same, and use conduit/conveyor-specific implementation details. This isn't acceptable.", "url": "https://github.com/Anuken/Mindustry/pull/3912#discussion_r541654197", "createdAt": "2020-12-12T16:33:28Z", "author": {"login": "Anuken"}, "path": "core/src/mindustry/input/Placement.java", "diffHunk": "@@ -54,6 +55,32 @@\n         return points;\n     }\n \n+    public static Seq<Point2> upgradeConveyorLine(int startX, int startY, int endX, int endY){", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4245d5900c0290af7f1df038c82638a805311020"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTY1OTY1OQ==", "bodyText": "Yeah but Conduit and Conveyor is not the same thing. And also there won't be any new such blocks.", "url": "https://github.com/Anuken/Mindustry/pull/3912#discussion_r541659659", "createdAt": "2020-12-12T16:44:52Z", "author": {"login": "Slava0135"}, "path": "core/src/mindustry/input/Placement.java", "diffHunk": "@@ -54,6 +55,32 @@\n         return points;\n     }\n \n+    public static Seq<Point2> upgradeConveyorLine(int startX, int startY, int endX, int endY){", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTY1NDE5Nw=="}, "originalCommit": {"oid": "4245d5900c0290af7f1df038c82638a805311020"}, "originalPosition": 21}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQwMjA5MjYyOnYy", "diffSide": "RIGHT", "path": "core/src/mindustry/input/InputHandler.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMlQxNjozNDowOFrOIEj94Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMlQxNzowNDozMFrOIEk52Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTY1NDQ5Nw==", "bodyText": "Conduits/conveyors should not be hardcoded into the system with special functions to handle them. The logic for each type of block is practically identical.", "url": "https://github.com/Anuken/Mindustry/pull/3912#discussion_r541654497", "createdAt": "2020-12-12T16:34:08Z", "author": {"login": "Anuken"}, "path": "core/src/mindustry/input/InputHandler.java", "diffHunk": "@@ -1161,7 +1163,15 @@ void iterateLine(int startX, int startY, int endX, int endY, Cons<PlaceLine> con\n         }\n \n         if(diagonal){\n-            points = Placement.pathfindLine(block != null && block.conveyorPlacement, startX, startY, endX, endY);\n+            Tile start = world.tile(startX, startY);\n+            Tile end = world.tile(endX, endY);\n+            if(block != null && block instanceof Conveyor && start.block() instanceof Conveyor && end.block() instanceof Conveyor && start.block() != block){", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4245d5900c0290af7f1df038c82638a805311020"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTY2MDA4Nw==", "bodyText": "I really don't know how to put them under one roof. Perhaps do something with AutoTiler?", "url": "https://github.com/Anuken/Mindustry/pull/3912#discussion_r541660087", "createdAt": "2020-12-12T16:45:42Z", "author": {"login": "Slava0135"}, "path": "core/src/mindustry/input/InputHandler.java", "diffHunk": "@@ -1161,7 +1163,15 @@ void iterateLine(int startX, int startY, int endX, int endY, Cons<PlaceLine> con\n         }\n \n         if(diagonal){\n-            points = Placement.pathfindLine(block != null && block.conveyorPlacement, startX, startY, endX, endY);\n+            Tile start = world.tile(startX, startY);\n+            Tile end = world.tile(endX, endY);\n+            if(block != null && block instanceof Conveyor && start.block() instanceof Conveyor && end.block() instanceof Conveyor && start.block() != block){", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTY1NDQ5Nw=="}, "originalCommit": {"oid": "4245d5900c0290af7f1df038c82638a805311020"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTY2OTg0OQ==", "bodyText": "add it to an interface", "url": "https://github.com/Anuken/Mindustry/pull/3912#discussion_r541669849", "createdAt": "2020-12-12T17:04:30Z", "author": {"login": "DeltaNedas"}, "path": "core/src/mindustry/input/InputHandler.java", "diffHunk": "@@ -1161,7 +1163,15 @@ void iterateLine(int startX, int startY, int endX, int endY, Cons<PlaceLine> con\n         }\n \n         if(diagonal){\n-            points = Placement.pathfindLine(block != null && block.conveyorPlacement, startX, startY, endX, endY);\n+            Tile start = world.tile(startX, startY);\n+            Tile end = world.tile(endX, endY);\n+            if(block != null && block instanceof Conveyor && start.block() instanceof Conveyor && end.block() instanceof Conveyor && start.block() != block){", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTY1NDQ5Nw=="}, "originalCommit": {"oid": "4245d5900c0290af7f1df038c82638a805311020"}, "originalPosition": 16}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQwMjIwMzIxOnYy", "diffSide": "RIGHT", "path": "core/src/mindustry/world/blocks/liquid/Conduit.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMlQxNzowNzozMVrOIElAOw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMlQxNzowNzozMVrOIElAOw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTY3MTQ4Mw==", "bodyText": "All this could be shortened by using ternary:\nreturn next != null && next.build instanceof ConduitBuild ? (ConduitBuild) next.build : null;", "url": "https://github.com/Anuken/Mindustry/pull/3912#discussion_r541671483", "createdAt": "2020-12-12T17:07:31Z", "author": {"login": "joshuaptfan"}, "path": "core/src/mindustry/world/blocks/liquid/Conduit.java", "diffHunk": "@@ -119,6 +119,16 @@ public void onProximityUpdate(){\n             blending = bits[4];\n         }\n \n+        @Nullable\n+        public ConduitBuild nextConduit(){\n+            Tile next = tile.nearby(rotation);\n+            if(next != null && next.build instanceof ConduitBuild){\n+                return (ConduitBuild) next.build;\n+            }else{\n+                return null;\n+            }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4245d5900c0290af7f1df038c82638a805311020"}, "originalPosition": 11}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQwMjc3NDMwOnYy", "diffSide": "RIGHT", "path": "core/src/mindustry/input/InputHandler.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMlQxOTo1MDoxMVrOIEqdrg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMlQxOTo1MDoxMVrOIEqdrg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTc2MDk0Mg==", "bodyText": "Actually this line is kinda redundant but idk if's good for performance or not. (start.block() != block)", "url": "https://github.com/Anuken/Mindustry/pull/3912#discussion_r541760942", "createdAt": "2020-12-12T19:50:11Z", "author": {"login": "Slava0135"}, "path": "core/src/mindustry/input/InputHandler.java", "diffHunk": "@@ -1165,10 +1164,13 @@ void iterateLine(int startX, int startY, int endX, int endY, Cons<PlaceLine> con\n         if(diagonal){\n             Tile start = world.tile(startX, startY);\n             Tile end = world.tile(endX, endY);\n-            if(block != null && block instanceof Conveyor && start.block() instanceof Conveyor && end.block() instanceof Conveyor && start.block() != block){\n-                points = Placement.upgradeConveyorLine(startX, startY, endX, endY);\n-            }else if(block != null && block instanceof Conduit && start.block() instanceof Conduit && end.block() instanceof Conduit && start.block() != block){\n-                points = Placement.upgradeConduitLine(startX, startY, endX, endY);\n+            if(block != null && block instanceof Autotiler\n+                    && start.block() != block", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "faf638a11f6b154854d0a6524e8cb751d2ca56c6"}, "originalPosition": 19}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQwNTc3MTQwOnYy", "diffSide": "RIGHT", "path": "core/src/mindustry/world/blocks/distribution/AutotilerBuilding.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQwNDo0NTowNlrOIE_rTQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQwNzoyODozOFrOIFDFSg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjEwODQ5Mw==", "bodyText": "Why is this called AutotilerBuilding when it has nothing to do with tiling itself...?", "url": "https://github.com/Anuken/Mindustry/pull/3912#discussion_r542108493", "createdAt": "2020-12-14T04:45:06Z", "author": {"login": "Anuken"}, "path": "core/src/mindustry/world/blocks/distribution/AutotilerBuilding.java", "diffHunk": "@@ -0,0 +1,9 @@\n+package mindustry.world.blocks.distribution;\n+\n+import mindustry.gen.Building;\n+import mindustry.world.Block;\n+\n+public interface AutotilerBuilding{", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c2518acf0aa90251d751102fe222ff238fbdb4ef"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjE2NDI5OA==", "bodyText": "Because I check if block is Autotiler in InputHandler. Both conduits and conveyors are inherited from it.", "url": "https://github.com/Anuken/Mindustry/pull/3912#discussion_r542164298", "createdAt": "2020-12-14T07:28:38Z", "author": {"login": "Slava0135"}, "path": "core/src/mindustry/world/blocks/distribution/AutotilerBuilding.java", "diffHunk": "@@ -0,0 +1,9 @@\n+package mindustry.world.blocks.distribution;\n+\n+import mindustry.gen.Building;\n+import mindustry.world.Block;\n+\n+public interface AutotilerBuilding{", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjEwODQ5Mw=="}, "originalCommit": {"oid": "c2518acf0aa90251d751102fe222ff238fbdb4ef"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQwNTc3MTkzOnYy", "diffSide": "RIGHT", "path": "core/src/mindustry/world/blocks/distribution/AutotilerBuilding.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQwNDo0NToxOVrOIE_rjQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQwNDo0NToxOVrOIE_rjQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjEwODU1Nw==", "bodyText": "Why not just use build.block?", "url": "https://github.com/Anuken/Mindustry/pull/3912#discussion_r542108557", "createdAt": "2020-12-14T04:45:19Z", "author": {"login": "Anuken"}, "path": "core/src/mindustry/world/blocks/distribution/AutotilerBuilding.java", "diffHunk": "@@ -0,0 +1,9 @@\n+package mindustry.world.blocks.distribution;\n+\n+import mindustry.gen.Building;\n+import mindustry.world.Block;\n+\n+public interface AutotilerBuilding{\n+    Building next();\n+    Block getBlockBasedOn();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c2518acf0aa90251d751102fe222ff238fbdb4ef"}, "originalPosition": 8}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQwNTc3MjczOnYy", "diffSide": "RIGHT", "path": "core/src/mindustry/input/Placement.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQwNDo0NTo0MlrOIE_r8w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQwNDo0NTo0MlrOIE_r8w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjEwODY1OQ==", "bodyText": "unnecessary space before cast", "url": "https://github.com/Anuken/Mindustry/pull/3912#discussion_r542108659", "createdAt": "2020-12-14T04:45:42Z", "author": {"login": "Anuken"}, "path": "core/src/mindustry/input/Placement.java", "diffHunk": "@@ -54,6 +55,20 @@\n         return points;\n     }\n \n+    public static Seq<Point2> upgradeLine(int startX, int startY, int endX, int endY){\n+        Pools.freeAll(points);\n+        points.clear();\n+        Building building = world.tile(startX, startY).build;\n+        points.add(Pools.obtain(Point2.class, Point2::new).set(startX, startY));\n+        while((building.tile.x != endX || building.tile.y != endY)){\n+            AutotilerBuilding autotiler = (AutotilerBuilding) building;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c2518acf0aa90251d751102fe222ff238fbdb4ef"}, "originalPosition": 28}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQwNTc3MzA5OnYy", "diffSide": "RIGHT", "path": "core/src/mindustry/input/Placement.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQwNDo0NTo1M1rOIE_sJA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQwNDo0NTo1M1rOIE_sJA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjEwODcwOA==", "bodyText": "imports should be *", "url": "https://github.com/Anuken/Mindustry/pull/3912#discussion_r542108708", "createdAt": "2020-12-14T04:45:53Z", "author": {"login": "Anuken"}, "path": "core/src/mindustry/input/Placement.java", "diffHunk": "@@ -5,7 +5,9 @@\n import arc.math.geom.*;\n import arc.struct.*;\n import arc.util.pooling.*;\n+import mindustry.gen.Building;\n import mindustry.world.*;\n+import mindustry.world.blocks.distribution.AutotilerBuilding;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c2518acf0aa90251d751102fe222ff238fbdb4ef"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQwNTc3MzM3OnYy", "diffSide": "RIGHT", "path": "core/src/mindustry/input/InputHandler.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQwNDo0NjowMVrOIE_sSg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQwNDo0NjowMVrOIE_sSg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjEwODc0Ng==", "bodyText": "unnecessary spaces before cast, line below too", "url": "https://github.com/Anuken/Mindustry/pull/3912#discussion_r542108746", "createdAt": "2020-12-14T04:46:01Z", "author": {"login": "Anuken"}, "path": "core/src/mindustry/input/InputHandler.java", "diffHunk": "@@ -1161,7 +1162,18 @@ void iterateLine(int startX, int startY, int endX, int endY, Cons<PlaceLine> con\n         }\n \n         if(diagonal){\n-            points = Placement.pathfindLine(block != null && block.conveyorPlacement, startX, startY, endX, endY);\n+            Tile start = world.tile(startX, startY);\n+            Tile end = world.tile(endX, endY);\n+            if(block != null && block instanceof Autotiler\n+                    && start.block() != block\n+                    && start.build instanceof AutotilerBuilding\n+                    && end.build instanceof AutotilerBuilding\n+                    && block.canReplace(((AutotilerBuilding) end.build).getBlockBasedOn())", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c2518acf0aa90251d751102fe222ff238fbdb4ef"}, "originalPosition": 19}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQwNzE2NDMzOnYy", "diffSide": "RIGHT", "path": "core/src/mindustry/input/Placement.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQxMToxODozMVrOIFLxhA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQxMToxODozMVrOIFLxhA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjMwNjY5Mg==", "bodyText": "why place double brackets here?\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    while((building.tile.x != endX || building.tile.y != endY)){\n          \n          \n            \n                    while(building.tile.x != endX || building.tile.y != endY){", "url": "https://github.com/Anuken/Mindustry/pull/3912#discussion_r542306692", "createdAt": "2020-12-14T11:18:31Z", "author": {"login": "summetdev"}, "path": "core/src/mindustry/input/Placement.java", "diffHunk": "@@ -54,6 +55,20 @@\n         return points;\n     }\n \n+    public static Seq<Point2> upgradeLine(int startX, int startY, int endX, int endY){\n+        Pools.freeAll(points);\n+        points.clear();\n+        Building building = world.tile(startX, startY).build;\n+        points.add(Pools.obtain(Point2.class, Point2::new).set(startX, startY));\n+        while((building.tile.x != endX || building.tile.y != endY)){", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1e5b1c2ac0f1513684999ce7ceacbe35cdcf0875"}, "originalPosition": 27}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQwNzE2NjQwOnYy", "diffSide": "RIGHT", "path": "core/src/mindustry/input/Placement.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQxMToxOTowNVrOIFLyzA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQxMToxOTowNVrOIFLyzA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjMwNzAyMA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            import mindustry.gen.Building;\n          \n          \n            \n            import mindustry.gen.*;", "url": "https://github.com/Anuken/Mindustry/pull/3912#discussion_r542307020", "createdAt": "2020-12-14T11:19:05Z", "author": {"login": "summetdev"}, "path": "core/src/mindustry/input/Placement.java", "diffHunk": "@@ -5,7 +5,9 @@\n import arc.math.geom.*;\n import arc.struct.*;\n import arc.util.pooling.*;\n+import mindustry.gen.Building;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1e5b1c2ac0f1513684999ce7ceacbe35cdcf0875"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQwNzE2NzU2OnYy", "diffSide": "RIGHT", "path": "core/src/mindustry/input/InputHandler.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQxMToxOToyNFrOIFLzgg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQxMToxOToyNFrOIFLzgg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjMwNzIwMg==", "bodyText": "imports should be *\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            import mindustry.world.blocks.distribution.ChainedBuilding;\n          \n          \n            \n            import mindustry.world.blocks.distribution.*;", "url": "https://github.com/Anuken/Mindustry/pull/3912#discussion_r542307202", "createdAt": "2020-12-14T11:19:24Z", "author": {"login": "summetdev"}, "path": "core/src/mindustry/input/InputHandler.java", "diffHunk": "@@ -32,6 +32,7 @@\n import mindustry.world.*;\n import mindustry.world.blocks.*;\n import mindustry.world.blocks.ConstructBlock.*;\n+import mindustry.world.blocks.distribution.ChainedBuilding;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1e5b1c2ac0f1513684999ce7ceacbe35cdcf0875"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQwNzE3MTA3OnYy", "diffSide": "RIGHT", "path": "core/src/mindustry/world/blocks/distribution/ChainedBuilding.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQxMToyMDowN1rOIFL1Vw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQxMToyMDowN1rOIFL1Vw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjMwNzY3MQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            import mindustry.gen.Building;\n          \n          \n            \n            import mindustry.gen.*;", "url": "https://github.com/Anuken/Mindustry/pull/3912#discussion_r542307671", "createdAt": "2020-12-14T11:20:07Z", "author": {"login": "summetdev"}, "path": "core/src/mindustry/world/blocks/distribution/ChainedBuilding.java", "diffHunk": "@@ -0,0 +1,7 @@\n+package mindustry.world.blocks.distribution;\n+\n+import mindustry.gen.Building;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1e5b1c2ac0f1513684999ce7ceacbe35cdcf0875"}, "originalPosition": 3}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQwNzE3MzA3OnYy", "diffSide": "RIGHT", "path": "core/src/mindustry/world/blocks/liquid/Conduit.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQxMToyMDozOFrOIFL2iQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQxMToyMDozOFrOIFL2iQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjMwNzk3Nw==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            import mindustry.world.blocks.distribution.ChainedBuilding;\n          \n          \n            \n            import mindustry.world.blocks.distribution.*;", "url": "https://github.com/Anuken/Mindustry/pull/3912#discussion_r542307977", "createdAt": "2020-12-14T11:20:38Z", "author": {"login": "summetdev"}, "path": "core/src/mindustry/world/blocks/liquid/Conduit.java", "diffHunk": "@@ -16,6 +16,7 @@\n import mindustry.type.*;\n import mindustry.world.*;\n import mindustry.world.blocks.*;\n+import mindustry.world.blocks.distribution.ChainedBuilding;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1e5b1c2ac0f1513684999ce7ceacbe35cdcf0875"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4553, "cost": 1, "resetAt": "2021-11-12T09:44:50Z"}}}