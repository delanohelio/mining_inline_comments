{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE3MTEyODM3", "number": 3284, "title": "Cleanup", "bodyText": "Pattern matching, lambda instanceof, whitespaces, and some typos", "createdAt": "2020-11-07T09:31:57Z", "url": "https://github.com/Anuken/Mindustry/pull/3284", "merged": true, "mergeCommit": {"oid": "2ae9be63356b739487050822b5a26c6bec89255e"}, "closed": true, "closedAt": "2020-11-09T17:38:03Z", "author": {"login": "skykatik"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdaHas5AH2gAyNTE3MTEyODM3OmVkMzYzOTBmM2NmYTUzYmMyYmNmYTVlMTEzYjNmN2M2Nzk2YjFjMDY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABda3PicgH2gAyNTE3MTEyODM3OmY4NGU3ODBmM2I4M2VmMGE5ZDk0NTUyMDE4NDhhM2ViODhiMTA2YmQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "ed36390f3cfa53bc2bcfa5e113b3f7c6796b1c06", "author": {"user": {"login": "skykatik", "name": "Skat"}}, "url": "https://github.com/Anuken/Mindustry/commit/ed36390f3cfa53bc2bcfa5e113b3f7c6796b1c06", "committedDate": "2020-11-07T08:37:46Z", "message": "Great cleanup"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI1NjQxODcx", "url": "https://github.com/Anuken/Mindustry/pull/3284#pullrequestreview-525641871", "createdAt": "2020-11-07T09:53:26Z", "commit": {"oid": "ed36390f3cfa53bc2bcfa5e113b3f7c6796b1c06"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wN1QwOTo1MzoyNlrOHvG_GA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wN1QwOTo1Mzo0MlrOHvG_NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTE1OTU3Ng==", "bodyText": "Maybe leave the \u02bbinstanceof` keyword here?", "url": "https://github.com/Anuken/Mindustry/pull/3284#discussion_r519159576", "createdAt": "2020-11-07T09:53:26Z", "author": {"login": "summetdev"}, "path": "core/src/mindustry/maps/SectorDamage.java", "diffHunk": "@@ -291,7 +291,7 @@ public static void writeParameters(SectorInfo info){\n \n                 sumHealth += unit.health*healthMult + unit.shield;\n                 sumDps += unit.type.dpsEstimate;\n-                if(unit.abilities.find(a -> a instanceof RepairFieldAbility) instanceof RepairFieldAbility h){\n+                if(unit.abilities.find(RepairFieldAbility.class::isInstance) instanceof RepairFieldAbility h){", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ed36390f3cfa53bc2bcfa5e113b3f7c6796b1c06"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTE1OTYwNQ==", "bodyText": "Same", "url": "https://github.com/Anuken/Mindustry/pull/3284#discussion_r519159605", "createdAt": "2020-11-07T09:53:42Z", "author": {"login": "summetdev"}, "path": "core/src/mindustry/type/Item.java", "diffHunk": "@@ -53,6 +53,6 @@ public ContentType getContentType(){\n \n     /** Allocates a new array containing all items that generate ores. */\n     public static Seq<Item> getAllOres(){\n-        return content.blocks().select(b -> b instanceof OreBlock).map(b -> ((Floor)b).itemDrop);\n+        return content.blocks().select(OreBlock.class::isInstance).map(b -> ((Floor)b).itemDrop);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ed36390f3cfa53bc2bcfa5e113b3f7c6796b1c06"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f8914d0543110ceabe83af7fea035b870dab9c7e", "author": {"user": {"login": "skykatik", "name": "Skat"}}, "url": "https://github.com/Anuken/Mindustry/commit/f8914d0543110ceabe83af7fea035b870dab9c7e", "committedDate": "2020-11-07T10:01:24Z", "message": "Old style"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI1NjYwOTky", "url": "https://github.com/Anuken/Mindustry/pull/3284#pullrequestreview-525660992", "createdAt": "2020-11-07T15:36:10Z", "commit": {"oid": "f8914d0543110ceabe83af7fea035b870dab9c7e"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wN1QxNTozNjoxMFrOHvIysw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wN1QxNTozNzo0MVrOHvIzPw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTE4OTE3MQ==", "bodyText": "not compatible with android", "url": "https://github.com/Anuken/Mindustry/pull/3284#discussion_r519189171", "createdAt": "2020-11-07T15:36:10Z", "author": {"login": "Anuken"}, "path": "core/src/mindustry/logic/LogicOp.java", "diffHunk": "@@ -4,7 +4,7 @@\n import arc.util.*;\n \n public enum LogicOp{\n-    add(\"+\", (a, b) -> a + b),\n+    add(\"+\", Double::sum),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f8914d0543110ceabe83af7fea035b870dab9c7e"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTE4OTE4Mg==", "bodyText": "fails to compile for some java versions", "url": "https://github.com/Anuken/Mindustry/pull/3284#discussion_r519189182", "createdAt": "2020-11-07T15:36:19Z", "author": {"login": "Anuken"}, "path": "core/src/mindustry/logic/LogicOp.java", "diffHunk": "@@ -29,7 +29,7 @@\n     noise(\"noise\", LExecutor.noise::rawNoise2D),\n \n     not(\"not\", a -> ~(long)(a)),\n-    abs(\"abs\", a -> Math.abs(a)),\n+    abs(\"abs\", Math::abs),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f8914d0543110ceabe83af7fea035b870dab9c7e"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTE4OTI0OA==", "bodyText": "this is awful, never use reflection in a place where standard java works just fine", "url": "https://github.com/Anuken/Mindustry/pull/3284#discussion_r519189248", "createdAt": "2020-11-07T15:36:55Z", "author": {"login": "Anuken"}, "path": "core/src/mindustry/graphics/MenuRenderer.java", "diffHunk": "@@ -42,7 +42,7 @@ public MenuRenderer(){\n     private void generate(){\n         world.beginMapLoad();\n         Tiles tiles = world.resize(width, height);\n-        Seq<Block> ores = content.blocks().select(b -> b instanceof OreBlock);\n+        Seq<Block> ores = content.blocks().select(OreBlock.class::isInstance);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f8914d0543110ceabe83af7fea035b870dab9c7e"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTE4OTMxMQ==", "bodyText": "there's no reason to use method references when the result is longer code", "url": "https://github.com/Anuken/Mindustry/pull/3284#discussion_r519189311", "createdAt": "2020-11-07T15:37:41Z", "author": {"login": "Anuken"}, "path": "core/src/mindustry/core/Control.java", "diffHunk": "@@ -185,7 +186,7 @@ public Control(){\n                 if(state.isCampaign()){\n                     ui.announce(\"[accent]\" + state.rules.sector.name() + \"\\n\" +\n                         (state.rules.sector.info.resources.any() ? \"[lightgray]\" + bundle.get(\"sectors.resources\") + \"[white] \" +\n-                            state.rules.sector.info.resources.toString(\" \", u -> u.emoji()) : \"\"), 5);\n+                            state.rules.sector.info.resources.toString(\" \", UnlockableContent::emoji) : \"\"), 5);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f8914d0543110ceabe83af7fea035b870dab9c7e"}, "originalPosition": 13}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9f979cba0dc2bcbb5e9ed273d9d0bb0676ef336a", "author": {"user": {"login": "skykatik", "name": "Skat"}}, "url": "https://github.com/Anuken/Mindustry/commit/9f979cba0dc2bcbb5e9ed273d9d0bb0676ef336a", "committedDate": "2020-11-07T16:46:37Z", "message": "Rollback"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f84e780f3b83ef0a9d9455201848a3eb88b106bd", "author": {"user": {"login": "skykatik", "name": "Skat"}}, "url": "https://github.com/Anuken/Mindustry/commit/f84e780f3b83ef0a9d9455201848a3eb88b106bd", "committedDate": "2020-11-09T16:21:01Z", "message": "Merge branch 'master' into cleanup-2"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2407, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}