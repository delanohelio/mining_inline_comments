{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA5MDU1ODk3", "number": 3867, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QxNjowMTowOVrOExRH5w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QxNjo1MjowMVrOExSOCQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIwMDk2MjMxOnYy", "diffSide": "RIGHT", "path": "examples/metrics/prometheus-install/strimzi-pod-monitor.yaml", "isResolved": false, "comments": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QxNjowMTowOVrOHnUFxA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQyMTozMTo0OVrOHrhCIQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDk4NTY2OA==", "bodyText": "Why not Mirror Maker 1?", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3867#discussion_r510985668", "createdAt": "2020-10-23T16:01:09Z", "author": {"login": "scholzj"}, "path": "examples/metrics/prometheus-install/strimzi-pod-monitor.yaml", "diffHunk": "@@ -60,7 +60,7 @@ spec:\n     matchExpressions:\n       - key: \"strimzi.io/kind\"\n         operator: In\n-        values: [\"Kafka\", \"KafkaConnect\"]\n+        values: [\"Kafka\", \"KafkaConnect\", \"KafkaConnectS2I\", \"KafkaMirrorMaker2\"]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f8fd3333bc522c66c2c0d08d21a1b8107723261d"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDk4Njg2Mg==", "bodyText": "@Frawless ^", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3867#discussion_r510986862", "createdAt": "2020-10-23T16:03:14Z", "author": {"login": "sknot-rh"}, "path": "examples/metrics/prometheus-install/strimzi-pod-monitor.yaml", "diffHunk": "@@ -60,7 +60,7 @@ spec:\n     matchExpressions:\n       - key: \"strimzi.io/kind\"\n         operator: In\n-        values: [\"Kafka\", \"KafkaConnect\"]\n+        values: [\"Kafka\", \"KafkaConnect\", \"KafkaConnectS2I\", \"KafkaMirrorMaker2\"]", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDk4NTY2OA=="}, "originalCommit": {"oid": "f8fd3333bc522c66c2c0d08d21a1b8107723261d"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDk4OTE2Mg==", "bodyText": "I thought mm1 doesn't have metrics.", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3867#discussion_r510989162", "createdAt": "2020-10-23T16:07:06Z", "author": {"login": "Frawless"}, "path": "examples/metrics/prometheus-install/strimzi-pod-monitor.yaml", "diffHunk": "@@ -60,7 +60,7 @@ spec:\n     matchExpressions:\n       - key: \"strimzi.io/kind\"\n         operator: In\n-        values: [\"Kafka\", \"KafkaConnect\"]\n+        values: [\"Kafka\", \"KafkaConnect\", \"KafkaConnectS2I\", \"KafkaMirrorMaker2\"]", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDk4NTY2OA=="}, "originalCommit": {"oid": "f8fd3333bc522c66c2c0d08d21a1b8107723261d"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDk4OTQxNw==", "bodyText": "Documentation says the same", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3867#discussion_r510989417", "createdAt": "2020-10-23T16:07:33Z", "author": {"login": "Frawless"}, "path": "examples/metrics/prometheus-install/strimzi-pod-monitor.yaml", "diffHunk": "@@ -60,7 +60,7 @@ spec:\n     matchExpressions:\n       - key: \"strimzi.io/kind\"\n         operator: In\n-        values: [\"Kafka\", \"KafkaConnect\"]\n+        values: [\"Kafka\", \"KafkaConnect\", \"KafkaConnectS2I\", \"KafkaMirrorMaker2\"]", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDk4NTY2OA=="}, "originalCommit": {"oid": "f8fd3333bc522c66c2c0d08d21a1b8107723261d"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDk5NDMxNQ==", "bodyText": "I do not see any example resource deploying MM1 with metrics, neither I can see any MM1 dashboard. So maybe we are just excluding it from the examples?", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3867#discussion_r510994315", "createdAt": "2020-10-23T16:16:00Z", "author": {"login": "sknot-rh"}, "path": "examples/metrics/prometheus-install/strimzi-pod-monitor.yaml", "diffHunk": "@@ -60,7 +60,7 @@ spec:\n     matchExpressions:\n       - key: \"strimzi.io/kind\"\n         operator: In\n-        values: [\"Kafka\", \"KafkaConnect\"]\n+        values: [\"Kafka\", \"KafkaConnect\", \"KafkaConnectS2I\", \"KafkaMirrorMaker2\"]", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDk4NTY2OA=="}, "originalCommit": {"oid": "f8fd3333bc522c66c2c0d08d21a1b8107723261d"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDk5NDUzMA==", "bodyText": "It has the metrics field in the CRD. And I'm sure there will be at least producer and consumer metrics. It just doesn't have dashboard.", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3867#discussion_r510994530", "createdAt": "2020-10-23T16:16:22Z", "author": {"login": "scholzj"}, "path": "examples/metrics/prometheus-install/strimzi-pod-monitor.yaml", "diffHunk": "@@ -60,7 +60,7 @@ spec:\n     matchExpressions:\n       - key: \"strimzi.io/kind\"\n         operator: In\n-        values: [\"Kafka\", \"KafkaConnect\"]\n+        values: [\"Kafka\", \"KafkaConnect\", \"KafkaConnectS2I\", \"KafkaMirrorMaker2\"]", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDk4NTY2OA=="}, "originalCommit": {"oid": "f8fd3333bc522c66c2c0d08d21a1b8107723261d"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTA3NDExNQ==", "bodyText": "In that case, we should add it and mention in docs (if I am not blind)", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3867#discussion_r511074115", "createdAt": "2020-10-23T18:39:34Z", "author": {"login": "Frawless"}, "path": "examples/metrics/prometheus-install/strimzi-pod-monitor.yaml", "diffHunk": "@@ -60,7 +60,7 @@ spec:\n     matchExpressions:\n       - key: \"strimzi.io/kind\"\n         operator: In\n-        values: [\"Kafka\", \"KafkaConnect\"]\n+        values: [\"Kafka\", \"KafkaConnect\", \"KafkaConnectS2I\", \"KafkaMirrorMaker2\"]", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDk4NTY2OA=="}, "originalCommit": {"oid": "f8fd3333bc522c66c2c0d08d21a1b8107723261d"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTA4NDc3MA==", "bodyText": "Well, it is in the docs: https://strimzi.io/docs/operators/latest/full/using.html#type-KafkaMirrorMakerSpec-reference ... if we do not have dedicated examples and dashabord it might not need to be mentioned somewhere else but can be maybe still scraped if users enable the metrics with their configuration?", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3867#discussion_r511084770", "createdAt": "2020-10-23T18:57:10Z", "author": {"login": "scholzj"}, "path": "examples/metrics/prometheus-install/strimzi-pod-monitor.yaml", "diffHunk": "@@ -60,7 +60,7 @@ spec:\n     matchExpressions:\n       - key: \"strimzi.io/kind\"\n         operator: In\n-        values: [\"Kafka\", \"KafkaConnect\"]\n+        values: [\"Kafka\", \"KafkaConnect\", \"KafkaConnectS2I\", \"KafkaMirrorMaker2\"]", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDk4NTY2OA=="}, "originalCommit": {"oid": "f8fd3333bc522c66c2c0d08d21a1b8107723261d"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTM5MjAzMw==", "bodyText": "So what about this one? Can you add the MM1 there?", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3867#discussion_r515392033", "createdAt": "2020-10-30T21:31:49Z", "author": {"login": "scholzj"}, "path": "examples/metrics/prometheus-install/strimzi-pod-monitor.yaml", "diffHunk": "@@ -60,7 +60,7 @@ spec:\n     matchExpressions:\n       - key: \"strimzi.io/kind\"\n         operator: In\n-        values: [\"Kafka\", \"KafkaConnect\"]\n+        values: [\"Kafka\", \"KafkaConnect\", \"KafkaConnectS2I\", \"KafkaMirrorMaker2\"]", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDk4NTY2OA=="}, "originalCommit": {"oid": "f8fd3333bc522c66c2c0d08d21a1b8107723261d"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIwMTE0MDA0OnYy", "diffSide": "RIGHT", "path": "examples/metrics/grafana-dashboards/strimzi-kafka-connect.json", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QxNjo1MToyOFrOHnVzdw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QyMTowNzozMlrOHneehQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTAxMzc1MQ==", "bodyText": "It is already on the beginning ... does it make sense to have it twice?", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3867#discussion_r511013751", "createdAt": "2020-10-23T16:51:28Z", "author": {"login": "scholzj"}, "path": "examples/metrics/grafana-dashboards/strimzi-kafka-connect.json", "diffHunk": "@@ -124,7 +124,7 @@\n       \"tableColumn\": \"\",\n       \"targets\": [\n         {\n-          \"expr\": \"sum(kafka_connect_worker_connector_count{strimzi_io_kind=~\\\"KafkaConnect.*\\\",strimzi_io_cluster=\\\"$strimzi_connect_cluster_name\\\"})\",\n+          \"expr\": \"sum(kafka_connect_worker_connector_count{strimzi_io_kind=~\\\"KafkaConnect.*\\\",strimzi_io_cluster=\\\"$strimzi_connect_cluster_name\\\", strimzi_io_kind=~\\\"KafkaConnect.*\\\"})\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bc7f04e0619b2adebc2cce0262059d75457bb917"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTE1NTg0NQ==", "bodyText": "Ah, no. I am just blind.", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3867#discussion_r511155845", "createdAt": "2020-10-23T21:07:32Z", "author": {"login": "sknot-rh"}, "path": "examples/metrics/grafana-dashboards/strimzi-kafka-connect.json", "diffHunk": "@@ -124,7 +124,7 @@\n       \"tableColumn\": \"\",\n       \"targets\": [\n         {\n-          \"expr\": \"sum(kafka_connect_worker_connector_count{strimzi_io_kind=~\\\"KafkaConnect.*\\\",strimzi_io_cluster=\\\"$strimzi_connect_cluster_name\\\"})\",\n+          \"expr\": \"sum(kafka_connect_worker_connector_count{strimzi_io_kind=~\\\"KafkaConnect.*\\\",strimzi_io_cluster=\\\"$strimzi_connect_cluster_name\\\", strimzi_io_kind=~\\\"KafkaConnect.*\\\"})\",", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTAxMzc1MQ=="}, "originalCommit": {"oid": "bc7f04e0619b2adebc2cce0262059d75457bb917"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIwMTE0MTg1OnYy", "diffSide": "RIGHT", "path": "examples/metrics/grafana-dashboards/strimzi-kafka-connect.json", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QxNjo1MjowMVrOHnV0jQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QxNjo1MjowMVrOHnV0jQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTAxNDAyOQ==", "bodyText": "Same as above", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3867#discussion_r511014029", "createdAt": "2020-10-23T16:52:01Z", "author": {"login": "scholzj"}, "path": "examples/metrics/grafana-dashboards/strimzi-kafka-connect.json", "diffHunk": "@@ -206,7 +206,7 @@\n       \"tableColumn\": \"\",\n       \"targets\": [\n         {\n-          \"expr\": \"sum(kafka_connect_worker_task_count{strimzi_io_kind=~\\\"KafkaConnect.*\\\",strimzi_io_cluster=\\\"$strimzi_connect_cluster_name\\\"})\",\n+          \"expr\": \"sum(kafka_connect_worker_task_count{strimzi_io_kind=~\\\"KafkaConnect.*\\\",strimzi_io_cluster=\\\"$strimzi_connect_cluster_name\\\", strimzi_io_kind=~\\\"KafkaConnect.*\\\"})\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bc7f04e0619b2adebc2cce0262059d75457bb917"}, "originalPosition": 14}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 978, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}