{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg1NTI2MTU3", "number": 3634, "title": "[systemtest] Fixes for nightlies", "bodyText": "Signed-off-by: Lukas Kral lukywill16@gmail.com\nType of change\n\nTests fixes\n\nDescription\nAfter some PRs and new features it seems that some tests are failing.\n-> naming of services was changed for Kafka and Zookeeper in strimzi.io/name\n-> some listeners was switch: NODEPORT -> LOADBALANCER\n-> removed the listeners from resource where was already set in the defaultKafka method in KafkaResource\nChecklist\n\n Make sure all tests pass", "createdAt": "2020-09-11T22:39:19Z", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3634", "merged": true, "mergeCommit": {"oid": "f4ebeda6b652e8420abf89a1f4e0a52d32b6bbd3"}, "closed": true, "closedAt": "2020-09-14T13:41:27Z", "author": {"login": "im-konge"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdIIlu2gFqTQ4NzIyNDY5Mw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdIwJUVgBqjM3NjI0Njk0MDE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg3MjI0Njkz", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3634#pullrequestreview-487224693", "createdAt": "2020-09-12T11:49:05Z", "commit": {"oid": "3ab5528144a2ee3868c84282a6fb2fc8f5ac2675"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg3MjUyMzQ4", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3634#pullrequestreview-487252348", "createdAt": "2020-09-12T19:46:07Z", "commit": {"oid": "3ab5528144a2ee3868c84282a6fb2fc8f5ac2675"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMlQxOTo0NjowN1rOHQ3HFQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMlQxOTo0NjowN1rOHQ3HFQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzQ0MjE5Nw==", "bodyText": "It's not servicesList but map )\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    Map<String, String> servicesList = new HashMap<>();\n          \n          \n            \n                    Map<String, String> servicesMap = new HashMap<>();", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3634#discussion_r487442197", "createdAt": "2020-09-12T19:46:07Z", "author": {"login": "see-quick"}, "path": "systemtest/src/test/java/io/strimzi/systemtest/AbstractST.java", "diffHunk": "@@ -430,21 +430,25 @@ void verifyLabelsForCRDs() {\n \n     void verifyLabelsForKafkaAndZKServices(String clusterName, String appName) {\n         LOGGER.info(\"Verifying labels for Services\");\n-        List<String> servicesList = new ArrayList<>();\n-        servicesList.add(clusterName + \"-kafka-bootstrap\");\n-        servicesList.add(clusterName + \"-kafka-brokers\");\n-        servicesList.add(clusterName + \"-zookeeper-nodes\");\n-        servicesList.add(clusterName + \"-zookeeper-client\");\n+        String kafkaServiceName = clusterName + \"-kafka\";\n+        String zookeeperServiceName = clusterName + \"-zookeeper\";\n \n-        for (String serviceName : servicesList) {\n+        Map<String, String> servicesList = new HashMap<>();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3ab5528144a2ee3868c84282a6fb2fc8f5ac2675"}, "originalPosition": 13}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3d0e49c01d29b4acd22f760b91b64ffcec550fba", "author": {"user": {"login": "im-konge", "name": "Luk\u00e1\u0161 Kr\u00e1l"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/3d0e49c01d29b4acd22f760b91b64ffcec550fba", "committedDate": "2020-09-13T21:43:27Z", "message": "some fixes\n\nSigned-off-by: Lukas Kral <lukywill16@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "669805b9d0691079fbc4a42f23a262e33deb160a", "author": {"user": {"login": "im-konge", "name": "Luk\u00e1\u0161 Kr\u00e1l"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/669805b9d0691079fbc4a42f23a262e33deb160a", "committedDate": "2020-09-13T21:43:27Z", "message": "fixup! some fixes\n\nSigned-off-by: Lukas Kral <lukywill16@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg3NDc2MTU5", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3634#pullrequestreview-487476159", "createdAt": "2020-09-14T07:18:49Z", "commit": {"oid": "9cdd453fdebb3c0079ed827203ab3dea67127e01"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQwNzoxODo0OVrOHRG0aQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQwNzoxODo0OVrOHRG0aQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzY5OTU2MQ==", "bodyText": "Why this caused issues?", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3634#discussion_r487699561", "createdAt": "2020-09-14T07:18:49Z", "author": {"login": "Frawless"}, "path": "systemtest/src/test/java/io/strimzi/systemtest/kafka/KafkaST.java", "diffHunk": "@@ -992,7 +992,7 @@ void testRegenerateCertExternalAddressChange() {\n                     new GenericKafkaListenerBuilder()\n                             .withName(\"external\")\n                             .withPort(9094)\n-                            .withType(KafkaListenerType.NODEPORT)\n+                            .withType(KafkaListenerType.LOADBALANCER)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9cdd453fdebb3c0079ed827203ab3dea67127e01"}, "originalPosition": 14}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg3NTg3NjE1", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3634#pullrequestreview-487587615", "createdAt": "2020-09-14T09:42:48Z", "commit": {"oid": "9cdd453fdebb3c0079ed827203ab3dea67127e01"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "08fd973f06203a3fe70692804b4a3dfad9f95521", "author": {"user": {"login": "im-konge", "name": "Luk\u00e1\u0161 Kr\u00e1l"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/08fd973f06203a3fe70692804b4a3dfad9f95521", "committedDate": "2020-09-14T09:53:59Z", "message": "add deletion of withoutWait resources\n\nSigned-off-by: Lukas Kral <lukywill16@gmail.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9cdd453fdebb3c0079ed827203ab3dea67127e01", "author": {"user": {"login": "im-konge", "name": "Luk\u00e1\u0161 Kr\u00e1l"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/9cdd453fdebb3c0079ed827203ab3dea67127e01", "committedDate": "2020-09-12T20:20:38Z", "message": "fixup! some fixes\n\nSigned-off-by: Lukas Kral <lukywill16@gmail.com>"}, "afterCommit": {"oid": "08fd973f06203a3fe70692804b4a3dfad9f95521", "author": {"user": {"login": "im-konge", "name": "Luk\u00e1\u0161 Kr\u00e1l"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/08fd973f06203a3fe70692804b4a3dfad9f95521", "committedDate": "2020-09-14T09:53:59Z", "message": "add deletion of withoutWait resources\n\nSigned-off-by: Lukas Kral <lukywill16@gmail.com>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 965, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}