{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY3MjcwNTY0", "number": 3505, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xM1QxMDozNjowNVrOEX_upw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xM1QxMzowNDoyOFrOEYCxEA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkzNTk2ODM5OnYy", "diffSide": "RIGHT", "path": "documentation/modules/metrics/proc_metrics-deploying-prometheus.adoc", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xM1QxMDozNjowNVrOHAF3yg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xM1QxMDo0MDoxOFrOHAF_rw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTg1ODI1MA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            This is because the Prometheus operator doesn't have a corresponding of `PodMonitor` for scraping metrics coming from nodes directly.\n          \n          \n            \n            This is because the Prometheus operator does not have a corresponding of `PodMonitor` for scraping metrics coming from nodes directly.", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3505#discussion_r469858250", "createdAt": "2020-08-13T10:36:05Z", "author": {"login": "sknot-rh"}, "path": "documentation/modules/metrics/proc_metrics-deploying-prometheus.adoc", "diffHunk": "@@ -34,7 +34,10 @@ sed -i '' 's/namespace: .*/namespace: _my-namespace_/' prometheus.yaml\n . Edit the `PodMonitor` resource in `strimzi-pod-monitor.yaml` to define Prometheus jobs that will scrape the metrics data from pods.\n `PodMonitor` is used to scrape data directly from pods and is used for Apache Kafka, ZooKeeper, Operators, and Kafka Bridge. Update the `namespaceSelector.matchNames` property with the namespace where the pods to scrape the metrics from are running.\n \n-. To use another role:\n+. The provided Grafana dashboards show metrics about CPU, memory and volume disks usage.\n+These metrics come from cadvisor and kubelet directly on the nodes.\n+In order to have Prometheus scraping for these metrics, an additional configuration is needed.\n+This is because the Prometheus operator doesn't have a corresponding of `PodMonitor` for scraping metrics coming from nodes directly.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "379b0467b575840c79ae971c8fc333aff759343a"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTg2MDI3MQ==", "bodyText": "Thanks Standa!", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3505#discussion_r469860271", "createdAt": "2020-08-13T10:40:18Z", "author": {"login": "ppatierno"}, "path": "documentation/modules/metrics/proc_metrics-deploying-prometheus.adoc", "diffHunk": "@@ -34,7 +34,10 @@ sed -i '' 's/namespace: .*/namespace: _my-namespace_/' prometheus.yaml\n . Edit the `PodMonitor` resource in `strimzi-pod-monitor.yaml` to define Prometheus jobs that will scrape the metrics data from pods.\n `PodMonitor` is used to scrape data directly from pods and is used for Apache Kafka, ZooKeeper, Operators, and Kafka Bridge. Update the `namespaceSelector.matchNames` property with the namespace where the pods to scrape the metrics from are running.\n \n-. To use another role:\n+. The provided Grafana dashboards show metrics about CPU, memory and volume disks usage.\n+These metrics come from cadvisor and kubelet directly on the nodes.\n+In order to have Prometheus scraping for these metrics, an additional configuration is needed.\n+This is because the Prometheus operator doesn't have a corresponding of `PodMonitor` for scraping metrics coming from nodes directly.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTg1ODI1MA=="}, "originalCommit": {"oid": "379b0467b575840c79ae971c8fc333aff759343a"}, "originalPosition": 8}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkzNjQ2NjA4OnYy", "diffSide": "RIGHT", "path": "documentation/modules/metrics/proc_metrics-deploying-prometheus.adoc", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xM1QxMzowNDoyOFrOHAKj7w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xM1QxMzozMjowN1rOHALqoA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTkzNTA4Nw==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            . The provided Grafana dashboards show metrics about CPU, memory and volume disks usage.\n          \n          \n            \n            These metrics come from cadvisor and kubelet directly on the nodes.\n          \n          \n            \n            In order to have Prometheus scraping for these metrics, an additional configuration is needed.\n          \n          \n            \n            This is because the Prometheus operator does not have a corresponding of `PodMonitor` for scraping metrics coming from nodes directly.\n          \n          \n            \n            +\n          \n          \n            \n            The Grafana dashboards provided show metrics for CPU, memory and disk volume usage,\n          \n          \n            \n            which come directly from the Kubernetes cAdvisor agent and kubelet on the nodes.\n          \n          \n            \n            The configuration is needed because the Prometheus operator does not have something like `PodMonitor` for scraping metrics directly from nodes.", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3505#discussion_r469935087", "createdAt": "2020-08-13T13:04:28Z", "author": {"login": "PaulRMellor"}, "path": "documentation/modules/metrics/proc_metrics-deploying-prometheus.adoc", "diffHunk": "@@ -34,7 +34,10 @@ sed -i '' 's/namespace: .*/namespace: _my-namespace_/' prometheus.yaml\n . Edit the `PodMonitor` resource in `strimzi-pod-monitor.yaml` to define Prometheus jobs that will scrape the metrics data from pods.\n `PodMonitor` is used to scrape data directly from pods and is used for Apache Kafka, ZooKeeper, Operators, and Kafka Bridge. Update the `namespaceSelector.matchNames` property with the namespace where the pods to scrape the metrics from are running.\n \n-. To use another role:\n+. The provided Grafana dashboards show metrics about CPU, memory and volume disks usage.\n+These metrics come from cadvisor and kubelet directly on the nodes.\n+In order to have Prometheus scraping for these metrics, an additional configuration is needed.\n+This is because the Prometheus operator does not have a corresponding of `PodMonitor` for scraping metrics coming from nodes directly.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4b18657c97d51130cabdf4974e43597a77e06262"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTkzNTYzMw==", "bodyText": "I'm assuming this information relates to the step above: . Edit the PodMonitor resource", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3505#discussion_r469935633", "createdAt": "2020-08-13T13:05:13Z", "author": {"login": "PaulRMellor"}, "path": "documentation/modules/metrics/proc_metrics-deploying-prometheus.adoc", "diffHunk": "@@ -34,7 +34,10 @@ sed -i '' 's/namespace: .*/namespace: _my-namespace_/' prometheus.yaml\n . Edit the `PodMonitor` resource in `strimzi-pod-monitor.yaml` to define Prometheus jobs that will scrape the metrics data from pods.\n `PodMonitor` is used to scrape data directly from pods and is used for Apache Kafka, ZooKeeper, Operators, and Kafka Bridge. Update the `namespaceSelector.matchNames` property with the namespace where the pods to scrape the metrics from are running.\n \n-. To use another role:\n+. The provided Grafana dashboards show metrics about CPU, memory and volume disks usage.\n+These metrics come from cadvisor and kubelet directly on the nodes.\n+In order to have Prometheus scraping for these metrics, an additional configuration is needed.\n+This is because the Prometheus operator does not have a corresponding of `PodMonitor` for scraping metrics coming from nodes directly.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTkzNTA4Nw=="}, "originalCommit": {"oid": "4b18657c97d51130cabdf4974e43597a77e06262"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTk1MzE4NA==", "bodyText": "No it's a step on its own.", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3505#discussion_r469953184", "createdAt": "2020-08-13T13:32:07Z", "author": {"login": "ppatierno"}, "path": "documentation/modules/metrics/proc_metrics-deploying-prometheus.adoc", "diffHunk": "@@ -34,7 +34,10 @@ sed -i '' 's/namespace: .*/namespace: _my-namespace_/' prometheus.yaml\n . Edit the `PodMonitor` resource in `strimzi-pod-monitor.yaml` to define Prometheus jobs that will scrape the metrics data from pods.\n `PodMonitor` is used to scrape data directly from pods and is used for Apache Kafka, ZooKeeper, Operators, and Kafka Bridge. Update the `namespaceSelector.matchNames` property with the namespace where the pods to scrape the metrics from are running.\n \n-. To use another role:\n+. The provided Grafana dashboards show metrics about CPU, memory and volume disks usage.\n+These metrics come from cadvisor and kubelet directly on the nodes.\n+In order to have Prometheus scraping for these metrics, an additional configuration is needed.\n+This is because the Prometheus operator does not have a corresponding of `PodMonitor` for scraping metrics coming from nodes directly.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTkzNTA4Nw=="}, "originalCommit": {"oid": "4b18657c97d51130cabdf4974e43597a77e06262"}, "originalPosition": 8}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1310, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}