{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc0MjgzNDY5", "number": 2543, "title": "Fix KafkaST", "bodyText": "Signed-off-by: Stanislav Knot sknot@redhat.com\nType of change\n\nBugfix\n\nDescription\nSome systemtests were failing because the previous test did not remove some of the resources.\nChecklist\nPlease go through this checklist and make sure all applicable tasks have been done\n\n Update/write design documentation in ./design\n Write tests\n Make sure all tests pass\n Update documentation\n Check RBAC rights for Kubernetes / OpenShift roles\n Try your changes from Pod inside your Kubernetes and OpenShift cluster, not just locally\n Reference relevant issue(s) and close them after merging\n Update CHANGELOG.md", "createdAt": "2020-02-12T12:34:10Z", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2543", "merged": true, "mergeCommit": {"oid": "4e2f9e2f095cdf550c6fb400819572b59bfe4ac6"}, "closed": true, "closedAt": "2020-02-18T21:20:55Z", "author": {"login": "sknot-rh"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcDli35AH2gAyMzc0MjgzNDY5OjdiMjFiMTViNWJmYzUxZjRlYzFmNTdjNjNlMzdhYjM3MzkxZjUxNGI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcFjt3sgFqTM2MDQzNjYwMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "7b21b15b5bfc51f4ec1f57c63e37ab37391f514b", "author": {"user": {"login": "sknot-rh", "name": "Stanislav Knot"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/7b21b15b5bfc51f4ec1f57c63e37ab37391f514b", "committedDate": "2020-02-12T12:32:26Z", "message": "Fix KafkaST\n\nSigned-off-by: Stanislav Knot <sknot@redhat.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU3NDE2ODU1", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2543#pullrequestreview-357416855", "createdAt": "2020-02-12T12:36:00Z", "commit": {"oid": "7b21b15b5bfc51f4ec1f57c63e37ab37391f514b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMlQxMjozNjowMFrOFos8sA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMlQxMjozNjowMFrOFos8sA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODIyMzc5Mg==", "bodyText": "I think this might be a problem in all other tests so it should be part of Kafka deletion prodecure (systemtest only).", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2543#discussion_r378223792", "createdAt": "2020-02-12T12:36:00Z", "author": {"login": "Frawless"}, "path": "systemtest/src/test/java/io/strimzi/systemtest/KafkaST.java", "diffHunk": "@@ -1888,6 +1893,9 @@ void setup() {\n     @Override\n     protected void tearDownEnvironmentAfterEach() throws Exception {\n         super.tearDownEnvironmentAfterEach();\n+        kubeClient().getClient().configMaps().inNamespace(NAMESPACE).withName(KafkaResources.kafkaMetricsAndLogConfigMapName(CLUSTER_NAME)).delete();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7b21b15b5bfc51f4ec1f57c63e37ab37391f514b"}, "originalPosition": 92}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU3NDE3MTUw", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2543#pullrequestreview-357417150", "createdAt": "2020-02-12T12:36:33Z", "commit": {"oid": "7b21b15b5bfc51f4ec1f57c63e37ab37391f514b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU3NDE3Mjg0", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2543#pullrequestreview-357417284", "createdAt": "2020-02-12T12:36:46Z", "commit": {"oid": "7b21b15b5bfc51f4ec1f57c63e37ab37391f514b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMlQxMjozNjo0NlrOFos-Bw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMlQxMjozNjo0NlrOFos-Bw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODIyNDEzNQ==", "bodyText": "This might be fixed by cascading(true) for CR deletion which was merged this morning", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2543#discussion_r378224135", "createdAt": "2020-02-12T12:36:46Z", "author": {"login": "Frawless"}, "path": "systemtest/src/test/java/io/strimzi/systemtest/KafkaST.java", "diffHunk": "@@ -1888,6 +1893,9 @@ void setup() {\n     @Override\n     protected void tearDownEnvironmentAfterEach() throws Exception {\n         super.tearDownEnvironmentAfterEach();\n+        kubeClient().getClient().configMaps().inNamespace(NAMESPACE).withName(KafkaResources.kafkaMetricsAndLogConfigMapName(CLUSTER_NAME)).delete();\n+        kubeClient().getClient().configMaps().inNamespace(NAMESPACE).withName(KafkaResources.zookeeperMetricsAndLogConfigMapName(CLUSTER_NAME)).delete();\n+        kubeClient().getClient().customResources(Crds.topic(), KafkaTopic.class, KafkaTopicList.class, DoneableKafkaTopic.class).inNamespace(NAMESPACE).delete();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7b21b15b5bfc51f4ec1f57c63e37ab37391f514b"}, "originalPosition": 94}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "64e1639c4c4d18b9b608e3936d9002e59ae48b79", "author": {"user": {"login": "sknot-rh", "name": "Stanislav Knot"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/64e1639c4c4d18b9b608e3936d9002e59ae48b79", "committedDate": "2020-02-18T13:22:41Z", "message": "suggestion\n\nSigned-off-by: Stanislav Knot <sknot@redhat.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f545d0d9650e477a5e5adf1a4badbcdc948b2fe8", "author": {"user": {"login": "sknot-rh", "name": "Stanislav Knot"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/f545d0d9650e477a5e5adf1a4badbcdc948b2fe8", "committedDate": "2020-02-18T14:20:27Z", "message": "checkstyle\n\nSigned-off-by: Stanislav Knot <sknot@redhat.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYwNDA5MzA0", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2543#pullrequestreview-360409304", "createdAt": "2020-02-18T15:01:29Z", "commit": {"oid": "f545d0d9650e477a5e5adf1a4badbcdc948b2fe8"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYwNDMwMjk2", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2543#pullrequestreview-360430296", "createdAt": "2020-02-18T15:25:27Z", "commit": {"oid": "f545d0d9650e477a5e5adf1a4badbcdc948b2fe8"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYwNDMzMTYx", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2543#pullrequestreview-360433161", "createdAt": "2020-02-18T15:28:35Z", "commit": {"oid": "f545d0d9650e477a5e5adf1a4badbcdc948b2fe8"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYwNDM2NjAx", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2543#pullrequestreview-360436601", "createdAt": "2020-02-18T15:32:29Z", "commit": {"oid": "f545d0d9650e477a5e5adf1a4badbcdc948b2fe8"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1712, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}