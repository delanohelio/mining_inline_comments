{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI0MDU0NDc4", "number": 3108, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QxOTozMDowMFrOEAPxqw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOFQwODo0MzoxM1rOEAamHA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY4NjkzOTMxOnYy", "diffSide": "RIGHT", "path": "user-operator/scripts/user_operator_run.sh", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QxOTozMDowMFrOGbaJJw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QxOTozMDowMFrOGbaJJw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTM5MzA2Mw==", "bodyText": "Normally you would quote the whole string I.e. exec \"${STRIMZI_HOME}/bin/launch_java.sh\"\nI think in practice is has little difference but it makes it a little clearer to read", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3108#discussion_r431393063", "createdAt": "2020-05-27T19:30:00Z", "author": {"login": "samuel-hawker"}, "path": "user-operator/scripts/user_operator_run.sh", "diffHunk": "@@ -14,4 +16,4 @@ fi\n \n export JAVA_CLASSPATH=lib/io.strimzi.@project.build.finalName@.@project.packaging@:@project.dist.classpath@\n export JAVA_MAIN=io.strimzi.operator.user.Main\n-exec ${STRIMZI_HOME}/bin/launch_java.sh\n+exec \"${STRIMZI_HOME}\"/bin/launch_java.sh", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "13552ac368daba07f2b5cc22d1e78329363f6025"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY4ODcwNDQ3OnYy", "diffSide": "RIGHT", "path": "docker-images/jmxtrans/docker-entrypoint.sh", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOFQwODo0MTowOFrOGbrXuQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOVQyMzozNTo1NlrOGcu9Eg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTY3NTMyMQ==", "bodyText": "I think you can remove the sc disable line if you write:\nset /usr/bin/tini -w -e 143 -- \"java -server ${JAVA_OPTS} ${JMXTRANS_OPTS} ${GC_OPTS} ${EXEC}\"\n\nMight be wrong on this.", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3108#discussion_r431675321", "createdAt": "2020-05-28T08:41:08Z", "author": {"login": "samuel-hawker"}, "path": "docker-images/jmxtrans/docker-entrypoint.sh", "diffHunk": "@@ -17,8 +16,10 @@ MONITOR_OPTS=\"-Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.ssl=\n               -Djava.rmi.server.hostname=${PROXY_HOST}\"\n \n if [ \"$1\" = 'start-without-jmx' ]; then\n+    # shellcheck disable=SC2086\n     set /usr/bin/tini -w -e 143 -- java -server $JAVA_OPTS $JMXTRANS_OPTS $GC_OPTS $EXEC", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e02cf5529589c52c0619fd7de712fd47e61ea977"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjc4MjYxMA==", "bodyText": "I gave this a try and it doesn't work. Tini takes it and tries to execute it as single executable - and says that such file/directory does not exist.", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3108#discussion_r432782610", "createdAt": "2020-05-29T23:35:56Z", "author": {"login": "scholzj"}, "path": "docker-images/jmxtrans/docker-entrypoint.sh", "diffHunk": "@@ -17,8 +16,10 @@ MONITOR_OPTS=\"-Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.ssl=\n               -Djava.rmi.server.hostname=${PROXY_HOST}\"\n \n if [ \"$1\" = 'start-without-jmx' ]; then\n+    # shellcheck disable=SC2086\n     set /usr/bin/tini -w -e 143 -- java -server $JAVA_OPTS $JMXTRANS_OPTS $GC_OPTS $EXEC", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTY3NTMyMQ=="}, "originalCommit": {"oid": "e02cf5529589c52c0619fd7de712fd47e61ea977"}, "originalPosition": 11}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY4ODcxMTk2OnYy", "diffSide": "RIGHT", "path": "docker-images/kafka/exporter-scripts/kafka_exporter_run.sh", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOFQwODo0MzoxM1rOGbrccw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOFQwODo0NToyOFrOGbrh3A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTY3NjUzMQ==", "bodyText": "groupregex=\"--group.filter=\\\"${KAFKA_EXPORTER_GROUP_REGEX}\\\"\"\n\nShould mean we can remove the disable", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3108#discussion_r431676531", "createdAt": "2020-05-28T08:43:13Z", "author": {"login": "samuel-hawker"}, "path": "docker-images/kafka/exporter-scripts/kafka_exporter_run.sh", "diffHunk": "@@ -1,15 +1,18 @@\n #!/usr/bin/env bash\n+set -e\n set +x\n \n # We don't need LOG_DIR because we write no log files, but setting it to a\n # directory avoids trying to create it (and logging a permission denied error)\n export LOG_DIR=\"$KAFKA_EXPORTER_HOME\"\n \n if [ -n \"$KAFKA_EXPORTER_GROUP_REGEX\" ]; then\n+    # shellcheck disable=SC2027\n     groupregex=\"--group.filter=\\\"\"${KAFKA_EXPORTER_GROUP_REGEX}\"\\\"\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e02cf5529589c52c0619fd7de712fd47e61ea977"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTY3NzkxNg==", "bodyText": "I'm not completely sure about it - I think removing it breaks the functionality with some settings.", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3108#discussion_r431677916", "createdAt": "2020-05-28T08:45:28Z", "author": {"login": "scholzj"}, "path": "docker-images/kafka/exporter-scripts/kafka_exporter_run.sh", "diffHunk": "@@ -1,15 +1,18 @@\n #!/usr/bin/env bash\n+set -e\n set +x\n \n # We don't need LOG_DIR because we write no log files, but setting it to a\n # directory avoids trying to create it (and logging a permission denied error)\n export LOG_DIR=\"$KAFKA_EXPORTER_HOME\"\n \n if [ -n \"$KAFKA_EXPORTER_GROUP_REGEX\" ]; then\n+    # shellcheck disable=SC2027\n     groupregex=\"--group.filter=\\\"\"${KAFKA_EXPORTER_GROUP_REGEX}\"\\\"\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTY3NjUzMQ=="}, "originalCommit": {"oid": "e02cf5529589c52c0619fd7de712fd47e61ea977"}, "originalPosition": 11}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1591, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}