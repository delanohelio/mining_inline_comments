{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMxNzcyNDI3", "number": 3177, "title": "ST: Create a bunch of topics for upgrade for upgrade tests", "bodyText": "Signed-off-by: Jakub Stejskal xstejs24@gmail.com\nType of change\nSelect the type of your PR\n\nEnhancement / new feature\n\nDescription\nThis PR covers #3132. In general, we create several topics with .spec.topicName set and leave them alive during the upgrade. When upgrade finish, we check the count and names of the existing topics to heck that any of the topics weren't deleted or updated.\nChecklist\n\n Make sure all tests pass", "createdAt": "2020-06-09T12:52:36Z", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3177", "merged": true, "mergeCommit": {"oid": "534866f3b87bf7c7311e6680e6187eb51dc8c878"}, "closed": true, "closedAt": "2020-06-16T08:09:20Z", "author": {"login": "Frawless"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcqP1yvAH2gAyNDMxNzcyNDI3OjUwMzFiNWI0MmU4ZTc4YTM1MmEyYzcxNGM4NGFiNTQxNjFlNzQ3NzA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcrwfWtgFqTQzMTI0ODkwMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "5031b5b42e8e78a352a2c714c84ab54161e74770", "author": {"user": {"login": "Frawless", "name": "Jakub Stejskal"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/5031b5b42e8e78a352a2c714c84ab54161e74770", "committedDate": "2020-06-11T15:18:14Z", "message": "Create a bunch of topics for upgrade for upgrade tests\n\nSigned-off-by: Jakub Stejskal <xstejs24@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fd36c078fe03a6de56dd66f6787422d6912143dd", "author": {"user": {"login": "Frawless", "name": "Jakub Stejskal"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/fd36c078fe03a6de56dd66f6787422d6912143dd", "committedDate": "2020-06-11T15:18:15Z", "message": "Run bucnch topics upgrade only after TO fix\n\nSigned-off-by: Jakub Stejskal <xstejs24@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1685f2a14e96730dab64e4d966c3fb47dba3f7dd", "author": {"user": {"login": "Frawless", "name": "Jakub Stejskal"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/1685f2a14e96730dab64e4d966c3fb47dba3f7dd", "committedDate": "2020-06-11T15:18:26Z", "message": "fixup! Run bucnch topics upgrade only after TO fix\n\nSigned-off-by: Jakub Stejskal <xstejs24@gmail.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c1a73c092af3c821a28b75d3b6cfeee9af1b33fb", "author": {"user": {"login": "Frawless", "name": "Jakub Stejskal"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/c1a73c092af3c821a28b75d3b6cfeee9af1b33fb", "committedDate": "2020-06-10T09:29:01Z", "message": "Run bucnch topics upgrade only after TO fix\n\nSigned-off-by: Jakub Stejskal <xstejs24@gmail.com>"}, "afterCommit": {"oid": "1685f2a14e96730dab64e4d966c3fb47dba3f7dd", "author": {"user": {"login": "Frawless", "name": "Jakub Stejskal"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/1685f2a14e96730dab64e4d966c3fb47dba3f7dd", "committedDate": "2020-06-11T15:18:26Z", "message": "fixup! Run bucnch topics upgrade only after TO fix\n\nSigned-off-by: Jakub Stejskal <xstejs24@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "99889b09153cf41570020b5c075c774b14272e4b", "author": {"user": {"login": "Frawless", "name": "Jakub Stejskal"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/99889b09153cf41570020b5c075c774b14272e4b", "committedDate": "2020-06-12T08:03:40Z", "message": "fixup! fixup! Run bucnch topics upgrade only after TO fix\n\nSigned-off-by: Jakub Stejskal <xstejs24@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI5ODE3NTE3", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3177#pullrequestreview-429817517", "createdAt": "2020-06-12T15:04:49Z", "commit": {"oid": "99889b09153cf41570020b5c075c774b14272e4b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI5ODM1MjY2", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3177#pullrequestreview-429835266", "createdAt": "2020-06-12T15:27:50Z", "commit": {"oid": "99889b09153cf41570020b5c075c774b14272e4b"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQxNToyNzo1MFrOGjIO_A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQxNToyNzo1MFrOGjIO_A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTQ4ODI1Mg==", "bodyText": "I don't mean to sound pedantic but bunchTopicsUpgrade as a parameter is a little meaningless without context, maybe generateTopics would be a little more informative and means we can re-use it in other tests if need be.\nI wonder also if there is any value in making the topic names generated a little more random, if this is a check that data is persisted, it might be worth making more problematic topic names to check those also behave  - but i admit that might not have too much value.", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3177#discussion_r439488252", "createdAt": "2020-06-12T15:27:50Z", "author": {"login": "samuel-hawker"}, "path": "systemtest/src/test/java/io/strimzi/systemtest/upgrade/StrimziUpgradeST.java", "diffHunk": "@@ -252,6 +236,16 @@ private void performUpgrade(JsonObject testParameters, int produceMessagesCount,\n             LOGGER.info(\"Going to deploy KafkaTopic from: {}\", kafkaTopicYaml.getPath());\n             cmdKubeClient().create(kafkaTopicYaml);\n         }\n+        // Create bunch of topics for upgrade if it's specified in configuration\n+        if (testParameters.getBoolean(\"bunchTopicsUpgrade\")) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "99889b09153cf41570020b5c075c774b14272e4b"}, "originalPosition": 75}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMwNDIzMzI4", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3177#pullrequestreview-430423328", "createdAt": "2020-06-15T08:24:11Z", "commit": {"oid": "99889b09153cf41570020b5c075c774b14272e4b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fc8c6a2646ec7a6de1267264211016c40c1b40fa", "author": {"user": {"login": "Frawless", "name": "Jakub Stejskal"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/fc8c6a2646ec7a6de1267264211016c40c1b40fa", "committedDate": "2020-06-15T08:52:03Z", "message": "Rename flag for generate topics during upgrade\n\nSigned-off-by: Jakub Stejskal <xstejs24@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMxMjQ4OTAx", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3177#pullrequestreview-431248901", "createdAt": "2020-06-16T07:54:31Z", "commit": {"oid": "fc8c6a2646ec7a6de1267264211016c40c1b40fa"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1514, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}