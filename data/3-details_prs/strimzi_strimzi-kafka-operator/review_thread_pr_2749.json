{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkzNzEzMDUw", "number": 2749, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQxOTo0Mjo0NFrODrzkoA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQxOTo0NTozNFrODrzoLQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ3MjYwMzIwOnYy", "diffSide": "RIGHT", "path": "systemtest/src/main/java/io/strimzi/systemtest/utils/kubeUtils/objects/ClusterUtils.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQxOTo0Mjo0NFrOF8Xiiw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yN1QxNDowNjoyMFrOF8yphA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODg0NDU1NQ==", "bodyText": "As we discussed, move this to the KafkaUtils", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2749#discussion_r398844555", "createdAt": "2020-03-26T19:42:44Z", "author": {"login": "see-quick"}, "path": "systemtest/src/main/java/io/strimzi/systemtest/utils/kubeUtils/objects/ClusterUtils.java", "diffHunk": "@@ -0,0 +1,63 @@\n+/*\n+ * Copyright Strimzi authors.\n+ * License: Apache License 2.0 (see the file LICENSE or http://apache.org/licenses/LICENSE-2.0.html).\n+ */\n+package io.strimzi.systemtest.utils.kubeUtils.objects;\n+\n+import io.strimzi.api.kafka.model.KafkaResources;\n+import io.strimzi.systemtest.Constants;\n+import io.strimzi.systemtest.utils.kubeUtils.controllers.DeploymentUtils;\n+import io.strimzi.systemtest.utils.kubeUtils.controllers.StatefulSetUtils;\n+import io.strimzi.test.TestUtils;\n+import org.apache.logging.log4j.LogManager;\n+import org.apache.logging.log4j.Logger;\n+\n+import java.util.Map;\n+import java.util.concurrent.atomic.AtomicInteger;\n+\n+import static io.strimzi.api.kafka.model.KafkaResources.kafkaStatefulSetName;\n+import static io.strimzi.api.kafka.model.KafkaResources.zookeeperStatefulSetName;\n+\n+public class ClusterUtils {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f1c0f196f1af7abc1bcd3c6c377ada475513f26e"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTI4ODcwOA==", "bodyText": "Moved :)", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2749#discussion_r399288708", "createdAt": "2020-03-27T14:06:20Z", "author": {"login": "im-konge"}, "path": "systemtest/src/main/java/io/strimzi/systemtest/utils/kubeUtils/objects/ClusterUtils.java", "diffHunk": "@@ -0,0 +1,63 @@\n+/*\n+ * Copyright Strimzi authors.\n+ * License: Apache License 2.0 (see the file LICENSE or http://apache.org/licenses/LICENSE-2.0.html).\n+ */\n+package io.strimzi.systemtest.utils.kubeUtils.objects;\n+\n+import io.strimzi.api.kafka.model.KafkaResources;\n+import io.strimzi.systemtest.Constants;\n+import io.strimzi.systemtest.utils.kubeUtils.controllers.DeploymentUtils;\n+import io.strimzi.systemtest.utils.kubeUtils.controllers.StatefulSetUtils;\n+import io.strimzi.test.TestUtils;\n+import org.apache.logging.log4j.LogManager;\n+import org.apache.logging.log4j.Logger;\n+\n+import java.util.Map;\n+import java.util.concurrent.atomic.AtomicInteger;\n+\n+import static io.strimzi.api.kafka.model.KafkaResources.kafkaStatefulSetName;\n+import static io.strimzi.api.kafka.model.KafkaResources.zookeeperStatefulSetName;\n+\n+public class ClusterUtils {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODg0NDU1NQ=="}, "originalCommit": {"oid": "f1c0f196f1af7abc1bcd3c6c377ada475513f26e"}, "originalPosition": 21}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ3MjYxMjI5OnYy", "diffSide": "RIGHT", "path": "systemtest/src/main/java/io/strimzi/systemtest/utils/kubeUtils/objects/ClusterUtils.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQxOTo0NTozNFrOF8Xodg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yN1QxNDowNTo1MFrOF8yocQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODg0NjA3MA==", "bodyText": "You shouldn't use AtomicInteger, you shouldn't use things unless you have a really good reason to use. And the reason for using AtomicInteger might be only allowing concurrent accesses or such as.\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    AtomicInteger count = new AtomicInteger();\n          \n          \n            \n                 int[] count = {0};", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2749#discussion_r398846070", "createdAt": "2020-03-26T19:45:34Z", "author": {"login": "see-quick"}, "path": "systemtest/src/main/java/io/strimzi/systemtest/utils/kubeUtils/objects/ClusterUtils.java", "diffHunk": "@@ -0,0 +1,63 @@\n+/*\n+ * Copyright Strimzi authors.\n+ * License: Apache License 2.0 (see the file LICENSE or http://apache.org/licenses/LICENSE-2.0.html).\n+ */\n+package io.strimzi.systemtest.utils.kubeUtils.objects;\n+\n+import io.strimzi.api.kafka.model.KafkaResources;\n+import io.strimzi.systemtest.Constants;\n+import io.strimzi.systemtest.utils.kubeUtils.controllers.DeploymentUtils;\n+import io.strimzi.systemtest.utils.kubeUtils.controllers.StatefulSetUtils;\n+import io.strimzi.test.TestUtils;\n+import org.apache.logging.log4j.LogManager;\n+import org.apache.logging.log4j.Logger;\n+\n+import java.util.Map;\n+import java.util.concurrent.atomic.AtomicInteger;\n+\n+import static io.strimzi.api.kafka.model.KafkaResources.kafkaStatefulSetName;\n+import static io.strimzi.api.kafka.model.KafkaResources.zookeeperStatefulSetName;\n+\n+public class ClusterUtils {\n+    private static final Logger LOGGER = LogManager.getLogger(ClusterUtils.class);\n+\n+    @SuppressWarnings(\"unchecked\")\n+    public static void waitForClusterStability(String clusterName) {\n+        LOGGER.info(\"Waiting for cluster stability\");\n+        Map<String, String>[] zkPods = new Map[1];\n+        Map<String, String>[] kafkaPods = new Map[1];\n+        Map<String, String>[] eoPods = new Map[1];\n+        AtomicInteger count = new AtomicInteger();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f1c0f196f1af7abc1bcd3c6c377ada475513f26e"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTI4ODQzMw==", "bodyText": "This wasn't used by me :D but already changed.", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2749#discussion_r399288433", "createdAt": "2020-03-27T14:05:50Z", "author": {"login": "im-konge"}, "path": "systemtest/src/main/java/io/strimzi/systemtest/utils/kubeUtils/objects/ClusterUtils.java", "diffHunk": "@@ -0,0 +1,63 @@\n+/*\n+ * Copyright Strimzi authors.\n+ * License: Apache License 2.0 (see the file LICENSE or http://apache.org/licenses/LICENSE-2.0.html).\n+ */\n+package io.strimzi.systemtest.utils.kubeUtils.objects;\n+\n+import io.strimzi.api.kafka.model.KafkaResources;\n+import io.strimzi.systemtest.Constants;\n+import io.strimzi.systemtest.utils.kubeUtils.controllers.DeploymentUtils;\n+import io.strimzi.systemtest.utils.kubeUtils.controllers.StatefulSetUtils;\n+import io.strimzi.test.TestUtils;\n+import org.apache.logging.log4j.LogManager;\n+import org.apache.logging.log4j.Logger;\n+\n+import java.util.Map;\n+import java.util.concurrent.atomic.AtomicInteger;\n+\n+import static io.strimzi.api.kafka.model.KafkaResources.kafkaStatefulSetName;\n+import static io.strimzi.api.kafka.model.KafkaResources.zookeeperStatefulSetName;\n+\n+public class ClusterUtils {\n+    private static final Logger LOGGER = LogManager.getLogger(ClusterUtils.class);\n+\n+    @SuppressWarnings(\"unchecked\")\n+    public static void waitForClusterStability(String clusterName) {\n+        LOGGER.info(\"Waiting for cluster stability\");\n+        Map<String, String>[] zkPods = new Map[1];\n+        Map<String, String>[] kafkaPods = new Map[1];\n+        Map<String, String>[] eoPods = new Map[1];\n+        AtomicInteger count = new AtomicInteger();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODg0NjA3MA=="}, "originalCommit": {"oid": "f1c0f196f1af7abc1bcd3c6c377ada475513f26e"}, "originalPosition": 30}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 363, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}