{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDcwMTE1MzU5", "number": 3526, "reviewThreads": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOVQxMjowMjo1NVrOEZ8ijw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNFQxMzoxOToyM1rOEgYRow==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk1NjQxNzQzOnYy", "diffSide": "RIGHT", "path": "systemtest/src/test/java/io/strimzi/systemtest/cruisecontrol/CruiseControlIsolatedST.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOVQxMjowMjo1NVrOHDEL1A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOVQxMjowODoyNFrOHDEWkg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Mjk3NjM0MA==", "bodyText": "How about remove the List<String> actualStrategies; and do it like this:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    actualStrategies = KafkaRebalanceResource.kafkaRebalanceClient().inNamespace(NAMESPACE)\n          \n          \n            \n                    List<String> actualStrategies = KafkaRebalanceResource.kafkaRebalanceClient().inNamespace(NAMESPACE)", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3526#discussion_r472976340", "createdAt": "2020-08-19T12:02:55Z", "author": {"login": "im-konge"}, "path": "systemtest/src/test/java/io/strimzi/systemtest/cruisecontrol/CruiseControlIsolatedST.java", "diffHunk": "@@ -151,6 +155,33 @@ void testCruiseControlTopicExclusion() {\n         KafkaRebalanceUtils.waitForKafkaRebalanceCustomResourceState(CLUSTER_NAME, KafkaRebalanceState.Ready);\n     }\n \n+    @Test\n+    void testCruiseControlReplicaMovementStrategy() {\n+        List<String> actualStrategies;\n+        List<String> newReplicaMovementStrategies = Arrays.asList(\"PrioritizeSmallReplicaMovementStrategy\",\n+                                                                    \"PrioritizeLargeReplicaMovementStrategy\",\n+                                                                    \"PostponeUrpReplicaMovementStrategy\");\n+\n+        KafkaResource.kafkaWithCruiseControl(CLUSTER_NAME, 3, 3).done();\n+        KafkaRebalanceResource.kafkaRebalance(CLUSTER_NAME).done();\n+\n+        actualStrategies = KafkaRebalanceResource.kafkaRebalanceClient().inNamespace(NAMESPACE)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5659a39de7db5304115b09558df6a66cb1c6c4ec"}, "originalPosition": 32}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Mjk3OTA5MA==", "bodyText": "Yeah, I forgot to update it, as originally I was assigning two values to actualStrategies", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3526#discussion_r472979090", "createdAt": "2020-08-19T12:08:24Z", "author": {"login": "michalxo"}, "path": "systemtest/src/test/java/io/strimzi/systemtest/cruisecontrol/CruiseControlIsolatedST.java", "diffHunk": "@@ -151,6 +155,33 @@ void testCruiseControlTopicExclusion() {\n         KafkaRebalanceUtils.waitForKafkaRebalanceCustomResourceState(CLUSTER_NAME, KafkaRebalanceState.Ready);\n     }\n \n+    @Test\n+    void testCruiseControlReplicaMovementStrategy() {\n+        List<String> actualStrategies;\n+        List<String> newReplicaMovementStrategies = Arrays.asList(\"PrioritizeSmallReplicaMovementStrategy\",\n+                                                                    \"PrioritizeLargeReplicaMovementStrategy\",\n+                                                                    \"PostponeUrpReplicaMovementStrategy\");\n+\n+        KafkaResource.kafkaWithCruiseControl(CLUSTER_NAME, 3, 3).done();\n+        KafkaRebalanceResource.kafkaRebalance(CLUSTER_NAME).done();\n+\n+        actualStrategies = KafkaRebalanceResource.kafkaRebalanceClient().inNamespace(NAMESPACE)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Mjk3NjM0MA=="}, "originalCommit": {"oid": "5659a39de7db5304115b09558df6a66cb1c6c4ec"}, "originalPosition": 32}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAyMzExMTk3OnYy", "diffSide": "RIGHT", "path": "systemtest/src/test/java/io/strimzi/systemtest/AbstractST.java", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNFQwOTowOToyMFrOHNF_Dg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNFQxMzowMjoxM1rOHNMqow==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzQ5MTU5OA==", "bodyText": "Why it's in Abstract instead of in Constants?", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3526#discussion_r483491598", "createdAt": "2020-09-04T09:09:20Z", "author": {"login": "Frawless"}, "path": "systemtest/src/test/java/io/strimzi/systemtest/AbstractST.java", "diffHunk": "@@ -87,6 +87,13 @@\n     protected static final String TLS_SIDECAR_EO_IMAGE = \"STRIMZI_DEFAULT_TLS_SIDECAR_ENTITY_OPERATOR_IMAGE\";\n     protected static final String TEST_TOPIC_NAME = \"test-topic\";\n \n+    protected static final String CRUISE_CONTROL_NAME = \"Cruise Control\";\n+    protected static final String CRUISE_CONTROL_POD_PREFIX = CLUSTER_NAME + \"-cruise-control-\";\n+    protected static final String CRUISE_CONTROL_CONTAINER_NAME = \"cruise-control\";\n+    protected static final String CRUISE_CONTROL_CONFIGURATION_ENV = \"CRUISE_CONTROL_CONFIGURATION\";\n+    protected static final String CRUISE_CONTROL_CAPACITY_FILE_PATH = \"/tmp/capacity.json\";\n+    protected static final String CRUISE_CONTROL_CONFIGURATION_FILE_PATH = \"/tmp/cruisecontrol.properties\";\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "666e0b45ea7bcc1184b3161c0428ab4186508d65"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzU2NDYzNw==", "bodyText": "There is more stuff I would propose to move from AbstractST to Constants. Not just my change.\nFor example all of this\n    protected static final String KAFKA_CLIENTS_NAME = CLUSTER_NAME + \"-\" + Constants.KAFKA_CLIENTS;\n    protected static final String KAFKA_IMAGE_MAP = \"STRIMZI_KAFKA_IMAGES\";\n    protected static final String KAFKA_CONNECT_IMAGE_MAP = \"STRIMZI_KAFKA_CONNECT_IMAGES\";\n    protected static final String KAFKA_MIRROR_MAKER_2_IMAGE_MAP = \"STRIMZI_KAFKA_MIRROR_MAKER_2_IMAGES\";\n    protected static final String TO_IMAGE = \"STRIMZI_DEFAULT_TOPIC_OPERATOR_IMAGE\";\n    protected static final String UO_IMAGE = \"STRIMZI_DEFAULT_USER_OPERATOR_IMAGE\";\n    protected static final String KAFKA_INIT_IMAGE = \"STRIMZI_DEFAULT_KAFKA_INIT_IMAGE\";\n    protected static final String TLS_SIDECAR_EO_IMAGE = \"STRIMZI_DEFAULT_TLS_SIDECAR_ENTITY_OPERATOR_IMAGE\";\n    protected static final String TEST_TOPIC_NAME = \"test-topic\";\n\n    protected static final String CRUISE_CONTROL_NAME = \"Cruise Control\";\n    protected static final String CRUISE_CONTROL_POD_PREFIX = CLUSTER_NAME + \"-cruise-control-\";\n    protected static final String CRUISE_CONTROL_CONTAINER_NAME = \"cruise-control\";\n    protected static final String CRUISE_CONTROL_CONFIGURATION_ENV = \"CRUISE_CONTROL_CONFIGURATION\";\n    protected static final String CRUISE_CONTROL_CAPACITY_FILE_PATH = \"/tmp/capacity.json\";\n    protected static final String CRUISE_CONTROL_CONFIGURATION_FILE_PATH = \"/tmp/cruisecontrol.properties\";\n\nWhich would change all of these files\ngit st\nOn branch mt_rebalance\nYour branch is up to date with 'origin/mt_rebalance'.\n\nChanges not staged for commit:\n  (use \"git add <file>...\" to update what will be committed)\n  (use \"git restore <file>...\" to discard changes in working directory)\n\tmodified:   systemtest/src/main/java/io/strimzi/systemtest/Constants.java\n\tmodified:   systemtest/src/test/java/io/strimzi/systemtest/AbstractST.java\n\tmodified:   systemtest/src/test/java/io/strimzi/systemtest/bridge/HttpBridgeAbstractST.java\n\tmodified:   systemtest/src/test/java/io/strimzi/systemtest/bridge/HttpBridgeCorsST.java\n\tmodified:   systemtest/src/test/java/io/strimzi/systemtest/bridge/HttpBridgeKafkaExternalListenersST.java\n\tmodified:   systemtest/src/test/java/io/strimzi/systemtest/bridge/HttpBridgeST.java\n\tmodified:   systemtest/src/test/java/io/strimzi/systemtest/bridge/HttpBridgeScramShaST.java\n\tmodified:   systemtest/src/test/java/io/strimzi/systemtest/bridge/HttpBridgeTlsST.java\n\tmodified:   systemtest/src/test/java/io/strimzi/systemtest/connect/ConnectS2IST.java\n\tmodified:   systemtest/src/test/java/io/strimzi/systemtest/connect/ConnectST.java\n\tmodified:   systemtest/src/test/java/io/strimzi/systemtest/cruisecontrol/CruiseControlApiST.java\n\tmodified:   systemtest/src/test/java/io/strimzi/systemtest/cruisecontrol/CruiseControlConfigurationST.java\n\tmodified:   systemtest/src/test/java/io/strimzi/systemtest/cruisecontrol/CruiseControlIsolatedST.java\n\tmodified:   systemtest/src/test/java/io/strimzi/systemtest/kafka/KafkaST.java\n\tmodified:   systemtest/src/test/java/io/strimzi/systemtest/kafka/ListenersST.java\n\tmodified:   systemtest/src/test/java/io/strimzi/systemtest/log/LogSettingST.java\n\tmodified:   systemtest/src/test/java/io/strimzi/systemtest/log/LoggingChangeST.java\n\tmodified:   systemtest/src/test/java/io/strimzi/systemtest/metrics/MetricsST.java\n\tmodified:   systemtest/src/test/java/io/strimzi/systemtest/mirrormaker/MirrorMaker2ST.java\n\tmodified:   systemtest/src/test/java/io/strimzi/systemtest/mirrormaker/MirrorMakerST.java\n\tmodified:   systemtest/src/test/java/io/strimzi/systemtest/operators/CustomResourceStatusST.java\n\tmodified:   systemtest/src/test/java/io/strimzi/systemtest/operators/RecoveryST.java\n\tmodified:   systemtest/src/test/java/io/strimzi/systemtest/operators/topic/TopicST.java\n\tmodified:   systemtest/src/test/java/io/strimzi/systemtest/operators/topic/TopicScalabilityST.java\n\tmodified:   systemtest/src/test/java/io/strimzi/systemtest/operators/user/UserST.java\n\tmodified:   systemtest/src/test/java/io/strimzi/systemtest/rollingupdate/AlternativeReconcileTriggersST.java\n\tmodified:   systemtest/src/test/java/io/strimzi/systemtest/rollingupdate/KafkaRollerST.java\n\tmodified:   systemtest/src/test/java/io/strimzi/systemtest/rollingupdate/RollingUpdateST.java\n\tmodified:   systemtest/src/test/java/io/strimzi/systemtest/security/OpaIntegrationST.java\n\tmodified:   systemtest/src/test/java/io/strimzi/systemtest/security/SecurityST.java\n\tmodified:   systemtest/src/test/java/io/strimzi/systemtest/security/oauth/OauthAbstractST.java\n\tmodified:   systemtest/src/test/java/io/strimzi/systemtest/security/oauth/OauthAuthorizationST.java\n\tmodified:   systemtest/src/test/java/io/strimzi/systemtest/security/oauth/OauthPlainST.java\n\tmodified:   systemtest/src/test/java/io/strimzi/systemtest/security/oauth/OauthTlsST.java\n\tmodified:   systemtest/src/test/java/io/strimzi/systemtest/specific/ClusterOperationST.java\n\tmodified:   systemtest/src/test/java/io/strimzi/systemtest/specific/SpecificST.java\n\tmodified:   systemtest/src/test/java/io/strimzi/systemtest/tracing/TracingST.java\n\tmodified:   systemtest/src/test/java/io/strimzi/systemtest/upgrade/StrimziUpgradeST.java\n\tmodified:   systemtest/src/test/java/io/strimzi/systemtest/upgrade/ZookeeperUpgradeST.java\n\tmodified:   systemtest/src/test/java/io/strimzi/systemtest/watcher/AbstractNamespaceST.java\n\tmodified:   systemtest/src/test/java/io/strimzi/systemtest/watcher/AllNamespaceST.java\n\tmodified:   systemtest/src/test/java/io/strimzi/systemtest/watcher/MultipleNamespaceST.java\n\nI would make it as a separate PR. WDYT?", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3526#discussion_r483564637", "createdAt": "2020-09-04T11:44:47Z", "author": {"login": "michalxo"}, "path": "systemtest/src/test/java/io/strimzi/systemtest/AbstractST.java", "diffHunk": "@@ -87,6 +87,13 @@\n     protected static final String TLS_SIDECAR_EO_IMAGE = \"STRIMZI_DEFAULT_TLS_SIDECAR_ENTITY_OPERATOR_IMAGE\";\n     protected static final String TEST_TOPIC_NAME = \"test-topic\";\n \n+    protected static final String CRUISE_CONTROL_NAME = \"Cruise Control\";\n+    protected static final String CRUISE_CONTROL_POD_PREFIX = CLUSTER_NAME + \"-cruise-control-\";\n+    protected static final String CRUISE_CONTROL_CONTAINER_NAME = \"cruise-control\";\n+    protected static final String CRUISE_CONTROL_CONFIGURATION_ENV = \"CRUISE_CONTROL_CONFIGURATION\";\n+    protected static final String CRUISE_CONTROL_CAPACITY_FILE_PATH = \"/tmp/capacity.json\";\n+    protected static final String CRUISE_CONTROL_CONFIGURATION_FILE_PATH = \"/tmp/cruisecontrol.properties\";\n+", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzQ5MTU5OA=="}, "originalCommit": {"oid": "666e0b45ea7bcc1184b3161c0428ab4186508d65"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzU3NjE3Ng==", "bodyText": "Moved to constants only CC for now.", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3526#discussion_r483576176", "createdAt": "2020-09-04T12:11:12Z", "author": {"login": "michalxo"}, "path": "systemtest/src/test/java/io/strimzi/systemtest/AbstractST.java", "diffHunk": "@@ -87,6 +87,13 @@\n     protected static final String TLS_SIDECAR_EO_IMAGE = \"STRIMZI_DEFAULT_TLS_SIDECAR_ENTITY_OPERATOR_IMAGE\";\n     protected static final String TEST_TOPIC_NAME = \"test-topic\";\n \n+    protected static final String CRUISE_CONTROL_NAME = \"Cruise Control\";\n+    protected static final String CRUISE_CONTROL_POD_PREFIX = CLUSTER_NAME + \"-cruise-control-\";\n+    protected static final String CRUISE_CONTROL_CONTAINER_NAME = \"cruise-control\";\n+    protected static final String CRUISE_CONTROL_CONFIGURATION_ENV = \"CRUISE_CONTROL_CONFIGURATION\";\n+    protected static final String CRUISE_CONTROL_CAPACITY_FILE_PATH = \"/tmp/capacity.json\";\n+    protected static final String CRUISE_CONTROL_CONFIGURATION_FILE_PATH = \"/tmp/cruisecontrol.properties\";\n+", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzQ5MTU5OA=="}, "originalCommit": {"oid": "666e0b45ea7bcc1184b3161c0428ab4186508d65"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzYwMTA1OQ==", "bodyText": "Yes we can surely move them to Constants and it will need to be changed in all STs, but in separate PR.", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3526#discussion_r483601059", "createdAt": "2020-09-04T13:02:13Z", "author": {"login": "im-konge"}, "path": "systemtest/src/test/java/io/strimzi/systemtest/AbstractST.java", "diffHunk": "@@ -87,6 +87,13 @@\n     protected static final String TLS_SIDECAR_EO_IMAGE = \"STRIMZI_DEFAULT_TLS_SIDECAR_ENTITY_OPERATOR_IMAGE\";\n     protected static final String TEST_TOPIC_NAME = \"test-topic\";\n \n+    protected static final String CRUISE_CONTROL_NAME = \"Cruise Control\";\n+    protected static final String CRUISE_CONTROL_POD_PREFIX = CLUSTER_NAME + \"-cruise-control-\";\n+    protected static final String CRUISE_CONTROL_CONTAINER_NAME = \"cruise-control\";\n+    protected static final String CRUISE_CONTROL_CONFIGURATION_ENV = \"CRUISE_CONTROL_CONFIGURATION\";\n+    protected static final String CRUISE_CONTROL_CAPACITY_FILE_PATH = \"/tmp/capacity.json\";\n+    protected static final String CRUISE_CONTROL_CONFIGURATION_FILE_PATH = \"/tmp/cruisecontrol.properties\";\n+", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzQ5MTU5OA=="}, "originalCommit": {"oid": "666e0b45ea7bcc1184b3161c0428ab4186508d65"}, "originalPosition": 10}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAyMzEyNDM3OnYy", "diffSide": "RIGHT", "path": "systemtest/src/test/java/io/strimzi/systemtest/AbstractST.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNFQwOToxMjo0NlrOHNGGjg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNFQwOToxNDowM1rOHNGJaw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzQ5MzUxOA==", "bodyText": "Thinking if we should add these to some resource/utils class. WDYT @Frawless?", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3526#discussion_r483493518", "createdAt": "2020-09-04T09:12:46Z", "author": {"login": "im-konge"}, "path": "systemtest/src/test/java/io/strimzi/systemtest/AbstractST.java", "diffHunk": "@@ -87,6 +87,13 @@\n     protected static final String TLS_SIDECAR_EO_IMAGE = \"STRIMZI_DEFAULT_TLS_SIDECAR_ENTITY_OPERATOR_IMAGE\";\n     protected static final String TEST_TOPIC_NAME = \"test-topic\";\n \n+    protected static final String CRUISE_CONTROL_NAME = \"Cruise Control\";\n+    protected static final String CRUISE_CONTROL_POD_PREFIX = CLUSTER_NAME + \"-cruise-control-\";\n+    protected static final String CRUISE_CONTROL_CONTAINER_NAME = \"cruise-control\";\n+    protected static final String CRUISE_CONTROL_CONFIGURATION_ENV = \"CRUISE_CONTROL_CONFIGURATION\";\n+    protected static final String CRUISE_CONTROL_CAPACITY_FILE_PATH = \"/tmp/capacity.json\";\n+    protected static final String CRUISE_CONTROL_CONFIGURATION_FILE_PATH = \"/tmp/cruisecontrol.properties\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "666e0b45ea7bcc1184b3161c0428ab4186508d65"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzQ5NDI1MQ==", "bodyText": "Or maybe to some constants \ud83d\ude04", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3526#discussion_r483494251", "createdAt": "2020-09-04T09:14:03Z", "author": {"login": "im-konge"}, "path": "systemtest/src/test/java/io/strimzi/systemtest/AbstractST.java", "diffHunk": "@@ -87,6 +87,13 @@\n     protected static final String TLS_SIDECAR_EO_IMAGE = \"STRIMZI_DEFAULT_TLS_SIDECAR_ENTITY_OPERATOR_IMAGE\";\n     protected static final String TEST_TOPIC_NAME = \"test-topic\";\n \n+    protected static final String CRUISE_CONTROL_NAME = \"Cruise Control\";\n+    protected static final String CRUISE_CONTROL_POD_PREFIX = CLUSTER_NAME + \"-cruise-control-\";\n+    protected static final String CRUISE_CONTROL_CONTAINER_NAME = \"cruise-control\";\n+    protected static final String CRUISE_CONTROL_CONFIGURATION_ENV = \"CRUISE_CONTROL_CONFIGURATION\";\n+    protected static final String CRUISE_CONTROL_CAPACITY_FILE_PATH = \"/tmp/capacity.json\";\n+    protected static final String CRUISE_CONTROL_CONFIGURATION_FILE_PATH = \"/tmp/cruisecontrol.properties\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzQ5MzUxOA=="}, "originalCommit": {"oid": "666e0b45ea7bcc1184b3161c0428ab4186508d65"}, "originalPosition": 9}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAyMzcxOTQzOnYy", "diffSide": "RIGHT", "path": "systemtest/src/test/resources/oauth2/prepare_keycloak_operator.sh", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNFQxMjozMTo1MFrOHNLu1g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNFQxMjozNTowNFrOHNL0zw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzU4NTc1MA==", "bodyText": "Leftover?", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3526#discussion_r483585750", "createdAt": "2020-09-04T12:31:50Z", "author": {"login": "Frawless"}, "path": "systemtest/src/test/resources/oauth2/prepare_keycloak_operator.sh", "diffHunk": "@@ -21,7 +21,8 @@ kubectl apply -n ${NAMESPACE} -f https://github.com/keycloak/keycloak-operator/r\n kubectl apply -n ${NAMESPACE} -f https://github.com/keycloak/keycloak-operator/raw/${KEYCLOAK_VERSION}/deploy/crds/keycloak.org_keycloakrealms_crd.yaml\n kubectl apply -n ${NAMESPACE} -f https://github.com/keycloak/keycloak-operator/raw/${KEYCLOAK_VERSION}/deploy/crds/keycloak.org_keycloaks_crd.yaml\n kubectl apply -n ${NAMESPACE} -f https://github.com/keycloak/keycloak-operator/raw/${KEYCLOAK_VERSION}/deploy/crds/keycloak.org_keycloakusers_crd.yaml\n-kubectl apply -n ${NAMESPACE} -f https://github.com/keycloak/keycloak-operator/raw/${KEYCLOAK_VERSION}/deploy/operator.yaml\n+#kubectl apply -n ${NAMESPACE} -f https://github.com/keycloak/keycloak-operator/raw/${KEYCLOAK_VERSION}/deploy/operator.yaml\n+kubectl apply -n ${NAMESPACE} -f /Users/mtoth/work/repos/keycloak-operator/deploy/operator.yaml", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2ff95f3a86db4f6737da88d0ff8b02faa2443e56"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzU4NzI3OQ==", "bodyText": "Yes thank you, I thought I did not added it damn", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3526#discussion_r483587279", "createdAt": "2020-09-04T12:35:04Z", "author": {"login": "michalxo"}, "path": "systemtest/src/test/resources/oauth2/prepare_keycloak_operator.sh", "diffHunk": "@@ -21,7 +21,8 @@ kubectl apply -n ${NAMESPACE} -f https://github.com/keycloak/keycloak-operator/r\n kubectl apply -n ${NAMESPACE} -f https://github.com/keycloak/keycloak-operator/raw/${KEYCLOAK_VERSION}/deploy/crds/keycloak.org_keycloakrealms_crd.yaml\n kubectl apply -n ${NAMESPACE} -f https://github.com/keycloak/keycloak-operator/raw/${KEYCLOAK_VERSION}/deploy/crds/keycloak.org_keycloaks_crd.yaml\n kubectl apply -n ${NAMESPACE} -f https://github.com/keycloak/keycloak-operator/raw/${KEYCLOAK_VERSION}/deploy/crds/keycloak.org_keycloakusers_crd.yaml\n-kubectl apply -n ${NAMESPACE} -f https://github.com/keycloak/keycloak-operator/raw/${KEYCLOAK_VERSION}/deploy/operator.yaml\n+#kubectl apply -n ${NAMESPACE} -f https://github.com/keycloak/keycloak-operator/raw/${KEYCLOAK_VERSION}/deploy/operator.yaml\n+kubectl apply -n ${NAMESPACE} -f /Users/mtoth/work/repos/keycloak-operator/deploy/operator.yaml", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzU4NTc1MA=="}, "originalCommit": {"oid": "2ff95f3a86db4f6737da88d0ff8b02faa2443e56"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAyMzcxOTc0OnYy", "diffSide": "RIGHT", "path": "systemtest/src/test/resources/oauth2/prepare_keycloak_operator.sh", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNFQxMjozMTo1N1rOHNLvBw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNFQxMjozMTo1N1rOHNLvBw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzU4NTc5OQ==", "bodyText": "Same here", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3526#discussion_r483585799", "createdAt": "2020-09-04T12:31:57Z", "author": {"login": "Frawless"}, "path": "systemtest/src/test/resources/oauth2/prepare_keycloak_operator.sh", "diffHunk": "@@ -51,14 +52,14 @@ PASSWORD=$(kubectl get secret -n ${NAMESPACE} credential-example-keycloak -o=jso\n USERNAME=$(kubectl get secret -n ${NAMESPACE} credential-example-keycloak -o=jsonpath='{.data.ADMIN_USERNAME}' | base64 -d)\n \n echo \"[INFO] $(date -u +\"%Y-%m-%d %H:%M:%S\") Import realms - USER:${USERNAME} - PASS:${PASSWORD}\"\n-AUTHENTICATION_REALM_OUTPUT=$(kubectl exec keycloak-0 -n ${NAMESPACE} -- /tmp/create_realm.sh ${USERNAME} ${PASSWORD} localhost:8443)\n+AUTHENTICATION_REALM_OUTPUT=$(kubectl exec keycloak-0 -n ${NAMESPACE} -- /tmp/create_realm.sh ${USERNAME} ${PASSWORD} \"$(hostname -i):8443\")\n echo ${AUTHENTICATION_REALM_OUTPUT}\n if [[ ${AUTHENTICATION_REALM_OUTPUT} == *\"Realm wasn't imported!\"* ]]; then\n   echo \"[ERROR] $(date -u +\"%Y-%m-%d %H:%M:%S\") Authentication realm wasn't imported!\"\n   exit 1\n fi\n \n-AUTHORIZATION_REALM_OUTPUT=$(kubectl exec keycloak-0 -n ${NAMESPACE} -- /tmp/create_realm_authorization.sh ${USERNAME} ${PASSWORD} localhost:8443)\n+AUTHORIZATION_REALM_OUTPUT=$(kubectl exec keycloak-0 -n ${NAMESPACE} -- /tmp/create_realm_authorization.sh ${USERNAME} ${PASSWORD} \"$(hostname -i):8443\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2ff95f3a86db4f6737da88d0ff8b02faa2443e56"}, "originalPosition": 23}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAyMzg3NjE5OnYy", "diffSide": "RIGHT", "path": "systemtest/src/test/resources/oauth2/prepare_keycloak_operator.sh", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNFQxMzoxOToyM1rOHNNOPw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNFQxMzoyMDo0M1rOHNNRHQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzYxMDE3NQ==", "bodyText": "Guess one last leftover :)", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3526#discussion_r483610175", "createdAt": "2020-09-04T13:19:23Z", "author": {"login": "Frawless"}, "path": "systemtest/src/test/resources/oauth2/prepare_keycloak_operator.sh", "diffHunk": "@@ -2,7 +2,7 @@\n \n NAMESPACE=$1\n \n-KEYCLOAK_VERSION=11.0.0\n+KEYCLOAK_VERSION=11.0.2", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "994c7bf32e37da0753756b4f44473e8c9ae14176"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzYxMDkwOQ==", "bodyText": "This one was intentional... unless you want me to remove it :)", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3526#discussion_r483610909", "createdAt": "2020-09-04T13:20:43Z", "author": {"login": "michalxo"}, "path": "systemtest/src/test/resources/oauth2/prepare_keycloak_operator.sh", "diffHunk": "@@ -2,7 +2,7 @@\n \n NAMESPACE=$1\n \n-KEYCLOAK_VERSION=11.0.0\n+KEYCLOAK_VERSION=11.0.2", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzYxMDE3NQ=="}, "originalCommit": {"oid": "994c7bf32e37da0753756b4f44473e8c9ae14176"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1331, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}