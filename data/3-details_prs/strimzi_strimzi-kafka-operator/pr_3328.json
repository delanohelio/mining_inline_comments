{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDUwMTQ0NDg4", "number": 3328, "title": "Cluster Operator dynamic logging configuration", "bodyText": "Type of change\n\nEnhancement / new feature\n\nDescription\nThe CO is deployed as a Deployment so it is not possible just change envvar without rolling update. We need to use an external confingmap (maybe we should allow to configure its name).\nWhenever this configmap is updated, the volume is updated and thanks to monitorInterval entry in the log4j2.properties the configuration is reloaded.\nChecklist\n\n Write tests\n Make sure all tests pass\n Update documentation\n Check RBAC rights for Kubernetes / OpenShift roles\n Try your changes from Pod inside your Kubernetes and OpenShift cluster, not just locally\n Reference relevant issue(s) and close them after merging\n Update CHANGELOG.md\n Supply screenshots for visual changes, such as Grafana dashboards", "createdAt": "2020-07-16T12:08:19Z", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328", "merged": true, "mergeCommit": {"oid": "ee43ba60c4e492549871bf278ff0c676cef90c38"}, "closed": true, "closedAt": "2020-08-07T18:44:50Z", "author": {"login": "sknot-rh"}, "timelineItems": {"totalCount": 52, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc1miSrgFqTQ1MDI0MTY1Mw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABc8g4oAgFqTQ2MzE2NDUyOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUwMjQxNjUz", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328#pullrequestreview-450241653", "createdAt": "2020-07-16T21:51:35Z", "commit": {"oid": "23fbd5e8bee1a3e6eac0202e888b518d2367afc6"}, "state": "COMMENTED", "comments": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQyMTo1MTozNVrOGy-EBA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQyMTo1Nzo0MFrOGy-PYA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjA5ODgyMA==", "bodyText": "So, why does this still use the env vars? It should just have the log levels, or?", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328#discussion_r456098820", "createdAt": "2020-07-16T21:51:35Z", "author": {"login": "scholzj"}, "path": "cluster-operator/src/main/resources/config-maps/050-ConfigMap-strimzi-cluster-operator-logging.yaml", "diffHunk": "@@ -0,0 +1,28 @@\n+kind: ConfigMap\n+apiVersion: v1\n+metadata:\n+  name: strimzi-cluster-operator-logging\n+data:\n+  log4j2.properties: |\n+    name = COConfig\n+\n+    appender.console.type = Console\n+    appender.console.name = STDOUT\n+    appender.console.layout.type = PatternLayout\n+    appender.console.layout.pattern = %d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n\n+\n+    rootLogger.level = ${env:STRIMZI_LOG_LEVEL:-INFO}\n+    rootLogger.appenderRefs = stdout\n+    rootLogger.appenderRef.console.ref = STDOUT\n+    rootLogger.additivity = false\n+\n+    # Kafka AdminClient logging is a bit noisy at INFO level\n+    logger.kafka.name = org.apache.kafka\n+    logger.kafka.level = ${env:STRIMZI_AC_LOG_LEVEL:-WARN}\n+    logger.kafka.additivity = false\n+\n+    # Zookeeper is very verbose even on INFO level -> We set it to WARN by default\n+    logger.zookeepertrustmanager.name = org.apache.zookeeper\n+    logger.zookeepertrustmanager.level = ${env:STRIMZI_ZOOKEEPER_LOG_LEVEL:-WARN}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "23fbd5e8bee1a3e6eac0202e888b518d2367afc6"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjA5OTA5MA==", "bodyText": "Should we still have some defaults when the config map is for whatever reason not mounted?", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328#discussion_r456099090", "createdAt": "2020-07-16T21:52:09Z", "author": {"login": "scholzj"}, "path": "cluster-operator/src/main/resources/log4j2.properties", "diffHunk": "@@ -1,21 +0,0 @@\n-name = COConfig\n- \n-appender.console.type = Console\n-appender.console.name = STDOUT\n-appender.console.layout.type = PatternLayout\n-appender.console.layout.pattern = %d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n\n-\n-rootLogger.level = ${env:STRIMZI_LOG_LEVEL:-INFO}\n-rootLogger.appenderRefs = stdout\n-rootLogger.appenderRef.console.ref = STDOUT\n-rootLogger.additivity = false\n-\n-# Kafka AdminClient logging is a bit noisy at INFO level\n-logger.kafka.name = org.apache.kafka\n-logger.kafka.level = ${env:STRIMZI_AC_LOG_LEVEL:-WARN}\n-logger.kafka.additivity = false\n-\n-# Zookeeper is very verbose even on INFO level -> We set it to WARN by default\n-logger.zookeepertrustmanager.name = org.apache.zookeeper\n-logger.zookeepertrustmanager.level = ${env:STRIMZI_ZOOKEEPER_LOG_LEVEL:-WARN}\n-logger.zookeepertrustmanager.additivity = false", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "23fbd5e8bee1a3e6eac0202e888b518d2367afc6"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjA5OTY0NA==", "bodyText": "Same as above - why do we have these env vars here?", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328#discussion_r456099644", "createdAt": "2020-07-16T21:53:20Z", "author": {"login": "scholzj"}, "path": "helm-charts/helm2/strimzi-kafka-operator/templates/050-ConfigMap-strimzi-cluster-operator-logging.yaml", "diffHunk": "@@ -0,0 +1,28 @@\n+kind: ConfigMap\n+apiVersion: v1\n+metadata:\n+  name: {{ .Values.logConfigMap }}\n+data:\n+  log4j2.properties: |\n+    name = COConfig\n+\n+    appender.console.type = Console\n+    appender.console.name = STDOUT\n+    appender.console.layout.type = PatternLayout\n+    appender.console.layout.pattern = %d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n\n+\n+    rootLogger.level = ${env:STRIMZI_LOG_LEVEL:-INFO}\n+    rootLogger.appenderRefs = stdout\n+    rootLogger.appenderRef.console.ref = STDOUT\n+    rootLogger.additivity = false\n+\n+    # Kafka AdminClient logging is a bit noisy at INFO level\n+    logger.kafka.name = org.apache.kafka\n+    logger.kafka.level = ${env:STRIMZI_AC_LOG_LEVEL:-WARN}\n+    logger.kafka.additivity = false\n+\n+    # Zookeeper is very verbose even on INFO level -> We set it to WARN by default\n+    logger.zookeepertrustmanager.name = org.apache.zookeeper\n+    logger.zookeepertrustmanager.level = ${env:STRIMZI_ZOOKEEPER_LOG_LEVEL:-WARN}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "23fbd5e8bee1a3e6eac0202e888b518d2367afc6"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjEwMDI5Mg==", "bodyText": "Why is this needed? It does not seem to be used?", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328#discussion_r456100292", "createdAt": "2020-07-16T21:54:31Z", "author": {"login": "scholzj"}, "path": "helm-charts/helm2/Makefile", "diffHunk": "@@ -8,6 +8,7 @@ CHART_NAME = strimzi-kafka-operator\n CHART_PATH ?= ../helm2/strimzi-kafka-operator/\n CHART_RENDERED_TEMPLATES_TMP = ../../target/charts\n CHART_RENDERED_TEMPLATES_CLUSTERROLES = ../../cluster-operator/src/main/resources/cluster-roles/\n+CHART_RENDERED_TEMPLATES_CONFIGMAPS = ../../cluster-operator/src/main/resources/config-maps/", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "23fbd5e8bee1a3e6eac0202e888b518d2367afc6"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjEwMDQ0MA==", "bodyText": "Could you explain what does this do? It is not really clear to me.", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328#discussion_r456100440", "createdAt": "2020-07-16T21:54:50Z", "author": {"login": "scholzj"}, "path": "helm-charts/helm3/Makefile", "diffHunk": "@@ -48,6 +49,12 @@ helm_install: helm_clean helm_template\n \t$(FIND) $(CHART_RENDERED_TEMPLATES_TMP) -type f -name '*ClusterRole-*.yaml' -printf \"%p \" -exec yq r {} kind \\; \\\n \t| $(SED) -E 's/([^ ]*) ([a-zA-Z0-9]*)$$/\\1/' \\\n \t| xargs -IFILE $(CP) FILE $(CHART_RENDERED_TEMPLATES_CLUSTERROLES)\n+\t# Copying rendered template files to: $(CHART_RENDERED_TEMPLATES_CONFIGMAPS)\n+\tmkdir -p $(CHART_RENDERED_TEMPLATES_CONFIGMAPS)\n+\t# Find rendered resources which are ConfigMaps and move them\n+\t$(FIND) $(CHART_RENDERED_TEMPLATES_TMP) -type f -name '*ConfigMap-*.yaml' -printf \"%p \" -exec yq r {} kind \\; \\\n+\t| $(SED) -E 's/([^ ]*) ([a-zA-Z0-9]*)$$/\\1/' \\\n+\t| xargs -IFILE $(CP) FILE $(CHART_RENDERED_TEMPLATES_CONFIGMAPS)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "23fbd5e8bee1a3e6eac0202e888b518d2367afc6"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjEwMDU3MQ==", "bodyText": "Env vars again.", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328#discussion_r456100571", "createdAt": "2020-07-16T21:55:04Z", "author": {"login": "scholzj"}, "path": "helm-charts/helm3/strimzi-kafka-operator/templates/050-ConfigMap-strimzi-cluster-operator-logging.yaml", "diffHunk": "@@ -0,0 +1,28 @@\n+kind: ConfigMap\n+apiVersion: v1\n+metadata:\n+  name: {{ .Values.logConfigMap }}\n+data:\n+  log4j2.properties: |\n+    name = COConfig\n+\n+    appender.console.type = Console\n+    appender.console.name = STDOUT\n+    appender.console.layout.type = PatternLayout\n+    appender.console.layout.pattern = %d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n\n+\n+    rootLogger.level = ${env:STRIMZI_LOG_LEVEL:-INFO}\n+    rootLogger.appenderRefs = stdout\n+    rootLogger.appenderRef.console.ref = STDOUT\n+    rootLogger.additivity = false\n+\n+    # Kafka AdminClient logging is a bit noisy at INFO level\n+    logger.kafka.name = org.apache.kafka\n+    logger.kafka.level = ${env:STRIMZI_AC_LOG_LEVEL:-WARN}\n+    logger.kafka.additivity = false\n+\n+    # Zookeeper is very verbose even on INFO level -> We set it to WARN by default\n+    logger.zookeepertrustmanager.name = org.apache.zookeeper\n+    logger.zookeepertrustmanager.level = ${env:STRIMZI_ZOOKEEPER_LOG_LEVEL:-WARN}\n+    logger.zookeepertrustmanager.additivity = false", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "23fbd5e8bee1a3e6eac0202e888b518d2367afc6"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjEwMDc4NA==", "bodyText": "Env Vars again", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328#discussion_r456100784", "createdAt": "2020-07-16T21:55:30Z", "author": {"login": "scholzj"}, "path": "install/cluster-operator/050-ConfigMap-strimzi-cluster-operator-logging.yaml", "diffHunk": "@@ -0,0 +1,28 @@\n+kind: ConfigMap\n+apiVersion: v1\n+metadata:\n+  name: strimzi-cluster-operator-logging\n+data:\n+  log4j2.properties: |\n+    name = COConfig\n+\n+    appender.console.type = Console\n+    appender.console.name = STDOUT\n+    appender.console.layout.type = PatternLayout\n+    appender.console.layout.pattern = %d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n\n+\n+    rootLogger.level = ${env:STRIMZI_LOG_LEVEL:-INFO}\n+    rootLogger.appenderRefs = stdout\n+    rootLogger.appenderRef.console.ref = STDOUT\n+    rootLogger.additivity = false\n+\n+    # Kafka AdminClient logging is a bit noisy at INFO level\n+    logger.kafka.name = org.apache.kafka\n+    logger.kafka.level = ${env:STRIMZI_AC_LOG_LEVEL:-WARN}\n+    logger.kafka.additivity = false\n+\n+    # Zookeeper is very verbose even on INFO level -> We set it to WARN by default\n+    logger.zookeepertrustmanager.name = org.apache.zookeeper\n+    logger.zookeepertrustmanager.level = ${env:STRIMZI_ZOOKEEPER_LOG_LEVEL:-WARN}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "23fbd5e8bee1a3e6eac0202e888b518d2367afc6"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjEwMTE5MQ==", "bodyText": "We seem to have this file as 051. And below this a new file as 060 ... should this one be deleted?", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328#discussion_r456101191", "createdAt": "2020-07-16T21:56:27Z", "author": {"login": "scholzj"}, "path": "install/cluster-operator/051-Deployment-strimzi-cluster-operator.yaml", "diffHunk": "@@ -17,6 +17,10 @@ spec:\n         strimzi.io/kind: cluster-operator\n     spec:\n       serviceAccountName: strimzi-cluster-operator\n+      volumes:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "23fbd5e8bee1a3e6eac0202e888b518d2367afc6"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjEwMTcyOA==", "bodyText": "@Frawless Will these renamings play well with upgrade tests which use different versions?", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328#discussion_r456101728", "createdAt": "2020-07-16T21:57:40Z", "author": {"login": "scholzj"}, "path": "systemtest/src/main/java/io/strimzi/systemtest/resources/operator/BundleResource.java", "diffHunk": "@@ -20,7 +20,7 @@\n public class BundleResource {\n     private static final Logger LOGGER = LogManager.getLogger(BundleResource.class);\n \n-    public static final String PATH_TO_CO_CONFIG = \"../install/cluster-operator/050-Deployment-strimzi-cluster-operator.yaml\";\n+    public static final String PATH_TO_CO_CONFIG = \"../install/cluster-operator/060-Deployment-strimzi-cluster-operator.yaml\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "23fbd5e8bee1a3e6eac0202e888b518d2367afc6"}, "originalPosition": 5}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6d6fd849640011aae7499433cacc09da8c3db6ab", "author": {"user": {"login": "sknot-rh", "name": "Stanislav Knot"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/6d6fd849640011aae7499433cacc09da8c3db6ab", "committedDate": "2020-07-17T09:29:19Z", "message": "remove redundant vars\n\nSigned-off-by: Stanislav Knot <sknot@redhat.com>"}, "afterCommit": {"oid": "4213fd675b6429c031ceeeb970bb882553aaaaca", "author": {"user": {"login": "sknot-rh", "name": "Stanislav Knot"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/4213fd675b6429c031ceeeb970bb882553aaaaca", "committedDate": "2020-07-17T09:39:01Z", "message": "remove redundant vars\n\nSigned-off-by: Stanislav Knot <sknot@redhat.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUwNjIxMjM4", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328#pullrequestreview-450621238", "createdAt": "2020-07-17T12:39:02Z", "commit": {"oid": "4213fd675b6429c031ceeeb970bb882553aaaaca"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QxMjozOTowM1rOGzRYlQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QxMjozOTowM1rOGzRYlQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjQxNTM4MQ==", "bodyText": "Why are we switching 50 to 60? Are none of the numbers between 40-50 appropriate for the new CM?", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328#discussion_r456415381", "createdAt": "2020-07-17T12:39:03Z", "author": {"login": "samuel-hawker"}, "path": "install/cluster-operator/060-Deployment-strimzi-cluster-operator.yaml", "diffHunk": "@@ -17,6 +17,10 @@ spec:\n         strimzi.io/kind: cluster-operator", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4213fd675b6429c031ceeeb970bb882553aaaaca"}, "originalPosition": 1}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUwNjI4MjM3", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328#pullrequestreview-450628237", "createdAt": "2020-07-17T12:50:00Z", "commit": {"oid": "4213fd675b6429c031ceeeb970bb882553aaaaca"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QxMjo1MDowMFrOGzRumg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QxMjo1MDowMFrOGzRumg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjQyMTAxOA==", "bodyText": "I think we want to label this with:\n  labels:\n    app: strimzi", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328#discussion_r456421018", "createdAt": "2020-07-17T12:50:00Z", "author": {"login": "samuel-hawker"}, "path": "install/cluster-operator/050-ConfigMap-strimzi-cluster-operator-logging.yaml", "diffHunk": "@@ -0,0 +1,28 @@\n+kind: ConfigMap\n+apiVersion: v1\n+metadata:\n+  name: strimzi-cluster-operator-logging", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4213fd675b6429c031ceeeb970bb882553aaaaca"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUwNjI4Nzcz", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328#pullrequestreview-450628773", "createdAt": "2020-07-17T12:50:50Z", "commit": {"oid": "4213fd675b6429c031ceeeb970bb882553aaaaca"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QxMjo1MDo1MFrOGzRwTg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QxMjo1MDo1MFrOGzRwTg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjQyMTQ1NA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                # Zookeeper is very verbose even on INFO level -> We set it to WARN by default\n          \n          \n            \n                # Zookeeper is very verbose on INFO level , set it to WARN by default", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328#discussion_r456421454", "createdAt": "2020-07-17T12:50:50Z", "author": {"login": "samuel-hawker"}, "path": "helm-charts/helm3/strimzi-kafka-operator/templates/050-ConfigMap-strimzi-cluster-operator-logging.yaml", "diffHunk": "@@ -0,0 +1,28 @@\n+kind: ConfigMap\n+apiVersion: v1\n+metadata:\n+  name: {{ .Values.logConfigMap }}\n+data:\n+  log4j2.properties: |\n+    name = COConfig\n+\n+    appender.console.type = Console\n+    appender.console.name = STDOUT\n+    appender.console.layout.type = PatternLayout\n+    appender.console.layout.pattern = %d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n\n+\n+    rootLogger.level = INFO\n+    rootLogger.appenderRefs = stdout\n+    rootLogger.appenderRef.console.ref = STDOUT\n+    rootLogger.additivity = false\n+\n+    # Kafka AdminClient logging is a bit noisy at INFO level\n+    logger.kafka.name = org.apache.kafka\n+    logger.kafka.level = WARN\n+    logger.kafka.additivity = false\n+\n+    # Zookeeper is very verbose even on INFO level -> We set it to WARN by default", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4213fd675b6429c031ceeeb970bb882553aaaaca"}, "originalPosition": 24}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUwNjI5MzQw", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328#pullrequestreview-450629340", "createdAt": "2020-07-17T12:51:23Z", "commit": {"oid": "4213fd675b6429c031ceeeb970bb882553aaaaca"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QxMjo1MToyM1rOGzRxag==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QxMjo1MToyM1rOGzRxag==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjQyMTczOA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                name = COConfig\n          \n          \n            \n                name = ClusterOperatorConfig\n          \n      \n    \n    \n  \n\nbrevity here seems unnecessary", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328#discussion_r456421738", "createdAt": "2020-07-17T12:51:23Z", "author": {"login": "samuel-hawker"}, "path": "helm-charts/helm3/strimzi-kafka-operator/templates/050-ConfigMap-strimzi-cluster-operator-logging.yaml", "diffHunk": "@@ -0,0 +1,28 @@\n+kind: ConfigMap\n+apiVersion: v1\n+metadata:\n+  name: {{ .Values.logConfigMap }}\n+data:\n+  log4j2.properties: |\n+    name = COConfig", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4213fd675b6429c031ceeeb970bb882553aaaaca"}, "originalPosition": 7}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUwNjMwNTY1", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328#pullrequestreview-450630565", "createdAt": "2020-07-17T12:52:40Z", "commit": {"oid": "4213fd675b6429c031ceeeb970bb882553aaaaca"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QxMjo1Mjo0MVrOGzR0RA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QxMjo1Mjo0MVrOGzR0RA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjQyMjQ2OA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            logVolume: co-logging-volume\n          \n          \n            \n            logVolume: cluster-operator-logging-volume", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328#discussion_r456422468", "createdAt": "2020-07-17T12:52:41Z", "author": {"login": "samuel-hawker"}, "path": "helm-charts/helm2/strimzi-kafka-operator/values.yaml", "diffHunk": "@@ -9,7 +9,8 @@ image:\n   repository: strimzi\n   name: operator\n   tag: latest\n-logLevel: INFO\n+logVolume: co-logging-volume", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4213fd675b6429c031ceeeb970bb882553aaaaca"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUwNjMyNTY2", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328#pullrequestreview-450632566", "createdAt": "2020-07-17T12:55:29Z", "commit": {"oid": "4213fd675b6429c031ceeeb970bb882553aaaaca"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QxMjo1NTozMFrOGzR51Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QxMjo1NTozMFrOGzR51Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjQyMzg5Mw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                          mountPath: /opt/strimzi/custom-config/\n          \n          \n            \n                          mountPath: /opt/strimzi/log-config/\n          \n      \n    \n    \n  \n\nCustom config is a strange name, I'd probably call it log-config as we are always applying it (so not necessarily custom) and it only is relevant for logs.", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328#discussion_r456423893", "createdAt": "2020-07-17T12:55:30Z", "author": {"login": "samuel-hawker"}, "path": "helm-charts/helm2/strimzi-kafka-operator/templates/060-Deployment-strimzi-cluster-operator.yaml", "diffHunk": "@@ -36,6 +40,9 @@ spec:\n           {{- end }}\n           args:\n             - /opt/strimzi/bin/cluster_operator_run.sh\n+          volumeMounts:\n+            - name: {{ .Values.logVolume }}\n+              mountPath: /opt/strimzi/custom-config/", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4213fd675b6429c031ceeeb970bb882553aaaaca"}, "originalPosition": 17}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUwNjMzODA0", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328#pullrequestreview-450633804", "createdAt": "2020-07-17T12:57:06Z", "commit": {"oid": "4213fd675b6429c031ceeeb970bb882553aaaaca"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QxMjo1NzowNlrOGzR9DQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QxMjo1NzowNlrOGzR9DQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjQyNDcxNw==", "bodyText": "Should we not instead always deploy the CM and pre-seed the CM with the properties from the properties file?\nEasier to predict behaviour if we don't have this if check here, I can imagine us having to suggets users restart operator pod to make the operator run through this logic again.", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328#discussion_r456424717", "createdAt": "2020-07-17T12:57:06Z", "author": {"login": "samuel-hawker"}, "path": "cluster-operator/scripts/cluster_operator_run.sh", "diffHunk": "@@ -1,4 +1,9 @@\n #!/usr/bin/env bash\n export JAVA_CLASSPATH=lib/io.strimzi.@project.build.finalName@.@project.packaging@:@project.dist.classpath@\n export JAVA_MAIN=io.strimzi.operator.cluster.Main\n+\n+if [ -f /opt/strimzi/custom-config/log4j2.properties ]; then\n+    # if ConfigMap was not mounted and thus this file was not created, use properties file from the classpath\n+    export JAVA_OPTS=\"${JAVA_OPTS} -Dlog4j2.configurationFile=file:/opt/strimzi/custom-config/log4j2.properties\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4213fd675b6429c031ceeeb970bb882553aaaaca"}, "originalPosition": 7}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUxMzEyOTIx", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328#pullrequestreview-451312921", "createdAt": "2020-07-20T05:53:35Z", "commit": {"oid": "0e5da89332658e457466eef5008253c21cd99c15"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQwNTo1MzozNlrOGz5t3w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQwNTo1MzozNlrOGz5t3w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzA3NjE5MQ==", "bodyText": "it was COConfig in the main one above. How are we naming the others, TOConfig? UOConfig? Even in the Helm2 templating we are using COConfig.", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328#discussion_r457076191", "createdAt": "2020-07-20T05:53:36Z", "author": {"login": "ppatierno"}, "path": "cluster-operator/src/test/resources/log4j2-test.properties", "diffHunk": "@@ -1,4 +1,4 @@\n-name = COConfig\n+name = ClusterOperatorConfig", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0e5da89332658e457466eef5008253c21cd99c15"}, "originalPosition": 2}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUzOTM3ODk2", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328#pullrequestreview-453937896", "createdAt": "2020-07-23T08:43:26Z", "commit": {"oid": "fedfb219bc4abab8a52ebaa0dcd2b6dae3925115"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QwODo0MzoyNlrOG2BalQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QwODo0MzoyNlrOG2BalQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTI5OTQ3Nw==", "bodyText": "I think that the change here is more significant and deserves some more detailed explanation. You do not just make it dynamically changeable. You change the way it is configured.", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328#discussion_r459299477", "createdAt": "2020-07-23T08:43:26Z", "author": {"login": "scholzj"}, "path": "CHANGELOG.md", "diffHunk": "@@ -21,7 +21,7 @@\n * Strimzi Kafka Bridge metrics integration:\n   * enable/disable metrics in the KafkaBridge custom resource\n   * new Grafana dashboard for the bridge metrics\n-* Support dynamically changeable logging in the Entity Operator and Kafka Bridge \n+* Support dynamically changeable logging in the Entity Operator, Kafka Bridge and Cluster Operator", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fedfb219bc4abab8a52ebaa0dcd2b6dae3925115"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU0Mjc2NzUz", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328#pullrequestreview-454276753", "createdAt": "2020-07-23T15:56:36Z", "commit": {"oid": "513d92043245194a577bffb4158f2ddaf7c20257"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QxNTo1NjozN1rOG2RFUw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QxNTo1NjozN1rOG2RFUw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTU1NjE3OQ==", "bodyText": "@PaulRMellor @laidan6000\nCould you please check these changes?", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328#discussion_r459556179", "createdAt": "2020-07-23T15:56:37Z", "author": {"login": "sknot-rh"}, "path": "documentation/modules/ref-operator-cluster.adoc", "diffHunk": "@@ -121,6 +118,31 @@ The DNS domain name is added to the Kafka broker certificates used for hostname\n +\n If you are using a different DNS domain name suffix in your cluster, change the `KUBERNETES_SERVICE_DNS_DOMAIN` environment variable from the default to the one you are using in order to establish a connection with the Kafka brokers.\n \n+== Logging configuration", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "513d92043245194a577bffb4158f2ddaf7c20257"}, "originalPosition": 14}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU0MzU4OTIx", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328#pullrequestreview-454358921", "createdAt": "2020-07-23T17:43:05Z", "commit": {"oid": "513d92043245194a577bffb4158f2ddaf7c20257"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QxNzo0MzowNVrOG2U_pw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QxNzo0NDoxOVrOG2VCXQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTYyMDI2Mw==", "bodyText": "Thsi would sound better to me personally at least.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Together with Cluster Operator, `ConfigMap` containing its logging configuration is created.\n          \n          \n            \n            When installing Cluster Operator, `ConfigMap` containing its logging configuration is created.", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328#discussion_r459620263", "createdAt": "2020-07-23T17:43:05Z", "author": {"login": "scholzj"}, "path": "documentation/modules/ref-operator-cluster.adoc", "diffHunk": "@@ -121,6 +118,31 @@ The DNS domain name is added to the Kafka broker certificates used for hostname\n +\n If you are using a different DNS domain name suffix in your cluster, change the `KUBERNETES_SERVICE_DNS_DOMAIN` environment variable from the default to the one you are using in order to establish a connection with the Kafka brokers.\n \n+== Logging configuration\n+\n+Together with Cluster Operator, `ConfigMap` containing its logging configuration is created.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "513d92043245194a577bffb4158f2ddaf7c20257"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTYyMDk1Nw==", "bodyText": "Maybe better this way?\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            After `ConfigMap` recreation, the new configuration is loaded.\n          \n          \n            \n            After recreating the `ConfigMap`, the new configuration is loaded.", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328#discussion_r459620957", "createdAt": "2020-07-23T17:44:19Z", "author": {"login": "scholzj"}, "path": "documentation/modules/ref-operator-cluster.adoc", "diffHunk": "@@ -121,6 +118,31 @@ The DNS domain name is added to the Kafka broker certificates used for hostname\n +\n If you are using a different DNS domain name suffix in your cluster, change the `KUBERNETES_SERVICE_DNS_DOMAIN` environment variable from the default to the one you are using in order to establish a connection with the Kafka brokers.\n \n+== Logging configuration\n+\n+Together with Cluster Operator, `ConfigMap` containing its logging configuration is created.\n+This `ConfigMap` is described in the file `install/cluster-operator/050-ConfigMap-strimzi-cluster-operator-logging.yaml`.\n+Cluster Operator logging is then configured by changing this `ConfigMap`.\n+\n+You can change the file and then use:\n+[source,shell,subs=+quotes]\n+kubectl apply -f _install/cluster-operator/050-ConfigMap-strimzi-cluster-operator-logging.yaml_\n+\n+Or you can edit the `ConfigMap` by:\n+[source,shell,subs=+quotes]\n+kubectl edit cm strimzi-cluster-operator-logging\n+\n+After the changes are done in the `ConfigMap`, the logging configuration is reloaded in time interval of specified `monitorInterval` seconds.\n+\n+NOTE: Created `ConfigMap` contains entry `monitorInterval`.\n+Please ensure yourself you are not removing this entry as it serves for dynamic reloading of logging configuration.\n+Entry `monitorInterval` configures frequency of logging reloading in the seconds (see link:https://logging.apache.org/log4j/2.x/manual/configuration.html#Automatic_Reconfiguration[Log4j2 Automatic Reconfiguration^]).\n+\n+If the `ConfigMap` is not present during deploying of Cluster Operator, default logging values are used.\n+\n+If the `ConfigMap` is deleted by an accident after the Cluster Operator was deployed, the last loaded configuration is used.\n+After `ConfigMap` recreation, the new configuration is loaded.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "513d92043245194a577bffb4158f2ddaf7c20257"}, "originalPosition": 37}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU0NTE5Mjgw", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328#pullrequestreview-454519280", "createdAt": "2020-07-23T21:49:10Z", "commit": {"oid": "513d92043245194a577bffb4158f2ddaf7c20257"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QyMTo0OToxMFrOG2cwlw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QyMTo0OToxMFrOG2cwlw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTc0NzQ3OQ==", "bodyText": "FYI: Looks like this will not get into 0.19.0, so you might need to move this to 0.20.0.", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328#discussion_r459747479", "createdAt": "2020-07-23T21:49:10Z", "author": {"login": "scholzj"}, "path": "CHANGELOG.md", "diffHunk": "@@ -22,6 +22,7 @@\n   * enable/disable metrics in the KafkaBridge custom resource\n   * new Grafana dashboard for the bridge metrics\n * Support dynamically changeable logging in the Entity Operator and Kafka Bridge \n+* Configure Cluster Operator logging using ConfigMap instead of environment variable and support dynamic changes", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "513d92043245194a577bffb4158f2ddaf7c20257"}, "originalPosition": 4}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "513d92043245194a577bffb4158f2ddaf7c20257", "author": {"user": {"login": "sknot-rh", "name": "Stanislav Knot"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/513d92043245194a577bffb4158f2ddaf7c20257", "committedDate": "2020-07-23T15:55:14Z", "message": "docu\n\nSigned-off-by: Stanislav Knot <sknot@redhat.com>"}, "afterCommit": {"oid": "a1838312e119818e20fdcb311810ba801b1d91c2", "author": {"user": {"login": "sknot-rh", "name": "Stanislav Knot"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/a1838312e119818e20fdcb311810ba801b1d91c2", "committedDate": "2020-07-24T06:00:43Z", "message": "rebase + move to 0.20.0\n\nSigned-off-by: Stanislav Knot <sknot@redhat.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU0OTUwOTM1", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328#pullrequestreview-454950935", "createdAt": "2020-07-24T14:50:10Z", "commit": {"oid": "a1838312e119818e20fdcb311810ba801b1d91c2"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU1NTI1ODE4", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328#pullrequestreview-455525818", "createdAt": "2020-07-27T07:16:48Z", "commit": {"oid": "a1838312e119818e20fdcb311810ba801b1d91c2"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yN1QwNzoxNjo0OFrOG3WVUA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yN1QwNzoxNjo0OFrOG3WVUA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDY5MDc2OA==", "bodyText": "we are using \"COConfig\" everywhere right now, why changing in the test?", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328#discussion_r460690768", "createdAt": "2020-07-27T07:16:48Z", "author": {"login": "ppatierno"}, "path": "systemtest/src/test/java/io/strimzi/systemtest/log/LoggingChangeST.java", "diffHunk": "@@ -81,7 +81,7 @@ void testJSONFormatLogging() {\n             \"zookeeper.root.logger=INFO\\n\" +\n             \"log4j.rootLogger=${zookeeper.root.logger}, CONSOLE\";\n \n-        String loggersConfigCO = \"name = COConfig\\n\" +\n+        String loggersConfigCO = \"name = ClusterOperatorConfig\\n\" +", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a1838312e119818e20fdcb311810ba801b1d91c2"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU1NjI2NTA5", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328#pullrequestreview-455626509", "createdAt": "2020-07-27T09:36:54Z", "commit": {"oid": "a1838312e119818e20fdcb311810ba801b1d91c2"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yN1QwOTozNjo1NVrOG3bCwA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yN1QxMToyNDowNFrOG3eXZA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDc2NzkzNg==", "bodyText": "Mention the new section in line 8:\n\"The Cluster Operator can be configured through the following supported environment variables and through the logging configuration. \"", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328#discussion_r460767936", "createdAt": "2020-07-27T09:36:55Z", "author": {"login": "laidan6000"}, "path": "documentation/modules/ref-operator-cluster.adoc", "diffHunk": "@@ -121,6 +118,31 @@ The DNS domain name is added to the Kafka broker certificates used for hostname\n +\n If you are using a different DNS domain name suffix in your cluster, change the `KUBERNETES_SERVICE_DNS_DOMAIN` environment variable from the default to the one you are using in order to establish a connection with the Kafka brokers.\n \n+== Logging configuration", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a1838312e119818e20fdcb311810ba801b1d91c2"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDc2ODA3MQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            == Logging configuration\n          \n          \n            \n            [discrete]\n          \n          \n            \n            == Logging configuration", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328#discussion_r460768071", "createdAt": "2020-07-27T09:37:11Z", "author": {"login": "laidan6000"}, "path": "documentation/modules/ref-operator-cluster.adoc", "diffHunk": "@@ -121,6 +118,31 @@ The DNS domain name is added to the Kafka broker certificates used for hostname\n +\n If you are using a different DNS domain name suffix in your cluster, change the `KUBERNETES_SERVICE_DNS_DOMAIN` environment variable from the default to the one you are using in order to establish a connection with the Kafka brokers.\n \n+== Logging configuration", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a1838312e119818e20fdcb311810ba801b1d91c2"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDc2OTE3Nw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            When installing Cluster Operator, `ConfigMap` containing its logging configuration is created.\n          \n          \n            \n            A `ConfigMap` containing logging configuration is created when installing the Cluster Operator.", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328#discussion_r460769177", "createdAt": "2020-07-27T09:39:09Z", "author": {"login": "laidan6000"}, "path": "documentation/modules/ref-operator-cluster.adoc", "diffHunk": "@@ -121,6 +118,31 @@ The DNS domain name is added to the Kafka broker certificates used for hostname\n +\n If you are using a different DNS domain name suffix in your cluster, change the `KUBERNETES_SERVICE_DNS_DOMAIN` environment variable from the default to the one you are using in order to establish a connection with the Kafka brokers.\n \n+== Logging configuration\n+\n+When installing Cluster Operator, `ConfigMap` containing its logging configuration is created.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a1838312e119818e20fdcb311810ba801b1d91c2"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDc3NDA3MQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Cluster Operator logging is then configured by changing this `ConfigMap`.\n          \n          \n            \n            You configure Cluster Operator logging by changing the `ConfigMap`.", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328#discussion_r460774071", "createdAt": "2020-07-27T09:47:45Z", "author": {"login": "laidan6000"}, "path": "documentation/modules/ref-operator-cluster.adoc", "diffHunk": "@@ -121,6 +118,31 @@ The DNS domain name is added to the Kafka broker certificates used for hostname\n +\n If you are using a different DNS domain name suffix in your cluster, change the `KUBERNETES_SERVICE_DNS_DOMAIN` environment variable from the default to the one you are using in order to establish a connection with the Kafka brokers.\n \n+== Logging configuration\n+\n+When installing Cluster Operator, `ConfigMap` containing its logging configuration is created.\n+This `ConfigMap` is described in the file `install/cluster-operator/050-ConfigMap-strimzi-cluster-operator-logging.yaml`.\n+Cluster Operator logging is then configured by changing this `ConfigMap`.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a1838312e119818e20fdcb311810ba801b1d91c2"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDc3NjQyMA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            You can change the file and then use:\n          \n          \n            \n            To update the logging configuration, you can edit the `050-ConfigMap-strimzi-cluster-operator-logging.yaml` file and then run the following command:", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328#discussion_r460776420", "createdAt": "2020-07-27T09:51:50Z", "author": {"login": "laidan6000"}, "path": "documentation/modules/ref-operator-cluster.adoc", "diffHunk": "@@ -121,6 +118,31 @@ The DNS domain name is added to the Kafka broker certificates used for hostname\n +\n If you are using a different DNS domain name suffix in your cluster, change the `KUBERNETES_SERVICE_DNS_DOMAIN` environment variable from the default to the one you are using in order to establish a connection with the Kafka brokers.\n \n+== Logging configuration\n+\n+When installing Cluster Operator, `ConfigMap` containing its logging configuration is created.\n+This `ConfigMap` is described in the file `install/cluster-operator/050-ConfigMap-strimzi-cluster-operator-logging.yaml`.\n+Cluster Operator logging is then configured by changing this `ConfigMap`.\n+\n+You can change the file and then use:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a1838312e119818e20fdcb311810ba801b1d91c2"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDc3NjgwMw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Or you can edit the `ConfigMap` by:\n          \n          \n            \n            Alternatively, edit the `ConfigMap` directly:", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328#discussion_r460776803", "createdAt": "2020-07-27T09:52:30Z", "author": {"login": "laidan6000"}, "path": "documentation/modules/ref-operator-cluster.adoc", "diffHunk": "@@ -121,6 +118,31 @@ The DNS domain name is added to the Kafka broker certificates used for hostname\n +\n If you are using a different DNS domain name suffix in your cluster, change the `KUBERNETES_SERVICE_DNS_DOMAIN` environment variable from the default to the one you are using in order to establish a connection with the Kafka brokers.\n \n+== Logging configuration\n+\n+When installing Cluster Operator, `ConfigMap` containing its logging configuration is created.\n+This `ConfigMap` is described in the file `install/cluster-operator/050-ConfigMap-strimzi-cluster-operator-logging.yaml`.\n+Cluster Operator logging is then configured by changing this `ConfigMap`.\n+\n+You can change the file and then use:\n+[source,shell,subs=+quotes]\n+kubectl apply -f _install/cluster-operator/050-ConfigMap-strimzi-cluster-operator-logging.yaml_\n+\n+Or you can edit the `ConfigMap` by:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a1838312e119818e20fdcb311810ba801b1d91c2"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDc4MTk2Ng==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            After the changes are done in the `ConfigMap`, the logging configuration is reloaded in time interval of specified `monitorInterval` seconds.\n          \n          \n            \n            After the `ConfigMap` is changed, the logging configuration of the Cluster Operator is reloaded at the next interval.", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328#discussion_r460781966", "createdAt": "2020-07-27T10:01:38Z", "author": {"login": "laidan6000"}, "path": "documentation/modules/ref-operator-cluster.adoc", "diffHunk": "@@ -121,6 +118,31 @@ The DNS domain name is added to the Kafka broker certificates used for hostname\n +\n If you are using a different DNS domain name suffix in your cluster, change the `KUBERNETES_SERVICE_DNS_DOMAIN` environment variable from the default to the one you are using in order to establish a connection with the Kafka brokers.\n \n+== Logging configuration\n+\n+When installing Cluster Operator, `ConfigMap` containing its logging configuration is created.\n+This `ConfigMap` is described in the file `install/cluster-operator/050-ConfigMap-strimzi-cluster-operator-logging.yaml`.\n+Cluster Operator logging is then configured by changing this `ConfigMap`.\n+\n+You can change the file and then use:\n+[source,shell,subs=+quotes]\n+kubectl apply -f _install/cluster-operator/050-ConfigMap-strimzi-cluster-operator-logging.yaml_\n+\n+Or you can edit the `ConfigMap` by:\n+[source,shell,subs=+quotes]\n+kubectl edit cm strimzi-cluster-operator-logging\n+\n+After the changes are done in the `ConfigMap`, the logging configuration is reloaded in time interval of specified `monitorInterval` seconds.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a1838312e119818e20fdcb311810ba801b1d91c2"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDc4Mjk4OA==", "bodyText": "To change the frequency of the reload interval, set a time in seconds in the monitorInterval option in the created ConfigMap.", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328#discussion_r460782988", "createdAt": "2020-07-27T10:03:32Z", "author": {"login": "laidan6000"}, "path": "documentation/modules/ref-operator-cluster.adoc", "diffHunk": "@@ -121,6 +118,31 @@ The DNS domain name is added to the Kafka broker certificates used for hostname\n +\n If you are using a different DNS domain name suffix in your cluster, change the `KUBERNETES_SERVICE_DNS_DOMAIN` environment variable from the default to the one you are using in order to establish a connection with the Kafka brokers.\n \n+== Logging configuration\n+\n+When installing Cluster Operator, `ConfigMap` containing its logging configuration is created.\n+This `ConfigMap` is described in the file `install/cluster-operator/050-ConfigMap-strimzi-cluster-operator-logging.yaml`.\n+Cluster Operator logging is then configured by changing this `ConfigMap`.\n+\n+You can change the file and then use:\n+[source,shell,subs=+quotes]\n+kubectl apply -f _install/cluster-operator/050-ConfigMap-strimzi-cluster-operator-logging.yaml_\n+\n+Or you can edit the `ConfigMap` by:\n+[source,shell,subs=+quotes]\n+kubectl edit cm strimzi-cluster-operator-logging\n+\n+After the changes are done in the `ConfigMap`, the logging configuration is reloaded in time interval of specified `monitorInterval` seconds.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a1838312e119818e20fdcb311810ba801b1d91c2"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDc4NjI4NQ==", "bodyText": "Avoid including key information in notes. Please edit this note as follows:\nNOTE: Do not remove the monitorInterval option from the ConfigMap.\nQ: Is it essential to link to the Log4j2 documentation?", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328#discussion_r460786285", "createdAt": "2020-07-27T10:09:44Z", "author": {"login": "laidan6000"}, "path": "documentation/modules/ref-operator-cluster.adoc", "diffHunk": "@@ -121,6 +118,31 @@ The DNS domain name is added to the Kafka broker certificates used for hostname\n +\n If you are using a different DNS domain name suffix in your cluster, change the `KUBERNETES_SERVICE_DNS_DOMAIN` environment variable from the default to the one you are using in order to establish a connection with the Kafka brokers.\n \n+== Logging configuration\n+\n+When installing Cluster Operator, `ConfigMap` containing its logging configuration is created.\n+This `ConfigMap` is described in the file `install/cluster-operator/050-ConfigMap-strimzi-cluster-operator-logging.yaml`.\n+Cluster Operator logging is then configured by changing this `ConfigMap`.\n+\n+You can change the file and then use:\n+[source,shell,subs=+quotes]\n+kubectl apply -f _install/cluster-operator/050-ConfigMap-strimzi-cluster-operator-logging.yaml_\n+\n+Or you can edit the `ConfigMap` by:\n+[source,shell,subs=+quotes]\n+kubectl edit cm strimzi-cluster-operator-logging\n+\n+After the changes are done in the `ConfigMap`, the logging configuration is reloaded in time interval of specified `monitorInterval` seconds.\n+\n+NOTE: Created `ConfigMap` contains entry `monitorInterval`.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a1838312e119818e20fdcb311810ba801b1d91c2"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDgyMDYzNA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            If the `ConfigMap` is not present during deploying of Cluster Operator, default logging values are used.\n          \n          \n            \n            If the `ConfigMap` is missing when the Cluster Operator is deployed, the default logging values are used.", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328#discussion_r460820634", "createdAt": "2020-07-27T11:20:45Z", "author": {"login": "laidan6000"}, "path": "documentation/modules/ref-operator-cluster.adoc", "diffHunk": "@@ -121,6 +118,31 @@ The DNS domain name is added to the Kafka broker certificates used for hostname\n +\n If you are using a different DNS domain name suffix in your cluster, change the `KUBERNETES_SERVICE_DNS_DOMAIN` environment variable from the default to the one you are using in order to establish a connection with the Kafka brokers.\n \n+== Logging configuration\n+\n+When installing Cluster Operator, `ConfigMap` containing its logging configuration is created.\n+This `ConfigMap` is described in the file `install/cluster-operator/050-ConfigMap-strimzi-cluster-operator-logging.yaml`.\n+Cluster Operator logging is then configured by changing this `ConfigMap`.\n+\n+You can change the file and then use:\n+[source,shell,subs=+quotes]\n+kubectl apply -f _install/cluster-operator/050-ConfigMap-strimzi-cluster-operator-logging.yaml_\n+\n+Or you can edit the `ConfigMap` by:\n+[source,shell,subs=+quotes]\n+kubectl edit cm strimzi-cluster-operator-logging\n+\n+After the changes are done in the `ConfigMap`, the logging configuration is reloaded in time interval of specified `monitorInterval` seconds.\n+\n+NOTE: Created `ConfigMap` contains entry `monitorInterval`.\n+Please ensure yourself you are not removing this entry as it serves for dynamic reloading of logging configuration.\n+Entry `monitorInterval` configures frequency of logging reloading in the seconds (see link:https://logging.apache.org/log4j/2.x/manual/configuration.html#Automatic_Reconfiguration[Log4j2 Automatic Reconfiguration^]).\n+\n+If the `ConfigMap` is not present during deploying of Cluster Operator, default logging values are used.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a1838312e119818e20fdcb311810ba801b1d91c2"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDgyMDk2Mw==", "bodyText": "Also, I suggest moving the note to the end of this section, i.e. line 145.", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328#discussion_r460820963", "createdAt": "2020-07-27T11:21:27Z", "author": {"login": "laidan6000"}, "path": "documentation/modules/ref-operator-cluster.adoc", "diffHunk": "@@ -121,6 +118,31 @@ The DNS domain name is added to the Kafka broker certificates used for hostname\n +\n If you are using a different DNS domain name suffix in your cluster, change the `KUBERNETES_SERVICE_DNS_DOMAIN` environment variable from the default to the one you are using in order to establish a connection with the Kafka brokers.\n \n+== Logging configuration\n+\n+When installing Cluster Operator, `ConfigMap` containing its logging configuration is created.\n+This `ConfigMap` is described in the file `install/cluster-operator/050-ConfigMap-strimzi-cluster-operator-logging.yaml`.\n+Cluster Operator logging is then configured by changing this `ConfigMap`.\n+\n+You can change the file and then use:\n+[source,shell,subs=+quotes]\n+kubectl apply -f _install/cluster-operator/050-ConfigMap-strimzi-cluster-operator-logging.yaml_\n+\n+Or you can edit the `ConfigMap` by:\n+[source,shell,subs=+quotes]\n+kubectl edit cm strimzi-cluster-operator-logging\n+\n+After the changes are done in the `ConfigMap`, the logging configuration is reloaded in time interval of specified `monitorInterval` seconds.\n+\n+NOTE: Created `ConfigMap` contains entry `monitorInterval`.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDc4NjI4NQ=="}, "originalCommit": {"oid": "a1838312e119818e20fdcb311810ba801b1d91c2"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDgyMTk5MQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            If the `ConfigMap` is deleted by an accident after the Cluster Operator was deployed, the last loaded configuration is used.\n          \n          \n            \n            If the `ConfigMap` is accidentally deleted after the Cluster Operator is deployed, the most recently loaded logging configuration is used.", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328#discussion_r460821991", "createdAt": "2020-07-27T11:23:10Z", "author": {"login": "laidan6000"}, "path": "documentation/modules/ref-operator-cluster.adoc", "diffHunk": "@@ -121,6 +118,31 @@ The DNS domain name is added to the Kafka broker certificates used for hostname\n +\n If you are using a different DNS domain name suffix in your cluster, change the `KUBERNETES_SERVICE_DNS_DOMAIN` environment variable from the default to the one you are using in order to establish a connection with the Kafka brokers.\n \n+== Logging configuration\n+\n+When installing Cluster Operator, `ConfigMap` containing its logging configuration is created.\n+This `ConfigMap` is described in the file `install/cluster-operator/050-ConfigMap-strimzi-cluster-operator-logging.yaml`.\n+Cluster Operator logging is then configured by changing this `ConfigMap`.\n+\n+You can change the file and then use:\n+[source,shell,subs=+quotes]\n+kubectl apply -f _install/cluster-operator/050-ConfigMap-strimzi-cluster-operator-logging.yaml_\n+\n+Or you can edit the `ConfigMap` by:\n+[source,shell,subs=+quotes]\n+kubectl edit cm strimzi-cluster-operator-logging\n+\n+After the changes are done in the `ConfigMap`, the logging configuration is reloaded in time interval of specified `monitorInterval` seconds.\n+\n+NOTE: Created `ConfigMap` contains entry `monitorInterval`.\n+Please ensure yourself you are not removing this entry as it serves for dynamic reloading of logging configuration.\n+Entry `monitorInterval` configures frequency of logging reloading in the seconds (see link:https://logging.apache.org/log4j/2.x/manual/configuration.html#Automatic_Reconfiguration[Log4j2 Automatic Reconfiguration^]).\n+\n+If the `ConfigMap` is not present during deploying of Cluster Operator, default logging values are used.\n+\n+If the `ConfigMap` is deleted by an accident after the Cluster Operator was deployed, the last loaded configuration is used.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a1838312e119818e20fdcb311810ba801b1d91c2"}, "originalPosition": 36}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDgyMjM3Mg==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            After recreating the `ConfigMap`, the new configuration is loaded.\n          \n          \n            \n            Create a new `ConfigMap` to load a new logging configuration.", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328#discussion_r460822372", "createdAt": "2020-07-27T11:24:04Z", "author": {"login": "laidan6000"}, "path": "documentation/modules/ref-operator-cluster.adoc", "diffHunk": "@@ -121,6 +118,31 @@ The DNS domain name is added to the Kafka broker certificates used for hostname\n +\n If you are using a different DNS domain name suffix in your cluster, change the `KUBERNETES_SERVICE_DNS_DOMAIN` environment variable from the default to the one you are using in order to establish a connection with the Kafka brokers.\n \n+== Logging configuration\n+\n+When installing Cluster Operator, `ConfigMap` containing its logging configuration is created.\n+This `ConfigMap` is described in the file `install/cluster-operator/050-ConfigMap-strimzi-cluster-operator-logging.yaml`.\n+Cluster Operator logging is then configured by changing this `ConfigMap`.\n+\n+You can change the file and then use:\n+[source,shell,subs=+quotes]\n+kubectl apply -f _install/cluster-operator/050-ConfigMap-strimzi-cluster-operator-logging.yaml_\n+\n+Or you can edit the `ConfigMap` by:\n+[source,shell,subs=+quotes]\n+kubectl edit cm strimzi-cluster-operator-logging\n+\n+After the changes are done in the `ConfigMap`, the logging configuration is reloaded in time interval of specified `monitorInterval` seconds.\n+\n+NOTE: Created `ConfigMap` contains entry `monitorInterval`.\n+Please ensure yourself you are not removing this entry as it serves for dynamic reloading of logging configuration.\n+Entry `monitorInterval` configures frequency of logging reloading in the seconds (see link:https://logging.apache.org/log4j/2.x/manual/configuration.html#Automatic_Reconfiguration[Log4j2 Automatic Reconfiguration^]).\n+\n+If the `ConfigMap` is not present during deploying of Cluster Operator, default logging values are used.\n+\n+If the `ConfigMap` is deleted by an accident after the Cluster Operator was deployed, the last loaded configuration is used.\n+After recreating the `ConfigMap`, the new configuration is loaded.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a1838312e119818e20fdcb311810ba801b1d91c2"}, "originalPosition": 37}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU2Mzg2MDEz", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328#pullrequestreview-456386013", "createdAt": "2020-07-28T07:51:27Z", "commit": {"oid": "a1838312e119818e20fdcb311810ba801b1d91c2"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQwNzo1MToyN1rOG4A1sg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQwNzo1MToyN1rOG4A1sg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTM4NzE4Ng==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            4. In order to use the newly built images, you need to update the `install/cluster-operator/060-Deployment-strimzi-cluster-operator.yml` to obtain the images from your repositories on Docker Hub rather than the official Strimzi images. That can be done using the following command:\n          \n          \n            \n            4. To use the newly built images, update the `install/cluster-operator/060-Deployment-strimzi-cluster-operator.yml` to obtain the images from your repositories on Docker Hub rather than the official Strimzi images:", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328#discussion_r461387186", "createdAt": "2020-07-28T07:51:27Z", "author": {"login": "PaulRMellor"}, "path": "development-docs/DEV_GUIDE.md", "diffHunk": "@@ -47,15 +47,15 @@ To build Strimzi from source the operator and Kafka code needs to be compiled in\n         make clean\n         make MVN_ARGS='-DskipTests -DskipIT' all\n \n-4. In order to use the newly built images, you need to update the `install/cluster-operator/050-Deployment-strimzi-cluster-operator.yml` to obtain the images from your repositories on Docker Hub rather than the official Strimzi images. That can be done using the following command:\n+4. In order to use the newly built images, you need to update the `install/cluster-operator/060-Deployment-strimzi-cluster-operator.yml` to obtain the images from your repositories on Docker Hub rather than the official Strimzi images. That can be done using the following command:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a1838312e119818e20fdcb311810ba801b1d91c2"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU2Mzg3MDk0", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328#pullrequestreview-456387094", "createdAt": "2020-07-28T07:52:57Z", "commit": {"oid": "a1838312e119818e20fdcb311810ba801b1d91c2"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQwNzo1Mjo1N1rOG4A5HA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQwNzo1Mjo1N1rOG4A5HA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTM4ODA2MA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n               This will update `060-Deployment-strimzi-cluster-operator.yaml` replacing all the image references (in `image` and `value` properties) with ones with the same name but with the repository changed.\n          \n          \n            \n               This updates `060-Deployment-strimzi-cluster-operator.yaml`, replacing all the image references (in `image` and `value` properties) with ones with the same name but with the repository changed.", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328#discussion_r461388060", "createdAt": "2020-07-28T07:52:57Z", "author": {"login": "PaulRMellor"}, "path": "development-docs/DEV_GUIDE.md", "diffHunk": "@@ -47,15 +47,15 @@ To build Strimzi from source the operator and Kafka code needs to be compiled in\n         make clean\n         make MVN_ARGS='-DskipTests -DskipIT' all\n \n-4. In order to use the newly built images, you need to update the `install/cluster-operator/050-Deployment-strimzi-cluster-operator.yml` to obtain the images from your repositories on Docker Hub rather than the official Strimzi images. That can be done using the following command:\n+4. In order to use the newly built images, you need to update the `install/cluster-operator/060-Deployment-strimzi-cluster-operator.yml` to obtain the images from your repositories on Docker Hub rather than the official Strimzi images. That can be done using the following command:\n \n     ```\n     sed -Ei -e \"s#(image|value): strimzi/([a-z0-9-]+):latest#\\1: $DOCKER_ORG/\\2:latest#\" \\\n             -e \"s#([0-9.]+)=strimzi/([a-zA-Z0-9-]+:[a-zA-Z0-9.-]+-kafka-[0-9.]+)#\\1=$DOCKER_ORG/\\2#\" \\\n-            install/cluster-operator/050-Deployment-strimzi-cluster-operator.yaml\n+            install/cluster-operator/060-Deployment-strimzi-cluster-operator.yaml\n     ```\n \n-   This will update `050-Deployment-strimzi-cluster-operator.yaml` replacing all the image references (in `image` and `value` properties) with ones with the same name but with the repository changed.\n+   This will update `060-Deployment-strimzi-cluster-operator.yaml` replacing all the image references (in `image` and `value` properties) with ones with the same name but with the repository changed.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a1838312e119818e20fdcb311810ba801b1d91c2"}, "originalPosition": 15}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU2Mzg4NDEz", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328#pullrequestreview-456388413", "createdAt": "2020-07-28T07:54:44Z", "commit": {"oid": "a1838312e119818e20fdcb311810ba801b1d91c2"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQwNzo1NDo0NFrOG4A9Hg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQwNzo1NDo0NFrOG4A9Hg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTM4OTA4Ng==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            In order to use these newly built images, you need to update the `install/cluster-operator/060-Deployment-strimzi-cluster-operator.yml` to obtain the images from your repositories on Docker Hub rather than the official Strimzi images. That can be done using the following command and replacing `docker_hub_username` with the relevant value:\n          \n          \n            \n            To use these newly built images, update the `install/cluster-operator/060-Deployment-strimzi-cluster-operator.yml` to obtain the images from your repositories on Docker Hub rather than the official Strimzi images, replacing `docker_hub_username` with the relevant value:", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328#discussion_r461389086", "createdAt": "2020-07-28T07:54:44Z", "author": {"login": "PaulRMellor"}, "path": "development-docs/DEV_GUIDE.md", "diffHunk": "@@ -232,15 +232,15 @@ By default the `docker_push` target will build the images under the strimzi orga\n \n When the Docker images are build, they will be labeled in the form: `docker_hub_username/operator:latest` in your local repository and pushed to your Docker Hub account under the same label.\n \n-In order to use these newly built images, you need to update the `install/cluster-operator/050-Deployment-strimzi-cluster-operator.yml` to obtain the images from your repositories on Docker Hub rather than the official Strimzi images. That can be done using the following command and replacing `docker_hub_username` with the relevant value:\n+In order to use these newly built images, you need to update the `install/cluster-operator/060-Deployment-strimzi-cluster-operator.yml` to obtain the images from your repositories on Docker Hub rather than the official Strimzi images. That can be done using the following command and replacing `docker_hub_username` with the relevant value:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a1838312e119818e20fdcb311810ba801b1d91c2"}, "originalPosition": 24}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU2Mzg4Nzc5", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328#pullrequestreview-456388779", "createdAt": "2020-07-28T07:55:14Z", "commit": {"oid": "a1838312e119818e20fdcb311810ba801b1d91c2"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQwNzo1NToxNFrOG4A-UQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQwNzo1NToxNFrOG4A-UQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTM4OTM5Mw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            This will update `060-Deployment-strimzi-cluster-operator.yaml` replacing all the image references (in `image` and `value` properties) with ones with the same name but with the repository changed.\n          \n          \n            \n            This updates `060-Deployment-strimzi-cluster-operator.yaml`, replacing all the image references (in `image` and `value` properties) with ones with the same name but with the repository changed.", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328#discussion_r461389393", "createdAt": "2020-07-28T07:55:14Z", "author": {"login": "PaulRMellor"}, "path": "development-docs/DEV_GUIDE.md", "diffHunk": "@@ -232,15 +232,15 @@ By default the `docker_push` target will build the images under the strimzi orga\n \n When the Docker images are build, they will be labeled in the form: `docker_hub_username/operator:latest` in your local repository and pushed to your Docker Hub account under the same label.\n \n-In order to use these newly built images, you need to update the `install/cluster-operator/050-Deployment-strimzi-cluster-operator.yml` to obtain the images from your repositories on Docker Hub rather than the official Strimzi images. That can be done using the following command and replacing `docker_hub_username` with the relevant value:\n+In order to use these newly built images, you need to update the `install/cluster-operator/060-Deployment-strimzi-cluster-operator.yml` to obtain the images from your repositories on Docker Hub rather than the official Strimzi images. That can be done using the following command and replacing `docker_hub_username` with the relevant value:\n \n ```\n sed -Ei -e 's#(image|value): strimzi/([a-z0-9-]+):latest#\\1: docker_hub_username/\\2:latest#' \\\n         -e 's#([0-9.]+)=strimzi/([a-zA-Z0-9-]+:[a-zA-Z0-9.-]+-kafka-[0-9.]+)#\\1=docker_hub_username/\\2#' \\\n-        install/cluster-operator/050-Deployment-strimzi-cluster-operator.yaml\n+        install/cluster-operator/060-Deployment-strimzi-cluster-operator.yaml\n ```\n \n-This will update `050-Deployment-strimzi-cluster-operator.yaml` replacing all the image references (in `image` and `value` properties) with ones with the same name but with the repository changed.\n+This will update `060-Deployment-strimzi-cluster-operator.yaml` replacing all the image references (in `image` and `value` properties) with ones with the same name but with the repository changed.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a1838312e119818e20fdcb311810ba801b1d91c2"}, "originalPosition": 34}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU2Mzg5MjI3", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328#pullrequestreview-456389227", "createdAt": "2020-07-28T07:55:48Z", "commit": {"oid": "a1838312e119818e20fdcb311810ba801b1d91c2"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQwNzo1NTo0OVrOG4A_nw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQwNzo1NTo0OVrOG4A_nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTM4OTcyNw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            5. In order to use the built images in a deployment, you need to update the `install/cluster-operator/060-Deployment-strimzi-cluster-operator.yml` to obtain the images from the registry at `172.30.1.1:5000`, rather than from DockerHub. That can be done using the following command:\n          \n          \n            \n            5. To use the built images in a deployment, update the `install/cluster-operator/060-Deployment-strimzi-cluster-operator.yml` to obtain the images from the registry at `172.30.1.1:5000`, rather than from DockerHub:", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328#discussion_r461389727", "createdAt": "2020-07-28T07:55:49Z", "author": {"login": "PaulRMellor"}, "path": "development-docs/DEV_GUIDE.md", "diffHunk": "@@ -279,15 +279,15 @@ Assuming your OpenShift login is `developer` (a user with the `cluster-admin` ro\n \n         DOCKER_REGISTRY=172.30.1.1:5000 DOCKER_ORG=$(oc project -q) make docker_push\n         \n-5. In order to use the built images in a deployment, you need to update the `install/cluster-operator/050-Deployment-strimzi-cluster-operator.yml` to obtain the images from the registry at `172.30.1.1:5000`, rather than from DockerHub. That can be done using the following command:\n+5. In order to use the built images in a deployment, you need to update the `install/cluster-operator/060-Deployment-strimzi-cluster-operator.yml` to obtain the images from the registry at `172.30.1.1:5000`, rather than from DockerHub. That can be done using the following command:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a1838312e119818e20fdcb311810ba801b1d91c2"}, "originalPosition": 43}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU2MzkwMzc5", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328#pullrequestreview-456390379", "createdAt": "2020-07-28T07:57:27Z", "commit": {"oid": "a1838312e119818e20fdcb311810ba801b1d91c2"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQwNzo1NzoyN1rOG4BDFg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQwNzo1NzoyN1rOG4BDFg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTM5MDYxNA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                This will update `060-Deployment-strimzi-cluster-operator.yaml` replacing all the image references (in `image` and `value` properties) with ones with the same name from `172.30.1.1:5000/myproject`.\n          \n          \n            \n                This updates `060-Deployment-strimzi-cluster-operator.yaml`, replacing all the image references (in `image` and `value` properties) with ones with the same name from `172.30.1.1:5000/myproject`.", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328#discussion_r461390614", "createdAt": "2020-07-28T07:57:27Z", "author": {"login": "PaulRMellor"}, "path": "development-docs/DEV_GUIDE.md", "diffHunk": "@@ -279,15 +279,15 @@ Assuming your OpenShift login is `developer` (a user with the `cluster-admin` ro\n \n         DOCKER_REGISTRY=172.30.1.1:5000 DOCKER_ORG=$(oc project -q) make docker_push\n         \n-5. In order to use the built images in a deployment, you need to update the `install/cluster-operator/050-Deployment-strimzi-cluster-operator.yml` to obtain the images from the registry at `172.30.1.1:5000`, rather than from DockerHub. That can be done using the following command:\n+5. In order to use the built images in a deployment, you need to update the `install/cluster-operator/060-Deployment-strimzi-cluster-operator.yml` to obtain the images from the registry at `172.30.1.1:5000`, rather than from DockerHub. That can be done using the following command:\n \n     ```\n     sed -Ei -e 's#(image|value): strimzi/([a-z0-9-]+):latest#\\1: 172.30.1.1:5000/myproject/\\2:latest#' \\\n             -e 's#([0-9.]+)=strimzi/([a-zA-Z0-9-]+:[a-zA-Z0-9.-]+-kafka-[0-9.]+)#\\1=172.30.1.1:5000/myproject/\\2#' \\\n-            install/cluster-operator/050-Deployment-strimzi-cluster-operator.yaml\n+            install/cluster-operator/060-Deployment-strimzi-cluster-operator.yaml\n     ```\n \n-    This will update `050-Deployment-strimzi-cluster-operator.yaml` replacing all the image references (in `image` and `value` properties) with ones with the same name from `172.30.1.1:5000/myproject`.\n+    This will update `060-Deployment-strimzi-cluster-operator.yaml` replacing all the image references (in `image` and `value` properties) with ones with the same name from `172.30.1.1:5000/myproject`.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a1838312e119818e20fdcb311810ba801b1d91c2"}, "originalPosition": 53}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU2MzkyMTk4", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328#pullrequestreview-456392198", "createdAt": "2020-07-28T08:00:02Z", "commit": {"oid": "a1838312e119818e20fdcb311810ba801b1d91c2"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQwODowMDowMlrOG4BI6Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQwODowMDowMlrOG4BI6Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTM5MjEwNQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Please ensure yourself you are not removing this entry as it serves for dynamic reloading of logging configuration.\n          \n          \n            \n            Check you are not removing this entry as it serves for dynamic reloading of logging configuration.", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328#discussion_r461392105", "createdAt": "2020-07-28T08:00:02Z", "author": {"login": "PaulRMellor"}, "path": "documentation/modules/ref-operator-cluster.adoc", "diffHunk": "@@ -121,6 +118,31 @@ The DNS domain name is added to the Kafka broker certificates used for hostname\n +\n If you are using a different DNS domain name suffix in your cluster, change the `KUBERNETES_SERVICE_DNS_DOMAIN` environment variable from the default to the one you are using in order to establish a connection with the Kafka brokers.\n \n+== Logging configuration\n+\n+When installing Cluster Operator, `ConfigMap` containing its logging configuration is created.\n+This `ConfigMap` is described in the file `install/cluster-operator/050-ConfigMap-strimzi-cluster-operator-logging.yaml`.\n+Cluster Operator logging is then configured by changing this `ConfigMap`.\n+\n+You can change the file and then use:\n+[source,shell,subs=+quotes]\n+kubectl apply -f _install/cluster-operator/050-ConfigMap-strimzi-cluster-operator-logging.yaml_\n+\n+Or you can edit the `ConfigMap` by:\n+[source,shell,subs=+quotes]\n+kubectl edit cm strimzi-cluster-operator-logging\n+\n+After the changes are done in the `ConfigMap`, the logging configuration is reloaded in time interval of specified `monitorInterval` seconds.\n+\n+NOTE: Created `ConfigMap` contains entry `monitorInterval`.\n+Please ensure yourself you are not removing this entry as it serves for dynamic reloading of logging configuration.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a1838312e119818e20fdcb311810ba801b1d91c2"}, "originalPosition": 31}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU2MzkzNjAx", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328#pullrequestreview-456393601", "createdAt": "2020-07-28T08:01:59Z", "commit": {"oid": "a1838312e119818e20fdcb311810ba801b1d91c2"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQwODowMTo1OVrOG4BNRw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQwODowMTo1OVrOG4BNRw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTM5MzIyMw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Entry `monitorInterval` configures frequency of logging reloading in the seconds (see link:https://logging.apache.org/log4j/2.x/manual/configuration.html#Automatic_Reconfiguration[Log4j2 Automatic Reconfiguration^]).\n          \n          \n            \n            Use `monitorInterval` to configure the frequency of logging reloads in seconds (see link:https://logging.apache.org/log4j/2.x/manual/configuration.html#Automatic_Reconfiguration[Log4j2 Automatic Reconfiguration^]).", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328#discussion_r461393223", "createdAt": "2020-07-28T08:01:59Z", "author": {"login": "PaulRMellor"}, "path": "documentation/modules/ref-operator-cluster.adoc", "diffHunk": "@@ -121,6 +118,31 @@ The DNS domain name is added to the Kafka broker certificates used for hostname\n +\n If you are using a different DNS domain name suffix in your cluster, change the `KUBERNETES_SERVICE_DNS_DOMAIN` environment variable from the default to the one you are using in order to establish a connection with the Kafka brokers.\n \n+== Logging configuration\n+\n+When installing Cluster Operator, `ConfigMap` containing its logging configuration is created.\n+This `ConfigMap` is described in the file `install/cluster-operator/050-ConfigMap-strimzi-cluster-operator-logging.yaml`.\n+Cluster Operator logging is then configured by changing this `ConfigMap`.\n+\n+You can change the file and then use:\n+[source,shell,subs=+quotes]\n+kubectl apply -f _install/cluster-operator/050-ConfigMap-strimzi-cluster-operator-logging.yaml_\n+\n+Or you can edit the `ConfigMap` by:\n+[source,shell,subs=+quotes]\n+kubectl edit cm strimzi-cluster-operator-logging\n+\n+After the changes are done in the `ConfigMap`, the logging configuration is reloaded in time interval of specified `monitorInterval` seconds.\n+\n+NOTE: Created `ConfigMap` contains entry `monitorInterval`.\n+Please ensure yourself you are not removing this entry as it serves for dynamic reloading of logging configuration.\n+Entry `monitorInterval` configures frequency of logging reloading in the seconds (see link:https://logging.apache.org/log4j/2.x/manual/configuration.html#Automatic_Reconfiguration[Log4j2 Automatic Reconfiguration^]).", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a1838312e119818e20fdcb311810ba801b1d91c2"}, "originalPosition": 32}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU2Mzk0Nzcw", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328#pullrequestreview-456394770", "createdAt": "2020-07-28T08:03:34Z", "commit": {"oid": "a1838312e119818e20fdcb311810ba801b1d91c2"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYwNTYwNDE1", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328#pullrequestreview-460560415", "createdAt": "2020-08-04T07:26:33Z", "commit": {"oid": "f3c5fc3b835ec2aaa73453cc750cca5cbe79651e"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQwNzoyNjozM1rOG7UXyw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQwNzoyNzo1NVrOG7UaYA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDg1MjkzOQ==", "bodyText": "I would avoid using \"logging\" in the name tbh. We don't know if at some point we will need to add more into this ConfigMap and having \"logging\" in the name could be misleading. Wdyt?", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328#discussion_r464852939", "createdAt": "2020-08-04T07:26:33Z", "author": {"login": "ppatierno"}, "path": "documentation/modules/ref-operator-cluster.adoc", "diffHunk": "@@ -121,6 +118,30 @@ The DNS domain name is added to the Kafka broker certificates used for hostname\n +\n If you are using a different DNS domain name suffix in your cluster, change the `KUBERNETES_SERVICE_DNS_DOMAIN` environment variable from the default to the one you are using in order to establish a connection with the Kafka brokers.\n \n+[discrete]\n+== Logging configuration\n+\n+A `ConfigMap` containing logging configuration is created when installing the Cluster Operator.\n+This `ConfigMap` is described in the file `install/cluster-operator/050-ConfigMap-strimzi-cluster-operator-logging.yaml`.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f3c5fc3b835ec2aaa73453cc750cca5cbe79651e"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDg1MzYwMA==", "bodyText": "I think you should mention that the logging configuration is in the log4j2.properties data field.\nIf in the future we will use the ConfigMap for something more, we will have more data fields.", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328#discussion_r464853600", "createdAt": "2020-08-04T07:27:55Z", "author": {"login": "ppatierno"}, "path": "documentation/modules/ref-operator-cluster.adoc", "diffHunk": "@@ -121,6 +118,30 @@ The DNS domain name is added to the Kafka broker certificates used for hostname\n +\n If you are using a different DNS domain name suffix in your cluster, change the `KUBERNETES_SERVICE_DNS_DOMAIN` environment variable from the default to the one you are using in order to establish a connection with the Kafka brokers.\n \n+[discrete]\n+== Logging configuration\n+\n+A `ConfigMap` containing logging configuration is created when installing the Cluster Operator.\n+This `ConfigMap` is described in the file `install/cluster-operator/050-ConfigMap-strimzi-cluster-operator-logging.yaml`.\n+You configure Cluster Operator logging by changing the `ConfigMap`.\n+\n+To update the logging configuration, you can edit the `050-ConfigMap-strimzi-cluster-operator-logging.yaml` file and then run the following command:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f3c5fc3b835ec2aaa73453cc750cca5cbe79651e"}, "originalPosition": 30}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4070c2753167d7349a1a42e59e09cac30e77794f", "author": {"user": {"login": "sknot-rh", "name": "Stanislav Knot"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/4070c2753167d7349a1a42e59e09cac30e77794f", "committedDate": "2020-08-04T07:46:31Z", "message": "co dyn log\n\nSigned-off-by: Stanislav Knot <sknot@redhat.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "71d17415978e1007399fa8865f5d25cd0055bf89", "author": {"user": {"login": "sknot-rh", "name": "Stanislav Knot"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/71d17415978e1007399fa8865f5d25cd0055bf89", "committedDate": "2020-08-04T07:46:31Z", "message": "rename files\n\nSigned-off-by: Stanislav Knot <sknot@redhat.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ba67fbeb656bad5d786f6c39325756629a800db3", "author": {"user": {"login": "sknot-rh", "name": "Stanislav Knot"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/ba67fbeb656bad5d786f6c39325756629a800db3", "committedDate": "2020-08-04T07:46:31Z", "message": "delete file\n\nSigned-off-by: Stanislav Knot <sknot@redhat.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "29b5ef6f7370f8adef14855b9382a57a1389a781", "author": {"user": {"login": "sknot-rh", "name": "Stanislav Knot"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/29b5ef6f7370f8adef14855b9382a57a1389a781", "committedDate": "2020-08-04T07:46:31Z", "message": "default conf\n\nSigned-off-by: Stanislav Knot <sknot@redhat.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4a93f45dcbfd710a7c4c842ab55dfe0c82ec5a5d", "author": {"user": {"login": "sknot-rh", "name": "Stanislav Knot"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/4a93f45dcbfd710a7c4c842ab55dfe0c82ec5a5d", "committedDate": "2020-08-04T07:46:31Z", "message": "commit\n\nSigned-off-by: Stanislav Knot <sknot@redhat.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c73aa664e01dd03df932074bc04658a87dca0cf9", "author": {"user": {"login": "sknot-rh", "name": "Stanislav Knot"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/c73aa664e01dd03df932074bc04658a87dca0cf9", "committedDate": "2020-08-04T07:46:31Z", "message": "remove redundant vars\n\nSigned-off-by: Stanislav Knot <sknot@redhat.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e56fb577c30fb9be52dbee01ea06d05b67d61f7b", "author": {"user": {"login": "sknot-rh", "name": "Stanislav Knot"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/e56fb577c30fb9be52dbee01ea06d05b67d61f7b", "committedDate": "2020-08-04T07:46:31Z", "message": "Sam's comments\n\nSigned-off-by: Stanislav Knot <sknot@redhat.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7ecf87873ae4f5a587478b1eafd846beba83196e", "author": {"user": {"login": "sknot-rh", "name": "Stanislav Knot"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/7ecf87873ae4f5a587478b1eafd846beba83196e", "committedDate": "2020-08-04T07:46:31Z", "message": "consistency\n\nSigned-off-by: Stanislav Knot <sknot@redhat.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7e8be1178c3aead909d73c7efb23f16013fd4088", "author": {"user": {"login": "sknot-rh", "name": "Stanislav Knot"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/7e8be1178c3aead909d73c7efb23f16013fd4088", "committedDate": "2020-08-04T07:46:31Z", "message": "comment\n\nSigned-off-by: Stanislav Knot <sknot@redhat.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ad7cdfaedb6d8843c13b539d66ca22a69d4eca68", "author": {"user": {"login": "sknot-rh", "name": "Stanislav Knot"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/ad7cdfaedb6d8843c13b539d66ca22a69d4eca68", "committedDate": "2020-08-04T07:46:31Z", "message": "docu\n\nSigned-off-by: Stanislav Knot <sknot@redhat.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c24a8d653e63005c83d72f8075d8325065052640", "author": {"user": {"login": "sknot-rh", "name": "Stanislav Knot"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/c24a8d653e63005c83d72f8075d8325065052640", "committedDate": "2020-08-04T07:46:31Z", "message": "docomments\n\nSigned-off-by: Stanislav Knot <sknot@redhat.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "eff4bd226a87e72942e81c70c6755e11e1dc3dd7", "author": {"user": {"login": "sknot-rh", "name": "Stanislav Knot"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/eff4bd226a87e72942e81c70c6755e11e1dc3dd7", "committedDate": "2020-08-04T07:47:56Z", "message": "rebase + move to 0.20.0\n\nSigned-off-by: Stanislav Knot <sknot@redhat.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "276ae0a6646a8b43aa5b1267dadd26f7a6cc49bb", "author": {"user": {"login": "sknot-rh", "name": "Stanislav Knot"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/276ae0a6646a8b43aa5b1267dadd26f7a6cc49bb", "committedDate": "2020-08-04T07:47:56Z", "message": "addressing comments\n\nSigned-off-by: Stanislav Knot <sknot@redhat.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "961c6745dcacba123e0e3b2f4eed3ab4214ba0b9", "author": {"user": {"login": "sknot-rh", "name": "Stanislav Knot"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/961c6745dcacba123e0e3b2f4eed3ab4214ba0b9", "committedDate": "2020-08-04T07:58:32Z", "message": "avoid logging\n\nSigned-off-by: Stanislav Knot <sknot@redhat.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f3c5fc3b835ec2aaa73453cc750cca5cbe79651e", "author": {"user": {"login": "sknot-rh", "name": "Stanislav Knot"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/f3c5fc3b835ec2aaa73453cc750cca5cbe79651e", "committedDate": "2020-07-31T14:00:26Z", "message": "addressing comments\n\nSigned-off-by: Stanislav Knot <sknot@redhat.com>"}, "afterCommit": {"oid": "961c6745dcacba123e0e3b2f4eed3ab4214ba0b9", "author": {"user": {"login": "sknot-rh", "name": "Stanislav Knot"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/961c6745dcacba123e0e3b2f4eed3ab4214ba0b9", "committedDate": "2020-08-04T07:58:32Z", "message": "avoid logging\n\nSigned-off-by: Stanislav Knot <sknot@redhat.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYwODA4MDYz", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328#pullrequestreview-460808063", "createdAt": "2020-08-04T13:23:51Z", "commit": {"oid": "961c6745dcacba123e0e3b2f4eed3ab4214ba0b9"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQxMzoyMzo1MVrOG7gMfw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQxMzoyMzo1MVrOG7gMfw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTA0NjY1NQ==", "bodyText": "even in this case the volume could be about co-configuration not just logging?", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328#discussion_r465046655", "createdAt": "2020-08-04T13:23:51Z", "author": {"login": "ppatierno"}, "path": "install/cluster-operator/060-Deployment-strimzi-cluster-operator.yaml", "diffHunk": "@@ -17,6 +17,10 @@ spec:\n         strimzi.io/kind: cluster-operator\n     spec:\n       serviceAccountName: strimzi-cluster-operator\n+      volumes:\n+        - name: co-logging-volume", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "961c6745dcacba123e0e3b2f4eed3ab4214ba0b9"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYwODE5Nzcy", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328#pullrequestreview-460819772", "createdAt": "2020-08-04T13:37:39Z", "commit": {"oid": "1eddc72cdf4422a17d7726f3564f7c499b9e6ccd"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQxMzozNzozOVrOG7gvfw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQxMzozNzozOVrOG7gvfw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTA1NTYxNQ==", "bodyText": "should be co-config-volume as for the Helm 3 values YAML.", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328#discussion_r465055615", "createdAt": "2020-08-04T13:37:39Z", "author": {"login": "ppatierno"}, "path": "helm-charts/helm2/strimzi-kafka-operator/values.yaml", "diffHunk": "@@ -9,7 +9,8 @@ image:\n   repository: strimzi\n   name: operator\n   tag: latest\n-logLevel: INFO\n+logVolume: cluster-operator-logging-volume", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1eddc72cdf4422a17d7726f3564f7c499b9e6ccd"}, "originalPosition": 5}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1eddc72cdf4422a17d7726f3564f7c499b9e6ccd", "author": {"user": {"login": "sknot-rh", "name": "Stanislav Knot"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/1eddc72cdf4422a17d7726f3564f7c499b9e6ccd", "committedDate": "2020-08-04T13:34:24Z", "message": "another comment\n\nSigned-off-by: Stanislav Knot <sknot@redhat.com>"}, "afterCommit": {"oid": "b40f901bb9de8c243b70306d2a3da86ff4cc2564", "author": {"user": {"login": "sknot-rh", "name": "Stanislav Knot"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/b40f901bb9de8c243b70306d2a3da86ff4cc2564", "committedDate": "2020-08-04T13:41:28Z", "message": "another comment\n\nSigned-off-by: Stanislav Knot <sknot@redhat.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a89fc7e29252b19084016f67c7f54037f92bd97b", "author": {"user": {"login": "sknot-rh", "name": "Stanislav Knot"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/a89fc7e29252b19084016f67c7f54037f92bd97b", "committedDate": "2020-08-04T13:52:21Z", "message": "another comment\n\nSigned-off-by: Stanislav Knot <sknot@redhat.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b40f901bb9de8c243b70306d2a3da86ff4cc2564", "author": {"user": {"login": "sknot-rh", "name": "Stanislav Knot"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/b40f901bb9de8c243b70306d2a3da86ff4cc2564", "committedDate": "2020-08-04T13:41:28Z", "message": "another comment\n\nSigned-off-by: Stanislav Knot <sknot@redhat.com>"}, "afterCommit": {"oid": "a89fc7e29252b19084016f67c7f54037f92bd97b", "author": {"user": {"login": "sknot-rh", "name": "Stanislav Knot"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/a89fc7e29252b19084016f67c7f54037f92bd97b", "committedDate": "2020-08-04T13:52:21Z", "message": "another comment\n\nSigned-off-by: Stanislav Knot <sknot@redhat.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYwODM4MjAw", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328#pullrequestreview-460838200", "createdAt": "2020-08-04T13:58:26Z", "commit": {"oid": "a89fc7e29252b19084016f67c7f54037f92bd97b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYwOTgxMDU3", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328#pullrequestreview-460981057", "createdAt": "2020-08-04T16:33:36Z", "commit": {"oid": "a89fc7e29252b19084016f67c7f54037f92bd97b"}, "state": "APPROVED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQxNjozMzozNlrOG7oXGA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQxNjo0NTo1NlrOG7o0Fw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTE4MDQ0MA==", "bodyText": "Can we echo something to say that a static logging configuration is being used because no config was found, and therefore that dynamic log config update won't work.", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328#discussion_r465180440", "createdAt": "2020-08-04T16:33:36Z", "author": {"login": "tombentley"}, "path": "cluster-operator/scripts/cluster_operator_run.sh", "diffHunk": "@@ -1,4 +1,9 @@\n #!/usr/bin/env bash\n export JAVA_CLASSPATH=lib/io.strimzi.@project.build.finalName@.@project.packaging@:@project.dist.classpath@\n export JAVA_MAIN=io.strimzi.operator.cluster.Main\n+\n+if [ -f /opt/strimzi/custom-config/log4j2.properties ]; then\n+    # if ConfigMap was not mounted and thus this file was not created, use properties file from the classpath\n+    export JAVA_OPTS=\"${JAVA_OPTS} -Dlog4j2.configurationFile=file:/opt/strimzi/custom-config/log4j2.properties\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjQyNDcxNw=="}, "originalCommit": {"oid": "4213fd675b6429c031ceeeb970bb882553aaaaca"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTE4MTc3Mw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Currently only Cluster Operator logging can be configured by ConfigMap.\n          \n          \n            \n            The Cluster Operator's logging is configured by the XXX_CM_name_XXX ConfigMap.", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328#discussion_r465181773", "createdAt": "2020-08-04T16:35:45Z", "author": {"login": "tombentley"}, "path": "documentation/modules/ref-operator-cluster.adoc", "diffHunk": "@@ -121,6 +118,32 @@ The DNS domain name is added to the Kafka broker certificates used for hostname\n +\n If you are using a different DNS domain name suffix in your cluster, change the `KUBERNETES_SERVICE_DNS_DOMAIN` environment variable from the default to the one you are using in order to establish a connection with the Kafka brokers.\n \n+[discrete]\n+== Configuration by ConfigMap\n+\n+Currently only Cluster Operator logging can be configured by ConfigMap.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a89fc7e29252b19084016f67c7f54037f92bd97b"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTE4MjE2Mw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            To change the frequency of the reload interval, set a time in seconds in the monitorInterval option in the created ConfigMap.\n          \n          \n            \n            To change the frequency of the reload interval, set a time in seconds in the `monitorInterval` option in the created `ConfigMap`.", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328#discussion_r465182163", "createdAt": "2020-08-04T16:36:22Z", "author": {"login": "tombentley"}, "path": "documentation/modules/ref-operator-cluster.adoc", "diffHunk": "@@ -121,6 +118,32 @@ The DNS domain name is added to the Kafka broker certificates used for hostname\n +\n If you are using a different DNS domain name suffix in your cluster, change the `KUBERNETES_SERVICE_DNS_DOMAIN` environment variable from the default to the one you are using in order to establish a connection with the Kafka brokers.\n \n+[discrete]\n+== Configuration by ConfigMap\n+\n+Currently only Cluster Operator logging can be configured by ConfigMap.\n+\n+A `ConfigMap` containing logging configuration is created when installing the Cluster Operator.\n+This `ConfigMap` is described in the file `install/cluster-operator/050-ConfigMap-strimzi-cluster-operator.yaml`.\n+You configure Cluster Operator logging by changing the data field `log4j2.properties` in this `ConfigMap`.\n+\n+To update the logging configuration, you can edit the `050-ConfigMap-strimzi-cluster-operator.yaml` file and then run the following command:\n+[source,shell,subs=+quotes]\n+kubectl apply -f _install/cluster-operator/050-ConfigMap-strimzi-cluster-operator.yaml_\n+\n+Alternatively, edit the `ConfigMap` directly:\n+[source,shell,subs=+quotes]\n+kubectl edit cm strimzi-cluster-operator\n+\n+To change the frequency of the reload interval, set a time in seconds in the monitorInterval option in the created ConfigMap.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a89fc7e29252b19084016f67c7f54037f92bd97b"}, "originalPosition": 40}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTE4Nzg2Mw==", "bodyText": "I feel this would be better after name", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328#discussion_r465187863", "createdAt": "2020-08-04T16:45:56Z", "author": {"login": "tombentley"}, "path": "helm-charts/helm2/strimzi-kafka-operator/templates/050-ConfigMap-strimzi-cluster-operator.yaml", "diffHunk": "@@ -0,0 +1,28 @@\n+kind: ConfigMap\n+apiVersion: v1\n+metadata:\n+  name: {{ .Values.logConfigMap }}\n+data:\n+  log4j2.properties: |\n+    name = COConfig\n+\n+    appender.console.type = Console\n+    appender.console.name = STDOUT\n+    appender.console.layout.type = PatternLayout\n+    appender.console.layout.pattern = %d{yyyy-MM-dd HH:mm:ss} %-5p %c{1}:%L - %m%n\n+\n+    rootLogger.level = INFO\n+    rootLogger.appenderRefs = stdout\n+    rootLogger.appenderRef.console.ref = STDOUT\n+    rootLogger.additivity = false\n+\n+    # Kafka AdminClient logging is a bit noisy at INFO level\n+    logger.kafka.name = org.apache.kafka\n+    logger.kafka.level = WARN\n+    logger.kafka.additivity = false\n+\n+    # Zookeeper is very verbose even on INFO level -> We set it to WARN by default\n+    logger.zookeepertrustmanager.name = org.apache.zookeeper\n+    logger.zookeepertrustmanager.level = WARN\n+    logger.zookeepertrustmanager.additivity = false\n+    monitorInterval = 30", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a89fc7e29252b19084016f67c7f54037f92bd97b"}, "originalPosition": 28}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "69f6a4f219451c82b7bc26a7925ed3225d03edd1", "author": {"user": {"login": "sknot-rh", "name": "Stanislav Knot"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/69f6a4f219451c82b7bc26a7925ed3225d03edd1", "committedDate": "2020-08-05T06:42:50Z", "message": "Tom's comments\n\nSigned-off-by: Stanislav Knot <sknot@redhat.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYzMTY0NTI4", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328#pullrequestreview-463164528", "createdAt": "2020-08-07T09:20:21Z", "commit": {"oid": "69f6a4f219451c82b7bc26a7925ed3225d03edd1"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wN1QwOToyMDoyMVrOG9S1ow==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wN1QwOToyMDoyMVrOG9S1ow==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjkyNDk2Mw==", "bodyText": "@laidan6000 Can you please review this message?", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3328#discussion_r466924963", "createdAt": "2020-08-07T09:20:21Z", "author": {"login": "sknot-rh"}, "path": "cluster-operator/scripts/cluster_operator_run.sh", "diffHunk": "@@ -1,4 +1,11 @@\n #!/usr/bin/env bash\n export JAVA_CLASSPATH=lib/io.strimzi.@project.build.finalName@.@project.packaging@:@project.dist.classpath@\n export JAVA_MAIN=io.strimzi.operator.cluster.Main\n+\n+if [ -f /opt/strimzi/custom-config/log4j2.properties ]; then\n+    # if ConfigMap was not mounted and thus this file was not created, use properties file from the classpath\n+    export JAVA_OPTS=\"${JAVA_OPTS} -Dlog4j2.configurationFile=file:/opt/strimzi/custom-config/log4j2.properties\"\n+else\n+    echo \"Configuration file log4j2.properties not found. Using default static logging setting. Dynamic updates of logging configuration will not work.\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "69f6a4f219451c82b7bc26a7925ed3225d03edd1"}, "originalPosition": 9}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1317, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}