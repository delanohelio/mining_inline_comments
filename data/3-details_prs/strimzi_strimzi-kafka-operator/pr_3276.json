{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQzNTM2NDQy", "number": 3276, "title": "Refactor systemtest package structure", "bodyText": "Signed-off-by: Jakub Stejskal xstejs24@gmail.com\nType of change\n\nRefactoring\n\nDescription\nIn this PR I am moving several test classes into subfolder and move several tests to different classes. The structure of systemtest package is more readable and the tests should be easily found now. This PR doesn't contain any significant code changes expect a move of the methods/classes.\nChecklist\n\n Make sure all tests pass", "createdAt": "2020-07-02T13:59:32Z", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3276", "merged": true, "mergeCommit": {"oid": "9b93e9a54f1cda0453758e3bc986361ad4a22449"}, "closed": true, "closedAt": "2020-07-07T19:40:52Z", "author": {"login": "Frawless"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcxA-SEAFqTQ0MTgyNTM1MA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcyph2zgBqjM1MjE1NjkwODk=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQxODI1MzUw", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3276#pullrequestreview-441825350", "createdAt": "2020-07-02T15:56:23Z", "commit": {"oid": "f180142a5f10a5bb5462f74e104af8695bf0d918"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQxNTo1NjoyNFrOGsT1uA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQxNTo1NjoyNFrOGsT1uA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTExNTU3Ng==", "bodyText": "I wonder if this should actually be called AbstractST\nTo match with the naming conventions we've gone elsewhere in Strimzi, i.e. AbstractModel", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3276#discussion_r449115576", "createdAt": "2020-07-02T15:56:24Z", "author": {"login": "samuel-hawker"}, "path": "systemtest/src/test/java/io/strimzi/systemtest/BaseST.java", "diffHunk": "@@ -510,7 +510,7 @@ protected void checkReadinessLivenessProbe(String podNamePrefix, String containe\n         }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f180142a5f10a5bb5462f74e104af8695bf0d918"}, "originalPosition": 1}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQxODI2NDQ3", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3276#pullrequestreview-441826447", "createdAt": "2020-07-02T15:57:39Z", "commit": {"oid": "f180142a5f10a5bb5462f74e104af8695bf0d918"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQxNTo1NzozOVrOGsT5Cg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQxNTo1NzozOVrOGsT5Cg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTExNjQyNg==", "bodyText": "Probably best to split this function into two different ones, i.e.\nverifyLabelsForKafkaPods(clusterName, appName);\nverifyLabelsForZookeeperPods(clusterName, appName);", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3276#discussion_r449116426", "createdAt": "2020-07-02T15:57:39Z", "author": {"login": "samuel-hawker"}, "path": "systemtest/src/test/java/io/strimzi/systemtest/BaseST.java", "diffHunk": "@@ -510,7 +510,7 @@ protected void checkReadinessLivenessProbe(String podNamePrefix, String containe\n         }\n     }\n \n-    void verifyLabelsForKafkaCluster(String clusterName, String appName) {\n+    protected void verifyLabelsForKafkaCluster(String clusterName, String appName) {\n         verifyLabelsForKafkaOrZkPods(clusterName, \"zookeeper\", appName);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f180142a5f10a5bb5462f74e104af8695bf0d918"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQxODI5NDcx", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3276#pullrequestreview-441829471", "createdAt": "2020-07-02T16:01:08Z", "commit": {"oid": "f180142a5f10a5bb5462f74e104af8695bf0d918"}, "state": "COMMENTED", "comments": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQxNjowMTowOFrOGsUCUA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQxNjowNTo0OVrOGsUNvg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTExODgwMA==", "bodyText": "Not sure about the package components , I'm not sure that the previous structure wasn't right (for atleast this set of tests) - what is the components package doing here?\nAren't all the STs basically testing components?", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3276#discussion_r449118800", "createdAt": "2020-07-02T16:01:08Z", "author": {"login": "samuel-hawker"}, "path": "systemtest/src/test/java/io/strimzi/systemtest/components/bridge/HttpBridgeCors.java", "diffHunk": "@@ -2,7 +2,7 @@\n  * Copyright Strimzi authors.\n  * License: Apache License 2.0 (see the file LICENSE or http://apache.org/licenses/LICENSE-2.0.html).\n  */\n-package io.strimzi.systemtest.bridge;\n+package io.strimzi.systemtest.components.bridge;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f180142a5f10a5bb5462f74e104af8695bf0d918"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTExOTE5OA==", "bodyText": "I do like that you've put this in the kafka package, but I think that components here is just redundant...", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3276#discussion_r449119198", "createdAt": "2020-07-02T16:01:47Z", "author": {"login": "samuel-hawker"}, "path": "systemtest/src/test/java/io/strimzi/systemtest/components/kafka/KafkaST.java", "diffHunk": "@@ -2,7 +2,7 @@\n  * Copyright Strimzi authors.\n  * License: Apache License 2.0 (see the file LICENSE or http://apache.org/licenses/LICENSE-2.0.html).\n  */\n-package io.strimzi.systemtest;\n+package io.strimzi.systemtest.components.kafka;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f180142a5f10a5bb5462f74e104af8695bf0d918"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTEyMDM3Mw==", "bodyText": "I wonder if all the namespace tests should go in a package like watcher\ni.e. io.strimzi.systemtest.watcher.AllNamespaceST\nio.strimzi.systemtest.watcher.MultipleNamespaceST\nThe package being the intent/theme of all the tests and then the class being more specific", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3276#discussion_r449120373", "createdAt": "2020-07-02T16:03:43Z", "author": {"login": "samuel-hawker"}, "path": "systemtest/src/test/java/io/strimzi/systemtest/multiplenamespace/AllNamespaceST.java", "diffHunk": "@@ -2,14 +2,15 @@\n  * Copyright Strimzi authors.\n  * License: Apache License 2.0 (see the file LICENSE or http://apache.org/licenses/LICENSE-2.0.html).\n  */\n-package io.strimzi.systemtest;\n+package io.strimzi.systemtest.multiplenamespace;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f180142a5f10a5bb5462f74e104af8695bf0d918"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTEyMDk1MQ==", "bodyText": "Surely this is part of the operators package", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3276#discussion_r449120951", "createdAt": "2020-07-02T16:04:36Z", "author": {"login": "samuel-hawker"}, "path": "systemtest/src/test/java/io/strimzi/systemtest/recovery/RecoveryST.java", "diffHunk": "@@ -2,10 +2,11 @@\n  * Copyright Strimzi authors.\n  * License: Apache License 2.0 (see the file LICENSE or http://apache.org/licenses/LICENSE-2.0.html).\n  */\n-package io.strimzi.systemtest;\n+package io.strimzi.systemtest.recovery;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f180142a5f10a5bb5462f74e104af8695bf0d918"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTEyMTQyMg==", "bodyText": "Security seems fine here, as a package name, as security is a pretty big topic and is mostly about ensuring you have no gaps and everything is correctly configured/encrypted etc", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3276#discussion_r449121422", "createdAt": "2020-07-02T16:05:17Z", "author": {"login": "samuel-hawker"}, "path": "systemtest/src/test/java/io/strimzi/systemtest/security/oauth/OauthAuthorizationST.java", "diffHunk": "@@ -2,7 +2,7 @@\n  * Copyright Strimzi authors.\n  * License: Apache License 2.0 (see the file LICENSE or http://apache.org/licenses/LICENSE-2.0.html).\n  */\n-package io.strimzi.systemtest.oauth;\n+package io.strimzi.systemtest.security.oauth;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f180142a5f10a5bb5462f74e104af8695bf0d918"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTEyMTcyNg==", "bodyText": "Perhaps this should be infrastructure or deployment or install", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3276#discussion_r449121726", "createdAt": "2020-07-02T16:05:49Z", "author": {"login": "samuel-hawker"}, "path": "systemtest/src/test/java/io/strimzi/systemtest/specific/HelmChartST.java", "diffHunk": "@@ -2,9 +2,10 @@\n  * Copyright Strimzi authors.\n  * License: Apache License 2.0 (see the file LICENSE or http://apache.org/licenses/LICENSE-2.0.html).\n  */\n-package io.strimzi.systemtest;\n+package io.strimzi.systemtest.specific;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f180142a5f10a5bb5462f74e104af8695bf0d918"}, "originalPosition": 5}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6899ef26d3c54ee462dc1ddd4fa4c6b6d310c1a1", "author": {"user": {"login": "Frawless", "name": "Jakub Stejskal"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/6899ef26d3c54ee462dc1ddd4fa4c6b6d310c1a1", "committedDate": "2020-07-02T23:28:54Z", "message": "Rename BaseST -> AbstractST to have same naming convention as in other modules\n\nSigned-off-by: Jakub Stejskal <xstejs24@gmail.com>"}, "afterCommit": {"oid": "054d20f1575d02b7e26707a39bbfdcadf28ff14f", "author": {"user": {"login": "Frawless", "name": "Jakub Stejskal"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/054d20f1575d02b7e26707a39bbfdcadf28ff14f", "committedDate": "2020-07-07T12:50:25Z", "message": "Rebase fix\n\nSigned-off-by: Jakub Stejskal <xstejs24@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQzODc1NDE3", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3276#pullrequestreview-443875417", "createdAt": "2020-07-07T13:12:30Z", "commit": {"oid": "054d20f1575d02b7e26707a39bbfdcadf28ff14f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQzODgwMzQx", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3276#pullrequestreview-443880341", "createdAt": "2020-07-07T13:18:18Z", "commit": {"oid": "054d20f1575d02b7e26707a39bbfdcadf28ff14f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5bf2a656cf816728a41c94cc72c23e158c838976", "author": {"user": {"login": "Frawless", "name": "Jakub Stejskal"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/5bf2a656cf816728a41c94cc72c23e158c838976", "committedDate": "2020-07-07T17:45:12Z", "message": "Refactor systemtest package structure\n\nSigned-off-by: Jakub Stejskal <xstejs24@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "be543f63083790ce51d9f81ed41779ae813ea892", "author": {"user": {"login": "Frawless", "name": "Jakub Stejskal"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/be543f63083790ce51d9f81ed41779ae813ea892", "committedDate": "2020-07-07T17:45:12Z", "message": "Move few packages back\n\nSigned-off-by: Jakub Stejskal <xstejs24@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7ba7f71f97013421e390fae204a427ab60c74c55", "author": {"user": {"login": "Frawless", "name": "Jakub Stejskal"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/7ba7f71f97013421e390fae204a427ab60c74c55", "committedDate": "2020-07-07T17:45:12Z", "message": "fixup! Move few packages back\n\nSigned-off-by: Jakub Stejskal <xstejs24@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "497ea05c165ccafb624be081cea69d6912ff1c90", "author": {"user": {"login": "Frawless", "name": "Jakub Stejskal"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/497ea05c165ccafb624be081cea69d6912ff1c90", "committedDate": "2020-07-07T17:45:12Z", "message": "Rename BaseST -> AbstractST to have same naming convention as in other modules\n\nSigned-off-by: Jakub Stejskal <xstejs24@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2bfc673e820e86545ec96e3bf947269f47ff9e55", "author": {"user": {"login": "Frawless", "name": "Jakub Stejskal"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/2bfc673e820e86545ec96e3bf947269f47ff9e55", "committedDate": "2020-07-07T17:45:12Z", "message": "Rebase fix\n\nSigned-off-by: Jakub Stejskal <xstejs24@gmail.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "054d20f1575d02b7e26707a39bbfdcadf28ff14f", "author": {"user": {"login": "Frawless", "name": "Jakub Stejskal"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/054d20f1575d02b7e26707a39bbfdcadf28ff14f", "committedDate": "2020-07-07T12:50:25Z", "message": "Rebase fix\n\nSigned-off-by: Jakub Stejskal <xstejs24@gmail.com>"}, "afterCommit": {"oid": "2bfc673e820e86545ec96e3bf947269f47ff9e55", "author": {"user": {"login": "Frawless", "name": "Jakub Stejskal"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/2bfc673e820e86545ec96e3bf947269f47ff9e55", "committedDate": "2020-07-07T17:45:12Z", "message": "Rebase fix\n\nSigned-off-by: Jakub Stejskal <xstejs24@gmail.com>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1281, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}