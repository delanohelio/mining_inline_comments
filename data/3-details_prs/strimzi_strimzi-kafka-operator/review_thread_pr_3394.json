{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU3MTczNTkw", "number": 3394, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yN1QxNDowNjo1NlrOESZyqQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yN1QxNDowNjo1NlrOESZyqQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg3NzMyMzkzOnYy", "diffSide": "RIGHT", "path": "systemtest/src/main/java/io/strimzi/systemtest/utils/ClientUtils.java", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yN1QxNDowNjo1NlrOG3kD0A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yN1QxNDozNzowMVrOG3lbpw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDkxNTY2NA==", "bodyText": "any reason why you change this again? I thought we agreed it's not needed in this method.", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3394#discussion_r460915664", "createdAt": "2020-07-27T14:06:56Z", "author": {"login": "Frawless"}, "path": "systemtest/src/main/java/io/strimzi/systemtest/utils/ClientUtils.java", "diffHunk": "@@ -43,15 +45,17 @@ public static void waitUntilClientReceivedMessagesTls(KafkaClientOperations kafk\n     }\n \n     public static void waitTillContinuousClientsFinish(String producerName, String consumerName, String namespace, int messageCount) {\n-        long timeout = (long) messageCount * 1000;\n+        // need to add at least 1-2minutes for finishing the jobs\n+        long timeout = (long) messageCount * 1000 + Duration.ofMinutes(2).toMillis();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "11ab29630bbaa087f855703968156252389ef48c"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDkxODIyMQ==", "bodyText": "well I changed this as I'm using it in the test. I didn't wanted to add something like messagesCount * 3000, because this can cause unnecessarily long timeout in upgrade tests. So I added just two minutes to both function -> for finishing the job. If you agree I can leave it like this. If not, I'll change it", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3394#discussion_r460918221", "createdAt": "2020-07-27T14:10:33Z", "author": {"login": "im-konge"}, "path": "systemtest/src/main/java/io/strimzi/systemtest/utils/ClientUtils.java", "diffHunk": "@@ -43,15 +45,17 @@ public static void waitUntilClientReceivedMessagesTls(KafkaClientOperations kafk\n     }\n \n     public static void waitTillContinuousClientsFinish(String producerName, String consumerName, String namespace, int messageCount) {\n-        long timeout = (long) messageCount * 1000;\n+        // need to add at least 1-2minutes for finishing the jobs\n+        long timeout = (long) messageCount * 1000 + Duration.ofMinutes(2).toMillis();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDkxNTY2NA=="}, "originalCommit": {"oid": "11ab29630bbaa087f855703968156252389ef48c"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDkxOTQ4MQ==", "bodyText": "Not great, not terrible. Maybe we should have for this some method which can be called in both cases?", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3394#discussion_r460919481", "createdAt": "2020-07-27T14:12:22Z", "author": {"login": "Frawless"}, "path": "systemtest/src/main/java/io/strimzi/systemtest/utils/ClientUtils.java", "diffHunk": "@@ -43,15 +45,17 @@ public static void waitUntilClientReceivedMessagesTls(KafkaClientOperations kafk\n     }\n \n     public static void waitTillContinuousClientsFinish(String producerName, String consumerName, String namespace, int messageCount) {\n-        long timeout = (long) messageCount * 1000;\n+        // need to add at least 1-2minutes for finishing the jobs\n+        long timeout = (long) messageCount * 1000 + Duration.ofMinutes(2).toMillis();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDkxNTY2NA=="}, "originalCommit": {"oid": "11ab29630bbaa087f855703968156252389ef48c"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDkzODE1MQ==", "bodyText": "sure good idea", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3394#discussion_r460938151", "createdAt": "2020-07-27T14:37:01Z", "author": {"login": "im-konge"}, "path": "systemtest/src/main/java/io/strimzi/systemtest/utils/ClientUtils.java", "diffHunk": "@@ -43,15 +45,17 @@ public static void waitUntilClientReceivedMessagesTls(KafkaClientOperations kafk\n     }\n \n     public static void waitTillContinuousClientsFinish(String producerName, String consumerName, String namespace, int messageCount) {\n-        long timeout = (long) messageCount * 1000;\n+        // need to add at least 1-2minutes for finishing the jobs\n+        long timeout = (long) messageCount * 1000 + Duration.ofMinutes(2).toMillis();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDkxNTY2NA=="}, "originalCommit": {"oid": "11ab29630bbaa087f855703968156252389ef48c"}, "originalPosition": 15}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1540, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}