{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU2NzMyOTYy", "number": 3383, "title": "Added Kafka bridge example with metrics enabled", "bodyText": "Signed-off-by: Paolo Patierno ppatierno@live.com\nType of change\n\nEnhancement / new feature\nDocumentation\n\nDescription\nThis PR adds an example of Kafka bridge with metrics enabled.\nIt fixes the related doc that shows the available files in the /metrics folder.\nIt also fixes the missing doc for the Kafka MM2 metrics example.\nChecklist\nPlease go through this checklist and make sure all applicable tasks have been done\n\n Write tests\n Make sure all tests pass\n Update documentation\n Check RBAC rights for Kubernetes / OpenShift roles\n Try your changes from Pod inside your Kubernetes and OpenShift cluster, not just locally\n Reference relevant issue(s) and close them after merging\n Update CHANGELOG.md\n Supply screenshots for visual changes, such as Grafana dashboards", "createdAt": "2020-07-26T10:44:33Z", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3383", "merged": true, "mergeCommit": {"oid": "868895c9270a104fe466f31954030d2adb92930e"}, "closed": true, "closedAt": "2020-07-27T17:04:00Z", "author": {"login": "ppatierno"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc4q355gH2gAyNDU2NzMyOTYyOjA0YmYwZTFkNzcwYmQzODFiNDNjYjM2NzkzNDc0OTdiMjk1ODlhZTY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc5DTThAH2gAyNDU2NzMyOTYyOmI1ZDUyZGFlMWFkNzIxZGJmMmU0NTIwM2Y0Y2EzOTE4Y2MyODUzYWI=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "04bf0e1d770bd381b43cb3679347497b29589ae6", "author": {"user": {"login": "ppatierno", "name": "Paolo Patierno"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/04bf0e1d770bd381b43cb3679347497b29589ae6", "committedDate": "2020-07-26T10:42:55Z", "message": "Added Kafka bridge example with metrics enabled\n\nSigned-off-by: Paolo Patierno <ppatierno@live.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU1MzUzMzgw", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3383#pullrequestreview-455353380", "createdAt": "2020-07-26T10:56:31Z", "commit": {"oid": "04bf0e1d770bd381b43cb3679347497b29589ae6"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU1ODUyMjYx", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3383#pullrequestreview-455852261", "createdAt": "2020-07-27T14:45:09Z", "commit": {"oid": "04bf0e1d770bd381b43cb3679347497b29589ae6"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yN1QxNDo0NToxMFrOG3ly7g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yN1QxNDo0NToxMFrOG3ly7g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDk0NDExMA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            <6> Metrics configuration that defines Prometheus JMX Exporter relabeling rules for Kafka Mirror Maker 2\n          \n          \n            \n            <6> Metrics configuration that defines Prometheus JMX Exporter relabeling rules for Kafka MirrorMaker 2.0.", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3383#discussion_r460944110", "createdAt": "2020-07-27T14:45:10Z", "author": {"login": "PaulRMellor"}, "path": "documentation/modules/metrics/ref_metrics-config-files.adoc", "diffHunk": "@@ -24,24 +24,28 @@ metrics\n \u2502   \u2514\u2500\u2500 strimzi-kafka-exporter.json <3>\n \u251c\u2500\u2500 kafka-connect-metrics.yaml <4>\n \u251c\u2500\u2500 kafka-metrics.yaml <5>\n+\u251c\u2500\u2500 kafka-mirror-maker-2-metrics.yaml <6>\n+\u251c\u2500\u2500 kafka-bridge-metrics.yaml <7>\n \u251c\u2500\u2500 prometheus-additional-properties\n-\u2502   \u2514\u2500\u2500 prometheus-additional.yaml <6>\n+\u2502   \u2514\u2500\u2500 prometheus-additional.yaml <8>\n \u251c\u2500\u2500 prometheus-alertmanager-config\n-\u2502   \u2514\u2500\u2500 alert-manager-config.yaml <7>\n+\u2502   \u2514\u2500\u2500 alert-manager-config.yaml <9>\n \u2514\u2500\u2500 prometheus-install\n-    \u251c\u2500\u2500 alert-manager.yaml <8>\n-    \u251c\u2500\u2500 prometheus-rules.yaml <9>\n-    \u251c\u2500\u2500 prometheus.yaml <10>\n-    \u251c\u2500\u2500 strimzi-pod-monitor.yaml <11>\n+    \u251c\u2500\u2500 alert-manager.yaml <10>\n+    \u251c\u2500\u2500 prometheus-rules.yaml <11>\n+    \u251c\u2500\u2500 prometheus.yaml <12>\n+    \u251c\u2500\u2500 strimzi-pod-monitor.yaml <13>\n --\n <1> Installation file for the Grafana image\n <2> Grafana dashboards\n <3> Grafana dashboard specific to xref:assembly-kafka-exporter-{context}[Kafka Exporter]\n <4> Metrics configuration that defines Prometheus JMX Exporter relabeling rules for Kafka Connect\n <5> Metrics configuration that defines Prometheus JMX Exporter relabeling rules for Kafka and ZooKeeper\n-<6> Configuration to add roles for service monitoring\n-<7> Hook definitions for sending notifications through Alertmanager\n-<8> Resources for deploying and configuring Alertmanager\n-<9> Alerting rules examples for use with Prometheus Alertmanager (deployed with Prometheus)\n-<10> Installation file for the Prometheus image\n-<11> Prometheus job definitions to scrape metrics data from pods\n+<6> Metrics configuration that defines Prometheus JMX Exporter relabeling rules for Kafka Mirror Maker 2", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "04bf0e1d770bd381b43cb3679347497b29589ae6"}, "originalPosition": 33}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU1ODUyODgy", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3383#pullrequestreview-455852882", "createdAt": "2020-07-27T14:45:46Z", "commit": {"oid": "04bf0e1d770bd381b43cb3679347497b29589ae6"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b5d52dae1ad721dbf2e45203f4ca3918cc2853ab", "author": {"user": {"login": "ppatierno", "name": "Paolo Patierno"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/b5d52dae1ad721dbf2e45203f4ca3918cc2853ab", "committedDate": "2020-07-27T15:10:34Z", "message": "Fixed comment\n\nSigned-off-by: Paolo Patierno <ppatierno@live.com>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1380, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}