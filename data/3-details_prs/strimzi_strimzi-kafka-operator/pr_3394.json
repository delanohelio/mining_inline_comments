{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU3MTczNTkw", "number": 3394, "title": "[systemtest][mm2] Add checks for mirroring headers to separate test", "bodyText": "Signed-off-by: Lukas Kral lukywill16@gmail.com\nType of change\n\nRefactoring\n\nDescription\nAfter discussion we decided to move checks if mm2 correctly mirroring messages from testMirrorMaker2 to separate test. The main problem is that we are getting the headers from consumer (job) pod and for example on oc cluster up it can be flaky -> some logs are not correctly propagated. So to be sure that basic functionality of mm2 is working and get rid of flaky checks in testMirrorMaker2 I moved it to testMirrorMaker2CorrectlyMirrorsHeaders.\nChecklist\n\n Update tests\n Make sure all tests pass", "createdAt": "2020-07-27T13:43:06Z", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3394", "merged": true, "mergeCommit": {"oid": "e1c454ea34416824def8d453ade5a0dd2b55a98f"}, "closed": true, "closedAt": "2020-07-27T19:16:57Z", "author": {"login": "im-konge"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc5B7jTgH2gAyNDU3MTczNTkwOjExYWIyOTYzMGJiYWEwODdmODU1NzAzOTY4MTU2MjUyMzg5ZWY0OGM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc5DmOdAFqTQ1NTg5NDg3Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "11ab29630bbaa087f855703968156252389ef48c", "author": {"user": {"login": "im-konge", "name": "Luk\u00e1\u0161 Kr\u00e1l"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/11ab29630bbaa087f855703968156252389ef48c", "committedDate": "2020-07-27T13:34:43Z", "message": "separe the test and change timeouts in clients utils\n\nSigned-off-by: Lukas Kral <lukywill16@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU1ODE1MDI1", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3394#pullrequestreview-455815025", "createdAt": "2020-07-27T14:06:55Z", "commit": {"oid": "11ab29630bbaa087f855703968156252389ef48c"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yN1QxNDowNjo1NlrOG3kD0A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yN1QxNDowNjo1NlrOG3kD0A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDkxNTY2NA==", "bodyText": "any reason why you change this again? I thought we agreed it's not needed in this method.", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3394#discussion_r460915664", "createdAt": "2020-07-27T14:06:56Z", "author": {"login": "Frawless"}, "path": "systemtest/src/main/java/io/strimzi/systemtest/utils/ClientUtils.java", "diffHunk": "@@ -43,15 +45,17 @@ public static void waitUntilClientReceivedMessagesTls(KafkaClientOperations kafk\n     }\n \n     public static void waitTillContinuousClientsFinish(String producerName, String consumerName, String namespace, int messageCount) {\n-        long timeout = (long) messageCount * 1000;\n+        // need to add at least 1-2minutes for finishing the jobs\n+        long timeout = (long) messageCount * 1000 + Duration.ofMinutes(2).toMillis();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "11ab29630bbaa087f855703968156252389ef48c"}, "originalPosition": 15}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU1ODc3NTkz", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3394#pullrequestreview-455877593", "createdAt": "2020-07-27T15:12:09Z", "commit": {"oid": "a979b593c6beeacc585c361512f7e81806bc6bd7"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ad7217bd7e6cd4e309432f1299ddb827d33d49c3", "author": {"user": {"login": "im-konge", "name": "Luk\u00e1\u0161 Kr\u00e1l"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/ad7217bd7e6cd4e309432f1299ddb827d33d49c3", "committedDate": "2020-07-27T15:28:08Z", "message": "comment\n\nSigned-off-by: Lukas Kral <lukywill16@gmail.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a979b593c6beeacc585c361512f7e81806bc6bd7", "author": {"user": {"login": "im-konge", "name": "Luk\u00e1\u0161 Kr\u00e1l"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/a979b593c6beeacc585c361512f7e81806bc6bd7", "committedDate": "2020-07-27T15:06:07Z", "message": "comment\n\nSigned-off-by: Lukas Kral <lukywill16@gmail.com>"}, "afterCommit": {"oid": "ad7217bd7e6cd4e309432f1299ddb827d33d49c3", "author": {"user": {"login": "im-konge", "name": "Luk\u00e1\u0161 Kr\u00e1l"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/ad7217bd7e6cd4e309432f1299ddb827d33d49c3", "committedDate": "2020-07-27T15:28:08Z", "message": "comment\n\nSigned-off-by: Lukas Kral <lukywill16@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU1ODk0ODc2", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3394#pullrequestreview-455894876", "createdAt": "2020-07-27T15:31:14Z", "commit": {"oid": "ad7217bd7e6cd4e309432f1299ddb827d33d49c3"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1389, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}