{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIxNDA5Njcz", "number": 3071, "title": "[DOC] Additional mm2 config properties", "bodyText": "Signed-off-by: prmellor pmellor@redhat.com\nDocumentation\nCommon config properties have been added to the MirrorMaker 2.0 configuration procedure.\nAlso showing tracing config for MirrorMaker and MirrorMaker 2.0.\nThe old section has been split to have specific sections for MirrorMaker and MirrorMaker 2.0.\nThis PR fixes #2987.\nDescription\nPlease describe your pull request\nChecklist\nPlease go through this checklist and make sure all applicable tasks have been done\n\n Update/write design documentation in ./design\n Write tests\n Make sure all tests pass\n Update documentation\n Check RBAC rights for Kubernetes / OpenShift roles\n Try your changes from Pod inside your Kubernetes and OpenShift cluster, not just locally\n Reference relevant issue(s) and close them after merging\n Update CHANGELOG.md", "createdAt": "2020-05-21T15:12:22Z", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3071", "merged": true, "mergeCommit": {"oid": "5521ebef4c834b7631a63af6720f95b6d7977808"}, "closed": true, "closedAt": "2020-05-26T23:38:38Z", "author": {"login": "PaulRMellor"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcje_ICAH2gAyNDIxNDA5NjczOjkzZGYyODRhNzdiMGEzZmNiODRiM2MwN2RkZjQ4YWYwMTc4OTA4MWU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABclCy1ggFqTQxODE5OTEzOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "93df284a77b0a3fcb84b3c07ddf48af01789081e", "author": {"user": {"login": "PaulRMellor", "name": null}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/93df284a77b0a3fcb84b3c07ddf48af01789081e", "committedDate": "2020-05-21T14:59:32Z", "message": "additional mm2 config properties\n\nSigned-off-by: prmellor <pmellor@redhat.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE2MjY2MTcy", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3071#pullrequestreview-416266172", "createdAt": "2020-05-21T15:42:26Z", "commit": {"oid": "93df284a77b0a3fcb84b3c07ddf48af01789081e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE2MjcwNTM3", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3071#pullrequestreview-416270537", "createdAt": "2020-05-21T15:47:47Z", "commit": {"oid": "93df284a77b0a3fcb84b3c07ddf48af01789081e"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxNTo0Nzo0N1rOGY4VDg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxNTo1MDowN1rOGY4c_w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODc0MTkwMg==", "bodyText": "this 1 doesn't make sense here. It should be a callout I guess", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3071#discussion_r428741902", "createdAt": "2020-05-21T15:47:47Z", "author": {"login": "ppatierno"}, "path": "documentation/modules/mirrormaker2/proc-mirrormaker-replication.adoc", "diffHunk": "@@ -116,6 +116,62 @@ spec:\n         checkpoints.topic.replication.factor: 1 <25>\n     topicsPattern: \".*\" <26>\n     groupsPattern: \"group1|group2|group3\" <27>\n+  resources: <28>\n+    requests:\n+      cpu: \"1\"\n+      memory: 2Gi\n+    limits:\n+      cpu: \"2\"\n+      memory: 2Gi\n+  logging: <29>\n+    type: inline\n+    loggers:\n+      connect.root.logger.level: \"INFO\"\n+  readinessProbe: <30>\n+    initialDelaySeconds: 15\n+    timeoutSeconds: 5\n+  livenessProbe:\n+    initialDelaySeconds: 15\n+    timeoutSeconds: 5\n+  jvmOptions: <31>\n+    \"-Xmx\": \"1g\"\n+    \"-Xms\": \"1g\"\n+  image: my-org/my-image:latest <32>\n+  template: <33>\n+    pod:\n+      affinity:\n+        podAntiAffinity:\n+          requiredDuringSchedulingIgnoredDuringExecution:\n+            - labelSelector:\n+                matchExpressions:\n+                  - key: application\n+                    operator: In\n+                    values:\n+                      - postgresql\n+                      - mongodb\n+              topologyKey: \"kubernetes.io/hostname\"\n+    connectContainer: 1", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "93df284a77b0a3fcb84b3c07ddf48af01789081e"}, "originalPosition": 60}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODc0Mjg4NQ==", "bodyText": "\"... to Kafka Mirror Maker ...\"", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3071#discussion_r428742885", "createdAt": "2020-05-21T15:48:53Z", "author": {"login": "ppatierno"}, "path": "documentation/modules/mirrormaker2/proc-mirrormaker-replication.adoc", "diffHunk": "@@ -146,6 +202,15 @@ Standard Apache Kafka configuration may be provided, restricted to those propert\n <26> Topic replication from the source cluster defined as regular expression patterns. Here we request all topics.\n <27> Consumer group replication from the source cluster defined as regular expression patterns. Here we request three consumer groups by name.\n You can use comma-separated lists.\n+<28> Requests for reservation of supported resources, currently `cpu` and `memory`, and limits to specify the maximum resources that can be consumed.\n+<29> Specified loggers and log levels added directly (`inline`) or indirectly (`external`) through a ConfigMap. A custom ConfigMap must be placed under the `log4j.properties` or `log4j2.properties` key. Kafka Connect has a single logger called `connect.root.logger.level`. You can set the log level to INFO, ERROR, WARN, TRACE, DEBUG, FATAL or OFF.\n+<30> Healthchecks to know when to restart a container (liveness) and when a container can accept traffic (readiness).\n+<31> JVM configuration options to optimize performance for the Virtual Machine (VM) running Kafka MirrorMaker.\n+<32> ADVANCED OPTION: Container image configuration, which is xref:con-configuring-container-images-deployment-configuration-kafka-mirror-maker[recommended only in special situations].\n+<33> xref:assembly-customizing-deployments-str[Template customization]. Here a pod is scheduled based with anti-affinity, so the pod is not scheduled on nodes with the same hostname.\n+Environment variables are also set for distributed tracing using Jaeger.\n+<34> xref:assembly-distributed-tracing-str[Distributed tracing is enabled for Jaeger].\n+<35> Kubernetes Secret mounted to Kafka Connect as an environment variable.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "93df284a77b0a3fcb84b3c07ddf48af01789081e"}, "originalPosition": 97}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODc0MzkzNQ==", "bodyText": "if adding Jaeger to MirrorMaker configuration, then you should add the env vars as well. Am I right @scholzj ?", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3071#discussion_r428743935", "createdAt": "2020-05-21T15:50:07Z", "author": {"login": "ppatierno"}, "path": "documentation/modules/proc-configuring-mirror-maker.adoc", "diffHunk": "@@ -114,8 +114,9 @@ spec:\n                       - postgresql\n                       - mongodb\n               topologyKey: \"kubernetes.io/hostname\"\n+  tracing: <20>\n+    type: jaeger", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "93df284a77b0a3fcb84b3c07ddf48af01789081e"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "15256a0b3aad0acec868c32b5c6a59135e90727a", "author": {"user": {"login": "PaulRMellor", "name": null}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/15256a0b3aad0acec868c32b5c6a59135e90727a", "committedDate": "2020-05-22T12:30:22Z", "message": "review edits PP\n\nSigned-off-by: prmellor <pmellor@redhat.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "330a21351118ddfa067a4d385299d3f0aeb187cc", "author": {"user": {"login": "PaulRMellor", "name": null}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/330a21351118ddfa067a4d385299d3f0aeb187cc", "committedDate": "2020-05-22T12:30:42Z", "message": "review edits PP\n\nSigned-off-by: prmellor <pmellor@redhat.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE2ODc3NTM5", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3071#pullrequestreview-416877539", "createdAt": "2020-05-22T12:38:57Z", "commit": {"oid": "330a21351118ddfa067a4d385299d3f0aeb187cc"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE4MTk5MTM4", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3071#pullrequestreview-418199138", "createdAt": "2020-05-26T11:16:38Z", "commit": {"oid": "330a21351118ddfa067a4d385299d3f0aeb187cc"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1774, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}