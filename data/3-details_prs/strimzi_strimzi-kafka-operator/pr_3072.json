{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIxNDQ1Nzc3", "number": 3072, "title": "[DOC] Update to the using the topic operator section", "bodyText": "Signed-off-by: prmellor pmellor@redhat.com\nDocumentation\nRecreated the Using the Topic Operator chapter, so it's consistent with the recent update to the Using the User Operator section.\nWe now have a single configuring procedure.\nRemoved 3 files\nOld structure\n\nUsing the Topic Operator\n5.1. Topic Operator usage recommendations\n5.2. Creating a topic\n5.3. Changing a topic\n5.4. Deleting a topic\n\nNew structure\n\nUsing the Topic Operator\n5.1. Kafka topic resource\n5.1.1. Kafka topic usage recommendations\n5.1.2. Kafka topic naming conventions\n5.2. Configuring a Kafka topic\n\nChecklist\nPlease go through this checklist and make sure all applicable tasks have been done\n\n Update/write design documentation in ./design\n Write tests\n Make sure all tests pass\n Update documentation\n Check RBAC rights for Kubernetes / OpenShift roles\n Try your changes from Pod inside your Kubernetes and OpenShift cluster, not just locally\n Reference relevant issue(s) and close them after merging\n Update CHANGELOG.md", "createdAt": "2020-05-21T16:15:01Z", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3072", "merged": true, "mergeCommit": {"oid": "6492d81c619f14d81551fccb8495552918d1b334"}, "closed": true, "closedAt": "2020-05-26T23:38:21Z", "author": {"login": "PaulRMellor"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcjgAxNAH2gAyNDIxNDQ1Nzc3OmJkNmRlZGNkZjkzMGRkZTMyN2M3OGZmMmZjYjkwM2FmNTI3ZWE3NGU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABclHYHCgH2gAyNDIxNDQ1Nzc3OjZjMWI3Y2YyN2Q4YjNlYjBiNjI3YWM5YjgxMTRmMzUyZDFiOGY5M2Y=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "bd6dedcdf930dde327c78ff2fcb903af527ea74e", "author": {"user": {"login": "PaulRMellor", "name": null}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/bd6dedcdf930dde327c78ff2fcb903af527ea74e", "committedDate": "2020-05-21T16:11:14Z", "message": "update to the using the topic operator section\n\nSigned-off-by: prmellor <pmellor@redhat.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "702061e71fc34388293430e481d35e3a2270bea2", "author": {"user": {"login": "PaulRMellor", "name": null}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/702061e71fc34388293430e481d35e3a2270bea2", "committedDate": "2020-05-21T16:15:57Z", "message": "review edit\n\nSigned-off-by: prmellor <pmellor@redhat.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE2NTI3ODM0", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3072#pullrequestreview-416527834", "createdAt": "2020-05-21T22:10:30Z", "commit": {"oid": "702061e71fc34388293430e481d35e3a2270bea2"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE2NjQyMzI1", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3072#pullrequestreview-416642325", "createdAt": "2020-05-22T04:36:15Z", "commit": {"oid": "702061e71fc34388293430e481d35e3a2270bea2"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMlQwNDozNjoxNlrOGZKaOw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMlQwNDozNzo0MFrOGZKbUw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTAzODEzOQ==", "bodyText": "Should we clarify that this configuration is in the spec.kafka.config in the Kafka resource?", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3072#discussion_r429038139", "createdAt": "2020-05-22T04:36:16Z", "author": {"login": "ppatierno"}, "path": "documentation/modules/proc-configuring-kafka-topic.adoc", "diffHunk": "@@ -0,0 +1,58 @@\n+// Module included in the following assemblies:\n+//\n+// assembly-using-the-topic-operator.adoc\n+\n+[id='proc-configuring-kafka-topic-{context}']\n+= Configuring a Kafka topic\n+\n+Use the properties of the `KafkaTopic` resource to configure a Kafka topic.\n+\n+You can use `kubectl apply` to create or modify topics, and kubectl delete to delete existing topics.\n+\n+For example:\n+\n+* `kubectl apply -f <topic-config-file>`\n+* `kubectl delete KafkaTopic <topic-name>`\n+\n+This procedure shows how to create a topic with 10 partitions and 2 replicas.\n+\n+.Before you start\n+\n+It is important that you consider the following before making your changes:\n+\n+* Kafka does _not_ support making the following changes through the `KafkaTopic` resource:\n+** Changing topic names using `spec.topicName`\n+** Decreasing partition size using `spec.partitions`\n+* You cannot change the number of replicas initially specified using `spec.replicas`.\n+* Increasing `spec.partitions` for topics with keys will change how records are partitioned, which can be particularly problematic when the topic uses _semantic partitioning_.\n+\n+.Prerequisites\n+\n+* A running Kafka cluster xref:con-mutual-tls-authentication-deployment-configuration-kafka[configured with a Kafka broker listener using TLS authentication and encryption].\n+* A running Topic Operator (typically xref:assembly-kafka-entity-operator-deployment-configuration-kafka[deployed with the Entity Operator]).\n+* For deleting a topic, `delete.topic.enable=true` (default)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "702061e71fc34388293430e481d35e3a2270bea2"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTAzODQxOQ==", "bodyText": "spec.topicName property", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3072#discussion_r429038419", "createdAt": "2020-05-22T04:37:40Z", "author": {"login": "ppatierno"}, "path": "documentation/modules/ref-topic-operator.adoc", "diffHunk": "@@ -2,23 +2,32 @@\n //\n // topic-operator.adoc\n \n-[id='topic-operator-usage-recommendations-{context}']\n-= Topic Operator usage recommendations\n+[id='ref-topic-operator-{context}']\n+= Kafka topic resource\n \n-When working with topics, be consistent and always operate on either `KafkaTopic` resources or topics directly. Avoid routinely switching between both methods for a given topic.\n+The `KafkaTopic` resource is used to configure topics, including the number of partitions and replicas.\n+\n+The full schema for `KafkaTopic` is described in xref:type-KafkaTopic-reference[`KafkaTopic` schema reference].\n+\n+== Kafka topic usage recommendations\n+\n+When working with topics, be consistent.\n+Always operate on either `KafkaTopic` resources or topics directly in Kubernetes.\n+Avoid routinely switching between both methods for a given topic.\n \n Use topic names that reflect the nature of the topic, and remember that names cannot be changed later.\n \n-If creating a topic in Kafka, use a name that is a valid Kubernetes resource name, otherwise the Topic Operator will need to create the corresponding `KafkaTopic` with a name that conforms to the Kubernetes rules.\n+If creating a topic in Kafka, use a name that is a valid Kubernetes resource name,\n+otherwise the Topic Operator will need to create the corresponding `KafkaTopic` with a name that conforms to the Kubernetes rules.\n \n NOTE: Recommendations for identifiers and names in Kubernetes are outlined in link:https://github.com/kubernetes/community/blob/master/contributors/design-proposals/architecture/identifiers.md[Identifiers and Names in Kubernetes^] community article.\n \n-.Kafka topic naming conventions\n+== Kafka topic naming conventions\n \n Kafka and Kubernetes impose their own validation rules for the naming of topics in Kafka and `KafkaTopic.metadata.name` respectively.\n There are valid names for each which are invalid in the other.\n \n-Using the `spec.topicName property`, it is possible to create a valid topic in Kafka with a name that would be invalid for the KafkaTopic in Kubernetes.\n+Using the `spec.topicName property`, it is possible to create a valid topic in Kafka with a name that would be invalid for the Kafka topic in Kubernetes.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "702061e71fc34388293430e481d35e3a2270bea2"}, "originalPosition": 35}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "588193af111239832ec1c57abcf8069eb02ff808", "author": {"user": {"login": "PaulRMellor", "name": null}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/588193af111239832ec1c57abcf8069eb02ff808", "committedDate": "2020-05-22T13:16:13Z", "message": "review edits PP\n\nSigned-off-by: prmellor <pmellor@redhat.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE2OTAyMTkw", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3072#pullrequestreview-416902190", "createdAt": "2020-05-22T13:18:11Z", "commit": {"oid": "588193af111239832ec1c57abcf8069eb02ff808"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE4MjAwOTI2", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3072#pullrequestreview-418200926", "createdAt": "2020-05-26T11:19:23Z", "commit": {"oid": "588193af111239832ec1c57abcf8069eb02ff808"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE4MjAxNTQx", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3072#pullrequestreview-418201541", "createdAt": "2020-05-26T11:20:16Z", "commit": {"oid": "588193af111239832ec1c57abcf8069eb02ff808"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQxMToyMDoxNlrOGaZyeA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQxMToyMDoxNlrOGaZyeA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDMzODY4MA==", "bodyText": "Missing literals for second command.", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3072#discussion_r430338680", "createdAt": "2020-05-26T11:20:16Z", "author": {"login": "laidan6000"}, "path": "documentation/modules/proc-configuring-kafka-topic.adoc", "diffHunk": "@@ -0,0 +1,58 @@\n+// Module included in the following assemblies:\n+//\n+// assembly-using-the-topic-operator.adoc\n+\n+[id='proc-configuring-kafka-topic-{context}']\n+= Configuring a Kafka topic\n+\n+Use the properties of the `KafkaTopic` resource to configure a Kafka topic.\n+\n+You can use `kubectl apply` to create or modify topics, and kubectl delete to delete existing topics.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "588193af111239832ec1c57abcf8069eb02ff808"}, "originalPosition": 10}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE4MjAyNjcy", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3072#pullrequestreview-418202672", "createdAt": "2020-05-26T11:22:12Z", "commit": {"oid": "588193af111239832ec1c57abcf8069eb02ff808"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQxMToyMjoxMlrOGaZ17w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQxMToyMjoxMlrOGaZ17w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDMzOTU2Nw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            * You cannot change the number of replicas initially specified using `spec.replicas`.\n          \n          \n            \n            * You cannot use `spec.replicas` to change the number of replicas that were initially specified.", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3072#discussion_r430339567", "createdAt": "2020-05-26T11:22:12Z", "author": {"login": "laidan6000"}, "path": "documentation/modules/proc-configuring-kafka-topic.adoc", "diffHunk": "@@ -0,0 +1,58 @@\n+// Module included in the following assemblies:\n+//\n+// assembly-using-the-topic-operator.adoc\n+\n+[id='proc-configuring-kafka-topic-{context}']\n+= Configuring a Kafka topic\n+\n+Use the properties of the `KafkaTopic` resource to configure a Kafka topic.\n+\n+You can use `kubectl apply` to create or modify topics, and kubectl delete to delete existing topics.\n+\n+For example:\n+\n+* `kubectl apply -f <topic-config-file>`\n+* `kubectl delete KafkaTopic <topic-name>`\n+\n+This procedure shows how to create a topic with 10 partitions and 2 replicas.\n+\n+.Before you start\n+\n+It is important that you consider the following before making your changes:\n+\n+* Kafka does _not_ support making the following changes through the `KafkaTopic` resource:\n+** Changing topic names using `spec.topicName`\n+** Decreasing partition size using `spec.partitions`\n+* You cannot change the number of replicas initially specified using `spec.replicas`.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "588193af111239832ec1c57abcf8069eb02ff808"}, "originalPosition": 26}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE4MjA0ODA4", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3072#pullrequestreview-418204808", "createdAt": "2020-05-26T11:25:22Z", "commit": {"oid": "588193af111239832ec1c57abcf8069eb02ff808"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6c1b7cf27d8b3eb0b627ac9b8114f352d1b8f93f", "author": {"user": {"login": "PaulRMellor", "name": null}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/6c1b7cf27d8b3eb0b627ac9b8114f352d1b8f93f", "committedDate": "2020-05-26T16:36:57Z", "message": "review edits DL\n\nSigned-off-by: prmellor <pmellor@redhat.com>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1777, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}