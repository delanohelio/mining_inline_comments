{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY2Mzk4MTU0", "number": 2446, "title": "Remove external listeners", "bodyText": "Type of change\n\nRefactoring\n\nDescription\nWe should remove external listeners from tests where are not really tested and keep them in tests like \"testNodePort\" etc.\nReason: After removing external listeners from tests, we will not be too dependant on environment configuration.\nChecklist\n\n External Listeners are removed from tests where should not be\n Write tests\n Make sure all tests pass", "createdAt": "2020-01-23T14:43:08Z", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2446", "merged": true, "mergeCommit": {"oid": "5a0002245a0736468c1bfac45bf92195e18529b4"}, "closed": true, "closedAt": "2020-02-04T23:35:05Z", "author": {"login": "im-konge"}, "timelineItems": {"totalCount": 34, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb9Lh0KABqjI5NzQwMTI5MTg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcBCmskgFqTM1MzAyNzU2MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "00cd8cd06d0374a6697c71189127806f11b4d471", "author": {"user": null}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/00cd8cd06d0374a6697c71189127806f11b4d471", "committedDate": "2020-01-23T14:38:09Z", "message": "KafkaST: Remove external listeners from tests where are not needed\n\nSigned-off-by: Lukas Kral <lkral@redhat.com>"}, "afterCommit": {"oid": "7ee6027651fd84e535122b8984a58c70b7d6bda6", "author": {"user": null}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/7ee6027651fd84e535122b8984a58c70b7d6bda6", "committedDate": "2020-01-23T14:48:57Z", "message": "KafkaST: Remove external listeners from tests where are not needed\n\nSigned-off-by: Lukas Kral <lkral@redhat.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7ee6027651fd84e535122b8984a58c70b7d6bda6", "author": {"user": null}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/7ee6027651fd84e535122b8984a58c70b7d6bda6", "committedDate": "2020-01-23T14:48:57Z", "message": "KafkaST: Remove external listeners from tests where are not needed\n\nSigned-off-by: Lukas Kral <lkral@redhat.com>"}, "afterCommit": {"oid": "44d3d62e0c5738b9e0232091e462c032ed18e78b", "author": {"user": null}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/44d3d62e0c5738b9e0232091e462c032ed18e78b", "committedDate": "2020-01-28T11:40:01Z", "message": "ConnectS2IST: Remove externalListener from test\n\nSigned-off-by: Lukas Kral <lkral@redhat.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "44d3d62e0c5738b9e0232091e462c032ed18e78b", "author": {"user": null}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/44d3d62e0c5738b9e0232091e462c032ed18e78b", "committedDate": "2020-01-28T11:40:01Z", "message": "ConnectS2IST: Remove externalListener from test\n\nSigned-off-by: Lukas Kral <lkral@redhat.com>"}, "afterCommit": {"oid": "274fc53dfb0615c671d19c8288702465eedfe8d7", "author": {"user": null}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/274fc53dfb0615c671d19c8288702465eedfe8d7", "committedDate": "2020-01-28T12:17:57Z", "message": "KafkaST, AllNamespaceST and ConnectS2IST: Remove external listeners\n\nSigned-off-by: Lukas Kral <lkral@redhat.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "274fc53dfb0615c671d19c8288702465eedfe8d7", "author": {"user": null}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/274fc53dfb0615c671d19c8288702465eedfe8d7", "committedDate": "2020-01-28T12:17:57Z", "message": "KafkaST, AllNamespaceST and ConnectS2IST: Remove external listeners\n\nSigned-off-by: Lukas Kral <lkral@redhat.com>"}, "afterCommit": {"oid": "c0eb575687332ff787186a5cb225987ac285d8d5", "author": {"user": null}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/c0eb575687332ff787186a5cb225987ac285d8d5", "committedDate": "2020-01-28T12:32:43Z", "message": "KafkaST, AllNamespaceST and ConnectS2IST: Remove external listeners\n\nSigned-off-by: Lukas Kral <lkral@redhat.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c0eb575687332ff787186a5cb225987ac285d8d5", "author": {"user": null}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/c0eb575687332ff787186a5cb225987ac285d8d5", "committedDate": "2020-01-28T12:32:43Z", "message": "KafkaST, AllNamespaceST and ConnectS2IST: Remove external listeners\n\nSigned-off-by: Lukas Kral <lkral@redhat.com>"}, "afterCommit": {"oid": "470f24704948bdc20d6d2254717df3652dc64213", "author": {"user": null}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/470f24704948bdc20d6d2254717df3652dc64213", "committedDate": "2020-01-28T12:38:03Z", "message": "KafkaST, AllNamespaceST and ConnectS2IST: Remove external listeners\n\nSigned-off-by: Lukas Kral <lkral@redhat.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "470f24704948bdc20d6d2254717df3652dc64213", "author": {"user": null}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/470f24704948bdc20d6d2254717df3652dc64213", "committedDate": "2020-01-28T12:38:03Z", "message": "KafkaST, AllNamespaceST and ConnectS2IST: Remove external listeners\n\nSigned-off-by: Lukas Kral <lkral@redhat.com>"}, "afterCommit": {"oid": "fd256bc822a37b714b65a8727331049000039778", "author": {"user": null}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/fd256bc822a37b714b65a8727331049000039778", "committedDate": "2020-01-30T09:17:54Z", "message": "AllNamespaceST: Remove external listeners\n\nSigned-off-by: Lukas Kral <lkral@redhat.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "fd256bc822a37b714b65a8727331049000039778", "author": {"user": null}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/fd256bc822a37b714b65a8727331049000039778", "committedDate": "2020-01-30T09:17:54Z", "message": "AllNamespaceST: Remove external listeners\n\nSigned-off-by: Lukas Kral <lkral@redhat.com>"}, "afterCommit": {"oid": "3fa2e0bb8e6c6147e85cd2a3df7edd99ca5b9958", "author": {"user": null}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/3fa2e0bb8e6c6147e85cd2a3df7edd99ca5b9958", "committedDate": "2020-01-30T09:22:59Z", "message": "AllNamespaceST: Remove external listeners\n\nSigned-off-by: Lukas Kral <lkral@redhat.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3fa2e0bb8e6c6147e85cd2a3df7edd99ca5b9958", "author": {"user": null}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/3fa2e0bb8e6c6147e85cd2a3df7edd99ca5b9958", "committedDate": "2020-01-30T09:22:59Z", "message": "AllNamespaceST: Remove external listeners\n\nSigned-off-by: Lukas Kral <lkral@redhat.com>"}, "afterCommit": {"oid": "807005b088f9d174d00beae8407aa2293ec265a7", "author": {"user": null}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/807005b088f9d174d00beae8407aa2293ec265a7", "committedDate": "2020-01-30T14:55:44Z", "message": "AllNamespaceST: Add wait for KafkaUser creation and update deploy of clients\n\nSigned-off-by: Lukas Kral <lkral@redhat.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "80bcbf6d43caf35ae917dbfc7186bf6fd44a158b", "author": {"user": null}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/80bcbf6d43caf35ae917dbfc7186bf6fd44a158b", "committedDate": "2020-01-30T15:13:18Z", "message": "RollingUpdateST: Remove external listeners\n\nSigned-off-by: Lukas Kral <lkral@redhat.com>"}, "afterCommit": {"oid": "529fece172197bb2c8285388fb3de2bbd4061863", "author": {"user": null}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/529fece172197bb2c8285388fb3de2bbd4061863", "committedDate": "2020-02-01T22:03:38Z", "message": "KafkaST: Remove external listeners and fix tests\n\nSigned-off-by: Lukas Kral <lkral@redhat.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUxOTEwNzM2", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2446#pullrequestreview-351910736", "createdAt": "2020-02-01T23:53:30Z", "commit": {"oid": "529fece172197bb2c8285388fb3de2bbd4061863"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wMVQyMzo1MzozMVrOFkfgWQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wMVQyMzo1MzozMVrOFkfgWQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzgwOTI0MQ==", "bodyText": "Do we need the two empty lines?", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2446#discussion_r373809241", "createdAt": "2020-02-01T23:53:31Z", "author": {"login": "scholzj"}, "path": "systemtest/src/test/java/io/strimzi/systemtest/AllNamespaceST.java", "diffHunk": "@@ -41,6 +44,7 @@\n     private static final String THIRD_NAMESPACE = \"third-namespace-test\";\n     private static final String SECOND_CLUSTER_NAME = CLUSTER_NAME + \"-second\";\n \n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "529fece172197bb2c8285388fb3de2bbd4061863"}, "originalPosition": 36}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "529fece172197bb2c8285388fb3de2bbd4061863", "author": {"user": null}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/529fece172197bb2c8285388fb3de2bbd4061863", "committedDate": "2020-02-01T22:03:38Z", "message": "KafkaST: Remove external listeners and fix tests\n\nSigned-off-by: Lukas Kral <lkral@redhat.com>"}, "afterCommit": {"oid": "e69ddb5c704d1110cadbe86132440b667b96a2ec", "author": {"user": null}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/e69ddb5c704d1110cadbe86132440b667b96a2ec", "committedDate": "2020-02-02T02:02:28Z", "message": "KafkaST: Remove external listeners and fix tests\n\nSigned-off-by: Lukas Kral <lkral@redhat.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUxOTYwNjgw", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2446#pullrequestreview-351960680", "createdAt": "2020-02-02T19:07:42Z", "commit": {"oid": "e69ddb5c704d1110cadbe86132440b667b96a2ec"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e69ddb5c704d1110cadbe86132440b667b96a2ec", "author": {"user": null}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/e69ddb5c704d1110cadbe86132440b667b96a2ec", "committedDate": "2020-02-02T02:02:28Z", "message": "KafkaST: Remove external listeners and fix tests\n\nSigned-off-by: Lukas Kral <lkral@redhat.com>"}, "afterCommit": {"oid": "6096c258fdd44b65ee348f352ba08aeb58fac147", "author": {"user": null}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/6096c258fdd44b65ee348f352ba08aeb58fac147", "committedDate": "2020-02-03T09:14:51Z", "message": "KafkaST: Remove external listeners and fix tests\n\nSigned-off-by: Lukas Kral <lkral@redhat.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUyMTc2NDUw", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2446#pullrequestreview-352176450", "createdAt": "2020-02-03T11:07:56Z", "commit": {"oid": "6096c258fdd44b65ee348f352ba08aeb58fac147"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6096c258fdd44b65ee348f352ba08aeb58fac147", "author": {"user": null}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/6096c258fdd44b65ee348f352ba08aeb58fac147", "committedDate": "2020-02-03T09:14:51Z", "message": "KafkaST: Remove external listeners and fix tests\n\nSigned-off-by: Lukas Kral <lkral@redhat.com>"}, "afterCommit": {"oid": "5cbfc5b6b6ee1abd7a68b350e47bb6477e7159ea", "author": {"user": null}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/5cbfc5b6b6ee1abd7a68b350e47bb6477e7159ea", "committedDate": "2020-02-03T13:03:32Z", "message": "KafkaST: Remove external listeners and fix tests\n\nSigned-off-by: Lukas Kral <lkral@redhat.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5cbfc5b6b6ee1abd7a68b350e47bb6477e7159ea", "author": {"user": null}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/5cbfc5b6b6ee1abd7a68b350e47bb6477e7159ea", "committedDate": "2020-02-03T13:03:32Z", "message": "KafkaST: Remove external listeners and fix tests\n\nSigned-off-by: Lukas Kral <lkral@redhat.com>"}, "afterCommit": {"oid": "f3cd8dca72687fe2e243d479bdc7b5f1f32148ac", "author": {"user": null}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/f3cd8dca72687fe2e243d479bdc7b5f1f32148ac", "committedDate": "2020-02-04T13:17:30Z", "message": "Fix tests after refactor\n\nSigned-off-by: Lukas Kral <lkral@redhat.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ba9ff3c27befa85f6069e8a4bbf88349229501b4", "author": {"user": null}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/ba9ff3c27befa85f6069e8a4bbf88349229501b4", "committedDate": "2020-02-04T13:22:05Z", "message": "Add asserts for checking kafka configuration\n\nSigned-off-by: Lukas Kral <lkral@redhat.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "201ad3c545a67809f34f0ca9425ab8ae9a128cc2", "author": {"user": {"login": "sknot-rh", "name": "Stanislav Knot"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/201ad3c545a67809f34f0ca9425ab8ae9a128cc2", "committedDate": "2020-02-04T13:22:05Z", "message": "Fix kafka user quotas deleting (#2394)\n\n* Fix kafka user quotas deleting\n\nSigned-off-by: Stanislav Knot <sknot@redhat.com>\n\n* use scram name\n\nSigned-off-by: Stanislav Knot <sknot@redhat.com>\n\n* mocking\n\nSigned-off-by: Stanislav Knot <sknot@redhat.com>\nSigned-off-by: Lukas Kral <lkral@redhat.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "eca52ee89e4e8f7c4bca16c6e4596f167636ed60", "author": {"user": null}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/eca52ee89e4e8f7c4bca16c6e4596f167636ed60", "committedDate": "2020-02-04T13:22:05Z", "message": "Remove external listeners from tests where are not needed\n\nSigned-off-by: Lukas Kral <lkral@redhat.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "abb670bb16957d006955fb1486f0521d0170ba7c", "author": {"user": null}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/abb670bb16957d006955fb1486f0521d0170ba7c", "committedDate": "2020-02-04T13:22:05Z", "message": "Change availabilityTest with new external kafka client's check\n\nSigned-off-by: Lukas Kral <lkral@redhat.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6b084053da5d812a61fe160a8055cc06150ab654", "author": {"user": null}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/6b084053da5d812a61fe160a8055cc06150ab654", "committedDate": "2020-02-04T13:22:05Z", "message": "KafkaST: Remove external listeners from tests where are not needed\n\nSigned-off-by: Lukas Kral <lkral@redhat.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "537ce68495a84dd390bde9a3086996323c8ca213", "author": {"user": null}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/537ce68495a84dd390bde9a3086996323c8ca213", "committedDate": "2020-02-04T13:22:37Z", "message": "ConnectS2IST: Remove externalListener from test\n\nSigned-off-by: Lukas Kral <lkral@redhat.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5418330972be474787bcc88c07c1e06cd101155d", "author": {"user": null}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/5418330972be474787bcc88c07c1e06cd101155d", "committedDate": "2020-02-04T13:23:07Z", "message": "KafkaST, AllNamespaceST and ConnectS2IST: Remove external listeners\n\nSigned-off-by: Lukas Kral <lkral@redhat.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b6e90f4f533456b2093f8c0b933fa9050325635e", "author": {"user": null}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/b6e90f4f533456b2093f8c0b933fa9050325635e", "committedDate": "2020-02-04T13:23:07Z", "message": "AllNamespaceST: Remove external listeners\n\nSigned-off-by: Lukas Kral <lkral@redhat.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b87815d84efb20f07ad5250d96930629d804a3d8", "author": {"user": null}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/b87815d84efb20f07ad5250d96930629d804a3d8", "committedDate": "2020-02-04T13:23:07Z", "message": "AllNamespaceST: Add wait for KafkaUser creation and update deploy of clients\n\nSigned-off-by: Lukas Kral <lkral@redhat.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4d235d2769cf9a765355e6f0da1abbf19485663b", "author": {"user": null}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/4d235d2769cf9a765355e6f0da1abbf19485663b", "committedDate": "2020-02-04T13:23:07Z", "message": "ConnectS2IST: Update deploy of kafka clients\n\nSigned-off-by: Lukas Kral <lkral@redhat.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7290ba75590bafa114936643aab76a13b2ce892c", "author": {"user": null}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/7290ba75590bafa114936643aab76a13b2ce892c", "committedDate": "2020-02-04T13:24:09Z", "message": "RollingUpdateST: Remove external listeners\n\nSigned-off-by: Lukas Kral <lkral@redhat.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "93d346f80c02144567ffed32348f8d63fd8e6928", "author": {"user": null}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/93d346f80c02144567ffed32348f8d63fd8e6928", "committedDate": "2020-02-04T13:24:09Z", "message": "KafkaST: Remove external listeners and fix tests\n\nSigned-off-by: Lukas Kral <lkral@redhat.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b215acb610acc0cbfb6d15492e10f222c10c08a3", "author": {"user": null}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/b215acb610acc0cbfb6d15492e10f222c10c08a3", "committedDate": "2020-02-04T13:24:09Z", "message": "Renaming all externalKafkaClient methods to internalKafkaClient after refactor\n\nSigned-off-by: Lukas Kral <lkral@redhat.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f3cd8dca72687fe2e243d479bdc7b5f1f32148ac", "author": {"user": null}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/f3cd8dca72687fe2e243d479bdc7b5f1f32148ac", "committedDate": "2020-02-04T13:17:30Z", "message": "Fix tests after refactor\n\nSigned-off-by: Lukas Kral <lkral@redhat.com>"}, "afterCommit": {"oid": "750f165236f721a50aa258f846bebb5d3613b875", "author": {"user": null}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/750f165236f721a50aa258f846bebb5d3613b875", "committedDate": "2020-02-04T13:24:43Z", "message": "Fix tests after refactor\n\nSigned-off-by: Lukas Kral <lkral@redhat.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUyOTg0ODQ4", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2446#pullrequestreview-352984848", "createdAt": "2020-02-04T13:46:58Z", "commit": {"oid": "750f165236f721a50aa258f846bebb5d3613b875"}, "state": "COMMENTED", "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQxMzo0Njo1OVrOFlUiZg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQxMzo0ODozNVrOFlUlvA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDY3ODExOA==", "bodyText": "same as above", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2446#discussion_r374678118", "createdAt": "2020-02-04T13:46:59Z", "author": {"login": "Frawless"}, "path": "systemtest/src/test/java/io/strimzi/systemtest/KafkaST.java", "diffHunk": "@@ -771,7 +773,7 @@ void testForTopicOperator() throws InterruptedException {\n         KafkaUtils.waitUntilKafkaCRIsReady(CLUSTER_NAME);\n \n         assertThat(KafkaCmdClient.describeTopicUsingPodCli(CLUSTER_NAME, 0, \"topic-from-cli\"),\n-                hasItems(\"PartitionCount:2\"));\n+                hasItems(\"PartitionCount:\", \"2\"));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "750f165236f721a50aa258f846bebb5d3613b875"}, "originalPosition": 45}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDY3ODE1NQ==", "bodyText": "You should check only for one item PartitionsCount:2, I removed the whitespace in one of my recent PRs so it should work now.", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2446#discussion_r374678155", "createdAt": "2020-02-04T13:47:03Z", "author": {"login": "Frawless"}, "path": "systemtest/src/test/java/io/strimzi/systemtest/KafkaST.java", "diffHunk": "@@ -757,7 +759,7 @@ void testForTopicOperator() throws InterruptedException {\n         KafkaUtils.waitUntilKafkaCRIsReady(CLUSTER_NAME);\n \n         assertThat(KafkaCmdClient.describeTopicUsingPodCli(CLUSTER_NAME, 0, \"my-topic\"),\n-                hasItems(\"PartitionCount:2\"));\n+                hasItems(\"PartitionCount:\", \"2\"));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "750f165236f721a50aa258f846bebb5d3613b875"}, "originalPosition": 36}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDY3ODYwNA==", "bodyText": "Are you sure this is sufficient ? I think we can hit there race-condition where pods will be in terminating, same for PVC but Kafka CR will be deleted.", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2446#discussion_r374678604", "createdAt": "2020-02-04T13:47:54Z", "author": {"login": "Frawless"}, "path": "systemtest/src/test/java/io/strimzi/systemtest/KafkaST.java", "diffHunk": "@@ -1169,7 +1171,7 @@ void testKafkaJBODDeleteClaimsTrueFalse() {\n         // kafka cluster already deployed\n         verifyVolumeNamesAndLabels(2, 2, 10);\n         LOGGER.info(\"Deleting cluster\");\n-        cmdKubeClient().deleteByName(\"kafka\", CLUSTER_NAME).waitForResourceDeletion(\"pod\", KafkaResources.kafkaPodName(CLUSTER_NAME, 0));\n+        cmdKubeClient().deleteByName(\"kafka\", CLUSTER_NAME).waitForResourceDeletion(\"Kafka\", CLUSTER_NAME);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "750f165236f721a50aa258f846bebb5d3613b875"}, "originalPosition": 54}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDY3ODg3Mg==", "bodyText": "You can use CLUSTER_NAME instead of my-cluster", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2446#discussion_r374678872", "createdAt": "2020-02-04T13:48:25Z", "author": {"login": "Frawless"}, "path": "systemtest/src/test/java/io/strimzi/systemtest/KafkaST.java", "diffHunk": "@@ -1645,22 +1652,19 @@ void testUOListeningOnlyUsersInSameCluster() {\n \n     @Test\n     void testMessagesAreStoredInDisk() throws Exception {\n-        KafkaResource.kafkaEphemeral(CLUSTER_NAME, 1, 1)\n-            .editSpec()\n-                .editKafka()\n-                    .editListeners()\n-                        .withNewKafkaListenerExternalNodePort()\n-                            .withTls(false)\n-                        .endKafkaListenerExternalNodePort()\n-                    .endListeners()\n-                .endKafka()\n-            .endSpec()\n-            .done();\n+        KafkaResource.kafkaEphemeral(CLUSTER_NAME, 1, 1).done();\n \n         Map<String, String> kafkaPodsSnapshot = StatefulSetUtils.ssSnapshot(kafkaStatefulSetName(CLUSTER_NAME));\n \n         KafkaTopicResource.topic(CLUSTER_NAME, TEST_TOPIC_NAME, 1, 1).done();\n \n+        KafkaClientsResource.deployKafkaClients(false, CLUSTER_NAME + \"-\" + Constants.KAFKA_CLIENTS).done();\n+\n+        final String kafkaClientsPodName =\n+                ResourceManager.kubeClient().listPodsByPrefixInName(\"my-cluster\" + \"-\" + Constants.KAFKA_CLIENTS).get(0).getMetadata().getName();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "750f165236f721a50aa258f846bebb5d3613b875"}, "originalPosition": 236}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDY3ODk3Mg==", "bodyText": "same as above", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2446#discussion_r374678972", "createdAt": "2020-02-04T13:48:35Z", "author": {"login": "Frawless"}, "path": "systemtest/src/test/java/io/strimzi/systemtest/KafkaST.java", "diffHunk": "@@ -1714,18 +1721,20 @@ void testConsumerOffsetFiles() throws Exception {\n         KafkaResource.kafkaEphemeral(CLUSTER_NAME, 3, 1)\n             .editSpec()\n                 .editKafka()\n-                    .editListeners()\n-                        .withNewKafkaListenerExternalNodePort()\n-                            .withTls(false)\n-                        .endKafkaListenerExternalNodePort()\n-                    .endListeners()\n                     .withConfig(kafkaConfig)\n                 .endKafka()\n             .endSpec()\n             .done();\n \n         KafkaTopicResource.topic(CLUSTER_NAME, TEST_TOPIC_NAME, 3, 1).done();\n \n+        KafkaClientsResource.deployKafkaClients(false, CLUSTER_NAME + \"-\" + Constants.KAFKA_CLIENTS).done();\n+\n+        final String kafkaClientsPodName =\n+                ResourceManager.kubeClient().listPodsByPrefixInName(\"my-cluster\" + \"-\" + Constants.KAFKA_CLIENTS).get(0).getMetadata().getName();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "750f165236f721a50aa258f846bebb5d3613b875"}, "originalPosition": 274}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9051d4a0de0ca360f53669080d87d0de03528739", "author": {"user": null}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/9051d4a0de0ca360f53669080d87d0de03528739", "committedDate": "2020-02-04T13:53:50Z", "message": "Fix tests after refactor\n\nSigned-off-by: Lukas Kral <lkral@redhat.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "750f165236f721a50aa258f846bebb5d3613b875", "author": {"user": null}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/750f165236f721a50aa258f846bebb5d3613b875", "committedDate": "2020-02-04T13:24:43Z", "message": "Fix tests after refactor\n\nSigned-off-by: Lukas Kral <lkral@redhat.com>"}, "afterCommit": {"oid": "9051d4a0de0ca360f53669080d87d0de03528739", "author": {"user": null}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/9051d4a0de0ca360f53669080d87d0de03528739", "committedDate": "2020-02-04T13:53:50Z", "message": "Fix tests after refactor\n\nSigned-off-by: Lukas Kral <lkral@redhat.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUzMDI3NTYx", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2446#pullrequestreview-353027561", "createdAt": "2020-02-04T14:42:05Z", "commit": {"oid": "9051d4a0de0ca360f53669080d87d0de03528739"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1853, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}