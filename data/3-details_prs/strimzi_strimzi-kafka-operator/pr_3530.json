{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDcwNzc0MTU0", "number": 3530, "title": "[jenkins] Add option for specifying env vars for PR jobs", "bodyText": "Signed-off-by: Lukas Kral lukywill16@gmail.com\nType of change\n\nEnhancement / new feature\n\nDescription\nThis PR gonna add option for specifying the env vars used for executing tests. For example when you want to try if your changes are not affected by version of Kafka, you can simply specify the ST_KAFKA_VERSION or you can specify log level of test output to get more information if the test fails.\nNumber of set ENVs are not limited.\nUsage @strimzi-ci run tests ... env=FIRST_ENV=value1,SECOND_ENV=value2\nAlso adding loadbalancer to excluded groups for crc\nChecklist\n\n Make sure all tests pass", "createdAt": "2020-08-20T09:09:08Z", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3530", "merged": true, "mergeCommit": {"oid": "b708dedf4f33932d1623ab9ffb7df647e917aee7"}, "closed": true, "closedAt": "2020-08-23T15:46:36Z", "author": {"login": "im-konge"}, "timelineItems": {"totalCount": 20, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdAstfogBqjM2NzQzNzYxNDk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdBsH65AH2gAyNDcwNzc0MTU0OmE2ZGZjZDU5NTUyYjE4NTUyYTJhNjc3NTc2YTljNmRkMjZiNTA1NTQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "912b4a2f6e7cb7ffc0aeee0a911029635aa861e0", "author": {"user": {"login": "im-konge", "name": "Luk\u00e1\u0161 Kr\u00e1l"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/912b4a2f6e7cb7ffc0aeee0a911029635aa861e0", "committedDate": "2020-08-20T09:04:19Z", "message": "add env var setup option\n\nSigned-off-by: Lukas Kral <lukywill16@gmail.com>"}, "afterCommit": {"oid": "5918da948009896aaa164a0b447cbbf17db16e3c", "author": {"user": {"login": "im-konge", "name": "Luk\u00e1\u0161 Kr\u00e1l"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/5918da948009896aaa164a0b447cbbf17db16e3c", "committedDate": "2020-08-20T09:22:35Z", "message": "add env var setup option\n\nSigned-off-by: Lukas Kral <lukywill16@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ce19f4ad12f2191ea1b98a151a1a07d0e5b5118e", "author": {"user": {"login": "im-konge", "name": "Luk\u00e1\u0161 Kr\u00e1l"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/ce19f4ad12f2191ea1b98a151a1a07d0e5b5118e", "committedDate": "2020-08-20T09:39:45Z", "message": "add env var setup option\n\nSigned-off-by: Lukas Kral <lukywill16@gmail.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5918da948009896aaa164a0b447cbbf17db16e3c", "author": {"user": {"login": "im-konge", "name": "Luk\u00e1\u0161 Kr\u00e1l"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/5918da948009896aaa164a0b447cbbf17db16e3c", "committedDate": "2020-08-20T09:22:35Z", "message": "add env var setup option\n\nSigned-off-by: Lukas Kral <lukywill16@gmail.com>"}, "afterCommit": {"oid": "ce19f4ad12f2191ea1b98a151a1a07d0e5b5118e", "author": {"user": {"login": "im-konge", "name": "Luk\u00e1\u0161 Kr\u00e1l"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/ce19f4ad12f2191ea1b98a151a1a07d0e5b5118e", "committedDate": "2020-08-20T09:39:45Z", "message": "add env var setup option\n\nSigned-off-by: Lukas Kral <lukywill16@gmail.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e144397320fb93d7b4c3aa21caec32b87572219b", "author": {"user": {"login": "im-konge", "name": "Luk\u00e1\u0161 Kr\u00e1l"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/e144397320fb93d7b4c3aa21caec32b87572219b", "committedDate": "2020-08-20T10:00:45Z", "message": "fixup! add env var setup option\n\nSigned-off-by: Lukas Kral <lukywill16@gmail.com>"}, "afterCommit": {"oid": "acc8d757b5cee0c1ff7ebe24c9bdf3ac1d7746ed", "author": {"user": {"login": "im-konge", "name": "Luk\u00e1\u0161 Kr\u00e1l"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/acc8d757b5cee0c1ff7ebe24c9bdf3ac1d7746ed", "committedDate": "2020-08-20T10:24:47Z", "message": "fixup! add env var setup option\n\nSigned-off-by: Lukas Kral <lukywill16@gmail.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "acc8d757b5cee0c1ff7ebe24c9bdf3ac1d7746ed", "author": {"user": {"login": "im-konge", "name": "Luk\u00e1\u0161 Kr\u00e1l"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/acc8d757b5cee0c1ff7ebe24c9bdf3ac1d7746ed", "committedDate": "2020-08-20T10:24:47Z", "message": "fixup! add env var setup option\n\nSigned-off-by: Lukas Kral <lukywill16@gmail.com>"}, "afterCommit": {"oid": "c5e59bf070049096d1477d40cb049b73bbd406f2", "author": {"user": {"login": "im-konge", "name": "Luk\u00e1\u0161 Kr\u00e1l"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/c5e59bf070049096d1477d40cb049b73bbd406f2", "committedDate": "2020-08-20T10:34:33Z", "message": "fixup! add env var setup option\nSigned-off-by: Lukas Kral <lukywill16@gmail.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c5e59bf070049096d1477d40cb049b73bbd406f2", "author": {"user": {"login": "im-konge", "name": "Luk\u00e1\u0161 Kr\u00e1l"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/c5e59bf070049096d1477d40cb049b73bbd406f2", "committedDate": "2020-08-20T10:34:33Z", "message": "fixup! add env var setup option\nSigned-off-by: Lukas Kral <lukywill16@gmail.com>"}, "afterCommit": {"oid": "e1728850d787a3f35cbfe23080e808f681f2b802", "author": {"user": {"login": "im-konge", "name": "Luk\u00e1\u0161 Kr\u00e1l"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/e1728850d787a3f35cbfe23080e808f681f2b802", "committedDate": "2020-08-20T10:36:35Z", "message": "fixup! add env var setup option\nSigned-off-by: Lukas Kral <lukywill16@gmail.com>\n\nSigned-off-by: Lukas Kral <lukywill16@gmail.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e1728850d787a3f35cbfe23080e808f681f2b802", "author": {"user": {"login": "im-konge", "name": "Luk\u00e1\u0161 Kr\u00e1l"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/e1728850d787a3f35cbfe23080e808f681f2b802", "committedDate": "2020-08-20T10:36:35Z", "message": "fixup! add env var setup option\nSigned-off-by: Lukas Kral <lukywill16@gmail.com>\n\nSigned-off-by: Lukas Kral <lukywill16@gmail.com>"}, "afterCommit": {"oid": "1287d8b35a56c7267a2d6a67a91349e3a4f5a597", "author": {"user": {"login": "im-konge", "name": "Luk\u00e1\u0161 Kr\u00e1l"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/1287d8b35a56c7267a2d6a67a91349e3a4f5a597", "committedDate": "2020-08-20T10:46:40Z", "message": "fixup! add env var setup option\nSigned-off-by: Lukas Kral <lukywill16@gmail.com>\n\nSigned-off-by: Lukas Kral <lukywill16@gmail.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1287d8b35a56c7267a2d6a67a91349e3a4f5a597", "author": {"user": {"login": "im-konge", "name": "Luk\u00e1\u0161 Kr\u00e1l"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/1287d8b35a56c7267a2d6a67a91349e3a4f5a597", "committedDate": "2020-08-20T10:46:40Z", "message": "fixup! add env var setup option\nSigned-off-by: Lukas Kral <lukywill16@gmail.com>\n\nSigned-off-by: Lukas Kral <lukywill16@gmail.com>"}, "afterCommit": {"oid": "39d4e3cb109512d59d107701d948dc0814d251a9", "author": {"user": {"login": "im-konge", "name": "Luk\u00e1\u0161 Kr\u00e1l"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/39d4e3cb109512d59d107701d948dc0814d251a9", "committedDate": "2020-08-20T11:00:22Z", "message": "fixup! add env var setup option\nSigned-off-by: Lukas Kral <lukywill16@gmail.com>\n\nSigned-off-by: Lukas Kral <lukywill16@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4594f1a8198946e16789cbca21ed4b667258ff59", "author": {"user": {"login": "im-konge", "name": "Luk\u00e1\u0161 Kr\u00e1l"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/4594f1a8198946e16789cbca21ed4b667258ff59", "committedDate": "2020-08-20T11:16:15Z", "message": "fixup! add env var setup option\nSigned-off-by: Lukas Kral <lukywill16@gmail.com>\n\nSigned-off-by: Lukas Kral <lukywill16@gmail.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "39d4e3cb109512d59d107701d948dc0814d251a9", "author": {"user": {"login": "im-konge", "name": "Luk\u00e1\u0161 Kr\u00e1l"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/39d4e3cb109512d59d107701d948dc0814d251a9", "committedDate": "2020-08-20T11:00:22Z", "message": "fixup! add env var setup option\nSigned-off-by: Lukas Kral <lukywill16@gmail.com>\n\nSigned-off-by: Lukas Kral <lukywill16@gmail.com>"}, "afterCommit": {"oid": "4594f1a8198946e16789cbca21ed4b667258ff59", "author": {"user": {"login": "im-konge", "name": "Luk\u00e1\u0161 Kr\u00e1l"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/4594f1a8198946e16789cbca21ed4b667258ff59", "committedDate": "2020-08-20T11:16:15Z", "message": "fixup! add env var setup option\nSigned-off-by: Lukas Kral <lukywill16@gmail.com>\n\nSigned-off-by: Lukas Kral <lukywill16@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcxNTE1MjUz", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3530#pullrequestreview-471515253", "createdAt": "2020-08-20T11:48:56Z", "commit": {"oid": "4594f1a8198946e16789cbca21ed4b667258ff59"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcxNTE1MzA1", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3530#pullrequestreview-471515305", "createdAt": "2020-08-20T11:49:02Z", "commit": {"oid": "4594f1a8198946e16789cbca21ed4b667258ff59"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "84bd12e589ad8f449c1c7c2d28089a964faa27c2", "author": {"user": {"login": "im-konge", "name": "Luk\u00e1\u0161 Kr\u00e1l"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/84bd12e589ad8f449c1c7c2d28089a964faa27c2", "committedDate": "2020-08-20T12:25:53Z", "message": "add print of env variables at the test results\n\nSigned-off-by: Lukas Kral <lukywill16@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "666261f4097923119f4b48464e97e9416454eea8", "author": {"user": {"login": "im-konge", "name": "Luk\u00e1\u0161 Kr\u00e1l"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/666261f4097923119f4b48464e97e9416454eea8", "committedDate": "2020-08-20T13:36:26Z", "message": "add envs to rerun commands\n\nSigned-off-by: Lukas Kral <lukywill16@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcyMDA0ODMy", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3530#pullrequestreview-472004832", "createdAt": "2020-08-20T21:39:31Z", "commit": {"oid": "666261f4097923119f4b48464e97e9416454eea8"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMFQyMTozOTozMVrOHEUOxQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMFQyMTozOTozMVrOHEUOxQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDI4NzgxMw==", "bodyText": "Is it intended to disable loadbalancers also for ocp4? Wasn't that some AWS infra which supports load balancers?", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3530#discussion_r474287813", "createdAt": "2020-08-20T21:39:31Z", "author": {"login": "scholzj"}, "path": "Jenkinsfile-pr", "diffHunk": "@@ -9,7 +9,7 @@ node('master') {\n         echo \"Github PR comment: ${env.ghprbCommentBody}\"\n         if (env.ghprbCommentBody.contains('crc') || env.ghprbCommentBody.contains('ocp4')) {\n             NODE_LABEL = \"strimzi-crc\"\n-            DEFAULT_EXCLUDED_GROUPS = \"\"\n+            DEFAULT_EXCLUDED_GROUPS = \"loadbalancer\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "666261f4097923119f4b48464e97e9416454eea8"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8ba8d502972288a5986c4e754840e24a8437ba60", "author": {"user": {"login": "im-konge", "name": "Luk\u00e1\u0161 Kr\u00e1l"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/8ba8d502972288a5986c4e754840e24a8437ba60", "committedDate": "2020-08-21T07:49:02Z", "message": "fixup! add envs to rerun commands\n\nSigned-off-by: Lukas Kral <lukywill16@gmail.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ec6390112917aa3337e6435bbd2baab13290d43a", "author": {"user": {"login": "im-konge", "name": "Luk\u00e1\u0161 Kr\u00e1l"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/ec6390112917aa3337e6435bbd2baab13290d43a", "committedDate": "2020-08-21T06:31:36Z", "message": "fixup! add envs to rerun commands\n\nSigned-off-by: Lukas Kral <lukywill16@gmail.com>"}, "afterCommit": {"oid": "8ba8d502972288a5986c4e754840e24a8437ba60", "author": {"user": {"login": "im-konge", "name": "Luk\u00e1\u0161 Kr\u00e1l"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/8ba8d502972288a5986c4e754840e24a8437ba60", "committedDate": "2020-08-21T07:49:02Z", "message": "fixup! add envs to rerun commands\n\nSigned-off-by: Lukas Kral <lukywill16@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcyMjkxNzYx", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3530#pullrequestreview-472291761", "createdAt": "2020-08-21T08:12:16Z", "commit": {"oid": "8ba8d502972288a5986c4e754840e24a8437ba60"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcyMzE1NTg3", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3530#pullrequestreview-472315587", "createdAt": "2020-08-21T08:49:01Z", "commit": {"oid": "8ba8d502972288a5986c4e754840e24a8437ba60"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a6dfcd59552b18552a2a677576a9c6dd26b50554", "author": {"user": {"login": "im-konge", "name": "Luk\u00e1\u0161 Kr\u00e1l"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/a6dfcd59552b18552a2a677576a9c6dd26b50554", "committedDate": "2020-08-23T11:15:38Z", "message": "change the way how to print failed tests\n\nSigned-off-by: Lukas Kral <lukywill16@gmail.com>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1183, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}