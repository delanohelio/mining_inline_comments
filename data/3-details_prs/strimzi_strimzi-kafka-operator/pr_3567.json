{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc1OTAwOTQx", "number": 3567, "title": "feat: Move probe builders to ProbeGenerator class", "bodyText": "Probe builders for now belong in abstractmodel\nThis will allow for non static referencing in future\nchanges.\nModelUtils whilst useful is an antipattern that encourages\nlarge code groupings.\nSigned-off-by: Samuel Hawker samuel.hawker@ibm.com\nType of change\nSelect the type of your PR\n\nBugfix\nEnhancement / new feature\nRefactoring\nDocumentation\n\nDescription\nPlease describe your pull request\nChecklist\nPlease go through this checklist and make sure all applicable tasks have been done\n\n Write tests\n Make sure all tests pass\n Update documentation\n Check RBAC rights for Kubernetes / OpenShift roles\n Try your changes from Pod inside your Kubernetes and OpenShift cluster, not just locally\n Reference relevant issue(s) and close them after merging\n Update CHANGELOG.md\n Supply screenshots for visual changes, such as Grafana dashboards", "createdAt": "2020-08-30T11:50:42Z", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3567", "merged": true, "mergeCommit": {"oid": "ac0a9af36b13355e97fd407b9e1a9e0a7c39b030"}, "closed": true, "closedAt": "2020-09-02T18:27:55Z", "author": {"login": "samuel-hawker"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdD8yxTAH2gAyNDc1OTAwOTQxOjM5MWZjYmYyNTRiYjY4N2JlNmIwZDAwZWIxMzhkMTc5YjVkYTMzYjI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdE5zlgAFqTQ4MDcwNDI2NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "391fcbf254bb687be6b0d00eb138d179b5da33b2", "author": {"user": {"login": "samuel-hawker", "name": "Samuel Hawker"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/391fcbf254bb687be6b0d00eb138d179b5da33b2", "committedDate": "2020-08-30T11:48:46Z", "message": "feat: Move probe builders to abstractmodel\n\nProbe builders for now belong in abstractmodel\nThis will allow for non static referencing in future\nchanges.\nModelUtils whilst useful is an antipattern that encourages\nlarge code groupings.\n\nSigned-off-by: Samuel Hawker <samuel.hawker@ibm.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "38237d0303b49bd785807bb7b3029570bab2fa7a", "author": {"user": {"login": "samuel-hawker", "name": "Samuel Hawker"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/38237d0303b49bd785807bb7b3029570bab2fa7a", "committedDate": "2020-08-30T16:32:59Z", "message": "feat: ProbeGenerator class\n\nFrom review comments, move logic to new independent class\nwith static constructor method and varying generator methods\nfor repeated calls if necessary.\n\nSigned-off-by: Samuel Hawker <samuel.hawker@ibm.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4a8aef63c8c97c0e611624994bc110847ae7f571", "author": {"user": {"login": "samuel-hawker", "name": "Samuel Hawker"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/4a8aef63c8c97c0e611624994bc110847ae7f571", "committedDate": "2020-08-31T13:09:27Z", "message": "feat: Re-add static probe creation\n\nThe builders are now part of the underlying implementation\nstatic creators have now been added as a short hand for\nbuilding each of the probe types\n+ added tests\n\nSigned-off-by: Samuel Hawker <samuel.hawker@ibm.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "20a49fad3b3b4c1f2a4e353a4ddd66d401dfd285", "author": {"user": {"login": "samuel-hawker", "name": "Samuel Hawker"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/20a49fad3b3b4c1f2a4e353a4ddd66d401dfd285", "committedDate": "2020-08-31T13:18:07Z", "message": "Merge branch 'master' into move-probe-builders-to-abstractmodel"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc4OTM1NjM1", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3567#pullrequestreview-478935635", "createdAt": "2020-08-31T20:35:46Z", "commit": {"oid": "20a49fad3b3b4c1f2a4e353a4ddd66d401dfd285"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQyMDozNTo0NlrOHKIVXg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQyMDozNTo0NlrOHKIVXg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDM4NDM1MA==", "bodyText": "This is really what my concern with regards to the memory was. If you are sure it has no impact I'm fine. I admit that  I have no clue how things like memory work in Java or any other language :-o.", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3567#discussion_r480384350", "createdAt": "2020-08-31T20:35:46Z", "author": {"login": "scholzj"}, "path": "cluster-operator/src/main/java/io/strimzi/operator/cluster/model/ProbeGenerator.java", "diffHunk": "@@ -0,0 +1,105 @@\n+/*\n+ * Copyright Strimzi authors.\n+ * License: Apache License 2.0 (see the file LICENSE or http://apache.org/licenses/LICENSE-2.0.html).\n+ */\n+package io.strimzi.operator.cluster.model;\n+\n+import io.fabric8.kubernetes.api.model.ProbeBuilder;\n+import io.strimzi.api.kafka.model.Probe;\n+import io.strimzi.api.kafka.model.TlsSidecar;\n+\n+import java.util.Arrays;\n+import java.util.List;\n+\n+public class ProbeGenerator {\n+\n+    private final Probe probeConfig;\n+\n+    private ProbeGenerator(Probe probeConfig) {\n+        this.probeConfig = probeConfig;\n+    }\n+\n+    public static ProbeGenerator of(Probe probeConfig) {\n+        if (probeConfig == null) {\n+            throw new IllegalArgumentException();\n+        }\n+        return new ProbeGenerator(probeConfig);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "20a49fad3b3b4c1f2a4e353a4ddd66d401dfd285"}, "originalPosition": 26}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b2b288904f03729da6da4160a6e5ce5d9f0f95c4", "author": {"user": {"login": "samuel-hawker", "name": "Samuel Hawker"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/b2b288904f03729da6da4160a6e5ce5d9f0f95c4", "committedDate": "2020-09-02T08:47:25Z", "message": "chore: Remove field and constructor\n\nRemoved as never useful\n\nSigned-off-by: Samuel Hawker <samuel.hawker@ibm.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e0ba1020c2a18d209f64651eab7cf29ecdc8b11a", "author": {"user": {"login": "samuel-hawker", "name": "Samuel Hawker"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/e0ba1020c2a18d209f64651eab7cf29ecdc8b11a", "committedDate": "2020-09-02T08:48:53Z", "message": "Merge branch 'move-probe-builders-to-abstractmodel' of https://github.com/samuel-hawker/strimzi-kafka-operator into move-probe-builders-to-abstractmodel"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgwNzA0MjY0", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3567#pullrequestreview-480704264", "createdAt": "2020-09-02T10:53:52Z", "commit": {"oid": "e0ba1020c2a18d209f64651eab7cf29ecdc8b11a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 906, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}