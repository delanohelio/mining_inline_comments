{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkyNTAxNjg3", "number": 2742, "title": "Revert back to use PEM for the CA truststore for admin client", "bodyText": "Signed-off-by: Paolo Patierno ppatierno@live.com\nType of change\n\nBugfix\n\nDescription\nThe current use of the P12 for the cluster CA during the AdminClient creation is a breaking change because users could use a custom CA cert into a Secret not containing such a P12 (+ password) keystore.\nThis PR addresses this reverting back the usage of the PEM file from the Secret and then creating the needed P12 truststore \"on fly\".\nChecklist\nPlease go through this checklist and make sure all applicable tasks have been done\n\n Update/write design documentation in ./design\n Write tests\n Make sure all tests pass\n Update documentation\n Check RBAC rights for Kubernetes / OpenShift roles\n Try your changes from Pod inside your Kubernetes and OpenShift cluster, not just locally\n Reference relevant issue(s) and close them after merging\n Update CHANGELOG.md", "createdAt": "2020-03-23T16:45:14Z", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2742", "merged": true, "mergeCommit": {"oid": "5e4959090126ec30e6defacbd84ac4013823e7fa"}, "closed": true, "closedAt": "2020-03-24T07:07:33Z", "author": {"login": "ppatierno"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcQhGVBgH2gAyMzkyNTAxNjg3OjFjNzI2ZWZkN2Y2NWQ3ZjJmNjc5MWU4N2VkNjAyMzI5MzNiMzhjN2I=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcQsoJugH2gAyMzkyNTAxNjg3OjdjNWY2ODA3MjlhNGIzODY3ODAwNWY1ZGEzZWY2ZDU2NmMyZjJiNGM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "1c726efd7f65d7f2f6791e87ed60232933b38c7b", "author": {"user": {"login": "ppatierno", "name": "Paolo Patierno"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/1c726efd7f65d7f2f6791e87ed60232933b38c7b", "committedDate": "2020-03-23T16:42:39Z", "message": "Revert back to use PEM for the CA truststore for admin client\n\nSigned-off-by: Paolo Patierno <ppatierno@live.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8f7217d8da58c8d7629b1a515caeb1452d5cefb0", "author": {"user": {"login": "ppatierno", "name": "Paolo Patierno"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/8f7217d8da58c8d7629b1a515caeb1452d5cefb0", "committedDate": "2020-03-23T17:38:48Z", "message": "Fixed spotbugs factoring out a storing method\n\nSigned-off-by: Paolo Patierno <ppatierno@live.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc5ODU1NjY1", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2742#pullrequestreview-379855665", "createdAt": "2020-03-23T22:03:13Z", "commit": {"oid": "8f7217d8da58c8d7629b1a515caeb1452d5cefb0"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yM1QyMjowMzoxM1rOF6Zw0g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yM1QyMjowMzoxM1rOF6Zw0g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Njc4MzgyNg==", "bodyText": "Could this line be next to the line where the password is generated? It will be a bit more readable.", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2742#discussion_r396783826", "createdAt": "2020-03-23T22:03:13Z", "author": {"login": "scholzj"}, "path": "operator-common/src/main/java/io/strimzi/operator/common/DefaultAdminClientProvider.java", "diffHunk": "@@ -22,10 +22,10 @@\n \n     @Override\n     public Admin createAdminClient(String hostname, Secret clusterCaCertSecret, Secret keyCertSecret, String keyCertName) {\n-\n+        PasswordGenerator pg = new PasswordGenerator(12);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8f7217d8da58c8d7629b1a515caeb1452d5cefb0"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7c5f680729a4b38678005f5da3ef6d566c2f2b4c", "author": {"user": {"login": "ppatierno", "name": "Paolo Patierno"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/7c5f680729a4b38678005f5da3ef6d566c2f2b4c", "committedDate": "2020-03-24T06:08:33Z", "message": "Fixed comments\n\nSigned-off-by: Paolo Patierno <ppatierno@live.com>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2124, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}