{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM4MTg5ODUy", "number": 4098, "title": "Replace oc cluster up with minikube for PR jenkins jobs", "bodyText": "Signed-off-by: Jakub Stejskal xstejs24@gmail.com\nType of change\n\nEnhancement / new feature\n\nDescription\nSince we are going to drop support for kube version < 1.15.0, we have to replace oc cluster up with something different.\nThis PR removes oc cluster up from PR jobs and run instead of it minikube. Users can specify kube version via kube_version=1.19.0 string in the triggering comment. The default value is still 1.15.0, for azure and jenkins as well.\nI left in code a few comments on how to allow NP and how to deal with issues caused by it. I would leave it for another PR when #4092 will be merged.\nChecklist\n\n Make sure all tests pass\n Update documentation", "createdAt": "2020-12-12T14:09:37Z", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/4098", "merged": true, "mergeCommit": {"oid": "27d10154b75cb43ae2be0f758dc23505b64eab16"}, "closed": true, "closedAt": "2020-12-16T19:57:50Z", "author": {"login": "Frawless"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdldIQhAH2gAyNTM4MTg5ODUyOmFmNGU3ZDEyZmQ5NmM4OGNjNTRjOTNhNzg2ZmMwZGU2ZWYzMjdjOTM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdmwwGGAFqTU1MzgwNzQ0NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "af4e7d12fd96c88cc54c93a786fc0de6ef327c93", "author": {"user": {"login": "Frawless", "name": "Jakub Stejskal"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/af4e7d12fd96c88cc54c93a786fc0de6ef327c93", "committedDate": "2020-12-12T14:08:42Z", "message": "Replace oc cluster up with minikube\n\nSigned-off-by: Jakub Stejskal <xstejs24@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "924f94f21500c10c0af2cdaf73f9f92cd5008131", "author": {"user": {"login": "Frawless", "name": "Jakub Stejskal"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/924f94f21500c10c0af2cdaf73f9f92cd5008131", "committedDate": "2020-12-12T14:22:00Z", "message": "fixup! Replace oc cluster up with minikube\n\nSigned-off-by: Jakub Stejskal <xstejs24@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "176671d89076c06820133f079198f81361b376e8", "author": {"user": {"login": "Frawless", "name": "Jakub Stejskal"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/176671d89076c06820133f079198f81361b376e8", "committedDate": "2020-12-12T14:27:33Z", "message": "fixup! fixup! Replace oc cluster up with minikube\n\nSigned-off-by: Jakub Stejskal <xstejs24@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "21455f00a001e8abba2f9fb699e3c1867f91a370", "author": {"user": {"login": "Frawless", "name": "Jakub Stejskal"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/21455f00a001e8abba2f9fb699e3c1867f91a370", "committedDate": "2020-12-12T14:33:57Z", "message": "fixup! fixup! fixup! Replace oc cluster up with minikube\n\nSigned-off-by: Jakub Stejskal <xstejs24@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a1bc9d1c6f541d85589cde7db2cc186406aaefb1", "author": {"user": {"login": "Frawless", "name": "Jakub Stejskal"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/a1bc9d1c6f541d85589cde7db2cc186406aaefb1", "committedDate": "2020-12-12T14:49:08Z", "message": "fixup! fixup! fixup! fixup! Replace oc cluster up with minikube\n\nSigned-off-by: Jakub Stejskal <xstejs24@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "34a4966bf1d91a634f8b4210fe2564c2f2f819b4", "author": {"user": {"login": "Frawless", "name": "Jakub Stejskal"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/34a4966bf1d91a634f8b4210fe2564c2f2f819b4", "committedDate": "2020-12-13T00:07:02Z", "message": "Set RBAC for all kube versions\n\nSigned-off-by: Jakub Stejskal <xstejs24@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e02a3653b6be4d2f180f8fd564399fd725851ca0", "author": {"user": {"login": "Frawless", "name": "Jakub Stejskal"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/e02a3653b6be4d2f180f8fd564399fd725851ca0", "committedDate": "2020-12-13T21:34:18Z", "message": "Allow network policy on minikube\n\nSigned-off-by: Jakub Stejskal <xstejs24@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cf4648f38771a8725d318ce0d15303f3be617264", "author": {"user": {"login": "Frawless", "name": "Jakub Stejskal"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/cf4648f38771a8725d318ce0d15303f3be617264", "committedDate": "2020-12-15T11:25:07Z", "message": "Revert changes for NP\n\nSigned-off-by: Jakub Stejskal <xstejs24@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b9304764dd36c97a69396a389e509803baf3f982", "author": {"user": {"login": "Frawless", "name": "Jakub Stejskal"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/b9304764dd36c97a69396a389e509803baf3f982", "committedDate": "2020-12-16T06:04:26Z", "message": "Set default version properly\n\nSigned-off-by: Jakub Stejskal <xstejs24@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUzNzU4NTcx", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/4098#pullrequestreview-553758571", "createdAt": "2020-12-16T14:48:06Z", "commit": {"oid": "b9304764dd36c97a69396a389e509803baf3f982"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNlQxNDo0ODowN1rOIHI76w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNlQxNDo0ODowN1rOIHI76w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDM1NzM1NQ==", "bodyText": "1.16.0?", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/4098#discussion_r544357355", "createdAt": "2020-12-16T14:48:07Z", "author": {"login": "scholzj"}, "path": "systemtest/scripts/results_info.sh", "diffHunk": "@@ -4,7 +4,7 @@ RESULTS_PATH=${1}\n TEST_CASE=${2}\n TEST_PROFILE=${3}\n BUILD_ID=${4:-0}\n-OCP_VERSION=${5:-3}\n+KUBE_VERSION=${5:-1.15.0}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b9304764dd36c97a69396a389e509803baf3f982"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a979a3223dc5dbec7d607b8eee00970ecc495ffe", "author": {"user": {"login": "Frawless", "name": "Jakub Stejskal"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/a979a3223dc5dbec7d607b8eee00970ecc495ffe", "committedDate": "2020-12-16T15:05:28Z", "message": "Set default versiopn fo result reporting from PR job to github\n\nSigned-off-by: Jakub Stejskal <xstejs24@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUzODA3NDQ0", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/4098#pullrequestreview-553807444", "createdAt": "2020-12-16T15:34:20Z", "commit": {"oid": "a979a3223dc5dbec7d607b8eee00970ecc495ffe"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 745, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}