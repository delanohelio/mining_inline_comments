{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE3MjIzMzEy", "number": 3004, "title": "ST: Remove flakyness from metricsST", "bodyText": "Type of change\n\nBugfix\n\nDescription\nThis PR remove flakiness from MetricsST. Metrics from Operators are now collected during the test, not before all, which from time to time caused that metrics weren't completed. I also set topic names properly.\nChecklist\n\n Make sure all tests pass", "createdAt": "2020-05-13T09:04:04Z", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3004", "merged": true, "mergeCommit": {"oid": "3776033b2f069527742764ba6e99401b41891691"}, "closed": true, "closedAt": "2020-05-14T11:23:46Z", "author": {"login": "Frawless"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcg1CxHgH2gAyNDE3MjIzMzEyOjhlMjg4NDYzNjYyZTRmMWNkZmMyMmE0MTU5NDlhMjUwYWZlYzJlYWI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcg2dGXgFqTQxMDc5ODAzOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "8e288463662e4f1cdfc22a415949a250afec2eab", "author": {"user": {"login": "Frawless", "name": "Jakub Stejskal"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/8e288463662e4f1cdfc22a415949a250afec2eab", "committedDate": "2020-05-13T08:59:39Z", "message": "Remove flakynes from metricsST\n\nSigned-off-by: Jakub Stejskal <xstejs24@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEwNzQxNTY0", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3004#pullrequestreview-410741564", "createdAt": "2020-05-13T09:19:30Z", "commit": {"oid": "8e288463662e4f1cdfc22a415949a250afec2eab"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEwNzk4MDM4", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3004#pullrequestreview-410798038", "createdAt": "2020-05-13T10:35:59Z", "commit": {"oid": "8e288463662e4f1cdfc22a415949a250afec2eab"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QxMDozNTo1OVrOGUrnHA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QxMDozNTo1OVrOGUrnHA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDMzOTIyOA==", "bodyText": "I already fixed this in my PR - by different way. But I think it will be better to have it all on one place", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3004#discussion_r424339228", "createdAt": "2020-05-13T10:35:59Z", "author": {"login": "im-konge"}, "path": "systemtest/src/test/java/io/strimzi/systemtest/metrics/MetricsST.java", "diffHunk": "@@ -167,7 +166,7 @@ void testKafkaExporterDataAfterExchange() {\n             assertThat(\"Value from collected metric should be non-empty\", !value.isEmpty());\n             assertThat(\"Metrics doesn't contain specific values\", value.contains(\"kafka_consumergroup_current_offset\"));\n             assertThat(\"Metrics doesn't contain specific values\", value.contains(\"kafka_consumergroup_lag\"));\n-            assertThat(\"Metrics doesn't contain specific values\", value.contains(\"kafka_topic_partitions{topic=\\\"\" + TEST_TOPIC_NAME + \"\\\"} 7\"));\n+            assertThat(\"Metrics doesn't contain specific values\", value.contains(\"kafka_topic_partitions{topic=\\\"\" + TOPIC_NAME + \"\\\"} 7\"));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8e288463662e4f1cdfc22a415949a250afec2eab"}, "originalPosition": 22}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1696, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}