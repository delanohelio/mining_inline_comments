{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU0OTg4MDU2", "number": 3361, "title": "[systemtest] Change timeouts in resource classes and delete unused constants", "bodyText": "Type of change\n\nRefactoring\n\nDescription\nIn this PR I'm gonna change timeouts in resource classes, as I forgot to change it in previous PR. Other than that I removed unused constants, as we want to use ResourceOperation methods to determine the right timeout for each resource.\nAlso I added fix for logCurrentResourceStatus -> the NPE appeared at some tests if the CR wasn't created and the T customResource was empty (null). The problem is that we don't see that test failed on resource creation (timeout), but on this NPE. I think this will make it clearer.\nChecklist\n\n Make sure all tests pass", "createdAt": "2020-07-22T09:15:14Z", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3361", "merged": true, "mergeCommit": {"oid": "6ddb175cbea6b9538c70a04bc006739a266e3514"}, "closed": true, "closedAt": "2020-07-23T18:26:29Z", "author": {"login": "im-konge"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc3YFu5ABqjM1NzUwODg2NjI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc3yCwjgH2gAyNDU0OTg4MDU2OmU0ZjI3YWQ1ODQ2MTY5M2JhYjI2ZmIxMWRlNzU4YTUwMWZhNGYyNjU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "cc52ccccf6bb8f6fa83372b14650831569d62963", "author": {"user": {"login": "im-konge", "name": "Luk\u00e1\u0161 Kr\u00e1l"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/cc52ccccf6bb8f6fa83372b14650831569d62963", "committedDate": "2020-07-22T09:23:52Z", "message": "fix logCurrentResourceStatus\n\nSigned-off-by: Lukas Kral <lukywill16@gmail.com>"}, "afterCommit": {"oid": "d5f77bd15deb9cf88abc69ec1d20f1af49a8ca7e", "author": {"user": {"login": "im-konge", "name": "Luk\u00e1\u0161 Kr\u00e1l"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/d5f77bd15deb9cf88abc69ec1d20f1af49a8ca7e", "committedDate": "2020-07-22T10:15:43Z", "message": "fix logCurrentResourceStatus\n\nSigned-off-by: Lukas Kral <lukywill16@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "445c201a27d91a250f40f4541d76057a3c37621f", "author": {"user": {"login": "im-konge", "name": "Luk\u00e1\u0161 Kr\u00e1l"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/445c201a27d91a250f40f4541d76057a3c37621f", "committedDate": "2020-07-22T13:36:30Z", "message": "add timeouts for forgotten methods and remove unused constants\n\nSigned-off-by: Lukas Kral <lukywill16@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8e4849d3f4c31ab32672b2c35dd0cd726794bd16", "author": {"user": {"login": "im-konge", "name": "Luk\u00e1\u0161 Kr\u00e1l"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/8e4849d3f4c31ab32672b2c35dd0cd726794bd16", "committedDate": "2020-07-22T13:36:30Z", "message": "fix logCurrentResourceStatus\n\nSigned-off-by: Lukas Kral <lukywill16@gmail.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d5f77bd15deb9cf88abc69ec1d20f1af49a8ca7e", "author": {"user": {"login": "im-konge", "name": "Luk\u00e1\u0161 Kr\u00e1l"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/d5f77bd15deb9cf88abc69ec1d20f1af49a8ca7e", "committedDate": "2020-07-22T10:15:43Z", "message": "fix logCurrentResourceStatus\n\nSigned-off-by: Lukas Kral <lukywill16@gmail.com>"}, "afterCommit": {"oid": "8e4849d3f4c31ab32672b2c35dd0cd726794bd16", "author": {"user": {"login": "im-konge", "name": "Luk\u00e1\u0161 Kr\u00e1l"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/8e4849d3f4c31ab32672b2c35dd0cd726794bd16", "committedDate": "2020-07-22T13:36:30Z", "message": "fix logCurrentResourceStatus\n\nSigned-off-by: Lukas Kral <lukywill16@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "40a47a69b6239a47e07290f8cebd62ff3f3f4da7", "author": {"user": {"login": "im-konge", "name": "Luk\u00e1\u0161 Kr\u00e1l"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/40a47a69b6239a47e07290f8cebd62ff3f3f4da7", "committedDate": "2020-07-22T13:41:05Z", "message": "fixup! fix logCurrentResourceStatus\n\nSigned-off-by: Lukas Kral <lukywill16@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU0MTMwNDU2", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3361#pullrequestreview-454130456", "createdAt": "2020-07-23T13:29:09Z", "commit": {"oid": "40a47a69b6239a47e07290f8cebd62ff3f3f4da7"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU0MTQ4NjE0", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3361#pullrequestreview-454148614", "createdAt": "2020-07-23T13:49:13Z", "commit": {"oid": "40a47a69b6239a47e07290f8cebd62ff3f3f4da7"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU0MjcxNjE4", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3361#pullrequestreview-454271618", "createdAt": "2020-07-23T15:50:46Z", "commit": {"oid": "40a47a69b6239a47e07290f8cebd62ff3f3f4da7"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QxNTo1MDo0N1rOG2Q1iw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QxNTo1MjoyNVrOG2Q5ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTU1MjEzOQ==", "bodyText": "Why this change ? :) 2 minutes were not enough?", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3361#discussion_r459552139", "createdAt": "2020-07-23T15:50:47Z", "author": {"login": "see-quick"}, "path": "systemtest/src/main/java/io/strimzi/systemtest/resources/ResourceOperation.java", "diffHunk": "@@ -42,7 +46,7 @@ public static long getTimeoutForResourceReadiness(String kind) {\n                 timeout = Duration.ofMinutes(4).toMillis();\n                 break;\n             default:\n-                timeout = Duration.ofMinutes(2).toMillis();\n+                timeout = Duration.ofMinutes(3).toMillis();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "40a47a69b6239a47e07290f8cebd62ff3f3f4da7"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTU1MzE4Mg==", "bodyText": "Are you using this instance variable only inside deployKafkaMirrorMaker method?", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3361#discussion_r459553182", "createdAt": "2020-07-23T15:52:25Z", "author": {"login": "see-quick"}, "path": "systemtest/src/main/java/io/strimzi/systemtest/resources/crd/KafkaMirrorMakerResource.java", "diffHunk": "@@ -24,6 +25,7 @@\n \n public class KafkaMirrorMakerResource {\n     public static final String PATH_TO_KAFKA_MIRROR_MAKER_CONFIG = \"../examples/mirror-maker/kafka-mirror-maker.yaml\";\n+    private static final long READINESS_TIMEOUT = ResourceOperation.getTimeoutForResourceReadiness();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "40a47a69b6239a47e07290f8cebd62ff3f3f4da7"}, "originalPosition": 12}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU0Mjk2MTIw", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3361#pullrequestreview-454296120", "createdAt": "2020-07-23T16:19:50Z", "commit": {"oid": "40a47a69b6239a47e07290f8cebd62ff3f3f4da7"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f635b748d142aa74f6b0452485c7d58e1f93058e", "author": {"user": {"login": "im-konge", "name": "Luk\u00e1\u0161 Kr\u00e1l"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/f635b748d142aa74f6b0452485c7d58e1f93058e", "committedDate": "2020-07-23T16:28:34Z", "message": "review comments\n\nSigned-off-by: Lukas Kral <lukywill16@gmail.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7c37ed269267febe1a9ad3d814793cff55abbeb8", "author": {"user": {"login": "im-konge", "name": "Luk\u00e1\u0161 Kr\u00e1l"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/7c37ed269267febe1a9ad3d814793cff55abbeb8", "committedDate": "2020-07-23T16:23:05Z", "message": "review comments\n\nSigned-off-by: Lukas Kral <lukywill16@gmail.com>"}, "afterCommit": {"oid": "f635b748d142aa74f6b0452485c7d58e1f93058e", "author": {"user": {"login": "im-konge", "name": "Luk\u00e1\u0161 Kr\u00e1l"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/f635b748d142aa74f6b0452485c7d58e1f93058e", "committedDate": "2020-07-23T16:28:34Z", "message": "review comments\n\nSigned-off-by: Lukas Kral <lukywill16@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e4f27ad58461693bab26fb11de758a501fa4f265", "author": {"user": {"login": "im-konge", "name": "Luk\u00e1\u0161 Kr\u00e1l"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/e4f27ad58461693bab26fb11de758a501fa4f265", "committedDate": "2020-07-23T16:30:11Z", "message": "fixup! review comments\n\nSigned-off-by: Lukas Kral <lukywill16@gmail.com>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1359, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}