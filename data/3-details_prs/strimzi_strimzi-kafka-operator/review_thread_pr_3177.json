{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMxNzcyNDI3", "number": 3177, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQxNToyNzo1MFrOEFGYiQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQxNToyNzo1MFrOEFGYiQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjczNzgyOTIxOnYy", "diffSide": "RIGHT", "path": "systemtest/src/test/java/io/strimzi/systemtest/upgrade/StrimziUpgradeST.java", "isResolved": true, "comments": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQxNToyNzo1MFrOGjIO_A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQwODo1MjoyNlrOGjpBSg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTQ4ODI1Mg==", "bodyText": "I don't mean to sound pedantic but bunchTopicsUpgrade as a parameter is a little meaningless without context, maybe generateTopics would be a little more informative and means we can re-use it in other tests if need be.\nI wonder also if there is any value in making the topic names generated a little more random, if this is a check that data is persisted, it might be worth making more problematic topic names to check those also behave  - but i admit that might not have too much value.", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3177#discussion_r439488252", "createdAt": "2020-06-12T15:27:50Z", "author": {"login": "samuel-hawker"}, "path": "systemtest/src/test/java/io/strimzi/systemtest/upgrade/StrimziUpgradeST.java", "diffHunk": "@@ -252,6 +236,16 @@ private void performUpgrade(JsonObject testParameters, int produceMessagesCount,\n             LOGGER.info(\"Going to deploy KafkaTopic from: {}\", kafkaTopicYaml.getPath());\n             cmdKubeClient().create(kafkaTopicYaml);\n         }\n+        // Create bunch of topics for upgrade if it's specified in configuration\n+        if (testParameters.getBoolean(\"bunchTopicsUpgrade\")) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "99889b09153cf41570020b5c075c774b14272e4b"}, "originalPosition": 75}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTU5NDE0OQ==", "bodyText": "TBH when I wrote it, I was hoping someone will have better name on mind :) I can change it for sure.\nYou mean something like you'll pass a specific value as a seed to a method and it will generate a specific list of names which we could use later to validate a test results with the same method call? ... Or we can save each randomly generated topic name (we have method for it) in a list and then validate collected topics against this list. I am just thinking, but the way with randomly generate topics and keep store them for a future validation sounds like a good idea to me.", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3177#discussion_r439594149", "createdAt": "2020-06-12T19:01:43Z", "author": {"login": "Frawless"}, "path": "systemtest/src/test/java/io/strimzi/systemtest/upgrade/StrimziUpgradeST.java", "diffHunk": "@@ -252,6 +236,16 @@ private void performUpgrade(JsonObject testParameters, int produceMessagesCount,\n             LOGGER.info(\"Going to deploy KafkaTopic from: {}\", kafkaTopicYaml.getPath());\n             cmdKubeClient().create(kafkaTopicYaml);\n         }\n+        // Create bunch of topics for upgrade if it's specified in configuration\n+        if (testParameters.getBoolean(\"bunchTopicsUpgrade\")) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTQ4ODI1Mg=="}, "originalCommit": {"oid": "99889b09153cf41570020b5c075c774b14272e4b"}, "originalPosition": 75}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTYwMDA0Nw==", "bodyText": "Phew glad it's not unwelcome name change! I think an input for it having a predictable and repeatable set of topics would be useful but perhaps default it to seed using the current unixepoch? That way each test run has a different randomly generated set , this way if weird things happen with a specific topic name we can repeat it and debug why. Again it seems super unlikely that this will ever happen- but making a random topic name that obeys Kafka topic name regex is probably not too hard.", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3177#discussion_r439600047", "createdAt": "2020-06-12T19:15:51Z", "author": {"login": "samuel-hawker"}, "path": "systemtest/src/test/java/io/strimzi/systemtest/upgrade/StrimziUpgradeST.java", "diffHunk": "@@ -252,6 +236,16 @@ private void performUpgrade(JsonObject testParameters, int produceMessagesCount,\n             LOGGER.info(\"Going to deploy KafkaTopic from: {}\", kafkaTopicYaml.getPath());\n             cmdKubeClient().create(kafkaTopicYaml);\n         }\n+        // Create bunch of topics for upgrade if it's specified in configuration\n+        if (testParameters.getBoolean(\"bunchTopicsUpgrade\")) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTQ4ODI1Mg=="}, "originalCommit": {"oid": "99889b09153cf41570020b5c075c774b14272e4b"}, "originalPosition": 75}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTk3NjU5NA==", "bodyText": "Yes, sounds reasonable. Opened #3194", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3177#discussion_r439976594", "createdAt": "2020-06-15T07:22:57Z", "author": {"login": "Frawless"}, "path": "systemtest/src/test/java/io/strimzi/systemtest/upgrade/StrimziUpgradeST.java", "diffHunk": "@@ -252,6 +236,16 @@ private void performUpgrade(JsonObject testParameters, int produceMessagesCount,\n             LOGGER.info(\"Going to deploy KafkaTopic from: {}\", kafkaTopicYaml.getPath());\n             cmdKubeClient().create(kafkaTopicYaml);\n         }\n+        // Create bunch of topics for upgrade if it's specified in configuration\n+        if (testParameters.getBoolean(\"bunchTopicsUpgrade\")) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTQ4ODI1Mg=="}, "originalCommit": {"oid": "99889b09153cf41570020b5c075c774b14272e4b"}, "originalPosition": 75}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDAwOTI2OQ==", "bodyText": "Cool, were you planning on changing the param name prior to merge?", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3177#discussion_r440009269", "createdAt": "2020-06-15T08:24:48Z", "author": {"login": "samuel-hawker"}, "path": "systemtest/src/test/java/io/strimzi/systemtest/upgrade/StrimziUpgradeST.java", "diffHunk": "@@ -252,6 +236,16 @@ private void performUpgrade(JsonObject testParameters, int produceMessagesCount,\n             LOGGER.info(\"Going to deploy KafkaTopic from: {}\", kafkaTopicYaml.getPath());\n             cmdKubeClient().create(kafkaTopicYaml);\n         }\n+        // Create bunch of topics for upgrade if it's specified in configuration\n+        if (testParameters.getBoolean(\"bunchTopicsUpgrade\")) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTQ4ODI1Mg=="}, "originalCommit": {"oid": "99889b09153cf41570020b5c075c774b14272e4b"}, "originalPosition": 75}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDAwOTQ2OA==", "bodyText": "bunchTopicsUpgrade -> generateTopics", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3177#discussion_r440009468", "createdAt": "2020-06-15T08:25:06Z", "author": {"login": "samuel-hawker"}, "path": "systemtest/src/test/java/io/strimzi/systemtest/upgrade/StrimziUpgradeST.java", "diffHunk": "@@ -252,6 +236,16 @@ private void performUpgrade(JsonObject testParameters, int produceMessagesCount,\n             LOGGER.info(\"Going to deploy KafkaTopic from: {}\", kafkaTopicYaml.getPath());\n             cmdKubeClient().create(kafkaTopicYaml);\n         }\n+        // Create bunch of topics for upgrade if it's specified in configuration\n+        if (testParameters.getBoolean(\"bunchTopicsUpgrade\")) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTQ4ODI1Mg=="}, "originalCommit": {"oid": "99889b09153cf41570020b5c075c774b14272e4b"}, "originalPosition": 75}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDAyMjMzMA==", "bodyText": "yes, going to do it right now", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3177#discussion_r440022330", "createdAt": "2020-06-15T08:47:14Z", "author": {"login": "Frawless"}, "path": "systemtest/src/test/java/io/strimzi/systemtest/upgrade/StrimziUpgradeST.java", "diffHunk": "@@ -252,6 +236,16 @@ private void performUpgrade(JsonObject testParameters, int produceMessagesCount,\n             LOGGER.info(\"Going to deploy KafkaTopic from: {}\", kafkaTopicYaml.getPath());\n             cmdKubeClient().create(kafkaTopicYaml);\n         }\n+        // Create bunch of topics for upgrade if it's specified in configuration\n+        if (testParameters.getBoolean(\"bunchTopicsUpgrade\")) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTQ4ODI1Mg=="}, "originalCommit": {"oid": "99889b09153cf41570020b5c075c774b14272e4b"}, "originalPosition": 75}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDAyNTQxOA==", "bodyText": "Done :) thanks for reminding me", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3177#discussion_r440025418", "createdAt": "2020-06-15T08:52:26Z", "author": {"login": "Frawless"}, "path": "systemtest/src/test/java/io/strimzi/systemtest/upgrade/StrimziUpgradeST.java", "diffHunk": "@@ -252,6 +236,16 @@ private void performUpgrade(JsonObject testParameters, int produceMessagesCount,\n             LOGGER.info(\"Going to deploy KafkaTopic from: {}\", kafkaTopicYaml.getPath());\n             cmdKubeClient().create(kafkaTopicYaml);\n         }\n+        // Create bunch of topics for upgrade if it's specified in configuration\n+        if (testParameters.getBoolean(\"bunchTopicsUpgrade\")) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTQ4ODI1Mg=="}, "originalCommit": {"oid": "99889b09153cf41570020b5c075c774b14272e4b"}, "originalPosition": 75}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1652, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}