{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE2ODA4OTM2", "number": 2998, "title": "Refactor pod dns", "bodyText": "Type of change\nSelect the type of your PR\n\nRefactoring\n\nDescription\nRefactored this code so that the way hostnames\nare constructed is guaranteed to be consistent across\nmodels\nChecklist\nPlease go through this checklist and make sure all applicable tasks have been done\n\n Update/write design documentation in ./design\n Write tests\n Make sure all tests pass\n Update documentation\n Check RBAC rights for Kubernetes / OpenShift roles\n Try your changes from Pod inside your Kubernetes and OpenShift cluster, not just locally\n Reference relevant issue(s) and close them after merging\n Update CHANGELOG.md", "createdAt": "2020-05-12T15:40:50Z", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2998", "merged": true, "mergeCommit": {"oid": "05079a950b73d88b2c4fbf21e26fe6ef2414820b"}, "closed": true, "closedAt": "2020-05-12T21:29:34Z", "author": {"login": "samuel-hawker"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcglzxtAH2gAyNDE2ODA4OTM2OjFhNzQ4ZWMxYzE4ZDkyNTJlODFkMmZmMTRmMWQ0ZWJjNzY0ODZjYTA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcgrJb6gFqTQxMDQzNTU3OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "1a748ec1c18d9252e81d2ff14f1d4ebc76486ca0", "author": {"user": {"login": "samuel-hawker", "name": "Samuel Hawker"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/1a748ec1c18d9252e81d2ff14f1d4ebc76486ca0", "committedDate": "2020-05-12T15:14:42Z", "message": "refactor: PodDns helper functions\n\nRefactored this code so that the way hostnames\nare constructed is guaranteed to be consistent across\nmodels\n\nSigned-off-by: Samuel Hawker <samuel.hawker@ibm.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7258c67a3374b3d2464f100451434510c0f47cf3", "author": {"user": {"login": "samuel-hawker", "name": "Samuel Hawker"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/7258c67a3374b3d2464f100451434510c0f47cf3", "committedDate": "2020-05-12T15:23:59Z", "message": "feat: add service DNS name generator\n\nSigned-off-by: Samuel Hawker <samuel.hawker@ibm.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d93a03b423914a9062baea3e5b9108f96a1fac4a", "author": {"user": {"login": "samuel-hawker", "name": "Samuel Hawker"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/d93a03b423914a9062baea3e5b9108f96a1fac4a", "committedDate": "2020-05-12T15:38:56Z", "message": "feat: Documentation cleanup and tests\n\nSigned-off-by: Samuel Hawker <samuel.hawker@ibm.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEwMTkyNzEx", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2998#pullrequestreview-410192711", "createdAt": "2020-05-12T16:01:22Z", "commit": {"oid": "d93a03b423914a9062baea3e5b9108f96a1fac4a"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQxNjowMToyM1rOGUN1lw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQxNjowMToyM1rOGUN1lw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzg1MTQxNQ==", "bodyText": "could be not necessarily an STS right?", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2998#discussion_r423851415", "createdAt": "2020-05-12T16:01:23Z", "author": {"login": "ppatierno"}, "path": "cluster-operator/src/main/java/io/strimzi/operator/cluster/model/ModelUtils.java", "diffHunk": "@@ -59,6 +63,74 @@ private ModelUtils() {}\n     public static final String KUBERNETES_SERVICE_DNS_DOMAIN =\n             System.getenv().getOrDefault(\"KUBERNETES_SERVICE_DNS_DOMAIN\", \"cluster.local\");\n \n+    /**\n+     * Generates the DNS name of the pod including the cluster suffix\n+     * (i.e. usually with the cluster.local - but can be different on different clusters)\n+     * Example: my-pod-1.my-service.my-ns.svc.cluster.local\n+     *\n+     * @param namespace     Namespace of the pod\n+     * @param serviceName   Name of the cluster\n+     * @param podName       Name of the pod within the STS", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d93a03b423914a9062baea3e5b9108f96a1fac4a"}, "originalPosition": 22}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f7f06930ead08d28cfea9ac8eb56fd6e484de027", "author": {"user": {"login": "samuel-hawker", "name": "Samuel Hawker"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/f7f06930ead08d28cfea9ac8eb56fd6e484de027", "committedDate": "2020-05-12T16:36:00Z", "message": "fix: Correct helper to not directly reference sts\n\nSigned-off-by: Samuel Hawker <samuel.hawker@ibm.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEwNDM1NTc5", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2998#pullrequestreview-410435579", "createdAt": "2020-05-12T21:27:53Z", "commit": {"oid": "f7f06930ead08d28cfea9ac8eb56fd6e484de027"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1688, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}