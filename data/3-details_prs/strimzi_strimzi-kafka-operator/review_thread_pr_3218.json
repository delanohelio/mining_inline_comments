{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM3MTgwMzI4", "number": 3218, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNFQxMDowNzoyN1rOEITZOg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQxODoyODoxNVrOEQvu5A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc3MTQxODE4OnYy", "diffSide": "RIGHT", "path": "documentation/modules/cruise-control/ref-cruise-control-configuration.adoc", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNFQxMDowNzoyN1rOGoLrkQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNFQxMDoyODoxNlrOGoMV2Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDc4NzYwMQ==", "bodyText": "Remove the comma separators from the default values, e.g. 100,000. I'm assuming that using a comma in one of these values would invalidate the configuration.", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3218#discussion_r444787601", "createdAt": "2020-06-24T10:07:27Z", "author": {"login": "laidan6000"}, "path": "documentation/modules/cruise-control/ref-cruise-control-configuration.adoc", "diffHunk": "@@ -67,10 +67,10 @@ Cruise Control uses _capacity limits_ to determine if certain resource-based opt\n You specify capacity limits for Kafka broker resources in the `brokerCapacity` property in `Kafka.spec.cruiseControl` .\n Capacity limits can be set for the following broker resources in the described units:\n \n-* `disk`            - Disk storage in bytes\n-* `cpuUtilization`  - CPU utilization as a percent (0-100)\n-* `inboundNetwork`  - Inbound network throughput in bytes per second\n-* `outboundNetwork` - Outbound network throughput in bytes per second\n+* `disk`            - Disk storage in megabytes (Default: 100,000)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "68788b98539b01aca1e6a7c7ed740be944a33271"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDc5ODQyNQ==", "bodyText": "Agreed", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3218#discussion_r444798425", "createdAt": "2020-06-24T10:28:16Z", "author": {"login": "tomncooper"}, "path": "documentation/modules/cruise-control/ref-cruise-control-configuration.adoc", "diffHunk": "@@ -67,10 +67,10 @@ Cruise Control uses _capacity limits_ to determine if certain resource-based opt\n You specify capacity limits for Kafka broker resources in the `brokerCapacity` property in `Kafka.spec.cruiseControl` .\n Capacity limits can be set for the following broker resources in the described units:\n \n-* `disk`            - Disk storage in bytes\n-* `cpuUtilization`  - CPU utilization as a percent (0-100)\n-* `inboundNetwork`  - Inbound network throughput in bytes per second\n-* `outboundNetwork` - Outbound network throughput in bytes per second\n+* `disk`            - Disk storage in megabytes (Default: 100,000)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDc4NzYwMQ=="}, "originalCommit": {"oid": "68788b98539b01aca1e6a7c7ed740be944a33271"}, "originalPosition": 8}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg1Nzk3ODc1OnYy", "diffSide": "RIGHT", "path": "documentation/modules/cruise-control/ref-cruise-control-configuration.adoc", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQxMDoxODoyNlrOG0xieA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQxNjoxNzozOVrOG0_spA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzk5MDc3Ng==", "bodyText": "When I tried to follow this, I struggled a lot with this and I think this PR fixes only some of that. It still says that disk is in megabytes while the example below has 100G which is confusing. I think you should really list here all the available units. Ideally, the units for the storage should match what Kubernetes use.", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3218#discussion_r457990776", "createdAt": "2020-07-21T10:18:26Z", "author": {"login": "scholzj"}, "path": "documentation/modules/cruise-control/ref-cruise-control-configuration.adoc", "diffHunk": "@@ -67,10 +67,10 @@ Cruise Control uses _capacity limits_ to determine if certain resource-based opt\n You specify capacity limits for Kafka broker resources in the `brokerCapacity` property in `Kafka.spec.cruiseControl` .\n Capacity limits can be set for the following broker resources in the described units:\n \n-* `disk`            - Disk storage in bytes\n-* `cpuUtilization`  - CPU utilization as a percent (0-100)\n-* `inboundNetwork`  - Inbound network throughput in bytes per second\n-* `outboundNetwork` - Outbound network throughput in bytes per second\n+* `disk`            - Disk storage in megabytes (Default: 100000)\n+* `cpuUtilization`  - CPU utilization as a percentage (Default: 100)\n+* `inboundNetwork`  - Inbound network throughput in kilobytes per second (Default: 10000)\n+* `outboundNetwork` - Outbound network throughput in kilobytes per second (Default: 10000)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b60046700352b2cc9dfbef81616cc8d3978ea24c"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODIyMjc1Ng==", "bodyText": "Good point, the units can be many different sizes and use the K8s convention. I have updated the docs to reflect this.", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3218#discussion_r458222756", "createdAt": "2020-07-21T16:17:39Z", "author": {"login": "tomncooper"}, "path": "documentation/modules/cruise-control/ref-cruise-control-configuration.adoc", "diffHunk": "@@ -67,10 +67,10 @@ Cruise Control uses _capacity limits_ to determine if certain resource-based opt\n You specify capacity limits for Kafka broker resources in the `brokerCapacity` property in `Kafka.spec.cruiseControl` .\n Capacity limits can be set for the following broker resources in the described units:\n \n-* `disk`            - Disk storage in bytes\n-* `cpuUtilization`  - CPU utilization as a percent (0-100)\n-* `inboundNetwork`  - Inbound network throughput in bytes per second\n-* `outboundNetwork` - Outbound network throughput in bytes per second\n+* `disk`            - Disk storage in megabytes (Default: 100000)\n+* `cpuUtilization`  - CPU utilization as a percentage (Default: 100)\n+* `inboundNetwork`  - Inbound network throughput in kilobytes per second (Default: 10000)\n+* `outboundNetwork` - Outbound network throughput in kilobytes per second (Default: 10000)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzk5MDc3Ng=="}, "originalCommit": {"oid": "b60046700352b2cc9dfbef81616cc8d3978ea24c"}, "originalPosition": 11}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg1Nzk4MDAwOnYy", "diffSide": "RIGHT", "path": "documentation/modules/cruise-control/ref-cruise-control-configuration.adoc", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQxMDoxODo0OVrOG0xjPA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQxNjoxNTo1OFrOG0_oew==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzk5MDk3Mg==", "bodyText": "Is this disk capacity ... of the whole cluster? Or is it per broker?", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3218#discussion_r457990972", "createdAt": "2020-07-21T10:18:49Z", "author": {"login": "scholzj"}, "path": "documentation/modules/cruise-control/ref-cruise-control-configuration.adoc", "diffHunk": "@@ -67,10 +67,10 @@ Cruise Control uses _capacity limits_ to determine if certain resource-based opt\n You specify capacity limits for Kafka broker resources in the `brokerCapacity` property in `Kafka.spec.cruiseControl` .\n Capacity limits can be set for the following broker resources in the described units:\n \n-* `disk`            - Disk storage in bytes\n-* `cpuUtilization`  - CPU utilization as a percent (0-100)\n-* `inboundNetwork`  - Inbound network throughput in bytes per second\n-* `outboundNetwork` - Outbound network throughput in bytes per second\n+* `disk`            - Disk storage in megabytes (Default: 100000)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b60046700352b2cc9dfbef81616cc8d3978ea24c"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODIyMTY5MQ==", "bodyText": "It is per broker.", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3218#discussion_r458221691", "createdAt": "2020-07-21T16:15:58Z", "author": {"login": "tomncooper"}, "path": "documentation/modules/cruise-control/ref-cruise-control-configuration.adoc", "diffHunk": "@@ -67,10 +67,10 @@ Cruise Control uses _capacity limits_ to determine if certain resource-based opt\n You specify capacity limits for Kafka broker resources in the `brokerCapacity` property in `Kafka.spec.cruiseControl` .\n Capacity limits can be set for the following broker resources in the described units:\n \n-* `disk`            - Disk storage in bytes\n-* `cpuUtilization`  - CPU utilization as a percent (0-100)\n-* `inboundNetwork`  - Inbound network throughput in bytes per second\n-* `outboundNetwork` - Outbound network throughput in bytes per second\n+* `disk`            - Disk storage in megabytes (Default: 100000)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzk5MDk3Mg=="}, "originalCommit": {"oid": "b60046700352b2cc9dfbef81616cc8d3978ea24c"}, "originalPosition": 8}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg1OTk0NTc5OnYy", "diffSide": "RIGHT", "path": "documentation/modules/cruise-control/ref-cruise-control-configuration.adoc", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQxODoyNzo0NlrOG1Em_Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQxNDoxNzowNFrOG1kiaQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODMwMzIyOQ==", "bodyText": "Looks good. But the example below lists KB/s So should we change it there to KiB/s? Or add KB/s here?", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3218#discussion_r458303229", "createdAt": "2020-07-21T18:27:46Z", "author": {"login": "scholzj"}, "path": "documentation/modules/cruise-control/ref-cruise-control-configuration.adoc", "diffHunk": "@@ -65,12 +65,12 @@ spec:\n Cruise Control uses _capacity limits_ to determine if certain resource-based optimization goals are being broken. \n \n You specify capacity limits for Kafka broker resources in the `brokerCapacity` property in `Kafka.spec.cruiseControl` .\n-Capacity limits can be set for the following broker resources in the described units:\n+Capacity limits can be set for the following broker resources in the described units (the \"i\" in the units is optional):\n \n-* `disk`            - Disk storage in bytes\n-* `cpuUtilization`  - CPU utilization as a percent (0-100)\n-* `inboundNetwork`  - Inbound network throughput in bytes per second\n-* `outboundNetwork` - Outbound network throughput in bytes per second\n+* `disk`            - Disk storage per broker in megabytes (Mi), gigabytes (Gi) or terabytes (Ti) (Default: 100000Mi)\n+* `cpuUtilization`  - CPU utilization as a percentage (Default: 100)\n+* `inboundNetwork`  - Inbound network throughput in kilobytes (KiB/s), megabytes (MiB/s) or gigabytes (GiB/s) per second (Default: 10000KiB/s)\n+* `outboundNetwork` - Outbound network throughput in kilobytes (KiB/s), megabytes (MiB/s) or gigabytes (GiB/s) per second (Default: 10000KiB/s)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fac0e5c8d747870044e00693880345bfb2856ce0"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODY2MDc2Ng==", "bodyText": "Above the bullet points I added a line about the \"i\" being optional. If that is not clear enough I can add both forms in the units brackets? WDYT?", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3218#discussion_r458660766", "createdAt": "2020-07-22T09:28:33Z", "author": {"login": "tomncooper"}, "path": "documentation/modules/cruise-control/ref-cruise-control-configuration.adoc", "diffHunk": "@@ -65,12 +65,12 @@ spec:\n Cruise Control uses _capacity limits_ to determine if certain resource-based optimization goals are being broken. \n \n You specify capacity limits for Kafka broker resources in the `brokerCapacity` property in `Kafka.spec.cruiseControl` .\n-Capacity limits can be set for the following broker resources in the described units:\n+Capacity limits can be set for the following broker resources in the described units (the \"i\" in the units is optional):\n \n-* `disk`            - Disk storage in bytes\n-* `cpuUtilization`  - CPU utilization as a percent (0-100)\n-* `inboundNetwork`  - Inbound network throughput in bytes per second\n-* `outboundNetwork` - Outbound network throughput in bytes per second\n+* `disk`            - Disk storage per broker in megabytes (Mi), gigabytes (Gi) or terabytes (Ti) (Default: 100000Mi)\n+* `cpuUtilization`  - CPU utilization as a percentage (Default: 100)\n+* `inboundNetwork`  - Inbound network throughput in kilobytes (KiB/s), megabytes (MiB/s) or gigabytes (GiB/s) per second (Default: 10000KiB/s)\n+* `outboundNetwork` - Outbound network throughput in kilobytes (KiB/s), megabytes (MiB/s) or gigabytes (GiB/s) per second (Default: 10000KiB/s)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODMwMzIyOQ=="}, "originalCommit": {"oid": "fac0e5c8d747870044e00693880345bfb2856ce0"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODgyNjM0NQ==", "bodyText": "So this is my bad. I was misunderstanding the unit parsing code. We use K8s standard units, M for base 10 (5 G = 5000 MB) or Mi for base 2 (5 Gi = 5368.70 MB). I have updated the docs. Hope this is clearer (correct) now.", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3218#discussion_r458826345", "createdAt": "2020-07-22T14:17:04Z", "author": {"login": "tomncooper"}, "path": "documentation/modules/cruise-control/ref-cruise-control-configuration.adoc", "diffHunk": "@@ -65,12 +65,12 @@ spec:\n Cruise Control uses _capacity limits_ to determine if certain resource-based optimization goals are being broken. \n \n You specify capacity limits for Kafka broker resources in the `brokerCapacity` property in `Kafka.spec.cruiseControl` .\n-Capacity limits can be set for the following broker resources in the described units:\n+Capacity limits can be set for the following broker resources in the described units (the \"i\" in the units is optional):\n \n-* `disk`            - Disk storage in bytes\n-* `cpuUtilization`  - CPU utilization as a percent (0-100)\n-* `inboundNetwork`  - Inbound network throughput in bytes per second\n-* `outboundNetwork` - Outbound network throughput in bytes per second\n+* `disk`            - Disk storage per broker in megabytes (Mi), gigabytes (Gi) or terabytes (Ti) (Default: 100000Mi)\n+* `cpuUtilization`  - CPU utilization as a percentage (Default: 100)\n+* `inboundNetwork`  - Inbound network throughput in kilobytes (KiB/s), megabytes (MiB/s) or gigabytes (GiB/s) per second (Default: 10000KiB/s)\n+* `outboundNetwork` - Outbound network throughput in kilobytes (KiB/s), megabytes (MiB/s) or gigabytes (GiB/s) per second (Default: 10000KiB/s)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODMwMzIyOQ=="}, "originalCommit": {"oid": "fac0e5c8d747870044e00693880345bfb2856ce0"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg1OTk0NzI0OnYy", "diffSide": "RIGHT", "path": "documentation/modules/cruise-control/ref-cruise-control-configuration.adoc", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQxODoyODoxNVrOG1En-g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQwOToyOToyOVrOG1adng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODMwMzQ4Mg==", "bodyText": "The example bellow shows 100G. Should we change it to 100Gi? Or add G here as unit as well?", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3218#discussion_r458303482", "createdAt": "2020-07-21T18:28:15Z", "author": {"login": "scholzj"}, "path": "documentation/modules/cruise-control/ref-cruise-control-configuration.adoc", "diffHunk": "@@ -65,12 +65,12 @@ spec:\n Cruise Control uses _capacity limits_ to determine if certain resource-based optimization goals are being broken. \n \n You specify capacity limits for Kafka broker resources in the `brokerCapacity` property in `Kafka.spec.cruiseControl` .\n-Capacity limits can be set for the following broker resources in the described units:\n+Capacity limits can be set for the following broker resources in the described units (the \"i\" in the units is optional):\n \n-* `disk`            - Disk storage in bytes\n-* `cpuUtilization`  - CPU utilization as a percent (0-100)\n-* `inboundNetwork`  - Inbound network throughput in bytes per second\n-* `outboundNetwork` - Outbound network throughput in bytes per second\n+* `disk`            - Disk storage per broker in megabytes (Mi), gigabytes (Gi) or terabytes (Ti) (Default: 100000Mi)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fac0e5c8d747870044e00693880345bfb2856ce0"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODY2MTI3OA==", "bodyText": "I left the \"i\" out of the examples on purpose to highlight the \"i\" is optional. But I admit that this might be confusing?", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3218#discussion_r458661278", "createdAt": "2020-07-22T09:29:29Z", "author": {"login": "tomncooper"}, "path": "documentation/modules/cruise-control/ref-cruise-control-configuration.adoc", "diffHunk": "@@ -65,12 +65,12 @@ spec:\n Cruise Control uses _capacity limits_ to determine if certain resource-based optimization goals are being broken. \n \n You specify capacity limits for Kafka broker resources in the `brokerCapacity` property in `Kafka.spec.cruiseControl` .\n-Capacity limits can be set for the following broker resources in the described units:\n+Capacity limits can be set for the following broker resources in the described units (the \"i\" in the units is optional):\n \n-* `disk`            - Disk storage in bytes\n-* `cpuUtilization`  - CPU utilization as a percent (0-100)\n-* `inboundNetwork`  - Inbound network throughput in bytes per second\n-* `outboundNetwork` - Outbound network throughput in bytes per second\n+* `disk`            - Disk storage per broker in megabytes (Mi), gigabytes (Gi) or terabytes (Ti) (Default: 100000Mi)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODMwMzQ4Mg=="}, "originalCommit": {"oid": "fac0e5c8d747870044e00693880345bfb2856ce0"}, "originalPosition": 11}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1709, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}