{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY4ODI3NDA3", "number": 3517, "title": "[systemtest] Change labels to use strimzi.io/kind instead of type", "bodyText": "Signed-off-by: Lukas Kral lukywill16@gmail.com\nType of change\n\nSmall refactor\n\nDescription\nIn this PR I'm gonna remove all the additional labels like type: kafka-mirror-maker and change all to use strimzi.io/kind label for listing certain resource and its pods.\nChecklist\n\n Make sure all tests pass", "createdAt": "2020-08-17T13:19:32Z", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3517", "merged": true, "mergeCommit": {"oid": "6777cf4e4fb2757a2bec4166909539328debde01"}, "closed": true, "closedAt": "2020-08-19T14:40:36Z", "author": {"login": "im-konge"}, "timelineItems": {"totalCount": 14, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc_yUsXABqjM2NjE4MzU1NTY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdAYDJwABqjM2Njk4NjQ5Mjc=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "48362a63a7e4f11d9c616ae2c1c0c2aba9144b49", "author": {"user": {"login": "im-konge", "name": "Luk\u00e1\u0161 Kr\u00e1l"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/48362a63a7e4f11d9c616ae2c1c0c2aba9144b49", "committedDate": "2020-08-17T13:10:33Z", "message": "change resources to contain the type labels\n\nSigned-off-by: Lukas Kral <lukywill16@gmail.com>"}, "afterCommit": {"oid": "081699dbec5f72acb7ee2287487e280454c8f999", "author": {"user": {"login": "im-konge", "name": "Luk\u00e1\u0161 Kr\u00e1l"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/081699dbec5f72acb7ee2287487e280454c8f999", "committedDate": "2020-08-17T13:21:00Z", "message": "change resources to contain the type labels\n\nSigned-off-by: Lukas Kral <lukywill16@gmail.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "081699dbec5f72acb7ee2287487e280454c8f999", "author": {"user": {"login": "im-konge", "name": "Luk\u00e1\u0161 Kr\u00e1l"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/081699dbec5f72acb7ee2287487e280454c8f999", "committedDate": "2020-08-17T13:21:00Z", "message": "change resources to contain the type labels\n\nSigned-off-by: Lukas Kral <lukywill16@gmail.com>"}, "afterCommit": {"oid": "e88f249eabf5fefad53227ccd5dc3c37d61b1976", "author": {"user": {"login": "im-konge", "name": "Luk\u00e1\u0161 Kr\u00e1l"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/e88f249eabf5fefad53227ccd5dc3c37d61b1976", "committedDate": "2020-08-17T13:23:50Z", "message": "change resources to contain the type labels\n\nSigned-off-by: Lukas Kral <lukywill16@gmail.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e88f249eabf5fefad53227ccd5dc3c37d61b1976", "author": {"user": {"login": "im-konge", "name": "Luk\u00e1\u0161 Kr\u00e1l"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/e88f249eabf5fefad53227ccd5dc3c37d61b1976", "committedDate": "2020-08-17T13:23:50Z", "message": "change resources to contain the type labels\n\nSigned-off-by: Lukas Kral <lukywill16@gmail.com>"}, "afterCommit": {"oid": "a8dd448a7b358daab30929ca0cbea1144f2d0020", "author": {"user": {"login": "im-konge", "name": "Luk\u00e1\u0161 Kr\u00e1l"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/a8dd448a7b358daab30929ca0cbea1144f2d0020", "committedDate": "2020-08-17T13:33:42Z", "message": "change resources to contain the type labels\n\nSigned-off-by: Lukas Kral <lukywill16@gmail.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a8dd448a7b358daab30929ca0cbea1144f2d0020", "author": {"user": {"login": "im-konge", "name": "Luk\u00e1\u0161 Kr\u00e1l"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/a8dd448a7b358daab30929ca0cbea1144f2d0020", "committedDate": "2020-08-17T13:33:42Z", "message": "change resources to contain the type labels\n\nSigned-off-by: Lukas Kral <lukywill16@gmail.com>"}, "afterCommit": {"oid": "f0c710d2761c63ebab64c18526b63038846a673f", "author": {"user": {"login": "im-konge", "name": "Luk\u00e1\u0161 Kr\u00e1l"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/f0c710d2761c63ebab64c18526b63038846a673f", "committedDate": "2020-08-17T13:36:53Z", "message": "change resources to contain the type labels\n\nSigned-off-by: Lukas Kral <lukywill16@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY4NTM0MDg4", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3517#pullrequestreview-468534088", "createdAt": "2020-08-17T14:50:59Z", "commit": {"oid": "f0c710d2761c63ebab64c18526b63038846a673f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QxNDo1MDo1OVrOHBsFXg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QxNDo1MDo1OVrOHBsFXg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTUzMjg5NA==", "bodyText": "Isto to je spravne?\n    public static final String RESOURCE_KIND = \"KafkaBridge\"; != (\"type\", \"kafka-bridge\")", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3517#discussion_r471532894", "createdAt": "2020-08-17T14:50:59Z", "author": {"login": "michalxo"}, "path": "systemtest/src/test/java/io/strimzi/systemtest/bridge/HttpBridgeST.java", "diffHunk": "@@ -229,13 +226,9 @@ void testDiscoveryAnnotation() {\n     void testScaleBridgeToZero() {\n         String bridgeName = \"scaling-bridge\";\n \n-        KafkaBridgeResource.kafkaBridge(bridgeName, KafkaResources.plainBootstrapAddress(CLUSTER_NAME), 1)\n-            .editMetadata()\n-                .addToLabels(\"type\", \"kafka-bridge\")\n-            .endMetadata()\n-            .done();\n+        KafkaBridgeResource.kafkaBridge(bridgeName, KafkaResources.plainBootstrapAddress(CLUSTER_NAME), 1).done();\n \n-        List<String> bridgePods = kubeClient().listPodNames(\"type\", \"kafka-bridge\");\n+        List<String> bridgePods = kubeClient().listPodNames(\"type\", KafkaBridge.RESOURCE_KIND);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f0c710d2761c63ebab64c18526b63038846a673f"}, "originalPosition": 31}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY4NTM1MjM3", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3517#pullrequestreview-468535237", "createdAt": "2020-08-17T14:52:18Z", "commit": {"oid": "f0c710d2761c63ebab64c18526b63038846a673f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QxNDo1MjoxOFrOHBsI3g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QxNDo1MjoxOFrOHBsI3g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTUzMzc5MA==", "bodyText": "listPods(\"type\", \"kafka-connect-s2i\") vs String RESOURCE_KIND = \"KafkaConnectS2I\";\nje to ok?", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3517#discussion_r471533790", "createdAt": "2020-08-17T14:52:18Z", "author": {"login": "michalxo"}, "path": "systemtest/src/test/java/io/strimzi/systemtest/connect/ConnectS2IST.java", "diffHunk": "@@ -234,7 +231,7 @@ void testSecretsWithKafkaConnectS2IWithTlsAndScramShaAuthentication() {\n             .withKafkaUsername(userName)\n             .build();\n \n-        String kafkaConnectS2IPodName = kubeClient().listPods(\"type\", \"kafka-connect-s2i\").get(0).getMetadata().getName();\n+        String kafkaConnectS2IPodName = kubeClient().listPods(\"type\", KafkaConnectS2I.RESOURCE_KIND).get(0).getMetadata().getName();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f0c710d2761c63ebab64c18526b63038846a673f"}, "originalPosition": 15}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY4NzU0ODkz", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3517#pullrequestreview-468754893", "createdAt": "2020-08-17T18:58:16Z", "commit": {"oid": "f0c710d2761c63ebab64c18526b63038846a673f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY4NzY2MTc0", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3517#pullrequestreview-468766174", "createdAt": "2020-08-17T19:15:58Z", "commit": {"oid": "f0c710d2761c63ebab64c18526b63038846a673f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY5MDk2NzQ0", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3517#pullrequestreview-469096744", "createdAt": "2020-08-18T08:18:25Z", "commit": {"oid": "6afeff62c058dfcb6479615a3a5d022c34deaf58"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY5MTU1OTA2", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3517#pullrequestreview-469155906", "createdAt": "2020-08-18T09:33:45Z", "commit": {"oid": "6afeff62c058dfcb6479615a3a5d022c34deaf58"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2d69f741a31b47e8c0d95ecd87f9fdca1bf1ad98", "author": {"user": {"login": "im-konge", "name": "Luk\u00e1\u0161 Kr\u00e1l"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/2d69f741a31b47e8c0d95ecd87f9fdca1bf1ad98", "committedDate": "2020-08-19T09:14:32Z", "message": "change resources to contain the type labels\n\nSigned-off-by: Lukas Kral <lukywill16@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6763fa0650c962a6a75cf09a705ed11d794bde7c", "author": {"user": {"login": "im-konge", "name": "Luk\u00e1\u0161 Kr\u00e1l"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/6763fa0650c962a6a75cf09a705ed11d794bde7c", "committedDate": "2020-08-19T09:14:32Z", "message": "change the labeling to strimzi.io/kind\n\nSigned-off-by: Lukas Kral <lukywill16@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f528aa3475208ade075a38b8729f2559ae07cba4", "author": {"user": {"login": "im-konge", "name": "Luk\u00e1\u0161 Kr\u00e1l"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/f528aa3475208ade075a38b8729f2559ae07cba4", "committedDate": "2020-08-19T09:14:32Z", "message": "fixes\n\nSigned-off-by: Lukas Kral <lukywill16@gmail.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6afeff62c058dfcb6479615a3a5d022c34deaf58", "author": {"user": {"login": "im-konge", "name": "Luk\u00e1\u0161 Kr\u00e1l"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/6afeff62c058dfcb6479615a3a5d022c34deaf58", "committedDate": "2020-08-18T07:12:16Z", "message": "change the labeling to strimzi.io/kind\n\nSigned-off-by: Lukas Kral <lukywill16@gmail.com>"}, "afterCommit": {"oid": "f528aa3475208ade075a38b8729f2559ae07cba4", "author": {"user": {"login": "im-konge", "name": "Luk\u00e1\u0161 Kr\u00e1l"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/f528aa3475208ade075a38b8729f2559ae07cba4", "committedDate": "2020-08-19T09:14:32Z", "message": "fixes\n\nSigned-off-by: Lukas Kral <lukywill16@gmail.com>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1163, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}