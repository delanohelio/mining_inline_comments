{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIxNDA5Njcz", "number": 3071, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxNTo0Nzo0N1rOD-pmWw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxNTo1MDowN1rOD-prDQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY3MDE5ODY3OnYy", "diffSide": "RIGHT", "path": "documentation/modules/mirrormaker2/proc-mirrormaker-replication.adoc", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxNTo0Nzo0N1rOGY4VDg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMlQxMjoxMzoyN1rOGZU8pQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODc0MTkwMg==", "bodyText": "this 1 doesn't make sense here. It should be a callout I guess", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3071#discussion_r428741902", "createdAt": "2020-05-21T15:47:47Z", "author": {"login": "ppatierno"}, "path": "documentation/modules/mirrormaker2/proc-mirrormaker-replication.adoc", "diffHunk": "@@ -116,6 +116,62 @@ spec:\n         checkpoints.topic.replication.factor: 1 <25>\n     topicsPattern: \".*\" <26>\n     groupsPattern: \"group1|group2|group3\" <27>\n+  resources: <28>\n+    requests:\n+      cpu: \"1\"\n+      memory: 2Gi\n+    limits:\n+      cpu: \"2\"\n+      memory: 2Gi\n+  logging: <29>\n+    type: inline\n+    loggers:\n+      connect.root.logger.level: \"INFO\"\n+  readinessProbe: <30>\n+    initialDelaySeconds: 15\n+    timeoutSeconds: 5\n+  livenessProbe:\n+    initialDelaySeconds: 15\n+    timeoutSeconds: 5\n+  jvmOptions: <31>\n+    \"-Xmx\": \"1g\"\n+    \"-Xms\": \"1g\"\n+  image: my-org/my-image:latest <32>\n+  template: <33>\n+    pod:\n+      affinity:\n+        podAntiAffinity:\n+          requiredDuringSchedulingIgnoredDuringExecution:\n+            - labelSelector:\n+                matchExpressions:\n+                  - key: application\n+                    operator: In\n+                    values:\n+                      - postgresql\n+                      - mongodb\n+              topologyKey: \"kubernetes.io/hostname\"\n+    connectContainer: 1", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "93df284a77b0a3fcb84b3c07ddf48af01789081e"}, "originalPosition": 60}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTIxMDc4OQ==", "bodyText": "We talk about it in callout 33, but I've split into separate callouts", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3071#discussion_r429210789", "createdAt": "2020-05-22T12:13:27Z", "author": {"login": "PaulRMellor"}, "path": "documentation/modules/mirrormaker2/proc-mirrormaker-replication.adoc", "diffHunk": "@@ -116,6 +116,62 @@ spec:\n         checkpoints.topic.replication.factor: 1 <25>\n     topicsPattern: \".*\" <26>\n     groupsPattern: \"group1|group2|group3\" <27>\n+  resources: <28>\n+    requests:\n+      cpu: \"1\"\n+      memory: 2Gi\n+    limits:\n+      cpu: \"2\"\n+      memory: 2Gi\n+  logging: <29>\n+    type: inline\n+    loggers:\n+      connect.root.logger.level: \"INFO\"\n+  readinessProbe: <30>\n+    initialDelaySeconds: 15\n+    timeoutSeconds: 5\n+  livenessProbe:\n+    initialDelaySeconds: 15\n+    timeoutSeconds: 5\n+  jvmOptions: <31>\n+    \"-Xmx\": \"1g\"\n+    \"-Xms\": \"1g\"\n+  image: my-org/my-image:latest <32>\n+  template: <33>\n+    pod:\n+      affinity:\n+        podAntiAffinity:\n+          requiredDuringSchedulingIgnoredDuringExecution:\n+            - labelSelector:\n+                matchExpressions:\n+                  - key: application\n+                    operator: In\n+                    values:\n+                      - postgresql\n+                      - mongodb\n+              topologyKey: \"kubernetes.io/hostname\"\n+    connectContainer: 1", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODc0MTkwMg=="}, "originalCommit": {"oid": "93df284a77b0a3fcb84b3c07ddf48af01789081e"}, "originalPosition": 60}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY3MDIwNDQ4OnYy", "diffSide": "RIGHT", "path": "documentation/modules/mirrormaker2/proc-mirrormaker-replication.adoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxNTo0ODo1M1rOGY4Y5Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxNTo0ODo1M1rOGY4Y5Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODc0Mjg4NQ==", "bodyText": "\"... to Kafka Mirror Maker ...\"", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3071#discussion_r428742885", "createdAt": "2020-05-21T15:48:53Z", "author": {"login": "ppatierno"}, "path": "documentation/modules/mirrormaker2/proc-mirrormaker-replication.adoc", "diffHunk": "@@ -146,6 +202,15 @@ Standard Apache Kafka configuration may be provided, restricted to those propert\n <26> Topic replication from the source cluster defined as regular expression patterns. Here we request all topics.\n <27> Consumer group replication from the source cluster defined as regular expression patterns. Here we request three consumer groups by name.\n You can use comma-separated lists.\n+<28> Requests for reservation of supported resources, currently `cpu` and `memory`, and limits to specify the maximum resources that can be consumed.\n+<29> Specified loggers and log levels added directly (`inline`) or indirectly (`external`) through a ConfigMap. A custom ConfigMap must be placed under the `log4j.properties` or `log4j2.properties` key. Kafka Connect has a single logger called `connect.root.logger.level`. You can set the log level to INFO, ERROR, WARN, TRACE, DEBUG, FATAL or OFF.\n+<30> Healthchecks to know when to restart a container (liveness) and when a container can accept traffic (readiness).\n+<31> JVM configuration options to optimize performance for the Virtual Machine (VM) running Kafka MirrorMaker.\n+<32> ADVANCED OPTION: Container image configuration, which is xref:con-configuring-container-images-deployment-configuration-kafka-mirror-maker[recommended only in special situations].\n+<33> xref:assembly-customizing-deployments-str[Template customization]. Here a pod is scheduled based with anti-affinity, so the pod is not scheduled on nodes with the same hostname.\n+Environment variables are also set for distributed tracing using Jaeger.\n+<34> xref:assembly-distributed-tracing-str[Distributed tracing is enabled for Jaeger].\n+<35> Kubernetes Secret mounted to Kafka Connect as an environment variable.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "93df284a77b0a3fcb84b3c07ddf48af01789081e"}, "originalPosition": 97}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY3MDIxMDY5OnYy", "diffSide": "RIGHT", "path": "documentation/modules/proc-configuring-mirror-maker.adoc", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxNTo1MDowN1rOGY4c_w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMlQxMjoyMjowOVrOGZVK8w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODc0MzkzNQ==", "bodyText": "if adding Jaeger to MirrorMaker configuration, then you should add the env vars as well. Am I right @scholzj ?", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3071#discussion_r428743935", "createdAt": "2020-05-21T15:50:07Z", "author": {"login": "ppatierno"}, "path": "documentation/modules/proc-configuring-mirror-maker.adoc", "diffHunk": "@@ -114,8 +114,9 @@ spec:\n                       - postgresql\n                       - mongodb\n               topologyKey: \"kubernetes.io/hostname\"\n+  tracing: <20>\n+    type: jaeger", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "93df284a77b0a3fcb84b3c07ddf48af01789081e"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTIxNDQ1MQ==", "bodyText": "I guess so. I've added, with link to tracing section.", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3071#discussion_r429214451", "createdAt": "2020-05-22T12:22:09Z", "author": {"login": "PaulRMellor"}, "path": "documentation/modules/proc-configuring-mirror-maker.adoc", "diffHunk": "@@ -114,8 +114,9 @@ spec:\n                       - postgresql\n                       - mongodb\n               topologyKey: \"kubernetes.io/hostname\"\n+  tracing: <20>\n+    type: jaeger", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODc0MzkzNQ=="}, "originalCommit": {"oid": "93df284a77b0a3fcb84b3c07ddf48af01789081e"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 96, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}