{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM3MTgwMzI4", "number": 3218, "title": "Correct units and add defaults for CC capacity docs", "bodyText": "Type of change\nDocumentation\nDescription\nCorrects the wrong units used in the Cruise Control broker capacity config section and adds the default values used if a user doesn't specify the configs.\nChecklist\n\n Update documentation", "createdAt": "2020-06-19T16:00:33Z", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3218", "merged": true, "mergeCommit": {"oid": "3152c3213eb1c5ddcd991a5119717d6cdda9cf01"}, "closed": true, "closedAt": "2020-07-22T14:48:34Z", "author": {"login": "tomncooper"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcs2doFgFqTQzNDIzNzM0NQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABc3b87NAFqTQ1MzM5MDU4NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM0MjM3MzQ1", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3218#pullrequestreview-434237345", "createdAt": "2020-06-19T17:25:59Z", "commit": {"oid": "68788b98539b01aca1e6a7c7ed740be944a33271"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM2NTA2OTc3", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3218#pullrequestreview-436506977", "createdAt": "2020-06-24T10:07:27Z", "commit": {"oid": "68788b98539b01aca1e6a7c7ed740be944a33271"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNFQxMDowNzoyN1rOGoLrkQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNFQxMDowNzoyN1rOGoLrkQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDc4NzYwMQ==", "bodyText": "Remove the comma separators from the default values, e.g. 100,000. I'm assuming that using a comma in one of these values would invalidate the configuration.", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3218#discussion_r444787601", "createdAt": "2020-06-24T10:07:27Z", "author": {"login": "laidan6000"}, "path": "documentation/modules/cruise-control/ref-cruise-control-configuration.adoc", "diffHunk": "@@ -67,10 +67,10 @@ Cruise Control uses _capacity limits_ to determine if certain resource-based opt\n You specify capacity limits for Kafka broker resources in the `brokerCapacity` property in `Kafka.spec.cruiseControl` .\n Capacity limits can be set for the following broker resources in the described units:\n \n-* `disk`            - Disk storage in bytes\n-* `cpuUtilization`  - CPU utilization as a percent (0-100)\n-* `inboundNetwork`  - Inbound network throughput in bytes per second\n-* `outboundNetwork` - Outbound network throughput in bytes per second\n+* `disk`            - Disk storage in megabytes (Default: 100,000)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "68788b98539b01aca1e6a7c7ed740be944a33271"}, "originalPosition": 8}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "68788b98539b01aca1e6a7c7ed740be944a33271", "author": {"user": {"login": "tomncooper", "name": "Thomas Cooper"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/68788b98539b01aca1e6a7c7ed740be944a33271", "committedDate": "2020-06-19T15:57:22Z", "message": "Corrected units and add defaults for CC capacity docs\n\nSigned-off-by: Thomas Cooper <tcooper@redhat.com>"}, "afterCommit": {"oid": "b60046700352b2cc9dfbef81616cc8d3978ea24c", "author": {"user": {"login": "tomncooper", "name": "Thomas Cooper"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/b60046700352b2cc9dfbef81616cc8d3978ea24c", "committedDate": "2020-06-24T10:28:11Z", "message": "Corrected units and add defaults for CC capacity docs\n\nSigned-off-by: Thomas Cooper <tcooper@redhat.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUyMzIwMDk5", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3218#pullrequestreview-452320099", "createdAt": "2020-07-21T10:18:26Z", "commit": {"oid": "b60046700352b2cc9dfbef81616cc8d3978ea24c"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQxMDoxODoyNlrOG0xieA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQxMDoxODo0OVrOG0xjPA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzk5MDc3Ng==", "bodyText": "When I tried to follow this, I struggled a lot with this and I think this PR fixes only some of that. It still says that disk is in megabytes while the example below has 100G which is confusing. I think you should really list here all the available units. Ideally, the units for the storage should match what Kubernetes use.", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3218#discussion_r457990776", "createdAt": "2020-07-21T10:18:26Z", "author": {"login": "scholzj"}, "path": "documentation/modules/cruise-control/ref-cruise-control-configuration.adoc", "diffHunk": "@@ -67,10 +67,10 @@ Cruise Control uses _capacity limits_ to determine if certain resource-based opt\n You specify capacity limits for Kafka broker resources in the `brokerCapacity` property in `Kafka.spec.cruiseControl` .\n Capacity limits can be set for the following broker resources in the described units:\n \n-* `disk`            - Disk storage in bytes\n-* `cpuUtilization`  - CPU utilization as a percent (0-100)\n-* `inboundNetwork`  - Inbound network throughput in bytes per second\n-* `outboundNetwork` - Outbound network throughput in bytes per second\n+* `disk`            - Disk storage in megabytes (Default: 100000)\n+* `cpuUtilization`  - CPU utilization as a percentage (Default: 100)\n+* `inboundNetwork`  - Inbound network throughput in kilobytes per second (Default: 10000)\n+* `outboundNetwork` - Outbound network throughput in kilobytes per second (Default: 10000)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b60046700352b2cc9dfbef81616cc8d3978ea24c"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzk5MDk3Mg==", "bodyText": "Is this disk capacity ... of the whole cluster? Or is it per broker?", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3218#discussion_r457990972", "createdAt": "2020-07-21T10:18:49Z", "author": {"login": "scholzj"}, "path": "documentation/modules/cruise-control/ref-cruise-control-configuration.adoc", "diffHunk": "@@ -67,10 +67,10 @@ Cruise Control uses _capacity limits_ to determine if certain resource-based opt\n You specify capacity limits for Kafka broker resources in the `brokerCapacity` property in `Kafka.spec.cruiseControl` .\n Capacity limits can be set for the following broker resources in the described units:\n \n-* `disk`            - Disk storage in bytes\n-* `cpuUtilization`  - CPU utilization as a percent (0-100)\n-* `inboundNetwork`  - Inbound network throughput in bytes per second\n-* `outboundNetwork` - Outbound network throughput in bytes per second\n+* `disk`            - Disk storage in megabytes (Default: 100000)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b60046700352b2cc9dfbef81616cc8d3978ea24c"}, "originalPosition": 8}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b60046700352b2cc9dfbef81616cc8d3978ea24c", "author": {"user": {"login": "tomncooper", "name": "Thomas Cooper"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/b60046700352b2cc9dfbef81616cc8d3978ea24c", "committedDate": "2020-06-24T10:28:11Z", "message": "Corrected units and add defaults for CC capacity docs\n\nSigned-off-by: Thomas Cooper <tcooper@redhat.com>"}, "afterCommit": {"oid": "fac0e5c8d747870044e00693880345bfb2856ce0", "author": {"user": {"login": "tomncooper", "name": "Thomas Cooper"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/fac0e5c8d747870044e00693880345bfb2856ce0", "committedDate": "2020-07-21T16:16:31Z", "message": "Corrected units and add defaults for CC capacity docs\n\nSigned-off-by: Thomas Cooper <tcooper@redhat.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUyNzIyNDcz", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3218#pullrequestreview-452722473", "createdAt": "2020-07-21T18:27:46Z", "commit": {"oid": "fac0e5c8d747870044e00693880345bfb2856ce0"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQxODoyNzo0NlrOG1Em_Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQxODoyODoxNVrOG1En-g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODMwMzIyOQ==", "bodyText": "Looks good. But the example below lists KB/s So should we change it there to KiB/s? Or add KB/s here?", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3218#discussion_r458303229", "createdAt": "2020-07-21T18:27:46Z", "author": {"login": "scholzj"}, "path": "documentation/modules/cruise-control/ref-cruise-control-configuration.adoc", "diffHunk": "@@ -65,12 +65,12 @@ spec:\n Cruise Control uses _capacity limits_ to determine if certain resource-based optimization goals are being broken. \n \n You specify capacity limits for Kafka broker resources in the `brokerCapacity` property in `Kafka.spec.cruiseControl` .\n-Capacity limits can be set for the following broker resources in the described units:\n+Capacity limits can be set for the following broker resources in the described units (the \"i\" in the units is optional):\n \n-* `disk`            - Disk storage in bytes\n-* `cpuUtilization`  - CPU utilization as a percent (0-100)\n-* `inboundNetwork`  - Inbound network throughput in bytes per second\n-* `outboundNetwork` - Outbound network throughput in bytes per second\n+* `disk`            - Disk storage per broker in megabytes (Mi), gigabytes (Gi) or terabytes (Ti) (Default: 100000Mi)\n+* `cpuUtilization`  - CPU utilization as a percentage (Default: 100)\n+* `inboundNetwork`  - Inbound network throughput in kilobytes (KiB/s), megabytes (MiB/s) or gigabytes (GiB/s) per second (Default: 10000KiB/s)\n+* `outboundNetwork` - Outbound network throughput in kilobytes (KiB/s), megabytes (MiB/s) or gigabytes (GiB/s) per second (Default: 10000KiB/s)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fac0e5c8d747870044e00693880345bfb2856ce0"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODMwMzQ4Mg==", "bodyText": "The example bellow shows 100G. Should we change it to 100Gi? Or add G here as unit as well?", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3218#discussion_r458303482", "createdAt": "2020-07-21T18:28:15Z", "author": {"login": "scholzj"}, "path": "documentation/modules/cruise-control/ref-cruise-control-configuration.adoc", "diffHunk": "@@ -65,12 +65,12 @@ spec:\n Cruise Control uses _capacity limits_ to determine if certain resource-based optimization goals are being broken. \n \n You specify capacity limits for Kafka broker resources in the `brokerCapacity` property in `Kafka.spec.cruiseControl` .\n-Capacity limits can be set for the following broker resources in the described units:\n+Capacity limits can be set for the following broker resources in the described units (the \"i\" in the units is optional):\n \n-* `disk`            - Disk storage in bytes\n-* `cpuUtilization`  - CPU utilization as a percent (0-100)\n-* `inboundNetwork`  - Inbound network throughput in bytes per second\n-* `outboundNetwork` - Outbound network throughput in bytes per second\n+* `disk`            - Disk storage per broker in megabytes (Mi), gigabytes (Gi) or terabytes (Ti) (Default: 100000Mi)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fac0e5c8d747870044e00693880345bfb2856ce0"}, "originalPosition": 11}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "56f0a2b94abc5f783e7a0dcebaa2a513d924dc9e", "author": {"user": {"login": "tomncooper", "name": "Thomas Cooper"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/56f0a2b94abc5f783e7a0dcebaa2a513d924dc9e", "committedDate": "2020-07-22T14:13:30Z", "message": "Corrected units and add defaults for CC capacity docs\n\nSigned-off-by: Thomas Cooper <tcooper@redhat.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "fac0e5c8d747870044e00693880345bfb2856ce0", "author": {"user": {"login": "tomncooper", "name": "Thomas Cooper"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/fac0e5c8d747870044e00693880345bfb2856ce0", "committedDate": "2020-07-21T16:16:31Z", "message": "Corrected units and add defaults for CC capacity docs\n\nSigned-off-by: Thomas Cooper <tcooper@redhat.com>"}, "afterCommit": {"oid": "56f0a2b94abc5f783e7a0dcebaa2a513d924dc9e", "author": {"user": {"login": "tomncooper", "name": "Thomas Cooper"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/56f0a2b94abc5f783e7a0dcebaa2a513d924dc9e", "committedDate": "2020-07-22T14:13:30Z", "message": "Corrected units and add defaults for CC capacity docs\n\nSigned-off-by: Thomas Cooper <tcooper@redhat.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUzMzkwNTg1", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3218#pullrequestreview-453390585", "createdAt": "2020-07-22T14:45:54Z", "commit": {"oid": "56f0a2b94abc5f783e7a0dcebaa2a513d924dc9e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1578, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}