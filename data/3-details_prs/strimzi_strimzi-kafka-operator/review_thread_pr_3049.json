{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE5Mjk3MzAz", "number": 3049, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOFQxNDo0MzoyN1rOD9bO2g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOFQxNDo0MzoyN1rOD9bO2g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY1NzM1ODk4OnYy", "diffSide": "RIGHT", "path": "documentation/modules/metrics/proc_metrics-deploying-prometheus-operator.adoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOFQxNDo0MzoyN1rOGW6X2Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOFQxNDo0MzoyN1rOGW6X2Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjY3ODIzMw==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            NOTE: the latest Prometheus Operator installation works fine with Kubernetes 1.18+. For checking which version to use with a different Kubernetes, see this https://github.com/coreos/kube-prometheus#kubernetes-compatibility-matrix[compatibility matrix]\n          \n          \n            \n            NOTE: The Prometheus Operator installation works with Kubernetes 1.18+. To check which version to use with a different Kubernetes version, refer to the https://github.com/coreos/kube-prometheus#kubernetes-compatibility-matrix[Kubernetes compatibility matrix].", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3049#discussion_r426678233", "createdAt": "2020-05-18T14:43:27Z", "author": {"login": "PaulRMellor"}, "path": "documentation/modules/metrics/proc_metrics-deploying-prometheus-operator.adoc", "diffHunk": "@@ -6,46 +6,27 @@\n \n = Deploying the Prometheus Operator\n \n-To deploy the Prometheus Operator to your Kafka cluster, apply the YAML resource files from the https://github.com/coreos/prometheus-operator/tree/master/example/rbac/prometheus-operator[Prometheus CoreOS repository].\n+To deploy the Prometheus Operator to your Kafka cluster, apply the YAML bundle resources file from the https://github.com/coreos/prometheus-operator[Prometheus CoreOS repository].\n \n .Procedure\n \n-. Download the resource files from the repository and replace the example `namespace` with your own:\n+. Download the resource file from the repository and replace the example `namespace` with your own:\n +\n On Linux, use:\n +\n [source,shell,subs=+quotes]\n-curl -s https://raw.githubusercontent.com/coreos/prometheus-operator/master/example/rbac/prometheus-operator/prometheus-operator-deployment.yaml | sed -e 's/namespace: .\\*/namespace: _my-namespace_/' > prometheus-operator-deployment.yaml\n-+\n-[source,shell,subs=+quotes]\n-curl -s https://raw.githubusercontent.com/coreos/prometheus-operator/master/example/rbac/prometheus-operator/prometheus-operator-cluster-role.yaml > prometheus-operator-cluster-role.yaml\n-+\n-[source,shell,subs=+quotes]\n-curl -s https://raw.githubusercontent.com/coreos/prometheus-operator/master/example/rbac/prometheus-operator/prometheus-operator-cluster-role-binding.yaml | sed -e 's/namespace: .*/namespace: _my-namespace_/' > prometheus-operator-cluster-role-binding.yaml\n-+\n-[source,shell,subs=+quotes]\n-curl -s https://raw.githubusercontent.com/coreos/prometheus-operator/master/example/rbac/prometheus-operator/prometheus-operator-service-account.yaml | sed -e 's/namespace: .*/namespace: _my-namespace_/' > prometheus-operator-service-account.yaml\n+curl -s https://raw.githubusercontent.com/coreos/prometheus-operator/master/bundle.yaml | sed -e 's/namespace: .*/namespace: _my-namespace_/' > prometheus-operator-deployment.yaml\n +\n On MacOS, use:\n +\n [source,shell,subs=+quotes]\n-curl -s https://raw.githubusercontent.com/coreos/prometheus-operator/master/example/rbac/prometheus-operator/prometheus-operator-deployment.yaml | sed -e '' 's/namespace: .\\*/namespace: _my-namespace_/' > prometheus-operator-deployment.yaml\n-+\n-[source,shell,subs=+quotes]\n-curl -s https://raw.githubusercontent.com/coreos/prometheus-operator/master/example/rbac/prometheus-operator/prometheus-operator-cluster-role.yaml > prometheus-operator-cluster-role.yaml\n-+\n-[source,shell,subs=+quotes]\n-curl -s https://raw.githubusercontent.com/coreos/prometheus-operator/master/example/rbac/prometheus-operator/prometheus-operator-cluster-role-binding.yaml | sed -e '' 's/namespace: .*/namespace: _my-namespace_/' > prometheus-operator-cluster-role-binding.yaml\n-+\n-[source,shell,subs=+quotes]\n-curl -s https://raw.githubusercontent.com/coreos/prometheus-operator/master/example/rbac/prometheus-operator/prometheus-operator-service-account.yaml | sed -e '' 's/namespace: .*/namespace: _my-namespace_/' > prometheus-operator-service-account.yaml\n+curl -s https://raw.githubusercontent.com/coreos/prometheus-operator/master/bundle.yaml | sed -e '' 's/namespace: .*/namespace: _my-namespace_/' > prometheus-operator-deployment.yaml\n +\n NOTE: If it is not required, you can manually remove the `spec.template.spec.securityContext` property from the `prometheus-operator-deployment.yaml` file.\n \n . Deploy the Prometheus Operator:\n +\n [source,shell,subs=\"+attributes\"]\n kubectl apply -f prometheus-operator-deployment.yaml\n-kubectl apply -f prometheus-operator-cluster-role.yaml\n-kubectl apply -f prometheus-operator-cluster-role-binding.yaml\n-kubectl apply -f prometheus-operator-service-account.yaml\n++\n+NOTE: the latest Prometheus Operator installation works fine with Kubernetes 1.18+. For checking which version to use with a different Kubernetes, see this https://github.com/coreos/kube-prometheus#kubernetes-compatibility-matrix[compatibility matrix]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "91e48d5f217cb212d0cd9b13fbd9c58646b188f5"}, "originalPosition": 52}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 76, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}