{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg0OTE4MzY1", "number": 2655, "title": "Configurable cipher suites", "bodyText": "Type of change\n\nEnhancement / new feature\n\nContributes to: #2643\nSigned-off-by: John Beaven beavenj@uk.ibm.com\nDescription\nAdded the ssl.cipher.suites Kafka configuration parameter to the list of allowed parameters (ssl. is excluded at the present time). This allowed the user to lock down the allowable cipher suites that Kafka will support.\nChecklist\nPlease go through this checklist and make sure all applicable tasks have been done\n\n Update/write design documentation in ./design\n Write tests\n Make sure all tests pass\n Update documentation\n Check RBAC rights for Kubernetes / OpenShift roles\n Try your changes from Pod inside your Kubernetes and OpenShift cluster, not just locally\n Reference relevant issue(s) and close them after merging\n Update CHANGELOG.md", "createdAt": "2020-03-06T16:45:11Z", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2655", "merged": true, "mergeCommit": {"oid": "acb81e0231c92909691f21fe89e7b47ea0bed6d6"}, "closed": true, "closedAt": "2020-04-08T08:43:22Z", "author": {"login": "beavenj"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcLChrtgH2gAyMzg0OTE4MzY1OjFkNzA3NzA4ZmYxNjljOThjZWZmYTI4YjYwYjlhZGI1YzFjZDRhODU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcU7Aq_AFqTM4ODA2NDE4OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "1d707708ff169c98ceffa28b60b9adb5c1cd4a85", "author": {"user": {"login": "beavenj", "name": "John Beaven"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/1d707708ff169c98ceffa28b60b9adb5c1cd4a85", "committedDate": "2020-03-06T16:15:51Z", "message": "Added support for setting allowed cipher suites\n\nAdded the ssl.cipher.suites to the forbidden prefix\nexceptions on the KafkaClusterSpec.\n\nSigned-off-by: John Beaven <beavenj@uk.ibm.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "38b6c2e7feafc0a515e8d032ccaaeecbaa1a7d17", "author": {"user": {"login": "beavenj", "name": "John Beaven"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/38b6c2e7feafc0a515e8d032ccaaeecbaa1a7d17", "committedDate": "2020-03-06T16:25:54Z", "message": "Added support for setting allowed cipher suites\n\nAdded the ssl.cipher.suites to the forbidden prefix\nexceptions on the KafkaClusterSpec.\n\nSigned-off-by: John Beaven <beavenj@uk.ibm.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "94a49811e0ccc3b4c823800c76cbf4620dea78d1", "author": {"user": {"login": "beavenj", "name": "John Beaven"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/94a49811e0ccc3b4c823800c76cbf4620dea78d1", "committedDate": "2020-03-06T16:26:09Z", "message": "Merge branch 'configurable-cipher-suites' of https://github.com/beavenj/strimzi-kafka-operator into configurable-cipher-suites"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "42c3f151dbb439cacb86c4128d6b39730655805d", "author": {"user": {"login": "beavenj", "name": "John Beaven"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/42c3f151dbb439cacb86c4128d6b39730655805d", "committedDate": "2020-03-06T16:35:48Z", "message": "Merge branch 'configurable-cipher-suites' of https://github.com/beavenj/strimzi-kafka-operator into configurable-cipher-suites"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c4eeac29c2fe85ffacc06b688af0774d0356d345", "author": {"user": {"login": "beavenj", "name": "John Beaven"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/c4eeac29c2fe85ffacc06b688af0774d0356d345", "committedDate": "2020-03-06T16:37:27Z", "message": "Merge branch 'configurable-cipher-suites' of https://github.com/beavenj/strimzi-kafka-operator into configurable-cipher-suites"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcwNDkwMjA4", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2655#pullrequestreview-370490208", "createdAt": "2020-03-06T17:14:56Z", "commit": {"oid": "c4eeac29c2fe85ffacc06b688af0774d0356d345"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNlQxNzoxNDo1N1rOFzAspg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNlQxNzoxNDo1N1rOFzAspg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTAzMzEyNg==", "bodyText": "Hi John, from a test debugging perspective, the below might be a little bit cleaner:\nassertThat(kc.asOrderedProperties().asMap(), hasEntry(\"ssl.cipher.suites\", \"cipher1,cipher2,cipher3\"));\n\nWhere you statically import hasEntry with: import static org.hamcrest.Matchers.hasEntry;", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2655#discussion_r389033126", "createdAt": "2020-03-06T17:14:57Z", "author": {"login": "samuel-hawker"}, "path": "cluster-operator/src/test/java/io/strimzi/operator/cluster/model/AbstractConfigurationTest.java", "diffHunk": "@@ -238,6 +238,16 @@ public void testKafkaZookeeperTimeout() {\n         assertThat(kc.asOrderedProperties().asMap().get(\"zookeeper.connection.timeout\"), is(nullValue()));\n     }\n \n+    @Test\n+    public void testKafkaCipherSuiteOverride() {\n+        Map<String, Object> conf = new HashMap<>();\n+        conf.put(\"ssl.cipher.suites\", \"cipher1,cipher2,cipher3\"); // valid\n+\n+        KafkaConfiguration kc = new KafkaConfiguration(conf.entrySet());\n+\n+        assertThat(kc.asOrderedProperties().asMap().get(\"ssl.cipher.suites\"), is(\"cipher1,cipher2,cipher3\"));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c4eeac29c2fe85ffacc06b688af0774d0356d345"}, "originalPosition": 11}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcxNTI1MTAy", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2655#pullrequestreview-371525102", "createdAt": "2020-03-09T20:59:46Z", "commit": {"oid": "c4eeac29c2fe85ffacc06b688af0774d0356d345"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg3ODY4MDky", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2655#pullrequestreview-387868092", "createdAt": "2020-04-05T22:25:22Z", "commit": {"oid": "c4eeac29c2fe85ffacc06b688af0774d0356d345"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg3OTk3OTk3", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2655#pullrequestreview-387997997", "createdAt": "2020-04-06T07:36:08Z", "commit": {"oid": "c4eeac29c2fe85ffacc06b688af0774d0356d345"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0a8d623aceb895967163470349fe183827ef45fb", "author": {"user": {"login": "beavenj", "name": "John Beaven"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/0a8d623aceb895967163470349fe183827ef45fb", "committedDate": "2020-04-06T08:08:29Z", "message": "Merge branch 'master' into configurable-cipher-suites"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg4MDY0MTg5", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2655#pullrequestreview-388064189", "createdAt": "2020-04-06T09:09:43Z", "commit": {"oid": "0a8d623aceb895967163470349fe183827ef45fb"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1758, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}