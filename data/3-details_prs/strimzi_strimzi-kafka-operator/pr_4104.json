{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM5NTY2ODQz", "number": 4104, "title": "Prometheus operator does not parse configuration", "bodyText": "Signed-off-by: Stanislav Knot sknot@redhat.com\nType of change\n\nBugfix\n\nDescription\nIt seems the Prometheus operator v0.37 has a bug. If the ServiceMonitor property is not specified, no Prometheus configuration is generated at all. Having ServiceMonitor matcher in our CR does not make sense as we do not support ServiceMonitors but without it does not work \ud83d\ude28\nChecklist\nPlease go through this checklist and make sure all applicable tasks have been done\n\n Write tests\n Make sure all tests pass\n Update documentation\n Check RBAC rights for Kubernetes / OpenShift roles\n Try your changes from Pod inside your Kubernetes and OpenShift cluster, not just locally\n Reference relevant issue(s) and close them after merging\n Update CHANGELOG.md\n Supply screenshots for visual changes, such as Grafana dashboards", "createdAt": "2020-12-14T15:20:45Z", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/4104", "merged": true, "mergeCommit": {"oid": "e9c674e6c02060d2ba73ac7167e8952090b90d76"}, "closed": true, "closedAt": "2020-12-16T19:58:08Z", "author": {"login": "sknot-rh"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdmHTxEgH2gAyNTM5NTY2ODQzOmMyOTUxNjMyMTk0ZjVkZTg2YjQ2MzM5ZmUwMjIyYTEwMzU0MzU5NDg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdmdErjgFqTU1MjY1MDYzMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "c2951632194f5de86b46339fe0222a1035435948", "author": {"user": {"login": "sknot-rh", "name": "Stanislav Knot"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/c2951632194f5de86b46339fe0222a1035435948", "committedDate": "2020-12-14T15:17:17Z", "message": "Prometheus operator does not parse configuration\n\nSigned-off-by: Stanislav Knot <sknot@redhat.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUyMDA4MDQ3", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/4104#pullrequestreview-552008047", "createdAt": "2020-12-15T00:14:19Z", "commit": {"oid": "c2951632194f5de86b46339fe0222a1035435948"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUyNjE1MTg3", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/4104#pullrequestreview-552615187", "createdAt": "2020-12-15T16:03:40Z", "commit": {"oid": "c2951632194f5de86b46339fe0222a1035435948"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNVQxNjowMzo0MVrOIGTB0A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNVQxNjowMzo0MVrOIGTB0A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzQ3NDEyOA==", "bodyText": "the related issue you linked mentions that a \"dummy\" entry is enough like serviceMonitorSelector: {}.\nHave you verified it instead of having this match labels entry?", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/4104#discussion_r543474128", "createdAt": "2020-12-15T16:03:41Z", "author": {"login": "ppatierno"}, "path": "examples/metrics/prometheus-install/prometheus.yaml", "diffHunk": "@@ -58,6 +58,9 @@ spec:\n   podMonitorSelector:\n     matchLabels:\n       app: strimzi\n+  serviceMonitorSelector:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c2951632194f5de86b46339fe0222a1035435948"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aab6051f942618c17a78ddc4349534ae0cd3d37d", "author": {"user": {"login": "sknot-rh", "name": "Stanislav Knot"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/aab6051f942618c17a78ddc4349534ae0cd3d37d", "committedDate": "2020-12-15T16:16:28Z", "message": "comments\n\nSigned-off-by: Stanislav Knot <sknot@redhat.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUyNjUwNjMw", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/4104#pullrequestreview-552650630", "createdAt": "2020-12-15T16:38:43Z", "commit": {"oid": "aab6051f942618c17a78ddc4349534ae0cd3d37d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 748, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}