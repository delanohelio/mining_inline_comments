{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg1MTQ2NDM3", "number": 2657, "title": "ST: Fix several connect tests where race with NP was hit", "bodyText": "Type of change\n\nBugfix\n\nDescription\nThis PR fixes tests, where network policy was setup wrongly. All tests with connect or connects2i was affected by this issue.\nChecklist\n\n Make sure all tests pass", "createdAt": "2020-03-07T13:46:58Z", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2657", "merged": true, "mergeCommit": {"oid": "f9be1109c94920c83e4dd693b8e8ffe4203fa6fe"}, "closed": true, "closedAt": "2020-03-09T13:25:57Z", "author": {"login": "Frawless"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcLU-DqAH2gAyMzg1MTQ2NDM3OmYxNzdhZjZjZDc4MmEyOWQ0YTAxM2I4MWY4NzA4MTU4NjlmMDdhOWI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcL76B_AFqTM3MTA3Njg1Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "f177af6cd782a29d4a013b81f870815869f07a9b", "author": {"user": {"login": "Frawless", "name": "Jakub Stejskal"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/f177af6cd782a29d4a013b81f870815869f07a9b", "committedDate": "2020-03-07T13:45:08Z", "message": "Fix several connect tests where race with NP was hit\n\nSigned-off-by: Jakub Stejskal <xstejs24@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1a831f50debc33d50c38907bc66a686a8c916056", "author": {"user": {"login": "Frawless", "name": "Jakub Stejskal"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/1a831f50debc33d50c38907bc66a686a8c916056", "committedDate": "2020-03-07T14:11:12Z", "message": "fixup! Fix several connect tests where race with NP was hit\n\nSigned-off-by: Jakub Stejskal <xstejs24@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "58d30dd9fe6ab59afa070420c04d11b220e99c8c", "author": {"user": {"login": "Frawless", "name": "Jakub Stejskal"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/58d30dd9fe6ab59afa070420c04d11b220e99c8c", "committedDate": "2020-03-07T17:58:46Z", "message": "Deal with problem when NP wasn't recreated in case of env recreation, include connect tests\n\nSigned-off-by: Jakub Stejskal <xstejs24@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d8080826f4eac45e818694b47856ef13b2793c52", "author": {"user": {"login": "Frawless", "name": "Jakub Stejskal"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/d8080826f4eac45e818694b47856ef13b2793c52", "committedDate": "2020-03-08T16:47:39Z", "message": "Another bunch of fixes\n\nSigned-off-by: Jakub Stejskal <xstejs24@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcxMDM5Mzkz", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2657#pullrequestreview-371039393", "createdAt": "2020-03-09T10:05:08Z", "commit": {"oid": "d8080826f4eac45e818694b47856ef13b2793c52"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQxMDowNTowOFrOFzhBpA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQxMDowNTowOFrOFzhBpA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTU2Mjc4OA==", "bodyText": "\"true\" -> Boolean.TRUE.toString()", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2657#discussion_r389562788", "createdAt": "2020-03-09T10:05:08Z", "author": {"login": "see-quick"}, "path": "systemtest/src/main/java/io/strimzi/systemtest/resources/crd/KafkaConnectResource.java", "diffHunk": "@@ -92,15 +88,15 @@ private static KafkaConnectBuilder defaultKafkaConnect(KafkaConnect kafkaConnect\n             .endSpec();\n     }\n \n-    private static DoneableKafkaConnect deployKafkaConnect(KafkaConnect kafkaConnect, boolean allowNetworkPolicyAccess, String clusterName) {\n+    private static DoneableKafkaConnect deployKafkaConnect(KafkaConnect kafkaConnect, String clusterName) {\n+        if (Environment.DEFAULT_TO_DENY_NETWORK_POLICIES.equals(\"true\")) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d8080826f4eac45e818694b47856ef13b2793c52"}, "originalPosition": 35}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcxMDQxMTgz", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2657#pullrequestreview-371041183", "createdAt": "2020-03-09T10:08:01Z", "commit": {"oid": "d8080826f4eac45e818694b47856ef13b2793c52"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQxMDowODowMlrOFzhHPQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQxMDowODowMlrOFzhHPQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTU2NDIyMQ==", "bodyText": "same would be great to use static factory method Boolean.TRUE.toString()", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2657#discussion_r389564221", "createdAt": "2020-03-09T10:08:02Z", "author": {"login": "see-quick"}, "path": "systemtest/src/main/java/io/strimzi/systemtest/resources/crd/KafkaConnectS2IResource.java", "diffHunk": "@@ -75,15 +68,15 @@ public static KafkaConnectS2IBuilder defaultKafkaConnectS2I(KafkaConnectS2I kafk\n             .endSpec();\n     }\n \n-    private static DoneableKafkaConnectS2I deployKafkaConnectS2I(KafkaConnectS2I kafkaConnectS2I, boolean allowNetworkPolicyAccess, String clusterName) {\n+    private static DoneableKafkaConnectS2I deployKafkaConnectS2I(KafkaConnectS2I kafkaConnectS2I, String clusterName) {\n+        if (Environment.DEFAULT_TO_DENY_NETWORK_POLICIES.equals(\"true\")) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d8080826f4eac45e818694b47856ef13b2793c52"}, "originalPosition": 26}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcxMDQ1ODI5", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2657#pullrequestreview-371045829", "createdAt": "2020-03-09T10:15:24Z", "commit": {"oid": "d8080826f4eac45e818694b47856ef13b2793c52"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcxMDQ2OTYy", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2657#pullrequestreview-371046962", "createdAt": "2020-03-09T10:17:15Z", "commit": {"oid": "d8080826f4eac45e818694b47856ef13b2793c52"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8ed3a5f98fa683573c174f0ef265d2fa2745cdbd", "author": {"user": {"login": "Frawless", "name": "Jakub Stejskal"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/8ed3a5f98fa683573c174f0ef265d2fa2745cdbd", "committedDate": "2020-03-09T11:00:26Z", "message": "Add some fixes after review\n\nSigned-off-by: Jakub Stejskal <xstejs24@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcxMDc2ODUy", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2657#pullrequestreview-371076852", "createdAt": "2020-03-09T11:07:02Z", "commit": {"oid": "8ed3a5f98fa683573c174f0ef265d2fa2745cdbd"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2025, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}