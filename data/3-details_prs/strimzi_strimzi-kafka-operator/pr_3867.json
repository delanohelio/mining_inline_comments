{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA5MDU1ODk3", "number": 3867, "title": "Fix various metrics examples issues", "bodyText": "Signed-off-by: Stanislav Knot sknot@redhat.com\nType of change\n\nBugfix\n\nDescription\nMM2 dashboard was trying to get connect metrics. MM2 and ConnectS2I metrics were not scrapped at all.\nChecklist\n\n Write tests\n Make sure all tests pass\n Update documentation\n Check RBAC rights for Kubernetes / OpenShift roles\n Try your changes from Pod inside your Kubernetes and OpenShift cluster, not just locally\n Reference relevant issue(s) and close them after merging\n Update CHANGELOG.md\n Supply screenshots for visual changes, such as Grafana dashboards", "createdAt": "2020-10-23T15:49:32Z", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3867", "merged": true, "mergeCommit": {"oid": "ccbd9f8318f16c6fba196a5da5176348e300383f"}, "closed": true, "closedAt": "2020-11-02T10:42:42Z", "author": {"login": "sknot-rh"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdVYk9QAH2gAyNTA5MDU1ODk3OmY4ZmQzMzMzYmM1MjJjNjZjMmMwZDA4ZDIxYTFiODEwNzcyMzI2MWQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdYiNJagFqTUyMTUxNTU4Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "f8fd3333bc522c66c2c0d08d21a1b8107723261d", "author": {"user": {"login": "sknot-rh", "name": "Stanislav Knot"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/f8fd3333bc522c66c2c0d08d21a1b8107723261d", "committedDate": "2020-10-23T15:47:44Z", "message": "Fix various metrics issues\n\nSigned-off-by: Stanislav Knot <sknot@redhat.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "76b7407fe2d3f6631db8ac5600d7b32a1fc712b0", "author": {"user": {"login": "sknot-rh", "name": "Stanislav Knot"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/76b7407fe2d3f6631db8ac5600d7b32a1fc712b0", "committedDate": "2020-10-23T16:00:05Z", "message": "rename podmonitor\n\nSigned-off-by: Stanislav Knot <sknot@redhat.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE1ODA1MzI4", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3867#pullrequestreview-515805328", "createdAt": "2020-10-23T16:01:09Z", "commit": {"oid": "f8fd3333bc522c66c2c0d08d21a1b8107723261d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QxNjowMTowOVrOHnUFxA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QxNjowMTowOVrOHnUFxA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDk4NTY2OA==", "bodyText": "Why not Mirror Maker 1?", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3867#discussion_r510985668", "createdAt": "2020-10-23T16:01:09Z", "author": {"login": "scholzj"}, "path": "examples/metrics/prometheus-install/strimzi-pod-monitor.yaml", "diffHunk": "@@ -60,7 +60,7 @@ spec:\n     matchExpressions:\n       - key: \"strimzi.io/kind\"\n         operator: In\n-        values: [\"Kafka\", \"KafkaConnect\"]\n+        values: [\"Kafka\", \"KafkaConnect\", \"KafkaConnectS2I\", \"KafkaMirrorMaker2\"]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f8fd3333bc522c66c2c0d08d21a1b8107723261d"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bc7f04e0619b2adebc2cce0262059d75457bb917", "author": {"user": {"login": "sknot-rh", "name": "Stanislav Knot"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/bc7f04e0619b2adebc2cce0262059d75457bb917", "committedDate": "2020-10-23T16:13:57Z", "message": "maybe maybe maybe\n\nSigned-off-by: Stanislav Knot <sknot@redhat.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE1ODQxNDY4", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3867#pullrequestreview-515841468", "createdAt": "2020-10-23T16:51:27Z", "commit": {"oid": "bc7f04e0619b2adebc2cce0262059d75457bb917"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QxNjo1MToyOFrOHnVzdw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QxNjo1MjowMVrOHnV0jQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTAxMzc1MQ==", "bodyText": "It is already on the beginning ... does it make sense to have it twice?", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3867#discussion_r511013751", "createdAt": "2020-10-23T16:51:28Z", "author": {"login": "scholzj"}, "path": "examples/metrics/grafana-dashboards/strimzi-kafka-connect.json", "diffHunk": "@@ -124,7 +124,7 @@\n       \"tableColumn\": \"\",\n       \"targets\": [\n         {\n-          \"expr\": \"sum(kafka_connect_worker_connector_count{strimzi_io_kind=~\\\"KafkaConnect.*\\\",strimzi_io_cluster=\\\"$strimzi_connect_cluster_name\\\"})\",\n+          \"expr\": \"sum(kafka_connect_worker_connector_count{strimzi_io_kind=~\\\"KafkaConnect.*\\\",strimzi_io_cluster=\\\"$strimzi_connect_cluster_name\\\", strimzi_io_kind=~\\\"KafkaConnect.*\\\"})\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bc7f04e0619b2adebc2cce0262059d75457bb917"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTAxNDAyOQ==", "bodyText": "Same as above", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3867#discussion_r511014029", "createdAt": "2020-10-23T16:52:01Z", "author": {"login": "scholzj"}, "path": "examples/metrics/grafana-dashboards/strimzi-kafka-connect.json", "diffHunk": "@@ -206,7 +206,7 @@\n       \"tableColumn\": \"\",\n       \"targets\": [\n         {\n-          \"expr\": \"sum(kafka_connect_worker_task_count{strimzi_io_kind=~\\\"KafkaConnect.*\\\",strimzi_io_cluster=\\\"$strimzi_connect_cluster_name\\\"})\",\n+          \"expr\": \"sum(kafka_connect_worker_task_count{strimzi_io_kind=~\\\"KafkaConnect.*\\\",strimzi_io_cluster=\\\"$strimzi_connect_cluster_name\\\", strimzi_io_kind=~\\\"KafkaConnect.*\\\"})\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bc7f04e0619b2adebc2cce0262059d75457bb917"}, "originalPosition": 14}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE1OTIwMzg1", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3867#pullrequestreview-515920385", "createdAt": "2020-10-23T18:40:39Z", "commit": {"oid": "bc7f04e0619b2adebc2cce0262059d75457bb917"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5429b941899342357e32ad61e0836cc14de4a33c", "author": {"user": {"login": "sknot-rh", "name": "Stanislav Knot"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/5429b941899342357e32ad61e0836cc14de4a33c", "committedDate": "2020-10-23T21:07:53Z", "message": "reduce blindness\n\nSigned-off-by: Stanislav Knot <sknot@redhat.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a27171ec3120e8fd0bb80060fe60d828f0603cdc", "author": {"user": {"login": "sknot-rh", "name": "Stanislav Knot"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/a27171ec3120e8fd0bb80060fe60d828f0603cdc", "committedDate": "2020-10-26T11:21:26Z", "message": "aha\n\nSigned-off-by: Stanislav Knot <sknot@redhat.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE2NzI0MzE5", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3867#pullrequestreview-516724319", "createdAt": "2020-10-26T12:24:54Z", "commit": {"oid": "a27171ec3120e8fd0bb80060fe60d828f0603cdc"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "76afe468bc12116c26dd7530eff6e19953eea0fd", "author": {"user": {"login": "sknot-rh", "name": "Stanislav Knot"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/76afe468bc12116c26dd7530eff6e19953eea0fd", "committedDate": "2020-11-02T09:59:49Z", "message": "addressing comments\n\nSigned-off-by: Stanislav Knot <sknot@redhat.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIxNTE1NTgy", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3867#pullrequestreview-521515582", "createdAt": "2020-11-02T10:42:33Z", "commit": {"oid": "76afe468bc12116c26dd7530eff6e19953eea0fd"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 853, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}