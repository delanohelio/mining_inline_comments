{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTEyOTk1MDYy", "number": 3899, "title": "Fix useServiceDnsDomain documentation", "bodyText": "Signed-off-by: Jakub Scholz www@scholzj.com\nType of change\nSelect the type of your PR\n\nBugfix\nEnhancement / new feature\nRefactoring\nDocumentation\n\nDescription\nThis PR fixes / improves the documentation about the useServiceDnsDomain option in listener configuration. It fixes bad YAML in some parts of the docs and improves the description in the API reference.\nThis PR should close #3898.\nThis should be cherry-picked for 0.20.0 in case we do some patch release.", "createdAt": "2020-10-30T13:25:10Z", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3899", "merged": true, "mergeCommit": {"oid": "2e936d42767393e20e2f2ba044ce0676f71fe2d1"}, "closed": true, "closedAt": "2020-10-30T15:37:00Z", "author": {"login": "scholzj"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdXmssNAH2gAyNTEyOTk1MDYyOjgyOTNlMDUwZjRhMGYyZDg3ZGMwMWI1YjgyMTRhYjc1YWU5M2EyODQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdXnxggAFqTUyMDczMDM3MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "8293e050f4a0f2d87dc01b5b8214ab75ae93a284", "author": {"user": {"login": "scholzj", "name": "Jakub Scholz"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/8293e050f4a0f2d87dc01b5b8214ab75ae93a284", "committedDate": "2020-10-30T13:22:42Z", "message": "Fix useServiceDnsDomain documentation - Closes #3898\n\nSigned-off-by: Jakub Scholz <www@scholzj.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIwNjkzMDAz", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3899#pullrequestreview-520693003", "createdAt": "2020-10-30T13:58:00Z", "commit": {"oid": "8293e050f4a0f2d87dc01b5b8214ab75ae93a284"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxMzo1ODowMFrOHrQPxw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxNDowMjo0OVrOHrQdHA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTExNjk5OQ==", "bodyText": "End this sentence with a full stop.", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3899#discussion_r515116999", "createdAt": "2020-10-30T13:58:00Z", "author": {"login": "laidan6000"}, "path": "documentation/api/io.strimzi.api.kafka.model.listener.arraylistener.GenericKafkaListenerConfiguration.adoc", "diffHunk": "@@ -115,7 +115,25 @@ listeners:\n === `useServiceDnsDomain`\n \n The `useServiceDnsDomain` property is only used with `internal` listeners,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8293e050f4a0f2d87dc01b5b8214ab75ae93a284"}, "originalPosition": 3}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTExNzM2MQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            and defines whether the fully-qualified DNS names including the cluster service suffix (usually `.cluster.local`) are used.\n          \n          \n            \n            It defines whether the fully-qualified DNS names that include the cluster service suffix (usually `.cluster.local`) are used.", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3899#discussion_r515117361", "createdAt": "2020-10-30T13:58:34Z", "author": {"login": "laidan6000"}, "path": "documentation/api/io.strimzi.api.kafka.model.listener.arraylistener.GenericKafkaListenerConfiguration.adoc", "diffHunk": "@@ -115,7 +115,25 @@ listeners:\n === `useServiceDnsDomain`\n \n The `useServiceDnsDomain` property is only used with `internal` listeners,\n-and defines whether the fully-qualified DNS names including the cluster service suffix (usually `.cluster.local`) are assigned.\n+and defines whether the fully-qualified DNS names including the cluster service suffix (usually `.cluster.local`) are used.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8293e050f4a0f2d87dc01b5b8214ab75ae93a284"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTExNzY5MQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            With `useServiceDnsDomain` set as `false`, the advertised addresses are generated without the service suffix - for example `my-cluster-kafka-0.my-cluster-kafka-brokers.myproject.svc`.\n          \n          \n            \n            With `useServiceDnsDomain` set as `false`, the advertised addresses are generated without the service suffix; for example, `my-cluster-kafka-0.my-cluster-kafka-brokers.myproject.svc`.", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3899#discussion_r515117691", "createdAt": "2020-10-30T13:59:02Z", "author": {"login": "laidan6000"}, "path": "documentation/api/io.strimzi.api.kafka.model.listener.arraylistener.GenericKafkaListenerConfiguration.adoc", "diffHunk": "@@ -115,7 +115,25 @@ listeners:\n === `useServiceDnsDomain`\n \n The `useServiceDnsDomain` property is only used with `internal` listeners,\n-and defines whether the fully-qualified DNS names including the cluster service suffix (usually `.cluster.local`) are assigned.\n+and defines whether the fully-qualified DNS names including the cluster service suffix (usually `.cluster.local`) are used.\n+With `useServiceDnsDomain` set as `false`, the advertised addresses are generated without the service suffix - for example `my-cluster-kafka-0.my-cluster-kafka-brokers.myproject.svc`.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8293e050f4a0f2d87dc01b5b8214ab75ae93a284"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTExODcxMw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            With `useServiceDnsDomain` set as `false`, the advertised addresses are generated without the service suffix - for example `my-cluster-kafka-0.my-cluster-kafka-brokers.myproject.svc.cluster.local`.\n          \n          \n            \n            With `useServiceDnsDomain` set as `true`, the advertised addresses are generated with the service suffix; for example, `my-cluster-kafka-0.my-cluster-kafka-brokers.myproject.svc.cluster.local`.", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3899#discussion_r515118713", "createdAt": "2020-10-30T14:00:35Z", "author": {"login": "laidan6000"}, "path": "documentation/api/io.strimzi.api.kafka.model.listener.arraylistener.GenericKafkaListenerConfiguration.adoc", "diffHunk": "@@ -115,7 +115,25 @@ listeners:\n === `useServiceDnsDomain`\n \n The `useServiceDnsDomain` property is only used with `internal` listeners,\n-and defines whether the fully-qualified DNS names including the cluster service suffix (usually `.cluster.local`) are assigned.\n+and defines whether the fully-qualified DNS names including the cluster service suffix (usually `.cluster.local`) are used.\n+With `useServiceDnsDomain` set as `false`, the advertised addresses are generated without the service suffix - for example `my-cluster-kafka-0.my-cluster-kafka-brokers.myproject.svc`.\n+With `useServiceDnsDomain` set as `false`, the advertised addresses are generated without the service suffix - for example `my-cluster-kafka-0.my-cluster-kafka-brokers.myproject.svc.cluster.local`.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8293e050f4a0f2d87dc01b5b8214ab75ae93a284"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTEyMDQxMg==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            In case your Kubernetes cluster uses different service suffix then `.cluster.local`, you can configure it using the `KUBERNETES_SERVICE_DNS_DOMAIN` environment variable in the Cluster Operator configuration.\n          \n          \n            \n            If your Kubernetes cluster uses a different service suffix than `.cluster.local`, you can configure the suffix using the `KUBERNETES_SERVICE_DNS_DOMAIN` environment variable in the Cluster Operator configuration.", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3899#discussion_r515120412", "createdAt": "2020-10-30T14:02:49Z", "author": {"login": "laidan6000"}, "path": "documentation/api/io.strimzi.api.kafka.model.listener.arraylistener.GenericKafkaListenerConfiguration.adoc", "diffHunk": "@@ -115,7 +115,25 @@ listeners:\n === `useServiceDnsDomain`\n \n The `useServiceDnsDomain` property is only used with `internal` listeners,\n-and defines whether the fully-qualified DNS names including the cluster service suffix (usually `.cluster.local`) are assigned.\n+and defines whether the fully-qualified DNS names including the cluster service suffix (usually `.cluster.local`) are used.\n+With `useServiceDnsDomain` set as `false`, the advertised addresses are generated without the service suffix - for example `my-cluster-kafka-0.my-cluster-kafka-brokers.myproject.svc`.\n+With `useServiceDnsDomain` set as `false`, the advertised addresses are generated without the service suffix - for example `my-cluster-kafka-0.my-cluster-kafka-brokers.myproject.svc.cluster.local`.\n Default is `false`.\n \n-With `useServiceDnsDomain` set as `false` and advertised addresses defined, the Kubernetes network can join an outside network.\n+.Example of an internal listener configured to use the Service DNS domain\n+[source,yaml,subs=attributes+]\n+----\n+listeners:\n+  #...\n+  - name: plain\n+    port: 9092\n+    type: internal\n+    tls: false\n+    configuration:\n+      useServiceDnsDomain: true\n+      # ...\n+# ...\n+----\n+\n+In case your Kubernetes cluster uses different service suffix then `.cluster.local`, you can configure it using the `KUBERNETES_SERVICE_DNS_DOMAIN` environment variable in the Cluster Operator configuration.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8293e050f4a0f2d87dc01b5b8214ab75ae93a284"}, "originalPosition": 26}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b90e0aef0e41930ba4e395ad63af1e3c3a8284b9", "author": {"user": {"login": "scholzj", "name": "Jakub Scholz"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/b90e0aef0e41930ba4e395ad63af1e3c3a8284b9", "committedDate": "2020-10-30T14:08:22Z", "message": "Apply suggestions from code review\r\n\r\nSigned-off-by: Jakub Scholz <www@scholzj.com>\n\nCo-authored-by: Daniel Laing <dlaing@redhat.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "548fc25cb677c7b5ae4f97c1b43ec059919714e4", "author": {"user": {"login": "scholzj", "name": "Jakub Scholz"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/548fc25cb677c7b5ae4f97c1b43ec059919714e4", "committedDate": "2020-10-30T14:09:04Z", "message": "Review comments\n\nSigned-off-by: Jakub Scholz <www@scholzj.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIwNzA2NTcy", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3899#pullrequestreview-520706572", "createdAt": "2020-10-30T14:12:19Z", "commit": {"oid": "548fc25cb677c7b5ae4f97c1b43ec059919714e4"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIwNzMwMzcw", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3899#pullrequestreview-520730370", "createdAt": "2020-10-30T14:37:52Z", "commit": {"oid": "548fc25cb677c7b5ae4f97c1b43ec059919714e4"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 867, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}