{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzczNjE4MzMw", "number": 2534, "title": "feat: Refactor tests to use pre-defined constants", "bodyText": "Type of change\nSelect the type of your PR\n\nEnhancement / new feature\nRefactoring\n\nDescription\nSome things to note:\nPulled some annotation constants into API to increase their visibility through classes and to allow system-tests to use them (as cluster-operator is not written to .m2)\nMade annotations have a slash to match labels.\nUsed deprecated tag to highlight deprecated annotation usage.\nChecklist\nPlease go through this checklist and make sure all applicable tasks have been done\n\n Update/write design documentation in ./design\n Write tests\n Make sure all tests pass\n Update documentation\n Check RBAC rights for Kubernetes / OpenShift roles\n Try your changes from Pod inside your Kubernetes and OpenShift cluster, not just locally\n Reference relevant issue(s) and close them after merging\n Update CHANGELOG.md", "createdAt": "2020-02-11T11:57:02Z", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2534", "merged": true, "mergeCommit": {"oid": "fcb85b6be653d7580f0efbf1186920a5a2f02b1b"}, "closed": true, "closedAt": "2020-02-25T08:25:28Z", "author": {"login": "samuel-hawker"}, "timelineItems": {"totalCount": 17, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcCIGmlgH2gAyMzczNjE4MzMwOmQ0ZjlmMDA0NjI0ZDI3N2UzZTJmNDUxOGE1NmNkYjJlMzAzZjVhZDM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcHs5YXgFqTM2MzkxNDk5NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "d4f9f004624d277e3e2f4518a56cdb2e303f5ad3", "author": {"user": {"login": "samuel-hawker", "name": "Samuel Hawker"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/d4f9f004624d277e3e2f4518a56cdb2e303f5ad3", "committedDate": "2020-02-07T23:40:23Z", "message": "feat: Checking in\n\nSigned-off-by: Samuel Hawker <samuel.hawker@ibm.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d434e4e251d3239fe34b5f69e42f526da6e1a97c", "author": {"user": {"login": "samuel-hawker", "name": "Samuel Hawker"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/d434e4e251d3239fe34b5f69e42f526da6e1a97c", "committedDate": "2020-02-08T18:10:25Z", "message": "feat: More test fixes\n\nSigned-off-by: Samuel Hawker <samuel.hawker@ibm.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2c55511d897fdb2e4a8d5d87568f990d63a79579", "author": {"user": {"login": "samuel-hawker", "name": "Samuel Hawker"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/2c55511d897fdb2e4a8d5d87568f990d63a79579", "committedDate": "2020-02-10T11:16:02Z", "message": "feat: Checking in\n\nSigned-off-by: Samuel Hawker <samuel.hawker@ibm.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ee04175e70b015e7920356a2ece9471df3359fa3", "author": {"user": {"login": "samuel-hawker", "name": "Samuel Hawker"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/ee04175e70b015e7920356a2ece9471df3359fa3", "committedDate": "2020-02-10T20:15:13Z", "message": "feat: Move annotations\n\nSigned-off-by: Samuel Hawker <samuel.hawker@ibm.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7db1509c4b9f56de53d96708d8a28a692e2d0c47", "author": {"user": {"login": "samuel-hawker", "name": "Samuel Hawker"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/7db1509c4b9f56de53d96708d8a28a692e2d0c47", "committedDate": "2020-02-10T21:07:11Z", "message": "feat: Final tests\n\nSigned-off-by: Samuel Hawker <samuel.hawker@ibm.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "13ea4b03d98d57dcccbf4a76a7524fae8dc27f91", "author": {"user": {"login": "samuel-hawker", "name": "Samuel Hawker"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/13ea4b03d98d57dcccbf4a76a7524fae8dc27f91", "committedDate": "2020-02-11T11:21:35Z", "message": "chore: Revert changes to check tests\n\nSigned-off-by: Samuel Hawker <samuel.hawker@ibm.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ddbfe869bdcaba2ccbf6514bcf5a60d51fd7963b", "author": {"user": {"login": "samuel-hawker", "name": "Samuel Hawker"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/ddbfe869bdcaba2ccbf6514bcf5a60d51fd7963b", "committedDate": "2020-02-12T14:51:14Z", "message": "Merge branch 'master' into test-refactor"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "152a08d755644bdcf0b6a75915d113882710f271", "author": {"user": {"login": "samuel-hawker", "name": "Samuel Hawker"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/152a08d755644bdcf0b6a75915d113882710f271", "committedDate": "2020-02-18T13:16:46Z", "message": "Merge branch 'master' into test-refactor"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYwNjk0NTMw", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2534#pullrequestreview-360694530", "createdAt": "2020-02-18T21:43:12Z", "commit": {"oid": "152a08d755644bdcf0b6a75915d113882710f271"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOFQyMTo0MzoxMlrOFrTf7A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOFQyMTo0MzoxMlrOFrTf7A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDk1MjU1Ng==", "bodyText": "I do not see any changes in ClusterOperator. Which I guess means that the strimzi.io is still hardcoded there as:\npublic static final String STRIMZI_CLUSTER_OPERATOR_DOMAIN = \"cluster.operator.strimzi.io\";\n\nwhich should be probably changed? Or did I missed this change somewhere in this PR?", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2534#discussion_r380952556", "createdAt": "2020-02-18T21:43:12Z", "author": {"login": "scholzj"}, "path": "cluster-operator/src/main/java/io/strimzi/operator/cluster/model/AbstractModel.java", "diffHunk": "@@ -96,11 +97,11 @@\n     public static final String ENV_VAR_STRIMZI_JAVA_SYSTEM_PROPERTIES = \"STRIMZI_JAVA_SYSTEM_PROPERTIES\";\n     public static final String ENV_VAR_STRIMZI_GC_LOG_ENABLED = \"STRIMZI_GC_LOG_ENABLED\";\n \n-    public static final String ANNO_STRIMZI_IO_DELETE_CLAIM = Annotations.STRIMZI_DOMAIN + \"/delete-claim\";\n+    public static final String ANNO_STRIMZI_IO_DELETE_CLAIM = Annotations.STRIMZI_DOMAIN + \"delete-claim\";\n     /** Annotation on PVCs storing the original configuration (so we can revert changes). */\n-    public static final String ANNO_STRIMZI_IO_STORAGE = Annotations.STRIMZI_DOMAIN + \"/storage\";\n+    public static final String ANNO_STRIMZI_IO_STORAGE = Annotations.STRIMZI_DOMAIN + \"storage\";\n     @Deprecated\n-    public static final String ANNO_CO_STRIMZI_IO_DELETE_CLAIM = \"cluster.operator.strimzi.io/delete-claim\";\n+    public static final String ANNO_CO_STRIMZI_IO_DELETE_CLAIM = ClusterOperator.STRIMZI_CLUSTER_OPERATOR_DOMAIN + \"/delete-claim\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "152a08d755644bdcf0b6a75915d113882710f271"}, "originalPosition": 19}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYwOTI5NDg4", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2534#pullrequestreview-360929488", "createdAt": "2020-02-19T08:49:38Z", "commit": {"oid": "152a08d755644bdcf0b6a75915d113882710f271"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQwODo0OTozOFrOFrffSw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQwODo0OTozOFrOFrffSw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTE0OTAwMw==", "bodyText": "I guess this also needs to be changed to avoid //.", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2534#discussion_r381149003", "createdAt": "2020-02-19T08:49:38Z", "author": {"login": "tombentley"}, "path": "cluster-operator/src/main/java/io/strimzi/operator/cluster/model/AbstractModel.java", "diffHunk": "@@ -96,11 +97,11 @@\n     public static final String ENV_VAR_STRIMZI_JAVA_SYSTEM_PROPERTIES = \"STRIMZI_JAVA_SYSTEM_PROPERTIES\";\n     public static final String ENV_VAR_STRIMZI_GC_LOG_ENABLED = \"STRIMZI_GC_LOG_ENABLED\";\n \n-    public static final String ANNO_STRIMZI_IO_DELETE_CLAIM = Annotations.STRIMZI_DOMAIN + \"/delete-claim\";\n+    public static final String ANNO_STRIMZI_IO_DELETE_CLAIM = Annotations.STRIMZI_DOMAIN + \"delete-claim\";\n     /** Annotation on PVCs storing the original configuration (so we can revert changes). */\n-    public static final String ANNO_STRIMZI_IO_STORAGE = Annotations.STRIMZI_DOMAIN + \"/storage\";\n+    public static final String ANNO_STRIMZI_IO_STORAGE = Annotations.STRIMZI_DOMAIN + \"storage\";\n     @Deprecated\n-    public static final String ANNO_CO_STRIMZI_IO_DELETE_CLAIM = \"cluster.operator.strimzi.io/delete-claim\";\n+    public static final String ANNO_CO_STRIMZI_IO_DELETE_CLAIM = ClusterOperator.STRIMZI_CLUSTER_OPERATOR_DOMAIN + \"/delete-claim\";\n \n     public static final String ANNO_STRIMZI_CM_GENERATION = Annotations.STRIMZI_DOMAIN + \"/cm-generation\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "152a08d755644bdcf0b6a75915d113882710f271"}, "originalPosition": 21}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "85e5bf20911be295626dcdfdf0b0659cb2f127a1", "author": {"user": {"login": "samuel-hawker", "name": "Samuel Hawker"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/85e5bf20911be295626dcdfdf0b0659cb2f127a1", "committedDate": "2020-02-19T09:45:45Z", "message": "fix: Remove typo slash\n\nSigned-off-by: Samuel Hawker <samuel.hawker@ibm.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "739a92e7b3a13ed6d69d0734045d03d199ab4761", "author": {"user": {"login": "samuel-hawker", "name": "Samuel Hawker"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/739a92e7b3a13ed6d69d0734045d03d199ab4761", "committedDate": "2020-02-19T09:57:57Z", "message": "Merge branch 'master' into test-refactor"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a646998b3ce49c2302fec054a30a9c31f02e8260", "author": {"user": {"login": "samuel-hawker", "name": "Samuel Hawker"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/a646998b3ce49c2302fec054a30a9c31f02e8260", "committedDate": "2020-02-23T16:36:23Z", "message": "Merge branch 'master' into test-refactor"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYzMTI3NDUy", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2534#pullrequestreview-363127452", "createdAt": "2020-02-23T22:26:59Z", "commit": {"oid": "a646998b3ce49c2302fec054a30a9c31f02e8260"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "050ee77c2e5afe4b9f82b08a6fca233c44ac7afd", "author": {"user": {"login": "samuel-hawker", "name": "Samuel Hawker"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/050ee77c2e5afe4b9f82b08a6fca233c44ac7afd", "committedDate": "2020-02-24T20:55:14Z", "message": "Merge branch 'master' into test-refactor"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c1d1897b8c475bc54d3e366670b1836fda412ed1", "author": {"user": {"login": "samuel-hawker", "name": "Samuel Hawker"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/c1d1897b8c475bc54d3e366670b1836fda412ed1", "committedDate": "2020-02-24T20:51:32Z", "message": "Merge branch 'master' into test-refactor"}, "afterCommit": {"oid": "050ee77c2e5afe4b9f82b08a6fca233c44ac7afd", "author": {"user": {"login": "samuel-hawker", "name": "Samuel Hawker"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/050ee77c2e5afe4b9f82b08a6fca233c44ac7afd", "committedDate": "2020-02-24T20:55:14Z", "message": "Merge branch 'master' into test-refactor"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYzOTE0OTk0", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2534#pullrequestreview-363914994", "createdAt": "2020-02-25T07:22:03Z", "commit": {"oid": "050ee77c2e5afe4b9f82b08a6fca233c44ac7afd"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1703, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}