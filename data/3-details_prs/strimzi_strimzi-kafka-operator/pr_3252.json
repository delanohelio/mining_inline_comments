{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQwNzkwMzkx", "number": 3252, "title": "[DOC] Use the new zone label in documentation", "bodyText": "Type of change\n\nDocumentation\n\nDescription\nThe old label failure-domain.beta.kubernetes.io/zone for indicating zone is deprectaed in newer Kubernetes versions in favour of the new label topology.kubernetes.io/zone. This PR replaces its use in our documentation with the new label (while also mentioning the old label in the text).\nChecklist\n\n Update documentation", "createdAt": "2020-06-26T21:17:16Z", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3252", "merged": true, "mergeCommit": {"oid": "0ea1e1b886cc716d25d048e67b76ab74c0afb526"}, "closed": true, "closedAt": "2020-06-30T14:34:22Z", "author": {"login": "scholzj"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcvJN7ggH2gAyNDQwNzkwMzkxOjY2NzU3ZDZmMWZlZjZkM2I0NWI1NmJlZTFhMjI1ZDRmYjA4MDI1M2I=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcwSMHHAH2gAyNDQwNzkwMzkxOjE2ZjdiOWUwYjMxNmNhZDJhNDBlMGQwNzEyZjczMTRmOGRiMDZhYTU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "66757d6f1fef6d3b45b56bee1a225d4fb080253b", "author": {"user": {"login": "scholzj", "name": "Jakub Scholz"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/66757d6f1fef6d3b45b56bee1a225d4fb080253b", "committedDate": "2020-06-26T20:24:53Z", "message": "Use the new zone label in documentation\n\nSigned-off-by: Jakub Scholz <www@scholzj.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM4NjEzNDk1", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3252#pullrequestreview-438613495", "createdAt": "2020-06-26T21:46:06Z", "commit": {"oid": "66757d6f1fef6d3b45b56bee1a225d4fb080253b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM4Njg1NTU2", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3252#pullrequestreview-438685556", "createdAt": "2020-06-27T09:26:46Z", "commit": {"oid": "66757d6f1fef6d3b45b56bee1a225d4fb080253b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QwOToyNjo0NlrOGp0iyQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QwOToyNjo0NlrOGp0iyQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjUwNTY3Mw==", "bodyText": "maybe we can specify what is the latest Kubernetes version still supporting the old label?", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3252#discussion_r446505673", "createdAt": "2020-06-27T09:26:46Z", "author": {"login": "ppatierno"}, "path": "documentation/modules/proc-configuring-kafka-rack-awareness.adoc", "diffHunk": "@@ -10,7 +10,7 @@ The `rack` object has one mandatory field named `topologyKey`.\n This key needs to match one of the labels assigned to the Kubernetes cluster nodes.\n The label is used by Kubernetes when scheduling the Kafka broker pods to nodes.\n If the Kubernetes cluster is running on a cloud provider platform, that label should represent the availability zone where the node is running.\n-Usually, the nodes are labeled with `failure-domain.beta.kubernetes.io/zone` that can be easily used as the `topologyKey` value.\n+Usually, the nodes are labeled with `topology.kubernetes.io/zone` label (or `failure-domain.beta.kubernetes.io/zone` on older Kubernetes versions) that can be easily used as the `topologyKey` value.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "66757d6f1fef6d3b45b56bee1a225d4fb080253b"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2ed1f03125653c95564002b02dfa4cca78205106", "author": {"user": {"login": "scholzj", "name": "Jakub Scholz"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/2ed1f03125653c95564002b02dfa4cca78205106", "committedDate": "2020-06-27T17:27:07Z", "message": "Review comments\n\nSigned-off-by: Jakub Scholz <www@scholzj.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM5NzE5OTkx", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3252#pullrequestreview-439719991", "createdAt": "2020-06-30T06:56:19Z", "commit": {"oid": "2ed1f03125653c95564002b02dfa4cca78205106"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQwNjo1NjoxOVrOGquTng==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQwNjo1NjoxOVrOGquTng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzQ1MjA2Mg==", "bodyText": "Do we need the 'Usually'?  Nodes are assigned a topology.kubernetes.io/zone label (or failure-domain.beta.kubernetes.io/zone on older Kubernetes versions), which can be used as the topologyKey value.", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3252#discussion_r447452062", "createdAt": "2020-06-30T06:56:19Z", "author": {"login": "PaulRMellor"}, "path": "documentation/modules/proc-configuring-kafka-rack-awareness.adoc", "diffHunk": "@@ -10,7 +10,8 @@ The `rack` object has one mandatory field named `topologyKey`.\n This key needs to match one of the labels assigned to the Kubernetes cluster nodes.\n The label is used by Kubernetes when scheduling the Kafka broker pods to nodes.\n If the Kubernetes cluster is running on a cloud provider platform, that label should represent the availability zone where the node is running.\n-Usually, the nodes are labeled with `failure-domain.beta.kubernetes.io/zone` that can be easily used as the `topologyKey` value.\n+Usually, the nodes are labeled with `topology.kubernetes.io/zone` label (or `failure-domain.beta.kubernetes.io/zone` on older Kubernetes versions) that can be easily used as the `topologyKey` value.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2ed1f03125653c95564002b02dfa4cca78205106"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM5NzIwNzk4", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3252#pullrequestreview-439720798", "createdAt": "2020-06-30T06:57:42Z", "commit": {"oid": "2ed1f03125653c95564002b02dfa4cca78205106"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQwNjo1Nzo0MlrOGquWLw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQwNjo1Nzo0MlrOGquWLw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzQ1MjcxOQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            For more details about the Kubernetes node labels, see {K8sWellKnownLabelsAnnotationsAndTaints}.\n          \n          \n            \n            For more information about Kubernetes node labels, see {K8sWellKnownLabelsAnnotationsAndTaints}.", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3252#discussion_r447452719", "createdAt": "2020-06-30T06:57:42Z", "author": {"login": "PaulRMellor"}, "path": "documentation/modules/proc-configuring-kafka-rack-awareness.adoc", "diffHunk": "@@ -10,7 +10,8 @@ The `rack` object has one mandatory field named `topologyKey`.\n This key needs to match one of the labels assigned to the Kubernetes cluster nodes.\n The label is used by Kubernetes when scheduling the Kafka broker pods to nodes.\n If the Kubernetes cluster is running on a cloud provider platform, that label should represent the availability zone where the node is running.\n-Usually, the nodes are labeled with `failure-domain.beta.kubernetes.io/zone` that can be easily used as the `topologyKey` value.\n+Usually, the nodes are labeled with `topology.kubernetes.io/zone` label (or `failure-domain.beta.kubernetes.io/zone` on older Kubernetes versions) that can be easily used as the `topologyKey` value.\n+For more details about the Kubernetes node labels, see {K8sWellKnownLabelsAnnotationsAndTaints}.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2ed1f03125653c95564002b02dfa4cca78205106"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM5NzIxMzY2", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3252#pullrequestreview-439721366", "createdAt": "2020-06-30T06:58:34Z", "commit": {"oid": "2ed1f03125653c95564002b02dfa4cca78205106"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQwNjo1ODozNFrOGquX6A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQwNjo1ODozNFrOGquX6A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzQ1MzE2MA==", "bodyText": "Same comment as above", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3252#discussion_r447453160", "createdAt": "2020-06-30T06:58:34Z", "author": {"login": "PaulRMellor"}, "path": "documentation/modules/ref-kafka-rack.adoc", "diffHunk": "@@ -11,7 +11,7 @@ The label is used by Kubernetes when scheduling the Kafka broker pods to nodes.\n \n If the Kubernetes cluster is running on a cloud provider platform, that label should represent the availability zone where the node is running.\n If the Kubernetes cluster is running on a cloud provider platform, that label should represent the availability zone where the node is running.\n-Usually, the nodes are labelled with `failure-domain.beta.kubernetes.io/zone` that can be easily used as the `topologyKey` value.\n+Usually, the nodes are labeled with `topology.kubernetes.io/zone` label (or `failure-domain.beta.kubernetes.io/zone` on older Kubernetes versions) that can be easily used as the `topologyKey` value.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2ed1f03125653c95564002b02dfa4cca78205106"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM5NzIyNTc3", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3252#pullrequestreview-439722577", "createdAt": "2020-06-30T07:00:33Z", "commit": {"oid": "2ed1f03125653c95564002b02dfa4cca78205106"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQwNzowMDozNFrOGqubzg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQwNzowMDozNFrOGqubzg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzQ1NDE1OA==", "bodyText": "Better placed before the example?  Above might not be on same page in PDF.\nIn the following example, the topology.kubernetes.io/zone node label is used for scheduling Kafka broker Pods.", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3252#discussion_r447454158", "createdAt": "2020-06-30T07:00:34Z", "author": {"login": "PaulRMellor"}, "path": "documentation/modules/ref-kafka-rack.adoc", "diffHunk": "@@ -25,11 +25,11 @@ spec:\n   kafka:\n     # ...\n     rack:\n-      topologyKey: failure-domain.beta.kubernetes.io/zone\n+      topologyKey: topology.kubernetes.io/zone\n     # ...\n ----\n \n-In the above example, the `failure-domain.beta.kubernetes.io/zone` node label will be used for scheduling Kafka broker Pods.\n+In the above example, the `topology.kubernetes.io/zone` node label will be used for scheduling Kafka broker Pods.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2ed1f03125653c95564002b02dfa4cca78205106"}, "originalPosition": 19}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM5NzIzMTIy", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3252#pullrequestreview-439723122", "createdAt": "2020-06-30T07:01:28Z", "commit": {"oid": "2ed1f03125653c95564002b02dfa4cca78205106"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM5NzU4MTM2", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3252#pullrequestreview-439758136", "createdAt": "2020-06-30T07:51:53Z", "commit": {"oid": "2ed1f03125653c95564002b02dfa4cca78205106"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQwNzo1MTo1M1rOGqwLJA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQwNzo1MTo1M1rOGqwLJA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzQ4MjY2MA==", "bodyText": "That's fine thanks.", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3252#discussion_r447482660", "createdAt": "2020-06-30T07:51:53Z", "author": {"login": "ppatierno"}, "path": "documentation/modules/proc-configuring-kafka-rack-awareness.adoc", "diffHunk": "@@ -10,7 +10,7 @@ The `rack` object has one mandatory field named `topologyKey`.\n This key needs to match one of the labels assigned to the Kubernetes cluster nodes.\n The label is used by Kubernetes when scheduling the Kafka broker pods to nodes.\n If the Kubernetes cluster is running on a cloud provider platform, that label should represent the availability zone where the node is running.\n-Usually, the nodes are labeled with `failure-domain.beta.kubernetes.io/zone` that can be easily used as the `topologyKey` value.\n+Usually, the nodes are labeled with `topology.kubernetes.io/zone` label (or `failure-domain.beta.kubernetes.io/zone` on older Kubernetes versions) that can be easily used as the `topologyKey` value.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjUwNTY3Mw=="}, "originalCommit": {"oid": "66757d6f1fef6d3b45b56bee1a225d4fb080253b"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "16f7b9e0b316cad2a40e0d0712f7314f8db06aa5", "author": {"user": {"login": "scholzj", "name": "Jakub Scholz"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/16f7b9e0b316cad2a40e0d0712f7314f8db06aa5", "committedDate": "2020-06-30T09:25:58Z", "message": "Review comments\n\nSigned-off-by: Jakub Scholz <www@scholzj.com>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1242, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}