{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIxOTk4ODQ3", "number": 3078, "title": "[DOC] New CORS config properties for Kafka Bridge", "bodyText": "Signed-off-by: prmellor pmellor@redhat.com\nDocumentation\nAdded new CORS config properties to Kafka Bridge HTTP configuration section in Using Guide\nLinks to CORS specification, but we might want to add more information on headers.\nChecklist\nPlease go through this checklist and make sure all applicable tasks have been done\n\n Update/write design documentation in ./design\n Write tests\n Make sure all tests pass\n Update documentation\n Check RBAC rights for Kubernetes / OpenShift roles\n Try your changes from Pod inside your Kubernetes and OpenShift cluster, not just locally\n Reference relevant issue(s) and close them after merging\n Update CHANGELOG.md", "createdAt": "2020-05-22T15:51:00Z", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3078", "merged": true, "mergeCommit": {"oid": "ab2f36012805589e78d6b5c9c020f9d2d11e678b"}, "closed": true, "closedAt": "2020-05-26T23:38:28Z", "author": {"login": "PaulRMellor"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcj0SXGgH2gAyNDIxOTk4ODQ3OjRmOWFkOWJiN2I3ZjA1Zjk4OTJjZWUwM2FkMGI5OTQ3NWNhMjEwNDY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABclH65mgFqTQxODUxMDY0OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "4f9ad9bb7b7f05f9892cee03ad0b99475ca21046", "author": {"user": {"login": "PaulRMellor", "name": null}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/4f9ad9bb7b7f05f9892cee03ad0b99475ca21046", "committedDate": "2020-05-22T15:48:33Z", "message": "new CORS config properties for Kafka Bridge\n\nSigned-off-by: prmellor <pmellor@redhat.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE3MDczOTYx", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3078#pullrequestreview-417073961", "createdAt": "2020-05-22T17:26:08Z", "commit": {"oid": "4f9ad9bb7b7f05f9892cee03ad0b99475ca21046"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE3Mjc1NTgy", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3078#pullrequestreview-417275582", "createdAt": "2020-05-23T12:35:06Z", "commit": {"oid": "4f9ad9bb7b7f05f9892cee03ad0b99475ca21046"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE4MTQ3OTQ3", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3078#pullrequestreview-418147947", "createdAt": "2020-05-26T09:59:26Z", "commit": {"oid": "4f9ad9bb7b7f05f9892cee03ad0b99475ca21046"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQwOTo1OToyNlrOGaXOvQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQxMDowMTowNlrOGaXSfA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDI5Njc2NQ==", "bodyText": "A little ambiguous? How about:\nTo configure CORS, you define a list of allowed resource origins and HTTP methods to access them.", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3078#discussion_r430296765", "createdAt": "2020-05-26T09:59:26Z", "author": {"login": "laidan6000"}, "path": "documentation/modules/ref-kafka-bridge-http-configuration.adoc", "diffHunk": "@@ -6,9 +6,11 @@\n = Kafka Bridge HTTP configuration\n \n Kafka Bridge HTTP configuration is set using the properties in `KafkaBridge.spec.http`.\n-This property contains the Kafka Bridge HTTP configuration options.\n \n-* `port`\n+As well as enabling HTTP access to a Kafka cluster, HTTP properties provide the capability to enable and define access control for the Kafka Bridge through Cross-Origin Resource Sharing (CORS).\n+CORS is a HTTP mechanism that allows browser access to selected resources from more than one origin.\n+For CORS, you define a list of allowed resource origins and HTTP methods for access.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4f9ad9bb7b7f05f9892cee03ad0b99475ca21046"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDI5NzcyNA==", "bodyText": "Are they \"CORS HTTP methods\" or plain old HTTP methods?", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3078#discussion_r430297724", "createdAt": "2020-05-26T10:01:06Z", "author": {"login": "laidan6000"}, "path": "documentation/modules/ref-kafka-bridge-http-configuration.adoc", "diffHunk": "@@ -20,6 +22,12 @@ metadata:\n spec:\n   # ...\n   http:\n-    port: 8080\n+    port: 8080 <1>\n+    cors:\n+      allowedOrigins: \"https://strimzi.io\" <2>\n+      allowedMethods: \"GET,POST,PUT,DELETE,OPTIONS,PATCH\" <3>\n   # ...\n ----\n+<1> The default HTTP configuration for the Kafka Bridge to listen on port 8080.\n+<2> Comma-separated list of allowed CORS origins. You can use a URL or a Java regular expression.\n+<3> Comma-separated list of allowed CORS HTTP methods.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4f9ad9bb7b7f05f9892cee03ad0b99475ca21046"}, "originalPosition": 27}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a47fc11b1da5ee7e770b7881b7f3850d3c351acb", "author": {"user": {"login": "PaulRMellor", "name": null}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/a47fc11b1da5ee7e770b7881b7f3850d3c351acb", "committedDate": "2020-05-26T16:33:08Z", "message": "review edits DL\n\nSigned-off-by: prmellor <pmellor@redhat.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE4NTEwNjQ5", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3078#pullrequestreview-418510649", "createdAt": "2020-05-26T17:14:57Z", "commit": {"oid": "a47fc11b1da5ee7e770b7881b7f3850d3c351acb"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1785, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}