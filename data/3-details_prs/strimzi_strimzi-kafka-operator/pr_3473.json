{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY0NDM1NTEz", "number": 3473, "title": "[DOC] Cruise Control docs enhancements for capacity limits, etc.", "bodyText": "Signed-off-by: Daniel Laing dlaing@redhat.com\nType of change\n\nDocumentation\n\nDescription\nUpdated guide: Using Strimzi\nVarious changes to the \"Cruise Control for Cluster rebalancing\" section.\n\n\nExplain the relationship between the resource distribution / utilization goals and the capacity limits that apply to them. Currently, this is not very obvious unless you know how Cruise Control works.\n\n\nFix a typo in \"Rebalance performance tuning overview\" (configuration of a Kafka custom resource).\n\n\nIn relation to enhancement #3296 , state that KafkaRebalance custom resource cannot be reused after the status changes to ready.\n\n\nAdded the CpuUsageDistributionGoal to the list of master optimization goals (this was missed in earlier PRs)\n\n\nTry to improve the table in \"Rebalance performance tuning overview\".\n\n\nChecklist\nPlease go through this checklist and make sure all applicable tasks have been done\n\n Write tests\n Make sure all tests pass\n Update documentation\n Check RBAC rights for Kubernetes / OpenShift roles\n Try your changes from Pod inside your Kubernetes and OpenShift cluster, not just locally\n Reference relevant issue(s) and close them after merging - Issue #3296\n Update CHANGELOG.md\n Supply screenshots for visual changes, such as Grafana dashboards", "createdAt": "2020-08-07T07:09:48Z", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3473", "merged": true, "mergeCommit": {"oid": "63d8534cbbb839ab6429853e9e6dc362c38a9b61"}, "closed": true, "closedAt": "2020-08-11T18:00:19Z", "author": {"login": "laidan6000"}, "timelineItems": {"totalCount": 14, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc8elKggH2gAyNDY0NDM1NTEzOjg4MGJjODdjYjk3ZGVkODQ4ZjVjNWYwMzEzODFkNzdlZTUxYzI3YjI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc92UtCgFqTQ2NTAzMzc4NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "880bc87cb97ded848f5c5f031381d77ee51c27b2", "author": {"user": null}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/880bc87cb97ded848f5c5f031381d77ee51c27b2", "committedDate": "2020-08-07T06:39:17Z", "message": "edits for capacity limit, fix typo\n\nSigned-off-by: Daniel Laing <dlaing@redhat.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "031259d1c2dc8abfab175ace7f5fcd6e2192ed1f", "author": {"user": null}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/031259d1c2dc8abfab175ace7f5fcd6e2192ed1f", "committedDate": "2020-08-07T06:57:02Z", "message": "cannot reuse KafkaRebalance custom resources\n\nSigned-off-by: Daniel Laing <dlaing@redhat.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYzMDkyNDcy", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3473#pullrequestreview-463092472", "createdAt": "2020-08-07T07:27:54Z", "commit": {"oid": "031259d1c2dc8abfab175ace7f5fcd6e2192ed1f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYzMTY5Njgz", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3473#pullrequestreview-463169683", "createdAt": "2020-08-07T09:28:09Z", "commit": {"oid": "031259d1c2dc8abfab175ace7f5fcd6e2192ed1f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wN1QwOToyODowOVrOG9TFMg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wN1QwOToyODowOVrOG9TFMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjkyODk0Ng==", "bodyText": "No it needs to be BaseReplicaMovementStrategy as that is the name of the Java class that will be used.", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3473#discussion_r466928946", "createdAt": "2020-08-07T09:28:09Z", "author": {"login": "tomncooper"}, "path": "documentation/modules/cruise-control/con-rebalance-performance.adoc", "diffHunk": "@@ -75,7 +75,7 @@ The relevant configurations are summarised below:\n \n | `default.replica.movement.strategies`             .2+| \n   The list of strategies (in priority order) used to determine the order in which partition reassignment commands are executed for generated proposals. Use a comma separated string for server and a YAML array for `KafkaRebalance` resources.\n-.2+| `BaseReplicaMovementStrategy`\n+.2+|Base Replica Movement Strategy", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "031259d1c2dc8abfab175ace7f5fcd6e2192ed1f"}, "originalPosition": 22}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYzMTcwNDQz", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3473#pullrequestreview-463170443", "createdAt": "2020-08-07T09:29:22Z", "commit": {"oid": "031259d1c2dc8abfab175ace7f5fcd6e2192ed1f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYzMjcwMTE4", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3473#pullrequestreview-463270118", "createdAt": "2020-08-07T12:26:05Z", "commit": {"oid": "031259d1c2dc8abfab175ace7f5fcd6e2192ed1f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "99d4d5bd6f4ec29a29ecebceb73879002f9aadd9", "author": {"user": null}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/99d4d5bd6f4ec29a29ecebceb73879002f9aadd9", "committedDate": "2020-08-07T13:07:54Z", "message": "review comment TC\n\nSigned-off-by: Daniel Laing <dlaing@redhat.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY0ODUzMTAx", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3473#pullrequestreview-464853101", "createdAt": "2020-08-11T08:26:25Z", "commit": {"oid": "99d4d5bd6f4ec29a29ecebceb73879002f9aadd9"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMVQwODoyNjoyNVrOG-tlcA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMVQwODoyNjoyNVrOG-tlcA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODQxMTc2MA==", "bodyText": "should we be explaining the annotation a bit more here or linking somewhere?", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3473#discussion_r468411760", "createdAt": "2020-08-11T08:26:25Z", "author": {"login": "PaulRMellor"}, "path": "documentation/modules/cruise-control/con-optimization-goals.adoc", "diffHunk": "@@ -184,7 +188,9 @@ User-provided optimization goals must:\n * Include all configured xref:hard-soft-goals[hard goals], or an error occurs\n * Be a subset of the master optimization goals\n \n-To ignore the configured hard goals in an optimization proposal, add the `skipHardGoalCheck: true` option to the `KafkaRebalance` custom resource.\n+To ignore the configured hard goals in the generated optimization proposal, add the `skipHardGoalCheck: true` option to the `KafkaRebalance` custom resource.\n+\n+To apply an optimization proposal and rebalance the Kafka cluster, you annotate the `KafkaRebalance` custom resource. ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "99d4d5bd6f4ec29a29ecebceb73879002f9aadd9"}, "originalPosition": 62}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY0ODU0OTgx", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3473#pullrequestreview-464854981", "createdAt": "2020-08-11T08:28:50Z", "commit": {"oid": "99d4d5bd6f4ec29a29ecebceb73879002f9aadd9"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8aeade22a88e896081f71010524a095f6680802c", "author": {"user": null}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/8aeade22a88e896081f71010524a095f6680802c", "committedDate": "2020-08-11T09:04:57Z", "message": "Review comments PM, plus add optional step\n\nSigned-off-by: Daniel Laing <dlaing@redhat.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fbae39cfc66513a0ae27339d8d81008456dbd598", "author": {"user": null}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/fbae39cfc66513a0ae27339d8d81008456dbd598", "committedDate": "2020-08-11T09:06:54Z", "message": "review comment PM\n\nSigned-off-by: Daniel Laing <dlaing@redhat.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "97cb6bb35dd629684eb9ddee712347fba5fcd2f5", "author": {"user": null}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/97cb6bb35dd629684eb9ddee712347fba5fcd2f5", "committedDate": "2020-08-11T09:14:12Z", "message": "tw edits\n\nSigned-off-by: Daniel Laing <dlaing@redhat.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a9cd025279df637c3cef1f6e6be5584c988482b0", "author": {"user": null}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/a9cd025279df637c3cef1f6e6be5584c988482b0", "committedDate": "2020-08-11T11:02:13Z", "message": "fix unrelated typo in Overview guide\n\nSigned-off-by: Daniel Laing <dlaing@redhat.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY1MDMzNzg1", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3473#pullrequestreview-465033785", "createdAt": "2020-08-11T12:52:57Z", "commit": {"oid": "a9cd025279df637c3cef1f6e6be5584c988482b0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1115, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}