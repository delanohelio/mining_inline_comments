{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE0OTI1MzMw", "number": 2977, "title": "Try to optimize sizes of some maps and arrays", "bodyText": "Type of change\n\nBugfix\n\nDescription\nIn many cases, we create HaskMaps and ArrayLists with the default settings, although they are going to be used for a smaller / predefined number of items. This RP tries to optimize the sizes in the places where obvious by using the initial size in the constructor.\nThis also fixes some api tests for MM2 which used wrong field names and were failing.\nChecklist\n\n Try your changes from Pod inside your Kubernetes and OpenShift cluster, not just locally", "createdAt": "2020-05-07T21:20:03Z", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2977", "merged": true, "mergeCommit": {"oid": "74ca2dc0c034b2bf89bcd082c5528478eb31b41d"}, "closed": true, "closedAt": "2020-05-11T22:02:47Z", "author": {"login": "scholzj"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcgLsKTgFqTQwODk3NzM2NA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcgSEOhAH2gAyNDE0OTI1MzMwOjdlNTEwYzM5ZDU4MGE4YTYwMzhmZGY4OWEzZGI4M2I3MTk3NDFjZTY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA4OTc3MzY0", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2977#pullrequestreview-408977364", "createdAt": "2020-05-11T08:46:44Z", "commit": {"oid": "967bd59d88a6dbe7a9415797d80563bad1e41a61"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQwODo0Njo0NFrOGTSqhA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQwODo0ODozOFrOGTSu8w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjg4MTkyNA==", "bodyText": "This is fine, but it's better still to use the null pattern and allocate a HashMap only when there is an additional property.", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2977#discussion_r422881924", "createdAt": "2020-05-11T08:46:44Z", "author": {"login": "tombentley"}, "path": "api/src/main/java/io/strimzi/api/kafka/model/InlineLogging.java", "diffHunk": "@@ -27,7 +27,7 @@\n \n     public static final String TYPE_INLINE = \"inline\";\n \n-    private Map<String, String> loggers = new HashMap<>();\n+    private Map<String, String> loggers = new HashMap<>(0);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "967bd59d88a6dbe7a9415797d80563bad1e41a61"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjg4MzA1OQ==", "bodyText": "New, not Mew \ud83d\udc31", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2977#discussion_r422883059", "createdAt": "2020-05-11T08:48:38Z", "author": {"login": "tombentley"}, "path": "operator-common/src/main/java/io/strimzi/operator/cluster/model/Ca.java", "diffHunk": "@@ -352,11 +352,12 @@ public CertAndKey generateSignedCert(String commonName, String organization) thr\n         File brokerCertFile = File.createTempFile(\"tls\", \"broker-cert\");\n         File brokerKeyStoreFile = File.createTempFile(\"tls\", \"broker-p12\");\n \n-        Map<String, CertAndKey> certs = new HashMap<>();\n+        int replicasInMewSecret = Math.min(replicasInSecret, replicas);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "967bd59d88a6dbe7a9415797d80563bad1e41a61"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "51497135eb4d00fd80eddd9079b0a55a88c3b957", "author": {"user": {"login": "scholzj", "name": "Jakub Scholz"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/51497135eb4d00fd80eddd9079b0a55a88c3b957", "committedDate": "2020-05-11T14:14:36Z", "message": "Try to optimize sizes of some maps and arrays\n\nSigned-off-by: Jakub Scholz <www@scholzj.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f18005f34285d10793c41c72db498a3ffc5edfd1", "author": {"user": {"login": "scholzj", "name": "Jakub Scholz"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/f18005f34285d10793c41c72db498a3ffc5edfd1", "committedDate": "2020-05-11T14:14:36Z", "message": "Fix API tests caused by wrong fields\n\nSigned-off-by: Jakub Scholz <www@scholzj.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "76e1aa630b4f2d438302ab94cadde95cd801e873", "author": {"user": {"login": "scholzj", "name": "Jakub Scholz"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/76e1aa630b4f2d438302ab94cadde95cd801e873", "committedDate": "2020-05-11T14:14:36Z", "message": "Fix some more tests\n\nSigned-off-by: Jakub Scholz <www@scholzj.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8218ede6d3cdd47c16f04aa7a351a9c3d8ba1c4b", "author": {"user": {"login": "scholzj", "name": "Jakub Scholz"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/8218ede6d3cdd47c16f04aa7a351a9c3d8ba1c4b", "committedDate": "2020-05-11T14:14:36Z", "message": "Review comments\n\nSigned-off-by: Jakub Scholz <www@scholzj.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "967bd59d88a6dbe7a9415797d80563bad1e41a61", "author": {"user": {"login": "scholzj", "name": "Jakub Scholz"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/967bd59d88a6dbe7a9415797d80563bad1e41a61", "committedDate": "2020-05-07T22:52:11Z", "message": "Fix some more tests\n\nSigned-off-by: Jakub Scholz <www@scholzj.com>"}, "afterCommit": {"oid": "8218ede6d3cdd47c16f04aa7a351a9c3d8ba1c4b", "author": {"user": {"login": "scholzj", "name": "Jakub Scholz"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/8218ede6d3cdd47c16f04aa7a351a9c3d8ba1c4b", "committedDate": "2020-05-11T14:14:36Z", "message": "Review comments\n\nSigned-off-by: Jakub Scholz <www@scholzj.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "87e148387cd490c021a788d78a1c8b8e815c65c2", "author": {"user": {"login": "scholzj", "name": "Jakub Scholz"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/87e148387cd490c021a788d78a1c8b8e815c65c2", "committedDate": "2020-05-11T14:28:38Z", "message": "Fix import\n\nSigned-off-by: Jakub Scholz <www@scholzj.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7e510c39d580a8a6038fdf89a3db83b719741ce6", "author": {"user": {"login": "scholzj", "name": "Jakub Scholz"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/7e510c39d580a8a6038fdf89a3db83b719741ce6", "committedDate": "2020-05-11T16:14:34Z", "message": "Fix tests\n\nSigned-off-by: Jakub Scholz <www@scholzj.com>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1663, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}