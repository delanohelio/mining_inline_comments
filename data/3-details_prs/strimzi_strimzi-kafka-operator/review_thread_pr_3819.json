{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA0MTAzNTY2", "number": 3819, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQxMzo1NDozMlrOEuAb-g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQxNToyNToyMFrOEuDN_w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE2Njc3MTE0OnYy", "diffSide": "RIGHT", "path": "documentation/modules/con-requests-kafka-bridge.adoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQxMzo1NDozMlrOHiJCWg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQxMzo1NDozMlrOHiJCWg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTU2MTY5MA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            * When performing producer operations, `POST` requests must provide `Content-Type` headers specifying the desired _embedded data format_ of the messages produced. This can be either `json` or `binary`.\n          \n          \n            \n            * When performing producer operations, `POST` requests must provide `Content-Type` headers specifying the  _embedded data format_ of the messages produced. This can be either `json` or `binary`.", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3819#discussion_r505561690", "createdAt": "2020-10-15T13:54:32Z", "author": {"login": "PaulRMellor"}, "path": "documentation/modules/con-requests-kafka-bridge.adoc", "diffHunk": "@@ -18,9 +18,9 @@ API request and response bodies are always encoded as JSON.\n Content-Type: application/vnd.kafka.v2+json\n ----\n \n-* When performing producer operations, `POST` requests must provide `Content-Type` headers specifying the desired _embedded data format_, either `json` or `binary`, as shown in the following table.\n+* When performing producer operations, `POST` requests must provide `Content-Type` headers specifying the desired _embedded data format_ of the messages produced. This can be either `json` or `binary`.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1d95700db0244663bbc0d9d6cd1b0a3768553524"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE2NzIyNjg3OnYy", "diffSide": "RIGHT", "path": "documentation/modules/con-requests-kafka-bridge.adoc", "isResolved": false, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQxNToyNToyMFrOHiNdxA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQxOTowMTozOVrOHoeMDg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTYzNDI0NA==", "bodyText": "@ppatierno Was the value not supposed to be base64 encoded?", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3819#discussion_r505634244", "createdAt": "2020-10-15T15:25:20Z", "author": {"login": "scholzj"}, "path": "documentation/modules/con-requests-kafka-bridge.adoc", "diffHunk": "@@ -74,16 +74,50 @@ If you choose to specify a binary embedded data format, subsequent producer requ\n \n Producer requests must also provide a `Content-Type` header that corresponds to the embedded data format, for example, `Content-Type: application/vnd.kafka.binary.v2+json`.\n \n+== Message format\n+\n+When sending messages using the `/topics/` endpoint, you enter the message payload in the `records` parameter in the request body.\n+\n+The `records` parameter can contain any of these optional fields:\n+\n+* Message `headers`\n+* Message `key`\n+* Message `value`\n+* Destination `partition`\n+\n+.Example `POST` request\n+[source,curl,subs=attributes+]\n+----\n+curl -X POST \\\n+  http://localhost:8080/topics/my-topic \\\n+  -H 'content-type: application/vnd.kafka.json.v2+json' \\\n+  -d '{\n+    \"records\": [\n+        {\n+            \"key\": \"my-key\",\n+            \"value\": \"sales-lead-0001\"\n+            \"partition\": 2\n+            \"headers\": [\n+              {\n+                \"key\": \"key1\",\n+                \"value\": \"value1\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e0c31f60465548dcbfd8156a1447373d0fb33eb9"}, "originalPosition": 54}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzU0NDM2Nw==", "bodyText": "@scholzj yes it has to be a base64 encoded value.", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3819#discussion_r507544367", "createdAt": "2020-10-19T07:56:36Z", "author": {"login": "ppatierno"}, "path": "documentation/modules/con-requests-kafka-bridge.adoc", "diffHunk": "@@ -74,16 +74,50 @@ If you choose to specify a binary embedded data format, subsequent producer requ\n \n Producer requests must also provide a `Content-Type` header that corresponds to the embedded data format, for example, `Content-Type: application/vnd.kafka.binary.v2+json`.\n \n+== Message format\n+\n+When sending messages using the `/topics/` endpoint, you enter the message payload in the `records` parameter in the request body.\n+\n+The `records` parameter can contain any of these optional fields:\n+\n+* Message `headers`\n+* Message `key`\n+* Message `value`\n+* Destination `partition`\n+\n+.Example `POST` request\n+[source,curl,subs=attributes+]\n+----\n+curl -X POST \\\n+  http://localhost:8080/topics/my-topic \\\n+  -H 'content-type: application/vnd.kafka.json.v2+json' \\\n+  -d '{\n+    \"records\": [\n+        {\n+            \"key\": \"my-key\",\n+            \"value\": \"sales-lead-0001\"\n+            \"partition\": 2\n+            \"headers\": [\n+              {\n+                \"key\": \"key1\",\n+                \"value\": \"value1\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTYzNDI0NA=="}, "originalCommit": {"oid": "e0c31f60465548dcbfd8156a1447373d0fb33eb9"}, "originalPosition": 54}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjA3Mjc1MQ==", "bodyText": "I've changed this to Base64 and added a call-out.\nDoes the value on line 98 also need to be Base64 encoded? @ppatierno", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3819#discussion_r512072751", "createdAt": "2020-10-26T15:56:31Z", "author": {"login": "laidan6000"}, "path": "documentation/modules/con-requests-kafka-bridge.adoc", "diffHunk": "@@ -74,16 +74,50 @@ If you choose to specify a binary embedded data format, subsequent producer requ\n \n Producer requests must also provide a `Content-Type` header that corresponds to the embedded data format, for example, `Content-Type: application/vnd.kafka.binary.v2+json`.\n \n+== Message format\n+\n+When sending messages using the `/topics/` endpoint, you enter the message payload in the `records` parameter in the request body.\n+\n+The `records` parameter can contain any of these optional fields:\n+\n+* Message `headers`\n+* Message `key`\n+* Message `value`\n+* Destination `partition`\n+\n+.Example `POST` request\n+[source,curl,subs=attributes+]\n+----\n+curl -X POST \\\n+  http://localhost:8080/topics/my-topic \\\n+  -H 'content-type: application/vnd.kafka.json.v2+json' \\\n+  -d '{\n+    \"records\": [\n+        {\n+            \"key\": \"my-key\",\n+            \"value\": \"sales-lead-0001\"\n+            \"partition\": 2\n+            \"headers\": [\n+              {\n+                \"key\": \"key1\",\n+                \"value\": \"value1\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTYzNDI0NA=="}, "originalCommit": {"oid": "e0c31f60465548dcbfd8156a1447373d0fb33eb9"}, "originalPosition": 54}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjE5OTY5NA==", "bodyText": "no that's the value of the message and depends on the embedded format chosen for the created consumer.", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/3819#discussion_r512199694", "createdAt": "2020-10-26T19:01:39Z", "author": {"login": "ppatierno"}, "path": "documentation/modules/con-requests-kafka-bridge.adoc", "diffHunk": "@@ -74,16 +74,50 @@ If you choose to specify a binary embedded data format, subsequent producer requ\n \n Producer requests must also provide a `Content-Type` header that corresponds to the embedded data format, for example, `Content-Type: application/vnd.kafka.binary.v2+json`.\n \n+== Message format\n+\n+When sending messages using the `/topics/` endpoint, you enter the message payload in the `records` parameter in the request body.\n+\n+The `records` parameter can contain any of these optional fields:\n+\n+* Message `headers`\n+* Message `key`\n+* Message `value`\n+* Destination `partition`\n+\n+.Example `POST` request\n+[source,curl,subs=attributes+]\n+----\n+curl -X POST \\\n+  http://localhost:8080/topics/my-topic \\\n+  -H 'content-type: application/vnd.kafka.json.v2+json' \\\n+  -d '{\n+    \"records\": [\n+        {\n+            \"key\": \"my-key\",\n+            \"value\": \"sales-lead-0001\"\n+            \"partition\": 2\n+            \"headers\": [\n+              {\n+                \"key\": \"key1\",\n+                \"value\": \"value1\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTYzNDI0NA=="}, "originalCommit": {"oid": "e0c31f60465548dcbfd8156a1447373d0fb33eb9"}, "originalPosition": 54}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 935, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}