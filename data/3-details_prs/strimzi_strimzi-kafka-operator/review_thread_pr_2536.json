{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzczNjU1ODkx", "number": 2536, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QyMjoxOTowNFrODft8rQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QyMjoxOTowNFrODft8rQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0NTg1MjYxOnYy", "diffSide": "RIGHT", "path": "systemtest/src/test/java/io/strimzi/systemtest/KafkaST.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QyMjoxOTowNFrOFplkFQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xNFQxNTo1MDowN1rOFp7GqQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTE1MTM4MQ==", "bodyText": "You check if it has external listener but not the type. That is a bit weird. Either you expect the resource above and you do not need to check for any of them or you should check for both of them, or?", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2536#discussion_r379151381", "createdAt": "2020-02-13T22:19:04Z", "author": {"login": "scholzj"}, "path": "systemtest/src/test/java/io/strimzi/systemtest/KafkaST.java", "diffHunk": "@@ -1035,6 +1039,31 @@ void testNodePort() throws Exception {\n             .done();\n \n         kafkaClient.sendAndRecvMessages(NAMESPACE);\n+\n+        // Check that Kafka status has correct addresses in NodePort external listener part\n+        for (ListenerStatus listenerStatus : KafkaResource.getKafkaStatus(CLUSTER_NAME, NAMESPACE).getListeners()) {\n+            if (listenerStatus.getType().equals(\"external\")) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "741e9fac01f04349ad7f6cdaa155b7e3436cde41"}, "originalPosition": 52}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTI3OTM2Nw==", "bodyText": "It's used only in NodePort test so I expect that operator will create node port correctly.", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2536#discussion_r379279367", "createdAt": "2020-02-14T07:13:39Z", "author": {"login": "Frawless"}, "path": "systemtest/src/test/java/io/strimzi/systemtest/KafkaST.java", "diffHunk": "@@ -1035,6 +1039,31 @@ void testNodePort() throws Exception {\n             .done();\n \n         kafkaClient.sendAndRecvMessages(NAMESPACE);\n+\n+        // Check that Kafka status has correct addresses in NodePort external listener part\n+        for (ListenerStatus listenerStatus : KafkaResource.getKafkaStatus(CLUSTER_NAME, NAMESPACE).getListeners()) {\n+            if (listenerStatus.getType().equals(\"external\")) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTE1MTM4MQ=="}, "originalCommit": {"oid": "741e9fac01f04349ad7f6cdaa155b7e3436cde41"}, "originalPosition": 52}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTUwNDI5Nw==", "bodyText": "I guess you are right. I misread the code.", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2536#discussion_r379504297", "createdAt": "2020-02-14T15:50:07Z", "author": {"login": "scholzj"}, "path": "systemtest/src/test/java/io/strimzi/systemtest/KafkaST.java", "diffHunk": "@@ -1035,6 +1039,31 @@ void testNodePort() throws Exception {\n             .done();\n \n         kafkaClient.sendAndRecvMessages(NAMESPACE);\n+\n+        // Check that Kafka status has correct addresses in NodePort external listener part\n+        for (ListenerStatus listenerStatus : KafkaResource.getKafkaStatus(CLUSTER_NAME, NAMESPACE).getListeners()) {\n+            if (listenerStatus.getType().equals(\"external\")) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTE1MTM4MQ=="}, "originalCommit": {"oid": "741e9fac01f04349ad7f6cdaa155b7e3436cde41"}, "originalPosition": 52}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 440, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}