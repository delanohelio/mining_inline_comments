{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQzMDAxMDYx", "number": 4134, "title": "Remove the remains of the -server JVM option", "bodyText": "Type of change\n\nBugfix\n\nDescription\nOriginally, the jvmOptions section has an option -server to turn the server mode of the JVM. This option was removed by mistake about 2 years ago. I originally tried to add it back in #4088. But as pointed by @tombentley, it does not seem to be needed anymore (Tom suggested it, I confirmed it) as the JVM is in the server mode by default. Since nobody complained the whole time it was missing, we decided to just remove it instead of adding it back. That is what this Pr does.\nChecklist\n\n Make sure all tests pass\n Update documentation\n Try your changes from Pod inside your Kubernetes and OpenShift cluster, not just locally", "createdAt": "2020-12-20T01:13:24Z", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/4134", "merged": true, "mergeCommit": {"oid": "efff210e5465f05a277998920b5f49dca96d1f2a"}, "closed": true, "closedAt": "2020-12-21T10:51:56Z", "author": {"login": "scholzj"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdn2xEUgH2gAyNTQzMDAxMDYxOjI0YWU3ZmU0ZmJlNWFjOGIyMDc1OWVhNGVkNmEzZWM1ZDkwNDc4M2U=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdoTZEXgFqTU1NjI3OTM4NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "24ae7fe4fbe5ac8b20759ea4ed6a3ec5d904783e", "author": {"user": {"login": "scholzj", "name": "Jakub Scholz"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/24ae7fe4fbe5ac8b20759ea4ed6a3ec5d904783e", "committedDate": "2020-12-20T01:08:45Z", "message": "Remove the remains of the -server JVM option\n\nSigned-off-by: Jakub Scholz <www@scholzj.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b2a356958ca64b49b140eb702fb99d6f4e54d7e6", "author": {"user": {"login": "scholzj", "name": "Jakub Scholz"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/b2a356958ca64b49b140eb702fb99d6f4e54d7e6", "committedDate": "2020-12-20T01:22:17Z", "message": "Fix system tests\n\nSigned-off-by: Jakub Scholz <www@scholzj.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU2MjUxNjA0", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/4134#pullrequestreview-556251604", "createdAt": "2020-12-21T09:45:19Z", "commit": {"oid": "b2a356958ca64b49b140eb702fb99d6f4e54d7e6"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMVQwOTo0NToxOVrOIJSMgA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMVQwOTo0NToxOVrOIJSMgA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjYwNjIwOA==", "bodyText": "I don't think this change is backwards compatible in the sense that, IIRC, newer versions of kube will reject CRs which have properties which don't fit the schema. Someone using such a version of kube might have a CR with -server: true which was accepted with Strimzi 0.20.0 but rejected in 0.21.0. Obviously we can remove all the code in the operator which consumes this value, and change the description.\nWe were contemplating redesigning JvmOptions for v1beta2 anyway, so I guess we should just go ahead and do that, adding @PreventInVersions(\"v1alpha1-v1beta1\") to the property.", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/4134#discussion_r546606208", "createdAt": "2020-12-21T09:45:19Z", "author": {"login": "tombentley"}, "path": "api/src/main/java/io/strimzi/api/kafka/model/JvmOptions.java", "diffHunk": "@@ -59,16 +58,6 @@ public void setXms(String xms) {\n         this.xms = xms;\n     }\n \n-    @JsonProperty(\"-server\")\n-    @Description(\"-server option to to the JVM\")\n-    public Boolean isServer() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b2a356958ca64b49b140eb702fb99d6f4e54d7e6"}, "originalPosition": 14}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU2Mjc5Mzg1", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/4134#pullrequestreview-556279385", "createdAt": "2020-12-21T10:29:47Z", "commit": {"oid": "b2a356958ca64b49b140eb702fb99d6f4e54d7e6"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 770, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}