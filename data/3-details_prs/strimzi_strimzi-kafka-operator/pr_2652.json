{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg0NzcwNzQ1", "number": 2652, "title": "feat: Fail make docker_build if yq version not 3", "bodyText": "Multiple people myself included have been bitten by having\nthe wrong yq version. The docs have been updated to reflect\nthis, but considering the builds will fail with obscure\nmistemplated file errors it would be better to check upfront\nthe yq version.\nIf a user does not have yq version 3.. then it will fail\nthe build and print the warning in red.\nSigned-off-by: Samuel Hawker samuel.hawker@ibm.com\nType of change\nSelect the type of your PR\n\nBugfix\nEnhancement / new feature\nRefactoring\nDocumentation\n\nDescription\nPlease describe your pull request\nChecklist\nPlease go through this checklist and make sure all applicable tasks have been done\n\n Update/write design documentation in ./design\n Write tests\n Make sure all tests pass\n Update documentation\n Check RBAC rights for Kubernetes / OpenShift roles\n Try your changes from Pod inside your Kubernetes and OpenShift cluster, not just locally\n Reference relevant issue(s) and close them after merging\n Update CHANGELOG.md", "createdAt": "2020-03-06T11:25:04Z", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2652", "merged": true, "mergeCommit": {"oid": "f05e0c8f44240be2d43b0ce73151d8dbd4242707"}, "closed": true, "closedAt": "2020-03-07T19:41:48Z", "author": {"login": "samuel-hawker"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcK-VOEgH2gAyMzg0NzcwNzQ1Ojc1ZGI1ZGZkYzNiZmI5OTM4Mjc5NzA2NGM2YjRkOGM0NThkNjBlNzQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcLC9TSgFqTM3MDQ2Nzg3NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "75db5dfdc3bfb99382797064c6b4d8c458d60e74", "author": {"user": {"login": "samuel-hawker", "name": "Samuel Hawker"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/75db5dfdc3bfb99382797064c6b4d8c458d60e74", "committedDate": "2020-03-06T11:22:37Z", "message": "feat: Fail make docker_build if yq version not 3\n\nMultiple people myself included have been bitten by having\nthe wrong yq version. The docs have been updated to reflect\nthis, but considering the builds will fail with obscure\nmistemplated file errors it would be better to check upfront\nthe yq version.\nIf a user does not have yq version 3.*.* then it will fail\nthe build and print the warning in red.\n\nSigned-off-by: Samuel Hawker <samuel.hawker@ibm.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcwMjYwNjg0", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2652#pullrequestreview-370260684", "createdAt": "2020-03-06T11:36:51Z", "commit": {"oid": "75db5dfdc3bfb99382797064c6b4d8c458d60e74"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcwMzQ5NTQ1", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2652#pullrequestreview-370349545", "createdAt": "2020-03-06T14:13:28Z", "commit": {"oid": "75db5dfdc3bfb99382797064c6b4d8c458d60e74"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNlQxNDoxMzoyOFrOFy6DHg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNlQxNDoxMzoyOFrOFy6DHg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODkyNDE5MA==", "bodyText": "I wonder if we should add it also to all ... I guess lot of people might just do make all", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2652#discussion_r388924190", "createdAt": "2020-03-06T14:13:28Z", "author": {"login": "scholzj"}, "path": "Makefile", "diffHunk": "@@ -18,7 +18,7 @@ DOCKER_TARGETS=docker_build docker_push docker_tag\n \n all: $(SUBDIRS)\n clean: $(SUBDIRS) docu_clean\n-$(DOCKER_TARGETS): $(SUBDIRS)\n+$(DOCKER_TARGETS): yq_check $(SUBDIRS)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "75db5dfdc3bfb99382797064c6b4d8c458d60e74"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3158cbc15ab749a6493e7c03e795e66c636ef5bf", "author": {"user": {"login": "samuel-hawker", "name": "Samuel Hawker"}}, "url": "https://github.com/strimzi/strimzi-kafka-operator/commit/3158cbc15ab749a6493e7c03e795e66c636ef5bf", "committedDate": "2020-03-06T15:01:27Z", "message": "feat: Run yq_check on make all\n\nSigned-off-by: Samuel Hawker <samuel.hawker@ibm.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcwNDY3ODc0", "url": "https://github.com/strimzi/strimzi-kafka-operator/pull/2652#pullrequestreview-370467874", "createdAt": "2020-03-06T16:46:01Z", "commit": {"oid": "3158cbc15ab749a6493e7c03e795e66c636ef5bf"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1753, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}