{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM0NjA4NjY3", "number": 1700, "title": "DG-293: Improve exception messages in JsonSchemaConverter and ProtobufConverter", "bodyText": "add unsupported class type in ProtobufConverter.toConnectData()'s exception messages\nadd topic name in JsonConverter's exception messages", "createdAt": "2020-12-08T17:30:06Z", "url": "https://github.com/confluentinc/schema-registry/pull/1700", "merged": true, "mergeCommit": {"oid": "5d3dbb66564994c2dcb0270a599cbab11c08a442"}, "closed": true, "closedAt": "2020-12-08T20:19:11Z", "author": {"login": "xiaoyali97"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdkOPaigH2gAyNTM0NjA4NjY3OjNjYjhkNGJlNDA2NzM5MGQyYjhkMGE1NTcxMTdhMzUxYzM2YTRiNWI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdkP_GAAFqTU0NzU5NDQ4NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "3cb8d4be4067390d2b8d0a557117a351c36a4b5b", "author": {"user": {"login": "xiaoyali97", "name": "Xiaoya Li"}}, "url": "https://github.com/confluentinc/schema-registry/commit/3cb8d4be4067390d2b8d0a557117a351c36a4b5b", "committedDate": "2020-12-08T18:14:01Z", "message": "DG-293 improves exception message in JsonSchemaConverter and ProtobufConverter"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0e8e5a437eb580aac909c32fd14f9f706ff0ea45", "author": {"user": {"login": "xiaoyali97", "name": "Xiaoya Li"}}, "url": "https://github.com/confluentinc/schema-registry/commit/0e8e5a437eb580aac909c32fd14f9f706ff0ea45", "committedDate": "2020-12-08T18:14:01Z", "message": "also improve fromConnectData()"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "36acb5c4dbad9319b797085eb9f9e6af8d40de85", "author": {"user": {"login": "xiaoyali97", "name": "Xiaoya Li"}}, "url": "https://github.com/confluentinc/schema-registry/commit/36acb5c4dbad9319b797085eb9f9e6af8d40de85", "committedDate": "2020-12-08T01:04:11Z", "message": "also improve fromConnectData()"}, "afterCommit": {"oid": "0e8e5a437eb580aac909c32fd14f9f706ff0ea45", "author": {"user": {"login": "xiaoyali97", "name": "Xiaoya Li"}}, "url": "https://github.com/confluentinc/schema-registry/commit/0e8e5a437eb580aac909c32fd14f9f706ff0ea45", "committedDate": "2020-12-08T18:14:01Z", "message": "also improve fromConnectData()"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ3NTUwODU5", "url": "https://github.com/confluentinc/schema-registry/pull/1700#pullrequestreview-547550859", "createdAt": "2020-12-08T19:15:16Z", "commit": {"oid": "0e8e5a437eb580aac909c32fd14f9f706ff0ea45"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxOToxNToxNlrOIBx7jg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxOToxNTo0NlrOIBx84A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODczNzU1MA==", "bodyText": "We don't need to track whether this was key or value, typically the topic name will already have that info.", "url": "https://github.com/confluentinc/schema-registry/pull/1700#discussion_r538737550", "createdAt": "2020-12-08T19:15:16Z", "author": {"login": "rayokota"}, "path": "json-schema-converter/src/main/java/io/confluent/connect/json/JsonSchemaConverter.java", "diffHunk": "@@ -47,6 +47,7 @@\n   private Deserializer deserializer;\n \n   private boolean isKey;\n+  private String keyOrValueSuffix;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0e8e5a437eb580aac909c32fd14f9f706ff0ea45"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODczNzg4OA==", "bodyText": "object.getClass() -> object.getClass().getName()", "url": "https://github.com/confluentinc/schema-registry/pull/1700#discussion_r538737888", "createdAt": "2020-12-08T19:15:46Z", "author": {"login": "rayokota"}, "path": "protobuf-converter/src/main/java/io/confluent/connect/protobuf/ProtobufConverter.java", "diffHunk": "@@ -114,15 +117,18 @@ public SchemaAndValue toConnectData(String topic, byte[] value) {\n           Message message = (Message) object;\n           return protobufData.toConnectData(deserialized.getSchema(), message);\n         }\n+        throw new DataException(String.format(\n+            \"Unsupported type %s returned during deserialization of topic %s-%s \",\n+            object.getClass(),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0e8e5a437eb580aac909c32fd14f9f706ff0ea45"}, "originalPosition": 34}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f611513309719b8fc376eab137bb1749c923ccfa", "author": {"user": {"login": "xiaoyali97", "name": "Xiaoya Li"}}, "url": "https://github.com/confluentinc/schema-registry/commit/f611513309719b8fc376eab137bb1749c923ccfa", "committedDate": "2020-12-08T19:27:37Z", "message": "remove keyOrValueSuffix"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ3NTk0NDg0", "url": "https://github.com/confluentinc/schema-registry/pull/1700#pullrequestreview-547594484", "createdAt": "2020-12-08T20:16:00Z", "commit": {"oid": "f611513309719b8fc376eab137bb1749c923ccfa"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4471, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}