{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY1Njk4Mjkw", "number": 4155, "title": "Plfm 6368", "bodyText": "We have to be careful when requiring 'authorize' scope.  The scope is powerful, allowing operations like granting access to third party app's and creating personal access tokens.  Users shouldn't have to grant this scope in order to do common operations.  This PR updates the scope required by various services to remove 'authorize' where not needed:\nGET /bearerToken  has no required scope.  (The returned token is limited by the scope(s) in the access token.)\nPOST /oauth2/session has no required scope.  (It's not an authenticated request in the normal sense and scope is not checked.)\nPOST /entity/id/acl no longer requires 'authorize' scope, just 'view' and 'modify'.\nPUT /entity/id/acl no longer requires 'authorize' scope, just 'view' and 'modify'.\nDELETE /entity/id/acl no longer requires 'authorize' scope, just 'modify'.\nPUT /form/group/id/acl no longer requires 'authorize' scope, just 'view' and 'modify'.\nPUT /schema/organization/id/acl no longer requires 'authorize' scope, just 'view' and 'modify'.\nPUT /team/acl no longer requires 'authorize' scope, just 'view' and 'modify'.\nPUT /evaluation/acl no longer requires 'authorize' scope, just 'view' and 'modify'.", "createdAt": "2020-08-10T19:53:22Z", "url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/pull/4155", "merged": true, "mergeCommit": {"oid": "fec16abf112b9135efb4e976ae14ec8dca9f2740"}, "closed": true, "closedAt": "2020-08-11T21:29:34Z", "author": {"login": "brucehoff"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc09ls6AH2gAyNDY1Njk4MjkwOmRmMzhmYzE3MzFiZWE3NDFlNzk0Mzk3YTVlMmUzMmY0YWY1NTFlNjM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc99tf1AFqTQ2NTQ0MjI5NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "df38fc1731bea741e794397a5e2e32f4af551e63", "author": {"user": {"login": "brucehoff", "name": "Bruce Hoff"}}, "url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/commit/df38fc1731bea741e794397a5e2e32f4af551e63", "committedDate": "2020-07-14T22:15:32Z", "message": "PLFM-6368"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "93e4a573e7806db55ff6d2c09c2105aac59033fa", "author": {"user": {"login": "brucehoff", "name": "Bruce Hoff"}}, "url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/commit/93e4a573e7806db55ff6d2c09c2105aac59033fa", "committedDate": "2020-07-14T22:29:07Z", "message": "PLFM-6368"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "59168fe43d704302b5603108652bf0cf6bd71a9d", "author": {"user": {"login": "brucehoff", "name": "Bruce Hoff"}}, "url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/commit/59168fe43d704302b5603108652bf0cf6bd71a9d", "committedDate": "2020-07-23T15:11:16Z", "message": "PLFM-6368"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1f64409da9ddaf45ce3838a4df3cd921689f6da8", "author": {"user": {"login": "brucehoff", "name": "Bruce Hoff"}}, "url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/commit/1f64409da9ddaf45ce3838a4df3cd921689f6da8", "committedDate": "2020-07-23T15:12:44Z", "message": "Merge branch 'develop' of https://github.com/Sage-Bionetworks/Synapse-Repository-Services into PLFM-6368"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4512c00d9992a9152ebc73011290ff5897cf6179", "author": {"user": {"login": "brucehoff", "name": "Bruce Hoff"}}, "url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/commit/4512c00d9992a9152ebc73011290ff5897cf6179", "committedDate": "2020-07-24T18:46:47Z", "message": "Merge branch 'develop' of https://github.com/Sage-Bionetworks/Synapse-Repository-Services into PLFM-6368"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b886de49ffa59ac5f811343029504f5d5e3132b9", "author": {"user": {"login": "brucehoff", "name": "Bruce Hoff"}}, "url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/commit/b886de49ffa59ac5f811343029504f5d5e3132b9", "committedDate": "2020-08-10T19:09:33Z", "message": "PLFM-6368"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aaa564f126da58cf5e6648fec0a595136e4b93d3", "author": {"user": {"login": "brucehoff", "name": "Bruce Hoff"}}, "url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/commit/aaa564f126da58cf5e6648fec0a595136e4b93d3", "committedDate": "2020-08-10T19:53:42Z", "message": "PLFM-6368"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY1NDQyMjk0", "url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/pull/4155#pullrequestreview-465442294", "createdAt": "2020-08-11T21:29:15Z", "commit": {"oid": "aaa564f126da58cf5e6648fec0a595136e4b93d3"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMVQyMToyOToxNlrOG_J5VA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMVQyMToyOToxNlrOG_J5VA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODg3NTYwNA==", "bodyText": "Might be worth updating to Junit5", "url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/pull/4155#discussion_r468875604", "createdAt": "2020-08-11T21:29:16Z", "author": {"login": "marcomarasca"}, "path": "services/repository-managers/src/test/java/org/sagebionetworks/repo/manager/DockerManagerImplUnitTest.java", "diffHunk": "@@ -45,6 +50,13 @@\n import org.sagebionetworks.util.DockerRegistryEventUtil;\n import org.springframework.test.util.ReflectionTestUtils;\n \n+import com.google.common.collect.ImmutableList;\n+\n+import io.jsonwebtoken.Claims;\n+import io.jsonwebtoken.JwsHeader;\n+import io.jsonwebtoken.Jwt;\n+import io.jsonwebtoken.Jwts;\n+\n \n @RunWith(MockitoJUnitRunner.class)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "aaa564f126da58cf5e6648fec0a595136e4b93d3"}, "originalPosition": 33}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4619, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}