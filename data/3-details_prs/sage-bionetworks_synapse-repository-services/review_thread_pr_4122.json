{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQzNjU4MTk0", "number": 4122, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQyMjoyMTo0NlrOEL3Jlw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQyMjoyMTo0NlrOEL3Jlw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgwODczMzY3OnYy", "diffSide": "RIGHT", "path": "services/repository-managers/src/main/java/org/sagebionetworks/repo/util/jrjc/JRJCHelper.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQyMjoyMTo0NlrOGto70g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QyMjozMzo1N1rOGuR72w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDUwOTc3OA==", "bodyText": "Instantiate a com.fasterxml.jackson.databind.ObjectMapper for JSON serialization in JiraClientImpl.searializeBasicIssue", "url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/pull/4122#discussion_r450509778", "createdAt": "2020-07-06T22:21:46Z", "author": {"login": "zimingd"}, "path": "services/repository-managers/src/main/java/org/sagebionetworks/repo/util/jrjc/JRJCHelper.java", "diffHunk": "@@ -13,23 +14,35 @@\n \tprivate static final String JIRA_PRINCIPAL_ID_ISSUE_FIELD_NAME = \"Synapse Principal ID\"; // The ID of the Synapse user reporting the issue.\n \tprivate static final String JIRA_USER_DISPLAY_NAME_ISSUE_FIELD_NAME = \"Synapse User Display Name\"; // The display name of the Synapse user reporting the issue.\n \tprivate static final String JIRA_SYNAPSE_ENTITY_ID_FIELD_NAME = \"Synapse Data Object\"; // The ID of the Synapse object which is the subject of the issue.\n+\tprivate static final String JIRA_COMPONENT_FIELD_NAME = \"Components\";\n+\tprivate static final String JIRA_COMPONENT_NAME = \"name\";\n+\tprivate static final String JIRA_COMPONENT_FIELD_VALUE_RESTRICTION_REQUEST = \"Data Restriction Request\";\n \tprivate static final String FLAG_SUMMARY = \"Request for ACT to review data\";\n \tprivate static final String RESTRICT_SUMMARY = \"Request for ACT to add data restriction\";\n \t\n \tpublic static String createFlagIssue(JiraClient jiraClient, String principalId, String displayName, String dataObjectId) {\n-        Map<String,String> params = new HashMap<String,String>();\n+        Map<String,Object> params = new HashMap<String,Object>();\n         params.put(JIRA_PRINCIPAL_ID_ISSUE_FIELD_NAME, principalId);\n         params.put(JIRA_USER_DISPLAY_NAME_ISSUE_FIELD_NAME, displayName);\n         params.put(JIRA_SYNAPSE_ENTITY_ID_FIELD_NAME, dataObjectId);\n         CreatedIssue createdIssue = createIssue(jiraClient, JIRA_FLAG_ISSUE_TYPE_NAME, FLAG_SUMMARY, params);\n \t\treturn createdIssue.getKey();\n \t}\n \t\n+\tpublic static JSONArray componentName(String name) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c15bb5025737734c29eb8dc192cd674a7500cc5e"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTE4MTUzMQ==", "bodyText": "I started down this road but it turns put that the mapping in JiraClientImpl.searializeBasicIssue is non-trivial.  I would have to define half a dozen new POJOs to get ObjectMapper to do the right thing.  So I don't think the elegance of ObjectMapper is worth the effort.", "url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/pull/4122#discussion_r451181531", "createdAt": "2020-07-07T22:33:57Z", "author": {"login": "brucehoff"}, "path": "services/repository-managers/src/main/java/org/sagebionetworks/repo/util/jrjc/JRJCHelper.java", "diffHunk": "@@ -13,23 +14,35 @@\n \tprivate static final String JIRA_PRINCIPAL_ID_ISSUE_FIELD_NAME = \"Synapse Principal ID\"; // The ID of the Synapse user reporting the issue.\n \tprivate static final String JIRA_USER_DISPLAY_NAME_ISSUE_FIELD_NAME = \"Synapse User Display Name\"; // The display name of the Synapse user reporting the issue.\n \tprivate static final String JIRA_SYNAPSE_ENTITY_ID_FIELD_NAME = \"Synapse Data Object\"; // The ID of the Synapse object which is the subject of the issue.\n+\tprivate static final String JIRA_COMPONENT_FIELD_NAME = \"Components\";\n+\tprivate static final String JIRA_COMPONENT_NAME = \"name\";\n+\tprivate static final String JIRA_COMPONENT_FIELD_VALUE_RESTRICTION_REQUEST = \"Data Restriction Request\";\n \tprivate static final String FLAG_SUMMARY = \"Request for ACT to review data\";\n \tprivate static final String RESTRICT_SUMMARY = \"Request for ACT to add data restriction\";\n \t\n \tpublic static String createFlagIssue(JiraClient jiraClient, String principalId, String displayName, String dataObjectId) {\n-        Map<String,String> params = new HashMap<String,String>();\n+        Map<String,Object> params = new HashMap<String,Object>();\n         params.put(JIRA_PRINCIPAL_ID_ISSUE_FIELD_NAME, principalId);\n         params.put(JIRA_USER_DISPLAY_NAME_ISSUE_FIELD_NAME, displayName);\n         params.put(JIRA_SYNAPSE_ENTITY_ID_FIELD_NAME, dataObjectId);\n         CreatedIssue createdIssue = createIssue(jiraClient, JIRA_FLAG_ISSUE_TYPE_NAME, FLAG_SUMMARY, params);\n \t\treturn createdIssue.getKey();\n \t}\n \t\n+\tpublic static JSONArray componentName(String name) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDUwOTc3OA=="}, "originalCommit": {"oid": "c15bb5025737734c29eb8dc192cd674a7500cc5e"}, "originalPosition": 28}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2909, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}