{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI3NTI0NDkx", "number": 4078, "title": "PLFM-5337: Added worker to compute the possible view model", "bodyText": "", "createdAt": "2020-06-04T00:45:47Z", "url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/pull/4078", "merged": true, "mergeCommit": {"oid": "fb86371ffadb7bf211e41fdd15227f002e4d2bf4"}, "closed": true, "closedAt": "2020-06-05T00:15:05Z", "author": {"login": "marcomarasca"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcnx55dgH2gAyNDI3NTI0NDkxOjJlNWExOWRlNWViZjBjMTYyNGFkMjhmMGI1NTVkZjc0ZWNiZWFhMTM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcoHN6VgFqTQyNDkxNjQ0Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "2e5a19de5ebf0c1624ad28f0b555df74ecbeaa13", "author": {"user": {"login": "marcomarasca", "name": "Marco Marasca"}}, "url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/commit/2e5a19de5ebf0c1624ad28f0b555df74ecbeaa13", "committedDate": "2020-06-03T23:17:43Z", "message": "PLFM-5337: New worker to process view column model request"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ce919f6e6430adab2eb95efe22baa589dcee0436", "author": {"user": {"login": "marcomarasca", "name": "Marco Marasca"}}, "url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/commit/ce919f6e6430adab2eb95efe22baa589dcee0436", "committedDate": "2020-06-04T00:44:19Z", "message": "Move determineCauseOfReplicationFailure logic to the manager layer"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "07ebb3bb7ce14f5c7ea115c00965297a9b4503f2", "author": {"user": {"login": "marcomarasca", "name": "Marco Marasca"}}, "url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/commit/07ebb3bb7ce14f5c7ea115c00965297a9b4503f2", "committedDate": "2020-06-04T04:49:11Z", "message": "Fix for unstable tests with async view queries"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI0ODkzNjM3", "url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/pull/4078#pullrequestreview-424893637", "createdAt": "2020-06-04T23:06:50Z", "commit": {"oid": "07ebb3bb7ce14f5c7ea115c00965297a9b4503f2"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNFQyMzowNjo1MFrOGfa6sw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNFQyMzowNjo1MFrOGfa6sw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTYwMDA1MQ==", "bodyText": "I am okay with a loop", "url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/pull/4078#discussion_r435600051", "createdAt": "2020-06-04T23:06:50Z", "author": {"login": "john-hill"}, "path": "integration-test/src/test/java/org/sagebionetworks/IT100TableControllerTest.java", "diffHunk": "@@ -915,14 +920,40 @@ private TableEntity createTable(List<String> columns, SynapseClient synapse) thr\n \t * @param expectedCount\r\n \t * @return\r\n \t */\r\n-\tprivate ColumnModelPage waitForColumnModelPage(ViewScope scope, String nextPageToken, int expectedCount) throws Exception{\r\n-\t\t// TODO: Should switch to async job\r\n+\tprivate ViewColumnModelResponse waitForColumnModelPage(ViewScope scope, String nextPageToken, int expectedCount) throws Exception {\r\n+\t\tViewColumnModelRequest request = new ViewColumnModelRequest();\r\n+\t\t\r\n+\t\trequest.setViewScope(scope);\r\n+\t\trequest.setNextPageToken(nextPageToken);\r\n+\r\n+\t\tAtomicReference<String> tokenContainer = new AtomicReference<>();\r\n+\t\t\r", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "07ebb3bb7ce14f5c7ea115c00965297a9b4503f2"}, "originalPosition": 86}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI0OTE2NDQz", "url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/pull/4078#pullrequestreview-424916443", "createdAt": "2020-06-05T00:07:35Z", "commit": {"oid": "07ebb3bb7ce14f5c7ea115c00965297a9b4503f2"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4745, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}