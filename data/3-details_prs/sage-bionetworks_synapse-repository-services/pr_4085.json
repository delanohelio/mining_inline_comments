{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMxNDMwMDQ3", "number": 4085, "title": "UNNEST() returns null for list columns with null values (PLFM-6235)", "bodyText": "", "createdAt": "2020-06-08T22:28:14Z", "url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/pull/4085", "merged": true, "mergeCommit": {"oid": "921d667c1dd73b664bef7e888c1ab6f09aacb224"}, "closed": true, "closedAt": "2020-06-09T16:57:24Z", "author": {"login": "zimingd"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcoeXkggH2gAyNDMxNDMwMDQ3OmYzYzRjYjZjNDRkMWZjMGFiMTA3ODUxNzU2MzE1ZjQzMzUzZWM4NTc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcpoDsigFqTQyNzM2MTg0MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "f3c4cb6c44d1fc0ab107851756315f43353ec857", "author": {"user": {"login": "zimingd", "name": "Ziming Dong"}}, "url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/commit/f3c4cb6c44d1fc0ab107851756315f43353ec857", "committedDate": "2020-06-06T03:05:57Z", "message": "fix unnest() SQL function omitting null rows"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e6dfdb6ce9d95fda480b26308a7aab399b7bf676", "author": {"user": {"login": "zimingd", "name": "Ziming Dong"}}, "url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/commit/e6dfdb6ce9d95fda480b26308a7aab399b7bf676", "committedDate": "2020-06-06T05:47:25Z", "message": "fix test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "977380bca28fff0b4c56d779eff62301b14496cd", "author": {"user": {"login": "zimingd", "name": "Ziming Dong"}}, "url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/commit/977380bca28fff0b4c56d779eff62301b14496cd", "committedDate": "2020-06-08T22:25:42Z", "message": "Merge branch 'develop' of github.com:Sage-Bionetworks/Synapse-Repository-Services into PLFM-6235"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b7293e870eb8f3eb2ff51bbd28813bfde749055e", "author": {"user": {"login": "zimingd", "name": "Ziming Dong"}}, "url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/commit/b7293e870eb8f3eb2ff51bbd28813bfde749055e", "committedDate": "2020-06-09T00:45:48Z", "message": "Merge branch 'develop' into PLFM-6235"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c09e48f60ce88ed68d1f60fcf7410c5fbc666ab2", "author": {"user": {"login": "zimingd", "name": "Ziming Dong"}}, "url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/commit/c09e48f60ce88ed68d1f60fcf7410c5fbc666ab2", "committedDate": "2020-06-09T00:50:34Z", "message": "whitespace"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a11369401f49b18a5dc205ff3d6e72efee8a420d", "author": {"user": {"login": "zimingd", "name": "Ziming Dong"}}, "url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/commit/a11369401f49b18a5dc205ff3d6e72efee8a420d", "committedDate": "2020-06-09T00:56:20Z", "message": "fix test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ffa46c73d810a0c4d37fa283e8b0eec1dd41e2a2", "author": {"user": {"login": "zimingd", "name": "Ziming Dong"}}, "url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/commit/ffa46c73d810a0c4d37fa283e8b0eec1dd41e2a2", "committedDate": "2020-06-09T01:01:58Z", "message": "bump schema-to-pojo to 0.6.1"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI2NzIzMTMw", "url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/pull/4085#pullrequestreview-426723130", "createdAt": "2020-06-09T01:12:37Z", "commit": {"oid": "ffa46c73d810a0c4d37fa283e8b0eec1dd41e2a2"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQwMToxMjozN1rOGg1bvg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQwMToxMjozN1rOGg1bvg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzA4MzA3MA==", "bodyText": "Might want to remove this", "url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/pull/4085#discussion_r437083070", "createdAt": "2020-06-09T01:12:37Z", "author": {"login": "marcomarasca"}, "path": "services/workers/src/test/java/org/sagebionetworks/table/worker/TableWorkerIntegrationTest.java", "diffHunk": "@@ -2158,6 +2158,47 @@ public void testUnnest_returnCount() throws Exception{\n \t\t});\r\n \t}\r\n \r\n+\t//reproduces PLFM-6235\r\n+\t@Test\r\n+\tpublic void testUnnest_nullColumns() throws Exception{\r\n+\t\t// setup an string list column.\r\n+\t\tColumnModel strListColumn = new ColumnModel();\r\n+\t\tstrListColumn.setColumnType(ColumnType.STRING_LIST);\r\n+\t\tstrListColumn.setName(\"strList\");\r\n+\t\tstrListColumn = columnManager.createColumnModel(adminUserInfo, strListColumn);\r\n+\t\tschema = Lists.newArrayList(strListColumn);\r\n+\t\t// build a table with this column.\r\n+\t\tcreateTableWithSchema();\r\n+\t\tTableStatus status = waitForTableProcessing(tableId);\r\n+\t\tif(status.getErrorDetails() != null){\r\n+\t\t\tSystem.out.println(status.getErrorDetails());\r", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ffa46c73d810a0c4d37fa283e8b0eec1dd41e2a2"}, "originalPosition": 17}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "84cc058fbb5f58cdf88da429d5c7f7c662efef15", "author": {"user": {"login": "zimingd", "name": "Ziming Dong"}}, "url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/commit/84cc058fbb5f58cdf88da429d5c7f7c662efef15", "committedDate": "2020-06-09T01:49:39Z", "message": "fix inconsistent test"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI3MzYxODQw", "url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/pull/4085#pullrequestreview-427361840", "createdAt": "2020-06-09T16:57:13Z", "commit": {"oid": "84cc058fbb5f58cdf88da429d5c7f7c662efef15"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4751, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}