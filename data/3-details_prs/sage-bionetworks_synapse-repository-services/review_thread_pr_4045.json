{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE3Njg4NTA2", "number": 4045, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxOTozNDowMFrOD8nvUg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQyMDowMDo1OVrOD8oSIQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0ODkyMjQyOnYy", "diffSide": "RIGHT", "path": "services/repository-managers/src/main/java/org/sagebionetworks/repo/manager/schema/JsonSchemaManagerImpl.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxOTozNDowMFrOGVrQkA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxOTozNDowMFrOGVrQkA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTM4MjAzMg==", "bodyText": "Let us add a unit test", "url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/pull/4045#discussion_r425382032", "createdAt": "2020-05-14T19:34:00Z", "author": {"login": "marcomarasca"}, "path": "services/repository-managers/src/main/java/org/sagebionetworks/repo/manager/schema/JsonSchemaManagerImpl.java", "diffHunk": "@@ -366,5 +368,59 @@ public ListJsonSchemaVersionInfoResponse listSchemaVersions(ListJsonSchemaVersio\n \t\tresponse.setNextPageToken(nextPageToken.getNextPageTokenForCurrentResults(page));\n \t\treturn response;\n \t}\n+\t\n+\t/**\n+\n+\t * \n+\t * @param id\n+\t * @return\n+\t */\n+\t@Override\n+\tpublic JsonSchema getValidationSchema(String id) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "23151c49d5e2a72ffb933c4b7ae6bfd30e1bf5b8"}, "originalPosition": 22}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0ODk5MDg0OnYy", "diffSide": "RIGHT", "path": "services/workers/src/test/resources/pets/Cat.json", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxOTo1NDozNVrOGVr7rA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxOTo1NDozNVrOGVr7rA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTM5MzA2OA==", "bodyText": "We might want to add an additional integration test where we have a similar hierarchy but additionally we have a \"loop\" of $ref, for example here we could add a property named dogFriends that are of type pets.Dog.", "url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/pull/4045#discussion_r425393068", "createdAt": "2020-05-14T19:54:35Z", "author": {"login": "marcomarasca"}, "path": "services/workers/src/test/resources/pets/Cat.json", "diffHunk": "@@ -0,0 +1,15 @@\n+{\n+\t\"title\": \"Cat\",\n+\t\"$id\": \"my.organization/pets.cat.Cat\",\n+\t\"description\": \"...\",\n+\t\"allOf\": [\n+\t\t{\n+\t\t\t\"$ref\": \"my.organization/pets.Pet\"\n+\t\t}\n+\t],\n+\t\"properties\": {\n+\t\t\"breed\": {\n+\t\t\t\"$ref\": \"my.organization/pets.cat.Breed\"\n+\t\t}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "23151c49d5e2a72ffb933c4b7ae6bfd30e1bf5b8"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0OTAxMTUzOnYy", "diffSide": "RIGHT", "path": "services/repository-managers/src/main/java/org/sagebionetworks/repo/manager/schema/SchemaTranslatorImp.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQyMDowMDo1OVrOGVsJSQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQyMDowMDo1OVrOGVsJSQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTM5NjU1Mw==", "bodyText": "Consider renaming the class from SchemaTranslatorImp -> SchemaTranslatorImpl", "url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/pull/4045#discussion_r425396553", "createdAt": "2020-05-14T20:00:59Z", "author": {"login": "marcomarasca"}, "path": "services/repository-managers/src/main/java/org/sagebionetworks/repo/manager/schema/SchemaTranslatorImp.java", "diffHunk": "@@ -33,7 +34,7 @@\n \t@Override\n \tpublic ObjectSchemaImpl loadSchemaFromClasspath(String id) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "23151c49d5e2a72ffb933c4b7ae6bfd30e1bf5b8"}, "originalPosition": 10}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3039, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}