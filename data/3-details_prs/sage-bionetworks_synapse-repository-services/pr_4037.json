{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE1MzE3MzI3", "number": 4037, "title": "PLFM-6158 - Part C: Enum for object types supported by views, subtype is a string", "bodyText": "", "createdAt": "2020-05-08T16:25:31Z", "url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/pull/4037", "merged": true, "mergeCommit": {"oid": "6533658c7787da6261ce0a780d805eb4956d269b"}, "closed": true, "closedAt": "2020-05-08T22:56:45Z", "author": {"login": "marcomarasca"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcfH6h6AH2gAyNDE1MzE3MzI3OmQyM2RjMDc1MWQ0NGY5OTVmOGE5NWI5MjM3NTcxOWI2NmQyYWVlZTQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcfaBNLgFqTQwODU3MDEwOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "d23dc0751d44f995f8a95b92375719b66d2aeee4", "author": {"user": {"login": "marcomarasca", "name": "Marco Marasca"}}, "url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/commit/d23dc0751d44f995f8a95b92375719b66d2aeee4", "committedDate": "2020-05-08T01:51:00Z", "message": "PLFM-6158: Introduce a dedicated enum for supported view object types"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "03acbc62205b1f9d7fffa931fceba5c06e9d18e2", "author": {"user": {"login": "marcomarasca", "name": "Marco Marasca"}}, "url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/commit/03acbc62205b1f9d7fffa931fceba5c06e9d18e2", "committedDate": "2020-05-08T02:00:11Z", "message": "PLFM-6158: Change the object subtype from a generic enum to string"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA4NTY4NDQ5", "url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/pull/4037#pullrequestreview-408568449", "createdAt": "2020-05-08T22:50:50Z", "commit": {"oid": "03acbc62205b1f9d7fffa931fceba5c06e9d18e2"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wOFQyMjo1MDo1MFrOGS129Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wOFQyMjo1MDo1MFrOGS129Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjQwOTk3Mw==", "bodyText": "consider bind variables.", "url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/pull/4037#discussion_r422409973", "createdAt": "2020-05-08T22:50:50Z", "author": {"login": "john-hill"}, "path": "lib/models/src/main/java/org/sagebionetworks/repo/model/table/TableConstants.java", "diffHunk": "@@ -385,8 +384,15 @@ public static String joinEnumForSQL(Enum<?>[] values) {\n \t}\r\n \t\r\n \tpublic static String joinEnumForSQL(Stream<Enum<?>> valuesStream) {\r\n-\t\treturn valuesStream.map( e -> \"'\" + e.name() + \"'\").collect(Collectors.joining(\",\"));\r\n+\t\treturn joinValueForSQL(valuesStream, Enum::name);\r\n+\t}\r\n+\t\r\n+\tpublic static String joinStringForSQL(Stream<String> valuesStream) {\r\n+\t\treturn joinValueForSQL(valuesStream, Function.identity());\r\n \t}\r\n \t\r\n+\tpublic static <T> String joinValueForSQL(Stream<T> valuesStream, Function<T, String> valueMapper) {\r\n+\t\treturn valuesStream.map( e -> \"'\" + valueMapper.apply(e) + \"'\").collect(Collectors.joining(\",\"));\r\n+\t}\r", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "03acbc62205b1f9d7fffa931fceba5c06e9d18e2"}, "originalPosition": 36}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA4NTcwMTA4", "url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/pull/4037#pullrequestreview-408570108", "createdAt": "2020-05-08T22:56:35Z", "commit": {"oid": "03acbc62205b1f9d7fffa931fceba5c06e9d18e2"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4700, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}