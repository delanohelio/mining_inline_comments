{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU5NjEwMjc3", "number": 4151, "title": "PLFM-6378: API to fetch the access approval notifications", "bodyText": "", "createdAt": "2020-07-30T21:21:43Z", "url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/pull/4151", "merged": true, "mergeCommit": {"oid": "cb2567b741cebeae7b320388b51e41d90c2e7313"}, "closed": true, "closedAt": "2020-07-30T23:39:27Z", "author": {"login": "marcomarasca"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc6D1hgAH2gAyNDU5NjEwMjc3OmY3ZTM3ZDU2OWNjZjgwYzE0MWJlM2Q3NzkyMjI3ZWQzMzUyZjY1YTI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc6HoYeAH2gAyNDU5NjEwMjc3OjMwNzI5ZWIxNDExOGU5YjgwZDJkOTMzZWUzNDYyNGE3NGQwOWU2MDA=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "f7e37d569ccf80c141be3d7792227ed3352f65a2", "author": {"user": {"login": "marcomarasca", "name": "Marco Marasca"}}, "url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/commit/f7e37d569ccf80c141be3d7792227ed3352f65a2", "committedDate": "2020-07-30T18:21:52Z", "message": "PLFM-6378: Add method to fetch notifications"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "182b364b28255aa6d1c9874654054f077bf2ffb8", "author": {"user": {"login": "marcomarasca", "name": "Marco Marasca"}}, "url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/commit/182b364b28255aa6d1c9874654054f077bf2ffb8", "committedDate": "2020-07-30T18:29:10Z", "message": "PLFM-6220: Minor fixes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "058911bf1ec7120457ac2facda1165f31770eb2f", "author": {"user": {"login": "marcomarasca", "name": "Marco Marasca"}}, "url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/commit/058911bf1ec7120457ac2facda1165f31770eb2f", "committedDate": "2020-07-30T20:17:40Z", "message": "PLFM-6378: Expose notification list request to the manager"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a9ea08626a654bbf66c78609eff961dd5594c53b", "author": {"user": {"login": "marcomarasca", "name": "Marco Marasca"}}, "url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/commit/a9ea08626a654bbf66c78609eff961dd5594c53b", "committedDate": "2020-07-30T21:20:24Z", "message": "PLFM-6378: Expose new API to fetch approval notifications"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU4Nzc5NDY4", "url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/pull/4151#pullrequestreview-458779468", "createdAt": "2020-07-30T21:47:12Z", "commit": {"oid": "a9ea08626a654bbf66c78609eff961dd5594c53b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQyMTo0NzoxMlrOG50_cw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQyMTo0NzoxMlrOG50_cw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzI5MDIyNw==", "bodyText": "Marcos says this should be an IN clause.", "url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/pull/4151#discussion_r463290227", "createdAt": "2020-07-30T21:47:12Z", "author": {"login": "jay-hodgson"}, "path": "lib/jdomodels/src/main/java/org/sagebionetworks/repo/model/dbo/dao/dataaccess/DataAccessNotificationDaoImpl.java", "diffHunk": "@@ -44,6 +47,11 @@\n \t\t\t+ \" AND \" + COL_DATA_ACCESS_NOTIFICATION_REQUIREMENT_ID + \" = ?\" \r\n \t\t\t+ \" AND \" + COL_DATA_ACCESS_NOTIFICATION_RECIPIENT_ID + \" = ?\";\r\n \t\r\n+\tprivate static final String SQL_SELECT_FOR_RECIPIENTS = \"SELECT * FROM \" + TABLE_DATA_ACCESS_NOTIFICATION\r\n+\t\t\t+ \" WHERE \" + COL_DATA_ACCESS_NOTIFICATION_REQUIREMENT_ID + \" = :\" + COL_DATA_ACCESS_NOTIFICATION_REQUIREMENT_ID \r\n+\t\t\t+ \" AND \" + COL_DATA_ACCESS_NOTIFICATION_RECIPIENT_ID + \" = :\" + COL_DATA_ACCESS_NOTIFICATION_RECIPIENT_ID\r", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a9ea08626a654bbf66c78609eff961dd5594c53b"}, "originalPosition": 23}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7d9f4b0093b410e8e4613c29cdea494cd4f19b8b", "author": {"user": {"login": "marcomarasca", "name": "Marco Marasca"}}, "url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/commit/7d9f4b0093b410e8e4613c29cdea494cd4f19b8b", "committedDate": "2020-07-30T21:48:38Z", "message": "PLFM-6378: Use IN rather than ="}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU4Nzk0Nzcy", "url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/pull/4151#pullrequestreview-458794772", "createdAt": "2020-07-30T22:19:11Z", "commit": {"oid": "7d9f4b0093b410e8e4613c29cdea494cd4f19b8b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "30729eb14118e9b80d2d933ee34624a74d09e600", "author": {"user": {"login": "marcomarasca", "name": "Marco Marasca"}}, "url": "https://github.com/Sage-Bionetworks/Synapse-Repository-Services/commit/30729eb14118e9b80d2d933ee34624a74d09e600", "committedDate": "2020-07-30T22:47:08Z", "message": "PLFM-6378: Must be a admin or ACT to send the request"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4613, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}