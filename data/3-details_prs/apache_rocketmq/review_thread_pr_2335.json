{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk1ODk2MjY4", "number": 2335, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQxMjoxMToxMVrOEsBXuw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMlQwMDo1NjoyM1rOEscN-g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE0NTk1MjU5OnYy", "diffSide": "RIGHT", "path": "broker/src/main/java/org/apache/rocketmq/broker/processor/ReplyMessageProcessor.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQxMjoxMToxMVrOHfHD0g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQxMjoxMToxMVrOHfHD0g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjM4MzU3MA==", "bodyText": "Too many uncertain reasons can drive people crazy. You are advised to change them to \u201cyou could check...\u201d if not any diagnosis could be provided furtherly.", "url": "https://github.com/apache/rocketmq/pull/2335#discussion_r502383570", "createdAt": "2020-10-09T12:11:11Z", "author": {"login": "vongosling"}, "path": "broker/src/main/java/org/apache/rocketmq/broker/processor/ReplyMessageProcessor.java", "diffHunk": "@@ -263,7 +263,7 @@ private void handlePutMessageResult(PutMessageResult putMessageResult,\n                 break;\n             case SERVICE_NOT_AVAILABLE:\n                 log.info(\n-                    \"service not available now, maybe disk full, maybe your broker machine memory too small.\");\n+                    \"service not available now, maybe disk full, maybe put messages to slave, maybe message store shutdown, etc.\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2b1ff553dc2bc33428499bff7311b5fc91debac4"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE0NTk1Njc5OnYy", "diffSide": "RIGHT", "path": "store/src/main/java/org/apache/rocketmq/store/DefaultMessageStore.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQxMjoxMjozNFrOHfHGaA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQxMjoxMjozNFrOHfHGaA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjM4NDIzMg==", "bodyText": "IMO, maybe is not a strict customer advice.", "url": "https://github.com/apache/rocketmq/pull/2335#discussion_r502384232", "createdAt": "2020-10-09T12:12:34Z", "author": {"login": "vongosling"}, "path": "store/src/main/java/org/apache/rocketmq/store/DefaultMessageStore.java", "diffHunk": "@@ -392,15 +392,15 @@ private PutMessageStatus checkStoreStatus() {\n         if (BrokerRole.SLAVE == this.messageStoreConfig.getBrokerRole()) {\n             long value = this.printTimes.getAndIncrement();\n             if ((value % 50000) == 0) {\n-                log.warn(\"message store has shutdown, so putMessage is forbidden\");\n+                log.warn(\"broke role is slave, so putMessage is forbidden\");\n             }\n             return PutMessageStatus.SERVICE_NOT_AVAILABLE;\n         }\n \n         if (!this.runningFlags.isWriteable()) {\n             long value = this.printTimes.getAndIncrement();\n             if ((value % 50000) == 0) {\n-                log.warn(\"message store has shutdown, so putMessage is forbidden\");\n+                log.warn(\"message store could not write (may be disk full) so putMessage is forbidden\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2b1ff553dc2bc33428499bff7311b5fc91debac4"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE1MDM1MTMwOnYy", "diffSide": "RIGHT", "path": "broker/src/main/java/org/apache/rocketmq/broker/processor/ReplyMessageProcessor.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMlQwMDo1NjoyM1rOHfsKkQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMlQwMDo1NjoyM1rOHfsKkQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjk5MTUwNQ==", "bodyText": "Good catch", "url": "https://github.com/apache/rocketmq/pull/2335#discussion_r502991505", "createdAt": "2020-10-12T00:56:23Z", "author": {"login": "vongosling"}, "path": "broker/src/main/java/org/apache/rocketmq/broker/processor/ReplyMessageProcessor.java", "diffHunk": "@@ -251,28 +251,29 @@ private void handlePutMessageResult(PutMessageResult putMessageResult,\n \n             // Failed\n             case CREATE_MAPEDFILE_FAILED:\n-                log.info(\"create mapped file failed, server is busy or broken.\");\n+                log.warn(\"create mapped file failed, server is busy or broken.\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a07764fb785375ce970eaac8389be7b0f329d2f0"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1643, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}