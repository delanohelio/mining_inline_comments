{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkwMzA1MjE2", "number": 558, "title": "Fix cancel button in Edit features with feature-linked annotation", "bodyText": "This PR fixes a bug noticed by @hardikc07 during verification. Previously, when the dialog box 's cancel button was clicked, the feature was still selected.\nNow when when the update button is clicked, editAttributesDialog.showAndWait() returns true, otherwise it returns null, which is stored in an Optional. When the dialog is created, the features are updated based on the value in the Optional.", "createdAt": "2020-09-21T13:40:26Z", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/558", "merged": true, "mergeCommit": {"oid": "90ce685c7c3b87da2f65a6a59617a8e6359d3674"}, "closed": true, "closedAt": "2020-09-23T11:56:04Z", "author": {"login": "sclaridge"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdLDhQ3gH2gAyNDkwMzA1MjE2OmI2ZTllYjk5Zjk1MmQ5ZjI5OTQzMDk1OGJmOGJiNGI5Y2YxMWRjNDg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdLrO56AH2gAyNDkwMzA1MjE2OjFlZDY1ZmQ5NDZhZDliMDRkMTIyYzJmNmUwNzFlMzk1ZGVlYWNiZDU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "b6e9eb99f952d9f299430958bf8bb4b9cf11dc48", "author": {"user": {"login": "sclaridge", "name": "Simone Claridge"}}, "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/b6e9eb99f952d9f299430958bf8bb4b9cf11dc48", "committedDate": "2020-09-21T13:36:27Z", "message": "Fix cancel button"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkyNjIxNTcz", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/558#pullrequestreview-492621573", "createdAt": "2020-09-21T13:50:29Z", "commit": {"oid": "b6e9eb99f952d9f299430958bf8bb4b9cf11dc48"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQxMzo1MDoyOVrOHVQ_wA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQxMzo1MTowN1rOHVRBug==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjA2MDYwOA==", "bodyText": "Perhaps it's possible to return false here. That way we can convert the type Optional<Boolean> to just Boolean.", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/558#discussion_r492060608", "createdAt": "2020-09-21T13:50:29Z", "author": {"login": "JonLavi"}, "path": "editing/edit-features-with-feature-linked-annotation/src/main/java/com.esri.samples.edit_features_with_feature_linked_annotation/EditAttributesDialog.java", "diffHunk": "@@ -67,6 +67,7 @@\n         } catch (Exception e) {\n           e.printStackTrace();\n         }\n+        return true;\n       }\n       return null;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b6e9eb99f952d9f299430958bf8bb4b9cf11dc48"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjA2MTExNA==", "bodyText": "If the suggestion of returning just a Boolean from the dialog works, we can write here:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                  if (updatingFeature.isPresent()) {\n          \n          \n            \n                  if (updatingFeature) {", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/558#discussion_r492061114", "createdAt": "2020-09-21T13:51:07Z", "author": {"login": "JonLavi"}, "path": "editing/edit-features-with-feature-linked-annotation/src/main/java/com.esri.samples.edit_features_with_feature_linked_annotation/EditFeaturesWithFeatureLinkedAnnotationSample.java", "diffHunk": "@@ -225,10 +226,17 @@ else if (selectedFeature.getGeometry().getGeometryType() == GeometryType.POINT)\n       EditAttributesDialog editAttributesDialog = new EditAttributesDialog(selectedFeature);\n \n       // show the dialog and wait for the user response\n-      editAttributesDialog.showAndWait();\n+      Optional<Boolean> updatingFeature = editAttributesDialog.showAndWait();\n \n-      // update the selected feature's feature table\n-      updateAttributes(selectedFeature);\n+      // if the user chose to update the feature's attributes\n+      if (updatingFeature.isPresent()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b6e9eb99f952d9f299430958bf8bb4b9cf11dc48"}, "originalPosition": 18}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk0NTYyNjI2", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/558#pullrequestreview-494562626", "createdAt": "2020-09-23T11:33:35Z", "commit": {"oid": "b6e9eb99f952d9f299430958bf8bb4b9cf11dc48"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QxMTozMzozNlrOHWnpmA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QxMTozMzozNlrOHWnpmA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzQ4MDM0NA==", "bodyText": "extra space needed between else and bracket\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                  else{\n          \n          \n            \n                  else {", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/558#discussion_r493480344", "createdAt": "2020-09-23T11:33:36Z", "author": {"login": "Rachael-E"}, "path": "editing/edit-features-with-feature-linked-annotation/src/main/java/com.esri.samples.edit_features_with_feature_linked_annotation/EditFeaturesWithFeatureLinkedAnnotationSample.java", "diffHunk": "@@ -225,10 +226,17 @@ else if (selectedFeature.getGeometry().getGeometryType() == GeometryType.POINT)\n       EditAttributesDialog editAttributesDialog = new EditAttributesDialog(selectedFeature);\n \n       // show the dialog and wait for the user response\n-      editAttributesDialog.showAndWait();\n+      Optional<Boolean> updatingFeature = editAttributesDialog.showAndWait();\n \n-      // update the selected feature's feature table\n-      updateAttributes(selectedFeature);\n+      // if the user chose to update the feature's attributes\n+      if (updatingFeature.isPresent()) {\n+        // update the selected feature's feature table\n+        updateAttributes(selectedFeature);\n+      }\n+      else{", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b6e9eb99f952d9f299430958bf8bb4b9cf11dc48"}, "originalPosition": 22}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1ed65fd946ad9b04d122c2f6e071e395deeacbd5", "author": {"user": {"login": "sclaridge", "name": "Simone Claridge"}}, "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/1ed65fd946ad9b04d122c2f6e071e395deeacbd5", "committedDate": "2020-09-23T11:52:36Z", "message": "Add bracket space"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3502, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}