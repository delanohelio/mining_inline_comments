{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA2NjU1NjQz", "number": 577, "title": "Edit with Branch Versioning: remove authentication handler", "bodyText": "Description\nAfter some verification on the different platforms it was agreed at the review meeting to remove the authentication handler from the Edit with Branch Versioning samples, as it was proving tricky for users to enter credentials that were in the readme when they needed to complete authentication before they could access the readme. Other samples demonstrate how you can implement authentication.\nSo I have amended the readme, and removed the AuthenticationChallengeHandler in the Controller. Instead the user credentials are hard coded and set directly to the ServiceGeodatabase.\nI added a comment that the AuthenticationChallengeHandler could be used as an alternative. Any thoughts on this wording, and whether I could/should direct the user to a sample to look at, like 'oauth'? Wasn't sure if that was too much to put in the comments.\n\nChecklist:\n\n Set target branch to master (current release) or dev (next release)\n Request a reviewer\n Assign a reviewer\n Tag reviewer in comment", "createdAt": "2020-10-20T10:03:19Z", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/577", "merged": true, "mergeCommit": {"oid": "e0dec71a8fb6cddbe2123a162de5de0616b792a7"}, "closed": true, "closedAt": "2020-10-28T09:12:08Z", "author": {"login": "jenmerritt"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdUVfEqAH2gAyNTA2NjU1NjQzOjcyYWM5NGQyOGFiMmQ3Yjg5MWFiNzQ1ZjgzNTRmZmJmZWQ5M2UyMWM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdWsKv-AFqTUxNzk0NTc4MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "72ac94d28ab2d7b891ab745f8354ffbfed93e21c", "author": {"user": {"login": "jenmerritt", "name": "Jen Merritt"}}, "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/72ac94d28ab2d7b891ab745f8354ffbfed93e21c", "committedDate": "2020-10-20T09:37:40Z", "message": "amend readme"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "426144909ebd558480e9cce8e80fa596d6f6ca40", "author": {"user": {"login": "jenmerritt", "name": "Jen Merritt"}}, "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/426144909ebd558480e9cce8e80fa596d6f6ca40", "committedDate": "2020-10-20T09:55:03Z", "message": "hard code authentication in controller"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEyODY5NTcy", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/577#pullrequestreview-512869572", "createdAt": "2020-10-20T15:35:20Z", "commit": {"oid": "426144909ebd558480e9cce8e80fa596d6f6ca40"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQxNTozNToyMVrOHlDm5w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQxNTozNToyMVrOHlDm5w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODYxODQ3MQ==", "bodyText": "Only suggestion I can make here is perhaps creating the UserCredential immediately before setting it, so have it in order:\n// create a service geodatabase\n serviceGeodatabase = new ServiceGeodatabase(\"https://sampleserver7.arcgisonline\" +\n\".com/arcgis/rest/services/DamageAssessment/FeatureServer\");\n\n// set the user credentials required to authenticate with the service geodatabase\nUserCredential userCredential = new UserCredential(\"editor01\", \"editor01.password\");\nserviceGeodatabase.setCredential(userCredential);\n\n// load the service geodatabase\nserviceGeodatabase.loadAsync();\n\nI don't know if it's strictly necessary to mention the AuthenticationChallengeHandler, but I haven't been following the discussion. I suppose the authentication itself is not an integral part of what the sample is\ntrying to show? In which case maybe we can do without the comment", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/577#discussion_r508618471", "createdAt": "2020-10-20T15:35:21Z", "author": {"login": "JonLavi"}, "path": "editing/edit-with-branch-versioning/src/main/java/com/esri/samples/edit_with_branch_versioning/EditWithBranchVersioningController.java", "diffHunk": "@@ -91,13 +90,16 @@ public void initialize() {\n         }\n       });\n \n-      // handle authentication for the service geodatabase\n-      AuthenticationManager.setAuthenticationChallengeHandler(new DefaultAuthenticationChallengeHandler());\n+      // set the user credentials required to authenticate with the service geodatabase\n+      // alternatively authentication could be handled with an AuthenticationChallengeHandler\n+      UserCredential userCredential = new UserCredential(\"editor01\", \"editor01.password\");\n \n       // create and load a service geodatabase\n       serviceGeodatabase = new ServiceGeodatabase(\"https://sampleserver7.arcgisonline\" +\n         \".com/arcgis/rest/services/DamageAssessment/FeatureServer\");\n+      serviceGeodatabase.setCredential(userCredential);\n       serviceGeodatabase.loadAsync();\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "426144909ebd558480e9cce8e80fa596d6f6ca40"}, "originalPosition": 25}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "881f1f4c975799b78fcf7466196e787fe3d391ec", "author": {"user": {"login": "jenmerritt", "name": "Jen Merritt"}}, "url": "https://github.com/Esri/arcgis-runtime-samples-java/commit/881f1f4c975799b78fcf7466196e787fe3d391ec", "committedDate": "2020-10-20T16:17:55Z", "message": "reorder authentication settings"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE3OTQ1Nzgw", "url": "https://github.com/Esri/arcgis-runtime-samples-java/pull/577#pullrequestreview-517945780", "createdAt": "2020-10-27T17:11:08Z", "commit": {"oid": "881f1f4c975799b78fcf7466196e787fe3d391ec"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4854, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}