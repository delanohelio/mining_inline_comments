{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA3MTAwMzk1", "number": 959, "title": "Verify lineage for TreeFlatteningRebuildingVisitor", "bodyText": "Add an assert to tests for TreeFlatteningRebuildingVisitor to verify\nthat it returns a query with valid lineage.\nPart of #880.", "createdAt": "2020-10-20T21:14:30Z", "url": "https://github.com/NationalSecurityAgency/datawave/pull/959", "merged": true, "mergeCommit": {"oid": "bc536266eabf8d285a4efe410a7cf227da9106c8"}, "closed": true, "closedAt": "2020-11-03T01:29:41Z", "author": {"login": "lbschanno"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdUfcBTgH2gAyNTA3MTAwMzk1OmM1ZTM1M2JlZTYwZmFjY2VlY2UzNmJjYTljNGNiMTkxOWIxY2VhYWQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdYu5QBgFqTUyMjE0MjQ0NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "c5e353bee60facceece36bca9c4cb1919b1ceaad", "author": {"user": {"login": "lbschanno", "name": "Laura Schanno"}}, "url": "https://github.com/NationalSecurityAgency/datawave/commit/c5e353bee60facceece36bca9c4cb1919b1ceaad", "committedDate": "2020-10-20T21:13:23Z", "message": "Verify lineage for TreeFlatteningRebuildingVisitor\n\nAdd an assert to tests for TreeFlatteningRebuildingVisitor to verify\nthat it returns a query with valid lineage.\n\nPart of #880."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE0MDA0NDQ3", "url": "https://github.com/NationalSecurityAgency/datawave/pull/959#pullrequestreview-514004447", "createdAt": "2020-10-21T17:31:48Z", "commit": {"oid": "c5e353bee60facceece36bca9c4cb1919b1ceaad"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIwMTk5NjQ3", "url": "https://github.com/NationalSecurityAgency/datawave/pull/959#pullrequestreview-520199647", "createdAt": "2020-10-30T00:17:24Z", "commit": {"oid": "c5e353bee60facceece36bca9c4cb1919b1ceaad"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "794dc19d194202f850bb6efb853f70fabfb0c3e7", "author": {"user": {"login": "jwomeara", "name": "Whitney O'Meara"}}, "url": "https://github.com/NationalSecurityAgency/datawave/commit/794dc19d194202f850bb6efb853f70fabfb0c3e7", "committedDate": "2020-10-30T00:17:31Z", "message": "Merge branch 'master' into 880-TreeFlatteningRebuildingVisitor"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIwNjg1NjE5", "url": "https://github.com/NationalSecurityAgency/datawave/pull/959#pullrequestreview-520685619", "createdAt": "2020-10-30T13:50:36Z", "commit": {"oid": "794dc19d194202f850bb6efb853f70fabfb0c3e7"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxMzo1MDozNlrOHrP4jA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxMzo1MDozNlrOHrP4jA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTExMTA1Mg==", "bodyText": "If we're going to remove the return for the method, then we should probably rename it as it no longer returns a copied tree.  When I originally wrote this I thought it would be useful to have an iterative method for copying a Jexl tree.  So, that's why it returns the copied tree even though we don't actually use it anywhere - yet!  I could see an iterative copy method being useful in the future though, so my thought would be to leave this method as-is and return the copied tree.  Just my 2 cents.", "url": "https://github.com/NationalSecurityAgency/datawave/pull/959#discussion_r515111052", "createdAt": "2020-10-30T13:50:36Z", "author": {"login": "jwomeara"}, "path": "warehouse/query-core/src/main/java/datawave/query/jexl/visitors/TreeFlatteningRebuilder.java", "diffHunk": "@@ -150,9 +148,8 @@ else if (hasChildren && node == parentStack.peek()) {\n      *            the node to be copied\n      * @param postOrderDeque\n      *            the post order traversal of the copied tree\n-     * @return the copied tree\n      */\n-    private JexlNode copyTree(JexlNode node, Deque<JexlNode> postOrderDeque) {\n+    private void copyTree(JexlNode node, Deque<JexlNode> postOrderDeque) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "794dc19d194202f850bb6efb853f70fabfb0c3e7"}, "originalPosition": 32}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c167967b190577ac8fcd5b37023e9aba45b615fc", "author": {"user": {"login": "lbschanno", "name": "Laura Schanno"}}, "url": "https://github.com/NationalSecurityAgency/datawave/commit/c167967b190577ac8fcd5b37023e9aba45b615fc", "committedDate": "2020-10-31T02:08:55Z", "message": "Restore return value for copyTree method"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIxNjU5MjYz", "url": "https://github.com/NationalSecurityAgency/datawave/pull/959#pullrequestreview-521659263", "createdAt": "2020-11-02T14:09:17Z", "commit": {"oid": "c167967b190577ac8fcd5b37023e9aba45b615fc"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4cd1eb30eab88a78fc3fc2553f939105f6c6c556", "author": {"user": {"login": "lbschanno", "name": "Laura Schanno"}}, "url": "https://github.com/NationalSecurityAgency/datawave/commit/4cd1eb30eab88a78fc3fc2553f939105f6c6c556", "committedDate": "2020-11-02T23:42:42Z", "message": "Merge branch 'master' into 880-TreeFlatteningRebuildingVisitor"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIyMTQyNDQ0", "url": "https://github.com/NationalSecurityAgency/datawave/pull/959#pullrequestreview-522142444", "createdAt": "2020-11-03T01:29:35Z", "commit": {"oid": "4cd1eb30eab88a78fc3fc2553f939105f6c6c556"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1083, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}