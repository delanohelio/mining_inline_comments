{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzU5NjA3MzUw", "number": 603, "title": "WIP - Prepare for Quarkus 1.2", "bodyText": "This PR should not be merged. I created it to be able to discuss with the GraalVM team.", "createdAt": "2020-01-06T16:11:39Z", "url": "https://github.com/apache/camel-quarkus/pull/603", "merged": true, "mergeCommit": {"oid": "de4fffced064c9d9fd08379f7bae95403d707fbc"}, "closed": true, "closedAt": "2020-01-21T14:43:41Z", "author": {"login": "gsmet"}, "timelineItems": {"totalCount": 16, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb587rXABqjI5NDMzMTEyMTQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb8gRYeABqjI5NjYwMDQzODE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c2171140a149faa9e17964cdb5d67d41cef36874", "author": {"user": {"login": "gsmet", "name": "Guillaume Smet"}}, "url": "https://github.com/apache/camel-quarkus/commit/c2171140a149faa9e17964cdb5d67d41cef36874", "committedDate": "2020-01-13T08:20:46Z", "message": "Move from com.mongodb.MongoClient to com.mongodb.client.MongoClient"}, "afterCommit": {"oid": "3759612b889800c71b72f9613e7376b37c89daf2", "author": {"user": {"login": "gsmet", "name": "Guillaume Smet"}}, "url": "https://github.com/apache/camel-quarkus/commit/3759612b889800c71b72f9613e7376b37c89daf2", "committedDate": "2020-01-13T14:07:12Z", "message": "Add the mongodb-driver-legacy artifact and a substitution"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3759612b889800c71b72f9613e7376b37c89daf2", "author": {"user": {"login": "gsmet", "name": "Guillaume Smet"}}, "url": "https://github.com/apache/camel-quarkus/commit/3759612b889800c71b72f9613e7376b37c89daf2", "committedDate": "2020-01-13T14:07:12Z", "message": "Add the mongodb-driver-legacy artifact and a substitution"}, "afterCommit": {"oid": "6cd289ebf4ce90a3757432fef2ea447520cb19c1", "author": {"user": {"login": "gsmet", "name": "Guillaume Smet"}}, "url": "https://github.com/apache/camel-quarkus/commit/6cd289ebf4ce90a3757432fef2ea447520cb19c1", "committedDate": "2020-01-13T14:28:16Z", "message": "Add the mongodb-driver-legacy artifact and a substitution"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c968cbb7c540cd529c230634b5f061e148a8be72", "author": {"user": {"login": "lburgazzoli", "name": "Luca Burgazzoli"}}, "url": "https://github.com/apache/camel-quarkus/commit/c968cbb7c540cd529c230634b5f061e148a8be72", "committedDate": "2020-01-15T13:22:36Z", "message": "Make the tests succeed with latest quarkus and graalvm 19.3.1"}, "afterCommit": {"oid": "fe3de2190dbd44fbee25e14d5f8143384b7159b5", "author": {"user": {"login": "lburgazzoli", "name": "Luca Burgazzoli"}}, "url": "https://github.com/apache/camel-quarkus/commit/fe3de2190dbd44fbee25e14d5f8143384b7159b5", "committedDate": "2020-01-16T11:45:19Z", "message": "Make the tests succeed with latest quarkus and graalvm 19.3.1"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQzODU1OTIy", "url": "https://github.com/apache/camel-quarkus/pull/603#pullrequestreview-343855922", "createdAt": "2020-01-16T11:48:24Z", "commit": {"oid": "fe3de2190dbd44fbee25e14d5f8143384b7159b5"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNlQxMTo0ODoyNFrOFeWyvw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNlQxMTo0ODoyNFrOFeWyvw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzM3NTAzOQ==", "bodyText": "Hmmm, so, JNI is not enabled by default in 19.2 and we will support both. So if you need JNI, you should add a JniBuildItem in your extension.", "url": "https://github.com/apache/camel-quarkus/pull/603#discussion_r367375039", "createdAt": "2020-01-16T11:48:24Z", "author": {"login": "gsmet"}, "path": "integration-tests/aws/pom.xml", "diffHunk": "@@ -152,7 +152,6 @@\n                                     <enableHttpUrlHandler>true</enableHttpUrlHandler>\n                                     <enableServer>false</enableServer>\n                                     <dumpProxies>false</dumpProxies>\n-                                    <enableJni>true</enableJni>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fe3de2190dbd44fbee25e14d5f8143384b7159b5"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQzODU2MjYw", "url": "https://github.com/apache/camel-quarkus/pull/603#pullrequestreview-343856260", "createdAt": "2020-01-16T11:49:04Z", "commit": {"oid": "fe3de2190dbd44fbee25e14d5f8143384b7159b5"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNlQxMTo0OTowNFrOFeWzqA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNlQxMTo0OTowNFrOFeWzqA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzM3NTI3Mg==", "bodyText": "I don't think we should have that ones in this branch because it only hides the errors and we need to be able to diagnose them.", "url": "https://github.com/apache/camel-quarkus/pull/603#discussion_r367375272", "createdAt": "2020-01-16T11:49:04Z", "author": {"login": "gsmet"}, "path": "integration-tests/http/pom.xml", "diffHunk": "@@ -122,13 +135,30 @@\n                                     <goal>native-image</goal>\n                                 </goals>\n                                 <configuration>\n-                                    <reportErrorsAtRuntime>false</reportErrorsAtRuntime>\n+                                    <!--\n+                                        With GraalVM Version 19.3.1 CE this test fails with:\n+\n+                                            Fatal error: com.oracle.graal.pointsto.util.AnalysisError$ParsingError: Error encountered\n+                                            while parsing com.oracle.svm.reflect.ClassLoader_defineClass_c6c343b4d6dc22ca64eb2d8503b13ac9c340dcb3.invoke(java.lang.Object, java.lang.Object[])\n+\n+                                            Parsing context:\n+                                                parsing java.lang.reflect.Method.invoke(Method.java:498)\n+                                                parsing org.apache.camel.support.ObjectHelper.invokeMethod(ObjectHelper.java:182)\n+                                                parsing org.apache.camel.main.BaseMainSupport.loadConfigurations(BaseMainSupport.java:467)\n+                                                parsing org.apache.camel.main.BaseMainSupport.postProcessCamelContext(BaseMainSupport.java:522)\n+\n+                                        but it looks like the stack trace is unrelated to the actual error as that method\n+                                        is invoked also in other tests hence I've enable reporting error at runtime to\n+                                        get the test succeed.\n+\n+                                        TODO: investigate what is the real issue\n+                                    -->\n+                                    <reportErrorsAtRuntime>true</reportErrorsAtRuntime>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fe3de2190dbd44fbee25e14d5f8143384b7159b5"}, "originalPosition": 43}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "fe3de2190dbd44fbee25e14d5f8143384b7159b5", "author": {"user": {"login": "lburgazzoli", "name": "Luca Burgazzoli"}}, "url": "https://github.com/apache/camel-quarkus/commit/fe3de2190dbd44fbee25e14d5f8143384b7159b5", "committedDate": "2020-01-16T11:45:19Z", "message": "Make the tests succeed with latest quarkus and graalvm 19.3.1"}, "afterCommit": {"oid": "559858199c193c0ad4b49a37d71ec35f75f57465", "author": {"user": {"login": "gsmet", "name": "Guillaume Smet"}}, "url": "https://github.com/apache/camel-quarkus/commit/559858199c193c0ad4b49a37d71ec35f75f57465", "committedDate": "2020-01-16T14:09:51Z", "message": "Fix a JAXB dependency to avoid a warning"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "559858199c193c0ad4b49a37d71ec35f75f57465", "author": {"user": {"login": "gsmet", "name": "Guillaume Smet"}}, "url": "https://github.com/apache/camel-quarkus/commit/559858199c193c0ad4b49a37d71ec35f75f57465", "committedDate": "2020-01-16T14:09:51Z", "message": "Fix a JAXB dependency to avoid a warning"}, "afterCommit": {"oid": "01d317ab8354888572e0bc0e65060fb5fbea44a8", "author": {"user": {"login": "gsmet", "name": "Guillaume Smet"}}, "url": "https://github.com/apache/camel-quarkus/commit/01d317ab8354888572e0bc0e65060fb5fbea44a8", "committedDate": "2020-01-17T11:06:18Z", "message": "Fix a JAXB dependency to avoid a warning"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9632932fa500bd7f812e92d23adb1d8396411843", "author": {"user": {"login": "gsmet", "name": "Guillaume Smet"}}, "url": "https://github.com/apache/camel-quarkus/commit/9632932fa500bd7f812e92d23adb1d8396411843", "committedDate": "2020-01-21T10:33:04Z", "message": "Revert \"Create substitutions for jsch\"\n\nThis reverts commit da0a462f17652b199ab8d3097783c4efdd5a290d."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a0237295f4edfa51fda097dcbc8c475b4840d16a", "author": {"user": {"login": "gsmet", "name": "Guillaume Smet"}}, "url": "https://github.com/apache/camel-quarkus/commit/a0237295f4edfa51fda097dcbc8c475b4840d16a", "committedDate": "2020-01-21T11:00:39Z", "message": "Use the quarkus-jsch extension instead of having substitutions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b392ec32ced5b9a900c16209a6ad4856eb998475", "author": {"user": {"login": "gsmet", "name": "Guillaume Smet"}}, "url": "https://github.com/apache/camel-quarkus/commit/b392ec32ced5b9a900c16209a6ad4856eb998475", "committedDate": "2020-01-21T11:00:39Z", "message": "Upgrade to Quarkus 1.2.0.CR1"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0b899a663d6e5f342a72f8f98af5c03b15726794", "author": {"user": {"login": "gsmet", "name": "Guillaume Smet"}}, "url": "https://github.com/apache/camel-quarkus/commit/0b899a663d6e5f342a72f8f98af5c03b15726794", "committedDate": "2020-01-21T11:00:39Z", "message": "Add the mongodb-driver-legacy artifact and a substitution"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9522872d8ecb5f54a117533d9451fb7056dc2b71", "author": {"user": {"login": "mkouba", "name": "Martin Kouba"}}, "url": "https://github.com/apache/camel-quarkus/commit/9522872d8ecb5f54a117533d9451fb7056dc2b71", "committedDate": "2020-01-21T11:00:39Z", "message": "Workaround for https://github.com/oracle/graal/issues/1971"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dcf78509155482d590cc5acd1b0e9d640c5e39eb", "author": {"user": {"login": "gsmet", "name": "Guillaume Smet"}}, "url": "https://github.com/apache/camel-quarkus/commit/dcf78509155482d590cc5acd1b0e9d640c5e39eb", "committedDate": "2020-01-21T11:00:39Z", "message": "Fix a JAXB dependency to avoid a warning"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "01d317ab8354888572e0bc0e65060fb5fbea44a8", "author": {"user": {"login": "gsmet", "name": "Guillaume Smet"}}, "url": "https://github.com/apache/camel-quarkus/commit/01d317ab8354888572e0bc0e65060fb5fbea44a8", "committedDate": "2020-01-17T11:06:18Z", "message": "Fix a JAXB dependency to avoid a warning"}, "afterCommit": {"oid": "dcf78509155482d590cc5acd1b0e9d640c5e39eb", "author": {"user": {"login": "gsmet", "name": "Guillaume Smet"}}, "url": "https://github.com/apache/camel-quarkus/commit/dcf78509155482d590cc5acd1b0e9d640c5e39eb", "committedDate": "2020-01-21T11:00:39Z", "message": "Fix a JAXB dependency to avoid a warning"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fc769eb245d4f3f07e6175cab29b63f23789a7de", "author": {"user": {"login": "gsmet", "name": "Guillaume Smet"}}, "url": "https://github.com/apache/camel-quarkus/commit/fc769eb245d4f3f07e6175cab29b63f23789a7de", "committedDate": "2020-01-21T11:28:09Z", "message": "Temporarily force a locale with a country to work around a Quarkus issue"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "81b568d9835100a6e46036cb071571e26e1b27fa", "author": {"user": {"login": "gsmet", "name": "Guillaume Smet"}}, "url": "https://github.com/apache/camel-quarkus/commit/81b568d9835100a6e46036cb071571e26e1b27fa", "committedDate": "2020-01-21T11:50:24Z", "message": "Try to get locale information from GH"}, "afterCommit": {"oid": "fc769eb245d4f3f07e6175cab29b63f23789a7de", "author": {"user": {"login": "gsmet", "name": "Guillaume Smet"}}, "url": "https://github.com/apache/camel-quarkus/commit/fc769eb245d4f3f07e6175cab29b63f23789a7de", "committedDate": "2020-01-21T11:28:09Z", "message": "Temporarily force a locale with a country to work around a Quarkus issue"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2656, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}