{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAzODU0MjYz", "number": 1093, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQxNjoyNDo0MFrODyJgpA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQxNjoyNTowOVrODyJhUg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUzOTExMjA0OnYy", "diffSide": "RIGHT", "path": "extensions/aws2-s3/deployment/src/main/java/org/apache/camel/quarkus/component/aws2/s3/deployment/Aws2S3Processor.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQxNjoyNDo0MFrOGGBsXg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQxNjozNzozNFrOGGCMDQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODk3MjM4Mg==", "bodyText": "Isn't this class path check also a good candidate to move to the new support extension?", "url": "https://github.com/apache/camel-quarkus/pull/1093#discussion_r408972382", "createdAt": "2020-04-15T16:24:40Z", "author": {"login": "ppalaga"}, "path": "extensions/aws2-s3/deployment/src/main/java/org/apache/camel/quarkus/component/aws2/s3/deployment/Aws2S3Processor.java", "diffHunk": "@@ -89,12 +89,6 @@ void client(BeanRegistrationPhaseBuildItem beanRegistrationPhase,\n             BuildProducer<NativeImageProxyDefinitionBuildItem> proxyDefinition) {\n         checkClasspath(APACHE_HTTP_SERVICE, \"apache-client\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "11692e961ba1a9d3b1b5acf69be6b1c419cb562f"}, "originalPosition": 2}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODk4MDQ5Mw==", "bodyText": "Yes, but actually it doesn't seem to work when moved to commons. So lets have a skeleton for the moment and adding more extensions and then revisit the support extension, if it's ok for all, obviously", "url": "https://github.com/apache/camel-quarkus/pull/1093#discussion_r408980493", "createdAt": "2020-04-15T16:37:34Z", "author": {"login": "oscerd"}, "path": "extensions/aws2-s3/deployment/src/main/java/org/apache/camel/quarkus/component/aws2/s3/deployment/Aws2S3Processor.java", "diffHunk": "@@ -89,12 +89,6 @@ void client(BeanRegistrationPhaseBuildItem beanRegistrationPhase,\n             BuildProducer<NativeImageProxyDefinitionBuildItem> proxyDefinition) {\n         checkClasspath(APACHE_HTTP_SERVICE, \"apache-client\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODk3MjM4Mg=="}, "originalCommit": {"oid": "11692e961ba1a9d3b1b5acf69be6b1c419cb562f"}, "originalPosition": 2}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUzOTExMzc4OnYy", "diffSide": "RIGHT", "path": "extensions/aws2-s3/deployment/src/main/java/org/apache/camel/quarkus/component/aws2/s3/deployment/Aws2S3Processor.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQxNjoyNTowOVrOGGBtkw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQxNjozNTozM1rOGGCHDA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODk3MjY5MQ==", "bodyText": "Similar as above: Isn't this serviceProvider also a good candidate to move to the new support extension?", "url": "https://github.com/apache/camel-quarkus/pull/1093#discussion_r408972691", "createdAt": "2020-04-15T16:25:09Z", "author": {"login": "ppalaga"}, "path": "extensions/aws2-s3/deployment/src/main/java/org/apache/camel/quarkus/component/aws2/s3/deployment/Aws2S3Processor.java", "diffHunk": "@@ -89,12 +89,6 @@ void client(BeanRegistrationPhaseBuildItem beanRegistrationPhase,\n             BuildProducer<NativeImageProxyDefinitionBuildItem> proxyDefinition) {\n         checkClasspath(APACHE_HTTP_SERVICE, \"apache-client\");\n \n-        //Register Apache client as sync client\n-        proxyDefinition.produce(\n-                new NativeImageProxyDefinitionBuildItem(\"org.apache.http.conn.HttpClientConnectionManager\",\n-                        \"org.apache.http.pool.ConnPoolControl\",\n-                        \"software.amazon.awssdk.http.apache.internal.conn.Wrapped\"));\n-\n         serviceProvider.produce(new ServiceProviderBuildItem(SdkHttpService.class.getName(), APACHE_HTTP_SERVICE));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "11692e961ba1a9d3b1b5acf69be6b1c419cb562f"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODk3OTIxMg==", "bodyText": "Actually moving it there doesn't work, at least for me. I'll have to dig a bit more in this. This is the beginning.", "url": "https://github.com/apache/camel-quarkus/pull/1093#discussion_r408979212", "createdAt": "2020-04-15T16:35:33Z", "author": {"login": "oscerd"}, "path": "extensions/aws2-s3/deployment/src/main/java/org/apache/camel/quarkus/component/aws2/s3/deployment/Aws2S3Processor.java", "diffHunk": "@@ -89,12 +89,6 @@ void client(BeanRegistrationPhaseBuildItem beanRegistrationPhase,\n             BuildProducer<NativeImageProxyDefinitionBuildItem> proxyDefinition) {\n         checkClasspath(APACHE_HTTP_SERVICE, \"apache-client\");\n \n-        //Register Apache client as sync client\n-        proxyDefinition.produce(\n-                new NativeImageProxyDefinitionBuildItem(\"org.apache.http.conn.HttpClientConnectionManager\",\n-                        \"org.apache.http.pool.ConnPoolControl\",\n-                        \"software.amazon.awssdk.http.apache.internal.conn.Wrapped\"));\n-\n         serviceProvider.produce(new ServiceProviderBuildItem(SdkHttpService.class.getName(), APACHE_HTTP_SERVICE));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODk3MjY5MQ=="}, "originalCommit": {"oid": "11692e961ba1a9d3b1b5acf69be6b1c419cb562f"}, "originalPosition": 10}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4354, "cost": 1, "resetAt": "2021-11-12T11:18:39Z"}}}