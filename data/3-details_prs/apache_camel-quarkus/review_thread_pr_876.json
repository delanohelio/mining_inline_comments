{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg2NzY1MDE0", "number": 876, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMVQxNTozODoyOFrODnIUfg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMVQxNTozODoyOFrODnIUfg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQyMzU3Mzc0OnYy", "diffSide": "LEFT", "path": "integration-tests/kafka/src/test/java/org/apache/camel/quarkus/component/kafka/it/CamelKafkaTestResource.java", "isResolved": false, "comments": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMVQxNTozODoyOFrOF08pXw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMVQxNjo1MjoxMVrOF0_3Gw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTA2MzkwMw==", "bodyText": "Note that this line would have been invoked in native mode only due to distinct class loaders. But then @Inject is not authorized.", "url": "https://github.com/apache/camel-quarkus/pull/876#discussion_r391063903", "createdAt": "2020-03-11T15:38:28Z", "author": {"login": "aldettinger"}, "path": "integration-tests/kafka/src/test/java/org/apache/camel/quarkus/component/kafka/it/CamelKafkaTestResource.java", "diffHunk": "@@ -32,14 +31,6 @@\n     private static final String CONFLUENT_PLATFORM_VERSION = \"5.3.1\";\n \n     private KafkaContainer container;\n-    private CamelMain main;\n-\n-    @Override\n-    public void inject(Object testInstance) {\n-        if (testInstance instanceof CamelKafkaTest) {\n-            this.main = ((CamelKafkaTest) testInstance).main;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "36f3c5bc90a3c60b5455328c7d243ca6d5c1fc86"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTA2NDMzNA==", "bodyText": "is that something documented on quarkus side or a bug ?", "url": "https://github.com/apache/camel-quarkus/pull/876#discussion_r391064334", "createdAt": "2020-03-11T15:39:06Z", "author": {"login": "lburgazzoli"}, "path": "integration-tests/kafka/src/test/java/org/apache/camel/quarkus/component/kafka/it/CamelKafkaTestResource.java", "diffHunk": "@@ -32,14 +31,6 @@\n     private static final String CONFLUENT_PLATFORM_VERSION = \"5.3.1\";\n \n     private KafkaContainer container;\n-    private CamelMain main;\n-\n-    @Override\n-    public void inject(Object testInstance) {\n-        if (testInstance instanceof CamelKafkaTest) {\n-            this.main = ((CamelKafkaTest) testInstance).main;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTA2MzkwMw=="}, "originalCommit": {"oid": "36f3c5bc90a3c60b5455328c7d243ca6d5c1fc86"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTA2NTQzMg==", "bodyText": "Honestly, I don't know but I could take a look.", "url": "https://github.com/apache/camel-quarkus/pull/876#discussion_r391065432", "createdAt": "2020-03-11T15:40:39Z", "author": {"login": "aldettinger"}, "path": "integration-tests/kafka/src/test/java/org/apache/camel/quarkus/component/kafka/it/CamelKafkaTestResource.java", "diffHunk": "@@ -32,14 +31,6 @@\n     private static final String CONFLUENT_PLATFORM_VERSION = \"5.3.1\";\n \n     private KafkaContainer container;\n-    private CamelMain main;\n-\n-    @Override\n-    public void inject(Object testInstance) {\n-        if (testInstance instanceof CamelKafkaTest) {\n-            this.main = ((CamelKafkaTest) testInstance).main;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTA2MzkwMw=="}, "originalCommit": {"oid": "36f3c5bc90a3c60b5455328c7d243ca6d5c1fc86"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTA2Njg2MQ==", "bodyText": "yes please as this was working before and it has been used to avoid having warnings at the end of the tests", "url": "https://github.com/apache/camel-quarkus/pull/876#discussion_r391066861", "createdAt": "2020-03-11T15:42:30Z", "author": {"login": "lburgazzoli"}, "path": "integration-tests/kafka/src/test/java/org/apache/camel/quarkus/component/kafka/it/CamelKafkaTestResource.java", "diffHunk": "@@ -32,14 +31,6 @@\n     private static final String CONFLUENT_PLATFORM_VERSION = \"5.3.1\";\n \n     private KafkaContainer container;\n-    private CamelMain main;\n-\n-    @Override\n-    public void inject(Object testInstance) {\n-        if (testInstance instanceof CamelKafkaTest) {\n-            this.main = ((CamelKafkaTest) testInstance).main;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTA2MzkwMw=="}, "originalCommit": {"oid": "36f3c5bc90a3c60b5455328c7d243ca6d5c1fc86"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTA3MTEyNg==", "bodyText": "It was a change introduced in 1.3.0.CR1. See quarkusio/quarkus@2cea862.\nI had to make a similar change for the Infinispan tests.", "url": "https://github.com/apache/camel-quarkus/pull/876#discussion_r391071126", "createdAt": "2020-03-11T15:48:02Z", "author": {"login": "jamesnetherton"}, "path": "integration-tests/kafka/src/test/java/org/apache/camel/quarkus/component/kafka/it/CamelKafkaTestResource.java", "diffHunk": "@@ -32,14 +31,6 @@\n     private static final String CONFLUENT_PLATFORM_VERSION = \"5.3.1\";\n \n     private KafkaContainer container;\n-    private CamelMain main;\n-\n-    @Override\n-    public void inject(Object testInstance) {\n-        if (testInstance instanceof CamelKafkaTest) {\n-            this.main = ((CamelKafkaTest) testInstance).main;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTA2MzkwMw=="}, "originalCommit": {"oid": "36f3c5bc90a3c60b5455328c7d243ca6d5c1fc86"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTA3MzI2MA==", "bodyText": "it looks strange as the pr is about the @Inject annotation", "url": "https://github.com/apache/camel-quarkus/pull/876#discussion_r391073260", "createdAt": "2020-03-11T15:50:43Z", "author": {"login": "lburgazzoli"}, "path": "integration-tests/kafka/src/test/java/org/apache/camel/quarkus/component/kafka/it/CamelKafkaTestResource.java", "diffHunk": "@@ -32,14 +31,6 @@\n     private static final String CONFLUENT_PLATFORM_VERSION = \"5.3.1\";\n \n     private KafkaContainer container;\n-    private CamelMain main;\n-\n-    @Override\n-    public void inject(Object testInstance) {\n-        if (testInstance instanceof CamelKafkaTest) {\n-            this.main = ((CamelKafkaTest) testInstance).main;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTA2MzkwMw=="}, "originalCommit": {"oid": "36f3c5bc90a3c60b5455328c7d243ca6d5c1fc86"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTExMDAwMw==", "bodyText": "There must be 2 subjects:\n@Inject not supported in native mode is documented there, so it could have behaved differently previously but it's no more the case.\ntestInstance instanceof CamelKafkaTest == false because of distinct class loaders, I found no mention, so I would better open a question on quarkus side so that we know what behavior we can rely on.", "url": "https://github.com/apache/camel-quarkus/pull/876#discussion_r391110003", "createdAt": "2020-03-11T16:42:23Z", "author": {"login": "aldettinger"}, "path": "integration-tests/kafka/src/test/java/org/apache/camel/quarkus/component/kafka/it/CamelKafkaTestResource.java", "diffHunk": "@@ -32,14 +31,6 @@\n     private static final String CONFLUENT_PLATFORM_VERSION = \"5.3.1\";\n \n     private KafkaContainer container;\n-    private CamelMain main;\n-\n-    @Override\n-    public void inject(Object testInstance) {\n-        if (testInstance instanceof CamelKafkaTest) {\n-            this.main = ((CamelKafkaTest) testInstance).main;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTA2MzkwMw=="}, "originalCommit": {"oid": "36f3c5bc90a3c60b5455328c7d243ca6d5c1fc86"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTExMjEwNA==", "bodyText": "oh now I realized what the issue, sorry for taking so much time. so this change is ok, there may ne something similar elsewhere", "url": "https://github.com/apache/camel-quarkus/pull/876#discussion_r391112104", "createdAt": "2020-03-11T16:45:29Z", "author": {"login": "lburgazzoli"}, "path": "integration-tests/kafka/src/test/java/org/apache/camel/quarkus/component/kafka/it/CamelKafkaTestResource.java", "diffHunk": "@@ -32,14 +31,6 @@\n     private static final String CONFLUENT_PLATFORM_VERSION = \"5.3.1\";\n \n     private KafkaContainer container;\n-    private CamelMain main;\n-\n-    @Override\n-    public void inject(Object testInstance) {\n-        if (testInstance instanceof CamelKafkaTest) {\n-            this.main = ((CamelKafkaTest) testInstance).main;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTA2MzkwMw=="}, "originalCommit": {"oid": "36f3c5bc90a3c60b5455328c7d243ca6d5c1fc86"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTExNjU3MQ==", "bodyText": "For the record, question on quarkus side. ok, I'm gonna check if I can find similar thing elsewhere in the context of another ticket.", "url": "https://github.com/apache/camel-quarkus/pull/876#discussion_r391116571", "createdAt": "2020-03-11T16:52:11Z", "author": {"login": "aldettinger"}, "path": "integration-tests/kafka/src/test/java/org/apache/camel/quarkus/component/kafka/it/CamelKafkaTestResource.java", "diffHunk": "@@ -32,14 +31,6 @@\n     private static final String CONFLUENT_PLATFORM_VERSION = \"5.3.1\";\n \n     private KafkaContainer container;\n-    private CamelMain main;\n-\n-    @Override\n-    public void inject(Object testInstance) {\n-        if (testInstance instanceof CamelKafkaTest) {\n-            this.main = ((CamelKafkaTest) testInstance).main;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTA2MzkwMw=="}, "originalCommit": {"oid": "36f3c5bc90a3c60b5455328c7d243ca6d5c1fc86"}, "originalPosition": 17}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4404, "cost": 1, "resetAt": "2021-11-12T11:18:39Z"}}}