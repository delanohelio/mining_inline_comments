{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA3OTI1MTUw", "number": 531, "title": "NMA-420 | Profile Picture | Image Cropper", "bodyText": "Issue being fixed or feature implemented\n\n\n\nRelated PR's and Dependencies\n\nScreenshots / Videos\n\nHow Has This Been Tested?\n\n\n\n\n QA (Mobile Team)\n\nChecklist:\n\n\n I have performed a self-review of my own code and added comments where necessary\n I have added or updated relevant unit/integration/functional/e2e tests", "createdAt": "2020-10-21T23:49:30Z", "url": "https://github.com/dashevo/dash-wallet/pull/531", "merged": true, "mergeCommit": {"oid": "e9d5621f9e841e2c36da0718375f4ee6b12d68a5"}, "closed": true, "closedAt": "2020-10-23T22:20:36Z", "author": {"login": "sambarboza"}, "timelineItems": {"totalCount": 36, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdR-6FFAH2gAyNTA3OTI1MTUwOjE3YWU4MDQ4NzA3ZTIwYThlMDc2NjdjOGMyZTU5MThmYjI1NjY0NWQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdVdh-UAH2gAyNTA3OTI1MTUwOmM0ZTE1OTMxZTIyMzU5MWIyZGQ3Mzc3NTU1NzBmNTViMDMxNWRjZmM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "17ae8048707e20a8e07667c8c2e5918fb256645d", "author": {"user": {"login": "HashEngineering", "name": "Hash Engineering Solutions"}}, "url": "https://github.com/dashevo/dash-wallet/commit/17ae8048707e20a8e07667c8c2e5918fb256645d", "committedDate": "2020-10-13T02:11:30Z", "message": "Add picture selection and save the path"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1dfcb0ff7df947c473ce427fa90384cc2f7c203f", "author": {"user": {"login": "HashEngineering", "name": "Hash Engineering Solutions"}}, "url": "https://github.com/dashevo/dash-wallet/commit/1dfcb0ff7df947c473ce427fa90384cc2f7c203f", "committedDate": "2020-10-13T21:19:53Z", "message": "close the choose dialog after clicking, save the taken picture"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "649f0091a5dc9d8caaf4046096c9d15993998ff3", "author": {"user": {"login": "HashEngineering", "name": "Hash Engineering Solutions"}}, "url": "https://github.com/dashevo/dash-wallet/commit/649f0091a5dc9d8caaf4046096c9d15993998ff3", "committedDate": "2020-10-14T01:55:06Z", "message": "Configuration: add .apply()"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "533ae5cdc9a49614dc377f59e2e4e342def31cbe", "author": {"user": {"login": "tomasz-ludek", "name": null}}, "url": "https://github.com/dashevo/dash-wallet/commit/533ae5cdc9a49614dc377f59e2e4e342def31cbe", "committedDate": "2020-10-15T23:14:03Z", "message": "Fixed the crash when taking picture on KitKat. (#529)\n\nImprove the way of storing profile picture in the app"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4de474d38ec3508ca8d75c8c837cbe0a6c6a6189", "author": {"user": {"login": "HashEngineering", "name": "Hash Engineering Solutions"}}, "url": "https://github.com/dashevo/dash-wallet/commit/4de474d38ec3508ca8d75c8c837cbe0a6c6a6189", "committedDate": "2020-10-15T23:15:18Z", "message": "Fix permissions bug with taking a picture"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d006090e401bdbba812adc882667cd4352a2bbae", "author": {"user": {"login": "HashEngineering", "name": "Hash Engineering Solutions"}}, "url": "https://github.com/dashevo/dash-wallet/commit/d006090e401bdbba812adc882667cd4352a2bbae", "committedDate": "2020-10-15T23:20:57Z", "message": "remove unused code"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9e77c31f5a7ea1432d9c51977401e5dbdee9e8c9", "author": {"user": {"login": "HashEngineering", "name": "Hash Engineering Solutions"}}, "url": "https://github.com/dashevo/dash-wallet/commit/9e77c31f5a7ea1432d9c51977401e5dbdee9e8c9", "committedDate": "2020-10-19T15:15:13Z", "message": "PlatformRepo: Only update the local copy of a Profile if it was updated on Platform"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "206c8d1fd6aee934a93541071dbfbd893a4c6004", "author": {"user": {"login": "HashEngineering", "name": "Hash Engineering Solutions"}}, "url": "https://github.com/dashevo/dash-wallet/commit/206c8d1fd6aee934a93541071dbfbd893a4c6004", "committedDate": "2020-10-21T13:41:25Z", "message": "rename gerFileUri to getFileUri"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e061038cde8c5f979e6e5d87d2307b2088bd543e", "author": {"user": {"login": "sambarboza", "name": "Sam B."}}, "url": "https://github.com/dashevo/dash-wallet/commit/e061038cde8c5f979e6e5d87d2307b2088bd543e", "committedDate": "2020-10-21T18:34:24Z", "message": "Added TouchImageView lib."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "826373c603b5fae63b7d3a30b19fe5ce84995592", "author": {"user": {"login": "sambarboza", "name": "Sam B."}}, "url": "https://github.com/dashevo/dash-wallet/commit/826373c603b5fae63b7d3a30b19fe5ce84995592", "committedDate": "2020-10-21T19:01:39Z", "message": "Showing obtained image"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "717400f3f76b1e6d2d4352744983ae1567287c3c", "author": {"user": {"login": "sambarboza", "name": "Sam B."}}, "url": "https://github.com/dashevo/dash-wallet/commit/717400f3f76b1e6d2d4352744983ae1567287c3c", "committedDate": "2020-10-21T19:01:39Z", "message": "Inital Cropping with blurred background"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bd4309e4ae228b7bcf69dfa9e4805913d7ab4645", "author": {"user": {"login": "sambarboza", "name": "Sam B."}}, "url": "https://github.com/dashevo/dash-wallet/commit/bd4309e4ae228b7bcf69dfa9e4805913d7ab4645", "committedDate": "2020-10-21T19:01:39Z", "message": "Adjustments to zoom and positioning"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3411c83aa30eca64bf53cecd9c6a0c2683fbea3d", "author": {"user": {"login": "sambarboza", "name": "Sam B."}}, "url": "https://github.com/dashevo/dash-wallet/commit/3411c83aa30eca64bf53cecd9c6a0c2683fbea3d", "committedDate": "2020-10-21T19:01:39Z", "message": "Code cleanup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a9f0ff845e7df2ecbe0def6d41866cab46676ece", "author": {"user": {"login": "sambarboza", "name": "Sam B."}}, "url": "https://github.com/dashevo/dash-wallet/commit/a9f0ff845e7df2ecbe0def6d41866cab46676ece", "committedDate": "2020-10-21T19:01:39Z", "message": "using fitCenter as scale type"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "da72d2ed558bff668674b3f03d4567e9c68f4984", "author": {"user": {"login": "sambarboza", "name": "Sam B."}}, "url": "https://github.com/dashevo/dash-wallet/commit/da72d2ed558bff668674b3f03d4567e9c68f4984", "committedDate": "2020-10-21T19:01:39Z", "message": "Crop center background"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "92a6c5ffe706c0798c94759a2575d56036fe0257", "author": {"user": {"login": "sambarboza", "name": "Sam B."}}, "url": "https://github.com/dashevo/dash-wallet/commit/92a6c5ffe706c0798c94759a2575d56036fe0257", "committedDate": "2020-10-21T19:01:40Z", "message": "Setting initial zoom"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8ce92b38b2cc80fcb6a72e8d95edfbfd30dd3825", "author": {"user": {"login": "sambarboza", "name": "Sam B."}}, "url": "https://github.com/dashevo/dash-wallet/commit/8ce92b38b2cc80fcb6a72e8d95edfbfd30dd3825", "committedDate": "2020-10-21T19:01:40Z", "message": "Separated imageviews with different concerns"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ab0f3dea149906fdb6f53e5a6b83640388c2831e", "author": {"user": {"login": "sambarboza", "name": "Sam B."}}, "url": "https://github.com/dashevo/dash-wallet/commit/ab0f3dea149906fdb6f53e5a6b83640388c2831e", "committedDate": "2020-10-21T19:01:40Z", "message": "Temp margin"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5d3bf69430e12550280899eef15d3ff20e797afd", "author": {"user": {"login": "sambarboza", "name": "Sam B."}}, "url": "https://github.com/dashevo/dash-wallet/commit/5d3bf69430e12550280899eef15d3ff20e797afd", "committedDate": "2020-10-21T19:01:40Z", "message": "Code for center cropping is not needed anymore"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "df14726ddabc36db510d60b8534b8d7bd7ee9de7", "author": {"user": {"login": "sambarboza", "name": "Sam B."}}, "url": "https://github.com/dashevo/dash-wallet/commit/df14726ddabc36db510d60b8534b8d7bd7ee9de7", "committedDate": "2020-10-21T19:01:40Z", "message": "Code cleanup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9abb4dbecbd623c565fb041578946b3a9ef26591", "author": {"user": {"login": "sambarboza", "name": "Sam B."}}, "url": "https://github.com/dashevo/dash-wallet/commit/9abb4dbecbd623c565fb041578946b3a9ef26591", "committedDate": "2020-10-21T19:01:40Z", "message": "Center Crop in Blurred background"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "672ea14343fe47246cdcc9c4ab2ef285088cd849", "author": {"user": {"login": "sambarboza", "name": "Sam B."}}, "url": "https://github.com/dashevo/dash-wallet/commit/672ea14343fe47246cdcc9c4ab2ef285088cd849", "committedDate": "2020-10-21T19:01:40Z", "message": "Completing layout"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b0b9ce7d637081a44061c07d0e9fa568126b9b5d", "author": {"user": {"login": "sambarboza", "name": "Sam B."}}, "url": "https://github.com/dashevo/dash-wallet/commit/b0b9ce7d637081a44061c07d0e9fa568126b9b5d", "committedDate": "2020-10-21T19:03:46Z", "message": "Pulling changes from choose image branch"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3c6885142785a17ac108d5e8009e4f27863f8973", "author": {"user": {"login": "sambarboza", "name": "Sam B."}}, "url": "https://github.com/dashevo/dash-wallet/commit/3c6885142785a17ac108d5e8009e4f27863f8973", "committedDate": "2020-10-21T19:05:52Z", "message": "Saving cropped image."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aea03b3f570ced3c20f433ba96e243a14318095c", "author": {"user": {"login": "sambarboza", "name": "Sam B."}}, "url": "https://github.com/dashevo/dash-wallet/commit/aea03b3f570ced3c20f433ba96e243a14318095c", "committedDate": "2020-10-21T19:06:26Z", "message": "Saving image to profile pictrue path."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fcc27d87d4b379be49437cdee0c40b6f2031863b", "author": {"user": {"login": "sambarboza", "name": "Sam B."}}, "url": "https://github.com/dashevo/dash-wallet/commit/fcc27d87d4b379be49437cdee0c40b6f2031863b", "committedDate": "2020-10-21T19:11:57Z", "message": "fixing conflict"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "27fed4249cc442e73c3e077753628446c064fb5a", "author": {"user": {"login": "sambarboza", "name": "Sam B."}}, "url": "https://github.com/dashevo/dash-wallet/commit/27fed4249cc442e73c3e077753628446c064fb5a", "committedDate": "2020-10-21T22:48:19Z", "message": "Added error mesage"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e8449bd5b156173aea51e24f971de5dedd8c4b79", "author": {"user": {"login": "sambarboza", "name": "Sam B."}}, "url": "https://github.com/dashevo/dash-wallet/commit/e8449bd5b156173aea51e24f971de5dedd8c4b79", "committedDate": "2020-10-21T22:51:34Z", "message": "Reverting gradle.properties settings"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "588b93cf35de0b463b0cc9b3d5b8cfdd210d75a3", "author": {"user": {"login": "sambarboza", "name": "Sam B."}}, "url": "https://github.com/dashevo/dash-wallet/commit/588b93cf35de0b463b0cc9b3d5b8cfdd210d75a3", "committedDate": "2020-10-21T23:44:10Z", "message": "Fixed bug when pressing cancel"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE0NDU5MjMy", "url": "https://github.com/dashevo/dash-wallet/pull/531#pullrequestreview-514459232", "createdAt": "2020-10-22T08:03:19Z", "commit": {"oid": "588b93cf35de0b463b0cc9b3d5b8cfdd210d75a3"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQwODowMzoxOVrOHmVaTA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQwODowMzoxOVrOHmVaTA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTk1ODczMg==", "bodyText": "@sambarboza it isn't a good idea to use serializable extras to share files between Activities. First because the Intent extras size is limited (https://www.neotechsoftware.com/blog/android-intent-size-limit) and second because it is slow.\nCouldn't we pass only the files URIs?", "url": "https://github.com/dashevo/dash-wallet/pull/531#discussion_r509958732", "createdAt": "2020-10-22T08:03:19Z", "author": {"login": "tomasz-ludek"}, "path": "wallet/src/de/schildbach/wallet/ui/dashpay/CropImageActivity.kt", "diffHunk": "@@ -0,0 +1,78 @@\n+package de.schildbach.wallet.ui.dashpay\n+\n+import android.app.Activity\n+import android.content.Context\n+import android.content.Intent\n+import android.graphics.drawable.Drawable\n+import android.os.Bundle\n+import android.widget.Toast\n+import androidx.appcompat.widget.AppCompatImageView\n+import com.bumptech.glide.Glide\n+import com.bumptech.glide.load.DataSource\n+import com.bumptech.glide.load.engine.GlideException\n+import com.bumptech.glide.request.RequestListener\n+import com.bumptech.glide.request.target.Target\n+import de.schildbach.wallet_test.R\n+import kotlinx.android.synthetic.main.activity_crop_image.*\n+import kotlinx.coroutines.CoroutineScope\n+import kotlinx.coroutines.Dispatchers\n+import kotlinx.coroutines.launch\n+import kotlinx.coroutines.withContext\n+import org.dash.wallet.common.InteractionAwareActivity\n+import java.io.File\n+\n+class CropImageActivity : InteractionAwareActivity() {\n+\n+    companion object {\n+        private const val TEMP_FILE = \"temp_file\"\n+        private const val DESTINATION_FILE = \"destination_file\"\n+\n+        fun createIntent(context: Context, tempFile: File, destinationFile: File): Intent {\n+            val intent = Intent(context, CropImageActivity::class.java)\n+            intent.putExtra(TEMP_FILE, tempFile)\n+            intent.putExtra(DESTINATION_FILE, destinationFile)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "588b93cf35de0b463b0cc9b3d5b8cfdd210d75a3"}, "originalPosition": 33}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f50c365eaa189d6342ca9743fecd3253fc167309", "author": {"user": {"login": "sambarboza", "name": "Sam B."}}, "url": "https://github.com/dashevo/dash-wallet/commit/f50c365eaa189d6342ca9743fecd3253fc167309", "committedDate": "2020-10-22T23:44:57Z", "message": "Passing Uri to the crop activity"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE1NDE3Njg3", "url": "https://github.com/dashevo/dash-wallet/pull/531#pullrequestreview-515417687", "createdAt": "2020-10-23T07:41:36Z", "commit": {"oid": "f50c365eaa189d6342ca9743fecd3253fc167309"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "07d1523b4b52d60c4e4d86009195cd524cfce2c9", "author": {"user": {"login": "HashEngineering", "name": "Hash Engineering Solutions"}}, "url": "https://github.com/dashevo/dash-wallet/commit/07d1523b4b52d60c4e4d86009195cd524cfce2c9", "committedDate": "2020-10-23T20:38:30Z", "message": "Merge with evonet-develop"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ec96a8a6c2c55264bbe3cec0005d43ffd5c131b0", "author": {"user": {"login": "HashEngineering", "name": "Hash Engineering Solutions"}}, "url": "https://github.com/dashevo/dash-wallet/commit/ec96a8a6c2c55264bbe3cec0005d43ffd5c131b0", "committedDate": "2020-10-23T21:08:12Z", "message": "Merge branch 'evonet-develop' into dashpay-image-cropper-rebased"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE2MDIxOTk0", "url": "https://github.com/dashevo/dash-wallet/pull/531#pullrequestreview-516021994", "createdAt": "2020-10-23T21:32:05Z", "commit": {"oid": "ec96a8a6c2c55264bbe3cec0005d43ffd5c131b0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c4e15931e223591b2dd737755570f55b0315dcfc", "author": {"user": {"login": "HashEngineering", "name": "Hash Engineering Solutions"}}, "url": "https://github.com/dashevo/dash-wallet/commit/c4e15931e223591b2dd737755570f55b0315dcfc", "committedDate": "2020-10-23T21:34:00Z", "message": "remove duplicate string from merging"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2863, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}