{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk4ODk0Mjgy", "number": 523, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQyMzo0NjozM1rOEq9ZbA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQyMzo0NzozOVrOEq9aew==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEzNDgxNTgwOnYy", "diffSide": "RIGHT", "path": "wallet/src/de/schildbach/wallet/ui/MainActivityViewModel.kt", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQyMzo0NjozM1rOHddr9w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QxNTowOToyNFrOHd4LLg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDY1NzE0Mw==", "bodyText": "not sure why we need !! here, but the compiler complains about it.", "url": "https://github.com/dashevo/dash-wallet/pull/523#discussion_r500657143", "createdAt": "2020-10-06T23:46:33Z", "author": {"login": "HashEngineering"}, "path": "wallet/src/de/schildbach/wallet/ui/MainActivityViewModel.kt", "diffHunk": "@@ -40,7 +40,7 @@ class MainActivityViewModel(application: Application) : AndroidViewModel(applica\n     val canAffordIdentityCreationLiveData = CanAffordIdentityCreationLiveData(walletApplication)\n \n     val hasIdentity: Boolean\n-        get() = blockchainIdentity?.creationState == BlockchainIdentityData.CreationState.DONE\n+        get() = blockchainIdentity?.creationComplete!!", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "25226b17b6fd735d88253e5863eb6b15bd90976a"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDg1NDkxNQ==", "bodyText": "This i due to the safe call operator ?. after blockchainIdentity. It would return null if blockchainIdentity is null. Your fix should be interpreted as (blockchainIdentity?.creationComplete)!! so that the not-null assertion operator !! refers to the whole result, not only to the creationComplete part.\nSafer solution, that will not cause NPE when getting the hasIdentity field for blockchainIdentity being null would be:\nval hasIdentity: Boolean\n    get() = blockchainIdentity?.creationComplete ?: false\n\nJava is more readable but less condensed:\nif (blockchainIdentity != null)\n    return blockchainIdentity.creationComplete\nelse\n    return false", "url": "https://github.com/dashevo/dash-wallet/pull/523#discussion_r500854915", "createdAt": "2020-10-07T09:06:12Z", "author": {"login": "tomasz-ludek"}, "path": "wallet/src/de/schildbach/wallet/ui/MainActivityViewModel.kt", "diffHunk": "@@ -40,7 +40,7 @@ class MainActivityViewModel(application: Application) : AndroidViewModel(applica\n     val canAffordIdentityCreationLiveData = CanAffordIdentityCreationLiveData(walletApplication)\n \n     val hasIdentity: Boolean\n-        get() = blockchainIdentity?.creationState == BlockchainIdentityData.CreationState.DONE\n+        get() = blockchainIdentity?.creationComplete!!", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDY1NzE0Mw=="}, "originalCommit": {"oid": "25226b17b6fd735d88253e5863eb6b15bd90976a"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTA5MTExOA==", "bodyText": "Thanks for the explanation.", "url": "https://github.com/dashevo/dash-wallet/pull/523#discussion_r501091118", "createdAt": "2020-10-07T15:09:24Z", "author": {"login": "HashEngineering"}, "path": "wallet/src/de/schildbach/wallet/ui/MainActivityViewModel.kt", "diffHunk": "@@ -40,7 +40,7 @@ class MainActivityViewModel(application: Application) : AndroidViewModel(applica\n     val canAffordIdentityCreationLiveData = CanAffordIdentityCreationLiveData(walletApplication)\n \n     val hasIdentity: Boolean\n-        get() = blockchainIdentity?.creationState == BlockchainIdentityData.CreationState.DONE\n+        get() = blockchainIdentity?.creationComplete!!", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDY1NzE0Mw=="}, "originalCommit": {"oid": "25226b17b6fd735d88253e5863eb6b15bd90976a"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEzNDgxODUxOnYy", "diffSide": "RIGHT", "path": "wallet/src/de/schildbach/wallet/data/BlockchainIdentityBaseData.kt", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQyMzo0NzozOVrOHddtcw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QwOTowNjozNVrOHdpxVg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDY1NzUyMw==", "bodyText": "This getter could be used in other places instead of comparing to the value of DONE.", "url": "https://github.com/dashevo/dash-wallet/pull/523#discussion_r500657523", "createdAt": "2020-10-06T23:47:39Z", "author": {"login": "HashEngineering"}, "path": "wallet/src/de/schildbach/wallet/data/BlockchainIdentityBaseData.kt", "diffHunk": "@@ -30,4 +30,7 @@ data class BlockchainIdentityBaseData(val id: Int,\n         get() = creationState > BlockchainIdentityData.CreationState.NONE &&\n                 creationState < BlockchainIdentityData.CreationState.DONE &&\n                 creationStateErrorMessage == null\n+\n+    val creationComplete: Boolean\n+        get() = creationState >= BlockchainIdentityData.CreationState.DONE", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "25226b17b6fd735d88253e5863eb6b15bd90976a"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDg1NTEyNg==", "bodyText": "Good idea!", "url": "https://github.com/dashevo/dash-wallet/pull/523#discussion_r500855126", "createdAt": "2020-10-07T09:06:35Z", "author": {"login": "tomasz-ludek"}, "path": "wallet/src/de/schildbach/wallet/data/BlockchainIdentityBaseData.kt", "diffHunk": "@@ -30,4 +30,7 @@ data class BlockchainIdentityBaseData(val id: Int,\n         get() = creationState > BlockchainIdentityData.CreationState.NONE &&\n                 creationState < BlockchainIdentityData.CreationState.DONE &&\n                 creationStateErrorMessage == null\n+\n+    val creationComplete: Boolean\n+        get() = creationState >= BlockchainIdentityData.CreationState.DONE", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDY1NzUyMw=="}, "originalCommit": {"oid": "25226b17b6fd735d88253e5863eb6b15bd90976a"}, "originalPosition": 6}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 598, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}