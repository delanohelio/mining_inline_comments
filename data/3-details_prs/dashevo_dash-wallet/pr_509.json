{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg2NTIxNjg0", "number": 509, "title": "Simplified tracking of the progress of send contact request operation", "bodyText": "Issue being fixed or feature implemented\n\n\n\nRelated PR's and Dependencies\n\nScreenshots / Videos\n\nHow Has This Been Tested?\n\n\n\n\n QA (Mobile Team)\n\nChecklist:\n\n\n I have performed a self-review of my own code and added comments where necessary\n I have added or updated relevant unit/integration/functional/e2e tests", "createdAt": "2020-09-14T10:53:08Z", "url": "https://github.com/dashevo/dash-wallet/pull/509", "merged": true, "mergeCommit": {"oid": "535846b030e1c28cf2155d99b8e651f91e10ce01"}, "closed": true, "closedAt": "2020-09-21T15:52:05Z", "author": {"login": "tomasz-ludek"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdIw-BYgH2gAyNDg2NTIxNjg0OjQ2NjZjNjI5YjkzZDRkNjgyYTEzODQ4NDhjODllMWRmMGVhZjkwYjU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdI-SVPAFqTQ4ODI3NzI3Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "4666c629b93d4d682a1384848c89e1df0eaf90b5", "author": {"user": {"login": "tomasz-ludek", "name": null}}, "url": "https://github.com/dashevo/dash-wallet/commit/4666c629b93d4d682a1384848c89e1df0eaf90b5", "committedDate": "2020-09-14T10:51:49Z", "message": "Simplified tracking of the progress of send contact request operation\nRemoved some debug code"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7551aafe14aa52f7f5c702da438cb108ce58d95a", "author": {"user": {"login": "tomasz-ludek", "name": null}}, "url": "https://github.com/dashevo/dash-wallet/commit/7551aafe14aa52f7f5c702da438cb108ce58d95a", "committedDate": "2020-09-14T13:24:32Z", "message": "No need to derive encryption key one more time"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2ab76bab14bc37888d68e7d17d189cca00229204", "author": {"user": {"login": "tomasz-ludek", "name": null}}, "url": "https://github.com/dashevo/dash-wallet/commit/2ab76bab14bc37888d68e7d17d189cca00229204", "committedDate": "2020-09-14T14:09:49Z", "message": "Improved exception handling"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg4Mjc3Mjcy", "url": "https://github.com/dashevo/dash-wallet/pull/509#pullrequestreview-488277272", "createdAt": "2020-09-15T02:22:46Z", "commit": {"oid": "7551aafe14aa52f7f5c702da438cb108ce58d95a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQwMjoyMjo0NlrOHRuGWQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQwMjoyMjo0NlrOHRuGWQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODM0MzEyOQ==", "bodyText": "good catch here!  I think I did a copy paste without realizing there was double work done on the encryptionKey.", "url": "https://github.com/dashevo/dash-wallet/pull/509#discussion_r488343129", "createdAt": "2020-09-15T02:22:46Z", "author": {"login": "HashEngineering"}, "path": "wallet/src/de/schildbach/wallet/ui/dashpay/PlatformRepo.kt", "diffHunk": "@@ -423,15 +423,10 @@ class PlatformRepo private constructor(val walletApplication: WalletApplication)\n \n             // add our receiving from this contact keychain if it doesn't exist\n             val contact = EvolutionContact(blockchainIdentity.uniqueIdString, toUserId)\n-            var encryptionKey: KeyParameter? = null\n \n             if (!walletApplication.wallet.hasReceivingKeyChain(contact)) {\n                 val contactIdentity = platform.identities.get(toUserId)\n-                if (walletApplication.wallet.isEncrypted) {\n-                    val password = securityGuard.retrievePassword()\n-                    encryptionKey = walletApplication.wallet!!.keyCrypter!!.deriveKey(password)\n-                }\n-                blockchainIdentity.addPaymentKeyChainFromContact(contactIdentity!!, cr!!, encryptionKey!!)\n+                blockchainIdentity.addPaymentKeyChainFromContact(contactIdentity!!, cr!!, encryptionKey)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7551aafe14aa52f7f5c702da438cb108ce58d95a"}, "originalPosition": 13}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2825, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}