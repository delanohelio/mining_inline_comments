{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc0MDk0Nzkw", "number": 491, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQxOTowMDoxNVrOEctOJA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQxOTowMDoxNVrOEctOJA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk4NTM2NDg0OnYy", "diffSide": "RIGHT", "path": "wallet/src/de/schildbach/wallet/ui/LockScreenActivity.kt", "isResolved": true, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQxOTowMDoxNVrOHHZg1Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQxMToxMToyOFrOHKxhDA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzUyMDA4NQ==", "bodyText": "These models were chosen based on device images from Google Play that seem to clearly show that these devices have hardware buttons for back, etc.\nOnly the K5 was tested.", "url": "https://github.com/dashevo/dash-wallet/pull/491#discussion_r477520085", "createdAt": "2020-08-26T19:00:15Z", "author": {"login": "HashEngineering"}, "path": "wallet/src/de/schildbach/wallet/ui/LockScreenActivity.kt", "diffHunk": "@@ -120,8 +124,26 @@ class LockScreenActivity : SendCoinsQrActivity() {\n     }\n \n     private fun hasNavBar(): Boolean {\n+        val tm: TelephonyManager = getSystemService(Context.TELEPHONY_SERVICE) as TelephonyManager\n+        // emulator\n+        if (\"Android\" == tm.networkOperatorName || Build.FINGERPRINT.startsWith(\"generic\")) {\n+            return true\n+        }\n         val id: Int = resources.getIdentifier(\"config_showNavigationBar\", \"bool\", \"android\")\n-        return id > 0 && resources.getBoolean(id)\n+\n+        // Krip devices seem to incorrectly report config_showNavigationBar\n+        val isKripDeviceWithoutNavBar = Build.BRAND == \"KRIP\" && when (Build.MODEL) {\n+            \"K5\", \"K5c\", \"K5b\", \"K4m\", \"KRIP_K4\", \"K6\" -> true\n+            else -> false\n+        }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "22533129eff3624f458c8d0f378462e67ae68415"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDE2NTU5OA==", "bodyText": "@HashEngineering,\nthis change broke it on my K600A device (it doesn't have the physical buttons):", "url": "https://github.com/dashevo/dash-wallet/pull/491#discussion_r480165598", "createdAt": "2020-08-31T14:23:56Z", "author": {"login": "tomasz-ludek"}, "path": "wallet/src/de/schildbach/wallet/ui/LockScreenActivity.kt", "diffHunk": "@@ -120,8 +124,26 @@ class LockScreenActivity : SendCoinsQrActivity() {\n     }\n \n     private fun hasNavBar(): Boolean {\n+        val tm: TelephonyManager = getSystemService(Context.TELEPHONY_SERVICE) as TelephonyManager\n+        // emulator\n+        if (\"Android\" == tm.networkOperatorName || Build.FINGERPRINT.startsWith(\"generic\")) {\n+            return true\n+        }\n         val id: Int = resources.getIdentifier(\"config_showNavigationBar\", \"bool\", \"android\")\n-        return id > 0 && resources.getBoolean(id)\n+\n+        // Krip devices seem to incorrectly report config_showNavigationBar\n+        val isKripDeviceWithoutNavBar = Build.BRAND == \"KRIP\" && when (Build.MODEL) {\n+            \"K5\", \"K5c\", \"K5b\", \"K4m\", \"KRIP_K4\", \"K6\" -> true\n+            else -> false\n+        }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzUyMDA4NQ=="}, "originalCommit": {"oid": "22533129eff3624f458c8d0f378462e67ae68415"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDE3MDQ0MA==", "bodyText": "oh cool, glad you have the device to check it!", "url": "https://github.com/dashevo/dash-wallet/pull/491#discussion_r480170440", "createdAt": "2020-08-31T14:31:30Z", "author": {"login": "HashEngineering"}, "path": "wallet/src/de/schildbach/wallet/ui/LockScreenActivity.kt", "diffHunk": "@@ -120,8 +124,26 @@ class LockScreenActivity : SendCoinsQrActivity() {\n     }\n \n     private fun hasNavBar(): Boolean {\n+        val tm: TelephonyManager = getSystemService(Context.TELEPHONY_SERVICE) as TelephonyManager\n+        // emulator\n+        if (\"Android\" == tm.networkOperatorName || Build.FINGERPRINT.startsWith(\"generic\")) {\n+            return true\n+        }\n         val id: Int = resources.getIdentifier(\"config_showNavigationBar\", \"bool\", \"android\")\n-        return id > 0 && resources.getBoolean(id)\n+\n+        // Krip devices seem to incorrectly report config_showNavigationBar\n+        val isKripDeviceWithoutNavBar = Build.BRAND == \"KRIP\" && when (Build.MODEL) {\n+            \"K5\", \"K5c\", \"K5b\", \"K4m\", \"KRIP_K4\", \"K6\" -> true\n+            else -> false\n+        }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzUyMDA4NQ=="}, "originalCommit": {"oid": "22533129eff3624f458c8d0f378462e67ae68415"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDMyODg3Ng==", "bodyText": "Fixed here: 8c81b4b", "url": "https://github.com/dashevo/dash-wallet/pull/491#discussion_r480328876", "createdAt": "2020-08-31T19:03:41Z", "author": {"login": "HashEngineering"}, "path": "wallet/src/de/schildbach/wallet/ui/LockScreenActivity.kt", "diffHunk": "@@ -120,8 +124,26 @@ class LockScreenActivity : SendCoinsQrActivity() {\n     }\n \n     private fun hasNavBar(): Boolean {\n+        val tm: TelephonyManager = getSystemService(Context.TELEPHONY_SERVICE) as TelephonyManager\n+        // emulator\n+        if (\"Android\" == tm.networkOperatorName || Build.FINGERPRINT.startsWith(\"generic\")) {\n+            return true\n+        }\n         val id: Int = resources.getIdentifier(\"config_showNavigationBar\", \"bool\", \"android\")\n-        return id > 0 && resources.getBoolean(id)\n+\n+        // Krip devices seem to incorrectly report config_showNavigationBar\n+        val isKripDeviceWithoutNavBar = Build.BRAND == \"KRIP\" && when (Build.MODEL) {\n+            \"K5\", \"K5c\", \"K5b\", \"K4m\", \"KRIP_K4\", \"K6\" -> true\n+            else -> false\n+        }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzUyMDA4NQ=="}, "originalCommit": {"oid": "22533129eff3624f458c8d0f378462e67ae68415"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTA1OTA4NA==", "bodyText": "it works \ud83d\udc4d", "url": "https://github.com/dashevo/dash-wallet/pull/491#discussion_r481059084", "createdAt": "2020-09-01T11:11:28Z", "author": {"login": "tomasz-ludek"}, "path": "wallet/src/de/schildbach/wallet/ui/LockScreenActivity.kt", "diffHunk": "@@ -120,8 +124,26 @@ class LockScreenActivity : SendCoinsQrActivity() {\n     }\n \n     private fun hasNavBar(): Boolean {\n+        val tm: TelephonyManager = getSystemService(Context.TELEPHONY_SERVICE) as TelephonyManager\n+        // emulator\n+        if (\"Android\" == tm.networkOperatorName || Build.FINGERPRINT.startsWith(\"generic\")) {\n+            return true\n+        }\n         val id: Int = resources.getIdentifier(\"config_showNavigationBar\", \"bool\", \"android\")\n-        return id > 0 && resources.getBoolean(id)\n+\n+        // Krip devices seem to incorrectly report config_showNavigationBar\n+        val isKripDeviceWithoutNavBar = Build.BRAND == \"KRIP\" && when (Build.MODEL) {\n+            \"K5\", \"K5c\", \"K5b\", \"K4m\", \"KRIP_K4\", \"K6\" -> true\n+            else -> false\n+        }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzUyMDA4NQ=="}, "originalCommit": {"oid": "22533129eff3624f458c8d0f378462e67ae68415"}, "originalPosition": 28}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 573, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}