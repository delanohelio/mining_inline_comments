{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk5NDg1MDI2", "number": 524, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QyMDoxMjo1NFrOErVyEQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOFQxMDo0MDo0M1rOErjZ2w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEzODgxMTA1OnYy", "diffSide": "RIGHT", "path": "wallet/src/de/schildbach/wallet/ui/VerifySeedConfirmFragment.kt", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QyMDoxMjo1NFrOHeDyTg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOFQwODo0MDo0MFrOHeT-LA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTI4MTM1OA==", "bodyText": "not sure why this became necessary to add !!.  Is there a better way?\nperhaps getStringArray was changed to be able to return null.", "url": "https://github.com/dashevo/dash-wallet/pull/524#discussion_r501281358", "createdAt": "2020-10-07T20:12:54Z", "author": {"login": "HashEngineering"}, "path": "wallet/src/de/schildbach/wallet/ui/VerifySeedConfirmFragment.kt", "diffHunk": "@@ -61,7 +61,7 @@ class VerifySeedConfirmFragment : VerifySeedBaseFragment() {\n         view.findViewById<Toolbar>(R.id.toolbar).title = getString(R.string.verify)\n \n         if (arguments?.containsKey(\"seed\")!!) {\n-            words.addAll(arguments!!.getStringArray(\"seed\"))\n+            words.addAll(arguments!!.getStringArray(\"seed\")!!)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fa187202277949006611727b415112672f62cb1e"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTU0NjU0MA==", "bodyText": "They most likely added @Nullable annotation to the declaration of getStringArray(...) method.\nThe multiple not-null assertion operator !! looks a bit odd, however there is other thing which could be improved by a tiny refactoring and which be more meaningful.\nThe following approach:\narguments?.getStringArray(\"seed\")?.let {\n    words.addAll(it)\n} ?: throw IllegalStateException(\"This fragment needs to receive a String[] containing the recovery seed\")\n\nwill avoid throwing NPE instead of IllegalStateException whenever something is null.\nThe readability of this code is questionable but this is one of the downsides of using Kotlin...", "url": "https://github.com/dashevo/dash-wallet/pull/524#discussion_r501546540", "createdAt": "2020-10-08T08:40:40Z", "author": {"login": "tomasz-ludek"}, "path": "wallet/src/de/schildbach/wallet/ui/VerifySeedConfirmFragment.kt", "diffHunk": "@@ -61,7 +61,7 @@ class VerifySeedConfirmFragment : VerifySeedBaseFragment() {\n         view.findViewById<Toolbar>(R.id.toolbar).title = getString(R.string.verify)\n \n         if (arguments?.containsKey(\"seed\")!!) {\n-            words.addAll(arguments!!.getStringArray(\"seed\"))\n+            words.addAll(arguments!!.getStringArray(\"seed\")!!)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTI4MTM1OA=="}, "originalCommit": {"oid": "fa187202277949006611727b415112672f62cb1e"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEzODgxMzU0OnYy", "diffSide": "RIGHT", "path": "wallet/src/de/schildbach/wallet/ui/widget/ReceiveInfoView.kt", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QyMDoxMzozM1rOHeDzsg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxMjozNDoxMFrOHgkZaw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTI4MTcxNA==", "bodyText": "Did something change with setPrimaryClip such that it cannot be implicitly called with primaryClip = x", "url": "https://github.com/dashevo/dash-wallet/pull/524#discussion_r501281714", "createdAt": "2020-10-07T20:13:33Z", "author": {"login": "HashEngineering"}, "path": "wallet/src/de/schildbach/wallet/ui/widget/ReceiveInfoView.kt", "diffHunk": "@@ -122,9 +122,9 @@ class ReceiveInfoView(context: Context, attrs: AttributeSet?) : ConstraintLayout\n         try {\n             val clipboardManager = context.getSystemService(Context.CLIPBOARD_SERVICE) as ClipboardManager\n             if (amount != null) {\n-                clipboardManager.primaryClip = ClipData.newPlainText(\"Dash payment request\", paymentRequestUri)\n+                clipboardManager.setPrimaryClip(ClipData.newPlainText(\"Dash payment request\", paymentRequestUri))\n             } else {\n-                clipboardManager.primaryClip = ClipData.newPlainText(\"Dash address\", address.toBase58())\n+                clipboardManager.setPrimaryClip(ClipData.newPlainText(\"Dash address\", address.toBase58()))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fa187202277949006611727b415112672f62cb1e"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzkxMjgxMQ==", "bodyText": "They added the @NonNull annotation to the ClipData parameter in ClipboardManager.setPrimaryClip(ClipData) method, whereas getPrimaryClip() is annotated as @Nullable and it cause Kotlin to fail with the use of property access syntax.\nHere is the full answer: https://stackoverflow.com/a/57128936/795721", "url": "https://github.com/dashevo/dash-wallet/pull/524#discussion_r503912811", "createdAt": "2020-10-13T12:34:10Z", "author": {"login": "tomasz-ludek"}, "path": "wallet/src/de/schildbach/wallet/ui/widget/ReceiveInfoView.kt", "diffHunk": "@@ -122,9 +122,9 @@ class ReceiveInfoView(context: Context, attrs: AttributeSet?) : ConstraintLayout\n         try {\n             val clipboardManager = context.getSystemService(Context.CLIPBOARD_SERVICE) as ClipboardManager\n             if (amount != null) {\n-                clipboardManager.primaryClip = ClipData.newPlainText(\"Dash payment request\", paymentRequestUri)\n+                clipboardManager.setPrimaryClip(ClipData.newPlainText(\"Dash payment request\", paymentRequestUri))\n             } else {\n-                clipboardManager.primaryClip = ClipData.newPlainText(\"Dash address\", address.toBase58())\n+                clipboardManager.setPrimaryClip(ClipData.newPlainText(\"Dash address\", address.toBase58()))", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTI4MTcxNA=="}, "originalCommit": {"oid": "fa187202277949006611727b415112672f62cb1e"}, "originalPosition": 8}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE0MDYyNjE3OnYy", "diffSide": "RIGHT", "path": "wallet/src/de/schildbach/wallet/ui/VerifySeedWriteDownFragment.kt", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOFQwODo1NToyNVrOHeUi7g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOFQwODo1NToyNVrOHeUi7g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTU1NTk1MA==", "bodyText": "This could be replaced by:\narguments?.getStringArray(\"seed\")?.let { seed ->\n    val sb = StringBuilder(12)\n    seed.forEach {\n        sb.append(\"$it  \")\n    }\n    recoverySeedTextView.text = sb.toString().trim()            \n}", "url": "https://github.com/dashevo/dash-wallet/pull/524#discussion_r501555950", "createdAt": "2020-10-08T08:55:25Z", "author": {"login": "tomasz-ludek"}, "path": "wallet/src/de/schildbach/wallet/ui/VerifySeedWriteDownFragment.kt", "diffHunk": "@@ -52,7 +52,7 @@ class VerifySeedWriteDownFragment private constructor() : VerifySeedBaseFragment\n         view.findViewById<Toolbar>(R.id.toolbar).title = getString(R.string.verify_backup_wallet)\n \n         if (arguments?.containsKey(\"seed\")!!) {\n-            val seed = arguments!!.getStringArray(\"seed\")\n+            val seed = arguments!!.getStringArray(\"seed\")!!", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fa187202277949006611727b415112672f62cb1e"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE0MTA0MjgzOnYy", "diffSide": "LEFT", "path": "wallet/build.gradle", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOFQxMDo0MDo0NFrOHeYhiA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOFQxMDo0MDo0NFrOHeYhiA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTYyMTEyOA==", "bodyText": "This was required to build the app with gradle 6.1.1", "url": "https://github.com/dashevo/dash-wallet/pull/524#discussion_r501621128", "createdAt": "2020-10-08T10:40:44Z", "author": {"login": "tomasz-ludek"}, "path": "wallet/build.gradle", "diffHunk": "@@ -37,7 +37,6 @@ dependencies {\n     implementation 'androidx.preference:preference:1.1.0'\n     implementation 'androidx.constraintlayout:constraintlayout:2.0.0-beta4'\n     implementation \"org.dashj:dashj-core:$dashjVersion\"\n-    implementation 'com.google.protobuf:protobuf-java:3.4.0'", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "563af3808ba0c2ac992dae872885dffe6919feb9"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 600, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}