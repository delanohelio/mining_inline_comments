{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg2NTIxNjg0", "number": 509, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQwMjoyMjo0NlrOEjZNcg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQwMjoyMjo0NlrOEjZNcg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA1NTQ4NjU4OnYy", "diffSide": "RIGHT", "path": "wallet/src/de/schildbach/wallet/ui/dashpay/PlatformRepo.kt", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQwMjoyMjo0NlrOHRuGWQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQwMjoyMjo0NlrOHRuGWQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODM0MzEyOQ==", "bodyText": "good catch here!  I think I did a copy paste without realizing there was double work done on the encryptionKey.", "url": "https://github.com/dashevo/dash-wallet/pull/509#discussion_r488343129", "createdAt": "2020-09-15T02:22:46Z", "author": {"login": "HashEngineering"}, "path": "wallet/src/de/schildbach/wallet/ui/dashpay/PlatformRepo.kt", "diffHunk": "@@ -423,15 +423,10 @@ class PlatformRepo private constructor(val walletApplication: WalletApplication)\n \n             // add our receiving from this contact keychain if it doesn't exist\n             val contact = EvolutionContact(blockchainIdentity.uniqueIdString, toUserId)\n-            var encryptionKey: KeyParameter? = null\n \n             if (!walletApplication.wallet.hasReceivingKeyChain(contact)) {\n                 val contactIdentity = platform.identities.get(toUserId)\n-                if (walletApplication.wallet.isEncrypted) {\n-                    val password = securityGuard.retrievePassword()\n-                    encryptionKey = walletApplication.wallet!!.keyCrypter!!.deriveKey(password)\n-                }\n-                blockchainIdentity.addPaymentKeyChainFromContact(contactIdentity!!, cr!!, encryptionKey!!)\n+                blockchainIdentity.addPaymentKeyChainFromContact(contactIdentity!!, cr!!, encryptionKey)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7551aafe14aa52f7f5c702da438cb108ce58d95a"}, "originalPosition": 13}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 587, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}