{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA2NDM1OTY5", "number": 380, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQwNjoyNToxOFrOD1nQ0g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQxNToxNTo1MFrOD10y3A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU3NTQ0NDAyOnYy", "diffSide": "RIGHT", "path": "wallet/src/de/schildbach/wallet/ui/WalletActivity.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQwNjoyNToxOVrOGLIbHA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQwNjoyNToxOVrOGLIbHA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDMyNTUzMg==", "bodyText": "This old way of retrieving ViewModels is deprecated in 'androidx.core:core:1.2.0', I applied the recommended one.", "url": "https://github.com/dashevo/dash-wallet/pull/380#discussion_r414325532", "createdAt": "2020-04-24T06:25:19Z", "author": {"login": "tomasz-ludek"}, "path": "wallet/src/de/schildbach/wallet/ui/WalletActivity.java", "diffHunk": "@@ -320,7 +321,7 @@ private void initViewModel() {\n         // the Join DashPay (evolution) button on the shortcuts bar.\n         // If that is the only function that the platform required for, then we can\n         // conditionally execute this code when a username hasn't been registered.\n-        dashPayViewModel = ViewModelProviders.of(this).get(DashPayViewModel.class);\n+        dashPayViewModel = new ViewModelProvider(this).get(DashPayViewModel.class);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "addd5e1ce23219bb7b63dff65325f2e8eab0d2ce"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU3NTQ0NzAxOnYy", "diffSide": "RIGHT", "path": "wallet/src/de/schildbach/wallet/ui/WalletActivity.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQwNjoyNjoxNFrOGLIcvg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQwNjoyNjoxNFrOGLIcvg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDMyNTk1MA==", "bodyText": "Last time I forgot to revert this temporary debugging change.", "url": "https://github.com/dashevo/dash-wallet/pull/380#discussion_r414325950", "createdAt": "2020-04-24T06:26:14Z", "author": {"login": "tomasz-ludek"}, "path": "wallet/src/de/schildbach/wallet/ui/WalletActivity.java", "diffHunk": "@@ -345,7 +345,7 @@ private void showHideJoinDashPayAction() {\n             boolean canAffordIt = walletBalance.isGreaterThan(Constants.DASH_PAY_FEE)\n                     || walletBalance.equals(Constants.DASH_PAY_FEE);\n             boolean visible = canAffordIt && config.getShowJoinDashPay();\n-            joinDashPayAction.setVisibility(View.VISIBLE);//visible ? View.VISIBLE : View.GONE);\n+            joinDashPayAction.setVisibility(visible ? View.VISIBLE : View.GONE);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "addd5e1ce23219bb7b63dff65325f2e8eab0d2ce"}, "originalPosition": 30}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU3NTQ2MTQ4OnYy", "diffSide": "LEFT", "path": "wallet/src/de/schildbach/wallet/ui/dashpay/DashPayViewModel.kt", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQwNjozMDo1MFrOGLIkpQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQwNjozMDo1MFrOGLIkpQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDMyNzk3Mw==", "bodyText": "This field and all related code is only needed if you want to be able to reload the value of related LiveData multiple times and each time cancel previous request is it wasn't yet finished. I'll try to explain it in more details on Slack.", "url": "https://github.com/dashevo/dash-wallet/pull/380#discussion_r414327973", "createdAt": "2020-04-24T06:30:50Z", "author": {"login": "tomasz-ludek"}, "path": "wallet/src/de/schildbach/wallet/ui/dashpay/DashPayViewModel.kt", "diffHunk": "@@ -29,13 +29,10 @@ class DashPayViewModel(application: Application) : AndroidViewModel(application)\n \n     private val platformRepo = PlatformRepo(application as WalletApplication)\n \n-\n     private val usernameLiveData = MutableLiveData<String>()\n-    private val platformStatusLiveData = MutableLiveData<Boolean>()\n \n     // Job instance (https://stackoverflow.com/questions/57723714/how-to-cancel-a-running-livedata-coroutine-block/57726583#57726583)\n     private var getUsernameJob = Job()\n-    private var isPlatformAvailableJob = Job()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "addd5e1ce23219bb7b63dff65325f2e8eab0d2ce"}, "originalPosition": 10}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU3NzY2MTA4OnYy", "diffSide": "LEFT", "path": "wallet/src/de/schildbach/wallet/ui/WalletActivity.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQxNToxNTo1MFrOGLckbg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQxNToyMjoyMVrOGLc2rA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDY1NTU5OA==", "bodyText": "I am curious about this change.  How do we trigger this call?", "url": "https://github.com/dashevo/dash-wallet/pull/380#discussion_r414655598", "createdAt": "2020-04-24T15:15:50Z", "author": {"login": "HashEngineering"}, "path": "wallet/src/de/schildbach/wallet/ui/WalletActivity.java", "diffHunk": "@@ -330,7 +331,6 @@ public void onChanged(Resource<Boolean> status) {\n                 showHideJoinDashPayAction();\n             }\n         });\n-        dashPayViewModel.isPlatformAvailable();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "addd5e1ce23219bb7b63dff65325f2e8eab0d2ce"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDY2MDI2OA==", "bodyText": "It is trigger automatically by the SDK when you starting observing on it:\ndashPayViewModel.isPlatformAvailableLiveData().observe(...)", "url": "https://github.com/dashevo/dash-wallet/pull/380#discussion_r414660268", "createdAt": "2020-04-24T15:22:21Z", "author": {"login": "tomasz-ludek"}, "path": "wallet/src/de/schildbach/wallet/ui/WalletActivity.java", "diffHunk": "@@ -330,7 +331,6 @@ public void onChanged(Resource<Boolean> status) {\n                 showHideJoinDashPayAction();\n             }\n         });\n-        dashPayViewModel.isPlatformAvailable();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDY1NTU5OA=="}, "originalCommit": {"oid": "addd5e1ce23219bb7b63dff65325f2e8eab0d2ce"}, "originalPosition": 21}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 641, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}