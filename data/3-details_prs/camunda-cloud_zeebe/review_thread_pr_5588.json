{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTAzMjY1MjIx", "number": 5588, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNlQwNzowMDo1OFrOEuVDfQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNlQwNzowMjoyNVrOEuVFZA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE3MDE0OTA5OnYy", "diffSide": "LEFT", "path": "atomix/cluster/src/main/java/io/atomix/raft/partition/RaftPartition.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNlQwNzowMDo1OFrOHiqG4Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNlQwNzoxMjoyNlrOHiqi8Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjEwMzUyMQ==", "bodyText": "Why we had this factory here before do you know?", "url": "https://github.com/camunda-cloud/zeebe/pull/5588#discussion_r506103521", "createdAt": "2020-10-16T07:00:58Z", "author": {"login": "Zelldon"}, "path": "atomix/cluster/src/main/java/io/atomix/raft/partition/RaftPartition.java", "diffHunk": "@@ -47,7 +46,6 @@\n   private final PartitionId partitionId;\n   private final RaftPartitionGroupConfig config;\n   private final File dataDirectory;\n-  private final ThreadContextFactory threadContextFactory;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f1b2895a44b1769059bf28aeedd47682b9cc24c1"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjExMDcwNQ==", "bodyText": "It was not used in the current code. Not sure what was its use before our refactoring. It was probably something related to client connections.", "url": "https://github.com/camunda-cloud/zeebe/pull/5588#discussion_r506110705", "createdAt": "2020-10-16T07:12:26Z", "author": {"login": "deepthidevaki"}, "path": "atomix/cluster/src/main/java/io/atomix/raft/partition/RaftPartition.java", "diffHunk": "@@ -47,7 +46,6 @@\n   private final PartitionId partitionId;\n   private final RaftPartitionGroupConfig config;\n   private final File dataDirectory;\n-  private final ThreadContextFactory threadContextFactory;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjEwMzUyMQ=="}, "originalCommit": {"oid": "f1b2895a44b1769059bf28aeedd47682b9cc24c1"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE3MDE1Mzk2OnYy", "diffSide": "LEFT", "path": "atomix/cluster/src/main/java/io/atomix/raft/impl/RaftContext.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNlQwNzowMjoyNVrOHiqJ6Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNlQwNzoxNTo0NFrOHiqrcg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjEwNDI5Nw==", "bodyText": "Why it was necessary to close the factory before? \ud83e\udd14", "url": "https://github.com/camunda-cloud/zeebe/pull/5588#discussion_r506104297", "createdAt": "2020-10-16T07:02:25Z", "author": {"login": "Zelldon"}, "path": "atomix/cluster/src/main/java/io/atomix/raft/impl/RaftContext.java", "diffHunk": "@@ -617,12 +609,6 @@ public void close() {\n \n     // close thread contexts\n     threadContext.close();\n-    loadContext.close();\n-\n-    // Only close the thread context factory if indicated.\n-    if (closeOnStop) {\n-      threadContextFactory.close();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f1b2895a44b1769059bf28aeedd47682b9cc24c1"}, "originalPosition": 96}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjExMjg4Mg==", "bodyText": "Depends on who is the owner of the threadFactory. If it was provided from RaftPartitionGroup, then it will be closed there. If it was created by DefaultRaftServer, then it is closed here. Anyway, threadContextFactory was not used. So this would not change anything.", "url": "https://github.com/camunda-cloud/zeebe/pull/5588#discussion_r506112882", "createdAt": "2020-10-16T07:15:44Z", "author": {"login": "deepthidevaki"}, "path": "atomix/cluster/src/main/java/io/atomix/raft/impl/RaftContext.java", "diffHunk": "@@ -617,12 +609,6 @@ public void close() {\n \n     // close thread contexts\n     threadContext.close();\n-    loadContext.close();\n-\n-    // Only close the thread context factory if indicated.\n-    if (closeOnStop) {\n-      threadContextFactory.close();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjEwNDI5Nw=="}, "originalCommit": {"oid": "f1b2895a44b1769059bf28aeedd47682b9cc24c1"}, "originalPosition": 96}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 201, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}