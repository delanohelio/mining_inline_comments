{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkxNDA3MjE1", "number": 4089, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMFQxMzo0MDo1NlrODp3zCg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMFQxMzo0MDo1NlrODp3zCg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ1MjMyMzk0OnYy", "diffSide": "RIGHT", "path": "logstreams/src/main/java/io/zeebe/logstreams/impl/log/LogStorageAppender.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMFQxMzo0MDo1NlrOF5UG8Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMFQxMzo0NDo0OVrOF5UQeA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTY0MjYwOQ==", "bodyText": "speaks anything against moving the actor run into the onFailure?", "url": "https://github.com/camunda-cloud/zeebe/pull/4089#discussion_r395642609", "createdAt": "2020-03-20T13:40:56Z", "author": {"login": "Zelldon"}, "path": "logstreams/src/main/java/io/zeebe/logstreams/impl/log/LogStorageAppender.java", "diffHunk": "@@ -230,7 +230,7 @@ public void onWriteError(final Throwable error) {\n         // Not a failure. It is probably during transition to follower.\n         return;\n       }\n-      onFailure(error);\n+      actor.run(() -> onFailure(error));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b52d2f97f25d3c5af86168ea96123be4f0b1840e"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTY0NDU1Ng==", "bodyText": "onFailure is also called in handleFailure(). If we use actor.run() there it won't be executed until other submitted tasks are executed. So we are not immediately failing when an unhandled exception happens.", "url": "https://github.com/camunda-cloud/zeebe/pull/4089#discussion_r395644556", "createdAt": "2020-03-20T13:44:01Z", "author": {"login": "deepthidevaki"}, "path": "logstreams/src/main/java/io/zeebe/logstreams/impl/log/LogStorageAppender.java", "diffHunk": "@@ -230,7 +230,7 @@ public void onWriteError(final Throwable error) {\n         // Not a failure. It is probably during transition to follower.\n         return;\n       }\n-      onFailure(error);\n+      actor.run(() -> onFailure(error));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTY0MjYwOQ=="}, "originalCommit": {"oid": "b52d2f97f25d3c5af86168ea96123be4f0b1840e"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTY0NTA0OA==", "bodyText": "ok then leave it like it is thanks", "url": "https://github.com/camunda-cloud/zeebe/pull/4089#discussion_r395645048", "createdAt": "2020-03-20T13:44:49Z", "author": {"login": "Zelldon"}, "path": "logstreams/src/main/java/io/zeebe/logstreams/impl/log/LogStorageAppender.java", "diffHunk": "@@ -230,7 +230,7 @@ public void onWriteError(final Throwable error) {\n         // Not a failure. It is probably during transition to follower.\n         return;\n       }\n-      onFailure(error);\n+      actor.run(() -> onFailure(error));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTY0MjYwOQ=="}, "originalCommit": {"oid": "b52d2f97f25d3c5af86168ea96123be4f0b1840e"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4935, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}