{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDgxOTcyNjgw", "number": 5316, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMFQxMTo0MTo0M1rOEiE11A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMFQxMTo0MTo0M1rOEiE11A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA0MTY2MzU2OnYy", "diffSide": "RIGHT", "path": "engine/src/main/java/io/zeebe/engine/processing/common/ExpressionProcessor.java", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMFQxMTo0MTo0M1rOHPvkig==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQxMToyNDo0NlrOHRPU_A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjI3MDA5MA==", "bodyText": "This error message no longer adheres to our preferred error message template. Why do you want to change that?", "url": "https://github.com/camunda-cloud/zeebe/pull/5316#discussion_r486270090", "createdAt": "2020-09-10T11:41:43Z", "author": {"login": "korthout"}, "path": "engine/src/main/java/io/zeebe/engine/processing/common/ExpressionProcessor.java", "diffHunk": "@@ -130,10 +130,7 @@ public ExpressionProcessor(\n           return Either.right(Interval.parse(result.getString()));\n         } catch (final DateTimeParseException e) {\n           return Either.left(\n-              new Failure(\n-                  String.format(\n-                      \"Expected result of the expression '%s' to be parsed to a duration, but was '%s' and encountered error: %s\",\n-                      expression.getExpression(), result.getString(), e.getMessage())));\n+              new Failure(String.format(\"Invalid duration format '%s'\", result.getString())));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "008e18b3cb56dc5996c442f40243b4ce129cb3a9"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjMyMzczNA==", "bodyText": "This comment goes for all error messages changed in this PR", "url": "https://github.com/camunda-cloud/zeebe/pull/5316#discussion_r486323734", "createdAt": "2020-09-10T13:11:45Z", "author": {"login": "korthout"}, "path": "engine/src/main/java/io/zeebe/engine/processing/common/ExpressionProcessor.java", "diffHunk": "@@ -130,10 +130,7 @@ public ExpressionProcessor(\n           return Either.right(Interval.parse(result.getString()));\n         } catch (final DateTimeParseException e) {\n           return Either.left(\n-              new Failure(\n-                  String.format(\n-                      \"Expected result of the expression '%s' to be parsed to a duration, but was '%s' and encountered error: %s\",\n-                      expression.getExpression(), result.getString(), e.getMessage())));\n+              new Failure(String.format(\"Invalid duration format '%s'\", result.getString())));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjI3MDA5MA=="}, "originalCommit": {"oid": "008e18b3cb56dc5996c442f40243b4ce129cb3a9"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Njc1ODA0MQ==", "bodyText": "The message template (\"Expected ... but was ...\") is applied to log statements or exceptions. Here, the message is used for the validation (i.e. the deployment rejection message) and for creating an incident. So, I think it is okay to have a different message.\nIn these two cases, the message feels a bit long and it doesn't provide more useful information.\n\"Expected result of the expression '\"foo\"' to be parsed to a duration, but was '\"foo\"' and encountered error: Text cannot be parsed to a Period\"\nvs.\n\"Invalid duration format '\"foo\"'\"", "url": "https://github.com/camunda-cloud/zeebe/pull/5316#discussion_r486758041", "createdAt": "2020-09-11T03:53:04Z", "author": {"login": "saig0"}, "path": "engine/src/main/java/io/zeebe/engine/processing/common/ExpressionProcessor.java", "diffHunk": "@@ -130,10 +130,7 @@ public ExpressionProcessor(\n           return Either.right(Interval.parse(result.getString()));\n         } catch (final DateTimeParseException e) {\n           return Either.left(\n-              new Failure(\n-                  String.format(\n-                      \"Expected result of the expression '%s' to be parsed to a duration, but was '%s' and encountered error: %s\",\n-                      expression.getExpression(), result.getString(), e.getMessage())));\n+              new Failure(String.format(\"Invalid duration format '%s'\", result.getString())));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjI3MDA5MA=="}, "originalCommit": {"oid": "008e18b3cb56dc5996c442f40243b4ce129cb3a9"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzgzODk3Mg==", "bodyText": "Or, let's add the expression to the failure message.", "url": "https://github.com/camunda-cloud/zeebe/pull/5316#discussion_r487838972", "createdAt": "2020-09-14T11:24:46Z", "author": {"login": "saig0"}, "path": "engine/src/main/java/io/zeebe/engine/processing/common/ExpressionProcessor.java", "diffHunk": "@@ -130,10 +130,7 @@ public ExpressionProcessor(\n           return Either.right(Interval.parse(result.getString()));\n         } catch (final DateTimeParseException e) {\n           return Either.left(\n-              new Failure(\n-                  String.format(\n-                      \"Expected result of the expression '%s' to be parsed to a duration, but was '%s' and encountered error: %s\",\n-                      expression.getExpression(), result.getString(), e.getMessage())));\n+              new Failure(String.format(\"Invalid duration format '%s'\", result.getString())));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjI3MDA5MA=="}, "originalCommit": {"oid": "008e18b3cb56dc5996c442f40243b4ce129cb3a9"}, "originalPosition": 8}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 354, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}