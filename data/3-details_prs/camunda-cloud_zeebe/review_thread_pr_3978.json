{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgzNTg4Njkw", "number": 3978, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQwMDoxMjoxNlrODlP4KQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNlQxMDo0MjoyOVrODlwNaQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQwMzg0MDQxOnYy", "diffSide": "RIGHT", "path": "gateway/src/main/java/io/zeebe/gateway/cmd/PartitionNotFoundException.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQwMDoxMjoxNlrOFyCO1g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNlQxMDo0Mzo1NFrOFy0ggQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODAwOTY4Ng==", "bodyText": "The thing about getting this back to a setVariables command (or any gRPC command from a client) is that there is no partition in the request (that the user explicitly knows about), so the error message doesn't point them toward the cause.\nSuggested text: super(String.format(\"This command refers to an element that doesn't exist. The request targeted an element on partition '%d', which cannot be found in the cluster. Check the command arguments.\", partitionId));", "url": "https://github.com/camunda-cloud/zeebe/pull/3978#discussion_r388009686", "createdAt": "2020-03-05T00:12:16Z", "author": {"login": "jwulf"}, "path": "gateway/src/main/java/io/zeebe/gateway/cmd/PartitionNotFoundException.java", "diffHunk": "@@ -0,0 +1,19 @@\n+/*\n+ * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH under\n+ * one or more contributor license agreements. See the NOTICE file distributed\n+ * with this work for additional information regarding copyright ownership.\n+ * Licensed under the Zeebe Community License 1.0. You may not use this file\n+ * except in compliance with the Zeebe Community License 1.0.\n+ */\n+package io.zeebe.gateway.cmd;\n+\n+/**\n+ * Represents an exceptional error that occurs when a partition can not be found. For example this\n+ * can happen when the element instance key does not refer to a known partition.\n+ */\n+public class PartitionNotFoundException extends ClientException {\n+\n+  public PartitionNotFoundException(final int partitionId) {\n+    super(String.format(\"Unknown partition '%d'\", partitionId));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "87829645f02a581f72aadcf855696d9c54630e2f"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODE1NTc3MA==", "bodyText": "If we can think of / or discover other cases where the user sees this error and this text is misleading, we can adjust.", "url": "https://github.com/camunda-cloud/zeebe/pull/3978#discussion_r388155770", "createdAt": "2020-03-05T09:00:34Z", "author": {"login": "jwulf"}, "path": "gateway/src/main/java/io/zeebe/gateway/cmd/PartitionNotFoundException.java", "diffHunk": "@@ -0,0 +1,19 @@\n+/*\n+ * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH under\n+ * one or more contributor license agreements. See the NOTICE file distributed\n+ * with this work for additional information regarding copyright ownership.\n+ * Licensed under the Zeebe Community License 1.0. You may not use this file\n+ * except in compliance with the Zeebe Community License 1.0.\n+ */\n+package io.zeebe.gateway.cmd;\n+\n+/**\n+ * Represents an exceptional error that occurs when a partition can not be found. For example this\n+ * can happen when the element instance key does not refer to a known partition.\n+ */\n+public class PartitionNotFoundException extends ClientException {\n+\n+  public PartitionNotFoundException(final int partitionId) {\n+    super(String.format(\"Unknown partition '%d'\", partitionId));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODAwOTY4Ng=="}, "originalCommit": {"oid": "87829645f02a581f72aadcf855696d9c54630e2f"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODgzMzQwOQ==", "bodyText": "@jwulf I've applied your comment to the code. Can you take another look?", "url": "https://github.com/camunda-cloud/zeebe/pull/3978#discussion_r388833409", "createdAt": "2020-03-06T10:43:54Z", "author": {"login": "korthout"}, "path": "gateway/src/main/java/io/zeebe/gateway/cmd/PartitionNotFoundException.java", "diffHunk": "@@ -0,0 +1,19 @@\n+/*\n+ * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH under\n+ * one or more contributor license agreements. See the NOTICE file distributed\n+ * with this work for additional information regarding copyright ownership.\n+ * Licensed under the Zeebe Community License 1.0. You may not use this file\n+ * except in compliance with the Zeebe Community License 1.0.\n+ */\n+package io.zeebe.gateway.cmd;\n+\n+/**\n+ * Represents an exceptional error that occurs when a partition can not be found. For example this\n+ * can happen when the element instance key does not refer to a known partition.\n+ */\n+public class PartitionNotFoundException extends ClientException {\n+\n+  public PartitionNotFoundException(final int partitionId) {\n+    super(String.format(\"Unknown partition '%d'\", partitionId));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODAwOTY4Ng=="}, "originalCommit": {"oid": "87829645f02a581f72aadcf855696d9c54630e2f"}, "originalPosition": 17}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQwNDYyNTc0OnYy", "diffSide": "RIGHT", "path": "gateway/src/main/java/io/zeebe/gateway/cmd/PartitionNotFoundException.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQwODowNDozNVrOFyJmSQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQwODowNDozNVrOFyJmSQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODEzMDM3Nw==", "bodyText": "I suggest to have a more detailed message. Something like Expected to send request to partition '0', but partition '0' unknown in topology . https://github.com/zeebe-io/zeebe/wiki/Error-Guidelines", "url": "https://github.com/camunda-cloud/zeebe/pull/3978#discussion_r388130377", "createdAt": "2020-03-05T08:04:35Z", "author": {"login": "deepthidevaki"}, "path": "gateway/src/main/java/io/zeebe/gateway/cmd/PartitionNotFoundException.java", "diffHunk": "@@ -0,0 +1,19 @@\n+/*\n+ * Copyright Camunda Services GmbH and/or licensed to Camunda Services GmbH under\n+ * one or more contributor license agreements. See the NOTICE file distributed\n+ * with this work for additional information regarding copyright ownership.\n+ * Licensed under the Zeebe Community License 1.0. You may not use this file\n+ * except in compliance with the Zeebe Community License 1.0.\n+ */\n+package io.zeebe.gateway.cmd;\n+\n+/**\n+ * Represents an exceptional error that occurs when a partition can not be found. For example this\n+ * can happen when the element instance key does not refer to a known partition.\n+ */\n+public class PartitionNotFoundException extends ClientException {\n+\n+  public PartitionNotFoundException(final int partitionId) {\n+    super(String.format(\"Unknown partition '%d'\", partitionId));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5d2b13a6625178d0f04027c2c65812637661c42d"}, "originalPosition": 17}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQwOTEzNzY5OnYy", "diffSide": "RIGHT", "path": "gateway/src/main/java/io/zeebe/gateway/impl/broker/BrokerClient.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNlQxMDo0MjoyOVrOFy0eDA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNlQxMDo0MjoyOVrOFy0eDA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODgzMjc4MA==", "bodyText": "I reverted the removal of this method after discussing it with @npepinpe.\nThe method now only exists for a single test, but it was easier just to revert the removal of the method than to rewrite the test. A more thorough refactoring of the BrokerClient is needed anyways.", "url": "https://github.com/camunda-cloud/zeebe/pull/3978#discussion_r388832780", "createdAt": "2020-03-06T10:42:29Z", "author": {"login": "korthout"}, "path": "gateway/src/main/java/io/zeebe/gateway/impl/broker/BrokerClient.java", "diffHunk": "@@ -25,6 +25,8 @@\n       BrokerResponseConsumer<T> responseConsumer,\n       Consumer<Throwable> throwableConsumer);\n \n+  <T> ActorFuture<BrokerResponse<T>> sendRequest(BrokerRequest<T> request, Duration requestTimeout);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7dd410301ef60c700a7255a1209baec961d6f9b5"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4888, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}