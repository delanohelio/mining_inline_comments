{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE3NjkxMDYx", "number": 5794, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wOVQxMzo0NDo0MVrOE2xdfw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wOVQxMzo0NTozMFrOE2xezA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI1ODY4OTI3OnYy", "diffSide": "RIGHT", "path": "gateway/src/main/java/io/zeebe/gateway/grpc/GrpcErrorMapper.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wOVQxMzo0NDo0MVrOHvvicw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wOVQxMzo0NDo0MVrOHvvicw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTgyMzk4Nw==", "bodyText": "One thing: I thought about setting it to debug, since it may be useful sometimes to know if we have leader mismatch - however you can see that via metrics, and here, well, we don't have request context info so I'm not sure it gives any more insight.", "url": "https://github.com/camunda-cloud/zeebe/pull/5794#discussion_r519823987", "createdAt": "2020-11-09T13:44:41Z", "author": {"login": "npepinpe"}, "path": "gateway/src/main/java/io/zeebe/gateway/grpc/GrpcErrorMapper.java", "diffHunk": "@@ -113,22 +105,20 @@ private Status mapBrokerErrorToStatus(final BrokerError error) {\n         break;\n       case RESOURCE_EXHAUSTED:\n         builder.setCode(Code.RESOURCE_EXHAUSTED_VALUE);\n+        logger.trace(\"Target broker is currently overloaded: {}\", error);\n         break;\n       case PARTITION_LEADER_MISMATCH:\n         // return UNAVAILABLE to indicate to the user that retrying might solve the issue, as this\n         // is usually a transient issue\n+        logger.trace(\"Target broker was not the leader of the partition: {}\", error);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f1f0bcaa168784274efcde20c83fde86fe7f2f05"}, "originalPosition": 43}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI1ODY5MjYwOnYy", "diffSide": "LEFT", "path": "gateway/src/main/java/io/zeebe/gateway/grpc/GrpcErrorMapper.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wOVQxMzo0NTozMFrOHvvkrg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wOVQxMzo0NTozMFrOHvvkrg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTgyNDU1OA==", "bodyText": "Normally I'd prefer having all cases, but in this case the non default cases are more the exceptions where we want different behaviour, so I think it makes sense to remove all explicit cases.", "url": "https://github.com/camunda-cloud/zeebe/pull/5794#discussion_r519824558", "createdAt": "2020-11-09T13:45:30Z", "author": {"login": "npepinpe"}, "path": "gateway/src/main/java/io/zeebe/gateway/grpc/GrpcErrorMapper.java", "diffHunk": "@@ -113,22 +105,20 @@ private Status mapBrokerErrorToStatus(final BrokerError error) {\n         break;\n       case RESOURCE_EXHAUSTED:\n         builder.setCode(Code.RESOURCE_EXHAUSTED_VALUE);\n+        logger.trace(\"Target broker is currently overloaded: {}\", error);\n         break;\n       case PARTITION_LEADER_MISMATCH:\n         // return UNAVAILABLE to indicate to the user that retrying might solve the issue, as this\n         // is usually a transient issue\n+        logger.trace(\"Target broker was not the leader of the partition: {}\", error);\n         builder.setCode(Code.UNAVAILABLE_VALUE);\n         break;\n-        // all the following are not errors which retrying (with the same gateway) will solve\n-      case INVALID_MESSAGE_TEMPLATE:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f1f0bcaa168784274efcde20c83fde86fe7f2f05"}, "originalPosition": 47}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 140, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}