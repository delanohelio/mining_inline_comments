{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTIwNTU0NTgz", "number": 5841, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xM1QxMjozNDoyOFrOE4pgCA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQxMjoxNTo1MlrOE5c6bg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI3ODM1NjU2OnYy", "diffSide": "RIGHT", "path": "parent/pom.xml", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xM1QxMjozNDoyOFrOHyspPg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xM1QxMjozNDoyOFrOHyspPg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjkyMjMwMg==", "bodyText": "This id is necessary to be able to refer to the same execution when disabling it on jdk 8 or lower.", "url": "https://github.com/camunda-cloud/zeebe/pull/5841#discussion_r522922302", "createdAt": "2020-11-13T12:34:28Z", "author": {"login": "korthout"}, "path": "parent/pom.xml", "diffHunk": "@@ -1076,6 +1076,8 @@\n           <version>${plugin.version.fmt}</version>\n           <executions>\n             <execution>\n+              <id>format</id>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3f79d2c80e16f030cb858eb618d02d6c0d2e97ee"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI3ODM2MzE5OnYy", "diffSide": "RIGHT", "path": "parent/pom.xml", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xM1QxMjozNjozMlrOHystPw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xM1QxMjozNjozMlrOHystPw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjkyMzMyNw==", "bodyText": "This execution makes sure that we actually \"go-offline\" when the profile is activated", "url": "https://github.com/camunda-cloud/zeebe/pull/5841#discussion_r522923327", "createdAt": "2020-11-13T12:36:32Z", "author": {"login": "korthout"}, "path": "parent/pom.xml", "diffHunk": "@@ -1428,6 +1430,13 @@\n             <groupId>org.apache.maven.plugins</groupId>\n             <artifactId>maven-dependency-plugin</artifactId>\n             <executions>\n+              <execution>\n+                <id>go-offline</id>\n+                <phase>initialize</phase>\n+                <goals>\n+                  <goal>go-offline</goal>\n+                </goals>\n+              </execution>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cab0ab6fb02f757f3e7f74a2ff77dcbc86a20770"}, "originalPosition": 28}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI3ODM2NDE5OnYy", "diffSide": "RIGHT", "path": "qa/integration-tests/src/test/java/io/zeebe/broker/it/clustering/ClusteringRule.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xM1QxMjozNjo1NFrOHyst3Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xM1QxMjozNjo1NFrOHyst3Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjkyMzQ4NQ==", "bodyText": "This change is due to the new fmt-plugin v 2.10", "url": "https://github.com/camunda-cloud/zeebe/pull/5841#discussion_r522923485", "createdAt": "2020-11-13T12:36:54Z", "author": {"login": "korthout"}, "path": "qa/integration-tests/src/test/java/io/zeebe/broker/it/clustering/ClusteringRule.java", "diffHunk": "@@ -552,7 +552,10 @@ public void stepDown(final Broker broker, final int partitionId) {\n     final MemberId nodeId = atomix.getMembershipService().getLocalMember().id();\n \n     final var raftPartition =\n-        atomix.getPartitionService().getPartitionGroup(AtomixFactory.GROUP_NAME).getPartitions()\n+        atomix\n+            .getPartitionService()\n+            .getPartitionGroup(AtomixFactory.GROUP_NAME)\n+            .getPartitions()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cab0ab6fb02f757f3e7f74a2ff77dcbc86a20770"}, "originalPosition": 8}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI4Njc3Njc3OnYy", "diffSide": "RIGHT", "path": "parent/pom.xml", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQxMjoxNToyNFrOHz66uw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQxMzowMjoxMFrOHz9wCw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDIwNDczMQ==", "bodyText": "Nit: I'd argue it's to enable formatting on jdks 9 and above \ud83d\ude05", "url": "https://github.com/camunda-cloud/zeebe/pull/5841#discussion_r524204731", "createdAt": "2020-11-16T12:15:24Z", "author": {"login": "npepinpe"}, "path": "parent/pom.xml", "diffHunk": "@@ -1482,5 +1491,66 @@\n         </plugins>\n       </build>\n     </profile>\n+\n+    <!-- profile to disable the fmt-plugin on older jdks -->", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cab0ab6fb02f757f3e7f74a2ff77dcbc86a20770"}, "originalPosition": 37}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDI1MDc2MQ==", "bodyText": "No, it's to enable formatting using v 2.10+, which is incompatible with jdks < 9. so we disable the plugin: <phase>none</phase>\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                <!-- profile to disable the fmt-plugin on older jdks -->\n          \n          \n            \n                <!-- profile to disable the fmt-plugin on unsupported jdks -->", "url": "https://github.com/camunda-cloud/zeebe/pull/5841#discussion_r524250761", "createdAt": "2020-11-16T13:01:26Z", "author": {"login": "korthout"}, "path": "parent/pom.xml", "diffHunk": "@@ -1482,5 +1491,66 @@\n         </plugins>\n       </build>\n     </profile>\n+\n+    <!-- profile to disable the fmt-plugin on older jdks -->", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDIwNDczMQ=="}, "originalCommit": {"oid": "cab0ab6fb02f757f3e7f74a2ff77dcbc86a20770"}, "originalPosition": 37}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDI1MTE0Nw==", "bodyText": "True, I totally misread that \ud83d\ude05", "url": "https://github.com/camunda-cloud/zeebe/pull/5841#discussion_r524251147", "createdAt": "2020-11-16T13:02:10Z", "author": {"login": "npepinpe"}, "path": "parent/pom.xml", "diffHunk": "@@ -1482,5 +1491,66 @@\n         </plugins>\n       </build>\n     </profile>\n+\n+    <!-- profile to disable the fmt-plugin on older jdks -->", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDIwNDczMQ=="}, "originalCommit": {"oid": "cab0ab6fb02f757f3e7f74a2ff77dcbc86a20770"}, "originalPosition": 37}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI4Njc3OTk4OnYy", "diffSide": "RIGHT", "path": "parent/pom.xml", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQxMjoxNTo1MlrOHz68zA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQxMzowMjo0MVrOHz9w_A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDIwNTI2MA==", "bodyText": "Nit: can you explain why checkstyle is not a validation check? Here I'm mostly confused by the comment, not by the profile, if that makes sense.", "url": "https://github.com/camunda-cloud/zeebe/pull/5841#discussion_r524205260", "createdAt": "2020-11-16T12:15:52Z", "author": {"login": "npepinpe"}, "path": "parent/pom.xml", "diffHunk": "@@ -1482,5 +1491,66 @@\n         </plugins>\n       </build>\n     </profile>\n+\n+    <!-- profile to disable the fmt-plugin on older jdks -->\n+    <profile>\n+      <id>fmt-plugin</id>\n+      <activation>\n+        <jdk>[,9)</jdk>\n+      </activation>\n+      <build>\n+        <plugins>\n+          <plugin>\n+            <artifactId>fmt-maven-plugin</artifactId>\n+            <groupId>com.coveo</groupId>\n+            <executions>\n+              <execution>\n+                <id>format</id>\n+                <phase>none</phase>\n+                <goals>\n+                  <goal>check</goal>\n+                  <goal>format</goal>\n+                </goals>\n+              </execution>\n+            </executions>\n+          </plugin>\n+        </plugins>\n+      </build>\n+    </profile>\n+\n+    <!-- profile to perform validation checks -->", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cab0ab6fb02f757f3e7f74a2ff77dcbc86a20770"}, "originalPosition": 63}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDI0ODgzNA==", "bodyText": "The checkstyle validation, the license format and the googlestyle (fmt) format are all executed by default (i.e. without activating a profile). These format steps make sense to execute locally (by default), but in the ci pipeline you don't want to make changes to the code anymore, so the stricter check is used instead with this new checks profile.\nNow, if the checkstyle plugin would offer a quickfix/format goal, it would make sense to move the checkstyle check goal into the checks profile. Sadly, it doesn't.\nSo to me, the difference is that these checks are stricter than the default execution.\nTo reflect this, I could change the comment to something like:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                <!-- profile to perform validation checks -->\n          \n          \n            \n                <!-- profile to perform strict validation checks -->\n          \n      \n    \n    \n  \n\nor we could rename it altogether to strict-checks or so. WDYT?", "url": "https://github.com/camunda-cloud/zeebe/pull/5841#discussion_r524248834", "createdAt": "2020-11-16T12:58:06Z", "author": {"login": "korthout"}, "path": "parent/pom.xml", "diffHunk": "@@ -1482,5 +1491,66 @@\n         </plugins>\n       </build>\n     </profile>\n+\n+    <!-- profile to disable the fmt-plugin on older jdks -->\n+    <profile>\n+      <id>fmt-plugin</id>\n+      <activation>\n+        <jdk>[,9)</jdk>\n+      </activation>\n+      <build>\n+        <plugins>\n+          <plugin>\n+            <artifactId>fmt-maven-plugin</artifactId>\n+            <groupId>com.coveo</groupId>\n+            <executions>\n+              <execution>\n+                <id>format</id>\n+                <phase>none</phase>\n+                <goals>\n+                  <goal>check</goal>\n+                  <goal>format</goal>\n+                </goals>\n+              </execution>\n+            </executions>\n+          </plugin>\n+        </plugins>\n+      </build>\n+    </profile>\n+\n+    <!-- profile to perform validation checks -->", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDIwNTI2MA=="}, "originalCommit": {"oid": "cab0ab6fb02f757f3e7f74a2ff77dcbc86a20770"}, "originalPosition": 63}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDI1MTM4OA==", "bodyText": "Sounds good \ud83d\udc4d", "url": "https://github.com/camunda-cloud/zeebe/pull/5841#discussion_r524251388", "createdAt": "2020-11-16T13:02:41Z", "author": {"login": "npepinpe"}, "path": "parent/pom.xml", "diffHunk": "@@ -1482,5 +1491,66 @@\n         </plugins>\n       </build>\n     </profile>\n+\n+    <!-- profile to disable the fmt-plugin on older jdks -->\n+    <profile>\n+      <id>fmt-plugin</id>\n+      <activation>\n+        <jdk>[,9)</jdk>\n+      </activation>\n+      <build>\n+        <plugins>\n+          <plugin>\n+            <artifactId>fmt-maven-plugin</artifactId>\n+            <groupId>com.coveo</groupId>\n+            <executions>\n+              <execution>\n+                <id>format</id>\n+                <phase>none</phase>\n+                <goals>\n+                  <goal>check</goal>\n+                  <goal>format</goal>\n+                </goals>\n+              </execution>\n+            </executions>\n+          </plugin>\n+        </plugins>\n+      </build>\n+    </profile>\n+\n+    <!-- profile to perform validation checks -->", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDIwNTI2MA=="}, "originalCommit": {"oid": "cab0ab6fb02f757f3e7f74a2ff77dcbc86a20770"}, "originalPosition": 63}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 153, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}