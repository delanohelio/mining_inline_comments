{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI5NTIwMTg3", "number": 5943, "title": "feat(clients/go): add --output parameter to zbctl status", "bodyText": "Description\nI with @korthout added a new flag to print the output of the status command as JSON.\nRelated issues\n\ncloses #5864\nDefinition of Done\nNot all items need to be done depending on the issue and the pull request.\nCode changes:\n\n The changes are backwards compatibility with previous versions\n If it fixes a bug then PRs are created to backport the fix to the last two minor versions. You can trigger a backport by assigning labels (e.g. backport stable/0.25) to the PR, in case that fails you need to create backports manually.\n\nTesting:\n\n There are unit/integration tests that verify all acceptance criterias of the issue\n New tests are written to ensure backwards compatibility with further versions\n The behavior is tested manually\n The impact of the changes is verified by a benchmark\n\nDocumentation:\n\n The documentation is updated (e.g. BPMN reference, configuration, examples, get-started guides, etc.)\n New content is added to the release announcement", "createdAt": "2020-11-30T12:34:20Z", "url": "https://github.com/camunda-cloud/zeebe/pull/5943", "merged": true, "mergeCommit": {"oid": "e6819d70dccce1b1e4738fc6f42efeb285a91e87"}, "closed": true, "closedAt": "2020-12-07T15:52:57Z", "author": {"login": "aivinog1"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdhknzwAFqTU0MDg2ODE3NA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdj10jGgBqjQwNzk3MTA5OTY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQwODY4MTc0", "url": "https://github.com/camunda-cloud/zeebe/pull/5943#pullrequestreview-540868174", "createdAt": "2020-11-30T12:36:48Z", "commit": {"oid": "4d53182e736282f73aa746a4bb61e59d38b75f70"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0zMFQxMjozNjo0OFrOH75N5w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0zMFQxMjozNjo0OFrOH75N5w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjU2NTQ3OQ==", "bodyText": "I have to move it to a separate function because JSONPB marshals int64 as Go string. This breaks backward compatibility. See: https://developers.google.com/protocol-buffers/docs/proto3#json", "url": "https://github.com/camunda-cloud/zeebe/pull/5943#discussion_r532565479", "createdAt": "2020-11-30T12:36:48Z", "author": {"login": "aivinog1"}, "path": "clients/go/cmd/zbctl/internal/commands/status.go", "diffHunk": "@@ -117,3 +128,12 @@ func healthToString(health pb.Partition_PartitionBrokerHealth) string {\n \t\treturn unknownState\n \t}\n }\n+\n+func printTopologyJSON(resp *pb.TopologyResponse) error {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4d53182e736282f73aa746a4bb61e59d38b75f70"}, "originalPosition": 46}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQwOTQ0NTcx", "url": "https://github.com/camunda-cloud/zeebe/pull/5943#pullrequestreview-540944571", "createdAt": "2020-11-30T14:13:17Z", "commit": {"oid": "4d53182e736282f73aa746a4bb61e59d38b75f70"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0zMFQxNDoxMzoxN1rOH7849A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0zMFQxNDoxMzoxN1rOH7849A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjYyNTY1Mg==", "bodyText": "Do I understand correctly this means we cannot just replace the implementation of printJSON() in commands/root.go?", "url": "https://github.com/camunda-cloud/zeebe/pull/5943#discussion_r532625652", "createdAt": "2020-11-30T14:13:17Z", "author": {"login": "korthout"}, "path": "clients/go/cmd/zbctl/internal/commands/status.go", "diffHunk": "@@ -117,3 +128,12 @@ func healthToString(health pb.Partition_PartitionBrokerHealth) string {\n \t\treturn unknownState\n \t}\n }\n+\n+func printTopologyJSON(resp *pb.TopologyResponse) error {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjU2NTQ3OQ=="}, "originalCommit": {"oid": "4d53182e736282f73aa746a4bb61e59d38b75f70"}, "originalPosition": 46}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ2MTE4OTU4", "url": "https://github.com/camunda-cloud/zeebe/pull/5943#pullrequestreview-546118958", "createdAt": "2020-12-07T12:52:22Z", "commit": {"oid": "e321b8228f890f7bbe1a19908bbd3f1499f420a4"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6a8652682f906245760e888db250b2c23a4ea6b4", "author": {"user": {"login": "github-actions[bot]", "name": null}}, "url": "https://github.com/camunda-cloud/zeebe/commit/6a8652682f906245760e888db250b2c23a4ea6b4", "committedDate": "2020-12-07T13:46:42Z", "message": "feat(clients/go): add --output flag to status"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e321b8228f890f7bbe1a19908bbd3f1499f420a4", "author": {"user": {"login": "aivinog1", "name": "Alexey Vinogradov"}}, "url": "https://github.com/camunda-cloud/zeebe/commit/e321b8228f890f7bbe1a19908bbd3f1499f420a4", "committedDate": "2020-12-01T09:29:09Z", "message": "feat(clients/go): apply go mod vendor"}, "afterCommit": {"oid": "6a8652682f906245760e888db250b2c23a4ea6b4", "author": {"user": {"login": "github-actions[bot]", "name": null}}, "url": "https://github.com/camunda-cloud/zeebe/commit/6a8652682f906245760e888db250b2c23a4ea6b4", "committedDate": "2020-12-07T13:46:42Z", "message": "feat(clients/go): add --output flag to status"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2293, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}