{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE5MTMyNzY3", "number": 4541, "title": "chore(docker): minor improvements", "bodyText": "Description\n\nswitches base image from openjdk:jre-11 to openjdk:jre-11-slim for a slightly smaller image\nintroduces multi stage build to avoid having the distball copy layer\n\nThe goal of the PR is to reduce the amount of data one has to push when pushing the image. Previously, we were pushing two layers: the distball copy, and the distball untarring. This is now squashed into a single layer thanks to the multi-stage build. Using the slim variant of the original image also allows us to eschew some typical actions like removing the apt cache, or removing curl, etc., as this is already done for us.\nNote that omitting the target flag will still result in a valid image, but in the case where we one day have multiple images, it's better to get in the habit.\nPull Request Checklist\n\n All commit messages match our commit message guidelines\n The submitting code follows our code style\n If submitting code, please run mvn clean install -DskipTests locally before committing", "createdAt": "2020-05-17T15:52:08Z", "url": "https://github.com/camunda-cloud/zeebe/pull/4541", "merged": true, "mergeCommit": {"oid": "d86b516aaa38dcb7f1474d1684b49046b8ce76c4"}, "closed": true, "closedAt": "2020-05-25T13:48:19Z", "author": {"login": "npepinpe"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABciNRrdgH2gAyNDE5MTMyNzY3OmNiZjJmNTEzZjA0ZmZmNjFlMDEzNjlhODJlYzVjMGFmNDVmMzMzNDA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABckqpZTgFqTQxNzQ5OTUyMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "cbf2f513f04fff61e01369a82ec5c0af45f33340", "author": {"user": {"login": "npepinpe", "name": "Nicolas Pepin-Perreault"}}, "url": "https://github.com/camunda-cloud/zeebe/commit/cbf2f513f04fff61e01369a82ec5c0af45f33340", "committedDate": "2020-05-17T15:47:35Z", "message": "chore(docker): minor improvements\n\n- switches base image from openjdk:jre-11 to openjdk:jre-11-slim for a\n  slightly smaller image\n- introduces multi stage build to avoid having the distball copy layer"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE1MDY2MTYw", "url": "https://github.com/camunda-cloud/zeebe/pull/4541#pullrequestreview-415066160", "createdAt": "2020-05-20T07:36:14Z", "commit": {"oid": "cbf2f513f04fff61e01369a82ec5c0af45f33340"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQwNzozNjoxNFrOGX-4WQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQwNzozNjoxNFrOGX-4WQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzgwMDY2NQ==", "bodyText": "Didn't we had problem with alpine before", "url": "https://github.com/camunda-cloud/zeebe/pull/4541#discussion_r427800665", "createdAt": "2020-05-20T07:36:14Z", "author": {"login": "deepthidevaki"}, "path": "Dockerfile", "diffHunk": "@@ -1,30 +1,38 @@\n-FROM openjdk:11-jre\n-\n+FROM alpine:latest as builder", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cbf2f513f04fff61e01369a82ec5c0af45f33340"}, "originalPosition": 3}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE3NDk5NTIx", "url": "https://github.com/camunda-cloud/zeebe/pull/4541#pullrequestreview-417499521", "createdAt": "2020-05-25T07:08:35Z", "commit": {"oid": "cbf2f513f04fff61e01369a82ec5c0af45f33340"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2821, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}