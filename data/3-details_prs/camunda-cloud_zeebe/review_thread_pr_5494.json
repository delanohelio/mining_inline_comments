{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk4Mzg0Mzcw", "number": 5494, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QxMToxNzoxM1rOErIVYQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QxMToxNzozM1rOErIVvA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEzNjYwNzY5OnYy", "diffSide": "RIGHT", "path": "broker/src/main/java/io/zeebe/broker/system/partitions/ZeebePartitionHealth.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QxMToxNzoxM1rOHduaug==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMlQwODoxMjowNFrOHfzpug==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDkzMTI1OA==", "bodyText": "I think it makes more sense sense to calculate the health status here instead of in every caller and passing it as a parameter. An updateHealthStatus method can be called after updating some condition and that knows how to compute the health status. That way the logic isn't spread out.", "url": "https://github.com/camunda-cloud/zeebe/pull/5494#discussion_r500931258", "createdAt": "2020-10-07T11:17:13Z", "author": {"login": "MiguelPires"}, "path": "broker/src/main/java/io/zeebe/broker/system/partitions/ZeebePartitionHealth.java", "diffHunk": "@@ -34,9 +42,13 @@ public void addFailureListener(final FailureListener failureListener) {\n     this.failureListener = failureListener;\n   }\n \n-  void setHealthStatus(final HealthStatus healthStatus) {\n-    final var previousStatus = this.healthStatus;\n-    this.healthStatus = healthStatus;\n+  private void setHealthStatus(final boolean healthy) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6c38e6ab0ec508dd68fbece020769e072e6bf893"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzExNDE3MA==", "bodyText": "\ud83d\udc4d I have applied your comments.", "url": "https://github.com/camunda-cloud/zeebe/pull/5494#discussion_r503114170", "createdAt": "2020-10-12T08:12:04Z", "author": {"login": "deepthidevaki"}, "path": "broker/src/main/java/io/zeebe/broker/system/partitions/ZeebePartitionHealth.java", "diffHunk": "@@ -34,9 +42,13 @@ public void addFailureListener(final FailureListener failureListener) {\n     this.failureListener = failureListener;\n   }\n \n-  void setHealthStatus(final HealthStatus healthStatus) {\n-    final var previousStatus = this.healthStatus;\n-    this.healthStatus = healthStatus;\n+  private void setHealthStatus(final boolean healthy) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDkzMTI1OA=="}, "originalCommit": {"oid": "6c38e6ab0ec508dd68fbece020769e072e6bf893"}, "originalPosition": 22}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEzNjYwODYwOnYy", "diffSide": "RIGHT", "path": "broker/src/main/java/io/zeebe/broker/system/partitions/ZeebePartitionHealth.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QxMToxNzozM1rOHdubVw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QxMToxNzozM1rOHdubVw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDkzMTQxNQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              Multiple factors determines ZeebePartition's health :\n          \n          \n            \n              Multiple factors determine ZeebePartition's health :", "url": "https://github.com/camunda-cloud/zeebe/pull/5494#discussion_r500931415", "createdAt": "2020-10-07T11:17:33Z", "author": {"login": "MiguelPires"}, "path": "broker/src/main/java/io/zeebe/broker/system/partitions/ZeebePartitionHealth.java", "diffHunk": "@@ -19,6 +19,14 @@\n   private HealthStatus healthStatus = HealthStatus.UNHEALTHY;\n   private final String name;\n   private FailureListener failureListener;\n+  /*\n+  Multiple factors determines ZeebePartition's health :", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6c38e6ab0ec508dd68fbece020769e072e6bf893"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 169, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}