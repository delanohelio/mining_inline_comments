{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY5MzMxNzYy", "number": 5190, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOFQxMjoyMToxNFrOEZcr9g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOFQxMjozMDozOFrOEZc53w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk1MTE5ODYyOnYy", "diffSide": "RIGHT", "path": "exporters/elasticsearch-exporter/README.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOFQxMjoyMToxNFrOHCQ2bw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOFQxMjoyMToxNFrOHCQ2bw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjEzNTI3OQ==", "bodyText": "is\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              2. when the batch memory size is below 10 MB\n          \n          \n            \n              2. when the batch memory size exceeds 10 MB", "url": "https://github.com/camunda-cloud/zeebe/pull/5190#discussion_r472135279", "createdAt": "2020-08-18T12:21:14Z", "author": {"login": "pihme"}, "path": "exporters/elasticsearch-exporter/README.md", "diffHunk": "@@ -38,24 +38,27 @@ it should be flushed (regardless of size) can be controlled by configuration.\n For example:\n \n ```yaml\n-...  \n+...\n   exporters:\n     elasticsearch:\n       args:\n         delay: 5\n         size: 1000\n+        memoryLimit: 10485760\n ```\n \n With the above example, the exporter would aggregate records and flush them to Elasticsearch\n either:\n   1. when it has aggregated 1000 records\n-  2. 5 seconds have elapsed since the last flush (regardless of how many records were aggregated)\n+  2. when the batch memory size is below 10 MB", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2bb72f70cee77050f97b38c91254a237a8ac1c30"}, "originalPosition": 18}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk1MTIzNDIzOnYy", "diffSide": "RIGHT", "path": "exporters/elasticsearch-exporter/src/main/java/io/zeebe/exporter/ElasticsearchExporter.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOFQxMjozMDozOFrOHCRLXQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOVQwNDowNTozM1rOHCxEVQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjE0MDYzNw==", "bodyText": "(Optional) Maybe also add a lower boundary; in case someone enters 10 in the configuration thinking it will be 10 MB", "url": "https://github.com/camunda-cloud/zeebe/pull/5190#discussion_r472140637", "createdAt": "2020-08-18T12:30:38Z", "author": {"login": "pihme"}, "path": "exporters/elasticsearch-exporter/src/main/java/io/zeebe/exporter/ElasticsearchExporter.java", "diffHunk": "@@ -92,6 +95,12 @@ private void validate(final ElasticsearchExporterConfiguration configuration) {\n               \"Elasticsearch prefix must not contain underscore. Current value: %s\",\n               configuration.index.prefix));\n     }\n+\n+    if (configuration.bulk.memoryLimit > RECOMMENDED_MAX_BULK_MEMORY_LIMIT) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2bb72f70cee77050f97b38c91254a237a8ac1c30"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjY2MzEyNQ==", "bodyText": "That would be an option \ud83d\udc4d  But I think it is not necessary because a lower value doesn't break anything. It is also documented and has the default value in the templates.", "url": "https://github.com/camunda-cloud/zeebe/pull/5190#discussion_r472663125", "createdAt": "2020-08-19T04:05:33Z", "author": {"login": "saig0"}, "path": "exporters/elasticsearch-exporter/src/main/java/io/zeebe/exporter/ElasticsearchExporter.java", "diffHunk": "@@ -92,6 +95,12 @@ private void validate(final ElasticsearchExporterConfiguration configuration) {\n               \"Elasticsearch prefix must not contain underscore. Current value: %s\",\n               configuration.index.prefix));\n     }\n+\n+    if (configuration.bulk.memoryLimit > RECOMMENDED_MAX_BULK_MEMORY_LIMIT) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjE0MDYzNw=="}, "originalCommit": {"oid": "2bb72f70cee77050f97b38c91254a237a8ac1c30"}, "originalPosition": 15}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 303, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}