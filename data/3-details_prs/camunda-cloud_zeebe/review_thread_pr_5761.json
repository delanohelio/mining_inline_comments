{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE1MzM2NDA5", "number": 5761, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNFQxMTo1NzozOVrOE1MWHg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNFQxNjoyMjowM1rOE1TF9g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI0MjEyMjU0OnYy", "diffSide": "RIGHT", "path": "dist/src/main/config/broker.standalone.yaml.template", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNFQxMTo1NzozOVrOHtVCDA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNFQxMTo1NzozOVrOHtVCDA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzI5MjU1Ng==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                  # failed and the partition becomes unhealthy, now further progress will made on that specific partition.\n          \n          \n            \n                  # failed and the partition becomes unhealthy, no further progress will made on that specific partition.", "url": "https://github.com/camunda-cloud/zeebe/pull/5761#discussion_r517292556", "createdAt": "2020-11-04T11:57:39Z", "author": {"login": "npepinpe"}, "path": "dist/src/main/config/broker.standalone.yaml.template", "diffHunk": "@@ -524,3 +524,8 @@\n       # Sets the maximum batch size, which is send per append request to a follower.\n       # This setting can also be overridden using the environment variable ZEEBE_EXPERIMENTAL_MAX_APPEND_BATCH_SIZE\n       # maxAppendBatchSize = 32KB;\n+\n+      # Enables the detection of an inconsistency during reprocessing. If a inconsistency is detect the StreamProcessor is\n+      # failed and the partition becomes unhealthy, now further progress will made on that specific partition.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5e0a7c805a91e0dc1c6b0e071d93d0ba20a1843c"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI0MjEyMzI5OnYy", "diffSide": "RIGHT", "path": "dist/src/main/config/broker.standalone.yaml.template", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNFQxMTo1Nzo1M1rOHtVChg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNFQxMTo1Nzo1M1rOHtVChg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzI5MjY3OA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                  # detectReprocessingInconsistency = 32KB;\n          \n          \n            \n                  # detectReprocessingInconsistency = false;", "url": "https://github.com/camunda-cloud/zeebe/pull/5761#discussion_r517292678", "createdAt": "2020-11-04T11:57:53Z", "author": {"login": "npepinpe"}, "path": "dist/src/main/config/broker.standalone.yaml.template", "diffHunk": "@@ -524,3 +524,8 @@\n       # Sets the maximum batch size, which is send per append request to a follower.\n       # This setting can also be overridden using the environment variable ZEEBE_EXPERIMENTAL_MAX_APPEND_BATCH_SIZE\n       # maxAppendBatchSize = 32KB;\n+\n+      # Enables the detection of an inconsistency during reprocessing. If a inconsistency is detect the StreamProcessor is\n+      # failed and the partition becomes unhealthy, now further progress will made on that specific partition.\n+      # This setting can also be overridden using the environment variable ZEEBE_EXPERIMENTAL_DETECT_REPROCESSING_INCONSISTENCY\n+      # detectReprocessingInconsistency = 32KB;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5e0a7c805a91e0dc1c6b0e071d93d0ba20a1843c"}, "originalPosition": 8}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI0MzIyODA2OnYy", "diffSide": "RIGHT", "path": "engine/src/test/java/io/zeebe/engine/util/EngineRule.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNFQxNjoyMjowNFrOHtfp8g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNFQxNjoyMjowNFrOHtfp8g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzQ2NjYxMA==", "bodyText": "Can we add a timeout? Otherwise we could end up with a test that never finishes", "url": "https://github.com/camunda-cloud/zeebe/pull/5761#discussion_r517466610", "createdAt": "2020-11-04T16:22:04Z", "author": {"login": "npepinpe"}, "path": "engine/src/test/java/io/zeebe/engine/util/EngineRule.java", "diffHunk": "@@ -346,6 +367,19 @@ private void onNewEventCommitted() {\n     }\n   }\n \n+  private final class ReprocessingCompletedListener implements StreamProcessorLifecycleAware {\n+    private final ActorFuture<Void> reprocessingComplete = new CompletableActorFuture<>();\n+\n+    @Override\n+    public void onRecovered(final ReadonlyProcessingContext context) {\n+      reprocessingComplete.complete(null);\n+    }\n+\n+    public void awaitReprocessingComplete() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f9a4ea0d93468b998864755af15008f9212af2e7"}, "originalPosition": 83}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 122, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}