{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU1ODI0NzQz", "number": 5043, "title": "chore(ci): add test coverage report", "bodyText": "Description\nAdds test coverage reports to builds.\n\nGenerated code is not excluded (it is not perfect, but most of the generated classes are excluded)\nSome timeouts were adjusted to avoid flakiness of tests\n\nRelated issues\nNo related issue.\nDefinition of Done\nCode changes:\n\n The changes are backwards compatibility with previous versions\n If it fixes a bug then PRs are created to backport the fix to the last two minor versions\n\nTesting:\n\n There are unit/integration tests that verify all acceptance criterias of the issue\n New tests are written to ensure backwards compatibility with further versions\n The behavior is tested manually\n The impact of the changes is verified by a benchmark\n\nDocumentation:\n\n The documentation is updated (e.g. BPMN reference, configuration, examples, get-started guides, etc.)\n New content is added to the release announcement", "createdAt": "2020-07-23T16:26:15Z", "url": "https://github.com/camunda-cloud/zeebe/pull/5043", "merged": true, "mergeCommit": {"oid": "13e9803dac6ab8f8316638b021123da852d3c8aa"}, "closed": true, "closedAt": "2020-08-04T12:05:25Z", "author": {"login": "pihme"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc4_SPXgFqTQ1NTY2MTEyNA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABc7ktE_AFqTQ2MDcxNjk4NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU1NjYxMTI0", "url": "https://github.com/camunda-cloud/zeebe/pull/5043#pullrequestreview-455661124", "createdAt": "2020-07-27T10:27:28Z", "commit": {"oid": "73f2cd4ff97129c2f522cc315306bc79f652b2ec"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yN1QxMDoyNzoyOVrOG3ctXA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yN1QxMDoyODowMVrOG3cuZw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDc5NTIyOA==", "bodyText": "Why are we not excluding all generated code, but only some generated code (e.g. all SBE *Encoder.class)?", "url": "https://github.com/camunda-cloud/zeebe/pull/5043#discussion_r460795228", "createdAt": "2020-07-27T10:27:29Z", "author": {"login": "npepinpe"}, "path": "Jenkinsfile", "diffHunk": "@@ -200,8 +200,20 @@ pipeline {\n             }\n \n             post {\n+                always {\n+                    jacoco(\n+                          execPattern: '**/*.exec',\n+                          classPattern: '**/target/classes',\n+                          sourcePattern: '**/src/main/java,**/generated-sources/protobuf/java,**/generated-sources/assertj-assertions,**/generated-sources/sbe',\n+                          exclusionPattern: '**/io/zeebe/gateway/protocol/**,'", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "73f2cd4ff97129c2f522cc315306bc79f652b2ec"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDc5NTQ2Mg==", "bodyText": "I guess this is unintended to be in this PR?", "url": "https://github.com/camunda-cloud/zeebe/pull/5043#discussion_r460795462", "createdAt": "2020-07-27T10:27:56Z", "author": {"login": "npepinpe"}, "path": "transport/src/test/java/io/zeebe/transport/impl/AtomixTransportTest.java", "diffHunk": "@@ -182,7 +182,7 @@ public void shouldRetryOnInvalidResponse() throws Exception {\n         nodeAddressSupplier, (response) -> false, new Request(\"messageABC\"), Duration.ofSeconds(3));\n \n     // then\n-    final var success = retryLatch.await(1, TimeUnit.SECONDS);\n+    final var success = retryLatch.await(2, TimeUnit.SECONDS);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "73f2cd4ff97129c2f522cc315306bc79f652b2ec"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDc5NTQ5NQ==", "bodyText": "I guess this is unintended to be in this PR?", "url": "https://github.com/camunda-cloud/zeebe/pull/5043#discussion_r460795495", "createdAt": "2020-07-27T10:28:01Z", "author": {"login": "npepinpe"}, "path": "upgrade-tests/src/test/java/io/zeebe/test/RollingUpdateTest.java", "diffHunk": "@@ -199,7 +199,7 @@ private void deployProcess(final ZeebeClient client) {\n         .newDeployCommand()\n         .addWorkflowModel(PROCESS, \"process.bpmn\")\n         .send()\n-        .join(5, TimeUnit.SECONDS);\n+        .join(10, TimeUnit.SECONDS);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "73f2cd4ff97129c2f522cc315306bc79f652b2ec"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9f6be5b9c79402abd98df3d9b995236c6b147ce3", "author": {"user": {"login": "pihme", "name": "Peter Ihme"}}, "url": "https://github.com/camunda-cloud/zeebe/commit/9f6be5b9c79402abd98df3d9b995236c6b147ce3", "committedDate": "2020-08-03T09:27:20Z", "message": "chore(ci): add test coverage report"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "73f2cd4ff97129c2f522cc315306bc79f652b2ec", "author": {"user": {"login": "pihme", "name": "Peter Ihme"}}, "url": "https://github.com/camunda-cloud/zeebe/commit/73f2cd4ff97129c2f522cc315306bc79f652b2ec", "committedDate": "2020-07-23T16:21:24Z", "message": "chore(ci): add test coverage report"}, "afterCommit": {"oid": "9f6be5b9c79402abd98df3d9b995236c6b147ce3", "author": {"user": {"login": "pihme", "name": "Peter Ihme"}}, "url": "https://github.com/camunda-cloud/zeebe/commit/9f6be5b9c79402abd98df3d9b995236c6b147ce3", "committedDate": "2020-08-03T09:27:20Z", "message": "chore(ci): add test coverage report"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYwNzE2OTg1", "url": "https://github.com/camunda-cloud/zeebe/pull/5043#pullrequestreview-460716985", "createdAt": "2020-08-04T11:13:26Z", "commit": {"oid": "9f6be5b9c79402abd98df3d9b995236c6b147ce3"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2614, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}