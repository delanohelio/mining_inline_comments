{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI4MTY1ODU0", "number": 5923, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yN1QxMjozNDo1N1rOE9-xiA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yN1QxMjozODo1OFrOE9-2OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMzNDI3MDgwOnYy", "diffSide": "RIGHT", "path": "Jenkinsfile", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yN1QxMjozNDo1N1rOH6841w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yN1QxMjozNDo1N1rOH6841w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTU3NzA0Nw==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            def shortTimeout = 10\n          \n          \n            \n            def longTimeout = 45\n          \n          \n            \n            def shortTimeoutMinutes = 10\n          \n          \n            \n            def longTimeoutMinutes = 45\n          \n      \n    \n    \n  \n\nOr just a comment above saying the unit is minutes, otherwise I can already predict questions \ud83d\ude42", "url": "https://github.com/camunda-cloud/zeebe/pull/5923#discussion_r531577047", "createdAt": "2020-11-27T12:34:57Z", "author": {"login": "npepinpe"}, "path": "Jenkinsfile", "diffHunk": "@@ -13,6 +13,9 @@ def isDevelopBranch = env.BRANCH_NAME == developBranchName\n def daysToKeep = isDevelopBranch ? '7' : '-1'\n def numToKeep = isDevelopBranch ? '-1' : '10'\n \n+def shortTimeout = 10\n+def longTimeout = 45", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3b08c04a06abee27da6ee2bdb5f8b876555163d5"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMzNDI3Njg3OnYy", "diffSide": "RIGHT", "path": "Jenkinsfile", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yN1QxMjozNjo1N1rOH688Yw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yN1QxMjozNjo1N1rOH688Yw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTU3Nzk1NQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                    timeout(time: shortTimeout, unit: 'MINUTES') {\n          \n          \n            \n                                    timeout(time: longTimeout, unit: 'MINUTES') {\n          \n      \n    \n    \n  \n\nI would just standardize all verification stages to use longTimeout, just go give ourselves room as we add more tests.", "url": "https://github.com/camunda-cloud/zeebe/pull/5923#discussion_r531577955", "createdAt": "2020-11-27T12:36:57Z", "author": {"login": "npepinpe"}, "path": "Jenkinsfile", "diffHunk": "@@ -105,12 +122,14 @@ pipeline {\n \n                 stage('Test (Go)') {\n                     steps {\n-                        container('golang') {\n-                            sh '.ci/scripts/distribution/build-go.sh'\n-                        }\n+                        timeout(time: shortTimeout, unit: 'MINUTES') {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3b08c04a06abee27da6ee2bdb5f8b876555163d5"}, "originalPosition": 103}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMzNDI4MjgwOnYy", "diffSide": "RIGHT", "path": "Jenkinsfile", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yN1QxMjozODo1OFrOH69ABw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yN1QxMjozODo1OFrOH69ABw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTU3ODg4Nw==", "bodyText": "The image is already available, so you could just take the existing camunda/zeebe:current-test and tag it differently, no need to rebuild it.\nYou can it like this:\ndocker tag camunda/zeebe:current-test ${IMAGE}:${TAG}\ndocker push ${IMAGE}:${TAG}", "url": "https://github.com/camunda-cloud/zeebe/pull/5923#discussion_r531578887", "createdAt": "2020-11-27T12:38:58Z", "author": {"login": "npepinpe"}, "path": "Jenkinsfile", "diffHunk": "@@ -283,11 +318,56 @@ pipeline {\n             }\n         }\n \n+        stage('QA') {\n+            when {\n+                expression { params.RUN_QA }\n+            }\n+            environment {\n+                IMAGE = \"gcr.io/zeebe-io/zeebe\"\n+                VERSION = readMavenPom(file: 'parent/pom.xml').getVersion()\n+                TAG = \"${env.VERSION}-${env.GIT_COMMIT}\"\n+                DOCKER_GCR = credentials(\"zeebe-gcr-serviceaccount-json\")\n+                ZEEBE_AUTHORIZATION_SERVER_URL = 'https://login.cloud.ultrawombat.com/oauth/token'\n+                ZEEBE_CLIENT_ID = 'W5a4JUc3I1NIetNnodo3YTvdsRIFb12w'\n+                QA_RUN_VARIABLES = \"{\\\"zeebeImage\\\": \\\"${env.IMAGE}:${env.TAG}\\\", \\\"generationTemplate\\\": \\\"${params.GENERATION_TEMPLATE}\\\", \\\"channel\\\": \\\"Internal Dev\\\", \" +\n+                                   \"\\\"branch\\\": \\\"${env.BRANCH_NAME}\\\", \\\"build\\\": \\\"${currentBuild.absoluteUrl}\\\"}\"\n+            }\n+\n+            steps {\n+                timeout(time: shortTimeout, unit: 'MINUTES') {\n+                    container('docker') {\n+                        sh 'cp dist/target/zeebe-distribution-*.tar.gz zeebe-distribution.tar.gz'", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3b08c04a06abee27da6ee2bdb5f8b876555163d5"}, "originalPosition": 238}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 69, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}