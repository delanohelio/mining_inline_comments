{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc1MzkxMjI3", "number": 5256, "title": "Add new processing metrics", "bodyText": "Description\nAdds new processing, exporting and log append metrics. With help of the metric, we can see what was the last appended, last committed position and how far behind is the processor and the exporters.\n\n\nRelated issues\n\ncloses #5241\nDefinition of Done\nNot all items need to be done depending on the issue and the pull request.\nCode changes:\n\n The changes are backwards compatibility with previous versions\n If it fixes a bug then PRs are created to backport the fix to the last two minor versions\n\nTesting:\n\n There are unit/integration tests that verify all acceptance criterias of the issue\n New tests are written to ensure backwards compatibility with further versions\n The behavior is tested manually\n The impact of the changes is verified by a benchmark\n\nDocumentation:\n\n The documentation is updated (e.g. BPMN reference, configuration, examples, get-started guides, etc.)\n New content is added to the release announcement", "createdAt": "2020-08-28T12:57:46Z", "url": "https://github.com/camunda-cloud/zeebe/pull/5256", "merged": true, "mergeCommit": {"oid": "2e8ac48317d0702968488091163ecd69e3af2c36"}, "closed": true, "closedAt": "2020-08-31T08:57:13Z", "author": {"login": "Zelldon"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdDUm-kgBqjM3MDM4MTU3NzQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdENnVsABqjM3MDg1ODY0MjI=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "08fdcd70a56acefe20b34c9e6b07e4e55614244c", "author": {"user": {"login": "Zelldon", "name": "Christopher Zell"}}, "url": "https://github.com/camunda-cloud/zeebe/commit/08fdcd70a56acefe20b34c9e6b07e4e55614244c", "committedDate": "2020-08-28T12:17:57Z", "message": "log app"}, "afterCommit": {"oid": "5ef9cc847d5e0e3d2338489333c9847dd9542b1f", "author": {"user": {"login": "Zelldon", "name": "Christopher Zell"}}, "url": "https://github.com/camunda-cloud/zeebe/commit/5ef9cc847d5e0e3d2338489333c9847dd9542b1f", "committedDate": "2020-08-28T12:58:34Z", "message": "chore(monitor): add new processing panels"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "50a69fd9907560b868da21258bce3a10f196ed25", "author": {"user": {"login": "Zelldon", "name": "Christopher Zell"}}, "url": "https://github.com/camunda-cloud/zeebe/commit/50a69fd9907560b868da21258bce3a10f196ed25", "committedDate": "2020-08-28T13:04:25Z", "message": "chore(logstreams): add append and commit position metrics"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "da6ea0721ec19b9cf365f6a440c83888aca35013", "author": {"user": {"login": "Zelldon", "name": "Christopher Zell"}}, "url": "https://github.com/camunda-cloud/zeebe/commit/da6ea0721ec19b9cf365f6a440c83888aca35013", "committedDate": "2020-08-28T13:04:25Z", "message": "chore(engine): add last processed metrics"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5520b4ead529a11381bce19542b5c90189ebc9e7", "author": {"user": {"login": "Zelldon", "name": "Christopher Zell"}}, "url": "https://github.com/camunda-cloud/zeebe/commit/5520b4ead529a11381bce19542b5c90189ebc9e7", "committedDate": "2020-08-28T13:04:25Z", "message": "chore(broker): add last exported metrics"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5ef9cc847d5e0e3d2338489333c9847dd9542b1f", "author": {"user": {"login": "Zelldon", "name": "Christopher Zell"}}, "url": "https://github.com/camunda-cloud/zeebe/commit/5ef9cc847d5e0e3d2338489333c9847dd9542b1f", "committedDate": "2020-08-28T12:58:34Z", "message": "chore(monitor): add new processing panels"}, "afterCommit": {"oid": "a5257ebbbd7482372937e0c943563e652c965fda", "author": {"user": {"login": "Zelldon", "name": "Christopher Zell"}}, "url": "https://github.com/camunda-cloud/zeebe/commit/a5257ebbbd7482372937e0c943563e652c965fda", "committedDate": "2020-08-28T13:05:28Z", "message": "chore(monitor): add new processing panels"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc3NzMzODY1", "url": "https://github.com/camunda-cloud/zeebe/pull/5256#pullrequestreview-477733865", "createdAt": "2020-08-28T13:36:20Z", "commit": {"oid": "a5257ebbbd7482372937e0c943563e652c965fda"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQxMzozNjoyMFrOHJF8VQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQxMzozOToyOVrOHJGHsg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTI5NjU5Nw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                      \"title\": \"Not updated exporter position\",\n          \n          \n            \n                      \"title\": \"Number of records exported but not acknowledged\",", "url": "https://github.com/camunda-cloud/zeebe/pull/5256#discussion_r479296597", "createdAt": "2020-08-28T13:36:20Z", "author": {"login": "deepthidevaki"}, "path": "monitor/grafana/zeebe.json", "diffHunk": "@@ -1496,6 +1496,587 @@\n         \"x\": 0,\n         \"y\": 1\n       },\n+      \"id\": 203,\n+      \"panels\": [\n+        {\n+          \"datasource\": \"${DS_PROMETHEUS}\",\n+          \"description\": \"Shows how many positions are not updated by exporters per partition. Means what is the difference between last committed exporter position and committed log position.\",\n+          \"gridPos\": {\n+            \"h\": 4,\n+            \"w\": 12,\n+            \"x\": 0,\n+            \"y\": 2\n+          },\n+          \"id\": 192,\n+          \"options\": {\n+            \"fieldOptions\": {\n+              \"calcs\": [\n+                \"last\"\n+              ],\n+              \"defaults\": {\n+                \"mappings\": [],\n+                \"thresholds\": {\n+                  \"mode\": \"absolute\",\n+                  \"steps\": [\n+                    {\n+                      \"color\": \"green\",\n+                      \"value\": null\n+                    },\n+                    {\n+                      \"color\": \"red\",\n+                      \"value\": 1000\n+                    }\n+                  ]\n+                }\n+              },\n+              \"overrides\": [],\n+              \"values\": false\n+            },\n+            \"orientation\": \"auto\",\n+            \"showThresholdLabels\": false,\n+            \"showThresholdMarkers\": true\n+          },\n+          \"pluginVersion\": \"6.7.1\",\n+          \"targets\": [\n+            {\n+              \"expr\": \"zeebe_exporter_last_exported_position{namespace=~\\\"$namespace\\\", partition=~\\\"$partition\\\"} - zeebe_exporter_last_updated_exported_position{namespace=~\\\"$namespace\\\", partition=~\\\"$partition\\\"}\",\n+              \"format\": \"time_series\",\n+              \"instant\": false,\n+              \"interval\": \"\",\n+              \"intervalFactor\": 1,\n+              \"legendFormat\": \"{{exporter}} {{partition}}\",\n+              \"refId\": \"A\"\n+            }\n+          ],\n+          \"timeFrom\": null,\n+          \"timeShift\": null,\n+          \"title\": \"Not updated exporter position\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a5257ebbbd7482372937e0c943563e652c965fda"}, "originalPosition": 67}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTI5ODI2MA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                      \"title\": \"Not Exported Records\",\n          \n          \n            \n                      \"title\": \"Number of records not exported\",", "url": "https://github.com/camunda-cloud/zeebe/pull/5256#discussion_r479298260", "createdAt": "2020-08-28T13:38:09Z", "author": {"login": "deepthidevaki"}, "path": "monitor/grafana/zeebe.json", "diffHunk": "@@ -1496,6 +1496,587 @@\n         \"x\": 0,\n         \"y\": 1\n       },\n+      \"id\": 203,\n+      \"panels\": [\n+        {\n+          \"datasource\": \"${DS_PROMETHEUS}\",\n+          \"description\": \"Shows how many positions are not updated by exporters per partition. Means what is the difference between last committed exporter position and committed log position.\",\n+          \"gridPos\": {\n+            \"h\": 4,\n+            \"w\": 12,\n+            \"x\": 0,\n+            \"y\": 2\n+          },\n+          \"id\": 192,\n+          \"options\": {\n+            \"fieldOptions\": {\n+              \"calcs\": [\n+                \"last\"\n+              ],\n+              \"defaults\": {\n+                \"mappings\": [],\n+                \"thresholds\": {\n+                  \"mode\": \"absolute\",\n+                  \"steps\": [\n+                    {\n+                      \"color\": \"green\",\n+                      \"value\": null\n+                    },\n+                    {\n+                      \"color\": \"red\",\n+                      \"value\": 1000\n+                    }\n+                  ]\n+                }\n+              },\n+              \"overrides\": [],\n+              \"values\": false\n+            },\n+            \"orientation\": \"auto\",\n+            \"showThresholdLabels\": false,\n+            \"showThresholdMarkers\": true\n+          },\n+          \"pluginVersion\": \"6.7.1\",\n+          \"targets\": [\n+            {\n+              \"expr\": \"zeebe_exporter_last_exported_position{namespace=~\\\"$namespace\\\", partition=~\\\"$partition\\\"} - zeebe_exporter_last_updated_exported_position{namespace=~\\\"$namespace\\\", partition=~\\\"$partition\\\"}\",\n+              \"format\": \"time_series\",\n+              \"instant\": false,\n+              \"interval\": \"\",\n+              \"intervalFactor\": 1,\n+              \"legendFormat\": \"{{exporter}} {{partition}}\",\n+              \"refId\": \"A\"\n+            }\n+          ],\n+          \"timeFrom\": null,\n+          \"timeShift\": null,\n+          \"title\": \"Not updated exporter position\",\n+          \"type\": \"gauge\"\n+        },\n+        {\n+          \"columns\": [],\n+          \"datasource\": \"${DS_PROMETHEUS}\",\n+          \"description\": \"Shows the position, which was appended last by the leader per partition.\",\n+          \"fontSize\": \"80%\",\n+          \"gridPos\": {\n+            \"h\": 4,\n+            \"w\": 4,\n+            \"x\": 12,\n+            \"y\": 2\n+          },\n+          \"id\": 196,\n+          \"pageSize\": null,\n+          \"showHeader\": true,\n+          \"sort\": {\n+            \"col\": 0,\n+            \"desc\": true\n+          },\n+          \"styles\": [\n+            {\n+              \"$$hashKey\": \"object:7009\",\n+              \"alias\": \"Time\",\n+              \"align\": \"auto\",\n+              \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n+              \"pattern\": \"Time\",\n+              \"type\": \"hidden\"\n+            },\n+            {\n+              \"$$hashKey\": \"object:7010\",\n+              \"alias\": \"Position\",\n+              \"align\": \"center\",\n+              \"colorMode\": null,\n+              \"colors\": [\n+                \"rgba(245, 54, 54, 0.9)\",\n+                \"rgba(237, 129, 40, 0.89)\",\n+                \"rgba(50, 172, 45, 0.97)\"\n+              ],\n+              \"decimals\": 2,\n+              \"pattern\": \"Value\",\n+              \"thresholds\": [],\n+              \"type\": \"string\",\n+              \"unit\": \"short\"\n+            },\n+            {\n+              \"$$hashKey\": \"object:7858\",\n+              \"alias\": \"Partition\",\n+              \"align\": \"center\",\n+              \"colorMode\": null,\n+              \"colors\": [\n+                \"rgba(245, 54, 54, 0.9)\",\n+                \"rgba(237, 129, 40, 0.89)\",\n+                \"rgba(50, 172, 45, 0.97)\"\n+              ],\n+              \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n+              \"decimals\": 0,\n+              \"mappingType\": 1,\n+              \"pattern\": \"partition\",\n+              \"thresholds\": [],\n+              \"type\": \"number\",\n+              \"unit\": \"short\"\n+            }\n+          ],\n+          \"targets\": [\n+            {\n+              \"expr\": \"sum by (partition) (zeebe_log_appender_last_appended_position{namespace=~\\\"$namespace\\\", partition=~\\\"$partition\\\"})\",\n+              \"format\": \"table\",\n+              \"instant\": true,\n+              \"interval\": \"\",\n+              \"legendFormat\": \"\",\n+              \"refId\": \"A\"\n+            }\n+          ],\n+          \"timeFrom\": null,\n+          \"timeShift\": null,\n+          \"title\": \"Last appended position\",\n+          \"transform\": \"table\",\n+          \"type\": \"table\"\n+        },\n+        {\n+          \"columns\": [],\n+          \"datasource\": \"${DS_PROMETHEUS}\",\n+          \"description\": \"Shows the last committed log position.\",\n+          \"fontSize\": \"80%\",\n+          \"gridPos\": {\n+            \"h\": 4,\n+            \"w\": 4,\n+            \"x\": 16,\n+            \"y\": 2\n+          },\n+          \"id\": 200,\n+          \"pageSize\": null,\n+          \"showHeader\": true,\n+          \"sort\": {\n+            \"col\": 0,\n+            \"desc\": true\n+          },\n+          \"styles\": [\n+            {\n+              \"$$hashKey\": \"object:7009\",\n+              \"alias\": \"Time\",\n+              \"align\": \"auto\",\n+              \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n+              \"pattern\": \"Time\",\n+              \"type\": \"hidden\"\n+            },\n+            {\n+              \"$$hashKey\": \"object:7010\",\n+              \"alias\": \"Position\",\n+              \"align\": \"center\",\n+              \"colorMode\": null,\n+              \"colors\": [\n+                \"rgba(245, 54, 54, 0.9)\",\n+                \"rgba(237, 129, 40, 0.89)\",\n+                \"rgba(50, 172, 45, 0.97)\"\n+              ],\n+              \"decimals\": 2,\n+              \"pattern\": \"Value\",\n+              \"thresholds\": [],\n+              \"type\": \"string\",\n+              \"unit\": \"short\"\n+            },\n+            {\n+              \"$$hashKey\": \"object:7858\",\n+              \"alias\": \"Partition\",\n+              \"align\": \"center\",\n+              \"colorMode\": null,\n+              \"colors\": [\n+                \"rgba(245, 54, 54, 0.9)\",\n+                \"rgba(237, 129, 40, 0.89)\",\n+                \"rgba(50, 172, 45, 0.97)\"\n+              ],\n+              \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n+              \"decimals\": 0,\n+              \"mappingType\": 1,\n+              \"pattern\": \"partition\",\n+              \"thresholds\": [],\n+              \"type\": \"number\",\n+              \"unit\": \"short\"\n+            }\n+          ],\n+          \"targets\": [\n+            {\n+              \"expr\": \"sum by (partition) (zeebe_log_appender_last_committed_position{namespace=~\\\"$namespace\\\", partition=~\\\"$partition\\\"})\",\n+              \"format\": \"table\",\n+              \"instant\": true,\n+              \"interval\": \"\",\n+              \"legendFormat\": \"\",\n+              \"refId\": \"A\"\n+            }\n+          ],\n+          \"timeFrom\": null,\n+          \"timeShift\": null,\n+          \"title\": \"Last committed position\",\n+          \"transform\": \"table\",\n+          \"type\": \"table\"\n+        },\n+        {\n+          \"columns\": [],\n+          \"datasource\": \"${DS_PROMETHEUS}\",\n+          \"description\": \"Shows the last processed position by the stream processor per partition.\",\n+          \"fontSize\": \"80%\",\n+          \"gridPos\": {\n+            \"h\": 4,\n+            \"w\": 4,\n+            \"x\": 20,\n+            \"y\": 2\n+          },\n+          \"id\": 198,\n+          \"pageSize\": null,\n+          \"showHeader\": true,\n+          \"sort\": {\n+            \"col\": 0,\n+            \"desc\": true\n+          },\n+          \"styles\": [\n+            {\n+              \"$$hashKey\": \"object:7009\",\n+              \"alias\": \"Time\",\n+              \"align\": \"auto\",\n+              \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n+              \"pattern\": \"Time\",\n+              \"type\": \"hidden\"\n+            },\n+            {\n+              \"$$hashKey\": \"object:7010\",\n+              \"alias\": \"Position\",\n+              \"align\": \"center\",\n+              \"colorMode\": null,\n+              \"colors\": [\n+                \"rgba(245, 54, 54, 0.9)\",\n+                \"rgba(237, 129, 40, 0.89)\",\n+                \"rgba(50, 172, 45, 0.97)\"\n+              ],\n+              \"decimals\": 2,\n+              \"pattern\": \"Value\",\n+              \"thresholds\": [],\n+              \"type\": \"string\",\n+              \"unit\": \"short\"\n+            },\n+            {\n+              \"$$hashKey\": \"object:7858\",\n+              \"alias\": \"Partition\",\n+              \"align\": \"center\",\n+              \"colorMode\": null,\n+              \"colors\": [\n+                \"rgba(245, 54, 54, 0.9)\",\n+                \"rgba(237, 129, 40, 0.89)\",\n+                \"rgba(50, 172, 45, 0.97)\"\n+              ],\n+              \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n+              \"decimals\": 0,\n+              \"mappingType\": 1,\n+              \"pattern\": \"partition\",\n+              \"thresholds\": [],\n+              \"type\": \"number\",\n+              \"unit\": \"short\"\n+            }\n+          ],\n+          \"targets\": [\n+            {\n+              \"expr\": \"sum by (partition) (zeebe_stream_processor_last_processed_position{namespace=~\\\"$namespace\\\", partition=~\\\"$partition\\\"})\",\n+              \"format\": \"table\",\n+              \"instant\": true,\n+              \"interval\": \"\",\n+              \"legendFormat\": \"\",\n+              \"refId\": \"A\"\n+            },\n+            {\n+              \"expr\": \"\",\n+              \"interval\": \"\",\n+              \"legendFormat\": \"\",\n+              \"refId\": \"B\"\n+            }\n+          ],\n+          \"timeFrom\": null,\n+          \"timeShift\": null,\n+          \"title\": \"Last processed position\",\n+          \"transform\": \"table\",\n+          \"type\": \"table\"\n+        },\n+        {\n+          \"datasource\": \"${DS_PROMETHEUS}\",\n+          \"description\": \"Shows how many records are not exported yet.\",\n+          \"gridPos\": {\n+            \"h\": 6,\n+            \"w\": 5,\n+            \"x\": 0,\n+            \"y\": 6\n+          },\n+          \"id\": 194,\n+          \"options\": {\n+            \"fieldOptions\": {\n+              \"calcs\": [\n+                \"mean\"\n+              ],\n+              \"defaults\": {\n+                \"mappings\": [],\n+                \"thresholds\": {\n+                  \"mode\": \"absolute\",\n+                  \"steps\": [\n+                    {\n+                      \"color\": \"green\",\n+                      \"value\": null\n+                    },\n+                    {\n+                      \"color\": \"red\",\n+                      \"value\": 1000\n+                    }\n+                  ]\n+                }\n+              },\n+              \"overrides\": [],\n+              \"values\": false\n+            },\n+            \"orientation\": \"auto\",\n+            \"showThresholdLabels\": false,\n+            \"showThresholdMarkers\": true\n+          },\n+          \"pluginVersion\": \"6.7.1\",\n+          \"targets\": [\n+            {\n+              \"expr\": \"sum (zeebe_log_appender_last_committed_position{namespace=~\\\"$namespace\\\", partition=~\\\"$partition\\\"}) by (partition) - sum (zeebe_exporter_last_exported_position{namespace=~\\\"$namespace\\\", partition=~\\\"$partition\\\", exporter=\\\"elasticsearch\\\"}) by (partition)\",\n+              \"format\": \"time_series\",\n+              \"instant\": false,\n+              \"interval\": \"\",\n+              \"legendFormat\": \"Exporter {{partition}}\",\n+              \"refId\": \"A\"\n+            }\n+          ],\n+          \"timeFrom\": null,\n+          \"timeShift\": null,\n+          \"title\": \"Not Exported Records\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a5257ebbbd7482372937e0c943563e652c965fda"}, "originalPosition": 361}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTI5OTUwNg==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                      \"title\": \"Not processed\",\n          \n          \n            \n                      \"title\": \"Number of records not processed\",", "url": "https://github.com/camunda-cloud/zeebe/pull/5256#discussion_r479299506", "createdAt": "2020-08-28T13:39:29Z", "author": {"login": "deepthidevaki"}, "path": "monitor/grafana/zeebe.json", "diffHunk": "@@ -1496,6 +1496,587 @@\n         \"x\": 0,\n         \"y\": 1\n       },\n+      \"id\": 203,\n+      \"panels\": [\n+        {\n+          \"datasource\": \"${DS_PROMETHEUS}\",\n+          \"description\": \"Shows how many positions are not updated by exporters per partition. Means what is the difference between last committed exporter position and committed log position.\",\n+          \"gridPos\": {\n+            \"h\": 4,\n+            \"w\": 12,\n+            \"x\": 0,\n+            \"y\": 2\n+          },\n+          \"id\": 192,\n+          \"options\": {\n+            \"fieldOptions\": {\n+              \"calcs\": [\n+                \"last\"\n+              ],\n+              \"defaults\": {\n+                \"mappings\": [],\n+                \"thresholds\": {\n+                  \"mode\": \"absolute\",\n+                  \"steps\": [\n+                    {\n+                      \"color\": \"green\",\n+                      \"value\": null\n+                    },\n+                    {\n+                      \"color\": \"red\",\n+                      \"value\": 1000\n+                    }\n+                  ]\n+                }\n+              },\n+              \"overrides\": [],\n+              \"values\": false\n+            },\n+            \"orientation\": \"auto\",\n+            \"showThresholdLabels\": false,\n+            \"showThresholdMarkers\": true\n+          },\n+          \"pluginVersion\": \"6.7.1\",\n+          \"targets\": [\n+            {\n+              \"expr\": \"zeebe_exporter_last_exported_position{namespace=~\\\"$namespace\\\", partition=~\\\"$partition\\\"} - zeebe_exporter_last_updated_exported_position{namespace=~\\\"$namespace\\\", partition=~\\\"$partition\\\"}\",\n+              \"format\": \"time_series\",\n+              \"instant\": false,\n+              \"interval\": \"\",\n+              \"intervalFactor\": 1,\n+              \"legendFormat\": \"{{exporter}} {{partition}}\",\n+              \"refId\": \"A\"\n+            }\n+          ],\n+          \"timeFrom\": null,\n+          \"timeShift\": null,\n+          \"title\": \"Not updated exporter position\",\n+          \"type\": \"gauge\"\n+        },\n+        {\n+          \"columns\": [],\n+          \"datasource\": \"${DS_PROMETHEUS}\",\n+          \"description\": \"Shows the position, which was appended last by the leader per partition.\",\n+          \"fontSize\": \"80%\",\n+          \"gridPos\": {\n+            \"h\": 4,\n+            \"w\": 4,\n+            \"x\": 12,\n+            \"y\": 2\n+          },\n+          \"id\": 196,\n+          \"pageSize\": null,\n+          \"showHeader\": true,\n+          \"sort\": {\n+            \"col\": 0,\n+            \"desc\": true\n+          },\n+          \"styles\": [\n+            {\n+              \"$$hashKey\": \"object:7009\",\n+              \"alias\": \"Time\",\n+              \"align\": \"auto\",\n+              \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n+              \"pattern\": \"Time\",\n+              \"type\": \"hidden\"\n+            },\n+            {\n+              \"$$hashKey\": \"object:7010\",\n+              \"alias\": \"Position\",\n+              \"align\": \"center\",\n+              \"colorMode\": null,\n+              \"colors\": [\n+                \"rgba(245, 54, 54, 0.9)\",\n+                \"rgba(237, 129, 40, 0.89)\",\n+                \"rgba(50, 172, 45, 0.97)\"\n+              ],\n+              \"decimals\": 2,\n+              \"pattern\": \"Value\",\n+              \"thresholds\": [],\n+              \"type\": \"string\",\n+              \"unit\": \"short\"\n+            },\n+            {\n+              \"$$hashKey\": \"object:7858\",\n+              \"alias\": \"Partition\",\n+              \"align\": \"center\",\n+              \"colorMode\": null,\n+              \"colors\": [\n+                \"rgba(245, 54, 54, 0.9)\",\n+                \"rgba(237, 129, 40, 0.89)\",\n+                \"rgba(50, 172, 45, 0.97)\"\n+              ],\n+              \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n+              \"decimals\": 0,\n+              \"mappingType\": 1,\n+              \"pattern\": \"partition\",\n+              \"thresholds\": [],\n+              \"type\": \"number\",\n+              \"unit\": \"short\"\n+            }\n+          ],\n+          \"targets\": [\n+            {\n+              \"expr\": \"sum by (partition) (zeebe_log_appender_last_appended_position{namespace=~\\\"$namespace\\\", partition=~\\\"$partition\\\"})\",\n+              \"format\": \"table\",\n+              \"instant\": true,\n+              \"interval\": \"\",\n+              \"legendFormat\": \"\",\n+              \"refId\": \"A\"\n+            }\n+          ],\n+          \"timeFrom\": null,\n+          \"timeShift\": null,\n+          \"title\": \"Last appended position\",\n+          \"transform\": \"table\",\n+          \"type\": \"table\"\n+        },\n+        {\n+          \"columns\": [],\n+          \"datasource\": \"${DS_PROMETHEUS}\",\n+          \"description\": \"Shows the last committed log position.\",\n+          \"fontSize\": \"80%\",\n+          \"gridPos\": {\n+            \"h\": 4,\n+            \"w\": 4,\n+            \"x\": 16,\n+            \"y\": 2\n+          },\n+          \"id\": 200,\n+          \"pageSize\": null,\n+          \"showHeader\": true,\n+          \"sort\": {\n+            \"col\": 0,\n+            \"desc\": true\n+          },\n+          \"styles\": [\n+            {\n+              \"$$hashKey\": \"object:7009\",\n+              \"alias\": \"Time\",\n+              \"align\": \"auto\",\n+              \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n+              \"pattern\": \"Time\",\n+              \"type\": \"hidden\"\n+            },\n+            {\n+              \"$$hashKey\": \"object:7010\",\n+              \"alias\": \"Position\",\n+              \"align\": \"center\",\n+              \"colorMode\": null,\n+              \"colors\": [\n+                \"rgba(245, 54, 54, 0.9)\",\n+                \"rgba(237, 129, 40, 0.89)\",\n+                \"rgba(50, 172, 45, 0.97)\"\n+              ],\n+              \"decimals\": 2,\n+              \"pattern\": \"Value\",\n+              \"thresholds\": [],\n+              \"type\": \"string\",\n+              \"unit\": \"short\"\n+            },\n+            {\n+              \"$$hashKey\": \"object:7858\",\n+              \"alias\": \"Partition\",\n+              \"align\": \"center\",\n+              \"colorMode\": null,\n+              \"colors\": [\n+                \"rgba(245, 54, 54, 0.9)\",\n+                \"rgba(237, 129, 40, 0.89)\",\n+                \"rgba(50, 172, 45, 0.97)\"\n+              ],\n+              \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n+              \"decimals\": 0,\n+              \"mappingType\": 1,\n+              \"pattern\": \"partition\",\n+              \"thresholds\": [],\n+              \"type\": \"number\",\n+              \"unit\": \"short\"\n+            }\n+          ],\n+          \"targets\": [\n+            {\n+              \"expr\": \"sum by (partition) (zeebe_log_appender_last_committed_position{namespace=~\\\"$namespace\\\", partition=~\\\"$partition\\\"})\",\n+              \"format\": \"table\",\n+              \"instant\": true,\n+              \"interval\": \"\",\n+              \"legendFormat\": \"\",\n+              \"refId\": \"A\"\n+            }\n+          ],\n+          \"timeFrom\": null,\n+          \"timeShift\": null,\n+          \"title\": \"Last committed position\",\n+          \"transform\": \"table\",\n+          \"type\": \"table\"\n+        },\n+        {\n+          \"columns\": [],\n+          \"datasource\": \"${DS_PROMETHEUS}\",\n+          \"description\": \"Shows the last processed position by the stream processor per partition.\",\n+          \"fontSize\": \"80%\",\n+          \"gridPos\": {\n+            \"h\": 4,\n+            \"w\": 4,\n+            \"x\": 20,\n+            \"y\": 2\n+          },\n+          \"id\": 198,\n+          \"pageSize\": null,\n+          \"showHeader\": true,\n+          \"sort\": {\n+            \"col\": 0,\n+            \"desc\": true\n+          },\n+          \"styles\": [\n+            {\n+              \"$$hashKey\": \"object:7009\",\n+              \"alias\": \"Time\",\n+              \"align\": \"auto\",\n+              \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n+              \"pattern\": \"Time\",\n+              \"type\": \"hidden\"\n+            },\n+            {\n+              \"$$hashKey\": \"object:7010\",\n+              \"alias\": \"Position\",\n+              \"align\": \"center\",\n+              \"colorMode\": null,\n+              \"colors\": [\n+                \"rgba(245, 54, 54, 0.9)\",\n+                \"rgba(237, 129, 40, 0.89)\",\n+                \"rgba(50, 172, 45, 0.97)\"\n+              ],\n+              \"decimals\": 2,\n+              \"pattern\": \"Value\",\n+              \"thresholds\": [],\n+              \"type\": \"string\",\n+              \"unit\": \"short\"\n+            },\n+            {\n+              \"$$hashKey\": \"object:7858\",\n+              \"alias\": \"Partition\",\n+              \"align\": \"center\",\n+              \"colorMode\": null,\n+              \"colors\": [\n+                \"rgba(245, 54, 54, 0.9)\",\n+                \"rgba(237, 129, 40, 0.89)\",\n+                \"rgba(50, 172, 45, 0.97)\"\n+              ],\n+              \"dateFormat\": \"YYYY-MM-DD HH:mm:ss\",\n+              \"decimals\": 0,\n+              \"mappingType\": 1,\n+              \"pattern\": \"partition\",\n+              \"thresholds\": [],\n+              \"type\": \"number\",\n+              \"unit\": \"short\"\n+            }\n+          ],\n+          \"targets\": [\n+            {\n+              \"expr\": \"sum by (partition) (zeebe_stream_processor_last_processed_position{namespace=~\\\"$namespace\\\", partition=~\\\"$partition\\\"})\",\n+              \"format\": \"table\",\n+              \"instant\": true,\n+              \"interval\": \"\",\n+              \"legendFormat\": \"\",\n+              \"refId\": \"A\"\n+            },\n+            {\n+              \"expr\": \"\",\n+              \"interval\": \"\",\n+              \"legendFormat\": \"\",\n+              \"refId\": \"B\"\n+            }\n+          ],\n+          \"timeFrom\": null,\n+          \"timeShift\": null,\n+          \"title\": \"Last processed position\",\n+          \"transform\": \"table\",\n+          \"type\": \"table\"\n+        },\n+        {\n+          \"datasource\": \"${DS_PROMETHEUS}\",\n+          \"description\": \"Shows how many records are not exported yet.\",\n+          \"gridPos\": {\n+            \"h\": 6,\n+            \"w\": 5,\n+            \"x\": 0,\n+            \"y\": 6\n+          },\n+          \"id\": 194,\n+          \"options\": {\n+            \"fieldOptions\": {\n+              \"calcs\": [\n+                \"mean\"\n+              ],\n+              \"defaults\": {\n+                \"mappings\": [],\n+                \"thresholds\": {\n+                  \"mode\": \"absolute\",\n+                  \"steps\": [\n+                    {\n+                      \"color\": \"green\",\n+                      \"value\": null\n+                    },\n+                    {\n+                      \"color\": \"red\",\n+                      \"value\": 1000\n+                    }\n+                  ]\n+                }\n+              },\n+              \"overrides\": [],\n+              \"values\": false\n+            },\n+            \"orientation\": \"auto\",\n+            \"showThresholdLabels\": false,\n+            \"showThresholdMarkers\": true\n+          },\n+          \"pluginVersion\": \"6.7.1\",\n+          \"targets\": [\n+            {\n+              \"expr\": \"sum (zeebe_log_appender_last_committed_position{namespace=~\\\"$namespace\\\", partition=~\\\"$partition\\\"}) by (partition) - sum (zeebe_exporter_last_exported_position{namespace=~\\\"$namespace\\\", partition=~\\\"$partition\\\", exporter=\\\"elasticsearch\\\"}) by (partition)\",\n+              \"format\": \"time_series\",\n+              \"instant\": false,\n+              \"interval\": \"\",\n+              \"legendFormat\": \"Exporter {{partition}}\",\n+              \"refId\": \"A\"\n+            }\n+          ],\n+          \"timeFrom\": null,\n+          \"timeShift\": null,\n+          \"title\": \"Not Exported Records\",\n+          \"type\": \"gauge\"\n+        },\n+        {\n+          \"datasource\": \"${DS_PROMETHEUS}\",\n+          \"description\": \"Shows how many records the stream processor has not processed yet.\",\n+          \"gridPos\": {\n+            \"h\": 6,\n+            \"w\": 7,\n+            \"x\": 5,\n+            \"y\": 6\n+          },\n+          \"id\": 189,\n+          \"options\": {\n+            \"fieldOptions\": {\n+              \"calcs\": [\n+                \"last\"\n+              ],\n+              \"defaults\": {\n+                \"mappings\": [],\n+                \"thresholds\": {\n+                  \"mode\": \"absolute\",\n+                  \"steps\": [\n+                    {\n+                      \"color\": \"green\",\n+                      \"value\": null\n+                    },\n+                    {\n+                      \"color\": \"red\",\n+                      \"value\": 1000\n+                    }\n+                  ]\n+                }\n+              },\n+              \"overrides\": [],\n+              \"values\": false\n+            },\n+            \"orientation\": \"auto\",\n+            \"showThresholdLabels\": false,\n+            \"showThresholdMarkers\": true\n+          },\n+          \"pluginVersion\": \"6.7.1\",\n+          \"targets\": [\n+            {\n+              \"expr\": \"zeebe_log_appender_last_committed_position{namespace=~\\\"$namespace\\\", partition=~\\\"$partition\\\"} - zeebe_stream_processor_last_processed_position{namespace=~\\\"$namespace\\\", partition=~\\\"$partition\\\"}\",\n+              \"format\": \"time_series\",\n+              \"instant\": true,\n+              \"interval\": \"\",\n+              \"intervalFactor\": 1,\n+              \"legendFormat\": \"Partition {{partition}}\",\n+              \"refId\": \"A\"\n+            }\n+          ],\n+          \"timeFrom\": null,\n+          \"timeShift\": null,\n+          \"title\": \"Not processed\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a5257ebbbd7482372937e0c943563e652c965fda"}, "originalPosition": 416}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc4MzUwMzMw", "url": "https://github.com/camunda-cloud/zeebe/pull/5256#pullrequestreview-478350330", "createdAt": "2020-08-31T06:36:12Z", "commit": {"oid": "b881b33b91b3a780f74bdec47110aecafa17f491"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4d1b005da537fdc040987cc57577d5a4e23ff19e", "author": {"user": {"login": "Zelldon", "name": "Christopher Zell"}}, "url": "https://github.com/camunda-cloud/zeebe/commit/4d1b005da537fdc040987cc57577d5a4e23ff19e", "committedDate": "2020-08-31T07:24:26Z", "message": "chore(monitor): add new processing panels"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b881b33b91b3a780f74bdec47110aecafa17f491", "author": {"user": {"login": "Zelldon", "name": "Christopher Zell"}}, "url": "https://github.com/camunda-cloud/zeebe/commit/b881b33b91b3a780f74bdec47110aecafa17f491", "committedDate": "2020-08-28T13:54:02Z", "message": "chore(monitor): update monitor/grafana/zeebe.json\n\nCo-authored-by: Deepthi Devaki Akkoorath <deepthidevaki@users.noreply.github.com>"}, "afterCommit": {"oid": "4d1b005da537fdc040987cc57577d5a4e23ff19e", "author": {"user": {"login": "Zelldon", "name": "Christopher Zell"}}, "url": "https://github.com/camunda-cloud/zeebe/commit/4d1b005da537fdc040987cc57577d5a4e23ff19e", "committedDate": "2020-08-31T07:24:26Z", "message": "chore(monitor): add new processing panels"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2578, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}