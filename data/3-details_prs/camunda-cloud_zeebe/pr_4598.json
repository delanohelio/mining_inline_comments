{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIyOTg3ODY4", "number": 4598, "title": "chore(atomix): fix flaky Swim test", "bodyText": "Description\nFixes and improves flaky SwimProtocolTest. Introduces Awaitility lib to await certain events.\nReduces the execution time from ~15 seconds to 6 seconds.\n\nRelated issues\n\ncloses #4382\nPull Request Checklist\n\n All commit messages match our commit message guidelines\n The submitting code follows our code style\n If submitting code, please run mvn clean install -DskipTests locally before committing", "createdAt": "2020-05-26T05:07:20Z", "url": "https://github.com/camunda-cloud/zeebe/pull/4598", "merged": true, "mergeCommit": {"oid": "228cbc8f7caad440a42fa86855b8fecc1c2858a9"}, "closed": true, "closedAt": "2020-05-28T09:12:11Z", "author": {"login": "Zelldon"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABck-MoaABqjMzNzE5ODIwODE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABclpdN3ABqjMzODE2NTA4NTM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4a6f6cf65a8cd1879b0de055ae27d5e55ee4eb6c", "author": {"user": {"login": "Zelldon", "name": "Christopher Zell"}}, "url": "https://github.com/camunda-cloud/zeebe/commit/4a6f6cf65a8cd1879b0de055ae27d5e55ee4eb6c", "committedDate": "2020-05-26T05:48:34Z", "message": "chore(pom): move awaitility dependency"}, "afterCommit": {"oid": "aacd9c49b721d817f39fb58094bd9dd1af174462", "author": {"user": {"login": "Zelldon", "name": "Christopher Zell"}}, "url": "https://github.com/camunda-cloud/zeebe/commit/aacd9c49b721d817f39fb58094bd9dd1af174462", "committedDate": "2020-05-26T05:52:39Z", "message": "chore(pom): move awaitility dependency"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "aacd9c49b721d817f39fb58094bd9dd1af174462", "author": {"user": {"login": "Zelldon", "name": "Christopher Zell"}}, "url": "https://github.com/camunda-cloud/zeebe/commit/aacd9c49b721d817f39fb58094bd9dd1af174462", "committedDate": "2020-05-26T05:52:39Z", "message": "chore(pom): move awaitility dependency"}, "afterCommit": {"oid": "def10cf16dd4df10cceca0b8fcd30a46457a6fe2", "author": {"user": {"login": "Zelldon", "name": "Christopher Zell"}}, "url": "https://github.com/camunda-cloud/zeebe/commit/def10cf16dd4df10cceca0b8fcd30a46457a6fe2", "committedDate": "2020-05-26T08:17:05Z", "message": "chore(pom): move awaitility dependency"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE4MzQyNzk0", "url": "https://github.com/camunda-cloud/zeebe/pull/4598#pullrequestreview-418342794", "createdAt": "2020-05-26T14:15:53Z", "commit": {"oid": "def10cf16dd4df10cceca0b8fcd30a46457a6fe2"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQxNDoxNTo1M1rOGagWzQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQxNDoxNTo1M1rOGagWzQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDQ0NjI4NQ==", "bodyText": "Do you think we could get rid of all these Thread.sleep \ud83d\ude03 ? We're clearly waiting for something to happen here - can we use awaitility again for it, or is this something that's not observable?", "url": "https://github.com/camunda-cloud/zeebe/pull/4598#discussion_r430446285", "createdAt": "2020-05-26T14:15:53Z", "author": {"login": "npepinpe"}, "path": "atomix/cluster/src/test/java/io/atomix/cluster/protocol/SwimProtocolTest.java", "diffHunk": "@@ -164,7 +211,7 @@ public void testSwimProtocol() throws Exception {\n \n     // Verify that neither node is ever removed from the cluster since node 3 can still ping nodes 1\n     // and 2.\n-    Thread.sleep(5000);\n+    Thread.sleep(500);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "def10cf16dd4df10cceca0b8fcd30a46457a6fe2"}, "originalPosition": 130}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE5ODI1NDI0", "url": "https://github.com/camunda-cloud/zeebe/pull/4598#pullrequestreview-419825424", "createdAt": "2020-05-28T06:57:03Z", "commit": {"oid": "def10cf16dd4df10cceca0b8fcd30a46457a6fe2"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d1f8e8ba500a6026a55e1f851be260e07078b17a", "author": {"user": {"login": "Zelldon", "name": "Christopher Zell"}}, "url": "https://github.com/camunda-cloud/zeebe/commit/d1f8e8ba500a6026a55e1f851be260e07078b17a", "committedDate": "2020-05-28T08:15:19Z", "message": "chore(atomix): fix flaky Swim test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ba77423a2886b04c8722dde42d6c0a07164f9f17", "author": {"user": {"login": "Zelldon", "name": "Christopher Zell"}}, "url": "https://github.com/camunda-cloud/zeebe/commit/ba77423a2886b04c8722dde42d6c0a07164f9f17", "committedDate": "2020-05-28T08:18:08Z", "message": "chore(pom): move awaitility dependency"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "19ae0068bfe92a151c0656e9f71ab7d2c701ca7d", "author": {"user": {"login": "Zelldon", "name": "Christopher Zell"}}, "url": "https://github.com/camunda-cloud/zeebe/commit/19ae0068bfe92a151c0656e9f71ab7d2c701ca7d", "committedDate": "2020-05-28T08:18:18Z", "message": "chore(atomix): remove thread sleep"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "402fab9b6a7fb0cb753272cc1e6e4d66ec5aa9b7", "author": {"user": {"login": "Zelldon", "name": "Christopher Zell"}}, "url": "https://github.com/camunda-cloud/zeebe/commit/402fab9b6a7fb0cb753272cc1e6e4d66ec5aa9b7", "committedDate": "2020-05-28T07:51:51Z", "message": "chore(atomix): remove thread sleep"}, "afterCommit": {"oid": "19ae0068bfe92a151c0656e9f71ab7d2c701ca7d", "author": {"user": {"login": "Zelldon", "name": "Christopher Zell"}}, "url": "https://github.com/camunda-cloud/zeebe/commit/19ae0068bfe92a151c0656e9f71ab7d2c701ca7d", "committedDate": "2020-05-28T08:18:18Z", "message": "chore(atomix): remove thread sleep"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2841, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}