{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE3NjMwNTI3", "number": 5792, "title": "Remove usage of Throwable#printStackTrace from production code", "bodyText": "Description\nThis PR removes usage of Throwable#printStackTrace() from our production code, notably in the actor scheduler, and replaces it with standard org.slf4j.Logger#error.\nRelated issues\ncloses #4867\nDefinition of Done\nNot all items need to be done depending on the issue and the pull request.\nCode changes:\n\n The changes are backwards compatibility with previous versions\n If it fixes a bug then PRs are created to backport the fix to the last two minor versions\n\nTesting:\n\n There are unit/integration tests that verify all acceptance criterias of the issue\n New tests are written to ensure backwards compatibility with further versions\n The behavior is tested manually\n The impact of the changes is verified by a benchmark\n\nDocumentation:\n\n The documentation is updated (e.g. BPMN reference, configuration, examples, get-started guides, etc.)\n New content is added to the release announcement", "createdAt": "2020-11-09T09:47:42Z", "url": "https://github.com/camunda-cloud/zeebe/pull/5792", "merged": true, "mergeCommit": {"oid": "011111828e64c117530b97c259c788106302f457"}, "closed": true, "closedAt": "2020-11-10T11:38:50Z", "author": {"login": "npepinpe"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdbBvQrgFqTUyNjg0NDY4OA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdbF_oUgBqjM5Nzc5MTAzMjc=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI2ODQ0Njg4", "url": "https://github.com/camunda-cloud/zeebe/pull/5792#pullrequestreview-526844688", "createdAt": "2020-11-10T04:30:09Z", "commit": {"oid": "49246a4cee5476c71483e057cf7f75beb4558b20"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMFQwNDozMDowOVrOHwLVFQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMFQwNDozMDo1MFrOHwLVtQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDI3OTMxNw==", "bodyText": "Shouldn't we use the existing ActorLogger?\nhttps://github.com/zeebe-io/zeebe/blob/develop/util/src/main/java/io/zeebe/util/Loggers.java#L16", "url": "https://github.com/camunda-cloud/zeebe/pull/5792#discussion_r520279317", "createdAt": "2020-11-10T04:30:09Z", "author": {"login": "saig0"}, "path": "util/src/main/java/io/zeebe/util/sched/ActorThread.java", "diffHunk": "@@ -32,13 +32,16 @@\n import org.agrona.UnsafeAccess;\n import org.agrona.concurrent.BackoffIdleStrategy;\n import org.agrona.concurrent.ManyToManyConcurrentArrayQueue;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n import org.slf4j.MDC;\n import sun.misc.Unsafe;\n \n @SuppressWarnings(\"restriction\")\n public class ActorThread extends Thread implements Consumer<Runnable> {\n   static final Unsafe UNSAFE = UnsafeAccess.UNSAFE;\n   private static final long STATE_OFFSET;\n+  private static final Logger LOG = LoggerFactory.getLogger(ActorThread.class);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "49246a4cee5476c71483e057cf7f75beb4558b20"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDI3OTQ3Nw==", "bodyText": "Shouldn't we use the existing SystemLogger? https://github.com/zeebe-io/zeebe/blob/develop/broker/src/main/java/io/zeebe/broker/Loggers.java#L16", "url": "https://github.com/camunda-cloud/zeebe/pull/5792#discussion_r520279477", "createdAt": "2020-11-10T04:30:50Z", "author": {"login": "saig0"}, "path": "dist/src/main/java/io/zeebe/broker/StandaloneBroker.java", "diffHunk": "@@ -28,6 +31,7 @@\n @SpringBootApplication(exclude = ElasticsearchRestClientAutoConfiguration.class)\n @ComponentScan({\"io.zeebe.broker\", \"io.zeebe.shared\"})\n public class StandaloneBroker implements CommandLineRunner {\n+  private static final Logger LOG = LoggerFactory.getLogger(StandaloneBroker.class);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "49246a4cee5476c71483e057cf7f75beb4558b20"}, "originalPosition": 18}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI3MDExOTU4", "url": "https://github.com/camunda-cloud/zeebe/pull/5792#pullrequestreview-527011958", "createdAt": "2020-11-10T09:31:24Z", "commit": {"oid": "6bc38287d6f76a6e33115ba868cb6a13acf67f03"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "abd732767593f420b93d4e6d19b45dd5cb46926f", "author": {"user": {"login": "npepinpe", "name": "Nicolas Pepin-Perreault"}}, "url": "https://github.com/camunda-cloud/zeebe/commit/abd732767593f420b93d4e6d19b45dd5cb46926f", "committedDate": "2020-11-10T09:32:04Z", "message": "fix(util): use loggers instead of printStackTrace"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c3a9b7cb897133e5bab974b71876776936a666f9", "author": {"user": {"login": "npepinpe", "name": "Nicolas Pepin-Perreault"}}, "url": "https://github.com/camunda-cloud/zeebe/commit/c3a9b7cb897133e5bab974b71876776936a666f9", "committedDate": "2020-11-10T09:32:05Z", "message": "fix(dist): use loggers instead of printStackTrace"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6bc38287d6f76a6e33115ba868cb6a13acf67f03", "author": {"user": {"login": "npepinpe", "name": "Nicolas Pepin-Perreault"}}, "url": "https://github.com/camunda-cloud/zeebe/commit/6bc38287d6f76a6e33115ba868cb6a13acf67f03", "committedDate": "2020-11-10T07:43:01Z", "message": "chore(util): remove old license and use actor logger"}, "afterCommit": {"oid": "c3a9b7cb897133e5bab974b71876776936a666f9", "author": {"user": {"login": "npepinpe", "name": "Nicolas Pepin-Perreault"}}, "url": "https://github.com/camunda-cloud/zeebe/commit/c3a9b7cb897133e5bab974b71876776936a666f9", "committedDate": "2020-11-10T09:32:05Z", "message": "fix(dist): use loggers instead of printStackTrace"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2368, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}