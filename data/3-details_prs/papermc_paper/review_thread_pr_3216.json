{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA4Nzk5NTEx", "number": 3216, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQyMjo1Nzo0OFrOD1_Icg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQyMjo1Nzo0OFrOD1_Icg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU3OTM1NDc0OnYy", "diffSide": "RIGHT", "path": "Spigot-API-Patches/0199-Fix-Potion-toItemStack-swapping-the-extended-and-upg.patch", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQyMjo1Nzo0OFrOGLr8ZQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQyMjo1Nzo0OFrOGLr8ZQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDkwNzQ5Mw==", "bodyText": "// Paper", "url": "https://github.com/PaperMC/Paper/pull/3216#discussion_r414907493", "createdAt": "2020-04-24T22:57:48Z", "author": {"login": "electronicboy"}, "path": "Spigot-API-Patches/0199-Fix-Potion-toItemStack-swapping-the-extended-and-upg.patch", "diffHunk": "@@ -0,0 +1,24 @@\n+From 18d5937e2112275841eabeabf264404b31c0a687 Mon Sep 17 00:00:00 2001\n+From: Wesley Smith <me@wesjd.net>\n+Date: Fri, 24 Apr 2020 18:30:26 -0400\n+Subject: [PATCH] Fix Potion#toItemStack swapping the extended and upgraded\n+ constructor values.\n+\n+While the Potion class is deprecated, it is still used in some plugins for cross-version potion handling. This issue has existed for a long time, and has caused many heaches along the way.\n+\n+diff --git a/src/main/java/org/bukkit/potion/Potion.java b/src/main/java/org/bukkit/potion/Potion.java\n+index b9dbbfd0..b9fcda22 100644\n+--- a/src/main/java/org/bukkit/potion/Potion.java\n++++ b/src/main/java/org/bukkit/potion/Potion.java\n+@@ -267,7 +267,7 @@ public class Potion {\n+         }\n+         ItemStack itemStack = new ItemStack(material, amount);\n+         PotionMeta meta = (PotionMeta) itemStack.getItemMeta();\n+-        meta.setBasePotionData(new PotionData(type, level == 2, extended));\n++        meta.setBasePotionData(new PotionData(type, extended, level == 2));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "41191e90927b29dcc5f8b8b8dd61a126167d3e55"}, "originalPosition": 18}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1652, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}