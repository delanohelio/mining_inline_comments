{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc0OTEwMzM4", "number": 4230, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQxODo1NToyM1rOEd2wwg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQwMjo1MzozNlrOEtS2ww==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk5NzQxMzc4OnYy", "diffSide": "RIGHT", "path": "Spigot-API-Patches/0222-Add-PlayerShearBlockEvent.patch", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQxODo1NToyM1rOHJRNbA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQxODo1NToyM1rOHJRNbA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTQ4MTE5Ng==", "bodyText": "io.papermc.paper.event.block", "url": "https://github.com/PaperMC/Paper/pull/4230#discussion_r479481196", "createdAt": "2020-08-28T18:55:23Z", "author": {"login": "Proximyst"}, "path": "Spigot-API-Patches/0222-Add-PlayerShearBlockEvent.patch", "diffHunk": "@@ -0,0 +1,123 @@\n+From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001\n+From: JRoy <joshroy126@gmail.com>\n+Date: Thu, 27 Aug 2020 12:32:35 -0400\n+Subject: [PATCH] Add PlayerShearBlockEvent\n+\n+\n+diff --git a/src/main/java/com/destroystokyo/paper/event/block/PlayerShearBlockEvent.java b/src/main/java/com/destroystokyo/paper/event/block/PlayerShearBlockEvent.java\n+new file mode 100644\n+index 0000000000000000000000000000000000000000..3b5dedb1da85a21ebeda5842226307623c9aa249\n+--- /dev/null\n++++ b/src/main/java/com/destroystokyo/paper/event/block/PlayerShearBlockEvent.java\n+@@ -0,0 +1,111 @@\n++package com.destroystokyo.paper.event.block;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "37143b8a7fa8cad0f7b017a8255e7ac0443ca380"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE1OTMwMDIzOnYy", "diffSide": "RIGHT", "path": "Spigot-Server-Patches/0592-Add-PlayerShearBlockEvent.patch", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQwMjo1MTozM1rOHhAP1Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yOVQwNjo0Njo0N1rOH7gwIQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDM2OTEwOQ==", "bodyText": "Please keep the OBF helper to the first example right above it,\nhttps://github.com/PaperMC/Paper/blob/master/CONTRIBUTING.md#obfuscation-helpers\nThis just creates extra noisy diffs", "url": "https://github.com/PaperMC/Paper/pull/4230#discussion_r504369109", "createdAt": "2020-10-14T02:51:33Z", "author": {"login": "electronicboy"}, "path": "Spigot-Server-Patches/0592-Add-PlayerShearBlockEvent.patch", "diffHunk": "@@ -0,0 +1,94 @@\n+From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001\n+From: JRoy <joshroy126@gmail.com>\n+Date: Thu, 27 Aug 2020 15:02:48 -0400\n+Subject: [PATCH] Add PlayerShearBlockEvent\n+\n+\n+diff --git a/src/main/java/net/minecraft/server/BlockBeehive.java b/src/main/java/net/minecraft/server/BlockBeehive.java\n+index 7e2c63e4731ac2d234d5f90eb80d314cdede07ca..b95c602e89aa1dd55b1c76cce26d48943abf4cff 100644\n+--- a/src/main/java/net/minecraft/server/BlockBeehive.java\n++++ b/src/main/java/net/minecraft/server/BlockBeehive.java\n+@@ -1,5 +1,7 @@\n+ package net.minecraft.server;\n+ \n++import io.papermc.paper.event.block.PlayerShearBlockEvent; // Paper - PlayerShearBlockEvent namespace conflicts\n++\n+ import java.util.Iterator;\n+ import java.util.List;\n+ import java.util.Random;\n+@@ -63,7 +65,13 @@ public class BlockBeehive extends BlockTileEntity {\n+     }\n+ \n+     public static void a(World world, BlockPosition blockposition) {\n+-        a(world, blockposition, new ItemStack(Items.HONEYCOMB, 3));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "15b95425193f605ae0aba7618044803a92197872"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjE2NDY0MQ==", "bodyText": "Looking back at this, this was the \"wrong\" change, if you just want an OBFHELPER, it should be added to Block, so that that a method is mapped (ideally in MCUtils for later calls) for anything that wants to call it, as this is not so much an obfhelper here but a behavioral change to the method in the name of an obfhelper, beyond that, looks ok", "url": "https://github.com/PaperMC/Paper/pull/4230#discussion_r532164641", "createdAt": "2020-11-29T06:46:47Z", "author": {"login": "electronicboy"}, "path": "Spigot-Server-Patches/0592-Add-PlayerShearBlockEvent.patch", "diffHunk": "@@ -0,0 +1,94 @@\n+From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001\n+From: JRoy <joshroy126@gmail.com>\n+Date: Thu, 27 Aug 2020 15:02:48 -0400\n+Subject: [PATCH] Add PlayerShearBlockEvent\n+\n+\n+diff --git a/src/main/java/net/minecraft/server/BlockBeehive.java b/src/main/java/net/minecraft/server/BlockBeehive.java\n+index 7e2c63e4731ac2d234d5f90eb80d314cdede07ca..b95c602e89aa1dd55b1c76cce26d48943abf4cff 100644\n+--- a/src/main/java/net/minecraft/server/BlockBeehive.java\n++++ b/src/main/java/net/minecraft/server/BlockBeehive.java\n+@@ -1,5 +1,7 @@\n+ package net.minecraft.server;\n+ \n++import io.papermc.paper.event.block.PlayerShearBlockEvent; // Paper - PlayerShearBlockEvent namespace conflicts\n++\n+ import java.util.Iterator;\n+ import java.util.List;\n+ import java.util.Random;\n+@@ -63,7 +65,13 @@ public class BlockBeehive extends BlockTileEntity {\n+     }\n+ \n+     public static void a(World world, BlockPosition blockposition) {\n+-        a(world, blockposition, new ItemStack(Items.HONEYCOMB, 3));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDM2OTEwOQ=="}, "originalCommit": {"oid": "15b95425193f605ae0aba7618044803a92197872"}, "originalPosition": 23}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE1OTMwMzA3OnYy", "diffSide": "RIGHT", "path": "Spigot-API-Patches/0231-Add-PlayerShearBlockEvent.patch", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQwMjo1MzozNlrOHhARoA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQwMzo0OTo0MlrOHhBLhQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDM2OTU2OA==", "bodyText": "This shouldn't be nullable, ex; making blocks which don't drop items, drop items", "url": "https://github.com/PaperMC/Paper/pull/4230#discussion_r504369568", "createdAt": "2020-10-14T02:53:36Z", "author": {"login": "electronicboy"}, "path": "Spigot-API-Patches/0231-Add-PlayerShearBlockEvent.patch", "diffHunk": "@@ -0,0 +1,123 @@\n+From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001\n+From: JRoy <joshroy126@gmail.com>\n+Date: Thu, 27 Aug 2020 12:32:35 -0400\n+Subject: [PATCH] Add PlayerShearBlockEvent\n+\n+\n+diff --git a/src/main/java/io/papermc/paper/event/block/PlayerShearBlockEvent.java b/src/main/java/io/papermc/paper/event/block/PlayerShearBlockEvent.java\n+new file mode 100644\n+index 0000000000000000000000000000000000000000..7d945de6394cf73dc47c715eb865477fde62d1fa\n+--- /dev/null\n++++ b/src/main/java/io/papermc/paper/event/block/PlayerShearBlockEvent.java\n+@@ -0,0 +1,111 @@\n++package io.papermc.paper.event.block;\n++\n++import org.bukkit.block.Block;\n++import org.bukkit.entity.Player;\n++import org.bukkit.event.Cancellable;\n++import org.bukkit.event.HandlerList;\n++import org.bukkit.event.player.PlayerEvent;\n++import org.bukkit.inventory.EquipmentSlot;\n++import org.bukkit.inventory.ItemStack;\n++import org.jetbrains.annotations.NotNull;\n++import org.jetbrains.annotations.Nullable;\n++\n++import java.util.List;\n++\n++/**\n++ * Called when a player uses sheers on a block.\n++ * <p>\n++ * This event is <b>not</b> called when breaking blocks with shears but instead only when a\n++ * player uses the sheer item on a block to garner drops from said block and/or change its state.\n++ * <p>\n++ * Examples include shearing a pumpkin to turn it into a carved pumpkin or shearing a beehive to get honeycomb.\n++ */\n++public class PlayerShearBlockEvent extends PlayerEvent implements Cancellable {\n++    private static final HandlerList handlers = new HandlerList();\n++    private boolean cancelled = false;\n++    private final Block block;\n++    private final ItemStack item;\n++    private final EquipmentSlot hand;\n++    private final List<ItemStack> drops;\n++\n++    public PlayerShearBlockEvent(@NotNull Player who, @NotNull Block block, @NotNull ItemStack item, @NotNull EquipmentSlot hand, @Nullable List<ItemStack> drops) {\n++        super(who);\n++        this.block = block;\n++        this.item = item;\n++        this.hand = hand;\n++        this.drops = drops;\n++    }\n++\n++    /**\n++     * Gets the block being sheared in this event.\n++     *\n++     * @return The {@link Block} which block is being sheared in this event.\n++     */\n++    @NotNull\n++    public Block getBlock() {\n++        return block;\n++    }\n++\n++    /**\n++     * Gets the item used to shear the block.\n++     *\n++     * @return The {@link ItemStack} of the shears.\n++     */\n++    @NotNull\n++    public ItemStack getItem() {\n++        return item;\n++    }\n++\n++    /**\n++     * Gets the hand used to shear the block.\n++     *\n++     * @return Either {@link EquipmentSlot#HAND} OR {@link EquipmentSlot#OFF_HAND}.\n++     */\n++    @NotNull\n++    public EquipmentSlot getHand() {\n++        return hand;\n++    }\n++\n++    /**\n++     * Gets the resulting drops of this event.\n++     *\n++     * This may return null in the future if Mojang adds a use for shears that do not drop items.\n++     *\n++     * @return A {@link List list} of {@link ItemStack items} that will be dropped as result of this event.\n++     */\n++    @Nullable\n++    public List<ItemStack> getDrops() {\n++        return drops;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "15b95425193f605ae0aba7618044803a92197872"}, "originalPosition": 90}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDM4NDM4OQ==", "bodyText": "No idea why I made this nullable as it's never null 0_o", "url": "https://github.com/PaperMC/Paper/pull/4230#discussion_r504384389", "createdAt": "2020-10-14T03:49:42Z", "author": {"login": "JRoy"}, "path": "Spigot-API-Patches/0231-Add-PlayerShearBlockEvent.patch", "diffHunk": "@@ -0,0 +1,123 @@\n+From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001\n+From: JRoy <joshroy126@gmail.com>\n+Date: Thu, 27 Aug 2020 12:32:35 -0400\n+Subject: [PATCH] Add PlayerShearBlockEvent\n+\n+\n+diff --git a/src/main/java/io/papermc/paper/event/block/PlayerShearBlockEvent.java b/src/main/java/io/papermc/paper/event/block/PlayerShearBlockEvent.java\n+new file mode 100644\n+index 0000000000000000000000000000000000000000..7d945de6394cf73dc47c715eb865477fde62d1fa\n+--- /dev/null\n++++ b/src/main/java/io/papermc/paper/event/block/PlayerShearBlockEvent.java\n+@@ -0,0 +1,111 @@\n++package io.papermc.paper.event.block;\n++\n++import org.bukkit.block.Block;\n++import org.bukkit.entity.Player;\n++import org.bukkit.event.Cancellable;\n++import org.bukkit.event.HandlerList;\n++import org.bukkit.event.player.PlayerEvent;\n++import org.bukkit.inventory.EquipmentSlot;\n++import org.bukkit.inventory.ItemStack;\n++import org.jetbrains.annotations.NotNull;\n++import org.jetbrains.annotations.Nullable;\n++\n++import java.util.List;\n++\n++/**\n++ * Called when a player uses sheers on a block.\n++ * <p>\n++ * This event is <b>not</b> called when breaking blocks with shears but instead only when a\n++ * player uses the sheer item on a block to garner drops from said block and/or change its state.\n++ * <p>\n++ * Examples include shearing a pumpkin to turn it into a carved pumpkin or shearing a beehive to get honeycomb.\n++ */\n++public class PlayerShearBlockEvent extends PlayerEvent implements Cancellable {\n++    private static final HandlerList handlers = new HandlerList();\n++    private boolean cancelled = false;\n++    private final Block block;\n++    private final ItemStack item;\n++    private final EquipmentSlot hand;\n++    private final List<ItemStack> drops;\n++\n++    public PlayerShearBlockEvent(@NotNull Player who, @NotNull Block block, @NotNull ItemStack item, @NotNull EquipmentSlot hand, @Nullable List<ItemStack> drops) {\n++        super(who);\n++        this.block = block;\n++        this.item = item;\n++        this.hand = hand;\n++        this.drops = drops;\n++    }\n++\n++    /**\n++     * Gets the block being sheared in this event.\n++     *\n++     * @return The {@link Block} which block is being sheared in this event.\n++     */\n++    @NotNull\n++    public Block getBlock() {\n++        return block;\n++    }\n++\n++    /**\n++     * Gets the item used to shear the block.\n++     *\n++     * @return The {@link ItemStack} of the shears.\n++     */\n++    @NotNull\n++    public ItemStack getItem() {\n++        return item;\n++    }\n++\n++    /**\n++     * Gets the hand used to shear the block.\n++     *\n++     * @return Either {@link EquipmentSlot#HAND} OR {@link EquipmentSlot#OFF_HAND}.\n++     */\n++    @NotNull\n++    public EquipmentSlot getHand() {\n++        return hand;\n++    }\n++\n++    /**\n++     * Gets the resulting drops of this event.\n++     *\n++     * This may return null in the future if Mojang adds a use for shears that do not drop items.\n++     *\n++     * @return A {@link List list} of {@link ItemStack items} that will be dropped as result of this event.\n++     */\n++    @Nullable\n++    public List<ItemStack> getDrops() {\n++        return drops;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDM2OTU2OA=="}, "originalCommit": {"oid": "15b95425193f605ae0aba7618044803a92197872"}, "originalPosition": 90}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1797, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}