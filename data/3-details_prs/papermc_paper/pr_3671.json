{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQxMDk5ODUy", "number": 3671, "title": "[1.15] Fix MobGoals#getAllGoals not actually returning all goals", "bodyText": "Basically, there are goals, that don't have a goal type, so the api wouldn't return those goals, nor remove them.\nExamples are enderman pickup and placement of blocks.\nThis PR fixes that, by making sure all goals have a type", "createdAt": "2020-06-28T19:04:30Z", "url": "https://github.com/PaperMC/Paper/pull/3671", "merged": true, "mergeCommit": {"oid": "3fc9899921e739e4b6365ce5c031a7a06a89014b"}, "closed": true, "closedAt": "2020-06-28T19:57:00Z", "author": {"login": "MiniDigger"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcvxW9egFqTQzODgwNTcyMg==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcvxeULgBqjM0OTA1OTcwNzA=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM4ODA1NzIy", "url": "https://github.com/PaperMC/Paper/pull/3671#pullrequestreview-438805722", "createdAt": "2020-06-28T19:10:51Z", "commit": {"oid": "e407a6a8db796da55e55ac9f2da06373a9bad35e"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOFQxOToxMDo1MVrOGp_mqQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOFQxOToxMDo1MVrOGp_mqQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjY4Njg4OQ==", "bodyText": "this should be added at the end to not be an API break for ordinal", "url": "https://github.com/PaperMC/Paper/pull/3671#discussion_r446686889", "createdAt": "2020-06-28T19:10:51Z", "author": {"login": "aikar"}, "path": "Spigot-Server-Patches/0499-Implement-Mob-Goal-API.patch", "diffHunk": "@@ -779,6 +795,22 @@ index 93009d83f07bdaf7bc424ffb99cbfe716ca0d66d..f1c4ce9e4b83aa966b4ae4dcd6a283e0\n          // Paper start - remove streams from pathfindergoalselector\n          this.goalTypes.clear();\n          this.goalTypes.addAllUnchecked(enumset);\n++        // make sure its never empty\n++        if (this.goalTypes.size() == 0) {\n++            this.goalTypes.addUnchecked(Type.UNKNOWN_BEHAVIOR);\n++        }\n+         // Paper end - remove streams from pathfindergoalselector\n+     }\n+ \n+@@ -48,7 +58,7 @@ public abstract class PathfinderGoal {\n+ \n+     public static enum Type {\n+ \n+-        MOVE, LOOK, JUMP, TARGET;\n++        MOVE, LOOK, JUMP, UNKNOWN_BEHAVIOR, TARGET; // Paper - add unknown", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e407a6a8db796da55e55ac9f2da06373a9bad35e"}, "originalPosition": 104}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ff51c8296e5f9866b8c11fb00672f0df55d96331", "author": {"user": {"login": "MiniDigger", "name": "MiniDigger | Martin"}}, "url": "https://github.com/PaperMC/Paper/commit/ff51c8296e5f9866b8c11fb00672f0df55d96331", "committedDate": "2020-06-28T19:18:49Z", "message": "Fix MobGoals#getAllGoals not actually returning all goals"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e407a6a8db796da55e55ac9f2da06373a9bad35e", "author": {"user": {"login": "MiniDigger", "name": "MiniDigger | Martin"}}, "url": "https://github.com/PaperMC/Paper/commit/e407a6a8db796da55e55ac9f2da06373a9bad35e", "committedDate": "2020-06-28T19:02:06Z", "message": "Fix MobGoals#getAllGoals not actually returning all goals"}, "afterCommit": {"oid": "ff51c8296e5f9866b8c11fb00672f0df55d96331", "author": {"user": {"login": "MiniDigger", "name": "MiniDigger | Martin"}}, "url": "https://github.com/PaperMC/Paper/commit/ff51c8296e5f9866b8c11fb00672f0df55d96331", "committedDate": "2020-06-28T19:18:49Z", "message": "Fix MobGoals#getAllGoals not actually returning all goals"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1804, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}