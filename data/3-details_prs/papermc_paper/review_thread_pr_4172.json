{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDcxOTYyNjIw", "number": 4172, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMlQxMDoyMDowOVrOEbNHuA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yM1QxNDoxNzoxNFrOEbUmYw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk2OTYxOTc2OnYy", "diffSide": "RIGHT", "path": "scripts/requireDeps.sh", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMlQxMDoyMDowOVrOHFEVNQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMlQxMDoyNjozM1rOHFEXEQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTA3NTg5Mw==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            #!/bin/sh\n          \n          \n            \n            #!/usr/bin/env sh", "url": "https://github.com/PaperMC/Paper/pull/4172#discussion_r475075893", "createdAt": "2020-08-22T10:20:09Z", "author": {"login": "Prof-Bloodstone"}, "path": "scripts/requireDeps.sh", "diffHunk": "@@ -0,0 +1,28 @@\n+#!/bin/sh", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b3ae2afa8229a643e100295f25921b5e439eae11"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTA3NjM2OQ==", "bodyText": "POSIX defines that /bin/sh must be a shell, always. No need to use env for this.", "url": "https://github.com/PaperMC/Paper/pull/4172#discussion_r475076369", "createdAt": "2020-08-22T10:26:33Z", "author": {"login": "Proximyst"}, "path": "scripts/requireDeps.sh", "diffHunk": "@@ -0,0 +1,28 @@\n+#!/bin/sh", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTA3NTg5Mw=="}, "originalCommit": {"oid": "b3ae2afa8229a643e100295f25921b5e439eae11"}, "originalPosition": 1}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk3MDg0NTE1OnYy", "diffSide": "RIGHT", "path": "scripts/requireDeps.sh", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yM1QxNDoxNzoxNFrOHFNbTg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yM1QxNDoxNzoxNFrOHFNbTg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTIyNDkxMA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    _is_dep_available javac \"was not found; you can download the JDK from https://adoptopenjdk.net/ or your package manager\"\n          \n          \n            \n                    _is_dep_available javac \"was not found; you can download the JDK from https://adoptopenjdk.net/ or via your package manager\"", "url": "https://github.com/PaperMC/Paper/pull/4172#discussion_r475224910", "createdAt": "2020-08-23T14:17:14Z", "author": {"login": "kashike"}, "path": "scripts/requireDeps.sh", "diffHunk": "@@ -0,0 +1,28 @@\n+#!/bin/sh\n+set -ue\n+\n+# Check if an application is on the PATH.\n+# If it is not, return with non-zero.\n+_is_dep_available() {\n+\tcommand -v \"$1\" >/dev/null || (echo \"$1 ${2:-was not found and is a required dependency}\"; return 1)\n+}\n+\n+if [ -z \"${1:-}\" ]; then\n+    # No specific dependency was found; let's just check for all required ones.\n+    _is_dep_available git\n+    _is_dep_available patch\n+    _is_dep_available mvn\n+\n+    # Ensure we don't have a JAVA_HOME set first.\n+    # Maven should work fine without the JAVA_HOME var as long as the JDK is on the PATH.\n+    if [ -z \"${JAVA_HOME:-}\" ]; then\n+        _is_dep_available javac \"was not found; you can download the JDK from https://adoptopenjdk.net/ or your package manager\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b3ae2afa8229a643e100295f25921b5e439eae11"}, "originalPosition": 19}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1912, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}