{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQ1ODY0NzEz", "number": 4950, "title": "Cache burn durations", "bodyText": "Cache the results of TileEntityFurnace.f() (which returns a map containing all fuel items along with their burn duration).  This optimizes the TileEntityFurnace.isFuel(ItemStack) function, which is called whenever a hopper pushes an item into a furnace\n( https://imgur.com/a/X4kndsx ).", "createdAt": "2020-12-27T22:19:24Z", "url": "https://github.com/PaperMC/Paper/pull/4950", "merged": true, "mergeCommit": {"oid": "525b50737a8e7e2fdc530688f893a2a8ca5fa62b"}, "closed": true, "closedAt": "2021-01-01T15:56:51Z", "author": {"login": "lukalt"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdqZLK-gFqTU1ODk2MjE3Mg==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdr6nCrgFqTU2MDU5MjkxNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU4OTYyMTcy", "url": "https://github.com/PaperMC/Paper/pull/4950#pullrequestreview-558962172", "createdAt": "2020-12-27T22:21:40Z", "commit": {"oid": "37749d3c2176f683ff0b3c38b8d99fe3b7acaca6"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yN1QyMjoyMTo0MFrOILuvMA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yN1QyMjoyMTo0MFrOILuvMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTE3MDk5Mg==", "bodyText": "f() needs an obfhelper", "url": "https://github.com/PaperMC/Paper/pull/4950#discussion_r549170992", "createdAt": "2020-12-27T22:21:40Z", "author": {"login": "JRoy"}, "path": "Spigot-Server-Patches/0615-Cache-burn-durations.patch", "diffHunk": "@@ -0,0 +1,45 @@\n+From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001\n+From: lukas <lukasalt98@gmail.com>\n+Date: Sun, 27 Dec 2020 16:47:00 +0100\n+Subject: [PATCH] Cache burn durations\n+\n+\n+diff --git a/src/main/java/net/minecraft/server/TileEntityFurnace.java b/src/main/java/net/minecraft/server/TileEntityFurnace.java\n+index 1d3c2dd93657fb5dc71ee6b444c585b54619d1e8..bee63e98f6eae581556a902b03a2f94fa71c1b69 100644\n+--- a/src/main/java/net/minecraft/server/TileEntityFurnace.java\n++++ b/src/main/java/net/minecraft/server/TileEntityFurnace.java\n+@@ -83,6 +83,16 @@ public abstract class TileEntityFurnace extends TileEntityContainer implements I\n+         this.c = recipes;\n+     }\n+ \n++    // Paper start - cache burn durations\n++    private static Map<Item, Integer> cachedBurnDurations;\n++    public static Map<Item, Integer> getBurnDurations() {\n++        if(cachedBurnDurations == null) {\n++            cachedBurnDurations = f();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "37749d3c2176f683ff0b3c38b8d99fe3b7acaca6"}, "originalPosition": 19}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTYwMjUyNDQ5", "url": "https://github.com/PaperMC/Paper/pull/4950#pullrequestreview-560252449", "createdAt": "2020-12-31T03:04:14Z", "commit": {"oid": "879f1344d79c318cd84e22440ced7195a1e088f8"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "14ad045050bef1769b47355621fb0c089eece1b6", "author": {"user": {"login": "lukalt", "name": "Lukas Alt"}}, "url": "https://github.com/PaperMC/Paper/commit/14ad045050bef1769b47355621fb0c089eece1b6", "committedDate": "2021-01-01T15:51:46Z", "message": "Cache burn durations"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "879f1344d79c318cd84e22440ced7195a1e088f8", "author": {"user": {"login": "lukalt", "name": "Lukas Alt"}}, "url": "https://github.com/PaperMC/Paper/commit/879f1344d79c318cd84e22440ced7195a1e088f8", "committedDate": "2020-12-29T13:36:40Z", "message": "use immutable map and added opfhelper"}, "afterCommit": {"oid": "14ad045050bef1769b47355621fb0c089eece1b6", "author": {"user": {"login": "lukalt", "name": "Lukas Alt"}}, "url": "https://github.com/PaperMC/Paper/commit/14ad045050bef1769b47355621fb0c089eece1b6", "committedDate": "2021-01-01T15:51:46Z", "message": "Cache burn durations"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTYwNTkyOTE0", "url": "https://github.com/PaperMC/Paper/pull/4950#pullrequestreview-560592914", "createdAt": "2021-01-01T15:53:07Z", "commit": {"oid": "14ad045050bef1769b47355621fb0c089eece1b6"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1400, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}