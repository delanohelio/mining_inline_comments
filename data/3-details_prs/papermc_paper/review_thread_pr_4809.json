{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI4MDM2ODg5", "number": 4809, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQxMjoxNjo0NlrOE9nHNA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQxMjoxNjo0NlrOE9nHNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMzMDM5NDEyOnYy", "diffSide": "RIGHT", "path": "Spigot-Server-Patches/0602-Add-toggle-for-always-placing-the-dragon-egg.patch", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQxMjoxNjo0NlrOH6ZByg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQxMjoxOTowMlrOH6ZGUA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDk4OTUxNA==", "bodyText": "Can you add obfhelpers please?", "url": "https://github.com/PaperMC/Paper/pull/4809#discussion_r530989514", "createdAt": "2020-11-26T12:16:46Z", "author": {"login": "l1ttleO"}, "path": "Spigot-Server-Patches/0602-Add-toggle-for-always-placing-the-dragon-egg.patch", "diffHunk": "@@ -0,0 +1,33 @@\n+From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001\n+From: HexedHero <6012891+HexedHero@users.noreply.github.com>\n+Date: Thu, 26 Nov 2020 11:47:24 +0000\n+Subject: [PATCH] Add toggle for always placing the dragon egg\n+\n+\n+diff --git a/src/main/java/com/destroystokyo/paper/PaperWorldConfig.java b/src/main/java/com/destroystokyo/paper/PaperWorldConfig.java\n+index 80b0c08cef9a5326492b1faec020929fca59ff77..8cf10a766d84630a1b0983e78bb3856fa805d565 100644\n+--- a/src/main/java/com/destroystokyo/paper/PaperWorldConfig.java\n++++ b/src/main/java/com/destroystokyo/paper/PaperWorldConfig.java\n+@@ -699,4 +699,9 @@ public class PaperWorldConfig {\n+         wanderingTraderSpawnChanceMin = getInt(\"wandering-trader.spawn-chance-min\", wanderingTraderSpawnChanceMin);\n+         wanderingTraderSpawnChanceMax = getInt(\"wandering-trader.spawn-chance-max\", wanderingTraderSpawnChanceMax);\n+     }\n++\n++    public boolean enderDragonsDeathAlwaysPlacesDragonEgg = false;\n++    private void enderDragonsDeathAlwaysPlacesDragonEgg() {\n++        enderDragonsDeathAlwaysPlacesDragonEgg = getBoolean(\"ender-dragons-death-always-places-dragon-egg\", enderDragonsDeathAlwaysPlacesDragonEgg);\n++    }\n+ }\n+diff --git a/src/main/java/net/minecraft/server/EnderDragonBattle.java b/src/main/java/net/minecraft/server/EnderDragonBattle.java\n+index 38dc6086d18951e065d4048d1d8eee288c5c5fd1..7f11adbc5d8527b50f7657d46459516a471017b3 100644\n+--- a/src/main/java/net/minecraft/server/EnderDragonBattle.java\n++++ b/src/main/java/net/minecraft/server/EnderDragonBattle.java\n+@@ -358,7 +358,7 @@ public class EnderDragonBattle {\n+             this.bossBattle.setVisible(false);\n+             this.generateExitPortal(true);\n+             this.n();\n+-            if (!this.previouslyKilled) {\n++            if (this.world.paperConfig.enderDragonsDeathAlwaysPlacesDragonEgg || !this.previouslyKilled) { // Paper - always place dragon egg\n+                 this.world.setTypeUpdate(this.world.getHighestBlockYAt(HeightMap.Type.MOTION_BLOCKING, WorldGenEndTrophy.a), Blocks.DRAGON_EGG.getBlockData());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e500973332ca83e2b85153656a639c67c3eb663b"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDk5MDQzOQ==", "bodyText": "Not needed here...", "url": "https://github.com/PaperMC/Paper/pull/4809#discussion_r530990439", "createdAt": "2020-11-26T12:18:38Z", "author": {"login": "electronicboy"}, "path": "Spigot-Server-Patches/0602-Add-toggle-for-always-placing-the-dragon-egg.patch", "diffHunk": "@@ -0,0 +1,33 @@\n+From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001\n+From: HexedHero <6012891+HexedHero@users.noreply.github.com>\n+Date: Thu, 26 Nov 2020 11:47:24 +0000\n+Subject: [PATCH] Add toggle for always placing the dragon egg\n+\n+\n+diff --git a/src/main/java/com/destroystokyo/paper/PaperWorldConfig.java b/src/main/java/com/destroystokyo/paper/PaperWorldConfig.java\n+index 80b0c08cef9a5326492b1faec020929fca59ff77..8cf10a766d84630a1b0983e78bb3856fa805d565 100644\n+--- a/src/main/java/com/destroystokyo/paper/PaperWorldConfig.java\n++++ b/src/main/java/com/destroystokyo/paper/PaperWorldConfig.java\n+@@ -699,4 +699,9 @@ public class PaperWorldConfig {\n+         wanderingTraderSpawnChanceMin = getInt(\"wandering-trader.spawn-chance-min\", wanderingTraderSpawnChanceMin);\n+         wanderingTraderSpawnChanceMax = getInt(\"wandering-trader.spawn-chance-max\", wanderingTraderSpawnChanceMax);\n+     }\n++\n++    public boolean enderDragonsDeathAlwaysPlacesDragonEgg = false;\n++    private void enderDragonsDeathAlwaysPlacesDragonEgg() {\n++        enderDragonsDeathAlwaysPlacesDragonEgg = getBoolean(\"ender-dragons-death-always-places-dragon-egg\", enderDragonsDeathAlwaysPlacesDragonEgg);\n++    }\n+ }\n+diff --git a/src/main/java/net/minecraft/server/EnderDragonBattle.java b/src/main/java/net/minecraft/server/EnderDragonBattle.java\n+index 38dc6086d18951e065d4048d1d8eee288c5c5fd1..7f11adbc5d8527b50f7657d46459516a471017b3 100644\n+--- a/src/main/java/net/minecraft/server/EnderDragonBattle.java\n++++ b/src/main/java/net/minecraft/server/EnderDragonBattle.java\n+@@ -358,7 +358,7 @@ public class EnderDragonBattle {\n+             this.bossBattle.setVisible(false);\n+             this.generateExitPortal(true);\n+             this.n();\n+-            if (!this.previouslyKilled) {\n++            if (this.world.paperConfig.enderDragonsDeathAlwaysPlacesDragonEgg || !this.previouslyKilled) { // Paper - always place dragon egg\n+                 this.world.setTypeUpdate(this.world.getHighestBlockYAt(HeightMap.Type.MOTION_BLOCKING, WorldGenEndTrophy.a), Blocks.DRAGON_EGG.getBlockData());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDk4OTUxNA=="}, "originalCommit": {"oid": "e500973332ca83e2b85153656a639c67c3eb663b"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDk5MDY3Mg==", "bodyText": "Sorry", "url": "https://github.com/PaperMC/Paper/pull/4809#discussion_r530990672", "createdAt": "2020-11-26T12:19:02Z", "author": {"login": "l1ttleO"}, "path": "Spigot-Server-Patches/0602-Add-toggle-for-always-placing-the-dragon-egg.patch", "diffHunk": "@@ -0,0 +1,33 @@\n+From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001\n+From: HexedHero <6012891+HexedHero@users.noreply.github.com>\n+Date: Thu, 26 Nov 2020 11:47:24 +0000\n+Subject: [PATCH] Add toggle for always placing the dragon egg\n+\n+\n+diff --git a/src/main/java/com/destroystokyo/paper/PaperWorldConfig.java b/src/main/java/com/destroystokyo/paper/PaperWorldConfig.java\n+index 80b0c08cef9a5326492b1faec020929fca59ff77..8cf10a766d84630a1b0983e78bb3856fa805d565 100644\n+--- a/src/main/java/com/destroystokyo/paper/PaperWorldConfig.java\n++++ b/src/main/java/com/destroystokyo/paper/PaperWorldConfig.java\n+@@ -699,4 +699,9 @@ public class PaperWorldConfig {\n+         wanderingTraderSpawnChanceMin = getInt(\"wandering-trader.spawn-chance-min\", wanderingTraderSpawnChanceMin);\n+         wanderingTraderSpawnChanceMax = getInt(\"wandering-trader.spawn-chance-max\", wanderingTraderSpawnChanceMax);\n+     }\n++\n++    public boolean enderDragonsDeathAlwaysPlacesDragonEgg = false;\n++    private void enderDragonsDeathAlwaysPlacesDragonEgg() {\n++        enderDragonsDeathAlwaysPlacesDragonEgg = getBoolean(\"ender-dragons-death-always-places-dragon-egg\", enderDragonsDeathAlwaysPlacesDragonEgg);\n++    }\n+ }\n+diff --git a/src/main/java/net/minecraft/server/EnderDragonBattle.java b/src/main/java/net/minecraft/server/EnderDragonBattle.java\n+index 38dc6086d18951e065d4048d1d8eee288c5c5fd1..7f11adbc5d8527b50f7657d46459516a471017b3 100644\n+--- a/src/main/java/net/minecraft/server/EnderDragonBattle.java\n++++ b/src/main/java/net/minecraft/server/EnderDragonBattle.java\n+@@ -358,7 +358,7 @@ public class EnderDragonBattle {\n+             this.bossBattle.setVisible(false);\n+             this.generateExitPortal(true);\n+             this.n();\n+-            if (!this.previouslyKilled) {\n++            if (this.world.paperConfig.enderDragonsDeathAlwaysPlacesDragonEgg || !this.previouslyKilled) { // Paper - always place dragon egg\n+                 this.world.setTypeUpdate(this.world.getHighestBlockYAt(HeightMap.Type.MOTION_BLOCKING, WorldGenEndTrophy.a), Blocks.DRAGON_EGG.getBlockData());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDk4OTUxNA=="}, "originalCommit": {"oid": "e500973332ca83e2b85153656a639c67c3eb663b"}, "originalPosition": 31}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1762, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}