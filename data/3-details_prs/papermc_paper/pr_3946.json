{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDUyMjI5Nzk5", "number": 3946, "title": "Add getDestroySpeed to Block API", "bodyText": "Allows plugins to get the base speed at which an ItemStack destroys a Block, useful for determining if an ItemStack is a \"proper\" tool to mine a Block.", "createdAt": "2020-07-19T00:32:03Z", "url": "https://github.com/PaperMC/Paper/pull/3946", "merged": true, "mergeCommit": {"oid": "ab1a7c94df1536b83ae61c6ab773b683a8cb6e67"}, "closed": true, "closedAt": "2020-11-28T22:56:36Z", "author": {"login": "Ineusia"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc2R-PrAFqTQ1MTA5MDE1Mw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdhEP2SAFqTU0MDQyMjQzNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUxMDkwMTUz", "url": "https://github.com/PaperMC/Paper/pull/3946#pullrequestreview-451090153", "createdAt": "2020-07-19T00:34:22Z", "commit": {"oid": "b45e88c4710054824448d57dc2ef2a63bc7051a5"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUxMDkwMjE1", "url": "https://github.com/PaperMC/Paper/pull/3946#pullrequestreview-451090215", "createdAt": "2020-07-19T00:36:44Z", "commit": {"oid": "b45e88c4710054824448d57dc2ef2a63bc7051a5"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xOVQwMDozNjo0NFrOGzrdWQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xOVQwMDozNjo0NFrOGzrdWQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Njg0MjU4NQ==", "bodyText": "what the hell is this naming convention", "url": "https://github.com/PaperMC/Paper/pull/3946#discussion_r456842585", "createdAt": "2020-07-19T00:36:44Z", "author": {"login": "Proximyst"}, "path": "Spigot-Server-Patches/0546-Add-Destroy-Speed-API.patch", "diffHunk": "@@ -0,0 +1,51 @@\n+From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001\n+From: Ineusia <ineusia@yahoo.com>\n+Date: Sat, 18 Jul 2020 18:49:56 -0500\n+Subject: [PATCH] Add Destroy Speed API\n+\n+\n+diff --git a/src/main/java/org/bukkit/craftbukkit/block/CraftBlock.java b/src/main/java/org/bukkit/craftbukkit/block/CraftBlock.java\n+index 9b0e868f006a34b47ef9a48c7ea844be8122c291..f3443d2d07cd03412d28460ca8607b465c2cc3d9 100644\n+--- a/src/main/java/org/bukkit/craftbukkit/block/CraftBlock.java\n++++ b/src/main/java/org/bukkit/craftbukkit/block/CraftBlock.java\n+@@ -5,24 +5,8 @@ import java.util.Collection;\n+ import java.util.Collections;\n+ import java.util.List;\n+ import java.util.stream.Collectors;\n+-import net.minecraft.server.AxisAlignedBB;\n+-import net.minecraft.server.BiomeBase;\n+-import net.minecraft.server.BlockPosition;\n+-import net.minecraft.server.BlockRedstoneWire;\n+-import net.minecraft.server.BlockTileEntity;\n+-import net.minecraft.server.Blocks;\n+-import net.minecraft.server.EnumDirection;\n+-import net.minecraft.server.EnumSkyBlock;\n+-import net.minecraft.server.GeneratorAccess;\n+-import net.minecraft.server.IBlockData;\n+-import net.minecraft.server.IRegistry;\n+-import net.minecraft.server.MinecraftKey;\n+-import net.minecraft.server.MovingObjectPosition;\n+-import net.minecraft.server.RayTrace;\n+-import net.minecraft.server.TileEntity;\n+-import net.minecraft.server.Vec3D;\n+-import net.minecraft.server.VoxelShape;\n+-import net.minecraft.server.WorldServer;\n++\n++import net.minecraft.server.*;\n+ import org.apache.commons.lang.Validate;\n+ import org.bukkit.Chunk;\n+ import org.bukkit.FluidCollisionMode;\n+@@ -732,5 +716,13 @@ public class CraftBlock implements Block {\n+     public com.destroystokyo.paper.block.BlockSoundGroup getSoundGroup() {\n+         return new com.destroystokyo.paper.block.CraftBlockSoundGroup(getNMSBlock().getBlockData().getStepSound());\n+     }\n++\n++    @Override\n++    public float getDestroySpeed(ItemStack itemStack) {\n++        net.minecraft.server.ItemStack NMSItemStack = CraftItemStack.asNMSCopy(itemStack);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b45e88c4710054824448d57dc2ef2a63bc7051a5"}, "originalPosition": 45}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUxMDkyMDMx", "url": "https://github.com/PaperMC/Paper/pull/3946#pullrequestreview-451092031", "createdAt": "2020-07-19T01:32:33Z", "commit": {"oid": "e085bb3c9f3cb84cee027ba1c3098eb6ffb9465e"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xOVQwMTozMjozM1rOGzrrcw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xOVQwMTozMzozM1rOGzrrtQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Njg0NjE5NQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            +import net.minecraft.server.Item;", "url": "https://github.com/PaperMC/Paper/pull/3946#discussion_r456846195", "createdAt": "2020-07-19T01:32:33Z", "author": {"login": "JRoy"}, "path": "Spigot-Server-Patches/0546-Add-Destroy-Speed-API.patch", "diffHunk": "@@ -0,0 +1,40 @@\n+From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001\n+From: Ineusia <ineusia@yahoo.com>\n+Date: Sat, 18 Jul 2020 18:49:56 -0500\n+Subject: [PATCH] Add Destroy Speed API\n+\n+\n+diff --git a/src/main/java/org/bukkit/craftbukkit/block/CraftBlock.java b/src/main/java/org/bukkit/craftbukkit/block/CraftBlock.java\n+index 9b0e868f006a34b47ef9a48c7ea844be8122c291..dc5a253cd03ccdddedba8cd48005bb62568aa4ca 100644\n+--- a/src/main/java/org/bukkit/craftbukkit/block/CraftBlock.java\n++++ b/src/main/java/org/bukkit/craftbukkit/block/CraftBlock.java\n+@@ -5,6 +5,7 @@ import java.util.Collection;\n+ import java.util.Collections;\n+ import java.util.List;\n+ import java.util.stream.Collectors;\n++\n+ import net.minecraft.server.AxisAlignedBB;\n+ import net.minecraft.server.BiomeBase;\n+ import net.minecraft.server.BlockPosition;\n+@@ -16,6 +17,7 @@ import net.minecraft.server.EnumSkyBlock;\n+ import net.minecraft.server.GeneratorAccess;\n+ import net.minecraft.server.IBlockData;\n+ import net.minecraft.server.IRegistry;\n++import net.minecraft.server.Item;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e085bb3c9f3cb84cee027ba1c3098eb6ffb9465e"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Njg0NjI2MQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            +        Item item = nmsItemStack.getItem();\n          \n          \n            \n            +\n          \n          \n            \n            +        return item.getDestroySpeed(nmsItemStack, this.getNMSBlock().getBlockData());\n          \n          \n            \n            +        return nmsItemStack.getItem().getDestroySpeed(nmsItemStack, this.getNMSBlock().getBlockData());", "url": "https://github.com/PaperMC/Paper/pull/3946#discussion_r456846261", "createdAt": "2020-07-19T01:33:33Z", "author": {"login": "JRoy"}, "path": "Spigot-Server-Patches/0546-Add-Destroy-Speed-API.patch", "diffHunk": "@@ -0,0 +1,40 @@\n+From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001\n+From: Ineusia <ineusia@yahoo.com>\n+Date: Sat, 18 Jul 2020 18:49:56 -0500\n+Subject: [PATCH] Add Destroy Speed API\n+\n+\n+diff --git a/src/main/java/org/bukkit/craftbukkit/block/CraftBlock.java b/src/main/java/org/bukkit/craftbukkit/block/CraftBlock.java\n+index 9b0e868f006a34b47ef9a48c7ea844be8122c291..dc5a253cd03ccdddedba8cd48005bb62568aa4ca 100644\n+--- a/src/main/java/org/bukkit/craftbukkit/block/CraftBlock.java\n++++ b/src/main/java/org/bukkit/craftbukkit/block/CraftBlock.java\n+@@ -5,6 +5,7 @@ import java.util.Collection;\n+ import java.util.Collections;\n+ import java.util.List;\n+ import java.util.stream.Collectors;\n++\n+ import net.minecraft.server.AxisAlignedBB;\n+ import net.minecraft.server.BiomeBase;\n+ import net.minecraft.server.BlockPosition;\n+@@ -16,6 +17,7 @@ import net.minecraft.server.EnumSkyBlock;\n+ import net.minecraft.server.GeneratorAccess;\n+ import net.minecraft.server.IBlockData;\n+ import net.minecraft.server.IRegistry;\n++import net.minecraft.server.Item;\n+ import net.minecraft.server.MinecraftKey;\n+ import net.minecraft.server.MovingObjectPosition;\n+ import net.minecraft.server.RayTrace;\n+@@ -732,5 +734,13 @@ public class CraftBlock implements Block {\n+     public com.destroystokyo.paper.block.BlockSoundGroup getSoundGroup() {\n+         return new com.destroystokyo.paper.block.CraftBlockSoundGroup(getNMSBlock().getBlockData().getStepSound());\n+     }\n++\n++    @Override\n++    public float getDestroySpeed(ItemStack itemStack) {\n++        net.minecraft.server.ItemStack nmsItemStack = CraftItemStack.asNMSCopy(itemStack);\n++        Item item = nmsItemStack.getItem();\n++\n++        return item.getDestroySpeed(nmsItemStack, this.getNMSBlock().getBlockData());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e085bb3c9f3cb84cee027ba1c3098eb6ffb9465e"}, "originalPosition": 37}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUzMzIzNDgz", "url": "https://github.com/PaperMC/Paper/pull/3946#pullrequestreview-453323483", "createdAt": "2020-07-22T13:36:03Z", "commit": {"oid": "6c881b48b3bee5c72505cf30cbe1b3a9768183cf"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQxMzozNjowNFrOG1itZA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQxMzozNjowNFrOG1itZA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODc5NjM4OA==", "bodyText": "Remove whitespace", "url": "https://github.com/PaperMC/Paper/pull/3946#discussion_r458796388", "createdAt": "2020-07-22T13:36:04Z", "author": {"login": "JRoy"}, "path": "Spigot-Server-Patches/0546-Add-Destroy-Speed-API.patch", "diffHunk": "@@ -0,0 +1,30 @@\n+From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001\n+From: Ineusia <ineusia@yahoo.com>\n+Date: Sat, 18 Jul 2020 18:49:56 -0500\n+Subject: [PATCH] Add Destroy Speed API\n+\n+\n+diff --git a/src/main/java/org/bukkit/craftbukkit/block/CraftBlock.java b/src/main/java/org/bukkit/craftbukkit/block/CraftBlock.java\n+index 9b0e868f006a34b47ef9a48c7ea844be8122c291..f7c91b7cbe77bff00dc9c34501384739bb58b6b0 100644\n+--- a/src/main/java/org/bukkit/craftbukkit/block/CraftBlock.java\n++++ b/src/main/java/org/bukkit/craftbukkit/block/CraftBlock.java\n+@@ -5,6 +5,7 @@ import java.util.Collection;\n+ import java.util.Collections;\n+ import java.util.List;\n+ import java.util.stream.Collectors;\n++", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6c881b48b3bee5c72505cf30cbe1b3a9768183cf"}, "originalPosition": 15}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE0NjU0MjMx", "url": "https://github.com/PaperMC/Paper/pull/3946#pullrequestreview-514654231", "createdAt": "2020-10-22T12:09:52Z", "commit": {"oid": "95d3aadbf0180807308c728cdaaeaab1f5a7c000"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIxMjU1NDM2", "url": "https://github.com/PaperMC/Paper/pull/3946#pullrequestreview-521255436", "createdAt": "2020-11-01T19:54:59Z", "commit": {"oid": "655ce0b23e049e35266729d2682217c3a52c15a0"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIxMjU4NzM0", "url": "https://github.com/PaperMC/Paper/pull/3946#pullrequestreview-521258734", "createdAt": "2020-11-01T20:35:33Z", "commit": {"oid": "655ce0b23e049e35266729d2682217c3a52c15a0"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wMVQyMDozNTozNFrOHrx7Qg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wMVQyMDozNTozNFrOHrx7Qg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTY2ODgwMg==", "bodyText": "does this need to be a copy here? wouldn't a normal getHandle call work?", "url": "https://github.com/PaperMC/Paper/pull/3946#discussion_r515668802", "createdAt": "2020-11-01T20:35:34Z", "author": {"login": "MiniDigger"}, "path": "Spigot-Server-Patches/0594-Add-Destroy-Speed-API.patch", "diffHunk": "@@ -0,0 +1,22 @@\n+From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001\n+From: Ineusia <ineusia@yahoo.com>\n+Date: Mon, 26 Oct 2020 11:48:06 -0500\n+Subject: [PATCH] Add Destroy Speed API\n+\n+\n+diff --git a/src/main/java/org/bukkit/craftbukkit/block/CraftBlock.java b/src/main/java/org/bukkit/craftbukkit/block/CraftBlock.java\n+index 3baf7b75c65c9beba40945ba904315251b5b7a64..514fad341b5a67cd2d401c91041f567c21280d44 100644\n+--- a/src/main/java/org/bukkit/craftbukkit/block/CraftBlock.java\n++++ b/src/main/java/org/bukkit/craftbukkit/block/CraftBlock.java\n+@@ -757,5 +757,11 @@ public class CraftBlock implements Block {\n+     public String getTranslationKey() {\n+         return org.bukkit.Bukkit.getUnsafe().getTranslationKey(this);\n+     }\n++    \n++    @Override\n++    public float getDestroySpeed(ItemStack itemStack) {\n++        net.minecraft.server.ItemStack nmsItemStack = CraftItemStack.asNMSCopy(itemStack);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "655ce0b23e049e35266729d2682217c3a52c15a0"}, "originalPosition": 18}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMzOTI1NDg3", "url": "https://github.com/PaperMC/Paper/pull/3946#pullrequestreview-533925487", "createdAt": "2020-11-18T22:14:54Z", "commit": {"oid": "655ce0b23e049e35266729d2682217c3a52c15a0"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e484c0c0d9e4df4c9fe90e77129d25c4550abda8", "author": {"user": {"login": "Ineusia", "name": "Ineusia"}}, "url": "https://github.com/PaperMC/Paper/commit/e484c0c0d9e4df4c9fe90e77129d25c4550abda8", "committedDate": "2020-11-28T22:51:38Z", "message": "Add getDestroySpeed to Block API\n\nCo-authored-by: MiniDigger <admin@minidigger.me>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQwNDIyNDM1", "url": "https://github.com/PaperMC/Paper/pull/3946#pullrequestreview-540422435", "createdAt": "2020-11-28T22:53:40Z", "commit": {"oid": "e484c0c0d9e4df4c9fe90e77129d25c4550abda8"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1689, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}