{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA4Nzk5NTEx", "number": 3216, "title": "Fix Potion#toItemStack swapping the extended and upgraded constructor values", "bodyText": "", "createdAt": "2020-04-24T22:56:10Z", "url": "https://github.com/PaperMC/Paper/pull/3216", "merged": true, "mergeCommit": {"oid": "75819fac2d7e17d161a2177cfaf0365afec8afd0"}, "closed": true, "closedAt": "2020-04-24T23:01:46Z", "author": {"login": "WesJD"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABca5mW-AH2gAyNDA4Nzk5NTExOjQxMTkxZTkwOTI3YjI5ZGNjNWY4YjhiOGRkNjFhMTI2MTY3ZDNlNTU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABca5sxIAFqTQwMDMxNTgyMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "41191e90927b29dcc5f8b8b8dd61a126167d3e55", "author": {"user": {"login": "WesJD", "name": "Wesley Smith"}}, "url": "https://github.com/PaperMC/Paper/commit/41191e90927b29dcc5f8b8b8dd61a126167d3e55", "committedDate": "2020-04-24T22:54:36Z", "message": "Fix Potion#toItemStack swapping the extended and upgraded constructor values"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAwMzE0NjM0", "url": "https://github.com/PaperMC/Paper/pull/3216#pullrequestreview-400314634", "createdAt": "2020-04-24T22:57:48Z", "commit": {"oid": "41191e90927b29dcc5f8b8b8dd61a126167d3e55"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQyMjo1Nzo0OFrOGLr8ZQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQyMjo1Nzo0OFrOGLr8ZQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDkwNzQ5Mw==", "bodyText": "// Paper", "url": "https://github.com/PaperMC/Paper/pull/3216#discussion_r414907493", "createdAt": "2020-04-24T22:57:48Z", "author": {"login": "electronicboy"}, "path": "Spigot-API-Patches/0199-Fix-Potion-toItemStack-swapping-the-extended-and-upg.patch", "diffHunk": "@@ -0,0 +1,24 @@\n+From 18d5937e2112275841eabeabf264404b31c0a687 Mon Sep 17 00:00:00 2001\n+From: Wesley Smith <me@wesjd.net>\n+Date: Fri, 24 Apr 2020 18:30:26 -0400\n+Subject: [PATCH] Fix Potion#toItemStack swapping the extended and upgraded\n+ constructor values.\n+\n+While the Potion class is deprecated, it is still used in some plugins for cross-version potion handling. This issue has existed for a long time, and has caused many heaches along the way.\n+\n+diff --git a/src/main/java/org/bukkit/potion/Potion.java b/src/main/java/org/bukkit/potion/Potion.java\n+index b9dbbfd0..b9fcda22 100644\n+--- a/src/main/java/org/bukkit/potion/Potion.java\n++++ b/src/main/java/org/bukkit/potion/Potion.java\n+@@ -267,7 +267,7 @@ public class Potion {\n+         }\n+         ItemStack itemStack = new ItemStack(material, amount);\n+         PotionMeta meta = (PotionMeta) itemStack.getItemMeta();\n+-        meta.setBasePotionData(new PotionData(type, level == 2, extended));\n++        meta.setBasePotionData(new PotionData(type, extended, level == 2));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "41191e90927b29dcc5f8b8b8dd61a126167d3e55"}, "originalPosition": 18}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "894a431699d71a7c984aab72de3ee3b742117fb2", "author": {"user": {"login": "WesJD", "name": "Wesley Smith"}}, "url": "https://github.com/PaperMC/Paper/commit/894a431699d71a7c984aab72de3ee3b742117fb2", "committedDate": "2020-04-24T23:00:13Z", "message": "add paper comment"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAwMzE1ODIx", "url": "https://github.com/PaperMC/Paper/pull/3216#pullrequestreview-400315821", "createdAt": "2020-04-24T23:01:36Z", "commit": {"oid": "894a431699d71a7c984aab72de3ee3b742117fb2"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1281, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}