{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDUyNzc5Nzkw", "number": 3959, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQwNzowMTo0OFrOEQ6nDA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQwNzowMTo0OFrOEQ6nDA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg2MTcyOTQwOnYy", "diffSide": "RIGHT", "path": "Spigot-Server-Patches/0131-String-based-Action-Bar-API.patch", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQwNzowMTo0OFrOG1VUjQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQwNzowMTo0OFrOG1VUjQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODU3NzAzNw==", "bodyText": "This is an API break. it should be CraftChatMessage.fromString() instead.", "url": "https://github.com/PaperMC/Paper/pull/3959#discussion_r458577037", "createdAt": "2020-07-22T07:01:48Z", "author": {"login": "aikar"}, "path": "Spigot-Server-Patches/0131-String-based-Action-Bar-API.patch", "diffHunk": "@@ -18,17 +18,23 @@ index 275c1d2d1eb2649de9a9b5aece6e88c21362efba..d72ba7f76c42fd525a5b59a999a0c08e\n  \n      public static <K, V> Collector<Entry<? extends K, ? extends V>, ?, Map<K, V>> a() {\n diff --git a/src/main/java/org/bukkit/craftbukkit/entity/CraftPlayer.java b/src/main/java/org/bukkit/craftbukkit/entity/CraftPlayer.java\n-index 9e9d054ed9d345eb7ab76ad9c3526889aeb220e3..e7c42fb4fd1235a934c16f4cccc1b1a66b3672a0 100644\n+index 9e9d054ed9d345eb7ab76ad9c3526889aeb220e3..abaeeea8ce0712d6ac8af938f2132a6e2afd7f45 100644\n --- a/src/main/java/org/bukkit/craftbukkit/entity/CraftPlayer.java\n +++ b/src/main/java/org/bukkit/craftbukkit/entity/CraftPlayer.java\n-@@ -221,6 +221,18 @@ public class CraftPlayer extends CraftHumanEntity implements Player {\n+@@ -221,6 +221,24 @@ public class CraftPlayer extends CraftHumanEntity implements Player {\n      }\n  \n      // Paper start\n +    @Override\n++    public void sendActionBar(BaseComponent[] message) {\n++        if (getHandle().playerConnection == null) return;\n++        getHandle().playerConnection.sendPacket(new PacketPlayOutTitle(PacketPlayOutTitle.EnumTitleAction.ACTIONBAR, message, -1, -1, -1));\n++    }\n++\n++    @Override\n +    public void sendActionBar(String message) {\n +        if (getHandle().playerConnection == null || message == null || message.isEmpty()) return;\n-+        getHandle().playerConnection.sendPacket(new PacketPlayOutChat(new net.minecraft.server.ChatComponentText(message), net.minecraft.server.ChatMessageType.GAME_INFO, SystemUtils.getNullUUID()));\n++        getHandle().playerConnection.sendPacket(new PacketPlayOutTitle(PacketPlayOutTitle.EnumTitleAction.ACTIONBAR, new net.minecraft.server.ChatComponentText(message)));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b1cc59a85b7e79a8a75bbad11a1147d759db6ba2"}, "originalPosition": 23}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1876, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}