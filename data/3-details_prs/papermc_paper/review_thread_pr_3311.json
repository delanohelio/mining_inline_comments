{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE0NjgxNTc5", "number": 3311, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QxMzoyMzoyOFrOD6PwVQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNVQxMjowMDozMVrOD_XI1Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYyNDAyMTMzOnYy", "diffSide": "RIGHT", "path": "Spigot-Server-Patches/0384-Anti-Xray.patch", "isResolved": true, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QxMzoyMzoyOFrOGR-TBQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QxNDowNDowMlrOGSAI5A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTQ5OTY1Mw==", "bodyText": "Use default values here and reference the variable as defaults when getting the values.\nEDIT: You apparently can't resolve conversations in reviews, so ignore this :)", "url": "https://github.com/PaperMC/Paper/pull/3311#discussion_r421499653", "createdAt": "2020-05-07T13:23:28Z", "author": {"login": "Proximyst"}, "path": "Spigot-Server-Patches/0384-Anti-Xray.patch", "diffHunk": "@@ -28,6 +28,7 @@ index 48676152152faf7a7b9524ac37d8b4a8c32c4e2c..ca2ac17747d4f2acf1df056759c5c182\n +    public EngineMode engineMode;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2af5c94726db0fb035772cca25c5d3ee1a91e97a"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTUwMTM1OA==", "bodyText": "There is no distinction, it is author preference. Given the rest of antixray config is written this way I see no reason he needs to change it now.", "url": "https://github.com/PaperMC/Paper/pull/3311#discussion_r421501358", "createdAt": "2020-05-07T13:25:55Z", "author": {"login": "zachbr"}, "path": "Spigot-Server-Patches/0384-Anti-Xray.patch", "diffHunk": "@@ -28,6 +28,7 @@ index 48676152152faf7a7b9524ac37d8b4a8c32c4e2c..ca2ac17747d4f2acf1df056759c5c182\n +    public EngineMode engineMode;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTQ5OTY1Mw=="}, "originalCommit": {"oid": "2af5c94726db0fb035772cca25c5d3ee1a91e97a"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTUwMjU3Nw==", "bodyText": "Was under the impression that was the \"standard\" :p", "url": "https://github.com/PaperMC/Paper/pull/3311#discussion_r421502577", "createdAt": "2020-05-07T13:27:35Z", "author": {"login": "Proximyst"}, "path": "Spigot-Server-Patches/0384-Anti-Xray.patch", "diffHunk": "@@ -28,6 +28,7 @@ index 48676152152faf7a7b9524ac37d8b4a8c32c4e2c..ca2ac17747d4f2acf1df056759c5c182\n +    public EngineMode engineMode;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTQ5OTY1Mw=="}, "originalCommit": {"oid": "2af5c94726db0fb035772cca25c5d3ee1a91e97a"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTUwODMzNA==", "bodyText": "Not sure why this is necessary suddenly. Most other config options also don't do this. Also this can be done in another PR if needed. Edit: didn't reload recent comments.", "url": "https://github.com/PaperMC/Paper/pull/3311#discussion_r421508334", "createdAt": "2020-05-07T13:35:39Z", "author": {"login": "stonar96"}, "path": "Spigot-Server-Patches/0384-Anti-Xray.patch", "diffHunk": "@@ -28,6 +28,7 @@ index 48676152152faf7a7b9524ac37d8b4a8c32c4e2c..ca2ac17747d4f2acf1df056759c5c182\n +    public EngineMode engineMode;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTQ5OTY1Mw=="}, "originalCommit": {"oid": "2af5c94726db0fb035772cca25c5d3ee1a91e97a"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTUyOTgyOA==", "bodyText": "as said its not a standard, either way is fine. I personally do mine with the other pattern as sometimes what default you use in the method code might vary (for migrations).\nAdditionally, the method might be a little more complex and big, so I find it easier to view the defaults in the initializer of the variable.\nbut no reason to update pr over this, both is valid.", "url": "https://github.com/PaperMC/Paper/pull/3311#discussion_r421529828", "createdAt": "2020-05-07T14:04:02Z", "author": {"login": "aikar"}, "path": "Spigot-Server-Patches/0384-Anti-Xray.patch", "diffHunk": "@@ -28,6 +28,7 @@ index 48676152152faf7a7b9524ac37d8b4a8c32c4e2c..ca2ac17747d4f2acf1df056759c5c182\n +    public EngineMode engineMode;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTQ5OTY1Mw=="}, "originalCommit": {"oid": "2af5c94726db0fb035772cca25c5d3ee1a91e97a"}, "originalPosition": 19}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYyNDAyNTU5OnYy", "diffSide": "RIGHT", "path": "Spigot-Server-Patches/0384-Anti-Xray.patch", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QxMzoyNDoyNFrOGR-VmA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QxMzoyOTowN1rOGR-i1A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTUwMDMxMg==", "bodyText": "Is changing default behaviour after so many versions a good idea?", "url": "https://github.com/PaperMC/Paper/pull/3311#discussion_r421500312", "createdAt": "2020-05-07T13:24:24Z", "author": {"login": "Proximyst"}, "path": "Spigot-Server-Patches/0384-Anti-Xray.patch", "diffHunk": "@@ -38,6 +39,7 @@ index 48676152152faf7a7b9524ac37d8b4a8c32c4e2c..ca2ac17747d4f2acf1df056759c5c182\n +        maxChunkSectionIndex = getInt(\"anti-xray.max-chunk-section-index\", 3);\n +        maxChunkSectionIndex = maxChunkSectionIndex > 15 ? 15 : maxChunkSectionIndex;\n +        updateRadius = getInt(\"anti-xray.update-radius\", 2);\n++        lavaObscures = getBoolean(\"anti-xray.lava-obscures\", true);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2af5c94726db0fb035772cca25c5d3ee1a91e97a"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTUwMzY0Mg==", "bodyText": "Aikar on Discord: lava-obscures: true, default on is reasonable here", "url": "https://github.com/PaperMC/Paper/pull/3311#discussion_r421503642", "createdAt": "2020-05-07T13:29:03Z", "author": {"login": "stonar96"}, "path": "Spigot-Server-Patches/0384-Anti-Xray.patch", "diffHunk": "@@ -38,6 +39,7 @@ index 48676152152faf7a7b9524ac37d8b4a8c32c4e2c..ca2ac17747d4f2acf1df056759c5c182\n +        maxChunkSectionIndex = getInt(\"anti-xray.max-chunk-section-index\", 3);\n +        maxChunkSectionIndex = maxChunkSectionIndex > 15 ? 15 : maxChunkSectionIndex;\n +        updateRadius = getInt(\"anti-xray.update-radius\", 2);\n++        lavaObscures = getBoolean(\"anti-xray.lava-obscures\", true);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTUwMDMxMg=="}, "originalCommit": {"oid": "2af5c94726db0fb035772cca25c5d3ee1a91e97a"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTUwMzcwMA==", "bodyText": "Yes, defaults represent what majority will want. majority will clearly want this.", "url": "https://github.com/PaperMC/Paper/pull/3311#discussion_r421503700", "createdAt": "2020-05-07T13:29:07Z", "author": {"login": "aikar"}, "path": "Spigot-Server-Patches/0384-Anti-Xray.patch", "diffHunk": "@@ -38,6 +39,7 @@ index 48676152152faf7a7b9524ac37d8b4a8c32c4e2c..ca2ac17747d4f2acf1df056759c5c182\n +        maxChunkSectionIndex = getInt(\"anti-xray.max-chunk-section-index\", 3);\n +        maxChunkSectionIndex = maxChunkSectionIndex > 15 ? 15 : maxChunkSectionIndex;\n +        updateRadius = getInt(\"anti-xray.update-radius\", 2);\n++        lavaObscures = getBoolean(\"anti-xray.lava-obscures\", true);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTUwMDMxMg=="}, "originalCommit": {"oid": "2af5c94726db0fb035772cca25c5d3ee1a91e97a"}, "originalPosition": 30}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY3NzY1OTczOnYy", "diffSide": "RIGHT", "path": "Spigot-Server-Patches/0384-Anti-Xray.patch", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNVQxMjowMDozMVrOGZ-2Ww==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNVQxMjowNTo1M1rOGZ-_fg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTg5NzMwNw==", "bodyText": "Comparing against stationary lava is not enough. The top-most stationary lava block will reveal 2 top texels (not fill the block fully).\nThere are 2 ores that are visible this way using the default vanilla texture pack: Emerald and Nether Quartz ore. Not to mention custom modpacks that may make other ores visible in this case by drawing ore textures closer to the block edges.\nWhether or not custom legitimate texture packs should be considered is up to debate. But I believe current patch will wrongly hide Emerald/Quartz ore, if so - it's hiding otherwise visible ores.", "url": "https://github.com/PaperMC/Paper/pull/3311#discussion_r429897307", "createdAt": "2020-05-25T12:00:31Z", "author": {"login": "VADemon"}, "path": "Spigot-Server-Patches/0384-Anti-Xray.patch", "diffHunk": "@@ -208,7 +210,8 @@ index 0000000000000000000000000000000000000000..9c017eb027ce52ea6a2414af2d0190b3\n +\n +            if (blockData != null) {\n +                solidGlobal[i] = blockData.getBlock().isOccluding(blockData, emptyChunk, zeroPos)\n-+                    && blockData.getBlock() != Blocks.SPAWNER && blockData.getBlock() != Blocks.BARRIER && blockData.getBlock() != Blocks.SHULKER_BOX;\n++                    && blockData.getBlock() != Blocks.SPAWNER && blockData.getBlock() != Blocks.BARRIER && blockData.getBlock() != Blocks.SHULKER_BOX || paperWorldConfig.lavaObscures && blockData == Blocks.LAVA.getBlockData();\n++                // Comparing blockData == Blocks.LAVA.getBlockData() instead of blockData.getBlock() == Blocks.LAVA ensures that only \"stationary lava\" is used", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "94a8ee47f18efa81ee78a89bbabbd535f651b6b2"}, "originalPosition": 53}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTg5OTUxMA==", "bodyText": "The top 2 pixels was brought up on Discord, and ultimately it was disregarded as changing how anti x-ray works at all is not worth it for a not so common issue. You're always able to disable this feature and rather just use moderators.", "url": "https://github.com/PaperMC/Paper/pull/3311#discussion_r429899510", "createdAt": "2020-05-25T12:05:32Z", "author": {"login": "Proximyst"}, "path": "Spigot-Server-Patches/0384-Anti-Xray.patch", "diffHunk": "@@ -208,7 +210,8 @@ index 0000000000000000000000000000000000000000..9c017eb027ce52ea6a2414af2d0190b3\n +\n +            if (blockData != null) {\n +                solidGlobal[i] = blockData.getBlock().isOccluding(blockData, emptyChunk, zeroPos)\n-+                    && blockData.getBlock() != Blocks.SPAWNER && blockData.getBlock() != Blocks.BARRIER && blockData.getBlock() != Blocks.SHULKER_BOX;\n++                    && blockData.getBlock() != Blocks.SPAWNER && blockData.getBlock() != Blocks.BARRIER && blockData.getBlock() != Blocks.SHULKER_BOX || paperWorldConfig.lavaObscures && blockData == Blocks.LAVA.getBlockData();\n++                // Comparing blockData == Blocks.LAVA.getBlockData() instead of blockData.getBlock() == Blocks.LAVA ensures that only \"stationary lava\" is used", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTg5NzMwNw=="}, "originalCommit": {"oid": "94a8ee47f18efa81ee78a89bbabbd535f651b6b2"}, "originalPosition": 53}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTg5OTY0Ng==", "bodyText": "This is known and has already been discussed. (See #2940.) Won't (and can't) fix. Server owners must decide if they want this feature and also take look at the notes in the commit messages.", "url": "https://github.com/PaperMC/Paper/pull/3311#discussion_r429899646", "createdAt": "2020-05-25T12:05:53Z", "author": {"login": "stonar96"}, "path": "Spigot-Server-Patches/0384-Anti-Xray.patch", "diffHunk": "@@ -208,7 +210,8 @@ index 0000000000000000000000000000000000000000..9c017eb027ce52ea6a2414af2d0190b3\n +\n +            if (blockData != null) {\n +                solidGlobal[i] = blockData.getBlock().isOccluding(blockData, emptyChunk, zeroPos)\n-+                    && blockData.getBlock() != Blocks.SPAWNER && blockData.getBlock() != Blocks.BARRIER && blockData.getBlock() != Blocks.SHULKER_BOX;\n++                    && blockData.getBlock() != Blocks.SPAWNER && blockData.getBlock() != Blocks.BARRIER && blockData.getBlock() != Blocks.SHULKER_BOX || paperWorldConfig.lavaObscures && blockData == Blocks.LAVA.getBlockData();\n++                // Comparing blockData == Blocks.LAVA.getBlockData() instead of blockData.getBlock() == Blocks.LAVA ensures that only \"stationary lava\" is used", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTg5NzMwNw=="}, "originalCommit": {"oid": "94a8ee47f18efa81ee78a89bbabbd535f651b6b2"}, "originalPosition": 53}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1968, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}