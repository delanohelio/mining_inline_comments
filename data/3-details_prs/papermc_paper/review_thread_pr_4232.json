{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc1MDEwNjQ4", "number": 4232, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMFQxNjowMTo0NlrOEeFPCA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMFQxNjowMTo0NlrOEeFPCA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk5OTc4NTA0OnYy", "diffSide": "RIGHT", "path": "Spigot-API-Patches/0222-Expose-the-Entity-Counter-to-allow-plugins-to-use-va.patch", "isResolved": false, "comments": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMFQxNjowMTo0NlrOHJj2Tg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QxMzo0NDowMFrOHMnQZg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTc4NjU3NA==", "bodyText": "Perhaps allocateEntityId?", "url": "https://github.com/PaperMC/Paper/pull/4232#discussion_r479786574", "createdAt": "2020-08-30T16:01:46Z", "author": {"login": "kashike"}, "path": "Spigot-API-Patches/0222-Expose-the-Entity-Counter-to-allow-plugins-to-use-va.patch", "diffHunk": "@@ -0,0 +1,24 @@\n+From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001\n+From: MeFisto94 <MeFisto94@users.noreply.github.com>\n+Date: Fri, 28 Aug 2020 01:41:31 +0200\n+Subject: [PATCH] Expose the Entity Counter to allow plugins to use valid and\n+ non-conflicting Entity Ids\n+\n+\n+diff --git a/src/main/java/org/bukkit/UnsafeValues.java b/src/main/java/org/bukkit/UnsafeValues.java\n+index d3ec5084e33dff038d54cdd2aeb703a3eb25f7a7..20cb67b7f2fcc590d4530d225d2a43898fd10117 100644\n+--- a/src/main/java/org/bukkit/UnsafeValues.java\n++++ b/src/main/java/org/bukkit/UnsafeValues.java\n+@@ -94,5 +94,12 @@ public interface UnsafeValues {\n+     byte[] serializeItem(ItemStack item);\n+ \n+     ItemStack deserializeItem(byte[] data);\n++\n++    /**\n++     * Creates and returns the next EntityId available.\n++     * <p>\n++     * Use this when sending custom packets, so that there are no collisions on the client or server.\n++     */\n++    public int createEntityId();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f0535f644476d8a406e032ef5009a2368308b380"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTgwNzM0NQ==", "bodyText": "The problem might be that it has the feeling of being able to \"free\" the entityId again (but create is no exception there).\nBut I guess any formulation will suffer from that", "url": "https://github.com/PaperMC/Paper/pull/4232#discussion_r479807345", "createdAt": "2020-08-30T19:35:21Z", "author": {"login": "MeFisto94"}, "path": "Spigot-API-Patches/0222-Expose-the-Entity-Counter-to-allow-plugins-to-use-va.patch", "diffHunk": "@@ -0,0 +1,24 @@\n+From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001\n+From: MeFisto94 <MeFisto94@users.noreply.github.com>\n+Date: Fri, 28 Aug 2020 01:41:31 +0200\n+Subject: [PATCH] Expose the Entity Counter to allow plugins to use valid and\n+ non-conflicting Entity Ids\n+\n+\n+diff --git a/src/main/java/org/bukkit/UnsafeValues.java b/src/main/java/org/bukkit/UnsafeValues.java\n+index d3ec5084e33dff038d54cdd2aeb703a3eb25f7a7..20cb67b7f2fcc590d4530d225d2a43898fd10117 100644\n+--- a/src/main/java/org/bukkit/UnsafeValues.java\n++++ b/src/main/java/org/bukkit/UnsafeValues.java\n+@@ -94,5 +94,12 @@ public interface UnsafeValues {\n+     byte[] serializeItem(ItemStack item);\n+ \n+     ItemStack deserializeItem(byte[] data);\n++\n++    /**\n++     * Creates and returns the next EntityId available.\n++     * <p>\n++     * Use this when sending custom packets, so that there are no collisions on the client or server.\n++     */\n++    public int createEntityId();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTc4NjU3NA=="}, "originalCommit": {"oid": "f0535f644476d8a406e032ef5009a2368308b380"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDExNDM1Ng==", "bodyText": "What is with nextEntityId() ?", "url": "https://github.com/PaperMC/Paper/pull/4232#discussion_r480114356", "createdAt": "2020-08-31T13:02:13Z", "author": {"login": "yannicklamprecht"}, "path": "Spigot-API-Patches/0222-Expose-the-Entity-Counter-to-allow-plugins-to-use-va.patch", "diffHunk": "@@ -0,0 +1,24 @@\n+From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001\n+From: MeFisto94 <MeFisto94@users.noreply.github.com>\n+Date: Fri, 28 Aug 2020 01:41:31 +0200\n+Subject: [PATCH] Expose the Entity Counter to allow plugins to use valid and\n+ non-conflicting Entity Ids\n+\n+\n+diff --git a/src/main/java/org/bukkit/UnsafeValues.java b/src/main/java/org/bukkit/UnsafeValues.java\n+index d3ec5084e33dff038d54cdd2aeb703a3eb25f7a7..20cb67b7f2fcc590d4530d225d2a43898fd10117 100644\n+--- a/src/main/java/org/bukkit/UnsafeValues.java\n++++ b/src/main/java/org/bukkit/UnsafeValues.java\n+@@ -94,5 +94,12 @@ public interface UnsafeValues {\n+     byte[] serializeItem(ItemStack item);\n+ \n+     ItemStack deserializeItem(byte[] data);\n++\n++    /**\n++     * Creates and returns the next EntityId available.\n++     * <p>\n++     * Use this when sending custom packets, so that there are no collisions on the client or server.\n++     */\n++    public int createEntityId();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTc4NjU3NA=="}, "originalCommit": {"oid": "f0535f644476d8a406e032ef5009a2368308b380"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDI2MzA4OQ==", "bodyText": "nextEntityId sounds good to me, especially as it indicates that it's somehow fetching id and doesn't have the alloc/free notion :)", "url": "https://github.com/PaperMC/Paper/pull/4232#discussion_r480263089", "createdAt": "2020-08-31T16:59:42Z", "author": {"login": "MeFisto94"}, "path": "Spigot-API-Patches/0222-Expose-the-Entity-Counter-to-allow-plugins-to-use-va.patch", "diffHunk": "@@ -0,0 +1,24 @@\n+From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001\n+From: MeFisto94 <MeFisto94@users.noreply.github.com>\n+Date: Fri, 28 Aug 2020 01:41:31 +0200\n+Subject: [PATCH] Expose the Entity Counter to allow plugins to use valid and\n+ non-conflicting Entity Ids\n+\n+\n+diff --git a/src/main/java/org/bukkit/UnsafeValues.java b/src/main/java/org/bukkit/UnsafeValues.java\n+index d3ec5084e33dff038d54cdd2aeb703a3eb25f7a7..20cb67b7f2fcc590d4530d225d2a43898fd10117 100644\n+--- a/src/main/java/org/bukkit/UnsafeValues.java\n++++ b/src/main/java/org/bukkit/UnsafeValues.java\n+@@ -94,5 +94,12 @@ public interface UnsafeValues {\n+     byte[] serializeItem(ItemStack item);\n+ \n+     ItemStack deserializeItem(byte[] data);\n++\n++    /**\n++     * Creates and returns the next EntityId available.\n++     * <p>\n++     * Use this when sending custom packets, so that there are no collisions on the client or server.\n++     */\n++    public int createEntityId();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTc4NjU3NA=="}, "originalCommit": {"oid": "f0535f644476d8a406e032ef5009a2368308b380"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTUyNDI5OQ==", "bodyText": "nextEntityId works for me.", "url": "https://github.com/PaperMC/Paper/pull/4232#discussion_r481524299", "createdAt": "2020-09-02T01:23:22Z", "author": {"login": "kashike"}, "path": "Spigot-API-Patches/0222-Expose-the-Entity-Counter-to-allow-plugins-to-use-va.patch", "diffHunk": "@@ -0,0 +1,24 @@\n+From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001\n+From: MeFisto94 <MeFisto94@users.noreply.github.com>\n+Date: Fri, 28 Aug 2020 01:41:31 +0200\n+Subject: [PATCH] Expose the Entity Counter to allow plugins to use valid and\n+ non-conflicting Entity Ids\n+\n+\n+diff --git a/src/main/java/org/bukkit/UnsafeValues.java b/src/main/java/org/bukkit/UnsafeValues.java\n+index d3ec5084e33dff038d54cdd2aeb703a3eb25f7a7..20cb67b7f2fcc590d4530d225d2a43898fd10117 100644\n+--- a/src/main/java/org/bukkit/UnsafeValues.java\n++++ b/src/main/java/org/bukkit/UnsafeValues.java\n+@@ -94,5 +94,12 @@ public interface UnsafeValues {\n+     byte[] serializeItem(ItemStack item);\n+ \n+     ItemStack deserializeItem(byte[] data);\n++\n++    /**\n++     * Creates and returns the next EntityId available.\n++     * <p>\n++     * Use this when sending custom packets, so that there are no collisions on the client or server.\n++     */\n++    public int createEntityId();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTc4NjU3NA=="}, "originalCommit": {"oid": "f0535f644476d8a406e032ef5009a2368308b380"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Mjk4ODEzNA==", "bodyText": "I just thought of getAndIncrementEntityId to match AtomicInteger but this is such a trivial thing that's it not worth editing for", "url": "https://github.com/PaperMC/Paper/pull/4232#discussion_r482988134", "createdAt": "2020-09-03T13:44:00Z", "author": {"login": "Mystiflow"}, "path": "Spigot-API-Patches/0222-Expose-the-Entity-Counter-to-allow-plugins-to-use-va.patch", "diffHunk": "@@ -0,0 +1,24 @@\n+From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001\n+From: MeFisto94 <MeFisto94@users.noreply.github.com>\n+Date: Fri, 28 Aug 2020 01:41:31 +0200\n+Subject: [PATCH] Expose the Entity Counter to allow plugins to use valid and\n+ non-conflicting Entity Ids\n+\n+\n+diff --git a/src/main/java/org/bukkit/UnsafeValues.java b/src/main/java/org/bukkit/UnsafeValues.java\n+index d3ec5084e33dff038d54cdd2aeb703a3eb25f7a7..20cb67b7f2fcc590d4530d225d2a43898fd10117 100644\n+--- a/src/main/java/org/bukkit/UnsafeValues.java\n++++ b/src/main/java/org/bukkit/UnsafeValues.java\n+@@ -94,5 +94,12 @@ public interface UnsafeValues {\n+     byte[] serializeItem(ItemStack item);\n+ \n+     ItemStack deserializeItem(byte[] data);\n++\n++    /**\n++     * Creates and returns the next EntityId available.\n++     * <p>\n++     * Use this when sending custom packets, so that there are no collisions on the client or server.\n++     */\n++    public int createEntityId();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTc4NjU3NA=="}, "originalCommit": {"oid": "f0535f644476d8a406e032ef5009a2368308b380"}, "originalPosition": 22}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1798, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}