{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc1MzA2Mjgy", "number": 2957, "title": "Optimise ticklistserver", "bodyText": "See patch notes", "createdAt": "2020-02-14T10:04:23Z", "url": "https://github.com/PaperMC/Paper/pull/2957", "merged": true, "mergeCommit": {"oid": "c23ebb780d28bef9cda924ca8dffaf2e47295c60"}, "closed": true, "closedAt": "2020-03-18T12:17:29Z", "author": {"login": "Spottedleaf"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcEMOXiAH2gAyMzc1MzA2MjgyOjc4MDQwYTE4YjkyOGIzODM5MDBhMjM5ZmY0OWU3Yzg4M2ZiZTUxMGQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcO2TlMgFqTM3NjgwODA4Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "78040a18b928b383900a239ff49e7c883fbe510d", "author": {"user": {"login": "Spottedleaf", "name": null}}, "url": "https://github.com/PaperMC/Paper/commit/78040a18b928b383900a239ff49e7c883fbe510d", "committedDate": "2020-02-14T09:36:20Z", "message": "Optimise ticklist server impl\n\nAlso fix MCUtil#mergeSortedSets"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU5MzMyODIy", "url": "https://github.com/PaperMC/Paper/pull/2957#pullrequestreview-359332822", "createdAt": "2020-02-15T07:49:31Z", "commit": {"oid": "bc3ff1f4c0ebdb9147d85207c10b0c1e788fd7a3"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xNVQwNzo0OTozMVrOFqMjYQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xNVQwNzo0OTozMVrOFqMjYQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTc5MDE3Nw==", "bodyText": "mimic doesn't have a k at the end", "url": "https://github.com/PaperMC/Paper/pull/2957#discussion_r379790177", "createdAt": "2020-02-15T07:49:31Z", "author": {"login": "metalshark"}, "path": "Spigot-Server-Patches/0004-MC-Utils.patch", "diffHunk": "@@ -2387,15 +2387,13 @@ index 000000000..9fa88d79d\n +    }\n +\n +    // assumes the sets have the same comparator, and if this comparator is null then assume T is Comparable\n-+    public static <T> void mergeSortedSets(final java.util.function.Consumer<T> consumer, final java.util.SortedSet<T>...sets) {\n-+        java.util.Comparator<? super T> comparator = sets[0].comparator();\n-+        if (comparator == null) {\n-+            comparator = (java.util.Comparator)java.util.Comparator.naturalOrder();\n-+        }\n++    public static <T> void mergeSortedSets(final java.util.function.Consumer<T> consumer, final java.util.Comparator<? super T> comparator, final java.util.SortedSet<T>...sets) {\n +        final it.unimi.dsi.fastutil.objects.ObjectRBTreeSet<T> all = new it.unimi.dsi.fastutil.objects.ObjectRBTreeSet<>(comparator);\n-+        // note: this is done in log(n!) ~ nlogn time. It could be improved if it were to mimic what mergesort does.\n++        // note: this is done in log(n!) ~ nlogn time. It could be improved if it were to mimick what mergesort does.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bc3ff1f4c0ebdb9147d85207c10b0c1e788fd7a3"}, "originalPosition": 40}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY3NjkyMTM5", "url": "https://github.com/PaperMC/Paper/pull/2957#pullrequestreview-367692139", "createdAt": "2020-03-03T04:11:22Z", "commit": {"oid": "b0024e65f0fd3fc962e8cd075d6183e9191c29a2"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "668029a64517ddf80c2eb1da35397d6eef7f9cd0", "author": {"user": {"login": "Spottedleaf", "name": null}}, "url": "https://github.com/PaperMC/Paper/commit/668029a64517ddf80c2eb1da35397d6eef7f9cd0", "committedDate": "2020-03-16T20:56:14Z", "message": "Optimise ticklist server impl\n\nAlso fix MCUtil#mergeSortedSets"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b0024e65f0fd3fc962e8cd075d6183e9191c29a2", "author": {"user": {"login": "Spottedleaf", "name": null}}, "url": "https://github.com/PaperMC/Paper/commit/b0024e65f0fd3fc962e8cd075d6183e9191c29a2", "committedDate": "2020-02-16T02:56:33Z", "message": "fix typo"}, "afterCommit": {"oid": "46a24f7105b8615c94316dff7402b7c26ba02643", "author": {"user": {"login": "Spottedleaf", "name": null}}, "url": "https://github.com/PaperMC/Paper/commit/46a24f7105b8615c94316dff7402b7c26ba02643", "committedDate": "2020-03-16T20:57:44Z", "message": "rebase"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bbc7f1cbfb70f82a2c1b15ccf98de0753a1688f8", "author": {"user": {"login": "Spottedleaf", "name": null}}, "url": "https://github.com/PaperMC/Paper/commit/bbc7f1cbfb70f82a2c1b15ccf98de0753a1688f8", "committedDate": "2020-03-16T21:06:13Z", "message": "Merge branch 'master' of github.com:PaperMC/Paper into optimise-ticklist-server"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "22e821a10f29d97cc73e88057fb7b0f65b621739", "author": {"user": {"login": "Spottedleaf", "name": null}}, "url": "https://github.com/PaperMC/Paper/commit/22e821a10f29d97cc73e88057fb7b0f65b621739", "committedDate": "2020-03-16T21:07:53Z", "message": "rebase"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "46a24f7105b8615c94316dff7402b7c26ba02643", "author": {"user": {"login": "Spottedleaf", "name": null}}, "url": "https://github.com/PaperMC/Paper/commit/46a24f7105b8615c94316dff7402b7c26ba02643", "committedDate": "2020-03-16T20:57:44Z", "message": "rebase"}, "afterCommit": {"oid": "22e821a10f29d97cc73e88057fb7b0f65b621739", "author": {"user": {"login": "Spottedleaf", "name": null}}, "url": "https://github.com/PaperMC/Paper/commit/22e821a10f29d97cc73e88057fb7b0f65b621739", "committedDate": "2020-03-16T21:07:53Z", "message": "rebase"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc2ODA4MDgz", "url": "https://github.com/PaperMC/Paper/pull/2957#pullrequestreview-376808083", "createdAt": "2020-03-18T12:17:17Z", "commit": {"oid": "22e821a10f29d97cc73e88057fb7b0f65b621739"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1213, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}