{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzU4NzUzMTI0", "number": 2819, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wMlQxODo0MDo1MFrODVg_UA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wMlQxODo0MDo1MFrODVg_UA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjIzODg3MTg0OnYy", "diffSide": "RIGHT", "path": "Spigot-Server-Patches/0420-Add-effect-to-block-break-naturally.patch", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wMlQxODo0MDo1MVrOFZyNrw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wMlQxODo0MDo1MVrOFZyNrw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MjU4MTQyMw==", "bodyText": "magic numbers are pretty scary", "url": "https://github.com/PaperMC/Paper/pull/2819#discussion_r362581423", "createdAt": "2020-01-02T18:40:51Z", "author": {"login": "Spottedleaf"}, "path": "Spigot-Server-Patches/0420-Add-effect-to-block-break-naturally.patch", "diffHunk": "@@ -0,0 +1,34 @@\n+From f59a300db3dba8d827fe78eb0207fb7a32cbf612 Mon Sep 17 00:00:00 2001\n+From: William Blake Galbreath <Blake.Galbreath@GMail.com>\n+Date: Thu, 2 Jan 2020 12:25:07 -0600\n+Subject: [PATCH] Add effect to block break naturally\n+\n+\n+diff --git a/src/main/java/org/bukkit/craftbukkit/block/CraftBlock.java b/src/main/java/org/bukkit/craftbukkit/block/CraftBlock.java\n+index a667e58ed..f6aa78e9e 100644\n+--- a/src/main/java/org/bukkit/craftbukkit/block/CraftBlock.java\n++++ b/src/main/java/org/bukkit/craftbukkit/block/CraftBlock.java\n+@@ -607,12 +607,20 @@ public class CraftBlock implements Block {\n+ \n+     @Override\n+     public boolean breakNaturally(ItemStack item) {\n++        // Paper start\n++        return breakNaturally(item, false);\n++    }\n++\n++    @Override\n++    public boolean breakNaturally(ItemStack item, boolean triggerEffect) {\n++        // Paper end\n+         // Order matters here, need to drop before setting to air so skulls can get their data\n+         net.minecraft.server.Block block = this.getNMSBlock();\n+         boolean result = false;\n+ \n+         if (block != null && block != Blocks.AIR) {\n+             net.minecraft.server.Block.dropItems(getNMS(), world.getMinecraftWorld(), position, world.getTileEntity(position), null, CraftItemStack.asNMSCopy(item));\n++            if (triggerEffect) world.triggerEffect(2001, position, net.minecraft.server.Block.getCombinedId(block.getBlockData())); // Paper", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9b72f34c100933655e74316c4d0a8003cc27f00f"}, "originalPosition": 28}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1656, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}