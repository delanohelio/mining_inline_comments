{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQwOTQ3MzU2", "number": 3639, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QxODo1Mzo1NVrOEJX2Pg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QxODo1NjowNFrOEJX29g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc4MjYzMzU4OnYy", "diffSide": "RIGHT", "path": "Spigot-Server-Patches/0521-Limit-lightning-strike-effect-distance.patch", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QxODo1Mzo1NVrOGp3noA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QxODo1Mzo1NVrOGp3noA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjU1NjA2NA==", "bodyText": "Seems you mixed two patches somehow?", "url": "https://github.com/PaperMC/Paper/pull/3639#discussion_r446556064", "createdAt": "2020-06-27T18:53:55Z", "author": {"login": "Proximyst"}, "path": "Spigot-Server-Patches/0521-Limit-lightning-strike-effect-distance.patch", "diffHunk": "@@ -1,17 +1,43 @@\n From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001\n-From: Trigary <trigary0@gmail.com>\n-Date: Fri, 14 Sep 2018 17:42:08 +0200\n-Subject: [PATCH] Limit lightning strike effect distance\n+From: Aikar <aikar@aikar.co>\n+Date: Mon, 17 Sep 2018 23:05:31 -0400\n+Subject: [PATCH] Support Overriding World Seeds", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5958abd63f978ab897253b0595a1e60c4a3fbcd7"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc4MjYzMzc3OnYy", "diffSide": "RIGHT", "path": "Spigot-Server-Patches/0521-Limit-lightning-strike-effect-distance.patch", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QxODo1NDoxM1rOGp3ntw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QxODo1NDoxM1rOGp3ntw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjU1NjA4Nw==", "bodyText": "Unnecessary diff (just moved down).", "url": "https://github.com/PaperMC/Paper/pull/3639#discussion_r446556087", "createdAt": "2020-06-27T18:54:13Z", "author": {"login": "Proximyst"}, "path": "Spigot-Server-Patches/0521-Limit-lightning-strike-effect-distance.patch", "diffHunk": "@@ -1,17 +1,43 @@\n From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001\n-From: Trigary <trigary0@gmail.com>\n-Date: Fri, 14 Sep 2018 17:42:08 +0200\n-Subject: [PATCH] Limit lightning strike effect distance\n+From: Aikar <aikar@aikar.co>\n+Date: Mon, 17 Sep 2018 23:05:31 -0400\n+Subject: [PATCH] Support Overriding World Seeds\n \n \n diff --git a/src/main/java/com/destroystokyo/paper/PaperWorldConfig.java b/src/main/java/com/destroystokyo/paper/PaperWorldConfig.java\n-index 487b0d5cd608e84a793eba5fdbd50a9f3d95c79b..b8789c8ecc5a6e4117bb7ce0d5487a6e5774b67f 100644\n+index 0f4fca90fd6c3788a5762c96c344899cb1665466..4a59d42b778e681e93f1243ecd16c5cf46160b97 100644\n --- a/src/main/java/com/destroystokyo/paper/PaperWorldConfig.java\n +++ b/src/main/java/com/destroystokyo/paper/PaperWorldConfig.java\n-@@ -242,6 +242,28 @@ public class PaperWorldConfig {\n+@@ -1,11 +1,5 @@\n+ package com.destroystokyo.paper;\n+ \n+-import java.util.Arrays;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5958abd63f978ab897253b0595a1e60c4a3fbcd7"}, "originalPosition": 19}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc4MjYzNTE5OnYy", "diffSide": "RIGHT", "path": "Spigot-Server-Patches/0522-Add-permission-for-command-blocks.patch", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QxODo1NTozNlrOGp3oVQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QxOTowMDowNVrOGp3qAg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjU1NjI0NQ==", "bodyText": "This seems like something that would benefit from an obf helper.", "url": "https://github.com/PaperMC/Paper/pull/3639#discussion_r446556245", "createdAt": "2020-06-27T18:55:36Z", "author": {"login": "Proximyst"}, "path": "Spigot-Server-Patches/0522-Add-permission-for-command-blocks.patch", "diffHunk": "@@ -5,58 +5,58 @@ Subject: [PATCH] Add permission for command blocks\n \n \n diff --git a/src/main/java/net/minecraft/server/BlockCommand.java b/src/main/java/net/minecraft/server/BlockCommand.java\n-index d0f75c8f93d3ceb1ee358baeb51f64e7e575bbc0..48cc48bd999c02268fa3270401c0df77a327ab13 100644\n+index dd7066d1a72f5c6f54c1f40a7b694deb827410dc..6b353a99c04e0312f520f8559c05ddaf51c26aaf 100644\n --- a/src/main/java/net/minecraft/server/BlockCommand.java\n +++ b/src/main/java/net/minecraft/server/BlockCommand.java\n-@@ -110,7 +110,7 @@ public class BlockCommand extends BlockTileEntity {\n+@@ -105,7 +105,7 @@ public class BlockCommand extends BlockTileEntity {\n      public EnumInteractionResult interact(IBlockData iblockdata, World world, BlockPosition blockposition, EntityHuman entityhuman, EnumHand enumhand, MovingObjectPositionBlock movingobjectpositionblock) {\n          TileEntity tileentity = world.getTileEntity(blockposition);\n  \n -        if (tileentity instanceof TileEntityCommand && entityhuman.isCreativeAndOp()) {\n +        if (tileentity instanceof TileEntityCommand && (entityhuman.isCreativeAndOp() || (entityhuman.isCreative() && entityhuman.getBukkitEntity().hasPermission(\"minecraft.commandblock\")))) { // Paper - command block permission\n              entityhuman.a((TileEntityCommand) tileentity);\n-             return EnumInteractionResult.SUCCESS;\n+             return EnumInteractionResult.a(world.isClientSide);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5958abd63f978ab897253b0595a1e60c4a3fbcd7"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjU1NjY3NA==", "bodyText": "we don't touch those lines, its irrelevent", "url": "https://github.com/PaperMC/Paper/pull/3639#discussion_r446556674", "createdAt": "2020-06-27T19:00:05Z", "author": {"login": "kickash32"}, "path": "Spigot-Server-Patches/0522-Add-permission-for-command-blocks.patch", "diffHunk": "@@ -5,58 +5,58 @@ Subject: [PATCH] Add permission for command blocks\n \n \n diff --git a/src/main/java/net/minecraft/server/BlockCommand.java b/src/main/java/net/minecraft/server/BlockCommand.java\n-index d0f75c8f93d3ceb1ee358baeb51f64e7e575bbc0..48cc48bd999c02268fa3270401c0df77a327ab13 100644\n+index dd7066d1a72f5c6f54c1f40a7b694deb827410dc..6b353a99c04e0312f520f8559c05ddaf51c26aaf 100644\n --- a/src/main/java/net/minecraft/server/BlockCommand.java\n +++ b/src/main/java/net/minecraft/server/BlockCommand.java\n-@@ -110,7 +110,7 @@ public class BlockCommand extends BlockTileEntity {\n+@@ -105,7 +105,7 @@ public class BlockCommand extends BlockTileEntity {\n      public EnumInteractionResult interact(IBlockData iblockdata, World world, BlockPosition blockposition, EntityHuman entityhuman, EnumHand enumhand, MovingObjectPositionBlock movingobjectpositionblock) {\n          TileEntity tileentity = world.getTileEntity(blockposition);\n  \n -        if (tileentity instanceof TileEntityCommand && entityhuman.isCreativeAndOp()) {\n +        if (tileentity instanceof TileEntityCommand && (entityhuman.isCreativeAndOp() || (entityhuman.isCreative() && entityhuman.getBukkitEntity().hasPermission(\"minecraft.commandblock\")))) { // Paper - command block permission\n              entityhuman.a((TileEntityCommand) tileentity);\n-             return EnumInteractionResult.SUCCESS;\n+             return EnumInteractionResult.a(world.isClientSide);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjU1NjI0NQ=="}, "originalCommit": {"oid": "5958abd63f978ab897253b0595a1e60c4a3fbcd7"}, "originalPosition": 17}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc4MjYzNTQyOnYy", "diffSide": "RIGHT", "path": "Spigot-Server-Patches/0523-Ensure-Entity-AABB-s-are-never-invalid.patch", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QxODo1NjowNFrOGp3ocQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QxODo1NjowNFrOGp3ocQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjU1NjI3Mw==", "bodyText": "Again, moving down.", "url": "https://github.com/PaperMC/Paper/pull/3639#discussion_r446556273", "createdAt": "2020-06-27T18:56:04Z", "author": {"login": "Proximyst"}, "path": "Spigot-Server-Patches/0523-Ensure-Entity-AABB-s-are-never-invalid.patch", "diffHunk": "@@ -0,0 +1,129 @@\n+From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001\n+From: Aikar <aikar@aikar.co>\n+Date: Sun, 10 May 2020 22:12:46 -0400\n+Subject: [PATCH] Ensure Entity AABB's are never invalid\n+\n+\n+diff --git a/src/main/java/net/minecraft/server/Entity.java b/src/main/java/net/minecraft/server/Entity.java\n+index b11383b35662b1e59b89e916e55340cee2726944..2aa40f2a41e21526eb86acd903de024665109ab6 100644\n+--- a/src/main/java/net/minecraft/server/Entity.java\n++++ b/src/main/java/net/minecraft/server/Entity.java\n+@@ -1,53 +1,54 @@\n+ package net.minecraft.server;\n+ \n++import co.aikar.timings.MinecraftTimings;\n++import co.aikar.timings.Timing;\n+ import com.google.common.collect.Iterables;\n+ import com.google.common.collect.Lists;\n+ import com.google.common.collect.Sets;\n+ import it.unimi.dsi.fastutil.objects.Object2DoubleArrayMap;\n+ import it.unimi.dsi.fastutil.objects.Object2DoubleMap;\n+-import java.util.Arrays;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5958abd63f978ab897253b0595a1e60c4a3fbcd7"}, "originalPosition": 21}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1927, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}