{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ0NDc4Mjc1", "number": 3815, "title": "add PlayerTradeEvent", "bodyText": "Replacement for VillagerReplenishTradeEvent\nIssues with above event\n\nDoesn't include the player\nIsn't called for Wandering Traders\nThe setRecipe() doesn't look to actually have any effect at all.\n\nIf this gets merged, the VillagerReplenishTradeEvent should probably get deprecated.", "createdAt": "2020-07-05T23:54:42Z", "url": "https://github.com/PaperMC/Paper/pull/3815", "merged": true, "mergeCommit": {"oid": "fb7503399ac13fb1851bd25e26e880c6f4ef65dc"}, "closed": true, "closedAt": "2020-12-28T12:07:49Z", "author": {"login": "Machine-Maker"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdYVmdfAFqTUyMTI1NTg0NA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdqk9MygFqTU1OTExNzUwNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIxMjU1ODQ0", "url": "https://github.com/PaperMC/Paper/pull/3815#pullrequestreview-521255844", "createdAt": "2020-11-01T20:00:44Z", "commit": {"oid": "413ca20d89ddc1aa38bbbf62cc3cdf50137b6f2e"}, "state": "DISMISSED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wMVQyMDowMDo0NFrOHrxsog==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wMVQyMDowMToxOFrOHrxs3A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTY2NTA1OA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            +package com.destroystokyo.paper.event.player;\n          \n          \n            \n            +package io.papermc.paper.event.player;", "url": "https://github.com/PaperMC/Paper/pull/3815#discussion_r515665058", "createdAt": "2020-11-01T20:00:44Z", "author": {"login": "Proximyst"}, "path": "Spigot-API-Patches/0215-added-PlayerTradeEvent.patch", "diffHunk": "@@ -0,0 +1,130 @@\n+From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001\n+From: Jake Potrebic <jake.m.potrebic@gmail.com>\n+Date: Thu, 2 Jul 2020 16:10:10 -0700\n+Subject: [PATCH] added PlayerTradeEvent\n+\n+\n+diff --git a/src/main/java/com/destroystokyo/paper/event/player/PlayerTradeEvent.java b/src/main/java/com/destroystokyo/paper/event/player/PlayerTradeEvent.java\n+new file mode 100755\n+index 0000000000000000000000000000000000000000..db1dd76e844367fa09f2d8e9236ee27df070e4d2\n+--- /dev/null\n++++ b/src/main/java/com/destroystokyo/paper/event/player/PlayerTradeEvent.java\n+@@ -0,0 +1,118 @@\n++package com.destroystokyo.paper.event.player;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "413ca20d89ddc1aa38bbbf62cc3cdf50137b6f2e"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTY2NTExNg==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            -        merchantrecipe.increaseUses();\n          \n          \n            \n            -        this.e = -this.D();\n          \n          \n            \n            -        this.b(merchantrecipe);\n          \n          \n            \n            -        merchantrecipe.increaseUses();\n          \n          \n            \n            -        this.e = -this.D();\n          \n          \n            \n            -        this.b(merchantrecipe);\n          \n          \n            \n            +        // Paper - moved down", "url": "https://github.com/PaperMC/Paper/pull/3815#discussion_r515665116", "createdAt": "2020-11-01T20:01:18Z", "author": {"login": "Proximyst"}, "path": "Spigot-Server-Patches/0532-added-PlayerTradeEvent.patch", "diffHunk": "@@ -0,0 +1,39 @@\n+From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001\n+From: Jake Potrebic <jake.m.potrebic@gmail.com>\n+Date: Thu, 2 Jul 2020 16:12:10 -0700\n+Subject: [PATCH] added PlayerTradeEvent\n+\n+\n+diff --git a/src/main/java/net/minecraft/server/EntityVillagerAbstract.java b/src/main/java/net/minecraft/server/EntityVillagerAbstract.java\n+index 81823b5d5ef17479583fda0121c95091175fdf1e..966d93b4594d11b8ef701b50a53647e9b35071f2 100644\n+--- a/src/main/java/net/minecraft/server/EntityVillagerAbstract.java\n++++ b/src/main/java/net/minecraft/server/EntityVillagerAbstract.java\n+@@ -101,13 +101,23 @@ public abstract class EntityVillagerAbstract extends EntityAgeable implements NP\n+ \n+     @Override\n+     public void a(MerchantRecipe merchantrecipe) {\n+-        merchantrecipe.increaseUses();\n+-        this.e = -this.D();\n+-        this.b(merchantrecipe);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "413ca20d89ddc1aa38bbbf62cc3cdf50137b6f2e"}, "originalPosition": 17}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "413ca20d89ddc1aa38bbbf62cc3cdf50137b6f2e", "author": {"user": {"login": "Machine-Maker", "name": "Jake Potrebic"}}, "url": "https://github.com/PaperMC/Paper/commit/413ca20d89ddc1aa38bbbf62cc3cdf50137b6f2e", "committedDate": "2020-07-05T03:21:21Z", "message": "formatting"}, "afterCommit": {"oid": "c9f0c1d10b18209d1b0294838136508fe0e09be5", "author": {"user": {"login": "Machine-Maker", "name": "Jake Potrebic"}}, "url": "https://github.com/PaperMC/Paper/commit/c9f0c1d10b18209d1b0294838136508fe0e09be5", "committedDate": "2020-11-02T18:43:48Z", "message": "rebase & fix"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c9f0c1d10b18209d1b0294838136508fe0e09be5", "author": {"user": {"login": "Machine-Maker", "name": "Jake Potrebic"}}, "url": "https://github.com/PaperMC/Paper/commit/c9f0c1d10b18209d1b0294838136508fe0e09be5", "committedDate": "2020-11-02T18:43:48Z", "message": "rebase & fix"}, "afterCommit": {"oid": "c9978ac374d1cd0b0aa196241b77bf6e8880b019", "author": {"user": {"login": "Machine-Maker", "name": "Jake Potrebic"}}, "url": "https://github.com/PaperMC/Paper/commit/c9978ac374d1cd0b0aa196241b77bf6e8880b019", "committedDate": "2020-11-02T18:56:26Z", "message": "formatting"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU4OTM3NDQ2", "url": "https://github.com/PaperMC/Paper/pull/3815#pullrequestreview-558937446", "createdAt": "2020-12-27T15:34:44Z", "commit": {"oid": "c0137f995a04d0bafc4d045acabb0225fd4025fb"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8a1cf40560e8220ac611fcd8363b2c476785a7d9", "author": {"user": {"login": "Machine-Maker", "name": "Jake Potrebic"}}, "url": "https://github.com/PaperMC/Paper/commit/8a1cf40560e8220ac611fcd8363b2c476785a7d9", "committedDate": "2020-12-28T12:03:35Z", "message": "added PlayerTradeEvent"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c0137f995a04d0bafc4d045acabb0225fd4025fb", "author": {"user": {"login": "Machine-Maker", "name": "Jake Potrebic"}}, "url": "https://github.com/PaperMC/Paper/commit/c0137f995a04d0bafc4d045acabb0225fd4025fb", "committedDate": "2020-11-02T19:13:43Z", "message": "added moved down comment"}, "afterCommit": {"oid": "8a1cf40560e8220ac611fcd8363b2c476785a7d9", "author": {"user": {"login": "Machine-Maker", "name": "Jake Potrebic"}}, "url": "https://github.com/PaperMC/Paper/commit/8a1cf40560e8220ac611fcd8363b2c476785a7d9", "committedDate": "2020-12-28T12:03:35Z", "message": "added PlayerTradeEvent"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU5MTE3NTA1", "url": "https://github.com/PaperMC/Paper/pull/3815#pullrequestreview-559117505", "createdAt": "2020-12-28T12:05:29Z", "commit": {"oid": "8a1cf40560e8220ac611fcd8363b2c476785a7d9"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1842, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}