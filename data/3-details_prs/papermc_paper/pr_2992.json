{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgwNTcyMzk1", "number": 2992, "title": "Fix random ticks (Fixes #2990)", "bodyText": "Originally, when a block was being random ticked, it was giving a mutable block position object. Whenever the next random tick was called, that same mutable block position was updated to a new block position, creating synchronization issues if the block being ticked cared about the block coordinates, such as newly hatched turtles.\nThis change simply forces an immutable block position to be generated whenever a random tick is scheduled, ensuring the position will be valid throughout the duration of the random tick's logic.", "createdAt": "2020-02-27T00:17:10Z", "url": "https://github.com/PaperMC/Paper/pull/2992", "merged": true, "mergeCommit": {"oid": "c0f4b24e3a7bfd9eaefe8041d8c56d1f451619b5"}, "closed": true, "closedAt": "2020-02-27T08:42:48Z", "author": {"login": "AJMFactsheets"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcIQRsYgFqTM2NTM0MzEyMA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcIXP4DAFqTM2NTQ5NjcwNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY1MzQzMTIw", "url": "https://github.com/PaperMC/Paper/pull/2992#pullrequestreview-365343120", "createdAt": "2020-02-27T00:34:47Z", "commit": {"oid": "9d3eefb59b87859735d79e79f79d68df2cf5cd4a"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yN1QwMDozNDo0N1rOFvBaTg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yN1QwMDozNDo0N1rOFvBaTg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDg1MDUxMA==", "bodyText": "Missing required paper comment\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            +                BlockPosition blockposition2 = blockposition.setValues(j + randomX, randomY, k + randomZ).immutableCopy();\n          \n          \n            \n            +                BlockPosition blockposition2 = blockposition.setValues(j + randomX, randomY, k + randomZ).immutableCopy(); // Paper", "url": "https://github.com/PaperMC/Paper/pull/2992#discussion_r384850510", "createdAt": "2020-02-27T00:34:47Z", "author": {"login": "JRoy"}, "path": "Spigot-Server-Patches/0438-Optimise-random-block-ticking.patch", "diffHunk": "@@ -527,7 +527,7 @@ index 0fed337130..c74b85917a 100644\n +                int randomZ = (location >>> 4) & 15;\n  \n -                        Fluid fluid = iblockdata.getFluid();\n-+                BlockPosition blockposition2 = blockposition.setValues(j + randomX, randomY, k + randomZ);\n++                BlockPosition blockposition2 = blockposition.setValues(j + randomX, randomY, k + randomZ).immutableCopy();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9d3eefb59b87859735d79e79f79d68df2cf5cd4a"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4778580846aa65c8873cc48a4761d05c5be69e4e", "author": {"user": {"login": "AJMFactsheets", "name": "Andrew Mollenkamp"}}, "url": "https://github.com/PaperMC/Paper/commit/4778580846aa65c8873cc48a4761d05c5be69e4e", "committedDate": "2020-02-27T04:51:26Z", "message": "Fix optimise random ticks (Fixes #2990)"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9d3eefb59b87859735d79e79f79d68df2cf5cd4a", "author": {"user": {"login": "AJMFactsheets", "name": "Andrew Mollenkamp"}}, "url": "https://github.com/PaperMC/Paper/commit/9d3eefb59b87859735d79e79f79d68df2cf5cd4a", "committedDate": "2020-02-27T00:09:47Z", "message": "Fix random ticks (Fixes #2990)"}, "afterCommit": {"oid": "4778580846aa65c8873cc48a4761d05c5be69e4e", "author": {"user": {"login": "AJMFactsheets", "name": "Andrew Mollenkamp"}}, "url": "https://github.com/PaperMC/Paper/commit/4778580846aa65c8873cc48a4761d05c5be69e4e", "committedDate": "2020-02-27T04:51:26Z", "message": "Fix optimise random ticks (Fixes #2990)"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY1NDk2NzA1", "url": "https://github.com/PaperMC/Paper/pull/2992#pullrequestreview-365496705", "createdAt": "2020-02-27T08:42:38Z", "commit": {"oid": "4778580846aa65c8873cc48a4761d05c5be69e4e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1229, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}