{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA1NzM5NjE4", "number": 69, "title": "Added support for consistent query", "bodyText": "", "createdAt": "2020-04-19T21:42:50Z", "url": "https://github.com/temporalio/sdk-java/pull/69", "merged": true, "mergeCommit": {"oid": "538557e55d27635bd08e507bc4b595c19e20223a"}, "closed": true, "closedAt": "2020-04-22T18:04:52Z", "author": {"login": "mfateev"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcXCvGoAH2gAyNDA1NzM5NjE4OjI1OWYyMDkxNDIzYzJjMjVkZWQwNmE1YmZlNGQ1ZGMyYjM3MTM5Y2E=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcZ50hqgFqTM5NzY1MzE3Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "259f2091423c2c25ded06a5bfe4d5dc2b37139ca", "author": {"user": {"login": "mfateev", "name": "Maxim Fateev"}}, "url": "https://github.com/temporalio/sdk-java/commit/259f2091423c2c25ded06a5bfe4d5dc2b37139ca", "committedDate": "2020-04-12T23:17:36Z", "message": "Converted QueryStatus to WorkflowQueryRejectedException"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "283405d84ffa9669087af614a6e6795d6c7b5e49", "author": {"user": {"login": "mfateev", "name": "Maxim Fateev"}}, "url": "https://github.com/temporalio/sdk-java/commit/283405d84ffa9669087af614a6e6795d6c7b5e49", "committedDate": "2020-04-13T22:53:15Z", "message": "Test service query and long poll timeouts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d7280011735e5ec92d006016b32a455f821ef063", "author": {"user": {"login": "mfateev", "name": "Maxim Fateev"}}, "url": "https://github.com/temporalio/sdk-java/commit/d7280011735e5ec92d006016b32a455f821ef063", "committedDate": "2020-04-14T04:41:42Z", "message": "open workflow consistent query"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "20841cb33a0786d802937d2479bb8095c6361f35", "author": {"user": {"login": "mfateev", "name": "Maxim Fateev"}}, "url": "https://github.com/temporalio/sdk-java/commit/20841cb33a0786d802937d2479bb8095c6361f35", "committedDate": "2020-04-14T04:46:07Z", "message": "Fixed closed workflow query"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "747a69fca03382fd3e625a08d239f959c454c883", "author": {"user": {"login": "mfateev", "name": "Maxim Fateev"}}, "url": "https://github.com/temporalio/sdk-java/commit/747a69fca03382fd3e625a08d239f959c454c883", "committedDate": "2020-04-17T15:47:08Z", "message": "work in progress"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ea1625c420e910673000f866e3c57fc52154fa50", "author": {"user": {"login": "mfateev", "name": "Maxim Fateev"}}, "url": "https://github.com/temporalio/sdk-java/commit/ea1625c420e910673000f866e3c57fc52154fa50", "committedDate": "2020-04-17T21:16:20Z", "message": "progress..."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4101c6dc8caac43330f4b08a69091c56c5d76e51", "author": {"user": {"login": "mfateev", "name": "Maxim Fateev"}}, "url": "https://github.com/temporalio/sdk-java/commit/4101c6dc8caac43330f4b08a69091c56c5d76e51", "committedDate": "2020-04-18T02:59:34Z", "message": "Merge branch 'master' into consistent_query"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "55b60b91296a30c7d0624e2f1a895c58b88e1131", "author": {"user": {"login": "mfateev", "name": "Maxim Fateev"}}, "url": "https://github.com/temporalio/sdk-java/commit/55b60b91296a30c7d0624e2f1a895c58b88e1131", "committedDate": "2020-04-18T16:32:32Z", "message": "WorkflowTest.testSignalUntyped passes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d9d2d5fa8178b9349303770d2adf843648b848b1", "author": {"user": {"login": "mfateev", "name": "Maxim Fateev"}}, "url": "https://github.com/temporalio/sdk-java/commit/d9d2d5fa8178b9349303770d2adf843648b848b1", "committedDate": "2020-04-19T21:15:00Z", "message": "Added consistent query support"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e009b091392c9f5711996e70bdd033bd75b0ac57", "author": {"user": {"login": "mfateev", "name": "Maxim Fateev"}}, "url": "https://github.com/temporalio/sdk-java/commit/e009b091392c9f5711996e70bdd033bd75b0ac57", "committedDate": "2020-04-19T21:41:43Z", "message": "unit test improved"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk3NjUzMTc3", "url": "https://github.com/temporalio/sdk-java/pull/69#pullrequestreview-397653177", "createdAt": "2020-04-21T20:32:21Z", "commit": {"oid": "e009b091392c9f5711996e70bdd033bd75b0ac57"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQyMDozMjoyMVrOGJXPgA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQyMDozMjoyMVrOGJXPgA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjQ3MTE2OA==", "bodyText": "Could we just use a json serializer for .ToString?", "url": "https://github.com/temporalio/sdk-java/pull/69#discussion_r412471168", "createdAt": "2020-04-21T20:32:21Z", "author": {"login": "shawnhathaway"}, "path": "src/main/java/io/temporal/internal/replay/QueryWorkflowParameters.java", "diffHunk": "@@ -105,26 +122,35 @@ public QueryWorkflowParameters withQueryRejectCondition(\n     return this;\n   }\n \n-  @Override\n-  public String toString() {\n-    StringBuilder sb = new StringBuilder();\n-    sb.append(\"{\");\n-    sb.append(\"QueryName: \" + queryType + \", \");\n-    sb.append(\"Input: \" + new String(input, 0, 512, StandardCharsets.UTF_8) + \", \");\n-    sb.append(\"WorkflowId: \" + workflowId + \", \");\n-    sb.append(\"RunId: \" + runId + \", \");\n-    sb.append(\"QueryRejectCondition: \" + queryRejectCondition + \", \");\n-    sb.append(\"}\");\n-    return sb.toString();\n-  }\n-\n   public QueryWorkflowParameters copy() {\n     QueryWorkflowParameters result = new QueryWorkflowParameters();\n     result.setInput(input);\n     result.setRunId(runId);\n     result.setQueryType(queryType);\n     result.setWorkflowId(workflowId);\n     result.setQueryRejectCondition(queryRejectCondition);\n+    result.setQueryConsistencyLevel(queryConsistencyLevel);\n     return result;\n   }\n+\n+  @Override\n+  public String toString() {\n+    return \"QueryWorkflowParameters{\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e009b091392c9f5711996e70bdd033bd75b0ac57"}, "originalPosition": 71}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3527, "cost": 1, "resetAt": "2021-11-02T12:20:56Z"}}}