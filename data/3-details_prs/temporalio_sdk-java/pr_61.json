{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAwNTAyNDk1", "number": 61, "title": "Activity wait for cancellation", "bodyText": "Added ability to specify behaviour of activity and child workflow in case of the enclosing CancellationScope cancellation. After this change it is possible to specify if a workflow should wait  for activity confirming cancellation, cancelling it asynchronously or not cancelling it at all. For child workflows there is one more option to specify if the parent has to wait for the child confirming that it received the cancellation request.", "createdAt": "2020-04-07T21:06:21Z", "url": "https://github.com/temporalio/sdk-java/pull/61", "merged": true, "mergeCommit": {"oid": "023d0c0646b89ec95aec77e11f35bfabbe4288f8"}, "closed": true, "closedAt": "2020-04-08T01:26:41Z", "author": {"login": "mfateev"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcUuklxAH2gAyNDAwNTAyNDk1OmVmMTdlNGQ1YWY2MDg1M2JlYzgwOTBkYjZkNWNjNDI1MTcyMDE2YmM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcVdjgJgFqTM4OTU5NDc3OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "ef17e4d5af60853bec8090db6d5cc425172016bc", "author": {"user": {"login": "mfateev", "name": "Maxim Fateev"}}, "url": "https://github.com/temporalio/sdk-java/commit/ef17e4d5af60853bec8090db6d5cc425172016bc", "committedDate": "2020-04-05T18:40:10Z", "message": "Added ActivityOptions.abandonOnCancellation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c2af5efa2a4d714339d7d390a5393801f61ba58a", "author": {"user": {"login": "mfateev", "name": "Maxim Fateev"}}, "url": "https://github.com/temporalio/sdk-java/commit/c2af5efa2a4d714339d7d390a5393801f61ba58a", "committedDate": "2020-04-06T19:26:33Z", "message": "Test service still broken"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e7b5a05e43801cb223776c1d58cf2136c5de9dca", "author": {"user": {"login": "mfateev", "name": "Maxim Fateev"}}, "url": "https://github.com/temporalio/sdk-java/commit/e7b5a05e43801cb223776c1d58cf2136c5de9dca", "committedDate": "2020-04-07T01:30:35Z", "message": "Merge branch 'enums' into activity_wait_for_cancellation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "54ad63348c0689b5be6a035cf657f77d9ef325f7", "author": {"user": {"login": "mfateev", "name": "Maxim Fateev"}}, "url": "https://github.com/temporalio/sdk-java/commit/54ad63348c0689b5be6a035cf657f77d9ef325f7", "committedDate": "2020-04-07T04:07:59Z", "message": "Fixed test service handling of the child workflow cancellation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ccca48b284f870f52acd11a332898bc8b6de4ca9", "author": {"user": {"login": "mfateev", "name": "Maxim Fateev"}}, "url": "https://github.com/temporalio/sdk-java/commit/ccca48b284f870f52acd11a332898bc8b6de4ca9", "committedDate": "2020-04-07T04:39:02Z", "message": "Merge branch 'master' into activity_wait_for_cancellation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "29bec0c5d08b7eaf03ad05b0933d4d65fc8936ad", "author": {"user": {"login": "mfateev", "name": "Maxim Fateev"}}, "url": "https://github.com/temporalio/sdk-java/commit/29bec0c5d08b7eaf03ad05b0933d4d65fc8936ad", "committedDate": "2020-04-07T20:40:13Z", "message": "Merge branch 'master' of github.com:temporalio/temporal-java-sdk into activity_wait_for_cancellation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "174ab5b7fac949769ef641555226cabdf0efc17d", "author": {"user": {"login": "mfateev", "name": "Maxim Fateev"}}, "url": "https://github.com/temporalio/sdk-java/commit/174ab5b7fac949769ef641555226cabdf0efc17d", "committedDate": "2020-04-07T21:03:19Z", "message": "Introduced ActivityCancellationType"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "babd4a5efad20586ab26ac372c7f1b4699590e43", "author": {"user": {"login": "mfateev", "name": "Maxim Fateev"}}, "url": "https://github.com/temporalio/sdk-java/commit/babd4a5efad20586ab26ac372c7f1b4699590e43", "committedDate": "2020-04-08T00:31:55Z", "message": "Merge branch 'master' of github.com:temporalio/temporal-java-sdk into activity_wait_for_cancellation"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg5NTkyMjk0", "url": "https://github.com/temporalio/sdk-java/pull/61#pullrequestreview-389592294", "createdAt": "2020-04-08T01:16:03Z", "commit": {"oid": "babd4a5efad20586ab26ac372c7f1b4699590e43"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOFQwMToxNjowM1rOGCbpCQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOFQwMToxNjowM1rOGCbpCQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTIwMzIwOQ==", "bodyText": "Not sure if move to reference equality was intended?", "url": "https://github.com/temporalio/sdk-java/pull/61#discussion_r405203209", "createdAt": "2020-04-08T01:16:03Z", "author": {"login": "shawnhathaway"}, "path": "src/main/java/io/temporal/internal/replay/StartChildWorkflowExecutionParameters.java", "diffHunk": "@@ -232,42 +245,46 @@ public ParentClosePolicy getParentClosePolicy() {\n     return parentClosePolicy;\n   }\n \n+  public ChildWorkflowCancellationType getCancellationType() {\n+    return cancellationType;\n+  }\n+\n   @Override\n   public boolean equals(Object o) {\n     if (this == o) return true;\n     if (o == null || getClass() != o.getClass()) return false;\n     StartChildWorkflowExecutionParameters that = (StartChildWorkflowExecutionParameters) o;\n     return executionStartToCloseTimeoutSeconds == that.executionStartToCloseTimeoutSeconds\n         && taskStartToCloseTimeoutSeconds == that.taskStartToCloseTimeoutSeconds\n-        && Objects.equals(namespace, that.namespace)\n+        && cancellationType == that.cancellationType\n+        && Objects.equal(namespace, that.namespace)\n         && Arrays.equals(input, that.input)\n-        && Objects.equals(taskList, that.taskList)\n-        && Objects.equals(workflowId, that.workflowId)\n-        && Objects.equals(workflowType, that.workflowType)\n+        && Objects.equal(taskList, that.taskList)\n+        && Objects.equal(workflowId, that.workflowId)\n+        && Objects.equal(workflowType, that.workflowType)\n         && workflowIdReusePolicy == that.workflowIdReusePolicy\n-        && Objects.equals(retryParameters, that.retryParameters)\n-        && Objects.equals(cronSchedule, that.cronSchedule)\n-        && Objects.equals(context, that.context)\n-        && Objects.equals(parentClosePolicy, that.parentClosePolicy);\n+        && Objects.equal(retryParameters, that.retryParameters)\n+        && Objects.equal(cronSchedule, that.cronSchedule)\n+        && Objects.equal(context, that.context)\n+        && parentClosePolicy == that.parentClosePolicy;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "babd4a5efad20586ab26ac372c7f1b4699590e43"}, "originalPosition": 107}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg5NTk0Nzc4", "url": "https://github.com/temporalio/sdk-java/pull/61#pullrequestreview-389594778", "createdAt": "2020-04-08T01:24:31Z", "commit": {"oid": "babd4a5efad20586ab26ac372c7f1b4699590e43"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3526, "cost": 1, "resetAt": "2021-11-02T12:20:56Z"}}}