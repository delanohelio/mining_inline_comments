{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ3MjE1MTIy", "number": 147, "title": "Added tags to request metrics. Eliminated duplicated ones", "bodyText": "", "createdAt": "2020-07-10T04:23:17Z", "url": "https://github.com/temporalio/sdk-java/pull/147", "merged": true, "mergeCommit": {"oid": "f9517192d1ddda7b016fa915434b3f05a9ee63cb"}, "closed": true, "closedAt": "2020-07-13T23:40:20Z", "author": {"login": "mfateev"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABczbC_BgH2gAyNDQ3MjE1MTIyOjMzYjFjMGYxYzJjZmFjNWU4YmFkMTdhZDllYjg3ODk1M2UwOWNiNzE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc0p9SwAH2gAyNDQ3MjE1MTIyOjUyZjVjYTg4NDM2YWMxZjkxYjQ3ZjBkNTliMmRlMmFjODE3NWEyMTM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "33b1c0f1c2cfac5e8bad17ad9eb878953e09cb71", "author": {"user": {"login": "mfateev", "name": "Maxim Fateev"}}, "url": "https://github.com/temporalio/sdk-java/commit/33b1c0f1c2cfac5e8bad17ad9eb878953e09cb71", "committedDate": "2020-07-10T03:26:55Z", "message": "Added tags to request metrics. Eliminated duplicated ones"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8af444183c11737966514189784d25f690534052", "author": {"user": {"login": "mfateev", "name": "Maxim Fateev"}}, "url": "https://github.com/temporalio/sdk-java/commit/8af444183c11737966514189784d25f690534052", "committedDate": "2020-07-10T04:28:44Z", "message": "Refactored GrpcDeadlineInterceptor"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ3NTgzMzE2", "url": "https://github.com/temporalio/sdk-java/pull/147#pullrequestreview-447583316", "createdAt": "2020-07-13T20:37:48Z", "commit": {"oid": "8af444183c11737966514189784d25f690534052"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QyMDozNzo0OVrOGw47_A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QyMDozNzo0OVrOGw47_A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzkxNzY5Mg==", "bodyText": "renamed as Workflow_TASK", "url": "https://github.com/temporalio/sdk-java/pull/147#discussion_r453917692", "createdAt": "2020-07-13T20:37:49Z", "author": {"login": "samarabbas"}, "path": "src/main/java/io/temporal/internal/metrics/MetricsType.java", "diffHunk": "@@ -32,18 +31,8 @@\n   // measure workflow execution from start to close\n   public static final String WORKFLOW_E2E_LATENCY =\n       TEMPORAL_METRICS_PREFIX + \"workflow-endtoend-latency\";\n-  public static final String WORKFLOW_GET_HISTORY_COUNTER =\n-      TEMPORAL_METRICS_PREFIX + \"workflow-get-history-total\";\n-  public static final String WORKFLOW_GET_HISTORY_FAILED_COUNTER =\n-      TEMPORAL_METRICS_PREFIX + \"workflow-get-history-failed\";\n-  public static final String WORKFLOW_GET_HISTORY_SUCCEED_COUNTER =\n-      TEMPORAL_METRICS_PREFIX + \"workflow-get-history-succeed\";\n-  public static final String WORKFLOW_GET_HISTORY_LATENCY =\n-      TEMPORAL_METRICS_PREFIX + \"workflow-get-history-latency\";\n-  public static final String WORKFLOW_SIGNAL_WITH_START_COUNTER =\n-      TEMPORAL_METRICS_PREFIX + \"workflow-signal-with-start\";\n-  public static final String DECISION_TIMEOUT_COUNTER =\n-      TEMPORAL_METRICS_PREFIX + \"decision-timeout\";\n+  public static final String DECISION_TASK_REPLAY_LATENCY =", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8af444183c11737966514189784d25f690534052"}, "originalPosition": 24}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ3NTg2ODg4", "url": "https://github.com/temporalio/sdk-java/pull/147#pullrequestreview-447586888", "createdAt": "2020-07-13T20:43:17Z", "commit": {"oid": "8af444183c11737966514189784d25f690534052"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QyMDo0MzoxN1rOGw5HtA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QyMDo0MzoxN1rOGw5HtA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzkyMDY5Mg==", "bodyText": "Looks like we are deviating from convention we use from go-sdk.  Is there a reason to move away from existing convention.  We don't want to build 2 separate dashboards for each different type of sdk.", "url": "https://github.com/temporalio/sdk-java/pull/147#discussion_r453920692", "createdAt": "2020-07-13T20:43:17Z", "author": {"login": "samarabbas"}, "path": "src/main/java/io/temporal/internal/metrics/MetricsType.java", "diffHunk": "@@ -122,32 +77,26 @@\n       TEMPORAL_METRICS_PREFIX + \"local-activity-panic\";\n   public static final String LOCAL_ACTIVITY_EXECUTION_LATENCY =\n       TEMPORAL_METRICS_PREFIX + \"local-activity-execution-latency\";\n-  public static final String WORKER_PANIC_COUNTER = TEMPORAL_METRICS_PREFIX + \"worker-panic\";\n-\n-  public static final String TASK_QUEUE_QUEUE_LATENCY =\n-      TEMPORAL_METRICS_PREFIX + \"taskqueue-queue-latency\";\n-\n-  public static final String UNHANDLED_SIGNALS_COUNTER =\n-      TEMPORAL_METRICS_PREFIX + \"unhandled-signals\";\n   public static final String CORRUPTED_SIGNALS_COUNTER =\n       TEMPORAL_METRICS_PREFIX + \"corrupted-signals\";\n \n   public static final String WORKER_START_COUNTER = TEMPORAL_METRICS_PREFIX + \"worker-start\";\n   public static final String POLLER_START_COUNTER = TEMPORAL_METRICS_PREFIX + \"poller-start\";\n \n   public static final String TEMPORAL_REQUEST = TEMPORAL_METRICS_PREFIX + \"request\";\n-  public static final String TEMPORAL_ERROR = TEMPORAL_METRICS_PREFIX + \"error\";\n-  public static final String TEMPORAL_LATENCY = TEMPORAL_METRICS_PREFIX + \"latency\";\n-  public static final String TEMPORAL_INVALID_REQUEST = TEMPORAL_METRICS_PREFIX + \"invalid-request\";\n+  public static final String TEMPORAL_REQUEST_FAILURE = TEMPORAL_REQUEST + \"-failure\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8af444183c11737966514189784d25f690534052"}, "originalPosition": 109}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ3NTg3NzI4", "url": "https://github.com/temporalio/sdk-java/pull/147#pullrequestreview-447587728", "createdAt": "2020-07-13T20:44:33Z", "commit": {"oid": "8af444183c11737966514189784d25f690534052"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QyMDo0NDozM1rOGw5KZw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QyMDo0NDozM1rOGw5KZw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzkyMTM4Mw==", "bodyText": "'-' does not work well with certain backends like prometheus for instance.  It would be nice to replace '-' with '_' everywhere if possible.  I think we have to plugin name sanitizer to fix that at runtime otherwise.", "url": "https://github.com/temporalio/sdk-java/pull/147#discussion_r453921383", "createdAt": "2020-07-13T20:44:33Z", "author": {"login": "samarabbas"}, "path": "src/main/java/io/temporal/internal/metrics/MetricsType.java", "diffHunk": "@@ -21,7 +21,6 @@\n \n public class MetricsType {\n   public static final String TEMPORAL_METRICS_PREFIX = \"temporal-\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8af444183c11737966514189784d25f690534052"}, "originalPosition": 3}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ3NjUwNzMx", "url": "https://github.com/temporalio/sdk-java/pull/147#pullrequestreview-447650731", "createdAt": "2020-07-13T22:21:28Z", "commit": {"oid": "8af444183c11737966514189784d25f690534052"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "23298f381b15a492b1859a69538d0104c4994836", "author": {"user": {"login": "mfateev", "name": "Maxim Fateev"}}, "url": "https://github.com/temporalio/sdk-java/commit/23298f381b15a492b1859a69538d0104c4994836", "committedDate": "2020-07-13T22:54:58Z", "message": "Changed metrics name separator to underscore"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "75737988489eea666c9781436309782576c5479e", "author": {"user": {"login": "mfateev", "name": "Maxim Fateev"}}, "url": "https://github.com/temporalio/sdk-java/commit/75737988489eea666c9781436309782576c5479e", "committedDate": "2020-07-13T23:04:41Z", "message": "Fixed hyphon in license"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "52f5ca88436ac1f91b47f0d59b2de2ac8175a213", "author": {"user": {"login": "mfateev", "name": "Maxim Fateev"}}, "url": "https://github.com/temporalio/sdk-java/commit/52f5ca88436ac1f91b47f0d59b2de2ac8175a213", "committedDate": "2020-07-13T23:23:12Z", "message": "Fixed metrics test for the new metrics names"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3496, "cost": 1, "resetAt": "2021-11-02T12:20:56Z"}}}