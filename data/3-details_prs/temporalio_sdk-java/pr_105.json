{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM2MDkwOTk0", "number": 105, "title": "Activity APIs cleanup.", "bodyText": "Exposes ActivityExecutionContext to simplify passing activity info around to other threads. Removed redundant methods from Activity class. Also some renaming for consistency. Changed some getters to return Optional instead of null.\nAlso fixes #98", "createdAt": "2020-06-17T20:55:12Z", "url": "https://github.com/temporalio/sdk-java/pull/105", "merged": true, "mergeCommit": {"oid": "d5a095237355dd5206bd5cb67728a2b195387fb5"}, "closed": true, "closedAt": "2020-06-22T04:52:25Z", "author": {"login": "mfateev"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcsNukhgH2gAyNDM2MDkwOTk0OjYzNzllMWIwYjFlNTUzZDM2MjQ2OGJiYjY4NGQyMzY5MzM5ZTZjNGE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABctos5bgFqTQzNDU4OTA5MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "6379e1b0b1e553d362468bbb684d2369339e6c4a", "author": {"user": {"login": "mfateev", "name": "Maxim Fateev"}}, "url": "https://github.com/temporalio/sdk-java/commit/6379e1b0b1e553d362468bbb684d2369339e6c4a", "committedDate": "2020-06-17T17:58:23Z", "message": "activity cleanup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f02cbd000fc96f2ed5b5df26aa444eab0173ec72", "author": {"user": {"login": "mfateev", "name": "Maxim Fateev"}}, "url": "https://github.com/temporalio/sdk-java/commit/f02cbd000fc96f2ed5b5df26aa444eab0173ec72", "committedDate": "2020-06-17T20:46:35Z", "message": "Minor fixes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a06118c541d9dc2f919dcddff8d55d5b9a0da388", "author": {"user": {"login": "mfateev", "name": "Maxim Fateev"}}, "url": "https://github.com/temporalio/sdk-java/commit/a06118c541d9dc2f919dcddff8d55d5b9a0da388", "committedDate": "2020-06-17T20:52:10Z", "message": "Moved ActivityExecutionContext ot activity package"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "21f624c555be9a90f721c256510bfa2ab56eff2b", "author": {"user": {"login": "mfateev", "name": "Maxim Fateev"}}, "url": "https://github.com/temporalio/sdk-java/commit/21f624c555be9a90f721c256510bfa2ab56eff2b", "committedDate": "2020-06-18T23:43:30Z", "message": "Merge branch 'master' into activity_cleanup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "23aead3e58679d0b00e9c54e0886f06d91b809b2", "author": {"user": {"login": "mfateev", "name": "Maxim Fateev"}}, "url": "https://github.com/temporalio/sdk-java/commit/23aead3e58679d0b00e9c54e0886f06d91b809b2", "committedDate": "2020-06-21T16:03:22Z", "message": "Merge branch 'master' of github.com:temporalio/temporal-java-sdk into activity_cleanup"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM0NTg4NjM4", "url": "https://github.com/temporalio/sdk-java/pull/105#pullrequestreview-434588638", "createdAt": "2020-06-22T03:55:53Z", "commit": {"oid": "23aead3e58679d0b00e9c54e0886f06d91b809b2"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMlQwMzo1NTo1M1rOGmxPEg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMlQwMzo1NTo1M1rOGmxPEg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzMwNTc0Ng==", "bodyText": "It feels weird to have optional parameter in the middle of signature.  It is considered very bad practice to have required parameters after optional ones.", "url": "https://github.com/temporalio/sdk-java/pull/105#discussion_r443305746", "createdAt": "2020-06-22T03:55:53Z", "author": {"login": "samarabbas"}, "path": "src/main/java/io/temporal/client/ActivityCompletionClient.java", "diffHunk": "@@ -19,41 +19,37 @@\n \n package io.temporal.client;\n \n-import io.temporal.activity.Activity;\n-import io.temporal.common.v1.WorkflowExecution;\n-import io.temporal.failure.CanceledFailure;\n+import io.temporal.activity.ActivityExecutionContext;\n+import java.util.Optional;\n \n /**\n- * Used to complete asynchronously activities that called {@link Activity#doNotCompleteOnReturn()}.\n+ * Used to complete asynchronously activities that called {@link\n+ * ActivityExecutionContext#doNotCompleteOnReturn()}.\n  *\n- * <p>Use {@link WorkflowClient#newActivityCompletionClient()} to create an instance. TODO: Throw\n- * relevant exceptions like EntityNotExists, etc.\n+ * <p>Use {@link WorkflowClient#newActivityCompletionClient()} to create an instance.\n  */\n public interface ActivityCompletionClient {\n \n   <R> void complete(byte[] taskToken, R result) throws ActivityCompletionException;\n \n-  <R> void complete(WorkflowExecution execution, String activityId, R result)\n+  <R> void complete(String workflowId, Optional<String> runId, String activityId, R result)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "23aead3e58679d0b00e9c54e0886f06d91b809b2"}, "originalPosition": 24}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM0NTg5MDkw", "url": "https://github.com/temporalio/sdk-java/pull/105#pullrequestreview-434589090", "createdAt": "2020-06-22T03:57:55Z", "commit": {"oid": "23aead3e58679d0b00e9c54e0886f06d91b809b2"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3493, "cost": 1, "resetAt": "2021-11-02T12:20:56Z"}}}