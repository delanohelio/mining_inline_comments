{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI3NTAzMzk1", "number": 1376, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNVQxOTozOTo0M1rOE9Xkng==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQxNjo0NToyMVrOE9tLJg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMyNzg0Nzk4OnYy", "diffSide": "RIGHT", "path": "rskj-core/src/test/java/co/rsk/peg/BridgeSupportTest.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNVQxOTozOTo0M1rOH6Bh6A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNVQxOTozOTo0M1rOH6Bh6A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDYwNDUyMA==", "bodyText": "remove thenReturn(false)", "url": "https://github.com/rsksmart/rskj/pull/1376#discussion_r530604520", "createdAt": "2020-11-25T19:39:43Z", "author": {"login": "guidohernan93"}, "path": "rskj-core/src/test/java/co/rsk/peg/BridgeSupportTest.java", "diffHunk": "@@ -5134,6 +5183,65 @@ public void registerFastBridgeBtcTransaction_amount_sent_is_0()\n         Assert.assertEquals(BridgeSupport.FAST_BRIDGE_UNPROCESSABLE_TX_VALUE_ZERO_ERROR, result);\n     }\n \n+    @Test\n+    public void registerFastBridgeBtcTransaction_TxWitnessAlreadySavedInStorage_returnsError()\n+            throws BlockStoreException, IOException {\n+        ActivationConfig.ForBlock activations = mock(ActivationConfig.ForBlock.class);\n+        when(activations.isActive(ConsensusRule.RSKIP176)).thenReturn(true);\n+\n+        Context btcContext = mock(Context.class);\n+        when(btcContext.getParams()).thenReturn(bridgeConstants.getBtcParams());\n+\n+        BridgeStorageProvider provider = mock(BridgeStorageProvider.class);\n+        when(provider.isFastBridgeFederationDerivationHashUsed(any(), any())).thenReturn(false).thenReturn(true);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "167ae434b861cd52d8767c0baff6d12ce99e3511"}, "originalPosition": 88}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMzMTM4NzI2OnYy", "diffSide": "RIGHT", "path": "rskj-core/src/main/java/co/rsk/peg/BridgeSupport.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQxNjo0NToyMVrOH6iZQA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQxNjo0NToyMVrOH6iZQA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTE0Mjk3Ng==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n               // This method will be used by registerBtcTransfer to save all the data required on storage (utxos, btcTxHash-derivationHash),\n          \n          \n            \n               // This method will be used by registerFastBridgeBtcTransaction to save all the data required on storage (utxos, btcTxHash-derivationHash),\n          \n      \n    \n    \n  \n\nI think the comment could be completely deleted", "url": "https://github.com/rsksmart/rskj/pull/1376#discussion_r531142976", "createdAt": "2020-11-26T16:45:21Z", "author": {"login": "josedahlquist"}, "path": "rskj-core/src/main/java/co/rsk/peg/BridgeSupport.java", "diffHunk": "@@ -2292,6 +2295,20 @@ protected Coin getAmountSentToAddress(BtcTransaction btcTx, Address btcAddress)\n         return v;\n     }\n \n+   // This method will be used by registerBtcTransfer to save all the data required on storage (utxos, btcTxHash-derivationHash),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "167ae434b861cd52d8767c0baff6d12ce99e3511"}, "originalPosition": 61}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4395, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}