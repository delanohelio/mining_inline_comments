{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQxMzQzNDM0", "number": 1393, "title": "Fix on how BTC addresses are instantiated on Bridge", "bodyText": "", "createdAt": "2020-12-16T18:00:03Z", "url": "https://github.com/rsksmart/rskj/pull/1393", "merged": true, "mergeCommit": {"oid": "da2d850b9eadb9715211bbd79ff591e92c20b6cc"}, "closed": true, "closedAt": "2020-12-29T16:26:00Z", "author": {"login": "guidohernan93"}, "timelineItems": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdmy57YgBqjQxMjEwNjkzMDU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdq8XcfABqjQxNTQ5NDM0ODY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7c610a997d8da3b26408bd25cd6f72486f1f4120", "author": {"user": {"login": "guidohernan93", "name": null}}, "url": "https://github.com/rsksmart/rskj/commit/7c610a997d8da3b26408bd25cd6f72486f1f4120", "committedDate": "2020-12-16T17:57:17Z", "message": "Fix on how BTC addresses are instantiated on Bridge. Now uses version and has160 to build them"}, "afterCommit": {"oid": "1b4aa9a06b6fb5abcb206084ad8fdb26763349df", "author": {"user": {"login": "guidohernan93", "name": null}}, "url": "https://github.com/rsksmart/rskj/commit/1b4aa9a06b6fb5abcb206084ad8fdb26763349df", "committedDate": "2020-12-16T18:04:41Z", "message": "Fix on how BTC addresses are instantiated on Bridge. Now uses version and has160 to build them"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1b4aa9a06b6fb5abcb206084ad8fdb26763349df", "author": {"user": {"login": "guidohernan93", "name": null}}, "url": "https://github.com/rsksmart/rskj/commit/1b4aa9a06b6fb5abcb206084ad8fdb26763349df", "committedDate": "2020-12-16T18:04:41Z", "message": "Fix on how BTC addresses are instantiated on Bridge. Now uses version and has160 to build them"}, "afterCommit": {"oid": "57336fcac0b9ac37c393067cd2ba3aa57487df16", "author": {"user": {"login": "guidohernan93", "name": null}}, "url": "https://github.com/rsksmart/rskj/commit/57336fcac0b9ac37c393067cd2ba3aa57487df16", "committedDate": "2020-12-16T18:06:29Z", "message": "Fix on how BTC addresses are instantiated on Bridge. Now uses version and has160 to build them"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "57336fcac0b9ac37c393067cd2ba3aa57487df16", "author": {"user": {"login": "guidohernan93", "name": null}}, "url": "https://github.com/rsksmart/rskj/commit/57336fcac0b9ac37c393067cd2ba3aa57487df16", "committedDate": "2020-12-16T18:06:29Z", "message": "Fix on how BTC addresses are instantiated on Bridge. Now uses version and has160 to build them"}, "afterCommit": {"oid": "28af98ebf991477e1a9b4cd7548a6d513421bea0", "author": {"user": {"login": "guidohernan93", "name": null}}, "url": "https://github.com/rsksmart/rskj/commit/28af98ebf991477e1a9b4cd7548a6d513421bea0", "committedDate": "2020-12-16T18:08:31Z", "message": "Fix on how BTC addresses are instantiated on Bridge. Now uses version and has160 to build them"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "28af98ebf991477e1a9b4cd7548a6d513421bea0", "author": {"user": {"login": "guidohernan93", "name": null}}, "url": "https://github.com/rsksmart/rskj/commit/28af98ebf991477e1a9b4cd7548a6d513421bea0", "committedDate": "2020-12-16T18:08:31Z", "message": "Fix on how BTC addresses are instantiated on Bridge. Now uses version and has160 to build them"}, "afterCommit": {"oid": "08a4d1afd26fd0c52e161da637ea83b0c8bb7c16", "author": {"user": {"login": "guidohernan93", "name": null}}, "url": "https://github.com/rsksmart/rskj/commit/08a4d1afd26fd0c52e161da637ea83b0c8bb7c16", "committedDate": "2020-12-16T18:09:12Z", "message": "Fix on how BTC addresses are instantiated on Bridge. Now uses version and has160 to build them"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU0OTQ4Nzg2", "url": "https://github.com/rsksmart/rskj/pull/1393#pullrequestreview-554948786", "createdAt": "2020-12-17T20:08:02Z", "commit": {"oid": "08a4d1afd26fd0c52e161da637ea83b0c8bb7c16"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7358c3800230528f96fdd94d1d7a8a928fdd5ee8", "author": {"user": {"login": "guidohernan93", "name": null}}, "url": "https://github.com/rsksmart/rskj/commit/7358c3800230528f96fdd94d1d7a8a928fdd5ee8", "committedDate": "2020-12-23T14:25:12Z", "message": "Fix on how BTC addresses are instantiated on Bridge. Now uses version and has160 to build them through methods created on BridgeUtils."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "08a4d1afd26fd0c52e161da637ea83b0c8bb7c16", "author": {"user": {"login": "guidohernan93", "name": null}}, "url": "https://github.com/rsksmart/rskj/commit/08a4d1afd26fd0c52e161da637ea83b0c8bb7c16", "committedDate": "2020-12-16T18:09:12Z", "message": "Fix on how BTC addresses are instantiated on Bridge. Now uses version and has160 to build them"}, "afterCommit": {"oid": "7358c3800230528f96fdd94d1d7a8a928fdd5ee8", "author": {"user": {"login": "guidohernan93", "name": null}}, "url": "https://github.com/rsksmart/rskj/commit/7358c3800230528f96fdd94d1d7a8a928fdd5ee8", "committedDate": "2020-12-23T14:25:12Z", "message": "Fix on how BTC addresses are instantiated on Bridge. Now uses version and has160 to build them through methods created on BridgeUtils."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8db84061e317c053d006af2c1ab52e78aa8ecfca", "author": {"user": {"login": "guidohernan93", "name": null}}, "url": "https://github.com/rsksmart/rskj/commit/8db84061e317c053d006af2c1ab52e78aa8ecfca", "committedDate": "2020-12-23T14:28:56Z", "message": "Create method getBytesFromBtcAddress for BTC address on getFastBridgeDerivationHash"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "06d2bfc00ab0b5df42c2a992fd3ae3b6aa286495", "author": {"user": {"login": "guidohernan93", "name": null}}, "url": "https://github.com/rsksmart/rskj/commit/06d2bfc00ab0b5df42c2a992fd3ae3b6aa286495", "committedDate": "2020-12-23T14:26:35Z", "message": "Create method"}, "afterCommit": {"oid": "8db84061e317c053d006af2c1ab52e78aa8ecfca", "author": {"user": {"login": "guidohernan93", "name": null}}, "url": "https://github.com/rsksmart/rskj/commit/8db84061e317c053d006af2c1ab52e78aa8ecfca", "committedDate": "2020-12-23T14:28:56Z", "message": "Create method getBytesFromBtcAddress for BTC address on getFastBridgeDerivationHash"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e4437cb7d3da668d1ef7f24537488d67f5b711b6", "author": {"user": {"login": "josedahlquist", "name": null}}, "url": "https://github.com/rsksmart/rskj/commit/e4437cb7d3da668d1ef7f24537488d67f5b711b6", "committedDate": "2020-12-29T00:37:58Z", "message": "Fix BTC address version parsing"}, "afterCommit": {"oid": "dc4e5a6fa7e2639cea4be202db5fcc8796be5faa", "author": {"user": {"login": "josedahlquist", "name": null}}, "url": "https://github.com/rsksmart/rskj/commit/dc4e5a6fa7e2639cea4be202db5fcc8796be5faa", "committedDate": "2020-12-29T13:59:09Z", "message": "Fix BTC address version parsing"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU5NTY4NTk4", "url": "https://github.com/rsksmart/rskj/pull/1393#pullrequestreview-559568598", "createdAt": "2020-12-29T14:57:18Z", "commit": {"oid": "dc4e5a6fa7e2639cea4be202db5fcc8796be5faa"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOVQxNDo1NzoxOFrOIMRJww==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOVQxNDo1NzoxOFrOIMRJww==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTczNDg1MQ==", "bodyText": "Review code format plase.", "url": "https://github.com/rsksmart/rskj/pull/1393#discussion_r549734851", "createdAt": "2020-12-29T14:57:18Z", "author": {"login": "pamgonzalez"}, "path": "rskj-core/src/main/java/co/rsk/peg/BridgeSupport.java", "diffHunk": "@@ -2112,23 +2110,23 @@ public long registerFastBridgeBtcTransaction(\n         );\n \n         if (provider.isFastBridgeFederationDerivationHashUsed(btcTxHash, fastBridgeDerivationHash)) {\n+            logger.debug(\"[registerFastBridgeBtcTransaction] Transaction and derivation hash already used\");\n             return FAST_BRIDGE_UNPROCESSABLE_TX_ALREADY_PROCESSED_ERROR_CODE;\n         }\n \n         if (!validationsForRegisterBtcTransaction(btcTxHash, height, pmtSerialized, btcTxSerialized)) {\n-            String errorMessage = String.format(\n-                \"[registerFastBridgeBtcTransaction] [rskTx:%s] error during validationsForRegisterBtcTransaction\",\n-                ByteUtil.toHexString(btcTxHash.getBytes())\n-            );\n-            logger.debug(errorMessage);\n+            logger.debug(\"[registerFastBridgeBtcTransaction] (btcTx:{}) error during validationsForRegisterBtcTransaction\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dc4e5a6fa7e2639cea4be202db5fcc8796be5faa"}, "originalPosition": 51}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f288ea72b9909abcb54c17b3ef2878516318500b", "author": {"user": {"login": "josedahlquist", "name": null}}, "url": "https://github.com/rsksmart/rskj/commit/f288ea72b9909abcb54c17b3ef2878516318500b", "committedDate": "2020-12-29T15:21:47Z", "message": "Fix BTC address version parsing"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "dc4e5a6fa7e2639cea4be202db5fcc8796be5faa", "author": {"user": {"login": "josedahlquist", "name": null}}, "url": "https://github.com/rsksmart/rskj/commit/dc4e5a6fa7e2639cea4be202db5fcc8796be5faa", "committedDate": "2020-12-29T13:59:09Z", "message": "Fix BTC address version parsing"}, "afterCommit": {"oid": "f288ea72b9909abcb54c17b3ef2878516318500b", "author": {"user": {"login": "josedahlquist", "name": null}}, "url": "https://github.com/rsksmart/rskj/commit/f288ea72b9909abcb54c17b3ef2878516318500b", "committedDate": "2020-12-29T15:21:47Z", "message": "Fix BTC address version parsing"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 454, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}