{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgzODM0MjUx", "number": 1183, "title": "Light client capability handshake", "bodyText": "", "createdAt": "2020-03-04T19:57:45Z", "url": "https://github.com/rsksmart/rskj/pull/1183", "merged": true, "mergeCommit": {"oid": "77f2b5d7656e8830b55771ce960dff85d0c6e597"}, "closed": true, "closedAt": "2020-03-05T14:16:54Z", "author": {"login": "julianlen"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcKrxz7gFqTM2OTU3MzI2Ng==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcKsF5FgFqTM2OTU5NTIyMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY5NTczMjY2", "url": "https://github.com/rsksmart/rskj/pull/1183#pullrequestreview-369573266", "createdAt": "2020-03-05T13:39:00Z", "commit": {"oid": "cb15f034fde8e28a8083b7d670c282a23cf13fb3"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxMzozOTowMVrOFyTzAQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxMzozOTowMVrOFyTzAQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODI5NzQ3Mw==", "bodyText": "we should change this comment to reflect new behaviour", "url": "https://github.com/rsksmart/rskj/pull/1183#discussion_r388297473", "createdAt": "2020-03-05T13:39:01Z", "author": {"login": "smcsicardi"}, "path": "rskj-core/src/main/java/org/ethereum/net/rlpx/HandshakeHandler.java", "diffHunk": "@@ -375,18 +376,23 @@ private void recordEvent(ChannelHandlerContext ctx, EventType event) {\n     private void processHelloMessage(ChannelHandlerContext ctx, HelloMessage helloMessage) {\n         List<Capability> capInCommon = configCapabilities.getSupportedCapabilities(helloMessage);\n         channel.initMessageCodes(capInCommon);\n+        List<Capability> capsToActivate = new LinkedList();\n         for (Capability capability : capInCommon) {\n             // It seems that the only supported capability is RSK, and everything else is ignored.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cb15f034fde8e28a8083b7d670c282a23cf13fb3"}, "originalPosition": 14}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "cb15f034fde8e28a8083b7d670c282a23cf13fb3", "author": {"user": {"login": "julianlen", "name": null}}, "url": "https://github.com/rsksmart/rskj/commit/cb15f034fde8e28a8083b7d670c282a23cf13fb3", "committedDate": "2020-03-04T19:56:03Z", "message": "light client added as part of the handshake, test has been modified too"}, "afterCommit": {"oid": "6fae570afd2dd8389f0ee38a77505231ccee753c", "author": {"user": {"login": "julianlen", "name": null}}, "url": "https://github.com/rsksmart/rskj/commit/6fae570afd2dd8389f0ee38a77505231ccee753c", "committedDate": "2020-03-05T13:50:29Z", "message": "light client added as part of the handshake, test has been modified too"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY5NTgzMzU1", "url": "https://github.com/rsksmart/rskj/pull/1183#pullrequestreview-369583355", "createdAt": "2020-03-05T13:52:28Z", "commit": {"oid": "6fae570afd2dd8389f0ee38a77505231ccee753c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e80003f16b62487b68fc384d45d098299f3dc18e", "author": {"user": {"login": "julianlen", "name": null}}, "url": "https://github.com/rsksmart/rskj/commit/e80003f16b62487b68fc384d45d098299f3dc18e", "committedDate": "2020-03-05T14:01:40Z", "message": "light client added as part of the handshake, test has been modified too"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6fae570afd2dd8389f0ee38a77505231ccee753c", "author": {"user": {"login": "julianlen", "name": null}}, "url": "https://github.com/rsksmart/rskj/commit/6fae570afd2dd8389f0ee38a77505231ccee753c", "committedDate": "2020-03-05T13:50:29Z", "message": "light client added as part of the handshake, test has been modified too"}, "afterCommit": {"oid": "e80003f16b62487b68fc384d45d098299f3dc18e", "author": {"user": {"login": "julianlen", "name": null}}, "url": "https://github.com/rsksmart/rskj/commit/e80003f16b62487b68fc384d45d098299f3dc18e", "committedDate": "2020-03-05T14:01:40Z", "message": "light client added as part of the handshake, test has been modified too"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY5NTk1MjIz", "url": "https://github.com/rsksmart/rskj/pull/1183#pullrequestreview-369595223", "createdAt": "2020-03-05T14:07:35Z", "commit": {"oid": "e80003f16b62487b68fc384d45d098299f3dc18e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 664, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}