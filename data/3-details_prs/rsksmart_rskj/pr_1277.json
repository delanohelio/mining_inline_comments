{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDUzNzM5MTAz", "number": 1277, "title": "Check if an account exists before add it.", "bodyText": "Added logic to check if an account exists before add it to the Wallet.\nNow it is possible to added several time the same account using the method personal_newAccountWithSeed.\nThis PR fix this issue adding a logic that checks before add.\nPlease @ajlopez and @fedejinich take a look of this.", "createdAt": "2020-07-20T18:58:54Z", "url": "https://github.com/rsksmart/rskj/pull/1277", "merged": true, "mergeCommit": {"oid": "d4ddaf4066487615be2a5bf32e08d11810d1a7b2"}, "closed": true, "closedAt": "2020-07-31T18:47:08Z", "author": {"login": "jonathansmirnoff"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc227CWgFqTQ1MTkwMTk5NQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABc5wfSbgFqTQ1NzgzNzMyOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUxOTAxOTk1", "url": "https://github.com/rsksmart/rskj/pull/1277#pullrequestreview-451901995", "createdAt": "2020-07-20T19:37:20Z", "commit": {"oid": "285cbeb8ae40df2673cdea25cbc10e7ea86b2e31"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQxOTozNzoyMFrOG0cfeQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQxOTozNzoyMFrOG0cfeQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzY0NTk0NQ==", "bodyText": "this seems unnecessary, why don't just put the value on the same address? wouldn't it always be the same deriving from the same priv?", "url": "https://github.com/rsksmart/rskj/pull/1277#discussion_r457645945", "createdAt": "2020-07-20T19:37:20Z", "author": {"login": "fedejinich"}, "path": "rskj-core/src/main/java/co/rsk/core/Wallet.java", "diffHunk": "@@ -193,7 +195,9 @@ public RskAddress addAccountWithPrivateKey(byte[] privateKeyBytes, String passph\n \n     private void saveAccount(Account account) {\n         synchronized (accessLock) {\n-            accounts.put(account.getAddress(), account.getEcKey().getPrivKeyBytes());\n+            if (!accounts.containsKey(account.getAddress())) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "285cbeb8ae40df2673cdea25cbc10e7ea86b2e31"}, "originalPosition": 16}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "285cbeb8ae40df2673cdea25cbc10e7ea86b2e31", "author": {"user": {"login": "jonathansmirnoff", "name": "Jonathan Smirnoff"}}, "url": "https://github.com/rsksmart/rskj/commit/285cbeb8ae40df2673cdea25cbc10e7ea86b2e31", "committedDate": "2020-07-20T18:48:38Z", "message": "Added logic to check if an account exists before add it to the Wallet"}, "afterCommit": {"oid": "bf0da20d5f0b89df6b22452677d55a2171b13df3", "author": {"user": {"login": "jonathansmirnoff", "name": "Jonathan Smirnoff"}}, "url": "https://github.com/rsksmart/rskj/commit/bf0da20d5f0b89df6b22452677d55a2171b13df3", "committedDate": "2020-07-21T14:54:58Z", "message": "Added logic to check if an account exists before add it to the Wallet"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "bf0da20d5f0b89df6b22452677d55a2171b13df3", "author": {"user": {"login": "jonathansmirnoff", "name": "Jonathan Smirnoff"}}, "url": "https://github.com/rsksmart/rskj/commit/bf0da20d5f0b89df6b22452677d55a2171b13df3", "committedDate": "2020-07-21T14:54:58Z", "message": "Added logic to check if an account exists before add it to the Wallet"}, "afterCommit": {"oid": "ab2a9ea09a435544488901045fedb590d255765f", "author": {"user": {"login": "jonathansmirnoff", "name": "Jonathan Smirnoff"}}, "url": "https://github.com/rsksmart/rskj/commit/ab2a9ea09a435544488901045fedb590d255765f", "committedDate": "2020-07-21T15:18:56Z", "message": "Added logic to check if an account exists before add it to the Wallet"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUyNzkwNTY2", "url": "https://github.com/rsksmart/rskj/pull/1277#pullrequestreview-452790566", "createdAt": "2020-07-21T20:07:42Z", "commit": {"oid": "ab2a9ea09a435544488901045fedb590d255765f"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUyOTAwODQ2", "url": "https://github.com/rsksmart/rskj/pull/1277#pullrequestreview-452900846", "createdAt": "2020-07-21T23:39:22Z", "commit": {"oid": "ab2a9ea09a435544488901045fedb590d255765f"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU2NzYxNzQ4", "url": "https://github.com/rsksmart/rskj/pull/1277#pullrequestreview-456761748", "createdAt": "2020-07-28T15:38:56Z", "commit": {"oid": "ab2a9ea09a435544488901045fedb590d255765f"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e7b4d121a95758ede33e31c3ab76a6dfd6925b94", "author": {"user": {"login": "jonathansmirnoff", "name": "Jonathan Smirnoff"}}, "url": "https://github.com/rsksmart/rskj/commit/e7b4d121a95758ede33e31c3ab76a6dfd6925b94", "committedDate": "2020-07-29T18:15:42Z", "message": "Added logic to check if an account exists before add it to the Wallet"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ab2a9ea09a435544488901045fedb590d255765f", "author": {"user": {"login": "jonathansmirnoff", "name": "Jonathan Smirnoff"}}, "url": "https://github.com/rsksmart/rskj/commit/ab2a9ea09a435544488901045fedb590d255765f", "committedDate": "2020-07-21T15:18:56Z", "message": "Added logic to check if an account exists before add it to the Wallet"}, "afterCommit": {"oid": "e7b4d121a95758ede33e31c3ab76a6dfd6925b94", "author": {"user": {"login": "jonathansmirnoff", "name": "Jonathan Smirnoff"}}, "url": "https://github.com/rsksmart/rskj/commit/e7b4d121a95758ede33e31c3ab76a6dfd6925b94", "committedDate": "2020-07-29T18:15:42Z", "message": "Added logic to check if an account exists before add it to the Wallet"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU3Nzg4NzI4", "url": "https://github.com/rsksmart/rskj/pull/1277#pullrequestreview-457788728", "createdAt": "2020-07-29T18:38:12Z", "commit": {"oid": "e7b4d121a95758ede33e31c3ab76a6dfd6925b94"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU3ODM3MzI4", "url": "https://github.com/rsksmart/rskj/pull/1277#pullrequestreview-457837328", "createdAt": "2020-07-29T19:49:23Z", "commit": {"oid": "e7b4d121a95758ede33e31c3ab76a6dfd6925b94"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 488, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}