{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM1MzM4MzA0", "number": 6453, "title": "[2.19.x] DDF-6221 Fixes NPE in MatchAnyValidator", "bodyText": "What does this PR do?\nFixes NPE in MatchAnyValidator constructor. I tried checking for null first, but that threw another error since validators has to be initialized.\nWho is reviewing it?\n\n@frnkshin\n@Lambeaux\nAsk 2 committers to review/merge the PR and tag them here.\n@cassandrabailey293\n@mojogitoverhere\nHow should this be tested?\nBuild, unit tests\nScreenshots\n\nChecklist:\n\n Documentation Updated\n Update / Add Threat Dragon models\n Update / Add Unit Tests\n Update / Add Integration Tests\n\nNotes on Review Process\nPlease see Notes on Review Process for further guidance on requirements for merging and abbreviated reviews.\nReview Comment Legend:\n\n\u270f\ufe0f (Pencil) This comment is a nitpick or style suggestion, no action required for approval. This comment should provide a suggestion either as an in line code snippet or a gist.\n\u2753 (Question Mark) This comment is to gain a clearer understanding of design or code choices, clarification is required but action may not be necessary for approval.\n\u2757 (Exclamation Mark) This comment is critical and requires clarification or action before approval.\n\n\n\nThis change is\u2002", "createdAt": "2020-12-09T17:23:40Z", "url": "https://github.com/codice/ddf/pull/6453", "merged": true, "mergeCommit": {"oid": "f4df47a0ef5bf08fe04b7ee649e142859ab63496"}, "closed": true, "closedAt": "2020-12-11T16:41:18Z", "author": {"login": "shaundmorris"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdkiEThgH2gAyNTM1MzM4MzA0OmNiMGFkMDNhOWY4YzYzMjE4ZDc4YmE4NzNiZjhjY2FjM2MwZDk4MTg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdlKtGsgFqTU1MDI2MDQ5MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "cb0ad03a9f8c63218d78ba873bf8ccac3c0d9818", "author": {"user": {"login": "shaundmorris", "name": "Shaun Morris"}}, "url": "https://github.com/codice/ddf/commit/cb0ad03a9f8c63218d78ba873bf8ccac3c0d9818", "committedDate": "2020-12-09T17:19:59Z", "message": "DDF-6221 Fixed NPE in MatchAnyValidator"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ4NDI0NzAy", "url": "https://github.com/codice/ddf/pull/6453#pullrequestreview-548424702", "createdAt": "2020-12-09T17:29:38Z", "commit": {"oid": "cb0ad03a9f8c63218d78ba873bf8ccac3c0d9818"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ4NDMyMjk2", "url": "https://github.com/codice/ddf/pull/6453#pullrequestreview-548432296", "createdAt": "2020-12-09T17:35:32Z", "commit": {"oid": "cb0ad03a9f8c63218d78ba873bf8ccac3c0d9818"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ4NDQ0ODM3", "url": "https://github.com/codice/ddf/pull/6453#pullrequestreview-548444837", "createdAt": "2020-12-09T17:50:36Z", "commit": {"oid": "cb0ad03a9f8c63218d78ba873bf8ccac3c0d9818"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQxNzo1MDozNlrOIChqVA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQxNzo1MDozNlrOIChqVA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTUxOTU3Mg==", "bodyText": "Would it make more sense to initialize this.validators as an empty List in this case? Unless the distinction between an empty validators and a null validators matters, I think that we could prevent complications down the line if we reduce the number of null values which our codebase permits.", "url": "https://github.com/codice/ddf/pull/6453#discussion_r539519572", "createdAt": "2020-12-09T17:50:36Z", "author": {"login": "kentmorrissey"}, "path": "catalog/core/catalog-core-validator/src/main/java/ddf/catalog/validation/impl/validator/MatchAnyValidator.java", "diffHunk": "@@ -34,11 +34,16 @@\n   private final List<AttributeValidator> validators;\n \n   public MatchAnyValidator(List<AttributeValidator> validators) {\n-    this.validators =\n-        validators\n-            .stream()\n-            .sorted(Comparator.comparingInt(Object::hashCode))\n-            .collect(Collectors.toList());\n+    // validators has to be initialized\n+    if (validators == null) {\n+      this.validators = null;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cb0ad03a9f8c63218d78ba873bf8ccac3c0d9818"}, "originalPosition": 11}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "734926b39e05edbe9cf9807cf0c65c1d3226e349", "author": {"user": {"login": "shaundmorris", "name": "Shaun Morris"}}, "url": "https://github.com/codice/ddf/commit/734926b39e05edbe9cf9807cf0c65c1d3226e349", "committedDate": "2020-12-09T18:24:16Z", "message": "DDF-6221 initialize validators to an empty list in  MatchAnyValidator"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ4NDg5OTc3", "url": "https://github.com/codice/ddf/pull/6453#pullrequestreview-548489977", "createdAt": "2020-12-09T18:38:54Z", "commit": {"oid": "734926b39e05edbe9cf9807cf0c65c1d3226e349"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "07afc08f89848be2d78b6cfb361275d986c499b1", "author": {"user": {"login": "shaundmorris", "name": "Shaun Morris"}}, "url": "https://github.com/codice/ddf/commit/07afc08f89848be2d78b6cfb361275d986c499b1", "committedDate": "2020-12-10T16:17:56Z", "message": "DDF-6221 made AttributeValidator list dependency optional"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ5NDEyOTgz", "url": "https://github.com/codice/ddf/pull/6453#pullrequestreview-549412983", "createdAt": "2020-12-10T17:03:07Z", "commit": {"oid": "07afc08f89848be2d78b6cfb361275d986c499b1"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQxNzowMzowN1rOIDTwVw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQxNzowMzowN1rOIDTwVw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDM0MDMxMQ==", "bodyText": "Does this change fix the issues which this PR's build has had?", "url": "https://github.com/codice/ddf/pull/6453#discussion_r540340311", "createdAt": "2020-12-10T17:03:07Z", "author": {"login": "kentmorrissey"}, "path": "catalog/core/catalog-core-definitionparser/src/main/resources/OSGI-INF/blueprint/blueprint.xml", "diffHunk": "@@ -28,7 +28,7 @@\n             <reference-list interface=\"ddf.catalog.data.MetacardType\" />\n         </argument>\n         <argument>\n-            <reference-list interface=\"ddf.catalog.validation.AttributeValidator\" />\n+            <reference-list interface=\"ddf.catalog.validation.AttributeValidator\" availability=\"optional\" />", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "07afc08f89848be2d78b6cfb361275d986c499b1"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUwMjYwNDkx", "url": "https://github.com/codice/ddf/pull/6453#pullrequestreview-550260491", "createdAt": "2020-12-11T16:40:45Z", "commit": {"oid": "07afc08f89848be2d78b6cfb361275d986c499b1"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 687, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}