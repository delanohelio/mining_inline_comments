{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTIxODc5NDEx", "number": 6423, "title": "[2.19.x] DDF-6204 Reset Search window on Workspace change", "bodyText": "What does this PR do?\nAdds functionality that triggers the reset of the search creation panel when a workspace is selected from the workspace menu.\nWho is reviewing it?\n\n@leo-sakh\n@frnkshin\n@lavoywj\nSelect relevant component teams:\n@codice/ui \nAsk 2 committers to review/merge the PR and tag them here.\n\n@millerw8\n@leo-sakh\nHow should this be tested?\n\n\nBuild and set up DDF\nCreate some additional workspaces\nOpen one of the workspaces and create a search with any anyGeo field and draw a polygon (or anything else)\nDo not start the search, click off the search and then open another workspace\nVerify that the polygon drawn on the other workspace does not appear\n\nAny background context you want to provide?\nWhat are the relevant tickets?\nFixes: #6204\nScreenshots\n\nChecklist:\n\n Documentation Updated\n Update / Add Threat Dragon models\n Update / Add Unit Tests\n Update / Add Integration Tests\n\nNotes on Review Process\nPlease see Notes on Review Process for further guidance on requirements for merging and abbreviated reviews.\nReview Comment Legend:\n\n\u270f\ufe0f (Pencil) This comment is a nitpick or style suggestion, no action required for approval. This comment should provide a suggestion either as an in line code snippet or a gist.\n\u2753 (Question Mark) This comment is to gain a clearer understanding of design or code choices, clarification is required but action may not be necessary for approval.\n\u2757 (Exclamation Mark) This comment is critical and requires clarification or action before approval.", "createdAt": "2020-11-16T19:30:06Z", "url": "https://github.com/codice/ddf/pull/6423", "merged": true, "mergeCommit": {"oid": "bf4e0d5b8c45bcf35d8e3741855aded2d3c19734"}, "closed": true, "closedAt": "2020-12-07T20:26:29Z", "author": {"login": "jMoneee"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdb1fk9gH2gAyNTIxODc5NDExOjE5OTQ3MGQ0ODk0ZGY5ZjRmNWYyZGM0YzkyM2NhZmY1NWU4NmM2NDk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdj6MgGAFqTU0NjQzODU2NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "199470d4894df9f4f5f2dc4c923caff55e86c649", "author": {"user": {"login": "jMoneee", "name": "Joseph Larsen"}}, "url": "https://github.com/codice/ddf/commit/199470d4894df9f4f5f2dc4c923caff55e86c649", "committedDate": "2020-11-12T16:52:39Z", "message": "DDF-6204 Reset Search window on Workspace change"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMxNzk2NjI5", "url": "https://github.com/codice/ddf/pull/6423#pullrequestreview-531796629", "createdAt": "2020-11-16T21:32:23Z", "commit": {"oid": "199470d4894df9f4f5f2dc4c923caff55e86c649"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQyMTozMjoyM1rOH0Tmgg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQyMTozMjoyM1rOH0Tmgg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDYwOTE1NA==", "bodyText": "\u2753 So this will be listening for 'resetSearch' on the wreqr.vent object. Is that what we want to happen? Typically, we listen to changes/updates/additions to an object we 'own', i.e. this.model. If we're wanting to go the vent route then you might want to consider:\nwreqr.vent.on('resetSearch', this.cancel)\nthough I believe Backbone.Wreqr is deprecated.", "url": "https://github.com/codice/ddf/pull/6423#discussion_r524609154", "createdAt": "2020-11-16T21:32:23Z", "author": {"login": "leo-sakh"}, "path": "ui/packages/catalog-ui-search/src/main/webapp/component/query-add/query-add.view.js", "diffHunk": "@@ -58,6 +58,7 @@ module.exports = Marionette.LayoutView.extend({\n     this.listenTo(this.model, 'resetToDefaults change:type', this.reshow)\n     this.listenTo(this.model, 'change:filterTree', this.reshow)\n     this.listenTo(this.model, 'closeDropdown', this.closeDropdown)\n+    this.listenTo(wreqr.vent, 'resetSearch', this.cancel)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "199470d4894df9f4f5f2dc4c923caff55e86c649"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQxMjU1NzQ5", "url": "https://github.com/codice/ddf/pull/6423#pullrequestreview-541255749", "createdAt": "2020-11-30T20:09:01Z", "commit": {"oid": "199470d4894df9f4f5f2dc4c923caff55e86c649"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ2NDEyMjgz", "url": "https://github.com/codice/ddf/pull/6423#pullrequestreview-546412283", "createdAt": "2020-12-07T18:17:36Z", "commit": {"oid": "199470d4894df9f4f5f2dc4c923caff55e86c649"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ2NDM4NTY1", "url": "https://github.com/codice/ddf/pull/6423#pullrequestreview-546438565", "createdAt": "2020-12-07T18:52:44Z", "commit": {"oid": "199470d4894df9f4f5f2dc4c923caff55e86c649"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 668, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}