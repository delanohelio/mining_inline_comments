{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAyODA2MjM5", "number": 5985, "title": "DDF-5984 Support overriding default Solr configsets from etc", "bodyText": "What does this PR do?\nProvides a way to override the default configuration for all collections and a way to override individual collections from the etc directory.\nWho is reviewing it?\n\n@lamhuy\n@derekwilhelm\nSelect relevant component teams:\n\n@codice/solr\nAsk 2 committers to review/merge the PR and tag them here.\n\n@rzwiefel\n@bdeining\nHow should this be tested?\n\nUnzip the DDF build.  Copy etc/solr/configsets/_default to etc/solr/configsets/catalog.  Add different words to conf/protwords.txt under each directory.  Start DDF with a clean SolrCloud.  Verify catalog has its given word and that all other collections have the _default given word.\nhttp://localhost:8994/solr/#/catalog/files?file=protwords.txt\nhttp://localhost:8994/solr/#/alerts/files?file=protwords.txt\nAny background context you want to provide?\nWhat are the relevant tickets?\nFixes #5984\nScreenshots\n\nChecklist:\n\n Documentation Updated\n Update / Add Threat Dragon models\n Update / Add Unit Tests\n Update / Add Integration Tests\n\nNotes on Review Process\nPlease see Notes on Review Process for further guidance on requirements for merging and abbreviated reviews.\nReview Comment Legend:\n\n\u270f\ufe0f (Pencil) This comment is a nitpick or style suggestion, no action required for approval. This comment should provide a suggestion either as an in line code snippet or a gist.\n\u2753 (Question Mark) This comment is to gain a clearer understanding of design or code choices, clarification is required but action may not be necessary for approval.\n\u2757 (Exclamation Mark) This comment is critical and requires clarification or action before approval.", "createdAt": "2020-04-13T19:43:51Z", "url": "https://github.com/codice/ddf/pull/5985", "merged": true, "mergeCommit": {"oid": "95a47d7e1ceaf15ee9c42cd22510fc63b6be7a0b"}, "closed": true, "closedAt": "2020-04-14T18:17:52Z", "author": {"login": "pklinef"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcXUXJ8AFqTM5MjM5MDM2NQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcXmdRFAFqTM5MzExNjI2NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkyMzkwMzY1", "url": "https://github.com/codice/ddf/pull/5985#pullrequestreview-392390365", "createdAt": "2020-04-13T19:49:44Z", "commit": {"oid": "7cd20066e36bcc300c1a1d6fbbe33fad16f5d620"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkyNDE2MjUw", "url": "https://github.com/codice/ddf/pull/5985#pullrequestreview-392416250", "createdAt": "2020-04-13T20:29:41Z", "commit": {"oid": "7cd20066e36bcc300c1a1d6fbbe33fad16f5d620"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b8f293732e38d17f9e39e6079bb5709c1b7fc7b1", "author": {"user": {"login": "pklinef", "name": "Phil Klinefelter"}}, "url": "https://github.com/codice/ddf/commit/b8f293732e38d17f9e39e6079bb5709c1b7fc7b1", "committedDate": "2020-04-13T22:31:27Z", "message": "DDF-5984 Support overriding default Solr configsets from etc"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7cd20066e36bcc300c1a1d6fbbe33fad16f5d620", "author": {"user": {"login": "pklinef", "name": "Phil Klinefelter"}}, "url": "https://github.com/codice/ddf/commit/7cd20066e36bcc300c1a1d6fbbe33fad16f5d620", "committedDate": "2020-04-13T19:33:33Z", "message": "DDF-5984 Support overriding default Solr configsets from etc"}, "afterCommit": {"oid": "b8f293732e38d17f9e39e6079bb5709c1b7fc7b1", "author": {"user": {"login": "pklinef", "name": "Phil Klinefelter"}}, "url": "https://github.com/codice/ddf/commit/b8f293732e38d17f9e39e6079bb5709c1b7fc7b1", "committedDate": "2020-04-13T22:31:27Z", "message": "DDF-5984 Support overriding default Solr configsets from etc"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkzMDc3OTE5", "url": "https://github.com/codice/ddf/pull/5985#pullrequestreview-393077919", "createdAt": "2020-04-14T16:06:04Z", "commit": {"oid": "b8f293732e38d17f9e39e6079bb5709c1b7fc7b1"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNFQxNjowNjowNVrOGFWAGA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNFQxNjowNjowNVrOGFWAGA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODI1NjUzNg==", "bodyText": "\u270f\ufe0f I think ImmutableList.of would work here as well", "url": "https://github.com/codice/ddf/pull/5985#discussion_r408256536", "createdAt": "2020-04-14T16:06:05Z", "author": {"login": "bdeining"}, "path": "platform/solr/solr-factory-impl/src/main/java/org/codice/solr/factory/impl/Configsets.java", "diffHunk": "@@ -0,0 +1,90 @@\n+/**\n+ * Copyright (c) Codice Foundation\n+ *\n+ * <p>This is free software: you can redistribute it and/or modify it under the terms of the GNU\n+ * Lesser General Public License as published by the Free Software Foundation, either version 3 of\n+ * the License, or any later version.\n+ *\n+ * <p>This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY;\n+ * without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+ * GNU Lesser General Public License for more details. A copy of the GNU Lesser General Public\n+ * License is distributed along with this program and can be found at\n+ * <http://www.gnu.org/licenses/lgpl.html>.\n+ */\n+package org.codice.solr.factory.impl;\n+\n+import java.io.File;\n+import java.io.FileOutputStream;\n+import java.io.IOException;\n+import java.io.InputStream;\n+import java.nio.file.Path;\n+import java.nio.file.Paths;\n+import java.util.Arrays;\n+import java.util.Collections;\n+import java.util.List;\n+import org.apache.commons.io.IOUtils;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+public class Configsets {\n+\n+  private static final Logger LOGGER = LoggerFactory.getLogger(Configsets.class);\n+\n+  protected static final List<String> SOLR_CONFIG_FILES =\n+      Collections.unmodifiableList(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b8f293732e38d17f9e39e6079bb5709c1b7fc7b1"}, "originalPosition": 34}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkzMDc5NzE5", "url": "https://github.com/codice/ddf/pull/5985#pullrequestreview-393079719", "createdAt": "2020-04-14T16:08:10Z", "commit": {"oid": "b8f293732e38d17f9e39e6079bb5709c1b7fc7b1"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkzMTE2MjY1", "url": "https://github.com/codice/ddf/pull/5985#pullrequestreview-393116265", "createdAt": "2020-04-14T16:52:45Z", "commit": {"oid": "b8f293732e38d17f9e39e6079bb5709c1b7fc7b1"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNFQxNjo1Mjo0NVrOGFX74Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNFQxNjo1Mjo0NVrOGFX74Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODI4ODIyNQ==", "bodyText": "\u270f\ufe0f\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            public class Configsets {\n          \n          \n            \n            public class ConfigSets {", "url": "https://github.com/codice/ddf/pull/5985#discussion_r408288225", "createdAt": "2020-04-14T16:52:45Z", "author": {"login": "Bdthomson"}, "path": "platform/solr/solr-factory-impl/src/main/java/org/codice/solr/factory/impl/Configsets.java", "diffHunk": "@@ -0,0 +1,90 @@\n+/**\n+ * Copyright (c) Codice Foundation\n+ *\n+ * <p>This is free software: you can redistribute it and/or modify it under the terms of the GNU\n+ * Lesser General Public License as published by the Free Software Foundation, either version 3 of\n+ * the License, or any later version.\n+ *\n+ * <p>This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY;\n+ * without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+ * GNU Lesser General Public License for more details. A copy of the GNU Lesser General Public\n+ * License is distributed along with this program and can be found at\n+ * <http://www.gnu.org/licenses/lgpl.html>.\n+ */\n+package org.codice.solr.factory.impl;\n+\n+import java.io.File;\n+import java.io.FileOutputStream;\n+import java.io.IOException;\n+import java.io.InputStream;\n+import java.nio.file.Path;\n+import java.nio.file.Paths;\n+import java.util.Arrays;\n+import java.util.Collections;\n+import java.util.List;\n+import org.apache.commons.io.IOUtils;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+public class Configsets {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b8f293732e38d17f9e39e6079bb5709c1b7fc7b1"}, "originalPosition": 29}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4906, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}