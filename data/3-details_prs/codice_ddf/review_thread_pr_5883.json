{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg0NDY4NzYz", "number": 5883, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxOTo1NTo0NVrODlkCug==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxOTo1NTo0NVrODlkCug==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQwNzE0NDI2OnYy", "diffSide": "RIGHT", "path": "Jenkinsfile", "isResolved": false, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxOTo1NTo0NVrOFyh5AA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQxNjoyNzoxNFrOFzv5SA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODUyODM4NA==", "bodyText": "\u2754 Do you think it is worth a comment here on why we are adding this? Basically we are seeing the stage fail when trying to upload the analysis.", "url": "https://github.com/codice/ddf/pull/5883#discussion_r388528384", "createdAt": "2020-03-05T19:55:45Z", "author": {"login": "shaundmorris"}, "path": "Jenkinsfile", "diffHunk": "@@ -166,10 +166,12 @@ pipeline {\n                 SONAR_TOKEN = credentials('sonarqube-token')\n             }\n             steps {\n-                // -DskipITs is temporary to skip all the tests that were failing at the time. See https://github.com/codice/ddf/issues/5777\n-                withMaven(maven: 'M35', jdk: 'jdk8-latest', globalMavenSettingsConfig: 'default-global-settings', mavenSettingsConfig: 'codice-maven-settings', mavenOpts: '${LARGE_MVN_OPTS} ${LINUX_MVN_RANDOM}') {\n-                    script {\n-                        sh 'mvn -q -B -DskipITs -Dcheckstyle.skip=true org.jacoco:jacoco-maven-plugin:prepare-agent sonar:sonar -Dsonar.host.url=https://sonarcloud.io -Dsonar.login=$SONAR_TOKEN  -Dsonar.organization=codice -Dsonar.projectKey=ddf -Dsonar.exclusions=${COVERAGE_EXCLUSIONS} -pl !$DOCS,!$ITESTS $DISABLE_DOWNLOAD_PROGRESS_OPTS'\n+                catchError(buildResult: 'SUCCESS', stageResult: 'FAILURE') {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e681ed838a9098f62d4f2332b810e6d5e1a73a39"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODUzNDI4Ng==", "bodyText": "\u2754 Wouldn't null be better here, if the build is marked unstable in an earlier stage catchError will fail because it can't set the buildResult higher than what it was before catchError.", "url": "https://github.com/codice/ddf/pull/5883#discussion_r388534286", "createdAt": "2020-03-05T20:07:22Z", "author": {"login": "AdamBurstynski"}, "path": "Jenkinsfile", "diffHunk": "@@ -166,10 +166,12 @@ pipeline {\n                 SONAR_TOKEN = credentials('sonarqube-token')\n             }\n             steps {\n-                // -DskipITs is temporary to skip all the tests that were failing at the time. See https://github.com/codice/ddf/issues/5777\n-                withMaven(maven: 'M35', jdk: 'jdk8-latest', globalMavenSettingsConfig: 'default-global-settings', mavenSettingsConfig: 'codice-maven-settings', mavenOpts: '${LARGE_MVN_OPTS} ${LINUX_MVN_RANDOM}') {\n-                    script {\n-                        sh 'mvn -q -B -DskipITs -Dcheckstyle.skip=true org.jacoco:jacoco-maven-plugin:prepare-agent sonar:sonar -Dsonar.host.url=https://sonarcloud.io -Dsonar.login=$SONAR_TOKEN  -Dsonar.organization=codice -Dsonar.projectKey=ddf -Dsonar.exclusions=${COVERAGE_EXCLUSIONS} -pl !$DOCS,!$ITESTS $DISABLE_DOWNLOAD_PROGRESS_OPTS'\n+                catchError(buildResult: 'SUCCESS', stageResult: 'FAILURE') {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODUyODM4NA=="}, "originalCommit": {"oid": "e681ed838a9098f62d4f2332b810e6d5e1a73a39"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODUzNTYwMg==", "bodyText": "Hmm, didn't think about that. Good point. Wasn't sure if it would override a previous stage buildResult. That wouldn't be ideal either.", "url": "https://github.com/codice/ddf/pull/5883#discussion_r388535602", "createdAt": "2020-03-05T20:10:16Z", "author": {"login": "shaundmorris"}, "path": "Jenkinsfile", "diffHunk": "@@ -166,10 +166,12 @@ pipeline {\n                 SONAR_TOKEN = credentials('sonarqube-token')\n             }\n             steps {\n-                // -DskipITs is temporary to skip all the tests that were failing at the time. See https://github.com/codice/ddf/issues/5777\n-                withMaven(maven: 'M35', jdk: 'jdk8-latest', globalMavenSettingsConfig: 'default-global-settings', mavenSettingsConfig: 'codice-maven-settings', mavenOpts: '${LARGE_MVN_OPTS} ${LINUX_MVN_RANDOM}') {\n-                    script {\n-                        sh 'mvn -q -B -DskipITs -Dcheckstyle.skip=true org.jacoco:jacoco-maven-plugin:prepare-agent sonar:sonar -Dsonar.host.url=https://sonarcloud.io -Dsonar.login=$SONAR_TOKEN  -Dsonar.organization=codice -Dsonar.projectKey=ddf -Dsonar.exclusions=${COVERAGE_EXCLUSIONS} -pl !$DOCS,!$ITESTS $DISABLE_DOWNLOAD_PROGRESS_OPTS'\n+                catchError(buildResult: 'SUCCESS', stageResult: 'FAILURE') {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODUyODM4NA=="}, "originalCommit": {"oid": "e681ed838a9098f62d4f2332b810e6d5e1a73a39"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODU5MzEwOA==", "bodyText": "comment added for clarity\nstageResult changed to null, should buildResult be changed to null as well?", "url": "https://github.com/codice/ddf/pull/5883#discussion_r388593108", "createdAt": "2020-03-05T22:01:54Z", "author": {"login": "TonyMorrison"}, "path": "Jenkinsfile", "diffHunk": "@@ -166,10 +166,12 @@ pipeline {\n                 SONAR_TOKEN = credentials('sonarqube-token')\n             }\n             steps {\n-                // -DskipITs is temporary to skip all the tests that were failing at the time. See https://github.com/codice/ddf/issues/5777\n-                withMaven(maven: 'M35', jdk: 'jdk8-latest', globalMavenSettingsConfig: 'default-global-settings', mavenSettingsConfig: 'codice-maven-settings', mavenOpts: '${LARGE_MVN_OPTS} ${LINUX_MVN_RANDOM}') {\n-                    script {\n-                        sh 'mvn -q -B -DskipITs -Dcheckstyle.skip=true org.jacoco:jacoco-maven-plugin:prepare-agent sonar:sonar -Dsonar.host.url=https://sonarcloud.io -Dsonar.login=$SONAR_TOKEN  -Dsonar.organization=codice -Dsonar.projectKey=ddf -Dsonar.exclusions=${COVERAGE_EXCLUSIONS} -pl !$DOCS,!$ITESTS $DISABLE_DOWNLOAD_PROGRESS_OPTS'\n+                catchError(buildResult: 'SUCCESS', stageResult: 'FAILURE') {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODUyODM4NA=="}, "originalCommit": {"oid": "e681ed838a9098f62d4f2332b810e6d5e1a73a39"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTgwNjQwOA==", "bodyText": "made buildResult null and stageResult 'FAILURE'", "url": "https://github.com/codice/ddf/pull/5883#discussion_r389806408", "createdAt": "2020-03-09T16:27:14Z", "author": {"login": "TonyMorrison"}, "path": "Jenkinsfile", "diffHunk": "@@ -166,10 +166,12 @@ pipeline {\n                 SONAR_TOKEN = credentials('sonarqube-token')\n             }\n             steps {\n-                // -DskipITs is temporary to skip all the tests that were failing at the time. See https://github.com/codice/ddf/issues/5777\n-                withMaven(maven: 'M35', jdk: 'jdk8-latest', globalMavenSettingsConfig: 'default-global-settings', mavenSettingsConfig: 'codice-maven-settings', mavenOpts: '${LARGE_MVN_OPTS} ${LINUX_MVN_RANDOM}') {\n-                    script {\n-                        sh 'mvn -q -B -DskipITs -Dcheckstyle.skip=true org.jacoco:jacoco-maven-plugin:prepare-agent sonar:sonar -Dsonar.host.url=https://sonarcloud.io -Dsonar.login=$SONAR_TOKEN  -Dsonar.organization=codice -Dsonar.projectKey=ddf -Dsonar.exclusions=${COVERAGE_EXCLUSIONS} -pl !$DOCS,!$ITESTS $DISABLE_DOWNLOAD_PROGRESS_OPTS'\n+                catchError(buildResult: 'SUCCESS', stageResult: 'FAILURE') {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODUyODM4NA=="}, "originalCommit": {"oid": "e681ed838a9098f62d4f2332b810e6d5e1a73a39"}, "originalPosition": 8}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4820, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}