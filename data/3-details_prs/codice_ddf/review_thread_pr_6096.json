{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIyMTM3OTkw", "number": 6096, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMlQyMToxODoxNVrOD_EngQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMlQyMToyMDoyM1rOD_Eo_Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY3NDYyNTI5OnYy", "diffSide": "LEFT", "path": "catalog/core/catalog-core-standardframework/src/main/java/ddf/catalog/impl/operations/QueryOperations.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMlQyMToxODoxNVrOGZj2Ag==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQxNzoyNTo0NFrOGaornw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTQ1NDg1MA==", "bodyText": "This does lead to a bit of log pollution, at least for the source I was using (CSW Specification Profile Federated Source). As the query fails (which it should if the source is unavailable), the logs show Caused by: javax.xml.bind.UnmarshalException on each failed query.", "url": "https://github.com/codice/ddf/pull/6096#discussion_r429454850", "createdAt": "2020-05-22T21:18:15Z", "author": {"login": "Bdthomson"}, "path": "catalog/core/catalog-core-standardframework/src/main/java/ddf/catalog/impl/operations/QueryOperations.java", "diffHunk": "@@ -828,7 +828,7 @@ QuerySources initializeSources(\n               if (!canAccessSource) {\n                 notPermittedSources.add(source.getId());\n               }\n-              if (source.isAvailable() && canAccessSource) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b19884e64702c69671d257c02faf15fb26eeb951"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDU4MjY4Nw==", "bodyText": "Probably means we just shouldn't log whatevers being logged at info/error in that csw source", "url": "https://github.com/codice/ddf/pull/6096#discussion_r430582687", "createdAt": "2020-05-26T17:25:44Z", "author": {"login": "rzwiefel"}, "path": "catalog/core/catalog-core-standardframework/src/main/java/ddf/catalog/impl/operations/QueryOperations.java", "diffHunk": "@@ -828,7 +828,7 @@ QuerySources initializeSources(\n               if (!canAccessSource) {\n                 notPermittedSources.add(source.getId());\n               }\n-              if (source.isAvailable() && canAccessSource) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTQ1NDg1MA=="}, "originalCommit": {"oid": "b19884e64702c69671d257c02faf15fb26eeb951"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY3NDYyNjc4OnYy", "diffSide": "RIGHT", "path": "catalog/ui/catalog-ui-search/src/main/java/org/codice/ddf/catalog/ui/query/cql/Status.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMlQyMToxOTowM1rOGZj29g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMlQyMToxOTowM1rOGZj29g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTQ1NTA5NA==", "bodyText": "Is this a potential security risk? Depending on what is placed on ProcessingDetails?", "url": "https://github.com/codice/ddf/pull/6096#discussion_r429455094", "createdAt": "2020-05-22T21:19:03Z", "author": {"login": "Bdthomson"}, "path": "catalog/ui/catalog-ui-search/src/main/java/org/codice/ddf/catalog/ui/query/cql/Status.java", "diffHunk": "@@ -29,13 +32,16 @@\n \n   private final boolean successful;\n \n+  private List<String> warnings = new ArrayList<>();\n+\n   public Status(QueryResponse response, String source, long elapsedTime) {\n     elapsed = elapsedTime;\n     id = source;\n \n     count = response.getResults().size();\n     hits = response.getHits();\n     successful = isSuccessful(response.getProcessingDetails());\n+    warnings = getWarnings(response.getProcessingDetails());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b19884e64702c69671d257c02faf15fb26eeb951"}, "originalPosition": 24}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY3NDYyOTA5OnYy", "diffSide": "RIGHT", "path": "ui/packages/catalog-ui-search/src/main/webapp/js/model/Query.js", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMlQyMToyMDoyM1rOGZj4Uw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMlQyMToyMDoyM1rOGZj4Uw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTQ1NTQ0Mw==", "bodyText": "This was a question for @andrewkfiedler. Nothing seems to be broken, but the key was changed from status to statusBySource on the CqlQueryResponse, this might be fine because we map that to just a list of status in the UI.", "url": "https://github.com/codice/ddf/pull/6096#discussion_r429455443", "createdAt": "2020-05-22T21:20:23Z", "author": {"login": "Bdthomson"}, "path": "ui/packages/catalog-ui-search/src/main/webapp/js/model/Query.js", "diffHunk": "@@ -478,6 +485,7 @@ Query.Model = PartialAssociatedModel.extend({\n               })\n             }\n \n+            // TODO: Need to do something here?\n             const srcStatus = result.get('status').get(search.src)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b19884e64702c69671d257c02faf15fb26eeb951"}, "originalPosition": 97}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4612, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}