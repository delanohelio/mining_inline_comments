{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk1MDg3OTY2", "number": 5951, "title": "[2.20.x] DDF-5649 G-6176 Add interface to filter warnings (#5843)", "bodyText": "Abbreviated Review\nBackport of #5843\nNote the second commit was an addition to the original PR to route processing details all the way back to the UI.\nWho is reviewing it?\n@kentmorrissey\n@derekwilhelm\nSelect relevant component teams:\nAsk 2 committers to review/merge the PR and tag them here.\n@bdeining\n@pklinef\nHow should this be tested?\n\nAny background context you want to provide?\nWhat are the relevant tickets?\nFixes: #____\nScreenshots\n\nChecklist:\n\n Documentation Updated\n Update / Add Threat Dragon models\n Update / Add Unit Tests\n Update / Add Integration Tests\n\nNotes on Review Process\nPlease see Notes on Review Process for further guidance on requirements for merging and abbreviated reviews.\nReview Comment Legend:\n\n\u270f\ufe0f (Pencil) This comment is a nitpick or style suggestion, no action required for approval. This comment should provide a suggestion either as an in line code snippet or a gist.\n\u2753 (Question Mark) This comment is to gain a clearer understanding of design or code choices, clarification is required but action may not be necessary for approval.\n\u2757 (Exclamation Mark) This comment is critical and requires clarification or action before approval.", "createdAt": "2020-03-28T12:14:33Z", "url": "https://github.com/codice/ddf/pull/5951", "merged": true, "mergeCommit": {"oid": "5b53aea6ed946f115dceba90be5ba3491bd21a95"}, "closed": true, "closedAt": "2020-03-28T19:36:16Z", "author": {"login": "jlcsmith"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcSEOpKAH2gAyMzk1MDg3OTY2OmY1YzY3NGI4MzE5MzIxMmNhYjI5OGFiOTExYWQ0Y2QyMDBjNmI0YjQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcSKD08gH2gAyMzk1MDg3OTY2OjQ5YzE1MzdkODJlZmExNzM4ODYzOGQyZWNmZjM5MDQ5MWQ2YTY4NjU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "f5c674b83193212cab298ab911ad4cd200c6b4b4", "author": {"user": {"login": "kentmorrissey", "name": null}}, "url": "https://github.com/codice/ddf/commit/f5c674b83193212cab298ab911ad4cd200c6b4b4", "committedDate": "2020-03-28T12:12:20Z", "message": "DDF-5649 G-6176 Add interface to filter warnings (#5843)\n\nIn response to a malfunction of a query which the user runs, the user\nwould like a message which describes or explains the malfunction so that\nthe user can more easily resolve the malfunction. This commit supports\nthe user's aforementioned desire in that it:\n\n - adds an interface\u2014SourceWarningsFilter\u2014which allows that a Source\n   which implements it filter the warnings of ProcessingDetails of a\n   SourceResponse which the Source may receive from the execution of a\n   query and, thereby, produce new ProcessingDetails whose warnings\n   contain only each warning of the original ProcessingDetails which\n   describes or explains a malfunction which occurred in the execution\n   of the query\n\n - ensures that the implementations of SourceResponse not return null\n   from getProcessingDetails(), in accordance with the dictate of the\n   Javadoc of SourceResponse.getProcessingDetails()\n\n - refactors some of the code which relates to the changes listed above"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d4e51974588c66b53775ef1dd39dc3ae5015fed4", "author": {"user": {"login": "jlcsmith", "name": "Jason Smith"}}, "url": "https://github.com/codice/ddf/commit/d4e51974588c66b53775ef1dd39dc3ae5015fed4", "committedDate": "2020-03-28T15:40:04Z", "message": "DDF-5649 G-6176 routes details back to client"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e02b281719523001179d15f46e5ddac72263e0aa", "author": {"user": {"login": "kentmorrissey", "name": null}}, "url": "https://github.com/codice/ddf/commit/e02b281719523001179d15f46e5ddac72263e0aa", "committedDate": "2020-03-28T12:09:57Z", "message": "DDF-5649 G-6176 Add interface to filter warnings (#5843)\n\nIn response to a malfunction of a query which the user runs, the user\nwould like a message which describes or explains the malfunction so that\nthe user can more easily resolve the malfunction. This commit supports\nthe user's aforementioned desire in that it:\n\n - adds an interface\u2014SourceWarningsFilter\u2014which allows that a Source\n   which implements it filter the warnings of ProcessingDetails of a\n   SourceResponse which the Source may receive from the execution of a\n   query and, thereby, produce new ProcessingDetails whose warnings\n   contain only each warning of the original ProcessingDetails which\n   describes or explains a malfunction which occurred in the execution\n   of the query\n\n - ensures that the implementations of SourceResponse not return null\n   from getProcessingDetails(), in accordance with the dictate of the\n   Javadoc of SourceResponse.getProcessingDetails()\n\n - refactors some of the code which relates to the changes listed above"}, "afterCommit": {"oid": "d4e51974588c66b53775ef1dd39dc3ae5015fed4", "author": {"user": {"login": "jlcsmith", "name": "Jason Smith"}}, "url": "https://github.com/codice/ddf/commit/d4e51974588c66b53775ef1dd39dc3ae5015fed4", "committedDate": "2020-03-28T15:40:04Z", "message": "DDF-5649 G-6176 routes details back to client"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgzMzMwMTg5", "url": "https://github.com/codice/ddf/pull/5951#pullrequestreview-383330189", "createdAt": "2020-03-28T17:01:53Z", "commit": {"oid": "d4e51974588c66b53775ef1dd39dc3ae5015fed4"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yOFQxNzowMTo1M1rOF9K04Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yOFQxNzowMTo1M1rOF9K04Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTY4NDgzMw==", "bodyText": "Not sure the context, but just making sure we are fine finding only the first and not using the rest? We don't need to collapse/reduce them into a single set?", "url": "https://github.com/codice/ddf/pull/5951#discussion_r399684833", "createdAt": "2020-03-28T17:01:53Z", "author": {"login": "rzwiefel"}, "path": "catalog/ui/catalog-ui-search/src/main/java/org/codice/ddf/catalog/ui/util/EndpointUtil.java", "diffHunk": "@@ -551,7 +551,13 @@ public CqlQueryResponse executeCqlQuery(CqlRequest cqlRequest)\n                 .filter(Objects::nonNull)\n                 .map(QueryResponse::getProperties)\n                 .findFirst()\n-                .orElse(Collections.emptyMap()));\n+                .orElse(Collections.emptyMap()),\n+            responses\n+                .stream()\n+                .filter(Objects::nonNull)\n+                .map(QueryResponse::getProcessingDetails)\n+                .findFirst()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d4e51974588c66b53775ef1dd39dc3ae5015fed4"}, "originalPosition": 10}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgzMzMxMzY1", "url": "https://github.com/codice/ddf/pull/5951#pullrequestreview-383331365", "createdAt": "2020-03-28T17:16:38Z", "commit": {"oid": "d4e51974588c66b53775ef1dd39dc3ae5015fed4"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "49c1537d82efa17388638d2ecff390491d6a6865", "author": {"user": {"login": "jlcsmith", "name": "Jason Smith"}}, "url": "https://github.com/codice/ddf/commit/49c1537d82efa17388638d2ecff390491d6a6865", "committedDate": "2020-03-28T18:59:57Z", "message": "DDF-5649 G-6176 corrects details accumulator"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4873, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}