{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk0NDc1Nzk3", "number": 5947, "title": "[2.21.x] DDF-5946 Update Intrigue to respect Subject Identity configuration", "bodyText": "What does this PR do?\nRemoves all hardcoded uses of email as the subject identity. Now Intrigue uses the attribute set in the Subject Identity configuration.\nWho is reviewing it?\n@stustison @brendan-hofmann @beyelerb\nSelect relevant component teams:\n\nHow should this be tested?\n\nCreate two non-admin accounts in DDF\nChange the Subject Identity config in the Admin UI to use the http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier attribute instead of email.\nRestart DDF\nVerify the following:\n\n\nMetacard security attributes (the security.access-* attributes) use the name identifier instead of email.\nThe workspaces page use the name identifier to indicate workspace ownership\nWorkspace filtering works (Owned by Me, Not Owned by Me)\nWorkspace sharing works\nSearch form sharing works (top left hamburger > Search Forms)\nOn load, Intrigue opens an existing workspace if there is one owned by the current user\nQuery annotations use name identifier to indicate ownership, and only the owner can modify their notes.\n\n\nAny background context you want to provide?\nWhat are the relevant tickets?\nFixes: #5946\nScreenshots\n\nChecklist:\n\n Documentation Updated\n Update / Add Threat Dragon models\n Update / Add Unit Tests\n Update / Add Integration Tests\n\nNotes on Review Process\nPlease see Notes on Review Process for further guidance on requirements for merging and abbreviated reviews.\nReview Comment Legend:\n\n\u270f\ufe0f (Pencil) This comment is a nitpick or style suggestion, no action required for approval. This comment should provide a suggestion either as an in line code snippet or a gist.\n\u2753 (Question Mark) This comment is to gain a clearer understanding of design or code choices, clarification is required but action may not be necessary for approval.\n\u2757 (Exclamation Mark) This comment is critical and requires clarification or action before approval.", "createdAt": "2020-03-26T23:38:29Z", "url": "https://github.com/codice/ddf/pull/5947", "merged": true, "mergeCommit": {"oid": "58d7ffb0d9f620018c2326ef4411bcb13599103f"}, "closed": true, "closedAt": "2020-03-30T14:24:42Z", "author": {"login": "SmithJosh"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcRknLNAH2gAyMzk0NDc1Nzk3OjliMTdiODQ5OWZhYTIyNjJmN2I5YTQwMzQwMDk1ZGIxMjA2YmVkZjU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcR0kQ0AH2gAyMzk0NDc1Nzk3OjY2MmY4ZDhiMGVkNTVlYTRkMDY5ZGM4MmU2MTI3MTQ3NzE4ZTc3ZGE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "9b17b8499faa2262f7b9a40340095db1206bedf5", "author": {"user": {"login": "SmithJosh", "name": "Joshua Smith"}}, "url": "https://github.com/codice/ddf/commit/9b17b8499faa2262f7b9a40340095db1206bedf5", "committedDate": "2020-03-26T23:22:10Z", "message": "DDF-5946 Update Intrigue to respect Subject Identity configuration"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgyNDkyOTg4", "url": "https://github.com/codice/ddf/pull/5947#pullrequestreview-382492988", "createdAt": "2020-03-26T23:40:56Z", "commit": {"oid": "9b17b8499faa2262f7b9a40340095db1206bedf5"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQyMzo0MDo1NlrOF8eT3w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQyMzo0MDo1NlrOF8eT3w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODk1NTQ4Nw==", "bodyText": "This is a bit unfortunate as \"user id\" probably will be confusing to users", "url": "https://github.com/codice/ddf/pull/5947#discussion_r398955487", "createdAt": "2020-03-26T23:40:56Z", "author": {"login": "SmithJosh"}, "path": "ui/packages/catalog-ui-search/src/main/webapp/react-component/sharing/presentation.tsx", "diffHunk": "@@ -126,7 +126,7 @@ const render = (props: Props) => {\n                   {item.category === Category.User ? (\n                     <EditableLabelText\n                       value={item.value}\n-                      placeholder=\"user@example.com\"\n+                      placeholder=\"user id\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9b17b8499faa2262f7b9a40340095db1206bedf5"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgyNDk1NjE2", "url": "https://github.com/codice/ddf/pull/5947#pullrequestreview-382495616", "createdAt": "2020-03-26T23:48:23Z", "commit": {"oid": "9b17b8499faa2262f7b9a40340095db1206bedf5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6eb063163a583457499abb6202e67e05cc5d2aea", "author": {"user": {"login": "SmithJosh", "name": "Joshua Smith"}}, "url": "https://github.com/codice/ddf/commit/6eb063163a583457499abb6202e67e05cc5d2aea", "committedDate": "2020-03-27T16:29:26Z", "message": "DDF-5946 Fix annotation update/delete"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgzMDM4NTYw", "url": "https://github.com/codice/ddf/pull/5947#pullrequestreview-383038560", "createdAt": "2020-03-27T16:57:15Z", "commit": {"oid": "6eb063163a583457499abb6202e67e05cc5d2aea"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgzMDc4MDgx", "url": "https://github.com/codice/ddf/pull/5947#pullrequestreview-383078081", "createdAt": "2020-03-27T17:49:31Z", "commit": {"oid": "6eb063163a583457499abb6202e67e05cc5d2aea"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "662f8d8b0ed55ea4d069dc82e6127147718e77da", "author": {"user": {"login": "SmithJosh", "name": "Joshua Smith"}}, "url": "https://github.com/codice/ddf/commit/662f8d8b0ed55ea4d069dc82e6127147718e77da", "committedDate": "2020-03-27T17:57:28Z", "message": "DDF-5946 Capitalize User ID"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4872, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}