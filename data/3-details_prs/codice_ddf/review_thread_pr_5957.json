{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk2NTA1OTcx", "number": 5957, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMVQxOToyNToxNFrODtQSsQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQwNDo1NDozOFrODx6dVg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ4Nzc5NDQxOnYy", "diffSide": "RIGHT", "path": "ui/packages/catalog-ui-search/src/main/webapp/component/search-form-interactions/search-form-interactions.view.js", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMVQxOToyNToxNFrOF-kzDg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMVQxOToyNToxNFrOF-kzDg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTE1ODkyNg==", "bodyText": "you will need to toggle this class https://github.com/codice/ddf/pull/5957/files#diff-1af92a3d1da92776b5779e1e855b8c24R114 if the current result form is default, otherwise the clear default option that calls this function will never show", "url": "https://github.com/codice/ddf/pull/5957#discussion_r401158926", "createdAt": "2020-03-31T19:25:14Z", "author": {"login": "andrewzimmer"}, "path": "ui/packages/catalog-ui-search/src/main/webapp/component/search-form-interactions/search-form-interactions.view.js", "diffHunk": "@@ -213,10 +219,16 @@ Anyone who has access to this search ${formTitleLowerCase} will subsequently los\n     )\n   },\n   handleClearDefault() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "226c242458effa64f80a218d666967bcf6b0841e"}, "originalPosition": 24}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ4Nzg0MTUwOnYy", "diffSide": "RIGHT", "path": "ui/packages/catalog-ui-search/src/main/webapp/component/query-add/query-add.view.js", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMVQxOTozODo0MlrOF-lQPw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQxNToxMDo1OFrOF_FT-A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTE2NjM5OQ==", "bodyText": "I think it would be simpler if we moved this to query-setting's initialize method. then we could set up the listener like\nthis.listenTo(user.getQuerySettings(),\n      'change:defaultResultFormId',\n     () => this.renderResultForms(this.resultFormCollection.filteredList)\n    )\n\nand we won't need to set the default id to the model, we could access it directly from the user QuerySettings in renderResultForms method", "url": "https://github.com/codice/ddf/pull/5957#discussion_r401166399", "createdAt": "2020-03-31T19:38:42Z", "author": {"login": "andrewzimmer"}, "path": "ui/packages/catalog-ui-search/src/main/webapp/component/query-add/query-add.view.js", "diffHunk": "@@ -54,6 +54,11 @@ module.exports = Marionette.LayoutView.extend({\n     this.listenTo(user.getQuerySettings(), 'change:template', querySettings =>\n       this.updateCurrentQuery(querySettings)\n     )\n+    this.listenTo(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "226c242458effa64f80a218d666967bcf6b0841e"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTI4MTUzNg==", "bodyText": "I don't think I have reference to user inside query-settings", "url": "https://github.com/codice/ddf/pull/5957#discussion_r401281536", "createdAt": "2020-03-31T23:57:07Z", "author": {"login": "cassandrabailey293"}, "path": "ui/packages/catalog-ui-search/src/main/webapp/component/query-add/query-add.view.js", "diffHunk": "@@ -54,6 +54,11 @@ module.exports = Marionette.LayoutView.extend({\n     this.listenTo(user.getQuerySettings(), 'change:template', querySettings =>\n       this.updateCurrentQuery(querySettings)\n     )\n+    this.listenTo(", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTE2NjM5OQ=="}, "originalCommit": {"oid": "226c242458effa64f80a218d666967bcf6b0841e"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTY5MTY0MA==", "bodyText": "user is a singleton instance that can be imported in query-settings just as it is here https://github.com/codice/ddf/pull/5957/files#diff-5f1ab184f26124726515c4d001db1faaR28", "url": "https://github.com/codice/ddf/pull/5957#discussion_r401691640", "createdAt": "2020-04-01T15:10:58Z", "author": {"login": "andrewzimmer"}, "path": "ui/packages/catalog-ui-search/src/main/webapp/component/query-add/query-add.view.js", "diffHunk": "@@ -54,6 +54,11 @@ module.exports = Marionette.LayoutView.extend({\n     this.listenTo(user.getQuerySettings(), 'change:template', querySettings =>\n       this.updateCurrentQuery(querySettings)\n     )\n+    this.listenTo(", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTE2NjM5OQ=="}, "originalCommit": {"oid": "226c242458effa64f80a218d666967bcf6b0841e"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ5MTUwMDIyOnYy", "diffSide": "RIGHT", "path": "ui/packages/catalog-ui-search/src/main/webapp/component/query-add/query-add.view.js", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQxNjoyMzozNVrOF_Ihqg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQxNjoyMzozNVrOF_Ihqg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTc0NDI5OA==", "bodyText": "you should be able to remove all the changes in this file, user is a single instance that is shared by all the components so we do not need to set it again.\nIn this method currentQuerySettings and user.getQuerySettings() are referencing the same model", "url": "https://github.com/codice/ddf/pull/5957#discussion_r401744298", "createdAt": "2020-04-01T16:23:35Z", "author": {"login": "andrewzimmer"}, "path": "ui/packages/catalog-ui-search/src/main/webapp/component/query-add/query-add.view.js", "diffHunk": "@@ -63,6 +68,11 @@ module.exports = Marionette.LayoutView.extend({\n   updateCurrentQuery(currentQuerySettings) {\n     const searchForm = new SearchForm(currentQuerySettings.get('template'))\n     const sharedAttributes = searchForm.transformToQueryStructure()\n+    if (currentQuerySettings.get('defaultResultFormId')) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0f558b4e513b72e292bb5aef8d07d4e9ed3628cd"}, "originalPosition": 16}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUzNjY0NTk4OnYy", "diffSide": "RIGHT", "path": "Jenkinsfile", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQwNDo1NDozOFrOGFpwTw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQxNzoxNTo1OFrOGGDqKQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODU4MDE3NQ==", "bodyText": "\u2753 Was the Jenkinsfile intentionally modified as part of a UI feature? Are we just throwing a separate fix onto this PR? I'm not picky just making sure we want to commit this. And looking for background on what it does.", "url": "https://github.com/codice/ddf/pull/5957#discussion_r408580175", "createdAt": "2020-04-15T04:54:38Z", "author": {"login": "Lambeaux"}, "path": "Jenkinsfile", "diffHunk": "@@ -49,7 +49,7 @@ pipeline {\n         stage('Validate Poms') {\n             steps {\n                 retry(3) {\n-                    checkout scm\n+                    checkout([$class: 'GitSCM', branches: [[name: \"refs/heads/${BRANCH_NAME}\"]], doGenerateSubmoduleConfigurations: false, extensions: [[$class: 'WipeWorkspace'], [$class: 'LocalBranch', localBranch: \"${BRANCH_NAME}\"], [$class: 'CloneOption', timeout: 30, shallow: true]], submoduleCfg: [], userRemoteConfigs: scm.userRemoteConfigs ])", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e5cc4c901f4774e13a07ebb0dea2c13150cafd3"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODg1MTU0Ng==", "bodyText": "There was an error when building on the CI, so the change in the Jenkinsfile was needed for it to build my PR. I believe this change still needs to be tested in Jenkins so I'm not sure if it should be included in this PR.  @TonyMorrison any thoughts?", "url": "https://github.com/codice/ddf/pull/5957#discussion_r408851546", "createdAt": "2020-04-15T13:42:59Z", "author": {"login": "cassandrabailey293"}, "path": "Jenkinsfile", "diffHunk": "@@ -49,7 +49,7 @@ pipeline {\n         stage('Validate Poms') {\n             steps {\n                 retry(3) {\n-                    checkout scm\n+                    checkout([$class: 'GitSCM', branches: [[name: \"refs/heads/${BRANCH_NAME}\"]], doGenerateSubmoduleConfigurations: false, extensions: [[$class: 'WipeWorkspace'], [$class: 'LocalBranch', localBranch: \"${BRANCH_NAME}\"], [$class: 'CloneOption', timeout: 30, shallow: true]], submoduleCfg: [], userRemoteConfigs: scm.userRemoteConfigs ])", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODU4MDE3NQ=="}, "originalCommit": {"oid": "2e5cc4c901f4774e13a07ebb0dea2c13150cafd3"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTAwNDU4NQ==", "bodyText": "\ud83d\udc4d", "url": "https://github.com/codice/ddf/pull/5957#discussion_r409004585", "createdAt": "2020-04-15T17:15:58Z", "author": {"login": "Lambeaux"}, "path": "Jenkinsfile", "diffHunk": "@@ -49,7 +49,7 @@ pipeline {\n         stage('Validate Poms') {\n             steps {\n                 retry(3) {\n-                    checkout scm\n+                    checkout([$class: 'GitSCM', branches: [[name: \"refs/heads/${BRANCH_NAME}\"]], doGenerateSubmoduleConfigurations: false, extensions: [[$class: 'WipeWorkspace'], [$class: 'LocalBranch', localBranch: \"${BRANCH_NAME}\"], [$class: 'CloneOption', timeout: 30, shallow: true]], submoduleCfg: [], userRemoteConfigs: scm.userRemoteConfigs ])", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODU4MDE3NQ=="}, "originalCommit": {"oid": "2e5cc4c901f4774e13a07ebb0dea2c13150cafd3"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4696, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}