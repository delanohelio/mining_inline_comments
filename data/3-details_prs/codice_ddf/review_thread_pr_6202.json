{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU4Nzc0NTI2", "number": 6202, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QxNDowMTo1OFrOEUnioQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQxODowMDowNlrOEVG7yA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkwMDU0ODE3OnYy", "diffSide": "RIGHT", "path": "ui/packages/catalog-ui-search/src/main/webapp/component/result-filter/result-filter.view.js", "isResolved": true, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QxNDowMTo1OFrOG66wTQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QxNTo1NToyOFrOG6_HzQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDQzMzIyOQ==", "bodyText": "can we verify that the verification stuff still works? i know it calls this function to show those toast error messages for anyGeo", "url": "https://github.com/codice/ddf/pull/6202#discussion_r464433229", "createdAt": "2020-08-03T14:01:58Z", "author": {"login": "cassandrabailey293"}, "path": "ui/packages/catalog-ui-search/src/main/webapp/component/result-filter/result-filter.view.js", "diffHunk": "@@ -64,7 +63,7 @@ module.exports = Marionette.LayoutView.extend({\n     this.handleFilter()\n   },\n   getFilter() {\n-    return this.editorProperties.currentView.transformToCql()\n+    return this.editorProperties.currentView.getFilters()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6b4627fb02bcb7b1b766dc7c78b84096776525b6"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDQ4MDYzNg==", "bodyText": "The inline errors are showing, but it doesn't seem to be preventing the save for invalid geos. But it doesn't seem to be happening on 2.19.x either, was it previously preventing the save?", "url": "https://github.com/codice/ddf/pull/6202#discussion_r464480636", "createdAt": "2020-08-03T15:16:31Z", "author": {"login": "andrewzimmer"}, "path": "ui/packages/catalog-ui-search/src/main/webapp/component/result-filter/result-filter.view.js", "diffHunk": "@@ -64,7 +63,7 @@ module.exports = Marionette.LayoutView.extend({\n     this.handleFilter()\n   },\n   getFilter() {\n-    return this.editorProperties.currentView.transformToCql()\n+    return this.editorProperties.currentView.getFilters()", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDQzMzIyOQ=="}, "originalCommit": {"oid": "6b4627fb02bcb7b1b766dc7c78b84096776525b6"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDQ4MjM1MQ==", "bodyText": "by the \"save\" do you mean when you try to run the search? or something different? we were preventing it there, i don't recall if we were preventing it in the form editors is that's what you mean", "url": "https://github.com/codice/ddf/pull/6202#discussion_r464482351", "createdAt": "2020-08-03T15:19:28Z", "author": {"login": "cassandrabailey293"}, "path": "ui/packages/catalog-ui-search/src/main/webapp/component/result-filter/result-filter.view.js", "diffHunk": "@@ -64,7 +63,7 @@ module.exports = Marionette.LayoutView.extend({\n     this.handleFilter()\n   },\n   getFilter() {\n-    return this.editorProperties.currentView.transformToCql()\n+    return this.editorProperties.currentView.getFilters()", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDQzMzIyOQ=="}, "originalCommit": {"oid": "6b4627fb02bcb7b1b766dc7c78b84096776525b6"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDQ4ODA5Ng==", "bodyText": "This is for the result-filter component which only has the save or remove options, you can currently save it with an invalid geo", "url": "https://github.com/codice/ddf/pull/6202#discussion_r464488096", "createdAt": "2020-08-03T15:28:09Z", "author": {"login": "andrewzimmer"}, "path": "ui/packages/catalog-ui-search/src/main/webapp/component/result-filter/result-filter.view.js", "diffHunk": "@@ -64,7 +63,7 @@ module.exports = Marionette.LayoutView.extend({\n     this.handleFilter()\n   },\n   getFilter() {\n-    return this.editorProperties.currentView.transformToCql()\n+    return this.editorProperties.currentView.getFilters()", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDQzMzIyOQ=="}, "originalCommit": {"oid": "6b4627fb02bcb7b1b766dc7c78b84096776525b6"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDUwNDc4MQ==", "bodyText": "got it added", "url": "https://github.com/codice/ddf/pull/6202#discussion_r464504781", "createdAt": "2020-08-03T15:55:28Z", "author": {"login": "andrewzimmer"}, "path": "ui/packages/catalog-ui-search/src/main/webapp/component/result-filter/result-filter.view.js", "diffHunk": "@@ -64,7 +63,7 @@ module.exports = Marionette.LayoutView.extend({\n     this.handleFilter()\n   },\n   getFilter() {\n-    return this.editorProperties.currentView.transformToCql()\n+    return this.editorProperties.currentView.getFilters()", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDQzMzIyOQ=="}, "originalCommit": {"oid": "6b4627fb02bcb7b1b766dc7c78b84096776525b6"}, "originalPosition": 31}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkwMTg4NTQ4OnYy", "diffSide": "RIGHT", "path": "ui/packages/catalog-ui-search/src/main/webapp/component/visualization/maps/map.view.js", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QyMDoyMzowN1rOG7HgDQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQxODowMTo1NlrOG7rg2w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDY0MjA2MQ==", "bodyText": "this is weird; we convert it and convert it again?", "url": "https://github.com/codice/ddf/pull/6202#discussion_r464642061", "createdAt": "2020-08-03T20:23:07Z", "author": {"login": "bdeining"}, "path": "ui/packages/catalog-ui-search/src/main/webapp/component/visualization/maps/map.view.js", "diffHunk": "@@ -459,7 +459,12 @@ const View = Marionette.LayoutView.extend({\n       .get('preferences')\n       .get('resultFilter')\n     if (resultFilter) {\n-      this.handleFilter(CQLUtils.transformCQLToFilter(resultFilter), '#c89600')\n+      this.handleFilter(\n+        CQLUtils.transformCQLToFilter(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c959fd645a207b60dc97d60be3a0367ecd65549c"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDY0MzMyMA==", "bodyText": "see these comments #5436 (comment)", "url": "https://github.com/codice/ddf/pull/6202#discussion_r464643320", "createdAt": "2020-08-03T20:25:46Z", "author": {"login": "andrewzimmer"}, "path": "ui/packages/catalog-ui-search/src/main/webapp/component/visualization/maps/map.view.js", "diffHunk": "@@ -459,7 +459,12 @@ const View = Marionette.LayoutView.extend({\n       .get('preferences')\n       .get('resultFilter')\n     if (resultFilter) {\n-      this.handleFilter(CQLUtils.transformCQLToFilter(resultFilter), '#c89600')\n+      this.handleFilter(\n+        CQLUtils.transformCQLToFilter(", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDY0MjA2MQ=="}, "originalCommit": {"oid": "c959fd645a207b60dc97d60be3a0367ecd65549c"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTIzMjA5MQ==", "bodyText": "Might be good to add a comment summarizing the previous discussion", "url": "https://github.com/codice/ddf/pull/6202#discussion_r465232091", "createdAt": "2020-08-04T18:01:56Z", "author": {"login": "mojogitoverhere"}, "path": "ui/packages/catalog-ui-search/src/main/webapp/component/visualization/maps/map.view.js", "diffHunk": "@@ -459,7 +459,12 @@ const View = Marionette.LayoutView.extend({\n       .get('preferences')\n       .get('resultFilter')\n     if (resultFilter) {\n-      this.handleFilter(CQLUtils.transformCQLToFilter(resultFilter), '#c89600')\n+      this.handleFilter(\n+        CQLUtils.transformCQLToFilter(", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDY0MjA2MQ=="}, "originalCommit": {"oid": "c959fd645a207b60dc97d60be3a0367ecd65549c"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkwNTY5MTYwOnYy", "diffSide": "RIGHT", "path": "ui/packages/catalog-ui-search/src/main/webapp/component/filter-builder/filter-builder.view.js", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQxODowMDowNlrOG7rc9w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQxODowNDo1NFrOG7rm9Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTIzMTA5NQ==", "bodyText": "Looks like this isn't used anywhere. Is it still needed?", "url": "https://github.com/codice/ddf/pull/6202#discussion_r465231095", "createdAt": "2020-08-04T18:00:06Z", "author": {"login": "mojogitoverhere"}, "path": "ui/packages/catalog-ui-search/src/main/webapp/component/filter-builder/filter-builder.view.js", "diffHunk": "@@ -183,6 +183,9 @@ module.exports = Marionette.LayoutView.extend({\n     this.filterOperator.currentView.turnOffEditing()\n     this.filterContents.currentView.turnOffEditing()\n   },\n+  turnOffNesting: function() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c959fd645a207b60dc97d60be3a0367ecd65549c"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTIzMzY1Mw==", "bodyText": "its currently being used here https://github.com/codice/ddf/pull/6202/files#diff-1c0b76b4e9e8b174dea0eae50b692807L63", "url": "https://github.com/codice/ddf/pull/6202#discussion_r465233653", "createdAt": "2020-08-04T18:04:54Z", "author": {"login": "andrewzimmer"}, "path": "ui/packages/catalog-ui-search/src/main/webapp/component/filter-builder/filter-builder.view.js", "diffHunk": "@@ -183,6 +183,9 @@ module.exports = Marionette.LayoutView.extend({\n     this.filterOperator.currentView.turnOffEditing()\n     this.filterContents.currentView.turnOffEditing()\n   },\n+  turnOffNesting: function() {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTIzMTA5NQ=="}, "originalCommit": {"oid": "c959fd645a207b60dc97d60be3a0367ecd65549c"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4531, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}