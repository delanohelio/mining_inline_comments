{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA2NDE1OTI4", "number": 4682, "title": "fix cache update timer exception when disable profile in the backend", "bodyText": "Please answer these questions before submitting pull request\n\n\nWhy submit this pull request?\n\n\n Bug fix\n\n\n New feature provided\n\n\n Improve performance\n\n\nRelated issues\n#4669\n\n\n\nBug fix\n\nUse DisableRegister.INSTANCE.include to check the profile task is enabled.", "createdAt": "2020-04-21T03:28:42Z", "url": "https://github.com/apache/skywalking/pull/4682", "merged": true, "mergeCommit": {"oid": "7de392af65e90df6457e3afbf6eac7393e2d0dc4"}, "closed": true, "closedAt": "2020-04-21T10:59:18Z", "author": {"login": "mrproliu"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcZp7YAgH2gAyNDA2NDE1OTI4OjljOWRjMmVjYzAwMDIzNWNjMmY5N2I4YjI5YzM4M2MwMGMyOWRmMGI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcZwA1ygFqTM5NzEzODA3Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "9c9dc2ecc000235cc2f97b8b29c383c00c29df0b", "author": {"user": null}, "url": "https://github.com/apache/skywalking/commit/9c9dc2ecc000235cc2f97b8b29c383c00c29df0b", "committedDate": "2020-04-21T02:05:09Z", "message": "fix cache update timer exception when disable profile in the backend"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk3MDMxMzg2", "url": "https://github.com/apache/skywalking/pull/4682#pullrequestreview-397031386", "createdAt": "2020-04-21T06:46:23Z", "commit": {"oid": "9c9dc2ecc000235cc2f97b8b29c383c00c29df0b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQwNjo0NjoyM1rOGI1SGQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQwNjo0NjoyM1rOGI1SGQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTkxNDc3Nw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    if (!DisableRegister.INSTANCE.include(ProfileTaskRecord.INDEX_NAME)) {\n          \n          \n            \n                    // Profile could be disabled by the OAL script. Only load the task when it is activated.\n          \n          \n            \n                    if (!DisableRegister.INSTANCE.include(ProfileTaskRecord.INDEX_NAME)) {", "url": "https://github.com/apache/skywalking/pull/4682#discussion_r411914777", "createdAt": "2020-04-21T06:46:23Z", "author": {"login": "wu-sheng"}, "path": "oap-server/server-core/src/main/java/org/apache/skywalking/oap/server/core/cache/CacheUpdateTimer.java", "diffHunk": "@@ -55,7 +57,9 @@ public void start(ModuleDefineHolder moduleDefineHolder, int ttl) {\n \n     private void update(ModuleDefineHolder moduleDefineHolder) {\n         updateNetAddressAliasCache(moduleDefineHolder);\n-        updateProfileTask(moduleDefineHolder);\n+        if (!DisableRegister.INSTANCE.include(ProfileTaskRecord.INDEX_NAME)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9c9dc2ecc000235cc2f97b8b29c383c00c29df0b"}, "originalPosition": 16}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1b435a1432eace8841cc062502ba9c7cee975c68", "author": {"user": null}, "url": "https://github.com/apache/skywalking/commit/1b435a1432eace8841cc062502ba9c7cee975c68", "committedDate": "2020-04-21T07:32:08Z", "message": "add comment"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0063a32bf61c8b5cad64438b52483dd471d0915a", "author": {"user": {"login": "mrproliu", "name": null}}, "url": "https://github.com/apache/skywalking/commit/0063a32bf61c8b5cad64438b52483dd471d0915a", "committedDate": "2020-04-21T07:32:26Z", "message": "Merge branch 'master' into fix-profile-disable"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dd215ca9d2514aef49192066994f8fb0c002ce1c", "author": {"user": {"login": "mrproliu", "name": null}}, "url": "https://github.com/apache/skywalking/commit/dd215ca9d2514aef49192066994f8fb0c002ce1c", "committedDate": "2020-04-21T07:57:09Z", "message": "Merge branch 'master' into fix-profile-disable"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk3MTM3MDQz", "url": "https://github.com/apache/skywalking/pull/4682#pullrequestreview-397137043", "createdAt": "2020-04-21T09:09:18Z", "commit": {"oid": "dd215ca9d2514aef49192066994f8fb0c002ce1c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4d0fc02079be16789e64e65074ba5ac9b4903ffd", "author": {"user": {"login": "wu-sheng", "name": "\u5434\u665f Wu Sheng"}}, "url": "https://github.com/apache/skywalking/commit/4d0fc02079be16789e64e65074ba5ac9b4903ffd", "committedDate": "2020-04-21T09:09:33Z", "message": "Merge branch 'master' into fix-profile-disable"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk3MTM4MDcy", "url": "https://github.com/apache/skywalking/pull/4682#pullrequestreview-397138072", "createdAt": "2020-04-21T09:10:33Z", "commit": {"oid": "dd215ca9d2514aef49192066994f8fb0c002ce1c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2330, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}