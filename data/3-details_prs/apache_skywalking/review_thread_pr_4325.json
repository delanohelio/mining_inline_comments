{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzcyMzc3Mjk2", "number": 4325, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wN1QxMjozMjo0M1rODeAc4w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wN1QxMjozMjo0M1rODeAc4w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMyNzkxMjY3OnYy", "diffSide": "RIGHT", "path": "apm-sniffer/apm-agent-core/src/main/java/org/apache/skywalking/apm/agent/core/plugin/loader/AgentClassLoader.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wN1QxMjozMjo0M1rOFm7o7Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wN1QxMjozMjo0M1rOFm7o7Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjM2NzM0MQ==", "bodyText": "You should delete this method, and move registerAsParallelCapable to the static initial block.", "url": "https://github.com/apache/skywalking/pull/4325#discussion_r376367341", "createdAt": "2020-02-07T12:32:43Z", "author": {"login": "wu-sheng"}, "path": "apm-sniffer/apm-agent-core/src/main/java/org/apache/skywalking/apm/agent/core/plugin/loader/AgentClassLoader.java", "diffHunk": "@@ -62,34 +61,22 @@\n     private ReentrantLock jarScanLock = new ReentrantLock();\n \n     /**\n-     * Functional Description: solve the classloader dead lock when jvm start\n-     * only support JDK7+, since ParallelCapable appears in JDK7+\n+     * Try to solve the classloader dead lock.\n+     *\n+     * @see <a href=\"https://github.com/apache/skywalking/pull/2016\">#2016</a>\n      */\n     private static void tryRegisterAsParallelCapable() {\n-        Method[] methods = ClassLoader.class.getDeclaredMethods();\n-        for (int i = 0; i < methods.length; i++) {\n-            Method method = methods[i];\n-            String methodName = method.getName();\n-            if (\"registerAsParallelCapable\".equalsIgnoreCase(methodName)) {\n-                try {\n-                    method.setAccessible(true);\n-                    method.invoke(null);\n-                } catch (Exception e) {\n-                    logger.warn(e, \"can not invoke ClassLoader.registerAsParallelCapable()\");\n-                }\n-                return;\n-            }\n-        }\n+        registerAsParallelCapable();", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 43}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4560, "cost": 1, "resetAt": "2021-11-12T09:44:50Z"}}}