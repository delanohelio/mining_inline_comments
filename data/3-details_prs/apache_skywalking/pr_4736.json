{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDEwODQzNDg5", "number": 4736, "title": "Increase Vert.x Compatability", "bodyText": "Why submit this pull request?\n\n\n Bug fix\n\n\n New feature provided\n\n\n Improve performance\n\n\nRelated issues\n#4609\n\n\n\nNew feature or improvement\n#4624 just added the Vert.x tests back to the main repository. Those test weren't entirely correct as they were missing segments but I just wanted to get them back in the repo and fix in another PR. This is that PR. This PR also increases the compatibility for Vert.x Eventbus/Web to 3.9.0.", "createdAt": "2020-04-29T17:15:19Z", "url": "https://github.com/apache/skywalking/pull/4736", "merged": true, "mergeCommit": {"oid": "4fc57a6663660118a63155edb522ea192a32265f"}, "closed": true, "closedAt": "2020-05-01T09:06:48Z", "author": {"login": "BFergerson"}, "timelineItems": {"totalCount": 42, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcVrL__gH2gAyNDEwODQzNDg5Ojk4NmRiM2M2ZmUyMDZkZDAxZGYzODQwZWRmZDEyNmUwZTJkMWIzMjE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABccuTI7AFqTQwMzU5ODYzNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "986db3c6fe206dd01df3840edfd126e0e2d1b321", "author": {"user": {"login": "BFergerson", "name": "Brandon Fergerson"}}, "url": "https://github.com/apache/skywalking/commit/986db3c6fe206dd01df3840edfd126e0e2d1b321", "committedDate": "2020-04-08T17:17:31Z", "message": "vertx web plugin re-impl attempt"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cf3665681e1e9fe594529a939a06802dd874117e", "author": {"user": {"login": "BFergerson", "name": "Brandon Fergerson"}}, "url": "https://github.com/apache/skywalking/commit/cf3665681e1e9fe594529a939a06802dd874117e", "committedDate": "2020-04-09T06:11:59Z", "message": "added license"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cc7ce775e70a9623f8bd8410b0d7f3465e66db91", "author": {"user": {"login": "wu-sheng", "name": "\u5434\u665f Wu Sheng"}}, "url": "https://github.com/apache/skywalking/commit/cc7ce775e70a9623f8bd8410b0d7f3465e66db91", "committedDate": "2020-04-11T08:09:29Z", "message": "Merge branch 'master' into master"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8d256d197d19be9a41d09d2f5a7412ae5a7646c9", "author": {"user": {"login": "wu-sheng", "name": "\u5434\u665f Wu Sheng"}}, "url": "https://github.com/apache/skywalking/commit/8d256d197d19be9a41d09d2f5a7412ae5a7646c9", "committedDate": "2020-04-12T02:42:36Z", "message": "Merge branch 'master' into master"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cc4e2b5f0e3f646cd27263c83d131d33f7a2de10", "author": {"user": {"login": "BFergerson", "name": "Brandon Fergerson"}}, "url": "https://github.com/apache/skywalking/commit/cc4e2b5f0e3f646cd27263c83d131d33f7a2de10", "committedDate": "2020-04-21T19:46:58Z", "message": "Merge pull request #1 from apache/master\n\nmerge up"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "87d22ab647a08bf2bb45c3951bbeb91376f0dfe2", "author": {"user": {"login": "BFergerson", "name": "Brandon Fergerson"}}, "url": "https://github.com/apache/skywalking/commit/87d22ab647a08bf2bb45c3951bbeb91376f0dfe2", "committedDate": "2020-04-22T16:10:23Z", "message": "update test for new plugin structure"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "85c6ccc815f864127104959db13a1ee01d2ec87e", "author": {"user": {"login": "BFergerson", "name": "Brandon Fergerson"}}, "url": "https://github.com/apache/skywalking/commit/85c6ccc815f864127104959db13a1ee01d2ec87e", "committedDate": "2020-04-22T16:11:42Z", "message": "Merge branch 'master' into master"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "300499b153a580780c2186d3f00ca2ab65a28582", "author": {"user": {"login": "BFergerson", "name": "Brandon Fergerson"}}, "url": "https://github.com/apache/skywalking/commit/300499b153a580780c2186d3f00ca2ab65a28582", "committedDate": "2020-04-22T16:16:17Z", "message": "got rid of registryItems"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e5cc6aaf49ef3f010eb89512b055eb1c1fdbe1b1", "author": {"user": {"login": "BFergerson", "name": "Brandon Fergerson"}}, "url": "https://github.com/apache/skywalking/commit/e5cc6aaf49ef3f010eb89512b055eb1c1fdbe1b1", "committedDate": "2020-04-22T16:16:25Z", "message": "Merge remote-tracking branch 'origin/master'"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "81acb7ffea0850e938b70ed50f4abe063d450131", "author": {"user": {"login": "BFergerson", "name": "Brandon Fergerson"}}, "url": "https://github.com/apache/skywalking/commit/81acb7ffea0850e938b70ed50f4abe063d450131", "committedDate": "2020-04-23T05:28:37Z", "message": "remove unnecessary dependencies"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2fd69d3095e3ae0e91b49f0c073c42f692659250", "author": {"user": {"login": "BFergerson", "name": "Brandon Fergerson"}}, "url": "https://github.com/apache/skywalking/commit/2fd69d3095e3ae0e91b49f0c073c42f692659250", "committedDate": "2020-04-23T06:10:58Z", "message": "re-impl eventbus scenario"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "959542d095f18d4e2a5fefd25c4b2f7c35c59adc", "author": {"user": {"login": "BFergerson", "name": "Brandon Fergerson"}}, "url": "https://github.com/apache/skywalking/commit/959542d095f18d4e2a5fefd25c4b2f7c35c59adc", "committedDate": "2020-04-23T06:21:35Z", "message": "more precise naming"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aa0fd16adeee64c93874e0abde18cde37bd95583", "author": {"user": {"login": "BFergerson", "name": "Brandon Fergerson"}}, "url": "https://github.com/apache/skywalking/commit/aa0fd16adeee64c93874e0abde18cde37bd95583", "committedDate": "2020-04-23T06:22:52Z", "message": "fix expected data"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6e11f68ad837f44121f5d875bb1d3732767c9d9d", "author": {"user": {"login": "wu-sheng", "name": "\u5434\u665f Wu Sheng"}}, "url": "https://github.com/apache/skywalking/commit/6e11f68ad837f44121f5d875bb1d3732767c9d9d", "committedDate": "2020-04-23T06:48:07Z", "message": "Merge branch 'master' into master"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "db347e961176dc4c36871d38432d14b64352932c", "author": {"user": {"login": "BFergerson", "name": "Brandon Fergerson"}}, "url": "https://github.com/apache/skywalking/commit/db347e961176dc4c36871d38432d14b64352932c", "committedDate": "2020-04-23T06:54:35Z", "message": "removed unsupported versions and removed vertx caching (avoids permission error)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1483e31d3938c90a6f02a7fc4a3b24e49b79bd28", "author": {"user": {"login": "BFergerson", "name": "Brandon Fergerson"}}, "url": "https://github.com/apache/skywalking/commit/1483e31d3938c90a6f02a7fc4a3b24e49b79bd28", "committedDate": "2020-04-23T06:54:43Z", "message": "Merge remote-tracking branch 'origin/master'"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4a877c01739fc119426bc3b097728f3a094ba9ce", "author": {"user": {"login": "BFergerson", "name": "Brandon Fergerson"}}, "url": "https://github.com/apache/skywalking/commit/4a877c01739fc119426bc3b097728f3a094ba9ce", "committedDate": "2020-04-23T07:41:20Z", "message": "rewrote to remove copied code"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d465dd4d82bf15ef459bfd1071c4c20a07410ffc", "author": {"user": {"login": "arugal", "name": "zhang-wei"}}, "url": "https://github.com/apache/skywalking/commit/d465dd4d82bf15ef459bfd1071c4c20a07410ffc", "committedDate": "2020-04-23T15:35:33Z", "message": "Merge branch 'master' into master"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "21cebc255e25dfe9e82f59da58ccc6c71f8c5722", "author": {"user": {"login": "BFergerson", "name": "Brandon Fergerson"}}, "url": "https://github.com/apache/skywalking/commit/21cebc255e25dfe9e82f59da58ccc6c71f8c5722", "committedDate": "2020-04-24T08:11:24Z", "message": "Update plugins-test.3.yaml"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b4ad628209307c063cd77054fa5e03ab3ee9f422", "author": {"user": {"login": "BFergerson", "name": "Brandon Fergerson"}}, "url": "https://github.com/apache/skywalking/commit/b4ad628209307c063cd77054fa5e03ab3ee9f422", "committedDate": "2020-04-24T09:44:28Z", "message": "fixes issue of .vertx files remaining on v3.0.0"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d313cb26db21ce4bc50d3fd436810927b5f612df", "author": {"user": {"login": "BFergerson", "name": "Brandon Fergerson"}}, "url": "https://github.com/apache/skywalking/commit/d313cb26db21ce4bc50d3fd436810927b5f612df", "committedDate": "2020-04-24T09:44:41Z", "message": "Merge remote-tracking branch 'origin/master'"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b876173ef60dfc37de2c7315a08967c181648a26", "author": {"user": {"login": "BFergerson", "name": "Brandon Fergerson"}}, "url": "https://github.com/apache/skywalking/commit/b876173ef60dfc37de2c7315a08967c181648a26", "committedDate": "2020-04-24T10:12:51Z", "message": "only present in v3.0.0"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d57a3c352c786afeefaec98628888b2698f94752", "author": {"user": {"login": "BFergerson", "name": "Brandon Fergerson"}}, "url": "https://github.com/apache/skywalking/commit/d57a3c352c786afeefaec98628888b2698f94752", "committedDate": "2020-04-29T13:51:01Z", "message": "consistency"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2b614e9ffe7a84d3e62e18d33d5dd67e6b0731c4", "author": {"user": {"login": "BFergerson", "name": "Brandon Fergerson"}}, "url": "https://github.com/apache/skywalking/commit/2b614e9ffe7a84d3e62e18d33d5dd67e6b0731c4", "committedDate": "2020-04-29T13:52:27Z", "message": "Merge branch 'master' of https://github.com/BFergerson/skywalking\n\n\u0001 Conflicts:\n\u0001\t.github/workflows/plugins-test.3.yaml\n\u0001\ttest/plugin/scenarios/vertx-web-3.x-scenario/config/expectedData.yaml"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b0b24b41b71c13665d335428e749bd7c4e8a1a96", "author": {"user": {"login": "BFergerson", "name": "Brandon Fergerson"}}, "url": "https://github.com/apache/skywalking/commit/b0b24b41b71c13665d335428e749bd7c4e8a1a96", "committedDate": "2020-04-29T13:54:28Z", "message": "add more supported versions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "de1ef3c0ac4ba5330a628e3bf67d98026c06fce2", "author": {"user": {"login": "BFergerson", "name": "Brandon Fergerson"}}, "url": "https://github.com/apache/skywalking/commit/de1ef3c0ac4ba5330a628e3bf67d98026c06fce2", "committedDate": "2020-04-29T15:00:35Z", "message": "track status code"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ac3d6e11d28c13916720a053a536999fd7b0acee", "author": {"user": {"login": "BFergerson", "name": "Brandon Fergerson"}}, "url": "https://github.com/apache/skywalking/commit/ac3d6e11d28c13916720a053a536999fd7b0acee", "committedDate": "2020-04-29T15:00:57Z", "message": "spelling fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "213f5a69e15a7e86b8b0a947d9c620b3fb5b8861", "author": {"user": {"login": "BFergerson", "name": "Brandon Fergerson"}}, "url": "https://github.com/apache/skywalking/commit/213f5a69e15a7e86b8b0a947d9c620b3fb5b8861", "committedDate": "2020-04-29T15:20:23Z", "message": "track status code"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1a44db0dcc0c4a27fba24f3357bb9a1ff72cc6d6", "author": {"user": {"login": "BFergerson", "name": "Brandon Fergerson"}}, "url": "https://github.com/apache/skywalking/commit/1a44db0dcc0c4a27fba24f3357bb9a1ff72cc6d6", "committedDate": "2020-04-29T15:42:26Z", "message": "more correct naming"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "41c1ce2877a0137d8c9b678cdf3c2936ed0883e5", "author": {"user": {"login": "BFergerson", "name": "Brandon Fergerson"}}, "url": "https://github.com/apache/skywalking/commit/41c1ce2877a0137d8c9b678cdf3c2936ed0883e5", "committedDate": "2020-04-29T15:43:46Z", "message": "reverts 213f5a69 (status code isn't sent at this point)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ee394310dc5d0aa0b976a0794f70271a360b7091", "author": {"user": {"login": "BFergerson", "name": "Brandon Fergerson"}}, "url": "https://github.com/apache/skywalking/commit/ee394310dc5d0aa0b976a0794f70271a360b7091", "committedDate": "2020-04-29T16:53:41Z", "message": "made HttpServerResponseImplEndInstrumentation more strict based on version\nadded status code tracking\nfixes issue not finishing async spans"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b267f860fa0ec07bb38b9ff51535786ab1f093b7", "author": {"user": {"login": "BFergerson", "name": "Brandon Fergerson"}}, "url": "https://github.com/apache/skywalking/commit/b267f860fa0ec07bb38b9ff51535786ab1f093b7", "committedDate": "2020-04-29T17:00:59Z", "message": "works 3.0.0,3.7.0"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "35c71a4c8fb140431d584c9e812e274a70fa1118", "author": {"user": {"login": "BFergerson", "name": "Brandon Fergerson"}}, "url": "https://github.com/apache/skywalking/commit/35c71a4c8fb140431d584c9e812e274a70fa1118", "committedDate": "2020-04-29T17:10:11Z", "message": "increase compatibility"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "75f578fc2eeb631e17ad311a8151813a4c6c06e5", "author": {"user": {"login": "BFergerson", "name": "Brandon Fergerson"}}, "url": "https://github.com/apache/skywalking/commit/75f578fc2eeb631e17ad311a8151813a4c6c06e5", "committedDate": "2020-04-29T17:15:47Z", "message": "Merge branch 'master' into master"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d2c95773bb447da1036cb675e710450224a7cdb5", "author": {"user": {"login": "BFergerson", "name": "Brandon Fergerson"}}, "url": "https://github.com/apache/skywalking/commit/d2c95773bb447da1036cb675e710450224a7cdb5", "committedDate": "2020-04-29T17:16:37Z", "message": "3.9.0 default"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cbc36b7a4b4f57414c66be12215738ff33488cd6", "author": {"user": {"login": "BFergerson", "name": "Brandon Fergerson"}}, "url": "https://github.com/apache/skywalking/commit/cbc36b7a4b4f57414c66be12215738ff33488cd6", "committedDate": "2020-04-29T17:16:43Z", "message": "Merge remote-tracking branch 'origin/master'"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAzMTUwOTEx", "url": "https://github.com/apache/skywalking/pull/4736#pullrequestreview-403150911", "createdAt": "2020-04-30T01:42:36Z", "commit": {"oid": "cbc36b7a4b4f57414c66be12215738ff33488cd6"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQwMTo0MjozNlrOGOW6dw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQwMTo0MjozNlrOGOW6dw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzcwODY2Mw==", "bodyText": "This is an HTTP interceptor, I think instanceof is acceptable. Only remind you, using witness class to different versions is better. Because it has no payload at the runtime, even in the JDK8 instanceof is faster, but at least nothing is faster :)", "url": "https://github.com/apache/skywalking/pull/4736#discussion_r417708663", "createdAt": "2020-04-30T01:42:36Z", "author": {"login": "wu-sheng"}, "path": "apm-sniffer/apm-sdk-plugin/vertx-plugins/vertx-core-3.x-plugin/src/main/java/org/apache/skywalking/apm/plugin/vertx3/HttpClientRequestImplEndInterceptor.java", "diffHunk": "@@ -40,11 +40,17 @@ public void onConstruct(EnhancedInstance objInst, Object[] allArguments) {\n         String host;\n         int port;\n         if (allArguments[3] instanceof Integer) {\n+            //ver. 3.0.x - 3.3.x", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cbc36b7a4b4f57414c66be12215738ff33488cd6"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAzMTkzNjY1", "url": "https://github.com/apache/skywalking/pull/4736#pullrequestreview-403193665", "createdAt": "2020-04-30T04:33:52Z", "commit": {"oid": "cbc36b7a4b4f57414c66be12215738ff33488cd6"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3edff1d1a4214b18d9fb1e444dfaf621f45949cd", "author": {"user": {"login": "wu-sheng", "name": "\u5434\u665f Wu Sheng"}}, "url": "https://github.com/apache/skywalking/commit/3edff1d1a4214b18d9fb1e444dfaf621f45949cd", "committedDate": "2020-04-30T09:30:17Z", "message": "Merge branch 'master' into master"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "288e571e8e14d8145eb5d4c2d7d37b8c63296763", "author": {"user": {"login": "BFergerson", "name": "Brandon Fergerson"}}, "url": "https://github.com/apache/skywalking/commit/288e571e8e14d8145eb5d4c2d7d37b8c63296763", "committedDate": "2020-04-30T13:07:37Z", "message": "versioned witness classes (advice from wu-sheng)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "64232f8600569c2e7f0b92a5971fd5c0a30b61e7", "author": {"user": {"login": "BFergerson", "name": "Brandon Fergerson"}}, "url": "https://github.com/apache/skywalking/commit/64232f8600569c2e7f0b92a5971fd5c0a30b61e7", "committedDate": "2020-04-30T13:07:47Z", "message": "Merge remote-tracking branch 'origin/master'"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAzNTk4NjM0", "url": "https://github.com/apache/skywalking/pull/4736#pullrequestreview-403598634", "createdAt": "2020-04-30T14:52:30Z", "commit": {"oid": "64232f8600569c2e7f0b92a5971fd5c0a30b61e7"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2364, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}