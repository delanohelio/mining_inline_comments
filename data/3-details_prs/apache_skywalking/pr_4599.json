{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk2NDE3NzAz", "number": 4599, "title": "Make 8.0.0 Core available. New protocol and register removed.", "bodyText": "This would be a huge pull request, relating to protocol, agent and backend. 8.x would be an new core without back forward compatibility.\nAfter the experiences of removing endpoint_inventory, I found out this\nstrategy is successful.\nEspecially, we totally get rid of register, so I want to do more.\nSkyWalking 8.0.0\nFirst, it is already unexpected for me, we have to move to 8.0.0 so\nquickly, but after the discussion with @hanahmily , and thinking about this for several days, I think\nwe have to.\nThe key chances are following\n\nRemove service, service instance, and network address register. The old\nregister protocols are totally going to be removed.\nThe agent doesn't need to do register anymore. Service name and Service\nInstance name are generated by the agent itself, but the extra information,\nsuch as IP, hostname, language, should report to backend separately.\nService Traffic should be added just like the endpoint traffic but keep\nthe time bucket as we need accurate service name in the given duration\nService Instance Traffic should be added too, with external information,\nsuch as language, hostname.\nTrace context propagation context should be changed to accept string in\nservice instance name, endpoint name and network address. This could ease\nthe agent logic, but also, requires changes in all language agent and\nplugin test tool,\nTrace report protocol requires to change too, in order to adopt the\nstring.\ne2e tests have to ignore PHP and LUA at first, and remove the 6.x\ncompatibility test(doesn't support anymore).\n\nThe benefits we will get are\n\nDon't worry about the inventory(s) that has been deleted randomly by end\nusers. (We received a lot of issue reports about this)\nThe upgrade could be easier erasing the whole storage and reboot the new\none. (Users don't feel comfortable about upgrade)\nNo hot-reboot case in the agent side\nNo cache of network address register information in the agent.\nNo service and service instance cache in the OAP\nNo register lock in the OAP\nNo file buffer mechanism in the OAP too, same as no register happens.\n\nIn my mind, I think this totally break upgrade is super meaningful and will\nbe good change. Even we break many things, they are easy to follow.\n@mrproliu  I think by following this, we need\nto change the collaboration header to sw8 :) As no 7.1.0 release will\nhappen.\nLink to mail list, https://lists.apache.org/thread.html/rda36fa8d191fc5750fc793993c69e14a917138bf97f9c2a461b72811%40%3Cdev.skywalking.apache.org%3E", "createdAt": "2020-03-31T15:35:27Z", "url": "https://github.com/apache/skywalking/pull/4599", "merged": true, "mergeCommit": {"oid": "6fe2041b470113e626cb3f41e3789261d31f2548"}, "closed": true, "closedAt": "2020-04-10T03:03:25Z", "author": {"login": "wu-sheng"}, "timelineItems": {"totalCount": 88, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcTAAINgH2gAyMzk2NDE3NzAzOjIxMjMzOWM4MWFiNjBiZWQ1YTFmZjE2YWU3OWI4MTUzMWI2YWY3YzE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcWIA-HgFqTM5MTI0MzAxMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "212339c81ab60bed5a1ff16ae79b81531b6af7c1", "author": {"user": {"login": "wu-sheng", "name": "\u5434\u665f Wu Sheng"}}, "url": "https://github.com/apache/skywalking/commit/212339c81ab60bed5a1ff16ae79b81531b6af7c1", "committedDate": "2020-03-31T09:50:47Z", "message": "1. Update protocol. 2.Finish most changes at the agent side. 3. Working on the test case fix."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1322075a0eddb39dd7a5ac84ca711e2a8e2fc74d", "author": {"user": {"login": "wu-sheng", "name": "\u5434\u665f Wu Sheng"}}, "url": "https://github.com/apache/skywalking/commit/1322075a0eddb39dd7a5ac84ca711e2a8e2fc74d", "committedDate": "2020-03-31T13:39:19Z", "message": "Clean the test issue. Agent and plugins are ready."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1e4a66c63525677b9c0faef0c5deda3f12a6c475", "author": {"user": {"login": "wu-sheng", "name": "\u5434\u665f Wu Sheng"}}, "url": "https://github.com/apache/skywalking/commit/1e4a66c63525677b9c0faef0c5deda3f12a6c475", "committedDate": "2020-03-31T15:28:09Z", "message": "Add IDManager for further refactor."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "45220fefbea581b8be63fc4d7b2fd7d4081cf3b9", "author": {"user": {"login": "wu-sheng", "name": "\u5434\u665f Wu Sheng"}}, "url": "https://github.com/apache/skywalking/commit/45220fefbea581b8be63fc4d7b2fd7d4081cf3b9", "committedDate": "2020-04-01T03:02:39Z", "message": "1. Set up traffic for service and service instance. 2. Add ServiceInstanceProperties as a new source. 3. Remove Month as downsamping and query step."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f9b3b6197e70d620fc81d09db211443036756c47", "author": {"user": {"login": "wu-sheng", "name": "\u5434\u665f Wu Sheng"}}, "url": "https://github.com/apache/skywalking/commit/f9b3b6197e70d620fc81d09db211443036756c47", "committedDate": "2020-04-01T04:39:34Z", "message": "Merge branch 'master' into v8-core"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a5e258f040bd53b0b4b5f7f132f868505b2eb4a2", "author": {"user": {"login": "wu-sheng", "name": "\u5434\u665f Wu Sheng"}}, "url": "https://github.com/apache/skywalking/commit/a5e258f040bd53b0b4b5f7f132f868505b2eb4a2", "committedDate": "2020-04-01T14:39:01Z", "message": "Finish all new traffic objects and network alias metrics. Being to adjust the receiver, starting with trace analysis."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5509edb7d786067cb5a6712260f2dd99a1476fd6", "author": {"user": {"login": "wu-sheng", "name": "\u5434\u665f Wu Sheng"}}, "url": "https://github.com/apache/skywalking/commit/5509edb7d786067cb5a6712260f2dd99a1476fd6", "committedDate": "2020-04-01T16:02:38Z", "message": "Merge branch 'v8-core' of https://github.com/apache/skywalking into v8-core"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "469e75adb9df185a72e3d0f9d961def1af0730db", "author": {"user": {"login": "wu-sheng", "name": "\u5434\u665f Wu Sheng"}}, "url": "https://github.com/apache/skywalking/commit/469e75adb9df185a72e3d0f9d961def1af0730db", "committedDate": "2020-04-01T16:04:32Z", "message": "Set up network address alias and fix some listeners."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d40ecd3079ece229197d09fc7c5b8aa8900b2425", "author": {"user": {"login": "wu-sheng", "name": "\u5434\u665f Wu Sheng"}}, "url": "https://github.com/apache/skywalking/commit/d40ecd3079ece229197d09fc7c5b8aa8900b2425", "committedDate": "2020-04-01T23:32:32Z", "message": "Enhance protocol documentations."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "78ca5f4f204b69f7122d8bb81362cf51b2c85bb2", "author": {"user": {"login": "wu-sheng", "name": "\u5434\u665f Wu Sheng"}}, "url": "https://github.com/apache/skywalking/commit/78ca5f4f204b69f7122d8bb81362cf51b2c85bb2", "committedDate": "2020-04-01T23:35:02Z", "message": "Update protocol"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8a6813e898f796e343df7c76f0d8cbd4dfb2144a", "author": {"user": {"login": "wu-sheng", "name": "\u5434\u665f Wu Sheng"}}, "url": "https://github.com/apache/skywalking/commit/8a6813e898f796e343df7c76f0d8cbd4dfb2144a", "committedDate": "2020-04-02T02:24:48Z", "message": "Remove all register related interfaces and DAOs. Will try to implement them later."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fe9964642aca271a548e7760c84842180434c8e2", "author": {"user": {"login": "wu-sheng", "name": "\u5434\u665f Wu Sheng"}}, "url": "https://github.com/apache/skywalking/commit/fe9964642aca271a548e7760c84842180434c8e2", "committedDate": "2020-04-02T08:03:18Z", "message": "Make topology query pass compling"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bda811c01dfaa683ba1acc5a25412154f43ab688", "author": {"user": {"login": "wu-sheng", "name": "\u5434\u665f Wu Sheng"}}, "url": "https://github.com/apache/skywalking/commit/bda811c01dfaa683ba1acc5a25412154f43ab688", "committedDate": "2020-04-02T09:41:58Z", "message": "Make core compiling passed."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b84bb392c32376608accb136fd175a43730aa9e6", "author": {"user": {"login": "wu-sheng", "name": "\u5434\u665f Wu Sheng"}}, "url": "https://github.com/apache/skywalking/commit/b84bb392c32376608accb136fd175a43730aa9e6", "committedDate": "2020-04-02T13:57:33Z", "message": "Make more modules compiling passed."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9abd257fde287d507dedd3c430292e24122bb657", "author": {"user": {"login": "wu-sheng", "name": "\u5434\u665f Wu Sheng"}}, "url": "https://github.com/apache/skywalking/commit/9abd257fde287d507dedd3c430292e24122bb657", "committedDate": "2020-04-03T15:26:29Z", "message": "More backend modules compiling passed. Several left."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3afa320951430b20e2bc32dc8908843b373f5eaa", "author": {"user": {"login": "wu-sheng", "name": "\u5434\u665f Wu Sheng"}}, "url": "https://github.com/apache/skywalking/commit/3afa320951430b20e2bc32dc8908843b373f5eaa", "committedDate": "2020-04-04T08:34:33Z", "message": "`mvn clean compile` passed!"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "16c8a78d4d4def289bd5eda18c3f99d869afb0e3", "author": {"user": {"login": "wu-sheng", "name": "\u5434\u665f Wu Sheng"}}, "url": "https://github.com/apache/skywalking/commit/16c8a78d4d4def289bd5eda18c3f99d869afb0e3", "committedDate": "2020-04-04T10:05:27Z", "message": "Push more codes."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "99759430fa677a54f2ad3370b11e7eb61f89d5e8", "author": {"user": {"login": "wu-sheng", "name": "\u5434\u665f Wu Sheng"}}, "url": "https://github.com/apache/skywalking/commit/99759430fa677a54f2ad3370b11e7eb61f89d5e8", "committedDate": "2020-04-04T14:24:37Z", "message": "Package succesfuly with UT passed."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ce527035363a5f6c3eab35df438b56b5a4edad3e", "author": {"user": {"login": "wu-sheng", "name": "\u5434\u665f Wu Sheng"}}, "url": "https://github.com/apache/skywalking/commit/ce527035363a5f6c3eab35df438b56b5a4edad3e", "committedDate": "2020-04-04T15:04:37Z", "message": "Make project bootstrap successfully."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bc1f8dc84e630516ccd0d48fdf4160426d3e2699", "author": {"user": {"login": "wu-sheng", "name": "\u5434\u665f Wu Sheng"}}, "url": "https://github.com/apache/skywalking/commit/bc1f8dc84e630516ccd0d48fdf4160426d3e2699", "committedDate": "2020-04-04T15:14:44Z", "message": "Fix format."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "37ac99f0948d2f0e7aec63c408373f3b4b8f2ff9", "author": {"user": {"login": "wu-sheng", "name": "\u5434\u665f Wu Sheng"}}, "url": "https://github.com/apache/skywalking/commit/37ac99f0948d2f0e7aec63c408373f3b4b8f2ff9", "committedDate": "2020-04-05T12:48:28Z", "message": "Make analysis and ES persistent good."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "821c4a94402d34b7b300a7a6d582281fa932a2fd", "author": {"user": {"login": "wu-sheng", "name": "\u5434\u665f Wu Sheng"}}, "url": "https://github.com/apache/skywalking/commit/821c4a94402d34b7b300a7a6d582281fa932a2fd", "committedDate": "2020-04-05T13:25:09Z", "message": "Fix model format."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dc8725bf6cd64222a1504ac9ae5412f1274c6a6b", "author": {"user": {"login": "wu-sheng", "name": "\u5434\u665f Wu Sheng"}}, "url": "https://github.com/apache/skywalking/commit/dc8725bf6cd64222a1504ac9ae5412f1274c6a6b", "committedDate": "2020-04-05T14:15:25Z", "message": "Fix 2 bugs."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "baf05c9e6b72d240788293b0c49c68cac9e941d3", "author": {"user": {"login": "wu-sheng", "name": "\u5434\u665f Wu Sheng"}}, "url": "https://github.com/apache/skywalking/commit/baf05c9e6b72d240788293b0c49c68cac9e941d3", "committedDate": "2020-04-05T15:56:43Z", "message": "Fix several bugs in query stage and ID(user reserved ID) rule conflict."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3722d519508839002fa8bad7837d5cc25fcdd254", "author": {"user": {"login": "wu-sheng", "name": "\u5434\u665f Wu Sheng"}}, "url": "https://github.com/apache/skywalking/commit/3722d519508839002fa8bad7837d5cc25fcdd254", "committedDate": "2020-04-05T23:18:12Z", "message": "Merge branch 'master' into v8-core"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4870e99fe6d3575bb22321f76faae3f4ffdb265b", "author": {"user": {"login": "wu-sheng", "name": "\u5434\u665f Wu Sheng"}}, "url": "https://github.com/apache/skywalking/commit/4870e99fe6d3575bb22321f76faae3f4ffdb265b", "committedDate": "2020-04-06T04:05:52Z", "message": "Make service topology works."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3186e21672e0669e8bf3799c8a54482a2fc48b16", "author": {"user": {"login": "wu-sheng", "name": "\u5434\u665f Wu Sheng"}}, "url": "https://github.com/apache/skywalking/commit/3186e21672e0669e8bf3799c8a54482a2fc48b16", "committedDate": "2020-04-06T05:50:04Z", "message": "Fix topology ID issue."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0e8abd76d8989b0ed9579beca60a21460e61a1ed", "author": {"user": {"login": "wu-sheng", "name": "\u5434\u665f Wu Sheng"}}, "url": "https://github.com/apache/skywalking/commit/0e8abd76d8989b0ed9579beca60a21460e61a1ed", "committedDate": "2020-04-06T06:38:51Z", "message": "Make topology and trace back to work."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d1fcb1a773f5b8de6c48557239aa27b87798e4ac", "author": {"user": {"login": "wu-sheng", "name": "\u5434\u665f Wu Sheng"}}, "url": "https://github.com/apache/skywalking/commit/d1fcb1a773f5b8de6c48557239aa27b87798e4ac", "committedDate": "2020-04-06T07:16:41Z", "message": "Fix topology node type."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "01625a309487938177cfca7d2c3ef0e210acbca0", "author": {"user": {"login": "wu-sheng", "name": "\u5434\u665f Wu Sheng"}}, "url": "https://github.com/apache/skywalking/commit/01625a309487938177cfca7d2c3ef0e210acbca0", "committedDate": "2020-04-06T07:35:09Z", "message": "Fix MySQL and H2 storage implementation."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8054779ba168c73ab0ba30ccfa361f5f1ae0f408", "author": {"user": {"login": "wu-sheng", "name": "\u5434\u665f Wu Sheng"}}, "url": "https://github.com/apache/skywalking/commit/8054779ba168c73ab0ba30ccfa361f5f1ae0f408", "committedDate": "2020-04-06T08:01:46Z", "message": "Update e2e submodule and remove component name."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "baf6f1a502c78cc12fe750509f1a40a233e46088", "author": {"user": {"login": "wu-sheng", "name": "\u5434\u665f Wu Sheng"}}, "url": "https://github.com/apache/skywalking/commit/baf6f1a502c78cc12fe750509f1a40a233e46088", "committedDate": "2020-04-06T08:06:33Z", "message": "Revert wrong update."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "adeacdfccf7c1018b0535071c79b855c5a13b450", "author": {"user": {"login": "wu-sheng", "name": "\u5434\u665f Wu Sheng"}}, "url": "https://github.com/apache/skywalking/commit/adeacdfccf7c1018b0535071c79b855c5a13b450", "committedDate": "2020-04-06T08:10:14Z", "message": "Fix one test case."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "195c8a037e133f7ad0143c284e038939058f3808", "author": {"user": {"login": "wu-sheng", "name": "\u5434\u665f Wu Sheng"}}, "url": "https://github.com/apache/skywalking/commit/195c8a037e133f7ad0143c284e038939058f3808", "committedDate": "2020-04-06T08:11:15Z", "message": "Fix query."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f11a7469257b4832edde3d2cb7f9052504584424", "author": {"user": {"login": "wu-sheng", "name": "\u5434\u665f Wu Sheng"}}, "url": "https://github.com/apache/skywalking/commit/f11a7469257b4832edde3d2cb7f9052504584424", "committedDate": "2020-04-06T08:24:56Z", "message": "Fix ID conflicts."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "affba6bf4eee7d3a62ab1dfcd15289b7b6bb0053", "author": {"user": {"login": "wu-sheng", "name": "\u5434\u665f Wu Sheng"}}, "url": "https://github.com/apache/skywalking/commit/affba6bf4eee7d3a62ab1dfcd15289b7b6bb0053", "committedDate": "2020-04-06T08:30:24Z", "message": "Fix format."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "25db06fcb085fa7a930e12941f70775da1449bf9", "author": {"user": {"login": "wu-sheng", "name": "\u5434\u665f Wu Sheng"}}, "url": "https://github.com/apache/skywalking/commit/25db06fcb085fa7a930e12941f70775da1449bf9", "committedDate": "2020-04-06T08:36:26Z", "message": "Fix format."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "009eaaab8e5dd3326a31e4f39cd9b3b7db6278a6", "author": {"user": {"login": "wu-sheng", "name": "\u5434\u665f Wu Sheng"}}, "url": "https://github.com/apache/skywalking/commit/009eaaab8e5dd3326a31e4f39cd9b3b7db6278a6", "committedDate": "2020-04-06T08:48:37Z", "message": "Fix test case."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cb3704564767eb3cd113fa029a6b627f1876386e", "author": {"user": {"login": "wu-sheng", "name": "\u5434\u665f Wu Sheng"}}, "url": "https://github.com/apache/skywalking/commit/cb3704564767eb3cd113fa029a6b627f1876386e", "committedDate": "2020-04-06T09:32:59Z", "message": "Fix ManagementServiceGrpc handler issue."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ddcd190df06913ef093fccc4237c1a9f57c1b55a", "author": {"user": {"login": "wu-sheng", "name": "\u5434\u665f Wu Sheng"}}, "url": "https://github.com/apache/skywalking/commit/ddcd190df06913ef093fccc4237c1a9f57c1b55a", "committedDate": "2020-04-06T09:48:59Z", "message": "Try update nodejs version."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aa2497415664fd3e6420100878d03ea9ea6d54eb", "author": {"user": {"login": "wu-sheng", "name": "\u5434\u665f Wu Sheng"}}, "url": "https://github.com/apache/skywalking/commit/aa2497415664fd3e6420100878d03ea9ea6d54eb", "committedDate": "2020-04-06T13:08:48Z", "message": "Update doc."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9ae7372597cd4223c3c140c09c7c01118af238fb", "author": {"user": {"login": "dmsolr", "name": "Daming"}}, "url": "https://github.com/apache/skywalking/commit/9ae7372597cd4223c3c140c09c7c01118af238fb", "committedDate": "2020-04-06T16:04:34Z", "message": "upgrade the agent test tool"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a93ccb638855cbc29e0b37bcbd021922740d0f69", "author": {"user": {"login": "dmsolr", "name": "Daming"}}, "url": "https://github.com/apache/skywalking/commit/a93ccb638855cbc29e0b37bcbd021922740d0f69", "committedDate": "2020-04-06T16:27:23Z", "message": "update expectedData.yaml"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d6a8a2e75cc0bb46af5ede338473f43f05d59f22", "author": {"user": {"login": "wu-sheng", "name": "\u5434\u665f Wu Sheng"}}, "url": "https://github.com/apache/skywalking/commit/d6a8a2e75cc0bb46af5ede338473f43f05d59f22", "committedDate": "2020-04-07T01:13:03Z", "message": "Update expected data files."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c39929d7f541934447b391fc95858c31580f4d7c", "author": {"user": {"login": "wu-sheng", "name": "\u5434\u665f Wu Sheng"}}, "url": "https://github.com/apache/skywalking/commit/c39929d7f541934447b391fc95858c31580f4d7c", "committedDate": "2020-04-07T06:49:07Z", "message": "Polish topology query a little"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7be6a5ba13f9f1ad3443be7a1f787f970f2a8a88", "author": {"user": {"login": "wu-sheng", "name": "\u5434\u665f Wu Sheng"}}, "url": "https://github.com/apache/skywalking/commit/7be6a5ba13f9f1ad3443be7a1f787f970f2a8a88", "committedDate": "2020-04-07T06:52:22Z", "message": "Remove influxdb, lua agent and PHP agent from e2e tests. No need to do reboot test."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c7a6e01bf3784b3bba5b87d9ac91cc36fd7ae48d", "author": {"user": {"login": "kezhenxu94", "name": "kezhenxu94"}}, "url": "https://github.com/apache/skywalking/commit/c7a6e01bf3784b3bba5b87d9ac91cc36fd7ae48d", "committedDate": "2020-04-07T07:56:33Z", "message": "Try fix simple E2E case"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f296edd7483298bab86e67e9eb8231ef1919e617", "author": {"user": {"login": "wu-sheng", "name": "\u5434\u665f Wu Sheng"}}, "url": "https://github.com/apache/skywalking/commit/f296edd7483298bab86e67e9eb8231ef1919e617", "committedDate": "2020-04-07T08:37:42Z", "message": "Fix service, instance and network alias entities serialize bug"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c32f114f5dbfbb81bdcb9c00b7646a93a3c2c209", "author": {"user": {"login": "wu-sheng", "name": "\u5434\u665f Wu Sheng"}}, "url": "https://github.com/apache/skywalking/commit/c32f114f5dbfbb81bdcb9c00b7646a93a3c2c209", "committedDate": "2020-04-07T08:38:37Z", "message": "Merge branch 'v8-core' of https://github.com/apache/skywalking into v8-core"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dd0e9ee806572cfb8a48fea85ca5ad114468c7c4", "author": {"user": {"login": "wu-sheng", "name": "\u5434\u665f Wu Sheng"}}, "url": "https://github.com/apache/skywalking/commit/dd0e9ee806572cfb8a48fea85ca5ad114468c7c4", "committedDate": "2020-04-07T09:14:57Z", "message": "Make elasticsearch 7 startup."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c0825df77560de2195616426141be7f0783633d1", "author": {"user": {"login": "wu-sheng", "name": "\u5434\u665f Wu Sheng"}}, "url": "https://github.com/apache/skywalking/commit/c0825df77560de2195616426141be7f0783633d1", "committedDate": "2020-04-07T09:36:05Z", "message": "Fix an instance traffic persistent error."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "01c4f230a1971b57b68af2626fad62eea8ce14ff", "author": {"user": {"login": "wu-sheng", "name": "\u5434\u665f Wu Sheng"}}, "url": "https://github.com/apache/skywalking/commit/01c4f230a1971b57b68af2626fad62eea8ce14ff", "committedDate": "2020-04-07T12:29:03Z", "message": "Change the service ID generation rule for uninstrumentation proxy case."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4e6b216d44a9d1ebff9cfc9b9f8d97357004bba5", "author": {"user": {"login": "wu-sheng", "name": "\u5434\u665f Wu Sheng"}}, "url": "https://github.com/apache/skywalking/commit/4e6b216d44a9d1ebff9cfc9b9f8d97357004bba5", "committedDate": "2020-04-07T12:50:18Z", "message": "1. Support the service update in case the service has no traffic in the whole ttl period(rarely to see, just in case) 2. Fix test cases."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c674098f8583fe014dae2c0866182ba36a26ba24", "author": {"user": {"login": "wu-sheng", "name": "\u5434\u665f Wu Sheng"}}, "url": "https://github.com/apache/skywalking/commit/c674098f8583fe014dae2c0866182ba36a26ba24", "committedDate": "2020-04-07T13:03:02Z", "message": "Fix tests."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "53034afa378ef22a4b31a922eb78ad68530d2431", "author": {"user": {"login": "kezhenxu94", "name": "kezhenxu94"}}, "url": "https://github.com/apache/skywalking/commit/53034afa378ef22a4b31a922eb78ad68530d2431", "committedDate": "2020-04-07T14:00:09Z", "message": "Try fix storage E2E case"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ba7b261d3663c58c83a2c1a67cc8a7db6f993d44", "author": {"user": {"login": "kezhenxu94", "name": "kezhenxu94"}}, "url": "https://github.com/apache/skywalking/commit/ba7b261d3663c58c83a2c1a67cc8a7db6f993d44", "committedDate": "2020-04-07T14:03:24Z", "message": "Try fix storage E2E case"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7becd65e45e025a0141ca0edc4d62864b543e1eb", "author": {"user": {"login": "kezhenxu94", "name": "kezhenxu94"}}, "url": "https://github.com/apache/skywalking/commit/7becd65e45e025a0141ca0edc4d62864b543e1eb", "committedDate": "2020-04-07T14:56:39Z", "message": "Fix base unit tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8bbb5c24c50a4b29631129e03277e534301c5fb4", "author": {"user": {"login": "wu-sheng", "name": "\u5434\u665f Wu Sheng"}}, "url": "https://github.com/apache/skywalking/commit/8bbb5c24c50a4b29631129e03277e534301c5fb4", "committedDate": "2020-04-08T00:49:33Z", "message": "Format properties name and add test for instance properties in AgentDataMock."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5f18b3bc77d60f42339a70e6a6f12b1d83bfc50b", "author": {"user": {"login": "wu-sheng", "name": "\u5434\u665f Wu Sheng"}}, "url": "https://github.com/apache/skywalking/commit/5f18b3bc77d60f42339a70e6a6f12b1d83bfc50b", "committedDate": "2020-04-08T01:38:33Z", "message": "Fix instance traffic field, properties, can't be updated in the mysql implementation."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bb85985c11f35b66fbf512df76cf0187cb481cc0", "author": {"user": {"login": "kezhenxu94", "name": "kezhenxu94"}}, "url": "https://github.com/apache/skywalking/commit/bb85985c11f35b66fbf512df76cf0187cb481cc0", "committedDate": "2020-04-08T03:43:00Z", "message": "Fix simple case again"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dd39d7536543ac00ee4834cf8dcbfcf5ca2c1615", "author": {"user": {"login": "kezhenxu94", "name": "kezhenxu94"}}, "url": "https://github.com/apache/skywalking/commit/dd39d7536543ac00ee4834cf8dcbfcf5ca2c1615", "committedDate": "2020-04-08T07:44:19Z", "message": "Fix attribute names in test (os_name, host_name, etc.) to accord the core codes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7ab647107acc2246d1772b941324267371b3242d", "author": {"user": {"login": "wu-sheng", "name": "\u5434\u665f Wu Sheng"}}, "url": "https://github.com/apache/skywalking/commit/7ab647107acc2246d1772b941324267371b3242d", "committedDate": "2020-04-08T09:53:46Z", "message": "Fix following bugs.\n1. Fix uninstrumented gateway set up the alias.\n2. Fix wrong node type of uninstrumented gateway node.\n3. Fix can't update issue in instance traffic and network alias due to missing time bucket. Also time bucket should never change after first insert.\n4. Fix entry span of no upstream address language(lua) didn't use the alias. It should use, just should ignore the instance relationship.\n5. Add metrics for conjectural nodes, such as database, mq, cache(even we just have UI for db today)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ec4c0fb3aebab818797dc3a4ee89479130570b93", "author": {"user": {"login": "wu-sheng", "name": "\u5434\u665f Wu Sheng"}}, "url": "https://github.com/apache/skywalking/commit/ec4c0fb3aebab818797dc3a4ee89479130570b93", "committedDate": "2020-04-08T12:15:52Z", "message": "Fix wrong service name in the instance topology node."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dfb6b5ef83580bd7e7800f3f41e08667ef055d84", "author": {"user": {"login": "wu-sheng", "name": "\u5434\u665f Wu Sheng"}}, "url": "https://github.com/apache/skywalking/commit/dfb6b5ef83580bd7e7800f3f41e08667ef055d84", "committedDate": "2020-04-08T12:35:14Z", "message": "Update UI."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a02b0ef4d6bfb025327504b630196f703cd17690", "author": {"user": {"login": "wu-sheng", "name": "\u5434\u665f Wu Sheng"}}, "url": "https://github.com/apache/skywalking/commit/a02b0ef4d6bfb025327504b630196f703cd17690", "committedDate": "2020-04-08T12:36:22Z", "message": "Merge branch 'master' into v8-core"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6d74e218a4f01214fc629e3d7516fee299088f5e", "author": {"user": {"login": "kezhenxu94", "name": "kezhenxu94"}}, "url": "https://github.com/apache/skywalking/commit/6d74e218a4f01214fc629e3d7516fee299088f5e", "committedDate": "2020-04-08T15:26:33Z", "message": "Fix gateway case"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cd27dd56c63568319d341a097dee40e1ed15b66a", "author": {"user": {"login": "wu-sheng", "name": "\u5434\u665f Wu Sheng"}}, "url": "https://github.com/apache/skywalking/commit/cd27dd56c63568319d341a097dee40e1ed15b66a", "committedDate": "2020-04-08T15:54:06Z", "message": "Fix wrong time format in the trace list."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6e357cc8d1e055526f1d9479da5a2787719b8cff", "author": {"user": {"login": "wu-sheng", "name": "\u5434\u665f Wu Sheng"}}, "url": "https://github.com/apache/skywalking/commit/6e357cc8d1e055526f1d9479da5a2787719b8cff", "committedDate": "2020-04-08T15:54:57Z", "message": "Merge branch 'v8-core' of https://github.com/apache/skywalking into v8-core"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d85760a045bc45e485c1611ed7972648c0621012", "author": {"user": {"login": "kezhenxu94", "name": "kezhenxu94"}}, "url": "https://github.com/apache/skywalking/commit/d85760a045bc45e485c1611ed7972648c0621012", "committedDate": "2020-04-08T16:08:54Z", "message": "Fix unit test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b146259a6440163386f7645f682b449d8afd8c44", "author": {"user": {"login": "wu-sheng", "name": "\u5434\u665f Wu Sheng"}}, "url": "https://github.com/apache/skywalking/commit/b146259a6440163386f7645f682b449d8afd8c44", "committedDate": "2020-04-09T00:09:08Z", "message": "Fix segment analysis"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b1ad74af7c4e19ecfce4e8334c686f2d3dd4b08c", "author": {"user": {"login": "wu-sheng", "name": "\u5434\u665f Wu Sheng"}}, "url": "https://github.com/apache/skywalking/commit/b1ad74af7c4e19ecfce4e8334c686f2d3dd4b08c", "committedDate": "2020-04-09T00:09:30Z", "message": "Merge branch 'v8-core' of https://github.com/apache/skywalking into v8-core"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6fd0df9e125c545bbad1b61c271ff460a7694b30", "author": {"user": null}, "url": "https://github.com/apache/skywalking/commit/6fd0df9e125c545bbad1b61c271ff460a7694b30", "committedDate": "2020-04-09T04:45:59Z", "message": "fix profile e2e test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8e1856640da4e3c6bb6a3128e364996ecf7ea714", "author": {"user": {"login": "kezhenxu94", "name": "kezhenxu94"}}, "url": "https://github.com/apache/skywalking/commit/8e1856640da4e3c6bb6a3128e364996ecf7ea714", "committedDate": "2020-04-09T05:08:04Z", "message": "Fix cluster case and remove reboot codes and docker-compose.yml"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9ec9883eb8aaa71b8f81a570ab43496dfd30ed48", "author": {"user": {"login": "wu-sheng", "name": "\u5434\u665f Wu Sheng"}}, "url": "https://github.com/apache/skywalking/commit/9ec9883eb8aaa71b8f81a570ab43496dfd30ed48", "committedDate": "2020-04-09T08:14:28Z", "message": "1. Support un-tracing when backend is unavailable.\n2. Add MeshDataMock."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aea5940272fe16db6e7c930db80c6abe153d05f0", "author": {"user": {"login": "wu-sheng", "name": "\u5434\u665f Wu Sheng"}}, "url": "https://github.com/apache/skywalking/commit/aea5940272fe16db6e7c930db80c6abe153d05f0", "committedDate": "2020-04-09T08:33:08Z", "message": "Support KEEP_TRACING config in agent. And fix the test cases."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "91a1e9f77ef1227a84ff2525db166f74de806ee2", "author": {"user": {"login": "wu-sheng", "name": "\u5434\u665f Wu Sheng"}}, "url": "https://github.com/apache/skywalking/commit/91a1e9f77ef1227a84ff2525db166f74de806ee2", "committedDate": "2020-04-09T09:10:39Z", "message": "Fix tests passed by activating KEEP_TRACING."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6bedce2f3b2b01e5506925c836b54d6ed1f0f185", "author": {"user": {"login": "kezhenxu94", "name": "kezhenxu94"}}, "url": "https://github.com/apache/skywalking/commit/6bedce2f3b2b01e5506925c836b54d6ed1f0f185", "committedDate": "2020-04-09T10:53:16Z", "message": "Remove month level verification of TTL"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fa1702ac63c36cb8a6402cf0e5328cff3f5c999f", "author": {"user": {"login": "kezhenxu94", "name": "kezhenxu94"}}, "url": "https://github.com/apache/skywalking/commit/fa1702ac63c36cb8a6402cf0e5328cff3f5c999f", "committedDate": "2020-04-09T11:58:33Z", "message": "Some miss changed docs"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkwNzMzMDE5", "url": "https://github.com/apache/skywalking/pull/4599#pullrequestreview-390733019", "createdAt": "2020-04-09T12:07:20Z", "commit": {"oid": "fa1702ac63c36cb8a6402cf0e5328cff3f5c999f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQxMjowNzoyMVrOGDV4Bg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQxMjowNzoyMVrOGDV4Bg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjE1NzMxOA==", "bodyText": "This deletion actually is not related to this PR. The lazy peer initialization is another feature :) @kezhenxu94", "url": "https://github.com/apache/skywalking/pull/4599#discussion_r406157318", "createdAt": "2020-04-09T12:07:21Z", "author": {"login": "wu-sheng"}, "path": "apm-sniffer/apm-agent-core/src/main/java/org/apache/skywalking/apm/agent/core/context/TracingContext.java", "diffHunk": "@@ -324,14 +324,7 @@ public AbstractSpan createExitSpan(final String operationName, final String remo\n             exitSpan = parentSpan;\n         } else {\n             final int parentSpanId = parentSpan == null ? -1 : parentSpan.getSpanId();\n-            if (StringUtil.isEmpty(remotePeer)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fa1702ac63c36cb8a6402cf0e5328cff3f5c999f"}, "originalPosition": 13}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkwODkzMDU3", "url": "https://github.com/apache/skywalking/pull/4599#pullrequestreview-390893057", "createdAt": "2020-04-09T15:22:14Z", "commit": {"oid": "fa1702ac63c36cb8a6402cf0e5328cff3f5c999f"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkwOTAwMzM0", "url": "https://github.com/apache/skywalking/pull/4599#pullrequestreview-390900334", "createdAt": "2020-04-09T15:29:42Z", "commit": {"oid": "fa1702ac63c36cb8a6402cf0e5328cff3f5c999f"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0b637a3714309afc8f88c88bf336e58336ff78b5", "author": {"user": {"login": "wu-sheng", "name": "\u5434\u665f Wu Sheng"}}, "url": "https://github.com/apache/skywalking/commit/0b637a3714309afc8f88c88bf336e58336ff78b5", "committedDate": "2020-04-10T02:08:44Z", "message": "Update document and configuration to follow v8"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg2NTM4MzAz", "url": "https://github.com/apache/skywalking/pull/4599#pullrequestreview-386538303", "createdAt": "2020-04-02T15:25:25Z", "commit": {"oid": "8a6813e898f796e343df7c76f0d8cbd4dfb2144a"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8f6fa9f95a05daa2ab677b4893b2da280d3ad362", "author": {"user": {"login": "wu-sheng", "name": "\u5434\u665f Wu Sheng"}}, "url": "https://github.com/apache/skywalking/commit/8f6fa9f95a05daa2ab677b4893b2da280d3ad362", "committedDate": "2020-04-10T02:18:15Z", "message": "Fix a typo"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkxMjM1NzEw", "url": "https://github.com/apache/skywalking/pull/4599#pullrequestreview-391235710", "createdAt": "2020-04-10T02:19:43Z", "commit": {"oid": "8f6fa9f95a05daa2ab677b4893b2da280d3ad362"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkxMjQyNTY0", "url": "https://github.com/apache/skywalking/pull/4599#pullrequestreview-391242564", "createdAt": "2020-04-10T02:50:31Z", "commit": {"oid": "8f6fa9f95a05daa2ab677b4893b2da280d3ad362"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkxMjQyNjY4", "url": "https://github.com/apache/skywalking/pull/4599#pullrequestreview-391242668", "createdAt": "2020-04-10T02:51:00Z", "commit": {"oid": "8f6fa9f95a05daa2ab677b4893b2da280d3ad362"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkxMjQzMDEx", "url": "https://github.com/apache/skywalking/pull/4599#pullrequestreview-391243011", "createdAt": "2020-04-10T02:52:43Z", "commit": {"oid": "8f6fa9f95a05daa2ab677b4893b2da280d3ad362"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2511, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}