{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg1NTEzOTg0", "number": 4473, "title": "#4463 FAQ for Maven compilation failure with error like python2 not found", "bodyText": "Please answer these questions before submitting pull request\n\n\nWhy submit this pull request?\n\n\n Bug fix\n\n\n New feature provided\n\n\n Improve performance\n\n\nRelated issues #4463\n\n\nskywalking\\apm-webapp\\pom.xml\n<configuration>  \n <arguments>install --registry=https://registry.npm.taobao.org/ --sass_binary_site=https://npm.taobao.org/mirrors/node-sass/</arguments>  \n</configuration>\n\nI've tested it with python2 not installed.\n[INFO] tool-profile-snapshot-exporter ..................... SUCCESS [  2.561 s]\n[INFO] server-starter ..................................... SUCCESS [  7.839 s]\n[INFO] tool-profile-snapshot-exporter-es7 ................. SUCCESS [  2.667 s]\n[INFO] server-starter-es7 ................................. SUCCESS [  4.893 s]\n[INFO] apm-webapp ......................................... SUCCESS [01:49 min]\n[INFO] apache-skywalking-apm .............................. SUCCESS [ 27.541 s]\n[INFO] apache-skywalking-apm-es7 .......................... SUCCESS [ 23.390 s]\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  16:12 min\n[INFO] Finished at: 2020-03-09T09:38:13+08:00\n[INFO] ------------------------------------------------------------------------", "createdAt": "2020-03-09T10:53:26Z", "url": "https://github.com/apache/skywalking/pull/4473", "merged": true, "mergeCommit": {"oid": "ccb23d0faf3a7c73c4b5ac5ef5f5219c3b69893d"}, "closed": true, "closedAt": "2020-03-09T11:54:59Z", "author": {"login": "tankilo"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcL7poLgH2gAyMzg1NTEzOTg0OjNjOWRiNDdiNjQ2ODQ1NmI4OTgzYWNiNzNiZGMxN2NhMjZiMDAzYTM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcL8W1vAFqTM3MTA5MzY5Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "3c9db47b6468456b8983acb73bdc17ca26b003a3", "author": {"user": {"login": "tankilo", "name": "Gao Peng"}}, "url": "https://github.com/apache/skywalking/commit/3c9db47b6468456b8983acb73bdc17ca26b003a3", "committedDate": "2020-03-09T10:49:07Z", "message": "#4463 FAQ for Maven compilation failure with error like python2 not found"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c8cb7577dbb788fc34482d9b96db35fc562c768f", "author": {"user": {"login": "tankilo", "name": "Gao Peng"}}, "url": "https://github.com/apache/skywalking/commit/c8cb7577dbb788fc34482d9b96db35fc562c768f", "committedDate": "2020-03-09T10:54:58Z", "message": "#4463 FAQ for Maven compilation failure with error like python2 not found"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a32124be177f6521e34f2270b5df0b0d49f89436", "author": {"user": {"login": "kezhenxu94", "name": "kezhenxu94"}}, "url": "https://github.com/apache/skywalking/commit/a32124be177f6521e34f2270b5df0b0d49f89436", "committedDate": "2020-03-09T10:58:39Z", "message": "Update maven-compile-npm-failure.md"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcxMDcyMzMz", "url": "https://github.com/apache/skywalking/pull/4473#pullrequestreview-371072333", "createdAt": "2020-03-09T10:58:47Z", "commit": {"oid": "a32124be177f6521e34f2270b5df0b0d49f89436"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcxMDcxNzg4", "url": "https://github.com/apache/skywalking/pull/4473#pullrequestreview-371071788", "createdAt": "2020-03-09T10:57:51Z", "commit": {"oid": "c8cb7577dbb788fc34482d9b96db35fc562c768f"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQxMDo1Nzo1MVrOFzio8Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQxMDo1OTowOFrOFzirOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTU4OTIzMw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            * [Maven compilation failure with error like python2 not found](maven-compile-npm-failure.md)\n          \n          \n            \n            * [Maven compilation failure with `python2 not found` error](maven-compile-npm-failure.md)", "url": "https://github.com/apache/skywalking/pull/4473#discussion_r389589233", "createdAt": "2020-03-09T10:57:51Z", "author": {"login": "wu-sheng"}, "path": "docs/en/FAQ/README.md", "diffHunk": "@@ -7,6 +7,7 @@ These are known and common FAQs. We welcome you to contribute yours.\n ## Compiling\n * [Protoc plugin fails in maven build](Protoc-Plugin-Fails-When-Build.md)\n * [Required items could not be found, when import project into Eclipse](Import-Project-Eclipse-RequireItems-Exception.md)\n+* [Maven compilation failure with error like python2 not found](maven-compile-npm-failure.md)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c8cb7577dbb788fc34482d9b96db35fc562c768f"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTU4OTYwMQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            #### 1. If you live in China, please edit `skywalking\\apm-webapp\\pom.xml`     \n          \n          \n            \n            #### 1. Use mirror. Such as in China, please edit `skywalking\\apm-webapp\\pom.xml`", "url": "https://github.com/apache/skywalking/pull/4473#discussion_r389589601", "createdAt": "2020-03-09T10:58:38Z", "author": {"login": "wu-sheng"}, "path": "docs/en/FAQ/maven-compile-npm-failure.md", "diffHunk": "@@ -0,0 +1,62 @@\n+### Problem\uff1a Maven compilation failure with error like `Error: not found: python2`\n+When you compile the project via maven, it failed at module `apm-webapp` and the following error occured.\n+\n+Pay attention to key words such as `node-sass` and `Error: not found: python2`.\n+\n+```\n+[INFO] > node-sass@4.11.0 postinstall C:\\XXX\\skywalking\\skywalking-ui\\node_modules\\node-sass\n+[INFO] > node scripts/build.js\n+\n+[ERROR] gyp verb check python checking for Python executable \"python2\" in the PATH\n+[ERROR] gyp verb `which` failed Error: not found: python2\n+[ERROR] gyp verb `which` failed     at getNotFoundError (C:\\XXX\\skywalking\\skywalking-ui\\node_modules\\which\\which.js:13:12)\n+[ERROR] gyp verb `which` failed     at F (C:\\XXX\\skywalking\\skywalking-ui\\node_modules\\which\\which.js:68:19)\n+[ERROR] gyp verb `which` failed     at E (C:\\XXX\\skywalking\\skywalking-ui\\node_modules\\which\\which.js:80:29)\n+[ERROR] gyp verb `which` failed     at C:\\XXX\\skywalking\\skywalking-ui\\node_modules\\which\\which.js:89:16\n+[ERROR] gyp verb `which` failed     at C:\\XXX\\skywalking\\skywalking-ui\\node_modules\\isexe\\index.js:42:5\n+[ERROR] gyp verb `which` failed     at C:\\XXX\\skywalking\\skywalking-ui\\node_modules\\isexe\\windows.js:36:5\n+[ERROR] gyp verb `which` failed     at FSReqWrap.oncomplete (fs.js:152:21)\n+\n+[ERROR] gyp verb `which` failed   code: 'ENOENT' }\n+[ERROR] gyp verb check python checking for Python executable \"python\" in the PATH\n+[ERROR] gyp verb `which` succeeded python C:\\Users\\XXX\\AppData\\Local\\Programs\\Python\\Python37\\python.EXE\n+[ERROR] gyp ERR! configure error \n+[ERROR] gyp ERR! stack Error: Command failed: C:\\Users\\XXX\\AppData\\Local\\Programs\\Python\\Python37\\python.EXE -c import sys; print \"%s.%s.%s\" % sys.version_info[:3];\n+[ERROR] gyp ERR! stack   File \"<string>\", line 1\n+[ERROR] gyp ERR! stack     import sys; print \"%s.%s.%s\" % sys.version_info[:3];\n+[ERROR] gyp ERR! stack                                ^\n+[ERROR] gyp ERR! stack SyntaxError: invalid syntax\n+[ERROR] gyp ERR! stack \n+[ERROR] gyp ERR! stack     at ChildProcess.exithandler (child_process.js:275:12)\n+[ERROR] gyp ERR! stack     at emitTwo (events.js:126:13)\n+[ERROR] gyp ERR! stack     at ChildProcess.emit (events.js:214:7)\n+[ERROR] gyp ERR! stack     at maybeClose (internal/child_process.js:925:16)\n+[ERROR] gyp ERR! stack     at Process.ChildProcess._handle.onexit (internal/child_process.js:209:5)\n+[ERROR] gyp ERR! System Windows_NT 10.0.17134\n+......\n+[INFO] server-starter-es7 ................................. SUCCESS [ 11.657 s]\n+[INFO] apm-webapp ......................................... FAILURE [ 25.857 s]\n+[INFO] apache-skywalking-apm .............................. SKIPPED\n+[INFO] apache-skywalking-apm-es7 .......................... SKIPPED\n+```\n+\n+### Reason\n+\n+It has nothing to do with skywalking.   \n+According to https://github.com/sass/node-sass/issues/1176, if you live in countries where requesting resources from `github` and `npmjs.org` is very slowly, some precompiled binaries for dependency `node-sass` will fail to be downloaded during `npm install`, then npm will try to compile them itself. That's why `python2` is needed.\n+\n+### Resolve\n+#### 1. If you live in China, please edit `skywalking\\apm-webapp\\pom.xml`     ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c8cb7577dbb788fc34482d9b96db35fc562c768f"}, "originalPosition": 49}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTU4OTgxNw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            #### 2. Get an enough powerful VPN\n          \n          \n            \n            #### 2. Use a better network.", "url": "https://github.com/apache/skywalking/pull/4473#discussion_r389589817", "createdAt": "2020-03-09T10:59:08Z", "author": {"login": "wu-sheng"}, "path": "docs/en/FAQ/maven-compile-npm-failure.md", "diffHunk": "@@ -0,0 +1,62 @@\n+### Problem\uff1a Maven compilation failure with error like `Error: not found: python2`\n+When you compile the project via maven, it failed at module `apm-webapp` and the following error occured.\n+\n+Pay attention to key words such as `node-sass` and `Error: not found: python2`.\n+\n+```\n+[INFO] > node-sass@4.11.0 postinstall C:\\XXX\\skywalking\\skywalking-ui\\node_modules\\node-sass\n+[INFO] > node scripts/build.js\n+\n+[ERROR] gyp verb check python checking for Python executable \"python2\" in the PATH\n+[ERROR] gyp verb `which` failed Error: not found: python2\n+[ERROR] gyp verb `which` failed     at getNotFoundError (C:\\XXX\\skywalking\\skywalking-ui\\node_modules\\which\\which.js:13:12)\n+[ERROR] gyp verb `which` failed     at F (C:\\XXX\\skywalking\\skywalking-ui\\node_modules\\which\\which.js:68:19)\n+[ERROR] gyp verb `which` failed     at E (C:\\XXX\\skywalking\\skywalking-ui\\node_modules\\which\\which.js:80:29)\n+[ERROR] gyp verb `which` failed     at C:\\XXX\\skywalking\\skywalking-ui\\node_modules\\which\\which.js:89:16\n+[ERROR] gyp verb `which` failed     at C:\\XXX\\skywalking\\skywalking-ui\\node_modules\\isexe\\index.js:42:5\n+[ERROR] gyp verb `which` failed     at C:\\XXX\\skywalking\\skywalking-ui\\node_modules\\isexe\\windows.js:36:5\n+[ERROR] gyp verb `which` failed     at FSReqWrap.oncomplete (fs.js:152:21)\n+\n+[ERROR] gyp verb `which` failed   code: 'ENOENT' }\n+[ERROR] gyp verb check python checking for Python executable \"python\" in the PATH\n+[ERROR] gyp verb `which` succeeded python C:\\Users\\XXX\\AppData\\Local\\Programs\\Python\\Python37\\python.EXE\n+[ERROR] gyp ERR! configure error \n+[ERROR] gyp ERR! stack Error: Command failed: C:\\Users\\XXX\\AppData\\Local\\Programs\\Python\\Python37\\python.EXE -c import sys; print \"%s.%s.%s\" % sys.version_info[:3];\n+[ERROR] gyp ERR! stack   File \"<string>\", line 1\n+[ERROR] gyp ERR! stack     import sys; print \"%s.%s.%s\" % sys.version_info[:3];\n+[ERROR] gyp ERR! stack                                ^\n+[ERROR] gyp ERR! stack SyntaxError: invalid syntax\n+[ERROR] gyp ERR! stack \n+[ERROR] gyp ERR! stack     at ChildProcess.exithandler (child_process.js:275:12)\n+[ERROR] gyp ERR! stack     at emitTwo (events.js:126:13)\n+[ERROR] gyp ERR! stack     at ChildProcess.emit (events.js:214:7)\n+[ERROR] gyp ERR! stack     at maybeClose (internal/child_process.js:925:16)\n+[ERROR] gyp ERR! stack     at Process.ChildProcess._handle.onexit (internal/child_process.js:209:5)\n+[ERROR] gyp ERR! System Windows_NT 10.0.17134\n+......\n+[INFO] server-starter-es7 ................................. SUCCESS [ 11.657 s]\n+[INFO] apm-webapp ......................................... FAILURE [ 25.857 s]\n+[INFO] apache-skywalking-apm .............................. SKIPPED\n+[INFO] apache-skywalking-apm-es7 .......................... SKIPPED\n+```\n+\n+### Reason\n+\n+It has nothing to do with skywalking.   \n+According to https://github.com/sass/node-sass/issues/1176, if you live in countries where requesting resources from `github` and `npmjs.org` is very slowly, some precompiled binaries for dependency `node-sass` will fail to be downloaded during `npm install`, then npm will try to compile them itself. That's why `python2` is needed.\n+\n+### Resolve\n+#### 1. If you live in China, please edit `skywalking\\apm-webapp\\pom.xml`     \n+Find\n+```\n+<configuration>  \n+ <arguments>install --registry=https://registry.npmjs.org/</arguments>  \n+</configuration>\n+```\n+Replace it with\n+```\n+<configuration>  \n+ <arguments>install --registry=https://registry.npm.taobao.org/ --sass_binary_site=https://npm.taobao.org/mirrors/node-sass/</arguments>  \n+</configuration>\n+```\n+#### 2. Get an enough powerful VPN", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c8cb7577dbb788fc34482d9b96db35fc562c768f"}, "originalPosition": 62}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "13ba0a257b1ab0e4dd87cf4f5d290db59a3c5c03", "author": {"user": {"login": "tankilo", "name": "Gao Peng"}}, "url": "https://github.com/apache/skywalking/commit/13ba0a257b1ab0e4dd87cf4f5d290db59a3c5c03", "committedDate": "2020-03-09T11:03:01Z", "message": "Update docs/en/FAQ/README.md\n\nCo-Authored-By: \u5434\u665f Wu Sheng <wu.sheng@foxmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcxMDc1MDcx", "url": "https://github.com/apache/skywalking/pull/4473#pullrequestreview-371075071", "createdAt": "2020-03-09T11:03:38Z", "commit": {"oid": "13ba0a257b1ab0e4dd87cf4f5d290db59a3c5c03"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a6dd2a5d6b6884f1c832a489aae6a4dd91878658", "author": {"user": {"login": "wu-sheng", "name": "\u5434\u665f Wu Sheng"}}, "url": "https://github.com/apache/skywalking/commit/a6dd2a5d6b6884f1c832a489aae6a4dd91878658", "committedDate": "2020-03-09T11:04:17Z", "message": "Update docs/en/FAQ/maven-compile-npm-failure.md"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcxMDkzNjky", "url": "https://github.com/apache/skywalking/pull/4473#pullrequestreview-371093692", "createdAt": "2020-03-09T11:38:30Z", "commit": {"oid": "a6dd2a5d6b6884f1c832a489aae6a4dd91878658"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2429, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}