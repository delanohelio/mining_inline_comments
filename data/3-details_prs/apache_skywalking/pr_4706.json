{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA4NTA5NTYz", "number": 4706, "title": "Modification Plugin-test.md", "bodyText": "#4624 (comment)", "createdAt": "2020-04-24T12:01:59Z", "url": "https://github.com/apache/skywalking/pull/4706", "merged": true, "mergeCommit": {"oid": "0babc1a6ffe8146bbc0ce84ac5ddfe0e05c05c30"}, "closed": true, "closedAt": "2020-04-25T06:51:10Z", "author": {"login": "arugal"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcawPLUAH2gAyNDA4NTA5NTYzOjhkYmZkNjc4ZjFmZGM3ZGVmMWE5MWZhYTgyODJhMjg1MTBhYzU5Nzc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcbAW5lgFqTQwMDM2NjE3Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "8dbfd678f1fdc7def1a91faa8282a28510ac5977", "author": {"user": {"login": "arugal", "name": "zhang-wei"}}, "url": "https://github.com/apache/skywalking/commit/8dbfd678f1fdc7def1a91faa8282a28510ac5977", "committedDate": "2020-04-24T12:00:08Z", "message": "modification doc"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk5ODg5OTM1", "url": "https://github.com/apache/skywalking/pull/4706#pullrequestreview-399889935", "createdAt": "2020-04-24T12:12:03Z", "commit": {"oid": "8dbfd678f1fdc7def1a91faa8282a28510ac5977"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQxMjoxMjowNFrOGLUwBw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQxMjoxMjowNFrOGLUwBw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDUyNzQ5NQ==", "bodyText": "What do you mean verb? HTTP Method?", "url": "https://github.com/apache/skywalking/pull/4706#discussion_r414527495", "createdAt": "2020-04-24T12:12:04Z", "author": {"login": "wu-sheng"}, "path": "docs/en/guides/Plugin-test.md", "diffHunk": "@@ -101,8 +101,8 @@ File Name | Descriptions\n | Field | description\n | --- | ---\n | type | Image type, options, `jvm` or `tomcat`. Required.\n-| entryService | The entrance endpoint(URL) for test case access. Required.\n-| healthCheck | The health check endpoint(URL) for test case access. Required.\n+| entryService | The entrance endpoint(URL) for test case access. Required. (Verb: GET)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8dbfd678f1fdc7def1a91faa8282a28510ac5977"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk5ODkxNTgx", "url": "https://github.com/apache/skywalking/pull/4706#pullrequestreview-399891581", "createdAt": "2020-04-24T12:14:32Z", "commit": {"oid": "8dbfd678f1fdc7def1a91faa8282a28510ac5977"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "68beb692110e2ff61d29279fd24a3851de27aea8", "author": {"user": {"login": "arugal", "name": "zhang-wei"}}, "url": "https://github.com/apache/skywalking/commit/68beb692110e2ff61d29279fd24a3851de27aea8", "committedDate": "2020-04-24T14:08:37Z", "message": "modification doc"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5837dff9b90166bfaa5dcb64e5da20a35047d24e", "author": {"user": {"login": "wu-sheng", "name": "\u5434\u665f Wu Sheng"}}, "url": "https://github.com/apache/skywalking/commit/5837dff9b90166bfaa5dcb64e5da20a35047d24e", "committedDate": "2020-04-24T15:34:21Z", "message": "Merge branch 'master' into fix-doc"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7dd88643cd02460be4236694c7fb026c0dc99cf5", "author": {"user": {"login": "wu-sheng", "name": "\u5434\u665f Wu Sheng"}}, "url": "https://github.com/apache/skywalking/commit/7dd88643cd02460be4236694c7fb026c0dc99cf5", "committedDate": "2020-04-25T01:32:05Z", "message": "Merge branch 'master' into fix-doc"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAwMzU3OTQ0", "url": "https://github.com/apache/skywalking/pull/4706#pullrequestreview-400357944", "createdAt": "2020-04-25T04:57:01Z", "commit": {"oid": "7dd88643cd02460be4236694c7fb026c0dc99cf5"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNVQwNDo1NzowMVrOGLwYHQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNVQwNDo1NzowMVrOGLwYHQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDk4MDEyNQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            | refType | Ref type, options, CrossProcess or CrossThread .\n          \n          \n            \n            | refType | Ref type, options, CrossProcess or CrossThread.", "url": "https://github.com/apache/skywalking/pull/4706#discussion_r414980125", "createdAt": "2020-04-25T04:57:01Z", "author": {"login": "BFergerson"}, "path": "docs/en/guides/Plugin-test.md", "diffHunk": "@@ -275,51 +251,47 @@ segments:\n     - {key: LOG_KEY(string), value: LOG_VALUE(string)}\n     ...\n     peer: PEER(string)\n-    peerId: PEER_ID(int)\n     refs:\n     - {\n-       parentSpanId: PARENT_SPAN_ID(int),\n+       traceId: TRACE_ID(string),\n        parentTraceSegmentId: PARENT_TRACE_SEGMENT_ID(string),\n-       entryServiceInstanceId: ENTRY_SERVICE_INSTANCE_ID(int)\n-       parentServiceInstanceId: PARENT_SERVICE_INSTANCE_ID(int),\n-       networkAddress: NETWORK_ADDRESS(string),\n-       networkAddressId: NETWORK_ADDRESS_ID(int),\n+       parentSpanId: PARENT_SPAN_ID(int),\n+       parentService: PARENT_SERVICE(string),\n+       parentServiceInstance: PARENT_SERVICE_INSTANCE(string),\n        parentEndpoint: PARENT_ENDPOINT_NAME(string),\n-       parentEndpointId: PARENT_ENDPOINT_ID(int),\n-       entryEndpoint: ENTRY_ENDPOINT_NAME(string),\n-       entryServiceInstanceId: ENTRY_ENDPOINT_ID(int),\n+       networkAddress: NETWORK_ADDRESS(string),\n+       refType:  REF_TYPE(string: CrossProcess, CrossThread)\n      }\n    ...\n ```\n \n | Field | Description \n |--- |--- \n-| operationName | Span Operation Name \n-| operationId | Should be 0 for now \n+| operationName | Span Operation Name.\n | parentSpanId | Parent span id. **Notice**: The parent span id of the first span should be -1. \n | spanId | Span Id. **Notice**, start from 0. \n | startTime | Span start time. It is impossible to get the accurate time, not 0 should be enough.\n | endTime | Span finish time. It is impossible to get the accurate time, not 0 should be enough.\n | isError | Span status, true or false. \n-| componentName | Component name, should be null in most cases, use component id instead.\n | componentId | Component id for your plugin. \n | tags | Span tag list. **Notice**, Keep in the same order as the plugin coded.\n | logs | Span log list. **Notice**, Keep in the same order as the plugin coded.\n-| SpanLayer | Options, DB, RPC_FRAMEWORK, HTTP, MQ, CACHE \n-| SpanType | Span type, options, Exit, Entry or Local \n+| SpanLayer | Options, DB, RPC_FRAMEWORK, HTTP, MQ, CACHE.\n+| SpanType | Span type, options, Exit, Entry or Local.\n | peer | Remote network address, IP + port mostly. For exit span, this should be required. \n-| peerId | Not 0 for now.\n \n-\n-The verify description for SegmentRef,\n+The verify description for SegmentRef\n \n | Field | Description \n |---- |---- \n+| traceId | \n+| parentTraceSegmentId | Parent SegmentId, pointing to the segment id in the parent segment.\n | parentSpanId | Parent SpanID, pointing to the span id in the parent segment.\n-| entryServiceInstanceId/parentServiceInstanceId | Not 0 should be enough\n-| networkAddress/networkAddressId | The peer value of parent exit span. `networkAddressId` should be 0, as the mock tool doesn't do register for real.\n-| parentEndpoint/parentEndpointId | The endpoint of parent/downstream service. Usually set `parentEndpoint` as literal string name, unless there is no parent endpoint, set `parentEndpointId` as -1.\n-| entryEndpoint/entryServiceInstanceId | The endpoint of first service in the distributed chain. Usually set `entryEndpoint` as literal string name, unless there is no endpoint at the entry service, set `entryServiceInstanceId` as -1.\n+| parentService | The service of parent/downstream service name.\n+| parentServiceInstance | The instance of parent/downstream service instance name.\n+| parentEndpoint |  The endpoint of parent/downstream service.\n+| networkAddress | The peer value of parent exit span.\n+| refType | Ref type, options, CrossProcess or CrossThread .", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7dd88643cd02460be4236694c7fb026c0dc99cf5"}, "originalPosition": 156}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "419554b2532ab598394ebee0b2ab92cde7ee0e3d", "author": {"user": {"login": "BFergerson", "name": "Brandon Fergerson"}}, "url": "https://github.com/apache/skywalking/commit/419554b2532ab598394ebee0b2ab92cde7ee0e3d", "committedDate": "2020-04-25T04:57:10Z", "message": "Update docs/en/guides/Plugin-test.md"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAwMzU4MDIx", "url": "https://github.com/apache/skywalking/pull/4706#pullrequestreview-400358021", "createdAt": "2020-04-25T04:58:24Z", "commit": {"oid": "419554b2532ab598394ebee0b2ab92cde7ee0e3d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNVQwNDo1ODoyNFrOGLwY1Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNVQwNDo1ODoyNFrOGLwY1Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDk4MDMwOQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Expected data file, `expectedData.yaml`, include `SegmentIntems`.\n          \n          \n            \n            Expected data file, `expectedData.yaml`, include `SegmentItems`.", "url": "https://github.com/apache/skywalking/pull/4706#discussion_r414980309", "createdAt": "2020-04-25T04:58:24Z", "author": {"login": "BFergerson"}, "path": "docs/en/guides/Plugin-test.md", "diffHunk": "@@ -407,7 +379,7 @@ and don't include the segments of heartbeat service in the expected segment data\n \n ### The example Process of Writing Expected Data\n \n-Expected data file, `expectedData.yaml`, includes `RegistryItems` and `SegmentIntems`.\n+Expected data file, `expectedData.yaml`, include `SegmentIntems`.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "419554b2532ab598394ebee0b2ab92cde7ee0e3d"}, "originalPosition": 165}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5b2b5980cdc8d0b2b0c7724a7482b5b1fab0cd0e", "author": {"user": {"login": "BFergerson", "name": "Brandon Fergerson"}}, "url": "https://github.com/apache/skywalking/commit/5b2b5980cdc8d0b2b0c7724a7482b5b1fab0cd0e", "committedDate": "2020-04-25T04:58:29Z", "message": "Update docs/en/guides/Plugin-test.md"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAwMzY2MTc3", "url": "https://github.com/apache/skywalking/pull/4706#pullrequestreview-400366177", "createdAt": "2020-04-25T06:47:03Z", "commit": {"oid": "5b2b5980cdc8d0b2b0c7724a7482b5b1fab0cd0e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2345, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}