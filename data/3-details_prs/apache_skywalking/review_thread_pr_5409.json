{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc1NzIyMDQw", "number": 5409, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOVQwNToxMTowOFrOEd8MmA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOVQwNToxMzoyOFrOEd8NEg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk5ODMwNDI0OnYy", "diffSide": "RIGHT", "path": "docs/en/setup/backend/configuration-vocabulary.md", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOVQwNToxMTowOFrOHJZBMg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOVQwNToxMjoxN1rOHJZBew==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTYwOTEzOA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            | - | - |forceSampleErrorSegment|When sampling mechanism active, this config can open(true) force save some error segment. true is default.|SW_FORCE_SAMPLE_ERROR_SEGMENT|true|\n          \n          \n            \n            | - | - |forceSampleErrorSegment|When sampling mechanism activated, this config would  make the error status segment sampled, ignoring the sampling rate.|SW_FORCE_SAMPLE_ERROR_SEGMENT|true|", "url": "https://github.com/apache/skywalking/pull/5409#discussion_r479609138", "createdAt": "2020-08-29T05:11:08Z", "author": {"login": "wu-sheng"}, "path": "docs/en/setup/backend/configuration-vocabulary.md", "diffHunk": "@@ -133,6 +133,7 @@ core|default|role|Option values, `Mixed/Receiver/Aggregator`. **Receiver** mode\n | agent-analyzer | default | Agent Analyzer. | SW_AGENT_ANALYZER | default |\n | - | -| sampleRate|Sampling rate for receiving trace. The precision is 1/10000. 10000 means 100% sample in default.|SW_TRACE_SAMPLE_RATE|10000|\n | - | - |slowDBAccessThreshold|The slow database access thresholds. Unit ms.|SW_SLOW_DB_THRESHOLD|default:200,mongodb:100|\n+| - | - |forceSampleErrorSegment|When sampling mechanism active, this config can open(true) force save some error segment. true is default.|SW_FORCE_SAMPLE_ERROR_SEGMENT|true|", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a5fb7b31cf5e7d673967e4d5d80488151fd75921"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTYwOTIxMQ==", "bodyText": "And change the sampling doc when same way. The previous version has some grammar issue.", "url": "https://github.com/apache/skywalking/pull/5409#discussion_r479609211", "createdAt": "2020-08-29T05:12:17Z", "author": {"login": "wu-sheng"}, "path": "docs/en/setup/backend/configuration-vocabulary.md", "diffHunk": "@@ -133,6 +133,7 @@ core|default|role|Option values, `Mixed/Receiver/Aggregator`. **Receiver** mode\n | agent-analyzer | default | Agent Analyzer. | SW_AGENT_ANALYZER | default |\n | - | -| sampleRate|Sampling rate for receiving trace. The precision is 1/10000. 10000 means 100% sample in default.|SW_TRACE_SAMPLE_RATE|10000|\n | - | - |slowDBAccessThreshold|The slow database access thresholds. Unit ms.|SW_SLOW_DB_THRESHOLD|default:200,mongodb:100|\n+| - | - |forceSampleErrorSegment|When sampling mechanism active, this config can open(true) force save some error segment. true is default.|SW_FORCE_SAMPLE_ERROR_SEGMENT|true|", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTYwOTEzOA=="}, "originalCommit": {"oid": "a5fb7b31cf5e7d673967e4d5d80488151fd75921"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk5ODMwNTMzOnYy", "diffSide": "RIGHT", "path": "docs/en/setup/backend/trace-sampling.md", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOVQwNToxMzoxOFrOHJZBrQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOVQwNToxMzoxOFrOHJZBrQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTYwOTI2MQ==", "bodyText": "Why is this added in the sampling doc?", "url": "https://github.com/apache/skywalking/pull/5409#discussion_r479609261", "createdAt": "2020-08-29T05:13:18Z", "author": {"login": "wu-sheng"}, "path": "docs/en/setup/backend/trace-sampling.md", "diffHunk": "@@ -15,10 +15,18 @@ agent-analyzer:\n   default:\n     ...\n     sampleRate: ${SW_TRACE_SAMPLE_RATE:1000} # The sample rate precision is 1/10000. 10000 means 100% sample in default.\n+    slowDBAccessThreshold: ${SW_SLOW_DB_THRESHOLD:default:200,mongodb:100} # The slow database access thresholds. Unit ms.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a5fb7b31cf5e7d673967e4d5d80488151fd75921"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk5ODMwNTQ2OnYy", "diffSide": "RIGHT", "path": "docs/en/setup/backend/trace-sampling.md", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOVQwNToxMzoyOFrOHJZBuw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOVQwNjowNDo1MlrOHJZRog==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTYwOTI3NQ==", "bodyText": "Same question here.", "url": "https://github.com/apache/skywalking/pull/5409#discussion_r479609275", "createdAt": "2020-08-29T05:13:28Z", "author": {"login": "wu-sheng"}, "path": "docs/en/setup/backend/trace-sampling.md", "diffHunk": "@@ -15,10 +15,18 @@ agent-analyzer:\n   default:\n     ...\n     sampleRate: ${SW_TRACE_SAMPLE_RATE:1000} # The sample rate precision is 1/10000. 10000 means 100% sample in default.\n+    slowDBAccessThreshold: ${SW_SLOW_DB_THRESHOLD:default:200,mongodb:100} # The slow database access thresholds. Unit ms.\n+    forceSampleErrorSegment: ${SW_FORCE_SAMPLE_ERROR_SEGMENT:true} # When sampling mechanism active, this config can open(true) force save some error segment. true is default.\n ```\n \n-`sampleRate` is for you to set sample rate to this backend. \n-The sample rate precision is 1/10000. 10000 means 100% sample in default. \n+`sampleRate` is for you to set sample rate to this backend.\n+The sample rate precision is 1/10000. 10000 means 100% sample in default.\n+\n+`slowDBAccessThreshold` is for you to set slow database access thresholds.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a5fb7b31cf5e7d673967e4d5d80488151fd75921"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTYwOTM4Mw==", "bodyText": "We don't sample the segment if the statement is slow, right?", "url": "https://github.com/apache/skywalking/pull/5409#discussion_r479609383", "createdAt": "2020-08-29T05:14:57Z", "author": {"login": "wu-sheng"}, "path": "docs/en/setup/backend/trace-sampling.md", "diffHunk": "@@ -15,10 +15,18 @@ agent-analyzer:\n   default:\n     ...\n     sampleRate: ${SW_TRACE_SAMPLE_RATE:1000} # The sample rate precision is 1/10000. 10000 means 100% sample in default.\n+    slowDBAccessThreshold: ${SW_SLOW_DB_THRESHOLD:default:200,mongodb:100} # The slow database access thresholds. Unit ms.\n+    forceSampleErrorSegment: ${SW_FORCE_SAMPLE_ERROR_SEGMENT:true} # When sampling mechanism active, this config can open(true) force save some error segment. true is default.\n ```\n \n-`sampleRate` is for you to set sample rate to this backend. \n-The sample rate precision is 1/10000. 10000 means 100% sample in default. \n+`sampleRate` is for you to set sample rate to this backend.\n+The sample rate precision is 1/10000. 10000 means 100% sample in default.\n+\n+`slowDBAccessThreshold` is for you to set slow database access thresholds.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTYwOTI3NQ=="}, "originalCommit": {"oid": "a5fb7b31cf5e7d673967e4d5d80488151fd75921"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTYxMzM0Ng==", "bodyText": "@wu-sheng yes, We don't sampled segment if the statement is slow.", "url": "https://github.com/apache/skywalking/pull/5409#discussion_r479613346", "createdAt": "2020-08-29T06:04:52Z", "author": {"login": "zifeihan"}, "path": "docs/en/setup/backend/trace-sampling.md", "diffHunk": "@@ -15,10 +15,18 @@ agent-analyzer:\n   default:\n     ...\n     sampleRate: ${SW_TRACE_SAMPLE_RATE:1000} # The sample rate precision is 1/10000. 10000 means 100% sample in default.\n+    slowDBAccessThreshold: ${SW_SLOW_DB_THRESHOLD:default:200,mongodb:100} # The slow database access thresholds. Unit ms.\n+    forceSampleErrorSegment: ${SW_FORCE_SAMPLE_ERROR_SEGMENT:true} # When sampling mechanism active, this config can open(true) force save some error segment. true is default.\n ```\n \n-`sampleRate` is for you to set sample rate to this backend. \n-The sample rate precision is 1/10000. 10000 means 100% sample in default. \n+`sampleRate` is for you to set sample rate to this backend.\n+The sample rate precision is 1/10000. 10000 means 100% sample in default.\n+\n+`slowDBAccessThreshold` is for you to set slow database access thresholds.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTYwOTI3NQ=="}, "originalCommit": {"oid": "a5fb7b31cf5e7d673967e4d5d80488151fd75921"}, "originalPosition": 13}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4991, "cost": 1, "resetAt": "2021-11-12T09:44:50Z"}}}