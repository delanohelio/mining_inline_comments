{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQxODI0MjY5", "number": 6026, "title": "update submodule to sync namespaced proto files", "bodyText": "If this pull request closes/resolves/fixes an existing issue, replace the issue number. Closes #. NO\n Update the CHANGES log.", "createdAt": "2020-12-17T12:14:37Z", "url": "https://github.com/apache/skywalking/pull/6026", "merged": true, "mergeCommit": {"oid": "6feeaf6e5f95d75b09a1533aa34123ca7ea1f309"}, "closed": true, "closedAt": "2020-12-18T04:29:45Z", "author": {"login": "kezhenxu94"}, "timelineItems": {"totalCount": 14, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdnC-R1gFqTU1NDU3MTM3Nw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdnOp6eAFqTU1NTEzMDMxMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU0NTcxMzc3", "url": "https://github.com/apache/skywalking/pull/6026#pullrequestreview-554571377", "createdAt": "2020-12-17T12:48:07Z", "commit": null, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xN1QxMjo0ODowN1rOIH0EXw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xN1QxMjo0ODowN1rOIH0EXw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTA2NDAzMQ==", "bodyText": "I think you forgot to remove this and others in the control files?", "url": "https://github.com/apache/skywalking/pull/6026#discussion_r545064031", "createdAt": "2020-12-17T12:48:07Z", "author": {"login": "wu-sheng"}, "path": ".github/workflows/ci-it.yaml", "diffHunk": "@@ -21,6 +21,7 @@ on:\n   push:\n     branches:\n       - master\n+      - submodule/data-collect-protocol", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7bbda9685d46c6501631a47f36f1305564ffbeed", "author": {"user": {"login": "kezhenxu94", "name": "kezhenxu94"}}, "url": "https://github.com/apache/skywalking/commit/7bbda9685d46c6501631a47f36f1305564ffbeed", "committedDate": "2020-12-17T15:25:47Z", "message": "update submodule to sync namespaced proto files"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "41084072a24086773c1ba20c19359de0415ffbf7", "author": {"user": {"login": "kezhenxu94", "name": "kezhenxu94"}}, "url": "https://github.com/apache/skywalking/commit/41084072a24086773c1ba20c19359de0415ffbf7", "committedDate": "2020-12-17T15:25:47Z", "message": "add compat E2E test and update mock collector"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "42ca4e880f2097bc9e175cc6ee651975ffb457db", "author": {"user": {"login": "kezhenxu94", "name": "kezhenxu94"}}, "url": "https://github.com/apache/skywalking/commit/42ca4e880f2097bc9e175cc6ee651975ffb457db", "committedDate": "2020-12-17T15:25:47Z", "message": "add changelog, fix GHA syntax, compat Java agent"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": {"oid": "42ca4e880f2097bc9e175cc6ee651975ffb457db", "author": {"user": {"login": "kezhenxu94", "name": "kezhenxu94"}}, "url": "https://github.com/apache/skywalking/commit/42ca4e880f2097bc9e175cc6ee651975ffb457db", "committedDate": "2020-12-17T15:25:47Z", "message": "add changelog, fix GHA syntax, compat Java agent"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU0NzM0MjE0", "url": "https://github.com/apache/skywalking/pull/6026#pullrequestreview-554734214", "createdAt": "2020-12-17T15:48:31Z", "commit": {"oid": "42ca4e880f2097bc9e175cc6ee651975ffb457db"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xN1QxNTo0ODozMVrOIH8BPA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xN1QxNTo0ODozMVrOIH8BPA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTE5NDMwMA==", "bodyText": "Please highlight the agent would not work for previous releases.", "url": "https://github.com/apache/skywalking/pull/6026#discussion_r545194300", "createdAt": "2020-12-17T15:48:31Z", "author": {"login": "wu-sheng"}, "path": "CHANGES.md", "diffHunk": "@@ -7,6 +7,7 @@ Release Notes.\n #### Project\n * Incompatible with previous releases when use H2/MySQL/TiDB storage options, due to support multiple alarm rules triggered for one entity.\n * Chore: adapt `create_source_release.sh` to make it runnable on Linux.\n+* Add `package` to `.proto` files, prevent polluting top-level namespace in some languages.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "42ca4e880f2097bc9e175cc6ee651975ffb457db"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU0NzM2MDQ5", "url": "https://github.com/apache/skywalking/pull/6026#pullrequestreview-554736049", "createdAt": "2020-12-17T15:50:24Z", "commit": {"oid": "42ca4e880f2097bc9e175cc6ee651975ffb457db"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xN1QxNTo1MDoyNVrOIH8HYQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xN1QxNTo1MDoyNVrOIH8HYQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTE5NTg3Mw==", "bodyText": "Use archive repo, rather than release repo. We will forget the update.", "url": "https://github.com/apache/skywalking/pull/6026#discussion_r545195873", "createdAt": "2020-12-17T15:50:25Z", "author": {"login": "wu-sheng"}, "path": "test/e2e/e2e-test/docker/simple/compat/docker-compose.yml", "diffHunk": "@@ -0,0 +1,61 @@\n+# Licensed to the Apache Software Foundation (ASF) under one or more\n+# contributor license agreements.  See the NOTICE file distributed with\n+# this work for additional information regarding copyright ownership.\n+# The ASF licenses this file to You under the Apache License, Version 2.0\n+# (the \"License\"); you may not use this file except in compliance with\n+# the License.  You may obtain a copy of the License at\n+#\n+#     http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing, software\n+# distributed under the License is distributed on an \"AS IS\" BASIS,\n+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+# See the License for the specific language governing permissions and\n+# limitations under the License.\n+\n+version: '2.1'\n+\n+services:\n+  oap:\n+    environment:\n+      SW_PROMETHEUS_FETCHER: \"default\"\n+      SW_TELEMETRY: prometheus\n+    extends:\n+      file: ../../base-compose.yml\n+      service: oap\n+\n+  ui:\n+    extends:\n+      file: ../../base-compose.yml\n+      service: ui\n+    depends_on:\n+      oap:\n+        condition: service_healthy\n+\n+  provider:\n+    build:\n+      context: ../../../..\n+      dockerfile: e2e-test/docker/Dockerfile.provider\n+      args:\n+        - SW_AGENT_JDK_VERSION=${SW_AGENT_JDK_VERSION:-11}\n+        - DIST_PACKAGE=https://dist.apache.org/repos/dist/release/skywalking/8.3.0/apache-skywalking-apm-8.3.0.tar.gz", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "42ca4e880f2097bc9e175cc6ee651975ffb457db"}, "originalPosition": 41}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ef9e2c0aa6cef5df24ed6a3f8b3529ed6366ec33", "author": {"user": {"login": "kezhenxu94", "name": "kezhenxu94"}}, "url": "https://github.com/apache/skywalking/commit/ef9e2c0aa6cef5df24ed6a3f8b3529ed6366ec33", "committedDate": "2020-12-17T23:28:03Z", "message": "highlight notes, use archive dist, revert compat in agent"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU1MDg0MDIy", "url": "https://github.com/apache/skywalking/pull/6026#pullrequestreview-555084022", "createdAt": "2020-12-18T00:05:45Z", "commit": {"oid": "ef9e2c0aa6cef5df24ed6a3f8b3529ed6366ec33"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xOFQwMDowNTo0NVrOIIN2ig==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xOFQwMDowNTo0NVrOIIN2ig==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTQ4NjQ3NA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            * Add `package` to `.proto` files, prevent polluting top-level namespace in some languages; previous OAP backend (<=8.3.0) won't recognize newer agents since this version (>= 8.4.0).\n          \n          \n            \n            * Add `package` to `.proto` files, prevent polluting top-level namespace in some languages; The OAP server still supports previous agents, whereas the previous OAP server (<=8.3.0) won't recognize newer agents since this version (>= 8.4.0).", "url": "https://github.com/apache/skywalking/pull/6026#discussion_r545486474", "createdAt": "2020-12-18T00:05:45Z", "author": {"login": "wu-sheng"}, "path": "CHANGES.md", "diffHunk": "@@ -7,6 +7,7 @@ Release Notes.\n #### Project\n * Incompatible with previous releases when use H2/MySQL/TiDB storage options, due to support multiple alarm rules triggered for one entity.\n * Chore: adapt `create_source_release.sh` to make it runnable on Linux.\n+* Add `package` to `.proto` files, prevent polluting top-level namespace in some languages; previous OAP backend (<=8.3.0) won't recognize newer agents since this version (>= 8.4.0).", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ef9e2c0aa6cef5df24ed6a3f8b3529ed6366ec33"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5b40a83d3fd4c71d8c95a257c62598ed1e0a082d", "author": {"user": {"login": "kezhenxu94", "name": "kezhenxu94"}}, "url": "https://github.com/apache/skywalking/commit/5b40a83d3fd4c71d8c95a257c62598ed1e0a082d", "committedDate": "2020-12-18T00:37:58Z", "message": "polish changelog, add missing `-javaagent` in provider"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "21f257e6881dcdbd3b57d79569087769583701b0", "author": {"user": {"login": "kezhenxu94", "name": "kezhenxu94"}}, "url": "https://github.com/apache/skywalking/commit/21f257e6881dcdbd3b57d79569087769583701b0", "committedDate": "2020-12-18T01:02:58Z", "message": "fix wrong position of JAVA_OPTS"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU1MTE2OTcy", "url": "https://github.com/apache/skywalking/pull/6026#pullrequestreview-555116972", "createdAt": "2020-12-18T01:42:47Z", "commit": {"oid": "21f257e6881dcdbd3b57d79569087769583701b0"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xOFQwMTo0Mjo0N1rOIIPyug==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xOFQwMTo0Mjo0N1rOIIPyug==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTUxODI2Ng==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            * Add `package` to `.proto` files, prevent polluting top-level namespace in some languages; The OAP server still supports previous agents, whereas the previous OAP server (<=8.3.0) won't recognize newer agents since this version (>= 8.4.0).\n          \n          \n            \n            * Add `package` to `.proto` files, prevent polluting top-level namespace in some languages; The OAP server supports previous agent releases, whereas the previous OAP server (<=8.3.0) won't recognize newer agents since this version (>= 8.4.0).", "url": "https://github.com/apache/skywalking/pull/6026#discussion_r545518266", "createdAt": "2020-12-18T01:42:47Z", "author": {"login": "wu-sheng"}, "path": "CHANGES.md", "diffHunk": "@@ -7,6 +7,7 @@ Release Notes.\n #### Project\n * Incompatible with previous releases when use H2/MySQL/TiDB storage options, due to support multiple alarm rules triggered for one entity.\n * Chore: adapt `create_source_release.sh` to make it runnable on Linux.\n+* Add `package` to `.proto` files, prevent polluting top-level namespace in some languages; The OAP server still supports previous agents, whereas the previous OAP server (<=8.3.0) won't recognize newer agents since this version (>= 8.4.0).", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "21f257e6881dcdbd3b57d79569087769583701b0"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ef94de577606ae3e902f06a181ef03e2f54770ed", "author": {"user": {"login": "kezhenxu94", "name": "kezhenxu94"}}, "url": "https://github.com/apache/skywalking/commit/ef94de577606ae3e902f06a181ef03e2f54770ed", "committedDate": "2020-12-18T02:15:11Z", "message": "polish changelog"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU1MTMwMzEz", "url": "https://github.com/apache/skywalking/pull/6026#pullrequestreview-555130313", "createdAt": "2020-12-18T02:24:44Z", "commit": {"oid": "ef94de577606ae3e902f06a181ef03e2f54770ed"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1494, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}