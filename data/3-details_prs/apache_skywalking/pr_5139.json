{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDUzNjEwNTIz", "number": 5139, "title": "Add swctl to docker image for health check", "bodyText": "As indicated by the title.\nswctl is built as the first stage of the docker build.", "createdAt": "2020-07-20T16:20:57Z", "url": "https://github.com/apache/skywalking/pull/5139", "merged": true, "mergeCommit": {"oid": "24eeb5d83b59e316e6e13902af9d5f40ee1232ec"}, "closed": true, "closedAt": "2020-08-06T02:54:40Z", "author": {"login": "hanahmily"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc20DQogH2gAyNDUzNjEwNTIzOjhmYTdiNWY1M2VjMjlmYjgyYTFlNGFkYWViZWQyMjRmOTdjODE1MzA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc8FZi9AFqTQ2MjEyNDE3Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "8fa7b5f53ec29fb82a1e4adaebed224f97c81530", "author": {"user": {"login": "hanahmily", "name": "Gao Hongtao"}}, "url": "https://github.com/apache/skywalking/commit/8fa7b5f53ec29fb82a1e4adaebed224f97c81530", "committedDate": "2020-07-20T16:16:37Z", "message": "Add swctl to docker image for health check\n\nSigned-off-by: Gao Hongtao <hanahmily@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUyMDQ0NTg1", "url": "https://github.com/apache/skywalking/pull/5139#pullrequestreview-452044585", "createdAt": "2020-07-21T00:23:50Z", "commit": {"oid": "8fa7b5f53ec29fb82a1e4adaebed224f97c81530"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUyMDUzNDI3", "url": "https://github.com/apache/skywalking/pull/5139#pullrequestreview-452053427", "createdAt": "2020-07-21T00:52:36Z", "commit": {"oid": "8fa7b5f53ec29fb82a1e4adaebed224f97c81530"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c1872c3fd9fb48cde7d4a0e60718ced1b01dff15", "author": {"user": {"login": "kezhenxu94", "name": "kezhenxu94"}}, "url": "https://github.com/apache/skywalking/commit/c1872c3fd9fb48cde7d4a0e60718ced1b01dff15", "committedDate": "2020-07-27T15:45:42Z", "message": "Merge branch 'master' into docker-health-check"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "278feeb5811b20e0650832c12e7fa4bbc7174c56", "author": {"user": {"login": "hanahmily", "name": "Gao Hongtao"}}, "url": "https://github.com/apache/skywalking/commit/278feeb5811b20e0650832c12e7fa4bbc7174c56", "committedDate": "2020-07-29T15:15:17Z", "message": "Add swctl to docker image for health check\n\nSigned-off-by: Gao Hongtao <hanahmily@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "303c916338784d038335bed17cf9ea148e905825", "author": {"user": {"login": "hanahmily", "name": "Gao Hongtao"}}, "url": "https://github.com/apache/skywalking/commit/303c916338784d038335bed17cf9ea148e905825", "committedDate": "2020-08-05T23:11:42Z", "message": "Merge branch 'master' into docker-health-check"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6eaf81d744bc3bc53c3ee12e071dab58d6855671", "author": {"user": {"login": "hanahmily", "name": "Gao Hongtao"}}, "url": "https://github.com/apache/skywalking/commit/6eaf81d744bc3bc53c3ee12e071dab58d6855671", "committedDate": "2020-08-05T23:17:02Z", "message": "Get swctl from apache/skywalking-base image\n\nSigned-off-by: Gao Hongtao <hanahmily@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d86144d037b7473388a7d3f64e22834561828549", "author": {"user": {"login": "hanahmily", "name": "Gao Hongtao"}}, "url": "https://github.com/apache/skywalking/commit/d86144d037b7473388a7d3f64e22834561828549", "committedDate": "2020-08-05T23:24:08Z", "message": "Tweak health check interval\n\nSigned-off-by: Gao Hongtao <hanahmily@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1816a8d7990c139b475286bd857de99d556509b5", "author": {"user": {"login": "hanahmily", "name": "Gao Hongtao"}}, "url": "https://github.com/apache/skywalking/commit/1816a8d7990c139b475286bd857de99d556509b5", "committedDate": "2020-08-05T23:26:22Z", "message": "Merge branch 'docker-health-check' of github.com:apache/skywalking into docker-health-check"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYyMTAzOTM5", "url": "https://github.com/apache/skywalking/pull/5139#pullrequestreview-462103939", "createdAt": "2020-08-06T00:09:47Z", "commit": {"oid": "1816a8d7990c139b475286bd857de99d556509b5"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQwMDowOTo0OFrOG8evXw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQwMDowOTo0OFrOG8evXw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjA3MTM5MQ==", "bodyText": "I didn't found this command doc on the CLI repo. Seems we missed it. Please update the doc. @hanahmily", "url": "https://github.com/apache/skywalking/pull/5139#discussion_r466071391", "createdAt": "2020-08-06T00:09:48Z", "author": {"login": "wu-sheng"}, "path": "docker/docker-compose.yml", "diffHunk": "@@ -42,6 +42,14 @@ services:\n     environment:\n       SW_STORAGE: elasticsearch\n       SW_STORAGE_ES_CLUSTER_NODES: elasticsearch:9200\n+      SW_HEALTH_CHECKER: default\n+      SW_TELEMETRY: prometheus\n+    healthcheck:\n+      test: [\"CMD\", \"./bin/swctl\", \"ch\"]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1816a8d7990c139b475286bd857de99d556509b5"}, "originalPosition": 16}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1d0b05fbfdeab72bd3115fd0a1cab53075ec6b61", "author": {"user": {"login": "wu-sheng", "name": "\u5434\u665f Wu Sheng"}}, "url": "https://github.com/apache/skywalking/commit/1d0b05fbfdeab72bd3115fd0a1cab53075ec6b61", "committedDate": "2020-08-06T01:06:28Z", "message": "Merge branch 'master' into docker-health-check"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYyMTI0MTc2", "url": "https://github.com/apache/skywalking/pull/5139#pullrequestreview-462124176", "createdAt": "2020-08-06T01:18:58Z", "commit": {"oid": "1d0b05fbfdeab72bd3115fd0a1cab53075ec6b61"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2107, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}