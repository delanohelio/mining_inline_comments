{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc1NzgyNjQ3", "number": 5412, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOVQxNToyMToyMFrOEd-xKg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOVQxNToyMToyMFrOEd-xKg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk5ODcyNTU0OnYy", "diffSide": "RIGHT", "path": "apm-sniffer/apm-sdk-plugin/rocketMQ-4.x-plugin/src/main/java/org/apache/skywalking/apm/plugin/rocketMQ/v4/OnExceptionInterceptor.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOVQxNToyMToyMFrOHJcGcw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMFQwMDowNTo0M1rOHJeuqw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTY1OTYzNQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    if (enhanceInfo != null) {\n          \n          \n            \n                    // The SendCallBackEnhanceInfo could be null when there is an internal exception in the client API,\n          \n          \n            \n                    // such as MQClientException(\"no route info of this topic\")\n          \n          \n            \n                    if (enhanceInfo != null) {", "url": "https://github.com/apache/skywalking/pull/5412#discussion_r479659635", "createdAt": "2020-08-29T15:21:20Z", "author": {"login": "wu-sheng"}, "path": "apm-sniffer/apm-sdk-plugin/rocketMQ-4.x-plugin/src/main/java/org/apache/skywalking/apm/plugin/rocketMQ/v4/OnExceptionInterceptor.java", "diffHunk": "@@ -34,15 +34,22 @@\n public class OnExceptionInterceptor implements InstanceMethodsAroundInterceptor {\n \n     public static final String CALLBACK_OPERATION_NAME_PREFIX = \"RocketMQ/\";\n+    private static final String DEFAULT_TOPIC = \"no_topic\";\n \n     @Override\n     public void beforeMethod(EnhancedInstance objInst, Method method, Object[] allArguments, Class<?>[] argumentsTypes,\n         MethodInterceptResult result) throws Throwable {\n         SendCallBackEnhanceInfo enhanceInfo = (SendCallBackEnhanceInfo) objInst.getSkyWalkingDynamicField();\n-        AbstractSpan activeSpan = ContextManager.createLocalSpan(CALLBACK_OPERATION_NAME_PREFIX + enhanceInfo.getTopicId() + \"/Producer/Callback\");\n+        String topicId = DEFAULT_TOPIC;\n+        if (enhanceInfo != null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "31e2bb7752b230b82b3fb3212357d4a5dfd0f4d5"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTcwMjY5OQ==", "bodyText": "done", "url": "https://github.com/apache/skywalking/pull/5412#discussion_r479702699", "createdAt": "2020-08-30T00:05:43Z", "author": {"login": "xbkaishui"}, "path": "apm-sniffer/apm-sdk-plugin/rocketMQ-4.x-plugin/src/main/java/org/apache/skywalking/apm/plugin/rocketMQ/v4/OnExceptionInterceptor.java", "diffHunk": "@@ -34,15 +34,22 @@\n public class OnExceptionInterceptor implements InstanceMethodsAroundInterceptor {\n \n     public static final String CALLBACK_OPERATION_NAME_PREFIX = \"RocketMQ/\";\n+    private static final String DEFAULT_TOPIC = \"no_topic\";\n \n     @Override\n     public void beforeMethod(EnhancedInstance objInst, Method method, Object[] allArguments, Class<?>[] argumentsTypes,\n         MethodInterceptResult result) throws Throwable {\n         SendCallBackEnhanceInfo enhanceInfo = (SendCallBackEnhanceInfo) objInst.getSkyWalkingDynamicField();\n-        AbstractSpan activeSpan = ContextManager.createLocalSpan(CALLBACK_OPERATION_NAME_PREFIX + enhanceInfo.getTopicId() + \"/Producer/Callback\");\n+        String topicId = DEFAULT_TOPIC;\n+        if (enhanceInfo != null) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTY1OTYzNQ=="}, "originalCommit": {"oid": "31e2bb7752b230b82b3fb3212357d4a5dfd0f4d5"}, "originalPosition": 12}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4994, "cost": 1, "resetAt": "2021-11-12T09:44:50Z"}}}