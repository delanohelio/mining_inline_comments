{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc1NzIyMDQw", "number": 5409, "title": "Update configuration-vocabulary.md and trace-sampling.md", "bodyText": "Please answer these questions before submitting a pull request\n\n\nWhy submit this pull request?\n\n\n Bug fix\n\n\n New feature provided\n\n\n Improve performance\n\n\nRelated issues\n\n\n\nBug fix\n\n\nBug description.\n\n\nHow to fix?\n\n\n\nNew feature or improvement\n\nDescribe the details and related test reports.\nUpdate configuration-vocabulary.md and trace-sampling.md", "createdAt": "2020-08-29T05:02:32Z", "url": "https://github.com/apache/skywalking/pull/5409", "merged": true, "mergeCommit": {"oid": "cbb2e1793bbe55c566134d06c70fd2fefb1ecaa4"}, "closed": true, "closedAt": "2020-08-29T07:29:52Z", "author": {"login": "zifeihan"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdDiW6AAH2gAyNDc1NzIyMDQwOmE1ZmI3YjMxY2Y1ZTdkNjczOTY3ZTRkNWQ4MDQ4ODE1MWZkNzU5MjE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdDkfLrgFqTQ3ODEwNjIxNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "a5fb7b31cf5e7d673967e4d5d80488151fd75921", "author": {"user": {"login": "zifeihan", "name": "zifeihan"}}, "url": "https://github.com/apache/skywalking/commit/a5fb7b31cf5e7d673967e4d5d80488151fd75921", "committedDate": "2020-08-29T05:00:48Z", "message": "Update configuration-vocabulary.md and trace-sampling.md"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc4MDk5Mjk2", "url": "https://github.com/apache/skywalking/pull/5409#pullrequestreview-478099296", "createdAt": "2020-08-29T05:11:08Z", "commit": {"oid": "a5fb7b31cf5e7d673967e4d5d80488151fd75921"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOVQwNToxMTowOFrOHJZBMg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOVQwNToxMTowOFrOHJZBMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTYwOTEzOA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            | - | - |forceSampleErrorSegment|When sampling mechanism active, this config can open(true) force save some error segment. true is default.|SW_FORCE_SAMPLE_ERROR_SEGMENT|true|\n          \n          \n            \n            | - | - |forceSampleErrorSegment|When sampling mechanism activated, this config would  make the error status segment sampled, ignoring the sampling rate.|SW_FORCE_SAMPLE_ERROR_SEGMENT|true|", "url": "https://github.com/apache/skywalking/pull/5409#discussion_r479609138", "createdAt": "2020-08-29T05:11:08Z", "author": {"login": "wu-sheng"}, "path": "docs/en/setup/backend/configuration-vocabulary.md", "diffHunk": "@@ -133,6 +133,7 @@ core|default|role|Option values, `Mixed/Receiver/Aggregator`. **Receiver** mode\n | agent-analyzer | default | Agent Analyzer. | SW_AGENT_ANALYZER | default |\n | - | -| sampleRate|Sampling rate for receiving trace. The precision is 1/10000. 10000 means 100% sample in default.|SW_TRACE_SAMPLE_RATE|10000|\n | - | - |slowDBAccessThreshold|The slow database access thresholds. Unit ms.|SW_SLOW_DB_THRESHOLD|default:200,mongodb:100|\n+| - | - |forceSampleErrorSegment|When sampling mechanism active, this config can open(true) force save some error segment. true is default.|SW_FORCE_SAMPLE_ERROR_SEGMENT|true|", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a5fb7b31cf5e7d673967e4d5d80488151fd75921"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc4MDk5Mzgw", "url": "https://github.com/apache/skywalking/pull/5409#pullrequestreview-478099380", "createdAt": "2020-08-29T05:13:18Z", "commit": {"oid": "a5fb7b31cf5e7d673967e4d5d80488151fd75921"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOVQwNToxMzoxOFrOHJZBrQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOVQwNToxMzoxOFrOHJZBrQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTYwOTI2MQ==", "bodyText": "Why is this added in the sampling doc?", "url": "https://github.com/apache/skywalking/pull/5409#discussion_r479609261", "createdAt": "2020-08-29T05:13:18Z", "author": {"login": "wu-sheng"}, "path": "docs/en/setup/backend/trace-sampling.md", "diffHunk": "@@ -15,10 +15,18 @@ agent-analyzer:\n   default:\n     ...\n     sampleRate: ${SW_TRACE_SAMPLE_RATE:1000} # The sample rate precision is 1/10000. 10000 means 100% sample in default.\n+    slowDBAccessThreshold: ${SW_SLOW_DB_THRESHOLD:default:200,mongodb:100} # The slow database access thresholds. Unit ms.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a5fb7b31cf5e7d673967e4d5d80488151fd75921"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc4MDk5Mzg2", "url": "https://github.com/apache/skywalking/pull/5409#pullrequestreview-478099386", "createdAt": "2020-08-29T05:13:28Z", "commit": {"oid": "a5fb7b31cf5e7d673967e4d5d80488151fd75921"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOVQwNToxMzoyOFrOHJZBuw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOVQwNToxMzoyOFrOHJZBuw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTYwOTI3NQ==", "bodyText": "Same question here.", "url": "https://github.com/apache/skywalking/pull/5409#discussion_r479609275", "createdAt": "2020-08-29T05:13:28Z", "author": {"login": "wu-sheng"}, "path": "docs/en/setup/backend/trace-sampling.md", "diffHunk": "@@ -15,10 +15,18 @@ agent-analyzer:\n   default:\n     ...\n     sampleRate: ${SW_TRACE_SAMPLE_RATE:1000} # The sample rate precision is 1/10000. 10000 means 100% sample in default.\n+    slowDBAccessThreshold: ${SW_SLOW_DB_THRESHOLD:default:200,mongodb:100} # The slow database access thresholds. Unit ms.\n+    forceSampleErrorSegment: ${SW_FORCE_SAMPLE_ERROR_SEGMENT:true} # When sampling mechanism active, this config can open(true) force save some error segment. true is default.\n ```\n \n-`sampleRate` is for you to set sample rate to this backend. \n-The sample rate precision is 1/10000. 10000 means 100% sample in default. \n+`sampleRate` is for you to set sample rate to this backend.\n+The sample rate precision is 1/10000. 10000 means 100% sample in default.\n+\n+`slowDBAccessThreshold` is for you to set slow database access thresholds.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a5fb7b31cf5e7d673967e4d5d80488151fd75921"}, "originalPosition": 13}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "17c287450489a823151d5684a2a459f7155576c2", "author": {"user": {"login": "zifeihan", "name": "zifeihan"}}, "url": "https://github.com/apache/skywalking/commit/17c287450489a823151d5684a2a459f7155576c2", "committedDate": "2020-08-29T05:59:16Z", "message": "Update configuration-vocabulary.md and trace-sampling.md"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc4MTA2MjE0", "url": "https://github.com/apache/skywalking/pull/5409#pullrequestreview-478106214", "createdAt": "2020-08-29T07:29:39Z", "commit": {"oid": "17c287450489a823151d5684a2a459f7155576c2"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1964, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}