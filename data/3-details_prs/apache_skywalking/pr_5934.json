{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTMwNDAzNjE2", "number": 5934, "title": "Change the operation name of quartz-scheduler plugin", "bodyText": "Fix \n\n Add a unit test to verify that the fix works.\n Explain briefly about why the bug exists and how to fix it.\n\nUse static class name for analysis instead of dynamic jobName\nRecord job execute exception\n\n\nreference quartz-scheduler plugin commit\n\n\n\n\n\n Update the CHANGES log.", "createdAt": "2020-12-01T15:56:08Z", "url": "https://github.com/apache/skywalking/pull/5934", "merged": true, "mergeCommit": {"oid": "fbf49b2cc61a42305b0a44a3518e6058154f47f7"}, "closed": true, "closedAt": "2020-12-08T02:04:15Z", "author": {"login": "hailin0"}, "timelineItems": {"totalCount": 15, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdh7nw1AH2gAyNTMwNDAzNjE2OjA4OTgyMDNiZjE5MzY5MzM5N2Y4ZjUwZDA4ZGM5NTZjMGZiZjNkZWY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdj-6aXAH2gAyNTMwNDAzNjE2OmFiYWEyY2Q5ODYyNmJlNWY4OTExNDU0MjQ5MjAyMjcyYzQ2NzkwMDg=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "0898203bf193693397f8f50d08dc956c0fbf3def", "author": {"user": {"login": "hailin0", "name": "hailin0"}}, "url": "https://github.com/apache/skywalking/commit/0898203bf193693397f8f50d08dc956c0fbf3def", "committedDate": "2020-12-01T15:24:34Z", "message": "Update operationName of quartz-scheduler plugin"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9ce499f1177d9da052a8084209408e8da7a18fdf", "author": {"user": {"login": "hailin0", "name": "hailin0"}}, "url": "https://github.com/apache/skywalking/commit/9ce499f1177d9da052a8084209408e8da7a18fdf", "committedDate": "2020-12-01T15:45:02Z", "message": "fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "96deb64fdd0bbf81cc747aabc1808a9888aec827", "author": {"user": {"login": "hailin0", "name": "hailin0"}}, "url": "https://github.com/apache/skywalking/commit/96deb64fdd0bbf81cc747aabc1808a9888aec827", "committedDate": "2020-12-01T16:35:57Z", "message": "fix"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQyNDA5NzI5", "url": "https://github.com/apache/skywalking/pull/5934#pullrequestreview-542409729", "createdAt": "2020-12-02T00:35:22Z", "commit": {"oid": "96deb64fdd0bbf81cc747aabc1808a9888aec827"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQwMDozNToyMlrOH9FhrA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQwMDozNToyMlrOH9FhrA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzgxNTcyNA==", "bodyText": "Is this description and PR title correct? The codes seem to add a new tag only. Please confirm.", "url": "https://github.com/apache/skywalking/pull/5934#discussion_r533815724", "createdAt": "2020-12-02T00:35:22Z", "author": {"login": "wu-sheng"}, "path": "CHANGES.md", "diffHunk": "@@ -8,7 +8,7 @@ Release Notes.\n * Chore: adapt `create_source_release.sh` to make it runnable on Linux.\n \n #### Java Agent\n-\n+* Update operationName of quartz-scheduler plugin.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "96deb64fdd0bbf81cc747aabc1808a9888aec827"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7d4c23510fe77f77060eaa9008897bb6d6d2d9b6", "author": {"user": {"login": "hailin0", "name": "hailin0"}}, "url": "https://github.com/apache/skywalking/commit/7d4c23510fe77f77060eaa9008897bb6d6d2d9b6", "committedDate": "2020-12-05T12:46:41Z", "message": "record job execute status"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1be8b01ec2bb209b0a1422b2d55b3e04a0fbf785", "author": {"user": {"login": "hailin0", "name": "hailin0"}}, "url": "https://github.com/apache/skywalking/commit/1be8b01ec2bb209b0a1422b2d55b3e04a0fbf785", "committedDate": "2020-12-05T12:48:18Z", "message": "Merge branch 'master' into quartz-plugin-update-operationName"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a3898d695fb42c82dc1225c96ca490fb7da3dc16", "author": {"user": {"login": "hailin0", "name": "hailin0"}}, "url": "https://github.com/apache/skywalking/commit/a3898d695fb42c82dc1225c96ca490fb7da3dc16", "committedDate": "2020-12-06T13:16:46Z", "message": "Merge branch 'master' into quartz-plugin-update-operationName"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b25a27ffa4cc1292f108b2a7d4fe572e7268dbf9", "author": {"user": {"login": "wu-sheng", "name": "\u5434\u665f Wu Sheng"}}, "url": "https://github.com/apache/skywalking/commit/b25a27ffa4cc1292f108b2a7d4fe572e7268dbf9", "committedDate": "2020-12-06T15:26:29Z", "message": "Merge branch 'master' into quartz-plugin-update-operationName"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ1NzE3OTMy", "url": "https://github.com/apache/skywalking/pull/5934#pullrequestreview-545717932", "createdAt": "2020-12-06T15:30:02Z", "commit": {"oid": "b25a27ffa4cc1292f108b2a7d4fe572e7268dbf9"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNlQxNTozMDowMlrOIALnvQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNlQxNTozMDowMlrOIALnvQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzA2MTMwOQ==", "bodyText": "This change related to the agent readme doc. Please fix.", "url": "https://github.com/apache/skywalking/pull/5934#discussion_r537061309", "createdAt": "2020-12-06T15:30:02Z", "author": {"login": "wu-sheng"}, "path": "apm-sniffer/optional-plugins/quartz-scheduler-2.x-plugin/src/main/java/org/apache/skywalking/apm/plugin/quartz/JobRunShellMethodInterceptor.java", "diffHunk": "@@ -48,14 +49,15 @@\n     public void beforeMethod(EnhancedInstance objInst, Method method, Object[] allArguments, Class<?>[] argumentsTypes, MethodInterceptResult result) throws Throwable {\n         JobDetail jobDetail = (JobDetail) objInst.getSkyWalkingDynamicField();\n \n-        String jobName = jobDetail.getKey().getName();\n         String jobGroup = jobDetail.getKey().getGroup();\n-        String operationName = ComponentsDefine.QUARTZ_SCHEDULER.getName() + \"/\" + jobName;\n+        String jobName = jobDetail.getKey().getName();\n+        String operationName = ComponentsDefine.QUARTZ_SCHEDULER.getName() + \"/\" + jobDetail.getJobClass().getName();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b25a27ffa4cc1292f108b2a7d4fe572e7268dbf9"}, "originalPosition": 16}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9850d1dc25be19123e0b65ee1a064371cd0f490f", "author": {"user": {"login": "hailin0", "name": "hailin0"}}, "url": "https://github.com/apache/skywalking/commit/9850d1dc25be19123e0b65ee1a064371cd0f490f", "committedDate": "2020-12-07T06:13:08Z", "message": "fix docs"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ1OTM2MDg2", "url": "https://github.com/apache/skywalking/pull/5934#pullrequestreview-545936086", "createdAt": "2020-12-07T08:50:22Z", "commit": {"oid": "9850d1dc25be19123e0b65ee1a064371cd0f490f"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QwODo1MDoyMlrOIAb7IQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QwODo1MDoyNlrOIAb7Tg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzMyODQxNw==", "bodyText": "Is one class only allowed to have one job on its methods?", "url": "https://github.com/apache/skywalking/pull/5934#discussion_r537328417", "createdAt": "2020-12-07T08:50:22Z", "author": {"login": "wu-sheng"}, "path": "apm-sniffer/optional-plugins/quartz-scheduler-2.x-plugin/src/main/java/org/apache/skywalking/apm/plugin/quartz/JobRunShellMethodInterceptor.java", "diffHunk": "@@ -48,14 +49,15 @@\n     public void beforeMethod(EnhancedInstance objInst, Method method, Object[] allArguments, Class<?>[] argumentsTypes, MethodInterceptResult result) throws Throwable {\n         JobDetail jobDetail = (JobDetail) objInst.getSkyWalkingDynamicField();\n \n-        String jobName = jobDetail.getKey().getName();\n         String jobGroup = jobDetail.getKey().getGroup();\n-        String operationName = ComponentsDefine.QUARTZ_SCHEDULER.getName() + \"/\" + jobName;\n+        String jobName = jobDetail.getKey().getName();\n+        String operationName = ComponentsDefine.QUARTZ_SCHEDULER.getName() + \"/\" + jobDetail.getJobClass().getName();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9850d1dc25be19123e0b65ee1a064371cd0f490f"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzMyODQ2Mg==", "bodyText": "This changelog is not accurate, please update.", "url": "https://github.com/apache/skywalking/pull/5934#discussion_r537328462", "createdAt": "2020-12-07T08:50:26Z", "author": {"login": "wu-sheng"}, "path": "CHANGES.md", "diffHunk": "@@ -8,6 +8,7 @@ Release Notes.\n * Chore: adapt `create_source_release.sh` to make it runnable on Linux.\n \n #### Java Agent\n+* Update quartz-scheduler plugin.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9850d1dc25be19123e0b65ee1a064371cd0f490f"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c08909a7bc6830c966e1c3806dd42196e2712cba", "author": {"user": {"login": "hailin0", "name": "hailin0"}}, "url": "https://github.com/apache/skywalking/commit/c08909a7bc6830c966e1c3806dd42196e2712cba", "committedDate": "2020-12-07T11:35:33Z", "message": "fix docs"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ2MDk0NzE4", "url": "https://github.com/apache/skywalking/pull/5934#pullrequestreview-546094718", "createdAt": "2020-12-07T12:18:46Z", "commit": {"oid": "c08909a7bc6830c966e1c3806dd42196e2712cba"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ef26501c756becb5e6528c70526bb6980fc3abdc", "author": {"user": {"login": "wu-sheng", "name": "\u5434\u665f Wu Sheng"}}, "url": "https://github.com/apache/skywalking/commit/ef26501c756becb5e6528c70526bb6980fc3abdc", "committedDate": "2020-12-07T14:56:38Z", "message": "Merge branch 'master' into quartz-plugin-update-operationName"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "abaa2cd98626be5f8911454249202272c4679008", "author": {"user": {"login": "wu-sheng", "name": "\u5434\u665f Wu Sheng"}}, "url": "https://github.com/apache/skywalking/commit/abaa2cd98626be5f8911454249202272c4679008", "committedDate": "2020-12-08T00:22:30Z", "message": "Merge branch 'master' into quartz-plugin-update-operationName"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1423, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}