{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc0NDA3ODk2", "number": 5396, "title": "Optimize: truncate parameterString", "bodyText": "cut the string as soon as it reached the length limitation\nPlease answer these questions before submitting pull request\n\n\nWhy submit this pull request?\n\n\n Bug fix\n\n\n New feature provided\n\n\n[* ] Improve performance\n\n\nRelated issues\n#5383\n\n\n\nBug fix\n\n\nBug description.\n\n\nHow to fix?\n\n\n\nNew feature or improvement\n\nDescribe the details and related test reports.\ncut the string as soon as it reached the length limitation", "createdAt": "2020-08-27T02:37:13Z", "url": "https://github.com/apache/skywalking/pull/5396", "merged": true, "mergeCommit": {"oid": "f89ed0c3151f4637c8052fc9ddb00814badfd9ec"}, "closed": true, "closedAt": "2020-08-28T04:46:42Z", "author": {"login": "novayoung"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdC22UIgH2gAyNDc0NDA3ODk2OjJiNGUzMjUzMmMyODgwOTY4ZWU2NTJmOWExNWJjYzJhNDRiMGJmYjY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdDNXXrAFqTQ3NzIzMzcyNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "2b4e32532c2880968ee652f9a15bcc2a44b0bfb6", "author": {"user": {"login": "novayoung", "name": null}}, "url": "https://github.com/apache/skywalking/commit/2b4e32532c2880968ee652f9a15bcc2a44b0bfb6", "committedDate": "2020-08-27T02:19:17Z", "message": "Optimize: truncate parameterString\n\ncut the string as soon as it reached the length limitation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c06a8290a76255338f99ca29b77a3edcb9774f92", "author": {"user": {"login": "novayoung", "name": null}}, "url": "https://github.com/apache/skywalking/commit/c06a8290a76255338f99ca29b77a3edcb9774f92", "committedDate": "2020-08-27T02:38:18Z", "message": "Merge branch 'master' into novayoung-patch-1"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc2Mzc4NDMx", "url": "https://github.com/apache/skywalking/pull/5396#pullrequestreview-476378431", "createdAt": "2020-08-27T04:34:55Z", "commit": {"oid": "c06a8290a76255338f99ca29b77a3edcb9774f92"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yN1QwNDozNDo1NVrOHH9KTg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yN1QwNDozNDo1NVrOHH9KTg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODEwNDE0Mg==", "bodyText": "Why don't you place ... in [%s] like [%s....].  :-)", "url": "https://github.com/apache/skywalking/pull/5396#discussion_r478104142", "createdAt": "2020-08-27T04:34:55Z", "author": {"login": "dmsolr"}, "path": "apm-sniffer/apm-sdk-plugin/jdbc-commons/src/main/java/org/apache/skywalking/apm/plugin/jdbc/PreparedStatementParameterBuilder.java", "diffHunk": "@@ -58,6 +57,11 @@ private String getParameterString() {\n             }\n             stringBuilder.append(parameter);\n             first = false;\n+            \n+            //  cut the string as soon as it reached the length limitation\n+            if (maxLength > 0 && stringBuilder.length() > maxLength){\n+                return String.format(\"[%s]\", stringBuilder.toString().substring(0, maxLength) + \"...\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c06a8290a76255338f99ca29b77a3edcb9774f92"}, "originalPosition": 17}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc2NDExNDIw", "url": "https://github.com/apache/skywalking/pull/5396#pullrequestreview-476411420", "createdAt": "2020-08-27T06:11:27Z", "commit": {"oid": "c06a8290a76255338f99ca29b77a3edcb9774f92"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "35036a1bfdc0426147d80aad84355c16727fb9d3", "author": {"user": {"login": "novayoung", "name": null}}, "url": "https://github.com/apache/skywalking/commit/35036a1bfdc0426147d80aad84355c16727fb9d3", "committedDate": "2020-08-27T08:05:49Z", "message": "Fix code style\n\n'{' is not preceded with whitespace"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "49d2a86d9e6204f4f4cd9598687c361b78630bd9", "author": {"user": {"login": "novayoung", "name": null}}, "url": "https://github.com/apache/skywalking/commit/49d2a86d9e6204f4f4cd9598687c361b78630bd9", "committedDate": "2020-08-27T08:12:59Z", "message": " Optimize:  place ... in [%s] like [%s....]"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "610cefa798d6f1f94d07abc3590fa1213b4e92de", "author": {"user": null}, "url": "https://github.com/apache/skywalking/commit/610cefa798d6f1f94d07abc3590fa1213b4e92de", "committedDate": "2020-08-27T09:28:07Z", "message": "Fix: keep the same format"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "664706b04efbd3ef451a96e5fd3a806b8a76a937", "author": {"user": {"login": "kezhenxu94", "name": "kezhenxu94"}}, "url": "https://github.com/apache/skywalking/commit/664706b04efbd3ef451a96e5fd3a806b8a76a937", "committedDate": "2020-08-27T09:42:12Z", "message": "Merge branch 'master' into novayoung-patch-1"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ba66dd8804d54b534a166db828f431ef8ddb8c1f", "author": {"user": {"login": "novayoung", "name": null}}, "url": "https://github.com/apache/skywalking/commit/ba66dd8804d54b534a166db828f431ef8ddb8c1f", "committedDate": "2020-08-28T01:19:53Z", "message": "Merge branch 'master' into novayoung-patch-1"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "62bee443ea0207e01ea280c2bba560aa81683c34", "author": {"user": {"login": "wu-sheng", "name": "\u5434\u665f Wu Sheng"}}, "url": "https://github.com/apache/skywalking/commit/62bee443ea0207e01ea280c2bba560aa81683c34", "committedDate": "2020-08-28T03:32:56Z", "message": "Merge branch 'master' into novayoung-patch-1"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc3MjI1Njc4", "url": "https://github.com/apache/skywalking/pull/5396#pullrequestreview-477225678", "createdAt": "2020-08-28T04:01:09Z", "commit": {"oid": "62bee443ea0207e01ea280c2bba560aa81683c34"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc3MjMzNzI3", "url": "https://github.com/apache/skywalking/pull/5396#pullrequestreview-477233727", "createdAt": "2020-08-28T04:33:18Z", "commit": {"oid": "62bee443ea0207e01ea280c2bba560aa81683c34"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1951, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}