{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM1ODA5MzE1", "number": 5987, "title": "Fix logger-plugin module directory structure problem(Maven cannot trigger junit testing).", "bodyText": "Fix Fix logger-plugin module directory structure problem(Maven cannot trigger junit testing).\n\n Add a unit test to verify that the fix works.\n Explain briefly about why the bug exists and how to fix it.\n\n@vcjmhg\nFix logger-plugin module directory structure problem(Maven cannot trigger junit testing), and format the test code.", "createdAt": "2020-12-10T09:59:24Z", "url": "https://github.com/apache/skywalking/pull/5987", "merged": true, "mergeCommit": {"oid": "a57c158c7724f1fbe2537c230c40a2517d9a0dd5"}, "closed": true, "closedAt": "2020-12-11T07:58:07Z", "author": {"login": "zifeihan"}, "timelineItems": {"totalCount": 16, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdkwPm6AH2gAyNTM1ODA5MzE1OjU0MjQwMWNhZDIwNTE5ODg2MTRkNTM3YzY3NTIzMTdmYTNmYjJlMWQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdlCXYfgFqTU0OTg0MjI5Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "542401cad2051988614d537c6752317fa3fb2e1d", "author": {"user": {"login": "zifeihan", "name": "zifeihan"}}, "url": "https://github.com/apache/skywalking/commit/542401cad2051988614d537c6752317fa3fb2e1d", "committedDate": "2020-12-10T09:51:00Z", "message": "Fix logger-plugin directory structure problem(Maven cannot trigger junit testing)."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a8badae51e051578c74413e519756e51fdb1141e", "author": {"user": {"login": "zifeihan", "name": "zifeihan"}}, "url": "https://github.com/apache/skywalking/commit/a8badae51e051578c74413e519756e51fdb1141e", "committedDate": "2020-12-10T09:53:30Z", "message": "Update CHANGES.md."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ5MDMxMTIw", "url": "https://github.com/apache/skywalking/pull/5987#pullrequestreview-549031120", "createdAt": "2020-12-10T10:03:10Z", "commit": {"oid": "a8badae51e051578c74413e519756e51fdb1141e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQxMDowMzoxMVrOIDBFWQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQxMDowMzoxMVrOIDBFWQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDAzNDM5Mw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            * Fix logger-plugin module directory structure problem(Maven cannot trigger junit testing).\n          \n      \n    \n    \n  \n\nThis fix is not related to the changelog, as the bug codes were introduced in the master only. Please remove.", "url": "https://github.com/apache/skywalking/pull/5987#discussion_r540034393", "createdAt": "2020-12-10T10:03:11Z", "author": {"login": "wu-sheng"}, "path": "CHANGES.md", "diffHunk": "@@ -12,6 +12,7 @@ Release Notes.\n * The operation name of quartz-scheduler plugin, has been changed as the `quartz-scheduler/${className}` format.\n * Fix jdk-http and okhttp-3.x plugin did not overwrite the old trace header.\n * Support collecting logs of log4j, log4j2, and logback in the tracing context with a new `logger-plugin`.\n+* Fix logger-plugin module directory structure problem(Maven cannot trigger junit testing).", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a8badae51e051578c74413e519756e51fdb1141e"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ5MDMxNDAz", "url": "https://github.com/apache/skywalking/pull/5987#pullrequestreview-549031403", "createdAt": "2020-12-10T10:03:28Z", "commit": {"oid": "a8badae51e051578c74413e519756e51fdb1141e"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8e363bcd7aa9a0049cdfb53fb7821931f6cb3a06", "author": {"user": {"login": "wu-sheng", "name": "\u5434\u665f Wu Sheng"}}, "url": "https://github.com/apache/skywalking/commit/8e363bcd7aa9a0049cdfb53fb7821931f6cb3a06", "committedDate": "2020-12-10T10:03:35Z", "message": "Update CHANGES.md"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b1bbd33ea3ef8c88a29571a39a2e883ac1c5f8c7", "author": {"user": {"login": "wu-sheng", "name": "\u5434\u665f Wu Sheng"}}, "url": "https://github.com/apache/skywalking/commit/b1bbd33ea3ef8c88a29571a39a2e883ac1c5f8c7", "committedDate": "2020-12-10T10:03:43Z", "message": "Merge branch 'master' into logger-plugin_fix"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ5MDMxOTc1", "url": "https://github.com/apache/skywalking/pull/5987#pullrequestreview-549031975", "createdAt": "2020-12-10T10:03:59Z", "commit": {"oid": "b1bbd33ea3ef8c88a29571a39a2e883ac1c5f8c7"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "61931d6c5e9ed84a0cba32db2145b688b56dcedd", "author": {"user": {"login": "zifeihan", "name": "zifeihan"}}, "url": "https://github.com/apache/skywalking/commit/61931d6c5e9ed84a0cba32db2145b688b56dcedd", "committedDate": "2020-12-10T10:05:27Z", "message": "Update CHANGES.md."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8c1a965f2ded2d15e827a827db2492da0c43780c", "author": {"user": {"login": "zifeihan", "name": "zifeihan"}}, "url": "https://github.com/apache/skywalking/commit/8c1a965f2ded2d15e827a827db2492da0c43780c", "committedDate": "2020-12-10T10:05:44Z", "message": "Merge remote-tracking branch 'origin/logger-plugin_fix' into logger-plugin_fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "de6fe64534924ac5d2f950340dc7afad4c9141a4", "author": {"user": {"login": "zifeihan", "name": "zifeihan"}}, "url": "https://github.com/apache/skywalking/commit/de6fe64534924ac5d2f950340dc7afad4c9141a4", "committedDate": "2020-12-10T15:21:44Z", "message": "Polishing."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ5MzMyNTAw", "url": "https://github.com/apache/skywalking/pull/5987#pullrequestreview-549332500", "createdAt": "2020-12-10T15:45:46Z", "commit": {"oid": "de6fe64534924ac5d2f950340dc7afad4c9141a4"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d594f726ccd3cd74eb008dd4c5e61bc7e7c6fc13", "author": {"user": {"login": "zifeihan", "name": "zifeihan"}}, "url": "https://github.com/apache/skywalking/commit/d594f726ccd3cd74eb008dd4c5e61bc7e7c6fc13", "committedDate": "2020-12-11T04:49:30Z", "message": "Polishing."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ5ODA3Mzcz", "url": "https://github.com/apache/skywalking/pull/5987#pullrequestreview-549807373", "createdAt": "2020-12-11T05:17:03Z", "commit": {"oid": "d594f726ccd3cd74eb008dd4c5e61bc7e7c6fc13"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQwNToxNzowM1rOIDpgLQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQwNToxNzowM1rOIDpgLQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDY5NjYyMQ==", "bodyText": "@zifeihan Why we should write another method named getLastsConfig() for UT. It seems that when any UT starts, initContextConfig() will be executed. Just curious \ud83d\ude04", "url": "https://github.com/apache/skywalking/pull/5987#discussion_r540696621", "createdAt": "2020-12-11T05:17:03Z", "author": {"login": "vcjmhg"}, "path": "apm-sniffer/optional-plugins/logger-plugin/src/test/java/org/apache/skywalking/apm/plugin/logger/ContextConfigDefaultTest.java", "diffHunk": "@@ -24,7 +25,7 @@\n public class ContextConfigDefaultTest {\n     @Test\n     public void testDefaultConfig() {\n-        ContextConfig config = ContextConfig.getInstance();\n+        ContextConfig config = ContextConfig.getLatestConfig();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d594f726ccd3cd74eb008dd4c5e61bc7e7c6fc13"}, "originalPosition": 13}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ5ODE5NDkx", "url": "https://github.com/apache/skywalking/pull/5987#pullrequestreview-549819491", "createdAt": "2020-12-11T05:55:22Z", "commit": {"oid": "d594f726ccd3cd74eb008dd4c5e61bc7e7c6fc13"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQwNTo1NToyMlrOIDqPyQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQwNTo1NToyMlrOIDqPyQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDcwODgwOQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                public static ContextConfig getLatestConfig() {\n          \n          \n            \n                /**\n          \n          \n            \n                 * For testing use only.\n          \n          \n            \n                 * Avoid to use config cache. Load the configuration every time. \n          \n          \n            \n                 */\n          \n          \n            \n                static ContextConfig getLatestConfig() {\n          \n      \n    \n    \n  \n\nShould like this?", "url": "https://github.com/apache/skywalking/pull/5987#discussion_r540708809", "createdAt": "2020-12-11T05:55:22Z", "author": {"login": "wu-sheng"}, "path": "apm-sniffer/optional-plugins/logger-plugin/src/main/java/org/apache/skywalking/apm/plugin/logger/ContextConfig.java", "diffHunk": "@@ -58,6 +58,10 @@ public static ContextConfig getInstance() {\n         return HolderContextConfig.INSTANCE;\n     }\n \n+    public static ContextConfig getLatestConfig() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d594f726ccd3cd74eb008dd4c5e61bc7e7c6fc13"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f56c7e0c81eb97171124dae3cb67b0fc1a7aacf1", "author": {"user": null}, "url": "https://github.com/apache/skywalking/commit/f56c7e0c81eb97171124dae3cb67b0fc1a7aacf1", "committedDate": "2020-12-11T05:59:37Z", "message": "Update apm-sniffer/optional-plugins/logger-plugin/src/main/java/org/apache/skywalking/apm/plugin/logger/ContextConfig.java\n\nCo-authored-by: \u5434\u665f Wu Sheng <wu.sheng@foxmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ5ODQyMjky", "url": "https://github.com/apache/skywalking/pull/5987#pullrequestreview-549842292", "createdAt": "2020-12-11T06:57:47Z", "commit": {"oid": "f56c7e0c81eb97171124dae3cb67b0fc1a7aacf1"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1457, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}