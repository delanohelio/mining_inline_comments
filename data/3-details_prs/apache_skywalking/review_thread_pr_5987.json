{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM1ODA5MzE1", "number": 5987, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQxMDowMzoxMVrOFDZCKw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQwNTo1NToyMlrOFD0_QQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM5MTAwMjAzOnYy", "diffSide": "RIGHT", "path": "CHANGES.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQxMDowMzoxMVrOIDBFWQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQxMDowMzoxMVrOIDBFWQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDAzNDM5Mw==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            * Fix logger-plugin module directory structure problem(Maven cannot trigger junit testing).\n          \n      \n    \n    \n  \n\nThis fix is not related to the changelog, as the bug codes were introduced in the master only. Please remove.", "url": "https://github.com/apache/skywalking/pull/5987#discussion_r540034393", "createdAt": "2020-12-10T10:03:11Z", "author": {"login": "wu-sheng"}, "path": "CHANGES.md", "diffHunk": "@@ -12,6 +12,7 @@ Release Notes.\n * The operation name of quartz-scheduler plugin, has been changed as the `quartz-scheduler/${className}` format.\n * Fix jdk-http and okhttp-3.x plugin did not overwrite the old trace header.\n * Support collecting logs of log4j, log4j2, and logback in the tracing context with a new `logger-plugin`.\n+* Fix logger-plugin module directory structure problem(Maven cannot trigger junit testing).", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a8badae51e051578c74413e519756e51fdb1141e"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM5NTQ5MTg3OnYy", "diffSide": "RIGHT", "path": "apm-sniffer/optional-plugins/logger-plugin/src/test/java/org/apache/skywalking/apm/plugin/logger/ContextConfigDefaultTest.java", "isResolved": false, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQwNToxNzowM1rOIDpgLQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQwNjoxMzo0M1rOIDqnmw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDY5NjYyMQ==", "bodyText": "@zifeihan Why we should write another method named getLastsConfig() for UT. It seems that when any UT starts, initContextConfig() will be executed. Just curious \ud83d\ude04", "url": "https://github.com/apache/skywalking/pull/5987#discussion_r540696621", "createdAt": "2020-12-11T05:17:03Z", "author": {"login": "vcjmhg"}, "path": "apm-sniffer/optional-plugins/logger-plugin/src/test/java/org/apache/skywalking/apm/plugin/logger/ContextConfigDefaultTest.java", "diffHunk": "@@ -24,7 +25,7 @@\n public class ContextConfigDefaultTest {\n     @Test\n     public void testDefaultConfig() {\n-        ContextConfig config = ContextConfig.getInstance();\n+        ContextConfig config = ContextConfig.getLatestConfig();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d594f726ccd3cd74eb008dd4c5e61bc7e7c6fc13"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDcwMTg3OQ==", "bodyText": "@vcjmhg Hello, because maven test is in a jvm instance, the loading configuration file content is in singleton mode, so if the file content is modified in the test case, it will not take effect.", "url": "https://github.com/apache/skywalking/pull/5987#discussion_r540701879", "createdAt": "2020-12-11T05:33:43Z", "author": {"login": "zifeihan"}, "path": "apm-sniffer/optional-plugins/logger-plugin/src/test/java/org/apache/skywalking/apm/plugin/logger/ContextConfigDefaultTest.java", "diffHunk": "@@ -24,7 +25,7 @@\n public class ContextConfigDefaultTest {\n     @Test\n     public void testDefaultConfig() {\n-        ContextConfig config = ContextConfig.getInstance();\n+        ContextConfig config = ContextConfig.getLatestConfig();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDY5NjYyMQ=="}, "originalCommit": {"oid": "d594f726ccd3cd74eb008dd4c5e61bc7e7c6fc13"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDcwMzM3MA==", "bodyText": "@vcjmhg you can test success for every UT by manual, but it will failed in maven automatic test.", "url": "https://github.com/apache/skywalking/pull/5987#discussion_r540703370", "createdAt": "2020-12-11T05:38:21Z", "author": {"login": "zifeihan"}, "path": "apm-sniffer/optional-plugins/logger-plugin/src/test/java/org/apache/skywalking/apm/plugin/logger/ContextConfigDefaultTest.java", "diffHunk": "@@ -24,7 +25,7 @@\n public class ContextConfigDefaultTest {\n     @Test\n     public void testDefaultConfig() {\n-        ContextConfig config = ContextConfig.getInstance();\n+        ContextConfig config = ContextConfig.getLatestConfig();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDY5NjYyMQ=="}, "originalCommit": {"oid": "d594f726ccd3cd74eb008dd4c5e61bc7e7c6fc13"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDcxNDkwNw==", "bodyText": "ok , I got it. Thank u!", "url": "https://github.com/apache/skywalking/pull/5987#discussion_r540714907", "createdAt": "2020-12-11T06:13:43Z", "author": {"login": "vcjmhg"}, "path": "apm-sniffer/optional-plugins/logger-plugin/src/test/java/org/apache/skywalking/apm/plugin/logger/ContextConfigDefaultTest.java", "diffHunk": "@@ -24,7 +25,7 @@\n public class ContextConfigDefaultTest {\n     @Test\n     public void testDefaultConfig() {\n-        ContextConfig config = ContextConfig.getInstance();\n+        ContextConfig config = ContextConfig.getLatestConfig();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDY5NjYyMQ=="}, "originalCommit": {"oid": "d594f726ccd3cd74eb008dd4c5e61bc7e7c6fc13"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM5NTU4MjA5OnYy", "diffSide": "RIGHT", "path": "apm-sniffer/optional-plugins/logger-plugin/src/main/java/org/apache/skywalking/apm/plugin/logger/ContextConfig.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQwNTo1NToyMlrOIDqPyQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQwNTo1NToyMlrOIDqPyQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDcwODgwOQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                public static ContextConfig getLatestConfig() {\n          \n          \n            \n                /**\n          \n          \n            \n                 * For testing use only.\n          \n          \n            \n                 * Avoid to use config cache. Load the configuration every time. \n          \n          \n            \n                 */\n          \n          \n            \n                static ContextConfig getLatestConfig() {\n          \n      \n    \n    \n  \n\nShould like this?", "url": "https://github.com/apache/skywalking/pull/5987#discussion_r540708809", "createdAt": "2020-12-11T05:55:22Z", "author": {"login": "wu-sheng"}, "path": "apm-sniffer/optional-plugins/logger-plugin/src/main/java/org/apache/skywalking/apm/plugin/logger/ContextConfig.java", "diffHunk": "@@ -58,6 +58,10 @@ public static ContextConfig getInstance() {\n         return HolderContextConfig.INSTANCE;\n     }\n \n+    public static ContextConfig getLatestConfig() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d594f726ccd3cd74eb008dd4c5e61bc7e7c6fc13"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4659, "cost": 1, "resetAt": "2021-11-12T09:44:50Z"}}}