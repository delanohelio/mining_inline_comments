{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDEwODQzNDg5", "number": 4736, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQwMTo0MjozNlrOD33GhA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQwMTo0MjozNlrOD33GhA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU5OTAxMDYwOnYy", "diffSide": "RIGHT", "path": "apm-sniffer/apm-sdk-plugin/vertx-plugins/vertx-core-3.x-plugin/src/main/java/org/apache/skywalking/apm/plugin/vertx3/HttpClientRequestImplEndInterceptor.java", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQwMTo0MjozNlrOGOW6dw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQwODowNDozNlrOGOeQuQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzcwODY2Mw==", "bodyText": "This is an HTTP interceptor, I think instanceof is acceptable. Only remind you, using witness class to different versions is better. Because it has no payload at the runtime, even in the JDK8 instanceof is faster, but at least nothing is faster :)", "url": "https://github.com/apache/skywalking/pull/4736#discussion_r417708663", "createdAt": "2020-04-30T01:42:36Z", "author": {"login": "wu-sheng"}, "path": "apm-sniffer/apm-sdk-plugin/vertx-plugins/vertx-core-3.x-plugin/src/main/java/org/apache/skywalking/apm/plugin/vertx3/HttpClientRequestImplEndInterceptor.java", "diffHunk": "@@ -40,11 +40,17 @@ public void onConstruct(EnhancedInstance objInst, Object[] allArguments) {\n         String host;\n         int port;\n         if (allArguments[3] instanceof Integer) {\n+            //ver. 3.0.x - 3.3.x", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cbc36b7a4b4f57414c66be12215738ff33488cd6"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzc5OTE5MQ==", "bodyText": "Wouldn't that mean creating three HttpClientRequestImplEndInterceptor classes? One for each version range", "url": "https://github.com/apache/skywalking/pull/4736#discussion_r417799191", "createdAt": "2020-04-30T07:07:55Z", "author": {"login": "BFergerson"}, "path": "apm-sniffer/apm-sdk-plugin/vertx-plugins/vertx-core-3.x-plugin/src/main/java/org/apache/skywalking/apm/plugin/vertx3/HttpClientRequestImplEndInterceptor.java", "diffHunk": "@@ -40,11 +40,17 @@ public void onConstruct(EnhancedInstance objInst, Object[] allArguments) {\n         String host;\n         int port;\n         if (allArguments[3] instanceof Integer) {\n+            //ver. 3.0.x - 3.3.x", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzcwODY2Mw=="}, "originalCommit": {"oid": "cbc36b7a4b4f57414c66be12215738ff33488cd6"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzgxOTIxNg==", "bodyText": "Yeap. If they have a right witness class in each version range.", "url": "https://github.com/apache/skywalking/pull/4736#discussion_r417819216", "createdAt": "2020-04-30T07:46:45Z", "author": {"login": "dmsolr"}, "path": "apm-sniffer/apm-sdk-plugin/vertx-plugins/vertx-core-3.x-plugin/src/main/java/org/apache/skywalking/apm/plugin/vertx3/HttpClientRequestImplEndInterceptor.java", "diffHunk": "@@ -40,11 +40,17 @@ public void onConstruct(EnhancedInstance objInst, Object[] allArguments) {\n         String host;\n         int port;\n         if (allArguments[3] instanceof Integer) {\n+            //ver. 3.0.x - 3.3.x", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzcwODY2Mw=="}, "originalCommit": {"oid": "cbc36b7a4b4f57414c66be12215738ff33488cd6"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzgyOTA0OQ==", "bodyText": "You could put three sub interceptors, as the difference is onlu about onConstruct. WDYT?", "url": "https://github.com/apache/skywalking/pull/4736#discussion_r417829049", "createdAt": "2020-04-30T08:04:36Z", "author": {"login": "wu-sheng"}, "path": "apm-sniffer/apm-sdk-plugin/vertx-plugins/vertx-core-3.x-plugin/src/main/java/org/apache/skywalking/apm/plugin/vertx3/HttpClientRequestImplEndInterceptor.java", "diffHunk": "@@ -40,11 +40,17 @@ public void onConstruct(EnhancedInstance objInst, Object[] allArguments) {\n         String host;\n         int port;\n         if (allArguments[3] instanceof Integer) {\n+            //ver. 3.0.x - 3.3.x", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzcwODY2Mw=="}, "originalCommit": {"oid": "cbc36b7a4b4f57414c66be12215738ff33488cd6"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 282, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}