{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM1MjM2ODYw", "number": 4936, "title": "Reduce the length of metric name", "bodyText": "Signed-off-by: Gao Hongtao hanahmily@gmail.com\nReduce the length of metric name in so11y, and add so11y to e2e.\nfixed #4932", "createdAt": "2020-06-16T14:00:06Z", "url": "https://github.com/apache/skywalking/pull/4936", "merged": true, "mergeCommit": {"oid": "e143ae62eb8a2300b124f345b235bb1e3eb3c139"}, "closed": true, "closedAt": "2020-06-22T01:10:52Z", "author": {"login": "hanahmily"}, "timelineItems": {"totalCount": 16, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcr1rsPgH2gAyNDM1MjM2ODYwOmIxY2NjMWE2NjJlMzdkYTJhMTQ3OGFlZmIyYWJlODAxN2M1Njg1NjU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABctlQowAH2gAyNDM1MjM2ODYwOmVlYjNmNjhjYzZiNTMwNjg3MzhiNzc4Zjc0MTExNjAyOTM0N2M2Nzg=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "b1ccc1a662e37da2a1478aefb2abe8017c568565", "author": {"user": {"login": "hanahmily", "name": "Gao Hongtao"}}, "url": "https://github.com/apache/skywalking/commit/b1ccc1a662e37da2a1478aefb2abe8017c568565", "committedDate": "2020-06-16T13:57:31Z", "message": "Reduce the length of metric name\n\nSigned-off-by: Gao Hongtao <hanahmily@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMxNTY5MDMx", "url": "https://github.com/apache/skywalking/pull/4936#pullrequestreview-431569031", "createdAt": "2020-06-16T14:32:52Z", "commit": {"oid": "b1ccc1a662e37da2a1478aefb2abe8017c568565"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQxNDozMjo1MlrOGkeTPA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQxNDozMjo1MlrOGkeTPA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDg5ODM2NA==", "bodyText": "This should be able to open self-observation. But I think we should add GraphQL query to verify the metrics really have values. NOTICE, usually, metrics value should not be 0, if there are some cases of that, we could skip those metrics, such as GC count/time.", "url": "https://github.com/apache/skywalking/pull/4936#discussion_r440898364", "createdAt": "2020-06-16T14:32:52Z", "author": {"login": "wu-sheng"}, "path": "test/e2e/e2e-test/docker/base-compose.yml", "diffHunk": "@@ -34,6 +34,8 @@ services:\n       SW_STORAGE_INFLUXDB_URL: http://influxdb:8086\n       JAVA_OPTS: >-\n         -javaagent:/jacoco/jacocoagent.jar=classdumpdir=/jacoco/classes/oap,destfile=/jacoco/oap.exec,includes=org.apache.skywalking.*,excludes=org.apache.skywalking.oap.query.*:org.apache.skywalking.oap.server.core.query.*\n+      SW_PROMETHEUS_FETCHER_ACTIVE: true\n+      SW_TELEMETRY: prometheus", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b1ccc1a662e37da2a1478aefb2abe8017c568565"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "284d9bebe0e8abe09ff0c8bcd72d56a0866e62dd", "author": {"user": {"login": "hanahmily", "name": "Gao Hongtao"}}, "url": "https://github.com/apache/skywalking/commit/284d9bebe0e8abe09ff0c8bcd72d56a0866e62dd", "committedDate": "2020-06-16T15:18:59Z", "message": "Merge branch 'master' into so11y-identity"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f10b12f112c3e718d7e818eec0534317cb0aeea2", "author": {"user": {"login": "hanahmily", "name": "Gao Hongtao"}}, "url": "https://github.com/apache/skywalking/commit/f10b12f112c3e718d7e818eec0534317cb0aeea2", "committedDate": "2020-06-16T16:59:37Z", "message": "Wrap boolean value with quotes\n\nSigned-off-by: Gao Hongtao <hanahmily@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "356c8aae034eea242d1c21f0aebd8cf1c8e06505", "author": {"user": {"login": "hanahmily", "name": "Gao Hongtao"}}, "url": "https://github.com/apache/skywalking/commit/356c8aae034eea242d1c21f0aebd8cf1c8e06505", "committedDate": "2020-06-16T17:03:58Z", "message": "Merge branch 'so11y-identity' of github.com:apache/skywalking into so11y-identity"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "22bc96187e60eb87e8f21113a9f9fcc6e118faa3", "author": {"user": {"login": "hanahmily", "name": "Gao Hongtao"}}, "url": "https://github.com/apache/skywalking/commit/22bc96187e60eb87e8f21113a9f9fcc6e118faa3", "committedDate": "2020-06-17T16:18:59Z", "message": "Verify so11y metrics in e2e-simple\n\nSigned-off-by: Gao Hongtao <hanahmily@gmail.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": {"oid": "22bc96187e60eb87e8f21113a9f9fcc6e118faa3", "author": {"user": {"login": "hanahmily", "name": "Gao Hongtao"}}, "url": "https://github.com/apache/skywalking/commit/22bc96187e60eb87e8f21113a9f9fcc6e118faa3", "committedDate": "2020-06-17T16:18:59Z", "message": "Verify so11y metrics in e2e-simple\n\nSigned-off-by: Gao Hongtao <hanahmily@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7adbe58b3251dd4e37e18c889627b5e7f46d4f24", "author": {"user": {"login": "hanahmily", "name": "Gao Hongtao"}}, "url": "https://github.com/apache/skywalking/commit/7adbe58b3251dd4e37e18c889627b5e7f46d4f24", "committedDate": "2020-06-17T16:19:52Z", "message": "Merge branch 'master' into so11y-identity"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bee1286c334f733caa51313fd8cb631b8372c5e6", "author": {"user": {"login": "hanahmily", "name": "Gao Hongtao"}}, "url": "https://github.com/apache/skywalking/commit/bee1286c334f733caa51313fd8cb631b8372c5e6", "committedDate": "2020-06-20T13:30:59Z", "message": "Merge branch 'master' into so11y-identity"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "95b3315698fced9876696a9695715995b0d83fa8", "author": {"user": {"login": "hanahmily", "name": "Gao Hongtao"}}, "url": "https://github.com/apache/skywalking/commit/95b3315698fced9876696a9695715995b0d83fa8", "committedDate": "2020-06-20T15:11:29Z", "message": "Merge branch 'master' into so11y-identity"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "78274c7f842b086eb3aa9c87b8ce817bf77733da", "author": {"user": {"login": "hanahmily", "name": "Gao Hongtao"}}, "url": "https://github.com/apache/skywalking/commit/78274c7f842b086eb3aa9c87b8ce817bf77733da", "committedDate": "2020-06-20T15:52:40Z", "message": "Add so11y to storage and simple test suit\n\nSigned-off-by: Gao Hongtao <hanahmily@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM0NDU5Nzc2", "url": "https://github.com/apache/skywalking/pull/4936#pullrequestreview-434459776", "createdAt": "2020-06-20T23:39:16Z", "commit": {"oid": "78274c7f842b086eb3aa9c87b8ce817bf77733da"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMFQyMzozOToxNlrOGmo0hA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMFQyMzozOToxNlrOGmo0hA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzE2Nzg3Ng==", "bodyText": "What is this for?", "url": "https://github.com/apache/skywalking/pull/4936#discussion_r443167876", "createdAt": "2020-06-20T23:39:16Z", "author": {"login": "wu-sheng"}, "path": "test/e2e/e2e-test/src/test/java/org/apache/skywalking/e2e/simple/SimpleE2E.java", "diffHunk": "@@ -126,11 +132,12 @@ void setUp() throws Exception {\n     public void tearDown() {\n         trafficController.stop();\n     }\n-\n+     \n     @RetryableTest\n     void services() throws Exception {\n-        final List<Service> services = graphql.services(new ServicesQuery().start(startTime).end(now()));\n+        List<Service> services = graphql.services(new ServicesQuery().start(startTime).end(now()));\n \n+        services = services.stream().filter(s -> !s.getLabel().equals(\"oap-server\")).collect(Collectors.toList());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "78274c7f842b086eb3aa9c87b8ce817bf77733da"}, "originalPosition": 38}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM0NDU5ODE4", "url": "https://github.com/apache/skywalking/pull/4936#pullrequestreview-434459818", "createdAt": "2020-06-20T23:40:19Z", "commit": {"oid": "78274c7f842b086eb3aa9c87b8ce817bf77733da"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMFQyMzo0MDoxOVrOGmo0vQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMFQyMzo0MDoxOVrOGmo0vQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzE2NzkzMw==", "bodyText": "Same question here. You have separated so11y verification.", "url": "https://github.com/apache/skywalking/pull/4936#discussion_r443167933", "createdAt": "2020-06-20T23:40:19Z", "author": {"login": "wu-sheng"}, "path": "test/e2e/e2e-test/src/test/java/org/apache/skywalking/e2e/storage/StorageE2E.java", "diffHunk": "@@ -112,8 +118,9 @@ public void tearDown() {\n \n     @RetryableTest\n     void services() throws Exception {\n-        final List<Service> services = graphql.services(new ServicesQuery().start(startTime).end(now()));\n+        List<Service> services = graphql.services(new ServicesQuery().start(startTime).end(now()));\n \n+        services = services.stream().filter(s -> !s.getLabel().equals(\"oap-server\")).collect(Collectors.toList());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "78274c7f842b086eb3aa9c87b8ce817bf77733da"}, "originalPosition": 34}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM0NDYwMTM4", "url": "https://github.com/apache/skywalking/pull/4936#pullrequestreview-434460138", "createdAt": "2020-06-20T23:50:29Z", "commit": {"oid": "78274c7f842b086eb3aa9c87b8ce817bf77733da"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1540afb5eea4cc9b42d844353f779201d88a5a7c", "author": {"user": {"login": "wu-sheng", "name": "\u5434\u665f Wu Sheng"}}, "url": "https://github.com/apache/skywalking/commit/1540afb5eea4cc9b42d844353f779201d88a5a7c", "committedDate": "2020-06-21T13:13:21Z", "message": "Merge branch 'master' into so11y-identity"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "eeb3f68cc6b53068738b778f741116029347c678", "author": {"user": {"login": "wu-sheng", "name": "\u5434\u665f Wu Sheng"}}, "url": "https://github.com/apache/skywalking/commit/eeb3f68cc6b53068738b778f741116029347c678", "committedDate": "2020-06-21T23:57:20Z", "message": "Merge branch 'master' into so11y-identity"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2256, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}