{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA2NjU5NDA5", "number": 5699, "title": "Add syncBulkActions config to avoid the large amount of metrics data written ES in a single sync bulk request.", "bodyText": "Please answer these questions before submitting a pull request\n\n\nWhy submit this pull request?\n\n\n Bug fix\n\n\n New feature provided\n\n\n Improve performance\n\n\nRelated issues\n\n\n\nBug fix\n\n\nBug description.\n\n\nHow to fix?\n\n\n\nNew feature or improvement\n\n\nDescribe the details and related test reports.\nAdd syncBulkActions config to avoid the large amount of metrics data written ES in a single bulk request.", "createdAt": "2020-10-20T10:08:19Z", "url": "https://github.com/apache/skywalking/pull/5699", "merged": true, "mergeCommit": {"oid": "287b8b9be5cef8f49205f34bafef694284022645"}, "closed": true, "closedAt": "2020-10-21T04:23:32Z", "author": {"login": "Ax1an"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdUV1WcAH2gAyNTA2NjU5NDA5OmRhYmMzZDU3NGU4ZjZjZjA0YjMzYjk3YjFmMGYxNTMwYjI3M2E2NTg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdUktJegH2gAyNTA2NjU5NDA5OjQ3Mzg2ZTgyNjM5YTM4YmEyMjY4ZTdkYWRhNDdmZmM1MjcyMjQ5YzY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "dabc3d574e8f6cf04b33b97b1f0f1530b273a658", "author": {"user": {"login": "Ax1an", "name": "Ax1an"}}, "url": "https://github.com/apache/skywalking/commit/dabc3d574e8f6cf04b33b97b1f0f1530b273a658", "committedDate": "2020-10-20T10:02:00Z", "message": "Add syncBulkActions config."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEyNjEzNDY5", "url": "https://github.com/apache/skywalking/pull/5699#pullrequestreview-512613469", "createdAt": "2020-10-20T11:39:59Z", "commit": {"oid": "dabc3d574e8f6cf04b33b97b1f0f1530b273a658"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4949ef86d3cf8e12b2d14f1c72822129515d8149", "author": {"user": {"login": "wu-sheng", "name": "\u5434\u665f Wu Sheng"}}, "url": "https://github.com/apache/skywalking/commit/4949ef86d3cf8e12b2d14f1c72822129515d8149", "committedDate": "2020-10-20T12:09:30Z", "message": "Merge branch 'master' into master"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEyNjY1Mzk2", "url": "https://github.com/apache/skywalking/pull/5699#pullrequestreview-512665396", "createdAt": "2020-10-20T12:45:21Z", "commit": {"oid": "4949ef86d3cf8e12b2d14f1c72822129515d8149"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQxMjo0NToyMVrOHk6gMQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQxMjo0NToyMVrOHk6gMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODQ2OTI5Nw==", "bodyText": "Why put this in 10k? Is there any testing, which could prove this provides better performance?", "url": "https://github.com/apache/skywalking/pull/5699#discussion_r508469297", "createdAt": "2020-10-20T12:45:21Z", "author": {"login": "wu-sheng"}, "path": "oap-server/server-storage-plugin/storage-elasticsearch-plugin/src/main/java/org/apache/skywalking/oap/server/storage/plugin/elasticsearch/StorageModuleElasticsearchConfig.java", "diffHunk": "@@ -52,6 +52,7 @@\n     private int superDatasetIndexShardsFactor = 5;\n     private int indexRefreshInterval = 2;\n     private int bulkActions = 2000;\n+    private int syncBulkActions = 10000;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4949ef86d3cf8e12b2d14f1c72822129515d8149"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "05d32e75e5d0288a5d67510222f66e67b42ad4b5", "author": {"user": {"login": "Ax1an", "name": "Ax1an"}}, "url": "https://github.com/apache/skywalking/commit/05d32e75e5d0288a5d67510222f66e67b42ad4b5", "committedDate": "2020-10-20T14:41:09Z", "message": "Add change logs for 8.2.0"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEzMjE3ODQx", "url": "https://github.com/apache/skywalking/pull/5699#pullrequestreview-513217841", "createdAt": "2020-10-21T00:01:21Z", "commit": {"oid": "05d32e75e5d0288a5d67510222f66e67b42ad4b5"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMVQwMDowMToyMlrOHlVe7A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMVQwMDowMToyMlrOHlVe7A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODkxMTM0MA==", "bodyText": "I think this description is not correct, you just separate the config, can't avoid that thing", "url": "https://github.com/apache/skywalking/pull/5699#discussion_r508911340", "createdAt": "2020-10-21T00:01:22Z", "author": {"login": "wu-sheng"}, "path": "changes/changes-8.2.0.md", "diffHunk": "@@ -87,6 +87,7 @@\n * Fix end time bug in the query process.\n * Fix `Exporter INCREMENT mode` is not working.\n * Fix an error when executing startup.bat when the log directory exists\n+* Add syncBulkActions config to avoid the large amount of metrics data written ES in a single sync bulk request.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "05d32e75e5d0288a5d67510222f66e67b42ad4b5"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b44a3424514df08bfa56c7d4dd456457beb7852d", "author": {"user": {"login": "Ax1an", "name": "Ax1an"}}, "url": "https://github.com/apache/skywalking/commit/b44a3424514df08bfa56c7d4dd456457beb7852d", "committedDate": "2020-10-21T01:56:58Z", "message": "Update change logs for 8.2.0"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a72205090d14ee062ae73d9d780a2a23b82807a4", "author": {"user": {"login": "Ax1an", "name": "Ax1an"}}, "url": "https://github.com/apache/skywalking/commit/a72205090d14ee062ae73d9d780a2a23b82807a4", "committedDate": "2020-10-21T02:46:01Z", "message": "Update documents and comments."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEzMjcyOTc2", "url": "https://github.com/apache/skywalking/pull/5699#pullrequestreview-513272976", "createdAt": "2020-10-21T03:02:45Z", "commit": {"oid": "a72205090d14ee062ae73d9d780a2a23b82807a4"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "47386e82639a38ba2268e7dada47ffc5272249c6", "author": {"user": {"login": "wu-sheng", "name": "\u5434\u665f Wu Sheng"}}, "url": "https://github.com/apache/skywalking/commit/47386e82639a38ba2268e7dada47ffc5272249c6", "committedDate": "2020-10-21T03:21:37Z", "message": "Merge branch 'master' into master"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1552, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}