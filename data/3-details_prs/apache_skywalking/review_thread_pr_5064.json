{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ2NDc3MTUy", "number": 5064, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOVQwOTozNzo1OVrOEM0dQA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOVQwOTozOTo1MVrOEM0f4A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgxODc3ODI0OnYy", "diffSide": "RIGHT", "path": "test/plugin/scenarios/vertx-web-3.54minus-scenario/config/expectedData.yaml", "isResolved": false, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOVQwOTozNzo1OVrOGvJiTw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOVQxMzoyMDozMlrOGvQznA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjA5MjQ5NQ==", "bodyText": "This span expected data seems in a different format.", "url": "https://github.com/apache/skywalking/pull/5064#discussion_r452092495", "createdAt": "2020-07-09T09:37:59Z", "author": {"login": "wu-sheng"}, "path": "test/plugin/scenarios/vertx-web-3.54minus-scenario/config/expectedData.yaml", "diffHunk": "@@ -97,10 +113,37 @@ segmentItems:\n             skipAnalysis: false\n             tags:\n               - {key: http.method, value: HEAD}\n-              - {key: url, value: /vertx-web-3_54minus-scenario/case/healthCheck}\n+              - {key: url, value: '/vertx-web-3_54minus-scenario/case/healthCheck'}\n+              - {key: status_code, value: '200'}\n+            refs:\n+              - {parentEndpoint: '{GET}/vertx-web-3_54minus-scenario/case/web-case', networkAddress: 'localhost:8080',\n+                 refType: CrossProcess, parentSpanId: 3, parentTraceSegmentId: not null,\n+                 parentServiceInstance: not null, parentService: vertx-web-3.54minus-scenario,\n+                 traceId: not null}\n+      - segmentId: not null\n+        spans:\n+          - {operationName: org.apache.skywalking.apm.testcase.vertxweb.controller.VertxWebController$$Lambda$.handle(RoutingContext),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6035f4869550009918b416df7811661c882f3de1"}, "originalPosition": 98}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjEwMzY0Ng==", "bodyText": "These operation names correspond to the lambdas which handle the response message. Like here: \n  \n    \n      skywalking/test/plugin/scenarios/vertx-web-3.6plus-scenario/src/main/java/org/apache/skywalking/apm/testcase/vertxweb/controller/VertxWebController.java\n    \n    \n         Line 47\n      in\n      6035f48\n    \n    \n    \n    \n\n        \n          \n           .send(healthCheck -> { \n        \n    \n  \n\n\nWhat else would you call it? If a class and method name can be determined you get: \n  \n    \n      skywalking/test/plugin/scenarios/vertx-web-3.6plus-scenario/config/expectedData.yaml\n    \n    \n         Line 152\n      in\n      6035f48\n    \n    \n    \n    \n\n        \n          \n           - {operationName: io.vertx.ext.web.handler.impl.BodyHandlerImpl.handle(RoutingContext),", "url": "https://github.com/apache/skywalking/pull/5064#discussion_r452103646", "createdAt": "2020-07-09T09:57:13Z", "author": {"login": "BFergerson"}, "path": "test/plugin/scenarios/vertx-web-3.54minus-scenario/config/expectedData.yaml", "diffHunk": "@@ -97,10 +113,37 @@ segmentItems:\n             skipAnalysis: false\n             tags:\n               - {key: http.method, value: HEAD}\n-              - {key: url, value: /vertx-web-3_54minus-scenario/case/healthCheck}\n+              - {key: url, value: '/vertx-web-3_54minus-scenario/case/healthCheck'}\n+              - {key: status_code, value: '200'}\n+            refs:\n+              - {parentEndpoint: '{GET}/vertx-web-3_54minus-scenario/case/web-case', networkAddress: 'localhost:8080',\n+                 refType: CrossProcess, parentSpanId: 3, parentTraceSegmentId: not null,\n+                 parentServiceInstance: not null, parentService: vertx-web-3.54minus-scenario,\n+                 traceId: not null}\n+      - segmentId: not null\n+        spans:\n+          - {operationName: org.apache.skywalking.apm.testcase.vertxweb.controller.VertxWebController$$Lambda$.handle(RoutingContext),", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjA5MjQ5NQ=="}, "originalCommit": {"oid": "6035f4869550009918b416df7811661c882f3de1"}, "originalPosition": 98}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjEzNzAxMw==", "bodyText": "Actually, I think I'm wrong here. I would expect an operation name with handleWebCase in there somewhere. I'm looking into it but FYI it's not an issue introduced with this PR.", "url": "https://github.com/apache/skywalking/pull/5064#discussion_r452137013", "createdAt": "2020-07-09T11:02:10Z", "author": {"login": "BFergerson"}, "path": "test/plugin/scenarios/vertx-web-3.54minus-scenario/config/expectedData.yaml", "diffHunk": "@@ -97,10 +113,37 @@ segmentItems:\n             skipAnalysis: false\n             tags:\n               - {key: http.method, value: HEAD}\n-              - {key: url, value: /vertx-web-3_54minus-scenario/case/healthCheck}\n+              - {key: url, value: '/vertx-web-3_54minus-scenario/case/healthCheck'}\n+              - {key: status_code, value: '200'}\n+            refs:\n+              - {parentEndpoint: '{GET}/vertx-web-3_54minus-scenario/case/web-case', networkAddress: 'localhost:8080',\n+                 refType: CrossProcess, parentSpanId: 3, parentTraceSegmentId: not null,\n+                 parentServiceInstance: not null, parentService: vertx-web-3.54minus-scenario,\n+                 traceId: not null}\n+      - segmentId: not null\n+        spans:\n+          - {operationName: org.apache.skywalking.apm.testcase.vertxweb.controller.VertxWebController$$Lambda$.handle(RoutingContext),", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjA5MjQ5NQ=="}, "originalCommit": {"oid": "6035f4869550009918b416df7811661c882f3de1"}, "originalPosition": 98}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjIxMTYxMg==", "bodyText": "It is good to know you find another issue, should I wait for you to fix this? My thought was just about the format, which doesn't separate the lines for each attribute.", "url": "https://github.com/apache/skywalking/pull/5064#discussion_r452211612", "createdAt": "2020-07-09T13:20:32Z", "author": {"login": "wu-sheng"}, "path": "test/plugin/scenarios/vertx-web-3.54minus-scenario/config/expectedData.yaml", "diffHunk": "@@ -97,10 +113,37 @@ segmentItems:\n             skipAnalysis: false\n             tags:\n               - {key: http.method, value: HEAD}\n-              - {key: url, value: /vertx-web-3_54minus-scenario/case/healthCheck}\n+              - {key: url, value: '/vertx-web-3_54minus-scenario/case/healthCheck'}\n+              - {key: status_code, value: '200'}\n+            refs:\n+              - {parentEndpoint: '{GET}/vertx-web-3_54minus-scenario/case/web-case', networkAddress: 'localhost:8080',\n+                 refType: CrossProcess, parentSpanId: 3, parentTraceSegmentId: not null,\n+                 parentServiceInstance: not null, parentService: vertx-web-3.54minus-scenario,\n+                 traceId: not null}\n+      - segmentId: not null\n+        spans:\n+          - {operationName: org.apache.skywalking.apm.testcase.vertxweb.controller.VertxWebController$$Lambda$.handle(RoutingContext),", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjA5MjQ5NQ=="}, "originalCommit": {"oid": "6035f4869550009918b416df7811661c882f3de1"}, "originalPosition": 98}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgxODc4NDk2OnYy", "diffSide": "RIGHT", "path": "test/plugin/scenarios/vertx-web-3.6plus-scenario/config/expectedData.yaml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOVQwOTozOTo1MVrOGvJmQg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOVQwOTozOTo1MVrOGvJmQg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjA5MzUwNg==", "bodyText": "Same format issue here.", "url": "https://github.com/apache/skywalking/pull/5064#discussion_r452093506", "createdAt": "2020-07-09T09:39:51Z", "author": {"login": "wu-sheng"}, "path": "test/plugin/scenarios/vertx-web-3.6plus-scenario/config/expectedData.yaml", "diffHunk": "@@ -97,10 +113,37 @@ segmentItems:\n             skipAnalysis: false\n             tags:\n               - {key: http.method, value: HEAD}\n-              - {key: url, value: /vertx-web-3_6plus-scenario/case/healthCheck}\n+              - {key: url, value: '/vertx-web-3_6plus-scenario/case/healthCheck'}\n+              - {key: status_code, value: '200'}\n+            refs:\n+              - {parentEndpoint: '{GET}/vertx-web-3_6plus-scenario/case/web-case', networkAddress: 'localhost:8080',\n+                 refType: CrossProcess, parentSpanId: 3, parentTraceSegmentId: not null,\n+                 parentServiceInstance: not null, parentService: vertx-web-3.6plus-scenario,\n+                 traceId: not null}\n+      - segmentId: not null\n+        spans:\n+          - {operationName: org.apache.skywalking.apm.testcase.vertxweb.controller.VertxWebController$$Lambda$.handle(RoutingContext),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6035f4869550009918b416df7811661c882f3de1"}, "originalPosition": 98}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 67, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}