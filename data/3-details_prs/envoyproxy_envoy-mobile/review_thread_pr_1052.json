{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc0MzYyNzI3", "number": 1052, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yN1QyMTowNDo1NVrOEdYzWA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yN1QyMToxNDowNFrOEdY-sg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk5MjUwNTIwOnYy", "diffSide": "RIGHT", "path": "library/swift/src/stats/Counter.swift", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yN1QyMTowNDo1NVrOHIhOAQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yN1QyMTowNDo1NVrOHIhOAQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODY5NDkxMw==", "bodyText": "no default value of an argument can be specified in Swift's protocol - that's why I need to have a method defined in an extension.", "url": "https://github.com/envoyproxy/envoy-mobile/pull/1052#discussion_r478694913", "createdAt": "2020-08-27T21:04:55Z", "author": {"login": "Augustyniak"}, "path": "library/swift/src/stats/Counter.swift", "diffHunk": "@@ -1,24 +1,15 @@\n-@_implementationOnly import EnvoyEngine\n import Foundation\n \n /// A time series counter.\n-@objcMembers\n-public class Counter: NSObject {\n-  private let series: String\n-  private weak var engine: EnvoyEngine?\n-\n-  init(elements: [Element], engine: EnvoyEngine) {\n-    self.series = elements.map { $0.value }.joined(separator: \".\")\n-    self.engine = engine\n-    super.init()\n-  }\n-\n+@objc\n+public protocol Counter: AnyObject {\n   /// Increment the counter by the given count.\n-  public func increment(count: Int = 1) {\n-    guard let engine = self.engine else {\n-      return\n-    }\n+  func increment(count: Int)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d959fd406858e39779aed35046bd4cb59475c9e0"}, "originalPosition": 23}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk5MjUzNDI2OnYy", "diffSide": "LEFT", "path": "library/swift/src/stats/Counter.swift", "isResolved": false, "comments": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yN1QyMToxNDowNFrOHIhfvQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yN1QyMTo1NDowNlrOHIilIg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODY5OTQ1Mw==", "bodyText": "nit: on android we usually use I to prefix an interface (similar to swift protocol). if this was an android class, it would be named ICounter.\npersonally i don't have too strong of an opinion on this, but Counter definitely doesn't not intuitively suggest an interface.\nis there a similar naming convention for swift @Augustyniak? im guessing not, but would like to confirm.", "url": "https://github.com/envoyproxy/envoy-mobile/pull/1052#discussion_r478699453", "createdAt": "2020-08-27T21:14:04Z", "author": {"login": "jingwei99"}, "path": "library/swift/src/stats/Counter.swift", "diffHunk": "@@ -1,24 +1,15 @@\n-@_implementationOnly import EnvoyEngine", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d959fd406858e39779aed35046bd4cb59475c9e0"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODcwMDA0Nw==", "bodyText": "looking at other protocols on iOS - StatsClient being one example - we don't use I prefix for protocols on iOS. Instead, we add Impl suffix to objects implementing a given protocol.", "url": "https://github.com/envoyproxy/envoy-mobile/pull/1052#discussion_r478700047", "createdAt": "2020-08-27T21:15:14Z", "author": {"login": "Augustyniak"}, "path": "library/swift/src/stats/Counter.swift", "diffHunk": "@@ -1,24 +1,15 @@\n-@_implementationOnly import EnvoyEngine", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODY5OTQ1Mw=="}, "originalCommit": {"oid": "d959fd406858e39779aed35046bd4cb59475c9e0"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODcxMzMwMg==", "bodyText": "looking at other protocols on iOS\n\nim assuming you are referencing to other protocols in this repo (instead of swift in general), my original question was more about swift in general.\nso for swift in general, is there such naming convention - again im assuming not, but would like to confirm.", "url": "https://github.com/envoyproxy/envoy-mobile/pull/1052#discussion_r478713302", "createdAt": "2020-08-27T21:45:11Z", "author": {"login": "jingwei99"}, "path": "library/swift/src/stats/Counter.swift", "diffHunk": "@@ -1,24 +1,15 @@\n-@_implementationOnly import EnvoyEngine", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODY5OTQ1Mw=="}, "originalCommit": {"oid": "d959fd406858e39779aed35046bd4cb59475c9e0"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODcxNjE5Mg==", "bodyText": "In general, I is not used as prefix for protocol names in Swift. This is what official Swift guidelines say:\n\nsource: https://swift.org/documentation/api-design-guidelines/", "url": "https://github.com/envoyproxy/envoy-mobile/pull/1052#discussion_r478716192", "createdAt": "2020-08-27T21:51:44Z", "author": {"login": "Augustyniak"}, "path": "library/swift/src/stats/Counter.swift", "diffHunk": "@@ -1,24 +1,15 @@\n-@_implementationOnly import EnvoyEngine", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODY5OTQ1Mw=="}, "originalCommit": {"oid": "d959fd406858e39779aed35046bd4cb59475c9e0"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODcxNjU4Mg==", "bodyText": "An I- prefix is much more a Java convention. In Swift, if a distinction is necessary, the -Protocol suffix would be more typical. Here, we've simply standardized on -Impl for the implementation, since it's common enough across languages, and what Envoy itself uses as well.", "url": "https://github.com/envoyproxy/envoy-mobile/pull/1052#discussion_r478716582", "createdAt": "2020-08-27T21:52:35Z", "author": {"login": "goaway"}, "path": "library/swift/src/stats/Counter.swift", "diffHunk": "@@ -1,24 +1,15 @@\n-@_implementationOnly import EnvoyEngine", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODY5OTQ1Mw=="}, "originalCommit": {"oid": "d959fd406858e39779aed35046bd4cb59475c9e0"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODcxNzIxOA==", "bodyText": "i see, thank you both.", "url": "https://github.com/envoyproxy/envoy-mobile/pull/1052#discussion_r478717218", "createdAt": "2020-08-27T21:54:06Z", "author": {"login": "jingwei99"}, "path": "library/swift/src/stats/Counter.swift", "diffHunk": "@@ -1,24 +1,15 @@\n-@_implementationOnly import EnvoyEngine", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODY5OTQ1Mw=="}, "originalCommit": {"oid": "d959fd406858e39779aed35046bd4cb59475c9e0"}, "originalPosition": 1}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 585, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}