{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMwMjc4NDQz", "number": 890, "title": "android: update to use androidx and fixate sdk version to be 29", "bodyText": "Getting a bunch of strange build errors with using the legacy support v7 library from Android.\nThis change is to update to use the supported androidx libraries instead. The fixation of sdk api 29 is so we can target newer sdk apis. It shouldn't impact the NDK target version (goal is 21 but is currently 24)\nSigned-off-by: Alan Chiu achiu@lyft.com\nFor an explanation of how to fill out the fields, please see the relevant section\nin PULL_REQUESTS.md\nDescription: android: update to use androidx and fixate sdk version to be 29\nRisk Level: low\nTesting: ci\nDocs Changes: n/a\nRelease Notes: n/a\n[Optional Fixes #Issue]\n[Optional Deprecated:]", "createdAt": "2020-06-07T18:33:52Z", "url": "https://github.com/envoyproxy/envoy-mobile/pull/890", "merged": true, "mergeCommit": {"oid": "a665ec791ab6403490e95b5a17add838c7f3d3a1"}, "closed": true, "closedAt": "2020-07-14T21:28:56Z", "author": {"login": "buildbreaker"}, "timelineItems": {"totalCount": 18, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcp_QvggBqjM0MzEyMzg3MTc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc05ob7AFqTQ0ODMyMzQ1OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c9af6e01ebae137a5b8bba37be8c4ba00cd44f59", "author": {"user": {"login": "buildbreaker", "name": "Alan Chiu"}}, "url": "https://github.com/envoyproxy/envoy-mobile/commit/c9af6e01ebae137a5b8bba37be8c4ba00cd44f59", "committedDate": "2020-06-10T19:58:06Z", "message": "?\n\nSigned-off-by: Alan Chiu <achiu@lyft.com>"}, "afterCommit": {"oid": "069ffd3fc8116327e9f0d2ef85eed644abfc0ca5", "author": {"user": {"login": "buildbreaker", "name": "Alan Chiu"}}, "url": "https://github.com/envoyproxy/envoy-mobile/commit/069ffd3fc8116327e9f0d2ef85eed644abfc0ca5", "committedDate": "2020-06-10T19:53:53Z", "message": "ci: add envoy mobile path configurability\n\nSigned-off-by: Alan Chiu <achiu@lyft.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "069ffd3fc8116327e9f0d2ef85eed644abfc0ca5", "author": {"user": {"login": "buildbreaker", "name": "Alan Chiu"}}, "url": "https://github.com/envoyproxy/envoy-mobile/commit/069ffd3fc8116327e9f0d2ef85eed644abfc0ca5", "committedDate": "2020-06-10T19:53:53Z", "message": "ci: add envoy mobile path configurability\n\nSigned-off-by: Alan Chiu <achiu@lyft.com>"}, "afterCommit": {"oid": "f784472fff4eae688575d698762eaf9e420e3168", "author": {"user": {"login": "buildbreaker", "name": "Alan Chiu"}}, "url": "https://github.com/envoyproxy/envoy-mobile/commit/f784472fff4eae688575d698762eaf9e420e3168", "committedDate": "2020-06-07T18:55:41Z", "message": "fix\n\nSigned-off-by: Alan Chiu <achiu@lyft.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMyOTQ2MzQx", "url": "https://github.com/envoyproxy/envoy-mobile/pull/890#pullrequestreview-432946341", "createdAt": "2020-06-18T05:15:16Z", "commit": {"oid": "f784472fff4eae688575d698762eaf9e420e3168"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f784472fff4eae688575d698762eaf9e420e3168", "author": {"user": {"login": "buildbreaker", "name": "Alan Chiu"}}, "url": "https://github.com/envoyproxy/envoy-mobile/commit/f784472fff4eae688575d698762eaf9e420e3168", "committedDate": "2020-06-07T18:55:41Z", "message": "fix\n\nSigned-off-by: Alan Chiu <achiu@lyft.com>"}, "afterCommit": {"oid": "8803b9ea7aa9dabf047c3c63ac30edfeabbe7988", "author": {"user": {"login": "buildbreaker", "name": "Alan Chiu"}}, "url": "https://github.com/envoyproxy/envoy-mobile/commit/8803b9ea7aa9dabf047c3c63ac30edfeabbe7988", "committedDate": "2020-06-18T16:07:46Z", "message": "fix\n\nSigned-off-by: Alan Chiu <achiu@lyft.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8803b9ea7aa9dabf047c3c63ac30edfeabbe7988", "author": {"user": {"login": "buildbreaker", "name": "Alan Chiu"}}, "url": "https://github.com/envoyproxy/envoy-mobile/commit/8803b9ea7aa9dabf047c3c63ac30edfeabbe7988", "committedDate": "2020-06-18T16:07:46Z", "message": "fix\n\nSigned-off-by: Alan Chiu <achiu@lyft.com>"}, "afterCommit": {"oid": "edf2901471edf6ef7ffc00639a9c67a4e92e83cb", "author": {"user": {"login": "buildbreaker", "name": "Alan Chiu"}}, "url": "https://github.com/envoyproxy/envoy-mobile/commit/edf2901471edf6ef7ffc00639a9c67a4e92e83cb", "committedDate": "2020-06-29T19:50:48Z", "message": "fix\n\nSigned-off-by: Alan Chiu <achiu@lyft.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "edf2901471edf6ef7ffc00639a9c67a4e92e83cb", "author": {"user": {"login": "buildbreaker", "name": "Alan Chiu"}}, "url": "https://github.com/envoyproxy/envoy-mobile/commit/edf2901471edf6ef7ffc00639a9c67a4e92e83cb", "committedDate": "2020-06-29T19:50:48Z", "message": "fix\n\nSigned-off-by: Alan Chiu <achiu@lyft.com>"}, "afterCommit": {"oid": "1f03df42f88b1b6f69d5464bfc609be04c94e04d", "author": {"user": {"login": "buildbreaker", "name": "Alan Chiu"}}, "url": "https://github.com/envoyproxy/envoy-mobile/commit/1f03df42f88b1b6f69d5464bfc609be04c94e04d", "committedDate": "2020-06-30T20:31:48Z", "message": "Workaround for example builds\n\nSigned-off-by: Alan Chiu <achiu@lyft.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "290b49bf1a57f6b5869beeef3ebf31a7dfe57095", "author": {"user": {"login": "buildbreaker", "name": "Alan Chiu"}}, "url": "https://github.com/envoyproxy/envoy-mobile/commit/290b49bf1a57f6b5869beeef3ebf31a7dfe57095", "committedDate": "2020-07-06T21:53:23Z", "message": "ktlint\n\nSigned-off-by: Alan Chiu <achiu@lyft.com>"}, "afterCommit": {"oid": "527038684953650305ba50ae05b00f125b422deb", "author": {"user": {"login": "buildbreaker", "name": "Alan Chiu"}}, "url": "https://github.com/envoyproxy/envoy-mobile/commit/527038684953650305ba50ae05b00f125b422deb", "committedDate": "2020-07-09T21:29:59Z", "message": "ktlint\n\nSigned-off-by: Alan Chiu <achiu@lyft.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9a2809aa263232d4ae61faefcfe7d13b84d048ea", "author": {"user": {"login": "buildbreaker", "name": "Alan Chiu"}}, "url": "https://github.com/envoyproxy/envoy-mobile/commit/9a2809aa263232d4ae61faefcfe7d13b84d048ea", "committedDate": "2020-07-10T23:15:23Z", "message": "Workaround for example builds\n\nSigned-off-by: Alan Chiu <achiu@lyft.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c78d825479df75b30c3d5edb45482b6cdbe9b350", "author": {"user": {"login": "buildbreaker", "name": "Alan Chiu"}}, "url": "https://github.com/envoyproxy/envoy-mobile/commit/c78d825479df75b30c3d5edb45482b6cdbe9b350", "committedDate": "2020-07-10T23:15:23Z", "message": "ktlint\n\nSigned-off-by: Alan Chiu <achiu@lyft.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "527038684953650305ba50ae05b00f125b422deb", "author": {"user": {"login": "buildbreaker", "name": "Alan Chiu"}}, "url": "https://github.com/envoyproxy/envoy-mobile/commit/527038684953650305ba50ae05b00f125b422deb", "committedDate": "2020-07-09T21:29:59Z", "message": "ktlint\n\nSigned-off-by: Alan Chiu <achiu@lyft.com>"}, "afterCommit": {"oid": "c78d825479df75b30c3d5edb45482b6cdbe9b350", "author": {"user": {"login": "buildbreaker", "name": "Alan Chiu"}}, "url": "https://github.com/envoyproxy/envoy-mobile/commit/c78d825479df75b30c3d5edb45482b6cdbe9b350", "committedDate": "2020-07-10T23:15:23Z", "message": "ktlint\n\nSigned-off-by: Alan Chiu <achiu@lyft.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4d63c89044759aa04fed245f9c5f5a790b94bcc2", "author": {"user": {"login": "buildbreaker", "name": "Alan Chiu"}}, "url": "https://github.com/envoyproxy/envoy-mobile/commit/4d63c89044759aa04fed245f9c5f5a790b94bcc2", "committedDate": "2020-07-10T23:15:48Z", "message": "fix\n\nSigned-off-by: Alan Chiu <achiu@lyft.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ2NzU4NTQ2", "url": "https://github.com/envoyproxy/envoy-mobile/pull/890#pullrequestreview-446758546", "createdAt": "2020-07-11T00:20:36Z", "commit": {"oid": "4d63c89044759aa04fed245f9c5f5a790b94bcc2"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMVQwMDoyMDozNlrOGwI10w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMVQwMDoyMDozNlrOGwI10w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzEyOTY4Mw==", "bodyText": "I recommend using the latest Android X releases listed under the \"stable\" column here: https://developer.android.com/jetpack/androidx/versions\nThe 1.0.0 versions are also super (like around September 2018 or something).", "url": "https://github.com/envoyproxy/envoy-mobile/pull/890#discussion_r453129683", "createdAt": "2020-07-11T00:20:36Z", "author": {"login": "alexjlockwood"}, "path": "bazel/envoy_mobile_dependencies.bzl", "diffHunk": "@@ -22,7 +22,7 @@ def kotlin_dependencies():\n         artifacts = [\n             # Kotlin\n             \"org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.3.11\",\n-\n+            \"androidx.recyclerview:recyclerview:1.0.0\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4d63c89044759aa04fed245f9c5f5a790b94bcc2"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "780835eb63421e5e494baff3054fa230fb0570ab", "author": {"user": {"login": "buildbreaker", "name": "Alan Chiu"}}, "url": "https://github.com/envoyproxy/envoy-mobile/commit/780835eb63421e5e494baff3054fa230fb0570ab", "committedDate": "2020-07-11T00:21:54Z", "message": "1.1\n\nSigned-off-by: Alan Chiu <achiu@lyft.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ3NTk3NDYx", "url": "https://github.com/envoyproxy/envoy-mobile/pull/890#pullrequestreview-447597461", "createdAt": "2020-07-13T20:59:33Z", "commit": {"oid": "780835eb63421e5e494baff3054fa230fb0570ab"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QyMDo1OTozM1rOGw5pjQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QyMDo1OTozM1rOGw5pjQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzkyOTM1Nw==", "bodyText": "Revert?", "url": "https://github.com/envoyproxy/envoy-mobile/pull/890#discussion_r453929357", "createdAt": "2020-07-13T20:59:33Z", "author": {"login": "rebello95"}, "path": "WORKSPACE", "diffHunk": "@@ -37,8 +37,8 @@ envoy_mobile_dependencies()\n load(\"@envoy_mobile//bazel:envoy_mobile_toolchains.bzl\", \"envoy_mobile_toolchains\")\n envoy_mobile_toolchains()\n \n-# Fixing to API 24. Need to lower to API 21: https://github.com/lyft/envoy-mobile/issues/936\n # Note: proguard is failing for API 30+\n-android_sdk_repository(name = \"androidsdk\", api_level = 24)\n+android_sdk_repository(name = \"androidsdk\", api_level = 29)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "780835eb63421e5e494baff3054fa230fb0570ab"}, "originalPosition": 7}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ3NTk4NDU4", "url": "https://github.com/envoyproxy/envoy-mobile/pull/890#pullrequestreview-447598458", "createdAt": "2020-07-13T21:01:09Z", "commit": {"oid": "780835eb63421e5e494baff3054fa230fb0570ab"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QyMTowMTowOVrOGw5tAw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QyMTowMTowOVrOGw5tAw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzkzMDI0Mw==", "bodyText": "If this is only used in the example app, can it be removed from these dependencies?", "url": "https://github.com/envoyproxy/envoy-mobile/pull/890#discussion_r453930243", "createdAt": "2020-07-13T21:01:09Z", "author": {"login": "goaway"}, "path": "bazel/envoy_mobile_dependencies.bzl", "diffHunk": "@@ -22,7 +22,7 @@ def kotlin_dependencies():\n         artifacts = [\n             # Kotlin\n             \"org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.3.11\",\n-\n+            \"androidx.recyclerview:recyclerview:1.1.0\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "780835eb63421e5e494baff3054fa230fb0570ab"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ3NTk4NjAy", "url": "https://github.com/envoyproxy/envoy-mobile/pull/890#pullrequestreview-447598602", "createdAt": "2020-07-13T21:01:23Z", "commit": {"oid": "780835eb63421e5e494baff3054fa230fb0570ab"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5edfb08cea00b9ac34b20c1a1c12f90c686d8a19", "author": {"user": {"login": "buildbreaker", "name": "Alan Chiu"}}, "url": "https://github.com/envoyproxy/envoy-mobile/commit/5edfb08cea00b9ac34b20c1a1c12f90c686d8a19", "committedDate": "2020-07-14T17:35:30Z", "message": "mistake\n\nSigned-off-by: Alan Chiu <achiu@lyft.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ4MzIzNDU4", "url": "https://github.com/envoyproxy/envoy-mobile/pull/890#pullrequestreview-448323458", "createdAt": "2020-07-14T17:38:54Z", "commit": {"oid": "5edfb08cea00b9ac34b20c1a1c12f90c686d8a19"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4255, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}