{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc0OTQxNTQ3", "number": 1055, "title": "docs: update doc to reflect recent api changes", "bodyText": "Updates the Start Envoy section and adds doc for Stats to reflect the api changes introduced by b9a4334\nSigned-off-by: Jingwei Hao jingweih@lyft.com", "createdAt": "2020-08-27T20:49:32Z", "url": "https://github.com/envoyproxy/envoy-mobile/pull/1055", "merged": true, "mergeCommit": {"oid": "6ef1a71718f9dc7a85d6dcb6325ba02babb8da33"}, "closed": true, "closedAt": "2020-08-28T20:13:01Z", "author": {"login": "jingwei99"}, "timelineItems": {"totalCount": 16, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdDG2f_AH2gAyNDc0OTQxNTQ3OjdjMjdkMzFkMDViNDViNTczYWI1OWQyOTI0MmM1NWYyODEyMDgzODg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdDYODogBqjM3MDQ5MTA0NDQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "7c27d31d05b45b573ab59d29242c55f281208388", "author": {"user": {"login": "jingwei99", "name": "Jingwei"}}, "url": "https://github.com/envoyproxy/envoy-mobile/commit/7c27d31d05b45b573ab59d29242c55f281208388", "committedDate": "2020-08-27T20:57:58Z", "message": "docs: update doc to reflect recent api changes\n\nSigned-off-by: Jingwei Hao <jingweih@lyft.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ef442f42ff257c94ecc3f6cc3c9115567e45d2fe", "author": {"user": {"login": "jingwei99", "name": "Jingwei"}}, "url": "https://github.com/envoyproxy/envoy-mobile/commit/ef442f42ff257c94ecc3f6cc3c9115567e45d2fe", "committedDate": "2020-08-27T20:58:28Z", "message": "lint\n\nSigned-off-by: Jingwei Hao <jingweih@lyft.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e9c5c4c8b0f4a2206788c885f987aa7586a32fc4", "author": {"user": {"login": "jingwei99", "name": "Jingwei"}}, "url": "https://github.com/envoyproxy/envoy-mobile/commit/e9c5c4c8b0f4a2206788c885f987aa7586a32fc4", "committedDate": "2020-08-27T20:40:53Z", "message": "docs: update doc to reflect recent api changes\n\nSigned-off-by: Jingwei Hao <jingweih@lyft.com>"}, "afterCommit": {"oid": "ef442f42ff257c94ecc3f6cc3c9115567e45d2fe", "author": {"user": {"login": "jingwei99", "name": "Jingwei"}}, "url": "https://github.com/envoyproxy/envoy-mobile/commit/ef442f42ff257c94ecc3f6cc3c9115567e45d2fe", "committedDate": "2020-08-27T20:58:28Z", "message": "lint\n\nSigned-off-by: Jingwei Hao <jingweih@lyft.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc3MTM4NjI0", "url": "https://github.com/envoyproxy/envoy-mobile/pull/1055#pullrequestreview-477138624", "createdAt": "2020-08-27T22:58:26Z", "commit": {"oid": "ef442f42ff257c94ecc3f6cc3c9115567e45d2fe"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yN1QyMjo1ODoyNlrOHIj_5g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yN1QyMjo1ODoyNlrOHIj_5g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODc0MDQ1NA==", "bodyText": "Formatting issues, it's required that the ------ be the same length as the thing it's trying to contain", "url": "https://github.com/envoyproxy/envoy-mobile/pull/1055#discussion_r478740454", "createdAt": "2020-08-27T22:58:26Z", "author": {"login": "buildbreaker"}, "path": "docs/root/api/starting_envoy.rst", "diffHunk": "@@ -7,32 +7,34 @@ Starting Envoy\n ``StreamClient``\n ----------------\n \n-Starting an instance of Envoy Mobile for performing requests is done by creating a ``StreamClient``.\n+Starting an instance of Envoy Mobile is done by building the ``Engine`` instance with ``EngineBuilder``. Requests are performed by the ``StatsClient`` provided by ``Engine``.\n \n-To do so, create a ``StreamClientBuilder`` and call ``build()`` (see below).\n+To obtain a ``StatsClient``, call ``streamClient()`` on the ``Engine`` instance (see below).\n \n-After the client is created, it should be stored and used to start network requests/streams.\n+After the stream client is obtain, it should be stored and used to start network requests/streams.\n \n **Kotlin example**::\n \n-  val streamClient = AndroidStreamClientBuilder(getApplication())\n+  val streamClient = AndroidEngineBuilder(getApplication())\n     .addLogLevel(LogLevel.WARN)\n     ...\n     .build()\n+    .streamClient()\n \n **Swift example**::\n \n-  let streamClient = try StreamClientBuilder()\n+  let streamClient = try EngineBuilder()\n     .addLogLevel(.warn)\n     ...\n     .build()\n+    .streamClient()\n \n -----------------------\n-``StreamClientBuilder``\n+``EngineBuilder``\n -----------------------", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ef442f42ff257c94ecc3f6cc3c9115567e45d2fe"}, "originalPosition": 34}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc3MTM4ODM4", "url": "https://github.com/envoyproxy/envoy-mobile/pull/1055#pullrequestreview-477138838", "createdAt": "2020-08-27T22:59:02Z", "commit": {"oid": "ef442f42ff257c94ecc3f6cc3c9115567e45d2fe"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yN1QyMjo1OTowMlrOHIkAlQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yN1QyMjo1OTowMlrOHIkAlQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODc0MDYyOQ==", "bodyText": "Same here", "url": "https://github.com/envoyproxy/envoy-mobile/pull/1055#discussion_r478740629", "createdAt": "2020-08-27T22:59:02Z", "author": {"login": "buildbreaker"}, "path": "docs/root/api/stats.rst", "diffHunk": "@@ -0,0 +1,22 @@\n+.. _api_stats:\n+\n+Stats\n+=========================", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ef442f42ff257c94ecc3f6cc3c9115567e45d2fe"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc3MTM4OTc4", "url": "https://github.com/envoyproxy/envoy-mobile/pull/1055#pullrequestreview-477138978", "createdAt": "2020-08-27T22:59:27Z", "commit": {"oid": "ef442f42ff257c94ecc3f6cc3c9115567e45d2fe"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yN1QyMjo1OToyN1rOHIkBHw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yN1QyMjo1OToyN1rOHIkBHw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODc0MDc2Nw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            ----------------\n          \n          \n            \n            ``StatsClient``\n          \n          \n            \n            ----------------\n          \n          \n            \n            ---------------\n          \n          \n            \n            ``StatsClient``\n          \n          \n            \n            ---------------\n          \n      \n    \n    \n  \n\nLooks like it's one character off", "url": "https://github.com/envoyproxy/envoy-mobile/pull/1055#discussion_r478740767", "createdAt": "2020-08-27T22:59:27Z", "author": {"login": "buildbreaker"}, "path": "docs/root/api/stats.rst", "diffHunk": "@@ -0,0 +1,22 @@\n+.. _api_stats:\n+\n+Stats\n+=========================\n+\n+----------------\n+``StatsClient``\n+----------------", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ef442f42ff257c94ecc3f6cc3c9115567e45d2fe"}, "originalPosition": 8}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc3MTM5NTUy", "url": "https://github.com/envoyproxy/envoy-mobile/pull/1055#pullrequestreview-477139552", "createdAt": "2020-08-27T23:00:54Z", "commit": {"oid": "ef442f42ff257c94ecc3f6cc3c9115567e45d2fe"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c469f784569dbc609935f5d055a4917a93307982", "author": {"user": {"login": "jingwei99", "name": "Jingwei"}}, "url": "https://github.com/envoyproxy/envoy-mobile/commit/c469f784569dbc609935f5d055a4917a93307982", "committedDate": "2020-08-27T23:17:58Z", "message": "format\n\nSigned-off-by: Jingwei Hao <jingweih@lyft.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc3MTQ4MzMw", "url": "https://github.com/envoyproxy/envoy-mobile/pull/1055#pullrequestreview-477148330", "createdAt": "2020-08-27T23:26:06Z", "commit": {"oid": "c469f784569dbc609935f5d055a4917a93307982"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yN1QyMzoyNjowNlrOHIkh9w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yN1QyMzoyNjowNlrOHIkh9w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODc0OTE3NQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              statsClient.counter(Element(\"foo\"), Element\"bar\"))\n          \n          \n            \n              statsClient.counter(Element(\"foo\"), Element(\"bar\"))", "url": "https://github.com/envoyproxy/envoy-mobile/pull/1055#discussion_r478749175", "createdAt": "2020-08-27T23:26:06Z", "author": {"login": "buildbreaker"}, "path": "docs/root/api/stats.rst", "diffHunk": "@@ -0,0 +1,22 @@\n+.. _api_stats:\n+\n+Stats\n+=====\n+\n+---------------\n+``StatsClient``\n+---------------\n+\n+To use Envoy Mobile's stats function, obtain an instance of ``StatsClient`` from ``Engine`` (refer to :ref:`api_starting_envoy` for building an engine instance), and store the stats client to create ``Counter`` instances.\n+\n+**Kotlin example**::\n+\n+  statsClient.counter(Element(\"foo\"), Element\"bar\"))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c469f784569dbc609935f5d055a4917a93307982"}, "originalPosition": 14}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc3MTQ4NTYw", "url": "https://github.com/envoyproxy/envoy-mobile/pull/1055#pullrequestreview-477148560", "createdAt": "2020-08-27T23:26:49Z", "commit": {"oid": "c469f784569dbc609935f5d055a4917a93307982"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yN1QyMzoyNjo0OVrOHIkiww==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yN1QyMzoyNjo0OVrOHIkiww==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODc0OTM3OQ==", "bodyText": "Could we have examples on this as well?", "url": "https://github.com/envoyproxy/envoy-mobile/pull/1055#discussion_r478749379", "createdAt": "2020-08-27T23:26:49Z", "author": {"login": "buildbreaker"}, "path": "docs/root/api/stats.rst", "diffHunk": "@@ -0,0 +1,22 @@\n+.. _api_stats:\n+\n+Stats\n+=====\n+\n+---------------\n+``StatsClient``\n+---------------\n+\n+To use Envoy Mobile's stats function, obtain an instance of ``StatsClient`` from ``Engine`` (refer to :ref:`api_starting_envoy` for building an engine instance), and store the stats client to create ``Counter`` instances.\n+\n+**Kotlin example**::\n+\n+  statsClient.counter(Element(\"foo\"), Element\"bar\"))\n+\n+**Swift example**::\n+\n+  statsClient.counter(elements: [\"foo\", \"bar\"])\n+\n+The ``counter`` method from stats client takes a variable number of elements and returns a ``Counter`` instance, the elements are used to for a dot(.) delimited string. For the example code above, the formed string is ``foo.bar``, this string serves as the identifier of the counter.\n+\n+Store the counter instance, and call the ``increment`` method to increment the counter wherever it applies.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c469f784569dbc609935f5d055a4917a93307982"}, "originalPosition": 22}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "83d623b5886c39c7bde0266ed72d90e98aee71b3", "author": {"user": {"login": "jingwei99", "name": "Jingwei"}}, "url": "https://github.com/envoyproxy/envoy-mobile/commit/83d623b5886c39c7bde0266ed72d90e98aee71b3", "committedDate": "2020-08-28T00:53:14Z", "message": "example\n\nSigned-off-by: Jingwei Hao <jingweih@lyft.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0af5117bb2ce223091d5a74cf285d36ef98e469e", "author": {"user": {"login": "jingwei99", "name": "Jingwei"}}, "url": "https://github.com/envoyproxy/envoy-mobile/commit/0af5117bb2ce223091d5a74cf285d36ef98e469e", "committedDate": "2020-08-28T00:53:39Z", "message": "lint\n\nSigned-off-by: Jingwei Hao <jingweih@lyft.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1604684b22a08a682da09184453a651832b1db27", "author": {"user": {"login": "jingwei99", "name": "Jingwei"}}, "url": "https://github.com/envoyproxy/envoy-mobile/commit/1604684b22a08a682da09184453a651832b1db27", "committedDate": "2020-08-28T00:45:19Z", "message": "example\n\nSigned-off-by: Jingwei Hao <jingweih@lyft.com>"}, "afterCommit": {"oid": "0af5117bb2ce223091d5a74cf285d36ef98e469e", "author": {"user": {"login": "jingwei99", "name": "Jingwei"}}, "url": "https://github.com/envoyproxy/envoy-mobile/commit/0af5117bb2ce223091d5a74cf285d36ef98e469e", "committedDate": "2020-08-28T00:53:39Z", "message": "lint\n\nSigned-off-by: Jingwei Hao <jingweih@lyft.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc3ODkyMjIw", "url": "https://github.com/envoyproxy/envoy-mobile/pull/1055#pullrequestreview-477892220", "createdAt": "2020-08-28T17:06:06Z", "commit": {"oid": "366d26db4aac2ff58ce017734703f2d8ecc6f468"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cb210cb761164f886512eca0568f1e0bf9f9ea8c", "author": {"user": {"login": "jingwei99", "name": "Jingwei"}}, "url": "https://github.com/envoyproxy/envoy-mobile/commit/cb210cb761164f886512eca0568f1e0bf9f9ea8c", "committedDate": "2020-08-28T17:11:34Z", "message": "Update stats.rst\n\nSigned-off-by: Jingwei Hao <jingweih@lyft.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "366d26db4aac2ff58ce017734703f2d8ecc6f468", "author": {"user": {"login": "jingwei99", "name": "Jingwei"}}, "url": "https://github.com/envoyproxy/envoy-mobile/commit/366d26db4aac2ff58ce017734703f2d8ecc6f468", "committedDate": "2020-08-28T17:05:20Z", "message": "Update stats.rst"}, "afterCommit": {"oid": "cb210cb761164f886512eca0568f1e0bf9f9ea8c", "author": {"user": {"login": "jingwei99", "name": "Jingwei"}}, "url": "https://github.com/envoyproxy/envoy-mobile/commit/cb210cb761164f886512eca0568f1e0bf9f9ea8c", "committedDate": "2020-08-28T17:11:34Z", "message": "Update stats.rst\n\nSigned-off-by: Jingwei Hao <jingweih@lyft.com>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3995, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}