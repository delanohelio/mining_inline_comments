{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY5NDIyMTM0", "number": 1043, "title": "jni: extract utility library", "bodyText": "Description: Phase one of JNI cleanup. Moves utility functions to a dedicated library.\nRisk: Low\nTesting: CI and Local\nSigned-off-by: Mike Schore mike.schore@gmail.com", "createdAt": "2020-08-18T11:04:18Z", "url": "https://github.com/envoyproxy/envoy-mobile/pull/1043", "merged": true, "mergeCommit": {"oid": "a9f1a81996ad76321a0411afb8069dfe09215b13"}, "closed": true, "closedAt": "2020-08-24T17:55:46Z", "author": {"login": "goaway"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdAE9YZAH2gAyNDY5NDIyMTM0OmQwNWI5OTc4YjIzOTJkMjlhYTUyNWU0ZDYwZTA3MDlkNTM2NmE0MDk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdA2uvrAFqTQ3MTk4NDAxMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "d05b9978b2392d29aa525e4d60e0709d5366a409", "author": {"user": {"login": "goaway", "name": "Mike Schore"}}, "url": "https://github.com/envoyproxy/envoy-mobile/commit/d05b9978b2392d29aa525e4d60e0709d5366a409", "committedDate": "2020-08-18T11:03:54Z", "message": "jni: extract utility library\n\nSigned-off-by: Mike Schore <mike.schore@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3049bf1e6601d697e08e68f480b0ce47d209e186", "author": {"user": {"login": "goaway", "name": "Mike Schore"}}, "url": "https://github.com/envoyproxy/envoy-mobile/commit/3049bf1e6601d697e08e68f480b0ce47d209e186", "committedDate": "2020-08-20T10:33:01Z", "message": "fixes\n\nSigned-off-by: Mike Schore <mike.schore@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ed0049161b0cbe7284eadef10ab84dcac0b34ecc", "author": {"user": {"login": "goaway", "name": "Mike Schore"}}, "url": "https://github.com/envoyproxy/envoy-mobile/commit/ed0049161b0cbe7284eadef10ab84dcac0b34ecc", "committedDate": "2020-08-20T10:33:21Z", "message": "format\n\nSigned-off-by: Mike Schore <mike.schore@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcxNDcwNDQx", "url": "https://github.com/envoyproxy/envoy-mobile/pull/1043#pullrequestreview-471470441", "createdAt": "2020-08-20T10:35:37Z", "commit": {"oid": "ed0049161b0cbe7284eadef10ab84dcac0b34ecc"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMFQxMDozNTozN1rOHD6hHA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMFQxMDozNTozN1rOHD6hHA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Mzg2NjUyNA==", "bodyText": "Just acknowledging that these all need docstrings, but the implementations are reviewable.", "url": "https://github.com/envoyproxy/envoy-mobile/pull/1043#discussion_r473866524", "createdAt": "2020-08-20T10:35:37Z", "author": {"login": "goaway"}, "path": "library/common/jni/jni_utility.h", "diffHunk": "@@ -0,0 +1,25 @@\n+#include <jni.h>\n+\n+#include \"library/common/types/c_types.h\"\n+\n+// NOLINT(namespace-envoy)\n+\n+void set_vm(JavaVM* vm);\n+\n+JavaVM* get_vm();\n+\n+JNIEnv* get_env();\n+\n+void jvm_detach_thread();\n+\n+void jni_delete_global_ref(void* context);\n+\n+void jni_delete_const_global_ref(const void* context);\n+\n+int unbox_integer(JNIEnv* env, jobject boxedInteger);\n+\n+envoy_data array_to_native_data(JNIEnv* env, jbyteArray j_data);\n+\n+envoy_data buffer_to_native_data(JNIEnv* env, jobject j_data);\n+\n+envoy_headers to_native_headers(JNIEnv* env, jobjectArray headers);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ed0049161b0cbe7284eadef10ab84dcac0b34ecc"}, "originalPosition": 25}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcxOTg0MDEx", "url": "https://github.com/envoyproxy/envoy-mobile/pull/1043#pullrequestreview-471984011", "createdAt": "2020-08-20T21:03:10Z", "commit": {"oid": "ed0049161b0cbe7284eadef10ab84dcac0b34ecc"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3981, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}