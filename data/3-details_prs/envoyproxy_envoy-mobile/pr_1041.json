{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY5MzQzODE5", "number": 1041, "title": "iOS example apps: improve header rendering", "bodyText": "Description: Allows rendering of additional headers. Leftover from testing platform filters; seemed worth cleaning up and merging.\nSigned-off-by: Mike Schore mike.schore@gmail.com", "createdAt": "2020-08-18T09:56:21Z", "url": "https://github.com/envoyproxy/envoy-mobile/pull/1041", "merged": true, "mergeCommit": {"oid": "12726861d922c147496507c2b93eaa78d27ab554"}, "closed": true, "closedAt": "2020-08-20T03:43:58Z", "author": {"login": "goaway"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdAD6MlgH2gAyNDY5MzQzODE5OjZhZjczOWQ1YTczNDcwMzY5N2RlNjE4MTM2NTEzYzUyMDc0ZDE2NGI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdALICNAH2gAyNDY5MzQzODE5OmQ3YzYxMTk4MTc4ZWQ5M2YwZGUyMTM2OGVkMDNmNjhlMjEwMjI1YjY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "6af739d5a734703697de618136513c52074d164b", "author": {"user": {"login": "goaway", "name": "Mike Schore"}}, "url": "https://github.com/envoyproxy/envoy-mobile/commit/6af739d5a734703697de618136513c52074d164b", "committedDate": "2020-08-18T09:50:31Z", "message": "iOS example apps: improve header rendering\n\nSigned-off-by: Mike Schore <mike.schore@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY5NjU5MDcy", "url": "https://github.com/envoyproxy/envoy-mobile/pull/1041#pullrequestreview-469659072", "createdAt": "2020-08-18T17:09:56Z", "commit": {"oid": "6af739d5a734703697de618136513c52074d164b"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOFQxNzowOTo1N1rOHCeF6Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOFQxNzoxMTo0NVrOHCeKNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjM1MjIzMw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    var headerMessage = \"\"\n          \n          \n            \n                    headers.allHeaders().forEach { name, value in\n          \n          \n            \n                      if kFilteredHeaders.contains(name) {\n          \n          \n            \n                        headerMessage += \"\\(name): \\(value.joined(separator: \", \"))\\n\"\n          \n          \n            \n                      }\n          \n          \n            \n                    }\n          \n          \n            \n                    let headerMessage = headers.allHeaders()\n          \n          \n            \n                      .filter { kFilteredHeaders.contains($0.key) }\n          \n          \n            \n                      .map { \"\\($0.key): \\($0.value.joined(separator: \", \"))\" }\n          \n          \n            \n                      .joined(separator: \"\\n\")", "url": "https://github.com/envoyproxy/envoy-mobile/pull/1041#discussion_r472352233", "createdAt": "2020-08-18T17:09:57Z", "author": {"login": "rebello95"}, "path": "examples/swift/hello_world/ViewController.swift", "diffHunk": "@@ -59,14 +60,22 @@ final class ViewController: UITableViewController {\n       .newStreamPrototype()\n       .setOnResponseHeaders { [weak self] headers, _ in\n         let statusCode = headers.httpStatus ?? -1\n-        var message = \"received headers with status \\(statusCode)\"\n+        let message = \"received headers with status \\(statusCode)\"\n+\n+        var headerMessage = \"\"\n+        headers.allHeaders().forEach { name, value in\n+          if kFilteredHeaders.contains(name) {\n+            headerMessage += \"\\(name): \\(value.joined(separator: \", \"))\\n\"\n+          }\n+        }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6af739d5a734703697de618136513c52074d164b"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjM1MzMzMw==", "bodyText": "This keeps the value immutable and is a bit more idiomatic", "url": "https://github.com/envoyproxy/envoy-mobile/pull/1041#discussion_r472353333", "createdAt": "2020-08-18T17:11:45Z", "author": {"login": "rebello95"}, "path": "examples/swift/hello_world/ViewController.swift", "diffHunk": "@@ -59,14 +60,22 @@ final class ViewController: UITableViewController {\n       .newStreamPrototype()\n       .setOnResponseHeaders { [weak self] headers, _ in\n         let statusCode = headers.httpStatus ?? -1\n-        var message = \"received headers with status \\(statusCode)\"\n+        let message = \"received headers with status \\(statusCode)\"\n+\n+        var headerMessage = \"\"\n+        headers.allHeaders().forEach { name, value in\n+          if kFilteredHeaders.contains(name) {\n+            headerMessage += \"\\(name): \\(value.joined(separator: \", \"))\\n\"\n+          }\n+        }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjM1MjIzMw=="}, "originalCommit": {"oid": "6af739d5a734703697de618136513c52074d164b"}, "originalPosition": 20}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d7c61198178ed93f0de21368ed03f68e210225b6", "author": {"user": {"login": "goaway", "name": "Mike Schore"}}, "url": "https://github.com/envoyproxy/envoy-mobile/commit/d7c61198178ed93f0de21368ed03f68e210225b6", "committedDate": "2020-08-18T18:14:58Z", "message": "update format; update for comments\n\nSigned-off-by: Mike Schore <mike.schore@gmail.com>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3980, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}