{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg5NTY5ODc0", "number": 1114, "title": "Implement isEqual method", "bodyText": "Description: Providing the \"correct\" implementation of isEqual method for Element object. This should help us for cases when we want have unit tests that want to verify whether a metrics with right Element's is emitted or not.\nRisk Level: Small\nTesting: Unit Tests\nDocs Changes: None\nRelease Notes: None", "createdAt": "2020-09-18T22:36:12Z", "url": "https://github.com/envoyproxy/envoy-mobile/pull/1114", "merged": true, "mergeCommit": {"oid": "46503043b9d1d539bdbe45b647f17f18902f46e2"}, "closed": true, "closedAt": "2020-09-19T02:43:31Z", "author": {"login": "Augustyniak"}, "timelineItems": {"totalCount": 15, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdKNelZgFqTQ5MTgxODM2Ng==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdKQTrPgFqTQ5MTg1MjI3Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkxODE4MzY2", "url": "https://github.com/envoyproxy/envoy-mobile/pull/1114#pullrequestreview-491818366", "createdAt": "2020-09-18T22:37:47Z", "commit": {"oid": "5794cbeacd9272d0b0da70746a4d1915e3d558de"}, "state": "COMMENTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOFQyMjozNzo0OFrOHUd3hg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOFQyMjozODozN1rOHUd4Ww==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTIyMjkxOA==", "bodyText": "Trailing space \ud83d\ude03", "url": "https://github.com/envoyproxy/envoy-mobile/pull/1114#discussion_r491222918", "createdAt": "2020-09-18T22:37:48Z", "author": {"login": "rebello95"}, "path": "library/swift/test/BUILD", "diffHunk": "@@ -77,3 +77,10 @@ envoy_mobile_swift_test(\n         \"CounterTests.swift\",\n     ],\n )\n+\n+envoy_mobile_swift_test(\n+    name = \"element_tests\",\n+    srcs = [\n+        \"ElementTests.swift\",\n+    ],\n+)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5794cbeacd9272d0b0da70746a4d1915e3d558de"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTIyMzAyNw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                if let object = object as? Element {\n          \n          \n            \n                  return self.value == object.value\n          \n          \n            \n                } else {\n          \n          \n            \n                  return false\n          \n          \n            \n                }\n          \n          \n            \n                return (object as? Element)?.value == self.value", "url": "https://github.com/envoyproxy/envoy-mobile/pull/1114#discussion_r491223027", "createdAt": "2020-09-18T22:38:12Z", "author": {"login": "rebello95"}, "path": "library/swift/src/stats/Element.swift", "diffHunk": "@@ -14,4 +14,12 @@ public final class Element: NSObject, ExpressibleByStringLiteral {\n     }\n     self.value = value\n   }\n+\n+  public override func isEqual(_ object: Any?) -> Bool {\n+    if let object = object as? Element {\n+      return self.value == object.value\n+    } else {\n+      return false\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5794cbeacd9272d0b0da70746a4d1915e3d558de"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTIyMzA2OA==", "bodyText": "Should we explicitly do an isEqual check here too?", "url": "https://github.com/envoyproxy/envoy-mobile/pull/1114#discussion_r491223068", "createdAt": "2020-09-18T22:38:24Z", "author": {"login": "rebello95"}, "path": "library/swift/test/ElementTests.swift", "diffHunk": "@@ -0,0 +1,14 @@\n+import Envoy\n+import XCTest\n+\n+final class ElementTests: XCTestCase {\n+    func testElementNotEqualToObjectOfUnrelatedType() {\n+        let element = Element(\"foo\")\n+        XCTAssertFalse(element.isEqual(\"bar\"))\n+    }\n+\n+    func testElementsEquality() {\n+      XCTAssertEqual(Element(\"foo\"), Element(\"foo\"))\n+      XCTAssertNotEqual(Element(\"foo\"), Element(\"bar\"))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5794cbeacd9272d0b0da70746a4d1915e3d558de"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTIyMzEzMQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                func testElementsEquality() {\n          \n          \n            \n                func testElementsAreEqualIfStringValuesAreEqual() {", "url": "https://github.com/envoyproxy/envoy-mobile/pull/1114#discussion_r491223131", "createdAt": "2020-09-18T22:38:37Z", "author": {"login": "rebello95"}, "path": "library/swift/test/ElementTests.swift", "diffHunk": "@@ -0,0 +1,14 @@\n+import Envoy\n+import XCTest\n+\n+final class ElementTests: XCTestCase {\n+    func testElementNotEqualToObjectOfUnrelatedType() {\n+        let element = Element(\"foo\")\n+        XCTAssertFalse(element.isEqual(\"bar\"))\n+    }\n+\n+    func testElementsEquality() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5794cbeacd9272d0b0da70746a4d1915e3d558de"}, "originalPosition": 10}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkxODIzMDM4", "url": "https://github.com/envoyproxy/envoy-mobile/pull/1114#pullrequestreview-491823038", "createdAt": "2020-09-18T22:54:59Z", "commit": {"oid": "672b4ac9de2e886562aaddd5e37f330b258ea40d"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "672b4ac9de2e886562aaddd5e37f330b258ea40d", "author": {"user": {"login": "Augustyniak", "name": "Rafa\u0142 Augustyniak"}}, "url": "https://github.com/envoyproxy/envoy-mobile/commit/672b4ac9de2e886562aaddd5e37f330b258ea40d", "committedDate": "2020-09-18T22:53:38Z", "message": "code review comments"}, "afterCommit": {"oid": "2c2c623c5d34e51531148a3178f4db5daf18e29d", "author": {"user": {"login": "Augustyniak", "name": "Rafa\u0142 Augustyniak"}}, "url": "https://github.com/envoyproxy/envoy-mobile/commit/2c2c623c5d34e51531148a3178f4db5daf18e29d", "committedDate": "2020-09-18T22:55:55Z", "message": "code review comments"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2c2c623c5d34e51531148a3178f4db5daf18e29d", "author": {"user": {"login": "Augustyniak", "name": "Rafa\u0142 Augustyniak"}}, "url": "https://github.com/envoyproxy/envoy-mobile/commit/2c2c623c5d34e51531148a3178f4db5daf18e29d", "committedDate": "2020-09-18T22:55:55Z", "message": "code review comments"}, "afterCommit": {"oid": "a1e241d6a4ffe4933ddd826626d1387db18e5ac1", "author": {"user": {"login": "Augustyniak", "name": "Rafa\u0142 Augustyniak"}}, "url": "https://github.com/envoyproxy/envoy-mobile/commit/a1e241d6a4ffe4933ddd826626d1387db18e5ac1", "committedDate": "2020-09-18T22:57:02Z", "message": "code review comments\n\nSigned-off-by: Rafal Augustyniak <raugustyniak@lyft.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkxODI1MDM2", "url": "https://github.com/envoyproxy/envoy-mobile/pull/1114#pullrequestreview-491825036", "createdAt": "2020-09-18T23:02:58Z", "commit": {"oid": "a1e241d6a4ffe4933ddd826626d1387db18e5ac1"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cb2ebdac50a1a137be0cb7d522b02dfc0276fa4f", "author": {"user": {"login": "Augustyniak", "name": "Rafa\u0142 Augustyniak"}}, "url": "https://github.com/envoyproxy/envoy-mobile/commit/cb2ebdac50a1a137be0cb7d522b02dfc0276fa4f", "committedDate": "2020-09-18T23:16:40Z", "message": "Implement isEqual method\n\nSigned-off-by: Rafal Augustyniak <raugustyniak@lyft.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8673cf479964ae5ec362d1774ba111a13d12787d", "author": {"user": {"login": "Augustyniak", "name": "Rafa\u0142 Augustyniak"}}, "url": "https://github.com/envoyproxy/envoy-mobile/commit/8673cf479964ae5ec362d1774ba111a13d12787d", "committedDate": "2020-09-18T23:16:40Z", "message": "Update library/swift/src/stats/Element.swift\n\nCo-authored-by: Michael Rebello <me@michaelrebello.com>\nSigned-off-by: Rafal Augustyniak <raugustyniak@lyft.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7dd043f4128b31ed1eab213ef6858cd19b19d825", "author": {"user": {"login": "Augustyniak", "name": "Rafa\u0142 Augustyniak"}}, "url": "https://github.com/envoyproxy/envoy-mobile/commit/7dd043f4128b31ed1eab213ef6858cd19b19d825", "committedDate": "2020-09-18T23:16:40Z", "message": "code review comments\n\nSigned-off-by: Rafal Augustyniak <raugustyniak@lyft.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a1e241d6a4ffe4933ddd826626d1387db18e5ac1", "author": {"user": {"login": "Augustyniak", "name": "Rafa\u0142 Augustyniak"}}, "url": "https://github.com/envoyproxy/envoy-mobile/commit/a1e241d6a4ffe4933ddd826626d1387db18e5ac1", "committedDate": "2020-09-18T22:57:02Z", "message": "code review comments\n\nSigned-off-by: Rafal Augustyniak <raugustyniak@lyft.com>"}, "afterCommit": {"oid": "7dd043f4128b31ed1eab213ef6858cd19b19d825", "author": {"user": {"login": "Augustyniak", "name": "Rafa\u0142 Augustyniak"}}, "url": "https://github.com/envoyproxy/envoy-mobile/commit/7dd043f4128b31ed1eab213ef6858cd19b19d825", "committedDate": "2020-09-18T23:16:40Z", "message": "code review comments\n\nSigned-off-by: Rafal Augustyniak <raugustyniak@lyft.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkxODI4ODk1", "url": "https://github.com/envoyproxy/envoy-mobile/pull/1114#pullrequestreview-491828895", "createdAt": "2020-09-18T23:20:01Z", "commit": {"oid": "7dd043f4128b31ed1eab213ef6858cd19b19d825"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6214dc37693985b391de7a6e79d7e7f8ba758b7e", "author": {"user": {"login": "rebello95", "name": "Michael Rebello"}}, "url": "https://github.com/envoyproxy/envoy-mobile/commit/6214dc37693985b391de7a6e79d7e7f8ba758b7e", "committedDate": "2020-09-19T00:55:49Z", "message": "config: rename decompressor name from \"basic\" to \"gzip\" (#1115)\n\nThis filter is configured exclusively with gzip decompression. If we were to add more in the future (i.e., brotli), this would be a good way to differentiate.\r\n\r\nThis change is especially useful since it'll transform `x-envoy-decompressor-basic-uncompressed-bytes` to use \"gzip\" instead of \"basic\" in the trailers it adds to responses.\r\n\r\nSigned-off-by: Michael Rebello <me@michaelrebello.com>\nSigned-off-by: Rafal Augustyniak <raugustyniak@lyft.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c51ba6041cf0fe3db4c26dda29eac37a7fd15084", "author": {"user": {"login": "rebello95", "name": "Michael Rebello"}}, "url": "https://github.com/envoyproxy/envoy-mobile/commit/c51ba6041cf0fe3db4c26dda29eac37a7fd15084", "committedDate": "2020-09-19T00:55:49Z", "message": "android: fix release builds (#1112)\n\nThis adds an argument to counteract build failures we're seeing on Linux Android release builds, believed to be caused in part by https://github.com/envoyproxy/envoy/pull/12569/files#diff-f55b2f358053ad76fb5ac3f776f78ef8R27.\r\n\r\nVerified fix with release build: https://github.com/lyft/envoy-mobile/pull/1112/checks?check_run_id=1135915527\r\n\r\nI'm also bumping the release in this PR so we can re-tag with a version of the Android binary successfully.\r\n\r\nSigned-off-by: Michael Rebello <me@michaelrebello.com>\r\nSigned-off-by: Rafal Augustyniak <raugustyniak@lyft.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6621540121dc6d08f21144a875fc326d4bf49f45", "author": {"user": {"login": "Augustyniak", "name": "Rafa\u0142 Augustyniak"}}, "url": "https://github.com/envoyproxy/envoy-mobile/commit/6621540121dc6d08f21144a875fc326d4bf49f45", "committedDate": "2020-09-19T00:53:23Z", "message": "Merge branch 'main' into custom-implementation-of-is-equal"}, "afterCommit": {"oid": "c51ba6041cf0fe3db4c26dda29eac37a7fd15084", "author": {"user": {"login": "rebello95", "name": "Michael Rebello"}}, "url": "https://github.com/envoyproxy/envoy-mobile/commit/c51ba6041cf0fe3db4c26dda29eac37a7fd15084", "committedDate": "2020-09-19T00:55:49Z", "message": "android: fix release builds (#1112)\n\nThis adds an argument to counteract build failures we're seeing on Linux Android release builds, believed to be caused in part by https://github.com/envoyproxy/envoy/pull/12569/files#diff-f55b2f358053ad76fb5ac3f776f78ef8R27.\r\n\r\nVerified fix with release build: https://github.com/lyft/envoy-mobile/pull/1112/checks?check_run_id=1135915527\r\n\r\nI'm also bumping the release in this PR so we can re-tag with a version of the Android binary successfully.\r\n\r\nSigned-off-by: Michael Rebello <me@michaelrebello.com>\r\nSigned-off-by: Rafal Augustyniak <raugustyniak@lyft.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "da4a22cede382eec45221ed124625d15a0faae38", "author": {"user": {"login": "Augustyniak", "name": "Rafa\u0142 Augustyniak"}}, "url": "https://github.com/envoyproxy/envoy-mobile/commit/da4a22cede382eec45221ed124625d15a0faae38", "committedDate": "2020-09-19T00:56:58Z", "message": "Merge branch 'main' into custom-implementation-of-is-equal"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkxODUyMjc3", "url": "https://github.com/envoyproxy/envoy-mobile/pull/1114#pullrequestreview-491852277", "createdAt": "2020-09-19T01:56:27Z", "commit": {"oid": "da4a22cede382eec45221ed124625d15a0faae38"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4046, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}