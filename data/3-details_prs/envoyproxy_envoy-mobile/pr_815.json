{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA5NjI4Nzc4", "number": 815, "title": "bazel: Update swift_static_framework to use swiftinterfaces", "bodyText": "This is an in between to #797\nwhich starts building the archive with swiftinterface files, but does\nit with our existing swift_static_framework rule because of issues\nlinked on that PR.\nSigned-off-by: Keith Smiley keithbsmiley@gmail.com", "createdAt": "2020-04-27T17:05:58Z", "url": "https://github.com/envoyproxy/envoy-mobile/pull/815", "merged": true, "mergeCommit": {"oid": "35ac67aeb112347f2cf777aaaf8f70ac5a676d36"}, "closed": true, "closedAt": "2020-05-28T23:52:58Z", "author": {"login": "keith"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcbylQVgFqTQwMTE2MTU1OQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcl2ws-gFqTQyMDU2NjEyNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAxMTYxNTU5", "url": "https://github.com/envoyproxy/envoy-mobile/pull/815#pullrequestreview-401161559", "createdAt": "2020-04-27T17:17:18Z", "commit": {"oid": "53ea7a507d7834e25978aa9ad421ba88bed8a13f"}, "state": "DISMISSED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yN1QxNzoxNzoxOFrOGMukIA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yN1QxNzoxNzoxOFrOGMukIA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTk5OTAwOA==", "bodyText": "Can you add a docstring for private_deps?", "url": "https://github.com/envoyproxy/envoy-mobile/pull/815#discussion_r415999008", "createdAt": "2020-04-27T17:17:18Z", "author": {"login": "rebello95"}, "path": "bazel/swift_static_framework.bzl", "diffHunk": "@@ -163,37 +166,28 @@ def swift_static_framework(\n         name,\n         module_name = None,\n         srcs = [],\n-        deps = [],\n-        objc_includes = [],\n+        private_deps = [],\n         copts = [],\n-        swiftc_inputs = [],\n         visibility = []):\n     \"\"\"Create a static library, and static framework target for a swift module\n \n     Args:\n         name: The name of the module, the framework's name will be this name\n             appending Framework so you can depend on this from other modules\n         srcs: Custom source paths for the swift files\n-        objc_includes: Header files for any objective-c dependencies (required for linking)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "53ea7a507d7834e25978aa9ad421ba88bed8a13f"}, "originalPosition": 41}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "442da75506b8be54a684c7818df1533c5cc113d6", "author": {"user": {"login": "keith", "name": "Keith Smiley"}}, "url": "https://github.com/envoyproxy/envoy-mobile/commit/442da75506b8be54a684c7818df1533c5cc113d6", "committedDate": "2020-04-27T20:53:53Z", "message": "Fixups\n\nSigned-off-by: Keith Smiley <keithbsmiley@gmail.com>"}, "afterCommit": {"oid": "9bc007803db86094e9a6a8b571583a1d6ae0e81b", "author": {"user": {"login": "keith", "name": "Keith Smiley"}}, "url": "https://github.com/envoyproxy/envoy-mobile/commit/9bc007803db86094e9a6a8b571583a1d6ae0e81b", "committedDate": "2020-04-27T21:20:15Z", "message": "Fixups\n\nSigned-off-by: Keith Smiley <keithbsmiley@gmail.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a96c5f2ca25e4f39977bc298b41deb0b01dc92ee", "author": {"user": {"login": "keith", "name": "Keith Smiley"}}, "url": "https://github.com/envoyproxy/envoy-mobile/commit/a96c5f2ca25e4f39977bc298b41deb0b01dc92ee", "committedDate": "2020-04-27T21:23:35Z", "message": "fix imports\n\nSigned-off-by: Keith Smiley <keithbsmiley@gmail.com>"}, "afterCommit": {"oid": "8e0a0c6e3be75f64d50b080a826431cc75552a4b", "author": {"user": {"login": "keith", "name": "Keith Smiley"}}, "url": "https://github.com/envoyproxy/envoy-mobile/commit/8e0a0c6e3be75f64d50b080a826431cc75552a4b", "committedDate": "2020-05-07T20:27:55Z", "message": "add swiftmodule back\n\nSigned-off-by: Keith Smiley <keithbsmiley@gmail.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8e0a0c6e3be75f64d50b080a826431cc75552a4b", "author": {"user": {"login": "keith", "name": "Keith Smiley"}}, "url": "https://github.com/envoyproxy/envoy-mobile/commit/8e0a0c6e3be75f64d50b080a826431cc75552a4b", "committedDate": "2020-05-07T20:27:55Z", "message": "add swiftmodule back\n\nSigned-off-by: Keith Smiley <keithbsmiley@gmail.com>"}, "afterCommit": {"oid": "6a799d1d58fd362d9be5654fe663eddbe1550027", "author": {"user": {"login": "keith", "name": "Keith Smiley"}}, "url": "https://github.com/envoyproxy/envoy-mobile/commit/6a799d1d58fd362d9be5654fe663eddbe1550027", "committedDate": "2020-05-12T19:39:38Z", "message": "add swiftmodule back\n\nSigned-off-by: Keith Smiley <keithbsmiley@gmail.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "226f70c83a4bbab15a1e976f2909d2f63a00c40c", "author": {"user": {"login": "keith", "name": "Keith Smiley"}}, "url": "https://github.com/envoyproxy/envoy-mobile/commit/226f70c83a4bbab15a1e976f2909d2f63a00c40c", "committedDate": "2020-05-12T20:59:14Z", "message": "missing import\n\nSigned-off-by: Keith Smiley <keithbsmiley@gmail.com>"}, "afterCommit": {"oid": "41cece6e6bac944ec9cb56dc2f509a4307d92ec0", "author": {"user": {"login": "keith", "name": "Keith Smiley"}}, "url": "https://github.com/envoyproxy/envoy-mobile/commit/41cece6e6bac944ec9cb56dc2f509a4307d92ec0", "committedDate": "2020-05-18T22:06:39Z", "message": "add swiftmodule back\n\nSigned-off-by: Keith Smiley <keithbsmiley@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7f573e4d08ac8e60e9d93efa0ddef01968fd64b7", "author": {"user": {"login": "keith", "name": "Keith Smiley"}}, "url": "https://github.com/envoyproxy/envoy-mobile/commit/7f573e4d08ac8e60e9d93efa0ddef01968fd64b7", "committedDate": "2020-05-28T22:18:40Z", "message": "bazel: Update swift_static_framework to use swiftinterfaces\n\nThis is an in between to https://github.com/lyft/envoy-mobile/pull/797\nwhich starts building the archive with swiftinterface files, but does\nit with our existing swift_static_framework rule because of issues\nlinked on that PR.\n\nSigned-off-by: Keith Smiley <keithbsmiley@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7dcefbfb7079c81d37456fa37526b0c45dbce25a", "author": {"user": {"login": "keith", "name": "Keith Smiley"}}, "url": "https://github.com/envoyproxy/envoy-mobile/commit/7dcefbfb7079c81d37456fa37526b0c45dbce25a", "committedDate": "2020-05-28T22:18:40Z", "message": "Fixups\n\nSigned-off-by: Keith Smiley <keithbsmiley@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0f5a65aa9145f3baae1dbc92d10caa965ead3771", "author": {"user": {"login": "keith", "name": "Keith Smiley"}}, "url": "https://github.com/envoyproxy/envoy-mobile/commit/0f5a65aa9145f3baae1dbc92d10caa965ead3771", "committedDate": "2020-05-28T22:18:40Z", "message": "fix imports\n\nSigned-off-by: Keith Smiley <keithbsmiley@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0d88782eac62aee5e480ca123f19a35be171b957", "author": {"user": {"login": "keith", "name": "Keith Smiley"}}, "url": "https://github.com/envoyproxy/envoy-mobile/commit/0d88782eac62aee5e480ca123f19a35be171b957", "committedDate": "2020-05-28T22:18:40Z", "message": "add swiftmodule back\n\nSigned-off-by: Keith Smiley <keithbsmiley@gmail.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "41cece6e6bac944ec9cb56dc2f509a4307d92ec0", "author": {"user": {"login": "keith", "name": "Keith Smiley"}}, "url": "https://github.com/envoyproxy/envoy-mobile/commit/41cece6e6bac944ec9cb56dc2f509a4307d92ec0", "committedDate": "2020-05-18T22:06:39Z", "message": "add swiftmodule back\n\nSigned-off-by: Keith Smiley <keithbsmiley@gmail.com>"}, "afterCommit": {"oid": "0d88782eac62aee5e480ca123f19a35be171b957", "author": {"user": {"login": "keith", "name": "Keith Smiley"}}, "url": "https://github.com/envoyproxy/envoy-mobile/commit/0d88782eac62aee5e480ca123f19a35be171b957", "committedDate": "2020-05-28T22:18:40Z", "message": "add swiftmodule back\n\nSigned-off-by: Keith Smiley <keithbsmiley@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIwNTY2MTI0", "url": "https://github.com/envoyproxy/envoy-mobile/pull/815#pullrequestreview-420566124", "createdAt": "2020-05-28T23:49:14Z", "commit": {"oid": "0d88782eac62aee5e480ca123f19a35be171b957"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOFQyMzo0OToxNVrOGcKbaQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOFQyMzo0OToxNVrOGcKbaQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjE4NDE2OQ==", "bodyText": "Out of curiosity, any reason not to use @_implementationOnly here for consistency?", "url": "https://github.com/envoyproxy/envoy-mobile/pull/815#discussion_r432184169", "createdAt": "2020-05-28T23:49:15Z", "author": {"login": "rebello95"}, "path": "library/swift/test/EnvoyClientBuilderTests.swift", "diffHunk": "@@ -1,4 +1,5 @@\n @testable import Envoy\n+import EnvoyEngine", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0d88782eac62aee5e480ca123f19a35be171b957"}, "originalPosition": 2}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4203, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}