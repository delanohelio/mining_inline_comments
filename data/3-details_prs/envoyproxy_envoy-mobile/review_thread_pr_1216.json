{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQyNzYzOTM4", "number": 1216, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xOFQyMToxNzoxMVrOFHWWNQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNS0xMlQxOTowMzo1MFrOF9lxjA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQzMjUwNDg1OnYy", "diffSide": "RIGHT", "path": "library/objective-c/test/BUILD", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xOFQyMToxNzoxMVrOIIy_DA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMi0yN1QwMTo1NzowMlrOIs9pAw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjA5NDg2MA==", "bodyText": "Guessing the reason this doesn't work is because you need an ios_unit_test like we have here: \n  \n    \n      envoy-mobile/bazel/swift_test.bzl\n    \n    \n        Lines 32 to 36\n      in\n      0774f4d\n    \n    \n    \n    \n\n        \n          \n           ios_unit_test( \n        \n\n        \n          \n               name = name, \n        \n\n        \n          \n               deps = [test_lib_name], \n        \n\n        \n          \n               minimum_os_version = \"11.0\", \n        \n\n        \n          \n           )", "url": "https://github.com/envoyproxy/envoy-mobile/pull/1216#discussion_r546094860", "createdAt": "2020-12-18T21:17:11Z", "author": {"login": "rebello95"}, "path": "library/objective-c/test/BUILD", "diffHunk": "@@ -0,0 +1,13 @@\n+load(\"@rules_cc//cc:defs.bzl\", \"objc_library\")\n+\n+licenses([\"notice\"])  # Apache 2\n+\n+objc_library(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "34782335a3d80d21555dda8f4312c1b7266a8de6"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4NDAxODE3OQ==", "bodyText": "yep, for sure this won't run tests w/o it", "url": "https://github.com/envoyproxy/envoy-mobile/pull/1216#discussion_r584018179", "createdAt": "2021-02-27T01:57:02Z", "author": {"login": "keith"}, "path": "library/objective-c/test/BUILD", "diffHunk": "@@ -0,0 +1,13 @@\n+load(\"@rules_cc//cc:defs.bzl\", \"objc_library\")\n+\n+licenses([\"notice\"])  # Apache 2\n+\n+objc_library(", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjA5NDg2MA=="}, "originalCommit": {"oid": "34782335a3d80d21555dda8f4312c1b7266a8de6"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkNDAwMTI2MTEyOnYy", "diffSide": "RIGHT", "path": "test/objective-c/EnvoyBridgeUtilityTest.m", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNS0xMlQxOTowMzoxOVrOJaFCIA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNS0xMlQxOTowMzoxOVrOJaFCIA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzMTMyNTIxNg==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              XCTAssertTrue(memcmp(nativeData.bytes, testData.bytes, 3) == 0);\n          \n          \n            \n              XCTAssertEqual(memcmp(nativeData.bytes, testData.bytes, 3), 0);", "url": "https://github.com/envoyproxy/envoy-mobile/pull/1216#discussion_r631325216", "createdAt": "2021-05-12T19:03:19Z", "author": {"login": "rebello95"}, "path": "test/objective-c/EnvoyBridgeUtilityTest.m", "diffHunk": "@@ -0,0 +1,29 @@\n+#import <XCTest/XCTest.h>\n+\n+typedef NSDictionary<NSString *, NSArray<NSString *> *> EnvoyHeaders;\n+\n+typedef NSDictionary<NSString *, NSString *> EnvoyTags;\n+\n+#import \"library/objective-c/EnvoyBridgeUtility.h\"\n+\n+@interface EnvoyBridgeUtilityTest : XCTestCase\n+@end\n+\n+@implementation EnvoyBridgeUtilityTest\n+\n+- (void)setUp {\n+  [super setUp];\n+}\n+\n+- (void)tearDown {\n+  [super tearDown];\n+}\n+\n+- (void)testToNativeData {\n+  NSString *testString = @\"abc\";\n+  NSData *testData = [testString dataUsingEncoding:NSUTF8StringEncoding];\n+  envoy_data nativeData = toNativeData(testData);\n+  XCTAssertTrue(memcmp(nativeData.bytes, testData.bytes, 3) == 0);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "07be70c3d994996e8c263e0c0a46887694b93f0d"}, "originalPosition": 26}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkNDAwMTI2MjA3OnYy", "diffSide": "RIGHT", "path": "test/objective-c/EnvoyBridgeUtilityTest.m", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNS0xMlQxOTowMzozM1rOJaFCrg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNS0xMlQxOTowMzozM1rOJaFCrg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzMTMyNTM1OA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            - (void)setUp {\n          \n          \n            \n              [super setUp];\n          \n          \n            \n            }\n          \n          \n            \n            \n          \n          \n            \n            - (void)tearDown {\n          \n          \n            \n              [super tearDown];\n          \n          \n            \n            }", "url": "https://github.com/envoyproxy/envoy-mobile/pull/1216#discussion_r631325358", "createdAt": "2021-05-12T19:03:33Z", "author": {"login": "rebello95"}, "path": "test/objective-c/EnvoyBridgeUtilityTest.m", "diffHunk": "@@ -0,0 +1,29 @@\n+#import <XCTest/XCTest.h>\n+\n+typedef NSDictionary<NSString *, NSArray<NSString *> *> EnvoyHeaders;\n+\n+typedef NSDictionary<NSString *, NSString *> EnvoyTags;\n+\n+#import \"library/objective-c/EnvoyBridgeUtility.h\"\n+\n+@interface EnvoyBridgeUtilityTest : XCTestCase\n+@end\n+\n+@implementation EnvoyBridgeUtilityTest\n+\n+- (void)setUp {\n+  [super setUp];\n+}\n+\n+- (void)tearDown {\n+  [super tearDown];\n+}\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "07be70c3d994996e8c263e0c0a46887694b93f0d"}, "originalPosition": 21}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkNDAwMTI2MzQ4OnYy", "diffSide": "RIGHT", "path": "test/objective-c/EnvoyBridgeUtilityTest.m", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNS0xMlQxOTowMzo1MFrOJaFDcQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNS0xMlQxOToxNToxOVrOJaFeIg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzMTMyNTU1Mw==", "bodyText": "Are these necessary?", "url": "https://github.com/envoyproxy/envoy-mobile/pull/1216#discussion_r631325553", "createdAt": "2021-05-12T19:03:50Z", "author": {"login": "rebello95"}, "path": "test/objective-c/EnvoyBridgeUtilityTest.m", "diffHunk": "@@ -0,0 +1,29 @@\n+#import <XCTest/XCTest.h>\n+\n+typedef NSDictionary<NSString *, NSArray<NSString *> *> EnvoyHeaders;\n+\n+typedef NSDictionary<NSString *, NSString *> EnvoyTags;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "07be70c3d994996e8c263e0c0a46887694b93f0d"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzMTMzMjM4Ng==", "bodyText": "They are, unfortunately; this is a side effect of the bridge header issue.", "url": "https://github.com/envoyproxy/envoy-mobile/pull/1216#discussion_r631332386", "createdAt": "2021-05-12T19:15:19Z", "author": {"login": "goaway"}, "path": "test/objective-c/EnvoyBridgeUtilityTest.m", "diffHunk": "@@ -0,0 +1,29 @@\n+#import <XCTest/XCTest.h>\n+\n+typedef NSDictionary<NSString *, NSArray<NSString *> *> EnvoyHeaders;\n+\n+typedef NSDictionary<NSString *, NSString *> EnvoyTags;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYzMTMyNTU1Mw=="}, "originalCommit": {"oid": "07be70c3d994996e8c263e0c0a46887694b93f0d"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 555, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}