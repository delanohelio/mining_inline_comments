{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU4MDczNDA1", "number": 981, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQyMTo1OTo0MVrOETcWDQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQyMTo1OTo1MVrOETcWNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg4ODIyNzk3OnYy", "diffSide": "RIGHT", "path": "library/common/BUILD", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQyMTo1OTo0MVrOG5LwGQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQyMjowMjoxMVrOG5L0dA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjYxNDU1Mw==", "bodyText": "Why is this now required?", "url": "https://github.com/envoyproxy/envoy-mobile/pull/981#discussion_r462614553", "createdAt": "2020-07-29T21:59:41Z", "author": {"login": "rebello95"}, "path": "library/common/BUILD", "diffHunk": "@@ -35,7 +35,15 @@ envoy_cc_library(\n     deps = [\n         \"@envoy//source/common/common:random_generator_lib\",\n         \"@envoy//source/common/runtime:runtime_lib\",\n-        \"@envoy//source/exe:envoy_common_lib\",\n+        \"@envoy//source/exe:main_common_lib\",\n+    ],\n+)\n+\n+envoy_cc_library(\n+    name = \"envoy_mobile_main_common_lib_stamped\",\n+    repository = \"@envoy\",\n+    deps = [\n+        \":envoy_mobile_main_common_lib\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7d8e5e5de8be8fa140ec098ecdbe828a086f5c34"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjYxNTY2OA==", "bodyText": "envoyproxy/envoy#12171 split things for tests, so our targets here were either: a) not having symbols, or having duplicate symbols. This new setup lets us use the new upstream system correctly.", "url": "https://github.com/envoyproxy/envoy-mobile/pull/981#discussion_r462615668", "createdAt": "2020-07-29T22:02:11Z", "author": {"login": "junr03"}, "path": "library/common/BUILD", "diffHunk": "@@ -35,7 +35,15 @@ envoy_cc_library(\n     deps = [\n         \"@envoy//source/common/common:random_generator_lib\",\n         \"@envoy//source/common/runtime:runtime_lib\",\n-        \"@envoy//source/exe:envoy_common_lib\",\n+        \"@envoy//source/exe:main_common_lib\",\n+    ],\n+)\n+\n+envoy_cc_library(\n+    name = \"envoy_mobile_main_common_lib_stamped\",\n+    repository = \"@envoy\",\n+    deps = [\n+        \":envoy_mobile_main_common_lib\",", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjYxNDU1Mw=="}, "originalCommit": {"oid": "7d8e5e5de8be8fa140ec098ecdbe828a086f5c34"}, "originalPosition": 22}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg4ODIyODM2OnYy", "diffSide": "RIGHT", "path": "library/common/config_template.cc", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQyMTo1OTo1MVrOG5LwWQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQyMjowMzoxMFrOG5L2GQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjYxNDYxNw==", "bodyText": "Is there an issue for this or intended to be permanent?", "url": "https://github.com/envoyproxy/envoy-mobile/pull/981#discussion_r462614617", "createdAt": "2020-07-29T21:59:51Z", "author": {"login": "rebello95"}, "path": "library/common/config_template.cc", "diffHunk": "@@ -268,4 +268,11 @@ stats_flush_interval: {{ stats_flush_interval_seconds }}s\n     app_id : {{ app_id }}\n     app_version : {{ app_version }}\n     os: {{ device_os }}\n+# Needed due to warning in https://github.com/envoyproxy/envoy/blob/6eb7e642d33f5a55b63c367188f09819925fca34/source/server/server.cc#L546", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7d8e5e5de8be8fa140ec098ecdbe828a086f5c34"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjYxNjA4OQ==", "bodyText": "Unfortunately from the TODOs in that code the only way to set that configuration is in runtime, and the only (for now) way we can set runtime in envoy mobile is this way", "url": "https://github.com/envoyproxy/envoy-mobile/pull/981#discussion_r462616089", "createdAt": "2020-07-29T22:03:10Z", "author": {"login": "junr03"}, "path": "library/common/config_template.cc", "diffHunk": "@@ -268,4 +268,11 @@ stats_flush_interval: {{ stats_flush_interval_seconds }}s\n     app_id : {{ app_id }}\n     app_version : {{ app_version }}\n     os: {{ device_os }}\n+# Needed due to warning in https://github.com/envoyproxy/envoy/blob/6eb7e642d33f5a55b63c367188f09819925fca34/source/server/server.cc#L546", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjYxNDYxNw=="}, "originalCommit": {"oid": "7d8e5e5de8be8fa140ec098ecdbe828a086f5c34"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 715, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}