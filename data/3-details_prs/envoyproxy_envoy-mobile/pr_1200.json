{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTMzODg2NDA2", "number": 1200, "title": "filters: dispatch on-error invocations from PlatformBridgeFilter", "bodyText": "Description: Leverages the LocalErrorFilter to provide on-error invocations for platform filters.\nRisk Level: Moderate\nTesting: Integration test & manual\nSigned-off-by: Mike Schore mike.schore@gmail.com", "createdAt": "2020-12-07T19:10:24Z", "url": "https://github.com/envoyproxy/envoy-mobile/pull/1200", "merged": true, "mergeCommit": {"oid": "df006bd1e7b041f20fc6bb4d857e8165fc3d280e"}, "closed": true, "closedAt": "2020-12-17T10:15:23Z", "author": {"login": "goaway"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdj9QXQAFqTU0NjU5MDgzNQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdm-2eDABqjQxMjM3NzczNjc=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ2NTkwODM1", "url": "https://github.com/envoyproxy/envoy-mobile/pull/1200#pullrequestreview-546590835", "createdAt": "2020-12-07T22:26:40Z", "commit": {"oid": "fbf3bed4367b390edc23a26ef0dd7e09b7a445f5"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QyMjoyNjo0MFrOIA9nPQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QyMjoyNjo0MFrOIA9nPQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzg4MDM4MQ==", "bodyText": "Are we able to have a test case for verifying this behavior?", "url": "https://github.com/envoyproxy/envoy-mobile/pull/1200#discussion_r537880381", "createdAt": "2020-12-07T22:26:40Z", "author": {"login": "buildbreaker"}, "path": "library/common/extensions/filters/http/platform_bridge/filter.cc", "diffHunk": "@@ -321,6 +322,36 @@ Http::FilterHeadersStatus PlatformBridgeFilter::encodeHeaders(Http::ResponseHead\n                                                               bool end_stream) {\n   ENVOY_LOG(trace, \"PlatformBridgeFilter({})::encodeHeaders\", filter_name_);\n \n+  // Presence of internal error header indicates an error that should be surfaced as an\n+  // error callback (rather than an HTTP response).\n+  const auto error_code_header = headers.get(Http::InternalHeaders::get().ErrorCode);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fbf3bed4367b390edc23a26ef0dd7e09b7a445f5"}, "originalPosition": 14}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "fbf3bed4367b390edc23a26ef0dd7e09b7a445f5", "author": {"user": {"login": "goaway", "name": "Mike Schore"}}, "url": "https://github.com/envoyproxy/envoy-mobile/commit/fbf3bed4367b390edc23a26ef0dd7e09b7a445f5", "committedDate": "2020-12-07T20:52:02Z", "message": "format\n\nSigned-off-by: Mike Schore <mike.schore@gmail.com>"}, "afterCommit": {"oid": "34394d1285e08f77556bfc9819e96ba07fa6d613", "author": {"user": {"login": "goaway", "name": "Mike Schore"}}, "url": "https://github.com/envoyproxy/envoy-mobile/commit/34394d1285e08f77556bfc9819e96ba07fa6d613", "committedDate": "2020-12-16T18:26:25Z", "message": "format\n\nSigned-off-by: Mike Schore <mike.schore@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU0MDM0NzA1", "url": "https://github.com/envoyproxy/envoy-mobile/pull/1200#pullrequestreview-554034705", "createdAt": "2020-12-16T19:55:30Z", "commit": {"oid": "69eb2c2a78b2b9dcca70e838727533866df5e039"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7f8194e0529bdb65a1c7cfebab261e504b8719d4", "author": {"user": {"login": "goaway", "name": "Mike Schore"}}, "url": "https://github.com/envoyproxy/envoy-mobile/commit/7f8194e0529bdb65a1c7cfebab261e504b8719d4", "committedDate": "2020-12-17T07:59:47Z", "message": "filters: dispatch on-error invocations from PlatformBridgeFilter\n\nSigned-off-by: Mike Schore <mike.schore@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e3082cc3c6c54a5b3ffba637fc7bbdc016ef31f7", "author": {"user": {"login": "goaway", "name": "Mike Schore"}}, "url": "https://github.com/envoyproxy/envoy-mobile/commit/e3082cc3c6c54a5b3ffba637fc7bbdc016ef31f7", "committedDate": "2020-12-17T07:59:47Z", "message": "format\n\nSigned-off-by: Mike Schore <mike.schore@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9c9f95061ddba91588bf6456f52c6e957f9fc73b", "author": {"user": {"login": "goaway", "name": "Mike Schore"}}, "url": "https://github.com/envoyproxy/envoy-mobile/commit/9c9f95061ddba91588bf6456f52c6e957f9fc73b", "committedDate": "2020-12-17T07:59:47Z", "message": "add passing integration test\n\nSigned-off-by: Mike Schore <mike.schore@gmail.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4fbba6b7b09dd3c8e9ab131978e1f2cb08a72da6", "author": {"user": {"login": "goaway", "name": "Mike Schore"}}, "url": "https://github.com/envoyproxy/envoy-mobile/commit/4fbba6b7b09dd3c8e9ab131978e1f2cb08a72da6", "committedDate": "2020-12-17T01:34:13Z", "message": "fix to dispatcher test\n\nSigned-off-by: Mike Schore <mike.schore@gmail.com>"}, "afterCommit": {"oid": "9c9f95061ddba91588bf6456f52c6e957f9fc73b", "author": {"user": {"login": "goaway", "name": "Mike Schore"}}, "url": "https://github.com/envoyproxy/envoy-mobile/commit/9c9f95061ddba91588bf6456f52c6e957f9fc73b", "committedDate": "2020-12-17T07:59:47Z", "message": "add passing integration test\n\nSigned-off-by: Mike Schore <mike.schore@gmail.com>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3933, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}