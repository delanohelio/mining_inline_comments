{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU1NDE4NzQ0", "number": 969, "title": "android: clean up sonatype upload to support local deploy", "bodyText": "Cleaning up the sonatype upload script to enable easier local deployment. The change here is just to remove some required fields in the local publish case.\nSigned-off-by: Alan Chiu achiu@lyft.com\nFor an explanation of how to fill out the fields, please see the relevant section\nin PULL_REQUESTS.md\nDescription: android: clean up sonatype upload to support local deploy\nRisk Level: low\nTesting: local\nDocs Changes: n/a\nRelease Notes: n/a\n[Optional Fixes #Issue]\n[Optional Deprecated:]", "createdAt": "2020-07-23T00:24:02Z", "url": "https://github.com/envoyproxy/envoy-mobile/pull/969", "merged": true, "mergeCommit": {"oid": "80f3472e791f3c17590dbf0f45a2309d7b49d78c"}, "closed": true, "closedAt": "2020-07-29T01:08:40Z", "author": {"login": "buildbreaker"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc5N8cSgH2gAyNDU1NDE4NzQ0OmJmOTI2Nzg2YjA2ZjBlODdlNjdkNGZhZDJiY2I1Nzg0YzdmZTc1NjI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc5fMTwAFqTQ1NzEwMTExNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "bf926786b06f0e87e67d4fad2bcb5784c7fe7562", "author": {"user": {"login": "buildbreaker", "name": "Alan Chiu"}}, "url": "https://github.com/envoyproxy/envoy-mobile/commit/bf926786b06f0e87e67d4fad2bcb5784c7fe7562", "committedDate": "2020-07-28T03:34:33Z", "message": "android: clean up sonatype upload to support local deploy\n\nSigned-off-by: Alan Chiu <achiu@lyft.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7ae1c53de2bfc504732bdec65842ec0c7e1e18d2", "author": {"user": {"login": "buildbreaker", "name": "Alan Chiu"}}, "url": "https://github.com/envoyproxy/envoy-mobile/commit/7ae1c53de2bfc504732bdec65842ec0c7e1e18d2", "committedDate": "2020-07-28T03:34:33Z", "message": "add docs\n\nSigned-off-by: Alan Chiu <achiu@lyft.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d06917b9a2a145d59d3cea917f2781f52f279dc2", "author": {"user": {"login": "buildbreaker", "name": "Alan Chiu"}}, "url": "https://github.com/envoyproxy/envoy-mobile/commit/d06917b9a2a145d59d3cea917f2781f52f279dc2", "committedDate": "2020-07-27T19:22:23Z", "message": "add docs\n\nSigned-off-by: Alan Chiu <achiu@lyft.com>"}, "afterCommit": {"oid": "7ae1c53de2bfc504732bdec65842ec0c7e1e18d2", "author": {"user": {"login": "buildbreaker", "name": "Alan Chiu"}}, "url": "https://github.com/envoyproxy/envoy-mobile/commit/7ae1c53de2bfc504732bdec65842ec0c7e1e18d2", "committedDate": "2020-07-28T03:34:33Z", "message": "add docs\n\nSigned-off-by: Alan Chiu <achiu@lyft.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b8f12e4c5e354fb86b4ff8f82e6d5af08194daad", "author": {"user": {"login": "buildbreaker", "name": "Alan Chiu"}}, "url": "https://github.com/envoyproxy/envoy-mobile/commit/b8f12e4c5e354fb86b4ff8f82e6d5af08194daad", "committedDate": "2020-07-28T03:34:44Z", "message": "bazel changes for local maven\n\nSigned-off-by: Alan Chiu <achiu@lyft.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "961ad529dd18b1529f6639a133c4c968fdcc0422", "author": {"user": {"login": "buildbreaker", "name": "Alan Chiu"}}, "url": "https://github.com/envoyproxy/envoy-mobile/commit/961ad529dd18b1529f6639a133c4c968fdcc0422", "committedDate": "2020-07-28T21:40:04Z", "message": "update with issue\n\nSigned-off-by: Alan Chiu <achiu@lyft.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU3MDg4Mzg3", "url": "https://github.com/envoyproxy/envoy-mobile/pull/969#pullrequestreview-457088387", "createdAt": "2020-07-28T23:05:33Z", "commit": {"oid": "961ad529dd18b1529f6639a133c4c968fdcc0422"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQyMzowNTozM1rOG4iweQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQyMzowNTozM1rOG4iweQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTk0MjkwNQ==", "bodyText": "it might worth doing this:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                bazelisk build android_dist --config=android --fat_apk_cpu=x86\n          \n          \n            \n            bazelisk build android_dist --config=android --fat_apk_cpu=x86 --fat_apk_cpu=[x86|armeabi-v7a|arm64-v8a]", "url": "https://github.com/envoyproxy/envoy-mobile/pull/969#discussion_r461942905", "createdAt": "2020-07-28T23:05:33Z", "author": {"login": "jingwei99"}, "path": "docs/root/start/building/building.rst", "diffHunk": "@@ -128,3 +128,27 @@ and include the following in the WORKSPACE file::\n     # Relative paths are also supported.\n     path = \"/somewhere/on/filesystem/envoy_build_config\",\n   )\n+\n+------------------------------\n+Deploying Envoy Mobile Locally\n+------------------------------\n+\n+~~~~~~~\n+Android\n+~~~~~~~\n+\n+To deploy Envoy Mobile's aar to your local maven repository, run the following commands::\n+\n+    # To build Envoy Mobile\n+    bazelisk build android_dist --config=android --fat_apk_cpu=x86", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "961ad529dd18b1529f6639a133c4c968fdcc0422"}, "originalPosition": 16}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU3MDg5ODAx", "url": "https://github.com/envoyproxy/envoy-mobile/pull/969#pullrequestreview-457089801", "createdAt": "2020-07-28T23:09:20Z", "commit": {"oid": "961ad529dd18b1529f6639a133c4c968fdcc0422"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQyMzowOToyMFrOG4i1Nw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQyMzowOToyMFrOG4i1Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTk0NDExOQ==", "bodyText": "nit: dist/envoy-pom.xml\nso\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                dist/sonatype_nexus_upload.py --files dist/envoy.aar dist/envoy_pom.xml --local\n          \n          \n            \n            dist/sonatype_nexus_upload.py --files dist/envoy.aar dist/envoy-pom.xml --local", "url": "https://github.com/envoyproxy/envoy-mobile/pull/969#discussion_r461944119", "createdAt": "2020-07-28T23:09:20Z", "author": {"login": "jingwei99"}, "path": "docs/root/start/building/building.rst", "diffHunk": "@@ -128,3 +128,27 @@ and include the following in the WORKSPACE file::\n     # Relative paths are also supported.\n     path = \"/somewhere/on/filesystem/envoy_build_config\",\n   )\n+\n+------------------------------\n+Deploying Envoy Mobile Locally\n+------------------------------\n+\n+~~~~~~~\n+Android\n+~~~~~~~\n+\n+To deploy Envoy Mobile's aar to your local maven repository, run the following commands::\n+\n+    # To build Envoy Mobile\n+    bazelisk build android_dist --config=android --fat_apk_cpu=x86\n+\n+    # To publish to local maven\n+    dist/sonatype_nexus_upload.py --files dist/envoy.aar dist/envoy_pom.xml --local", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "961ad529dd18b1529f6639a133c4c968fdcc0422"}, "originalPosition": 19}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9d260120bfa4722a74fe693810de9a2fe20ee60b", "author": {"user": {"login": "buildbreaker", "name": "Alan Chiu"}}, "url": "https://github.com/envoyproxy/envoy-mobile/commit/9d260120bfa4722a74fe693810de9a2fe20ee60b", "committedDate": "2020-07-28T23:15:56Z", "message": "pr feedback\n\nSigned-off-by: Alan Chiu <achiu@lyft.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7e8e9122a1ee3693342755c62740fed4b92b103c", "author": {"user": {"login": "buildbreaker", "name": "Alan Chiu"}}, "url": "https://github.com/envoyproxy/envoy-mobile/commit/7e8e9122a1ee3693342755c62740fed4b92b103c", "committedDate": "2020-07-28T23:26:51Z", "message": "ooooops\n\nSigned-off-by: Alan Chiu <achiu@lyft.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU3MDk2OTgz", "url": "https://github.com/envoyproxy/envoy-mobile/pull/969#pullrequestreview-457096983", "createdAt": "2020-07-28T23:28:43Z", "commit": {"oid": "7e8e9122a1ee3693342755c62740fed4b92b103c"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c5c1f89483eb280560bb16950273372d496eddd9", "author": {"user": {"login": "buildbreaker", "name": "Alan Chiu"}}, "url": "https://github.com/envoyproxy/envoy-mobile/commit/c5c1f89483eb280560bb16950273372d496eddd9", "committedDate": "2020-07-28T23:38:30Z", "message": "add sha256 print\n\nSigned-off-by: Alan Chiu <achiu@lyft.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU3MTAxMTE2", "url": "https://github.com/envoyproxy/envoy-mobile/pull/969#pullrequestreview-457101116", "createdAt": "2020-07-28T23:40:16Z", "commit": {"oid": "c5c1f89483eb280560bb16950273372d496eddd9"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4115, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}