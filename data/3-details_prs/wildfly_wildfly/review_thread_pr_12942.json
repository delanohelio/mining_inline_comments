{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY3NjI4NjI1", "number": 12942, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yN1QxOTo1NDozNFrODbAPiA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQwODo0NDo0NFrODcKvPg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI5NjQyMTIwOnYy", "diffSide": "RIGHT", "path": "galleon-pack/src/main/resources/layers/standalone/jaxrs-server/layer-spec.xml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yN1QxOTo1NDozNFrOFiPgWw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOFQwODo0Njo1NlrOFic3cg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTQ0OTk0Nw==", "bodyText": "A comment here as to why this is optional would be good. Some maintainer some day will wonder and may naively remove the optional.", "url": "https://github.com/wildfly/wildfly/pull/12942#discussion_r371449947", "createdAt": "2020-01-27T19:54:34Z", "author": {"login": "bstansberry"}, "path": "galleon-pack/src/main/resources/layers/standalone/jaxrs-server/layer-spec.xml", "diffHunk": "@@ -2,7 +2,7 @@\n <layer-spec xmlns=\"urn:jboss:galleon:layer-spec:1.0\" name=\"jaxrs-server\">\n     <dependencies>\n         <layer name=\"datasources-web-server\"/>\n-        <layer name=\"jaxrs\" />\n+        <layer name=\"jaxrs\" optional=\"true\"/>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bca39c6f62681215e07daf087942d5db9a255c1a"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTY2ODg1MA==", "bodyText": "Ok, added.", "url": "https://github.com/wildfly/wildfly/pull/12942#discussion_r371668850", "createdAt": "2020-01-28T08:46:56Z", "author": {"login": "jfdenise"}, "path": "galleon-pack/src/main/resources/layers/standalone/jaxrs-server/layer-spec.xml", "diffHunk": "@@ -2,7 +2,7 @@\n <layer-spec xmlns=\"urn:jboss:galleon:layer-spec:1.0\" name=\"jaxrs-server\">\n     <dependencies>\n         <layer name=\"datasources-web-server\"/>\n-        <layer name=\"jaxrs\" />\n+        <layer name=\"jaxrs\" optional=\"true\"/>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTQ0OTk0Nw=="}, "originalCommit": {"oid": "bca39c6f62681215e07daf087942d5db9a255c1a"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMwODYyNjU0OnYy", "diffSide": "LEFT", "path": "galleon-pack/src/main/resources/layers/standalone/cloud-server/layer-spec.xml", "isResolved": false, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQwODo0NDo0NFrOFkEnFw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wM1QwOTowNTowMFrOFkqSQQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzM2ODU5OQ==", "bodyText": "@jfdenise could you please confirm my understanding?\n\ncore-server, core-tools and undertow-elytron-security will now come from jaxrs-server > datasources-web-server\ncloud-profile is no longer required as all layers listed in it are now listed in cloud-server. But shouldn't still be a relation between cloud-server and cloud-profile?", "url": "https://github.com/wildfly/wildfly/pull/12942#discussion_r373368599", "createdAt": "2020-01-31T08:44:44Z", "author": {"login": "jmesnil"}, "path": "galleon-pack/src/main/resources/layers/standalone/cloud-server/layer-spec.xml", "diffHunk": "@@ -1,13 +1,10 @@\n <?xml version=\"1.0\" ?>\n <layer-spec xmlns=\"urn:jboss:galleon:layer-spec:1.0\" name=\"cloud-server\">\n     <dependencies>\n-        <layer name=\"cloud-profile\"/>\n-        <layer name=\"core-server\"/>\n-        <layer name=\"core-tools\"/>\n+        <layer name=\"jaxrs-server\"/>\n+        <layer name=\"ee-security\" optional=\"true\"/>\n+        <layer name=\"jms-activemq\" optional=\"true\"/>\n+        <layer name=\"observability\" optional=\"true\"/>\n+        <layer name=\"resource-adapters\" optional=\"true\"/>\n     </dependencies>\n-    <feature-group name=\"undertow-elytron-security\"/>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "31469134f5289dc47d50a33562d1e14235515e40"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzM3MzQyMQ==", "bodyText": "What kind of relation we could have? cloud-profile dependency is to me an implementation detail. With dependency on jaxrs-server we offer the same level of flexibility.", "url": "https://github.com/wildfly/wildfly/pull/12942#discussion_r373373421", "createdAt": "2020-01-31T08:57:56Z", "author": {"login": "jfdenise"}, "path": "galleon-pack/src/main/resources/layers/standalone/cloud-server/layer-spec.xml", "diffHunk": "@@ -1,13 +1,10 @@\n <?xml version=\"1.0\" ?>\n <layer-spec xmlns=\"urn:jboss:galleon:layer-spec:1.0\" name=\"cloud-server\">\n     <dependencies>\n-        <layer name=\"cloud-profile\"/>\n-        <layer name=\"core-server\"/>\n-        <layer name=\"core-tools\"/>\n+        <layer name=\"jaxrs-server\"/>\n+        <layer name=\"ee-security\" optional=\"true\"/>\n+        <layer name=\"jms-activemq\" optional=\"true\"/>\n+        <layer name=\"observability\" optional=\"true\"/>\n+        <layer name=\"resource-adapters\" optional=\"true\"/>\n     </dependencies>\n-    <feature-group name=\"undertow-elytron-security\"/>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzM2ODU5OQ=="}, "originalCommit": {"oid": "31469134f5289dc47d50a33562d1e14235515e40"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzcxMzg4Mg==", "bodyText": "This is a tangent and not something to address here but I suspect the documentation of cloud-profile is no longer accurate.\ncloud-profile, an aggregation of the basic layers (except h2-* layers) and a web-server .\nThe \"basic layers\" list is a moving target.\nHmm, maybe my #12927 change to that file (https://github.com/wildfly/wildfly/pull/12927/files#diff-9a6f6b7a6bd30fddb786db3840aac00f) somewhat makes that go away by moving FT/JWT/OpenAPI into a different section.  But that text can break in the future, as soon as we add a new layer.\nPerhaps drop it from the doc page?", "url": "https://github.com/wildfly/wildfly/pull/12942#discussion_r373713882", "createdAt": "2020-01-31T22:29:42Z", "author": {"login": "bstansberry"}, "path": "galleon-pack/src/main/resources/layers/standalone/cloud-server/layer-spec.xml", "diffHunk": "@@ -1,13 +1,10 @@\n <?xml version=\"1.0\" ?>\n <layer-spec xmlns=\"urn:jboss:galleon:layer-spec:1.0\" name=\"cloud-server\">\n     <dependencies>\n-        <layer name=\"cloud-profile\"/>\n-        <layer name=\"core-server\"/>\n-        <layer name=\"core-tools\"/>\n+        <layer name=\"jaxrs-server\"/>\n+        <layer name=\"ee-security\" optional=\"true\"/>\n+        <layer name=\"jms-activemq\" optional=\"true\"/>\n+        <layer name=\"observability\" optional=\"true\"/>\n+        <layer name=\"resource-adapters\" optional=\"true\"/>\n     </dependencies>\n-    <feature-group name=\"undertow-elytron-security\"/>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzM2ODU5OQ=="}, "originalCommit": {"oid": "31469134f5289dc47d50a33562d1e14235515e40"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzcxNDAyMg==", "bodyText": "@jfdenise ^^^", "url": "https://github.com/wildfly/wildfly/pull/12942#discussion_r373714022", "createdAt": "2020-01-31T22:30:12Z", "author": {"login": "bstansberry"}, "path": "galleon-pack/src/main/resources/layers/standalone/cloud-server/layer-spec.xml", "diffHunk": "@@ -1,13 +1,10 @@\n <?xml version=\"1.0\" ?>\n <layer-spec xmlns=\"urn:jboss:galleon:layer-spec:1.0\" name=\"cloud-server\">\n     <dependencies>\n-        <layer name=\"cloud-profile\"/>\n-        <layer name=\"core-server\"/>\n-        <layer name=\"core-tools\"/>\n+        <layer name=\"jaxrs-server\"/>\n+        <layer name=\"ee-security\" optional=\"true\"/>\n+        <layer name=\"jms-activemq\" optional=\"true\"/>\n+        <layer name=\"observability\" optional=\"true\"/>\n+        <layer name=\"resource-adapters\" optional=\"true\"/>\n     </dependencies>\n-    <feature-group name=\"undertow-elytron-security\"/>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzM2ODU5OQ=="}, "originalCommit": {"oid": "31469134f5289dc47d50a33562d1e14235515e40"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mzk4NTg1Nw==", "bodyText": "Yes, +1 to remove it from the doc.", "url": "https://github.com/wildfly/wildfly/pull/12942#discussion_r373985857", "createdAt": "2020-02-03T09:05:00Z", "author": {"login": "jfdenise"}, "path": "galleon-pack/src/main/resources/layers/standalone/cloud-server/layer-spec.xml", "diffHunk": "@@ -1,13 +1,10 @@\n <?xml version=\"1.0\" ?>\n <layer-spec xmlns=\"urn:jboss:galleon:layer-spec:1.0\" name=\"cloud-server\">\n     <dependencies>\n-        <layer name=\"cloud-profile\"/>\n-        <layer name=\"core-server\"/>\n-        <layer name=\"core-tools\"/>\n+        <layer name=\"jaxrs-server\"/>\n+        <layer name=\"ee-security\" optional=\"true\"/>\n+        <layer name=\"jms-activemq\" optional=\"true\"/>\n+        <layer name=\"observability\" optional=\"true\"/>\n+        <layer name=\"resource-adapters\" optional=\"true\"/>\n     </dependencies>\n-    <feature-group name=\"undertow-elytron-security\"/>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzM2ODU5OQ=="}, "originalCommit": {"oid": "31469134f5289dc47d50a33562d1e14235515e40"}, "originalPosition": 13}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4016, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}