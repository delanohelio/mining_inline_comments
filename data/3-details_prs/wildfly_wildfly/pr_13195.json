{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAxMDg4NjUw", "number": 13195, "title": "[WFLY-13345] Ignore classloading failures when processing component i\u2026", "bodyText": "\u2026nterceptor annotations\nhttps://issues.redhat.com/browse/WFLY-13345\nI'd like some thought on this one from someone besides myself.  I think the kinds of problems that this now ignores are conceptually in the same category as the ClassLoadingUtils.loadClass problems we were already ignoring so the same handling seems ok.  Basically MethodAnnotationAggregator/ClassReflectionIndex are doing deeper probing of the class than simple classloading does but the kinds of problems it might hit are of the same general category.", "createdAt": "2020-04-08T21:24:30Z", "url": "https://github.com/wildfly/wildfly/pull/13195", "merged": true, "mergeCommit": {"oid": "1d45e2112b28d31989ac52bc72b23a6ec531ff7f"}, "closed": true, "closedAt": "2020-06-17T11:43:05Z", "author": {"login": "bstansberry"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABclP0dEgFqTQxODgxNTA0MA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcsAQBZgBqjM0NTE1MzA4MDU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE4ODE1MDQw", "url": "https://github.com/wildfly/wildfly/pull/13195#pullrequestreview-418815040", "createdAt": "2020-05-27T02:27:08Z", "commit": {"oid": "cea55bde74b62ceeaf678f8bad9cd53110f14a84"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QwMjoyNzowOFrOGa3UxA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QwMjoyNzowOFrOGa3UxA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDgyMjU5Ng==", "bodyText": "LGTM. Some minor points: we can now remove throws DeploymentUnitProcessingException since the method already catches all exceptions. return; is now also redundant. final <class> componentClass can be combined with assignment.", "url": "https://github.com/wildfly/wildfly/pull/13195#discussion_r430822596", "createdAt": "2020-05-27T02:27:08Z", "author": {"login": "chengfang"}, "path": "ee/src/main/java/org/jboss/as/ee/component/deployers/InterceptorAnnotationProcessor.java", "diffHunk": "@@ -82,13 +83,14 @@ private void processComponentConfig(final EEApplicationClasses applicationClasse\n         final Class<?> componentClass;\n         try {\n             componentClass = ClassLoadingUtils.loadClass(description.getComponentClassName(), deploymentUnit);\n+            handleAnnotations(applicationClasses, deploymentReflectionIndex, componentClass, description);\n         } catch (Throwable e) {\n             //just ignore the class for now.\n             //if it is an optional component this is ok, if it is not an optional component\n             //it will fail at configure time anyway\n+            EeLogger.ROOT_LOGGER.debugf(e,\"Ignoring failure to handle interceptor annotations for %s\", description.getComponentClassName());\n             return;\n         }\n-        handleAnnotations(applicationClasses, deploymentReflectionIndex, componentClass, description);\n     }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cea55bde74b62ceeaf678f8bad9cd53110f14a84"}, "originalPosition": 21}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE4ODE1MDc0", "url": "https://github.com/wildfly/wildfly/pull/13195#pullrequestreview-418815074", "createdAt": "2020-05-27T02:27:17Z", "commit": {"oid": "cea55bde74b62ceeaf678f8bad9cd53110f14a84"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "cea55bde74b62ceeaf678f8bad9cd53110f14a84", "author": {"user": {"login": "bstansberry", "name": " Brian Stansberry"}}, "url": "https://github.com/wildfly/wildfly/commit/cea55bde74b62ceeaf678f8bad9cd53110f14a84", "committedDate": "2020-04-08T21:19:07Z", "message": "[WFLY-13345] Ignore classloading failures when processing component interceptor annotations"}, "afterCommit": {"oid": "82d89fd79f2b0d897761af46726374c08fa7d798", "author": {"user": {"login": "bstansberry", "name": " Brian Stansberry"}}, "url": "https://github.com/wildfly/wildfly/commit/82d89fd79f2b0d897761af46726374c08fa7d798", "committedDate": "2020-06-17T02:14:59Z", "message": "[WFLY-13345] Ignore classloading failures when processing component interceptor annotations"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "db99f0ed3ddd21460333a6fef445a87db6ed8bfe", "author": {"user": {"login": "bstansberry", "name": " Brian Stansberry"}}, "url": "https://github.com/wildfly/wildfly/commit/db99f0ed3ddd21460333a6fef445a87db6ed8bfe", "committedDate": "2020-06-17T02:16:02Z", "message": "[WFLY-13345] Ignore classloading failures when processing component interceptor annotations"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "82d89fd79f2b0d897761af46726374c08fa7d798", "author": {"user": {"login": "bstansberry", "name": " Brian Stansberry"}}, "url": "https://github.com/wildfly/wildfly/commit/82d89fd79f2b0d897761af46726374c08fa7d798", "committedDate": "2020-06-17T02:14:59Z", "message": "[WFLY-13345] Ignore classloading failures when processing component interceptor annotations"}, "afterCommit": {"oid": "db99f0ed3ddd21460333a6fef445a87db6ed8bfe", "author": {"user": {"login": "bstansberry", "name": " Brian Stansberry"}}, "url": "https://github.com/wildfly/wildfly/commit/db99f0ed3ddd21460333a6fef445a87db6ed8bfe", "committedDate": "2020-06-17T02:16:02Z", "message": "[WFLY-13345] Ignore classloading failures when processing component interceptor annotations"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3510, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}