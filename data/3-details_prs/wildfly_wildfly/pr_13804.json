{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM0NjA4ODAz", "number": 13804, "title": "WFLY-14132 jboss-ejb3.xml is ignored for exploded deployments", "bodyText": "JIRA: https://issues.redhat.com/browse/WFLY-14132", "createdAt": "2020-12-08T17:30:21Z", "url": "https://github.com/wildfly/wildfly/pull/13804", "merged": true, "mergeCommit": {"oid": "bbc3af8b28447ca59bfa206a314be94289e42f78"}, "closed": true, "closedAt": "2020-12-09T23:36:35Z", "author": {"login": "chengfang"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdkNvAUgFqTU0NzQ3MTM5OQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdkdqsFgFqTU0ODEyMDU4OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ3NDcxMzk5", "url": "https://github.com/wildfly/wildfly/pull/13804#pullrequestreview-547471399", "createdAt": "2020-12-08T17:38:37Z", "commit": {"oid": "0999a4b5d2f9b4b4072e58c0152f08dd5563b227"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxNzozODozN1rOIBsTxA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxNzozODozN1rOIBsTxA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODY0NTQ0NA==", "bodyText": "Is dropping the case sensitivity bit ok? I don't recall us doing anything to control what case is used for any runtime-name the user provides via the management API.", "url": "https://github.com/wildfly/wildfly/pull/13804#discussion_r538645444", "createdAt": "2020-12-08T17:38:37Z", "author": {"login": "bstansberry"}, "path": "ejb3/src/main/java/org/jboss/as/ejb3/deployment/processors/EjbJarParsingDeploymentUnitProcessor.java", "diffHunk": "@@ -191,14 +189,15 @@ public void undeploy(DeploymentUnit unit) {\n \n     }\n \n-    private static VirtualFile getDescriptor(final VirtualFile deploymentRoot, final String descriptorName) {\n+    private static VirtualFile getDescriptor(final DeploymentUnit deploymentUnit, final VirtualFile deploymentRoot, final String descriptorName) {\n+        final String deploymentUnitName = deploymentUnit.getName();\n         // Locate the descriptor\n         final VirtualFile descriptor;\n         // EJB 3.1 FR 20.4 Enterprise Beans Packaged in a .war\n-        if (isWar(deploymentRoot)) {\n+        if (deploymentUnitName.endsWith(WAR_FILE_EXTENSION)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0999a4b5d2f9b4b4072e58c0152f08dd5563b227"}, "originalPosition": 21}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0132184d9a332025643b8b57ccfe3bafe11bc0a1", "author": {"user": {"login": "chengfang", "name": "Cheng Fang"}}, "url": "https://github.com/wildfly/wildfly/commit/0132184d9a332025643b8b57ccfe3bafe11bc0a1", "committedDate": "2020-12-08T19:10:02Z", "message": "WFLY-14132 jboss-ejb3.xml is ignored for exploded deployments"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0999a4b5d2f9b4b4072e58c0152f08dd5563b227", "author": {"user": {"login": "chengfang", "name": "Cheng Fang"}}, "url": "https://github.com/wildfly/wildfly/commit/0999a4b5d2f9b4b4072e58c0152f08dd5563b227", "committedDate": "2020-12-08T17:23:11Z", "message": "WFLY-14132 jboss-ejb3.xml is ignored for exploded deployments"}, "afterCommit": {"oid": "0132184d9a332025643b8b57ccfe3bafe11bc0a1", "author": {"user": {"login": "chengfang", "name": "Cheng Fang"}}, "url": "https://github.com/wildfly/wildfly/commit/0132184d9a332025643b8b57ccfe3bafe11bc0a1", "committedDate": "2020-12-08T19:10:02Z", "message": "WFLY-14132 jboss-ejb3.xml is ignored for exploded deployments"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ4MTIwNTg4", "url": "https://github.com/wildfly/wildfly/pull/13804#pullrequestreview-548120588", "createdAt": "2020-12-09T12:12:23Z", "commit": {"oid": "0132184d9a332025643b8b57ccfe3bafe11bc0a1"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3692, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}