{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc3NTYxNzYy", "number": 13524, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QxNzowMjo1MlrOEgFKag==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QyMDo1NTozMFrOEgJzMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAyMDc0NDc0OnYy", "diffSide": "RIGHT", "path": "ee-feature-pack/galleon-common/src/main/resources/layers/standalone/iiop-openjdk/layer-spec.xml", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QxNzowMjo1MlrOHMvyJw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QxNzoyMjowMlrOHMwbkg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzEyNzg0Nw==", "bodyText": "This feature-group uses 'security=\"identity\"' which AFAICT introduces a requirement for the legacy security subsytem. Which isn't ok; we don't want layers to require the legacy security subsystem", "url": "https://github.com/wildfly/wildfly/pull/13524#discussion_r483127847", "createdAt": "2020-09-03T17:02:52Z", "author": {"login": "bstansberry"}, "path": "ee-feature-pack/galleon-common/src/main/resources/layers/standalone/iiop-openjdk/layer-spec.xml", "diffHunk": "@@ -0,0 +1,21 @@\n+<?xml version=\"1.0\" ?>\n+<layer-spec xmlns=\"urn:jboss:galleon:layer-spec:1.0\" name=\"iiop-openjdk\">\n+    <dependencies>\n+        <layer name=\"naming\"/>\n+    </dependencies>\n+    <feature-group name=\"iiop-openjdk\"/>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "33fb6f42af3ff3c2b7bf8eff4c633e6d89948567"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzEzODQ1MA==", "bodyText": "If the layer instead specified 'security='elytron'\" then a dependency on the 'elytron' layer would be required.\nSuch a dependency should be declared as optional, to allow the user to exclude the dependency if they intend to change the 'security' value.", "url": "https://github.com/wildfly/wildfly/pull/13524#discussion_r483138450", "createdAt": "2020-09-03T17:22:02Z", "author": {"login": "bstansberry"}, "path": "ee-feature-pack/galleon-common/src/main/resources/layers/standalone/iiop-openjdk/layer-spec.xml", "diffHunk": "@@ -0,0 +1,21 @@\n+<?xml version=\"1.0\" ?>\n+<layer-spec xmlns=\"urn:jboss:galleon:layer-spec:1.0\" name=\"iiop-openjdk\">\n+    <dependencies>\n+        <layer name=\"naming\"/>\n+    </dependencies>\n+    <feature-group name=\"iiop-openjdk\"/>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzEyNzg0Nw=="}, "originalCommit": {"oid": "33fb6f42af3ff3c2b7bf8eff4c633e6d89948567"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAyMTUwMTY5OnYy", "diffSide": "RIGHT", "path": "testsuite/integration/basic/pom.xml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QyMDo1NDo0M1rOHM3KMQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QyMToyNzoxNVrOHM4Dlw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzI0ODY4OQ==", "bodyText": "@chengfang This needs to be\n<groupId>${testsuite.ee.galleon.pack.groupId}</groupId>\n\nThis allows different test jobs to configure what feature pack is used to provision the server, i.e. the one that directly exposes the layer or a higher level one that exposes it transitively.", "url": "https://github.com/wildfly/wildfly/pull/13524#discussion_r483248689", "createdAt": "2020-09-03T20:54:43Z", "author": {"login": "bstansberry"}, "path": "testsuite/integration/basic/pom.xml", "diffHunk": "@@ -1197,8 +1235,127 @@\n                                 </configuration>\n                             </execution>\n \n+                            <!-- Provision a cloud-profile server with ejb3-lite -->\n+                            <execution>\n+                                <id>ejb3-lite-provisioning</id>\n+                                <goals>\n+                                    <goal>provision</goal>\n+                                </goals>\n+                                <phase>compile</phase>\n+                                <configuration>\n+                                    <install-dir>${project.build.directory}/wildfly-ejb3-lite</install-dir>\n+                                    <record-state>false</record-state>\n+                                    <log-time>${galleon.log.time}</log-time>\n+                                    <offline>true</offline>\n+                                    <plugin-options>\n+                                        <jboss-maven-dist/>\n+                                        <jboss-fork-embedded>${galleon.fork.embedded}</jboss-fork-embedded>\n+                                        <optional-packages>passive+</optional-packages>\n+                                    </plugin-options>\n+                                    <feature-packs>\n+                                        <feature-pack>\n+                                            <groupId>${project.groupId}</groupId>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "33fb6f42af3ff3c2b7bf8eff4c633e6d89948567"}, "originalPosition": 77}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzI2MzM4Mw==", "bodyText": "will fix it.", "url": "https://github.com/wildfly/wildfly/pull/13524#discussion_r483263383", "createdAt": "2020-09-03T21:27:15Z", "author": {"login": "chengfang"}, "path": "testsuite/integration/basic/pom.xml", "diffHunk": "@@ -1197,8 +1235,127 @@\n                                 </configuration>\n                             </execution>\n \n+                            <!-- Provision a cloud-profile server with ejb3-lite -->\n+                            <execution>\n+                                <id>ejb3-lite-provisioning</id>\n+                                <goals>\n+                                    <goal>provision</goal>\n+                                </goals>\n+                                <phase>compile</phase>\n+                                <configuration>\n+                                    <install-dir>${project.build.directory}/wildfly-ejb3-lite</install-dir>\n+                                    <record-state>false</record-state>\n+                                    <log-time>${galleon.log.time}</log-time>\n+                                    <offline>true</offline>\n+                                    <plugin-options>\n+                                        <jboss-maven-dist/>\n+                                        <jboss-fork-embedded>${galleon.fork.embedded}</jboss-fork-embedded>\n+                                        <optional-packages>passive+</optional-packages>\n+                                    </plugin-options>\n+                                    <feature-packs>\n+                                        <feature-pack>\n+                                            <groupId>${project.groupId}</groupId>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzI0ODY4OQ=="}, "originalCommit": {"oid": "33fb6f42af3ff3c2b7bf8eff4c633e6d89948567"}, "originalPosition": 77}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAyMTUwNDUxOnYy", "diffSide": "RIGHT", "path": "testsuite/integration/basic/pom.xml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QyMDo1NTozMFrOHM3L1Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QyMToyNzoyNlrOHM4D7g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzI0OTEwOQ==", "bodyText": "@chengfang This needs to be\n<groupId>${testsuite.ee.galleon.pack.groupId}</groupId>", "url": "https://github.com/wildfly/wildfly/pull/13524#discussion_r483249109", "createdAt": "2020-09-03T20:55:30Z", "author": {"login": "bstansberry"}, "path": "testsuite/integration/basic/pom.xml", "diffHunk": "@@ -1197,8 +1235,127 @@\n                                 </configuration>\n                             </execution>\n \n+                            <!-- Provision a cloud-profile server with ejb3-lite -->\n+                            <execution>\n+                                <id>ejb3-lite-provisioning</id>\n+                                <goals>\n+                                    <goal>provision</goal>\n+                                </goals>\n+                                <phase>compile</phase>\n+                                <configuration>\n+                                    <install-dir>${project.build.directory}/wildfly-ejb3-lite</install-dir>\n+                                    <record-state>false</record-state>\n+                                    <log-time>${galleon.log.time}</log-time>\n+                                    <offline>true</offline>\n+                                    <plugin-options>\n+                                        <jboss-maven-dist/>\n+                                        <jboss-fork-embedded>${galleon.fork.embedded}</jboss-fork-embedded>\n+                                        <optional-packages>passive+</optional-packages>\n+                                    </plugin-options>\n+                                    <feature-packs>\n+                                        <feature-pack>\n+                                            <groupId>${project.groupId}</groupId>\n+                                            <artifactId>${testsuite.ee.galleon.pack.artifactId}</artifactId>\n+                                            <version>${testsuite.ee.galleon.pack.version}</version>\n+                                            <inherit-configs>false</inherit-configs>\n+                                            <inherit-packages>false</inherit-packages>\n+                                        </feature-pack>\n+                                    </feature-packs>\n+                                    <configurations>\n+                                        <config>\n+                                            <model>standalone</model>\n+                                            <name>standalone.xml</name>\n+                                            <layers>\n+                                                <layer>cloud-server</layer>\n+                                                <layer>h2-default-datasource</layer>\n+                                                <layer>ejb3-lite</layer>\n+                                            </layers>\n+                                        </config>\n+                                    </configurations>\n+                                </configuration>\n+                            </execution>\n+                            <!-- Provision a cloud-profile server with ejb3 -->\n+                            <execution>\n+                                <id>ejb3-provisioning</id>\n+                                <goals>\n+                                    <goal>provision</goal>\n+                                </goals>\n+                                <phase>compile</phase>\n+                                <configuration>\n+                                    <install-dir>${project.build.directory}/wildfly-ejb3</install-dir>\n+                                    <record-state>false</record-state>\n+                                    <log-time>${galleon.log.time}</log-time>\n+                                    <offline>true</offline>\n+                                    <plugin-options>\n+                                        <jboss-maven-dist/>\n+                                        <jboss-fork-embedded>${galleon.fork.embedded}</jboss-fork-embedded>\n+                                        <optional-packages>passive+</optional-packages>\n+                                    </plugin-options>\n+                                    <feature-packs>\n+                                        <feature-pack>\n+                                            <groupId>${project.groupId}</groupId>\n+                                            <artifactId>wildfly-test-galleon-pack</artifactId>\n+                                            <version>${ee.maven.version}</version>\n+                                            <inherit-configs>false</inherit-configs>\n+                                            <inherit-packages>false</inherit-packages>\n+                                        </feature-pack>\n+                                    </feature-packs>\n+                                    <configurations>\n+                                        <config>\n+                                            <model>standalone</model>\n+                                            <name>standalone.xml</name>\n+                                            <layers>\n+                                                <layer>cloud-server</layer>\n+                                                <layer>h2-default-datasource</layer>\n+                                                <layer>ejb3</layer>\n+                                                <layer>ejb-elytron-testsuite</layer>\n+                                            </layers>\n+                                        </config>\n+                                    </configurations>\n+                                </configuration>\n+                            </execution>\n+                            <!-- Provision a cloud-profile server with ejb3-iiop -->\n+                            <execution>\n+                                <id>ejb3-iiop-provisioning</id>\n+                                <goals>\n+                                    <goal>provision</goal>\n+                                </goals>\n+                                <phase>compile</phase>\n+                                <configuration>\n+                                    <install-dir>${project.build.directory}/wildfly-ejb3-iiop</install-dir>\n+                                    <record-state>false</record-state>\n+                                    <log-time>${galleon.log.time}</log-time>\n+                                    <offline>true</offline>\n+                                    <plugin-options>\n+                                        <jboss-maven-dist/>\n+                                        <jboss-fork-embedded>${galleon.fork.embedded}</jboss-fork-embedded>\n+                                        <optional-packages>passive+</optional-packages>\n+                                    </plugin-options>\n+                                    <feature-packs>\n+                                        <feature-pack>\n+                                            <groupId>${project.groupId}</groupId>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "33fb6f42af3ff3c2b7bf8eff4c633e6d89948567"}, "originalPosition": 156}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzI2MzQ3MA==", "bodyText": "will fix it.", "url": "https://github.com/wildfly/wildfly/pull/13524#discussion_r483263470", "createdAt": "2020-09-03T21:27:26Z", "author": {"login": "chengfang"}, "path": "testsuite/integration/basic/pom.xml", "diffHunk": "@@ -1197,8 +1235,127 @@\n                                 </configuration>\n                             </execution>\n \n+                            <!-- Provision a cloud-profile server with ejb3-lite -->\n+                            <execution>\n+                                <id>ejb3-lite-provisioning</id>\n+                                <goals>\n+                                    <goal>provision</goal>\n+                                </goals>\n+                                <phase>compile</phase>\n+                                <configuration>\n+                                    <install-dir>${project.build.directory}/wildfly-ejb3-lite</install-dir>\n+                                    <record-state>false</record-state>\n+                                    <log-time>${galleon.log.time}</log-time>\n+                                    <offline>true</offline>\n+                                    <plugin-options>\n+                                        <jboss-maven-dist/>\n+                                        <jboss-fork-embedded>${galleon.fork.embedded}</jboss-fork-embedded>\n+                                        <optional-packages>passive+</optional-packages>\n+                                    </plugin-options>\n+                                    <feature-packs>\n+                                        <feature-pack>\n+                                            <groupId>${project.groupId}</groupId>\n+                                            <artifactId>${testsuite.ee.galleon.pack.artifactId}</artifactId>\n+                                            <version>${testsuite.ee.galleon.pack.version}</version>\n+                                            <inherit-configs>false</inherit-configs>\n+                                            <inherit-packages>false</inherit-packages>\n+                                        </feature-pack>\n+                                    </feature-packs>\n+                                    <configurations>\n+                                        <config>\n+                                            <model>standalone</model>\n+                                            <name>standalone.xml</name>\n+                                            <layers>\n+                                                <layer>cloud-server</layer>\n+                                                <layer>h2-default-datasource</layer>\n+                                                <layer>ejb3-lite</layer>\n+                                            </layers>\n+                                        </config>\n+                                    </configurations>\n+                                </configuration>\n+                            </execution>\n+                            <!-- Provision a cloud-profile server with ejb3 -->\n+                            <execution>\n+                                <id>ejb3-provisioning</id>\n+                                <goals>\n+                                    <goal>provision</goal>\n+                                </goals>\n+                                <phase>compile</phase>\n+                                <configuration>\n+                                    <install-dir>${project.build.directory}/wildfly-ejb3</install-dir>\n+                                    <record-state>false</record-state>\n+                                    <log-time>${galleon.log.time}</log-time>\n+                                    <offline>true</offline>\n+                                    <plugin-options>\n+                                        <jboss-maven-dist/>\n+                                        <jboss-fork-embedded>${galleon.fork.embedded}</jboss-fork-embedded>\n+                                        <optional-packages>passive+</optional-packages>\n+                                    </plugin-options>\n+                                    <feature-packs>\n+                                        <feature-pack>\n+                                            <groupId>${project.groupId}</groupId>\n+                                            <artifactId>wildfly-test-galleon-pack</artifactId>\n+                                            <version>${ee.maven.version}</version>\n+                                            <inherit-configs>false</inherit-configs>\n+                                            <inherit-packages>false</inherit-packages>\n+                                        </feature-pack>\n+                                    </feature-packs>\n+                                    <configurations>\n+                                        <config>\n+                                            <model>standalone</model>\n+                                            <name>standalone.xml</name>\n+                                            <layers>\n+                                                <layer>cloud-server</layer>\n+                                                <layer>h2-default-datasource</layer>\n+                                                <layer>ejb3</layer>\n+                                                <layer>ejb-elytron-testsuite</layer>\n+                                            </layers>\n+                                        </config>\n+                                    </configurations>\n+                                </configuration>\n+                            </execution>\n+                            <!-- Provision a cloud-profile server with ejb3-iiop -->\n+                            <execution>\n+                                <id>ejb3-iiop-provisioning</id>\n+                                <goals>\n+                                    <goal>provision</goal>\n+                                </goals>\n+                                <phase>compile</phase>\n+                                <configuration>\n+                                    <install-dir>${project.build.directory}/wildfly-ejb3-iiop</install-dir>\n+                                    <record-state>false</record-state>\n+                                    <log-time>${galleon.log.time}</log-time>\n+                                    <offline>true</offline>\n+                                    <plugin-options>\n+                                        <jboss-maven-dist/>\n+                                        <jboss-fork-embedded>${galleon.fork.embedded}</jboss-fork-embedded>\n+                                        <optional-packages>passive+</optional-packages>\n+                                    </plugin-options>\n+                                    <feature-packs>\n+                                        <feature-pack>\n+                                            <groupId>${project.groupId}</groupId>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzI0OTEwOQ=="}, "originalCommit": {"oid": "33fb6f42af3ff3c2b7bf8eff4c633e6d89948567"}, "originalPosition": 156}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4165, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}