{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk0MjIyMDYw", "number": 13609, "title": "WFLY-13911 Intermittent deployment failures in clustering testsuite on Linux", "bodyText": "https://issues.redhat.com/browse/WFLY-13911", "createdAt": "2020-09-28T15:17:21Z", "url": "https://github.com/wildfly/wildfly/pull/13609", "merged": true, "mergeCommit": {"oid": "b45395d570d795fb038ae6d098b50759c0d7c8e2"}, "closed": true, "closedAt": "2020-10-02T01:03:27Z", "author": {"login": "pferraro"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdNa5SEgBqjM4MTY2MzE2MDk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdOWLeMgFqTUwMDYzNTE4NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "af17e14ece9f492d35a53b74df1bd38b206ee273", "author": {"user": {"login": "pferraro", "name": "Paul Ferraro"}}, "url": "https://github.com/wildfly/wildfly/commit/af17e14ece9f492d35a53b74df1bd38b206ee273", "committedDate": "2020-09-28T15:15:33Z", "message": "WFLY-13911 Intermittent deployment failures in clustering testsuite on Linux"}, "afterCommit": {"oid": "adaa6f64a50cecf34f06feea84da9aec308f0a38", "author": {"user": {"login": "pferraro", "name": "Paul Ferraro"}}, "url": "https://github.com/wildfly/wildfly/commit/adaa6f64a50cecf34f06feea84da9aec308f0a38", "committedDate": "2020-09-28T21:58:10Z", "message": "WFLY-13911 Intermittent deployment failures in clustering testsuite on Linux"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ad80eb151beb69273748069ae0583ec342904142", "author": {"user": {"login": "pferraro", "name": "Paul Ferraro"}}, "url": "https://github.com/wildfly/wildfly/commit/ad80eb151beb69273748069ae0583ec342904142", "committedDate": "2020-09-29T11:02:31Z", "message": "WFLY-13911 Intermittent deployment failures in clustering testsuite on Linux"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "adaa6f64a50cecf34f06feea84da9aec308f0a38", "author": {"user": {"login": "pferraro", "name": "Paul Ferraro"}}, "url": "https://github.com/wildfly/wildfly/commit/adaa6f64a50cecf34f06feea84da9aec308f0a38", "committedDate": "2020-09-28T21:58:10Z", "message": "WFLY-13911 Intermittent deployment failures in clustering testsuite on Linux"}, "afterCommit": {"oid": "ad80eb151beb69273748069ae0583ec342904142", "author": {"user": {"login": "pferraro", "name": "Paul Ferraro"}}, "url": "https://github.com/wildfly/wildfly/commit/ad80eb151beb69273748069ae0583ec342904142", "committedDate": "2020-09-29T11:02:31Z", "message": "WFLY-13911 Intermittent deployment failures in clustering testsuite on Linux"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAwNjM1MTg0", "url": "https://github.com/wildfly/wildfly/pull/13609#pullrequestreview-500635184", "createdAt": "2020-10-01T19:00:58Z", "commit": {"oid": "ad80eb151beb69273748069ae0583ec342904142"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMVQxOTowMDo1OFrOHbXQ5A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMVQxOTowMDo1OFrOHbXQ5A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODQ1NDc1Ng==", "bodyText": "The read-resource-description text description of these 2 attributes should mention that this multiplication occurs. (I think continuing to share the text across pool types is ok; the text can mention that the behavior is only for a non-blocking pool.)\nI don't think this point should block this change getting in for WF 21 if that is wanted; it can come later.", "url": "https://github.com/wildfly/wildfly/pull/13609#discussion_r498454756", "createdAt": "2020-10-01T19:00:58Z", "author": {"login": "bstansberry"}, "path": "clustering/infinispan/extension/src/main/java/org/jboss/as/clustering/infinispan/subsystem/ThreadPoolServiceConfigurator.java", "diffHunk": "@@ -61,7 +61,9 @@ public ServiceConfigurator configure(OperationContext context, ModelNode model)\n         long keepAliveTime = this.definition.getKeepAliveTime().resolveModelAttribute(context, model).asLong();\n         boolean nonBlocking = this.definition.isNonBlocking();\n         if (this.definition == ThreadPoolResourceDefinition.NON_BLOCKING) {\n-            maxThreads *= ProcessorInfo.availableProcessors();\n+            int availableProcessors = ProcessorInfo.availableProcessors();\n+            minThreads *= availableProcessors;\n+            maxThreads *= availableProcessors;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ad80eb151beb69273748069ae0583ec342904142"}, "originalPosition": 23}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3801, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}