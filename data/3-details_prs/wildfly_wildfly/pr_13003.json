{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc2MjU1ODky", "number": 13003, "title": "WFLY-13024 Integrate MP Fault Tolerance 2.1", "bodyText": "Resolves\nhttps://issues.redhat.com/browse/WFLY-13024\nhttps://issues.redhat.com/browse/WFLY-13190\n19.x\n#13022\nProposal\nwildfly/wildfly-proposals#290", "createdAt": "2020-02-17T17:48:51Z", "url": "https://github.com/wildfly/wildfly/pull/13003", "merged": true, "mergeCommit": {"oid": "1ea799ac6891201a48ea2f772cba3173bb9bf4ac"}, "closed": true, "closedAt": "2020-03-04T18:22:50Z", "author": {"login": "rhusar"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcFVNoeABqjMwNDUxNzM3NTY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcKbGLzgFqTM2OTAxMTg2OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4990c05645706dc277317793e74c01e54f04b7ae", "author": {"user": {"login": "rhusar", "name": "Radoslav Husar"}}, "url": "https://github.com/wildfly/wildfly/commit/4990c05645706dc277317793e74c01e54f04b7ae", "committedDate": "2020-02-17T15:42:17Z", "message": "WFLY-13024 Integrate MP Fault Tolerance 2.1"}, "afterCommit": {"oid": "c3270e277702de60c9c8ad950685fdcec2ad1f4a", "author": {"user": {"login": "rhusar", "name": "Radoslav Husar"}}, "url": "https://github.com/wildfly/wildfly/commit/c3270e277702de60c9c8ad950685fdcec2ad1f4a", "committedDate": "2020-02-17T22:38:14Z", "message": "WFLY-13024 Integrate MP Fault Tolerance 2.1"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYwMzMwMzAx", "url": "https://github.com/wildfly/wildfly/pull/13003#pullrequestreview-360330301", "createdAt": "2020-02-18T13:21:02Z", "commit": {"oid": "c3270e277702de60c9c8ad950685fdcec2ad1f4a"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOFQxMzoyMTowM1rOFrCCjg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOFQxMzoyNjowOFrOFrCM6A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDY2NjUxMA==", "bodyText": "propertied -> properties", "url": "https://github.com/wildfly/wildfly/pull/13003#discussion_r380666510", "createdAt": "2020-02-18T13:21:03Z", "author": {"login": "tterem"}, "path": "docs/src/main/asciidoc/_admin-guide/subsystem-configuration/MicroProfile_Fault_Tolerance_SmallRye.adoc", "diffHunk": "@@ -44,43 +44,29 @@ This MicroProfile specification introduces the following interceptor bindings:\n * `@Bulkhead`\n * `@Asynchronous`\n \n-For usage please refer to MicroProfile Fault Tolerance 2.0 https://download.eclipse.org/microprofile/microprofile-fault-tolerance-2.0/microprofile-fault-tolerance-spec.html[specification].\n+For usage please refer to MicroProfile Fault Tolerance 2.1 https://download.eclipse.org/microprofile/microprofile-fault-tolerance-2.1/microprofile-fault-tolerance-spec.html[specification].\n \n-== Hystrix Configuration\n+== Configuration\n \n-MicroProfile Fault Tolerance extension is implemented by the SmallRye Fault Tolerance project which uses https://github.com/Netflix/Hystrix[Hystrix] as an underlying library.\n+Apart from configuration propertied defined by the specification, the SmallRye implementation provides the following", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c3270e277702de60c9c8ad950685fdcec2ad1f4a"}, "originalPosition": 40}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDY2OTE2MA==", "bodyText": "Can this be removed completely?", "url": "https://github.com/wildfly/wildfly/pull/13003#discussion_r380669160", "createdAt": "2020-02-18T13:26:08Z", "author": {"login": "tterem"}, "path": "microprofile/fault-tolerance-smallrye/extension/src/main/java/org/wildfly/extension/microprofile/faulttolerance/MicroProfileFaultToleranceLogger.java", "diffHunk": "@@ -43,8 +42,8 @@\n     @Message(id = 1, value = \"Activating MicroProfile Fault Tolerance subsystem.\")\n     void activatingSubsystem();\n \n-    @LogMessage(level = WARN)\n-    @Message(id = 2, value = \"Hystrix was already configured! Skipping configuration from deployment '%s'.\")\n-    void hystrixAlreadyConfigured(String deploymentName);\n+//    @LogMessage(level = WARN)\n+//    @Message(id = 2, value = \"Hystrix was already configured! Skipping configuration from deployment '%s'.\")\n+//    void hystrixAlreadyConfigured(String deploymentName);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c3270e277702de60c9c8ad950685fdcec2ad1f4a"}, "originalPosition": 17}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c3270e277702de60c9c8ad950685fdcec2ad1f4a", "author": {"user": {"login": "rhusar", "name": "Radoslav Husar"}}, "url": "https://github.com/wildfly/wildfly/commit/c3270e277702de60c9c8ad950685fdcec2ad1f4a", "committedDate": "2020-02-17T22:38:14Z", "message": "WFLY-13024 Integrate MP Fault Tolerance 2.1"}, "afterCommit": {"oid": "d3ceef6af8ac33a0c4910b3fe9811d47dda6e01c", "author": {"user": {"login": "rhusar", "name": "Radoslav Husar"}}, "url": "https://github.com/wildfly/wildfly/commit/d3ceef6af8ac33a0c4910b3fe9811d47dda6e01c", "committedDate": "2020-02-18T14:58:56Z", "message": "WFLY-13024 Integrate MP Fault Tolerance 2.1"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6e608db550400b63b27eb03188635c8010ffa027", "author": {"user": {"login": "rhusar", "name": "Radoslav Husar"}}, "url": "https://github.com/wildfly/wildfly/commit/6e608db550400b63b27eb03188635c8010ffa027", "committedDate": "2020-02-18T15:13:20Z", "message": "WFLY-13122 Include MicroProfile Fault Tolerance subsystem in the default server profiles"}, "afterCommit": {"oid": "d3ceef6af8ac33a0c4910b3fe9811d47dda6e01c", "author": {"user": {"login": "rhusar", "name": "Radoslav Husar"}}, "url": "https://github.com/wildfly/wildfly/commit/d3ceef6af8ac33a0c4910b3fe9811d47dda6e01c", "committedDate": "2020-02-18T14:58:56Z", "message": "WFLY-13024 Integrate MP Fault Tolerance 2.1"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d3ceef6af8ac33a0c4910b3fe9811d47dda6e01c", "author": {"user": {"login": "rhusar", "name": "Radoslav Husar"}}, "url": "https://github.com/wildfly/wildfly/commit/d3ceef6af8ac33a0c4910b3fe9811d47dda6e01c", "committedDate": "2020-02-18T14:58:56Z", "message": "WFLY-13024 Integrate MP Fault Tolerance 2.1"}, "afterCommit": {"oid": "ad1f67abf4ee64f76e9c4e11aabe7748322a020b", "author": {"user": {"login": "rhusar", "name": "Radoslav Husar"}}, "url": "https://github.com/wildfly/wildfly/commit/ad1f67abf4ee64f76e9c4e11aabe7748322a020b", "committedDate": "2020-02-22T19:34:51Z", "message": "WFLY-13024 Integrate MP Fault Tolerance 2.1"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY2MzI2ODAw", "url": "https://github.com/wildfly/wildfly/pull/13003#pullrequestreview-366326800", "createdAt": "2020-02-28T11:18:24Z", "commit": {"oid": "ad1f67abf4ee64f76e9c4e11aabe7748322a020b"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yOFQxMToxODoyNFrOFvxr8A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yOFQxMToxODoyNFrOFvxr8A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTY0MTQ1Ng==", "bodyText": "the the -> the", "url": "https://github.com/wildfly/wildfly/pull/13003#discussion_r385641456", "createdAt": "2020-02-28T11:18:24Z", "author": {"login": "tterem"}, "path": "docs/src/main/asciidoc/_admin-guide/subsystem-configuration/MicroProfile_Fault_Tolerance_SmallRye.adoc", "diffHunk": "@@ -44,43 +44,29 @@ This MicroProfile specification introduces the following interceptor bindings:\n * `@Bulkhead`\n * `@Asynchronous`\n \n-For usage please refer to MicroProfile Fault Tolerance 2.0 https://download.eclipse.org/microprofile/microprofile-fault-tolerance-2.0/microprofile-fault-tolerance-spec.html[specification].\n+For usage please refer to MicroProfile Fault Tolerance 2.1 https://download.eclipse.org/microprofile/microprofile-fault-tolerance-2.1/microprofile-fault-tolerance-spec.html[specification].\n \n-== Hystrix Configuration\n+== Configuration\n \n-MicroProfile Fault Tolerance extension is implemented by the SmallRye Fault Tolerance project which uses https://github.com/Netflix/Hystrix[Hystrix] as an underlying library.\n+Apart from configuration properties defined by the specification, the SmallRye implementation provides the following\n+configuration properties:\n \n-MicroProfile Config is used to configure Hystrix properties.\n-The integration module picks up all `hystrix` prefixed properties to configure the library.\n-Please refer to https://github.com/Netflix/Hystrix/wiki/Configuration[configuration for configurable properties].\n+.SmallRye Fault Tolerance configuration properties\n+|===\n+|Name |Default |Description\n \n-NOTE: Deployments can supply configuration for Hystrix using the defined `META-INF/microprofile-config.properties` file.\n-      However, when multiple MicroProfile Fault Tolerance deployments are deployed in a single WildFly instance and since configuration of Hystrix is singleton\n-      it is recommended to use globally scoped properties in this case. Please refer to MicroProfile Config subsystem how to configure `ConfigSource`-s.\n+|`io.smallrye.faulttolerance.globalThreadPoolSize`\n+|100\n+|Number of threads used by the the fault tolerance mechanisms. This does not include bulkhead thread pools.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ad1f67abf4ee64f76e9c4e11aabe7748322a020b"}, "originalPosition": 46}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ad1f67abf4ee64f76e9c4e11aabe7748322a020b", "author": {"user": {"login": "rhusar", "name": "Radoslav Husar"}}, "url": "https://github.com/wildfly/wildfly/commit/ad1f67abf4ee64f76e9c4e11aabe7748322a020b", "committedDate": "2020-02-22T19:34:51Z", "message": "WFLY-13024 Integrate MP Fault Tolerance 2.1"}, "afterCommit": {"oid": "75108a2815d418d3ea13d9f8339bbfd24c7fc75e", "author": {"user": {"login": "rhusar", "name": "Radoslav Husar"}}, "url": "https://github.com/wildfly/wildfly/commit/75108a2815d418d3ea13d9f8339bbfd24c7fc75e", "committedDate": "2020-03-02T18:36:20Z", "message": "WFLY-13024 Integrate MP Fault Tolerance 2.1"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "75108a2815d418d3ea13d9f8339bbfd24c7fc75e", "author": {"user": {"login": "rhusar", "name": "Radoslav Husar"}}, "url": "https://github.com/wildfly/wildfly/commit/75108a2815d418d3ea13d9f8339bbfd24c7fc75e", "committedDate": "2020-03-02T18:36:20Z", "message": "WFLY-13024 Integrate MP Fault Tolerance 2.1"}, "afterCommit": {"oid": "594918c9aa76e86f741c1c38ee47ae4844cc89b2", "author": {"user": {"login": "rhusar", "name": "Radoslav Husar"}}, "url": "https://github.com/wildfly/wildfly/commit/594918c9aa76e86f741c1c38ee47ae4844cc89b2", "committedDate": "2020-03-02T23:27:56Z", "message": "WFLY-13024 Integrate MP Fault Tolerance 2.1"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3b658f994f15cbea6eea00476d12c980d8428c4d", "author": {"user": {"login": "rhusar", "name": "Radoslav Husar"}}, "url": "https://github.com/wildfly/wildfly/commit/3b658f994f15cbea6eea00476d12c980d8428c4d", "committedDate": "2020-03-04T10:55:06Z", "message": "WFLY-13024 Integrate MP Fault Tolerance 2.1"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "423650e6b860ea77f9015a39228e4f496216ada5", "author": {"user": {"login": "rhusar", "name": "Radoslav Husar"}}, "url": "https://github.com/wildfly/wildfly/commit/423650e6b860ea77f9015a39228e4f496216ada5", "committedDate": "2020-03-04T10:56:50Z", "message": "WFLY-13190 Upgrade smallrye-fault-tolerance to 4.1.1"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "594918c9aa76e86f741c1c38ee47ae4844cc89b2", "author": {"user": {"login": "rhusar", "name": "Radoslav Husar"}}, "url": "https://github.com/wildfly/wildfly/commit/594918c9aa76e86f741c1c38ee47ae4844cc89b2", "committedDate": "2020-03-02T23:27:56Z", "message": "WFLY-13024 Integrate MP Fault Tolerance 2.1"}, "afterCommit": {"oid": "423650e6b860ea77f9015a39228e4f496216ada5", "author": {"user": {"login": "rhusar", "name": "Radoslav Husar"}}, "url": "https://github.com/wildfly/wildfly/commit/423650e6b860ea77f9015a39228e4f496216ada5", "committedDate": "2020-03-04T10:56:50Z", "message": "WFLY-13190 Upgrade smallrye-fault-tolerance to 4.1.1"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY5MDExODY4", "url": "https://github.com/wildfly/wildfly/pull/13003#pullrequestreview-369011868", "createdAt": "2020-03-04T18:19:31Z", "commit": {"oid": "423650e6b860ea77f9015a39228e4f496216ada5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3609, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}