{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDEzMjE0Nzgw", "number": 13267, "title": "WFLY-10942 IIOPTimeoutTestCase fails intermittently", "bodyText": "JIRA: https://issues.redhat.com/browse/WFLY-10942", "createdAt": "2020-05-04T22:17:53Z", "url": "https://github.com/wildfly/wildfly/pull/13267", "merged": true, "mergeCommit": {"oid": "344faca0ce3ad0a9e29ea4b6dbde1443717a2665"}, "closed": true, "closedAt": "2020-05-08T14:48:00Z", "author": {"login": "chengfang"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABceHCDHgH2gAyNDEzMjE0NzgwOjllZGI0OGRiMzRiNDY4NDI3MzQ1ODZmYjk0OGIzOTQwNzY1Njc0MmY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABces0J6AFqTQwNjg2OTg0NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "9edb48db34b46842734586fb948b39407656742f", "author": {"user": {"login": "chengfang", "name": "Cheng Fang"}}, "url": "https://github.com/wildfly/wildfly/commit/9edb48db34b46842734586fb948b39407656742f", "committedDate": "2020-05-04T22:15:23Z", "message": "WFLY-10942 IIOPTimeoutTestCase fails intermittently"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA1ODkxMTQ3", "url": "https://github.com/wildfly/wildfly/pull/13267#pullrequestreview-405891147", "createdAt": "2020-05-05T15:16:43Z", "commit": {"oid": "9edb48db34b46842734586fb948b39407656742f"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNVQxNToxNjo0M1rOGQuYAQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNVQxNToxNzozMFrOGQuaXw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDE5MDIwOQ==", "bodyText": "While making these volatile might improve the situation, it will not solve it completely, since the ++ unary operator is not atomic.  I would suggest changing these to use AtomicInteger.", "url": "https://github.com/wildfly/wildfly/pull/13267#discussion_r420190209", "createdAt": "2020-05-05T15:16:43Z", "author": {"login": "pferraro"}, "path": "testsuite/shared/src/main/java/org/jboss/as/test/integration/transactions/TransactionCheckerSingleton.java", "diffHunk": "@@ -40,8 +40,8 @@\n @Remote\n @ManagedBean\n public class TransactionCheckerSingleton implements TransactionCheckerSingletonRemote {\n-    private int committed, prepared, rolledback;\n-    private int  synchronizedBegin, synchronizedBefore, synchronizedAfter,\n+    private volatile int committed, prepared, rolledback;\n+    private volatile int synchronizedBegin, synchronizedBefore, synchronizedAfter,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9edb48db34b46842734586fb948b39407656742f"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDE5MDgxNQ==", "bodyText": "I suspect this might need to use a concurrent collection (or at least synchronized wrapper).", "url": "https://github.com/wildfly/wildfly/pull/13267#discussion_r420190815", "createdAt": "2020-05-05T15:17:30Z", "author": {"login": "pferraro"}, "path": "testsuite/shared/src/main/java/org/jboss/as/test/integration/transactions/TransactionCheckerSingleton.java", "diffHunk": "@@ -40,8 +40,8 @@\n @Remote\n @ManagedBean\n public class TransactionCheckerSingleton implements TransactionCheckerSingletonRemote {\n-    private int committed, prepared, rolledback;\n-    private int  synchronizedBegin, synchronizedBefore, synchronizedAfter,\n+    private volatile int committed, prepared, rolledback;\n+    private volatile int synchronizedBegin, synchronizedBefore, synchronizedAfter,\n         synchronizedAfterCommitted, synchronizedAfterRolledBack;\n     private Collection<String> messages = new ArrayList<>();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9edb48db34b46842734586fb948b39407656742f"}, "originalPosition": 9}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA2ODY5ODQ1", "url": "https://github.com/wildfly/wildfly/pull/13267#pullrequestreview-406869845", "createdAt": "2020-05-06T18:16:36Z", "commit": {"oid": "9edb48db34b46842734586fb948b39407656742f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3554, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}