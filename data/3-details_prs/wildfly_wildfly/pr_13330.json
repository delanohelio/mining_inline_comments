{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIzODYyMjAw", "number": 13330, "title": "[WFLY-13350] Add a Galleon layer for JSF support", "bodyText": "Jira issue: https://issues.jboss.org/browse/WFLY-13350\nProposal: wildfly/wildfly-proposals#310", "createdAt": "2020-05-27T13:43:37Z", "url": "https://github.com/wildfly/wildfly/pull/13330", "merged": true, "mergeCommit": {"oid": "2c54a69e41968d78b25b8e564ce985a76e075a4a"}, "closed": true, "closedAt": "2020-09-09T20:32:53Z", "author": {"login": "yersan"}, "timelineItems": {"totalCount": 19, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcmCwR-gFqTQyMDk2NTQ1Mg==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdGh49oAFqTQ4MzUwNjA4Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIwOTY1NDUy", "url": "https://github.com/wildfly/wildfly/pull/13330#pullrequestreview-420965452", "createdAt": "2020-05-29T13:47:45Z", "commit": {"oid": "cba3e0bc7cb4b27f19d5d49bda297179c456aa40"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "cba3e0bc7cb4b27f19d5d49bda297179c456aa40", "author": {"user": {"login": "bstansberry", "name": " Brian Stansberry"}}, "url": "https://github.com/wildfly/wildfly/commit/cba3e0bc7cb4b27f19d5d49bda297179c456aa40", "committedDate": "2020-05-27T11:48:44Z", "message": "[WFLY-13350] Add a Galleon layer for JSF support\n\n[WFLY-13350] Add JSF layer documentation"}, "afterCommit": {"oid": "d57e6da57e0e570fa0cf526badf462a9c9642e16", "author": {"user": {"login": "bstansberry", "name": " Brian Stansberry"}}, "url": "https://github.com/wildfly/wildfly/commit/d57e6da57e0e570fa0cf526badf462a9c9642e16", "committedDate": "2020-06-02T14:49:44Z", "message": "[WFLY-13350] Add a Galleon layer for JSF support\n\n[WFLY-13350] Add JSF layer documentation"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d57e6da57e0e570fa0cf526badf462a9c9642e16", "author": {"user": {"login": "bstansberry", "name": " Brian Stansberry"}}, "url": "https://github.com/wildfly/wildfly/commit/d57e6da57e0e570fa0cf526badf462a9c9642e16", "committedDate": "2020-06-02T14:49:44Z", "message": "[WFLY-13350] Add a Galleon layer for JSF support\n\n[WFLY-13350] Add JSF layer documentation"}, "afterCommit": {"oid": "e29b666f1b811fe0224df85904bf2d5c54b9635c", "author": {"user": {"login": "yersan", "name": "Yeray Borges"}}, "url": "https://github.com/wildfly/wildfly/commit/e29b666f1b811fe0224df85904bf2d5c54b9635c", "committedDate": "2020-07-02T10:04:24Z", "message": "[WFLY-13350] Add optional logging layer"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e29b666f1b811fe0224df85904bf2d5c54b9635c", "author": {"user": {"login": "yersan", "name": "Yeray Borges"}}, "url": "https://github.com/wildfly/wildfly/commit/e29b666f1b811fe0224df85904bf2d5c54b9635c", "committedDate": "2020-07-02T10:04:24Z", "message": "[WFLY-13350] Add optional logging layer"}, "afterCommit": {"oid": "42c418f6f23bc2a0f1abb77425556fbffe1c63b9", "author": {"user": {"login": "bstansberry", "name": " Brian Stansberry"}}, "url": "https://github.com/wildfly/wildfly/commit/42c418f6f23bc2a0f1abb77425556fbffe1c63b9", "committedDate": "2020-07-07T10:00:05Z", "message": "[WFLY-13350] Add a Galleon layer for JSF support\n\n[WFLY-13350] Add JSF layer documentation\n\n[WFLY-13350] Add optional logging layer\n\n[WFLY-13350] Add core-server layer dependency"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "42c418f6f23bc2a0f1abb77425556fbffe1c63b9", "author": {"user": {"login": "bstansberry", "name": " Brian Stansberry"}}, "url": "https://github.com/wildfly/wildfly/commit/42c418f6f23bc2a0f1abb77425556fbffe1c63b9", "committedDate": "2020-07-07T10:00:05Z", "message": "[WFLY-13350] Add a Galleon layer for JSF support\n\n[WFLY-13350] Add JSF layer documentation\n\n[WFLY-13350] Add optional logging layer\n\n[WFLY-13350] Add core-server layer dependency"}, "afterCommit": {"oid": "a12c5e7be7867af83bd65563ecaa924a21f00c8b", "author": {"user": {"login": "bstansberry", "name": " Brian Stansberry"}}, "url": "https://github.com/wildfly/wildfly/commit/a12c5e7be7867af83bd65563ecaa924a21f00c8b", "committedDate": "2020-07-13T10:19:01Z", "message": "[WFLY-13350] Add a Galleon layer for JSF support"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a12c5e7be7867af83bd65563ecaa924a21f00c8b", "author": {"user": {"login": "bstansberry", "name": " Brian Stansberry"}}, "url": "https://github.com/wildfly/wildfly/commit/a12c5e7be7867af83bd65563ecaa924a21f00c8b", "committedDate": "2020-07-13T10:19:01Z", "message": "[WFLY-13350] Add a Galleon layer for JSF support"}, "afterCommit": {"oid": "6d3768d39003e33ca8888304b1f879867cebef6a", "author": {"user": {"login": "bstansberry", "name": " Brian Stansberry"}}, "url": "https://github.com/wildfly/wildfly/commit/6d3768d39003e33ca8888304b1f879867cebef6a", "committedDate": "2020-07-21T13:56:04Z", "message": "[WFLY-13350] Add a Galleon layer for JSF support"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6d3768d39003e33ca8888304b1f879867cebef6a", "author": {"user": {"login": "bstansberry", "name": " Brian Stansberry"}}, "url": "https://github.com/wildfly/wildfly/commit/6d3768d39003e33ca8888304b1f879867cebef6a", "committedDate": "2020-07-21T13:56:04Z", "message": "[WFLY-13350] Add a Galleon layer for JSF support"}, "afterCommit": {"oid": "f260450e2f9c11639a298003a1fbf21d2236d9ba", "author": {"user": {"login": "bstansberry", "name": " Brian Stansberry"}}, "url": "https://github.com/wildfly/wildfly/commit/f260450e2f9c11639a298003a1fbf21d2236d9ba", "committedDate": "2020-07-24T09:13:32Z", "message": "[WFLY-13350] Add a Galleon layer for JSF support"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f260450e2f9c11639a298003a1fbf21d2236d9ba", "author": {"user": {"login": "bstansberry", "name": " Brian Stansberry"}}, "url": "https://github.com/wildfly/wildfly/commit/f260450e2f9c11639a298003a1fbf21d2236d9ba", "committedDate": "2020-07-24T09:13:32Z", "message": "[WFLY-13350] Add a Galleon layer for JSF support"}, "afterCommit": {"oid": "f0a0e99438985d4643fe86ff78107251af553405", "author": {"user": {"login": "bstansberry", "name": " Brian Stansberry"}}, "url": "https://github.com/wildfly/wildfly/commit/f0a0e99438985d4643fe86ff78107251af553405", "committedDate": "2020-07-24T11:49:48Z", "message": "[WFLY-13350] Add a Galleon layer for JSF support"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f0a0e99438985d4643fe86ff78107251af553405", "author": {"user": {"login": "bstansberry", "name": " Brian Stansberry"}}, "url": "https://github.com/wildfly/wildfly/commit/f0a0e99438985d4643fe86ff78107251af553405", "committedDate": "2020-07-24T11:49:48Z", "message": "[WFLY-13350] Add a Galleon layer for JSF support"}, "afterCommit": {"oid": "d1d251de1194811e96b9f2f82da2447544d6980f", "author": {"user": {"login": "bstansberry", "name": " Brian Stansberry"}}, "url": "https://github.com/wildfly/wildfly/commit/d1d251de1194811e96b9f2f82da2447544d6980f", "committedDate": "2020-07-24T11:51:16Z", "message": "[WFLY-13350] Add a Galleon layer for JSF support"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d1d251de1194811e96b9f2f82da2447544d6980f", "author": {"user": {"login": "bstansberry", "name": " Brian Stansberry"}}, "url": "https://github.com/wildfly/wildfly/commit/d1d251de1194811e96b9f2f82da2447544d6980f", "committedDate": "2020-07-24T11:51:16Z", "message": "[WFLY-13350] Add a Galleon layer for JSF support"}, "afterCommit": {"oid": "ebdce48a56e98974881e1ff2c8ea89c342cae16e", "author": {"user": {"login": "bstansberry", "name": " Brian Stansberry"}}, "url": "https://github.com/wildfly/wildfly/commit/ebdce48a56e98974881e1ff2c8ea89c342cae16e", "committedDate": "2020-07-29T10:02:18Z", "message": "[WFLY-13350] Add a Galleon layer for JSF support"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYxNjU0MTQ4", "url": "https://github.com/wildfly/wildfly/pull/13330#pullrequestreview-461654148", "createdAt": "2020-08-05T13:18:11Z", "commit": {"oid": "ebdce48a56e98974881e1ff2c8ea89c342cae16e"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNVQxMzoxODoxMVrOG8JQgQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNVQxMzoxODoxMVrOG8JQgQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTcxOTQyNQ==", "bodyText": "@yersan I had to add the following in order to execute the test InjectionBeanToPhaseListenerTest mentioned in the TP:\n<include>org/jboss/as/test/integration/jsf/phaselistener/injectiontarget/bean/InjectionBeanToPhaseListenerTest.java</include>\nis it actually missing or the executuion is linked somewhere else?", "url": "https://github.com/wildfly/wildfly/pull/13330#discussion_r465719425", "createdAt": "2020-08-05T13:18:11Z", "author": {"login": "tommaso-borgato"}, "path": "testsuite/integration/basic/pom.xml", "diffHunk": "@@ -1219,6 +1258,38 @@\n                                 <phase>none</phase>\n                             </execution>\n \n+                            <!-- Tests against the install with JSF support -->\n+                            <execution>\n+                                <id>jsf-layers.surefire</id>\n+                                <phase>test</phase>\n+                                <goals>\n+                                    <goal>test</goal>\n+                                </goals>\n+                                <configuration>\n+                                    <systemPropertyVariables>\n+                                        <jboss.install.dir>${basedir}/target/wildfly-jsf</jboss.install.dir>\n+                                        <jboss.home>${project.build.directory}/wildfly-jsf</jboss.home>\n+                                        <jboss.home.dir>${project.build.directory}/wildfly-jsf</jboss.home.dir>\n+                                        <jbossas.dist>${project.build.directory}/wildfly-jsf</jbossas.dist>\n+                                        <jboss.dist>${project.build.directory}/wildfly-jsf</jboss.dist>\n+                                        <!-- Override the standard module path that points at the shared module set from dist -->\n+                                        <module.path>${project.build.directory}/wildfly-jsf/modules${path.separator}${basedir}/target/modules</module.path>\n+                                    </systemPropertyVariables>\n+                                    <environmentVariables>\n+                                        <JBOSS_HOME>${project.build.directory}/wildfly-jsf</JBOSS_HOME>\n+                                    </environmentVariables>\n+                                    <redirectTestOutputToFile>${testLogToFile}</redirectTestOutputToFile>\n+                                    <includes>\n+                                        <include>org/jboss/as/test/integration/jsf/**/*TestCase.java</include>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ebdce48a56e98974881e1ff2c8ea89c342cae16e"}, "originalPosition": 72}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYxNjg1MzUz", "url": "https://github.com/wildfly/wildfly/pull/13330#pullrequestreview-461685353", "createdAt": "2020-08-05T13:52:49Z", "commit": {"oid": "ebdce48a56e98974881e1ff2c8ea89c342cae16e"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNVQxMzo1Mjo0OVrOG8KqqQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNVQxMzo1Mjo0OVrOG8KqqQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTc0MjUwNQ==", "bodyText": "@yersan as recent user of these new galleon layers I found it extremely hard to understand how to provision a trimmed server after I cloned the WildFly repository; If this is not on purpose, I suggest adding a small paragraph like the following (not necessarily here and probably with better wording):\nAfter cloning the WildFly repository locally, you can provision a trimmed server leveraging the galleon cli:\ngalleon.sh install wildfly:current/snapshot --layers=jsf,datasources-web-server --dir=my-wildfly-server", "url": "https://github.com/wildfly/wildfly/pull/13330#discussion_r465742505", "createdAt": "2020-08-05T13:52:49Z", "author": {"login": "tommaso-borgato"}, "path": "docs/src/main/asciidoc/_admin-guide/Galleon_provisioning.adoc", "diffHunk": "@@ -127,6 +127,7 @@ Basic layers:\n * _cdi_: Support for CDI. Optionally depends on _bean-validation_.\n * _datasources_: Support for datasources.\n * _ee-security_: Support for EE Security. Depends on _cdi_.\n+* _jsf_: Support for Jakarta Server Faces. Depends on _web-server_ (defined in the WildFly servlet feature-pack) and optionally on _cdi_ and _bean-validation_", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ebdce48a56e98974881e1ff2c8ea89c342cae16e"}, "originalPosition": 4}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ebdce48a56e98974881e1ff2c8ea89c342cae16e", "author": {"user": {"login": "bstansberry", "name": " Brian Stansberry"}}, "url": "https://github.com/wildfly/wildfly/commit/ebdce48a56e98974881e1ff2c8ea89c342cae16e", "committedDate": "2020-07-29T10:02:18Z", "message": "[WFLY-13350] Add a Galleon layer for JSF support"}, "afterCommit": {"oid": "c8d6afcef146ca3bc6c260d668e258f952205341", "author": {"user": {"login": "bstansberry", "name": " Brian Stansberry"}}, "url": "https://github.com/wildfly/wildfly/commit/c8d6afcef146ca3bc6c260d668e258f952205341", "committedDate": "2020-08-05T14:39:30Z", "message": "[WFLY-13350] Add a Galleon layer for JSF support"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ff9a288701db48c74411afeb4efdd5de830b169b", "author": {"user": {"login": "bstansberry", "name": " Brian Stansberry"}}, "url": "https://github.com/wildfly/wildfly/commit/ff9a288701db48c74411afeb4efdd5de830b169b", "committedDate": "2020-08-05T15:13:00Z", "message": "[WFLY-13350] Add a Galleon layer for JSF support"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c8d6afcef146ca3bc6c260d668e258f952205341", "author": {"user": {"login": "bstansberry", "name": " Brian Stansberry"}}, "url": "https://github.com/wildfly/wildfly/commit/c8d6afcef146ca3bc6c260d668e258f952205341", "committedDate": "2020-08-05T14:39:30Z", "message": "[WFLY-13350] Add a Galleon layer for JSF support"}, "afterCommit": {"oid": "ff9a288701db48c74411afeb4efdd5de830b169b", "author": {"user": {"login": "bstansberry", "name": " Brian Stansberry"}}, "url": "https://github.com/wildfly/wildfly/commit/ff9a288701db48c74411afeb4efdd5de830b169b", "committedDate": "2020-08-05T15:13:00Z", "message": "[WFLY-13350] Add a Galleon layer for JSF support"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYxODM1ODQy", "url": "https://github.com/wildfly/wildfly/pull/13330#pullrequestreview-461835842", "createdAt": "2020-08-05T16:36:08Z", "commit": {"oid": "ff9a288701db48c74411afeb4efdd5de830b169b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYyNTM5NTYz", "url": "https://github.com/wildfly/wildfly/pull/13330#pullrequestreview-462539563", "createdAt": "2020-08-06T13:52:20Z", "commit": {"oid": "ff9a288701db48c74411afeb4efdd5de830b169b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDczNjE1ODkw", "url": "https://github.com/wildfly/wildfly/pull/13330#pullrequestreview-473615890", "createdAt": "2020-08-24T15:31:43Z", "commit": {"oid": "ff9a288701db48c74411afeb4efdd5de830b169b"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNFQxNTozMTo0M1rOHFqnHA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNFQxNTozMTo0M1rOHFqnHA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTcwMzA2OA==", "bodyText": "@yersan I think it's not strictly related to your MR but I don't understand the reason why on line 2263 the artifactId isn't parametrized like on line 1604:\n<artifactId>wildfly-galleon-pack</artifactId>", "url": "https://github.com/wildfly/wildfly/pull/13330#discussion_r475703068", "createdAt": "2020-08-24T15:31:43Z", "author": {"login": "tommaso-borgato"}, "path": "testsuite/layers/pom.xml", "diffHunk": "@@ -2261,6 +2298,7 @@\n                                                 <layer>jmx</layer>\n                                                 <layer>jmx-remoting</layer>\n                                                 <layer>jpa-distributed</layer>\n+                                                <layer>jsf</layer>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ff9a288701db48c74411afeb4efdd5de830b169b"}, "originalPosition": 55}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgzNTA2MDgy", "url": "https://github.com/wildfly/wildfly/pull/13330#pullrequestreview-483506082", "createdAt": "2020-09-07T12:09:52Z", "commit": {"oid": "ff9a288701db48c74411afeb4efdd5de830b169b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3991, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}