{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU3OTUwMTQ4", "number": 13434, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQxODo0NTo1OFrOETzS3w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQxNTozMDo0NFrOEjMkmQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg5MTk4ODE1OnYy", "diffSide": "RIGHT", "path": "testsuite/integration/basic/pom.xml", "isResolved": false, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQxODo0NTo1OFrOG5vemg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQxNToyNzo1MlrOHRajIg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzE5OTg5OA==", "bodyText": "system property jboss.inst is also used by some of these tests, we may need to pass it too. But looks like these tests passed without it, probably because we ran them without security manager?", "url": "https://github.com/wildfly/wildfly/pull/13434#discussion_r463199898", "createdAt": "2020-07-30T18:45:58Z", "author": {"login": "chengfang"}, "path": "testsuite/integration/basic/pom.xml", "diffHunk": "@@ -1326,6 +1365,37 @@\n                                 </configuration>\n                             </execution>\n \n+                            <!-- Tests against the install with batch-jberet -->\n+                            <execution>\n+                                <id>batch-jberet-layers.surefire</id>\n+                                <phase>test</phase>\n+                                <goals>\n+                                    <goal>test</goal>\n+                                </goals>\n+                                <configuration>\n+                                    <systemPropertyVariables>\n+                                        <jboss.install.dir>${basedir}/target/wildfly-batch</jboss.install.dir>\n+                                        <jboss.home>${project.build.directory}/wildfly-batch</jboss.home>\n+                                        <jboss.home.dir>${project.build.directory}/wildfly-batch</jboss.home.dir>\n+                                        <jbossas.dist>${project.build.directory}/wildfly-batch</jbossas.dist>\n+                                        <jboss.dist>${project.build.directory}/wildfly-batch</jboss.dist>\n+                                        <!-- Override the standard module path that points at the shared module set from dist -->\n+                                        <module.path>${project.build.directory}/wildfly-batch/modules${path.separator}${basedir}/target/modules</module.path>\n+                                    </systemPropertyVariables>\n+                                    <environmentVariables>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9877308ee1ebc289cdc666c94512183cac77734d"}, "originalPosition": 67}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzU1NTczMw==", "bodyText": "Thanks for reviewing Cheng. Yes, they it fails with the security manager.\n@bstansberry what is the position against whether we should run the layers tests under security manager? currently we do not have a CI with this configuration", "url": "https://github.com/wildfly/wildfly/pull/13434#discussion_r463555733", "createdAt": "2020-07-31T11:26:04Z", "author": {"login": "yersan"}, "path": "testsuite/integration/basic/pom.xml", "diffHunk": "@@ -1326,6 +1365,37 @@\n                                 </configuration>\n                             </execution>\n \n+                            <!-- Tests against the install with batch-jberet -->\n+                            <execution>\n+                                <id>batch-jberet-layers.surefire</id>\n+                                <phase>test</phase>\n+                                <goals>\n+                                    <goal>test</goal>\n+                                </goals>\n+                                <configuration>\n+                                    <systemPropertyVariables>\n+                                        <jboss.install.dir>${basedir}/target/wildfly-batch</jboss.install.dir>\n+                                        <jboss.home>${project.build.directory}/wildfly-batch</jboss.home>\n+                                        <jboss.home.dir>${project.build.directory}/wildfly-batch</jboss.home.dir>\n+                                        <jbossas.dist>${project.build.directory}/wildfly-batch</jbossas.dist>\n+                                        <jboss.dist>${project.build.directory}/wildfly-batch</jboss.dist>\n+                                        <!-- Override the standard module path that points at the shared module set from dist -->\n+                                        <module.path>${project.build.directory}/wildfly-batch/modules${path.separator}${basedir}/target/modules</module.path>\n+                                    </systemPropertyVariables>\n+                                    <environmentVariables>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzE5OTg5OA=="}, "originalCommit": {"oid": "9877308ee1ebc289cdc666c94512183cac77734d"}, "originalPosition": 67}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzU5NTkwOQ==", "bodyText": "That would require an entire separate CI job. I don't think it's worth it to add a per-PR job for that. Maybe a nightly job, but I'd be concerned it makes the set of controls of what's enabled overly complex. (Probably they already are!)  Something to look at in the future though.", "url": "https://github.com/wildfly/wildfly/pull/13434#discussion_r463595909", "createdAt": "2020-07-31T12:59:55Z", "author": {"login": "bstansberry"}, "path": "testsuite/integration/basic/pom.xml", "diffHunk": "@@ -1326,6 +1365,37 @@\n                                 </configuration>\n                             </execution>\n \n+                            <!-- Tests against the install with batch-jberet -->\n+                            <execution>\n+                                <id>batch-jberet-layers.surefire</id>\n+                                <phase>test</phase>\n+                                <goals>\n+                                    <goal>test</goal>\n+                                </goals>\n+                                <configuration>\n+                                    <systemPropertyVariables>\n+                                        <jboss.install.dir>${basedir}/target/wildfly-batch</jboss.install.dir>\n+                                        <jboss.home>${project.build.directory}/wildfly-batch</jboss.home>\n+                                        <jboss.home.dir>${project.build.directory}/wildfly-batch</jboss.home.dir>\n+                                        <jbossas.dist>${project.build.directory}/wildfly-batch</jbossas.dist>\n+                                        <jboss.dist>${project.build.directory}/wildfly-batch</jboss.dist>\n+                                        <!-- Override the standard module path that points at the shared module set from dist -->\n+                                        <module.path>${project.build.directory}/wildfly-batch/modules${path.separator}${basedir}/target/modules</module.path>\n+                                    </systemPropertyVariables>\n+                                    <environmentVariables>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzE5OTg5OA=="}, "originalCommit": {"oid": "9877308ee1ebc289cdc666c94512183cac77734d"}, "originalPosition": 67}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzYwOTQyNA==", "bodyText": "Ok, I leave the sec manager concerns for now.\n\nI'd be concerned it makes the set of controls of what's enabled overly complex. (Probably they already are!)\n\nYes, I think they are already.", "url": "https://github.com/wildfly/wildfly/pull/13434#discussion_r463609424", "createdAt": "2020-07-31T13:26:25Z", "author": {"login": "yersan"}, "path": "testsuite/integration/basic/pom.xml", "diffHunk": "@@ -1326,6 +1365,37 @@\n                                 </configuration>\n                             </execution>\n \n+                            <!-- Tests against the install with batch-jberet -->\n+                            <execution>\n+                                <id>batch-jberet-layers.surefire</id>\n+                                <phase>test</phase>\n+                                <goals>\n+                                    <goal>test</goal>\n+                                </goals>\n+                                <configuration>\n+                                    <systemPropertyVariables>\n+                                        <jboss.install.dir>${basedir}/target/wildfly-batch</jboss.install.dir>\n+                                        <jboss.home>${project.build.directory}/wildfly-batch</jboss.home>\n+                                        <jboss.home.dir>${project.build.directory}/wildfly-batch</jboss.home.dir>\n+                                        <jbossas.dist>${project.build.directory}/wildfly-batch</jbossas.dist>\n+                                        <jboss.dist>${project.build.directory}/wildfly-batch</jboss.dist>\n+                                        <!-- Override the standard module path that points at the shared module set from dist -->\n+                                        <module.path>${project.build.directory}/wildfly-batch/modules${path.separator}${basedir}/target/modules</module.path>\n+                                    </systemPropertyVariables>\n+                                    <environmentVariables>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzE5OTg5OA=="}, "originalCommit": {"oid": "9877308ee1ebc289cdc666c94512183cac77734d"}, "originalPosition": 67}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODAyMjgxOA==", "bodyText": "Hello @chengfang Would you mind approving the changes on this PR?", "url": "https://github.com/wildfly/wildfly/pull/13434#discussion_r488022818", "createdAt": "2020-09-14T15:27:52Z", "author": {"login": "yersan"}, "path": "testsuite/integration/basic/pom.xml", "diffHunk": "@@ -1326,6 +1365,37 @@\n                                 </configuration>\n                             </execution>\n \n+                            <!-- Tests against the install with batch-jberet -->\n+                            <execution>\n+                                <id>batch-jberet-layers.surefire</id>\n+                                <phase>test</phase>\n+                                <goals>\n+                                    <goal>test</goal>\n+                                </goals>\n+                                <configuration>\n+                                    <systemPropertyVariables>\n+                                        <jboss.install.dir>${basedir}/target/wildfly-batch</jboss.install.dir>\n+                                        <jboss.home>${project.build.directory}/wildfly-batch</jboss.home>\n+                                        <jboss.home.dir>${project.build.directory}/wildfly-batch</jboss.home.dir>\n+                                        <jbossas.dist>${project.build.directory}/wildfly-batch</jbossas.dist>\n+                                        <jboss.dist>${project.build.directory}/wildfly-batch</jboss.dist>\n+                                        <!-- Override the standard module path that points at the shared module set from dist -->\n+                                        <module.path>${project.build.directory}/wildfly-batch/modules${path.separator}${basedir}/target/modules</module.path>\n+                                    </systemPropertyVariables>\n+                                    <environmentVariables>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzE5OTg5OA=="}, "originalCommit": {"oid": "9877308ee1ebc289cdc666c94512183cac77734d"}, "originalPosition": 67}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA1MzQxNTkzOnYy", "diffSide": "RIGHT", "path": "docs/src/main/asciidoc/_admin-guide/Galleon_provisioning.adoc", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQxNTozMDo0NFrOHRawhQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQxNTozMDo0NFrOHRawhQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODAyNjI0NQ==", "bodyText": "@chengfang Just for your info, we will remove the \"Tech preview\" from this community documentation on this PR: #13235\nIt should not be here in the documentation.", "url": "https://github.com/wildfly/wildfly/pull/13434#discussion_r488026245", "createdAt": "2020-09-14T15:30:44Z", "author": {"login": "yersan"}, "path": "docs/src/main/asciidoc/_admin-guide/Galleon_provisioning.adoc", "diffHunk": "@@ -124,6 +124,7 @@ Basic layers:\n \n Basic layers:\n \n+* _batch-jberet_: Tech preview support for Jakarta Batch.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d6dc5d3ba2a6114f9fc0f79d439032bf1a5779a1"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4233, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}