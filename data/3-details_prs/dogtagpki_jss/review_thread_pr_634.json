{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg1NDIxNzUx", "number": 634, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMVQyMDoyODowOFrOEiroug==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMVQyMDoyODowOFrOEiroug==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA0ODAxOTc4OnYy", "diffSide": "RIGHT", "path": "jss.spec", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMVQyMDoyODowOFrOHQs3wg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMVQyMDozNTozNFrOHQtGKg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzI3NDQzNA==", "bodyText": "This seems to be opposite to one in dogtagpki/pki. That is, we ask to use _vpath_builddir in Fedora and build in RHEL.\nHere is the code from PKI repo: https://github.com/dogtagpki/pki/pull/554/files#diff-309669ccd4cb6f6fdf531483d210a34dR833-R836", "url": "https://github.com/dogtagpki/jss/pull/634#discussion_r487274434", "createdAt": "2020-09-11T20:28:08Z", "author": {"login": "SilleBille"}, "path": "jss.spec", "diffHunk": "@@ -108,13 +108,26 @@ export CFLAGS\n # Check if we're in FIPS mode\n modutil -dbdir /etc/pki/nssdb -chkfips true | grep -q enabled && export FIPS_ENABLED=1\n \n+# RHEL's CMake doesn't support -B flag.\n+%if 0%{?rhel}\n+%{__mkdir_p} %{_vpath_builddir}\n+cd %{_vpath_builddir}\n+%endif", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a715520a0dc7d4ad9625bdbb1e76bc314e7ad1b9"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzI3NTc3NA==", "bodyText": "Endi wrote the one in PKI and kept it at build/ in RHEL. In JSS, since %{_vpath_builddir} is defined on RHEL, I kept it, and only stubbed around the missing CMake functionality.", "url": "https://github.com/dogtagpki/jss/pull/634#discussion_r487275774", "createdAt": "2020-09-11T20:30:48Z", "author": {"login": "cipherboy"}, "path": "jss.spec", "diffHunk": "@@ -108,13 +108,26 @@ export CFLAGS\n # Check if we're in FIPS mode\n modutil -dbdir /etc/pki/nssdb -chkfips true | grep -q enabled && export FIPS_ENABLED=1\n \n+# RHEL's CMake doesn't support -B flag.\n+%if 0%{?rhel}\n+%{__mkdir_p} %{_vpath_builddir}\n+cd %{_vpath_builddir}\n+%endif", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzI3NDQzNA=="}, "originalCommit": {"oid": "a715520a0dc7d4ad9625bdbb1e76bc314e7ad1b9"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzI3ODEyMg==", "bodyText": "(in JSS it is harder to keep build/ vs %{_vpath_builddir} since we use the latter in the %install section.)", "url": "https://github.com/dogtagpki/jss/pull/634#discussion_r487278122", "createdAt": "2020-09-11T20:35:34Z", "author": {"login": "cipherboy"}, "path": "jss.spec", "diffHunk": "@@ -108,13 +108,26 @@ export CFLAGS\n # Check if we're in FIPS mode\n modutil -dbdir /etc/pki/nssdb -chkfips true | grep -q enabled && export FIPS_ENABLED=1\n \n+# RHEL's CMake doesn't support -B flag.\n+%if 0%{?rhel}\n+%{__mkdir_p} %{_vpath_builddir}\n+cd %{_vpath_builddir}\n+%endif", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzI3NDQzNA=="}, "originalCommit": {"oid": "a715520a0dc7d4ad9625bdbb1e76bc314e7ad1b9"}, "originalPosition": 17}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2605, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}