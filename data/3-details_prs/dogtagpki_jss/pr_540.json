{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE0MDg4MDE0", "number": 540, "title": "Finish JSSContext - Switch to JSS-provided SSLSocket", "bodyText": "This is the remaining work: add our SSLSocketFactory and SSLServerSocketFactory implementations and then switch to them in JSSContextSpi. Introduces a single, minor test case, which adds the new JSSSocket to our existing BadSSL tests.", "createdAt": "2020-05-06T13:13:42Z", "url": "https://github.com/dogtagpki/jss/pull/540", "merged": true, "mergeCommit": {"oid": "015d299f425ef80e6a98cf8adf058197885cedbc"}, "closed": true, "closedAt": "2020-05-12T14:12:18Z", "author": {"login": "cipherboy"}, "timelineItems": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABceooXPABqjMzMDg0Nzg1NzU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcgkc9EABqjMzMjc1NDkyMjk=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "55f7aaed436d04a3e899148568b73452e9b463cc", "author": {"user": {"login": "cipherboy", "name": "Alexander Scheel"}}, "url": "https://github.com/dogtagpki/jss/commit/55f7aaed436d04a3e899148568b73452e9b463cc", "committedDate": "2020-05-06T13:10:50Z", "message": "Allow null src[index] in JSSEngine\n\nSigned-off-by: Alexander Scheel <ascheel@redhat.com>"}, "afterCommit": {"oid": "0a36bb752726097973c22c16543b2d5299279d4a", "author": {"user": {"login": "cipherboy", "name": "Alexander Scheel"}}, "url": "https://github.com/dogtagpki/jss/commit/0a36bb752726097973c22c16543b2d5299279d4a", "committedDate": "2020-05-06T13:24:00Z", "message": "Allow null src[index] in JSSEngine\n\nSigned-off-by: Alexander Scheel <ascheel@redhat.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0a36bb752726097973c22c16543b2d5299279d4a", "author": {"user": {"login": "cipherboy", "name": "Alexander Scheel"}}, "url": "https://github.com/dogtagpki/jss/commit/0a36bb752726097973c22c16543b2d5299279d4a", "committedDate": "2020-05-06T13:24:00Z", "message": "Allow null src[index] in JSSEngine\n\nSigned-off-by: Alexander Scheel <ascheel@redhat.com>"}, "afterCommit": {"oid": "9a6dca3c2bede9b1c7430568d032288aed6771d7", "author": {"user": {"login": "cipherboy", "name": "Alexander Scheel"}}, "url": "https://github.com/dogtagpki/jss/commit/9a6dca3c2bede9b1c7430568d032288aed6771d7", "committedDate": "2020-05-06T13:31:46Z", "message": "Allow null src[index] in JSSEngine\n\nSigned-off-by: Alexander Scheel <ascheel@redhat.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9a6dca3c2bede9b1c7430568d032288aed6771d7", "author": {"user": {"login": "cipherboy", "name": "Alexander Scheel"}}, "url": "https://github.com/dogtagpki/jss/commit/9a6dca3c2bede9b1c7430568d032288aed6771d7", "committedDate": "2020-05-06T13:31:46Z", "message": "Allow null src[index] in JSSEngine\n\nSigned-off-by: Alexander Scheel <ascheel@redhat.com>"}, "afterCommit": {"oid": "9987389fe4f2715ccf130535278b2dcd48c5f8b3", "author": {"user": {"login": "cipherboy", "name": "Alexander Scheel"}}, "url": "https://github.com/dogtagpki/jss/commit/9987389fe4f2715ccf130535278b2dcd48c5f8b3", "committedDate": "2020-05-06T13:45:20Z", "message": "Allow null src[index] in JSSEngine\n\nSigned-off-by: Alexander Scheel <ascheel@redhat.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9987389fe4f2715ccf130535278b2dcd48c5f8b3", "author": {"user": {"login": "cipherboy", "name": "Alexander Scheel"}}, "url": "https://github.com/dogtagpki/jss/commit/9987389fe4f2715ccf130535278b2dcd48c5f8b3", "committedDate": "2020-05-06T13:45:20Z", "message": "Allow null src[index] in JSSEngine\n\nSigned-off-by: Alexander Scheel <ascheel@redhat.com>"}, "afterCommit": {"oid": "e74d89f8dada15c522dcb60c24d1e35280bc4534", "author": {"user": {"login": "cipherboy", "name": "Alexander Scheel"}}, "url": "https://github.com/dogtagpki/jss/commit/e74d89f8dada15c522dcb60c24d1e35280bc4534", "committedDate": "2020-05-06T18:27:59Z", "message": "Allow null src[index] in JSSEngine\n\nSigned-off-by: Alexander Scheel <ascheel@redhat.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e74d89f8dada15c522dcb60c24d1e35280bc4534", "author": {"user": {"login": "cipherboy", "name": "Alexander Scheel"}}, "url": "https://github.com/dogtagpki/jss/commit/e74d89f8dada15c522dcb60c24d1e35280bc4534", "committedDate": "2020-05-06T18:27:59Z", "message": "Allow null src[index] in JSSEngine\n\nSigned-off-by: Alexander Scheel <ascheel@redhat.com>"}, "afterCommit": {"oid": "913451c27d3d60b93058b9e50e702156430f746e", "author": {"user": {"login": "cipherboy", "name": "Alexander Scheel"}}, "url": "https://github.com/dogtagpki/jss/commit/913451c27d3d60b93058b9e50e702156430f746e", "committedDate": "2020-05-07T17:34:43Z", "message": "Allow null src[index] in JSSEngine\n\nSigned-off-by: Alexander Scheel <ascheel@redhat.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "913451c27d3d60b93058b9e50e702156430f746e", "author": {"user": {"login": "cipherboy", "name": "Alexander Scheel"}}, "url": "https://github.com/dogtagpki/jss/commit/913451c27d3d60b93058b9e50e702156430f746e", "committedDate": "2020-05-07T17:34:43Z", "message": "Allow null src[index] in JSSEngine\n\nSigned-off-by: Alexander Scheel <ascheel@redhat.com>"}, "afterCommit": {"oid": "63719911956890e5a84c3c9b6761ffe6281b908f", "author": {"user": {"login": "cipherboy", "name": "Alexander Scheel"}}, "url": "https://github.com/dogtagpki/jss/commit/63719911956890e5a84c3c9b6761ffe6281b908f", "committedDate": "2020-05-11T21:56:28Z", "message": "Allow null src[index] in JSSEngine\n\nSigned-off-by: Alexander Scheel <ascheel@redhat.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA5NjAyNzM4", "url": "https://github.com/dogtagpki/jss/pull/540#pullrequestreview-409602738", "createdAt": "2020-05-11T23:37:38Z", "commit": {"oid": "b232893d246bb681acc25ace9773ccba99047307"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQyMzozNzozOVrOGTxB9A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQyMzo1MTo1MFrOGTxTfg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzM3OTQ0NA==", "bodyText": "I think super() is redundant since it is implicitly called by Java.", "url": "https://github.com/dogtagpki/jss/pull/540#discussion_r423379444", "createdAt": "2020-05-11T23:37:39Z", "author": {"login": "edewata"}, "path": "org/mozilla/jss/ssl/javax/JSSServerSocketFactory.java", "diffHunk": "@@ -0,0 +1,90 @@\n+package org.mozilla.jss.ssl.javax;\n+\n+import java.io.*;\n+import java.net.*;\n+import java.security.*;\n+\n+import javax.net.ssl.*;\n+\n+import org.mozilla.jss.provider.javax.crypto.JSSKeyManager;\n+import org.mozilla.jss.ssl.SSLCipher;\n+\n+public class JSSServerSocketFactory extends SSLServerSocketFactory {\n+    private SSLContext ctx;\n+    private JSSKeyManager key_manager;\n+    private X509TrustManager[] trust_managers;\n+\n+    public JSSServerSocketFactory(String protocol, JSSKeyManager km, X509TrustManager[] tms) {\n+        super();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b232893d246bb681acc25ace9773ccba99047307"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzM4MzkzNA==", "bodyText": "Sorry, you might have explained it before but I forgot :) Why do we only support a single key manager? Java API seems to generally support multiple key managers, and JSSEngine technically supports multiple key managers too, but JSSContextSpi only uses one. Should we support multiple key managers in all JSS public interface in general, but maybe just use only the first one if that's what we can support internally?", "url": "https://github.com/dogtagpki/jss/pull/540#discussion_r423383934", "createdAt": "2020-05-11T23:51:50Z", "author": {"login": "edewata"}, "path": "org/mozilla/jss/ssl/javax/JSSServerSocketFactory.java", "diffHunk": "@@ -0,0 +1,90 @@\n+package org.mozilla.jss.ssl.javax;\n+\n+import java.io.*;\n+import java.net.*;\n+import java.security.*;\n+\n+import javax.net.ssl.*;\n+\n+import org.mozilla.jss.provider.javax.crypto.JSSKeyManager;\n+import org.mozilla.jss.ssl.SSLCipher;\n+\n+public class JSSServerSocketFactory extends SSLServerSocketFactory {\n+    private SSLContext ctx;\n+    private JSSKeyManager key_manager;\n+    private X509TrustManager[] trust_managers;\n+\n+    public JSSServerSocketFactory(String protocol, JSSKeyManager km, X509TrustManager[] tms) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b232893d246bb681acc25ace9773ccba99047307"}, "originalPosition": 17}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "18df1fca766f75ccc6ac6c8f103b48377e078d37", "author": {"user": {"login": "cipherboy", "name": "Alexander Scheel"}}, "url": "https://github.com/dogtagpki/jss/commit/18df1fca766f75ccc6ac6c8f103b48377e078d37", "committedDate": "2020-05-12T13:39:44Z", "message": "Introduce JSS-specific SocketFactories\n\nIn order to finish implementing the SSLContext interface, we need to\nintroduce SocketFactories which return instances of our sockets. The\nmethods available on these factories influenced the design of the\nsocket implementations: because SSLSocketFactory can wrap an existing\nSocket into a SSLSocket, we made JSSSocket a wrapped implementation.\n\nSigned-off-by: Alexander Scheel <ascheel@redhat.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "eb042886e235fdca41e09e6dbec964cc155347db", "author": {"user": {"login": "cipherboy", "name": "Alexander Scheel"}}, "url": "https://github.com/dogtagpki/jss/commit/eb042886e235fdca41e09e6dbec964cc155347db", "committedDate": "2020-05-12T13:39:44Z", "message": "Switch to JSS-provided SSL Sockets, Factories\n\nSigned-off-by: Alexander Scheel <ascheel@redhat.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "94a47c44153b579382ff0ce93a8f9395889e27ce", "author": {"user": {"login": "cipherboy", "name": "Alexander Scheel"}}, "url": "https://github.com/dogtagpki/jss/commit/94a47c44153b579382ff0ce93a8f9395889e27ce", "committedDate": "2020-05-12T13:39:44Z", "message": "Move classpath, java.security to variables\n\nThis allows for easier editing when running select external tests.\n\nSigned-off-by: Alexander Scheel <ascheel@redhat.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d89676cb03eeec1f27753c2087483f0c7de99f64", "author": {"user": {"login": "cipherboy", "name": "Alexander Scheel"}}, "url": "https://github.com/dogtagpki/jss/commit/d89676cb03eeec1f27753c2087483f0c7de99f64", "committedDate": "2020-05-12T13:39:44Z", "message": "Update BadSSL to test JSSSocket as well\n\nSigned-off-by: Alexander Scheel <ascheel@redhat.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1d93adb0477f2249d9790915ee31254464ead833", "author": {"user": {"login": "cipherboy", "name": "Alexander Scheel"}}, "url": "https://github.com/dogtagpki/jss/commit/1d93adb0477f2249d9790915ee31254464ead833", "committedDate": "2020-05-12T13:39:45Z", "message": "Allow null src[index] in JSSEngine\n\nSigned-off-by: Alexander Scheel <ascheel@redhat.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "63719911956890e5a84c3c9b6761ffe6281b908f", "author": {"user": {"login": "cipherboy", "name": "Alexander Scheel"}}, "url": "https://github.com/dogtagpki/jss/commit/63719911956890e5a84c3c9b6761ffe6281b908f", "committedDate": "2020-05-11T21:56:28Z", "message": "Allow null src[index] in JSSEngine\n\nSigned-off-by: Alexander Scheel <ascheel@redhat.com>"}, "afterCommit": {"oid": "1d93adb0477f2249d9790915ee31254464ead833", "author": {"user": {"login": "cipherboy", "name": "Alexander Scheel"}}, "url": "https://github.com/dogtagpki/jss/commit/1d93adb0477f2249d9790915ee31254464ead833", "committedDate": "2020-05-12T13:39:45Z", "message": "Allow null src[index] in JSSEngine\n\nSigned-off-by: Alexander Scheel <ascheel@redhat.com>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1507, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}