{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc5MTk5ODI2", "number": 410, "title": "Merge IVParameterSpec into IvParameterSpec", "bodyText": "org.mozilla.jss.crypto.IVParameterSpec is an artifact from the dark ages when Java didn't support much crypto.\nNow there's javax.crypto.spec.IvParameterSpec. We've supported both for a while. To finally deprecate the former, make it inherit from the latter, removing its implementation completely.\nThere's two commits here:\n\nMerge the implementations.\nCombine all usages of the former into only caring about the latter.\n\nIf you have better one-line commit messages, do tell me, else I could just do it in one commit.", "createdAt": "2020-02-24T20:02:17Z", "url": "https://github.com/dogtagpki/jss/pull/410", "merged": true, "mergeCommit": {"oid": "83eaba176abe07ef5f869e95d0830ae646023a56"}, "closed": true, "closedAt": "2020-02-26T21:00:32Z", "author": {"login": "cipherboy"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcHivR7AH2gAyMzc5MTk5ODI2OjY3YzViZWU4NTA3YWY3ZmMxZGE5YjUwMzQxMGVmZGFlMTc2ZjVhMTY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcHlxDSgBqjMwNjczMzMyMTU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "67c5bee8507af7fc1da9b503410efdae176f5a16", "author": {"user": {"login": "cipherboy", "name": "Alexander Scheel"}}, "url": "https://github.com/dogtagpki/jss/commit/67c5bee8507af7fc1da9b503410efdae176f5a16", "committedDate": "2020-02-24T19:31:58Z", "message": "Merge IVParameterSpec into IvParameterSpec\n\nIVParameterSpec likely predates IvParameterSpec. As a result, we've had\nto introduce various hacks over the years to support both, even though\ntheir implementations and interfaces are nearly identical.\n\nMake IVParameterSpec extend IvParameterSpec, so we can start dropping\nsome of these hacks.\n\nSigned-off-by: Alexander Scheel <ascheel@redhat.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a1e46d82d988a7f21086aa9e4c73b7af7a2b0d64", "author": {"user": {"login": "cipherboy", "name": "Alexander Scheel"}}, "url": "https://github.com/dogtagpki/jss/commit/a1e46d82d988a7f21086aa9e4c73b7af7a2b0d64", "committedDate": "2020-02-24T20:00:06Z", "message": "Combine IVParameterSpec into IvParameterSpec\n\nThis merges the usages of the former into simplified code paths only\ncaring about the latter.\n\nSigned-off-by: Alexander Scheel <ascheel@redhat.com>"}, "afterCommit": {"oid": "5c8e735bfebcd56a9cc80c862ef37c02c710f12b", "author": {"user": {"login": "cipherboy", "name": "Alexander Scheel"}}, "url": "https://github.com/dogtagpki/jss/commit/5c8e735bfebcd56a9cc80c862ef37c02c710f12b", "committedDate": "2020-02-24T22:09:03Z", "message": "Simplify IvParameterSpec logic\n\nThis merges the usages of the former into simplified code paths only\ncaring about the latter.\n\nSigned-off-by: Alexander Scheel <ascheel@redhat.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYzNzQxODEy", "url": "https://github.com/dogtagpki/jss/pull/410#pullrequestreview-363741812", "createdAt": "2020-02-24T22:17:52Z", "commit": {"oid": "5c8e735bfebcd56a9cc80c862ef37c02c710f12b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNFQyMjoxNzo1MlrOFtx6fw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNFQyMjoxNzo1MlrOFtx6fw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzU0ODAzMQ==", "bodyText": "This case is actually covered by the subsequent loop. It's up to you if you want to remove it.", "url": "https://github.com/dogtagpki/jss/pull/410#discussion_r383548031", "createdAt": "2020-02-24T22:17:52Z", "author": {"login": "edewata"}, "path": "org/mozilla/jss/crypto/Algorithm.java", "diffHunk": "@@ -112,18 +112,31 @@ public OBJECT_IDENTIFIER toOID() throws NoSuchAlgorithmException {\n      * @return Returns <code>true</code> if the given Object can be used as a parameter.\n      */\n     public boolean isValidParameterObject(Object o) {\n-        if( o == null ) {\n+        if (o == null) {\n+            // It is only valid to pass a null parameter if the length of the\n+            // expected class list is zero. Otherwise, the usage is invalid.\n             return (parameterClasses.length == 0);\n         }\n-        if( parameterClasses.length == 0 ){\n+\n+        if (parameterClasses.length == 0) {\n+            // If we got an object parameter, but weren't expecting any, it\n+            // is invalid.\n             return false;\n         }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5c8e735bfebcd56a9cc80c862ef37c02c710f12b"}, "originalPosition": 16}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYzNzYzMjE2", "url": "https://github.com/dogtagpki/jss/pull/410#pullrequestreview-363763216", "createdAt": "2020-02-24T23:01:13Z", "commit": {"oid": "5c8e735bfebcd56a9cc80c862ef37c02c710f12b"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5c8e735bfebcd56a9cc80c862ef37c02c710f12b", "author": {"user": {"login": "cipherboy", "name": "Alexander Scheel"}}, "url": "https://github.com/dogtagpki/jss/commit/5c8e735bfebcd56a9cc80c862ef37c02c710f12b", "committedDate": "2020-02-24T22:09:03Z", "message": "Simplify IvParameterSpec logic\n\nThis merges the usages of the former into simplified code paths only\ncaring about the latter.\n\nSigned-off-by: Alexander Scheel <ascheel@redhat.com>"}, "afterCommit": {"oid": "65002ceb3106c8d50e1a7971eb560ccad083fdc5", "author": {"user": {"login": "cipherboy", "name": "Alexander Scheel"}}, "url": "https://github.com/dogtagpki/jss/commit/65002ceb3106c8d50e1a7971eb560ccad083fdc5", "committedDate": "2020-02-24T23:00:16Z", "message": "Simplify IvParameterSpec logic\n\nThis merges the usages of the former into simplified code paths only\ncaring about the latter.\n\nSigned-off-by: Alexander Scheel <ascheel@redhat.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aadd2c5dd6343934e99b53d61ef8ab4212b431de", "author": {"user": {"login": "cipherboy", "name": "Alexander Scheel"}}, "url": "https://github.com/dogtagpki/jss/commit/aadd2c5dd6343934e99b53d61ef8ab4212b431de", "committedDate": "2020-02-24T23:02:53Z", "message": "Simplify IvParameterSpec logic\n\nThis merges the usages of org.mozilla.jss.crypto.IVParameterSpec into\nsimplified code paths only caring about the preferred class,\njavax.crypto.spec.IvParameterSpec.\n\nSigned-off-by: Alexander Scheel <ascheel@redhat.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "65002ceb3106c8d50e1a7971eb560ccad083fdc5", "author": {"user": {"login": "cipherboy", "name": "Alexander Scheel"}}, "url": "https://github.com/dogtagpki/jss/commit/65002ceb3106c8d50e1a7971eb560ccad083fdc5", "committedDate": "2020-02-24T23:00:16Z", "message": "Simplify IvParameterSpec logic\n\nThis merges the usages of the former into simplified code paths only\ncaring about the latter.\n\nSigned-off-by: Alexander Scheel <ascheel@redhat.com>"}, "afterCommit": {"oid": "aadd2c5dd6343934e99b53d61ef8ab4212b431de", "author": {"user": {"login": "cipherboy", "name": "Alexander Scheel"}}, "url": "https://github.com/dogtagpki/jss/commit/aadd2c5dd6343934e99b53d61ef8ab4212b431de", "committedDate": "2020-02-24T23:02:53Z", "message": "Simplify IvParameterSpec logic\n\nThis merges the usages of org.mozilla.jss.crypto.IVParameterSpec into\nsimplified code paths only caring about the preferred class,\njavax.crypto.spec.IvParameterSpec.\n\nSigned-off-by: Alexander Scheel <ascheel@redhat.com>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1540, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}