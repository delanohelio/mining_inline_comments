{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI4NjUwNTEy", "number": 1878, "title": "Collect HTTP/1 metrics in NettyNioHttpClient.", "bodyText": "", "createdAt": "2020-06-05T18:31:50Z", "url": "https://github.com/aws/aws-sdk-java-v2/pull/1878", "merged": true, "mergeCommit": {"oid": "7f72a114d03a84b3380fa4e9ee90afadb9f942b8"}, "closed": true, "closedAt": "2020-06-06T00:16:01Z", "author": {"login": "millems"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcoZMk6gFqTQyNTU5NzU2NA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcobpBnABqjM0MTM3NDcxNTE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI1NTk3NTY0", "url": "https://github.com/aws/aws-sdk-java-v2/pull/1878#pullrequestreview-425597564", "createdAt": "2020-06-05T20:13:15Z", "commit": {"oid": "8bcf4ee190c77ef9bd0aaa6c5f72c9dd2f1553ae"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNVQyMDoxMzoxNVrOGf8C_Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNVQyMDoyOTozOFrOGf8dTg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjE0Mjg0NQ==", "bodyText": "Can you expand on this TODO?", "url": "https://github.com/aws/aws-sdk-java-v2/pull/1878#discussion_r436142845", "createdAt": "2020-06-05T20:13:15Z", "author": {"login": "cenedhryn"}, "path": "http-clients/netty-nio-client/src/main/java/software/amazon/awssdk/http/nio/netty/NettyNioAsyncHttpClient.java", "diffHunk": "@@ -117,6 +118,7 @@ private NettyNioAsyncHttpClient(DefaultBuilder builder, AttributeMap serviceDefa\n     @Override\n     public CompletableFuture<Void> execute(AsyncExecuteRequest request) {\n         RequestContext ctx = createRequestContext(request);\n+        ctx.metricCollector().reportMetric(HTTP_CLIENT_NAME, clientName()); // TODO: Can't this be done in core?", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8bcf4ee190c77ef9bd0aaa6c5f72c9dd2f1553ae"}, "originalPosition": 46}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjE0OTU4Mg==", "bodyText": "Why this switch? I don't know this code but I assume it's an improvement; is there any risk in doing things in this order?", "url": "https://github.com/aws/aws-sdk-java-v2/pull/1878#discussion_r436149582", "createdAt": "2020-06-05T20:29:38Z", "author": {"login": "cenedhryn"}, "path": "http-clients/netty-nio-client/src/main/java/software/amazon/awssdk/http/nio/netty/internal/NettyRequestExecutor.java", "diffHunk": "@@ -87,8 +89,8 @@ public NettyRequestExecutor(RequestContext context) {\n     @SuppressWarnings(\"unchecked\")\n     public CompletableFuture<Void> execute() {\n         Promise<Channel> channelFuture = context.eventLoopGroup().next().newPromise();\n+        executeFuture = createExecutionFuture(channelFuture);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8bcf4ee190c77ef9bd0aaa6c5f72c9dd2f1553ae"}, "originalPosition": 13}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI1NjY5MTAx", "url": "https://github.com/aws/aws-sdk-java-v2/pull/1878#pullrequestreview-425669101", "createdAt": "2020-06-05T22:49:37Z", "commit": {"oid": "8bcf4ee190c77ef9bd0aaa6c5f72c9dd2f1553ae"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8bcf4ee190c77ef9bd0aaa6c5f72c9dd2f1553ae", "author": {"user": {"login": "millems", "name": "Matthew Miller"}}, "url": "https://github.com/aws/aws-sdk-java-v2/commit/8bcf4ee190c77ef9bd0aaa6c5f72c9dd2f1553ae", "committedDate": "2020-06-05T18:29:39Z", "message": "Collect HTTP/1 metrics in NettyNioHttpClient."}, "afterCommit": {"oid": "e09f22ec85165dd3524b58fa889f804fb0c27745", "author": {"user": {"login": "millems", "name": "Matthew Miller"}}, "url": "https://github.com/aws/aws-sdk-java-v2/commit/e09f22ec85165dd3524b58fa889f804fb0c27745", "committedDate": "2020-06-05T23:42:42Z", "message": "Collect HTTP/1 metrics in NettyNioHttpClient."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dca0faf4689be98848a281dbf44184c69e35fcc2", "author": {"user": {"login": "millems", "name": "Matthew Miller"}}, "url": "https://github.com/aws/aws-sdk-java-v2/commit/dca0faf4689be98848a281dbf44184c69e35fcc2", "committedDate": "2020-06-05T23:55:06Z", "message": "Collect HTTP/1 metrics in NettyNioHttpClient."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e09f22ec85165dd3524b58fa889f804fb0c27745", "author": {"user": {"login": "millems", "name": "Matthew Miller"}}, "url": "https://github.com/aws/aws-sdk-java-v2/commit/e09f22ec85165dd3524b58fa889f804fb0c27745", "committedDate": "2020-06-05T23:42:42Z", "message": "Collect HTTP/1 metrics in NettyNioHttpClient."}, "afterCommit": {"oid": "dca0faf4689be98848a281dbf44184c69e35fcc2", "author": {"user": {"login": "millems", "name": "Matthew Miller"}}, "url": "https://github.com/aws/aws-sdk-java-v2/commit/dca0faf4689be98848a281dbf44184c69e35fcc2", "committedDate": "2020-06-05T23:55:06Z", "message": "Collect HTTP/1 metrics in NettyNioHttpClient."}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2589, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}