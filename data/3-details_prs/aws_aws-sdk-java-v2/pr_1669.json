{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgwNTQ1NDc2", "number": 1669, "title": "DynamoDB Enhanced Client: Redesign of Key interface", "bodyText": "Made it easier and more intuitive to create and manage Key objects required for operations that lookup records.\nRelates to #35\nTesting\nUnit & functional tests\nTypes of changes\n\n\n Bug fix (non-breaking change which fixes an issue)\n New feature (non-breaking change which adds functionality)\n\nChecklist\n\n\n\n I have read the CONTRIBUTING document\n Local run of mvn install succeeds\n My code follows the code style of this project\n My change requires a change to the Javadoc documentation\n I have updated the Javadoc documentation accordingly\n I have read the README document\n I have added tests to cover my changes\n All new and existing tests passed\n A short description of the change has been added to the CHANGELOG\n My change is to implement 1.11 parity feature and I have updated LaunchChangelog\n\nLicense\n\n\n\n\n I confirm that this pull request can be released under the Apache 2 license", "createdAt": "2020-02-26T22:45:20Z", "url": "https://github.com/aws/aws-sdk-java-v2/pull/1669", "merged": true, "mergeCommit": {"oid": "063aaad15f66abf453747b82460f2d803d9ee88f"}, "closed": true, "closedAt": "2020-02-27T19:23:18Z", "author": {"login": "bmaizels"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcIQz34gBqjMwNzYwMjI0NDg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcIfuWzABqjMwNzg5OTg5ODI=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5cba99e6914306f7a1de8bc297e18e60e5f9465d", "author": {"user": {"login": "bmaizels", "name": "Benjamin Maizels"}}, "url": "https://github.com/aws/aws-sdk-java-v2/commit/5cba99e6914306f7a1de8bc297e18e60e5f9465d", "committedDate": "2020-02-26T20:13:49Z", "message": "DynamoDB Enhanced Client: Redesign of Key interface"}, "afterCommit": {"oid": "b207aeaa6c900d04755eb1961dbe3ebc0a63ad6b", "author": {"user": {"login": "bmaizels", "name": "Benjamin Maizels"}}, "url": "https://github.com/aws/aws-sdk-java-v2/commit/b207aeaa6c900d04755eb1961dbe3ebc0a63ad6b", "committedDate": "2020-02-27T01:12:07Z", "message": "DynamoDB Enhanced Client: Redesign of Key interface"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b207aeaa6c900d04755eb1961dbe3ebc0a63ad6b", "author": {"user": {"login": "bmaizels", "name": "Benjamin Maizels"}}, "url": "https://github.com/aws/aws-sdk-java-v2/commit/b207aeaa6c900d04755eb1961dbe3ebc0a63ad6b", "committedDate": "2020-02-27T01:12:07Z", "message": "DynamoDB Enhanced Client: Redesign of Key interface"}, "afterCommit": {"oid": "9fa68b2bb2e08984223e01b57ad9802596fdba3f", "author": {"user": {"login": "bmaizels", "name": "Benjamin Maizels"}}, "url": "https://github.com/aws/aws-sdk-java-v2/commit/9fa68b2bb2e08984223e01b57ad9802596fdba3f", "committedDate": "2020-02-27T01:53:29Z", "message": "DynamoDB Enhanced Client: Redesign of Key interface"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY1ODYxNzI5", "url": "https://github.com/aws/aws-sdk-java-v2/pull/1669#pullrequestreview-365861729", "createdAt": "2020-02-27T17:36:36Z", "commit": {"oid": "9fa68b2bb2e08984223e01b57ad9802596fdba3f"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yN1QxNzozNjozNlrOFvaq5g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yN1QxNzozNjozNlrOFvaq5g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTI2NDM1OA==", "bodyText": "Can you newline partitionValue, sortValue and build so that this can then be formatted nicer within our line length limits?", "url": "https://github.com/aws/aws-sdk-java-v2/pull/1669#discussion_r385264358", "createdAt": "2020-02-27T17:36:36Z", "author": {"login": "spfink"}, "path": "services-custom/dynamodb-enhanced/src/main/java/software/amazon/awssdk/enhanced/dynamodb/internal/EnhancedClientUtils.java", "diffHunk": "@@ -116,8 +116,9 @@ public static String cleanAttributeName(String key) {\n         AttributeValue partitionKeyValue = tableSchema.attributeValue(item, partitionKeyName);\n         Optional<AttributeValue> sortKeyValue = sortKeyName.map(key -> tableSchema.attributeValue(item, key));\n \n-        return sortKeyValue.map(attributeValue -> Key.create(partitionKeyValue, attributeValue))\n-                           .orElseGet(() -> Key.create(partitionKeyValue));\n+        return sortKeyValue.map(\n+            attributeValue -> Key.builder().partitionValue(partitionKeyValue).sortValue(attributeValue).build())", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9fa68b2bb2e08984223e01b57ad9802596fdba3f"}, "originalPosition": 7}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f4c5bb82f8fb8b5593a106ecee85ab018e2b7734", "author": {"user": {"login": "bmaizels", "name": "Benjamin Maizels"}}, "url": "https://github.com/aws/aws-sdk-java-v2/commit/f4c5bb82f8fb8b5593a106ecee85ab018e2b7734", "committedDate": "2020-02-27T18:34:11Z", "message": "DynamoDB Enhanced Client: Redesign of Key interface"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9fa68b2bb2e08984223e01b57ad9802596fdba3f", "author": {"user": {"login": "bmaizels", "name": "Benjamin Maizels"}}, "url": "https://github.com/aws/aws-sdk-java-v2/commit/9fa68b2bb2e08984223e01b57ad9802596fdba3f", "committedDate": "2020-02-27T01:53:29Z", "message": "DynamoDB Enhanced Client: Redesign of Key interface"}, "afterCommit": {"oid": "f4c5bb82f8fb8b5593a106ecee85ab018e2b7734", "author": {"user": {"login": "bmaizels", "name": "Benjamin Maizels"}}, "url": "https://github.com/aws/aws-sdk-java-v2/commit/f4c5bb82f8fb8b5593a106ecee85ab018e2b7734", "committedDate": "2020-02-27T18:34:11Z", "message": "DynamoDB Enhanced Client: Redesign of Key interface"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2692, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}