{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg5NTMzNzkx", "number": 1719, "title": "DDB Enhanced: Add support for a 'key item' in operations that take a key", "bodyText": "Adding the new KeyItem/Item shortcut form to TransactGetItems and TransactWriteItems enhanced requests caused ambiguity resolving the difference between that overloaded method and the method that takes a consumer builder. We decided that keyItem was the more convenient of the two convenience methods so chopped the consumer builder version just from those operations.\nLicense\n\n\n\n\n I confirm that this pull request can be released under the Apache 2 license", "createdAt": "2020-03-16T22:56:41Z", "url": "https://github.com/aws/aws-sdk-java-v2/pull/1719", "merged": true, "mergeCommit": {"oid": "fafa5df3384f28c41cae13574d473f7d0abba6d3"}, "closed": true, "closedAt": "2020-03-17T17:31:38Z", "author": {"login": "bmaizels"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcOjKukgFqTM3NjA1MTM0NQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcOl1nGABqjMxMzgyNTQyOTU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc2MDUxMzQ1", "url": "https://github.com/aws/aws-sdk-java-v2/pull/1719#pullrequestreview-376051345", "createdAt": "2020-03-17T13:50:12Z", "commit": {"oid": "024353406b05e040ddaf72ec15ac6af58ec26c09"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xN1QxMzo1MDoxM1rOF3dGYw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xN1QxMzo1OTowOVrOF3deiQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzY5Mjc3MQ==", "bodyText": "This example is missing  .join()", "url": "https://github.com/aws/aws-sdk-java-v2/pull/1719#discussion_r393692771", "createdAt": "2020-03-17T13:50:13Z", "author": {"login": "cenedhryn"}, "path": "services-custom/dynamodb-enhanced/src/main/java/software/amazon/awssdk/enhanced/dynamodb/DynamoDbAsyncTable.java", "diffHunk": "@@ -212,6 +212,28 @@\n         throw new UnsupportedOperationException();\n     }\n \n+    /**\n+     * Deletes a single item from the mapped table using just the key of a supplied modelled 'key item' object.\n+     * <p>\n+     * This operation calls the low-level DynamoDB API DeleteItem operation. Consult the DeleteItem documentation for\n+     * further details and constraints.\n+     * <p>\n+     * Example:\n+     * <pre>\n+     * {@code\n+     *\n+     * mappedTable.deleteItem(keyItem);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "024353406b05e040ddaf72ec15ac6af58ec26c09"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzY5MzU1OA==", "bodyText": "Should we emphasize that the item you're returning isn't necessarily the one you send in?", "url": "https://github.com/aws/aws-sdk-java-v2/pull/1719#discussion_r393693558", "createdAt": "2020-03-17T13:51:25Z", "author": {"login": "cenedhryn"}, "path": "services-custom/dynamodb-enhanced/src/main/java/software/amazon/awssdk/enhanced/dynamodb/DynamoDbAsyncTable.java", "diffHunk": "@@ -212,6 +212,28 @@\n         throw new UnsupportedOperationException();\n     }\n \n+    /**\n+     * Deletes a single item from the mapped table using just the key of a supplied modelled 'key item' object.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "024353406b05e040ddaf72ec15ac6af58ec26c09"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzY5ODk1Mw==", "bodyText": "The overall effect when you mix-n-match using the new format is one of pleasing uniformity, I think it enhances the usability.", "url": "https://github.com/aws/aws-sdk-java-v2/pull/1719#discussion_r393698953", "createdAt": "2020-03-17T13:59:09Z", "author": {"login": "cenedhryn"}, "path": "services-custom/dynamodb-enhanced/src/test/java/software/amazon/awssdk/enhanced/dynamodb/internal/operations/BatchWriteItemOperationTest.java", "diffHunk": "@@ -179,6 +179,39 @@ public void generateRequest_multipleTables_mixedCommands_usingShortcutForm() {\n                                                       deleteRequest(FAKESORT_ITEM_MAPS.get(2))));\n     }\n \n+    @Test\n+    public void generateRequest_multipleTables_mixedCommands_usingKeyItemForm() {\n+        BatchWriteItemEnhancedRequest batchWriteItemEnhancedRequest =\n+            BatchWriteItemEnhancedRequest.builder()\n+                                         .writeBatches(\n+                                             WriteBatch.builder(FakeItem.class)\n+                                                       .mappedTableResource(fakeItemMappedTable)\n+                                                       .addPutItem(FAKE_ITEMS.get(0))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "024353406b05e040ddaf72ec15ac6af58ec26c09"}, "originalPosition": 11}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "024353406b05e040ddaf72ec15ac6af58ec26c09", "author": {"user": {"login": "bmaizels", "name": "Benjamin Maizels"}}, "url": "https://github.com/aws/aws-sdk-java-v2/commit/024353406b05e040ddaf72ec15ac6af58ec26c09", "committedDate": "2020-03-16T22:38:49Z", "message": "DDB Enhanced: Add support for a 'key item' in operations that take a key"}, "afterCommit": {"oid": "66d40caf5485ea8b5f3022614d6a02a7fdb7cc42", "author": {"user": {"login": "bmaizels", "name": "Benjamin Maizels"}}, "url": "https://github.com/aws/aws-sdk-java-v2/commit/66d40caf5485ea8b5f3022614d6a02a7fdb7cc42", "committedDate": "2020-03-17T16:52:59Z", "message": "DDB Enhanced: Add support for a 'key item' in operations that take a key"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc2MjI0Njg2", "url": "https://github.com/aws/aws-sdk-java-v2/pull/1719#pullrequestreview-376224686", "createdAt": "2020-03-17T16:55:07Z", "commit": {"oid": "d90d61c643d22330f0cf5f2e97717c163e5fe442"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "882f794b3a8f65edf164048db67472500380664b", "author": {"user": {"login": "bmaizels", "name": "Benjamin Maizels"}}, "url": "https://github.com/aws/aws-sdk-java-v2/commit/882f794b3a8f65edf164048db67472500380664b", "committedDate": "2020-03-17T17:05:55Z", "message": "DDB Enhanced: Add support for a 'key item' in operations that take a key"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d90d61c643d22330f0cf5f2e97717c163e5fe442", "author": {"user": {"login": "bmaizels", "name": "Benjamin Maizels"}}, "url": "https://github.com/aws/aws-sdk-java-v2/commit/d90d61c643d22330f0cf5f2e97717c163e5fe442", "committedDate": "2020-03-17T16:53:34Z", "message": "Merge branch 'master' into bmaizels/ddbenhanced-keyitems"}, "afterCommit": {"oid": "882f794b3a8f65edf164048db67472500380664b", "author": {"user": {"login": "bmaizels", "name": "Benjamin Maizels"}}, "url": "https://github.com/aws/aws-sdk-java-v2/commit/882f794b3a8f65edf164048db67472500380664b", "committedDate": "2020-03-17T17:05:55Z", "message": "DDB Enhanced: Add support for a 'key item' in operations that take a key"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2745, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}