{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkxMjg1NDg3", "number": 2058, "title": "Add decision log for waiters", "bodyText": "Description\nAdd decision log for waiters\nMotivation and Context\n\n\nTesting\n\n\n\nScreenshots (if appropriate)\nTypes of changes\n\n\n Bug fix (non-breaking change which fixes an issue)\n New feature (non-breaking change which adds functionality)\n\nChecklist\n\n\n\n I have read the CONTRIBUTING document\n Local run of mvn install succeeds\n My code follows the code style of this project\n My change requires a change to the Javadoc documentation\n I have updated the Javadoc documentation accordingly\n I have read the README document\n I have added tests to cover my changes\n All new and existing tests passed\n A short description of the change has been added to the CHANGELOG\n My change is to implement 1.11 parity feature and I have updated LaunchChangelog\n\nLicense\n\n\n\n\n I confirm that this pull request can be released under the Apache 2 license", "createdAt": "2020-09-23T00:47:26Z", "url": "https://github.com/aws/aws-sdk-java-v2/pull/2058", "merged": true, "mergeCommit": {"oid": "c7b000b81d2770740b37230a10fb70cd45c7dc3a"}, "closed": true, "closedAt": "2020-09-28T20:57:34Z", "author": {"login": "zoewangg"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdLwJV7gFqTQ5NDg5Mzg1OA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdNYntqgBqjM4MTYwOTY3MTY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk0ODkzODU4", "url": "https://github.com/aws/aws-sdk-java-v2/pull/2058#pullrequestreview-494893858", "createdAt": "2020-09-23T17:36:02Z", "commit": {"oid": "2c5f6bfcf245cf1d9fed30e4ad021ef36d641b20"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QxNzozNjowM1rOHW5XDQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QxNzozNjowM1rOHW5XDQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mzc3MDUwOQ==", "bodyText": "This should usually follow the \"Question? Decision. Justification.\" format, even if we decide not to change anything.", "url": "https://github.com/aws/aws-sdk-java-v2/pull/2058#discussion_r493770509", "createdAt": "2020-09-23T17:36:03Z", "author": {"login": "millems"}, "path": "docs/design/core/waiters/DecisionLog.md", "diffHunk": "@@ -0,0 +1,41 @@\n+# Decision Log for SDK V2 Waiters\n+\n+Note: The decision log process was implemented late in this project, so decisions earlier than 9/22/20 are not included \n+below.\n+\n+## Log Entry Template\n+\n+**Source:** (Meeting/aside/pair programming discussion/daily standup) to (discuss/implement) X\n+\n+**Attendees:** Anna-Karin, Ben, Dongie, Irene, Matt, Nico, Vinod, John, Zoe\n+\n+**Closed Decisions:**\n+\n+1. Question? Decision. Justification.\n+\n+**Open Decisions:**\n+\n+1. (Old/Reopened/New) Question?\n+\n+## 9/22/20\n+\n+**Source:** Meeting to review API surface-area of the waiters implementation https://github.com/aws/aws-sdk-java-v2/tree/waiters-development\n+\n+**Attendees:** Anna-Karin, Ben, Dongie, John, Matt, Nico, Vinod, Zoe\n+\n+**Closed Decisions:**\n+\n+1. The default `ScheduledExecutorService` core number should be changed to 1 because it's only used to schedule attempts.\n+2. `DynamodbEnhancedClient.builder().build()` should create a default SDK client because `DynamodbEnhancedClient.builder().build` should be equivalent to `DynamodbEnhancedClient.create()`\n+3. Should we make the generic `Waiter` non-public? No, because it is essentially a protected API and has to be backwards-compatible any way. In addition, customers can benefit from it\n+when service waiters are not available.\n+4. We should keep the union type `ResponseOrException` because it clearly indicates response and exception are mutually exclusive and only one is present. We should keep the naming `ResponseOrException` because it's intuitive and descriptive. \n+5. We should rename `WaiterResponse#responseOrExecption` -> `WaiterResponse#matched` because it has the most votes compared with other options: `matchedResponse`, `matchedResult`, `matchedValue`\n+6. We should rename `{Service}Waiter.Builder#executorService` -> `{Service}Waiter.Builder#scheduledExecutorService` to be more clear it's a `ScheduledExecutorService`\n+7. We should rename `Waiter.Builder#pollingStrategy` -> `Waiter.Builder#waiterOverrideConfiguration` so that we can easily add more configurations if needed. All configs under `WaiterOverrideConfiguration` should have default values to be consistent\n+with `ClientOverrideConfiguration`\n+8. We should create an overload method which takes a `WaiterOverrideConfiguration` parameter to allow request-level config override for every waiter operation, eg: `DynamodbWaiter#waitUntilTableExists(DescribeTableRequest, WaiterOverrideConfiguration)`", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2c5f6bfcf245cf1d9fed30e4ad021ef36d641b20"}, "originalPosition": 37}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk0OTA3NzE3", "url": "https://github.com/aws/aws-sdk-java-v2/pull/2058#pullrequestreview-494907717", "createdAt": "2020-09-23T17:54:18Z", "commit": {"oid": "2c5f6bfcf245cf1d9fed30e4ad021ef36d641b20"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QxNzo1NDoxOFrOHW6BHw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QxNzo1NDoxOFrOHW6BHw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mzc4MTI3OQ==", "bodyText": "+1", "url": "https://github.com/aws/aws-sdk-java-v2/pull/2058#discussion_r493781279", "createdAt": "2020-09-23T17:54:18Z", "author": {"login": "cenedhryn"}, "path": "docs/design/core/waiters/DecisionLog.md", "diffHunk": "@@ -0,0 +1,41 @@\n+# Decision Log for SDK V2 Waiters\n+\n+Note: The decision log process was implemented late in this project, so decisions earlier than 9/22/20 are not included \n+below.\n+\n+## Log Entry Template\n+\n+**Source:** (Meeting/aside/pair programming discussion/daily standup) to (discuss/implement) X\n+\n+**Attendees:** Anna-Karin, Ben, Dongie, Irene, Matt, Nico, Vinod, John, Zoe\n+\n+**Closed Decisions:**\n+\n+1. Question? Decision. Justification.\n+\n+**Open Decisions:**\n+\n+1. (Old/Reopened/New) Question?\n+\n+## 9/22/20\n+\n+**Source:** Meeting to review API surface-area of the waiters implementation https://github.com/aws/aws-sdk-java-v2/tree/waiters-development\n+\n+**Attendees:** Anna-Karin, Ben, Dongie, John, Matt, Nico, Vinod, Zoe\n+\n+**Closed Decisions:**\n+\n+1. The default `ScheduledExecutorService` core number should be changed to 1 because it's only used to schedule attempts.\n+2. `DynamodbEnhancedClient.builder().build()` should create a default SDK client because `DynamodbEnhancedClient.builder().build` should be equivalent to `DynamodbEnhancedClient.create()`\n+3. Should we make the generic `Waiter` non-public? No, because it is essentially a protected API and has to be backwards-compatible any way. In addition, customers can benefit from it\n+when service waiters are not available.\n+4. We should keep the union type `ResponseOrException` because it clearly indicates response and exception are mutually exclusive and only one is present. We should keep the naming `ResponseOrException` because it's intuitive and descriptive. \n+5. We should rename `WaiterResponse#responseOrExecption` -> `WaiterResponse#matched` because it has the most votes compared with other options: `matchedResponse`, `matchedResult`, `matchedValue`\n+6. We should rename `{Service}Waiter.Builder#executorService` -> `{Service}Waiter.Builder#scheduledExecutorService` to be more clear it's a `ScheduledExecutorService`\n+7. We should rename `Waiter.Builder#pollingStrategy` -> `Waiter.Builder#waiterOverrideConfiguration` so that we can easily add more configurations if needed. All configs under `WaiterOverrideConfiguration` should have default values to be consistent\n+with `ClientOverrideConfiguration`\n+8. We should create an overload method which takes a `WaiterOverrideConfiguration` parameter to allow request-level config override for every waiter operation, eg: `DynamodbWaiter#waitUntilTableExists(DescribeTableRequest, WaiterOverrideConfiguration)`", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mzc3MDUwOQ=="}, "originalCommit": {"oid": "2c5f6bfcf245cf1d9fed30e4ad021ef36d641b20"}, "originalPosition": 37}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "27dd21419d8748d6209d96d4dde5dbb83777284d", "author": {"user": {"login": "zoewangg", "name": "Zoe Wang"}}, "url": "https://github.com/aws/aws-sdk-java-v2/commit/27dd21419d8748d6209d96d4dde5dbb83777284d", "committedDate": "2020-09-28T19:18:51Z", "message": "Add decision log for waiters"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2c5f6bfcf245cf1d9fed30e4ad021ef36d641b20", "author": {"user": {"login": "zoewangg", "name": "Zoe Wang"}}, "url": "https://github.com/aws/aws-sdk-java-v2/commit/2c5f6bfcf245cf1d9fed30e4ad021ef36d641b20", "committedDate": "2020-09-23T00:46:11Z", "message": "Add decision log for waiters"}, "afterCommit": {"oid": "27dd21419d8748d6209d96d4dde5dbb83777284d", "author": {"user": {"login": "zoewangg", "name": "Zoe Wang"}}, "url": "https://github.com/aws/aws-sdk-java-v2/commit/27dd21419d8748d6209d96d4dde5dbb83777284d", "committedDate": "2020-09-28T19:18:51Z", "message": "Add decision log for waiters"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2478, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}