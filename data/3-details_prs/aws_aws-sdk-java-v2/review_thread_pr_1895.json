{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMzNzkyMDA4", "number": 1895, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQxODoyNzo0OFrOEFJx9g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQxODoyNzo0OFrOEFJx9g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjczODM4NTgyOnYy", "diffSide": "RIGHT", "path": "core/sdk-core/src/main/java/software/amazon/awssdk/core/internal/util/MetricUtils.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQxODoyNzo0OFrOGjNyXA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQxODozNDo0NVrOGjN-hw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTU3OTIyOA==", "bodyText": "Is this meant to be reporting request id header, not request id?", "url": "https://github.com/aws/aws-sdk-java-v2/pull/1895#discussion_r439579228", "createdAt": "2020-06-12T18:27:48Z", "author": {"login": "cenedhryn"}, "path": "core/sdk-core/src/main/java/software/amazon/awssdk/core/internal/util/MetricUtils.java", "diffHunk": "@@ -106,6 +107,8 @@ public static void collectHttpMetrics(MetricCollector metricCollector, SdkHttpFu\n         metricCollector.reportMetric(CoreMetric.HTTP_STATUS_CODE, httpResponse.statusCode());\n         httpResponse.firstMatchingHeader(\"x-amz-request-id\")\n                     .ifPresent(v -> metricCollector.reportMetric(CoreMetric.AWS_REQUEST_ID, v));\n+        httpResponse.firstMatchingHeader(X_AMZN_REQUEST_ID_HEADER)\n+                    .ifPresent(v -> metricCollector.reportMetric(CoreMetric.AWS_REQUEST_ID, v));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f22c0ddca3872315eca33ea87846772856d32304"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTU4MTk4NQ==", "bodyText": "It's the header name for request Ids with different format.\nCurrently, we have two formats I think\nx-amzn-RequestId\nx-amz-request-id", "url": "https://github.com/aws/aws-sdk-java-v2/pull/1895#discussion_r439581985", "createdAt": "2020-06-12T18:33:58Z", "author": {"login": "zoewangg"}, "path": "core/sdk-core/src/main/java/software/amazon/awssdk/core/internal/util/MetricUtils.java", "diffHunk": "@@ -106,6 +107,8 @@ public static void collectHttpMetrics(MetricCollector metricCollector, SdkHttpFu\n         metricCollector.reportMetric(CoreMetric.HTTP_STATUS_CODE, httpResponse.statusCode());\n         httpResponse.firstMatchingHeader(\"x-amz-request-id\")\n                     .ifPresent(v -> metricCollector.reportMetric(CoreMetric.AWS_REQUEST_ID, v));\n+        httpResponse.firstMatchingHeader(X_AMZN_REQUEST_ID_HEADER)\n+                    .ifPresent(v -> metricCollector.reportMetric(CoreMetric.AWS_REQUEST_ID, v));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTU3OTIyOA=="}, "originalCommit": {"oid": "f22c0ddca3872315eca33ea87846772856d32304"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTU4MjM0Mw==", "bodyText": "ok!", "url": "https://github.com/aws/aws-sdk-java-v2/pull/1895#discussion_r439582343", "createdAt": "2020-06-12T18:34:45Z", "author": {"login": "cenedhryn"}, "path": "core/sdk-core/src/main/java/software/amazon/awssdk/core/internal/util/MetricUtils.java", "diffHunk": "@@ -106,6 +107,8 @@ public static void collectHttpMetrics(MetricCollector metricCollector, SdkHttpFu\n         metricCollector.reportMetric(CoreMetric.HTTP_STATUS_CODE, httpResponse.statusCode());\n         httpResponse.firstMatchingHeader(\"x-amz-request-id\")\n                     .ifPresent(v -> metricCollector.reportMetric(CoreMetric.AWS_REQUEST_ID, v));\n+        httpResponse.firstMatchingHeader(X_AMZN_REQUEST_ID_HEADER)\n+                    .ifPresent(v -> metricCollector.reportMetric(CoreMetric.AWS_REQUEST_ID, v));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTU3OTIyOA=="}, "originalCommit": {"oid": "f22c0ddca3872315eca33ea87846772856d32304"}, "originalPosition": 13}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4155, "cost": 1, "resetAt": "2021-11-12T11:18:39Z"}}}