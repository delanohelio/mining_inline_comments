{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg4MDExMTgy", "number": 1713, "title": "Adding custom AttributeConverterProvider and AttributeConverter to DD\u2026", "bodyText": "\u2026B Enhanced static table schema and static attribute\nDescription\nAdds the ability to supply a custom AttributeConverterProvider to the static table schema StaticTableSchema. The custom class must provide converters for all attributes for the schema. In addition, it's possible to override converters at the attribute level by creating a StaticAttribute with a custom AttributeConverter.\nTracking DDB enhanced client features: Issue #35.\nMotivation and Context\nUsers should have the ability to provide custom converters for types that aren't covered by the default attribute converters or have specific requirements that require overrides.\nTesting\nUnit tested.\nTypes of changes\n\n\n Bug fix (non-breaking change which fixes an issue)\n New feature (non-breaking change which adds functionality)\n\nLicense\n\n\n\n\n I confirm that this pull request can be released under the Apache 2 license", "createdAt": "2020-03-13T21:50:03Z", "url": "https://github.com/aws/aws-sdk-java-v2/pull/1713", "merged": true, "mergeCommit": {"oid": "f19a3679ee242130e670e4f954353a6c817032bc"}, "closed": true, "closedAt": "2020-03-13T22:55:00Z", "author": {"login": "cenedhryn"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcNXydpAFqTM3NDY0NDUzMg==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcNYF_pAFqTM3NDY1MjcxNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc0NjQ0NTMy", "url": "https://github.com/aws/aws-sdk-java-v2/pull/1713#pullrequestreview-374644532", "createdAt": "2020-03-13T22:06:33Z", "commit": {"oid": "ca63ceb82454b978145b1ff2cd455520bf7f8dbd"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xM1QyMjowNjozM1rOF2UwJw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xM1QyMjowOToxNlrOF2UzSg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjUwNzQzMQ==", "bodyText": "Can we comment that it may be null?", "url": "https://github.com/aws/aws-sdk-java-v2/pull/1713#discussion_r392507431", "createdAt": "2020-03-13T22:06:33Z", "author": {"login": "millems"}, "path": "services-custom/dynamodb-enhanced/src/main/java/software/amazon/awssdk/enhanced/dynamodb/mapper/StaticAttribute.java", "diffHunk": "@@ -128,6 +130,14 @@ public String name() {\n         return this.type;\n     }\n \n+    /**\n+     * A custom {@link AttributeConverter} that will be used to convert this attribute.\n+     * @see Builder#attributeConverter\n+     */", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ca63ceb82454b978145b1ff2cd455520bf7f8dbd"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjUwNzgyMw==", "bodyText": "Nit: Overrides -> takes precedence over. It doesn't change the table schema.", "url": "https://github.com/aws/aws-sdk-java-v2/pull/1713#discussion_r392507823", "createdAt": "2020-03-13T22:07:52Z", "author": {"login": "millems"}, "path": "services-custom/dynamodb-enhanced/src/main/java/software/amazon/awssdk/enhanced/dynamodb/mapper/StaticAttribute.java", "diffHunk": "@@ -216,6 +227,15 @@ private Builder(EnhancedType<R> type) {\n             return this;\n         }\n \n+        /**\n+         * An {@link AttributeConverter} for the attribute type ({@link EnhancedType}), that can convert this attribute.\n+         * It overrides any converter for this type provided by the table schema {@link AttributeConverterProvider}.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ca63ceb82454b978145b1ff2cd455520bf7f8dbd"}, "originalPosition": 54}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjUwODIzNA==", "bodyText": "Does it add it to the table schema? It seems like it provides a higher-precedence alternative to the table schema.", "url": "https://github.com/aws/aws-sdk-java-v2/pull/1713#discussion_r392508234", "createdAt": "2020-03-13T22:09:16Z", "author": {"login": "millems"}, "path": "services-custom/dynamodb-enhanced/src/main/java/software/amazon/awssdk/enhanced/dynamodb/mapper/StaticTableSchema.java", "diffHunk": "@@ -274,6 +281,19 @@ private Builder(Class<T> itemClass) {\n             return this;\n         }\n \n+        /**\n+         * Adds an {@link AttributeConverterProvider} to the table schema. The {@link AttributeConverterProvider} must\n+         * provide {@link AttributeConverter}s for all types used in the schema.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ca63ceb82454b978145b1ff2cd455520bf7f8dbd"}, "originalPosition": 42}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9f4d06a4d5554319beb57e4ff23e474ad8a55f39", "author": {"user": {"login": "cenedhryn", "name": "Anna-Karin Salander"}}, "url": "https://github.com/aws/aws-sdk-java-v2/commit/9f4d06a4d5554319beb57e4ff23e474ad8a55f39", "committedDate": "2020-03-13T22:24:10Z", "message": "Adding custom AttributeConverterProvider and AttributeConverter to DDB Enhanced static table schema and static attribute"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ca63ceb82454b978145b1ff2cd455520bf7f8dbd", "author": {"user": {"login": "cenedhryn", "name": "Anna-Karin Salander"}}, "url": "https://github.com/aws/aws-sdk-java-v2/commit/ca63ceb82454b978145b1ff2cd455520bf7f8dbd", "committedDate": "2020-03-13T21:48:58Z", "message": "Adding custom AttributeConverterProvider and AttributeConverter to DDB Enhanced static table schema and static attribute"}, "afterCommit": {"oid": "9f4d06a4d5554319beb57e4ff23e474ad8a55f39", "author": {"user": {"login": "cenedhryn", "name": "Anna-Karin Salander"}}, "url": "https://github.com/aws/aws-sdk-java-v2/commit/9f4d06a4d5554319beb57e4ff23e474ad8a55f39", "committedDate": "2020-03-13T22:24:10Z", "message": "Adding custom AttributeConverterProvider and AttributeConverter to DDB Enhanced static table schema and static attribute"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc0NjUyNzE0", "url": "https://github.com/aws/aws-sdk-java-v2/pull/1713#pullrequestreview-374652714", "createdAt": "2020-03-13T22:31:22Z", "commit": {"oid": "ca63ceb82454b978145b1ff2cd455520bf7f8dbd"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2739, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}