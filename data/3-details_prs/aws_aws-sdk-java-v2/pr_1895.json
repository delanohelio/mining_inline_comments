{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMzNzkyMDA4", "number": 1895, "title": "Async core metrics part3: add tests to verify async core metrics for event streaming apis", "bodyText": "Add functional and integ tests to verify async core metrics for event streaming operation\nLicense\n\n\n\n\n I confirm that this pull request can be released under the Apache 2 license", "createdAt": "2020-06-12T16:59:37Z", "url": "https://github.com/aws/aws-sdk-java-v2/pull/1895", "merged": true, "mergeCommit": {"oid": "49d745e8966ee2f153ea69ad767aa21eaf13d1a6"}, "closed": true, "closedAt": "2020-06-12T18:48:47Z", "author": {"login": "zoewangg"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcqmRwGgBqjM0MzkzMjU2Mjg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcqnQwVAFqTQyOTk1ODU2OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "72943ab9e93a6dbe657c4ed03f6116fe1fb953dd", "author": {"user": {"login": "zoewangg", "name": "Zoe Wang"}}, "url": "https://github.com/aws/aws-sdk-java-v2/commit/72943ab9e93a6dbe657c4ed03f6116fe1fb953dd", "committedDate": "2020-06-12T03:36:16Z", "message": "Add functional and unit tests to verify async core metrics for event streaming operation"}, "afterCommit": {"oid": "ef206163c9f27e01f7923609d77466ccb795af4d", "author": {"user": {"login": "zoewangg", "name": "Zoe Wang"}}, "url": "https://github.com/aws/aws-sdk-java-v2/commit/ef206163c9f27e01f7923609d77466ccb795af4d", "committedDate": "2020-06-12T17:26:29Z", "message": "Add functional and unit tests to verify async core metrics for event streaming operation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f22c0ddca3872315eca33ea87846772856d32304", "author": {"user": {"login": "zoewangg", "name": "Zoe Wang"}}, "url": "https://github.com/aws/aws-sdk-java-v2/commit/f22c0ddca3872315eca33ea87846772856d32304", "committedDate": "2020-06-12T17:36:11Z", "message": "Add functional and unit tests to verify async core metrics for event streaming operation"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ef206163c9f27e01f7923609d77466ccb795af4d", "author": {"user": {"login": "zoewangg", "name": "Zoe Wang"}}, "url": "https://github.com/aws/aws-sdk-java-v2/commit/ef206163c9f27e01f7923609d77466ccb795af4d", "committedDate": "2020-06-12T17:26:29Z", "message": "Add functional and unit tests to verify async core metrics for event streaming operation"}, "afterCommit": {"oid": "f22c0ddca3872315eca33ea87846772856d32304", "author": {"user": {"login": "zoewangg", "name": "Zoe Wang"}}, "url": "https://github.com/aws/aws-sdk-java-v2/commit/f22c0ddca3872315eca33ea87846772856d32304", "committedDate": "2020-06-12T17:36:11Z", "message": "Add functional and unit tests to verify async core metrics for event streaming operation"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI5OTUzOTgy", "url": "https://github.com/aws/aws-sdk-java-v2/pull/1895#pullrequestreview-429953982", "createdAt": "2020-06-12T18:27:48Z", "commit": {"oid": "f22c0ddca3872315eca33ea87846772856d32304"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQxODoyNzo0OFrOGjNyXA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQxODoyNzo0OFrOGjNyXA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTU3OTIyOA==", "bodyText": "Is this meant to be reporting request id header, not request id?", "url": "https://github.com/aws/aws-sdk-java-v2/pull/1895#discussion_r439579228", "createdAt": "2020-06-12T18:27:48Z", "author": {"login": "cenedhryn"}, "path": "core/sdk-core/src/main/java/software/amazon/awssdk/core/internal/util/MetricUtils.java", "diffHunk": "@@ -106,6 +107,8 @@ public static void collectHttpMetrics(MetricCollector metricCollector, SdkHttpFu\n         metricCollector.reportMetric(CoreMetric.HTTP_STATUS_CODE, httpResponse.statusCode());\n         httpResponse.firstMatchingHeader(\"x-amz-request-id\")\n                     .ifPresent(v -> metricCollector.reportMetric(CoreMetric.AWS_REQUEST_ID, v));\n+        httpResponse.firstMatchingHeader(X_AMZN_REQUEST_ID_HEADER)\n+                    .ifPresent(v -> metricCollector.reportMetric(CoreMetric.AWS_REQUEST_ID, v));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f22c0ddca3872315eca33ea87846772856d32304"}, "originalPosition": 13}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI5OTU4NTY4", "url": "https://github.com/aws/aws-sdk-java-v2/pull/1895#pullrequestreview-429958568", "createdAt": "2020-06-12T18:35:30Z", "commit": {"oid": "f22c0ddca3872315eca33ea87846772856d32304"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2606, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}