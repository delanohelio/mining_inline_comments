{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM0MzY0MTc5", "number": 1525, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQwODo0NTowNlrOEFcdQg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQwODo0NTowNlrOEFcdQg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc0MTQ0NTc4OnYy", "diffSide": "RIGHT", "path": "org.eclipse.xtext.testing/src/org/eclipse/xtext/testing/extensions/InjectionExtension.java", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQwODo0NTowNlrOGjowMg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQwOTo1ODo0NlrOGjrZ6Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDAyMTA0Mg==", "bodyText": "Should we throw an ExtensionConfigurationException if the testInstance is an instance of a non-static inner class?", "url": "https://github.com/eclipse/xtext-core/pull/1525#discussion_r440021042", "createdAt": "2020-06-15T08:45:06Z", "author": {"login": "szarnekow"}, "path": "org.eclipse.xtext.testing/src/org/eclipse/xtext/testing/extensions/InjectionExtension.java", "diffHunk": "@@ -59,10 +59,14 @@ public void beforeEach(ExtensionContext context) throws Exception {\n \t\t\tInjector injector = injectorProvider.getInjector();\n \t\t\tif (injector != null) {\n \t\t\t\tObject testInstance = context.getRequiredTestInstance();\n-\t\t\t\tTestInstances requiredTestInstances = context.getRequiredTestInstances();\n \t\t\t\tinjector.injectMembers(testInstance);\n-\t\t\t\tfor (Object o : requiredTestInstances.getEnclosingInstances()) {\n-\t\t\t\t\tinjector.injectMembers(o);\n+\t\t\t\ttry {\n+\t\t\t\t\tTestInstances requiredTestInstances = context.getRequiredTestInstances();\n+\t\t\t\t\tfor (Object o : requiredTestInstances.getEnclosingInstances()) {\n+\t\t\t\t\t\tinjector.injectMembers(o);\n+\t\t\t\t\t}\n+\t\t\t\t} catch (NoSuchMethodError e) {\n+\t\t\t\t\t// OK, getRequiredTestInstances is not there in Junit5 < 5.4", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "eda9a18a5602d8f341e620e28478a080ea825b5b"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDAyNDk1MQ==", "bodyText": "\u00e4hm. this is all about non static inner classes", "url": "https://github.com/eclipse/xtext-core/pull/1525#discussion_r440024951", "createdAt": "2020-06-15T08:51:43Z", "author": {"login": "cdietrich"}, "path": "org.eclipse.xtext.testing/src/org/eclipse/xtext/testing/extensions/InjectionExtension.java", "diffHunk": "@@ -59,10 +59,14 @@ public void beforeEach(ExtensionContext context) throws Exception {\n \t\t\tInjector injector = injectorProvider.getInjector();\n \t\t\tif (injector != null) {\n \t\t\t\tObject testInstance = context.getRequiredTestInstance();\n-\t\t\t\tTestInstances requiredTestInstances = context.getRequiredTestInstances();\n \t\t\t\tinjector.injectMembers(testInstance);\n-\t\t\t\tfor (Object o : requiredTestInstances.getEnclosingInstances()) {\n-\t\t\t\t\tinjector.injectMembers(o);\n+\t\t\t\ttry {\n+\t\t\t\t\tTestInstances requiredTestInstances = context.getRequiredTestInstances();\n+\t\t\t\t\tfor (Object o : requiredTestInstances.getEnclosingInstances()) {\n+\t\t\t\t\t\tinjector.injectMembers(o);\n+\t\t\t\t\t}\n+\t\t\t\t} catch (NoSuchMethodError e) {\n+\t\t\t\t\t// OK, getRequiredTestInstances is not there in Junit5 < 5.4", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDAyMTA0Mg=="}, "originalCommit": {"oid": "eda9a18a5602d8f341e620e28478a080ea825b5b"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDAzMDU4Mw==", "bodyText": "I mean from within the catch block.", "url": "https://github.com/eclipse/xtext-core/pull/1525#discussion_r440030583", "createdAt": "2020-06-15T09:00:53Z", "author": {"login": "szarnekow"}, "path": "org.eclipse.xtext.testing/src/org/eclipse/xtext/testing/extensions/InjectionExtension.java", "diffHunk": "@@ -59,10 +59,14 @@ public void beforeEach(ExtensionContext context) throws Exception {\n \t\t\tInjector injector = injectorProvider.getInjector();\n \t\t\tif (injector != null) {\n \t\t\t\tObject testInstance = context.getRequiredTestInstance();\n-\t\t\t\tTestInstances requiredTestInstances = context.getRequiredTestInstances();\n \t\t\t\tinjector.injectMembers(testInstance);\n-\t\t\t\tfor (Object o : requiredTestInstances.getEnclosingInstances()) {\n-\t\t\t\t\tinjector.injectMembers(o);\n+\t\t\t\ttry {\n+\t\t\t\t\tTestInstances requiredTestInstances = context.getRequiredTestInstances();\n+\t\t\t\t\tfor (Object o : requiredTestInstances.getEnclosingInstances()) {\n+\t\t\t\t\t\tinjector.injectMembers(o);\n+\t\t\t\t\t}\n+\t\t\t\t} catch (NoSuchMethodError e) {\n+\t\t\t\t\t// OK, getRequiredTestInstances is not there in Junit5 < 5.4", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDAyMTA0Mg=="}, "originalCommit": {"oid": "eda9a18a5602d8f341e620e28478a080ea825b5b"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDA2NDQ4OQ==", "bodyText": "updated the PR", "url": "https://github.com/eclipse/xtext-core/pull/1525#discussion_r440064489", "createdAt": "2020-06-15T09:58:46Z", "author": {"login": "cdietrich"}, "path": "org.eclipse.xtext.testing/src/org/eclipse/xtext/testing/extensions/InjectionExtension.java", "diffHunk": "@@ -59,10 +59,14 @@ public void beforeEach(ExtensionContext context) throws Exception {\n \t\t\tInjector injector = injectorProvider.getInjector();\n \t\t\tif (injector != null) {\n \t\t\t\tObject testInstance = context.getRequiredTestInstance();\n-\t\t\t\tTestInstances requiredTestInstances = context.getRequiredTestInstances();\n \t\t\t\tinjector.injectMembers(testInstance);\n-\t\t\t\tfor (Object o : requiredTestInstances.getEnclosingInstances()) {\n-\t\t\t\t\tinjector.injectMembers(o);\n+\t\t\t\ttry {\n+\t\t\t\t\tTestInstances requiredTestInstances = context.getRequiredTestInstances();\n+\t\t\t\t\tfor (Object o : requiredTestInstances.getEnclosingInstances()) {\n+\t\t\t\t\t\tinjector.injectMembers(o);\n+\t\t\t\t\t}\n+\t\t\t\t} catch (NoSuchMethodError e) {\n+\t\t\t\t\t// OK, getRequiredTestInstances is not there in Junit5 < 5.4", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDAyMTA0Mg=="}, "originalCommit": {"oid": "eda9a18a5602d8f341e620e28478a080ea825b5b"}, "originalPosition": 14}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 922, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}