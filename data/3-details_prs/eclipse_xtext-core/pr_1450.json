{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA1OTE3MzI5", "number": 1450, "title": "[eclipse/xtext#1679] converted Xtend code to Java", "bodyText": "[eclipse/xtext#1679] converted Xtend code to Java\nSigned-off-by: Christian Dietrich christian.dietrich@itemis.de", "createdAt": "2020-04-20T08:46:49Z", "url": "https://github.com/eclipse/xtext-core/pull/1450", "merged": true, "mergeCommit": {"oid": "c0a8631f7bebea35c00f27b47b897600a3134c69"}, "closed": true, "closedAt": "2020-04-21T19:36:23Z", "author": {"login": "cdietrich"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcZbrwQgBqjMyNTA4OTQ5Nzk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcZ3SMBAFqTM5NzUyOTAxMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "75aed7e4940b6c8a1c7cacc52f103d688074681a", "author": {"user": {"login": "cdietrich", "name": "Christian Dietrich"}}, "url": "https://github.com/eclipse/xtext-core/commit/75aed7e4940b6c8a1c7cacc52f103d688074681a", "committedDate": "2020-04-20T08:45:07Z", "message": "[eclipse/xtext#1679] converted Xtend code to Java\n\nSigned-off-by: Christian Dietrich <christian.dietrich@itemis.de>"}, "afterCommit": {"oid": "d1d4cd72bbcb74a0a3501e8eda2111ae06257388", "author": {"user": {"login": "cdietrich", "name": "Christian Dietrich"}}, "url": "https://github.com/eclipse/xtext-core/commit/d1d4cd72bbcb74a0a3501e8eda2111ae06257388", "committedDate": "2020-04-20T08:47:15Z", "message": "[eclipse/xtext#1679] converted Xtend code to Java\n\nSigned-off-by: Christian Dietrich <christian.dietrich@itemis.de>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk3MDE4NTMx", "url": "https://github.com/eclipse/xtext-core/pull/1450#pullrequestreview-397018531", "createdAt": "2020-04-21T06:22:15Z", "commit": {"oid": "d1d4cd72bbcb74a0a3501e8eda2111ae06257388"}, "state": "COMMENTED", "comments": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQwNjoyMjoxNVrOGI0hCw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQwNjozNToyMFrOGI07BQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTkwMjIxOQ==", "bodyText": "Unnecessary final", "url": "https://github.com/eclipse/xtext-core/pull/1450#discussion_r411902219", "createdAt": "2020-04-21T06:22:15Z", "author": {"login": "szarnekow"}, "path": "org.eclipse.xtext.xtext.generator/src/org/eclipse/xtext/xtext/generator/AbstractExternalFolderAwareFragment.java", "diffHunk": "@@ -0,0 +1,57 @@\n+/**\n+ * Copyright (c) 2015, 2020 itemis AG (http://www.itemis.eu) and others.\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0.\n+ * \n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.eclipse.xtext.xtext.generator;\n+\n+import org.eclipse.emf.mwe2.runtime.Mandatory;\n+import org.eclipse.xtext.xtext.generator.model.IXtextGeneratorFileSystemAccess;\n+import org.eclipse.xtext.xtext.generator.model.XtextGeneratorFileSystemAccess;\n+\n+import com.google.inject.Injector;\n+\n+/**\n+ * Generator fragment that allows to write files to arbitrary, user configurable\n+ * locations.\n+ * \n+ * @author Sebastian Zarnekow - Initial contribution and API\n+ */\n+public abstract class AbstractExternalFolderAwareFragment extends AbstractXtextGeneratorFragment {\n+\tprivate String absolutePath;\n+\n+\tprivate boolean override = false;\n+\n+\tprivate IXtextGeneratorFileSystemAccess outputLocation;\n+\n+\tprotected IXtextGeneratorFileSystemAccess getOutputLocation() {\n+\t\treturn outputLocation;\n+\t}\n+\n+\t@Override\n+\tpublic void initialize(Injector injector) {\n+\t\tsuper.initialize(injector);\n+\t\toutputLocation = new XtextGeneratorFileSystemAccess(absolutePath, override);\n+\t\tinjector.injectMembers(outputLocation);\n+\t}\n+\n+\tprotected String getAbsolutePath() {\n+\t\treturn absolutePath;\n+\t}\n+\n+\t@Mandatory\n+\tpublic void setAbsolutePath(final String absolutePath) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d1d4cd72bbcb74a0a3501e8eda2111ae06257388"}, "originalPosition": 46}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTkwMzA3OQ==", "bodyText": "!exceptions.isEmpty()", "url": "https://github.com/eclipse/xtext-core/pull/1450#discussion_r411903079", "createdAt": "2020-04-21T06:24:05Z", "author": {"login": "szarnekow"}, "path": "org.eclipse.xtext.xtext.generator/src/org/eclipse/xtext/xtext/generator/CompositeGeneratorException.java", "diffHunk": "@@ -0,0 +1,29 @@\n+/**\n+ * Copyright (c) 2015, 2020 itemis AG (http://www.itemis.eu) and others.\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0.\n+ * \n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.eclipse.xtext.xtext.generator;\n+\n+import java.util.ArrayList;\n+import java.util.List;\n+\n+class CompositeGeneratorException extends RuntimeException {\n+\tprivate static final long serialVersionUID = 2875516656439737396L;\n+\tprivate final List<Exception> exceptions = new ArrayList<>();\n+\n+\tpublic boolean addException(Exception exception) {\n+\t\treturn exceptions.add(exception);\n+\t}\n+\n+\tpublic boolean hasExceptions() {\n+\t\treturn exceptions.size() > 0;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d1d4cd72bbcb74a0a3501e8eda2111ae06257388"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTkwMzQ4Nw==", "bodyText": "Maybe also do an addSuppressed(exeption) here to get a better result from printStacktrace()?", "url": "https://github.com/eclipse/xtext-core/pull/1450#discussion_r411903487", "createdAt": "2020-04-21T06:24:59Z", "author": {"login": "szarnekow"}, "path": "org.eclipse.xtext.xtext.generator/src/org/eclipse/xtext/xtext/generator/CompositeGeneratorException.java", "diffHunk": "@@ -0,0 +1,29 @@\n+/**\n+ * Copyright (c) 2015, 2020 itemis AG (http://www.itemis.eu) and others.\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0.\n+ * \n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.eclipse.xtext.xtext.generator;\n+\n+import java.util.ArrayList;\n+import java.util.List;\n+\n+class CompositeGeneratorException extends RuntimeException {\n+\tprivate static final long serialVersionUID = 2875516656439737396L;\n+\tprivate final List<Exception> exceptions = new ArrayList<>();\n+\n+\tpublic boolean addException(Exception exception) {\n+\t\treturn exceptions.add(exception);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d1d4cd72bbcb74a0a3501e8eda2111ae06257388"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTkwMzg3OA==", "bodyText": "Unnecessary escapes in the string", "url": "https://github.com/eclipse/xtext-core/pull/1450#discussion_r411903878", "createdAt": "2020-04-21T06:25:49Z", "author": {"login": "szarnekow"}, "path": "org.eclipse.xtext.xtext.generator/src/org/eclipse/xtext/xtext/generator/ConditionalXtextGeneratorFragment.java", "diffHunk": "@@ -0,0 +1,62 @@\n+/**\n+ * Copyright (c) 2017, 2020 itemis AG (http://www.itemis.eu) and others.\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0.\n+ * \n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.eclipse.xtext.xtext.generator;\n+\n+import com.google.inject.Injector;\n+\n+/**\n+ * Generator fragment that wraps another fragment and can be toggled via a\n+ * property\n+ * \n+ * @author Christian Dietrich - Initial contribution and API\n+ * \n+ * @since 2.13\n+ */\n+public class ConditionalXtextGeneratorFragment implements IXtextGeneratorFragment {\n+\tprivate IXtextGeneratorFragment fragment;\n+\n+\tprivate boolean enabled = true;\n+\n+\t@Override\n+\tpublic void checkConfiguration(Issues issues) {\n+\t\tif (fragment == null) {\n+\t\t\tissues.addError(\"The property \\'fragment\\' must be set.\", this);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d1d4cd72bbcb74a0a3501e8eda2111ae06257388"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTkwNDI1NQ==", "bodyText": "Add @Mandatory to the setter?", "url": "https://github.com/eclipse/xtext-core/pull/1450#discussion_r411904255", "createdAt": "2020-04-21T06:26:25Z", "author": {"login": "szarnekow"}, "path": "org.eclipse.xtext.xtext.generator/src/org/eclipse/xtext/xtext/generator/ConditionalXtextGeneratorFragment.java", "diffHunk": "@@ -0,0 +1,62 @@\n+/**\n+ * Copyright (c) 2017, 2020 itemis AG (http://www.itemis.eu) and others.\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0.\n+ * \n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.eclipse.xtext.xtext.generator;\n+\n+import com.google.inject.Injector;\n+\n+/**\n+ * Generator fragment that wraps another fragment and can be toggled via a\n+ * property\n+ * \n+ * @author Christian Dietrich - Initial contribution and API\n+ * \n+ * @since 2.13\n+ */\n+public class ConditionalXtextGeneratorFragment implements IXtextGeneratorFragment {\n+\tprivate IXtextGeneratorFragment fragment;\n+\n+\tprivate boolean enabled = true;\n+\n+\t@Override\n+\tpublic void checkConfiguration(Issues issues) {\n+\t\tif (fragment == null) {\n+\t\t\tissues.addError(\"The property \\'fragment\\' must be set.\", this);\n+\t\t} else {\n+\t\t\tfragment.checkConfiguration(issues);\n+\t\t}\n+\t}\n+\n+\t@Override\n+\tpublic void generate() {\n+\t\tif (enabled) {\n+\t\t\tfragment.generate();\n+\t\t}\n+\t}\n+\n+\t@Override\n+\tpublic void initialize(Injector injector) {\n+\t\tfragment.initialize(injector);\n+\t}\n+\n+\tpublic IXtextGeneratorFragment getFragment() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d1d4cd72bbcb74a0a3501e8eda2111ae06257388"}, "originalPosition": 47}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTkwNTg0OQ==", "bodyText": "We should probably add more overloads to the BindingFactory - overloads that accept String or Class arguments.", "url": "https://github.com/eclipse/xtext-core/pull/1450#discussion_r411905849", "createdAt": "2020-04-21T06:29:36Z", "author": {"login": "szarnekow"}, "path": "org.eclipse.xtext.xtext.generator/src/org/eclipse/xtext/xtext/generator/exporting/QualifiedNamesFragment2.java", "diffHunk": "@@ -0,0 +1,36 @@\n+/**\n+ * Copyright (c) 2015, 2020 itemis AG (http://www.itemis.eu) and others.\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0.\n+ * \n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.eclipse.xtext.xtext.generator.exporting;\n+\n+import org.eclipse.xtext.naming.DefaultDeclarativeQualifiedNameProvider;\n+import org.eclipse.xtext.naming.IQualifiedNameProvider;\n+import org.eclipse.xtext.xtext.generator.AbstractXtextGeneratorFragment;\n+import org.eclipse.xtext.xtext.generator.model.GuiceModuleAccess;\n+import org.eclipse.xtext.xtext.generator.model.TypeReference;\n+\n+public class QualifiedNamesFragment2 extends AbstractXtextGeneratorFragment {\n+\t@Override\n+\tpublic void generate() {\n+\t\tnew GuiceModuleAccess.BindingFactory()\n+\t\t\t\t.addTypeToType(TypeReference.typeRef(IQualifiedNameProvider.class),\n+\t\t\t\t\t\tTypeReference.typeRef(DefaultDeclarativeQualifiedNameProvider.class))\n+\t\t\t\t.contributeTo(getLanguage().getRuntimeGenModule());\n+\t\tnew GuiceModuleAccess.BindingFactory()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d1d4cd72bbcb74a0a3501e8eda2111ae06257388"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTkwNjE3OQ==", "bodyText": "meh ... addfinal.. should be addFinal..", "url": "https://github.com/eclipse/xtext-core/pull/1450#discussion_r411906179", "createdAt": "2020-04-21T06:30:10Z", "author": {"login": "szarnekow"}, "path": "org.eclipse.xtext.xtext.generator/src/org/eclipse/xtext/xtext/generator/exporting/SimpleNamesFragment2.java", "diffHunk": "@@ -14,12 +14,17 @@\n import org.eclipse.xtext.xtext.generator.model.GuiceModuleAccess;\n import org.eclipse.xtext.xtext.generator.model.TypeReference;\n \n-@SuppressWarnings(\"all\")\n public class SimpleNamesFragment2 extends AbstractXtextGeneratorFragment {\n-  @Override\n-  public void generate() {\n-    new GuiceModuleAccess.BindingFactory().addfinalTypeToType(TypeReference.typeRef(IQualifiedNameProvider.class), TypeReference.typeRef(SimpleNameProvider.class)).contributeTo(this.getLanguage().getRuntimeGenModule());\n-    new GuiceModuleAccess.BindingFactory().addTypeToType(TypeReference.typeRef(\"org.eclipse.xtext.ui.refactoring.IDependentElementsCalculator\"), \n-      TypeReference.typeRef(\"org.eclipse.xtext.ui.refactoring.impl.DefaultDependentElementsCalculator\")).contributeTo(this.getLanguage().getEclipsePluginGenModule());\n-  }\n+\t@Override\n+\tpublic void generate() {\n+\t\tnew GuiceModuleAccess.BindingFactory()\n+\t\t\t\t.addfinalTypeToType(TypeReference.typeRef(IQualifiedNameProvider.class),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d1d4cd72bbcb74a0a3501e8eda2111ae06257388"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTkwNjUzNA==", "bodyText": "unnecessary final parameter", "url": "https://github.com/eclipse/xtext-core/pull/1450#discussion_r411906534", "createdAt": "2020-04-21T06:30:48Z", "author": {"login": "szarnekow"}, "path": "org.eclipse.xtext.xtext.generator/src/org/eclipse/xtext/xtext/generator/model/BinaryFileAccess.java", "diffHunk": "@@ -0,0 +1,52 @@\n+/**\n+ * Copyright (c) 2017, 2020 itemis AG (http://www.itemis.eu) and others.\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0.\n+ * \n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.eclipse.xtext.xtext.generator.model;\n+\n+import java.io.ByteArrayInputStream;\n+import java.util.Arrays;\n+\n+import org.eclipse.xtext.generator.IFileSystemAccess2;\n+\n+/**\n+ * A utility class for generating binary files.\n+ */\n+public class BinaryFileAccess {\n+\tprivate String path;\n+\n+\tprotected byte[] internalContents;\n+\n+\tpublic void setContent(final byte[] content) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d1d4cd72bbcb74a0a3501e8eda2111ae06257388"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTkwNjg4Nw==", "bodyText": "Copy should probably happen on setContent, too.\nCan be simplified to return internalContents.clone", "url": "https://github.com/eclipse/xtext-core/pull/1450#discussion_r411906887", "createdAt": "2020-04-21T06:31:20Z", "author": {"login": "szarnekow"}, "path": "org.eclipse.xtext.xtext.generator/src/org/eclipse/xtext/xtext/generator/model/BinaryFileAccess.java", "diffHunk": "@@ -0,0 +1,52 @@\n+/**\n+ * Copyright (c) 2017, 2020 itemis AG (http://www.itemis.eu) and others.\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0.\n+ * \n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.eclipse.xtext.xtext.generator.model;\n+\n+import java.io.ByteArrayInputStream;\n+import java.util.Arrays;\n+\n+import org.eclipse.xtext.generator.IFileSystemAccess2;\n+\n+/**\n+ * A utility class for generating binary files.\n+ */\n+public class BinaryFileAccess {\n+\tprivate String path;\n+\n+\tprotected byte[] internalContents;\n+\n+\tpublic void setContent(final byte[] content) {\n+\t\tthis.internalContents = content;\n+\t}\n+\n+\tpublic byte[] getContent() {\n+\t\treturn Arrays.copyOf(internalContents, internalContents.length);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d1d4cd72bbcb74a0a3501e8eda2111ae06257388"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTkwNzM5OQ==", "bodyText": "Unnecessary @Pure", "url": "https://github.com/eclipse/xtext-core/pull/1450#discussion_r411907399", "createdAt": "2020-04-21T06:32:26Z", "author": {"login": "szarnekow"}, "path": "org.eclipse.xtext.xtext.generator/src/org/eclipse/xtext/xtext/generator/model/StandaloneSetupAccess.java", "diffHunk": "@@ -0,0 +1,43 @@\n+/**\n+ * Copyright (c) 2015, 2020 itemis AG (http://www.itemis.eu) and others.\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0.\n+ * \n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.eclipse.xtext.xtext.generator.model;\n+\n+import java.util.ArrayList;\n+import java.util.HashSet;\n+import java.util.List;\n+import java.util.Set;\n+\n+import org.eclipse.xtend2.lib.StringConcatenationClient;\n+import org.eclipse.xtext.xbase.lib.Pure;\n+\n+/**\n+ * Configuration object for the generated standalone setup class. This class is\n+ * responsible for adding required EMF packages to the global registries.\n+ */\n+public class StandaloneSetupAccess {\n+\tprivate final List<StringConcatenationClient> registrations = new ArrayList<>();\n+\n+\t@Deprecated\n+\tprivate final Set<TypeReference> imports = new HashSet<>();\n+\n+\t/**\n+\t * @deprecated this set is required for backwards-compatibility to Xpand\n+\t * templates included with\n+\t * {@code org.eclipse.xtext.generator.adapter.FragmentAdapter}.\n+\t */\n+\t@Deprecated\n+\tpublic Set<TypeReference> getImports() {\n+\t\treturn imports;\n+\t}\n+\n+\t@Pure", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d1d4cd72bbcb74a0a3501e8eda2111ae06257388"}, "originalPosition": 39}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTkwODA2Nw==", "bodyText": "Does that work on windows? Can we add a  note to the path parameter of the constructor?", "url": "https://github.com/eclipse/xtext-core/pull/1450#discussion_r411908067", "createdAt": "2020-04-21T06:33:49Z", "author": {"login": "szarnekow"}, "path": "org.eclipse.xtext.xtext.generator/src/org/eclipse/xtext/xtext/generator/model/XtextGeneratorFileSystemAccess.java", "diffHunk": "@@ -0,0 +1,49 @@\n+/**\n+ * Copyright (c) 2015, 2020 itemis AG (http://www.itemis.eu) and others.\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0.\n+ * \n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.eclipse.xtext.xtext.generator.model;\n+\n+import com.google.inject.Injector;\n+import org.eclipse.xtext.generator.JavaIoFileSystemAccess;\n+import org.eclipse.xtext.generator.OutputConfiguration;\n+import org.eclipse.xtext.xbase.lib.IterableExtensions;\n+import org.eclipse.xtext.xtext.generator.model.IXtextGeneratorFileSystemAccess;\n+\n+public class XtextGeneratorFileSystemAccess extends JavaIoFileSystemAccess implements IXtextGeneratorFileSystemAccess {\n+\tpublic XtextGeneratorFileSystemAccess(String path, boolean overwrite) {\n+\t\tsetOutputPath(removeTrailingPathSeparator(path));\n+\t\tgetDefaultOutput().setOverrideExistingResources(overwrite);\n+\t}\n+\n+\tprivate String removeTrailingPathSeparator(String s) {\n+\t\tif (s.endsWith(\"/\")) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d1d4cd72bbcb74a0a3501e8eda2111ae06257388"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTkwODcwNg==", "bodyText": "This will break when there is a simple name clash.", "url": "https://github.com/eclipse/xtext-core/pull/1450#discussion_r411908706", "createdAt": "2020-04-21T06:34:59Z", "author": {"login": "szarnekow"}, "path": "org.eclipse.xtext.xtext.generator/src/org/eclipse/xtext/xtext/generator/model/annotations/SingletonClassAnnotation.java", "diffHunk": "@@ -16,35 +16,34 @@\n /**\n  * A class annotation configuration for the <code>@Singleton</code> annotation.\n  */\n-@SuppressWarnings(\"all\")\n public class SingletonClassAnnotation implements IClassAnnotation {\n-  @Override\n-  public CharSequence generate() {\n-    return \"@Singleton\";\n-  }\n-  \n-  @Override\n-  public boolean appliesTo(final JavaFileAccess javaFile) {\n-    return true;\n-  }\n-  \n-  @Override\n-  public TypeReference getAnnotationImport() {\n-    return new TypeReference(Singleton.class);\n-  }\n-  \n-  @Override\n-  public String toString() {\n-    return this.generate().toString();\n-  }\n-  \n-  @Override\n-  public boolean equals(final Object obj) {\n-    return (obj instanceof SingletonClassAnnotation);\n-  }\n-  \n-  @Override\n-  public int hashCode() {\n-    return this.getClass().getName().hashCode();\n-  }\n+\t@Override\n+\tpublic CharSequence generate() {\n+\t\treturn \"@Singleton\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d1d4cd72bbcb74a0a3501e8eda2111ae06257388"}, "originalPosition": 44}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTkwODg2OQ==", "bodyText": "Unnecessary char escapes in string literal", "url": "https://github.com/eclipse/xtext-core/pull/1450#discussion_r411908869", "createdAt": "2020-04-21T06:35:20Z", "author": {"login": "szarnekow"}, "path": "org.eclipse.xtext.xtext.generator/src/org/eclipse/xtext/xtext/generator/model/project/BundleProjectConfig.java", "diffHunk": "@@ -0,0 +1,64 @@\n+/**\n+ * Copyright (c) 2015, 2020 itemis AG (http://www.itemis.eu) and others.\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0.\n+ * \n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.eclipse.xtext.xtext.generator.model.project;\n+\n+import org.eclipse.xtext.xtext.generator.Issues;\n+import org.eclipse.xtext.xtext.generator.model.ManifestAccess;\n+import org.eclipse.xtext.xtext.generator.model.PluginXmlAccess;\n+\n+import com.google.inject.Injector;\n+\n+/**\n+ * Configuration of subprojects that can be used as Eclipse bundles.\n+ * \n+ * @noextend This class should not be extended by clients.\n+ */\n+public class BundleProjectConfig extends SubProjectConfig implements IBundleProjectConfig {\n+\tprivate ManifestAccess manifest;\n+\n+\tprivate PluginXmlAccess pluginXml;\n+\n+\t@Override\n+\tpublic void initialize(Injector injector) {\n+\t\tsuper.initialize(injector);\n+\t\tif (manifest != null) {\n+\t\t\tmanifest.initialize(injector);\n+\t\t}\n+\t\tif (pluginXml != null) {\n+\t\t\tpluginXml.initialize(injector);\n+\t\t}\n+\t}\n+\n+\t@Override\n+\tpublic void checkConfiguration(Issues issues) {\n+\t\tsuper.checkConfiguration(issues);\n+\t\tif (manifest != null && getMetaInf() == null) {\n+\t\t\tissues.addError(\"The \\'metaInf\\' outlet must be configured for projects with a manifest\", this);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d1d4cd72bbcb74a0a3501e8eda2111ae06257388"}, "originalPosition": 42}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d1d4cd72bbcb74a0a3501e8eda2111ae06257388", "author": {"user": {"login": "cdietrich", "name": "Christian Dietrich"}}, "url": "https://github.com/eclipse/xtext-core/commit/d1d4cd72bbcb74a0a3501e8eda2111ae06257388", "committedDate": "2020-04-20T08:47:15Z", "message": "[eclipse/xtext#1679] converted Xtend code to Java\n\nSigned-off-by: Christian Dietrich <christian.dietrich@itemis.de>"}, "afterCommit": {"oid": "4370aab35e22df377820372f36837ab3a15f589e", "author": {"user": {"login": "cdietrich", "name": "Christian Dietrich"}}, "url": "https://github.com/eclipse/xtext-core/commit/4370aab35e22df377820372f36837ab3a15f589e", "committedDate": "2020-04-21T07:05:06Z", "message": "[eclipse/xtext#1679] converted Xtend code to Java\n\nSigned-off-by: Christian Dietrich <christian.dietrich@itemis.de>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk3MzkyNDk3", "url": "https://github.com/eclipse/xtext-core/pull/1450#pullrequestreview-397392497", "createdAt": "2020-04-21T14:33:37Z", "commit": {"oid": "4370aab35e22df377820372f36837ab3a15f589e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQxNDozMzozN1rOGJJFTQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQxNDozMzozN1rOGJJFTQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjIzOTE4MQ==", "bodyText": "Unneeded finals?", "url": "https://github.com/eclipse/xtext-core/pull/1450#discussion_r412239181", "createdAt": "2020-04-21T14:33:37Z", "author": {"login": "tivervac"}, "path": "org.eclipse.xtext.xtext.generator/src/org/eclipse/xtext/xtext/generator/model/FileAccessFactory.java", "diffHunk": "@@ -0,0 +1,72 @@\n+/**\n+ * Copyright (c) 2015, 2020 itemis AG (http://www.itemis.eu) and others.\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0.\n+ * \n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.eclipse.xtext.xtext.generator.model;\n+\n+import org.eclipse.xtend2.lib.StringConcatenationClient;\n+import org.eclipse.xtext.xtext.generator.CodeConfig;\n+\n+import com.google.inject.Inject;\n+\n+/**\n+ * Factory for creating text files, Java files, and Xtend files.\n+ */\n+public class FileAccessFactory {\n+\t@Inject\n+\tprivate CodeConfig codeConfig;\n+\n+\tpublic TextFileAccess createTextFile() {\n+\t\treturn new TextFileAccess();\n+\t}\n+\n+\tpublic TextFileAccess createTextFile(String path) {\n+\t\tfinal TextFileAccess result = createTextFile();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4370aab35e22df377820372f36837ab3a15f589e"}, "originalPosition": 28}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0f16e3b7e093e7e81e190fdf91772eb03d7cd326", "author": {"user": {"login": "cdietrich", "name": "Christian Dietrich"}}, "url": "https://github.com/eclipse/xtext-core/commit/0f16e3b7e093e7e81e190fdf91772eb03d7cd326", "committedDate": "2020-04-21T14:43:59Z", "message": "[eclipse/xtext#1679] converted Xtend code to Java\n\nSigned-off-by: Christian Dietrich <christian.dietrich@itemis.de>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4370aab35e22df377820372f36837ab3a15f589e", "author": {"user": {"login": "cdietrich", "name": "Christian Dietrich"}}, "url": "https://github.com/eclipse/xtext-core/commit/4370aab35e22df377820372f36837ab3a15f589e", "committedDate": "2020-04-21T07:05:06Z", "message": "[eclipse/xtext#1679] converted Xtend code to Java\n\nSigned-off-by: Christian Dietrich <christian.dietrich@itemis.de>"}, "afterCommit": {"oid": "0f16e3b7e093e7e81e190fdf91772eb03d7cd326", "author": {"user": {"login": "cdietrich", "name": "Christian Dietrich"}}, "url": "https://github.com/eclipse/xtext-core/commit/0f16e3b7e093e7e81e190fdf91772eb03d7cd326", "committedDate": "2020-04-21T14:43:59Z", "message": "[eclipse/xtext#1679] converted Xtend code to Java\n\nSigned-off-by: Christian Dietrich <christian.dietrich@itemis.de>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk3NTI5MDEz", "url": "https://github.com/eclipse/xtext-core/pull/1450#pullrequestreview-397529013", "createdAt": "2020-04-21T17:38:50Z", "commit": {"oid": "0f16e3b7e093e7e81e190fdf91772eb03d7cd326"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4758, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}