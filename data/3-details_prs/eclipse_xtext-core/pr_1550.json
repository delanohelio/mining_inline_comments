{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDYzODUyNzgx", "number": 1550, "title": "predictable sorting in TracedAccessors", "bodyText": "predictable sorting in TracedAccessors\nSigned-off-by: Christian Dietrich christian.dietrich@itemis.de", "createdAt": "2020-08-06T07:53:30Z", "url": "https://github.com/eclipse/xtext-core/pull/1550", "merged": true, "mergeCommit": {"oid": "101fc74e4a3c7c1ff93ea3548eba47dfcbdab5b0"}, "closed": true, "closedAt": "2020-08-06T09:08:07Z", "author": {"login": "cdietrich"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc8LDEpgBqjM2Mjc4NDg4NzY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc8L8y_AFqTQ2MjMxNjQ2NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "315e31769de779e41c32981c2a4565fee1a20e06", "author": {"user": {"login": "cdietrich", "name": "Christian Dietrich"}}, "url": "https://github.com/eclipse/xtext-core/commit/315e31769de779e41c32981c2a4565fee1a20e06", "committedDate": "2020-08-06T07:52:22Z", "message": "redictable sorting in TracedAccessors\n\nSigned-off-by: Christian Dietrich <christian.dietrich@itemis.de>"}, "afterCommit": {"oid": "b6f8fdb4b053f174e7b08bd745ffb7607a4c6b15", "author": {"user": {"login": "cdietrich", "name": "Christian Dietrich"}}, "url": "https://github.com/eclipse/xtext-core/commit/b6f8fdb4b053f174e7b08bd745ffb7607a4c6b15", "committedDate": "2020-08-06T07:53:36Z", "message": "predictable sorting in TracedAccessors\n\nSigned-off-by: Christian Dietrich <christian.dietrich@itemis.de>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYyMjg4Mjgz", "url": "https://github.com/eclipse/xtext-core/pull/1550#pullrequestreview-462288283", "createdAt": "2020-08-06T08:17:58Z", "commit": {"oid": "b6f8fdb4b053f174e7b08bd745ffb7607a4c6b15"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQwODoxNzo1OFrOG8oV_A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQwODoxNzo1OFrOG8oV_A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjIyODczMg==", "bodyText": "It's a little sad that it's a different terminology here and above (name vs signature). But it is how it is.\nI'd really prefer a small refactoring towards FluentIterable to have a better flow when reading the code.\nEvent though it does not save much space:\nIterableExtensions.map(\n\tIterableExtensions.sortBy(IterableExtensions.filter(f.getDeclaredMethods(),\n\t\tit -> it.getSimpleName().startsWith(\"create\")\n\t\t\t&& IterableExtensions.isEmpty(it.getParameters())), MethodDeclaration::getSimpleName)\n\nvs\nFluentIterable.from(f.getDeclaredMethods())\n\t.filter(it-> it.getSimpleName().startsWith(\"create\") && isEmpty(it.getParameters()))\n\t.map(MethodDeclaration::getReturnType)\n\t.toSortedList(Comparator.comparing(TypeReference::getSimpleName))", "url": "https://github.com/eclipse/xtext-core/pull/1550#discussion_r466228732", "createdAt": "2020-08-06T08:17:58Z", "author": {"login": "szarnekow"}, "path": "org.eclipse.xtext/src/org/eclipse/xtext/generator/trace/node/TracedAccessorsProcessor.java", "diffHunk": "@@ -49,14 +50,14 @@ public void doTransform(MutableClassDeclaration annotatedClass, @Extension Trans\n \t\tfor (InterfaceDeclaration f : Iterables.filter(ListExtensions.map(Arrays.asList(factories), it -> it.getType()),\n \t\t\t\tInterfaceDeclaration.class)) {\n \t\t\tfor (TypeReference t : IterableExtensions.map(\n-\t\t\t\t\tIterableExtensions\n+\t\t\t\t\tIterableExtensions.sortBy(IterableExtensions\n \t\t\t\t\t\t\t.filter(f.getDeclaredMethods(),\n \t\t\t\t\t\t\t\t\tit -> it.getSimpleName().startsWith(\"create\")\n-\t\t\t\t\t\t\t\t\t\t\t&& IterableExtensions.isEmpty(it.getParameters())),\n+\t\t\t\t\t\t\t\t\t\t\t&& IterableExtensions.isEmpty(it.getParameters())), MethodDeclaration::getSimpleName),\n \t\t\t\t\tit -> it.getReturnType())) {\n-\t\t\t\tfor (ResolvedMethod getter : IterableExtensions.filter(\n+\t\t\t\tfor (ResolvedMethod getter : IterableExtensions.sortBy(IterableExtensions.filter(\n \t\t\t\t\t\tIterableExtensions.filter(t.getAllResolvedMethods(), it -> isSupportedGetter(it)),\n-\t\t\t\t\t\tit -> !iterableType.isAssignableFrom(it.getDeclaration().getReturnType()))) {\n+\t\t\t\t\t\tit -> !iterableType.isAssignableFrom(it.getDeclaration().getReturnType())), ResolvedMethod::getSimpleSignature)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b6f8fdb4b053f174e7b08bd745ffb7607a4c6b15"}, "originalPosition": 23}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYyMjg5OTEy", "url": "https://github.com/eclipse/xtext-core/pull/1550#pullrequestreview-462289912", "createdAt": "2020-08-06T08:20:10Z", "commit": {"oid": "b6f8fdb4b053f174e7b08bd745ffb7607a4c6b15"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d1e19719fedd390e25dc4194b70535e0716fb09a", "author": {"user": {"login": "cdietrich", "name": "Christian Dietrich"}}, "url": "https://github.com/eclipse/xtext-core/commit/d1e19719fedd390e25dc4194b70535e0716fb09a", "committedDate": "2020-08-06T08:34:55Z", "message": "predictable sorting in TracedAccessors\n\nSigned-off-by: Christian Dietrich <christian.dietrich@itemis.de>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b6f8fdb4b053f174e7b08bd745ffb7607a4c6b15", "author": {"user": {"login": "cdietrich", "name": "Christian Dietrich"}}, "url": "https://github.com/eclipse/xtext-core/commit/b6f8fdb4b053f174e7b08bd745ffb7607a4c6b15", "committedDate": "2020-08-06T07:53:36Z", "message": "predictable sorting in TracedAccessors\n\nSigned-off-by: Christian Dietrich <christian.dietrich@itemis.de>"}, "afterCommit": {"oid": "d1e19719fedd390e25dc4194b70535e0716fb09a", "author": {"user": {"login": "cdietrich", "name": "Christian Dietrich"}}, "url": "https://github.com/eclipse/xtext-core/commit/d1e19719fedd390e25dc4194b70535e0716fb09a", "committedDate": "2020-08-06T08:34:55Z", "message": "predictable sorting in TracedAccessors\n\nSigned-off-by: Christian Dietrich <christian.dietrich@itemis.de>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYyMzE2NDY0", "url": "https://github.com/eclipse/xtext-core/pull/1550#pullrequestreview-462316464", "createdAt": "2020-08-06T08:56:54Z", "commit": {"oid": "d1e19719fedd390e25dc4194b70535e0716fb09a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4628, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}