{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQwNDg4Mjcx", "number": 1532, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNlQxNzoxMjo0NFrOEJNK0g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wM1QxMTo0OToyM1rOELOahA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc4MDg4NDAyOnYy", "diffSide": "RIGHT", "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/server/semanticHighlight/SemanticHighlightingRegistry.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNlQxNzoxMjo0NFrOGpoh0g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wM1QwNjozNzowN1rOGslTbA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjMwODgxOA==", "bodyText": "Not necessary in Java", "url": "https://github.com/eclipse/xtext-core/pull/1532#discussion_r446308818", "createdAt": "2020-06-26T17:12:44Z", "author": {"login": "szarnekow"}, "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/server/semanticHighlight/SemanticHighlightingRegistry.java", "diffHunk": "@@ -0,0 +1,276 @@\n+/**\n+ * Copyright (c) 2018 TypeFox and others.\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0.\n+ * \n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.eclipse.xtext.ide.server.semanticHighlight;\n+\n+import java.util.ArrayList;\n+import java.util.Arrays;\n+import java.util.Collections;\n+import java.util.HashMap;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.Objects;\n+import java.util.Set;\n+\n+import org.eclipse.lsp4j.ClientCapabilities;\n+import org.eclipse.lsp4j.Position;\n+import org.eclipse.lsp4j.Range;\n+import org.eclipse.lsp4j.SemanticHighlightingCapabilities;\n+import org.eclipse.lsp4j.SemanticHighlightingInformation;\n+import org.eclipse.lsp4j.SemanticHighlightingParams;\n+import org.eclipse.lsp4j.TextDocumentClientCapabilities;\n+import org.eclipse.lsp4j.VersionedTextDocumentIdentifier;\n+import org.eclipse.lsp4j.services.LanguageClient;\n+import org.eclipse.lsp4j.util.SemanticHighlightingTokens;\n+import org.eclipse.lsp4j.util.SemanticHighlightingTokens.Token;\n+import org.eclipse.xtext.ide.editor.syntaxcoloring.ISemanticHighlightingCalculator;\n+import org.eclipse.xtext.ide.editor.syntaxcoloring.MergingHighlightedPositionAcceptor;\n+import org.eclipse.xtext.ide.server.Document;\n+import org.eclipse.xtext.ide.server.ILanguageServerAccess.Context;\n+import org.eclipse.xtext.ide.server.UriExtensions;\n+import org.eclipse.xtext.resource.IResourceServiceProvider;\n+import org.eclipse.xtext.resource.XtextResource;\n+import org.eclipse.xtext.util.CancelIndicator;\n+import org.eclipse.xtext.xbase.lib.Extension;\n+import org.eclipse.xtext.xbase.lib.IterableExtensions;\n+import org.eclipse.xtext.xbase.lib.ListExtensions;\n+import org.eclipse.xtext.xbase.lib.util.ToStringBuilder;\n+\n+import com.google.common.base.Preconditions;\n+import com.google.common.collect.BiMap;\n+import com.google.common.collect.ImmutableBiMap;\n+import com.google.common.collect.ImmutableList;\n+import com.google.common.collect.ImmutableMultimap;\n+import com.google.common.collect.Iterables;\n+import com.google.common.collect.Maps;\n+import com.google.inject.Inject;\n+\n+/**\n+ * Shared semantic highlighting manager per language server. Responsible for converting the semantic highlighted ranges\n+ * into the LSP standard by producing a compact, {@code base64} encoded token string.\n+ */\n+public class SemanticHighlightingRegistry {\n+\t/**\n+\t * Reserved TextMate scope identifier for styles that cannot be handled.\n+\t */\n+\tpublic static final String UNKNOWN_SCOPE = \"unknown.xtext\";\n+\n+\t/**\n+\t * TextMate scopes indicating an unhandled style ID to TextMate scope mapping.\n+\t */\n+\tpublic static final List<String> UNKNOWN_SCOPES = Collections\n+\t\t\t.singletonList(SemanticHighlightingRegistry.UNKNOWN_SCOPE);\n+\n+\t@Inject\n+\t@Extension", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "69e8d14d4526992c80f4685a25fa45f5523df83b"}, "originalPosition": 70}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTQwMTcwOA==", "bodyText": "Removed annotation.", "url": "https://github.com/eclipse/xtext-core/pull/1532#discussion_r449401708", "createdAt": "2020-07-03T06:37:07Z", "author": {"login": "ArneDeutsch"}, "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/server/semanticHighlight/SemanticHighlightingRegistry.java", "diffHunk": "@@ -0,0 +1,276 @@\n+/**\n+ * Copyright (c) 2018 TypeFox and others.\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0.\n+ * \n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.eclipse.xtext.ide.server.semanticHighlight;\n+\n+import java.util.ArrayList;\n+import java.util.Arrays;\n+import java.util.Collections;\n+import java.util.HashMap;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.Objects;\n+import java.util.Set;\n+\n+import org.eclipse.lsp4j.ClientCapabilities;\n+import org.eclipse.lsp4j.Position;\n+import org.eclipse.lsp4j.Range;\n+import org.eclipse.lsp4j.SemanticHighlightingCapabilities;\n+import org.eclipse.lsp4j.SemanticHighlightingInformation;\n+import org.eclipse.lsp4j.SemanticHighlightingParams;\n+import org.eclipse.lsp4j.TextDocumentClientCapabilities;\n+import org.eclipse.lsp4j.VersionedTextDocumentIdentifier;\n+import org.eclipse.lsp4j.services.LanguageClient;\n+import org.eclipse.lsp4j.util.SemanticHighlightingTokens;\n+import org.eclipse.lsp4j.util.SemanticHighlightingTokens.Token;\n+import org.eclipse.xtext.ide.editor.syntaxcoloring.ISemanticHighlightingCalculator;\n+import org.eclipse.xtext.ide.editor.syntaxcoloring.MergingHighlightedPositionAcceptor;\n+import org.eclipse.xtext.ide.server.Document;\n+import org.eclipse.xtext.ide.server.ILanguageServerAccess.Context;\n+import org.eclipse.xtext.ide.server.UriExtensions;\n+import org.eclipse.xtext.resource.IResourceServiceProvider;\n+import org.eclipse.xtext.resource.XtextResource;\n+import org.eclipse.xtext.util.CancelIndicator;\n+import org.eclipse.xtext.xbase.lib.Extension;\n+import org.eclipse.xtext.xbase.lib.IterableExtensions;\n+import org.eclipse.xtext.xbase.lib.ListExtensions;\n+import org.eclipse.xtext.xbase.lib.util.ToStringBuilder;\n+\n+import com.google.common.base.Preconditions;\n+import com.google.common.collect.BiMap;\n+import com.google.common.collect.ImmutableBiMap;\n+import com.google.common.collect.ImmutableList;\n+import com.google.common.collect.ImmutableMultimap;\n+import com.google.common.collect.Iterables;\n+import com.google.common.collect.Maps;\n+import com.google.inject.Inject;\n+\n+/**\n+ * Shared semantic highlighting manager per language server. Responsible for converting the semantic highlighted ranges\n+ * into the LSP standard by producing a compact, {@code base64} encoded token string.\n+ */\n+public class SemanticHighlightingRegistry {\n+\t/**\n+\t * Reserved TextMate scope identifier for styles that cannot be handled.\n+\t */\n+\tpublic static final String UNKNOWN_SCOPE = \"unknown.xtext\";\n+\n+\t/**\n+\t * TextMate scopes indicating an unhandled style ID to TextMate scope mapping.\n+\t */\n+\tpublic static final List<String> UNKNOWN_SCOPES = Collections\n+\t\t\t.singletonList(SemanticHighlightingRegistry.UNKNOWN_SCOPE);\n+\n+\t@Inject\n+\t@Extension", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjMwODgxOA=="}, "originalCommit": {"oid": "69e8d14d4526992c80f4685a25fa45f5523df83b"}, "originalPosition": 70}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc4MDg4ODg3OnYy", "diffSide": "RIGHT", "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/server/semanticHighlight/SemanticHighlightingRegistry.java", "isResolved": false, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNlQxNzoxNDozMFrOGpok8w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wM1QwODoyMzowNFrOGsoISg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjMwOTYxOQ==", "bodyText": "Please either go for Stream API, FluentIterable or traditional for loops. But these inversely nested static methods make it really hard to understand the code.", "url": "https://github.com/eclipse/xtext-core/pull/1532#discussion_r446309619", "createdAt": "2020-06-26T17:14:30Z", "author": {"login": "szarnekow"}, "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/server/semanticHighlight/SemanticHighlightingRegistry.java", "diffHunk": "@@ -0,0 +1,276 @@\n+/**\n+ * Copyright (c) 2018 TypeFox and others.\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0.\n+ * \n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.eclipse.xtext.ide.server.semanticHighlight;\n+\n+import java.util.ArrayList;\n+import java.util.Arrays;\n+import java.util.Collections;\n+import java.util.HashMap;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.Objects;\n+import java.util.Set;\n+\n+import org.eclipse.lsp4j.ClientCapabilities;\n+import org.eclipse.lsp4j.Position;\n+import org.eclipse.lsp4j.Range;\n+import org.eclipse.lsp4j.SemanticHighlightingCapabilities;\n+import org.eclipse.lsp4j.SemanticHighlightingInformation;\n+import org.eclipse.lsp4j.SemanticHighlightingParams;\n+import org.eclipse.lsp4j.TextDocumentClientCapabilities;\n+import org.eclipse.lsp4j.VersionedTextDocumentIdentifier;\n+import org.eclipse.lsp4j.services.LanguageClient;\n+import org.eclipse.lsp4j.util.SemanticHighlightingTokens;\n+import org.eclipse.lsp4j.util.SemanticHighlightingTokens.Token;\n+import org.eclipse.xtext.ide.editor.syntaxcoloring.ISemanticHighlightingCalculator;\n+import org.eclipse.xtext.ide.editor.syntaxcoloring.MergingHighlightedPositionAcceptor;\n+import org.eclipse.xtext.ide.server.Document;\n+import org.eclipse.xtext.ide.server.ILanguageServerAccess.Context;\n+import org.eclipse.xtext.ide.server.UriExtensions;\n+import org.eclipse.xtext.resource.IResourceServiceProvider;\n+import org.eclipse.xtext.resource.XtextResource;\n+import org.eclipse.xtext.util.CancelIndicator;\n+import org.eclipse.xtext.xbase.lib.Extension;\n+import org.eclipse.xtext.xbase.lib.IterableExtensions;\n+import org.eclipse.xtext.xbase.lib.ListExtensions;\n+import org.eclipse.xtext.xbase.lib.util.ToStringBuilder;\n+\n+import com.google.common.base.Preconditions;\n+import com.google.common.collect.BiMap;\n+import com.google.common.collect.ImmutableBiMap;\n+import com.google.common.collect.ImmutableList;\n+import com.google.common.collect.ImmutableMultimap;\n+import com.google.common.collect.Iterables;\n+import com.google.common.collect.Maps;\n+import com.google.inject.Inject;\n+\n+/**\n+ * Shared semantic highlighting manager per language server. Responsible for converting the semantic highlighted ranges\n+ * into the LSP standard by producing a compact, {@code base64} encoded token string.\n+ */\n+public class SemanticHighlightingRegistry {\n+\t/**\n+\t * Reserved TextMate scope identifier for styles that cannot be handled.\n+\t */\n+\tpublic static final String UNKNOWN_SCOPE = \"unknown.xtext\";\n+\n+\t/**\n+\t * TextMate scopes indicating an unhandled style ID to TextMate scope mapping.\n+\t */\n+\tpublic static final List<String> UNKNOWN_SCOPES = Collections\n+\t\t\t.singletonList(SemanticHighlightingRegistry.UNKNOWN_SCOPE);\n+\n+\t@Inject\n+\t@Extension\n+\tprivate UriExtensions uriExtensions;\n+\n+\t/**\n+\t * Lookup table for all known TextMate scopes.\n+\t */\n+\tprotected BiMap<Integer, List<String>> scopes;\n+\n+\tprotected LanguageClient client;\n+\n+\tpublic void initialize(Iterable<? extends IResourceServiceProvider> allLanguages, ClientCapabilities capabilities,\n+\t\t\tLanguageClient client) {\n+\t\tPreconditions.checkState(this.client == null, \"Already initialized.\");\n+\t\tTextDocumentClientCapabilities textDocument = capabilities == null ? null : capabilities.getTextDocument();\n+\t\tSemanticHighlightingCapabilities semanticHighlightingCapabilities = textDocument == null ? null\n+\t\t\t\t: textDocument.getSemanticHighlightingCapabilities();\n+\t\tboolean semanticHighlighting = semanticHighlightingCapabilities == null ? false\n+\t\t\t\t: semanticHighlightingCapabilities.getSemanticHighlighting();\n+\t\tImmutableBiMap.Builder<Integer, List<String>> builder = ImmutableBiMap.builder();\n+\t\tif (semanticHighlighting) {\n+\t\t\tSet<List<String>> set = IterableExtensions.toSet(IterableExtensions.filter(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "69e8d14d4526992c80f4685a25fa45f5523df83b"}, "originalPosition": 90}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTQwMjIwMw==", "bodyText": "Yes, it is hard to understand. Will try to refactor it.", "url": "https://github.com/eclipse/xtext-core/pull/1532#discussion_r449402203", "createdAt": "2020-07-03T06:38:24Z", "author": {"login": "ArneDeutsch"}, "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/server/semanticHighlight/SemanticHighlightingRegistry.java", "diffHunk": "@@ -0,0 +1,276 @@\n+/**\n+ * Copyright (c) 2018 TypeFox and others.\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0.\n+ * \n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.eclipse.xtext.ide.server.semanticHighlight;\n+\n+import java.util.ArrayList;\n+import java.util.Arrays;\n+import java.util.Collections;\n+import java.util.HashMap;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.Objects;\n+import java.util.Set;\n+\n+import org.eclipse.lsp4j.ClientCapabilities;\n+import org.eclipse.lsp4j.Position;\n+import org.eclipse.lsp4j.Range;\n+import org.eclipse.lsp4j.SemanticHighlightingCapabilities;\n+import org.eclipse.lsp4j.SemanticHighlightingInformation;\n+import org.eclipse.lsp4j.SemanticHighlightingParams;\n+import org.eclipse.lsp4j.TextDocumentClientCapabilities;\n+import org.eclipse.lsp4j.VersionedTextDocumentIdentifier;\n+import org.eclipse.lsp4j.services.LanguageClient;\n+import org.eclipse.lsp4j.util.SemanticHighlightingTokens;\n+import org.eclipse.lsp4j.util.SemanticHighlightingTokens.Token;\n+import org.eclipse.xtext.ide.editor.syntaxcoloring.ISemanticHighlightingCalculator;\n+import org.eclipse.xtext.ide.editor.syntaxcoloring.MergingHighlightedPositionAcceptor;\n+import org.eclipse.xtext.ide.server.Document;\n+import org.eclipse.xtext.ide.server.ILanguageServerAccess.Context;\n+import org.eclipse.xtext.ide.server.UriExtensions;\n+import org.eclipse.xtext.resource.IResourceServiceProvider;\n+import org.eclipse.xtext.resource.XtextResource;\n+import org.eclipse.xtext.util.CancelIndicator;\n+import org.eclipse.xtext.xbase.lib.Extension;\n+import org.eclipse.xtext.xbase.lib.IterableExtensions;\n+import org.eclipse.xtext.xbase.lib.ListExtensions;\n+import org.eclipse.xtext.xbase.lib.util.ToStringBuilder;\n+\n+import com.google.common.base.Preconditions;\n+import com.google.common.collect.BiMap;\n+import com.google.common.collect.ImmutableBiMap;\n+import com.google.common.collect.ImmutableList;\n+import com.google.common.collect.ImmutableMultimap;\n+import com.google.common.collect.Iterables;\n+import com.google.common.collect.Maps;\n+import com.google.inject.Inject;\n+\n+/**\n+ * Shared semantic highlighting manager per language server. Responsible for converting the semantic highlighted ranges\n+ * into the LSP standard by producing a compact, {@code base64} encoded token string.\n+ */\n+public class SemanticHighlightingRegistry {\n+\t/**\n+\t * Reserved TextMate scope identifier for styles that cannot be handled.\n+\t */\n+\tpublic static final String UNKNOWN_SCOPE = \"unknown.xtext\";\n+\n+\t/**\n+\t * TextMate scopes indicating an unhandled style ID to TextMate scope mapping.\n+\t */\n+\tpublic static final List<String> UNKNOWN_SCOPES = Collections\n+\t\t\t.singletonList(SemanticHighlightingRegistry.UNKNOWN_SCOPE);\n+\n+\t@Inject\n+\t@Extension\n+\tprivate UriExtensions uriExtensions;\n+\n+\t/**\n+\t * Lookup table for all known TextMate scopes.\n+\t */\n+\tprotected BiMap<Integer, List<String>> scopes;\n+\n+\tprotected LanguageClient client;\n+\n+\tpublic void initialize(Iterable<? extends IResourceServiceProvider> allLanguages, ClientCapabilities capabilities,\n+\t\t\tLanguageClient client) {\n+\t\tPreconditions.checkState(this.client == null, \"Already initialized.\");\n+\t\tTextDocumentClientCapabilities textDocument = capabilities == null ? null : capabilities.getTextDocument();\n+\t\tSemanticHighlightingCapabilities semanticHighlightingCapabilities = textDocument == null ? null\n+\t\t\t\t: textDocument.getSemanticHighlightingCapabilities();\n+\t\tboolean semanticHighlighting = semanticHighlightingCapabilities == null ? false\n+\t\t\t\t: semanticHighlightingCapabilities.getSemanticHighlighting();\n+\t\tImmutableBiMap.Builder<Integer, List<String>> builder = ImmutableBiMap.builder();\n+\t\tif (semanticHighlighting) {\n+\t\t\tSet<List<String>> set = IterableExtensions.toSet(IterableExtensions.filter(", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjMwOTYxOQ=="}, "originalCommit": {"oid": "69e8d14d4526992c80f4685a25fa45f5523df83b"}, "originalPosition": 90}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTQwNjI1OQ==", "bodyText": "Refactored to traditional for loops. Please verify that my implementation maps well to the old implementation.", "url": "https://github.com/eclipse/xtext-core/pull/1532#discussion_r449406259", "createdAt": "2020-07-03T06:49:29Z", "author": {"login": "ArneDeutsch"}, "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/server/semanticHighlight/SemanticHighlightingRegistry.java", "diffHunk": "@@ -0,0 +1,276 @@\n+/**\n+ * Copyright (c) 2018 TypeFox and others.\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0.\n+ * \n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.eclipse.xtext.ide.server.semanticHighlight;\n+\n+import java.util.ArrayList;\n+import java.util.Arrays;\n+import java.util.Collections;\n+import java.util.HashMap;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.Objects;\n+import java.util.Set;\n+\n+import org.eclipse.lsp4j.ClientCapabilities;\n+import org.eclipse.lsp4j.Position;\n+import org.eclipse.lsp4j.Range;\n+import org.eclipse.lsp4j.SemanticHighlightingCapabilities;\n+import org.eclipse.lsp4j.SemanticHighlightingInformation;\n+import org.eclipse.lsp4j.SemanticHighlightingParams;\n+import org.eclipse.lsp4j.TextDocumentClientCapabilities;\n+import org.eclipse.lsp4j.VersionedTextDocumentIdentifier;\n+import org.eclipse.lsp4j.services.LanguageClient;\n+import org.eclipse.lsp4j.util.SemanticHighlightingTokens;\n+import org.eclipse.lsp4j.util.SemanticHighlightingTokens.Token;\n+import org.eclipse.xtext.ide.editor.syntaxcoloring.ISemanticHighlightingCalculator;\n+import org.eclipse.xtext.ide.editor.syntaxcoloring.MergingHighlightedPositionAcceptor;\n+import org.eclipse.xtext.ide.server.Document;\n+import org.eclipse.xtext.ide.server.ILanguageServerAccess.Context;\n+import org.eclipse.xtext.ide.server.UriExtensions;\n+import org.eclipse.xtext.resource.IResourceServiceProvider;\n+import org.eclipse.xtext.resource.XtextResource;\n+import org.eclipse.xtext.util.CancelIndicator;\n+import org.eclipse.xtext.xbase.lib.Extension;\n+import org.eclipse.xtext.xbase.lib.IterableExtensions;\n+import org.eclipse.xtext.xbase.lib.ListExtensions;\n+import org.eclipse.xtext.xbase.lib.util.ToStringBuilder;\n+\n+import com.google.common.base.Preconditions;\n+import com.google.common.collect.BiMap;\n+import com.google.common.collect.ImmutableBiMap;\n+import com.google.common.collect.ImmutableList;\n+import com.google.common.collect.ImmutableMultimap;\n+import com.google.common.collect.Iterables;\n+import com.google.common.collect.Maps;\n+import com.google.inject.Inject;\n+\n+/**\n+ * Shared semantic highlighting manager per language server. Responsible for converting the semantic highlighted ranges\n+ * into the LSP standard by producing a compact, {@code base64} encoded token string.\n+ */\n+public class SemanticHighlightingRegistry {\n+\t/**\n+\t * Reserved TextMate scope identifier for styles that cannot be handled.\n+\t */\n+\tpublic static final String UNKNOWN_SCOPE = \"unknown.xtext\";\n+\n+\t/**\n+\t * TextMate scopes indicating an unhandled style ID to TextMate scope mapping.\n+\t */\n+\tpublic static final List<String> UNKNOWN_SCOPES = Collections\n+\t\t\t.singletonList(SemanticHighlightingRegistry.UNKNOWN_SCOPE);\n+\n+\t@Inject\n+\t@Extension\n+\tprivate UriExtensions uriExtensions;\n+\n+\t/**\n+\t * Lookup table for all known TextMate scopes.\n+\t */\n+\tprotected BiMap<Integer, List<String>> scopes;\n+\n+\tprotected LanguageClient client;\n+\n+\tpublic void initialize(Iterable<? extends IResourceServiceProvider> allLanguages, ClientCapabilities capabilities,\n+\t\t\tLanguageClient client) {\n+\t\tPreconditions.checkState(this.client == null, \"Already initialized.\");\n+\t\tTextDocumentClientCapabilities textDocument = capabilities == null ? null : capabilities.getTextDocument();\n+\t\tSemanticHighlightingCapabilities semanticHighlightingCapabilities = textDocument == null ? null\n+\t\t\t\t: textDocument.getSemanticHighlightingCapabilities();\n+\t\tboolean semanticHighlighting = semanticHighlightingCapabilities == null ? false\n+\t\t\t\t: semanticHighlightingCapabilities.getSemanticHighlighting();\n+\t\tImmutableBiMap.Builder<Integer, List<String>> builder = ImmutableBiMap.builder();\n+\t\tif (semanticHighlighting) {\n+\t\t\tSet<List<String>> set = IterableExtensions.toSet(IterableExtensions.filter(", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjMwOTYxOQ=="}, "originalCommit": {"oid": "69e8d14d4526992c80f4685a25fa45f5523df83b"}, "originalPosition": 90}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTQzMTM1MA==", "bodyText": "Seems our tests are not THAT bad ... seems they catched a bug in my implementation ... will check.", "url": "https://github.com/eclipse/xtext-core/pull/1532#discussion_r449431350", "createdAt": "2020-07-03T07:48:52Z", "author": {"login": "ArneDeutsch"}, "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/server/semanticHighlight/SemanticHighlightingRegistry.java", "diffHunk": "@@ -0,0 +1,276 @@\n+/**\n+ * Copyright (c) 2018 TypeFox and others.\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0.\n+ * \n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.eclipse.xtext.ide.server.semanticHighlight;\n+\n+import java.util.ArrayList;\n+import java.util.Arrays;\n+import java.util.Collections;\n+import java.util.HashMap;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.Objects;\n+import java.util.Set;\n+\n+import org.eclipse.lsp4j.ClientCapabilities;\n+import org.eclipse.lsp4j.Position;\n+import org.eclipse.lsp4j.Range;\n+import org.eclipse.lsp4j.SemanticHighlightingCapabilities;\n+import org.eclipse.lsp4j.SemanticHighlightingInformation;\n+import org.eclipse.lsp4j.SemanticHighlightingParams;\n+import org.eclipse.lsp4j.TextDocumentClientCapabilities;\n+import org.eclipse.lsp4j.VersionedTextDocumentIdentifier;\n+import org.eclipse.lsp4j.services.LanguageClient;\n+import org.eclipse.lsp4j.util.SemanticHighlightingTokens;\n+import org.eclipse.lsp4j.util.SemanticHighlightingTokens.Token;\n+import org.eclipse.xtext.ide.editor.syntaxcoloring.ISemanticHighlightingCalculator;\n+import org.eclipse.xtext.ide.editor.syntaxcoloring.MergingHighlightedPositionAcceptor;\n+import org.eclipse.xtext.ide.server.Document;\n+import org.eclipse.xtext.ide.server.ILanguageServerAccess.Context;\n+import org.eclipse.xtext.ide.server.UriExtensions;\n+import org.eclipse.xtext.resource.IResourceServiceProvider;\n+import org.eclipse.xtext.resource.XtextResource;\n+import org.eclipse.xtext.util.CancelIndicator;\n+import org.eclipse.xtext.xbase.lib.Extension;\n+import org.eclipse.xtext.xbase.lib.IterableExtensions;\n+import org.eclipse.xtext.xbase.lib.ListExtensions;\n+import org.eclipse.xtext.xbase.lib.util.ToStringBuilder;\n+\n+import com.google.common.base.Preconditions;\n+import com.google.common.collect.BiMap;\n+import com.google.common.collect.ImmutableBiMap;\n+import com.google.common.collect.ImmutableList;\n+import com.google.common.collect.ImmutableMultimap;\n+import com.google.common.collect.Iterables;\n+import com.google.common.collect.Maps;\n+import com.google.inject.Inject;\n+\n+/**\n+ * Shared semantic highlighting manager per language server. Responsible for converting the semantic highlighted ranges\n+ * into the LSP standard by producing a compact, {@code base64} encoded token string.\n+ */\n+public class SemanticHighlightingRegistry {\n+\t/**\n+\t * Reserved TextMate scope identifier for styles that cannot be handled.\n+\t */\n+\tpublic static final String UNKNOWN_SCOPE = \"unknown.xtext\";\n+\n+\t/**\n+\t * TextMate scopes indicating an unhandled style ID to TextMate scope mapping.\n+\t */\n+\tpublic static final List<String> UNKNOWN_SCOPES = Collections\n+\t\t\t.singletonList(SemanticHighlightingRegistry.UNKNOWN_SCOPE);\n+\n+\t@Inject\n+\t@Extension\n+\tprivate UriExtensions uriExtensions;\n+\n+\t/**\n+\t * Lookup table for all known TextMate scopes.\n+\t */\n+\tprotected BiMap<Integer, List<String>> scopes;\n+\n+\tprotected LanguageClient client;\n+\n+\tpublic void initialize(Iterable<? extends IResourceServiceProvider> allLanguages, ClientCapabilities capabilities,\n+\t\t\tLanguageClient client) {\n+\t\tPreconditions.checkState(this.client == null, \"Already initialized.\");\n+\t\tTextDocumentClientCapabilities textDocument = capabilities == null ? null : capabilities.getTextDocument();\n+\t\tSemanticHighlightingCapabilities semanticHighlightingCapabilities = textDocument == null ? null\n+\t\t\t\t: textDocument.getSemanticHighlightingCapabilities();\n+\t\tboolean semanticHighlighting = semanticHighlightingCapabilities == null ? false\n+\t\t\t\t: semanticHighlightingCapabilities.getSemanticHighlighting();\n+\t\tImmutableBiMap.Builder<Integer, List<String>> builder = ImmutableBiMap.builder();\n+\t\tif (semanticHighlighting) {\n+\t\t\tSet<List<String>> set = IterableExtensions.toSet(IterableExtensions.filter(", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjMwOTYxOQ=="}, "originalCommit": {"oid": "69e8d14d4526992c80f4685a25fa45f5523df83b"}, "originalPosition": 90}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTQ0ODAxMA==", "bodyText": "Have rewritten it using Streams for a more direct mapping to the old code and to fix the tests. Please review again.", "url": "https://github.com/eclipse/xtext-core/pull/1532#discussion_r449448010", "createdAt": "2020-07-03T08:23:04Z", "author": {"login": "ArneDeutsch"}, "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/server/semanticHighlight/SemanticHighlightingRegistry.java", "diffHunk": "@@ -0,0 +1,276 @@\n+/**\n+ * Copyright (c) 2018 TypeFox and others.\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0.\n+ * \n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.eclipse.xtext.ide.server.semanticHighlight;\n+\n+import java.util.ArrayList;\n+import java.util.Arrays;\n+import java.util.Collections;\n+import java.util.HashMap;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.Objects;\n+import java.util.Set;\n+\n+import org.eclipse.lsp4j.ClientCapabilities;\n+import org.eclipse.lsp4j.Position;\n+import org.eclipse.lsp4j.Range;\n+import org.eclipse.lsp4j.SemanticHighlightingCapabilities;\n+import org.eclipse.lsp4j.SemanticHighlightingInformation;\n+import org.eclipse.lsp4j.SemanticHighlightingParams;\n+import org.eclipse.lsp4j.TextDocumentClientCapabilities;\n+import org.eclipse.lsp4j.VersionedTextDocumentIdentifier;\n+import org.eclipse.lsp4j.services.LanguageClient;\n+import org.eclipse.lsp4j.util.SemanticHighlightingTokens;\n+import org.eclipse.lsp4j.util.SemanticHighlightingTokens.Token;\n+import org.eclipse.xtext.ide.editor.syntaxcoloring.ISemanticHighlightingCalculator;\n+import org.eclipse.xtext.ide.editor.syntaxcoloring.MergingHighlightedPositionAcceptor;\n+import org.eclipse.xtext.ide.server.Document;\n+import org.eclipse.xtext.ide.server.ILanguageServerAccess.Context;\n+import org.eclipse.xtext.ide.server.UriExtensions;\n+import org.eclipse.xtext.resource.IResourceServiceProvider;\n+import org.eclipse.xtext.resource.XtextResource;\n+import org.eclipse.xtext.util.CancelIndicator;\n+import org.eclipse.xtext.xbase.lib.Extension;\n+import org.eclipse.xtext.xbase.lib.IterableExtensions;\n+import org.eclipse.xtext.xbase.lib.ListExtensions;\n+import org.eclipse.xtext.xbase.lib.util.ToStringBuilder;\n+\n+import com.google.common.base.Preconditions;\n+import com.google.common.collect.BiMap;\n+import com.google.common.collect.ImmutableBiMap;\n+import com.google.common.collect.ImmutableList;\n+import com.google.common.collect.ImmutableMultimap;\n+import com.google.common.collect.Iterables;\n+import com.google.common.collect.Maps;\n+import com.google.inject.Inject;\n+\n+/**\n+ * Shared semantic highlighting manager per language server. Responsible for converting the semantic highlighted ranges\n+ * into the LSP standard by producing a compact, {@code base64} encoded token string.\n+ */\n+public class SemanticHighlightingRegistry {\n+\t/**\n+\t * Reserved TextMate scope identifier for styles that cannot be handled.\n+\t */\n+\tpublic static final String UNKNOWN_SCOPE = \"unknown.xtext\";\n+\n+\t/**\n+\t * TextMate scopes indicating an unhandled style ID to TextMate scope mapping.\n+\t */\n+\tpublic static final List<String> UNKNOWN_SCOPES = Collections\n+\t\t\t.singletonList(SemanticHighlightingRegistry.UNKNOWN_SCOPE);\n+\n+\t@Inject\n+\t@Extension\n+\tprivate UriExtensions uriExtensions;\n+\n+\t/**\n+\t * Lookup table for all known TextMate scopes.\n+\t */\n+\tprotected BiMap<Integer, List<String>> scopes;\n+\n+\tprotected LanguageClient client;\n+\n+\tpublic void initialize(Iterable<? extends IResourceServiceProvider> allLanguages, ClientCapabilities capabilities,\n+\t\t\tLanguageClient client) {\n+\t\tPreconditions.checkState(this.client == null, \"Already initialized.\");\n+\t\tTextDocumentClientCapabilities textDocument = capabilities == null ? null : capabilities.getTextDocument();\n+\t\tSemanticHighlightingCapabilities semanticHighlightingCapabilities = textDocument == null ? null\n+\t\t\t\t: textDocument.getSemanticHighlightingCapabilities();\n+\t\tboolean semanticHighlighting = semanticHighlightingCapabilities == null ? false\n+\t\t\t\t: semanticHighlightingCapabilities.getSemanticHighlighting();\n+\t\tImmutableBiMap.Builder<Integer, List<String>> builder = ImmutableBiMap.builder();\n+\t\tif (semanticHighlighting) {\n+\t\t\tSet<List<String>> set = IterableExtensions.toSet(IterableExtensions.filter(", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjMwOTYxOQ=="}, "originalCommit": {"oid": "69e8d14d4526992c80f4685a25fa45f5523df83b"}, "originalPosition": 90}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc4MDg5MjQwOnYy", "diffSide": "RIGHT", "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/server/semanticHighlight/SemanticHighlightingRegistry.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNlQxNzoxNTozNFrOGponEQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNlQxNzoxNTozNFrOGponEQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjMxMDE2MQ==", "bodyText": "API design at its best. So sad.", "url": "https://github.com/eclipse/xtext-core/pull/1532#discussion_r446310161", "createdAt": "2020-06-26T17:15:34Z", "author": {"login": "szarnekow"}, "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/server/semanticHighlight/SemanticHighlightingRegistry.java", "diffHunk": "@@ -0,0 +1,276 @@\n+/**\n+ * Copyright (c) 2018 TypeFox and others.\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0.\n+ * \n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.eclipse.xtext.ide.server.semanticHighlight;\n+\n+import java.util.ArrayList;\n+import java.util.Arrays;\n+import java.util.Collections;\n+import java.util.HashMap;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.Objects;\n+import java.util.Set;\n+\n+import org.eclipse.lsp4j.ClientCapabilities;\n+import org.eclipse.lsp4j.Position;\n+import org.eclipse.lsp4j.Range;\n+import org.eclipse.lsp4j.SemanticHighlightingCapabilities;\n+import org.eclipse.lsp4j.SemanticHighlightingInformation;\n+import org.eclipse.lsp4j.SemanticHighlightingParams;\n+import org.eclipse.lsp4j.TextDocumentClientCapabilities;\n+import org.eclipse.lsp4j.VersionedTextDocumentIdentifier;\n+import org.eclipse.lsp4j.services.LanguageClient;\n+import org.eclipse.lsp4j.util.SemanticHighlightingTokens;\n+import org.eclipse.lsp4j.util.SemanticHighlightingTokens.Token;\n+import org.eclipse.xtext.ide.editor.syntaxcoloring.ISemanticHighlightingCalculator;\n+import org.eclipse.xtext.ide.editor.syntaxcoloring.MergingHighlightedPositionAcceptor;\n+import org.eclipse.xtext.ide.server.Document;\n+import org.eclipse.xtext.ide.server.ILanguageServerAccess.Context;\n+import org.eclipse.xtext.ide.server.UriExtensions;\n+import org.eclipse.xtext.resource.IResourceServiceProvider;\n+import org.eclipse.xtext.resource.XtextResource;\n+import org.eclipse.xtext.util.CancelIndicator;\n+import org.eclipse.xtext.xbase.lib.Extension;\n+import org.eclipse.xtext.xbase.lib.IterableExtensions;\n+import org.eclipse.xtext.xbase.lib.ListExtensions;\n+import org.eclipse.xtext.xbase.lib.util.ToStringBuilder;\n+\n+import com.google.common.base.Preconditions;\n+import com.google.common.collect.BiMap;\n+import com.google.common.collect.ImmutableBiMap;\n+import com.google.common.collect.ImmutableList;\n+import com.google.common.collect.ImmutableMultimap;\n+import com.google.common.collect.Iterables;\n+import com.google.common.collect.Maps;\n+import com.google.inject.Inject;\n+\n+/**\n+ * Shared semantic highlighting manager per language server. Responsible for converting the semantic highlighted ranges\n+ * into the LSP standard by producing a compact, {@code base64} encoded token string.\n+ */\n+public class SemanticHighlightingRegistry {\n+\t/**\n+\t * Reserved TextMate scope identifier for styles that cannot be handled.\n+\t */\n+\tpublic static final String UNKNOWN_SCOPE = \"unknown.xtext\";\n+\n+\t/**\n+\t * TextMate scopes indicating an unhandled style ID to TextMate scope mapping.\n+\t */\n+\tpublic static final List<String> UNKNOWN_SCOPES = Collections\n+\t\t\t.singletonList(SemanticHighlightingRegistry.UNKNOWN_SCOPE);\n+\n+\t@Inject\n+\t@Extension\n+\tprivate UriExtensions uriExtensions;\n+\n+\t/**\n+\t * Lookup table for all known TextMate scopes.\n+\t */\n+\tprotected BiMap<Integer, List<String>> scopes;\n+\n+\tprotected LanguageClient client;\n+\n+\tpublic void initialize(Iterable<? extends IResourceServiceProvider> allLanguages, ClientCapabilities capabilities,\n+\t\t\tLanguageClient client) {\n+\t\tPreconditions.checkState(this.client == null, \"Already initialized.\");\n+\t\tTextDocumentClientCapabilities textDocument = capabilities == null ? null : capabilities.getTextDocument();\n+\t\tSemanticHighlightingCapabilities semanticHighlightingCapabilities = textDocument == null ? null\n+\t\t\t\t: textDocument.getSemanticHighlightingCapabilities();\n+\t\tboolean semanticHighlighting = semanticHighlightingCapabilities == null ? false\n+\t\t\t\t: semanticHighlightingCapabilities.getSemanticHighlighting();\n+\t\tImmutableBiMap.Builder<Integer, List<String>> builder = ImmutableBiMap.builder();\n+\t\tif (semanticHighlighting) {\n+\t\t\tSet<List<String>> set = IterableExtensions.toSet(IterableExtensions.filter(\n+\t\t\t\t\tIterables.concat(IterableExtensions.map(\n+\t\t\t\t\t\t\tIterableExtensions.filterNull(IterableExtensions.map(allLanguages,\n+\t\t\t\t\t\t\t\t\tit -> it.get(ISemanticHighlightingStyleToTokenMapper.class))),\n+\t\t\t\t\t\t\tmapper -> IterableExtensions.map(mapper.getAllStyleIds(),\n+\t\t\t\t\t\t\t\t\tstyleId -> mapper.toScopes(styleId)))),\n+\t\t\t\t\tit -> !IterableExtensions.isNullOrEmpty(it)));\n+\t\t\tIterableExtensions.forEach(set, (List<String> scope, Integer index) -> builder.put(index, scope));\n+\t\t}\n+\t\tthis.scopes = builder.build();\n+\t\tthis.client = client;\n+\t}\n+\n+\t/**\n+\t * Returns with a list of TextMate scopes for the internal scope index. Returns the\n+\t * {@link SemanticHighlightingRegistry#UNKNOWN_SCOPES unknown scopes} if no scopes are registered for the argument.\n+\t */\n+\tpublic List<String> getScopes(int scopeIndex) {\n+\t\tcheckInitialized();\n+\t\treturn scopes.getOrDefault(scopeIndex, SemanticHighlightingRegistry.UNKNOWN_SCOPES);\n+\t}\n+\n+\t/**\n+\t * Returns with the internal scope index for the argument. Returns {@code -1} if the scopes argument is\n+\t * <code>null</code>, the {@link SemanticHighlightingRegistry#UNKNOWN_SCOPES unknown scopes} or is not registered to\n+\t * this manager.\n+\t */\n+\tpublic int getIndex(List<String> scopes) {\n+\t\tcheckInitialized();\n+\t\tif (isNullOrUnknown(scopes))\n+\t\t\treturn -1;\n+\t\tInteger index = this.scopes.inverse().get(scopes);\n+\t\treturn index == null ? -1 : index;\n+\t}\n+\n+\t/**\n+\t * Returns with a view of all scopes known by this manager.\n+\t */\n+\tpublic List<List<String>> getAllScopes() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "69e8d14d4526992c80f4685a25fa45f5523df83b"}, "originalPosition": 128}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgwMjA1OTU2OnYy", "diffSide": "RIGHT", "path": "org.eclipse.xtext.util/src/org/eclipse/xtext/util/internal/EmfAdaptableProcessor.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wM1QxMTo0OToyM1rOGst4MA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wM1QxMTo0OToyM1rOGst4MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTU0MjE5Mg==", "bodyText": "Rewritign AA to Java goes full circle I suppose :)", "url": "https://github.com/eclipse/xtext-core/pull/1532#discussion_r449542192", "createdAt": "2020-07-03T11:49:23Z", "author": {"login": "szarnekow"}, "path": "org.eclipse.xtext.util/src/org/eclipse/xtext/util/internal/EmfAdaptableProcessor.java", "diffHunk": "@@ -0,0 +1,173 @@\n+/**\n+ * Copyright (c) 2015, 2020 itemis AG (http://www.itemis.eu) and others.\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0.\n+ * \n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.eclipse.xtext.util.internal;\n+\n+import java.util.List;\n+\n+import org.eclipse.emf.common.notify.Adapter;\n+import org.eclipse.emf.common.notify.Notifier;\n+import org.eclipse.emf.common.notify.impl.AdapterImpl;\n+import org.eclipse.xtend.lib.macro.AbstractClassProcessor;\n+import org.eclipse.xtend.lib.macro.RegisterGlobalsContext;\n+import org.eclipse.xtend.lib.macro.TransformationContext;\n+import org.eclipse.xtend.lib.macro.declaration.ClassDeclaration;\n+import org.eclipse.xtend.lib.macro.declaration.MutableClassDeclaration;\n+import org.eclipse.xtend2.lib.StringConcatenationClient;\n+import org.eclipse.xtext.xbase.lib.Extension;\n+\n+public class EmfAdaptableProcessor extends AbstractClassProcessor {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "95afbc0813ef4ed6c25ee06f2a05c058009e13ce"}, "originalPosition": 24}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 927, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}