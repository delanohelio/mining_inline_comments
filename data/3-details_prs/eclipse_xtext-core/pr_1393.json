{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc3NTY0MDY0", "number": 1393, "title": "[#1244]Update to LSP4J 0.9.0 Part 2", "bodyText": "[#1244] Update to LSP4J 0.9.0 Part 2\nSigned-off-by: Christian Dietrich christian.dietrich@itemis.de\nThis is currently WIP as the change is not on LSP4J master yet.\nI also want to mark the deprecated methods for removal in Xtext 2.22 an look for an idea on how to do that (besides writing some sentenses to the release notes)", "createdAt": "2020-02-20T05:51:51Z", "url": "https://github.com/eclipse/xtext-core/pull/1393", "merged": true, "mergeCommit": {"oid": "b0cb8a8397ce243d8a176a6d089d8a146b02a76e"}, "closed": true, "closedAt": "2020-02-20T22:42:45Z", "author": {"login": "cdietrich"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcGE8lEgBqjMwNTQ1MDQyMzU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcGS2VaABqjMwNTg0OTAzNjY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a2ae16edcf17d8f6208bbdf363d9c02a06a9a0b8", "author": {"user": {"login": "cdietrich", "name": "Christian Dietrich"}}, "url": "https://github.com/eclipse/xtext-core/commit/a2ae16edcf17d8f6208bbdf363d9c02a06a9a0b8", "committedDate": "2020-02-20T05:49:12Z", "message": "[#1244][WIP] Update to LSP4J 0.9.0 Part 2\n\nSigned-off-by: Christian Dietrich <christian.dietrich@itemis.de>"}, "afterCommit": {"oid": "d89ac862d641062cfd7bd266cb20e4cef120350c", "author": {"user": {"login": "cdietrich", "name": "Christian Dietrich"}}, "url": "https://github.com/eclipse/xtext-core/commit/d89ac862d641062cfd7bd266cb20e4cef120350c", "committedDate": "2020-02-20T06:15:18Z", "message": "[#1244][WIP] Update to LSP4J 0.9.0 Part 2\n\nSigned-off-by: Christian Dietrich <christian.dietrich@itemis.de>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d89ac862d641062cfd7bd266cb20e4cef120350c", "author": {"user": {"login": "cdietrich", "name": "Christian Dietrich"}}, "url": "https://github.com/eclipse/xtext-core/commit/d89ac862d641062cfd7bd266cb20e4cef120350c", "committedDate": "2020-02-20T06:15:18Z", "message": "[#1244][WIP] Update to LSP4J 0.9.0 Part 2\n\nSigned-off-by: Christian Dietrich <christian.dietrich@itemis.de>"}, "afterCommit": {"oid": "8b6bc1608aa347c3e2cab507724c6ef8cdeb9beb", "author": {"user": {"login": "cdietrich", "name": "Christian Dietrich"}}, "url": "https://github.com/eclipse/xtext-core/commit/8b6bc1608aa347c3e2cab507724c6ef8cdeb9beb", "committedDate": "2020-02-20T07:46:16Z", "message": "[#1244][WIP] Update to LSP4J 0.9.0 Part 2\n\nSigned-off-by: Christian Dietrich <christian.dietrich@itemis.de>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8b6bc1608aa347c3e2cab507724c6ef8cdeb9beb", "author": {"user": {"login": "cdietrich", "name": "Christian Dietrich"}}, "url": "https://github.com/eclipse/xtext-core/commit/8b6bc1608aa347c3e2cab507724c6ef8cdeb9beb", "committedDate": "2020-02-20T07:46:16Z", "message": "[#1244][WIP] Update to LSP4J 0.9.0 Part 2\n\nSigned-off-by: Christian Dietrich <christian.dietrich@itemis.de>"}, "afterCommit": {"oid": "ecd748b075c08cdf5835cb443a27f7045fe1f93a", "author": {"user": {"login": "cdietrich", "name": "Christian Dietrich"}}, "url": "https://github.com/eclipse/xtext-core/commit/ecd748b075c08cdf5835cb443a27f7045fe1f93a", "committedDate": "2020-02-20T08:04:03Z", "message": "[#1244][WIP] Update to LSP4J 0.9.0 Part 2\n\nSigned-off-by: Christian Dietrich <christian.dietrich@itemis.de>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYxNzg2NTIz", "url": "https://github.com/eclipse/xtext-core/pull/1393#pullrequestreview-361786523", "createdAt": "2020-02-20T10:23:26Z", "commit": {"oid": "ecd748b075c08cdf5835cb443a27f7045fe1f93a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ecd748b075c08cdf5835cb443a27f7045fe1f93a", "author": {"user": {"login": "cdietrich", "name": "Christian Dietrich"}}, "url": "https://github.com/eclipse/xtext-core/commit/ecd748b075c08cdf5835cb443a27f7045fe1f93a", "committedDate": "2020-02-20T08:04:03Z", "message": "[#1244][WIP] Update to LSP4J 0.9.0 Part 2\n\nSigned-off-by: Christian Dietrich <christian.dietrich@itemis.de>"}, "afterCommit": {"oid": "8129116335fccfb7c175adf093245dcf5346b1df", "author": {"user": {"login": "cdietrich", "name": "Christian Dietrich"}}, "url": "https://github.com/eclipse/xtext-core/commit/8129116335fccfb7c175adf093245dcf5346b1df", "committedDate": "2020-02-20T15:13:00Z", "message": "[#1244][WIP] Update to LSP4J 0.9.0 Part 2\n\nSigned-off-by: Christian Dietrich <christian.dietrich@itemis.de>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYyMTMxMjEx", "url": "https://github.com/eclipse/xtext-core/pull/1393#pullrequestreview-362131211", "createdAt": "2020-02-20T18:26:03Z", "commit": {"oid": "8129116335fccfb7c175adf093245dcf5346b1df"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQxODoyNjowM1rOFseSNQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQxODoyNjowM1rOFseSNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjE3Nzg0NQ==", "bodyText": "Exception message suffers from copy'n'paste", "url": "https://github.com/eclipse/xtext-core/pull/1393#discussion_r382177845", "createdAt": "2020-02-20T18:26:03Z", "author": {"login": "szarnekow"}, "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/server/symbol/DocumentSymbolService.xtend", "diffHunk": "@@ -80,13 +81,34 @@ class DocumentSymbolService implements IDocumentSymbolService {\n \t\n \t@Inject\n \tHierarchicalDocumentSymbolService hierarchicalDocumentSymbolService\n-\n+\t\n+\t/**\n+\t * @deprecated please override/call {@link #getDefinitions(Document,XtextResource,DefinitionParams,IResourceAccess,CancelIndicator)} instead.\n+\t * This method is scheduled to be removed with 2.22.\n+\t */\n+\t@Deprecated//(since=\"2.21\",forRemoval=true)\n \tdef List<? extends Location> getDefinitions(\n \t\tDocument document,\n \t\tXtextResource resource,\n \t\tTextDocumentPositionParams params,\n \t\tIResourceAccess resourceAccess,\n \t\tCancelIndicator cancelIndicator\n+\t) {\n+\t\tif (params instanceof DefinitionParams) {\n+\t\t\treturn getDefinitions(document, resource, params as DefinitionParams, resourceAccess, cancelIndicator)\n+\t\t}\n+\t\tthrow new IllegalArgumentException(\"params is not a HoverParams\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8129116335fccfb7c175adf093245dcf5346b1df"}, "originalPosition": 29}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYyMTMxNTY4", "url": "https://github.com/eclipse/xtext-core/pull/1393#pullrequestreview-362131568", "createdAt": "2020-02-20T18:26:35Z", "commit": {"oid": "8129116335fccfb7c175adf093245dcf5346b1df"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQxODoyNjozNVrOFseTUw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQxODoyNjozNVrOFseTUw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjE3ODEzMQ==", "bodyText": "Exception message", "url": "https://github.com/eclipse/xtext-core/pull/1393#discussion_r382178131", "createdAt": "2020-02-20T18:26:35Z", "author": {"login": "szarnekow"}, "path": "org.eclipse.xtext.ide/xtend-gen/org/eclipse/xtext/ide/server/symbol/DocumentSymbolService.java", "diffHunk": "@@ -102,7 +103,22 @@\n   @Inject\n   private HierarchicalDocumentSymbolService hierarchicalDocumentSymbolService;\n   \n+  /**\n+   * @deprecated please override/call {@link #getDefinitions(Document,XtextResource,DefinitionParams,IResourceAccess,CancelIndicator)} instead.\n+   * This method is scheduled to be removed with 2.22.\n+   */\n+  @Deprecated\n   public List<? extends Location> getDefinitions(final Document document, final XtextResource resource, final TextDocumentPositionParams params, final IReferenceFinder.IResourceAccess resourceAccess, final CancelIndicator cancelIndicator) {\n+    if ((params instanceof DefinitionParams)) {\n+      return this.getDefinitions(document, resource, ((DefinitionParams) params), resourceAccess, cancelIndicator);\n+    }\n+    throw new IllegalArgumentException(\"params is not a HoverParams\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8129116335fccfb7c175adf093245dcf5346b1df"}, "originalPosition": 21}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYyMTMxNzk5", "url": "https://github.com/eclipse/xtext-core/pull/1393#pullrequestreview-362131799", "createdAt": "2020-02-20T18:26:56Z", "commit": {"oid": "8129116335fccfb7c175adf093245dcf5346b1df"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQxODoyNjo1N1rOFseUCw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQxODoyNjo1N1rOFseUCw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjE3ODMxNQ==", "bodyText": "Exception message", "url": "https://github.com/eclipse/xtext-core/pull/1393#discussion_r382178315", "createdAt": "2020-02-20T18:26:57Z", "author": {"login": "szarnekow"}, "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/server/occurrences/IDocumentHighlightService.java", "diffHunk": "@@ -33,8 +34,23 @@\n @ImplementedBy(DefaultDocumentHighlightService.class)\n public interface IDocumentHighlightService {\n \t\n-\tList<? extends DocumentHighlight> getDocumentHighlights(Document document, XtextResource resource, TextDocumentPositionParams params, CancelIndicator cancelIndicator);\n+\t/**\n+\t * @deprecated please override/call {@link #getDocumentHighlights(Document, XtextResource, DocumentHighlightParams, CancelIndicator)} instead.\n+\t * This method is scheduled to be removed with 2.22.\n+\t */\n+\t@Deprecated//(since=\"2.21\",forRemoval=true)\n+\tdefault List<? extends DocumentHighlight> getDocumentHighlights(Document document, XtextResource resource, TextDocumentPositionParams params, CancelIndicator cancelIndicator) {\n+\t\tif (params instanceof DocumentHighlightParams) {\n+\t\t\treturn getDocumentHighlights(document, resource, (DocumentHighlightParams) params, cancelIndicator);\n+\t\t}\n+\t\tthrow new IllegalArgumentException(\"params is not a SignatureHelpParams\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8129116335fccfb7c175adf093245dcf5346b1df"}, "originalPosition": 22}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYyMTMyNTA4", "url": "https://github.com/eclipse/xtext-core/pull/1393#pullrequestreview-362132508", "createdAt": "2020-02-20T18:28:05Z", "commit": {"oid": "8129116335fccfb7c175adf093245dcf5346b1df"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8129116335fccfb7c175adf093245dcf5346b1df", "author": {"user": {"login": "cdietrich", "name": "Christian Dietrich"}}, "url": "https://github.com/eclipse/xtext-core/commit/8129116335fccfb7c175adf093245dcf5346b1df", "committedDate": "2020-02-20T15:13:00Z", "message": "[#1244][WIP] Update to LSP4J 0.9.0 Part 2\n\nSigned-off-by: Christian Dietrich <christian.dietrich@itemis.de>"}, "afterCommit": {"oid": "b52a5018fd9092d7894c9d8fe5531bdec2d09518", "author": {"user": {"login": "cdietrich", "name": "Christian Dietrich"}}, "url": "https://github.com/eclipse/xtext-core/commit/b52a5018fd9092d7894c9d8fe5531bdec2d09518", "committedDate": "2020-02-20T18:28:29Z", "message": "[#1244][WIP] Update to LSP4J 0.9.0 Part 2\n\nSigned-off-by: Christian Dietrich <christian.dietrich@itemis.de>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "639fa16575fc9f5658795fa9745b9b7be53963f6", "author": {"user": {"login": "cdietrich", "name": "Christian Dietrich"}}, "url": "https://github.com/eclipse/xtext-core/commit/639fa16575fc9f5658795fa9745b9b7be53963f6", "committedDate": "2020-02-20T22:27:07Z", "message": "[#1244][WIP] Update to LSP4J 0.9.0 Part 2\n\nSigned-off-by: Christian Dietrich <christian.dietrich@itemis.de>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b52a5018fd9092d7894c9d8fe5531bdec2d09518", "author": {"user": {"login": "cdietrich", "name": "Christian Dietrich"}}, "url": "https://github.com/eclipse/xtext-core/commit/b52a5018fd9092d7894c9d8fe5531bdec2d09518", "committedDate": "2020-02-20T18:28:29Z", "message": "[#1244][WIP] Update to LSP4J 0.9.0 Part 2\n\nSigned-off-by: Christian Dietrich <christian.dietrich@itemis.de>"}, "afterCommit": {"oid": "639fa16575fc9f5658795fa9745b9b7be53963f6", "author": {"user": {"login": "cdietrich", "name": "Christian Dietrich"}}, "url": "https://github.com/eclipse/xtext-core/commit/639fa16575fc9f5658795fa9745b9b7be53963f6", "committedDate": "2020-02-20T22:27:07Z", "message": "[#1244][WIP] Update to LSP4J 0.9.0 Part 2\n\nSigned-off-by: Christian Dietrich <christian.dietrich@itemis.de>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4701, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}