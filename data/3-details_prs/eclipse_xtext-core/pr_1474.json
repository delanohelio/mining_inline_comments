{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDEzMzgwOTI4", "number": 1474, "title": "[eclipse/xtext#1679]ported test code to java", "bodyText": "[eclipse/xtext#1679]ported test code to java\nSigned-off-by: Christian Dietrich christian.dietrich@itemis.de", "createdAt": "2020-05-05T08:39:04Z", "url": "https://github.com/eclipse/xtext-core/pull/1474", "merged": true, "mergeCommit": {"oid": "070cf973dc1688d9b31696a2bfef1e6a0c49ee09"}, "closed": true, "closedAt": "2020-05-07T15:32:50Z", "author": {"login": "cdietrich"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABceVn9oAFqTQwNTg3OTM4OA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABce5YN3gFqTQwNzI3NTk3Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA1ODc5Mzg4", "url": "https://github.com/eclipse/xtext-core/pull/1474#pullrequestreview-405879388", "createdAt": "2020-05-05T15:03:59Z", "commit": {"oid": "a1c67c88510a5b8dfe793b165ac7de89d031bc61"}, "state": "COMMENTED", "comments": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNVQxNTowMzo1OVrOGQty-A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNVQxNToxNDoxNFrOGQuRJA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDE4MDcyOA==", "bodyText": "this.getProposalCreator(); -> getProposalCreator();", "url": "https://github.com/eclipse/xtext-core/pull/1474#discussion_r420180728", "createdAt": "2020-05-05T15:03:59Z", "author": {"login": "nbhusare"}, "path": "org.eclipse.xtext.ide.tests/testlang-src/org/eclipse/xtext/ide/tests/testlanguage/ide/TestLanguageIdeContentProposalProvider.java", "diffHunk": "@@ -0,0 +1,44 @@\n+/**\n+ * Copyright (c) 2018, 2020 itemis AG (http://www.itemis.eu) and others.\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0.\n+ * \n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.eclipse.xtext.ide.tests.testlanguage.ide;\n+\n+import org.eclipse.xtend2.lib.StringConcatenation;\n+import org.eclipse.xtext.RuleCall;\n+import org.eclipse.xtext.ide.editor.contentassist.ContentAssistContext;\n+import org.eclipse.xtext.ide.editor.contentassist.IIdeContentProposalAcceptor;\n+import org.eclipse.xtext.ide.editor.contentassist.IdeContentProposalCreator;\n+import org.eclipse.xtext.ide.editor.contentassist.IdeContentProposalProvider;\n+import org.eclipse.xtext.ide.tests.testlanguage.services.TestLanguageGrammarAccess;\n+\n+import com.google.inject.Inject;\n+\n+/**\n+ * @author Christian Dietrich - Initial contribution and API\n+ */\n+public class TestLanguageIdeContentProposalProvider extends IdeContentProposalProvider {\n+\t@Inject\n+\tprivate TestLanguageGrammarAccess testLanguageGrammarAccess;\n+\n+\t@Override\n+\tprotected void _createProposals(RuleCall ruleCall, ContentAssistContext context,\n+\t\t\tIIdeContentProposalAcceptor acceptor) {\n+\t\tboolean _equals = testLanguageGrammarAccess.getTypeDeclarationRule().equals(ruleCall.getRule());\n+\t\tif (_equals) {\n+\t\t\tIdeContentProposalCreator _proposalCreator = this.getProposalCreator();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a1c67c88510a5b8dfe793b165ac7de89d031bc61"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDE4MTIwNg==", "bodyText": "ArrayList<Either<Command, CodeAction> -> List<Either<Command, CodeAction>", "url": "https://github.com/eclipse/xtext-core/pull/1474#discussion_r420181206", "createdAt": "2020-05-05T15:04:37Z", "author": {"login": "nbhusare"}, "path": "org.eclipse.xtext.ide.tests/testlang-src/org/eclipse/xtext/ide/tests/testlanguage/ide/server/CodeActionService.java", "diffHunk": "@@ -0,0 +1,112 @@\n+/**\n+ * Copyright (c) 2017, 2020 TypeFox GmbH (http://www.typefox.io) and others.\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0.\n+ * \n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.eclipse.xtext.ide.tests.testlanguage.ide.server;\n+\n+import java.util.ArrayList;\n+import java.util.List;\n+\n+import org.eclipse.emf.common.util.ECollections;\n+import org.eclipse.emf.ecore.resource.Resource;\n+import org.eclipse.emf.ecore.resource.ResourceSet;\n+import org.eclipse.lsp4j.CodeAction;\n+import org.eclipse.lsp4j.Command;\n+import org.eclipse.lsp4j.Diagnostic;\n+import org.eclipse.lsp4j.Range;\n+import org.eclipse.lsp4j.TextEdit;\n+import org.eclipse.lsp4j.WorkspaceEdit;\n+import org.eclipse.lsp4j.jsonrpc.messages.Either;\n+import org.eclipse.xtext.formatting2.regionaccess.ITextReplacement;\n+import org.eclipse.xtext.ide.serializer.IChangeSerializer;\n+import org.eclipse.xtext.ide.serializer.IEmfResourceChange;\n+import org.eclipse.xtext.ide.serializer.ITextDocumentChange;\n+import org.eclipse.xtext.ide.server.codeActions.ICodeActionService2;\n+import org.eclipse.xtext.ide.tests.testlanguage.testLanguage.Member;\n+import org.eclipse.xtext.ide.tests.testlanguage.testLanguage.Model;\n+import org.eclipse.xtext.ide.tests.testlanguage.testLanguage.TypeDeclaration;\n+import org.eclipse.xtext.ide.tests.testlanguage.validation.TestLanguageValidator;\n+import org.eclipse.xtext.util.CollectionBasedAcceptor;\n+import org.eclipse.xtext.xbase.lib.ListExtensions;\n+import org.eclipse.xtext.xbase.lib.StringExtensions;\n+\n+import com.google.common.collect.Iterables;\n+import com.google.common.collect.Lists;\n+import com.google.inject.Inject;\n+\n+/**\n+ * @author Sven Efftinge - Initial contribution and API\n+ */\n+public class CodeActionService implements ICodeActionService2 {\n+\t@Inject\n+\tprivate IChangeSerializer serializer;\n+\n+\t@Override\n+\tpublic List<Either<Command, CodeAction>> getCodeActions(ICodeActionService2.Options options) {\n+\t\tArrayList<Either<Command, CodeAction>> actions = new ArrayList<>();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a1c67c88510a5b8dfe793b165ac7de89d031bc61"}, "originalPosition": 50}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDE4MzI0NA==", "bodyText": "model can be null.", "url": "https://github.com/eclipse/xtext-core/pull/1474#discussion_r420183244", "createdAt": "2020-05-05T15:07:21Z", "author": {"login": "nbhusare"}, "path": "org.eclipse.xtext.ide.tests/testlang-src/org/eclipse/xtext/ide/tests/testlanguage/ide/server/CodeActionService.java", "diffHunk": "@@ -0,0 +1,112 @@\n+/**\n+ * Copyright (c) 2017, 2020 TypeFox GmbH (http://www.typefox.io) and others.\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0.\n+ * \n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.eclipse.xtext.ide.tests.testlanguage.ide.server;\n+\n+import java.util.ArrayList;\n+import java.util.List;\n+\n+import org.eclipse.emf.common.util.ECollections;\n+import org.eclipse.emf.ecore.resource.Resource;\n+import org.eclipse.emf.ecore.resource.ResourceSet;\n+import org.eclipse.lsp4j.CodeAction;\n+import org.eclipse.lsp4j.Command;\n+import org.eclipse.lsp4j.Diagnostic;\n+import org.eclipse.lsp4j.Range;\n+import org.eclipse.lsp4j.TextEdit;\n+import org.eclipse.lsp4j.WorkspaceEdit;\n+import org.eclipse.lsp4j.jsonrpc.messages.Either;\n+import org.eclipse.xtext.formatting2.regionaccess.ITextReplacement;\n+import org.eclipse.xtext.ide.serializer.IChangeSerializer;\n+import org.eclipse.xtext.ide.serializer.IEmfResourceChange;\n+import org.eclipse.xtext.ide.serializer.ITextDocumentChange;\n+import org.eclipse.xtext.ide.server.codeActions.ICodeActionService2;\n+import org.eclipse.xtext.ide.tests.testlanguage.testLanguage.Member;\n+import org.eclipse.xtext.ide.tests.testlanguage.testLanguage.Model;\n+import org.eclipse.xtext.ide.tests.testlanguage.testLanguage.TypeDeclaration;\n+import org.eclipse.xtext.ide.tests.testlanguage.validation.TestLanguageValidator;\n+import org.eclipse.xtext.util.CollectionBasedAcceptor;\n+import org.eclipse.xtext.xbase.lib.ListExtensions;\n+import org.eclipse.xtext.xbase.lib.StringExtensions;\n+\n+import com.google.common.collect.Iterables;\n+import com.google.common.collect.Lists;\n+import com.google.inject.Inject;\n+\n+/**\n+ * @author Sven Efftinge - Initial contribution and API\n+ */\n+public class CodeActionService implements ICodeActionService2 {\n+\t@Inject\n+\tprivate IChangeSerializer serializer;\n+\n+\t@Override\n+\tpublic List<Either<Command, CodeAction>> getCodeActions(ICodeActionService2.Options options) {\n+\t\tArrayList<Either<Command, CodeAction>> actions = new ArrayList<>();\n+\t\tfor (Diagnostic d : options.getCodeActionParams().getContext().getDiagnostics()) {\n+\t\t\tObject code = d.getCode().get();\n+\t\t\tif (TestLanguageValidator.INVALID_NAME.equals(code)) {\n+\t\t\t\tactions.add(Either.forLeft(fixInvalidName(d, options)));\n+\t\t\t} else if (TestLanguageValidator.UNSORTED_MEMBERS.equals(code)) {\n+\t\t\t\tactions.add(Either.forRight(fixUnsortedMembers(d, options)));\n+\t\t\t}\n+\t\t}\n+\t\treturn actions;\n+\t}\n+\n+\tprivate Command fixInvalidName(Diagnostic d, ICodeActionService2.Options options) {\n+\t\tString string = options.getDocument().getSubstring(d.getRange());\n+\t\tCommand command = new Command();\n+\t\tcommand.setCommand(\"my.textedit.command\");\n+\t\tcommand.setTitle(\"Make '\" + string + \"' upper case\");\n+\t\tWorkspaceEdit workspaceEdit = new WorkspaceEdit();\n+\t\tTextEdit textEdit = new TextEdit();\n+\t\ttextEdit.setNewText(StringExtensions.toFirstUpper(string));\n+\t\ttextEdit.setRange(d.getRange());\n+\t\tworkspaceEdit.getChanges().put(options.getCodeActionParams().getTextDocument().getUri(),\n+\t\t\t\tLists.newArrayList(textEdit));\n+\t\tcommand.setArguments(Lists.newArrayList(workspaceEdit));\n+\t\treturn command;\n+\t}\n+\n+\tprivate CodeAction fixUnsortedMembers(Diagnostic d, ICodeActionService2.Options options) {\n+\t\tWorkspaceEdit wsEdit = recordWorkspaceEdit(options, (Resource copiedResource) -> {\n+\t\t\tModel model = Iterables.getFirst(Iterables.filter(copiedResource.getContents(), Model.class), null);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a1c67c88510a5b8dfe793b165ac7de89d031bc61"}, "originalPosition": 79}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDE4MzY2MQ==", "bodyText": "ArrayList<IEmfResourceChange> -> List<IEmfResourceChange>", "url": "https://github.com/eclipse/xtext-core/pull/1474#discussion_r420183661", "createdAt": "2020-05-05T15:07:56Z", "author": {"login": "nbhusare"}, "path": "org.eclipse.xtext.ide.tests/testlang-src/org/eclipse/xtext/ide/tests/testlanguage/ide/server/CodeActionService.java", "diffHunk": "@@ -0,0 +1,112 @@\n+/**\n+ * Copyright (c) 2017, 2020 TypeFox GmbH (http://www.typefox.io) and others.\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0.\n+ * \n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.eclipse.xtext.ide.tests.testlanguage.ide.server;\n+\n+import java.util.ArrayList;\n+import java.util.List;\n+\n+import org.eclipse.emf.common.util.ECollections;\n+import org.eclipse.emf.ecore.resource.Resource;\n+import org.eclipse.emf.ecore.resource.ResourceSet;\n+import org.eclipse.lsp4j.CodeAction;\n+import org.eclipse.lsp4j.Command;\n+import org.eclipse.lsp4j.Diagnostic;\n+import org.eclipse.lsp4j.Range;\n+import org.eclipse.lsp4j.TextEdit;\n+import org.eclipse.lsp4j.WorkspaceEdit;\n+import org.eclipse.lsp4j.jsonrpc.messages.Either;\n+import org.eclipse.xtext.formatting2.regionaccess.ITextReplacement;\n+import org.eclipse.xtext.ide.serializer.IChangeSerializer;\n+import org.eclipse.xtext.ide.serializer.IEmfResourceChange;\n+import org.eclipse.xtext.ide.serializer.ITextDocumentChange;\n+import org.eclipse.xtext.ide.server.codeActions.ICodeActionService2;\n+import org.eclipse.xtext.ide.tests.testlanguage.testLanguage.Member;\n+import org.eclipse.xtext.ide.tests.testlanguage.testLanguage.Model;\n+import org.eclipse.xtext.ide.tests.testlanguage.testLanguage.TypeDeclaration;\n+import org.eclipse.xtext.ide.tests.testlanguage.validation.TestLanguageValidator;\n+import org.eclipse.xtext.util.CollectionBasedAcceptor;\n+import org.eclipse.xtext.xbase.lib.ListExtensions;\n+import org.eclipse.xtext.xbase.lib.StringExtensions;\n+\n+import com.google.common.collect.Iterables;\n+import com.google.common.collect.Lists;\n+import com.google.inject.Inject;\n+\n+/**\n+ * @author Sven Efftinge - Initial contribution and API\n+ */\n+public class CodeActionService implements ICodeActionService2 {\n+\t@Inject\n+\tprivate IChangeSerializer serializer;\n+\n+\t@Override\n+\tpublic List<Either<Command, CodeAction>> getCodeActions(ICodeActionService2.Options options) {\n+\t\tArrayList<Either<Command, CodeAction>> actions = new ArrayList<>();\n+\t\tfor (Diagnostic d : options.getCodeActionParams().getContext().getDiagnostics()) {\n+\t\t\tObject code = d.getCode().get();\n+\t\t\tif (TestLanguageValidator.INVALID_NAME.equals(code)) {\n+\t\t\t\tactions.add(Either.forLeft(fixInvalidName(d, options)));\n+\t\t\t} else if (TestLanguageValidator.UNSORTED_MEMBERS.equals(code)) {\n+\t\t\t\tactions.add(Either.forRight(fixUnsortedMembers(d, options)));\n+\t\t\t}\n+\t\t}\n+\t\treturn actions;\n+\t}\n+\n+\tprivate Command fixInvalidName(Diagnostic d, ICodeActionService2.Options options) {\n+\t\tString string = options.getDocument().getSubstring(d.getRange());\n+\t\tCommand command = new Command();\n+\t\tcommand.setCommand(\"my.textedit.command\");\n+\t\tcommand.setTitle(\"Make '\" + string + \"' upper case\");\n+\t\tWorkspaceEdit workspaceEdit = new WorkspaceEdit();\n+\t\tTextEdit textEdit = new TextEdit();\n+\t\ttextEdit.setNewText(StringExtensions.toFirstUpper(string));\n+\t\ttextEdit.setRange(d.getRange());\n+\t\tworkspaceEdit.getChanges().put(options.getCodeActionParams().getTextDocument().getUri(),\n+\t\t\t\tLists.newArrayList(textEdit));\n+\t\tcommand.setArguments(Lists.newArrayList(workspaceEdit));\n+\t\treturn command;\n+\t}\n+\n+\tprivate CodeAction fixUnsortedMembers(Diagnostic d, ICodeActionService2.Options options) {\n+\t\tWorkspaceEdit wsEdit = recordWorkspaceEdit(options, (Resource copiedResource) -> {\n+\t\t\tModel model = Iterables.getFirst(Iterables.filter(copiedResource.getContents(), Model.class), null);\n+\t\t\tfor (TypeDeclaration type : Iterables.filter(model.getElements(), TypeDeclaration.class)) {\n+\t\t\t\tECollections.sort(type.getMembers(), (Member a, Member b) -> a.getName().compareTo(b.getName()));\n+\t\t\t}\n+\t\t});\n+\t\tCodeAction codeAction = new CodeAction();\n+\t\tcodeAction.setTitle(\"Sort Members\");\n+\t\tcodeAction.setDiagnostics(Lists.newArrayList(d));\n+\t\tcodeAction.setEdit(wsEdit);\n+\t\treturn codeAction;\n+\t}\n+\n+\tprivate WorkspaceEdit recordWorkspaceEdit(ICodeActionService2.Options options,\n+\t\t\tIChangeSerializer.IModification<Resource> mod) {\n+\t\tResourceSet rs = options.getLanguageServerAccess().newLiveScopeResourceSet(options.getResource().getURI());\n+\t\tResource copy = rs.getResource(options.getResource().getURI(), true);\n+\t\tserializer.addModification(copy, mod);\n+\t\tArrayList<IEmfResourceChange> documentchanges = new ArrayList<>();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a1c67c88510a5b8dfe793b165ac7de89d031bc61"}, "originalPosition": 96}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDE4NTIzNw==", "bodyText": "_model -> model  just to be consistent with rest of the code", "url": "https://github.com/eclipse/xtext-core/pull/1474#discussion_r420185237", "createdAt": "2020-05-05T15:09:55Z", "author": {"login": "nbhusare"}, "path": "org.eclipse.xtext.tests/src/org/eclipse/xtext/parser/parameters/AbstractParametersParsingTest.java", "diffHunk": "@@ -0,0 +1,197 @@\n+/**\n+ * Copyright (c) 2015, 2020 itemis AG (http://www.itemis.eu) and others.\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0.\n+ * \n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.eclipse.xtext.parser.parameters;\n+\n+import org.eclipse.emf.ecore.EObject;\n+import org.eclipse.xtext.parser.parameters.parametersTestLanguage.ParserRuleParameters;\n+import org.eclipse.xtext.resource.XtextResource;\n+import org.eclipse.xtext.tests.AbstractXtextTests;\n+import org.junit.Assert;\n+import org.junit.Test;\n+\n+import com.google.common.collect.Iterables;\n+import com.google.inject.Injector;\n+\n+/**\n+ * @author Sebastian Zarnekow - Initial contribution and API\n+ */\n+public abstract class AbstractParametersParsingTest extends AbstractXtextTests {\n+\t@Override\n+\tprotected void setInjector(Injector injector) {\n+\t\tsuper.setInjector(injector);\n+\t\tinjectMembers(this);\n+\t}\n+\n+\t@Override\n+\tprotected boolean shouldTestSerializer(XtextResource resource) {\n+\t\treturn false;\n+\t}\n+\n+\t@Override\n+\tpublic ParserRuleParameters getModel(String model) throws Exception {\n+\t\tEObject _model = super.getModel(model);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a1c67c88510a5b8dfe793b165ac7de89d031bc61"}, "originalPosition": 38}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDE4NTQxMg==", "bodyText": "Extra ((", "url": "https://github.com/eclipse/xtext-core/pull/1474#discussion_r420185412", "createdAt": "2020-05-05T15:10:07Z", "author": {"login": "nbhusare"}, "path": "org.eclipse.xtext.tests/src/org/eclipse/xtext/parser/parameters/AbstractParametersParsingTest.java", "diffHunk": "@@ -0,0 +1,197 @@\n+/**\n+ * Copyright (c) 2015, 2020 itemis AG (http://www.itemis.eu) and others.\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0.\n+ * \n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.eclipse.xtext.parser.parameters;\n+\n+import org.eclipse.emf.ecore.EObject;\n+import org.eclipse.xtext.parser.parameters.parametersTestLanguage.ParserRuleParameters;\n+import org.eclipse.xtext.resource.XtextResource;\n+import org.eclipse.xtext.tests.AbstractXtextTests;\n+import org.junit.Assert;\n+import org.junit.Test;\n+\n+import com.google.common.collect.Iterables;\n+import com.google.inject.Injector;\n+\n+/**\n+ * @author Sebastian Zarnekow - Initial contribution and API\n+ */\n+public abstract class AbstractParametersParsingTest extends AbstractXtextTests {\n+\t@Override\n+\tprotected void setInjector(Injector injector) {\n+\t\tsuper.setInjector(injector);\n+\t\tinjectMembers(this);\n+\t}\n+\n+\t@Override\n+\tprotected boolean shouldTestSerializer(XtextResource resource) {\n+\t\treturn false;\n+\t}\n+\n+\t@Override\n+\tpublic ParserRuleParameters getModel(String model) throws Exception {\n+\t\tEObject _model = super.getModel(model);\n+\t\treturn ((ParserRuleParameters) _model);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a1c67c88510a5b8dfe793b165ac7de89d031bc61"}, "originalPosition": 39}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDE4NTY0Ng==", "bodyText": "_modelAndExpect -> modelAndExpect", "url": "https://github.com/eclipse/xtext-core/pull/1474#discussion_r420185646", "createdAt": "2020-05-05T15:10:25Z", "author": {"login": "nbhusare"}, "path": "org.eclipse.xtext.tests/src/org/eclipse/xtext/parser/parameters/AbstractParametersParsingTest.java", "diffHunk": "@@ -0,0 +1,197 @@\n+/**\n+ * Copyright (c) 2015, 2020 itemis AG (http://www.itemis.eu) and others.\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0.\n+ * \n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.eclipse.xtext.parser.parameters;\n+\n+import org.eclipse.emf.ecore.EObject;\n+import org.eclipse.xtext.parser.parameters.parametersTestLanguage.ParserRuleParameters;\n+import org.eclipse.xtext.resource.XtextResource;\n+import org.eclipse.xtext.tests.AbstractXtextTests;\n+import org.junit.Assert;\n+import org.junit.Test;\n+\n+import com.google.common.collect.Iterables;\n+import com.google.inject.Injector;\n+\n+/**\n+ * @author Sebastian Zarnekow - Initial contribution and API\n+ */\n+public abstract class AbstractParametersParsingTest extends AbstractXtextTests {\n+\t@Override\n+\tprotected void setInjector(Injector injector) {\n+\t\tsuper.setInjector(injector);\n+\t\tinjectMembers(this);\n+\t}\n+\n+\t@Override\n+\tprotected boolean shouldTestSerializer(XtextResource resource) {\n+\t\treturn false;\n+\t}\n+\n+\t@Override\n+\tpublic ParserRuleParameters getModel(String model) throws Exception {\n+\t\tEObject _model = super.getModel(model);\n+\t\treturn ((ParserRuleParameters) _model);\n+\t}\n+\n+\tprotected ParserRuleParameters getModelWithErrors(String model) throws Exception {\n+\t\tEObject _modelAndExpect = getModelAndExpect(model, AbstractXtextTests.EXPECT_ERRORS);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a1c67c88510a5b8dfe793b165ac7de89d031bc61"}, "originalPosition": 43}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDE4NjI2MA==", "bodyText": "_parametersTestLanguageStandaloneSetup -> parametersTestLanguageStandaloneSetup for consistency", "url": "https://github.com/eclipse/xtext-core/pull/1474#discussion_r420186260", "createdAt": "2020-05-05T15:11:17Z", "author": {"login": "nbhusare"}, "path": "org.eclipse.xtext.tests/src/org/eclipse/xtext/parser/parameters/ParametersParsingTest.java", "diffHunk": "@@ -0,0 +1,23 @@\n+/**\n+ * Copyright (c) 2015, 2020 itemis AG (http://www.itemis.eu) and others.\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0.\n+ * \n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.eclipse.xtext.parser.parameters;\n+\n+/**\n+ * @author Sebastian Zarnekow - Initial contribution and API\n+ */\n+public class ParametersParsingTest extends AbstractParametersParsingTest {\n+\tprivate ParametersTestLanguageStandaloneSetup _parametersTestLanguageStandaloneSetup;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a1c67c88510a5b8dfe793b165ac7de89d031bc61"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDE4NjQ2NQ==", "bodyText": "_parametersTestLanguageStandaloneSetup -> parametersTestLanguageStandaloneSetup", "url": "https://github.com/eclipse/xtext-core/pull/1474#discussion_r420186465", "createdAt": "2020-05-05T15:11:34Z", "author": {"login": "nbhusare"}, "path": "org.eclipse.xtext.tests/src/org/eclipse/xtext/parser/parameters/ParametersParsingTest.java", "diffHunk": "@@ -0,0 +1,23 @@\n+/**\n+ * Copyright (c) 2015, 2020 itemis AG (http://www.itemis.eu) and others.\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0.\n+ * \n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.eclipse.xtext.parser.parameters;\n+\n+/**\n+ * @author Sebastian Zarnekow - Initial contribution and API\n+ */\n+public class ParametersParsingTest extends AbstractParametersParsingTest {\n+\tprivate ParametersTestLanguageStandaloneSetup _parametersTestLanguageStandaloneSetup;\n+\n+\t@Override\n+\tpublic void setUp() throws Exception {\n+\t\tsuper.setUp();\n+\t\t_parametersTestLanguageStandaloneSetup = new ParametersTestLanguageStandaloneSetup();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a1c67c88510a5b8dfe793b165ac7de89d031bc61"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDE4ODQ1Mg==", "bodyText": "You might like to use Collections.emptyMap() here.", "url": "https://github.com/eclipse/xtext-core/pull/1474#discussion_r420188452", "createdAt": "2020-05-05T15:14:14Z", "author": {"login": "nbhusare"}, "path": "org.eclipse.xtext.tests/src/org/eclipse/xtext/resource/ResourceSetTest.java", "diffHunk": "@@ -0,0 +1,22 @@\n+/**\n+ * Copyright (c) 2012, 2020 itemis AG (http://www.itemis.eu) and others.\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0.\n+ * \n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.eclipse.xtext.resource;\n+\n+import java.util.HashMap;\n+\n+import org.eclipse.emf.ecore.resource.impl.ResourceSetImpl;\n+\n+public class ResourceSetTest extends AbstractResourceSetTest {\n+\t@Override\n+\tprotected ResourceSetImpl createEmptyResourceSet() {\n+\t\tResourceSetImpl rs = new ResourceSetImpl();\n+\t\trs.setURIResourceMap(new HashMap<>());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a1c67c88510a5b8dfe793b165ac7de89d031bc61"}, "originalPosition": 19}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a1c67c88510a5b8dfe793b165ac7de89d031bc61", "author": {"user": {"login": "cdietrich", "name": "Christian Dietrich"}}, "url": "https://github.com/eclipse/xtext-core/commit/a1c67c88510a5b8dfe793b165ac7de89d031bc61", "committedDate": "2020-05-04T18:26:28Z", "message": "[eclipse/xtext#1679]ported test code to java\n\nSigned-off-by: Christian Dietrich <christian.dietrich@itemis.de>"}, "afterCommit": {"oid": "c1a39a47b697b098770f1db02ffda72db46ef992", "author": {"user": {"login": "cdietrich", "name": "Christian Dietrich"}}, "url": "https://github.com/eclipse/xtext-core/commit/c1a39a47b697b098770f1db02ffda72db46ef992", "committedDate": "2020-05-05T15:08:46Z", "message": "[eclipse/xtext#1679]ported test code to java\n\nSigned-off-by: Christian Dietrich <christian.dietrich@itemis.de>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "16d926c7f3c31ee2726386d98f717fe0ad590262", "author": {"user": {"login": "cdietrich", "name": "Christian Dietrich"}}, "url": "https://github.com/eclipse/xtext-core/commit/16d926c7f3c31ee2726386d98f717fe0ad590262", "committedDate": "2020-05-05T15:26:08Z", "message": "[eclipse/xtext#1679]ported test code to java\n\nSigned-off-by: Christian Dietrich <christian.dietrich@itemis.de>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c1a39a47b697b098770f1db02ffda72db46ef992", "author": {"user": {"login": "cdietrich", "name": "Christian Dietrich"}}, "url": "https://github.com/eclipse/xtext-core/commit/c1a39a47b697b098770f1db02ffda72db46ef992", "committedDate": "2020-05-05T15:08:46Z", "message": "[eclipse/xtext#1679]ported test code to java\n\nSigned-off-by: Christian Dietrich <christian.dietrich@itemis.de>"}, "afterCommit": {"oid": "16d926c7f3c31ee2726386d98f717fe0ad590262", "author": {"user": {"login": "cdietrich", "name": "Christian Dietrich"}}, "url": "https://github.com/eclipse/xtext-core/commit/16d926c7f3c31ee2726386d98f717fe0ad590262", "committedDate": "2020-05-05T15:26:08Z", "message": "[eclipse/xtext#1679]ported test code to java\n\nSigned-off-by: Christian Dietrich <christian.dietrich@itemis.de>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA3Mjc1NDM0", "url": "https://github.com/eclipse/xtext-core/pull/1474#pullrequestreview-407275434", "createdAt": "2020-05-07T08:54:12Z", "commit": {"oid": "16d926c7f3c31ee2726386d98f717fe0ad590262"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QwODo1NDoxM1rOGR068Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QwODo1NDoxM1rOGR068Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTM0NjAzMw==", "bodyText": "Interesting ... custom Setup + InjectorProvider ...", "url": "https://github.com/eclipse/xtext-core/pull/1474#discussion_r421346033", "createdAt": "2020-05-07T08:54:13Z", "author": {"login": "szarnekow"}, "path": "org.eclipse.xtext.tests/src/org/eclipse/xtext/xtext/Issue1161Test.java", "diffHunk": "@@ -0,0 +1,169 @@\n+/**\n+ * Copyright (c) 2019, 2020 Malardalen University (http://www.mdh.se) and others.\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0.\n+ * \n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.eclipse.xtext.xtext;\n+\n+import org.eclipse.xtext.Grammar;\n+import org.eclipse.xtext.XtextPackage;\n+import org.eclipse.xtext.XtextRuntimeModule;\n+import org.eclipse.xtext.XtextStandaloneSetup;\n+import org.eclipse.xtext.diagnostics.Severity;\n+import org.eclipse.xtext.preferences.IPreferenceValuesProvider;\n+import org.eclipse.xtext.preferences.MapBasedPreferenceValues;\n+import org.eclipse.xtext.testing.InjectWith;\n+import org.eclipse.xtext.testing.XtextRunner;\n+import org.eclipse.xtext.testing.util.ParseHelper;\n+import org.eclipse.xtext.testing.validation.ValidationTestHelper;\n+import org.eclipse.xtext.tests.AbstractXtextTests;\n+import org.eclipse.xtext.tests.XtextInjectorProvider;\n+import org.junit.After;\n+import org.junit.Before;\n+import org.junit.Test;\n+import org.junit.runner.RunWith;\n+\n+import com.google.inject.Guice;\n+import com.google.inject.Inject;\n+import com.google.inject.Injector;\n+\n+/**\n+ * @author Lorenzo Addazi - Initial contribution and API\n+ */\n+@RunWith(XtextRunner.class)\n+@InjectWith(XtextInjectorProvider.class)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "16d926c7f3c31ee2726386d98f717fe0ad590262"}, "originalPosition": 37}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA3Mjc1OTc2", "url": "https://github.com/eclipse/xtext-core/pull/1474#pullrequestreview-407275976", "createdAt": "2020-05-07T08:54:51Z", "commit": {"oid": "16d926c7f3c31ee2726386d98f717fe0ad590262"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4782, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}