{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI4NjU0MjE4", "number": 1631, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yN1QxNjoxNjo1N1rOE-DC4Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yN1QxNjoxNjo1N1rOE-DC4Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMzNDk3MDU3OnYy", "diffSide": "RIGHT", "path": "org.eclipse.xtext.tests/src/org/eclipse/xtext/formatting2/internal/JavaFormatterGrammarTest.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yN1QxNjoxNjo1N1rOH7DaQQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yN1QxNjoxNjo1N1rOH7DaQQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTY4MzkwNQ==", "bodyText": "wonder if simply using a real tab makes this more readable", "url": "https://github.com/eclipse/xtext-core/pull/1631#discussion_r531683905", "createdAt": "2020-11-27T16:16:57Z", "author": {"login": "cdietrich"}, "path": "org.eclipse.xtext.tests/src/org/eclipse/xtext/formatting2/internal/JavaFormatterGrammarTest.java", "diffHunk": "@@ -181,7 +181,223 @@ public void conjunctedGuardExpressions() {\n \t\t\t\t);\n \t\t// @formatter:on\n \t}\n-\t\n+\n+\t@Test\n+\tpublic void bug287941TestLanguage() {\n+\t\t// @formatter:off\n+\t\tassertFormattedGrammar(\n+\t\t\t\t\"WhereEntry returns WhereEntry:\" + NL +\n+\t\t\t\tTAB + \"AndWhereEntry ({OrWhereEntry.entries+=current} \" + NL +\n+\t\t\t\tTAB + TAB + \"(\\\"or\\\" entries+=AndWhereEntry)+)?\" + NL +\n+\t\t\t\t\";\"\n+\t\t\t\t,\n+\t\t\t\t\"WhereEntry returns WhereEntry:\" + NL +\n+\t\t\t\tTAB + \"AndWhereEntry ({OrWhereEntry.entries+=current}\" + NL +\n+\t\t\t\tTAB + \"(\\\"or\\\" entries+=AndWhereEntry)+)?;\"\n+\t\t\t\t);\n+\t\t// @formatter:on\n+\t}\n+\n+\t@Test\n+\tpublic void codetemplates() {\n+\t\t// @formatter:off\n+\t\tassertFormattedGrammar(\n+\t\t\t\t\"Codetemplate:\" + NL +\n+\t\t\t\t\"  name=ValidID '(' id=ID ',' description = STRING ')' 'for' \" + NL +\n+\t\t\t\t\"        (context=[xtext::AbstractRule|ValidID] | keywordContext=STRING) \" + NL +\n+\t\t\t\t\"    body = TemplateBodyWithQuotes\" + NL +\n+\t\t\t\t\"  ; \"\n+\t\t\t\t,\n+\t\t\t\t\"Codetemplate:\" + NL +\n+\t\t\t\tTAB + \"name=ValidID '(' id=ID ',' description=STRING ')' 'for'\" + NL +\n+\t\t\t\tTAB + \"(context=[xtext::AbstractRule|ValidID] | keywordContext=STRING)\" + NL +\n+\t\t\t\tTAB + \"body=TemplateBodyWithQuotes;\"\n+\t\t\t\t);\n+\t\t// @formatter:on\n+\t}\n+\n+\t@Test\n+\tpublic void bug297105TestLanguage() {\n+\t\t// @formatter:off\n+\t\tassertFormattedGrammar(\n+\t\t\t\t\"Real hidden(): INT ? '.' (EXT_INT | INT);\"\n+\t\t\t\t,\n+\t\t\t\t\"Real hidden():\" + NL +\n+\t\t\t\tTAB + \"INT? '.' (EXT_INT | INT);\"\n+\t\t\t\t);\n+\t\t// @formatter:on\n+\t}\n+\n+\t@Test\n+\tpublic void xtextGrammarTestLanguage() {\n+\t\t// @formatter:off\n+\t\tassertFormattedGrammar(\n+\t\t\t\t\"ParserRule :\" + NL +\n+\t\t\t\t\"(\" + NL +\n+\t\t\t\tTAB +   \"  ^fragment?='fragment' RuleNameAndParams (wildcard?='*' | ReturnsClause?) \" + NL +\n+\t\t\t\tTAB + \"| RuleNameAndParams ReturnsClause?\" + NL +\n+\t\t\t\tTAB + \")\" + NL +\n+\t\t\t\tTAB + \"HiddenClause? ':'\" + NL +\n+\t\t\t\t\"   \" + TAB + \"alternatives=Alternatives   \" + NL +\n+\t\t\t\t\"    ';'\" + NL +\n+\t\t\t\t\";\"\n+\t\t\t\t,\n+\t\t\t\t\"ParserRule:\" + NL +\n+\t\t\t\tTAB + \"(^fragment?='fragment' RuleNameAndParams (wildcard?='*' | ReturnsClause?)\" + NL +\n+\t\t\t\tTAB + \"| RuleNameAndParams ReturnsClause?)\" + NL +\n+\t\t\t\tTAB + \"HiddenClause? ':'\" + NL +\n+\t\t\t\tTAB + \"alternatives=Alternatives\" + NL +\n+\t\t\t\tTAB + \"';';\"\n+\t\t\t\t);\n+\t\t// @formatter:on\n+\t}\n+\n+\t@Test\n+\tpublic void qualifiedTypes() {\n+\t\t// @formatter:off\n+\t\tassertFormattedGrammar(\n+\t\t\t\t\"AType returns root::AType:\" + NL +\n+\t\t\t\tTAB + \"'foo' {root::AType};\"\n+\t\t\t\t,\n+\t\t\t\t\"AType returns root::AType:\" + NL +\n+\t\t\t\tTAB + \"'foo' {root::AType};\"\n+\t\t\t\t);\n+\t\t// @formatter:on\n+\t}\n+\n+\t@Test\n+\tpublic void qualifiedTypes2() {\n+\t\t// @formatter:off\n+\t\tassertFormattedGrammar(\n+\t\t\t\t\"AType returns root :: AType :\" + NL +\n+\t\t\t\tTAB + \"'foo' { root :: AType };\"\n+\t\t\t\t,\n+\t\t\t\t\"AType returns root::AType:\" + NL +\n+\t\t\t\tTAB + \"'foo' {root::AType};\"\n+\t\t\t\t);\n+\t\t// @formatter:on\n+\t}\n+\n+\t@Test\n+\tpublic void pureXbase() {\n+\t\t// @formatter:off\n+\t\tassertFormattedGrammar(\n+\t\t\t\t\"@Override \" + NL +\n+\t\t\t\t\"XAssignment returns xbase::XExpression :\" + NL +\n+\t\t\t\t\"\t{xbase::XAssignment} feature=[types::JvmIdentifiableElement|FeatureCallID] OpSingleAssign value=XAssignment |\" + NL +\n+\t\t\t\t\"\tXConditionalExpression (\" + NL +\n+\t\t\t\t\"\t\t=>({xbase::XBinaryOperation.leftOperand=current} feature=[types::JvmIdentifiableElement|OpMultiAssign]) rightOperand=XAssignment\" + NL +\n+\t\t\t\t\"\t)?;\"\n+\t\t\t\t,\n+\t\t\t\t\"@Override\" + NL +\n+\t\t\t\t\"XAssignment returns xbase::XExpression:\" + NL +\n+\t\t\t\tTAB + \"{xbase::XAssignment} feature=[types::JvmIdentifiableElement|FeatureCallID] OpSingleAssign value=XAssignment |\" + NL +\n+\t\t\t\tTAB + \"XConditionalExpression (=>({xbase::XBinaryOperation.leftOperand=current}\" + NL +\n+\t\t\t\tTAB + \"feature=[types::JvmIdentifiableElement|OpMultiAssign]) rightOperand=XAssignment)?;\"\n+\t\t\t\t);\n+\t\t// @formatter:on\n+\t}\n+\n+\t@Test\n+\tpublic void pureXbase2() {\n+\t\t// @formatter:off\n+\t\tassertFormattedGrammar(\n+\t\t\t\t\"XClosure returns XExpression:\" + NL +\n+\t\t\t\t\"\t=>({XClosure}\" + NL +\n+\t\t\t\t\"\t'[')\" + NL +\n+\t\t\t\t\"\t\t=>((declaredFormalParameters+=JvmFormalParameter (',' declaredFormalParameters+=JvmFormalParameter)*)? explicitSyntax?='|')?\" + NL +\n+\t\t\t\t\"\t\texpression=XExpressionInClosure\" + NL +\n+\t\t\t\t\"\t']';\"\n+\t\t\t\t,\n+\t\t\t\t\"XClosure returns XExpression:\" + NL +\n+\t\t\t\tTAB + \"=>({XClosure}\" + NL +", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2c2d5b987e68c54143d28abefb0bbeae41448ce7"}, "originalPosition": 152}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1022, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}