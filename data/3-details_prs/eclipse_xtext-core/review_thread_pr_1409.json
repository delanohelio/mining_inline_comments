{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgzNzY1MzYw", "number": 1409, "reviewThreads": {"totalCount": 32, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQwODo1NzoyNFrODlVmHQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxMzoxNTo0M1rODlautA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQwNDc3NzI1OnYy", "diffSide": "RIGHT", "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/editor/bracketmatching/DefaultBracePairProvider.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQwODo1NzoyNFrOFyLCzg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQwODo1NzoyNFrOFyLCzg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODE1NDA2Mg==", "bodyText": "Not a big fan of these here.\nImmutableSet.of(..) may be the better choice.", "url": "https://github.com/eclipse/xtext-core/pull/1409#discussion_r388154062", "createdAt": "2020-03-05T08:57:24Z", "author": {"login": "szarnekow"}, "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/editor/bracketmatching/DefaultBracePairProvider.java", "diffHunk": "@@ -0,0 +1,37 @@\n+/**\n+ * Copyright (c) 2015, 2020 itemis AG (http://www.itemis.eu) and others.\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0.\n+ * \n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.eclipse.xtext.ide.editor.bracketmatching;\n+\n+import java.util.Collections;\n+import java.util.Set;\n+\n+import org.eclipse.xtext.xbase.lib.CollectionLiterals;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d1bad0e5d09d5362c680ef2ad3d79cc2bf30425d"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQwNDc4Mjk0OnYy", "diffSide": "RIGHT", "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/editor/bracketmatching/BracePair.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQwODo1OTowNlrOFyLGUg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxMjo1MzozMFrOFySYBQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODE1NDk2Mg==", "bodyText": "Is there an implicit assumption that these are strings of the length 1?", "url": "https://github.com/eclipse/xtext-core/pull/1409#discussion_r388154962", "createdAt": "2020-03-05T08:59:06Z", "author": {"login": "szarnekow"}, "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/editor/bracketmatching/BracePair.java", "diffHunk": "@@ -0,0 +1,99 @@\n+/**\n+ * Copyright (c) 2015, 2020 itemis AG (http://www.itemis.eu) and others.\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0.\n+ * \n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.eclipse.xtext.ide.editor.bracketmatching;\n+\n+import org.eclipse.xtext.xbase.lib.util.ToStringBuilder;\n+\n+/**\n+ * Defines a single pair of braces which need to be matched when editing code.\n+ * \n+ * @author kosyakov - Initial contribution and API\n+ */\n+public class BracePair {\n+\t/**\n+\t * The length of a left brace should be one character for Eclipse.\n+\t */\n+\tprivate final String leftBrace;\n+\n+\t/**\n+\t * The length of a right brace should be one character for Eclipse.\n+\t */\n+\tprivate final String rightBrace;\n+\n+\t/**\n+\t * True if the brace is structural. Structural braces have higher priority than regular braces: they are matched\n+\t * with each other even if there are unmatched braces of other types between them, and an opening non-structural\n+\t * brace is not matched with a closing one if one of them is outside a pair of matched structural braces and another\n+\t * is outside. In Java code, the curly braces are structural.\n+\t * \n+\t * It is ignored by Eclipse.\n+\t */\n+\tprivate final boolean structural;\n+\n+\tpublic BracePair(String leftBrace, String rightBrace, boolean structural) {\n+\t\tthis.leftBrace = leftBrace;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d1bad0e5d09d5362c680ef2ad3d79cc2bf30425d"}, "originalPosition": 40}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODE3MTM4Ng==", "bodyText": "no idea. did not look into.", "url": "https://github.com/eclipse/xtext-core/pull/1409#discussion_r388171386", "createdAt": "2020-03-05T09:29:34Z", "author": {"login": "cdietrich"}, "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/editor/bracketmatching/BracePair.java", "diffHunk": "@@ -0,0 +1,99 @@\n+/**\n+ * Copyright (c) 2015, 2020 itemis AG (http://www.itemis.eu) and others.\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0.\n+ * \n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.eclipse.xtext.ide.editor.bracketmatching;\n+\n+import org.eclipse.xtext.xbase.lib.util.ToStringBuilder;\n+\n+/**\n+ * Defines a single pair of braces which need to be matched when editing code.\n+ * \n+ * @author kosyakov - Initial contribution and API\n+ */\n+public class BracePair {\n+\t/**\n+\t * The length of a left brace should be one character for Eclipse.\n+\t */\n+\tprivate final String leftBrace;\n+\n+\t/**\n+\t * The length of a right brace should be one character for Eclipse.\n+\t */\n+\tprivate final String rightBrace;\n+\n+\t/**\n+\t * True if the brace is structural. Structural braces have higher priority than regular braces: they are matched\n+\t * with each other even if there are unmatched braces of other types between them, and an opening non-structural\n+\t * brace is not matched with a closing one if one of them is outside a pair of matched structural braces and another\n+\t * is outside. In Java code, the curly braces are structural.\n+\t * \n+\t * It is ignored by Eclipse.\n+\t */\n+\tprivate final boolean structural;\n+\n+\tpublic BracePair(String leftBrace, String rightBrace, boolean structural) {\n+\t\tthis.leftBrace = leftBrace;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODE1NDk2Mg=="}, "originalCommit": {"oid": "d1bad0e5d09d5362c680ef2ad3d79cc2bf30425d"}, "originalPosition": 40}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODI3NDE4MQ==", "bodyText": "You could do a Preconditions.checkArgument(leftBrace.length() == 1);. At least the javadoc of the fields assumes these are length 1.", "url": "https://github.com/eclipse/xtext-core/pull/1409#discussion_r388274181", "createdAt": "2020-03-05T12:53:30Z", "author": {"login": "tivervac"}, "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/editor/bracketmatching/BracePair.java", "diffHunk": "@@ -0,0 +1,99 @@\n+/**\n+ * Copyright (c) 2015, 2020 itemis AG (http://www.itemis.eu) and others.\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0.\n+ * \n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.eclipse.xtext.ide.editor.bracketmatching;\n+\n+import org.eclipse.xtext.xbase.lib.util.ToStringBuilder;\n+\n+/**\n+ * Defines a single pair of braces which need to be matched when editing code.\n+ * \n+ * @author kosyakov - Initial contribution and API\n+ */\n+public class BracePair {\n+\t/**\n+\t * The length of a left brace should be one character for Eclipse.\n+\t */\n+\tprivate final String leftBrace;\n+\n+\t/**\n+\t * The length of a right brace should be one character for Eclipse.\n+\t */\n+\tprivate final String rightBrace;\n+\n+\t/**\n+\t * True if the brace is structural. Structural braces have higher priority than regular braces: they are matched\n+\t * with each other even if there are unmatched braces of other types between them, and an opening non-structural\n+\t * brace is not matched with a closing one if one of them is outside a pair of matched structural braces and another\n+\t * is outside. In Java code, the curly braces are structural.\n+\t * \n+\t * It is ignored by Eclipse.\n+\t */\n+\tprivate final boolean structural;\n+\n+\tpublic BracePair(String leftBrace, String rightBrace, boolean structural) {\n+\t\tthis.leftBrace = leftBrace;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODE1NDk2Mg=="}, "originalCommit": {"oid": "d1bad0e5d09d5362c680ef2ad3d79cc2bf30425d"}, "originalPosition": 40}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQwNDgwOTU0OnYy", "diffSide": "RIGHT", "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/server/ILanguageServerAccess.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQwOTowNzozMFrOFyLWvA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQwOTo0MjozNVrOFyMjmQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODE1OTE2NA==", "bodyText": "Stylistic: T extends Object is redundant.\nAlso: this should probably be Function<? super ILSA.Context, ? extends T>", "url": "https://github.com/eclipse/xtext-core/pull/1409#discussion_r388159164", "createdAt": "2020-03-05T09:07:30Z", "author": {"login": "szarnekow"}, "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/server/ILanguageServerAccess.java", "diffHunk": "@@ -0,0 +1,158 @@\n+/**\n+ * Copyright (c) 2016, 2020 TypeFox GmbH (http://www.typefox.io) and others.\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0.\n+ * \n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.eclipse.xtext.ide.server;\n+\n+import java.util.List;\n+import java.util.concurrent.CompletableFuture;\n+import java.util.function.Function;\n+\n+import org.eclipse.emf.common.util.URI;\n+import org.eclipse.emf.ecore.resource.Resource;\n+import org.eclipse.emf.ecore.resource.ResourceSet;\n+import org.eclipse.lsp4j.InitializeParams;\n+import org.eclipse.lsp4j.InitializeResult;\n+import org.eclipse.lsp4j.services.LanguageClient;\n+import org.eclipse.xtext.ide.serializer.IChangeSerializer;\n+import org.eclipse.xtext.resource.IResourceDescription;\n+import org.eclipse.xtext.resource.IResourceDescriptions;\n+import org.eclipse.xtext.resource.impl.ResourceDescriptionsProvider;\n+import org.eclipse.xtext.util.CancelIndicator;\n+import org.eclipse.xtext.xbase.lib.util.ToStringBuilder;\n+\n+/**\n+ * API for interacting with a running language server.\n+ * \n+ * @author Sven Efftinge - Initial contribution and API\n+ */\n+public interface ILanguageServerAccess {\n+\tclass Context {\n+\t\tprivate final Resource resource;\n+\n+\t\tprivate final Document document;\n+\n+\t\tprivate final boolean isDocumentOpen;\n+\n+\t\tprivate final CancelIndicator cancelChecker;\n+\n+\t\tpublic Context(Resource resource, Document document, boolean isDocumentOpen, CancelIndicator cancelChecker) {\n+\t\t\tthis.resource = resource;\n+\t\t\tthis.document = document;\n+\t\t\tthis.isDocumentOpen = isDocumentOpen;\n+\t\t\tthis.cancelChecker = cancelChecker;\n+\t\t}\n+\n+\t\t@Override\n+\t\tpublic String toString() {\n+\t\t\tToStringBuilder b = new ToStringBuilder(this);\n+\t\t\tb.add(\"resource\", resource);\n+\t\t\tb.add(\"document\", document);\n+\t\t\tb.add(\"isDocumentOpen\", isDocumentOpen);\n+\t\t\tb.add(\"cancelChecker\", cancelChecker);\n+\t\t\treturn b.toString();\n+\t\t}\n+\n+\t\tpublic Resource getResource() {\n+\t\t\treturn resource;\n+\t\t}\n+\n+\t\tpublic Document getDocument() {\n+\t\t\treturn document;\n+\t\t}\n+\n+\t\tpublic boolean isDocumentOpen() {\n+\t\t\treturn isDocumentOpen;\n+\t\t}\n+\n+\t\tpublic CancelIndicator getCancelChecker() {\n+\t\t\treturn cancelChecker;\n+\t\t}\n+\t}\n+\n+\tclass IndexContext {\n+\t\tprivate final IResourceDescriptions index;\n+\n+\t\tprivate final CancelIndicator cancelChecker;\n+\n+\t\tpublic IndexContext(IResourceDescriptions index, CancelIndicator cancelChecker) {\n+\t\t\tthis.index = index;\n+\t\t\tthis.cancelChecker = cancelChecker;\n+\t\t}\n+\n+\t\t@Override\n+\t\tpublic String toString() {\n+\t\t\tToStringBuilder b = new ToStringBuilder(this);\n+\t\t\tb.add(\"index\", index);\n+\t\t\tb.add(\"cancelChecker\", cancelChecker);\n+\t\t\treturn b.toString();\n+\t\t}\n+\n+\t\tpublic IResourceDescriptions getIndex() {\n+\t\t\treturn index;\n+\t\t}\n+\n+\t\tpublic CancelIndicator getCancelChecker() {\n+\t\t\treturn cancelChecker;\n+\t\t}\n+\t}\n+\n+\tinterface IBuildListener {\n+\t\tvoid afterBuild(List<IResourceDescription.Delta> deltas);\n+\t}\n+\n+\t/**\n+\t * provides read access to a fully resolved resource and Document.\n+\t */\n+\t<T extends Object> CompletableFuture<T> doRead(String uri, Function<ILanguageServerAccess.Context, T> function);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d1bad0e5d09d5362c680ef2ad3d79cc2bf30425d"}, "originalPosition": 111}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODE3MjE1Nw==", "bodyText": "will have a look", "url": "https://github.com/eclipse/xtext-core/pull/1409#discussion_r388172157", "createdAt": "2020-03-05T09:30:52Z", "author": {"login": "cdietrich"}, "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/server/ILanguageServerAccess.java", "diffHunk": "@@ -0,0 +1,158 @@\n+/**\n+ * Copyright (c) 2016, 2020 TypeFox GmbH (http://www.typefox.io) and others.\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0.\n+ * \n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.eclipse.xtext.ide.server;\n+\n+import java.util.List;\n+import java.util.concurrent.CompletableFuture;\n+import java.util.function.Function;\n+\n+import org.eclipse.emf.common.util.URI;\n+import org.eclipse.emf.ecore.resource.Resource;\n+import org.eclipse.emf.ecore.resource.ResourceSet;\n+import org.eclipse.lsp4j.InitializeParams;\n+import org.eclipse.lsp4j.InitializeResult;\n+import org.eclipse.lsp4j.services.LanguageClient;\n+import org.eclipse.xtext.ide.serializer.IChangeSerializer;\n+import org.eclipse.xtext.resource.IResourceDescription;\n+import org.eclipse.xtext.resource.IResourceDescriptions;\n+import org.eclipse.xtext.resource.impl.ResourceDescriptionsProvider;\n+import org.eclipse.xtext.util.CancelIndicator;\n+import org.eclipse.xtext.xbase.lib.util.ToStringBuilder;\n+\n+/**\n+ * API for interacting with a running language server.\n+ * \n+ * @author Sven Efftinge - Initial contribution and API\n+ */\n+public interface ILanguageServerAccess {\n+\tclass Context {\n+\t\tprivate final Resource resource;\n+\n+\t\tprivate final Document document;\n+\n+\t\tprivate final boolean isDocumentOpen;\n+\n+\t\tprivate final CancelIndicator cancelChecker;\n+\n+\t\tpublic Context(Resource resource, Document document, boolean isDocumentOpen, CancelIndicator cancelChecker) {\n+\t\t\tthis.resource = resource;\n+\t\t\tthis.document = document;\n+\t\t\tthis.isDocumentOpen = isDocumentOpen;\n+\t\t\tthis.cancelChecker = cancelChecker;\n+\t\t}\n+\n+\t\t@Override\n+\t\tpublic String toString() {\n+\t\t\tToStringBuilder b = new ToStringBuilder(this);\n+\t\t\tb.add(\"resource\", resource);\n+\t\t\tb.add(\"document\", document);\n+\t\t\tb.add(\"isDocumentOpen\", isDocumentOpen);\n+\t\t\tb.add(\"cancelChecker\", cancelChecker);\n+\t\t\treturn b.toString();\n+\t\t}\n+\n+\t\tpublic Resource getResource() {\n+\t\t\treturn resource;\n+\t\t}\n+\n+\t\tpublic Document getDocument() {\n+\t\t\treturn document;\n+\t\t}\n+\n+\t\tpublic boolean isDocumentOpen() {\n+\t\t\treturn isDocumentOpen;\n+\t\t}\n+\n+\t\tpublic CancelIndicator getCancelChecker() {\n+\t\t\treturn cancelChecker;\n+\t\t}\n+\t}\n+\n+\tclass IndexContext {\n+\t\tprivate final IResourceDescriptions index;\n+\n+\t\tprivate final CancelIndicator cancelChecker;\n+\n+\t\tpublic IndexContext(IResourceDescriptions index, CancelIndicator cancelChecker) {\n+\t\t\tthis.index = index;\n+\t\t\tthis.cancelChecker = cancelChecker;\n+\t\t}\n+\n+\t\t@Override\n+\t\tpublic String toString() {\n+\t\t\tToStringBuilder b = new ToStringBuilder(this);\n+\t\t\tb.add(\"index\", index);\n+\t\t\tb.add(\"cancelChecker\", cancelChecker);\n+\t\t\treturn b.toString();\n+\t\t}\n+\n+\t\tpublic IResourceDescriptions getIndex() {\n+\t\t\treturn index;\n+\t\t}\n+\n+\t\tpublic CancelIndicator getCancelChecker() {\n+\t\t\treturn cancelChecker;\n+\t\t}\n+\t}\n+\n+\tinterface IBuildListener {\n+\t\tvoid afterBuild(List<IResourceDescription.Delta> deltas);\n+\t}\n+\n+\t/**\n+\t * provides read access to a fully resolved resource and Document.\n+\t */\n+\t<T extends Object> CompletableFuture<T> doRead(String uri, Function<ILanguageServerAccess.Context, T> function);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODE1OTE2NA=="}, "originalCommit": {"oid": "d1bad0e5d09d5362c680ef2ad3d79cc2bf30425d"}, "originalPosition": 111}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODE3ODg0MQ==", "bodyText": "this would break clients like LanguageServerImpl", "url": "https://github.com/eclipse/xtext-core/pull/1409#discussion_r388178841", "createdAt": "2020-03-05T09:42:35Z", "author": {"login": "cdietrich"}, "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/server/ILanguageServerAccess.java", "diffHunk": "@@ -0,0 +1,158 @@\n+/**\n+ * Copyright (c) 2016, 2020 TypeFox GmbH (http://www.typefox.io) and others.\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0.\n+ * \n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.eclipse.xtext.ide.server;\n+\n+import java.util.List;\n+import java.util.concurrent.CompletableFuture;\n+import java.util.function.Function;\n+\n+import org.eclipse.emf.common.util.URI;\n+import org.eclipse.emf.ecore.resource.Resource;\n+import org.eclipse.emf.ecore.resource.ResourceSet;\n+import org.eclipse.lsp4j.InitializeParams;\n+import org.eclipse.lsp4j.InitializeResult;\n+import org.eclipse.lsp4j.services.LanguageClient;\n+import org.eclipse.xtext.ide.serializer.IChangeSerializer;\n+import org.eclipse.xtext.resource.IResourceDescription;\n+import org.eclipse.xtext.resource.IResourceDescriptions;\n+import org.eclipse.xtext.resource.impl.ResourceDescriptionsProvider;\n+import org.eclipse.xtext.util.CancelIndicator;\n+import org.eclipse.xtext.xbase.lib.util.ToStringBuilder;\n+\n+/**\n+ * API for interacting with a running language server.\n+ * \n+ * @author Sven Efftinge - Initial contribution and API\n+ */\n+public interface ILanguageServerAccess {\n+\tclass Context {\n+\t\tprivate final Resource resource;\n+\n+\t\tprivate final Document document;\n+\n+\t\tprivate final boolean isDocumentOpen;\n+\n+\t\tprivate final CancelIndicator cancelChecker;\n+\n+\t\tpublic Context(Resource resource, Document document, boolean isDocumentOpen, CancelIndicator cancelChecker) {\n+\t\t\tthis.resource = resource;\n+\t\t\tthis.document = document;\n+\t\t\tthis.isDocumentOpen = isDocumentOpen;\n+\t\t\tthis.cancelChecker = cancelChecker;\n+\t\t}\n+\n+\t\t@Override\n+\t\tpublic String toString() {\n+\t\t\tToStringBuilder b = new ToStringBuilder(this);\n+\t\t\tb.add(\"resource\", resource);\n+\t\t\tb.add(\"document\", document);\n+\t\t\tb.add(\"isDocumentOpen\", isDocumentOpen);\n+\t\t\tb.add(\"cancelChecker\", cancelChecker);\n+\t\t\treturn b.toString();\n+\t\t}\n+\n+\t\tpublic Resource getResource() {\n+\t\t\treturn resource;\n+\t\t}\n+\n+\t\tpublic Document getDocument() {\n+\t\t\treturn document;\n+\t\t}\n+\n+\t\tpublic boolean isDocumentOpen() {\n+\t\t\treturn isDocumentOpen;\n+\t\t}\n+\n+\t\tpublic CancelIndicator getCancelChecker() {\n+\t\t\treturn cancelChecker;\n+\t\t}\n+\t}\n+\n+\tclass IndexContext {\n+\t\tprivate final IResourceDescriptions index;\n+\n+\t\tprivate final CancelIndicator cancelChecker;\n+\n+\t\tpublic IndexContext(IResourceDescriptions index, CancelIndicator cancelChecker) {\n+\t\t\tthis.index = index;\n+\t\t\tthis.cancelChecker = cancelChecker;\n+\t\t}\n+\n+\t\t@Override\n+\t\tpublic String toString() {\n+\t\t\tToStringBuilder b = new ToStringBuilder(this);\n+\t\t\tb.add(\"index\", index);\n+\t\t\tb.add(\"cancelChecker\", cancelChecker);\n+\t\t\treturn b.toString();\n+\t\t}\n+\n+\t\tpublic IResourceDescriptions getIndex() {\n+\t\t\treturn index;\n+\t\t}\n+\n+\t\tpublic CancelIndicator getCancelChecker() {\n+\t\t\treturn cancelChecker;\n+\t\t}\n+\t}\n+\n+\tinterface IBuildListener {\n+\t\tvoid afterBuild(List<IResourceDescription.Delta> deltas);\n+\t}\n+\n+\t/**\n+\t * provides read access to a fully resolved resource and Document.\n+\t */\n+\t<T extends Object> CompletableFuture<T> doRead(String uri, Function<ILanguageServerAccess.Context, T> function);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODE1OTE2NA=="}, "originalCommit": {"oid": "d1bad0e5d09d5362c680ef2ad3d79cc2bf30425d"}, "originalPosition": 111}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQwNDgxNDUzOnYy", "diffSide": "RIGHT", "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/server/ILanguageServerAccess.java", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQwOTowOTowMlrOFyLZuQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxMzowMTo1NFrOFySoFQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODE1OTkyOQ==", "bodyText": "Not strictly related: There is no removeBuildListener.\nShould we add an empty default method + impl in our code?", "url": "https://github.com/eclipse/xtext-core/pull/1409#discussion_r388159929", "createdAt": "2020-03-05T09:09:02Z", "author": {"login": "szarnekow"}, "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/server/ILanguageServerAccess.java", "diffHunk": "@@ -0,0 +1,158 @@\n+/**\n+ * Copyright (c) 2016, 2020 TypeFox GmbH (http://www.typefox.io) and others.\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0.\n+ * \n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.eclipse.xtext.ide.server;\n+\n+import java.util.List;\n+import java.util.concurrent.CompletableFuture;\n+import java.util.function.Function;\n+\n+import org.eclipse.emf.common.util.URI;\n+import org.eclipse.emf.ecore.resource.Resource;\n+import org.eclipse.emf.ecore.resource.ResourceSet;\n+import org.eclipse.lsp4j.InitializeParams;\n+import org.eclipse.lsp4j.InitializeResult;\n+import org.eclipse.lsp4j.services.LanguageClient;\n+import org.eclipse.xtext.ide.serializer.IChangeSerializer;\n+import org.eclipse.xtext.resource.IResourceDescription;\n+import org.eclipse.xtext.resource.IResourceDescriptions;\n+import org.eclipse.xtext.resource.impl.ResourceDescriptionsProvider;\n+import org.eclipse.xtext.util.CancelIndicator;\n+import org.eclipse.xtext.xbase.lib.util.ToStringBuilder;\n+\n+/**\n+ * API for interacting with a running language server.\n+ * \n+ * @author Sven Efftinge - Initial contribution and API\n+ */\n+public interface ILanguageServerAccess {\n+\tclass Context {\n+\t\tprivate final Resource resource;\n+\n+\t\tprivate final Document document;\n+\n+\t\tprivate final boolean isDocumentOpen;\n+\n+\t\tprivate final CancelIndicator cancelChecker;\n+\n+\t\tpublic Context(Resource resource, Document document, boolean isDocumentOpen, CancelIndicator cancelChecker) {\n+\t\t\tthis.resource = resource;\n+\t\t\tthis.document = document;\n+\t\t\tthis.isDocumentOpen = isDocumentOpen;\n+\t\t\tthis.cancelChecker = cancelChecker;\n+\t\t}\n+\n+\t\t@Override\n+\t\tpublic String toString() {\n+\t\t\tToStringBuilder b = new ToStringBuilder(this);\n+\t\t\tb.add(\"resource\", resource);\n+\t\t\tb.add(\"document\", document);\n+\t\t\tb.add(\"isDocumentOpen\", isDocumentOpen);\n+\t\t\tb.add(\"cancelChecker\", cancelChecker);\n+\t\t\treturn b.toString();\n+\t\t}\n+\n+\t\tpublic Resource getResource() {\n+\t\t\treturn resource;\n+\t\t}\n+\n+\t\tpublic Document getDocument() {\n+\t\t\treturn document;\n+\t\t}\n+\n+\t\tpublic boolean isDocumentOpen() {\n+\t\t\treturn isDocumentOpen;\n+\t\t}\n+\n+\t\tpublic CancelIndicator getCancelChecker() {\n+\t\t\treturn cancelChecker;\n+\t\t}\n+\t}\n+\n+\tclass IndexContext {\n+\t\tprivate final IResourceDescriptions index;\n+\n+\t\tprivate final CancelIndicator cancelChecker;\n+\n+\t\tpublic IndexContext(IResourceDescriptions index, CancelIndicator cancelChecker) {\n+\t\t\tthis.index = index;\n+\t\t\tthis.cancelChecker = cancelChecker;\n+\t\t}\n+\n+\t\t@Override\n+\t\tpublic String toString() {\n+\t\t\tToStringBuilder b = new ToStringBuilder(this);\n+\t\t\tb.add(\"index\", index);\n+\t\t\tb.add(\"cancelChecker\", cancelChecker);\n+\t\t\treturn b.toString();\n+\t\t}\n+\n+\t\tpublic IResourceDescriptions getIndex() {\n+\t\t\treturn index;\n+\t\t}\n+\n+\t\tpublic CancelIndicator getCancelChecker() {\n+\t\t\treturn cancelChecker;\n+\t\t}\n+\t}\n+\n+\tinterface IBuildListener {\n+\t\tvoid afterBuild(List<IResourceDescription.Delta> deltas);\n+\t}\n+\n+\t/**\n+\t * provides read access to a fully resolved resource and Document.\n+\t */\n+\t<T extends Object> CompletableFuture<T> doRead(String uri, Function<ILanguageServerAccess.Context, T> function);\n+\n+\t/**\n+\t * Provides read access to the Xtext index.\n+\t * \n+\t * @since 2.18\n+\t */\n+\t<T extends Object> CompletableFuture<T> doReadIndex(\n+\t\t\tFunction<? super ILanguageServerAccess.IndexContext, ? extends T> function);\n+\n+\t/**\n+\t * registers a build listener on the this language server\n+\t */\n+\tvoid addBuildListener(ILanguageServerAccess.IBuildListener listener);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d1bad0e5d09d5362c680ef2ad3d79cc2bf30425d"}, "originalPosition": 124}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODE3NTk1OQ==", "bodyText": "we would but noone would call", "url": "https://github.com/eclipse/xtext-core/pull/1409#discussion_r388175959", "createdAt": "2020-03-05T09:37:38Z", "author": {"login": "cdietrich"}, "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/server/ILanguageServerAccess.java", "diffHunk": "@@ -0,0 +1,158 @@\n+/**\n+ * Copyright (c) 2016, 2020 TypeFox GmbH (http://www.typefox.io) and others.\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0.\n+ * \n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.eclipse.xtext.ide.server;\n+\n+import java.util.List;\n+import java.util.concurrent.CompletableFuture;\n+import java.util.function.Function;\n+\n+import org.eclipse.emf.common.util.URI;\n+import org.eclipse.emf.ecore.resource.Resource;\n+import org.eclipse.emf.ecore.resource.ResourceSet;\n+import org.eclipse.lsp4j.InitializeParams;\n+import org.eclipse.lsp4j.InitializeResult;\n+import org.eclipse.lsp4j.services.LanguageClient;\n+import org.eclipse.xtext.ide.serializer.IChangeSerializer;\n+import org.eclipse.xtext.resource.IResourceDescription;\n+import org.eclipse.xtext.resource.IResourceDescriptions;\n+import org.eclipse.xtext.resource.impl.ResourceDescriptionsProvider;\n+import org.eclipse.xtext.util.CancelIndicator;\n+import org.eclipse.xtext.xbase.lib.util.ToStringBuilder;\n+\n+/**\n+ * API for interacting with a running language server.\n+ * \n+ * @author Sven Efftinge - Initial contribution and API\n+ */\n+public interface ILanguageServerAccess {\n+\tclass Context {\n+\t\tprivate final Resource resource;\n+\n+\t\tprivate final Document document;\n+\n+\t\tprivate final boolean isDocumentOpen;\n+\n+\t\tprivate final CancelIndicator cancelChecker;\n+\n+\t\tpublic Context(Resource resource, Document document, boolean isDocumentOpen, CancelIndicator cancelChecker) {\n+\t\t\tthis.resource = resource;\n+\t\t\tthis.document = document;\n+\t\t\tthis.isDocumentOpen = isDocumentOpen;\n+\t\t\tthis.cancelChecker = cancelChecker;\n+\t\t}\n+\n+\t\t@Override\n+\t\tpublic String toString() {\n+\t\t\tToStringBuilder b = new ToStringBuilder(this);\n+\t\t\tb.add(\"resource\", resource);\n+\t\t\tb.add(\"document\", document);\n+\t\t\tb.add(\"isDocumentOpen\", isDocumentOpen);\n+\t\t\tb.add(\"cancelChecker\", cancelChecker);\n+\t\t\treturn b.toString();\n+\t\t}\n+\n+\t\tpublic Resource getResource() {\n+\t\t\treturn resource;\n+\t\t}\n+\n+\t\tpublic Document getDocument() {\n+\t\t\treturn document;\n+\t\t}\n+\n+\t\tpublic boolean isDocumentOpen() {\n+\t\t\treturn isDocumentOpen;\n+\t\t}\n+\n+\t\tpublic CancelIndicator getCancelChecker() {\n+\t\t\treturn cancelChecker;\n+\t\t}\n+\t}\n+\n+\tclass IndexContext {\n+\t\tprivate final IResourceDescriptions index;\n+\n+\t\tprivate final CancelIndicator cancelChecker;\n+\n+\t\tpublic IndexContext(IResourceDescriptions index, CancelIndicator cancelChecker) {\n+\t\t\tthis.index = index;\n+\t\t\tthis.cancelChecker = cancelChecker;\n+\t\t}\n+\n+\t\t@Override\n+\t\tpublic String toString() {\n+\t\t\tToStringBuilder b = new ToStringBuilder(this);\n+\t\t\tb.add(\"index\", index);\n+\t\t\tb.add(\"cancelChecker\", cancelChecker);\n+\t\t\treturn b.toString();\n+\t\t}\n+\n+\t\tpublic IResourceDescriptions getIndex() {\n+\t\t\treturn index;\n+\t\t}\n+\n+\t\tpublic CancelIndicator getCancelChecker() {\n+\t\t\treturn cancelChecker;\n+\t\t}\n+\t}\n+\n+\tinterface IBuildListener {\n+\t\tvoid afterBuild(List<IResourceDescription.Delta> deltas);\n+\t}\n+\n+\t/**\n+\t * provides read access to a fully resolved resource and Document.\n+\t */\n+\t<T extends Object> CompletableFuture<T> doRead(String uri, Function<ILanguageServerAccess.Context, T> function);\n+\n+\t/**\n+\t * Provides read access to the Xtext index.\n+\t * \n+\t * @since 2.18\n+\t */\n+\t<T extends Object> CompletableFuture<T> doReadIndex(\n+\t\t\tFunction<? super ILanguageServerAccess.IndexContext, ? extends T> function);\n+\n+\t/**\n+\t * registers a build listener on the this language server\n+\t */\n+\tvoid addBuildListener(ILanguageServerAccess.IBuildListener listener);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODE1OTkyOQ=="}, "originalCommit": {"oid": "d1bad0e5d09d5362c680ef2ad3d79cc2bf30425d"}, "originalPosition": 124}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODIwMTE0NA==", "bodyText": "I think that's because we don't have any meaningful execute commands in our code base.", "url": "https://github.com/eclipse/xtext-core/pull/1409#discussion_r388201144", "createdAt": "2020-03-05T10:22:35Z", "author": {"login": "szarnekow"}, "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/server/ILanguageServerAccess.java", "diffHunk": "@@ -0,0 +1,158 @@\n+/**\n+ * Copyright (c) 2016, 2020 TypeFox GmbH (http://www.typefox.io) and others.\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0.\n+ * \n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.eclipse.xtext.ide.server;\n+\n+import java.util.List;\n+import java.util.concurrent.CompletableFuture;\n+import java.util.function.Function;\n+\n+import org.eclipse.emf.common.util.URI;\n+import org.eclipse.emf.ecore.resource.Resource;\n+import org.eclipse.emf.ecore.resource.ResourceSet;\n+import org.eclipse.lsp4j.InitializeParams;\n+import org.eclipse.lsp4j.InitializeResult;\n+import org.eclipse.lsp4j.services.LanguageClient;\n+import org.eclipse.xtext.ide.serializer.IChangeSerializer;\n+import org.eclipse.xtext.resource.IResourceDescription;\n+import org.eclipse.xtext.resource.IResourceDescriptions;\n+import org.eclipse.xtext.resource.impl.ResourceDescriptionsProvider;\n+import org.eclipse.xtext.util.CancelIndicator;\n+import org.eclipse.xtext.xbase.lib.util.ToStringBuilder;\n+\n+/**\n+ * API for interacting with a running language server.\n+ * \n+ * @author Sven Efftinge - Initial contribution and API\n+ */\n+public interface ILanguageServerAccess {\n+\tclass Context {\n+\t\tprivate final Resource resource;\n+\n+\t\tprivate final Document document;\n+\n+\t\tprivate final boolean isDocumentOpen;\n+\n+\t\tprivate final CancelIndicator cancelChecker;\n+\n+\t\tpublic Context(Resource resource, Document document, boolean isDocumentOpen, CancelIndicator cancelChecker) {\n+\t\t\tthis.resource = resource;\n+\t\t\tthis.document = document;\n+\t\t\tthis.isDocumentOpen = isDocumentOpen;\n+\t\t\tthis.cancelChecker = cancelChecker;\n+\t\t}\n+\n+\t\t@Override\n+\t\tpublic String toString() {\n+\t\t\tToStringBuilder b = new ToStringBuilder(this);\n+\t\t\tb.add(\"resource\", resource);\n+\t\t\tb.add(\"document\", document);\n+\t\t\tb.add(\"isDocumentOpen\", isDocumentOpen);\n+\t\t\tb.add(\"cancelChecker\", cancelChecker);\n+\t\t\treturn b.toString();\n+\t\t}\n+\n+\t\tpublic Resource getResource() {\n+\t\t\treturn resource;\n+\t\t}\n+\n+\t\tpublic Document getDocument() {\n+\t\t\treturn document;\n+\t\t}\n+\n+\t\tpublic boolean isDocumentOpen() {\n+\t\t\treturn isDocumentOpen;\n+\t\t}\n+\n+\t\tpublic CancelIndicator getCancelChecker() {\n+\t\t\treturn cancelChecker;\n+\t\t}\n+\t}\n+\n+\tclass IndexContext {\n+\t\tprivate final IResourceDescriptions index;\n+\n+\t\tprivate final CancelIndicator cancelChecker;\n+\n+\t\tpublic IndexContext(IResourceDescriptions index, CancelIndicator cancelChecker) {\n+\t\t\tthis.index = index;\n+\t\t\tthis.cancelChecker = cancelChecker;\n+\t\t}\n+\n+\t\t@Override\n+\t\tpublic String toString() {\n+\t\t\tToStringBuilder b = new ToStringBuilder(this);\n+\t\t\tb.add(\"index\", index);\n+\t\t\tb.add(\"cancelChecker\", cancelChecker);\n+\t\t\treturn b.toString();\n+\t\t}\n+\n+\t\tpublic IResourceDescriptions getIndex() {\n+\t\t\treturn index;\n+\t\t}\n+\n+\t\tpublic CancelIndicator getCancelChecker() {\n+\t\t\treturn cancelChecker;\n+\t\t}\n+\t}\n+\n+\tinterface IBuildListener {\n+\t\tvoid afterBuild(List<IResourceDescription.Delta> deltas);\n+\t}\n+\n+\t/**\n+\t * provides read access to a fully resolved resource and Document.\n+\t */\n+\t<T extends Object> CompletableFuture<T> doRead(String uri, Function<ILanguageServerAccess.Context, T> function);\n+\n+\t/**\n+\t * Provides read access to the Xtext index.\n+\t * \n+\t * @since 2.18\n+\t */\n+\t<T extends Object> CompletableFuture<T> doReadIndex(\n+\t\t\tFunction<? super ILanguageServerAccess.IndexContext, ? extends T> function);\n+\n+\t/**\n+\t * registers a build listener on the this language server\n+\t */\n+\tvoid addBuildListener(ILanguageServerAccess.IBuildListener listener);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODE1OTkyOQ=="}, "originalCommit": {"oid": "d1bad0e5d09d5362c680ef2ad3d79cc2bf30425d"}, "originalPosition": 124}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODI3ODI5Mw==", "bodyText": "I would very much prefer this. I've had to remove calls like this before when working on LSP.\nPeople don't call the methods just because they're not there.", "url": "https://github.com/eclipse/xtext-core/pull/1409#discussion_r388278293", "createdAt": "2020-03-05T13:01:54Z", "author": {"login": "tivervac"}, "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/server/ILanguageServerAccess.java", "diffHunk": "@@ -0,0 +1,158 @@\n+/**\n+ * Copyright (c) 2016, 2020 TypeFox GmbH (http://www.typefox.io) and others.\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0.\n+ * \n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.eclipse.xtext.ide.server;\n+\n+import java.util.List;\n+import java.util.concurrent.CompletableFuture;\n+import java.util.function.Function;\n+\n+import org.eclipse.emf.common.util.URI;\n+import org.eclipse.emf.ecore.resource.Resource;\n+import org.eclipse.emf.ecore.resource.ResourceSet;\n+import org.eclipse.lsp4j.InitializeParams;\n+import org.eclipse.lsp4j.InitializeResult;\n+import org.eclipse.lsp4j.services.LanguageClient;\n+import org.eclipse.xtext.ide.serializer.IChangeSerializer;\n+import org.eclipse.xtext.resource.IResourceDescription;\n+import org.eclipse.xtext.resource.IResourceDescriptions;\n+import org.eclipse.xtext.resource.impl.ResourceDescriptionsProvider;\n+import org.eclipse.xtext.util.CancelIndicator;\n+import org.eclipse.xtext.xbase.lib.util.ToStringBuilder;\n+\n+/**\n+ * API for interacting with a running language server.\n+ * \n+ * @author Sven Efftinge - Initial contribution and API\n+ */\n+public interface ILanguageServerAccess {\n+\tclass Context {\n+\t\tprivate final Resource resource;\n+\n+\t\tprivate final Document document;\n+\n+\t\tprivate final boolean isDocumentOpen;\n+\n+\t\tprivate final CancelIndicator cancelChecker;\n+\n+\t\tpublic Context(Resource resource, Document document, boolean isDocumentOpen, CancelIndicator cancelChecker) {\n+\t\t\tthis.resource = resource;\n+\t\t\tthis.document = document;\n+\t\t\tthis.isDocumentOpen = isDocumentOpen;\n+\t\t\tthis.cancelChecker = cancelChecker;\n+\t\t}\n+\n+\t\t@Override\n+\t\tpublic String toString() {\n+\t\t\tToStringBuilder b = new ToStringBuilder(this);\n+\t\t\tb.add(\"resource\", resource);\n+\t\t\tb.add(\"document\", document);\n+\t\t\tb.add(\"isDocumentOpen\", isDocumentOpen);\n+\t\t\tb.add(\"cancelChecker\", cancelChecker);\n+\t\t\treturn b.toString();\n+\t\t}\n+\n+\t\tpublic Resource getResource() {\n+\t\t\treturn resource;\n+\t\t}\n+\n+\t\tpublic Document getDocument() {\n+\t\t\treturn document;\n+\t\t}\n+\n+\t\tpublic boolean isDocumentOpen() {\n+\t\t\treturn isDocumentOpen;\n+\t\t}\n+\n+\t\tpublic CancelIndicator getCancelChecker() {\n+\t\t\treturn cancelChecker;\n+\t\t}\n+\t}\n+\n+\tclass IndexContext {\n+\t\tprivate final IResourceDescriptions index;\n+\n+\t\tprivate final CancelIndicator cancelChecker;\n+\n+\t\tpublic IndexContext(IResourceDescriptions index, CancelIndicator cancelChecker) {\n+\t\t\tthis.index = index;\n+\t\t\tthis.cancelChecker = cancelChecker;\n+\t\t}\n+\n+\t\t@Override\n+\t\tpublic String toString() {\n+\t\t\tToStringBuilder b = new ToStringBuilder(this);\n+\t\t\tb.add(\"index\", index);\n+\t\t\tb.add(\"cancelChecker\", cancelChecker);\n+\t\t\treturn b.toString();\n+\t\t}\n+\n+\t\tpublic IResourceDescriptions getIndex() {\n+\t\t\treturn index;\n+\t\t}\n+\n+\t\tpublic CancelIndicator getCancelChecker() {\n+\t\t\treturn cancelChecker;\n+\t\t}\n+\t}\n+\n+\tinterface IBuildListener {\n+\t\tvoid afterBuild(List<IResourceDescription.Delta> deltas);\n+\t}\n+\n+\t/**\n+\t * provides read access to a fully resolved resource and Document.\n+\t */\n+\t<T extends Object> CompletableFuture<T> doRead(String uri, Function<ILanguageServerAccess.Context, T> function);\n+\n+\t/**\n+\t * Provides read access to the Xtext index.\n+\t * \n+\t * @since 2.18\n+\t */\n+\t<T extends Object> CompletableFuture<T> doReadIndex(\n+\t\t\tFunction<? super ILanguageServerAccess.IndexContext, ? extends T> function);\n+\n+\t/**\n+\t * registers a build listener on the this language server\n+\t */\n+\tvoid addBuildListener(ILanguageServerAccess.IBuildListener listener);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODE1OTkyOQ=="}, "originalCommit": {"oid": "d1bad0e5d09d5362c680ef2ad3d79cc2bf30425d"}, "originalPosition": 124}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQwNDgxNjU2OnYy", "diffSide": "RIGHT", "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/server/ILanguageServerAccess.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQwOTowOTo0MVrOFyLbDQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQwOTowOTo0MVrOFyLbDQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODE2MDI2OQ==", "bodyText": "Unnecessary final", "url": "https://github.com/eclipse/xtext-core/pull/1409#discussion_r388160269", "createdAt": "2020-03-05T09:09:41Z", "author": {"login": "szarnekow"}, "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/server/ILanguageServerAccess.java", "diffHunk": "@@ -0,0 +1,158 @@\n+/**\n+ * Copyright (c) 2016, 2020 TypeFox GmbH (http://www.typefox.io) and others.\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0.\n+ * \n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.eclipse.xtext.ide.server;\n+\n+import java.util.List;\n+import java.util.concurrent.CompletableFuture;\n+import java.util.function.Function;\n+\n+import org.eclipse.emf.common.util.URI;\n+import org.eclipse.emf.ecore.resource.Resource;\n+import org.eclipse.emf.ecore.resource.ResourceSet;\n+import org.eclipse.lsp4j.InitializeParams;\n+import org.eclipse.lsp4j.InitializeResult;\n+import org.eclipse.lsp4j.services.LanguageClient;\n+import org.eclipse.xtext.ide.serializer.IChangeSerializer;\n+import org.eclipse.xtext.resource.IResourceDescription;\n+import org.eclipse.xtext.resource.IResourceDescriptions;\n+import org.eclipse.xtext.resource.impl.ResourceDescriptionsProvider;\n+import org.eclipse.xtext.util.CancelIndicator;\n+import org.eclipse.xtext.xbase.lib.util.ToStringBuilder;\n+\n+/**\n+ * API for interacting with a running language server.\n+ * \n+ * @author Sven Efftinge - Initial contribution and API\n+ */\n+public interface ILanguageServerAccess {\n+\tclass Context {\n+\t\tprivate final Resource resource;\n+\n+\t\tprivate final Document document;\n+\n+\t\tprivate final boolean isDocumentOpen;\n+\n+\t\tprivate final CancelIndicator cancelChecker;\n+\n+\t\tpublic Context(Resource resource, Document document, boolean isDocumentOpen, CancelIndicator cancelChecker) {\n+\t\t\tthis.resource = resource;\n+\t\t\tthis.document = document;\n+\t\t\tthis.isDocumentOpen = isDocumentOpen;\n+\t\t\tthis.cancelChecker = cancelChecker;\n+\t\t}\n+\n+\t\t@Override\n+\t\tpublic String toString() {\n+\t\t\tToStringBuilder b = new ToStringBuilder(this);\n+\t\t\tb.add(\"resource\", resource);\n+\t\t\tb.add(\"document\", document);\n+\t\t\tb.add(\"isDocumentOpen\", isDocumentOpen);\n+\t\t\tb.add(\"cancelChecker\", cancelChecker);\n+\t\t\treturn b.toString();\n+\t\t}\n+\n+\t\tpublic Resource getResource() {\n+\t\t\treturn resource;\n+\t\t}\n+\n+\t\tpublic Document getDocument() {\n+\t\t\treturn document;\n+\t\t}\n+\n+\t\tpublic boolean isDocumentOpen() {\n+\t\t\treturn isDocumentOpen;\n+\t\t}\n+\n+\t\tpublic CancelIndicator getCancelChecker() {\n+\t\t\treturn cancelChecker;\n+\t\t}\n+\t}\n+\n+\tclass IndexContext {\n+\t\tprivate final IResourceDescriptions index;\n+\n+\t\tprivate final CancelIndicator cancelChecker;\n+\n+\t\tpublic IndexContext(IResourceDescriptions index, CancelIndicator cancelChecker) {\n+\t\t\tthis.index = index;\n+\t\t\tthis.cancelChecker = cancelChecker;\n+\t\t}\n+\n+\t\t@Override\n+\t\tpublic String toString() {\n+\t\t\tToStringBuilder b = new ToStringBuilder(this);\n+\t\t\tb.add(\"index\", index);\n+\t\t\tb.add(\"cancelChecker\", cancelChecker);\n+\t\t\treturn b.toString();\n+\t\t}\n+\n+\t\tpublic IResourceDescriptions getIndex() {\n+\t\t\treturn index;\n+\t\t}\n+\n+\t\tpublic CancelIndicator getCancelChecker() {\n+\t\t\treturn cancelChecker;\n+\t\t}\n+\t}\n+\n+\tinterface IBuildListener {\n+\t\tvoid afterBuild(List<IResourceDescription.Delta> deltas);\n+\t}\n+\n+\t/**\n+\t * provides read access to a fully resolved resource and Document.\n+\t */\n+\t<T extends Object> CompletableFuture<T> doRead(String uri, Function<ILanguageServerAccess.Context, T> function);\n+\n+\t/**\n+\t * Provides read access to the Xtext index.\n+\t * \n+\t * @since 2.18\n+\t */\n+\t<T extends Object> CompletableFuture<T> doReadIndex(\n+\t\t\tFunction<? super ILanguageServerAccess.IndexContext, ? extends T> function);\n+\n+\t/**\n+\t * registers a build listener on the this language server\n+\t */\n+\tvoid addBuildListener(ILanguageServerAccess.IBuildListener listener);\n+\n+\t/**\n+\t * @return the language client facade. It usually also implements Endpoint, which can be used to call non-standard\n+\t *         extensions to the LSP.\n+\t */\n+\tLanguageClient getLanguageClient();\n+\n+\t/**\n+\t * Creates a new {@link ResourceSet} to be used with the {@link IChangeSerializer} API.\n+\t * \n+\t * The {@link IChangeSerializer} allows to calculate text edits from model changes. In order not to mess up the\n+\t * originals, the resp. models should be loaded into a new resource set which this method provides.\n+\t * \n+\t * @param uri\n+\t *            a file URI used to detect the project to configure the scope of the resource set.\n+\t * @return a new empty resource set, configured with the project the <code>uri</code> belongs to and the\n+\t *         {@link ResourceDescriptionsProvider#LIVE_SCOPE} in order to reflect model changes immediately.\n+\t * @since 2.18\n+\t */\n+\tResourceSet newLiveScopeResourceSet(final URI uri);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d1bad0e5d09d5362c680ef2ad3d79cc2bf30425d"}, "originalPosition": 144}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQwNDgxODQzOnYy", "diffSide": "RIGHT", "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/server/codeActions/ICodeActionService2.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQwOToxMDoxN1rOFyLcJg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQwOToxMDoxN1rOFyLcJg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODE2MDU1MA==", "bodyText": "Unnecessary @Accessors", "url": "https://github.com/eclipse/xtext-core/pull/1409#discussion_r388160550", "createdAt": "2020-03-05T09:10:17Z", "author": {"login": "szarnekow"}, "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/server/codeActions/ICodeActionService2.java", "diffHunk": "@@ -0,0 +1,82 @@\n+/**\n+ * Copyright (c) 2017, 2020 TypeFox GmbH (http://www.typefox.io) and others.\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0.\n+ * \n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.eclipse.xtext.ide.server.codeActions;\n+\n+import java.util.List;\n+\n+import org.eclipse.lsp4j.CodeAction;\n+import org.eclipse.lsp4j.CodeActionParams;\n+import org.eclipse.lsp4j.Command;\n+import org.eclipse.lsp4j.jsonrpc.messages.Either;\n+import org.eclipse.xtend.lib.annotations.Accessors;\n+import org.eclipse.xtext.ide.server.Document;\n+import org.eclipse.xtext.ide.server.ILanguageServerAccess;\n+import org.eclipse.xtext.resource.XtextResource;\n+import org.eclipse.xtext.util.CancelIndicator;\n+\n+/**\n+ * @author Jan Koehnlein\n+ * @since 2.18\n+ */\n+public interface ICodeActionService2 {\n+\t@Accessors", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d1bad0e5d09d5362c680ef2ad3d79cc2bf30425d"}, "originalPosition": 28}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQwNDgyMTYzOnYy", "diffSide": "RIGHT", "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/server/hover/HoverContext.java", "isResolved": false, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQwOToxMToxM1rOFyLeHg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxMToxMjowNFrOFyPh4g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODE2MTA1NA==", "bodyText": "A generated toString may be handy for debugging", "url": "https://github.com/eclipse/xtext-core/pull/1409#discussion_r388161054", "createdAt": "2020-03-05T09:11:13Z", "author": {"login": "szarnekow"}, "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/server/hover/HoverContext.java", "diffHunk": "@@ -0,0 +1,56 @@\n+/**\n+ * Copyright (c) 2016, 2020 TypeFox GmbH (http://www.typefox.io) and others.\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0.\n+ * \n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.eclipse.xtext.ide.server.hover;\n+\n+import org.eclipse.emf.ecore.EObject;\n+import org.eclipse.xtext.ide.server.Document;\n+import org.eclipse.xtext.resource.XtextResource;\n+import org.eclipse.xtext.util.ITextRegion;\n+\n+public class HoverContext {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d1bad0e5d09d5362c680ef2ad3d79cc2bf30425d"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODE4NzgyNg==", "bodyText": "am not sure if toString on the resource and element would be good", "url": "https://github.com/eclipse/xtext-core/pull/1409#discussion_r388187826", "createdAt": "2020-03-05T09:58:10Z", "author": {"login": "cdietrich"}, "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/server/hover/HoverContext.java", "diffHunk": "@@ -0,0 +1,56 @@\n+/**\n+ * Copyright (c) 2016, 2020 TypeFox GmbH (http://www.typefox.io) and others.\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0.\n+ * \n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.eclipse.xtext.ide.server.hover;\n+\n+import org.eclipse.emf.ecore.EObject;\n+import org.eclipse.xtext.ide.server.Document;\n+import org.eclipse.xtext.resource.XtextResource;\n+import org.eclipse.xtext.util.ITextRegion;\n+\n+public class HoverContext {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODE2MTA1NA=="}, "originalCommit": {"oid": "d1bad0e5d09d5362c680ef2ad3d79cc2bf30425d"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODIwMDY4Ng==", "bodyText": "Maybe resource.getURI is already helpful?", "url": "https://github.com/eclipse/xtext-core/pull/1409#discussion_r388200686", "createdAt": "2020-03-05T10:21:44Z", "author": {"login": "szarnekow"}, "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/server/hover/HoverContext.java", "diffHunk": "@@ -0,0 +1,56 @@\n+/**\n+ * Copyright (c) 2016, 2020 TypeFox GmbH (http://www.typefox.io) and others.\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0.\n+ * \n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.eclipse.xtext.ide.server.hover;\n+\n+import org.eclipse.emf.ecore.EObject;\n+import org.eclipse.xtext.ide.server.Document;\n+import org.eclipse.xtext.resource.XtextResource;\n+import org.eclipse.xtext.util.ITextRegion;\n+\n+public class HoverContext {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODE2MTA1NA=="}, "originalCommit": {"oid": "d1bad0e5d09d5362c680ef2ad3d79cc2bf30425d"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODIyNzU1NA==", "bodyText": "done", "url": "https://github.com/eclipse/xtext-core/pull/1409#discussion_r388227554", "createdAt": "2020-03-05T11:12:04Z", "author": {"login": "cdietrich"}, "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/server/hover/HoverContext.java", "diffHunk": "@@ -0,0 +1,56 @@\n+/**\n+ * Copyright (c) 2016, 2020 TypeFox GmbH (http://www.typefox.io) and others.\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0.\n+ * \n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.eclipse.xtext.ide.server.hover;\n+\n+import org.eclipse.emf.ecore.EObject;\n+import org.eclipse.xtext.ide.server.Document;\n+import org.eclipse.xtext.resource.XtextResource;\n+import org.eclipse.xtext.util.ITextRegion;\n+\n+public class HoverContext {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODE2MTA1NA=="}, "originalCommit": {"oid": "d1bad0e5d09d5362c680ef2ad3d79cc2bf30425d"}, "originalPosition": 16}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQwNDgyNDY0OnYy", "diffSide": "RIGHT", "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/util/CancelIndicatorProgressMonitor.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQwOToxMjowMVrOFyLf0Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQwOTo0NjoxOVrOFyMr0A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODE2MTQ4OQ==", "bodyText": "volatile?", "url": "https://github.com/eclipse/xtext-core/pull/1409#discussion_r388161489", "createdAt": "2020-03-05T09:12:01Z", "author": {"login": "szarnekow"}, "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/util/CancelIndicatorProgressMonitor.java", "diffHunk": "@@ -0,0 +1,61 @@\n+/**\n+ * Copyright (c) 2016, 2020 TypeFox GmbH (http://www.typefox.io) and others.\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0.\n+ * \n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.eclipse.xtext.ide.util;\n+\n+import org.eclipse.core.runtime.IProgressMonitor;\n+import org.eclipse.xtext.util.CancelIndicator;\n+\n+/**\n+ * @author kosyakov - Initial contribution and API\n+ * @since 2.11\n+ */\n+public class CancelIndicatorProgressMonitor implements IProgressMonitor {\n+\tprivate final CancelIndicator delegate;\n+\n+\tprivate boolean canceled;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d1bad0e5d09d5362c680ef2ad3d79cc2bf30425d"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODE3NzA3Nw==", "bodyText": "to make sure works multithreaded?", "url": "https://github.com/eclipse/xtext-core/pull/1409#discussion_r388177077", "createdAt": "2020-03-05T09:39:33Z", "author": {"login": "cdietrich"}, "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/util/CancelIndicatorProgressMonitor.java", "diffHunk": "@@ -0,0 +1,61 @@\n+/**\n+ * Copyright (c) 2016, 2020 TypeFox GmbH (http://www.typefox.io) and others.\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0.\n+ * \n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.eclipse.xtext.ide.util;\n+\n+import org.eclipse.core.runtime.IProgressMonitor;\n+import org.eclipse.xtext.util.CancelIndicator;\n+\n+/**\n+ * @author kosyakov - Initial contribution and API\n+ * @since 2.11\n+ */\n+public class CancelIndicatorProgressMonitor implements IProgressMonitor {\n+\tprivate final CancelIndicator delegate;\n+\n+\tprivate boolean canceled;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODE2MTQ4OQ=="}, "originalCommit": {"oid": "d1bad0e5d09d5362c680ef2ad3d79cc2bf30425d"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODE4MDk0NA==", "bodyText": "Yes. I'd assume that the canceled flag will be set by a thread different from the current worker thread. Otherwise the worker would just bail out.", "url": "https://github.com/eclipse/xtext-core/pull/1409#discussion_r388180944", "createdAt": "2020-03-05T09:46:19Z", "author": {"login": "szarnekow"}, "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/util/CancelIndicatorProgressMonitor.java", "diffHunk": "@@ -0,0 +1,61 @@\n+/**\n+ * Copyright (c) 2016, 2020 TypeFox GmbH (http://www.typefox.io) and others.\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0.\n+ * \n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.eclipse.xtext.ide.util;\n+\n+import org.eclipse.core.runtime.IProgressMonitor;\n+import org.eclipse.xtext.util.CancelIndicator;\n+\n+/**\n+ * @author kosyakov - Initial contribution and API\n+ * @since 2.11\n+ */\n+public class CancelIndicatorProgressMonitor implements IProgressMonitor {\n+\tprivate final CancelIndicator delegate;\n+\n+\tprivate boolean canceled;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODE2MTQ4OQ=="}, "originalCommit": {"oid": "d1bad0e5d09d5362c680ef2ad3d79cc2bf30425d"}, "originalPosition": 21}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQwNTUzNzE5OnYy", "diffSide": "RIGHT", "path": "org.eclipse.xtext.ide.tests/xtend-gen/org/eclipse/xtext/ide/tests/testlanguage/ide/TestLangLSPExtension.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxMjo0OTo0OFrOFySRFA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxNDoxNzo1MlrOFyVM-g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODI3MjQwNA==", "bodyText": "Definitely not a fan of these names starting with a _", "url": "https://github.com/eclipse/xtext-core/pull/1409#discussion_r388272404", "createdAt": "2020-03-05T12:49:48Z", "author": {"login": "tivervac"}, "path": "org.eclipse.xtext.ide.tests/xtend-gen/org/eclipse/xtext/ide/tests/testlanguage/ide/TestLangLSPExtension.java", "diffHunk": "@@ -82,10 +83,12 @@ public String toString() {\n     @Override\n     public CompletableFuture<TestLangLSPExtension.TextOfLineResult> getTextOfLine(final TestLangLSPExtension.TextOfLineParam param) {\n       final Function<ILanguageServerAccess.Context, TestLangLSPExtension.TextOfLineResult> _function = (ILanguageServerAccess.Context ctx) -> {\n+        Document _document = ctx.getDocument();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1981f57b1e52a5d88bb3c01bea39ecddb5a88500"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODMyMDUwNg==", "bodyText": "generator ....", "url": "https://github.com/eclipse/xtext-core/pull/1409#discussion_r388320506", "createdAt": "2020-03-05T14:17:52Z", "author": {"login": "cdietrich"}, "path": "org.eclipse.xtext.ide.tests/xtend-gen/org/eclipse/xtext/ide/tests/testlanguage/ide/TestLangLSPExtension.java", "diffHunk": "@@ -82,10 +83,12 @@ public String toString() {\n     @Override\n     public CompletableFuture<TestLangLSPExtension.TextOfLineResult> getTextOfLine(final TestLangLSPExtension.TextOfLineParam param) {\n       final Function<ILanguageServerAccess.Context, TestLangLSPExtension.TextOfLineResult> _function = (ILanguageServerAccess.Context ctx) -> {\n+        Document _document = ctx.getDocument();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODI3MjQwNA=="}, "originalCommit": {"oid": "1981f57b1e52a5d88bb3c01bea39ecddb5a88500"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQwNTU0MjMxOnYy", "diffSide": "RIGHT", "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/editor/bracketmatching/BracePair.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxMjo1MTozMFrOFySUOw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxNDo1NjoyMVrOFyWv0g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODI3MzIxMQ==", "bodyText": "\", and an\" -> \". An\"", "url": "https://github.com/eclipse/xtext-core/pull/1409#discussion_r388273211", "createdAt": "2020-03-05T12:51:30Z", "author": {"login": "tivervac"}, "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/editor/bracketmatching/BracePair.java", "diffHunk": "@@ -0,0 +1,99 @@\n+/**\n+ * Copyright (c) 2015, 2020 itemis AG (http://www.itemis.eu) and others.\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0.\n+ * \n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.eclipse.xtext.ide.editor.bracketmatching;\n+\n+import org.eclipse.xtext.xbase.lib.util.ToStringBuilder;\n+\n+/**\n+ * Defines a single pair of braces which need to be matched when editing code.\n+ * \n+ * @author kosyakov - Initial contribution and API\n+ */\n+public class BracePair {\n+\t/**\n+\t * The length of a left brace should be one character for Eclipse.\n+\t */\n+\tprivate final String leftBrace;\n+\n+\t/**\n+\t * The length of a right brace should be one character for Eclipse.\n+\t */\n+\tprivate final String rightBrace;\n+\n+\t/**\n+\t * True if the brace is structural. Structural braces have higher priority than regular braces: they are matched\n+\t * with each other even if there are unmatched braces of other types between them, and an opening non-structural", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1981f57b1e52a5d88bb3c01bea39ecddb5a88500"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODM0NTY0OA==", "bodyText": "ahh missed this one", "url": "https://github.com/eclipse/xtext-core/pull/1409#discussion_r388345648", "createdAt": "2020-03-05T14:56:07Z", "author": {"login": "cdietrich"}, "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/editor/bracketmatching/BracePair.java", "diffHunk": "@@ -0,0 +1,99 @@\n+/**\n+ * Copyright (c) 2015, 2020 itemis AG (http://www.itemis.eu) and others.\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0.\n+ * \n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.eclipse.xtext.ide.editor.bracketmatching;\n+\n+import org.eclipse.xtext.xbase.lib.util.ToStringBuilder;\n+\n+/**\n+ * Defines a single pair of braces which need to be matched when editing code.\n+ * \n+ * @author kosyakov - Initial contribution and API\n+ */\n+public class BracePair {\n+\t/**\n+\t * The length of a left brace should be one character for Eclipse.\n+\t */\n+\tprivate final String leftBrace;\n+\n+\t/**\n+\t * The length of a right brace should be one character for Eclipse.\n+\t */\n+\tprivate final String rightBrace;\n+\n+\t/**\n+\t * True if the brace is structural. Structural braces have higher priority than regular braces: they are matched\n+\t * with each other even if there are unmatched braces of other types between them, and an opening non-structural", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODI3MzIxMQ=="}, "originalCommit": {"oid": "1981f57b1e52a5d88bb3c01bea39ecddb5a88500"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODM0NTgxMA==", "bodyText": "@cdietrich This one for example", "url": "https://github.com/eclipse/xtext-core/pull/1409#discussion_r388345810", "createdAt": "2020-03-05T14:56:21Z", "author": {"login": "tivervac"}, "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/editor/bracketmatching/BracePair.java", "diffHunk": "@@ -0,0 +1,99 @@\n+/**\n+ * Copyright (c) 2015, 2020 itemis AG (http://www.itemis.eu) and others.\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0.\n+ * \n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.eclipse.xtext.ide.editor.bracketmatching;\n+\n+import org.eclipse.xtext.xbase.lib.util.ToStringBuilder;\n+\n+/**\n+ * Defines a single pair of braces which need to be matched when editing code.\n+ * \n+ * @author kosyakov - Initial contribution and API\n+ */\n+public class BracePair {\n+\t/**\n+\t * The length of a left brace should be one character for Eclipse.\n+\t */\n+\tprivate final String leftBrace;\n+\n+\t/**\n+\t * The length of a right brace should be one character for Eclipse.\n+\t */\n+\tprivate final String rightBrace;\n+\n+\t/**\n+\t * True if the brace is structural. Structural braces have higher priority than regular braces: they are matched\n+\t * with each other even if there are unmatched braces of other types between them, and an opening non-structural", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODI3MzIxMQ=="}, "originalCommit": {"oid": "1981f57b1e52a5d88bb3c01bea39ecddb5a88500"}, "originalPosition": 31}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQwNTU0Mzg4OnYy", "diffSide": "RIGHT", "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/editor/bracketmatching/BracePair.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxMjo1MjowMVrOFySVLQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxNDo1NjozNFrOFyWwbA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODI3MzQ1Mw==", "bodyText": "s/outside/inside/", "url": "https://github.com/eclipse/xtext-core/pull/1409#discussion_r388273453", "createdAt": "2020-03-05T12:52:01Z", "author": {"login": "tivervac"}, "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/editor/bracketmatching/BracePair.java", "diffHunk": "@@ -0,0 +1,99 @@\n+/**\n+ * Copyright (c) 2015, 2020 itemis AG (http://www.itemis.eu) and others.\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0.\n+ * \n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.eclipse.xtext.ide.editor.bracketmatching;\n+\n+import org.eclipse.xtext.xbase.lib.util.ToStringBuilder;\n+\n+/**\n+ * Defines a single pair of braces which need to be matched when editing code.\n+ * \n+ * @author kosyakov - Initial contribution and API\n+ */\n+public class BracePair {\n+\t/**\n+\t * The length of a left brace should be one character for Eclipse.\n+\t */\n+\tprivate final String leftBrace;\n+\n+\t/**\n+\t * The length of a right brace should be one character for Eclipse.\n+\t */\n+\tprivate final String rightBrace;\n+\n+\t/**\n+\t * True if the brace is structural. Structural braces have higher priority than regular braces: they are matched\n+\t * with each other even if there are unmatched braces of other types between them, and an opening non-structural\n+\t * brace is not matched with a closing one if one of them is outside a pair of matched structural braces and another", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1981f57b1e52a5d88bb3c01bea39ecddb5a88500"}, "originalPosition": 32}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODM0NTk2NA==", "bodyText": "@cdietrich This one for example", "url": "https://github.com/eclipse/xtext-core/pull/1409#discussion_r388345964", "createdAt": "2020-03-05T14:56:34Z", "author": {"login": "tivervac"}, "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/editor/bracketmatching/BracePair.java", "diffHunk": "@@ -0,0 +1,99 @@\n+/**\n+ * Copyright (c) 2015, 2020 itemis AG (http://www.itemis.eu) and others.\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0.\n+ * \n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.eclipse.xtext.ide.editor.bracketmatching;\n+\n+import org.eclipse.xtext.xbase.lib.util.ToStringBuilder;\n+\n+/**\n+ * Defines a single pair of braces which need to be matched when editing code.\n+ * \n+ * @author kosyakov - Initial contribution and API\n+ */\n+public class BracePair {\n+\t/**\n+\t * The length of a left brace should be one character for Eclipse.\n+\t */\n+\tprivate final String leftBrace;\n+\n+\t/**\n+\t * The length of a right brace should be one character for Eclipse.\n+\t */\n+\tprivate final String rightBrace;\n+\n+\t/**\n+\t * True if the brace is structural. Structural braces have higher priority than regular braces: they are matched\n+\t * with each other even if there are unmatched braces of other types between them, and an opening non-structural\n+\t * brace is not matched with a closing one if one of them is outside a pair of matched structural braces and another", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODI3MzQ1Mw=="}, "originalCommit": {"oid": "1981f57b1e52a5d88bb3c01bea39ecddb5a88500"}, "originalPosition": 32}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQwNTU1MTQ0OnYy", "diffSide": "RIGHT", "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/editor/bracketmatching/BracePair.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxMjo1NDoyOVrOFySZ0w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxMjo1NDoyOVrOFySZ0w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODI3NDY0Mw==", "bodyText": "I'd prefer return prime * result + (structural ? 1231 : 1237);", "url": "https://github.com/eclipse/xtext-core/pull/1409#discussion_r388274643", "createdAt": "2020-03-05T12:54:29Z", "author": {"login": "tivervac"}, "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/editor/bracketmatching/BracePair.java", "diffHunk": "@@ -0,0 +1,99 @@\n+/**\n+ * Copyright (c) 2015, 2020 itemis AG (http://www.itemis.eu) and others.\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0.\n+ * \n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.eclipse.xtext.ide.editor.bracketmatching;\n+\n+import org.eclipse.xtext.xbase.lib.util.ToStringBuilder;\n+\n+/**\n+ * Defines a single pair of braces which need to be matched when editing code.\n+ * \n+ * @author kosyakov - Initial contribution and API\n+ */\n+public class BracePair {\n+\t/**\n+\t * The length of a left brace should be one character for Eclipse.\n+\t */\n+\tprivate final String leftBrace;\n+\n+\t/**\n+\t * The length of a right brace should be one character for Eclipse.\n+\t */\n+\tprivate final String rightBrace;\n+\n+\t/**\n+\t * True if the brace is structural. Structural braces have higher priority than regular braces: they are matched\n+\t * with each other even if there are unmatched braces of other types between them, and an opening non-structural\n+\t * brace is not matched with a closing one if one of them is outside a pair of matched structural braces and another\n+\t * is outside. In Java code, the curly braces are structural.\n+\t * \n+\t * It is ignored by Eclipse.\n+\t */\n+\tprivate final boolean structural;\n+\n+\tpublic BracePair(String leftBrace, String rightBrace, boolean structural) {\n+\t\tthis.leftBrace = leftBrace;\n+\t\tthis.rightBrace = rightBrace;\n+\t\tthis.structural = structural;\n+\t}\n+\n+\t@Override\n+\tpublic int hashCode() {\n+\t\tfinal int prime = 31;\n+\t\tint result = 1;\n+\t\tresult = prime * result + ((leftBrace == null) ? 0 : leftBrace.hashCode());\n+\t\tresult = prime * result + ((rightBrace == null) ? 0 : rightBrace.hashCode());\n+\t\tresult = prime * result + (structural ? 1231 : 1237);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1981f57b1e52a5d88bb3c01bea39ecddb5a88500"}, "originalPosition": 51}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQwNTU1ODU1OnYy", "diffSide": "RIGHT", "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/editor/bracketmatching/XtextBracePairProvider.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxMjo1NjozNFrOFySeHQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxNDo1Njo1MlrOFyWxXA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODI3NTc0MQ==", "bodyText": "As Sebastian said earlier, ImmutableSet.of(..) might be better here", "url": "https://github.com/eclipse/xtext-core/pull/1409#discussion_r388275741", "createdAt": "2020-03-05T12:56:34Z", "author": {"login": "tivervac"}, "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/editor/bracketmatching/XtextBracePairProvider.java", "diffHunk": "@@ -18,10 +18,9 @@\n  * @author kosyakov - Initial contribution and API\n  */\n @Singleton\n-@SuppressWarnings(\"all\")\n public class XtextBracePairProvider extends DefaultBracePairProvider {\n-  public XtextBracePairProvider() {\n-    super(\n-      Collections.<BracePair>unmodifiableSet(CollectionLiterals.<BracePair>newHashSet(new BracePair(\":\", \";\", true), new BracePair(\"(\", \")\", false), new BracePair(\"{\", \"}\", true), new BracePair(\"[\", \"]\", false))));\n-  }\n+\tpublic XtextBracePairProvider() {\n+\t\tsuper(Collections.unmodifiableSet(CollectionLiterals.newHashSet(new BracePair(\":\", \";\", true),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1981f57b1e52a5d88bb3c01bea39ecddb5a88500"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODM0NjIwNA==", "bodyText": "@cdietrich This one for example", "url": "https://github.com/eclipse/xtext-core/pull/1409#discussion_r388346204", "createdAt": "2020-03-05T14:56:52Z", "author": {"login": "tivervac"}, "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/editor/bracketmatching/XtextBracePairProvider.java", "diffHunk": "@@ -18,10 +18,9 @@\n  * @author kosyakov - Initial contribution and API\n  */\n @Singleton\n-@SuppressWarnings(\"all\")\n public class XtextBracePairProvider extends DefaultBracePairProvider {\n-  public XtextBracePairProvider() {\n-    super(\n-      Collections.<BracePair>unmodifiableSet(CollectionLiterals.<BracePair>newHashSet(new BracePair(\":\", \";\", true), new BracePair(\"(\", \")\", false), new BracePair(\"{\", \"}\", true), new BracePair(\"[\", \"]\", false))));\n-  }\n+\tpublic XtextBracePairProvider() {\n+\t\tsuper(Collections.unmodifiableSet(CollectionLiterals.newHashSet(new BracePair(\":\", \";\", true),", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODI3NTc0MQ=="}, "originalCommit": {"oid": "1981f57b1e52a5d88bb3c01bea39ecddb5a88500"}, "originalPosition": 18}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQwNTU2NTk5OnYy", "diffSide": "RIGHT", "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/editor/navigation/INavigatable.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxMjo1ODo1MFrOFySijA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxNDo1Njo1OFrOFyWxpg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODI3Njg3Ng==", "bodyText": "\"as well as another navigatable element.\"\nI would remove this, the sentence sounds like this atm: \"Typical choices are A, B or C as well as anything else\"", "url": "https://github.com/eclipse/xtext-core/pull/1409#discussion_r388276876", "createdAt": "2020-03-05T12:58:50Z", "author": {"login": "tivervac"}, "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/editor/navigation/INavigatable.java", "diffHunk": "@@ -1,31 +1,32 @@\n-/*******************************************************************************\n- * Copyright (c) 2016 TypeFox GmbH (http://www.typefox.io) and others.\n+/**\n+ * Copyright (c) 2016, 2020 TypeFox GmbH (http://www.typefox.io) and others.\n  * This program and the accompanying materials are made available under the\n  * terms of the Eclipse Public License 2.0 which is available at\n  * http://www.eclipse.org/legal/epl-2.0.\n- *\n+ * \n  * SPDX-License-Identifier: EPL-2.0\n- *******************************************************************************/\n-package org.eclipse.xtext.ide.editor.navigation\n+ */\n+package org.eclipse.xtext.ide.editor.navigation;\n \n /**\n  * Represents an instance that can be opened in an editor.\n  * \n  * @author kosyakov - Initial contribution and API\n  * @since 2.10\n  */\n-interface INavigatable {\n-\n+public interface INavigatable {\n \t/**\n \t * <p>\n-\t * Returns an instance containing enough information to identify an editor that should be opened and a region that should be revealed.\n+\t * Returns an instance containing enough information to identify an editor that should be opened and a region that\n+\t * should be revealed.\n \t * </p>\n \t * <p>\n-\t * Typical navigation elements are resource, object and reference descriptions as well as another navigatable element.\n+\t * Typical navigation elements are resource, object and reference descriptions as well as another navigatable", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1981f57b1e52a5d88bb3c01bea39ecddb5a88500"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODM0NjI3OA==", "bodyText": "@cdietrich This one for example", "url": "https://github.com/eclipse/xtext-core/pull/1409#discussion_r388346278", "createdAt": "2020-03-05T14:56:58Z", "author": {"login": "tivervac"}, "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/editor/navigation/INavigatable.java", "diffHunk": "@@ -1,31 +1,32 @@\n-/*******************************************************************************\n- * Copyright (c) 2016 TypeFox GmbH (http://www.typefox.io) and others.\n+/**\n+ * Copyright (c) 2016, 2020 TypeFox GmbH (http://www.typefox.io) and others.\n  * This program and the accompanying materials are made available under the\n  * terms of the Eclipse Public License 2.0 which is available at\n  * http://www.eclipse.org/legal/epl-2.0.\n- *\n+ * \n  * SPDX-License-Identifier: EPL-2.0\n- *******************************************************************************/\n-package org.eclipse.xtext.ide.editor.navigation\n+ */\n+package org.eclipse.xtext.ide.editor.navigation;\n \n /**\n  * Represents an instance that can be opened in an editor.\n  * \n  * @author kosyakov - Initial contribution and API\n  * @since 2.10\n  */\n-interface INavigatable {\n-\n+public interface INavigatable {\n \t/**\n \t * <p>\n-\t * Returns an instance containing enough information to identify an editor that should be opened and a region that should be revealed.\n+\t * Returns an instance containing enough information to identify an editor that should be opened and a region that\n+\t * should be revealed.\n \t * </p>\n \t * <p>\n-\t * Typical navigation elements are resource, object and reference descriptions as well as another navigatable element.\n+\t * Typical navigation elements are resource, object and reference descriptions as well as another navigatable", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODI3Njg3Ng=="}, "originalCommit": {"oid": "1981f57b1e52a5d88bb3c01bea39ecddb5a88500"}, "originalPosition": 33}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQwNTU2OTI0OnYy", "diffSide": "RIGHT", "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/server/ILanguageServerAccess.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxMzowMDowMFrOFySkjg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxNDo1NzowNlrOFyWx_A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODI3NzM5MA==", "bodyText": "s/provides/Provides/\ns/Document/document/", "url": "https://github.com/eclipse/xtext-core/pull/1409#discussion_r388277390", "createdAt": "2020-03-05T13:00:00Z", "author": {"login": "tivervac"}, "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/server/ILanguageServerAccess.java", "diffHunk": "@@ -0,0 +1,158 @@\n+/**\n+ * Copyright (c) 2016, 2020 TypeFox GmbH (http://www.typefox.io) and others.\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0.\n+ * \n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.eclipse.xtext.ide.server;\n+\n+import java.util.List;\n+import java.util.concurrent.CompletableFuture;\n+import java.util.function.Function;\n+\n+import org.eclipse.emf.common.util.URI;\n+import org.eclipse.emf.ecore.resource.Resource;\n+import org.eclipse.emf.ecore.resource.ResourceSet;\n+import org.eclipse.lsp4j.InitializeParams;\n+import org.eclipse.lsp4j.InitializeResult;\n+import org.eclipse.lsp4j.services.LanguageClient;\n+import org.eclipse.xtext.ide.serializer.IChangeSerializer;\n+import org.eclipse.xtext.resource.IResourceDescription;\n+import org.eclipse.xtext.resource.IResourceDescriptions;\n+import org.eclipse.xtext.resource.impl.ResourceDescriptionsProvider;\n+import org.eclipse.xtext.util.CancelIndicator;\n+import org.eclipse.xtext.xbase.lib.util.ToStringBuilder;\n+\n+/**\n+ * API for interacting with a running language server.\n+ * \n+ * @author Sven Efftinge - Initial contribution and API\n+ */\n+public interface ILanguageServerAccess {\n+\tclass Context {\n+\t\tprivate final Resource resource;\n+\n+\t\tprivate final Document document;\n+\n+\t\tprivate final boolean isDocumentOpen;\n+\n+\t\tprivate final CancelIndicator cancelChecker;\n+\n+\t\tpublic Context(Resource resource, Document document, boolean isDocumentOpen, CancelIndicator cancelChecker) {\n+\t\t\tthis.resource = resource;\n+\t\t\tthis.document = document;\n+\t\t\tthis.isDocumentOpen = isDocumentOpen;\n+\t\t\tthis.cancelChecker = cancelChecker;\n+\t\t}\n+\n+\t\t@Override\n+\t\tpublic String toString() {\n+\t\t\tToStringBuilder b = new ToStringBuilder(this);\n+\t\t\tb.add(\"resource\", resource);\n+\t\t\tb.add(\"document\", document);\n+\t\t\tb.add(\"isDocumentOpen\", isDocumentOpen);\n+\t\t\tb.add(\"cancelChecker\", cancelChecker);\n+\t\t\treturn b.toString();\n+\t\t}\n+\n+\t\tpublic Resource getResource() {\n+\t\t\treturn resource;\n+\t\t}\n+\n+\t\tpublic Document getDocument() {\n+\t\t\treturn document;\n+\t\t}\n+\n+\t\tpublic boolean isDocumentOpen() {\n+\t\t\treturn isDocumentOpen;\n+\t\t}\n+\n+\t\tpublic CancelIndicator getCancelChecker() {\n+\t\t\treturn cancelChecker;\n+\t\t}\n+\t}\n+\n+\tclass IndexContext {\n+\t\tprivate final IResourceDescriptions index;\n+\n+\t\tprivate final CancelIndicator cancelChecker;\n+\n+\t\tpublic IndexContext(IResourceDescriptions index, CancelIndicator cancelChecker) {\n+\t\t\tthis.index = index;\n+\t\t\tthis.cancelChecker = cancelChecker;\n+\t\t}\n+\n+\t\t@Override\n+\t\tpublic String toString() {\n+\t\t\tToStringBuilder b = new ToStringBuilder(this);\n+\t\t\tb.add(\"index\", index);\n+\t\t\tb.add(\"cancelChecker\", cancelChecker);\n+\t\t\treturn b.toString();\n+\t\t}\n+\n+\t\tpublic IResourceDescriptions getIndex() {\n+\t\t\treturn index;\n+\t\t}\n+\n+\t\tpublic CancelIndicator getCancelChecker() {\n+\t\t\treturn cancelChecker;\n+\t\t}\n+\t}\n+\n+\tinterface IBuildListener {\n+\t\tvoid afterBuild(List<IResourceDescription.Delta> deltas);\n+\t}\n+\n+\t/**\n+\t * provides read access to a fully resolved resource and Document.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1981f57b1e52a5d88bb3c01bea39ecddb5a88500"}, "originalPosition": 109}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODM0NjM2NA==", "bodyText": "@cdietrich This one for example", "url": "https://github.com/eclipse/xtext-core/pull/1409#discussion_r388346364", "createdAt": "2020-03-05T14:57:06Z", "author": {"login": "tivervac"}, "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/server/ILanguageServerAccess.java", "diffHunk": "@@ -0,0 +1,158 @@\n+/**\n+ * Copyright (c) 2016, 2020 TypeFox GmbH (http://www.typefox.io) and others.\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0.\n+ * \n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.eclipse.xtext.ide.server;\n+\n+import java.util.List;\n+import java.util.concurrent.CompletableFuture;\n+import java.util.function.Function;\n+\n+import org.eclipse.emf.common.util.URI;\n+import org.eclipse.emf.ecore.resource.Resource;\n+import org.eclipse.emf.ecore.resource.ResourceSet;\n+import org.eclipse.lsp4j.InitializeParams;\n+import org.eclipse.lsp4j.InitializeResult;\n+import org.eclipse.lsp4j.services.LanguageClient;\n+import org.eclipse.xtext.ide.serializer.IChangeSerializer;\n+import org.eclipse.xtext.resource.IResourceDescription;\n+import org.eclipse.xtext.resource.IResourceDescriptions;\n+import org.eclipse.xtext.resource.impl.ResourceDescriptionsProvider;\n+import org.eclipse.xtext.util.CancelIndicator;\n+import org.eclipse.xtext.xbase.lib.util.ToStringBuilder;\n+\n+/**\n+ * API for interacting with a running language server.\n+ * \n+ * @author Sven Efftinge - Initial contribution and API\n+ */\n+public interface ILanguageServerAccess {\n+\tclass Context {\n+\t\tprivate final Resource resource;\n+\n+\t\tprivate final Document document;\n+\n+\t\tprivate final boolean isDocumentOpen;\n+\n+\t\tprivate final CancelIndicator cancelChecker;\n+\n+\t\tpublic Context(Resource resource, Document document, boolean isDocumentOpen, CancelIndicator cancelChecker) {\n+\t\t\tthis.resource = resource;\n+\t\t\tthis.document = document;\n+\t\t\tthis.isDocumentOpen = isDocumentOpen;\n+\t\t\tthis.cancelChecker = cancelChecker;\n+\t\t}\n+\n+\t\t@Override\n+\t\tpublic String toString() {\n+\t\t\tToStringBuilder b = new ToStringBuilder(this);\n+\t\t\tb.add(\"resource\", resource);\n+\t\t\tb.add(\"document\", document);\n+\t\t\tb.add(\"isDocumentOpen\", isDocumentOpen);\n+\t\t\tb.add(\"cancelChecker\", cancelChecker);\n+\t\t\treturn b.toString();\n+\t\t}\n+\n+\t\tpublic Resource getResource() {\n+\t\t\treturn resource;\n+\t\t}\n+\n+\t\tpublic Document getDocument() {\n+\t\t\treturn document;\n+\t\t}\n+\n+\t\tpublic boolean isDocumentOpen() {\n+\t\t\treturn isDocumentOpen;\n+\t\t}\n+\n+\t\tpublic CancelIndicator getCancelChecker() {\n+\t\t\treturn cancelChecker;\n+\t\t}\n+\t}\n+\n+\tclass IndexContext {\n+\t\tprivate final IResourceDescriptions index;\n+\n+\t\tprivate final CancelIndicator cancelChecker;\n+\n+\t\tpublic IndexContext(IResourceDescriptions index, CancelIndicator cancelChecker) {\n+\t\t\tthis.index = index;\n+\t\t\tthis.cancelChecker = cancelChecker;\n+\t\t}\n+\n+\t\t@Override\n+\t\tpublic String toString() {\n+\t\t\tToStringBuilder b = new ToStringBuilder(this);\n+\t\t\tb.add(\"index\", index);\n+\t\t\tb.add(\"cancelChecker\", cancelChecker);\n+\t\t\treturn b.toString();\n+\t\t}\n+\n+\t\tpublic IResourceDescriptions getIndex() {\n+\t\t\treturn index;\n+\t\t}\n+\n+\t\tpublic CancelIndicator getCancelChecker() {\n+\t\t\treturn cancelChecker;\n+\t\t}\n+\t}\n+\n+\tinterface IBuildListener {\n+\t\tvoid afterBuild(List<IResourceDescription.Delta> deltas);\n+\t}\n+\n+\t/**\n+\t * provides read access to a fully resolved resource and Document.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODI3NzM5MA=="}, "originalCommit": {"oid": "1981f57b1e52a5d88bb3c01bea39ecddb5a88500"}, "originalPosition": 109}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQwNTU3MjQ1OnYy", "diffSide": "RIGHT", "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/server/ILanguageServerAccess.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxMzowMTowM1rOFySmfQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxMzowMTowM1rOFySmfQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODI3Nzg4NQ==", "bodyText": "s/registers/Registers/\ns/the this/this/", "url": "https://github.com/eclipse/xtext-core/pull/1409#discussion_r388277885", "createdAt": "2020-03-05T13:01:03Z", "author": {"login": "tivervac"}, "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/server/ILanguageServerAccess.java", "diffHunk": "@@ -0,0 +1,158 @@\n+/**\n+ * Copyright (c) 2016, 2020 TypeFox GmbH (http://www.typefox.io) and others.\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0.\n+ * \n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.eclipse.xtext.ide.server;\n+\n+import java.util.List;\n+import java.util.concurrent.CompletableFuture;\n+import java.util.function.Function;\n+\n+import org.eclipse.emf.common.util.URI;\n+import org.eclipse.emf.ecore.resource.Resource;\n+import org.eclipse.emf.ecore.resource.ResourceSet;\n+import org.eclipse.lsp4j.InitializeParams;\n+import org.eclipse.lsp4j.InitializeResult;\n+import org.eclipse.lsp4j.services.LanguageClient;\n+import org.eclipse.xtext.ide.serializer.IChangeSerializer;\n+import org.eclipse.xtext.resource.IResourceDescription;\n+import org.eclipse.xtext.resource.IResourceDescriptions;\n+import org.eclipse.xtext.resource.impl.ResourceDescriptionsProvider;\n+import org.eclipse.xtext.util.CancelIndicator;\n+import org.eclipse.xtext.xbase.lib.util.ToStringBuilder;\n+\n+/**\n+ * API for interacting with a running language server.\n+ * \n+ * @author Sven Efftinge - Initial contribution and API\n+ */\n+public interface ILanguageServerAccess {\n+\tclass Context {\n+\t\tprivate final Resource resource;\n+\n+\t\tprivate final Document document;\n+\n+\t\tprivate final boolean isDocumentOpen;\n+\n+\t\tprivate final CancelIndicator cancelChecker;\n+\n+\t\tpublic Context(Resource resource, Document document, boolean isDocumentOpen, CancelIndicator cancelChecker) {\n+\t\t\tthis.resource = resource;\n+\t\t\tthis.document = document;\n+\t\t\tthis.isDocumentOpen = isDocumentOpen;\n+\t\t\tthis.cancelChecker = cancelChecker;\n+\t\t}\n+\n+\t\t@Override\n+\t\tpublic String toString() {\n+\t\t\tToStringBuilder b = new ToStringBuilder(this);\n+\t\t\tb.add(\"resource\", resource);\n+\t\t\tb.add(\"document\", document);\n+\t\t\tb.add(\"isDocumentOpen\", isDocumentOpen);\n+\t\t\tb.add(\"cancelChecker\", cancelChecker);\n+\t\t\treturn b.toString();\n+\t\t}\n+\n+\t\tpublic Resource getResource() {\n+\t\t\treturn resource;\n+\t\t}\n+\n+\t\tpublic Document getDocument() {\n+\t\t\treturn document;\n+\t\t}\n+\n+\t\tpublic boolean isDocumentOpen() {\n+\t\t\treturn isDocumentOpen;\n+\t\t}\n+\n+\t\tpublic CancelIndicator getCancelChecker() {\n+\t\t\treturn cancelChecker;\n+\t\t}\n+\t}\n+\n+\tclass IndexContext {\n+\t\tprivate final IResourceDescriptions index;\n+\n+\t\tprivate final CancelIndicator cancelChecker;\n+\n+\t\tpublic IndexContext(IResourceDescriptions index, CancelIndicator cancelChecker) {\n+\t\t\tthis.index = index;\n+\t\t\tthis.cancelChecker = cancelChecker;\n+\t\t}\n+\n+\t\t@Override\n+\t\tpublic String toString() {\n+\t\t\tToStringBuilder b = new ToStringBuilder(this);\n+\t\t\tb.add(\"index\", index);\n+\t\t\tb.add(\"cancelChecker\", cancelChecker);\n+\t\t\treturn b.toString();\n+\t\t}\n+\n+\t\tpublic IResourceDescriptions getIndex() {\n+\t\t\treturn index;\n+\t\t}\n+\n+\t\tpublic CancelIndicator getCancelChecker() {\n+\t\t\treturn cancelChecker;\n+\t\t}\n+\t}\n+\n+\tinterface IBuildListener {\n+\t\tvoid afterBuild(List<IResourceDescription.Delta> deltas);\n+\t}\n+\n+\t/**\n+\t * provides read access to a fully resolved resource and Document.\n+\t */\n+\t<T extends Object> CompletableFuture<T> doRead(String uri, Function<ILanguageServerAccess.Context, T> function);\n+\n+\t/**\n+\t * Provides read access to the Xtext index.\n+\t * \n+\t * @since 2.18\n+\t */\n+\t<T extends Object> CompletableFuture<T> doReadIndex(\n+\t\t\tFunction<? super ILanguageServerAccess.IndexContext, ? extends T> function);\n+\n+\t/**\n+\t * registers a build listener on the this language server", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1981f57b1e52a5d88bb3c01bea39ecddb5a88500"}, "originalPosition": 122}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQwNTU3Njk3OnYy", "diffSide": "RIGHT", "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/server/ILanguageServerAccess.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxMzowMjozMFrOFySpMQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxMzowMjozMFrOFySpMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODI3ODU3Nw==", "bodyText": "{@link Endpoint}?", "url": "https://github.com/eclipse/xtext-core/pull/1409#discussion_r388278577", "createdAt": "2020-03-05T13:02:30Z", "author": {"login": "tivervac"}, "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/server/ILanguageServerAccess.java", "diffHunk": "@@ -0,0 +1,158 @@\n+/**\n+ * Copyright (c) 2016, 2020 TypeFox GmbH (http://www.typefox.io) and others.\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0.\n+ * \n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.eclipse.xtext.ide.server;\n+\n+import java.util.List;\n+import java.util.concurrent.CompletableFuture;\n+import java.util.function.Function;\n+\n+import org.eclipse.emf.common.util.URI;\n+import org.eclipse.emf.ecore.resource.Resource;\n+import org.eclipse.emf.ecore.resource.ResourceSet;\n+import org.eclipse.lsp4j.InitializeParams;\n+import org.eclipse.lsp4j.InitializeResult;\n+import org.eclipse.lsp4j.services.LanguageClient;\n+import org.eclipse.xtext.ide.serializer.IChangeSerializer;\n+import org.eclipse.xtext.resource.IResourceDescription;\n+import org.eclipse.xtext.resource.IResourceDescriptions;\n+import org.eclipse.xtext.resource.impl.ResourceDescriptionsProvider;\n+import org.eclipse.xtext.util.CancelIndicator;\n+import org.eclipse.xtext.xbase.lib.util.ToStringBuilder;\n+\n+/**\n+ * API for interacting with a running language server.\n+ * \n+ * @author Sven Efftinge - Initial contribution and API\n+ */\n+public interface ILanguageServerAccess {\n+\tclass Context {\n+\t\tprivate final Resource resource;\n+\n+\t\tprivate final Document document;\n+\n+\t\tprivate final boolean isDocumentOpen;\n+\n+\t\tprivate final CancelIndicator cancelChecker;\n+\n+\t\tpublic Context(Resource resource, Document document, boolean isDocumentOpen, CancelIndicator cancelChecker) {\n+\t\t\tthis.resource = resource;\n+\t\t\tthis.document = document;\n+\t\t\tthis.isDocumentOpen = isDocumentOpen;\n+\t\t\tthis.cancelChecker = cancelChecker;\n+\t\t}\n+\n+\t\t@Override\n+\t\tpublic String toString() {\n+\t\t\tToStringBuilder b = new ToStringBuilder(this);\n+\t\t\tb.add(\"resource\", resource);\n+\t\t\tb.add(\"document\", document);\n+\t\t\tb.add(\"isDocumentOpen\", isDocumentOpen);\n+\t\t\tb.add(\"cancelChecker\", cancelChecker);\n+\t\t\treturn b.toString();\n+\t\t}\n+\n+\t\tpublic Resource getResource() {\n+\t\t\treturn resource;\n+\t\t}\n+\n+\t\tpublic Document getDocument() {\n+\t\t\treturn document;\n+\t\t}\n+\n+\t\tpublic boolean isDocumentOpen() {\n+\t\t\treturn isDocumentOpen;\n+\t\t}\n+\n+\t\tpublic CancelIndicator getCancelChecker() {\n+\t\t\treturn cancelChecker;\n+\t\t}\n+\t}\n+\n+\tclass IndexContext {\n+\t\tprivate final IResourceDescriptions index;\n+\n+\t\tprivate final CancelIndicator cancelChecker;\n+\n+\t\tpublic IndexContext(IResourceDescriptions index, CancelIndicator cancelChecker) {\n+\t\t\tthis.index = index;\n+\t\t\tthis.cancelChecker = cancelChecker;\n+\t\t}\n+\n+\t\t@Override\n+\t\tpublic String toString() {\n+\t\t\tToStringBuilder b = new ToStringBuilder(this);\n+\t\t\tb.add(\"index\", index);\n+\t\t\tb.add(\"cancelChecker\", cancelChecker);\n+\t\t\treturn b.toString();\n+\t\t}\n+\n+\t\tpublic IResourceDescriptions getIndex() {\n+\t\t\treturn index;\n+\t\t}\n+\n+\t\tpublic CancelIndicator getCancelChecker() {\n+\t\t\treturn cancelChecker;\n+\t\t}\n+\t}\n+\n+\tinterface IBuildListener {\n+\t\tvoid afterBuild(List<IResourceDescription.Delta> deltas);\n+\t}\n+\n+\t/**\n+\t * provides read access to a fully resolved resource and Document.\n+\t */\n+\t<T extends Object> CompletableFuture<T> doRead(String uri, Function<ILanguageServerAccess.Context, T> function);\n+\n+\t/**\n+\t * Provides read access to the Xtext index.\n+\t * \n+\t * @since 2.18\n+\t */\n+\t<T extends Object> CompletableFuture<T> doReadIndex(\n+\t\t\tFunction<? super ILanguageServerAccess.IndexContext, ? extends T> function);\n+\n+\t/**\n+\t * registers a build listener on the this language server\n+\t */\n+\tvoid addBuildListener(ILanguageServerAccess.IBuildListener listener);\n+\n+\t/**\n+\t * @return the language client facade. It usually also implements Endpoint, which can be used to call non-standard", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1981f57b1e52a5d88bb3c01bea39ecddb5a88500"}, "originalPosition": 127}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQwNTU3NzU1OnYy", "diffSide": "RIGHT", "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/server/ILanguageServerAccess.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxMzowMjo0MlrOFySpiw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxMzowMjo0MlrOFySpiw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODI3ODY2Nw==", "bodyText": "s/the LSP/LSP/", "url": "https://github.com/eclipse/xtext-core/pull/1409#discussion_r388278667", "createdAt": "2020-03-05T13:02:42Z", "author": {"login": "tivervac"}, "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/server/ILanguageServerAccess.java", "diffHunk": "@@ -0,0 +1,158 @@\n+/**\n+ * Copyright (c) 2016, 2020 TypeFox GmbH (http://www.typefox.io) and others.\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0.\n+ * \n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.eclipse.xtext.ide.server;\n+\n+import java.util.List;\n+import java.util.concurrent.CompletableFuture;\n+import java.util.function.Function;\n+\n+import org.eclipse.emf.common.util.URI;\n+import org.eclipse.emf.ecore.resource.Resource;\n+import org.eclipse.emf.ecore.resource.ResourceSet;\n+import org.eclipse.lsp4j.InitializeParams;\n+import org.eclipse.lsp4j.InitializeResult;\n+import org.eclipse.lsp4j.services.LanguageClient;\n+import org.eclipse.xtext.ide.serializer.IChangeSerializer;\n+import org.eclipse.xtext.resource.IResourceDescription;\n+import org.eclipse.xtext.resource.IResourceDescriptions;\n+import org.eclipse.xtext.resource.impl.ResourceDescriptionsProvider;\n+import org.eclipse.xtext.util.CancelIndicator;\n+import org.eclipse.xtext.xbase.lib.util.ToStringBuilder;\n+\n+/**\n+ * API for interacting with a running language server.\n+ * \n+ * @author Sven Efftinge - Initial contribution and API\n+ */\n+public interface ILanguageServerAccess {\n+\tclass Context {\n+\t\tprivate final Resource resource;\n+\n+\t\tprivate final Document document;\n+\n+\t\tprivate final boolean isDocumentOpen;\n+\n+\t\tprivate final CancelIndicator cancelChecker;\n+\n+\t\tpublic Context(Resource resource, Document document, boolean isDocumentOpen, CancelIndicator cancelChecker) {\n+\t\t\tthis.resource = resource;\n+\t\t\tthis.document = document;\n+\t\t\tthis.isDocumentOpen = isDocumentOpen;\n+\t\t\tthis.cancelChecker = cancelChecker;\n+\t\t}\n+\n+\t\t@Override\n+\t\tpublic String toString() {\n+\t\t\tToStringBuilder b = new ToStringBuilder(this);\n+\t\t\tb.add(\"resource\", resource);\n+\t\t\tb.add(\"document\", document);\n+\t\t\tb.add(\"isDocumentOpen\", isDocumentOpen);\n+\t\t\tb.add(\"cancelChecker\", cancelChecker);\n+\t\t\treturn b.toString();\n+\t\t}\n+\n+\t\tpublic Resource getResource() {\n+\t\t\treturn resource;\n+\t\t}\n+\n+\t\tpublic Document getDocument() {\n+\t\t\treturn document;\n+\t\t}\n+\n+\t\tpublic boolean isDocumentOpen() {\n+\t\t\treturn isDocumentOpen;\n+\t\t}\n+\n+\t\tpublic CancelIndicator getCancelChecker() {\n+\t\t\treturn cancelChecker;\n+\t\t}\n+\t}\n+\n+\tclass IndexContext {\n+\t\tprivate final IResourceDescriptions index;\n+\n+\t\tprivate final CancelIndicator cancelChecker;\n+\n+\t\tpublic IndexContext(IResourceDescriptions index, CancelIndicator cancelChecker) {\n+\t\t\tthis.index = index;\n+\t\t\tthis.cancelChecker = cancelChecker;\n+\t\t}\n+\n+\t\t@Override\n+\t\tpublic String toString() {\n+\t\t\tToStringBuilder b = new ToStringBuilder(this);\n+\t\t\tb.add(\"index\", index);\n+\t\t\tb.add(\"cancelChecker\", cancelChecker);\n+\t\t\treturn b.toString();\n+\t\t}\n+\n+\t\tpublic IResourceDescriptions getIndex() {\n+\t\t\treturn index;\n+\t\t}\n+\n+\t\tpublic CancelIndicator getCancelChecker() {\n+\t\t\treturn cancelChecker;\n+\t\t}\n+\t}\n+\n+\tinterface IBuildListener {\n+\t\tvoid afterBuild(List<IResourceDescription.Delta> deltas);\n+\t}\n+\n+\t/**\n+\t * provides read access to a fully resolved resource and Document.\n+\t */\n+\t<T extends Object> CompletableFuture<T> doRead(String uri, Function<ILanguageServerAccess.Context, T> function);\n+\n+\t/**\n+\t * Provides read access to the Xtext index.\n+\t * \n+\t * @since 2.18\n+\t */\n+\t<T extends Object> CompletableFuture<T> doReadIndex(\n+\t\t\tFunction<? super ILanguageServerAccess.IndexContext, ? extends T> function);\n+\n+\t/**\n+\t * registers a build listener on the this language server\n+\t */\n+\tvoid addBuildListener(ILanguageServerAccess.IBuildListener listener);\n+\n+\t/**\n+\t * @return the language client facade. It usually also implements Endpoint, which can be used to call non-standard\n+\t *         extensions to the LSP.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1981f57b1e52a5d88bb3c01bea39ecddb5a88500"}, "originalPosition": 128}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQwNTU4MTcxOnYy", "diffSide": "RIGHT", "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/server/ILanguageServerAccess.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxMzowNDowNFrOFySsKg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxMzowNDowNFrOFySsKg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODI3OTMzOA==", "bodyText": "Not very useful to have abbreviations here\nresp = respective?\nresp = responsive?\nresp = RESt in Pepperonis?", "url": "https://github.com/eclipse/xtext-core/pull/1409#discussion_r388279338", "createdAt": "2020-03-05T13:04:04Z", "author": {"login": "tivervac"}, "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/server/ILanguageServerAccess.java", "diffHunk": "@@ -0,0 +1,158 @@\n+/**\n+ * Copyright (c) 2016, 2020 TypeFox GmbH (http://www.typefox.io) and others.\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0.\n+ * \n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.eclipse.xtext.ide.server;\n+\n+import java.util.List;\n+import java.util.concurrent.CompletableFuture;\n+import java.util.function.Function;\n+\n+import org.eclipse.emf.common.util.URI;\n+import org.eclipse.emf.ecore.resource.Resource;\n+import org.eclipse.emf.ecore.resource.ResourceSet;\n+import org.eclipse.lsp4j.InitializeParams;\n+import org.eclipse.lsp4j.InitializeResult;\n+import org.eclipse.lsp4j.services.LanguageClient;\n+import org.eclipse.xtext.ide.serializer.IChangeSerializer;\n+import org.eclipse.xtext.resource.IResourceDescription;\n+import org.eclipse.xtext.resource.IResourceDescriptions;\n+import org.eclipse.xtext.resource.impl.ResourceDescriptionsProvider;\n+import org.eclipse.xtext.util.CancelIndicator;\n+import org.eclipse.xtext.xbase.lib.util.ToStringBuilder;\n+\n+/**\n+ * API for interacting with a running language server.\n+ * \n+ * @author Sven Efftinge - Initial contribution and API\n+ */\n+public interface ILanguageServerAccess {\n+\tclass Context {\n+\t\tprivate final Resource resource;\n+\n+\t\tprivate final Document document;\n+\n+\t\tprivate final boolean isDocumentOpen;\n+\n+\t\tprivate final CancelIndicator cancelChecker;\n+\n+\t\tpublic Context(Resource resource, Document document, boolean isDocumentOpen, CancelIndicator cancelChecker) {\n+\t\t\tthis.resource = resource;\n+\t\t\tthis.document = document;\n+\t\t\tthis.isDocumentOpen = isDocumentOpen;\n+\t\t\tthis.cancelChecker = cancelChecker;\n+\t\t}\n+\n+\t\t@Override\n+\t\tpublic String toString() {\n+\t\t\tToStringBuilder b = new ToStringBuilder(this);\n+\t\t\tb.add(\"resource\", resource);\n+\t\t\tb.add(\"document\", document);\n+\t\t\tb.add(\"isDocumentOpen\", isDocumentOpen);\n+\t\t\tb.add(\"cancelChecker\", cancelChecker);\n+\t\t\treturn b.toString();\n+\t\t}\n+\n+\t\tpublic Resource getResource() {\n+\t\t\treturn resource;\n+\t\t}\n+\n+\t\tpublic Document getDocument() {\n+\t\t\treturn document;\n+\t\t}\n+\n+\t\tpublic boolean isDocumentOpen() {\n+\t\t\treturn isDocumentOpen;\n+\t\t}\n+\n+\t\tpublic CancelIndicator getCancelChecker() {\n+\t\t\treturn cancelChecker;\n+\t\t}\n+\t}\n+\n+\tclass IndexContext {\n+\t\tprivate final IResourceDescriptions index;\n+\n+\t\tprivate final CancelIndicator cancelChecker;\n+\n+\t\tpublic IndexContext(IResourceDescriptions index, CancelIndicator cancelChecker) {\n+\t\t\tthis.index = index;\n+\t\t\tthis.cancelChecker = cancelChecker;\n+\t\t}\n+\n+\t\t@Override\n+\t\tpublic String toString() {\n+\t\t\tToStringBuilder b = new ToStringBuilder(this);\n+\t\t\tb.add(\"index\", index);\n+\t\t\tb.add(\"cancelChecker\", cancelChecker);\n+\t\t\treturn b.toString();\n+\t\t}\n+\n+\t\tpublic IResourceDescriptions getIndex() {\n+\t\t\treturn index;\n+\t\t}\n+\n+\t\tpublic CancelIndicator getCancelChecker() {\n+\t\t\treturn cancelChecker;\n+\t\t}\n+\t}\n+\n+\tinterface IBuildListener {\n+\t\tvoid afterBuild(List<IResourceDescription.Delta> deltas);\n+\t}\n+\n+\t/**\n+\t * provides read access to a fully resolved resource and Document.\n+\t */\n+\t<T extends Object> CompletableFuture<T> doRead(String uri, Function<ILanguageServerAccess.Context, T> function);\n+\n+\t/**\n+\t * Provides read access to the Xtext index.\n+\t * \n+\t * @since 2.18\n+\t */\n+\t<T extends Object> CompletableFuture<T> doReadIndex(\n+\t\t\tFunction<? super ILanguageServerAccess.IndexContext, ? extends T> function);\n+\n+\t/**\n+\t * registers a build listener on the this language server\n+\t */\n+\tvoid addBuildListener(ILanguageServerAccess.IBuildListener listener);\n+\n+\t/**\n+\t * @return the language client facade. It usually also implements Endpoint, which can be used to call non-standard\n+\t *         extensions to the LSP.\n+\t */\n+\tLanguageClient getLanguageClient();\n+\n+\t/**\n+\t * Creates a new {@link ResourceSet} to be used with the {@link IChangeSerializer} API.\n+\t * \n+\t * The {@link IChangeSerializer} allows to calculate text edits from model changes. In order not to mess up the\n+\t * originals, the resp. models should be loaded into a new resource set which this method provides.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1981f57b1e52a5d88bb3c01bea39ecddb5a88500"}, "originalPosition": 136}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQwNTU4MjY0OnYy", "diffSide": "RIGHT", "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/server/ILanguageServerAccess.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxMzowNDoyNlrOFySszA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxMzowNDoyNlrOFySszA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODI3OTUwMA==", "bodyText": "{@link URI}", "url": "https://github.com/eclipse/xtext-core/pull/1409#discussion_r388279500", "createdAt": "2020-03-05T13:04:26Z", "author": {"login": "tivervac"}, "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/server/ILanguageServerAccess.java", "diffHunk": "@@ -0,0 +1,158 @@\n+/**\n+ * Copyright (c) 2016, 2020 TypeFox GmbH (http://www.typefox.io) and others.\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0.\n+ * \n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.eclipse.xtext.ide.server;\n+\n+import java.util.List;\n+import java.util.concurrent.CompletableFuture;\n+import java.util.function.Function;\n+\n+import org.eclipse.emf.common.util.URI;\n+import org.eclipse.emf.ecore.resource.Resource;\n+import org.eclipse.emf.ecore.resource.ResourceSet;\n+import org.eclipse.lsp4j.InitializeParams;\n+import org.eclipse.lsp4j.InitializeResult;\n+import org.eclipse.lsp4j.services.LanguageClient;\n+import org.eclipse.xtext.ide.serializer.IChangeSerializer;\n+import org.eclipse.xtext.resource.IResourceDescription;\n+import org.eclipse.xtext.resource.IResourceDescriptions;\n+import org.eclipse.xtext.resource.impl.ResourceDescriptionsProvider;\n+import org.eclipse.xtext.util.CancelIndicator;\n+import org.eclipse.xtext.xbase.lib.util.ToStringBuilder;\n+\n+/**\n+ * API for interacting with a running language server.\n+ * \n+ * @author Sven Efftinge - Initial contribution and API\n+ */\n+public interface ILanguageServerAccess {\n+\tclass Context {\n+\t\tprivate final Resource resource;\n+\n+\t\tprivate final Document document;\n+\n+\t\tprivate final boolean isDocumentOpen;\n+\n+\t\tprivate final CancelIndicator cancelChecker;\n+\n+\t\tpublic Context(Resource resource, Document document, boolean isDocumentOpen, CancelIndicator cancelChecker) {\n+\t\t\tthis.resource = resource;\n+\t\t\tthis.document = document;\n+\t\t\tthis.isDocumentOpen = isDocumentOpen;\n+\t\t\tthis.cancelChecker = cancelChecker;\n+\t\t}\n+\n+\t\t@Override\n+\t\tpublic String toString() {\n+\t\t\tToStringBuilder b = new ToStringBuilder(this);\n+\t\t\tb.add(\"resource\", resource);\n+\t\t\tb.add(\"document\", document);\n+\t\t\tb.add(\"isDocumentOpen\", isDocumentOpen);\n+\t\t\tb.add(\"cancelChecker\", cancelChecker);\n+\t\t\treturn b.toString();\n+\t\t}\n+\n+\t\tpublic Resource getResource() {\n+\t\t\treturn resource;\n+\t\t}\n+\n+\t\tpublic Document getDocument() {\n+\t\t\treturn document;\n+\t\t}\n+\n+\t\tpublic boolean isDocumentOpen() {\n+\t\t\treturn isDocumentOpen;\n+\t\t}\n+\n+\t\tpublic CancelIndicator getCancelChecker() {\n+\t\t\treturn cancelChecker;\n+\t\t}\n+\t}\n+\n+\tclass IndexContext {\n+\t\tprivate final IResourceDescriptions index;\n+\n+\t\tprivate final CancelIndicator cancelChecker;\n+\n+\t\tpublic IndexContext(IResourceDescriptions index, CancelIndicator cancelChecker) {\n+\t\t\tthis.index = index;\n+\t\t\tthis.cancelChecker = cancelChecker;\n+\t\t}\n+\n+\t\t@Override\n+\t\tpublic String toString() {\n+\t\t\tToStringBuilder b = new ToStringBuilder(this);\n+\t\t\tb.add(\"index\", index);\n+\t\t\tb.add(\"cancelChecker\", cancelChecker);\n+\t\t\treturn b.toString();\n+\t\t}\n+\n+\t\tpublic IResourceDescriptions getIndex() {\n+\t\t\treturn index;\n+\t\t}\n+\n+\t\tpublic CancelIndicator getCancelChecker() {\n+\t\t\treturn cancelChecker;\n+\t\t}\n+\t}\n+\n+\tinterface IBuildListener {\n+\t\tvoid afterBuild(List<IResourceDescription.Delta> deltas);\n+\t}\n+\n+\t/**\n+\t * provides read access to a fully resolved resource and Document.\n+\t */\n+\t<T extends Object> CompletableFuture<T> doRead(String uri, Function<ILanguageServerAccess.Context, T> function);\n+\n+\t/**\n+\t * Provides read access to the Xtext index.\n+\t * \n+\t * @since 2.18\n+\t */\n+\t<T extends Object> CompletableFuture<T> doReadIndex(\n+\t\t\tFunction<? super ILanguageServerAccess.IndexContext, ? extends T> function);\n+\n+\t/**\n+\t * registers a build listener on the this language server\n+\t */\n+\tvoid addBuildListener(ILanguageServerAccess.IBuildListener listener);\n+\n+\t/**\n+\t * @return the language client facade. It usually also implements Endpoint, which can be used to call non-standard\n+\t *         extensions to the LSP.\n+\t */\n+\tLanguageClient getLanguageClient();\n+\n+\t/**\n+\t * Creates a new {@link ResourceSet} to be used with the {@link IChangeSerializer} API.\n+\t * \n+\t * The {@link IChangeSerializer} allows to calculate text edits from model changes. In order not to mess up the\n+\t * originals, the resp. models should be loaded into a new resource set which this method provides.\n+\t * \n+\t * @param uri\n+\t *            a file URI used to detect the project to configure the scope of the resource set.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1981f57b1e52a5d88bb3c01bea39ecddb5a88500"}, "originalPosition": 139}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQwNTU4NTE4OnYy", "diffSide": "RIGHT", "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/server/ILanguageServerAccess.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxMzowNToxOVrOFySuYA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxMzowNToxOVrOFySuYA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODI3OTkwNA==", "bodyText": "s/with the/the/\ns/LS/language server/", "url": "https://github.com/eclipse/xtext-core/pull/1409#discussion_r388279904", "createdAt": "2020-03-05T13:05:19Z", "author": {"login": "tivervac"}, "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/server/ILanguageServerAccess.java", "diffHunk": "@@ -0,0 +1,158 @@\n+/**\n+ * Copyright (c) 2016, 2020 TypeFox GmbH (http://www.typefox.io) and others.\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0.\n+ * \n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.eclipse.xtext.ide.server;\n+\n+import java.util.List;\n+import java.util.concurrent.CompletableFuture;\n+import java.util.function.Function;\n+\n+import org.eclipse.emf.common.util.URI;\n+import org.eclipse.emf.ecore.resource.Resource;\n+import org.eclipse.emf.ecore.resource.ResourceSet;\n+import org.eclipse.lsp4j.InitializeParams;\n+import org.eclipse.lsp4j.InitializeResult;\n+import org.eclipse.lsp4j.services.LanguageClient;\n+import org.eclipse.xtext.ide.serializer.IChangeSerializer;\n+import org.eclipse.xtext.resource.IResourceDescription;\n+import org.eclipse.xtext.resource.IResourceDescriptions;\n+import org.eclipse.xtext.resource.impl.ResourceDescriptionsProvider;\n+import org.eclipse.xtext.util.CancelIndicator;\n+import org.eclipse.xtext.xbase.lib.util.ToStringBuilder;\n+\n+/**\n+ * API for interacting with a running language server.\n+ * \n+ * @author Sven Efftinge - Initial contribution and API\n+ */\n+public interface ILanguageServerAccess {\n+\tclass Context {\n+\t\tprivate final Resource resource;\n+\n+\t\tprivate final Document document;\n+\n+\t\tprivate final boolean isDocumentOpen;\n+\n+\t\tprivate final CancelIndicator cancelChecker;\n+\n+\t\tpublic Context(Resource resource, Document document, boolean isDocumentOpen, CancelIndicator cancelChecker) {\n+\t\t\tthis.resource = resource;\n+\t\t\tthis.document = document;\n+\t\t\tthis.isDocumentOpen = isDocumentOpen;\n+\t\t\tthis.cancelChecker = cancelChecker;\n+\t\t}\n+\n+\t\t@Override\n+\t\tpublic String toString() {\n+\t\t\tToStringBuilder b = new ToStringBuilder(this);\n+\t\t\tb.add(\"resource\", resource);\n+\t\t\tb.add(\"document\", document);\n+\t\t\tb.add(\"isDocumentOpen\", isDocumentOpen);\n+\t\t\tb.add(\"cancelChecker\", cancelChecker);\n+\t\t\treturn b.toString();\n+\t\t}\n+\n+\t\tpublic Resource getResource() {\n+\t\t\treturn resource;\n+\t\t}\n+\n+\t\tpublic Document getDocument() {\n+\t\t\treturn document;\n+\t\t}\n+\n+\t\tpublic boolean isDocumentOpen() {\n+\t\t\treturn isDocumentOpen;\n+\t\t}\n+\n+\t\tpublic CancelIndicator getCancelChecker() {\n+\t\t\treturn cancelChecker;\n+\t\t}\n+\t}\n+\n+\tclass IndexContext {\n+\t\tprivate final IResourceDescriptions index;\n+\n+\t\tprivate final CancelIndicator cancelChecker;\n+\n+\t\tpublic IndexContext(IResourceDescriptions index, CancelIndicator cancelChecker) {\n+\t\t\tthis.index = index;\n+\t\t\tthis.cancelChecker = cancelChecker;\n+\t\t}\n+\n+\t\t@Override\n+\t\tpublic String toString() {\n+\t\t\tToStringBuilder b = new ToStringBuilder(this);\n+\t\t\tb.add(\"index\", index);\n+\t\t\tb.add(\"cancelChecker\", cancelChecker);\n+\t\t\treturn b.toString();\n+\t\t}\n+\n+\t\tpublic IResourceDescriptions getIndex() {\n+\t\t\treturn index;\n+\t\t}\n+\n+\t\tpublic CancelIndicator getCancelChecker() {\n+\t\t\treturn cancelChecker;\n+\t\t}\n+\t}\n+\n+\tinterface IBuildListener {\n+\t\tvoid afterBuild(List<IResourceDescription.Delta> deltas);\n+\t}\n+\n+\t/**\n+\t * provides read access to a fully resolved resource and Document.\n+\t */\n+\t<T extends Object> CompletableFuture<T> doRead(String uri, Function<ILanguageServerAccess.Context, T> function);\n+\n+\t/**\n+\t * Provides read access to the Xtext index.\n+\t * \n+\t * @since 2.18\n+\t */\n+\t<T extends Object> CompletableFuture<T> doReadIndex(\n+\t\t\tFunction<? super ILanguageServerAccess.IndexContext, ? extends T> function);\n+\n+\t/**\n+\t * registers a build listener on the this language server\n+\t */\n+\tvoid addBuildListener(ILanguageServerAccess.IBuildListener listener);\n+\n+\t/**\n+\t * @return the language client facade. It usually also implements Endpoint, which can be used to call non-standard\n+\t *         extensions to the LSP.\n+\t */\n+\tLanguageClient getLanguageClient();\n+\n+\t/**\n+\t * Creates a new {@link ResourceSet} to be used with the {@link IChangeSerializer} API.\n+\t * \n+\t * The {@link IChangeSerializer} allows to calculate text edits from model changes. In order not to mess up the\n+\t * originals, the resp. models should be loaded into a new resource set which this method provides.\n+\t * \n+\t * @param uri\n+\t *            a file URI used to detect the project to configure the scope of the resource set.\n+\t * @return a new empty resource set, configured with the project the <code>uri</code> belongs to and the\n+\t *         {@link ResourceDescriptionsProvider#LIVE_SCOPE} in order to reflect model changes immediately.\n+\t * @since 2.18\n+\t */\n+\tResourceSet newLiveScopeResourceSet(URI uri);\n+\n+\t/**\n+\t * @return the parameters as negotiated during client and server on initialization.\n+\t * @since 2.18\n+\t */\n+\tInitializeParams getInitializeParams();\n+\n+\t/**\n+\t * Returns with the {@link InitializeResult} of the LS.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1981f57b1e52a5d88bb3c01bea39ecddb5a88500"}, "originalPosition": 153}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQwNTU4Nzk1OnYy", "diffSide": "RIGHT", "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/server/ILanguageServerExtension.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxMzowNjoxNVrOFySwCg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxMzowNjoxNVrOFySwCg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODI4MDMzMA==", "bodyText": "s/the LSP/LSP/\n{link} instead of {@link}?", "url": "https://github.com/eclipse/xtext-core/pull/1409#discussion_r388280330", "createdAt": "2020-03-05T13:06:15Z", "author": {"login": "tivervac"}, "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/server/ILanguageServerExtension.java", "diffHunk": "@@ -0,0 +1,32 @@\n+/**\n+ * Copyright (c) 2016 TypeFox GmbH (http://www.typefox.io) and others.\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0.\n+ * \n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.eclipse.xtext.ide.server;\n+\n+import org.eclipse.xtext.ide.server.ILanguageServerAccess;\n+\n+/**\n+ * Interface for language specific extensions to the LSP. Implementors should use {link JsonRpcNotification} and {link", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1981f57b1e52a5d88bb3c01bea39ecddb5a88500"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQwNTU5NTA2OnYy", "diffSide": "RIGHT", "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/server/ILanguageServerExtension.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxMzowODoyNlrOFyS0JA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxMzowODoyNlrOFyS0JA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODI4MTM4MA==", "bodyText": "This comment doesn't make sense at all.\nHow about:\n/**\n * Initialize the extension\n * @param access Provides access to language server documents, resources and build events\n */", "url": "https://github.com/eclipse/xtext-core/pull/1409#discussion_r388281380", "createdAt": "2020-03-05T13:08:26Z", "author": {"login": "tivervac"}, "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/server/ILanguageServerExtension.java", "diffHunk": "@@ -0,0 +1,32 @@\n+/**\n+ * Copyright (c) 2016 TypeFox GmbH (http://www.typefox.io) and others.\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0.\n+ * \n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.eclipse.xtext.ide.server;\n+\n+import org.eclipse.xtext.ide.server.ILanguageServerAccess;\n+\n+/**\n+ * Interface for language specific extensions to the LSP. Implementors should use {link JsonRpcNotification} and {link\n+ * JsonRpcRequest} annotations.\n+ * \n+ * @author Sven Efftinge - Initial contribution and API\n+ */\n+public interface ILanguageServerExtension {\n+\t/**\n+\t * The same jsonrpc method might be supported by multiple languages and only the actual invocation might reveal is a\n+\t * language wants to handle it, based on e.g. a uri in the parameter.\n+\t * \n+\t * To indicate that a request is not handled, this exception should be thrown by the service.\n+\t */\n+\tstatic final RuntimeException NOT_HANDLED_EXCEPTION = new UnsupportedOperationException(\"not handled\");\n+\n+\t/**\n+\t * the language server provides a access to language server documents, resources and build events.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1981f57b1e52a5d88bb3c01bea39ecddb5a88500"}, "originalPosition": 29}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQwNTU5OTAxOnYy", "diffSide": "RIGHT", "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/server/codelens/ICodeLensResolver.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxMzowOTo0NFrOFyS2fA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxMzowOTo0NFrOFyS2fA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODI4MTk4MA==", "bodyText": "Not sure how Xtext feels about this but I very much like a newline at the end of the file", "url": "https://github.com/eclipse/xtext-core/pull/1409#discussion_r388281980", "createdAt": "2020-03-05T13:09:44Z", "author": {"login": "tivervac"}, "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/server/codelens/ICodeLensResolver.java", "diffHunk": "@@ -16,10 +16,10 @@\n /**\n  * @author Sven Efftinge - Initial contribution and API\n  */\n-@SuppressWarnings(\"all\")\n public interface ICodeLensResolver {\n-  /**\n-   * Resolve the given code lens.\n-   */\n-  CodeLens resolveCodeLens(final Document document, final XtextResource resource, final CodeLens codeLens, final CancelIndicator indicator);\n-}\n+\t\n+\t/**\n+\t * Resolve the given code lens.\n+\t */\n+\tCodeLens resolveCodeLens(Document document, XtextResource resource, CodeLens codeLens, CancelIndicator indicator);\n+}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1981f57b1e52a5d88bb3c01bea39ecddb5a88500"}, "originalPosition": 32}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQwNTU5OTk3OnYy", "diffSide": "RIGHT", "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/server/codelens/ICodeLensService.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxMzoxMDowNFrOFyS2_w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxMzoxMDowNFrOFyS2_w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODI4MjExMQ==", "bodyText": "s/compute/Compute/", "url": "https://github.com/eclipse/xtext-core/pull/1409#discussion_r388282111", "createdAt": "2020-03-05T13:10:04Z", "author": {"login": "tivervac"}, "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/server/codelens/ICodeLensService.java", "diffHunk": "@@ -18,10 +18,11 @@\n /**\n  * @author Sven Efftinge - Initial contribution and API\n  */\n-@SuppressWarnings(\"all\")\n public interface ICodeLensService {\n-  /**\n-   * compute code lenses for the given context.\n-   */\n-  List<? extends CodeLens> computeCodeLenses(final Document document, final XtextResource resource, final CodeLensParams params, final CancelIndicator indicator);\n-}\n+\t\n+\t/**\n+\t * compute code lenses for the given context.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1981f57b1e52a5d88bb3c01bea39ecddb5a88500"}, "originalPosition": 29}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQwNTYwNTM0OnYy", "diffSide": "RIGHT", "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/server/commands/IExecutableCommandService.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxMzoxMTo0NFrOFyS6UA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxNToxMToxNFrOFyXYVg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODI4Mjk2MA==", "bodyText": "Just checking but IIRC Function1 can't be replaced by java.util.Function without breaking backwards compatibility can't it?", "url": "https://github.com/eclipse/xtext-core/pull/1409#discussion_r388282960", "createdAt": "2020-03-05T13:11:44Z", "author": {"login": "tivervac"}, "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/server/commands/IExecutableCommandService.java", "diffHunk": "@@ -29,11 +28,11 @@\n   /**\n    * Called on server initialize, only if the client supported dynamicRegistration of commands.\n    */\n-  default void initializeDynamicRegistration(final Function1<? super String, ? extends IDisposable> register) {\n+  default void initializeDynamicRegistration(Function1<? super String, ? extends IDisposable> register) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1981f57b1e52a5d88bb3c01bea39ecddb5a88500"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODM1NjE4Mg==", "bodyText": "yes there is no inheriance yet", "url": "https://github.com/eclipse/xtext-core/pull/1409#discussion_r388356182", "createdAt": "2020-03-05T15:11:14Z", "author": {"login": "cdietrich"}, "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/server/commands/IExecutableCommandService.java", "diffHunk": "@@ -29,11 +28,11 @@\n   /**\n    * Called on server initialize, only if the client supported dynamicRegistration of commands.\n    */\n-  default void initializeDynamicRegistration(final Function1<? super String, ? extends IDisposable> register) {\n+  default void initializeDynamicRegistration(Function1<? super String, ? extends IDisposable> register) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODI4Mjk2MA=="}, "originalCommit": {"oid": "1981f57b1e52a5d88bb3c01bea39ecddb5a88500"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQwNTYwNzMxOnYy", "diffSide": "RIGHT", "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/server/hover/HoverContext.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxMzoxMjoyMFrOFyS7gQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxMzoxMjoyMFrOFyS7gQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODI4MzI2NQ==", "bodyText": "Not needed", "url": "https://github.com/eclipse/xtext-core/pull/1409#discussion_r388283265", "createdAt": "2020-03-05T13:12:20Z", "author": {"login": "tivervac"}, "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/server/hover/HoverContext.java", "diffHunk": "@@ -0,0 +1,65 @@\n+/**\n+ * Copyright (c) 2016, 2020 TypeFox GmbH (http://www.typefox.io) and others.\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0.\n+ * \n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.eclipse.xtext.ide.server.hover;\n+\n+import org.eclipse.emf.ecore.EObject;\n+import org.eclipse.emf.ecore.util.EcoreUtil;\n+import org.eclipse.xtext.ide.server.Document;\n+import org.eclipse.xtext.resource.XtextResource;\n+import org.eclipse.xtext.util.ITextRegion;\n+import org.eclipse.xtext.util.Strings;\n+\n+public class HoverContext {\n+\tprivate final Document document;\n+\n+\tprivate final XtextResource resource;\n+\n+\tprivate final int offset;\n+\n+\tprivate final ITextRegion region;\n+\n+\tprivate final EObject element;\n+\n+\tpublic HoverContext(Document document, XtextResource resource, int offset, ITextRegion region, EObject element) {\n+\t\tsuper();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1981f57b1e52a5d88bb3c01bea39ecddb5a88500"}, "originalPosition": 30}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQwNTYwOTY4OnYy", "diffSide": "RIGHT", "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/server/hover/HoverService.xtend", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxMzoxMzowNlrOFyS86Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxMzoxMzowNlrOFyS86Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODI4MzYyNQ==", "bodyText": "NL at EOF", "url": "https://github.com/eclipse/xtext-core/pull/1409#discussion_r388283625", "createdAt": "2020-03-05T13:13:06Z", "author": {"login": "tivervac"}, "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/server/hover/HoverService.xtend", "diffHunk": "@@ -123,14 +120,4 @@ class HoverService implements IHoverService {\n \t\treturn documentation\n \t}\n \n-}\n-\n-@Accessors\n-@FinalFieldsConstructor\n-class HoverContext {\n-\tval Document document\n-\tval XtextResource resource\n-\tval int offset\n-\tval ITextRegion region\n-\tval EObject element\n-}\n+}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1981f57b1e52a5d88bb3c01bea39ecddb5a88500"}, "originalPosition": 38}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQwNTYxMjI5OnYy", "diffSide": "RIGHT", "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/server/semanticHighlight/ISemanticHighlightingStyleToTokenMapper.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxMzoxMzo1MlrOFyS-hQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxMzoxMzo1MlrOFyS-hQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODI4NDAzNw==", "bodyText": "s/with a set/a set/", "url": "https://github.com/eclipse/xtext-core/pull/1409#discussion_r388284037", "createdAt": "2020-03-05T13:13:52Z", "author": {"login": "tivervac"}, "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/server/semanticHighlight/ISemanticHighlightingStyleToTokenMapper.java", "diffHunk": "@@ -1,59 +1,65 @@\n /*******************************************************************************\n- * Copyright (c) 2018 TypeFox and others.\n+ * Copyright (c) 2018, 2020 TypeFox and others.\n  * This program and the accompanying materials are made available under the\n  * terms of the Eclipse Public License 2.0 which is available at\n  * http://www.eclipse.org/legal/epl-2.0.\n  *\n  * SPDX-License-Identifier: EPL-2.0\n  *******************************************************************************/\n-package org.eclipse.xtext.ide.server.semanticHighlight\n+package org.eclipse.xtext.ide.server.semanticHighlight;\n \n-import com.google.inject.ImplementedBy\n-import com.google.inject.Singleton\n-import java.util.List\n-import java.util.Set\n-import org.eclipse.xtext.ide.editor.syntaxcoloring.IHighlightedPositionAcceptor\n-import org.eclipse.xtext.ide.editor.syntaxcoloring.ISemanticHighlightingCalculator\n-import org.eclipse.xtext.ide.editor.syntaxcoloring.LightweightPosition\n+import java.util.Collections;\n+import java.util.List;\n+import java.util.Set;\n+\n+import org.eclipse.xtext.ide.editor.syntaxcoloring.IHighlightedPositionAcceptor;\n+import org.eclipse.xtext.ide.editor.syntaxcoloring.ISemanticHighlightingCalculator;\n+import org.eclipse.xtext.ide.editor.syntaxcoloring.LightweightPosition;\n+\n+import com.google.inject.ImplementedBy;\n+import com.google.inject.Singleton;\n \n /**\n- * Service for mapping the IDs of the highlighting styles to a list of <a href=\"https://manual.macromates.com/en/language_grammars\">TextMate scopes</a>.\n+ * Service for mapping the IDs of the highlighting styles to a list of\n+ * <a href=\"https://manual.macromates.com/en/language_grammars\">TextMate scopes</a>.\n  * \n  * @see IHighlightedPositionAcceptor#addPosition\n  * @see LightweightPosition#getIds\n  * \n  */\n-@ImplementedBy(Noop)\n-interface ISemanticHighlightingStyleToTokenMapper {\n+@ImplementedBy(ISemanticHighlightingStyleToTokenMapper.Noop.class)\n+public interface ISemanticHighlightingStyleToTokenMapper {\n \n \t/**\n \t * Maps the highlighting style ID to the corresponding TextMate scopes.\n \t */\n-\tdef List<String> toScopes(String styleId);\n+\tList<String> toScopes(String styleId);\n \n \t/**\n-\t * Returns with a set of distinct style identifiers that are used by the {@link IHighlightedPositionAcceptor} when calculating\n-\t * the highlighted positions with the {@link ISemanticHighlightingCalculator}.\n+\t * Returns with a set of distinct style identifiers that are used by the {@link IHighlightedPositionAcceptor} when", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1981f57b1e52a5d88bb3c01bea39ecddb5a88500"}, "originalPosition": 54}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQwNTYxMzI3OnYy", "diffSide": "RIGHT", "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/server/semanticHighlight/ISemanticHighlightingStyleToTokenMapper.java", "isResolved": false, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxMzoxNDoxMFrOFyS_Gw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxNTozNjo1OFrOFyYdHg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODI4NDE4Nw==", "bodyText": "s/with //", "url": "https://github.com/eclipse/xtext-core/pull/1409#discussion_r388284187", "createdAt": "2020-03-05T13:14:10Z", "author": {"login": "tivervac"}, "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/server/semanticHighlight/ISemanticHighlightingStyleToTokenMapper.java", "diffHunk": "@@ -1,59 +1,65 @@\n /*******************************************************************************\n- * Copyright (c) 2018 TypeFox and others.\n+ * Copyright (c) 2018, 2020 TypeFox and others.\n  * This program and the accompanying materials are made available under the\n  * terms of the Eclipse Public License 2.0 which is available at\n  * http://www.eclipse.org/legal/epl-2.0.\n  *\n  * SPDX-License-Identifier: EPL-2.0\n  *******************************************************************************/\n-package org.eclipse.xtext.ide.server.semanticHighlight\n+package org.eclipse.xtext.ide.server.semanticHighlight;\n \n-import com.google.inject.ImplementedBy\n-import com.google.inject.Singleton\n-import java.util.List\n-import java.util.Set\n-import org.eclipse.xtext.ide.editor.syntaxcoloring.IHighlightedPositionAcceptor\n-import org.eclipse.xtext.ide.editor.syntaxcoloring.ISemanticHighlightingCalculator\n-import org.eclipse.xtext.ide.editor.syntaxcoloring.LightweightPosition\n+import java.util.Collections;\n+import java.util.List;\n+import java.util.Set;\n+\n+import org.eclipse.xtext.ide.editor.syntaxcoloring.IHighlightedPositionAcceptor;\n+import org.eclipse.xtext.ide.editor.syntaxcoloring.ISemanticHighlightingCalculator;\n+import org.eclipse.xtext.ide.editor.syntaxcoloring.LightweightPosition;\n+\n+import com.google.inject.ImplementedBy;\n+import com.google.inject.Singleton;\n \n /**\n- * Service for mapping the IDs of the highlighting styles to a list of <a href=\"https://manual.macromates.com/en/language_grammars\">TextMate scopes</a>.\n+ * Service for mapping the IDs of the highlighting styles to a list of\n+ * <a href=\"https://manual.macromates.com/en/language_grammars\">TextMate scopes</a>.\n  * \n  * @see IHighlightedPositionAcceptor#addPosition\n  * @see LightweightPosition#getIds\n  * \n  */\n-@ImplementedBy(Noop)\n-interface ISemanticHighlightingStyleToTokenMapper {\n+@ImplementedBy(ISemanticHighlightingStyleToTokenMapper.Noop.class)\n+public interface ISemanticHighlightingStyleToTokenMapper {\n \n \t/**\n \t * Maps the highlighting style ID to the corresponding TextMate scopes.\n \t */\n-\tdef List<String> toScopes(String styleId);\n+\tList<String> toScopes(String styleId);\n \n \t/**\n-\t * Returns with a set of distinct style identifiers that are used by the {@link IHighlightedPositionAcceptor} when calculating\n-\t * the highlighted positions with the {@link ISemanticHighlightingCalculator}.\n+\t * Returns with a set of distinct style identifiers that are used by the {@link IHighlightedPositionAcceptor} when\n+\t * calculating the highlighted positions with the {@link ISemanticHighlightingCalculator}.\n \t * \n \t * <p>\n \t * Must not return with {@code null} but an empty set instead.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1981f57b1e52a5d88bb3c01bea39ecddb5a88500"}, "originalPosition": 58}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODM0NjkzMg==", "bodyText": "@cdietrich This one for example", "url": "https://github.com/eclipse/xtext-core/pull/1409#discussion_r388346932", "createdAt": "2020-03-05T14:57:58Z", "author": {"login": "tivervac"}, "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/server/semanticHighlight/ISemanticHighlightingStyleToTokenMapper.java", "diffHunk": "@@ -1,59 +1,65 @@\n /*******************************************************************************\n- * Copyright (c) 2018 TypeFox and others.\n+ * Copyright (c) 2018, 2020 TypeFox and others.\n  * This program and the accompanying materials are made available under the\n  * terms of the Eclipse Public License 2.0 which is available at\n  * http://www.eclipse.org/legal/epl-2.0.\n  *\n  * SPDX-License-Identifier: EPL-2.0\n  *******************************************************************************/\n-package org.eclipse.xtext.ide.server.semanticHighlight\n+package org.eclipse.xtext.ide.server.semanticHighlight;\n \n-import com.google.inject.ImplementedBy\n-import com.google.inject.Singleton\n-import java.util.List\n-import java.util.Set\n-import org.eclipse.xtext.ide.editor.syntaxcoloring.IHighlightedPositionAcceptor\n-import org.eclipse.xtext.ide.editor.syntaxcoloring.ISemanticHighlightingCalculator\n-import org.eclipse.xtext.ide.editor.syntaxcoloring.LightweightPosition\n+import java.util.Collections;\n+import java.util.List;\n+import java.util.Set;\n+\n+import org.eclipse.xtext.ide.editor.syntaxcoloring.IHighlightedPositionAcceptor;\n+import org.eclipse.xtext.ide.editor.syntaxcoloring.ISemanticHighlightingCalculator;\n+import org.eclipse.xtext.ide.editor.syntaxcoloring.LightweightPosition;\n+\n+import com.google.inject.ImplementedBy;\n+import com.google.inject.Singleton;\n \n /**\n- * Service for mapping the IDs of the highlighting styles to a list of <a href=\"https://manual.macromates.com/en/language_grammars\">TextMate scopes</a>.\n+ * Service for mapping the IDs of the highlighting styles to a list of\n+ * <a href=\"https://manual.macromates.com/en/language_grammars\">TextMate scopes</a>.\n  * \n  * @see IHighlightedPositionAcceptor#addPosition\n  * @see LightweightPosition#getIds\n  * \n  */\n-@ImplementedBy(Noop)\n-interface ISemanticHighlightingStyleToTokenMapper {\n+@ImplementedBy(ISemanticHighlightingStyleToTokenMapper.Noop.class)\n+public interface ISemanticHighlightingStyleToTokenMapper {\n \n \t/**\n \t * Maps the highlighting style ID to the corresponding TextMate scopes.\n \t */\n-\tdef List<String> toScopes(String styleId);\n+\tList<String> toScopes(String styleId);\n \n \t/**\n-\t * Returns with a set of distinct style identifiers that are used by the {@link IHighlightedPositionAcceptor} when calculating\n-\t * the highlighted positions with the {@link ISemanticHighlightingCalculator}.\n+\t * Returns with a set of distinct style identifiers that are used by the {@link IHighlightedPositionAcceptor} when\n+\t * calculating the highlighted positions with the {@link ISemanticHighlightingCalculator}.\n \t * \n \t * <p>\n \t * Must not return with {@code null} but an empty set instead.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODI4NDE4Nw=="}, "originalCommit": {"oid": "1981f57b1e52a5d88bb3c01bea39ecddb5a88500"}, "originalPosition": 58}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODM3MjIzMg==", "bodyText": "@cdietrich this one survived", "url": "https://github.com/eclipse/xtext-core/pull/1409#discussion_r388372232", "createdAt": "2020-03-05T15:34:41Z", "author": {"login": "tivervac"}, "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/server/semanticHighlight/ISemanticHighlightingStyleToTokenMapper.java", "diffHunk": "@@ -1,59 +1,65 @@\n /*******************************************************************************\n- * Copyright (c) 2018 TypeFox and others.\n+ * Copyright (c) 2018, 2020 TypeFox and others.\n  * This program and the accompanying materials are made available under the\n  * terms of the Eclipse Public License 2.0 which is available at\n  * http://www.eclipse.org/legal/epl-2.0.\n  *\n  * SPDX-License-Identifier: EPL-2.0\n  *******************************************************************************/\n-package org.eclipse.xtext.ide.server.semanticHighlight\n+package org.eclipse.xtext.ide.server.semanticHighlight;\n \n-import com.google.inject.ImplementedBy\n-import com.google.inject.Singleton\n-import java.util.List\n-import java.util.Set\n-import org.eclipse.xtext.ide.editor.syntaxcoloring.IHighlightedPositionAcceptor\n-import org.eclipse.xtext.ide.editor.syntaxcoloring.ISemanticHighlightingCalculator\n-import org.eclipse.xtext.ide.editor.syntaxcoloring.LightweightPosition\n+import java.util.Collections;\n+import java.util.List;\n+import java.util.Set;\n+\n+import org.eclipse.xtext.ide.editor.syntaxcoloring.IHighlightedPositionAcceptor;\n+import org.eclipse.xtext.ide.editor.syntaxcoloring.ISemanticHighlightingCalculator;\n+import org.eclipse.xtext.ide.editor.syntaxcoloring.LightweightPosition;\n+\n+import com.google.inject.ImplementedBy;\n+import com.google.inject.Singleton;\n \n /**\n- * Service for mapping the IDs of the highlighting styles to a list of <a href=\"https://manual.macromates.com/en/language_grammars\">TextMate scopes</a>.\n+ * Service for mapping the IDs of the highlighting styles to a list of\n+ * <a href=\"https://manual.macromates.com/en/language_grammars\">TextMate scopes</a>.\n  * \n  * @see IHighlightedPositionAcceptor#addPosition\n  * @see LightweightPosition#getIds\n  * \n  */\n-@ImplementedBy(Noop)\n-interface ISemanticHighlightingStyleToTokenMapper {\n+@ImplementedBy(ISemanticHighlightingStyleToTokenMapper.Noop.class)\n+public interface ISemanticHighlightingStyleToTokenMapper {\n \n \t/**\n \t * Maps the highlighting style ID to the corresponding TextMate scopes.\n \t */\n-\tdef List<String> toScopes(String styleId);\n+\tList<String> toScopes(String styleId);\n \n \t/**\n-\t * Returns with a set of distinct style identifiers that are used by the {@link IHighlightedPositionAcceptor} when calculating\n-\t * the highlighted positions with the {@link ISemanticHighlightingCalculator}.\n+\t * Returns with a set of distinct style identifiers that are used by the {@link IHighlightedPositionAcceptor} when\n+\t * calculating the highlighted positions with the {@link ISemanticHighlightingCalculator}.\n \t * \n \t * <p>\n \t * Must not return with {@code null} but an empty set instead.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODI4NDE4Nw=="}, "originalCommit": {"oid": "1981f57b1e52a5d88bb3c01bea39ecddb5a88500"}, "originalPosition": 58}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODM3Mjk4OA==", "bodyText": "i dont understand this one", "url": "https://github.com/eclipse/xtext-core/pull/1409#discussion_r388372988", "createdAt": "2020-03-05T15:35:46Z", "author": {"login": "cdietrich"}, "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/server/semanticHighlight/ISemanticHighlightingStyleToTokenMapper.java", "diffHunk": "@@ -1,59 +1,65 @@\n /*******************************************************************************\n- * Copyright (c) 2018 TypeFox and others.\n+ * Copyright (c) 2018, 2020 TypeFox and others.\n  * This program and the accompanying materials are made available under the\n  * terms of the Eclipse Public License 2.0 which is available at\n  * http://www.eclipse.org/legal/epl-2.0.\n  *\n  * SPDX-License-Identifier: EPL-2.0\n  *******************************************************************************/\n-package org.eclipse.xtext.ide.server.semanticHighlight\n+package org.eclipse.xtext.ide.server.semanticHighlight;\n \n-import com.google.inject.ImplementedBy\n-import com.google.inject.Singleton\n-import java.util.List\n-import java.util.Set\n-import org.eclipse.xtext.ide.editor.syntaxcoloring.IHighlightedPositionAcceptor\n-import org.eclipse.xtext.ide.editor.syntaxcoloring.ISemanticHighlightingCalculator\n-import org.eclipse.xtext.ide.editor.syntaxcoloring.LightweightPosition\n+import java.util.Collections;\n+import java.util.List;\n+import java.util.Set;\n+\n+import org.eclipse.xtext.ide.editor.syntaxcoloring.IHighlightedPositionAcceptor;\n+import org.eclipse.xtext.ide.editor.syntaxcoloring.ISemanticHighlightingCalculator;\n+import org.eclipse.xtext.ide.editor.syntaxcoloring.LightweightPosition;\n+\n+import com.google.inject.ImplementedBy;\n+import com.google.inject.Singleton;\n \n /**\n- * Service for mapping the IDs of the highlighting styles to a list of <a href=\"https://manual.macromates.com/en/language_grammars\">TextMate scopes</a>.\n+ * Service for mapping the IDs of the highlighting styles to a list of\n+ * <a href=\"https://manual.macromates.com/en/language_grammars\">TextMate scopes</a>.\n  * \n  * @see IHighlightedPositionAcceptor#addPosition\n  * @see LightweightPosition#getIds\n  * \n  */\n-@ImplementedBy(Noop)\n-interface ISemanticHighlightingStyleToTokenMapper {\n+@ImplementedBy(ISemanticHighlightingStyleToTokenMapper.Noop.class)\n+public interface ISemanticHighlightingStyleToTokenMapper {\n \n \t/**\n \t * Maps the highlighting style ID to the corresponding TextMate scopes.\n \t */\n-\tdef List<String> toScopes(String styleId);\n+\tList<String> toScopes(String styleId);\n \n \t/**\n-\t * Returns with a set of distinct style identifiers that are used by the {@link IHighlightedPositionAcceptor} when calculating\n-\t * the highlighted positions with the {@link ISemanticHighlightingCalculator}.\n+\t * Returns with a set of distinct style identifiers that are used by the {@link IHighlightedPositionAcceptor} when\n+\t * calculating the highlighted positions with the {@link ISemanticHighlightingCalculator}.\n \t * \n \t * <p>\n \t * Must not return with {@code null} but an empty set instead.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODI4NDE4Nw=="}, "originalCommit": {"oid": "1981f57b1e52a5d88bb3c01bea39ecddb5a88500"}, "originalPosition": 58}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODM3Mzc5MA==", "bodyText": "calculating the highlighted postions the {@link .....} ?", "url": "https://github.com/eclipse/xtext-core/pull/1409#discussion_r388373790", "createdAt": "2020-03-05T15:36:58Z", "author": {"login": "cdietrich"}, "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/server/semanticHighlight/ISemanticHighlightingStyleToTokenMapper.java", "diffHunk": "@@ -1,59 +1,65 @@\n /*******************************************************************************\n- * Copyright (c) 2018 TypeFox and others.\n+ * Copyright (c) 2018, 2020 TypeFox and others.\n  * This program and the accompanying materials are made available under the\n  * terms of the Eclipse Public License 2.0 which is available at\n  * http://www.eclipse.org/legal/epl-2.0.\n  *\n  * SPDX-License-Identifier: EPL-2.0\n  *******************************************************************************/\n-package org.eclipse.xtext.ide.server.semanticHighlight\n+package org.eclipse.xtext.ide.server.semanticHighlight;\n \n-import com.google.inject.ImplementedBy\n-import com.google.inject.Singleton\n-import java.util.List\n-import java.util.Set\n-import org.eclipse.xtext.ide.editor.syntaxcoloring.IHighlightedPositionAcceptor\n-import org.eclipse.xtext.ide.editor.syntaxcoloring.ISemanticHighlightingCalculator\n-import org.eclipse.xtext.ide.editor.syntaxcoloring.LightweightPosition\n+import java.util.Collections;\n+import java.util.List;\n+import java.util.Set;\n+\n+import org.eclipse.xtext.ide.editor.syntaxcoloring.IHighlightedPositionAcceptor;\n+import org.eclipse.xtext.ide.editor.syntaxcoloring.ISemanticHighlightingCalculator;\n+import org.eclipse.xtext.ide.editor.syntaxcoloring.LightweightPosition;\n+\n+import com.google.inject.ImplementedBy;\n+import com.google.inject.Singleton;\n \n /**\n- * Service for mapping the IDs of the highlighting styles to a list of <a href=\"https://manual.macromates.com/en/language_grammars\">TextMate scopes</a>.\n+ * Service for mapping the IDs of the highlighting styles to a list of\n+ * <a href=\"https://manual.macromates.com/en/language_grammars\">TextMate scopes</a>.\n  * \n  * @see IHighlightedPositionAcceptor#addPosition\n  * @see LightweightPosition#getIds\n  * \n  */\n-@ImplementedBy(Noop)\n-interface ISemanticHighlightingStyleToTokenMapper {\n+@ImplementedBy(ISemanticHighlightingStyleToTokenMapper.Noop.class)\n+public interface ISemanticHighlightingStyleToTokenMapper {\n \n \t/**\n \t * Maps the highlighting style ID to the corresponding TextMate scopes.\n \t */\n-\tdef List<String> toScopes(String styleId);\n+\tList<String> toScopes(String styleId);\n \n \t/**\n-\t * Returns with a set of distinct style identifiers that are used by the {@link IHighlightedPositionAcceptor} when calculating\n-\t * the highlighted positions with the {@link ISemanticHighlightingCalculator}.\n+\t * Returns with a set of distinct style identifiers that are used by the {@link IHighlightedPositionAcceptor} when\n+\t * calculating the highlighted positions with the {@link ISemanticHighlightingCalculator}.\n \t * \n \t * <p>\n \t * Must not return with {@code null} but an empty set instead.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODI4NDE4Nw=="}, "originalCommit": {"oid": "1981f57b1e52a5d88bb3c01bea39ecddb5a88500"}, "originalPosition": 58}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQwNTYxNzYwOnYy", "diffSide": "RIGHT", "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/util/CancelIndicatorProgressMonitor.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxMzoxNToyOFrOFyTByA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxMzoxNToyOFrOFyTByA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODI4NDg3Mg==", "bodyText": "No parentheses needed", "url": "https://github.com/eclipse/xtext-core/pull/1409#discussion_r388284872", "createdAt": "2020-03-05T13:15:28Z", "author": {"login": "tivervac"}, "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/util/CancelIndicatorProgressMonitor.java", "diffHunk": "@@ -0,0 +1,61 @@\n+/**\n+ * Copyright (c) 2016, 2020 TypeFox GmbH (http://www.typefox.io) and others.\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0.\n+ * \n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.eclipse.xtext.ide.util;\n+\n+import org.eclipse.core.runtime.IProgressMonitor;\n+import org.eclipse.xtext.util.CancelIndicator;\n+\n+/**\n+ * @author kosyakov - Initial contribution and API\n+ * @since 2.11\n+ */\n+public class CancelIndicatorProgressMonitor implements IProgressMonitor {\n+\tprivate final CancelIndicator delegate;\n+\n+\tprivate volatile boolean canceled;\n+\n+\t@Override\n+\tpublic boolean isCanceled() {\n+\t\treturn (canceled || delegate.isCanceled());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1981f57b1e52a5d88bb3c01bea39ecddb5a88500"}, "originalPosition": 25}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQwNTYxODQ0OnYy", "diffSide": "RIGHT", "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/util/CancelIndicatorProgressMonitor.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxMzoxNTo0M1rOFyTCRA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxMzoxNTo0M1rOFyTCRA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODI4NDk5Ng==", "bodyText": "Not needed", "url": "https://github.com/eclipse/xtext-core/pull/1409#discussion_r388284996", "createdAt": "2020-03-05T13:15:43Z", "author": {"login": "tivervac"}, "path": "org.eclipse.xtext.ide/src/org/eclipse/xtext/ide/util/CancelIndicatorProgressMonitor.java", "diffHunk": "@@ -0,0 +1,61 @@\n+/**\n+ * Copyright (c) 2016, 2020 TypeFox GmbH (http://www.typefox.io) and others.\n+ * This program and the accompanying materials are made available under the\n+ * terms of the Eclipse Public License 2.0 which is available at\n+ * http://www.eclipse.org/legal/epl-2.0.\n+ * \n+ * SPDX-License-Identifier: EPL-2.0\n+ */\n+package org.eclipse.xtext.ide.util;\n+\n+import org.eclipse.core.runtime.IProgressMonitor;\n+import org.eclipse.xtext.util.CancelIndicator;\n+\n+/**\n+ * @author kosyakov - Initial contribution and API\n+ * @since 2.11\n+ */\n+public class CancelIndicatorProgressMonitor implements IProgressMonitor {\n+\tprivate final CancelIndicator delegate;\n+\n+\tprivate volatile boolean canceled;\n+\n+\t@Override\n+\tpublic boolean isCanceled() {\n+\t\treturn (canceled || delegate.isCanceled());\n+\t}\n+\n+\t@Override\n+\tpublic void setCanceled(boolean value) {\n+\t\tthis.canceled = value;\n+\t}\n+\n+\t@Override\n+\tpublic void beginTask(String name, int totalWork) {\n+\t}\n+\n+\t@Override\n+\tpublic void setTaskName(String name) {\n+\t}\n+\n+\t@Override\n+\tpublic void subTask(String name) {\n+\t}\n+\n+\t@Override\n+\tpublic void internalWorked(double work) {\n+\t}\n+\n+\t@Override\n+\tpublic void worked(int work) {\n+\t}\n+\n+\t@Override\n+\tpublic void done() {\n+\t}\n+\n+\tpublic CancelIndicatorProgressMonitor(CancelIndicator delegate) {\n+\t\tsuper();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1981f57b1e52a5d88bb3c01bea39ecddb5a88500"}, "originalPosition": 58}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1037, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}