{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI3MjQ4MzY3", "number": 271, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNVQxOTowNjowNlrOE9W9-g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNVQyMjowMzozNVrOE9aA2Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMyNzc0OTA2OnYy", "diffSide": "RIGHT", "path": "src/main/java/com/amazon/opendistroforelasticsearch/knn/index/KNNVectorFieldMapper.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNVQxOTowNjowNlrOH6AlTA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNVQxOTozMDo0M1rOH6BRkA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDU4OTAwNA==", "bodyText": "if o is null, then i don't think we can assign null to value since it is primitive.", "url": "https://github.com/opendistro-for-elasticsearch/k-NN/pull/271#discussion_r530589004", "createdAt": "2020-11-25T19:06:06Z", "author": {"login": "VijayanB"}, "path": "src/main/java/com/amazon/opendistroforelasticsearch/knn/index/KNNVectorFieldMapper.java", "diffHunk": "@@ -78,9 +79,9 @@ private static KNNVectorFieldMapper toType(FieldMapper in) {\n                 m -> toType(m).stored, false);\n         private final Parameter<Boolean> hasDocValues = Parameter.boolParam(\"doc_values\", false,\n                 m -> toType(m).hasDocValues,  true);\n-        private final Parameter<Integer> dimension = new Parameter<>(KNNConstants.DIMENSION, false, -1,\n-                (n, o) -> {\n-                            int value = XContentMapValues.nodeIntegerValue(o);\n+        private final Parameter<Integer> dimension = new Parameter<>(KNNConstants.DIMENSION, false, () -> -1,\n+                (n, c, o) -> {\n+                            int value = (o == null ? null : XContentMapValues.nodeIntegerValue(o));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "89b74d3e6f08131f2c8be0214f5ca660cf8280cd"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDYwMDMzNg==", "bodyText": "Good catch. Fixed.", "url": "https://github.com/opendistro-for-elasticsearch/k-NN/pull/271#discussion_r530600336", "createdAt": "2020-11-25T19:30:43Z", "author": {"login": "vamshin"}, "path": "src/main/java/com/amazon/opendistroforelasticsearch/knn/index/KNNVectorFieldMapper.java", "diffHunk": "@@ -78,9 +79,9 @@ private static KNNVectorFieldMapper toType(FieldMapper in) {\n                 m -> toType(m).stored, false);\n         private final Parameter<Boolean> hasDocValues = Parameter.boolParam(\"doc_values\", false,\n                 m -> toType(m).hasDocValues,  true);\n-        private final Parameter<Integer> dimension = new Parameter<>(KNNConstants.DIMENSION, false, -1,\n-                (n, o) -> {\n-                            int value = XContentMapValues.nodeIntegerValue(o);\n+        private final Parameter<Integer> dimension = new Parameter<>(KNNConstants.DIMENSION, false, () -> -1,\n+                (n, c, o) -> {\n+                            int value = (o == null ? null : XContentMapValues.nodeIntegerValue(o));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDU4OTAwNA=="}, "originalCommit": {"oid": "89b74d3e6f08131f2c8be0214f5ca660cf8280cd"}, "originalPosition": 30}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMyNzc1NDIxOnYy", "diffSide": "RIGHT", "path": "src/main/java/com/amazon/opendistroforelasticsearch/knn/index/codec/KNN87Codec/KNN87Codec.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNVQxOTowNzo1MVrOH6AoVA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNVQxOTozMDo1NVrOH6BR3A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDU4OTc4MA==", "bodyText": "Copyright 2020", "url": "https://github.com/opendistro-for-elasticsearch/k-NN/pull/271#discussion_r530589780", "createdAt": "2020-11-25T19:07:51Z", "author": {"login": "VijayanB"}, "path": "src/main/java/com/amazon/opendistroforelasticsearch/knn/index/codec/KNN87Codec/KNN87Codec.java", "diffHunk": "@@ -0,0 +1,138 @@\n+/*\n+ *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "89b74d3e6f08131f2c8be0214f5ca660cf8280cd"}, "originalPosition": 2}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDYwMDQxMg==", "bodyText": "Fixed. Thanks", "url": "https://github.com/opendistro-for-elasticsearch/k-NN/pull/271#discussion_r530600412", "createdAt": "2020-11-25T19:30:55Z", "author": {"login": "vamshin"}, "path": "src/main/java/com/amazon/opendistroforelasticsearch/knn/index/codec/KNN87Codec/KNN87Codec.java", "diffHunk": "@@ -0,0 +1,138 @@\n+/*\n+ *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDU4OTc4MA=="}, "originalCommit": {"oid": "89b74d3e6f08131f2c8be0214f5ca660cf8280cd"}, "originalPosition": 2}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMyODI0NzkzOnYy", "diffSide": "RIGHT", "path": "gradle.properties", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNVQyMjowMzozNVrOH6FPIw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNVQyMzo0NTo0NFrOH6HJdw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDY2NTI1MQ==", "bodyText": "What is this for?", "url": "https://github.com/opendistro-for-elasticsearch/k-NN/pull/271#discussion_r530665251", "createdAt": "2020-11-25T22:03:35Z", "author": {"login": "jmazanec15"}, "path": "gradle.properties", "diffHunk": "@@ -13,4 +13,4 @@\n #   permissions and limitations under the License.\n #\n \n-version=1.6\n+version=1.11.0", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "644225323e48569e01775a2b9fb74230ac45bba5"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDY5MzQzNw==", "bodyText": "Actually this variable is not in use. It was pointing to older version. So i updated to latest version. This variable could be used in build.gradle file.", "url": "https://github.com/opendistro-for-elasticsearch/k-NN/pull/271#discussion_r530693437", "createdAt": "2020-11-25T23:33:14Z", "author": {"login": "vamshin"}, "path": "gradle.properties", "diffHunk": "@@ -13,4 +13,4 @@\n #   permissions and limitations under the License.\n #\n \n-version=1.6\n+version=1.11.0", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDY2NTI1MQ=="}, "originalCommit": {"oid": "644225323e48569e01775a2b9fb74230ac45bba5"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDY5NjU2Nw==", "bodyText": "I see makes sense.", "url": "https://github.com/opendistro-for-elasticsearch/k-NN/pull/271#discussion_r530696567", "createdAt": "2020-11-25T23:45:44Z", "author": {"login": "jmazanec15"}, "path": "gradle.properties", "diffHunk": "@@ -13,4 +13,4 @@\n #   permissions and limitations under the License.\n #\n \n-version=1.6\n+version=1.11.0", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDY2NTI1MQ=="}, "originalCommit": {"oid": "644225323e48569e01775a2b9fb74230ac45bba5"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2682, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}