{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE0MjkwODEx", "number": 105, "title": "Library build task", "bodyText": "Issue #, if available:\n#35\nDescription of changes:\nAdding task to build JNI library. Adding it as a dependency of test and integTest tasks so that library is built before tests are run.\nBy submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice.", "createdAt": "2020-05-06T19:32:24Z", "url": "https://github.com/opendistro-for-elasticsearch/k-NN/pull/105", "merged": true, "mergeCommit": {"oid": "1be8b4c424a7355d69a22746c03ab5a8fb655c1e"}, "closed": true, "closedAt": "2020-05-06T21:07:47Z", "author": {"login": "jmazanec15"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABces1veAH2gAyNDE0MjkwODExOmI5NjA4ZjMxNTZjODExNDNmZmY5ZWQ1NzMzZjgwZThmYjc2M2FhMzc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcevPBCgFqTQwNjk4NjU2OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "b9608f3156c81143fff9ed5733f80e8fb763aa37", "author": {"user": {"login": "jmazanec15", "name": "Jack Mazanec"}}, "url": "https://github.com/opendistro-for-elasticsearch/k-NN/commit/b9608f3156c81143fff9ed5733f80e8fb763aa37", "committedDate": "2020-05-06T18:18:20Z", "message": "added buildJniLib task"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "34226cf8a731e3f2c26cd6b492b1859706d0598f", "author": {"user": {"login": "jmazanec15", "name": "Jack Mazanec"}}, "url": "https://github.com/opendistro-for-elasticsearch/k-NN/commit/34226cf8a731e3f2c26cd6b492b1859706d0598f", "committedDate": "2020-05-06T19:30:33Z", "message": "modifify library build logic"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA2OTI2NDM1", "url": "https://github.com/opendistro-for-elasticsearch/k-NN/pull/105#pullrequestreview-406926435", "createdAt": "2020-05-06T19:35:22Z", "commit": {"oid": "34226cf8a731e3f2c26cd6b492b1859706d0598f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQxOTozNToyMlrOGRiZJw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQxOTozNToyMlrOGRiZJw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTA0MjQ3MQ==", "bodyText": "why not club this to one task\ntask buildJniLib(type:Exec) {\nworkingDir 'jni'\ncommandLine 'cmake', '.'\ncommandLine 'make'\n}", "url": "https://github.com/opendistro-for-elasticsearch/k-NN/pull/105#discussion_r421042471", "createdAt": "2020-05-06T19:35:22Z", "author": {"login": "vamshin"}, "path": "build.gradle", "diffHunk": "@@ -109,13 +109,26 @@ thirdPartyAudit.enabled = false\n def es_tmp_dir = rootProject.file('build/private/es_tmp').absoluteFile\n es_tmp_dir.mkdirs()\n \n+task cmakeJniLib(type:Exec) {\n+    workingDir 'jni'\n+    commandLine 'cmake', '.'\n+}\n+\n+task buildJniLib(type:Exec) {\n+    dependsOn cmakeJniLib\n+    workingDir 'jni'\n+    commandLine 'make'\n+}\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "34226cf8a731e3f2c26cd6b492b1859706d0598f"}, "originalPosition": 14}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA2OTMwMTc0", "url": "https://github.com/opendistro-for-elasticsearch/k-NN/pull/105#pullrequestreview-406930174", "createdAt": "2020-05-06T19:41:07Z", "commit": {"oid": "34226cf8a731e3f2c26cd6b492b1859706d0598f"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "33ba8c793d4bcb326ba2ad762ecb019227037a3c", "author": {"user": {"login": "jmazanec15", "name": "Jack Mazanec"}}, "url": "https://github.com/opendistro-for-elasticsearch/k-NN/commit/33ba8c793d4bcb326ba2ad762ecb019227037a3c", "committedDate": "2020-05-06T20:14:39Z", "message": "add JNI Lib directory log message"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "24931921ebfc6641043d57c7f0721b3721f4bdb0", "author": {"user": {"login": "jmazanec15", "name": "Jack Mazanec"}}, "url": "https://github.com/opendistro-for-elasticsearch/k-NN/commit/24931921ebfc6641043d57c7f0721b3721f4bdb0", "committedDate": "2020-05-06T20:19:06Z", "message": "added condition to buildJniLib"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b3ce22c1e911450f07914377a2e08299148ad0ed", "author": {"user": {"login": "jmazanec15", "name": "Jack Mazanec"}}, "url": "https://github.com/opendistro-for-elasticsearch/k-NN/commit/b3ce22c1e911450f07914377a2e08299148ad0ed", "committedDate": "2020-05-06T20:28:45Z", "message": "add dependency on buildJniLib"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fe42d4524b2a94ae537b06a93bf3d7733d21fc53", "author": {"user": {"login": "jmazanec15", "name": "Jack Mazanec"}}, "url": "https://github.com/opendistro-for-elasticsearch/k-NN/commit/fe42d4524b2a94ae537b06a93bf3d7733d21fc53", "committedDate": "2020-05-06T20:56:09Z", "message": "update when to depend on buildJNI task"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA2OTg2NTY5", "url": "https://github.com/opendistro-for-elasticsearch/k-NN/pull/105#pullrequestreview-406986569", "createdAt": "2020-05-06T21:05:45Z", "commit": {"oid": "fe42d4524b2a94ae537b06a93bf3d7733d21fc53"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1355, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}