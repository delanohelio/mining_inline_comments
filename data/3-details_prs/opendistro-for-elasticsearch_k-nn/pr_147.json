{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM4OTc3NDUx", "number": 147, "title": "Elasticsearch 7.8 support", "bodyText": "Issue #, if available:\n#146\nDescription of changes:\nUpgrade plugin to run on Elasticsearch 7.8.0.\nBy submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice.", "createdAt": "2020-06-24T05:49:45Z", "url": "https://github.com/opendistro-for-elasticsearch/k-NN/pull/147", "merged": true, "mergeCommit": {"oid": "fec3ad54c10629484f0835378f6c5c4dceb8b3c8"}, "closed": true, "closedAt": "2020-06-25T21:13:14Z", "author": {"login": "vamshin"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcuOVrigH2gAyNDM4OTc3NDUxOjg1NjA3NGExNzJmOWVlNGQ5ZDQyNjQ4OTIzMDhjMTA3OTkwNTFhOTY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcu1NkJgFqTQzNzg1ODYyNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "856074a172f9ee4d9d4264892308c10799051a96", "author": {"user": {"login": "vamshin", "name": "Vamshi Vijay Nakkirtha"}}, "url": "https://github.com/opendistro-for-elasticsearch/k-NN/commit/856074a172f9ee4d9d4264892308c10799051a96", "committedDate": "2020-06-23T23:48:57Z", "message": "7.8 support"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c84ee0e4437e958b752b7e04e30a3c2ab2f614e2", "author": {"user": {"login": "vamshin", "name": "Vamshi Vijay Nakkirtha"}}, "url": "https://github.com/opendistro-for-elasticsearch/k-NN/commit/c84ee0e4437e958b752b7e04e30a3c2ab2f614e2", "committedDate": "2020-06-24T05:47:23Z", "message": "7.8 support"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM2NzI3NjY4", "url": "https://github.com/opendistro-for-elasticsearch/k-NN/pull/147#pullrequestreview-436727668", "createdAt": "2020-06-24T14:53:11Z", "commit": {"oid": "c84ee0e4437e958b752b7e04e30a3c2ab2f614e2"}, "state": "COMMENTED", "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNFQxNDo1MzoxMVrOGoV5yg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNFQxNDo1NTozMVrOGoWAeA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDk1NTA4Mg==", "bodyText": "Why is this commented out?", "url": "https://github.com/opendistro-for-elasticsearch/k-NN/pull/147#discussion_r444955082", "createdAt": "2020-06-24T14:53:11Z", "author": {"login": "jmazanec15"}, "path": "build.gradle", "diffHunk": "@@ -40,7 +40,7 @@ plugins {\n     id 'java-library'\n     id 'nebula.ospackage' version \"8.3.0\" apply false\n     id 'idea'\n-    id 'jacoco'\n+    //id 'jacoco'", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c84ee0e4437e958b752b7e04e30a3c2ab2f614e2"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDk1NTI4MQ==", "bodyText": "Why is this commented out?", "url": "https://github.com/opendistro-for-elasticsearch/k-NN/pull/147#discussion_r444955281", "createdAt": "2020-06-24T14:53:30Z", "author": {"login": "jmazanec15"}, "path": "build.gradle", "diffHunk": "@@ -52,12 +52,12 @@ def integTestDependOnJniLib = false\n if (!usingRemoteCluster) {\n     integTestDependOnJniLib = true\n     if (!usingMultiNode) {\n-        apply from: 'build-tools/knnplugin-coverage.gradle'\n+       // apply from: 'build-tools/knnplugin-coverage.gradle'", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c84ee0e4437e958b752b7e04e30a3c2ab2f614e2"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDk1NTYyNw==", "bodyText": "Because this is just upgrading ES version, ODFE version does not need to be bumped up.", "url": "https://github.com/opendistro-for-elasticsearch/k-NN/pull/147#discussion_r444955627", "createdAt": "2020-06-24T14:54:00Z", "author": {"login": "jmazanec15"}, "path": "build.gradle", "diffHunk": "@@ -52,12 +52,12 @@ def integTestDependOnJniLib = false\n if (!usingRemoteCluster) {\n     integTestDependOnJniLib = true\n     if (!usingMultiNode) {\n-        apply from: 'build-tools/knnplugin-coverage.gradle'\n+       // apply from: 'build-tools/knnplugin-coverage.gradle'\n     }\n }\n \n ext {\n-    opendistroVersion = '1.8.0'\n+    opendistroVersion = '1.9.0'", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c84ee0e4437e958b752b7e04e30a3c2ab2f614e2"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDk1NTg0Ng==", "bodyText": "Is this WIP?", "url": "https://github.com/opendistro-for-elasticsearch/k-NN/pull/147#discussion_r444955846", "createdAt": "2020-06-24T14:54:18Z", "author": {"login": "jmazanec15"}, "path": "build.gradle", "diffHunk": "@@ -75,11 +75,11 @@ allprojects {\n }\n \n \n-jacoco {\n-    toolVersion = \"0.8.5\"\n-}\n-\n-check.dependsOn jacocoTestReport\n+//jacoco {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c84ee0e4437e958b752b7e04e30a3c2ab2f614e2"}, "originalPosition": 42}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDk1Njc5Mg==", "bodyText": "Why can we remove this?", "url": "https://github.com/opendistro-for-elasticsearch/k-NN/pull/147#discussion_r444956792", "createdAt": "2020-06-24T14:55:31Z", "author": {"login": "jmazanec15"}, "path": "src/main/java/com/amazon/opendistroforelasticsearch/knn/index/KNNVectorFieldMapper.java", "diffHunk": "@@ -49,7 +48,7 @@\n /**\n  * Field Mapper for KNN vector type.\n  */\n-public class KNNVectorFieldMapper extends FieldMapper implements ArrayValueMapperParser {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c84ee0e4437e958b752b7e04e30a3c2ab2f614e2"}, "originalPosition": 12}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bbe6e5526989784dc00d5d836388b480ac7571a0", "author": {"user": {"login": "vamshin", "name": "Vamshi Vijay Nakkirtha"}}, "url": "https://github.com/opendistro-for-elasticsearch/k-NN/commit/bbe6e5526989784dc00d5d836388b480ac7571a0", "committedDate": "2020-06-25T04:14:06Z", "message": "7.8 support"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM3NjAwNjg1", "url": "https://github.com/opendistro-for-elasticsearch/k-NN/pull/147#pullrequestreview-437600685", "createdAt": "2020-06-25T15:18:44Z", "commit": {"oid": "bbe6e5526989784dc00d5d836388b480ac7571a0"}, "state": "COMMENTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNVQxNToxODo0NFrOGo_now==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNVQxNToyMToyNFrOGo_vUw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTYzODU2Mw==", "bodyText": "Just curious, what does this do?", "url": "https://github.com/opendistro-for-elasticsearch/k-NN/pull/147#discussion_r445638563", "createdAt": "2020-06-25T15:18:44Z", "author": {"login": "jmazanec15"}, "path": "build-tools/knnplugin-coverage.gradle", "diffHunk": "@@ -74,7 +74,7 @@ allprojects{\n         jacocoTestReport.dependsOn integTest.runner\n \n         testClusters.integTest {\n-            jvmArgs \" ${dummyIntegTest.jacoco.getAsJvmArg()}\"\n+            jvmArgs \" ${dummyIntegTest.jacoco.getAsJvmArg()}\".replace('javaagent:','javaagent:/')", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bbe6e5526989784dc00d5d836388b480ac7571a0"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTYzODk0Nw==", "bodyText": "Why was this removed?", "url": "https://github.com/opendistro-for-elasticsearch/k-NN/pull/147#discussion_r445638947", "createdAt": "2020-06-25T15:19:17Z", "author": {"login": "jmazanec15"}, "path": "build.gradle", "diffHunk": "@@ -209,8 +209,7 @@ forbiddenPatterns {\n // see https://github.com/elastic/elasticsearch/blob/323f312bbc829a63056a79ebe45adced5099f6e6/buildSrc/src/main/java/org/elasticsearch/gradle/precommit/TestingConventionsTasks.java\n // enable testingConventions check will cause errors like:  \"Classes ending with [Tests] must subclass [LuceneTestCase]\"\n testingConventions.enabled = false\n-licenseHeaders.enabled = true", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bbe6e5526989784dc00d5d836388b480ac7571a0"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTYzOTI3Ng==", "bodyText": "Nice, will save us some trouble", "url": "https://github.com/opendistro-for-elasticsearch/k-NN/pull/147#discussion_r445639276", "createdAt": "2020-06-25T15:19:46Z", "author": {"login": "jmazanec15"}, "path": "build.gradle", "diffHunk": "@@ -231,7 +230,7 @@ afterEvaluate {\n         dirMode 0755\n \n         requires('elasticsearch-oss', versions.elasticsearch, EQUAL)\n-        requires(\"opendistro-knnlib\",  \"1.8.0.0\",  EQUAL)\n+        requires(\"opendistro-knnlib\",  \"${opendistroVersion}.0\",  EQUAL)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bbe6e5526989784dc00d5d836388b480ac7571a0"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTY0MDUzMQ==", "bodyText": "Curious, what does this do?", "url": "https://github.com/opendistro-for-elasticsearch/k-NN/pull/147#discussion_r445640531", "createdAt": "2020-06-25T15:21:24Z", "author": {"login": "jmazanec15"}, "path": "src/main/java/com/amazon/opendistroforelasticsearch/knn/index/KNNVectorFieldMapper.java", "diffHunk": "@@ -235,6 +234,11 @@ public Query termQuery(Object value, QueryShardContext context) {\n         }\n     }\n \n+    @Override\n+    public final boolean parsesArrayValue() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bbe6e5526989784dc00d5d836388b480ac7571a0"}, "originalPosition": 22}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM3Nzk2OTA5", "url": "https://github.com/opendistro-for-elasticsearch/k-NN/pull/147#pullrequestreview-437796909", "createdAt": "2020-06-25T19:31:17Z", "commit": {"oid": "bbe6e5526989784dc00d5d836388b480ac7571a0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "eb7cba4ea6293d5a223ba1f9317a66a43097ab77", "author": {"user": {"login": "vamshin", "name": "Vamshi Vijay Nakkirtha"}}, "url": "https://github.com/opendistro-for-elasticsearch/k-NN/commit/eb7cba4ea6293d5a223ba1f9317a66a43097ab77", "committedDate": "2020-06-25T20:35:32Z", "message": "deprecate/remove shared library from buildSrc (#149)\n\n* deprecate/remove shared library from buildSrc\r\n\r\n* refactor build.gradle"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "03f01992a29a63daa8ebc7e024bab42de9f6ef73", "author": {"user": {"login": "vamshin", "name": "Vamshi Vijay Nakkirtha"}}, "url": "https://github.com/opendistro-for-elasticsearch/k-NN/commit/03f01992a29a63daa8ebc7e024bab42de9f6ef73", "committedDate": "2020-06-25T20:49:23Z", "message": "7.8 support"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1712e4e73c5f8ae3942a18f01fb91981df784a57", "author": {"user": {"login": "vamshin", "name": "Vamshi Vijay Nakkirtha"}}, "url": "https://github.com/opendistro-for-elasticsearch/k-NN/commit/1712e4e73c5f8ae3942a18f01fb91981df784a57", "committedDate": "2020-06-25T20:49:23Z", "message": "7.8 support"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "68ed56c67b58d69e4f6a383f70dd746a670baac0", "author": {"user": {"login": "vamshin", "name": "Vamshi Vijay Nakkirtha"}}, "url": "https://github.com/opendistro-for-elasticsearch/k-NN/commit/68ed56c67b58d69e4f6a383f70dd746a670baac0", "committedDate": "2020-06-25T20:49:23Z", "message": "7.8 support"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5b3be53591ac82d36017928c2e12442996640720", "author": {"user": {"login": "vamshin", "name": "Vamshi Vijay Nakkirtha"}}, "url": "https://github.com/opendistro-for-elasticsearch/k-NN/commit/5b3be53591ac82d36017928c2e12442996640720", "committedDate": "2020-06-25T20:55:26Z", "message": "refactor build.gradle"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM3ODU4NjI0", "url": "https://github.com/opendistro-for-elasticsearch/k-NN/pull/147#pullrequestreview-437858624", "createdAt": "2020-06-25T21:06:23Z", "commit": {"oid": "5b3be53591ac82d36017928c2e12442996640720"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1375, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}