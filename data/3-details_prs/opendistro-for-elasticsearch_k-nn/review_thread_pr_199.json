{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDcyOTkxNTc1", "number": 199, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNVQxNTozMjo0OVrOEcICNA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNVQxNTozOToxN1rOEcINSw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk3OTI3MjIwOnYy", "diffSide": "LEFT", "path": "build.gradle", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNVQxNTozMjo0OVrOHGdzOA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNVQxNzoyNzowN1rOHGifOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjU0MTc1Mg==", "bodyText": "Why was this removed?", "url": "https://github.com/opendistro-for-elasticsearch/k-NN/pull/199#discussion_r476541752", "createdAt": "2020-08-25T15:32:49Z", "author": {"login": "jmazanec15"}, "path": "build.gradle", "diffHunk": "@@ -102,7 +102,6 @@ task release(type: Copy, group: 'build') {\n //****************************************************************************/\n dependencies {\n     compileOnly \"org.elasticsearch:elasticsearch:${es_version}\"\n-    compileOnly group: 'com.google.errorprone', name: 'error_prone_annotations', version:'2.4.0'", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2785647b4273fbe355a49952b9c2b3b7192f6654"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjYxODU1Mw==", "bodyText": "Elasticsearch pulls this dependency now in this release and there was a conflict, so i removed it to use Elasticsearch's dependency", "url": "https://github.com/opendistro-for-elasticsearch/k-NN/pull/199#discussion_r476618553", "createdAt": "2020-08-25T17:27:07Z", "author": {"login": "vamshin"}, "path": "build.gradle", "diffHunk": "@@ -102,7 +102,6 @@ task release(type: Copy, group: 'build') {\n //****************************************************************************/\n dependencies {\n     compileOnly \"org.elasticsearch:elasticsearch:${es_version}\"\n-    compileOnly group: 'com.google.errorprone', name: 'error_prone_annotations', version:'2.4.0'", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjU0MTc1Mg=="}, "originalCommit": {"oid": "2785647b4273fbe355a49952b9c2b3b7192f6654"}, "originalPosition": 22}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk3OTMwMDU5OnYy", "diffSide": "LEFT", "path": "src/main/java/com/amazon/opendistroforelasticsearch/knn/index/KNNVectorFieldMapper.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNVQxNTozOToxN1rOHGeFFg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNVQxNzozNzoxNFrOHGi18g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjU0NjMyNg==", "bodyText": "Why was KNNVectorField removed?", "url": "https://github.com/opendistro-for-elasticsearch/k-NN/pull/199#discussion_r476546326", "createdAt": "2020-08-25T15:39:17Z", "author": {"login": "jmazanec15"}, "path": "src/main/java/com/amazon/opendistroforelasticsearch/knn/index/KNNVectorFieldMapper.java", "diffHunk": "@@ -56,38 +57,48 @@\n \n     protected Explicit<Boolean> ignoreMalformed;\n \n-    public KNNVectorFieldMapper(String simpleName, MappedFieldType fieldType, MappedFieldType defaultFieldType,\n+    public KNNVectorFieldMapper(String simpleName, FieldType fieldType, MappedFieldType defaultFieldType,\n                                 Settings indexSettings, MultiFields multiFields, Explicit<Boolean> ignoreMalformed,\n                                 CopyTo copyTo) {\n-        super(simpleName, fieldType, defaultFieldType, indexSettings, multiFields, copyTo);\n+        super(simpleName, fieldType, defaultFieldType,  multiFields, copyTo);\n         this.ignoreMalformed = ignoreMalformed;\n     }\n \n     public static class Names {\n         public static final String IGNORE_MALFORMED = \"ignore_malformed\";\n     }\n \n+    public KNNVectorFieldMapper clone() {\n+        return (KNNVectorFieldMapper) super.clone();\n+    }\n+\n     public static class Defaults {\n         public static final Explicit<Boolean> IGNORE_MALFORMED = new Explicit<>(false, false);\n-        public static final KNNVectorFieldType FIELD_TYPE = new KNNVectorFieldType();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2785647b4273fbe355a49952b9c2b3b7192f6654"}, "originalPosition": 43}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjYyNDM3MA==", "bodyText": "There is a refactoring around MappedFieldType and FieldType separating indexing and search attributes. More details here elastic/elasticsearch#58160. As part of this i need to replace the MappedFieldType to FieldType for providing the indexing attributes.", "url": "https://github.com/opendistro-for-elasticsearch/k-NN/pull/199#discussion_r476624370", "createdAt": "2020-08-25T17:37:14Z", "author": {"login": "vamshin"}, "path": "src/main/java/com/amazon/opendistroforelasticsearch/knn/index/KNNVectorFieldMapper.java", "diffHunk": "@@ -56,38 +57,48 @@\n \n     protected Explicit<Boolean> ignoreMalformed;\n \n-    public KNNVectorFieldMapper(String simpleName, MappedFieldType fieldType, MappedFieldType defaultFieldType,\n+    public KNNVectorFieldMapper(String simpleName, FieldType fieldType, MappedFieldType defaultFieldType,\n                                 Settings indexSettings, MultiFields multiFields, Explicit<Boolean> ignoreMalformed,\n                                 CopyTo copyTo) {\n-        super(simpleName, fieldType, defaultFieldType, indexSettings, multiFields, copyTo);\n+        super(simpleName, fieldType, defaultFieldType,  multiFields, copyTo);\n         this.ignoreMalformed = ignoreMalformed;\n     }\n \n     public static class Names {\n         public static final String IGNORE_MALFORMED = \"ignore_malformed\";\n     }\n \n+    public KNNVectorFieldMapper clone() {\n+        return (KNNVectorFieldMapper) super.clone();\n+    }\n+\n     public static class Defaults {\n         public static final Explicit<Boolean> IGNORE_MALFORMED = new Explicit<>(false, false);\n-        public static final KNNVectorFieldType FIELD_TYPE = new KNNVectorFieldType();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjU0NjMyNg=="}, "originalCommit": {"oid": "2785647b4273fbe355a49952b9c2b3b7192f6654"}, "originalPosition": 43}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2663, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}