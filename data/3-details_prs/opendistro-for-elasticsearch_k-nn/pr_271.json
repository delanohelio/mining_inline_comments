{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI3MjQ4MzY3", "number": 271, "title": "k-NN plugin support for Elasticsearch version 7.10.0", "bodyText": "Issue #, if available:\n#270\nDescription of changes:\nk-NN plugin support for Elasticsearch version 7.10.0\nBy submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice.", "createdAt": "2020-11-25T07:43:23Z", "url": "https://github.com/opendistro-for-elasticsearch/k-NN/pull/271", "merged": true, "mergeCommit": {"oid": "c517644efced92dcf3510c08fe066ce04e24798f"}, "closed": true, "closedAt": "2020-11-25T23:55:09Z", "author": {"login": "vamshin"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdflJCngH2gAyNTI3MjQ4MzY3OjdmODQ4NGFhMDA0YTA3ZTE3ZDQwY2IyMWI0ZmE0ZTJkZTE4YTllZTA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdgHQ2SgFqTUzODkwOTUwNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "7f8484aa004a07e17d40cb21b4fa4e2de18a9ee0", "author": {"user": {"login": "vamshin", "name": "Vamshi Vijay Nakkirtha"}}, "url": "https://github.com/opendistro-for-elasticsearch/k-NN/commit/7f8484aa004a07e17d40cb21b4fa4e2de18a9ee0", "committedDate": "2020-11-24T08:05:15Z", "message": "odfe 1.12 support"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aca4be0fefd6e06a54474e5474ef255295501772", "author": {"user": {"login": "vamshin", "name": "Vamshi Vijay Nakkirtha"}}, "url": "https://github.com/opendistro-for-elasticsearch/k-NN/commit/aca4be0fefd6e06a54474e5474ef255295501772", "committedDate": "2020-11-25T07:41:32Z", "message": "odfe 1.12 support"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "055ff681b08209331ea0389f4421b1e599984e17", "author": {"user": {"login": "vamshin", "name": "Vamshi Vijay Nakkirtha"}}, "url": "https://github.com/opendistro-for-elasticsearch/k-NN/commit/055ff681b08209331ea0389f4421b1e599984e17", "committedDate": "2020-11-25T07:45:25Z", "message": "odfe 1.12 support"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "89b74d3e6f08131f2c8be0214f5ca660cf8280cd", "author": {"user": {"login": "vamshin", "name": "Vamshi Vijay Nakkirtha"}}, "url": "https://github.com/opendistro-for-elasticsearch/k-NN/commit/89b74d3e6f08131f2c8be0214f5ca660cf8280cd", "committedDate": "2020-11-25T08:00:31Z", "message": "odfe 1.12 support"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM4NzgwNDM2", "url": "https://github.com/opendistro-for-elasticsearch/k-NN/pull/271#pullrequestreview-538780436", "createdAt": "2020-11-25T19:06:06Z", "commit": {"oid": "89b74d3e6f08131f2c8be0214f5ca660cf8280cd"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNVQxOTowNjowNlrOH6AlTA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNVQxOTowNjowNlrOH6AlTA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDU4OTAwNA==", "bodyText": "if o is null, then i don't think we can assign null to value since it is primitive.", "url": "https://github.com/opendistro-for-elasticsearch/k-NN/pull/271#discussion_r530589004", "createdAt": "2020-11-25T19:06:06Z", "author": {"login": "VijayanB"}, "path": "src/main/java/com/amazon/opendistroforelasticsearch/knn/index/KNNVectorFieldMapper.java", "diffHunk": "@@ -78,9 +79,9 @@ private static KNNVectorFieldMapper toType(FieldMapper in) {\n                 m -> toType(m).stored, false);\n         private final Parameter<Boolean> hasDocValues = Parameter.boolParam(\"doc_values\", false,\n                 m -> toType(m).hasDocValues,  true);\n-        private final Parameter<Integer> dimension = new Parameter<>(KNNConstants.DIMENSION, false, -1,\n-                (n, o) -> {\n-                            int value = XContentMapValues.nodeIntegerValue(o);\n+        private final Parameter<Integer> dimension = new Parameter<>(KNNConstants.DIMENSION, false, () -> -1,\n+                (n, c, o) -> {\n+                            int value = (o == null ? null : XContentMapValues.nodeIntegerValue(o));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "89b74d3e6f08131f2c8be0214f5ca660cf8280cd"}, "originalPosition": 30}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM4NzgxNDg5", "url": "https://github.com/opendistro-for-elasticsearch/k-NN/pull/271#pullrequestreview-538781489", "createdAt": "2020-11-25T19:07:50Z", "commit": {"oid": "89b74d3e6f08131f2c8be0214f5ca660cf8280cd"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNVQxOTowNzo1MVrOH6AoVA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNVQxOTowNzo1MVrOH6AoVA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDU4OTc4MA==", "bodyText": "Copyright 2020", "url": "https://github.com/opendistro-for-elasticsearch/k-NN/pull/271#discussion_r530589780", "createdAt": "2020-11-25T19:07:51Z", "author": {"login": "VijayanB"}, "path": "src/main/java/com/amazon/opendistroforelasticsearch/knn/index/codec/KNN87Codec/KNN87Codec.java", "diffHunk": "@@ -0,0 +1,138 @@\n+/*\n+ *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "89b74d3e6f08131f2c8be0214f5ca660cf8280cd"}, "originalPosition": 2}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "644225323e48569e01775a2b9fb74230ac45bba5", "author": {"user": {"login": "vamshin", "name": "Vamshi Vijay Nakkirtha"}}, "url": "https://github.com/opendistro-for-elasticsearch/k-NN/commit/644225323e48569e01775a2b9fb74230ac45bba5", "committedDate": "2020-11-25T19:30:15Z", "message": "odfe 1.12 support"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM4ODcyNjU5", "url": "https://github.com/opendistro-for-elasticsearch/k-NN/pull/271#pullrequestreview-538872659", "createdAt": "2020-11-25T22:03:35Z", "commit": {"oid": "644225323e48569e01775a2b9fb74230ac45bba5"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNVQyMjowMzozNVrOH6FPIw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNVQyMjowMzozNVrOH6FPIw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDY2NTI1MQ==", "bodyText": "What is this for?", "url": "https://github.com/opendistro-for-elasticsearch/k-NN/pull/271#discussion_r530665251", "createdAt": "2020-11-25T22:03:35Z", "author": {"login": "jmazanec15"}, "path": "gradle.properties", "diffHunk": "@@ -13,4 +13,4 @@\n #   permissions and limitations under the License.\n #\n \n-version=1.6\n+version=1.11.0", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "644225323e48569e01775a2b9fb74230ac45bba5"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM4OTA4MTky", "url": "https://github.com/opendistro-for-elasticsearch/k-NN/pull/271#pullrequestreview-538908192", "createdAt": "2020-11-25T23:45:54Z", "commit": {"oid": "644225323e48569e01775a2b9fb74230ac45bba5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM4OTA5NTA3", "url": "https://github.com/opendistro-for-elasticsearch/k-NN/pull/271#pullrequestreview-538909507", "createdAt": "2020-11-25T23:50:34Z", "commit": {"oid": "644225323e48569e01775a2b9fb74230ac45bba5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1286, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}