{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA5NzAzNTI4", "number": 100, "title": "Added validation that vector is not NaN", "bodyText": "Issue #, if available:\n#99\nDescription of changes:\nAdded validation in VectorFieldMapper to check for vector values of NaN and throwing an Exception if so.\nAdded test case.\nBy submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice.", "createdAt": "2020-04-27T19:36:15Z", "url": "https://github.com/opendistro-for-elasticsearch/k-NN/pull/100", "merged": true, "mergeCommit": {"oid": "b1bd276d03890db2a24b738fea4ee9d3deb818a4"}, "closed": true, "closedAt": "2020-04-28T17:01:20Z", "author": {"login": "jmazanec15"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcb0iXLAH2gAyNDA5NzAzNTI4OmQ3YjUyOGJhNTQyYWYzZWFkMDBmNWEyYmNjNDU3ZTI5MjBkY2Q5M2M=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcb-AA5AFqTQwMTUzNTQwOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "d7b528ba542af3ead00f5a2bcc457e2920dcd93c", "author": {"user": {"login": "jmazanec15", "name": "Jack Mazanec"}}, "url": "https://github.com/opendistro-for-elasticsearch/k-NN/commit/d7b528ba542af3ead00f5a2bcc457e2920dcd93c", "committedDate": "2020-04-27T19:34:38Z", "message": "Added validation that vector is not NaN"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAxMjY4ODMy", "url": "https://github.com/opendistro-for-elasticsearch/k-NN/pull/100#pullrequestreview-401268832", "createdAt": "2020-04-27T19:40:39Z", "commit": {"oid": "d7b528ba542af3ead00f5a2bcc457e2920dcd93c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yN1QxOTo0MDozOVrOGM0gUA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yN1QxOTo0MDozOVrOGM0gUA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjA5NjMzNg==", "bodyText": "Should we also add check for Float.isInfinite?\nhttps://docs.oracle.com/javase/7/docs/api/java/lang/Float.html#isInfinite(float)", "url": "https://github.com/opendistro-for-elasticsearch/k-NN/pull/100#discussion_r416096336", "createdAt": "2020-04-27T19:40:39Z", "author": {"login": "vamshin"}, "path": "src/main/java/com/amazon/opendistroforelasticsearch/knn/index/KNNVectorFieldMapper.java", "diffHunk": "@@ -250,10 +250,16 @@ public void parse(ParseContext context) throws IOException {\n         if (token == XContentParser.Token.START_ARRAY) {\n             token = context.parser().nextToken();\n             while (token != XContentParser.Token.END_ARRAY) {\n+                if (Float.isNaN(context.parser().floatValue())) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d7b528ba542af3ead00f5a2bcc457e2920dcd93c"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2576966571e2e712e1a6f7eb4243f123c8df8706", "author": {"user": {"login": "jmazanec15", "name": "Jack Mazanec"}}, "url": "https://github.com/opendistro-for-elasticsearch/k-NN/commit/2576966571e2e712e1a6f7eb4243f123c8df8706", "committedDate": "2020-04-27T19:54:31Z", "message": "added infinity check"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAxNTM1NDA5", "url": "https://github.com/opendistro-for-elasticsearch/k-NN/pull/100#pullrequestreview-401535409", "createdAt": "2020-04-28T06:36:10Z", "commit": {"oid": "2576966571e2e712e1a6f7eb4243f123c8df8706"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1353, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}