{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg4MjcxMjk1", "number": 228, "title": "Add existsQuery method implementation to KNNVectorFieldType", "bodyText": "Issue #, if available:\n#197\nDescription of changes:\nAdds existQuery functionality support to KNNVectorFieldType.\nThis change allows a user to get the documents with a k-NN field like this:\n{\n    \"query\": {\n       \"exists\": {\n       \"field\": \"imageVector\"\n     }\n  }\n}\n\nAdditionally, added tests to confirm functionality.\nBy submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice.", "createdAt": "2020-09-16T22:08:46Z", "url": "https://github.com/opendistro-for-elasticsearch/k-NN/pull/228", "merged": true, "mergeCommit": {"oid": "be4e8ee0b21b36b6ac691040adfe53a391a1bae3"}, "closed": true, "closedAt": "2020-09-17T15:16:22Z", "author": {"login": "jmazanec15"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdJjzqyAH2gAyNDg4MjcxMjk1OjM5ZGMwOGRlODQzZDE1NDI3ZWIxYTVlNzRkNmIzZDBkYzc0YTYyZTc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdJpicagFqTQ5MDIzOTUwOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "39dc08de843d15427eb1a5e74d6b3d0dc74a62e7", "author": {"user": {"login": "jmazanec15", "name": "Jack Mazanec"}}, "url": "https://github.com/opendistro-for-elasticsearch/k-NN/commit/39dc08de843d15427eb1a5e74d6b3d0dc74a62e7", "committedDate": "2020-09-16T22:05:40Z", "message": "add existsQuery to KNNVectorFieldType"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkwMDU3ODA5", "url": "https://github.com/opendistro-for-elasticsearch/k-NN/pull/228#pullrequestreview-490057809", "createdAt": "2020-09-16T22:17:20Z", "commit": {"oid": "39dc08de843d15427eb1a5e74d6b3d0dc74a62e7"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNlQyMjoxNzoyMVrOHTGGFA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNlQyMjoxNzoyMVrOHTGGFA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTc4NDg1Mg==", "bodyText": "How about we declare 2 different knn fields(k1, k2) in the mappings with below scenario\nHave 1 document with both the k1,k2.\nHave 3 docs with only k1\nHave 2 docs with only k2\nHave 1 doc with neither k1 nor k2\nWith exists query for k1, assert hits=4\nWith exists query for k2, assert hits=3", "url": "https://github.com/opendistro-for-elasticsearch/k-NN/pull/228#discussion_r489784852", "createdAt": "2020-09-16T22:17:21Z", "author": {"login": "vamshin"}, "path": "src/test/java/com/amazon/opendistroforelasticsearch/knn/index/KNNESIT.java", "diffHunk": "@@ -325,4 +329,36 @@ public void testInvalidQueryHnswAlgoParams() {\n                 createKnnIndexMapping(FIELD_NAME, 2)));\n         assertThat(ex.getMessage(), containsString(\"Failed to parse value [-1] for setting [index.knn.algo_param.ef_search]\"));\n     }\n+\n+    public void testExistsQuery() throws IOException {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "39dc08de843d15427eb1a5e74d6b3d0dc74a62e7"}, "originalPosition": 21}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3e4542fcd93e0237c0dd0705fd1b31046121d892", "author": {"user": {"login": "jmazanec15", "name": "Jack Mazanec"}}, "url": "https://github.com/opendistro-for-elasticsearch/k-NN/commit/3e4542fcd93e0237c0dd0705fd1b31046121d892", "committedDate": "2020-09-16T23:39:27Z", "message": "remove if statement for existsQuery"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "635dac92be20ac02df1fbbafe3c61de1536d3e76", "author": {"user": {"login": "jmazanec15", "name": "Jack Mazanec"}}, "url": "https://github.com/opendistro-for-elasticsearch/k-NN/commit/635dac92be20ac02df1fbbafe3c61de1536d3e76", "committedDate": "2020-09-16T23:39:47Z", "message": "update existsQuery test case"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkwMjM5NTA5", "url": "https://github.com/opendistro-for-elasticsearch/k-NN/pull/228#pullrequestreview-490239509", "createdAt": "2020-09-17T04:46:17Z", "commit": {"oid": "635dac92be20ac02df1fbbafe3c61de1536d3e76"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1267, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}