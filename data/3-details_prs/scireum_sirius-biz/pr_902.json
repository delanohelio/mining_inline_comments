{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE4NDk1MjY4", "number": 902, "title": "SE-10138: Cross-lingual handling of salutations", "bodyText": "Since it is possible in S2 to send e-mails to several addressees in different languages, they must be addressable in their respective language.", "createdAt": "2020-11-10T13:38:57Z", "url": "https://github.com/scireum/sirius-biz/pull/902", "merged": true, "mergeCommit": {"oid": "f7db2d2c40c17aba5dcb14dfa1f64104439d6e59"}, "closed": true, "closedAt": "2020-11-13T09:17:38Z", "author": {"login": "marvinwoop"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdbJfrMAH2gAyNTE4NDk1MjY4OmU0MDBiNWMzODE0OWEwYTMzMDZmYjQyNDJkYjIwNDZiMDc2MmRlNjc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdcDlT5gFqTUyOTg5NzQ5MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "e400b5c38149a0a3306fb4242db2046b0762de67", "author": {"user": {"login": "marvinwoop", "name": null}}, "url": "https://github.com/scireum/sirius-biz/commit/e400b5c38149a0a3306fb4242db2046b0762de67", "committedDate": "2020-11-10T13:36:56Z", "message": "SE-10138: Cross-lingual handling of salutations"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI5ODA5NTkx", "url": "https://github.com/scireum/sirius-biz/pull/902#pullrequestreview-529809591", "createdAt": "2020-11-13T06:48:41Z", "commit": {"oid": "e400b5c38149a0a3306fb4242db2046b0762de67"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xM1QwNjo0ODo0MVrOHyenGw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xM1QwNjo1NTowNFrOHye9Fg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjY5MjM3OQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                public String getUserSpecificTranslatedSalutation(String langCode) {\n          \n          \n            \n                public String getTranslatedSalutation(String langCode) {", "url": "https://github.com/scireum/sirius-biz/pull/902#discussion_r522692379", "createdAt": "2020-11-13T06:48:41Z", "author": {"login": "mkeckmkeck"}, "path": "src/main/java/sirius/biz/model/PersonData.java", "diffHunk": "@@ -212,6 +225,16 @@ public String getTranslatedSalutation() {\n         return codeLists.getTranslatedValue(CODE_LIST_SALUTATIONS, salutation);\n     }\n \n+    /**\n+     * Returns the value (by langCode specified translated name) of the salutation.\n+     *\n+     * @param langCode the language code to translate to\n+     * @return the value for <tt>salutation</tt> from the <tt>salutations</tt> code list\n+     */\n+    public String getUserSpecificTranslatedSalutation(String langCode) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e400b5c38149a0a3306fb4242db2046b0762de67"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjY5ODAwNg==", "bodyText": "Don't we need the langcode for Value.of(value).translate() too?", "url": "https://github.com/scireum/sirius-biz/pull/902#discussion_r522698006", "createdAt": "2020-11-13T06:55:04Z", "author": {"login": "mkeckmkeck"}, "path": "src/main/java/sirius/biz/codelists/CodeLists.java", "diffHunk": "@@ -438,7 +438,21 @@ public String getValue(@Nonnull String codeListName, @Nullable String code, @Nul\n      */\n     @Nullable\n     public String getTranslatedValue(@Nonnull String codeListName, @Nullable String code) {\n-        String value = getValue(codeListName, code, NLS.getCurrentLang());\n+        return getTranslatedValue(codeListName, code, NLS.getCurrentLang());\n+    }\n+\n+    /**\n+     * Returns the value translated from the given code list associated with the given code and language code.\n+     * <p>\n+     * If no matching entry exists, the code itself will be returned.\n+     *\n+     * @param codeListName the code list to search in\n+     * @param code         the code to lookup\n+     * @param langCode     the language code to translate into\n+     * @return the translated value associated with the code or the code itself if no value exists\n+     */\n+    public String getTranslatedValue(@Nonnull String codeListName, @Nullable String code, String langCode) {\n+        String value = getValue(codeListName, code, langCode);\n         if (value != null && value.startsWith(\"$\")) {\n             return Value.of(value).translate().getString();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e400b5c38149a0a3306fb4242db2046b0762de67"}, "originalPosition": 30}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI5ODMxODg3", "url": "https://github.com/scireum/sirius-biz/pull/902#pullrequestreview-529831887", "createdAt": "2020-11-13T07:42:11Z", "commit": {"oid": "e400b5c38149a0a3306fb4242db2046b0762de67"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI5ODMyMzY0", "url": "https://github.com/scireum/sirius-biz/pull/902#pullrequestreview-529832364", "createdAt": "2020-11-13T07:43:12Z", "commit": {"oid": "e400b5c38149a0a3306fb4242db2046b0762de67"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c3f89e56f604cb30e1b0bc8c4ffa8e31f00c1401", "author": {"user": {"login": "marvinwoop", "name": null}}, "url": "https://github.com/scireum/sirius-biz/commit/c3f89e56f604cb30e1b0bc8c4ffa8e31f00c1401", "committedDate": "2020-11-13T08:03:32Z", "message": "SE-10138: Changed method name and added language code to translate method"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI5ODYwODkx", "url": "https://github.com/scireum/sirius-biz/pull/902#pullrequestreview-529860891", "createdAt": "2020-11-13T08:25:43Z", "commit": {"oid": "c3f89e56f604cb30e1b0bc8c4ffa8e31f00c1401"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI5ODk2NzA0", "url": "https://github.com/scireum/sirius-biz/pull/902#pullrequestreview-529896704", "createdAt": "2020-11-13T09:16:27Z", "commit": {"oid": "c3f89e56f604cb30e1b0bc8c4ffa8e31f00c1401"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI5ODk3NDkx", "url": "https://github.com/scireum/sirius-biz/pull/902#pullrequestreview-529897491", "createdAt": "2020-11-13T09:17:35Z", "commit": {"oid": "c3f89e56f604cb30e1b0bc8c4ffa8e31f00c1401"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4235, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}