{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTAzMzMxMDcz", "number": 879, "title": "Allows to provide multiple XSDs for validation in XML import jobs", "bodyText": "Also skips validation entirely when a specific parameter value is selected.\nWe need to allow the user to switch between multiple schemas for formats that have variants.\nExample: ARGE XML also has a DGH variant with some of the required fields being missing or optional.\nFixes: OX-6257", "createdAt": "2020-10-14T12:17:19Z", "url": "https://github.com/scireum/sirius-biz/pull/879", "merged": true, "mergeCommit": {"oid": "a174b57225aa5922d0db1d02cbb9656560f8e9ff"}, "closed": true, "closedAt": "2020-10-14T13:38:25Z", "author": {"login": "sabieber"}, "timelineItems": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdScAhXgH2gAyNTAzMzMxMDczOmM5ZTkwN2IxMjgyNTczMTU5YzIzYzRkNzFmMzc3NzRiMzNkNGNhODM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdSdQFKgFqTUwODM0OTU3OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "c9e907b1282573159c23c4d71f37774b33d4ca83", "author": {"user": {"login": "sabieber", "name": "Sascha Bieberstein"}}, "url": "https://github.com/scireum/sirius-biz/commit/c9e907b1282573159c23c4d71f37774b33d4ca83", "committedDate": "2020-10-14T12:05:47Z", "message": "Outputs the technical value when fetching select string param\n\nWhen resolving a select string param inside of a job the technical value (key attribute) is much more helpful as translating it to the displayed label (value attribute) of the parameter.\n\nFixes: OX-6257"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "306468d6d61d0286760d9d4e60f088f90552b653", "author": {"user": {"login": "sabieber", "name": "Sascha Bieberstein"}}, "url": "https://github.com/scireum/sirius-biz/commit/306468d6d61d0286760d9d4e60f088f90552b653", "committedDate": "2020-10-14T12:16:41Z", "message": "Allows to provide multiple XSDs for validation in XML import jobs\n\nAlso skips validation entirely when a specific parameter value is selected.\nWe need to allow the user to switch between multiple schemas for formats that have variants.\nExample: ARGE XML also has a DGH variant with some of the required fields being missing or optional.\n\nFixes: OX-6257"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA4Mjg3NTI3", "url": "https://github.com/scireum/sirius-biz/pull/879#pullrequestreview-508287527", "createdAt": "2020-10-14T12:23:36Z", "commit": {"oid": "306468d6d61d0286760d9d4e60f088f90552b653"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQxMjoyMzozNlrOHhQUoQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQxMjoyMzozNlrOHhQUoQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDYzMjQ4MQ==", "bodyText": "create a map externally and offer it here as BiConsumer<String,String> here? this also permits to enforce a LinkedHashMap which guarantees order", "url": "https://github.com/scireum/sirius-biz/pull/879#discussion_r504632481", "createdAt": "2020-10-14T12:23:36Z", "author": {"login": "andyHa"}, "path": "src/main/java/sirius/biz/jobs/batch/file/XMLImportJobFactory.java", "diffHunk": "@@ -42,12 +49,14 @@ public String getIcon() {\n     }\n \n     /**\n-     * Returns the path to the XSD file if the XML file should be validated, null otherwise.\n+     * Returns a map of paths to XSD files if the XML file should be validated, an empty map otherwise.\n+     * <p>\n+     * This allows to provide more than one XSD for validation when multiple variants of a data format are supported.\n      *\n-     * @return the path to the XSD file if the XML file should be validated, null otherwise\n+     * @return a map of paths to XSD files if the XML file should be validated, an empty map otherwise\n      */\n-    @Nullable\n-    protected String getXsdResourcePath() {\n-        return null;\n+    @Nonnull\n+    protected Map<String, String> getXsdResourcePaths() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "306468d6d61d0286760d9d4e60f088f90552b653"}, "originalPosition": 57}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA4Mjg4MDg0", "url": "https://github.com/scireum/sirius-biz/pull/879#pullrequestreview-508288084", "createdAt": "2020-10-14T12:24:22Z", "commit": {"oid": "306468d6d61d0286760d9d4e60f088f90552b653"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "df96d6503fa98b386c8d8b37366b2588604daf6e", "author": {"user": {"login": "sabieber", "name": "Sascha Bieberstein"}}, "url": "https://github.com/scireum/sirius-biz/commit/df96d6503fa98b386c8d8b37366b2588604daf6e", "committedDate": "2020-10-14T12:59:58Z", "message": "Simplifies xml schema param by making it optional\n\nBy this we dont need an explicit \"empty\" parameter as we can skip the validation when no value is selected.\n\nFixes: OX-6257"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA4MzIyOTA2", "url": "https://github.com/scireum/sirius-biz/pull/879#pullrequestreview-508322906", "createdAt": "2020-10-14T13:05:17Z", "commit": {"oid": "df96d6503fa98b386c8d8b37366b2588604daf6e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fede95185f70486e50cd0d579e84896edabf660b", "author": {"user": {"login": "sabieber", "name": "Sascha Bieberstein"}}, "url": "https://github.com/scireum/sirius-biz/commit/fede95185f70486e50cd0d579e84896edabf660b", "committedDate": "2020-10-14T13:15:54Z", "message": "Codestyle\n\nFixes: OX-6257"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA4MzM2NzI3", "url": "https://github.com/scireum/sirius-biz/pull/879#pullrequestreview-508336727", "createdAt": "2020-10-14T13:19:45Z", "commit": {"oid": "fede95185f70486e50cd0d579e84896edabf660b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA4MzQ1OTQz", "url": "https://github.com/scireum/sirius-biz/pull/879#pullrequestreview-508345943", "createdAt": "2020-10-14T13:28:58Z", "commit": {"oid": "fede95185f70486e50cd0d579e84896edabf660b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA4MzQ2ODEz", "url": "https://github.com/scireum/sirius-biz/pull/879#pullrequestreview-508346813", "createdAt": "2020-10-14T13:29:52Z", "commit": {"oid": "fede95185f70486e50cd0d579e84896edabf660b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQxMzoyOTo1MlrOHhTEgA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQxMzoyOTo1MlrOHhTEgA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDY3NzUwNA==", "bodyText": "Rename to fillXsdResourcePaths. Get* returning void smells a little.", "url": "https://github.com/scireum/sirius-biz/pull/879#discussion_r504677504", "createdAt": "2020-10-14T13:29:52Z", "author": {"login": "mkeckmkeck"}, "path": "src/main/java/sirius/biz/jobs/batch/file/XMLImportJobFactory.java", "diffHunk": "@@ -42,12 +46,11 @@ public String getIcon() {\n     }\n \n     /**\n-     * Returns the path to the XSD file if the XML file should be validated, null otherwise.\n-     *\n-     * @return the path to the XSD file if the XML file should be validated, null otherwise\n+     * Adds xsd schema paths to the entryConsumer if the XML file should and can be validated.\n+     * <p>\n+     * This allows to provide more than one XSD for validation when multiple variants of a data format are supported.\n      */\n-    @Nullable\n-    protected String getXsdResourcePath() {\n-        return null;\n+    protected void getXsdResourcePaths(BiConsumer<String, String> entryConsumer) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fede95185f70486e50cd0d579e84896edabf660b"}, "originalPosition": 52}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fd66630064974cfa020ade2ee462327de4cb4237", "author": {"user": {"login": "sabieber", "name": "Sascha Bieberstein"}}, "url": "https://github.com/scireum/sirius-biz/commit/fd66630064974cfa020ade2ee462327de4cb4237", "committedDate": "2020-10-14T13:31:04Z", "message": "Codestyle\n\nFixes: OX-6257"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA4MzQ4MjAx", "url": "https://github.com/scireum/sirius-biz/pull/879#pullrequestreview-508348201", "createdAt": "2020-10-14T13:31:20Z", "commit": {"oid": "fd66630064974cfa020ade2ee462327de4cb4237"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA4MzQ5NTc4", "url": "https://github.com/scireum/sirius-biz/pull/879#pullrequestreview-508349578", "createdAt": "2020-10-14T13:32:41Z", "commit": {"oid": "fd66630064974cfa020ade2ee462327de4cb4237"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4198, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}