{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc4NDcxNTcw", "number": 850, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QwOTowNDoyM1rOEf5T5A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QwOTowNzoyMVrOEf5YWg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAxODgwMjkyOnYy", "diffSide": "RIGHT", "path": "src/main/java/sirius/biz/jobs/batch/BatchProcessJobFactory.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QwOTowNDoyM1rOHMdNOQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QwOTowNDoyM1rOHMdNOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjgyMzQ4MQ==", "bodyText": "i18n", "url": "https://github.com/scireum/sirius-biz/pull/850#discussion_r482823481", "createdAt": "2020-09-03T09:04:23Z", "author": {"login": "andyHa"}, "path": "src/main/java/sirius/biz/jobs/batch/BatchProcessJobFactory.java", "diffHunk": "@@ -213,16 +216,36 @@ protected void executeTask(ProcessContext process) throws Exception {\n     protected abstract BatchJob createJob(ProcessContext process) throws Exception;\n \n     protected void logParameters(ProcessContext process) {\n+        List<Parameter<?, ?>> parameters = getParameters();\n+\n         StringBuilder output = new StringBuilder();\n         output.append(\"Parameter:\\n\\n\");\n+        appendParameterValues(process, output, parameters, Parameter::shouldBeNormalLogged);\n+        process.log(ProcessLog.info().withMessage(output.toString().trim()));\n+\n+        if (parameters.stream().anyMatch(Parameter::shouldBeSystemLogged)) {\n+            logSystemParameters(process, parameters);\n+        }\n+    }\n \n-        getParameters().forEach(param -> {\n+    private void logSystemParameters(ProcessContext process, List<Parameter<?, ?>> parameters) {\n+        StringBuilder output = new StringBuilder();\n+        output.append(\"Systemparameter:\\n\\n\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fc391e3cfefb80ef51de0d9e5e91c4f9af505065"}, "originalPosition": 39}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAxODgwMzI2OnYy", "diffSide": "RIGHT", "path": "src/main/java/sirius/biz/jobs/batch/BatchProcessJobFactory.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QwOTowNDozMFrOHMdNdw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QwOTowNzo1OFrOHMdWFw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjgyMzU0Mw==", "bodyText": "i18n", "url": "https://github.com/scireum/sirius-biz/pull/850#discussion_r482823543", "createdAt": "2020-09-03T09:04:30Z", "author": {"login": "andyHa"}, "path": "src/main/java/sirius/biz/jobs/batch/BatchProcessJobFactory.java", "diffHunk": "@@ -213,16 +216,36 @@ protected void executeTask(ProcessContext process) throws Exception {\n     protected abstract BatchJob createJob(ProcessContext process) throws Exception;\n \n     protected void logParameters(ProcessContext process) {\n+        List<Parameter<?, ?>> parameters = getParameters();\n+\n         StringBuilder output = new StringBuilder();\n         output.append(\"Parameter:\\n\\n\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fc391e3cfefb80ef51de0d9e5e91c4f9af505065"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjgyNDQ0Mg==", "bodyText": "couldn't we re-use the code and call it twice with a different heading and predicate (Parameter::shouldBeSystemLogged or p -> !p.shouldBeSystemLogged())", "url": "https://github.com/scireum/sirius-biz/pull/850#discussion_r482824442", "createdAt": "2020-09-03T09:05:52Z", "author": {"login": "andyHa"}, "path": "src/main/java/sirius/biz/jobs/batch/BatchProcessJobFactory.java", "diffHunk": "@@ -213,16 +216,36 @@ protected void executeTask(ProcessContext process) throws Exception {\n     protected abstract BatchJob createJob(ProcessContext process) throws Exception;\n \n     protected void logParameters(ProcessContext process) {\n+        List<Parameter<?, ?>> parameters = getParameters();\n+\n         StringBuilder output = new StringBuilder();\n         output.append(\"Parameter:\\n\\n\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjgyMzU0Mw=="}, "originalCommit": {"oid": "fc391e3cfefb80ef51de0d9e5e91c4f9af505065"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjgyNTc1MQ==", "bodyText": "scratch that - add a getVisibility() +- parameter and simply pass in the desired visibility type (other normal or system)...", "url": "https://github.com/scireum/sirius-biz/pull/850#discussion_r482825751", "createdAt": "2020-09-03T09:07:58Z", "author": {"login": "andyHa"}, "path": "src/main/java/sirius/biz/jobs/batch/BatchProcessJobFactory.java", "diffHunk": "@@ -213,16 +216,36 @@ protected void executeTask(ProcessContext process) throws Exception {\n     protected abstract BatchJob createJob(ProcessContext process) throws Exception;\n \n     protected void logParameters(ProcessContext process) {\n+        List<Parameter<?, ?>> parameters = getParameters();\n+\n         StringBuilder output = new StringBuilder();\n         output.append(\"Parameter:\\n\\n\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjgyMzU0Mw=="}, "originalCommit": {"oid": "fc391e3cfefb80ef51de0d9e5e91c4f9af505065"}, "originalPosition": 27}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAxODgxNDM0OnYy", "diffSide": "RIGHT", "path": "src/main/java/sirius/biz/jobs/params/Parameter.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QwOTowNzoyMVrOHMdUfQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QwOTowNzoyMVrOHMdUfQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjgyNTM0MQ==", "bodyText": "wouldn't a getter be enough here? it is only used in another condition, we could even use this as a parameter (s.a.)", "url": "https://github.com/scireum/sirius-biz/pull/850#discussion_r482825341", "createdAt": "2020-09-03T09:07:21Z", "author": {"login": "andyHa"}, "path": "src/main/java/sirius/biz/jobs/params/Parameter.java", "diffHunk": "@@ -122,6 +148,25 @@ public boolean isVisible(Map<String, String> context) {\n         return get(context).isPresent();\n     }\n \n+    /**", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fc391e3cfefb80ef51de0d9e5e91c4f9af505065"}, "originalPosition": 57}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2015, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}