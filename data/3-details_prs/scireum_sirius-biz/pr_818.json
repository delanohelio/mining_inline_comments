{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ1OTg1NDQw", "number": 818, "title": "Adds indexes to MongoBlob", "bodyText": "", "createdAt": "2020-07-08T05:46:37Z", "url": "https://github.com/scireum/sirius-biz/pull/818", "merged": true, "mergeCommit": {"oid": "18d81dbc3411dc010ae0c32545473def290ddfe7"}, "closed": true, "closedAt": "2020-07-08T09:15:25Z", "author": {"login": "idlira"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcyz1hjgH2gAyNDQ1OTg1NDQwOmMwYWE2ZmY3NTBiMDZmMjhiMDJhNWQwNTMwNzhkYmIzMGFjZWU4N2I=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcy22jEgFqTQ0NDU2MDk0NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "c0aa6ff750b06f28b02a5d053078dbb30acee87b", "author": {"user": {"login": "idlira", "name": "Idevaldo De Lira"}}, "url": "https://github.com/scireum/sirius-biz/commit/c0aa6ff750b06f28b02a5d053078dbb30acee87b", "committedDate": "2020-07-08T05:45:55Z", "message": "Adds indexes to MongoBlob"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ0NDMzMjc0", "url": "https://github.com/scireum/sirius-biz/pull/818#pullrequestreview-444433274", "createdAt": "2020-07-08T05:57:46Z", "commit": {"oid": "c0aa6ff750b06f28b02a5d053078dbb30acee87b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOFQwNTo1Nzo0NlrOGuZNJA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOFQwNTo1Nzo0NlrOGuZNJA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTMwMDY0NA==", "bodyText": "Hochz\u00e4hlendes Suffix da es zu viele Spalten sind um diese im Indexnamen unterzubringen?", "url": "https://github.com/scireum/sirius-biz/pull/818#discussion_r451300644", "createdAt": "2020-07-08T05:57:46Z", "author": {"login": "bwiedmann"}, "path": "src/main/java/sirius/biz/storage/layer2/mongo/MongoBlob.java", "diffHunk": "@@ -45,6 +47,23 @@\n  */\n @Framework(MongoBlobStorage.FRAMEWORK_MONGO_BLOB_STORAGE)\n @ComplexDelete(false)\n+@Index(name = \"blob_lookup_1\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c0aa6ff750b06f28b02a5d053078dbb30acee87b"}, "originalPosition": 17}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ0NDMzMzAw", "url": "https://github.com/scireum/sirius-biz/pull/818#pullrequestreview-444433300", "createdAt": "2020-07-08T05:57:50Z", "commit": {"oid": "c0aa6ff750b06f28b02a5d053078dbb30acee87b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ0NDQ4NjI0", "url": "https://github.com/scireum/sirius-biz/pull/818#pullrequestreview-444448624", "createdAt": "2020-07-08T06:33:53Z", "commit": {"oid": "c0aa6ff750b06f28b02a5d053078dbb30acee87b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ0NDUxMTA1", "url": "https://github.com/scireum/sirius-biz/pull/818#pullrequestreview-444451105", "createdAt": "2020-07-08T06:39:16Z", "commit": {"oid": "c0aa6ff750b06f28b02a5d053078dbb30acee87b"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOFQwNjozOToxNlrOGuaHIQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOFQwNjozOTo1NFrOGuaIGQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTMxNTQ4OQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            @Index(name = \"blob_lookup_3\",\n          \n          \n            \n            @Index(name = \"blob_reference_lookup\",", "url": "https://github.com/scireum/sirius-biz/pull/818#discussion_r451315489", "createdAt": "2020-07-08T06:39:16Z", "author": {"login": "sabieber"}, "path": "src/main/java/sirius/biz/storage/layer2/mongo/MongoBlob.java", "diffHunk": "@@ -45,6 +47,23 @@\n  */\n @Framework(MongoBlobStorage.FRAMEWORK_MONGO_BLOB_STORAGE)\n @ComplexDelete(false)\n+@Index(name = \"blob_lookup_1\",\n+        columns = {\"spaceName\", \"deleted\", \"normalizedFilename\", \"parent\", \"committed\"},\n+        columnSettings = {Mango.INDEX_ASCENDING,\n+                          Mango.INDEX_ASCENDING,\n+                          Mango.INDEX_ASCENDING,\n+                          Mango.INDEX_ASCENDING,\n+                          Mango.INDEX_ASCENDING})\n+@Index(name = \"blob_lookup_2\",\n+        columns = {\"spaceName\", \"deleted\", \"filename\", \"parent\", \"committed\"},\n+        columnSettings = {Mango.INDEX_ASCENDING,\n+                          Mango.INDEX_ASCENDING,\n+                          Mango.INDEX_ASCENDING,\n+                          Mango.INDEX_ASCENDING,\n+                          Mango.INDEX_ASCENDING})\n+@Index(name = \"blob_lookup_3\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c0aa6ff750b06f28b02a5d053078dbb30acee87b"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTMxNTY0OQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            @Index(name = \"blob_lookup_1\",\n          \n          \n            \n            @Index(name = \"blob_normalized_filename_lookup\",", "url": "https://github.com/scireum/sirius-biz/pull/818#discussion_r451315649", "createdAt": "2020-07-08T06:39:39Z", "author": {"login": "sabieber"}, "path": "src/main/java/sirius/biz/storage/layer2/mongo/MongoBlob.java", "diffHunk": "@@ -45,6 +47,23 @@\n  */\n @Framework(MongoBlobStorage.FRAMEWORK_MONGO_BLOB_STORAGE)\n @ComplexDelete(false)\n+@Index(name = \"blob_lookup_1\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c0aa6ff750b06f28b02a5d053078dbb30acee87b"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTMxNTczNw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            @Index(name = \"blob_lookup_2\",\n          \n          \n            \n            @Index(name = \"blob_filename_lookup\",", "url": "https://github.com/scireum/sirius-biz/pull/818#discussion_r451315737", "createdAt": "2020-07-08T06:39:54Z", "author": {"login": "sabieber"}, "path": "src/main/java/sirius/biz/storage/layer2/mongo/MongoBlob.java", "diffHunk": "@@ -45,6 +47,23 @@\n  */\n @Framework(MongoBlobStorage.FRAMEWORK_MONGO_BLOB_STORAGE)\n @ComplexDelete(false)\n+@Index(name = \"blob_lookup_1\",\n+        columns = {\"spaceName\", \"deleted\", \"normalizedFilename\", \"parent\", \"committed\"},\n+        columnSettings = {Mango.INDEX_ASCENDING,\n+                          Mango.INDEX_ASCENDING,\n+                          Mango.INDEX_ASCENDING,\n+                          Mango.INDEX_ASCENDING,\n+                          Mango.INDEX_ASCENDING})\n+@Index(name = \"blob_lookup_2\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c0aa6ff750b06f28b02a5d053078dbb30acee87b"}, "originalPosition": 24}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "947cf27fe27754573f3e030a16841cb49c8ec8b2", "author": {"user": {"login": "idlira", "name": "Idevaldo De Lira"}}, "url": "https://github.com/scireum/sirius-biz/commit/947cf27fe27754573f3e030a16841cb49c8ec8b2", "committedDate": "2020-07-08T06:53:20Z", "message": "Renames indexes according to PR review"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9bcf6426c53040f4d1b381b4c4b78a92dcd89f1c", "author": {"user": {"login": "idlira", "name": "Idevaldo De Lira"}}, "url": "https://github.com/scireum/sirius-biz/commit/9bcf6426c53040f4d1b381b4c4b78a92dcd89f1c", "committedDate": "2020-07-08T07:00:05Z", "message": "Adds indexes to MongoDirectory"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ0NDY2NTEy", "url": "https://github.com/scireum/sirius-biz/pull/818#pullrequestreview-444466512", "createdAt": "2020-07-08T07:08:24Z", "commit": {"oid": "9bcf6426c53040f4d1b381b4c4b78a92dcd89f1c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ0NDc3NDUy", "url": "https://github.com/scireum/sirius-biz/pull/818#pullrequestreview-444477452", "createdAt": "2020-07-08T07:25:56Z", "commit": {"oid": "9bcf6426c53040f4d1b381b4c4b78a92dcd89f1c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d4a253027587fb5923185b1e6938200d95e02268", "author": {"user": {"login": "idlira", "name": "Idevaldo De Lira"}}, "url": "https://github.com/scireum/sirius-biz/commit/d4a253027587fb5923185b1e6938200d95e02268", "committedDate": "2020-07-08T07:29:14Z", "message": "Adds indices to SQLBlob + SQLDirectory\n\naccording to the mongo variants"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ0NTU4NDc2", "url": "https://github.com/scireum/sirius-biz/pull/818#pullrequestreview-444558476", "createdAt": "2020-07-08T09:13:49Z", "commit": {"oid": "d4a253027587fb5923185b1e6938200d95e02268"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ0NTYwOTQ1", "url": "https://github.com/scireum/sirius-biz/pull/818#pullrequestreview-444560945", "createdAt": "2020-07-08T09:16:45Z", "commit": {"oid": "d4a253027587fb5923185b1e6938200d95e02268"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4373, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}