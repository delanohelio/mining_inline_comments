{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTEyMDU1MjA0", "number": 2467, "title": "More straightforward usage of Optional", "bodyText": "Overview\n\n\nI hereby agree to the terms of the JUnit Contributor License Agreement.\n\nDefinition of Done\n\n There are no TODOs left in the code\n Method preconditions are checked and documented in the method's Javadoc\n Coding conventions (e.g. for logging) have been followed\n Change is covered by automated tests including corner cases, errors, and exception handling\n Public API has Javadoc and @API annotations\n Change is documented in the User Guide and Release Notes\n All continuous integration builds pass", "createdAt": "2020-10-29T06:42:00Z", "url": "https://github.com/junit-team/junit5/pull/2467", "merged": true, "mergeCommit": {"oid": "c797e6fd9d55445292e3212b9ba91151d846de28"}, "closed": true, "closedAt": "2020-12-07T18:03:11Z", "author": {"login": "yorlov"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdXqcHcgFqTUyMDg5OTQ3OQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdj5e7GgFqTU0NjQwMTAyOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIwODk5NDc5", "url": "https://github.com/junit-team/junit5/pull/2467#pullrequestreview-520899479", "createdAt": "2020-10-30T17:44:12Z", "commit": {"oid": "83fb22c7aab91eb8954e792054956ba66b9afe0d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxNzo0NDoxM1rOHrZ1rg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxNzo0NDoxM1rOHrZ1rg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTI3NDE1OA==", "bodyText": "Why not use flatMap here?", "url": "https://github.com/junit-team/junit5/pull/2467#discussion_r515274158", "createdAt": "2020-10-30T17:44:13Z", "author": {"login": "marcphilipp"}, "path": "junit-jupiter-engine/src/main/java/org/junit/jupiter/engine/extension/DisabledCondition.java", "diffHunk": "@@ -39,15 +39,16 @@\n \t */\n \t@Override\n \tpublic ConditionEvaluationResult evaluateExecutionCondition(ExtensionContext context) {\n-\t\tOptional<AnnotatedElement> element = context.getElement();\n-\t\tOptional<Disabled> disabled = findAnnotation(element, Disabled.class);\n-\t\tif (disabled.isPresent()) {\n-\t\t\tString reason = disabled.map(Disabled::value).filter(StringUtils::isNotBlank).orElseGet(\n-\t\t\t\t() -> element.get() + \" is @Disabled\");\n-\t\t\treturn ConditionEvaluationResult.disabled(reason);\n-\t\t}\n-\n-\t\treturn ENABLED;\n+\t\tAnnotatedElement element = context.getElement().orElse(null);\n+\t\t// @formatter:off\n+\t\treturn findAnnotation(element, Disabled.class)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "83fb22c7aab91eb8954e792054956ba66b9afe0d"}, "originalPosition": 15}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIxMTcwOTc3", "url": "https://github.com/junit-team/junit5/pull/2467#pullrequestreview-521170977", "createdAt": "2020-10-31T21:18:20Z", "commit": {"oid": "83fb22c7aab91eb8954e792054956ba66b9afe0d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMVQyMToxODoyMFrOHrqG-A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMVQyMToxODoyMFrOHrqG-A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTU0MDcyOA==", "bodyText": "Why the orElse?", "url": "https://github.com/junit-team/junit5/pull/2467#discussion_r515540728", "createdAt": "2020-10-31T21:18:20Z", "author": {"login": "juliette-derancourt"}, "path": "junit-jupiter-engine/src/main/java/org/junit/jupiter/engine/extension/DisabledCondition.java", "diffHunk": "@@ -39,15 +39,16 @@\n \t */\n \t@Override\n \tpublic ConditionEvaluationResult evaluateExecutionCondition(ExtensionContext context) {\n-\t\tOptional<AnnotatedElement> element = context.getElement();\n-\t\tOptional<Disabled> disabled = findAnnotation(element, Disabled.class);\n-\t\tif (disabled.isPresent()) {\n-\t\t\tString reason = disabled.map(Disabled::value).filter(StringUtils::isNotBlank).orElseGet(\n-\t\t\t\t() -> element.get() + \" is @Disabled\");\n-\t\t\treturn ConditionEvaluationResult.disabled(reason);\n-\t\t}\n-\n-\t\treturn ENABLED;\n+\t\tAnnotatedElement element = context.getElement().orElse(null);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "83fb22c7aab91eb8954e792054956ba66b9afe0d"}, "originalPosition": 13}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "83fb22c7aab91eb8954e792054956ba66b9afe0d", "author": {"user": {"login": "yorlov", "name": "Yuri Orlov"}}, "url": "https://github.com/junit-team/junit5/commit/83fb22c7aab91eb8954e792054956ba66b9afe0d", "committedDate": "2020-10-29T06:39:19Z", "message": "More straightforward usage of Optional"}, "afterCommit": {"oid": "00d9413c08a1f007090206f8b384a3adc8ade372", "author": {"user": {"login": "yorlov", "name": "Yuri Orlov"}}, "url": "https://github.com/junit-team/junit5/commit/00d9413c08a1f007090206f8b384a3adc8ade372", "committedDate": "2020-11-09T09:57:15Z", "message": "More straightforward usage of Optional"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "00d9413c08a1f007090206f8b384a3adc8ade372", "author": {"user": {"login": "yorlov", "name": "Yuri Orlov"}}, "url": "https://github.com/junit-team/junit5/commit/00d9413c08a1f007090206f8b384a3adc8ade372", "committedDate": "2020-11-09T09:57:15Z", "message": "More straightforward usage of Optional"}, "afterCommit": {"oid": "ad4729377df63e6d58449ad1929ff02b85c591d4", "author": {"user": {"login": "yorlov", "name": "Yuri Orlov"}}, "url": "https://github.com/junit-team/junit5/commit/ad4729377df63e6d58449ad1929ff02b85c591d4", "committedDate": "2020-11-09T10:10:28Z", "message": "More straightforward usage of Optional"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ad4729377df63e6d58449ad1929ff02b85c591d4", "author": {"user": {"login": "yorlov", "name": "Yuri Orlov"}}, "url": "https://github.com/junit-team/junit5/commit/ad4729377df63e6d58449ad1929ff02b85c591d4", "committedDate": "2020-11-09T10:10:28Z", "message": "More straightforward usage of Optional"}, "afterCommit": {"oid": "5597d0eae8ee7303bcff8231416a142b6ec21947", "author": {"user": {"login": "yorlov", "name": "Yuri Orlov"}}, "url": "https://github.com/junit-team/junit5/commit/5597d0eae8ee7303bcff8231416a142b6ec21947", "committedDate": "2020-11-12T07:43:55Z", "message": "More straightforward usage of Optional"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5597d0eae8ee7303bcff8231416a142b6ec21947", "author": {"user": {"login": "yorlov", "name": "Yuri Orlov"}}, "url": "https://github.com/junit-team/junit5/commit/5597d0eae8ee7303bcff8231416a142b6ec21947", "committedDate": "2020-11-12T07:43:55Z", "message": "More straightforward usage of Optional"}, "afterCommit": {"oid": "49851e8c90f252f0f60ccf4763d3ef092996be61", "author": {"user": {"login": "yorlov", "name": "Yuri Orlov"}}, "url": "https://github.com/junit-team/junit5/commit/49851e8c90f252f0f60ccf4763d3ef092996be61", "committedDate": "2020-11-26T15:26:54Z", "message": "More straightforward usage of Optional"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "031889d0a2a344384f1b846c1f806ce54cf4ef2d", "author": {"user": {"login": "yorlov", "name": "Yuri Orlov"}}, "url": "https://github.com/junit-team/junit5/commit/031889d0a2a344384f1b846c1f806ce54cf4ef2d", "committedDate": "2020-11-26T15:46:51Z", "message": "More straightforward usage of Optional"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "49851e8c90f252f0f60ccf4763d3ef092996be61", "author": {"user": {"login": "yorlov", "name": "Yuri Orlov"}}, "url": "https://github.com/junit-team/junit5/commit/49851e8c90f252f0f60ccf4763d3ef092996be61", "committedDate": "2020-11-26T15:26:54Z", "message": "More straightforward usage of Optional"}, "afterCommit": {"oid": "031889d0a2a344384f1b846c1f806ce54cf4ef2d", "author": {"user": {"login": "yorlov", "name": "Yuri Orlov"}}, "url": "https://github.com/junit-team/junit5/commit/031889d0a2a344384f1b846c1f806ce54cf4ef2d", "committedDate": "2020-11-26T15:46:51Z", "message": "More straightforward usage of Optional"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ2NDAxMDI4", "url": "https://github.com/junit-team/junit5/pull/2467#pullrequestreview-546401028", "createdAt": "2020-12-07T18:02:57Z", "commit": {"oid": "031889d0a2a344384f1b846c1f806ce54cf4ef2d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3641, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}