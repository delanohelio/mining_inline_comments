{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk4MTIzOTI3", "number": 2236, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNFQwODozMDozM1rODuq2TQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNFQxMjoxNDoxN1rODur3hQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUwMjYzMTE3OnYy", "diffSide": "RIGHT", "path": "buildSrc/src/main/kotlin/ProjectExtensions.kt", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNFQwODozMDozM1rOGAwNZw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNFQwODozMDozM1rOGAwNZw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzQ0MzA0Nw==", "bodyText": "This will create this object every time this extension function is called. My version would only create it once.", "url": "https://github.com/junit-team/junit5/pull/2236#discussion_r403443047", "createdAt": "2020-04-04T08:30:33Z", "author": {"login": "marcphilipp"}, "path": "buildSrc/src/main/kotlin/ProjectExtensions.kt", "diffHunk": "@@ -1,14 +1,14 @@\n import org.gradle.api.Project\n import org.gradle.kotlin.dsl.extra\n+import org.gradle.kotlin.dsl.invoke\n \n val Project.javaModuleName: String\n     get() = \"org.\" + this.name.replace('-', '.')\n \n val Project.versions: Versions\n     get() {\n-        val extra = rootProject.extra\n-        if (!extra.has(\"versions\")) {\n-            extra.set(\"versions\", Versions(rootProject))\n+        val versions: Versions by rootProject.extra {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a35b8e6546102afabd9f0dc299f164b36e3e8fa5"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUwMjY4MDU0OnYy", "diffSide": "RIGHT", "path": "buildSrc/src/main/kotlin/ProjectExtensions.kt", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNFQwOTozNjo0NlrOGAwkzA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNFQwOTozNjo0NlrOGAwkzA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzQ0OTAzNg==", "bodyText": "Nice! I wasn't aware setting the delegate would store it in extra properties. Now that I think about it that makes perfect sense. \ud83d\udc4d", "url": "https://github.com/junit-team/junit5/pull/2236#discussion_r403449036", "createdAt": "2020-04-04T09:36:46Z", "author": {"login": "marcphilipp"}, "path": "buildSrc/src/main/kotlin/ProjectExtensions.kt", "diffHunk": "@@ -1,4 +1,12 @@\n import org.gradle.api.Project\n+import org.gradle.kotlin.dsl.extra\n+import org.gradle.kotlin.dsl.provideDelegate\n \n val Project.javaModuleName: String\n     get() = \"org.\" + this.name.replace('-', '.')\n+\n+val Project.versions: Versions\n+    get() {\n+        var versions: Versions? by rootProject.extra\n+        return versions ?: Versions(rootProject).also { versions = it }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "75e3f8b2721885c5ca99febcb673de8dd5fae12e"}, "originalPosition": 11}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUwMjc5ODEzOnYy", "diffSide": "RIGHT", "path": "platform-tooling-support-tests/platform-tooling-support-tests.gradle.kts", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNFQxMjoxNDoxN1rOGAxclg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNFQxNTo1MToyNlrOGAywpg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzQ2MzMxOA==", "bodyText": "Shouldn't all 4 lines follow the versions[\"assertj\"] pattern?", "url": "https://github.com/junit-team/junit5/pull/2236#discussion_r403463318", "createdAt": "2020-04-04T12:14:17Z", "author": {"login": "sormuras"}, "path": "platform-tooling-support-tests/platform-tooling-support-tests.gradle.kts", "diffHunk": "@@ -69,10 +69,10 @@ tasks.test {\n \t\t// systemProperty(\"junit.jupiter.execution.parallel.enabled\", \"true\")\n \n \t\t// Pass version constants (declared in Versions.kt) to tests as system properties\n-\t\tsystemProperty(\"Versions.apiGuardian\", Versions.apiGuardian)\n-\t\tsystemProperty(\"Versions.assertJ\", Versions.assertJ)\n-\t\tsystemProperty(\"Versions.junit4\", Versions.junit4)\n-\t\tsystemProperty(\"Versions.ota4j\", Versions.ota4j)\n+\t\tsystemProperty(\"Versions.apiGuardian\", versions.apiguardian)\n+\t\tsystemProperty(\"Versions.assertJ\", versions[\"assertj\"])\n+\t\tsystemProperty(\"Versions.junit4\", versions.junit4)\n+\t\tsystemProperty(\"Versions.ota4j\", versions.opentest4j)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fb01298c260a3b18e34ae17ae2f31bbe63b70b7f"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzQ2ODk5Nw==", "bodyText": "See rationale in #2236 (comment). But I can roll that last commit back if the rest of the team feels strongly about it.", "url": "https://github.com/junit-team/junit5/pull/2236#discussion_r403468997", "createdAt": "2020-04-04T13:15:30Z", "author": {"login": "marcphilipp"}, "path": "platform-tooling-support-tests/platform-tooling-support-tests.gradle.kts", "diffHunk": "@@ -69,10 +69,10 @@ tasks.test {\n \t\t// systemProperty(\"junit.jupiter.execution.parallel.enabled\", \"true\")\n \n \t\t// Pass version constants (declared in Versions.kt) to tests as system properties\n-\t\tsystemProperty(\"Versions.apiGuardian\", Versions.apiGuardian)\n-\t\tsystemProperty(\"Versions.assertJ\", Versions.assertJ)\n-\t\tsystemProperty(\"Versions.junit4\", Versions.junit4)\n-\t\tsystemProperty(\"Versions.ota4j\", Versions.ota4j)\n+\t\tsystemProperty(\"Versions.apiGuardian\", versions.apiguardian)\n+\t\tsystemProperty(\"Versions.assertJ\", versions[\"assertj\"])\n+\t\tsystemProperty(\"Versions.junit4\", versions.junit4)\n+\t\tsystemProperty(\"Versions.ota4j\", versions.opentest4j)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzQ2MzMxOA=="}, "originalCommit": {"oid": "fb01298c260a3b18e34ae17ae2f31bbe63b70b7f"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzQ4NDgzOA==", "bodyText": "Understood. Let's keep them as they are for the time being.", "url": "https://github.com/junit-team/junit5/pull/2236#discussion_r403484838", "createdAt": "2020-04-04T15:51:26Z", "author": {"login": "sormuras"}, "path": "platform-tooling-support-tests/platform-tooling-support-tests.gradle.kts", "diffHunk": "@@ -69,10 +69,10 @@ tasks.test {\n \t\t// systemProperty(\"junit.jupiter.execution.parallel.enabled\", \"true\")\n \n \t\t// Pass version constants (declared in Versions.kt) to tests as system properties\n-\t\tsystemProperty(\"Versions.apiGuardian\", Versions.apiGuardian)\n-\t\tsystemProperty(\"Versions.assertJ\", Versions.assertJ)\n-\t\tsystemProperty(\"Versions.junit4\", Versions.junit4)\n-\t\tsystemProperty(\"Versions.ota4j\", Versions.ota4j)\n+\t\tsystemProperty(\"Versions.apiGuardian\", versions.apiguardian)\n+\t\tsystemProperty(\"Versions.assertJ\", versions[\"assertj\"])\n+\t\tsystemProperty(\"Versions.junit4\", versions.junit4)\n+\t\tsystemProperty(\"Versions.ota4j\", versions.opentest4j)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzQ2MzMxOA=="}, "originalCommit": {"oid": "fb01298c260a3b18e34ae17ae2f31bbe63b70b7f"}, "originalPosition": 20}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3990, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}