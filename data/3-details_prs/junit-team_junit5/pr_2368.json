{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDYxMjI1NTI2", "number": 2368, "title": "Emit entire non-matching lines", "bodyText": "Overview\nPrior to this PR, a small number (42) of lines were always included in the error message string of assertLinesMatch. This arbitrary number of lines did not always contain the lines that did not match. This PR removes the constant number and always emits the two non-matching lines entirely.\nThe staged matching logic is still working in a \"fail-fast mode\". The first non-mathing line pair is reported. Subsequent lines are not processed.\nCloses #2233\n\nI hereby agree to the terms of the JUnit Contributor License Agreement.\n\nDefinition of Done\n\n There are no TODOs left in the code\n Method preconditions are checked and documented in the method's Javadoc\n Coding conventions (e.g. for logging) have been followed\n Change is covered by automated tests including corner cases, errors, and exception handling\n Public API has Javadoc and @API annotations\n Change is documented in the User Guide and Release Notes\n All continuous integration builds pass", "createdAt": "2020-08-01T16:10:22Z", "url": "https://github.com/junit-team/junit5/pull/2368", "merged": true, "mergeCommit": {"oid": "7457e49d8efd0c7f2671fee44120cf269b9c92d2"}, "closed": true, "closedAt": "2020-08-02T08:28:48Z", "author": {"login": "sormuras"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc6ovIFAH2gAyNDYxMjI1NTI2OjI3YWJlNDg4YzY5NTk1Y2VhZWUwNjc1NTUyM2QxMTY0OGRjZmE4ZGI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc65CjYAFqTQ1OTYzMDIwNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "27abe488c69595ceaee06755523d11648dcfa8db", "author": {"user": {"login": "sormuras", "name": "Christian Stein"}}, "url": "https://github.com/junit-team/junit5/commit/27abe488c69595ceaee06755523d11648dcfa8db", "committedDate": "2020-08-01T13:21:22Z", "message": "Move match logic into a dedicated class\n\nIssue #2233"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c9532d27dfd87b33dfb96cce5d12eb0876e217fa", "author": {"user": {"login": "sormuras", "name": "Christian Stein"}}, "url": "https://github.com/junit-team/junit5/commit/c9532d27dfd87b33dfb96cce5d12eb0876e217fa", "committedDate": "2020-08-01T16:07:38Z", "message": "More descriptive error message if lines don't match\n\nPrior to this commit, a small number (42) of lines\nwere always included in the error message string.\nThis arbitrary number of lines did not always contain\nthe lines that did not match.\nThis commit removes the constant number and always\nemits the two non-matching lines entirely.\n\nAddresses part of #2233"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU5NjMwMjA1", "url": "https://github.com/junit-team/junit5/pull/2368#pullrequestreview-459630205", "createdAt": "2020-08-02T08:17:37Z", "commit": {"oid": "c9532d27dfd87b33dfb96cce5d12eb0876e217fa"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wMlQwODoxNzozN1rOG6jQiQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wMlQwODoxNzozN1rOG6jQiQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDA0ODI2NQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\t\t\tfail(\"expected line #%d doesn't match actual line #%d%n\" + \"\\texpected: `%s`%n\" + \"\\t  actual: `%s`\",\n          \n          \n            \n            \t\t\t\tfail(\"expected line #%d doesn't match actual line #%d%n\\texpected: `%s`%n\\t  actual: `%s`\",", "url": "https://github.com/junit-team/junit5/pull/2368#discussion_r464048265", "createdAt": "2020-08-02T08:17:37Z", "author": {"login": "marcphilipp"}, "path": "junit-jupiter-api/src/main/java/org/junit/jupiter/api/AssertLinesMatch.java", "diffHunk": "@@ -173,7 +171,9 @@ void assertLinesMatchWithFastForward() {\n \t\t\t\t\t}\n \t\t\t\t}\n \n-\t\t\t\tfail(\"expected line #%d:`%s` doesn't match\", expectedLineNumber, snippet(expectedLine));\n+\t\t\t\tint actualLineNumber = actualLines.size() - actualDeque.size() + 1; // 1-based line number\n+\t\t\t\tfail(\"expected line #%d doesn't match actual line #%d%n\" + \"\\texpected: `%s`%n\" + \"\\t  actual: `%s`\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c9532d27dfd87b33dfb96cce5d12eb0876e217fa"}, "originalPosition": 22}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3596, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}