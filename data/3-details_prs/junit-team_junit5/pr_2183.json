{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc1NDQ5NDQ2", "number": 2183, "title": "Add config parameter for deactivating auto-registered listeners", "bodyText": "Overview\n\nAdd conditional property to be able to deactivate listeners being registered from ServiceLoader\nUpdate conditions deactivate to support csv configs\n\nSee #2181\n\nI hereby agree to the terms of the JUnit Contributor License Agreement.\n\nDefinition of Done\n\n There are no TODOs left in the code\n Method preconditions are checked and documented in the method's Javadoc\n Coding conventions (e.g. for logging) have been followed\n Change is covered by automated tests including corner cases, errors, and exception handling\n Public API has Javadoc and @API annotations\n Change is documented in the User Guide and Release Notes\n All continuous integration builds pass", "createdAt": "2020-02-14T15:42:37Z", "url": "https://github.com/junit-team/junit5/pull/2183", "merged": true, "mergeCommit": {"oid": "08e5e7f3f45d1e78dc3e57b9e0b4cd54c27d8d08"}, "closed": true, "closedAt": "2020-03-29T10:37:59Z", "author": {"login": "nishantvas"}, "timelineItems": {"totalCount": 15, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcERbNSgH2gAyMzc1NDQ5NDQ2OjFhNTM1Mzk1YWIzNGM2MzZhMzJjZGE1N2JkMThjNTcwNjQwNTIyNWM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcSWM2cAH2gAyMzc1NDQ5NDQ2OjZkMjY0NjdlMDQ0OTUwZjdiY2U4YjA2NWJjYmM2ZTk5NDU0Mjk3MGY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "1a535395ab34c636a32cda57bd18c5706405225c", "author": {"user": null}, "url": "https://github.com/junit-team/junit5/commit/1a535395ab34c636a32cda57bd18c5706405225c", "committedDate": "2020-02-14T15:39:53Z", "message": "#2181, Add conditional property to be able to deactivate listeners being registered from ServiceLoader\nUpdate conditions deactivate to support csv parameters"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fc7b4dcbd43d35ea394fb4bda40c3af4908a6aea", "author": {"user": null}, "url": "https://github.com/junit-team/junit5/commit/fc7b4dcbd43d35ea394fb4bda40c3af4908a6aea", "committedDate": "2020-02-14T15:54:34Z", "message": "Formatter spotlessApply"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3f3f3a4bb5086a2bd5b58bc674eadea52a16cccb", "author": {"user": null}, "url": "https://github.com/junit-team/junit5/commit/3f3f3a4bb5086a2bd5b58bc674eadea52a16cccb", "committedDate": "2020-02-14T16:14:16Z", "message": "Add @API annotation"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU5MTYwMTQ2", "url": "https://github.com/junit-team/junit5/pull/2183#pullrequestreview-359160146", "createdAt": "2020-02-14T19:12:46Z", "commit": {"oid": "3f3f3a4bb5086a2bd5b58bc674eadea52a16cccb"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xNFQxOToxMjo0NlrOFqA33w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xNFQxOToyNDoxOFrOFqBLRQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTU5ODgxNQ==", "bodyText": "\u2753 Why a Supplier?", "url": "https://github.com/junit-team/junit5/pull/2183#discussion_r379598815", "createdAt": "2020-02-14T19:12:46Z", "author": {"login": "marcphilipp"}, "path": "junit-platform-commons/src/main/java/org/junit/platform/commons/util/ClassNameFilterUtil.java", "diffHunk": "@@ -0,0 +1,89 @@\n+/*\n+ * Copyright 2015-2020 the original author or authors.\n+ *\n+ * All rights reserved. This program and the accompanying materials are\n+ * made available under the terms of the Eclipse Public License v2.0 which\n+ * accompanies this distribution and is available at\n+ *\n+ * https://www.eclipse.org/legal/epl-v20.html\n+ */\n+\n+package org.junit.platform.commons.util;\n+\n+import static org.apiguardian.api.API.Status.INTERNAL;\n+\n+import java.util.Arrays;\n+import java.util.Optional;\n+import java.util.function.Predicate;\n+import java.util.function.Supplier;\n+import java.util.regex.Matcher;\n+import java.util.regex.Pattern;\n+import java.util.stream.Collectors;\n+\n+import org.apiguardian.api.API;\n+\n+/**\n+ * Class-related predicate holder used by execution listener, execution condition predicates\n+ *\n+ * <h3>DISCLAIMER</h3>\n+ *\n+ * <p>These utilities are intended solely for usage within the JUnit framework\n+ * itself. <strong>Any usage by external parties is not supported.</strong>\n+ * Use at your own risk!\n+ *\n+ */\n+@API(status = INTERNAL, since = \"5.5\")\n+public class ClassNameFilterUtil {\n+\n+\tprivate ClassNameFilterUtil() {\n+\t\t/* no-op */\n+\t}\n+\tprivate static final Predicate<?> alwaysActivated = object -> true;\n+\tprivate static final Predicate<?> alwaysDeactivated = object -> false;\n+\n+\tpublic static final String DEACTIVATE_ALL_PATTERN = \"*\";\n+\tpublic static final String DEACTIVATE_CONDITIONS_PATTERN_PROPERTY_NAME = \"junit.jupiter.conditions.deactivate\";\n+\tpublic static final String DEACTIVATE_LISTENERS_PATTERN_PROPERTY_NAME = \"junit.platform.execution.listeners.deactivate\";\n+\n+\tpublic static Predicate<?> get(Supplier<Optional<String>> pattern) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3f3f3a4bb5086a2bd5b58bc674eadea52a16cccb"}, "originalPosition": 48}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTU5OTIwNA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            @API(status = INTERNAL, since = \"5.5\")\n          \n          \n            \n            @API(status = INTERNAL, since = \"5.7\")", "url": "https://github.com/junit-team/junit5/pull/2183#discussion_r379599204", "createdAt": "2020-02-14T19:13:41Z", "author": {"login": "marcphilipp"}, "path": "junit-platform-commons/src/main/java/org/junit/platform/commons/util/ClassNameFilterUtil.java", "diffHunk": "@@ -0,0 +1,89 @@\n+/*\n+ * Copyright 2015-2020 the original author or authors.\n+ *\n+ * All rights reserved. This program and the accompanying materials are\n+ * made available under the terms of the Eclipse Public License v2.0 which\n+ * accompanies this distribution and is available at\n+ *\n+ * https://www.eclipse.org/legal/epl-v20.html\n+ */\n+\n+package org.junit.platform.commons.util;\n+\n+import static org.apiguardian.api.API.Status.INTERNAL;\n+\n+import java.util.Arrays;\n+import java.util.Optional;\n+import java.util.function.Predicate;\n+import java.util.function.Supplier;\n+import java.util.regex.Matcher;\n+import java.util.regex.Pattern;\n+import java.util.stream.Collectors;\n+\n+import org.apiguardian.api.API;\n+\n+/**\n+ * Class-related predicate holder used by execution listener, execution condition predicates\n+ *\n+ * <h3>DISCLAIMER</h3>\n+ *\n+ * <p>These utilities are intended solely for usage within the JUnit framework\n+ * itself. <strong>Any usage by external parties is not supported.</strong>\n+ * Use at your own risk!\n+ *\n+ */\n+@API(status = INTERNAL, since = \"5.5\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3f3f3a4bb5086a2bd5b58bc674eadea52a16cccb"}, "originalPosition": 35}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTU5OTQ4Mw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n             *\n          \n          \n            \n             *\n          \n          \n            \n             * @since 5.7", "url": "https://github.com/junit-team/junit5/pull/2183#discussion_r379599483", "createdAt": "2020-02-14T19:14:17Z", "author": {"login": "marcphilipp"}, "path": "junit-platform-commons/src/main/java/org/junit/platform/commons/util/ClassNameFilterUtil.java", "diffHunk": "@@ -0,0 +1,89 @@\n+/*\n+ * Copyright 2015-2020 the original author or authors.\n+ *\n+ * All rights reserved. This program and the accompanying materials are\n+ * made available under the terms of the Eclipse Public License v2.0 which\n+ * accompanies this distribution and is available at\n+ *\n+ * https://www.eclipse.org/legal/epl-v20.html\n+ */\n+\n+package org.junit.platform.commons.util;\n+\n+import static org.apiguardian.api.API.Status.INTERNAL;\n+\n+import java.util.Arrays;\n+import java.util.Optional;\n+import java.util.function.Predicate;\n+import java.util.function.Supplier;\n+import java.util.regex.Matcher;\n+import java.util.regex.Pattern;\n+import java.util.stream.Collectors;\n+\n+import org.apiguardian.api.API;\n+\n+/**\n+ * Class-related predicate holder used by execution listener, execution condition predicates\n+ *\n+ * <h3>DISCLAIMER</h3>\n+ *\n+ * <p>These utilities are intended solely for usage within the JUnit framework\n+ * itself. <strong>Any usage by external parties is not supported.</strong>\n+ * Use at your own risk!\n+ *", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3f3f3a4bb5086a2bd5b58bc674eadea52a16cccb"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTYwMDIyNw==", "bodyText": "\u274c These two constants should be moved to junit-jupiter-engine and junit-platform-launcher, respectively.", "url": "https://github.com/junit-team/junit5/pull/2183#discussion_r379600227", "createdAt": "2020-02-14T19:15:59Z", "author": {"login": "marcphilipp"}, "path": "junit-platform-commons/src/main/java/org/junit/platform/commons/util/ClassNameFilterUtil.java", "diffHunk": "@@ -0,0 +1,89 @@\n+/*\n+ * Copyright 2015-2020 the original author or authors.\n+ *\n+ * All rights reserved. This program and the accompanying materials are\n+ * made available under the terms of the Eclipse Public License v2.0 which\n+ * accompanies this distribution and is available at\n+ *\n+ * https://www.eclipse.org/legal/epl-v20.html\n+ */\n+\n+package org.junit.platform.commons.util;\n+\n+import static org.apiguardian.api.API.Status.INTERNAL;\n+\n+import java.util.Arrays;\n+import java.util.Optional;\n+import java.util.function.Predicate;\n+import java.util.function.Supplier;\n+import java.util.regex.Matcher;\n+import java.util.regex.Pattern;\n+import java.util.stream.Collectors;\n+\n+import org.apiguardian.api.API;\n+\n+/**\n+ * Class-related predicate holder used by execution listener, execution condition predicates\n+ *\n+ * <h3>DISCLAIMER</h3>\n+ *\n+ * <p>These utilities are intended solely for usage within the JUnit framework\n+ * itself. <strong>Any usage by external parties is not supported.</strong>\n+ * Use at your own risk!\n+ *\n+ */\n+@API(status = INTERNAL, since = \"5.5\")\n+public class ClassNameFilterUtil {\n+\n+\tprivate ClassNameFilterUtil() {\n+\t\t/* no-op */\n+\t}\n+\tprivate static final Predicate<?> alwaysActivated = object -> true;\n+\tprivate static final Predicate<?> alwaysDeactivated = object -> false;\n+\n+\tpublic static final String DEACTIVATE_ALL_PATTERN = \"*\";\n+\tpublic static final String DEACTIVATE_CONDITIONS_PATTERN_PROPERTY_NAME = \"junit.jupiter.conditions.deactivate\";\n+\tpublic static final String DEACTIVATE_LISTENERS_PATTERN_PROPERTY_NAME = \"junit.platform.execution.listeners.deactivate\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3f3f3a4bb5086a2bd5b58bc674eadea52a16cccb"}, "originalPosition": 46}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTYwMTMxNA==", "bodyText": "\u274c Let's only support ,.", "url": "https://github.com/junit-team/junit5/pull/2183#discussion_r379601314", "createdAt": "2020-02-14T19:18:36Z", "author": {"login": "marcphilipp"}, "path": "junit-platform-commons/src/main/java/org/junit/platform/commons/util/ClassNameFilterUtil.java", "diffHunk": "@@ -0,0 +1,89 @@\n+/*\n+ * Copyright 2015-2020 the original author or authors.\n+ *\n+ * All rights reserved. This program and the accompanying materials are\n+ * made available under the terms of the Eclipse Public License v2.0 which\n+ * accompanies this distribution and is available at\n+ *\n+ * https://www.eclipse.org/legal/epl-v20.html\n+ */\n+\n+package org.junit.platform.commons.util;\n+\n+import static org.apiguardian.api.API.Status.INTERNAL;\n+\n+import java.util.Arrays;\n+import java.util.Optional;\n+import java.util.function.Predicate;\n+import java.util.function.Supplier;\n+import java.util.regex.Matcher;\n+import java.util.regex.Pattern;\n+import java.util.stream.Collectors;\n+\n+import org.apiguardian.api.API;\n+\n+/**\n+ * Class-related predicate holder used by execution listener, execution condition predicates\n+ *\n+ * <h3>DISCLAIMER</h3>\n+ *\n+ * <p>These utilities are intended solely for usage within the JUnit framework\n+ * itself. <strong>Any usage by external parties is not supported.</strong>\n+ * Use at your own risk!\n+ *\n+ */\n+@API(status = INTERNAL, since = \"5.5\")\n+public class ClassNameFilterUtil {\n+\n+\tprivate ClassNameFilterUtil() {\n+\t\t/* no-op */\n+\t}\n+\tprivate static final Predicate<?> alwaysActivated = object -> true;\n+\tprivate static final Predicate<?> alwaysDeactivated = object -> false;\n+\n+\tpublic static final String DEACTIVATE_ALL_PATTERN = \"*\";\n+\tpublic static final String DEACTIVATE_CONDITIONS_PATTERN_PROPERTY_NAME = \"junit.jupiter.conditions.deactivate\";\n+\tpublic static final String DEACTIVATE_LISTENERS_PATTERN_PROPERTY_NAME = \"junit.platform.execution.listeners.deactivate\";\n+\n+\tpublic static Predicate<?> get(Supplier<Optional<String>> pattern) {\n+\t// @formatter:off\n+    return pattern.get()\n+        .filter(StringUtils::isNotBlank)\n+        .map(String::trim)\n+        .map(patternString -> {\n+          if (DEACTIVATE_ALL_PATTERN.equals(patternString)) {\n+            return alwaysDeactivated;\n+          }\n+          return matchesRegex(patternString);\n+        })\n+        .orElse(alwaysActivated);\n+    // @formatter:on\n+\t}\n+\n+\tprivate static Predicate<?> matchesRegex(String patternString) {\n+\t\tPattern pattern = Pattern.compile(convertToRegEx(patternString));\n+\t\treturn object -> !pattern.matcher(object.getClass().getName()).matches();\n+\t}\n+\n+\tprivate static String convertToRegEx(String pattern) {\n+\t\tpattern = Matcher.quoteReplacement(pattern);\n+\t\t// Splitting CSV Separated Pattens\n+\t\tpattern = Arrays.stream(pattern.split(\"[,;]\")).map(ClassNameFilterUtil::replaceRegExElements).collect(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3f3f3a4bb5086a2bd5b58bc674eadea52a16cccb"}, "originalPosition": 71}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTYwMTU3MA==", "bodyText": "\u274c Please add tests for comma-separated patterns to ExecutionConditionTests.", "url": "https://github.com/junit-team/junit5/pull/2183#discussion_r379601570", "createdAt": "2020-02-14T19:19:11Z", "author": {"login": "marcphilipp"}, "path": "junit-jupiter-engine/src/main/java/org/junit/jupiter/engine/config/DefaultJupiterConfiguration.java", "diffHunk": "@@ -83,8 +84,8 @@ public Lifecycle getDefaultTestInstanceLifecycle() {\n \t@Override\n \t@SuppressWarnings(\"unchecked\")\n \tpublic Predicate<ExecutionCondition> getExecutionConditionFilter() {\n-\t\treturn (Predicate<ExecutionCondition>) new ClassNamePatternParameterConverter().get(configurationParameters,\n-\t\t\tDEACTIVATE_CONDITIONS_PATTERN_PROPERTY_NAME);\n+\t\treturn (Predicate<ExecutionCondition>) ClassNameFilterUtil.get(\n+\t\t\t() -> configurationParameters.get(DEACTIVATE_CONDITIONS_PATTERN_PROPERTY_NAME));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3f3f3a4bb5086a2bd5b58bc674eadea52a16cccb"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTYwMzI5Mw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\tassertThat(unused).isEmpty();\n          \n          \n            \n            \t\tassertThat(listeners).filteredOn(UnusedTestExecutionListener.class::isInstance).isEmpty();", "url": "https://github.com/junit-team/junit5/pull/2183#discussion_r379603293", "createdAt": "2020-02-14T19:23:11Z", "author": {"login": "marcphilipp"}, "path": "platform-tests/src/test/java/org/junit/platform/launcher/core/LauncherFactoryTests.java", "diffHunk": "@@ -48,6 +50,25 @@ void noopTestExecutionListenerIsLoadedViaServiceApi() {\n \t\tassertThat(listener).isPresent();\n \t}\n \n+\t@Test\n+\tvoid unusedTestExecutionListenerIsNotLoadedViaServiceApi() {\n+\t\tDefaultLauncher launcher = (DefaultLauncher) LauncherFactory.create();\n+\t\tList<TestExecutionListener> listeners = launcher.getTestExecutionListenerRegistry().getTestExecutionListeners();\n+\n+\t\tOptional<TestExecutionListener> noop = listeners.stream().filter(\n+\t\t\tNoopTestExecutionListener.class::isInstance).findFirst();\n+\n+\t\tOptional<TestExecutionListener> unused = listeners.stream().filter(\n+\t\t\tUnusedTestExecutionListener.class::isInstance).findFirst();\n+\n+\t\tOptional<TestExecutionListener> anotherUnused = listeners.stream().filter(\n+\t\t\tAnotherUnusedTestExecutionListener.class::isInstance).findFirst();\n+\n+\t\tassertThat(unused).isEmpty();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3f3f3a4bb5086a2bd5b58bc674eadea52a16cccb"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTYwMzc4MQ==", "bodyText": "\u2b55\ufe0f I think we should write a unit test for this class now. It should probably have existed earlier. \ud83d\ude09", "url": "https://github.com/junit-team/junit5/pull/2183#discussion_r379603781", "createdAt": "2020-02-14T19:24:18Z", "author": {"login": "marcphilipp"}, "path": "junit-platform-commons/src/main/java/org/junit/platform/commons/util/ClassNameFilterUtil.java", "diffHunk": "@@ -0,0 +1,89 @@\n+/*\n+ * Copyright 2015-2020 the original author or authors.\n+ *\n+ * All rights reserved. This program and the accompanying materials are\n+ * made available under the terms of the Eclipse Public License v2.0 which\n+ * accompanies this distribution and is available at\n+ *\n+ * https://www.eclipse.org/legal/epl-v20.html\n+ */\n+\n+package org.junit.platform.commons.util;\n+\n+import static org.apiguardian.api.API.Status.INTERNAL;\n+\n+import java.util.Arrays;\n+import java.util.Optional;\n+import java.util.function.Predicate;\n+import java.util.function.Supplier;\n+import java.util.regex.Matcher;\n+import java.util.regex.Pattern;\n+import java.util.stream.Collectors;\n+\n+import org.apiguardian.api.API;\n+\n+/**\n+ * Class-related predicate holder used by execution listener, execution condition predicates\n+ *\n+ * <h3>DISCLAIMER</h3>\n+ *\n+ * <p>These utilities are intended solely for usage within the JUnit framework\n+ * itself. <strong>Any usage by external parties is not supported.</strong>\n+ * Use at your own risk!\n+ *\n+ */\n+@API(status = INTERNAL, since = \"5.5\")\n+public class ClassNameFilterUtil {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3f3f3a4bb5086a2bd5b58bc674eadea52a16cccb"}, "originalPosition": 36}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c88906fe3067c24e8e3dcdc1fdd4a4027e401f58", "author": {"user": null}, "url": "https://github.com/junit-team/junit5/commit/c88906fe3067c24e8e3dcdc1fdd4a4027e401f58", "committedDate": "2020-02-17T11:28:03Z", "message": "Add Unittests for ClassNameFilterUtil, documentations, more review comments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4828b0236ac35db1d4f4078ae3d9e0f8ca59d2be", "author": {"user": null}, "url": "https://github.com/junit-team/junit5/commit/4828b0236ac35db1d4f4078ae3d9e0f8ca59d2be", "committedDate": "2020-02-17T11:31:02Z", "message": "@Since 5.7"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2fd50015337e3aa3d1d30cdb2eaf9842aa93a014", "author": {"user": null}, "url": "https://github.com/junit-team/junit5/commit/2fd50015337e3aa3d1d30cdb2eaf9842aa93a014", "committedDate": "2020-02-17T11:36:53Z", "message": "Format managed for parameterized test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "119d9c84936a8c3ca2c1d864b914e7f7f0d7ae55", "author": {"user": null}, "url": "https://github.com/junit-team/junit5/commit/119d9c84936a8c3ca2c1d864b914e7f7f0d7ae55", "committedDate": "2020-02-17T12:23:37Z", "message": "Merge branches '#2181' and 'master' of https://github.com/nishantvas/junit5 into #2181"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU5OTExODM4", "url": "https://github.com/junit-team/junit5/pull/2183#pullrequestreview-359911838", "createdAt": "2020-02-17T18:28:43Z", "commit": {"oid": "c88906fe3067c24e8e3dcdc1fdd4a4027e401f58"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xN1QxODoyODo0M1rOFqtC3Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xN1QxODozNToxOFrOFqtKHQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDMyMjUyNQ==", "bodyText": "The warning should go into the launcher-api-listeners-custom-deactivation section.", "url": "https://github.com/junit-team/junit5/pull/2183#discussion_r380322525", "createdAt": "2020-02-17T18:28:43Z", "author": {"login": "marcphilipp"}, "path": "documentation/src/docs/asciidoc/user-guide/running-tests.adoc", "diffHunk": "@@ -728,6 +728,43 @@ precedence over those supplied via system properties and the configuration file.\n Similarly, configuration parameters supplied via system properties take precedence over\n those supplied via the configuration file.\n \n+[[running-tests-config-params-deactivation-pattern]]\n+===== Deactivation Pattern Matching Syntax\n+\n+The following deactivation pattern style can be used to deactivate following\n+\n+- <<extensions-conditions-deactivation>>\n+- <<launcher-api-listeners-custom-deactivation>>\n+\n+If the pattern _configuration parameter_ consists solely of an asterisk\n+(`+*+`), all elements will be deactivated. Otherwise, the pattern will be used to match\n+against _comma separated_ fully qualified class name (_FQCN_) of each registered condition. Any dot\n+(`.`) in the pattern will match against a dot (`.`) or a dollar sign (`$`) in the FQCN.\n+Any asterisk (`+*+`) will match against one or more characters in the FQCN. All other\n+characters in the pattern will be matched one-to-one against the FQCN.\n+\n+Examples:\n+\n+The following will deactivate any `ExecutionCondition` and `TestExecutionListener` when provided as\n+their individual deactivation property as depicted in scope previously.\n+\n+- `+*+`: deactivates all registered implementation.\n+- `+org.junit.*+`: deactivates all registered implementations under the `org.junit` base\n+   package and any of its subpackages.\n+- `+*.MyCustom+`: deactivates every registered implementation whose simple class name is\n+  exactly `MyCustom`.\n+- `+*System*+`: deactivates every registered implementation whose simple class name contains\n+  `System`.\n+- `+*System*+, +*Unit*+`: deactivates every registered implementation whose simple class name\n+   contains `System` or `Unit`.\n+- `org.example.MyCustomImpl`: deactivates the registered implementation whose FQCN is exactly\n+  `org.example.MyCustomImpl`.\n+- `org.example.MyCustomImpl, org.example.TheirCustomImpl`: deactivates both the registered\n+   implementations whose FQCN is exactly `org.example.MyCustomImpl` and `org.example.TheirCustomImpl`.\n+\n+WARNING: TestExecutionListeners registered explicitly via LauncherDiscoveryRequest will not be\n+deactivated, refer to <<launcher-api-listeners-custom-deactivation>>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c88906fe3067c24e8e3dcdc1fdd4a4027e401f58"}, "originalPosition": 39}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDMyMjY4Mg==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            against _comma separated_ fully qualified class name (_FQCN_) of each registered condition. Any dot\n          \n          \n            \n            against _comma separated_ fully qualified class name (_FQCN_) of each candidate class. Any dot", "url": "https://github.com/junit-team/junit5/pull/2183#discussion_r380322682", "createdAt": "2020-02-17T18:29:16Z", "author": {"login": "marcphilipp"}, "path": "documentation/src/docs/asciidoc/user-guide/running-tests.adoc", "diffHunk": "@@ -728,6 +728,43 @@ precedence over those supplied via system properties and the configuration file.\n Similarly, configuration parameters supplied via system properties take precedence over\n those supplied via the configuration file.\n \n+[[running-tests-config-params-deactivation-pattern]]\n+===== Deactivation Pattern Matching Syntax\n+\n+The following deactivation pattern style can be used to deactivate following\n+\n+- <<extensions-conditions-deactivation>>\n+- <<launcher-api-listeners-custom-deactivation>>\n+\n+If the pattern _configuration parameter_ consists solely of an asterisk\n+(`+*+`), all elements will be deactivated. Otherwise, the pattern will be used to match\n+against _comma separated_ fully qualified class name (_FQCN_) of each registered condition. Any dot", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c88906fe3067c24e8e3dcdc1fdd4a4027e401f58"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDMyMzA1MA==", "bodyText": "I would omit this paragraph.", "url": "https://github.com/junit-team/junit5/pull/2183#discussion_r380323050", "createdAt": "2020-02-17T18:30:36Z", "author": {"login": "marcphilipp"}, "path": "documentation/src/docs/asciidoc/user-guide/running-tests.adoc", "diffHunk": "@@ -728,6 +728,43 @@ precedence over those supplied via system properties and the configuration file.\n Similarly, configuration parameters supplied via system properties take precedence over\n those supplied via the configuration file.\n \n+[[running-tests-config-params-deactivation-pattern]]\n+===== Deactivation Pattern Matching Syntax\n+\n+The following deactivation pattern style can be used to deactivate following\n+\n+- <<extensions-conditions-deactivation>>\n+- <<launcher-api-listeners-custom-deactivation>>\n+\n+If the pattern _configuration parameter_ consists solely of an asterisk\n+(`+*+`), all elements will be deactivated. Otherwise, the pattern will be used to match\n+against _comma separated_ fully qualified class name (_FQCN_) of each registered condition. Any dot\n+(`.`) in the pattern will match against a dot (`.`) or a dollar sign (`$`) in the FQCN.\n+Any asterisk (`+*+`) will match against one or more characters in the FQCN. All other\n+characters in the pattern will be matched one-to-one against the FQCN.\n+\n+Examples:\n+\n+The following will deactivate any `ExecutionCondition` and `TestExecutionListener` when provided as\n+their individual deactivation property as depicted in scope previously.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c88906fe3067c24e8e3dcdc1fdd4a4027e401f58"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDMyMzEzOA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            - `+*+`: deactivates all registered implementation.\n          \n          \n            \n            - `+*+`: matches all candidate classes.", "url": "https://github.com/junit-team/junit5/pull/2183#discussion_r380323138", "createdAt": "2020-02-17T18:30:55Z", "author": {"login": "marcphilipp"}, "path": "documentation/src/docs/asciidoc/user-guide/running-tests.adoc", "diffHunk": "@@ -728,6 +728,43 @@ precedence over those supplied via system properties and the configuration file.\n Similarly, configuration parameters supplied via system properties take precedence over\n those supplied via the configuration file.\n \n+[[running-tests-config-params-deactivation-pattern]]\n+===== Deactivation Pattern Matching Syntax\n+\n+The following deactivation pattern style can be used to deactivate following\n+\n+- <<extensions-conditions-deactivation>>\n+- <<launcher-api-listeners-custom-deactivation>>\n+\n+If the pattern _configuration parameter_ consists solely of an asterisk\n+(`+*+`), all elements will be deactivated. Otherwise, the pattern will be used to match\n+against _comma separated_ fully qualified class name (_FQCN_) of each registered condition. Any dot\n+(`.`) in the pattern will match against a dot (`.`) or a dollar sign (`$`) in the FQCN.\n+Any asterisk (`+*+`) will match against one or more characters in the FQCN. All other\n+characters in the pattern will be matched one-to-one against the FQCN.\n+\n+Examples:\n+\n+The following will deactivate any `ExecutionCondition` and `TestExecutionListener` when provided as\n+their individual deactivation property as depicted in scope previously.\n+\n+- `+*+`: deactivates all registered implementation.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c88906fe3067c24e8e3dcdc1fdd4a4027e401f58"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDMyMzIwMw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            - `+org.junit.*+`: deactivates all registered implementations under the `org.junit` base\n          \n          \n            \n            - `+org.junit.*+`: matches all candidate classes under the `org.junit` base\n          \n      \n    \n    \n  \n\netc. below", "url": "https://github.com/junit-team/junit5/pull/2183#discussion_r380323203", "createdAt": "2020-02-17T18:31:14Z", "author": {"login": "marcphilipp"}, "path": "documentation/src/docs/asciidoc/user-guide/running-tests.adoc", "diffHunk": "@@ -728,6 +728,43 @@ precedence over those supplied via system properties and the configuration file.\n Similarly, configuration parameters supplied via system properties take precedence over\n those supplied via the configuration file.\n \n+[[running-tests-config-params-deactivation-pattern]]\n+===== Deactivation Pattern Matching Syntax\n+\n+The following deactivation pattern style can be used to deactivate following\n+\n+- <<extensions-conditions-deactivation>>\n+- <<launcher-api-listeners-custom-deactivation>>\n+\n+If the pattern _configuration parameter_ consists solely of an asterisk\n+(`+*+`), all elements will be deactivated. Otherwise, the pattern will be used to match\n+against _comma separated_ fully qualified class name (_FQCN_) of each registered condition. Any dot\n+(`.`) in the pattern will match against a dot (`.`) or a dollar sign (`$`) in the FQCN.\n+Any asterisk (`+*+`) will match against one or more characters in the FQCN. All other\n+characters in the pattern will be matched one-to-one against the FQCN.\n+\n+Examples:\n+\n+The following will deactivate any `ExecutionCondition` and `TestExecutionListener` when provided as\n+their individual deactivation property as depicted in scope previously.\n+\n+- `+*+`: deactivates all registered implementation.\n+- `+org.junit.*+`: deactivates all registered implementations under the `org.junit` base", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c88906fe3067c24e8e3dcdc1fdd4a4027e401f58"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDMyMzc4OQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            ===== Deactivation Pattern Matching Syntax\n          \n          \n            \n            ==== Deactivation Pattern Matching Syntax", "url": "https://github.com/junit-team/junit5/pull/2183#discussion_r380323789", "createdAt": "2020-02-17T18:33:18Z", "author": {"login": "marcphilipp"}, "path": "documentation/src/docs/asciidoc/user-guide/running-tests.adoc", "diffHunk": "@@ -728,6 +728,43 @@ precedence over those supplied via system properties and the configuration file.\n Similarly, configuration parameters supplied via system properties take precedence over\n those supplied via the configuration file.\n \n+[[running-tests-config-params-deactivation-pattern]]\n+===== Deactivation Pattern Matching Syntax", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c88906fe3067c24e8e3dcdc1fdd4a4027e401f58"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDMyNDM4MQ==", "bodyText": "Sorry, this is probably a matter of taste but I'd rather see you reverting this formatting change.", "url": "https://github.com/junit-team/junit5/pull/2183#discussion_r380324381", "createdAt": "2020-02-17T18:35:18Z", "author": {"login": "marcphilipp"}, "path": "platform-tests/src/test/java/org/junit/platform/commons/util/ClassNameFilterUtilTests.java", "diffHunk": "@@ -41,103 +41,119 @@\n @TestInstance(Lifecycle.PER_CLASS)\n class ClassNameFilterUtilTests {\n \n+\t//@formatter:off", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2fd50015337e3aa3d1d30cdb2eaf9842aa93a014"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYwMTE5OTY4", "url": "https://github.com/junit-team/junit5/pull/2183#pullrequestreview-360119968", "createdAt": "2020-02-18T07:38:24Z", "commit": {"oid": "2fd50015337e3aa3d1d30cdb2eaf9842aa93a014"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOFQwNzozODoyNFrOFq33vw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOFQwNzozOTowOVrOFq342g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDQ5OTkwMw==", "bodyText": "Yes, please keep it's scope smaller. It should not extend beyond a method body.", "url": "https://github.com/junit-team/junit5/pull/2183#discussion_r380499903", "createdAt": "2020-02-18T07:38:24Z", "author": {"login": "marcphilipp"}, "path": "platform-tests/src/test/java/org/junit/platform/commons/util/ClassNameFilterUtilTests.java", "diffHunk": "@@ -41,103 +41,119 @@\n @TestInstance(Lifecycle.PER_CLASS)\n class ClassNameFilterUtilTests {\n \n+\t//@formatter:off", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDMyNDM4MQ=="}, "originalCommit": {"oid": "2fd50015337e3aa3d1d30cdb2eaf9842aa93a014"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDUwMDE4Ng==", "bodyText": "I'd rather use @ValueSource(strings = {}) for these tests.", "url": "https://github.com/junit-team/junit5/pull/2183#discussion_r380500186", "createdAt": "2020-02-18T07:39:09Z", "author": {"login": "marcphilipp"}, "path": "platform-tests/src/test/java/org/junit/platform/commons/util/ClassNameFilterUtilTests.java", "diffHunk": "@@ -0,0 +1,171 @@\n+/*\n+ * Copyright 2015-2020 the original author or authors.\n+ *\n+ * All rights reserved. This program and the accompanying materials are\n+ * made available under the terms of the Eclipse Public License v2.0 which\n+ * accompanies this distribution and is available at\n+ *\n+ * https://www.eclipse.org/legal/epl-v20.html\n+ */\n+\n+package org.junit.platform.commons.util;\n+\n+import static java.util.Arrays.asList;\n+import static org.assertj.core.api.Assertions.assertThat;\n+import static org.junit.jupiter.params.provider.Arguments.arguments;\n+\n+import java.util.List;\n+import java.util.function.Predicate;\n+import java.util.stream.Stream;\n+\n+import org.junit.jupiter.api.TestInstance;\n+import org.junit.jupiter.api.TestInstance.Lifecycle;\n+import org.junit.jupiter.api.extension.ExecutionCondition;\n+import org.junit.jupiter.params.ParameterizedTest;\n+import org.junit.jupiter.params.provider.Arguments;\n+import org.junit.jupiter.params.provider.MethodSource;\n+import org.junit.platform.commons.util.classes.AExecutionConditionClass;\n+import org.junit.platform.commons.util.classes.ATestExecutionListenerClass;\n+import org.junit.platform.commons.util.classes.AVanillaEmpty;\n+import org.junit.platform.commons.util.classes.BExecutionConditionClass;\n+import org.junit.platform.commons.util.classes.BTestExecutionListenerClass;\n+import org.junit.platform.commons.util.classes.BVanillaEmpty;\n+import org.junit.platform.launcher.TestExecutionListener;\n+\n+/**\n+ * Unit tests for {@link ClassNameFilterUtil}.\n+ *\n+ * @since 5.7\n+ */\n+@SuppressWarnings({ \"unchecked\", \"unused\" })\n+@TestInstance(Lifecycle.PER_CLASS)\n+class ClassNameFilterUtilTests {\n+\n+\t//@formatter:off\n+\tStream<Arguments> alwaysEnabledConditions() {\n+\t\treturn Stream.of(\n+\t\t\t\targuments(\"org.junit.jupiter.*\"),\n+\t\t\t\targuments(\"org.junit.platform.*.NonExistentClass\"),\n+\t\t\t\targuments(\"*.NonExistentClass*\"),\n+\t\t\t\targuments(\"*NonExistentClass*\"),\n+\t\t\t\targuments(\"AExecutionConditionClass, BExecutionConditionClass\"));\n+\t}\n+\n+\t@MethodSource", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2fd50015337e3aa3d1d30cdb2eaf9842aa93a014"}, "originalPosition": 54}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3b60e2277500ac4b455f0e0d407e0c3b38e6e09d", "author": {"user": null}, "url": "https://github.com/junit-team/junit5/commit/3b60e2277500ac4b455f0e0d407e0c3b38e6e09d", "committedDate": "2020-02-18T10:38:17Z", "message": "Update formatting for tests"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYwNTczMTcz", "url": "https://github.com/junit-team/junit5/pull/2183#pullrequestreview-360573173", "createdAt": "2020-02-18T18:31:00Z", "commit": {"oid": "3b60e2277500ac4b455f0e0d407e0c3b38e6e09d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "31739a2a5ed826caa4d66368dd379576547ffd96", "author": {"user": {"login": "marcphilipp", "name": "Marc Philipp"}}, "url": "https://github.com/junit-team/junit5/commit/31739a2a5ed826caa4d66368dd379576547ffd96", "committedDate": "2020-03-28T16:58:18Z", "message": "Polish contribution"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8be53541ed2d3d45e4486ece8eb48f43d0aaf56d", "author": {"user": {"login": "marcphilipp", "name": "Marc Philipp"}}, "url": "https://github.com/junit-team/junit5/commit/8be53541ed2d3d45e4486ece8eb48f43d0aaf56d", "committedDate": "2020-03-28T17:01:22Z", "message": "Document #2181 in release notes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6d26467e044950f7bce8b065bcbc6e994542970f", "author": {"user": {"login": "marcphilipp", "name": "Marc Philipp"}}, "url": "https://github.com/junit-team/junit5/commit/6d26467e044950f7bce8b065bcbc6e994542970f", "committedDate": "2020-03-29T09:08:40Z", "message": "More polishing"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3659, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}