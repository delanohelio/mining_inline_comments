{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk4MTIzOTI3", "number": 2236, "title": "Move versions to gradle.properties", "bodyText": "This reduces Gradle script recompilation, and it enables to specify\ndependency versions from the command line.\nfixes #2234\nOverview\n\n\nI hereby agree to the terms of the JUnit Contributor License Agreement.\n\nDefinition of Done\n\n There are no TODOs left in the code\n Method preconditions are checked and documented in the method's Javadoc\n Coding conventions (e.g. for logging) have been followed\n Change is covered by automated tests including corner cases, errors, and exception handling\n Public API has Javadoc and @API annotations\n Change is documented in the User Guide and Release Notes\n All continuous integration builds pass", "createdAt": "2020-04-03T11:40:53Z", "url": "https://github.com/junit-team/junit5/pull/2236", "merged": true, "mergeCommit": {"oid": "8b63b551443f83fdcac6329069b91ca27faf9a77"}, "closed": true, "closedAt": "2020-04-04T16:18:44Z", "author": {"login": "vlsi"}, "timelineItems": {"totalCount": 18, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcT_ybygH2gAyMzk4MTIzOTI3OjY3YmE4ZWZmMjAzYWNhZGY3ZDdiNzljZWExNThiY2QyYmUzN2E3ZGI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcUXlL2AFqTM4NzcxMDkzNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "67ba8eff203acadf7d7b79cea158bcd2be37a7db", "author": {"user": {"login": "vlsi", "name": "Vladimir Sitnikov"}}, "url": "https://github.com/junit-team/junit5/commit/67ba8eff203acadf7d7b79cea158bcd2be37a7db", "committedDate": "2020-04-03T12:09:45Z", "message": "Move versions to gradle.properties\n\nThis reduces Gradle script recompilation, and it enables to specify\ndependency versions from the command line.\n\nfixes #2234"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3cde09545f39a1534a2ef380e82e32e119899a52", "author": {"user": {"login": "vlsi", "name": "Vladimir Sitnikov"}}, "url": "https://github.com/junit-team/junit5/commit/3cde09545f39a1534a2ef380e82e32e119899a52", "committedDate": "2020-04-03T11:49:28Z", "message": "Add bnd"}, "afterCommit": {"oid": "67ba8eff203acadf7d7b79cea158bcd2be37a7db", "author": {"user": {"login": "vlsi", "name": "Vladimir Sitnikov"}}, "url": "https://github.com/junit-team/junit5/commit/67ba8eff203acadf7d7b79cea158bcd2be37a7db", "committedDate": "2020-04-03T12:09:45Z", "message": "Move versions to gradle.properties\n\nThis reduces Gradle script recompilation, and it enables to specify\ndependency versions from the command line.\n\nfixes #2234"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg3MzM2OTU4", "url": "https://github.com/junit-team/junit5/pull/2236#pullrequestreview-387336958", "createdAt": "2020-04-03T15:01:31Z", "commit": {"oid": "67ba8eff203acadf7d7b79cea158bcd2be37a7db"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cb6215909f3990980ba65ac23795cd8e217d63df", "author": {"user": {"login": "vlsi", "name": "Vladimir Sitnikov"}}, "url": "https://github.com/junit-team/junit5/commit/cb6215909f3990980ba65ac23795cd8e217d63df", "committedDate": "2020-04-03T15:10:53Z", "message": ".v -> .version"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a335766140c8d1cad29c3b6ca33c7c6d87f03153", "author": {"user": {"login": "vlsi", "name": "Vladimir Sitnikov"}}, "url": "https://github.com/junit-team/junit5/commit/a335766140c8d1cad29c3b6ca33c7c6d87f03153", "committedDate": "2020-04-03T15:18:02Z", "message": "Factor ${\"junit4Min\".version} -> $junit4Min for better readability"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4a1e0f1b4e408c0026a642c63b251110a7c38fd9", "author": {"user": {"login": "marcphilipp", "name": "Marc Philipp"}}, "url": "https://github.com/junit-team/junit5/commit/4a1e0f1b4e408c0026a642c63b251110a7c38fd9", "committedDate": "2020-04-03T19:40:11Z", "message": "Use properties instead of String extension"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a35b8e6546102afabd9f0dc299f164b36e3e8fa5", "author": {"user": {"login": "vlsi", "name": "Vladimir Sitnikov"}}, "url": "https://github.com/junit-team/junit5/commit/a35b8e6546102afabd9f0dc299f164b36e3e8fa5", "committedDate": "2020-04-04T08:22:56Z", "message": "style"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "96fae981a9c3abaabc92ef6e1ace153f5f017136", "author": {"user": {"login": "vlsi", "name": "Vladimir Sitnikov"}}, "url": "https://github.com/junit-team/junit5/commit/96fae981a9c3abaabc92ef6e1ace153f5f017136", "committedDate": "2020-04-04T08:28:13Z", "message": "style"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg3NjgwMDkx", "url": "https://github.com/junit-team/junit5/pull/2236#pullrequestreview-387680091", "createdAt": "2020-04-04T08:30:33Z", "commit": {"oid": "a35b8e6546102afabd9f0dc299f164b36e3e8fa5"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNFQwODozMDozM1rOGAwNZw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNFQwODozMDozM1rOGAwNZw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzQ0MzA0Nw==", "bodyText": "This will create this object every time this extension function is called. My version would only create it once.", "url": "https://github.com/junit-team/junit5/pull/2236#discussion_r403443047", "createdAt": "2020-04-04T08:30:33Z", "author": {"login": "marcphilipp"}, "path": "buildSrc/src/main/kotlin/ProjectExtensions.kt", "diffHunk": "@@ -1,14 +1,14 @@\n import org.gradle.api.Project\n import org.gradle.kotlin.dsl.extra\n+import org.gradle.kotlin.dsl.invoke\n \n val Project.javaModuleName: String\n     get() = \"org.\" + this.name.replace('-', '.')\n \n val Project.versions: Versions\n     get() {\n-        val extra = rootProject.extra\n-        if (!extra.has(\"versions\")) {\n-            extra.set(\"versions\", Versions(rootProject))\n+        val versions: Versions by rootProject.extra {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a35b8e6546102afabd9f0dc299f164b36e3e8fa5"}, "originalPosition": 13}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3d78fb46a85186c215fcade793786b96e69b48de", "author": {"user": {"login": "vlsi", "name": "Vladimir Sitnikov"}}, "url": "https://github.com/junit-team/junit5/commit/3d78fb46a85186c215fcade793786b96e69b48de", "committedDate": "2020-04-04T08:48:26Z", "message": "Save 50 or so instances of Versions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "75e3f8b2721885c5ca99febcb673de8dd5fae12e", "author": {"user": {"login": "vlsi", "name": "Vladimir Sitnikov"}}, "url": "https://github.com/junit-team/junit5/commit/75e3f8b2721885c5ca99febcb673de8dd5fae12e", "committedDate": "2020-04-04T08:50:50Z", "message": "style"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg3Njg0MjY5", "url": "https://github.com/junit-team/junit5/pull/2236#pullrequestreview-387684269", "createdAt": "2020-04-04T09:36:46Z", "commit": {"oid": "75e3f8b2721885c5ca99febcb673de8dd5fae12e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNFQwOTozNjo0NlrOGAwkzA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNFQwOTozNjo0NlrOGAwkzA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzQ0OTAzNg==", "bodyText": "Nice! I wasn't aware setting the delegate would store it in extra properties. Now that I think about it that makes perfect sense. \ud83d\udc4d", "url": "https://github.com/junit-team/junit5/pull/2236#discussion_r403449036", "createdAt": "2020-04-04T09:36:46Z", "author": {"login": "marcphilipp"}, "path": "buildSrc/src/main/kotlin/ProjectExtensions.kt", "diffHunk": "@@ -1,4 +1,12 @@\n import org.gradle.api.Project\n+import org.gradle.kotlin.dsl.extra\n+import org.gradle.kotlin.dsl.provideDelegate\n \n val Project.javaModuleName: String\n     get() = \"org.\" + this.name.replace('-', '.')\n+\n+val Project.versions: Versions\n+    get() {\n+        var versions: Versions? by rootProject.extra\n+        return versions ?: Versions(rootProject).also { versions = it }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "75e3f8b2721885c5ca99febcb673de8dd5fae12e"}, "originalPosition": 11}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8c9081318aa02db68c30a42edcab5a65350e1429", "author": {"user": {"login": "marcphilipp", "name": "Marc Philipp"}}, "url": "https://github.com/junit-team/junit5/commit/8c9081318aa02db68c30a42edcab5a65350e1429", "committedDate": "2020-04-04T09:49:17Z", "message": "Remove explicit version properties"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ed2ea0e132c5f53ba2750fd5647a6025494b46a3", "author": {"user": {"login": "marcphilipp", "name": "Marc Philipp"}}, "url": "https://github.com/junit-team/junit5/commit/ed2ea0e132c5f53ba2750fd5647a6025494b46a3", "committedDate": "2020-04-04T11:24:29Z", "message": "fixup! Remove explicit version properties"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fb01298c260a3b18e34ae17ae2f31bbe63b70b7f", "author": {"user": {"login": "marcphilipp", "name": "Marc Philipp"}}, "url": "https://github.com/junit-team/junit5/commit/fb01298c260a3b18e34ae17ae2f31bbe63b70b7f", "committedDate": "2020-04-04T11:37:28Z", "message": "Use properties for most commonly used versions"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg3NjkzMDM2", "url": "https://github.com/junit-team/junit5/pull/2236#pullrequestreview-387693036", "createdAt": "2020-04-04T11:55:36Z", "commit": {"oid": "fb01298c260a3b18e34ae17ae2f31bbe63b70b7f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg3Njk0MjY2", "url": "https://github.com/junit-team/junit5/pull/2236#pullrequestreview-387694266", "createdAt": "2020-04-04T12:14:16Z", "commit": {"oid": "fb01298c260a3b18e34ae17ae2f31bbe63b70b7f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNFQxMjoxNDoxN1rOGAxclg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNFQxMjoxNDoxN1rOGAxclg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzQ2MzMxOA==", "bodyText": "Shouldn't all 4 lines follow the versions[\"assertj\"] pattern?", "url": "https://github.com/junit-team/junit5/pull/2236#discussion_r403463318", "createdAt": "2020-04-04T12:14:17Z", "author": {"login": "sormuras"}, "path": "platform-tooling-support-tests/platform-tooling-support-tests.gradle.kts", "diffHunk": "@@ -69,10 +69,10 @@ tasks.test {\n \t\t// systemProperty(\"junit.jupiter.execution.parallel.enabled\", \"true\")\n \n \t\t// Pass version constants (declared in Versions.kt) to tests as system properties\n-\t\tsystemProperty(\"Versions.apiGuardian\", Versions.apiGuardian)\n-\t\tsystemProperty(\"Versions.assertJ\", Versions.assertJ)\n-\t\tsystemProperty(\"Versions.junit4\", Versions.junit4)\n-\t\tsystemProperty(\"Versions.ota4j\", Versions.ota4j)\n+\t\tsystemProperty(\"Versions.apiGuardian\", versions.apiguardian)\n+\t\tsystemProperty(\"Versions.assertJ\", versions[\"assertj\"])\n+\t\tsystemProperty(\"Versions.junit4\", versions.junit4)\n+\t\tsystemProperty(\"Versions.ota4j\", versions.opentest4j)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fb01298c260a3b18e34ae17ae2f31bbe63b70b7f"}, "originalPosition": 20}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg3NzEwOTM1", "url": "https://github.com/junit-team/junit5/pull/2236#pullrequestreview-387710935", "createdAt": "2020-04-04T15:53:01Z", "commit": {"oid": "fb01298c260a3b18e34ae17ae2f31bbe63b70b7f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3502, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}